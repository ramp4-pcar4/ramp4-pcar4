import{g as a,c as i}from"./main.efb50b2c.js";import"./preload-helper.387dac8f.js";window.debugInstance=null;let r={startingFixtures:["mapnav","legend","appbar","details","grid","wizard","export","basemap","layer-reorder"],configs:{en:{map:{extentSets:[{id:"EXT_NRCAN_Lambert_3978",default:{xmax:3549492,xmin:-2681457,ymax:3482193,ymin:-883440,spatialReference:{wkid:3978}}}],lodSets:[{id:"LOD_NRCAN_Lambert_3978",lods:a.defaultLODs(a.defaultTileSchemas()[0])}],tileSchemas:[{id:"EXT_NRCAN_Lambert_3978#LOD_NRCAN_Lambert_3978",name:"Lambert Maps",extentSetId:"EXT_NRCAN_Lambert_3978",lodSetId:"LOD_NRCAN_Lambert_3978",thumbnailTileUrls:["/tile/8/285/268","/tile/8/285/269"],hasNorthPole:!0}],basemaps:[{id:"baseNrCan",name:"Canada Base Map - Transportation (CBMT)",description:"The Canada Base Map - Transportation (CBMT) web mapping services of the Earth Sciences Sector at Natural Resources Canada, are intended primarily for online mapping application users and developers.",altText:"The Canada Base Map - Transportation (CBMT)",layers:[{id:"CBMT",layerType:"esri-tile",url:"https://maps-cartes.services.geo.ca/server2_serveur2/rest/services/BaseMaps/CBMT3978/MapServer"}],tileSchemaId:"EXT_NRCAN_Lambert_3978#LOD_NRCAN_Lambert_3978"},{id:"baseSimple",name:"Canada Base Map - Simple",description:"Canada Base Map - Simple",altText:"Canada base map - Simple",layers:[{id:"SMR",layerType:"esri-tile",url:"https://maps-cartes.services.geo.ca/server2_serveur2/rest/services/BaseMaps/Simple/MapServer"}],tileSchemaId:"EXT_NRCAN_Lambert_3978#LOD_NRCAN_Lambert_3978"},{id:"baseCBME_CBCE_HS_RO_3978",name:"Canada Base Map - Elevation (CBME)",description:"The Canada Base Map - Elevation (CBME) web mapping services of the Earth Sciences Sector at Natural Resources Canada, is intended primarily for online mapping application users and developers.",altText:"Canada Base Map - Elevation (CBME)",layers:[{id:"CBME_CBCE_HS_RO_3978",layerType:"esri-tile",url:"https://maps-cartes.services.geo.ca/server2_serveur2/rest/services/BaseMaps/CBME_CBCE_HS_RO_3978/MapServer"}],tileSchemaId:"EXT_NRCAN_Lambert_3978#LOD_NRCAN_Lambert_3978"},{id:"baseCBMT_CBCT_GEOM_3978",name:"Canada Base Map - Transportation (CBMT)",description:" The Canada Base Map - Transportation (CBMT) web mapping services of the Earth Sciences Sector at Natural Resources Canada, are intended primarily for online mapping application users and developers.",altText:"Canada Base Map - Transportation (CBMT)",layers:[{id:"CBMT_CBCT_GEOM_3978",layerType:"esri-tile",url:"https://maps-cartes.services.geo.ca/server2_serveur2/rest/services/BaseMaps/CBMT_CBCT_GEOM_3978/MapServer"}],tileSchemaId:"EXT_NRCAN_Lambert_3978#LOD_NRCAN_Lambert_3978"}],initialBasemapId:"baseNrCan"},layers:[{name:"Daily maximum temperature",state:{opacity:.85,visibility:!0,identify:!0,hovertips:!0},id:"DCS_tmax_ANN_rcp45_2081_en",url:"https://geo.weather.gc.ca/geomet-climate?SERVICE=WMS&VERSION=1.3.0",layerType:"ogc-wms",featureInfoMimeType:"application/json",sublayers:[{id:"DCS.TX.RCP45.YEAR.2081-2100_PCTL50"}],fixtures:{details:{template:"CCCS-Template"}}}],fixtures:{legend:{root:{children:[{layerId:"DCS_tmax_ANN_rcp45_2081_en"}]}},appbar:{items:["legend","basemap"]},mapnav:{items:["fullscreen","home"]},export:{title:{value:"CCCS WMS Sample"}},details:{panelWidth:{default:350,"details-items":400}}},panels:{open:[{id:"legend",pin:!0}]},system:{animate:!0}}}},l={loadDefaultFixtures:!1,loadDefaultEvents:!0};const s=i(document.getElementById("app"),r,l);s.$element.component("CCCS-Template",{props:["identifyData"],data(){return{result:{},parsed:!1,errord:!1,watchers:[]}},template:`
    <div v-if="this.parsed && !this.errord" style="width: 100%;">
        <div class="short-form" style="border-top: 1px dotted rgb(156 163 175); margin-left: -8px; margin-right: -8px; text-align: center; padding: 10px; background-color: #fafafa; font-size: 1.3em; line-height: 1.2em;">
            <p style="margin-bottom: 11.5px;"><span style="border-bottom: 2px #e9e9e9 solid;">{{this.result.tt.details[0]}}</span></p>
            <p style="font-size: 3em; color: #335075; font-weight: 700; line-height: 1em; margin-bottom: 11.5px;">
                {{ this.result.value
                }}{{this.result.tt.measurementUnit[this.result.variable]}}
            </p>
            <p style="margin-bottom: 11.5px;"><span>{{this.result.tt.details[1]}}</span></p>
            <p class="supporting-value" style="color: #335075; font-weight: 700; margin-bottom: 11.5px;">
                {{this.result.tt.timeSlider[this.result.timeSlice]}}
            </p>
            <p style="margin-bottom: 11.5px;"><span>{{this.result.tt.details[2]}}</span></p>
            <p class="supporting-value" style="color: #335075; font-weight: 700; margin-bottom: 11.5px;">
                {{ this.result.latlong[1].toFixed(6) }}, {{
                this.result.latlong[0].toFixed(6) }}
            </p>
        </div>
        <div class="long-form" style="border-top: 1px dotted rgb(156 163 175); margin-left: -8px; margin-right: -8px; padding: 10px;">
            <p class="details-row" style="display: flex; font-size: 1em; margin-bottom: 11.5px;">
                <span class="details-label" style="flex: 1;">{{this.result.tt.timePeriod.label}}:</span
                ><span class="details-value" style="font-weight: 700;"
                >{{this.result.tt.timePeriod[this.result.timePeriod]}}</span
                >
            </p>
            <p class="details-row" style="display: flex; font-size: 1em; margin-bottom: 11.5px;">
                <span class="details-label" style="flex: 1;">{{this.result.tt.variable.label}}:</span
                ><span class="details-value" style="font-weight: 700;"
                >{{this.result.tt.variable[this.result.variable]}}</span
                >
            </p>
            <p class="details-row" style="display: flex; font-size: 1em; margin-bottom: 11.5px;">
                <span class="details-label" style="flex: 1;">{{this.result.tt.rcp.label}}:</span
                ><span class="details-value" style="font-weight: 700;">{{this.result.tt.rcp[this.result.rcp]}}</span>
            </p>
        </div>
        <div class="long-form" style="border-top: 1px dotted rgb(156 163 175); margin-left: -8px; margin-right: -8px; padding: 10px;">
            <p style="margin-bottom: 11.5px;">{{this.result.tt.baseline}}</p>
            <a class="underline text-blue-600 hover:text-blue-800 visited:text-purple-600" :href="this.result.tt.learnMore.link" target="_blank" rel="noopener noreferrer"
                >{{ this.result.tt.learnMore.default }}</a
            >
        </div>
    </div>
    <div v-else-if="this.errord" style="width: 100%;">
        <p>{{ this.$iApi.language === 'en' ? "An error occurred when parsing the data." : "Une erreur s'est produite lors de l'analyse des donn\xE9es" }}</p>
    </div>
    `,async created(){if(!this.identifyData.data.data.features||this.identifyData.data.data.features.length===0){this.errord=!0,this.parsed=!0;return}this.parsed=!1,this.errord=!1,this.result={},this.result.variable="tmax",this.result.timeSlice=3,this.result.timePeriod="annual",this.result.rcp="rcp45";const e=this.identifyData.data.data.features[0].properties.value,t=parseFloat(e).toFixed(1);isNaN(t)?this.result.value=e:this.result.value=(t>=0?"+":"")+t,this.result.latlong=await this.$iApi.geo.proj.projectGeoJson(this.identifyData.data.data.features[0].geometry,3978,4326),this.result.latlong=this.result.latlong.coordinates,this.result.tt=this.getTranslations(),this.parsed=!0,this.watchers.push(this.$watch("lang",()=>{this.result.tt=this.getTranslations()}))},beforeUnmount(){this.watchers.forEach(e=>e())},computed:{lang(){return this.$iApi.language}},methods:{getTranslations(){return{en:{latlong:"Latitude, longitude",timePeriod:{label:"Time of year",annual:"Annual",spring:"Spring",summer:"Summer",fall:"Autumn",winter:"Winter"},variable:{label:"Variable",tmean:"Mean temperature",tmin:"Daily minimum temperature",tmax:"Daily maximum temperature",precip:"Total precipitation"},measurementUnit:{precip:"%",tmean:"\xB0C",tmin:"\xB0C",tmax:"\xB0C"},timeSlider:["2021-2040","2041-2060","2061-2080","2081-2100"],rcp:{label:"Emission scenario",rcp85:"High",rcp45:"Moderate",rcp26:"Low"},learnMore:{default:"Learn more about the Statistically downscaled climate data dataset.",link:"https://www.canada.ca/en/environment-climate-change/services/climate-change/canadian-centre-climate-services/display-download/technical-documentation-downscaled-climate-scenarios.html"},details:["Projected change of","by","at"],baseline:"The projected change is relative to the 1986-2005 average."},fr:{latlong:"Latitude, longitude",timePeriod:{label:"Temps de l'ann\xE9e",annual:"Annuel",spring:"Printemps",summer:"\xC9t\xE9",fall:"Automne",winter:"Hiver"},variable:{label:"Variable",tmean:"Temp\xE9rature moyenne",tmin:"Temp\xE9rature minimale quotidienne",tmax:"Temp\xE9rature maximale quotidienne",precip:"Pr\xE9cipitations totales"},measurementUnit:{precip:"%",tmean:"\xB0C",tmin:"\xB0C",tmax:"\xB0C"},timeSlider:["2021-2040","2041-2060","2061-2080","2081-2100"],rcp:{label:"Sc\xE9narios d'\xE9missions",rcp85:"\xC9lev\xE9es",rcp45:"Mod\xE9r\xE9es",rcp26:"Faibles"},learnMore:{default:"En savoir plus sur l\u2019ensemble de donn\xE9es Sc\xE9narios climatiques mis \xE0 l\u2019\xE9chelle de mani\xE8re statistique.",link:"https://www.canada.ca/fr/environnement-changement-climatique/services/changements-climatiques/centre-canadien-services-climatiques/afficher-telecharger/documentation-technique-scenarios-climatiques-echelle-reduite.html"},details:["Changement projet\xE9 de","par","\xE0"],baseline:"Les changements projet\xE9s sont relatives \xE0 la moyenne de 1986-2005."}}[this.$iApi.language]}}});window.debugInstance=s;
