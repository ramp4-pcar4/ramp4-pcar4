import{bR as D,V as b,n as k}from"./main-BFDurRCu.js";const O=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function d(t){return t instanceof k}function g(t){return t instanceof b?Object.keys(t.items):d(t)?D(t).keys():t?Object.keys(t):[]}function y(t,n){return t instanceof b?t.items[n]:t[n]}function P(t,n){return!(!Array.isArray(t)||!Array.isArray(n))&&t.length!==n.length}function c(t){return t?t.declaredClass:null}function V(t,n){const e=t.diff;if(e&&typeof e=="function")return e(t,n);const i=g(t),l=g(n);if(i.length===0&&l.length===0)return;if(!i.length||!l.length||P(t,n))return{type:"complete",oldValue:t,newValue:n};const a=l.filter(o=>!i.includes(o)),w=i.filter(o=>!l.includes(o)),m=i.filter(o=>l.includes(o)&&y(t,o)!==y(n,o)).concat(a,w).sort(),h=c(t);if(h&&O.has(h)&&m.length)return{type:"complete",oldValue:t,newValue:n};let p;const A=d(t)&&d(n);for(const o of m){const r=y(t,o),f=y(n,o);let u;if((A||typeof r!="function"&&typeof f!="function")&&r!==f&&(r!=null||f!=null)){if(e&&e[o]&&typeof e[o]=="function")u=e[o]?.(r,f);else if(r instanceof Date&&f instanceof Date){if(r.getTime()===f.getTime())continue;u={type:"complete",oldValue:r,newValue:f}}else u=typeof r=="object"&&typeof f=="object"&&c(r)===c(f)?V(r,f):{type:"complete",oldValue:r,newValue:f};u!=null&&(p!=null?p.diff[o]=u:p={type:"partial",diff:{[o]:u}})}}return p}function C(t,n){return j(t,n)}function j(t,n){if(t==null)return!1;const e=n.split(".");let i=t;for(const l of e){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{const a=i.diff[l];if(!a)return!1;i=a}}return!0}function S(t,n){if(!t)return!1;if(t.type==="partial"){const e=Object.keys(t.diff);return e.length===1&&e[0]===n}return!1}function T(t,n){if(typeof t!="function"&&typeof n!="function"&&(t!=null||n!=null))return t==null||n==null||typeof t=="object"&&typeof n=="object"&&c(t)!==c(n)?{type:"complete",oldValue:t,newValue:n}:V(t,n)}function s(t){if(t==null)return!0;switch(t.type){case"complete":return!1;case"collection":{const n=t;for(const e of n.added)if(!s(e))return!1;for(const e of n.removed)if(!s(e))return!1;for(const e of n.changed)if(!s(e))return!1;return!0}case"partial":for(const n in t.diff)if(!s(t.diff[n]))return!1;return!0}}export{S as a,s as d,j as p,C as s,T as y};
