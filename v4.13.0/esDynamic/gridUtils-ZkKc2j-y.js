import{cV as W,bL as h,J as m,c2 as y,a3 as M,al as w}from"./main-BFDurRCu.js";import{y as S,R as d}from"./geodesicUtils-DKS2UG72.js";import{M as q}from"./normalizeUtils-u00NGW3M.js";const V=50,j=5;function J(e,a){return Math.log(e)/Math.log(a)}function L(e,a,s){const n=e===1?10:e;return n**(s?Math.round(J(V/a,n)):0)}function x(e){const{isGeographic:a,isWebMercator:s}=e;return!a&&!s}function U(e,a,s){const n=typeof e=="number"?null:e,t=s??n?.spatialReference;if(t==null||!W(t)||x(t))return h(t);let o=n?.x??e,c=n?.y??a;const f=1/Math.sqrt(2);let i=o+f,l=c+f;const{isWebMercator:R,isGeographic:b}=t;let u=b&&!S(t)?m.WGS84:t;if(R){let r=new y({x:o,y:c,spatialReference:t});M(r,!0,r),o=r.x,c=r.y,r=new y({x:i,y:l,spatialReference:t}),M(r,!0,r),i=r.x,l=r.y,u=m.WGS84}const g=new w({paths:[[[o,c],[i,l]]],spatialReference:u}),G=q(g,10);let p;try{[p]=d([G],"meters")}catch{return h(t)}return p}export{x as f,L as l,j as t,U as u};
