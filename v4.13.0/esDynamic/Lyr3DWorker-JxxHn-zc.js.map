{"version":3,"file":"Lyr3DWorker-JxxHn-zc.js","sources":["../../node_modules/@arcgis/core/libs/lyr3d/Lyr3DModule.js","../../node_modules/@arcgis/core/views/3d/layers/Lyr3DWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as t}from\"../../assets.js\";function n(){return new Promise((t=>import(\"../../chunks/lyr3DMain.js\").then((t=>t.l)).then((({default:n})=>{const e=n({locateFile:i,onRuntimeInitialized:()=>t(e)})})))).catch((t=>{throw t}))}function e(){return new Promise((t=>import(\"../../chunks/lyr3DWorker.js\").then((t=>t.l)).then((({default:n})=>{const e=n({locateFile:i,onRuntimeInitialized:()=>t(e)})})))).catch((t=>{throw t}))}function i(n){return t(`esri/libs/lyr3d/${n}`)}export{n as loadLyr3DMainWASM,e as loadLyr3DWorkerWASM};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Lyr3DWasmWorkerOutputStatus as s}from\"../../../layers/ILyr3DWasmPerSceneView.js\";import{loadLyr3DWorkerWASM as t}from\"../../../libs/lyr3d/Lyr3DModule.js\";let e,r;async function n(t){await o();const e={status:s.Failed,error:\"\",jobDescJson:\"\",data:new Uint8Array(0),missingInputUrls:[]};if(t.inputs.length<1)return{result:e,transferList:[]};const n={ptrs:[],sizes:[]};for(const s of t.inputs){const t=r._malloc(s.byteLength);new Uint8Array(r.HEAPU8.buffer,t,s.byteLength).set(new Uint8Array(s)),n.ptrs.push(t),n.sizes.push(s.byteLength)}const i=r.process(t.jobDescJson,t.id,n,t.isMissingResourceCase);e.status=i.status,e.missingInputUrls=i.missingInputUrls.slice();const u=i.status===s.Succeeded&&i.data,l=e.status===s.MissingInputs&&e.missingInputUrls.length>0;e.jobDescJson=i.jobDescJson.slice(),e.error=i.error.slice(),u?e.data=i.data.slice():l&&(e.originalInputs=t.inputs.slice());for(let s=0;s<n.ptrs.length;++s)r._free(n.ptrs[s]);const a=[];if(u)a.push(e.data.buffer);else if(l)for(const s of t.inputs)a.push(s);return{result:e,transferList:a}}function i(){r&&(r.uninitialize_lyr3d_worker_wasm(),r=null)}function o(){return r?Promise.resolve():(e||(e=t().then((s=>{r=s,r.initialize_lyr3d_worker_wasm(),e=null}))),e)}export{i as destroyWasm,o as initialize,n as process};\n"],"names":["e","t","n","i","r","o","s","u","l"],"mappings":";;AAI8O,SAASA,IAAG;AAAC,SAAO,IAAI,QAAS,CAAAC,MAAG,OAAO,2BAA6B,EAAE,KAAM,OAAG,EAAE,CAAC,EAAG,KAAM,CAAC,EAAC,SAAQC,EAAC,MAAI;AAAC,UAAMF,IAAEE,EAAE,EAAC,YAAWC,GAAE,sBAAqB,MAAIF,EAAED,CAAC,EAAC,CAAC;AAAA,EAAC,EAAG,EAAG,MAAO,CAAAC,MAAG;AAAC,UAAMA;AAAA,EAAC;AAAG;AAAC,SAASE,EAAED,GAAE;AAAC,SAAOD,EAAE,mBAAmBC,CAAC,EAAE;AAAC;ACA7T,IAAIF,GAAEI;AAAE,eAAeF,EAAED,GAAE;AAAC,QAAMI,EAAC;AAAG,QAAML,IAAE,EAAC,QAAOM,EAAE,QAAO,OAAM,IAAG,aAAY,IAAG,MAAK,IAAI,WAAW,CAAC,GAAE,kBAAiB,CAAA,EAAE;AAAE,MAAGL,EAAE,OAAO,SAAO,EAAE,QAAM,EAAC,QAAOD,GAAE,cAAa,CAAA,EAAE;AAAE,QAAME,IAAE,EAAC,MAAK,CAAA,GAAG,OAAM,CAAA,EAAE;AAAE,aAAUI,KAAKL,EAAE,QAAO;AAAC,UAAMA,IAAEG,EAAE,QAAQE,EAAE,UAAU;AAAE,QAAI,WAAWF,EAAE,OAAO,QAAOH,GAAEK,EAAE,UAAU,EAAE,IAAI,IAAI,WAAWA,CAAC,CAAC,GAAEJ,EAAE,KAAK,KAAKD,CAAC,GAAEC,EAAE,MAAM,KAAKI,EAAE,UAAU;AAAA,EAAC;AAAC,QAAMH,IAAEC,EAAE,QAAQH,EAAE,aAAYA,EAAE,IAAGC,GAAED,EAAE,qBAAqB;AAAE,EAAAD,EAAE,SAAOG,EAAE,QAAOH,EAAE,mBAAiBG,EAAE,iBAAiB,MAAK;AAAG,QAAMI,IAAEJ,EAAE,WAASG,EAAE,aAAWH,EAAE,MAAKK,IAAER,EAAE,WAASM,EAAE,iBAAeN,EAAE,iBAAiB,SAAO;AAAE,EAAAA,EAAE,cAAYG,EAAE,YAAY,MAAK,GAAGH,EAAE,QAAMG,EAAE,MAAM,SAAQI,IAAEP,EAAE,OAAKG,EAAE,KAAK,UAAQK,MAAIR,EAAE,iBAAeC,EAAE,OAAO,MAAK;AAAI,WAAQK,IAAE,GAAEA,IAAEJ,EAAE,KAAK,QAAO,EAAEI,EAAE,CAAAF,EAAE,MAAMF,EAAE,KAAKI,CAAC,CAAC;AAAE,QAAM,IAAE,CAAA;AAAG,MAAGC,EAAE,GAAE,KAAKP,EAAE,KAAK,MAAM;AAAA,WAAUQ,EAAE,YAAUF,KAAKL,EAAE,OAAO,GAAE,KAAKK,CAAC;AAAE,SAAM,EAAC,QAAON,GAAE,cAAa,EAAC;AAAC;AAAC,SAASG,IAAG;AAAC,EAAAC,MAAIA,EAAE,+BAA8B,GAAGA,IAAE;AAAK;AAAC,SAASC,IAAG;AAAC,SAAOD,IAAE,QAAQ,aAAWJ,MAAIA,IAAEC,IAAI,KAAM,OAAG;AAAC,IAAAG,IAAE,GAAEA,EAAE,6BAA4B,GAAGJ,IAAE;AAAA,EAAI,CAAC,IAAIA;AAAE;","x_google_ignoreList":[0,1]}