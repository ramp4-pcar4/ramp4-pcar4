{"version":3,"file":"index-D0o7KJz6.js","sources":["../../node_modules/@esri/calcite-components/dist/components/calcite-loader/customElement.js"],"sourcesContent":["/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { html, nothing, svg } from \"lit\";\nimport { LitElement, setAttribute, safeClassMap, safeStyleMap } from \"@arcgis/lumina\";\nimport { g as guid } from \"../../chunks/guid.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst CSS = {\n  percentage: \"percentage\",\n  progressRing: \"ring--progress\",\n  ring: \"ring\",\n  rings: \"rings\",\n  text: \"text\",\n  trackRing: \"ring--track\"\n};\nconst styles = css`:host{position:relative;margin-inline:auto;display:flex;align-items:center;justify-content:center;opacity:1;flex-direction:column;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke-width:var(--calcite-internal-stroke-width);fill:none;transform:scale(1);padding-block:var(--calcite-loader-spacing, 4rem)}:host([scale=s]){--calcite-internal-stroke-width: 3;--calcite-internal-text-offset: var(--calcite-spacing-xxs);--calcite-internal-loader-font-size: var(--calcite-font-size--3);--calcite-internal-loader-size: 2rem;--calcite-internal-loader-size-inline: .75rem;--calcite-internal-loader-value-line-height: .625rem}:host([scale=m]){--calcite-internal-stroke-width: 6;--calcite-internal-text-offset: var(--calcite-spacing-sm);--calcite-internal-loader-font-size: var(--calcite-font-size-0);--calcite-internal-loader-size: 4rem;--calcite-internal-loader-size-inline: 1rem;--calcite-internal-loader-value-line-height: 1.375rem}:host([scale=l]){--calcite-internal-stroke-width: 8;--calcite-internal-text-offset: var(--calcite-spacing-md);--calcite-internal-loader-font-size: var(--calcite-font-size-2);--calcite-internal-loader-size: 6rem;--calcite-internal-loader-size-inline: 1.5rem;--calcite-internal-loader-value-line-height: 1.71875rem}.text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-start:var(--calcite-loader-text-spacing, var(--calcite-internal-text-offset));font-weight:var(--calcite-loader-text-weight, var(--calcite-font-weight-normal));color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.percentage{display:block;text-align:center;font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));line-height:var(--calcite-internal-loader-value-line-height);align-self:center;color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.rings{position:relative;display:flex;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring--track{stroke:var(--calcite-loader-track-color, var(--calcite-color-transparent-press))}.ring--progress{stroke:var(--calcite-loader-progress-color, var(--calcite-color-brand));transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([type=indeterminate]) .ring--progress{animation:loader-clockwise calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) linear infinite}:host([inline]){--calcite-internal-stroke-width: 2;position:relative;margin:0;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));min-block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));vertical-align:calc(var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline))) * -1 * .2)}:host([inline]) .rings{inset-block-start:0px;margin:0;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring{inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring--progress{stroke:var(--calcite-loader-progress-color-inline, currentColor)}:host([complete]){opacity:0;transform:scale(.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1s,transform var(--calcite-internal-animation-timing-medium) linear 1s}:host([complete]) .rings{opacity:0;transform:scale(.75);transform-origin:center;transition:opacity calc(.18s * var(--calcite-internal-duration-factor)) linear .8s,transform calc(.18s * var(--calcite-internal-duration-factor)) linear .8s}:host([complete]) .percentage{color:var(--calcite-color-brand);transform:scale(1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear,transform var(--calcite-internal-animation-timing-medium) linear}@keyframes loader-clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}`;\nclass Loader extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.messages = useT9n({ name: null });\n    this.complete = false;\n    this.inline = false;\n    this.scale = \"m\";\n    this.text = \"\";\n    this.type = \"indeterminate\";\n    this.value = 0;\n  }\n  static {\n    this.properties = { complete: [7, {}, { reflect: true, type: Boolean }], inline: [7, {}, { reflect: true, type: Boolean }], label: 1, scale: [3, {}, { reflect: true }], text: 1, type: [3, {}, { reflect: true }], value: [9, {}, { type: Number }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.updateFormatter();\n  }\n  load() {\n    requestAnimationFrame(() => this.valueChangeHandler());\n  }\n  willUpdate(changes) {\n    if (changes.has(\"value\") && (this.hasUpdated || this.value !== 0)) {\n      this.valueChangeHandler();\n    }\n    if (changes.has(\"type\") && (this.hasUpdated || this.type !== \"indeterminate\") || changes.has(\"messages\")) {\n      this.updateFormatter();\n    }\n  }\n  valueChangeHandler() {\n    this.complete = this.type.startsWith(\"determinate\") && this.value === 100;\n  }\n  formatValue() {\n    if (this.type !== \"determinate-value\") {\n      return `${this.value}`;\n    }\n    return this.formatter.format(this.value / 100);\n  }\n  getSize(scale) {\n    return {\n      s: 32,\n      m: 64,\n      l: 96\n    }[scale];\n  }\n  getInlineSize(scale) {\n    return {\n      s: 12,\n      m: 16,\n      l: 24\n    }[scale];\n  }\n  updateFormatter() {\n    if (this.type !== \"determinate-value\" || this.formatter?.resolvedOptions().locale === this.messages._lang) {\n      return;\n    }\n    this.formatter = new Intl.NumberFormat(this.messages._lang, {\n      style: \"percent\"\n    });\n  }\n  render() {\n    const { el, inline, label, text, type, value } = this;\n    const id = el.id || guid();\n    const isDeterminate = type !== \"indeterminate\";\n    const valueNow = Math.floor(value);\n    this.el.ariaLabel = label;\n    this.el.ariaValueMax = isDeterminate ? \"100\" : void 0;\n    this.el.ariaValueMin = isDeterminate ? \"0\" : void 0;\n    this.el.ariaValueNow = isDeterminate ? valueNow.toString() : void 0;\n    setAttribute(this.el, \"id\", id);\n    this.el.role = \"progressbar\";\n    return html`<div class=${safeClassMap(CSS.rings)}>${this.renderRing(\"track\")}${this.renderRing(\"progress\")}${!inline && isDeterminate && html`<div class=${safeClassMap(CSS.percentage)}>${this.formatValue()}</div>` || \"\"}</div>${!inline && text && html`<div class=${safeClassMap(CSS.text)}>${text}</div>` || \"\"}`;\n  }\n  renderRing(type) {\n    const { inline, scale, value } = this;\n    const size = inline ? this.getInlineSize(scale) : this.getSize(scale);\n    const radiusRatio = 0.45;\n    const radius = size * radiusRatio;\n    let style;\n    if (type === \"progress\") {\n      const circumference = 2 * radius * Math.PI;\n      const progress = (this.type.startsWith(\"determinate\") ? value : 24) / 100 * circumference;\n      const remaining = circumference - progress;\n      style = { \"stroke-dasharray\": `${progress} ${remaining}` };\n    }\n    return html`<svg aria-hidden=true class=${safeClassMap({\n      [CSS.ring]: true,\n      [CSS.trackRing]: type === \"track\",\n      [CSS.progressRing]: type === \"progress\"\n    })} style=${safeStyleMap(style)} viewBox=${`0 0 ${size} ${size}`}>${svg`<circle cx=${size / 2} cy=${size / 2} r=${radius ?? nothing} />`}</svg>`;\n  }\n}\ncustomElement(\"calcite-loader\", Loader);\nexport {\n  Loader\n};\n"],"names":["CSS","styles","css","Loader","LitElement","useT9n","changes","scale","el","inline","label","text","type","value","id","guid","isDeterminate","valueNow","setAttribute","html","safeClassMap","size","radius","style","circumference","progress","remaining","safeStyleMap","svg","nothing","customElement"],"mappings":"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","x_google_ignoreList":[0]}