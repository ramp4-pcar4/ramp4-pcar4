import{a0 as r,bS as m}from"./main-BFDurRCu.js";import{t as l}from"./symbolUtils-D5Wjfwrf.js";import{e as c}from"./webStyleSymbolUtils-r0H5toyk.js";async function d(t,n,a){const i=t.thumbnail?.url;if(i){const e=p((await r(i,{responseType:"image"})).data,a);return a?.node?(a.node.appendChild(e),a.node):e}const o=await t.fetchSymbol({acceptedFormats:c});return o?n(o,a):null}function p(t,n){const a=!/\\.svg$/i.test(t.src)&&n?.disableUpsampling,i=Math.max(t.width,t.height);let o=n?.maxSize!=null?m(n.maxSize):l.maxSize;a&&(o=Math.min(i,o));const e=typeof n?.size=="number"?n?.size:null,h=Math.min(o,e!=null?m(e):i);if(h!==i){const s=t.width!==0&&t.height!==0?t.width/t.height:1;s>=1?(t.width=h,t.height=h/s):(t.width=h*s,t.height=h)}return t}export{d as previewWebStyleSymbol};
