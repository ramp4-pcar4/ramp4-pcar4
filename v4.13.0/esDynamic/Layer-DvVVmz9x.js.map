{"version":3,"file":"Layer-DvVVmz9x.js","sources":["../../node_modules/@arcgis/core/layers/support/fromPortalItem.js","../../node_modules/@arcgis/core/layers/Layer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport r from\"../../config.js\";import t from\"../../core/Logger.js\";async function o(o){const a=\"portalItem\"in o?o:{portalItem:o},{fromItem:e}=await import(\"../../portal/support/portalLayers.js\");try{return await e(a)}catch(p){const o=a?.portalItem,e=o?.id||\"unset\",l=o?.portal?.url||r.portalUrl;throw t.getLogger(\"esri.layers.support.fromPortalItem\").error(\"#fromPortalItem()\",\"Failed to create layer from portal item (portal: '\"+l+\"', id: '\"+e+\"')\",p),p}}export{o as fromPortalItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../request.js\";import r from\"../core/Error.js\";import o from\"../core/Evented.js\";import i from\"../core/Identifiable.js\";import s from\"../core/Loadable.js\";import a from\"../core/Logger.js\";import{isAbortError as l}from\"../core/promiseUtils.js\";import{urlToObject as n}from\"../core/urlUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import d from\"../geometry/Extent.js\";import c from\"../geometry/SpatialReference.js\";import{fromPortalItem as u}from\"./support/fromPortalItem.js\";import{T as m}from\"../chunks/TimeExtent.js\";let b=0,h=class extends(o.EventedMixin(i.IdentifiableMixin(s))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new d(-180,-90,180,90,c.WGS84),this.id=Date.now().toString(16)+\"-layer-\"+b++,this.legendEnabled=!0,this.listMode=\"show\",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=c.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const t=\"string\"==typeof e?{url:e}:e;return(await import(\"./support/arcgisLayers.js\")).fromUrl(t)}static fromPortalItem(e){return u(e)}initialize(){this.when().catch((e=>{l(e)||a.getLogger(this).error(\"#load()\",`Failed to load layer (title: '${this.title??\"no title\"}', id: '${this.id??\"no id\"}')`,{error:e})}))}destroy(){const e=this.parent;if(e){const t=this;\"layers\"in e&&e.layers.includes(t)?e.layers.remove(t):\"tables\"in e&&e.tables.includes(t)?e.tables.remove(t):\"baseLayers\"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):\"referenceLayers\"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t),this._set(\"parent\",null)}}get effectiveVisible(){let e=this.visible;const t=this.parent;return e&&t&&\"effectiveVisible\"in t&&(e&&=t.effectiveVisible),e}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return n(this.url)}createLayerView(e,t){return Promise.reject(new r(\"layer:create-layer-view\",\"Layer does not support creating a layer view\"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e){return(await t(e,{query:{f:\"json\"},responseType:\"json\"})).data}throw new r(\"layer:no-attribution-data\",\"Layer does not have attribution data\")}};e([p({type:String})],h.prototype,\"attributionDataUrl\",void 0),e([p({readOnly:!0})],h.prototype,\"effectiveVisible\",null),e([p({type:d})],h.prototype,\"fullExtent\",void 0),e([p({readOnly:!0})],h.prototype,\"hasAttributionData\",null),e([p({type:String,clonable:!1})],h.prototype,\"id\",void 0),e([p({type:Boolean,nonNullable:!0})],h.prototype,\"legendEnabled\",void 0),e([p({type:[\"show\",\"hide\",\"hide-children\"]})],h.prototype,\"listMode\",void 0),e([p({type:Number,range:{min:0,max:1},nonNullable:!0})],h.prototype,\"opacity\",void 0),e([p({clonable:!1})],h.prototype,\"parent\",void 0),e([p({readOnly:!0})],h.prototype,\"parsedUrl\",null),e([p({type:Boolean,readOnly:!0})],h.prototype,\"persistenceEnabled\",void 0),e([p({type:Boolean})],h.prototype,\"popupEnabled\",void 0),e([p({type:Boolean})],h.prototype,\"attributionVisible\",void 0),e([p({type:c})],h.prototype,\"spatialReference\",void 0),e([p({type:String})],h.prototype,\"title\",void 0),e([p({readOnly:!0,json:{read:!1}})],h.prototype,\"type\",void 0),e([p()],h.prototype,\"url\",void 0),e([p({type:m})],h.prototype,\"visibilityTimeExtent\",void 0),e([p({type:Boolean,nonNullable:!0})],h.prototype,\"visible\",void 0),h=e([y(\"esri.layers.Layer\")],h);export{h as default};\n"],"names":["o","e","p","l","r","t","b","h","i","s","d","c","u","a","n","m","y"],"mappings":"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","x_google_ignoreList":[0,1]}