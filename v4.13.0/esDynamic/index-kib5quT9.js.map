{"version":3,"file":"index-kib5quT9.js","sources":["../../node_modules/@arcgis/core/widgets/support/GridControls/VisibleElements.js","../../node_modules/@arcgis/core/widgets/support/SnappingControls/VisibleElements.js","../../node_modules/@arcgis/core/widgets/Sketch/VisibleElements.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/responsiveToolbarUtils.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/ToolbarGroupBase.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/MeasuredContentGroup.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/OverflowGroup.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/ResponsiveToolbarManager.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/SplitButton.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/ResponsiveToolbar.js","../../node_modules/@arcgis/core/widgets/support/Selector2D/selectorUtils.js","../../node_modules/@arcgis/core/widgets/support/Selector2D/SelectionOperation.js","../../node_modules/@arcgis/core/widgets/support/SelectionToolbar/SelectionToolbarViewModel.js","../../node_modules/@arcgis/core/widgets/support/SelectionToolbar/VisibleElements.js","../../node_modules/@arcgis/core/widgets/support/SelectionToolbar.js","../../node_modules/@arcgis/core/views/interactive/tooltip/components/directionModeIcons.js","../../node_modules/@arcgis/core/widgets/support/LabeledSwitch.js","../../node_modules/@arcgis/core/widgets/support/SketchTooltipControls/VisibleElements.js","../../node_modules/@arcgis/core/widgets/support/SketchTooltipControls.js","../../node_modules/@arcgis/core/widgets/LayerList/support/layerListUtils.js","../../node_modules/@arcgis/core/widgets/LayerList/ListItemPanel.js","../../node_modules/@arcgis/core/widgets/LayerList/ListItem.js","../../node_modules/@arcgis/core/widgets/LayerList/LayerListViewModel.js","../../node_modules/@arcgis/core/widgets/support/SnappingControls/snappingLayerListUtils.js","../../node_modules/@arcgis/core/widgets/support/SnappingControls/SnappingListItem.js","../../node_modules/@arcgis/core/widgets/support/SnappingControls/SnappingLayerListViewModel.js","../../node_modules/@arcgis/core/widgets/support/SnappingControls/SnappingControlsViewModel.js","../../node_modules/@arcgis/core/widgets/support/SnappingControls.js","../../node_modules/@arcgis/core/widgets/Sketch.js","../../node_modules/@arcgis/map-components/dist/chunks/useWidget.js","../../node_modules/@arcgis/map-components/dist/components/arcgis-sketch/customElement.js","../../src/fixtures/draw/draw.vue","../../src/fixtures/draw/api/drawApi.ts","../../src/fixtures/draw/lang/lang.csv?raw","../../src/fixtures/draw/index.ts"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";let n=class extends e{constructor(o){super(o),this.colorSelection=!0,this.dynamicScaleToggle=!0,this.gridEnabledToggle=!0,this.numericInputs=!0,this.gridSnapEnabledToggle=!0,this.lineIntervalInput=!0,this.outOfScaleWarning=!0,this.placementButtons=!0,this.rotateWithMapToggle=!0}};o([t({type:Boolean,nonNullable:!0})],n.prototype,\"colorSelection\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"dynamicScaleToggle\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"gridEnabledToggle\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"numericInputs\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"gridSnapEnabledToggle\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"lineIntervalInput\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"outOfScaleWarning\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"placementButtons\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"rotateWithMapToggle\",void 0),n=o([l(\"esri.widgets.support.GridControls.VisibleElements\")],n);const r=n;export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import r from\"../GridControls/VisibleElements.js\";let s=class extends e{constructor(o){super(o),this.enabledToggle=!0,this.featureEnabledToggle=!0,this.gridEnabledToggle=!0,this.header=!1,this.layerList=!0,this.gridControls=!0,this.gridControlsElements=new r({gridSnapEnabledToggle:!1,gridEnabledToggle:!1}),this.layerListToggleLayersButton=!0,this.selfEnabledToggle=!0}};o([l({type:Boolean,nonNullable:!0})],s.prototype,\"enabledToggle\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"featureEnabledToggle\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"gridEnabledToggle\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"header\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"layerList\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"gridControls\",void 0),o([l({type:r,nonNullable:!0})],s.prototype,\"gridControlsElements\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"layerListToggleLayersButton\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"selfEnabledToggle\",void 0),s=o([t(\"esri.widgets.support.SnappingControls.VisibleElements\")],s);const n=s;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"../support/SnappingControls/VisibleElements.js\";let s=class extends e{constructor(o){super(o),this.point=!0,this.polyline=!0,this.polygon=!0,this.rectangle=!0,this.circle=!0,this.multipoint=!0,this.mesh=!0,this.freehandPolyline=!1,this.freehandPolygon=!1}};o([t({type:Boolean,nonNullable:!0})],s.prototype,\"point\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"polyline\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"polygon\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"rectangle\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"circle\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"multipoint\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"mesh\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"freehandPolyline\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"freehandPolygon\",void 0),s=o([l(\"esri.widgets.Sketch.VisibleElements.CreateToolVisibilityMap\")],s);let i=class extends e{constructor(o){super(o),this[\"rectangle-selection\"]=!0,this[\"lasso-selection\"]=!0,this[\"custom-selection\"]=!0}};o([t({nonNullable:!0})],i.prototype,\"rectangle-selection\",void 0),o([t({nonNullable:!0})],i.prototype,\"lasso-selection\",void 0),o([t({nonNullable:!0})],i.prototype,\"custom-selection\",void 0),i=o([l(\"esri.widgets.Sketch.VisibleElements.SelectionToolVisibilityMap\")],i);let p=class extends e{constructor(o){super(o),this.createTools=new s,this.directionModePicker=!1,this.duplicateButton=!0,this.deleteButton=!0,this.selectionCountLabel=!0,this.labelsToggle=!0,this.selectionTools=new i,this.settingsMenu=!0,this.snappingControls=!0,this.snappingControlsElements=new n,this.tooltipsToggle=!0,this.undoRedoMenu=!0}};o([t({type:s,nonNullable:!0})],p.prototype,\"createTools\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"directionModePicker\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"duplicateButton\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"deleteButton\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"selectionCountLabel\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"labelsToggle\",void 0),o([t({type:i,nonNullable:!0})],p.prototype,\"selectionTools\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"settingsMenu\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"snappingControls\",void 0),o([t({type:n,nonNullable:!0})],p.prototype,\"snappingControlsElements\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"tooltipsToggle\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"undoRedoMenu\",void 0),p=o([l(\"esri.widgets.Sketch.VisibleElements\")],p);export{s as CreateToolVisibilityMap,i as SelectionToolVisibilityMap,p as VisibleElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst t={groupSeparator:1,action:{s:32,m:48,l:64},splitButtonPart:{horizontal:{s:16,m:16,l:24},vertical:{s:16,m:24,l:40}}},o={splitButton:{horizontal:\"chevron-down\",vertical:\"ellipsis\"},overflow:\"ellipsis\"};function l(t,o){return t.vnodeSelector===o?[t]:t.children?.flatMap((t=>l(t,o)))??[]}export{o as Icons,t as WellKnownSizes,l as findMatchingChildren};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{findMatchingChildren as o}from\"./responsiveToolbarUtils.js\";const r=r=>{let i=class extends r{constructor(){super(...arguments),this.priority=0,this.scale=\"m\",this.slot=void 0,this.lastActiveKey=null,this.layout=\"horizontal\"}destroy(){this.measurementManager?.managedElements.remove(this),this.measurementManager=null}set measurementManager(e){const t=this._get(\"measurementManager\");e!==t&&(t&&t.managedElements.remove(this),this._set(\"measurementManager\",e),e?.managedElements.add(this))}set budgetedLength(e){this.budgetedLength!==e&&(this._set(\"budgetedLength\",e),this.scheduleRender())}get actionChildren(){return this.children?.flatMap((e=>o(e,\"calcite-action\")))??[]}get activeChildElement(){const e=this.actionChildren.find((e=>!0===e.properties?.active));return e?(this._set(\"lastActiveKey\",e.properties?.key),e):this.lastActiveKey?this.actionChildren.find((e=>e.properties?.key===this.lastActiveKey)):void 0}_handleClick(e){e?.dataset&&\"dataset\"in e&&e.dataset.actionKey&&(this.lastActiveKey=e.dataset.actionKey)}};return e([t()],i.prototype,\"priority\",void 0),e([t()],i.prototype,\"measurementManager\",null),e([t()],i.prototype,\"budgetedLength\",null),e([t()],i.prototype,\"actionChildren\",null),e([t()],i.prototype,\"activeChildElement\",null),e([t()],i.prototype,\"scale\",void 0),e([t()],i.prototype,\"slot\",void 0),e([t()],i.prototype,\"lastActiveKey\",void 0),e([t()],i.prototype,\"layout\",void 0),i=e([s(\"esri.widgets.Sketch.support.ResponsiveToolbar.ToolbarGroupBase\")],i),i};export{r as ToolbarGroupBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../Widget.js\";import{ToolbarGroupBase as o}from\"./ToolbarGroupBase.js\";import{onResize as i}from\"../../../support/widgetUtils.js\";import{tsx as m}from\"../../../support/jsxFactory.js\";const d=Symbol(\"on-resize-handle-key\");let a=class extends(o(s)){constructor(e){super(e),this._measuredWidth=0,this._measuredHeight=0,this._measuredElement=null}destroy(){this._measuredElement=null}get lengthOptions(){return[\"horizontal\"===this.layout?this._measuredWidth:this._measuredHeight]}render(){return m(\"div\",{afterCreate:e=>{this._measuredElement=e.firstElementChild,this.addHandles(i(this._measuredElement,(()=>{this._measuredWidth=this._measuredElement?.clientWidth??0,this._measuredHeight=this._measuredElement?.clientHeight??0})),d)},afterRemoved:()=>this.removeHandles(d)},this.children)}};e([t()],a.prototype,\"_measuredWidth\",void 0),e([t()],a.prototype,\"_measuredHeight\",void 0),e([t()],a.prototype,\"lengthOptions\",null),e([t()],a.prototype,\"_measuredElement\",void 0),a=e([r(\"esri.widgets.Sketch.support.ResponsiveToolbar.MeasuredContentGroup\")],a);export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import r from\"../../../Widget.js\";import{WellKnownSizes as s,Icons as i}from\"./responsiveToolbarUtils.js\";import{ToolbarGroupBase as n}from\"./ToolbarGroupBase.js\";import{loadCalciteComponents as c}from\"../../../support/componentsUtils.js\";import\"../../../support/widgetUtils.js\";import{messageBundle as l}from\"../../../support/decorators/messageBundle.js\";import{tsx as a,tsxFragment as p}from\"../../../support/jsxFactory.js\";let m=class extends(n(r)){constructor(o){super(o),this.allowCollapse=!0,this.messagesCommon=null}loadDependencies(){return c({action:()=>import(\"@esri/calcite-components/dist/components/calcite-action\"),\"action-group\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-group\"),\"action-menu\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-menu\")})}static{this.vnodeSelector=\"calcite-action-group\"}get minimumLength(){const{actionChildren:o,scale:t}=this;return o.length?this.allowCollapse?s.groupSeparator+s.action[t]*Math.min(o.length,2):s.groupSeparator+s.action[t]*o.length:0}get lengthOptions(){const{actionChildren:o,scale:t,minimumLength:e,allowCollapse:r,priority:i}=this,n=[e];if(o.length<=2||!r||i<1)return n;for(let c=1;c<o.length-1;c++)n.push(e+s.action[t]*c);return n}render(){if(!this.actionChildren.length)return a(p,null,void 0);const{budgetedLength:o,actionChildren:t,activeChildElement:e,layout:r,slot:n,scale:c}=this,l=Math.floor(o/s.action[c]),m=[],u=[];if(l>=t.length)m.push(...t);else{const o=e??m.at(0);if(m.push(...t.slice(0,l-1)),u.push(...t.slice(l-1)),o&&u.includes(o)){const[t]=u.splice(u.indexOf(o),1),e=m.pop();m.push(t),e&&u.unshift(e)}}return a(\"calcite-action-group\",{key:\"overflow-button-group\",layout:r,onclick:o=>this._handleClick(o.target),slot:n},m.map((o=>this._renderManagedAction(o))),u.length>0?a(\"calcite-action-menu\",{key:\"split-button-dropdown\",label:this.messagesCommon.more,overlayPositioning:\"fixed\"},a(\"calcite-action\",{icon:i.overflow,key:\"split-button-dropdown-trigger\",scale:c,slot:\"trigger\",text:this.messagesCommon.more}),u.map((o=>this._renderManagedAction(o)))):void 0)}_renderManagedAction(o){return a(\"calcite-action\",{...o?.properties,\"data-action-key\":o?.properties?.key,text:o?.properties?.text??\"\"})}};o([t()],m.prototype,\"allowCollapse\",void 0),o([t()],m.prototype,\"minimumLength\",null),o([t(),l(\"esri/t9n/common\")],m.prototype,\"messagesCommon\",void 0),o([t()],m.prototype,\"lengthOptions\",null),m=o([e(\"esri.widgets.Sketch.support.ResponsiveToolbar.OverflowGroup\")],m);export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Collection.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";let i=class extends t{constructor(){super(...arguments),this.measuredElement=null,this.managedElements=new s,this.availableLength=0,this.layout=\"horizontal\",this._resizeObserver=new ResizeObserver((()=>{this._measure()}))}get _sortedElements(){return[...this.managedElements].sort(((e,t)=>t.priority-e.priority))}connect(e){this._resizeObserver.disconnect(),this.measuredElement=e,this._resizeObserver.observe(e),this._measure()}allocate(){const e=new Map,{availableLength:t,_sortedElements:s}=this;let o=0;for(const r of s){const t=r.lengthOptions[0];e.set(r,t),o+=t}for(const r of s)for(;o<t;){const s=e.get(r);if(!s)break;const i=r.lengthOptions.find((e=>e>s));if(!i)break;const n=o-s+i;if(n>t)break;e.set(r,i),o=n}for(const[r,i]of e)r.budgetedLength=i}_measure(){const e=this.measuredElement;this.availableLength=e?\"horizontal\"===this.layout?e.clientWidth??0:e.clientHeight??0:0,this.allocate()}destroy(){this._resizeObserver.disconnect()}};e([o()],i.prototype,\"measuredElement\",void 0),e([o()],i.prototype,\"managedElements\",void 0),e([o()],i.prototype,\"_sortedElements\",null),e([o()],i.prototype,\"availableLength\",void 0),e([o()],i.prototype,\"layout\",void 0),i=e([r(\"esri.widgets.Sketch.support.ResponsiveToolbar.ResponsiveToolbarManager\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import r from\"../../../Widget.js\";import{WellKnownSizes as i,Icons as n}from\"./responsiveToolbarUtils.js\";import{ToolbarGroupBase as s}from\"./ToolbarGroupBase.js\";import{loadCalciteComponents as a}from\"../../../support/componentsUtils.js\";import\"../../../support/widgetUtils.js\";import{messageBundle as l}from\"../../../support/decorators/messageBundle.js\";import{tsx as p,tsxFragment as c}from\"../../../support/jsxFactory.js\";const m={splitButtonBase:`${\"esri-split-button\"}--split-part`};let u=class extends(s(r)){constructor(t){super(t),this.allowCollapse=!0,this.messagesCommon=null}loadDependencies(){return a({action:()=>import(\"@esri/calcite-components/dist/components/calcite-action\"),\"action-group\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-group\"),\"action-menu\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-menu\")})}static{this.vnodeSelector=\"calcite-action-group\"}get minimumLength(){const t=this.actionChildren;return t.length?1===t.length?i.action[this.scale]+i.groupSeparator:this.allowCollapse?i.action[this.scale]+i.splitButtonPart[this.layout][this.scale]+i.groupSeparator:i.action[this.scale]*t.length+i.groupSeparator:0}get lengthOptions(){const{actionChildren:t,minimumLength:o,layout:e,scale:r,priority:n,allowCollapse:s}=this;if(t.length<2||n<0||!s)return[o];const a=i.groupSeparator+i.action[r]*t.length;return[i.groupSeparator+i.action[r]+i.splitButtonPart[e][r],a]}render(){if(!this.actionChildren.length)return p(c,null,void 0);const{actionChildren:t,minimumLength:o,budgetedLength:e,layout:r,slot:i,allowCollapse:n}=this,s=!n||t.length<2||e>o;return p(\"calcite-action-group\",{key:\"split-button-group\",layout:r,onclick:t=>this._handleClick(t.target),slot:i},s?this._renderUnSplit():this._renderSplit())}_renderSplit(){const{activeChildElement:t,layout:o,actionChildren:e,scale:r,messagesCommon:i}=this,s=t??e.at(0);if(!s)return;const a=e.filter((t=>t!==s));return[this._renderManagedAction(s),p(\"calcite-action-menu\",{key:\"split-button-dropdown\",label:i.more,overlayPositioning:\"fixed\",placement:\"horizontal\"===o?\"bottom-end\":\"right-end\"},p(\"calcite-action\",{class:`${m.splitButtonBase}--${o}--${this.scale}`,compact:\"horizontal\"===o,icon:n.splitButton[o],key:\"split-button-dropdown-trigger\",scale:r,slot:\"trigger\",text:i.more}),a?.map((t=>this._renderManagedAction(t))))]}_renderUnSplit(){return this.actionChildren.map((t=>this._renderManagedAction(t)))}_renderManagedAction(t){return p(\"calcite-action\",{...t?.properties,\"data-action-key\":t?.properties?.key,text:t?.properties?.text??\"\"})}};t([o()],u.prototype,\"minimumLength\",null),t([o()],u.prototype,\"allowCollapse\",void 0),t([o()],u.prototype,\"lengthOptions\",null),t([o(),l(\"esri/t9n/common\")],u.prototype,\"messagesCommon\",void 0),u=t([e(\"esri.widgets.Sketch.support.ResponsiveToolbar.SplitButton\")],u);export{u as SplitButton};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../../core/arrayUtils.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../Widget.js\";import i from\"./MeasuredContentGroup.js\";import l from\"./OverflowGroup.js\";import n from\"./ResponsiveToolbarManager.js\";import{SplitButton as c}from\"./SplitButton.js\";import{loadCalciteComponents as d}from\"../../../support/componentsUtils.js\";import\"../../../support/widgetUtils.js\";import{tsx as p}from\"../../../support/jsxFactory.js\";const u=\"esri-responsive-toolbar\",m={rulerBase:`${u}__ruler`,rulerBarHorizontal:`${u}__ruler--bar`,rulerBarVertical:`${u}__ruler--bar--vertical`,rulerPadVertical:`${u}__ruler--pad--vertical`,rulerPadHorizontal:`${u}__ruler--pad--horizontal`,bar:`${u}__bar`,barHorizontal:`${u}__bar--horizontal`,barVertical:`${u}__bar--vertical`,pad:`${u}__pad`,padVertical:`${u}__pad--vertical`,padHorizontal:`${u}__pad--horizontal`};let h=class extends s{constructor(e){super(e),this.scale=\"m\",this.barStyle=\"floating\",this._measurementManager=new n,this._managedWidgets=new Map}loadDependencies(){return d({\"action-bar\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-bar\")})}destroy(){this._measurementManager=t(this._measurementManager),this._managedWidgets.forEach((e=>e.destroy())),this._managedWidgets.clear()}set layout(e){const r=this._get(\"layout\");this._set(\"layout\",e),this._measurementManager&&(this._measurementManager.layout=e),r!==e&&this.scheduleRender()}get _barClasses(){const e=\"docked\"===this.barStyle,r=\"vertical\"===this.layout;return{[m.barHorizontal]:e&&!r,[m.barVertical]:e&&r,[m.bar]:e,[m.padHorizontal]:!e&&!r,[m.padVertical]:!e&&r,[m.pad]:!e}}render(){const{layout:e,scale:r,barStyle:t}=this,a={layout:e,scale:r,expandDisabled:!0,key:\"measured-toolbar\"},o=\"docked\"===t?\"vertical\"===e?m.rulerBarVertical:m.rulerBarHorizontal:\"horizontal\"===e?m.rulerPadHorizontal:m.rulerPadVertical;return p(\"div\",null,p(\"div\",{afterCreate:e=>{this._measurementManager?.connect(e)},class:this.classes(m.rulerBase,o)}),p(\"calcite-action-bar\",{...a,classes:this._barClasses,floating:\"docked\"!==t,overflowActionsDisabled:!0},this._renderChildren()))}_renderChildren(){if(!this.children)return;const e=this.children.filter((e=>void 0!==e.properties?.key&&\"group-kind\"in e.properties)),t=new Set,a=e.map((e=>{const r=e.properties,a=r.key;t.add(a);const o=\"docked\"===this.barStyle?r.slot??void 0:void 0,s=r.priority??0,n=r[\"group-kind\"]??\"overflow-group\",d=r[\"allow-collapse\"]??!0,p=this._managedWidgets.get(a);if(p)return p.children=e.children,p.priority=s,\"allowCollapse\"in p&&(p.allowCollapse=d),p.slot=o,p.layout=this.layout,p.scale=this.scale,p.measurementManager=this._measurementManager,p;const u={scale:this.scale,priority:s,measurementManager:this._measurementManager,children:e.children,slot:o,layout:this.layout};switch(n){case\"split-button\":{const e=new c({...u,allowCollapse:d});return this._managedWidgets.set(a,e),e}case\"overflow-group\":{const e=new l({...u,allowCollapse:d});return this._managedWidgets.set(a,e),e}case\"measured-content\":{const e=new i({...u});return this._managedWidgets.set(a,e),e}}})).filter(r);return Array.from(this._managedWidgets.keys()).filter((e=>!t.has(e))).forEach((e=>{this._managedWidgets.get(e)?.destroy(),this._managedWidgets.delete(e)})),this._measurementManager?.allocate(),a.map((e=>e.render()))}};e([a()],h.prototype,\"scale\",void 0),e([a({value:\"horizontal\"})],h.prototype,\"layout\",null),e([a()],h.prototype,\"barStyle\",void 0),e([a()],h.prototype,\"_measurementManager\",void 0),e([a()],h.prototype,\"_managedWidgets\",void 0),e([a()],h.prototype,\"_barClasses\",null),h=e([o(\"esri.widgets.Sketch.support.ResponsiveToolbar.ResponsiveToolbar\")],h);export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{addMany as e}from\"../../../core/arrayUtils.js\";import{ignoreAbortErrors as r,whenOrAbort as t}from\"../../../core/promiseUtils.js\";import{getDisplayFieldName as s}from\"../../../layers/support/fieldUtils.js\";import{isFeatureLayer as a,isSubtypeGroupLayer as i,isSubtypeSublayer as l,isKnowledgeGraphLayer as n,isLinkChartLayer as o,isMapNotesLayer as c,isGraphicsLayer as u}from\"../../../layers/support/layerUtils.js\";import{calculateTolerance as d}from\"../../../renderers/support/clickToleranceUtils.js\";import{createQueryGeometry as y}from\"../../../views/support/drapedUtils.js\";import{isSelectableLayerView2D as p}from\"../../../views/support/layerViewUtils.js\";async function m(e){const{returnFeatureTitleFields:s,returnGeometry:a,selector:i,signal:l,sources:n,view:o}=e;if(!n?.length)return[];const{layers:c,layerViews:u,graphicsLayers:d}=f(n),y=[];return await r(t(Promise.all([w({candidates:y,layers:c,returnFeatureTitleFields:s,returnGeometry:a,selector:i,signal:l,view:o}),g({candidates:y,layerViews:u,returnGeometry:a,selector:i,signal:l,view:o}),j({candidates:y,graphicsLayers:d,selector:i})]),l)),y}function f(e){const r=[],t=[],s=[];return e.forEach((e=>{a(e)||i(e)||l(e)?r.push(e):(n(e)||o(e))&&e.layers?.length?r.push(...e.layers.toArray()):c(e)&&e.sublayers?.length?s.push(...e.sublayers.toArray()):u(e)?s.push(e):p(e)&&t.push(e)})),{layers:r,layerViews:t,graphicsLayers:s}}async function g(r){const{candidates:s,layerViews:a,returnGeometry:i,selector:l,signal:n,view:o}=r;\"point\"!==l.type?await t(Promise.allSettled(a.map((async r=>{const t=T(r,l,o,i),a=await r.queryFeatures(t,{signal:n});e(s,a.features)}))),n):await h({candidates:s,layerViews:a,selector:l,view:o})}async function h({candidates:e,layerViews:r,selector:t,view:s}){const a=s.toScreen(t);if(!a)return;const i=r.map((e=>e.layer)),{results:l}=await s.hitTest(a,{include:i});l.forEach((r=>{\"graphic\"in r&&r.graphic&&e.push(r.graphic)}))}async function w(r){const{candidates:s,layers:a,returnFeatureTitleFields:i,returnGeometry:l,selector:n,signal:o,view:c}=r;await t(Promise.allSettled(a.map((async r=>{if(\"isTable\"in r&&r.isTable)return;const t=v(r,n,c,i,l),a=await r.queryFeatures(t,{signal:o});e(s,a.features)}))),o)}function F(e,r,t){return\"point\"===e.type?y(e,\"renderer\"in r?d({renderer:r.renderer}):0,t):e}function b(e,r,t){const{fields:a,fieldsIndex:i}=e,l=new Set([e.objectIdField]);\"globalIdField\"in e&&null!=e.globalIdField&&i.has(e.globalIdField)&&l.add(i.get(e.globalIdField).name);const n=\"displayField\"in e?e.displayField:null,o=s({displayField:n,fields:a});if(null!=o&&i.has(o)&&l.add(o),\"subtypeField\"in e&&null!=e.subtypeField){const t=i.get(e.subtypeField)?.name;if(null!=t&&l.add(t),\"utilityNetworks\"in r.map&&r.map.utilityNetworks?.length){const e=i.get(\"assetgroup\");e?.name&&l.add(e.name);const r=i.get(\"assettype\");r?.name&&l.add(r.name)}}return(t||r.requiredFieldsOptions.featureTitleFields)&&\"featureTitleFields\"in e&&e.featureTitleFields&&e.featureTitleFields.forEach((e=>l.add(e))),Array.from(l.values())}function T(e,r,t,s=!0){const a=e.createQuery();return a.outFields=[\"*\"],a.geometry=F(r,e.layer,t),a.returnGeometry=s,a.outSpatialReference=t.spatialReference,a}function v(e,r,t,s=!1,a=!0){const i=e.createQuery();return i.outFields=b(e,t,s),i.geometry=F(r,e,t),i.returnGeometry=a,i.outSpatialReference=t.spatialReference,i}async function j(e){const{candidates:r,graphicsLayers:t,selector:s}=e,a=t.flatMap((e=>e.graphics.toArray()))??[];if(!a?.length||!s)return;const i=await import(\"../../../geometry/operators/intersectsOperator.js\");i.accelerateGeometry(s),a.forEach((e=>{e.geometry&&\"mesh\"!==e.geometry.type&&i.execute(s,e.geometry)&&r.push(e)}))}export{g as collectSelectionFromFeatureLayerViews,w as collectSelectionFromFeatureLayers,j as collectSelectionFromGraphicsLayers,m as getSelectionFromGeometry,F as getSuggestedQueryGeometry,b as getSuggestedQueryOutFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{createTask as t}from\"../../../core/asyncUtils.js\";import o from\"../../../core/Collection.js\";import r from\"../../../core/Evented.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import i from\"../../../core/Logger.js\";import{abortMaybe as n}from\"../../../core/maybe.js\";import{debounce as l,onAbort as c,ignoreAbortErrors as a}from\"../../../core/promiseUtils.js\";import{createScreenPoint as p}from\"../../../core/screenUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import m from\"../../../geometry/Point.js\";import u from\"../../../geometry/Polygon.js\";import{isClockwise as y}from\"../../../geometry/support/coordsUtils.js\";import{sketchKeys as v,selectionKeys as f}from\"../../../views/interactive/keybindings.js\";import{loadAutomaticLengthMeasurementUtils as g}from\"../../../views/support/automaticLengthMeasurementUtils.js\";import{getSelectionFromGeometry as _}from\"./selectorUtils.js\";const w=100;let T=class extends r.EventedAccessor{constructor(e){super(e),this._completed=!1,this._isConstraintKeyDown=!1,this._processTask=null,this.createTool=\"rectangle\",this.mode=null,this.persistSelection=!0,this.returnFeatureTitleFields=!1,this.returnGeometry=!0,this.selection=new o,this.selectionManager=null,this.selectOnComplete=!0,this.sources=null,this.toolName=\"\",this.type=\"add\",this._process=l((async(e,o)=>{const{callback:r,selector:s,completed:i}=e,n=t((async e=>{const{effectiveSelectionManager:t,returnFeatureTitleFields:o,returnGeometry:n,selection:l,sources:c,view:a}=this;if(!(!c?.length&&!t.sources.length)&&a){if(s&&null!=c){const r=await _({returnFeatureTitleFields:o,returnGeometry:n,selector:s,signal:e,sources:c,view:a});if(l.removeAll(),l.addMany(r),i&&this.persistSelection)switch(this.effectiveType){case\"remove\":t.updateSelection({current:[],added:[],removed:r});break;case\"replace\":t.clear(),t.updateSelection({current:r,added:[],removed:[]});break;default:t.updateSelection({current:r,added:[],removed:[]})}}r&&r()}else l.removeAll()}));return c(o,(()=>n.abort())),this._processTask=n,n.promise}),w),this._onOperationFinish=this._onOperationFinish.bind(this)}initialize(){this._setup()}get _defaultMode(){return\"polygon\"===this.createTool?\"click\":\"hybrid\"}get _selectionArea(){const e=this._tool.coordinates;if(0===e.length)return;const t=p(),o=this.view.spatialReference,r=e=>{t.x=e[0],t.y=e[1];const o=this.view.toMap(t);return[o?.x??0,o?.y??0]};if(1===e.length||e.every((([t,o])=>t===e[0][0]&&o===e[0][1]))){const[t,s]=r(e[0]);return new m({x:t,y:s,spatialReference:o})}const s=e.map(r);if(0===s.length)return;y(s)||s.reverse();return new u({spatialReference:o,rings:[s]})}get completed(){return this._completed}get effectiveSelectionManager(){return this.selectionManager??this.view.selectionManager}get effectiveType(){const e=this.type??\"add\";if(this._isConstraintKeyDown)switch(e){case\"add\":return\"remove\";case\"remove\":case\"replace\":return\"add\";default:return e}return e}get processingFinalSelection(){return!(!this._processTask||!this._tool?.drawOperation?.isCompleted)}cancel(){this.selection.removeAll(),this._onOperationFinish(!0)}destroy(){this._toolImportController=n(this._toolImportController)}async _setup(){const{createTool:e,view:t}=this;if(await t.whenReady(),this.destroyed||this._toolImportController)return;const o=new AbortController;this._toolImportController=o;const[r,n]=await Promise.all([import(\"../../../views/draw/DrawScreenTool.js\"),g()]);if(o.signal.aborted)return;const l=Symbol();try{this._tool=new r.DrawScreenTool({view:t,mode:this.mode??this._defaultMode,geometryType:e,cursor:\"point\"===e?\"default\":\"crosshair\",automaticLengthMeasurementUtils:n})}finally{this._toolImportController=null}this._tool?(this.selectOnComplete||this.addHandles(this._tool.on([\"cursor-update\",\"vertex-add\",\"vertex-remove\"],(()=>{this._syncConstraintKeyDown(),a(this._process({selector:this._selectionArea}))})),l),this.addHandles([t.on(\"key-down\",(e=>{if(!e.repeat)switch(e.key){case v.constraint:this._tool.uniformSizeToggled=!0,e.stopPropagation();break;case v.center:this._tool.centeredToggled=!0,e.stopPropagation()}})),t.on(\"key-up\",(e=>{switch(e.key){case v.constraint:this._tool.uniformSizeToggled=!1,e.stopPropagation();break;case v.center:this._tool.centeredToggled=!1,e.stopPropagation()}})),this.selection.on(\"change\",(({added:e,removed:t})=>this.emit(\"selection-change\",{operationType:this.effectiveType,added:e,removed:t}))),this._tool.on(\"complete\",(async e=>{this._syncConstraintKeyDown(),this.removeHandles(l),e.aborted?this.cancel():(this._tool.cursor=\"progress\",await this._process({selector:this._selectionArea,callback:this._onOperationFinish,completed:!0}))}))],l),this.addHandles(s((()=>t.tools.remove(this._tool)))),t.addAndActivateTool(this._tool)):i.getLogger(this).warn(\"Unable to import Draw module. SelectionOperation failed to load.\")}_syncConstraintKeyDown(){const{inputManager:e}=this.view;this._isConstraintKeyDown=f.invertType.some((t=>e.isModifierKeyDown(t)))}_onOperationFinish(e=!1){this.removeAllHandles(),this._processTask?.abort(),this.emit(\"complete\",{aborted:e,operationType:this.effectiveType,selection:this.selection.toArray(),toolName:this.toolName}),this._completed=!0}};e([d()],T.prototype,\"_completed\",void 0),e([d()],T.prototype,\"_defaultMode\",null),e([d()],T.prototype,\"_isConstraintKeyDown\",void 0),e([d()],T.prototype,\"_processTask\",void 0),e([d()],T.prototype,\"_selectionArea\",null),e([d()],T.prototype,\"completed\",null),e([d({constructOnly:!0})],T.prototype,\"createTool\",void 0),e([d()],T.prototype,\"effectiveSelectionManager\",null),e([d()],T.prototype,\"effectiveType\",null),e([d({constructOnly:!0})],T.prototype,\"mode\",void 0),e([d()],T.prototype,\"persistSelection\",void 0),e([d()],T.prototype,\"processingFinalSelection\",null),e([d()],T.prototype,\"returnFeatureTitleFields\",void 0),e([d()],T.prototype,\"returnGeometry\",void 0),e([d({readOnly:!0})],T.prototype,\"selection\",void 0),e([d({constructOnly:!0})],T.prototype,\"selectionManager\",void 0),e([d({constructOnly:!0})],T.prototype,\"selectOnComplete\",void 0),e([d()],T.prototype,\"sources\",void 0),e([d({constructOnly:!0})],T.prototype,\"toolName\",void 0),e([d({constructOnly:!0})],T.prototype,\"type\",void 0),e([d({constructOnly:!0})],T.prototype,\"view\",void 0),T=e([h(\"esri.widgets.support.Selector2D.SelectionOperation\")],T);const S=T;export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{deprecatedProperty as t}from\"../../../core/deprecate.js\";import o from\"../../../core/Evented.js\";import{handlesGroup as i}from\"../../../core/handleUtils.js\";import s from\"../../../core/Logger.js\";import{removeMaybe as r}from\"../../../core/maybe.js\";import{watch as n}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isKnowledgeGraphLayer as c,isLinkChartLayer as p}from\"../../../layers/support/layerUtils.js\";import{findLayerView as u}from\"../../../views/draw/support/layerUtils.js\";import{isSelectableLayerView2D as d}from\"../../../views/support/layerViewUtils.js\";import h from\"../Selector2D/SelectionOperation.js\";let f=class extends o.EventedAccessor{constructor(e){super(e),this._operationHandlesGroup=null,this.activeOperation=null,this.continuousSelectionEnabled=!1,this.defaultLassoToolOptions={createTool:\"polygon\",mode:\"hybrid\",toolName:\"lasso\"},this.defaultOperationType=\"add\",this.defaultPointToolOptions={createTool:\"point\",toolName:\"point\"},this.defaultRectangleToolOptions={createTool:\"rectangle\",toolName:\"rectangle\"},this.layerViewPreferenceEnabled=!0,this.persistSelection=!0,this.selectionManager=null,this.returnFeatureTitleFields=!1,this.returnGeometry=!0,this.selectOnComplete=!0,this.sources=null,this.toolConfigs=[]}initialize(){this.addHandles([n((()=>this.effectiveSources),(e=>{this.activeOperation&&(this.activeOperation.sources=e)}))])}destroy(){this._operationHandlesGroup=r(this._operationHandlesGroup)}get effectiveSelectionManager(){return this.selectionManager??this.view?.selectionManager}get effectiveSources(){const{layerViewPreferenceEnabled:e,sources:t,view:o}=this,i=t??this.effectiveSelectionManager?.sources;if(!i?.length)return[];const s=[];return i.forEach((t=>{if(d(t))s.push(t);else if(c(t)||p(t)){(t.layers||[]).forEach((t=>{const i=o?u(o,t):void 0,r=e&&d(i)?i:t;s.push(r)}))}else if(e){const e=o?u(o,t):void 0,i=d(e)?e:t;s.push(i)}else s.push(t)})),s}get layers(){return t(s.getLogger(this),\"layers\",{replacement:\"Use SelectionToolbar.sources instead.\"}),this.sources}set layers(e){t(s.getLogger(this),\"layers\",{replacement:\"Use SelectionToolbar.sources instead.\"}),this.sources=e}get state(){return this.activeOperation?\"active\":this.view?.ready&&this.effectiveSources.length?\"ready\":\"disabled\"}activate(e){const{state:t}=this,o=e?.view||this.view,r=e?.sources||this.effectiveSources;if(\"disabled\"===t||!o)return void s.getLogger(this).warn(\"Unable to start selection operation.\");\"active\"===t&&this.cancel();const n=new CustomEvent(\"before-activate\",{cancelable:!0,detail:{toolName:e?.toolName??null}});if(this.emit(\"before-activate\",n),n.defaultPrevented)return;const a={type:this.defaultOperationType,persistSelection:this.persistSelection,returnFeatureTitleFields:this.returnFeatureTitleFields,returnGeometry:this.returnGeometry,selectOnComplete:this.selectOnComplete,selectionManager:this.effectiveSelectionManager,...e,sources:r,view:o},l=new h({...a});return this._operationHandlesGroup=i([l.on(\"selection-change\",(e=>this.emit(\"selection-change\",e))),l.once(\"complete\",(e=>this._onOperationComplete(e,a)))]),this._set(\"activeOperation\",l),l}activateTool(e){this.cancel();const t=this._getToolOptions(e);if(t)return this.activate(t);s.getLogger(this).warn(\"Unable to activate tool: unable to determine options.\")}cancel(){this.activeOperation?.cancel(),this._set(\"activeOperation\",null)}toggleTool(e){const{activeOperation:t}=this;if(t){const o=t.toolName;if(this.cancel(),o===e)return}return this.activateTool(e)}_onOperationComplete(e,t){this._operationHandlesGroup=r(this._operationHandlesGroup),this._set(\"activeOperation\",null),this.emit(\"complete\",e),this.continuousSelectionEnabled&&!e.aborted&&this.activate(t)}_getToolOptions(e){const t=this.toolConfigs.find((t=>t.toolName===e));return t||(\"lasso\"===e?this.defaultLassoToolOptions:\"point\"===e?this.defaultPointToolOptions:\"rectangle\"===e?this.defaultRectangleToolOptions:void 0)}};e([a({readOnly:!0})],f.prototype,\"activeOperation\",void 0),e([a()],f.prototype,\"continuousSelectionEnabled\",void 0),e([a()],f.prototype,\"defaultLassoToolOptions\",void 0),e([a()],f.prototype,\"defaultOperationType\",void 0),e([a()],f.prototype,\"defaultPointToolOptions\",void 0),e([a()],f.prototype,\"defaultRectangleToolOptions\",void 0),e([a()],f.prototype,\"effectiveSelectionManager\",null),e([a()],f.prototype,\"effectiveSources\",null),e([a()],f.prototype,\"layers\",null),e([a()],f.prototype,\"layerViewPreferenceEnabled\",void 0),e([a()],f.prototype,\"persistSelection\",void 0),e([a()],f.prototype,\"selectionManager\",void 0),e([a()],f.prototype,\"returnFeatureTitleFields\",void 0),e([a()],f.prototype,\"returnGeometry\",void 0),e([a()],f.prototype,\"selectOnComplete\",void 0),e([a()],f.prototype,\"sources\",void 0),e([a({readOnly:!0})],f.prototype,\"state\",null),e([a()],f.prototype,\"toolConfigs\",void 0),e([a()],f.prototype,\"view\",void 0),f=e([l(\"esri.widgets.support.SelectionToolbar.SelectionToolbarViewModel\")],f);const v=f;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let r=class extends e{constructor(o){super(o),this.chip=!0,this.lassoTool=!0,this.pan=!0,this.pointTool=!0,this.rectangleTool=!0}};o([t({type:Boolean,nonNullable:!0})],r.prototype,\"chip\",void 0),o([t({type:Boolean,nonNullable:!0})],r.prototype,\"lassoTool\",void 0),o([t({type:Boolean,nonNullable:!0})],r.prototype,\"pan\",void 0),o([t({type:Boolean,nonNullable:!0})],r.prototype,\"pointTool\",void 0),o([t({type:Boolean,nonNullable:!0})],r.prototype,\"rectangleTool\",void 0),r=o([s(\"esri.widgets.support.SelectionToolbar.VisibleElements\")],r);const l=r;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import{deprecatedProperty as t}from\"../../core/deprecate.js\";import{handlesGroup as o}from\"../../core/handleUtils.js\";import i from\"../../core/Logger.js\";import{removeMaybe as s}from\"../../core/maybe.js\";import{on as l}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"../Widget.js\";import{loadCalciteComponents as c}from\"./componentsUtils.js\";import{globalCss as d}from\"./globalCss.js\";import\"./widgetUtils.js\";import{messageBundle as p}from\"./decorators/messageBundle.js\";import{tsx as u}from\"./jsxFactory.js\";import h from\"./SelectionToolbar/SelectionToolbarViewModel.js\";import v from\"./SelectionToolbar/VisibleElements.js\";import{formatNumber as f}from\"../../intl/number.js\";const m=\"esri-selection-toolbar\",g={base:m,container:`${m}__container`,toolButton:`${m}__tool-button`};let b=class extends a{constructor(e,t){super(e,t),this._viewModelHandlesGroup=null,this.disabled=!1,this.layout=\"horizontal\",this.messages=null,this.scale=\"s\",this.viewModel=new h,this.visibleElements=new v}initialize(){this._viewModelHandlesGroup=o([l((()=>this.viewModel),\"before-activate\",(e=>this.emit(\"before-activate\",e))),l((()=>this.viewModel),\"complete\",(e=>this.emit(\"complete\",e))),l((()=>this.viewModel),\"selection-change\",(e=>this.emit(\"selection-change\",e)))])}destroy(){this._viewModelHandlesGroup=s(this._viewModelHandlesGroup)}loadDependencies(){return c({action:()=>import(\"@esri/calcite-components/dist/components/calcite-action\"),\"action-bar\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-bar\"),chip:()=>import(\"@esri/calcite-components/dist/components/calcite-chip\")})}get _effectiveDisabled(){return this.disabled||\"disabled\"===this.state}get activeOperation(){return this.viewModel.activeOperation}get continuousSelectionEnabled(){return this.viewModel.continuousSelectionEnabled}set continuousSelectionEnabled(e){this.viewModel.continuousSelectionEnabled=e}get defaultLassoToolOptions(){return this.viewModel.defaultLassoToolOptions}set defaultLassoToolOptions(e){this.viewModel.defaultLassoToolOptions=e}get defaultOperationType(){return this.viewModel.defaultOperationType}set defaultOperationType(e){this.viewModel.defaultOperationType=e}get defaultPointToolOptions(){return this.viewModel.defaultPointToolOptions}set defaultPointToolOptions(e){this.viewModel.defaultPointToolOptions=e}get defaultRectangleToolOptions(){return this.viewModel.defaultRectangleToolOptions}set defaultRectangleToolOptions(e){this.viewModel.defaultRectangleToolOptions=e}get effectiveSelectionManager(){return this.viewModel.effectiveSelectionManager}get effectiveSources(){return this.viewModel.effectiveSources}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get layers(){return t(i.getLogger(this),\"layers\",{replacement:\"Use SelectionToolbar.sources instead.\"}),this.viewModel.sources}set layers(e){t(i.getLogger(this),\"layers\",{replacement:\"Use SelectionToolbar.sources instead.\"}),this.viewModel.sources=e}get layerViewPreferenceEnabled(){return this.viewModel.layerViewPreferenceEnabled}set layerViewPreferenceEnabled(e){this.viewModel.layerViewPreferenceEnabled=e}get persistSelection(){return this.viewModel.persistSelection}set persistSelection(e){this.viewModel.persistSelection=e}get returnFeatureTitleFields(){return this.viewModel.returnFeatureTitleFields}set returnFeatureTitleFields(e){this.viewModel.returnFeatureTitleFields=e}get returnGeometry(){return this.viewModel.returnGeometry}set returnGeometry(e){this.viewModel.returnGeometry=e}get selectOnComplete(){return this.viewModel.selectOnComplete}set selectOnComplete(e){this.viewModel.selectOnComplete=e}get selectionManager(){return this.viewModel.selectionManager}set selectionManager(e){this.viewModel.selectionManager=e}get state(){return this.viewModel.state}get sources(){return this.viewModel.sources}set sources(e){this.viewModel.sources=e}get toolConfigs(){return this.viewModel.toolConfigs}set toolConfigs(e){this.viewModel.toolConfigs=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visibleToolCount(){const{visibleElements:e}=this;return this.toolConfigs.length+(e.lassoTool?1:0)+(e.rectangleTool?1:0)}activate(e){if(this.cancel(),!this._effectiveDisabled)return this.viewModel.activate(e)}activateTool(e){if(!this._effectiveDisabled)return this.viewModel.activateTool(e)}cancel(){this.viewModel.cancel()}toggleTool(e){if(!this._effectiveDisabled)return this.viewModel.toggleTool(e)}render(){return u(\"div\",{\"aria-label\":this.label,class:this.classes(g.base,d.widget)},u(\"div\",{class:g.container},u(\"calcite-action-bar\",{expandDisabled:!0,layout:\"horizontal\",scale:this.scale},this._renderDefaultTools(),this._renderCustomTools(),this._renderChip())))}_renderDefaultTools(){return[this._renderPanAction(),this._renderPointTool(),this._renderRectangleTool(),this._renderLassoTool()]}_renderPanAction(){if(!this.visibleElements.pan)return;const e=this.messages.pan,t=`${this.id}-tool-pan`;return this._renderAction({active:!this.activeOperation,disabled:this._effectiveDisabled,icon:\"pan\",id:t,key:t,onclick:()=>this.cancel(),text:e,title:e})}_renderChip(){if(!this.visibleElements.chip)return;const{effectiveSelectionManager:e}=this,t=e?.count??0,o=f(t);return u(\"calcite-chip\",{appearance:\"outline\",closable:t>0,closed:0===t,disabled:this._effectiveDisabled||0===t,label:o,scale:this.scale,slot:\"actions-end\",title:this.messages.clearSelection,onCalciteChipClose:()=>e?.clear()},o)}_renderCustomTools(){return this.toolConfigs.map((({toolName:e,icon:t})=>this._renderToolWithTooltip(e,t)))}_renderPointTool(){if(this.visibleElements.pointTool)return this._renderToolWithTooltip(\"point\",\"selection-set\",this.messages.selectByPoint)}_renderLassoTool(){if(this.visibleElements.lassoTool)return this._renderToolWithTooltip(\"lasso\",\"lasso-select\",this.messages.selectByLasso)}_renderRectangleTool(){if(this.visibleElements.rectangleTool)return this._renderToolWithTooltip(\"rectangle\",\"cursor-marquee\",this.messages.selectByRectangle)}_renderToolWithTooltip(e,t,o=e){const i=`${this.id}-tool-${e}`;return this._renderAction({active:this.activeOperation?.toolName===e,disabled:this._effectiveDisabled,icon:t||\"selection\",id:i,key:i,onclick:()=>this.toggleTool(e),text:o,title:o})}_renderAction(e){return u(\"calcite-action\",{...e,bind:this,class:g.toolButton,scale:this.scale})}};e([r()],b.prototype,\"_effectiveDisabled\",null),e([r()],b.prototype,\"activeOperation\",null),e([r()],b.prototype,\"continuousSelectionEnabled\",null),e([r()],b.prototype,\"defaultLassoToolOptions\",null),e([r()],b.prototype,\"defaultOperationType\",null),e([r()],b.prototype,\"defaultPointToolOptions\",null),e([r()],b.prototype,\"defaultRectangleToolOptions\",null),e([r()],b.prototype,\"disabled\",void 0),e([r()],b.prototype,\"effectiveSelectionManager\",null),e([r()],b.prototype,\"effectiveSources\",null),e([r()],b.prototype,\"label\",null),e([r()],b.prototype,\"layers\",null),e([r()],b.prototype,\"layerViewPreferenceEnabled\",null),e([r()],b.prototype,\"layout\",void 0),e([r(),p(\"esri/widgets/support/SelectionToolbar/t9n/SelectionToolbar\")],b.prototype,\"messages\",void 0),e([r()],b.prototype,\"persistSelection\",null),e([r()],b.prototype,\"returnFeatureTitleFields\",null),e([r()],b.prototype,\"returnGeometry\",null),e([r()],b.prototype,\"selectOnComplete\",null),e([r()],b.prototype,\"scale\",void 0),e([r()],b.prototype,\"selectionManager\",null),e([r()],b.prototype,\"state\",null),e([r()],b.prototype,\"sources\",null),e([r()],b.prototype,\"toolConfigs\",null),e([r()],b.prototype,\"view\",null),e([r()],b.prototype,\"viewModel\",void 0),e([r({type:v,nonNullable:!0})],b.prototype,\"visibleElements\",void 0),e([r()],b.prototype,\"visibleToolCount\",null),b=e([n(\"esri.widgets.support.SelectionToolbar\")],b);const w=b;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst e={absolute:\"absolute-direction\",relative:\"relative-direction\"};export{e as directionModeIcons};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{loadCalciteComponents as e}from\"./componentsUtils.js\";import\"./widgetUtils.js\";import{tsx as t}from\"./jsxFactory.js\";const n=()=>e({icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon\"),label:()=>import(\"@esri/calcite-components/dist/components/calcite-label\"),switch:()=>import(\"@esri/calcite-components/dist/components/calcite-switch\"),tooltip:()=>import(\"@esri/calcite-components/dist/components/calcite-tooltip\")}),i=\"esri-labeled-switch\",o={label:`${i}__label`,labelContent:`${i}__label-content`,iconInfo:`${i}__icon_info`,iconWarning:`${i}__icon_warning`,tooltip:`${i}__tooltip`};function c({checked:e,disabled:n,hint:i,key:c,label:l,onChange:a,hintIcon:s,hintKind:r}){return t(\"calcite-label\",{class:o.label,disabled:n,key:c,layout:\"inline-space-between\",scale:\"s\"},i?t(\"div\",{class:o.labelContent,key:\"label-content\"},t(\"div\",null,l),t(\"calcite-icon\",{class:\"warning\"!==r?o.iconInfo:o.iconWarning,icon:s??\"information\",id:c,onclick:e=>e.stopPropagation(),onpointerdown:e=>{e.preventDefault(),e.stopPropagation();const t=e.target.nextElementSibling;t.open=!t.open},scale:\"s\",tabIndex:0}),t(\"calcite-tooltip\",{class:o.tooltip,overlayPositioning:\"fixed\",referenceElement:c},i)):l,t(\"calcite-switch\",{checked:e,disabled:n,scale:\"s\",onCalciteSwitchChange:e=>a(e.currentTarget.checked)}))}export{c as LabeledSwitch,n as loadLabeledSwitchComponents};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let s=class extends e{constructor(o){super(o),this.directionModePicker=!1,this.header=!1,this.labelsToggle=!0,this.tooltipsToggle=!0}};o([t({type:Boolean,nonNullable:!0})],s.prototype,\"directionModePicker\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"header\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"labelsToggle\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"tooltipsToggle\",void 0),s=o([r(\"esri.widgets.support.SketchTooltipControls.VisibleElements\")],s);const l=s;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{isSome as t}from\"../../core/arrayUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../views/interactive/sketch/SketchOptions.js\";import{directionModeIcons as l}from\"../../views/interactive/tooltip/components/directionModeIcons.js\";import n from\"../Widget.js\";import{loadCalciteComponents as r}from\"./componentsUtils.js\";import{globalCss as c}from\"./globalCss.js\";import{loadLabeledSwitchComponents as a,LabeledSwitch as p}from\"./LabeledSwitch.js\";import\"./widgetUtils.js\";import{messageBundle as d}from\"./decorators/messageBundle.js\";import{tsx as b}from\"./jsxFactory.js\";import h from\"./SketchTooltipControls/VisibleElements.js\";const m=\"esri-sketch-tooltip-controls\",u={base:m,block:`${m}__block`,blockContent:`${m}__block-content`,radioButtonLabelWrapper:`${m}__radio-button-label-wrapper`};let g=class extends n{constructor(e,t){super(e,t),this.viewModel=null,this.visibleElements=new h,this.sketchOptions=new s,this.viewType=void 0,this._onTooltipsEnabledChange=e=>{this.sketchOptions.tooltips.enabled=e},this._onLabelsEnabledChange=e=>{this.sketchOptions.labels.enabled=e},this._onDirectionModeChange=e=>{this.sketchOptions.values.directionMode=e.currentTarget.selectedItem.value}}loadDependencies(){return Promise.all([r({block:()=>import(\"@esri/calcite-components/dist/components/calcite-block\"),label:()=>import(\"@esri/calcite-components/dist/components/calcite-label\"),icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon\"),\"radio-button\":()=>import(\"@esri/calcite-components/dist/components/calcite-radio-button\"),\"radio-button-group\":()=>import(\"@esri/calcite-components/dist/components/calcite-radio-button-group\")}),a()])}render(){const{label:e,visibleElements:t}=this,o=this._renderContent();return b(\"div\",{\"aria-label\":e,class:this.classes(u.base,c.widget)},o?b(\"calcite-block\",{class:u.block,expanded:!0,heading:t.header?this.label:\"\",key:\"content-block\",label:this.label},b(\"div\",{class:u.blockContent,key:\"content\"},o)):void 0)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}_renderContent(){const{visibleElements:e,viewType:o}=this,i=[e.tooltipsToggle?this._renderTooltipsToggle():null,e.labelsToggle&&\"2d\"!==o?this._renderLabelsToggle():null,e.directionModePicker?this._renderDirectionModePicker():null].filter(t);return 0===i.length?null:i}_renderTooltipsToggle(){const{messages:e,sketchOptions:t}=this;return b(p,{checked:t.tooltips.effectiveEnabled,hint:e.tooltipsToggleHint,key:`${this.id}__tooltips`,label:e.tooltipsToggle,onChange:this._onTooltipsEnabledChange})}_renderLabelsToggle(){const{messages:e,sketchOptions:t}=this;return b(p,{checked:t.labels.enabled,hint:e.labelsToggleHint,key:`${this.id}__labels`,label:e.labelsToggle,onChange:this._onLabelsEnabledChange})}_renderDirectionModePicker(){const{messages:e,sketchOptions:t}=this,{directionMode:o}=t.values;return b(\"calcite-label\",{key:\"direction-mode\",layout:\"default\",scale:\"s\"},e.directionModePicker,b(\"calcite-radio-button-group\",{key:\"radio-button-group\",layout:\"horizontal\",name:this.id,scale:\"s\",value:o,onCalciteRadioButtonGroupChange:this._onDirectionModeChange},this._renderDirectionModeOption(\"relative\",o,e.directionModeRelative),this._renderDirectionModeOption(\"absolute\",o,e.directionModeAbsolute)))}_renderDirectionModeOption(e,t,o){return b(\"calcite-label\",{key:e,layout:\"inline\",scale:\"s\"},b(\"calcite-radio-button\",{checked:e===t,scale:\"s\",value:e}),b(\"div\",{class:u.radioButtonLabelWrapper,key:\"label-wrapper\"},b(\"calcite-icon\",{icon:l[e],scale:\"s\"}),o))}};e([o()],g.prototype,\"label\",null),e([o({type:h,nonNullable:!0})],g.prototype,\"visibleElements\",void 0),e([o(),d(\"esri/widgets/support/SketchTooltipControls/t9n/SketchTooltipControls\")],g.prototype,\"messages\",void 0),e([o({nonNullable:!0,type:s})],g.prototype,\"sketchOptions\",void 0),e([o({type:String})],g.prototype,\"viewType\",void 0),g=e([i(\"esri.widgets.support.SketchTooltipControls\")],g);const k=g;export{k as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst n={hide:\"hide\",hideChildren:\"hide-children\"},i=10,e=2;function t({exclusive:n,visible:i,visibilityAppearance:e}){const t=\"checkbox\"===e;return i?n?\"circle-f\":t?\"check-square-f\":\"view-visible\":n?\"circle\":t?\"square\":\"view-hide\"}function r({connectionStatus:n,publishing:i}){return n?\"connected\"===n?\"beacon\":\"offline\":i?\"square\":\"bullet-point\"}function l(i){return i?.listMode===n.hideChildren}function u(n){return n?.listMode??void 0}function o(n){return null!=n&&\"minScale\"in n&&null!=n.minScale?n.minScale:void 0}function c(n){return null!=n&&\"maxScale\"in n&&null!=n.maxScale?n.maxScale:void 0}function a(n){if(!n)return\"inherited\";const i=S(x(n)?n.layer:n);return null!=i?i?\"independent\":\"inherited\":\"visibilityMode\"in n&&null!=n.visibilityMode?n.visibilityMode:\"independent\"}function s(n){n?.removeMany(n.filter((n=>n?.destroyed)))}function d(n){if(n&&(!(\"type\"in n)||\"wmts\"!==n.type))return\"sublayers\"in n?\"sublayers\":\"layers\"in n?\"layers\":void 0}function f(n,i){n&&(n.filterPredicate=i?n=>i(N(n)):void 0)}function y(n){const i=(n?.layer&&x(n.layer)?n.layer.layer:void 0)??n?.layer;return!!i&&(\"catalog\"!==i.type&&(M(i)??!0))}function p(i){return u(i)!==n.hide}function b(n,i){if(!n||null==i||isNaN(i))return!1;const e=o(n),t=c(n),r=null!=e&&!isNaN(e)&&e>0&&i>e,l=null!=t&&!isNaN(t)&&t>0&&i<t;return r||l}function v(n,i){n?.sort(((n,e)=>{const t=\"uid\"in n?i.indexOf(n.uid):-1,r=\"uid\"in e?i.indexOf(e.uid):-1;return t>r?-1:t<r?1:0}))}function h(n,i){const e=n?.layer;if(!e)return;const t=d(e);if(!t)return;let r;\"layers\"===t&&\"layers\"in e?r=e.layers:\"sublayers\"===t&&\"sublayers\"in e&&(r=e.sublayers),v(r,i)}function m(n){const i=n?.layer;return i&&\"layers\"in i?i.layers:null}function x(n){return null!=n&&\"layer\"in n&&null!=n.layer}function S(n){const i=g(n);return null!=i&&\"supportsSublayerVisibility\"in i?i.supportsSublayerVisibility:void 0}function M(n){const i=g(n);return null!=i&&\"supportsDynamicLayers\"in i?i.supportsDynamicLayers:void 0}function g(n){return n&&\"capabilities\"in n&&null!=n.capabilities&&\"exportMap\"in n.capabilities?n.capabilities.exportMap:void 0}function N(n){return n?.[\"data-item\"]}function q(n){return n?.getAttribute(\"data-layer-type\")}function w(n){const{children:i,error:e}=n,t=\"incompatible\"in n&&n.incompatible;return!!i?.filter((n=>!n.hidden)).length&&!e&&!t}function k(n){for(const i of n)for(const n of i)if(\"button\"===n.type||\"toggle\"===n.type)return n}export{l as areChildrenHidden,p as canDisplayLayer,y as canSortSublayers,u as findLayerListMode,c as findLayerMaxScale,o as findLayerMinScale,a as findLayerVisibilityMode,N as getItem,m as getItemLayers,q as getLayerType,d as getNormalizedChildLayerProperty,k as getSingleAction,r as getStatusIcon,t as getVisibilityIcon,b as isLayerOutsideScaleRange,x as isSublayer,w as listItemHasChildren,e as minDragEnabledItems,i as minFilterItems,s as removeDestroyedListItems,f as setFilterPredicate,h as sortChildLayersToIds,v as sortLayersToIds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Identifiable.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{watch as i,initial as r}from\"../../core/reactiveUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../Widget.js\";import{isSublayer as d}from\"./support/layerListUtils.js\";import{isWidget as a}from\"../support/widget.js\";import{tsx as p}from\"../support/jsxFactory.js\";let g=class extends(t.IdentifiableMixin(l)){constructor(e,t){super(e,t),this._legend=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([i((()=>this._canCreateLegend),(()=>this._createLegend()),r),i((()=>[this._legend,this._legendOptions]),(()=>this._updateLegend()),r)])}destroy(){this._legend=n(this._legend)}get _canCreateLegend(){const{content:e,listItem:t}=this;if(!t)return!1;const n=\"legend\";return e===n||null!=e&&!!Array.isArray(e)&&e.includes(n)}get _legendOptions(){const{listItem:e,_legendLayerInfo:t}=this,n=e?.view;return t&&n?{view:n,layerInfos:[t]}:{}}get _legendLayerInfo(){const e=this.listItem?.layer;if(!e||\"subtype-sublayer\"===e.type)return null;const t=d(e)?e:null,n=e?.parent,i=null!=n&&\"type\"in n&&\"map-image\"===n.type?t?.source:null,r=\"\";return i&&n?{layer:n,title:r,sublayerIds:[i.mapLayerId]}:{layer:e,title:r}}get disabled(){const{listItem:e,_legend:t,content:n}=this;return!e||!(Array.isArray(n)&&n.length>1)&&(!!t&&(!t.activeLayerInfos?.length||!e.visibleAtCurrentScale||!e.visible))}set disabled(e){this._overrideIfSome(\"disabled\",e)}get icon(){const{image:e}=this,t=this._getFirstWidget();return this._get(\"icon\")??(!e&&t?t.icon:null)}set icon(e){this._overrideIfSome(\"icon\",e)}get title(){return this._get(\"title\")||(this._getFirstWidget()?.label??\"\")}set title(e){this._override(\"title\",e)}render(){return p(\"div\",{class:\"esri-list-item-panel\"},this._renderContents())}_renderContent(e){const{_legend:t,disabled:n,open:i}=this;return e&&!n&&i?\"legend\"===e&&t?p(\"div\",{key:\"legend-widget\"},t.render()):\"string\"==typeof e?p(\"div\",{innerHTML:e,key:e}):a(e)?p(\"div\",{key:\"content-widget\"},e.render()):e instanceof HTMLElement?p(\"div\",{afterCreate:this._attachToNode,bind:e,key:\"content-element\"}):null:null}_renderContents(){const{content:e,open:t}=this;return t?Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e):null}async _createLegend(){if(n(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:e}=await import(\"../Legend.js\"),t=new e(this._legendOptions);this._legend=t}_attachToNode(e){e.appendChild(this)}_updateLegend(){const e=this._legend;e&&e.set(this._legendOptions)}_getWidget(e){return\"legend\"===e?this._legend:a(e)?e:null}_getFirstWidget(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._getWidget(e))).find((e=>e)):this._getWidget(e)}};e([s()],g.prototype,\"_legend\",void 0),e([s()],g.prototype,\"_canCreateLegend\",null),e([s()],g.prototype,\"_legendOptions\",null),e([s()],g.prototype,\"_legendLayerInfo\",null),e([s()],g.prototype,\"content\",void 0),e([s()],g.prototype,\"disabled\",null),e([s()],g.prototype,\"flowEnabled\",void 0),e([s()],g.prototype,\"icon\",null),e([s()],g.prototype,\"image\",void 0),e([s()],g.prototype,\"listItem\",void 0),e([s()],g.prototype,\"open\",void 0),e([s()],g.prototype,\"title\",null),e([s()],g.prototype,\"visible\",void 0),g=e([o(\"esri.widgets.LayerList.ListItemPanel\")],g);const c=g;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import{isSome as i}from\"../../core/arrayUtils.js\";import s from\"../../core/Collection.js\";import l from\"../../core/Identifiable.js\";import{watch as r,initial as o}from\"../../core/reactiveUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import{cast as a}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/has.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import{get as d}from\"../../core/accessorSupport/get.js\";import p from\"../../support/actions/ActionBase.js\";import c from\"../../support/actions/ActionButton.js\";import u from\"../../support/actions/ActionToggle.js\";import y from\"./ListItemPanel.js\";import{isLayerOutsideScaleRange as b,findLayerVisibilityMode as m,findLayerListMode as v,canDisplayLayer as f,getNormalizedChildLayerProperty as g}from\"./support/layerListUtils.js\";var C;const w=s.ofType({key:\"type\",defaultKeyValue:\"button\",base:p,typeMap:{button:c,toggle:u}}),S=s.ofType(w),_=\"layer\",M=\"child-list-mode\",P=\"hide\";let I=C=class extends(l.IdentifiableMixin(t)){constructor(e){super(e),this.actionsSections=new S,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(s.ofType(C)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.parent=null,this.view=null}initialize(){if(this.addHandles([r((()=>[this.layer,this.layer?.listMode,this.listModeDisabled]),(()=>this._watchLayerProperties(this.layer)),o),r((()=>this.checkPublishStatusEnabled),(e=>this._updateChildrenPublishing(e)),o),r((()=>this.view),(e=>this._updateChildrenView(e)),o),r((()=>this.panel),(e=>this._setListItemOnPanel(e)),o)]),\"function\"==typeof this.listItemCreatedFunction){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){this.panel?.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:e,publishing:t}=this;if(!t&&e&&\"connectionStatus\"in e)return e.connectionStatus}get error(){return this.layer?.loadError}get incompatible(){const{layerView:e}=this;return!(!e||!(\"spatialReferenceSupported\"in e))&&!e.spatialReferenceSupported}get layerView(){const{layer:e,view:t}=this;if(!e||!t||\"sublayer\"===e.type)return null;const i=\"subtype-sublayer\"===e.type?e.parent:e;return t.allLayerViews.find((e=>e.layer===i))??null}set panel(e){const t=this._get(\"panel\");e!==t&&e&&t?.destroy(),this._set(\"panel\",e)}castPanel(e){return this.panel?.open&&!e.hasOwnProperty(\"open\")&&(e.open=!0),e?new y(e):null}get sortable(){return\"knowledge-graph-sublayer\"!==this.layer?.type&&this._get(\"sortable\")}set sortable(e){this._set(\"sortable\",e)}get title(){const e=d(this,\"layer.layer\");return(!e||e&&d(this,\"layer.layer.loaded\"))&&d(this,\"layer.title\")||d(this,\"layer.attributes.title\")||\"\"}set title(e){this._override(\"title\",e)}get publishing(){const{layer:e,checkPublishStatusEnabled:t}=this;return!!(t&&e&&\"publishingInfo\"in e&&\"publishing\"===e.publishingInfo?.status)}get updating(){const{layerView:e,connectionStatus:t,layer:i,publishing:s}=this;return!s&&!t&&(e?e.updating:\"loading\"===i?.loadStatus||!1)}get visible(){return!!this.layer?.visible}set visible(e){const t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){return this.layerView?.visibleAtCurrentScale??!b(this.layer,this.view?.scale)}get visibleAtCurrentTimeExtent(){return this.layerView?.visibleAtCurrentTimeExtent??!0}get visibilityMode(){return m(this.layer)}clone(){return new C({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){this.children?.forEach((t=>t.checkPublishStatusEnabled=e))}_updateChildrenView(e){const t=this.children;t&&t.forEach((t=>t.view=e))}_createChildren(e){const{listModeDisabled:t,children:i}=this,s=e.filter((e=>!i.some((t=>t.layer===e))));i.addMany(this._createChildItems(s,t))}_destroyChildren(e){const{children:t}=this,i=t.filter((t=>!!t.layer&&!e.includes(t.layer)));t.destroyMany(i)}_sortChildren(e){this.children.sort(((t,i)=>e.indexOf(i.layer)-e.indexOf(t.layer)))}_destroyAllChildren(){this.removeHandles(M),this.children.destroyAll()}_watchChildLayerListMode(e){this.removeHandles(M),this.listModeDisabled||this.addHandles(e.toArray().map((t=>r((()=>t.listMode),(()=>this._compileChildren(e))))),M)}_compileChildren(e){const t=this.listModeDisabled?e:e?.filter((e=>v(e)!==P));e?.length?(this._createChildren(t),this._destroyChildren(t),this._sortChildren(t),this._watchChildLayerListMode(e)):this._destroyAllChildren()}_watchSublayerChanges(e){e&&this.addHandles(e.on(\"change\",(()=>this._compileChildren(e))),_)}_initializeChildLayers(e){this._compileChildren(e),this._watchSublayerChanges(e)}_createChildItems(e,t){return e.reverse().map((e=>t||f(e)?new C({layer:e,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null)).filter(i)}_watchLayerProperties(e){if(this.removeHandles(_),this.removeHandles(M),!e)return;if(\"hide-children\"===(!this.listModeDisabled&&v(e)))return void this.children.destroyAll();const t=g(e);t&&this.addHandles(r((()=>e[t]),(i=>{e.hasOwnProperty(t)&&this._initializeChildLayers(i)}),o),_)}};e([n({type:S})],I.prototype,\"actionsSections\",void 0),e([n()],I.prototype,\"actionsOpen\",void 0),e([n()],I.prototype,\"checkPublishStatusEnabled\",void 0),e([n({type:s.ofType(I)})],I.prototype,\"children\",void 0),e([n()],I.prototype,\"childrenSortable\",void 0),e([n({readOnly:!0})],I.prototype,\"connectionStatus\",null),e([n({readOnly:!0})],I.prototype,\"error\",null),e([n()],I.prototype,\"hidden\",void 0),e([n({readOnly:!0})],I.prototype,\"incompatible\",null),e([n()],I.prototype,\"layer\",void 0),e([n({readOnly:!0})],I.prototype,\"layerView\",null),e([n()],I.prototype,\"listItemCreatedFunction\",void 0),e([n({nonNullable:!0})],I.prototype,\"listModeDisabled\",void 0),e([n()],I.prototype,\"open\",void 0),e([n({type:y})],I.prototype,\"panel\",null),e([a(\"panel\")],I.prototype,\"castPanel\",null),e([n()],I.prototype,\"parent\",void 0),e([n({value:!0})],I.prototype,\"sortable\",null),e([n()],I.prototype,\"title\",null),e([n({readOnly:!0})],I.prototype,\"publishing\",null),e([n({readOnly:!0})],I.prototype,\"updating\",null),e([n()],I.prototype,\"view\",void 0),e([n()],I.prototype,\"visible\",null),e([n({readOnly:!0})],I.prototype,\"visibleAtCurrentScale\",null),e([n({readOnly:!0})],I.prototype,\"visibleAtCurrentTimeExtent\",null),e([n({readOnly:!0})],I.prototype,\"visibilityMode\",null),I=C=e([h(\"esri.widgets.LayerList.ListItem\")],I);const O=I;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Collection.js\";import s from\"../../core/Evented.js\";import{watch as i,initial as r}from\"../../core/reactiveUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{isLinkChartView as l}from\"../../linkChart/utils.js\";import n from\"./ListItem.js\";import{getItemLayers as d,findLayerListMode as h}from\"./support/layerListUtils.js\";const m={view:\"view\",viewLayers:\"view-layers\",mapLayers:\"map-layers\",layerViews:\"layer-views\",layerListMode:\"layer-list-mode\"},c=\"hide\",p=t.ofType(n);let y=class extends s.EventedAccessor{constructor(e){super(e),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new p,this.view=null}initialize(){this.addHandles([i((()=>!0===this.view?.ready),(()=>this._viewHandles()),r),i((()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled]),(()=>this._recompileList())),i((()=>l(this.view)?this.view.inGeographicLayout:null),(()=>this._compileList()))],m.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:e}=this;return e?.ready?\"ready\":e?\"loading\":\"disabled\"}get totalItems(){return this.operationalItems.flatten((e=>e.children)).length}triggerAction(e,t){e&&!e.disabled&&this.emit(\"trigger-action\",{action:e,item:t})}moveListItem(e,t,s,i){const r=e?.layer;if(!r||\"subtype-sublayer\"===r.type||\"sublayer\"===r.type)return;const a=this.view?.map?.layers,o=t?d(t):a,l=s?d(s):a;if(!o||!l)return;const{operationalItems:n}=this,h=t?.children||n,m=s?.children||n,c=l.length-i;e.parent=s||null,h.remove(e),o.remove(r),m.includes(e)||m.add(e,c),l.includes(r)||l.add(r,c),this._compileList()}_createLayerViewHandles(e){this.removeHandles(m.layerViews),this._compileList(),e&&this.addHandles(e.on(\"change\",(()=>this._compileList())),m.layerViews)}_createMapLayerHandles(e){this.removeHandles(m.mapLayers),this._compileList(),e&&this.addHandles(e.on(\"change\",(()=>this._compileList())),m.mapLayers)}_createListItem(e){const{view:t,listItemCreatedFunction:s,checkPublishStatusEnabled:i,listModeDisabled:r}=this;return new n({checkPublishStatusEnabled:i,listModeDisabled:r,layer:e,listItemCreatedFunction:s,view:t})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(e){return e?this.listModeDisabled?e:e.filter((e=>h(e)!==c)):void 0}_watchLayersListMode(e){this.removeHandles(m.layerListMode),e&&!this.listModeDisabled&&this.addHandles(i((()=>e.filter((e=>\"listMode\"in e)).map((e=>e.listMode)).toArray()),(()=>this._compileList())),m.layerListMode)}_compileList(){const e=this.view?.map?.layers,t=l(this.view)&&!this.view.inGeographicLayout?e?.filter((({type:e})=>\"link-chart\"===e)):e;this._watchLayersListMode(t);const s=this._getViewableLayers(t);s?.length?(this._createNewItems(s),this._removeItems(s),this._sortItems(s)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.some((t=>t.layer===e))||t.add(this._createListItem(e))}))}_removeItems(e){const{operationalItems:t}=this,s=[];t.forEach((t=>{t&&e&&e.includes(t.layer)||s.push(t)})),t.destroyMany(s)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,s)=>{const i=e.indexOf(t.layer),r=e.indexOf(s.layer);return i>r?-1:i<r?1:0}))}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:e}=this;this.removeHandles([m.mapLayers,m.layerViews,m.viewLayers]),e?.ready?this.addHandles([i((()=>this.view?.map?.allLayers),(e=>this._createMapLayerHandles(e)),r),i((()=>this.view?.allLayerViews),(e=>this._createLayerViewHandles(e)),r)],m.viewLayers):this._removeAllItems()}};e([a()],y.prototype,\"checkPublishStatusEnabled\",void 0),e([a()],y.prototype,\"listItemCreatedFunction\",void 0),e([a({nonNullable:!0})],y.prototype,\"listModeDisabled\",void 0),e([a({type:p})],y.prototype,\"operationalItems\",void 0),e([a({readOnly:!0})],y.prototype,\"state\",null),e([a()],y.prototype,\"totalItems\",null),e([a()],y.prototype,\"view\",void 0),y=e([o(\"esri.widgets.LayerList.LayerListViewModel\")],y);const v=y;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getNormalizedChildLayerProperty as e}from\"../../LayerList/support/layerListUtils.js\";const s=e=>t(e)||r(e),t=e=>{if(!(\"type\"in e))return!1;switch(e.type){case\"feature\":case\"geojson\":case\"csv\":case\"graphics\":case\"wfs\":case\"map-notes\":case\"oriented-imagery\":case\"scene\":case\"building-scene\":case\"subtype-sublayer\":return!0;default:return!1}},r=t=>{const r=e(t);if(null!=r&&t.hasOwnProperty(r)&&null!=t[r])for(const e of t[r])if(s(e))return!0;return!1},n=(e,s)=>null!=s&&null!=e&&(s.test(e.title)?\"self\":!!e.children.some((e=>!1!==n(e,s)))&&\"children\");export{s as isValidSnappingLayer,r as isValidSnappingLayerGroup,t as isValidSnappingLayerSource,n as itemTitleMatchesFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Collection.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../LayerList/ListItem.js\";import{canDisplayLayer as n}from\"../../LayerList/support/layerListUtils.js\";import{isValidSnappingLayer as a}from\"./snappingLayerListUtils.js\";var l;let p=l=class extends s{constructor(e){super(e),this.children=new t,this.parent=null}get enabled(){const{children:e}=this;if(0===e.length)return null!=this.featureSource&&this.featureSource.enabled?\"enabled\":\"disabled\";let r=!1,t=!1;for(const i of e){if(\"indeterminate\"===i.enabled)return i.enabled;if(\"enabled\"===i.enabled?r=!0:\"disabled\"===i.enabled&&(t=!0),t&&r)return\"indeterminate\"}return t?\"disabled\":\"enabled\"}get childLayerIds(){return this.children.toArray().flatMap((e=>[e.layer?.id,...e.childLayerIds]))}get featureSource(){const{layer:e,getFeatureSnappingSources:r}=this;return r().find((r=>r.layer===e))}_initializeChildLayers(e){if(!e)return;const r=e.filter(a);super._initializeChildLayers(r)}_createChildItems(e){return e.map((e=>n(e)?new l({layer:e,parent:this,view:this.view,getFeatureSnappingSources:this.getFeatureSnappingSources}):null)).filter(r).reverse()}};e([i()],p.prototype,\"enabled\",null),e([i()],p.prototype,\"children\",void 0),e([i()],p.prototype,\"childLayerIds\",null),e([i()],p.prototype,\"featureSource\",null),e([i({constructOnly:!0})],p.prototype,\"getFeatureSnappingSources\",void 0),e([i()],p.prototype,\"parent\",void 0),p=l=e([o(\"esri.widgets.support.SnappingControls.SnappingListItem\")],p);export{p as SnappingListItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Collection.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../LayerList/LayerListViewModel.js\";import{isValidSnappingLayer as i}from\"./snappingLayerListUtils.js\";import{SnappingListItem as p}from\"./SnappingListItem.js\";let a=class extends o{constructor(){super(...arguments),this.featureSnappingSources=new t}get operationalItemsFlat(){return this.operationalItems.flatten((e=>e.children))}get selectableItems(){return this.operationalItemsFlat.filter((e=>!e.children?.length))}_compileList(){const e=this.view?.map?.layers;if(!e)return;const t=e.filter(i);this._watchLayersListMode(t);const r=this._getViewableLayers(t);r?.length?(this._createNewItems(r),this._removeItems(r),this._sortItems(r)):this._removeAllItems()}_createListItem(e){return new p({layer:e,view:this.view,getFeatureSnappingSources:()=>this.featureSnappingSources})}};e([r()],a.prototype,\"featureSnappingSources\",void 0),e([r()],a.prototype,\"operationalItems\",void 0),e([r()],a.prototype,\"operationalItemsFlat\",null),e([r()],a.prototype,\"selectableItems\",null),a=e([s(\"esri.widgets.support.SnappingControls.SnappingLayerListViewModel\")],a);export{a as SnappingLayerListViewModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Error.js\";import{watch as i,initial as o}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../views/interactive/snapping/FeatureSnappingLayerSource.js\";import p from\"../../../views/interactive/snapping/SnappingOptions.js\";import{canDisplayLayer as l}from\"../../LayerList/support/layerListUtils.js\";import{SnappingLayerListViewModel as d}from\"./SnappingLayerListViewModel.js\";let c=class extends r{constructor(e){super(e),this.layerListViewModel=new d,this.snappingOptions=new p,this.view=null}initialize(){this.addHandles([i((()=>({viewModel:this.layerListViewModel,view:this.view})),(({viewModel:e,view:r})=>{e.view=r}),o),i((()=>({viewModel:this.layerListViewModel,sources:this.snappingOptions?.featureSources})),(({viewModel:e,sources:r})=>{e.featureSnappingSources=r}),o)])}get allLayersEnabled(){return(this.layerListViewModel?.selectableItems??[]).every((e=>\"enabled\"===e.enabled))}get allLayersDisabled(){return(this.layerListViewModel?.selectableItems??[]).every((e=>!e.enabled))}get layersEnabledCount(){return this.layerListViewModel?.selectableItems?.filter((e=>\"enabled\"===e.enabled)).length??0}get state(){return this.snappingOptions?\"ready\":\"disabled\"}toggleSnappingForLayers(e,r){e?.forEach((e=>r?this.enableSnappingForLayer(e):this.disableSnappingForLayer(e)))}toggleSnappingForAllLayers(e){this.layerListViewModel.selectableItems.forEach((({layer:r})=>{const t=r?.id;e?this.enableSnappingForLayer(t):this.disableSnappingForLayer(t)}))}enableSnappingForLayer(e){const r=this._findSnappingSourceForLayer(e)??this._makeSnappingSourceForLayer(e);r&&(r.enabled=!0)}disableSnappingForLayer(e){const r=this._findSnappingSourceForLayer(e);r&&(r.enabled=!1)}updateEnabledFeatureSources(e){for(const r of this.snappingOptions.featureSources)l(r.layer)&&(r.enabled=e.includes(r.layer.id))}_findSnappingSourceForLayer(e){return this.snappingOptions.featureSources.find((r=>r.layer.id===e))}_makeSnappingSourceForLayer(e){const r=this.layerListViewModel.operationalItemsFlat.find((r=>r.layer?.id===e))?.layer;if(!r)throw new t(\"snapping-controls:layer-not-found\",`cannot enable snapping for layer with id ${e} because no such layer was found in the view`);if(\"group\"===r.type)return;const i=new n({layer:r});return this.snappingOptions.featureSources.add(i),i}};e([s()],c.prototype,\"allLayersEnabled\",null),e([s()],c.prototype,\"allLayersDisabled\",null),e([s({constructOnly:!0})],c.prototype,\"layerListViewModel\",void 0),e([s()],c.prototype,\"layersEnabledCount\",null),e([s({type:p,nonNullable:!0})],c.prototype,\"snappingOptions\",void 0),e([s()],c.prototype,\"state\",null),e([s()],c.prototype,\"view\",void 0),c=e([a(\"esri.widgets.support.SnappingControls.SnappingControlsViewModel\")],c);const y=c;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{isSome as t}from\"../../core/arrayUtils.js\";import{createTask as i}from\"../../core/asyncUtils.js\";import{destroyMaybe as s}from\"../../core/maybe.js\";import{watch as l}from\"../../core/reactiveUtils.js\";import{generateUID as n}from\"../../core/uid.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../Widget.js\";import{loadCalciteComponents as d}from\"./componentsUtils.js\";import{globalCss as p}from\"./globalCss.js\";import{loadLabeledSwitchComponents as c,LabeledSwitch as g}from\"./LabeledSwitch.js\";import{setFocus as h}from\"./widgetUtils.js\";import{messageBundle as b}from\"./decorators/messageBundle.js\";import{tsx as m}from\"./jsxFactory.js\";import u from\"./SnappingControls/SnappingControlsViewModel.js\";import{itemTitleMatchesFilter as y}from\"./SnappingControls/snappingLayerListUtils.js\";import _ from\"./SnappingControls/VisibleElements.js\";const L=\"esri-snapping-controls\",w={base:L,container:`${L}__container`,toggleBlock:`${L}__toggle-block`,layerListBlock:`${L}__layer-list-block`,layerList:`${L}__layer-list`,layerListFilter:`${L}__layer-list__filter`,layerListButton:`${L}__layer-list__button`,layerListItem:`${L}__layer-list__item`,layerListGroup:`${L}__layer-list__group`,nestedContainer:`${L}__nested-container`};let v=class extends r{constructor(e,t){super(e,t),this._defaultViewModel=null,this._layerListFilter=null,this._gridLoadTask=null,this.layerListOpen=!0,this.gridOptionsOpen=!1,this.messages=null,this.messagesCommon=null,this.snappingManager=null,this.visibleElements=new _,this._enableSnappingSwitchChange=e=>{this.snappingOptions.enabled=e},this._featureEnabledSwitchChange=e=>{this.snappingOptions.featureEnabled=e},this._gridEnabledSwitchChange=e=>{this.snappingOptions.gridEnabled=e,e&&this._startLoadGrid()},this._selfEnabledSwitchChange=e=>{this.snappingOptions.selfEnabled=e},this._onToggleLayersButtonClick=e=>{this.viewModel.toggleSnappingForAllLayers(!this.viewModel.allLayersEnabled),h(e.target)};const{snappingOptions:i,view:s,viewModel:l}=e;this.viewModel=l??(this._defaultViewModel=new u({snappingOptions:i,view:s}))}normalizeCtorArgs(e){const{snappingOptions:t,view:i,viewModel:s,...l}=e;return l}destroy(){this.viewModel!==this._defaultViewModel&&(this._defaultViewModel=s(this._defaultViewModel))}loadDependencies(){return Promise.all([d({block:()=>import(\"@esri/calcite-components/dist/components/calcite-block\"),button:()=>import(\"@esri/calcite-components/dist/components/calcite-button\"),input:()=>import(\"@esri/calcite-components/dist/components/calcite-input\"),list:()=>import(\"@esri/calcite-components/dist/components/calcite-list\"),\"list-item\":()=>import(\"@esri/calcite-components/dist/components/calcite-list-item\"),checkbox:()=>import(\"@esri/calcite-components/dist/components/calcite-checkbox\"),loader:()=>import(\"@esri/calcite-components/dist/components/calcite-loader\")}),c()])}initialize(){this.addHandles(l((()=>\"2d\"===this.view?.type&&!!this.view.grid),(e=>{this.visibleElements.gridControls&&(this.snappingOptions.gridEnabled=e)})))}get _openAndReady(){return this.gridOptionsOpen&&this.snappingOptions.gridEnabled&&this.snappingOptions.enabled}get icon(){return\"snap-to-point\"}set icon(e){this._overrideIfSome(\"icon\",e)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set viewModel(e){e!==this._get(\"viewModel\")&&(null!=this._defaultViewModel&&this._defaultViewModel===e||(this._defaultViewModel=s(this._defaultViewModel)),this._set(\"viewModel\",e))}render(){const{label:e}=this;return m(\"div\",{\"aria-label\":e,class:this.classes(w.base,p.widget)},m(\"div\",{class:w.container},this._renderContent()))}_renderContent(){return[this._renderToggles(),this._renderLayerList(),\"2d\"===this.view?.type&&this.visibleElements.gridControls?this._renderGridOptions():null]}_renderToggles(){const{visibleElements:e,view:i}=this,s=[e.selfEnabledToggle?this._renderSelfEnabledToggle():null,e.featureEnabledToggle?this._renderFeatureEnabledToggle():null,e.gridEnabledToggle&&\"2d\"===i?.type?this._renderGridEnabledToggle():null].filter(t),l=[e.enabledToggle?this._renderEnabledToggle():null,s.length>0?m(\"div\",{class:w.nestedContainer},s):null].filter(t);return 0===l.length?null:m(\"calcite-block\",{class:w.toggleBlock,expanded:!0,heading:e.header?this.label:\"\",key:\"toggle-block\",label:this.label},l)}_renderEnabledToggle(){return m(g,{checked:this.viewModel.snappingOptions.enabled,disabled:this._enabledToggleDisabled,key:`${this.id}__enabled-toggle`,label:this.messages.enableSnapping,onChange:this._enableSnappingSwitchChange})}_renderSelfEnabledToggle(){return m(g,{checked:this.viewModel.snappingOptions.selfEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__self-enabled-toggle`,label:this.messages.geometryGuides,onChange:this._selfEnabledSwitchChange})}_renderFeatureEnabledToggle(){return m(g,{checked:this.viewModel.snappingOptions.featureEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__feature-enabled-toggle`,label:this.messages.featureToFeature,onChange:this._featureEnabledSwitchChange})}_renderGridEnabledToggle(){return m(g,{checked:this.viewModel.snappingOptions.gridEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__grid-enabled-toggle`,label:this.messages.grid,onChange:this._gridEnabledSwitchChange})}_renderLayerList(){if(!this.visibleElements.layerList)return null;const{messages:e,viewModel:t}=this,i=t.layerListViewModel.operationalItems.length>9?m(\"calcite-input\",{class:w.layerListFilter,clearable:!0,placeholder:e?.searchLayers,onCalciteInputInput:({currentTarget:{value:e}})=>{this._layerListFilter=\"\"===e?null:new RegExp(e,\"i\")}}):null,s=this._secondaryElementsDisabled,l=this.layerListOpen&&!s,n=t.layerListViewModel.operationalItems?.find((e=>!!e.children.length));return m(\"calcite-block\",{class:w.layerListBlock,collapsible:!0,disabled:this._secondaryElementsDisabled,expanded:l,heading:e.snappingLayers,key:\"list-block\",onCalciteBlockToggle:e=>this.layerListOpen=e.currentTarget.expanded},i,this._renderToggleLayersButton(),m(\"calcite-list\",{class:w.layerList,displayMode:n?\"nested\":\"flat\",label:e?.snappingLayers,selectionMode:\"none\"},this._renderLayerListItemCollection(t.layerListViewModel.operationalItems)))}_renderGridOptions(){const{view:e,visibleElements:t,snappingManager:i,snappingOptions:s,_openAndReady:l}=this,{gridEnabled:n,enabled:o}=s;(l||\"2d\"===e?.type&&e.grid)&&this._startLoadGrid();const a=this._gridLoadTask?.value,r=a&&\"2d\"===e?.type&&m(a,{snappingManager:i,snappingOptions:s,view:e,visibleElements:t.gridControlsElements});return m(\"calcite-block\",{class:w.layerListBlock,collapsible:!0,disabled:!n||!o,expanded:l,heading:this.messages.gridOptionsHeading,key:\"grid-block\",onCalciteBlockClose:()=>this.gridOptionsOpen=!1,onCalciteBlockOpen:()=>this.gridOptionsOpen=!0},r??m(\"calcite-loader\",{label:this.messagesCommon.loading,scale:\"s\",text:this.messagesCommon.loading}))}async _startLoadGrid(){!this._gridLoadTask&&this.visibleElements.gridControls&&\"2d\"===this.view?.type&&(this._gridLoadTask=i((async()=>(await import(\"./GridControls.js\")).default)))}_renderLayerListItemCollection(e){const i=this._layerListFilter;return e.map((e=>{switch(i?y(e,i):null){case\"children\":{const t=e.children.filter((e=>!1!==y(e,i)));return this._renderLayerListItemGroup(e,t)}case\"self\":case null:return this._renderLayerListItemOrGroup(e);case!1:return\"self\"===y(e.parent,i)?this._renderLayerListItemOrGroup(e):null}})).toArray().filter(t)}_renderToggleLayersButton(){if(!this.visibleElements.layerListToggleLayersButton)return null;const{viewModel:{allLayersEnabled:e},messages:t}=this,i=e?t.disableAllLayers:t.enableAllLayers;return m(\"calcite-button\",{appearance:\"transparent\",class:w.layerListButton,label:i,name:\"layer-toggle\",onclick:this._onToggleLayersButtonClick},i)}_renderLayerListItemOrGroup(e){if(e.children.length)return this._renderLayerListItemGroup(e);const{messages:{untitledLayer:t}}=this,i=e.title||t,s=()=>{this.viewModel.toggleSnappingForLayers([e.layer?.id],\"enabled\"!==e.enabled)};return m(\"calcite-list-item\",{class:w.layerListItem,key:`${this.id}-list-item-${e.uid}`,label:i,onCalciteListItemSelect:e=>{e.stopPropagation(),s()}},m(\"calcite-checkbox\",{checked:\"enabled\"===e.enabled,slot:\"actions-start\",onCalciteCheckboxChange:s}))}_renderLayerListItemGroup(e,t){const{messages:i}=this,{children:s,title:l}=e,o=l||i.untitledLayer,a=l&&\"\"!==l?l:n(),r=!!t?.length,d=t??s,p=()=>{this.viewModel.toggleSnappingForLayers(e.childLayerIds,\"enabled\"!==e.enabled)},c=d?.find((e=>!!e.children.length));return m(\"calcite-list-item\",{class:w.layerListGroup,expanded:r,key:a,label:o,onCalciteListItemSelect:e=>{e.stopPropagation(),p()}},m(\"calcite-checkbox\",{checked:\"enabled\"===e.enabled,indeterminate:\"indeterminate\"===e.enabled,slot:\"actions-start\",onCalciteCheckboxChange:p}),m(\"calcite-list\",{displayMode:c?\"nested\":\"flat\",label:i?.snappingLayers,selectionMode:\"none\"},this._renderLayerListItemCollection(d)))}get _enabledToggleDisabled(){const e=this.snappingOptions;return e.enabledToggled||e.forceDisabled}get _secondaryElementsDisabled(){return this._enabledToggleDisabled||!this.snappingOptions.enabled}};e([o()],v.prototype,\"_defaultViewModel\",void 0),e([o()],v.prototype,\"_layerListFilter\",void 0),e([o()],v.prototype,\"_gridLoadTask\",void 0),e([o()],v.prototype,\"_openAndReady\",null),e([o()],v.prototype,\"label\",null),e([o({type:Boolean,nonNullable:!0})],v.prototype,\"layerListOpen\",void 0),e([o({type:Boolean,nonNullable:!0})],v.prototype,\"gridOptionsOpen\",void 0),e([o(),b(\"esri/widgets/support/SnappingControls/t9n/SnappingControls\")],v.prototype,\"messages\",void 0),e([o(),b(\"esri/t9n/common\")],v.prototype,\"messagesCommon\",void 0),e([o()],v.prototype,\"snappingOptions\",null),e([o()],v.prototype,\"snappingManager\",void 0),e([o()],v.prototype,\"view\",null),e([o()],v.prototype,\"viewModel\",null),e([o({type:_,nonNullable:!0})],v.prototype,\"visibleElements\",void 0),e([o()],v.prototype,\"_enabledToggleDisabled\",null),e([o()],v.prototype,\"_secondaryElementsDisabled\",null),v=e([a(\"esri.widgets.support.SnappingControls\")],v);const f=v;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../intl.js\";import{isSome as t}from\"../core/arrayUtils.js\";import{handlesGroup as o}from\"../core/handleUtils.js\";import i from\"../core/Logger.js\";import{removeMaybe as s,destroyMaybe as l}from\"../core/maybe.js\";import{ignoreAbortErrors as r}from\"../core/promiseUtils.js\";import{watch as n,when as a,syncAndInitial as p}from\"../core/reactiveUtils.js\";import{property as c}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import u from\"../views/interactive/sketch/SketchValueOptions.js\";import h from\"./Widget.js\";import v from\"./Sketch/SketchViewModel.js\";import{VisibleElements as m}from\"./Sketch/VisibleElements.js\";import{LayoutPriority as g}from\"./Sketch/support/sketchUtils.js\";import f from\"./Sketch/support/ResponsiveToolbar/ResponsiveToolbar.js\";import{loadCalciteComponents as _}from\"./support/componentsUtils.js\";import y from\"./support/SelectionToolbar.js\";import b from\"./support/SketchTooltipControls.js\";import w from\"./support/SnappingControls.js\";import\"./support/widgetUtils.js\";import{messageBundle as T}from\"./support/decorators/messageBundle.js\";import{vmEvent as M}from\"./support/decorators/vmEvent.js\";import{tsx as C}from\"./support/jsxFactory.js\";import O from\"./support/SelectionToolbar/VisibleElements.js\";import S from\"./support/SketchTooltipControls/VisibleElements.js\";import{substitute as k}from\"../intl/substitute.js\";const P=\"esri-sketch\",I={base:P,vertical:`${P}--vertical`,docked:`${P}-bar`,floating:`${P}-pad`,chipHorizontal:`${P}__selection-count-chip--horizontal`,chipVertical:`${P}__selection-count-chip--vertical`,chipVerticalSmall:`${P}__selection-count-chip--vertical--s`,popoverWrapper:`${P}__popover-wrapper`},R={point:\"pin\",polyline:\"line\",polygon:\"polygon\",rectangle:\"rectangle\",circle:\"circle\",multipoint:\"pins\",mesh:\"i3d-building\",freehandPolygon:\"freehand-area\",freehandPolyline:\"freehand\"};let E=class extends h{constructor(e,t){super(e,t),this._activeCustomToolOptions=null,this._selectionToolbar=null,this._viewModelHandlesGroup=null,this.availableCreateTools=[\"point\",\"polyline\",\"polygon\",\"rectangle\",\"circle\"],this.customToolOptions=null,this.customActions=null,this.toolbarKind=\"floating\",this.contextualToolLocation=\"separate\",this.groupCollapsePriorities=null,this.groupAllowCollapseOptions=null,this.messages=null,this.messagesCommon=null,this.visibleElements=new m,this._defaultViewModel=null,this._calcitePopoverReferenceElement=null,this._relativeLocation=\"top\",this._popoverOpen=!1,this._activateCreateTool=this._activateCreateTool.bind(this),this.viewModel=e?.viewModel||(this._defaultViewModel=new v({creationMode:e?.creationMode??\"continuous\"}))}initialize(){const{layer:e,view:t}=this,i=\"2d\"===t?.type,l=new y({persistSelection:!1,visibleElements:new O({chip:!1,pan:!1,pointTool:!1,lassoTool:i,rectangleTool:i}),view:t,sources:e?[e]:null,scale:this.scale});this.addHandles([n((()=>this.viewModel),(e=>{this._viewModelHandlesGroup=s(this._viewModelHandlesGroup),e&&(this._viewModelHandlesGroup=o([e.on(\"create\",(()=>this.scheduleRender())),e.on(\"update\",(()=>this.scheduleRender())),e.on(\"delete\",(e=>this.emit(\"delete\",e))),e.on(\"undo\",(()=>this.scheduleRender())),e.on(\"redo\",(()=>this.scheduleRender())),n((()=>e.layer),(e=>{this._selectionToolbar&&(this._selectionToolbar.sources=e?[e]:null)})),n((()=>e.view),(e=>{this._selectionToolbar&&(this._selectionToolbar.view=e)})),n((()=>e.state),(()=>this.notifyChange(\"state\")))]))}),p),a((()=>l.activeOperation),(()=>this.viewModel.cancel())),l.on(\"complete\",(e=>this._onSelectionOperationComplete(e))),n((()=>{const{view:e,visibleElements:{selectionTools:t}}=this;return{lassoTool:\"3d\"!==e?.type&&!!t?.[\"lasso-selection\"],rectangleTool:\"3d\"!==e?.type&&!!t?.[\"rectangle-selection\"]}}),(e=>{Object.assign(l.visibleElements,e)}),p)]),this._selectionToolbar=l}loadDependencies(){return _({action:()=>import(\"@esri/calcite-components/dist/components/calcite-action\"),chip:()=>import(\"@esri/calcite-components/dist/components/calcite-chip\"),popover:()=>import(\"@esri/calcite-components/dist/components/calcite-popover\")})}destroy(){this._selectionToolbar?.destroy(),this._viewModelHandlesGroup=s(this._viewModelHandlesGroup)}get activeTool(){const e=this._selectionToolbar?.activeOperation;if(e)switch(e.toolName){case\"lasso\":return\"lasso-selection\";case\"rectangle\":return\"rectangle-selection\";case\"default\":return\"custom-selection\"}const t=this._effectiveAvailableCreateTools,{activeTool:o,activeCreateToolDrawMode:i}=this.viewModel;return\"polygon\"===o&&\"freehand\"===i&&t?.includes(\"freehandPolygon\")?\"freehandPolygon\":\"polyline\"===o&&\"freehand\"===i&&t?.includes(\"freehandPolyline\")?\"freehandPolyline\":this.viewModel.activeTool}get activeTooltip(){return this.viewModel.activeTooltip}get createGraphic(){return this.viewModel.createGraphic}get creationMode(){return this.viewModel.creationMode}set creationMode(e){this.viewModel.creationMode=e}get defaultCreateOptions(){return this.viewModel.defaultCreateOptions}set defaultCreateOptions(e){this.viewModel.defaultCreateOptions=e}get defaultUpdateOptions(){return this.viewModel.defaultUpdateOptions}set defaultUpdateOptions(e){this.viewModel.defaultUpdateOptions=e}get icon(){return\"pencil\"}set icon(e){this._overrideIfSome(\"icon\",e)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get labelOptions(){return this.viewModel.labelOptions}set labelOptions(e){this.viewModel.labelOptions=e}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}set layout(e){this._set(\"layout\",e),this._selectionToolbar&&(this._selectionToolbar.layout=e)}set scale(e){this._set(\"scale\",e),this._selectionToolbar&&(this._selectionToolbar.scale=e)}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get state(){return this._selectionToolbar?.activeOperation?\"active\":this.viewModel.state}get tooltipOptions(){return this.viewModel.tooltipOptions}set tooltipOptions(e){this.viewModel.tooltipOptions=e}get updateGraphics(){return this.viewModel.updateGraphics}get valueOptions(){return this.viewModel.valueOptions}set valueOptions(e){this.viewModel.valueOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set viewModel(e){const t=this._get(\"viewModel\");e!==t&&(t&&t===this._defaultViewModel&&l(t),this._set(\"viewModel\",e))}get _effectiveAvailableCreateTools(){const{availableCreateTools:e,view:t,visibleElements:o}=this,i=e?.filter((e=>!!o.createTools?.[e]));return\"3d\"===t?.type?i?.filter((e=>\"multipoint\"!==e)):i}create(e,t,o){const i=o?.createOptions??t;return this._activeCustomToolOptions=o,r(this.viewModel.create(e,i))}update(e,t){return r(this.viewModel.update(e,t))}complete(){this.viewModel.complete()}cancel(){this._selectionToolbar?.cancel(),this.viewModel.cancel(),this._activeCustomToolOptions=null}undo(){this.viewModel.undo(),this.view?.focus()}redo(){this.viewModel.redo(),this.view?.focus()}delete(){this.viewModel.delete()}duplicate(){return this.viewModel.duplicate()}dismissFloatingElements(){this._popoverOpen=!1}render(){const{toolbarKind:e,layout:t,scale:o}=this,i=this.customActions?.filter((e=>\"selection-toolbar\"===e.position));return C(\"div\",null,C(\"div\",{classes:{[I.base]:!0,[I.floating]:\"floating\"===e,[I.docked]:\"docked\"===e,[I.vertical]:\"vertical\"===t}},C(f,{barStyle:e,layout:t,scale:o},this._renderSelectionSetItemGroupInline(),C(\"div\",{\"allow-collapse\":this.groupAllowCollapseOptions?.get(\"selectionTools\")??!0,\"group-kind\":\"split-button\",key:\"selection-split-button\",priority:this.groupCollapsePriorities?.get(\"selectionTools\")??g.Low},this._renderDefaultSelectionButton(),this._selectionToolbar?.render(),i?.map((e=>this._renderToolbarItem(e)))),this._renderCreateToolActionGroup(),this._renderUndoRedoMenuItemGroup(),this._renderSettingsMenuItemGroup()),this._renderSelectionSetToolbar(),this._renderSettingsMenuPopover()))}_renderSettingsMenuPopover(){const{messagesCommon:e,snappingOptions:t,view:o,viewModel:i,visibleElements:s}=this;if(!this._calcitePopoverReferenceElement)return;const l={directionModePicker:s.directionModePicker,labelsToggle:s.labelsToggle,tooltipsToggle:s.tooltipsToggle},r=\"horizontal\"===this.layout?\"top\"===this._relativeLocation?\"bottom-end\":\"top-end\":\"right-end\";return C(\"calcite-popover\",{closable:!0,focusTrapDisabled:!0,heading:e.settings,label:e.settings,open:this._popoverOpen,overlayPositioning:\"fixed\",placement:r,referenceElement:this._calcitePopoverReferenceElement,scale:this.scale,onCalcitePopoverBeforeClose:()=>this._popoverOpen=!1,onCalcitePopoverBeforeOpen:e=>this._remeasurePopoverSizes(e.currentTarget),onCalcitePopoverClose:()=>this._refocusOnView()},C(\"div\",{class:I.popoverWrapper},Object.values(l).includes(!0)?C(b,{sketchOptions:i.sketchOptions,viewType:o?.type,visibleElements:new S(l)}):void 0,s.snappingControls&&o&&t?C(w,{snappingManager:this.viewModel.snappingManager,snappingOptions:t,view:o,visibleElements:s.snappingControlsElements}):void 0))}_renderSelectionSetToolbar(){if(\"separate\"!==this.contextualToolLocation)return;const e=this._renderSelectionSetItemGroup();return e?.length?C(f,{barStyle:this.toolbarKind,layout:this.layout,scale:this.scale},e):void 0}_renderSelectionSetItemGroupInline(){return\"separate\"===this.contextualToolLocation?[]:this._renderSelectionSetItemGroup()}_renderUndoRedoMenuItemGroup(){return C(\"div\",{\"allow-collapse\":this.groupAllowCollapseOptions?.get(\"undoRedo\")??!0,\"group-kind\":\"split-button\",key:\"undo-redo-menu\",priority:this.groupCollapsePriorities?.get(\"undoRedo\")??g.Medium,slot:\"actions-end\"},this._renderUndoButton(),this._renderRedoButton())}_renderSettingsMenuItemGroup(){const e=[],o=[];this.customActions?.forEach((t=>{\"settings-before\"===t.position?o.push(t):\"settings-after\"===t.position&&e.push(t)}));const i=[...o.map((e=>this._renderToolbarItem(e))),this._renderSettingsMenuButton(),...e.map((e=>this._renderToolbarItem(e)))].filter(t);if(i.length)return C(\"div\",{\"allow-collapse\":this.groupAllowCollapseOptions?.get(\"settings\")??!1,\"group-kind\":\"overflow-group\",key:\"settings-menu\",priority:this.groupCollapsePriorities?.get(\"settings\")??g.Max,slot:\"actions-end\"},i)}_renderSelectionSetItemGroup(){if(!this.updateGraphics.length)return[];const e=\"inline-end\"===this.contextualToolLocation?\"actions-end\":void 0,t=this.customActions?.filter((e=>\"before-selection-set\"===e.position)),o=this.customActions?.filter((e=>\"after-selection-set\"===e.position)),i=this.groupCollapsePriorities?.get(\"selectionSet\")??g.High;return[C(\"div\",{\"group-kind\":\"measured-content\",key:\"selection-count-chip-group\",priority:i,slot:e},this._renderFeatureCountChip()),C(\"div\",{\"allow-collapse\":this.groupAllowCollapseOptions?.get(\"selectionSet\")??!1,\"group-kind\":\"overflow-group\",key:\"selection-set-tool-group\",priority:i,slot:e},t?.map((e=>this._renderToolbarItem(e))),this._renderDuplicateButton(),this._renderDeleteButton(),o?.map((e=>this._renderToolbarItem(e))))]}_renderDefaultSelectionButton(){if(!this.viewModel.updateOnGraphicClick)return[];const{messages:e,state:t}=this;return this._renderToolbarItem({id:\"pointer-select\",text:e.selectFeature,icon:\"cursor\",onclick:this._activateDefaultSelectTool,active:\"ready\"===t})}_renderCreateToolActionGroup(){const e=this._effectiveAvailableCreateTools?.flatMap((e=>this._renderBuiltInCreateToolItem(e)))??[],t=this.customToolOptions?.flatMap((e=>this._renderCustomToolItem(e)))??[];return C(\"div\",{\"allow-collapse\":this.groupAllowCollapseOptions?.get(\"createTools\")??!0,\"group-kind\":\"overflow-group\",key:\"create-tools-group\",priority:this.groupCollapsePriorities?.get(\"createTools\")??g.High},e,t)}_renderBuiltInCreateToolItem(e){return this._renderToolbarItem({id:`${e}-button`,text:this.messages.draw[e],icon:R[e],onclick:()=>this._activateCreateTool(e),active:this.activeTool===e&&!this._activeCustomToolOptions})}_renderCustomToolItem(e){const{toolKey:t}=e;return this._renderToolbarItem({id:`custom-${e.toolKey}`,text:e.label,icon:e.icon,onclick:()=>this._activateCreateTool(e.toolName,null,e),active:this._activeCustomToolOptions?.toolKey===t})}_renderUndoButton(){return this.visibleElements.undoRedoMenu?this._renderToolbarItem({id:\"undo-button\",text:this.messages.undo,icon:\"undo\",disabled:!this.viewModel.canUndo(),onclick:this.undo,flipRTL:!0}):[]}_renderRedoButton(){return this.visibleElements.undoRedoMenu?this._renderToolbarItem({id:\"redo-button\",text:this.messages.redo,icon:\"redo\",disabled:!this.viewModel.canRedo(),onclick:this.redo,flipRTL:!0}):[]}_renderSettingsMenuButton(){return this.visibleElements.settingsMenu?this._renderToolbarItem({id:\"settings-menu-action\",text:this.messagesCommon.settings,icon:\"gear\",active:this._popoverOpen,onclick:()=>this._popoverOpen=!this._popoverOpen,afterCreate:e=>this._calcitePopoverReferenceElement=e,afterUpdate:e=>this._calcitePopoverReferenceElement=e,afterRemoved:()=>this._calcitePopoverReferenceElement=null}):[]}_renderFeatureCountChip(){if(!this.visibleElements.selectionCountLabel)return[];const{layout:e,messages:t,scale:o,id:i,updateGraphics:{length:s}}=this,l=k(t.selectedCount,{count:s}),r=\"s\"===o?99:999,n=s>r?k(t.selectedCountTruncated,{truncated:r}):s,a=\"s\"===o&&\"vertical\"===e,p=a?`${i}-selection-chip-small`:`${i}-selection-chip`;return[a?C(\"span\",{classes:{[I.chipVertical]:!0,[I.chipVerticalSmall]:\"s\"===this.scale},id:p,tabIndex:0,title:l},n):C(\"calcite-chip\",{appearance:\"outline\",class:\"horizontal\"===e?I.chipHorizontal:I.chipVertical,id:p,kind:\"brand\",label:l,scale:\"l\"===o?\"m\":\"s\",tabIndex:0,title:\"vertical\"===e?l:void 0},\"vertical\"===e?n:l)]}_renderDuplicateButton(){if(!this.visibleElements.duplicateButton)return[];const{messages:e}=this;return this._renderToolbarItem({id:\"duplicate\",text:this.updateGraphics.length>1?e.duplicateFeatures:e.duplicateFeature,icon:\"copy\",onclick:this._onDuplicateSelect})}_renderDeleteButton(){if(!this.visibleElements.deleteButton)return[];const{messages:e}=this,t=this.updateGraphics.length>1?e.deleteFeatures:e.deleteFeature;return this._renderToolbarItem({id:\"delete\",text:t,icon:\"trash\",onclick:this.delete})}_renderToolbarItem({id:e,text:t,icon:o,disabled:i,onclick:s,active:l,flipRTL:r,afterCreate:n,afterUpdate:a,afterRemoved:p}){const c=`${this.id}-${e}`;return[C(\"calcite-action\",{active:l,afterCreate:n,afterRemoved:p,afterUpdate:a,bind:this,\"data-testid\":e,disabled:i||\"disabled\"===this.state,icon:o,iconFlipRtl:r??!1,id:c,key:e,onclick:s,scale:this.scale,text:t,title:t})]}_remeasurePopoverSizes(e){try{const t=e.parentElement,o=this?.view?.container?.getBoundingClientRect(),i=t?.style;if(!(t&&o&&i&&this.view?.container?.contains(t)))return;const s=this._calcitePopoverReferenceElement;if(!s)return;const{bottom:l,top:r}=s.getBoundingClientRect();if(\"horizontal\"===this.layout){const e=l<o.height/2;e!==(\"top\"===this._relativeLocation)&&(this._relativeLocation=e?\"top\":\"bottom\"),e?(i?.setProperty(\"--sketch-view-height-offset\",l-o.top+\"px\"),i?.setProperty(\"--sketch-view-margin-offset\",\"30px\")):(i?.setProperty(\"--sketch-view-height-offset\",o.bottom-r+\"px\"),i?.setProperty(\"--sketch-view-margin-offset\",\"15px\"))}else\"vertical\"===this.layout&&(i.setProperty(\"--sketch-view-height-offset\",\"15px\"),i.setProperty(\"--sketch-view-margin-offset\",\"15px\"));const n=e.shadowRoot?.querySelector(\"div.header\")?.getBoundingClientRect().height;i.setProperty(\"--sketch-popover-header-offset\",`${n}px`)}catch(t){i.getLogger(this.declaredClass).warnOnce(\"Sketch failed to lay out settings menu.\",t)}}_activateCreateTool(e,t,o){const i=this._activeCustomToolOptions;if(o||i){if(o?.toolKey===i?.toolKey)return void this.cancel()}else if(this.activeTool===e)return void this.cancel();this._selectionToolbar?.cancel(),this.create(e,t,o)}_onDuplicateSelect(){const e=this.duplicate(),t=this.viewModel.activeTool;\"transform\"!==t&&\"reshape\"!==t||this.update(e,{tool:t})}_onSelectionOperationComplete(e){const{viewModel:{defaultUpdateOptions:t}}=this,{selection:o}=e;if(!e.aborted&&o.length){const e=t.tool,i=o.length>1&&\"reshape\"===e?\"transform\":e;this.update(o,{...t,tool:i})}this.notifyChange(\"state\")}_activateDefaultSelectTool(){this.cancel(),this.view?.focus()}_refocusOnView(){this.activeTool&&this.view?.focus()}};e([c()],E.prototype,\"_activeCustomToolOptions\",void 0),e([c()],E.prototype,\"activeTool\",null),e([c({readOnly:!0})],E.prototype,\"activeTooltip\",null),e([c({cast:e=>{if(!e?.length)return null;const t=new Set([\"point\",\"polyline\",\"polygon\",\"rectangle\",\"circle\",\"multipoint\",\"freehandPolyline\",\"freehandPolygon\",\"mesh\"]);return e.filter((e=>t.has(e)))}})],E.prototype,\"availableCreateTools\",void 0),e([c({readOnly:!0})],E.prototype,\"createGraphic\",null),e([c()],E.prototype,\"creationMode\",null),e([c()],E.prototype,\"customToolOptions\",void 0),e([c()],E.prototype,\"customActions\",void 0),e([c()],E.prototype,\"defaultCreateOptions\",null),e([c()],E.prototype,\"defaultUpdateOptions\",null),e([c()],E.prototype,\"icon\",null),e([c()],E.prototype,\"label\",null),e([c()],E.prototype,\"labelOptions\",null),e([c()],E.prototype,\"layer\",null),e([c({type:[\"horizontal\",\"vertical\"],value:\"horizontal\"})],E.prototype,\"layout\",null),e([c({value:\"m\"})],E.prototype,\"scale\",null),e([c()],E.prototype,\"toolbarKind\",void 0),e([c()],E.prototype,\"contextualToolLocation\",void 0),e([c()],E.prototype,\"groupCollapsePriorities\",void 0),e([c()],E.prototype,\"groupAllowCollapseOptions\",void 0),e([c(),T(\"esri/widgets/Sketch/t9n/Sketch\")],E.prototype,\"messages\",void 0),e([c(),T(\"esri/t9n/common\")],E.prototype,\"messagesCommon\",void 0),e([c()],E.prototype,\"snappingOptions\",null),e([c()],E.prototype,\"state\",null),e([c()],E.prototype,\"tooltipOptions\",null),e([c({readOnly:!0})],E.prototype,\"updateGraphics\",null),e([c({type:u,nonNullable:!0})],E.prototype,\"valueOptions\",null),e([c()],E.prototype,\"view\",null),e([c({type:v}),M([\"create\",\"update\",\"undo\",\"redo\"])],E.prototype,\"viewModel\",null),e([c({type:m,nonNullable:!0})],E.prototype,\"visibleElements\",void 0),e([c()],E.prototype,\"_effectiveAvailableCreateTools\",null),e([c()],E.prototype,\"_defaultViewModel\",void 0),e([c()],E.prototype,\"_calcitePopoverReferenceElement\",void 0),e([c()],E.prototype,\"_relativeLocation\",void 0),e([c()],E.prototype,\"_popoverOpen\",void 0),E=e([d(\"esri.widgets.Sketch\")],E);const j=E;export{j as default};\n","import { proxyExports as v, getControllersCount as w, trackPropKey as y } from \"@arcgis/lumina/controllers\";\nimport { AccessorController as b, getAccessorControllerBoundProperties as E, makeBinderProxy as x } from \"@arcgis/lumina/controllers/accessor\";\nimport { isEsriInternalEnv as M } from \"@arcgis/components-utils\";\nimport { V as g } from \"./useView.js\";\nimport { watch as m } from \"@arcgis/core/core/reactiveUtils.js\";\n/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\nv4.33.12 */\nconst I = (d, e) => (t) => P(t, d);\nclass f extends b {\n  #o = /* @__PURE__ */ new Map();\n  #e;\n  #t;\n  constructor(e, t) {\n    super(e, t), new g(e);\n    const s = this, o = s.instance;\n    let n = o.viewModel, l = o.visibleElements;\n    const r = new Proxy(this.exports, {\n      get(i, a, h) {\n        return a === \"viewModel\" ? n : a === \"visibleElements\" ? l : Reflect.get(i, a, h);\n      }\n    });\n    if (s.#t = o, s.instance = r, s.exports = r, n) {\n      const i = {\n        component: e,\n        get exports() {\n          return s.instance.viewModel;\n        }\n      };\n      E(s).set(\"viewModel\", \"viewModel\"), e.addController(i), n = x(e, new WeakRef(i), w(e) - 1, n, s.#o);\n    }\n    s.instance.visibleElements && (l = s.#s(o));\n  }\n  hostConnected() {\n    this.instance = this.#t, super.hostConnected();\n  }\n  hostLoad() {\n    this.#e = m(() => this.component.el.view, (e) => {\n      const t = this.instance;\n      !(\"view\" in t) && typeof t.viewModel == \"object\" ? t.viewModel.view = e : t.view = e, !(\"map\" in t) && typeof t.viewModel == \"object\" ? t.viewModel.map = e?.map : t.map = e?.map;\n    }, { sync: !0, initial: !0 });\n  }\n  hostUpdate(e) {\n    e.has(\"closed\") && (this.instance.visible = !this.component.closed);\n  }\n  hostLoaded() {\n    const { el: e } = this.component;\n    e.childElem ??= document.createElement(\"div\"), this.instance.container = e.childElem, this.component.closed !== void 0 && this.onLifecycle(() => m(() => this.instance.visible, (t) => this.component.closed = !t, { initial: !0 }));\n  }\n  #s(e) {\n    return new Proxy(e.visibleElements, {\n      get: (t, s) => {\n        if (typeof s == \"symbol\" || s in Promise.prototype)\n          return t[s];\n        const o = [s], n = this.#i(o);\n        return y(this.component, (l) => {\n          const r = l;\n          this.component[r] = !1;\n          let i = e.visibleElements ?? {}, a;\n          for (const c of o.slice(0, -1))\n            if (typeof i[c] == \"object\" && i[c] !== null)\n              i = i[c];\n            else {\n              a = !!i[c];\n              break;\n            }\n          a === void 0 && (a = !!(i[o.slice(-1)[0]] ?? !0));\n          const p = r.startsWith(\"hide\") || r.startsWith(\"show\") ? r.startsWith(\"hide\") : a;\n          this.onUpdate((c) => {\n            if (c.has(r)) {\n              const u = this.component[r];\n              this.#n(o, u, p);\n            }\n          });\n        }, n);\n      }\n    });\n  }\n  #i(e) {\n    const t = new Proxy({}, {\n      get: (s, o) => {\n        const n = Reflect.get(s, o);\n        return typeof o == \"symbol\" || o in Promise.prototype ? n : (e.push(o), t);\n      }\n    });\n    return t;\n  }\n  #n(e, t, s) {\n    let o = this.instance.visibleElements ?? {};\n    for (const l of e.slice(0, -1))\n      (typeof o[l] != \"object\" || o[l] === null) && (o[l] = {}), o = o[l];\n    const n = !!(s ? !t : t);\n    o[e.at(-1)] = n;\n  }\n  hostDestroy() {\n    this.#e?.remove(), super.hostDestroy();\n  }\n}\nprocess.env.NODE_ENV !== \"production\" && M() && (f.devOnly$allowedPropNameMismatches = /* @__PURE__ */ new Set([\n  \"manager\",\n  \"el\",\n  \"position\",\n  \"multipleSortEnabled\",\n  // Deprecated\n  \"focusTrapEnabled\",\n  \"focusTrapDisabled\",\n  // Deprecated\n  \"hideLastEditInfo\"\n]));\nconst P = v(f);\nexport {\n  I as m\n};\n","import { c as l } from \"../../chunks/runtime.js\";\nimport { usePropertyChange as o } from \"@arcgis/lumina/controllers\";\nimport { reEmitEvent as i } from \"@arcgis/lumina/controllers/accessor\";\nimport a from \"@arcgis/core/layers/GraphicsLayer.js\";\nimport n from \"@arcgis/core/widgets/Sketch.js\";\nimport { LitElement as h, createEvent as d, noShadowRoot as r } from \"@arcgis/lumina\";\nimport { m as g } from \"../../chunks/useWidget.js\";\nimport { css as p } from \"@lit/reactive-element/css-tag.js\";\nimport { watch as c } from \"@arcgis/core/core/reactiveUtils.js\";\n/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\nv4.33.12 */\nconst m = p`@layer{arcgis-sketch{display:block}}`, y = g(n);\nclass w extends h {\n  constructor() {\n    super(), this.widget = y(this), this.viewModel = this.widget.viewModel, this._defaultGraphicsLayer = null, this.activeTool = this.widget.activeTool, this.autoDestroyDisabled = !1, this.availableCreateTools = this.widget.availableCreateTools, this.createGraphic = this.widget.createGraphic, this.creationMode = this.widget.creationMode, this.defaultCreateOptions = this.widget.defaultCreateOptions, this.defaultGraphicsLayerDisabled = !1, this.defaultUpdateOptions = this.widget.defaultUpdateOptions, this.hideCreateToolsCircle = this.widget.visibleElements.createTools.circle, this.hideCreateToolsPoint = this.widget.visibleElements.createTools.point, this.hideCreateToolsPolygon = this.widget.visibleElements.createTools.polygon, this.hideCreateToolsPolyline = this.widget.visibleElements.createTools.polyline, this.hideCreateToolsRectangle = this.widget.visibleElements.createTools.rectangle, this.hideDuplicateButton = this.widget.visibleElements.duplicateButton, this.hideDeleteButton = this.widget.visibleElements.deleteButton, this.hideSelectionCountLabel = this.widget.visibleElements.selectionCountLabel, this.hideLabelsToggle = this.widget.visibleElements.labelsToggle, this.hideSelectionToolsLassoSelection = this.widget.visibleElements.selectionTools[\"lasso-selection\"], this.hideSelectionToolsRectangleSelection = this.widget.visibleElements.selectionTools[\"rectangle-selection\"], this.hideSettingsMenu = this.widget.visibleElements.settingsMenu, this.hideSnappingControls = this.widget.visibleElements.snappingControls, this.hideSnappingControlsElementsEnabledToggle = this.widget.visibleElements.snappingControlsElements.enabledToggle, this.hideSnappingControlsElementsFeatureEnabledToggle = this.widget.visibleElements.snappingControlsElements.featureEnabledToggle, this.hideSnappingControlsElementsLayerList = this.widget.visibleElements.snappingControlsElements.layerList, this.hideSnappingControlsElementsSelfEnabledToggle = this.widget.visibleElements.snappingControlsElements.selfEnabledToggle, this.hideTooltipsToggle = this.widget.visibleElements.tooltipsToggle, this.hideUndoRedoMenu = this.widget.visibleElements.undoRedoMenu, this.icon = this.widget.icon, this.label = this.widget.label, this.labelOptions = this.widget.labelOptions, this.layer = this.widget.layer, this.layout = this.widget.layout, this.pointSymbol = this.viewModel.pointSymbol, this.polygonSymbol = this.viewModel.polygonSymbol, this.polylineSymbol = this.viewModel.polylineSymbol, this.position = \"bottom-left\", this.scale = this.widget.scale, this.toolbarKind = this.widget.toolbarKind, this.showSnappingControlsElementsHeader = this.widget.visibleElements.snappingControlsElements.header, this.snappingOptions = this.widget.snappingOptions, this.state = this.widget.state, this.tooltipOptions = this.widget.tooltipOptions, this.updateGraphics = this.widget.updateGraphics, this.arcgisCreate = i(() => this.widget, \"create\"), this.arcgisDelete = i(() => this.widget, \"delete\"), this.arcgisPropertyChange = o()(\"state\"), this.arcgisReady = d(), this.arcgisRedo = i(() => this.widget, \"redo\"), this.arcgisUndo = i(() => this.widget, \"undo\"), this.arcgisUpdate = i(() => this.widget, \"update\"), this.listen(\"arcgisReady\", this._arcgisReadyHandler);\n  }\n  static {\n    this.properties = { activeTool: 3, autoDestroyDisabled: 5, availableCreateTools: 0, createGraphic: 0, creationMode: 1, defaultCreateOptions: 0, defaultGraphicsLayerDisabled: 5, defaultUpdateOptions: 0, hideCreateToolsCircle: 5, hideCreateToolsPoint: 5, hideCreateToolsPolygon: 5, hideCreateToolsPolyline: 5, hideCreateToolsRectangle: 5, hideDuplicateButton: 5, hideDeleteButton: 5, hideSelectionCountLabel: 5, hideLabelsToggle: 5, hideSelectionToolsLassoSelection: 5, hideSelectionToolsRectangleSelection: 5, hideSettingsMenu: 5, hideSnappingControls: 5, hideSnappingControlsElementsEnabledToggle: 5, hideSnappingControlsElementsFeatureEnabledToggle: 5, hideSnappingControlsElementsLayerList: 5, hideSnappingControlsElementsSelfEnabledToggle: 5, hideTooltipsToggle: 5, hideUndoRedoMenu: 5, icon: 1, label: 1, labelOptions: 0, layer: 0, layout: 1, pointSymbol: 0, polygonSymbol: 0, polylineSymbol: 0, position: 1, referenceElement: 1, scale: 1, toolbarKind: 1, showSnappingControlsElementsHeader: 5, snappingOptions: 0, state: 3, tooltipOptions: 0, updateGraphics: 0 };\n  }\n  static {\n    this.shadowRootOptions = r;\n  }\n  static {\n    this.styles = m;\n  }\n  async cancel() {\n    this.widget?.cancel();\n  }\n  async complete() {\n    this.widget?.complete();\n  }\n  async create(t, e) {\n    await this.widget?.create(t, e);\n  }\n  async delete() {\n    this.widget?.delete();\n  }\n  async destroy() {\n    await this.manager.destroy();\n  }\n  async duplicate() {\n    this.widget?.duplicate();\n  }\n  async redo() {\n    this.widget?.redo();\n  }\n  async triggerUpdate(t, e) {\n    this.widget?.update(t, e);\n  }\n  async undo() {\n    this.widget?.undo();\n  }\n  _arcgisReadyHandler() {\n    this.defaultGraphicsLayerDisabled || (this._defaultGraphicsLayer = new a({ title: \"Sketch Layer\" }), this.widget.layer = this._defaultGraphicsLayer, this.el.view?.map?.add(this.widget.layer), this.manager.onLifecycle(() => c(() => this.el.view?.map, (t, e) => {\n      if (this.widget.layer !== this._defaultGraphicsLayer)\n        return;\n      const s = this._defaultGraphicsLayer;\n      e?.allLayers.includes(s) && e.allLayers.remove(s), t?.add(s);\n    })), this.manager.onDestroy(() => {\n      this._defaultGraphicsLayer && this.el.view?.map?.allLayers.includes(this._defaultGraphicsLayer) && this.el.view?.map?.remove(this._defaultGraphicsLayer), this._defaultGraphicsLayer?.destroy(), this._defaultGraphicsLayer = null;\n    }));\n  }\n}\nl(\"arcgis-sketch\", w);\nexport {\n  w as ArcgisSketch\n};\n","|\n<template>\n    <arcgis-sketch ref=\"sketchEl\" style=\"display: none\" />\n</template>\n<script lang=\"ts\">\nexport const DRAW_GRAPHICS_LAYER_ID = 'RampDrawGraphicsLayer';\n</script>\n\n<script setup lang=\"ts\">\n/**\n * @file draw.vue\n * @description Implements drawing functionality using the ESRI Sketch component.\n * It supports multiple drawing tools, multi-point mode, selection, deletion,\n * keyboard-based editing (including arrow key movement, resizing, and rotation),\n * and accessibility announcements.\n * See: https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-sketch/\n\n/* --------------------------------------------------------------------------\n * IMPORTS\n * -------------------------------------------------------------------------- */\nimport { inject, onMounted, onUnmounted, watch, reactive, useTemplateRef } from 'vue';\nimport { useDrawStore } from './store';\nimport { InstanceAPI } from '@/api/internal';\nimport '@arcgis/map-components/components/arcgis-sketch';\nimport { LayerType } from '@/geo/api';\nimport { useI18n } from 'vue-i18n';\nimport {\n    EsriGraphic,\n    EsriPoint,\n    EsriPolygon,\n    EsriPolyline,\n    EsriSimpleFillSymbol,\n    EsriSimpleLineSymbol,\n    EsriSimpleMarkerSymbol\n} from '@/geo/esri';\nimport { GlobalEvents } from '@/api';\n\n/* --------------------------------------------------------------------------\n * CONSTANTS & GLOBAL VARIABLES\n * -------------------------------------------------------------------------- */\nconst { t } = useI18n();\n\n// add helper to translate raw tool names (fallbacks to \"unknown\")\nconst translateTerm = (key?: string): string => (key ? t(`draw.${key}`) : t('draw.unknown'));\n\nconst iApi = inject('iApi') as InstanceAPI;\nconst drawStore = useDrawStore();\n\n// Sketch widget and graphics layer reference variables\nlet sketch: HTMLArcgisSketchElement | null = null;\nconst sketchEl = useTemplateRef<HTMLArcgisSketchElement>('sketchEl');\nlet sketchHandler: { remove: () => void } | null = null;\nlet graphicsLayer: __esri.GraphicsLayer | null = null;\n\n// Variables for selected and highlighted graphics\nlet selectedGraphic: __esri.Graphic | null = null;\nlet highlightGraphic: __esri.Graphic | null = null;\n\n// Multi-point mode state variables\nlet multiPointMode = false;\nlet multiPointGraphic: __esri.Graphic | null = null;\n\ntype Vertex = [number, number]; // [x, y] coordinates\nlet multiPointVertices: Vertex[] = [];\n\nconst rampEventHandlers = reactive<Array<string>>([]);\n\n/* --------------------------------------------------------------------------\n * HELPER FUNCTIONS\n * -------------------------------------------------------------------------- */\n/**\n * Updates the highlight for the given graphic.\n * Clears any previous highlight, creates a new symbol based on geometry type,\n * and adds the highlight graphic to the graphics layer.\n * @param graphic The graphic to highlight.\n */\nconst highlightSelectedGraphic = (graphic?: __esri.Graphic | undefined) => {\n    if (highlightGraphic) {\n        graphicsLayer?.remove(highlightGraphic);\n        highlightGraphic = null;\n    }\n    if (!graphic) return;\n\n    let highlightSymbol: __esri.Symbol;\n    switch (graphic.geometry?.type) {\n        case 'point':\n        case 'multipoint':\n            highlightSymbol = new EsriSimpleMarkerSymbol({\n                color: [255, 255, 0, 0.8],\n                size: 16,\n                outline: {\n                    color: [255, 165, 0, 1],\n                    width: 3\n                }\n            });\n            break;\n        case 'polyline':\n            highlightSymbol = new EsriSimpleLineSymbol({\n                color: [255, 255, 0, 0.8],\n                width: 6\n            });\n            break;\n        default: // polygon, rectangle, circle\n            highlightSymbol = new EsriSimpleFillSymbol({\n                color: [255, 255, 0, 0.3],\n                outline: {\n                    color: [255, 165, 0, 1],\n                    width: 3\n                }\n            });\n    }\n    highlightGraphic = new EsriGraphic({\n        geometry: graphic.geometry,\n        // @ts-expect-error esri type mismatch\n        symbol: highlightSymbol\n    });\n    graphicsLayer?.add(highlightGraphic);\n};\n\n/* --------------------------------------------------------------------------\n * WATCHERS\n * -------------------------------------------------------------------------- */\n// Watch changes to the selected graphic ID and update the Sketch widget and highlight.\nwatch(\n    () => drawStore.selectedGraphicId,\n    (newId, oldId) => {\n        if (!sketch || !graphicsLayer) return;\n        if (!newId) {\n            sketch.cancel();\n            highlightSelectedGraphic();\n        } else if (newId !== oldId) {\n            const graphics = graphicsLayer.graphics.toArray();\n            const selectedEsriGraphic = graphics.find(g => g.attributes && g.attributes.id === newId);\n            if (selectedEsriGraphic) {\n                sketch.triggerUpdate([selectedEsriGraphic]);\n                highlightSelectedGraphic(selectedEsriGraphic);\n            }\n        }\n    }\n);\n\n/* --------------------------------------------------------------------------\n * GRAPHIC CREATION FUNCTIONS\n * -------------------------------------------------------------------------- */\n/**\n * Selects a graphic located at the center of the view using a hit test.\n */\nconst selectCenteredGraphic = async () => {\n    if (!graphicsLayer || !sketch || drawStore.activeTool !== 'edit') return;\n    await iApi.geo.map.viewPromise;\n    const view = iApi.geo.map.esriView!;\n    const centerPoint = { x: view.width / 2, y: view.height / 2 };\n    const searchArea = {\n        x: centerPoint.x,\n        y: centerPoint.y,\n        width: 20,\n        height: 20\n    };\n    const response = await view.hitTest(searchArea);\n    const hits = response.results.filter((result): result is __esri.GraphicHit => {\n        if (!('graphic' in result) || result.graphic.layer !== graphicsLayer) return false;\n        return !!result.graphic.attributes?.id;\n    });\n    if (hits.length > 0) {\n        selectedGraphic = hits[0].graphic;\n        sketch.triggerUpdate([selectedGraphic]);\n        if (selectedGraphic.attributes?.id) {\n            drawStore.selectGraphic(selectedGraphic.attributes.id);\n        }\n        iApi.updateAlert(\n            t('draw.graphic.selected', {\n                type: translateTerm(selectedGraphic.attributes?.type)\n            })\n        );\n    } else {\n        sketch.cancel();\n        selectedGraphic = null;\n        drawStore.clearSelection();\n    }\n};\n\n/**\n * Creates a graphic at the center of the view based on the active tool.\n */\nconst createGraphicAtCenter = async () => {\n    if (!sketch || !drawStore.activeTool) return;\n    await iApi.geo.map.viewPromise;\n    const view = iApi.geo.map.esriView!;\n    const centerScreen = { x: Math.floor(view.width / 2), y: Math.floor(view.height / 2) };\n    const centerPoint = view.toMap(centerScreen);\n    const extent = view.extent;\n    const mapWidth = extent.width;\n    const mapHeight = extent.height;\n    const shapeSize = Math.min(mapWidth, mapHeight) / 10;\n\n    let graphic;\n    switch (drawStore.activeTool) {\n        case 'point':\n            graphic = new EsriGraphic({\n                geometry: new EsriPoint({\n                    x: centerPoint.x,\n                    y: centerPoint.y,\n                    spatialReference: view.spatialReference\n                }),\n                symbol: sketch.pointSymbol\n            });\n            break;\n        case 'polyline':\n            graphic = new EsriGraphic({\n                geometry: new EsriPolyline({\n                    paths: [\n                        [\n                            [centerPoint.x - shapeSize / 2, centerPoint.y],\n                            [centerPoint.x + shapeSize / 2, centerPoint.y]\n                        ]\n                    ],\n                    spatialReference: view.spatialReference\n                }),\n                symbol: sketch.polylineSymbol\n            });\n            break;\n        case 'polygon':\n        case 'rectangle':\n            const halfSize = shapeSize / 2;\n            graphic = new EsriGraphic({\n                geometry: new EsriPolygon({\n                    rings: [\n                        [\n                            [centerPoint.x - halfSize, centerPoint.y - halfSize],\n                            [centerPoint.x + halfSize, centerPoint.y - halfSize],\n                            [centerPoint.x + halfSize, centerPoint.y + halfSize],\n                            [centerPoint.x - halfSize, centerPoint.y + halfSize],\n                            [centerPoint.x - halfSize, centerPoint.y - halfSize]\n                        ]\n                    ],\n                    spatialReference: view.spatialReference\n                }),\n                symbol:\n                    sketch.polygonSymbol ||\n                    new EsriSimpleFillSymbol({\n                        color: [0, 255, 0, 0.3],\n                        outline: {\n                            color: [0, 255, 0, 1],\n                            width: 1\n                        }\n                    })\n            });\n            break;\n        case 'circle':\n            const radius = shapeSize / 2;\n            const numPoints = 36;\n            const circleRing = [];\n            for (let i = 0; i <= numPoints; i++) {\n                const angle = (i / numPoints) * 2 * Math.PI;\n                const x = centerPoint.x + radius * Math.cos(angle);\n                const y = centerPoint.y + radius * Math.sin(angle);\n                circleRing.push([x, y]);\n            }\n            graphic = new EsriGraphic({\n                geometry: new EsriPolygon({\n                    rings: [circleRing],\n                    spatialReference: view.spatialReference\n                }),\n                symbol:\n                    sketch.polygonSymbol ||\n                    new EsriSimpleFillSymbol({\n                        color: [255, 0, 255, 0.3],\n                        outline: {\n                            color: [255, 0, 255, 1],\n                            width: 1\n                        }\n                    })\n            });\n            break;\n        default:\n            console.warn('Unknown tool type:', drawStore.activeTool);\n            return;\n    }\n\n    if (graphic) {\n        const id = `graphic-${Date.now()}`;\n        graphic.attributes = { id, type: drawStore.activeTool };\n        graphicsLayer?.add(graphic);\n        drawStore.addGraphic({\n            id,\n            type: drawStore.activeTool,\n            geometry: graphic.geometry,\n            attributes: graphic.attributes\n        });\n\n        // cancel sketch if graphic is not a point\n        if (drawStore.activeTool !== 'point') {\n            drawStore.clearSelection();\n            drawStore.setActiveTool(null);\n            sketch.cancel();\n        }\n\n        iApi.updateAlert(\n            t('draw.graphic.created', {\n                type: translateTerm(drawStore.activeTool)\n            })\n        );\n    }\n};\n\n/* --------------------------------------------------------------------------\n * KEYBOARD EVENT HANDLING (Multi-point mode and normal operations)\n * -------------------------------------------------------------------------- */\n/**\n * Handles keyboard events for drawing and editing.\n */\nconst handleNavigationKeyDown = (e: KeyboardEvent) => {\n    const mapElement = iApi.geo.map.esriView?.container;\n    if (!document.activeElement || !mapElement?.contains(document.activeElement)) {\n        return;\n    }\n    switch (e.key) {\n        case 'Enter':\n            e.preventDefault();\n            if (drawStore.activeTool && drawStore.activeTool !== 'edit') {\n                if (\n                    (drawStore.activeTool === 'polyline' || drawStore.activeTool === 'polygon') &&\n                    (multiPointMode || multiPointVertices.length === 0)\n                ) {\n                    const view = iApi.geo.map.esriView!;\n                    const centerScreen = { x: Math.floor(view.width / 2), y: Math.floor(view.height / 2) };\n                    const centerPoint = view.toMap(centerScreen);\n                    if (!multiPointMode) {\n                        multiPointMode = true;\n                        multiPointVertices = [[centerPoint.x, centerPoint.y]];\n                        if (drawStore.activeTool === 'polyline') {\n                            multiPointGraphic = new EsriGraphic({\n                                geometry: new EsriPolyline({\n                                    paths: [multiPointVertices],\n                                    spatialReference: view.spatialReference\n                                }),\n                                symbol:\n                                    sketch?.polylineSymbol ||\n                                    new EsriSimpleLineSymbol({ color: [0, 0, 255, 1], width: 2 })\n                            });\n                        } else {\n                            multiPointGraphic = new EsriGraphic({\n                                geometry: new EsriPolygon({\n                                    rings: [multiPointVertices],\n                                    spatialReference: view.spatialReference\n                                }),\n                                symbol:\n                                    sketch?.polygonSymbol ||\n                                    new EsriSimpleFillSymbol({\n                                        color: [0, 255, 0, 0.3],\n                                        outline: { color: [0, 255, 0, 1], width: 1 }\n                                    })\n                            });\n                        }\n                        multiPointGraphic.attributes = { id: `temp-graphic-${Date.now()}`, type: drawStore.activeTool };\n                        graphicsLayer?.add(multiPointGraphic);\n\n                        iApi.updateAlert(\n                            t('draw.multiPoint.started', {\n                                type: translateTerm(drawStore.activeTool),\n                                count: 1\n                            })\n                        );\n                    } else {\n                        multiPointVertices.push([centerPoint.x, centerPoint.y]);\n                        if (drawStore.activeTool === 'polyline') {\n                            multiPointGraphic!.geometry = new EsriPolyline({\n                                paths: [multiPointVertices],\n                                spatialReference: view.spatialReference\n                            });\n                        } else {\n                            multiPointGraphic!.geometry = new EsriPolygon({\n                                rings: [multiPointVertices],\n                                spatialReference: view.spatialReference\n                            });\n                        }\n\n                        iApi.updateAlert(\n                            t('draw.multiPoint.pointAdded', {\n                                type: translateTerm(drawStore.activeTool),\n                                count: multiPointVertices.length\n                            })\n                        );\n                    }\n                } else {\n                    createGraphicAtCenter();\n                }\n            } else {\n                selectCenteredGraphic();\n            }\n            break;\n\n        case 'Delete':\n        case 'Backspace':\n            const view = iApi.geo.map.esriView!;\n            if (multiPointMode && multiPointVertices.length > 1) {\n                e.preventDefault();\n                multiPointVertices.pop();\n                if (drawStore.activeTool === 'polyline') {\n                    multiPointGraphic!.geometry = new EsriPolyline({\n                        paths: [multiPointVertices],\n                        spatialReference: view.spatialReference\n                    });\n                } else {\n                    multiPointGraphic!.geometry = new EsriPolygon({\n                        rings: [multiPointVertices],\n                        spatialReference: view.spatialReference\n                    });\n                }\n                // Notify geometry change using public API\n                multiPointGraphic!.set('geometry', multiPointGraphic?.geometry);\n                iApi.updateAlert(\n                    t('draw.multiPoint.pointRemoved', {\n                        type: translateTerm(drawStore.activeTool ?? undefined),\n                        count: multiPointVertices.length\n                    })\n                );\n            } else if (multiPointMode && multiPointVertices.length === 1) {\n                e.preventDefault();\n                if (multiPointGraphic) {\n                    graphicsLayer?.remove(multiPointGraphic);\n                }\n                multiPointGraphic = null;\n                multiPointVertices = [];\n                multiPointMode = false;\n                iApi.updateAlert(t('draw.multiPoint.canceled'));\n            } else if (selectedGraphic) {\n                e.preventDefault();\n                sketch?.delete();\n                graphicsLayer?.remove(selectedGraphic);\n                if (typeof drawStore.removeGraphic === 'function') {\n                    drawStore.removeGraphic(selectedGraphic.attributes.id);\n                }\n                selectedGraphic = null;\n                highlightSelectedGraphic(undefined);\n                iApi.updateAlert(t('draw.graphic.deleted'));\n            }\n            break;\n\n        case 'Escape':\n            drawStore.setActiveTool(null);\n            sketch?.cancel();\n            selectedGraphic = null;\n            highlightSelectedGraphic(undefined);\n            drawStore.clearSelection();\n            iApi.updateAlert(t('draw.tool.canceled'));\n            break;\n    }\n};\n\nconst handleGraphicKeyboardEdit = (e: KeyboardEvent) => {\n    const mapElement = iApi.geo.map.esriView!.container;\n    if (!document.activeElement || !mapElement?.contains(document.activeElement)) return;\n    if (!selectedGraphic) return;\n    const isMovementKey = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key);\n    if (!isMovementKey) return;\n    e.preventDefault();\n    e.stopPropagation();\n    const translateDelta = 10; // Pixels to move\n    const isResizing = e.shiftKey;\n    const isRotating = e.altKey;\n    const view = iApi.geo.map.esriView!;\n    let screenDx = 0,\n        screenDy = 0;\n    if (e.key === 'ArrowLeft') screenDx = -translateDelta;\n    if (e.key === 'ArrowRight') screenDx = translateDelta;\n    if (e.key === 'ArrowUp') screenDy = -translateDelta;\n    if (e.key === 'ArrowDown') screenDy = translateDelta;\n    const geometry = selectedGraphic.geometry!;\n    let center;\n    if (geometry.type === 'point') {\n        center = { x: geometry.x, y: geometry.y };\n    } else {\n        const extent = geometry.extent!;\n        center = { x: (extent.xmin + extent.xmax) / 2, y: (extent.ymin + extent.ymax) / 2 };\n    }\n    const screenPoint = view.toScreen(\n        new EsriPoint({\n            x: center.x,\n            y: center.y,\n            spatialReference: view.spatialReference\n        })\n    )!;\n    screenPoint.x += screenDx;\n    screenPoint.y += screenDy;\n    const mapPoint = view.toMap(screenPoint);\n    const mapDx = mapPoint.x - center.x;\n    const mapDy = mapPoint.y - center.y;\n    let newGeometry;\n    if (geometry.type === 'point') {\n        if (!isResizing && !isRotating) {\n            newGeometry = new EsriPoint({\n                x: geometry.x + mapDx,\n                y: geometry.y + mapDy,\n                spatialReference: geometry.spatialReference\n            });\n        } else if (isResizing) {\n            newGeometry = geometry.clone();\n            iApi.updateAlert(t('draw.point.resize.unsupported'));\n        } else if (isRotating) {\n            newGeometry = geometry.clone();\n            iApi.updateAlert(t('draw.point.rotate.unsupported'));\n        }\n    } else if (geometry.type === 'polyline') {\n        if (!isResizing && !isRotating) {\n            const polyline = geometry as __esri.Polyline;\n            const newPaths = polyline.paths.map(path => path.map(([x, y]) => [x + mapDx, y + mapDy]));\n            newGeometry = new EsriPolyline({\n                paths: newPaths,\n                spatialReference: geometry.spatialReference\n            });\n        } else if (isResizing) {\n            const polyline = geometry as __esri.Polyline;\n            const scaleFactor = e.key === 'ArrowUp' || e.key === 'ArrowRight' ? 1.05 : 0.95;\n            const newPaths = polyline.paths.map(path =>\n                path.map(([x, y]) => [center.x + (x - center.x) * scaleFactor, center.y + (y - center.y) * scaleFactor])\n            );\n            newGeometry = new EsriPolyline({\n                paths: newPaths,\n                spatialReference: geometry.spatialReference\n            });\n        } else if (isRotating) {\n            const polyline = geometry as __esri.Polyline;\n            const angle = e.key === 'ArrowLeft' ? -0.05 : e.key === 'ArrowRight' ? 0.05 : 0;\n            if (angle !== 0) {\n                const cos = Math.cos(angle);\n                const sin = Math.sin(angle);\n                const newPaths = polyline.paths.map(path =>\n                    path.map(([x, y]) => {\n                        const dx = x - center.x;\n                        const dy = y - center.y;\n                        const rx = dx * cos - dy * sin;\n                        const ry = dx * sin + dy * cos;\n                        return [center.x + rx, center.y + ry];\n                    })\n                );\n                newGeometry = new EsriPolyline({\n                    paths: newPaths,\n                    spatialReference: geometry.spatialReference\n                });\n            } else {\n                newGeometry = geometry.clone();\n            }\n        }\n    } else if (geometry.type === 'polygon') {\n        if (!isResizing && !isRotating) {\n            const polygon = geometry as __esri.Polygon;\n            const newRings = polygon.rings.map(ring => ring.map(([x, y]) => [x + mapDx, y + mapDy]));\n            newGeometry = new EsriPolygon({\n                rings: newRings,\n                spatialReference: geometry.spatialReference\n            });\n        } else if (isResizing) {\n            const polygon = geometry as __esri.Polygon;\n            const scaleFactor = e.key === 'ArrowUp' || e.key === 'ArrowRight' ? 1.05 : 0.95;\n            const newRings = polygon.rings.map(ring =>\n                ring.map(([x, y]) => [center.x + (x - center.x) * scaleFactor, center.y + (y - center.y) * scaleFactor])\n            );\n            newGeometry = new EsriPolygon({\n                rings: newRings,\n                spatialReference: geometry.spatialReference\n            });\n        } else if (isRotating) {\n            const polygon = geometry as __esri.Polygon;\n            const angle = e.key === 'ArrowLeft' ? -0.05 : e.key === 'ArrowRight' ? 0.05 : 0;\n            if (angle !== 0) {\n                const cos = Math.cos(angle);\n                const sin = Math.sin(angle);\n                const newRings = polygon.rings.map(ring =>\n                    ring.map(([x, y]) => {\n                        const dx = x - center.x;\n                        const dy = y - center.y;\n                        const rx = dx * cos - dy * sin;\n                        const ry = dx * sin + dy * cos;\n                        return [center.x + rx, center.y + ry];\n                    })\n                );\n                newGeometry = new EsriPolygon({\n                    rings: newRings,\n                    spatialReference: geometry.spatialReference\n                });\n            } else {\n                newGeometry = geometry.clone();\n            }\n        }\n    }\n    if (newGeometry) {\n        selectedGraphic.geometry = newGeometry;\n        selectedGraphic.set('geometry', newGeometry);\n        highlightSelectedGraphic(selectedGraphic);\n        if (selectedGraphic.attributes?.id) {\n            drawStore.updateGraphicGeometry(selectedGraphic.attributes.id, newGeometry);\n        }\n        const action = isResizing ? 'resized' : isRotating ? 'rotated' : 'moved';\n        iApi.updateAlert(t(`draw.graphic.${action}`));\n    }\n};\n\n/* --------------------------------------------------------------------------\n * VIEW CLICK HANDLER\n * -------------------------------------------------------------------------- */\n/**\n * Handles click events on the view to allow graphic selection.\n * Delegates to the Sketch widget if a graphic is clicked; otherwise clears selection.\n * @param event The view click event.\n */\nconst handleViewClick = async (event: __esri.ViewClickEvent) => {\n    const view = iApi.geo.map.esriView!;\n    const response = await view.hitTest(event);\n    const hit = response.results.find(\n        (result): result is __esri.GraphicHit =>\n            'graphic' in result && result.graphic.layer === graphicsLayer && !!result.graphic.attributes?.id\n    );\n\n    if (hit && drawStore.activeTool === 'edit') {\n        sketch?.triggerUpdate([hit.graphic]);\n    } else {\n        sketch?.cancel();\n        selectedGraphic = null;\n        drawStore.clearSelection();\n        highlightSelectedGraphic();\n    }\n};\n\nconst initializeDrawTools = async () => {\n    await iApi.geo.map.viewPromise;\n\n    // Create or get the graphics layer for drawings\n    if (!iApi.geo.layer.getLayer(DRAW_GRAPHICS_LAYER_ID)) {\n        // @ts-expect-error esri type mismatch\n        graphicsLayer = iApi.geo.layer.createLayer({\n            id: DRAW_GRAPHICS_LAYER_ID,\n            layerType: LayerType.GRAPHIC,\n            cosmetic: true,\n            system: true,\n            url: ''\n        });\n        // @ts-expect-error esri type mismatch\n        await iApi.geo.map.addLayer(graphicsLayer);\n    } else {\n        // @ts-expect-error esri type mismatch\n        graphicsLayer = iApi.geo.layer.getLayer(DRAW_GRAPHICS_LAYER_ID)!.esriLayer;\n    }\n    // @ts-expect-error esri type mismatch\n    if (graphicsLayer?.esriLayer) graphicsLayer = graphicsLayer.esriLayer;\n\n    Object.assign(sketchEl.value!, {\n        view: iApi.geo.map.esriView!,\n        layer: graphicsLayer!,\n        availableCreateTools: ['point', 'multipoint', 'polyline', 'polygon', 'rectangle', 'circle'],\n        updateOnGraphicClick: true,\n        visibleElements: {\n            createTools: { point: true, polyline: true, polygon: true, rectangle: true, circle: true },\n            selectionTools: { enable: true },\n            settingsMenu: false\n        },\n        defaultUpdateOptions: { highlightOptions: { enabled: false } }\n    });\n    iApi.geo.map.esriView!.ui.add(sketchEl.value!, 'bottom-right');\n\n    sketchEl.value?.addEventListener('arcgisCreate', e => handleSketchCreateEvent(e.detail));\n    sketchEl.value?.addEventListener('arcgisUpdate', e => handleSketchUpdateEvent(e.detail));\n\n    sketchHandler = {\n        remove: () => sketchEl.value?.removeEventListener('arcgisCreate', e => handleSketchCreateEvent(e.detail))\n    };\n\n    sketch = sketchEl.value;\n\n    // Add DOM event listeners\n    iApi.geo.map.esriView!.on('click', handleViewClick);\n    document.addEventListener('keydown', handleNavigationKeyDown);\n    document.addEventListener('keydown', handleGraphicKeyboardEdit, { capture: true });\n};\n\nconst cleanupDrawTools = () => {\n    if (sketch) {\n        if (iApi.geo.map.esriView) {\n            iApi.geo.map.esriView.ui.remove(sketch);\n        }\n        if (sketchHandler) {\n            sketchHandler.remove();\n        }\n        sketch.destroy();\n    }\n\n    document.removeEventListener('keydown', handleNavigationKeyDown);\n    document.removeEventListener('keydown', handleGraphicKeyboardEdit, { capture: true });\n\n    multiPointMode = false;\n    multiPointGraphic = null;\n    multiPointVertices = [];\n\n    sketch = null;\n    graphicsLayer = null;\n};\n\n// Extract the existing sketch event handlers for reuse\nconst handleSketchCreateEvent = (event: __esri.SketchCreateEvent) => {\n    if (event.state === 'complete') {\n        const graphic = event.graphic;\n        const id = `graphic-${Date.now()}`;\n        graphic.attributes = graphic.attributes || {};\n        graphic.attributes.id = id;\n        drawStore.addGraphic({\n            id,\n            type: event.tool,\n            geometry: graphic.geometry,\n            attributes: graphic.attributes\n        });\n\n        if (event.tool !== 'point') {\n            drawStore.setActiveTool(null);\n        }\n    }\n};\n\nconst handleSketchUpdateEvent = (event: __esri.SketchUpdateEvent) => {\n    const graphic = event.graphics[0];\n    if (!graphic) return;\n\n    if (event.state === 'start') {\n        if (drawStore.activeTool !== 'edit') {\n            sketch!.cancel();\n            return;\n        }\n\n        selectedGraphic = graphic;\n        if (graphic.attributes?.id) {\n            drawStore.selectGraphic(graphic.attributes.id);\n            iApi.updateAlert(\n                t('draw.graphic.selected', {\n                    type: translateTerm(graphic.attributes?.type)\n                })\n            );\n        }\n    } else if (event.state === 'active') {\n        // update highlight while editing\n        highlightSelectedGraphic(graphic);\n    } else if (event.state === 'complete') {\n        if (graphic.attributes?.id) {\n            drawStore.updateGraphicGeometry(graphic.attributes.id, graphic.geometry);\n            iApi.updateAlert(t('draw.graphic.updated'));\n        }\n    }\n};\n\n/* --------------------------------------------------------------------------\n * INITIALIZATION & EVENT LISTENERS\n * -------------------------------------------------------------------------- */\nonMounted(() => {\n    initializeDrawTools();\n\n    // Listen for map creation/destruction events\n    rampEventHandlers.push(\n        iApi.event.on(GlobalEvents.MAP_DESTROYED, () => {\n            cleanupDrawTools();\n        })\n    );\n});\n\n/* --------------------------------------------------------------------------\n * ACTIVE TOOL WATCHER\n * -------------------------------------------------------------------------- */\nwatch(\n    () => drawStore.activeTool,\n    newTool => {\n        sketch!.cancel();\n        highlightSelectedGraphic();\n        multiPointGraphic = null;\n        multiPointVertices = [];\n        multiPointMode = false;\n        if (newTool && newTool != 'edit') {\n            sketch!.create(newTool);\n        }\n    }\n);\n\n/* --------------------------------------------------------------------------\n * CLEANUP ON UNMOUNT\n * -------------------------------------------------------------------------- */\nonUnmounted(() => {\n    cleanupDrawTools();\n\n    // Remove RAMP event handlers\n    rampEventHandlers.forEach(handler => iApi.event.off(handler));\n});\n</script>\n","import { FixtureInstance, InstanceAPI } from '@/api';\nimport { useDrawStore } from '../store';\nimport { DRAW_GRAPHICS_LAYER_ID } from '../draw.vue';\n\nconst DEFAULT_DRAW_TYPES: DrawTypeConfig[] = [\n    { type: 'point' },\n    { type: 'polyline' },\n    { type: 'polygon' },\n    { type: 'circle' },\n    { type: 'rectangle' }\n];\n\nexport interface DrawTypeConfig {\n    type: string;\n    options?: Record<string, any>;\n    enabled?: boolean; // optional, default true\n}\n\nexport interface DrawFixtureConfig {\n    types?: DrawTypeConfig[];\n    defaultTool?: string;\n}\n\nexport class DrawAPI extends FixtureInstance {\n    store: ReturnType<typeof useDrawStore>;\n\n    constructor(id: string, iApi: InstanceAPI) {\n        super(id, iApi);\n        this.store = useDrawStore(this.$vApp.$pinia);\n    }\n\n    /**\n     * Parses the draw fixture configuration and sets up the draw store.\n     * @param drawConfig The configuration object for the draw fixture.\n     */\n    _parseConfig(drawConfig: DrawFixtureConfig) {\n        if (!drawConfig) {\n            // if the entire drawConfig object is missing default to all standard types\n            this.store.setSupportedTypes(DEFAULT_DRAW_TYPES);\n            return;\n        }\n\n        // Handle types configuration\n        if (drawConfig.types !== undefined) {\n            // The 'types' property is provided in the configuration.\n            // This includes an empty array [] (user explicitly wants no types from config)\n            // or null (treat as explicitly no types).\n            const typesSource = drawConfig.types === null ? [] : drawConfig.types;\n            const enabledTypes = typesSource.filter(t => t.enabled !== false);\n            this.store.setSupportedTypes(enabledTypes);\n        } else {\n            // The 'types' property is not set (undefined) in the configuration.\n            // Default to all standard types.\n            this.store.setSupportedTypes(DEFAULT_DRAW_TYPES);\n        }\n\n        // Set default tool if provided in the configuration\n        if (drawConfig.defaultTool) {\n            this.store.setActiveTool(drawConfig.defaultTool);\n        }\n    }\n\n    /**\n     * Returns the ID of the graphics layer used by the draw fixture.\n     */\n    get graphicsLayerId(): string {\n        return DRAW_GRAPHICS_LAYER_ID;\n    }\n}\n","export default \"key,enValue,enValid,frValue,frValid\\ndraw.multiPoint.started,{type} drawing started with 1 point,1,Dessin de {type} commencé avec 1 point,0\\ndraw.multiPoint.pointAdded,Point added {count} points total,1,Point ajouté, {count} points au total,0\\ndraw.multiPoint.pointRemoved,Point removed {count} points remaining,1,Point supprimé, {count} points restants,0\\ndraw.multiPoint.canceled,Drawing canceled,1,Dessin annulé,0\\ndraw.multiPoint.completed,{type} completed with {count} points,1,{type} terminé avec {count} points,0\\ndraw.multiPoint.notEnoughPoints,Not enough points for {type} minimum {min} required,1,Pas assez de points pour {type}, minimum {min} requis,0\\ndraw.graphic.created,{type} created,1,{type} créé,0\\ndraw.graphic.selected,{type} selected,1,{type} sélectionné,0\\ndraw.graphic.deselected,Graphic deselected,1,Graphique désélectionné,0\\ndraw.graphic.deleted,Graphic deleted,1,Graphique supprimé,0\\ndraw.graphic.updated,Graphic updated,1,Graphique mis à jour,0\\ndraw.graphic.none,No graphic found,1,Aucun graphique trouvé,0\\ndraw.tool.canceled,Drawing tool canceled,1,Outil de dessin annulé,0\\ndraw.point.resize.unsupported,Resizing not supported for point graphics,1,Le redimensionnement n'est pas pris en charge pour les points,0\\ndraw.point.rotate.unsupported,Rotation not supported for point graphics,1,La rotation n'est pas prise en charge pour les points,0\\ndraw.move.up,Moved up,1,Déplacé vers le haut,0\\ndraw.move.down,Moved down,1,Déplacé vers le bas,0\\ndraw.move.left,Moved left,1,Déplacé vers la gauche,0\\ndraw.move.right,Moved right,1,Déplacé vers la droite,0\\ndraw.resize.increase,Increased size,1,Taille augmentée,0\\ndraw.resize.decrease,Decreased size,1,Taille réduite,0\\ndraw.rotate.clockwise,Rotated clockwise,1,Rotation dans le sens horaire,0\\ndraw.rotate.counterclockwise,Rotated counter-clockwise,1,Rotation dans le sens antihoraire,0\\ndraw.button.point,Draw point,1,Dessiner un point,0\\ndraw.button.polyline,Draw line,1,Dessiner une ligne,0\\ndraw.button.polygon,Draw polygon,1,Dessiner un polygone,0\\ndraw.button.rectangle,Draw rectangle,1,Dessiner un rectangle,0\\ndraw.button.circle,Draw circle,1,Dessiner un cercle,0\\ndraw.point.tooltip,Draw point,1,Dessiner un point,0\\ndraw.polyline.tooltip,Draw polyline,1,Dessiner une polyligne,0\\ndraw.polygon.tooltip,Draw polygon,1,Dessiner un polygone,0\\ndraw.circle.tooltip,Draw circle,1,Dessiner un cercle,0\\ndraw.rectangle.tooltip,Draw rectangle,1,Dessiner un rectangle,0\\ndraw.edit.tooltip,Edit Mode,1,Mode édition,0\\ndraw.graphic.moved,Graphic moved,1,Graphique déplacé,0\\ndraw.shape,shape,1,forme,0\\ndraw.point,point,1,indiquer,0\\ndraw.multipoint,multipoint,1,multipoint,0\\ndraw.polyline,polyline,1,polyligne,0\\ndraw.polygon,polygon,1,polygone,0\\ndraw.rectangle,rectangle,1,rectangle,0\\ndraw.circle,circle,1,cercle,0\\ndraw.unknown,unknown,1,inconnue,0\"","import { markRaw } from 'vue';\nimport { useDrawStore } from './store';\nimport { DrawAPI } from './api/drawApi';\nimport DrawV from './draw.vue';\nimport messages from './lang/lang.csv?raw';\nimport { GlobalEvents } from '@/api';\n\nclass DrawFixture extends DrawAPI {\n    async init() {\n        // Mount a new instance of the component\n        const { el } = this.mount(DrawV, {\n            app: this.$element\n        });\n\n        // Add it to the DOM\n        const innerShell = this.$vApp.$el.getElementsByClassName('inner-shell')[0];\n        innerShell.appendChild(el.childNodes[0]);\n\n        // Add language messages\n        Object.entries(messages).forEach(value => this.$iApi.$i18n.mergeLocaleMessage(...value));\n        this._parseConfig(this.config);\n\n        // Register only the icons for enabled draw types\n        const drawStore = useDrawStore(this.$vApp.$pinia);\n        drawStore.supportedTypes.forEach(typeCfg => {\n            const name = `${typeCfg.type}-icon`;\n            this.$iApi.component(name, markRaw(import(`./icons/${typeCfg.type}-icon.vue`)));\n        });\n    }\n\n    async added() {\n        // Re-initialize on map create or config change\n        this.$iApi.event.on(GlobalEvents.MAP_CREATED, () => {\n            this.init();\n        });\n    }\n}\n\nexport default DrawFixture;\n"],"names":["n","e","o","t","l","r","s","i","p","d","a","m","c","u","h","f","y","w","g","j","T","v","F","b","_","S","k","x","C","M","P","I","O","L","R","E","#o","#s","#i","#n","DRAW_GRAPHICS_LAYER_ID","useI18n","translateTerm","key","iApi","inject","drawStore","useDrawStore","sketch","sketchEl","useTemplateRef","sketchHandler","graphicsLayer","selectedGraphic","highlightGraphic","multiPointMode","multiPointGraphic","multiPointVertices","rampEventHandlers","reactive","highlightSelectedGraphic","graphic","highlightSymbol","EsriSimpleMarkerSymbol","EsriSimpleLineSymbol","EsriSimpleFillSymbol","EsriGraphic","watch","newId","oldId","selectedEsriGraphic","selectCenteredGraphic","view","centerPoint","searchArea","hits","result","createGraphicAtCenter","centerScreen","extent","mapWidth","mapHeight","shapeSize","EsriPoint","EsriPolyline","halfSize","EsriPolygon","radius","numPoints","circleRing","angle","id","handleNavigationKeyDown","mapElement","handleGraphicKeyboardEdit","translateDelta","isResizing","isRotating","screenDx","screenDy","geometry","center","screenPoint","mapPoint","mapDx","mapDy","newGeometry","newPaths","path","polyline","scaleFactor","cos","sin","dx","dy","rx","ry","newRings","ring","polygon","action","handleViewClick","event","hit","initializeDrawTools","LayerType","handleSketchCreateEvent","handleSketchUpdateEvent","cleanupDrawTools","onMounted","GlobalEvents","newTool","onUnmounted","handler","DEFAULT_DRAW_TYPES","DrawAPI","FixtureInstance","drawConfig","enabledTypes","messages","DrawFixture","el","DrawV","value","typeCfg","name","markRaw","__variableDynamicImportRuntimeHelper"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]}