{"version":3,"file":"index-B9pcX0go.js","sources":["../../src/fixtures/snowman/snowman.vue","../../src/fixtures/snowman/appbar-button.vue","../../src/fixtures/snowman/index.ts"],"sourcesContent":["<template>\n    <div class=\"absolute top-0 right-0\" ref=\"el\">\n        <img style=\"width: 250px\" :src=\"url\" alt=\"Snowman\" srcset=\"\" />\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { FixtureInstance } from '@/api';\nimport { onMounted, ref } from 'vue';\n\nconst props = defineProps({\n    fixture: {\n        type: FixtureInstance,\n        required: true\n    },\n    message: String\n});\n\nconst el = ref();\n\nconst url = ref('https://i.imgur.com/p13yknD.png');\n\nonMounted(() => {\n    // console.log(this.message);\n\n    setTimeout(() => {\n        // console.log(`[fixture] ${this.fixture.id} self-terminates`);\n\n        // NOTE: only on-map components need this relatively complicated removal process; panels are closed much easier\n\n        // removes the snowman from DOM and destroys the instance\n        // this.$destroy(); // destroy Vue component (no longer supported in Vue 3)\n        el.value.parentNode!.removeChild(el.value); // remove DOM nodes\n        // you can also do it like this üëâ this.$options.iApi.$vApp.$el.removeChild(this.$el.parentNode);\n\n        // NOTE: üì¢ it's possible to call the store directly from a fixture component, but DON'T DO THIS! üõë\n        // always use the API, that's what it's for, let it call the store directly\n        // üëâ useFixtureStore(this.$iApi.$vApp.$pinia).removeFixture(this) ‚ùå\n\n        // üëá this is the correct way ‚úî\n        props.fixture.remove(); // or // this.$options.iApi.fixture.remove(this.fixture);\n    }, 6000);\n});\n</script>\n\n<style lang=\"scss\" scoped></style>\n","<template>\n    <appbar-button :onClickFunction=\"togglePanel\" tooltip=\"‚õÑ\">\n        <span class=\"block h-24\">‚õÑ</span>\n    </appbar-button>\n</template>\n\n<script setup lang=\"ts\">\nimport type { InstanceAPI } from '@/api';\nimport { inject } from 'vue';\nconst iApi = inject('iApi') as InstanceAPI;\n\nconst togglePanel = () => {\n    // summon the SNOWMAN!\n    iApi.fixture.add('snowman');\n\n    // the above will re-add the snowman fixture as it was self-terminated\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import SnowmanV from './snowman.vue'; // import on-map component\nimport SnowmanAppbarButtonV from './appbar-button.vue';\n\nimport { FixtureInstance } from '@/api';\n\nclass SnowmanFixture extends FixtureInstance {\n    added(): void {\n        // console.log(`[fixture] ${this.id} added`);\n\n        // register snowman appbar button\n        this.$iApi.component('snowman-appbar-button', SnowmanAppbarButtonV);\n\n        const { el } = this.mount(SnowmanV, {\n            app: this.$element,\n            props: { message: 'This is a snowman prop.', fixture: this }\n        });\n\n        this.$vApp.$el.appendChild(el.childNodes[0]);\n\n        // snowman self-terminates from its own component\n\n        // NOTE: right now Snowman terminates from inside its own component, but it can be done here as well üëá\n        // svInstance.$destroy(); // no longer supported in Vue 3\n        // this.$vApp.$el.removeChild(snowman);\n        // this.$iApi.fixture.remove(this);\n    }\n\n    removed(): void {\n        // console.log(`[fixture] ${this.id} removed`);\n    }\n}\n\nexport default SnowmanFixture;\n"],"names":["props","__props","el","ref","url","onMounted","iApi","inject","togglePanel","SnowmanFixture","FixtureInstance","SnowmanAppbarButtonV","SnowmanV"],"mappings":";;;;;;;;;;;AAUA,UAAMA,IAAQC,GAQRC,IAAKC,EAAA,GAELC,IAAMD,EAAI,iCAAiC;AAEjD,WAAAE,EAAU,MAAM;AAGZ,iBAAW,MAAM;AAOb,QAAAH,EAAG,MAAM,WAAY,YAAYA,EAAG,KAAK,GAQzCF,EAAM,QAAQ,OAAA;AAAA,MAClB,GAAG,GAAI;AAAA,IACX,CAAC;;;;;;;;;;;;;;;;ACjCD,UAAMM,IAAOC,EAAO,MAAM,GAEpBC,IAAc,MAAM;AAEtB,MAAAF,EAAK,QAAQ,IAAI,SAAS;AAAA,IAG9B;;;;;;;;;;;;;;;ACXA,MAAMG,UAAuBC,EAAgB;AAAA,EACzC,QAAc;AAIV,SAAK,MAAM,UAAU,yBAAyBC,CAAoB;AAElE,UAAM,EAAE,IAAAT,EAAA,IAAO,KAAK,MAAMU,GAAU;AAAA,MAChC,KAAK,KAAK;AAAA,MACV,OAAO,EAAE,SAAS,2BAA2B,SAAS,KAAA;AAAA,IAAK,CAC9D;AAED,SAAK,MAAM,IAAI,YAAYV,EAAG,WAAW,CAAC,CAAC;AAAA,EAQ/C;AAAA,EAEA,UAAgB;AAAA,EAEhB;AACJ;"}