import{a as l,r as c}from"./enum-g1DWyQyu.js";import{n as d}from"./TimeOnly-CGkId3bj.js";import{w as m,a as w,H as i,p as S,K as o}from"./aiServices-u5nRiq9H.js";import{u as f,l as O}from"./SpatialFilter-B44tswGH.js";import{a}from"./operatorsWorkerConnection-TmW3NQ3Q.js";function u(s){return async(t,e,n)=>{if(w(n,2,2,t,e),(n=m(n))[0]===null&&n[1]===null)return!1;if(o(n[0])){if(i(n[1]))return new O({parentfeatureset:n[0],relation:s,relationGeom:n[1]});if(n[1]===null)return new f({parentfeatureset:n[0]});throw new l(t,c.InvalidParameter,e)}if(i(n[0])){if(i(n[1])){switch(s){case"esriSpatialRelEnvelopeIntersects":{const p=d(n[0]),r=d(n[1]);return p!=null&&r!=null&&a("intersects",[p.toJSON(),r.toJSON()])}case"esriSpatialRelIntersects":return a("intersects",[n[0].toJSON(),n[1].toJSON()]);case"esriSpatialRelContains":return a("contains",[n[0].toJSON(),n[1].toJSON()]);case"esriSpatialRelOverlaps":return a("overlaps",[n[0].toJSON(),n[1].toJSON()]);case"esriSpatialRelWithin":return a("within",[n[0].toJSON(),n[1].toJSON()]);case"esriSpatialRelTouches":return a("touches",[n[0].toJSON(),n[1].toJSON()]);case"esriSpatialRelCrosses":return a("crosses",[n[0].toJSON(),n[1].toJSON()])}throw new l(t,c.InvalidParameter,e)}if(o(n[1]))return new O({parentfeatureset:n[1],relation:s,relationGeom:n[0]});if(n[1]===null)return!1;throw new l(t,c.InvalidParameter,e)}if(n[0]===null){if(o(n[1]))return new f({parentfeatureset:n[1]});if(i(n[1])||n[1]===null)return!1}throw new l(t,c.InvalidParameter,e)}}function J(s){s.mode==="async"&&(s.functions.intersects=function(t,e){return s.standardFunctionAsync(t,e,u("esriSpatialRelIntersects"))},s.functions.envelopeintersects=function(t,e){return s.standardFunctionAsync(t,e,u("esriSpatialRelEnvelopeIntersects"))},s.signatures.push({name:"envelopeintersects",min:2,max:2}),s.functions.contains=function(t,e){return s.standardFunctionAsync(t,e,u("esriSpatialRelContains"))},s.functions.overlaps=function(t,e){return s.standardFunctionAsync(t,e,u("esriSpatialRelOverlaps"))},s.functions.within=function(t,e){return s.standardFunctionAsync(t,e,u("esriSpatialRelWithin"))},s.functions.touches=function(t,e){return s.standardFunctionAsync(t,e,u("esriSpatialRelTouches"))},s.functions.crosses=function(t,e){return s.standardFunctionAsync(t,e,u("esriSpatialRelCrosses"))},s.functions.relate=function(t,e){return s.standardFunctionAsync(t,e,async(n,p,r)=>{if(r=m(r),w(r,3,3,t,e),i(r[0])&&i(r[1]))return a("relate",[r[0].toJSON(),r[1].toJSON(),S(r[2])]);if(i(r[0])&&r[1]===null||i(r[1])&&r[0]===null)return!1;if(o(r[0])&&r[1]===null)return new f({parentfeatureset:r[0]});if(o(r[1])&&r[0]===null)return new f({parentfeatureset:r[1]});if(o(r[0])&&i(r[1]))return r[0].relate(r[1],S(r[2]));if(o(r[1])&&i(r[0]))return r[1].relate(r[0],S(r[2]));if(r[0]===null&&r[1]===null)return!1;throw new l(t,c.InvalidParameter,e)})})}export{J as registerFunctions};
