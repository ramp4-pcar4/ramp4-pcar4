{"version":3,"file":"previewSymbol2D-BgXgV5g6.js","sources":["../../node_modules/@arcgis/core/symbols/support/previewSymbol2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{getColorLuminance as e}from\"../../core/colorUtils.js\";import i from\"../../core/Error.js\";import{loadFont as o}from\"../../core/fontUtils.js\";import{pt2px as n}from\"../../core/screenUtils.js\";import{quantizePolygon as a,quantizePolyline as l}from\"../../geometry/support/quantizationUtils.js\";import{getFill as s,getStroke as r,getDashArray as h,getPatternUrlWithColor as c}from\"./gfxUtils.js\";import{SymbolSizeDefaults as m,shapes as u,adjustColorBrightness as p}from\"./previewUtils.js\";import{renderSymbol as d}from\"./renderUtils.js\";import{backgroundPadding as f}from\"./textUtils.js\";const g=\"picture-fill\",y=\"picture-marker\",w=\"simple-fill\",x=\"simple-line\",b=\"simple-marker\",v=\"text\",M=\"Aa\",S=m.size,z=m.maxSize,k=m.maxOutlineSize,L=m.lineWidth,C=225,$=document.createElement(\"canvas\");function j(t,e,i){if(\"polygon\"===t.type){const o=t.extent,n=0===o.width?1:o.width,l=0===o.height?1:o.height;t=a({originPosition:\"upperLeft\",scale:[n/e,l/i],translate:[o.xmin,o.ymax]},{},t);let s=\"\";for(let e=0;e<t.rings.length;e++){const i=t.rings[e];for(let t=0;t<i.length;t++){const e=i[t][0],o=i[t][1];let n=\"\";0===t?(n=`M${e.toString()} ${o.toString()}`,\"\"!==s&&(n=` ${n}`),s+=n):t===i.length-1?(n=`l${e.toString()} ${o.toString()} Z`,\"\"!==s&&(n=` ${n}`),s+=n):(n=`l${e.toString()} ${o.toString()}`,\"\"!==s&&(n=` ${n}`),s+=n)}}return s}if(\"polyline\"===t.type){const o=t.extent,n=0===o.width?1:o.width,a=0===o.height?1:o.height;t=l({originPosition:\"upperLeft\",scale:[n/e,a/i],translate:[o.xmin,o.ymax]},{},t);let s=\"\";for(let e=0;e<t.paths.length;e++){const i=t.paths[e];for(let t=0;t<i.length;t++){const e=i[t][0],o=i[t][1];let n=\"\";0===t?(n=`M${e.toString()} ${o.toString()}`,\"\"!==s&&(n=` ${n}`),s+=n):(n=`l${e.toString()} ${o.toString()}`,\"\"!==s&&(n=` ${n}`),s+=n)}}return s}return\"\"}function B(t,e){const i=$.getContext(\"2d\"),o=[];e&&(e.weight&&o.push(e.weight),e.size&&o.push(e.size+\"px\"),e.family&&o.push(e.family)),i.font=o.join(\" \");const{width:n,actualBoundingBoxLeft:a,actualBoundingBoxRight:l,actualBoundingBoxAscent:s,actualBoundingBoxDescent:r}=i.measureText(t);return{width:Math.ceil(Math.max(n,a+l)),height:Math.ceil(s+r),x:Math.floor(a),y:Math.floor((s-r)/2)}}function P(t){const e=t?.size;return{width:null!=e&&\"object\"==typeof e&&\"width\"in e?n(e.width):null,height:null!=e&&\"object\"==typeof e&&\"height\"in e?n(e.height):null}}async function E(t,e){const i=e.fill,o=t.color;if(\"pattern\"===i?.type&&o&&t.type!==g){const t=await c(i.src,o.toCss(!0));i.src=t,e.fill=i}}async function U(t,e,i,n){if(!(\"font\"in t)||!t.font||\"text\"!==e.shape.type)return;try{await o(t.font)}catch{}const{width:a,height:l}=P(n);if(!/[\\uE600-\\uE6FF]/.test(e.shape.text)){const{width:o,height:s,x:r,y:h}=B(e.shape.text,{weight:e.font?.weight,size:e.font?.size,family:e.font?.family});i[0]=a??o,i[1]=l??s,e.shape.x=r,e.shape.y=h;let c=\"angle\"in t?t.angle:null;if(null!=n?.rotation&&(c=(c??0)+n.rotation),c){const t=c*(Math.PI/180),e=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));i[1]=i[0]*e+i[1]*o}}}function A(t,e,i,o,a){if(null!=t.haloColor&&null!=t.haloSize){a.masking??=i.map((()=>[]));const l=n(t.haloSize);o[0]+=l,o[1]+=l,i.unshift([{...e,fill:null,stroke:{color:t.haloColor,width:2*l,join:\"round\",cap:\"round\"}}]),a.masking.unshift([{shape:{type:\"rect\",x:0,y:0,width:o[0]+2*f,height:o[1]+2*f},fill:[255,255,255],stroke:null},{...e,fill:[0,0,0,0],stroke:null}])}null==t.backgroundColor&&null==t.borderLineColor||(o[0]+=2*f,o[1]+=2*f,i.unshift([{shape:{type:\"rect\",x:0,y:0,width:o[0],height:o[1]},fill:t.backgroundColor,stroke:{color:t.borderLineColor,width:n(t.borderLineSize)}}]),a.masking?.unshift([]))}function F(t,e){return t>e?\"dark\":\"light\"}function Z(t,e){const i=\"number\"==typeof e?.size?e?.size:null,o=null!=i?n(i):null,a=null!=e?.maxSize?n(e.maxSize):null;let l=\"angle\"in t?t.angle:null;null!=e?.rotation&&(l=(l??0)+e.rotation);const c=s(t);let m=r(t);\"dark\"!==q(t,245)||e?.ignoreWhiteSymbols||(m={width:.75,...m,color:\"#bdc3c7\"});let p=null;const d={shape:null,fill:c,stroke:m,offset:[0,0]};m?.width&&(m.width=Math.min(m.width,k));const f=m?.width||0;let C=null!=e?.size&&(null==e?.scale||e?.scale),$=0,E=0,U=!1;switch(t.type){case b:{const i=t.style,{width:s,height:r}=P(e);let h=s===r&&null!=s?s:null!=o?o:Math.min(n(t.size),a||z);if(!0===e?.useMarkerSymbolSize&&null!==s&&null!==r){const e=Math.min(n(t.size),a||z);h=e>s&&e>r?Math.min(s,r):e}switch($=h,E=h,i){case\"circle\":d.shape={type:\"circle\",cx:0,cy:0,r:.5*h},C||($+=f,E+=f);break;case\"cross\":d.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*E]},{command:\"L\",values:[$,.5*E]},{command:\"M\",values:[.5*$,0]},{command:\"L\",values:[.5*$,E]}]};break;case\"diamond\":d.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*E]},{command:\"L\",values:[.5*$,0]},{command:\"L\",values:[$,.5*E]},{command:\"L\",values:[.5*$,E]},{command:\"Z\",values:[]}]},C||($+=f,E+=f);break;case\"square\":d.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[$,0]},{command:\"L\",values:[$,E]},{command:\"L\",values:[0,E]},{command:\"Z\",values:[]}]},C||($+=f,E+=f),l&&(U=!0);break;case\"triangle\":d.shape={type:\"path\",path:[{command:\"M\",values:[.5*$,0]},{command:\"L\",values:[$,E]},{command:\"L\",values:[0,E]},{command:\"Z\",values:[]}]},C||($+=f,E+=f),l&&(U=!0);break;case\"x\":d.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[$,E]},{command:\"M\",values:[$,0]},{command:\"L\",values:[0,E]}]},l&&(U=!0);break;case\"path\":d.shape={type:\"path\",path:t.path||\"\"},C||($+=f,E+=f),l&&(U=!0),C=!0}break}case x:{const{width:t,height:i}=P(e),n=h(m).reduce(((t,e)=>t+e),0),a=n&&Math.ceil(L/n),l=i??o??f,s=t??(n*a||L);if(C=!0,\"polyline\"===e?.geometry?.type&&e?.geometry?.extent){$=s,E=i??$;const t=1e3,o=.15*t;p=[$,E],E=p[0]>p[1]?t*p[1]/p[0]:t,$=p[0]>p[1]?t:t*p[0]/p[1],m?.width&&(m.width=m.width*t/(p[1]>p[0]?p[1]:p[0]),m.width>o&&(m.width=o)),d.shape={type:\"path\",path:j(e.geometry,$,E)}}else $=null!=e?.maxSize?Math.min(s,e.maxSize):s,E=l,m&&(m.width=l),d.shape={type:\"path\",path:[{command:\"M\",values:[l/2,E/2]},{command:\"L\",values:[$-l/2,E/2]}]};break}case g:case w:{const t=\"object\"==typeof e?.symbolConfig&&!!e?.symbolConfig?.isSquareFill,{width:i,height:n}=P(e);$=!t&&i!==n||null==i?null!=o?o:S:i,E=!t&&i!==n||null==n?$:n,C||($+=f,E+=f),C=!0,e?.geometry?.extent&&\"polygon\"===e?.geometry?.type?(p=[$,E],E=p[0]>p[1]?1e3*p[1]/p[0]:1e3,$=p[0]>p[1]?1e3:1e3*p[0]/p[1],d.shape={type:\"path\",path:j(e.geometry,$,E)}):d.shape=t?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[$,0]},{command:\"L\",values:[$,E]},{command:\"L\",values:[0,E]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:u.fill[0];break}case y:{const i=Math.min(n(t.width),a||z),s=Math.min(n(t.height),a||z),{width:r,height:h}=P(e),c=r===h&&null!=r?r:null!=o?o:Math.max(i,s),m=t.width/t.height;$=m<=1?Math.ceil(c*m):c,E=m<=1?c:Math.ceil(c/m),d.shape={type:\"image\",x:-Math.round($/2),y:-Math.round(E/2),width:$,height:E,src:t.url||\"\"},l&&(U=!0);break}case v:{const i=t,l=e?.overrideText||i.text||M,s=i.font,{width:r,height:h}=P(e),c=null!=h?h:null!=o?o:Math.min(n(s.size),a||z),{width:m,height:u}=B(l,{weight:s.weight,size:c,family:s.family}),p=/[\\uE600-\\uE6FF]/.test(l);$=r??(p?c:m),E=p?c:u;let f=.5*(p?c:u);p&&(f+=5),d.shape={type:\"text\",text:l,x:i.xoffset||0,y:i.yoffset||f,align:\"middle\",alignBaseline:i.verticalAlignment,decoration:s&&s.decoration,rotated:i.rotated,kerning:i.kerning},d.font=s&&{size:c,style:s.style,decoration:s.decoration,weight:s.weight,family:s.family};break}}return{shapeDescriptor:d,size:[$,E],outputSize:p,renderOptions:{node:e?.node,scale:C,opacity:e?.opacity,rotations:[l],useRotationSize:U,effectView:e?.effectView,ariaLabel:e?.ariaLabel,clipBloomEffect:e?.clipBloomEffect}}}async function D(t,e){const{shapeDescriptor:o,size:n,renderOptions:a,outputSize:l}=Z(t,e);if(!o.shape)throw new i(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await E(t,o),await U(t,o,n,e);const s=[[o]];if(\"object\"==typeof e?.symbolConfig&&e?.symbolConfig?.applyColorModulation){const t=.6*n[0];s.unshift([{...o,offset:[-t,0],fill:p(o.fill,-.3)}]),s.push([{...o,offset:[t,0],fill:p(o.fill,.3)}]),n[0]+=2*t,a.scale=!1}\"text\"===t.type&&A(t,o,s,n,a);const r=d(s,n,a);if(l&&r){const t=\"img\"===r.nodeName.toLowerCase()?r:r.firstChild;\"svg\"===t.nodeName.toLowerCase()&&t.setAttribute(\"viewBox\",`0 0 ${n[0].toString()} ${n[1].toString()}`),t.setAttribute(\"width\",l[0].toString()),t.setAttribute(\"height\",l[1].toString()),l.length>2&&(t.style.setProperty(\"padding-left\",l[2]?.toString()+\"px\"),t.style.setProperty(\"padding-right\",l[2]?.toString()+\"px\"),t.style.setProperty(\"padding-top\",l[3]?.toString()+\"px\"),t.style.setProperty(\"padding-bottom\",l[3]?.toString()+\"px\"),t.style.setProperty(\"box-sizing\",\"border-box\"))}return r}function q(i,o=C){const n=s(i),a=r(i),l=!n||\"type\"in n?null:new t(n),h=a?.color?new t(a?.color):null,c=l?F(e(l),o):null,m=h?F(e(h),o):null;return m?c?c===m?c:o>=C?\"light\":\"dark\":m:c}export{q as getContrastingBackgroundTheme,Z as getRenderSymbolParameters,D as previewSymbol2D};\n"],"names":["g","y","w","x","b","v","M","S","m","k","L","C","$","j","t","e","i","o","n","l","a","s","B","r","P","E","c","U","A","f","F","Z","q","p","d","h","u","D"],"mappings":"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","x_google_ignoreList":[0]}