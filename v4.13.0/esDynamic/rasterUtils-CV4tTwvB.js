import"./vec2f64-CkowXrDb.js";import{B as u,X as w,L as h,P as c,M as d}from"./enums-wEDHPbCF.js";import{a as g,S as T}from"./Texture-D5XWO2GQ.js";function M(r,a,n="nearest",e=!1){const o=!(e&&a.pixelType==="u8"),s=o?w.FLOAT:w.UNSIGNED_BYTE,A=a.pixels==null||a.pixels.length===0?null:o?a.getAsRGBAFloat():a.getAsRGBA(),E=r.capabilities.textureFloatLinear,t=new g;return t.width=a.width,t.height=a.height,t.internalFormat=o?u.RGBA32F:d.RGBA,t.samplingMode=!E||n!=="bilinear"&&n!=="cubic"?h.NEAREST:h.LINEAR,t.dataType=s,t.wrapMode=c.CLAMP_TO_EDGE,new T(r,t,A)}function F(r,a){const{spacing:n,offsets:e,coefficients:o,size:[s,A]}=a,E=n[0]>1,t=new g;t.width=E?4*s:s,t.height=A,t.internalFormat=u.RGBA32F,t.dataType=w.FLOAT,t.samplingMode=h.NEAREST,t.wrapMode=c.CLAMP_TO_EDGE;const p=new Float32Array(E?s*A*16:2*e.length);if(E&&o!=null)for(let i=0,l=0;i<o.length;i++)p[l++]=o[i],i%3==2&&(p[l++]=1);else for(let i=0;i<A;i++)for(let l=0;l<s;l++){const m=4*(i*s+l),f=2*(l*A+i);p[m]=e[f],p[m+1]=e[f+1],p[m+3]=e[f]===-1?0:1}return new T(r,t,p)}function G(r,a){const n=new g;return n.internalFormat=d.RGBA,n.width=a.length/4,n.height=1,n.samplingMode=h.NEAREST,n.wrapMode=c.CLAMP_TO_EDGE,new T(r,n,a)}function L(r,a,n){const e=new g;return e.internalFormat=d.ALPHA,e.pixelFormat=d.ALPHA,e.dataType=w.UNSIGNED_BYTE,e.width=n[0],e.height=n[1],e.samplingMode=h.NEAREST,e.wrapMode=c.CLAMP_TO_EDGE,new T(r,e,a)}export{L as c,G as l,F as m,M as s};
