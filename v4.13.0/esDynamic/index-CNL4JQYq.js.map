{"version":3,"file":"index-CNL4JQYq.js","sources":["../../node_modules/lodash-es/throttle.js","../../node_modules/color-string/node_modules/color-name/index.js","../../node_modules/color-string/index.js","../../node_modules/color/node_modules/color-name/index.js","../../node_modules/color/node_modules/color-convert/conversions.js","../../node_modules/color/node_modules/color-convert/route.js","../../node_modules/color/node_modules/color-convert/index.js","../../node_modules/color/index.js","../../node_modules/@esri/calcite-components/dist/chunks/utils4.js","../../node_modules/@esri/calcite-components/dist/components/calcite-color-picker-swatch/customElement.js","../../node_modules/@esri/calcite-components/dist/components/calcite-input-text/customElement.js","../../node_modules/@esri/calcite-components/dist/components/calcite-color-picker-hex-input/customElement.js","../../node_modules/@esri/calcite-components/dist/components/calcite-tabs/customElement.js","../../node_modules/@esri/calcite-components/dist/chunks/core.js","../../node_modules/@esri/calcite-components/dist/components/calcite-tab-nav/customElement.js","../../node_modules/@esri/calcite-components/dist/chunks/XButton.js","../../node_modules/@esri/calcite-components/dist/components/calcite-tab-title/customElement.js","../../node_modules/@esri/calcite-components/dist/components/calcite-tab/customElement.js","../../node_modules/@esri/calcite-components/dist/chunks/math.js","../../node_modules/@esri/calcite-components/dist/components/calcite-color-picker/customElement.js"],"sourcesContent":["import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","export default {\n\taliceblue: [240, 248, 255],\n\tantiquewhite: [250, 235, 215],\n\taqua: [0, 255, 255],\n\taquamarine: [127, 255, 212],\n\tazure: [240, 255, 255],\n\tbeige: [245, 245, 220],\n\tbisque: [255, 228, 196],\n\tblack: [0, 0, 0],\n\tblanchedalmond: [255, 235, 205],\n\tblue: [0, 0, 255],\n\tblueviolet: [138, 43, 226],\n\tbrown: [165, 42, 42],\n\tburlywood: [222, 184, 135],\n\tcadetblue: [95, 158, 160],\n\tchartreuse: [127, 255, 0],\n\tchocolate: [210, 105, 30],\n\tcoral: [255, 127, 80],\n\tcornflowerblue: [100, 149, 237],\n\tcornsilk: [255, 248, 220],\n\tcrimson: [220, 20, 60],\n\tcyan: [0, 255, 255],\n\tdarkblue: [0, 0, 139],\n\tdarkcyan: [0, 139, 139],\n\tdarkgoldenrod: [184, 134, 11],\n\tdarkgray: [169, 169, 169],\n\tdarkgreen: [0, 100, 0],\n\tdarkgrey: [169, 169, 169],\n\tdarkkhaki: [189, 183, 107],\n\tdarkmagenta: [139, 0, 139],\n\tdarkolivegreen: [85, 107, 47],\n\tdarkorange: [255, 140, 0],\n\tdarkorchid: [153, 50, 204],\n\tdarkred: [139, 0, 0],\n\tdarksalmon: [233, 150, 122],\n\tdarkseagreen: [143, 188, 143],\n\tdarkslateblue: [72, 61, 139],\n\tdarkslategray: [47, 79, 79],\n\tdarkslategrey: [47, 79, 79],\n\tdarkturquoise: [0, 206, 209],\n\tdarkviolet: [148, 0, 211],\n\tdeeppink: [255, 20, 147],\n\tdeepskyblue: [0, 191, 255],\n\tdimgray: [105, 105, 105],\n\tdimgrey: [105, 105, 105],\n\tdodgerblue: [30, 144, 255],\n\tfirebrick: [178, 34, 34],\n\tfloralwhite: [255, 250, 240],\n\tforestgreen: [34, 139, 34],\n\tfuchsia: [255, 0, 255],\n\tgainsboro: [220, 220, 220],\n\tghostwhite: [248, 248, 255],\n\tgold: [255, 215, 0],\n\tgoldenrod: [218, 165, 32],\n\tgray: [128, 128, 128],\n\tgreen: [0, 128, 0],\n\tgreenyellow: [173, 255, 47],\n\tgrey: [128, 128, 128],\n\thoneydew: [240, 255, 240],\n\thotpink: [255, 105, 180],\n\tindianred: [205, 92, 92],\n\tindigo: [75, 0, 130],\n\tivory: [255, 255, 240],\n\tkhaki: [240, 230, 140],\n\tlavender: [230, 230, 250],\n\tlavenderblush: [255, 240, 245],\n\tlawngreen: [124, 252, 0],\n\tlemonchiffon: [255, 250, 205],\n\tlightblue: [173, 216, 230],\n\tlightcoral: [240, 128, 128],\n\tlightcyan: [224, 255, 255],\n\tlightgoldenrodyellow: [250, 250, 210],\n\tlightgray: [211, 211, 211],\n\tlightgreen: [144, 238, 144],\n\tlightgrey: [211, 211, 211],\n\tlightpink: [255, 182, 193],\n\tlightsalmon: [255, 160, 122],\n\tlightseagreen: [32, 178, 170],\n\tlightskyblue: [135, 206, 250],\n\tlightslategray: [119, 136, 153],\n\tlightslategrey: [119, 136, 153],\n\tlightsteelblue: [176, 196, 222],\n\tlightyellow: [255, 255, 224],\n\tlime: [0, 255, 0],\n\tlimegreen: [50, 205, 50],\n\tlinen: [250, 240, 230],\n\tmagenta: [255, 0, 255],\n\tmaroon: [128, 0, 0],\n\tmediumaquamarine: [102, 205, 170],\n\tmediumblue: [0, 0, 205],\n\tmediumorchid: [186, 85, 211],\n\tmediumpurple: [147, 112, 219],\n\tmediumseagreen: [60, 179, 113],\n\tmediumslateblue: [123, 104, 238],\n\tmediumspringgreen: [0, 250, 154],\n\tmediumturquoise: [72, 209, 204],\n\tmediumvioletred: [199, 21, 133],\n\tmidnightblue: [25, 25, 112],\n\tmintcream: [245, 255, 250],\n\tmistyrose: [255, 228, 225],\n\tmoccasin: [255, 228, 181],\n\tnavajowhite: [255, 222, 173],\n\tnavy: [0, 0, 128],\n\toldlace: [253, 245, 230],\n\tolive: [128, 128, 0],\n\tolivedrab: [107, 142, 35],\n\torange: [255, 165, 0],\n\torangered: [255, 69, 0],\n\torchid: [218, 112, 214],\n\tpalegoldenrod: [238, 232, 170],\n\tpalegreen: [152, 251, 152],\n\tpaleturquoise: [175, 238, 238],\n\tpalevioletred: [219, 112, 147],\n\tpapayawhip: [255, 239, 213],\n\tpeachpuff: [255, 218, 185],\n\tperu: [205, 133, 63],\n\tpink: [255, 192, 203],\n\tplum: [221, 160, 221],\n\tpowderblue: [176, 224, 230],\n\tpurple: [128, 0, 128],\n\trebeccapurple: [102, 51, 153],\n\tred: [255, 0, 0],\n\trosybrown: [188, 143, 143],\n\troyalblue: [65, 105, 225],\n\tsaddlebrown: [139, 69, 19],\n\tsalmon: [250, 128, 114],\n\tsandybrown: [244, 164, 96],\n\tseagreen: [46, 139, 87],\n\tseashell: [255, 245, 238],\n\tsienna: [160, 82, 45],\n\tsilver: [192, 192, 192],\n\tskyblue: [135, 206, 235],\n\tslateblue: [106, 90, 205],\n\tslategray: [112, 128, 144],\n\tslategrey: [112, 128, 144],\n\tsnow: [255, 250, 250],\n\tspringgreen: [0, 255, 127],\n\tsteelblue: [70, 130, 180],\n\ttan: [210, 180, 140],\n\tteal: [0, 128, 128],\n\tthistle: [216, 191, 216],\n\ttomato: [255, 99, 71],\n\tturquoise: [64, 224, 208],\n\tviolet: [238, 130, 238],\n\twheat: [245, 222, 179],\n\twhite: [255, 255, 255],\n\twhitesmoke: [245, 245, 245],\n\tyellow: [255, 255, 0],\n\tyellowgreen: [154, 205, 50]\n}\n","import colorNames from 'color-name';\n\nconst reverseNames = Object.create(null);\n\n// Create a list of reverse color names\nfor (const name in colorNames) {\n\tif (Object.hasOwn(colorNames, name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nconst cs = {\n\tto: {},\n\tget: {},\n};\n\ncs.get = function (string) {\n\tconst prefix = string.slice(0, 3).toLowerCase();\n\tlet value;\n\tlet model;\n\tswitch (prefix) {\n\t\tcase 'hsl': {\n\t\t\tvalue = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\t}\n\n\t\tcase 'hwb': {\n\t\t\tvalue = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\t}\n\n\t\tdefault: {\n\t\t\tvalue = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (!value) {\n\t\treturn null;\n\t}\n\n\treturn {model, value};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tconst abbr = /^#([a-f\\d]{3,4})$/i;\n\tconst hex = /^#([a-f\\d]{6})([a-f\\d]{2})?$/i;\n\tconst rgba = /^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|/]\\s*([+-]?[\\d.]+)(%?)\\s*)?\\)$/;\n\tconst per = /^rgba?\\(\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*(?:[,|/]\\s*([+-]?[\\d.]+)(%?)\\s*)?\\)$/;\n\tconst keyword = /^(\\w+)$/;\n\n\tlet rgb = [0, 0, 0, 1];\n\tlet match;\n\tlet i;\n\tlet hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tconst i2 = i * 2;\n\t\t\trgb[i] = Number.parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Number.parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Number.parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Number.parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Number.parseInt(match[i + 1], 10);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = match[5] ? Number.parseFloat(match[4]) * 0.01 : Number.parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(Number.parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = match[5] ? Number.parseFloat(match[4]) * 0.01 : Number.parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\tif (!Object.hasOwn(colorNames, match[1])) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tconst hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*(?:[,|/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tconst match = string.match(hsl);\n\n\tif (match) {\n\t\tconst alpha = Number.parseFloat(match[4]);\n\t\tconst h = ((Number.parseFloat(match[1]) % 360) + 360) % 360;\n\t\tconst s = clamp(Number.parseFloat(match[2]), 0, 100);\n\t\tconst l = clamp(Number.parseFloat(match[3]), 0, 100);\n\t\tconst a = clamp(Number.isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tconst hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d.]+)%\\s*,\\s*([+-]?[\\d.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tconst match = string.match(hwb);\n\n\tif (match) {\n\t\tconst alpha = Number.parseFloat(match[4]);\n\t\tconst h = ((Number.parseFloat(match[1]) % 360) + 360) % 360;\n\t\tconst w = clamp(Number.parseFloat(match[2]), 0, 100);\n\t\tconst b = clamp(Number.parseFloat(match[3]), 0, 100);\n\t\tconst a = clamp(Number.isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function (...rgba) {\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function (...rgba) {\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function (...rgba) {\n\tconst r = Math.round(rgba[0] / 255 * 100);\n\tconst g = Math.round(rgba[1] / 255 * 100);\n\tconst b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function (...hsla) {\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// Hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function (...hwba) {\n\tlet a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (...rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// Helpers\nfunction clamp(number_, min, max) {\n\treturn Math.min(Math.max(min, number_), max);\n}\n\nfunction hexDouble(number_) {\n\tconst string_ = Math.round(number_).toString(16).toUpperCase();\n\treturn (string_.length < 2) ? '0' + string_ : string_;\n}\n\nexport default cs;\n","export default {\n\taliceblue: [240, 248, 255],\n\tantiquewhite: [250, 235, 215],\n\taqua: [0, 255, 255],\n\taquamarine: [127, 255, 212],\n\tazure: [240, 255, 255],\n\tbeige: [245, 245, 220],\n\tbisque: [255, 228, 196],\n\tblack: [0, 0, 0],\n\tblanchedalmond: [255, 235, 205],\n\tblue: [0, 0, 255],\n\tblueviolet: [138, 43, 226],\n\tbrown: [165, 42, 42],\n\tburlywood: [222, 184, 135],\n\tcadetblue: [95, 158, 160],\n\tchartreuse: [127, 255, 0],\n\tchocolate: [210, 105, 30],\n\tcoral: [255, 127, 80],\n\tcornflowerblue: [100, 149, 237],\n\tcornsilk: [255, 248, 220],\n\tcrimson: [220, 20, 60],\n\tcyan: [0, 255, 255],\n\tdarkblue: [0, 0, 139],\n\tdarkcyan: [0, 139, 139],\n\tdarkgoldenrod: [184, 134, 11],\n\tdarkgray: [169, 169, 169],\n\tdarkgreen: [0, 100, 0],\n\tdarkgrey: [169, 169, 169],\n\tdarkkhaki: [189, 183, 107],\n\tdarkmagenta: [139, 0, 139],\n\tdarkolivegreen: [85, 107, 47],\n\tdarkorange: [255, 140, 0],\n\tdarkorchid: [153, 50, 204],\n\tdarkred: [139, 0, 0],\n\tdarksalmon: [233, 150, 122],\n\tdarkseagreen: [143, 188, 143],\n\tdarkslateblue: [72, 61, 139],\n\tdarkslategray: [47, 79, 79],\n\tdarkslategrey: [47, 79, 79],\n\tdarkturquoise: [0, 206, 209],\n\tdarkviolet: [148, 0, 211],\n\tdeeppink: [255, 20, 147],\n\tdeepskyblue: [0, 191, 255],\n\tdimgray: [105, 105, 105],\n\tdimgrey: [105, 105, 105],\n\tdodgerblue: [30, 144, 255],\n\tfirebrick: [178, 34, 34],\n\tfloralwhite: [255, 250, 240],\n\tforestgreen: [34, 139, 34],\n\tfuchsia: [255, 0, 255],\n\tgainsboro: [220, 220, 220],\n\tghostwhite: [248, 248, 255],\n\tgold: [255, 215, 0],\n\tgoldenrod: [218, 165, 32],\n\tgray: [128, 128, 128],\n\tgreen: [0, 128, 0],\n\tgreenyellow: [173, 255, 47],\n\tgrey: [128, 128, 128],\n\thoneydew: [240, 255, 240],\n\thotpink: [255, 105, 180],\n\tindianred: [205, 92, 92],\n\tindigo: [75, 0, 130],\n\tivory: [255, 255, 240],\n\tkhaki: [240, 230, 140],\n\tlavender: [230, 230, 250],\n\tlavenderblush: [255, 240, 245],\n\tlawngreen: [124, 252, 0],\n\tlemonchiffon: [255, 250, 205],\n\tlightblue: [173, 216, 230],\n\tlightcoral: [240, 128, 128],\n\tlightcyan: [224, 255, 255],\n\tlightgoldenrodyellow: [250, 250, 210],\n\tlightgray: [211, 211, 211],\n\tlightgreen: [144, 238, 144],\n\tlightgrey: [211, 211, 211],\n\tlightpink: [255, 182, 193],\n\tlightsalmon: [255, 160, 122],\n\tlightseagreen: [32, 178, 170],\n\tlightskyblue: [135, 206, 250],\n\tlightslategray: [119, 136, 153],\n\tlightslategrey: [119, 136, 153],\n\tlightsteelblue: [176, 196, 222],\n\tlightyellow: [255, 255, 224],\n\tlime: [0, 255, 0],\n\tlimegreen: [50, 205, 50],\n\tlinen: [250, 240, 230],\n\tmagenta: [255, 0, 255],\n\tmaroon: [128, 0, 0],\n\tmediumaquamarine: [102, 205, 170],\n\tmediumblue: [0, 0, 205],\n\tmediumorchid: [186, 85, 211],\n\tmediumpurple: [147, 112, 219],\n\tmediumseagreen: [60, 179, 113],\n\tmediumslateblue: [123, 104, 238],\n\tmediumspringgreen: [0, 250, 154],\n\tmediumturquoise: [72, 209, 204],\n\tmediumvioletred: [199, 21, 133],\n\tmidnightblue: [25, 25, 112],\n\tmintcream: [245, 255, 250],\n\tmistyrose: [255, 228, 225],\n\tmoccasin: [255, 228, 181],\n\tnavajowhite: [255, 222, 173],\n\tnavy: [0, 0, 128],\n\toldlace: [253, 245, 230],\n\tolive: [128, 128, 0],\n\tolivedrab: [107, 142, 35],\n\torange: [255, 165, 0],\n\torangered: [255, 69, 0],\n\torchid: [218, 112, 214],\n\tpalegoldenrod: [238, 232, 170],\n\tpalegreen: [152, 251, 152],\n\tpaleturquoise: [175, 238, 238],\n\tpalevioletred: [219, 112, 147],\n\tpapayawhip: [255, 239, 213],\n\tpeachpuff: [255, 218, 185],\n\tperu: [205, 133, 63],\n\tpink: [255, 192, 203],\n\tplum: [221, 160, 221],\n\tpowderblue: [176, 224, 230],\n\tpurple: [128, 0, 128],\n\trebeccapurple: [102, 51, 153],\n\tred: [255, 0, 0],\n\trosybrown: [188, 143, 143],\n\troyalblue: [65, 105, 225],\n\tsaddlebrown: [139, 69, 19],\n\tsalmon: [250, 128, 114],\n\tsandybrown: [244, 164, 96],\n\tseagreen: [46, 139, 87],\n\tseashell: [255, 245, 238],\n\tsienna: [160, 82, 45],\n\tsilver: [192, 192, 192],\n\tskyblue: [135, 206, 235],\n\tslateblue: [106, 90, 205],\n\tslategray: [112, 128, 144],\n\tslategrey: [112, 128, 144],\n\tsnow: [255, 250, 250],\n\tspringgreen: [0, 255, 127],\n\tsteelblue: [70, 130, 180],\n\ttan: [210, 180, 140],\n\tteal: [0, 128, 128],\n\tthistle: [216, 191, 216],\n\ttomato: [255, 99, 71],\n\tturquoise: [64, 224, 208],\n\tviolet: [238, 130, 238],\n\twheat: [245, 222, 179],\n\twhite: [255, 255, 255],\n\twhitesmoke: [245, 245, 245],\n\tyellow: [255, 255, 0],\n\tyellowgreen: [154, 205, 50]\n}\n","/* MIT license */\n/* eslint-disable no-mixed-operators */\nimport cssKeywords from 'color-name';\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\toklab: {channels: 3, labels: ['okl', 'oka', 'okb']},\n\tlch: {channels: 3, labels: 'lch'},\n\toklch: {channels: 3, labels: ['okl', 'okc', 'okh']},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']},\n};\n\nexport default convert;\n\n// LAB f(t) constant\nconst LAB_FT = (6 / 29) ** 3;\n\n// SRGB non-linear transform functions\nfunction srgbNonlinearTransform(c) {\n\tconst cc = c > 0.003_130_8\n\t\t? ((1.055 * (c ** (1 / 2.4))) - 0.055)\n\t\t: c * 12.92;\n\treturn Math.min(Math.max(0, cc), 1);\n}\n\nfunction srgbNonlinearTransformInv(c) {\n\treturn c > 0.040_45 ? (((c + 0.055) / 1.055) ** 2.4) : (c / 12.92);\n}\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tswitch (max) {\n\t\tcase min: {\n\t\t\th = 0;\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase r: {\n\t\t\th = (g - b) / delta;\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase g: {\n\t\t\th = 2 + (b - r) / delta;\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase b: {\n\t\t\th = 4 + (r - g) / delta;\n\n\t\t\tbreak;\n\t\t}\n\t// No default\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tswitch (v) {\n\t\t\tcase r: {\n\t\t\t\th = bdif - gdif;\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase g: {\n\t\t\t\th = (1 / 3) + rdif - bdif;\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase b: {\n\t\t\t\th = (2 / 3) + gdif - rdif;\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t// No default\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100,\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.oklab = function (rgb) {\n\t// Assume sRGB\n\tconst r = srgbNonlinearTransformInv(rgb[0] / 255);\n\tconst g = srgbNonlinearTransformInv(rgb[1] / 255);\n\tconst b = srgbNonlinearTransformInv(rgb[2] / 255);\n\n\tconst lp = Math.cbrt(0.412_221_470_8 * r + 0.536_332_536_3 * g + 0.051_445_992_9 * b);\n\tconst mp = Math.cbrt(0.211_903_498_2 * r + 0.680_699_545_1 * g + 0.107_396_956_6 * b);\n\tconst sp = Math.cbrt(0.088_302_461_9 * r + 0.281_718_837_6 * g + 0.629_978_700_5 * b);\n\n\tconst l = 0.210_454_255_3 * lp + 0.793_617_785 * mp - 0.004_072_046_8 * sp;\n\tconst aa = 1.977_998_495_1 * lp - 2.428_592_205 * mp + 0.450_593_709_9 * sp;\n\tconst bb = 0.025_904_037_1 * lp + 0.782_771_766_2 * mp - 0.808_675_766 * sp;\n\n\treturn [l * 100, aa * 100, bb * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Number.POSITIVE_INFINITY;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\t// Assume sRGB\n\tconst r = srgbNonlinearTransformInv(rgb[0] / 255);\n\tconst g = srgbNonlinearTransformInv(rgb[1] / 255);\n\tconst b = srgbNonlinearTransformInv(rgb[2] / 255);\n\n\tconst x = (r * 0.412_456_4) + (g * 0.357_576_1) + (b * 0.180_437_5);\n\tconst y = (r * 0.212_672_9) + (g * 0.715_152_2) + (b * 0.072_175);\n\tconst z = (r * 0.019_333_9) + (g * 0.119_192) + (b * 0.950_304_1);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > LAB_FT ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > LAB_FT ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > LAB_FT ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t3;\n\tlet value;\n\n\tif (s === 0) {\n\t\tvalue = l * 255;\n\t\treturn [value, value, value];\n\t}\n\n\tconst t2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tvalue = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tvalue = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tvalue = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tvalue = t1;\n\t\t}\n\n\t\trgb[i] = value * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0: {\n\t\t\treturn [v, t, p];\n\t\t}\n\n\t\tcase 1: {\n\t\t\treturn [q, v, p];\n\t\t}\n\n\t\tcase 2: {\n\t\t\treturn [p, v, t];\n\t\t}\n\n\t\tcase 3: {\n\t\t\treturn [p, q, v];\n\t\t}\n\n\t\tcase 4: {\n\t\t\treturn [t, p, v];\n\t\t}\n\n\t\tcase 5: {\n\t\t\treturn [v, p, q];\n\t\t}\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\t// eslint-disable-next-line no-bitwise\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces, default-case-last */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: { r = v;  g = n;  b = wh; break;\n\t\t}\n\n\t\tcase 1: { r = n;  g = v;  b = wh; break;\n\t\t}\n\n\t\tcase 2: { r = wh; g = v;  b = n; break;\n\t\t}\n\n\t\tcase 3: { r = wh; g = n;  b = v; break;\n\t\t}\n\n\t\tcase 4: { r = n;  g = wh; b = v; break;\n\t\t}\n\n\t\tcase 5: { r = v;  g = wh; b = n; break;\n\t\t}\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces, default-case-last */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.240_454_2) + (y * -1.537_138_5) + (z * -0.498_531_4);\n\tg = (x * -0.969_266) + (y * 1.876_010_8) + (z * 0.041_556);\n\tb = (x * 0.055_643_4) + (y * -0.204_025_9) + (z * 1.057_225_2);\n\n\t// Assume sRGB\n\tr = srgbNonlinearTransform(r);\n\tg = srgbNonlinearTransform(g);\n\tb = srgbNonlinearTransform(b);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > LAB_FT ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > LAB_FT ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > LAB_FT ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.xyz.oklab = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\n\tconst lp = Math.cbrt(0.818_933_010_1 * x + 0.361_866_742_4 * y - 0.128_859_713_7 * z);\n\tconst mp = Math.cbrt(0.032_984_543_6 * x + 0.929_311_871_5 * y + 0.036_145_638_7 * z);\n\tconst sp = Math.cbrt(0.048_200_301_8 * x + 0.264_366_269_1 * y + 0.633_851_707 * z);\n\n\tconst l = 0.210_454_255_3 * lp + 0.793_617_785 * mp - 0.004_072_046_8 * sp;\n\tconst a = 1.977_998_495_1 * lp - 2.428_592_205 * mp + 0.450_593_709_9 * sp;\n\tconst b = 0.025_904_037_1 * lp + 0.782_771_766_2 * mp - 0.808_675_766 * sp;\n\n\treturn [l * 100, a * 100, b * 100];\n};\n\nconvert.oklab.oklch = function (oklab) {\n\treturn convert.lab.lch(oklab);\n};\n\nconvert.oklab.xyz = function (oklab) {\n\tconst ll = oklab[0] / 100;\n\tconst a = oklab[1] / 100;\n\tconst b = oklab[2] / 100;\n\n\tconst l = (0.999_999_998 * ll + 0.396_337_792 * a + 0.215_803_758 * b) ** 3;\n\tconst m = (1.000_000_008 * ll - 0.105_561_342 * a - 0.063_854_175 * b) ** 3;\n\tconst s = (1.000_000_055 * ll - 0.089_484_182 * a - 1.291_485_538 * b) ** 3;\n\n\tconst x = 1.227_013_851 * l - 0.557_799_98 * m + 0.281_256_149 * s;\n\tconst y = -0.040_580_178 * l + 1.112_256_87 * m - 0.071_676_679 * s;\n\tconst z = -0.076_381_285 * l - 0.421_481_978 * m + 1.586_163_22 * s;\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.oklab.rgb = function (oklab) {\n\tconst ll = oklab[0] / 100;\n\tconst aa = oklab[1] / 100;\n\tconst bb = oklab[2] / 100;\n\n\tconst l = (ll + 0.396_337_777_4 * aa + 0.215_803_757_3 * bb) ** 3;\n\tconst m = (ll - 0.105_561_345_8 * aa - 0.063_854_172_8 * bb) ** 3;\n\tconst s = (ll - 0.089_484_177_5 * aa - 1.291_485_548 * bb) ** 3;\n\n\t// Assume sRGB\n\tconst r = srgbNonlinearTransform(4.076_741_662_1 * l - 3.307_711_591_3 * m + 0.230_969_929_2 * s);\n\tconst g = srgbNonlinearTransform(-1.268_438_004_6 * l + 2.609_757_401_1 * m - 0.341_319_396_5 * s);\n\tconst b = srgbNonlinearTransform(-0.004_196_086_3 * l - 0.703_418_614_7 * m + 1.707_614_701 * s);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.oklch.oklab = function (oklch) {\n\treturn convert.lch.lab(oklch);\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > LAB_FT ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > LAB_FT ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > LAB_FT ? z2 : (z - 16 / 116) / 7.787;\n\n\t// Illuminant D65 XYZ Tristrimulus Values\n\t// https://en.wikipedia.org/wiki/CIE_1931_color_space\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t/* eslint-disable no-bitwise */\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\t\t/* eslint-enable no-bitwise */\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\t// eslint-disable-next-line no-bitwise\n\tif (r >> 4 === g >> 4 && g >> 4 === b >> 4) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\targs = args[0];\n\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (Math.trunc(args > 50) + 1) * 0.5;\n\t/* eslint-disable no-bitwise */\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\t/* eslint-enable no-bitwise */\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\targs = args[0];\n\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\t/* eslint-disable no-bitwise */\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\t/* eslint-enable no-bitwise */\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.slice(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f\\d]{6}|[a-f\\d]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = [...colorString].map(char => char + char).join('');\n\t}\n\n\tconst integer = Number.parseInt(colorString, 16);\n\t/* eslint-disable no-bitwise */\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\t/* eslint-enable no-bitwise */\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet hue;\n\n\tconst grayscale = chroma < 1 ? min / (1 - chroma) : 0;\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else if (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else if (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2 * s * l) : (2 * s * (1 - l));\n\n\tlet f = 0;\n\tif (c < 1) {\n\t\tf = (l - 0.5 * c) / (1 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0: {\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\t}\n\n\t\tcase 1: {\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\t}\n\n\t\tcase 2: {\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\t}\n\n\t\tcase 3: {\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\t}\n\n\t\tcase 4: {\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\t}\n\n\t\tdefault: {\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t\t}\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255,\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1 - c);\n\tlet f = 0;\n\n\tif (v > 0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else if (l >= 0.5 && l < 1) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65_535) * 255, (apple[1] / 65_535) * 255, (apple[2] / 65_535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65_535, (rgb[1] / 255) * 65_535, (rgb[2] / 255) * 65_535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\t/* eslint-disable no-bitwise */\n\tconst value = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (value << 16) + (value << 8) + value;\n\t/* eslint-enable no-bitwise */\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.slice(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst value = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [value / 255 * 100];\n};\n","import conversions from './conversions.js';\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let {length} = models, i = 0; i < length; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null,\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length > 0) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let {length} = adjacents, i = 0; i < length; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nfunction route(fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let {length} = models, i = 0; i < length; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n}\n\nexport default route;\n","import conversions from './conversions.js';\nimport route from './route.js';\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let {length} = result, i = 0; i < length; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfor (const fromModel of models) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\tfor (const toModel of routeModels) {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t}\n}\n\nexport default convert;\n","import colorString from 'color-string';\nimport convert from 'color-convert';\n\nconst skippedModels = [\n\t// To be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// Gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// Shouldn't really be in color-convert either...\n\t'hex',\n];\n\nconst hashedModelKeys = {};\nfor (const model of Object.keys(convert)) {\n\thashedModelKeys[[...convert[model].labels].sort().join('')] = model;\n}\n\nconst limiters = {};\n\nfunction Color(object, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(object, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tlet i;\n\tlet channels;\n\n\tif (object == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (object instanceof Color) {\n\t\tthis.model = object.model;\n\t\tthis.color = [...object.color];\n\t\tthis.valpha = object.valpha;\n\t} else if (typeof object === 'string') {\n\t\tconst result = colorString.get(object);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + object);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (object.length > 0) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tconst newArray = Array.prototype.slice.call(object, 0, channels);\n\t\tthis.color = zeroArray(newArray, channels);\n\t\tthis.valpha = typeof object[channels] === 'number' ? object[channels] : 1;\n\t} else if (typeof object === 'number') {\n\t\t// This is always RGB - can be converted later on.\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(object >> 16) & 0xFF,\n\t\t\t(object >> 8) & 0xFF,\n\t\t\tobject & 0xFF,\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tconst keys = Object.keys(object);\n\t\tif ('alpha' in object) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof object.alpha === 'number' ? object.alpha : 0;\n\t\t}\n\n\t\tconst hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(object));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tconst {labels} = convert[this.model];\n\t\tconst color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(object[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// Perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tconst limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString() {\n\t\treturn this.string();\n\t},\n\n\ttoJSON() {\n\t\treturn this[this.model]();\n\t},\n\n\tstring(places) {\n\t\tlet self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tconst arguments_ = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to[self.model](...arguments_);\n\t},\n\n\tpercentString(places) {\n\t\tconst self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tconst arguments_ = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to.rgb.percent(...arguments_);\n\t},\n\n\tarray() {\n\t\treturn this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];\n\t},\n\n\tobject() {\n\t\tconst result = {};\n\t\tconst {channels} = convert[this.model];\n\t\tconst {labels} = convert[this.model];\n\n\t\tfor (let i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray() {\n\t\tconst rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject() {\n\t\tconst rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround(places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color([...this.color.map(roundToPlace(places)), this.valpha], this.model);\n\t},\n\n\talpha(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color([...this.color, Math.max(0, Math.min(1, value))], this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// Rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, value => ((value % 360) + 360) % 360),\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(95.047)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(108.833)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn colorString.to.hex(...this.rgb().round().color);\n\t},\n\n\thexa(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\tconst rgbArray = this.rgb().round().color;\n\n\t\tlet alphaHex = Math.round(this.valpha * 255).toString(16).toUpperCase();\n\t\tif (alphaHex.length === 1) {\n\t\t\talphaHex = '0' + alphaHex;\n\t\t}\n\n\t\treturn colorString.to.hex(...rgbArray) + alphaHex;\n\t},\n\n\trgbNumber() {\n\t\tconst rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity() {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tconst rgb = this.rgb().color;\n\n\t\tconst lum = [];\n\t\tfor (const [i, element] of rgb.entries()) {\n\t\t\tconst chan = element / 255;\n\t\t\tlum[i] = (chan <= 0.04045) ? chan / 12.92 : ((chan + 0.055) / 1.055) ** 2.4;\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast(color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tconst lum1 = this.luminosity();\n\t\tconst lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel(color2) {\n\t\t// https://www.w3.org/TR/WCAG/#contrast-enhanced\n\t\tconst contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark() {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tconst rgb = this.rgb().color;\n\t\tconst yiq = (rgb[0] * 2126 + rgb[1] * 7152 + rgb[2] * 722) / 10000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight() {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate() {\n\t\tconst rgb = this.rgb();\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tlighten(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale() {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_colour_to_grayscale\n\t\tconst rgb = this.rgb().color;\n\t\tconst value = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(value, value, value);\n\t},\n\n\tfade(ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer(ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate(degrees) {\n\t\tconst hsl = this.hsl();\n\t\tlet hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix(mixinColor, weight) {\n\t\t// Ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\n\t\tconst color1 = mixinColor.rgb();\n\t\tconst color2 = this.rgb();\n\t\tconst p = weight === undefined ? 0.5 : weight;\n\n\t\tconst w = 2 * p - 1;\n\t\tconst a = color1.alpha() - color2.alpha();\n\n\t\tconst w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2;\n\t\tconst w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n};\n\n// Model conversion methods and static constructors\nfor (const model of Object.keys(convert)) {\n\tif (skippedModels.includes(model)) {\n\t\tcontinue;\n\t}\n\n\tconst {channels} = convert[model];\n\n\t// Conversion methods\n\tColor.prototype[model] = function (...arguments_) {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (arguments_.length > 0) {\n\t\t\treturn new Color(arguments_, model);\n\t\t}\n\n\t\treturn new Color([...assertArray(convert[this.model][model].raw(this.color)), this.valpha], model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (...arguments_) {\n\t\tlet color = arguments_[0];\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(arguments_, channels);\n\t\t}\n\n\t\treturn new Color(color, model);\n\t};\n}\n\nfunction roundTo(number, places) {\n\treturn Number(number.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (number) {\n\t\treturn roundTo(number, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tfor (const m of model) {\n\t\t(limiters[m] ||= [])[channel] = modifier;\n\t}\n\n\tmodel = model[0];\n\n\treturn function (value) {\n\t\tlet result;\n\n\t\tif (value !== undefined) {\n\t\t\tif (modifier) {\n\t\t\t\tvalue = modifier(value);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(value) {\n\treturn Array.isArray(value) ? value : [value];\n}\n\nfunction zeroArray(array, length) {\n\tfor (let i = 0; i < length; i++) {\n\t\tif (typeof array[i] !== 'number') {\n\t\t\tarray[i] = 0;\n\t\t}\n\t}\n\n\treturn array;\n}\n\nexport default Color;\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport Color from \"color\";\nimport { h as calciteSpacingFixedXl, i as calciteSpacingFixedMd, j as calciteSpacingFixedSm } from \"./global.js\";\nconst CSS = {\n  channel: \"channel\",\n  channels: \"channels\",\n  colorField: \"color-field\",\n  colorFieldScope: \"scope--color-field\",\n  colorMode: \"color-mode\",\n  colorModeContainer: \"color-mode-container\",\n  container: \"container\",\n  control: \"control\",\n  controlAndScope: \"control-and-scope\",\n  controlSection: \"control-section\",\n  deleteColor: \"delete-color\",\n  header: \"header\",\n  hexAndChannelsGroup: \"hex-and-channels-group\",\n  hexOptions: \"color-hex-options\",\n  hueScope: \"scope--hue\",\n  hueSlider: \"hue-slider\",\n  opacityScope: \"scope--opacity\",\n  opacitySlider: \"opacity-slider\",\n  preview: \"preview\",\n  previewAndSliders: \"preview-and-sliders\",\n  saveColor: \"save-color\",\n  savedColor: \"saved-color\",\n  savedColors: \"saved-colors\",\n  savedColorsButtons: \"saved-colors-buttons\",\n  savedColorsSection: \"saved-colors-section\",\n  scope: \"scope\",\n  section: \"section\",\n  slider: \"slider\",\n  sliders: \"sliders\",\n  splitSection: \"section--split\"\n};\nconst DEFAULT_COLOR = Color(\"#007AC2\");\nconst DEFAULT_STORAGE_KEY_PREFIX = \"calcite-color-\";\nconst RGB_LIMITS = {\n  r: 255,\n  g: 255,\n  b: 255\n};\nconst HSV_LIMITS = {\n  h: 360,\n  s: 100,\n  v: 100\n};\nconst HUE_LIMIT_CONSTRAINED = HSV_LIMITS.h - 1;\nconst OPACITY_LIMITS = {\n  min: 0,\n  max: 100\n};\nconst STATIC_DIMENSIONS = {\n  s: {\n    gap: parseInt(calciteSpacingFixedSm),\n    slider: {\n      height: 12\n    },\n    thumb: {\n      radius: 7\n    },\n    preview: {\n      size: 20\n    },\n    minWidth: 200\n  },\n  m: {\n    gap: parseInt(calciteSpacingFixedMd),\n    slider: {\n      height: 12\n    },\n    thumb: {\n      radius: 7\n    },\n    preview: {\n      size: 24\n    },\n    minWidth: 240\n  },\n  l: {\n    gap: parseInt(calciteSpacingFixedXl),\n    slider: {\n      height: 12\n    },\n    thumb: {\n      radius: 7\n    },\n    preview: {\n      size: 32\n    },\n    minWidth: 304\n  }\n};\nconst SCOPE_SIZE = 1;\nconst hexChar = /^[0-9A-F]$/i;\nconst shorthandHex = /^#[0-9A-F]{3}$/i;\nconst longhandHex = /^#[0-9A-F]{6}$/i;\nconst shorthandHexWithAlpha = /^#[0-9A-F]{4}$/i;\nconst longhandHexWithAlpha = /^#[0-9A-F]{8}$/i;\nconst alphaToOpacity = (alpha) => Number((alpha * 100).toFixed());\nconst opacityToAlpha = (opacity) => Number((opacity / 100).toFixed(2));\nfunction isValidHex(hex, hasAlpha = false) {\n  return isShorthandHex(hex, hasAlpha) || isLonghandHex(hex, hasAlpha);\n}\nfunction evaluateHex(hex, length, pattern) {\n  if (!hex) {\n    return false;\n  }\n  return hex.length === length && pattern.test(hex);\n}\nfunction isShorthandHex(hex, hasAlpha = false) {\n  const hexLength = hasAlpha ? 5 : 4;\n  const hexPattern = hasAlpha ? shorthandHexWithAlpha : shorthandHex;\n  return evaluateHex(hex, hexLength, hexPattern);\n}\nfunction isLonghandHex(hex, hasAlpha = false) {\n  const hexLength = hasAlpha ? 9 : 7;\n  const hexPattern = hasAlpha ? longhandHexWithAlpha : longhandHex;\n  return evaluateHex(hex, hexLength, hexPattern);\n}\nfunction normalizeHex(hex, hasAlpha = false, convertFromHexToHexa = false) {\n  hex = hex.toLowerCase();\n  if (!hex.startsWith(\"#\")) {\n    hex = `#${hex}`;\n  }\n  if (isShorthandHex(hex, hasAlpha)) {\n    return rgbToHex(hexToRGB(hex, hasAlpha));\n  }\n  if (hasAlpha && convertFromHexToHexa && isValidHex(\n    hex,\n    false\n    /* we only care about RGB hex for conversion */\n  )) {\n    const isShorthand = isShorthandHex(hex, false);\n    return rgbToHex(hexToRGB(`${hex}${isShorthand ? \"f\" : \"ff\"}`, true));\n  }\n  return hex;\n}\nfunction hexify(color, hasAlpha = false) {\n  return hasAlpha ? color.hexa() : color.hex();\n}\nfunction rgbToHex(color) {\n  const { r, g, b } = color;\n  const rChars = numToHex(r);\n  const gChars = numToHex(g);\n  const bChars = numToHex(b);\n  const alphaChars = \"a\" in color ? numToHex(color.a * 255) : \"\";\n  return `#${rChars}${gChars}${bChars}${alphaChars}`.toLowerCase();\n}\nfunction numToHex(num) {\n  return num.toString(16).padStart(2, \"0\");\n}\nfunction normalizeAlpha(colorObject) {\n  const normalized = {\n    ...colorObject,\n    a: colorObject.alpha ?? 1\n    /* Color() will omit alpha if 1 */\n  };\n  delete normalized.alpha;\n  return normalized;\n}\nfunction normalizeColor(alphaColorObject) {\n  const normalized = { ...alphaColorObject, alpha: alphaColorObject.a ?? 1 };\n  delete normalized.a;\n  return normalized;\n}\nfunction hexToRGB(hex, hasAlpha = false) {\n  if (!isValidHex(hex, hasAlpha)) {\n    return null;\n  }\n  hex = hex.replace(\"#\", \"\");\n  let r;\n  let g;\n  let b;\n  let a;\n  const isShorthand = hex.length === 3 || hex.length === 4;\n  if (isShorthand) {\n    const [first, second, third, fourth] = hex.split(\"\");\n    r = parseInt(`${first}${first}`, 16);\n    g = parseInt(`${second}${second}`, 16);\n    b = parseInt(`${third}${third}`, 16);\n    a = parseInt(`${fourth}${fourth}`, 16) / 255;\n  } else {\n    r = parseInt(hex.slice(0, 2), 16);\n    g = parseInt(hex.slice(2, 4), 16);\n    b = parseInt(hex.slice(4, 6), 16);\n    a = parseInt(hex.slice(6, 8), 16) / 255;\n  }\n  return isNaN(a) ? { r, g, b } : { r, g, b, a };\n}\nconst enumify = (x) => x;\nconst CSSColorMode = enumify({\n  HEX: \"hex\",\n  HEXA: \"hexa\",\n  RGB_CSS: \"rgb-css\",\n  RGBA_CSS: \"rgba-css\",\n  HSL_CSS: \"hsl-css\",\n  HSLA_CSS: \"hsla-css\"\n});\nconst ObjectColorMode = enumify({\n  RGB: \"rgb\",\n  RGBA: \"rgba\",\n  HSL: \"hsl\",\n  HSLA: \"hsla\",\n  HSV: \"hsv\",\n  HSVA: \"hsva\"\n});\nfunction parseMode(colorValue) {\n  if (typeof colorValue === \"string\") {\n    if (colorValue.startsWith(\"#\")) {\n      const { length } = colorValue;\n      if (length === 4 || length === 7) {\n        return CSSColorMode.HEX;\n      }\n      if (length === 5 || length === 9) {\n        return CSSColorMode.HEXA;\n      }\n    }\n    if (colorValue.startsWith(\"rgba(\")) {\n      return CSSColorMode.RGBA_CSS;\n    }\n    if (colorValue.startsWith(\"rgb(\")) {\n      return CSSColorMode.RGB_CSS;\n    }\n    if (colorValue.startsWith(\"hsl(\")) {\n      return CSSColorMode.HSL_CSS;\n    }\n    if (colorValue.startsWith(\"hsla(\")) {\n      return CSSColorMode.HSLA_CSS;\n    }\n  }\n  if (typeof colorValue === \"object\") {\n    if (hasChannels(colorValue, \"r\", \"g\", \"b\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.RGBA : ObjectColorMode.RGB;\n    }\n    if (hasChannels(colorValue, \"h\", \"s\", \"l\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.HSLA : ObjectColorMode.HSL;\n    }\n    if (hasChannels(colorValue, \"h\", \"s\", \"v\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.HSVA : ObjectColorMode.HSV;\n    }\n  }\n  return null;\n}\nfunction hasChannels(colorObject, ...channels) {\n  return channels.every((channel) => channel && colorObject && `${channel}` in colorObject);\n}\nfunction colorEqual(value1, value2) {\n  return value1?.rgb().array().toString() === value2?.rgb().array().toString();\n}\nfunction alphaCompatible(mode) {\n  return mode === CSSColorMode.HEXA || mode === CSSColorMode.RGBA_CSS || mode === CSSColorMode.HSLA_CSS || mode === ObjectColorMode.RGBA || mode === ObjectColorMode.HSLA || mode === ObjectColorMode.HSVA;\n}\nfunction toAlphaMode(mode) {\n  const alphaMode = mode === CSSColorMode.HEX ? CSSColorMode.HEXA : mode === CSSColorMode.RGB_CSS ? CSSColorMode.RGBA_CSS : mode === CSSColorMode.HSL_CSS ? CSSColorMode.HSLA_CSS : mode === ObjectColorMode.RGB ? ObjectColorMode.RGBA : mode === ObjectColorMode.HSL ? ObjectColorMode.HSLA : mode === ObjectColorMode.HSV ? ObjectColorMode.HSVA : mode;\n  return alphaMode;\n}\nfunction toNonAlphaMode(mode) {\n  const nonAlphaMode = mode === CSSColorMode.HEXA ? CSSColorMode.HEX : mode === CSSColorMode.RGBA_CSS ? CSSColorMode.RGB_CSS : mode === CSSColorMode.HSLA_CSS ? CSSColorMode.HSL_CSS : mode === ObjectColorMode.RGBA ? ObjectColorMode.RGB : mode === ObjectColorMode.HSLA ? ObjectColorMode.HSL : mode === ObjectColorMode.HSVA ? ObjectColorMode.HSV : mode;\n  return nonAlphaMode;\n}\nconst borderWidthInPx = 1;\nconst inlineSizeBorderTotalWidth = borderWidthInPx * 2;\nfunction getSliderWidth(availableWidth, activeStaticDimensions, hasAlpha) {\n  const previewWidth = hasAlpha ? STATIC_DIMENSIONS[\"l\"].preview.size : activeStaticDimensions.preview.size;\n  const effectiveWidth = availableWidth - inlineSizeBorderTotalWidth;\n  const inlineSpaceAroundElements = activeStaticDimensions.gap * 3;\n  return Math.max(effectiveWidth - inlineSpaceAroundElements - previewWidth, 0);\n}\nfunction getColorFieldDimensions(availableWidth) {\n  const colorFieldAspectRatio = 1.8;\n  const effectiveWidth = availableWidth - inlineSizeBorderTotalWidth;\n  return {\n    width: Math.max(effectiveWidth, 0),\n    height: Math.max(Math.floor(effectiveWidth / colorFieldAspectRatio), 0)\n  };\n}\nexport {\n  CSSColorMode as C,\n  DEFAULT_COLOR as D,\n  HSV_LIMITS as H,\n  OPACITY_LIMITS as O,\n  RGB_LIMITS as R,\n  STATIC_DIMENSIONS as S,\n  isLonghandHex as a,\n  isShorthandHex as b,\n  alphaToOpacity as c,\n  hexChar as d,\n  getColorFieldDimensions as e,\n  DEFAULT_STORAGE_KEY_PREFIX as f,\n  getSliderWidth as g,\n  hexify as h,\n  isValidHex as i,\n  alphaCompatible as j,\n  normalizeColor as k,\n  colorEqual as l,\n  CSS as m,\n  normalizeHex as n,\n  opacityToAlpha as o,\n  parseMode as p,\n  toNonAlphaMode as q,\n  rgbToHex as r,\n  HUE_LIMIT_CONSTRAINED as s,\n  toAlphaMode as t,\n  normalizeAlpha as u,\n  SCOPE_SIZE as v,\n  hexToRGB as w\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { keyed } from \"lit-html/directives/keyed.js\";\nimport Color from \"color\";\nimport { html, nothing, svg } from \"lit\";\nimport { LitElement, safeClassMap } from \"@arcgis/lumina\";\nimport { C as getModeName } from \"../../chunks/dom.js\";\nimport { h as hexify } from \"../../chunks/utils4.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst CSS = {\n  swatch: \"swatch\",\n  noColorSwatch: \"swatch--no-color\",\n  checker: \"checker\"\n};\nconst COLORS = {\n  borderLight: \"rgba(0, 0, 0, 0.3)\",\n  borderDark: \"rgba(255, 255, 255, 0.15)\"\n};\nconst checkerSquareSize = 4;\nconst CHECKER_DIMENSIONS = {\n  squareSize: checkerSquareSize,\n  size: checkerSquareSize * 2\n};\nconst styles = css`:host{position:relative;display:inline-flex}:host([scale=s]){block-size:1.25rem;inline-size:1.25rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch rect{transition-property:all;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.swatch--no-color rect{fill:var(--calcite-color-foreground-1)}.swatch--no-color line{stroke:var(--calcite-color-status-danger)}.checker{fill:#cacaca}:host([hidden]){display:none}[hidden]{display:none}`;\nclass ColorPickerSwatch extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.active = false;\n    this.scale = \"m\";\n  }\n  static {\n    this.properties = { active: [7, {}, { reflect: true, type: Boolean }], color: 1, scale: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  load() {\n    this.handleColorChange(this.color);\n  }\n  willUpdate(changes) {\n    if (changes.has(\"color\")) {\n      this.handleColorChange(this.color);\n    }\n  }\n  handleColorChange(color) {\n    this.internalColor = color ? Color(color) : null;\n  }\n  render() {\n    const isEmpty = !this.internalColor;\n    const classes = {\n      [CSS.swatch]: true,\n      [CSS.noColorSwatch]: isEmpty\n    };\n    return html`<svg class=${safeClassMap(classes)} xmlns=http://www.w3.org/2000/svg>${this.renderSwatch()}</svg>`;\n  }\n  renderSwatch() {\n    const { active, el, internalColor } = this;\n    const borderRadius = active ? \"100%\" : \"0\";\n    const theme = getModeName(el);\n    const borderColor = theme === \"light\" ? COLORS.borderLight : COLORS.borderDark;\n    const isEmpty = !internalColor;\n    const commonSwatchProps = {\n      height: \"100%\",\n      rx: borderRadius,\n      stroke: borderColor,\n      strokeWidth: \"2\",\n      width: \"100%\"\n    };\n    if (isEmpty) {\n      return svg`<clipPath id=shape><rect height=100% rx=${borderRadius ?? nothing} width=100% /></clipPath>${this.renderSwatchRect({\n        clipPath: `inset(0 round ${borderRadius})`,\n        ...commonSwatchProps\n      })}<line clip-path=url(#shape) stroke-width=3 x1=100% x2=0 y1=0 y2=100% />`;\n    }\n    const alpha = internalColor.alpha();\n    const hex = hexify(internalColor);\n    const hexa = hexify(internalColor, alpha < 1);\n    return svg`<title>${hexa}</title><defs><pattern height=${CHECKER_DIMENSIONS.size} id=checker patternUnits=userSpaceOnUse width=${CHECKER_DIMENSIONS.size} x=0 y=0><rect class=${safeClassMap(CSS.checker)} height=${CHECKER_DIMENSIONS.squareSize} width=${CHECKER_DIMENSIONS.squareSize} x=0 y=0 /><rect class=${safeClassMap(CSS.checker)} height=${CHECKER_DIMENSIONS.squareSize} width=${CHECKER_DIMENSIONS.squareSize} x=${CHECKER_DIMENSIONS.squareSize} y=${CHECKER_DIMENSIONS.squareSize} /></pattern></defs>${this.renderSwatchRect({\n      fill: \"url(#checker)\",\n      rx: commonSwatchProps.rx,\n      height: commonSwatchProps.height,\n      width: commonSwatchProps.width\n    })}${this.renderSwatchRect({\n      clipPath: alpha < 1 ? \"polygon(100% 0, 0 0, 0 100%)\" : `inset(0 round ${borderRadius})`,\n      fill: hex,\n      ...commonSwatchProps\n    })}${alpha < 1 ? this.renderSwatchRect({\n      clipPath: \"polygon(100% 0, 100% 100%, 0 100%)\",\n      fill: hexa,\n      key: \"opacity-fill\",\n      ...commonSwatchProps\n    }) : null}`;\n  }\n  renderSwatchRect({ clipPath, fill, height, key, rx, stroke, strokeWidth, width }) {\n    return keyed(key, svg`<rect clip-path=${clipPath ?? nothing} fill=${fill ?? nothing} height=${height ?? nothing} rx=${rx ?? nothing} stroke=${stroke ?? nothing} stroke-width=${strokeWidth ?? nothing} width=${width ?? nothing} />`);\n  }\n}\ncustomElement(\"calcite-color-picker-swatch\", ColorPickerSwatch);\nexport {\n  ColorPickerSwatch\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { C as CSS_UTILITY, c as customElement } from \"../../chunks/runtime.js\";\nimport { live } from \"lit-html/directives/live.js\";\nimport { html, nothing } from \"lit\";\nimport { createRef, ref } from \"lit-html/directives/ref.js\";\nimport { LitElement, createEvent, stringOrBoolean, safeClassMap } from \"@arcgis/lumina\";\nimport { useWatchAttributes } from \"@arcgis/lumina/controllers\";\nimport { v as setRequestedIcon, g as getElementDir } from \"../../chunks/dom.js\";\nimport { c as connectForm, i as internalHiddenInputInputEvent, d as disconnectForm, s as submitForm, H as HiddenFormInputSlot } from \"../../chunks/form.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { c as connectLabel, d as disconnectLabel, g as getLabelText } from \"../../chunks/label.js\";\nimport { c as componentFocusable, g as getIconScale } from \"../../chunks/component.js\";\nimport { V as Validation } from \"../../chunks/Validation.js\";\nimport { s as syncHiddenFormInput } from \"../../chunks/input.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst CSS = {\n  loader: \"loader\",\n  clearButton: \"clear-button\",\n  editingEnabled: \"editing-enabled\",\n  inlineChild: \"inline-child\",\n  inputIcon: \"icon\",\n  prefix: \"prefix\",\n  suffix: \"suffix\",\n  wrapper: \"element-wrapper\",\n  inputWrapper: \"wrapper\",\n  actionWrapper: \"action-wrapper\"\n};\nconst IDS = {\n  validationMessage: \"inputTextValidationMessage\"\n};\nconst SLOTS = {\n  action: \"action\"\n};\nconst styles = css`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([scale=s]) input{padding-inline-start:.5rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .5rem)}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .prefix,:host([scale=s]) .suffix{padding-inline:.5rem}:host([scale=s]) .action-wrapper calcite-button,:host([scale=s]) .action-wrapper calcite-button button{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=m]) input{padding-inline-start:.75rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .75rem)}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .prefix,:host([scale=m]) .suffix{padding-inline:.75rem}:host([scale=m]) .action-wrapper calcite-button,:host([scale=m]) .action-wrapper calcite-button button{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=l]) input{padding-inline-start:1rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, 1rem)}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .prefix,:host([scale=l]) .suffix{padding-inline:1rem}:host([scale=l]) .action-wrapper calcite-button,:host([scale=l]) .action-wrapper calcite-button button{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}input{transition:var(--calcite-animation-timing),block-size 0,outline-offset 0s;-webkit-appearance:none;position:relative;margin:0;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;text-overflow:ellipsis;border-radius:0;background-color:var(--calcite-color-foreground-1);font-family:inherit;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-1)}input:placeholder-shown{text-overflow:ellipsis}input{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);color:var(--calcite-color-text-1)}input::placeholder,input:-ms-input-placeholder,input::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-3)}input:focus{border-color:var(--calcite-color-brand);color:var(--calcite-color-text-1)}input[readonly]{background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium)}input[readonly]:focus{color:var(--calcite-color-text-1)}calcite-icon{color:var(--calcite-color-text-3)}input{outline-color:transparent}input:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([status=invalid]) input{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) input:focus{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .icon{inset-inline-start:.5rem}:host([scale=m]) .icon{inset-inline-start:.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center}.icon{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);display:block;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;block-size:0px;inline-size:0px}.clear-button{pointer-events:initial;order:4;margin:0;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1);outline-color:transparent;border-inline-start-width:0px}.clear-button:hover{background-color:var(--calcite-color-foreground-2);transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.clear-button:hover calcite-icon{color:var(--calcite-color-text-1);transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.clear-button:active{background-color:var(--calcite-color-foreground-3)}.clear-button:active calcite-icon{color:var(--calcite-color-text-1)}.clear-button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.clear-button:disabled{opacity:var(--calcite-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium);line-height:1;color:var(--calcite-color-text-2)}.prefix{order:2;border-inline-end-width:0px;inline-size:var(--calcite-input-prefix-size, auto)}.suffix{order:5;border-inline-start-width:0px;inline-size:var(--calcite-input-suffix-size, auto)}:host([alignment=start]) input{text-align:start}:host([alignment=end]) input{text-align:end}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host(.input--no-bottom-border) input{border-block-end-width:0px}:host(.input--no-top-border) input{border-block-start-width:0px}:host(.input--no-right-border) input{border-inline-end:0}:host(.input--no-left-border) input{border-inline-start:0}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-color-border-1)}input.inline-child{background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input.inline-child .editing-enabled{background-color:inherit}input.inline-child:not(.editing-enabled){display:flex;cursor:pointer;text-overflow:ellipsis;border-color:transparent;padding-inline-start:0}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}::placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-placeholder-text-color, var(--calcite-color-text-3))}`;\nclass InputText extends LitElement {\n  constructor() {\n    super();\n    this.actionWrapperEl = createRef();\n    this.attributeWatch = useWatchAttributes([\"autofocus\", \"enterkeyhint\", \"inputmode\", \"spellcheck\"], this.handleGlobalAttributesChanged);\n    this.inputWrapperEl = createRef();\n    this.onHiddenFormInputInput = (event) => {\n      if (event.target.name === this.name) {\n        this.setValue({\n          value: event.target.value,\n          origin: \"direct\"\n        });\n      }\n      this.setFocus();\n      event.stopPropagation();\n    };\n    this.previousValueOrigin = \"initial\";\n    this.userChangedValue = false;\n    this._value = \"\";\n    this.messages = useT9n();\n    this.slottedActionElDisabledInternally = false;\n    this.alignment = \"start\";\n    this.clearable = false;\n    this.disabled = false;\n    this.editingEnabled = false;\n    this.iconFlipRtl = false;\n    this.loading = false;\n    this.readOnly = false;\n    this.required = false;\n    this.scale = \"m\";\n    this.status = \"idle\";\n    this.validity = {\n      valid: false,\n      badInput: false,\n      customError: false,\n      patternMismatch: false,\n      rangeOverflow: false,\n      rangeUnderflow: false,\n      stepMismatch: false,\n      tooLong: false,\n      tooShort: false,\n      typeMismatch: false,\n      valueMissing: false\n    };\n    this.calciteInputTextChange = createEvent();\n    this.calciteInputTextInput = createEvent();\n    this.calciteInternalInputTextBlur = createEvent();\n    this.calciteInternalInputTextFocus = createEvent();\n    this.listen(\"click\", this.clickHandler);\n    this.listen(\"keydown\", this.keyDownHandler);\n  }\n  static {\n    this.properties = { slottedActionElDisabledInternally: [16, {}, { state: true }], alignment: [3, {}, { reflect: true }], autocomplete: [0, {}, { attribute: false }], clearable: [7, {}, { reflect: true, type: Boolean }], disabled: [7, {}, { reflect: true, type: Boolean }], editingEnabled: [7, {}, { reflect: true, type: Boolean }], form: [3, {}, { reflect: true }], icon: [3, { converter: stringOrBoolean }, { reflect: true }], iconFlipRtl: [7, {}, { reflect: true, type: Boolean }], label: 1, loading: [7, {}, { reflect: true, type: Boolean }], maxLength: [11, {}, { reflect: true, type: Number }], messageOverrides: [0, {}, { attribute: false }], minLength: [11, {}, { reflect: true, type: Number }], name: [3, {}, { reflect: true }], pattern: 1, placeholder: 1, prefixText: 1, readOnly: [7, {}, { reflect: true, type: Boolean }], required: [7, {}, { reflect: true, type: Boolean }], scale: [3, {}, { reflect: true }], status: [3, {}, { reflect: true }], suffixText: 1, validationIcon: [3, { converter: stringOrBoolean }, { reflect: true }], validationMessage: 1, validity: [0, {}, { attribute: false }], value: 1 };\n  }\n  static {\n    this.styles = styles;\n  }\n  get value() {\n    return this._value;\n  }\n  set value(value) {\n    const oldValue = this._value;\n    if (value !== oldValue) {\n      this._value = value;\n      this.valueWatcher(value, oldValue);\n    }\n  }\n  async selectText() {\n    this.childEl?.select();\n  }\n  async setFocus() {\n    await componentFocusable(this);\n    this.childEl?.focus();\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.inlineEditableEl = this.el.closest(\"calcite-inline-editable\");\n    if (this.inlineEditableEl) {\n      this.editingEnabled = this.inlineEditableEl.editingEnabled || false;\n    }\n    connectLabel(this);\n    connectForm(this);\n    this.el.addEventListener(internalHiddenInputInputEvent, this.onHiddenFormInputInput);\n  }\n  async load() {\n    this.requestedIcon = setRequestedIcon({}, this.icon, \"text\");\n    this.setPreviousEmittedValue(this.value);\n    this.setPreviousValue(this.value);\n  }\n  willUpdate(changes) {\n    if (changes.has(\"icon\")) {\n      this.requestedIcon = setRequestedIcon({}, this.icon, \"text\");\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    disconnectLabel(this);\n    disconnectForm(this);\n    this.el.removeEventListener(internalHiddenInputInputEvent, this.onHiddenFormInputInput);\n  }\n  get isClearable() {\n    return this.clearable && this.value.length > 0;\n  }\n  handleGlobalAttributesChanged() {\n    this.requestUpdate();\n  }\n  valueWatcher(newValue, previousValue) {\n    if (!this.userChangedValue) {\n      this.setValue({\n        origin: \"direct\",\n        previousValue,\n        value: !newValue ? \"\" : newValue\n      });\n    }\n    this.userChangedValue = false;\n  }\n  keyDownHandler(event) {\n    if (this.readOnly || this.disabled || event.defaultPrevented) {\n      return;\n    }\n    if (this.isClearable && event.key === \"Escape\") {\n      this.clearInputTextValue(event);\n      event.preventDefault();\n    }\n    if (event.key === \"Enter\") {\n      if (submitForm(this)) {\n        event.preventDefault();\n      }\n    }\n  }\n  onLabelClick() {\n    this.setFocus();\n  }\n  clearInputTextValue(nativeEvent) {\n    this.setValue({\n      committing: true,\n      nativeEvent,\n      origin: \"user\",\n      value: \"\"\n    });\n  }\n  emitChangeIfUserModified() {\n    if (this.previousValueOrigin === \"user\" && this.value !== this.previousEmittedValue) {\n      this.calciteInputTextChange.emit();\n      this.setPreviousEmittedValue(this.value);\n    }\n  }\n  inputTextBlurHandler() {\n    this.calciteInternalInputTextBlur.emit({\n      element: this.childEl,\n      value: this.value\n    });\n    this.emitChangeIfUserModified();\n  }\n  clickHandler(event) {\n    if (this.disabled) {\n      return;\n    }\n    const composedPath = event.composedPath();\n    if (!composedPath.includes(this.inputWrapperEl.value) || composedPath.includes(this.actionWrapperEl.value)) {\n      return;\n    }\n    this.setFocus();\n  }\n  inputTextFocusHandler() {\n    this.calciteInternalInputTextFocus.emit({\n      element: this.childEl,\n      value: this.value\n    });\n  }\n  inputTextInputHandler(nativeEvent) {\n    if (this.disabled || this.readOnly) {\n      return;\n    }\n    this.setValue({\n      nativeEvent,\n      origin: \"user\",\n      value: nativeEvent.target.value\n    });\n  }\n  inputTextKeyDownHandler(event) {\n    if (this.disabled || this.readOnly) {\n      return;\n    }\n    if (event.key === \"Enter\") {\n      this.emitChangeIfUserModified();\n    }\n  }\n  syncHiddenFormInput(input) {\n    syncHiddenFormInput(\"text\", this, input);\n  }\n  setChildElRef(el) {\n    this.childEl = el;\n  }\n  setInputValue(newInputValue) {\n    if (!this.childEl) {\n      return;\n    }\n    this.childEl.value = newInputValue;\n  }\n  setPreviousEmittedValue(value) {\n    this.previousEmittedValue = value;\n  }\n  setPreviousValue(value) {\n    this.previousValue = value;\n  }\n  setValue({ committing = false, nativeEvent, origin, previousValue, value }) {\n    this.setPreviousValue(previousValue ?? this.value);\n    this.previousValueOrigin = origin;\n    this.userChangedValue = origin === \"user\" && value !== this.value;\n    this.value = value;\n    if (origin === \"direct\") {\n      this.setInputValue(value);\n      this.setPreviousEmittedValue(value);\n    }\n    if (nativeEvent) {\n      const calciteInputTextInputEvent = this.calciteInputTextInput.emit();\n      if (calciteInputTextInputEvent.defaultPrevented) {\n        this.value = this.previousValue;\n      } else if (committing) {\n        this.emitChangeIfUserModified();\n      }\n    }\n  }\n  render() {\n    const dir = getElementDir(this.el);\n    const loader = html`<div class=${safeClassMap(CSS.loader)}><calcite-progress .label=${this.messages.loading} type=indeterminate></calcite-progress></div>`;\n    const inputClearButton = html`<button .ariaLabel=${this.messages.clear} class=${safeClassMap(CSS.clearButton)} .disabled=${this.disabled || this.readOnly} @click=${this.clearInputTextValue} tabindex=-1 type=button><calcite-icon icon=x .scale=${getIconScale(this.scale)}></calcite-icon></button>`;\n    const iconEl = html`<calcite-icon class=${safeClassMap(CSS.inputIcon)} .flipRtl=${this.iconFlipRtl} .icon=${this.requestedIcon} .scale=${getIconScale(this.scale)}></calcite-icon>`;\n    const prefixText = html`<div class=${safeClassMap(CSS.prefix)}>${this.prefixText}</div>`;\n    const suffixText = html`<div class=${safeClassMap(CSS.suffix)}>${this.suffixText}</div>`;\n    const childEl = html`<input aria-errormessage=${IDS.validationMessage} .ariaInvalid=${this.status === \"invalid\"} .ariaLabel=${getLabelText(this)} autocomplete=${this.autocomplete ?? nothing} .autofocus=${this.el.autofocus} class=${safeClassMap({\n      [CSS.editingEnabled]: this.editingEnabled,\n      [CSS.inlineChild]: !!this.inlineEditableEl\n    })} value=${this.defaultValue ?? nothing} .disabled=${this.disabled ? true : null} enterkeyhint=${this.el.enterKeyHint ?? nothing} inputmode=${this.el.inputMode ?? nothing} maxlength=${this.maxLength ?? nothing} minlength=${this.minLength ?? nothing} name=${this.name ?? nothing} @blur=${this.inputTextBlurHandler} @focus=${this.inputTextFocusHandler} @input=${this.inputTextInputHandler} @keydown=${this.inputTextKeyDownHandler} pattern=${this.pattern ?? nothing} placeholder=${(this.placeholder || \"\") ?? nothing} .readOnly=${this.readOnly} .required=${this.required ? true : null} spellcheck=${this.el.spellcheck ?? nothing} tabindex=${(this.disabled || this.inlineEditableEl && !this.editingEnabled ? -1 : null) ?? nothing} type=text .value=${live(this.value ?? \"\")} ${ref(this.setChildElRef)}>`;\n    return InteractiveContainer({ disabled: this.disabled, children: html`<div class=${safeClassMap({ [CSS.inputWrapper]: true, [CSS_UTILITY.rtl]: dir === \"rtl\" })} ${ref(this.inputWrapperEl)}>${this.prefixText ? prefixText : null}<div class=${safeClassMap(CSS.wrapper)}>${childEl}${this.isClearable ? inputClearButton : null}${this.requestedIcon ? iconEl : null}${this.loading ? loader : null}</div><div class=${safeClassMap(CSS.actionWrapper)} ${ref(this.actionWrapperEl)}><slot name=${SLOTS.action}></slot></div>${this.suffixText ? suffixText : null}${HiddenFormInputSlot({ component: this })}</div>${this.validationMessage && this.status === \"invalid\" ? Validation({ icon: this.validationIcon, id: IDS.validationMessage, message: this.validationMessage, scale: this.scale, status: this.status }) : null}` });\n  }\n}\ncustomElement(\"calcite-input-text\", InputText);\nexport {\n  InputText\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { ref } from \"lit-html/directives/ref.js\";\nimport { keyed } from \"lit-html/directives/keyed.js\";\nimport Color from \"color\";\nimport { html } from \"lit\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport { n as normalizeHex, h as hexify, i as isValidHex, a as isLonghandHex, b as isShorthandHex, r as rgbToHex, o as opacityToAlpha, c as alphaToOpacity, O as OPACITY_LIMITS, d as hexChar } from \"../../chunks/utils4.js\";\nimport { b as focusElement } from \"../../chunks/dom.js\";\nimport { c as componentFocusable } from \"../../chunks/component.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst CSS = {\n  container: \"container\",\n  hexInput: \"hex-input\",\n  opacityInput: \"opacity-input\"\n};\nconst styles = css`:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:100px;margin-inline-start:-1px}:host([hidden]){display:none}[hidden]{display:none}`;\nconst DEFAULT_COLOR = Color();\nclass ColorPickerHexInput extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.internalColor = DEFAULT_COLOR;\n    this.alphaChannel = false;\n    this.allowEmpty = false;\n    this.hexLabel = \"Hex\";\n    this.scale = \"m\";\n    this.value = normalizeHex(hexify(DEFAULT_COLOR, this.alphaChannel), this.alphaChannel, true);\n    this.calciteColorPickerHexInputChange = createEvent({ cancelable: false });\n  }\n  static {\n    this.properties = { internalColor: [16, {}, { state: true }], alphaChannel: [5, {}, { type: Boolean }], allowEmpty: [5, {}, { type: Boolean }], hexLabel: 1, messages: [0, {}, { attribute: false }], numberingSystem: 1, scale: [3, {}, { reflect: true }], value: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  async setFocus() {\n    await componentFocusable(this);\n    return focusElement(this.hexInputNode);\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.previousNonNullValue = this.value;\n    const { allowEmpty, alphaChannel, value } = this;\n    if (value) {\n      const normalized = normalizeHex(value, alphaChannel);\n      if (isValidHex(normalized, alphaChannel)) {\n        this.internalSetValue(normalized, normalized, false);\n      }\n      return;\n    }\n    if (allowEmpty) {\n      this.internalSetValue(void 0, void 0, false);\n    }\n  }\n  willUpdate(changes) {\n    if (changes.has(\"value\") && (this.hasUpdated || this.value !== normalizeHex(hexify(DEFAULT_COLOR, this.alphaChannel), this.alphaChannel, true))) {\n      this.internalSetValue(this.value, changes.get(\"value\"), false);\n    }\n  }\n  onHexInputBlur() {\n    const node = this.hexInputNode;\n    const inputValue = node.value;\n    const hex = `#${inputValue}`;\n    const { allowEmpty, internalColor } = this;\n    const willClearValue = allowEmpty && !inputValue;\n    const isLonghand = isLonghandHex(hex);\n    const anyShorthand = isShorthandHex(hex, true) || isShorthandHex(hex, false);\n    if (anyShorthand) {\n      this.onHexInputChange();\n    }\n    if (willClearValue || isValidHex(hex) && isLonghand) {\n      return;\n    }\n    node.value = allowEmpty && !internalColor ? \"\" : this.formatHexForInternalInput(rgbToHex(\n      // always display hex input in RRGGBB format\n      internalColor.object()\n    ));\n  }\n  onOpacityInputBlur() {\n    const node = this.opacityInputNode;\n    const inputValue = node.value;\n    const { allowEmpty, internalColor } = this;\n    const willClearValue = allowEmpty && !inputValue;\n    if (willClearValue) {\n      return;\n    }\n    node.value = allowEmpty && !internalColor ? \"\" : this.formatOpacityForInternalInput(internalColor);\n  }\n  onOpacityInputInput() {\n    this.onOpacityInputChange();\n  }\n  onHexInputChange() {\n    const nodeValue = this.hexInputNode.value;\n    let value = nodeValue;\n    if (value) {\n      const normalized = normalizeHex(value, false);\n      const preserveExistingAlpha = isValidHex(normalized) && this.alphaChannel;\n      if (preserveExistingAlpha && this.internalColor) {\n        const alphaHex = normalizeHex(this.internalColor.hexa(), true).slice(-2);\n        value = `${normalized + alphaHex}`;\n      }\n    }\n    this.internalSetValue(value, this.value);\n  }\n  onOpacityInputChange() {\n    const node = this.opacityInputNode;\n    let value;\n    if (!node.value) {\n      value = node.value;\n    } else {\n      const alpha = opacityToAlpha(Number(node.value));\n      value = this.internalColor?.alpha(alpha).hexa();\n    }\n    this.internalSetValue(value, this.value);\n  }\n  onInputFocus(event) {\n    if (event.type === \"calciteInternalInputTextFocus\") {\n      this.hexInputNode.selectText();\n    } else {\n      this.opacityInputNode.selectText();\n    }\n  }\n  onHexInputInput() {\n    const hexInputValue = `#${this.hexInputNode.value}`;\n    const oldValue = this.value;\n    if (isValidHex(hexInputValue, this.alphaChannel) && isLonghandHex(hexInputValue, this.alphaChannel)) {\n      this.internalSetValue(hexInputValue, oldValue);\n    }\n  }\n  onInputKeyDown(event) {\n    const { altKey, ctrlKey, metaKey, shiftKey } = event;\n    const { alphaChannel, hexInputNode, internalColor, value } = this;\n    const { key } = event;\n    const composedPath = event.composedPath();\n    if (key === \"Tab\" && isShorthandHex(value, this.alphaChannel) || key === \"Enter\") {\n      if (composedPath.includes(hexInputNode)) {\n        this.onHexInputChange();\n      } else {\n        this.onOpacityInputChange();\n      }\n      if (key === \"Enter\") {\n        event.preventDefault();\n      }\n      return;\n    }\n    const isNudgeKey = key === \"ArrowDown\" || key === \"ArrowUp\";\n    const oldValue = this.value;\n    if (isNudgeKey) {\n      if (!value) {\n        this.internalSetValue(this.previousNonNullValue, oldValue);\n        event.preventDefault();\n        return;\n      }\n      const direction = key === \"ArrowUp\" ? 1 : -1;\n      const bump = shiftKey ? 10 : 1;\n      this.internalSetValue(hexify(this.nudgeRGBChannels(internalColor, bump * direction, composedPath.includes(hexInputNode) ? \"rgb\" : \"a\"), alphaChannel), oldValue);\n      event.preventDefault();\n      return;\n    }\n    const withModifiers = altKey || ctrlKey || metaKey;\n    const singleChar = key.length === 1;\n    const validHexChar = hexChar.test(key);\n    if (singleChar && !withModifiers && !validHexChar) {\n      event.preventDefault();\n    }\n  }\n  onHexInputPaste(event) {\n    const hex = event.clipboardData.getData(\"text\");\n    if (isValidHex(hex, this.alphaChannel) && isLonghandHex(hex, this.alphaChannel)) {\n      event.preventDefault();\n      this.hexInputNode.value = hex.slice(1);\n      this.internalSetValue(hex, this.value);\n    }\n  }\n  internalSetValue(value, oldValue, emit = true) {\n    if (value) {\n      const { alphaChannel } = this;\n      const normalized = normalizeHex(value, alphaChannel, alphaChannel);\n      if (isValidHex(normalized, alphaChannel)) {\n        const { internalColor: currentColor } = this;\n        const nextColor = Color(normalized);\n        const normalizedLonghand = normalizeHex(hexify(nextColor, alphaChannel), alphaChannel);\n        const changed = !currentColor || normalizedLonghand !== normalizeHex(hexify(currentColor, alphaChannel), alphaChannel);\n        this.internalColor = nextColor;\n        this.previousNonNullValue = normalizedLonghand;\n        this.value = normalizedLonghand;\n        if (changed && emit) {\n          this.calciteColorPickerHexInputChange.emit();\n        }\n        return;\n      }\n    } else if (this.allowEmpty) {\n      this.internalColor = void 0;\n      this.value = void 0;\n      if (emit) {\n        this.calciteColorPickerHexInputChange.emit();\n      }\n      return;\n    }\n    this.value = oldValue;\n  }\n  storeHexInputRef(node) {\n    this.hexInputNode = node;\n  }\n  storeOpacityInputRef(node) {\n    this.opacityInputNode = node;\n  }\n  formatHexForInternalInput(hex) {\n    return hex ? hex.replace(\"#\", \"\").slice(0, 6) : \"\";\n  }\n  formatOpacityForInternalInput(color) {\n    return color ? `${alphaToOpacity(color.alpha())}` : \"\";\n  }\n  nudgeRGBChannels(color, amount, context) {\n    let nudgedChannels;\n    const channels = color.array();\n    const rgbChannels = channels.slice(0, 3);\n    if (context === \"rgb\") {\n      const nudgedRGBChannels = rgbChannels.map((channel) => channel + amount);\n      nudgedChannels = [\n        ...nudgedRGBChannels,\n        this.alphaChannel ? channels[3] : void 0\n      ];\n    } else {\n      const nudgedAlpha = opacityToAlpha(alphaToOpacity(color.alpha()) + amount);\n      nudgedChannels = [...rgbChannels, nudgedAlpha];\n    }\n    return Color(nudgedChannels);\n  }\n  render() {\n    const { alphaChannel, hexLabel, internalColor, messages, scale, value } = this;\n    const hexInputValue = this.formatHexForInternalInput(value);\n    const opacityInputValue = this.formatOpacityForInternalInput(internalColor);\n    const inputScale = scale === \"l\" ? \"m\" : \"s\";\n    return html`<div class=${safeClassMap(CSS.container)}><calcite-input-text class=${safeClassMap(CSS.hexInput)} .label=${messages?.hex || hexLabel} .maxLength=${this.alphaChannel ? 8 : 6} @keydown=${this.onInputKeyDown} @paste=${this.onHexInputPaste} @calciteInputTextChange=${this.onHexInputChange} @calciteInputTextInput=${this.onHexInputInput} @calciteInternalInputTextBlur=${this.onHexInputBlur} @calciteInternalInputTextFocus=${this.onInputFocus} prefix-text=# .scale=${inputScale} .value=${hexInputValue} ${ref(this.storeHexInputRef)}></calcite-input-text>${alphaChannel ? keyed(\"opacity-input\", html`<calcite-input-number class=${safeClassMap(CSS.opacityInput)} .label=${messages?.opacity} .max=${OPACITY_LIMITS.max} max-length=3 .min=${OPACITY_LIMITS.min} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.onInputKeyDown} @calciteInputNumberInput=${this.onOpacityInputInput} @calciteInternalInputNumberBlur=${this.onOpacityInputBlur} @calciteInternalInputNumberFocus=${this.onInputFocus} .scale=${inputScale} suffix-text=% .value=${opacityInputValue} ${ref(this.storeOpacityInputRef)}></calcite-input-number>`) : null}</div>`;\n  }\n}\ncustomElement(\"calcite-color-picker-hex-input\", ColorPickerHexInput);\nexport {\n  ColorPickerHexInput\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { ref } from \"lit-html/directives/ref.js\";\nimport { html } from \"lit\";\nimport { LitElement, safeClassMap } from \"@arcgis/lumina\";\nimport { s as slotChangeGetAssignedElements, e as getSlotAssignedElements } from \"../../chunks/dom.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst CSS = {\n  section: \"section\"\n};\nconst SLOTS = {\n  titleGroup: \"title-group\"\n};\nconst styles = css`:host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1));background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) section{border-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));border-style:solid}section{display:flex;flex-grow:1;overflow:hidden;border-width:1px;border-block-start-style:solid;border-block-start-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1)),inset 0 -1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([position=bottom]){flex-direction:column-reverse}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px}:host([bordered][scale=s]) section{padding:.75rem}:host([bordered][scale=m]) section{padding:.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid;border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}`;\nclass Tabs extends LitElement {\n  constructor() {\n    super();\n    this.tabs = [];\n    this.titles = [];\n    this.bordered = false;\n    this.layout = \"inline\";\n    this.position = \"top\";\n    this.scale = \"m\";\n    this.listen(\"calciteInternalTabNavSlotChange\", this.calciteInternalTabNavSlotChangeHandler);\n  }\n  static {\n    this.properties = { tabs: [16, {}, { state: true }], titles: [16, {}, { state: true }], bordered: [5, {}, { type: Boolean }], layout: [3, {}, { reflect: true }], position: [3, {}, { reflect: true }], scale: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.updateItems();\n  }\n  load() {\n    this.updateItems();\n  }\n  willUpdate(changes) {\n    if (changes.has(\"position\") && (this.hasUpdated || this.position !== \"top\") || changes.has(\"scale\") && (this.hasUpdated || this.scale !== \"m\")) {\n      this.updateItems();\n    }\n    if ((changes.has(\"titles\") || changes.has(\"tabs\")) && this.hasUpdated && this.titles?.length > 0 && this.tabs?.length > 0) {\n      this.updateAriaSettings();\n      this.updateItems();\n    }\n  }\n  calciteInternalTabNavSlotChangeHandler(event) {\n    event.stopPropagation();\n    if (event.detail.length !== this.titles.length) {\n      this.titles = event.detail;\n    }\n  }\n  defaultSlotChangeHandler(event) {\n    this.tabs = slotChangeGetAssignedElements(event, \"calcite-tab\");\n  }\n  async updateAriaSettings() {\n    await this.componentOnReady();\n    let tabIds;\n    let titleIds;\n    const tabs = getSlotAssignedElements(this.slotEl, \"calcite-tab\");\n    if (tabs.some((el) => el.tab) || this.titles.some((el) => el.tab)) {\n      tabIds = tabs.sort((a, b) => a.tab.localeCompare(b.tab)).map((el) => el.id);\n      titleIds = this.titles.sort((a, b) => a.tab.localeCompare(b.tab)).map((el) => el.id);\n    } else {\n      const tabDomIndexes = await Promise.all(tabs.map((el) => el.getTabIndex()));\n      const titleDomIndexes = await Promise.all(this.titles.map((el) => el.getTabIndex()));\n      tabIds = tabDomIndexes.reduce((ids, indexInDOM, registryIndex) => {\n        ids[indexInDOM] = tabs[registryIndex].id;\n        return ids;\n      }, []);\n      titleIds = titleDomIndexes.reduce((ids, indexInDOM, registryIndex) => {\n        ids[indexInDOM] = this.titles[registryIndex].id;\n        return ids;\n      }, []);\n    }\n    tabs.forEach((el) => el._updateAriaInfo(tabIds, titleIds));\n    this.titles.forEach((el) => el._updateAriaInfo(tabIds, titleIds));\n  }\n  updateItems() {\n    const { position, scale } = this;\n    const nav = this.el.querySelector(\"calcite-tab-nav\");\n    if (nav) {\n      nav.position = position;\n      nav.scale = scale;\n    }\n    Array.from(this.el.querySelectorAll(\"calcite-tab\")).forEach((tab) => {\n      if (tab.parentElement === this.el) {\n        tab.scale = scale;\n      }\n    });\n    Array.from(this.el.querySelectorAll(\"calcite-tab-nav > calcite-tab-title\")).forEach((title) => {\n      title.position = position;\n      title.scale = scale;\n    });\n  }\n  setDefaultSlotRef(el) {\n    this.slotEl = el;\n  }\n  render() {\n    return html`<slot name=${SLOTS.titleGroup}></slot><section class=${safeClassMap(CSS.section)}><slot @slotchange=${this.defaultSlotChangeHandler} ${ref(this.setDefaultSlotRef)}></slot></section>`;\n  }\n}\ncustomElement(\"calcite-tabs\", Tabs);\nexport {\n  Tabs\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nconst calciteSize24 = \"24px\";\nconst calciteSize32 = \"32px\";\nconst calciteSize44 = \"44px\";\nconst calciteSize48 = \"48px\";\nexport {\n  calciteSize32 as a,\n  calciteSize44 as b,\n  calciteSize24 as c,\n  calciteSize48 as d\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { C as CSS_UTILITY, c as customElement } from \"../../chunks/runtime.js\";\nimport { ref } from \"lit-html/directives/ref.js\";\nimport { keyed } from \"lit-html/directives/keyed.js\";\nimport { c as calciteSize24, a as calciteSize32, b as calciteSize44 } from \"../../chunks/core.js\";\nimport { html } from \"lit\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport { g as getElementDir, f as filterDirectChildren, d as focusElementInGroup } from \"../../chunks/dom.js\";\nimport { c as createObserver } from \"../../chunks/observers.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst ICON = {\n  chevronRight: \"chevron-right\",\n  chevronLeft: \"chevron-left\"\n};\nconst CSS = {\n  container: \"container\",\n  containerHasEndTabTitleOverflow: \"container--end-overflow\",\n  containerHasStartTabTitleOverflow: \"container--start-overflow\",\n  scrollButton: \"scroll-button\",\n  scrollButtonContainer: \"scroll-button-container\",\n  scrollBackwardContainerButton: \"scroll-button-container--backward\",\n  scrollForwardContainerButton: \"scroll-button-container--forward\",\n  tabTitleSlotWrapper: \"tab-titles-slot-wrapper\"\n};\nconst styles = css`:host{--calcite-internal-tab-nav-gradient-start-side: left;--calcite-internal-tab-nav-gradient-end-side: right;position:relative;display:flex}:host([bordered]):not([selected]) .container{background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) calcite-button{--calcite-button-border-color: var(--calcite-tab-border-color, var(--calcite-color-border-1))}.scale-s{--calcite-internal-tab-nav-button-width: 24px;min-block-size:1.5rem}.scale-m{--calcite-internal-tab-nav-button-width: 32px;min-block-size:2rem}.scale-l{--calcite-internal-tab-nav-button-width: 44px;min-block-size:2.75rem}.calcite--rtl{--calcite-internal-tab-nav-gradient-start-side: right;--calcite-internal-tab-nav-gradient-end-side: left}.container--start-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%)}.container--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%)}.container--start-overflow.container--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%,transparent 51%),linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%,transparent 51%)}.container::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}:host([layout=center]) ::slotted(calcite-tab-title){display:flex;flex-grow:1;flex-shrink:0;min-inline-size:auto;white-space:nowrap}:host([layout=center]) ::slotted(calcite-tab-title[selected]){overflow:unset}:host(:not([bordered])) .scale-l{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xxl)}:host(:not([bordered])) .scale-m{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xl)}:host(:not([bordered])) .scale-s{--calcite-internal-tab-nav-gap: var(--calcite-spacing-lg)}:host(:not([bordered])) .tab-titles-slot-wrapper{gap:var(--calcite-internal-tab-nav-gap)}:host([layout=center]:not([bordered])) .tab-titles-slot-wrapper{padding-inline:var(--calcite-spacing-xl)}.container,.tab-titles-slot-wrapper{display:flex;inline-size:100%;justify-content:flex-start;overflow:hidden;white-space:nowrap}.scroll-button-container{position:absolute;inset-block:0px}.scroll-button-container calcite-button{--calcite-button-text-color: var(--calcite-tab-text-color, var(--calcite-color-text-3));--calcite-button-background-color: var(--calcite-color-transparent);--calcite-offset-invert-focus: 1;block-size:var(--calcite-container-size-content-fluid)}.scroll-button-container calcite-button:hover .scroll-button-container calcite-button:focus{--calcite-button-background-color: var(--calcite-color-transparent-hover)}.scroll-button-container calcite-button:active{--calcite-button-background-color: var(--calcite-color-transparent-press)}.scroll-button-container--forward{inset-inline-end:0;z-index:var(--calcite-z-index)}.scroll-button-container--backward{inset-inline-start:0;z-index:var(--calcite-z-index)}:host(:not([bordered])) .scroll-button-container--backward:before,:host(:not([bordered])) .scroll-button-container--forward:before{background-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));opacity:.5;content:\"\";inline-size:var(--calcite-border-width-sm);inset-block-start:var(--calcite-border-width-md);inset-block-end:var(--calcite-border-width-md);position:absolute}:host(:not([bordered])) .scroll-button-container--backward:before{inset-inline-end:0}:host(:not([bordered])) .scroll-button-container--forward:before{inset-inline-start:0}:host([hidden]){display:none}[hidden]{display:none}`;\nclass TabNav extends LitElement {\n  constructor() {\n    super();\n    this.effectiveDir = \"ltr\";\n    this.lastScrollWheelAxis = \"x\";\n    this.resizeObserver = createObserver(\"resize\", () => {\n      this.updateScrollingState();\n    });\n    this.makeFirstVisibleTabClosable = false;\n    this.messages = useT9n();\n    this.hasOverflowingEndTabTitle = false;\n    this.hasOverflowingStartTabTitle = false;\n    this.bordered = false;\n    this.layout = \"inline\";\n    this.position = \"bottom\";\n    this.scale = \"m\";\n    this.selectedTitle = null;\n    this.calciteInternalTabChange = createEvent({ cancelable: false });\n    this.calciteInternalTabNavSlotChange = createEvent();\n    this.calciteTabChange = createEvent({ cancelable: false });\n    this.listen(\"calciteInternalTabsFocusPrevious\", this.focusPreviousTabHandler);\n    this.listen(\"calciteInternalTabsFocusNext\", this.focusNextTabHandler);\n    this.listen(\"calciteInternalTabsFocusFirst\", this.focusFirstTabHandler);\n    this.listen(\"calciteInternalTabsFocusLast\", this.focusLastTabHandler);\n    this.listen(\"calciteInternalTabsActivate\", this.internalActivateTabHandler);\n    this.listen(\"calciteInternalTabsClose\", this.internalCloseTabHandler);\n    this.listen(\"calciteInternalTabTitleRegister\", this.updateTabTitles);\n    this.listenOn(document.body, \"calciteInternalTabChange\", this.globalInternalTabChangeHandler);\n  }\n  static {\n    this.properties = { hasOverflowingEndTabTitle: [16, {}, { state: true }], hasOverflowingStartTabTitle: [16, {}, { state: true }], selectedTabId: [16, {}, { state: true }], bordered: [7, {}, { reflect: true, type: Boolean }], layout: [3, {}, { reflect: true }], messageOverrides: [0, {}, { attribute: false }], position: 1, scale: 1, selectedTitle: [0, {}, { attribute: false }], storageId: [3, {}, { reflect: true }], syncId: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.parentTabsEl = this.el.closest(\"calcite-tabs\");\n    this.resizeObserver?.observe(this.el);\n  }\n  async load() {\n    const storageKey = `calcite-tab-nav-${this.storageId}`;\n    if (localStorage && this.storageId && localStorage.getItem(storageKey)) {\n      const storedTab = JSON.parse(localStorage.getItem(storageKey));\n      this.selectedTabId = storedTab;\n    }\n  }\n  willUpdate(changes) {\n    if (changes.has(\"selectedTitle\") && (this.hasUpdated || this.selectedTitle !== null)) {\n      this.calciteInternalTabChange.emit({\n        tab: this.selectedTabId\n      });\n    }\n    if (changes.has(\"selectedTabId\")) {\n      this.selectedTabIdChanged();\n    }\n    const { parentTabsEl } = this;\n    this.layout = parentTabsEl?.layout;\n    this.bordered = parentTabsEl?.bordered;\n    this.effectiveDir = getElementDir(this.el);\n  }\n  loaded() {\n    this.scrollTabTitleIntoView(this.selectedTitle, \"instant\");\n    if (this.tabTitles.length && this.tabTitles.every((title) => !title.selected) && !this.selectedTabId) {\n      this.tabTitles[0].getTabIdentifier().then((tab) => {\n        this.calciteInternalTabChange.emit({\n          tab\n        });\n      });\n    }\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.resizeObserver?.disconnect();\n  }\n  get enabledTabTitles() {\n    return filterDirectChildren(this.el, \"calcite-tab-title:not([disabled])\").filter((tabTitle) => !tabTitle.closed);\n  }\n  get scrollerButtonWidth() {\n    const { scale } = this;\n    return parseInt(scale === \"s\" ? calciteSize24 : scale === \"m\" ? calciteSize32 : calciteSize44);\n  }\n  get tabTitles() {\n    return filterDirectChildren(this.el, \"calcite-tab-title\");\n  }\n  focusPreviousTabHandler(event) {\n    this.handleTabFocus(event, event.target, \"previous\");\n  }\n  focusNextTabHandler(event) {\n    this.handleTabFocus(event, event.target, \"next\");\n  }\n  focusFirstTabHandler(event) {\n    this.handleTabFocus(event, event.target, \"first\");\n  }\n  focusLastTabHandler(event) {\n    this.handleTabFocus(event, event.target, \"last\");\n  }\n  internalActivateTabHandler(event) {\n    const activatedTabTitle = event.target;\n    const currentSelectedTabTitle = this.selectedTitle;\n    this.selectedTabId = event.detail.tab ? event.detail.tab : this.getIndexOfTabTitle(activatedTabTitle);\n    event.stopPropagation();\n    this.selectedTitle = activatedTabTitle;\n    if (currentSelectedTabTitle?.id !== activatedTabTitle.id && event.detail.userTriggered) {\n      this.calciteTabChange.emit();\n    }\n    this.scrollTabTitleIntoView(activatedTabTitle);\n  }\n  scrollTabTitleIntoView(activatedTabTitle, behavior = \"smooth\") {\n    if (!activatedTabTitle) {\n      return;\n    }\n    requestAnimationFrame(() => {\n      const isLTR = this.effectiveDir === \"ltr\";\n      const tabTitleContainer = this.tabTitleContainerEl;\n      const containerBounds = tabTitleContainer.getBoundingClientRect();\n      const tabTitleBounds = activatedTabTitle.getBoundingClientRect();\n      const scrollPosition = tabTitleContainer.scrollLeft;\n      const overflowingStartTabTitle = isLTR ? this.hasOverflowingStartTabTitle : this.hasOverflowingEndTabTitle;\n      const overflowingEndTabTitle = isLTR ? this.hasOverflowingEndTabTitle : this.hasOverflowingStartTabTitle;\n      if (tabTitleBounds.left < containerBounds.left + (overflowingStartTabTitle ? this.scrollerButtonWidth : 0)) {\n        const left = scrollPosition + (tabTitleBounds.left - containerBounds.left) - this.scrollerButtonWidth;\n        tabTitleContainer.scrollTo({ left, behavior });\n      } else if (tabTitleBounds.right > containerBounds.right - (overflowingEndTabTitle ? this.scrollerButtonWidth : 0)) {\n        const left = scrollPosition + (tabTitleBounds.right - containerBounds.right) + this.scrollerButtonWidth;\n        tabTitleContainer.scrollTo({ left, behavior });\n      }\n    });\n  }\n  internalCloseTabHandler(event) {\n    const closedTabTitleEl = event.target;\n    this.handleTabTitleClose(closedTabTitleEl);\n    event.stopPropagation();\n  }\n  async updateTabTitles(event) {\n    if (event.target.selected) {\n      this.selectedTabId = event.detail;\n      this.selectedTitle = await this.getTabTitleById(this.selectedTabId);\n    }\n  }\n  globalInternalTabChangeHandler(event) {\n    if (this.syncId && event.target !== this.el && event.target.syncId === this.syncId && this.selectedTabId !== event.detail.tab) {\n      this.selectedTabId = event.detail.tab;\n    }\n    event.stopPropagation();\n  }\n  async selectedTabIdChanged() {\n    await this.componentOnReady();\n    if (localStorage && this.storageId && this.selectedTabId !== void 0 && this.selectedTabId !== null) {\n      localStorage.setItem(`calcite-tab-nav-${this.storageId}`, JSON.stringify(this.selectedTabId));\n    }\n    this.calciteInternalTabChange.emit({\n      tab: this.selectedTabId\n    });\n  }\n  onTabTitleWheel(event) {\n    event.preventDefault();\n    const { deltaX, deltaY } = event;\n    const x = Math.abs(deltaX);\n    const y = Math.abs(deltaY);\n    let scrollBy;\n    if (x === y) {\n      scrollBy = this.lastScrollWheelAxis === \"x\" ? deltaX : deltaY;\n    } else if (x > y) {\n      scrollBy = deltaX;\n      this.lastScrollWheelAxis = \"x\";\n    } else {\n      scrollBy = deltaY;\n      this.lastScrollWheelAxis = \"y\";\n    }\n    const scrollByX = (this.effectiveDir === \"rtl\" ? -1 : 1) * scrollBy;\n    event.currentTarget.scrollBy(scrollByX, 0);\n  }\n  onSlotChange() {\n    this.intersectionObserver?.disconnect();\n    const tabTitles = this.tabTitles;\n    tabTitles.forEach((child) => {\n      this.intersectionObserver?.observe(child);\n    });\n    const visibleTabTitlesIndices = this.getVisibleTabTitlesIndices(tabTitles);\n    const totalVisibleTabTitles = visibleTabTitlesIndices.length;\n    if (totalVisibleTabTitles > 1 && this.makeFirstVisibleTabClosable) {\n      tabTitles[visibleTabTitlesIndices[0]].closable = true;\n      this.makeFirstVisibleTabClosable = false;\n    }\n    this.calciteInternalTabNavSlotChange.emit(tabTitles);\n  }\n  storeTabTitleWrapperRef(el) {\n    if (!el) {\n      return;\n    }\n    this.tabTitleContainerEl = el;\n    this.intersectionObserver = createObserver(\"intersection\", () => this.updateScrollingState(), {\n      root: el,\n      threshold: [0, 0.5, 1]\n    });\n  }\n  updateScrollingState() {\n    const tabTitleContainer = this.tabTitleContainerEl;\n    if (!tabTitleContainer) {\n      return;\n    }\n    let isOverflowStart;\n    let isOverflowEnd;\n    const scrollPosition = tabTitleContainer.scrollLeft;\n    const visibleWidth = tabTitleContainer.clientWidth;\n    const totalContentWidth = tabTitleContainer.scrollWidth;\n    if (this.effectiveDir === \"ltr\") {\n      isOverflowStart = scrollPosition > 0;\n      isOverflowEnd = scrollPosition + visibleWidth < totalContentWidth;\n    } else {\n      isOverflowStart = scrollPosition < 0;\n      isOverflowEnd = scrollPosition !== -(totalContentWidth - visibleWidth);\n    }\n    this.hasOverflowingStartTabTitle = isOverflowStart;\n    this.hasOverflowingEndTabTitle = isOverflowEnd;\n  }\n  scrollToTabTitles(direction) {\n    requestAnimationFrame(() => {\n      const tabTitleContainer = this.tabTitleContainerEl;\n      const containerBounds = tabTitleContainer.getBoundingClientRect();\n      const tabTitles = Array.from(this.el.querySelectorAll(\"calcite-tab-title\"));\n      const { effectiveDir } = this;\n      if (direction === \"forward\") {\n        tabTitles.reverse();\n      }\n      let closestToEdge = null;\n      tabTitles.forEach((tabTitle) => {\n        const tabTitleBounds = tabTitle.getBoundingClientRect();\n        const containerEndX = containerBounds.x + containerBounds.width;\n        const tabTitleEndX = tabTitleBounds.x + tabTitleBounds.width;\n        if (direction === \"forward\" && effectiveDir === \"ltr\" || direction === \"backward\" && effectiveDir === \"rtl\") {\n          const afterContainerEnd = tabTitleBounds.x > containerEndX;\n          if (afterContainerEnd) {\n            closestToEdge = tabTitle;\n          } else {\n            const crossingContainerEnd = tabTitleEndX > containerEndX && tabTitleBounds.x > containerBounds.x;\n            if (crossingContainerEnd) {\n              closestToEdge = tabTitle;\n            }\n          }\n        } else {\n          const beforeContainerStart = tabTitleEndX < containerBounds.x;\n          if (beforeContainerStart) {\n            closestToEdge = tabTitle;\n          } else {\n            const crossingContainerStart = tabTitleEndX < containerEndX && tabTitleBounds.x < containerBounds.x;\n            if (crossingContainerStart) {\n              closestToEdge = tabTitle;\n            }\n          }\n        }\n      });\n      if (closestToEdge) {\n        const { scrollerButtonWidth } = this;\n        const offsetAdjustment = direction === \"forward\" && effectiveDir === \"ltr\" || direction === \"backward\" && effectiveDir === \"rtl\" ? -scrollerButtonWidth : closestToEdge.offsetWidth - tabTitleContainer.clientWidth + scrollerButtonWidth;\n        const scrollTo = closestToEdge.offsetLeft + offsetAdjustment;\n        tabTitleContainer.scrollTo({\n          left: scrollTo,\n          behavior: \"smooth\"\n        });\n      }\n    });\n  }\n  scrollToNextTabTitles() {\n    this.scrollToTabTitles(\"forward\");\n  }\n  scrollToPreviousTabTitles() {\n    this.scrollToTabTitles(\"backward\");\n  }\n  handleTabFocus(event, el, destination) {\n    const focused = focusElementInGroup(this.enabledTabTitles, el, destination);\n    this.scrollTabTitleIntoView(focused, \"instant\");\n    event.stopPropagation();\n  }\n  getIndexOfTabTitle(el, tabTitles = this.tabTitles) {\n    return tabTitles.indexOf(el);\n  }\n  onTabTitleScroll() {\n    this.updateScrollingState();\n  }\n  async getTabTitleById(id) {\n    return Promise.all(this.tabTitles.map((el) => el.getTabIdentifier())).then((ids) => {\n      return this.tabTitles[ids.indexOf(id)];\n    });\n  }\n  getVisibleTabTitlesIndices(tabTitles) {\n    return tabTitles.reduce((tabTitleIndices, tabTitle, index) => !tabTitle.closed ? [...tabTitleIndices, index] : tabTitleIndices, []);\n  }\n  handleTabTitleClose(closedTabTitleEl) {\n    const { tabTitles } = this;\n    const selectionModified = closedTabTitleEl.selected;\n    const visibleTabTitlesIndices = this.getVisibleTabTitlesIndices(tabTitles);\n    const totalVisibleTabTitles = visibleTabTitlesIndices.length;\n    if (totalVisibleTabTitles === 1 && tabTitles[visibleTabTitlesIndices[0]].closable) {\n      this.makeFirstVisibleTabClosable = true;\n      tabTitles[visibleTabTitlesIndices[0]].closable = false;\n      this.selectedTabId = visibleTabTitlesIndices[0];\n      if (selectionModified) {\n        tabTitles[visibleTabTitlesIndices[0]].activateTab();\n      }\n    } else if (totalVisibleTabTitles > 1) {\n      const closedTabTitleIndex = tabTitles.findIndex((el) => el === closedTabTitleEl);\n      const nextTabTitleIndex = visibleTabTitlesIndices.find((value) => value > closedTabTitleIndex);\n      if (this.selectedTabId === closedTabTitleIndex) {\n        this.selectedTabId = nextTabTitleIndex ? nextTabTitleIndex : totalVisibleTabTitles - 1;\n        tabTitles[this.selectedTabId].activateTab();\n      }\n    }\n    requestAnimationFrame(() => {\n      tabTitles[this.selectedTabId].focus();\n    });\n  }\n  render() {\n    this.el.role = \"tablist\";\n    return html`<div class=${safeClassMap({\n      [CSS.container]: true,\n      [CSS.containerHasStartTabTitleOverflow]: !!this.hasOverflowingStartTabTitle,\n      [CSS.containerHasEndTabTitleOverflow]: !!this.hasOverflowingEndTabTitle,\n      [`scale-${this.scale}`]: true,\n      [`position-${this.position}`]: true,\n      [CSS_UTILITY.rtl]: this.effectiveDir === \"rtl\"\n    })}>${this.renderScrollButton(\"start\")}<div class=${safeClassMap({\n      [CSS.tabTitleSlotWrapper]: true\n    })} @scroll=${this.onTabTitleScroll} @wheel=${this.onTabTitleWheel} ${ref(this.storeTabTitleWrapperRef)}><slot @slotchange=${this.onSlotChange}></slot></div>${this.renderScrollButton(\"end\")}</div>`;\n  }\n  renderScrollButton(overflowDirection) {\n    const { bordered, messages, hasOverflowingStartTabTitle, hasOverflowingEndTabTitle, scale } = this;\n    const isEnd = overflowDirection === \"end\";\n    return keyed(overflowDirection, html`<div class=${safeClassMap({\n      [CSS.scrollButtonContainer]: true,\n      [CSS.scrollBackwardContainerButton]: !isEnd,\n      [CSS.scrollForwardContainerButton]: isEnd\n    })} .hidden=${isEnd && !hasOverflowingEndTabTitle || !isEnd && !hasOverflowingStartTabTitle}><calcite-button .appearance=${bordered ? \"outline-fill\" : \"transparent\"} .ariaLabel=${isEnd ? messages.nextTabTitles : messages.previousTabTitles} class=${safeClassMap({\n      [CSS.scrollButton]: true\n    })} icon-flip-rtl=both .iconStart=${isEnd ? ICON.chevronRight : ICON.chevronLeft} kind=neutral @click=${isEnd ? this.scrollToNextTabTitles : this.scrollToPreviousTabTitles} .scale=${scale} tabindex=-1></calcite-button></div>`);\n  }\n}\ncustomElement(\"calcite-tab-nav\", TabNav);\nexport {\n  TabNav\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { ref } from \"lit-html/directives/ref.js\";\nimport { keyed } from \"lit-html/directives/keyed.js\";\nimport { nothing, html } from \"lit-html\";\nimport { safeClassMap } from \"@arcgis/lumina\";\nimport { g as getIconScale } from \"./component.js\";\nconst CSS = {\n  button: \"x-button\",\n  buttonRound: \"x-button--round\"\n};\nconst XButton = ({ disabled, focusable, key, label, onClick, ref: ref$1, round = true, scale, title }) => keyed(key, html`<button .ariaLabel=${label} class=${safeClassMap({\n  [((scale2) => `x-button--${scale2}`)(scale)]: true,\n  [CSS.button]: true,\n  [CSS.buttonRound]: round\n})} .disabled=${disabled} @click=${onClick} .tabIndex=${focusable ? 0 : -1} title=${title ?? nothing} type=button ${ref(ref$1)}><calcite-icon icon=x .scale=${getIconScale(scale)}></calcite-icon></button>`);\nexport {\n  CSS as C,\n  XButton as X\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { keyed } from \"lit-html/directives/keyed.js\";\nimport { isServer, html } from \"lit\";\nimport { createRef, ref } from \"lit-html/directives/ref.js\";\nimport { LitElement, createEvent, safeClassMap, setAttribute } from \"@arcgis/lumina\";\nimport { n as nodeListToArray, g as getElementDir, t as toAriaBoolean } from \"../../chunks/dom.js\";\nimport { g as guid } from \"../../chunks/guid.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { c as createObserver } from \"../../chunks/observers.js\";\nimport { g as getIconScale } from \"../../chunks/component.js\";\nimport { X as XButton } from \"../../chunks/XButton.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst CSS = {\n  container: \"container\",\n  containerBottom: \"container--bottom\",\n  content: \"content\",\n  contentHasText: \"content--has-text\",\n  iconEnd: \"icon-end\",\n  iconPresent: \"icon-present\",\n  iconStart: \"icon-start\",\n  titleIcon: \"calcite-tab-title--icon\",\n  scale: (scale) => `scale-${scale}`,\n  selectedIndicator: \"selected-indicator\"\n};\nconst styles = css`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;outline:2px solid transparent;outline-offset:2px;margin-inline-start:0px}:host([layout=inline]){flex:0 1 auto}:host([layout=center]){flex:1 1 auto}.content{position:relative;margin-block-end:.125rem;box-sizing:border-box;display:flex;block-size:100%;align-items:center;justify-content:center}.scale-s .content{padding-block:.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}.scale-s .x-button{inline-size:1.25rem}.scale-m .content{padding-block:.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}.scale-m .x-button{inline-size:1.75rem}.scale-l .content{padding-block:.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}.scale-l .x-button{inline-size:2rem}:host([closable]) .content{border-block-end-color:transparent}:host([layout=inline]) .content,:host([layout=center]) .content{padding-inline:.25rem}:host([layout=center]) .scale-s,:host([layout=center]) .scale-m,:host([layout=center]) .scale-l{margin-block:0px;justify-content:center;text-align:center}:host([layout=center]) .scale-s .content,:host([layout=center]) .scale-m .content,:host([layout=center]) .scale-l .content{flex:1 1 auto;flex-grow:1}.container{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;align-content:center;justify-content:space-between;padding-inline:0px;font-size:var(--calcite-font-size--1);line-height:1rem;outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-tab-text-color, var(--calcite-color-text-3));background-color:var(--calcite-tab-background-color, transparent)}.selected-indicator{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:0;inset-inline-start:0;inset-inline-end:0;inline-size:100%}:host([bordered][selected]) .container:after{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:-1px;inset-inline-start:0;inset-inline-end:0;inline-size:100%;content:\"\"}:host([bordered][selected]) .container.container--bottom:after{inset-block-start:-1px}:host([bordered][selected]:focus) .container:after{background:transparent}.container--bottom .selected-indicator{inset-block-end:unset;inset-block-start:0}:host(:not([bordered])) .container:hover,:host(:not([bordered])) .container:active{color:var(--calcite-color-text-1)}:host([bordered]:not([selected]):hover:not(:focus)) .selected-indicator{background-color:var(--calcite-color-foreground-2)}:host([bordered]:not([selected]):hover:not(:focus)) .container:not(.container--bottom) .selected-indicator{box-shadow:inset 0 1px var(--calcite-color-border-1)}:host([bordered]:not([selected]):hover:not(:focus)) .container.container--bottom .selected-indicator{box-shadow:inset 0 -1px var(--calcite-color-border-1)}:host([selected]:focus) .selected-indicator{block-size:4px}.calcite-tab-title--icon{position:relative;margin:0;display:inline-flex;align-self:center}.calcite-tab-title--icon svg{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.content--has-text .icon-start,.content--has-text .calcite-tab-title--icon.icon-start{color:var(--calcite-tab-icon-color-start, var(--calcite-icon-color))}.content--has-text .calcite-tab-title--icon.icon-start .icon-end,.content--has-text .calcite-tab-title--icon.icon-end{color:var(--calcite-tab-icon-color-end, var(--calcite-icon-color))}.content--has-text{padding:.25rem}.content--has-text .calcite-tab-title--icon.icon-start{margin-inline-end:var(--calcite-spacing-sm)}.content--has-text .calcite-tab-title--icon.icon-end{margin-inline-start:var(--calcite-spacing-sm)}.x-button{display:flex;block-size:100%;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-style:none;background-color:transparent;outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;margin-inline-start:var(--calcite-spacing-sm);margin-inline-end:var(--calcite-spacing-px);block-size:calc(100% - var(--calcite-spacing-xxs));color:var(--calcite-tab-close-icon-color, var(--calcite-color-text-3));background-color:var(--calcite-tab-close-icon-background-color, var(--calcite-color-transparent))}.x-button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.x-button:focus,.x-button:hover,.x-button:active{color:var(--calcite-tab-close-icon-color-press, var(--calcite-color-text-1));background-color:var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container{border-color:transparent;border-inline-width:var(--calcite-spacing-px);border-inline-style:solid}:host([bordered]) .container:hover,:host([bordered]) .container:active{color:var(--calcite-color-text-1)}:host([bordered]) .container .x-button calcite-icon{margin-block-start:var(--calcite-spacing-px)}:host([bordered]) .container .x-button:focus,:host([bordered]) .container .x-button:hover,:host([bordered]) .container .x-button:active{box-shadow:0 2px 0 0 var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container.container--bottom{border-block-start-style:solid;border-block-start-width:1px}:host([bordered]) .container.container--bottom .selected-indicator{inset-block-start:unset;inset-block-end:0}:host([bordered]) .container.container--bottom .x-button{box-shadow:0 -2px 0 0 var(--calcite-tab-close-icon-background-color, var(--calcite-color-transparent))}:host([bordered]) .container.container--bottom .x-button:focus,:host([bordered]) .container.container--bottom .x-button:hover,:host([bordered]) .container.container--bottom .x-button:active{box-shadow:0 -2px 0 0 var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container.container--bottom .x-button calcite-icon{margin-block-end:var(--calcite-spacing-px)}:host([bordered]) .container:not(.container--bottom){border-block-end-style:solid;border-block-end-width:1px}:host([bordered]) .container:not(.container--bottom) .x-button{block-size:calc(100% - var(--calcite-spacing-px));margin-block-start:-1px}:host([bordered]) .container .selected-indicator{inset-block-start:0;inset-block-end:unset;inset-inline-start:-1px;inset-inline-end:0;inline-size:calc(100% + var(--calcite-spacing-base))}:host([bordered]) .container:host(:not([selected])) .container .x-button{box-shadow:0 2px 0 0 transparent}:host([bordered]) .container:host(:not([selected])):host(:hover) .container:not(.container--bottom){border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) .selected-indicator{box-shadow:inset 0 var(--calcite-internal-tab-shadow-length) var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) :not(.container--bottom){--calcite-internal-tab-shadow-length: 1px}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) .container--bottom{--calcite-internal-tab-shadow-length: -1px}:host([bordered]) .container:hover{background-color:var(--calcite-tab-background-color-hover, var(--calcite-color-foreground-2));border-block-end-color:var(--calcite-color-border-1)}:host(:hover) .selected-indicator{background-color:var(--calcite-color-border-3)}:host([selected]) .selected-indicator,:host([selected]:hover) .selected-indicator,:host(:focus) .selected-indicator,:host(:active) .selected-indicator{background-color:var(--calcite-tab-accent-color-press, var(--calcite-color-brand))}:host([closed]){display:none}:host([selected]) .container{border-color:transparent;color:var(--calcite-tab-text-color, var(--calcite-color-text-1))}:host([selected][bordered]) .container{border-inline-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([selected][bordered]) .container:after{background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([selected][bordered]) .container:hover,:host([selected][bordered]) .container:active{background:transparent}:host(:focus) .container{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host(:focus) .container:focus-within{outline-color:transparent}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{margin-inline-end:var(--calcite-spacing-sm)}:host([layout=inline][bordered]) .scale-m .content,:host([layout=center][bordered]) .scale-m .content{padding-inline:.75rem}:host([layout=inline][bordered]) .scale-s .content,:host([layout=center][bordered]) .scale-s .content{padding-inline:.5rem}:host([layout=inline][bordered]) .scale-l .content,:host([layout=center][bordered]) .scale-l .content{padding-inline:1rem}:host([layout=inline][closable]) .scale-s .content,:host([layout=inline][closable]) .scale-m .content,:host([layout=inline][closable]) .scale-l .content{padding-inline-end:0}@media (forced-colors: active){:host{outline-width:0;outline-offset:0}:host(:focus) .container{outline-color:highlight}:host([bordered][selected]) .container{border-block-end-style:none}:host([bordered][selected]) .container--bottom{border-block-start-style:none}.x-button{z-index:var(--calcite-z-index)}.selected-indicator{background-color:highlight}}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) .container{pointer-events:none;opacity:.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`;\nclass TabTitle extends LitElement {\n  constructor() {\n    super();\n    this.closeButtonEl = createRef();\n    this.guid = `calcite-tab-title-${guid()}`;\n    this.mutationObserver = createObserver(\"mutation\", () => this.updateHasText());\n    this.resizeObserver = createObserver(\"resize\", () => {\n      this.calciteInternalTabIconChanged.emit();\n    });\n    this.messages = useT9n();\n    this.hasText = false;\n    this.bordered = false;\n    this.closable = false;\n    this.closed = false;\n    this.disabled = false;\n    this.position = \"top\";\n    this.scale = \"m\";\n    this.selected = false;\n    this.calciteInternalTabIconChanged = createEvent({ cancelable: false });\n    this.calciteInternalTabTitleRegister = createEvent({ cancelable: false });\n    this.calciteInternalTabsActivate = createEvent({ cancelable: false });\n    this.calciteInternalTabsClose = createEvent({ cancelable: false });\n    this.calciteInternalTabsFocusFirst = createEvent({ cancelable: false });\n    this.calciteInternalTabsFocusLast = createEvent({ cancelable: false });\n    this.calciteInternalTabsFocusNext = createEvent({ cancelable: false });\n    this.calciteInternalTabsFocusPrevious = createEvent({ cancelable: false });\n    this.calciteTabsActivate = createEvent({ cancelable: false });\n    this.calciteTabsClose = createEvent({ cancelable: false });\n    this.listenOn(document.body, \"calciteInternalTabChange\", this.internalTabChangeHandler);\n    this.listen(\"click\", this.onClick);\n    this.listen(\"keydown\", this.keyDownHandler);\n  }\n  static {\n    this.properties = { controls: [16, {}, { state: true }], hasText: [16, {}, { state: true }], bordered: [7, {}, { reflect: true, type: Boolean }], closable: [7, {}, { reflect: true, type: Boolean }], closed: [7, {}, { reflect: true, type: Boolean }], disabled: [7, {}, { reflect: true, type: Boolean }], iconEnd: [3, {}, { reflect: true }], iconFlipRtl: [3, {}, { reflect: true }], iconStart: [3, {}, { reflect: true }], layout: [3, {}, { reflect: true }], messageOverrides: [0, {}, { attribute: false }], position: 1, scale: 1, selected: [7, {}, { reflect: true, type: Boolean }], tab: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  async activateTab(userTriggered = true) {\n    if (this.disabled || this.closed) {\n      return;\n    }\n    const payload = { tab: this.tab, userTriggered };\n    this.calciteInternalTabsActivate.emit(payload);\n    if (userTriggered) {\n      requestAnimationFrame(() => this.calciteTabsActivate.emit());\n    }\n  }\n  async getTabIdentifier() {\n    return this.tab ? this.tab : this.getTabIndex();\n  }\n  async getTabIndex() {\n    return Array.prototype.indexOf.call(nodeListToArray(this.el.parentElement.children).filter((el) => el.matches(\"calcite-tab-title\")), this.el);\n  }\n  _updateAriaInfo(tabIds = [], titleIds = []) {\n    this.controls = tabIds[titleIds.indexOf(this.el.id)] || null;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.setupTextContentObserver();\n    this.parentTabsEl = this.el.closest(\"calcite-tabs\");\n  }\n  async load() {\n    if (!isServer) {\n      this.updateHasText();\n    }\n    if (this.tab && this.selected) {\n      this.activateTab(false);\n    }\n  }\n  willUpdate(changes) {\n    if (changes.has(\"selected\") && (this.hasUpdated || this.selected !== false)) {\n      this.selectedHandler();\n    }\n    if (this.parentTabsEl) {\n      this.layout = this.parentTabsEl.layout;\n      this.bordered = this.parentTabsEl.bordered;\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  async loaded() {\n    this.calciteInternalTabTitleRegister.emit(await this.getTabIdentifier());\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.mutationObserver?.disconnect();\n    document.body?.dispatchEvent(new CustomEvent(\"calciteTabTitleUnregister\", {\n      detail: this.el\n    }));\n    this.resizeObserver?.disconnect();\n  }\n  selectedHandler() {\n    if (this.selected) {\n      this.activateTab(false);\n    }\n  }\n  internalTabChangeHandler(event) {\n    const targetTabsEl = event.composedPath().find((el) => el.tagName === \"CALCITE-TABS\");\n    if (targetTabsEl !== this.parentTabsEl) {\n      return;\n    }\n    if (this.tab) {\n      this.selected = this.tab === event.detail.tab;\n    } else {\n      this.getTabIndex().then((index) => {\n        this.selected = index === event.detail.tab;\n      });\n    }\n    event.stopPropagation();\n  }\n  onClick() {\n    this.activateTab();\n  }\n  keyDownHandler(event) {\n    switch (event.key) {\n      case \" \":\n      case \"Enter\":\n        if (!event.composedPath().includes(this.closeButtonEl.value)) {\n          this.activateTab();\n          event.preventDefault();\n        }\n        break;\n      case \"ArrowRight\":\n        event.preventDefault();\n        if (getElementDir(this.el) === \"ltr\") {\n          this.calciteInternalTabsFocusNext.emit();\n        } else {\n          this.calciteInternalTabsFocusPrevious.emit();\n        }\n        break;\n      case \"ArrowLeft\":\n        event.preventDefault();\n        if (getElementDir(this.el) === \"ltr\") {\n          this.calciteInternalTabsFocusPrevious.emit();\n        } else {\n          this.calciteInternalTabsFocusNext.emit();\n        }\n        break;\n      case \"Home\":\n        event.preventDefault();\n        this.calciteInternalTabsFocusFirst.emit();\n        break;\n      case \"End\":\n        event.preventDefault();\n        this.calciteInternalTabsFocusLast.emit();\n        break;\n    }\n  }\n  closeClickHandler() {\n    this.closeTabTitleAndNotify();\n  }\n  updateHasText() {\n    this.hasText = this.el.textContent.trim().length > 0;\n  }\n  setupTextContentObserver() {\n    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n  }\n  closeTabTitleAndNotify() {\n    this.closed = true;\n    this.calciteInternalTabsClose.emit({ tab: this.tab });\n    this.calciteTabsClose.emit();\n  }\n  render() {\n    const { el, closed } = this;\n    const id = el.id || this.guid;\n    const iconStartEl = html`<calcite-icon class=${safeClassMap({ [CSS.titleIcon]: true, [CSS.iconStart]: true })} .flipRtl=${this.iconFlipRtl === \"start\" || this.iconFlipRtl === \"both\"} .icon=${this.iconStart} .scale=${getIconScale(this.scale)}></calcite-icon>`;\n    const iconEndEl = html`<calcite-icon class=${safeClassMap({ [CSS.titleIcon]: true, [CSS.iconEnd]: true })} .flipRtl=${this.iconFlipRtl === \"end\" || this.iconFlipRtl === \"both\"} .icon=${this.iconEnd} .scale=${getIconScale(this.scale)}></calcite-icon>`;\n    setAttribute(this.el, \"aria-controls\", this.controls);\n    this.el.ariaSelected = toAriaBoolean(this.selected);\n    setAttribute(this.el, \"id\", id);\n    this.el.role = \"tab\";\n    setAttribute(this.el, \"tabIndex\", this.selected && !this.disabled ? 0 : -1);\n    return InteractiveContainer({ disabled: this.disabled, children: html`<div class=${safeClassMap({\n      [CSS.container]: true,\n      [CSS.containerBottom]: this.position === \"bottom\",\n      [CSS.iconPresent]: !!this.iconStart || !!this.iconEnd,\n      [CSS.scale(this.scale)]: true\n    })} .hidden=${closed} ${ref((el2) => el2 ? this.resizeObserver?.observe(el2) : null)}><div class=${safeClassMap({ [CSS.content]: true, [CSS.contentHasText]: this.hasText })}>${this.iconStart ? iconStartEl : null}<slot></slot>${this.iconEnd ? iconEndEl : null}</div>${this.renderCloseButton()}<div class=${safeClassMap(CSS.selectedIndicator)}></div></div>` });\n  }\n  renderCloseButton() {\n    const { closable, messages } = this;\n    return closable ? keyed(\"close-button\", XButton({ disabled: false, focusable: true, label: messages.close, onClick: this.closeClickHandler, ref: this.closeButtonEl, round: false, scale: this.scale, title: messages.close })) : null;\n  }\n}\ncustomElement(\"calcite-tab-title\", TabTitle);\nexport {\n  TabTitle\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { html } from \"lit-html\";\nimport { LitElement, setAttribute, safeClassMap } from \"@arcgis/lumina\";\nimport { n as nodeListToArray } from \"../../chunks/dom.js\";\nimport { g as guid } from \"../../chunks/guid.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst CSS = {\n  container: \"container\",\n  content: \"content\"\n};\nconst styles = css`:host{display:none}:host,.container,.content{block-size:100%;inline-size:100%}:host([selected]),:host([selected]) .container{display:flex;flex-direction:column}.content{box-sizing:border-box;padding-block:var(--calcite-tab-content-space-y, var(--calcite-tab-content-block-padding, var(--calcite-internal-tab-content-space-y)))}.scale-s{--calcite-internal-tab-content-space-y: .25rem;font-size:var(--calcite-font-size-sm);line-height:1rem}.scale-m{--calcite-internal-tab-content-space-y: .5rem;font-size:var(--calcite-font-size);line-height:1rem}.scale-l{--calcite-internal-tab-content-space-y: .625rem;font-size:var(--calcite-font-size-md);line-height:1.25rem}.container{display:none;block-size:100%;inline-size:100%;overflow:auto;outline-color:transparent}.container:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([hidden]){display:none}[hidden]{display:none}`;\nclass Tab extends LitElement {\n  constructor() {\n    super();\n    this.guid = `calcite-tab-title-${guid()}`;\n    this.scale = \"m\";\n    this.selected = false;\n    this.listenOn(document.body, \"calciteInternalTabChange\", this.internalTabChangeHandler);\n  }\n  static {\n    this.properties = { labeledBy: [16, {}, { state: true }], scale: 1, selected: [7, {}, { reflect: true, type: Boolean }], tab: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  async getTabIndex() {\n    return Array.prototype.indexOf.call(nodeListToArray(this.el.parentElement.children).filter((el) => el.matches(\"calcite-tab\")), this.el);\n  }\n  _updateAriaInfo(tabIds = [], titleIds = []) {\n    this.labeledBy = titleIds[tabIds.indexOf(this.el.id)] || null;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.parentTabsEl = this.el.closest(\"calcite-tabs\");\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    document.body?.dispatchEvent(new CustomEvent(\"calciteTabUnregister\", {\n      detail: this.el\n    }));\n  }\n  internalTabChangeHandler(event) {\n    const targetTabsEl = event.composedPath().find((el) => el.tagName === \"CALCITE-TABS\");\n    if (targetTabsEl !== this.parentTabsEl) {\n      return;\n    }\n    if (this.tab) {\n      this.selected = this.tab === event.detail.tab;\n    } else {\n      this.getTabIndex().then((index) => {\n        this.selected = index === event.detail.tab;\n      });\n    }\n    event.stopPropagation();\n  }\n  render() {\n    const id = this.el.id || this.guid;\n    setAttribute(this.el, \"aria-labelledby\", this.labeledBy);\n    setAttribute(this.el, \"id\", id);\n    return html`<div class=${safeClassMap({ [CSS.container]: true, [`scale-${this.scale}`]: true })} role=tabpanel .tabIndex=${this.selected ? 0 : -1}><section class=${safeClassMap(CSS.content)}><slot></slot></section></div>`;\n  }\n}\ncustomElement(\"calcite-tab\", Tab);\nexport {\n  Tab\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nconst clamp = (value, min, max) => Math.max(min, Math.min(value, max));\nconst decimalNumberRegex = new RegExp(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\nconst decimalPlaces = (value) => {\n  const match = (\"\" + value).match(decimalNumberRegex);\n  if (!match || parseInt(match[1]) === 0) {\n    return 0;\n  }\n  return Math.max(\n    0,\n    // Number of digits right of decimal point.\n    (match[1] ? match[1].length : 0) - // Adjust for scientific notation.\n    (match[2] ? +match[2] : 0)\n  );\n};\nfunction getDecimals(value) {\n  if (decimalPlaces(value) > 0 && value > 0) {\n    return parseFloat(`0.${value.toString().split(\".\")[1]}`);\n  }\n  return value;\n}\nfunction remap(value, fromMin, fromMax, toMin, toMax) {\n  return (value - fromMin) * (toMax - toMin) / (fromMax - fromMin) + toMin;\n}\nfunction closeToRangeEdge(value, range, threshold) {\n  return value < threshold ? -1 : value > range - threshold ? 1 : 0;\n}\nexport {\n  closeToRangeEdge as a,\n  clamp as c,\n  decimalPlaces as d,\n  getDecimals as g,\n  remap as r\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { ref } from \"lit-html/directives/ref.js\";\nimport { repeat } from \"lit-html/directives/repeat.js\";\nimport { keyed } from \"lit-html/directives/keyed.js\";\nimport Color from \"color\";\nimport { throttle } from \"lodash-es\";\nimport { html, nothing } from \"lit\";\nimport { LitElement, createEvent, safeClassMap, safeStyleMap } from \"@arcgis/lumina\";\nimport { i as isPrimaryPointerButton, h as focusFirstTabbable, g as getElementDir } from \"../../chunks/dom.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { i as isActivationKey } from \"../../chunks/key.js\";\nimport { c as componentFocusable } from \"../../chunks/component.js\";\nimport { c as clamp, r as remap, a as closeToRangeEdge } from \"../../chunks/math.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nimport { c as createObserver } from \"../../chunks/observers.js\";\nimport { D as DEFAULT_COLOR, C as CSSColorMode, g as getSliderWidth, e as getColorFieldDimensions, S as STATIC_DIMENSIONS, n as normalizeHex, h as hexify, p as parseMode, f as DEFAULT_STORAGE_KEY_PREFIX, j as alphaCompatible, k as normalizeColor, l as colorEqual, O as OPACITY_LIMITS, R as RGB_LIMITS, H as HSV_LIMITS, m as CSS, o as opacityToAlpha, t as toAlphaMode, q as toNonAlphaMode, s as HUE_LIMIT_CONSTRAINED, u as normalizeAlpha, c as alphaToOpacity, v as SCOPE_SIZE } from \"../../chunks/utils4.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst styles = css`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);inline-size:var(--calcite-internal-color-picker-min-width);min-inline-size:var(--calcite-internal-color-picker-min-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-color-picker-min-width: 200px;--calcite-color-picker-spacing: 8px}:host([scale=s]) .saved-colors{gap:.25rem;grid-template-columns:repeat(auto-fill,20px)}:host([scale=m]){--calcite-internal-color-picker-min-width: 240px;--calcite-color-picker-spacing: 12px}:host([scale=l]){--calcite-internal-color-picker-min-width: 304px;--calcite-color-picker-spacing: 16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill,32px)}:host([scale=l]) .control-section{display:flex;flex-direction:column;flex-wrap:wrap;align-items:baseline}:host([scale=l]) .color-hex-options{inline-size:100%;display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-color-foreground-1);display:flex;flex-direction:column;block-size:min-content;border:1px solid var(--calcite-color-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.color-field,.control-and-scope{-webkit-user-select:none;user-select:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));outline-offset:6px}.hex-and-channels-group{display:flex;inline-size:100%;flex-direction:column;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing);gap:var(--calcite-spacing-xxs)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex}.channel{flex-grow:1}.channel[data-channel-index=\"3\"]{margin-inline-start:-1px;min-inline-size:81px}:host([scale=s]) .channel[data-channel-index=\"3\"]{min-inline-size:68px}:host([scale=l]) .channel[data-channel-index=\"3\"]{min-inline-size:88px}.saved-colors{display:grid;gap:.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill,24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-color-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`;\nconst throttleFor60FpsInMs = 16;\nclass ColorPicker extends LitElement {\n  constructor() {\n    super();\n    this._color = DEFAULT_COLOR;\n    this.internalColorUpdateContext = null;\n    this.isActiveChannelInputEmpty = false;\n    this.mode = CSSColorMode.HEX;\n    this.resizeObserver = createObserver(\"resize\", (entries) => this.resizeCanvas(entries));\n    this.shiftKeyChannelAdjustment = 0;\n    this.upOrDownArrowKeyTracker = null;\n    this._valueWasSet = false;\n    this.messages = useT9n({ blocking: true });\n    this.captureColorFieldColor = (x, y, skipEqual = true) => {\n      const { width, height } = this.dynamicDimensions.colorField;\n      const saturation = Math.round(HSV_LIMITS.s / width * x);\n      const value = Math.round(HSV_LIMITS.v / height * (height - y));\n      this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(saturation).value(value), skipEqual);\n    };\n    this.drawColorControls = throttle((type = \"all\") => {\n      if ((type === \"all\" || type === \"color-field\") && this.colorFieldRenderingContext) {\n        this.drawColorField();\n      }\n      if ((type === \"all\" || type === \"hue-slider\") && this.hueSliderRenderingContext) {\n        this.drawHueSlider();\n      }\n      if (this.alphaChannel && (type === \"all\" || type === \"opacity-slider\") && this.opacitySliderRenderingContext) {\n        this.drawOpacitySlider();\n      }\n    }, throttleFor60FpsInMs);\n    this.globalPointerMoveHandler = (event) => {\n      const { activeCanvasInfo, el } = this;\n      if (!el.isConnected || !activeCanvasInfo) {\n        return;\n      }\n      const { context, bounds } = activeCanvasInfo;\n      let samplingX;\n      let samplingY;\n      const { clientX, clientY } = event;\n      if (context.canvas.matches(\":hover\")) {\n        samplingX = clientX - bounds.x;\n        samplingY = clientY - bounds.y;\n      } else {\n        if (clientX < bounds.x + bounds.width && clientX > bounds.x) {\n          samplingX = clientX - bounds.x;\n        } else if (clientX < bounds.x) {\n          samplingX = 0;\n        } else {\n          samplingX = bounds.width;\n        }\n        if (clientY < bounds.y + bounds.height && clientY > bounds.y) {\n          samplingY = clientY - bounds.y;\n        } else if (clientY < bounds.y) {\n          samplingY = 0;\n        } else {\n          samplingY = bounds.height;\n        }\n      }\n      if (context === this.colorFieldRenderingContext) {\n        this.captureColorFieldColor(samplingX, samplingY, false);\n      } else if (context === this.hueSliderRenderingContext) {\n        this.captureHueSliderColor(samplingX);\n      } else if (context === this.opacitySliderRenderingContext) {\n        this.captureOpacitySliderValue(samplingX);\n      }\n    };\n    this.globalPointerUpHandler = (event) => {\n      if (!isPrimaryPointerButton(event)) {\n        return;\n      }\n      const previouslyDragging = this.activeCanvasInfo;\n      this.activeCanvasInfo = null;\n      this.drawColorControls();\n      if (previouslyDragging) {\n        this.calciteColorPickerChange.emit();\n      }\n    };\n    this.resizeCanvas = throttle((entries) => {\n      if (!this.hasUpdated) {\n        return;\n      }\n      const [first] = entries;\n      const availableWidth = Math.floor(first.contentBoxSize[0].inlineSize);\n      if (this.dynamicDimensions.colorField.width === availableWidth) {\n        return;\n      }\n      this.updateDynamicDimensions(availableWidth);\n      this.updateCanvasSize();\n      this.drawColorControls();\n    }, throttleFor60FpsInMs);\n    this.updateDynamicDimensions = (width) => {\n      const sliderDims = {\n        width: getSliderWidth(width, this.staticDimensions, this.alphaChannel),\n        height: this.staticDimensions.slider.height\n      };\n      this.dynamicDimensions = {\n        colorField: getColorFieldDimensions(width),\n        slider: sliderDims\n      };\n    };\n    this.channelMode = \"rgb\";\n    this.channels = this.toChannels(DEFAULT_COLOR);\n    this.staticDimensions = STATIC_DIMENSIONS.m;\n    this.savedColors = [];\n    this.allowEmpty = false;\n    this.alphaChannel = false;\n    this.channelsDisabled = false;\n    this.clearable = false;\n    this.disabled = false;\n    this.format = \"auto\";\n    this.hexDisabled = false;\n    this.savedDisabled = false;\n    this.scale = \"m\";\n    this.calciteColorPickerChange = createEvent({ cancelable: false });\n    this.calciteColorPickerInput = createEvent({ cancelable: false });\n    this.listen(\"keydown\", this.handleChannelKeyUpOrDown, { capture: true });\n    this.listen(\"keyup\", this.handleChannelKeyUpOrDown, { capture: true });\n  }\n  static {\n    this.properties = { channelMode: [16, {}, { state: true }], channels: [16, {}, { state: true }], colorFieldScopeLeft: [16, {}, { state: true }], colorFieldScopeTop: [16, {}, { state: true }], staticDimensions: [16, {}, { state: true }], hueScopeLeft: [16, {}, { state: true }], opacityScopeLeft: [16, {}, { state: true }], savedColors: [16, {}, { state: true }], scopeOrientation: [16, {}, { state: true }], allowEmpty: [7, {}, { reflect: true, type: Boolean }], alphaChannel: [5, {}, { type: Boolean }], channelsDisabled: [5, {}, { type: Boolean }], clearable: [7, {}, { reflect: true, type: Boolean }], color: [0, {}, { attribute: false }], disabled: [7, {}, { reflect: true, type: Boolean }], format: [3, {}, { reflect: true }], hexDisabled: [5, {}, { type: Boolean }], messageOverrides: [0, {}, { attribute: false }], numberingSystem: [3, {}, { reflect: true }], savedDisabled: [7, {}, { reflect: true, type: Boolean }], scale: [3, {}, { reflect: true }], storageId: [3, {}, { reflect: true }], value: 1 };\n  }\n  static {\n    this.styles = styles;\n  }\n  get color() {\n    return this._color;\n  }\n  set color(color) {\n    const oldColor = this._color;\n    this._color = color;\n    this.handleColorChange(color, oldColor);\n  }\n  get value() {\n    return this._value;\n  }\n  set value(value) {\n    const oldValue = this._value;\n    this._value = value;\n    this.handleValueChange(value, oldValue);\n    this._valueWasSet = true;\n  }\n  async setFocus() {\n    await componentFocusable(this);\n    focusFirstTabbable(this.el);\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.observeResize();\n  }\n  async load() {\n    if (!this._valueWasSet) {\n      this._value ??= normalizeHex(hexify(DEFAULT_COLOR, this.alphaChannel));\n    }\n    this.handleAllowEmptyOrClearableChange();\n    const { isClearable, color, format, value } = this;\n    const willSetNoColor = isClearable && !value;\n    const parsedMode = parseMode(value);\n    const valueIsCompatible = willSetNoColor || format === \"auto\" && parsedMode || format === parsedMode;\n    const initialColor = willSetNoColor ? null : valueIsCompatible ? Color(value) : color;\n    if (!valueIsCompatible) {\n      this.showIncompatibleColorWarning(value, format);\n    }\n    this.setMode(format, false);\n    this.internalColorSet(initialColor, false, \"initial\");\n    this.updateStaticDimensions(this.scale);\n    this.updateDynamicDimensions(STATIC_DIMENSIONS[this.scale].minWidth);\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n    if (this.storageId && localStorage.getItem(storageKey)) {\n      this.savedColors = JSON.parse(localStorage.getItem(storageKey));\n    }\n  }\n  willUpdate(changes) {\n    if (changes.has(\"allowEmpty\") && (this.hasUpdated || this.allowEmpty !== false) || changes.has(\"clearable\") && (this.hasUpdated || this.clearable !== false)) {\n      this.handleAllowEmptyOrClearableChange();\n    }\n    if (changes.has(\"alphaChannel\") && (this.hasUpdated || this.alphaChannel !== false)) {\n      this.handleAlphaChannelChange(this.alphaChannel);\n    }\n    if (this.hasUpdated && (changes.has(\"alphaChannel\") && this.alphaChannel !== false || changes.has(\"staticDimensions\") && this.staticDimensions !== STATIC_DIMENSIONS.m)) {\n      this.handleAlphaChannelDimensionsChange();\n    }\n    if (changes.has(\"alphaChannel\") && (this.hasUpdated || this.alphaChannel !== false) || changes.has(\"format\") && (this.hasUpdated || this.format !== \"auto\")) {\n      this.handleFormatOrAlphaChannelChange();\n    }\n    if (changes.has(\"scale\") && (this.hasUpdated || this.scale !== \"m\")) {\n      this.handleScaleChange(this.scale);\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  loaded() {\n    this.handleAlphaChannelDimensionsChange();\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    window.removeEventListener(\"pointermove\", this.globalPointerMoveHandler);\n    window.removeEventListener(\"pointerup\", this.globalPointerUpHandler);\n    this.resizeObserver?.disconnect();\n  }\n  get baseColorFieldColor() {\n    return this.color || this.previousColor || DEFAULT_COLOR;\n  }\n  get effectiveSliderWidth() {\n    return this.dynamicDimensions.slider.width;\n  }\n  observeResize() {\n    this.resizeObserver?.observe(this.el);\n  }\n  handleAllowEmptyOrClearableChange() {\n    this.isClearable = this.clearable || this.allowEmpty;\n  }\n  handleAlphaChannelChange(alphaChannel) {\n    const { format } = this;\n    if (alphaChannel && format !== \"auto\" && !alphaCompatible(format)) {\n      console.warn(`ignoring alphaChannel as the current format (${format}) does not support alpha`);\n      this.alphaChannel = false;\n    }\n  }\n  handleAlphaChannelDimensionsChange() {\n    this.drawColorControls();\n  }\n  handleColorChange(color, oldColor) {\n    this.drawColorControls();\n    this.updateChannelsFromColor(color);\n    this.previousColor = oldColor;\n  }\n  handleFormatOrAlphaChannelChange() {\n    this.setMode(this.format);\n    this.internalColorSet(this.color, false, \"internal\");\n  }\n  handleScaleChange(scale = \"m\") {\n    this.updateStaticDimensions(scale);\n    this.updateCanvasSize();\n    this.drawColorControls();\n  }\n  handleValueChange(value, oldValue) {\n    const { isClearable, format } = this;\n    const checkMode = !isClearable || value;\n    let modeChanged = false;\n    if (checkMode) {\n      const nextMode = parseMode(value);\n      if (!nextMode || format !== \"auto\" && nextMode !== format) {\n        this.showIncompatibleColorWarning(value, format);\n        this._value = oldValue;\n        return;\n      }\n      modeChanged = this.mode !== nextMode;\n      this.setMode(nextMode, this.internalColorUpdateContext === null);\n    }\n    const dragging = this.activeCanvasInfo;\n    if (this.internalColorUpdateContext === \"initial\") {\n      return;\n    }\n    if (this.internalColorUpdateContext === \"user-interaction\") {\n      this.calciteColorPickerInput.emit();\n      if (!dragging) {\n        this.calciteColorPickerChange.emit();\n      }\n      return;\n    }\n    const color = isClearable && !value ? null : Color(value != null && typeof value === \"object\" && alphaCompatible(this.mode) ? normalizeColor(value) : value);\n    const colorChanged = !colorEqual(color, this.color);\n    if (modeChanged || colorChanged) {\n      this.internalColorSet(color, this.alphaChannel && !(this.mode.endsWith(\"a\") || this.mode.endsWith(\"a-css\")) || this.internalColorUpdateContext === \"internal\", \"internal\");\n    }\n  }\n  handleTabActivate(event) {\n    this.channelMode = event.currentTarget.getAttribute(\"data-color-mode\");\n    this.updateChannelsFromColor(this.color);\n  }\n  handleColorFieldScopeKeyDown(event) {\n    const { key } = event;\n    const arrowKeyToXYOffset = {\n      ArrowUp: { x: 0, y: -10 },\n      ArrowRight: { x: 10, y: 0 },\n      ArrowDown: { x: 0, y: 10 },\n      ArrowLeft: { x: -10, y: 0 }\n    };\n    if (arrowKeyToXYOffset[key]) {\n      event.preventDefault();\n      this.scopeOrientation = key === \"ArrowDown\" || key === \"ArrowUp\" ? \"vertical\" : \"horizontal\";\n      this.captureColorFieldColor(this.colorFieldScopeLeft + arrowKeyToXYOffset[key].x || 0, this.colorFieldScopeTop + arrowKeyToXYOffset[key].y || 0, false);\n    }\n  }\n  handleHueScopeKeyDown(event) {\n    const modifier = event.shiftKey ? 10 : 1;\n    const { key } = event;\n    const arrowKeyToXOffset = {\n      ArrowUp: 1,\n      ArrowRight: 1,\n      ArrowDown: -1,\n      ArrowLeft: -1\n    };\n    if (arrowKeyToXOffset[key]) {\n      event.preventDefault();\n      const delta = arrowKeyToXOffset[key] * modifier;\n      const hue = this.baseColorFieldColor.hue();\n      const color = this.baseColorFieldColor.hue(hue + delta);\n      this.internalColorSet(color, false);\n    }\n  }\n  handleHexInputChange(event) {\n    event.stopPropagation();\n    const { isClearable, color } = this;\n    const input = event.target;\n    const hex = input.value;\n    if (isClearable && !hex) {\n      this.internalColorSet(null);\n      return;\n    }\n    const normalizedHex = color && normalizeHex(hexify(color, alphaCompatible(this.mode)));\n    if (hex !== normalizedHex) {\n      this.internalColorSet(Color(hex));\n    }\n  }\n  handleSavedColorSelect(event) {\n    const swatch = event.currentTarget;\n    this.internalColorSet(Color(swatch.color));\n  }\n  handleChannelInput(event) {\n    const input = event.currentTarget;\n    const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n    const isAlphaChannel = channelIndex === 3;\n    const limit = isAlphaChannel ? OPACITY_LIMITS.max : this.channelMode === \"rgb\" ? RGB_LIMITS[Object.keys(RGB_LIMITS)[channelIndex]] : HSV_LIMITS[Object.keys(HSV_LIMITS)[channelIndex]];\n    let inputValue;\n    if (!input.value) {\n      inputValue = \"\";\n      this.isActiveChannelInputEmpty = true;\n      this.upOrDownArrowKeyTracker = null;\n    } else {\n      const value = Number(input.value);\n      const adjustedValue = value + this.shiftKeyChannelAdjustment;\n      const clamped = clamp(adjustedValue, 0, limit);\n      inputValue = clamped.toString();\n    }\n    input.value = inputValue;\n    if (inputValue !== \"\" && this.shiftKeyChannelAdjustment !== 0) {\n      this.handleChannelChange(event);\n    } else if (inputValue !== \"\") {\n      this.handleChannelChange(event);\n    }\n  }\n  handleChannelBlur(event) {\n    const input = event.currentTarget;\n    const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n    const channels = [...this.channels];\n    const restoreValueDueToEmptyInput = !input.value && !this.isClearable;\n    if (restoreValueDueToEmptyInput) {\n      input.value = channels[channelIndex]?.toString();\n    }\n  }\n  handleChannelFocus(event) {\n    const input = event.currentTarget;\n    input.selectText();\n  }\n  handleChannelKeyUpOrDown(event) {\n    this.shiftKeyChannelAdjustment = 0;\n    const { key } = event;\n    if (key !== \"ArrowUp\" && key !== \"ArrowDown\" || !event.composedPath().some((node) => node.classList?.contains(CSS.channel))) {\n      return;\n    }\n    const { shiftKey } = event;\n    event.preventDefault();\n    if (!this.color) {\n      this.internalColorSet(this.previousColor);\n      event.stopPropagation();\n      return;\n    }\n    const complementaryBump = 9;\n    this.shiftKeyChannelAdjustment = key === \"ArrowUp\" && shiftKey ? complementaryBump : key === \"ArrowDown\" && shiftKey ? -9 : 0;\n    if (key === \"ArrowUp\") {\n      this.upOrDownArrowKeyTracker = \"up\";\n    }\n    if (key === \"ArrowDown\") {\n      this.upOrDownArrowKeyTracker = \"down\";\n    }\n  }\n  getChannelInputLimit(channelIndex) {\n    return this.channelMode === \"rgb\" ? RGB_LIMITS[Object.keys(RGB_LIMITS)[channelIndex]] : HSV_LIMITS[Object.keys(HSV_LIMITS)[channelIndex]];\n  }\n  handleChannelChange(event) {\n    const input = event.currentTarget;\n    const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n    const channels = [...this.channels];\n    const shouldClearChannels = this.isClearable && !input.value;\n    if (shouldClearChannels) {\n      this.channels = [null, null, null, null];\n      this.internalColorSet(null);\n      return;\n    }\n    const isAlphaChannel = channelIndex === 3;\n    if (this.isActiveChannelInputEmpty && this.upOrDownArrowKeyTracker) {\n      input.value = this.upOrDownArrowKeyTracker === \"up\" ? (channels[channelIndex] + 1 <= this.getChannelInputLimit(channelIndex) ? channels[channelIndex] + 1 : this.getChannelInputLimit(channelIndex)).toString() : (channels[channelIndex] - 1 >= 0 ? channels[channelIndex] - 1 : 0).toString();\n      this.isActiveChannelInputEmpty = false;\n      this.upOrDownArrowKeyTracker = null;\n    }\n    const value = input.value ? Number(input.value) : channels[channelIndex];\n    channels[channelIndex] = isAlphaChannel ? opacityToAlpha(value) : value;\n    this.updateColorFromChannels(channels);\n  }\n  handleSavedColorKeyDown(event) {\n    if (isActivationKey(event.key)) {\n      event.preventDefault();\n      this.handleSavedColorSelect(event);\n    }\n  }\n  handleColorFieldPointerDown(event) {\n    this.handleCanvasControlPointerDown(event, this.colorFieldRenderingContext, this.captureColorFieldColor, this.colorFieldScopeNode);\n  }\n  focusScope(focusEl) {\n    requestAnimationFrame(() => {\n      focusEl.focus();\n    });\n  }\n  handleHueSliderPointerDown(event) {\n    this.handleCanvasControlPointerDown(event, this.hueSliderRenderingContext, this.captureHueSliderColor, this.hueScopeNode);\n  }\n  handleOpacitySliderPointerDown(event) {\n    this.handleCanvasControlPointerDown(event, this.opacitySliderRenderingContext, this.captureOpacitySliderValue, this.opacityScopeNode);\n  }\n  handleCanvasControlPointerDown(event, renderingContext, captureValue, scopeNode) {\n    if (!isPrimaryPointerButton(event)) {\n      return;\n    }\n    window.addEventListener(\"pointermove\", this.globalPointerMoveHandler);\n    window.addEventListener(\"pointerup\", this.globalPointerUpHandler, {\n      once: true\n    });\n    this.activeCanvasInfo = {\n      context: renderingContext,\n      bounds: renderingContext.canvas.getBoundingClientRect()\n    };\n    captureValue.call(this, event.offsetX, event.offsetY);\n    this.focusScope(scopeNode);\n  }\n  storeColorFieldScope(node) {\n    this.colorFieldScopeNode = node;\n  }\n  storeHueScope(node) {\n    this.hueScopeNode = node;\n  }\n  handleKeyDown(event) {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n    }\n  }\n  showIncompatibleColorWarning(value, format) {\n    console.warn(`ignoring color value (${value}) as it is not compatible with the current format (${format})`);\n  }\n  setMode(format, warn = true) {\n    const mode = format === \"auto\" ? this.mode : format;\n    this.mode = this.ensureCompatibleMode(mode, warn);\n  }\n  ensureCompatibleMode(mode, warn) {\n    const { alphaChannel } = this;\n    const isAlphaCompatible = alphaCompatible(mode);\n    if (alphaChannel && !isAlphaCompatible) {\n      const alphaMode = toAlphaMode(mode);\n      if (warn) {\n        console.warn(`setting format to (${alphaMode}) as the provided one (${mode}) does not support alpha`);\n      }\n      return alphaMode;\n    }\n    if (!alphaChannel && isAlphaCompatible) {\n      const nonAlphaMode = toNonAlphaMode(mode);\n      if (warn) {\n        console.warn(`setting format to (${nonAlphaMode}) as the provided one (${mode}) does not support alpha`);\n      }\n      return nonAlphaMode;\n    }\n    return mode;\n  }\n  captureHueSliderColor(x) {\n    const hue = HUE_LIMIT_CONSTRAINED / this.effectiveSliderWidth * x;\n    this.internalColorSet(this.baseColorFieldColor.hue(hue), false);\n  }\n  captureOpacitySliderValue(x) {\n    const alpha = opacityToAlpha(OPACITY_LIMITS.max / this.effectiveSliderWidth * x);\n    this.internalColorSet(this.baseColorFieldColor.alpha(alpha), false);\n  }\n  internalColorSet(color, skipEqual = true, context = \"user-interaction\") {\n    if (skipEqual && colorEqual(color, this.color)) {\n      return;\n    }\n    this.internalColorUpdateContext = context;\n    this.color = color;\n    this.value = this.toValue(color);\n    this.internalColorUpdateContext = null;\n  }\n  toValue(color, format = this.mode) {\n    if (!color) {\n      return null;\n    }\n    const hexMode = \"hex\";\n    if (format.includes(hexMode)) {\n      const hasAlpha = format === CSSColorMode.HEXA;\n      return normalizeHex(hexify(color.round(), hasAlpha), hasAlpha);\n    }\n    if (format.includes(\"-css\")) {\n      const value = color[format.replace(\"-css\", \"\").replace(\"a\", \"\")]().round().string();\n      const needToInjectAlpha = (format.endsWith(\"a\") || format.endsWith(\"a-css\")) && color.alpha() === 1;\n      if (needToInjectAlpha) {\n        const model = value.slice(0, 3);\n        const values = value.slice(4, -1);\n        return `${model}a(${values}, ${color.alpha()})`;\n      }\n      return value;\n    }\n    const colorObject = (\n      /* Color() does not support hsva, hsla nor rgba, so we use the non-alpha mode */\n      color[toNonAlphaMode(format)]().round().object()\n    );\n    if (format.endsWith(\"a\")) {\n      return normalizeAlpha(colorObject);\n    }\n    return colorObject;\n  }\n  getSliderCapSpacing() {\n    const { staticDimensions: { slider: { height }, thumb: { radius } } } = this;\n    return radius * 2 - height;\n  }\n  updateStaticDimensions(scale = \"m\") {\n    this.staticDimensions = STATIC_DIMENSIONS[scale];\n  }\n  deleteColor() {\n    const colorToDelete = hexify(this.color, this.alphaChannel);\n    const inStorage = this.savedColors.indexOf(colorToDelete) > -1;\n    if (!inStorage) {\n      return;\n    }\n    const savedColors = this.savedColors.filter((color) => color !== colorToDelete);\n    this.savedColors = savedColors;\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n    if (this.storageId) {\n      localStorage.setItem(storageKey, JSON.stringify(savedColors));\n    }\n  }\n  saveColor() {\n    const colorToSave = hexify(this.color, this.alphaChannel);\n    const alreadySaved = this.savedColors.indexOf(colorToSave) > -1;\n    if (alreadySaved) {\n      return;\n    }\n    const savedColors = [...this.savedColors, colorToSave];\n    this.savedColors = savedColors;\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n    if (this.storageId) {\n      localStorage.setItem(storageKey, JSON.stringify(savedColors));\n    }\n  }\n  drawColorField() {\n    const context = this.colorFieldRenderingContext;\n    const { width, height } = this.dynamicDimensions.colorField;\n    context.fillStyle = this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string();\n    context.fillRect(0, 0, width, height);\n    const whiteGradient = context.createLinearGradient(0, 0, width, 0);\n    whiteGradient.addColorStop(0, \"rgba(255,255,255,1)\");\n    whiteGradient.addColorStop(1, \"rgba(255,255,255,0)\");\n    context.fillStyle = whiteGradient;\n    context.fillRect(0, 0, width, height);\n    const blackGradient = context.createLinearGradient(0, 0, 0, height);\n    blackGradient.addColorStop(0, \"rgba(0,0,0,0)\");\n    blackGradient.addColorStop(1, \"rgba(0,0,0,1)\");\n    context.fillStyle = blackGradient;\n    context.fillRect(0, 0, width, height);\n    this.drawActiveColorFieldColor();\n  }\n  setCanvasContextSize(canvas, { height, width }) {\n    if (!canvas) {\n      return;\n    }\n    const devicePixelRatio = window.devicePixelRatio || 1;\n    canvas.width = width * devicePixelRatio;\n    canvas.height = height * devicePixelRatio;\n    canvas.style.height = `${height}px`;\n    canvas.style.width = `${width}px`;\n    const context = canvas.getContext(\"2d\");\n    context.scale(devicePixelRatio, devicePixelRatio);\n  }\n  initColorField(canvas) {\n    if (!canvas) {\n      return;\n    }\n    this.colorFieldRenderingContext = canvas.getContext(\"2d\");\n    this.updateCanvasSize(\"color-field\");\n    this.drawColorControls();\n  }\n  initHueSlider(canvas) {\n    if (!canvas) {\n      return;\n    }\n    this.hueSliderRenderingContext = canvas.getContext(\"2d\");\n    this.updateCanvasSize(\"hue-slider\");\n    this.drawHueSlider();\n  }\n  initOpacitySlider(canvas) {\n    if (!canvas) {\n      return;\n    }\n    this.opacitySliderRenderingContext = canvas.getContext(\"2d\");\n    this.updateCanvasSize(\"opacity-slider\");\n    this.drawOpacitySlider();\n  }\n  updateCanvasSize(context = \"all\") {\n    const { dynamicDimensions, staticDimensions } = this;\n    if (context === \"all\" || context === \"color-field\") {\n      this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas, dynamicDimensions.colorField);\n    }\n    const adjustedSliderDimensions = {\n      width: this.effectiveSliderWidth,\n      height: staticDimensions.slider.height + (staticDimensions.thumb.radius - dynamicDimensions.slider.height / 2) * 2\n    };\n    if (context === \"all\" || context === \"hue-slider\") {\n      this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas, adjustedSliderDimensions);\n    }\n    if (context === \"all\" || context === \"opacity-slider\") {\n      this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas, adjustedSliderDimensions);\n    }\n  }\n  drawActiveColorFieldColor() {\n    const { color } = this;\n    if (!color) {\n      return;\n    }\n    const hsvColor = color.hsv();\n    const { staticDimensions: { thumb: { radius } } } = this;\n    const { width, height } = this.dynamicDimensions.colorField;\n    const x = hsvColor.saturationv() / (HSV_LIMITS.s / width);\n    const y = height - hsvColor.value() / (HSV_LIMITS.v / height);\n    requestAnimationFrame(() => {\n      this.colorFieldScopeLeft = x;\n      this.colorFieldScopeTop = y;\n    });\n    this.drawThumb(this.colorFieldRenderingContext, radius, x, y, hsvColor, false);\n  }\n  drawThumb(context, radius, x, y, color, applyAlpha) {\n    const startAngle = 0;\n    const endAngle = 2 * Math.PI;\n    const outlineWidth = 1;\n    context.beginPath();\n    context.arc(x, y, radius, startAngle, endAngle);\n    context.fillStyle = \"#fff\";\n    context.fill();\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\n    context.lineWidth = outlineWidth;\n    context.stroke();\n    if (applyAlpha && color.alpha() < 1) {\n      const pattern = context.createPattern(this.getCheckeredBackgroundPattern(), \"repeat\");\n      context.beginPath();\n      context.arc(x, y, radius - 3, startAngle, endAngle);\n      context.fillStyle = pattern;\n      context.fill();\n    }\n    context.globalCompositeOperation = \"source-atop\";\n    context.beginPath();\n    context.arc(x, y, radius - 3, startAngle, endAngle);\n    const alpha = applyAlpha ? color.alpha() : 1;\n    context.fillStyle = color.rgb().alpha(alpha).string();\n    context.fill();\n    context.globalCompositeOperation = \"source-over\";\n  }\n  drawActiveHueSliderColor() {\n    const { color } = this;\n    if (!color) {\n      return;\n    }\n    const hsvColor = color.hsv().saturationv(100).value(100);\n    const { staticDimensions: { thumb: { radius } } } = this;\n    const width = this.effectiveSliderWidth;\n    const x = hsvColor.hue() / (HUE_LIMIT_CONSTRAINED / width);\n    const y = radius;\n    const sliderBoundX = this.getSliderBoundX(x, width, radius);\n    requestAnimationFrame(() => {\n      this.hueScopeLeft = sliderBoundX;\n    });\n    this.drawThumb(this.hueSliderRenderingContext, radius, sliderBoundX, y, hsvColor, false);\n  }\n  drawHueSlider() {\n    const context = this.hueSliderRenderingContext;\n    const { staticDimensions: { slider: { height }, thumb: { radius: thumbRadius } } } = this;\n    const x = 0;\n    const y = thumbRadius - height / 2;\n    const width = this.effectiveSliderWidth;\n    const gradient = context.createLinearGradient(0, 0, width, 0);\n    const hueSliderColorStopKeywords = [\n      \"red\",\n      \"yellow\",\n      \"lime\",\n      \"cyan\",\n      \"blue\",\n      \"magenta\",\n      \"#ff0004\"\n    ];\n    const offset = 1 / (hueSliderColorStopKeywords.length - 1);\n    let currentOffset = 0;\n    hueSliderColorStopKeywords.forEach((keyword) => {\n      gradient.addColorStop(currentOffset, Color(keyword).string());\n      currentOffset += offset;\n    });\n    context.clearRect(0, 0, width, height + this.getSliderCapSpacing() * 2);\n    this.drawSliderPath(context, height, width, x, y);\n    context.fillStyle = gradient;\n    context.fill();\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\n    context.lineWidth = 1;\n    context.stroke();\n    this.drawActiveHueSliderColor();\n  }\n  drawOpacitySlider() {\n    const context = this.opacitySliderRenderingContext;\n    const { baseColorFieldColor: previousColor, staticDimensions: { slider: { height }, thumb: { radius: thumbRadius } } } = this;\n    const x = 0;\n    const y = thumbRadius - height / 2;\n    const width = this.effectiveSliderWidth;\n    context.clearRect(0, 0, width, height + this.getSliderCapSpacing() * 2);\n    const gradient = context.createLinearGradient(0, y, width, 0);\n    const startColor = previousColor.rgb().alpha(0);\n    const midColor = previousColor.rgb().alpha(0.5);\n    const endColor = previousColor.rgb().alpha(1);\n    gradient.addColorStop(0, startColor.string());\n    gradient.addColorStop(0.5, midColor.string());\n    gradient.addColorStop(1, endColor.string());\n    this.drawSliderPath(context, height, width, x, y);\n    const pattern = context.createPattern(this.getCheckeredBackgroundPattern(), \"repeat\");\n    context.fillStyle = pattern;\n    context.fill();\n    context.fillStyle = gradient;\n    context.fill();\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\n    context.lineWidth = 1;\n    context.stroke();\n    this.drawActiveOpacitySliderColor();\n  }\n  drawSliderPath(context, height, width, x, y) {\n    const radius = height / 2 + 1;\n    context.beginPath();\n    context.moveTo(x + radius, y);\n    context.lineTo(x + width - radius, y);\n    context.quadraticCurveTo(x + width, y, x + width, y + radius);\n    context.lineTo(x + width, y + height - radius);\n    context.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n    context.lineTo(x + radius, y + height);\n    context.quadraticCurveTo(x, y + height, x, y + height - radius);\n    context.lineTo(x, y + radius);\n    context.quadraticCurveTo(x, y, x + radius, y);\n    context.closePath();\n  }\n  getCheckeredBackgroundPattern() {\n    if (this.checkerPattern) {\n      return this.checkerPattern;\n    }\n    const pattern = document.createElement(\"canvas\");\n    pattern.width = 10;\n    pattern.height = 10;\n    const patternContext = pattern.getContext(\"2d\");\n    patternContext.fillStyle = \"#ccc\";\n    patternContext.fillRect(0, 0, 10, 10);\n    patternContext.fillStyle = \"#fff\";\n    patternContext.fillRect(0, 0, 5, 5);\n    patternContext.fillRect(5, 5, 5, 5);\n    this.checkerPattern = pattern;\n    return pattern;\n  }\n  drawActiveOpacitySliderColor() {\n    const { color } = this;\n    if (!color) {\n      return;\n    }\n    const hsvColor = color;\n    const { staticDimensions: { thumb: { radius } } } = this;\n    const width = this.effectiveSliderWidth;\n    const x = alphaToOpacity(hsvColor.alpha()) / (OPACITY_LIMITS.max / width);\n    const y = radius;\n    const sliderBoundX = this.getSliderBoundX(x, width, radius);\n    requestAnimationFrame(() => {\n      this.opacityScopeLeft = sliderBoundX;\n    });\n    this.drawThumb(this.opacitySliderRenderingContext, radius, sliderBoundX, y, hsvColor, true);\n  }\n  getSliderBoundX(x, width, radius) {\n    const closeToEdge = closeToRangeEdge(x, width, radius);\n    return closeToEdge === 0 ? x : closeToEdge === -1 ? remap(x, 0, width, radius, radius * 2) : remap(x, 0, width, width - radius * 2, width - radius);\n  }\n  storeOpacityScope(node) {\n    this.opacityScopeNode = node;\n  }\n  handleOpacityScopeKeyDown(event) {\n    const modifier = event.shiftKey ? 10 : 1;\n    const { key } = event;\n    const arrowKeyToXOffset = {\n      ArrowUp: 0.01,\n      ArrowRight: 0.01,\n      ArrowDown: -0.01,\n      ArrowLeft: -0.01\n    };\n    if (arrowKeyToXOffset[key]) {\n      event.preventDefault();\n      const delta = arrowKeyToXOffset[key] * modifier;\n      const alpha = this.baseColorFieldColor.alpha();\n      const color = this.baseColorFieldColor.alpha(alpha + delta);\n      this.internalColorSet(color, false);\n    }\n  }\n  updateColorFromChannels(channels) {\n    this.internalColorSet(Color(channels, this.channelMode));\n  }\n  updateChannelsFromColor(color) {\n    this.channels = color ? this.toChannels(color) : [null, null, null, null];\n  }\n  toChannels(color) {\n    const { channelMode } = this;\n    const channels = color[channelMode]().array().map((value, index) => {\n      const isAlpha = index === 3;\n      return isAlpha ? value : Math.floor(value);\n    });\n    if (channels.length === 3) {\n      channels.push(1);\n    }\n    return channels;\n  }\n  getAdjustedScopePosition(left, top) {\n    return [left - SCOPE_SIZE / 2, top - SCOPE_SIZE / 2];\n  }\n  render() {\n    const { channelsDisabled, color, colorFieldScopeLeft, colorFieldScopeTop, staticDimensions: { thumb: { radius: thumbRadius } }, hexDisabled, hueScopeLeft, messages, alphaChannel, opacityScopeLeft, savedColors, savedDisabled, scale, scopeOrientation } = this;\n    const sliderWidth = this.effectiveSliderWidth;\n    const selectedColorInHex = color ? hexify(color, alphaChannel) : null;\n    const hueTop = thumbRadius;\n    const hueLeft = hueScopeLeft ?? sliderWidth * DEFAULT_COLOR.hue() / HSV_LIMITS.h;\n    const opacityTop = thumbRadius;\n    const opacityLeft = opacityScopeLeft ?? sliderWidth * alphaToOpacity(DEFAULT_COLOR.alpha()) / OPACITY_LIMITS.max;\n    const noColor = color === void 0;\n    const vertical = scopeOrientation === \"vertical\";\n    const [adjustedColorFieldScopeLeft, adjustedColorFieldScopeTop] = this.getAdjustedScopePosition(colorFieldScopeLeft, colorFieldScopeTop);\n    const [adjustedHueScopeLeft, adjustedHueScopeTop] = this.getAdjustedScopePosition(hueLeft, hueTop);\n    const [adjustedOpacityScopeLeft, adjustedOpacityScopeTop] = this.getAdjustedScopePosition(opacityLeft, opacityTop);\n    return InteractiveContainer({ disabled: this.disabled, children: html`<div class=${safeClassMap(CSS.container)}><div class=${safeClassMap(CSS.controlAndScope)}><canvas class=${safeClassMap(CSS.colorField)} @pointerdown=${this.handleColorFieldPointerDown} ${ref(this.initColorField)}></canvas><div .ariaLabel=${vertical ? messages.value : messages.saturation} .ariaValueMax=${vertical ? HSV_LIMITS.v : HSV_LIMITS.s} aria-valuemin=0 .ariaValueNow=${(vertical ? color?.saturationv() : color?.value()) || \"0\"} class=${safeClassMap({ [CSS.scope]: true, [CSS.colorFieldScope]: true })} @keydown=${this.handleColorFieldScopeKeyDown} role=slider style=${safeStyleMap({\n      top: `${adjustedColorFieldScopeTop || 0}px`,\n      left: `${adjustedColorFieldScopeLeft || 0}px`\n    })} tabindex=0 ${ref(this.storeColorFieldScope)}></div></div><div class=${safeClassMap(CSS.previewAndSliders)}><calcite-color-picker-swatch class=${safeClassMap(CSS.preview)} .color=${selectedColorInHex} .scale=${this.alphaChannel ? \"l\" : this.scale}></calcite-color-picker-swatch><div class=${safeClassMap(CSS.sliders)}><div class=${safeClassMap(CSS.controlAndScope)}><canvas class=${safeClassMap({ [CSS.slider]: true, [CSS.hueSlider]: true })} @pointerdown=${this.handleHueSliderPointerDown} ${ref(this.initHueSlider)}></canvas><div .ariaLabel=${messages.hue} .ariaValueMax=${HSV_LIMITS.h} aria-valuemin=0 .ariaValueNow=${color?.round().hue() || DEFAULT_COLOR.round().hue()} class=${safeClassMap({ [CSS.scope]: true, [CSS.hueScope]: true })} @keydown=${this.handleHueScopeKeyDown} role=slider style=${safeStyleMap({\n      top: `${adjustedHueScopeTop}px`,\n      left: `${adjustedHueScopeLeft}px`\n    })} tabindex=0 ${ref(this.storeHueScope)}></div></div>${alphaChannel ? html`<div class=${safeClassMap(CSS.controlAndScope)}><canvas class=${safeClassMap({ [CSS.slider]: true, [CSS.opacitySlider]: true })} @pointerdown=${this.handleOpacitySliderPointerDown} ${ref(this.initOpacitySlider)}></canvas><div .ariaLabel=${messages.opacity} .ariaValueMax=${OPACITY_LIMITS.max} .ariaValueMin=${OPACITY_LIMITS.min} .ariaValueNow=${(color || DEFAULT_COLOR).round().alpha()} class=${safeClassMap({ [CSS.scope]: true, [CSS.opacityScope]: true })} @keydown=${this.handleOpacityScopeKeyDown} role=slider style=${safeStyleMap({\n      top: `${adjustedOpacityScopeTop}px`,\n      left: `${adjustedOpacityScopeLeft}px`\n    })} tabindex=0 ${ref(this.storeOpacityScope)}></div></div>` : null}</div></div>${hexDisabled && channelsDisabled ? null : html`<div class=${safeClassMap({\n      [CSS.controlSection]: true,\n      [CSS.section]: true\n    })}><div class=${safeClassMap(CSS.hexAndChannelsGroup)}>${hexDisabled ? null : html`<div class=${safeClassMap(CSS.hexOptions)}><calcite-color-picker-hex-input .allowEmpty=${this.isClearable} .alphaChannel=${alphaChannel} class=${safeClassMap(CSS.control)} .messages=${messages} .numberingSystem=${this.numberingSystem} @calciteColorPickerHexInputChange=${this.handleHexInputChange} .scale=${scale} .value=${selectedColorInHex}></calcite-color-picker-hex-input></div>`}${channelsDisabled ? null : html`<calcite-tabs class=${safeClassMap({\n      [CSS.colorModeContainer]: true,\n      [CSS.splitSection]: true\n    })} .scale=${scale === \"l\" ? \"m\" : \"s\"}><calcite-tab-nav slot=title-group>${this.renderChannelsTabTitle(\"rgb\")}${this.renderChannelsTabTitle(\"hsv\")}</calcite-tab-nav>${this.renderChannelsTab(\"rgb\")}${this.renderChannelsTab(\"hsv\")}</calcite-tabs>`}</div></div>`}${savedDisabled ? null : html`<div class=${safeClassMap({ [CSS.savedColorsSection]: true, [CSS.section]: true })}><div class=${safeClassMap(CSS.header)}><label>${messages.saved}</label><div class=${safeClassMap(CSS.savedColorsButtons)}><calcite-button appearance=transparent class=${safeClassMap(CSS.deleteColor)} .disabled=${noColor} icon-start=minus kind=neutral .label=${messages.deleteColor} @click=${this.deleteColor} .scale=${scale} type=button></calcite-button><calcite-button appearance=transparent class=${safeClassMap(CSS.saveColor)} .disabled=${noColor} icon-start=plus kind=neutral .label=${messages.saveColor} @click=${this.saveColor} .scale=${scale} type=button></calcite-button></div></div>${savedColors.length > 0 ? html`<div class=${safeClassMap(CSS.savedColors)}>${repeat(savedColors, (color2) => color2, (color2) => html`<calcite-color-picker-swatch class=${safeClassMap(CSS.savedColor)} .color=${color2} @click=${this.handleSavedColorSelect} @keydown=${this.handleSavedColorKeyDown} .scale=${scale} tabindex=0></calcite-color-picker-swatch>`)}</div>` : null}</div>`}</div>` });\n  }\n  renderChannelsTabTitle(channelMode) {\n    const { channelMode: activeChannelMode, messages } = this;\n    const selected = channelMode === activeChannelMode;\n    const label = channelMode === \"rgb\" ? messages.rgb : messages.hsv;\n    return keyed(channelMode, html`<calcite-tab-title class=${safeClassMap(CSS.colorMode)} data-color-mode=${channelMode ?? nothing} @calciteTabsActivate=${this.handleTabActivate} .selected=${selected}>${label}</calcite-tab-title>`);\n  }\n  renderChannelsTab(channelMode) {\n    const { isClearable, channelMode: activeChannelMode, channels, messages, alphaChannel } = this;\n    const selected = channelMode === activeChannelMode;\n    const isRgb = channelMode === \"rgb\";\n    const channelAriaLabels = isRgb ? [messages.red, messages.green, messages.blue] : [messages.hue, messages.saturation, messages.value];\n    const direction = getElementDir(this.el);\n    const channelsToRender = alphaChannel ? channels : channels.slice(0, 3);\n    return keyed(channelMode, html`<calcite-tab class=${safeClassMap(CSS.control)} .selected=${selected}><div class=${safeClassMap(CSS.channels)} dir=ltr>${channelsToRender.map((channelValue, index) => {\n      const isAlphaChannel = index === 3;\n      if (isAlphaChannel) {\n        channelValue = isClearable && !channelValue ? channelValue : alphaToOpacity(channelValue);\n      }\n      return this.renderChannel(channelValue, index, channelAriaLabels[index], direction, isAlphaChannel ? \"%\" : \"\");\n    })}</div></calcite-tab>`);\n  }\n  renderChannel(value, index, ariaLabel, direction, suffix) {\n    return keyed(index, html`<calcite-input-number class=${safeClassMap(CSS.channel)} data-channel-index=${index ?? nothing} dir=${direction ?? nothing} .label=${ariaLabel} lang=${this.messages._lang ?? nothing} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.handleKeyDown} @calciteInputNumberChange=${this.handleChannelChange} @calciteInputNumberInput=${this.handleChannelInput} @calciteInternalInputNumberBlur=${this.handleChannelBlur} @calciteInternalInputNumberFocus=${this.handleChannelFocus} .scale=${this.scale === \"l\" ? \"m\" : \"s\"} style=${safeStyleMap({\n      marginLeft: index > 0 && !(this.scale === \"s\" && this.alphaChannel && index === 3) ? \"-1px\" : \"\"\n    })} .suffixText=${suffix} .value=${value?.toString()}></calcite-input-number>`);\n  }\n}\ncustomElement(\"calcite-color-picker\", ColorPicker);\nexport {\n  ColorPicker\n};\n"],"names":["FUNC_ERROR_TEXT","throttle","func","wait","options","leading","trailing","isObject","debounce","colorNames","reverseNames","name","cs","string","prefix","value","model","abbr","hex","rgba","per","keyword","rgb","match","i","hexAlpha","i2","clamp","hsl","alpha","h","s","l","a","hwb","w","b","hexDouble","r","g","hsla","hwba","number_","min","max","string_","cssKeywords","reverseKeywords","key","convert","LAB_FT","srgbNonlinearTransform","c","cc","srgbNonlinearTransformInv","channels","labels","delta","rdif","gdif","bdif","v","diff","diffc","lp","mp","sp","aa","bb","k","m","y","comparativeDistance","x","reversed","currentClosestDistance","currentClosestKeyword","distance","z","xyz","t3","t2","t1","smin","lmin","sv","hsv","hi","f","p","q","t","vmin","sl","wh","bl","ratio","n","cmyk","oklab","ll","oklch","lab","y2","x2","z2","lch","hr","args","saturation","ansi","color","mult","rem","colorString","char","integer","chroma","hue","grayscale","hcg","pure","mg","apple","gray","buildGraph","graph","models","conversions","length","deriveBFS","fromModel","queue","current","adjacents","adjacent","node","link","from","to","wrapConversion","toModel","path","fn","cur","route","conversion","wrapRaw","wrappedFn","arg0","wrapRounded","result","routes","routeModels","skippedModels","hashedModelKeys","limiters","Color","object","newArray","zeroArray","keys","hashedKeys","limit","places","self","arguments_","roundToPlace","getset","maxfn","rgbArray","alphaHex","lum","element","chan","color2","lum1","lum2","contrastRatio","degrees","mixinColor","weight","color1","w1","w2","assertArray","roundTo","number","channel","modifier","array","CSS","DEFAULT_COLOR","DEFAULT_STORAGE_KEY_PREFIX","RGB_LIMITS","HSV_LIMITS","HUE_LIMIT_CONSTRAINED","OPACITY_LIMITS","STATIC_DIMENSIONS","calciteSpacingFixedSm","calciteSpacingFixedMd","calciteSpacingFixedXl","SCOPE_SIZE","hexChar","shorthandHex","longhandHex","shorthandHexWithAlpha","longhandHexWithAlpha","alphaToOpacity","opacityToAlpha","opacity","isValidHex","hasAlpha","isShorthandHex","isLonghandHex","evaluateHex","pattern","normalizeHex","convertFromHexToHexa","rgbToHex","hexToRGB","isShorthand","hexify","rChars","numToHex","gChars","bChars","alphaChars","num","normalizeAlpha","colorObject","normalized","normalizeColor","alphaColorObject","first","second","third","fourth","enumify","CSSColorMode","ObjectColorMode","parseMode","colorValue","hasChannels","colorEqual","value1","value2","alphaCompatible","mode","toAlphaMode","toNonAlphaMode","borderWidthInPx","inlineSizeBorderTotalWidth","getSliderWidth","availableWidth","activeStaticDimensions","previewWidth","effectiveWidth","inlineSpaceAroundElements","getColorFieldDimensions","COLORS","checkerSquareSize","CHECKER_DIMENSIONS","styles","css","ColorPickerSwatch","LitElement","changes","isEmpty","classes","html","safeClassMap","active","el","internalColor","borderRadius","borderColor","getModeName","commonSwatchProps","svg","hexa","clipPath","fill","height","rx","stroke","strokeWidth","width","keyed","nothing","customElement","IDS","SLOTS","InputText","createRef","useWatchAttributes","event","useT9n","createEvent","stringOrBoolean","oldValue","componentFocusable","connectLabel","connectForm","internalHiddenInputInputEvent","setRequestedIcon","updateHostInteraction","disconnectLabel","disconnectForm","newValue","previousValue","submitForm","nativeEvent","composedPath","input","syncHiddenFormInput","newInputValue","committing","origin","dir","getElementDir","loader","inputClearButton","getIconScale","iconEl","prefixText","suffixText","childEl","getLabelText","live","ref","InteractiveContainer","CSS_UTILITY","HiddenFormInputSlot","Validation","ColorPickerHexInput","focusElement","allowEmpty","alphaChannel","inputValue","willClearValue","isLonghand","hexInputValue","altKey","ctrlKey","metaKey","shiftKey","hexInputNode","isNudgeKey","direction","bump","withModifiers","singleChar","validHexChar","emit","currentColor","nextColor","normalizedLonghand","changed","amount","context","nudgedChannels","rgbChannels","nudgedAlpha","hexLabel","messages","scale","opacityInputValue","inputScale","Tabs","slotChangeGetAssignedElements","tabIds","titleIds","tabs","getSlotAssignedElements","tabDomIndexes","titleDomIndexes","ids","indexInDOM","registryIndex","position","nav","tab","title","calciteSize24","calciteSize32","calciteSize44","ICON","TabNav","createObserver","storageKey","storedTab","parentTabsEl","filterDirectChildren","tabTitle","activatedTabTitle","currentSelectedTabTitle","behavior","isLTR","tabTitleContainer","containerBounds","tabTitleBounds","scrollPosition","overflowingStartTabTitle","overflowingEndTabTitle","left","closedTabTitleEl","deltaX","deltaY","scrollBy","scrollByX","tabTitles","child","visibleTabTitlesIndices","isOverflowStart","isOverflowEnd","visibleWidth","totalContentWidth","effectiveDir","closestToEdge","containerEndX","tabTitleEndX","scrollerButtonWidth","offsetAdjustment","scrollTo","destination","focused","focusElementInGroup","id","tabTitleIndices","index","selectionModified","totalVisibleTabTitles","closedTabTitleIndex","nextTabTitleIndex","overflowDirection","bordered","hasOverflowingStartTabTitle","hasOverflowingEndTabTitle","isEnd","XButton","disabled","focusable","label","onClick","ref$1","round","scale2","TabTitle","guid","userTriggered","payload","nodeListToArray","closed","iconStartEl","iconEndEl","setAttribute","toAriaBoolean","el2","closable","Tab","remap","fromMin","fromMax","toMin","toMax","closeToRangeEdge","range","threshold","throttleFor60FpsInMs","ColorPicker","entries","skipEqual","type","activeCanvasInfo","bounds","samplingX","samplingY","clientX","clientY","isPrimaryPointerButton","previouslyDragging","sliderDims","oldColor","focusFirstTabbable","isClearable","format","willSetNoColor","parsedMode","valueIsCompatible","initialColor","checkMode","modeChanged","nextMode","dragging","colorChanged","arrowKeyToXYOffset","arrowKeyToXOffset","normalizedHex","swatch","channelIndex","adjustedValue","complementaryBump","isAlphaChannel","isActivationKey","focusEl","renderingContext","captureValue","scopeNode","warn","isAlphaCompatible","alphaMode","nonAlphaMode","values","radius","colorToDelete","savedColors","colorToSave","whiteGradient","blackGradient","canvas","devicePixelRatio","dynamicDimensions","staticDimensions","adjustedSliderDimensions","hsvColor","applyAlpha","endAngle","outlineWidth","sliderBoundX","thumbRadius","gradient","hueSliderColorStopKeywords","offset","currentOffset","previousColor","startColor","midColor","endColor","patternContext","closeToEdge","channelMode","top","channelsDisabled","colorFieldScopeLeft","colorFieldScopeTop","hexDisabled","hueScopeLeft","opacityScopeLeft","savedDisabled","scopeOrientation","sliderWidth","selectedColorInHex","hueTop","hueLeft","opacityTop","opacityLeft","noColor","vertical","adjustedColorFieldScopeLeft","adjustedColorFieldScopeTop","adjustedHueScopeLeft","adjustedHueScopeTop","adjustedOpacityScopeLeft","adjustedOpacityScopeTop","safeStyleMap","repeat","activeChannelMode","selected","channelAriaLabels","channelsToRender","channelValue","ariaLabel","suffix"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAIA,IAAIA,KAAkB;AA8CtB,SAASC,GAASC,GAAMC,GAAMC,GAAS;AACrC,MAAIC,IAAU,IACVC,IAAW;AAEf,MAAI,OAAOJ,KAAQ;AACjB,UAAM,IAAI,UAAUF,EAAe;AAErC,SAAIO,GAASH,CAAO,MAClBC,IAAU,aAAaD,IAAU,CAAC,CAACA,EAAQ,UAAUC,GACrDC,IAAW,cAAcF,IAAU,CAAC,CAACA,EAAQ,WAAWE,IAEnDE,GAASN,GAAMC,GAAM;AAAA,IAC1B,SAAWE;AAAA,IACX,SAAWF;AAAA,IACX,UAAYG;AAAA,EAChB,CAAG;AACH;AClEA,MAAAG,IAAe;AAAA,EACd,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,cAAc,CAAC,KAAK,KAAK,GAAG;AAAA,EAC5B,MAAM,CAAC,GAAG,KAAK,GAAG;AAAA,EAClB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,QAAQ,CAAC,KAAK,KAAK,GAAG;AAAA,EACtB,OAAO,CAAC,GAAG,GAAG,CAAC;AAAA,EACf,gBAAgB,CAAC,KAAK,KAAK,GAAG;AAAA,EAC9B,MAAM,CAAC,GAAG,GAAG,GAAG;AAAA,EAChB,YAAY,CAAC,KAAK,IAAI,GAAG;AAAA,EACzB,OAAO,CAAC,KAAK,IAAI,EAAE;AAAA,EACnB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,IAAI,KAAK,GAAG;AAAA,EACxB,YAAY,CAAC,KAAK,KAAK,CAAC;AAAA,EACxB,WAAW,CAAC,KAAK,KAAK,EAAE;AAAA,EACxB,OAAO,CAAC,KAAK,KAAK,EAAE;AAAA,EACpB,gBAAgB,CAAC,KAAK,KAAK,GAAG;AAAA,EAC9B,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,SAAS,CAAC,KAAK,IAAI,EAAE;AAAA,EACrB,MAAM,CAAC,GAAG,KAAK,GAAG;AAAA,EAClB,UAAU,CAAC,GAAG,GAAG,GAAG;AAAA,EACpB,UAAU,CAAC,GAAG,KAAK,GAAG;AAAA,EACtB,eAAe,CAAC,KAAK,KAAK,EAAE;AAAA,EAC5B,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,WAAW,CAAC,GAAG,KAAK,CAAC;AAAA,EACrB,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,aAAa,CAAC,KAAK,GAAG,GAAG;AAAA,EACzB,gBAAgB,CAAC,IAAI,KAAK,EAAE;AAAA,EAC5B,YAAY,CAAC,KAAK,KAAK,CAAC;AAAA,EACxB,YAAY,CAAC,KAAK,IAAI,GAAG;AAAA,EACzB,SAAS,CAAC,KAAK,GAAG,CAAC;AAAA,EACnB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,cAAc,CAAC,KAAK,KAAK,GAAG;AAAA,EAC5B,eAAe,CAAC,IAAI,IAAI,GAAG;AAAA,EAC3B,eAAe,CAAC,IAAI,IAAI,EAAE;AAAA,EAC1B,eAAe,CAAC,IAAI,IAAI,EAAE;AAAA,EAC1B,eAAe,CAAC,GAAG,KAAK,GAAG;AAAA,EAC3B,YAAY,CAAC,KAAK,GAAG,GAAG;AAAA,EACxB,UAAU,CAAC,KAAK,IAAI,GAAG;AAAA,EACvB,aAAa,CAAC,GAAG,KAAK,GAAG;AAAA,EACzB,SAAS,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB,SAAS,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB,YAAY,CAAC,IAAI,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,KAAK,IAAI,EAAE;AAAA,EACvB,aAAa,CAAC,KAAK,KAAK,GAAG;AAAA,EAC3B,aAAa,CAAC,IAAI,KAAK,EAAE;AAAA,EACzB,SAAS,CAAC,KAAK,GAAG,GAAG;AAAA,EACrB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,MAAM,CAAC,KAAK,KAAK,CAAC;AAAA,EAClB,WAAW,CAAC,KAAK,KAAK,EAAE;AAAA,EACxB,MAAM,CAAC,KAAK,KAAK,GAAG;AAAA,EACpB,OAAO,CAAC,GAAG,KAAK,CAAC;AAAA,EACjB,aAAa,CAAC,KAAK,KAAK,EAAE;AAAA,EAC1B,MAAM,CAAC,KAAK,KAAK,GAAG;AAAA,EACpB,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,SAAS,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB,WAAW,CAAC,KAAK,IAAI,EAAE;AAAA,EACvB,QAAQ,CAAC,IAAI,GAAG,GAAG;AAAA,EACnB,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,eAAe,CAAC,KAAK,KAAK,GAAG;AAAA,EAC7B,WAAW,CAAC,KAAK,KAAK,CAAC;AAAA,EACvB,cAAc,CAAC,KAAK,KAAK,GAAG;AAAA,EAC5B,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,sBAAsB,CAAC,KAAK,KAAK,GAAG;AAAA,EACpC,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,aAAa,CAAC,KAAK,KAAK,GAAG;AAAA,EAC3B,eAAe,CAAC,IAAI,KAAK,GAAG;AAAA,EAC5B,cAAc,CAAC,KAAK,KAAK,GAAG;AAAA,EAC5B,gBAAgB,CAAC,KAAK,KAAK,GAAG;AAAA,EAC9B,gBAAgB,CAAC,KAAK,KAAK,GAAG;AAAA,EAC9B,gBAAgB,CAAC,KAAK,KAAK,GAAG;AAAA,EAC9B,aAAa,CAAC,KAAK,KAAK,GAAG;AAAA,EAC3B,MAAM,CAAC,GAAG,KAAK,CAAC;AAAA,EAChB,WAAW,CAAC,IAAI,KAAK,EAAE;AAAA,EACvB,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,SAAS,CAAC,KAAK,GAAG,GAAG;AAAA,EACrB,QAAQ,CAAC,KAAK,GAAG,CAAC;AAAA,EAClB,kBAAkB,CAAC,KAAK,KAAK,GAAG;AAAA,EAChC,YAAY,CAAC,GAAG,GAAG,GAAG;AAAA,EACtB,cAAc,CAAC,KAAK,IAAI,GAAG;AAAA,EAC3B,cAAc,CAAC,KAAK,KAAK,GAAG;AAAA,EAC5B,gBAAgB,CAAC,IAAI,KAAK,GAAG;AAAA,EAC7B,iBAAiB,CAAC,KAAK,KAAK,GAAG;AAAA,EAC/B,mBAAmB,CAAC,GAAG,KAAK,GAAG;AAAA,EAC/B,iBAAiB,CAAC,IAAI,KAAK,GAAG;AAAA,EAC9B,iBAAiB,CAAC,KAAK,IAAI,GAAG;AAAA,EAC9B,cAAc,CAAC,IAAI,IAAI,GAAG;AAAA,EAC1B,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,aAAa,CAAC,KAAK,KAAK,GAAG;AAAA,EAC3B,MAAM,CAAC,GAAG,GAAG,GAAG;AAAA,EAChB,SAAS,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB,OAAO,CAAC,KAAK,KAAK,CAAC;AAAA,EACnB,WAAW,CAAC,KAAK,KAAK,EAAE;AAAA,EACxB,QAAQ,CAAC,KAAK,KAAK,CAAC;AAAA,EACpB,WAAW,CAAC,KAAK,IAAI,CAAC;AAAA,EACtB,QAAQ,CAAC,KAAK,KAAK,GAAG;AAAA,EACtB,eAAe,CAAC,KAAK,KAAK,GAAG;AAAA,EAC7B,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,eAAe,CAAC,KAAK,KAAK,GAAG;AAAA,EAC7B,eAAe,CAAC,KAAK,KAAK,GAAG;AAAA,EAC7B,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,MAAM,CAAC,KAAK,KAAK,EAAE;AAAA,EACnB,MAAM,CAAC,KAAK,KAAK,GAAG;AAAA,EACpB,MAAM,CAAC,KAAK,KAAK,GAAG;AAAA,EACpB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,QAAQ,CAAC,KAAK,GAAG,GAAG;AAAA,EACpB,eAAe,CAAC,KAAK,IAAI,GAAG;AAAA,EAC5B,KAAK,CAAC,KAAK,GAAG,CAAC;AAAA,EACf,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,IAAI,KAAK,GAAG;AAAA,EACxB,aAAa,CAAC,KAAK,IAAI,EAAE;AAAA,EACzB,QAAQ,CAAC,KAAK,KAAK,GAAG;AAAA,EACtB,YAAY,CAAC,KAAK,KAAK,EAAE;AAAA,EACzB,UAAU,CAAC,IAAI,KAAK,EAAE;AAAA,EACtB,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,QAAQ,CAAC,KAAK,IAAI,EAAE;AAAA,EACpB,QAAQ,CAAC,KAAK,KAAK,GAAG;AAAA,EACtB,SAAS,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB,WAAW,CAAC,KAAK,IAAI,GAAG;AAAA,EACxB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,MAAM,CAAC,KAAK,KAAK,GAAG;AAAA,EACpB,aAAa,CAAC,GAAG,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,IAAI,KAAK,GAAG;AAAA,EACxB,KAAK,CAAC,KAAK,KAAK,GAAG;AAAA,EACnB,MAAM,CAAC,GAAG,KAAK,GAAG;AAAA,EAClB,SAAS,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB,QAAQ,CAAC,KAAK,IAAI,EAAE;AAAA,EACpB,WAAW,CAAC,IAAI,KAAK,GAAG;AAAA,EACxB,QAAQ,CAAC,KAAK,KAAK,GAAG;AAAA,EACtB,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,QAAQ,CAAC,KAAK,KAAK,CAAC;AAAA,EACpB,aAAa,CAAC,KAAK,KAAK,EAAE;AAC3B,GCnJMC,KAAe,uBAAO,OAAO,IAAI;AAGvC,WAAWC,KAAQF;AAClB,EAAI,OAAO,OAAOA,GAAYE,CAAI,MACjCD,GAAaD,EAAWE,CAAI,CAAC,IAAIA;AAInC,MAAMC,IAAK;AAAA,EACV,IAAI,CAAA;AAAA,EACJ,KAAK,CAAA;AACN;AAEAA,EAAG,MAAM,SAAUC,GAAQ;AAC1B,QAAMC,IAASD,EAAO,MAAM,GAAG,CAAC,EAAE,YAAW;AAC7C,MAAIE,GACAC;AACJ,UAAQF,GAAM;AAAA,IACb,KAAK,OAAO;AACX,MAAAC,IAAQH,EAAG,IAAI,IAAIC,CAAM,GACzBG,IAAQ;AACR;AAAA,IACD;AAAA,IAEA,KAAK,OAAO;AACX,MAAAD,IAAQH,EAAG,IAAI,IAAIC,CAAM,GACzBG,IAAQ;AACR;AAAA,IACD;AAAA,IAEA,SAAS;AACR,MAAAD,IAAQH,EAAG,IAAI,IAAIC,CAAM,GACzBG,IAAQ;AACR;AAAA,IACD;AAAA,EACF;AAEC,SAAKD,IAIE,EAAC,OAAAC,GAAO,OAAAD,EAAK,IAHZ;AAIT;AAEAH,EAAG,IAAI,MAAM,SAAUC,GAAQ;AAC9B,MAAI,CAACA;AACJ,WAAO;AAGR,QAAMI,IAAO,sBACPC,IAAM,iCACNC,IAAO,8HACPC,IAAM,gHACNC,IAAU;AAEhB,MAAIC,IAAM,CAAC,GAAG,GAAG,GAAG,CAAC,GACjBC,GACAC,GACAC;AAEJ,MAAIF,IAAQV,EAAO,MAAMK,CAAG,GAAG;AAI9B,SAHAO,IAAWF,EAAM,CAAC,GAClBA,IAAQA,EAAM,CAAC,GAEVC,IAAI,GAAGA,IAAI,GAAGA,KAAK;AAEvB,YAAME,IAAKF,IAAI;AACf,MAAAF,EAAIE,CAAC,IAAI,OAAO,SAASD,EAAM,MAAMG,GAAIA,IAAK,CAAC,GAAG,EAAE;AAAA,IACrD;AAEA,IAAID,MACHH,EAAI,CAAC,IAAI,OAAO,SAASG,GAAU,EAAE,IAAI;AAAA,EAE3C,WAAWF,IAAQV,EAAO,MAAMI,CAAI,GAAG;AAItC,SAHAM,IAAQA,EAAM,CAAC,GACfE,IAAWF,EAAM,CAAC,GAEbC,IAAI,GAAGA,IAAI,GAAGA;AAClB,MAAAF,EAAIE,CAAC,IAAI,OAAO,SAASD,EAAMC,CAAC,IAAID,EAAMC,CAAC,GAAG,EAAE;AAGjD,IAAIC,MACHH,EAAI,CAAC,IAAI,OAAO,SAASG,IAAWA,GAAU,EAAE,IAAI;AAAA,EAEtD,WAAWF,IAAQV,EAAO,MAAMM,CAAI,GAAG;AACtC,SAAKK,IAAI,GAAGA,IAAI,GAAGA;AAClB,MAAAF,EAAIE,CAAC,IAAI,OAAO,SAASD,EAAMC,IAAI,CAAC,GAAG,EAAE;AAG1C,IAAID,EAAM,CAAC,MACVD,EAAI,CAAC,IAAIC,EAAM,CAAC,IAAI,OAAO,WAAWA,EAAM,CAAC,CAAC,IAAI,OAAO,OAAO,WAAWA,EAAM,CAAC,CAAC;AAAA,EAErF,WAAWA,IAAQV,EAAO,MAAMO,CAAG,GAAG;AACrC,SAAKI,IAAI,GAAGA,IAAI,GAAGA;AAClB,MAAAF,EAAIE,CAAC,IAAI,KAAK,MAAM,OAAO,WAAWD,EAAMC,IAAI,CAAC,CAAC,IAAI,IAAI;AAG3D,IAAID,EAAM,CAAC,MACVD,EAAI,CAAC,IAAIC,EAAM,CAAC,IAAI,OAAO,WAAWA,EAAM,CAAC,CAAC,IAAI,OAAO,OAAO,WAAWA,EAAM,CAAC,CAAC;AAAA,EAErF,MAAO,SAAIA,IAAQV,EAAO,MAAMQ,CAAO,KAClCE,EAAM,CAAC,MAAM,gBACT,CAAC,GAAG,GAAG,GAAG,CAAC,IAGd,OAAO,OAAOd,GAAYc,EAAM,CAAC,CAAC,KAIvCD,IAAMb,EAAWc,EAAM,CAAC,CAAC,GACzBD,EAAI,CAAC,IAAI,GAEFA,KANC,OAQD;AAGR,OAAKE,IAAI,GAAGA,IAAI,GAAGA;AAClB,IAAAF,EAAIE,CAAC,IAAIG,EAAML,EAAIE,CAAC,GAAG,GAAG,GAAG;AAG9B,SAAAF,EAAI,CAAC,IAAIK,EAAML,EAAI,CAAC,GAAG,GAAG,CAAC,GAEpBA;AACR;AAEAV,EAAG,IAAI,MAAM,SAAUC,GAAQ;AAC9B,MAAI,CAACA;AACJ,WAAO;AAGR,QAAMe,IAAM,6KACNL,IAAQV,EAAO,MAAMe,CAAG;AAE9B,MAAIL,GAAO;AACV,UAAMM,IAAQ,OAAO,WAAWN,EAAM,CAAC,CAAC,GAClCO,KAAM,OAAO,WAAWP,EAAM,CAAC,CAAC,IAAI,MAAO,OAAO,KAClDQ,IAAIJ,EAAM,OAAO,WAAWJ,EAAM,CAAC,CAAC,GAAG,GAAG,GAAG,GAC7CS,IAAIL,EAAM,OAAO,WAAWJ,EAAM,CAAC,CAAC,GAAG,GAAG,GAAG,GAC7CU,IAAIN,EAAM,OAAO,MAAME,CAAK,IAAI,IAAIA,GAAO,GAAG,CAAC;AAErD,WAAO,CAACC,GAAGC,GAAGC,GAAGC,CAAC;AAAA,EACnB;AAEA,SAAO;AACR;AAEArB,EAAG,IAAI,MAAM,SAAUC,GAAQ;AAC9B,MAAI,CAACA;AACJ,WAAO;AAGR,QAAMqB,IAAM,qKACNX,IAAQV,EAAO,MAAMqB,CAAG;AAE9B,MAAIX,GAAO;AACV,UAAMM,IAAQ,OAAO,WAAWN,EAAM,CAAC,CAAC,GAClCO,KAAM,OAAO,WAAWP,EAAM,CAAC,CAAC,IAAI,MAAO,OAAO,KAClDY,IAAIR,EAAM,OAAO,WAAWJ,EAAM,CAAC,CAAC,GAAG,GAAG,GAAG,GAC7Ca,IAAIT,EAAM,OAAO,WAAWJ,EAAM,CAAC,CAAC,GAAG,GAAG,GAAG,GAC7CU,IAAIN,EAAM,OAAO,MAAME,CAAK,IAAI,IAAIA,GAAO,GAAG,CAAC;AACrD,WAAO,CAACC,GAAGK,GAAGC,GAAGH,CAAC;AAAA,EACnB;AAEA,SAAO;AACR;AAEArB,EAAG,GAAG,MAAM,YAAaO,GAAM;AAC9B,SACC,MACAkB,GAAUlB,EAAK,CAAC,CAAC,IACjBkB,GAAUlB,EAAK,CAAC,CAAC,IACjBkB,GAAUlB,EAAK,CAAC,CAAC,KAChBA,EAAK,CAAC,IAAI,IACPkB,GAAU,KAAK,MAAMlB,EAAK,CAAC,IAAI,GAAG,CAAC,IACpC;AAEL;AAEAP,EAAG,GAAG,MAAM,YAAaO,GAAM;AAC9B,SAAOA,EAAK,SAAS,KAAKA,EAAK,CAAC,MAAM,IACnC,SAAS,KAAK,MAAMA,EAAK,CAAC,CAAC,IAAI,OAAO,KAAK,MAAMA,EAAK,CAAC,CAAC,IAAI,OAAO,KAAK,MAAMA,EAAK,CAAC,CAAC,IAAI,MACzF,UAAU,KAAK,MAAMA,EAAK,CAAC,CAAC,IAAI,OAAO,KAAK,MAAMA,EAAK,CAAC,CAAC,IAAI,OAAO,KAAK,MAAMA,EAAK,CAAC,CAAC,IAAI,OAAOA,EAAK,CAAC,IAAI;AAC/G;AAEAP,EAAG,GAAG,IAAI,UAAU,YAAaO,GAAM;AACtC,QAAMmB,IAAI,KAAK,MAAMnB,EAAK,CAAC,IAAI,MAAM,GAAG,GAClCoB,IAAI,KAAK,MAAMpB,EAAK,CAAC,IAAI,MAAM,GAAG,GAClCiB,IAAI,KAAK,MAAMjB,EAAK,CAAC,IAAI,MAAM,GAAG;AAExC,SAAOA,EAAK,SAAS,KAAKA,EAAK,CAAC,MAAM,IACnC,SAASmB,IAAI,QAAQC,IAAI,QAAQH,IAAI,OACrC,UAAUE,IAAI,QAAQC,IAAI,QAAQH,IAAI,QAAQjB,EAAK,CAAC,IAAI;AAC5D;AAEAP,EAAG,GAAG,MAAM,YAAa4B,GAAM;AAC9B,SAAOA,EAAK,SAAS,KAAKA,EAAK,CAAC,MAAM,IACnC,SAASA,EAAK,CAAC,IAAI,OAAOA,EAAK,CAAC,IAAI,QAAQA,EAAK,CAAC,IAAI,OACtD,UAAUA,EAAK,CAAC,IAAI,OAAOA,EAAK,CAAC,IAAI,QAAQA,EAAK,CAAC,IAAI,QAAQA,EAAK,CAAC,IAAI;AAC7E;AAIA5B,EAAG,GAAG,MAAM,YAAa6B,GAAM;AAC9B,MAAIR,IAAI;AACR,SAAIQ,EAAK,UAAU,KAAKA,EAAK,CAAC,MAAM,MACnCR,IAAI,OAAOQ,EAAK,CAAC,IAGX,SAASA,EAAK,CAAC,IAAI,OAAOA,EAAK,CAAC,IAAI,QAAQA,EAAK,CAAC,IAAI,MAAMR,IAAI;AACxE;AAEArB,EAAG,GAAG,UAAU,YAAaU,GAAK;AACjC,SAAOZ,GAAaY,EAAI,MAAM,GAAG,CAAC,CAAC;AACpC;AAGA,SAASK,EAAMe,GAASC,GAAKC,GAAK;AACjC,SAAO,KAAK,IAAI,KAAK,IAAID,GAAKD,CAAO,GAAGE,CAAG;AAC5C;AAEA,SAASP,GAAUK,GAAS;AAC3B,QAAMG,IAAU,KAAK,MAAMH,CAAO,EAAE,SAAS,EAAE,EAAE,YAAW;AAC5D,SAAQG,EAAQ,SAAS,IAAK,MAAMA,IAAUA;AAC/C;ACnOA,MAAAC,KAAe;AAAA,EACd,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,cAAc,CAAC,KAAK,KAAK,GAAG;AAAA,EAC5B,MAAM,CAAC,GAAG,KAAK,GAAG;AAAA,EAClB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,QAAQ,CAAC,KAAK,KAAK,GAAG;AAAA,EACtB,OAAO,CAAC,GAAG,GAAG,CAAC;AAAA,EACf,gBAAgB,CAAC,KAAK,KAAK,GAAG;AAAA,EAC9B,MAAM,CAAC,GAAG,GAAG,GAAG;AAAA,EAChB,YAAY,CAAC,KAAK,IAAI,GAAG;AAAA,EACzB,OAAO,CAAC,KAAK,IAAI,EAAE;AAAA,EACnB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,IAAI,KAAK,GAAG;AAAA,EACxB,YAAY,CAAC,KAAK,KAAK,CAAC;AAAA,EACxB,WAAW,CAAC,KAAK,KAAK,EAAE;AAAA,EACxB,OAAO,CAAC,KAAK,KAAK,EAAE;AAAA,EACpB,gBAAgB,CAAC,KAAK,KAAK,GAAG;AAAA,EAC9B,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,SAAS,CAAC,KAAK,IAAI,EAAE;AAAA,EACrB,MAAM,CAAC,GAAG,KAAK,GAAG;AAAA,EAClB,UAAU,CAAC,GAAG,GAAG,GAAG;AAAA,EACpB,UAAU,CAAC,GAAG,KAAK,GAAG;AAAA,EACtB,eAAe,CAAC,KAAK,KAAK,EAAE;AAAA,EAC5B,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,WAAW,CAAC,GAAG,KAAK,CAAC;AAAA,EACrB,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,aAAa,CAAC,KAAK,GAAG,GAAG;AAAA,EACzB,gBAAgB,CAAC,IAAI,KAAK,EAAE;AAAA,EAC5B,YAAY,CAAC,KAAK,KAAK,CAAC;AAAA,EACxB,YAAY,CAAC,KAAK,IAAI,GAAG;AAAA,EACzB,SAAS,CAAC,KAAK,GAAG,CAAC;AAAA,EACnB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,cAAc,CAAC,KAAK,KAAK,GAAG;AAAA,EAC5B,eAAe,CAAC,IAAI,IAAI,GAAG;AAAA,EAC3B,eAAe,CAAC,IAAI,IAAI,EAAE;AAAA,EAC1B,eAAe,CAAC,IAAI,IAAI,EAAE;AAAA,EAC1B,eAAe,CAAC,GAAG,KAAK,GAAG;AAAA,EAC3B,YAAY,CAAC,KAAK,GAAG,GAAG;AAAA,EACxB,UAAU,CAAC,KAAK,IAAI,GAAG;AAAA,EACvB,aAAa,CAAC,GAAG,KAAK,GAAG;AAAA,EACzB,SAAS,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB,SAAS,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB,YAAY,CAAC,IAAI,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,KAAK,IAAI,EAAE;AAAA,EACvB,aAAa,CAAC,KAAK,KAAK,GAAG;AAAA,EAC3B,aAAa,CAAC,IAAI,KAAK,EAAE;AAAA,EACzB,SAAS,CAAC,KAAK,GAAG,GAAG;AAAA,EACrB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,MAAM,CAAC,KAAK,KAAK,CAAC;AAAA,EAClB,WAAW,CAAC,KAAK,KAAK,EAAE;AAAA,EACxB,MAAM,CAAC,KAAK,KAAK,GAAG;AAAA,EACpB,OAAO,CAAC,GAAG,KAAK,CAAC;AAAA,EACjB,aAAa,CAAC,KAAK,KAAK,EAAE;AAAA,EAC1B,MAAM,CAAC,KAAK,KAAK,GAAG;AAAA,EACpB,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,SAAS,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB,WAAW,CAAC,KAAK,IAAI,EAAE;AAAA,EACvB,QAAQ,CAAC,IAAI,GAAG,GAAG;AAAA,EACnB,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,eAAe,CAAC,KAAK,KAAK,GAAG;AAAA,EAC7B,WAAW,CAAC,KAAK,KAAK,CAAC;AAAA,EACvB,cAAc,CAAC,KAAK,KAAK,GAAG;AAAA,EAC5B,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,sBAAsB,CAAC,KAAK,KAAK,GAAG;AAAA,EACpC,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,aAAa,CAAC,KAAK,KAAK,GAAG;AAAA,EAC3B,eAAe,CAAC,IAAI,KAAK,GAAG;AAAA,EAC5B,cAAc,CAAC,KAAK,KAAK,GAAG;AAAA,EAC5B,gBAAgB,CAAC,KAAK,KAAK,GAAG;AAAA,EAC9B,gBAAgB,CAAC,KAAK,KAAK,GAAG;AAAA,EAC9B,gBAAgB,CAAC,KAAK,KAAK,GAAG;AAAA,EAC9B,aAAa,CAAC,KAAK,KAAK,GAAG;AAAA,EAC3B,MAAM,CAAC,GAAG,KAAK,CAAC;AAAA,EAChB,WAAW,CAAC,IAAI,KAAK,EAAE;AAAA,EACvB,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,SAAS,CAAC,KAAK,GAAG,GAAG;AAAA,EACrB,QAAQ,CAAC,KAAK,GAAG,CAAC;AAAA,EAClB,kBAAkB,CAAC,KAAK,KAAK,GAAG;AAAA,EAChC,YAAY,CAAC,GAAG,GAAG,GAAG;AAAA,EACtB,cAAc,CAAC,KAAK,IAAI,GAAG;AAAA,EAC3B,cAAc,CAAC,KAAK,KAAK,GAAG;AAAA,EAC5B,gBAAgB,CAAC,IAAI,KAAK,GAAG;AAAA,EAC7B,iBAAiB,CAAC,KAAK,KAAK,GAAG;AAAA,EAC/B,mBAAmB,CAAC,GAAG,KAAK,GAAG;AAAA,EAC/B,iBAAiB,CAAC,IAAI,KAAK,GAAG;AAAA,EAC9B,iBAAiB,CAAC,KAAK,IAAI,GAAG;AAAA,EAC9B,cAAc,CAAC,IAAI,IAAI,GAAG;AAAA,EAC1B,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,aAAa,CAAC,KAAK,KAAK,GAAG;AAAA,EAC3B,MAAM,CAAC,GAAG,GAAG,GAAG;AAAA,EAChB,SAAS,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB,OAAO,CAAC,KAAK,KAAK,CAAC;AAAA,EACnB,WAAW,CAAC,KAAK,KAAK,EAAE;AAAA,EACxB,QAAQ,CAAC,KAAK,KAAK,CAAC;AAAA,EACpB,WAAW,CAAC,KAAK,IAAI,CAAC;AAAA,EACtB,QAAQ,CAAC,KAAK,KAAK,GAAG;AAAA,EACtB,eAAe,CAAC,KAAK,KAAK,GAAG;AAAA,EAC7B,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,eAAe,CAAC,KAAK,KAAK,GAAG;AAAA,EAC7B,eAAe,CAAC,KAAK,KAAK,GAAG;AAAA,EAC7B,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,MAAM,CAAC,KAAK,KAAK,EAAE;AAAA,EACnB,MAAM,CAAC,KAAK,KAAK,GAAG;AAAA,EACpB,MAAM,CAAC,KAAK,KAAK,GAAG;AAAA,EACpB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,QAAQ,CAAC,KAAK,GAAG,GAAG;AAAA,EACpB,eAAe,CAAC,KAAK,IAAI,GAAG;AAAA,EAC5B,KAAK,CAAC,KAAK,GAAG,CAAC;AAAA,EACf,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,IAAI,KAAK,GAAG;AAAA,EACxB,aAAa,CAAC,KAAK,IAAI,EAAE;AAAA,EACzB,QAAQ,CAAC,KAAK,KAAK,GAAG;AAAA,EACtB,YAAY,CAAC,KAAK,KAAK,EAAE;AAAA,EACzB,UAAU,CAAC,IAAI,KAAK,EAAE;AAAA,EACtB,UAAU,CAAC,KAAK,KAAK,GAAG;AAAA,EACxB,QAAQ,CAAC,KAAK,IAAI,EAAE;AAAA,EACpB,QAAQ,CAAC,KAAK,KAAK,GAAG;AAAA,EACtB,SAAS,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB,WAAW,CAAC,KAAK,IAAI,GAAG;AAAA,EACxB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,KAAK,KAAK,GAAG;AAAA,EACzB,MAAM,CAAC,KAAK,KAAK,GAAG;AAAA,EACpB,aAAa,CAAC,GAAG,KAAK,GAAG;AAAA,EACzB,WAAW,CAAC,IAAI,KAAK,GAAG;AAAA,EACxB,KAAK,CAAC,KAAK,KAAK,GAAG;AAAA,EACnB,MAAM,CAAC,GAAG,KAAK,GAAG;AAAA,EAClB,SAAS,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB,QAAQ,CAAC,KAAK,IAAI,EAAE;AAAA,EACpB,WAAW,CAAC,IAAI,KAAK,GAAG;AAAA,EACxB,QAAQ,CAAC,KAAK,KAAK,GAAG;AAAA,EACtB,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,OAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACrB,YAAY,CAAC,KAAK,KAAK,GAAG;AAAA,EAC1B,QAAQ,CAAC,KAAK,KAAK,CAAC;AAAA,EACpB,aAAa,CAAC,KAAK,KAAK,EAAE;AAC3B,GC7IMC,KAAkB,CAAA;AACxB,WAAWC,KAAO,OAAO,KAAKF,EAAW;AACxC,EAAAC,GAAgBD,GAAYE,CAAG,CAAC,IAAIA;AAGrC,MAAMC,IAAU;AAAA,EACf,KAAK,EAAC,UAAU,GAAG,QAAQ,MAAK;AAAA,EAChC,KAAK,EAAC,UAAU,GAAG,QAAQ,MAAK;AAAA,EAChC,KAAK,EAAC,UAAU,GAAG,QAAQ,MAAK;AAAA,EAChC,KAAK,EAAC,UAAU,GAAG,QAAQ,MAAK;AAAA,EAChC,MAAM,EAAC,UAAU,GAAG,QAAQ,OAAM;AAAA,EAClC,KAAK,EAAC,UAAU,GAAG,QAAQ,MAAK;AAAA,EAChC,KAAK,EAAC,UAAU,GAAG,QAAQ,MAAK;AAAA,EAChC,OAAO,EAAC,UAAU,GAAG,QAAQ,CAAC,OAAO,OAAO,KAAK,EAAC;AAAA,EAClD,KAAK,EAAC,UAAU,GAAG,QAAQ,MAAK;AAAA,EAChC,OAAO,EAAC,UAAU,GAAG,QAAQ,CAAC,OAAO,OAAO,KAAK,EAAC;AAAA,EAClD,KAAK,EAAC,UAAU,GAAG,QAAQ,CAAC,KAAK,EAAC;AAAA,EAClC,SAAS,EAAC,UAAU,GAAG,QAAQ,CAAC,SAAS,EAAC;AAAA,EAC1C,QAAQ,EAAC,UAAU,GAAG,QAAQ,CAAC,QAAQ,EAAC;AAAA,EACxC,SAAS,EAAC,UAAU,GAAG,QAAQ,CAAC,SAAS,EAAC;AAAA,EAC1C,KAAK,EAAC,UAAU,GAAG,QAAQ,CAAC,KAAK,KAAK,GAAG,EAAC;AAAA,EAC1C,OAAO,EAAC,UAAU,GAAG,QAAQ,CAAC,OAAO,OAAO,KAAK,EAAC;AAAA,EAClD,MAAM,EAAC,UAAU,GAAG,QAAQ,CAAC,MAAM,EAAC;AACrC,GAKMC,KAAU,IAAI,OAAO;AAG3B,SAASC,EAAuBC,GAAG;AAClC,QAAMC,IAAKD,IAAI,WACV,QAASA,KAAM,qBAAa,QAC9BA,IAAI;AACP,SAAO,KAAK,IAAI,KAAK,IAAI,GAAGC,CAAE,GAAG,CAAC;AACnC;AAEA,SAASC,EAA0BF,GAAG;AACrC,SAAOA,IAAI,YAAcA,IAAI,SAAS,UAAU,MAAQA,IAAI;AAC7D;AAGA,WAAWpC,KAAS,OAAO,KAAKiC,CAAO,GAAG;AACzC,MAAI,EAAE,cAAcA,EAAQjC,CAAK;AAChC,UAAM,IAAI,MAAM,gCAAgCA,CAAK;AAGtD,MAAI,EAAE,YAAYiC,EAAQjC,CAAK;AAC9B,UAAM,IAAI,MAAM,sCAAsCA,CAAK;AAG5D,MAAIiC,EAAQjC,CAAK,EAAE,OAAO,WAAWiC,EAAQjC,CAAK,EAAE;AACnD,UAAM,IAAI,MAAM,wCAAwCA,CAAK;AAG9D,QAAM,EAAC,UAAAuC,GAAU,QAAAC,EAAM,IAAIP,EAAQjC,CAAK;AACxC,SAAOiC,EAAQjC,CAAK,EAAE,UACtB,OAAOiC,EAAQjC,CAAK,EAAE,QACtB,OAAO,eAAeiC,EAAQjC,CAAK,GAAG,YAAY,EAAC,OAAOuC,EAAQ,CAAC,GACnE,OAAO,eAAeN,EAAQjC,CAAK,GAAG,UAAU,EAAC,OAAOwC,EAAM,CAAC;AAChE;AAEAP,EAAQ,IAAI,MAAM,SAAU3B,GAAK;AAChC,QAAMgB,IAAIhB,EAAI,CAAC,IAAI,KACbiB,IAAIjB,EAAI,CAAC,IAAI,KACbc,IAAId,EAAI,CAAC,IAAI,KACbqB,IAAM,KAAK,IAAIL,GAAGC,GAAGH,CAAC,GACtBQ,IAAM,KAAK,IAAIN,GAAGC,GAAGH,CAAC,GACtBqB,IAAQb,IAAMD;AACpB,MAAIb,GACAC;AAEJ,UAAQa,GAAG;AAAA,IACV,KAAKD,GAAK;AACT,MAAAb,IAAI;AAEJ;AAAA,IACD;AAAA,IAEA,KAAKQ,GAAG;AACP,MAAAR,KAAKS,IAAIH,KAAKqB;AAEd;AAAA,IACD;AAAA,IAEA,KAAKlB,GAAG;AACP,MAAAT,IAAI,KAAKM,IAAIE,KAAKmB;AAElB;AAAA,IACD;AAAA,IAEA,KAAKrB,GAAG;AACP,MAAAN,IAAI,KAAKQ,IAAIC,KAAKkB;AAElB;AAAA,IACD;AAAA,EAEF;AAEC,EAAA3B,IAAI,KAAK,IAAIA,IAAI,IAAI,GAAG,GAEpBA,IAAI,MACPA,KAAK;AAGN,QAAME,KAAKW,IAAMC,KAAO;AAExB,SAAIA,MAAQD,IACXZ,IAAI,IACMC,KAAK,MACfD,IAAI0B,KAASb,IAAMD,KAEnBZ,IAAI0B,KAAS,IAAIb,IAAMD,IAGjB,CAACb,GAAGC,IAAI,KAAKC,IAAI,GAAG;AAC5B;AAEAiB,EAAQ,IAAI,MAAM,SAAU3B,GAAK;AAChC,MAAIoC,GACAC,GACAC,GACA9B,GACAC;AAEJ,QAAMO,IAAIhB,EAAI,CAAC,IAAI,KACbiB,IAAIjB,EAAI,CAAC,IAAI,KACbc,IAAId,EAAI,CAAC,IAAI,KACbuC,IAAI,KAAK,IAAIvB,GAAGC,GAAGH,CAAC,GACpB0B,IAAOD,IAAI,KAAK,IAAIvB,GAAGC,GAAGH,CAAC,GAC3B2B,IAAQ,SAAUX,GAAG;AAC1B,YAAQS,IAAIT,KAAK,IAAIU,IAAO,IAAI;AAAA,EACjC;AAEA,MAAIA,MAAS;AACZ,IAAAhC,IAAI,GACJC,IAAI;AAAA,OACE;AAMN,YALAA,IAAI+B,IAAOD,GACXH,IAAOK,EAAMzB,CAAC,GACdqB,IAAOI,EAAMxB,CAAC,GACdqB,IAAOG,EAAM3B,CAAC,GAENyB,GAAC;AAAA,MACR,KAAKvB,GAAG;AACP,QAAAR,IAAI8B,IAAOD;AAEX;AAAA,MACD;AAAA,MAEA,KAAKpB,GAAG;AACP,QAAAT,IAAK,IAAI,IAAK4B,IAAOE;AAErB;AAAA,MACD;AAAA,MAEA,KAAKxB,GAAG;AACP,QAAAN,IAAK,IAAI,IAAK6B,IAAOD;AAErB;AAAA,MACD;AAAA,IAEH;AAEE,IAAI5B,IAAI,IACPA,KAAK,IACKA,IAAI,MACdA,KAAK;AAAA,EAEP;AAEA,SAAO;AAAA,IACNA,IAAI;AAAA,IACJC,IAAI;AAAA,IACJ8B,IAAI;AAAA,EACN;AACA;AAEAZ,EAAQ,IAAI,MAAM,SAAU3B,GAAK;AAChC,QAAMgB,IAAIhB,EAAI,CAAC,GACTiB,IAAIjB,EAAI,CAAC;AACf,MAAIc,IAAId,EAAI,CAAC;AACb,QAAMQ,IAAImB,EAAQ,IAAI,IAAI3B,CAAG,EAAE,CAAC,GAC1Ba,IAAI,IAAI,MAAM,KAAK,IAAIG,GAAG,KAAK,IAAIC,GAAGH,CAAC,CAAC;AAE9C,SAAAA,IAAI,IAAI,IAAI,MAAM,KAAK,IAAIE,GAAG,KAAK,IAAIC,GAAGH,CAAC,CAAC,GAErC,CAACN,GAAGK,IAAI,KAAKC,IAAI,GAAG;AAC5B;AAEAa,EAAQ,IAAI,QAAQ,SAAU3B,GAAK;AAElC,QAAMgB,IAAIgB,EAA0BhC,EAAI,CAAC,IAAI,GAAG,GAC1CiB,IAAIe,EAA0BhC,EAAI,CAAC,IAAI,GAAG,GAC1Cc,IAAIkB,EAA0BhC,EAAI,CAAC,IAAI,GAAG,GAE1C0C,IAAK,KAAK,KAAK,eAAkB1B,IAAI,eAAkBC,IAAI,eAAkBH,CAAC,GAC9E6B,IAAK,KAAK,KAAK,eAAkB3B,IAAI,eAAkBC,IAAI,eAAkBH,CAAC,GAC9E8B,IAAK,KAAK,KAAK,eAAkB5B,IAAI,eAAkBC,IAAI,eAAkBH,CAAC,GAE9E,IAAI,eAAkB4B,IAAK,cAAgBC,IAAK,eAAkBC,GAClEC,IAAK,eAAkBH,IAAK,cAAgBC,IAAK,eAAkBC,GACnEE,IAAK,eAAkBJ,IAAK,eAAkBC,IAAK,cAAgBC;AAEzE,SAAO,CAAC,IAAI,KAAKC,IAAK,KAAKC,IAAK,GAAG;AACpC;AAEAnB,EAAQ,IAAI,OAAO,SAAU3B,GAAK;AACjC,QAAMgB,IAAIhB,EAAI,CAAC,IAAI,KACbiB,IAAIjB,EAAI,CAAC,IAAI,KACbc,IAAId,EAAI,CAAC,IAAI,KAEb+C,IAAI,KAAK,IAAI,IAAI/B,GAAG,IAAIC,GAAG,IAAIH,CAAC,GAChCgB,KAAK,IAAId,IAAI+B,MAAM,IAAIA,MAAM,GAC7BC,KAAK,IAAI/B,IAAI8B,MAAM,IAAIA,MAAM,GAC7BE,KAAK,IAAInC,IAAIiC,MAAM,IAAIA,MAAM;AAEnC,SAAO,CAACjB,IAAI,KAAKkB,IAAI,KAAKC,IAAI,KAAKF,IAAI,GAAG;AAC3C;AAEA,SAASG,GAAoBC,GAAGF,GAAG;AAIlC,UACGE,EAAE,CAAC,IAAIF,EAAE,CAAC,MAAM,KAChBE,EAAE,CAAC,IAAIF,EAAE,CAAC,MAAM,KAChBE,EAAE,CAAC,IAAIF,EAAE,CAAC,MAAM;AAEpB;AAEAtB,EAAQ,IAAI,UAAU,SAAU3B,GAAK;AACpC,QAAMoD,IAAW3B,GAAgBzB,CAAG;AACpC,MAAIoD;AACH,WAAOA;AAGR,MAAIC,IAAyB,OAAO,mBAChCC;AAEJ,aAAWvD,KAAW,OAAO,KAAKyB,EAAW,GAAG;AAC/C,UAAM/B,IAAQ+B,GAAYzB,CAAO,GAG3BwD,IAAWL,GAAoBlD,GAAKP,CAAK;AAG/C,IAAI8D,IAAWF,MACdA,IAAyBE,GACzBD,IAAwBvD;AAAA,EAE1B;AAEA,SAAOuD;AACR;AAEA3B,EAAQ,QAAQ,MAAM,SAAU5B,GAAS;AACxC,SAAOyB,GAAYzB,CAAO;AAC3B;AAEA4B,EAAQ,IAAI,MAAM,SAAU3B,GAAK;AAEhC,QAAMgB,IAAIgB,EAA0BhC,EAAI,CAAC,IAAI,GAAG,GAC1CiB,IAAIe,EAA0BhC,EAAI,CAAC,IAAI,GAAG,GAC1Cc,IAAIkB,EAA0BhC,EAAI,CAAC,IAAI,GAAG,GAE1CmD,IAAKnC,IAAI,YAAgBC,IAAI,YAAgBH,IAAI,WACjDmC,IAAKjC,IAAI,YAAgBC,IAAI,YAAgBH,IAAI,UACjD0C,IAAKxC,IAAI,YAAgBC,IAAI,WAAcH,IAAI;AAErD,SAAO,CAACqC,IAAI,KAAKF,IAAI,KAAKO,IAAI,GAAG;AAClC;AAEA7B,EAAQ,IAAI,MAAM,SAAU3B,GAAK;AAChC,QAAMyD,IAAM9B,EAAQ,IAAI,IAAI3B,CAAG;AAC/B,MAAImD,IAAIM,EAAI,CAAC,GACTR,IAAIQ,EAAI,CAAC,GACTD,IAAIC,EAAI,CAAC;AAEb,EAAAN,KAAK,QACLF,KAAK,KACLO,KAAK,SAELL,IAAIA,IAAIvB,IAAUuB,MAAM,IAAI,KAAO,QAAQA,IAAM,KAAK,KACtDF,IAAIA,IAAIrB,IAAUqB,MAAM,IAAI,KAAO,QAAQA,IAAM,KAAK,KACtDO,IAAIA,IAAI5B,IAAU4B,MAAM,IAAI,KAAO,QAAQA,IAAM,KAAK;AAEtD,QAAM9C,IAAK,MAAMuC,IAAK,IAChBtC,IAAI,OAAOwC,IAAIF,IACfnC,IAAI,OAAOmC,IAAIO;AAErB,SAAO,CAAC9C,GAAGC,GAAGG,CAAC;AAChB;AAEAa,EAAQ,IAAI,MAAM,SAAUrB,GAAK;AAChC,QAAME,IAAIF,EAAI,CAAC,IAAI,KACbG,IAAIH,EAAI,CAAC,IAAI,KACbI,IAAIJ,EAAI,CAAC,IAAI;AACnB,MAAIoD,GACAjE;AAEJ,MAAIgB,MAAM;AACT,WAAAhB,IAAQiB,IAAI,KACL,CAACjB,GAAOA,GAAOA,CAAK;AAG5B,QAAMkE,IAAKjD,IAAI,MAAMA,KAAK,IAAID,KAAKC,IAAID,IAAIC,IAAID,GAEzCmD,IAAK,IAAIlD,IAAIiD,GAEb3D,IAAM,CAAC,GAAG,GAAG,CAAC;AACpB,WAASE,IAAI,GAAGA,IAAI,GAAGA;AACtB,IAAAwD,IAAKlD,IAAI,IAAI,IAAI,EAAEN,IAAI,IACnBwD,IAAK,KACRA,KAGGA,IAAK,KACRA,KAGG,IAAIA,IAAK,IACZjE,IAAQmE,KAAMD,IAAKC,KAAM,IAAIF,IACnB,IAAIA,IAAK,IACnBjE,IAAQkE,IACE,IAAID,IAAK,IACnBjE,IAAQmE,KAAMD,IAAKC,MAAO,IAAI,IAAIF,KAAM,IAExCjE,IAAQmE,GAGT5D,EAAIE,CAAC,IAAIT,IAAQ;AAGlB,SAAOO;AACR;AAEA2B,EAAQ,IAAI,MAAM,SAAUrB,GAAK;AAChC,QAAME,IAAIF,EAAI,CAAC;AACf,MAAIG,IAAIH,EAAI,CAAC,IAAI,KACbI,IAAIJ,EAAI,CAAC,IAAI,KACbuD,IAAOpD;AACX,QAAMqD,IAAO,KAAK,IAAIpD,GAAG,IAAI;AAE7B,EAAAA,KAAK,GACLD,KAAMC,KAAK,IAAKA,IAAI,IAAIA,GACxBmD,KAAQC,KAAQ,IAAIA,IAAO,IAAIA;AAC/B,QAAMvB,KAAK7B,IAAID,KAAK,GACdsD,IAAKrD,MAAM,IAAK,IAAImD,KAASC,IAAOD,KAAS,IAAIpD,KAAMC,IAAID;AAEjE,SAAO,CAACD,GAAGuD,IAAK,KAAKxB,IAAI,GAAG;AAC7B;AAEAZ,EAAQ,IAAI,MAAM,SAAUqC,GAAK;AAChC,QAAMxD,IAAIwD,EAAI,CAAC,IAAI,IACbvD,IAAIuD,EAAI,CAAC,IAAI;AACnB,MAAIzB,IAAIyB,EAAI,CAAC,IAAI;AACjB,QAAMC,IAAK,KAAK,MAAMzD,CAAC,IAAI,GAErB0D,IAAI1D,IAAI,KAAK,MAAMA,CAAC,GACpB2D,IAAI,MAAM5B,KAAK,IAAI9B,IACnB2D,IAAI,MAAM7B,KAAK,IAAK9B,IAAIyD,IACxBG,IAAI,MAAM9B,KAAK,IAAK9B,KAAK,IAAIyD;AAGnC,UAFA3B,KAAK,KAEG0B,GAAE;AAAA,IACT,KAAK;AACJ,aAAO,CAAC1B,GAAG8B,GAAGF,CAAC;AAAA,IAGhB,KAAK;AACJ,aAAO,CAACC,GAAG7B,GAAG4B,CAAC;AAAA,IAGhB,KAAK;AACJ,aAAO,CAACA,GAAG5B,GAAG8B,CAAC;AAAA,IAGhB,KAAK;AACJ,aAAO,CAACF,GAAGC,GAAG7B,CAAC;AAAA,IAGhB,KAAK;AACJ,aAAO,CAAC8B,GAAGF,GAAG5B,CAAC;AAAA,IAGhB,KAAK;AACJ,aAAO,CAACA,GAAG4B,GAAGC,CAAC;AAAA,EAElB;AACA;AAEAzC,EAAQ,IAAI,MAAM,SAAUqC,GAAK;AAChC,QAAMxD,IAAIwD,EAAI,CAAC,GACTvD,IAAIuD,EAAI,CAAC,IAAI,KACbzB,IAAIyB,EAAI,CAAC,IAAI,KACbM,IAAO,KAAK,IAAI/B,GAAG,IAAI;AAC7B,MAAIgC,GACA7D;AAEJ,EAAAA,KAAK,IAAID,KAAK8B;AACd,QAAMuB,KAAQ,IAAIrD,KAAK6D;AACvB,SAAAC,IAAK9D,IAAI6D,GACTC,KAAOT,KAAQ,IAAKA,IAAO,IAAIA,GAC/BS,IAAKA,KAAM,GACX7D,KAAK,GAEE,CAACF,GAAG+D,IAAK,KAAK7D,IAAI,GAAG;AAC7B;AAGAiB,EAAQ,IAAI,MAAM,SAAUf,GAAK;AAChC,QAAMJ,IAAII,EAAI,CAAC,IAAI;AACnB,MAAI4D,IAAK5D,EAAI,CAAC,IAAI,KACd6D,IAAK7D,EAAI,CAAC,IAAI;AAClB,QAAM8D,IAAQF,IAAKC;AACnB,MAAIP;AAGJ,EAAIQ,IAAQ,MACXF,KAAME,GACND,KAAMC;AAGP,QAAMxE,IAAI,KAAK,MAAM,IAAIM,CAAC,GACpB+B,IAAI,IAAIkC;AACd,EAAAP,IAAI,IAAI1D,IAAIN,IAGPA,IAAI,OAAU,MAClBgE,IAAI,IAAIA;AAGT,QAAMS,IAAIH,IAAKN,KAAK3B,IAAIiC;AAExB,MAAIxD,GACAC,GACA;AAEJ,UAAQf,GAAC;AAAA,IACR;AAAA,IACA,KAAK;AAAA,IACL,KAAK,GAAG;AAAE,MAAAc,IAAIuB,GAAItB,IAAI0D,GAAI,IAAIH;AAAI;AAAA,IAClC;AAAA,IAEA,KAAK,GAAG;AAAE,MAAAxD,IAAI2D,GAAI1D,IAAIsB,GAAI,IAAIiC;AAAI;AAAA,IAClC;AAAA,IAEA,KAAK,GAAG;AAAE,MAAAxD,IAAIwD,GAAIvD,IAAIsB,GAAI,IAAIoC;AAAG;AAAA,IACjC;AAAA,IAEA,KAAK,GAAG;AAAE,MAAA3D,IAAIwD,GAAIvD,IAAI0D,GAAI,IAAIpC;AAAG;AAAA,IACjC;AAAA,IAEA,KAAK,GAAG;AAAE,MAAAvB,IAAI2D,GAAI1D,IAAIuD,GAAI,IAAIjC;AAAG;AAAA,IACjC;AAAA,IAEA,KAAK,GAAG;AAAE,MAAAvB,IAAIuB,GAAItB,IAAIuD,GAAI,IAAIG;AAAG;AAAA,IACjC;AAAA,EACF;AAGC,SAAO,CAAC3D,IAAI,KAAKC,IAAI,KAAK,IAAI,GAAG;AAClC;AAEAU,EAAQ,KAAK,MAAM,SAAUiD,GAAM;AAClC,QAAM9C,IAAI8C,EAAK,CAAC,IAAI,KACd5B,IAAI4B,EAAK,CAAC,IAAI,KACd3B,IAAI2B,EAAK,CAAC,IAAI,KACd7B,IAAI6B,EAAK,CAAC,IAAI,KAEd5D,IAAI,IAAI,KAAK,IAAI,GAAGc,KAAK,IAAIiB,KAAKA,CAAC,GACnC9B,IAAI,IAAI,KAAK,IAAI,GAAG+B,KAAK,IAAID,KAAKA,CAAC,GACnCjC,IAAI,IAAI,KAAK,IAAI,GAAGmC,KAAK,IAAIF,KAAKA,CAAC;AAEzC,SAAO,CAAC/B,IAAI,KAAKC,IAAI,KAAKH,IAAI,GAAG;AAClC;AAEAa,EAAQ,IAAI,MAAM,SAAU8B,GAAK;AAChC,QAAMN,IAAIM,EAAI,CAAC,IAAI,KACbR,IAAIQ,EAAI,CAAC,IAAI,KACbD,IAAIC,EAAI,CAAC,IAAI;AACnB,MAAIzC,GACAC,GACAH;AAEJ,SAAAE,IAAKmC,IAAI,YAAgBF,IAAI,aAAiBO,IAAI,YAClDvC,IAAKkC,IAAI,YAAeF,IAAI,YAAgBO,IAAI,UAChD1C,IAAKqC,IAAI,YAAgBF,IAAI,aAAiBO,IAAI,WAGlDxC,IAAIa,EAAuBb,CAAC,GAC5BC,IAAIY,EAAuBZ,CAAC,GAC5BH,IAAIe,EAAuBf,CAAC,GAErB,CAACE,IAAI,KAAKC,IAAI,KAAKH,IAAI,GAAG;AAClC;AAEAa,EAAQ,IAAI,MAAM,SAAU8B,GAAK;AAChC,MAAIN,IAAIM,EAAI,CAAC,GACTR,IAAIQ,EAAI,CAAC,GACTD,IAAIC,EAAI,CAAC;AAEb,EAAAN,KAAK,QACLF,KAAK,KACLO,KAAK,SAELL,IAAIA,IAAIvB,IAAUuB,MAAM,IAAI,KAAO,QAAQA,IAAM,KAAK,KACtDF,IAAIA,IAAIrB,IAAUqB,MAAM,IAAI,KAAO,QAAQA,IAAM,KAAK,KACtDO,IAAIA,IAAI5B,IAAU4B,MAAM,IAAI,KAAO,QAAQA,IAAM,KAAK;AAEtD,QAAM9C,IAAK,MAAMuC,IAAK,IAChB,IAAI,OAAOE,IAAIF,IACfnC,IAAI,OAAOmC,IAAIO;AAErB,SAAO,CAAC9C,GAAG,GAAGI,CAAC;AAChB;AAEAa,EAAQ,IAAI,QAAQ,SAAU8B,GAAK;AAClC,QAAMN,IAAIM,EAAI,CAAC,IAAI,KACbR,IAAIQ,EAAI,CAAC,IAAI,KACbD,IAAIC,EAAI,CAAC,IAAI,KAEbf,IAAK,KAAK,KAAK,eAAkBS,IAAI,eAAkBF,IAAI,eAAkBO,CAAC,GAC9Eb,IAAK,KAAK,KAAK,eAAkBQ,IAAI,eAAkBF,IAAI,eAAkBO,CAAC,GAC9EZ,IAAK,KAAK,KAAK,eAAkBO,IAAI,eAAkBF,IAAI,cAAgBO,CAAC,GAE5E,IAAI,eAAkBd,IAAK,cAAgBC,IAAK,eAAkBC,GAClEjC,IAAI,eAAkB+B,IAAK,cAAgBC,IAAK,eAAkBC,GAClE9B,IAAI,eAAkB4B,IAAK,eAAkBC,IAAK,cAAgBC;AAExE,SAAO,CAAC,IAAI,KAAKjC,IAAI,KAAKG,IAAI,GAAG;AAClC;AAEAa,EAAQ,MAAM,QAAQ,SAAUkD,GAAO;AACtC,SAAOlD,EAAQ,IAAI,IAAIkD,CAAK;AAC7B;AAEAlD,EAAQ,MAAM,MAAM,SAAUkD,GAAO;AACpC,QAAMC,IAAKD,EAAM,CAAC,IAAI,KAChBlE,IAAIkE,EAAM,CAAC,IAAI,KACf/D,IAAI+D,EAAM,CAAC,IAAI,KAEfnE,KAAK,cAAgBoE,IAAK,cAAgBnE,IAAI,cAAgBG,MAAM,GACpEkC,KAAK,cAAgB8B,IAAK,cAAgBnE,IAAI,cAAgBG,MAAM,GACpE,KAAK,cAAgBgE,IAAK,cAAgBnE,IAAI,cAAgBG,MAAM,GAEpEqC,IAAI,cAAgBzC,IAAI,aAAesC,IAAI,cAAgB,GAC3DC,IAAI,eAAiBvC,IAAI,aAAesC,IAAI,cAAgB,GAC5DQ,IAAI,eAAiB9C,IAAI,cAAgBsC,IAAI,aAAe;AAElE,SAAO,CAACG,IAAI,KAAKF,IAAI,KAAKO,IAAI,GAAG;AAClC;AAEA7B,EAAQ,MAAM,MAAM,SAAUkD,GAAO;AACpC,QAAMC,IAAKD,EAAM,CAAC,IAAI,KAChBhC,IAAKgC,EAAM,CAAC,IAAI,KAChB/B,IAAK+B,EAAM,CAAC,IAAI,KAEhBnE,KAAKoE,IAAK,eAAkBjC,IAAK,eAAkBC,MAAO,GAC1DE,KAAK8B,IAAK,eAAkBjC,IAAK,eAAkBC,MAAO,GAC1D,KAAKgC,IAAK,eAAkBjC,IAAK,cAAgBC,MAAO,GAGxD9B,IAAIa,EAAuB,eAAkBnB,IAAI,eAAkBsC,IAAI,eAAkB,CAAC,GAC1F/B,IAAIY,EAAuB,gBAAmBnB,IAAI,eAAkBsC,IAAI,eAAkB,CAAC,GAC3FlC,IAAIe,EAAuB,gBAAmBnB,IAAI,eAAkBsC,IAAI,cAAgB,CAAC;AAE/F,SAAO,CAAChC,IAAI,KAAKC,IAAI,KAAKH,IAAI,GAAG;AAClC;AAEAa,EAAQ,MAAM,QAAQ,SAAUoD,GAAO;AACtC,SAAOpD,EAAQ,IAAI,IAAIoD,CAAK;AAC7B;AAEApD,EAAQ,IAAI,MAAM,SAAUqD,GAAK;AAChC,QAAMtE,IAAIsE,EAAI,CAAC,GACTrE,IAAIqE,EAAI,CAAC,GACTlE,IAAIkE,EAAI,CAAC;AACf,MAAI7B,GACAF,GACAO;AAEJ,EAAAP,KAAKvC,IAAI,MAAM,KACfyC,IAAIxC,IAAI,MAAMsC,GACdO,IAAIP,IAAInC,IAAI;AAEZ,QAAMmE,IAAKhC,KAAK,GACViC,IAAK/B,KAAK,GACVgC,IAAK3B,KAAK;AAChB,SAAAP,IAAIgC,IAAKrD,IAASqD,KAAMhC,IAAI,KAAK,OAAO,OACxCE,IAAI+B,IAAKtD,IAASsD,KAAM/B,IAAI,KAAK,OAAO,OACxCK,IAAI2B,IAAKvD,IAASuD,KAAM3B,IAAI,KAAK,OAAO,OAIxCL,KAAK,QACLF,KAAK,KACLO,KAAK,SAEE,CAACL,GAAGF,GAAGO,CAAC;AAChB;AAEA7B,EAAQ,IAAI,MAAM,SAAUqD,GAAK;AAChC,QAAMtE,IAAIsE,EAAI,CAAC,GACTrE,IAAIqE,EAAI,CAAC,GACTlE,IAAIkE,EAAI,CAAC;AACf,MAAIxE;AAGJ,EAAAA,IADW,KAAK,MAAMM,GAAGH,CAAC,IACjB,MAAM,IAAI,KAAK,IAEpBH,IAAI,MACPA,KAAK;AAGN,QAAMsB,IAAI,KAAK,KAAKnB,IAAIA,IAAIG,IAAIA,CAAC;AAEjC,SAAO,CAACJ,GAAGoB,GAAGtB,CAAC;AAChB;AAEAmB,EAAQ,IAAI,MAAM,SAAUyD,GAAK;AAChC,QAAM1E,IAAI0E,EAAI,CAAC,GACTtD,IAAIsD,EAAI,CAAC,GAGTC,IAFID,EAAI,CAAC,IAEA,MAAM,IAAI,KAAK,IACxB,IAAItD,IAAI,KAAK,IAAIuD,CAAE,GACnBvE,IAAIgB,IAAI,KAAK,IAAIuD,CAAE;AAEzB,SAAO,CAAC3E,GAAG,GAAGI,CAAC;AAChB;AAEAa,EAAQ,IAAI,SAAS,SAAU2D,GAAMC,IAAa,MAAM;AACvD,QAAM,CAACvE,GAAGC,GAAGH,CAAC,IAAIwE;AAClB,MAAI7F,IAAQ8F,MAAe,OAAO5D,EAAQ,IAAI,IAAI2D,CAAI,EAAE,CAAC,IAAIC;AAI7D,MAFA9F,IAAQ,KAAK,MAAMA,IAAQ,EAAE,GAEzBA,MAAU;AACb,WAAO;AAGR,MAAI+F,IAAO,MAEN,KAAK,MAAM1E,IAAI,GAAG,KAAK,IACxB,KAAK,MAAMG,IAAI,GAAG,KAAK,IACxB,KAAK,MAAMD,IAAI,GAAG;AAGrB,SAAIvB,MAAU,MACb+F,KAAQ,KAGFA;AACR;AAEA7D,EAAQ,IAAI,SAAS,SAAU2D,GAAM;AAGpC,SAAO3D,EAAQ,IAAI,OAAOA,EAAQ,IAAI,IAAI2D,CAAI,GAAGA,EAAK,CAAC,CAAC;AACzD;AAEA3D,EAAQ,IAAI,UAAU,SAAU2D,GAAM;AACrC,QAAMtE,IAAIsE,EAAK,CAAC,GACVrE,IAAIqE,EAAK,CAAC,GACVxE,IAAIwE,EAAK,CAAC;AAKhB,SAAItE,KAAK,MAAMC,KAAK,KAAKA,KAAK,MAAMH,KAAK,IACpCE,IAAI,IACA,KAGJA,IAAI,MACA,MAGD,KAAK,OAAQA,IAAI,KAAK,MAAO,EAAE,IAAI,MAG9B,KACT,KAAK,KAAK,MAAMA,IAAI,MAAM,CAAC,IAC3B,IAAI,KAAK,MAAMC,IAAI,MAAM,CAAC,IAC3B,KAAK,MAAMH,IAAI,MAAM,CAAC;AAG1B;AAEAa,EAAQ,OAAO,MAAM,SAAU2D,GAAM;AACpC,EAAAA,IAAOA,EAAK,CAAC;AAEb,MAAIG,IAAQH,IAAO;AAGnB,MAAIG,MAAU,KAAKA,MAAU;AAC5B,WAAIH,IAAO,OACVG,KAAS,MAGVA,IAAQA,IAAQ,OAAO,KAEhB,CAACA,GAAOA,GAAOA,CAAK;AAG5B,QAAMC,KAAQ,KAAK,MAAMJ,IAAO,EAAE,IAAI,KAAK,KAErCtE,KAAMyE,IAAQ,KAAKC,IAAQ,KAC3BzE,KAAOwE,KAAS,IAAK,KAAKC,IAAQ,KAClC5E,KAAO2E,KAAS,IAAK,KAAKC,IAAQ;AAGxC,SAAO,CAAC1E,GAAGC,GAAGH,CAAC;AAChB;AAEAa,EAAQ,QAAQ,MAAM,SAAU2D,GAAM;AAIrC,MAHAA,IAAOA,EAAK,CAAC,GAGTA,KAAQ,KAAK;AAChB,UAAMxD,KAAKwD,IAAO,OAAO,KAAK;AAC9B,WAAO,CAACxD,GAAGA,GAAGA,CAAC;AAAA,EAChB;AAEA,EAAAwD,KAAQ;AAER,MAAIK;AACJ,QAAM3E,IAAI,KAAK,MAAMsE,IAAO,EAAE,IAAI,IAAI,KAChCrE,IAAI,KAAK,OAAO0E,IAAML,IAAO,MAAM,CAAC,IAAI,IAAI,KAC5CxE,IAAK6E,IAAM,IAAK,IAAI;AAE1B,SAAO,CAAC3E,GAAGC,GAAGH,CAAC;AAChB;AAEAa,EAAQ,IAAI,MAAM,SAAU2D,GAAM;AAOjC,QAAM/F,OALY,KAAK,MAAM+F,EAAK,CAAC,CAAC,IAAI,QAAS,QAC5C,KAAK,MAAMA,EAAK,CAAC,CAAC,IAAI,QAAS,MAChC,KAAK,MAAMA,EAAK,CAAC,CAAC,IAAI,MAGH,SAAS,EAAE,EAAE,YAAW;AAC/C,SAAO,SAAS,MAAM/F,EAAO,MAAM,IAAIA;AACxC;AAEAoC,EAAQ,IAAI,MAAM,SAAU2D,GAAM;AACjC,QAAMrF,IAAQqF,EAAK,SAAS,EAAE,EAAE,MAAM,wBAAwB;AAC9D,MAAI,CAACrF;AACJ,WAAO,CAAC,GAAG,GAAG,CAAC;AAGhB,MAAI2F,IAAc3F,EAAM,CAAC;AAEzB,EAAIA,EAAM,CAAC,EAAE,WAAW,MACvB2F,IAAc,CAAC,GAAGA,CAAW,EAAE,IAAI,CAAAC,MAAQA,IAAOA,CAAI,EAAE,KAAK,EAAE;AAGhE,QAAMC,IAAU,OAAO,SAASF,GAAa,EAAE,GAEzC5E,IAAK8E,KAAW,KAAM,KACtB7E,IAAK6E,KAAW,IAAK,KACrBhF,IAAIgF,IAAU;AAGpB,SAAO,CAAC9E,GAAGC,GAAGH,CAAC;AAChB;AAEAa,EAAQ,IAAI,MAAM,SAAU3B,GAAK;AAChC,QAAMgB,IAAIhB,EAAI,CAAC,IAAI,KACbiB,IAAIjB,EAAI,CAAC,IAAI,KACbc,IAAId,EAAI,CAAC,IAAI,KACbsB,IAAM,KAAK,IAAI,KAAK,IAAIN,GAAGC,CAAC,GAAGH,CAAC,GAChCO,IAAM,KAAK,IAAI,KAAK,IAAIL,GAAGC,CAAC,GAAGH,CAAC,GAChCiF,IAAUzE,IAAMD;AACtB,MAAI2E;AAEJ,QAAMC,IAAYF,IAAS,IAAI1E,KAAO,IAAI0E,KAAU;AAEpD,SAAIA,KAAU,IACbC,IAAM,IACI1E,MAAQN,IAClBgF,KAAQ/E,IAAIH,KAAKiF,IAAU,IACjBzE,MAAQL,IAClB+E,IAAM,KAAKlF,IAAIE,KAAK+E,IAEpBC,IAAM,KAAKhF,IAAIC,KAAK8E,GAGrBC,KAAO,GACPA,KAAO,GAEA,CAACA,IAAM,KAAKD,IAAS,KAAKE,IAAY,GAAG;AACjD;AAEAtE,EAAQ,IAAI,MAAM,SAAUrB,GAAK;AAChC,QAAMG,IAAIH,EAAI,CAAC,IAAI,KACbI,IAAIJ,EAAI,CAAC,IAAI,KAEbwB,IAAIpB,IAAI,MAAO,IAAID,IAAIC,IAAM,IAAID,KAAK,IAAIC;AAEhD,MAAIwD,IAAI;AACR,SAAIpC,IAAI,MACPoC,KAAKxD,IAAI,MAAMoB,MAAM,IAAIA,KAGnB,CAACxB,EAAI,CAAC,GAAGwB,IAAI,KAAKoC,IAAI,GAAG;AACjC;AAEAvC,EAAQ,IAAI,MAAM,SAAUqC,GAAK;AAChC,QAAMvD,IAAIuD,EAAI,CAAC,IAAI,KACbzB,IAAIyB,EAAI,CAAC,IAAI,KAEblC,IAAIrB,IAAI8B;AACd,MAAI2B,IAAI;AAER,SAAIpC,IAAI,MACPoC,KAAK3B,IAAIT,MAAM,IAAIA,KAGb,CAACkC,EAAI,CAAC,GAAGlC,IAAI,KAAKoC,IAAI,GAAG;AACjC;AAEAvC,EAAQ,IAAI,MAAM,SAAUuE,GAAK;AAChC,QAAM1F,IAAI0F,EAAI,CAAC,IAAI,KACbpE,IAAIoE,EAAI,CAAC,IAAI,KACbjF,IAAIiF,EAAI,CAAC,IAAI;AAEnB,MAAIpE,MAAM;AACT,WAAO,CAACb,IAAI,KAAKA,IAAI,KAAKA,IAAI,GAAG;AAGlC,QAAMkF,IAAO,CAAC,GAAG,GAAG,CAAC,GACflC,IAAMzD,IAAI,IAAK,GACf+B,IAAI0B,IAAK,GACTpD,IAAI,IAAI0B;AACd,MAAI6D,IAAK;AAGT,UAAQ,KAAK,MAAMnC,CAAE,GAAC;AAAA,IACrB,KAAK,GAAG;AACP,MAAAkC,EAAK,CAAC,IAAI,GAAGA,EAAK,CAAC,IAAI5D,GAAG4D,EAAK,CAAC,IAAI;AAAG;AAAA,IACxC;AAAA,IAEA,KAAK,GAAG;AACP,MAAAA,EAAK,CAAC,IAAItF,GAAGsF,EAAK,CAAC,IAAI,GAAGA,EAAK,CAAC,IAAI;AAAG;AAAA,IACxC;AAAA,IAEA,KAAK,GAAG;AACP,MAAAA,EAAK,CAAC,IAAI,GAAGA,EAAK,CAAC,IAAI,GAAGA,EAAK,CAAC,IAAI5D;AAAG;AAAA,IACxC;AAAA,IAEA,KAAK,GAAG;AACP,MAAA4D,EAAK,CAAC,IAAI,GAAGA,EAAK,CAAC,IAAItF,GAAGsF,EAAK,CAAC,IAAI;AAAG;AAAA,IACxC;AAAA,IAEA,KAAK,GAAG;AACP,MAAAA,EAAK,CAAC,IAAI5D,GAAG4D,EAAK,CAAC,IAAI,GAAGA,EAAK,CAAC,IAAI;AAAG;AAAA,IACxC;AAAA,IAEA;AACC,MAAAA,EAAK,CAAC,IAAI,GAAGA,EAAK,CAAC,IAAI,GAAGA,EAAK,CAAC,IAAItF;AAAA,EAEvC;AAGC,SAAAuF,KAAM,IAAItE,KAAKb,GAER;AAAA,KACLa,IAAIqE,EAAK,CAAC,IAAIC,KAAM;AAAA,KACpBtE,IAAIqE,EAAK,CAAC,IAAIC,KAAM;AAAA,KACpBtE,IAAIqE,EAAK,CAAC,IAAIC,KAAM;AAAA,EACvB;AACA;AAEAzE,EAAQ,IAAI,MAAM,SAAUuE,GAAK;AAChC,QAAMpE,IAAIoE,EAAI,CAAC,IAAI,KACbjF,IAAIiF,EAAI,CAAC,IAAI,KAEb3D,IAAIT,IAAIb,KAAK,IAAIa;AACvB,MAAIoC,IAAI;AAER,SAAI3B,IAAI,MACP2B,IAAIpC,IAAIS,IAGF,CAAC2D,EAAI,CAAC,GAAGhC,IAAI,KAAK3B,IAAI,GAAG;AACjC;AAEAZ,EAAQ,IAAI,MAAM,SAAUuE,GAAK;AAChC,QAAMpE,IAAIoE,EAAI,CAAC,IAAI,KAGbxF,IAFIwF,EAAI,CAAC,IAAI,OAEJ,IAAIpE,KAAK,MAAMA;AAC9B,MAAIrB,IAAI;AAER,SAAIC,IAAI,KAAKA,IAAI,MAChBD,IAAIqB,KAAK,IAAIpB,KACHA,KAAK,OAAOA,IAAI,MAC1BD,IAAIqB,KAAK,KAAK,IAAIpB,MAGZ,CAACwF,EAAI,CAAC,GAAGzF,IAAI,KAAKC,IAAI,GAAG;AACjC;AAEAiB,EAAQ,IAAI,MAAM,SAAUuE,GAAK;AAChC,QAAMpE,IAAIoE,EAAI,CAAC,IAAI,KACbjF,IAAIiF,EAAI,CAAC,IAAI,KACb3D,IAAIT,IAAIb,KAAK,IAAIa;AACvB,SAAO,CAACoE,EAAI,CAAC,IAAI3D,IAAIT,KAAK,MAAM,IAAIS,KAAK,GAAG;AAC7C;AAEAZ,EAAQ,IAAI,MAAM,SAAUf,GAAK;AAChC,QAAMC,IAAID,EAAI,CAAC,IAAI,KAEb2B,IAAI,IADA3B,EAAI,CAAC,IAAI,KAEbkB,IAAIS,IAAI1B;AACd,MAAII,IAAI;AAER,SAAIa,IAAI,MACPb,KAAKsB,IAAIT,MAAM,IAAIA,KAGb,CAAClB,EAAI,CAAC,GAAGkB,IAAI,KAAKb,IAAI,GAAG;AACjC;AAEAU,EAAQ,MAAM,MAAM,SAAU0E,GAAO;AACpC,SAAO,CAAEA,EAAM,CAAC,IAAI,QAAU,KAAMA,EAAM,CAAC,IAAI,QAAU,KAAMA,EAAM,CAAC,IAAI,QAAU,GAAG;AACxF;AAEA1E,EAAQ,IAAI,QAAQ,SAAU3B,GAAK;AAClC,SAAO,CAAEA,EAAI,CAAC,IAAI,MAAO,OAASA,EAAI,CAAC,IAAI,MAAO,OAASA,EAAI,CAAC,IAAI,MAAO,KAAM;AAClF;AAEA2B,EAAQ,KAAK,MAAM,SAAU2D,GAAM;AAClC,SAAO,CAACA,EAAK,CAAC,IAAI,MAAM,KAAKA,EAAK,CAAC,IAAI,MAAM,KAAKA,EAAK,CAAC,IAAI,MAAM,GAAG;AACtE;AAEA3D,EAAQ,KAAK,MAAM,SAAU2D,GAAM;AAClC,SAAO,CAAC,GAAG,GAAGA,EAAK,CAAC,CAAC;AACtB;AAEA3D,EAAQ,KAAK,MAAMA,EAAQ,KAAK;AAEhCA,EAAQ,KAAK,MAAM,SAAU2E,GAAM;AAClC,SAAO,CAAC,GAAG,KAAKA,EAAK,CAAC,CAAC;AACxB;AAEA3E,EAAQ,KAAK,OAAO,SAAU2E,GAAM;AACnC,SAAO,CAAC,GAAG,GAAG,GAAGA,EAAK,CAAC,CAAC;AACzB;AAEA3E,EAAQ,KAAK,MAAM,SAAU2E,GAAM;AAClC,SAAO,CAACA,EAAK,CAAC,GAAG,GAAG,CAAC;AACtB;AAEA3E,EAAQ,KAAK,MAAM,SAAU2E,GAAM;AAElC,QAAM7G,IAAQ,KAAK,MAAM6G,EAAK,CAAC,IAAI,MAAM,GAAG,IAAI,KAI1C/G,MAHWE,KAAS,OAAOA,KAAS,KAAKA,GAGxB,SAAS,EAAE,EAAE,YAAW;AAC/C,SAAO,SAAS,MAAMF,EAAO,MAAM,IAAIA;AACxC;AAEAoC,EAAQ,IAAI,OAAO,SAAU3B,GAAK;AAEjC,SAAO,EADQA,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,KAAK,IAC3B,MAAM,GAAG;AAC1B;ACt8BA,SAASuG,KAAa;AACrB,QAAMC,IAAQ,CAAA,GAERC,IAAS,OAAO,KAAKC,CAAW;AAEtC,WAAS,EAAC,QAAAC,EAAM,IAAIF,GAAQ,IAAI,GAAG,IAAIE,GAAQ;AAC9C,IAAAH,EAAMC,EAAO,CAAC,CAAC,IAAI;AAAA;AAAA;AAAA,MAGlB,UAAU;AAAA,MACV,QAAQ;AAAA,IACX;AAGC,SAAOD;AACR;AAGA,SAASI,GAAUC,GAAW;AAC7B,QAAML,IAAQD,GAAU,GAClBO,IAAQ,CAACD,CAAS;AAIxB,OAFAL,EAAMK,CAAS,EAAE,WAAW,GAErBC,EAAM,SAAS,KAAG;AACxB,UAAMC,IAAUD,EAAM,IAAG,GACnBE,IAAY,OAAO,KAAKN,EAAYK,CAAO,CAAC;AAElD,aAAS,EAAC,QAAAJ,EAAM,IAAIK,GAAW9G,IAAI,GAAGA,IAAIyG,GAAQzG,KAAK;AACtD,YAAM+G,IAAWD,EAAU9G,CAAC,GACtBgH,IAAOV,EAAMS,CAAQ;AAE3B,MAAIC,EAAK,aAAa,OACrBA,EAAK,WAAWV,EAAMO,CAAO,EAAE,WAAW,GAC1CG,EAAK,SAASH,GACdD,EAAM,QAAQG,CAAQ;AAAA,IAExB;AAAA,EACD;AAEA,SAAOT;AACR;AAEA,SAASW,GAAKC,GAAMC,GAAI;AACvB,SAAO,SAAU/B,GAAM;AACtB,WAAO+B,EAAGD,EAAK9B,CAAI,CAAC;AAAA,EACrB;AACD;AAEA,SAASgC,GAAeC,GAASf,GAAO;AACvC,QAAMgB,IAAO,CAAChB,EAAMe,CAAO,EAAE,QAAQA,CAAO;AAC5C,MAAIE,IAAKf,EAAYF,EAAMe,CAAO,EAAE,MAAM,EAAEA,CAAO,GAE/CG,IAAMlB,EAAMe,CAAO,EAAE;AACzB,SAAOf,EAAMkB,CAAG,EAAE;AACjB,IAAAF,EAAK,QAAQhB,EAAMkB,CAAG,EAAE,MAAM,GAC9BD,IAAKN,GAAKT,EAAYF,EAAMkB,CAAG,EAAE,MAAM,EAAEA,CAAG,GAAGD,CAAE,GACjDC,IAAMlB,EAAMkB,CAAG,EAAE;AAGlB,SAAAD,EAAG,aAAaD,GACTC;AACR;AAEA,SAASE,GAAMd,GAAW;AACzB,QAAML,IAAQI,GAAUC,CAAS,GAC3Be,IAAa,CAAA,GAEbnB,IAAS,OAAO,KAAKD,CAAK;AAChC,WAAS,EAAC,QAAAG,EAAM,IAAIF,GAAQvG,IAAI,GAAGA,IAAIyG,GAAQzG,KAAK;AACnD,UAAMqH,IAAUd,EAAOvG,CAAC;AAGxB,IAFasG,EAAMe,CAAO,EAEjB,WAAW,SAKpBK,EAAWL,CAAO,IAAID,GAAeC,GAASf,CAAK;AAAA,EACpD;AAEA,SAAOoB;AACR;AC5FA,MAAMjG,IAAU,CAAA,GAEV8E,KAAS,OAAO,KAAKC,CAAW;AAEtC,SAASmB,GAAQJ,GAAI;AACpB,QAAMK,IAAY,YAAaxC,GAAM;AACpC,UAAMyC,IAAOzC,EAAK,CAAC;AACnB,WAA0ByC,KAAS,OAC3BA,KAGJA,EAAK,SAAS,MACjBzC,IAAOyC,IAGDN,EAAGnC,CAAI;AAAA,EACf;AAGA,SAAI,gBAAgBmC,MACnBK,EAAU,aAAaL,EAAG,aAGpBK;AACR;AAEA,SAASE,GAAYP,GAAI;AACxB,QAAMK,IAAY,YAAaxC,GAAM;AACpC,UAAMyC,IAAOzC,EAAK,CAAC;AAEnB,QAA0ByC,KAAS;AAClC,aAAOA;AAGR,IAAIA,EAAK,SAAS,MACjBzC,IAAOyC;AAGR,UAAME,IAASR,EAAGnC,CAAI;AAKtB,QAAI,OAAO2C,KAAW;AACrB,eAAS,EAAC,QAAAtB,EAAM,IAAIsB,GAAQ/H,IAAI,GAAGA,IAAIyG,GAAQzG;AAC9C,QAAA+H,EAAO/H,CAAC,IAAI,KAAK,MAAM+H,EAAO/H,CAAC,CAAC;AAIlC,WAAO+H;AAAA,EACR;AAGA,SAAI,gBAAgBR,MACnBK,EAAU,aAAaL,EAAG,aAGpBK;AACR;AAEA,WAAWjB,KAAaJ,IAAQ;AAC/B,EAAA9E,EAAQkF,CAAS,IAAI,CAAA,GAErB,OAAO,eAAelF,EAAQkF,CAAS,GAAG,YAAY,EAAC,OAAOH,EAAYG,CAAS,EAAE,SAAQ,CAAC,GAC9F,OAAO,eAAelF,EAAQkF,CAAS,GAAG,UAAU,EAAC,OAAOH,EAAYG,CAAS,EAAE,OAAM,CAAC;AAE1F,QAAMqB,IAASP,GAAMd,CAAS,GACxBsB,IAAc,OAAO,KAAKD,CAAM;AAEtC,aAAWX,KAAWY,GAAa;AAClC,UAAMV,IAAKS,EAAOX,CAAO;AAEzB,IAAA5F,EAAQkF,CAAS,EAAEU,CAAO,IAAIS,GAAYP,CAAE,GAC5C9F,EAAQkF,CAAS,EAAEU,CAAO,EAAE,MAAMM,GAAQJ,CAAE;AAAA,EAC7C;AACD;AC3EA,MAAMW,KAAgB;AAAA;AAAA,EAErB;AAAA;AAAA,EAGA;AAAA;AAAA,EAGA;AACD,GAEMC,KAAkB,CAAA;AACxB,WAAW3I,KAAS,OAAO,KAAKiC,CAAO;AACtC,EAAA0G,GAAgB,CAAC,GAAG1G,EAAQjC,CAAK,EAAE,MAAM,EAAE,OAAO,KAAK,EAAE,CAAC,IAAIA;AAG/D,MAAM4I,KAAW,CAAA;AAEjB,SAASC,EAAMC,GAAQ9I,GAAO;AAC7B,MAAI,EAAE,gBAAgB6I;AACrB,WAAO,IAAIA,EAAMC,GAAQ9I,CAAK;AAO/B,MAJIA,KAASA,KAAS0I,OACrB1I,IAAQ,OAGLA,KAAS,EAAEA,KAASiC;AACvB,UAAM,IAAI,MAAM,oBAAoBjC,CAAK;AAG1C,MAAIQ,GACA+B;AAEJ,MAAIuG,KAAU;AACb,SAAK,QAAQ,OACb,KAAK,QAAQ,CAAC,GAAG,GAAG,CAAC,GACrB,KAAK,SAAS;AAAA,WACJA,aAAkBD;AAC5B,SAAK,QAAQC,EAAO,OACpB,KAAK,QAAQ,CAAC,GAAGA,EAAO,KAAK,GAC7B,KAAK,SAASA,EAAO;AAAA,WACX,OAAOA,KAAW,UAAU;AACtC,UAAMP,IAASrC,EAAY,IAAI4C,CAAM;AACrC,QAAIP,MAAW;AACd,YAAM,IAAI,MAAM,wCAAwCO,CAAM;AAG/D,SAAK,QAAQP,EAAO,OACpBhG,IAAWN,EAAQ,KAAK,KAAK,EAAE,UAC/B,KAAK,QAAQsG,EAAO,MAAM,MAAM,GAAGhG,CAAQ,GAC3C,KAAK,SAAS,OAAOgG,EAAO,MAAMhG,CAAQ,KAAM,WAAWgG,EAAO,MAAMhG,CAAQ,IAAI;AAAA,EACrF,WAAWuG,EAAO,SAAS,GAAG;AAC7B,SAAK,QAAQ9I,KAAS,OACtBuC,IAAWN,EAAQ,KAAK,KAAK,EAAE;AAC/B,UAAM8G,IAAW,MAAM,UAAU,MAAM,KAAKD,GAAQ,GAAGvG,CAAQ;AAC/D,SAAK,QAAQyG,GAAUD,GAAUxG,CAAQ,GACzC,KAAK,SAAS,OAAOuG,EAAOvG,CAAQ,KAAM,WAAWuG,EAAOvG,CAAQ,IAAI;AAAA,EACzE,WAAW,OAAOuG,KAAW;AAE5B,SAAK,QAAQ,OACb,KAAK,QAAQ;AAAA,MACXA,KAAU,KAAM;AAAA,MAChBA,KAAU,IAAK;AAAA,MAChBA,IAAS;AAAA,IACZ,GACE,KAAK,SAAS;AAAA,OACR;AACN,SAAK,SAAS;AAEd,UAAMG,IAAO,OAAO,KAAKH,CAAM;AAC/B,IAAI,WAAWA,MACdG,EAAK,OAAOA,EAAK,QAAQ,OAAO,GAAG,CAAC,GACpC,KAAK,SAAS,OAAOH,EAAO,SAAU,WAAWA,EAAO,QAAQ;AAGjE,UAAMI,IAAaD,EAAK,KAAI,EAAG,KAAK,EAAE;AACtC,QAAI,EAAEC,KAAcP;AACnB,YAAM,IAAI,MAAM,wCAAwC,KAAK,UAAUG,CAAM,CAAC;AAG/E,SAAK,QAAQH,GAAgBO,CAAU;AAEvC,UAAM,EAAC,QAAA1G,EAAM,IAAIP,EAAQ,KAAK,KAAK,GAC7B8D,IAAQ,CAAA;AACd,SAAKvF,IAAI,GAAGA,IAAIgC,EAAO,QAAQhC;AAC9B,MAAAuF,EAAM,KAAK+C,EAAOtG,EAAOhC,CAAC,CAAC,CAAC;AAG7B,SAAK,QAAQwI,GAAUjD,CAAK;AAAA,EAC7B;AAGA,MAAI6C,GAAS,KAAK,KAAK;AAEtB,SADArG,IAAWN,EAAQ,KAAK,KAAK,EAAE,UAC1BzB,IAAI,GAAGA,IAAI+B,GAAU/B,KAAK;AAC9B,YAAM2I,IAAQP,GAAS,KAAK,KAAK,EAAEpI,CAAC;AACpC,MAAI2I,MACH,KAAK,MAAM3I,CAAC,IAAI2I,EAAM,KAAK,MAAM3I,CAAC,CAAC;AAAA,IAErC;AAGD,OAAK,SAAS,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,MAAM,CAAC,GAE9C,OAAO,UACV,OAAO,OAAO,IAAI;AAEpB;AAEAqI,EAAM,YAAY;AAAA,EACjB,WAAW;AACV,WAAO,KAAK,OAAM;AAAA,EACnB;AAAA,EAEA,SAAS;AACR,WAAO,KAAK,KAAK,KAAK,EAAC;AAAA,EACxB;AAAA,EAEA,OAAOO,GAAQ;AACd,QAAIC,IAAO,KAAK,SAASnD,EAAY,KAAK,OAAO,KAAK,IAAG;AACzD,IAAAmD,IAAOA,EAAK,MAAM,OAAOD,KAAW,WAAWA,IAAS,CAAC;AACzD,UAAME,IAAaD,EAAK,WAAW,IAAIA,EAAK,QAAQ,CAAC,GAAGA,EAAK,OAAO,KAAK,MAAM;AAC/E,WAAOnD,EAAY,GAAGmD,EAAK,KAAK,EAAE,GAAGC,CAAU;AAAA,EAChD;AAAA,EAEA,cAAcF,GAAQ;AACrB,UAAMC,IAAO,KAAK,MAAM,MAAM,OAAOD,KAAW,WAAWA,IAAS,CAAC,GAC/DE,IAAaD,EAAK,WAAW,IAAIA,EAAK,QAAQ,CAAC,GAAGA,EAAK,OAAO,KAAK,MAAM;AAC/E,WAAOnD,EAAY,GAAG,IAAI,QAAQ,GAAGoD,CAAU;AAAA,EAChD;AAAA,EAEA,QAAQ;AACP,WAAO,KAAK,WAAW,IAAI,CAAC,GAAG,KAAK,KAAK,IAAI,CAAC,GAAG,KAAK,OAAO,KAAK,MAAM;AAAA,EACzE;AAAA,EAEA,SAAS;AACR,UAAMf,IAAS,CAAA,GACT,EAAC,UAAAhG,EAAQ,IAAIN,EAAQ,KAAK,KAAK,GAC/B,EAAC,QAAAO,EAAM,IAAIP,EAAQ,KAAK,KAAK;AAEnC,aAAS,IAAI,GAAG,IAAIM,GAAU;AAC7B,MAAAgG,EAAO/F,EAAO,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC;AAGjC,WAAI,KAAK,WAAW,MACnB+F,EAAO,QAAQ,KAAK,SAGdA;AAAA,EACR;AAAA,EAEA,YAAY;AACX,UAAMjI,IAAM,KAAK,IAAG,EAAG;AACvB,WAAAA,EAAI,CAAC,KAAK,KACVA,EAAI,CAAC,KAAK,KACVA,EAAI,CAAC,KAAK,KAEN,KAAK,WAAW,KACnBA,EAAI,KAAK,KAAK,MAAM,GAGdA;AAAA,EACR;AAAA,EAEA,aAAa;AACZ,UAAMA,IAAM,KAAK,IAAG,EAAG,OAAM;AAC7B,WAAAA,EAAI,KAAK,KACTA,EAAI,KAAK,KACTA,EAAI,KAAK,KAEL,KAAK,WAAW,MACnBA,EAAI,QAAQ,KAAK,SAGXA;AAAA,EACR;AAAA,EAEA,MAAM8I,GAAQ;AACb,WAAAA,IAAS,KAAK,IAAIA,KAAU,GAAG,CAAC,GACzB,IAAIP,EAAM,CAAC,GAAG,KAAK,MAAM,IAAIU,GAAaH,CAAM,CAAC,GAAG,KAAK,MAAM,GAAG,KAAK,KAAK;AAAA,EACpF;AAAA,EAEA,MAAMrJ,GAAO;AACZ,WAAIA,MAAU,SACN,IAAI8I,EAAM,CAAC,GAAG,KAAK,OAAO,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG9I,CAAK,CAAC,CAAC,GAAG,KAAK,KAAK,IAGvE,KAAK;AAAA,EACb;AAAA;AAAA,EAGA,KAAKyJ,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EAChC,OAAOD,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EAClC,MAAMD,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EAEjC,KAAKD,EAAO,CAAC,OAAO,OAAO,OAAO,OAAO,KAAK,GAAG,GAAG,CAAAzJ,OAAWA,IAAQ,MAAO,OAAO,GAAG;AAAA,EAExF,aAAayJ,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EACxC,WAAWD,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EAEtC,aAAaD,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EACxC,OAAOD,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EAElC,QAAQD,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EACnC,MAAMD,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EAEjC,OAAOD,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EAClC,QAAQD,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EAEnC,MAAMD,EAAO,QAAQ,GAAGC,EAAM,GAAG,CAAC;AAAA,EAClC,SAASD,EAAO,QAAQ,GAAGC,EAAM,GAAG,CAAC;AAAA,EACrC,QAAQD,EAAO,QAAQ,GAAGC,EAAM,GAAG,CAAC;AAAA,EACpC,OAAOD,EAAO,QAAQ,GAAGC,EAAM,GAAG,CAAC;AAAA,EAEnC,GAAGD,EAAO,OAAO,GAAGC,EAAM,MAAM,CAAC;AAAA,EACjC,GAAGD,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EAC9B,GAAGD,EAAO,OAAO,GAAGC,EAAM,OAAO,CAAC;AAAA,EAElC,GAAGD,EAAO,OAAO,GAAGC,EAAM,GAAG,CAAC;AAAA,EAC9B,GAAGD,EAAO,OAAO,CAAC;AAAA,EAClB,GAAGA,EAAO,OAAO,CAAC;AAAA,EAElB,QAAQzJ,GAAO;AACd,WAAIA,MAAU,SACN,IAAI8I,EAAM9I,CAAK,IAGhBkC,EAAQ,KAAK,KAAK,EAAE,QAAQ,KAAK,KAAK;AAAA,EAC9C;AAAA,EAEA,IAAIlC,GAAO;AACV,WAAIA,MAAU,SACN,IAAI8I,EAAM9I,CAAK,IAGhBmG,EAAY,GAAG,IAAI,GAAG,KAAK,IAAG,EAAG,MAAK,EAAG,KAAK;AAAA,EACtD;AAAA,EAEA,KAAKnG,GAAO;AACX,QAAIA,MAAU;AACb,aAAO,IAAI8I,EAAM9I,CAAK;AAGvB,UAAM2J,IAAW,KAAK,IAAG,EAAG,MAAK,EAAG;AAEpC,QAAIC,IAAW,KAAK,MAAM,KAAK,SAAS,GAAG,EAAE,SAAS,EAAE,EAAE,YAAW;AACrE,WAAIA,EAAS,WAAW,MACvBA,IAAW,MAAMA,IAGXzD,EAAY,GAAG,IAAI,GAAGwD,CAAQ,IAAIC;AAAA,EAC1C;AAAA,EAEA,YAAY;AACX,UAAMrJ,IAAM,KAAK,IAAG,EAAG;AACvB,YAASA,EAAI,CAAC,IAAI,QAAS,MAAQA,EAAI,CAAC,IAAI,QAAS,IAAMA,EAAI,CAAC,IAAI;AAAA,EACrE;AAAA,EAEA,aAAa;AAEZ,UAAMA,IAAM,KAAK,IAAG,EAAG,OAEjBsJ,IAAM,CAAA;AACZ,eAAW,CAACpJ,GAAGqJ,CAAO,KAAKvJ,EAAI,QAAO,GAAI;AACzC,YAAMwJ,IAAOD,IAAU;AACvB,MAAAD,EAAIpJ,CAAC,IAAKsJ,KAAQ,UAAWA,IAAO,UAAUA,IAAO,SAAS,UAAU;AAAA,IACzE;AAEA,WAAO,SAASF,EAAI,CAAC,IAAI,SAASA,EAAI,CAAC,IAAI,SAASA,EAAI,CAAC;AAAA,EAC1D;AAAA,EAEA,SAASG,GAAQ;AAEhB,UAAMC,IAAO,KAAK,WAAU,GACtBC,IAAOF,EAAO,WAAU;AAE9B,WAAIC,IAAOC,KACFD,IAAO,SAASC,IAAO,SAGxBA,IAAO,SAASD,IAAO;AAAA,EAChC;AAAA,EAEA,MAAMD,GAAQ;AAEb,UAAMG,IAAgB,KAAK,SAASH,CAAM;AAC1C,WAAIG,KAAiB,IACb,QAGAA,KAAiB,MAAO,OAAO;AAAA,EACxC;AAAA,EAEA,SAAS;AAER,UAAM5J,IAAM,KAAK,IAAG,EAAG;AAEvB,YADaA,EAAI,CAAC,IAAI,OAAOA,EAAI,CAAC,IAAI,OAAOA,EAAI,CAAC,IAAI,OAAO,MAChD;AAAA,EACd;AAAA,EAEA,UAAU;AACT,WAAO,CAAC,KAAK,OAAM;AAAA,EACpB;AAAA,EAEA,SAAS;AACR,UAAMA,IAAM,KAAK,IAAG;AACpB,aAASE,IAAI,GAAGA,IAAI,GAAGA;AACtB,MAAAF,EAAI,MAAME,CAAC,IAAI,MAAMF,EAAI,MAAME,CAAC;AAGjC,WAAOF;AAAA,EACR;AAAA,EAEA,QAAQ0E,GAAO;AACd,UAAMpE,IAAM,KAAK,IAAG;AACpB,WAAAA,EAAI,MAAM,CAAC,KAAKA,EAAI,MAAM,CAAC,IAAIoE,GACxBpE;AAAA,EACR;AAAA,EAEA,OAAOoE,GAAO;AACb,UAAMpE,IAAM,KAAK,IAAG;AACpB,WAAAA,EAAI,MAAM,CAAC,KAAKA,EAAI,MAAM,CAAC,IAAIoE,GACxBpE;AAAA,EACR;AAAA,EAEA,SAASoE,GAAO;AACf,UAAMpE,IAAM,KAAK,IAAG;AACpB,WAAAA,EAAI,MAAM,CAAC,KAAKA,EAAI,MAAM,CAAC,IAAIoE,GACxBpE;AAAA,EACR;AAAA,EAEA,WAAWoE,GAAO;AACjB,UAAMpE,IAAM,KAAK,IAAG;AACpB,WAAAA,EAAI,MAAM,CAAC,KAAKA,EAAI,MAAM,CAAC,IAAIoE,GACxBpE;AAAA,EACR;AAAA,EAEA,OAAOoE,GAAO;AACb,UAAM9D,IAAM,KAAK,IAAG;AACpB,WAAAA,EAAI,MAAM,CAAC,KAAKA,EAAI,MAAM,CAAC,IAAI8D,GACxB9D;AAAA,EACR;AAAA,EAEA,QAAQ8D,GAAO;AACd,UAAM9D,IAAM,KAAK,IAAG;AACpB,WAAAA,EAAI,MAAM,CAAC,KAAKA,EAAI,MAAM,CAAC,IAAI8D,GACxB9D;AAAA,EACR;AAAA,EAEA,YAAY;AAEX,UAAMZ,IAAM,KAAK,IAAG,EAAG,OACjBP,IAAQO,EAAI,CAAC,IAAI,MAAMA,EAAI,CAAC,IAAI,OAAOA,EAAI,CAAC,IAAI;AACtD,WAAOuI,EAAM,IAAI9I,GAAOA,GAAOA,CAAK;AAAA,EACrC;AAAA,EAEA,KAAKiF,GAAO;AACX,WAAO,KAAK,MAAM,KAAK,SAAU,KAAK,SAASA,CAAM;AAAA,EACtD;AAAA,EAEA,QAAQA,GAAO;AACd,WAAO,KAAK,MAAM,KAAK,SAAU,KAAK,SAASA,CAAM;AAAA,EACtD;AAAA,EAEA,OAAOmF,GAAS;AACf,UAAMvJ,IAAM,KAAK,IAAG;AACpB,QAAI0F,IAAM1F,EAAI,MAAM,CAAC;AACrB,WAAA0F,KAAOA,IAAM6D,KAAW,KACxB7D,IAAMA,IAAM,IAAI,MAAMA,IAAMA,GAC5B1F,EAAI,MAAM,CAAC,IAAI0F,GACR1F;AAAA,EACR;AAAA,EAEA,IAAIwJ,GAAYC,GAAQ;AAGvB,QAAI,CAACD,KAAc,CAACA,EAAW;AAC9B,YAAM,IAAI,MAAM,2EAA2E,OAAOA,CAAU;AAG7G,UAAME,IAASF,EAAW,IAAG,GACvBL,IAAS,KAAK,IAAG,GACjBtF,IAAI4F,MAAW,SAAY,MAAMA,GAEjClJ,IAAI,IAAIsD,IAAI,GACZxD,IAAIqJ,EAAO,MAAK,IAAKP,EAAO,MAAK,GAEjCQ,MAAQpJ,IAAIF,MAAM,KAAME,KAAKA,IAAIF,MAAM,IAAIE,IAAIF,MAAM,KAAK,GAC1DuJ,IAAK,IAAID;AAEf,WAAO1B,EAAM;AAAA,MACZ0B,IAAKD,EAAO,IAAG,IAAKE,IAAKT,EAAO,IAAG;AAAA,MACnCQ,IAAKD,EAAO,MAAK,IAAKE,IAAKT,EAAO,MAAK;AAAA,MACvCQ,IAAKD,EAAO,KAAI,IAAKE,IAAKT,EAAO,KAAI;AAAA,MACrCO,EAAO,MAAK,IAAK7F,IAAIsF,EAAO,WAAW,IAAItF;AAAA,IAAE;AAAA,EAC/C;AACD;AAGA,WAAWzE,KAAS,OAAO,KAAKiC,CAAO,GAAG;AACzC,MAAIyG,GAAc,SAAS1I,CAAK;AAC/B;AAGD,QAAM,EAAC,UAAAuC,EAAQ,IAAIN,EAAQjC,CAAK;AAGhC,EAAA6I,EAAM,UAAU7I,CAAK,IAAI,YAAasJ,GAAY;AACjD,WAAI,KAAK,UAAUtJ,IACX,IAAI6I,EAAM,IAAI,IAGlBS,EAAW,SAAS,IAChB,IAAIT,EAAMS,GAAYtJ,CAAK,IAG5B,IAAI6I,EAAM,CAAC,GAAG4B,GAAYxI,EAAQ,KAAK,KAAK,EAAEjC,CAAK,EAAE,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,MAAM,GAAGA,CAAK;AAAA,EAClG,GAGA6I,EAAM7I,CAAK,IAAI,YAAasJ,GAAY;AACvC,QAAIvD,IAAQuD,EAAW,CAAC;AACxB,WAAI,OAAOvD,KAAU,aACpBA,IAAQiD,GAAUM,GAAY/G,CAAQ,IAGhC,IAAIsG,EAAM9C,GAAO/F,CAAK;AAAA,EAC9B;AACD;AAEA,SAAS0K,GAAQC,GAAQvB,GAAQ;AAChC,SAAO,OAAOuB,EAAO,QAAQvB,CAAM,CAAC;AACrC;AAEA,SAASG,GAAaH,GAAQ;AAC7B,SAAO,SAAUuB,GAAQ;AACxB,WAAOD,GAAQC,GAAQvB,CAAM;AAAA,EAC9B;AACD;AAEA,SAASI,EAAOxJ,GAAO4K,GAASC,GAAU;AACzC,EAAA7K,IAAQ,MAAM,QAAQA,CAAK,IAAIA,IAAQ,CAACA,CAAK;AAE7C,aAAWsD,KAAKtD;AACf,KAAC4I,GAAStF,CAAC,MAAM,CAAA,GAAIsH,CAAO,IAAIC;AAGjC,SAAA7K,IAAQA,EAAM,CAAC,GAER,SAAUD,GAAO;AACvB,QAAIwI;AAEJ,WAAIxI,MAAU,UACT8K,MACH9K,IAAQ8K,EAAS9K,CAAK,IAGvBwI,IAAS,KAAKvI,CAAK,EAAC,GACpBuI,EAAO,MAAMqC,CAAO,IAAI7K,GACjBwI,MAGRA,IAAS,KAAKvI,CAAK,EAAC,EAAG,MAAM4K,CAAO,GAChCC,MACHtC,IAASsC,EAAStC,CAAM,IAGlBA;AAAA,EACR;AACD;AAEA,SAASkB,EAAM7H,GAAK;AACnB,SAAO,SAAUiB,GAAG;AACnB,WAAO,KAAK,IAAI,GAAG,KAAK,IAAIjB,GAAKiB,CAAC,CAAC;AAAA,EACpC;AACD;AAEA,SAAS4H,GAAY1K,GAAO;AAC3B,SAAO,MAAM,QAAQA,CAAK,IAAIA,IAAQ,CAACA,CAAK;AAC7C;AAEA,SAASiJ,GAAU8B,GAAO7D,GAAQ;AACjC,WAASzG,IAAI,GAAGA,IAAIyG,GAAQzG;AAC3B,IAAI,OAAOsK,EAAMtK,CAAC,KAAM,aACvBsK,EAAMtK,CAAC,IAAI;AAIb,SAAOsK;AACR;ACxeA,MAAMC,IAAM;AAAA,EACV,SAAS;AAAA,EACT,UAAU;AAAA,EACV,YAAY;AAAA,EACZ,iBAAiB;AAAA,EACjB,WAAW;AAAA,EACX,oBAAoB;AAAA,EACpB,WAAW;AAAA,EACX,SAAS;AAAA,EACT,iBAAiB;AAAA,EACjB,gBAAgB;AAAA,EAChB,aAAa;AAAA,EACb,QAAQ;AAAA,EACR,qBAAqB;AAAA,EACrB,YAAY;AAAA,EACZ,UAAU;AAAA,EACV,WAAW;AAAA,EACX,cAAc;AAAA,EACd,eAAe;AAAA,EACf,SAAS;AAAA,EACT,mBAAmB;AAAA,EACnB,WAAW;AAAA,EACX,YAAY;AAAA,EACZ,aAAa;AAAA,EACb,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,OAAO;AAAA,EACP,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,SAAS;AAAA,EACT,cAAc;AAChB,GACMC,IAAgBnC,EAAM,SAAS,GAC/BoC,KAA6B,kBAC7BC,KAAa;AAAA,EACjB,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AACL,GACMC,IAAa;AAAA,EACjB,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AACL,GACMC,KAAwBD,EAAW,IAAI,GACvCE,IAAiB;AAAA,EACrB,KAAK;AAAA,EACL,KAAK;AACP,GACMC,IAAoB;AAAA,EACxB,GAAG;AAAA,IACD,KAAK,SAASC,EAAqB;AAAA,IACnC,QAAQ;AAAA,MACN,QAAQ;AAAA,IACd;AAAA,IACI,OAAO;AAAA,MACL,QAAQ;AAAA,IACd;AAAA,IACI,SAAS;AAAA,MACP,MAAM;AAAA,IACZ;AAAA,IACI,UAAU;AAAA,EACd;AAAA,EACE,GAAG;AAAA,IACD,KAAK,SAASC,EAAqB;AAAA,IACnC,QAAQ;AAAA,MACN,QAAQ;AAAA,IACd;AAAA,IACI,OAAO;AAAA,MACL,QAAQ;AAAA,IACd;AAAA,IACI,SAAS;AAAA,MACP,MAAM;AAAA,IACZ;AAAA,IACI,UAAU;AAAA,EACd;AAAA,EACE,GAAG;AAAA,IACD,KAAK,SAASC,EAAqB;AAAA,IACnC,QAAQ;AAAA,MACN,QAAQ;AAAA,IACd;AAAA,IACI,OAAO;AAAA,MACL,QAAQ;AAAA,IACd;AAAA,IACI,SAAS;AAAA,MACP,MAAM;AAAA,IACZ;AAAA,IACI,UAAU;AAAA,EACd;AACA,GACMC,KAAa,GACbC,KAAU,eACVC,KAAe,mBACfC,KAAc,mBACdC,KAAwB,mBACxBC,KAAuB,mBACvBC,IAAiB,CAACnL,MAAU,QAAQA,IAAQ,KAAK,SAAS,GAC1DoL,KAAiB,CAACC,MAAY,QAAQA,IAAU,KAAK,QAAQ,CAAC,CAAC;AACrE,SAASC,EAAWjM,GAAKkM,IAAW,IAAO;AACzC,SAAOC,EAAenM,GAAKkM,CAAQ,KAAKE,GAAcpM,GAAKkM,CAAQ;AACrE;AACA,SAASG,GAAYrM,GAAK+G,GAAQuF,GAAS;AACzC,SAAKtM,IAGEA,EAAI,WAAW+G,KAAUuF,EAAQ,KAAKtM,CAAG,IAFvC;AAGX;AACA,SAASmM,EAAenM,GAAKkM,IAAW,IAAO;AAG7C,SAAOG,GAAYrM,GAFDkM,IAAW,IAAI,GACdA,IAAWN,KAAwBF,EACT;AAC/C;AACA,SAASU,GAAcpM,GAAKkM,IAAW,IAAO;AAG5C,SAAOG,GAAYrM,GAFDkM,IAAW,IAAI,GACdA,IAAWL,KAAuBF,EACR;AAC/C;AACA,SAASY,EAAavM,GAAKkM,IAAW,IAAOM,IAAuB,IAAO;AAKzE,MAJAxM,IAAMA,EAAI,YAAW,GAChBA,EAAI,WAAW,GAAG,MACrBA,IAAM,IAAIA,CAAG,KAEXmM,EAAenM,GAAKkM,CAAQ;AAC9B,WAAOO,GAASC,GAAS1M,GAAKkM,CAAQ,CAAC;AAEzC,MAAIA,KAAYM,KAAwBP;AAAA,IACtCjM;AAAA,IACA;AAAA;AAAA,EAEJ,GAAK;AACD,UAAM2M,IAAcR,EAAenM,GAAK,EAAK;AAC7C,WAAOyM,GAASC,GAAS,GAAG1M,CAAG,GAAG2M,IAAc,MAAM,IAAI,IAAI,EAAI,CAAC;AAAA,EACrE;AACA,SAAO3M;AACT;AACA,SAAS4M,EAAO/G,GAAOqG,IAAW,IAAO;AACvC,SAAOA,IAAWrG,EAAM,KAAI,IAAKA,EAAM,IAAG;AAC5C;AACA,SAAS4G,GAAS5G,GAAO;AACvB,QAAM,EAAE,GAAAzE,GAAG,GAAAC,GAAG,GAAAH,EAAC,IAAK2E,GACdgH,IAASC,GAAS1L,CAAC,GACnB2L,IAASD,GAASzL,CAAC,GACnB2L,IAASF,GAAS5L,CAAC,GACnB+L,IAAa,OAAOpH,IAAQiH,GAASjH,EAAM,IAAI,GAAG,IAAI;AAC5D,SAAO,IAAIgH,CAAM,GAAGE,CAAM,GAAGC,CAAM,GAAGC,CAAU,GAAG,YAAW;AAChE;AACA,SAASH,GAASI,GAAK;AACrB,SAAOA,EAAI,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG;AACzC;AACA,SAASC,GAAeC,GAAa;AACnC,QAAMC,IAAa;AAAA,IACjB,GAAGD;AAAA,IACH,GAAGA,EAAY,SAAS;AAAA;AAAA,EAE5B;AACE,gBAAOC,EAAW,OACXA;AACT;AACA,SAASC,GAAeC,GAAkB;AACxC,QAAMF,IAAa,EAAE,GAAGE,GAAkB,OAAOA,EAAiB,KAAK,EAAC;AACxE,gBAAOF,EAAW,GACXA;AACT;AACA,SAASX,GAAS1M,GAAKkM,IAAW,IAAO;AACvC,MAAI,CAACD,EAAWjM,GAAKkM,CAAQ;AAC3B,WAAO;AAET,EAAAlM,IAAMA,EAAI,QAAQ,KAAK,EAAE;AACzB,MAAIoB,GACAC,GACAH,GACA;AAEJ,MADoBlB,EAAI,WAAW,KAAKA,EAAI,WAAW,GACtC;AACf,UAAM,CAACwN,GAAOC,GAAQC,GAAOC,CAAM,IAAI3N,EAAI,MAAM,EAAE;AACnD,IAAAoB,IAAI,SAAS,GAAGoM,CAAK,GAAGA,CAAK,IAAI,EAAE,GACnCnM,IAAI,SAAS,GAAGoM,CAAM,GAAGA,CAAM,IAAI,EAAE,GACrCvM,IAAI,SAAS,GAAGwM,CAAK,GAAGA,CAAK,IAAI,EAAE,GACnC,IAAI,SAAS,GAAGC,CAAM,GAAGA,CAAM,IAAI,EAAE,IAAI;AAAA,EAC3C;AACE,IAAAvM,IAAI,SAASpB,EAAI,MAAM,GAAG,CAAC,GAAG,EAAE,GAChCqB,IAAI,SAASrB,EAAI,MAAM,GAAG,CAAC,GAAG,EAAE,GAChCkB,IAAI,SAASlB,EAAI,MAAM,GAAG,CAAC,GAAG,EAAE,GAChC,IAAI,SAASA,EAAI,MAAM,GAAG,CAAC,GAAG,EAAE,IAAI;AAEtC,SAAO,MAAM,CAAC,IAAI,EAAE,GAAAoB,GAAG,GAAAC,GAAG,GAAAH,EAAC,IAAK,EAAE,GAAAE,GAAG,GAAAC,GAAG,GAAAH,GAAG,EAAC;AAC9C;AACA,MAAM0M,KAAU,CAACrK,MAAMA,GACjBsK,IAAeD,GAAQ;AAAA,EAC3B,KAAK;AAAA,EACL,MAAM;AAAA,EACN,SAAS;AAAA,EACT,UAAU;AAAA,EACV,SAAS;AAAA,EACT,UAAU;AACZ,CAAC,GACKE,IAAkBF,GAAQ;AAAA,EAC9B,KAAK;AAAA,EACL,MAAM;AAAA,EACN,KAAK;AAAA,EACL,MAAM;AAAA,EACN,KAAK;AAAA,EACL,MAAM;AACR,CAAC;AACD,SAASG,GAAUC,GAAY;AAC7B,MAAI,OAAOA,KAAe,UAAU;AAClC,QAAIA,EAAW,WAAW,GAAG,GAAG;AAC9B,YAAM,EAAE,QAAAjH,EAAM,IAAKiH;AACnB,UAAIjH,MAAW,KAAKA,MAAW;AAC7B,eAAO8G,EAAa;AAEtB,UAAI9G,MAAW,KAAKA,MAAW;AAC7B,eAAO8G,EAAa;AAAA,IAExB;AACA,QAAIG,EAAW,WAAW,OAAO;AAC/B,aAAOH,EAAa;AAEtB,QAAIG,EAAW,WAAW,MAAM;AAC9B,aAAOH,EAAa;AAEtB,QAAIG,EAAW,WAAW,MAAM;AAC9B,aAAOH,EAAa;AAEtB,QAAIG,EAAW,WAAW,OAAO;AAC/B,aAAOH,EAAa;AAAA,EAExB;AACA,MAAI,OAAOG,KAAe,UAAU;AAClC,QAAIC,EAAYD,GAAY,KAAK,KAAK,GAAG;AACvC,aAAOC,EAAYD,GAAY,GAAG,IAAIF,EAAgB,OAAOA,EAAgB;AAE/E,QAAIG,EAAYD,GAAY,KAAK,KAAK,GAAG;AACvC,aAAOC,EAAYD,GAAY,GAAG,IAAIF,EAAgB,OAAOA,EAAgB;AAE/E,QAAIG,EAAYD,GAAY,KAAK,KAAK,GAAG;AACvC,aAAOC,EAAYD,GAAY,GAAG,IAAIF,EAAgB,OAAOA,EAAgB;AAAA,EAEjF;AACA,SAAO;AACT;AACA,SAASG,EAAYb,MAAgB/K,GAAU;AAC7C,SAAOA,EAAS,MAAM,CAACqI,MAAYA,KAAW0C,KAAe,GAAG1C,CAAO,MAAM0C,CAAW;AAC1F;AACA,SAASc,GAAWC,GAAQC,GAAQ;AAClC,SAAOD,GAAQ,MAAM,QAAQ,eAAeC,GAAQ,IAAG,EAAG,MAAK,EAAG,SAAQ;AAC5E;AACA,SAASC,GAAgBC,GAAM;AAC7B,SAAOA,MAAST,EAAa,QAAQS,MAAST,EAAa,YAAYS,MAAST,EAAa,YAAYS,MAASR,EAAgB,QAAQQ,MAASR,EAAgB,QAAQQ,MAASR,EAAgB;AACtM;AACA,SAASS,GAAYD,GAAM;AAEzB,SADkBA,MAAST,EAAa,MAAMA,EAAa,OAAOS,MAAST,EAAa,UAAUA,EAAa,WAAWS,MAAST,EAAa,UAAUA,EAAa,WAAWS,MAASR,EAAgB,MAAMA,EAAgB,OAAOQ,MAASR,EAAgB,MAAMA,EAAgB,OAAOQ,MAASR,EAAgB,MAAMA,EAAgB,OAAOQ;AAEtV;AACA,SAASE,GAAeF,GAAM;AAE5B,SADqBA,MAAST,EAAa,OAAOA,EAAa,MAAMS,MAAST,EAAa,WAAWA,EAAa,UAAUS,MAAST,EAAa,WAAWA,EAAa,UAAUS,MAASR,EAAgB,OAAOA,EAAgB,MAAMQ,MAASR,EAAgB,OAAOA,EAAgB,MAAMQ,MAASR,EAAgB,OAAOA,EAAgB,MAAMQ;AAEzV;AACA,MAAMG,KAAkB,GAClBC,KAA6BD,KAAkB;AACrD,SAASE,GAAeC,GAAgBC,GAAwB3C,GAAU;AACxE,QAAM4C,IAAe5C,IAAWd,EAAkB,EAAK,QAAQ,OAAOyD,EAAuB,QAAQ,MAC/FE,IAAiBH,IAAiBF,IAClCM,IAA4BH,EAAuB,MAAM;AAC/D,SAAO,KAAK,IAAIE,IAAiBC,IAA4BF,GAAc,CAAC;AAC9E;AACA,SAASG,GAAwBL,GAAgB;AAE/C,QAAMG,IAAiBH,IAAiBF;AACxC,SAAO;AAAA,IACL,OAAO,KAAK,IAAIK,GAAgB,CAAC;AAAA,IACjC,QAAQ,KAAK,IAAI,KAAK,MAAMA,IAAiB,GAAqB,GAAG,CAAC;AAAA,EAC1E;AACA;AC3QA,MAAMlE,KAAM;AAAA,EACV,QAAQ;AAAA,EACR,eAAe;AAAA,EACf,SAAS;AACX,GACMqE,KAAS;AAAA,EACb,aAAa;AAAA,EACb,YAAY;AACd,GACMC,KAAoB,GACpBC,IAAqB;AAAA,EACzB,YAAYD;AAAA,EACZ,MAAMA,KAAoB;AAC5B,GACME,KAASC;AACf,MAAMC,WAA0BC,EAAW;AAAA,EACzC,cAAc;AACZ,UAAM,GAAG,SAAS,GAClB,KAAK,SAAS,IACd,KAAK,QAAQ;AAAA,EACf;AAAA,EACA,OAAA;AACE,SAAK,aAAa,EAAE,QAAQ,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,OAAO,GAAG,OAAO,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,EAAC;AAAA,EACtH;AAAA,EACE,OAAA;AACE,SAAK,SAASH;AAAAA,EAClB;AAAA,EACE,OAAO;AACL,SAAK,kBAAkB,KAAK,KAAK;AAAA,EACnC;AAAA,EACA,WAAWI,GAAS;AAClB,IAAIA,EAAQ,IAAI,OAAO,KACrB,KAAK,kBAAkB,KAAK,KAAK;AAAA,EAErC;AAAA,EACA,kBAAkB5J,GAAO;AACvB,SAAK,gBAAgBA,IAAQ8C,EAAM9C,CAAK,IAAI;AAAA,EAC9C;AAAA,EACA,SAAS;AACP,UAAM6J,IAAU,CAAC,KAAK,eAChBC,IAAU;AAAA,MACd,CAAC9E,GAAI,MAAM,GAAG;AAAA,MACd,CAACA,GAAI,aAAa,GAAG6E;AAAA,IAC3B;AACI,WAAOE,eAAkBC,EAAaF,CAAO,CAAC,qCAAqC,KAAK,aAAY,CAAE;AAAA,EACxG;AAAA,EACA,eAAe;AACb,UAAM,EAAE,QAAAG,GAAQ,IAAAC,GAAI,eAAAC,EAAa,IAAK,MAChCC,IAAeH,IAAS,SAAS,KAEjCI,IADQC,GAAYJ,CAAE,MACE,UAAUb,GAAO,cAAcA,GAAO,YAC9DQ,IAAU,CAACM,GACXI,IAAoB;AAAA,MACxB,QAAQ;AAAA,MACR,IAAIH;AAAA,MACJ,QAAQC;AAAA,MACR,aAAa;AAAA,MACb,OAAO;AAAA,IACb;AACI,QAAIR;AACF,aAAOW,6CAA8CJ,CAAuB,4BAA4B,KAAK,iBAAiB;AAAA,QAC5H,UAAU,iBAAiBA,CAAY;AAAA,QACvC,GAAGG;AAAA,MACX,CAAO,CAAC;AAEJ,UAAMzP,IAAQqP,EAAc,MAAK,GAC3BhQ,IAAM4M,EAAOoD,CAAa,GAC1BM,IAAO1D,EAAOoD,GAAerP,IAAQ,CAAC;AAC5C,WAAO0P,YAAaC,CAAI,iCAAiClB,EAAmB,IAAI,iDAAiDA,EAAmB,IAAI,wBAAwBS,EAAahF,GAAI,OAAO,CAAC,WAAWuE,EAAmB,UAAU,UAAUA,EAAmB,UAAU,0BAA0BS,EAAahF,GAAI,OAAO,CAAC,WAAWuE,EAAmB,UAAU,UAAUA,EAAmB,UAAU,MAAMA,EAAmB,UAAU,MAAMA,EAAmB,UAAU,uBAAuB,KAAK,iBAAiB;AAAA,MAC3gB,MAAM;AAAA,MACN,IAAIgB,EAAkB;AAAA,MACtB,QAAQA,EAAkB;AAAA,MAC1B,OAAOA,EAAkB;AAAA,IAC/B,CAAK,CAAC,GAAG,KAAK,iBAAiB;AAAA,MACzB,UAAUzP,IAAQ,IAAI,iCAAiC,iBAAiBsP,CAAY;AAAA,MACpF,MAAMjQ;AAAA,MACN,GAAGoQ;AAAA,IACT,CAAK,CAAC,GAAGzP,IAAQ,IAAI,KAAK,iBAAiB;AAAA,MACrC,UAAU;AAAA,MACV,MAAM2P;AAAA,MACN,KAAK;AAAA,MACL,GAAGF;AAAA,IACT,CAAK,IAAI,IAAI;AAAA,EACX;AAAA,EACA,iBAAiB,EAAE,UAAAG,GAAU,MAAAC,GAAM,QAAAC,GAAQ,KAAA3O,GAAK,IAAA4O,GAAI,QAAAC,GAAQ,aAAAC,GAAa,OAAAC,KAAS;AAChF,WAAOC,EAAMhP,GAAKuO,qBAAsBE,KAAYQ,CAAO,SAASP,KAAQO,CAAO,WAAWN,KAAUM,CAAO,OAAOL,KAAMK,CAAO,WAAWJ,KAAUI,CAAO,iBAAiBH,KAAeG,CAAO,UAAUF,KAASE,CAAO,KAAK;AAAA,EACvO;AACF;AACAC,EAAc,+BAA+BzB,EAAiB;ACjF9D,MAAM1E,IAAM;AAAA,EACV,QAAQ;AAAA,EACR,aAAa;AAAA,EACb,gBAAgB;AAAA,EAChB,aAAa;AAAA,EACb,WAAW;AAAA,EACX,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,SAAS;AAAA,EACT,cAAc;AAAA,EACd,eAAe;AACjB,GACMoG,KAAM;AAAA,EACV,mBAAmB;AACrB,GACMC,KAAQ;AAAA,EACZ,QAAQ;AACV,GACM7B,KAASC;AACf,MAAM6B,WAAkB3B,EAAW;AAAA,EACjC,cAAc;AACZ,UAAK,GACL,KAAK,kBAAkB4B,GAAS,GAChC,KAAK,iBAAiBC,GAAmB,CAAC,aAAa,gBAAgB,aAAa,YAAY,GAAG,KAAK,6BAA6B,GACrI,KAAK,iBAAiBD,GAAS,GAC/B,KAAK,yBAAyB,CAACE,MAAU;AACvC,MAAIA,EAAM,OAAO,SAAS,KAAK,QAC7B,KAAK,SAAS;AAAA,QACZ,OAAOA,EAAM,OAAO;AAAA,QACpB,QAAQ;AAAA,MAClB,CAAS,GAEH,KAAK,SAAQ,GACbA,EAAM,gBAAe;AAAA,IACvB,GACA,KAAK,sBAAsB,WAC3B,KAAK,mBAAmB,IACxB,KAAK,SAAS,IACd,KAAK,WAAWC,GAAM,GACtB,KAAK,oCAAoC,IACzC,KAAK,YAAY,SACjB,KAAK,YAAY,IACjB,KAAK,WAAW,IAChB,KAAK,iBAAiB,IACtB,KAAK,cAAc,IACnB,KAAK,UAAU,IACf,KAAK,WAAW,IAChB,KAAK,WAAW,IAChB,KAAK,QAAQ,KACb,KAAK,SAAS,QACd,KAAK,WAAW;AAAA,MACd,OAAO;AAAA,MACP,UAAU;AAAA,MACV,aAAa;AAAA,MACb,iBAAiB;AAAA,MACjB,eAAe;AAAA,MACf,gBAAgB;AAAA,MAChB,cAAc;AAAA,MACd,SAAS;AAAA,MACT,UAAU;AAAA,MACV,cAAc;AAAA,MACd,cAAc;AAAA,IACpB,GACI,KAAK,yBAAyBC,EAAW,GACzC,KAAK,wBAAwBA,EAAW,GACxC,KAAK,+BAA+BA,EAAW,GAC/C,KAAK,gCAAgCA,EAAW,GAChD,KAAK,OAAO,SAAS,KAAK,YAAY,GACtC,KAAK,OAAO,WAAW,KAAK,cAAc;AAAA,EAC5C;AAAA,EACA,OAAA;AACE,SAAK,aAAa,EAAE,mCAAmC,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,WAAW,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,GAAG,cAAc,CAAC,GAAG,CAAA,GAAI,EAAE,WAAW,GAAK,CAAE,GAAG,WAAW,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,SAAS,GAAG,UAAU,CAAC,GAAG,IAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,gBAAgB,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,MAAM,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,GAAG,MAAM,CAAC,GAAG,EAAE,WAAWC,MAAmB,EAAE,SAAS,IAAM,GAAG,aAAa,CAAC,GAAG,IAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,OAAO,GAAG,SAAS,CAAC,GAAG,IAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,WAAW,CAAC,IAAI,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,OAAM,CAAE,GAAG,kBAAkB,CAAC,GAAG,CAAA,GAAI,EAAE,WAAW,IAAO,GAAG,WAAW,CAAC,IAAI,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,IAAI,EAAE,SAAS,GAAI,CAAE,GAAG,SAAS,GAAG,aAAa,GAAG,YAAY,GAAG,UAAU,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,UAAU,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,OAAO,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,GAAG,QAAQ,CAAC,GAAG,IAAI,EAAE,SAAS,IAAM,GAAG,YAAY,GAAG,gBAAgB,CAAC,GAAG,EAAE,WAAWA,MAAmB,EAAE,SAAS,IAAM,GAAG,mBAAmB,GAAG,UAAU,CAAC,GAAG,CAAA,GAAI,EAAE,WAAW,GAAK,CAAE,GAAG,OAAO,EAAC;AAAA,EAC/lC;AAAA,EACE,OAAA;AACE,SAAK,SAASpC;AAAAA,EAClB;AAAA,EACE,IAAI,QAAQ;AACV,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,MAAMxP,GAAO;AACf,UAAM6R,IAAW,KAAK;AACtB,IAAI7R,MAAU6R,MACZ,KAAK,SAAS7R,GACd,KAAK,aAAaA,GAAO6R,CAAQ;AAAA,EAErC;AAAA,EACA,MAAM,aAAa;AACjB,SAAK,SAAS,OAAM;AAAA,EACtB;AAAA,EACA,MAAM,WAAW;AACf,UAAMC,GAAmB,IAAI,GAC7B,KAAK,SAAS,MAAK;AAAA,EACrB;AAAA,EACA,oBAAoB;AAClB,UAAM,kBAAiB,GACvB,KAAK,mBAAmB,KAAK,GAAG,QAAQ,yBAAyB,GAC7D,KAAK,qBACP,KAAK,iBAAiB,KAAK,iBAAiB,kBAAkB,KAEhEC,GAAa,IAAI,GACjBC,GAAY,IAAI,GAChB,KAAK,GAAG,iBAAiBC,IAA+B,KAAK,sBAAsB;AAAA,EACrF;AAAA,EACA,MAAM,OAAO;AACX,SAAK,gBAAgBC,GAAiB,CAAA,GAAI,KAAK,MAAM,MAAM,GAC3D,KAAK,wBAAwB,KAAK,KAAK,GACvC,KAAK,iBAAiB,KAAK,KAAK;AAAA,EAClC;AAAA,EACA,WAAWtC,GAAS;AAClB,IAAIA,EAAQ,IAAI,MAAM,MACpB,KAAK,gBAAgBsC,GAAiB,CAAA,GAAI,KAAK,MAAM,MAAM;AAAA,EAE/D;AAAA,EACA,UAAU;AACR,IAAAC,GAAsB,IAAI;AAAA,EAC5B;AAAA,EACA,uBAAuB;AACrB,UAAM,qBAAoB,GAC1BC,GAAgB,IAAI,GACpBC,GAAe,IAAI,GACnB,KAAK,GAAG,oBAAoBJ,IAA+B,KAAK,sBAAsB;AAAA,EACxF;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,aAAa,KAAK,MAAM,SAAS;AAAA,EAC/C;AAAA,EACA,gCAAgC;AAC9B,SAAK,cAAa;AAAA,EACpB;AAAA,EACA,aAAaK,GAAUC,GAAe;AACpC,IAAK,KAAK,oBACR,KAAK,SAAS;AAAA,MACZ,QAAQ;AAAA,MACR,eAAAA;AAAA,MACA,OAAQD,KAAW;AAAA,IAC3B,CAAO,GAEH,KAAK,mBAAmB;AAAA,EAC1B;AAAA,EACA,eAAeb,GAAO;AACpB,IAAI,KAAK,YAAY,KAAK,YAAYA,EAAM,qBAGxC,KAAK,eAAeA,EAAM,QAAQ,aACpC,KAAK,oBAAoBA,CAAK,GAC9BA,EAAM,eAAc,IAElBA,EAAM,QAAQ,WACZe,GAAW,IAAI,KACjBf,EAAM,eAAc;AAAA,EAG1B;AAAA,EACA,eAAe;AACb,SAAK,SAAQ;AAAA,EACf;AAAA,EACA,oBAAoBgB,GAAa;AAC/B,SAAK,SAAS;AAAA,MACZ,YAAY;AAAA,MACZ,aAAAA;AAAA,MACA,QAAQ;AAAA,MACR,OAAO;AAAA,IACb,CAAK;AAAA,EACH;AAAA,EACA,2BAA2B;AACzB,IAAI,KAAK,wBAAwB,UAAU,KAAK,UAAU,KAAK,yBAC7D,KAAK,uBAAuB,KAAI,GAChC,KAAK,wBAAwB,KAAK,KAAK;AAAA,EAE3C;AAAA,EACA,uBAAuB;AACrB,SAAK,6BAA6B,KAAK;AAAA,MACrC,SAAS,KAAK;AAAA,MACd,OAAO,KAAK;AAAA,IAClB,CAAK,GACD,KAAK,yBAAwB;AAAA,EAC/B;AAAA,EACA,aAAahB,GAAO;AAClB,QAAI,KAAK;AACP;AAEF,UAAMiB,IAAejB,EAAM,aAAY;AACvC,IAAI,CAACiB,EAAa,SAAS,KAAK,eAAe,KAAK,KAAKA,EAAa,SAAS,KAAK,gBAAgB,KAAK,KAGzG,KAAK,SAAQ;AAAA,EACf;AAAA,EACA,wBAAwB;AACtB,SAAK,8BAA8B,KAAK;AAAA,MACtC,SAAS,KAAK;AAAA,MACd,OAAO,KAAK;AAAA,IAClB,CAAK;AAAA,EACH;AAAA,EACA,sBAAsBD,GAAa;AACjC,IAAI,KAAK,YAAY,KAAK,YAG1B,KAAK,SAAS;AAAA,MACZ,aAAAA;AAAA,MACA,QAAQ;AAAA,MACR,OAAOA,EAAY,OAAO;AAAA,IAChC,CAAK;AAAA,EACH;AAAA,EACA,wBAAwBhB,GAAO;AAC7B,IAAI,KAAK,YAAY,KAAK,YAGtBA,EAAM,QAAQ,WAChB,KAAK,yBAAwB;AAAA,EAEjC;AAAA,EACA,oBAAoBkB,GAAO;AACzB,IAAAC,GAAoB,QAAQ,MAAMD,CAAK;AAAA,EACzC;AAAA,EACA,cAAczC,GAAI;AAChB,SAAK,UAAUA;AAAA,EACjB;AAAA,EACA,cAAc2C,GAAe;AAC3B,IAAK,KAAK,YAGV,KAAK,QAAQ,QAAQA;AAAA,EACvB;AAAA,EACA,wBAAwB7S,GAAO;AAC7B,SAAK,uBAAuBA;AAAA,EAC9B;AAAA,EACA,iBAAiBA,GAAO;AACtB,SAAK,gBAAgBA;AAAA,EACvB;AAAA,EACA,SAAS,EAAE,YAAA8S,IAAa,IAAO,aAAAL,GAAa,QAAAM,GAAQ,eAAAR,GAAe,OAAAvS,KAAS;AAC1E,SAAK,iBAAiBuS,KAAiB,KAAK,KAAK,GACjD,KAAK,sBAAsBQ,GAC3B,KAAK,mBAAmBA,MAAW,UAAU/S,MAAU,KAAK,OAC5D,KAAK,QAAQA,GACT+S,MAAW,aACb,KAAK,cAAc/S,CAAK,GACxB,KAAK,wBAAwBA,CAAK,IAEhCyS,MACiC,KAAK,sBAAsB,KAAI,EACnC,mBAC7B,KAAK,QAAQ,KAAK,gBACTK,KACT,KAAK,yBAAwB;AAAA,EAGnC;AAAA,EACA,SAAS;AACP,UAAME,IAAMC,EAAc,KAAK,EAAE,GAC3BC,IAASnD,eAAkBC,EAAahF,EAAI,MAAM,CAAC,6BAA6B,KAAK,SAAS,OAAO,iDACrGmI,IAAmBpD,uBAA0B,KAAK,SAAS,KAAK,UAAUC,EAAahF,EAAI,WAAW,CAAC,cAAc,KAAK,YAAY,KAAK,QAAQ,WAAW,KAAK,mBAAmB,wDAAwDoI,GAAa,KAAK,KAAK,CAAC,6BACtQC,IAAStD,wBAA2BC,EAAahF,EAAI,SAAS,CAAC,aAAa,KAAK,WAAW,UAAU,KAAK,aAAa,WAAWoI,GAAa,KAAK,KAAK,CAAC,oBAC3JE,IAAavD,eAAkBC,EAAahF,EAAI,MAAM,CAAC,IAAI,KAAK,UAAU,UAC1EuI,IAAaxD,eAAkBC,EAAahF,EAAI,MAAM,CAAC,IAAI,KAAK,UAAU,UAC1EwI,IAAUzD,6BAAgCqB,GAAI,iBAAiB,iBAAiB,KAAK,WAAW,SAAS,eAAeqC,GAAa,IAAI,CAAC,iBAAiB,KAAK,gBAAgBvC,CAAO,eAAe,KAAK,GAAG,SAAS,UAAUlB,EAAa;AAAA,MAClP,CAAChF,EAAI,cAAc,GAAG,KAAK;AAAA,MAC3B,CAACA,EAAI,WAAW,GAAG,CAAC,CAAC,KAAK;AAAA,IAChC,CAAK,CAAC,UAAU,KAAK,gBAAgBkG,CAAO,cAAc,KAAK,WAAW,KAAO,IAAI,iBAAiB,KAAK,GAAG,gBAAgBA,CAAO,cAAc,KAAK,GAAG,aAAaA,CAAO,cAAc,KAAK,aAAaA,CAAO,cAAc,KAAK,aAAaA,CAAO,SAAS,KAAK,QAAQA,CAAO,UAAU,KAAK,oBAAoB,WAAW,KAAK,qBAAqB,WAAW,KAAK,qBAAqB,aAAa,KAAK,uBAAuB,YAAY,KAAK,WAAWA,CAAO,iBAAiB,KAAK,eAAe,OAAOA,CAAO,cAAc,KAAK,QAAQ,cAAc,KAAK,WAAW,KAAO,IAAI,eAAe,KAAK,GAAG,cAAcA,CAAO,cAAc,KAAK,YAAY,KAAK,oBAAoB,CAAC,KAAK,iBAAiB,KAAK,SAASA,CAAO,qBAAqBwC,GAAK,KAAK,SAAS,EAAE,CAAC,IAAIC,EAAI,KAAK,aAAa,CAAC;AAC5xB,WAAOC,GAAqB,EAAE,UAAU,KAAK,UAAU,UAAU7D,eAAkBC,EAAa,EAAE,CAAChF,EAAI,YAAY,GAAG,IAAM,CAAC6I,GAAY,GAAG,GAAGb,MAAQ,OAAO,CAAC,IAAIW,EAAI,KAAK,cAAc,CAAC,IAAI,KAAK,aAAaL,IAAa,IAAI,cAActD,EAAahF,EAAI,OAAO,CAAC,IAAIwI,CAAO,GAAG,KAAK,cAAcL,IAAmB,IAAI,GAAG,KAAK,gBAAgBE,IAAS,IAAI,GAAG,KAAK,UAAUH,IAAS,IAAI,oBAAoBlD,EAAahF,EAAI,aAAa,CAAC,IAAI2I,EAAI,KAAK,eAAe,CAAC,eAAetC,GAAM,MAAM,iBAAiB,KAAK,aAAakC,IAAa,IAAI,GAAGO,GAAoB,EAAE,WAAW,MAAM,CAAC,SAAS,KAAK,qBAAqB,KAAK,WAAW,YAAYC,GAAW,EAAE,MAAM,KAAK,gBAAgB,IAAI3C,GAAI,mBAAmB,SAAS,KAAK,mBAAmB,OAAO,KAAK,OAAO,QAAQ,KAAK,OAAM,CAAE,IAAI,IAAI,GAAE,CAAE;AAAA,EACxyB;AACF;AACAD,EAAc,sBAAsBG,EAAS;ACzQ7C,MAAMtG,KAAM;AAAA,EACV,WAAW;AAAA,EACX,UAAU;AAAA,EACV,cAAc;AAChB,GACMwE,KAASC,mQACTxE,KAAgBnC,EAAK;AAC3B,MAAMkL,WAA4BrE,EAAW;AAAA,EAC3C,cAAc;AACZ,UAAM,GAAG,SAAS,GAClB,KAAK,gBAAgB1E,IACrB,KAAK,eAAe,IACpB,KAAK,aAAa,IAClB,KAAK,WAAW,OAChB,KAAK,QAAQ,KACb,KAAK,QAAQyB,EAAaK,EAAO9B,IAAe,KAAK,YAAY,GAAG,KAAK,cAAc,EAAI,GAC3F,KAAK,mCAAmC0G,EAAY,EAAE,YAAY,GAAK,CAAE;AAAA,EAC3E;AAAA,EACA,OAAA;AACE,SAAK,aAAa,EAAE,eAAe,CAAC,IAAI,IAAI,EAAE,OAAO,IAAM,GAAG,cAAc,CAAC,GAAG,CAAA,GAAI,EAAE,MAAM,QAAO,CAAE,GAAG,YAAY,CAAC,GAAG,IAAI,EAAE,MAAM,QAAO,CAAE,GAAG,UAAU,GAAG,UAAU,CAAC,GAAG,CAAA,GAAI,EAAE,WAAW,GAAK,CAAE,GAAG,iBAAiB,GAAG,OAAO,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,GAAG,OAAO,CAAC,GAAG,IAAI,EAAE,SAAS,GAAI,CAAE,EAAC;AAAA,EAClS;AAAA,EACE,OAAA;AACE,SAAK,SAASnC;AAAAA,EAClB;AAAA,EACE,MAAM,WAAW;AACf,iBAAMsC,GAAmB,IAAI,GACtBmC,GAAa,KAAK,YAAY;AAAA,EACvC;AAAA,EACA,oBAAoB;AAClB,UAAM,kBAAiB,GACvB,KAAK,uBAAuB,KAAK;AACjC,UAAM,EAAE,YAAAC,GAAY,cAAAC,GAAc,OAAAnU,EAAK,IAAK;AAC5C,QAAIA,GAAO;AACT,YAAMwN,IAAad,EAAa1M,GAAOmU,CAAY;AACnD,MAAI/H,EAAWoB,GAAY2G,CAAY,KACrC,KAAK,iBAAiB3G,GAAYA,GAAY,EAAK;AAErD;AAAA,IACF;AACA,IAAI0G,KACF,KAAK,iBAAiB,QAAQ,QAAQ,EAAK;AAAA,EAE/C;AAAA,EACA,WAAWtE,GAAS;AAClB,IAAIA,EAAQ,IAAI,OAAO,MAAM,KAAK,cAAc,KAAK,UAAUlD,EAAaK,EAAO9B,IAAe,KAAK,YAAY,GAAG,KAAK,cAAc,EAAI,MAC3I,KAAK,iBAAiB,KAAK,OAAO2E,EAAQ,IAAI,OAAO,GAAG,EAAK;AAAA,EAEjE;AAAA,EACA,iBAAiB;AACf,UAAMnI,IAAO,KAAK,cACZ2M,IAAa3M,EAAK,OAClBtH,IAAM,IAAIiU,CAAU,IACpB,EAAE,YAAAF,GAAY,eAAA/D,EAAa,IAAK,MAChCkE,IAAiBH,KAAc,CAACE,GAChCE,IAAa/H,GAAcpM,CAAG;AAKpC,KAJqBmM,EAAenM,GAAK,EAAI,KAAKmM,EAAenM,GAAK,EAAK,MAEzE,KAAK,iBAAgB,GAEnB,EAAAkU,KAAkBjI,EAAWjM,CAAG,KAAKmU,OAGzC7M,EAAK,QAAQyM,KAAc,CAAC/D,IAAgB,KAAK,KAAK,0BAA0BvD;AAAA;AAAA,MAE9EuD,EAAc,OAAM;AAAA,IAC1B,CAAK;AAAA,EACH;AAAA,EACA,qBAAqB;AACnB,UAAM1I,IAAO,KAAK,kBACZ2M,IAAa3M,EAAK,OAClB,EAAE,YAAAyM,GAAY,eAAA/D,EAAa,IAAK;AAEtC,IADuB+D,KAAc,CAACE,MAItC3M,EAAK,QAAQyM,KAAc,CAAC/D,IAAgB,KAAK,KAAK,8BAA8BA,CAAa;AAAA,EACnG;AAAA,EACA,sBAAsB;AACpB,SAAK,qBAAoB;AAAA,EAC3B;AAAA,EACA,mBAAmB;AAEjB,QAAInQ,IADc,KAAK,aAAa;AAEpC,QAAIA,GAAO;AACT,YAAMwN,IAAad,EAAa1M,GAAO,EAAK;AAE5C,UAD8BoM,EAAWoB,CAAU,KAAK,KAAK,gBAChC,KAAK,eAAe;AAC/C,cAAM5D,IAAW8C,EAAa,KAAK,cAAc,KAAI,GAAI,EAAI,EAAE,MAAM,EAAE;AACvE,QAAA1M,IAAQ,GAAGwN,IAAa5D,CAAQ;AAAA,MAClC;AAAA,IACF;AACA,SAAK,iBAAiB5J,GAAO,KAAK,KAAK;AAAA,EACzC;AAAA,EACA,uBAAuB;AACrB,UAAMyH,IAAO,KAAK;AAClB,QAAIzH;AACJ,QAAI,CAACyH,EAAK;AACR,MAAAzH,IAAQyH,EAAK;AAAA,SACR;AACL,YAAM3G,IAAQoL,GAAe,OAAOzE,EAAK,KAAK,CAAC;AAC/C,MAAAzH,IAAQ,KAAK,eAAe,MAAMc,CAAK,EAAE,KAAI;AAAA,IAC/C;AACA,SAAK,iBAAiBd,GAAO,KAAK,KAAK;AAAA,EACzC;AAAA,EACA,aAAayR,GAAO;AAClB,IAAIA,EAAM,SAAS,kCACjB,KAAK,aAAa,WAAU,IAE5B,KAAK,iBAAiB,WAAU;AAAA,EAEpC;AAAA,EACA,kBAAkB;AAChB,UAAM8C,IAAgB,IAAI,KAAK,aAAa,KAAK,IAC3C1C,IAAW,KAAK;AACtB,IAAIzF,EAAWmI,GAAe,KAAK,YAAY,KAAKhI,GAAcgI,GAAe,KAAK,YAAY,KAChG,KAAK,iBAAiBA,GAAe1C,CAAQ;AAAA,EAEjD;AAAA,EACA,eAAeJ,GAAO;AACpB,UAAM,EAAE,QAAA+C,GAAQ,SAAAC,GAAS,SAAAC,GAAS,UAAAC,EAAQ,IAAKlD,GACzC,EAAE,cAAA0C,GAAc,cAAAS,GAAc,eAAAzE,GAAe,OAAAnQ,EAAK,IAAK,MACvD,EAAE,KAAAiC,EAAG,IAAKwP,GACViB,IAAejB,EAAM,aAAY;AACvC,QAAIxP,MAAQ,SAASqK,EAAetM,GAAO,KAAK,YAAY,KAAKiC,MAAQ,SAAS;AAChF,MAAIyQ,EAAa,SAASkC,CAAY,IACpC,KAAK,iBAAgB,IAErB,KAAK,qBAAoB,GAEvB3S,MAAQ,WACVwP,EAAM,eAAc;AAEtB;AAAA,IACF;AACA,UAAMoD,IAAa5S,MAAQ,eAAeA,MAAQ,WAC5C4P,IAAW,KAAK;AACtB,QAAIgD,GAAY;AACd,UAAI,CAAC7U,GAAO;AACV,aAAK,iBAAiB,KAAK,sBAAsB6R,CAAQ,GACzDJ,EAAM,eAAc;AACpB;AAAA,MACF;AACA,YAAMqD,KAAY7S,MAAQ,YAAY,IAAI,IACpC8S,KAAOJ,IAAW,KAAK;AAC7B,WAAK,iBAAiB5H,EAAO,KAAK,iBAAiBoD,GAAe4E,KAAOD,IAAWpC,EAAa,SAASkC,CAAY,IAAI,QAAQ,GAAG,GAAGT,CAAY,GAAGtC,CAAQ,GAC/JJ,EAAM,eAAc;AACpB;AAAA,IACF;AACA,UAAMuD,IAAgBR,KAAUC,KAAWC,GACrCO,KAAahT,EAAI,WAAW,GAC5BiT,KAAetJ,GAAQ,KAAK3J,CAAG;AACrC,IAAIgT,MAAc,CAACD,KAAiB,CAACE,MACnCzD,EAAM,eAAc;AAAA,EAExB;AAAA,EACA,gBAAgBA,GAAO;AACrB,UAAMtR,IAAMsR,EAAM,cAAc,QAAQ,MAAM;AAC9C,IAAIrF,EAAWjM,GAAK,KAAK,YAAY,KAAKoM,GAAcpM,GAAK,KAAK,YAAY,MAC5EsR,EAAM,eAAc,GACpB,KAAK,aAAa,QAAQtR,EAAI,MAAM,CAAC,GACrC,KAAK,iBAAiBA,GAAK,KAAK,KAAK;AAAA,EAEzC;AAAA,EACA,iBAAiBH,GAAO6R,GAAUsD,IAAO,IAAM;AAC7C,QAAInV,GAAO;AACT,YAAM,EAAE,cAAAmU,EAAY,IAAK,MACnB3G,IAAad,EAAa1M,GAAOmU,GAAcA,CAAY;AACjE,UAAI/H,EAAWoB,GAAY2G,CAAY,GAAG;AACxC,cAAM,EAAE,eAAeiB,EAAY,IAAK,MAClCC,IAAYvM,EAAM0E,CAAU,GAC5B8H,IAAqB5I,EAAaK,EAAOsI,GAAWlB,CAAY,GAAGA,CAAY,GAC/EoB,IAAU,CAACH,KAAgBE,MAAuB5I,EAAaK,EAAOqI,GAAcjB,CAAY,GAAGA,CAAY;AACrH,aAAK,gBAAgBkB,GACrB,KAAK,uBAAuBC,GAC5B,KAAK,QAAQA,GACTC,KAAWJ,KACb,KAAK,iCAAiC,KAAI;AAE5C;AAAA,MACF;AAAA,IACF,WAAW,KAAK,YAAY;AAC1B,WAAK,gBAAgB,QACrB,KAAK,QAAQ,QACTA,KACF,KAAK,iCAAiC,KAAI;AAE5C;AAAA,IACF;AACA,SAAK,QAAQtD;AAAA,EACf;AAAA,EACA,iBAAiBpK,GAAM;AACrB,SAAK,eAAeA;AAAA,EACtB;AAAA,EACA,qBAAqBA,GAAM;AACzB,SAAK,mBAAmBA;AAAA,EAC1B;AAAA,EACA,0BAA0BtH,GAAK;AAC7B,WAAOA,IAAMA,EAAI,QAAQ,KAAK,EAAE,EAAE,MAAM,GAAG,CAAC,IAAI;AAAA,EAClD;AAAA,EACA,8BAA8B6F,GAAO;AACnC,WAAOA,IAAQ,GAAGiG,EAAejG,EAAM,MAAK,CAAE,CAAC,KAAK;AAAA,EACtD;AAAA,EACA,iBAAiBA,GAAOwP,GAAQC,GAAS;AACvC,QAAIC;AACJ,UAAMlT,IAAWwD,EAAM,MAAK,GACtB2P,IAAcnT,EAAS,MAAM,GAAG,CAAC;AACvC,QAAIiT,MAAY;AAEd,MAAAC,IAAiB;AAAA,QACf,GAFwBC,EAAY,IAAI,CAAC9K,MAAYA,IAAU2K,CAAM;AAAA,QAGrE,KAAK,eAAehT,EAAS,CAAC,IAAI;AAAA,MAC1C;AAAA,SACW;AACL,YAAMoT,IAAc1J,GAAeD,EAAejG,EAAM,MAAK,CAAE,IAAIwP,CAAM;AACzE,MAAAE,IAAiB,CAAC,GAAGC,GAAaC,CAAW;AAAA,IAC/C;AACA,WAAO9M,EAAM4M,CAAc;AAAA,EAC7B;AAAA,EACA,SAAS;AACP,UAAM,EAAE,cAAAvB,GAAc,UAAA0B,GAAU,eAAA1F,GAAe,UAAA2F,GAAU,OAAAC,GAAO,OAAA/V,EAAK,IAAK,MACpEuU,IAAgB,KAAK,0BAA0BvU,CAAK,GACpDgW,IAAoB,KAAK,8BAA8B7F,CAAa,GACpE8F,IAAaF,MAAU,MAAM,MAAM;AACzC,WAAOhG,eAAkBC,EAAahF,GAAI,SAAS,CAAC,8BAA8BgF,EAAahF,GAAI,QAAQ,CAAC,WAAW8K,GAAU,OAAOD,CAAQ,eAAe,KAAK,eAAe,IAAI,CAAC,aAAa,KAAK,cAAc,WAAW,KAAK,eAAe,4BAA4B,KAAK,gBAAgB,2BAA2B,KAAK,eAAe,kCAAkC,KAAK,cAAc,mCAAmC,KAAK,YAAY,yBAAyBI,CAAU,WAAW1B,CAAa,IAAIZ,EAAI,KAAK,gBAAgB,CAAC,yBAAyBQ,IAAelD,EAAM,iBAAiBlB,gCAAmCC,EAAahF,GAAI,YAAY,CAAC,WAAW8K,GAAU,OAAO,SAASxK,EAAe,GAAG,sBAAsBA,EAAe,GAAG,6CAA6C,KAAK,eAAe,aAAa,KAAK,cAAc,6BAA6B,KAAK,mBAAmB,oCAAoC,KAAK,kBAAkB,qCAAqC,KAAK,YAAY,WAAW2K,CAAU,yBAAyBD,CAAiB,IAAIrC,EAAI,KAAK,oBAAoB,CAAC,0BAA0B,IAAI,IAAI;AAAA,EACpoC;AACF;AACAxC,EAAc,kCAAkC6C,EAAmB;ACtOnE,MAAMhJ,KAAM;AAAA,EACV,SAAS;AACX,GACMqG,KAAQ;AAAA,EACZ,YAAY;AACd,GACM7B,KAASC;AACf,MAAMyG,WAAavG,EAAW;AAAA,EAC5B,cAAc;AACZ,UAAK,GACL,KAAK,OAAO,CAAA,GACZ,KAAK,SAAS,CAAA,GACd,KAAK,WAAW,IAChB,KAAK,SAAS,UACd,KAAK,WAAW,OAChB,KAAK,QAAQ,KACb,KAAK,OAAO,mCAAmC,KAAK,sCAAsC;AAAA,EAC5F;AAAA,EACA,OAAA;AACE,SAAK,aAAa,EAAE,MAAM,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,QAAQ,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,UAAU,CAAC,GAAG,IAAI,EAAE,MAAM,QAAO,CAAE,GAAG,QAAQ,CAAC,GAAG,IAAI,EAAE,SAAS,IAAM,GAAG,UAAU,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,GAAG,OAAO,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,EAAC;AAAA,EAC7O;AAAA,EACE,OAAA;AACE,SAAK,SAASH;AAAAA,EAClB;AAAA,EACE,oBAAoB;AAClB,UAAM,kBAAiB,GACvB,KAAK,YAAW;AAAA,EAClB;AAAA,EACA,OAAO;AACL,SAAK,YAAW;AAAA,EAClB;AAAA,EACA,WAAWI,GAAS;AAClB,KAAIA,EAAQ,IAAI,UAAU,MAAM,KAAK,cAAc,KAAK,aAAa,UAAUA,EAAQ,IAAI,OAAO,MAAM,KAAK,cAAc,KAAK,UAAU,SACxI,KAAK,YAAW,IAEbA,EAAQ,IAAI,QAAQ,KAAKA,EAAQ,IAAI,MAAM,MAAM,KAAK,cAAc,KAAK,QAAQ,SAAS,KAAK,KAAK,MAAM,SAAS,MACtH,KAAK,mBAAkB,GACvB,KAAK,YAAW;AAAA,EAEpB;AAAA,EACA,uCAAuC6B,GAAO;AAC5C,IAAAA,EAAM,gBAAe,GACjBA,EAAM,OAAO,WAAW,KAAK,OAAO,WACtC,KAAK,SAASA,EAAM;AAAA,EAExB;AAAA,EACA,yBAAyBA,GAAO;AAC9B,SAAK,OAAO0E,GAA8B1E,GAAO,aAAa;AAAA,EAChE;AAAA,EACA,MAAM,qBAAqB;AACzB,UAAM,KAAK,iBAAgB;AAC3B,QAAI2E,GACAC;AACJ,UAAMC,IAAOC,GAAwB,KAAK,QAAQ,aAAa;AAC/D,QAAID,EAAK,KAAK,CAACpG,MAAOA,EAAG,GAAG,KAAK,KAAK,OAAO,KAAK,CAACA,MAAOA,EAAG,GAAG;AAC9D,MAAAkG,IAASE,EAAK,KAAK,CAACpV,GAAGG,MAAMH,EAAE,IAAI,cAAcG,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC6O,MAAOA,EAAG,EAAE,GAC1EmG,IAAW,KAAK,OAAO,KAAK,CAACnV,GAAGG,MAAMH,EAAE,IAAI,cAAcG,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC6O,MAAOA,EAAG,EAAE;AAAA,SAC9E;AACL,YAAMsG,IAAgB,MAAM,QAAQ,IAAIF,EAAK,IAAI,CAACpG,MAAOA,EAAG,YAAW,CAAE,CAAC,GACpEuG,IAAkB,MAAM,QAAQ,IAAI,KAAK,OAAO,IAAI,CAACvG,MAAOA,EAAG,YAAW,CAAE,CAAC;AACnF,MAAAkG,IAASI,EAAc,OAAO,CAACE,GAAKC,GAAYC,OAC9CF,EAAIC,CAAU,IAAIL,EAAKM,CAAa,EAAE,IAC/BF,IACN,CAAA,CAAE,GACLL,IAAWI,EAAgB,OAAO,CAACC,GAAKC,GAAYC,OAClDF,EAAIC,CAAU,IAAI,KAAK,OAAOC,CAAa,EAAE,IACtCF,IACN,CAAA,CAAE;AAAA,IACP;AACA,IAAAJ,EAAK,QAAQ,CAACpG,MAAOA,EAAG,gBAAgBkG,GAAQC,CAAQ,CAAC,GACzD,KAAK,OAAO,QAAQ,CAACnG,MAAOA,EAAG,gBAAgBkG,GAAQC,CAAQ,CAAC;AAAA,EAClE;AAAA,EACA,cAAc;AACZ,UAAM,EAAE,UAAAQ,GAAU,OAAAd,EAAK,IAAK,MACtBe,IAAM,KAAK,GAAG,cAAc,iBAAiB;AACnD,IAAIA,MACFA,EAAI,WAAWD,GACfC,EAAI,QAAQf,IAEd,MAAM,KAAK,KAAK,GAAG,iBAAiB,aAAa,CAAC,EAAE,QAAQ,CAACgB,MAAQ;AACnE,MAAIA,EAAI,kBAAkB,KAAK,OAC7BA,EAAI,QAAQhB;AAAA,IAEhB,CAAC,GACD,MAAM,KAAK,KAAK,GAAG,iBAAiB,qCAAqC,CAAC,EAAE,QAAQ,CAACiB,MAAU;AAC7F,MAAAA,EAAM,WAAWH,GACjBG,EAAM,QAAQjB;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EACA,kBAAkB7F,GAAI;AACpB,SAAK,SAASA;AAAA,EAChB;AAAA,EACA,SAAS;AACP,WAAOH,eAAkBsB,GAAM,UAAU,0BAA0BrB,EAAahF,GAAI,OAAO,CAAC,sBAAsB,KAAK,wBAAwB,IAAI2I,EAAI,KAAK,iBAAiB,CAAC;AAAA,EAChL;AACF;AACAxC,EAAc,gBAAgB+E,EAAI;ACtGlC,MAAMe,KAAgB,QAChBC,KAAgB,QAChBC,KAAgB;ACQtB,MAAMC,KAAO;AAAA,EACX,cAAc;AAAA,EACd,aAAa;AACf,GACMpM,IAAM;AAAA,EACV,WAAW;AAAA,EACX,iCAAiC;AAAA,EACjC,mCAAmC;AAAA,EACnC,cAAc;AAAA,EACd,uBAAuB;AAAA,EACvB,+BAA+B;AAAA,EAC/B,8BAA8B;AAAA,EAC9B,qBAAqB;AACvB,GACMwE,KAASC;AACf,MAAM4H,WAAe1H,EAAW;AAAA,EAC9B,cAAc;AACZ,UAAK,GACL,KAAK,eAAe,OACpB,KAAK,sBAAsB,KAC3B,KAAK,iBAAiB2H,GAAe,UAAU,MAAM;AACnD,WAAK,qBAAoB;AAAA,IAC3B,CAAC,GACD,KAAK,8BAA8B,IACnC,KAAK,WAAW5F,GAAM,GACtB,KAAK,4BAA4B,IACjC,KAAK,8BAA8B,IACnC,KAAK,WAAW,IAChB,KAAK,SAAS,UACd,KAAK,WAAW,UAChB,KAAK,QAAQ,KACb,KAAK,gBAAgB,MACrB,KAAK,2BAA2BC,EAAY,EAAE,YAAY,GAAK,CAAE,GACjE,KAAK,kCAAkCA,EAAW,GAClD,KAAK,mBAAmBA,EAAY,EAAE,YAAY,GAAK,CAAE,GACzD,KAAK,OAAO,oCAAoC,KAAK,uBAAuB,GAC5E,KAAK,OAAO,gCAAgC,KAAK,mBAAmB,GACpE,KAAK,OAAO,iCAAiC,KAAK,oBAAoB,GACtE,KAAK,OAAO,gCAAgC,KAAK,mBAAmB,GACpE,KAAK,OAAO,+BAA+B,KAAK,0BAA0B,GAC1E,KAAK,OAAO,4BAA4B,KAAK,uBAAuB,GACpE,KAAK,OAAO,mCAAmC,KAAK,eAAe,GACnE,KAAK,SAAS,SAAS,MAAM,4BAA4B,KAAK,8BAA8B;AAAA,EAC9F;AAAA,EACA,OAAA;AACE,SAAK,aAAa,EAAE,2BAA2B,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,6BAA6B,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,eAAe,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,UAAU,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,QAAQ,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,GAAG,kBAAkB,CAAC,GAAG,CAAA,GAAI,EAAE,WAAW,GAAK,CAAE,GAAG,UAAU,GAAG,OAAO,GAAG,eAAe,CAAC,GAAG,CAAA,GAAI,EAAE,WAAW,GAAK,CAAE,GAAG,WAAW,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,GAAG,QAAQ,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,EAAC;AAAA,EACxc;AAAA,EACE,OAAA;AACE,SAAK,SAASnC;AAAAA,EAClB;AAAA,EACE,oBAAoB;AAClB,UAAM,kBAAiB,GACvB,KAAK,eAAe,KAAK,GAAG,QAAQ,cAAc,GAClD,KAAK,gBAAgB,QAAQ,KAAK,EAAE;AAAA,EACtC;AAAA,EACA,MAAM,OAAO;AACX,UAAM+H,IAAa,mBAAmB,KAAK,SAAS;AACpD,QAAI,gBAAgB,KAAK,aAAa,aAAa,QAAQA,CAAU,GAAG;AACtE,YAAMC,IAAY,KAAK,MAAM,aAAa,QAAQD,CAAU,CAAC;AAC7D,WAAK,gBAAgBC;AAAA,IACvB;AAAA,EACF;AAAA,EACA,WAAW5H,GAAS;AAClB,IAAIA,EAAQ,IAAI,eAAe,MAAM,KAAK,cAAc,KAAK,kBAAkB,SAC7E,KAAK,yBAAyB,KAAK;AAAA,MACjC,KAAK,KAAK;AAAA,IAClB,CAAO,GAECA,EAAQ,IAAI,eAAe,KAC7B,KAAK,qBAAoB;AAE3B,UAAM,EAAE,cAAA6H,EAAY,IAAK;AACzB,SAAK,SAASA,GAAc,QAC5B,KAAK,WAAWA,GAAc,UAC9B,KAAK,eAAexE,EAAc,KAAK,EAAE;AAAA,EAC3C;AAAA,EACA,SAAS;AACP,SAAK,uBAAuB,KAAK,eAAe,SAAS,GACrD,KAAK,UAAU,UAAU,KAAK,UAAU,MAAM,CAAC+D,MAAU,CAACA,EAAM,QAAQ,KAAK,CAAC,KAAK,iBACrF,KAAK,UAAU,CAAC,EAAE,iBAAgB,EAAG,KAAK,CAACD,MAAQ;AACjD,WAAK,yBAAyB,KAAK;AAAA,QACjC,KAAAA;AAAA,MACV,CAAS;AAAA,IACH,CAAC;AAAA,EAEL;AAAA,EACA,uBAAuB;AACrB,UAAM,qBAAoB,GAC1B,KAAK,gBAAgB,WAAU;AAAA,EACjC;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAOW,GAAqB,KAAK,IAAI,mCAAmC,EAAE,OAAO,CAACC,MAAa,CAACA,EAAS,MAAM;AAAA,EACjH;AAAA,EACA,IAAI,sBAAsB;AACxB,UAAM,EAAE,OAAA5B,EAAK,IAAK;AAClB,WAAO,SAASA,MAAU,MAAMkB,KAAgBlB,MAAU,MAAMmB,KAAgBC,EAAa;AAAA,EAC/F;AAAA,EACA,IAAI,YAAY;AACd,WAAOO,GAAqB,KAAK,IAAI,mBAAmB;AAAA,EAC1D;AAAA,EACA,wBAAwBjG,GAAO;AAC7B,SAAK,eAAeA,GAAOA,EAAM,QAAQ,UAAU;AAAA,EACrD;AAAA,EACA,oBAAoBA,GAAO;AACzB,SAAK,eAAeA,GAAOA,EAAM,QAAQ,MAAM;AAAA,EACjD;AAAA,EACA,qBAAqBA,GAAO;AAC1B,SAAK,eAAeA,GAAOA,EAAM,QAAQ,OAAO;AAAA,EAClD;AAAA,EACA,oBAAoBA,GAAO;AACzB,SAAK,eAAeA,GAAOA,EAAM,QAAQ,MAAM;AAAA,EACjD;AAAA,EACA,2BAA2BA,GAAO;AAChC,UAAMmG,IAAoBnG,EAAM,QAC1BoG,IAA0B,KAAK;AACrC,SAAK,gBAAgBpG,EAAM,OAAO,MAAMA,EAAM,OAAO,MAAM,KAAK,mBAAmBmG,CAAiB,GACpGnG,EAAM,gBAAe,GACrB,KAAK,gBAAgBmG,GACjBC,GAAyB,OAAOD,EAAkB,MAAMnG,EAAM,OAAO,iBACvE,KAAK,iBAAiB,KAAI,GAE5B,KAAK,uBAAuBmG,CAAiB;AAAA,EAC/C;AAAA,EACA,uBAAuBA,GAAmBE,IAAW,UAAU;AAC7D,IAAKF,KAGL,sBAAsB,MAAM;AAC1B,YAAMG,IAAQ,KAAK,iBAAiB,OAC9BC,IAAoB,KAAK,qBACzBC,IAAkBD,EAAkB,sBAAqB,GACzDE,IAAiBN,EAAkB,sBAAqB,GACxDO,IAAiBH,EAAkB,YACnCI,IAA2BL,IAAQ,KAAK,8BAA8B,KAAK,2BAC3EM,IAAyBN,IAAQ,KAAK,4BAA4B,KAAK;AAC7E,UAAIG,EAAe,OAAOD,EAAgB,QAAQG,IAA2B,KAAK,sBAAsB,IAAI;AAC1G,cAAME,IAAOH,KAAkBD,EAAe,OAAOD,EAAgB,QAAQ,KAAK;AAClF,QAAAD,EAAkB,SAAS,EAAE,MAAAM,GAAM,UAAAR,EAAQ,CAAE;AAAA,MAC/C,WAAWI,EAAe,QAAQD,EAAgB,SAASI,IAAyB,KAAK,sBAAsB,IAAI;AACjH,cAAMC,IAAOH,KAAkBD,EAAe,QAAQD,EAAgB,SAAS,KAAK;AACpF,QAAAD,EAAkB,SAAS,EAAE,MAAAM,GAAM,UAAAR,EAAQ,CAAE;AAAA,MAC/C;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EACA,wBAAwBrG,GAAO;AAC7B,UAAM8G,IAAmB9G,EAAM;AAC/B,SAAK,oBAAoB8G,CAAgB,GACzC9G,EAAM,gBAAe;AAAA,EACvB;AAAA,EACA,MAAM,gBAAgBA,GAAO;AAC3B,IAAIA,EAAM,OAAO,aACf,KAAK,gBAAgBA,EAAM,QAC3B,KAAK,gBAAgB,MAAM,KAAK,gBAAgB,KAAK,aAAa;AAAA,EAEtE;AAAA,EACA,+BAA+BA,GAAO;AACpC,IAAI,KAAK,UAAUA,EAAM,WAAW,KAAK,MAAMA,EAAM,OAAO,WAAW,KAAK,UAAU,KAAK,kBAAkBA,EAAM,OAAO,QACxH,KAAK,gBAAgBA,EAAM,OAAO,MAEpCA,EAAM,gBAAe;AAAA,EACvB;AAAA,EACA,MAAM,uBAAuB;AAC3B,UAAM,KAAK,iBAAgB,GACvB,gBAAgB,KAAK,aAAa,KAAK,kBAAkB,UAAU,KAAK,kBAAkB,QAC5F,aAAa,QAAQ,mBAAmB,KAAK,SAAS,IAAI,KAAK,UAAU,KAAK,aAAa,CAAC,GAE9F,KAAK,yBAAyB,KAAK;AAAA,MACjC,KAAK,KAAK;AAAA,IAChB,CAAK;AAAA,EACH;AAAA,EACA,gBAAgBA,GAAO;AACrB,IAAAA,EAAM,eAAc;AACpB,UAAM,EAAE,QAAA+G,GAAQ,QAAAC,EAAM,IAAKhH,GACrB/N,IAAI,KAAK,IAAI8U,CAAM,GACnBhV,IAAI,KAAK,IAAIiV,CAAM;AACzB,QAAIC;AACJ,IAAIhV,MAAMF,IACRkV,IAAW,KAAK,wBAAwB,MAAMF,IAASC,IAC9C/U,IAAIF,KACbkV,IAAWF,GACX,KAAK,sBAAsB,QAE3BE,IAAWD,GACX,KAAK,sBAAsB;AAE7B,UAAME,KAAa,KAAK,iBAAiB,QAAQ,KAAK,KAAKD;AAC3D,IAAAjH,EAAM,cAAc,SAASkH,GAAW,CAAC;AAAA,EAC3C;AAAA,EACA,eAAe;AACb,SAAK,sBAAsB,WAAU;AACrC,UAAMC,IAAY,KAAK;AACvB,IAAAA,EAAU,QAAQ,CAACC,MAAU;AAC3B,WAAK,sBAAsB,QAAQA,CAAK;AAAA,IAC1C,CAAC;AACD,UAAMC,IAA0B,KAAK,2BAA2BF,CAAS;AAEzE,IAD8BE,EAAwB,SAC1B,KAAK,KAAK,gCACpCF,EAAUE,EAAwB,CAAC,CAAC,EAAE,WAAW,IACjD,KAAK,8BAA8B,KAErC,KAAK,gCAAgC,KAAKF,CAAS;AAAA,EACrD;AAAA,EACA,wBAAwB1I,GAAI;AAC1B,IAAKA,MAGL,KAAK,sBAAsBA,GAC3B,KAAK,uBAAuBoH,GAAe,gBAAgB,MAAM,KAAK,wBAAwB;AAAA,MAC5F,MAAMpH;AAAA,MACN,WAAW,CAAC,GAAG,KAAK,CAAC;AAAA,IAC3B,CAAK;AAAA,EACH;AAAA,EACA,uBAAuB;AACrB,UAAM8H,IAAoB,KAAK;AAC/B,QAAI,CAACA;AACH;AAEF,QAAIe,GACAC;AACJ,UAAMb,IAAiBH,EAAkB,YACnCiB,IAAejB,EAAkB,aACjCkB,IAAoBlB,EAAkB;AAC5C,IAAI,KAAK,iBAAiB,SACxBe,IAAkBZ,IAAiB,GACnCa,IAAgBb,IAAiBc,IAAeC,MAEhDH,IAAkBZ,IAAiB,GACnCa,IAAgBb,MAAmB,EAAEe,IAAoBD,KAE3D,KAAK,8BAA8BF,GACnC,KAAK,4BAA4BC;AAAA,EACnC;AAAA,EACA,kBAAkBlE,GAAW;AAC3B,0BAAsB,MAAM;AAC1B,YAAMkD,IAAoB,KAAK,qBACzBC,IAAkBD,EAAkB,sBAAqB,GACzDY,IAAY,MAAM,KAAK,KAAK,GAAG,iBAAiB,mBAAmB,CAAC,GACpE,EAAE,cAAAO,EAAY,IAAK;AACzB,MAAIrE,MAAc,aAChB8D,EAAU,QAAO;AAEnB,UAAIQ,IAAgB;AA2BpB,UA1BAR,EAAU,QAAQ,CAACjB,MAAa;AAC9B,cAAMO,IAAiBP,EAAS,sBAAqB,GAC/C0B,IAAgBpB,EAAgB,IAAIA,EAAgB,OACpDqB,IAAepB,EAAe,IAAIA,EAAe;AACvD,QAAIpD,MAAc,aAAaqE,MAAiB,SAASrE,MAAc,cAAcqE,MAAiB,SAC1EjB,EAAe,IAAImB,KAIdC,IAAeD,KAAiBnB,EAAe,IAAID,EAAgB,OAE9FmB,IAAgBzB,MAIS2B,IAAerB,EAAgB,KAI3BqB,IAAeD,KAAiBnB,EAAe,IAAID,EAAgB,OAEhGmB,IAAgBzB;AAAA,MAIxB,CAAC,GACGyB,GAAe;AACjB,cAAM,EAAE,qBAAAG,EAAmB,IAAK,MAC1BC,IAAmB1E,MAAc,aAAaqE,MAAiB,SAASrE,MAAc,cAAcqE,MAAiB,QAAQ,CAACI,IAAsBH,EAAc,cAAcpB,EAAkB,cAAcuB,GAChNE,IAAWL,EAAc,aAAaI;AAC5C,QAAAxB,EAAkB,SAAS;AAAA,UACzB,MAAMyB;AAAA,UACN,UAAU;AAAA,QACpB,CAAS;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EACA,wBAAwB;AACtB,SAAK,kBAAkB,SAAS;AAAA,EAClC;AAAA,EACA,4BAA4B;AAC1B,SAAK,kBAAkB,UAAU;AAAA,EACnC;AAAA,EACA,eAAehI,GAAOvB,GAAIwJ,GAAa;AACrC,UAAMC,IAAUC,GAAoB,KAAK,kBAAkB1J,GAAIwJ,CAAW;AAC1E,SAAK,uBAAuBC,GAAS,SAAS,GAC9ClI,EAAM,gBAAe;AAAA,EACvB;AAAA,EACA,mBAAmBvB,GAAI0I,IAAY,KAAK,WAAW;AACjD,WAAOA,EAAU,QAAQ1I,CAAE;AAAA,EAC7B;AAAA,EACA,mBAAmB;AACjB,SAAK,qBAAoB;AAAA,EAC3B;AAAA,EACA,MAAM,gBAAgB2J,GAAI;AACxB,WAAO,QAAQ,IAAI,KAAK,UAAU,IAAI,CAAC3J,MAAOA,EAAG,iBAAgB,CAAE,CAAC,EAAE,KAAK,CAACwG,MACnE,KAAK,UAAUA,EAAI,QAAQmD,CAAE,CAAC,CACtC;AAAA,EACH;AAAA,EACA,2BAA2BjB,GAAW;AACpC,WAAOA,EAAU,OAAO,CAACkB,GAAiBnC,GAAUoC,MAAWpC,EAAS,SAAuCmC,IAA9B,CAAC,GAAGA,GAAiBC,CAAK,GAAqB,CAAA,CAAE;AAAA,EACpI;AAAA,EACA,oBAAoBxB,GAAkB;AACpC,UAAM,EAAE,WAAAK,EAAS,IAAK,MAChBoB,IAAoBzB,EAAiB,UACrCO,IAA0B,KAAK,2BAA2BF,CAAS,GACnEqB,IAAwBnB,EAAwB;AACtD,QAAImB,MAA0B,KAAKrB,EAAUE,EAAwB,CAAC,CAAC,EAAE;AACvE,WAAK,8BAA8B,IACnCF,EAAUE,EAAwB,CAAC,CAAC,EAAE,WAAW,IACjD,KAAK,gBAAgBA,EAAwB,CAAC,GAC1CkB,KACFpB,EAAUE,EAAwB,CAAC,CAAC,EAAE,YAAW;AAAA,aAE1CmB,IAAwB,GAAG;AACpC,YAAMC,IAAsBtB,EAAU,UAAU,CAAC1I,MAAOA,MAAOqI,CAAgB,GACzE4B,IAAoBrB,EAAwB,KAAK,CAAC9Y,MAAUA,IAAQka,CAAmB;AAC7F,MAAI,KAAK,kBAAkBA,MACzB,KAAK,gBAAgBC,KAAwCF,IAAwB,GACrFrB,EAAU,KAAK,aAAa,EAAE,YAAW;AAAA,IAE7C;AACA,0BAAsB,MAAM;AAC1B,MAAAA,EAAU,KAAK,aAAa,EAAE,MAAK;AAAA,IACrC,CAAC;AAAA,EACH;AAAA,EACA,SAAS;AACP,gBAAK,GAAG,OAAO,WACR7I,eAAkBC,EAAa;AAAA,MACpC,CAAChF,EAAI,SAAS,GAAG;AAAA,MACjB,CAACA,EAAI,iCAAiC,GAAG,CAAC,CAAC,KAAK;AAAA,MAChD,CAACA,EAAI,+BAA+B,GAAG,CAAC,CAAC,KAAK;AAAA,MAC9C,CAAC,SAAS,KAAK,KAAK,EAAE,GAAG;AAAA,MACzB,CAAC,YAAY,KAAK,QAAQ,EAAE,GAAG;AAAA,MAC/B,CAAC6I,GAAY,GAAG,GAAG,KAAK,iBAAiB;AAAA,IAC/C,CAAK,CAAC,IAAI,KAAK,mBAAmB,OAAO,CAAC,cAAc7D,EAAa;AAAA,MAC/D,CAAChF,EAAI,mBAAmB,GAAG;AAAA,IACjC,CAAK,CAAC,YAAY,KAAK,gBAAgB,WAAW,KAAK,eAAe,IAAI2I,EAAI,KAAK,uBAAuB,CAAC,sBAAsB,KAAK,YAAY,iBAAiB,KAAK,mBAAmB,KAAK,CAAC;AAAA,EAC/L;AAAA,EACA,mBAAmByG,GAAmB;AACpC,UAAM,EAAE,UAAAC,GAAU,UAAAvE,GAAU,6BAAAwE,GAA6B,2BAAAC,GAA2B,OAAAxE,EAAK,IAAK,MACxFyE,IAAQJ,MAAsB;AACpC,WAAOnJ,EAAMmJ,GAAmBrK,eAAkBC,EAAa;AAAA,MAC7D,CAAChF,EAAI,qBAAqB,GAAG;AAAA,MAC7B,CAACA,EAAI,6BAA6B,GAAG,CAACwP;AAAA,MACtC,CAACxP,EAAI,4BAA4B,GAAGwP;AAAA,IAC1C,CAAK,CAAC,YAAYA,KAAS,CAACD,KAA6B,CAACC,KAAS,CAACF,CAA2B,gCAAgCD,IAAW,iBAAiB,aAAa,eAAeG,IAAQ1E,EAAS,gBAAgBA,EAAS,iBAAiB,UAAU9F,EAAa;AAAA,MACnQ,CAAChF,EAAI,YAAY,GAAG;AAAA,IAC1B,CAAK,CAAC,kCAAkCwP,IAAQpD,GAAK,eAAeA,GAAK,WAAW,wBAAwBoD,IAAQ,KAAK,wBAAwB,KAAK,yBAAyB,WAAWzE,CAAK,sCAAsC;AAAA,EACnO;AACF;AACA5E,EAAc,mBAAmBkG,EAAM;ACtWvC,MAAMrM,KAAM;AAAA,EACV,QAAQ;AAAA,EACR,aAAa;AACf,GACMyP,KAAU,CAAC,EAAE,UAAAC,GAAU,WAAAC,GAAW,KAAA1Y,GAAK,OAAA2Y,GAAO,SAAAC,GAAS,KAAKC,GAAO,OAAAC,IAAQ,IAAM,OAAAhF,GAAO,OAAAiB,QAAY/F,EAAMhP,GAAK8N,uBAA0B6K,CAAK,UAAU5K,EAAa;AAAA,EACzK,EAAE,CAACgL,MAAW,aAAaA,CAAM,IAAIjF,CAAK,CAAC,GAAG;AAAA,EAC9C,CAAC/K,GAAI,MAAM,GAAG;AAAA,EACd,CAACA,GAAI,WAAW,GAAG+P;AACrB,CAAC,CAAC,cAAcL,CAAQ,WAAWG,CAAO,cAA0B,CAAM,UAAU7D,KAAS9F,CAAO,gBAAgByC,EAAImH,CAAK,CAAC,gCAAgC1H,GAAa2C,CAAK,CAAC,2BAA2B;ACA5M,MAAM/K,IAAM;AAAA,EACV,WAAW;AAAA,EACX,iBAAiB;AAAA,EACjB,SAAS;AAAA,EACT,gBAAgB;AAAA,EAChB,SAAS;AAAA,EACT,aAAa;AAAA,EACb,WAAW;AAAA,EACX,WAAW;AAAA,EACX,OAAO,CAAC+K,MAAU,SAASA,CAAK;AAAA,EAChC,mBAAmB;AACrB,GACMvG,KAASC;AACf,MAAMwL,WAAiBtL,EAAW;AAAA,EAChC,cAAc;AACZ,UAAK,GACL,KAAK,gBAAgB4B,GAAS,GAC9B,KAAK,OAAO,qBAAqB2J,GAAI,CAAE,IACvC,KAAK,mBAAmB5D,GAAe,YAAY,MAAM,KAAK,eAAe,GAC7E,KAAK,iBAAiBA,GAAe,UAAU,MAAM;AACnD,WAAK,8BAA8B,KAAI;AAAA,IACzC,CAAC,GACD,KAAK,WAAW5F,GAAM,GACtB,KAAK,UAAU,IACf,KAAK,WAAW,IAChB,KAAK,WAAW,IAChB,KAAK,SAAS,IACd,KAAK,WAAW,IAChB,KAAK,WAAW,OAChB,KAAK,QAAQ,KACb,KAAK,WAAW,IAChB,KAAK,gCAAgCC,EAAY,EAAE,YAAY,GAAK,CAAE,GACtE,KAAK,kCAAkCA,EAAY,EAAE,YAAY,GAAK,CAAE,GACxE,KAAK,8BAA8BA,EAAY,EAAE,YAAY,GAAK,CAAE,GACpE,KAAK,2BAA2BA,EAAY,EAAE,YAAY,GAAK,CAAE,GACjE,KAAK,gCAAgCA,EAAY,EAAE,YAAY,GAAK,CAAE,GACtE,KAAK,+BAA+BA,EAAY,EAAE,YAAY,GAAK,CAAE,GACrE,KAAK,+BAA+BA,EAAY,EAAE,YAAY,GAAK,CAAE,GACrE,KAAK,mCAAmCA,EAAY,EAAE,YAAY,GAAK,CAAE,GACzE,KAAK,sBAAsBA,EAAY,EAAE,YAAY,GAAK,CAAE,GAC5D,KAAK,mBAAmBA,EAAY,EAAE,YAAY,GAAK,CAAE,GACzD,KAAK,SAAS,SAAS,MAAM,4BAA4B,KAAK,wBAAwB,GACtF,KAAK,OAAO,SAAS,KAAK,OAAO,GACjC,KAAK,OAAO,WAAW,KAAK,cAAc;AAAA,EAC5C;AAAA,EACA,OAAA;AACE,SAAK,aAAa,EAAE,UAAU,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,SAAS,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,UAAU,CAAC,GAAG,IAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,UAAU,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,QAAQ,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,UAAU,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,SAAS,CAAC,GAAG,IAAI,EAAE,SAAS,GAAI,CAAE,GAAG,aAAa,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,GAAG,WAAW,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,GAAG,QAAQ,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,GAAG,kBAAkB,CAAC,GAAG,CAAA,GAAI,EAAE,WAAW,GAAK,CAAE,GAAG,UAAU,GAAG,OAAO,GAAG,UAAU,CAAC,GAAG,IAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,KAAK,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,EAAC;AAAA,EACxmB;AAAA,EACE,OAAA;AACE,SAAK,SAASnC;AAAAA,EAClB;AAAA,EACE,MAAM,YAAY2L,IAAgB,IAAM;AACtC,QAAI,KAAK,YAAY,KAAK;AACxB;AAEF,UAAMC,IAAU,EAAE,KAAK,KAAK,KAAK,eAAAD,EAAa;AAC9C,SAAK,4BAA4B,KAAKC,CAAO,GACzCD,KACF,sBAAsB,MAAM,KAAK,oBAAoB,KAAI,CAAE;AAAA,EAE/D;AAAA,EACA,MAAM,mBAAmB;AACvB,WAAO,KAAK,MAAM,KAAK,MAAM,KAAK,YAAW;AAAA,EAC/C;AAAA,EACA,MAAM,cAAc;AAClB,WAAO,MAAM,UAAU,QAAQ,KAAKE,GAAgB,KAAK,GAAG,cAAc,QAAQ,EAAE,OAAO,CAACnL,MAAOA,EAAG,QAAQ,mBAAmB,CAAC,GAAG,KAAK,EAAE;AAAA,EAC9I;AAAA,EACA,gBAAgBkG,IAAS,IAAIC,IAAW,CAAA,GAAI;AAC1C,SAAK,WAAWD,EAAOC,EAAS,QAAQ,KAAK,GAAG,EAAE,CAAC,KAAK;AAAA,EAC1D;AAAA,EACA,oBAAoB;AAClB,UAAM,kBAAiB,GACvB,KAAK,yBAAwB,GAC7B,KAAK,eAAe,KAAK,GAAG,QAAQ,cAAc;AAAA,EACpD;AAAA,EACA,MAAM,OAAO;AAET,SAAK,cAAa,GAEhB,KAAK,OAAO,KAAK,YACnB,KAAK,YAAY,EAAK;AAAA,EAE1B;AAAA,EACA,WAAWzG,GAAS;AAClB,IAAIA,EAAQ,IAAI,UAAU,MAAM,KAAK,cAAc,KAAK,aAAa,OACnE,KAAK,gBAAe,GAElB,KAAK,iBACP,KAAK,SAAS,KAAK,aAAa,QAChC,KAAK,WAAW,KAAK,aAAa;AAAA,EAEtC;AAAA,EACA,UAAU;AACR,IAAAuC,GAAsB,IAAI;AAAA,EAC5B;AAAA,EACA,MAAM,SAAS;AACb,SAAK,gCAAgC,KAAK,MAAM,KAAK,iBAAgB,CAAE;AAAA,EACzE;AAAA,EACA,uBAAuB;AACrB,UAAM,qBAAoB,GAC1B,KAAK,kBAAkB,WAAU,GACjC,SAAS,MAAM,cAAc,IAAI,YAAY,6BAA6B;AAAA,MACxE,QAAQ,KAAK;AAAA,IACnB,CAAK,CAAC,GACF,KAAK,gBAAgB,WAAU;AAAA,EACjC;AAAA,EACA,kBAAkB;AAChB,IAAI,KAAK,YACP,KAAK,YAAY,EAAK;AAAA,EAE1B;AAAA,EACA,yBAAyBV,GAAO;AAE9B,IADqBA,EAAM,eAAe,KAAK,CAACvB,MAAOA,EAAG,YAAY,cAAc,MAC/D,KAAK,iBAGtB,KAAK,MACP,KAAK,WAAW,KAAK,QAAQuB,EAAM,OAAO,MAE1C,KAAK,YAAW,EAAG,KAAK,CAACsI,MAAU;AACjC,WAAK,WAAWA,MAAUtI,EAAM,OAAO;AAAA,IACzC,CAAC,GAEHA,EAAM,gBAAe;AAAA,EACvB;AAAA,EACA,UAAU;AACR,SAAK,YAAW;AAAA,EAClB;AAAA,EACA,eAAeA,GAAO;AACpB,YAAQA,EAAM,KAAG;AAAA,MACf,KAAK;AAAA,MACL,KAAK;AACH,QAAKA,EAAM,aAAY,EAAG,SAAS,KAAK,cAAc,KAAK,MACzD,KAAK,YAAW,GAChBA,EAAM,eAAc;AAEtB;AAAA,MACF,KAAK;AACH,QAAAA,EAAM,eAAc,GAChBwB,EAAc,KAAK,EAAE,MAAM,QAC7B,KAAK,6BAA6B,KAAI,IAEtC,KAAK,iCAAiC,KAAI;AAE5C;AAAA,MACF,KAAK;AACH,QAAAxB,EAAM,eAAc,GAChBwB,EAAc,KAAK,EAAE,MAAM,QAC7B,KAAK,iCAAiC,KAAI,IAE1C,KAAK,6BAA6B,KAAI;AAExC;AAAA,MACF,KAAK;AACH,QAAAxB,EAAM,eAAc,GACpB,KAAK,8BAA8B,KAAI;AACvC;AAAA,MACF,KAAK;AACH,QAAAA,EAAM,eAAc,GACpB,KAAK,6BAA6B,KAAI;AACtC;AAAA,IACR;AAAA,EACE;AAAA,EACA,oBAAoB;AAClB,SAAK,uBAAsB;AAAA,EAC7B;AAAA,EACA,gBAAgB;AACd,SAAK,UAAU,KAAK,GAAG,YAAY,KAAI,EAAG,SAAS;AAAA,EACrD;AAAA,EACA,2BAA2B;AACzB,SAAK,kBAAkB,QAAQ,KAAK,IAAI,EAAE,WAAW,IAAM,SAAS,IAAM;AAAA,EAC5E;AAAA,EACA,yBAAyB;AACvB,SAAK,SAAS,IACd,KAAK,yBAAyB,KAAK,EAAE,KAAK,KAAK,KAAK,GACpD,KAAK,iBAAiB,KAAI;AAAA,EAC5B;AAAA,EACA,SAAS;AACP,UAAM,EAAE,IAAAvB,GAAI,QAAAoL,EAAM,IAAK,MACjBzB,IAAK3J,EAAG,MAAM,KAAK,MACnBqL,IAAcxL,wBAA2BC,EAAa,EAAE,CAAChF,EAAI,SAAS,GAAG,IAAM,CAACA,EAAI,SAAS,GAAG,GAAI,CAAE,CAAC,aAAa,KAAK,gBAAgB,WAAW,KAAK,gBAAgB,MAAM,UAAU,KAAK,SAAS,WAAWoI,GAAa,KAAK,KAAK,CAAC,oBAC1OoI,IAAYzL,wBAA2BC,EAAa,EAAE,CAAChF,EAAI,SAAS,GAAG,IAAM,CAACA,EAAI,OAAO,GAAG,GAAI,CAAE,CAAC,aAAa,KAAK,gBAAgB,SAAS,KAAK,gBAAgB,MAAM,UAAU,KAAK,OAAO,WAAWoI,GAAa,KAAK,KAAK,CAAC;AACxO,WAAAqI,EAAa,KAAK,IAAI,iBAAiB,KAAK,QAAQ,GACpD,KAAK,GAAG,eAAeC,GAAc,KAAK,QAAQ,GAClDD,EAAa,KAAK,IAAI,MAAM5B,CAAE,GAC9B,KAAK,GAAG,OAAO,OACf4B,EAAa,KAAK,IAAI,YAAY,KAAK,YAAY,CAAC,KAAK,WAAW,IAAI,EAAE,GACnE7H,GAAqB,EAAE,UAAU,KAAK,UAAU,UAAU7D,eAAkBC,EAAa;AAAA,MAC9F,CAAChF,EAAI,SAAS,GAAG;AAAA,MACjB,CAACA,EAAI,eAAe,GAAG,KAAK,aAAa;AAAA,MACzC,CAACA,EAAI,WAAW,GAAG,CAAC,CAAC,KAAK,aAAa,CAAC,CAAC,KAAK;AAAA,MAC9C,CAACA,EAAI,MAAM,KAAK,KAAK,CAAC,GAAG;AAAA,IAC/B,CAAK,CAAC,YAAYsQ,CAAM,IAAI3H,EAAI,CAACgI,MAAQA,IAAM,KAAK,gBAAgB,QAAQA,CAAG,IAAI,IAAI,CAAC,eAAe3L,EAAa,EAAE,CAAChF,EAAI,OAAO,GAAG,IAAM,CAACA,EAAI,cAAc,GAAG,KAAK,QAAO,CAAE,CAAC,IAAI,KAAK,YAAYuQ,IAAc,IAAI,gBAAgB,KAAK,UAAUC,IAAY,IAAI,SAAS,KAAK,kBAAiB,CAAE,cAAcxL,EAAahF,EAAI,iBAAiB,CAAC,iBAAiB;AAAA,EACvW;AAAA,EACA,oBAAoB;AAClB,UAAM,EAAE,UAAA4Q,GAAU,UAAA9F,EAAQ,IAAK;AAC/B,WAAO8F,IAAW3K,EAAM,gBAAgBwJ,GAAQ,EAAE,UAAU,IAAO,WAAW,IAAM,OAAO3E,EAAS,OAAO,SAAS,KAAK,mBAAmB,KAAK,KAAK,eAAe,OAAO,IAAO,OAAO,KAAK,OAAO,OAAOA,EAAS,MAAK,CAAE,CAAC,IAAI;AAAA,EACpO;AACF;AACA3E,EAAc,qBAAqB8J,EAAQ;AC9M3C,MAAMjQ,KAAM;AAAA,EACV,WAAW;AAAA,EACX,SAAS;AACX,GACMwE,KAASC;AACf,MAAMoM,WAAYlM,EAAW;AAAA,EAC3B,cAAc;AACZ,UAAK,GACL,KAAK,OAAO,qBAAqBuL,GAAI,CAAE,IACvC,KAAK,QAAQ,KACb,KAAK,WAAW,IAChB,KAAK,SAAS,SAAS,MAAM,4BAA4B,KAAK,wBAAwB;AAAA,EACxF;AAAA,EACA,OAAA;AACE,SAAK,aAAa,EAAE,WAAW,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,OAAO,GAAG,UAAU,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,KAAK,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,EAAC;AAAA,EAC5J;AAAA,EACE,OAAA;AACE,SAAK,SAAS1L;AAAAA,EAClB;AAAA,EACE,MAAM,cAAc;AAClB,WAAO,MAAM,UAAU,QAAQ,KAAK6L,GAAgB,KAAK,GAAG,cAAc,QAAQ,EAAE,OAAO,CAACnL,MAAOA,EAAG,QAAQ,aAAa,CAAC,GAAG,KAAK,EAAE;AAAA,EACxI;AAAA,EACA,gBAAgBkG,IAAS,IAAIC,IAAW,CAAA,GAAI;AAC1C,SAAK,YAAYA,EAASD,EAAO,QAAQ,KAAK,GAAG,EAAE,CAAC,KAAK;AAAA,EAC3D;AAAA,EACA,oBAAoB;AAClB,UAAM,kBAAiB,GACvB,KAAK,eAAe,KAAK,GAAG,QAAQ,cAAc;AAAA,EACpD;AAAA,EACA,uBAAuB;AACrB,UAAM,qBAAoB,GAC1B,SAAS,MAAM,cAAc,IAAI,YAAY,wBAAwB;AAAA,MACnE,QAAQ,KAAK;AAAA,IACnB,CAAK,CAAC;AAAA,EACJ;AAAA,EACA,yBAAyB3E,GAAO;AAE9B,IADqBA,EAAM,eAAe,KAAK,CAACvB,MAAOA,EAAG,YAAY,cAAc,MAC/D,KAAK,iBAGtB,KAAK,MACP,KAAK,WAAW,KAAK,QAAQuB,EAAM,OAAO,MAE1C,KAAK,YAAW,EAAG,KAAK,CAACsI,MAAU;AACjC,WAAK,WAAWA,MAAUtI,EAAM,OAAO;AAAA,IACzC,CAAC,GAEHA,EAAM,gBAAe;AAAA,EACvB;AAAA,EACA,SAAS;AACP,UAAMoI,IAAK,KAAK,GAAG,MAAM,KAAK;AAC9B,WAAA4B,EAAa,KAAK,IAAI,mBAAmB,KAAK,SAAS,GACvDA,EAAa,KAAK,IAAI,MAAM5B,CAAE,GACvB9J,eAAkBC,EAAa,EAAE,CAAChF,GAAI,SAAS,GAAG,IAAM,CAAC,SAAS,KAAK,KAAK,EAAE,GAAG,GAAI,CAAE,CAAC,4BAA4B,KAAK,WAAW,IAAI,EAAE,mBAAmBgF,EAAahF,GAAI,OAAO,CAAC;AAAA,EAC/L;AACF;AACAmG,EAAc,eAAe0K,EAAG;AC9DhC,MAAMjb,KAAQ,CAACZ,GAAO4B,GAAKC,MAAQ,KAAK,IAAID,GAAK,KAAK,IAAI5B,GAAO6B,CAAG,CAAC;AAoBrE,SAASia,GAAM9b,GAAO+b,GAASC,GAASC,GAAOC,GAAO;AACpD,UAAQlc,IAAQ+b,MAAYG,IAAQD,MAAUD,IAAUD,KAAWE;AACrE;AACA,SAASE,GAAiBnc,GAAOoc,GAAOC,GAAW;AACjD,SAAOrc,IAAQqc,IAAY,KAAKrc,IAAQoc,IAAQC,IAAY,IAAI;AAClE;ACRA,MAAM7M,KAASC,0wHACT6M,KAAuB;AAC7B,MAAMC,WAAoB5M,EAAW;AAAA,EACnC,cAAc;AACZ,UAAK,GACL,KAAK,SAAS1E,GACd,KAAK,6BAA6B,MAClC,KAAK,4BAA4B,IACjC,KAAK,OAAO+C,EAAa,KACzB,KAAK,iBAAiBsJ,GAAe,UAAU,CAACkF,MAAY,KAAK,aAAaA,CAAO,CAAC,GACtF,KAAK,4BAA4B,GACjC,KAAK,0BAA0B,MAC/B,KAAK,eAAe,IACpB,KAAK,WAAW9K,GAAO,EAAE,UAAU,GAAI,CAAE,GACzC,KAAK,yBAAyB,CAAChO,GAAGF,GAAGiZ,IAAY,OAAS;AACxD,YAAM,EAAE,OAAAzL,GAAO,QAAAJ,EAAM,IAAK,KAAK,kBAAkB,YAC3C9K,IAAa,KAAK,MAAMsF,EAAW,IAAI4F,IAAQtN,CAAC,GAChD1D,IAAQ,KAAK,MAAMoL,EAAW,IAAIwF,KAAUA,IAASpN,EAAE;AAC7D,WAAK,iBAAiB,KAAK,oBAAoB,IAAG,EAAG,YAAYsC,CAAU,EAAE,MAAM9F,CAAK,GAAGyc,CAAS;AAAA,IACtG,GACA,KAAK,oBAAoBvd,GAAS,CAACwd,IAAO,UAAU;AAClD,OAAKA,MAAS,SAASA,MAAS,kBAAkB,KAAK,8BACrD,KAAK,eAAc,IAEhBA,MAAS,SAASA,MAAS,iBAAiB,KAAK,6BACpD,KAAK,cAAa,GAEhB,KAAK,iBAAiBA,MAAS,SAASA,MAAS,qBAAqB,KAAK,iCAC7E,KAAK,kBAAiB;AAAA,IAE1B,GAAGJ,EAAoB,GACvB,KAAK,2BAA2B,CAAC7K,MAAU;AACzC,YAAM,EAAE,kBAAAkL,GAAkB,IAAAzM,EAAE,IAAK;AACjC,UAAI,CAACA,EAAG,eAAe,CAACyM;AACtB;AAEF,YAAM,EAAE,SAAAlH,GAAS,QAAAmH,EAAM,IAAKD;AAC5B,UAAIE,GACAC;AACJ,YAAM,EAAE,SAAAC,GAAS,SAAAC,EAAO,IAAKvL;AAC7B,MAAIgE,EAAQ,OAAO,QAAQ,QAAQ,KACjCoH,IAAYE,IAAUH,EAAO,GAC7BE,IAAYE,IAAUJ,EAAO,MAEzBG,IAAUH,EAAO,IAAIA,EAAO,SAASG,IAAUH,EAAO,IACxDC,IAAYE,IAAUH,EAAO,IACpBG,IAAUH,EAAO,IAC1BC,IAAY,IAEZA,IAAYD,EAAO,OAEjBI,IAAUJ,EAAO,IAAIA,EAAO,UAAUI,IAAUJ,EAAO,IACzDE,IAAYE,IAAUJ,EAAO,IACpBI,IAAUJ,EAAO,IAC1BE,IAAY,IAEZA,IAAYF,EAAO,SAGnBnH,MAAY,KAAK,6BACnB,KAAK,uBAAuBoH,GAAWC,GAAW,EAAK,IAC9CrH,MAAY,KAAK,4BAC1B,KAAK,sBAAsBoH,CAAS,IAC3BpH,MAAY,KAAK,iCAC1B,KAAK,0BAA0BoH,CAAS;AAAA,IAE5C,GACA,KAAK,yBAAyB,CAACpL,MAAU;AACvC,UAAI,CAACwL,GAAuBxL,CAAK;AAC/B;AAEF,YAAMyL,IAAqB,KAAK;AAChC,WAAK,mBAAmB,MACxB,KAAK,kBAAiB,GAClBA,KACF,KAAK,yBAAyB,KAAI;AAAA,IAEtC,GACA,KAAK,eAAehe,GAAS,CAACsd,MAAY;AACxC,UAAI,CAAC,KAAK;AACR;AAEF,YAAM,CAAC7O,CAAK,IAAI6O,GACVzN,IAAiB,KAAK,MAAMpB,EAAM,eAAe,CAAC,EAAE,UAAU;AACpE,MAAI,KAAK,kBAAkB,WAAW,UAAUoB,MAGhD,KAAK,wBAAwBA,CAAc,GAC3C,KAAK,iBAAgB,GACrB,KAAK,kBAAiB;AAAA,IACxB,GAAGuN,EAAoB,GACvB,KAAK,0BAA0B,CAACtL,MAAU;AACxC,YAAMmM,IAAa;AAAA,QACjB,OAAOrO,GAAekC,GAAO,KAAK,kBAAkB,KAAK,YAAY;AAAA,QACrE,QAAQ,KAAK,iBAAiB,OAAO;AAAA,MAC7C;AACM,WAAK,oBAAoB;AAAA,QACvB,YAAY5B,GAAwB4B,CAAK;AAAA,QACzC,QAAQmM;AAAA,MAChB;AAAA,IACI,GACA,KAAK,cAAc,OACnB,KAAK,WAAW,KAAK,WAAWlS,CAAa,GAC7C,KAAK,mBAAmBM,EAAkB,GAC1C,KAAK,cAAc,CAAA,GACnB,KAAK,aAAa,IAClB,KAAK,eAAe,IACpB,KAAK,mBAAmB,IACxB,KAAK,YAAY,IACjB,KAAK,WAAW,IAChB,KAAK,SAAS,QACd,KAAK,cAAc,IACnB,KAAK,gBAAgB,IACrB,KAAK,QAAQ,KACb,KAAK,2BAA2BoG,EAAY,EAAE,YAAY,GAAK,CAAE,GACjE,KAAK,0BAA0BA,EAAY,EAAE,YAAY,GAAK,CAAE,GAChE,KAAK,OAAO,WAAW,KAAK,0BAA0B,EAAE,SAAS,IAAM,GACvE,KAAK,OAAO,SAAS,KAAK,0BAA0B,EAAE,SAAS,IAAM;AAAA,EACvE;AAAA,EACA,OAAA;AACE,SAAK,aAAa,EAAE,aAAa,CAAC,IAAI,IAAI,EAAE,OAAO,IAAM,GAAG,UAAU,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,qBAAqB,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,oBAAoB,CAAC,IAAI,IAAI,EAAE,OAAO,IAAM,GAAG,kBAAkB,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,cAAc,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,kBAAkB,CAAC,IAAI,IAAI,EAAE,OAAO,IAAM,GAAG,aAAa,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,kBAAkB,CAAC,IAAI,CAAA,GAAI,EAAE,OAAO,GAAI,CAAE,GAAG,YAAY,CAAC,GAAG,IAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,cAAc,CAAC,GAAG,CAAA,GAAI,EAAE,MAAM,SAAS,GAAG,kBAAkB,CAAC,GAAG,IAAI,EAAE,MAAM,QAAO,CAAE,GAAG,WAAW,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,OAAO,CAAC,GAAG,CAAA,GAAI,EAAE,WAAW,GAAK,CAAE,GAAG,UAAU,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,QAAQ,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,GAAG,aAAa,CAAC,GAAG,CAAA,GAAI,EAAE,MAAM,SAAS,GAAG,kBAAkB,CAAC,GAAG,CAAA,GAAI,EAAE,WAAW,GAAK,CAAE,GAAG,iBAAiB,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,GAAG,eAAe,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,IAAM,MAAM,QAAO,CAAE,GAAG,OAAO,CAAC,GAAG,CAAA,GAAI,EAAE,SAAS,GAAI,CAAE,GAAG,WAAW,CAAC,GAAG,IAAI,EAAE,SAAS,GAAI,CAAE,GAAG,OAAO,EAAC;AAAA,EACn/B;AAAA,EACE,OAAA;AACE,SAAK,SAASnC;AAAA,EAClB;AAAA,EACE,IAAI,QAAQ;AACV,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,MAAMxJ,GAAO;AACf,UAAMoX,IAAW,KAAK;AACtB,SAAK,SAASpX,GACd,KAAK,kBAAkBA,GAAOoX,CAAQ;AAAA,EACxC;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,MAAMpd,GAAO;AACf,UAAM6R,IAAW,KAAK;AACtB,SAAK,SAAS7R,GACd,KAAK,kBAAkBA,GAAO6R,CAAQ,GACtC,KAAK,eAAe;AAAA,EACtB;AAAA,EACA,MAAM,WAAW;AACf,UAAMC,GAAmB,IAAI,GAC7BuL,GAAmB,KAAK,EAAE;AAAA,EAC5B;AAAA,EACA,oBAAoB;AAClB,UAAM,kBAAiB,GACvB,KAAK,cAAa;AAAA,EACpB;AAAA,EACA,MAAM,OAAO;AACX,IAAK,KAAK,iBACR,KAAK,WAAW3Q,EAAaK,EAAO9B,GAAe,KAAK,YAAY,CAAC,IAEvE,KAAK,kCAAiC;AACtC,UAAM,EAAE,aAAAqS,GAAa,OAAAtX,GAAO,QAAAuX,GAAQ,OAAAvd,EAAK,IAAK,MACxCwd,IAAiBF,KAAe,CAACtd,GACjCyd,IAAavP,GAAUlO,CAAK,GAC5B0d,IAAoBF,KAAkBD,MAAW,UAAUE,KAAcF,MAAWE,GACpFE,IAAeH,IAAiB,OAAOE,IAAoB5U,EAAM9I,CAAK,IAAIgG;AAChF,IAAK0X,KACH,KAAK,6BAA6B1d,GAAOud,CAAM,GAEjD,KAAK,QAAQA,GAAQ,EAAK,GAC1B,KAAK,iBAAiBI,GAAc,IAAO,SAAS,GACpD,KAAK,uBAAuB,KAAK,KAAK,GACtC,KAAK,wBAAwBpS,EAAkB,KAAK,KAAK,EAAE,QAAQ;AACnE,UAAMgM,IAAa,GAAGrM,EAA0B,GAAG,KAAK,SAAS;AACjE,IAAI,KAAK,aAAa,aAAa,QAAQqM,CAAU,MACnD,KAAK,cAAc,KAAK,MAAM,aAAa,QAAQA,CAAU,CAAC;AAAA,EAElE;AAAA,EACA,WAAW3H,GAAS;AAClB,KAAIA,EAAQ,IAAI,YAAY,MAAM,KAAK,cAAc,KAAK,eAAe,OAAUA,EAAQ,IAAI,WAAW,MAAM,KAAK,cAAc,KAAK,cAAc,QACpJ,KAAK,kCAAiC,GAEpCA,EAAQ,IAAI,cAAc,MAAM,KAAK,cAAc,KAAK,iBAAiB,OAC3E,KAAK,yBAAyB,KAAK,YAAY,GAE7C,KAAK,eAAeA,EAAQ,IAAI,cAAc,KAAK,KAAK,iBAAiB,MAASA,EAAQ,IAAI,kBAAkB,KAAK,KAAK,qBAAqBrE,EAAkB,MACnK,KAAK,mCAAkC,IAErCqE,EAAQ,IAAI,cAAc,MAAM,KAAK,cAAc,KAAK,iBAAiB,OAAUA,EAAQ,IAAI,QAAQ,MAAM,KAAK,cAAc,KAAK,WAAW,YAClJ,KAAK,iCAAgC,GAEnCA,EAAQ,IAAI,OAAO,MAAM,KAAK,cAAc,KAAK,UAAU,QAC7D,KAAK,kBAAkB,KAAK,KAAK;AAAA,EAErC;AAAA,EACA,UAAU;AACR,IAAAuC,GAAsB,IAAI;AAAA,EAC5B;AAAA,EACA,SAAS;AACP,SAAK,mCAAkC;AAAA,EACzC;AAAA,EACA,uBAAuB;AACrB,UAAM,qBAAoB,GAC1B,OAAO,oBAAoB,eAAe,KAAK,wBAAwB,GACvE,OAAO,oBAAoB,aAAa,KAAK,sBAAsB,GACnE,KAAK,gBAAgB,WAAU;AAAA,EACjC;AAAA,EACA,IAAI,sBAAsB;AACxB,WAAO,KAAK,SAAS,KAAK,iBAAiBlH;AAAAA,EAC7C;AAAA,EACA,IAAI,uBAAuB;AACzB,WAAO,KAAK,kBAAkB,OAAO;AAAA,EACvC;AAAA,EACA,gBAAgB;AACd,SAAK,gBAAgB,QAAQ,KAAK,EAAE;AAAA,EACtC;AAAA,EACA,oCAAoC;AAClC,SAAK,cAAc,KAAK,aAAa,KAAK;AAAA,EAC5C;AAAA,EACA,yBAAyBkJ,GAAc;AACrC,UAAM,EAAE,QAAAoJ,EAAM,IAAK;AACnB,IAAIpJ,KAAgBoJ,MAAW,UAAU,CAAC/O,GAAgB+O,CAAM,MAC9D,QAAQ,KAAK,gDAAgDA,CAAM,0BAA0B,GAC7F,KAAK,eAAe;AAAA,EAExB;AAAA,EACA,qCAAqC;AACnC,SAAK,kBAAiB;AAAA,EACxB;AAAA,EACA,kBAAkBvX,GAAOoX,GAAU;AACjC,SAAK,kBAAiB,GACtB,KAAK,wBAAwBpX,CAAK,GAClC,KAAK,gBAAgBoX;AAAA,EACvB;AAAA,EACA,mCAAmC;AACjC,SAAK,QAAQ,KAAK,MAAM,GACxB,KAAK,iBAAiB,KAAK,OAAO,IAAO,UAAU;AAAA,EACrD;AAAA,EACA,kBAAkBrH,IAAQ,KAAK;AAC7B,SAAK,uBAAuBA,CAAK,GACjC,KAAK,iBAAgB,GACrB,KAAK,kBAAiB;AAAA,EACxB;AAAA,EACA,kBAAkB/V,GAAO6R,GAAU;AACjC,UAAM,EAAE,aAAAyL,GAAa,QAAAC,EAAM,IAAK,MAC1BK,IAAY,CAACN,KAAetd;AAClC,QAAI6d,IAAc;AAClB,QAAID,GAAW;AACb,YAAME,IAAW5P,GAAUlO,CAAK;AAChC,UAAI,CAAC8d,KAAYP,MAAW,UAAUO,MAAaP,GAAQ;AACzD,aAAK,6BAA6Bvd,GAAOud,CAAM,GAC/C,KAAK,SAAS1L;AACd;AAAA,MACF;AACA,MAAAgM,IAAc,KAAK,SAASC,GAC5B,KAAK,QAAQA,GAAU,KAAK,+BAA+B,IAAI;AAAA,IACjE;AACA,UAAMC,IAAW,KAAK;AACtB,QAAI,KAAK,+BAA+B;AACtC;AAEF,QAAI,KAAK,+BAA+B,oBAAoB;AAC1D,WAAK,wBAAwB,KAAI,GAC5BA,KACH,KAAK,yBAAyB,KAAI;AAEpC;AAAA,IACF;AACA,UAAM/X,IAAQsX,KAAe,CAACtd,IAAQ,OAAO8I,EAAM9I,KAAS,QAAQ,OAAOA,KAAU,YAAYwO,GAAgB,KAAK,IAAI,IAAIf,GAAezN,CAAK,IAAIA,CAAK,GACrJge,IAAe,CAAC3P,GAAWrI,GAAO,KAAK,KAAK;AAClD,KAAI6X,KAAeG,MACjB,KAAK,iBAAiBhY,GAAO,KAAK,gBAAgB,EAAE,KAAK,KAAK,SAAS,GAAG,KAAK,KAAK,KAAK,SAAS,OAAO,MAAM,KAAK,+BAA+B,YAAY,UAAU;AAAA,EAE7K;AAAA,EACA,kBAAkByL,GAAO;AACvB,SAAK,cAAcA,EAAM,cAAc,aAAa,iBAAiB,GACrE,KAAK,wBAAwB,KAAK,KAAK;AAAA,EACzC;AAAA,EACA,6BAA6BA,GAAO;AAClC,UAAM,EAAE,KAAAxP,EAAG,IAAKwP,GACVwM,IAAqB;AAAA,MACzB,SAAS,EAAE,GAAG,GAAG,GAAG,IAAG;AAAA,MACvB,YAAY,EAAE,GAAG,IAAI,GAAG,EAAC;AAAA,MACzB,WAAW,EAAE,GAAG,GAAG,GAAG,GAAE;AAAA,MACxB,WAAW,EAAE,GAAG,KAAK,GAAG,EAAC;AAAA,IAC/B;AACI,IAAIA,EAAmBhc,CAAG,MACxBwP,EAAM,eAAc,GACpB,KAAK,mBAAmBxP,MAAQ,eAAeA,MAAQ,YAAY,aAAa,cAChF,KAAK,uBAAuB,KAAK,sBAAsBgc,EAAmBhc,CAAG,EAAE,KAAK,GAAG,KAAK,qBAAqBgc,EAAmBhc,CAAG,EAAE,KAAK,GAAG,EAAK;AAAA,EAE1J;AAAA,EACA,sBAAsBwP,GAAO;AAC3B,UAAM3G,IAAW2G,EAAM,WAAW,KAAK,GACjC,EAAE,KAAAxP,EAAG,IAAKwP,GACVyM,IAAoB;AAAA,MACxB,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,WAAW;AAAA,IACjB;AACI,QAAIA,EAAkBjc,CAAG,GAAG;AAC1B,MAAAwP,EAAM,eAAc;AACpB,YAAM/O,IAAQwb,EAAkBjc,CAAG,IAAI6I,GACjCvE,IAAM,KAAK,oBAAoB,IAAG,GAClCP,IAAQ,KAAK,oBAAoB,IAAIO,IAAM7D,CAAK;AACtD,WAAK,iBAAiBsD,GAAO,EAAK;AAAA,IACpC;AAAA,EACF;AAAA,EACA,qBAAqByL,GAAO;AAC1B,IAAAA,EAAM,gBAAe;AACrB,UAAM,EAAE,aAAA6L,GAAa,OAAAtX,EAAK,IAAK,MAEzB7F,IADQsR,EAAM,OACF;AAClB,QAAI6L,KAAe,CAACnd,GAAK;AACvB,WAAK,iBAAiB,IAAI;AAC1B;AAAA,IACF;AACA,UAAMge,IAAgBnY,KAAS0G,EAAaK,EAAO/G,GAAOwI,GAAgB,KAAK,IAAI,CAAC,CAAC;AACrF,IAAIrO,MAAQge,KACV,KAAK,iBAAiBrV,EAAM3I,CAAG,CAAC;AAAA,EAEpC;AAAA,EACA,uBAAuBsR,GAAO;AAC5B,UAAM2M,IAAS3M,EAAM;AACrB,SAAK,iBAAiB3I,EAAMsV,EAAO,KAAK,CAAC;AAAA,EAC3C;AAAA,EACA,mBAAmB3M,GAAO;AACxB,UAAMkB,IAAQlB,EAAM,eACd4M,IAAe,OAAO1L,EAAM,aAAa,oBAAoB,CAAC,GAE9DvJ,IADiBiV,MAAiB,IACT/S,EAAe,MAAM,KAAK,gBAAgB,QAAQH,GAAW,OAAO,KAAKA,EAAU,EAAEkT,CAAY,CAAC,IAAIjT,EAAW,OAAO,KAAKA,CAAU,EAAEiT,CAAY,CAAC;AACrL,QAAIjK;AACJ,QAAI,CAACzB,EAAM;AACT,MAAAyB,IAAa,IACb,KAAK,4BAA4B,IACjC,KAAK,0BAA0B;AAAA,SAC1B;AAEL,YAAMkK,IADQ,OAAO3L,EAAM,KAAK,IACF,KAAK;AAEnC,MAAAyB,IADgBxT,GAAM0d,GAAe,GAAGlV,CAAK,EACxB,SAAQ;AAAA,IAC/B;AACA,IAAAuJ,EAAM,QAAQyB,GACVA,MAAe,MAAM,KAAK,8BAA8B,IAC1D,KAAK,oBAAoB3C,CAAK,IACrB2C,MAAe,MACxB,KAAK,oBAAoB3C,CAAK;AAAA,EAElC;AAAA,EACA,kBAAkBA,GAAO;AACvB,UAAMkB,IAAQlB,EAAM,eACd4M,IAAe,OAAO1L,EAAM,aAAa,oBAAoB,CAAC,GAC9DnQ,IAAW,CAAC,GAAG,KAAK,QAAQ;AAElC,IADoC,CAACmQ,EAAM,SAAS,CAAC,KAAK,gBAExDA,EAAM,QAAQnQ,EAAS6b,CAAY,GAAG,SAAQ;AAAA,EAElD;AAAA,EACA,mBAAmB5M,GAAO;AAExB,IADcA,EAAM,cACd,WAAU;AAAA,EAClB;AAAA,EACA,yBAAyBA,GAAO;AAC9B,SAAK,4BAA4B;AACjC,UAAM,EAAE,KAAAxP,EAAG,IAAKwP;AAChB,QAAIxP,MAAQ,aAAaA,MAAQ,eAAe,CAACwP,EAAM,aAAY,EAAG,KAAK,CAAChK,MAASA,EAAK,WAAW,SAASuD,EAAI,OAAO,CAAC;AACxH;AAEF,UAAM,EAAE,UAAA2J,EAAQ,IAAKlD;AAErB,QADAA,EAAM,eAAc,GAChB,CAAC,KAAK,OAAO;AACf,WAAK,iBAAiB,KAAK,aAAa,GACxCA,EAAM,gBAAe;AACrB;AAAA,IACF;AACA,UAAM8M,IAAoB;AAC1B,SAAK,4BAA4Btc,MAAQ,aAAa0S,IAAW4J,IAAoBtc,MAAQ,eAAe0S,IAAW,KAAK,GACxH1S,MAAQ,cACV,KAAK,0BAA0B,OAE7BA,MAAQ,gBACV,KAAK,0BAA0B;AAAA,EAEnC;AAAA,EACA,qBAAqBoc,GAAc;AACjC,WAAO,KAAK,gBAAgB,QAAQlT,GAAW,OAAO,KAAKA,EAAU,EAAEkT,CAAY,CAAC,IAAIjT,EAAW,OAAO,KAAKA,CAAU,EAAEiT,CAAY,CAAC;AAAA,EAC1I;AAAA,EACA,oBAAoB5M,GAAO;AACzB,UAAMkB,IAAQlB,EAAM,eACd4M,IAAe,OAAO1L,EAAM,aAAa,oBAAoB,CAAC,GAC9DnQ,IAAW,CAAC,GAAG,KAAK,QAAQ;AAElC,QAD4B,KAAK,eAAe,CAACmQ,EAAM,OAC9B;AACvB,WAAK,WAAW,CAAC,MAAM,MAAM,MAAM,IAAI,GACvC,KAAK,iBAAiB,IAAI;AAC1B;AAAA,IACF;AACA,UAAM6L,IAAiBH,MAAiB;AACxC,IAAI,KAAK,6BAA6B,KAAK,4BACzC1L,EAAM,QAAQ,KAAK,4BAA4B,QAAQnQ,EAAS6b,CAAY,IAAI,KAAK,KAAK,qBAAqBA,CAAY,IAAI7b,EAAS6b,CAAY,IAAI,IAAI,KAAK,qBAAqBA,CAAY,GAAG,SAAQ,KAAM7b,EAAS6b,CAAY,IAAI,KAAK,IAAI7b,EAAS6b,CAAY,IAAI,IAAI,GAAG,SAAQ,GAC7R,KAAK,4BAA4B,IACjC,KAAK,0BAA0B;AAEjC,UAAMre,IAAQ2S,EAAM,QAAQ,OAAOA,EAAM,KAAK,IAAInQ,EAAS6b,CAAY;AACvE,IAAA7b,EAAS6b,CAAY,IAAIG,IAAiBtS,GAAelM,CAAK,IAAIA,GAClE,KAAK,wBAAwBwC,CAAQ;AAAA,EACvC;AAAA,EACA,wBAAwBiP,GAAO;AAC7B,IAAIgN,GAAgBhN,EAAM,GAAG,MAC3BA,EAAM,eAAc,GACpB,KAAK,uBAAuBA,CAAK;AAAA,EAErC;AAAA,EACA,4BAA4BA,GAAO;AACjC,SAAK,+BAA+BA,GAAO,KAAK,4BAA4B,KAAK,wBAAwB,KAAK,mBAAmB;AAAA,EACnI;AAAA,EACA,WAAWiN,GAAS;AAClB,0BAAsB,MAAM;AAC1B,MAAAA,EAAQ,MAAK;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EACA,2BAA2BjN,GAAO;AAChC,SAAK,+BAA+BA,GAAO,KAAK,2BAA2B,KAAK,uBAAuB,KAAK,YAAY;AAAA,EAC1H;AAAA,EACA,+BAA+BA,GAAO;AACpC,SAAK,+BAA+BA,GAAO,KAAK,+BAA+B,KAAK,2BAA2B,KAAK,gBAAgB;AAAA,EACtI;AAAA,EACA,+BAA+BA,GAAOkN,GAAkBC,GAAcC,GAAW;AAC/E,IAAK5B,GAAuBxL,CAAK,MAGjC,OAAO,iBAAiB,eAAe,KAAK,wBAAwB,GACpE,OAAO,iBAAiB,aAAa,KAAK,wBAAwB;AAAA,MAChE,MAAM;AAAA,IACZ,CAAK,GACD,KAAK,mBAAmB;AAAA,MACtB,SAASkN;AAAA,MACT,QAAQA,EAAiB,OAAO,sBAAqB;AAAA,IAC3D,GACIC,EAAa,KAAK,MAAMnN,EAAM,SAASA,EAAM,OAAO,GACpD,KAAK,WAAWoN,CAAS;AAAA,EAC3B;AAAA,EACA,qBAAqBpX,GAAM;AACzB,SAAK,sBAAsBA;AAAA,EAC7B;AAAA,EACA,cAAcA,GAAM;AAClB,SAAK,eAAeA;AAAA,EACtB;AAAA,EACA,cAAcgK,GAAO;AACnB,IAAIA,EAAM,QAAQ,WAChBA,EAAM,eAAc;AAAA,EAExB;AAAA,EACA,6BAA6BzR,GAAOud,GAAQ;AAC1C,YAAQ,KAAK,yBAAyBvd,CAAK,sDAAsDud,CAAM,GAAG;AAAA,EAC5G;AAAA,EACA,QAAQA,GAAQuB,IAAO,IAAM;AAC3B,UAAMrQ,IAAO8O,MAAW,SAAS,KAAK,OAAOA;AAC7C,SAAK,OAAO,KAAK,qBAAqB9O,GAAMqQ,CAAI;AAAA,EAClD;AAAA,EACA,qBAAqBrQ,GAAMqQ,GAAM;AAC/B,UAAM,EAAE,cAAA3K,EAAY,IAAK,MACnB4K,IAAoBvQ,GAAgBC,CAAI;AAC9C,QAAI0F,KAAgB,CAAC4K,GAAmB;AACtC,YAAMC,IAAYtQ,GAAYD,CAAI;AAClC,aAAIqQ,KACF,QAAQ,KAAK,sBAAsBE,CAAS,0BAA0BvQ,CAAI,0BAA0B,GAE/FuQ;AAAA,IACT;AACA,QAAI,CAAC7K,KAAgB4K,GAAmB;AACtC,YAAME,IAAetQ,GAAeF,CAAI;AACxC,aAAIqQ,KACF,QAAQ,KAAK,sBAAsBG,CAAY,0BAA0BxQ,CAAI,0BAA0B,GAElGwQ;AAAA,IACT;AACA,WAAOxQ;AAAA,EACT;AAAA,EACA,sBAAsB/K,GAAG;AACvB,UAAM6C,IAAM8E,KAAwB,KAAK,uBAAuB3H;AAChE,SAAK,iBAAiB,KAAK,oBAAoB,IAAI6C,CAAG,GAAG,EAAK;AAAA,EAChE;AAAA,EACA,0BAA0B7C,GAAG;AAC3B,UAAM5C,IAAQoL,GAAeZ,EAAe,MAAM,KAAK,uBAAuB5H,CAAC;AAC/E,SAAK,iBAAiB,KAAK,oBAAoB,MAAM5C,CAAK,GAAG,EAAK;AAAA,EACpE;AAAA,EACA,iBAAiBkF,GAAOyW,IAAY,IAAMhH,IAAU,oBAAoB;AACtE,IAAIgH,KAAapO,GAAWrI,GAAO,KAAK,KAAK,MAG7C,KAAK,6BAA6ByP,GAClC,KAAK,QAAQzP,GACb,KAAK,QAAQ,KAAK,QAAQA,CAAK,GAC/B,KAAK,6BAA6B;AAAA,EACpC;AAAA,EACA,QAAQA,GAAOuX,IAAS,KAAK,MAAM;AACjC,QAAI,CAACvX;AACH,aAAO;AAGT,QAAIuX,EAAO,SADK,KACW,GAAG;AAC5B,YAAMlR,IAAWkR,MAAWvP,EAAa;AACzC,aAAOtB,EAAaK,EAAO/G,EAAM,MAAK,GAAIqG,CAAQ,GAAGA,CAAQ;AAAA,IAC/D;AACA,QAAIkR,EAAO,SAAS,MAAM,GAAG;AAC3B,YAAMvd,IAAQgG,EAAMuX,EAAO,QAAQ,QAAQ,EAAE,EAAE,QAAQ,KAAK,EAAE,CAAC,EAAC,EAAG,MAAK,EAAG,OAAM;AAEjF,WAD2BA,EAAO,SAAS,GAAG,KAAKA,EAAO,SAAS,OAAO,MAAMvX,EAAM,MAAK,MAAO,GAC3E;AACrB,cAAM/F,IAAQD,EAAM,MAAM,GAAG,CAAC,GACxBkf,IAASlf,EAAM,MAAM,GAAG,EAAE;AAChC,eAAO,GAAGC,CAAK,KAAKif,CAAM,KAAKlZ,EAAM,MAAK,CAAE;AAAA,MAC9C;AACA,aAAOhG;AAAA,IACT;AACA,UAAMuN;AAAA;AAAA,MAEJvH,EAAM2I,GAAe4O,CAAM,CAAC,EAAC,EAAG,MAAK,EAAG,OAAM;AAAA;AAEhD,WAAIA,EAAO,SAAS,GAAG,IACdjQ,GAAeC,CAAW,IAE5BA;AAAA,EACT;AAAA,EACA,sBAAsB;AACpB,UAAM,EAAE,kBAAkB,EAAE,QAAQ,EAAE,QAAAqD,KAAU,OAAO,EAAE,QAAAuO,IAAQ,EAAE,IAAK;AACxE,WAAOA,IAAS,IAAIvO;AAAA,EACtB;AAAA,EACA,uBAAuBmF,IAAQ,KAAK;AAClC,SAAK,mBAAmBxK,EAAkBwK,CAAK;AAAA,EACjD;AAAA,EACA,cAAc;AACZ,UAAMqJ,IAAgBrS,EAAO,KAAK,OAAO,KAAK,YAAY;AAE1D,QAAI,EADc,KAAK,YAAY,QAAQqS,CAAa,IAAI;AAE1D;AAEF,UAAMC,IAAc,KAAK,YAAY,OAAO,CAACrZ,MAAUA,MAAUoZ,CAAa;AAC9E,SAAK,cAAcC;AACnB,UAAM9H,IAAa,GAAGrM,EAA0B,GAAG,KAAK,SAAS;AACjE,IAAI,KAAK,aACP,aAAa,QAAQqM,GAAY,KAAK,UAAU8H,CAAW,CAAC;AAAA,EAEhE;AAAA,EACA,YAAY;AACV,UAAMC,IAAcvS,EAAO,KAAK,OAAO,KAAK,YAAY;AAExD,QADqB,KAAK,YAAY,QAAQuS,CAAW,IAAI;AAE3D;AAEF,UAAMD,IAAc,CAAC,GAAG,KAAK,aAAaC,CAAW;AACrD,SAAK,cAAcD;AACnB,UAAM9H,IAAa,GAAGrM,EAA0B,GAAG,KAAK,SAAS;AACjE,IAAI,KAAK,aACP,aAAa,QAAQqM,GAAY,KAAK,UAAU8H,CAAW,CAAC;AAAA,EAEhE;AAAA,EACA,iBAAiB;AACf,UAAM5J,IAAU,KAAK,4BACf,EAAE,OAAAzE,GAAO,QAAAJ,EAAM,IAAK,KAAK,kBAAkB;AACjD,IAAA6E,EAAQ,YAAY,KAAK,oBAAoB,IAAG,EAAG,YAAY,GAAG,EAAE,MAAM,GAAG,EAAE,MAAM,CAAC,EAAE,OAAM,GAC9FA,EAAQ,SAAS,GAAG,GAAGzE,GAAOJ,CAAM;AACpC,UAAM2O,IAAgB9J,EAAQ,qBAAqB,GAAG,GAAGzE,GAAO,CAAC;AACjE,IAAAuO,EAAc,aAAa,GAAG,qBAAqB,GACnDA,EAAc,aAAa,GAAG,qBAAqB,GACnD9J,EAAQ,YAAY8J,GACpB9J,EAAQ,SAAS,GAAG,GAAGzE,GAAOJ,CAAM;AACpC,UAAM4O,IAAgB/J,EAAQ,qBAAqB,GAAG,GAAG,GAAG7E,CAAM;AAClE,IAAA4O,EAAc,aAAa,GAAG,eAAe,GAC7CA,EAAc,aAAa,GAAG,eAAe,GAC7C/J,EAAQ,YAAY+J,GACpB/J,EAAQ,SAAS,GAAG,GAAGzE,GAAOJ,CAAM,GACpC,KAAK,0BAAyB;AAAA,EAChC;AAAA,EACA,qBAAqB6O,GAAQ,EAAE,QAAA7O,GAAQ,OAAAI,EAAK,GAAI;AAC9C,QAAI,CAACyO;AACH;AAEF,UAAMC,IAAmB,OAAO,oBAAoB;AACpD,IAAAD,EAAO,QAAQzO,IAAQ0O,GACvBD,EAAO,SAAS7O,IAAS8O,GACzBD,EAAO,MAAM,SAAS,GAAG7O,CAAM,MAC/B6O,EAAO,MAAM,QAAQ,GAAGzO,CAAK,MACbyO,EAAO,WAAW,IAAI,EAC9B,MAAMC,GAAkBA,CAAgB;AAAA,EAClD;AAAA,EACA,eAAeD,GAAQ;AACrB,IAAKA,MAGL,KAAK,6BAA6BA,EAAO,WAAW,IAAI,GACxD,KAAK,iBAAiB,aAAa,GACnC,KAAK,kBAAiB;AAAA,EACxB;AAAA,EACA,cAAcA,GAAQ;AACpB,IAAKA,MAGL,KAAK,4BAA4BA,EAAO,WAAW,IAAI,GACvD,KAAK,iBAAiB,YAAY,GAClC,KAAK,cAAa;AAAA,EACpB;AAAA,EACA,kBAAkBA,GAAQ;AACxB,IAAKA,MAGL,KAAK,gCAAgCA,EAAO,WAAW,IAAI,GAC3D,KAAK,iBAAiB,gBAAgB,GACtC,KAAK,kBAAiB;AAAA,EACxB;AAAA,EACA,iBAAiBhK,IAAU,OAAO;AAChC,UAAM,EAAE,mBAAAkK,GAAmB,kBAAAC,EAAgB,IAAK;AAChD,KAAInK,MAAY,SAASA,MAAY,kBACnC,KAAK,qBAAqB,KAAK,4BAA4B,QAAQkK,EAAkB,UAAU;AAEjG,UAAME,IAA2B;AAAA,MAC/B,OAAO,KAAK;AAAA,MACZ,QAAQD,EAAiB,OAAO,UAAUA,EAAiB,MAAM,SAASD,EAAkB,OAAO,SAAS,KAAK;AAAA,IACvH;AACI,KAAIlK,MAAY,SAASA,MAAY,iBACnC,KAAK,qBAAqB,KAAK,2BAA2B,QAAQoK,CAAwB,IAExFpK,MAAY,SAASA,MAAY,qBACnC,KAAK,qBAAqB,KAAK,+BAA+B,QAAQoK,CAAwB;AAAA,EAElG;AAAA,EACA,4BAA4B;AAC1B,UAAM,EAAE,OAAA7Z,EAAK,IAAK;AAClB,QAAI,CAACA;AACH;AAEF,UAAM8Z,IAAW9Z,EAAM,IAAG,GACpB,EAAE,kBAAkB,EAAE,OAAO,EAAE,QAAAmZ,EAAM,EAAE,EAAE,IAAK,MAC9C,EAAE,OAAAnO,GAAO,QAAAJ,EAAM,IAAK,KAAK,kBAAkB,YAC3ClN,IAAIoc,EAAS,YAAW,KAAM1U,EAAW,IAAI4F,IAC7CxN,IAAIoN,IAASkP,EAAS,MAAK,KAAM1U,EAAW,IAAIwF;AACtD,0BAAsB,MAAM;AAC1B,WAAK,sBAAsBlN,GAC3B,KAAK,qBAAqBF;AAAA,IAC5B,CAAC,GACD,KAAK,UAAU,KAAK,4BAA4B2b,GAAQzb,GAAGF,GAAGsc,GAAU,EAAK;AAAA,EAC/E;AAAA,EACA,UAAUrK,GAAS0J,GAAQzb,GAAGF,GAAGwC,GAAO+Z,GAAY;AAElD,UAAMC,IAAW,IAAI,KAAK,IACpBC,IAAe;AAQrB,QAPAxK,EAAQ,UAAS,GACjBA,EAAQ,IAAI/R,GAAGF,GAAG2b,GAAQ,GAAYa,CAAQ,GAC9CvK,EAAQ,YAAY,QACpBA,EAAQ,KAAI,GACZA,EAAQ,cAAc,mBACtBA,EAAQ,YAAYwK,GACpBxK,EAAQ,OAAM,GACVsK,KAAc/Z,EAAM,MAAK,IAAK,GAAG;AACnC,YAAMyG,IAAUgJ,EAAQ,cAAc,KAAK,8BAA6B,GAAI,QAAQ;AACpF,MAAAA,EAAQ,UAAS,GACjBA,EAAQ,IAAI/R,GAAGF,GAAG2b,IAAS,GAAG,GAAYa,CAAQ,GAClDvK,EAAQ,YAAYhJ,GACpBgJ,EAAQ,KAAI;AAAA,IACd;AACA,IAAAA,EAAQ,2BAA2B,eACnCA,EAAQ,UAAS,GACjBA,EAAQ,IAAI/R,GAAGF,GAAG2b,IAAS,GAAG,GAAYa,CAAQ;AAClD,UAAMlf,IAAQif,IAAa/Z,EAAM,MAAK,IAAK;AAC3C,IAAAyP,EAAQ,YAAYzP,EAAM,IAAG,EAAG,MAAMlF,CAAK,EAAE,OAAM,GACnD2U,EAAQ,KAAI,GACZA,EAAQ,2BAA2B;AAAA,EACrC;AAAA,EACA,2BAA2B;AACzB,UAAM,EAAE,OAAAzP,EAAK,IAAK;AAClB,QAAI,CAACA;AACH;AAEF,UAAM8Z,IAAW9Z,EAAM,IAAG,EAAG,YAAY,GAAG,EAAE,MAAM,GAAG,GACjD,EAAE,kBAAkB,EAAE,OAAO,EAAE,QAAAmZ,EAAM,EAAE,EAAE,IAAK,MAC9CnO,IAAQ,KAAK,sBACbtN,IAAIoc,EAAS,IAAG,KAAMzU,KAAwB2F,IAC9CxN,IAAI2b,GACJe,IAAe,KAAK,gBAAgBxc,GAAGsN,GAAOmO,CAAM;AAC1D,0BAAsB,MAAM;AAC1B,WAAK,eAAee;AAAA,IACtB,CAAC,GACD,KAAK,UAAU,KAAK,2BAA2Bf,GAAQe,GAAc1c,GAAGsc,GAAU,EAAK;AAAA,EACzF;AAAA,EACA,gBAAgB;AACd,UAAMrK,IAAU,KAAK,2BACf,EAAE,kBAAkB,EAAE,QAAQ,EAAE,QAAA7E,EAAM,GAAI,OAAO,EAAE,QAAQuP,EAAW,EAAE,EAAE,IAAK,MAC/Ezc,IAAI,GACJF,IAAI2c,IAAcvP,IAAS,GAC3BI,IAAQ,KAAK,sBACboP,IAAW3K,EAAQ,qBAAqB,GAAG,GAAGzE,GAAO,CAAC,GACtDqP,IAA6B;AAAA,MACjC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN,GACUC,IAAS,KAAKD,EAA2B,SAAS;AACxD,QAAIE,IAAgB;AACpB,IAAAF,EAA2B,QAAQ,CAAC/f,MAAY;AAC9C,MAAA8f,EAAS,aAAaG,GAAezX,EAAMxI,CAAO,EAAE,QAAQ,GAC5DigB,KAAiBD;AAAA,IACnB,CAAC,GACD7K,EAAQ,UAAU,GAAG,GAAGzE,GAAOJ,IAAS,KAAK,oBAAmB,IAAK,CAAC,GACtE,KAAK,eAAe6E,GAAS7E,GAAQI,GAAOtN,GAAGF,CAAC,GAChDiS,EAAQ,YAAY2K,GACpB3K,EAAQ,KAAI,GACZA,EAAQ,cAAc,mBACtBA,EAAQ,YAAY,GACpBA,EAAQ,OAAM,GACd,KAAK,yBAAwB;AAAA,EAC/B;AAAA,EACA,oBAAoB;AAClB,UAAMA,IAAU,KAAK,+BACf,EAAE,qBAAqB+K,GAAe,kBAAkB,EAAE,QAAQ,EAAE,QAAA5P,EAAM,GAAI,OAAO,EAAE,QAAQuP,EAAW,EAAE,EAAE,IAAK,MACnHzc,IAAI,GACJF,IAAI2c,IAAcvP,IAAS,GAC3BI,IAAQ,KAAK;AACnB,IAAAyE,EAAQ,UAAU,GAAG,GAAGzE,GAAOJ,IAAS,KAAK,oBAAmB,IAAK,CAAC;AACtE,UAAMwP,IAAW3K,EAAQ,qBAAqB,GAAGjS,GAAGwN,GAAO,CAAC,GACtDyP,IAAaD,EAAc,IAAG,EAAG,MAAM,CAAC,GACxCE,IAAWF,EAAc,IAAG,EAAG,MAAM,GAAG,GACxCG,IAAWH,EAAc,IAAG,EAAG,MAAM,CAAC;AAC5C,IAAAJ,EAAS,aAAa,GAAGK,EAAW,OAAM,CAAE,GAC5CL,EAAS,aAAa,KAAKM,EAAS,OAAM,CAAE,GAC5CN,EAAS,aAAa,GAAGO,EAAS,OAAM,CAAE,GAC1C,KAAK,eAAelL,GAAS7E,GAAQI,GAAOtN,GAAGF,CAAC;AAChD,UAAMiJ,IAAUgJ,EAAQ,cAAc,KAAK,8BAA6B,GAAI,QAAQ;AACpF,IAAAA,EAAQ,YAAYhJ,GACpBgJ,EAAQ,KAAI,GACZA,EAAQ,YAAY2K,GACpB3K,EAAQ,KAAI,GACZA,EAAQ,cAAc,mBACtBA,EAAQ,YAAY,GACpBA,EAAQ,OAAM,GACd,KAAK,6BAA4B;AAAA,EACnC;AAAA,EACA,eAAeA,GAAS7E,GAAQI,GAAOtN,GAAGF,GAAG;AAC3C,UAAM2b,IAASvO,IAAS,IAAI;AAC5B,IAAA6E,EAAQ,UAAS,GACjBA,EAAQ,OAAO/R,IAAIyb,GAAQ3b,CAAC,GAC5BiS,EAAQ,OAAO/R,IAAIsN,IAAQmO,GAAQ3b,CAAC,GACpCiS,EAAQ,iBAAiB/R,IAAIsN,GAAOxN,GAAGE,IAAIsN,GAAOxN,IAAI2b,CAAM,GAC5D1J,EAAQ,OAAO/R,IAAIsN,GAAOxN,IAAIoN,IAASuO,CAAM,GAC7C1J,EAAQ,iBAAiB/R,IAAIsN,GAAOxN,IAAIoN,GAAQlN,IAAIsN,IAAQmO,GAAQ3b,IAAIoN,CAAM,GAC9E6E,EAAQ,OAAO/R,IAAIyb,GAAQ3b,IAAIoN,CAAM,GACrC6E,EAAQ,iBAAiB/R,GAAGF,IAAIoN,GAAQlN,GAAGF,IAAIoN,IAASuO,CAAM,GAC9D1J,EAAQ,OAAO/R,GAAGF,IAAI2b,CAAM,GAC5B1J,EAAQ,iBAAiB/R,GAAGF,GAAGE,IAAIyb,GAAQ3b,CAAC,GAC5CiS,EAAQ,UAAS;AAAA,EACnB;AAAA,EACA,gCAAgC;AAC9B,QAAI,KAAK;AACP,aAAO,KAAK;AAEd,UAAMhJ,IAAU,SAAS,cAAc,QAAQ;AAC/C,IAAAA,EAAQ,QAAQ,IAChBA,EAAQ,SAAS;AACjB,UAAMmU,IAAiBnU,EAAQ,WAAW,IAAI;AAC9C,WAAAmU,EAAe,YAAY,QAC3BA,EAAe,SAAS,GAAG,GAAG,IAAI,EAAE,GACpCA,EAAe,YAAY,QAC3BA,EAAe,SAAS,GAAG,GAAG,GAAG,CAAC,GAClCA,EAAe,SAAS,GAAG,GAAG,GAAG,CAAC,GAClC,KAAK,iBAAiBnU,GACfA;AAAA,EACT;AAAA,EACA,+BAA+B;AAC7B,UAAM,EAAE,OAAAzG,EAAK,IAAK;AAClB,QAAI,CAACA;AACH;AAEF,UAAM8Z,IAAW9Z,GACX,EAAE,kBAAkB,EAAE,OAAO,EAAE,QAAAmZ,EAAM,EAAE,EAAE,IAAK,MAC9CnO,IAAQ,KAAK,sBACbtN,IAAIuI,EAAe6T,EAAS,MAAK,CAAE,KAAKxU,EAAe,MAAM0F,IAC7DxN,IAAI2b,GACJe,IAAe,KAAK,gBAAgBxc,GAAGsN,GAAOmO,CAAM;AAC1D,0BAAsB,MAAM;AAC1B,WAAK,mBAAmBe;AAAA,IAC1B,CAAC,GACD,KAAK,UAAU,KAAK,+BAA+Bf,GAAQe,GAAc1c,GAAGsc,GAAU,EAAI;AAAA,EAC5F;AAAA,EACA,gBAAgBpc,GAAGsN,GAAOmO,GAAQ;AAChC,UAAM0B,IAAc1E,GAAiBzY,GAAGsN,GAAOmO,CAAM;AACrD,WAAO0B,MAAgB,IAAInd,IAAImd,MAAgB,KAAK/E,GAAMpY,GAAG,GAAGsN,GAAOmO,GAAQA,IAAS,CAAC,IAAIrD,GAAMpY,GAAG,GAAGsN,GAAOA,IAAQmO,IAAS,GAAGnO,IAAQmO,CAAM;AAAA,EACpJ;AAAA,EACA,kBAAkB1X,GAAM;AACtB,SAAK,mBAAmBA;AAAA,EAC1B;AAAA,EACA,0BAA0BgK,GAAO;AAC/B,UAAM3G,IAAW2G,EAAM,WAAW,KAAK,GACjC,EAAE,KAAAxP,EAAG,IAAKwP,GACVyM,IAAoB;AAAA,MACxB,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,WAAW;AAAA,IACjB;AACI,QAAIA,EAAkBjc,CAAG,GAAG;AAC1B,MAAAwP,EAAM,eAAc;AACpB,YAAM/O,IAAQwb,EAAkBjc,CAAG,IAAI6I,GACjChK,IAAQ,KAAK,oBAAoB,MAAK,GACtCkF,IAAQ,KAAK,oBAAoB,MAAMlF,IAAQ4B,CAAK;AAC1D,WAAK,iBAAiBsD,GAAO,EAAK;AAAA,IACpC;AAAA,EACF;AAAA,EACA,wBAAwBxD,GAAU;AAChC,SAAK,iBAAiBsG,EAAMtG,GAAU,KAAK,WAAW,CAAC;AAAA,EACzD;AAAA,EACA,wBAAwBwD,GAAO;AAC7B,SAAK,WAAWA,IAAQ,KAAK,WAAWA,CAAK,IAAI,CAAC,MAAM,MAAM,MAAM,IAAI;AAAA,EAC1E;AAAA,EACA,WAAWA,GAAO;AAChB,UAAM,EAAE,aAAA8a,EAAW,IAAK,MAClBte,IAAWwD,EAAM8a,CAAW,EAAC,EAAG,MAAK,EAAG,IAAI,CAAC9gB,GAAO+Z,MACxCA,MAAU,IACT/Z,IAAQ,KAAK,MAAMA,CAAK,CAC1C;AACD,WAAIwC,EAAS,WAAW,KACtBA,EAAS,KAAK,CAAC,GAEVA;AAAA,EACT;AAAA,EACA,yBAAyB8V,GAAMyI,GAAK;AAClC,WAAO,CAACzI,IAAO3M,KAAa,GAAGoV,IAAMpV,KAAa,CAAC;AAAA,EACrD;AAAA,EACA,SAAS;AACP,UAAM,EAAE,kBAAAqV,GAAkB,OAAAhb,GAAO,qBAAAib,GAAqB,oBAAAC,GAAoB,kBAAkB,EAAE,OAAO,EAAE,QAAQf,EAAW,EAAE,GAAI,aAAAgB,GAAa,cAAAC,GAAc,UAAAtL,GAAU,cAAA3B,GAAc,kBAAAkN,GAAkB,aAAAhC,GAAa,eAAAiC,GAAe,OAAAvL,GAAO,kBAAAwL,EAAgB,IAAK,MACvPC,KAAc,KAAK,sBACnBC,KAAqBzb,IAAQ+G,EAAO/G,GAAOmO,CAAY,IAAI,MAC3DuN,KAASvB,GACTwB,KAAUP,KAAgBI,KAAcvW,EAAc,IAAG,IAAKG,EAAW,GACzEwW,KAAazB,GACb0B,KAAcR,KAAoBG,KAAcvV,EAAehB,EAAc,MAAK,CAAE,IAAIK,EAAe,KACvGwW,KAAU9b,MAAU,QACpB+b,KAAWR,MAAqB,YAChC,CAACS,IAA6BC,EAA0B,IAAI,KAAK,yBAAyBhB,GAAqBC,CAAkB,GACjI,CAACgB,IAAsBC,EAAmB,IAAI,KAAK,yBAAyBR,IAASD,EAAM,GAC3F,CAACU,IAA0BC,EAAuB,IAAI,KAAK,yBAAyBR,IAAaD,EAAU;AACjH,WAAOhO,GAAqB,EAAE,UAAU,KAAK,UAAU,UAAU7D,eAAkBC,EAAahF,EAAI,SAAS,CAAC,eAAegF,EAAahF,EAAI,eAAe,CAAC,kBAAkBgF,EAAahF,EAAI,UAAU,CAAC,iBAAiB,KAAK,2BAA2B,IAAI2I,EAAI,KAAK,cAAc,CAAC,6BAA6BoO,KAAWjM,EAAS,QAAQA,EAAS,UAAU,kBAAkBiM,KAAW3W,EAAW,IAAIA,EAAW,CAAC,mCAAmC2W,KAAW/b,GAAO,YAAW,IAAKA,GAAO,YAAY,GAAG,UAAUgK,EAAa,EAAE,CAAChF,EAAI,KAAK,GAAG,IAAM,CAACA,EAAI,eAAe,GAAG,GAAI,CAAE,CAAC,aAAa,KAAK,4BAA4B,sBAAsBsX,GAAa;AAAA,MACjpB,KAAK,GAAGL,MAA8B,CAAC;AAAA,MACvC,MAAM,GAAGD,MAA+B,CAAC;AAAA,IAC/C,CAAK,CAAC,eAAerO,EAAI,KAAK,oBAAoB,CAAC,2BAA2B3D,EAAahF,EAAI,iBAAiB,CAAC,uCAAuCgF,EAAahF,EAAI,OAAO,CAAC,WAAWyW,EAAkB,WAAW,KAAK,eAAe,MAAM,KAAK,KAAK,6CAA6CzR,EAAahF,EAAI,OAAO,CAAC,eAAegF,EAAahF,EAAI,eAAe,CAAC,kBAAkBgF,EAAa,EAAE,CAAChF,EAAI,MAAM,GAAG,IAAM,CAACA,EAAI,SAAS,GAAG,IAAM,CAAC,iBAAiB,KAAK,0BAA0B,IAAI2I,EAAI,KAAK,aAAa,CAAC,6BAA6BmC,EAAS,GAAG,kBAAkB1K,EAAW,CAAC,kCAAkCpF,GAAO,MAAK,EAAG,IAAG,KAAMiF,EAAc,MAAK,EAAG,KAAK,UAAU+E,EAAa,EAAE,CAAChF,EAAI,KAAK,GAAG,IAAM,CAACA,EAAI,QAAQ,GAAG,IAAM,CAAC,aAAa,KAAK,qBAAqB,sBAAsBsX,GAAa;AAAA,MAC9yB,KAAK,GAAGH,EAAmB;AAAA,MAC3B,MAAM,GAAGD,EAAoB;AAAA,IACnC,CAAK,CAAC,eAAevO,EAAI,KAAK,aAAa,CAAC,gBAAgBQ,IAAepE,eAAkBC,EAAahF,EAAI,eAAe,CAAC,kBAAkBgF,EAAa,EAAE,CAAChF,EAAI,MAAM,GAAG,IAAM,CAACA,EAAI,aAAa,GAAG,GAAI,CAAE,CAAC,iBAAiB,KAAK,8BAA8B,IAAI2I,EAAI,KAAK,iBAAiB,CAAC,6BAA6BmC,EAAS,OAAO,kBAAkBxK,EAAe,GAAG,kBAAkBA,EAAe,GAAG,mBAAmBtF,KAASiF,GAAe,MAAK,EAAG,MAAK,CAAE,UAAU+E,EAAa,EAAE,CAAChF,EAAI,KAAK,GAAG,IAAM,CAACA,EAAI,YAAY,GAAG,GAAI,CAAE,CAAC,aAAa,KAAK,yBAAyB,sBAAsBsX,GAAa;AAAA,MAChmB,KAAK,GAAGD,EAAuB;AAAA,MAC/B,MAAM,GAAGD,EAAwB;AAAA,IACvC,CAAK,CAAC,eAAezO,EAAI,KAAK,iBAAiB,CAAC,kBAAkB,IAAI,eAAewN,KAAeH,IAAmB,OAAOjR,eAAkBC,EAAa;AAAA,MACvJ,CAAChF,EAAI,cAAc,GAAG;AAAA,MACtB,CAACA,EAAI,OAAO,GAAG;AAAA,IACrB,CAAK,CAAC,eAAegF,EAAahF,EAAI,mBAAmB,CAAC,IAAImW,IAAc,OAAOpR,eAAkBC,EAAahF,EAAI,UAAU,CAAC,gDAAgD,KAAK,WAAW,kBAAkBmJ,CAAY,UAAUnE,EAAahF,EAAI,OAAO,CAAC,cAAc8K,CAAQ,qBAAqB,KAAK,eAAe,sCAAsC,KAAK,oBAAoB,WAAWC,CAAK,WAAW0L,EAAkB,0CAA0C,GAAGT,IAAmB,OAAOjR,wBAA2BC,EAAa;AAAA,MACthB,CAAChF,EAAI,kBAAkB,GAAG;AAAA,MAC1B,CAACA,EAAI,YAAY,GAAG;AAAA,IAC1B,CAAK,CAAC,WAAW+K,MAAU,MAAM,MAAM,GAAG,sCAAsC,KAAK,uBAAuB,KAAK,CAAC,GAAG,KAAK,uBAAuB,KAAK,CAAC,qBAAqB,KAAK,kBAAkB,KAAK,CAAC,GAAG,KAAK,kBAAkB,KAAK,CAAC,iBAAiB,cAAc,GAAGuL,IAAgB,OAAOvR,eAAkBC,EAAa,EAAE,CAAChF,EAAI,kBAAkB,GAAG,IAAM,CAACA,EAAI,OAAO,GAAG,GAAI,CAAE,CAAC,eAAegF,EAAahF,EAAI,MAAM,CAAC,WAAW8K,EAAS,KAAK,sBAAsB9F,EAAahF,EAAI,kBAAkB,CAAC,iDAAiDgF,EAAahF,EAAI,WAAW,CAAC,cAAc8W,EAAO,yCAAyChM,EAAS,WAAW,WAAW,KAAK,WAAW,WAAWC,CAAK,8EAA8E/F,EAAahF,EAAI,SAAS,CAAC,cAAc8W,EAAO,wCAAwChM,EAAS,SAAS,WAAW,KAAK,SAAS,WAAWC,CAAK,6CAA6CsJ,EAAY,SAAS,IAAItP,eAAkBC,EAAahF,EAAI,WAAW,CAAC,IAAIuX,GAAOlD,GAAa,CAACrV,OAAWA,IAAQ,CAACA,OAAW+F,uCAA0CC,EAAahF,EAAI,UAAU,CAAC,WAAWhB,EAAM,WAAW,KAAK,sBAAsB,aAAa,KAAK,uBAAuB,WAAW+L,CAAK,4CAA4C,CAAC,WAAW,IAAI,QAAQ,SAAQ,CAAE;AAAA,EAC90C;AAAA,EACA,uBAAuB+K,GAAa;AAClC,UAAM,EAAE,aAAa0B,GAAmB,UAAA1M,EAAQ,IAAK,MAC/C2M,IAAW3B,MAAgB0B,GAC3B5H,IAAQkG,MAAgB,QAAQhL,EAAS,MAAMA,EAAS;AAC9D,WAAO7E,EAAM6P,GAAa/Q,6BAAgCC,EAAahF,EAAI,SAAS,CAAC,oBAAoB8V,KAAe5P,CAAO,yBAAyB,KAAK,iBAAiB,cAAcuR,CAAQ,IAAI7H,CAAK,sBAAsB;AAAA,EACrO;AAAA,EACA,kBAAkBkG,GAAa;AAC7B,UAAM,EAAE,aAAAxD,GAAa,aAAakF,GAAmB,UAAAhgB,GAAU,UAAAsT,GAAU,cAAA3B,EAAY,IAAK,MACpFsO,IAAW3B,MAAgB0B,GAE3BE,IADQ5B,MAAgB,QACI,CAAChL,EAAS,KAAKA,EAAS,OAAOA,EAAS,IAAI,IAAI,CAACA,EAAS,KAAKA,EAAS,YAAYA,EAAS,KAAK,GAC9HhB,IAAY7B,EAAc,KAAK,EAAE,GACjC0P,IAAmBxO,IAAe3R,IAAWA,EAAS,MAAM,GAAG,CAAC;AACtE,WAAOyO,EAAM6P,GAAa/Q,uBAA0BC,EAAahF,EAAI,OAAO,CAAC,cAAcyX,CAAQ,eAAezS,EAAahF,EAAI,QAAQ,CAAC,YAAY2X,EAAiB,IAAI,CAACC,GAAc7I,MAAU;AACpM,YAAMyE,IAAiBzE,MAAU;AACjC,aAAIyE,MACFoE,IAAetF,KAAe,CAACsF,IAAeA,IAAe3W,EAAe2W,CAAY,IAEnF,KAAK,cAAcA,GAAc7I,GAAO2I,EAAkB3I,CAAK,GAAGjF,GAAW0J,IAAiB,MAAM,EAAE;AAAA,IAC/G,CAAC,CAAC,sBAAsB;AAAA,EAC1B;AAAA,EACA,cAAcxe,GAAO+Z,GAAO8I,GAAW/N,GAAWgO,GAAQ;AACxD,WAAO7R,EAAM8I,GAAOhK,gCAAmCC,EAAahF,EAAI,OAAO,CAAC,uBAAuB+O,KAAS7I,CAAO,QAAQ4D,KAAa5D,CAAO,WAAW2R,CAAS,SAAS,KAAK,SAAS,SAAS3R,CAAO,6CAA6C,KAAK,eAAe,aAAa,KAAK,aAAa,8BAA8B,KAAK,mBAAmB,6BAA6B,KAAK,kBAAkB,oCAAoC,KAAK,iBAAiB,qCAAqC,KAAK,kBAAkB,WAAW,KAAK,UAAU,MAAM,MAAM,GAAG,UAAUoR,GAAa;AAAA,MAC5kB,YAAYvI,IAAQ,KAAK,EAAE,KAAK,UAAU,OAAO,KAAK,gBAAgBA,MAAU,KAAK,SAAS;AAAA,IACpG,CAAK,CAAC,gBAAgB+I,CAAM,WAAW9iB,GAAO,SAAQ,CAAE,0BAA0B;AAAA,EAChF;AACF;AACAmR,EAAc,wBAAwBoL,EAAW;","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]}