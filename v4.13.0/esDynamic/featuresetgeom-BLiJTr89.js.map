{"version":3,"file":"featuresetgeom-BLiJTr89.js","sources":["../../node_modules/@arcgis/core/arcade/functions/featuresetgeom.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ArcadeExecutionError as e,ExecutionErrorCodes as t}from\"../executionError.js\";import{shapeExtent as n}from\"../kernel.js\";import{C as r,B as s,h as i,w as a,m as o}from\"../../chunks/languageUtils.js\";import u from\"../featureset/actions/SpatialFilter.js\";import l from\"../featureset/sources/Empty.js\";import{invokeRemoteGeometryOp as c}from\"../geometry/operatorsWorkerConnection.js\";function f(a){return async(f,p,S)=>{if(s(S,2,2,f,p),null===(S=r(S))[0]&&null===S[1])return!1;if(o(S[0])){if(i(S[1]))return new u({parentfeatureset:S[0],relation:a,relationGeom:S[1]});if(null===S[1])return new l({parentfeatureset:S[0]});throw new e(f,t.InvalidParameter,p)}if(i(S[0])){if(i(S[1])){switch(a){case\"esriSpatialRelEnvelopeIntersects\":{const e=n(S[0]),t=n(S[1]);return null!=e&&null!=t&&c(\"intersects\",[e.toJSON(),t.toJSON()])}case\"esriSpatialRelIntersects\":return c(\"intersects\",[S[0].toJSON(),S[1].toJSON()]);case\"esriSpatialRelContains\":return c(\"contains\",[S[0].toJSON(),S[1].toJSON()]);case\"esriSpatialRelOverlaps\":return c(\"overlaps\",[S[0].toJSON(),S[1].toJSON()]);case\"esriSpatialRelWithin\":return c(\"within\",[S[0].toJSON(),S[1].toJSON()]);case\"esriSpatialRelTouches\":return c(\"touches\",[S[0].toJSON(),S[1].toJSON()]);case\"esriSpatialRelCrosses\":return c(\"crosses\",[S[0].toJSON(),S[1].toJSON()])}throw new e(f,t.InvalidParameter,p)}if(o(S[1]))return new u({parentfeatureset:S[1],relation:a,relationGeom:S[0]});if(null===S[1])return!1;throw new e(f,t.InvalidParameter,p)}if(null===S[0]){if(o(S[1]))return new l({parentfeatureset:S[1]});if(i(S[1])||null===S[1])return!1}throw new e(f,t.InvalidParameter,p)}}function p(n){\"async\"===n.mode&&(n.functions.intersects=function(e,t){return n.standardFunctionAsync(e,t,f(\"esriSpatialRelIntersects\"))},n.functions.envelopeintersects=function(e,t){return n.standardFunctionAsync(e,t,f(\"esriSpatialRelEnvelopeIntersects\"))},n.signatures.push({name:\"envelopeintersects\",min:2,max:2}),n.functions.contains=function(e,t){return n.standardFunctionAsync(e,t,f(\"esriSpatialRelContains\"))},n.functions.overlaps=function(e,t){return n.standardFunctionAsync(e,t,f(\"esriSpatialRelOverlaps\"))},n.functions.within=function(e,t){return n.standardFunctionAsync(e,t,f(\"esriSpatialRelWithin\"))},n.functions.touches=function(e,t){return n.standardFunctionAsync(e,t,f(\"esriSpatialRelTouches\"))},n.functions.crosses=function(e,t){return n.standardFunctionAsync(e,t,f(\"esriSpatialRelCrosses\"))},n.functions.relate=function(u,f){return n.standardFunctionAsync(u,f,(async(n,p,S)=>{if(S=r(S),s(S,3,3,u,f),i(S[0])&&i(S[1]))return c(\"relate\",[S[0].toJSON(),S[1].toJSON(),a(S[2])]);if(i(S[0])&&null===S[1])return!1;if(i(S[1])&&null===S[0])return!1;if(o(S[0])&&null===S[1])return new l({parentfeatureset:S[0]});if(o(S[1])&&null===S[0])return new l({parentfeatureset:S[1]});if(o(S[0])&&i(S[1]))return S[0].relate(S[1],a(S[2]));if(o(S[1])&&i(S[0]))return S[1].relate(S[0],a(S[2]));if(null===S[0]&&null===S[1])return!1;throw new e(u,t.InvalidParameter,f)}))})}export{p as registerFunctions};\n"],"names":["f","a","p","S","s","r","o","i","u","l","e","t","n","c"],"mappings":"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","x_google_ignoreList":[0]}