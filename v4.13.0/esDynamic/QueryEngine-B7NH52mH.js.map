{"version":3,"file":"QueryEngine-B7NH52mH.js","sources":["../../node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js","../../node_modules/@arcgis/core/layers/graphics/data/QueryEngineCache.js","../../node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js","../../node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js","../../node_modules/@arcgis/core/layers/graphics/data/queryValidationUtils.js","../../node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{WhereClauseCache as i}from\"../../../core/sql/WhereClauseCache.js\";import{kebabDict as r}from\"../../support/fieldType.js\";const s=new i(50,500),t=\"unsupported-query\",n=\" as \",o=new Set([\"esriFieldTypeOID\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeBigInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\"]),a=new Set([\"esriFieldTypeDate\",\"esriFieldTypeDateOnly\",\"esriFieldTypeTimeOnly\",\"esriFieldTypeTimestampOffset\"]),l=new Set([\"esriFieldTypeString\",\"esriFieldTypeGUID\",\"esriFieldTypeGlobalID\",...o,...a]);function d(i,r,n={}){const o=c(r,i);if(!o){const n=s.getError(r,i);throw new e(t,\"invalid SQL expression\",{expression:r,error:n})}const a=n.expressionName||\"expression\";if(n.validateStandardized&&!o.isStandardized)throw new e(t,`${a} is not standard`,{expression:r});if(n.validateAggregate&&!o.isAggregate)throw new e(t,`${a} does not contain a valid aggregate function`,{expression:r});return o.fieldNames}function p(e,i,r,s){if(!r)return!0;const t=\"where clause\";return g(e,i,d(e,r,{validateStandardized:!0,expressionName:t}),{expressionName:t,query:s}),!0}function f(i,r,s,n,o){if(!s)return!0;const a=\"having clause\",l=d(i,s,{validateAggregate:!0,expressionName:a});g(i,r,l,{expressionName:a,query:o});const p=c(s,i),f=p?.getExpressions().every((e=>{const{aggregateType:r,field:s}=e,t=i.get(s)?.name;return n.some((e=>{const{onStatisticField:s,statisticType:n}=e,o=i.get(s)?.name;return o===t&&n.toLowerCase().trim()===r}))}));if(!f)throw new e(t,\"expressions in having clause should also exist in outStatistics\",{having:s});return!0}function c(e,i){return e?s.get(e,i):null}function u(e){return/\\((.*?)\\)/.test(e)?e:e.split(n)[0]}function y(e){return e.split(n)[1]}function g(i,r,s,n={}){const o=new Map;if(m(o,i,r,n.allowedFieldTypes??l,s),o.size){const i=n.expressionName??\"expression\";throw new e(t,`${i} contains invalid or missing fields`,{errors:Array.from(o.values()),query:n.query})}}function m(e,i,r,s,t){const n=t.includes(\"*\")?[...r,...t.filter((e=>\"*\"!==e))]:t;for(const a of n){if(i.get(a))T(e,i,r,s,a);else try{const t=d(i,u(a),{validateStandardized:!0});for(const n of t)T(e,i,r,s,n)}catch(o){e.set(a,{type:\"expression-error\",expression:a,error:o})}}}function T(e,i,s,t,n){const o=i.get(n);o?s.has(o.name)?\"all\"!==t&&!1===t?.has(o.type)&&e.set(n,{type:\"invalid-type\",fieldName:o.name,fieldType:r.fromJSON(o.type),allowedFieldTypes:Array.from(t,(e=>r.fromJSON(e)))}):e.set(n,{type:\"missing-field\",fieldName:o.name}):e.set(n,{type:\"invalid-field\",fieldName:n})}export{a as allDateAndTimeFieldTypes,y as getAliasFromFieldName,u as getExpressionFromFieldName,c as getWhereClause,o as numericFieldTypes,g as validateFields,f as validateHaving,p as validateWhere};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";const t=5;class e{constructor(){this._storage=new Map,this._purgeInterval=t,this._sweep=()=>{if(this._timer=void 0,!this._storage)return;const t=1e3*this._purgeInterval,e=performance.now()-t;for(const[s,r]of this._storage){if(!(r.time<e))return void(this._storage.size>0&&(this._timer=setTimeout(this._sweep,t)));this._storage.delete(s)}}}destroy(){this._storage?.clear(),this._storage=null,clearTimeout(this._timer)}put(t,e){this._storage?.set(t,new r(e)),this._scheduleSweep()}get(t){const e=this._storage?.get(t);if(e)return this._storage?.delete(t),e.time=performance.now(),this._storage?.set(t,e),e.items}clear(){this._storage?.clear()}_scheduleSweep(){this._storage&&(this._timer??=setTimeout(this._sweep,1e3*this._purgeInterval))}get test(){}}let s=0;class r{constructor(t){this.items=t,this.time=performance.now(),this.id=s++}}export{e as QueryEngineCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getExpressionFromFieldName as t,getWhereClause as e,getAliasFromFieldName as i}from\"./attributeSupport.js\";import{getGeometry as s}from\"./geometryUtils.js\";import{isDateOnlyField as a,isTimestampOffsetField as l,isTimeOnlyField as r}from\"../../support/fieldUtils.js\";import{timeOnlyToMilliseconds as n}from\"../../../smartMapping/statistics/support/utils.js\";import{processNullValue as u,getNormalizedValue as o}from\"../../../statistics/utils.js\";import{loadArcade as d}from\"../../../support/loadArcade.js\";class c{constructor(s,a,l){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=s.returnDistinctValues??!1,this.fieldsIndex=l,this.featureAdapter=a;const r=s.outFields;if(r&&!r.includes(\"*\")){this.outFields=r;let s=0;for(const a of r){const r=t(a),n=this.fieldsIndex.get(r),u=n?null:e(r,l),o=n?n.name:i(a)||\"FIELD_EXP_\"+s++;this._fieldDataCache.set(a,{alias:o,clause:u})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,i,s){const a=s?s.name:i;let l=null;return this._fieldDataCache.has(a)?l=this._fieldDataCache.get(a)?.clause:s||(l=e(i,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:l})),s?this.featureAdapter.getAttribute(t,a):l?.calculateValue(t,this.featureAdapter)}getDataValues(t,e,i=!0){const s=e.normalizationType,d=e.normalizationTotal,c=this.fieldsIndex.get(e.field),h=a(c)||l(c),f=r(c);return t.map((t=>{let a=e.field&&this.getFieldValue(t,e.field,this.fieldsIndex.get(e.field));if(e.field2?(a=`${u(a)}${e.fieldDelimiter}${u(this.getFieldValue(t,e.field2,this.fieldsIndex.get(e.field2)))}`,e.field3&&(a=`${a}${e.fieldDelimiter}${u(this.getFieldValue(t,e.field3,this.fieldsIndex.get(e.field3)))}`)):\"string\"==typeof a&&i&&(h?a=a?new Date(a).getTime():null:f&&(a=a?n(a):null)),s&&Number.isFinite(a)){const i=\"field\"===s&&e.normalizationField?this.getFieldValue(t,e.normalizationField,this.fieldsIndex.get(e.normalizationField)):null;a=o(a,s,i,d)}return a}))}async getExpressionValues(t,e,i,a,l){const{arcadeUtils:r}=await d(),n=r.hasGeometryOperations(e);n&&await r.enableGeometryOperations();const u=r.createFunction(e),o=r.getViewInfo(i),c={fields:this.fieldsIndex.fields};return t.map((t=>{const e={attributes:this.featureAdapter.getAttributes(t),layer:c,geometry:n?{...s(a.geometryType,a.hasZ,a.hasM,this.featureAdapter.getGeometry(t)),spatialReference:i?.spatialReference}:null},d=r.createExecContext(e,o,l);return r.executeFunction(u,d)}))}validateItem(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:e(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testFeature(t,this.featureAdapter)??!1}validateItems(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:e(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testSet(t,this.featureAdapter)??!1}_processAttributesForOutFields(t){const e=this.outFields;if(!e?.length)return this.featureAdapter.getAttributes(t);const i={};for(const s of e){const{alias:e,clause:a}=this._fieldDataCache.get(s);i[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return i}_processAttributesForDistinctValues(t){if(null==t||!this.returnDistinctValues)return t;const e=this.outFields,i=[];if(e)for(const l of e){const{alias:e}=this._fieldDataCache.get(l);i.push(t[e])}else for(const l in t)i.push(t[l]);const s=`${(e||[\"*\"]).join(\",\")}=${i.join(\",\")}`;let a=this._returnDistinctMap.get(s)||0;return this._returnDistinctMap.set(s,++a),a>1?null:t}}export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../core/lang.js\";import{polygonCentroid as t,extentCentroid as i}from\"../../../geometry/support/centroid.js\";import{getPolygonExtent as s,getGeometryExtent as a}from\"../../../geometry/support/extentUtils.js\";import{toQuantizationTransform as r}from\"../../../geometry/support/quantizationUtils.js\";import{isValid as n,equals as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import l from\"./AttributesBuilder.js\";import{cleanFromGeometryEngine as u,getGeometry as c,transformCentroid as m}from\"./geometryUtils.js\";import{project as d}from\"./projectionSupport.js\";import{getDateInNumber as f}from\"./queryUtils.js\";import{makeEdgeCandidate as h,makeVertexCandidate as p}from\"./SnappingCandidate.js\";import{isDateField as y,isDateOnlyField as g,isTimestampOffsetField as x,isStringField as T,isTimeOnlyField as I}from\"../../support/fieldUtils.js\";import F from\"../../../rest/support/AutoIntervalBinParameters.js\";import _ from\"../../../rest/support/DateBinParameters.js\";import{unitsDict as V}from\"../../../rest/support/DateBinUtils.js\";import b from\"../../../rest/support/FixedBoundariesBinParameters.js\";import v from\"../../../rest/support/FixedIntervalBinParameters.js\";import{isNullCountSupported as S,calculateStringStatistics as R,calculateStatistics as B,processSummaryStatisticsResult as z,calculateUniqueValuesCount as M,createUVResult as A,calculateClassBreaks as w,resolveCBResult as D,calculateHistogram as P,getAttributeComparator as N,calculatePercentile as q,binIndex as Z,getBinParams as j}from\"../../../statistics/utils.js\";import{utc as G}from\"../../../time/constants.js\";import{DateTime as C}from\"luxon\";const E=\"bin\";class O{constructor(e,t,i){this.items=e,this.query=t,this.geometryType=i.geometryType,this.hasM=i.hasM,this.hasZ=i.hasZ,this.fieldsIndex=i.fieldsIndex,this.objectIdField=i.objectIdField,this.spatialReference=i.spatialReference,this.featureAdapter=i.featureAdapter}get size(){return this.items.length}createQueryResponseForCount(){const e=new l(this.query,this.featureAdapter,this.fieldsIndex);if(!this.query.outStatistics)return e.countDistinctValues(this.items);const{groupByFieldsForStatistics:t,having:i,outStatistics:s}=this.query,a=t?.length;if(!!!a)return 1;const r=new Map,n=new Map,o=new Set;for(const l of s){const{statisticType:s}=l,a=\"exceedslimit\"!==s?l.onStatisticField:void 0;if(!n.has(a)){const i=[];for(const s of t){const t=this._getAttributeValues(e,s,this.items,r);i.push(t)}n.set(a,this._calculateUniqueValues(i,this.items,e.returnDistinctValues))}const u=n.get(a);for(const t in u){const{data:s,items:a}=u[t],r=s.join(\",\");i&&!e.validateItems(a,i)||o.add(r)}}return o.size}async createQueryResponse(){let e;if(this.query.outStatistics){e=this.query.outStatistics.some((e=>\"exceedslimit\"===e.statisticType))?this._createExceedsLimitQueryResponse():await this._createStatisticsQueryResponse(this.query,this.items)}else e=this._createFeatureQueryResponse(this.query);if(this.query.returnQueryGeometry){const t=this.query.geometry;n(this.query.outSR)&&!o(t.spatialReference,this.query.outSR)?e.queryGeometry=u({spatialReference:this.query.outSR,...d(t,t.spatialReference,this.query.outSR)}):e.queryGeometry=u({spatialReference:this.query.outSR,...t})}return e}createSnappingResponse(e,t,i){const s=this.featureAdapter,a=Q(this.hasZ,this.hasM),{point:r,mode:n}=e,o=\"number\"==typeof e.distance?e.distance:e.distance.x,l=\"number\"==typeof e.distance?e.distance:e.distance.y,u={candidates:[]},c=\"esriGeometryPolygon\"===this.geometryType,m=\"esriGeometryPolyline\"===this.geometryType||\"esriGeometryPoint\"===this.geometryType,d=this._getPointCreator(n,t,this.spatialReference,i),f=new U(null,0),y=new U(null,0),g={x:0,y:0,z:0};for(const x of this.items){const t=s.getGeometry(x);if(null==t)continue;const{coords:i}=t,n=t.isPoint?k:t.lengths;if(f.coords=i,y.coords=i,e.returnEdge){let e=0;for(let t=0;t<n.length;t++){const i=n[t],m=e;for(let t=0;t<i;t++,e+=a){if(!c&&t===i-1)continue;const n=f;n.coordsIndex=e;const p=y;p.coordsIndex=t===i-1?m:e+a;const T=g;if(!H(g,r,n,p))continue;const I=(r.x-T.x)/o,F=(r.y-T.y)/l,_=I*I+F*F;_<=1&&u.candidates.push(h(s.getObjectId(x),d(T),Math.sqrt(_),d(n),d(p)))}}}if(\"all\"===e.vertexMode){let e=0;for(let t=0;t<n.length;t++){const i=n[t],m=e,h=y;h.coordsIndex=m;for(let t=0;t<i;t++,e+=a){const a=f;if(a.coordsIndex=e,c&&t===i-1&&a.x===h.x&&a.y===h.y)continue;const n=(r.x-a.x)/o,m=(r.y-a.y)/l,y=n*n+m*m;y<=1&&u.candidates.push(p(s.getObjectId(x),d(a),Math.sqrt(y)))}}}else if(m&&\"ends\"===e.vertexMode){let e=0;const t=[];for(let i=0;i<n.length;i++){t.push(e);const s=n[i];e+=s*a,!c&&s>1&&t.push(e-a)}for(const i of t){const e=f;e.coordsIndex=i;const t=(r.x-e.x)/o,a=(r.y-e.y)/l,n=t*t+a*a;n<=1&&u.candidates.push(p(s.getObjectId(x),d(e),Math.sqrt(n)))}}}return u.candidates.sort(((e,t)=>e.distance-t.distance)),u}_getPointCreator(e,t,i,s){const a=null==s||o(i,s)?e=>e:e=>d(e,i,s),{hasZ:r}=this,n=0;return\"3d\"===e?r&&t?({x:e,y:t,z:i})=>a({x:e,y:t,z:i}):({x:e,y:t})=>a({x:e,y:t,z:n}):({x:e,y:t})=>a({x:e,y:t})}async createSummaryStatisticsResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,minValue:n,maxValue:o,scale:l,timeZone:u,outStatisticTypes:c}=e,m=this.fieldsIndex.get(t),d=y(m)||g(m)||x(m),f=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:l,timeZone:u},this.items),h=S({normalizationType:a,normalizationField:s,minValue:n,maxValue:o}),p={value:.5,fieldType:m?.type},I=T(m)?R({values:f,supportsNullCount:h,percentileParams:p,outStatisticTypes:c}):B({values:f,minValue:n,maxValue:o,useSampleStdDev:!a,supportsNullCount:h,percentileParams:p,outStatisticTypes:c});return z(I,c,d)}async createUniqueValuesResponse(e){const{field:t,valueExpression:i,domains:s,returnAllCodedValues:a,scale:r,timeZone:n}=e,o=await this._getDataValues({field:t,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:i,scale:r,timeZone:n},this.items,!1),l=M(o);return A(l,s,a,e.fieldDelimiter)}async createClassBreaksResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c,scale:m,timeZone:d}=e,f=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:m,timeZone:d},this.items),h=w(f,{field:t,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c});return D(h,n)}async createHistogramResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c,scale:m,timeZone:d}=e,f=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:m,timeZone:d},this.items);return P(f,{field:t,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c})}_sortFeatures(e,t,i){if(e.length>1&&t?.length)for(const s of t.slice().reverse()){const t=s.split(\" \"),a=t[0],r=this.fieldsIndex.get(a),n=!!t[1]&&\"desc\"===t[1].toLowerCase(),o=N(r?.type,n);e.sort(((e,t)=>{const s=i(e,a,r),n=i(t,a,r);return o(s,n)}))}}_createFeatureQueryResponse(e){const{items:t,geometryType:i,hasM:s,hasZ:a,objectIdField:n,spatialReference:o}=this,{outFields:l,outSR:c,quantizationParameters:m,resultRecordCount:d,resultOffset:f,returnZ:h,returnM:p}=e,y=null!=d&&t.length>(f||0)+d,g=l&&(l.includes(\"*\")?[...this.fieldsIndex.fields]:l.map((e=>this.fieldsIndex.get(e))));return{exceededTransferLimit:y,features:this._createFeatures(e,t),fields:g,geometryType:i,hasM:s&&p,hasZ:a&&h,objectIdFieldName:n,spatialReference:u(c||o),transform:m&&r(m)||null}}_createFeatures(e,t){const i=new l(e,this.featureAdapter,this.fieldsIndex),{hasM:s,hasZ:a}=this,{orderByFields:n,quantizationParameters:o,returnGeometry:u,returnCentroid:d,maxAllowableOffset:f,resultOffset:h,resultRecordCount:p,returnZ:y=!1,returnM:g=!1}=e,x=a&&y,T=s&&g;let I=[],F=0;const _=[...t];if(this._sortFeatures(_,n,((e,t,s)=>i.getFieldValue(e,t,s))),this.geometryType&&(u||d)){const e=r(o)??void 0,t=\"esriGeometryPolygon\"===this.geometryType||\"esriGeometryPolyline\"===this.geometryType;if(u&&!d)for(const s of _){const a=this.featureAdapter.getGeometry(s),r={attributes:i.getAttributes(s),geometry:c(this.geometryType,this.hasZ,this.hasM,a,f,e,x,T),metadata:this.featureAdapter.getMetadata?.(s)};t&&a&&!r.geometry&&(r.centroid=m(this,this.featureAdapter.getCentroid(s,this),e)),I[F++]=r}else if(!u&&d)for(const s of _)I[F++]={attributes:i.getAttributes(s),centroid:m(this,this.featureAdapter.getCentroid(s,this),e)};else for(const s of _)I[F++]={attributes:i.getAttributes(s),centroid:m(this,this.featureAdapter.getCentroid(s,this),e),geometry:c(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(s),f,e,x,T),metadata:this.featureAdapter.getMetadata?.(s)}}else for(const r of _){const e=i.getAttributes(r);e&&(I[F++]={attributes:e})}const V=h||0;if(null!=p){const e=V+p;I=I.slice(V,Math.min(I.length,e))}return I}_createExceedsLimitQueryResponse(){let e=!1,t=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;for(const a of this.query.outStatistics??[])if(\"exceedslimit\"===a.statisticType){t=null!=a.maxPointCount?a.maxPointCount:Number.POSITIVE_INFINITY,i=null!=a.maxRecordCount?a.maxRecordCount:Number.POSITIVE_INFINITY,s=null!=a.maxVertexCount?a.maxVertexCount:Number.POSITIVE_INFINITY;break}if(\"esriGeometryPoint\"===this.geometryType)e=this.items.length>t;else if(this.items.length>i)e=!0;else{const t=Q(this.hasZ,this.hasM),i=this.featureAdapter;e=this.items.reduce(((e,t)=>{const s=i.getGeometry(t);return e+(null!=s&&s.coords.length||0)}),0)/t>s}return{fields:[{name:\"exceedslimit\",type:\"esriFieldTypeInteger\",alias:\"exceedslimit\",sqlType:\"sqlTypeInteger\",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(e)}}]}}async _createStatisticsQueryResponse(e,t,i={attributes:{}}){const s=[],a=new Map,r=new Map,n=new Map,o=new Map,u=new l(e,this.featureAdapter,this.fieldsIndex),c=e.outStatistics,{groupByFieldsForStatistics:m,having:d,orderByFields:f,resultRecordCount:h}=e,p=m?.length,y=!!p,g=y?m[0]:null,x=y&&!this.fieldsIndex.get(g);for(const l of c??[]){const{outStatisticFieldName:e,statisticType:c}=l,f=l,h=\"exceedslimit\"!==c?l.onStatisticField:void 0,I=\"percentile_disc\"===c||\"percentile_cont\"===c,F=\"EnvelopeAggregate\"===c||\"CentroidAggregate\"===c||\"ConvexHullAggregate\"===c,_=y&&1===p&&(h===g||x)&&\"count\"===c;if(y){if(!n.has(h)){const e=[];for(const i of m){const s=this._getAttributeValues(u,i,t,a);e.push(s)}n.set(h,this._calculateUniqueValues(e,t,!F&&u.returnDistinctValues))}const i=n.get(h);if(!i)continue;const s=Object.keys(i);for(const r of s){const{count:s,data:n,items:l,itemPositions:c}=i[r],p=n.join(\",\");if(!d||u.validateItems(l,d)){const i=o.get(p)||{attributes:{}};if(F){i.aggregateGeometries||(i.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:t}=await this._getAggregateGeometry(f,l);i.aggregateGeometries[t]=e}else{let r=null;if(_)r=s;else{const e=this._getAttributeValues(u,h,t,a),i=c.map((t=>e[t]));r=I&&\"statisticParameters\"in f?this._getPercentileValue(f,i):this._getStatisticValue(f,i,null,u.returnDistinctValues)}i.attributes[e]=r}let r=0;m.forEach(((e,t)=>i.attributes[this.fieldsIndex.get(e)?e:\"EXPR_\"+ ++r]=n[t])),o.set(p,i)}}}else if(F){i.aggregateGeometries||(i.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:s}=await this._getAggregateGeometry(f,t);i.aggregateGeometries[s]=e}else{const s=this._getAttributeValues(u,h,t,a);i.attributes[e]=I&&\"statisticParameters\"in f?this._getPercentileValue(f,s):this._getStatisticValue(f,s,r,u.returnDistinctValues)}const V=\"min\"!==c&&\"max\"!==c||!T(this.fieldsIndex.get(h))&&!this._isAnyDateField(h)?null:this.fieldsIndex.get(h)?.type;s.push({name:e,alias:e,type:V||\"esriFieldTypeDouble\"})}const I=y?Array.from(o.values()):[i];return this._sortFeatures(I,f,((e,t)=>e.attributes[t])),h&&(I.length=Math.min(h,I.length)),{fields:s,features:I}}_isAnyDateField(e){const t=this.fieldsIndex.get(e);return y(t)||g(t)||x(t)||I(t)}async _getAggregateGeometry(e,r){const{convexHull:n,union:o}=await import(\"../../../geometry/geometryEngineJSON.js\"),{statisticType:l,outStatisticFieldName:u}=e,{featureAdapter:m,spatialReference:d,geometryType:f,hasZ:h,hasM:p}=this,y=r.map((e=>c(f,h,p,m.getGeometry(e)))),g=n(d,y,!0)[0],x={aggregateGeometries:null,outStatisticFieldName:null};if(\"EnvelopeAggregate\"===l){const e=g?s(g):a(o(d,y));x.aggregateGeometries={...e,spatialReference:d},x.outStatisticFieldName=u||\"extent\"}else if(\"CentroidAggregate\"===l){const e=g?t(g):i(a(o(d,y)));x.aggregateGeometries={x:e[0],y:e[1],spatialReference:d},x.outStatisticFieldName=u||\"centroid\"}else\"ConvexHullAggregate\"===l&&(x.aggregateGeometries=g,x.outStatisticFieldName=u||\"convexHull\");return x}_getStatisticValue(e,t,i,s){const{onStatisticField:a,statisticType:r}=e;let n=null;n=i?.has(a)?i.get(a):T(this.fieldsIndex.get(a))||this._isAnyDateField(a)?R({values:t,returnDistinct:s}):B({values:s?[...new Set(t)]:t,minValue:null,maxValue:null,useSampleStdDev:!0}),i&&i.set(a,n);return n[\"var\"===r?\"variance\":r]}_getPercentileValue(e,t){const{onStatisticField:i,statisticParameters:s,statisticType:a}=e,{value:r,orderBy:n}=s,o=this.fieldsIndex.get(i);return q(t,{value:r,orderBy:n,fieldType:o?.type,isDiscrete:\"percentile_disc\"===a})}_getAttributeValues(e,t,i,s){if(s.has(t))return s.get(t);const a=this.fieldsIndex.get(t),r=i.map((i=>e.getFieldValue(i,t,a)));return s.set(t,r),r}_calculateUniqueValues(e,t,i){const s={},a=t.length;for(let r=0;r<a;r++){const a=t[r],n=[];for(const t of e)n.push(t[r]);const o=n.join(\",\");null==s[o]?s[o]={count:1,data:n,items:[a],itemPositions:[r]}:(i||s[o].count++,s[o].items.push(a),s[o].itemPositions.push(r))}return s}async _getDataValues(t,i,s=!0){const a=new l(this.query,this.featureAdapter,this.fieldsIndex),{valueExpression:r,scale:n,timeZone:o}=t;return r?a.getExpressionValues(i,r,{viewingMode:\"map\",scale:n,spatialReference:this.query.outSR||this.spatialReference},{geometryType:this.geometryType,hasZ:this.hasZ,hasM:this.hasM},o):a.getDataValues(i,e(t),s)}async _calculateHistogramBins(e,t,i){if(null==t.min&&null==t.max)return[];const s=t.intervals,a=t.min??0,r=t.max??0,n=s.map((([e,t])=>({minValue:e,maxValue:t,count:0,items:[]})));for(let o=0;o<e.length;o++){const t=e[o],l=i[o];if(null!=t&&t>=a&&t<=r){const e=Z(s,t);e>-1&&(n[e].count++,n[e].items.push(l))}}return n}async createQueryBinsResponse(e){const t=e.bin?.splitBy;if(!t)return this._createBinsResponse(e);const{value:i,outAlias:s,valueType:a}=t,r=[],n=[{name:s??i,alias:s??i,type:a??\"esriFieldTypeString\"},{name:E,alias:E,type:\"esriFieldTypeInteger\"}],o=new l(e,this.featureAdapter,this.fieldsIndex),u=new Map,c=[...this.items];this._sortFeatures(c,[i],((e,t,i)=>o.getFieldValue(e,t,i)));const m=this._getAttributeValues(o,i,c,u),d=this._calculateUniqueValues([m],c,o.returnDistinctValues);for(const l in d){const{items:t}=d[l],a=await this._createBinsResponse(e,t);if(r.push(...a.features.map((e=>({...e,attributes:{...e.attributes,[s??i]:l}})))),a.fields)for(const e of a.fields)n.some((t=>t.name===e.name))||n.push(e)}return{fields:n,features:r}}async _createBinsResponse(e,t){const i=e.bin;switch(t=t??this.items,i.type){case\"autoIntervalBin\":return this._createAutoIntervalBinsResponse(F.fromJSON(i),e,t);case\"dateBin\":return this._createDateBinsResponse(_.fromJSON(i),e,t);case\"fixedBoundariesBin\":return this._createFixedBoundariesBinsResponse(b.fromJSON(i),e,t);case\"fixedIntervalBin\":return this._createFixedIntervalBinsResponse(v.fromJSON(i),e,t)}}async _createAutoIntervalBinsResponse(e,t,i){const{field:s,normalizationField:a,numBins:r,normalizationType:n,normalizationTotal:o,start:l,end:u}=e,c=await this._getDataValues({field:e.field,normalizationField:e.normalizationField,normalizationType:e.normalizationType,normalizationTotal:e.normalizationTotal,timeZone:t.outTimeReference?.ianaTimeZone},i),m=j(c,{field:s,normalizationField:a,normalizationType:n,normalizationTotal:o,numBins:r,minValue:f(l,!1),maxValue:f(u,!1)}),d=await this._calculateHistogramBins(c,m,i);return this._createFeaturesFromHistogramBins(d,t)}async _createDateBinsResponse(e,t,i){const{field:s,interval:a,start:r,end:n,snapToData:o,returnFullIntervalBin:l}=e,u=a.unit,c=await this._getDataValues({field:e.field,timeZone:t.outTimeReference?.ianaTimeZone},i),m=I(this.fieldsIndex.get(s)),d=V.toJSON(u),h=c.filter(Boolean).sort(((e,t)=>e-t)),p=null!=r?f(r,m):h[0],y=null!=n?f(n,m):h[h.length-1],g={zone:t.outTimeReference?.ianaTimeZone??G},x=C.fromMillis(p,g),T=C.fromMillis(y,g),F=[];if(\"last\"===o){let e=T;for(;e>x;){const t=e.minus({[d]:a.value});if(t<x){F.unshift([l?t.toMillis():x.toMillis(),e.toMillis()]);break}F.unshift([t.toMillis(),e.toMillis()]),e=t}}else{let e=\"first\"===o?x:x.startOf(d);for(;e<=T;){const t=e.plus({[d]:a.value});if(t>T){F.push([e.toMillis(),l?t.toMillis():T.toMillis()]);break}F.push([e.toMillis(),t.toMillis()]),e=t}}const _=await this._calculateHistogramBins(c,{intervals:F,min:p,max:y},i);return this._createFeaturesFromHistogramBins(_,t)}async _createFixedBoundariesBinsResponse(e,t,i){const{field:s}=e,a=await this._getDataValues({field:s,timeZone:t.outTimeReference?.ianaTimeZone},i),r=I(this.fieldsIndex.get(s)),n=e.boundaries.map((e=>f(e,r))).sort(((e,t)=>e-t)),o=[];for(let c=0;c<n.length-1;c++)o.push([n[c],n[c+1]]);const l={intervals:o,min:n.at(0),max:n.at(-1)},u=await this._calculateHistogramBins(a,l,i);return this._createFeaturesFromHistogramBins(u,t)}async _createFixedIntervalBinsResponse(e,t,i){const{field:s,interval:a,start:r,end:n}=e,o=await this._getDataValues({field:e.field,normalizationField:e.normalizationField,normalizationType:e.normalizationType,normalizationTotal:e.normalizationTotal,timeZone:t.outTimeReference?.ianaTimeZone},i),l=I(this.fieldsIndex.get(s)),u=j(o,{field:s,classificationMethod:\"defined-interval\",definedInterval:a,minValue:f(r,l),maxValue:f(n,l)},!0),c=await this._calculateHistogramBins(o,u,i);return this._createFeaturesFromHistogramBins(c,t)}async _createFeaturesFromHistogramBins(e,t){const{upperBoundaryAlias:i,lowerBoundaryAlias:s}=t,a=s||\"lowerBoundary\",r=i||\"upperBoundary\",n=[],o=[{name:a,alias:a,type:\"esriFieldTypeDouble\"},{name:r,alias:r,type:\"esriFieldTypeDouble\"}],l=t.bin?.stackBy?.value,u=t.bin?.stackBy?.outAlias;l&&o.push({name:E,alias:E,type:\"esriFieldTypeInteger\"},{name:u??l,alias:u??l,type:\"esriFieldTypeString\"});let c=0;const m=\"dateBin\"===t.bin.type,d=t.outTimeReference?.ianaTimeZone;for(const f of e){const{minValue:e,maxValue:i,items:s}=f,h={attributes:{}};let p;if(h.attributes[a]=m&&d&&null!=e?C.fromMillis(e,{zone:d}).toISO():e,h.attributes[r]=m&&d&&null!=i?C.fromMillis(i,{zone:d}).toISO():i,l?(p=await this._createStatisticsQueryResponse({...t,groupByFieldsForStatistics:[l],orderByFields:[l]},s),h.attributes[E]=++c,\"flat\"===t.bin.jsonStyle?n.push(...p.features.map((({attributes:{EXPR_1:e,...t},...i})=>({...i,attributes:u??e?{...t,[u??e]:e,...h.attributes}:{...t,...h.attributes}})))):(h.stackedAttributes=p.features.map((({attributes:{EXPR_1:e,...t}})=>u??e?{...t,[u??e]:e}:t)),n.push(h))):(t.bin?.splitBy&&(h.attributes[E]=++c),p=await this._createStatisticsQueryResponse(t,s,h),n.push(h)),p.fields)for(const t of p.fields)o.some((e=>e.name===t.name))||o.push(t)}return\"desc\"===t.binOrder&&n.reverse(),{fields:o,features:n}}}function H(e,t,i,s){const a=s.x-i.x,r=s.y-i.y,n=t.x-i.x,o=t.y-i.y,l=a*a+r*r;if(0===l)return!1;const u=n*a+o*r,c=Math.min(1,Math.max(0,u/l));return e.x=i.x+a*c,e.y=i.y+r*c,!0}function Q(e,t){return e?t?4:3:t?3:2}class U{constructor(e,t){this.coords=e,this.coordsIndex=t}get x(){return this.coords[this.coordsIndex]}get y(){return this.coords[this.coordsIndex+1]}get z(){return this.coords[this.coordsIndex+2]}}const k=[1];export{O as QueryEngineResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{validateFields as t,validateWhere as i,validateHaving as s,numericFieldTypes as r,allDateAndTimeFieldTypes as o}from\"./attributeSupport.js\";import{checkProjectionSupport as n}from\"./projectionSupport.js\";import{checkSpatialQuerySupport as a}from\"./spatialQuerySupport.js\";import{loadArcade as l}from\"../../../support/loadArcade.js\";const u=\"unsupported-query\";async function p(t,i){const s=t.bin;if(!s.onField&&!s.onExpression?.value||\"autoIntervalBin\"===s.type&&null==s.parameters.numberOfBins||\"dateBin\"===s.type&&(null==s.parameters.number||null==s.parameters.unit)||\"fixedBoundariesBin\"===s.type&&null==s.parameters.boundaries||\"fixedIntervalBin\"===s.type&&null==s.parameters.interval)throw new e(u,\"Unsupported query options\",{query:t});return d(t,i)}async function d(t,{fieldsIndex:i,geometryType:s,spatialReference:r,availableFields:o}){if(null!=t.geometryPrecision||t.multipatchOption&&\"xyFootprint\"!==t.multipatchOption||t.pixelSize||t.relationParam||t.text)throw new e(u,\"Unsupported query options\",{query:t});return c(i,o,t),m(i,o,t),Promise.all([a(t,s,r),n(r,t.outSR)]).then((()=>t))}function c(s,r,o){const{returnDistinctValues:n,outStatistics:a}=o,l=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())).filter(Boolean):[];if(\"orderByFields\"in o&&o.orderByFields&&o.orderByFields.length>0){const e=\" asc\",i=\" desc\",n=o.orderByFields.map((t=>{const s=t.toLowerCase();return s.includes(e)?s.split(e)[0]:s.includes(i)?s.split(i)[0]:t})).filter((e=>!l.includes(e)));t(s,r,n,{expressionName:\"orderByFields\",query:o})}if(\"outFields\"in o)if(o.outFields?.length)t(s,r,o.outFields,{expressionName:\"outFields\",query:o,allowedFieldTypes:\"all\"});else if(n)throw new e(u,\"outFields should be specified for returnDistinctValues\",{query:o});i(s,r,o.where,o)}const f=new Set([...r,...o]);function m(i,r,o){const{outStatistics:n,groupByFieldsForStatistics:a,having:l}=o,p=a?.length,d=n?.length;if(l){if(!p||!d)throw new e(u,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:o});s(i,r,l,n,o)}if(d){if(!h(n))return;const s=n.map((e=>e.onStatisticField)).filter(Boolean);t(i,r,s,{expressionName:\"onStatisticFields\",query:o}),p&&t(i,r,a,{expressionName:\"groupByFieldsForStatistics\",query:o});for(const a of n){const{onStatisticField:s,statisticType:n}=a;if((\"percentile_disc\"===n||\"percentile_cont\"===n)&&\"statisticParameters\"in a){const{statisticParameters:t}=a;if(!t)throw new e(u,\"statisticParameters should be set for percentile type\",{definition:a,query:o})}else i.get(s)&&\"count\"!==n&&\"min\"!==n&&\"max\"!==n&&t(i,r,[s],{expressionName:`outStatistics with '${n}' statistic type`,allowedFieldTypes:f,query:o})}}}async function y(t,i,{fieldsIndex:s,geometryType:r,spatialReference:o,availableFields:l}){if(null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text||t.outStatistics||t.groupByFieldsForStatistics||t.having||t.orderByFields)throw new e(u,\"Unsupported query options\",{query:t});return c(s,l,t),Promise.all([F(s,l,i,t),a(t,r,o),n(o,t.outSR)]).then((()=>t))}async function F(i,s,r,o){let n=[];if(r.valueExpression){const{arcadeUtils:e}=await l();n=e.extractFieldNames(r.valueExpression)}if(r.field&&n.push(r.field),r.field2&&n.push(r.field2),r.field3&&n.push(r.field3),r.normalizationField&&n.push(r.normalizationField),!n.length&&!r.valueExpression)throw new e(u,\"field or valueExpression is required\",{params:r});t(i,s,n,{expressionName:\"statistics\",query:o})}function h(e){return null!=e&&e.every((e=>\"exceedslimit\"!==e.statisticType))}export{p as validateAttributeBinsQuery,d as validateQuery,y as validateStatisticsQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{indexOf as e,PositionHint as t}from\"../../../core/arrayUtils.js\";import{toConst as s}from\"../../../core/compilerUtils.js\";import i from\"../../../core/Error.js\";import\"../../../core/has.js\";import{clone as r}from\"../../../core/lang.js\";import{removeMaybe as a,destroyMaybe as n}from\"../../../core/maybe.js\";import{signalFromSignalOrOptions as u,throwIfAborted as l}from\"../../../core/promiseUtils.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import{isSerializable as h}from\"../../../core/support/jsonUtils.js\";import{getTransformation as c}from\"../../../geometry/projectionUtils.js\";import{set as m,create as f,expandWithAABB as d,negativeInfinity as y}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as p,create as g}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as x}from\"../../../geometry/support/boundsUtils.js\";import{isExtent as w,isPolygon as F}from\"../../../geometry/support/jsonUtils.js\";import{equals as _,isValid as S}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as R}from\"../featureConversionUtils.js\";import{getWhereClause as I}from\"./attributeSupport.js\";import{cleanFromGeometryEngine as Q,getGeometry as j}from\"./geometryUtils.js\";import{project as E,projectMany as b}from\"./projectionSupport.js\";import{QueryEngineCache as A}from\"./QueryEngineCache.js\";import{queryCapabilities as T}from\"./QueryEngineCapabilities.js\";import{QueryEngineResult as v}from\"./QueryEngineResult.js\";import{queryEngineEmptyResult as C,normalizeAttributeBinsQuery as P,normalizeQuery as M}from\"./queryUtils.js\";import{validateAttributeBinsQuery as z,validateQuery as G,validateStatisticsQuery as O}from\"./queryValidationUtils.js\";import{getSpatialQueryOperator as U,canQueryWithRBush as q}from\"./spatialQuerySupport.js\";import{getTimeExtent as k,getTimeOperator as B}from\"./timeSupport.js\";import Z from\"../../support/FieldsIndex.js\";import{noBudget as H}from\"../../../views/support/Scheduler.js\";const N=\"unsupported-query\";class J{constructor(e,t=null,s,i,r){this.attributes=e,this.geometry=s,this.centroid=i,this.filterFlags=r,this.groupId=-1,this.displayId=t}}class L{constructor(e){this._changeHandle=null,this.capabilities={query:T},this.geometryType=e.geometryType,this.hasM=!!e.hasM,this.hasZ=!!e.hasZ,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._cache=e.cache??new A,this.timeInfo=e.timeInfo,this.featureIdInfo=e.featureIdInfo,\"object-id\"===e.featureIdInfo.type&&(this.objectIdField=e.featureIdInfo.fieldName),this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this._clearCache())),this.fieldsIndex=h(e.fieldsIndex)?e.fieldsIndex:Z.fromJSON(e.fieldsIndex),!e.availableFields||1===e.availableFields.length&&\"*\"===e.availableFields[0]?this.availableFields=new Set(this.fieldsIndex.fields.map((e=>e.name))):this.availableFields=new Set(e.availableFields.map((e=>this.fieldsIndex.get(e)?.name)).filter((e=>null!=e))),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._changeHandle=a(this._changeHandle),this._frameTask=a(this._frameTask),this._clearCache(),n(this._cache)}get featureAdapter(){return this.featureStore.featureAdapter}_clearCache(){this._cache.clear(),this._allFeaturesPromise=null,this._timeExtentPromise=null,this._fullExtentPromise=null}async executeQuery(e,t){const s=u(t);try{const t=await this._executeQuery(e,{},s);return await t.createQueryResponse()}catch(i){if(i!==C)throw i;return new v([],e,this).createQueryResponse()}}async executeQueryForCount(e={},t){const s=u(t);try{return(await this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null},s)).createQueryResponseForCount()}catch(i){if(i!==C)throw i;return 0}}async executeQueryForExtent(e,t){const s=u(t),i=e.outSR;try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},s),r=t.size;if(!r)return{count:0,extent:null};return{count:r,extent:await this._getBounds(t.items,t.spatialReference,i||this.spatialReference)}}catch(r){if(r===C)return{count:0,extent:null};throw r}}async executeQueryForIds(e,t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e,t){const s=u(t);try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},s),i=t.items,r=new Set;return await this.reschedule((()=>{for(const e of i)r.add(t.featureAdapter.getObjectId(e))}),s),r}catch(i){if(i===C)return new Set;throw i}}async executeQueryForLatestObservations(e,t){const s=u(t);if(!this.timeInfo?.trackIdField)throw new i(N,\"Missing timeInfo or timeInfo.trackIdField\",{query:e,timeInfo:this.timeInfo});try{const t=await this._executeQuery(e,{},s);return await this.reschedule((()=>this._filterLatest(t)),s),await t.createQueryResponse()}catch(r){if(r!==C)throw r;return new v([],e,this).createQueryResponse()}}async executeAttributeBinsQuery(e,t){const s=u(t);let i;e=r(e);try{e=await this.schedule((()=>P(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>z(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s);const t=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s);i=await this.reschedule((()=>this._executeGeometryQuery(e,t,s)),s),await this.reschedule((()=>this._executeAggregateIdsQuery(i)),s),await this.reschedule((()=>this.executeObjectIdsQuery(i)),s),await this.reschedule((()=>this.executeTimeQuery(i)),s),await this.reschedule((()=>this.executeAttributesQuery(i)),s)}catch(a){if(a!==C)throw a;i=new v([],e,this)}return i.createQueryBinsResponse(e)}async executeQueryForSummaryStatistics(e={},t,s){const i=u(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createSummaryStatisticsResponse(t)}async executeQueryForUniqueValues(e={},t,s){const i=u(s),{field:r,field2:a,field3:n,valueExpression:l}=t;return(await this._executeQueryForStatistics(e,{field:r,field2:a,field3:n,valueExpression:l},i)).createUniqueValuesResponse(t)}async executeQueryForClassBreaks(e={},t,s){const i=u(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createClassBreaksResponse(t)}async executeQueryForHistogram(e={},t,s){const i=u(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createHistogramResponse(t)}async fetchRecomputedExtents(e){const t=u(e);this._timeExtentPromise||=k(this.timeInfo,this.featureStore);const[s,i]=await Promise.all([this._getFullExtent(),this._timeExtentPromise]);return l(t),{fullExtent:s,timeExtent:i}}async _getBounds(e,t,s){const i=m(f(),y);await this.featureStore.forEachBounds(e,(e=>d(i,e)));const r={xmin:i[0],ymin:i[1],xmax:i[3],ymax:i[4],spatialReference:Q(this.spatialReference)};this.hasZ&&isFinite(i[2])&&isFinite(i[5])&&(r.zmin=i[2],r.zmax=i[5],r.hasZ=!0);const a=E(r,t,s);if(a.spatialReference=Q(s),a.xmax-a.xmin===0){const e=o(a.spatialReference);a.xmin-=e,a.xmax+=e}if(a.ymax-a.ymin===0){const e=o(a.spatialReference);a.ymin-=e,a.ymax+=e}if(this.hasZ&&null!=a.zmin&&null!=a.zmax&&a.zmax-a.zmin===0){const e=o(a.spatialReference);a.zmin-=e,a.zmax+=e}return a}_getFullExtent(){return this._fullExtentPromise||=\"getFullExtent\"in this.featureStore&&this.featureStore.getFullExtent?Promise.resolve(this.featureStore.getFullExtent(this.spatialReference)):this._getAllFeatures().then((e=>this._getBounds(e,this.spatialReference,this.spatialReference))),this._fullExtentPromise}async schedule(e,t){return this._frameTask?.schedule(e,t)??e(H)}async reschedule(e,t){return this._frameTask?.reschedule(e,t)??e(H)}async _getAllFeaturesQueryEngineResult(e){return new v(await this._getAllFeatures(),e,this)}async _getAllFeatures(){if(null==this._allFeaturesPromise){const e=[];this._allFeaturesPromise=(async()=>await this.featureStore.forEach((t=>e.push(t))))().then((()=>s(e)))}const e=this._allFeaturesPromise,t=await e;return e===this._allFeaturesPromise?t.slice():this._getAllFeatures()}async _executeQuery(e,t,s){e=r(e),e=await this.schedule((()=>M(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>G(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s),e={...e,...t};const i=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s),a=await this.reschedule((()=>this._executeGeometryQuery(e,i,s)),s);return await this.reschedule((()=>this._executeAggregateIdsQuery(a)),s),await this.reschedule((()=>this.executeObjectIdsQuery(a)),s),await this.reschedule((()=>this.executeTimeQuery(a)),s),await this.reschedule((()=>this.executeAttributesQuery(a)),s),a}async _executeSceneFilterQuery(e,t){if(null==e.sceneFilter)return null;const{outSR:s,returnGeometry:i,returnCentroid:r}=e,a=this.featureStore.featureSpatialReference,n=e.sceneFilter.geometry,u=null==a||_(a,n.spatialReference)?n:E(n,a);if(!u)return null;const l=i||r,o=S(s)&&!_(this.spatialReference,s)&&l?async e=>this._project(e,s):e=>e,h=this.featureAdapter,c=await this.reschedule((()=>this.searchFeatures(V(u))),t);if(\"disjoint\"===e.sceneFilter.spatialRelationship){if(!c.length)return null;const s=new Set;for(const e of c)s.add(h.getObjectId(e));const i=await this.reschedule((()=>this._getAllFeatures()),t),r=await this.reschedule((async()=>{const r=await U(\"esriSpatialRelDisjoint\",u,this.geometryType,this.hasZ,this.hasM),a=e=>!s.has(h.getObjectId(e))||r(h.getGeometry(e)),n=await this.runSpatialFilter(i,a,t);return new v(n,e,this)}),t);return o(r)}if(!c.length)return new v([],e,this);if(this._canExecuteSinglePass(u,e))return o(new v(c,e,this));const m=await U(\"esriSpatialRelContains\",u,this.geometryType,this.hasZ,this.hasM),f=await this.runSpatialFilter(c,(e=>m(h.getGeometry(e))),t);return o(new v(f,e,this))}async _executeGeometryQuery(s,i,r){if(null!=i&&0===i.items.length)return i;const{geometry:a,outSR:n,returnGeometry:u,returnCentroid:l}=s,o=i?null:this._getCacheKey(s),h=o?this._cache.get(o):null;if(h)return new v(h,s,this);const c=S(n)&&!_(this.spatialReference,n),m=u||l,f=async e=>(c&&m&&await this._project(e,n),o&&this._cache.put(o,e.items),e),d=this.featureStore.featureSpatialReference,y=!a||null==d||_(d,a.spatialReference)?a:E(a,d);if(!y)return f(null!=i?i:await this._getAllFeaturesQueryEngineResult(s));const p=this.featureAdapter;let g=await this.reschedule((()=>this.searchFeatures(V(a))),r);const x=s.spatialRel??\"esriSpatialRelIntersects\";if(\"esriSpatialRelDisjoint\"===x){if(!g.length)return f(null!=i?i:await this._getAllFeaturesQueryEngineResult(s));const e=new Set;for(const s of g)e.add(p.getObjectId(s));const t=null!=i?i.items:await this.reschedule((()=>this._getAllFeatures()),r),a=await this.reschedule((async()=>{const i=await U(x,y,this.geometryType,this.hasZ,this.hasM),a=t=>!e.has(p.getObjectId(t))||i(p.getGeometry(t)),n=await this.runSpatialFilter(t,a,r);return new v(n,s,this)}),r);return f(a)}if(null!=i){const s=new t;g=g.filter((t=>e(i.items,t,i.items.length,s)>=0))}if(!g.length){const e=new v([],s,this);return o&&this._cache.put(o,e.items),e}if(this._canExecuteSinglePass(y,s))return f(new v(g,s,this));const w=await U(x,y,this.geometryType,this.hasZ,this.hasM),F=await this.runSpatialFilter(g,(e=>w(p.getGeometry(e))),r);return f(new v(F,s,this))}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds?.length||null==this.aggregateAdapter)return;const t=new Set;for(const i of e.query.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(i).forEach((e=>t.add(e)))}const s=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(s(e))))}executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds?.length)return;const t=new Set(e.query.objectIds),s=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(s(e))))}executeTimeQuery(e){if(0===e.items.length)return;const t=B(this.timeInfo,e.query.timeExtent,this.featureAdapter);null!=t&&(e.items=e.items.filter(t))}executeAttributesQuery(e){if(0===e.items.length)return;const t=I(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError(\"Where clause is not standardized\");e.items=e.items.filter((e=>t.testFeature(e,this.featureAdapter)))}}async runSpatialFilter(e,t,s){if(!t)return e;if(null==this._frameTask)return e.filter((e=>t(e)));let i=0;const r=new Array,a=async n=>{for(;i<e.length;){const u=e[i++];t(u)&&(r.push(u),n.madeProgress()),n.done&&await this.reschedule((e=>a(e)),s)}};return this.reschedule((e=>a(e)),s).then((()=>r))}_filterLatest(e){const{trackIdField:t,startTimeField:s,endTimeField:i}=this.timeInfo,r=i||s,a=new Map,n=this.featureAdapter.getAttribute;for(const u of e.items){const e=n(u,t),s=n(u,r),i=a.get(e);(!i||s>n(i,r))&&a.set(e,u)}e.items=Array.from(a.values())}_getCacheKey(e){const{geometry:t,spatialRel:s,returnGeometry:i,returnCentroid:r,outSR:a,resultType:n,cacheHint:u}=e;if(\"tile\"!==n&&!u)return null;const l=i||r;return S(a)&&!_(this.spatialReference,a)&&l?JSON.stringify([t,s,a]):JSON.stringify([t,s])}_canExecuteSinglePass(e,t){const{spatialRel:s}=t;return q(e)&&(\"esriSpatialRelEnvelopeIntersects\"===s||\"esriGeometryPoint\"===this.geometryType&&(\"esriSpatialRelIntersects\"===s||\"esriSpatialRelContains\"===s))}async _project(e,t){if(!t||_(this.spatialReference,t))return e;const i=this.featureAdapter;let r;try{const e=await this._getFullExtent();r=c(this.spatialReference,t,e)}catch{}const a=await b(e.items.map((e=>j(this.geometryType,this.hasZ,this.hasM,i.getGeometry(e)))),this.spatialReference,t,r);return e.items=s(a.map(((t,s)=>i.cloneWithGeometry(e.items[s],R(t,this.hasZ,this.hasM))))),e}async searchFeatures(e){const t=new Set;await Promise.all(e.map((e=>this.featureStore.forEachInBounds(e,(e=>t.add(e))))));const s=Array.from(t.values());return t.clear(),s}async _executeQueryForStatistics(e,t,s){e=r(e);try{e=await this.schedule((()=>M(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>O(e,t,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s);const i=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s),r=await this.reschedule((()=>this._executeGeometryQuery(e,i,s)),s);return await this.reschedule((()=>this._executeAggregateIdsQuery(r)),s),await this.reschedule((()=>this.executeObjectIdsQuery(r)),s),await this.reschedule((()=>this.executeTimeQuery(r)),s),await this.reschedule((()=>this.executeAttributesQuery(r)),s),r}catch(i){if(i!==C)throw i;return new v([],e,this)}}get test(){}}function V(e){if(q(e)){if(w(e))return[p(Math.min(e.xmin,e.xmax),Math.min(e.ymin,e.ymax),Math.max(e.xmin,e.xmax),Math.max(e.ymin,e.ymax))];if(F(e))return e.rings.map((e=>p(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[x(g(),e)]}export{J as Feature,L as QueryEngine,V as getQueryBBoxes};\n"],"names":["s","i","t","n","o","a","l","d","r","c","e","p","g","f","u","y","m","T","c$1","h","E","O","Q","U","x","k","H","I","F","_","S","R","B","z","M","A","w","D","P","N","V","q","Z","b","v","j","G","C","L"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}