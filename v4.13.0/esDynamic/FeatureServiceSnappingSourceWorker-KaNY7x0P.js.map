{"version":3,"file":"FeatureServiceSnappingSourceWorker-KaNY7x0P.js","sources":["../../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js","../../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher.js","../../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileCache.js","../../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileStore.js","../../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createTask as t,resultOrAbort as e}from\"../../../../../core/asyncUtils.js\";import{fromExtent as s,create as a,intersects as E}from\"../../../../../geometry/support/aaBoundingRect.js\";class r{constructor(t,e){this.data=t,this.resolution=e,this.state={type:i.CREATED},this.alive=!0}process(t){switch(this.state.type){case i.CREATED:return this.state=this._gotoFetchCount(this.state,t),this.state.task.promise.then(t.resume,t.resume);case i.FETCH_COUNT:break;case i.FETCHED_COUNT:return this.state=this._gotoFetchFeatures(this.state,t),this.state.task.promise.then(t.resume,t.resume);case i.FETCH_FEATURES:break;case i.FETCHED_FEATURES:this.state=this._goToDone(this.state,t);case i.DONE:}return null}get debugInfo(){return{data:this.data,featureCount:this._featureCount,state:this._stateToString}}get _featureCount(){switch(this.state.type){case i.CREATED:case i.FETCH_COUNT:return 0;case i.FETCHED_COUNT:return this.state.featureCount;case i.FETCH_FEATURES:return this.state.previous.featureCount;case i.FETCHED_FEATURES:return this.state.features.length;case i.DONE:return this.state.previous.features.length}}get _stateToString(){switch(this.state.type){case i.CREATED:return\"created\";case i.FETCH_COUNT:return\"fetch-count\";case i.FETCHED_COUNT:return\"fetched-count\";case i.FETCH_FEATURES:return\"fetch-features\";case i.FETCHED_FEATURES:return\"fetched-features\";case i.DONE:return\"done\"}}_gotoFetchCount(s,a){return{type:i.FETCH_COUNT,previous:s,task:t((async t=>{const s=await e(a.fetchCount(this,t));this.state.type===i.FETCH_COUNT&&(this.state=u(this.state,s.ok?s.value:1/0))}))}}_gotoFetchFeatures(s,a){return{type:i.FETCH_FEATURES,previous:s,task:t((async t=>{const E=await e(a.fetchFeatures(this,s.featureCount,t));this.state.type===i.FETCH_FEATURES&&(this.state=T(this.state,E.ok?E.value:[]))}))}}_goToDone(t,e){return e.finish(this,t.features),{type:i.DONE,previous:t}}reset(){const t=this.state;switch(this.state={type:i.CREATED},t.type){case i.CREATED:case i.FETCHED_COUNT:case i.FETCHED_FEATURES:case i.DONE:break;case i.FETCH_COUNT:case i.FETCH_FEATURES:t.task.abort()}}intersects(t){return null==t||!this.data.extent||(s(t,n),E(this.data.extent,n))}}function u(t,e){return{type:i.FETCHED_COUNT,featureCount:e,previous:t}}function T(t,e){return{type:i.FETCHED_FEATURES,previous:t,features:e}}var i;!function(t){t[t.CREATED=0]=\"CREATED\",t[t.FETCH_COUNT=1]=\"FETCH_COUNT\",t[t.FETCHED_COUNT=2]=\"FETCHED_COUNT\",t[t.FETCH_FEATURES=3]=\"FETCH_FEATURES\",t[t.FETCHED_FEATURES=4]=\"FETCHED_FEATURES\",t[t.DONE=5]=\"DONE\"}(i||(i={}));const n=a();export{r as PendingFeatureTile,i as StateType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{equals as i}from\"../../../../../core/arrayUtils.js\";import{createTask as s}from\"../../../../../core/asyncUtils.js\";import r from\"../../../../../core/Logger.js\";import{throwIfAbortError as o}from\"../../../../../core/promiseUtils.js\";import{when as n}from\"../../../../../core/reactiveUtils.js\";import{union as a,equals as l,isSubsetOf as u,difference as d}from\"../../../../../core/SetUtils.js\";import{normalizeGlobalID as c}from\"../../../../../core/uuid.js\";import{property as h}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as f}from\"../../../../../core/support/UpdatingHandles.js\";import y from\"../../../../../geometry/Extent.js\";import{toExtent as m}from\"../../../../../geometry/support/aaBoundingRect.js\";import{unquantizeOptimizedFeatureSet as _,convertFromFeatureSet as g}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{isHostedAgolService as F}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{OptimizedFeatureSetParserContext as T}from\"../../../../../rest/query/operations/pbfOptimizedFeatureSet.js\";import{executeQueryForExtent as b,executeQueryPBF as P,executeQuery as v}from\"../../../../../rest/query/operations/query.js\";import I from\"../../../../../rest/support/Query.js\";import{StateType as O,PendingFeatureTile as S}from\"./PendingFeatureTile.js\";let j=class extends t{get _minimumVerticesPerFeature(){switch(this.store?.featureStore.geometryType){case\"esriGeometryPoint\":case\"esriGeometryMultipoint\":return 1;case\"esriGeometryPolygon\":return 4;case\"esriGeometryPolyline\":return 2}}get _mandatoryOutFields(){const e=new Set;return this.objectIdField&&e.add(this.objectIdField),this.globalIdField&&e.add(this.globalIdField),e}set outFields(e){const t=this._get(\"outFields\"),i=a(e,this._mandatoryOutFields);l(i,t)||(this._set(\"outFields\",i),u(i,t)||this.refresh())}get outFields(){return this._get(\"outFields\")??this._mandatoryOutFields}set filter(e){const t=this._get(\"filter\"),i=this._filterProperties(e);JSON.stringify(t)!==JSON.stringify(i)&&this._set(\"filter\",i)}set customParameters(e){const t=this._get(\"customParameters\");JSON.stringify(t)!==JSON.stringify(e)&&this._set(\"customParameters\",e)}get _configuration(){return{filter:this.filter,customParameters:this.customParameters,tileInfo:this.tileInfo,tileSize:this.tileSize}}set tileInfo(e){const t=this._get(\"tileInfo\");t!==e&&(null!=e&&null!=t&&JSON.stringify(e)===JSON.stringify(t)||(this._set(\"tileInfo\",e),this.store.tileInfo=e))}set tileSize(e){this._get(\"tileSize\")!==e&&this._set(\"tileSize\",e)}get updating(){return this._updatingHandles.updating}get hasZ(){return this.store.featureStore.hasZ}constructor(e){super(e),this.suspended=!0,this._historicMoment=null,this.tilesOfInterest=[],this.availability=0,this._pendingTiles=new Map,this._updatingHandles=new f}initialize(){this._initializeFetchExtent(),this._updatingHandles.add((()=>this._configuration),(()=>this.refresh())),this._updatingHandles.add((()=>this.tilesOfInterest),(()=>{this._updatePriorities(),this._process()}),{sync:!0,initial:!0,equals:(e,t)=>i(e,t,(({id:e},{id:t})=>e===t))}),this.addHandles(n((()=>!this.suspended),(()=>this._process())))}_updatePriorities(){this.store.setPriorityOrderByKey(this.tilesOfInterest.map((e=>e.id??\"\"))??[])}destroy(){this._pendingTiles.forEach((e=>this._deletePendingTile(e))),this._pendingTiles.clear(),this.store.destroy(),this.tilesOfInterest.length=0,this._updatingHandles.destroy()}refresh(){this.store.refresh(),this._pendingTiles.forEach((e=>this._deletePendingTile(e))),this._process()}async handleEdits(e){if(e.historicMoment&&(this._historicMoment=e.historicMoment),!e.addedFeatures.length&&!e.updatedFeatures.length&&!e.deletedFeatures.length)return;for(const s of this._pendingTiles.values())s.reset();const t={...e,deletedFeatures:e.deletedFeatures.map((({objectId:e,globalId:t})=>e&&-1!==e?e:this._lookupObjectIdByGlobalId(t)))},i=s((async e=>{try{await this.store.processEdits(t,((e,t)=>this._queryFeaturesById(e,t)),e),this._processPendingTiles()}catch(i){o(i),r.getLogger(this).warn(\"Failed to apply edits\",i)}}));this.addHandles(i),await this._updatingHandles.addPromise(i.promise)}setHistoricMoment(e){e?.getTime()!==this._historicMoment?.getTime()&&(this._historicMoment=e,this.refresh())}_initializeFetchExtent(){if(!this.capabilities.query.supportsExtent||!F(this.url))return;const e=s((async e=>{try{const t=await b(this.url,new I({where:\"1=1\",outSpatialReference:this.spatialReference,cacheHint:this.capabilities.query.supportsCacheHint??void 0}),{query:this._configuration.customParameters,signal:e});this.store.extent=y.fromJSON(t.data?.extent)}catch(t){o(t),r.getLogger(this).warn(\"Failed to fetch data extent\",t)}}));this._updatingHandles.addPromise(e.promise.then((()=>this._process()))),this.addHandles(e)}get debugInfo(){return{numberOfFeatures:this.store.featureStore.numFeatures,tilesOfInterest:this.tilesOfInterest,pendingTiles:Array.from(this._pendingTiles.values()).map((e=>e.debugInfo)),storedTiles:this.store.debugInfo}}_process(){this._markTilesNotAlive(),this._createPendingTiles(),this._deletePendingTiles(),this._processPendingTiles()}_markTilesNotAlive(){for(const e of this._pendingTiles.values())e.alive=!1}_createPendingTiles(){if(this.suspended)return;const e=this._collectMissingTilesInfo();if(this._setAvailability(null==e?1:e.coveredArea/e.fullArea),null!=e)for(const{data:t,resolution:i}of e.missingTiles){const e=this._pendingTiles.get(t.id);e?(e.resolution=i,e.alive=!0):this._createPendingTile(t,i)}}_collectMissingTilesInfo(){let e=null;for(const t of this.tilesOfInterest){const i=this.store.process(t,((e,t)=>this._verifyTileComplexity(e,t)),this.outFields);null==e?e=i:e.prepend(i)}return e}_deletePendingTiles(){for(const e of this._pendingTiles.values())e.alive||this._deletePendingTile(e)}_processPendingTiles(){const e={fetchCount:(e,t)=>this._fetchCount(e,t),fetchFeatures:(e,t,i)=>this._fetchFeatures(e,t,i),finish:(e,t)=>this._finishPendingTile(e,t),resume:()=>this._processPendingTiles()};if(this._ensureFetchAllCounts(e))for(const t of this._pendingTiles.values())this._verifyTileComplexity(this.store.getFeatureCount(t.data),t.resolution)&&this._updatingHandles.addPromise(t.process(e))}_verifyTileComplexity(e,t){return this._verifyVertexComplexity(e)&&this._verifyFeatureDensity(e,t)}_verifyVertexComplexity(e){return e*this._minimumVerticesPerFeature<w}_verifyFeatureDensity(e,t){if(null==this.tileInfo)return!1;const i=this.tileSize*t;return e*(q/(i*i))<M}_ensureFetchAllCounts(e){let t=!0;for(const i of this._pendingTiles.values())i.state.type<O.FETCHED_COUNT&&this._updatingHandles.addPromise(i.process(e)),i.state.type<=O.FETCH_COUNT&&(t=!1);return t}_finishPendingTile(e,t){this.store.add(e.data,t),this._deletePendingTile(e),this._updateAvailability()}_updateAvailability(){const e=this._collectMissingTilesInfo();this._setAvailability(null==e?1:e.coveredArea/e.fullArea)}_setAvailability(e){this._set(\"availability\",e)}_createPendingTile(e,t){const i=new S(e,t);return this._pendingTiles.set(e.id,i),i}_deletePendingTile(e){e.reset(),this._pendingTiles.delete(e.data.id)}async _fetchCount(e,t){return this.store.fetchCount(e.data,this.url,this._createCountQuery(e),{query:this.customParameters,timeout:x,signal:t})}async _fetchFeatures(e,t,i){let s=0;const r=[];let o=0,n=t;for(;;){const a=this._createFeaturesQuery(e),l=this._setPagingParameters(a,s,n),{features:u,exceededTransferLimit:d}=await this._queryFeatures(a,i);l&&(s+=a.num),o+=u.length;for(const e of u)r.push(e);if(n=t-o,!l||!d||n<=0)return r}}_filterProperties(e){return null==e?{where:\"1=1\",gdbVersion:void 0,timeExtent:void 0}:{where:e.where||\"1=1\",timeExtent:e.timeExtent,gdbVersion:e.gdbVersion}}_lookupObjectIdByGlobalId(e){const t=this.globalIdField,i=this.objectIdField;if(null==t)throw new Error(\"Expected globalIdField to be defined\");let s=null;const r=e?c(e):e;if(this.store.featureStore.forEach((e=>{r===c(e.attributes[t])&&(s=e.objectId??e.attributes[i])})),null==s)throw new Error(`Expected to find a feature with globalId ${e}`);return s}_queryFeaturesById(e,t){const i=this._createFeaturesQuery();return i.objectIds=e,this._queryFeatures(i,t)}_queryFeatures(e,t){return this.capabilities.query.supportsFormatPBF?this._queryFeaturesPBF(e,t):this._queryFeaturesJSON(e,t)}async _queryFeaturesPBF(e,t){const{sourceSpatialReference:i}=this,{data:s}=await P(this.url,e,new T({sourceSpatialReference:i}),{query:this._configuration.customParameters,timeout:x,signal:t});return _(s)}async _queryFeaturesJSON(e,t){const{sourceSpatialReference:i}=this,{data:s}=await v(this.url,e,i,{query:this._configuration.customParameters,timeout:x,signal:t});return g(s,{type:\"object-id\",fieldName:this.objectIdField})}_createCountQuery(e){const t=this._createBaseQuery(e);return this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_createFeaturesQuery(e=null){const t=this._createBaseQuery(e),i=null!=e?.data?this.store.getAttributesForTile(e?.data?.id):null,s=a(d(this.outFields,i??new Set),this._mandatoryOutFields);return t.outFields=Array.from(s),t.returnGeometry=!0,null!=e&&(this.capabilities.query.supportsResultType?t.resultType=\"tile\":this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0)),t}_createBaseQuery(e){const t=new I({returnZ:this.hasZ,returnM:!1,historicMoment:this._historicMoment,geometry:null!=this.tileInfo&&null!=e?m(e.data.extent,this.tileInfo.spatialReference):void 0}),i=this._configuration.filter;return null!=i&&(t.where=i.where,t.gdbVersion=i.gdbVersion,t.timeExtent=i.timeExtent),t.outSpatialReference=this.spatialReference,t}_setPagingParameters(e,t,i){if(!this.capabilities.query.supportsPagination)return!1;const{supportsMaxRecordCountFactor:s,supportsCacheHint:r,tileMaxRecordCount:o,maxRecordCount:n,supportsResultType:a}=this.capabilities.query,l=s?I.MAX_MAX_RECORD_COUNT_FACTOR:1,u=l*((a||r)&&o?o:n||C);return e.start=t,s?(e.maxRecordCountFactor=Math.min(l,Math.ceil(i/u)),e.num=Math.min(i,e.maxRecordCountFactor*u)):e.num=Math.min(i,u),!0}};e([h({constructOnly:!0})],j.prototype,\"url\",void 0),e([h({constructOnly:!0})],j.prototype,\"objectIdField\",void 0),e([h({constructOnly:!0})],j.prototype,\"globalIdField\",void 0),e([h({constructOnly:!0})],j.prototype,\"capabilities\",void 0),e([h({constructOnly:!0})],j.prototype,\"sourceSpatialReference\",void 0),e([h({constructOnly:!0})],j.prototype,\"spatialReference\",void 0),e([h({constructOnly:!0})],j.prototype,\"store\",void 0),e([h({readOnly:!0})],j.prototype,\"_minimumVerticesPerFeature\",null),e([h()],j.prototype,\"_mandatoryOutFields\",null),e([h()],j.prototype,\"outFields\",null),e([h()],j.prototype,\"suspended\",void 0),e([h()],j.prototype,\"_historicMoment\",void 0),e([h()],j.prototype,\"filter\",null),e([h()],j.prototype,\"customParameters\",null),e([h({readOnly:!0})],j.prototype,\"_configuration\",null),e([h()],j.prototype,\"tileInfo\",null),e([h()],j.prototype,\"tileSize\",null),e([h()],j.prototype,\"tilesOfInterest\",void 0),e([h({readOnly:!0})],j.prototype,\"updating\",null),e([h({readOnly:!0})],j.prototype,\"availability\",void 0),e([h()],j.prototype,\"hasZ\",null),j=e([p(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher\")],j);const C=2e3,x=6e5,w=1e6,q=25,M=1;export{j as FeatureServiceTiledFetcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._store=new Map,this._priorities=new Map}get size(){return this._store.size}setPriorityOrderByKey(t){this._priorities.clear();for(let r=t.length-1;r>=0;r--)this._priorities.set(t[r],t.length-r)}hasLowerPriority(t){const r=this._priorities.get(t);if(null==r)return!0;for(const[e]of this._store){const t=this._priorities.get(e);if(null==t||t<r)return!0}return!1}someFromLowestToHighestPriority(t){const{_priorities:r}=this;for(const[e,s]of this._store)if(!r.has(e)&&t(s,e))return!0;for(const[e]of r){const r=this._store.get(e);if(r&&t(r,e))return!0}return!1}set(t,r){this._store.set(t,r)}delete(t){return this._store.delete(t)}get(t){return this._store.get(t)}has(t){return this._store.has(t)}clear(){this._store.clear()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}}export{t as FeatureServiceTileCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{ByteSizeUnit as s}from\"../../../../../core/ByteSizeUnit.js\";import\"../../../../../core/has.js\";import{intersection as i,isSubsetOf as r}from\"../../../../../core/SetUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as l,intersects as u,fromExtent as c,area as a}from\"../../../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as h}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{BoundsStore as d}from\"../../../../../layers/graphics/data/BoundsStore.js\";import f from\"../../../../../layers/support/TileInfo.js\";import{TileKey as _}from\"../../../../../layers/support/TileKey.js\";import{executeQueryForCount as m}from\"../../../../../rest/query/operations/query.js\";import{FeatureServiceTileCache as p}from\"./FeatureServiceTileCache.js\";let g=class extends t{setPriorityOrderByKey(e){this._tiles.setPriorityOrderByKey(e)}get _memoryLimitExceeded(){return this.featureStore.usedMemory>=this.maximumByteSize}constructor(e){super(e),this.tileInfo=null,this.extent=null,this.maximumByteSize=10*s.MEGABYTES,this._tileBounds=new d,this._tiles=new p,this._refCounts=new Map,this._tileFeatureCounts=new Map,this._tmpBoundingRect=l()}add(e,t){for(const i of t)this._referenceFeature(i.objectId);const s=this.featureStore.upsertMany(t),r=s.map((e=>new Set(Object.keys(e.attributes)))).reduce(((e,t)=>i(e,t)),new Set(Object.keys(s[0]?.attributes??[]))),o=this._memoryLimitExceeded;this._addTileStorage(e,new Set(s.map((e=>e.objectId))),r),o&&this._applyCacheMemoryLimits()}_applyCacheMemoryLimits(){if(!this._memoryLimitExceeded)return;const{_tiles:e,featureStore:t,maximumByteSize:s}=this;e.someFromLowestToHighestPriority((e=>!this._memoryLimitExceeded||t.usedMemory-this._estimateRemoveTileMemoryReduction(e)<s||(this._removeTileStorage(e),!1)))}_estimateRemoveTileMemoryReduction(e){let t=0;for(const s of e.objectIds){if(1===this._refCounts.get(s)){const e=this.featureStore.getFeature(s);e&&(t+=this.featureStore.estimateFeatureUsedMemory?.(e)??0)}}return t}getAttributesForTile(e){return e?this._tiles.get(e)?.attributeKeys:null}destroy(){this.clear(),this._tileFeatureCounts.clear()}clear(){this.featureStore.clear(),this._tileBounds.clear(),this._tiles.clear(),this._refCounts.clear()}refresh(){this.clear(),this._tileFeatureCounts.clear()}processEdits(e,t,s){return this._processEditsDelete(e.deletedFeatures.concat(e.updatedFeatures)),this._processEditsRefetch(e.addedFeatures.concat(e.updatedFeatures),t,s)}_addTileStorage(e,t,s){const i=e.id;this._tiles.set(i,new v(e,t,s)),this._tileBounds.set(i,e.extent),this._tileFeatureCounts.set(i,t.size)}_remove({id:e}){const t=this._tiles.get(e);t&&this._removeTileStorage(t)}_removeTileStorage(e){const t=[];for(const i of e.objectIds)this._unreferenceFeature(i)===w.REMOVED&&t.push(i);this.featureStore.removeManyById(t);const s=e.data.id;this._tiles.delete(s),this._tileBounds.delete(s)}_processEditsDelete(e){this.featureStore.removeManyById(e);for(const t of this._tiles.values()){for(const s of e)t.objectIds.delete(s);this._tileFeatureCounts.set(t.data.id,t.objectIds.size)}for(const t of e)this._refCounts.delete(t)}async _processEditsRefetch(e,t,s){if(!e.length)return;const i=(await t(e,s)).features,{hasZ:r,hasM:o}=this.featureStore;for(const n of i){const e=h(this._tmpBoundingRect,n.geometry,r,o);null!=e&&this._tileBounds.forEachInBounds(e,(e=>{const t=this._tiles.get(e);this.featureStore.add(n);const s=n.objectId;t.objectIds.has(s)||(t.objectIds.add(s),this._referenceFeature(s),this._tileFeatureCounts.set(t.data.id,t.objectIds.size))}))}}process(e,t=()=>!0,s){if(null==this.tileInfo||!e.extent||null!=this.extent&&!u(c(this.extent,this._tmpBoundingRect),e.extent))return new S(e);if(this._memoryLimitExceeded&&!this._tiles.hasLowerPriority(e.id??\"\"))return new S(e);const i=this.getAttributesForTile(e.id);if(r(s,i))return new S(e);const o=this._createTileTree(e,this.tileInfo);return this._simplify(o,t,null,0,1),this._collectMissingTiles(e,o,this.tileInfo,s)}get debugInfo(){return Array.from(this._tiles.values()).map((({data:e})=>({data:e,featureCount:this._tileFeatureCounts.get(e.id)||0})))}getFeatureCount(e){return this._tileFeatureCounts.get(e.id)??0}async fetchCount(e,t,s,i){const r=this._tileFeatureCounts.get(e.id);if(null!=r)return r;const o=await m(t,s,i);return this._tileFeatureCounts.set(e.id,o.data.count),o.data.count}_createTileTree(e,t){const s=new C(e.level,e.row,e.col);return t.updateTileInfo(s,f.ExtrapolateOptions.POWER_OF_TWO),this._tileBounds.forEachInBounds(e.extent,(i=>{const r=this._tiles.get(i)?.data;r&&y(e,r)&&this._populateChildren(s,r,t,this._tileFeatureCounts.get(r.id)||0)})),s}_populateChildren(e,t,s,i){const r=t.level-e.level-1;if(r<0)return void(e.isLeaf=!0);const o=t.row>>r,n=t.col>>r,l=e.row<<1,u=n-(e.col<<1)+(o-l<<1),c=e.children[u];if(null!=c)this._populateChildren(c,t,s,i);else{const r=new C(e.level+1,o,n);s.updateTileInfo(r,f.ExtrapolateOptions.POWER_OF_TWO),e.children[u]=r,this._populateChildren(r,t,s,i)}}_simplify(e,t,s,i,r){const o=r*r;if(e.isLeaf)return t(this.getFeatureCount(e),r)?0:(this._remove(e),null!=s&&(s.children[i]=null),o);const n=r/2,l=n*n;let u=0;for(let c=0;c<e.children.length;c++){const s=e.children[c];u+=null!=s?this._simplify(s,t,e,c,n):l}return 0===u?this._mergeChildren(e):1-u/o<T&&(this._purge(e),null!=s&&(s.children[i]=null),u=o),u}_mergeChildren(e){const t=new Set;let s;this._forEachLeaf(e,(e=>{const r=this._tiles.get(e.id);if(r){s=s?i(s,r.attributeKeys):new Set(r.attributeKeys);for(const e of r.objectIds)t.has(e)||(t.add(e),this._referenceFeature(e));this._remove(e)}})),this._addTileStorage(e,t,s??new Set),e.isLeaf=!0,e.children[0]=e.children[1]=e.children[2]=e.children[3]=null,this._tileFeatureCounts.set(e.id,t.size)}_forEachLeaf(e,t){for(const s of e.children)null!=s&&(s.isLeaf?t(s):this._forEachLeaf(s,t))}_purge(e){if(null!=e)if(e.isLeaf)this._remove(e);else for(let t=0;t<e.children.length;t++){const s=e.children[t];this._purge(s),e.children[t]=null}}_collectMissingTiles(e,t,s,i){const r=new E(s,e,this.extent);return this._collectMissingTilesRecurse(t,r,1,i),r.info}_collectMissingTilesRecurse(e,t,s,i){const o=this.getAttributesForTile(e.id),n=o&&!r(i,o);if(n&&t.addMissing(e.level,e.row,e.col,s),e.isLeaf)return;if(!e.hasChildren)return void(n||t.addMissing(e.level,e.row,e.col,s));const l=s/2;for(let r=0;r<e.children.length;r++){const s=e.children[r];null==s?t.addMissing(e.level+1,(e.row<<1)+((2&r)>>1),(e.col<<1)+(1&r),l):this._collectMissingTilesRecurse(s,t,l,i)}}_referenceFeature(e){const t=(this._refCounts.get(e)||0)+1;return this._refCounts.set(e,t),1===t?w.ADDED:w.UNCHANGED}_unreferenceFeature(e){const t=(this._refCounts.get(e)||0)-1;return 0===t?(this._refCounts.delete(e),w.REMOVED):(t>0&&this._refCounts.set(e,t),w.UNCHANGED)}get test(){}};function y(e,t){if(!e||!t)return!1;if(e.level===t.level)return e.row===t.row&&e.col===t.col;const s=e.level<t.level,i=s?e:t,r=s?t:e,o=1<<r.level-i.level;return Math.floor(r.row/o)===i.row&&Math.floor(r.col/o)===i.col}e([o({constructOnly:!0})],g.prototype,\"featureStore\",void 0),e([o()],g.prototype,\"tileInfo\",void 0),e([o()],g.prototype,\"extent\",void 0),e([o()],g.prototype,\"maximumByteSize\",void 0),g=e([n(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTileStore\")],g);class v{constructor(e,t,s){this.data=e,this.objectIds=t,this.attributeKeys=s}}class C{constructor(e,t,s){this.level=e,this.row=t,this.col=s,this.isLeaf=!1,this.extent=null,this.children=[null,null,null,null]}get hasChildren(){return!this.isLeaf&&(null!=this.children[0]||null!=this.children[1]||null!=this.children[2]||null!=this.children[3])}}class S{constructor(e,t=[]){this.missingTiles=t,this.fullArea=0,this.coveredArea=0,this.fullArea=a(e.extent),this.coveredArea=this.fullArea}prepend(e){this.missingTiles=e.missingTiles.concat(this.missingTiles),this.coveredArea+=e.coveredArea,this.fullArea+=e.fullArea}}class E{constructor(e,t,s){this._tileInfo=e,this._extent=null,this.info=new S(t),null!=s&&(this._extent=c(s))}addMissing(e,t,s,i){const r=new _(null,e,t,s);this._tileInfo.updateTileInfo(r,f.ExtrapolateOptions.POWER_OF_TWO),null==r.extent||null!=this._extent&&!u(this._extent,r.extent)||(this.info.missingTiles.push({data:r,resolution:i}),this.info.coveredArea-=a(r.extent))}}const T=.18751;var w;!function(e){e[e.ADDED=0]=\"ADDED\",e[e.REMOVED=1]=\"REMOVED\",e[e.UNCHANGED=2]=\"UNCHANGED\"}(w||(w={}));export{g as FeatureServiceTileStore,S as ProcessResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Evented.js\";import{createResolver as i,throwIfAborted as r}from\"../../../../../core/promiseUtils.js\";import{watch as s,sync as a,whenOnce as n}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as u}from\"../../../../../core/support/UpdatingHandles.js\";import d from\"../../../../../geometry/SpatialReference.js\";import{fromJSON as c}from\"../../../../../geometry/support/jsonUtils.js\";import{executeQueryForSnapping as h}from\"../../../../../layers/graphics/data/executeQueryForSnapping.js\";import p from\"../../../../../layers/graphics/data/FeatureStore.js\";import{QueryEngine as f}from\"../../../../../layers/graphics/data/QueryEngine.js\";import m from\"../../../../../layers/support/TileInfo.js\";import g from\"../../../../../rest/support/Query.js\";import y from\"../../../../../symbols/support/ElevationInfo.js\";import{getSnappingCandidateElevationAligner as _}from\"../snappingCandidateElevationAlignment.js\";import{getSnappingCandidateElevationFilter as S}from\"../snappingCandidateElevationFilter.js\";import{getSymbologySnappingCandidatesFetcher as F}from\"../symbologySnappingCandidates.js\";import{FeatureServiceTiledFetcher as v}from\"./FeatureServiceTiledFetcher.js\";import{FeatureServiceTileStore as I}from\"./FeatureServiceTileStore.js\";let w=class extends t.EventedAccessor{constructor(){super(...arguments),this._isInitializing=!0,this.remoteClient=null,this._whenSetup=i(),this._elevationAligner=_(),this._elevationFilter=S(),this._symbologyCandidatesFetcher=F(),this._updatingHandles=new u,this._alignPointsInFeatures=async(e,t)=>{const i={query:e},s=await this.remoteClient.invoke(\"alignElevation\",i,{signal:t});return r(t),s},this._getSymbologyCandidates=async(e,t)=>{const i={candidates:e,spatialReference:this._spatialReference.toJSON()},s=await this.remoteClient.invoke(\"getSymbologyCandidates\",i,{signal:t});return r(t),s}}get updating(){return this._isInitializing||this._updatingHandles.updating||this._featureFetcher.updating}destroy(){this._featureFetcher?.destroy(),this._queryEngine?.destroy(),this._featureStore?.clear()}async setup(e){if(this.destroyed)return{result:{}};const{geometryType:t,objectIdField:i,timeInfo:r,fieldsIndex:n}=e.serviceInfo,{hasZ:o}=e,l=d.fromJSON(e.spatialReference);this._spatialReference=l,this._featureStore=new p({...e.serviceInfo,hasZ:o,hasM:!1}),this._featureStore.estimateFeatureUsedMemory=e=>e.usedMemory,this._queryEngine=new f({spatialReference:e.spatialReference,featureStore:this._featureStore,geometryType:t,fieldsIndex:n,hasZ:o,hasM:!1,featureIdInfo:{type:\"object-id\",fieldName:i},timeInfo:r}),this._featureFetcher=new v({store:new I({featureStore:this._featureStore}),url:e.serviceInfo.url,objectIdField:e.serviceInfo.objectIdField,globalIdField:e.serviceInfo.globalIdField,capabilities:e.serviceInfo.capabilities,spatialReference:l,sourceSpatialReference:d.fromJSON(e.serviceInfo.spatialReference),customParameters:e.configuration.customParameters});const u=\"3d\"===e.configuration.viewType;return this._elevationAligner=_(u,{elevationInfo:null!=e.elevationInfo?y.fromJSON(e.elevationInfo):null,alignPointsInFeatures:this._alignPointsInFeatures}),this._elevationFilter=S(u),this.addHandles([s((()=>this._featureFetcher.availability),(e=>this.emit(\"notify-availability\",{availability:e})),a),s((()=>this.updating),(()=>this._notifyUpdating()))]),this._whenSetup.resolve(),this._isInitializing=!1,this.configure(e.configuration)}async configure(e){return await this._updatingHandles.addPromise(this._whenSetup.promise),this._updateFeatureFetcherConfiguration(e),C}async setSuspended(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),r(t),this._featureFetcher.suspended=e,C}async updateOutFields(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),r(t),this._featureFetcher.outFields=new Set(e??[]),C}async fetchCandidates(e,t){await this._whenSetup.promise,r(t);const i=b(e,this._featureStore.hasZ),s=t?.signal,a=await h(this._queryEngine,i,s);r(s);const n=await this._elevationAligner.alignCandidates(a.candidates,d.fromJSON(e.point.spatialReference)??d.WGS84,s);r(s);const o=await this._symbologyCandidatesFetcher.fetch(n,s);r(s);const l=0===o.length?n:n.concat(o);return{result:{candidates:this._elevationFilter.filter(i,l)}}}async updateTiles(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),r(t),this._featureFetcher.tileSize=e.tileSize,this._featureFetcher.tilesOfInterest=e.tiles,this._featureFetcher.tileInfo=null!=e.tileInfo?m.fromJSON(e.tileInfo):null,C}async refresh(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),r(t),this._featureFetcher.refresh(),C}async whenNotUpdating(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),r(t),await n((()=>!this.updating),t),r(t),C}async getDebugInfo(e,t){return r(t),{result:this._featureFetcher.debugInfo}}async handleEdits(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),r(t),await this._updatingHandles.addPromise(this._featureFetcher.handleEdits(e)),r(t),C}async setHistoricMoment(e,t){return this._featureFetcher.setHistoricMoment(e.moment),C}async notifyElevationSourceChange(e,t){return this._elevationAligner.notifyElevationSourceChange(),C}async notifySymbologyChange(e,t){return this._symbologyCandidatesFetcher.notifySymbologyChange(),C}async setSymbologySnappingSupported(e){return this._symbologyCandidatesFetcher=F(e,this._getSymbologyCandidates),C}_updateFeatureFetcherConfiguration(e){this._featureFetcher.filter=null!=e.filter?g.fromJSON(e.filter):null,this._featureFetcher.customParameters=e.customParameters}_notifyUpdating(){this.emit(\"notify-updating\",{updating:this.updating})}};e([o({readOnly:!0})],w.prototype,\"updating\",null),e([o()],w.prototype,\"_isInitializing\",void 0),w=e([l(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorker\")],w);const j=w;function b(e,t){const i=!!t||void 0;if(!e.filter)return{...e,query:{where:\"1=1\",returnZ:i}};const{distance:r,units:s,spatialRel:a,where:n,timeExtent:o,objectIds:l}=e.filter,u={geometry:e.filter.geometry?c(e.filter.geometry):void 0,distance:r,units:s,spatialRel:a,timeExtent:o,objectIds:l,returnZ:i,where:n??\"1=1\"};return{...e,query:u}}const C={result:{}};export{j as default};\n"],"names":["r","t","e","i","s","a","u","E","T","n","j","l","f","o","F","b","I","y","w","q","M","O","S","x","d","c","P","_","v","g","m","C","h","p","C$1"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}