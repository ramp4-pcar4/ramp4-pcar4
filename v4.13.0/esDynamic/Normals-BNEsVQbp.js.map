{"version":3,"file":"Normals-BNEsVQbp.js","sources":["../../node_modules/@arcgis/core/geometry/support/ShortArray.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Normals.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{nativeArrayMaxSize as r}from\"../../core/typedArrayUtil.js\";function n(n){return Array.isArray(n)?n.length<r?n:new Int16Array(n):n.length<r?Array.from(n):n}function t(n){return n<=r?new Array(n):new Int16Array(n)}export{n as compactShortArray,t as newShortArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{n as r,o}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newFloatArray as a}from\"../../../../geometry/support/FloatArray.js\";import{newShortArray as s}from\"../../../../geometry/support/ShortArray.js\";function e(t,r,o,n,a,s=2){const e=1/(Math.abs(o)+Math.abs(n)+Math.abs(a)),c=o*e,f=n*e,u=a<=0?(c>=0?1:-1)*(1-Math.abs(f)):c,h=a<=0?(f>=0?1:-1)*(1-Math.abs(c)):f,m=r*s;t[m]=i(u),t[m+1]=i(h)}function c(t){const r=t.length/3,o=s(2*r);let n=0;for(let a=0;a<r;++a)e(o,a,t[n++],t[n++],t[n++]);return o}function f(t,r){const a=t.length/3,s=new Int16Array(2*a);let c=0;const f=n();for(let n=0;n<a;++n)f[0]=t[c++],f[1]=t[c++],f[2]=t[c++],o(f,f,r),e(s,n,f[0],f[1],f[2]);return s}function u(t,o,n,a=2){const s=n*a,e=m(o[s]),c=m(o[s+1]),f=1-Math.abs(e)-Math.abs(c);return t[2]=f,f<0?(t[0]=(e>=0?1:-1)*(1-Math.abs(c)),t[1]=(c>=0?1:-1)*(1-Math.abs(e))):(t[0]=e,t[1]=c),r(t,t)}function h(t,r=2){const o=t.length/r,s=a(3*o),e=n();let c=0;for(let n=0;n<o;++n)u(e,t,n,r),s[c++]=e[0],s[c++]=e[1],s[c++]=e[2];return s}function i(r){return t(Math.round(32767*r),-32767,32767)}function m(r){return t(r/32767,-1,1)}export{f as compressAndTransformNormals,e as compressNormal,c as compressNormals,m as decodeInt16,u as decompressNormal,h as decompressNormals,i as encodeInt16};\n"],"names":["t","n","r","e","a","s","c","f","u","h","m","i","o"],"mappings":";;AAIkK,SAASA,EAAEC,GAAE;AAAC,SAAOA,KAAGC,IAAE,IAAI,MAAMD,CAAC,IAAE,IAAI,WAAWA,CAAC;AAAC;ACAoH,SAASE,EAAEH,GAAEE,GAAE,GAAED,GAAEG,GAAEC,IAAE,GAAE;AAAC,QAAMF,IAAE,KAAG,KAAK,IAAI,CAAC,IAAE,KAAK,IAAIF,CAAC,IAAE,KAAK,IAAIG,CAAC,IAAGE,IAAE,IAAEH,GAAEI,IAAEN,IAAEE,GAAEK,IAAEJ,KAAG,KAAGE,KAAG,IAAE,IAAE,OAAK,IAAE,KAAK,IAAIC,CAAC,KAAGD,GAAEG,IAAEL,KAAG,KAAGG,KAAG,IAAE,IAAE,OAAK,IAAE,KAAK,IAAID,CAAC,KAAGC,GAAEG,IAAER,IAAEG;AAAE,EAAAL,EAAEU,CAAC,IAAEC,EAAEH,CAAC,GAAER,EAAEU,IAAE,CAAC,IAAEC,EAAEF,CAAC;AAAC;AAAC,SAASH,EAAEN,GAAE;AAAC,QAAME,IAAEF,EAAE,SAAO,GAAE,IAAEK,EAAE,IAAEH,CAAC;AAAE,MAAID,IAAE;AAAE,WAAQG,IAAE,GAAEA,IAAEF,GAAE,EAAEE,EAAE,CAAAD,EAAE,GAAEC,GAAEJ,EAAEC,GAAG,GAAED,EAAEC,GAAG,GAAED,EAAEC,GAAG,CAAC;AAAE,SAAO;AAAC;AAA8K,SAASO,EAAER,GAAEY,GAAEX,GAAEG,IAAE,GAAE;AAAC,QAAMC,IAAEJ,IAAEG,GAAE,IAAEM,EAAEE,EAAEP,CAAC,CAAC,GAAEC,IAAEI,EAAEE,EAAEP,IAAE,CAAC,CAAC,GAAEE,IAAE,IAAE,KAAK,IAAI,CAAC,IAAE,KAAK,IAAID,CAAC;AAAE,SAAON,EAAE,CAAC,IAAEO,GAAEA,IAAE,KAAGP,EAAE,CAAC,KAAG,KAAG,IAAE,IAAE,OAAK,IAAE,KAAK,IAAIM,CAAC,IAAGN,EAAE,CAAC,KAAGM,KAAG,IAAE,IAAE,OAAK,IAAE,KAAK,IAAI,CAAC,OAAKN,EAAE,CAAC,IAAE,GAAEA,EAAE,CAAC,IAAEM,IAAGJ,EAAEF,GAAEA,CAAC;AAAC;AAAyI,SAASW,EAAET,GAAE;AAAC,SAAOF,EAAE,KAAK,MAAM,QAAME,CAAC,GAAE,QAAO,KAAK;AAAC;AAAC,SAASQ,EAAER,GAAE;AAAC,SAAOF,EAAEE,IAAE,OAAM,IAAG,CAAC;AAAC;","x_google_ignoreList":[0,1]}