{"version":3,"file":"SceneLayerWorker-DkHhvDJ-.js","sources":["../../node_modules/@arcgis/core/libs/i3s/enums.js","../../node_modules/@arcgis/core/libs/i3s/I3SModule.js","../../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../../node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar n,e;!function(n){n[n.None=0]=\"None\",n[n.Int16=1]=\"Int16\",n[n.Int32=2]=\"Int32\"}(n||(n={})),function(n){n[n.Replace=0]=\"Replace\",n[n.Outside=1]=\"Outside\",n[n.Inside=2]=\"Inside\",n[n.Finished=3]=\"Finished\"}(e||(e={}));export{n as IndexType,e as ModificationType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as t}from\"../../assets.js\";function e(){return n||(n=new Promise((t=>import(\"../../chunks/i3s.js\").then((t=>t.i)).then((({default:e})=>{const n=e({locateFile:i,onRuntimeInitialized:()=>t(n)});delete n.then})))).catch((t=>{throw t}))),n}function i(e){return t(`esri/libs/i3s/${e}`)}let n;export{e as get};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport s from\"../../../core/Logger.js\";import e from\"../../../core/PooledArray.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r}from\"../../../geometry/projectionUtils.js\";import{projectVectorToVector as i}from\"../../../geometry/projection/projectVectorToVector.js\";import{ModificationType as h}from\"../../../libs/i3s/enums.js\";class n{constructor(s,e,t,o,r,i){this.layout=s,this.interleavedVertexData=e,this.indices=t,this.hasColors=o,this.hasModifications=r,this.positionData=i}}class p{constructor(s,e,t,o,r,i,h){this.componentOffsets=s,this.featureIds=e,this.anchorIds=t,this.anchors=o,this.transformedGeometry=r,this.globalTrafo=i,this.obb=h}}class a extends o{constructor(s){super(\"SceneLayerWorker\",\"process\",{process:s=>[s.geometryBuffer],project:s=>[s.positions.buffer],transformNormals:s=>[s.normals.buffer]},s,{hasInitialize:!0})}setModifications(s,e,t,o){const r={context:s,modifications:f(e,t,o),isGeodetic:o.isGeographic};this.broadcast(r,\"setModifications\")}setLegacySchema(s,e){const t=JSON.stringify(e);return this.broadcast({context:s,jsonSchema:t},\"setLegacySchema\")}destroyContext(s){return this.broadcast(s,\"destroyContext\")}project(s,e){return this.invokeMethod(\"project\",s,e)}transformNormals(s,e){return this.invokeMethod(\"transformNormals\",s,e)}}const u=new e({deallocator:null}),c=t();function f(e,t,o){u.clear();let n=1/0,p=1/0,a=-1/0,f=-1/0,l=!1;for(const d of t){const e=\"clip\"===d.type?h.Inside:\"mask\"===d.type?h.Outside:h.Replace,t=d.geometry;let m=s=>s;if(t.spatialReference){if(!r(t.spatialReference,o)){s.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\").warn(\"Can't project modification polygon into layer spatial reference, ignoring modification\");continue}m=s=>(i(s,t.spatialReference,c,o),c)}else t.hasZ||(c[2]=0,m=s=>(c[0]=s[0],c[1]=s[1],c));l=l||e===h.Outside,u.push(e),u.push(t.rings.length);for(const s of t.rings){u.push(s.length);for(const e of s){const s=m(e);u.push(s[0]),u.push(s[1]),u.push(s[2]),n=Math.min(n,s[0]),p=Math.min(p,s[1]),a=Math.max(a,s[0]),f=Math.max(f,s[1])}}}if(null!=e)if(l){const s=1e-4;u.push(h.Inside),u.push(2),u.push(4),u.push(n-s),u.push(p-s),u.push(0),u.push(a+s),u.push(p-s),u.push(0),u.push(a+s),u.push(f+s),u.push(0),u.push(n-s),u.push(f+s),u.push(0),u.push(4),u.push(e[0]),u.push(e[1]),u.push(0),u.push(e[2]),u.push(e[1]),u.push(0),u.push(e[2]),u.push(e[3]),u.push(0),u.push(e[0]),u.push(e[3]),u.push(0)}else u.push(h.Outside),u.push(1),u.push(4),u.push(e[0]),u.push(e[1]),u.push(0),u.push(e[2]),u.push(e[1]),u.push(0),u.push(e[2]),u.push(e[3]),u.push(0),u.push(e[0]),u.push(e[3]),u.push(0);u.push(h.Finished);const m=new Float64Array(u.length);for(let s=0;s<u.length;++s)m[s]=u.at(s);return m}export{a as I3SMeshWorkerHandle,p as TransformedData,n as TransformedGeometry,f as toWasmModification};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{f as i}from\"../../../../chunks/sphere.js\";import{invalidateMbs as n}from\"./I3SUtil.js\";import{ElevationRange as t}from\"../../support/ElevationRange.js\";class s extends t{constructor(e,n){super(NaN,NaN),this.id=e,this.serviceMbsInIndexSR=n,this.serviceMbsInRenderSR=i(0,0,0,-1)}invalidateServiceBVsInRenderSR(){n(this.serviceMbsInRenderSR),this.serviceObbInRenderSR?.invalidate()}shareServiceBVsInRenderSRWith(e){this.serviceObbInRenderSR=e.serviceObbInRenderSR,this.serviceMbsInRenderSR=e.serviceMbsInRenderSR}}var o,r,a,d,c;!function(e){e[e.Unmodified=0]=\"Unmodified\",e[e.Culled=1]=\"Culled\",e[e.NotChecked=2]=\"NotChecked\"}(o||(o={})),function(e){e[e.Unmodified=0]=\"Unmodified\",e[e.PotentiallyModified=1]=\"PotentiallyModified\",e[e.Culled=2]=\"Culled\",e[e.Unknown=3]=\"Unknown\",e[e.NotChecked=4]=\"NotChecked\"}(r||(r={}));class h extends s{constructor(i,n,t,s,o,d,c,h,l,u){super(i,t),this.index=n,this.childCount=s,this.level=o,this.resources=d,this.version=c,this.lodMetric=h,this.maxError=l,this.numFeatures=u,this.failed=!1,this.cacheState=a.Unknown,this.vertexCount=0,this.memory=0,this.childrenLoaded=0,this.hasModifications=!1,this.imModificationImpact=r.NotChecked,this.elevationAgnosticBoundingVolume=e(0,0,0,-1)}invalidateServiceBVsInRenderSR(){super.invalidateServiceBVsInRenderSR(),this.elevationAgnosticBoundingVolume[3]=-1}}!function(e){e[e.Unknown=0]=\"Unknown\",e[e.Uncached=1]=\"Uncached\",e[e.Cached=2]=\"Cached\"}(a||(a={})),function(e){e[e.None=0]=\"None\",e[e.MaxScreenThreshold=1]=\"MaxScreenThreshold\",e[e.ScreenSpaceRelative=2]=\"ScreenSpaceRelative\",e[e.RemovedFeatureDiameter=3]=\"RemovedFeatureDiameter\",e[e.DistanceRangeFromDefaultCamera=4]=\"DistanceRangeFromDefaultCamera\"}(d||(d={})),function(e){e[e.Hole=0]=\"Hole\",e[e.Leaf=1]=\"Leaf\"}(c||(c={}));class l{constructor(e,i,n,t){this.nodeHasLOD=e,this.isChosen=i,this.lodLevel=n,this.version=t}}export{a as CacheState,d as LodMetric,h as Node,s as NodeBase,o as NodeFilterImpact,r as NodeIMModificationImpact,c as NodeState,l as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{hasScaling as e}from\"../../../core/mathUtils.js\";import r from\"../../../geometry/SpatialReference.js\";import t from\"../../../geometry/support/MeshGeoreferencedVertexSpace.js\";import o from\"../../../geometry/support/MeshLocalVertexSpace.js\";import{b as n,n as s}from\"../../../chunks/vec3.js\";import{IndexType as i}from\"../../../libs/i3s/enums.js\";import{get as a}from\"../../../libs/i3s/I3SModule.js\";import{TransformedGeometry as f,TransformedData as c}from\"./I3SMeshWorkerHandle.js\";import{NodeIMModificationImpact as l}from\"./i3s/I3SNode.js\";async function u(e){E=await U();const r=[e.geometryBuffer];return{result:A(E,e,r),transferList:r}}async function m(e){E=await U();const r=[e.geometryBuffer],{geometryBuffer:t}=e,o=t.byteLength,n=E._malloc(o),s=new Uint8Array(E.HEAPU8.buffer,n,o);s.set(new Uint8Array(t));const i=E.dracoDecompressPointCloudData(n,s.byteLength);if(E._free(n),i.error.length>0)throw new Error(`i3s.wasm: ${i.error}`);const a=i.featureIds?.length>0?i.featureIds.slice():null,f=i.positions.slice();return a&&r.push(a.buffer),r.push(f.buffer),{result:{positions:f,featureIds:a},transferList:r}}async function y(e){await U(),S(e);const r={buffer:e.buffer};return{result:r,transferList:[r.buffer]}}async function p(e){await U(),j(e)}async function d(e){E=await U(),E.setLegacySchema(e.context,e.jsonSchema)}async function h(e){const{localMatrix:n,origin:s,positions:i,vertexSpace:a}=e,f=r.fromJSON(e.inSpatialReference),c=r.fromJSON(e.outSpatialReference);let l;const[{projectBuffer:u},{initializeProjection:m}]=await Promise.all([import(\"../../../geometry/projection/projectBuffer.js\"),import(\"../../../geometry/projectionUtils.js\")]);await m(f,c);const y=[0,0,0];if(!u(s,f,0,y,c,0))throw new Error(\"Failed to project\");if(\"georeferenced\"===a.type&&null==a.origin){if(l=new Float64Array(i.length),!u(i,f,0,l,c,0,l.length/3))throw new Error(\"Failed to project\")}else{const e=\"georeferenced\"===a.type?t.fromJSON(a):o.fromJSON(a),{projectMeshVertexPositions:r}=await import(\"../../../geometry/support/meshUtils/projectMeshVertexPositions.js\"),s=r({vertexAttributes:{position:i},transform:n?{localMatrix:n}:void 0,vertexSpace:e,spatialReference:f},c);if(!s)throw new Error(\"Failed to project\");l=s}const p=l.length,[d,h,b]=y;for(let r=0;r<p;r+=3)l[r]-=d,l[r+1]-=h,l[r+2]-=b;return{result:{projected:l,original:i,projectedOrigin:y},transferList:[l.buffer,i.buffer]}}async function b({normalMatrix:r,normals:t}){const o=new Float32Array(t.length);return n(o,t,r),e(r)&&s(o,o),{result:{transformed:o,original:t},transferList:[o.buffer,t.buffer]}}function g(e){x(e)}let w,E;function j(e){if(!E)return;const r=e.modifications,t=E._malloc(8*r.length),o=new Float64Array(E.HEAPU8.buffer,t,r.length);for(let n=0;n<r.length;++n)o[n]=r[n];E.setModifications(e.context,t,r.length,e.isGeodetic),E._free(t)}function A(e,r,t){const{context:o,globalTrafo:n,mbs:s,obbData:a,elevationOffset:l,geometryBuffer:u,geometryDescriptor:m,indexToVertexProjector:y,vertexToRenderProjector:p}=r,d=e._malloc(u.byteLength),h=33,b=e._malloc(h*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(e.HEAPU8.buffer,d,u.byteLength);g.set(new Uint8Array(u));const w=new Float64Array(e.HEAPU8.buffer,b,h);_(w,[NaN,NaN,NaN]);let E=w.byteOffset+3*w.BYTES_PER_ELEMENT,j=new Float64Array(w.buffer,E);_(j,n),E+=16*w.BYTES_PER_ELEMENT,j=new Float64Array(w.buffer,E),_(j,s),E+=4*w.BYTES_PER_ELEMENT,a&&(j=new Float64Array(w.buffer,E),_(j,a));const A=m,L={isDraco:!1,isLegacy:!1,color:r.layouts.some((e=>e.some((e=>\"color\"===e.name)))),normal:r.needNormals&&r.layouts.some((e=>e.some((e=>\"normalCompressed\"===e.name)))),uv0:r.layouts.some((e=>e.some((e=>\"uv0\"===e.name)))),uvRegion:r.layouts.some((e=>e.some((e=>\"uvRegion\"===e.name)))),featureIndex:A.featureIndex},S=e.process(o,!!r.obbData,d,g.byteLength,A,L,b,l,y,p,r.normalReferenceFrame);if(e._free(b),e._free(d),S.error.length>0)throw new Error(`i3s.wasm: ${S.error}`);if(S.discarded)return null;const x=S.componentOffsets.length>0?S.componentOffsets.slice():null,P=S.featureIds.length>0?S.featureIds.slice():null,U=S.anchorIds.length>0?Array.from(S.anchorIds):null,M=S.anchors.length>0?Array.from(S.anchors):null,N=S.interleavedVertedData.slice().buffer,I=S.indicesType===i.Int16?new Uint16Array(S.indices.buffer,S.indices.byteOffset,S.indices.byteLength/2).slice():new Uint32Array(S.indices.buffer,S.indices.byteOffset,S.indices.byteLength/4).slice(),F=S.positions.slice(),{buffer:T,byteOffset:B,byteLength:O}=S.positionIndices,R=S.positionIndicesType===i.Int16?new Uint16Array(T,B,O/2).slice():new Uint32Array(T,B,O/4).slice(),v=new f(r.layouts[0],N,I,S.hasColors,S.hasModifications,{data:F,indices:R});return P&&t.push(P.buffer),x&&t.push(x.buffer),t.push(N),t.push(I.buffer),t.push(F.buffer),t.push(R.buffer),new c(x,P,U,M,v,n,S.obb)}function L(e){return 0===e?l.Unmodified:1===e?l.PotentiallyModified:2===e?l.Culled:l.Unknown}function S(e){if(!E)return;const{context:r,buffer:t}=e,o=E._malloc(t.byteLength),n=t.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(E.HEAPU8.buffer,o,n),i=new Float64Array(t);s.set(i),E.filterOBBs(r,o,n),i.set(s),E._free(o)}function x(e){E&&0===E.destroy(e)&&(E=null)}function _(e,r){for(let t=0;t<r.length;++t)e[t]=r[t]}async function P(){E||await U()}async function U(){return E||(E=await(w??=a())),E}const M={transform:(e,r)=>E&&A(E,e,r),destroy:x};export{g as destroyContext,m as dracoDecompressPointCloudData,y as filterObbsForModifications,S as filterObbsForModificationsSync,P as initialize,L as interpretObbModificationResults,u as process,h as project,d as setLegacySchema,p as setModifications,j as setModificationsSync,M as test,b as transformNormals};\n"],"names":["n","e","t","i","s","o","r","p$1","h","a","d","c","u","E","U","A","m","f","y","S","p","j","l","b","g","x","w","_","L","P","M","N","I","F","B","O","R","v"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}