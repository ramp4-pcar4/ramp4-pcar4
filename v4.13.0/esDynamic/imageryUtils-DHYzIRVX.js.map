{"version":3,"file":"imageryUtils-DHYzIRVX.js","sources":["../../node_modules/@arcgis/core/layers/save/imageryUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getPrimaryRasters as r}from\"../support/rasterDatasets/datasetUtils.js\";import{getWGS84ExtentForItem as a,removeTypeKeyword as s,typeKeyword as i,toggleTypeKeyword as y}from\"../../portal/support/portalItemUtils.js\";const l=\"Image Service\",o=\"imagery-layer-save\",m=\"imagery-layer-save-as\",n=\"imagery-tile-layer-save\",c=\"imagery-tile-layer-save-as\",p=\"WCS\",u=\"wcs-layer-save\",g=\"wcs-layer-save-as\";function v(e){if(\"imagery\"===e.type||\"wcs\"===e.type)return{isValid:!0};const{raster:t}=e,a=r(t)[0];return{isValid:\"RasterTileServer\"===a?.datasetFormat&&(\"Raster\"===a.tileType||\"Map\"===a.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function f(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function d(e,t){const{parsedUrl:r,title:l,fullExtent:o}=e;t.url=r.path,t.title||=l;try{t.extent=await a(o)}catch{t.extent=void 0}s(t,i.METADATA),y(t,i.TILED_IMAGERY,\"imagery-tile\"===e.type)}async function I(t,r){const a=\"imagery\"===t.type?o:\"imagery-tile\"===t.type?n:u,s=\"wcs\"===t.type?p:l;return e({layer:t,itemType:s,validateLayer:v,createItemData:f,errorNamePrefix:a},r)}async function T(e,r,a){const s=\"imagery\"===e.type?m:\"imagery-tile\"===e.type?c:g,i=\"wcs\"===e.type?p:l;return t({layer:e,itemType:i,validateLayer:v,createItemData:f,errorNamePrefix:s,newItem:r,setItemProperties:d},a)}export{I as save,T as saveAs};\n"],"names":["l","o","m","n","c","p","u","g","v","t","a","r","f","d","s","i","y","I","e","T"],"mappings":";;;AAI2Q,MAAMA,IAAE,iBAAgBC,IAAE,sBAAqBC,IAAE,yBAAwBC,IAAE,2BAA0BC,IAAE,8BAA6BC,IAAE,OAAMC,IAAE,kBAAiBC,IAAE;AAAoB,SAASC,EAAE,GAAE;AAAC,MAAe,EAAE,SAAd,aAA4B,EAAE,SAAV,MAAe,QAAM,EAAC,SAAQ,GAAE;AAAE,QAAK,EAAC,QAAOC,EAAC,IAAE,GAAEC,IAAEC,EAAEF,CAAC,EAAE,CAAC;AAAE,SAAM,EAAC,SAA6BC,GAAG,kBAAxB,uBAAmDA,EAAE,aAAb,YAA+BA,EAAE,aAAV,QAAoB,cAAa,mEAAkE;AAAC;AAAC,SAASE,EAAE,GAAE;AAAC,QAAMH,IAAE,EAAE;AAAU,SAAO,QAAQ,QAAQA,KAAG,OAAO,KAAKA,CAAC,EAAE,SAAOA,IAAE,IAAI;AAAC;AAAC,eAAeI,EAAE,GAAEJ,GAAE;AAAC,QAAK,EAAC,WAAU,GAAE,OAAMT,GAAE,YAAWC,EAAC,IAAE;AAAE,EAAAQ,EAAE,MAAI,EAAE,MAAKA,EAAE,UAAQT;AAAE,MAAG;AAAC,IAAAS,EAAE,SAAO,MAAMC,EAAET,CAAC;AAAA,EAAC,QAAM;AAAC,IAAAQ,EAAE,SAAO;AAAA,EAAM;AAACK,EAAAA,EAAEL,GAAEM,EAAE,QAAQ,GAAEC,EAAEP,GAAEM,EAAE,eAA+B,EAAE,SAAnB,cAAuB;AAAC;AAAC,eAAeE,EAAER,GAAEE,GAAE;AAAC,QAAMD,IAAcD,EAAE,SAAd,YAAmBR,IAAmBQ,EAAE,SAAnB,iBAAwBN,IAAEG,GAAEQ,IAAUL,EAAE,SAAV,QAAeJ,IAAEL;AAAE,SAAOkB,EAAE,EAAC,OAAMT,GAAE,UAASK,GAAE,eAAcN,GAAE,gBAAeI,GAAE,iBAAgBF,EAAC,GAAEC,CAAC;AAAC;AAAC,eAAeQ,EAAE,GAAER,GAAED,GAAE;AAAC,QAAMI,IAAc,EAAE,SAAd,YAAmBZ,IAAmB,EAAE,SAAnB,iBAAwBE,IAAEG,GAAE,IAAU,EAAE,SAAV,QAAeF,IAAEL;AAAE,SAAOS,EAAE,EAAC,OAAM,GAAE,UAAS,GAAE,eAAcD,GAAE,gBAAeI,GAAE,iBAAgBE,GAAE,SAAQH,GAAE,mBAAkBE,EAAC,GAAEH,CAAC;AAAC;","x_google_ignoreList":[0]}