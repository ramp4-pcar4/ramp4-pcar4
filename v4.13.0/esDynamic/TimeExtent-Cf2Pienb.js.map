{"version":3,"file":"TimeExtent-Cf2Pienb.js","sources":["../../node_modules/@arcgis/core/core/timeUtils.js","../../node_modules/@arcgis/core/chunks/TimeExtent.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{resolveTimeZone as e}from\"../intl/date.js\";import{system as t}from\"../time/constants.js\";import{IANAZone as n,DateTime as s}from\"luxon\";const r={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function o(r,o,i,c=t){const u=new n(e(c)),a=s.fromJSDate(r,{zone:u}),l=\"decades\"===i||\"centuries\"===i?\"year\":T(i);return\"decades\"===i&&(o*=10),\"centuries\"===i&&(o*=100),a.plus({[l]:o}).toJSDate()}function i(e,t,n=\"milliseconds\"){const s=e.getTime(),r=m(t,n,\"milliseconds\");return new Date(s+r)}function c(r,o,i=t){const c=new n(e(i)),u=s.fromJSDate(r,{zone:c});if(\"decades\"===o||\"centuries\"===o){const e=u.startOf(\"year\"),{year:t}=e,n=t-t%(\"decades\"===o?10:100);return e.set({year:n}).toJSDate()}const a=T(o);return u.startOf(a).toJSDate()}function u(e,t,n=\"milliseconds\"){const s=new Date(m(t,n,\"milliseconds\"));return s.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),s}function a(e,t=\"milliseconds\"){const n=m(e.getUTCHours(),\"hours\",\"milliseconds\"),s=m(e.getUTCMinutes(),\"minutes\",\"milliseconds\"),r=m(e.getUTCSeconds(),\"seconds\",\"milliseconds\");return m(n+s+r+e.getUTCMilliseconds(),\"milliseconds\",t)}function l(e,t){const n=new Date(e.getTime());return n.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n}function d(e){const t=new Date(0);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t}function m(e,t,n){if(0===e)return 0;return e*r[t]/r[n]}function f(e){return e instanceof Date&&!isNaN(e.getTime())}function g(e,t){return e&&t?e.intersection(t):e||t}function T(e){switch(e){case\"milliseconds\":return\"millisecond\";case\"seconds\":return\"second\";case\"minutes\":return\"minute\";case\"hours\":return\"hour\";case\"days\":return\"day\";case\"weeks\":return\"week\";case\"months\":return\"month\";case\"years\":return\"year\"}}export{m as convertTime,f as isValidDate,u as makeUTCTime,g as mergeTimeExtents,r as millisecondsPerTimeUnit,o as offsetDate,i as offsetDateUTC,l as resetUTCDate,a as timeSinceUTCMidnight,c as truncateDate,d as truncateLocalTime};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"./tslib.es6.js\";import e from\"../core/JSONSupport.js\";import{truncateDate as r,offsetDate as s}from\"../core/timeUtils.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{reader as i}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../core/accessorSupport/decorators/writer.js\";import{system as a}from\"../time/constants.js\";var m;let u=class extends e{static{m=this}static get allTime(){return p}static get empty(){return d}static fromArray(t){return new m({start:null!=t[0]?new Date(t[0]):t[0],end:null!=t[1]?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(m.allTime)}get isEmpty(){return this.equals(m.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new m({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,s=t.start?.getTime()??t.start,n=t.end?.getTime()??t.end;return e===s&&r===n}expandTo(t,e=a){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=r(n,t,e));let i=this.end;if(i){const n=r(i,t,e);i=i.getTime()===n.getTime()?n:s(n,1,t,e)}return new m({start:n,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return m.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,s=t.start?.getTime()??-1/0,n=t.end?.getTime()??1/0;let i,l;return s>=e&&s<=r?i=s:e>=s&&e<=n&&(i=e),r>=s&&r<=n?l=r:n>=e&&n<=r&&(l=n),null==i||null==l||isNaN(i)||isNaN(l)?m.empty:new m({start:i===-1/0?null:new Date(i),end:l===1/0?null:new Date(l)})}offset(t,e,r=a){if(this.isEmpty||this.isAllTime)return this.clone();const n=new m,{start:i,end:l}=this;return null!=i&&(n.start=s(i,t,e,r)),null!=l&&(n.end=s(l,t,e,r)),n}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return p.clone();const e=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,r=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new m({start:e,end:r})}};t([n({type:Date,json:{write:{allowNull:!0}}})],u.prototype,\"end\",void 0),t([i(\"end\")],u.prototype,\"readEnd\",null),t([o(\"end\")],u.prototype,\"writeEnd\",null),t([n({readOnly:!0,json:{read:!1}})],u.prototype,\"isAllTime\",null),t([n({readOnly:!0,json:{read:!1}})],u.prototype,\"isEmpty\",null),t([n({type:Date,json:{write:{allowNull:!0}}})],u.prototype,\"start\",void 0),t([i(\"start\")],u.prototype,\"readStart\",null),t([o(\"start\")],u.prototype,\"writeStart\",null),u=m=t([l(\"esri.time.TimeExtent\")],u);const p=new u,d=new u({start:void 0,end:void 0});export{u as T,u as a};\n"],"names":["r","o","i","c","t","u","n","e","a","s","T","m","g","p","d","l"],"mappings":"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","x_google_ignoreList":[0,1]}