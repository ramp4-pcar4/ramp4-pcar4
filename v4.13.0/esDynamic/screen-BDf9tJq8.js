import{eM as b,eN as x,r as q,f3 as w,f5 as T,eQ as j,f4 as A,eS as p,dq as s,eV as i,f8 as C,eR as F,eU as n,f9 as c,dp as d,eX as M,eW as N,f7 as S,e_ as U,eT as V,eY as m}from"./main-BFDurRCu.js";const W=["content"],B=b({__name:"screen",props:{panel:{type:Object,required:!0}},setup(v){const f=c(()=>import("./header-CiSsGrJL.js")),g=c(()=>import("./item-DY-NvnDU.js")),{t:r}=x(),y=A("iApi"),e=q(),l=()=>{e.value._tippy.hide()},u=t=>{t.key==="Tab"&&e.value?.matches(":focus")&&e.value._tippy.show()},h=t=>{const a=new CustomEvent("refocusLegendItem",{detail:{focusItem:t}});e.value?.dispatchEvent(a)};w(()=>{e.value?.addEventListener("blur",l),e.value?.addEventListener("keyup",u)}),T(()=>{e.value?.removeEventListener("blur",l),e.value?.removeEventListener("keyup",u)});const _=j(()=>{const t=y.fixture.get("legend");return t?[...t.getLegend()]:[]});return(t,a)=>{const E=V("panel-screen"),k=m("focus-list"),I=m("tippy");return s(),p(E,{panel:v.panel},{header:i(()=>[S(U(n(r)("legend.title")),1)]),content:i(()=>[C(n(f)),F((s(),d("div",{content:n(r)("panels.controls.items"),ref_key:"el",ref:e},[(s(!0),d(M,null,N(_.value,o=>(s(),p(n(g),{legendItem:o,key:o.uid,onFocusItem:a[0]||(a[0]=(L,D)=>h(L))},null,8,["legendItem"]))),128))],8,W)),[[k],[I,{trigger:"manual",placement:"top-end",touch:!1,maxWidth:190}]])]),_:1},8,["panel"])}}});export{B as default};
