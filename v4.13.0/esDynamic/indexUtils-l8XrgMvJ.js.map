{"version":3,"file":"indexUtils-l8XrgMvJ.js","sources":["../../node_modules/@arcgis/core/chunks/vec2.js","../../node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js","../../node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isTypedArray as e,isFloat as t,maximumValue as r,isSigned as f}from\"../core/typedArrayUtil.js\";function o(e,t){n(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function n(o,n,l=2,u=l){const i=n.length/2;let a=0,d=0;if(!e(n)||t(n)){for(let e=0;e<i;++e)o[a]=n[d],o[a+1]=n[d+1],a+=l,d+=u;return}const c=r(n);if(f(n))for(let e=0;e<i;++e)o[a]=Math.max(n[d]/c,-1),o[a+1]=Math.max(n[d+1]/c,-1),a+=l,d+=u;else for(let e=0;e<i;++e)o[a]=n[d]/c,o[a+1]=n[d+1]/c,a+=l,d+=u}function l(e,t,r,f){const o=e.typedBuffer,n=e.typedBufferStride,l=f?.count??e.count;let u=(f?.dstIndex??0)*n;for(let i=0;i<l;++i)o[u]=t,o[u+1]=r,u+=n}const u=Object.freeze(Object.defineProperty({__proto__:null,fill:l,normalizeIntegerBuffer:n,normalizeIntegerBufferView:o},Symbol.toStringTag,{value:\"Module\"}));export{n as a,l as f,o as n,u as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport r from\"../../../request.js\";import{result as e}from\"../../../core/asyncUtils.js\";import t from\"../../../core/Error.js\";import{throwIfAborted as a,throwIfAbortError as o}from\"../../../core/promiseUtils.js\";import{isDataProtocol as s,dataToArrayBuffer as i}from\"../../../core/urlUtils.js\";class n{constructor(r){this._streamDataRequester=r}async loadJSON(r,e){return this._load(\"json\",r,e)}async loadBinary(r,e){return s(r)?(a(e),i(r)):this._load(\"binary\",r,e)}async loadImage(r,e){return this._load(\"image\",r,e)}async _load(a,s,i){if(null==this._streamDataRequester)return(await r(s,{responseType:m[a]})).data;const n=await e(this._streamDataRequester.request(s,a,i));if(!0===n.ok)return n.value;throw o(n.error),new t(\"glt-loader-request-error\",`Request for resource failed: ${n.error}`)}}const m={image:\"image\",binary:\"array-buffer\",json:\"json\",\"image+type\":void 0};export{n as DefaultLoadingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isUint8Array as r}from\"../../../../core/typedArrayUtil.js\";import{newIndexArray as t,getContinuousIndexArray as e}from\"../../../../geometry/support/Indices.js\";import{PrimitiveType as n}from\"../../../webgl/enums.js\";function o(r,t){switch(t){case n.TRIANGLES:return f(r);case n.TRIANGLE_STRIP:return u(r);case n.TRIANGLE_FAN:return i(r)}}function f(t){return\"number\"==typeof t?e(t):r(t)?new Uint16Array(t):t}function u(r){const e=\"number\"==typeof r?r:r.length;if(e<3)return[];const n=e-2,o=t(3*n);if(\"number\"==typeof r){let r=0;for(let t=0;t<n;t+=1)t%2==0?(o[r++]=t,o[r++]=t+1,o[r++]=t+2):(o[r++]=t+1,o[r++]=t,o[r++]=t+2)}else{let t=0;for(let e=0;e<n;e+=1)e%2==0?(o[t++]=r[e],o[t++]=r[e+1],o[t++]=r[e+2]):(o[t++]=r[e+1],o[t++]=r[e],o[t++]=r[e+2])}return o}function i(r){const t=\"number\"==typeof r?r:r.length;if(t<3)return new Uint16Array(0);const e=t-2,n=e<=65536?new Uint16Array(3*e):new Uint32Array(3*e);if(\"number\"==typeof r){let r=0;for(let t=0;t<e;++t)n[r++]=0,n[r++]=t+1,n[r++]=t+2;return n}const o=r[0];let f=r[1],u=0;for(let i=0;i<e;++i){const t=r[i+2];n[u++]=o,n[u++]=f,n[u++]=t,f=t}return n}export{o as convertPrimitiveToTriangles};\n"],"names":["o","n","l","u","i","a","d","e","t","c","r","f","s","m"],"mappings":"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","x_google_ignoreList":[0,1,2]}