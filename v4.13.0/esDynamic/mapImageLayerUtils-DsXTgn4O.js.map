{"version":3,"file":"mapImageLayerUtils-DsXTgn4O.js","sources":["../../node_modules/@arcgis/core/layers/save/mapImageLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,removeTypeKeyword as a,typeKeyword as n,addTypeKeyword as s,toggleTypeKeyword as i}from\"../../portal/support/portalItemUtils.js\";const o=\"Map Service\",l=\"map-image-layer-save\",m=\"map-image-layer-save-as\";function c(e){return{isValid:\"map-image\"===e.type&&!e.sourceJSON?.tileInfo,errorMessage:\"Layer.type should be 'map-image' and reference a dynamic (non-cached) map service\"}}function p(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}function u(e,t){return f(e,t),Promise.resolve()}async function y(e,t){const{parsedUrl:s,title:i,fullExtent:o}=e;t.url=s.path,t.title||=i,t.extent=o?await r(o):null,a(t,n.METADATA),f(e,t)}function f(e,t){s(t,n.DYNAMIC);const r=e.sublayers?.length??0;i(t,n.MULTI_LAYER,r>1),i(t,n.SINGLE_LAYER,1===r)}async function v(t,r){return e({layer:t,itemType:o,validateLayer:c,createItemData:p,errorNamePrefix:l,setItemProperties:u},r)}async function I(e,r,a){return t({layer:e,itemType:o,validateLayer:c,createItemData:p,errorNamePrefix:m,newItem:r,setItemProperties:y},a)}export{v as save,I as saveAs};\n"],"names":["o","l","m","c","e","p","t","u","f","y","s","i","r","a","n","v","I"],"mappings":";;AAIiN,MAAMA,IAAE,eAAcC,IAAE,wBAAuBC,IAAE;AAA0B,SAASC,EAAEC,GAAE;AAAC,SAAM,EAAC,SAAsBA,EAAE,SAAhB,eAAsB,CAACA,EAAE,YAAY,UAAS,cAAa,oFAAmF;AAAC;AAAC,SAASC,EAAED,GAAE;AAAC,QAAME,IAAEF,EAAE;AAAU,SAAO,QAAQ,QAAQE,KAAG,OAAO,KAAKA,CAAC,EAAE,SAAOA,IAAE,IAAI;AAAC;AAAC,SAASC,EAAEH,GAAEE,GAAE;AAAC,SAAOE,EAAEJ,GAAEE,CAAC,GAAE,QAAQ,QAAO;AAAE;AAAC,eAAeG,EAAEL,GAAEE,GAAE;AAAC,QAAK,EAAC,WAAUI,GAAE,OAAMC,GAAE,YAAWX,EAAC,IAAEI;AAAE,EAAAE,EAAE,MAAII,EAAE,MAAKJ,EAAE,UAAQK,GAAEL,EAAE,SAAON,IAAE,MAAMY,EAAEZ,CAAC,IAAE,MAAKa,EAAEP,GAAEQ,EAAE,QAAQ,GAAEN,EAAEJ,GAAEE,CAAC;AAAC;AAAC,SAASE,EAAEJ,GAAEE,GAAE;AAACI,EAAAA,EAAEJ,GAAEQ,EAAE,OAAO;AAAE,QAAM,IAAEV,EAAE,WAAW,UAAQ;AAAEO,EAAAA,EAAEL,GAAEQ,EAAE,aAAY,IAAE,CAAC,GAAEH,EAAEL,GAAEQ,EAAE,cAAiB,MAAJ,CAAK;AAAC;AAAC,eAAeC,EAAET,GAAEM,GAAE;AAAC,SAAOR,EAAE,EAAC,OAAME,GAAE,UAASN,GAAE,eAAcG,GAAE,gBAAeE,GAAE,iBAAgBJ,GAAE,mBAAkBM,EAAC,GAAEK,CAAC;AAAC;AAAC,eAAeI,EAAEZ,GAAEQ,GAAEC,GAAE;AAAC,SAAOP,EAAE,EAAC,OAAMF,GAAE,UAASJ,GAAE,eAAcG,GAAE,gBAAeE,GAAE,iBAAgBH,GAAE,SAAQU,GAAE,mBAAkBH,EAAC,GAAEI,CAAC;AAAC;","x_google_ignoreList":[0]}