{"version":3,"file":"rasterUtils-CV4tTwvB.js","sources":["../../node_modules/@arcgis/core/views/webgl/rasterUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ZEROS as t}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{SizedPixelFormat as e,PixelType as n,TextureSamplingMode as a,TextureWrapMode as i,PixelFormat as r}from\"./enums.js\";import{Texture as u}from\"./Texture.js\";import{TextureDescriptor as o}from\"./TextureDescriptor.js\";function s(t,s,m=\"nearest\",l=!1){const c=!(l&&\"u8\"===s.pixelType),f=c?n.FLOAT:n.UNSIGNED_BYTE,p=null==s.pixels||0===s.pixels.length?null:c?s.getAsRGBAFloat():s.getAsRGBA(),_=t.capabilities.textureFloatLinear,g=new o;return g.width=s.width,g.height=s.height,g.internalFormat=c?e.RGBA32F:r.RGBA,g.samplingMode=!_||\"bilinear\"!==m&&\"cubic\"!==m?a.NEAREST:a.LINEAR,g.dataType=f,g.wrapMode=i.CLAMP_TO_EDGE,new u(t,g,p)}function m(t,r){const{spacing:s,offsets:m,coefficients:l,size:[c,f]}=r,p=s[0]>1,_=new o;_.width=p?4*c:c,_.height=f,_.internalFormat=e.RGBA32F,_.dataType=n.FLOAT,_.samplingMode=a.NEAREST,_.wrapMode=i.CLAMP_TO_EDGE;const g=new Float32Array(p?c*f*16:2*m.length);if(p&&null!=l)for(let e=0,n=0;e<l.length;e++)g[n++]=l[e],e%3==2&&(g[n++]=1);else for(let e=0;e<f;e++)for(let t=0;t<c;t++){const n=4*(e*c+t),a=2*(t*f+e);g[n]=m[a],g[n+1]=m[a+1],g[n+3]=-1===m[a]?0:1}return new u(t,_,g)}function l(t,e){const n=new o;return n.internalFormat=r.RGBA,n.width=e.length/4,n.height=1,n.samplingMode=a.NEAREST,n.wrapMode=i.CLAMP_TO_EDGE,new u(t,n,e)}function c(t,e,s){const m=new o;return m.internalFormat=r.ALPHA,m.pixelFormat=r.ALPHA,m.dataType=n.UNSIGNED_BYTE,m.width=s[0],m.height=s[1],m.samplingMode=a.NEAREST,m.wrapMode=i.CLAMP_TO_EDGE,new u(t,m,e)}function f(e,n,a,i=1,r=!0){return{u_flipY:r,u_applyTransform:!!e,u_opacity:i,u_transformSpacing:e?e.spacing:t,u_transformGridSize:e?e.size:t,u_targetImageSize:n,u_srcImageSize:a}}function p(t,e){return{u_colormapOffset:e||0,u_colormapMaxIndex:t?t.length/4-1:0}}function _(t){return{u_bandCount:t.bandCount,u_minOutput:t.minOutput,u_maxOutput:t.maxOutput,u_minCutOff:t.minCutOff,u_maxCutOff:t.maxCutOff,u_factor:t.factor,u_useGamma:t.useGamma,u_gamma:t.gamma,u_gammaCorrection:t.gammaCorrection}}function g(t){return{u_hillshadeType:t.hillshadeType,u_sinZcosAs:t.sinZcosAs,u_sinZsinAs:t.sinZsinAs,u_cosZs:t.cosZs,u_weights:t.weights,u_factor:t.factor,u_minValue:t.minValue,u_maxValue:t.maxValue}}export{l as createColormapTexture,c as createPixelMaskTexture,s as createRasterTexture,m as createTransformTexture,p as getColormapUniforms,f as getCommonUniforms,g as getShadedReliefUniforms,_ as getStretchUniforms};\n"],"names":["s","t","m","l","c","f","n","p","_","g","o","e","r","a","i","u"],"mappings":";;;AAIuS,SAASA,EAAEC,GAAED,GAAEE,IAAE,WAAUC,IAAE,IAAG;AAAC,QAAMC,IAAE,EAAED,KAAUH,EAAE,cAAT,OAAoBK,IAAED,IAAEE,EAAE,QAAMA,EAAE,eAAcC,IAAQP,EAAE,UAAR,QAAoBA,EAAE,OAAO,WAAb,IAAoB,OAAKI,IAAEJ,EAAE,mBAAiBA,EAAE,aAAYQ,IAAEP,EAAE,aAAa,oBAAmBQ,IAAE,IAAIC;AAAE,SAAOD,EAAE,QAAMT,EAAE,OAAMS,EAAE,SAAOT,EAAE,QAAOS,EAAE,iBAAeL,IAAEO,EAAE,UAAQC,EAAE,MAAKH,EAAE,eAAa,CAACD,KAAgBN,MAAb,cAA0BA,MAAV,UAAYW,EAAE,UAAQA,EAAE,QAAOJ,EAAE,WAASJ,GAAEI,EAAE,WAASK,EAAE,eAAc,IAAIC,EAAEd,GAAEQ,GAAEF,CAAC;AAAC;AAAC,SAASL,EAAED,GAAEW,GAAE;AAAC,QAAK,EAAC,SAAQZ,GAAE,SAAQE,GAAE,cAAaC,GAAE,MAAK,CAACC,GAAEC,CAAC,EAAC,IAAEO,GAAEL,IAAEP,EAAE,CAAC,IAAE,GAAEQ,IAAE,IAAIE;AAAE,EAAAF,EAAE,QAAMD,IAAE,IAAEH,IAAEA,GAAEI,EAAE,SAAOH,GAAEG,EAAE,iBAAeG,EAAE,SAAQH,EAAE,WAASF,EAAE,OAAME,EAAE,eAAaK,EAAE,SAAQL,EAAE,WAASM,EAAE;AAAc,QAAML,IAAE,IAAI,aAAaF,IAAEH,IAAEC,IAAE,KAAG,IAAEH,EAAE,MAAM;AAAE,MAAGK,KAASJ,KAAN,KAAQ,UAAQQ,IAAE,GAAEL,IAAE,GAAEK,IAAER,EAAE,QAAOQ,IAAI,CAAAF,EAAEH,GAAG,IAAEH,EAAEQ,CAAC,GAAEA,IAAE,KAAG,MAAIF,EAAEH,GAAG,IAAE;AAAA,MAAQ,UAAQK,IAAE,GAAEA,IAAEN,GAAEM,IAAI,UAAQV,IAAE,GAAEA,IAAEG,GAAEH,KAAI;AAAC,UAAMK,IAAE,KAAGK,IAAEP,IAAEH,IAAGY,IAAE,KAAGZ,IAAEI,IAAEM;AAAG,IAAAF,EAAEH,CAAC,IAAEJ,EAAEW,CAAC,GAAEJ,EAAEH,IAAE,CAAC,IAAEJ,EAAEW,IAAE,CAAC,GAAEJ,EAAEH,IAAE,CAAC,IAAOJ,EAAEW,CAAC,MAAR,KAAU,IAAE;AAAA,EAAC;AAAC,SAAO,IAAIE,EAAEd,GAAEO,GAAEC,CAAC;AAAC;AAAC,SAASN,EAAEF,GAAEU,GAAE;AAAC,QAAML,IAAE,IAAII;AAAE,SAAOJ,EAAE,iBAAeM,EAAE,MAAKN,EAAE,QAAMK,EAAE,SAAO,GAAEL,EAAE,SAAO,GAAEA,EAAE,eAAaO,EAAE,SAAQP,EAAE,WAASQ,EAAE,eAAc,IAAIC,EAAEd,GAAEK,GAAEK,CAAC;AAAC;AAAC,SAASP,EAAEH,GAAEU,GAAEX,GAAE;AAAC,QAAME,IAAE,IAAIQ;AAAE,SAAOR,EAAE,iBAAeU,EAAE,OAAMV,EAAE,cAAYU,EAAE,OAAMV,EAAE,WAASI,EAAE,eAAcJ,EAAE,QAAMF,EAAE,CAAC,GAAEE,EAAE,SAAOF,EAAE,CAAC,GAAEE,EAAE,eAAaW,EAAE,SAAQX,EAAE,WAASY,EAAE,eAAc,IAAIC,EAAEd,GAAEC,GAAES,CAAC;AAAC;","x_google_ignoreList":[0]}