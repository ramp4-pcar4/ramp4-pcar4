import{m as g,a as h,e as d,d as I}from"./Point2D-CaHJVGk1.js";function L(t,e){if(!t.isEmpty())switch(t.getGeometryType()){case h.enumPolygon:return N(t);case h.enumPolyline:return X(t);case h.enumLine:case h.enumBezier:case h.enumEllipticArc:return Y(t);case h.enumMultiPoint:return q(t);case h.enumEnvelope:return t.getCenterXY();case h.enumPoint:return t.getXY();default:return g.construct(Number.NaN,Number.NaN)}return g.construct(Number.NaN,Number.NaN)}function A(t,e){return N(t,e)}function N(t,e=-1){const a=new d(0),u=new d(0),n=t.getImpl();let r;const c=n.hasNonLinearSegments();let s;const o=n.getXY(0);if(e===-1){if(s=n.calculateArea2D(),s===0)return R(t);c&&(r=n.querySegmentIterator());for(let i=0,f=n.getPathCount();i<f;i++)S(o,n,i,a,u),c&&C(o,r,a,u)}else{if(s=n.calculateRingArea2D(e),s===0)return R(t,e);c&&(r=n.querySegmentIterator(),r.resetToPath(e)),S(o,n,e,a,u),c&&C(o,r,a,u)}const l=new g,m=new g;return l.setCoords(a.getResult(),u.getResult()),m.assign(l.mul(1/s).add(o)),m}function S(t,e,a,u,n){const r=e.getPathStart(a),c=e.getPathEnd(a);if(c-r<3)return;const s=e.getAttributeStreamRef(0),o=s.readPoint2D(2*r),l=s.readPoint2D(2*(r+1));l.subThis(o);const m=new d(0),i=e.hasNonLinearSegments(),f=1/3,P=new g;for(let y=r+2;y<c;y++){s.queryPoint2D(2*y,P),P.subThis(o);const D=.5*P.crossProduct(l);i&&m.add(D);const x=f*D;u.add((l.x+P.x)*x),n.add((l.y+P.y)*x),l.setCoordsPoint2D(P)}const p=i?m.getResult():e.calculateRingArea2D(a),w=o.sub(t).mul(p);u.add(w.x),n.add(w.y)}function C(t,e,a,u){let n;for(e.nextPath()||I("centroid");(n=e.nextCurve())!==null;){const r=n.calculateWeightedAreaCentroid2D(t);a.add(r.x),u.add(r.y)}}function X(t){return b(t.getImpl())}function Y(t){const e=t.calculateLength2D();return e===0?t.getStartXY():t.calculateWeightedCentroid2D().mul(1/e)}function q(t){const e=new d(0),a=new d(0),u=t.getImpl(),n=u.getAttributeStreamRef(0),r=u.getPointCount(),c=new g;for(let o=0;o<r;o++)n.queryPoint2D(2*o,c),e.add(c.x),a.add(c.y);const s=new g;return s.setCoords(e.getResult(),a.getResult()),s.divThis(r)}function R(t,e=-1){return b(t.getImpl(),e)}function b(t,e=-1){const a=e===-1?t.calculateLength2D():t.calculatePathLength2D(e);if(a===0)return T(t,e);const u=new d(0),n=new d(0),r=t.querySegmentIterator();for(e!==-1&&r.resetToPath(e);r.nextPath();){const s=r.getPathIndex(),o=t.getXY(t.getPathStart(s));for(;r.hasNextSegment();){const m=r.nextSegment(),i=m.calculateLength2D();if(i===0)continue;const f=m.calculateWeightedCentroid2D().sub(o.mul(i));u.add(f.x),n.add(f.y)}const l=o.mul(t.calculatePathLength2D(s));if(u.add(l.x),n.add(l.y),e!==-1)break}const c=new g;return c.setCoords(u.getResult(),n.getResult()),c.mul(1/a)}function T(t,e=-1){if(e!==-1)return t.getXY(t.getPathStart(e));const a=new d(0),u=new d(0);for(let n=0;n<t.getPathCount();++n){const r=t.getXY(t.getPathStart(n));a.add(r.x),u.add(r.y)}return g.construct(a.getResult(),u.getResult()).mul(1/t.getPathCount())}export{L as a,A as u};
