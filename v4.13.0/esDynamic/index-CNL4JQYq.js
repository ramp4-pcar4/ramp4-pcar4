import{c as M,C as Ot}from"./jsxFactory-Cua8zWVZ.js";import{i as D}from"./keyed-B9HAtbdo.js";import{cc as B,cd as P,cb as d,ca as b,ch as vt,cg as m,kx as ge,cj as w,dO as Et,dQ as G,ci as nt}from"./main-BFDurRCu.js";import{n as fe,k as Ht,g as X,b as me,j as ve,o as ye,p as Mt,l as xe,r as Dt,t as we,u as Bt,f as Ce}from"./dom-PjyVZjPa.js";import{e as ke,f as Se,g as Te,d as $e}from"./global-BCP_CA6c.js";import"./index-DV38aJMs.js";import"./index-SxXZaKTz.js";import"./customElement-DL8inR2X.js";import{s as Ie,l as ze}from"./input-BpGQpkEK.js";import{e as yt,n as T}from"./ref-XMc4F1eh.js";import{c as Ae,i as Pt,d as Fe,s as Oe,H as Ee}from"./form-D_5VLLzu.js";import{u as xt,I as wt}from"./interactive-EVx-Nhoa.js";import{c as He,d as Me,g as De}from"./label-DeyAgFGa.js";import{c as Ct,g as J}from"./component-DGkKmsFn.js";import{V as Be}from"./Validation-DwCZur7y.js";import{u as ot}from"./useT9n-Cp7CFBMO.js";import"./index-DEuHuu_F.js";import"./index-D0o7KJz6.js";import"./index-CK6nlFfs.js";import{c as Y}from"./observers-CJ7vGAr1.js";import{g as Nt}from"./guid-Dls486Er.js";import{i as Pe}from"./key-CZySMiwx.js";import{i as Ne,d as Re}from"./debounce-B9WUP9Xk.js";var Le="Expected a function";function Rt(i,t,e){var a=!0,n=!0;if(typeof i!="function")throw new TypeError(Le);return Ne(e)&&(a="leading"in e?!!e.leading:a,n="trailing"in e?!!e.trailing:n),Re(i,t,{leading:a,maxWait:t,trailing:n})}const Q={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Lt=Object.create(null);for(const i in Q)Object.hasOwn(Q,i)&&(Lt[Q[i]]=i);const C={to:{},get:{}};C.get=function(i){const t=i.slice(0,3).toLowerCase();let e,a;switch(t){case"hsl":{e=C.get.hsl(i),a="hsl";break}case"hwb":{e=C.get.hwb(i),a="hwb";break}default:{e=C.get.rgb(i),a="rgb";break}}return e?{model:a,value:e}:null},C.get.rgb=function(i){if(!i)return null;const t=/^#([a-f\d]{3,4})$/i,e=/^#([a-f\d]{6})([a-f\d]{2})?$/i,a=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,o=/^(\w+)$/;let l=[0,0,0,1],r,s,c;if(r=i.match(e)){for(c=r[2],r=r[1],s=0;s<3;s++){const u=s*2;l[s]=Number.parseInt(r.slice(u,u+2),16)}c&&(l[3]=Number.parseInt(c,16)/255)}else if(r=i.match(t)){for(r=r[1],c=r[3],s=0;s<3;s++)l[s]=Number.parseInt(r[s]+r[s],16);c&&(l[3]=Number.parseInt(c+c,16)/255)}else if(r=i.match(a)){for(s=0;s<3;s++)l[s]=Number.parseInt(r[s+1],10);r[4]&&(l[3]=r[5]?Number.parseFloat(r[4])*.01:Number.parseFloat(r[4]))}else if(r=i.match(n)){for(s=0;s<3;s++)l[s]=Math.round(Number.parseFloat(r[s+1])*2.55);r[4]&&(l[3]=r[5]?Number.parseFloat(r[4])*.01:Number.parseFloat(r[4]))}else return(r=i.match(o))?r[1]==="transparent"?[0,0,0,0]:Object.hasOwn(Q,r[1])?(l=Q[r[1]],l[3]=1,l):null:null;for(s=0;s<3;s++)l[s]=N(l[s],0,255);return l[3]=N(l[3],0,1),l},C.get.hsl=function(i){if(!i)return null;const t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,e=i.match(t);if(e){const a=Number.parseFloat(e[4]),n=(Number.parseFloat(e[1])%360+360)%360,o=N(Number.parseFloat(e[2]),0,100),l=N(Number.parseFloat(e[3]),0,100),r=N(Number.isNaN(a)?1:a,0,1);return[n,o,l,r]}return null},C.get.hwb=function(i){if(!i)return null;const t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,e=i.match(t);if(e){const a=Number.parseFloat(e[4]),n=(Number.parseFloat(e[1])%360+360)%360,o=N(Number.parseFloat(e[2]),0,100),l=N(Number.parseFloat(e[3]),0,100),r=N(Number.isNaN(a)?1:a,0,1);return[n,o,l,r]}return null},C.to.hex=function(...i){return"#"+lt(i[0])+lt(i[1])+lt(i[2])+(i[3]<1?lt(Math.round(i[3]*255)):"")},C.to.rgb=function(...i){return i.length<4||i[3]===1?"rgb("+Math.round(i[0])+", "+Math.round(i[1])+", "+Math.round(i[2])+")":"rgba("+Math.round(i[0])+", "+Math.round(i[1])+", "+Math.round(i[2])+", "+i[3]+")"},C.to.rgb.percent=function(...i){const t=Math.round(i[0]/255*100),e=Math.round(i[1]/255*100),a=Math.round(i[2]/255*100);return i.length<4||i[3]===1?"rgb("+t+"%, "+e+"%, "+a+"%)":"rgba("+t+"%, "+e+"%, "+a+"%, "+i[3]+")"},C.to.hsl=function(...i){return i.length<4||i[3]===1?"hsl("+i[0]+", "+i[1]+"%, "+i[2]+"%)":"hsla("+i[0]+", "+i[1]+"%, "+i[2]+"%, "+i[3]+")"},C.to.hwb=function(...i){let t="";return i.length>=4&&i[3]!==1&&(t=", "+i[3]),"hwb("+i[0]+", "+i[1]+"%, "+i[2]+"%"+t+")"},C.to.keyword=function(...i){return Lt[i.slice(0,3)]};function N(i,t,e){return Math.min(Math.max(t,i),e)}function lt(i){const t=Math.round(i).toString(16).toUpperCase();return t.length<2?"0"+t:t}const Z={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Vt={};for(const i of Object.keys(Z))Vt[Z[i]]=i;const h={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},H=(6/29)**3;function j(i){const t=i>.0031308?1.055*i**.4166666666666667-.055:i*12.92;return Math.min(Math.max(0,t),1)}function q(i){return i>.04045?((i+.055)/1.055)**2.4:i/12.92}for(const i of Object.keys(h)){if(!("channels"in h[i]))throw new Error("missing channels property: "+i);if(!("labels"in h[i]))throw new Error("missing channel labels property: "+i);if(h[i].labels.length!==h[i].channels)throw new Error("channel and label counts mismatch: "+i);const{channels:t,labels:e}=h[i];delete h[i].channels,delete h[i].labels,Object.defineProperty(h[i],"channels",{value:t}),Object.defineProperty(h[i],"labels",{value:e})}h.rgb.hsl=function(i){const t=i[0]/255,e=i[1]/255,a=i[2]/255,n=Math.min(t,e,a),o=Math.max(t,e,a),l=o-n;let r,s;switch(o){case n:{r=0;break}case t:{r=(e-a)/l;break}case e:{r=2+(a-t)/l;break}case a:{r=4+(t-e)/l;break}}r=Math.min(r*60,360),r<0&&(r+=360);const c=(n+o)/2;return o===n?s=0:c<=.5?s=l/(o+n):s=l/(2-o-n),[r,s*100,c*100]},h.rgb.hsv=function(i){let t,e,a,n,o;const l=i[0]/255,r=i[1]/255,s=i[2]/255,c=Math.max(l,r,s),u=c-Math.min(l,r,s),f=function(z){return(c-z)/6/u+1/2};if(u===0)n=0,o=0;else{switch(o=u/c,t=f(l),e=f(r),a=f(s),c){case l:{n=a-e;break}case r:{n=1/3+t-a;break}case s:{n=2/3+e-t;break}}n<0?n+=1:n>1&&(n-=1)}return[n*360,o*100,c*100]},h.rgb.hwb=function(i){const t=i[0],e=i[1];let a=i[2];const n=h.rgb.hsl(i)[0],o=1/255*Math.min(t,Math.min(e,a));return a=1-1/255*Math.max(t,Math.max(e,a)),[n,o*100,a*100]},h.rgb.oklab=function(i){const t=q(i[0]/255),e=q(i[1]/255),a=q(i[2]/255),n=Math.cbrt(.4122214708*t+.5363325363*e+.0514459929*a),o=Math.cbrt(.2119034982*t+.6806995451*e+.1073969566*a),l=Math.cbrt(.0883024619*t+.2817188376*e+.6299787005*a),r=.2104542553*n+.793617785*o-.0040720468*l,s=1.9779984951*n-2.428592205*o+.4505937099*l,c=.0259040371*n+.7827717662*o-.808675766*l;return[r*100,s*100,c*100]},h.rgb.cmyk=function(i){const t=i[0]/255,e=i[1]/255,a=i[2]/255,n=Math.min(1-t,1-e,1-a),o=(1-t-n)/(1-n)||0,l=(1-e-n)/(1-n)||0,r=(1-a-n)/(1-n)||0;return[o*100,l*100,r*100,n*100]};function Ve(i,t){return(i[0]-t[0])**2+(i[1]-t[1])**2+(i[2]-t[2])**2}h.rgb.keyword=function(i){const t=Vt[i];if(t)return t;let e=Number.POSITIVE_INFINITY,a;for(const n of Object.keys(Z)){const o=Z[n],l=Ve(i,o);l<e&&(e=l,a=n)}return a},h.keyword.rgb=function(i){return Z[i]},h.rgb.xyz=function(i){const t=q(i[0]/255),e=q(i[1]/255),a=q(i[2]/255),n=t*.4124564+e*.3575761+a*.1804375,o=t*.2126729+e*.7151522+a*.072175,l=t*.0193339+e*.119192+a*.9503041;return[n*100,o*100,l*100]},h.rgb.lab=function(i){const t=h.rgb.xyz(i);let e=t[0],a=t[1],n=t[2];e/=95.047,a/=100,n/=108.883,e=e>H?e**(1/3):7.787*e+16/116,a=a>H?a**(1/3):7.787*a+16/116,n=n>H?n**(1/3):7.787*n+16/116;const o=116*a-16,l=500*(e-a),r=200*(a-n);return[o,l,r]},h.hsl.rgb=function(i){const t=i[0]/360,e=i[1]/100,a=i[2]/100;let n,o;if(e===0)return o=a*255,[o,o,o];const l=a<.5?a*(1+e):a+e-a*e,r=2*a-l,s=[0,0,0];for(let c=0;c<3;c++)n=t+1/3*-(c-1),n<0&&n++,n>1&&n--,6*n<1?o=r+(l-r)*6*n:2*n<1?o=l:3*n<2?o=r+(l-r)*(2/3-n)*6:o=r,s[c]=o*255;return s},h.hsl.hsv=function(i){const t=i[0];let e=i[1]/100,a=i[2]/100,n=e;const o=Math.max(a,.01);a*=2,e*=a<=1?a:2-a,n*=o<=1?o:2-o;const l=(a+e)/2,r=a===0?2*n/(o+n):2*e/(a+e);return[t,r*100,l*100]},h.hsv.rgb=function(i){const t=i[0]/60,e=i[1]/100;let a=i[2]/100;const n=Math.floor(t)%6,o=t-Math.floor(t),l=255*a*(1-e),r=255*a*(1-e*o),s=255*a*(1-e*(1-o));switch(a*=255,n){case 0:return[a,s,l];case 1:return[r,a,l];case 2:return[l,a,s];case 3:return[l,r,a];case 4:return[s,l,a];case 5:return[a,l,r]}},h.hsv.hsl=function(i){const t=i[0],e=i[1]/100,a=i[2]/100,n=Math.max(a,.01);let o,l;l=(2-e)*a;const r=(2-e)*n;return o=e*n,o/=r<=1?r:2-r,o=o||0,l/=2,[t,o*100,l*100]},h.hwb.rgb=function(i){const t=i[0]/360;let e=i[1]/100,a=i[2]/100;const n=e+a;let o;n>1&&(e/=n,a/=n);const l=Math.floor(6*t),r=1-a;o=6*t-l,(l&1)!==0&&(o=1-o);const s=e+o*(r-e);let c,u,f;switch(l){default:case 6:case 0:{c=r,u=s,f=e;break}case 1:{c=s,u=r,f=e;break}case 2:{c=e,u=r,f=s;break}case 3:{c=e,u=s,f=r;break}case 4:{c=s,u=e,f=r;break}case 5:{c=r,u=e,f=s;break}}return[c*255,u*255,f*255]},h.cmyk.rgb=function(i){const t=i[0]/100,e=i[1]/100,a=i[2]/100,n=i[3]/100,o=1-Math.min(1,t*(1-n)+n),l=1-Math.min(1,e*(1-n)+n),r=1-Math.min(1,a*(1-n)+n);return[o*255,l*255,r*255]},h.xyz.rgb=function(i){const t=i[0]/100,e=i[1]/100,a=i[2]/100;let n,o,l;return n=t*3.2404542+e*-1.5371385+a*-.4985314,o=t*-.969266+e*1.8760108+a*.041556,l=t*.0556434+e*-.2040259+a*1.0572252,n=j(n),o=j(o),l=j(l),[n*255,o*255,l*255]},h.xyz.lab=function(i){let t=i[0],e=i[1],a=i[2];t/=95.047,e/=100,a/=108.883,t=t>H?t**(1/3):7.787*t+16/116,e=e>H?e**(1/3):7.787*e+16/116,a=a>H?a**(1/3):7.787*a+16/116;const n=116*e-16,o=500*(t-e),l=200*(e-a);return[n,o,l]},h.xyz.oklab=function(i){const t=i[0]/100,e=i[1]/100,a=i[2]/100,n=Math.cbrt(.8189330101*t+.3618667424*e-.1288597137*a),o=Math.cbrt(.0329845436*t+.9293118715*e+.0361456387*a),l=Math.cbrt(.0482003018*t+.2643662691*e+.633851707*a),r=.2104542553*n+.793617785*o-.0040720468*l,s=1.9779984951*n-2.428592205*o+.4505937099*l,c=.0259040371*n+.7827717662*o-.808675766*l;return[r*100,s*100,c*100]},h.oklab.oklch=function(i){return h.lab.lch(i)},h.oklab.xyz=function(i){const t=i[0]/100,e=i[1]/100,a=i[2]/100,n=(.999999998*t+.396337792*e+.215803758*a)**3,o=(1.000000008*t-.105561342*e-.063854175*a)**3,l=(1.000000055*t-.089484182*e-1.291485538*a)**3,r=1.227013851*n-.55779998*o+.281256149*l,s=-.040580178*n+1.11225687*o-.071676679*l,c=-.076381285*n-.421481978*o+1.58616322*l;return[r*100,s*100,c*100]},h.oklab.rgb=function(i){const t=i[0]/100,e=i[1]/100,a=i[2]/100,n=(t+.3963377774*e+.2158037573*a)**3,o=(t-.1055613458*e-.0638541728*a)**3,l=(t-.0894841775*e-1.291485548*a)**3,r=j(4.0767416621*n-3.3077115913*o+.2309699292*l),s=j(-1.2684380046*n+2.6097574011*o-.3413193965*l),c=j(-.0041960863*n-.7034186147*o+1.707614701*l);return[r*255,s*255,c*255]},h.oklch.oklab=function(i){return h.lch.lab(i)},h.lab.xyz=function(i){const t=i[0],e=i[1],a=i[2];let n,o,l;o=(t+16)/116,n=e/500+o,l=o-a/200;const r=o**3,s=n**3,c=l**3;return o=r>H?r:(o-16/116)/7.787,n=s>H?s:(n-16/116)/7.787,l=c>H?c:(l-16/116)/7.787,n*=95.047,o*=100,l*=108.883,[n,o,l]},h.lab.lch=function(i){const t=i[0],e=i[1],a=i[2];let n;n=Math.atan2(a,e)*360/2/Math.PI,n<0&&(n+=360);const o=Math.sqrt(e*e+a*a);return[t,o,n]},h.lch.lab=function(i){const t=i[0],e=i[1],a=i[2]/360*2*Math.PI,n=e*Math.cos(a),o=e*Math.sin(a);return[t,n,o]},h.rgb.ansi16=function(i,t=null){const[e,a,n]=i;let o=t===null?h.rgb.hsv(i)[2]:t;if(o=Math.round(o/50),o===0)return 30;let l=30+(Math.round(n/255)<<2|Math.round(a/255)<<1|Math.round(e/255));return o===2&&(l+=60),l},h.hsv.ansi16=function(i){return h.rgb.ansi16(h.hsv.rgb(i),i[2])},h.rgb.ansi256=function(i){const t=i[0],e=i[1],a=i[2];return t>>4===e>>4&&e>>4===a>>4?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(e/255*5)+Math.round(a/255*5)},h.ansi16.rgb=function(i){i=i[0];let t=i%10;if(t===0||t===7)return i>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const e=(Math.trunc(i>50)+1)*.5,a=(t&1)*e*255,n=(t>>1&1)*e*255,o=(t>>2&1)*e*255;return[a,n,o]},h.ansi256.rgb=function(i){if(i=i[0],i>=232){const o=(i-232)*10+8;return[o,o,o]}i-=16;let t;const e=Math.floor(i/36)/5*255,a=Math.floor((t=i%36)/6)/5*255,n=t%6/5*255;return[e,a,n]},h.rgb.hex=function(i){const t=(((Math.round(i[0])&255)<<16)+((Math.round(i[1])&255)<<8)+(Math.round(i[2])&255)).toString(16).toUpperCase();return"000000".slice(t.length)+t},h.hex.rgb=function(i){const t=i.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!t)return[0,0,0];let e=t[0];t[0].length===3&&(e=[...e].map(r=>r+r).join(""));const a=Number.parseInt(e,16),n=a>>16&255,o=a>>8&255,l=a&255;return[n,o,l]},h.rgb.hcg=function(i){const t=i[0]/255,e=i[1]/255,a=i[2]/255,n=Math.max(Math.max(t,e),a),o=Math.min(Math.min(t,e),a),l=n-o;let r;const s=l<1?o/(1-l):0;return l<=0?r=0:n===t?r=(e-a)/l%6:n===e?r=2+(a-t)/l:r=4+(t-e)/l,r/=6,r%=1,[r*360,l*100,s*100]},h.hsl.hcg=function(i){const t=i[1]/100,e=i[2]/100,a=e<.5?2*t*e:2*t*(1-e);let n=0;return a<1&&(n=(e-.5*a)/(1-a)),[i[0],a*100,n*100]},h.hsv.hcg=function(i){const t=i[1]/100,e=i[2]/100,a=t*e;let n=0;return a<1&&(n=(e-a)/(1-a)),[i[0],a*100,n*100]},h.hcg.rgb=function(i){const t=i[0]/360,e=i[1]/100,a=i[2]/100;if(e===0)return[a*255,a*255,a*255];const n=[0,0,0],o=t%1*6,l=o%1,r=1-l;let s=0;switch(Math.floor(o)){case 0:{n[0]=1,n[1]=l,n[2]=0;break}case 1:{n[0]=r,n[1]=1,n[2]=0;break}case 2:{n[0]=0,n[1]=1,n[2]=l;break}case 3:{n[0]=0,n[1]=r,n[2]=1;break}case 4:{n[0]=l,n[1]=0,n[2]=1;break}default:n[0]=1,n[1]=0,n[2]=r}return s=(1-e)*a,[(e*n[0]+s)*255,(e*n[1]+s)*255,(e*n[2]+s)*255]},h.hcg.hsv=function(i){const t=i[1]/100,e=i[2]/100,a=t+e*(1-t);let n=0;return a>0&&(n=t/a),[i[0],n*100,a*100]},h.hcg.hsl=function(i){const t=i[1]/100,e=i[2]/100*(1-t)+.5*t;let a=0;return e>0&&e<.5?a=t/(2*e):e>=.5&&e<1&&(a=t/(2*(1-e))),[i[0],a*100,e*100]},h.hcg.hwb=function(i){const t=i[1]/100,e=i[2]/100,a=t+e*(1-t);return[i[0],(a-t)*100,(1-a)*100]},h.hwb.hcg=function(i){const t=i[1]/100,e=1-i[2]/100,a=e-t;let n=0;return a<1&&(n=(e-a)/(1-a)),[i[0],a*100,n*100]},h.apple.rgb=function(i){return[i[0]/65535*255,i[1]/65535*255,i[2]/65535*255]},h.rgb.apple=function(i){return[i[0]/255*65535,i[1]/255*65535,i[2]/255*65535]},h.gray.rgb=function(i){return[i[0]/100*255,i[0]/100*255,i[0]/100*255]},h.gray.hsl=function(i){return[0,0,i[0]]},h.gray.hsv=h.gray.hsl,h.gray.hwb=function(i){return[0,100,i[0]]},h.gray.cmyk=function(i){return[0,0,0,i[0]]},h.gray.lab=function(i){return[i[0],0,0]},h.gray.hex=function(i){const t=Math.round(i[0]/100*255)&255,e=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".slice(e.length)+e},h.rgb.gray=function(i){return[(i[0]+i[1]+i[2])/3/255*100]};function We(){const i={},t=Object.keys(h);for(let{length:e}=t,a=0;a<e;a++)i[t[a]]={distance:-1,parent:null};return i}function Ue(i){const t=We(),e=[i];for(t[i].distance=0;e.length>0;){const a=e.pop(),n=Object.keys(h[a]);for(let{length:o}=n,l=0;l<o;l++){const r=n[l],s=t[r];s.distance===-1&&(s.distance=t[a].distance+1,s.parent=a,e.unshift(r))}}return t}function je(i,t){return function(e){return t(i(e))}}function qe(i,t){const e=[t[i].parent,i];let a=h[t[i].parent][i],n=t[i].parent;for(;t[n].parent;)e.unshift(t[n].parent),a=je(h[t[n].parent][n],a),n=t[n].parent;return a.conversion=e,a}function _e(i){const t=Ue(i),e={},a=Object.keys(t);for(let{length:n}=a,o=0;o<n;o++){const l=a[o];t[l].parent!==null&&(e[l]=qe(l,t))}return e}const S={},Ke=Object.keys(h);function Ge(i){const t=function(...e){const a=e[0];return a==null?a:(a.length>1&&(e=a),i(e))};return"conversion"in i&&(t.conversion=i.conversion),t}function Xe(i){const t=function(...e){const a=e[0];if(a==null)return a;a.length>1&&(e=a);const n=i(e);if(typeof n=="object")for(let{length:o}=n,l=0;l<o;l++)n[l]=Math.round(n[l]);return n};return"conversion"in i&&(t.conversion=i.conversion),t}for(const i of Ke){S[i]={},Object.defineProperty(S[i],"channels",{value:h[i].channels}),Object.defineProperty(S[i],"labels",{value:h[i].labels});const t=_e(i),e=Object.keys(t);for(const a of e){const n=t[a];S[i][a]=Xe(n),S[i][a].raw=Ge(n)}}const Wt=["keyword","gray","hex"],kt={};for(const i of Object.keys(S))kt[[...S[i].labels].sort().join("")]=i;const St={};function g(i,t){if(!(this instanceof g))return new g(i,t);if(t&&t in Wt&&(t=null),t&&!(t in S))throw new Error("Unknown model: "+t);let e,a;if(i==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(i instanceof g)this.model=i.model,this.color=[...i.color],this.valpha=i.valpha;else if(typeof i=="string"){const n=C.get(i);if(n===null)throw new Error("Unable to parse color from string: "+i);this.model=n.model,a=S[this.model].channels,this.color=n.value.slice(0,a),this.valpha=typeof n.value[a]=="number"?n.value[a]:1}else if(i.length>0){this.model=t||"rgb",a=S[this.model].channels;const n=Array.prototype.slice.call(i,0,a);this.color=Tt(n,a),this.valpha=typeof i[a]=="number"?i[a]:1}else if(typeof i=="number")this.model="rgb",this.color=[i>>16&255,i>>8&255,i&255],this.valpha=1;else{this.valpha=1;const n=Object.keys(i);"alpha"in i&&(n.splice(n.indexOf("alpha"),1),this.valpha=typeof i.alpha=="number"?i.alpha:0);const o=n.sort().join("");if(!(o in kt))throw new Error("Unable to parse color from object: "+JSON.stringify(i));this.model=kt[o];const{labels:l}=S[this.model],r=[];for(e=0;e<l.length;e++)r.push(i[l[e]]);this.color=Tt(r)}if(St[this.model])for(a=S[this.model].channels,e=0;e<a;e++){const n=St[this.model][e];n&&(this.color[e]=n(this.color[e]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}g.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(i){let t=this.model in C.to?this:this.rgb();t=t.round(typeof i=="number"?i:1);const e=t.valpha===1?t.color:[...t.color,this.valpha];return C.to[t.model](...e)},percentString(i){const t=this.rgb().round(typeof i=="number"?i:1),e=t.valpha===1?t.color:[...t.color,this.valpha];return C.to.rgb.percent(...e)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const i={},{channels:t}=S[this.model],{labels:e}=S[this.model];for(let a=0;a<t;a++)i[e[a]]=this.color[a];return this.valpha!==1&&(i.alpha=this.valpha),i},unitArray(){const i=this.rgb().color;return i[0]/=255,i[1]/=255,i[2]/=255,this.valpha!==1&&i.push(this.valpha),i},unitObject(){const i=this.rgb().object();return i.r/=255,i.g/=255,i.b/=255,this.valpha!==1&&(i.alpha=this.valpha),i},round(i){return i=Math.max(i||0,0),new g([...this.color.map(Ye(i)),this.valpha],this.model)},alpha(i){return i!==void 0?new g([...this.color,Math.max(0,Math.min(1,i))],this.model):this.valpha},red:y("rgb",0,k(255)),green:y("rgb",1,k(255)),blue:y("rgb",2,k(255)),hue:y(["hsl","hsv","hsl","hwb","hcg"],0,i=>(i%360+360)%360),saturationl:y("hsl",1,k(100)),lightness:y("hsl",2,k(100)),saturationv:y("hsv",1,k(100)),value:y("hsv",2,k(100)),chroma:y("hcg",1,k(100)),gray:y("hcg",2,k(100)),white:y("hwb",1,k(100)),wblack:y("hwb",2,k(100)),cyan:y("cmyk",0,k(100)),magenta:y("cmyk",1,k(100)),yellow:y("cmyk",2,k(100)),black:y("cmyk",3,k(100)),x:y("xyz",0,k(95.047)),y:y("xyz",1,k(100)),z:y("xyz",2,k(108.833)),l:y("lab",0,k(100)),a:y("lab",1),b:y("lab",2),keyword(i){return i!==void 0?new g(i):S[this.model].keyword(this.color)},hex(i){return i!==void 0?new g(i):C.to.hex(...this.rgb().round().color)},hexa(i){if(i!==void 0)return new g(i);const t=this.rgb().round().color;let e=Math.round(this.valpha*255).toString(16).toUpperCase();return e.length===1&&(e="0"+e),C.to.hex(...t)+e},rgbNumber(){const i=this.rgb().color;return(i[0]&255)<<16|(i[1]&255)<<8|i[2]&255},luminosity(){const i=this.rgb().color,t=[];for(const[e,a]of i.entries()){const n=a/255;t[e]=n<=.04045?n/12.92:((n+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(i){const t=this.luminosity(),e=i.luminosity();return t>e?(t+.05)/(e+.05):(e+.05)/(t+.05)},level(i){const t=this.contrast(i);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const i=this.rgb().color;return(i[0]*2126+i[1]*7152+i[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const i=this.rgb();for(let t=0;t<3;t++)i.color[t]=255-i.color[t];return i},lighten(i){const t=this.hsl();return t.color[2]+=t.color[2]*i,t},darken(i){const t=this.hsl();return t.color[2]-=t.color[2]*i,t},saturate(i){const t=this.hsl();return t.color[1]+=t.color[1]*i,t},desaturate(i){const t=this.hsl();return t.color[1]-=t.color[1]*i,t},whiten(i){const t=this.hwb();return t.color[1]+=t.color[1]*i,t},blacken(i){const t=this.hwb();return t.color[2]+=t.color[2]*i,t},grayscale(){const i=this.rgb().color,t=i[0]*.3+i[1]*.59+i[2]*.11;return g.rgb(t,t,t)},fade(i){return this.alpha(this.valpha-this.valpha*i)},opaquer(i){return this.alpha(this.valpha+this.valpha*i)},rotate(i){const t=this.hsl();let e=t.color[0];return e=(e+i)%360,e=e<0?360+e:e,t.color[0]=e,t},mix(i,t){if(!i||!i.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof i);const e=i.rgb(),a=this.rgb(),n=t===void 0?.5:t,o=2*n-1,l=e.alpha()-a.alpha(),r=((o*l===-1?o:(o+l)/(1+o*l))+1)/2,s=1-r;return g.rgb(r*e.red()+s*a.red(),r*e.green()+s*a.green(),r*e.blue()+s*a.blue(),e.alpha()*n+a.alpha()*(1-n))}};for(const i of Object.keys(S)){if(Wt.includes(i))continue;const{channels:t}=S[i];g.prototype[i]=function(...e){return this.model===i?new g(this):e.length>0?new g(e,i):new g([...Qe(S[this.model][i].raw(this.color)),this.valpha],i)},g[i]=function(...e){let a=e[0];return typeof a=="number"&&(a=Tt(e,t)),new g(a,i)}}function Je(i,t){return Number(i.toFixed(t))}function Ye(i){return function(t){return Je(t,i)}}function y(i,t,e){i=Array.isArray(i)?i:[i];for(const a of i)(St[a]||=[])[t]=e;return i=i[0],function(a){let n;return a!==void 0?(e&&(a=e(a)),n=this[i](),n.color[t]=a,n):(n=this[i]().color[t],e&&(n=e(n)),n)}}function k(i){return function(t){return Math.max(0,Math.min(i,t))}}function Qe(i){return Array.isArray(i)?i:[i]}function Tt(i,t){for(let e=0;e<t;e++)typeof i[e]!="number"&&(i[e]=0);return i}const p={channel:"channel",channels:"channels",colorField:"color-field",colorFieldScope:"scope--color-field",colorMode:"color-mode",colorModeContainer:"color-mode-container",container:"container",control:"control",controlAndScope:"control-and-scope",controlSection:"control-section",deleteColor:"delete-color",header:"header",hexAndChannelsGroup:"hex-and-channels-group",hexOptions:"color-hex-options",hueScope:"scope--hue",hueSlider:"hue-slider",opacityScope:"scope--opacity",opacitySlider:"opacity-slider",preview:"preview",previewAndSliders:"preview-and-sliders",saveColor:"save-color",savedColor:"saved-color",savedColors:"saved-colors",savedColorsButtons:"saved-colors-buttons",savedColorsSection:"saved-colors-section",scope:"scope",section:"section",slider:"slider",sliders:"sliders",splitSection:"section--split"},R=g("#007AC2"),$t="calcite-color-",rt={r:255,g:255,b:255},$={h:360,s:100,v:100},Ut=$.h-1,L={min:0,max:100},tt={s:{gap:parseInt(Te),slider:{height:12},thumb:{radius:7},preview:{size:20},minWidth:200},m:{gap:parseInt(Se),slider:{height:12},thumb:{radius:7},preview:{size:24},minWidth:240},l:{gap:parseInt(ke),slider:{height:12},thumb:{radius:7},preview:{size:32},minWidth:304}},jt=1,Ze=/^[0-9A-F]$/i,ti=/^#[0-9A-F]{3}$/i,ei=/^#[0-9A-F]{6}$/i,ii=/^#[0-9A-F]{4}$/i,ai=/^#[0-9A-F]{8}$/i,et=i=>Number((i*100).toFixed()),st=i=>Number((i/100).toFixed(2));function V(i,t=!1){return _(i,t)||ct(i,t)}function qt(i,t,e){return i?i.length===t&&e.test(i):!1}function _(i,t=!1){return qt(i,t?5:4,t?ii:ti)}function ct(i,t=!1){return qt(i,t?9:7,t?ai:ei)}function F(i,t=!1,e=!1){if(i=i.toLowerCase(),i.startsWith("#")||(i=`#${i}`),_(i,t))return It(_t(i,t));if(t&&e&&V(i,!1)){const a=_(i,!1);return It(_t(`${i}${a?"f":"ff"}`,!0))}return i}function I(i,t=!1){return t?i.hexa():i.hex()}function It(i){const{r:t,g:e,b:a}=i,n=ht(t),o=ht(e),l=ht(a),r="a"in i?ht(i.a*255):"";return`#${n}${o}${l}${r}`.toLowerCase()}function ht(i){return i.toString(16).padStart(2,"0")}function ni(i){const t={...i,a:i.alpha??1};return delete t.alpha,t}function oi(i){const t={...i,alpha:i.a??1};return delete t.a,t}function _t(i,t=!1){if(!V(i,t))return null;i=i.replace("#","");let e,a,n,o;if(i.length===3||i.length===4){const[l,r,s,c]=i.split("");e=parseInt(`${l}${l}`,16),a=parseInt(`${r}${r}`,16),n=parseInt(`${s}${s}`,16),o=parseInt(`${c}${c}`,16)/255}else e=parseInt(i.slice(0,2),16),a=parseInt(i.slice(2,4),16),n=parseInt(i.slice(4,6),16),o=parseInt(i.slice(6,8),16)/255;return isNaN(o)?{r:e,g:a,b:n}:{r:e,g:a,b:n,a:o}}const Kt=i=>i,v=Kt({HEX:"hex",HEXA:"hexa",RGB_CSS:"rgb-css",RGBA_CSS:"rgba-css",HSL_CSS:"hsl-css",HSLA_CSS:"hsla-css"}),x=Kt({RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla",HSV:"hsv",HSVA:"hsva"});function Gt(i){if(typeof i=="string"){if(i.startsWith("#")){const{length:t}=i;if(t===4||t===7)return v.HEX;if(t===5||t===9)return v.HEXA}if(i.startsWith("rgba("))return v.RGBA_CSS;if(i.startsWith("rgb("))return v.RGB_CSS;if(i.startsWith("hsl("))return v.HSL_CSS;if(i.startsWith("hsla("))return v.HSLA_CSS}if(typeof i=="object"){if(K(i,"r","g","b"))return K(i,"a")?x.RGBA:x.RGB;if(K(i,"h","s","l"))return K(i,"a")?x.HSLA:x.HSL;if(K(i,"h","s","v"))return K(i,"a")?x.HSVA:x.HSV}return null}function K(i,...t){return t.every(e=>e&&i&&`${e}`in i)}function Xt(i,t){return i?.rgb().array().toString()===t?.rgb().array().toString()}function dt(i){return i===v.HEXA||i===v.RGBA_CSS||i===v.HSLA_CSS||i===x.RGBA||i===x.HSLA||i===x.HSVA}function li(i){return i===v.HEX?v.HEXA:i===v.RGB_CSS?v.RGBA_CSS:i===v.HSL_CSS?v.HSLA_CSS:i===x.RGB?x.RGBA:i===x.HSL?x.HSLA:i===x.HSV?x.HSVA:i}function Jt(i){return i===v.HEXA?v.HEX:i===v.RGBA_CSS?v.RGB_CSS:i===v.HSLA_CSS?v.HSL_CSS:i===x.RGBA?x.RGB:i===x.HSLA?x.HSL:i===x.HSVA?x.HSV:i}const ri=1,Yt=ri*2;function si(i,t,e){const a=e?tt.l.preview.size:t.preview.size,n=i-Yt,o=t.gap*3;return Math.max(n-o-a,0)}function ci(i){const t=i-Yt;return{width:Math.max(t,0),height:Math.max(Math.floor(t/1.8),0)}}const ut={swatch:"swatch",noColorSwatch:"swatch--no-color",checker:"checker"},Qt={borderLight:"rgba(0, 0, 0, 0.3)",borderDark:"rgba(255, 255, 255, 0.15)"},Zt=4,W={squareSize:Zt,size:Zt*2},hi=B`:host{position:relative;display:inline-flex}:host([scale=s]){block-size:1.25rem;inline-size:1.25rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch rect{transition-property:all;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.swatch--no-color rect{fill:var(--calcite-color-foreground-1)}.swatch--no-color line{stroke:var(--calcite-color-status-danger)}.checker{fill:#cacaca}:host([hidden]){display:none}[hidden]{display:none}`;class di extends P{constructor(){super(...arguments),this.active=!1,this.scale="m"}static{this.properties={active:[7,{},{reflect:!0,type:Boolean}],color:1,scale:[3,{},{reflect:!0}]}}static{this.styles=hi}load(){this.handleColorChange(this.color)}willUpdate(t){t.has("color")&&this.handleColorChange(this.color)}handleColorChange(t){this.internalColor=t?g(t):null}render(){const t=!this.internalColor,e={[ut.swatch]:!0,[ut.noColorSwatch]:t};return b`<svg class=${d(e)} xmlns=http://www.w3.org/2000/svg>${this.renderSwatch()}</svg>`}renderSwatch(){const{active:t,el:e,internalColor:a}=this,n=t?"100%":"0",o=fe(e)==="light"?Qt.borderLight:Qt.borderDark,l=!a,r={height:"100%",rx:n,stroke:o,strokeWidth:"2",width:"100%"};if(l)return vt`<clipPath id=shape><rect height=100% rx=${n} width=100% /></clipPath>${this.renderSwatchRect({clipPath:`inset(0 round ${n})`,...r})}<line clip-path=url(#shape) stroke-width=3 x1=100% x2=0 y1=0 y2=100% />`;const s=a.alpha(),c=I(a),u=I(a,s<1);return vt`<title>${u}</title><defs><pattern height=${W.size} id=checker patternUnits=userSpaceOnUse width=${W.size} x=0 y=0><rect class=${d(ut.checker)} height=${W.squareSize} width=${W.squareSize} x=0 y=0 /><rect class=${d(ut.checker)} height=${W.squareSize} width=${W.squareSize} x=${W.squareSize} y=${W.squareSize} /></pattern></defs>${this.renderSwatchRect({fill:"url(#checker)",rx:r.rx,height:r.height,width:r.width})}${this.renderSwatchRect({clipPath:s<1?"polygon(100% 0, 0 0, 0 100%)":`inset(0 round ${n})`,fill:c,...r})}${s<1?this.renderSwatchRect({clipPath:"polygon(100% 0, 100% 100%, 0 100%)",fill:u,key:"opacity-fill",...r}):null}`}renderSwatchRect({clipPath:t,fill:e,height:a,key:n,rx:o,stroke:l,strokeWidth:r,width:s}){return D(n,vt`<rect clip-path=${t??m} fill=${e??m} height=${a??m} rx=${o??m} stroke=${l??m} stroke-width=${r??m} width=${s??m} />`)}}M("calcite-color-picker-swatch",di);const E={loader:"loader",clearButton:"clear-button",editingEnabled:"editing-enabled",inlineChild:"inline-child",inputIcon:"icon",prefix:"prefix",suffix:"suffix",wrapper:"element-wrapper",inputWrapper:"wrapper",actionWrapper:"action-wrapper"},te={validationMessage:"inputTextValidationMessage"},ui={action:"action"},pi=B`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([scale=s]) input{padding-inline-start:.5rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .5rem)}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .prefix,:host([scale=s]) .suffix{padding-inline:.5rem}:host([scale=s]) .action-wrapper calcite-button,:host([scale=s]) .action-wrapper calcite-button button{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=m]) input{padding-inline-start:.75rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .75rem)}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .prefix,:host([scale=m]) .suffix{padding-inline:.75rem}:host([scale=m]) .action-wrapper calcite-button,:host([scale=m]) .action-wrapper calcite-button button{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=l]) input{padding-inline-start:1rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, 1rem)}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .prefix,:host([scale=l]) .suffix{padding-inline:1rem}:host([scale=l]) .action-wrapper calcite-button,:host([scale=l]) .action-wrapper calcite-button button{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}input{transition:var(--calcite-animation-timing),block-size 0,outline-offset 0s;-webkit-appearance:none;position:relative;margin:0;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;text-overflow:ellipsis;border-radius:0;background-color:var(--calcite-color-foreground-1);font-family:inherit;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-1)}input:placeholder-shown{text-overflow:ellipsis}input{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);color:var(--calcite-color-text-1)}input::placeholder,input:-ms-input-placeholder,input::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-3)}input:focus{border-color:var(--calcite-color-brand);color:var(--calcite-color-text-1)}input[readonly]{background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium)}input[readonly]:focus{color:var(--calcite-color-text-1)}calcite-icon{color:var(--calcite-color-text-3)}input{outline-color:transparent}input:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([status=invalid]) input{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) input:focus{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .icon{inset-inline-start:.5rem}:host([scale=m]) .icon{inset-inline-start:.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center}.icon{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);display:block;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;block-size:0px;inline-size:0px}.clear-button{pointer-events:initial;order:4;margin:0;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1);outline-color:transparent;border-inline-start-width:0px}.clear-button:hover{background-color:var(--calcite-color-foreground-2);transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.clear-button:hover calcite-icon{color:var(--calcite-color-text-1);transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.clear-button:active{background-color:var(--calcite-color-foreground-3)}.clear-button:active calcite-icon{color:var(--calcite-color-text-1)}.clear-button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.clear-button:disabled{opacity:var(--calcite-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium);line-height:1;color:var(--calcite-color-text-2)}.prefix{order:2;border-inline-end-width:0px;inline-size:var(--calcite-input-prefix-size, auto)}.suffix{order:5;border-inline-start-width:0px;inline-size:var(--calcite-input-suffix-size, auto)}:host([alignment=start]) input{text-align:start}:host([alignment=end]) input{text-align:end}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host(.input--no-bottom-border) input{border-block-end-width:0px}:host(.input--no-top-border) input{border-block-start-width:0px}:host(.input--no-right-border) input{border-inline-end:0}:host(.input--no-left-border) input{border-inline-start:0}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-color-border-1)}input.inline-child{background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input.inline-child .editing-enabled{background-color:inherit}input.inline-child:not(.editing-enabled){display:flex;cursor:pointer;text-overflow:ellipsis;border-color:transparent;padding-inline-start:0}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}::placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-placeholder-text-color, var(--calcite-color-text-3))}`;class bi extends P{constructor(){super(),this.actionWrapperEl=yt(),this.attributeWatch=ge(["autofocus","enterkeyhint","inputmode","spellcheck"],this.handleGlobalAttributesChanged),this.inputWrapperEl=yt(),this.onHiddenFormInputInput=t=>{t.target.name===this.name&&this.setValue({value:t.target.value,origin:"direct"}),this.setFocus(),t.stopPropagation()},this.previousValueOrigin="initial",this.userChangedValue=!1,this._value="",this.messages=ot(),this.slottedActionElDisabledInternally=!1,this.alignment="start",this.clearable=!1,this.disabled=!1,this.editingEnabled=!1,this.iconFlipRtl=!1,this.loading=!1,this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteInputTextChange=w(),this.calciteInputTextInput=w(),this.calciteInternalInputTextBlur=w(),this.calciteInternalInputTextFocus=w(),this.listen("click",this.clickHandler),this.listen("keydown",this.keyDownHandler)}static{this.properties={slottedActionElDisabledInternally:[16,{},{state:!0}],alignment:[3,{},{reflect:!0}],autocomplete:[0,{},{attribute:!1}],clearable:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],editingEnabled:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],icon:[3,{converter:Et},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],maxLength:[11,{},{reflect:!0,type:Number}],messageOverrides:[0,{},{attribute:!1}],minLength:[11,{},{reflect:!0,type:Number}],name:[3,{},{reflect:!0}],pattern:1,placeholder:1,prefixText:1,readOnly:[7,{},{reflect:!0,type:Boolean}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}],suffixText:1,validationIcon:[3,{converter:Et},{reflect:!0}],validationMessage:1,validity:[0,{},{attribute:!1}],value:1}}static{this.styles=pi}get value(){return this._value}set value(t){const e=this._value;t!==e&&(this._value=t,this.valueWatcher(t,e))}async selectText(){this.childEl?.select()}async setFocus(){await Ct(this),this.childEl?.focus()}connectedCallback(){super.connectedCallback(),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),He(this),Ae(this),this.el.addEventListener(Pt,this.onHiddenFormInputInput)}async load(){this.requestedIcon=Ht({},this.icon,"text"),this.setPreviousEmittedValue(this.value),this.setPreviousValue(this.value)}willUpdate(t){t.has("icon")&&(this.requestedIcon=Ht({},this.icon,"text"))}updated(){xt(this)}disconnectedCallback(){super.disconnectedCallback(),Me(this),Fe(this),this.el.removeEventListener(Pt,this.onHiddenFormInputInput)}get isClearable(){return this.clearable&&this.value.length>0}handleGlobalAttributesChanged(){this.requestUpdate()}valueWatcher(t,e){this.userChangedValue||this.setValue({origin:"direct",previousValue:e,value:t||""}),this.userChangedValue=!1}keyDownHandler(t){this.readOnly||this.disabled||t.defaultPrevented||(this.isClearable&&t.key==="Escape"&&(this.clearInputTextValue(t),t.preventDefault()),t.key==="Enter"&&Oe(this)&&t.preventDefault())}onLabelClick(){this.setFocus()}clearInputTextValue(t){this.setValue({committing:!0,nativeEvent:t,origin:"user",value:""})}emitChangeIfUserModified(){this.previousValueOrigin==="user"&&this.value!==this.previousEmittedValue&&(this.calciteInputTextChange.emit(),this.setPreviousEmittedValue(this.value))}inputTextBlurHandler(){this.calciteInternalInputTextBlur.emit({element:this.childEl,value:this.value}),this.emitChangeIfUserModified()}clickHandler(t){if(this.disabled)return;const e=t.composedPath();!e.includes(this.inputWrapperEl.value)||e.includes(this.actionWrapperEl.value)||this.setFocus()}inputTextFocusHandler(){this.calciteInternalInputTextFocus.emit({element:this.childEl,value:this.value})}inputTextInputHandler(t){this.disabled||this.readOnly||this.setValue({nativeEvent:t,origin:"user",value:t.target.value})}inputTextKeyDownHandler(t){this.disabled||this.readOnly||t.key==="Enter"&&this.emitChangeIfUserModified()}syncHiddenFormInput(t){Ie("text",this,t)}setChildElRef(t){this.childEl=t}setInputValue(t){this.childEl&&(this.childEl.value=t)}setPreviousEmittedValue(t){this.previousEmittedValue=t}setPreviousValue(t){this.previousValue=t}setValue({committing:t=!1,nativeEvent:e,origin:a,previousValue:n,value:o}){this.setPreviousValue(n??this.value),this.previousValueOrigin=a,this.userChangedValue=a==="user"&&o!==this.value,this.value=o,a==="direct"&&(this.setInputValue(o),this.setPreviousEmittedValue(o)),e&&(this.calciteInputTextInput.emit().defaultPrevented?this.value=this.previousValue:t&&this.emitChangeIfUserModified())}render(){const t=X(this.el),e=b`<div class=${d(E.loader)}><calcite-progress .label=${this.messages.loading} type=indeterminate></calcite-progress></div>`,a=b`<button .ariaLabel=${this.messages.clear} class=${d(E.clearButton)} .disabled=${this.disabled||this.readOnly} @click=${this.clearInputTextValue} tabindex=-1 type=button><calcite-icon icon=x .scale=${J(this.scale)}></calcite-icon></button>`,n=b`<calcite-icon class=${d(E.inputIcon)} .flipRtl=${this.iconFlipRtl} .icon=${this.requestedIcon} .scale=${J(this.scale)}></calcite-icon>`,o=b`<div class=${d(E.prefix)}>${this.prefixText}</div>`,l=b`<div class=${d(E.suffix)}>${this.suffixText}</div>`,r=b`<input aria-errormessage=${te.validationMessage} .ariaInvalid=${this.status==="invalid"} .ariaLabel=${De(this)} autocomplete=${this.autocomplete??m} .autofocus=${this.el.autofocus} class=${d({[E.editingEnabled]:this.editingEnabled,[E.inlineChild]:!!this.inlineEditableEl})} value=${this.defaultValue??m} .disabled=${this.disabled?!0:null} enterkeyhint=${this.el.enterKeyHint??m} inputmode=${this.el.inputMode??m} maxlength=${this.maxLength??m} minlength=${this.minLength??m} name=${this.name??m} @blur=${this.inputTextBlurHandler} @focus=${this.inputTextFocusHandler} @input=${this.inputTextInputHandler} @keydown=${this.inputTextKeyDownHandler} pattern=${this.pattern??m} placeholder=${(this.placeholder||"")??m} .readOnly=${this.readOnly} .required=${this.required?!0:null} spellcheck=${this.el.spellcheck??m} tabindex=${(this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null)??m} type=text .value=${ze(this.value??"")} ${T(this.setChildElRef)}>`;return wt({disabled:this.disabled,children:b`<div class=${d({[E.inputWrapper]:!0,[Ot.rtl]:t==="rtl"})} ${T(this.inputWrapperEl)}>${this.prefixText?o:null}<div class=${d(E.wrapper)}>${r}${this.isClearable?a:null}${this.requestedIcon?n:null}${this.loading?e:null}</div><div class=${d(E.actionWrapper)} ${T(this.actionWrapperEl)}><slot name=${ui.action}></slot></div>${this.suffixText?l:null}${Ee({component:this})}</div>${this.validationMessage&&this.status==="invalid"?Be({icon:this.validationIcon,id:te.validationMessage,message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}}M("calcite-input-text",bi);const zt={container:"container",hexInput:"hex-input",opacityInput:"opacity-input"},gi=B`:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:100px;margin-inline-start:-1px}:host([hidden]){display:none}[hidden]{display:none}`,At=g();class fi extends P{constructor(){super(...arguments),this.internalColor=At,this.alphaChannel=!1,this.allowEmpty=!1,this.hexLabel="Hex",this.scale="m",this.value=F(I(At,this.alphaChannel),this.alphaChannel,!0),this.calciteColorPickerHexInputChange=w({cancelable:!1})}static{this.properties={internalColor:[16,{},{state:!0}],alphaChannel:[5,{},{type:Boolean}],allowEmpty:[5,{},{type:Boolean}],hexLabel:1,messages:[0,{},{attribute:!1}],numberingSystem:1,scale:[3,{},{reflect:!0}],value:[3,{},{reflect:!0}]}}static{this.styles=gi}async setFocus(){return await Ct(this),me(this.hexInputNode)}connectedCallback(){super.connectedCallback(),this.previousNonNullValue=this.value;const{allowEmpty:t,alphaChannel:e,value:a}=this;if(a){const n=F(a,e);V(n,e)&&this.internalSetValue(n,n,!1);return}t&&this.internalSetValue(void 0,void 0,!1)}willUpdate(t){t.has("value")&&(this.hasUpdated||this.value!==F(I(At,this.alphaChannel),this.alphaChannel,!0))&&this.internalSetValue(this.value,t.get("value"),!1)}onHexInputBlur(){const t=this.hexInputNode,e=t.value,a=`#${e}`,{allowEmpty:n,internalColor:o}=this,l=n&&!e,r=ct(a);(_(a,!0)||_(a,!1))&&this.onHexInputChange(),!(l||V(a)&&r)&&(t.value=n&&!o?"":this.formatHexForInternalInput(It(o.object())))}onOpacityInputBlur(){const t=this.opacityInputNode,e=t.value,{allowEmpty:a,internalColor:n}=this;a&&!e||(t.value=a&&!n?"":this.formatOpacityForInternalInput(n))}onOpacityInputInput(){this.onOpacityInputChange()}onHexInputChange(){let t=this.hexInputNode.value;if(t){const e=F(t,!1);if(V(e)&&this.alphaChannel&&this.internalColor){const a=F(this.internalColor.hexa(),!0).slice(-2);t=`${e+a}`}}this.internalSetValue(t,this.value)}onOpacityInputChange(){const t=this.opacityInputNode;let e;if(!t.value)e=t.value;else{const a=st(Number(t.value));e=this.internalColor?.alpha(a).hexa()}this.internalSetValue(e,this.value)}onInputFocus(t){t.type==="calciteInternalInputTextFocus"?this.hexInputNode.selectText():this.opacityInputNode.selectText()}onHexInputInput(){const t=`#${this.hexInputNode.value}`,e=this.value;V(t,this.alphaChannel)&&ct(t,this.alphaChannel)&&this.internalSetValue(t,e)}onInputKeyDown(t){const{altKey:e,ctrlKey:a,metaKey:n,shiftKey:o}=t,{alphaChannel:l,hexInputNode:r,internalColor:s,value:c}=this,{key:u}=t,f=t.composedPath();if(u==="Tab"&&_(c,this.alphaChannel)||u==="Enter"){f.includes(r)?this.onHexInputChange():this.onOpacityInputChange(),u==="Enter"&&t.preventDefault();return}const z=u==="ArrowDown"||u==="ArrowUp",A=this.value;if(z){if(!c){this.internalSetValue(this.previousNonNullValue,A),t.preventDefault();return}const bt=u==="ArrowUp"?1:-1,gt=o?10:1;this.internalSetValue(I(this.nudgeRGBChannels(s,gt*bt,f.includes(r)?"rgb":"a"),l),A),t.preventDefault();return}const pt=e||a||n,it=u.length===1,at=Ze.test(u);it&&!pt&&!at&&t.preventDefault()}onHexInputPaste(t){const e=t.clipboardData.getData("text");V(e,this.alphaChannel)&&ct(e,this.alphaChannel)&&(t.preventDefault(),this.hexInputNode.value=e.slice(1),this.internalSetValue(e,this.value))}internalSetValue(t,e,a=!0){if(t){const{alphaChannel:n}=this,o=F(t,n,n);if(V(o,n)){const{internalColor:l}=this,r=g(o),s=F(I(r,n),n),c=!l||s!==F(I(l,n),n);this.internalColor=r,this.previousNonNullValue=s,this.value=s,c&&a&&this.calciteColorPickerHexInputChange.emit();return}}else if(this.allowEmpty){this.internalColor=void 0,this.value=void 0,a&&this.calciteColorPickerHexInputChange.emit();return}this.value=e}storeHexInputRef(t){this.hexInputNode=t}storeOpacityInputRef(t){this.opacityInputNode=t}formatHexForInternalInput(t){return t?t.replace("#","").slice(0,6):""}formatOpacityForInternalInput(t){return t?`${et(t.alpha())}`:""}nudgeRGBChannels(t,e,a){let n;const o=t.array(),l=o.slice(0,3);if(a==="rgb")n=[...l.map(r=>r+e),this.alphaChannel?o[3]:void 0];else{const r=st(et(t.alpha())+e);n=[...l,r]}return g(n)}render(){const{alphaChannel:t,hexLabel:e,internalColor:a,messages:n,scale:o,value:l}=this,r=this.formatHexForInternalInput(l),s=this.formatOpacityForInternalInput(a),c=o==="l"?"m":"s";return b`<div class=${d(zt.container)}><calcite-input-text class=${d(zt.hexInput)} .label=${n?.hex||e} .maxLength=${this.alphaChannel?8:6} @keydown=${this.onInputKeyDown} @paste=${this.onHexInputPaste} @calciteInputTextChange=${this.onHexInputChange} @calciteInputTextInput=${this.onHexInputInput} @calciteInternalInputTextBlur=${this.onHexInputBlur} @calciteInternalInputTextFocus=${this.onInputFocus} prefix-text=# .scale=${c} .value=${r} ${T(this.storeHexInputRef)}></calcite-input-text>${t?D("opacity-input",b`<calcite-input-number class=${d(zt.opacityInput)} .label=${n?.opacity} .max=${L.max} max-length=3 .min=${L.min} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.onInputKeyDown} @calciteInputNumberInput=${this.onOpacityInputInput} @calciteInternalInputNumberBlur=${this.onOpacityInputBlur} @calciteInternalInputNumberFocus=${this.onInputFocus} .scale=${c} suffix-text=% .value=${s} ${T(this.storeOpacityInputRef)}></calcite-input-number>`):null}</div>`}}M("calcite-color-picker-hex-input",fi);const mi={section:"section"},vi={titleGroup:"title-group"},yi=B`:host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1));background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) section{border-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));border-style:solid}section{display:flex;flex-grow:1;overflow:hidden;border-width:1px;border-block-start-style:solid;border-block-start-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1)),inset 0 -1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([position=bottom]){flex-direction:column-reverse}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px}:host([bordered][scale=s]) section{padding:.75rem}:host([bordered][scale=m]) section{padding:.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid;border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}`;class xi extends P{constructor(){super(),this.tabs=[],this.titles=[],this.bordered=!1,this.layout="inline",this.position="top",this.scale="m",this.listen("calciteInternalTabNavSlotChange",this.calciteInternalTabNavSlotChangeHandler)}static{this.properties={tabs:[16,{},{state:!0}],titles:[16,{},{state:!0}],bordered:[5,{},{type:Boolean}],layout:[3,{},{reflect:!0}],position:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]}}static{this.styles=yi}connectedCallback(){super.connectedCallback(),this.updateItems()}load(){this.updateItems()}willUpdate(t){(t.has("position")&&(this.hasUpdated||this.position!=="top")||t.has("scale")&&(this.hasUpdated||this.scale!=="m"))&&this.updateItems(),(t.has("titles")||t.has("tabs"))&&this.hasUpdated&&this.titles?.length>0&&this.tabs?.length>0&&(this.updateAriaSettings(),this.updateItems())}calciteInternalTabNavSlotChangeHandler(t){t.stopPropagation(),t.detail.length!==this.titles.length&&(this.titles=t.detail)}defaultSlotChangeHandler(t){this.tabs=ve(t,"calcite-tab")}async updateAriaSettings(){await this.componentOnReady();let t,e;const a=ye(this.slotEl,"calcite-tab");if(a.some(n=>n.tab)||this.titles.some(n=>n.tab))t=a.sort((n,o)=>n.tab.localeCompare(o.tab)).map(n=>n.id),e=this.titles.sort((n,o)=>n.tab.localeCompare(o.tab)).map(n=>n.id);else{const n=await Promise.all(a.map(l=>l.getTabIndex())),o=await Promise.all(this.titles.map(l=>l.getTabIndex()));t=n.reduce((l,r,s)=>(l[r]=a[s].id,l),[]),e=o.reduce((l,r,s)=>(l[r]=this.titles[s].id,l),[])}a.forEach(n=>n._updateAriaInfo(t,e)),this.titles.forEach(n=>n._updateAriaInfo(t,e))}updateItems(){const{position:t,scale:e}=this,a=this.el.querySelector("calcite-tab-nav");a&&(a.position=t,a.scale=e),Array.from(this.el.querySelectorAll("calcite-tab")).forEach(n=>{n.parentElement===this.el&&(n.scale=e)}),Array.from(this.el.querySelectorAll("calcite-tab-nav > calcite-tab-title")).forEach(n=>{n.position=t,n.scale=e})}setDefaultSlotRef(t){this.slotEl=t}render(){return b`<slot name=${vi.titleGroup}></slot><section class=${d(mi.section)}><slot @slotchange=${this.defaultSlotChangeHandler} ${T(this.setDefaultSlotRef)}></slot></section>`}}M("calcite-tabs",xi);const wi="24px",Ci="32px",ki="44px",ee={chevronRight:"chevron-right",chevronLeft:"chevron-left"},U={container:"container",containerHasEndTabTitleOverflow:"container--end-overflow",containerHasStartTabTitleOverflow:"container--start-overflow",scrollButton:"scroll-button",scrollButtonContainer:"scroll-button-container",scrollBackwardContainerButton:"scroll-button-container--backward",scrollForwardContainerButton:"scroll-button-container--forward",tabTitleSlotWrapper:"tab-titles-slot-wrapper"},Si=B`:host{--calcite-internal-tab-nav-gradient-start-side: left;--calcite-internal-tab-nav-gradient-end-side: right;position:relative;display:flex}:host([bordered]):not([selected]) .container{background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) calcite-button{--calcite-button-border-color: var(--calcite-tab-border-color, var(--calcite-color-border-1))}.scale-s{--calcite-internal-tab-nav-button-width: 24px;min-block-size:1.5rem}.scale-m{--calcite-internal-tab-nav-button-width: 32px;min-block-size:2rem}.scale-l{--calcite-internal-tab-nav-button-width: 44px;min-block-size:2.75rem}.calcite--rtl{--calcite-internal-tab-nav-gradient-start-side: right;--calcite-internal-tab-nav-gradient-end-side: left}.container--start-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%)}.container--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%)}.container--start-overflow.container--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%,transparent 51%),linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%,transparent 51%)}.container::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}:host([layout=center]) ::slotted(calcite-tab-title){display:flex;flex-grow:1;flex-shrink:0;min-inline-size:auto;white-space:nowrap}:host([layout=center]) ::slotted(calcite-tab-title[selected]){overflow:unset}:host(:not([bordered])) .scale-l{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xxl)}:host(:not([bordered])) .scale-m{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xl)}:host(:not([bordered])) .scale-s{--calcite-internal-tab-nav-gap: var(--calcite-spacing-lg)}:host(:not([bordered])) .tab-titles-slot-wrapper{gap:var(--calcite-internal-tab-nav-gap)}:host([layout=center]:not([bordered])) .tab-titles-slot-wrapper{padding-inline:var(--calcite-spacing-xl)}.container,.tab-titles-slot-wrapper{display:flex;inline-size:100%;justify-content:flex-start;overflow:hidden;white-space:nowrap}.scroll-button-container{position:absolute;inset-block:0px}.scroll-button-container calcite-button{--calcite-button-text-color: var(--calcite-tab-text-color, var(--calcite-color-text-3));--calcite-button-background-color: var(--calcite-color-transparent);--calcite-offset-invert-focus: 1;block-size:var(--calcite-container-size-content-fluid)}.scroll-button-container calcite-button:hover .scroll-button-container calcite-button:focus{--calcite-button-background-color: var(--calcite-color-transparent-hover)}.scroll-button-container calcite-button:active{--calcite-button-background-color: var(--calcite-color-transparent-press)}.scroll-button-container--forward{inset-inline-end:0;z-index:var(--calcite-z-index)}.scroll-button-container--backward{inset-inline-start:0;z-index:var(--calcite-z-index)}:host(:not([bordered])) .scroll-button-container--backward:before,:host(:not([bordered])) .scroll-button-container--forward:before{background-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));opacity:.5;content:"";inline-size:var(--calcite-border-width-sm);inset-block-start:var(--calcite-border-width-md);inset-block-end:var(--calcite-border-width-md);position:absolute}:host(:not([bordered])) .scroll-button-container--backward:before{inset-inline-end:0}:host(:not([bordered])) .scroll-button-container--forward:before{inset-inline-start:0}:host([hidden]){display:none}[hidden]{display:none}`;class Ti extends P{constructor(){super(),this.effectiveDir="ltr",this.lastScrollWheelAxis="x",this.resizeObserver=Y("resize",()=>{this.updateScrollingState()}),this.makeFirstVisibleTabClosable=!1,this.messages=ot(),this.hasOverflowingEndTabTitle=!1,this.hasOverflowingStartTabTitle=!1,this.bordered=!1,this.layout="inline",this.position="bottom",this.scale="m",this.selectedTitle=null,this.calciteInternalTabChange=w({cancelable:!1}),this.calciteInternalTabNavSlotChange=w(),this.calciteTabChange=w({cancelable:!1}),this.listen("calciteInternalTabsFocusPrevious",this.focusPreviousTabHandler),this.listen("calciteInternalTabsFocusNext",this.focusNextTabHandler),this.listen("calciteInternalTabsFocusFirst",this.focusFirstTabHandler),this.listen("calciteInternalTabsFocusLast",this.focusLastTabHandler),this.listen("calciteInternalTabsActivate",this.internalActivateTabHandler),this.listen("calciteInternalTabsClose",this.internalCloseTabHandler),this.listen("calciteInternalTabTitleRegister",this.updateTabTitles),this.listenOn(document.body,"calciteInternalTabChange",this.globalInternalTabChangeHandler)}static{this.properties={hasOverflowingEndTabTitle:[16,{},{state:!0}],hasOverflowingStartTabTitle:[16,{},{state:!0}],selectedTabId:[16,{},{state:!0}],bordered:[7,{},{reflect:!0,type:Boolean}],layout:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],position:1,scale:1,selectedTitle:[0,{},{attribute:!1}],storageId:[3,{},{reflect:!0}],syncId:[3,{},{reflect:!0}]}}static{this.styles=Si}connectedCallback(){super.connectedCallback(),this.parentTabsEl=this.el.closest("calcite-tabs"),this.resizeObserver?.observe(this.el)}async load(){const t=`calcite-tab-nav-${this.storageId}`;if(localStorage&&this.storageId&&localStorage.getItem(t)){const e=JSON.parse(localStorage.getItem(t));this.selectedTabId=e}}willUpdate(t){t.has("selectedTitle")&&(this.hasUpdated||this.selectedTitle!==null)&&this.calciteInternalTabChange.emit({tab:this.selectedTabId}),t.has("selectedTabId")&&this.selectedTabIdChanged();const{parentTabsEl:e}=this;this.layout=e?.layout,this.bordered=e?.bordered,this.effectiveDir=X(this.el)}loaded(){this.scrollTabTitleIntoView(this.selectedTitle,"instant"),this.tabTitles.length&&this.tabTitles.every(t=>!t.selected)&&!this.selectedTabId&&this.tabTitles[0].getTabIdentifier().then(t=>{this.calciteInternalTabChange.emit({tab:t})})}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}get enabledTabTitles(){return Mt(this.el,"calcite-tab-title:not([disabled])").filter(t=>!t.closed)}get scrollerButtonWidth(){const{scale:t}=this;return parseInt(t==="s"?wi:t==="m"?Ci:ki)}get tabTitles(){return Mt(this.el,"calcite-tab-title")}focusPreviousTabHandler(t){this.handleTabFocus(t,t.target,"previous")}focusNextTabHandler(t){this.handleTabFocus(t,t.target,"next")}focusFirstTabHandler(t){this.handleTabFocus(t,t.target,"first")}focusLastTabHandler(t){this.handleTabFocus(t,t.target,"last")}internalActivateTabHandler(t){const e=t.target,a=this.selectedTitle;this.selectedTabId=t.detail.tab?t.detail.tab:this.getIndexOfTabTitle(e),t.stopPropagation(),this.selectedTitle=e,a?.id!==e.id&&t.detail.userTriggered&&this.calciteTabChange.emit(),this.scrollTabTitleIntoView(e)}scrollTabTitleIntoView(t,e="smooth"){t&&requestAnimationFrame(()=>{const a=this.effectiveDir==="ltr",n=this.tabTitleContainerEl,o=n.getBoundingClientRect(),l=t.getBoundingClientRect(),r=n.scrollLeft,s=a?this.hasOverflowingStartTabTitle:this.hasOverflowingEndTabTitle,c=a?this.hasOverflowingEndTabTitle:this.hasOverflowingStartTabTitle;if(l.left<o.left+(s?this.scrollerButtonWidth:0)){const u=r+(l.left-o.left)-this.scrollerButtonWidth;n.scrollTo({left:u,behavior:e})}else if(l.right>o.right-(c?this.scrollerButtonWidth:0)){const u=r+(l.right-o.right)+this.scrollerButtonWidth;n.scrollTo({left:u,behavior:e})}})}internalCloseTabHandler(t){const e=t.target;this.handleTabTitleClose(e),t.stopPropagation()}async updateTabTitles(t){t.target.selected&&(this.selectedTabId=t.detail,this.selectedTitle=await this.getTabTitleById(this.selectedTabId))}globalInternalTabChangeHandler(t){this.syncId&&t.target!==this.el&&t.target.syncId===this.syncId&&this.selectedTabId!==t.detail.tab&&(this.selectedTabId=t.detail.tab),t.stopPropagation()}async selectedTabIdChanged(){await this.componentOnReady(),localStorage&&this.storageId&&this.selectedTabId!==void 0&&this.selectedTabId!==null&&localStorage.setItem(`calcite-tab-nav-${this.storageId}`,JSON.stringify(this.selectedTabId)),this.calciteInternalTabChange.emit({tab:this.selectedTabId})}onTabTitleWheel(t){t.preventDefault();const{deltaX:e,deltaY:a}=t,n=Math.abs(e),o=Math.abs(a);let l;n===o?l=this.lastScrollWheelAxis==="x"?e:a:n>o?(l=e,this.lastScrollWheelAxis="x"):(l=a,this.lastScrollWheelAxis="y");const r=(this.effectiveDir==="rtl"?-1:1)*l;t.currentTarget.scrollBy(r,0)}onSlotChange(){this.intersectionObserver?.disconnect();const t=this.tabTitles;t.forEach(a=>{this.intersectionObserver?.observe(a)});const e=this.getVisibleTabTitlesIndices(t);e.length>1&&this.makeFirstVisibleTabClosable&&(t[e[0]].closable=!0,this.makeFirstVisibleTabClosable=!1),this.calciteInternalTabNavSlotChange.emit(t)}storeTabTitleWrapperRef(t){t&&(this.tabTitleContainerEl=t,this.intersectionObserver=Y("intersection",()=>this.updateScrollingState(),{root:t,threshold:[0,.5,1]}))}updateScrollingState(){const t=this.tabTitleContainerEl;if(!t)return;let e,a;const n=t.scrollLeft,o=t.clientWidth,l=t.scrollWidth;this.effectiveDir==="ltr"?(e=n>0,a=n+o<l):(e=n<0,a=n!==-(l-o)),this.hasOverflowingStartTabTitle=e,this.hasOverflowingEndTabTitle=a}scrollToTabTitles(t){requestAnimationFrame(()=>{const e=this.tabTitleContainerEl,a=e.getBoundingClientRect(),n=Array.from(this.el.querySelectorAll("calcite-tab-title")),{effectiveDir:o}=this;t==="forward"&&n.reverse();let l=null;if(n.forEach(r=>{const s=r.getBoundingClientRect(),c=a.x+a.width,u=s.x+s.width;t==="forward"&&o==="ltr"||t==="backward"&&o==="rtl"?(s.x>c||u>c&&s.x>a.x)&&(l=r):(u<a.x||u<c&&s.x<a.x)&&(l=r)}),l){const{scrollerButtonWidth:r}=this,s=t==="forward"&&o==="ltr"||t==="backward"&&o==="rtl"?-r:l.offsetWidth-e.clientWidth+r,c=l.offsetLeft+s;e.scrollTo({left:c,behavior:"smooth"})}})}scrollToNextTabTitles(){this.scrollToTabTitles("forward")}scrollToPreviousTabTitles(){this.scrollToTabTitles("backward")}handleTabFocus(t,e,a){const n=xe(this.enabledTabTitles,e,a);this.scrollTabTitleIntoView(n,"instant"),t.stopPropagation()}getIndexOfTabTitle(t,e=this.tabTitles){return e.indexOf(t)}onTabTitleScroll(){this.updateScrollingState()}async getTabTitleById(t){return Promise.all(this.tabTitles.map(e=>e.getTabIdentifier())).then(e=>this.tabTitles[e.indexOf(t)])}getVisibleTabTitlesIndices(t){return t.reduce((e,a,n)=>a.closed?e:[...e,n],[])}handleTabTitleClose(t){const{tabTitles:e}=this,a=t.selected,n=this.getVisibleTabTitlesIndices(e),o=n.length;if(o===1&&e[n[0]].closable)this.makeFirstVisibleTabClosable=!0,e[n[0]].closable=!1,this.selectedTabId=n[0],a&&e[n[0]].activateTab();else if(o>1){const l=e.findIndex(s=>s===t),r=n.find(s=>s>l);this.selectedTabId===l&&(this.selectedTabId=r||o-1,e[this.selectedTabId].activateTab())}requestAnimationFrame(()=>{e[this.selectedTabId].focus()})}render(){return this.el.role="tablist",b`<div class=${d({[U.container]:!0,[U.containerHasStartTabTitleOverflow]:!!this.hasOverflowingStartTabTitle,[U.containerHasEndTabTitleOverflow]:!!this.hasOverflowingEndTabTitle,[`scale-${this.scale}`]:!0,[`position-${this.position}`]:!0,[Ot.rtl]:this.effectiveDir==="rtl"})}>${this.renderScrollButton("start")}<div class=${d({[U.tabTitleSlotWrapper]:!0})} @scroll=${this.onTabTitleScroll} @wheel=${this.onTabTitleWheel} ${T(this.storeTabTitleWrapperRef)}><slot @slotchange=${this.onSlotChange}></slot></div>${this.renderScrollButton("end")}</div>`}renderScrollButton(t){const{bordered:e,messages:a,hasOverflowingStartTabTitle:n,hasOverflowingEndTabTitle:o,scale:l}=this,r=t==="end";return D(t,b`<div class=${d({[U.scrollButtonContainer]:!0,[U.scrollBackwardContainerButton]:!r,[U.scrollForwardContainerButton]:r})} .hidden=${r&&!o||!r&&!n}><calcite-button .appearance=${e?"outline-fill":"transparent"} .ariaLabel=${r?a.nextTabTitles:a.previousTabTitles} class=${d({[U.scrollButton]:!0})} icon-flip-rtl=both .iconStart=${r?ee.chevronRight:ee.chevronLeft} kind=neutral @click=${r?this.scrollToNextTabTitles:this.scrollToPreviousTabTitles} .scale=${l} tabindex=-1></calcite-button></div>`)}}M("calcite-tab-nav",Ti);const ie={button:"x-button",buttonRound:"x-button--round"},$i=({disabled:i,focusable:t,key:e,label:a,onClick:n,ref:o,round:l=!0,scale:r,title:s})=>D(e,b`<button .ariaLabel=${a} class=${d({[(c=>`x-button--${c}`)(r)]:!0,[ie.button]:!0,[ie.buttonRound]:l})} .disabled=${i} @click=${n} .tabIndex=${0} title=${s??m} type=button ${T(o)}><calcite-icon icon=x .scale=${J(r)}></calcite-icon></button>`),O={container:"container",containerBottom:"container--bottom",content:"content",contentHasText:"content--has-text",iconEnd:"icon-end",iconPresent:"icon-present",iconStart:"icon-start",titleIcon:"calcite-tab-title--icon",scale:i=>`scale-${i}`,selectedIndicator:"selected-indicator"},Ii=B`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;outline:2px solid transparent;outline-offset:2px;margin-inline-start:0px}:host([layout=inline]){flex:0 1 auto}:host([layout=center]){flex:1 1 auto}.content{position:relative;margin-block-end:.125rem;box-sizing:border-box;display:flex;block-size:100%;align-items:center;justify-content:center}.scale-s .content{padding-block:.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}.scale-s .x-button{inline-size:1.25rem}.scale-m .content{padding-block:.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}.scale-m .x-button{inline-size:1.75rem}.scale-l .content{padding-block:.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}.scale-l .x-button{inline-size:2rem}:host([closable]) .content{border-block-end-color:transparent}:host([layout=inline]) .content,:host([layout=center]) .content{padding-inline:.25rem}:host([layout=center]) .scale-s,:host([layout=center]) .scale-m,:host([layout=center]) .scale-l{margin-block:0px;justify-content:center;text-align:center}:host([layout=center]) .scale-s .content,:host([layout=center]) .scale-m .content,:host([layout=center]) .scale-l .content{flex:1 1 auto;flex-grow:1}.container{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;align-content:center;justify-content:space-between;padding-inline:0px;font-size:var(--calcite-font-size--1);line-height:1rem;outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-tab-text-color, var(--calcite-color-text-3));background-color:var(--calcite-tab-background-color, transparent)}.selected-indicator{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:0;inset-inline-start:0;inset-inline-end:0;inline-size:100%}:host([bordered][selected]) .container:after{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:-1px;inset-inline-start:0;inset-inline-end:0;inline-size:100%;content:""}:host([bordered][selected]) .container.container--bottom:after{inset-block-start:-1px}:host([bordered][selected]:focus) .container:after{background:transparent}.container--bottom .selected-indicator{inset-block-end:unset;inset-block-start:0}:host(:not([bordered])) .container:hover,:host(:not([bordered])) .container:active{color:var(--calcite-color-text-1)}:host([bordered]:not([selected]):hover:not(:focus)) .selected-indicator{background-color:var(--calcite-color-foreground-2)}:host([bordered]:not([selected]):hover:not(:focus)) .container:not(.container--bottom) .selected-indicator{box-shadow:inset 0 1px var(--calcite-color-border-1)}:host([bordered]:not([selected]):hover:not(:focus)) .container.container--bottom .selected-indicator{box-shadow:inset 0 -1px var(--calcite-color-border-1)}:host([selected]:focus) .selected-indicator{block-size:4px}.calcite-tab-title--icon{position:relative;margin:0;display:inline-flex;align-self:center}.calcite-tab-title--icon svg{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.content--has-text .icon-start,.content--has-text .calcite-tab-title--icon.icon-start{color:var(--calcite-tab-icon-color-start, var(--calcite-icon-color))}.content--has-text .calcite-tab-title--icon.icon-start .icon-end,.content--has-text .calcite-tab-title--icon.icon-end{color:var(--calcite-tab-icon-color-end, var(--calcite-icon-color))}.content--has-text{padding:.25rem}.content--has-text .calcite-tab-title--icon.icon-start{margin-inline-end:var(--calcite-spacing-sm)}.content--has-text .calcite-tab-title--icon.icon-end{margin-inline-start:var(--calcite-spacing-sm)}.x-button{display:flex;block-size:100%;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-style:none;background-color:transparent;outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;margin-inline-start:var(--calcite-spacing-sm);margin-inline-end:var(--calcite-spacing-px);block-size:calc(100% - var(--calcite-spacing-xxs));color:var(--calcite-tab-close-icon-color, var(--calcite-color-text-3));background-color:var(--calcite-tab-close-icon-background-color, var(--calcite-color-transparent))}.x-button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.x-button:focus,.x-button:hover,.x-button:active{color:var(--calcite-tab-close-icon-color-press, var(--calcite-color-text-1));background-color:var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container{border-color:transparent;border-inline-width:var(--calcite-spacing-px);border-inline-style:solid}:host([bordered]) .container:hover,:host([bordered]) .container:active{color:var(--calcite-color-text-1)}:host([bordered]) .container .x-button calcite-icon{margin-block-start:var(--calcite-spacing-px)}:host([bordered]) .container .x-button:focus,:host([bordered]) .container .x-button:hover,:host([bordered]) .container .x-button:active{box-shadow:0 2px 0 0 var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container.container--bottom{border-block-start-style:solid;border-block-start-width:1px}:host([bordered]) .container.container--bottom .selected-indicator{inset-block-start:unset;inset-block-end:0}:host([bordered]) .container.container--bottom .x-button{box-shadow:0 -2px 0 0 var(--calcite-tab-close-icon-background-color, var(--calcite-color-transparent))}:host([bordered]) .container.container--bottom .x-button:focus,:host([bordered]) .container.container--bottom .x-button:hover,:host([bordered]) .container.container--bottom .x-button:active{box-shadow:0 -2px 0 0 var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container.container--bottom .x-button calcite-icon{margin-block-end:var(--calcite-spacing-px)}:host([bordered]) .container:not(.container--bottom){border-block-end-style:solid;border-block-end-width:1px}:host([bordered]) .container:not(.container--bottom) .x-button{block-size:calc(100% - var(--calcite-spacing-px));margin-block-start:-1px}:host([bordered]) .container .selected-indicator{inset-block-start:0;inset-block-end:unset;inset-inline-start:-1px;inset-inline-end:0;inline-size:calc(100% + var(--calcite-spacing-base))}:host([bordered]) .container:host(:not([selected])) .container .x-button{box-shadow:0 2px 0 0 transparent}:host([bordered]) .container:host(:not([selected])):host(:hover) .container:not(.container--bottom){border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) .selected-indicator{box-shadow:inset 0 var(--calcite-internal-tab-shadow-length) var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) :not(.container--bottom){--calcite-internal-tab-shadow-length: 1px}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) .container--bottom{--calcite-internal-tab-shadow-length: -1px}:host([bordered]) .container:hover{background-color:var(--calcite-tab-background-color-hover, var(--calcite-color-foreground-2));border-block-end-color:var(--calcite-color-border-1)}:host(:hover) .selected-indicator{background-color:var(--calcite-color-border-3)}:host([selected]) .selected-indicator,:host([selected]:hover) .selected-indicator,:host(:focus) .selected-indicator,:host(:active) .selected-indicator{background-color:var(--calcite-tab-accent-color-press, var(--calcite-color-brand))}:host([closed]){display:none}:host([selected]) .container{border-color:transparent;color:var(--calcite-tab-text-color, var(--calcite-color-text-1))}:host([selected][bordered]) .container{border-inline-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([selected][bordered]) .container:after{background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([selected][bordered]) .container:hover,:host([selected][bordered]) .container:active{background:transparent}:host(:focus) .container{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host(:focus) .container:focus-within{outline-color:transparent}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{margin-inline-end:var(--calcite-spacing-sm)}:host([layout=inline][bordered]) .scale-m .content,:host([layout=center][bordered]) .scale-m .content{padding-inline:.75rem}:host([layout=inline][bordered]) .scale-s .content,:host([layout=center][bordered]) .scale-s .content{padding-inline:.5rem}:host([layout=inline][bordered]) .scale-l .content,:host([layout=center][bordered]) .scale-l .content{padding-inline:1rem}:host([layout=inline][closable]) .scale-s .content,:host([layout=inline][closable]) .scale-m .content,:host([layout=inline][closable]) .scale-l .content{padding-inline-end:0}@media (forced-colors: active){:host{outline-width:0;outline-offset:0}:host(:focus) .container{outline-color:highlight}:host([bordered][selected]) .container{border-block-end-style:none}:host([bordered][selected]) .container--bottom{border-block-start-style:none}.x-button{z-index:var(--calcite-z-index)}.selected-indicator{background-color:highlight}}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) .container{pointer-events:none;opacity:.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`;class zi extends P{constructor(){super(),this.closeButtonEl=yt(),this.guid=`calcite-tab-title-${Nt()}`,this.mutationObserver=Y("mutation",()=>this.updateHasText()),this.resizeObserver=Y("resize",()=>{this.calciteInternalTabIconChanged.emit()}),this.messages=ot(),this.hasText=!1,this.bordered=!1,this.closable=!1,this.closed=!1,this.disabled=!1,this.position="top",this.scale="m",this.selected=!1,this.calciteInternalTabIconChanged=w({cancelable:!1}),this.calciteInternalTabTitleRegister=w({cancelable:!1}),this.calciteInternalTabsActivate=w({cancelable:!1}),this.calciteInternalTabsClose=w({cancelable:!1}),this.calciteInternalTabsFocusFirst=w({cancelable:!1}),this.calciteInternalTabsFocusLast=w({cancelable:!1}),this.calciteInternalTabsFocusNext=w({cancelable:!1}),this.calciteInternalTabsFocusPrevious=w({cancelable:!1}),this.calciteTabsActivate=w({cancelable:!1}),this.calciteTabsClose=w({cancelable:!1}),this.listenOn(document.body,"calciteInternalTabChange",this.internalTabChangeHandler),this.listen("click",this.onClick),this.listen("keydown",this.keyDownHandler)}static{this.properties={controls:[16,{},{state:!0}],hasText:[16,{},{state:!0}],bordered:[7,{},{reflect:!0,type:Boolean}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}],iconStart:[3,{},{reflect:!0}],layout:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],position:1,scale:1,selected:[7,{},{reflect:!0,type:Boolean}],tab:[3,{},{reflect:!0}]}}static{this.styles=Ii}async activateTab(t=!0){if(this.disabled||this.closed)return;const e={tab:this.tab,userTriggered:t};this.calciteInternalTabsActivate.emit(e),t&&requestAnimationFrame(()=>this.calciteTabsActivate.emit())}async getTabIdentifier(){return this.tab?this.tab:this.getTabIndex()}async getTabIndex(){return Array.prototype.indexOf.call(Dt(this.el.parentElement.children).filter(t=>t.matches("calcite-tab-title")),this.el)}_updateAriaInfo(t=[],e=[]){this.controls=t[e.indexOf(this.el.id)]||null}connectedCallback(){super.connectedCallback(),this.setupTextContentObserver(),this.parentTabsEl=this.el.closest("calcite-tabs")}async load(){this.updateHasText(),this.tab&&this.selected&&this.activateTab(!1)}willUpdate(t){t.has("selected")&&(this.hasUpdated||this.selected!==!1)&&this.selectedHandler(),this.parentTabsEl&&(this.layout=this.parentTabsEl.layout,this.bordered=this.parentTabsEl.bordered)}updated(){xt(this)}async loaded(){this.calciteInternalTabTitleRegister.emit(await this.getTabIdentifier())}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),document.body?.dispatchEvent(new CustomEvent("calciteTabTitleUnregister",{detail:this.el})),this.resizeObserver?.disconnect()}selectedHandler(){this.selected&&this.activateTab(!1)}internalTabChangeHandler(t){t.composedPath().find(e=>e.tagName==="CALCITE-TABS")===this.parentTabsEl&&(this.tab?this.selected=this.tab===t.detail.tab:this.getTabIndex().then(e=>{this.selected=e===t.detail.tab}),t.stopPropagation())}onClick(){this.activateTab()}keyDownHandler(t){switch(t.key){case" ":case"Enter":t.composedPath().includes(this.closeButtonEl.value)||(this.activateTab(),t.preventDefault());break;case"ArrowRight":t.preventDefault(),X(this.el)==="ltr"?this.calciteInternalTabsFocusNext.emit():this.calciteInternalTabsFocusPrevious.emit();break;case"ArrowLeft":t.preventDefault(),X(this.el)==="ltr"?this.calciteInternalTabsFocusPrevious.emit():this.calciteInternalTabsFocusNext.emit();break;case"Home":t.preventDefault(),this.calciteInternalTabsFocusFirst.emit();break;case"End":t.preventDefault(),this.calciteInternalTabsFocusLast.emit();break}}closeClickHandler(){this.closeTabTitleAndNotify()}updateHasText(){this.hasText=this.el.textContent.trim().length>0}setupTextContentObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}closeTabTitleAndNotify(){this.closed=!0,this.calciteInternalTabsClose.emit({tab:this.tab}),this.calciteTabsClose.emit()}render(){const{el:t,closed:e}=this,a=t.id||this.guid,n=b`<calcite-icon class=${d({[O.titleIcon]:!0,[O.iconStart]:!0})} .flipRtl=${this.iconFlipRtl==="start"||this.iconFlipRtl==="both"} .icon=${this.iconStart} .scale=${J(this.scale)}></calcite-icon>`,o=b`<calcite-icon class=${d({[O.titleIcon]:!0,[O.iconEnd]:!0})} .flipRtl=${this.iconFlipRtl==="end"||this.iconFlipRtl==="both"} .icon=${this.iconEnd} .scale=${J(this.scale)}></calcite-icon>`;return G(this.el,"aria-controls",this.controls),this.el.ariaSelected=we(this.selected),G(this.el,"id",a),this.el.role="tab",G(this.el,"tabIndex",this.selected&&!this.disabled?0:-1),wt({disabled:this.disabled,children:b`<div class=${d({[O.container]:!0,[O.containerBottom]:this.position==="bottom",[O.iconPresent]:!!this.iconStart||!!this.iconEnd,[O.scale(this.scale)]:!0})} .hidden=${e} ${T(l=>l?this.resizeObserver?.observe(l):null)}><div class=${d({[O.content]:!0,[O.contentHasText]:this.hasText})}>${this.iconStart?n:null}<slot></slot>${this.iconEnd?o:null}</div>${this.renderCloseButton()}<div class=${d(O.selectedIndicator)}></div></div>`})}renderCloseButton(){const{closable:t,messages:e}=this;return t?D("close-button",$i({disabled:!1,focusable:!0,label:e.close,onClick:this.closeClickHandler,ref:this.closeButtonEl,round:!1,scale:this.scale,title:e.close})):null}}M("calcite-tab-title",zi);const ae={container:"container",content:"content"},Ai=B`:host{display:none}:host,.container,.content{block-size:100%;inline-size:100%}:host([selected]),:host([selected]) .container{display:flex;flex-direction:column}.content{box-sizing:border-box;padding-block:var(--calcite-tab-content-space-y, var(--calcite-tab-content-block-padding, var(--calcite-internal-tab-content-space-y)))}.scale-s{--calcite-internal-tab-content-space-y: .25rem;font-size:var(--calcite-font-size-sm);line-height:1rem}.scale-m{--calcite-internal-tab-content-space-y: .5rem;font-size:var(--calcite-font-size);line-height:1rem}.scale-l{--calcite-internal-tab-content-space-y: .625rem;font-size:var(--calcite-font-size-md);line-height:1.25rem}.container{display:none;block-size:100%;inline-size:100%;overflow:auto;outline-color:transparent}.container:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([hidden]){display:none}[hidden]{display:none}`;class Fi extends P{constructor(){super(),this.guid=`calcite-tab-title-${Nt()}`,this.scale="m",this.selected=!1,this.listenOn(document.body,"calciteInternalTabChange",this.internalTabChangeHandler)}static{this.properties={labeledBy:[16,{},{state:!0}],scale:1,selected:[7,{},{reflect:!0,type:Boolean}],tab:[3,{},{reflect:!0}]}}static{this.styles=Ai}async getTabIndex(){return Array.prototype.indexOf.call(Dt(this.el.parentElement.children).filter(t=>t.matches("calcite-tab")),this.el)}_updateAriaInfo(t=[],e=[]){this.labeledBy=e[t.indexOf(this.el.id)]||null}connectedCallback(){super.connectedCallback(),this.parentTabsEl=this.el.closest("calcite-tabs")}disconnectedCallback(){super.disconnectedCallback(),document.body?.dispatchEvent(new CustomEvent("calciteTabUnregister",{detail:this.el}))}internalTabChangeHandler(t){t.composedPath().find(e=>e.tagName==="CALCITE-TABS")===this.parentTabsEl&&(this.tab?this.selected=this.tab===t.detail.tab:this.getTabIndex().then(e=>{this.selected=e===t.detail.tab}),t.stopPropagation())}render(){const t=this.el.id||this.guid;return G(this.el,"aria-labelledby",this.labeledBy),G(this.el,"id",t),b`<div class=${d({[ae.container]:!0,[`scale-${this.scale}`]:!0})} role=tabpanel .tabIndex=${this.selected?0:-1}><section class=${d(ae.content)}><slot></slot></section></div>`}}M("calcite-tab",Fi);const Oi=(i,t,e)=>Math.max(t,Math.min(i,e));function ne(i,t,e,a,n){return(i-t)*(n-a)/(e-t)+a}function Ei(i,t,e){return i<e?-1:i>t-e?1:0}const Hi=B`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);inline-size:var(--calcite-internal-color-picker-min-width);min-inline-size:var(--calcite-internal-color-picker-min-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-color-picker-min-width: 200px;--calcite-color-picker-spacing: 8px}:host([scale=s]) .saved-colors{gap:.25rem;grid-template-columns:repeat(auto-fill,20px)}:host([scale=m]){--calcite-internal-color-picker-min-width: 240px;--calcite-color-picker-spacing: 12px}:host([scale=l]){--calcite-internal-color-picker-min-width: 304px;--calcite-color-picker-spacing: 16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill,32px)}:host([scale=l]) .control-section{display:flex;flex-direction:column;flex-wrap:wrap;align-items:baseline}:host([scale=l]) .color-hex-options{inline-size:100%;display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-color-foreground-1);display:flex;flex-direction:column;block-size:min-content;border:1px solid var(--calcite-color-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.color-field,.control-and-scope{-webkit-user-select:none;user-select:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));outline-offset:6px}.hex-and-channels-group{display:flex;inline-size:100%;flex-direction:column;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing);gap:var(--calcite-spacing-xxs)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex}.channel{flex-grow:1}.channel[data-channel-index="3"]{margin-inline-start:-1px;min-inline-size:81px}:host([scale=s]) .channel[data-channel-index="3"]{min-inline-size:68px}:host([scale=l]) .channel[data-channel-index="3"]{min-inline-size:88px}.saved-colors{display:grid;gap:.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill,24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-color-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`,oe=16;class le extends P{constructor(){super(),this._color=R,this.internalColorUpdateContext=null,this.isActiveChannelInputEmpty=!1,this.mode=v.HEX,this.resizeObserver=Y("resize",t=>this.resizeCanvas(t)),this.shiftKeyChannelAdjustment=0,this.upOrDownArrowKeyTracker=null,this._valueWasSet=!1,this.messages=ot({blocking:!0}),this.captureColorFieldColor=(t,e,a=!0)=>{const{width:n,height:o}=this.dynamicDimensions.colorField,l=Math.round($.s/n*t),r=Math.round($.v/o*(o-e));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(l).value(r),a)},this.drawColorControls=Rt((t="all")=>{(t==="all"||t==="color-field")&&this.colorFieldRenderingContext&&this.drawColorField(),(t==="all"||t==="hue-slider")&&this.hueSliderRenderingContext&&this.drawHueSlider(),this.alphaChannel&&(t==="all"||t==="opacity-slider")&&this.opacitySliderRenderingContext&&this.drawOpacitySlider()},oe),this.globalPointerMoveHandler=t=>{const{activeCanvasInfo:e,el:a}=this;if(!a.isConnected||!e)return;const{context:n,bounds:o}=e;let l,r;const{clientX:s,clientY:c}=t;n.canvas.matches(":hover")?(l=s-o.x,r=c-o.y):(s<o.x+o.width&&s>o.x?l=s-o.x:s<o.x?l=0:l=o.width,c<o.y+o.height&&c>o.y?r=c-o.y:c<o.y?r=0:r=o.height),n===this.colorFieldRenderingContext?this.captureColorFieldColor(l,r,!1):n===this.hueSliderRenderingContext?this.captureHueSliderColor(l):n===this.opacitySliderRenderingContext&&this.captureOpacitySliderValue(l)},this.globalPointerUpHandler=t=>{if(!Bt(t))return;const e=this.activeCanvasInfo;this.activeCanvasInfo=null,this.drawColorControls(),e&&this.calciteColorPickerChange.emit()},this.resizeCanvas=Rt(t=>{if(!this.hasUpdated)return;const[e]=t,a=Math.floor(e.contentBoxSize[0].inlineSize);this.dynamicDimensions.colorField.width!==a&&(this.updateDynamicDimensions(a),this.updateCanvasSize(),this.drawColorControls())},oe),this.updateDynamicDimensions=t=>{const e={width:si(t,this.staticDimensions,this.alphaChannel),height:this.staticDimensions.slider.height};this.dynamicDimensions={colorField:ci(t),slider:e}},this.channelMode="rgb",this.channels=this.toChannels(R),this.staticDimensions=tt.m,this.savedColors=[],this.allowEmpty=!1,this.alphaChannel=!1,this.channelsDisabled=!1,this.clearable=!1,this.disabled=!1,this.format="auto",this.hexDisabled=!1,this.savedDisabled=!1,this.scale="m",this.calciteColorPickerChange=w({cancelable:!1}),this.calciteColorPickerInput=w({cancelable:!1}),this.listen("keydown",this.handleChannelKeyUpOrDown,{capture:!0}),this.listen("keyup",this.handleChannelKeyUpOrDown,{capture:!0})}static{this.properties={channelMode:[16,{},{state:!0}],channels:[16,{},{state:!0}],colorFieldScopeLeft:[16,{},{state:!0}],colorFieldScopeTop:[16,{},{state:!0}],staticDimensions:[16,{},{state:!0}],hueScopeLeft:[16,{},{state:!0}],opacityScopeLeft:[16,{},{state:!0}],savedColors:[16,{},{state:!0}],scopeOrientation:[16,{},{state:!0}],allowEmpty:[7,{},{reflect:!0,type:Boolean}],alphaChannel:[5,{},{type:Boolean}],channelsDisabled:[5,{},{type:Boolean}],clearable:[7,{},{reflect:!0,type:Boolean}],color:[0,{},{attribute:!1}],disabled:[7,{},{reflect:!0,type:Boolean}],format:[3,{},{reflect:!0}],hexDisabled:[5,{},{type:Boolean}],messageOverrides:[0,{},{attribute:!1}],numberingSystem:[3,{},{reflect:!0}],savedDisabled:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],storageId:[3,{},{reflect:!0}],value:1}}static{this.styles=Hi}get color(){return this._color}set color(t){const e=this._color;this._color=t,this.handleColorChange(t,e)}get value(){return this._value}set value(t){const e=this._value;this._value=t,this.handleValueChange(t,e),this._valueWasSet=!0}async setFocus(){await Ct(this),Ce(this.el)}connectedCallback(){super.connectedCallback(),this.observeResize()}async load(){this._valueWasSet||(this._value??=F(I(R,this.alphaChannel))),this.handleAllowEmptyOrClearableChange();const{isClearable:t,color:e,format:a,value:n}=this,o=t&&!n,l=Gt(n),r=o||a==="auto"&&l||a===l,s=o?null:r?g(n):e;r||this.showIncompatibleColorWarning(n,a),this.setMode(a,!1),this.internalColorSet(s,!1,"initial"),this.updateStaticDimensions(this.scale),this.updateDynamicDimensions(tt[this.scale].minWidth);const c=`${$t}${this.storageId}`;this.storageId&&localStorage.getItem(c)&&(this.savedColors=JSON.parse(localStorage.getItem(c)))}willUpdate(t){(t.has("allowEmpty")&&(this.hasUpdated||this.allowEmpty!==!1)||t.has("clearable")&&(this.hasUpdated||this.clearable!==!1))&&this.handleAllowEmptyOrClearableChange(),t.has("alphaChannel")&&(this.hasUpdated||this.alphaChannel!==!1)&&this.handleAlphaChannelChange(this.alphaChannel),this.hasUpdated&&(t.has("alphaChannel")&&this.alphaChannel!==!1||t.has("staticDimensions")&&this.staticDimensions!==tt.m)&&this.handleAlphaChannelDimensionsChange(),(t.has("alphaChannel")&&(this.hasUpdated||this.alphaChannel!==!1)||t.has("format")&&(this.hasUpdated||this.format!=="auto"))&&this.handleFormatOrAlphaChannelChange(),t.has("scale")&&(this.hasUpdated||this.scale!=="m")&&this.handleScaleChange(this.scale)}updated(){xt(this)}loaded(){this.handleAlphaChannelDimensionsChange()}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("pointermove",this.globalPointerMoveHandler),window.removeEventListener("pointerup",this.globalPointerUpHandler),this.resizeObserver?.disconnect()}get baseColorFieldColor(){return this.color||this.previousColor||R}get effectiveSliderWidth(){return this.dynamicDimensions.slider.width}observeResize(){this.resizeObserver?.observe(this.el)}handleAllowEmptyOrClearableChange(){this.isClearable=this.clearable||this.allowEmpty}handleAlphaChannelChange(t){const{format:e}=this;t&&e!=="auto"&&!dt(e)&&(console.warn(`ignoring alphaChannel as the current format (${e}) does not support alpha`),this.alphaChannel=!1)}handleAlphaChannelDimensionsChange(){this.drawColorControls()}handleColorChange(t,e){this.drawColorControls(),this.updateChannelsFromColor(t),this.previousColor=e}handleFormatOrAlphaChannelChange(){this.setMode(this.format),this.internalColorSet(this.color,!1,"internal")}handleScaleChange(t="m"){this.updateStaticDimensions(t),this.updateCanvasSize(),this.drawColorControls()}handleValueChange(t,e){const{isClearable:a,format:n}=this,o=!a||t;let l=!1;if(o){const u=Gt(t);if(!u||n!=="auto"&&u!==n){this.showIncompatibleColorWarning(t,n),this._value=e;return}l=this.mode!==u,this.setMode(u,this.internalColorUpdateContext===null)}const r=this.activeCanvasInfo;if(this.internalColorUpdateContext==="initial")return;if(this.internalColorUpdateContext==="user-interaction"){this.calciteColorPickerInput.emit(),r||this.calciteColorPickerChange.emit();return}const s=a&&!t?null:g(t!=null&&typeof t=="object"&&dt(this.mode)?oi(t):t),c=!Xt(s,this.color);(l||c)&&this.internalColorSet(s,this.alphaChannel&&!(this.mode.endsWith("a")||this.mode.endsWith("a-css"))||this.internalColorUpdateContext==="internal","internal")}handleTabActivate(t){this.channelMode=t.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)}handleColorFieldScopeKeyDown(t){const{key:e}=t,a={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};a[e]&&(t.preventDefault(),this.scopeOrientation=e==="ArrowDown"||e==="ArrowUp"?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+a[e].x||0,this.colorFieldScopeTop+a[e].y||0,!1))}handleHueScopeKeyDown(t){const e=t.shiftKey?10:1,{key:a}=t,n={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(n[a]){t.preventDefault();const o=n[a]*e,l=this.baseColorFieldColor.hue(),r=this.baseColorFieldColor.hue(l+o);this.internalColorSet(r,!1)}}handleHexInputChange(t){t.stopPropagation();const{isClearable:e,color:a}=this,n=t.target.value;if(e&&!n){this.internalColorSet(null);return}const o=a&&F(I(a,dt(this.mode)));n!==o&&this.internalColorSet(g(n))}handleSavedColorSelect(t){const e=t.currentTarget;this.internalColorSet(g(e.color))}handleChannelInput(t){const e=t.currentTarget,a=Number(e.getAttribute("data-channel-index")),n=a===3?L.max:this.channelMode==="rgb"?rt[Object.keys(rt)[a]]:$[Object.keys($)[a]];let o;if(!e.value)o="",this.isActiveChannelInputEmpty=!0,this.upOrDownArrowKeyTracker=null;else{const l=Number(e.value)+this.shiftKeyChannelAdjustment;o=Oi(l,0,n).toString()}e.value=o,o!==""&&this.shiftKeyChannelAdjustment!==0?this.handleChannelChange(t):o!==""&&this.handleChannelChange(t)}handleChannelBlur(t){const e=t.currentTarget,a=Number(e.getAttribute("data-channel-index")),n=[...this.channels];!e.value&&!this.isClearable&&(e.value=n[a]?.toString())}handleChannelFocus(t){t.currentTarget.selectText()}handleChannelKeyUpOrDown(t){this.shiftKeyChannelAdjustment=0;const{key:e}=t;if(e!=="ArrowUp"&&e!=="ArrowDown"||!t.composedPath().some(o=>o.classList?.contains(p.channel)))return;const{shiftKey:a}=t;if(t.preventDefault(),!this.color){this.internalColorSet(this.previousColor),t.stopPropagation();return}const n=9;this.shiftKeyChannelAdjustment=e==="ArrowUp"&&a?n:e==="ArrowDown"&&a?-9:0,e==="ArrowUp"&&(this.upOrDownArrowKeyTracker="up"),e==="ArrowDown"&&(this.upOrDownArrowKeyTracker="down")}getChannelInputLimit(t){return this.channelMode==="rgb"?rt[Object.keys(rt)[t]]:$[Object.keys($)[t]]}handleChannelChange(t){const e=t.currentTarget,a=Number(e.getAttribute("data-channel-index")),n=[...this.channels];if(this.isClearable&&!e.value){this.channels=[null,null,null,null],this.internalColorSet(null);return}const o=a===3;this.isActiveChannelInputEmpty&&this.upOrDownArrowKeyTracker&&(e.value=this.upOrDownArrowKeyTracker==="up"?(n[a]+1<=this.getChannelInputLimit(a)?n[a]+1:this.getChannelInputLimit(a)).toString():(n[a]-1>=0?n[a]-1:0).toString(),this.isActiveChannelInputEmpty=!1,this.upOrDownArrowKeyTracker=null);const l=e.value?Number(e.value):n[a];n[a]=o?st(l):l,this.updateColorFromChannels(n)}handleSavedColorKeyDown(t){Pe(t.key)&&(t.preventDefault(),this.handleSavedColorSelect(t))}handleColorFieldPointerDown(t){this.handleCanvasControlPointerDown(t,this.colorFieldRenderingContext,this.captureColorFieldColor,this.colorFieldScopeNode)}focusScope(t){requestAnimationFrame(()=>{t.focus()})}handleHueSliderPointerDown(t){this.handleCanvasControlPointerDown(t,this.hueSliderRenderingContext,this.captureHueSliderColor,this.hueScopeNode)}handleOpacitySliderPointerDown(t){this.handleCanvasControlPointerDown(t,this.opacitySliderRenderingContext,this.captureOpacitySliderValue,this.opacityScopeNode)}handleCanvasControlPointerDown(t,e,a,n){Bt(t)&&(window.addEventListener("pointermove",this.globalPointerMoveHandler),window.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:e,bounds:e.canvas.getBoundingClientRect()},a.call(this,t.offsetX,t.offsetY),this.focusScope(n))}storeColorFieldScope(t){this.colorFieldScopeNode=t}storeHueScope(t){this.hueScopeNode=t}handleKeyDown(t){t.key==="Enter"&&t.preventDefault()}showIncompatibleColorWarning(t,e){console.warn(`ignoring color value (${t}) as it is not compatible with the current format (${e})`)}setMode(t,e=!0){const a=t==="auto"?this.mode:t;this.mode=this.ensureCompatibleMode(a,e)}ensureCompatibleMode(t,e){const{alphaChannel:a}=this,n=dt(t);if(a&&!n){const o=li(t);return e&&console.warn(`setting format to (${o}) as the provided one (${t}) does not support alpha`),o}if(!a&&n){const o=Jt(t);return e&&console.warn(`setting format to (${o}) as the provided one (${t}) does not support alpha`),o}return t}captureHueSliderColor(t){const e=Ut/this.effectiveSliderWidth*t;this.internalColorSet(this.baseColorFieldColor.hue(e),!1)}captureOpacitySliderValue(t){const e=st(L.max/this.effectiveSliderWidth*t);this.internalColorSet(this.baseColorFieldColor.alpha(e),!1)}internalColorSet(t,e=!0,a="user-interaction"){e&&Xt(t,this.color)||(this.internalColorUpdateContext=a,this.color=t,this.value=this.toValue(t),this.internalColorUpdateContext=null)}toValue(t,e=this.mode){if(!t)return null;if(e.includes("hex")){const n=e===v.HEXA;return F(I(t.round(),n),n)}if(e.includes("-css")){const n=t[e.replace("-css","").replace("a","")]().round().string();if((e.endsWith("a")||e.endsWith("a-css"))&&t.alpha()===1){const o=n.slice(0,3),l=n.slice(4,-1);return`${o}a(${l}, ${t.alpha()})`}return n}const a=t[Jt(e)]().round().object();return e.endsWith("a")?ni(a):a}getSliderCapSpacing(){const{staticDimensions:{slider:{height:t},thumb:{radius:e}}}=this;return e*2-t}updateStaticDimensions(t="m"){this.staticDimensions=tt[t]}deleteColor(){const t=I(this.color,this.alphaChannel);if(!(this.savedColors.indexOf(t)>-1))return;const e=this.savedColors.filter(n=>n!==t);this.savedColors=e;const a=`${$t}${this.storageId}`;this.storageId&&localStorage.setItem(a,JSON.stringify(e))}saveColor(){const t=I(this.color,this.alphaChannel);if(this.savedColors.indexOf(t)>-1)return;const e=[...this.savedColors,t];this.savedColors=e;const a=`${$t}${this.storageId}`;this.storageId&&localStorage.setItem(a,JSON.stringify(e))}drawColorField(){const t=this.colorFieldRenderingContext,{width:e,height:a}=this.dynamicDimensions.colorField;t.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string(),t.fillRect(0,0,e,a);const n=t.createLinearGradient(0,0,e,0);n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=n,t.fillRect(0,0,e,a);const o=t.createLinearGradient(0,0,0,a);o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,"rgba(0,0,0,1)"),t.fillStyle=o,t.fillRect(0,0,e,a),this.drawActiveColorFieldColor()}setCanvasContextSize(t,{height:e,width:a}){if(!t)return;const n=window.devicePixelRatio||1;t.width=a*n,t.height=e*n,t.style.height=`${e}px`,t.style.width=`${a}px`,t.getContext("2d").scale(n,n)}initColorField(t){t&&(this.colorFieldRenderingContext=t.getContext("2d"),this.updateCanvasSize("color-field"),this.drawColorControls())}initHueSlider(t){t&&(this.hueSliderRenderingContext=t.getContext("2d"),this.updateCanvasSize("hue-slider"),this.drawHueSlider())}initOpacitySlider(t){t&&(this.opacitySliderRenderingContext=t.getContext("2d"),this.updateCanvasSize("opacity-slider"),this.drawOpacitySlider())}updateCanvasSize(t="all"){const{dynamicDimensions:e,staticDimensions:a}=this;(t==="all"||t==="color-field")&&this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas,e.colorField);const n={width:this.effectiveSliderWidth,height:a.slider.height+(a.thumb.radius-e.slider.height/2)*2};(t==="all"||t==="hue-slider")&&this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas,n),(t==="all"||t==="opacity-slider")&&this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas,n)}drawActiveColorFieldColor(){const{color:t}=this;if(!t)return;const e=t.hsv(),{staticDimensions:{thumb:{radius:a}}}=this,{width:n,height:o}=this.dynamicDimensions.colorField,l=e.saturationv()/($.s/n),r=o-e.value()/($.v/o);requestAnimationFrame(()=>{this.colorFieldScopeLeft=l,this.colorFieldScopeTop=r}),this.drawThumb(this.colorFieldRenderingContext,a,l,r,e,!1)}drawThumb(t,e,a,n,o,l){const r=2*Math.PI,s=1;if(t.beginPath(),t.arc(a,n,e,0,r),t.fillStyle="#fff",t.fill(),t.strokeStyle="rgba(0,0,0,0.3)",t.lineWidth=s,t.stroke(),l&&o.alpha()<1){const u=t.createPattern(this.getCheckeredBackgroundPattern(),"repeat");t.beginPath(),t.arc(a,n,e-3,0,r),t.fillStyle=u,t.fill()}t.globalCompositeOperation="source-atop",t.beginPath(),t.arc(a,n,e-3,0,r);const c=l?o.alpha():1;t.fillStyle=o.rgb().alpha(c).string(),t.fill(),t.globalCompositeOperation="source-over"}drawActiveHueSliderColor(){const{color:t}=this;if(!t)return;const e=t.hsv().saturationv(100).value(100),{staticDimensions:{thumb:{radius:a}}}=this,n=this.effectiveSliderWidth,o=e.hue()/(Ut/n),l=a,r=this.getSliderBoundX(o,n,a);requestAnimationFrame(()=>{this.hueScopeLeft=r}),this.drawThumb(this.hueSliderRenderingContext,a,r,l,e,!1)}drawHueSlider(){const t=this.hueSliderRenderingContext,{staticDimensions:{slider:{height:e},thumb:{radius:a}}}=this,n=0,o=a-e/2,l=this.effectiveSliderWidth,r=t.createLinearGradient(0,0,l,0),s=["red","yellow","lime","cyan","blue","magenta","#ff0004"],c=1/(s.length-1);let u=0;s.forEach(f=>{r.addColorStop(u,g(f).string()),u+=c}),t.clearRect(0,0,l,e+this.getSliderCapSpacing()*2),this.drawSliderPath(t,e,l,n,o),t.fillStyle=r,t.fill(),t.strokeStyle="rgba(0,0,0,0.3)",t.lineWidth=1,t.stroke(),this.drawActiveHueSliderColor()}drawOpacitySlider(){const t=this.opacitySliderRenderingContext,{baseColorFieldColor:e,staticDimensions:{slider:{height:a},thumb:{radius:n}}}=this,o=0,l=n-a/2,r=this.effectiveSliderWidth;t.clearRect(0,0,r,a+this.getSliderCapSpacing()*2);const s=t.createLinearGradient(0,l,r,0),c=e.rgb().alpha(0),u=e.rgb().alpha(.5),f=e.rgb().alpha(1);s.addColorStop(0,c.string()),s.addColorStop(.5,u.string()),s.addColorStop(1,f.string()),this.drawSliderPath(t,a,r,o,l);const z=t.createPattern(this.getCheckeredBackgroundPattern(),"repeat");t.fillStyle=z,t.fill(),t.fillStyle=s,t.fill(),t.strokeStyle="rgba(0,0,0,0.3)",t.lineWidth=1,t.stroke(),this.drawActiveOpacitySliderColor()}drawSliderPath(t,e,a,n,o){const l=e/2+1;t.beginPath(),t.moveTo(n+l,o),t.lineTo(n+a-l,o),t.quadraticCurveTo(n+a,o,n+a,o+l),t.lineTo(n+a,o+e-l),t.quadraticCurveTo(n+a,o+e,n+a-l,o+e),t.lineTo(n+l,o+e),t.quadraticCurveTo(n,o+e,n,o+e-l),t.lineTo(n,o+l),t.quadraticCurveTo(n,o,n+l,o),t.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern)return this.checkerPattern;const t=document.createElement("canvas");t.width=10,t.height=10;const e=t.getContext("2d");return e.fillStyle="#ccc",e.fillRect(0,0,10,10),e.fillStyle="#fff",e.fillRect(0,0,5,5),e.fillRect(5,5,5,5),this.checkerPattern=t,t}drawActiveOpacitySliderColor(){const{color:t}=this;if(!t)return;const e=t,{staticDimensions:{thumb:{radius:a}}}=this,n=this.effectiveSliderWidth,o=et(e.alpha())/(L.max/n),l=a,r=this.getSliderBoundX(o,n,a);requestAnimationFrame(()=>{this.opacityScopeLeft=r}),this.drawThumb(this.opacitySliderRenderingContext,a,r,l,e,!0)}getSliderBoundX(t,e,a){const n=Ei(t,e,a);return n===0?t:n===-1?ne(t,0,e,a,a*2):ne(t,0,e,e-a*2,e-a)}storeOpacityScope(t){this.opacityScopeNode=t}handleOpacityScopeKeyDown(t){const e=t.shiftKey?10:1,{key:a}=t,n={ArrowUp:.01,ArrowRight:.01,ArrowDown:-.01,ArrowLeft:-.01};if(n[a]){t.preventDefault();const o=n[a]*e,l=this.baseColorFieldColor.alpha(),r=this.baseColorFieldColor.alpha(l+o);this.internalColorSet(r,!1)}}updateColorFromChannels(t){this.internalColorSet(g(t,this.channelMode))}updateChannelsFromColor(t){this.channels=t?this.toChannels(t):[null,null,null,null]}toChannels(t){const{channelMode:e}=this,a=t[e]().array().map((n,o)=>o===3?n:Math.floor(n));return a.length===3&&a.push(1),a}getAdjustedScopePosition(t,e){return[t-jt/2,e-jt/2]}render(){const{channelsDisabled:t,color:e,colorFieldScopeLeft:a,colorFieldScopeTop:n,staticDimensions:{thumb:{radius:o}},hexDisabled:l,hueScopeLeft:r,messages:s,alphaChannel:c,opacityScopeLeft:u,savedColors:f,savedDisabled:z,scale:A,scopeOrientation:pt}=this,it=this.effectiveSliderWidth,at=e?I(e,c):null,bt=o,gt=r??it*R.hue()/$.h,re=o,se=u??it*et(R.alpha())/L.max,Ft=e===void 0,ft=pt==="vertical",[ce,he]=this.getAdjustedScopePosition(a,n),[de,ue]=this.getAdjustedScopePosition(gt,bt),[pe,be]=this.getAdjustedScopePosition(se,re);return wt({disabled:this.disabled,children:b`<div class=${d(p.container)}><div class=${d(p.controlAndScope)}><canvas class=${d(p.colorField)} @pointerdown=${this.handleColorFieldPointerDown} ${T(this.initColorField)}></canvas><div .ariaLabel=${ft?s.value:s.saturation} .ariaValueMax=${ft?$.v:$.s} aria-valuemin=0 .ariaValueNow=${(ft?e?.saturationv():e?.value())||"0"} class=${d({[p.scope]:!0,[p.colorFieldScope]:!0})} @keydown=${this.handleColorFieldScopeKeyDown} role=slider style=${nt({top:`${he||0}px`,left:`${ce||0}px`})} tabindex=0 ${T(this.storeColorFieldScope)}></div></div><div class=${d(p.previewAndSliders)}><calcite-color-picker-swatch class=${d(p.preview)} .color=${at} .scale=${this.alphaChannel?"l":this.scale}></calcite-color-picker-swatch><div class=${d(p.sliders)}><div class=${d(p.controlAndScope)}><canvas class=${d({[p.slider]:!0,[p.hueSlider]:!0})} @pointerdown=${this.handleHueSliderPointerDown} ${T(this.initHueSlider)}></canvas><div .ariaLabel=${s.hue} .ariaValueMax=${$.h} aria-valuemin=0 .ariaValueNow=${e?.round().hue()||R.round().hue()} class=${d({[p.scope]:!0,[p.hueScope]:!0})} @keydown=${this.handleHueScopeKeyDown} role=slider style=${nt({top:`${ue}px`,left:`${de}px`})} tabindex=0 ${T(this.storeHueScope)}></div></div>${c?b`<div class=${d(p.controlAndScope)}><canvas class=${d({[p.slider]:!0,[p.opacitySlider]:!0})} @pointerdown=${this.handleOpacitySliderPointerDown} ${T(this.initOpacitySlider)}></canvas><div .ariaLabel=${s.opacity} .ariaValueMax=${L.max} .ariaValueMin=${L.min} .ariaValueNow=${(e||R).round().alpha()} class=${d({[p.scope]:!0,[p.opacityScope]:!0})} @keydown=${this.handleOpacityScopeKeyDown} role=slider style=${nt({top:`${be}px`,left:`${pe}px`})} tabindex=0 ${T(this.storeOpacityScope)}></div></div>`:null}</div></div>${l&&t?null:b`<div class=${d({[p.controlSection]:!0,[p.section]:!0})}><div class=${d(p.hexAndChannelsGroup)}>${l?null:b`<div class=${d(p.hexOptions)}><calcite-color-picker-hex-input .allowEmpty=${this.isClearable} .alphaChannel=${c} class=${d(p.control)} .messages=${s} .numberingSystem=${this.numberingSystem} @calciteColorPickerHexInputChange=${this.handleHexInputChange} .scale=${A} .value=${at}></calcite-color-picker-hex-input></div>`}${t?null:b`<calcite-tabs class=${d({[p.colorModeContainer]:!0,[p.splitSection]:!0})} .scale=${A==="l"?"m":"s"}><calcite-tab-nav slot=title-group>${this.renderChannelsTabTitle("rgb")}${this.renderChannelsTabTitle("hsv")}</calcite-tab-nav>${this.renderChannelsTab("rgb")}${this.renderChannelsTab("hsv")}</calcite-tabs>`}</div></div>`}${z?null:b`<div class=${d({[p.savedColorsSection]:!0,[p.section]:!0})}><div class=${d(p.header)}><label>${s.saved}</label><div class=${d(p.savedColorsButtons)}><calcite-button appearance=transparent class=${d(p.deleteColor)} .disabled=${Ft} icon-start=minus kind=neutral .label=${s.deleteColor} @click=${this.deleteColor} .scale=${A} type=button></calcite-button><calcite-button appearance=transparent class=${d(p.saveColor)} .disabled=${Ft} icon-start=plus kind=neutral .label=${s.saveColor} @click=${this.saveColor} .scale=${A} type=button></calcite-button></div></div>${f.length>0?b`<div class=${d(p.savedColors)}>${$e(f,mt=>mt,mt=>b`<calcite-color-picker-swatch class=${d(p.savedColor)} .color=${mt} @click=${this.handleSavedColorSelect} @keydown=${this.handleSavedColorKeyDown} .scale=${A} tabindex=0></calcite-color-picker-swatch>`)}</div>`:null}</div>`}</div>`})}renderChannelsTabTitle(t){const{channelMode:e,messages:a}=this,n=t===e,o=t==="rgb"?a.rgb:a.hsv;return D(t,b`<calcite-tab-title class=${d(p.colorMode)} data-color-mode=${t??m} @calciteTabsActivate=${this.handleTabActivate} .selected=${n}>${o}</calcite-tab-title>`)}renderChannelsTab(t){const{isClearable:e,channelMode:a,channels:n,messages:o,alphaChannel:l}=this,r=t===a,s=t==="rgb"?[o.red,o.green,o.blue]:[o.hue,o.saturation,o.value],c=X(this.el),u=l?n:n.slice(0,3);return D(t,b`<calcite-tab class=${d(p.control)} .selected=${r}><div class=${d(p.channels)} dir=ltr>${u.map((f,z)=>{const A=z===3;return A&&(f=e&&!f?f:et(f)),this.renderChannel(f,z,s[z],c,A?"%":"")})}</div></calcite-tab>`)}renderChannel(t,e,a,n,o){return D(e,b`<calcite-input-number class=${d(p.channel)} data-channel-index=${e??m} dir=${n??m} .label=${a} lang=${this.messages._lang??m} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.handleKeyDown} @calciteInputNumberChange=${this.handleChannelChange} @calciteInputNumberInput=${this.handleChannelInput} @calciteInternalInputNumberBlur=${this.handleChannelBlur} @calciteInternalInputNumberFocus=${this.handleChannelFocus} .scale=${this.scale==="l"?"m":"s"} style=${nt({marginLeft:e>0&&!(this.scale==="s"&&this.alphaChannel&&e===3)?"-1px":""})} .suffixText=${o} .value=${t?.toString()}></calcite-input-number>`)}}M("calcite-color-picker",le);export{le as ColorPicker};
