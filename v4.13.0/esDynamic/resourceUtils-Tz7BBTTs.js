import{ao as L}from"./main-BFDurRCu.js";import{u as i}from"./basicInterfaces-Dsf65ICa.js";class d{constructor(r){this.data=r,this.type="encoded-mesh-texture",this.encoding=i.KTX2_ENCODING}}function g(t){return t?.type==="encoded-mesh-texture"}async function l(t){const r=new Blob([t]),o=await r.text();return JSON.parse(o)}async function w(t,r){if(r===i.KTX2_ENCODING)return new d(t);const o=new Blob([t],{type:r});let n=URL.createObjectURL(o);switch(r){case"image/jpeg":n+="#.jpg";break;case"image/png":n+="#.png"}const e=new Image;if(L("esri-iPhone"))return new Promise((m,p)=>{const s=()=>{c(),m(e)},a=u=>{c(),p(u)},c=()=>{URL.revokeObjectURL(n),e.removeEventListener("load",s),e.removeEventListener("error",a)};e.addEventListener("load",s),e.addEventListener("error",a),e.src=n});try{e.src=n,await e.decode()}catch{console.warn("Failed decoding HTMLImageElement")}return URL.revokeObjectURL(n),e}export{g as n,w as o,l as r,d as t};
