{"version":3,"file":"EdgeProcessingWorker-BR0ctttu.js","sources":["../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{packInterleavedBuffer as e}from\"../../../support/buffer/workerHelper.js\";import{EdgeInputBufferLayout as t}from\"./bufferLayouts.js\";import{extractEdges as n}from\"./edgePreprocessing.js\";import{extract as s,extractEdgeInformation as r,extractComponentsEdgeLocationsLayout as i,extractEdgeLocationsLayout as a}from\"./edgeProcessing.js\";class o{async extract(e){const t=c(e),n=s(t),r=[t.data.buffer];return{result:u(n,r),transferList:r}}async extractComponentsEdgeLocations(t){const s=c(t),i=r(s.data,s.skipDeduplicate,s.indices,s.indicesLength),a=n(i,p),o=[];return{result:e(a.regular.instancesData,o),transferList:o}}async extractEdgeLocations(t){const s=c(t),i=r(s.data,s.skipDeduplicate,s.indices,s.indicesLength),a=n(i,f),o=[];return{result:e(a.regular.instancesData,o),transferList:o}}}function c(e){return{data:t.createView(e.dataBuffer),indices:\"Uint32Array\"===e.indicesType?new Uint32Array(e.indices):\"Uint16Array\"===e.indicesType?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function u(t,n){n.push(t.regular.lodInfo.lengths.buffer),n.push(t.silhouette.lodInfo.lengths.buffer);return{regular:{instancesData:e(t.regular.instancesData,n),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:e(t.silhouette.instancesData,n),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}class l{allocate(e){return a.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}}class d{allocate(e){return i.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}const f=new l,p=new d;export{o as default};\n"],"names":["o","c","s","r","u","t","i","a","n","p","e","f","l","d"],"mappings":";;AAIqV,MAAMA,EAAC;AAAA,EAAC,MAAM,QAAQ,GAAE;AAAC,UAAM,IAAEC,EAAE,CAAC,GAAE,IAAEC,EAAE,CAAC,GAAEC,IAAE,CAAC,EAAE,KAAK,MAAM;AAAE,WAAM,EAAC,QAAOC,EAAE,GAAED,CAAC,GAAE,cAAaA,EAAC;AAAA,EAAC;AAAA,EAAC,MAAM,+BAA+BE,GAAE;AAAC,UAAMH,IAAED,EAAEI,CAAC,GAAEC,IAAEH,EAAED,EAAE,MAAKA,EAAE,iBAAgBA,EAAE,SAAQA,EAAE,aAAa,GAAEK,IAAEC,EAAEF,GAAEG,CAAC,GAAET,IAAE,CAAA;AAAG,WAAM,EAAC,QAAOU,EAAEH,EAAE,QAAQ,eAAcP,CAAC,GAAE,cAAaA,EAAC;AAAA,EAAC;AAAA,EAAC,MAAM,qBAAqBK,GAAE;AAAC,UAAMH,IAAED,EAAEI,CAAC,GAAEC,IAAEH,EAAED,EAAE,MAAKA,EAAE,iBAAgBA,EAAE,SAAQA,EAAE,aAAa,GAAEK,IAAEC,EAAEF,GAAEK,CAAC,GAAEX,IAAE,CAAA;AAAG,WAAM,EAAC,QAAOU,EAAEH,EAAE,QAAQ,eAAcP,CAAC,GAAE,cAAaA,EAAC;AAAA,EAAC;AAAC;AAAC,SAASC,EAAES,GAAE;AAAC,SAAM,EAAC,MAAKL,EAAE,WAAWK,EAAE,UAAU,GAAE,SAAwBA,EAAE,gBAAlB,gBAA8B,IAAI,YAAYA,EAAE,OAAO,IAAkBA,EAAE,gBAAlB,gBAA8B,IAAI,YAAYA,EAAE,OAAO,IAAEA,EAAE,SAAQ,eAAcA,EAAE,eAAc,gBAAeA,EAAE,gBAAe,iBAAgBA,EAAE,gBAAe;AAAC;AAAC,SAASN,EAAEC,GAAEG,GAAE;AAAC,SAAAA,EAAE,KAAKH,EAAE,QAAQ,QAAQ,QAAQ,MAAM,GAAEG,EAAE,KAAKH,EAAE,WAAW,QAAQ,QAAQ,MAAM,GAAQ,EAAC,SAAQ,EAAC,eAAcK,EAAEL,EAAE,QAAQ,eAAcG,CAAC,GAAE,SAAQ,EAAC,SAAQH,EAAE,QAAQ,QAAQ,QAAQ,OAAM,EAAC,GAAE,YAAW,EAAC,eAAcK,EAAEL,EAAE,WAAW,eAAcG,CAAC,GAAE,SAAQ,EAAC,SAAQH,EAAE,WAAW,QAAQ,QAAQ,OAAM,EAAC,GAAE,mBAAkBA,EAAE,kBAAiB;AAAC;AAAC,MAAMO,EAAC;AAAA,EAAC,SAAS,GAAE;AAAC,WAAOL,EAAE,aAAa,CAAC;AAAA,EAAC;AAAA,EAAC,KAAK,GAAE,GAAE;AAAC,WAAO,EAAE,MAAM,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,GAAE,GAAE,GAAE;AAAC,MAAE,UAAU,OAAO,GAAE,EAAE,SAAS,GAAE,EAAE,UAAU,OAAO,GAAE,EAAE,SAAS;AAAA,EAAC;AAAC;AAAC,MAAMM,EAAC;AAAA,EAAC,SAAS,GAAE;AAAC,WAAOP,EAAE,aAAa,CAAC;AAAA,EAAC;AAAA,EAAC,KAAK,GAAE,GAAE;AAAC,WAAO,EAAE,MAAM,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,GAAE,GAAE,GAAE;AAAC,MAAE,UAAU,OAAO,GAAE,EAAE,SAAS,GAAE,EAAE,UAAU,OAAO,GAAE,EAAE,SAAS,GAAE,EAAE,eAAe,IAAI,GAAE,EAAE,cAAc;AAAA,EAAC;AAAC;AAAC,MAAMK,IAAE,IAAIC,KAAEH,IAAE,IAAII;","x_google_ignoreList":[0]}