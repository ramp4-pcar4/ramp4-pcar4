{"version":3,"file":"MeshWriterRegistry-_Hh-alxg.js","sources":["../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/ComputedAnimatedParams.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/AnimatedMarkerMeshWriter.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/AnimatedPolyMeshWriters.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/labels/LabelMeshWriter.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/DictionaryValue.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/MeshWriterInputEvaluator.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/MeshWriterRegistry.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../../../../core/screenUtils.js\";function i(i){let{pixelDimensions:t,texelDimensions:s,baseSize:r,referenceSize:n,strokeWidth:o,sizeRatio:f}=i;if(t||(t=i.sprite.sdf?[0,0]:[i.sprite.width,i.sprite.height]),s||(s=i.sprite.sdf?[0,0]:t),null!=i.patternHeight){const e=i.patternHeight/t[1];t[1]*=e,t[0]*=e}-1===r&&(r=t[1]),r=e(r),n=e(n),o=e(o);const p=(i.sprite.sdfDecodeCoeff??1)*f;return{...i,pixelDimensions:t,texelDimensions:s,baseSize:r,referenceSize:n,strokeWidth:o,sdfDecodeCoeff:p}}export{i as createComputedAnimatedMeshParams};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../../../../core/screenUtils.js\";import{GeometryCursor as t}from\"../../../../../../../geometry/GeometryCursor.js\";import{maxTileCoordValue as i}from\"../../../../../../../symbols/cim/constants.js\";import{ExtremityPlacement as r}from\"../../../../../../../symbols/cim/enums.js\";import{CIMMarkerPlacementHelper as s}from\"../../../../../../../symbols/cim/placements/CIMMarkerPlacementHelper.js\";import{spritePadding as o}from\"../../../definitions.js\";import{AAnimatedMeshWriter as n}from\"./AnimatedMeshWriter.js\";import{angle as a,sizing as c,animationPointerAndBaseSizeAndReferenceSize as m,uv as l,offset as d,pos as p,bitset as h,id as u,lineLength as f,value1Position2Value2 as y,zoomRange as x}from\"./attributes.js\";import{createComputedAnimatedMeshParams as P}from\"./ComputedAnimatedParams.js\";import{getGeometryEngine as M}from\"../mesh/loadGeometryEngine.js\";import{c256ToRad as g}from\"../shaders/constants.js\";const w=64,b=64,v=2;class _ extends n{get vertexSpec(){return{createComputedParams:P,optionalAttributes:{zoomRange:x,value1Position2Value2:y,lineLength:f},attributes:{id:u,bitset:h,pos:p,offset:d.marker,uv:l.marker,animationPointerAndBaseSizeAndReferenceSize:m,sizing:c,angle:a}}}_write(e,t){const i=this.evaluatedMeshParams.sprite,{textureBinding:r}=i;e.recordStart(this.instanceId,this.attributeLayout,r);const s=t.getDisplayId();if(this.shift&&\"esriGeometryPolyline\"===t.geometryType)this._writeParticles(e,t);else if(null!=this.evaluatedMeshParams.placement)this._writePlacedMarkers(e,t);else if(\"esriGeometryPolygon\"===t.geometryType){const i=t.readCentroidForDisplay();if(!i)return;const[r,o]=i.coords;this._writeQuad(e,s,r,o)}else if(\"esriGeometryPoint\"===t.geometryType){const i=t.readXForDisplay(),r=t.readYForDisplay();this._writeQuad(e,s,i,r)}else{const i=t.readGeometryForDisplay();i&&i.forEachVertex(((t,i)=>{this._writeQuad(e,s,t,i)}))}e.recordEnd()}_writePlacedMarkers(r,o){const n=t.fromFeatureSetReaderCIM(o)?.clone();if(!n)return;const a=-1,c=s.getPlacement(n,a,this.evaluatedMeshParams.placement,e(1),r.id,M());if(!c)return;const m=o.getDisplayId();let l=c.next(),d=null;for(;null!=l;){const e=l.tx,t=-l.ty;if(Math.abs(e)>i||Math.abs(t)>i){l=c.next();continue}const s=-l.getAngle();r.recordBounds(e,t,w,b),this.shift?d&&this._writeQuad(r,m,d[0],d[1],void 0,s):this._writeQuad(r,m,e,t,void 0,s),d=[e,t],l=c.next()}}_writeParticles(e,t){const i=t.getDisplayId(),s=t.readGeometryForDisplay();if(!s)return;const o=[];s.forEachVertex(((e,t)=>{o.push([e,t])}));const n=j(o);let a=0;for(let r=1;r<o.length;r++){const e=o[r][0]-o[r-1][0],t=o[r][1]-o[r-1][1],i=Math.sqrt(e*e+t*t);a+=i}const c=t=>{for(const r of n){const{a:s,b:o}=r;this._writeQuad(e,i,s.position[0],s.position[1],[s.distance-t,o.position[0],o.position[1],o.distance-t],this.evaluatedMeshParams.angleToLine?Math.atan2(s.direction[1],s.direction[0]):0,a,!0)}},{placement:m}=this.evaluatedMeshParams;if(!m||\"placementTemplate\"in m||\"CIMMarkerPlacementOnVertices\"===m.type){let e;if(m&&\"CIMMarkerPlacementOnVertices\"!==m.type)e=m.placementTemplate;else{e=[0];for(const t of n){const{a:i,b:r}=t,s=i.position[0]-r.position[0],o=i.position[1]-r.position[1],n=Math.sqrt(s*s+o*o);e.push(n)}}let t=-1*a;for(;t<(1+v/2)*a;)for(const i of e)t+=i,c(t)}else\"CIMMarkerPlacementAtExtremities\"===m.type?m.extremityPlacement===r.JustBegin?c(1):m.extremityPlacement===r.JustEnd?(c(a-1),c(-1)):m.extremityPlacement===r.Both&&(c(1),c(a-1)):\"CIMMarkerPlacementOnLine\"===m.type&&c(a/2)}_writeQuad(e,t,i,r,s,n=0,a=0,c=!1){const m=this.evaluatedMeshParams.sprite,{rect:l}=m,d=l.x+o,p=l.y+o,h=l.x+l.width-o,u=l.y+l.height-o,f=e.vertexCount();c||e.recordBounds(i,r,w,w);const y={texXmin:d,texYmin:p,texXmax:h,texYmax:u,value1Position2Value2:s,angle:n/g,lineLength:a};for(let o=0;o<4;o++)this._writeVertex(e,t,i,r,y);e.indexEnsureSize(6),e.indexWrite(f),e.indexWrite(f+1),e.indexWrite(f+2),e.indexWrite(f+1),e.indexWrite(f+3),e.indexWrite(f+2)}}function j(e){const t=[];let i=0;for(let r=1;r<e.length;r++){const s=e[r-1],o=e[r],n=o[0]-s[0],a=o[1]-s[1],c=Math.sqrt(n*n+a*a),m=n/c,l=a/c;t.push({a:{position:s,distance:i,direction:[m,l]},b:{position:o,distance:i+c,direction:[m,l]}}),i+=c}return t}class C extends _{constructor(){super(...arguments),this.shift=!1}}class I extends _{constructor(){super(...arguments),this.shift=!0}}export{C as AnimatedMarkerMeshWriter,I as AnimatedMarkerShiftMeshWriter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../../../../../../core/screenUtils.js\";import{GeometryCursor as e}from\"../../../../../../../geometry/GeometryCursor.js\";import{LineCapStyle as i,LineJoinStyle as s}from\"../../../../../../../symbols/cim/enums.js\";import\"../../../definitions.js\";import{LineTessellation as r}from\"../../../TurboLine.js\";import{clipLinesMarshall as n,triangulate as o}from\"../../../mesh/templates/templateUtils.js\";import{AAnimatedMeshWriter as a}from\"./AnimatedMeshWriter.js\";import{lineLength as h,noTiming as m,zoomRange as l,segmentDirection as u,normal as c,accumulatedDistance as d,sizing as p,animationPointerAndBaseSizeAndReferenceSize as f,tlbr as x,offset as _,pos as g,bitset as P,id as v,noLineLength as L}from\"./attributes.js\";import{createComputedAnimatedMeshParams as y}from\"./ComputedAnimatedParams.js\";import{processLineCapInput as W,processLineJoinInput as b}from\"../fill/meshWriterUtils.js\";import{LineTessellationParams as w}from\"../line/LineMeshWriter.js\";class C extends a{_write(t,i,s){const r=s??e.fromFeatureSetReaderCIM(i);if(!r)return;const n=this.evaluatedMeshParams.sprite,{textureBinding:o}=n;t.recordStart(this.instanceId,this.attributeLayout,o);const a=i.getDisplayId();this._writePoly(t,a,r.asOptimized()),t.recordEnd()}}class j extends C{constructor(){super(...arguments),this.vertexSpec={createComputedParams:y,attributes:{id:v,bitset:P,pos:g,offset:_.fill,tlbr:x,animationPointerAndBaseSizeAndReferenceSize:f,sizing:p},optionalAttributes:{zoomRange:l,value1Position2Value2:m,lineLength:L}}}_writePoly(t,e,i){const s=[];if(!o(s,i))return;const r=t.vertexCount();i.forEachVertex(((i,s)=>{this._writeVertex(t,e,i,s)})),t.indexEnsureSize(s.length);for(const n of s)t.indexWrite(r+n)}}class z{constructor(){this.id=0,this.bitset=0,this.indexCount=0,this.vertexCount=0,this.vertexFrom=0,this.vertexBounds=0,this.pathLength=0}}const S=65535;class T extends C{constructor(){super(...arguments),this.vertexSpec={createComputedParams:y,attributes:{id:v,bitset:P,pos:g,offset:_.line,tlbr:x,animationPointerAndBaseSizeAndReferenceSize:f,sizing:p,accumulatedDistance:d,normal:c,segmentDirection:u},optionalAttributes:{zoomRange:l,value1Position2Value2:m,lineLength:h}},this._tessParams=new w,this._currentWrite=new z,this._tessellationOptions={halfWidth:0,pixelCoordRatio:1,offset:0,wrapDistance:S,textured:!1},this._lineLength=0,this._lineTessellator=new r(((t,e,i,s,r,n,o,a,h,m,l)=>this._writeTesselatedVertex(t,e,i,s,r,n,o,a,h,m,l,this._lineLength)),this._writeTriangle.bind(this),!1)}_writePoly(r,o,a){const h=64,m=!1,l=n(e.fromOptimized(a,\"esriGeometryPolyline\"),h);if(null==l)return;const{_currentWrite:u,_tessellationOptions:c}=this,{baseSize:d,capType:p,joinType:f,miterLimit:x}=this.evaluatedMeshParams,_=t(.5*d);c.halfWidth=_,c.capType=W(p||i.Round),c.joinType=b(f||s.Round),c.miterLimit=x||2,u.out=r,u.id=o,u.vertexCount=0,u.indexCount=0,u.vertexFrom=r.vertexCount(),u.vertexBounds=1;for(const{line:t,start:e,pathLength:i}of l){c.initialDistance=e%S,u.pathLength=i,this._lineLength=0;for(let e=1;e<t.length;e++){const i=t[e].x-t[e-1].x,s=t[e].y-t[e-1].y;this._lineLength+=Math.sqrt(i*i+s*s)}this._lineTessellator.tessellate(t,c,m)}}_writeTesselatedVertex(t,e,i,s,r,n,o,a,h,m,l,u){const{out:c,id:d,vertexBounds:p,pathLength:f}=this._currentWrite;return this.hasEffects&&c.recordBounds(t,e,p,p),this._tessParams.extrusionOffsetX=o,this._tessParams.extrusionOffsetY=a,this._tessParams.normalX=h,this._tessParams.normalY=m,this._tessParams.directionX=r,this._tessParams.directionY=n,this._tessParams.distance=l,this._tessParams.pathLength=f,this._tessParams.lineLength=u,this._writeVertex(c,d,t,e,this._tessParams),this._currentWrite.vertexFrom+this._currentWrite.vertexCount++}_writeTriangle(t,e,i){const{out:s}=this._currentWrite;s.indexEnsureSize(3),s.indexWrite(t),s.indexWrite(e),s.indexWrite(i),this._currentWrite.indexCount+=3}}export{C as AAnimatedPolyMeshWriter,j as AnimatedFillMeshWriter,T as AnimatedLineMeshWriter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{memoize as e}from\"../../../../../../../core/MapUtils.js\";import{pt2px as t}from\"../../../../../../../core/screenUtils.js\";import{numericHash as i}from\"../../../../../../../core/string.js\";import{fromRotation as r,translate as s}from\"../../../../../../../core/libs/gl-matrix-2/math/mat2d.js\";import{create as o}from\"../../../../../../../core/libs/gl-matrix-2/factories/mat2df32.js\";import{transformMat2d as n,set as a,sub as l,normalize as h,add as c,scale as m}from\"../../../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as u}from\"../../../../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{create as d}from\"../../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{GeometryCursor as f}from\"../../../../../../../geometry/GeometryCursor.js\";import{generalizeOptimizedGeometry as g,convertToGeometry as _}from\"../../../../../../../layers/graphics/featureConversionUtils.js\";import p from\"../../../../../../../layers/graphics/OptimizedGeometry.js\";import{tileSize as b,minMaxZoomPrecisionFactor as x}from\"../../../definitions.js\";import M from\"../../../collisions/BoundingBox.js\";import{LabelMetric as v}from\"../../../collisions/LabelMetric.js\";import{smoothPaths as y,pathDivide as P}from\"../../../mesh/templates/segmentUtils.js\";import{getMinMaxZoom as w,processColorInput as L}from\"../fill/meshWriterUtils.js\";import{TextMeshWriter as I,maxLabelZoom as B}from\"../text/TextMeshWriter.js\";const S=1,z=0,j=128;function A(e,t){return i(`${e}${t}`)}function D(e,t,r){return i(`${e}${t}${r}`)}function G(e,t,r,s){return i(`${e}${t}${r*2**(B-s)}`)}function Z(e,t,r,s,o){return i(`${e}${o}${t}${r*2**(B-s)}`)}const k=e((e=>{let t=0;if(0===e)return 1/0;for(;!(e%2);)t++,e/=2;return t}));class F extends I{constructor(){super(...arguments),this._zoomLevel=0}_write(e,t,i,r){if(this._zoomLevel=r||0,null!=i)throw new Error(\"InternalError: EffectGeometry not support for LabelMeshWriter\");switch(t.geometryType){case\"esriGeometryPoint\":{const i=t.readXForDisplay(),r=t.readYForDisplay();this._writePoint(e,i,r,0,t);break}case\"esriGeometryEnvelope\":case\"esriGeometryPolygon\":{const i=t.readCentroidForDisplay();if(!i)return;const[r,s]=i.coords;this._writePoint(e,r,s,0,t);break}case\"esriGeometryMultipoint\":{let i=0;const r=f.fromFeatureSetReader(t);if(r?.nextPath())for(;r.nextPoint();)this._writePoint(e,r.x,r.y,i++,t);break}case\"esriGeometryPolyline\":this._writeLines(e,t)}}_getMetricDir(){const{horizontalAlignment:e,verticalAlignment:t}=this.evaluatedMeshParams;return[\"center\"===e?0:\"right\"===e?-1:1,\"middle\"===t?0:\"bottom\"===t?-1:1]}_createLineLabelMetric(e,t,i,r,s,o){const[n,a]=this._getMetricDir(),l=this.evaluatedMeshParams.scaleInfo?.maxScale??0,h=this.evaluatedMeshParams.scaleInfo?.minScale??0,c=this.evaluatedMeshParams.labelClassId;return new v(e,c,t,i,r,s,n,a,l,h,o)}_writePoint(e,t,i,r,s){if(t<0||t>b||i<0||i>b)return;const o=this._getShaping();if(!o)return;const n=s.getDisplayId(),a=this.evaluatedMeshParams.labelClassId,l=A(s.getObjectId(),r),h=D(s.getObjectId(),a,r),[c,m]=this._getMetricDir(),u=this.evaluatedMeshParams.scaleInfo?.maxScale??0,d=this.evaluatedMeshParams.scaleInfo?.minScale??0,f=this._getPointReferenceBounds()||{offsetX:0,offsetY:0,size:0};e.metricStart(new v(n,a,l,h,t,i,c,m,u,d,f)),this._writeGlyphs(e,n,t,i,o,0,f,void 0,!1),e.metricBoxWrite(o.boundsT),e.metricEnd()}_getPointReferenceBounds(){if(!this._references)return null;for(const e of this._references){const t=e.getBoundsInfo();if(t)return t}return null}_writeLines(e,t){const{scaleInfo:i,verticalAlignment:r}=this.evaluatedMeshParams,s=this.evaluatedMeshParams.repeatLabelDistance||128,o=this._getShaping(\"middle\");if(!o)return;const n=(e,t,i,r)=>this._placeSubdivGlyphs(e,t,i,r),a=(o.bounds.width+s)/(1<<S);this._current={out:e,id:t.getDisplayId(),objId:t.getObjectId(),shaping:o,zoomRange:w(i,this.getTileInfo()),referenceBounds:this._getPointReferenceBounds()||{offsetX:0,offsetY:0,size:0},offsetDirection:null,pathIndex:0},this._verticalPlacement=\"bottom\"===r?\"above\":\"top\"===r?\"below\":null,this._verticalPlacement?this._writeAboveAndBelowAlong(t,n,a):this._writeCenterAlong(t,n,a)}_writeAboveAndBelowAlong(e,t,i){const{repeatLabel:r}=this.evaluatedMeshParams,{shaping:s}=this._current,o=s.bounds.halfHeight,n=e.readGeometryForDisplay();if(!n)return;const a=new p;g(a,n,!1,!1,\"esriGeometryPolyline\",1);const l=C(new p,a,o),h=C(new p,a,-o),c=_(h,\"esriGeometryPolyline\",!1,!1),m=_(l,\"esriGeometryPolyline\",!1,!1),u=y(m.paths,s.bounds.width),d=y(c.paths,s.bounds.width);this._current.offsetDirection=\"above\";for(let f=0;f<u.length;f++)this._current.pathIndex=f,P(u[f],i,t,!!r);this._current.offsetDirection=\"below\";for(let f=0;f<d.length;f++)this._current.pathIndex=f,P(d[f],i,t,!!r)}_writeCenterAlong(e,t,i){const{repeatLabel:r}=this.evaluatedMeshParams,{shaping:s}=this._current,o=y(e.readLegacyGeometryForDisplay().paths,s.bounds.width);for(let n=0;n<o.length;n++)this._current.pathIndex=n,P(o[n],i,t,!!r)}_placeSubdivGlyphs(e,t,i,r){const{allowOverrun:s,labelPosition:o,repeatLabelDistance:n}=this.evaluatedMeshParams,a=this._current.zoomRange[0],l=k(t),h=this._current.shaping.bounds.width/(1<<S),c=Math.sqrt(n||j)/(1<<S),m=Math.min(i,r-i),u=this._current.shaping.isMultiline?B:Math.log2(m/(c+h/2)),d=0===t?u:Math.min(l,u),f=Math.max(a,this._zoomLevel+S-d),g=this._zoomLevel-f,_=this._current.shaping.bounds.width/2*2**g,p=G(this._current.objId,this._current.pathIndex,t,this._zoomLevel),b=Z(this._current.objId,this._current.pathIndex,t,this._zoomLevel,this.evaluatedMeshParams.labelClassId);this._current.shaping.isMultiline?0===t&&this._placeStraight(e,f,p,b):s&&g<0?this._placeStraightAlong(e,a,p,b):\"parallel\"===o?this._placeStraightAlong(e,f,p,b):\"curved\"===o&&this._placeCurved(e,f,_,p,b)}_placeStraight(e,t,i,r){const{out:s,id:o,shaping:n,referenceBounds:a}=this._current,{x:l,y:h}=e;s.metricStart(this._createLineLabelMetric(o,i,r,l,h)),s.metricBoxWrite(n.boundsT);const c=e.angle*(180/Math.PI)%360,m=(e.angle*(180/Math.PI)+180)%360,u={clipAngle:c,mapAligned:!0,isLineLabel:!0,minZoom:t};this._writeGlyphs(s,o,l,h,n,0,a,u,!1);const d={clipAngle:m,mapAligned:!0,isLineLabel:!0,minZoom:t};this._writeGlyphs(s,o,l,h,n,0,a,d,!1),s.metricEnd()}_placeCurved(e,t,i,r,s){const{out:o,id:n}=this._current;o.metricStart(this._createLineLabelMetric(n,r,s,e.x,e.y));const a=e.clone(),l=e.angle*(180/Math.PI)%360,h=(e.angle*(180/Math.PI)+180)%360;this._verticalPlacement&&this._verticalPlacement!==this._current.offsetDirection||(this._placeFirst(a,t,1,l),this._placeBack(e,a,t,i,1,l),this._placeForward(e,a,t,i,1,l)),this._verticalPlacement&&this._verticalPlacement===this._current.offsetDirection||(this._placeFirst(a,t,0,h),this._placeBack(e,a,t,i,0,h),this._placeForward(e,a,t,i,0,h)),o.metricEnd()}_placeStraightAlong(e,i,n,a){const{out:l,id:h,shaping:c,zoomRange:m,referenceBounds:d}=this._current,{boxBorderLineColor:f,boxBackgroundColor:g}=this.evaluatedMeshParams,_=e.clone(),p=e.angle*(180/Math.PI)%360,b=(e.angle*(180/Math.PI)+180)%360,x=c.glyphs.length>0&&!(!f&&!g);if(l.metricStart(this._createLineLabelMetric(h,n,a,e.x,e.y)),x){const n=Math.max(i,m[0],0),a=Math.min(B,m[1]),f=r(o(),-e.angle),g={minZoom:n,maxZoom:a,clipAngle:p,mapAligned:!0,isLineLabel:!0},_=t(this.evaluatedMeshParams.offsetX),x=t(this.evaluatedMeshParams.offsetY);if(!this._verticalPlacement||this._verticalPlacement===this._current.offsetDirection){const t=u(_,-1*x),[i,r]=c.shapeBackground(s(o(),f,t));l.recordStart(this.instanceId,this.attributeLayout,c.glyphs[0].textureBinding),this._writeTextBox(l,h,e.x,e.y,r,d,g),l.recordEnd()}if(!this._verticalPlacement||this._verticalPlacement!==this._current.offsetDirection){const t=u(_,x),[i,r]=c.shapeBackground(s(o(),f,t));g.clipAngle=b,l.recordStart(this.instanceId,this.attributeLayout,c.glyphs[0].textureBinding),this._writeTextBox(l,h,e.x,e.y,r,d,g),l.recordEnd()}}this._verticalPlacement&&this._verticalPlacement!==this._current.offsetDirection||this._placeFirst(_,i,1,p,!0),this._verticalPlacement&&this._verticalPlacement===this._current.offsetDirection||this._placeFirst(_,i,0,b,!0),l.metricEnd()}_placeBack(e,t,i,r,s,o){const n=e.clone();let a=e.backwardLength+z;for(;n.prev()&&!(a>=r);)this._placeOnSegment(n,t,a,i,-1,s,o),a+=n.length+z}_placeForward(e,t,i,r,s,o){const n=e.clone();let a=e.remainingLength+z;for(;n.next()&&!(a>=r);)this._placeOnSegment(n,t,a,i,1,s,o),a+=n.length+z}_placeFirst(e,i,s,a,l=!1){const{out:h,id:c,shaping:m,zoomRange:d,referenceBounds:f}=this._current,g=m.glyphs,_=t(this.evaluatedMeshParams.offsetX),p=t(this.evaluatedMeshParams.offsetY),b=u(_,p),x=r(o(),-e.angle);n(b,b,x);for(const t of g){const r=t.x>m.bounds.x?s:1-s,o=r*e.remainingLength+(1-r)*e.backwardLength,n=Math.abs(t.x+t.width/2-m.bounds.x),u=Math.max(0,this._zoomLevel+Math.log2(n/(o+z))),g=Math.max(i,l?0:u);if(t.maxZoom=Math.min(d[1],B),t.angle=e.angle+(1-s)*Math.PI,t.minZoom=Math.max(d[0],g),this._writeLineGlyph(h,c,e.x,e.y,t,a,f,!0),(s||this._current.offsetDirection)&&this._isVisible(t.minZoom,t.maxZoom)){const e=new M(t.bounds.x+b[0],t.bounds.y+b[1],t.bounds.width,t.bounds.height);h.metricBoxWrite(e)}}}_placeOnSegment(e,i,s,a,l,h,c){const{out:m,id:d,shaping:f,referenceBounds:g}=this._current,_=f.glyphs,p=e.dx/e.length,b=e.dy/e.length,x={x:e.x+s*-l*p,y:e.y+s*-l*b},v=t(this.evaluatedMeshParams.offsetX),y=t(this.evaluatedMeshParams.offsetY),P=u(v,y),w=r(o(),-e.angle);n(P,P,w);for(const t of _){const i=t.x>f.bounds.x?h:1-h;if(!(i&&1===l||!i&&-1===l))continue;const r=Math.abs(t.x+t.width/2-f.bounds.x),o=Math.max(0,this._zoomLevel+Math.log2(r/s)-.1),n=Math.max(a,this._zoomLevel+Math.log2(r/(s+e.length+z)));if(0!==o&&(t.angle=e.angle+(1-h)*Math.PI,t.minZoom=n,t.maxZoom=o,this._writeLineGlyph(m,d,x.x,x.y,t,c,g,!0),(h||this._current.offsetDirection)&&this._isVisible(t.minZoom,t.maxZoom))){const e=new M(t.bounds.x+P[0],t.bounds.y+P[1],t.bounds.width,t.bounds.height);m.metricBoxWrite(e)}}}_writeLineGlyph(e,t,i,r,s,o,n,a){if(i<0||i>b||r<0||r>b)return;e.recordStart(this.instanceId,this.attributeLayout,s.textureBinding);const{texcoords:l,offsets:h}=s,{fontSize:c,haloSize:m,outlineSize:u}=this._textMeshTransformProps;this._writeQuad(e,t,i,r,{texcoords:l,offsets:h,fontSize:c,haloSize:m,outlineSize:u,color:L(this.evaluatedMeshParams.color),isBackground:!1,referenceBounds:n,minZoom:Math.max(this._current.zoomRange[0],s.minZoom),maxZoom:Math.min(this._current.zoomRange[1],s.maxZoom),clipAngle:o,mapAligned:a,isLineLabel:!0}),e.recordEnd()}_packedZoom(e){return Math.floor(e*x)/x}_isVisible(e,t){let i=Math.max(this._current.zoomRange[0],e),r=Math.min(this._current.zoomRange[1],t);i=this._packedZoom(i),r=this._packedZoom(r);const s=this._packedZoom(this._zoomLevel);return i<=s&&s<=r}}function C(e,t,i){const{coords:r,lengths:s}=t,o=d(),n=d(),u=d(),f=d(),g=d(),_=d(),p=2;let b=0;for(let d=0;d<s.length;d++){const t=s[d];for(let s=0;s<t;s++){const d=p*(s+b-1),x=p*(s+b),M=p*(s+b+1);s>0?a(o,r[d],r[d+1]):a(o,0,0),a(n,r[x],r[x+1]),s<t-1?a(u,r[M],r[M+1]):a(u,0,0),0===s?a(f,0,0):(l(f,n,o),h(f,f),a(f,f[1],-f[0])),s===t-1?a(g,0,0):(l(g,u,n),h(g,g),a(g,g[1],-g[0])),c(_,f,g),h(_,_);const v=_[0]*g[0]+_[1]*g[1];0!==v&&m(_,_,v),m(_,_,i),e.coords.push(n[0]+_[0],n[1]+_[1])}e.lengths.push(t),b+=t}return e}export{F as LabelMeshWriter,A as labelIdHash,D as labelMetricHash,G as lineLabelIdHash,Z as lineLabelMetricHash};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{AComputedField as e}from\"./AComputedField.js\";class r extends e{constructor(e){super(),this._value=e}resize(e){}read(e,r){return this._value}readWithDefault(e,r,t){return this._value}hasArcadeDependency(e){return!1}}export{r as DictionaryValue};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../../../../core/arrayUtils.js\";import r from\"../../../../../../../core/Error.js\";import{clone as t}from\"../../../../../../../core/lang.js\";import s from\"../../../../../../../core/Logger.js\";import{collectExpressionDependencies as o}from\"../../../../../../../support/ArcadeExpression.js\";import{getStartGroup as a}from\"../../../grouping.js\";import{hydrate as i}from\"../../../animations/infos.js\";import{createParamList as n,compileAnimationParam as c,fromJSON as p,resolveToAnimationInfo as m,encodeParamList as f,getAnimationExpressions as l}from\"../../../animations/utils.js\";import{applyComputedValue as d}from\"./utils.js\";import{DictionaryValue as u}from\"../../../../../layers/features/support/DictionaryValue.js\";const y=()=>s.getLogger(\"esri.views.2d.engine.webgl.shaderGraph.techniques.mesh.MeshWriterInputEvaluator\");async function h(e,r,t,s){const{defaultValue:o,valueExpressionInfo:a,value:i}=r;if(a){if(\"dictionary-template\"===a.type)return{...r,computed:e.createDictionaryTemplateField(a,t),defaultValue:o};const{expression:i}=a,n=await e.createComputedField({expression:i},s);return n?{...r,computed:n,defaultValue:o}:null}return{...r,computed:new u(i),defaultValue:o}}async function v(e,r,t){const{valueExpressionInfo:s}=r,o=\"dictionary-template\"===s.type?e.createDictionaryTemplateField(s,t):await e.createComputedField({expression:s.expression});return o?{...r,computed:o}:null}function P(e){return\"object\"==typeof e&&null!=e&&(!(!(\"valueExpressionInfo\"in e)||!e.valueExpressionInfo)||\"type\"in e&&\"Process\"===e.type&&\"op\"in e&&\"Random\"===e.op)}function _(e){if(Array.isArray(e))for(const r of e)if(_(r))return!0;if(\"object\"==typeof e){if(P(e))return!0;for(const r in e){if(_(e[r]))return!0}}return!1}class I{static async create(r,t,s,o){const a={},i=new Map,m=new Map,f=new Map,l=new Map,d=new Map,u=new Map;for(const y in s){const I=s[y];if(null!=I&&\"object\"==typeof I)if(Array.isArray(I)){if(\"object\"==typeof I[0])throw new Error(`InternalError: Cannot handle ${y}. Nested array params are not supported`);a[y]=I}else if(\"valueExpressionInfo\"in I){if(I.value){a[y]=I.value;continue}const e=await v(r,I,o);if(!e){a[y]=I.defaultValue;continue}i.set(y,e),a[y]=null}else switch(I.type){case\"cim-effect-infos\":if(I.effectInfos.some((e=>e.overrides.length))){m.set(y,{effects:await Promise.all(I.effectInfos.map((async t=>{const s=t.overrides.map((e=>h(r,e,o,!1)));return{effect:t.effect,compiledOverrides:(await Promise.all(s)).filter(e)}})))});break}a[y]=I.effectInfos.map((e=>e.effect));break;case\"cim-marker-placement-param\":I.overrides.length&&f.set(y,{placementInfo:I,compiledOverrides:(await Promise.all(I.overrides.map((e=>h(r,e,o,!1))))).filter(e)}),a[y]=I.placement;break;case\"text-rasterization-param\":{if(I.overrides.length){const t=I.overrides.map((e=>h(r,e,o,I.useLegacyLabelEvaluationRules??!1)));l.set(y,{compiledOverrides:(await Promise.all(t)).filter(e),rasterizationParam:I,objectIdToResourceId:new Map});continue}const s={type:\"cim-rasterization-info\",resource:I.resource};a[y]=await t.fetchResourceImmediate(s)??null;break}case\"sprite-rasterization-param\":{if(I.overrides.length){const t=I.overrides.map((e=>h(r,e,o,!1)));l.set(y,{compiledOverrides:(await Promise.all(t)).filter(e),rasterizationParam:I,objectIdToResourceId:new Map});continue}if(\"animated\"===I.resource.type){l.set(y,{compiledOverrides:[],rasterizationParam:I,objectIdToResourceId:new Map});continue}const s={type:\"cim-rasterization-info\",resource:I.resource};a[y]=await t.fetchResourceImmediate(s)??null;break}case\"cim-marker-transform-param\":{const{params:e}=I;if(_(e)){const t={compiledMarkerInfos:[]};await Promise.all(e.map((async e=>{const s={props:{}};for(const t in e)if(P(e[t])){const a=await v(r,e[t],o);s.compiledExpressionMap||(s.compiledExpressionMap=new Map);const i=s.compiledExpressionMap;a&&i.set(t,a)}else s.props[t]=e[t];t.compiledMarkerInfos.push(s)}))),d.set(y,t)}else a[y]={type:\"cim-marker-transform-info\",infos:e};break}case\"animation-params\":{const{params:e}=I,s=n(e);if(_(s)){const e=await Promise.all(s.map((e=>c(e,r))));u.set(y,{params:e,propertyIdToResourceId:new Map,key:y})}else{const e=p(s),r=await t.fetchResourceImmediate({type:\"animation-info\",resource:e});null!=r&&\"sprite\"===r.type&&(a[y]={dataRow:r.rect.y,dataColumn:r.rect.x})}break}default:a[y]=I}else a[y]=I}return new I(s,a,i,m,f,l,d,u)}constructor(e,r,t,s,a,i,n,c){this.inputMeshParams=e,this._resolvedMeshParams=r,this._dynamicProperties=t,this._dynamicEffectProperties=s,this._dynamicPlacementProperties=a,this._dynamicAsyncProperties=i,this._dynamicTransformProperties=n,this._dynamicAsyncAnimations=c,this.evaluator=e=>e,this._arcadeDependencies=new Set;for(const p of this._expressions())o(this._arcadeDependencies,p)}get hasDynamicProperties(){return!!(this._dynamicProperties.size||this._dynamicAsyncProperties.size||this._dynamicEffectProperties.size||this._dynamicTransformProperties.size||this._dynamicPlacementProperties.size||this._dynamicAsyncAnimations.size)}get evaluatedMeshParams(){return this._evaluatedMeshParams||(this._evaluatedMeshParams=this.evaluator(this._resolvedMeshParams)),this._evaluatedMeshParams}enqueueRequest(e,s,o){for(const i of this._dynamicAsyncProperties.values()){const c=t(i.rasterizationParam.resource);\"animated\"===i.rasterizationParam.resource.type&&i.rasterizationParam.resource.randomizeStartTime&&(c.primitiveName=\"__RESERVED__PRIMITIVE__NAME__\",c.startGroup=a(s.getObjectId()||0));for(const{primitiveName:e,propertyName:t,computed:a,defaultValue:m,valueExpressionInfo:f}of i.compiledOverrides)try{const r=\"animated\"===i.rasterizationParam.resource.type?c.primitiveName:e;d(c,r,t,a,s,o,m)}catch(n){y().errorOnce(new r(\"invalid-arcade-expression\",\"Encountered an error when evaluating the arcade expression\",{error:n,valueExpressionInfo:f}))}const p=e.enqueueRequest({type:\"cim-rasterization-info\",resource:c});i.objectIdToResourceId.set(s.getObjectId(),p)}for(const r of this._dynamicAsyncAnimations.values()){const t=r.params.map((e=>m(e,s,o))).map(i).map((e=>e.simplify())),a=f(t),n=e.enqueueRequest({type:\"animation-info\",resource:a});r.propertyIdToResourceId.set(s.getObjectId()+\".\"+r.key,n)}}evaluateMeshParams(e,r,t){for(const[s,o]of this._dynamicProperties.entries())this._resolvedMeshParams[s]=o.computed.readWithDefault(r,t,o.defaultValue);for(const[s,o]of this._dynamicPlacementProperties.entries())for(const{computed:e,defaultValue:a,propertyName:i}of o.compiledOverrides){const n=e.readWithDefault(r,t,a);o.placementInfo.placement[i]=n,this._resolvedMeshParams[s]=o.placementInfo.placement}for(const[s,o]of this._dynamicEffectProperties.entries())for(const e of o.effects){for(const{computed:s,defaultValue:o,propertyName:a}of e.compiledOverrides){const i=s.readWithDefault(r,t,o);e.effect[a]=i}this._resolvedMeshParams[s]=o.effects.map((e=>e.effect))}for(const[s,o]of this._dynamicTransformProperties.entries()){const e={type:\"cim-marker-transform-info\",infos:[]};for(const s of o.compiledMarkerInfos){const o={...s.props};if(s.compiledExpressionMap)for(const[e,a]of s.compiledExpressionMap){const s=a.computed.readWithDefault(r,t,a.defaultValue);o[e]=\"number\"==typeof s||\"boolean\"==typeof s?s:a.defaultValue}e.infos.push(o)}this._resolvedMeshParams[s]=e}for(const[s,o]of this._dynamicAsyncProperties.entries()){const t=o.objectIdToResourceId.get(r.getObjectId());if(null==t)continue;const a=e.getResource(t);this._resolvedMeshParams[s]=a}for(const[s,o]of this._dynamicAsyncAnimations.entries()){const t=o.propertyIdToResourceId.get(r.getObjectId()+\".\"+s);if(null==t)continue;const a=e.getResource(t);this._resolvedMeshParams[s]={dataRow:a.rect.y,dataColumn:a.rect.x}}return this._evaluatedMeshParams=this.evaluator(this._resolvedMeshParams),this.evaluatedMeshParams}hasArcadeDependency(e){return this._arcadeDependencies.has(e)}*_expressions(){for(const e of this._dynamicProperties.values())yield e.computed;for(const e of this._dynamicEffectProperties.values())for(const r of e.effects)for(const e of r.compiledOverrides)yield e.computed;for(const e of this._dynamicPlacementProperties.values())for(const r of e.compiledOverrides)yield r.computed;for(const e of this._dynamicAsyncProperties.values())for(const r of e.compiledOverrides)yield r.computed;for(const e of this._dynamicTransformProperties.values())for(const r of e.compiledMarkerInfos)if(null!=r.compiledExpressionMap)for(const e of r.compiledExpressionMap.values())yield e.computed;for(const e of this._dynamicAsyncAnimations.values())for(const r of e.params)yield*l(r)}}export{I as MeshWriterInputEvaluator,P as hasExpression};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{TechniqueType as e}from\"../TechniqueType.js\";import{AnimatedMarkerShiftMeshWriter as r,AnimatedMarkerMeshWriter as t}from\"../animated/AnimatedMarkerMeshWriter.js\";import{AnimatedLineMeshWriter as i,AnimatedFillMeshWriter as s}from\"../animated/AnimatedPolyMeshWriters.js\";import{DotDensityMeshWriter as a}from\"../dotDensity/DotDensityMeshWriter.js\";import{ComplexFillMeshWriter as n}from\"../fill/ComplexFillMeshWriter.js\";import{ComplexOutlineFillMeshWriter as l}from\"../fill/ComplexOutlineFillMeshWriter.js\";import{FillMeshWriter as o}from\"../fill/FillMeshWriter.js\";import{GradientFillMeshWriter as m}from\"../fill/GradientFillMeshWriter.js\";import{OutlineFillMeshWriter as u}from\"../fill/OutlineFillMeshWriter.js\";import{PatternFillMeshWriter as p}from\"../fill/PatternFillMeshWriter.js\";import{PatternOutlineFillMeshWriter as h}from\"../fill/PatternOutlineFillMeshWriter.js\";import{HeatmapMeshWriter as c}from\"../heatmap/HeatmapMeshWriter.js\";import{LabelMeshWriter as f}from\"../labels/LabelMeshWriter.js\";import{GradientStrokeMeshWriter as M}from\"../line/GradientStrokeMeshWriter.js\";import{LineMeshWriter as W}from\"../line/LineMeshWriter.js\";import{TexturedLineMeshWriter as j}from\"../line/TexturedLineMeshWriter.js\";import{MarkerMeshWriter as d}from\"../markers/MarkerMeshWriter.js\";import{MeshWriterInputEvaluator as F}from\"./MeshWriterInputEvaluator.js\";import{PieChartMeshWriter as x}from\"../pieChart/PieChartMeshWriter.js\";import{TextMeshWriter as k}from\"../text/TextMeshWriter.js\";class y{async createMeshWriter(e,r,t,i,s){const a=this._getMeshWriter(i.techniqueType),n=await F.create(e,r,i.inputParams,s),l=new a(i.id,n,i.optionalAttributes,t);return await l.loadDependencies(),l}_getMeshWriter(F){switch(F){case e.Fill:return o;case e.DotDensity:return a;case e.ComplexFill:return n;case e.PatternFill:return p;case e.GradientFill:return m;case e.OutlineFill:return u;case e.PatternOutlineFill:return h;case e.ComplexOutlineFill:return l;case e.Marker:return d;case e.PieChart:return x;case e.Text:return k;case e.Line:return W;case e.TexturedLine:return j;case e.GradientStroke:return M;case e.Heatmap:return c;case e.Label:return f;case e.AnimatedMarker:return t;case e.AnimatedMarkerShift:return r;case e.AnimatedFill:return s;case e.AnimatedLine:return i;default:throw new Error(\"Internal Error: Mesh writer not in the registry\")}}}export{y as MeshWriterRegistry};\n"],"names":["i","t","s","r","n","o","f","e","p","w","b","v","P","x","y","u","h","d","l","m","c","a","M","j","g","_","I$1","j$1","C","L","z$1","S","T","z","W","A","D","G","B","Z","k","F","I"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}