{"version":3,"file":"DefaultLayouts-Dxx39D6p.js","sources":["../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js","../../node_modules/@arcgis/core/views/3d/terrain/interfaces.js","../../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../../node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js","../../node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js","../../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPassIdentifier.js","../../node_modules/@arcgis/core/views/3d/environment/Clouds.js","../../node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js","../../node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js","../../node_modules/@arcgis/core/views/3d/environment/RainyWeather.js","../../node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js","../../node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js","../../node_modules/@arcgis/core/views/3d/environment/weather.js","../../node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/LookupCloudsFromTextureArray.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DArrayBindUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DUintPassUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js","../../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Integer2PassUniform.js","../../node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js","../../node_modules/@arcgis/core/chunks/HighlightApply.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js","../../node_modules/@arcgis/core/chunks/HighlightBlur.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightBlurTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js","../../node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialParameters.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js","../../node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js","../../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../../node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js","../../node_modules/@arcgis/core/layers/graphics/sources/interfaces.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../../node_modules/@arcgis/core/views/3d/support/engineContent/line.js","../../node_modules/@arcgis/core/views/3d/support/renderInfoUtils/line.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar E,I;!function(E){E[E.ADD=0]=\"ADD\",E[E.UPDATE=1]=\"UPDATE\",E[E.REMOVE=2]=\"REMOVE\"}(E||(E={})),function(E){E[E.NONE=0]=\"NONE\",E[E.VISIBILITY=1]=\"VISIBILITY\",E[E.GEOMETRY=2]=\"GEOMETRY\",E[E.TRANSFORMATION=4]=\"TRANSFORMATION\",E[E.HIGHLIGHT=8]=\"HIGHLIGHT\",E[E.OCCLUDEE=16]=\"OCCLUDEE\"}(I||(I={}));export{E as DirtyOperation,I as DirtyState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{VertexArrayObject as e}from\"../../../webgl/VertexArrayObject.js\";class r extends e{}export{r as VertexArrayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar E,A,O;!function(E){E[E.INNER=0]=\"INNER\",E[E.OUTER=1]=\"OUTER\"}(E||(E={})),function(E){E[E.REGULAR=0]=\"REGULAR\",E[E.HAS_NORTH_POLE=1]=\"HAS_NORTH_POLE\",E[E.HAS_SOUTH_POLE=2]=\"HAS_SOUTH_POLE\",E[E.HAS_BOTH_POLES=3]=\"HAS_BOTH_POLES\"}(A||(A={})),function(E){E[E.FADING=0]=\"FADING\",E[E.IMMEDIATE=1]=\"IMMEDIATE\",E[E.UNFADED=2]=\"UNFADED\"}(O||(O={}));export{E as OverlayIndex,A as PatchType,O as TextureUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as e,offset as t,copy as s}from\"../../../geometry/support/aaBoundingRect.js\";import{fromValues as i}from\"../webgl-engine/lib/LocalOriginFactory.js\";class n{constructor(){this._extent=e(),this.resolution=0,this.renderLocalOrigin=i(0,0,0,\"O\"),this.pixelRatio=1,this.mapUnitsPerPixel=1,this.canvasGeometries=new r}get extent(){return this._extent}setupGeometryViews(e){if(this._setupGeometryView(),!e)return;const s=.001*e.range;if(this._extent[0]-s<=e.min){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,e.range,0,s)}if(this._extent[2]+s>=e.max){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,-e.range,0,s)}}_setupGeometryView(){this.canvasGeometries.numViews=1,s(this.canvasGeometries.extents[0],this._extent)}hasSomeSizedView(){for(let e=0;e<this.canvasGeometries.numViews;e++){const t=this.canvasGeometries.extents[e];if(t[0]!==t[2]&&t[1]!==t[3])return!0}return!1}}class r{constructor(){this.extents=[e(),e(),e()],this.numViews=0}}export{n as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar o;!function(o){o[o.Color=0]=\"Color\",o[o.ColorNoRasterImage=1]=\"ColorNoRasterImage\",o[o.Highlight=2]=\"Highlight\",o[o.WaterNormal=3]=\"WaterNormal\",o[o.Occluded=4]=\"Occluded\",o[o.ObjectAndLayerIdColor=5]=\"ObjectAndLayerIdColor\"}(o||(o={}));export{o as OverlayContent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../core/maybe.js\";class t{constructor(e,t,h){this._fbos=e,this._format=t,this._name=h}get valid(){return null!=this._handle?.getTexture()}dispose(){this._handle=e(this._handle)}get texture(){return this._handle?.getTexture()}bind(e,t,h){this._handle&&this._handle.fbo?.width===t&&this._handle.fbo?.height===h||(this._handle?.release(),this._handle=this._fbos.acquire(t,h,this._name,this._format)),e.bindFramebuffer(this._handle?.fbo)}generateMipMap(){this._handle?.getTexture()?.descriptor?.hasMipmap&&this._handle?.getTexture()?.generateMipmap()}}export{t as OverlayFramebufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{OverlayContent as e}from\"./OverlayContent.js\";import{OverlayFramebufferObject as r}from\"./OverlayFramebufferObject.js\";import{ColorFormat as o}from\"../webgl-engine/core/FBOCacheFormats.js\";import{ShaderOutput as t}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as l}from\"../webgl-engine/effects/geometry/olidUtils.js\";class s{constructor(e,t,l,s,i=o.RGBA8UNORM_MIPMAP){this.output=l,this.content=s,this.fbo=new r(e,i,t)}get valid(){return this.fbo.valid}}class i{constructor(r){this.targets=[new s(r,\"overlay color\",t.Color,e.Color),new s(r,\"overlay IM color\",t.Color,e.ColorNoRasterImage),new s(r,\"overlay highlight\",t.Highlight,e.Highlight,o.RG8UINT),new s(r,\"overlay water\",t.Normal,e.WaterNormal),new s(r,\"overlay occluded\",t.Color,e.Occluded)],l()&&this.targets.push(new s(r,\"overlay olid\",t.ObjectAndLayerIdColor,e.ObjectAndLayerIdColor,o.RGBA8UNORM))}getTexture(e){return this.targets[e]?.fbo.texture}dispose(){for(const e of this.targets)e.fbo.dispose()}computeValidity(){return this.targets.reduce(((e,r,o)=>r.valid?e|=1<<o:e),0)}}export{i as OverlayRenderTargets,s as RenderTargetDescriptor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.Material=0]=\"Material\",a[a.ShadowMap=1]=\"ShadowMap\",a[a.Highlight=2]=\"Highlight\",a[a.ViewshedShadowMap=3]=\"ViewshedShadowMap\"}(a||(a={}));export{a as RenderPassIdentifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar n,e;function d(n){return null!=n&&!n.running}!function(n){n[n.Idle=0]=\"Idle\",n[n.Rendering=1]=\"Rendering\",n[n.Ready=2]=\"Ready\",n[n.Fading=3]=\"Fading\"}(n||(n={})),function(n){n[n.RG=0]=\"RG\",n[n.BA=1]=\"BA\",n[n.COUNT=2]=\"COUNT\"}(e||(e={}));export{e as CloudsTextureChannels,n as CubeMapState,d as ensureClouds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let p=c=class extends r{constructor(o){super(o),this.type=\"cloudy\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({cloudy:\"cloudy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),p=c=o([t(\"esri.views.3d.environment.CloudyWeather\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var p;let c=p=class extends r{constructor(o){super(o),this.type=\"foggy\",this.fogStrength=.5}clone(){return new p({fogStrength:this.fogStrength})}};o([t({foggy:\"foggy\"}),e({json:{write:{isRequired:!0}}})],c.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,\"fogStrength\",void 0),c=p=o([s(\"esri.views.3d.environment.FoggyWeather\")],c);const i=c;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";var s;let p=s=class extends r{constructor(o){super(o),this.type=\"rainy\",this.cloudCover=.5,this.precipitation=.5}clone(){return new s({cloudCover:this.cloudCover,precipitation:this.precipitation})}};o([t({rainy:\"rainy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),p=s=o([i(\"esri.views.3d.environment.RainyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends r{constructor(o){super(o),this.type=\"snowy\",this.cloudCover=.5,this.precipitation=.5,this.snowCover=\"disabled\"}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};o([t({snowy:\"snowy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),o([e({type:[\"enabled\",\"disabled\"],nonNullable:!0,json:{write:!0}})],p.prototype,\"snowCover\",void 0),p=i=o([s(\"esri.views.3d.environment.SnowyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let n=c=class extends r{constructor(o){super(o),this.type=\"sunny\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({sunny:\"sunny\"}),e({json:{write:{isRequired:!0}}})],n.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],n.prototype,\"cloudCover\",void 0),n=c=o([t(\"esri.views.3d.environment.SunnyWeather\")],n);const p=n;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"./CloudyWeather.js\";import r from\"./FoggyWeather.js\";import o from\"./RainyWeather.js\";import t from\"./SnowyWeather.js\";import y from\"./SunnyWeather.js\";const n={key:\"type\",base:y,typeMap:{sunny:y,cloudy:e,rainy:o,snowy:t,foggy:r}},a=Object.keys(n.typeMap);function s(e,r){return!!a.includes(e)||(r.error(`\"${e}\" is not a valid weather type`),!1)}const p=1e4,i=1e5;export{i as cloudsHeight,p as heightLimit,s as validateWeatherType,n as weatherTypes,a as weatherTypesArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{neverReached as a}from\"../../../core/compilerUtils.js\";import{clamp as t}from\"../../../core/mathUtils.js\";import{signal as e}from\"../../../core/signal.js\";import{rotate as s}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{k as h,n as o,g as n,c,l as d,d as l}from\"../../../chunks/vec32.js\";import{create as _,fromValues as u}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as F,fromPoints as f,axis as p}from\"../../../geometry/support/axisAngleDegrees.js\";import{earth as S}from\"../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as m,ensureClouds as E,CubeMapState as D}from\"./Clouds.js\";import{heightLimit as P}from\"./weather.js\";class x{constructor(){this.startTime=0,this._data=e(null),this.coverage=0,this.absorption=0,this._readChannels=m.RG,this.parallax=new O,this.parallaxNew=new O,this._anchorPoint=_(),this._fadeState=e(A.HIDE),this._fadeFactor=e(1)}get data(){return this._data.value}set data(a){this._data.value=a}get readChannels(){return this._readChannels}get fadeState(){return this._fadeState.value}get fadeFactor(){return this._fadeFactor.value}get opacity(){switch(this.fadeState){case A.HIDE:return 0;case A.FADE_OUT:return 1-this.fadeFactor;case A.FADE_IN:return this.fadeFactor;case A.SHOW:case A.CROSS_FADE:return 1}}fade(a,e,s){this.isFading&&this.fadeFactor<1&&(this._fadeFactor.value=s?t((e-this.startTime)/(H*s),0,1):1,1===this.fadeFactor&&this._endFade()),this._evaluateState(a,e),this._updateParallax(a)}_evaluateState(a,t){const e=a.relativeElevation,s=this._updateAnchorPoint(a);(e>1.7*P||e<-1e4||s>I)&&this.opacity>0?this._startFade(A.HIDE,t):this.isFading||(e>P||e<-.35*P||s>w*I?this.opacity>0&&this._startFade(A.FADE_OUT,t):E(this.data)&&(0===this.opacity?this._startFade(A.FADE_IN,t):this.data.state===D.Ready&&(this.fadeState===A.SHOW?this._startFade(A.CROSS_FADE,t):this._startFade(A.SHOW,t))))}_updateParallax(a){const t=h(a.eye);this.parallax.radiusCurvatureCorrection=.84*Math.sqrt(Math.max(t-S.radius*S.radius,0))/Math.sqrt(t),f(v,this.parallax.anchorPoint,C),s(this.parallax.transform,i,C[3],p(C)),f(v,this.parallaxNew.anchorPoint,C),s(this.parallaxNew.transform,i,C[3],p(C))}_updateAnchorPoint(a){return o(this._anchorPoint,a.eye),n(this._anchorPoint,this._anchorPoint,S.radius),this.fadeState===A.HIDE&&this.data?.state===D.Ready?(c(this.parallax.anchorPoint,this._anchorPoint),0):d(l(g,this.parallax.anchorPoint,this._anchorPoint))}requestFade(){this._fadeFactor.value=0}_startFade(a,t){switch(this._fadeState.value=a,this.startTime=t,a){case A.CROSS_FADE:this.requestFade(),this._switchReadChannels(),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_IN:this.requestFade(),this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_OUT:this.requestFade();break;case A.SHOW:this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint),this._endFade();break;case A.HIDE:this._endFade()}}_endFade(){switch(this._fadeFactor.value=1,this.data&&this.data.state!==D.Ready&&(this.data.state=D.Idle),this.fadeState){case A.CROSS_FADE:c(this.parallax.anchorPoint,this.parallaxNew.anchorPoint),this._fadeState.value=A.SHOW;break;case A.FADE_IN:this._fadeState.value=A.SHOW;break;case A.FADE_OUT:this._fadeState.value=A.HIDE;break;case A.SHOW:case A.HIDE:break;default:a(this.fadeState)}}_switchReadChannels(){this.data?.state===D.Ready&&(this._readChannels=1-this._readChannels,this.data.state=D.Fading)}get isFading(){return this.fadeState===A.FADE_OUT||this.fadeState===A.FADE_IN||this.fadeState===A.CROSS_FADE}}var A;!function(a){a[a.HIDE=0]=\"HIDE\",a[a.FADE_IN=1]=\"FADE_IN\",a[a.SHOW=2]=\"SHOW\",a[a.CROSS_FADE=3]=\"CROSS_FADE\",a[a.FADE_OUT=4]=\"FADE_OUT\"}(A||(A={}));class O{constructor(){this.anchorPoint=_(),this.radiusCurvatureCorrection=0,this.transform=r()}}const v=u(0,0,1),C=F(),g=_(),H=1.25,w=.5,I=2e5;export{x as CloudsParameters,A as FadeState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{FloatBindUniform as r}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as a}from\"../../shaderModules/glsl.js\";function e(e){e.fragment.uniforms.add(new r(\"cloudAbsorption\",(r=>r.clouds.absorption)),new r(\"cloudCoverage\",(r=>r.clouds.coverage))).code.add(a`vec4 lookupCloudsFromTextureArray(sampler2DArray cubeMap, vec3 rayDir) {\nint faceIndex;\nvec2 uv;\nif(rayDir.z <= 0.0) {\nfloat hazeFactor = smoothstep(-0.01, mix(0.0, 0.075, cloudCoverage), abs(dot(rayDir, vec3(0, 0, 1))));\nfloat shading = clamp(1.0 - cloudAbsorption, 0.6, 1.0) * (1.0 - hazeFactor);\nfloat totalTransmittance = hazeFactor;\nreturn vec4(shading, totalTransmittance, shading, totalTransmittance);\n}\nif (abs(rayDir.x) >= abs(rayDir.y) && abs(rayDir.x) >= abs(rayDir.z)) {\nif(rayDir.x > 0.0) {\nfaceIndex = 0;\nuv = rayDir.yz / rayDir.x;\nuv = vec2(-uv.x, uv.y);\n} else {\nfaceIndex = 1;\nuv = rayDir.yz / rayDir.x;\nuv = vec2(-uv.x, -uv.y);\n}\n} else if (abs(rayDir.y) >= abs(rayDir.x) && abs(rayDir.y) >= abs(rayDir.z)) {\nif(rayDir.y > 0.0) {\nfaceIndex = 2;\nuv = rayDir.xz / rayDir.y;\n} else {\nfaceIndex = 3;\nuv = rayDir.xz / rayDir.y;\nuv = vec2(uv.x, -uv.y);\n}\n} else {\nif(rayDir.y < 0.0) {\nfaceIndex = 4;\nuv = rayDir.xy / rayDir.z;\nuv = vec2(uv.x, -uv.y);\n} else {\nfaceIndex = 5;\nuv = rayDir.xy / rayDir.z;\nuv = vec2(uv.x, -uv.y);\n}\n}\nuv = 0.5 * (uv + 1.0);\nif(faceIndex != 5) {\nuv.y = uv.y - 0.5;\n}\nuv.y = uv.y * 2.0;\nvec4 s = texture(cubeMap, vec3(uv, float(faceIndex)));\nreturn s;\n}`)}export{e as LookupCloudsFromTextureArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"sampler2DArray\",r.Bind,((r,s)=>r.bindTexture(e,o(s))))}}export{o as Texture2DArrayBindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as o}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{earth as t}from\"../../../../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as e}from\"../../../../environment/Clouds.js\";import{FadeState as r}from\"../../../../environment/CloudsParameters.js\";import{cloudsHeight as a}from\"../../../../environment/weather.js\";import{addMainLightDirection as i,addMainLightIntensity as d}from\"../shading/MainLighting.glsl.js\";import{LookupCloudsFromTextureArray as c}from\"./LookupCloudsFromTextureArray.glsl.js\";import{BooleanBindUniform as n}from\"../../shaderModules/BooleanBindUniform.js\";import{Float3BindUniform as l}from\"../../shaderModules/Float3BindUniform.js\";import{FloatBindUniform as s}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as u}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as m}from\"../../shaderModules/Matrix4BindUniform.js\";import{Texture2DArrayBindUniform as h}from\"../../shaderModules/Texture2DArrayBindUniform.js\";function C(t){const a=t.fragment;a.constants.add(\"radiusCloudsSquared\",\"float\",v).code.add(u`vec3 intersectWithCloudLayer(vec3 dir, vec3 cameraPosition, vec3 spherePos) {\nfloat B = 2.0 * dot(cameraPosition, dir);\nfloat C = dot(cameraPosition, cameraPosition) - radiusCloudsSquared;\nfloat det = B * B - 4.0 * C;\nfloat pointIntDist = max(0.0, 0.5 *(-B + sqrt(det)));\nreturn (cameraPosition + dir * pointIntDist) - spherePos;\n}`),a.uniforms.add(new s(\"radiusCurvatureCorrection\",(({clouds:o})=>o.parallax.radiusCurvatureCorrection))).code.add(u`vec3 correctForPlanetCurvature(vec3 dir) {\ndir.z = dir.z * (1.0 - radiusCurvatureCorrection) + radiusCurvatureCorrection;\nreturn dir;\n}`),a.code.add(u`vec3 rotateDirectionToAnchorPoint(mat4 rotMat, vec3 inVec) {\nreturn (rotMat * vec4(inVec, 0.0)).xyz;\n}`),i(a),d(a);const C=o(.28,.175,.035);a.constants.add(\"RIM_COLOR\",\"vec3\",C);const f=.3,p=140,g=.2,w=10,P=.3;a.code.add(u`\n    vec3 calculateCloudColor(vec3 cameraPosition, vec3 worldSpaceRay, vec4 clouds) {\n      float upDotLight = dot(cameraPosition, mainLightDirection);\n      float dirDotLight = max(dot(worldSpaceRay, mainLightDirection), 0.0);\n      float sunsetTransition = clamp(pow(max(upDotLight, 0.0), ${u.float(f)}), 0.0, 1.0);\n\n      // Base color of the clouds that depends on lighting of the sun and sky\n      vec3 ambientLight = calculateAmbientIrradiance(cameraPosition,  0.0);\n      vec3 combinedLight = clamp((mainLightIntensity + ambientLight )/PI, vec3(0.0), vec3(1.0));\n      vec3 baseCloudColor = pow(combinedLight * pow(clouds.xyz, vec3(GAMMA)), vec3(INV_GAMMA));\n\n      // Rim light around the edge of the clouds simulating scattering of the direct lun light\n      float scatteringMod = max(clouds.a < 0.5 ? clouds.a / 0.5 : - clouds.a / 0.5 + 2.0, 0.0);\n      float rimLightIntensity = 0.5 + 0.5 * pow(max(upDotLight, 0.0), 0.35);\n      vec3 directSunScattering = RIM_COLOR * rimLightIntensity * (pow(dirDotLight, ${u.float(p)})) * scatteringMod;\n\n      // Brighten the clouds around the sun at the sunsets\n      float additionalLight = ${u.float(g)} * pow(dirDotLight, ${u.float(w)}) * (1. - pow(sunsetTransition, ${u.float(P)})) ;\n\n      return vec3(baseCloudColor * (1.0 + additionalLight) + directSunScattering);\n    }\n  `),t.include(c),a.uniforms.add(new n(\"readChannelsRG\",(o=>o.clouds.readChannels===e.RG)),new h(\"cubeMap\",(o=>o.clouds.data?.cubeMap?.colorTexture))).code.add(u`vec4 sampleCloud(vec3 rayDir, bool readOtherChannel) {\nvec4 s = lookupCloudsFromTextureArray(cubeMap, rayDir);\nbool readRG = readChannelsRG ^^ readOtherChannel;\ns = readRG ? vec4(vec3(s.r), s.g) : vec4(vec3(s.b), s.a);\nreturn length(s) == 0.0 ? vec4(s.rgb, 1.0) : s;\n}`),a.uniforms.add(new l(\"anchorPoint\",(o=>o.clouds.parallax.anchorPoint)),new l(\"anchorPointNew\",(o=>o.clouds.parallaxNew.anchorPoint)),new m(\"rotationClouds\",(o=>o.clouds.parallax.transform)),new m(\"rotationCloudsNew\",(o=>o.clouds.parallaxNew.transform)),new s(\"cloudsOpacity\",(o=>o.clouds.opacity)),new s(\"fadeFactor\",(o=>o.clouds.fadeFactor)),new n(\"crossFade\",(o=>o.clouds.fadeState===r.CROSS_FADE))).code.add(u`vec4 renderClouds(vec3 worldRay, vec3 cameraPosition) {\nvec3 intersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPoint);\nvec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationClouds, normalize(intersectionPoint));\nvec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\nvec4 cloudData = sampleCloud(worldRayRotatedCorrected, crossFade);\nvec3 cameraPositionN = normalize(cameraPosition);\nvec4 cloudColor = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\nif(crossFade) {\nintersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPointNew);\nworldRayRotated = rotateDirectionToAnchorPoint(rotationCloudsNew, normalize(intersectionPoint));\nworldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\ncloudData = sampleCloud(worldRayRotatedCorrected, false);\nvec4 cloudColorNew = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\ncloudColor = mix(cloudColor, cloudColorNew, fadeFactor);\n}\nfloat totalTransmittance = length(cloudColor.rgb) == 0.0 ?\n1.0 :\nclamp(cloudColor.a * cloudsOpacity + (1.0 - cloudsOpacity), 0.0 , 1.0);\nreturn vec4(cloudColor.rgb, totalTransmittance);\n}`)}const v=(t.radius+a)**2;export{C as CloudsParallaxShading};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class s extends e{constructor(e,s){super(e,\"usampler2D\",r.Pass,((r,o,t)=>r.bindTexture(e,s(o,t))))}}export{s as Texture2DUintPassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{hasArea as o,width as r,height as t}from\"../../../../../../geometry/support/aaBoundingRect.js\";import{OverlayIndex as a}from\"../../../../terrain/interfaces.js\";import{OverlayContent as l}from\"../../../../terrain/OverlayContent.js\";import{RenderPassIdentifier as i}from\"../../renderPasses/RenderPassIdentifier.js\";import{ShaderOutput as n,isColorOrColorEmission as d}from\"../ShaderOutput.js\";import{addMainLightDirection as s,addMainLightIntensity as v}from\"../shading/MainLighting.glsl.js\";import{PBRMode as c}from\"../shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Water as u}from\"../shading/Water.glsl.js\";import{Float4DrawUniform as x}from\"../../shaderModules/Float4DrawUniform.js\";import{FloatPassUniform as y}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as m}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as p}from\"../../shaderModules/Texture2DPassUniform.js\";import{Texture2DUintPassUniform as f}from\"../../shaderModules/Texture2DUintPassUniform.js\";import{Uniform as g}from\"../../../../../webgl/Uniform.js\";var h;function C(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new x(\"overlayTexOffset\",((e,o)=>V(e,o))),new x(\"overlayTexScale\",((e,o)=>I(e,o)))),t.constants.add(\"overlayOpacity\",\"float\",1),t.uniforms.add(new p(\"ovColorTex\",((e,o)=>b(e,o)))),T(e,o)}function O(e,o){const{vertex:r,fragment:t}=e,{output:a}=o;r.uniforms.add(new M(\"overlayTexOffset\"),new M(\"overlayTexScale\")),t.uniforms.add(new y(\"overlayOpacity\",(e=>e.overlayOpacity))),a!==n.Highlight&&t.uniforms.add(new p(\"ovColorTex\",((e,o)=>o.overlay?.getTexture(e.overlayContent)))),T(e,o)}function T(e,o){const r=o.pbrMode===c.Water||o.pbrMode===c.WaterOnIntegratedMesh||o.pbrMode===c.TerrainWithWater;r&&e.include(u,o);const{vertex:t,fragment:a,varyings:i}=e;i.add(\"vtcOverlay\",\"vec4\");const{output:d}=o,x=d===n.Highlight;t.code.add(m`void setOverlayVTC(in vec2 uv) {\nvtcOverlay = vec4(uv, uv) * overlayTexScale + overlayTexOffset;\n}`),a.code.add(m`bool isValid(vec2 uv, vec2 dxdy) {\nreturn (uv.x >= 0.0 + dxdy.x) && (uv.x <= 1.0 - dxdy.x) && (uv.y >= 0.0 + dxdy.y) && (uv.y <= 1.0 - dxdy.y);\n}\nvec4 getOverlayColor(sampler2D ov0Tex, vec4 texCoords) {\nvec4 color0 = texture(ov0Tex, vec2(texCoords.x * 0.5, texCoords.y));\nvec4 color1 = texture(ov0Tex, vec2(texCoords.z * 0.5 + 0.5, texCoords.w));\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`),x?a.uniforms.add(new f(\"overlayHighlightTexture\",((e,o)=>o.overlay?.getTexture(l.Highlight)))).code.add(m`uvec2 getAllOverlayHighlightValuesEncoded() {\nvec4 texCoords = vtcOverlay;\nvec2 uvInner = texCoords.xy;\nvec2 uvOuter = texCoords.zw;\nbool isValidInner = isValid(uvInner, fwidth(uvInner));\nbool isValidOuter = isValid(uvOuter, vec2(0.0, 0.0));\nvec2 texelCoordInner = uvInner * vec2(0.5, 1.0);\nvec2 texelCoordOuter = uvOuter * vec2(0.5, 1.0) + vec2(0.5,0.0);\nvec2 texDim =  vec2(textureSize(overlayHighlightTexture, 0));\nuvec2 texelValueInner = texelFetch(overlayHighlightTexture, ivec2(texelCoordInner * texDim), 0).rg;\nuvec2 texelValueOuter = texelFetch(overlayHighlightTexture, ivec2(texelCoordOuter * texDim), 0).rg;\nreturn\nisValidInner ? texelValueInner :\nisValidOuter ? texelValueOuter :\nuvec2(0);\n}`):(a.code.add(m`vec4 getCombinedOverlayColor() {\nreturn overlayOpacity * getOverlayColor(ovColorTex, vtcOverlay);\n}`),a.code.add(m`vec4 getOverlayColorTexel() {\nvec4 texCoords = vtcOverlay;\nvec2 texDim =  vec2(textureSize(ovColorTex, 0));\nvec4 color0 = texelFetch(ovColorTex, ivec2(vec2(texCoords.x * 0.5, texCoords.y) * texDim), 0);\nvec4 color1 = texelFetch(ovColorTex, ivec2(vec2(texCoords.z * 0.5 + 0.5, texCoords.w) * texDim), 0);\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`)),r&&(s(a),v(a),a.code.add(m`vec4 getOverlayWaterColor(vec4 maskInput, vec4 colorInput, vec3 vposEyeDir,\nfloat shadow, vec3 localUp, mat3 tbn, vec3 position, vec3 positionWorld) {\nvec3 n = normalize(tbn *  (2.0 * maskInput.rgb - vec3(1.0)));\nvec3 v = vposEyeDir;\nvec3 final = getSeaColor(n, v, mainLightDirection, colorInput.rgb, mainLightIntensity, localUp, 1.0 - shadow, maskInput.w, position, positionWorld);\nreturn vec4(final, colorInput.w);\n}`))}function b(e,o){return e.identifier===i.Material&&d(e.output)?e.occludedGround?o.overlay?.getTexture(l.Occluded):o.overlay?.getTexture(l.ColorNoRasterImage):e.identifier===i.Material&&e.output===n.ObjectAndLayerIdColor?o.overlay?.getTexture(l.ObjectAndLayerIdColor):e.identifier===i.Highlight?o.overlay?.getTexture(l.Highlight):null}function V(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(w[0]=e.toMapSpace[0]/r(i)-i[0]/r(i),w[1]=e.toMapSpace[1]/t(i)-i[1]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(w[2]=e.toMapSpace[0]/r(n)-n[0]/r(n),w[3]=e.toMapSpace[1]/t(n)-n[1]/t(n)),w}function I(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(w[0]=e.toMapSpace[2]/r(i),w[1]=e.toMapSpace[3]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(w[2]=e.toMapSpace[2]/r(n),w[3]=e.toMapSpace[3]/t(n)),w}!function(e){e[e.Disabled=0]=\"Disabled\",e[e.Enabled=1]=\"Enabled\",e[e.EnabledWithWater=2]=\"EnabledWithWater\",e[e.COUNT=3]=\"COUNT\"}(h||(h={}));const w=e();class M extends g{constructor(e){super(e,\"vec4\")}}export{C as OverlayIM,h as OverlayMode,O as OverlayTerrain,b as getIMColorTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{Float3PassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{NoParameters as l}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as i}from\"../views/webgl/ShaderBuilder.js\";class a extends l{constructor(){super(...arguments),this.color=e(1,1,1)}}function n(){const e=new i;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture)),new o(\"uColor\",(e=>e.color))),e.fragment.main.add(s`vec4 texColor = texture(tex, uv);\nfragColor = texColor * vec4(uColor, 1.0);`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,TextureOnlyPassParameters:a,build:n},Symbol.toStringTag,{value:\"Module\"}));export{a as T,m as a,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Accessor.js\";import{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{RenderOccludedFlag as t}from\"../lib/Material.js\";const s={required:[]},n={required:[r.Depth]};class u extends e{precompile(e){return!!this.acquireTechniques(e)}consumes(){return s}get usedMemory(){return 0}get renderOccludedFlags(){return t.Occlude}get isDecoration(){return!1}get running(){return!1}modify(e,r){}get numGeometries(){return 0}get hasOccludees(){return!1}get hasEmissions(){return!1}forEachGeometry(e){}}class o extends u{}class c extends u{}export{c as AsyncRenderPlugin,n as ConsumesDepth,s as ConsumesNone,o as SyncRenderPlugin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class e extends s{constructor(s,e){super(s,\"ivec2\",r.Pass,((r,o,i)=>r.setUniform2iv(s,e(o,i))))}}export{e as Integer2PassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DUintPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DUintPassUniform.js\";import{NoParameters as l}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as r}from\"../views/webgl/ShaderBuilder.js\";class o extends l{}function c(){const l=new r,{outputs:o,fragment:c}=l;return l.include(e),c.uniforms.add(new i(\"highlightTexture\",(e=>e.highlightTexture))),c.constants.add(\"outlineWidth\",\"int\",Math.ceil(n)),c.constants.add(\"cellSize\",\"int\",u),o.add(\"fragGrid\",\"uvec2\"),c.main.add(t`ivec2 inputTextureSize = textureSize(highlightTexture, 0);\nivec2 cellBottomLeftCornerInput = ivec2(ivec2(floor(gl_FragCoord.xy) * vec2(cellSize)));\nivec2 coordMid =  cellBottomLeftCornerInput + ivec2(cellSize >> 1);\nuvec2 centreTexel = texelFetch(highlightTexture, coordMid, 0).rg & uvec2(0x55u);\nfloat marginSquare = float(outlineWidth*outlineWidth);\nuvec2 outputValue = centreTexel & uvec2(0x55u);\nfor(int y = -outlineWidth; y <= cellSize + outlineWidth; y+=2) {\nint dy = y < 0 ? -y : y > cellSize ? y-cellSize : 0;\nint xMargin = dy > 0 ? int(ceil(sqrt(marginSquare - float(dy*dy)))) : outlineWidth;\nfor(int x = -xMargin; x <= cellSize + xMargin; x+=2) {\nivec2 coord = cellBottomLeftCornerInput + ivec2(x, y);\nuvec2[4] texels = uvec2[4] (\ntexelFetch(highlightTexture,coord+ivec2(0,0),0).rg & uvec2(0x55u),\ntexelFetch(highlightTexture,coord+ivec2(1,0),0).rg & uvec2(0x55u),\ntexelFetch(highlightTexture,coord+ivec2(0,1),0).rg & uvec2(0x55u),\ntexelFetch(highlightTexture,coord+ivec2(1,1),0).rg & uvec2(0x55u)\n);\nif (texels[0] == texels[1] && texels[1] == texels[2] && texels[2] == texels[3] && texels[3] ==  centreTexel) {\ncontinue;\n}\nfor (int i=0; i<4; ++i){\noutputValue |= ((texels[i] ^ centreTexel) << 1);\noutputValue |= texels[i];\n}\n}\n}\nfragGrid = outputValue;`),l}const u=32,n=9,s=.4,a=Object.freeze(Object.defineProperty({__proto__:null,HighlightDownsampleDrawParameters:o,blurSize:s,build:c,gridCellPixelSize:u,outlineSize:n},Symbol.toStringTag,{value:\"Module\"}));export{o as H,a,s as b,c,u as g,n as o};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{set as e}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{glsl as i}from\"../shaderModules/glsl.js\";import{Integer2PassUniform as t}from\"../shaderModules/Integer2PassUniform.js\";import{IntegerPassUniform as o}from\"../shaderModules/IntegerPassUniform.js\";import{Texture2DUintPassUniform as n}from\"../shaderModules/Texture2DUintPassUniform.js\";import{g as c}from\"../../../../../chunks/HighlightDownsample.glsl.js\";function s(l){const{vertex:s}=l;s.uniforms.add(new n(\"coverageTexture\",(e=>e.coverageTexture)),new t(\"highlightRenderCellCount\",(l=>e(r,l.horizontalCellCount,l.verticalCellCount))),new t(\"highlightTextureResolution\",(({highlightTexture:l})=>e(r,l.descriptor.width,l.descriptor.height))),new o(\"highlightLevel\",(e=>e.highlightLevel))).constants.add(\"cellSize\",\"int\",c),l.varyings.add(\"sUV\",\"vec2\"),l.varyings.add(\"vOutlinePossible\",\"float\"),s.code.add(i`const ivec2 cellVertices[4] = ivec2[4](ivec2(0,0), ivec2(1,0), ivec2(0,1), ivec2(1,1));`),s.main.add(i`int cellIndex = gl_InstanceID;\nint cellX = cellIndex % highlightRenderCellCount[0];\nint cellY = (cellIndex - cellX) / highlightRenderCellCount[0];\nivec2 cellPos = ivec2(cellX, cellY);\nuvec2 covTexel = texelFetch(coverageTexture, cellPos, 0).rg;\nint channelIndex = (highlightLevel >> 2) & 3;\nuint channelValue = covTexel[channelIndex];\nint highlightIndex = (highlightLevel & 3) << 1;\nbool covered = ((channelValue >> highlightIndex) & 1u) == 1u;\nif (!covered) {\ngl_Position = vec4(0.0);\nreturn;\n}\nvOutlinePossible = (((channelValue >> highlightIndex) & 2u) == 2u) ? 1.0 : 0.0;\nivec2 iPosInCell = cellVertices[gl_VertexID];\nvec2 sPos = vec2(cellPos * cellSize + iPosInCell * (cellSize));\nvec2 vPos = sPos / vec2(highlightTextureResolution);\nsUV = vPos;\ngl_Position = vec4(2.0 * vPos - vec2(1.0), 0.0, 1.0);`)}const r=l();export{s as HighlightCellGridScreenSpacePass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as t}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{Float2DrawUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{Texture2DUintPassUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DUintPassUniform.js\";import{o as g,b as h}from\"./HighlightDownsample.glsl.js\";import{ShaderBuilder as s}from\"../views/webgl/ShaderBuilder.js\";function c(){const c=new s;c.include(e);const{fragment:a}=c;return a.uniforms.add(new n(\"blurInput\",(e=>e.highlightBlurTexture)),new i(\"blurSize\",(e=>e.blurSize)),new u(\"highlightTexture\",(e=>e.highlightTexture)),new n(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new o(\"highlightLevel\",(e=>e.highlightLevel)),new l(\"occludedIntensityFactor\",(e=>e.occludedFactor))),a.constants.add(\"inner\",\"float\",1-(g-h)/g),c.include(t),a.main.add(r`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nvec2 uv = sUV;\nvec2 center = texture(blurInput, uv).rg;\nvec2 blurredHighlightValue = (vOutlinePossible == 0.0)\n? center\n: center * 0.204164\n+ texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913\n+ texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;\nfloat highlightIntensity = blurredHighlightValue.r;\nfloat occlusionWeight = blurredHighlightValue.g;\nif (highlightIntensity <= 0.01) {\ndiscard;\n}\nvec4 fillColor    = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 0), 0);\nvec4 outlineColor = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 1), 0);\nuvec2 centerTexel = texelFetch(highlightTexture, ivec2(uv * highlightTextureSize), 0).rg;\nuint centerBits = readLevelBits(centerTexel, highlightLevel);\nbool centerFilled = (centerBits & 1u) == 1u;\nbool centerOccluded = (centerBits & 3u) == 3u;\nbool occluded = centerOccluded || (0.5 * highlightIntensity < occlusionWeight);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, inner, highlightIntensity);\nfloat fillFactor = centerFilled ? 1.0 : 0.0;\nvec4 baseColor = mix(outlineColor, fillColor, fillFactor);\nfloat intensity = baseColor.a * occlusionFactor * outlineFactor;\nfragColor = vec4(baseColor.rgb, intensity);`),c}const a=Object.freeze(Object.defineProperty({__proto__:null,build:c},Symbol.toStringTag,{value:\"Module\"}));export{a as H,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightApply.glsl.js\";import{makePipelineState as o,defaultColorWrite as s,unpremultipliedAlphaToPremultipliedAlpha as l}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightApply.glsl.js\"))))}initializePipeline(){return o({blending:l,colorWrite:s})}}export{t as HighlightApplyTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{HighlightCellGridScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{Float2DrawUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DDrawUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{NoParameters as u}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as l}from\"../views/webgl/ShaderBuilder.js\";class o extends u{constructor(){super(...arguments),this.blurSize=e()}}function n(){const e=new l;return e.include(r),e.outputs.add(\"fragHighlight\",\"vec2\",0),e.fragment.uniforms.add(new t(\"blurSize\",(e=>e.blurSize)),new s(\"blurInput\",(e=>e.blurInput))).main.add(i`vec2 highlightTextureSize = vec2(textureSize(blurInput,0));\nvec2 center = texture(blurInput, sUV).rg;\nif (vOutlinePossible == 0.0) {\nfragHighlight = center;\n} else {\nvec2 sum = center * 0.204164;\nsum += texture(blurInput, sUV + blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, sUV - blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, sUV + blurSize * 3.294215).rg * 0.093913;\nsum += texture(blurInput, sUV - blurSize * 3.294215).rg * 0.093913;\nfragHighlight = sum;\n}`),e}const g=Object.freeze(Object.defineProperty({__proto__:null,HighlightBlurDrawParameters:o,build:n},Symbol.toStringTag,{value:\"Module\"}));export{o as H,g as a,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as i}from\"../../../../../chunks/HighlightBlur.glsl.js\";import{makePipelineState as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightBlur.glsl.js\"))))}initializePipeline(){return o({colorWrite:s})}}export{l as HighlightBlurTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"../../shaders/HighlightDownsample.glsl.js\"))))}initializePipeline(){return s({colorWrite:i})}}export{l as HighlightDownsampleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{defaultOccludedFactor as t}from\"../../../../support/HighlightDefaults.js\";import{NoParameters as o}from\"../../../../webgl/NoParameters.js\";class e extends o{constructor(){super(...arguments),this.occludedFactor=t,this.verticalCellCount=0,this.horizontalCellCount=0,this.highlightLevel=0,this.pixelRatio=1}}export{e as HighlightPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as i}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DUintPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DUintPassUniform.js\";import{ShaderBuilder as t}from\"../views/webgl/ShaderBuilder.js\";function s(){const s=new t;s.include(e),s.include(i);const{fragment:h}=s;return s.outputs.add(\"fragSingleHighlight\",\"vec2\",0),h.uniforms.add(new g(\"highlightTexture\",(e=>e.highlightTexture)),new l(\"highlightLevel\",(e=>e.highlightLevel))),h.main.add(r`ivec2 iuv = ivec2(gl_FragCoord.xy);\nuvec2 inputTexel = texelFetch(highlightTexture, iuv, 0).rg;\nuint bits = readLevelBits(inputTexel, highlightLevel);\nbool hasHighlight = (bits & 1u) == 1u;\nbool hasOccluded  = (bits & 2u) == 2u;\nfragSingleHighlight = vec2(hasHighlight ? 1.0 : 0.0, hasOccluded ? 1.0 : 0.0);`),s}const h=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{h as H,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightToSingle.glsl.js\";import{makePipelineState as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightToSingle.glsl.js\"))))}initializePipeline(){return o({colorWrite:s})}}export{l as HighlightToSingleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{VertexAttribute as e}from\"./VertexAttribute.js\";import{DataType as O}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as r}from\"../../../webgl/VertexElementDescriptor.js\";const t=[],T=[new r(e.POSITION,3,O.FLOAT,0,12)],n=[new r(e.POSITION,2,O.FLOAT,0,8)],o=[new r(e.POSITION,2,O.FLOAT,0,12),new r(e.UV0,2,O.HALF_FLOAT,8,12)],m=[new r(e.POSITION,2,O.FLOAT,0,16),new r(e.UV0,2,O.FLOAT,8,16)];export{t as NoVertex,n as Pos2,o as Pos2TexF16,m as Pos2TexF32,T as Pos3};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{releaseMaybe as t,disposeMaybe as r}from\"../../../../../core/maybe.js\";import{watch as i,initial as s}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{set as n}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{InternalRenderCategory as l}from\"../../../webgl.js\";import a from\"../../../webgl/RenderNode.js\";import{ColorFormat as g}from\"../../core/FBOCacheFormats.js\";import{HighlightApplyTechnique as c}from\"./HighlightApplyTechnique.js\";import{HighlightBlurTechnique as u}from\"./HighlightBlurTechnique.js\";import{HighlightDownsampleTechnique as m}from\"./HighlightDownsampleTechnique.js\";import{HighlightPassParameters as p}from\"./HighlightPassParameters.js\";import{HighlightToSingleTechnique as d}from\"./HighlightToSingleTechnique.js\";import{RenderRequestType as f}from\"../../lib/basicInterfaces.js\";import{Default3D as T}from\"../../lib/DefaultVertexAttributeLocations.js\";import{NoVertex as b}from\"../../lib/DefaultVertexBufferLayouts.js\";import{VertexArrayObject as w}from\"../../lib/VertexArrayObject.js\";import{H as x}from\"../../../../../chunks/HighlightBlur.glsl.js\";import{H as C,g as v}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{BufferObject as _}from\"../../../../webgl/BufferObject.js\";import{PixelFormat as j,TextureSamplingMode as O,FramebufferBit as R,Usage as H,PrimitiveType as P,DataType as q,TextureType as D}from\"../../../../webgl/enums.js\";import{Texture as I}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as U}from\"../../../../webgl/TextureDescriptor.js\";let y=class extends a{constructor(){super(...arguments),this.produces=l.HIGHLIGHTS,this.consumes={required:[l.HIGHLIGHTS,\"highlights\"]},this._downsampleDrawParameters=new C,this._passParameters=new p,this._highlightBlurDrawParameters=new x,this._grid=new A}initialize(){this.addHandles([i((()=>this._updateOptionsTexture()),(()=>{}),s)])}destroy(){this._grid.coverage=t(this._grid.coverage),this._grid.vao=r(this._grid.vao),this._passParameters.highlightOptionsTexture=t(this._passParameters.highlightOptionsTexture)}_updateOptionsTexture(){if(null==this._passParameters.highlightOptionsTexture){const e=new U(16,2);e.internalFormat=j.RGBA,e.samplingMode=O.NEAREST,this._passParameters.highlightOptionsTexture=new I(this.renderingContext,e,null)}this._passParameters.highlightOptionsTexture.setData(E(this.view.state.highlights)),this.requestRender(f.UPDATE)}precompile(){this.techniques.precompile(m),this.techniques.precompile(d),this.techniques.precompile(u),this.techniques.precompile(c)}render(e){const t=e.find((({name:e})=>e===l.HIGHLIGHTS)),{techniques:r,bindParameters:i,_passParameters:s,renderingContext:o}=this;if(!i.decorations)return t;const h=r.get(m);if(!h.compiled)return this.requestRender(f.UPDATE),t;const n=e.find((({name:e})=>\"highlights\"===e)).getTexture();s.highlightTexture=n;const a=()=>{this._gridUpdateResources(n);const e=this._gridComputeCoverage(h,n,i),{horizontalCellCount:t,verticalCellCount:r}=e;return s.horizontalCellCount=t,s.verticalCellCount=r,s.coverageTexture=e.coverage?.getTexture(),e},g=e=>{const t=e.verticalCellCount*e.horizontalCellCount;o.bindVAO(e.vao),o.drawElementsInstanced(P.TRIANGLES,6,q.UNSIGNED_BYTE,0,t)},{camera:c}=i,u=()=>{o.bindFramebuffer(t.fbo),o.setViewport4fv(c.fullViewport)};return this._renderHighlightPostprocess(n,a,g,u),s.highlightTexture=null,s.coverageTexture=null,t}_renderHighlightPostprocess(e,t,r,i){const{fboCache:s,techniques:o,bindParameters:h,_passParameters:l,renderingContext:a}=this,m=o.get(d),p=o.get(u),T=o.get(c);if(!T.compiled||!p.compiled||!m.compiled)return void this.requestRender(f.UPDATE);l.highlightTexture=e;const b=t(),{width:w,height:x}=e.descriptor;l.highlightTexture=e;const{camera:C}=h,{fullWidth:v,fullHeight:_,pixelRatio:j}=C,O=Math.ceil(v/j),H=Math.ceil(_/j),{_highlightBlurDrawParameters:P}=this,q=this.view.stage.renderView.renderer,{highlights:D}=h;for(let c=0;c<D.length;++c){const{name:e}=D[c];if(!q.hasHighlight(e))continue;l.highlightLevel=c,a.setClearColor(0,0,0,0);const t=s.acquire(w,x,\"single highlight\",g.RG8UNORM);a.bindFramebuffer(t.fbo),a.setViewport(0,0,w,x),a.clear(R.COLOR),a.bindTechnique(m,h,l),r(b),P.blurInput=t.getTexture(),n(P.blurSize,1/O,0);const o=s.acquire(O,H,\"single highlight blur h\",g.RG8UNORM);a.unbindTexture(o.fbo?.colorTexture),a.bindFramebuffer(o.fbo),a.setViewport(0,0,O,H),a.clear(R.COLOR),a.bindTechnique(p,h,l,P),r(b),t.release(),n(P.blurSize,0,1/H),l.highlightBlurTexture=o.getTexture(),i(),a.bindTechnique(T,h,l,P),r(b),o.release()}}_gridUpdateResources(e){const t=this._grid,{width:r,height:i}=e.descriptor;if(t.horizontalCellCount=Math.ceil(r/v),t.verticalCellCount=Math.ceil(i/v),t.vao)return;const s=this.renderingContext,o=_.createIndex(s,H.STATIC_DRAW,L);t.vao=new w(s,T,new Map([[\"geometry\",b]]),new Map([[\"geometry\",_.createVertex(s,H.STATIC_DRAW)]]),o)}_gridComputeCoverage(e,t,r){const i=this.renderingContext,s=this._grid,o=t.descriptor,h=Math.ceil(o.width/v),n=Math.ceil(o.height/v);this._downsampleDrawParameters.input=t;const{highlights:l}=r;s.coverage?.release();const a=this.fboCache.acquire(h,n,\"highlight coverage\",l.length>B?g.RG8UINT:g.R8UINT);return s.coverage=a,i.bindFramebuffer(a.fbo),i.bindTechnique(e,r,this._passParameters,this._downsampleDrawParameters),i.setViewport(0,0,h,n),i.screen.draw(),s}get test(){}};e([o()],y.prototype,\"produces\",void 0),e([o()],y.prototype,\"consumes\",void 0),y=e([h(\"esri.views.3d.webgl-engine.effects.highlight.Highlight\")],y);class A{constructor(){this.coverage=null,this.vao=null,this.verticalCellCount=0,this.horizontalCellCount=0,this.viewportWidth=0,this.viewportHeight=0}}function E(e){const t=new Uint8Array(128);let r=0;for(const i of e){const e=4*r,s=4*r+64;++r;const{color:o}=i,h=i.haloColor??o;t[e+0]=o.r,t[e+1]=o.g,t[e+2]=o.b,t[e+3]=i.fillOpacity*o.a*255,t[s+0]=h.r,t[s+1]=h.g,t[s+2]=h.b,t[s+3]=i.haloOpacity*h.a*255}return t}let S=0;function G(e){let t=0;for(const i of e){const{name:e}=i;t+=e.length;const{color:r,fillOpacity:s,haloColor:o,haloOpacity:h}=i;t+=r.r+r.g+r.b+r.a+s,t+=o?o.r+o.g+o.b+o.a+h:0}const r=e.at(0);if(r){const{shadowOpacity:e,shadowDifference:i,shadowColor:s}=r;t+=e+i+s.r+s.g+s.b+s.a}return S+++(t>=0?0:1)}const L=new Uint8Array([0,1,2,2,1,3]);function M(e,t,r,i,s,o=0){const{highlights:h}=i,l=h.length>1?t.acquire(r.width,r.height,\"highlight mix\",h.length>B?g.RG8UINT:g.R8UINT):null,{gl:a}=e;if(l){const t=e.getBoundFramebufferObject();e.bindFramebuffer(l.fbo),a.clearBufferuiv(a.COLOR,0,[0,0,0,0]),e.bindFramebuffer(t)}const c=l?.getTexture();i.highlightMixTexture=c,n(i.highlightMixOrigin,o,0),h.forEach(((t,h)=>{if(h>0){const t=I.TEXTURE_UNIT_FOR_UPDATES;e.bindTexture(c,t),e.setActiveTexture(t),a.copyTexSubImage2D(D.TEXTURE_2D,0,0,0,o,0,r.width,r.height),e.bindTexture(null,t)}e.clear(R.DEPTH),i.highlightLevel=h,s()})),i.highlightLevel=null,i.highlightMixTexture=null,l?.release()}const B=4;export{y as Highlight,B as maxHighlightsPerChannel,M as renderHighlightBuffer,G as trackHighlightOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,e,i){this.material=t,this.output=s,this.techniques=e,this.textures=i}}export{t as GLMaterialParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{disposeMaybe as t}from\"../../../../core/maybe.js\";import{NestedMap as r}from\"../../../../core/NestedMap.js\";import{GLMaterialParameters as i}from\"./GLMaterialParameters.js\";import{assert as s}from\"./Util.js\";class a{constructor(e,t,i,s){this._textures=e,this._techniques=t,this.materialChanged=i,this.requestRender=s,this._id2glMaterialRef=new r}dispose(){this._textures.destroy()}acquire(e,t,r){this._ownMaterial(e);const s=e.produces.get(t);if(!s?.(r))return null;let a=this._id2glMaterialRef.get(r,e.id);if(null==a){const t=e.createGLMaterial(new i(e,r,this._techniques,this._textures));a=new o(t),this._id2glMaterialRef.set(r,e.id,a)}return a.ref(),a.glMaterial}release(e,r){const i=this._id2glMaterialRef.get(r,e.id);null!=i&&(i.unref(),i.referenced||(t(i.glMaterial),this._id2glMaterialRef.delete(r,e.id)))}_ownMaterial(t){t.repository&&t.repository!==this&&e.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRepository\").error(\"Material is already owned by a different material repository\"),t.repository=this}}class o{constructor(e){this.glMaterial=e,this._refCnt=0}ref(){++this._refCnt}unref(){--this._refCnt,s(this._refCnt>=0)}get referenced(){return this._refCnt>0}}export{a as GLMaterialRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Immediate=0]=\"Immediate\",e[e.FadeWithWeather=1]=\"FadeWithWeather\"}(e||(e={}));export{e as Update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{CloudsParameters as h}from\"../../environment/CloudsParameters.js\";import e from\"../../webgl/RenderCamera.js\";import{HUDRenderStyle as s}from\"../core/shaderLibrary/hud/HUDRenderStyle.js\";import{OITPass as r}from\"./OITPass.js\";import{RenderSlot as g}from\"./RenderSlot.js\";import{Update as n}from\"./Update.js\";import{SceneLighting as l}from\"../lighting/SceneLighting.js\";class o{constructor(i,t){this.width=i,this.height=t}}class a{constructor(i){this.shadowMap=i,this.slot=g.OPAQUE_MATERIAL,this.slicePlane=null,this.hasOccludees=!1,this.enableFillLights=!0,this.oitPass=r.NONE,this.alignPixelEnabled=!1,this.decorations=!0,this.overlayStretch=1,this.viewshedEnabled=!1,this._camera=new e,this._inverseViewport=t(),this._oldLighting=new l,this._newLighting=new l,this._fadedLighting=new l,this._lighting=this._newLighting,this.ssr=new c,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.highlights=new Array,this.highlightOrderMap=new Map,this.highlightMixOrigin=t(),this.highlightMixTexture=null,this.hudRenderStyle=s.Occluded,this.hudOccludedFragmentOpacity=1,this.snowCover=!1,this.clouds=new h,this.shadowHighlightsVisible=!1}get camera(){return this._camera}set camera(i){this._camera=i,this._inverseViewport[0]=1/i.fullViewport[2],this._inverseViewport[1]=1/i.fullViewport[3]}get inverseViewport(){return this._inverseViewport}get lighting(){return this._lighting}fadeLighting(){switch(this.clouds.fadeFactor){case 0:this._lighting=this._oldLighting;break;default:this._fadedLighting.lerpLighting(this._oldLighting,this._newLighting,this.clouds.fadeFactor),this._lighting=this._fadedLighting;break;case 1:this._lighting=this._newLighting,this._oldLighting.copyFrom(this._newLighting)}}updateLighting(i,t,h,e){this._oldLighting.copyFrom(this.lighting),this._newLighting.noonFactor=t,this._newLighting.globalFactor=h,this._newLighting.set(i),e===n.FadeWithWeather&&this.clouds.requestFade(),this.fadeLighting()}get highlight(){return null==this.highlightLevel?null:this.highlights[this.highlightLevel]}}class c{constructor(){this.fadeFactor=1,this.reprojectionMatrix=i()}}export{a as BindParameters,o as ViewportSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Milliseconds as r}from\"../../../../core/time.js\";import e from\"../../webgl/RenderCamera.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{BindParameters as i}from\"./BindParameters.js\";import{RenderOccludedFlag as s}from\"./Material.js\";class a{constructor(s,a,o){this.rctx=s,this.techniques=o,this.lastFrameCamera=new e,this.output=t.Color,this.renderOccludedMask=n,this.time=r(0),this.bind=new i(a),this.bind.alignPixelEnabled=!0}}const n=s.Occlude|s.OccludeAndTransparent|s.OccludeAndTransparentStencil;export{a as RenderContext,n as defaultRenderOccludedMask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import s from\"../../webgl/RenderCamera.js\";let i=class extends s{constructor(){super(...arguments),this._projectionMatrix=t()}get projectionMatrix(){return this._projectionMatrix}};r([o()],i.prototype,\"_projectionMatrix\",void 0),r([o({readOnly:!0})],i.prototype,\"projectionMatrix\",null),i=r([e(\"esri.views.3d.webgl-engine.lib.CascadeCamera\")],i);export{i as CascadeCamera};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t,lerp as s,acosClamped as e}from\"../../../../core/mathUtils.js\";import{releaseMaybe as i}from\"../../../../core/maybe.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{translate as r,multiply as h,invert as o,lookAt as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as c,create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as d,add as u,scale as m,lerp as _,squaredDistance as f,subtract as g,dot as p,negate as x,normalize as b,copy as w}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as M}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{q as C,c as j,u as y,t as H,i as v}from\"../../../../chunks/vec32.js\";import{create as D}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as S,t as O}from\"../../../../chunks/vec42.js\";import{create as T}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ViewingMode as F}from\"../../../ViewingMode.js\";import{DepthFormat as B}from\"../core/FBOCacheFormats.js\";import{CascadeCamera as Q}from\"./CascadeCamera.js\";import{applyTextureResizeModulo as V}from\"./textureUtils.js\";import{assert as L,logWithBase as N,verify as q,rayRay2D as R}from\"./Util.js\";import{DepthStencilAttachment as W,FramebufferBit as z}from\"../../../webgl/enums.js\";var E;!function(t){t[t.Highlight=0]=\"Highlight\",t[t.ExcludeHighlight=1]=\"ExcludeHighlight\"}(E||(E={}));class P{constructor(){this.camera=new Q,this.lightMat=l()}}class A{constructor(){this.maxNumCascadesHighQuality=4,this.maxNumCascadesLowQuality=4,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.splitSchemeLambda=0}}class I{constructor(t,s){this._fbos=t,this._viewingMode=s,this._snapshots=new Array,this._textureHeight=0,this._numCascades=1,this.settings=new A,this._projectionView=l(),this._projectionViewInverse=l(),this._modelViewLight=l(),this._cascadeDistances=[0,0,0,0,0],this._usedCascadeDistances=T(),this._cascades=[new P,new P,new P,new P],this._lastOrigin=null,this._enabled=!1,this._maxTextureWidth=Math.min(has(\"esri-mobile\")?4096:16384,t.rctx.parameters.maxTextureSize)}dispose(){this.enabled=!1,this.disposeOffscreenBuffers()}get depthTexture(){return this._handle?.getTexture(W)}get _textureWidth(){return this._textureHeight*this._numCascades}get numCascades(){return this._numCascades}get cascadeDistances(){return S(this._usedCascadeDistances,this._cascadeDistances[0],this._numCascades>1?this._cascadeDistances[1]:1/0,this._numCascades>2?this._cascadeDistances[2]:1/0,this._numCascades>3?this._cascadeDistances[3]:1/0)}disposeMainBuffer(){this._handle=i(this._handle)}disposeOffscreenBuffers(){this.disposeMainBuffer(),this._discardSnapshots()}set maxCascades(s){this.settings.maxNumCascadesHighQuality=t(Math.floor(s),1,4)}get maxCascades(){return this.settings.maxNumCascadesHighQuality}set enabled(t){this._enabled=t,t||this.disposeOffscreenBuffers()}get enabled(){return this._enabled}get ready(){return this._enabled&&null!=this.depthTexture}get cascades(){for(let t=0;t<this._numCascades;++t)tt[t]=this._cascades[t];return tt.length=this._numCascades,tt}start(t,s,e,i,a){L(this.enabled);const{near:r,far:h}=Mt(e);this._computeCascadeDistances(r,h,i),this._textureHeight=this._computeTextureHeight(t,a,i),this._setupMatrices(t,s);const{viewMatrix:o,projectionMatrix:n}=t;for(let c=0;c<this._numCascades;++c)this._constructCascade(c,n,o,s);this._lastOrigin=null,this.clear()}finish(){L(this.enabled)}getShadowMapMatrices(t){if(!this._lastOrigin||!C(t,this._lastOrigin)){this._lastOrigin=this._lastOrigin||D(),j(this._lastOrigin,t);for(let s=0;s<this._numCascades;++s){r(st,this._cascades[s].lightMat,t);for(let t=0;t<16;++t)et[16*s+t]=st[t]}}return et}moveSnapshot(t){L(this.enabled),this._snapshots[t]?.release(),this._snapshots[t]=this._handle,this._handle?.setName(t===E.Highlight?\"shadow map highlight\":\"shadow map excluding highlight\"),this._handle=null}copySnapshot(t){if(!this.enabled)return;const s=this._handle?.getTexture(W)?.descriptor;if(!s)return;this._snapshots[t]?.release();const e=t===E.Highlight?\"shadow map highlight\":\"shadow map excluding highlight\",i=this._acquireFBO(e);this._snapshots[t]=i;const a=this._handle?.fbo;if(!a||!i?.fbo)return void console.error(\"No FBO\");const{rctx:r}=this._fbos;r.blitFramebuffer(a,i.fbo,z.DEPTH)}getSnapshot(t){return this.enabled?this._snapshots[t]?.getTexture(W):null}clear(){this._ensureFbo(),this.bindFbo(),this._fbos.rctx.clear(z.DEPTH)}_computeTextureHeight({pixelRatio:t,fullWidth:s,fullHeight:e},i,a){const r=Math.min(window.devicePixelRatio,i)/t,h=a?this.settings.textureSizeModHighQuality:this.settings.textureSizeModLowQuality;return V(Math.max(s,e)*r*h,this._maxTextureWidth/this._numCascades)}_ensureFbo(){this._handle?.fbo?.width===this._textureWidth&&this._handle?.fbo.height===this._textureHeight||(this._handle?.release(),this._handle=this._acquireFBO(\"shadow map\"))}_acquireFBO(t){const s=this._fbos.acquire(this._textureWidth,this._textureHeight,t,B.DEPTH16);return s.getTexture(W)?.setShadowFiltering(!0),s}_discardSnapshot(t){this._snapshots[t]=i(this._snapshots[t])}_discardSnapshots(){for(let t=0;t<this._snapshots.length;++t)this._discardSnapshot(t);this._snapshots.length=0}bindFbo(){this._fbos.rctx.bindFramebuffer(this._handle?.fbo)}_constructCascade(t,s,e,i){const a=this._cascades[t],o=-this._cascadeDistances[t],n=-this._cascadeDistances[t+1],c=(s[10]*o+s[14])/Math.abs(s[11]*o+s[15]),l=(s[10]*n+s[14])/Math.abs(s[11]*n+s[15]);L(c<l);for(let r=0;r<8;++r){S(k,r%4==0||r%4==3?-1:1,r%4==0||r%4==1?-1:1,r<4?c:l,1);const t=G[r];O(t,k,this._projectionViewInverse),t[0]/=t[3],t[1]/=t[3],t[2]/=t[3]}y($,G[0]),a.camera.viewMatrix=r(U,this._modelViewLight,$);for(let r=0;r<8;++r)H(G[r],G[r],a.camera.viewMatrix);let d=G[0][2],u=G[0][2];for(let r=1;r<8;++r)d=Math.min(d,G[r][2]),u=Math.max(u,G[r][2]);d-=200,u+=200,a.camera.near=-u,a.camera.far=-d,wt(e,i,d,u,a.camera),h(a.lightMat,a.camera.projectionMatrix,a.camera.viewMatrix);const m=this._textureHeight;a.camera.viewport=[t*m,0,m,m]}_setupMatrices(t,s){h(this._projectionView,t.projectionMatrix,t.viewMatrix),o(this._projectionViewInverse,this._projectionView);const e=this._viewingMode===F.Global?t.eye:v($,0,0,1);n(this._modelViewLight,[0,0,0],[-s[0],-s[1],-s[2]],e)}_computeCascadeDistances(t,e,i){const a=i?this.settings.maxNumCascadesHighQuality:this.settings.maxNumCascadesLowQuality;this._numCascades=Math.min(1+Math.floor(N(e/t,4)),a);const r=(e-t)/this._numCascades,h=(e/t)**(1/this._numCascades);let o=t,n=t;for(let c=0;c<this._numCascades+1;++c)this._cascadeDistances[c]=s(o,n,this.settings.splitSchemeLambda),o*=h,n+=r}get test(){}}const U=l(),k=T(),G=[];for(let Ct=0;Ct<8;++Ct)G.push(T());const J=M(),K=M(),X=M(),Y=M(),Z=M(),$=D(),tt=[],st=l(),et=c.concat(c,c,c,c),it=M(),at=M(),rt=[M(),M(),M(),M()],ht=M(),ot=M(),nt=M(),ct=M(),lt=M(),dt=M(),ut=M();function mt(t,s,e,i,a,r,h,o){d(it,0,0);for(let d=0;d<4;++d)u(it,it,t[d]);m(it,it,.25),d(at,0,0);for(let d=4;d<8;++d)u(at,at,t[d]);m(at,at,.25),_(rt[0],t[4],t[5],.5),_(rt[1],t[5],t[6],.5),_(rt[2],t[6],t[7],.5),_(rt[3],t[7],t[4],.5);let n=0,c=f(rt[0],it);for(let d=1;d<4;++d){const t=f(rt[d],it);t<c&&(c=t,n=d)}g(ht,rt[n],t[n+4]);const l=ht[0];let M,C;ht[0]=-ht[1],ht[1]=l,g(ot,at,it),p(ot,ht)<0&&x(ht,ht),_(ht,ht,ot,e),b(ht,ht),M=C=p(g(nt,t[0],it),ht);for(let d=1;d<8;++d){const s=p(g(nt,t[d],it),ht);s<M?M=s:s>C&&(C=s)}w(i,it),m(nt,ht,M-s),u(i,i,nt);let j=-1,y=1,H=0,v=0;for(let d=0;d<8;++d){g(ct,t[d],i),b(ct,ct);const s=ht[0]*ct[1]-ht[1]*ct[0];s>0?s>j&&(j=s,H=d):s<y&&(y=s,v=d)}q(j>0,\"leftArea\"),q(y<0,\"rightArea\"),m(lt,ht,M),u(lt,lt,it),m(dt,ht,C),u(dt,dt,it),ut[0]=-ht[1],ut[1]=ht[0];const D=R(i,t[v],dt,u(nt,dt,ut),1,a),S=R(i,t[H],dt,nt,1,r),O=R(i,t[H],lt,u(nt,lt,ut),1,h),T=R(i,t[v],lt,nt,1,o);q(D,\"rayRay\"),q(S,\"rayRay\"),q(O,\"rayRay\"),q(T,\"rayRay\")}function _t(t,s){return 3*s+t}const ft=M();function gt(t,s){return d(ft,t[s],t[s+3]),ft}const pt=M(),xt=a();function bt(t,s,e,i,a){g(pt,e,i),m(pt,pt,.5),xt[0]=pt[0],xt[1]=pt[1],xt[2]=0,xt[3]=pt[1],xt[4]=-pt[0],xt[5]=0,xt[6]=pt[0]*pt[0]+pt[1]*pt[1],xt[7]=pt[0]*pt[1]-pt[1]*pt[0],xt[8]=1,xt[_t(0,2)]=-p(gt(xt,0),t),xt[_t(1,2)]=-p(gt(xt,1),t);let r=p(gt(xt,0),e)+xt[_t(0,2)],h=p(gt(xt,1),e)+xt[_t(1,2)],o=p(gt(xt,0),i)+xt[_t(0,2)],n=p(gt(xt,1),i)+xt[_t(1,2)];r=-(r+o)/(h+n),xt[_t(0,0)]+=xt[_t(1,0)]*r,xt[_t(0,1)]+=xt[_t(1,1)]*r,xt[_t(0,2)]+=xt[_t(1,2)]*r,r=1/(p(gt(xt,0),e)+xt[_t(0,2)]),h=1/(p(gt(xt,1),e)+xt[_t(1,2)]),xt[_t(0,0)]*=r,xt[_t(0,1)]*=r,xt[_t(0,2)]*=r,xt[_t(1,0)]*=h,xt[_t(1,1)]*=h,xt[_t(1,2)]*=h,xt[_t(2,0)]=xt[_t(1,0)],xt[_t(2,1)]=xt[_t(1,1)],xt[_t(2,2)]=xt[_t(1,2)],xt[_t(1,2)]+=1,r=p(gt(xt,1),s)+xt[_t(1,2)],h=p(gt(xt,2),s)+xt[_t(2,2)],o=p(gt(xt,1),e)+xt[_t(1,2)],n=p(gt(xt,2),e)+xt[_t(2,2)],r=-.5*(r/h+o/n),xt[_t(1,0)]+=xt[_t(2,0)]*r,xt[_t(1,1)]+=xt[_t(2,1)]*r,xt[_t(1,2)]+=xt[_t(2,2)]*r,r=p(gt(xt,1),s)+xt[_t(1,2)],h=p(gt(xt,2),s)+xt[_t(2,2)],o=-h/r,xt[_t(1,0)]*=o,xt[_t(1,1)]*=o,xt[_t(1,2)]*=o,a[0]=xt[0],a[1]=xt[1],a[2]=0,a[3]=xt[2],a[4]=xt[3],a[5]=xt[4],a[6]=0,a[7]=xt[5],a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=xt[6],a[13]=xt[7],a[14]=0,a[15]=xt[8]}function wt(t,s,i,a,r){const h=1/G[0][3],o=1/G[4][3];L(h<o);let n=h+Math.sqrt(h*o);const c=Math.sin(e(t[2]*s[0]+t[6]*s[1]+t[10]*s[2]));n/=c,mt(G,n,c,J,K,X,Y,Z),bt(J,K,Y,Z,r.projectionMatrix),r.projectionMatrix[10]=2/(i-a),r.projectionMatrix[14]=-(i+a)/(i-a)}function Mt(t){let{near:s,far:e}=t;return s<2&&(s=2),e<2&&(e=2),s>=e&&(s=2,e=4),{near:s,far:e}}export{I as ShadowMap,E as SnapshotSlot};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../chunks/TextureOnly.glsl.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{makePipelineState as i,defaultColorWrite as l,unpremultipliedAlphaToPremultipliedAlpha as s}from\"../../../webgl/renderState.js\";class t extends o{constructor(o,i){super(o,i,new r(e,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\"))))}initializePipeline(e){return e.hasAlpha?i({blending:s,colorWrite:l}):i({colorWrite:l})}}export{t as TextureTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../chunks/tslib.es6.js\";import{parameter as e,ShaderTechniqueConfiguration as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class r extends o{constructor(){super(...arguments),this.hasAlpha=!1}}s([e()],r.prototype,\"hasAlpha\",void 0);export{r as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{OverlayIndex as e}from\"../views/3d/terrain/interfaces.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{NoParameters as i}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as n}from\"../views/webgl/ShaderBuilder.js\";class d extends i{constructor(){super(...arguments),this.overlayIndex=e.INNER,this.opacity=1}}function l(){const e=new n;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture))),e.fragment.uniforms.add(new a(\"overlayIdx\",(e=>e.overlayIndex))),e.fragment.uniforms.add(new o(\"opacity\",(e=>e.opacity))),e.fragment.main.add(s`vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);\nfragColor = texture(tex, overlayUV) * opacity;`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,OverlayCompositingPassParameters:d,build:l},Symbol.toStringTag,{value:\"Module\"}));export{d as O,m as a,l as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../chunks/OverlayCompositing.glsl.js\";class s extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"./OverlayCompositing.glsl.js\"))))}}export{s as OverlayCompositingTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{disposeMaybe as s}from\"../../../core/maybe.js\";import i from\"../../../core/PooledArray.js\";import{watch as n,on as o,syncAndInitial as a,initial as h}from\"../../../core/reactiveUtils.js\";import{someSet as l}from\"../../../core/SetUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ortho as u,fromTranslation as p}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as g}from\"../../../chunks/vec32.js\";import{ones as _}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{DrapeTargetType as m,DrapeSourceType as f,DrapedRenderGroup as y}from\"../layers/interfaces.js\";import{debugFlags as R}from\"../support/debugFlags.js\";import{OverlayIndex as b}from\"./interfaces.js\";import{Overlay as T}from\"./Overlay.js\";import{OverlayContent as w}from\"./OverlayContent.js\";import{OverlayRenderTargets as x}from\"./OverlayRenderTargets.js\";import D from\"../webgl/RenderCamera.js\";import{ShaderOutput as v}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{OverlayMode as C}from\"../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js\";import{T as O}from\"../../../chunks/TextureOnly.glsl.js\";import{SyncRenderPlugin as S}from\"../webgl-engine/effects/RenderPlugin.js\";import{trackHighlightOptions as E,renderHighlightBuffer as P}from\"../webgl-engine/effects/highlight/Highlight.js\";import{RenderRequestType as j}from\"../webgl-engine/lib/basicInterfaces.js\";import{GLMaterialRepository as A}from\"../webgl-engine/lib/GLMaterialRepository.js\";import{GridLocalOriginFactory as M}from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import{RenderOccludedFlag as W}from\"../webgl-engine/lib/Material.js\";import{OITPass as I}from\"../webgl-engine/lib/OITPass.js\";import{RenderContext as q,defaultRenderOccludedMask as L}from\"../webgl-engine/lib/RenderContext.js\";import{RenderSlot as N}from\"../webgl-engine/lib/RenderSlot.js\";import{ShadowMap as V}from\"../webgl-engine/lib/ShadowMap.js\";import{TextureTechnique as F}from\"../webgl-engine/lib/TextureTechnique.js\";import{TextureTechniqueConfiguration as H}from\"../webgl-engine/lib/TextureTechniqueConfiguration.js\";import{Update as k}from\"../webgl-engine/lib/Update.js\";import{UpdatePolicy as G}from\"../webgl-engine/lib/UpdatePolicy.js\";import{AmbientLight as U}from\"../webgl-engine/lighting/Lightsources.js\";import{O as B}from\"../../../chunks/OverlayCompositing.glsl.js\";import{OverlayCompositingTechnique as z}from\"../webgl-engine/shaders/OverlayCompositingTechnique.js\";import{TaskPriority as Y,noBudget as X}from\"../../support/Scheduler.js\";import{FramebufferBit as K,TextureSamplingMode as J}from\"../../webgl/enums.js\";import{Texture as Q}from\"../../webgl/Texture.js\";import{TextureDescriptor as Z}from\"../../webgl/TextureDescriptor.js\";let $=class extends S{constructor(e){super(e),this._overlays=null,this._renderTargets=null,this._overlayParameters=new B,this.hasHighlights=!1,this._hasWater=!1,this._renderers=new Map,this._sortedDrapeSourceRenderersDirty=!1,this._sortedRenderers=new i,this._passParameters=new O,this._screenToWorldRatio=1,this._localOriginFactory=null,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._camera=new D,this.events=new r,this.longitudeCyclical=null,this.produces=new Map([[N.DRAPED_MATERIAL,e=>e!==v.Highlight||this.hasHighlights],[N.DRAPED_WATER,()=>this._hasWater]]),this._hasTargetWithoutRasterImage=!1,this._hasDrapedFeatureSource=!1,this._hasDrapedRasterSource=!1}initialize(){const e=this._view,r=e.stage,t=r.renderer.fboCache,{waterTextures:s,techniques:i}=r.renderView;this._renderContext=new q(this._rctx,new V(t,e.state.viewingMode),i),this.addHandles([n((()=>s.updating),(()=>this.events.emit(\"content-changed\")),a),n((()=>this.spatialReference),(e=>this._localOriginFactory=new M(e)),a),o((()=>e.allLayerViews),\"after-changes\",(()=>this._sortedDrapeSourceRenderersDirty=!0)),n((()=>E(e.state.highlights)),(()=>this._sortedDrapeSourceRenderersDirty=!0),h),n((()=>e.state.highlights),(r=>{this._bindParameters.highlights=r,this._bindParameters.highlightOrderMap=e.state.highlightOrderMap}),h),e.resourceController.scheduler.registerTask(Y.OVERLAY_RENDERER,this)]);const{_bindParameters:l,_camera:d}=this;d.near=1,d.far=1e4,d.relativeElevation=null,l.slot=N.DRAPED_MATERIAL,l.mainDepth=null,l.camera=d,l.oitPass=I.NONE,l.updateLighting([new U(_())],0,0,k.Immediate)}destroy(){this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._passParameters.texture=s(this._passParameters.texture),this.disposeOverlays()}get _bindParameters(){return this._renderContext.bind}get _rctx(){return this._stage.renderView.renderingContext}get _view(){return this.parent.view}get _stage(){return this.parent.view.stage}get spatialReference(){return this.parent.spatialReference}get _techniques(){return this._stage.renderView.techniques}get rctx(){return this._rctx}get materials(){return this._pluginContext.materials}get screenToWorldRatio(){return this._screenToWorldRatio}get localOriginFactory(){return this._localOriginFactory}get pluginContext(){return this._pluginContext}initializeRenderContext(e){const r=new A(this._view.stage.renderView.textures,this._techniques,(()=>{this.notifyChange(\"rendersOccludedDraped\"),this.events.emit(\"content-changed\"),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\")}),(()=>this.events.emit(\"content-changed\")));this._pluginContext={...e,materials:r},this._techniques.precompile(z)}uninitializeRenderContext(){}acquireTechniques(){return[]}render(){}get updating(){return this._sortedDrapeSourceRenderersDirty||t(this._renderers,(e=>e.updating||e.canCompact))}get hasOverlays(){return null!=this._overlays&&null!=this._renderTargets}getMaterialRenderer(e){for(const r of this._renderers.values()){const t=r.getMaterialRenderer(e);if(t)return t}return null}get layers(){return this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers(),this._sortedRenderers.map((e=>e.drapeSource.layer)).filter((e=>!!e))}registerDrapeSource(e,r){const t=this._renderers.get(e);null!=t&&t.destroy(),this._renderers.set(e,r),this._sortedDrapeSourceRenderersDirty=!0,\"fullOpacity\"in e&&this.addHandles(n((()=>e.fullOpacity),(()=>this.events.emit(\"content-changed\"))),e)}removeDrapeSourceRenderer(e){if(null==e)return;const r=this._renderers.get(e);null!=r&&(this._sortedDrapeSourceRenderersDirty=!0,this._renderers.delete(e),this.removeHandles(e),r.destroy())}computeValidity(){return this._renderTargets?.computeValidity()??0}releaseRenderTargets(){this._renderTargets?.dispose()}get overlays(){return this._overlays??[]}ensureDrapeTargets(e){this._hasTargetWithoutRasterImage=!!this._overlays&&l(e,(e=>e.drapeTargetType===m.WithoutRasterImage))}ensureDrapeSources(e){this._overlays?(this._hasDrapedFeatureSource=l(e,(e=>e.drapeSourceType===f.Features)),this._hasDrapedRasterSource=l(e,(e=>e.drapeSourceType===f.RasterImage))):this._hasDrapedFeatureSource=this._hasDrapedRasterSource=!1}get _needsColorWithoutRasterImage(){return this._hasDrapedRasterSource&&this._hasDrapedFeatureSource&&this._hasTargetWithoutRasterImage}ensureOverlays(e,r,t=this._bindParameters.overlayStretch){null==this._overlays&&(this._renderTargets=new x(this._stage.renderer.fboCache),this._overlays=[new T,new T]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r),this._bindParameters.overlayStretch=t}disposeOverlays(){this._overlays=null,this._renderTargets=s(this._renderTargets),this.events.emit(\"textures-disposed\")}getTexture(e){return e===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage&&this._hasDrapedFeatureSource?this._renderTargets?.getTexture(w.Color):this._renderTargets?.getTexture(e)}get running(){return this.updating}runTask(e){this._processDrapeSources(e,(()=>!0))}_processDrapeSources(e,r){let s=!1;for(const[t,i]of this._renderers){if(e.done)break;(t.destroyed||r(t))&&(i.commitChanges()&&(s=!0,e.madeProgress()))}this._sortedDrapeSourceRenderersDirty&&(this._sortedDrapeSourceRenderersDirty=!1,s=!0,this._updateSortedDrapeSourceRenderers(),e.madeProgress()),this.compact(e),s&&(null!=this._overlays&&0===this._renderers.size&&this.disposeOverlays(),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\"),this.events.emit(\"content-changed\"),this.hasHighlights=t(this._renderers,(e=>e.hasHighlights)),this.notifyChange(\"rendersOccludedDraped\"))}compact(e){let r=!1;for(const t of this._renderers.values()){if(e.done)break;r=t.compact(e)||r}return r&&this.notifyChange(\"updating\"),r}hasHighlight(e){return t(this._renderers,(r=>r.hasHighlight(e)))}processSyncDrapeSources(){this._processDrapeSources(X,(e=>e.updatePolicy===G.SYNC))}get isEmpty(){return!R.OVERLAY_DRAW_DEBUG_TEXTURE&&!t(this._renderers,(e=>!e.isEmpty))}get hasWater(){const e=t(this._renderers,(({hasWater:e})=>e));return e!==this._hasWater&&(this._hasWater=e,this.events.emit(\"has-water\")),this._hasWater}get rendersOccludedDraped(){const e=this._renderContext.renderOccludedMask;this._renderContext.renderOccludedMask=se,++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,this._renderContext.renderOccludedMask=e,r}renders(e){if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&e!==w.Occluded&&e!==w.Highlight)return!0;if(!this._overlays)return!1;const r=this._overlays[b.INNER];for(const i of this._overlays)i.setupGeometryViews(this.longitudeCyclical);if(!r.hasSomeSizedView())return!1;const t=this._renderContext.output;this._renderContext.output=this._renderTargets?.targets.find((r=>r.content===e))?.output??v.Color,++this._techniques.precompiling;const s=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,this._renderContext.output=t,s}get mode(){return this.isEmpty?C.Disabled:this.hasWater&&this.renders(w.WaterNormal)?C.EnabledWithWater:this._renderTargets?.getTexture(w.Color)?C.Enabled:C.Disabled}updateAnimation(e){let r=!1;return this._renderers.forEach((t=>r=t.updateAnimation(e)||r)),r&&this.parent.requestRender(j.BACKGROUND),r}updateDrapeSourceOrder(){this._sortedDrapeSourceRenderersDirty=!0}precompileShaders(e){if(!this._overlays||!this._renderTargets)return;const r=this._bindParameters;r.alignPixelEnabled=e.alignPixelEnabled,++this._techniques.precompiling;for(const t of this._renderTargets.targets){if(t.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const e=t.output;this._renderContext.output=e,r.slot=e===v.Normal?N.DRAPED_WATER:N.DRAPED_MATERIAL,e===v.Highlight&&(r.highlightMixTexture=r.highlights.length>1?this._rctx.emptyTexture:null),t.content===w.Occluded&&(this._renderContext.renderOccludedMask=se),this._sortedRenderers.forAll((({drapeSource:e,renderer:r})=>{t.content===w.ColorNoRasterImage&&e.drapeSourceType===f.RasterImage||r.precompile(this._renderContext)})),this._renderContext.renderOccludedMask=L,r.highlightMixTexture=null}--this._techniques.precompiling}drawOverlays(e){if(this._overlays&&this._renderTargets){for(const e of this._overlays)e.setupGeometryViews(this.longitudeCyclical);this._bindParameters.alignPixelEnabled=e.alignPixelEnabled;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=this._drawTarget(b.INNER,e),t=this._drawTarget(b.OUTER,e);(r||t)&&e.fbo.generateMipMap()}}}_drawTarget(e,r){const t=this._overlays[e],s=t.canvasGeometries;if(0===s.numViews)return!1;const i=this._view.state.contentPixelRatio;this._screenToWorldRatio=i*t.mapUnitsPerPixel/this._bindParameters.overlayStretch;const{output:n}=r;if(this.isEmpty||n===v.Normal&&!this.hasWater||!t.hasSomeSizedView())return!1;const{_rctx:o,_camera:a,_renderContext:h,_bindParameters:l}=this;if(a.pixelRatio=t.pixelRatio*i,h.output=n,l.screenToWorldRatio=this._screenToWorldRatio,l.screenToPCSRatio=this._screenToWorldRatio*this.parent.worldToPCSRatio,l.slot=n===v.Normal?N.DRAPED_WATER:N.DRAPED_MATERIAL,r.content===w.Occluded&&(h.renderOccludedMask=se),!this.renders(r.content))return h.renderOccludedMask=L,!1;const{resolution:d}=t,c=e===b.INNER,u=c?0:d;if(o.setViewport(u,0,d,d),this._bindTargetFBO(r),c)if(r.output!==v.Highlight)o.setClearColor(0,0,0,0),o.clear(K.COLOR);else{const{gl:e}=o;e.clearBufferuiv(e.COLOR,0,[0,0,0,0])}if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&r.content!==w.Occluded&&r.content!==w.Highlight){this._techniques.precompile(F,ie);const r=this._techniques.get(F,ie);for(let i=0;i<s.numViews;i++)this._setViewParameters(s.extents[i],t),this._ensureDebugPatternResources(t.resolution,re[e]),o.bindTechnique(r,l,this._passParameters),o.screen.draw()}if(r.output===v.Highlight){const{fboCache:t}=this._stage.renderer,s=this._resolution;this._bindTargetFBO(r),P(o,t,{width:s,height:s},l,(()=>this._renderAllGeometry(e,r)),u)}else this._renderAllGeometry(e,r);return o.bindFramebuffer(null),h.renderOccludedMask=L,!0}_renderAllGeometry(e,r){const t=this._overlays[e],s=t.canvasGeometries;this._sortedRenderers.forAll((({drapeSource:i,renderer:n})=>{if(r.content===w.ColorNoRasterImage&&i.drapeSourceType===f.RasterImage)return;const{fullOpacity:o}=i,a=null!=o&&o<1&&r.output===v.Color&&this._bindTemporaryFBO();for(let e=0;e<s.numViews;e++)this._setViewParameters(s.extents[e],t),n.render(this._renderContext);if(a){this._bindTargetFBO(r),this._overlayParameters.texture=a.getTexture(),this._overlayParameters.opacity=o,this._overlayParameters.overlayIndex=e;const t=this._techniques.get(z);this._rctx.bindTechnique(t,this._bindParameters,this._overlayParameters),this._rctx.screen.draw(),a.release()}}))}_bindTargetFBO(e){const r=this._resolution,t=2*r;e.fbo.bind(this._rctx,t,r)}_bindTemporaryFBO(){const e=this._resolution,r=2*e,t=this._stage.renderer.fboCache,s=t.acquire(r,e,\"overlay tmp\");return t.rctx.bindFramebuffer(s.fbo),t.rctx.clear(K.COLOR),s}get _resolution(){return this._overlays?.[b.INNER].resolution??0}notifyContentChanged(){this.events.emit(\"content-changed\")}intersect(e,r,t,s){this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers();let i=0;for(const{renderer:n}of this._sortedRenderers)i=n.intersect?.(e,r,t,s,i)??i}_updateSortedDrapeSourceRenderers(){if(this._sortedRenderers.clear(),0===this._renderers.size)return;const e=this._view.map.allLayers,r=e.length;this._renderers.forEach(((t,s)=>{const i=e.indexOf(s.layer),n=i>=0,o=s.renderGroup??(n?y.MapLayer:y.ViewLayer),a=s.drapeSourcePriorityOffset??0,h=r*o+(n?i:0)+a;this._sortedRenderers.push(new ee(s,t,h))})),this._sortedRenderers.sort(((e,r)=>e.index-r.index))}_setViewParameters(e,r){const t=this._camera;t.viewport=[0,0,r.resolution,r.resolution],u(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),p(t.viewMatrix,[-e[0],-e[1],0])}_ensureDebugPatternResources(e,r){if(g(this._passParameters.color,r[0],r[1],r[2]),this._passParameters.texture)return;const t=new Uint8Array(e*e*4);let s=0;for(let n=0;n<e;n++)for(let r=0;r<e;r++){const i=Math.floor(r/10),o=Math.floor(n/10);i<2||o<2||10*i>e-20||10*o>e-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&i&&1&o?1&r^1&n?0:255:1&i^1&o?0:128)}const i=new Z(e);i.samplingMode=J.NEAREST,this._passParameters.texture=new Q(this._rctx,i,t)}get test(){}};e([d()],$.prototype,\"hasHighlights\",void 0),e([d()],$.prototype,\"_sortedDrapeSourceRenderersDirty\",void 0),e([d({constructOnly:!0})],$.prototype,\"parent\",void 0),e([d({readOnly:!0})],$.prototype,\"_techniques\",null),e([d({type:Boolean,readOnly:!0})],$.prototype,\"updating\",null),e([d()],$.prototype,\"isEmpty\",null),e([d({readOnly:!0})],$.prototype,\"rendersOccludedDraped\",null),$=e([c(\"esri.views.3d.terrain.OverlayRenderer\")],$);class ee{constructor(e,r,t){this.drapeSource=e,this.renderer=r,this.index=t}}const re=[[1,.5,.5],[.5,.5,1]],te=-2,se=W.OccludeAndTransparent,ie=new H;ie.hasAlpha=!0;export{$ as OverlayRenderer,te as drapedZ,se as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{generateUID as t}from\"../../../../core/uid.js\";import{copy as r,multiply as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as s}from\"../../../../chunks/vec32.js\";import{N as o,c as n,a as h}from\"../../../../chunks/sphere.js\";import{maxScale as a}from\"../../support/mathUtils.js\";class g{constructor(r,i={}){this.geometry=r,this.screenToWorldRatio=1,this._transformation=e(),this._shaderTransformation=null,this._boundingSphere=null,this.id=t(),this.layerViewUid=i.layerViewUid,this.graphicUid=i.graphicUid,this.castShadow=i.castShadow??!1,i.objectShaderTransformation&&this.objectShaderTransformationChanged(i.objectShaderTransformation)}get transformation(){return this._transformation}set transformation(t){r(this._transformation,t),this._boundingSphere=null}get boundingInfo(){return this.geometry.boundingInfo}objectShaderTransformationChanged(t){null==t?this._shaderTransformation=null:(this._shaderTransformation??=e(),i(this._shaderTransformation,t,this.geometry.transformation)),this._boundingSphere=null}get boundingSphere(){return this.boundingInfo?(null==this._boundingSphere&&(this._boundingSphere??=n(),s(h(this._boundingSphere),this.boundingInfo.center,this.shaderTransformation),this._boundingSphere[3]=this.boundingInfo.radius*a(this.shaderTransformation)),this._boundingSphere):o}get material(){return this.geometry.material}get type(){return this.geometry.type}get shaderTransformation(){return this._shaderTransformation??this.transformation}get attributes(){return this.geometry.attributes}get highlight(){return this.geometry.highlights}foreachHighlightOptions(t){this.geometry.foreachHighlightOptions(t)}get hasHighlights(){return this.geometry.hasHighlights}get occludees(){return this.geometry.occludees}get visible(){return this.geometry.visible}set visible(t){this.geometry.visible=t}}class m extends g{}export{g as RenderGeometry,m as ValidatedRenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Material as i}from\"../lib/Material.js\";import{intersectTriangleGeometry as p}from\"../lib/RayIntersections.js\";class r extends i{constructor(){super(...arguments),this._pp0=t(0,0,1),this._pp1=t(0,0,0)}intersect(t,i,r,s,e,o){return p(t,r,s,e,void 0,o)}intersectDraped(t,i,r,s){return this._pp0[0]=this._pp1[0]=r[0],this._pp0[1]=this._pp1[1]=r[1],p(t,i,this._pp0,this._pp1,void 0,s)}}export{r as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{SliceDraw as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{VertexColor as i}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{terrainDepthTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{VisualVariables as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as a}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{VertexAttribute as g}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as b}from\"../views/webgl/ShaderBuilder.js\";function c(c){const m=new b,{vertex:u,fragment:w,attributes:p,varyings:f}=m,{vvColor:C,hasVertexColors:h}=c;return d(u,c),m.include(r,c),m.include(i,c),m.include(s,c),m.include(o,c),w.include(e,c),m.include(v,c),m.include(l,c),p.add(g.POSITION,\"vec3\"),C&&p.add(g.COLORFEATUREATTRIBUTE,\"float\"),h||f.add(\"vColor\",\"vec4\"),f.add(\"vpos\",\"vec3\",{invariant:!0}),u.uniforms.add(new n(\"uColor\",(e=>e.color))),u.main.add(a`\n      vpos = position;\n      forwardNormalizedVertexColor();\n      forwardObjectAndLayerIdColor();\n\n      ${h?\"vColor *= uColor;\":C?\"vColor = uColor * interpolateVVColor(colorFeatureAttribute);\":\"vColor = uColor;\"}\n      forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n      gl_Position = transformPosition(proj, view, vpos);`),w.include(t),w.main.add(a`discardBySlice(vpos);\ndiscardByTerrainDepth();\noutputColorHighlightOID(vColor, vpos, vColor.rgb);`),m}const m=Object.freeze(Object.defineProperty({__proto__:null,build:c},Symbol.toStringTag,{value:\"Module\"}));export{m as C,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrColorEmission as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i,depthOnlyOutputBuffersOr as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as l}from\"../lib/OITPass.js\";import{oitPolygonOffset as o,depthWrite as n,oitDepthTest as a,blending as c,getDrawBuffers as p}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as m,stencilWriteMaskOn as d}from\"../lib/StencilUtils.js\";import{VisualVariablePassParameters as f}from\"../materials/VisualVariablePassParameters.js\";import{C as h}from\"../../../../chunks/ColorMaterial.glsl.js\";import{makePipelineState as P,defaultColorWrite as j,cullingParams as g}from\"../../../webgl/renderState.js\";class b extends f{constructor(){super(...arguments),this.color=e}}class O extends i{constructor(e,r){super(e,r,new t(h,(()=>import(\"./ColorMaterial.glsl.js\"))))}_createPipeline(e,t){const{oitPass:i,output:f,transparent:h,cullFace:b,draped:O,hasOccludees:T,polygonOffset:_}=e,x=i===l.NONE;return P({blending:r(f)&&h?c(i):null,culling:g(b),depthTest:O?null:{func:a(i)},depthWrite:n(e),drawBuffers:s(f,p(i,f)),colorWrite:j,stencilWrite:T?d:null,stencilTest:T?t?u:m:null,polygonOffset:x?_?S:null:o(e)})}initializePipeline(e){return this._occludeePipelineState=this._createPipeline(e,!0),this._createPipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const S={factor:1,units:1};export{b as ColorMaterialPassParameters,O as ColorMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as e}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends i{constructor(){super(...arguments),this.cullFace=s.None,this.hasVertexColors=!1,this.transparent=!1,this.discardInvisibleFragments=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=e.None,this.emissionSource=o.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.vvSize=!1,this.vvOpacity=!1,this.snowCover=!1}}t([r({count:s.COUNT})],a.prototype,\"cullFace\",void 0),t([r()],a.prototype,\"hasVertexColors\",void 0),t([r()],a.prototype,\"transparent\",void 0),t([r()],a.prototype,\"discardInvisibleFragments\",void 0),t([r()],a.prototype,\"polygonOffset\",void 0),t([r()],a.prototype,\"enableOffset\",void 0),t([r()],a.prototype,\"writeDepth\",void 0),t([r()],a.prototype,\"hasOccludees\",void 0),t([r()],a.prototype,\"terrainDepthTest\",void 0),t([r()],a.prototype,\"cullAboveTerrain\",void 0),t([r()],a.prototype,\"objectAndLayerIdColorInstanced\",void 0),t([r()],a.prototype,\"vvColor\",void 0),t([r()],a.prototype,\"draped\",void 0);export{a as ColorMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ZEROS as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as r}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmissionOrOID as e,isDepth as s,is2DGeometryOutput as i,isColorOrColorEmission as a,ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as n}from\"../effects/geometry/olidUtils.js\";import{CullFaceOptions as h}from\"../lib/basicInterfaces.js\";import p from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as l}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as f}from\"./DefaultBufferWriter.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as _}from\"./VisualVariablePassParameters.js\";import{ColorMaterialTechnique as g}from\"../shaders/ColorMaterialTechnique.js\";import{ColorMaterialTechniqueConfiguration as O}from\"../shaders/ColorMaterialTechniqueConfiguration.js\";import{alphaCutoff as T}from\"../../../../webscene/support/AlphaCutoff.js\";class A extends m{constructor(t){super(t,P),this._configuration=new O,this.supportsEdges=!0,this.produces=new Map([[u.OPAQUE_MATERIAL,t=>this._isOpaqueMaterialPass(t)],[u.OPAQUE_MATERIAL_WITHOUT_NORMALS,t=>this._isOpaqueNoSSAODepthPass(t)],[u.TRANSPARENT_MATERIAL,t=>e(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,t=>s(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,t=>e(t)&&this._transparent&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,t=>i(t)]])}getConfiguration(t,r){return super.getConfiguration(t,r,this._configuration),this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._transparent,this._configuration.discardInvisibleFragments=this._transparent&&!this._isOpaquePass(t)&&this.parameters.discardInvisibleFragments,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=r.hasOccludees,this._configuration.oitPass=r.oitPass,this._configuration.enableOffset=r.camera.relativeElevation<l,this._configuration.terrainDepthTest=r.terrainDepthTest&&a(t),this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}get visible(){return this.parameters.color[3]>=T}get _transparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}_isOpaquePass(t){return this._isOpaqueMaterialPass(t)||this._isOpaqueNoSSAODepthPass(t)}_isOpaqueMaterialPass(t){return t===o.Highlight||e(t)&&!this._transparent}_isOpaqueNoSSAODepthPass(t){return s(t)&&this.parameters.writeDepth&&!this._transparent}createGLMaterial(t){return new d(t)}createBufferWriter(){const t=r().vec3f(c.POSITION);return n()&&t.vec4u8(c.OLIDCOLOR),this.parameters.vvColor?t.f32(c.COLORFEATUREATTRIBUTE):t.vec4u8(c.COLOR),new f(t)}}class d extends p{beginSlot(t){return this.getTechnique(g,t)}}class P extends _{constructor(){super(...arguments),this.color=t,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=h.None,this.draped=!1,this.discardInvisibleFragments=!1}}export{A as ColorMaterial,P as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.EnableFastUpdates=0]=\"EnableFastUpdates\",a[a.DisableFastUpdates=1]=\"DisableFastUpdates\",a[a.UpdateFastLocalOrigin=2]=\"UpdateFastLocalOrigin\"}(a||(a={}));export{a as MeshTransformUpdateAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{set as t,dist as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ONES as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getReferenceEllipsoid as n}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as i}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as a}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as l}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as u}from\"../../../../geometry/support/Indices.js\";import{ViewingMode as s}from\"../../../ViewingMode.js\";import{Attribute as c}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as p}from\"../../webgl-engine/lib/VertexAttribute.js\";import{GeometryType as f}from\"../../webgl-engine/lib/IntersectableGeometry.js\";function b(t,e,r=null){const o=[],n=e.mapPositions;g(e,o);const i=o[0][1].data,a=o[0][1].indices.length,l=u(a);return h(e,o,l),w(e,o,l),D(e,o,l),T(e,o,l),y(e,o,l),E(e,o,l),j(e,o,i),new m(t,o,n,f.Line,r)}function g(t,e){const{attributeData:{position:r},removeDuplicateStartEnd:o}=t,n=A(r)&&o,i=r.length/3-(n?1:0),a=new Array(2*(i-1)),l=n?r.slice(0,-3):r;let u=0;for(let s=0;s<i-1;s++)a[u++]=s,a[u++]=s+1;e.push([p.POSITION,new c(l,a,3,n)])}function h(t,e,r){if(null!=t.attributeData.colorFeature)return;const n=t.attributeData.color;e.push([p.COLOR,new c(n??o,r,4)])}function D(t,e,r){t.attributeData.normal&&e.push([p.NORMAL,new c(t.attributeData.normal,r,3)])}function T(t,e,r){null!=t.attributeData.colorFeature&&e.push([p.COLORFEATUREATTRIBUTE,new c([t.attributeData.colorFeature],r,1,!0)])}function w(t,e,r){null==t.attributeData.sizeFeature&&e.push([p.SIZE,new c([t.attributeData.size??1],r,1,!0)])}function y(t,e,r){null!=t.attributeData.sizeFeature&&e.push([p.SIZEFEATUREATTRIBUTE,new c([t.attributeData.sizeFeature],r,1,!0)])}function E(t,e,r){null!=t.attributeData.opacityFeature&&e.push([p.OPACITYFEATUREATTRIBUTE,new c([t.attributeData.opacityFeature],r,1,!0)])}function j(r,o,u){if(null==r.overlayInfo||r.overlayInfo.renderCoordsHelper.viewingMode!==s.Global||!r.overlayInfo.spatialReference.isGeographic)return;const m=a(u.length),f=n(r.overlayInfo.spatialReference);for(let t=0;t<m.length;t+=3)i(u,t,m,t,f);const b=u.length/3,g=l(b+1);let h=I,D=F,T=0,w=0;t(h,m[w++],m[w++]),w++,g[0]=0;for(let n=1;n<b+1;++n)n===b&&(w=0),t(D,m[w++],m[w++]),w++,T+=e(h,D),g[n]=T,[h,D]=[D,h];o.push([p.DISTANCETOSTART,new c(g,o[0][1].indices,1,!0)])}function A(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}const I=r(),F=r();function R(t,e){if(null==t||0===t.length)return[];const r=[];return t.forEach((t=>{const o=t.length,n=a(3*o);t.forEach(((t,e)=>{n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]}));const i={attributeData:{position:n,normal:e},removeDuplicateStartEnd:!1};r.push(i)})),r}export{b as createGeometry,R as lineStripsToParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{projectBuffer as o}from\"../../../../geometry/projection/projectBuffer.js\";import{newDoubleArray as e,doubleSubArray as t}from\"../../../../geometry/support/DoubleArray.js\";import{CounterClockwiseMode as n,ringsToTriangulationInfo as r}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as i}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{drapedZ as s}from\"../../terrain/OverlayRenderer.js\";function p(o,t,s,p){const l=\"polygon\"===o.type?n.CCW_IS_HOLE:n.NONE,a=\"polygon\"===o.type?o.rings:o.paths,{position:u,outlines:f}=r(a,!!o.hasZ,l,o.spatialReference),m=e(u.length),g=i(u,o.spatialReference,0,m,0,u,0,u.length/3,t,s,p),y=null!=g;return{lines:y?c(f,u,m):[],projectionSuccess:y,sampledElevation:g}}function l(e,t){const i=\"polygon\"===e.type?n.CCW_IS_HOLE:n.NONE,p=\"polygon\"===e.type?e.rings:e.paths,{position:l,outlines:a}=r(p,!1,i),u=o(l,e.spatialReference,0,l,t,0);for(let o=2;o<l.length;o+=3)l[o]=s;return{lines:u?c(a,l):[],projectionSuccess:u}}function c(o,e,n=null){const r=new Array;for(const{index:i,count:s}of o){if(s<=1)continue;const o=3*i,p=3*s;r.push({position:t(e,3*i,3*s),mapPositions:null!=n?t(n,o,p):void 0})}return r}export{p as geometryToRenderInfo,l as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const I=e().vec3f(O.POSITION),c=e().vec3f(O.POSITION).vec2f16(O.UV0),f=e().vec3f(O.POSITION).vec4u8(O.COLOR),v=e().vec3f(O.POSITION).vec2f16(O.UV0).vec4u8(O.OLIDCOLOR),t=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OLIDCOLOR);export{f as PositionColorLayout,I as PositionLayout,c as PositionUvLayout,v as PositionUvOlidLayout,t as PositionUvf32Layout,r as PositionUvf32OlidLayout};\n"],"names":["E","I","e","A","O","n$7","i","r","s","t","r$4","o","t$6","h","l","i$3","a","n","d","c","p","x","m","_","H","P","w","D","S","f","v","C","g","O$1","u","F","o$5","s$6","a$7","u$1","o$4","c$6","e$2","o$2","l$5","l$4","e$1","l$3","y","U","j","q","T","b","R","L","B","A$3","G","M","t$3","a$4","o$1","c$3","a$2","P$1","Q","A$2","I$2","has","W","tt","Mt","st","et","z","V","k","$","wt","N","Ct","J","K","X","Y","Z","it","at","rt","ht","ot","nt","ct","lt","dt","ut","mt","_t","ft","gt","pt","xt","bt","t$2","r$2","s$1","se","ie","re","ee","te","g$1","r$1","a$1","A$1","d$1"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58]}