{"version":3,"file":"utils-BO8hgPs3.js","sources":["../../node_modules/@arcgis/core/rest/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport t from\"../config.js\";import{id as n}from\"../kernel.js\";import{clone as r}from\"../core/lang.js\";import{urlToObject as e}from\"../core/urlUtils.js\";import{supportsApiKey as i,getApiKey as o}from\"../support/apiKeyUtils.js\";function s(t,n){return n?{...n,query:{...t??{},...n.query}}:{query:t}}function f(t){return\"string\"==typeof t?e(t):r(t)}function u(t,n,r){const e={};for(const i in t){if(\"declaredClass\"===i)continue;const o=t[i];if(null!=o&&\"function\"!=typeof o)if(Array.isArray(o))e[i]=o.map((t=>u(t)));else if(\"object\"==typeof o)if(o.toJSON){const t=o.toJSON(r?.[i]);e[i]=n?t:JSON.stringify(t)}else e[i]=n?o:JSON.stringify(o);else e[i]=o}return e}function c(t,r){return t?r&&i(t)?r:o(t)??n?.findCredential(t)?.token:null}async function a(r,e,i){const o=c(r,e);if(o)return o;!n&&t.request.useIdentity&&await import(\"../identity/IdentityManager.js\");const s=await n.getCredential(r,i);return s?.token}export{s as asValidOptions,u as encode,c as findToken,a as getToken,f as parseUrl};\n"],"names":["s","t","n","f","e","r","u","o","c","i","a"],"mappings":";AAIkO,SAASA,EAAEC,GAAEC,GAAE;AAAC,SAAOA,IAAE,EAAC,GAAGA,GAAE,OAAM,EAAC,GAAGD,KAAG,CAAA,GAAG,GAAGC,EAAE,MAAK,EAAC,IAAE,EAAC,OAAMD,EAAC;AAAC;AAAC,SAASE,EAAEF,GAAE;AAAC,SAAgB,OAAOA,KAAjB,WAAmBG,EAAEH,CAAC,IAAEI,EAAEJ,CAAC;AAAC;AAAC,SAASK,EAAEL,GAAEC,GAAEG,GAAE;AAAC,QAAMD,IAAE,CAAA;AAAG,aAAU,KAAKH,GAAE;AAAC,QAAqB,MAAlB,gBAAoB;AAAS,UAAMM,IAAEN,EAAE,CAAC;AAAE,QAASM,KAAN,QAAqB,OAAOA,KAAnB,WAAqB,KAAG,MAAM,QAAQA,CAAC,EAAE,CAAAH,EAAE,CAAC,IAAEG,EAAE,IAAK,CAAAN,MAAGK,EAAEL,CAAC,CAAC;AAAA,aAAqB,OAAOM,KAAjB,SAAmB,KAAGA,EAAE,QAAO;AAAC,YAAMN,IAAEM,EAAE,OAAOF,IAAI,CAAC,CAAC;AAAE,MAAAD,EAAE,CAAC,IAAEF,IAAED,IAAE,KAAK,UAAUA,CAAC;AAAA,IAAC,MAAM,CAAAG,EAAE,CAAC,IAAEF,IAAEK,IAAE,KAAK,UAAUA,CAAC;AAAA,QAAO,CAAAH,EAAE,CAAC,IAAEG;AAAA,EAAC;AAAC,SAAOH;AAAC;AAAC,SAASI,EAAEP,GAAEI,GAAE;AAAC,SAAOJ,IAAEI,KAAGI,EAAER,CAAC,IAAEI,IAAEE,EAAEN,CAAC,KAAGC,GAAG,eAAeD,CAAC,GAAG,QAAM;AAAI;AAAC,eAAeS,EAAEL,GAAE,GAAEI,GAAE;AAAC,QAAMF,IAAEC,EAAEH,GAAE,CAAC;AAAE,SAAGE,MAAW,CAACL,KAAGD,EAAE,QAAQ,eAAa,MAAM,OAAO,+BAAgC,IAAU,MAAMC,EAAE,cAAcG,GAAEI,CAAC,IAAY;AAAK;","x_google_ignoreList":[0]}