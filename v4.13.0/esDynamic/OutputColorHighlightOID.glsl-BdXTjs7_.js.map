{"version":3,"file":"OutputColorHighlightOID.glsl-BdXTjs7_.js","sources":["../../node_modules/@arcgis/core/geometry/support/FloatArray.js","../../node_modules/@arcgis/core/views/webgl/Uniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DoublePrecision.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix3DrawUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix3PassUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js","../../node_modules/@arcgis/core/views/3d/support/debugFlags.js","../../node_modules/@arcgis/core/libs/basisu/BasisUTranscoder.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BasisUtil.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DDSUtil.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/textureUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/AttributeArray.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BoundingInfo.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/geometryDataUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectableGeometry.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateID.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/TextureAtlasLookup.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexTextureCoordinates.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatDrawUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js","../../node_modules/@arcgis/core/views/webgl/NoParameters.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/Emissions.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfigurationKey.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoubleConfiguration.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/screenSizePerspectiveUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RayIntersections.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/verticalOffsetUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexPosition.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3BindUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js","../../node_modules/@arcgis/core/views/webgl/doublePrecisionUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Integer2BindUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerBindUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DBindUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DUintBindUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4sPassUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js","../../node_modules/@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js","../../node_modules/@arcgis/core/webscene/support/AlphaCutoff.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js","../../node_modules/@arcgis/core/views/3d/webgl.js","../../node_modules/@arcgis/core/views/3d/webgl/RenderNode.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/FBOCacheFormats.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/BooleanBindUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LongVectorMath.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{nativeArrayMaxSize as r}from\"../../core/typedArrayUtil.js\";function n(n,t=!1){return n<=r?t?new Array(n).fill(0):new Array(n):new Float32Array(n)}function t(n){return Array.isArray(n)?n.length<r?n:new Float32Array(n):n.length<r?Array.from(n):n}function a(n){return(Array.isArray(n)?n.length:n.byteLength/8)<=r?Array.from(n):new Float32Array(n)}function e(r,n,t){return Array.isArray(r)?r.slice(n,n+t):r.subarray(n,n+t)}export{t as compactFloatArray,a as floatArrayFrom,e as floatSubArray,n as newFloatArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{BindType as s}from\"./BindType.js\";class i{constructor(i,a,e,r,t=null){if(this.name=i,this.type=a,this.arraySize=t,this.bind={[s.Bind]:null,[s.Pass]:null,[s.Draw]:null},r)switch(e){case void 0:break;case s.Bind:this.bind[s.Bind]=r;break;case s.Pass:this.bind[s.Pass]=r;break;case s.Draw:this.bind[s.Draw]=r}}equals(s){return this.type===s.type&&this.name===s.name&&this.arraySize===s.arraySize}}export{i as Uniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"sampler2D\",r.Draw,((r,s,t)=>r.bindTexture(e,o(s,t))))}}export{o as Texture2DDrawUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";function e(){return!!has(\"enable-feature:objectAndLayerId-rendering\")}export{e as olidEnabled};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as o}from\"../../../../webgl/BindType.js\";import{Uniform as r}from\"../../../../webgl/Uniform.js\";class e extends r{constructor(r,e){super(r,\"float\",o.Bind,((o,s)=>o.setUniform1f(r,e(s))))}}export{e as FloatBindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{FloatBindUniform as o}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as d}from\"../../shaderModules/glsl.js\";function e({code:e,uniforms:i},l){i.add(new o(\"dpDummy\",(()=>1))),e.add(d`vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\nvec3 hiD = hiA + hiB;\nvec3 loD = loA + loB;\nreturn  dpDummy * hiD + loD;\n}`)}export{e as DoublePrecision};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"vec3\",r.Draw,((r,s,t,m)=>r.setUniform3fv(e,o(s,t,m))))}}export{o as Float3DrawUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class e extends s{constructor(s,e){super(s,\"vec3\",r.Pass,((r,o,t)=>r.setUniform3fv(s,e(o,t))))}}export{e as Float3PassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as o}from\"../../../../webgl/Uniform.js\";class t extends o{constructor(o,t){super(o,\"mat3\",r.Draw,((r,e,s)=>r.setUniformMatrix3fv(o,t(e,s))))}}export{t as Matrix3DrawUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class o extends s{constructor(s,o){super(s,\"mat3\",r.Pass,((r,t,e)=>r.setUniformMatrix3fv(s,o(t,e))))}}export{o as Matrix3PassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as o}from\"../../../../webgl/Uniform.js\";class t extends o{constructor(o,t){super(o,\"mat4\",r.Bind,((r,e)=>r.setUniformMatrix4fv(o,t(e))))}}export{t as Matrix4BindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as E}from\"../../../chunks/tslib.es6.js\";import _ from\"../../../core/Accessor.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as S}from\"../../../core/accessorSupport/decorators/subclass.js\";let T=class extends _{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.TEXT_SHOW_BASELINE=!1,this.TEXT_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_OPTIMIZATIONS=!1,this.TESTS_DISABLE_FAST_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1,this.LINE_WIREFRAMES=!1}};E([o()],T.prototype,\"SCENEVIEW_HITTEST_RETURN_INTERSECTOR\",void 0),E([o()],T.prototype,\"DECONFLICTOR_SHOW_VISIBLE\",void 0),E([o()],T.prototype,\"DECONFLICTOR_SHOW_INVISIBLE\",void 0),E([o()],T.prototype,\"DECONFLICTOR_SHOW_GRID\",void 0),E([o()],T.prototype,\"LABELS_SHOW_BORDER\",void 0),E([o()],T.prototype,\"TEXT_SHOW_BASELINE\",void 0),E([o()],T.prototype,\"TEXT_SHOW_BORDER\",void 0),E([o()],T.prototype,\"OVERLAY_DRAW_DEBUG_TEXTURE\",void 0),E([o()],T.prototype,\"OVERLAY_SHOW_CENTER\",void 0),E([o()],T.prototype,\"SHOW_POI\",void 0),E([o()],T.prototype,\"TESTS_DISABLE_OPTIMIZATIONS\",void 0),E([o()],T.prototype,\"TESTS_DISABLE_FAST_UPDATES\",void 0),E([o()],T.prototype,\"DRAW_MESH_GEOMETRY_NORMALS\",void 0),E([o()],T.prototype,\"FEATURE_TILE_FETCH_SHOW_TILES\",void 0),E([o()],T.prototype,\"FEATURE_TILE_TREE_SHOW_TILES\",void 0),E([o()],T.prototype,\"TERRAIN_TILE_TREE_SHOW_TILES\",void 0),E([o()],T.prototype,\"I3S_TREE_SHOW_TILES\",void 0),E([o()],T.prototype,\"I3S_SHOW_MODIFICATIONS\",void 0),E([o()],T.prototype,\"LOD_INSTANCE_RENDERER_DISABLE_UPDATES\",void 0),E([o()],T.prototype,\"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL\",void 0),E([o()],T.prototype,\"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES\",void 0),E([o()],T.prototype,\"LINE_WIREFRAMES\",void 0),T=E([S(\"esri.views.3d.support.debugFlags\")],T);const t=new T;export{t as debugFlags};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as s}from\"../../assets.js\";function i(){return t??=(async()=>{const i=await import(\"../../chunks/basis_transcoder.js\"),t=await i.default({locateFile:i=>s(`esri/libs/basisu/${i}`)});return t.initializeBasis(),t})(),t}let t;export{i as getBasisTranscoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getBasisTranscoder as e}from\"../../../../libs/basisu/BasisUTranscoder.js\";import{TextureFormat as t}from\"../../../../libs/basisu/TextureFormat.js\";import{CompressedTextureFormat as n,PixelFormat as s,TextureSamplingMode as r}from\"../../../webgl/enums.js\";import{Texture as i}from\"../../../webgl/Texture.js\";import{getBytesPerElementFormat as a}from\"../../../webgl/Util.js\";let l=null,o=null;async function g(){return null==o&&(o=e(),l=await o),o}function u(e,t){if(null==l)return e.byteLength;const n=new l.BasisFile(new Uint8Array(e)),s=T(n)?m(n.getNumLevels(0),n.getHasAlpha(),n.getImageWidth(0,0),n.getImageHeight(0,0),t):0;return n.close(),n.delete(),s}function c(e,t){if(null==l)return e.byteLength;const n=new l.KTX2File(new Uint8Array(e)),s=E(n)?m(n.getLevels(),n.getHasAlpha(),n.getWidth(),n.getHeight(),t):0;return n.close(),n.delete(),s}function m(e,t,s,r,i){const l=a(t?n.COMPRESSED_RGBA8_ETC2_EAC:n.COMPRESSED_RGB8_ETC2),o=i&&e>1?(4**e-1)/(3*4**(e-1)):1;return Math.ceil(s*r*l*o)}function T(e){return e.getNumImages()>=1&&!e.isUASTC()}function E(e){return e.getFaces()>=1&&e.isETC1S()}async function h(e,t,n){null==l&&(l=await g());const s=new l.BasisFile(new Uint8Array(n));if(!T(s))return null;s.startTranscoding();const r=p(e,t,s.getNumLevels(0),s.getHasAlpha(),s.getImageWidth(0,0),s.getImageHeight(0,0),((e,t)=>s.getImageTranscodedSizeInBytes(0,e,t)),((e,t,n)=>s.transcodeImage(n,0,e,t,0,0)));return s.close(),s.delete(),r}async function _(e,t,n){null==l&&(l=await g());const s=new l.KTX2File(new Uint8Array(n));if(!E(s))return null;s.startTranscoding();const r=p(e,t,s.getLevels(),s.getHasAlpha(),s.getWidth(),s.getHeight(),((e,t)=>s.getImageTranscodedSizeInBytes(e,0,0,t)),((e,t,n)=>s.transcodeImage(n,e,0,0,t,0,-1,-1)));return s.close(),s.delete(),r}function p(e,a,l,o,g,u,c,m){const{compressedTextureETC:T,compressedTextureS3TC:E}=e.capabilities,[h,_]=T?o?[t.ETC2_RGBA,n.COMPRESSED_RGBA8_ETC2_EAC]:[t.ETC1_RGB,n.COMPRESSED_RGB8_ETC2]:E?o?[t.BC3_RGBA,n.COMPRESSED_RGBA_S3TC_DXT5_EXT]:[t.BC1_RGB,n.COMPRESSED_RGB_S3TC_DXT1_EXT]:[t.RGBA32,s.RGBA],p=a.hasMipmap?l:Math.min(1,l),A=[];for(let t=0;t<p;t++)A.push(new Uint8Array(c(t,h))),m(t,h,A[t]);return a.internalFormat=_,a.hasMipmap=A.length>1,a.samplingMode=a.hasMipmap?r.LINEAR_MIPMAP_LINEAR:r.LINEAR,a.width=g,a.height=u,new i(e,a,{type:\"compressed\",levels:A})}export{E as checkKTX2,h as createTextureBasis,_ as createTextureKTX2,u as estimateMemoryBasis,c as estimateMemoryKTX2,g as loadBasisTranscoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{TextureSamplingMode as t,CompressedTextureFormat as r}from\"../../../webgl/enums.js\";import{Texture as n}from\"../../../webgl/Texture.js\";const o=()=>e.getLogger(\"esri.views.3d.webgl-engine.lib.DDSUtil\"),a=542327876,i=131072,s=4;function l(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function u(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}const c=l(\"DXT1\"),h=l(\"DXT3\"),m=l(\"DXT5\"),f=31,d=0,p=1,g=2,D=3,C=4,w=7,T=20,_=21;function E(e,r,o){const a=S(o,r.hasMipmap??!1);if(null==a)throw new Error(\"DDS texture data is null\");const{textureData:i,internalFormat:s,width:l,height:u}=a;return r.samplingMode=i.levels.length>1?t.LINEAR_MIPMAP_LINEAR:t.LINEAR,r.hasMipmap=i.levels.length>1,r.internalFormat=s,r.width=l,r.height=u,new n(e,r,i)}function S(e,t){const n=new Int32Array(e.buffer,e.byteOffset,f);if(n[d]!==a)return o().error(\"Invalid magic number in DDS header\"),null;if(!(n[T]&s))return o().error(\"Unsupported format, must contain a FourCC code\"),null;const l=n[_];let E,S;switch(l){case c:E=8,S=r.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case h:E=16,S=r.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case m:E=16,S=r.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return o().error(\"Unsupported FourCC code:\",u(l)),null}let b=1,A=n[C],M=n[D];(3&A||3&M)&&(o().warn(\"Rounding up compressed texture size to nearest multiple of 4.\"),A=A+3&-4,M=M+3&-4);const x=A,R=M;let X,I;n[g]&i&&!1!==t&&(b=Math.max(1,n[w]));let v=e.byteOffset+n[p]+4;const y=[];for(let r=0;r<b;++r)I=(A+3>>2)*(M+3>>2)*E,X=new Uint8Array(e.buffer,v,I),y.push(X),v+=I,A=Math.max(1,A>>1),M=Math.max(1,M>>1);return{textureData:{type:\"compressed\",levels:y},internalFormat:S,width:x,height:R}}export{E as createDDSTexture,S as createDDSTextureData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Error.js\";const e=16;function n(t,n){return n=Math.floor(n/e)*e,Math.min(Math.round(t/e)*e,n)}function r(t,n){return n=Math.floor(n/e)*e,Math.min(Math.ceil(t/e)*e,n)}function o(t,e){const[n,r]=a(t,e);return t.width===n&&t.height===r?t:i(t,n,r)}function a({width:t,height:e},{maxPreferredTexturePixels:r,maxTextureSize:o}){const a=Math.max(t,e),i=t*e;if(a<=o&&i<=r)return[t,e];const h=Math.min(Math.sqrt(r/i),o/a);return[n(Math.round(t*h),o),n(Math.round(e*h),o)]}function i(t,e,n){if(t instanceof ImageData)return i(h(t),e,n);const r=document.createElement(\"canvas\");r.width=e,r.height=n;return r.getContext(\"2d\").drawImage(t,0,0,r.width,r.height),r}function h(e){const n=document.createElement(\"canvas\");n.width=e.width,n.height=e.height;const r=n.getContext(\"2d\");if(null==r)throw new t(\"texture:context-failed\",\"Failed to create 2d context from HTMLCanvasElement\");return r.putImageData(e,0,0),n}export{n as applyTextureResizeModulo,r as applyTextureResizeModuloCeil,o as ensureImageMaxSize,a as ensureTextureSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Error.js\";import t from\"../../../../core/Evented.js\";import{disposeMaybe as r,removeMaybe as s}from\"../../../../core/maybe.js\";import{throwIfAborted as i,onAbort as a,createAbortError as o}from\"../../../../core/promiseUtils.js\";import{isUint8Array as n,isArrayBuffer as l}from\"../../../../core/typedArrayUtil.js\";import{generateUID as m}from\"../../../../core/uid.js\";import{isBlobProtocol as h,isDataProtocol as p}from\"../../../../core/urlUtils.js\";import{whenVideoPlayable as d}from\"../../../../layers/support/videoUtils.js\";import{requestImage as _}from\"../../../../support/requestImageUtils.js\";import{loadImageAsync as u}from\"../../../../support/requestUtils.js\";import{TextureEncodingMimeType as c}from\"./basicInterfaces.js\";import{createTextureKTX2 as g,createTextureBasis as T,estimateMemoryKTX2 as E,estimateMemoryBasis as x}from\"./BasisUtil.js\";import{createDDSTexture as f}from\"./DDSUtil.js\";import{ensureImageMaxSize as y}from\"./textureUtils.js\";import{assert as A}from\"./Util.js\";import{TextureWrapMode as D,TextureSamplingMode as F,PixelFormat as I}from\"../../../webgl/enums.js\";import{Texture as M}from\"../../../webgl/Texture.js\";import{TextureDescriptor as w}from\"../../../webgl/TextureDescriptor.js\";class L{constructor(e,r){this._data=e,this.id=m(),this.events=new t,this._parameters={...N,...r},this._startPreload(e)}dispose(){this.unload(),this._data=this.update=void 0}_startPreload(e){e instanceof HTMLVideoElement?(this.update=t=>this._update(e,t),this._startPreloadVideoElement(e)):e instanceof HTMLImageElement&&this._startPreloadImageElement(e)}_startPreloadVideoElement(e){if(!(h(e.src)||\"auto\"===e.preload&&e.crossOrigin)&&(e.preload=\"auto\",e.crossOrigin=\"anonymous\",e.src=e.src,e.paused&&e.autoplay)){const t=[];d(e,(e=>t.push(e))).then((()=>{e.play()})).finally((()=>t.forEach((e=>e.remove()))))}}_startPreloadImageElement(e){p(e.src)||h(e.src)||e.crossOrigin||(e.crossOrigin=\"anonymous\",e.src=e.src)}_createDescriptor(e){const t=new w;return t.wrapMode=this._parameters.wrap??D.REPEAT,t.flipped=!this._parameters.noUnpackFlip,t.samplingMode=this._parameters.mipmap?F.LINEAR_MIPMAP_LINEAR:F.LINEAR,t.hasMipmap=!!this._parameters.mipmap,t.preMultiplyAlpha=!!this._parameters.preMultiplyAlpha,t.maxAnisotropy=this._parameters.maxAnisotropy??(this._parameters.mipmap?e.parameters.maxMaxAnisotropy:1),t}get glTexture(){return this._glTexture??this._emptyTexture}get loaded(){return null!=this._glTexture}get usedMemory(){return this._glTexture?.usedMemory||C(this._data,this._parameters)}load(e){if(this._loadingPromise)return this._loadingPromise;if(this._glTexture)return this._glTexture;const t=this._data;return null==t?(this._glTexture=new M(e,this._createDescriptor(e),null),this._glTexture):(this._emptyTexture=e.emptyTexture,this._parameters.reloadable||(this._data=void 0),\"string\"==typeof t?this._loadFromURL(e,t):t instanceof Image?this._loadFromImageElement(e,t):t instanceof HTMLVideoElement?this._loadFromVideoElement(e,t):t instanceof ImageData||t instanceof HTMLCanvasElement?this._loadFromImage(e,t):n(t)&&this._parameters.encoding===c.DDS_ENCODING?this._loadFromDDSData(e,t):l(t)&&this._parameters.encoding===c.DDS_ENCODING?this._loadFromDDSData(e,new Uint8Array(t)):(l(t)||n(t))&&this._parameters.encoding===c.KTX2_ENCODING?this._loadFromKTX2(e,t):(l(t)||n(t))&&this._parameters.encoding===c.BASIS_ENCODING?this._loadFromBasis(e,t):n(t)?this._loadFromPixelData(e,t):l(t)?this._loadFromPixelData(e,new Uint8Array(t)):null)}_update(e,t){return null==this._glTexture||e.readyState<HTMLMediaElement.HAVE_CURRENT_DATA||t===e.currentTime?t:(this._glTexture.setData(e),this._glTexture.descriptor.hasMipmap&&this._glTexture.generateMipmap(),this._parameters.updateCallback&&this._parameters.updateCallback(),e.currentTime)}_loadFromDDSData(e,t){return this._glTexture=f(e,this._createDescriptor(e),t),this._emptyTexture=null,this._glTexture}_loadFromKTX2(e,t){return this._loadAsync((()=>g(e,this._createDescriptor(e),t).then((e=>(this._glTexture=e,e)))))}_loadFromBasis(e,t){return this._loadAsync((()=>T(e,this._createDescriptor(e),t).then((e=>(this._glTexture=e,e)))))}_loadFromPixelData(e,t){A(this._parameters.width>0&&this._parameters.height>0);const r=this._createDescriptor(e);return r.pixelFormat=1===this._parameters.components?I.LUMINANCE:3===this._parameters.components?I.RGB:I.RGBA,r.pixelFormat!==I.RGB&&r.pixelFormat!==I.RGBA||(r.compress=this._parameters.compressionOptions),r.width=this._parameters.width??0,r.height=this._parameters.height??0,this._glTexture=new M(e,r,t),this._glTexture}_loadFromURL(e,t){return this._loadAsync((async r=>{const s=await _(t,{signal:r});return i(r),this._loadFromImage(e,s)}))}_loadFromImageElement(e,t){return t.complete?this._loadFromImage(e,t):this._loadAsync((async r=>{const s=await u(t,t.src,!1,r);return i(r),this._loadFromImage(e,s)}))}_loadFromVideoElement(e,t){return t.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?this._loadFromImage(e,t):this._loadFromVideoElementAsync(e,t)}_loadFromVideoElementAsync(t,r){return this._loadAsync((i=>new Promise(((n,l)=>{const m=()=>{r.removeEventListener(\"loadeddata\",h),r.removeEventListener(\"error\",p),s(d)},h=()=>{r.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA&&(m(),n(this._loadFromImage(t,r)))},p=t=>{m(),l(t||new e(\"texture:load-error\",\"Failed to load video\"))};r.addEventListener(\"loadeddata\",h),r.addEventListener(\"error\",p);const d=a(i,(()=>p(o())))}))))}_loadFromImage(e,t){let r=t;r instanceof HTMLVideoElement||(r=y(r,e.parameters));const s=P(r);this._parameters.width=s.width,this._parameters.height=s.height;const i=this._createDescriptor(e);return i.pixelFormat=3===this._parameters.components?I.RGB:I.RGBA,i.width=s.width,i.height=s.height,i.compress=this._parameters.compressionOptions,this._glTexture=new M(e,i,r),this._emptyTexture=null,this.events.emit(\"loaded\"),this._glTexture}_loadAsync(e){const t=new AbortController;this._loadingController=t;const r=e(t.signal);this._loadingPromise=r;const s=()=>{this._loadingController===t&&(this._loadingController=null),this._loadingPromise===r&&(this._loadingPromise=null),this._emptyTexture=null};return r.then(s,s),r}unload(){if(this._glTexture=r(this._glTexture),this._emptyTexture=null,null!=this._loadingController){const e=this._loadingController;this._loadingController=null,this._loadingPromise=null,e.abort()}this.events.emit(\"unloaded\")}get parameters(){return this._parameters}}function C(e,t){if(null==e)return 0;if(l(e)||n(e))return t.encoding===c.KTX2_ENCODING?E(e,!!t.mipmap):t.encoding===c.BASIS_ENCODING?x(e,!!t.mipmap):e.byteLength;const{width:r,height:s}=e instanceof Image||e instanceof ImageData||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement?P(e):t;return(t.mipmap?4/3:1)*r*s*(t.components||4)||0}function P(e){return e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e}const N={wrap:{s:D.REPEAT,t:D.REPEAT},mipmap:!0,noUnpackFlip:!1,preMultiplyAlpha:!1};export{L as Texture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{nativeArrayMaxSize as r,isFloat16Array as t,isUint16Array as o}from\"../../../../core/typedArrayUtil.js\";import{getFloat16ArrayConstructor as a}from\"../../../../geometry/support/float16.js\";function e(e){if(e.length<r)return Array.from(e);if(Array.isArray(e))return Float64Array.from(e);if(!(\"BYTES_PER_ELEMENT\"in e))return Array.from(e);switch(e.BYTES_PER_ELEMENT){case 1:return Uint8Array.from(e);case 2:return t(e)?a().from(e):o(e)?Uint16Array.from(e):Int16Array.from(e);case 4:return Float32Array.from(e);default:return Float64Array.from(e)}}export{e as cloneAttributeData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport i from\"../../../../core/PooledArray.js\";import{m as t,s as e}from\"../../../../chunks/vec32.js\";import{fromValues as s,clone as r,create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{assert as h}from\"./Util.js\";class o{constructor(i,e,o){this.primitiveIndices=i,this._numIndexPerPrimitive=e,this.position=o,this._children=void 0,h(i.length>=1),h(3===o.size||4===o.size);const{data:c,size:l,indices:m}=o;h(m.length%this._numIndexPerPrimitive===0),h(m.length>=i.length*this._numIndexPerPrimitive);const d=i.length;let u=l*m[this._numIndexPerPrimitive*i[0]];a.clear(),a.push(u);const f=s(c[u],c[u+1],c[u+2]),x=r(f);for(let t=0;t<d;++t){const e=this._numIndexPerPrimitive*i[t];for(let i=0;i<this._numIndexPerPrimitive;++i){u=l*m[e+i],a.push(u);let t=c[u];f[0]=Math.min(t,f[0]),x[0]=Math.max(t,x[0]),t=c[u+1],f[1]=Math.min(t,f[1]),x[1]=Math.max(t,x[1]),t=c[u+2],f[2]=Math.min(t,f[2]),x[2]=Math.max(t,x[2])}}this.bbMin=f,this.bbMax=x;const P=t(n(),this.bbMin,this.bbMax,.5);this.radius=.5*Math.max(Math.max(x[0]-f[0],x[1]-f[1]),x[2]-f[2]);let v=this.radius*this.radius;for(let t=0;t<a.length;++t){u=a.at(t);const i=c[u]-P[0],e=c[u+1]-P[1],s=c[u+2]-P[2],r=i*i+e*e+s*s;if(r<=v)continue;const n=Math.sqrt(r),h=.5*(n-this.radius);this.radius=this.radius+h,v=this.radius*this.radius;const o=h/n;P[0]+=i*o,P[1]+=e*o,P[2]+=s*o}this.center=P,a.clear()}getChildren(){if(this._children||e(this.bbMin,this.bbMax)<=1)return this._children;const i=t(n(),this.bbMin,this.bbMax,.5),s=this.primitiveIndices.length,r=new Uint8Array(s),h=new Array(8);for(let t=0;t<8;++t)h[t]=0;const{data:a,size:c,indices:l}=this.position;for(let t=0;t<s;++t){let e=0;const s=this._numIndexPerPrimitive*this.primitiveIndices[t];let n=c*l[s],o=a[n],m=a[n+1],d=a[n+2];for(let i=1;i<this._numIndexPerPrimitive;++i){n=c*l[s+i];const t=a[n],e=a[n+1],r=a[n+2];t<o&&(o=t),e<m&&(m=e),r<d&&(d=r)}o<i[0]&&(e|=1),m<i[1]&&(e|=2),d<i[2]&&(e|=4),r[t]=e,++h[e]}let m=0;for(let t=0;t<8;++t)h[t]>0&&++m;if(m<2)return;const d=new Array(8);for(let t=0;t<8;++t)d[t]=h[t]>0?new Uint32Array(h[t]):void 0;for(let t=0;t<8;++t)h[t]=0;for(let t=0;t<s;++t){const i=r[t];d[i][h[i]++]=this.primitiveIndices[t]}this._children=new Array;for(let t=0;t<8;++t)void 0!==d[t]&&this._children.push(new o(d[t],this._numIndexPerPrimitive,this.position));return this._children}static prune(){a.prune()}}const a=new i({deallocator:null});export{o as BoundingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{i as t,f as e,g as n,F as r}from\"../../../../chunks/vec32.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{areaPoints3d as s}from\"../../../../geometry/support/triangle.js\";function i(r,o){if(!r)return!1;const{size:i,data:c,indices:f}=r;t(o,0,0,0),t(m,0,0,0);let g=0,d=0;for(let p=0;p<f.length-2;p+=3){const r=f[p]*i,h=f[p+1]*i,j=f[p+2]*i;t(a,c[r],c[r+1],c[r+2]),t(l,c[h],c[h+1],c[h+2]),t(u,c[j],c[j+1],c[j+2]);const z=s(a,l,u);z?(e(a,a,l),e(a,a,u),n(a,a,1/3*z),e(o,o,a),g+=z):(e(m,m,a),e(m,m,l),e(m,m,u),d+=3)}return(0!==d||0!==g)&&(0!==g?(n(o,o,1/g),!0):0!==d&&(n(o,m,1/d),!0))}function c(e,r){if(!e)return!1;const{size:o,data:s,indices:i}=e;t(r,0,0,0);let c=-1,f=0;for(let t=0;t<i.length;t++){const e=i[t]*o;c!==e&&(r[0]+=s[e],r[1]+=s[e+1],r[2]+=s[e+2],f++),c=e}return f>1&&n(r,r,1/f),f>0}function f(o,s,i){if(!o)return!1;t(i,0,0,0),t(m,0,0,0);let c=0,f=0;const{size:u,data:g,indices:d}=o,p=d.length-1,h=p+(s?2:0);for(let t=0;t<h;t+=2){const o=t<p?t+1:0,s=d[t<p?t:p]*u,h=d[o]*u;a[0]=g[s],a[1]=g[s+1],a[2]=g[s+2],l[0]=g[h],l[1]=g[h+1],l[2]=g[h+2],n(a,e(a,a,l),.5);const j=r(a,l);j>0?(e(i,i,n(a,a,j)),c+=j):0===c&&(e(m,m,a),f++)}return 0!==c?(n(i,i,1/c),!0):0!==f&&(n(i,m,1/f),!0)}const a=o(),l=o(),u=o(),m=o();export{f as computeAttachmentOriginLines,c as computeAttachmentOriginPoints,i as computeAttachmentOriginTriangles};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar n;!function(n){n[n.Mesh=0]=\"Mesh\",n[n.Point=1]=\"Point\",n[n.Line=2]=\"Line\"}(n||(n={}));export{n as GeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{generateUID as s}from\"../../../../core/uid.js\";import{Object3DState as t}from\"./basicInterfaces.js\";class c{constructor(){this.uid=s()}}class e extends c{constructor(s){super(),this.highlightName=s,this.channel=t.Highlight}}class r extends c{constructor(){super(...arguments),this.channel=t.MaskOccludee}}export{e as Object3DHighlightStateID,r as Object3DOccludeeStateID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{generateUID as t}from\"../../../../core/uid.js\";import{IDENTITY as i,clone as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as s}from\"../../../../chunks/vec32.js\";import{compactIndices as n,getContinuousIndexArray as h}from\"../../../../geometry/support/Indices.js\";import{cloneAttributeData as r}from\"./AttributeArray.js\";import{BoundingInfo as o}from\"./BoundingInfo.js\";import{computeAttachmentOriginTriangles as a,computeAttachmentOriginLines as g,computeAttachmentOriginPoints as u}from\"./geometryDataUtils.js\";import{GeometryType as l}from\"./IntersectableGeometry.js\";import{Object3DHighlightStateID as c}from\"./Object3DStateID.js\";import{assert as m}from\"./Util.js\";import{VertexAttribute as d}from\"./VertexAttribute.js\";import{webglDebugEnabled as f}from\"../../../webgl/checkWebGLError.js\";class p{constructor(i,e,s=null,h=l.Mesh,r=null,o=-1){this.material=i,this.mapPositions=s,this.type=h,this.objectAndLayerIdColor=r,this.edgeIndicesLength=o,this.highlights=new Set,this._highlightOptionsCounts=new Map,this.id=t(),this.visible=!0,this._attributes=new Map,this._boundingInfo=null;for(const[t,a]of e)this._attributes.set(t,{...a,indices:n(a.indices)}),t===d.POSITION&&(this.edgeIndicesLength=this.edgeIndicesLength<0?this._attributes.get(t).indices.length:this.edgeIndicesLength)}instantiate(t={}){const i=new p(t.material||this.material,[],this.mapPositions,this.type,this.objectAndLayerIdColor,this.edgeIndicesLength);return this._attributes.forEach(((t,e)=>{t.exclusive=!1,i._attributes.set(e,t)})),i._boundingInfo=this._boundingInfo,i.transformation=t.transformation||this.transformation,i}get attributes(){return this._attributes}getMutableAttribute(t){let i=this._attributes.get(t);return i&&!i.exclusive&&(i={...i,exclusive:!0,data:r(i.data)},this._attributes.set(t,i)),i}setAttributeData(t,i){const e=this._attributes.get(t);e?this._attributes.set(t,{...e,exclusive:!0,data:i}):f()&&console.warn(`Setting undefined attribute ${t} data`)}get indexCount(){const t=this._attributes.values().next().value?.indices;return t?.length??0}get faceCount(){return this.indexCount/3}get boundingInfo(){return this._boundingInfo??=this._calculateBoundingInfo(),this._boundingInfo}computeAttachmentOrigin(t){return!!(this.type===l.Mesh?this._computeAttachmentOriginTriangles(t):this.type===l.Line?this._computeAttachmentOriginLines(t):this._computeAttachmentOriginPoints(t))&&(null!=this._transformation&&s(t,t,this._transformation),!0)}_computeAttachmentOriginTriangles(t){const i=this.attributes.get(d.POSITION);return a(i,t)}_computeAttachmentOriginLines(t){const i=this.attributes.get(d.POSITION);return g(i,b(this.material.parameters,i),t)}_computeAttachmentOriginPoints(t){const i=this.attributes.get(d.POSITION);return u(i,t)}invalidateBoundingInfo(){this._boundingInfo=null}_calculateBoundingInfo(){const t=this.attributes.get(d.POSITION);if(!t||0===t.indices.length)return null;const i=this.type===l.Mesh?3:1;m(t.indices.length%i===0,\"Indexing error: \"+t.indices.length+\" not divisible by \"+i);const e=h(t.indices.length/i);return new o(e,i,t)}get transformation(){return this._transformation??i}set transformation(t){this._transformation=t&&t!==i?e(t):null}get highlightNames(){return this._highlightOptionsCounts}get hasHighlights(){return this._highlightOptionsCounts.size>0}foreachHighlightOptions(t){this._highlightOptionsCounts.forEach(((i,e)=>t(e)))}allocateIdAndHighlight(t){const i=new c(t);return this.addHighlight(i)}addHighlight(t){this.highlights.add(t);const{highlightName:i}=t,e=(this._highlightOptionsCounts.get(i)??0)+1;return this._highlightOptionsCounts.set(i,e),t}removeHighlight(t){if(this.highlights.delete(t)){const{highlightName:i}=t,e=this._highlightOptionsCounts.get(i)??0;e<=1?this._highlightOptionsCounts.delete(i):this._highlightOptionsCounts.set(i,e-1)}}}function b(t,i){return!(!(\"isClosed\"in t)||!t.isClosed)&&i.indices.length>2}export{p as Geometry,l as GeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../../../core/compilerUtils.js\";import{glsl as t}from\"../../shaderModules/glsl.js\";import{VertexAttribute as r}from\"../../../lib/VertexAttribute.js\";var o;function d(d,a){switch(a.textureCoordinateType){case o.Default:return d.attributes.add(r.UV0,\"vec2\"),d.varyings.add(\"vuv0\",\"vec2\"),void d.vertex.code.add(t`void forwardTextureCoordinates() { vuv0 = uv0; }`);case o.Atlas:return d.attributes.add(r.UV0,\"vec2\"),d.attributes.add(r.UVREGION,\"vec4\"),d.varyings.add(\"vuv0\",\"vec2\"),d.varyings.add(\"vuvRegion\",\"vec4\"),void d.vertex.code.add(t`void forwardTextureCoordinates() {\nvuv0 = uv0;\nvuvRegion = uvRegion;\n}`);default:e(a.textureCoordinateType);case o.None:return void d.vertex.code.add(t`void forwardTextureCoordinates() {}`);case o.COUNT:return}}!function(e){e[e.None=0]=\"None\",e[e.Default=1]=\"Default\",e[e.Atlas=2]=\"Atlas\",e[e.COUNT=3]=\"COUNT\"}(o||(o={}));export{d as TextureCoordinateAttribute,o as TextureCoordinateType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{glsl as a}from\"../../shaderModules/glsl.js\";function e(e){e.fragment.code.add(a`vec4 textureAtlasLookup(sampler2D tex, vec2 textureCoordinates, vec4 atlasRegion) {\nvec2 atlasScale = atlasRegion.zw - atlasRegion.xy;\nvec2 uvAtlas = fract(textureCoordinates) * atlasScale + atlasRegion.xy;\nfloat maxdUV = 0.125;\nvec2 dUVdx = clamp(dFdx(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\nvec2 dUVdy = clamp(dFdy(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\nreturn textureGrad(tex, uvAtlas, dUVdx, dUVdy);\n}`)}export{e as TextureAtlasLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{TextureCoordinateType as e,TextureCoordinateAttribute as t}from\"./TextureCoordinateAttribute.glsl.js\";import{TextureAtlasLookup as o}from\"../util/TextureAtlasLookup.glsl.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function u(u,l){const{textureCoordinateType:s}=l;if(s===e.None||s===e.COUNT)return;u.include(t,l);const n=s===e.Atlas;n&&u.include(o),u.fragment.code.add(r`\n    vec4 textureLookup(sampler2D tex, vec2 uv) {\n      return ${n?\"textureAtlasLookup(tex, uv, vuvRegion)\":\"texture(tex, uv)\"};\n    }\n  `)}export{u as VertexTextureCoordinates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as o}from\"../../../../webgl/Uniform.js\";class e extends o{constructor(o,e){super(o,\"float\",r.Draw,((r,s,t)=>r.setUniform1f(o,e(s,t))))}}export{e as FloatDrawUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as o}from\"../../../../webgl/BindType.js\";import{Uniform as r}from\"../../../../webgl/Uniform.js\";class s extends r{constructor(r,s){super(r,\"float\",o.Pass,((o,e,t)=>o.setUniform1f(r,s(e,t))))}}export{s as FloatPassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class s extends e{constructor(e,s){super(e,\"sampler2D\",r.Pass,((r,o,t)=>r.bindTexture(e,s(o,t))))}}export{s as Texture2DPassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ResourceState as t}from\"./basicInterfaces.js\";class e{constructor(t){this._material=t.material,this._techniques=t.techniques,this._output=t.output}dispose(){}get _stippleTextures(){return this._techniques.context.stippleTextures}get _markerTextures(){return this._techniques.context.markerTextures}getTechnique(t,e){return this._techniques.get(t,this._material.getConfiguration(this._output,e))}ensureResources(e){return t.LOADED}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass s{}const c=s,e=new c;export{c as NoParameters,e as noParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as t}from\"../../../../core/maybe.js\";import{isPromiseLike as e}from\"../../../../core/promiseUtils.js\";import{ResourceState as s}from\"./basicInterfaces.js\";import i from\"./GLMaterial.js\";import{NoParameters as r}from\"../../../webgl/NoParameters.js\";class u extends i{constructor(t){super(t),this._numLoading=0,this._disposed=!1,this._textures=t.textures,this.updateTexture(t.textureId),this._acquire(t.normalTextureId,(t=>this._textureNormal=t)),this._acquire(t.emissiveTextureId,(t=>this._textureEmissive=t)),this._acquire(t.occlusionTextureId,(t=>this._textureOcclusion=t)),this._acquire(t.metallicRoughnessTextureId,(t=>this._textureMetallicRoughness=t))}dispose(){super.dispose(),this._texture=t(this._texture),this._textureNormal=t(this._textureNormal),this._textureEmissive=t(this._textureEmissive),this._textureOcclusion=t(this._textureOcclusion),this._textureMetallicRoughness=t(this._textureMetallicRoughness),this._disposed=!0}ensureResources(t){return 0===this._numLoading?s.LOADED:s.LOADING}get textureBindParameters(){return new o(this._texture?.glTexture??null,this._textureNormal?.glTexture??null,this._textureEmissive?.glTexture??null,this._textureOcclusion?.glTexture??null,this._textureMetallicRoughness?.glTexture??null)}updateTexture(e){null!=this._texture&&e===this._texture.id||(this._texture=t(this._texture),this._acquire(e,(t=>this._texture=t)))}_acquire(s,i){if(null==s)return void i(null);const r=this._textures.acquire(s);if(e(r))return++this._numLoading,void r.then((e=>{if(this._disposed)return t(e),void i(null);i(e)})).finally((()=>--this._numLoading));i(r)}}class l extends r{constructor(t=null){super(),this.textureEmissive=t}}class o extends l{constructor(t,e,s,i,r,u,l){super(s),this.texture=t,this.textureNormal=e,this.textureOcclusion=i,this.textureMetallicRoughness=r,this.scale=u,this.normalTextureTransformMatrix=l}}export{l as GLEmissiveTexturePassParameters,u as GLTextureMaterial,o as GLTextureMaterialBindParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as s}from\"../ShaderOutput.js\";import{VertexTextureCoordinates as e}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{Float3DrawUniform as o}from\"../../shaderModules/Float3DrawUniform.js\";import{Float3PassUniform as r}from\"../../shaderModules/Float3PassUniform.js\";import{FloatDrawUniform as i}from\"../../shaderModules/FloatDrawUniform.js\";import{FloatPassUniform as m}from\"../../shaderModules/FloatPassUniform.js\";import{If as t,glsl as n}from\"../../shaderModules/glsl.js\";import{Texture2DDrawUniform as a}from\"../../shaderModules/Texture2DDrawUniform.js\";import{Texture2DPassUniform as l}from\"../../shaderModules/Texture2DPassUniform.js\";import{GLEmissiveTexturePassParameters as u}from\"../../../lib/GLTextureMaterial.js\";import{BindType as d}from\"../../../../../webgl/BindType.js\";var f;!function(s){s[s.None=0]=\"None\",s[s.SymbolColor=1]=\"SymbolColor\",s[s.EmissiveColor=2]=\"EmissiveColor\",s[s.Texture=3]=\"Texture\",s[s.COUNT=4]=\"COUNT\"}(f||(f={}));class v extends u{}function c(u,v){if(!s(v.output))return;const{emissionSource:c,hasEmissiveTextureTransform:p,bindType:x}=v,C=c===f.Texture;C&&(u.include(e,v),u.fragment.uniforms.add(x===d.Pass?new l(\"texEmission\",(s=>s.textureEmissive)):new a(\"texEmission\",(s=>s.textureEmissive))));const g=c===f.EmissiveColor||C;g&&u.fragment.uniforms.add(x===d.Pass?new r(\"emissiveBaseColor\",(s=>s.emissiveBaseColor)):new o(\"emissiveBaseColor\",(s=>s.emissiveBaseColor)));const h=c!==f.None;h&&u.fragment.uniforms.add(x===d.Pass?new m(\"emissiveStrength\",(s=>s.emissiveStrength)):new i(\"emissiveStrength\",(s=>s.emissiveStrength)));const T=c===f.SymbolColor;u.fragment.code.add(n`\n    vec4 getEmissions(vec3 symbolColor) {\n      vec4 emissions = ${g?\"vec4(emissiveBaseColor, 1.0)\":T?\"vec4(symbolColor, 1.0)\":\"vec4(0.0)\"};\n      ${t(C,`emissions *= textureLookup(texEmission, ${p?\"emissiveUV\":\"vuv0\"});\\n         emissions.w = emissions.rgb == vec3(0.0) ? 0.0: emissions.w;`)}\n      ${t(h,\"emissions.rgb *= emissiveStrength;\")}\n      return emissions;\n    }\n  `)}export{f as EmissionSource,c as Emissions,v as EmissionsParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{VertexTextureCoordinates as e}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{Float3DrawUniform as r}from\"../../shaderModules/Float3DrawUniform.js\";import{Float3PassUniform as o}from\"../../shaderModules/Float3PassUniform.js\";import{glsl as s,If as t}from\"../../shaderModules/glsl.js\";import{Texture2DDrawUniform as a}from\"../../shaderModules/Texture2DDrawUniform.js\";import{Texture2DPassUniform as i}from\"../../shaderModules/Texture2DPassUniform.js\";import{schematicMRRFactors as c}from\"../../../materials/pbrUtils.js\";import{BindType as l}from\"../../../../../webgl/BindType.js\";import{NoParameters as u}from\"../../../../../webgl/NoParameters.js\";var n;!function(e){e[e.Disabled=0]=\"Disabled\",e[e.Normal=1]=\"Normal\",e[e.Schematic=2]=\"Schematic\",e[e.Water=3]=\"Water\",e[e.WaterOnIntegratedMesh=4]=\"WaterOnIntegratedMesh\",e[e.Simplified=5]=\"Simplified\",e[e.TerrainWithWater=6]=\"TerrainWithWater\",e[e.COUNT=7]=\"COUNT\"}(n||(n={}));class d extends u{constructor(e,r){super(),this.textureOcclusion=e,this.textureMetallicRoughness=r,this.mrrFactors=c}}function m(c,u){const d=u.pbrMode,m=c.fragment;if(d!==n.Schematic&&d!==n.Disabled&&d!==n.Normal)return void m.code.add(s`void applyPBRFactors() {}`);if(d===n.Disabled)return void m.code.add(s`void applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`);if(d===n.Schematic)return void m.code.add(s`vec3 mrr = vec3(0.0, 0.6, 0.2);\nfloat occlusion = 1.0;\nvoid applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`);const{hasMetallicRoughnessTexture:p,hasMetallicRoughnessTextureTransform:h,hasOcclusionTexture:f,hasOcclusionTextureTransform:g,bindType:v}=u;(p||f)&&c.include(e,u),m.code.add(s`vec3 mrr;\nfloat occlusion;`),p&&m.uniforms.add(v===l.Pass?new i(\"texMetallicRoughness\",(e=>e.textureMetallicRoughness)):new a(\"texMetallicRoughness\",(e=>e.textureMetallicRoughness))),f&&m.uniforms.add(v===l.Pass?new i(\"texOcclusion\",(e=>e.textureOcclusion)):new a(\"texOcclusion\",(e=>e.textureOcclusion))),m.uniforms.add(v===l.Pass?new o(\"mrrFactors\",(e=>e.mrrFactors)):new r(\"mrrFactors\",(e=>e.mrrFactors))),m.code.add(s`\n    ${t(p,s`void applyMetallicRoughness(vec2 uv) {\n            vec3 metallicRoughness = textureLookup(texMetallicRoughness, uv).rgb;\n            mrr[0] *= metallicRoughness.b;\n            mrr[1] *= metallicRoughness.g;\n          }`)}\n\n    ${t(f,\"void applyOcclusion(vec2 uv) { occlusion *= textureLookup(texOcclusion, uv).r; }\")}\n\n    float getBakedOcclusion() {\n      return ${f?\"occlusion\":\"1.0\"};\n    }\n\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      occlusion = 1.0;\n\n      ${t(p,`applyMetallicRoughness(${h?\"metallicRoughnessUV\":\"vuv0\"});`)}\n      ${t(f,`applyOcclusion(${g?\"occlusionUV\":\"vuv0\"});`)}\n    }\n  `)}export{n as PBRMode,d as PBRRenderingParameters,m as PhysicallyBasedRenderingParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{VertexAttribute as O}from\"./VertexAttribute.js\";const E=new Map([[O.POSITION,0],[O.NORMAL,1],[O.NORMALCOMPRESSED,1],[O.UV0,2],[O.UVI,2],[O.COLOR,3],[O.COLORFEATUREATTRIBUTE,3],[O.SIZE,4],[O.TANGENT,4],[O.CENTEROFFSETANDDISTANCE,5],[O.SYMBOLCOLOR,5],[O.FEATUREATTRIBUTE,6],[O.INSTANCEFEATUREATTRIBUTE,6],[O.OLIDCOLOR,6],[O.INSTANCEOBJECTANDLAYERIDCOLOR,6],[O.INSTANCECOLOR,7],[O.ROTATION,8],[O.INSTANCEMODEL,8],[O.INSTANCEMODELNORMAL,12],[O.INSTANCEMODELORIGINHI,11],[O.INSTANCEMODELORIGINLO,15]]);export{E as Default3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../../core/arrayUtils.js\";class s{constructor(t){this._bits=[...t]}equals(s){return t(this._bits,s.bits)}get code(){return this._code??=String.fromCharCode(...this._bits),this._code}get bits(){return this._bits}}export{s as ShaderTechniqueConfigurationKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import{ShaderTechniqueConfigurationKey as t}from\"./ShaderTechniqueConfigurationKey.js\";import{NoParameters as r}from\"../../../../webgl/NoParameters.js\";class a extends r{constructor(){super(),this._parameterBits=this._parameterBits?.map((()=>0))??[],this._parameterNames??=[]}get key(){return this._key??=new t(this._parameterBits),this._key}decode(e=this.key){const t=this._parameterBits;this._parameterBits=[...e.bits];const r=this._parameterNames.map((e=>`    ${e}: ${this[e]}`)).join(\"\\n\");return this._parameterBits=t,r}}function i(t={}){return(r,a)=>{r.hasOwnProperty(\"_parameterNames\")||Object.defineProperty(r,\"_parameterNames\",{value:r._parameterNames?.slice()??[],configurable:!0,writable:!0}),r.hasOwnProperty(\"_parameterBits\")||Object.defineProperty(r,\"_parameterBits\",{value:r._parameterBits?.slice()??[0],configurable:!0,writable:!0}),r._parameterNames.push(a);const i=t.count||2,s=Math.ceil(Math.log2(i)),o=r._parameterBits;let n=0;for(;o[n]+s>16;)n++,n>=o.length&&o.push(0);const p=o[n],m=(1<<s)-1<<p;o[n]+=s,t.count?Object.defineProperty(r,a,{get(){return(this._parameterBits[n]&m)>>p},set(r){if(this[a]!==r){if(this._key=null,this._parameterBits[n]=this._parameterBits[n]&~m|+r<<p&m,\"number\"!=typeof r)throw new e(\"internal:invalid-shader-configuration\",`Configuration value for ${a} must be a number, got ${typeof r}`);if(null==t.count)throw new e(\"internal:invalid-shader-configuration\",`Configuration value for ${a} must provide a count option`)}}}):Object.defineProperty(r,a,{get(){return!!((this._parameterBits[n]&m)>>p)},set(t){if(this[a]!==t&&(this._key=null,this._parameterBits[n]=this._parameterBits[n]&~m|+t<<p&m,\"boolean\"!=typeof t))throw new e(\"internal:invalid-shader-configuration\",`Configuration value for ${a} must be boolean, got ${typeof t}`)}})}}export{a as ShaderTechniqueConfiguration,i as parameter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ShaderTechniqueConfiguration as e}from\"../../shaderTechnique/ShaderTechniqueConfiguration.js\";class s extends e{constructor(){super(...arguments),this.instancedDoublePrecision=!1,this.hasModelTransformation=!1}}export{s as InstancedDoubleConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar o;!function(o){o[o.NONE=0]=\"NONE\",o[o.ColorAlpha=1]=\"ColorAlpha\",o[o.FrontFace=2]=\"FrontFace\",o[o.COUNT=3]=\"COUNT\"}(o||(o={}));export{o as OITPass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{InstancedDoubleConfiguration as i}from\"../core/shaderLibrary/attributes/InstancedDoubleConfiguration.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{OITPass as s}from\"../lib/OITPass.js\";import{BindType as e}from\"../../../webgl/BindType.js\";class a extends i{constructor(){super(...arguments),this.output=o.Color,this.oitPass=s.NONE,this.hasSlicePlane=!1,this.hasHighlightMixTexture=!1,this.bindType=e.Pass,this.writeDepth=!0}}t([r({count:o.COUNT})],a.prototype,\"output\",void 0),t([r({count:s.COUNT})],a.prototype,\"oitPass\",void 0),t([r()],a.prototype,\"hasSlicePlane\",void 0),t([r()],a.prototype,\"hasHighlightMixTexture\",void 0);export{a as DefaultTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{lerp as e,deg2rad as t,clamp as a}from\"../../../../core/mathUtils.js\";import{c as r}from\"../../../../chunks/boundedPlane.js\";import{b as n,c as i,d as c}from\"../../../../chunks/sphere.js\";import{ViewingMode as l}from\"../../../ViewingMode.js\";function s(e,t){return new F(e,g,t)}function o(e,t){const{curvatureDependent:a,scaleStart:r,scaleFallOffRange:n}=g;return new F(e,{curvatureDependent:{min:{curvature:a.min.curvature,tiltAngle:a.min.tiltAngle,scaleFallOffFactor:_.curvatureDependent.min.scaleFallOffFactor},max:{curvature:a.max.curvature,tiltAngle:a.max.tiltAngle,scaleFallOffFactor:_.curvatureDependent.max.scaleFallOffFactor}},scaleStart:r,scaleFallOffRange:n,minPixelSize:_.minPixelSize},t)}function u(e){return Math.abs(e*e*e)}function f(e,t,a){const r=a.parameters;return C.scale=Math.min(r.divisor/(t-r.offset),1),C.factor=u(e),C}function m(t,a){return e(t*Math.max(a.scale,a.minScaleFactor),t,a.factor)}function h(e,t,a){const r=f(e,t,a);return r.minScaleFactor=0,m(1,r)}function d(e,t,a,r){r.scale=h(e,t,a),r.factor=0,r.minScaleFactor=a.minScaleFactor}function p(e,t,a=[0,0]){const r=Math.min(Math.max(t.scale,t.minScaleFactor),1);return a[0]=e[0]*r,a[1]=e[1]*r,a}function v(e,t,a,r){return m(e,f(t,a,r))}class F{get minScaleFactor(){return null!=this._fontHeight?Math.min(this._description.minPixelSize/this._fontHeight,1):0}constructor(e,t,a,r=O(),n){this._viewingMode=e,this._description=t,this._ellipsoidRadius=a,this.parameters=r,this._fontHeight=n,this._viewingMode===l.Local?(this._coverageCompensation=this._surfaceCoverageCompensationLocal,this._calculateCurvatureDependentParameters=this._calculateCurvatureDependentParametersLocal):(this._coverageCompensation=this._surfaceCoverageCompensationGlobal,this._calculateCurvatureDependentParameters=this._calculateCurvatureDependentParametersGlobal)}update(e){return(!this.parameters||this.parameters.camera.fovY!==e.fovY||this.parameters.camera.distance!==e.distance)&&(this._calculateParameters(e,this._ellipsoidRadius,this.parameters),!0)}overrideFontHeight(e){return e!==this._fontHeight?new F(this._viewingMode,this._description,this._ellipsoidRadius,this.parameters,e):this}_calculateParameters(e,t,a){const{scaleStart:r,scaleFallOffRange:n}=this._description,{fovY:i,distance:c}=e,l=this._calculateCurvatureDependentParameters(e,t),s=this._coverageCompensation(e,t,l),{tiltAngle:o,scaleFallOffFactor:u}=l,f=Math.sin(o)*c,m=.5*Math.PI-o-i*(.5-r*s),h=f/Math.cos(m),d=m+i*n*s,p=(h-u*(f/Math.cos(d)))/(1-u);return a.camera.fovY=e.fovY,a.camera.distance=e.distance,a.offset=p,a.divisor=h-p,a}_calculateCurvatureDependentParametersLocal(e,t,a=x){return a.tiltAngle=this._description.curvatureDependent.min.tiltAngle,a.scaleFallOffFactor=this._description.curvatureDependent.min.scaleFallOffFactor,a}_calculateCurvatureDependentParametersGlobal(t,r,n=x){const i=this._description.curvatureDependent,c=1+t.distance/r,l=Math.sqrt(c*c-1),[s,o]=[i.min.curvature,i.max.curvature],u=a((l-s)/(o-s),0,1),[f,m]=[i.min,i.max];return n.tiltAngle=e(f.tiltAngle,m.tiltAngle,u),n.scaleFallOffFactor=e(f.scaleFallOffFactor,m.scaleFallOffFactor,u),n}_surfaceCoverageCompensationLocal(e,t,a){return r(a.tiltAngle,e.fovY)}_surfaceCoverageCompensationGlobal(e,t,a){return n(D,t),c(D,a.tiltAngle,e.distance,e.fovY)}}const g={curvatureDependent:{min:{curvature:t(10),tiltAngle:t(12),scaleFallOffFactor:.5},max:{curvature:t(70),tiltAngle:t(40),scaleFallOffFactor:.8}},scaleStart:.3,scaleFallOffRange:.65,minPixelSize:0},_={curvatureDependent:{min:{scaleFallOffFactor:.7},max:{scaleFallOffFactor:.95}},minPixelSize:14};function O(){return{camera:{distance:0,fovY:0},divisor:0,offset:0}}const C={scale:0,factor:0,minScaleFactor:0},x={tiltAngle:0,scaleFallOffFactor:0},D=i();export{p as applyPrecomputedScaleFactor,m as applyScaleFactor,o as getLabelSettings,s as getSettings,d as precomputeScaleFactor,v as scale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{equals as r}from\"../../../../../core/arrayUtils.js\";import{clamp as t}from\"../../../../../core/mathUtils.js\";import{scale as e}from\"../../lib/screenSizePerspectiveUtils.js\";function i(r,i,n,o,l){let s=(n.screenLength||0)*r.pixelRatio;null!=l&&(s=e(s,o,i,l));const a=s*Math.tan(.5*r.fovY)/(.5*r.fullHeight);return t(a*i,n.minWorldLength||0,null!=n.maxWorldLength?n.maxWorldLength:1/0)}function n(t,e){let i=!1;for(const n in e){const o=e[n];void 0!==o&&(Array.isArray(o)?Array.isArray(t[n])&&r(o,t[n])||(t[n]=o.slice(),i=!0):t[n]!==o&&(i=!0,t[n]=o))}return i}const o={multiply:1,ignore:2,replace:3,tint:4};export{o as colorMixModes,n as updateParameters,i as verticalOffsetAtDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{generateUID as e}from\"../../../../core/uid.js\";import{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{Default3D as t}from\"./DefaultVertexAttributeLocations.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";import{updateParameters as s}from\"../materials/internal/MaterialUtil.js\";import{NoParameters as a}from\"../../../webgl/NoParameters.js\";class n{constructor(r,i){this.id=e(),this.supportsEdges=!1,this.vertexAttributeLocations=t,this._renderPriority=0,this._parameters=new i,s(this._parameters,r),this.validateParameters(this._parameters)}get parameters(){return this._parameters}update(e){return!1}setParameters(e,r=!0){s(this._parameters,e)&&(this.validateParameters(this._parameters),r&&this._parametersChanged())}validateParameters(e){}shouldRender(e){return this.visible&&this.isVisibleForOutput(e.output)&&(!this.parameters.isDecoration||e.bind.decorations)&&0!==(this.parameters.renderOccluded&e.renderOccludedMask)}isVisibleForOutput(e){return!0}get renderPriority(){return this._renderPriority}set renderPriority(e){e!==this._renderPriority&&(this._renderPriority=e,this._parametersChanged())}_parametersChanged(){this.repository?.materialChanged(this)}get renderOccludedFlags(){return this.visible?this.parameters.renderOccluded:o.None}get hasEmissions(){return!1}getConfiguration(e,t,s=new i){return s.output=e,s.hasHighlightMixTexture=e===r.Highlight&&null!=t.highlightMixTexture,s}}var o;!function(e){e[e.None=0]=\"None\",e[e.Occlude=1]=\"Occlude\",e[e.Transparent=2]=\"Transparent\",e[e.OccludeAndTransparent=4]=\"OccludeAndTransparent\",e[e.OccludeAndTransparentStencil=8]=\"OccludeAndTransparentStencil\",e[e.Opaque=16]=\"Opaque\"}(o||(o={}));class d extends a{constructor(){super(...arguments),this.renderOccluded=o.Occlude,this.isDecoration=!1}}export{n as Material,d as MaterialParameters,o as RenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isColorEmission as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{OITPass as e}from\"./OITPass.js\";import{CompareFunction as t,ColorAttachment0 as n,ColorAttachment1 as o,ColorAttachment2 as s,BlendFactor as u}from\"../../../webgl/enums.js\";import{separateBlendingParams as a,defaultDepthWrite as c,unpremultipliedAlphaToPremultipliedAlpha as l}from\"../../../webgl/renderState.js\";const f=a(u.ONE,u.ZERO,u.ONE,u.ONE_MINUS_SRC_ALPHA);function i(r){return r===e.FrontFace?null:f}function p(r){switch(r){case e.NONE:return l;case e.ColorAlpha:return f;case e.FrontFace:case e.COUNT:return null}}function N(r){if(r.draped)return null;switch(r.oitPass){case e.NONE:case e.FrontFace:return r.writeDepth?c:null;case e.ColorAlpha:case e.COUNT:return null}}const O=5e5,h={factor:-1,units:-2};function m({oitPass:r,enableOffset:t}){return t&&r===e.ColorAlpha?h:null}function E(r,n=t.LESS){return r===e.NONE||r===e.FrontFace?n:t.LEQUAL}function F(t,u){const a=r(u);return t===e.ColorAlpha?a?{buffers:[n,o,s]}:{buffers:[n,o]}:a?{buffers:[n,o]}:null}export{h as OITPolygonOffset,O as OITPolygonOffsetLimit,p as blending,f as blendingColorAlpha,N as depthWrite,F as getDrawBuffers,i as oitBlending,E as oitDepthTest,m as oitPolygonOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{a as t,i as n,c as o,h as i,n as e}from\"../../../../chunks/vec32.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{setMin as c,create as r,setMax as f}from\"../../../../geometry/support/aaBoundingBox.js\";import{GeometryType as a}from\"./IntersectableGeometry.js\";import{assert as u}from\"./Util.js\";import{VertexAttribute as l}from\"./VertexAttribute.js\";class h{constructor(t=!1,n=!0){this.isVerticalRay=t,this.normalRequired=n}}const m=r();function p(n,o,i,e,s,c){if(!n.visible)return;const r=t(S,e,i),f=(t,n,o)=>{c(t,o,n)},m=new h(!1,o.options.normalRequired);if(n.boundingInfo){u(n.type===a.Mesh);const t=o.tolerance;b(n.boundingInfo,i,r,t,s,m,f)}else{const t=n.attributes.get(l.POSITION),o=t.indices;q(i,r,0,o.length/3,o,t.data,t.stride,s,m,f)}}const M=s();function b(t,n,o,i,e,s,r){if(null==t)return;const a=w(o,M);if(c(m,t.bbMin),f(m,t.bbMax),null!=e&&e.applyToAabb(m),C(m,n,a,i)){const{primitiveIndices:c,position:f}=t,a=c?c.length:f.indices.length/3;if(a>N){const c=t.getChildren();if(void 0!==c){for(const t of c)b(t,n,o,i,e,s,r);return}}V(n,o,0,a,f.indices,f.data,f.stride,c,e,s,r)}}const d=s();function x(n,o,i,e,s,c,r,f,a){const{data:u,stride:l}=c;q(n,t(S,o,n),i,e,s,u,l,r,f,a)}function g(t,n,o,i,e,s,c,r,f,a=null,u=0){const l=t[0],h=t[1],m=t[2],p=n[0],M=n[1],b=n[2];for(let x=o;x<i;++x){const t=u+(a?a[x]:x),n=3*t,o=c*e[n],i=s[o],g=s[o+1],y=s[o+2],T=c*e[n+1],V=s[T],q=s[T+1],j=s[T+2],I=c*e[n+2],v=V-i,A=q-g,B=j-y,O=s[I]-i,k=s[I+1]-g,w=s[I+2]-y,C=M*w-k*b,G=b*O-w*p,N=p*k-O*M,S=v*C+A*G+B*N;if(Math.abs(S)<=P)continue;const U=l-i,z=h-g,D=m-y,E=U*C+z*G+D*N;if(S>0){if(E<0||E>S)continue}else if(E>0||E<S)continue;const F=z*B-A*D,H=D*v-B*U,J=U*A-v*z,K=p*F+M*H+b*J;if(S>0){if(K<0||E+K>S)continue}else if(K>0||E+K<S)continue;const L=(O*F+k*H+w*J)/S;if(L>=0){f(L,t,r?R(v,A,B,O,k,w,d):null)}}}function y(t,n,o,i,e,s,c,r){const f=t[0],a=t[1],u=t[2],l=n[0],h=n[1],m=n[2];for(let p=o;p<i;++p){const t=3*p,n=t+1,o=t+2,i=s*t,M=e[i],b=e[i+1],x=e[i+2],g=s*n,y=s*o,T=e[g]-M,V=e[g+1]-b,q=e[g+2]-x,j=e[y]-M,I=e[y+1]-b,v=e[y+2]-x,A=h*v-I*m,B=m*j-v*l,O=l*I-j*h,k=T*A+V*B+q*O;if(Math.abs(k)<=P)continue;const w=f-M,C=a-b,G=u-x,N=w*A+C*B+G*O;if(k>0){if(N<0||N>k)continue}else if(N>0||N<k)continue;const S=C*q-V*G,U=G*T-q*w,z=w*V-T*C,D=l*S+h*U+m*z;if(k>0){if(D<0||N+D>k)continue}else if(D>0||N+D<k)continue;const E=(j*S+I*U+v*z)/k;if(E>=0){r(E,p,c?R(T,V,q,j,I,v,d):null)}}}function T(t,n,o,i,e,s,c,r,f,a,u,l=null,h=0){const m=t[0],p=t[1],M=t[2],b=n[0],x=n[1],g=n[2];for(let y=o;y<i;++y){const t=h+(l?l[y]:y),n=3*t,o=c*e[n],i=s[o],T=s[o+1],V=s[o+2],q=c*e[n+1],j=s[q],I=s[q+1],v=s[q+2],A=c*e[n+2],B=s[A],O=s[A+1],k=s[A+2],w=V-f,C=r/Math.sqrt(i*i+T*T+w*w),G=i+i*C,N=T+T*C,S=V+w*C,U=v-f,z=r/Math.sqrt(j*j+I*I+U*U),D=j+j*z,E=I+I*z,F=v+U*z,H=k-f,J=r/Math.sqrt(B*B+O*O+H*H),K=D-G,L=E-N,Q=F-S,W=B+B*J-G,X=O+O*J-N,Y=k+H*J-S,Z=x*Y-X*g,$=g*W-Y*b,_=b*X-W*x,tt=K*Z+L*$+Q*_;if(Math.abs(tt)<=P)continue;const nt=m-G,ot=p-N,it=M-S,et=nt*Z+ot*$+it*_;if(tt>0){if(et<0||et>tt)continue}else if(et>0||et<tt)continue;const st=ot*Q-L*it,ct=it*K-Q*nt,rt=nt*L-K*ot,ft=b*st+x*ct+g*rt;if(tt>0){if(ft<0||et+ft>tt)continue}else if(ft>0||et+ft<tt)continue;const at=(W*st+X*ct+Y*rt)/tt;if(at>=0){u(at,t,a?R(K,L,Q,W,X,Y,d):null)}}}function V(t,n,o,i,e,s,c,r,f,a,u){const l=t[0],h=t[1],m=t[2],p=n[0],M=n[1],b=n[2],{normalRequired:x}=a;for(let g=o;g<i;++g){const t=r[g],n=3*t,o=c*e[n];let i=s[o],a=s[o+1],y=s[o+2];const T=c*e[n+1];let V=s[T],q=s[T+1],j=s[T+2];const I=c*e[n+2];let v=s[I],A=s[I+1],B=s[I+2];null!=f&&([i,a,y]=f.applyToVertex(i,a,y,g),[V,q,j]=f.applyToVertex(V,q,j,g),[v,A,B]=f.applyToVertex(v,A,B,g));const O=V-i,k=q-a,w=j-y,C=v-i,G=A-a,N=B-y,S=M*N-G*b,U=b*C-N*p,z=p*G-C*M,D=O*S+k*U+w*z;if(Math.abs(D)<=P)continue;const E=l-i,F=h-a,H=m-y,J=E*S+F*U+H*z;if(D>0){if(J<0||J>D)continue}else if(J>0||J<D)continue;const K=F*w-k*H,L=H*O-w*E,Q=E*k-O*F,W=p*K+M*L+b*Q;if(D>0){if(W<0||J+W>D)continue}else if(W>0||J+W<D)continue;const X=(C*K+G*L+N*Q)/D;if(X>=0){u(X,t,x?R(O,k,w,C,G,N,d):null)}}}function q(i,e,s,c,r,f,a,u,l,h){const m=e,p=U,M=Math.abs(m[0]),b=Math.abs(m[1]),d=Math.abs(m[2]),x=M>=b?M>=d?0:2:b>=d?1:2,g=x,y=m[g]<0?2:1,T=(x+y)%3,V=(x+(3-y))%3,q=m[T]/m[g],R=m[V]/m[g],B=1/m[g],O=j,k=I,w=v,{normalRequired:C}=l;for(let j=s;j<c;++j){const e=3*j,s=a*r[e];n(p[0],f[s+0],f[s+1],f[s+2]);const c=a*r[e+1];n(p[1],f[c+0],f[c+1],f[c+2]);const l=a*r[e+2];n(p[2],f[l+0],f[l+1],f[l+2]),u&&(o(p[0],u.applyToVertex(p[0][0],p[0][1],p[0][2],j)),o(p[1],u.applyToVertex(p[1][0],p[1][1],p[1][2],j)),o(p[2],u.applyToVertex(p[2][0],p[2][1],p[2][2],j))),t(O,p[0],i),t(k,p[1],i),t(w,p[2],i);const m=O[T]-q*O[g],M=O[V]-R*O[g],b=k[T]-q*k[g],d=k[V]-R*k[g],x=w[T]-q*w[g],y=w[V]-R*w[g],I=x*d-y*b,v=m*y-M*x,G=b*M-d*m;if((I<0||v<0||G<0)&&(I>0||v>0||G>0))continue;const N=I+v+G;if(0===N)continue;const P=I*(B*O[g])+v*(B*k[g])+G*(B*w[g]);if(P*Math.sign(N)<0)continue;const S=P/N;if(S>=0){h(S,j,C?A(p):null)}}}const j=s(),I=s(),v=s();function R(t,o,s,c,r,f,a){return n(B,t,o,s),n(O,c,r,f),i(a,B,O),e(a,a),a}function A(n){return t(B,n[1],n[0]),t(O,n[2],n[0]),i(d,B,O),e(d,d),d}const B=s(),O=s();function k(t,o,i){return n(i,1/(o[0]-t[0]),1/(o[1]-t[1]),1/(o[2]-t[2]))}function w(t,o){return n(o,1/t[0],1/t[1],1/t[2])}function C(t,n,o,i){return G(t,n,o,i,1/0)}function G(t,n,o,i,e){const s=(t[0]-i-n[0])*o[0],c=(t[3]+i-n[0])*o[0];let r=Math.min(s,c),f=Math.max(s,c);const a=(t[1]-i-n[1])*o[1],u=(t[4]+i-n[1])*o[1];if(f=Math.min(f,Math.max(a,u)),f<0)return!1;if(r=Math.max(r,Math.min(a,u)),r>f)return!1;const l=(t[2]-i-n[2])*o[2],h=(t[5]+i-n[2])*o[2];return f=Math.min(f,Math.max(l,h)),!(f<0)&&(r=Math.max(r,Math.min(l,h)),!(r>f)&&r<e)}const N=1e3,P=1e-7,S=s(),U=[s(),s(),s()];export{h as MeshIntersectionOptions,k as computeInvDir,w as computeInvDirFromDirection,R as computeNormalFromBarycentric,C as intersectAabbInvDir,G as intersectAabbInvDirBefore,g as intersectRayTriangles,q as intersectRayTrianglesWithDisplacementWatertight,T as intersectRayTrianglesWithVerticalOffsetENUGlobal,y as intersectRenderGeometryTriangles,p as intersectTriangleGeometry,x as intersectTriangles,P as triangleRayParallelTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar A;!function(A){A[A.INTEGRATED_MESH=0]=\"INTEGRATED_MESH\",A[A.OPAQUE_TERRAIN=1]=\"OPAQUE_TERRAIN\",A[A.OPAQUE_MATERIAL=2]=\"OPAQUE_MATERIAL\",A[A.OPAQUE_MATERIAL_WITHOUT_NORMALS=3]=\"OPAQUE_MATERIAL_WITHOUT_NORMALS\",A[A.TRANSPARENT_MATERIAL=4]=\"TRANSPARENT_MATERIAL\",A[A.TRANSPARENT_MATERIAL_WITHOUT_NORMALS=5]=\"TRANSPARENT_MATERIAL_WITHOUT_NORMALS\",A[A.TRANSPARENT_TERRAIN=6]=\"TRANSPARENT_TERRAIN\",A[A.TRANSPARENT_MATERIAL_WITHOUT_DEPTH=7]=\"TRANSPARENT_MATERIAL_WITHOUT_DEPTH\",A[A.OCCLUDED_GROUND=8]=\"OCCLUDED_GROUND\",A[A.OCCLUDER_MATERIAL=9]=\"OCCLUDER_MATERIAL\",A[A.TRANSPARENT_OCCLUDER_MATERIAL=10]=\"TRANSPARENT_OCCLUDER_MATERIAL\",A[A.OCCLUSION_PIXELS=11]=\"OCCLUSION_PIXELS\",A[A.HUD_MATERIAL=12]=\"HUD_MATERIAL\",A[A.LABEL_MATERIAL=13]=\"LABEL_MATERIAL\",A[A.LINE_CALLOUTS=14]=\"LINE_CALLOUTS\",A[A.LINE_CALLOUTS_HUD_DEPTH=15]=\"LINE_CALLOUTS_HUD_DEPTH\",A[A.OVERLAY=16]=\"OVERLAY\",A[A.DRAPED_MATERIAL=17]=\"DRAPED_MATERIAL\",A[A.DRAPED_WATER=18]=\"DRAPED_WATER\",A[A.VOXEL=19]=\"VOXEL\",A[A.MAX_SLOTS=20]=\"MAX_SLOTS\"}(A||(A={}));export{A as RenderSlot};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{normalFromMat4Legacy as t}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{invert as r,transpose as e,copy as i,multiply as a}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as n,t as h,l as f,b as l,f as m}from\"../../../../chunks/vec32.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c,a as _}from\"../../../../chunks/sphere.js\";import{ViewingMode as u}from\"../../../ViewingMode.js\";import{Obb as g,computeOffsetObb as M}from\"../../support/orientedBoundingBox.js\";class b{constructor(){this._transform=o(),this._transformInverse=new v({value:this._transform},r,o),this._transformInverseTranspose=new v(this._transformInverse,e,o),this._transformTranspose=new v({value:this._transform},e,o),this._transformInverseRotation=new v({value:this._transform},t,s)}_invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){i(this._transform,t)}multiplyTransform(t){a(this._transform,this._transform,t)}set(t){i(this._transform,t),this._invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this._invalidateLazyTransforms()}}class v{constructor(t,s,r){this._original=t,this._update=s,this._dirty=!0,this._transform=r()}invalidate(){this._dirty=!0}get value(){return this._dirty&&(this._update(this._transform,this._original.value),this._dirty=!1),this._transform}}class T{constructor(t=0){this.offset=t,this.tmpVertex=p()}applyToVertex(t,s,r){const e=n(q,t,s,r),i=m(z,e,this.localOrigin),a=this.offset/f(i);return l(this.tmpVertex,e,i,a),this.tmpVertex}applyToAabb(t){const s=A,r=R,e=B;for(let n=0;n<3;++n)s[n]=t[0+n]+this.localOrigin[n],r[n]=t[3+n]+this.localOrigin[n],e[n]=s[n];const i=this.applyToVertex(s[0],s[1],s[2]);for(let n=0;n<3;++n)t[n]=i[n],t[n+3]=i[n];const a=s=>{const r=this.applyToVertex(s[0],s[1],s[2]);for(let e=0;e<3;++e)t[e]=Math.min(t[e],r[e]),t[e+3]=Math.max(t[e+3],r[e])};for(let n=1;n<8;++n){for(let t=0;t<3;++t)e[t]=n&1<<t?r[t]:s[t];a(e)}let o=0;for(let n=0;n<3;++n){s[n]*r[n]<0&&(o|=1<<n)}if(0!==o&&7!==o)for(let n=0;n<8;++n)if(0===(o&n)){for(let t=0;t<3;++t)e[t]=o&1<<t?0:n&1<<t?s[t]:r[t];a(e)}for(let n=0;n<3;++n)t[n]-=this.localOrigin[n],t[n+3]-=this.localOrigin[n];return t}}class x{constructor(t=0){this.componentLocalOriginLength=0,this._totalOffset=0,this._offset=0,this._tmpVertex=p(),this._tmpMbs=c(),this._tmpObb=new g,this._resetOffset(t)}_resetOffset(t){this._offset=t,this._totalOffset=t}set offset(t){this._resetOffset(t)}get offset(){return this._offset}set componentOffset(t){this._totalOffset=this._offset+t}set localOrigin(t){this.componentLocalOriginLength=f(t)}applyToVertex(t,s,r){const e=n(q,t,s,r),i=n(z,t,s,r+this.componentLocalOriginLength),a=this._totalOffset/f(i);return l(this._tmpVertex,e,i,a),this._tmpVertex}applyToAabb(t){const s=this.componentLocalOriginLength,r=t[0],e=t[1],i=t[2]+s,a=t[3],o=t[4],n=t[5]+s,h=Math.abs(r),f=Math.abs(e),l=Math.abs(i),m=Math.abs(a),p=Math.abs(o),c=Math.abs(n),_=.5*(1+Math.sign(r*a))*Math.min(h,m),u=.5*(1+Math.sign(e*o))*Math.min(f,p),g=.5*(1+Math.sign(i*n))*Math.min(l,c),M=Math.max(h,m),b=Math.max(f,p),v=Math.max(l,c),T=Math.sqrt(_*_+u*u+g*g),x=Math.sign(h+r),O=Math.sign(f+e),y=Math.sign(l+i),d=Math.sign(m+a),V=Math.sign(p+o),L=Math.sign(c+n),j=this._totalOffset;if(T<j)return t[0]-=(1-x)*j,t[1]-=(1-O)*j,t[2]-=(1-y)*j,t[3]+=d*j,t[4]+=V*j,t[5]+=L*j,t;const I=j/Math.sqrt(M*M+b*b+v*v),w=j/T,q=w-I,z=-q;return t[0]+=r*(x*z+w),t[1]+=e*(O*z+w),t[2]+=i*(y*z+w),t[3]+=a*(d*q+I),t[4]+=o*(V*q+I),t[5]+=n*(L*q+I),t}applyToMbs(t){const s=f(_(t)),r=this._totalOffset/s;return l(_(this._tmpMbs),_(t),_(t),r),this._tmpMbs[3]=t[3]+t[3]*this._totalOffset/s,this._tmpMbs}applyToObb(t){return M(t,this._totalOffset,this._totalOffset,u.Global,this._tmpObb),this._tmpObb}}class O{constructor(t=0){this.offset=t,this.sphere=c(),this.tmpVertex=p()}applyToVertex(t,s,r){const e=this.objectTransform.transform,i=n(q,t,s,r),a=h(i,i,e),o=this.offset/f(a);l(a,a,a,o);const m=this.objectTransform.inverse;return h(this.tmpVertex,a,m),this.tmpVertex}applyToMinMax(t,s){const r=this.offset/f(t);l(t,t,t,r);const e=this.offset/f(s);l(s,s,s,e)}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t){const s=f(_(t)),r=this.offset/s;return l(_(this.sphere),_(t),_(t),r),this.sphere[3]=t[3]+t[3]*this.offset/s,this.sphere}}const y=new O;function d(t){return null!=t?(y.offset=t,y):null}const V=new x;function L(t){return null!=t?(V.offset=t,V):null}const j=new T;function I(t){return null!=t?(j.offset=t,j):null}const w=\"terrain\",q=p(),z=p(),A=p(),R=p(),B=p();export{x as I3SVerticalOffsetGlobalViewingMode,b as IntersectorTransform,O as Object3DVerticalOffsetGlobalViewingMode,T as TerrainVerticalOffsetGlobalViewingMode,L as getVerticalOffsetI3S,d as getVerticalOffsetObject3D,I as getVerticalOffsetTerrain,w as terrainId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{d as e,l as t,g as f}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{hasIdentityRotation as o,isOrthoNormal as i}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{BufferViewVec4u8 as s,BufferViewVec3f16 as n,BufferViewVec3f as c,BufferViewVec4f16 as l,BufferViewVec4f as d,BufferViewFloat as u,BufferViewVec2i16 as a,BufferViewVec2f16 as p,BufferViewVec2f as g}from\"../../../../../geometry/support/buffer/BufferView.js\";import{assert as B}from\"../../lib/Util.js\";import{VertexAttribute as y}from\"../../lib/VertexAttribute.js\";function b(e,t,f,r=1){const{data:o,indices:i}=e,s=t.typedBuffer,n=t.typedBufferStride,c=i.length;if(f*=n,1===r)for(let l=0;l<c;++l)s[f]=o[i[l]],f+=n;else for(let l=0;l<c;++l){const e=o[i[l]];for(let t=0;t<r;t++)s[f]=e,f+=n}}function m(e,t,f){const{data:r,indices:o}=e,i=t.typedBuffer,s=t.typedBufferStride,n=o.length;f*=s;for(let c=0;c<n;++c){const e=2*o[c];i[f]=r[e],i[f+1]=r[e+1],f+=s}}function O(e,t,f,r=1){const{data:o,indices:i}=e,s=t.typedBuffer,n=t.typedBufferStride,c=i.length;if(f*=n,1===r)for(let l=0;l<c;++l){const e=3*i[l];s[f]=o[e],s[f+1]=o[e+1],s[f+2]=o[e+2],f+=n}else for(let l=0;l<c;++l){const e=3*i[l];for(let t=0;t<r;++t)s[f]=o[e],s[f+1]=o[e+1],s[f+2]=o[e+2],f+=n}}function h(e,t,f,r=1){const{data:o,indices:i}=e,s=t.typedBuffer,n=t.typedBufferStride,c=i.length;if(f*=n,1===r)for(let l=0;l<c;++l){const e=4*i[l];s[f]=o[e],s[f+1]=o[e+1],s[f+2]=o[e+2],s[f+3]=o[e+3],f+=n}else for(let l=0;l<c;++l){const e=4*i[l];for(let t=0;t<r;++t)s[f]=o[e],s[f+1]=o[e+1],s[f+2]=o[e+2],s[f+3]=o[e+3],f+=n}}function F(e,t,f){const r=e.typedBuffer,o=e.typedBufferStride;t*=o;for(let i=0;i<f;++i)r[t]=0,r[t+1]=0,r[t+2]=0,r[t+3]=0,t+=o}function I(e,t,f){const{data:r,indices:o}=e,i=t.typedBuffer,s=t.typedBufferStride,n=o.length;f*=s;for(let c=0;c<n;++c){const e=9*o[c];for(let t=0;t<9;++t)i[f+t]=r[e+t];f+=s}}function T(e,t,f){const{data:r,indices:o}=e,i=t.typedBuffer,s=t.typedBufferStride,n=o.length;f*=s;for(let c=0;c<n;++c){const e=16*o[c];for(let t=0;t<16;++t)i[f+t]=r[e+t];f+=s}}function R(e,t,f,r,i=1){if(!t)return void O(e,f,r,i);const{data:s,indices:n}=e,c=f.typedBuffer,l=f.typedBufferStride,d=n.length,u=t[0],a=t[1],p=t[2],g=t[4],B=t[5],y=t[6],b=t[8],m=t[9],h=t[10],F=t[12],I=t[13],T=t[14];r*=l;let R=0,S=0,E=0;const N=o(t)?e=>{R=s[e]+F,S=s[e+1]+I,E=s[e+2]+T}:e=>{const t=s[e],f=s[e+1],r=s[e+2];R=u*t+g*f+b*r+F,S=a*t+B*f+m*r+I,E=p*t+y*f+h*r+T};if(1===i)for(let o=0;o<d;++o)N(3*n[o]),c[r]=R,c[r+1]=S,c[r+2]=E,r+=l;else for(let o=0;o<d;++o){N(3*n[o]);for(let e=0;e<i;++e)c[r]=R,c[r+1]=S,c[r+2]=E,r+=l}}function S(e,t,f,r,s=1){if(!t)return void O(e,f,r,s);const{data:n,indices:c}=e,l=t,d=f.typedBuffer,u=f.typedBufferStride,a=c.length,p=l[0],g=l[1],B=l[2],y=l[4],b=l[5],m=l[6],h=l[8],F=l[9],I=l[10],T=!i(l),R=1e-6,S=1-R;r*=u;let E=0,N=0,A=0;const v=o(l)?e=>{E=n[e],N=n[e+1],A=n[e+2]}:e=>{const t=n[e],f=n[e+1],r=n[e+2];E=p*t+y*f+h*r,N=g*t+b*f+F*r,A=B*t+m*f+I*r};if(1===s)if(T)for(let o=0;o<a;++o){v(3*c[o]);const e=E*E+N*N+A*A;if(e<S&&e>R){const t=1/Math.sqrt(e);d[r]=E*t,d[r+1]=N*t,d[r+2]=A*t}else d[r]=E,d[r+1]=N,d[r+2]=A;r+=u}else for(let o=0;o<a;++o)v(3*c[o]),d[r]=E,d[r+1]=N,d[r+2]=A,r+=u;else for(let o=0;o<a;++o){if(v(3*c[o]),T){const e=E*E+N*N+A*A;if(e<S&&e>R){const t=1/Math.sqrt(e);E*=t,N*=t,A*=t}}for(let e=0;e<s;++e)d[r]=E,d[r+1]=N,d[r+2]=A,r+=u}}function E(e,t,f,r,o=1){if(!t)return void h(e,f,r,o);const{data:s,indices:n}=e,c=t,l=f.typedBuffer,d=f.typedBufferStride,u=n.length,a=c[0],p=c[1],g=c[2],B=c[4],y=c[5],b=c[6],m=c[8],O=c[9],F=c[10],I=!i(c),T=1e-6,R=1-T;if(r*=d,1===o)for(let i=0;i<u;++i){const e=4*n[i],t=s[e],f=s[e+1],o=s[e+2],c=s[e+3];let u=a*t+B*f+m*o,h=p*t+y*f+O*o,S=g*t+b*f+F*o;if(I){const e=u*u+h*h+S*S;if(e<R&&e>T){const t=1/Math.sqrt(e);u*=t,h*=t,S*=t}}l[r]=u,l[r+1]=h,l[r+2]=S,l[r+3]=c,r+=d}else for(let i=0;i<u;++i){const e=4*n[i],t=s[e],f=s[e+1],c=s[e+2],u=s[e+3];let h=a*t+B*f+m*c,S=p*t+y*f+O*c,E=g*t+b*f+F*c;if(I){const e=h*h+S*S+E*E;if(e<R&&e>T){const t=1/Math.sqrt(e);h*=t,S*=t,E*=t}}for(let i=0;i<o;++i)l[r]=h,l[r+1]=S,l[r+2]=E,l[r+3]=u,r+=d}}function N(e,t,f,r,o=1){const{data:i,indices:s}=e,n=f.typedBuffer,c=f.typedBufferStride,l=s.length;if(r*=c,t!==i.length||4!==t)if(1!==o)if(4!==t)for(let d=0;d<l;++d){const e=3*s[d];for(let t=0;t<o;++t)n[r]=i[e],n[r+1]=i[e+1],n[r+2]=i[e+2],n[r+3]=255,r+=c}else for(let d=0;d<l;++d){const e=4*s[d];for(let t=0;t<o;++t)n[r]=i[e],n[r+1]=i[e+1],n[r+2]=i[e+2],n[r+3]=i[e+3],r+=c}else{if(4===t){for(let e=0;e<l;++e){const t=4*s[e];n[r]=i[t],n[r+1]=i[t+1],n[r+2]=i[t+2],n[r+3]=i[t+3],r+=c}return}for(let e=0;e<l;++e){const t=3*s[e];n[r]=i[t],n[r+1]=i[t+1],n[r+2]=i[t+2],n[r+3]=255,r+=c}}else{n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3];const e=new Uint32Array(f.typedBuffer.buffer,f.start),t=c/4,s=e[r/=4];r+=t;const d=l*o;for(let f=1;f<d;++f)e[r]=s,r+=t}}function A(e,t,f){const{data:r,indices:o}=e,i=t.typedBuffer,s=t.typedBufferStride,n=o.length,c=r[0];f*=s;for(let l=0;l<n;++l)i[f]=c,f+=s}function v(r,o,i,s){e(w,r,o);const n=Math.max(Math.sqrt(t(w)),1e-4);f(w,w,1/n),i[s++]=w[0],i[s++]=w[1],i[s++]=w[2],i[s++]=n}const w=r();function L(e,t,f,r,o=1){const i=t.typedBuffer,s=t.typedBufferStride;if(r*=s,1===o)for(let n=0;n<f;++n)i[r]=e[0],i[r+1]=e[1],i[r+2]=e[2],i[r+3]=e[3],r+=s;else for(let n=0;n<f;++n)for(let t=0;t<o;++t)i[r]=e[0],i[r+1]=e[1],i[r+2]=e[2],i[r+3]=e[3],r+=s}function k(e,t,f,r,o,i,n){let c={numItems:0,numVerticesPerItem:0};for(const l of f.fields.keys()){const f=e.get(l),d=f?.indices;if(f&&d)l===y.POSITION&&(c={numItems:1,numVerticesPerItem:d.length}),z(l,f,r,o,i,n);else if(l===y.OLIDCOLOR&&null!=t){const f=e.get(y.POSITION)?.indices;if(f){const e=f.length;L(t,i.getField(l,s),e,n)}}}return c}function z(e,t,f,r,o,i){switch(e){case y.POSITION:{B(3===t.size);const r=o.getField(e,c);B(!!r,`No buffer view for ${e}`),R(t,f,r,i);break}case y.NORMAL:{B(3===t.size);const f=o.getField(e,c);B(!!f,`No buffer view for ${e}`),S(t,r,f,i);break}case y.NORMALCOMPRESSED:case y.PROFILERIGHT:case y.PROFILEUP:{B(2===t.size);const f=o.getField(e,a);B(!!f,`No buffer view for ${e}`),m(t,f,i);break}case y.UV0:{B(2===t.size);const f=o.getField(e,p)??o.getField(e,g);B(!!f,`No buffer view for ${e}`),m(t,f,i);break}case y.UVI:{B(2===t.size);const f=o.getField(e,a);B(!!f,`No buffer view for ${e}`),m(t,f,i);break}case y.COLOR:case y.SYMBOLCOLOR:{const f=o.getField(e,s);B(!!f,`No buffer view for ${e}`),B(3===t.size||4===t.size),N(t,t.size,f,i);break}case y.COLORFEATUREATTRIBUTE:case y.OPACITYFEATUREATTRIBUTE:case y.SIZEFEATUREATTRIBUTE:{const f=o.getField(e,u)??o.getField(e,u);B(!!f,`No buffer view for ${e}`),B(1===t.size),A(t,f,i);break}case y.TANGENT:{B(4===t.size);const r=o.getField(e,d);B(!!r,`No buffer view for ${e}`),E(t,f,r,i);break}case y.PROFILEVERTEXANDNORMAL:{B(4===t.size);const f=o.getField(e,l)??o.getField(e,d);B(!!f,`No buffer view for ${e}`),h(t,f,i);break}case y.PROFILEAUXDATA:{B(3===t.size);const f=o.getField(e,n)??o.getField(e,c);B(!!f,`No buffer view for ${e}`),O(t,f,i);break}}}export{b as writeBufferFloat,I as writeBufferMat3f,T as writeBufferMat4f,m as writeBufferVec2,O as writeBufferVec3,h as writeBufferVec4,F as writeBufferVec4Zeros,N as writeColor,z as writeDefaultAttribute,k as writeDefaultAttributes,v as writeDeltaF16Vector,S as writeNormal,L as writeOlidColor,R as writePosition,E as writeTangent,A as writeVVFeatureAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../chunks/vec32.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{BufferViewVec3f as r}from\"../../../../geometry/support/buffer/BufferView.js\";import{intersectRenderGeometryTriangles as o}from\"../lib/RayIntersections.js\";import{VertexAttribute as i}from\"../lib/VertexAttribute.js\";import{writeDefaultAttributes as s}from\"./internal/bufferWriterUtils.js\";class f{constructor(e){this.vertexBufferLayout=e}elementCount(e){return e.get(i.POSITION).indices.length}write(e,t,r,o,i,f){return s(r,o,this.vertexBufferLayout,e,t,i,f)}intersect(t,s,f,n,c,m,l){const a=this.vertexBufferLayout.createView(t).getField(i.POSITION,r);if(null==a)return;const p=e(u,m,c),y=0,b=a.count/3,d=n.options.normalRequired,j=(e,t,r)=>{l(e,r,t)};o(c,p,y,b,a.typedBuffer,a.typedBufferStride,d,j)}}const u=t();export{f as DefaultBufferWriter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class o extends s{constructor(s,o){super(s,\"mat4\",r.Pass,((r,t,e)=>r.setUniformMatrix4fv(s,o(t,e))))}}export{o as Matrix4PassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{create as o}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{DoublePrecision as t}from\"../util/DoublePrecision.glsl.js\";import{Float3DrawUniform as a}from\"../../shaderModules/Float3DrawUniform.js\";import{Float3PassUniform as i}from\"../../shaderModules/Float3PassUniform.js\";import{glsl as m}from\"../../shaderModules/glsl.js\";import{Matrix3DrawUniform as s}from\"../../shaderModules/Matrix3DrawUniform.js\";import{Matrix3PassUniform as d}from\"../../shaderModules/Matrix3PassUniform.js\";import{Matrix4PassUniform as l}from\"../../shaderModules/Matrix4PassUniform.js\";import{VertexAttribute as n}from\"../../../lib/VertexAttribute.js\";import{NoParameters as f}from\"../../../../../webgl/NoParameters.js\";function v(r,o){const{attributes:e,vertex:f,varyings:v,fragment:F}=r;f.include(t,o),e.add(n.POSITION,\"vec3\"),v.add(\"vPositionWorldCameraRelative\",\"vec3\"),v.add(\"vPosition_view\",\"vec3\",{invariant:!0}),f.uniforms.add(new i(\"transformWorldFromViewTH\",(r=>r.transformWorldFromViewTH)),new i(\"transformWorldFromViewTL\",(r=>r.transformWorldFromViewTL)),new d(\"transformViewFromCameraRelativeRS\",(r=>r.transformViewFromCameraRelativeRS)),new l(\"transformProjFromView\",(r=>r.transformProjFromView)),new s(\"transformWorldFromModelRS\",(r=>r.transformWorldFromModelRS)),new a(\"transformWorldFromModelTH\",(r=>r.transformWorldFromModelTH)),new a(\"transformWorldFromModelTL\",(r=>r.transformWorldFromModelTL))),f.code.add(m`vec3 positionWorldCameraRelative() {\nvec3 rotatedModelPosition = transformWorldFromModelRS * position;\nvec3 transform_CameraRelativeFromModel = dpAdd(\ntransformWorldFromModelTL,\ntransformWorldFromModelTH,\n-transformWorldFromViewTL,\n-transformWorldFromViewTH\n);\nreturn transform_CameraRelativeFromModel + rotatedModelPosition;\n}`),f.code.add(m`\n    void forwardPosition(float fOffset) {\n      vPositionWorldCameraRelative = positionWorldCameraRelative();\n      if (fOffset != 0.0) {\n        vPositionWorldCameraRelative += fOffset * ${o.spherical?m`normalize(transformWorldFromViewTL + vPositionWorldCameraRelative)`:m`vec3(0.0, 0.0, 1.0)`};\n      }\n\n      vPosition_view = transformViewFromCameraRelativeRS * vPositionWorldCameraRelative;\n      gl_Position = transformProjFromView * vec4(vPosition_view, 1.0);\n    }\n  `),F.uniforms.add(new i(\"transformWorldFromViewTL\",(r=>r.transformWorldFromViewTL))),f.code.add(m`vec3 positionWorld() {\nreturn transformWorldFromViewTL + vPositionWorldCameraRelative;\n}`),F.code.add(m`vec3 positionWorld() {\nreturn transformWorldFromViewTL + vPositionWorldCameraRelative;\n}`)}class F extends f{constructor(){super(...arguments),this.transformWorldFromViewTH=e(),this.transformWorldFromViewTL=e(),this.transformViewFromCameraRelativeRS=r(),this.transformProjFromView=o()}}class w extends f{constructor(){super(...arguments),this.transformWorldFromModelRS=r(),this.transformWorldFromModelTH=e(),this.transformWorldFromModelTL=e()}}export{v as VertexPosition,w as VertexPositionDrawParameters,F as VertexPositionPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass t{constructor(t,o){this._module=t,this._load=o}get(){return this._module}async reload(){return this._module=await this._load(),this._module}}export{t as ReloadableShaderModule};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{webglDebugEnabled as t}from\"../../../webgl/checkWebGLError.js\";class r{constructor(t,r,e){this._context=t,this._locations=e,this._textures=new Map,this._glProgram=t.programCache.acquire(r.generate(\"vertex\",!0),r.generate(\"fragment\",!0),e),this._glProgram.stop=()=>{throw new Error(\"Wrapped _glProgram used directly\")},this.bind=r.generateBind(this),this.bindPass=r.generateBindPass(this),this.bindDraw=r.generateBindDraw(this)}dispose(){this._glProgram.dispose()}get glName(){return this._glProgram.glName}get hasTransformFeedbackVaryings(){return this._glProgram.hasTransformFeedbackVaryings}get compiled(){return this._glProgram.compiled}setUniform1b(t,r){this._glProgram.setUniform1i(t,r?1:0)}setUniform1i(t,r){this._glProgram.setUniform1i(t,r)}setUniform1f(t,r){this._glProgram.setUniform1f(t,r)}setUniform2fv(t,r){this._glProgram.setUniform2fv(t,r)}setUniform3fv(t,r){this._glProgram.setUniform3fv(t,r)}setUniform4fv(t,r){this._glProgram.setUniform4fv(t,r)}setUniformMatrix3fv(t,r){this._glProgram.setUniformMatrix3fv(t,r)}setUniformMatrix4fv(t,r){this._glProgram.setUniformMatrix4fv(t,r)}setUniform1fv(t,r){this._glProgram.setUniform1fv(t,r)}setUniform1iv(t,r){this._glProgram.setUniform1iv(t,r)}setUniform2iv(t,r){this._glProgram.setUniform2iv(t,r)}setUniform3iv(t,r){this._glProgram.setUniform3iv(t,r)}setUniform4iv(t,r){this._glProgram.setUniform4iv(t,r)}assertCompatibleVertexAttributeLocations(t){t.locations!==this._locations&&console.error(\"VertexAttributeLocations are incompatible\")}stop(){this._textures.clear()}bindTexture(r,e){e?.glName||(t()&&console.error(`Texture sampler ${r} has no given Texture in ${(new Error).stack} `),e=this._context.emptyTexture);const i=this._ensureTextureUnit(r,e);this._context.useProgram(this),this.setUniform1i(r,i.unit),this._context.bindTexture(e,i.unit)}_ensureTextureUnit(t,r){let e=this._textures.get(t);return null==e?(e={texture:r,unit:this._textures.size},this._textures.set(t,e)):e.texture=r,e}}export{r as Program};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Logger.js\";import{disposeMaybe as i}from\"../../../../../core/maybe.js\";import{isDepthOnlyOutput as r}from\"../shaderLibrary/ShaderOutput.js\";import{Default3D as t}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../../lib/Program.js\";import{PrimitiveType as s,SpecialDrawBuffers as n}from\"../../../../webgl/enums.js\";import{makePipelineState as a,defaultColorWrite as p,premultipliedAlpha as l}from\"../../../../webgl/renderState.js\";const m=()=>e.getLogger(\"esri.views.3d.webgl.ShaderTechnique\");class g{constructor(e,r,n,a=t){this.locations=a,this.primitiveType=s.TRIANGLES,this.key=r.key,this._program=new o(e.rctx,n.get().build(r),a),this._pipeline=this.initializePipeline(r),this.reload=async t=>{t&&await n.reload(),this.key.equals(r.key)||m().warn(\"Configuration was changed after construction, cannot reload shader.\",n),i(this._program),this._program=new o(e.rctx,n.get().build(r),a),this._pipeline=this.initializePipeline(r)}}destroy(){this._program=i(this._program),this._pipeline=null}get program(){return this._program}get compiled(){return this.program.compiled}ensureAttributeLocations(e){this.program.assertCompatibleVertexAttributeLocations(e)}getPipeline(e,i){return this._pipeline}initializePipeline(e){return a({blending:l,colorWrite:p})}}function h(e,i){return r(e)?{buffers:[n.NONE]}:i??null}export{g as ShaderTechnique,h as depthOnlyOutputBuffersOr};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{StencilBits as a}from\"./basicInterfaces.js\";import{StencilOperation as E,CompareFunction as n}from\"../../../webgl/enums.js\";const i={func:n.LESS},s={func:n.ALWAYS},e={mask:255},l={mask:0},t=a=>({function:{func:n.NOTEQUAL,ref:a,mask:a},operation:{fail:E.KEEP,zFail:E.KEEP,zPass:E.KEEP}}),u=a=>({function:{func:n.ALWAYS,ref:a,mask:a},operation:{fail:E.KEEP,zFail:E.KEEP,zPass:E.REPLACE}}),f={function:{func:n.ALWAYS,ref:a.OutlineVisualElementMask,mask:a.OutlineVisualElementMask},operation:{fail:E.KEEP,zFail:E.KEEP,zPass:E.ZERO}},o={function:{func:n.ALWAYS,ref:a.OutlineVisualElementMask,mask:a.OutlineVisualElementMask},operation:{fail:E.KEEP,zFail:E.KEEP,zPass:E.REPLACE}},P={function:{func:n.EQUAL,ref:a.OutlineVisualElementMask,mask:a.OutlineVisualElementMask},operation:{fail:E.KEEP,zFail:E.KEEP,zPass:E.KEEP}},m={function:{func:n.NOTEQUAL,ref:a.OutlineVisualElementMask,mask:a.OutlineVisualElementMask},operation:{fail:E.KEEP,zFail:E.KEEP,zPass:E.KEEP}};export{s as depthCompareAlways,i as depthCompareLess,t as renderWhenBitIsNotSet,u as replaceBitWhenDepthTestPasses,f as stencilBaseAllZerosParams,o as stencilToolMaskBaseParams,P as stencilToolMaskOccluderParams,m as stencilToolTransparentOccluderParams,l as stencilWriteMaskOff,e as stencilWriteMaskOn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"vec2\",r.Bind,((r,s)=>r.setUniform2fv(e,o(s))))}}export{o as Float2BindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"./ShaderOutput.js\";import{VertexPosition as a}from\"./attributes/VertexPosition.glsl.js\";import{Float2BindUniform as r}from\"../shaderModules/Float2BindUniform.js\";import{glsl as o}from\"../shaderModules/glsl.js\";function i(e){e.varyings.add(\"linearDepth\",\"float\",{invariant:!0})}function t(e){e.vertex.uniforms.add(new r(\"nearFar\",(e=>e.camera.nearFar)))}function n(e){e.vertex.code.add(o`float calculateLinearDepth(vec2 nearFar,float z) {\nreturn (-z - nearFar[0]) / (nearFar[1] - nearFar[0]);\n}`)}function d(r,d){const{vertex:s}=r;switch(d.output){case e.Color:case e.ColorEmission:if(d.receiveShadows)return i(r),void s.code.add(o`void forwardLinearDepth() { linearDepth = gl_Position.w; }`);break;case e.Shadow:case e.ShadowHighlight:case e.ShadowExcludeHighlight:case e.ViewshedShadow:return r.include(a,d),i(r),t(r),n(r),void s.code.add(o`void forwardLinearDepth() {\nlinearDepth = calculateLinearDepth(nearFar, vPosition_view.z);\n}`)}s.code.add(o`void forwardLinearDepth() {}`)}export{d as ForwardLinearDepth,n as addCalculateLinearDepth,i as addLinearDepth,t as addNearFar};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{translate as e}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as s}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{f as i,t as a,d as l,i as c}from\"../../../../../chunks/vec32.js\";import{ZEROS as n,create as o}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Float3DrawUniform as r}from\"../shaderModules/Float3DrawUniform.js\";import{Float3PassUniform as t}from\"../shaderModules/Float3PassUniform.js\";import{glsl as f}from\"../shaderModules/glsl.js\";import{NoParameters as d}from\"../../../../webgl/NoParameters.js\";class u extends d{constructor(e){super(),this.slicePlaneLocalOrigin=e}}function P(e,s){B(e,s,new t(\"slicePlaneOrigin\",((e,i)=>g(s,e,i))),new t(\"slicePlaneBasis1\",((e,i)=>y(s,e,i,i.slicePlane?.basis1))),new t(\"slicePlaneBasis2\",((e,i)=>y(s,e,i,i.slicePlane?.basis2))))}function p(e,s){B(e,s,new r(\"slicePlaneOrigin\",((e,i)=>g(s,e,i))),new r(\"slicePlaneBasis1\",((e,i)=>y(s,e,i,i.slicePlane?.basis1))),new r(\"slicePlaneBasis2\",((e,i)=>y(s,e,i,i.slicePlane?.basis2))))}function m(e,s){v(e,s,new r(\"slicePlaneOrigin\",((e,i)=>g(s,e,i))),new r(\"slicePlaneBasis1\",((e,i)=>y(s,e,i,i.slicePlane?.basis1))),new r(\"slicePlaneBasis2\",((e,i)=>y(s,e,i,i.slicePlane?.basis2))))}const b=f`struct SliceFactors {\nfloat front;\nfloat side0;\nfloat side1;\nfloat side2;\nfloat side3;\n};\nSliceFactors calculateSliceFactors(vec3 pos) {\nvec3 rel = pos - slicePlaneOrigin;\nvec3 slicePlaneNormal = -cross(slicePlaneBasis1, slicePlaneBasis2);\nfloat slicePlaneW = -dot(slicePlaneNormal, slicePlaneOrigin);\nfloat basis1Len2 = dot(slicePlaneBasis1, slicePlaneBasis1);\nfloat basis2Len2 = dot(slicePlaneBasis2, slicePlaneBasis2);\nfloat basis1Dot = dot(slicePlaneBasis1, rel);\nfloat basis2Dot = dot(slicePlaneBasis2, rel);\nreturn SliceFactors(\ndot(slicePlaneNormal, pos) + slicePlaneW,\n-basis1Dot - basis1Len2,\nbasis1Dot - basis1Len2,\n-basis2Dot - basis2Len2,\nbasis2Dot - basis2Len2\n);\n}\nbool sliceByFactors(SliceFactors factors) {\nreturn factors.front < 0.0\n&& factors.side0 < 0.0\n&& factors.side1 < 0.0\n&& factors.side2 < 0.0\n&& factors.side3 < 0.0;\n}\nbool sliceEnabled() {\nreturn dot(slicePlaneBasis1, slicePlaneBasis1) != 0.0;\n}\nbool sliceByPlane(vec3 pos) {\nreturn sliceEnabled() && sliceByFactors(calculateSliceFactors(pos));\n}\nbool rejectBySlice(vec3 pos) {\nreturn sliceByPlane(pos);\n}`;function v(e,s,...i){s.hasSlicePlane?(e.uniforms.add(...i),e.code.add(b)):e.code.add(\"bool rejectBySlice(vec3 pos) { return false; }\")}function B(e,s,...i){v(e,s,...i),s.hasSlicePlane?e.code.add(\"\\n    void discardBySlice(vec3 pos) {\\n      if (sliceByPlane(pos)) {\\n        discard;\\n      }\\n    }\\n\\n    vec4 applySliceOutline(vec4 color, vec3 pos) {\\n      SliceFactors factors = calculateSliceFactors(pos);\\n\\n      factors.front /= 2.0 * fwidth(factors.front);\\n      factors.side0 /= 2.0 * fwidth(factors.side0);\\n      factors.side1 /= 2.0 * fwidth(factors.side1);\\n      factors.side2 /= 2.0 * fwidth(factors.side2);\\n      factors.side3 /= 2.0 * fwidth(factors.side3);\\n\\n      // return after calling fwidth, to avoid aliasing caused by discontinuities in the input to fwidth\\n      if (sliceByFactors(factors)) {\\n        return color;\\n      }\\n\\n      float outlineFactor = (1.0 - step(0.5, factors.front))\\n        * (1.0 - step(0.5, factors.side0))\\n        * (1.0 - step(0.5, factors.side1))\\n        * (1.0 - step(0.5, factors.side2))\\n        * (1.0 - step(0.5, factors.side3));\\n\\n      return mix(color, vec4(vec3(0.0), color.a), outlineFactor * 0.3);\\n    }\\n\\n    vec4 applySlice(vec4 color, vec3 pos) {\\n      return sliceEnabled() ? applySliceOutline(color, pos) : color;\\n    }\\n  \"):e.code.add(f`void discardBySlice(vec3 pos) { }\nvec4 applySlice(vec4 color, vec3 pos) { return color; }`)}function w(e,s,i){return e.instancedDoublePrecision?c(F,i.camera.viewInverseTransposeMatrix[3],i.camera.viewInverseTransposeMatrix[7],i.camera.viewInverseTransposeMatrix[11]):s.slicePlaneLocalOrigin}function S(e,s){return null!=e?l(x,s.origin,e):s.origin}function h(s,i,a){return s.hasSliceTranslatedView?null!=i?e(O,a.camera.viewMatrix,i):a.camera.viewMatrix:null}function g(e,s,i){if(null==i.slicePlane)return n;const l=w(e,s,i),c=S(l,i.slicePlane),o=h(e,l,i);return null!=o?a(x,c,o):c}function y(e,s,c,o){if(null==o||null==c.slicePlane)return n;const r=w(e,s,c),t=S(r,c.slicePlane),f=h(e,r,c);return null!=f?(i(j,o,t),a(x,t,f),a(j,j,f),l(j,j,x)):o}const F=o(),x=o(),j=o(),O=s();export{m as RejectBySlice,p as SliceDraw,P as SlicePass,u as SlicePlaneParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{addCalculateLinearDepth as e}from\"./ForwardLinearDepth.glsl.js\";import{glsl as r}from\"../shaderModules/glsl.js\";function o(o){e(o),o.vertex.code.add(r`vec4 transformPositionWithDepth(mat4 proj, mat4 view, vec3 pos, vec2 nearFar, out float depth) {\nvec4 eye = view * vec4(pos, 1.0);\ndepth = calculateLinearDepth(nearFar,eye.z);\nreturn proj * eye;\n}`),o.vertex.code.add(r`vec4 transformPosition(mat4 proj, mat4 view, vec3 pos) {\nreturn proj * (view * vec4(pos, 1.0));\n}`)}export{o as Transform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"vec3\",r.Bind,((r,s)=>r.setUniform3fv(e,o(s))))}}export{o as Float3BindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as o}from\"../../../../webgl/Uniform.js\";class t extends o{constructor(o,t){super(o,\"mat4\",r.Draw,((r,e,s)=>r.setUniformMatrix4fv(o,t(e,s))))}}export{t as Matrix4DrawUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{translate as r}from\"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as e}from\"../../../../../../chunks/vec32.js\";import{ZEROS as o,create as a}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Float3BindUniform as n}from\"../../shaderModules/Float3BindUniform.js\";import{Float3DrawUniform as s}from\"../../shaderModules/Float3DrawUniform.js\";import{FloatBindUniform as t}from\"../../shaderModules/FloatBindUniform.js\";import{Matrix4BindUniform as m}from\"../../shaderModules/Matrix4BindUniform.js\";import{Matrix4DrawUniform as c}from\"../../shaderModules/Matrix4DrawUniform.js\";function d(r,i){i.instancedDoublePrecision?r.constants.add(\"cameraPosition\",\"vec3\",o):r.uniforms.add(new s(\"cameraPosition\",((r,i)=>e(v,i.camera.viewInverseTransposeMatrix[3]-r.origin[0],i.camera.viewInverseTransposeMatrix[7]-r.origin[1],i.camera.viewInverseTransposeMatrix[11]-r.origin[2]))))}function f(i,o){if(!o.instancedDoublePrecision)return void i.uniforms.add(new m(\"proj\",(r=>r.camera.projectionMatrix)),new c(\"view\",((i,e)=>r(l,e.camera.viewMatrix,i.origin))),new s(\"localOrigin\",(r=>r.origin)));const a=({camera:r})=>e(v,r.viewInverseTransposeMatrix[3],r.viewInverseTransposeMatrix[7],r.viewInverseTransposeMatrix[11]);i.uniforms.add(new m(\"proj\",(r=>r.camera.projectionMatrix)),new m(\"view\",(i=>r(l,i.camera.viewMatrix,a(i)))),new n(\"localOrigin\",(r=>a(r))))}const l=i(),v=a();function p(r){r.uniforms.add(new m(\"viewNormal\",(r=>r.camera.viewInverseTransposeMatrix)))}function w(r){r.uniforms.add(new t(\"pixelRatio\",(r=>r.camera.pixelRatio/r.overlayStretch)))}export{d as addCameraPosition,w as addPixelRatio,f as addProjViewLocalOrigin,p as addViewNormal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nfunction t(t,n,o){for(let r=0;r<o;++r)n[2*r]=t[r],n[2*r+1]=t[r]-n[2*r]}function n(t,n,o){for(let r=0;r<o;++r)n[r]=t[2*r]+t[2*r+1]}function o(t,n){const o=t.length;for(let r=0;r<o;++r)e[0]=t[r],n[r]=e[0];return n}function r(t,n){const o=t.length;for(let r=0;r<o;++r)e[0]=t[r],e[1]=t[r]-e[0],n[r]=e[1];return n}const e=new Float32Array(2);export{n as decodeDoubleArray,t as encodeDoubleArray,o as encodeDoubleHi,r as encodeDoubleLo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class o extends s{constructor(s,o){super(s,\"int\",r.Pass,((r,e,t)=>r.setUniform1i(s,o(e,t))))}}export{o as IntegerPassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/glsl.js\";import{VertexAttribute as r}from\"../../../lib/VertexAttribute.js\";function e(e,d){d.hasVertexColors?(e.attributes.add(r.COLOR,\"vec4\"),e.varyings.add(\"vColor\",\"vec4\"),e.vertex.code.add(o`void forwardVertexColor() { vColor = color; }`),e.vertex.code.add(o`void forwardNormalizedVertexColor() { vColor = color * 0.003921568627451; }`)):e.vertex.code.add(o`void forwardVertexColor() {}\nvoid forwardNormalizedVertexColor() {}`)}export{e as VertexColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{i as e}from\"../../../../../../chunks/vec32.js\";import{create as a}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Float3PassUniform as r}from\"../../shaderModules/Float3PassUniform.js\";import{glsl as c}from\"../../shaderModules/glsl.js\";function s(e){e.vertex.code.add(c`float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {\nreturn absCosAngle * absCosAngle * absCosAngle;\n}`),e.vertex.code.add(c`vec3 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec3 params) {\nreturn vec3(\nmin(params.x / (distanceToCamera - params.y), 1.0),\nscreenSizePerspectiveViewAngleDependentFactor(absCosAngle),\nparams.z\n);\n}`),e.vertex.code.add(c`float applyScreenSizePerspectiveScaleFactorFloat(float size, vec3 factor) {\nreturn mix(size * clamp(factor.x, factor.z, 1.0), size, factor.y);\n}`),e.vertex.code.add(c`float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec3 params) {\nreturn applyScreenSizePerspectiveScaleFactorFloat(\nsize,\nscreenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)\n);\n}`),e.vertex.code.add(c`vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec3 factor) {\nreturn mix(size * clamp(factor.x, factor.z, 1.0), size, factor.y);\n}`),e.vertex.code.add(c`vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec3 params) {\nreturn applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));\n}`)}function t(e){e.uniforms.add(new r(\"screenSizePerspective\",(e=>i(e.screenSizePerspective))))}function o(e){e.uniforms.add(new r(\"screenSizePerspectiveAlignment\",(e=>i(e.screenSizePerspectiveAlignment||e.screenSizePerspective))))}function i(a){return e(n,a.parameters.divisor,a.parameters.offset,a.minScaleFactor)}const n=a();export{s as ScreenSizePerspective,t as addScreenSizePerspective,o as addScreenSizePerspectiveAlignment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class e extends s{constructor(s,e){super(s,\"vec4\",r.Pass,((r,o,t)=>r.setUniform4fv(s,e(o,t))))}}export{e as Float4PassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{s as e}from\"../../../../../../chunks/vec42.js\";import{create as r}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ScreenSizePerspective as l,addScreenSizePerspectiveAlignment as t}from\"../util/ScreenSizePerspective.glsl.js\";import{addCameraPosition as o}from\"../util/View.glsl.js\";import{Float4PassUniform as c}from\"../../shaderModules/Float4PassUniform.js\";import{glsl as i}from\"../../shaderModules/glsl.js\";function s(e,r){const c=e.vertex;r.hasVerticalOffset?(f(c),r.hasScreenSizePerspective&&(e.include(l),t(c),o(e.vertex,r)),c.code.add(i`\n      vec3 calculateVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n        float viewDistance = length((view * vec4(worldPos, 1.0)).xyz);\n        ${r.spherical?i`vec3 worldNormal = normalize(worldPos + localOrigin);`:i`vec3 worldNormal = vec3(0.0, 0.0, 1.0);`}\n        ${r.hasScreenSizePerspective?i`\n            float cosAngle = dot(worldNormal, normalize(worldPos - cameraPosition));\n            float verticalOffsetScreenHeight = screenSizePerspectiveScaleFloat(verticalOffset.x, abs(cosAngle), viewDistance, screenSizePerspectiveAlignment);`:i`\n            float verticalOffsetScreenHeight = verticalOffset.x;`}\n        // Screen sized offset in world space, used for example for line callouts\n        float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * viewDistance, verticalOffset.z, verticalOffset.w);\n        return worldNormal * worldOffset;\n      }\n\n      vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n        return worldPos + calculateVerticalOffset(worldPos, localOrigin);\n      }\n    `)):c.code.add(i`vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) { return worldPos; }`)}const a=r();function f(r){r.uniforms.add(new c(\"verticalOffset\",((r,l)=>{const{minWorldLength:t,maxWorldLength:o,screenLength:c}=r.verticalOffset,i=Math.tan(.5*l.camera.fovY)/(.5*l.camera.fullViewport[3]),s=l.camera.pixelRatio||1;return e(a,c*s,i,t,o)})))}export{s as VerticalOffset,f as addVerticalOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as o}from\"../ShaderOutput.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";import{VertexAttribute as d}from\"../../../lib/VertexAttribute.js\";function e(e,t){if(t.output!==o.ObjectAndLayerIdColor)return e.vertex.code.add(r`void forwardObjectAndLayerIdColor() {}`),void e.fragment.code.add(r`void outputObjectAndLayerIdColor() {}`);const a=t.objectAndLayerIdColorInstanced;e.varyings.add(\"objectAndLayerIdColorVarying\",\"vec4\"),e.attributes.add(a?d.INSTANCEOBJECTANDLAYERIDCOLOR:d.OLIDCOLOR,\"vec4\"),e.vertex.code.add(r`\n    void forwardObjectAndLayerIdColor() {\n      objectAndLayerIdColorVarying = ${a?\"instanceObjectAndLayerIdColor\":\"objectAndLayerIdColor\"} * 0.003921568627451;\n    }`),e.fragment.code.add(r`void outputObjectAndLayerIdColor() {\nfragColor = objectAndLayerIdColorVarying;\n}`)}export{e as ObjectAndLayerIdColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/glsl.js\";function l(l){const{fragment:t}=l;t.code.add(e`uint readChannelBits(uint channel, int highlightLevel) {\nint llc = (highlightLevel & 3) << 1;\nreturn (channel >> llc) & 3u;\n}\nuint readChannel(uvec2 texel, int highlightLevel) {\nint lic = (highlightLevel >> 2) & 1;\nreturn texel[lic];\n}\nuint readLevelBits(uvec2 texel, int highlightLevel) {\nreturn readChannelBits(readChannel(texel, highlightLevel), highlightLevel);\n}`)}export{l as HighlightReadBitmap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"ivec2\",r.Bind,((r,i)=>r.setUniform2iv(e,o(i))))}}export{o as Integer2BindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as o}from\"../../../../webgl/Uniform.js\";class e extends o{constructor(o,e){super(o,\"int\",r.Bind,((r,i)=>r.setUniform1i(o,e(i))))}}export{e as IntegerBindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"sampler2D\",r.Bind,((r,s)=>r.bindTexture(e,o(s))))}}export{o as Texture2DBindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"usampler2D\",r.Bind,((r,s)=>r.bindTexture(e,o(s))))}}export{o as Texture2DUintBindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{HighlightReadBitmap as i}from\"../HighlightReadBitmap.glsl.js\";import{ShaderOutput as e}from\"../ShaderOutput.js\";import{glsl as t}from\"../../shaderModules/glsl.js\";import{Integer2BindUniform as h}from\"../../shaderModules/Integer2BindUniform.js\";import{IntegerBindUniform as g}from\"../../shaderModules/IntegerBindUniform.js\";import{Texture2DBindUniform as l}from\"../../shaderModules/Texture2DBindUniform.js\";import{Texture2DUintBindUniform as d}from\"../../shaderModules/Texture2DUintBindUniform.js\";function o(o,u){const{fragment:r}=o,{output:c,draped:n,hasHighlightMixTexture:s}=u;c===e.Highlight?(r.uniforms.add(new g(\"highlightLevel\",(i=>i.highlightLevel??0)),new h(\"highlightMixOrigin\",(i=>i.highlightMixOrigin))),o.outputs.add(\"fragHighlight\",\"uvec2\",0),o.include(i),s?r.uniforms.add(new d(\"highlightMixTexture\",(i=>i.highlightMixTexture))).code.add(t`uvec2 getAccumulatedHighlight() {\nreturn texelFetch(highlightMixTexture, ivec2(gl_FragCoord.xy) - highlightMixOrigin, 0).rg;\n}\nvoid outputHighlight(bool occluded) {\nif (highlightLevel == 0) {\nuint bits = occluded ? 3u : 1u;\nfragHighlight = uvec2(bits, 0);\n} else {\nint ll = (highlightLevel & 3) << 1;\nint li = (highlightLevel >> 2) & 3;\nuint bits;\nif (occluded) {\nbits = 3u << ll;\n} else {\nbits = 1u << ll;\n}\nuvec2 combinedHighlight = getAccumulatedHighlight();\ncombinedHighlight[li] |= bits;\nfragHighlight = combinedHighlight;\n}\n}`):r.code.add(t`void outputHighlight(bool occluded) {\nuint bits = occluded ? 3u : 1u;\nfragHighlight = uvec2(bits, 0);\n}`),n?r.code.add(t`bool isHighlightOccluded() {\nreturn false;\n}`):r.uniforms.add(new l(\"depthTexture\",(i=>i.mainDepth))).code.add(t`bool isHighlightOccluded() {\nfloat sceneDepth = texelFetch(depthTexture, ivec2(gl_FragCoord.xy), 0).x;\nreturn gl_FragCoord.z > sceneDepth + 5e-7;\n}`),r.code.add(t`void calculateOcclusionAndOutputHighlight() {\noutputHighlight(isHighlightOccluded());\n}`)):r.code.add(t`void calculateOcclusionAndOutputHighlight() {}`)}export{o as OutputHighlight};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class e extends s{constructor(s,e,o){super(s,\"vec4\",r.Pass,((r,o,t)=>r.setUniform4fv(s,e(o,t))),o)}}export{e as Float4sPassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as o}from\"../../../../webgl/BindType.js\";import{Uniform as r}from\"../../../../webgl/Uniform.js\";class s extends r{constructor(r,s,e){super(r,\"float\",o.Pass,((o,e,t)=>o.setUniform1fv(r,s(e,t))),e)}}export{s as FloatsPassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{clamp as e}from\"../../../../core/mathUtils.js\";import{fromMat4 as t}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{identity as i,copy as n,set as s,multiply as r,scale as l,translate as a,rotateZ as f,rotateX as c,rotateY as u}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as d,c as m}from\"../../../../chunks/vec32.js\";import{ones as z,zeros as v,create as h}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c as S}from\"../../../../chunks/vec42.js\";import{ones as y}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{meterIn as b}from\"../../../../renderers/support/lengthUtils.js\";import{isString as x,isStringOrNull as g,isNumber as C}from\"../../../../support/guards.js\";import{debugFlags as k}from\"../../support/debugFlags.js\";import{olidEnabled as D}from\"../../webgl-engine/effects/geometry/olidUtils.js\";import{NoParameters as w}from\"../../../webgl/NoParameters.js\";var U,j;!function(e){e[e.Undefined=0]=\"Undefined\",e[e.DefinedSize=1]=\"DefinedSize\",e[e.DefinedScale=2]=\"DefinedScale\"}(U||(U={})),function(e){e[e.Undefined=0]=\"Undefined\",e[e.DefinedAngle=1]=\"DefinedAngle\"}(j||(j={}));class V{constructor(e){this.field=e}}class M extends V{constructor(e){super(e),this.minSize=[0,0,0],this.maxSize=[0,0,0],this.offset=[0,0,0],this.factor=[0,0,0],this.type=[U.Undefined,U.Undefined,U.Undefined],this.fallback=[0,0,0]}}class I extends V{constructor(e){super(e),this.colors=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.values=[0,0,0,0,0,0,0,0],this.fallback=[0,0,0,0]}}class A extends V{constructor(e,t=0){super(e),this.fallback=t,this.values=[0,0,0,0,0,0,0,0],this.opacityValues=[0,0,0,0,0,0,0,0]}}class N extends V{constructor(e){super(e),this.offset=[0,0,0],this.factor=[1,1,1],this.type=[0,0,0]}}class P{}function T(e){return null!=e}function F(e,t){e&&e.push(t)}function R(e,t,o,i=p()){const n=e||0,s=t||0,r=o||0;return 0!==n&&f(i,i,-n/180*Math.PI),0!==s&&c(i,i,s/180*Math.PI),0!==r&&u(i,i,r/180*Math.PI),i}function E(e,t,o,i,n){const s=e.minSize,r=e.maxSize;if(e.useSymbolValue){const e=i.symbolSize[o];return t.minSize[o]=e,t.maxSize[o]=e,t.offset[o]=t.minSize[o],t.factor[o]=0,t.type[o]=U.DefinedSize,!0}if(T(e.field))return T(e.stops)?2===e.stops.length&&C(e.stops[0].size)&&C(e.stops[1].size)?(_(e.stops[0].size,e.stops[1].size,e.stops[0].value,e.stops[1].value,t,o),t.type[o]=U.DefinedSize,!0):(F(n,\"Could not convert size info: stops only supported with 2 elements\"),!1):C(s)&&C(r)&&T(e.minDataValue)&&T(e.maxDataValue)?(_(s,r,e.minDataValue,e.maxDataValue,t,o),t.type[o]=U.DefinedSize,!0):\"unknown\"===e.valueUnit?(F(n,\"Could not convert size info: proportional size not supported\"),!1):null!=b[e.valueUnit]?(t.minSize[o]=-1/0,t.maxSize[o]=1/0,t.offset[o]=0,t.factor[o]=1/b[e.valueUnit],t.type[o]=U.DefinedSize,!0):(F(n,\"Could not convert size info: scale-dependent size not supported\"),!1);if(!T(e.field)){if(e.stops?.[0]&&C(e.stops[0].size))return t.minSize[o]=e.stops[0].size,t.maxSize[o]=e.stops[0].size,t.offset[o]=t.minSize[o],t.factor[o]=0,t.type[o]=U.DefinedSize,!0;if(C(s))return t.minSize[o]=s,t.maxSize[o]=s,t.offset[o]=s,t.factor[o]=0,t.type[o]=U.DefinedSize,!0}return F(n,\"Could not convert size info: unsupported variant of sizeInfo\"),!1}function _(e,t,o,i,n,s){const r=Math.abs(i-o)>0?(t-e)/(i-o):0;n.minSize[s]=r>0?e:t,n.maxSize[s]=r>0?t:e,n.offset[s]=e-o*r,n.factor[s]=r}function q(e,t,o,i){if(e.normalizationField||e.valueRepresentation)return F(i,\"Could not convert size info: unsupported property\"),null;if(!g(e.field))return F(i,\"Could not convert size info: field is not a string\"),null;if(t.size){if(e.field)if(t.size.field){if(e.field!==t.size.field)return F(i,\"Could not convert size info: multiple fields in use\"),null}else t.size.field=e.field}else t.size=new M(e.field),m(t.size.fallback,o.fallbackSize);let n;switch(e.axis){case\"width\":return n=E(e,t.size,0,o,i),n?t:null;case\"height\":return n=E(e,t.size,2,o,i),n?t:null;case\"depth\":return n=E(e,t.size,1,o,i),n?t:null;case\"width-and-depth\":return n=E(e,t.size,0,o,i),n&&E(e,t.size,1,o,i),n?t:null;case null:case void 0:case\"all\":return n=E(e,t.size,0,o,i),n=n&&E(e,t.size,1,o,i),n=n&&E(e,t.size,2,o,i),n?t:null;default:return F(i,`Could not convert size info: unknown axis \"${e.axis}\"\"`),null}}function $(e,t,o){for(let n=0;n<3;++n){let o=t.unitInMeters;e.type[n]===U.DefinedSize&&(o*=t.modelSize[n],e.type[n]=U.DefinedScale),e.minSize[n]=e.minSize[n]/o,e.maxSize[n]=e.maxSize[n]/o,e.offset[n]=e.offset[n]/o,e.factor[n]=e.factor[n]/o}let i;if(e.type[0]!==U.Undefined)i=0;else if(e.type[1]!==U.Undefined)i=1;else{if(e.type[2]===U.Undefined)return F(o,\"No size axis contains a valid size or scale\"),!1;i=2}for(let n=0;n<3;++n)e.type[n]===U.Undefined&&(e.minSize[n]=e.minSize[i],e.maxSize[n]=e.maxSize[i],e.offset[n]=e.offset[i],e.factor[n]=e.factor[i],e.type[n]=e.type[i]);return!0}function B(e,t,o){e[4*t]=o.r/255,e[4*t+1]=o.g/255,e[4*t+2]=o.b/255,e[4*t+3]=o.a}function L(e,t,o,i){if(e.normalizationField)return F(i,\"Could not convert color info: unsupported property\"),null;if(x(e.field)){if(!e.stops)return F(i,\"Could not convert color info: missing stops or colors\"),null;{if(e.stops.length>8)return F(i,\"Could not convert color info: too many color stops\"),null;t.color=new I(e.field);const n=e.stops;for(let e=0;e<8;++e){const o=n[Math.min(e,n.length-1)];t.color.values[e]=o.value,B(t.color.colors,e,o.color)}S(t.color.fallback,o.fallbackColor)}}else{if(!(e.stops&&e.stops.length>=0))return F(i,\"Could not convert color info: no field and no colors/stops\"),null;{const i=e.stops&&e.stops.length>=0&&e.stops[0].color;t.color=new I(null);for(let e=0;e<8;e++)t.color.values[e]=1/0,B(t.color.colors,e,i);S(t.color.fallback,o.fallbackColor)}}return t}function O(e,t,o,i){if(e.normalizationField)return F(i,\"Could not convert opacity info: unsupported property\"),null;if(x(e.field)){if(!e.stops)return F(i,\"Could not convert opacity info: missing stops or opacities\"),null;{if(e.stops.length>8)return F(i,\"Could not convert opacity info: too many opacity stops\"),null;t.opacity=new A(e.field,o.fallbackColor[3]);const n=e.stops;for(let e=0;e<8;++e){const o=n[Math.min(e,n.length-1)];t.opacity.values[e]=o.value,t.opacity.opacityValues[e]=o.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return F(i,\"Could not convert opacity info: no field and no opacities/stops\"),null;{const i=e.stops&&e.stops.length>=0?e.stops[0].opacity:0;t.opacity={field:null,values:[0,0,0,0,0,0,0,0],opacityValues:[0,0,0,0,0,0,0,0],fallback:o.fallbackColor[3]};for(let e=0;e<8;e++)t.opacity.values[e]=1/0,t.opacity.opacityValues[e]=i}}return t}function G(e,t,o){const i=2===o&&\"arithmetic\"===e.rotationType;t.offset[o]=i?90:0,t.factor[o]=i?-1:1,t.type[o]=1}function H(e,t,o){if(!x(e.field))return F(o,\"Could not convert rotation info: field is not a string\"),null;if(t.rotation){if(e.field)if(t.rotation.field){if(e.field!==t.rotation.field)return F(o,\"Could not convert rotation info: multiple fields in use\"),null}else t.rotation.field=e.field}else t.rotation={field:e.field,offset:[0,0,0],factor:[1,1,1],type:[0,0,0]};switch(e.axis){case\"tilt\":return G(e,t.rotation,0),t;case\"roll\":return G(e,t.rotation,1),t;case null:case void 0:case\"heading\":return G(e,t.rotation,2),t;default:return F(o,`Could not convert rotation info: unknown axis \"${e.axis}\"\"`),null}}class J{constructor({supports:e,modelSize:t,symbolSize:o,unitInMeters:i,anchor:n,scale:s,rotation:r,fallbackColor:l,fallbackSize:a}){this.supports=e,this.modelSize=t??z(),this.symbolSize=o??z(),this.unitInMeters=i??1,this.anchor=n??v(),this.scale=s??z(),this.rotation=r??v(),this.fallbackColor=l??y(),this.fallbackSize=a??z()}}function K(e,t,o){if(!e)return null;const i=e.reduce(((e,i)=>{if(!e)return e;if(i.valueExpression)return F(o,\"Could not convert visual variables: arcade expressions not supported\"),null;switch(i.type){case\"size\":return t.supports.size?q(i,e,t,o):e;case\"color\":return t.supports.color?L(i,e,t,o):e;case\"opacity\":return t.supports.opacity?O(i,e,t,o):null;case\"rotation\":return t.supports.rotation?H(i,e,o):e;default:return null}}),new P);return!(e.length>0&&i)||i.size||i.color||i.opacity||i.rotation?i?.size&&!$(i.size,t,o)?null:i:null}class Q{constructor(e,t,o){this.visualVariables=e,this.materialParameters=t,this.requiresShaderTransformation=o}}function W(e,t){if(!e)return null;if(D())return null;if(k.TESTS_DISABLE_FAST_UPDATES)return null;const o=K(e.visualVariables,t);return o?new Q(o,ee(o,t),!!o.size):null}function X(e,t,o){if(!t||!e)return!1;const i=e.visualVariables,n=K(t.visualVariables,o);return!!n&&(!!(Y(i.size,n.size,\"size\")&&Y(i.color,n.color,\"color\")&&Y(i.rotation,n.rotation,\"rotation\")&&Y(i.opacity,n.opacity,\"opacity\"))&&(e.visualVariables=n,e.materialParameters=ee(n,o),e.requiresShaderTransformation=!!n.size,!0))}function Y(e,t,o){if(!!e!=!!t)return!1;if(e&&e.field!==t?.field)return!1;if(e&&\"rotation\"===o){const o=e,i=t;for(let e=0;e<3;e++)if(o.type[e]!==i.type[e]||o.offset[e]!==i.offset[e]||o.factor[e]!==i.factor[e])return!1}return!0}class Z extends w{constructor(e){super(),this.vvSize=e?.size??null,this.vvColor=e?.color??null,this.vvOpacity=e?.opacity??null}}function ee(e,n){const s=new Z(e);return s.vvSize&&(s.vvSymbolAnchor=n.anchor,i(re),R(n.rotation[2],n.rotation[0],n.rotation[1],re),s.vvSymbolRotationMatrix=s.vvSymbolRotationMatrix||o(),t(s.vvSymbolRotationMatrix,re)),s}function te(e,t,o){if(!e.vvSize)return o;n(ne,o);const i=e.vvSymbolRotationMatrix;return s(re,i[0],i[1],i[2],0,i[3],i[4],i[5],0,i[6],i[7],i[8],0,0,0,0,1),r(ne,ne,re),oe(se,e,t),l(ne,ne,se),a(ne,ne,e.vvSymbolAnchor),ne}function oe(t,o,i){if(!o.vvSize)return d(t,1,1,1),t;if(Number.isNaN(i[0]))return m(t,o.vvSize.fallback);for(let n=0;n<3;++n){const s=o.vvSize.offset[n]+i[0]*o.vvSize.factor[n];t[n]=e(s,o.vvSize.minSize[n],o.vvSize.maxSize[n])}return t}function ie(e,t){const o=null==e?0:t.attributes[e];return\"number\"==typeof o&&isFinite(o)?o:NaN}const ne=p(),se=h(),re=p();export{J as ConvertOptions,I as FastColorInfo,A as FastOpacityInfo,N as FastRotationInfo,j as FastRotationType,M as FastSizeInfo,U as FastSizeType,Q as FastSymbolUpdatesState,P as FastVisualVariables,Z as VisualVariablesParameters,K as convertVisualVariables,te as evaluateModelTransform,oe as evaluateModelTransformScale,ie as getAttributeValue,ee as getMaterialParameters,W as initFastSymbolUpdatesState,X as updateFastSymbolUpdatesState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{VisualVariablesParameters as s}from\"../../layers/support/FastSymbolUpdates.js\";import{RenderOccludedFlag as r}from\"../lib/Material.js\";class t extends s{constructor(){super(...arguments),this.renderOccluded=r.Occlude,this.isDecoration=!1}}const e=8;export{t as VisualVariablePassParameters,e as vvColorNumber};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Float3PassUniform as o}from\"../../shaderModules/Float3PassUniform.js\";import{Float4PassUniform as e}from\"../../shaderModules/Float4PassUniform.js\";import{Float4sPassUniform as r}from\"../../shaderModules/Float4sPassUniform.js\";import{FloatsPassUniform as v}from\"../../shaderModules/FloatsPassUniform.js\";import{glsl as t}from\"../../shaderModules/glsl.js\";import{Matrix3PassUniform as a}from\"../../shaderModules/Matrix3PassUniform.js\";import{VertexAttribute as i}from\"../../../lib/VertexAttribute.js\";import{vvColorNumber as l}from\"../../../materials/VisualVariablePassParameters.js\";function n(n,s){const{vertex:u,attributes:c}=n;s.hasVvInstancing&&(s.vvSize||s.vvColor)&&c.add(i.INSTANCEFEATUREATTRIBUTE,\"vec4\"),s.vvSize?(u.uniforms.add(new o(\"vvSizeMinSize\",(o=>o.vvSize.minSize))),u.uniforms.add(new o(\"vvSizeMaxSize\",(o=>o.vvSize.maxSize))),u.uniforms.add(new o(\"vvSizeOffset\",(o=>o.vvSize.offset))),u.uniforms.add(new o(\"vvSizeFactor\",(o=>o.vvSize.factor))),u.uniforms.add(new o(\"vvSizeFallback\",(o=>o.vvSize.fallback))),u.uniforms.add(new a(\"vvSymbolRotationMatrix\",(o=>o.vvSymbolRotationMatrix))),u.uniforms.add(new o(\"vvSymbolAnchor\",(o=>o.vvSymbolAnchor))),u.code.add(t`vec3 vvScale(vec4 _featureAttribute) {\nif (isnan(_featureAttribute.x)) {\nreturn vvSizeFallback;\n}\nreturn clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize);\n}\nvec4 vvTransformPosition(vec3 position, vec4 _featureAttribute) {\nreturn vec4(vvSymbolRotationMatrix * ( vvScale(_featureAttribute) * (position + vvSymbolAnchor)), 1.0);\n}`),u.code.add(t`\n      const float eps = 1.192092896e-07;\n      vec4 vvTransformNormal(vec3 _normal, vec4 _featureAttribute) {\n        vec3 scale = max(vvScale(_featureAttribute), eps);\n        return vec4(vvSymbolRotationMatrix * _normal / scale, 1.0);\n      }\n\n      ${s.hasVvInstancing?t`\n      vec4 vvLocalNormal(vec3 _normal) {\n        return vvTransformNormal(_normal, instanceFeatureAttribute);\n      }\n\n      vec4 localPosition() {\n        return vvTransformPosition(position, instanceFeatureAttribute);\n      }`:\"\"}\n    `)):u.code.add(t`vec4 localPosition() { return vec4(position, 1.0); }\nvec4 vvLocalNormal(vec3 _normal) { return vec4(_normal, 1.0); }`),s.vvColor?(u.constants.add(\"vvColorNumber\",\"int\",l),u.uniforms.add(new v(\"vvColorValues\",(o=>o.vvColor.values),l),new r(\"vvColorColors\",(o=>o.vvColor.colors),l),new e(\"vvColorFallback\",(o=>o.vvColor.fallback))),u.code.add(t`\n      vec4 interpolateVVColor(float value) {\n        if (isnan(value)) {\n          return vvColorFallback;\n        }\n\n        if (value <= vvColorValues[0]) {\n          return vvColorColors[0];\n        }\n\n        for (int i = 1; i < vvColorNumber; ++i) {\n          if (vvColorValues[i] >= value) {\n            float f = (value - vvColorValues[i-1]) / (vvColorValues[i] - vvColorValues[i-1]);\n            return mix(vvColorColors[i-1], vvColorColors[i], f);\n          }\n        }\n        return vvColorColors[vvColorNumber - 1];\n      }\n\n      vec4 vvGetColor(vec4 featureAttribute) {\n        return interpolateVVColor(featureAttribute.y);\n      }\n\n      ${s.hasVvInstancing?t`\n            vec4 vvColor() {\n              return vvGetColor(instanceFeatureAttribute);\n            }`:\"vec4 vvColor() { return vec4(1.0); }\"}\n    `)):u.code.add(t`vec4 vvColor() { return vec4(1.0); }`)}export{n as VisualVariables};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst o=1/255.5;export{o as alphaCutoff};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class e extends s{constructor(s,e){super(s,\"vec2\",r.Pass,((r,o,t)=>r.setUniform2fv(s,e(o,t))))}}export{e as Float2PassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as o}from\"../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{computeTranslationToOriginAndRotation as e}from\"../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as r}from\"../../geometry/projection/projectBuffer.js\";var n,t;function a(o,e,n,t,a,l,c){return t=t||o.spatialReference,r(e,t,n,a,o.renderCoordsHelper.spatialReference,l,c)?a:null}function l(o,e,n,t,a,l,c){return l=l||o.spatialReference,r(e,o.renderCoordsHelper.spatialReference,n,t,l,a,c)?t:null}function c(r,n,t,a){return a||(a=o()),t=t||r.spatialReference,e(t,n,a,r.renderCoordsHelper.spatialReference)?a:null}!function(o){o.OPAQUE=\"opaque-color\",o.TRANSPARENT=\"transparent-color\",o.COMPOSITE=\"composite-color\",o.FINAL=\"final-color\"}(n||(n={})),function(o){o.SSAO=\"ssao\",o.LASERLINES=\"laserline-color\",o.ANTIALIASING=\"aa-color\",o.HIGHLIGHTS=\"highlight-color\",o.MAGNIFIER=\"magnifier-color\",o.OCCLUDED=\"occluded-color\",o.VIEWSHED=\"viewshed-color\",o.OPAQUE_TERRAIN=\"opaque-terrain-color\",o.OPAQUE_ENVIRONMENT=\"opaque-environment-color\",o.TRANSPARENT_ENVIRONMENT=\"transparent-environment-color\",o.FOCUSAREA=\"focusarea\",o.FOCUSAREA_COLOR=\"focusarea-color\"}(t||(t={}));export{t as InternalRenderCategory,n as RenderCategory,l as fromRenderCoordinates,c as renderCoordinateTransformAt,a as toRenderCoordinates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Error.js\";import{watch as i,initial as s}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{RenderCategory as d}from\"../webgl.js\";import{RenderRequestType as a}from\"../webgl-engine/lib/basicInterfaces.js\";let u=class extends r{constructor(e){super(e),this.view=null,this.consumes={required:[]},this.produces=d.COMPOSITE,this.requireGeometryDepth=!1,this._dirty=!0}initialize(){this.addHandles([i((()=>this.view.ready),(e=>{e&&this.view.stage?.renderer.addRenderNode(this)}),s)])}destroy(){this.view.stage?.renderer?.removeRenderNode(this)}precompile(){}render(){throw new t(\"RenderNode:render-function-not-implemented\",\"render() is not implemented.\")}get camera(){return this.view.state.camera.clone()}get sunLight(){return this.bindParameters.lighting.legacy}get gl(){return this.view.stage.renderView.renderingContext.gl}get techniques(){return this.view.stage.renderView.techniques}acquireOutputFramebuffer(){const e=this._frameBuffer?.getTexture()?.descriptor,r=this.view.stage.renderer.fboCache.acquire(e?.width??640,e?.height??480,this.produces);return r.fbo?.initializeAndBind(),r}bindRenderTarget(){return this._frameBuffer?.fbo?.initializeAndBind(),this._frameBuffer}requestRender(e){e===a.UPDATE&&this.view.stage?.renderView.requestRender(e),this._dirty=!0}resetWebGLState(){this.renderingContext.resetState(),this.renderingContext.bindFramebuffer(this._frameBuffer?.fbo)}get fboCache(){return this.view.stage.renderer.fboCache}get bindParameters(){return this.renderContext.bind}get renderingContext(){return this.view.stage.renderView.renderingContext}get renderContext(){return this.view.stage?.renderer.renderContext}updateAnimation(e){return!!this._dirty&&(this._dirty=!1,!0)}doRender(e){this._frameBuffer=e.find((({name:e})=>e===this.produces));try{return this.render(e)}finally{this._frameBuffer=null}}};e([n({constructOnly:!0})],u.prototype,\"view\",void 0),e([n({constructOnly:!0})],u.prototype,\"consumes\",void 0),e([n()],u.prototype,\"produces\",void 0),e([n({readOnly:!0})],u.prototype,\"techniques\",null),u=e([o(\"esri.views.3d.webgl.RenderNode\")],u);export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{PixelFormat as R,SizedPixelFormat as T,TextureWrapMode as E,TextureSamplingMode as N,PixelType as A,SizedDepthStencilFormat as M,SizedDepthFormat as O,UnsizedDepthFormat as n}from\"../../../webgl/enums.js\";import{TextureDescriptor as e}from\"../../../webgl/TextureDescriptor.js\";import{isSizedDepthFormat as t}from\"../../../webgl/textureUtils.js\";var o,_;!function(R){R[R.R8UNORM=0]=\"R8UNORM\",R[R.R8UINT=1]=\"R8UINT\",R[R.RG8UNORM=2]=\"RG8UNORM\",R[R.RG8UINT=3]=\"RG8UINT\",R[R.RGBA4UNORM=4]=\"RGBA4UNORM\",R[R.RGBA8UNORM=5]=\"RGBA8UNORM\",R[R.RGBA8UNORM_MIPMAP=6]=\"RGBA8UNORM_MIPMAP\",R[R.R16FLOAT=7]=\"R16FLOAT\",R[R.RGBA16FLOAT=8]=\"RGBA16FLOAT\",R[R.R32FLOAT=9]=\"R32FLOAT\",R[R.COUNT=10]=\"COUNT\"}(o||(o={})),function(R){R[R.DEPTH16=10]=\"DEPTH16\",R[R.DEPTH24_STENCIL8=11]=\"DEPTH24_STENCIL8\"}(_||(_={}));const a={[o.R8UNORM]:\"R8\",[o.R8UINT]:\"R8UI\",[o.R16FLOAT]:\"R16F\",[o.R32FLOAT]:\"R32F\",[o.RG8UNORM]:\"RG8\",[o.RG8UINT]:\"RG8UI\",[o.RGBA8UNORM]:\"RGBA8\",[o.RGBA4UNORM]:\"RGBA4\",[o.RGBA8UNORM_MIPMAP]:\"RGBA8_MM\",[o.RGBA16FLOAT]:\"RGBA16F\",[_.DEPTH16]:\"D16\",[_.DEPTH24_STENCIL8]:\"D24S8\"};function G(R){return R>=o.COUNT}const r=new e;r.pixelFormat=R.RED,r.internalFormat=T.R8,r.wrapMode=E.CLAMP_TO_EDGE;const F=new e;F.pixelFormat=R.RED_INTEGER,F.internalFormat=T.R8UI,F.wrapMode=E.CLAMP_TO_EDGE,F.samplingMode=N.NEAREST;const U=new e;U.pixelFormat=R.RG,U.internalFormat=T.RG8,U.wrapMode=E.CLAMP_TO_EDGE;const P=new e;P.pixelFormat=R.RG_INTEGER,P.internalFormat=T.RG8UI,P.wrapMode=E.CLAMP_TO_EDGE,P.samplingMode=N.NEAREST;const D=new e;D.internalFormat=T.RGBA4,D.dataType=A.UNSIGNED_SHORT_4_4_4_4,D.wrapMode=E.CLAMP_TO_EDGE;const I=new e;I.wrapMode=E.CLAMP_TO_EDGE;const L=new e;L.wrapMode=E.CLAMP_TO_EDGE,L.samplingMode=N.LINEAR_MIPMAP_LINEAR,L.hasMipmap=!0,L.maxAnisotropy=8;const p=new e;p.pixelFormat=R.RED,p.dataType=A.HALF_FLOAT,p.internalFormat=T.R16F,p.samplingMode=N.NEAREST;const i=new e;i.dataType=A.HALF_FLOAT,i.internalFormat=T.RGBA16F,i.wrapMode=E.CLAMP_TO_EDGE;const m=new e;m.pixelFormat=R.RED,m.dataType=A.FLOAT,m.internalFormat=T.R32F,m.samplingMode=N.NEAREST;const l={[o.R8UNORM]:r,[o.R8UINT]:F,[o.RG8UNORM]:U,[o.RG8UINT]:P,[o.RGBA4UNORM]:D,[o.RGBA8UNORM]:I,[o.RGBA8UNORM_MIPMAP]:L,[o.R16FLOAT]:p,[o.RGBA16FLOAT]:i,[o.R32FLOAT]:m,[o.COUNT]:null},s={[O.DEPTH_COMPONENT16]:A.UNSIGNED_SHORT,[O.DEPTH_COMPONENT24]:A.UNSIGNED_INT,[O.DEPTH_COMPONENT32F]:A.FLOAT,[M.DEPTH24_STENCIL8]:A.UNSIGNED_INT_24_8,[M.DEPTH32F_STENCIL8]:A.FLOAT_32_UNSIGNED_INT_24_8_REV},C={[_.DEPTH24_STENCIL8]:w(M.DEPTH24_STENCIL8),[_.DEPTH16]:w(O.DEPTH_COMPONENT16)};function w(R){const T=new e;return T.pixelFormat=t(R)?n.DEPTH_COMPONENT:n.DEPTH_STENCIL,T.dataType=s[R],T.samplingMode=N.NEAREST,T.wrapMode=E.CLAMP_TO_EDGE,T.internalFormat=R,T.hasMipmap=!1,T.isImmutable=!0,T}export{o as ColorFormat,l as ColorFormats,_ as DepthFormat,C as DepthTextureFormats,a as format2String,G as isDepthFormat};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../shaderModules/glsl.js\";import{VertexAttribute as i}from\"../../lib/VertexAttribute.js\";function e(e,o=!0){e.attributes.add(i.POSITION,\"vec2\"),o&&e.varyings.add(\"uv\",\"vec2\"),e.vertex.main.add(t`\n      gl_Position = vec4(position, 0.0, 1.0);\n      ${o?t`uv = position * 0.5 + vec2(0.5);`:\"\"}\n  `)}export{e as ScreenSpacePass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{set as e}from\"../../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{Float2BindUniform as r}from\"../../shaderModules/Float2BindUniform.js\";import{glsl as o}from\"../../shaderModules/glsl.js\";function d(e){e.uniforms.add(new r(\"zProjectionMap\",(e=>a(e.camera)))),e.code.add(o`float linearizeDepth(float depth) {\nfloat depthNdc = depth * 2.0 - 1.0;\nfloat c1 = zProjectionMap[0];\nfloat c2 = zProjectionMap[1];\nreturn -(c1 / (depthNdc + c2 + 1e-7));\n}`),e.code.add(o`float depthFromTexture(sampler2D depthTexture, vec2 uv) {\nivec2 iuv = ivec2(uv * vec2(textureSize(depthTexture, 0)));\nfloat depth = texelFetch(depthTexture, iuv, 0).r;\nreturn depth;\n}`),e.code.add(o`float linearDepthFromTexture(sampler2D depthTexture, vec2 uv) {\nreturn linearizeDepth(depthFromTexture(depthTexture, uv));\n}`)}function a(t){const r=t.projectionMatrix;return e(c,r[14],r[10])}const c=t();export{d as ReadDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"vec2\",r.Draw,((r,s,t,m)=>r.setUniform2fv(e,o(s,t,m))))}}export{o as Float2DrawUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"vec4\",r.Bind,((r,s)=>r.setUniform4fv(e,o(s))))}}export{o as Float4BindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{set as r}from\"../../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as o}from\"../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{s as t}from\"../../../../../../chunks/vec42.js\";import{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Float2BindUniform as i}from\"../../shaderModules/Float2BindUniform.js\";import{Float4BindUniform as a}from\"../../shaderModules/Float4BindUniform.js\";import{glsl as s}from\"../../shaderModules/glsl.js\";function f(r){r.fragment.uniforms.add(new a(\"projInfo\",(r=>n(r.camera)))),r.fragment.uniforms.add(new i(\"zScale\",(r=>m(r.camera)))),r.fragment.code.add(s`vec3 reconstructPosition(vec2 fragCoord, float depth) {\nreturn vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);\n}`)}function n(r){const o=r.projectionMatrix;return 0===o[11]?t(c,2/(r.fullWidth*o[0]),2/(r.fullHeight*o[5]),(1+o[12])/o[0],(1+o[13])/o[5]):t(c,-2/(r.fullWidth*o[0]),-2/(r.fullHeight*o[5]),(1-o[8])/o[0],(1-o[9])/o[5])}const c=e();function m(o){return 0===o.projectionMatrix[11]?r(l,0,1):r(l,1,0)}const l=o();export{f as CameraSpace,n as getProjectionInfo,m as getZScale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Float3BindUniform as i}from\"../../shaderModules/Float3BindUniform.js\";import{glsl as n}from\"../../shaderModules/glsl.js\";function t(n){n.uniforms.add(new i(\"mainLightDirection\",(i=>i.lighting.mainLight.direction)))}function a(n){n.uniforms.add(new i(\"mainLightIntensity\",(i=>i.lighting.mainLight.intensity)))}function o(i){t(i.fragment),a(i.fragment),i.fragment.code.add(n`vec3 applyShading(vec3 shadingNormal, float shadow) {\nfloat dotVal = clamp(dot(shadingNormal, mainLightDirection), 0.0, 1.0);\nreturn mainLightIntensity * ((1.0 - shadow) * dotVal);\n}`)}export{t as addMainLightDirection,a as addMainLightIntensity,o as applyShading};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nfunction t(t){const a=3.141592653589793,n=.3183098861837907;t.constants.add(\"PI\",\"float\",a),t.constants.add(\"LIGHT_NORMALIZATION\",\"float\",n),t.constants.add(\"INV_PI\",\"float\",n),t.constants.add(\"HALF_PI\",\"float\",1.570796326794897),t.constants.add(\"TWO_PI\",\"float\",6.28318530717958)}export{t as PiUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as o}from\"../../../../webgl/BindType.js\";import{Uniform as r}from\"../../../../webgl/Uniform.js\";class e extends r{constructor(r,e){super(r,\"bool\",o.Bind,((o,s)=>o.setUniform1b(r,e(s))))}}export{e as BooleanBindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{zeros as t,fromValues as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class i{constructor(s=t()){this.intensity=s}}class r{constructor(i=t(),r=s(.57735,.57735,.57735)){this.intensity=i,this.direction=r}}class c{constructor(i=t(),r=s(.57735,.57735,.57735),c=!0,n=1,o=1){this.intensity=i,this.direction=r,this.castShadows=c,this.specularStrength=n,this.environmentStrength=o}}class n{constructor(){this.r=[0],this.g=[0],this.b=[0]}}export{i as AmbientLight,r as FillLight,c as MainLight,n as SphericalHarmonicsAmbientLight};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nfunction t(t,n){let e=0;for(let l=0;l<t.length;l++)e+=t[l]*n[l];return e}function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}export{l as add,t as dotProduct,n as elementwiseProduct,e as scalarProduct};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{i as n,c as o,u as r}from\"../../../../chunks/vec32.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{add as i,elementwiseProduct as s,scalarProduct as c}from\"../lib/LongVectorMath.js\";import{MainLight as f,FillLight as h,AmbientLight as a,SphericalHarmonicsAmbientLight as g}from\"./Lightsources.js\";function u(t){return(t+1)*(t+1)}function l(n){return t(Math.floor(Math.sqrt(n)-1),0,2)}function m(t,n,o){const r=t[0],e=t[1],i=t[2],s=o||[];return s.length=u(n),n>=0&&(s[0]=.28209479177),n>=1&&(s[1]=.4886025119*r,s[2]=.4886025119*i,s[3]=.4886025119*e),n>=2&&(s[4]=1.09254843059*r*e,s[5]=1.09254843059*e*i,s[6]=.31539156525*(3*i*i-1),s[7]=1.09254843059*r*i,s[8]=.54627421529*(r*r-e*e)),s}function p(t,n){const o=u(t),r=n||{r:[],g:[],b:[]};r.r.length=r.g.length=r.b.length=o;for(let e=0;e<o;e++)r.r[e]=r.g[e]=r.b[e]=0;return r}function b(t,n){const o=l(n.r.length);for(const e of t)r(P,e.direction),m(P,o,v),s(v,w),c(v,e.intensity[0],I),i(n.r,I),c(v,e.intensity[1],I),i(n.g,I),c(v,e.intensity[2],I),i(n.b,I);return n}function y(t,n){m(P,0,v);for(const o of t)n.r[0]+=v[0]*w[0]*o.intensity[0]*4*Math.PI,n.g[0]+=v[0]*w[0]*o.intensity[1]*4*Math.PI,n.b[0]+=v[0]*w[0]*o.intensity[2]*4*Math.PI;return n}function M(t,r,e,s){p(r,s),n(e.intensity,0,0,0);let c=!1;const u=S,l=d,m=j;u.length=0,l.length=0,m.length=0;for(const n of t)n instanceof f&&!c?(o(e.direction,n.direction),o(e.intensity,n.intensity),e.specularStrength=n.specularStrength,e.environmentStrength=n.environmentStrength,e.castShadows=n.castShadows,c=!0):n instanceof f||n instanceof h?u.push(n):n instanceof a?l.push(n):n instanceof g&&m.push(n);b(u,s),y(l,s);for(const n of m)i(s.r,n.r),i(s.g,n.g),i(s.b,n.b)}const S=[],d=[],j=[],v=[0],I=[0],P=e(),w=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,m as computeCoefficients,p as initSHCoefficients,u as numberOfCoefficients,l as orderFromNumberOfCoefficients,y as projectAmbientLights,b as projectFillLights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{lerp as i}from\"../../../../core/mathUtils.js\";import{c as t,g as s,f as h,m as r}from\"../../../../chunks/vec32.js\";import{create as n,fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{SphericalHarmonicsAmbientLight as o,MainLight as e}from\"./Lightsources.js\";import{combineLights as c}from\"./SphericalHarmonics.js\";class g{constructor(){this.color=n(),this.intensity=1}}class m{constructor(){this.direction=n(),this.ambient=new g,this.diffuse=new g}}const l=.4;class _{constructor(){this._shOrder=2,this._legacy=new m,this.globalFactor=.5,this.noonFactor=.5,this._sphericalHarmonics=new o,this._mainLight=new e(n(),a(1,0,0),!1)}get legacy(){return this._legacy}get sh(){return this._sphericalHarmonics}get mainLight(){return this._mainLight}set(i){c(i,this._shOrder,this._mainLight,this._sphericalHarmonics),t(this._legacy.direction,this._mainLight.direction);const r=1/Math.PI;this._legacy.ambient.color[0]=.282095*this._sphericalHarmonics.r[0]*r,this._legacy.ambient.color[1]=.282095*this._sphericalHarmonics.g[0]*r,this._legacy.ambient.color[2]=.282095*this._sphericalHarmonics.b[0]*r,s(this._legacy.diffuse.color,this._mainLight.intensity,r),t(L,this._legacy.diffuse.color),s(L,L,l*this.globalFactor),h(this._legacy.ambient.color,this._legacy.ambient.color,L)}copyFrom(i){this._sphericalHarmonics.r=Array.from(i.sh.r),this._sphericalHarmonics.g=Array.from(i.sh.g),this._sphericalHarmonics.b=Array.from(i.sh.b),t(this._mainLight.direction,i.mainLight.direction),t(this._mainLight.intensity,i.mainLight.intensity),this._mainLight.castShadows=i.mainLight.castShadows,this._mainLight.specularStrength=i.mainLight.specularStrength,this._mainLight.environmentStrength=i.mainLight.environmentStrength,this.globalFactor=i.globalFactor,this.noonFactor=i.noonFactor}lerpLighting(s,h,n){if(r(this._mainLight.intensity,s.mainLight.intensity,h.mainLight.intensity,n),this._mainLight.environmentStrength=i(s.mainLight.environmentStrength,h.mainLight.environmentStrength,n),this._mainLight.specularStrength=i(s.mainLight.specularStrength,h.mainLight.specularStrength,n),t(this._mainLight.direction,h.mainLight.direction),this._mainLight.castShadows=h.mainLight.castShadows,this.globalFactor=i(s.globalFactor,h.globalFactor,n),this.noonFactor=i(s.noonFactor,h.noonFactor,n),s.sh.r.length===h.sh.r.length)for(let t=0;t<h.sh.r.length;t++)this._sphericalHarmonics.r[t]=i(s.sh.r[t],h.sh.r[t],n),this._sphericalHarmonics.g[t]=i(s.sh.g[t],h.sh.g[t],n),this._sphericalHarmonics.b[t]=i(s.sh.b[t],h.sh.b[t],n);else for(let i=0;i<h.sh.r.length;i++)this._sphericalHarmonics.r[i]=h.sh.r[i],this._sphericalHarmonics.g[i]=h.sh.g[i],this._sphericalHarmonics.b[i]=h.sh.b[i]}}const L=n();export{_ as SceneLighting,m as SunLight,l as ambientBoost};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReadDepth as e}from\"../output/ReadDepth.glsl.js\";import{If as r,glsl as t}from\"../../shaderModules/glsl.js\";import{Texture2DBindUniform as o}from\"../../shaderModules/Texture2DBindUniform.js\";function i(i,{occlusionPass:d,terrainDepthTest:a,cullAboveTerrain:n}){const{vertex:s,fragment:p,varyings:h}=i;if(!a)return s.code.add(\"void forwardViewPosDepth(vec3 pos) {}\"),void p.code.add(`${d?\"bool\":\"void\"} discardByTerrainDepth() { ${r(d,\"return false;\")}}`);h.add(\"viewPosDepth\",\"float\",{invariant:!0}),s.code.add(\"void forwardViewPosDepth(vec3 pos) {\\n    viewPosDepth = pos.z;\\n  }\"),p.include(e),p.uniforms.add(new o(\"terrainDepthTexture\",(e=>e.terrainDepth?.attachment))).code.add(t`\n    ${d?\"bool\":\"void\"} discardByTerrainDepth() {\n      float depth = texelFetch(terrainDepthTexture, ivec2(gl_FragCoord.xy), 0).r;\n      float linearDepth = linearizeDepth(depth);\n      ${d?\"return viewPosDepth < linearDepth && depth < 1.0;\":`if(viewPosDepth ${n?\">\":\"<=\"} linearDepth) discard;`}\n    }`)}export{i as terrainDepthTest};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{glsl as c}from\"../../shaderModules/glsl.js\";function e(e){e.code.add(c`vec4 premultiplyAlpha(vec4 v) {\nreturn vec4(v.rgb * v.a, v.a);\n}\nvec3 rgb2hsv(vec3 c) {\nvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\nvec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);\nvec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);\nfloat d = q.x - min(q.w, q.y);\nfloat e = 1.0e-10;\nreturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), min(d / (q.x + e), 1.0), q.x);\n}\nvec3 hsv2rgb(vec3 c) {\nvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\nvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\nreturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\nfloat rgb2v(vec3 c) {\nreturn max(c.x, max(c.y, c.z));\n}`)}export{e as ColorConversion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as o,isColorEmission as r,isColorOrColorEmission as l}from\"../core/shaderLibrary/ShaderOutput.js\";import{Emissions as i}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{OutputHighlight as s}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{ColorConversion as a}from\"../core/shaderLibrary/util/ColorConversion.glsl.js\";import{If as t,glsl as e}from\"../core/shaderModules/glsl.js\";import{OITPass as n}from\"../lib/OITPass.js\";import{alphaCutoff as f}from\"../../../../webscene/support/AlphaCutoff.js\";function u(u,d){u.include(s,d),u.include(i,d),u.fragment.include(a);const{output:p,oitPass:c,discardInvisibleFragments:m,snowCover:C}=d,g=p===o.ObjectAndLayerIdColor,h=r(p),v=l(p)&&c===n.ColorAlpha,b=l(p)&&c!==n.ColorAlpha;let j=0;(b||h||v)&&u.outputs.add(\"fragColor\",\"vec4\",j++),h&&u.outputs.add(\"fragEmission\",\"vec4\",j++),v&&u.outputs.add(\"fragAlpha\",\"float\",j++),u.fragment.code.add(e`\n    void outputColorHighlightOID(vec4 finalColor, const in vec3 vWorldPosition, vec3 emissiveBaseColor ${t(C,\", float snow\")}) {\n      ${t(g,\"finalColor.a = 1.0;\")}\n\n      ${t(m,`if (finalColor.a < ${e.float(f)}) { discard; }`)}\n\n      finalColor = applySlice(finalColor, vWorldPosition);\n      ${t(v,e`fragColor = premultiplyAlpha(finalColor);\n             fragAlpha = finalColor.a;`)}\n      ${t(b,\"fragColor = finalColor;\")}\n      ${t(h,`fragEmission = ${t(C,\"mix(finalColor.a * getEmissions(emissiveBaseColor), vec4(0.0), snow);\",\"finalColor.a * getEmissions(emissiveBaseColor);\")}`)}\n      calculateOcclusionAndOutputHighlight();\n      ${t(g,\"outputObjectAndLayerIdColor();\")}\n    }\n  `)}export{u as outputColorHighlightOID};\n"],"names":["n","t","r","a","e","i$d","i","s","o$s","o","has","e$l","l","d","m","e$j","t$c","o$q","t$b","T","_","E","S","g","u","c","h","p","A","f","D","C","w","b","M","x","R","X","I","v","y","N","F","P","o$m","j","z","c$5","e$g","r$4","e$e","s$9","s$8","s$7","l$7","o$k","O","s$6","a$4","a$3","d$6","h$3","q","V","B","k","G","U","H","J","K","L","Q","W","x$1","O$3","o$g","F$3","w$4","r$3","g$2","o$e","o$c","t$6","o$a","e$9","o$8","e$7","o$7","o$6","M$1","I$2","P$2","$","ee","Y","Z","re","te","ne","oe","se","ie","t$3","e$4","o$1","e$2","i$1"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99]}