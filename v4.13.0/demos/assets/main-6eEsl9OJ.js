const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./request-CcAvRZVP.js","./preload-helper-B76NpbEU.js","./IdentityManager-BS2gj8rh.js","./intl-Dk1N7wZP.js","./jsxFactory-vcCo5QL-.js","./uuid-Cl5lrJ4c.js","./sanitizerUtils-CJlLEeXg.js","./modeUtils-1fSvrGRf.js","./substitute-qPapkRmr.js","./QueueProcessor-DVTsDrMX.js","./Queue-DXtZaugk.js","./ReactiveMap-DhgVMKBI.js","./WhereClauseCache-BXQ3uKjl.js","./LRUCache-BB1cebTv.js","./MemCache-BSBM3Sy1.js","./WhereClause-Dv3x-MsT.js","./TimeOnly-C1MWI3zZ.js","./enum-DjCgFROZ.js","./UnknownTimeZone-ZLOR0Bi8.js","./arcadeUtils-BWg3a7B6.js","./arcade--ugU4jnO.js","./aiServices-CY5ayKbv.js","./ImmutableArray-BPVd6ESQ.js","./shared-C3O93oAv.js","./Field-CzUupKXc.js","./fieldType-B4FIlvI-.js","./number-BtRhnL1q.js","./commonProperties-DHiB1uzW.js","./utils-DSziZ_FA.js","./featureConversionUtils-qJGwMYPr.js","./OptimizedFeature-DHftxjFm.js","./memoryEstimations-5hBnZCeh.js","./OptimizedGeometry-OYT6ACAY.js","./OptimizedFeatureSet-BR8EEvDc.js","./FieldsIndex-CRdljKn6.js","./timeZoneUtils-DmTpvLBr.js","./unitConversion-HPy-1Vfr.js","./batchExec-CYYPUfwN.js","./PortalItem-8NBch2N-.js","./Basemap-DJMnN-9O.js","./loadAll-D6A1onbi.js","./asyncUtils-SHsCTXd3.js","./writeUtils-CQGo3TAP.js","./ElevationLayer-CP7Qj7PQ.js","./MultiOriginJSONSupport-Co5qTMH7.js","./HeightModelInfo-JPXqCMoM.js","./Layer-DzZVuRQg.js","./TimeExtent-DG27ZQvz.js","./ArcGISCachedService-CeXQFF-9.js","./TileInfo-CVYxyTVq.js","./TileKey-DZd6gJy7.js","./TileInfoTilemapCache-D7O7s5AM.js","./TilemapCache-bJMEnJAM.js","./ByteSizeUnit-BsxeN7wM.js","./ArcGISService-B_5_Lp9I.js","./OperationalLayer-DPy11VYP.js","./layerContainerType-C5CzMsLd.js","./ElevationInfo-Dh54MbB6.js","./lengthUtils-DL53yBUT.js","./PortalLayer-CNZn_9Ud.js","./portalItemUtils-DES5WVek.js","./projectionUtils-BoGsVCso.js","./WorkerHandle-IWvq6EKI.js","./workers-m_rvw_QY.js","./webStyleSymbolUtils-DtjPYFJD.js","./devEnvironmentUtils-8WtPGj6h.js","./styleUtils-DkahzbXB.js","./Map-DzKeRPTR.js","./CollectionFlattener-CMqGdnqe.js","./persistable-BdoJ63Rm.js","./MD5-MtSiOt06.js","./multiOriginJSONSupportUtils-C0wm8_Yw.js","./resourceExtension-Di_qYpf4.js","./PolygonCollection-izMCmkG-.js","./editableLayers-D6yrpnO9.js","./mat4f32-Djp3mnm5.js","./mat4-DL3nuHcq.js","./common-DQOJ18NT.js","./TablesMixin-DhmRwqWK.js","./MapView-CJM3wvZh.js","./Cyclical-Du2djXHA.js","./UpdatingHandles-DgAejPqv.js","./utils-CcyJ7vzx.js","./Version-DkcAnD6Q.js","./GraphicsCollection-DPkZ9iLQ.js","./Query-BQgZ7-at.js","./IViewEvents-Bci6PjlS.js","./mat2df64-CH-gvrN5.js","./a11yUtils-wQpLBaz-.js","./projectionUtils-BB2AM3j1.js","./ViewingMode-Chk7YAAL.js","./vec2-ChnYg_BJ.js","./vec2f64-Cgb6qxNH.js","./mat2d-D9DBP-jx.js","./normalizeUtils-DQMkRVRF.js","./normalizeUtilsCommon-BOEKY1VU.js","./utils-B8Gjy-VD.js","./mat2df32-Dpt2CT5P.js","./mat3-CruJiiUv.js","./vec2f32-CaVKkSa6.js","./Scheduler-C2DZToJ1.js","./debugFlags-B0yLZSdU.js","./vec32-BvrGiqaM.js","./unitBezier-B1N-tmtC.js","./enums-BKZXYdA3.js","./TileKey-Dh7gIRnN.js","./quickselect-QQC62dOK.js","./definitions-CASyCajO.js","./enums-UBzvFP7O.js","./Texture-Cg6gEanA.js","./getDataTypeBytes-D2DiHx_d.js","./imageUtils-1DJLgkmm.js","./capabilities-Bi6C4OG6.js","./ILyr3DWasmPerSceneView-CIC-HPGZ.js","./ColorBackground-CNzrRYzI.js","./FeatureLayer-B1MnbWtG.js","./FeatureLayerBase-BMRrZ9we.js","./labelingInfo-DcSEjCI1.js","./SimpleRenderer-CYj4Tzam.js","./commonProperties-ClpAoODy.js","./colorRamps-CKB7alIQ.js","./ColorStop-i4pxY5LE.js","./visualVariableUtils-Q9XaDxnO.js","./UniqueValueRenderer-C4s1PHAc.js","./diffUtils-BBoLSBHW.js","./RendererLegendOptions-BVVQbSEI.js","./RelationshipQuery-BJHKxrzH.js","./NormalizationBinParametersMixin-Dfo-UXv2.js","./labelUtils-C6yvQiEz.js","./LayerFloorInfo-CDcpg9U7.js","./Relationship-Bs1Yiz6F.js","./serviceCapabilitiesUtils-D0vZJ1w2.js","./infoFor3D-DhzudQro.js","./editsZScale-DnIrA7Ba.js","./queryZScale-2CgD0kOl.js","./FeatureSet-Brpa8p2L.js","./APIKeyMixin-ChUD2mxe.js","./BlendLayer-Ck8n336O.js","./jsonUtils-DIh9yTg7.js","./parser-C27q64z5.js","./CustomParametersMixin-DtqTEY_r.js","./DisplayFilteredLayer-DBbno1JO.js","./scaleUtils-DbIWZ4jS.js","./displayFilterUtils-BomPJvlq.js","./EditBusLayer-DPKrQ7hl.js","./FeatureEffectLayer-BOH1JMG6.js","./FeatureEffect-DQseNN2l.js","./FeatureFilter-DC96N5sf.js","./FeatureReductionLayer-C-r_Ys9m.js","./FeatureReductionSelection-DYywfSvI.js","./jsonUtils-DS7WiS7O.js","./typeUtils-BHaCxg3_.js","./ClassBreaksRenderer-CFWq_Bnc.js","./DictionaryScriptEvaluator-D49tDkyF.js","./ArcadeExpression-CYMFQJdI.js","./utils-BV7DBUkI.js","./defaultCIMValues-CQAn2izL.js","./enums-_AFKM9Yk.js","./heatmapUtils-eUEoMYnq.js","./vec42-CKs01hkn.js","./vec4f64-DPb6J-GU.js","./OrderedLayer-lZi2QsQ3.js","./OrderByInfo-BuTcfGSR.js","./RefreshableLayer-WBFfTNo4.js","./ScaleRangeLayer-BjLqqFXw.js","./TemporalLayer-CkjYEXTj.js","./TimeInfo-CmpDscoM.js","./TrackableLayer-B96hXRO_.js","./FeatureTemplate-U3P7jiAe.js","./FeatureType-CoKquuAr.js","./fieldProperties-C388kZ5z.js","./TitleCreator-DcbQ6Sil.js","./versionUtils-BIyNCpWh.js","./styleUtils-DEvcoecU.js","./popupUtils-BUD8sQLV.js","./interfaces-CL2NbQte.js","./GraphicsLayer-BnIrIT3a.js","./ImageryLayer-C5WEBZ9r.js","./datasetUtils-CTEfKVKj.js","./RasterJobHandlerMixin-BmcXvPGs.js","./RasterSymbolizer-DhOHpdT9.js","./dataUtils-CHnwz3lm.js","./pixelRangeUtils-BvOub3JO.js","./_commonjsHelpers-DCkdB7M8.js","./colorUtils-D1om_hYv.js","./utils-8sNkJo3w.js","./cimSymbolUtils-B04pXcN-.js","./ClassBreaksDefinition-DhnWoBKB.js","./imageBitmapUtils-CqLsuGWT.js","./RasterPresetRendererMixin-BpynIXQw.js","./executeForIds-DDVQFLI_.js","./query-YY6XdnK_.js","./pbfQueryUtils-CfAfYgrs.js","./pbf-DkAyG_b0.js","./executeQueryJSON-DHrPaZrV.js","./MapImageLayer-C8a31lxq.js","./SublayersOwner-WvudLsMx.js","./QueryTask-ClLBsdwl.js","./executeQueryPBF-Bldh6K4m.js","./sublayerUtils-Cx3hkwVS.js","./ExportImageParameters-DCgdbm06.js","./floorFilterUtils-DKzVzLpH.js","./OpenStreetMapLayer-CNPYSr9Z.js","./WebTileLayer-D-Rwz14W.js","./TileLayer-B-lunxmr.js","./WMSLayer-Dd9gj1x0.js","./crsUtils-DAndLU68.js","./ExportWMSImageParameters-BqQEkW6M.js","./arcade-DlfF3JqD.js","./query-BnXUn6Oi.js","./AttachmentInfo-DlgFo1eL.js","./executeAttributeBinsQuery-Bo87tU08.js","./AttributeBinsFeatureSet-dOKoaidz.js","./AttributeBinsQuery-Oo94eM85.js","./queryUtils-DzBST9fA.js","./json-Wa8cmqdu.js","./FixedIntervalBinParameters-Bhlr7mPM.js","./executeForTopCount-DLIdcjCU.js","./queryTopFeatures-BWuIxSuo.js","./TopFeaturesQuery-CuZ1eoaS.js","./executeForTopExtents-BH68yzGL.js","./executeForTopIds-DY3INI59.js","./executeRelationshipQuery-ilZy5O3E.js","./executeTopFeaturesQuery--55eV4st.js","./shp.min-fu-UA0Zr.js","./_commonjs-dynamic-modules-TDtrdbi3.js","./jszip.min-BQJepLgf.js","./index-dTcL17IW.js","./index-C0BV8b1p.css","./index-Di3OBwVq.js","./screen.vue_vue_type_script_setup_true_lang-1U2Q9P2M.js","./screen-BiLbuIF4.css","./index-Dt3x14Zg.js","./index-BPC1PqHM.js","./index-C3Mt9piA.css","./index-DDdoCbe9.js","./hilight-defs-CqXQYtIh.js","./index-DJnCx2OU.js","./dynamic-import-helper-BheWnx7M.js","./draw-store-DyzvLXpj.js","./SketchViewModel-qU8vsgpY.js","./elevationInfoUtils-BiNnYWla.js","./quantityUtils-DW8sL_d6.js","./projectVectorToVector-PLaHcAe9.js","./projectPointToVector-C4UVIiJJ.js","./geodesicUtils-Bbp3lqW4.js","./plane-BqH4Rk0w.js","./vectorStacks-DkJKKYqf.js","./mat3f64-B5o_lm6j.js","./mat4f64-q_b6UJoq.js","./quatf64-aQ5IuZRd.js","./sphere-DYiAGvsP.js","./geodeticLengthOperator-DNLqI12P.js","./geodeticCurveType-CirnHLSB.js","./earcut-D9gy186-.js","./triangle-DzmNzYoH.js","./lineSegment-C4u8B-fp.js","./spatialReferenceEllipsoidUtils-4Wh6IZR8.js","./layerViewUtils-DUyzdGNv.js","./drapedUtils-Bj4XsyWV.js","./utils-BQBvadb7.js","./widget-DGoRHmNP.js","./index-CIDxQ-of.js","./fabric-DydyDOUN.js","./index-8ifjWjcK.js","./index-BthdaSev.js","./index-CST9iBuG.js","./index-B8mHtRfk.js","./index-DnpV2hF7.js","./index-DtAoFX4u.js","./index-i347-cwZ.js","./screen.vue_vue_type_script_setup_true_lang-CnUktMEB.js","./index-rDnK9ZHm.js","./index-u46Ho-ef.js","./index-B-dKkrzo.js","./index-Bi1Kk74D.js","./table-state-manager-BeyhKYxv.js","./index-DmkXjBrl.js","./index-CnnAiRp-.js","./index-BAY4r2Ku.js","./index-DwarRpGU.js","./index-C3dDSAer.js","./index-Dpj6ht3O.css","./index-DV3yoBWw.js","./index-CEZs2Sj5.js","./index-CvAT-ZEr.js","./index-BeQ3kStJ.css","./index-ClvYWTgm.js","./index-D-3-S-HY.css","./index-Bc0r8GV_.js","./index-Dti23dwS.css","./index-BQGayJ4Q.js","./index-BowYMBQS.js","./index-B6EQZ0ue.js","./index-DdKtuvUV.css","./index-BMsVF6Lm.js","./screen-B0ix-iWc.js","./screen-Ceqg0BAR.js","./screen-G8lp0Bdf.css","./screen-BktfHecV.js","./screen-tZBvRYrS.js","./screen-CwbtZ41W.css","./screen-NmknXi30.js","./screen-CjrmR6AG.css","./screen-DFc0O6Zd.js","./marked.esm-DmSrlTiT.js","./screen-DcX-wckC.css","./screen-CW9JZKVl.js","./vue.esm-bundler-CmRBgJZw.js","./screen-ClE_JYXg.css","./screen-_seoBU7U.js","./screen-Bguoc9CU.js","./screen-CkXxljnt.css","./screen-BcG8zVDl.js","./toggle-switch-control-XMHU0NwH.js","./toggle-switch-control-TJXJxWh9.css","./screen-DMJifmlo.css","./screen-D2DWBqkX.js","./screen-BusTg7z-.css"])))=>i.map(i=>d[i]);
import{_ as ve}from"./preload-helper-B76NpbEU.js";var na=(t=>(t.BLOB="blob",t.DATE="date",t.DOUBLE="double",t.GEOMETRY="geometry",t.GLOBAL_ID="global-id",t.GUID="guid",t.INTEGER="integer",t.LONG="long",t.OID="oid",t.RASTER="raster",t.SINGLE="single",t.SMALL_INTEGER="small-integer",t.STRING="string",t.XML="xml",t))(na||{}),Wo=(t=>(t.CIRCLE="circle",t.CROSS="cross",t.DIAMOND="diamond",t.ICON="icon",t.PATH="path",t.SQUARE="square",t.TRIANGLE="triangle",t.X="x",t))(Wo||{}),ss=(t=>(t.DASH="dash",t.DASHDOT="dash-dot",t.DASHDOTDOT="short-dash-dot-dot",t.DOT="dot",t.LONGDASH="long-dash",t.LONGDASHDOT="long-dash-dot",t.LONGDASHDOTDOT="long-dash-dot-dot",t.NONE="none",t.NULL="none",t.SHORTDASH="short-dash",t.SHORTDASHDOT="short-dash-dot",t.SHORTDASHDOTDOT="short-dash-dot-dot",t.SHORTDOT="short-dot",t.SOLID="solid",t))(ss||{}),DI=(t=>(t.BEVEL="bevel",t.MITER="miter",t.ROUND="round",t))(DI||{}),FI=(t=>(t.ROUND="round",t.BUTT="butt",t.SQUARE="square",t))(FI||{}),UI=(t=>(t.BDIAG="backward-diagonal",t.CROSS="cross",t.DIAG_CROSS="diagonal-cross",t.FDIAG="forward-diagonal",t.HORIZONTAL="horizontal",t.NONE="none",t.NULL="none",t.SOLID="solid",t.VERTICAL="vertical",t))(UI||{}),Je=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t.LINEARRING="LinearRing",t.EXTENT="Extent",t.NONE="None",t.UNKNOWN="Unknown",t))(Je||{}),Fv=(t=>(t.Simple="simple",t.Unique="uniqueValue",t.ClassBreaks="classBreaks",t.Unknown="unknown",t))(Fv||{}),Ne=(t=>(t.FEATURE="esri-feature",t.MAPIMAGE="esri-map-image",t.TILE="esri-tile",t.IMAGERY="esri-imagery",t.GRAPHIC="esri-graphic",t.WMS="ogc-wms",t.WFS="ogc-wfs",t.GEOJSON="file-geojson",t.GEOJSONZIPPED="file-zip-geojson",t.CSV="file-csv",t.SHAPEFILE="file-shape",t.FLATGEOBUF="file-fgb",t.FLATGEOBUFZIPPED="file-zip-fgb",t.OSM="osm-tile",t.DATACSV="data-csv",t.DATAJSON="data-json",t.DATATABLE="data-esri-table",t.UNKNOWN="unknown",t.SUBLAYER="sublayer",t))(Ne||{}),js=(t=>(t.FEATURE="feature",t.GRAPHIC="graphic",t.IMAGERY="imagery",t.MAPIMAGE="map-image",t.NOLAYER="no-layer",t.OSM="osm-tile",t.TILE="tile",t.UNKNOWN="unknown",t.WMS="wms",t))(js||{}),mi=(t=>(t.ESRI_FEATURE="esriFeature",t.ESRI_RASTER="esriRaster",t.ESRI_TILE="esriTile",t.OSM_TILE="osmTile",t.OGC_RASTER="ogcRaster",t.UNKNOWN="unknown",t))(mi||{}),mr=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t))(mr||{}),Wr=(t=>(t.GEOMETRIC="geometric",t.SYMBOLIC="symbolic",t.HYBRID="hybrid",t.NONE="none",t))(Wr||{}),Qt=(t=>(t.NEW="new",t.INITIATING="initiating",t.INITIATED="initiated",t.TERMINATING="terminating",t.TERMINATED="terminated",t))(Qt||{}),gr=(t=>(t.NEW="new",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error",t))(gr||{}),fs=(t=>(t.NOT_LOADED="not-loaded",t.NOT_VISUAL="not-visual",t.REFRESH="refresh",t.UP_TO_DATE="up-to-date",t))(fs||{}),uh=(t=>(t.ESRI="esri",t.TEXT="text",t.IMAGE="image",t.HTML="html",t.XML="xml",t.JSON="json",t.UNKNOWN="unknown",t))(uh||{}),Vi=(t=>(t.SYMBOL="symbol",t.GRID="grid",t.EXTENT="extent",t.INITIAL="initial",t.API="api",t.PERMANENT="permanent",t))(Vi||{}),xr=(t=>(t.BoundaryZoom="boundaryZoom",t.Datatable="datatable",t.Identify="identify",t.Metadata="metadata",t.Opacity="opacity",t.Refresh="refresh",t.Reload="reload",t.Remove="remove",t.Settings="settings",t.Symbology="symbology",t.Visibility="visibility",t))(xr||{});class Un{attributes;geometry;style;id;constructor(e,r,i){this.geometry=e,r?this.id=r:this.id=Vc.sharedUtils.generateUUID(),i?this.attributes=i:this.attributes={}}_hover;get hover(){return this._hover}set hover(e){e&&this._hover&&this._hover.id!==e.id&&this.removeHover(),this._hover=e}removeHover(){this._hover&&(this._hover=void 0)}}const V0={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function dF(t){return!!V0[t]||!!V0[t.toLowerCase()]}function jI(t){return V0[t]??V0[t.toLowerCase()]}function a0e(t){return[...jI(t)]}function bb(t,e,r){r<0&&++r,r>1&&--r;const i=6*r;return i<1?t+(e-t)*i:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}function pF(t,e,r,i=1){const s=(t%360+360)%360/360,n=r<=.5?r*(e+1):r+e-r*e,o=2*r-n;return[Math.round(255*bb(o,n,s+1/3)),Math.round(255*bb(o,n,s)),Math.round(255*bb(o,n,s-1/3)),i]}function l0e(t){const e=t.length>5,r=e?8:4,i=(1<<r)-1,s=e?1:17,n=e?t.length===9:t.length===5;let o=+("0x"+t.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return n&&(l=o&i,o>>=r,a[3]=s*l/255),l=o&i,o>>=r,a[2]=s*l,l=o&i,o>>=r,a[1]=s*l,l=o&i,o>>=r,a[0]=s*l,a}function BI(t){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const e=parseInt(t.slice(1,2),16),r=parseInt(t.slice(2,3),16),i=parseInt(t.slice(3,4),16),s=t.length===4?15:parseInt(t.slice(4),16);return[e+16*e,r+16*r,i+16*i,(s+16*s)/255]}case 7:case 9:return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16),(t.length===7?255:parseInt(t.slice(7),16))/255];default:return null}}function VI(t){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(e){const r=e[2].split(/\s*,\s*/),i=e[1];if(i==="rgb"&&r.length===3||i==="rgba"&&r.length===4){const s=r[0];if(s.charAt(s.length-1)==="%"){const n=r.map(o=>2.56*parseFloat(o));return r.length===4&&(n[3]=parseFloat(r[3])),uT(n)}return uT(r.map(n=>parseFloat(n)))}if(i==="hsl"&&r.length===3||i==="hsla"&&r.length===4)return pF(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3]??"1"))}return null}function uT(t){return t[0]=hh(t[0]),t[1]=hh(t[1]),t[2]=hh(t[2]),t[3]=t.length===4?zI(t[3]):1,t}function GI(t){let e=dF(t)?jI(t):null;return e??=VI(t),e??=BI(t),e}function c0e(t){const e=GI(t);return e!=null?[e[0]/255,e[1]/255,e[2]/255,e[3]]:null}function zI(t){return qI(t,0,1)}function hh(t){return Math.round(qI(t,0,255))}function qI(t,e,r){return t=Number(t),isNaN(t)?r:t<e?e:t>r?r:t}const u0e=2.2,hT=new Float32Array(1);function h0e(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function Uv(t,e,r){return Math.min(Math.max(t,e),r)}function f0e(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function mF(t,e,r){return t+(e-t)*r}function d0e(t,e,r,i,s){return mF(i,s,(t-e)/(r-e))}function p0e(t){return t*Math.PI/180}function m0e(t){return 180*t/Math.PI}function y0e(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function g0e(t){return Math.acos(Uv(t,-1,1))}function v0e(t){return Math.asin(Uv(t,-1,1))}function fh(t,e,r=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=r}function b0e(t,e,r=1e-6){return!fh(t,e,r)&&t>e}function _0e(t,e,r=1e-6){return!fh(t,e,r)&&t<e}function w0e(t,e,r=1e-6){return fh(t,e,r)||t>e}const G0=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function G_(t){return G0.setFloat64(0,t),G0.getBigInt64(0)}function yF(t){return G0.setBigInt64(0,t),G0.getFloat64(0)}const Hy=BigInt("1000000"),gF=HI(1);function HI(t){const e=G_(t=Math.abs(t)),r=yF(e<=Hy?Hy:e-Hy);return Math.abs(t-r)}function x0e(t,e,r=gF){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(r!=null&&HI(Math.min(Math.abs(t),Math.abs(e)))<r)return Math.abs(t-e)<=r;const i=G_(t),s=G_(e);return i<0!=s<0?!1:!((i<s?s-i:i-s)>Hy)}function E0e(t,e,r=1e-6){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;const i=Math.abs(t-e),s=Math.abs(t),n=Math.abs(e);if(t===0||e===0||s<1e-12&&n<1e-12){if(i>.01*r)return!1}else if(i/(s+n)>r)return!1;return!0}function S0e(t){return WI(Math.max(-fT,Math.min(t,fT)))}function WI(t){return hT[0]=t,hT[0]}function A0e(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],i=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(fh(e,1)&&fh(r,1)&&fh(i,1))}function T0e(t,e){return(t%e+e)%e}const fT=WI(34028234663852886e22);function M0e(t,e,r){if(r===void 0||+r==0)return Math[t](e);if(e=+e,r=+r,isNaN(e)||typeof r!="number"||r%1!=0)return NaN;let i=e.toString().split("e");return i=(e=Math[t](+(i[0]+"e"+(i[1]?+i[1]-r:-r)))).toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+r:r))}let ul;function ee(t){return typeof ul[t]=="function"?ul[t]=ul[t](globalThis):ul[t]}ul=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},ee.add=(t,e,r,i)=>{(i||ul[t]===void 0)&&(ul[t]=e),r&&ee(t)},ee.cache=ul,ee.add("big-integer-warning-enabled",!0),ee.add("esri-deprecation-warnings",!0),ee.add("esri-tests-disable-screenshots",!1),ee.add("esri-tests-use-full-window",!1),ee.add("esri-tests-post-to-influx",!0),ee.add("esri-cim-animations-enable-status","enabled"),ee.add("esri-cim-animations-spotlight",!1),ee.add("esri-cim-animations-freeze-time",!1),(()=>{ee.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(ee.add("host-browser",t),ee.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),ee.add("dom",t),ee("host-browser")){const e=navigator,r=e.userAgent,i=e.appVersion,s=parseFloat(i);if(ee.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),ee.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),ee.add("khtml",i.includes("Konqueror")?s:void 0),ee.add("edge",parseFloat(r.split("Edge/")[1])||void 0),ee.add("opr",parseFloat(r.split("OPR/")[1])||void 0),ee.add("webkit",!ee("wp")&&!ee("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),ee.add("chrome",!ee("edge")&&!ee("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),ee.add("android",!ee("wp")&&parseFloat(r.split("Android ")[1])||void 0),ee.add("safari",!i.includes("Safari")||ee("wp")||ee("chrome")||ee("android")||ee("edge")||ee("opr")?void 0:parseFloat(i.split("Version/")[1])),ee.add("mac",i.includes("Macintosh")),!ee("wp")&&/(iPhone|iPod|iPad)/.test(r)){const n=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));ee.add(n,a),ee.add("ios",a)}ee("webkit")||(!r.includes("Gecko")||ee("wp")||ee("khtml")||ee("edge")||ee.add("mozilla",s),ee("mozilla")&&ee.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),r=/iPhone/i.test(t);e&&ee.add("esri-mobile",e),r&&ee.add("esri-iPhone",r),ee.add("esri-geolocation",!!navigator.geolocation)}ee.add("esri-wasm","WebAssembly"in globalThis),ee.add("esri-performance-mode-frames-between-render",20),ee.add("esri-force-performance-mode",!1),ee.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in globalThis,e=globalThis.crossOriginIsolated===!1;return t&&!e}),ee.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),ee.add("esri-atomics","Atomics"in globalThis),ee.add("esri-workers","Worker"in globalThis),ee.add("web-feat:cache","caches"in globalThis),ee.add("esri-workers-arraybuffer-transfer",!ee("safari")||Number(ee("safari"))>=12),ee.add("workers-pool-size",8),ee.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ee.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ee.add("featurelayer-fast-triangulation-enabled",!0),ee.add("featurelayer-animation-enabled",!0),ee.add("featurelayer-snapshot-enabled",!0),ee.add("featurelayer-snapshot-initial-tolerance",0),ee.add("featurelayer-snapshot-point-min-threshold",8e4),ee.add("featurelayer-snapshot-point-max-threshold",4e5),ee.add("featurelayer-snapshot-multipoint-min-threshold",2e4),ee.add("featurelayer-snapshot-multipoint-max-threshold",1e5),ee.add("featurelayer-snapshot-polygon-min-threshold",1e3),ee.add("featurelayer-snapshot-polygon-max-threshold",2e3),ee.add("featurelayer-snapshot-polyline-min-threshold",1e3),ee.add("featurelayer-snapshot-polyline-max-threshold",2e3),ee.add("featurelayer-snapshot-max-vertex-count",25e4),ee.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!1),ee.add("featurelayer-snapshot-concurrency",4),ee.add("featurelayer-snapshot-coverage",.1),ee.add("featurelayer-query-max-depth",4),ee.add("featurelayer-query-pausing-enabled",!1),ee.add("featurelayer-query-tile-concurrency",4),ee.add("featurelayer-query-tile-max-features",6e5),ee.add("featurelayer-advanced-symbols",!1),ee.add("featurelayer-pbf",!0),ee.add("featurelayer-pbf-statistics",!1),ee.add("feature-layers-workers",!0),ee.add("feature-polyline-generalization-factor",1),ee.add("mapview-transitions-duration",200),ee.add("mapview-essential-goto-duration",200),ee.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),ee.add("mapserver-pbf-version-support",10.81),ee.add("mapservice-popup-identify-max-tolerance",20),ee.add("request-queue-concurrency-hosted",16),ee.add("request-queue-concurrency-non-hosted",4),ee.add("curve-densification-coarse-segments",128),ee.add("curve-densification-max-segments",2e3),ee.add("curve-densification-min-segments",3),ee.add("curve-densification-pixel-deviation",.5),ee.add("view-readyState-waiting-delay",1e3),ee.add("gradient-depth-bias",.01),ee.add("gradient-depth-epsilon",1e-8),ee.add("enable-feature:esri-compress-textures",!0),ee("host-webworker")||ee("host-browser")&&(ee.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),ee.add("esri-image-decode",()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then(()=>{ee.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ee.add("esri-image-decode",!1,!0,!0)})}return!1}),ee.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();function $0e(t){}function O0e(t){return()=>t}function I0e(t){return t}let vF=class ac{static{this._m=2147483647}static{this._a=48271}static{this._c=0}constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*ac._m}getInt(){return this._seed=(ac._a*this._seed+ac._c)%ac._m,this._seed}getFloat(){return this.getInt()/(ac._m-1)}getIntRange(e,r){return Math.round(this.getFloatRange(e,r))}getFloatRange(e,r){const i=r-e;return e+this.getInt()/ac._m*i}};const bF=1.5,C0e=1/bF,N0e=.5;function P0e(t,e){if(!e)return t;for(const r of e)t.push(r);return t}function L0e(t,e){return e?t.filter((r,i,s)=>s.findIndex(e.bind(null,r))===i):Array.from(new Set(t))}function _F(t,e,r,i,s,n,o){if(t==null&&i==null)return!0;e=Math.max(0,e),s=Math.max(0,s),r=Math.max(0,r<0?(t?.length??0)+r:r),n=Math.max(0,n<0?(i?.length??0)+n:n);const a=r-e;if(t==null||i==null||a!==n-s)return!1;if(o){for(let l=0;l<a;l++)if(!o(t[e+l],i[s+l]))return!1}else for(let l=0;l<a;l++)if(t[e+l]!==i[s+l])return!1;return!0}function jv(t,e,r){return _F(t,0,t?.length??0,e,0,e?.length??0,r)}function R0e(t,e,r){let i,s;return r?(i=e.filter(n=>!t.some(o=>r(o,n))),s=t.filter(n=>!e.some(o=>r(o,n)))):(i=e.filter(n=>!t.includes(n)),s=t.filter(n=>!e.includes(n))),{added:i,removed:s}}function k0e(t){return t&&typeof t.length=="number"}let YI=class{constructor(){this.last=0}};const JI=new YI;function z_(t,e,r,i){i=i||JI;const s=Math.max(0,i.last-10);for(let o=s;o<r;++o)if(t[o]===e)return i.last=o,o;const n=Math.min(s,r);for(let o=0;o<n;++o)if(t[o]===e)return i.last=o,o;return-1}function F0e(t,e,r,i){const s=t.length,n=z_(t,e,s,i);if(n!==-1)return t[n]=t[s-1],t.pop(),e}const dn=new Set;function wF(t,e,r=t.length,i=e.length,s,n){if(i===0||r===0)return r;dn.clear();for(let a=0;a<i;++a)dn.add(e[a]);s=s||JI;const o=Math.max(0,s.last-10);for(let a=o;a<r;++a)if(dn.has(t[a])&&(n?.push(t[a]),dn.delete(t[a]),t[a]=t[r-1],--r,--a,dn.size===0||r===0))return dn.clear(),r;for(let a=0;a<o;++a)if(dn.has(t[a])&&(n?.push(t[a]),dn.delete(t[a]),t[a]=t[r-1],--r,--a,dn.size===0||r===0))return dn.clear(),r;return dn.clear(),r}function U0e(t,e,r){const i=t.length;if(e>=i)return t.slice();const s=KI(r),n=new Set,o=[];for(;o.length<e;){const a=Math.floor(s()*i);n.has(a)||(n.add(a),o.push(t[a]))}return o}function KI(t){return t?(dT.seed=t,()=>dT.getFloat()):Math.random}const dT=new vF;function j0e(t,e){if(!t)return t;const r=KI(e);for(let i=t.length-1;i>0;i--){const s=Math.floor(r()*(i+1)),n=t[i];t[i]=t[s],t[s]=n}return t}function xF(t,e){const r=t.indexOf(e);return r!==-1?(t.splice(r,1),e):null}function EF(t,e){return t!=null}const B0e=[];function V0e(t){return t instanceof ArrayBuffer}function yE(t){return t?.constructor?.name==="Int8Array"}function ZI(t){return t?.constructor?.name==="Uint8Array"}function XI(t){return t?.constructor?.name==="Uint8ClampedArray"}function gE(t){return t?.constructor?.name==="Int16Array"}function QI(t){return t?.constructor?.name==="Uint16Array"}function vE(t){return t?.constructor?.name==="Int32Array"}function eC(t){return t?.constructor?.name==="Uint32Array"}function SF(t){return t?.constructor?.name==="Float16Array"}function Bv(t){return t?.constructor?.name==="Float32Array"}function Vv(t){return t?.constructor?.name==="Float64Array"}function AF(t){return"buffer"in t}const tC=1024;function G0e(t){return Vv(t)||Bv(t)||vE(t)||gE(t)||yE(t)}function z0e(t){return Vv(t)||Bv(t)}function q0e(t){return Vv(t)?179769e303:SF(t)?65504:Bv(t)?3402823e32:eC(t)?4294967295:QI(t)?65535:ZI(t)||XI(t)?255:vE(t)?2147483647:gE(t)?32767:yE(t)?127:256}const H0e=-32768,W0e=-2147483648;function Y0e(t,e){let r;for(r in t)t.hasOwnProperty(r)&&t[r]===void 0&&delete t[r];return t}function ge(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=nC(t);if(e!=null)return e;if(rC(t))return t.clone();if(iC(t))return t.map(ge);if(sC(t))throw new Error("Trying to clone an unclonable Accessor instance");const r={};for(const i of Object.getOwnPropertyNames(t))r[i]=ge(t[i]);return r}function q_(t){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const e=nC(t);if(e!=null)return e;if(iC(t)){let i=!0;const s=t.map(n=>{const o=q_(n);return n!=null&&o==null&&(i=!1),o});return i?s:null}if(rC(t))return t.clone();if(t instanceof File||t instanceof Blob)return t;if(sC(t))return null;const r=new(Object.getPrototypeOf(t)).constructor;for(const i of Object.getOwnPropertyNames(t)){const s=t[i],n=q_(s);if(s!=null&&n==null)return null;r[i]=n}return r}function rC(t){return typeof t.clone=="function"}function iC(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function sC(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function pT(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function nC(t){if(yE(t)||ZI(t)||XI(t)||gE(t)||QI(t)||vE(t)||eC(t)||Bv(t)||Vv(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[r,i]of t)e.set(r,ge(i));return e}if(t instanceof Set){const e=new Set;for(const r of t)e.add(ge(r));return e}return null}function bE(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof t?.getTime=="function"&&typeof e?.getTime=="function"&&t.getTime()===e.getTime()||!1}function oC(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&jv(t,e):t instanceof Set?e instanceof Set&&MF(t,e):t instanceof Map?e instanceof Map&&$F(t,e):!!pT(t)&&pT(e)&&TF(t,e))}function TF(t,e){if(t===null||e===null)return!1;const r=Object.keys(t);if(e===null||Object.keys(e).length!==r.length)return!1;for(const i of r)if(t[i]!==e[i]||!Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}function MF(t,e){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}function $F(t,e){if(t.size!==e.size)return!1;for(const[r,i]of t){const s=e.get(r);if(s!==i||s===void 0&&!e.has(r))return!1}return!0}function OF(t,e,r=!1){return lC(t,e,r)}function _E(t,e){if(e!=null)return e[t]||aC(t.split("."),!1,e)}function au(t,e,r){const i=t.split("."),s=i.pop(),n=aC(i,!0,r);n&&s&&(n[s]=e)}function mT(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const r=e;if(t.length!==r.length)return!0;for(let i=0;i<t.length;i++)if(mT(t[i],r[i]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const r in t)if(mT(t[r],e[r]))return!0;return!1}return t!==e}function aC(t,e,r){let i=r;for(const s of t){if(i==null)return;if(!(s in i)){if(!e)return;i[s]={}}i=i[s]}return i}function lC(t,e,r){return e?Object.keys(e).reduce((i,s)=>{if(s==="__proto__")return i;let n=i[s],o=e[s];return n===o?i:n===void 0?(i[s]=ge(o),i):(Array.isArray(o)||Array.isArray(i)?(n=n?Array.isArray(n)?i[s]=n.slice():i[s]=[n]:i[s]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach(a=>{n.includes(a)||n.push(a)}):i[s]=o.slice())):o&&typeof o=="object"?i[s]=lC(n,o,r):i.hasOwnProperty(s)&&!e.hasOwnProperty(s)||(i[s]=o),i)},t||{}):t}const _t={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(OF(_t,globalThis.esriConfig,!0),delete _t.has),!_t.assetsPath){{const t="4.33";_t.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}_t.defaultAssetsPath=_t.assetsPath}const IF=/\{([^}]+)\}/g;function yT(t){return t??""}function cC(t,e){return e?t.replaceAll(IF,typeof e=="object"?(r,i)=>yT(_E(i,e)):(r,i)=>yT(e(i))):t}function J0e(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>e?.includes(r)?r:`\\${r}`)}function uC(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return e}let gT;function K0e(t){return gT??=new DOMParser,gT.parseFromString(t||"","text/html").body.innerText||""}function Z0e(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function X0e(t,...e){let r=t[0];for(let i=0;i<e.length;++i)r+=e[i]+t[i+1];return r}const vT={info:0,warn:1,error:2,none:3};let rr=class Ts{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Ts._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=Ts.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Ts._loggers.get(e)||new Ts({module:e})}static{this._loggers=new Map}static{this._tickCounter=0}static{this._tickCounterScheduled=!1}static{this._throttlingDisabled=!1}_log(e,r,...i){if(this._matchLevel(e)){if(r!=="always"&&!Ts._throttlingDisabled){const s=NF(i),n=this._loggedMessages[e].get(s);if(r==="once"&&n!=null||r==="oncePerTick"&&n&&n>=Ts._tickCounter)return;this._loggedMessages[e].set(s,Ts._tickCounter),Ts._scheduleTickCounterIncrement()}for(const s of _t.log.interceptors)if(s(e,this.module,...i))return;this._inheritedWriter()(e,this.module,...i)}}_parentWithMember(e,r){let i=this;for(;i!=null;){const s=i[e];if(s!=null)return s;i=i.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",CF)}_matchLevel(e){const r=_t.log.level||"warn";return vT[this._parentWithMember("level",r)]<=vT[e]}static _scheduleTickCounterIncrement(){Ts._tickCounterScheduled||(Ts._tickCounterScheduled=!0,Promise.resolve().then(()=>{Ts._tickCounter++,Ts._tickCounterScheduled=!1}))}};function CF(t,e,...r){console[t](`[${e}]`,...r)}function NF(...t){return uC(JSON.stringify(t,(r,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]"))}function Q0e(t,e){for(const r of t.values())if(e(r))return!0;return!1}function ege(t,e){for(const r of t.values())if(e(r))return r;return null}function hC(t,e,r){const i=t.get(e);if(i!==void 0)return i;const s=r();return t.set(e,s),s}function tge(t){const e=new Map;return r=>(e.has(r)||e.set(r,t(r)),e.get(r))}const Ic=()=>rr.getLogger("esri.core.accessorSupport.ensureTypes");function PF(t){if(t==null)return t;const e=new Date(t);return isNaN(e.getTime())?(Ic().error("Accessor#set",`Invalid date value: '${t}', falling back to current date`),new Date):e}function LF(t){return t==null?t:!!t}function RF(t){return t==null?t:t.toString()}function Gv(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function wE(t){return t==null?t:Math.round(parseFloat(t))}function kF(t){return null}function DF(t,e){return r=>{let i=t(r);return e.step!=null&&(i=Math.round(i/e.step)*e.step),e.min!=null&&(i=Math.max(e.min,i)),e.max!=null&&(i=Math.min(e.max,i)),i}}function fC(t){return t?.constructor&&t.constructor.__accessorMetadata__!==void 0}function z0(t,e){return e!=null&&t&&!(e instanceof t)}function dC(t){return t&&"isCollection"in t}function bT(t){return t?.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function FF(t,e){if(!e?.constructor||!dC(e.constructor))return H_(t,e)?e:new t(e);const r=bT(t.prototype.itemType),i=bT(e.constructor.prototype.itemType);return r?i?r===i?e:r.prototype.isPrototypeOf(i.prototype)?new t(e):(H_(t,e),e):new t(e):e}function H_(t,e){return!!fC(e)&&(Ic().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+zv(t)+"'"),!0)}function UF(t,e){return e==null?e:dC(t)?FF(t,e):z0(t,e)?H_(t,e)?e:new t(e):e}function zv(t){return t?.prototype?.declaredClass||"unknown"}const jF=new WeakMap;function BF(t){switch(t){case Number:return e=>Gv(e);case Dr:return wE;case Boolean:return LF;case String:return RF;case Date:return PF;case xE:return kF;default:return hC(jF,t,()=>UF.bind(null,t))}}function jn(t,e){const r=BF(t);return arguments.length===1?r:r(e)}function hp(t,e,r){return arguments.length===1?hp.bind(null,t):e&&(Array.isArray(e)?e.map(i=>t(i,r)):[t(e,r)])}function VF(t,e){return arguments.length===1?hp(r=>jn(t,r)):hp(r=>jn(t,r),e)}function pC(t,e,r){return e!==0&&Array.isArray(r)?r.map(i=>pC(t,e-1,i)):t(r)}function q0(t,e,r){if(arguments.length===2)return n=>q0(t,e,n);if(!r)return r;r=pC(t,e,r);let i=e,s=r;for(;i>0&&Array.isArray(s);)i--,s=s[0];if(s!==void 0)for(let n=0;n<i;n++)r=[r];return r}function GF(t,e,r){return arguments.length===2?q0(i=>jn(t,i),e):q0(i=>jn(t,i),e,r)}function mC(t){return!!Array.isArray(t)&&!t.some(e=>{const r=typeof e;return!(r==="string"||r==="number"||r==="function"&&t.length>1)})}function W_(t,e){if(arguments.length===2)return W_(t).call(null,e);const r=new Set,i=t.filter(a=>typeof a!="function"),s=t.filter(a=>typeof a=="function");for(const a of t)typeof a!="string"&&typeof a!="number"||r.add(a);let n=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,f=c==="string"||c==="number";return f&&(r.has(a)||s.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&s.some(d=>!z0(a,d))?a:(f&&i.length?(n||(n=i.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),Ic().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof a=="object"&&s.length?(o||(o=s.map(d=>zv(d)).join(", ")),Ic().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):Ic().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Mh(t,e){if(arguments.length===2)return Mh(t).call(null,e);const r={},i=[],s=[];for(const l in t.typeMap){const c=t.typeMap[l];r[l]=jn(c),i.push(zv(c)),s.push(l)}const n=()=>`'${i.join("', '")}'`,o=()=>`'${s.join("', '")}'`,a=typeof t.key=="string"?l=>l[t.key]:t.key;return l=>{if(t.base&&!z0(t.base,l)||l==null)return l;const c=a(l)||t.defaultKeyValue,f=r[c];if(!f)return Ic().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!z0(t.typeMap[c],l))return l;if(typeof t.key=="string"&&!fC(l)){const d={};for(const p in l)p!==t.key&&(d[p]=l[p]);return f(d)}return f(l)}}let Dr=class{},xE=class{};const sge={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function zF(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function yC(t){switch(t.type){case"native":return jn(t.value);case"array":return hp(yC(t.value));case"one-of":return qF(t);default:return null}}function qF(t){let e=null;return(r,i)=>J_(r,t)?r:(e==null&&(e=Y_(t)),Ic().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),i&&(i.valid=!1),null)}function Y_(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Dr:return"integer";case Date:return"date";case xE:return"null";default:return zv(t.value)}case"array":return`array of ${Y_(t.value)}`;case"one-of":{const e=t.values.map(r=>Y_(r));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function J_(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case Dr:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case xE:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(r=>!J_(r,e.value));case"one-of":return e.values.some(r=>J_(t,r))}}function Xm(t){return Uv(wE(t),0,255)}function Qm(t,e){const r=t.toString(16).padStart(2,"0");return e?r.slice(0,1):r}let Wy=class es{static blendColors(e,r,i,s=new es){return s.r=Math.round(e.r+(r.r-e.r)*i),s.g=Math.round(e.g+(r.g-e.g)*i),s.b=Math.round(e.b+(r.b-e.b)*i),s.a=e.a+(r.a-e.a)*i,s._sanitize()}static fromRgb(e,r){const i=VI(e);return i?es.fromArray(i,r):null}static fromHex(e,r=new es){const i=BI(e);return i?es.fromArray(i,r):null}static fromArray(e,r=new es){return r._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(e,r){const i=GI(e);return i?es.fromArray(i,r):null}static fromJSON(e){return e!=null?new es([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return e!=null?[e.r/255,e.g/255,e.b/255,e.a!=null?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?es.fromString(e,this):Array.isArray(e)?es.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof es||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const r=e?.capitalize??!1,i=e?.digits??6,s=i===3||i===4,n=i===4||i===8,o=`#${Qm(this.r,s)}${Qm(this.g,s)}${Qm(this.b,s)}${n?Qm(Math.round(255*this.a),s):""}`;return r?o.toUpperCase():o}toCss(e=!1){const r=this.r+", "+this.g+", "+this.b;return e?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=es.AlphaMode.ALWAYS){const r=Xm(this.r),i=Xm(this.g),s=Xm(this.b);return e===es.AlphaMode.ALWAYS||this.a!==1?[r,i,s,Xm(255*this.a)]:[r,i,s]}clone(){return new es(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=hh(this.r),this.g=hh(this.g),this.b=hh(this.b),this.a=zI(this.a),this}_set(e,r,i,s){this.r=e,this.g=r,this.b=i,this.a=s}};Wy.prototype.declaredClass="esri.Color",function(t){var e;(e=t.AlphaMode||(t.AlphaMode={}))[e.ALWAYS=0]="ALWAYS",e[e.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Wy||(Wy={}));const wt=Wy,HF={remove:()=>{}};function Nr(t){return t?{remove(){t&&(t(),t=void 0)}}:HF}function gC(t){t.forEach(e=>e?.remove())}function nge(t){gC(t),t.length=0}function EE(t){return Nr(()=>gC(t))}function oge(t){return Nr(()=>t()?.remove())}function age(t){return Nr(()=>t?.abort())}function lge(t){return Nr(t!=null?()=>t.destroy():void 0)}function WF(t){return typeof t=="object"&&!!t&&"remove"in t&&typeof t.remove=="function"}function cge(t){WF(t)&&t.remove()}function uge(t){return{[Symbol.dispose](){t.remove()}}}function SE(t){return YF(t)||vC(t)}function YF(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function vC(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function bC(t,e,r){if(!SE(t))throw new TypeError("target is not a Evented or EventTarget object");return vC(t)?JF(t,e,r):t.on(e,r)}function JF(t,e,r,i){if(Array.isArray(e)){const s=e.slice();for(const n of s)t.addEventListener(n,r,i);return Nr(()=>{for(const n of s)t.removeEventListener(n,r,i)})}return t.addEventListener(e,r,i),Nr(()=>t.removeEventListener(e,r,i))}function _C(t,e,r){if(!SE(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,r);const i=bC(t,e,s=>{i.remove(),r.call(t,s)});return i}function KF(t,e){if(t==null)throw new Error(e??"value is None")}function Yy(t){return t?.destroy(),null}function hge(t){return t?.dispose(),null}function cm(t){return t?.remove(),null}function ZF(t){return t?.abort(),null}function fge(t){return t?.release(),null}function dge(t,e,r){return t!=null&&e!=null?r!=null?r(t,e):t.equals(e):t===e}function XF(t,e){let r;return t.some((i,s)=>(r=e(i,s),r!=null)),r??void 0}function QF(t){return{setTimeout:(e,r)=>{const i=t.setTimeout(e,r);return Nr(()=>t.clearTimeout(i))}}}const eU=QF(globalThis);function tU(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,i)=>i===""?"$":(_E(i,e)??"").toString())}let wC=class{constructor(e,r,i=void 0){this.name=e,this.details=i,this.message=(r&&tU(r,i))??""}toString(){return"["+this.name+"]: "+this.message}},mt=class xC extends wC{constructor(e,r,i){super(e,r,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return ge(r)}catch{return"[object]"}}))}}catch(e){throw rr.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new xC(e.name,e.message,e.details)}};mt.prototype.type="error";function Es(t="Aborted"){return new mt("AbortError",t)}function fp(t,e="Aborted"){if(El(t))throw Es(e)}function qv(t){return t instanceof AbortSignal?t:t?.signal??void 0}function El(t){const e=qv(t);return e!=null&&e.aborted}function rU(t){if(um(t))throw t}function mge(t){if(!um(t))throw t}function $h(t,e){const r=qv(t);if(r!=null){if(!r.aborted)return _C(r,"abort",()=>e());e()}}function iU(t,e){const r=qv(t);if(r!=null)return fp(r),_C(r,"abort",()=>e(Es()))}function yge(t,e){return qv(e)==null?t:new Promise((r,i)=>{let s=$h(e,()=>i(Es()));const n=()=>{s=cm(s)};t.then(n,n),t.then(r,i)})}function um(t){return t?.name==="AbortError"}async function gge(t){try{return await t}catch(e){if(!um(e))throw e;return}}async function sU(t){if(!t)return;if(typeof t.forEach!="function"){const r=Object.keys(t),i=r.map(o=>t[o]),s=await sU(i),n={};return r.map((o,a)=>n[o]=s[a]),n}const e=t;return Promise.allSettled(e).then(r=>Array.from(e,(i,s)=>{const n=r[s];return n.status==="fulfilled"?{promise:i,value:n.value}:{promise:i,error:n.reason}}))}async function vge(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function bge(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function nU(t,e=void 0,r){const i=new AbortController;return $h(r,()=>i.abort()),new Promise((s,n)=>{let o=setTimeout(()=>{o=0,s(e)},t);$h(i,()=>{o&&(clearTimeout(o),n(Es()))})})}function _ge(t,e,r,i){const s=r&&"abort"in r?r:null;i!=null||s||(i=r);let n=setTimeout(()=>{n=0,s?.abort()},e);const o=()=>i||new mt("promiseUtils:timeout","The wrapped promise did not resolve within "+e+" ms");return t.then(a=>{if(n===0)throw o();return clearTimeout(n),a},a=>{throw clearTimeout(n),n===0?o():a})}function wge(t,e){const r=new AbortController,i=setTimeout(()=>r.abort(),e);return $h(t,()=>{r.abort(),clearTimeout(i)}),{...t,signal:r.signal}}function EC(t){return t&&typeof t.then=="function"}function _T(t){return EC(t)?t:Promise.resolve(t)}function xge(t,e=-1){let r,i,s,n,o=null;const a=(...l)=>{if(r){i=l,n&&n.reject(Es()),n=dp();const p=n.promise;if(o){const y=o;o=null,y.abort()}return p}if(s=n||dp(),n=null,e>0){const p=new AbortController;r=_T(t(...l,p.signal));const y=r;nU(e).then(()=>{r===y&&(n?p.abort():o=p)})}else r=1,r=_T(t(...l));const c=()=>{const p=i;i=s=r=o=null,p!=null&&a(...p)},f=r,d=s;return f.then(c,c),f.then(d.resolve,d.reject),d.promise};return a}function dp(){let t,e;const r=new Promise((s,n)=>{t=s,e=n}),i=s=>{t(s)};return i.resolve=s=>t(s),i.reject=s=>e(s),i.timeout=(s,n)=>eU.setTimeout(()=>i.reject(n),s),i.promise=r,i}function Ege(t,e){e.then(t.resolve,t.reject)}async function Sge(t){await Promise.resolve(),fp(t)}function oU(t){return t?.release&&typeof t.release=="function"}function aU(t){return t?.acquire&&typeof t.acquire=="function"}let Hv=class K_{constructor(e,r,i,s=1,n=0){this._ctor=e,this._acquireFunction=r,this._releaseFunction=i,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let o=0;o<n;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...e){let r;if(K_.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const i=this.allocationSize;for(let s=0;s<i;s++)this._pool[s]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...e):aU(r)&&r.acquire(...e),r}release(e){e&&!K_.test.disabled&&(this._releaseFunction?this._releaseFunction(e):oU(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let r=e;r<this._pool.length;++r){const i=this._pool[r];this._dispose(i)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}static{this.test={disabled:!1}}};function lU(t){t.length=0}let Wa=class{constructor(e=50,r=50){this._pool=new Hv(Array,void 0,lU,r,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return _b.acquire()}static release(e){return _b.release(e)}static prune(){_b.prune()}};const _b=new Wa(100);let cU=class extends Hv{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const r=super.acquire(...e);return this._set.delete(r),r}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};const ey=[];function SC(t){ey.push(t),ey.length===1&&queueMicrotask(()=>{const e=ey.slice();ey.length=0;for(const r of e)r()})}let AC=class{constructor(e,r=30){this.name=e,this._counter=0,this._samples=new Array(r)}push(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}set(e){e!=null&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,r)=>e-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,r)=>e+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var Z_;(function(t){const e=(n,o,a,l)=>{let c=o,f=o;const d=a>>>1,p=n[c-1];for(;f<=d;){f=c<<1,f<a&&l(n[f-1],n[f])<0&&++f;const y=n[f-1];if(l(y,p)<=0)break;n[c-1]=y,c=f}n[c-1]=p},r=(n,o)=>n<o?-1:n>o?1:0;function i(n,o,a,l){o===void 0&&(o=0),a===void 0&&(a=n.length),l===void 0&&(l=r);for(let f=a>>>1;f>o;f--)e(n,f,a,l);const c=o+1;for(let f=a-1;f>o;f--){const d=n[o];n[o]=n[f],n[f]=d,e(n,c,f,l)}}function*s(n,o,a,l){o===void 0&&(o=0),a===void 0&&(a=n.length),l===void 0&&(l=r);for(let f=a>>>1;f>o;f--)e(n,f,a,l),yield;const c=o+1;for(let f=a-1;f>o;f--){const d=n[o];n[o]=n[f],n[f]=d,e(n,c,f,l),yield}}t.sort=i,t.iterableSort=s})(Z_||(Z_={}));const wT=Z_,uU=1.5,hU=1.1;let TC=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new YI,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>xT(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const r=new Array;for(let i=0;i<this._length;i++){const s=this.data[i];e(s)&&r.push(s)}return r}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,r){const i=this.data.indexOf(e,r);return i!==-1&&i<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let r=e;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,r=e.length){for(let i=0;i<r;i++)this.data[this._length++]=e[i]}fill(e,r){for(let i=0;i<r;i++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,xT(this)}pop(){if(this.length===0)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const r=z_(this.data,e,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(z_(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,r=e.length,i){this.length=wF(this.data,e,this.length,r,this._hint,i),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,r){if(e>=this.length||r>=this.length||e===r)return;const i=this.data[e];this.data[e]=this.data[r],this.data[r]=i}sort(e){wT.sort(this.data,0,this.length,e)}iterableSort(e){return wT.iterableSort(this.data,0,this.length,e)}some(e,r){for(let i=0;i<this.length;++i)if(e.call(r,this.data[i],i,this.data))return!0;return!1}find(e,r){const{data:i,length:s}=this;for(let n=0;n<s;++n)if(e.call(r,i[n]))return i[n]}filterInPlace(e,r){let i=0;for(let s=0;s<this._length;++s){const n=this.data[s];e.call(r,n,s,this.data)&&(this.data[s]=this.data[i],this.data[i]=n,i++)}if(this._deallocator)for(let s=i;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=i,this._shrink(),this}forAll(e,r){const{data:i,length:s}=this;for(let n=0;n<s;++n)e.call(r,i[n],n,i)}forEach(e,r){this.data.slice(0,this.length).forEach(e,r)}map(e,r){const i=new Array(this.length);for(let s=0;s<this.length;++s)i[s]=e.call(r,this.data[s],s,this.data);return i}reduce(e,r){let i=r;for(let s=0;s<this.length;++s)i=e(i,this.data[s],s,this.data);return i}has(e){const r=this.length,i=this.data;for(let s=0;s<r;++s)if(i[s]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function xT(t){t.data.length>uU*t.length&&(t.data.length=Math.floor(t.length*hU))}function Oge(t){return t}function Ige(t){return 1e3*t}function Cge(t){return t}function Nge(t){return .001*t}let fU=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},dU=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},X_=0;const $f={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},Q_=["prepare","preRender","render","postRender","update","finish"],e2=[],Gc=new TC;let pU=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,MC()}};function mU(){Cc!=null&&(cancelAnimationFrame(Cc),Cc=requestAnimationFrame(AE))}function MC(){Cc==null&&(X_=performance.now(),Cc=requestAnimationFrame(AE))}const H0={frameTasks:Gc,willDispatch:!1,clearFrameTasks:yU,dispatch:IC,executeFrameTasks:gU,reschedule:mU};function $C(t){const e=new dU(t);return e2.push(e),H0.willDispatch||(H0.willDispatch=!0,SC(IC)),e}function kge(t){const e=new fU(t);return Gc.push(e),MC(),new pU(e)}let Cc=null;function yU(t=!1){Gc.forAll(e=>{e.removed=!0}),t&&OC()}function AE(){const t=performance.now();Cc=null,Cc=Gc.some(r=>!r.paused&&!r.removed)?requestAnimationFrame(AE):null,H0.executeFrameTasks(t)}function gU(t){const e=t-X_;X_=t;const r=1e3/60,i=Math.max(0,e-r);$f.time=t,$f.frameDuration=r-i;for(let s=0;s<Q_.length;s++){const n=performance.now(),o=Q_[s];Gc.forAll(a=>{a.paused||a.removed||(s===0&&a.ticks++,a.phases[o]&&($f.elapsedFrameTime=performance.now()-t,$f.deltaTime=a.ticks===0?0:e,a.phases[o]?.call(a,$f)))}),_U[s].push(performance.now()-n)}OC(),wU.push(performance.now()-t)}const ty=new TC;function OC(){Gc.forAll(t=>{t.removed&&ty.push(t)}),Gc.removeUnorderedMany(ty.data,ty.length),ty.clear()}function IC(){for(;e2.length;){const t=e2.shift();t.isActive&&t.callback()}H0.willDispatch=!1}function vU(t=1,e){const r=dp(),i=()=>{El(e)?r.reject(Es()):t===0?r():(--t,SC(()=>i()))};return i(),r.promise}function bU(t){return vU(1,t)}async function Dge(t){await bU(t),await new Promise(e=>requestAnimationFrame(()=>{t?.aborted||e()}))}const _U=Q_.map(t=>new AC(t)),wU=new AC("total");function xU(t,e){for(const r of t.values())if(e(r))return!0;return!1}function ET(t,e){if(!e)return t;for(const r of e)r!=null&&t.add(r);return t}function Fge(t,e){return e!=null&&t.add(e),t}function TE(t,e){const r=new Set;return ET(r,t),ET(r,e),r}function EU(t,e){const r=new Set;for(const i of e)t.has(i)&&r.add(i);return r}function Uge(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const r of t)if(!e.has(r))return!1;return!0}function jge(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}function SU(t,e){const r=new Set(t);for(const i of e)r.delete(i);return r}function Bge(t,e){return SU(TE(t,e),EU(t,e))}let AU=0;function Jy(){return++AU}function Sl(t){return t.__accessor__??null}function TU(t,e){return t?.metadata?.[e]!=null}function Ky(t,e,r){return r?W0(t,e,{policy:r,path:""}):W0(t,e,null)}function W0(t,e,r){return e?Object.keys(e).reduce((i,s)=>{const n=s;if(n==="__proto__")return i;let o=null,a="merge";if(r&&(o=r.path?`${r.path}.${s}`:s,a=r.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(i[n]))return i[n]=e[n],i;if(i[n]===void 0)return i[n]=ge(e[n]),i;let l=i[n],c=e[n];if(l===c)return i;if(Array.isArray(c)||Array.isArray(i))l=l?Array.isArray(l)?i[n]=l.slice():i[n]=[l]:i[n]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(f=>{l.includes(f)||l.push(f)}));else if(c&&typeof c=="object")if(r){const f=r.path;r.path=o,i[n]=W0(l,c,r),r.path=f}else i[n]=W0(l,c,null);else i.hasOwnProperty(s)&&!e.hasOwnProperty(s)||(i[n]=c);return i},t||{}):t}function CC(t){return Array.isArray(t)?t:t.split(".")}function ST(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function MU(t){if(Array.isArray(t)){const e=[];for(const r of t)e.push(...ST(r));return e}return ST(t)}function NC(t,e,r,i){const s=MU(e);if(s.length!==1){const n=s.map(o=>i(t,o,r));return EE(n)}return i(t,s[0],r)}function PC(t,e){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const i=Sl(e);return TU(i,r)?i.get(r):e[r]}function LC(t,e,r){if(t==null)return t;const i=PC(e[r],t);return!i&&r<e.length-1?void 0:r===e.length-1?i:LC(i,e,r+1)}function hm(t,e,r=0){return typeof e!="string"||e.includes(".")?LC(t,CC(e),r):PC(e,t)}function Oh(t,e){return hm(t,e)}function AT(t,e){return hm(e,t)!==void 0}const Os={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4},Ht={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let Wv=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){this.accessed?.clear(),this.clear()}onAccessed(e){this._observer!=null&&e!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(e=>{this._handles.push(e.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}};const Y0=new Wv,Jf=[];let Md=Y0;function Be(t){Md.onAccessed(t)}let Zy=!1,Xy=!1;function va(t,e,r){if(Zy)return ME(t,e,r);let i=null;return RC(t),i=e.call(r),kC(),i}function $U(t,e){return va(Y0,t,e)}function ME(t,e,r){const i=Zy;Zy=!0,RC(t);let s=null;try{s=e.call(r)}catch(n){Xy&&rr.getLogger("esri.core.accessorSupport.tracking").error(n)}return kC(),Zy=i,s}function RC(t){Md=t,Jf.push(t)}function kC(){const t=Jf.length;if(t>1){const e=Jf.pop();Md=Jf[t-2],e.onTrackingEnd()}else if(t===1){const e=Jf.pop();Md=Y0,e.onTrackingEnd()}else Md=Y0}function DC(t,e){if(e.flags&Ht.DepTrackingInitialized)return;e.flags|=Ht.DepTrackingInitialized;const r=Xy;Xy=!1,e.flags&Ht.AutoTracked?ME(e.trackingTarget,e.metadata.get,t):FC(t,e),Xy=r}const OU=[];function FC(t,e){e.flags&Ht.ExplicitlyTracking||(e.flags|=Ht.ExplicitlyTracking,ME(e.trackingTarget,()=>{const r=e.metadata.dependsOn||OU;for(const i of r)if(typeof i!="string"||i.includes(".")){const s=CC(i);for(let n=0,o=t;n<s.length&&o!=null&&typeof o=="object";++n)o=TT(o,s[n],n!==s.length-1)}else TT(t,i,!1)}),e.flags&=-129)}function TT(t,e,r){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(i,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const s=Sl(t);if(s){const n=s.propertiesByName.get(i);n&&(Be(n),DC(t,n))}return r?t[i]:void 0}let Yv=class extends Wv{constructor(e){super(new IU(e)),this._observer&&MT.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&MT.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},IU=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=CU}};const MT=new FinalizationRegistry(t=>{t.deref()?.destroy()});function CU(){}let dh=!1;const J0=[];function UC(t,e){let r=new Yv(n),i=null,s=!1;function n(){if(!r||s)return;if(dh)return void BC(n);const a=i;r.clear(),dh=!0,s=!0,i=va(r,t),s=!1,dh=!1,e(i,a),VC()}function o(){r&&(r.destroy(),r=null,i=null)}return s=!0,i=va(r,t),s=!1,Nr(o)}function jC(t,e){let r=new Yv(s),i=null;function s(){e(i,o)}function n(){r&&(r.destroy(),r=null),i=null}function o(){return r?(r.clear(),i=va(r,t),i):null}return o(),Nr(n)}function qge(t,e){let r=!1,i=!1;const s=!!e?.sync;let n=new Yv(()=>{r||i||(i=!0,s?o():queueMicrotask(o))});function o(){i=!1,n&&!r&&(dh?BC(o):(n.clear(),dh=!0,r=!0,va(n,t),r=!1,dh=!1,VC()))}function a(){n&&(n.destroy(),n=null)}return r=!0,va(n,t),r=!1,Nr(a)}function BC(t){J0.includes(t)||J0.unshift(t)}function VC(){for(;J0.length;)J0.pop()()}var $d;(function(t){t[t.Untracked=0]="Untracked",t[t.Tracked=1]="Tracked"})($d||($d={}));let $E=class GC{constructor(){this.uid=Jy(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static{this.pool=new cU(GC)}static acquireUntracked(e,r,i,s,n){return this.pool.acquire($d.Untracked,e,r,i,s,n,bE)}static acquireTracked(e,r,i,s){return this.pool.acquire($d.Tracked,e,r,i,null,null,s)}notify(e,r){this.type===$d.Untracked?this.callback.call(this.target,e,r,this.path,this.target):this.callback.call(null,e,r,void 0,void 0)}acquire(e,r,i,s,n,o,a){this.uid=Jy(),this.removed=!1,this.type=e,this.oldValue=r,this.callback=i,this.getValue=s,this.target=n,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Jy(),this.removed=!0}};const Qy=new Wa,ma=new Set;let K0;function Z0(t){ma.delete(t),ma.add(t),K0||(K0=$C(LU))}function NU(t){if(t.removed)return;const e=t.oldValue,r=t.getValue();t.equals(e,r)||(t.oldValue=r,t.notify(r,e))}function PU(t){for(const e of ma.values())e.target===t&&(e.removed=!0)}function LU(){let t=10;for(;K0&&t--;){K0=null;const e=RU(),r=Qy.acquire();for(const i of e){const s=i.uid;NU(i),s===i.uid&&i.removed&&r.push(i)}for(const i of ma)i.removed&&(r.push(i),ma.delete(i));for(const i of r)$E.pool.release(i);Qy.release(r),Qy.release(e),t2.forEach(i=>i())}}function RU(){const t=Qy.acquire();t.length=ma.size;let e=0;for(const r of ma)t[e]=r,++e;return ma.clear(),t}const t2=new Set;function Hge(t){return t2.add(t),Nr(()=>t2.delete(t))}function kU(t,e,r){let i=NC(t,e,r,(s,n,o)=>{let a,l,c=jC(()=>hm(s,n),(f,d)=>{s.__accessor__?.lifecycle===Os.DESTROYED||a&&a.uid!==l?i.remove():(a||(a=$E.acquireUntracked(f,o,d,s,n),l=a.uid),Z0(a))});return Nr(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,Z0(a)),a=null),i=c=null})});return i}function DU(t,e,r){const i=NC(t,e,r,(s,n,o)=>{let a=!1;return UC(()=>hm(s,n),(l,c)=>{s.__accessor__.lifecycle!==Os.DESTROYED?a||(a=!0,bE(c,l)||o.call(s,l,c,n,s),a=!1):i.remove()})});return i}function FU(t,e,r,i=!1){return t.__accessor__&&t.__accessor__.lifecycle!==Os.DESTROYED?i?DU(t,e,r):kU(t,e,r):Nr()}function UU(t,e,r){let i,s,n=jC(t,(o,a)=>{i&&i.uid!==s?n.remove():(i||(i=$E.acquireTracked(o,e,a,r),s=i.uid),Z0(i))});return Nr(()=>{n.remove(),i&&(i.uid!==s||i.removed||(i.removed=!0,Z0(i)),i=null),n=null})}function jU(t,e,r){let i=!1;return UC(t,(s,n)=>{i||(i=!0,r(n,s)||e(s,n),i=!1)})}function BU(t,e,r=!1,i=oC){return r?jU(t,e,i):UU(t,e,i)}function Wge(t){return xU(ma,e=>e.oldValue===t)}function Kr(t,e,r={}){return OE(t,e,r,qC)}function r2(t,e,r={}){return OE(t,e,r,HC)}function OE(t,e,r={},i){let s=null;const n=r.once?(o,a)=>{i(o)&&(cm(s),e(o,a))}:(o,a)=>{i(o)&&e(o,a)};if(s=BU(t,n,r.sync,r.equals),r.initial){const o=t();n(o,o)}return s}function zC(t,e,r,i={}){let s=null,n=null,o=null;function a(){s&&n&&(n.remove(),i.onListenerRemove?.(s),s=null,n=null)}function l(f){i.once&&i.once&&cm(o),r(f)}const c=Kr(t,(f,d)=>{a(),SE(f)&&(s=f,n=bC(f,e,l),i.onListenerAdd?.(f))},{sync:i.sync,initial:!0});return o=Nr(()=>{c.remove(),a()}),o}function Yge(t,e){return VU(t,HC,e)}function VU(t,e,r){if(El(r))return Promise.reject(Es());const i=t();if(e?.(i))return Promise.resolve(i);let s=null;function n(){s=cm(s)}return new Promise((o,a)=>{s=EE([$h(r,()=>{n(),a(Es())}),OE(t,l=>{n(),o(l)},{sync:!1,once:!0},e??qC)])})}function qC(t){return!0}function HC(t){return!!t}function Jge(t,e,r={}){let i=!1;const s=Kr(t,(n,o)=>{i||e(n,o)},r);return{remove(){s.remove()},pause(){i=!0},resume(){i=!1}}}const GU={sync:!0},wb={initial:!0},Kge={sync:!0,initial:!0};function g(t,e,r,i){var s,n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(n<3?s(o):n>3?s(e,r,o):s(e,r))||o);return n>3&&o&&Object.defineProperty(e,r,o),o}function Zge(t,e){return function(r,i){e(r,i,t)}}function Xge(t,e,r,i){function s(n){return n instanceof r?n:new r(function(o){o(n)})}return new(r||(r=Promise))(function(n,o){function a(f){try{c(i.next(f))}catch(d){o(d)}}function l(f){try{c(i.throw(f))}catch(d){o(d)}}function c(f){f.done?n(f.value):s(f.value).then(a,l)}c((i=i.apply(t,[])).next())})}function Qge(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,s;if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),t.stack.push({value:e,dispose:i,async:r})}return e}var zU=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function eve(t){function e(n){t.error=t.hasError?new zU(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var r,i=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&i===1)return i=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var n=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(n).then(s,function(o){return e(o),s()})}else i|=1}catch(o){e(o)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function fm(t){let e=t.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!r){e=Object.create(e);for(const i in e)e[i]=ge(e[i]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function Jv(t,e){const r=fm(t);let i=r[e];return i||(i=r[e]={}),i}function qU(t,e){return Ky(t,e,WU)}const HU=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function WU(t){return HU.test(t)?"replace":"merge"}function X0(t,e,r){if(t&&e)if(typeof e=="object")for(const i of Object.getOwnPropertyNames(e))X0(t,i,e[i]);else{if(e.includes(".")){const s=e.split("."),n=s.splice(-1,1)[0];return void X0(Oh(t,s),n,r)}const i=t.__accessor__;i!=null&&YU(e,i),t[e]=r}}function YU(t,e){if(ee("esri-unknown-property-errors")&&!JU(t,e))throw new mt("set:unknown-property",KU(t,e))}function JU(t,e){return e.metadata[t]!=null}function KU(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}function A(t={}){return(e,r)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${r}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(e,r),s=Jv(e,r);i&&(i.get||i.set?(s.get=i.get||s.get,s.set=i.set||s.set):"value"in i&&("value"in t&&rr.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${e.constructor.name}" already defined in the metadata`,t),s.value=t.value=i.value)),t.readOnly!=null&&(s.readOnly=t.readOnly);const n=t.aliasOf;if(n){const l=typeof n=="string"?n:n.source,c=typeof n=="string"?null:n.overridable===!0;let f;s.dependsOn=[l],s.get=function(){let d=Oh(this,l);if(typeof d=="function"){f||(f=l.split(".").slice(0,-1).join("."));const p=Oh(this,f);p&&(d=d.bind(p))}return d},s.readOnly||(s.set=c?function(d){this._override(r,d)}:function(d){X0(this,l,d)})}const o=t.type,a=t.types;if(!s.cast){let l;o?l=ZU(o):a&&(l=Array.isArray(a)?hp(Mh(a[0])):Mh(a)),t.cast=XU(t.cast,l)}qU(s,t),t.range&&(s.cast=DF(s.cast,t.range))}}function WC(t,e,r){const i=Jv(t,r);i.json||(i.json={});let s=i.json;return e!==void 0&&(s.origins||(s.origins={}),s.origins[e]||(s.origins[e]={}),s=s.origins[e]),s}function ZU(t){let e=0,r=t;if(zF(t))return yC(t);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],e++;const i=r;if(mC(i))return e===0?W_(i):q0(W_(i),e);if(e===1)return VF(i);if(e>1)return GF(i,e);const s=t;return s.from?s.from:jn(s)}function XU(t,e){if(t||e)return t?e?(r,i)=>e(t(r,i),i):t:e}const YC=Symbol("Accessor-beforeDestroy");function QU(t){if(t.json&&t.json.origins){const e=t.json.origins,r={"web-document":["web-scene","web-map"]};for(const i in r)if(e[i]){const s=e[i];r[i].forEach(n=>{e[n]=s}),delete e[i]}}}let pp=class extends wC{constructor(e,r,i){super(e,r,i)}};pp.prototype.type="warning";function JC(t){return!!t&&t.prototype?.declaredClass&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}const i2=()=>rr.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function $T(t,e,r){t&&(!r&&!e.read||e.read?.reader||e.read?.enabled===!1||rj(t)&&au("read.reader",KC(t),e))}function KC(t){const e=t.ndimArray??0;if(e>1)return tj(t);if(e===1)return OT(t);if("type"in t&&XC(t.type)){const r=t.type.prototype?.itemType?.Type,i=OT(typeof r=="function"?{type:r}:{types:r});return(s,n,o)=>{const a=i(s,n,o);return a&&new t.type(a)}}return IE(t)}function IE(t){return"type"in t?ej(t.type):ij(t.types)}function ej(t){return t.prototype.read?(e,r,i)=>{if(e==null)return e;const s=typeof e;if(s!=="object")return void i2().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${s}'`);const n=new t;return n.read(e,i),n}:t.fromJSON}function ZC(t,e,r,i){return i!==0&&Array.isArray(e)?e.map(s=>ZC(t,s,r,i-1)):t(e,void 0,r)}function tj(t){const e=IE(t),r=ZC.bind(null,e),i=t.ndimArray??0;return(s,n,o)=>{if(s==null)return s;s=r(s,o,i);let a=i,l=s;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)s=[s];return s}}function OT(t){const e=IE(t);return(r,i,s)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const a of r){const l=e(a,void 0,s);l!==void 0&&o.push(l)}return o}const n=e(r,void 0,s);return n!==void 0?[n]:void 0}}function XC(t){if(!JC(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?CE(e.Type):QC(e.Type))}function rj(t){return"types"in t?QC(t.types):CE(t.type)}function CE(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||XC(t))}function QC(t){for(const e in t.typeMap)if(!CE(t.typeMap[e]))return!1;return!0}function ij(t){let e=null;const r=t.errorContext??"type",i=t.validate;return(s,n,o)=>{if(s==null)return s;const a=typeof s;if(a!=="object")return void i2().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);e||(e=sj(t));const l=t.key;if(typeof l!="string")return;const c=s[l],f=c?e[c]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!f){const p=`Type '${c||"unknown"}' is not supported`;return o?.messages&&s&&o.messages.push(new pp(`${r}:unsupported`,p,{definition:s,context:o})),void i2().error(p)}const d=new f;return d.read(s,o),i?i(d):d}}function sj(t){const e={};for(const r in t.typeMap){const i=t.typeMap[r],s=fm(i.prototype);if(typeof t.key=="function")continue;const n=s[t.key];if(!n)continue;if(n.json?.type&&Array.isArray(n.json.type)&&n.json.type.length===1&&typeof n.json.type[0]=="string"){e[n.json.type[0]]=i;continue}const o=n.json?.write;if(!o?.writer){e[r]=i;continue}const a=o.target,l=typeof a=="string"?a:t.key,c={};o.writer(r,c,l),c[l]&&(e[c[l]]=i)}return e}function nj(t){if(t.json||(t.json={}),CT(t.json),NT(t.json),IT(t.json),t.json.origins)for(const e in t.json.origins)CT(t.json.origins[e]),NT(t.json.origins[e]),IT(t.json.origins[e]);return!0}function IT(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function CT(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function NT(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function PT(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const r=t?.ndimArray??0;t&&(r===1||"type"in t&&JC(t.type))?e.write.writer=cj:r>1?e.write.writer=uj(r):e.types?Array.isArray(e.types)?e.write.writer=aj(e.types[0]):e.write.writer=oj(e.types):e.write.writer=mp}function oj(t){return(e,r,i,s)=>e?e5(e,t,s)?mp(e,r,i,s):void 0:mp(e,r,i,s)}function e5(t,e,r){for(const i in e.typeMap)if(t instanceof e.typeMap[i])return!0;if(r?.messages){const i=e.errorContext??"type",s=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&t&&r.messages.push(new mt(`${i}:unsupported`,s,{definition:t,context:r})),rr.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function aj(t){return(e,r,i,s)=>!e||!Array.isArray(e)?mp(e,r,i,s):mp(e.filter(n=>e5(n,t,s)),r,i,s)}function mp(t,e,r,i){au(r,Q0(t,i),e)}function Q0(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?lj(t):t}function lj(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function cj(t,e,r,i){let s;t===null?s=null:t&&typeof t.map=="function"?(s=t.map(n=>Q0(n,i)),typeof s.toArray=="function"&&(s=s.toArray())):s=[Q0(t,i)],au(r,s,e)}function t5(t,e,r){return r!==0&&Array.isArray(t)?t.map(i=>t5(i,e,r-1)):Q0(t,e)}function uj(t){return(e,r,i,s)=>{let n;if(e===null)n=null;else{n=t5(e,s,t);let o=t,a=n;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)n=[n]}au(i,n,r)}}function hj(t,e){return NE(t,"any",e?.origin)}function s2(t,e){return NE(t,"read",e?.origin)}function r5(t,e){return NE(t,"write",e?.origin)}function NE(t,e,r){let i=t?.json;if(i?.origins&&r){let s;s=r==="link-chart"?i.origins[r]&&(e==="any"||e in i.origins[r])?i.origins[r]:i.origins["web-map"]:i.origins[r],s&&(e==="any"||e in s)&&(i=s)}return i}function fj(t){const e=dj(t);if(t.json.origins)for(const r in t.json.origins){const i=t.json.origins[r],s=i.types?pj(i):e;$T(s,i,!1),i.types&&!i.write&&t.json.write?.enabled&&(i.write={...t.json.write}),PT(s,i)}$T(e,t.json,!0),PT(e,t.json)}function dj(t){return t.json.types?n2(t.json):t.type?i5(t):n2(t)}function pj(t){return t.type?i5(t):n2(t)}function i5(t){if(!t.type)return;let e=0,r=t.type;for(;Array.isArray(r)&&!mC(r);)r=r[0],e++;return{type:r,ndimArray:e}}function n2(t){if(!t.types)return;let e=0,r=t.types;for(;Array.isArray(r);)r=r[0],e++;return{types:r,ndimArray:e}}function mj(t){nj(t)&&(QU(t),fj(t))}const xb=new Set,Eb=new Set;function ie(t){return e=>{t??="esri.core.Accessor",e.prototype.declaredClass=t,gj(e);const r=[],i=[];let s=e.prototype;for(;s;)s.hasOwnProperty("initialize")&&!xb.has(s.initialize)&&(xb.add(s.initialize),r.push(s.initialize)),s.hasOwnProperty("destroy")&&!Eb.has(s.destroy)&&(Eb.add(s.destroy),i.push(s.destroy)),s=Object.getPrototypeOf(s);xb.clear(),Eb.clear();const n=class extends e{constructor(...a){if(super(...a),this.constructor===n&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),i.length){let l=!1;const c=this[YC];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){this.__accessor__.lifecycle=Os.DESTROYING,l=!0,c.call(this);for(let f=0;f<i.length;f++)i[f].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=fm(e.prototype),n.prototype.declaredClass=t;const o=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:o,configurable:!0}),n}}function yj(t,e){return e.get==null?function(){const r=this.__accessor__,i=r.propertiesByName.get(t);if(i===void 0)return;r.mutable&&Be(i);const s=r.store;return s.has(t)?s.get(t):i.metadata.value}:function(){const r=this.__accessor__,i=r.propertiesByName.get(t);if(i!==void 0)return i.getComputed(r)}}function gj(t){const e=t.prototype,r=fm(e),i={};for(const s of Object.getOwnPropertyNames(r)){const n=r[s];mj(n),i[s]={enumerable:!0,configurable:!0,get:yj(s,n),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&n.readOnly?LT("read-only",s):a.lifecycle===Os.CONSTRUCTED&&n.constructOnly?LT("construct-only",s):void a.set(s,o)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(t.prototype,i)}const LT=(t,e)=>{rr.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)},RT=new WeakMap;function vj(t,e,r=!1){const i=` DEPRECATED - ${e}`;if(!r)return void t.warn(i);let s=RT.get(t);s||(s=new Set,RT.set(t,s)),s.has(e)||(s.add(e),t.warn(i))}const eg="https://www.esriurl.com/";function rve(t,e,r,i={}){ee("esri-deprecation-warnings")&&Al(t,`This widget is deprecated. Use the ${e} component instead.`,{see:[`${e} component reference: ${eg}${r}/`,`Esri's move to web components: ${eg}components-transition-plan/`],replacement:`<${r}></${r}>`,warnOnce:!0,...i})}function ive(t,e,r,i={}){ee("esri-deprecation-warnings")&&Al(t,`This view model is deprecated. Use the ${e} component directly instead.`,{see:[`${e} component reference: ${eg}${r}/`,`Esri's move to web components: ${eg}components-transition-plan/`],replacement:`<${r}></${r}>`,warnOnce:!0,...i})}function sve(t,e,r={}){ee("esri-deprecation-warnings")&&Al(t,`Module: ${e}`,r)}function s5(t,e,r={}){if(ee("esri-deprecation-warnings")){const{moduleName:i}=r;Al(t,`Function: ${(i?i+"::":"")+e+"()"}`,r)}}function bj(t,e,r={}){if(ee("esri-deprecation-warnings")){const{moduleName:i}=r;Al(t,`Property: ${(i?i+"::":"")+e}`,r)}}function _j(t,e,r={}){ee("esri-deprecation-warnings")&&Al(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...r})}function Al(t,e,r={}){if(ee("esri-deprecation-warnings")){const{replacement:i,version:s,see:n,warnOnce:o}=r;let a=e;if(i&&(a+=`
	 Replacement: ${i}`),s&&(a+=`
	 Version: ${s}`),n)if(Array.isArray(n)){a+=`
	 See for more details:`;for(const l of n)a+=`
		${l}`}else a+=`
	 See ${n} for more details.`;vj(t,a,o)}}function nve(t){const e=[];return function*(){yield*e;for(const r of t)e.push(r),yield r}}function ove(t,e){for(const r of t)if(r!=null&&e(r))return r}function kT(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let PE=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(r=>{e+=r.length}),e}add(e,r){if(kT(e)){const i=this._getOrCreateGroup(r);for(const s of e)FT(s)&&i.push(s)}else FT(e)&&this._getOrCreateGroup(r).push(e);return this}forEach(e,r){if(typeof e=="function")this._groups.forEach(i=>i.forEach(e));else{const i=this._getGroup(e);i&&r&&i.forEach(r)}}has(e){return this._groups.has(ry(e))}remove(e){if(typeof e!="string"&&kT(e)){for(const r of e)this.remove(r);return this}return this.has(e)?(DT(this._getGroup(e)),this._groups.delete(ry(e)),this):this}removeAll(){return this._groups.forEach(DT),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const r=[];return this._groups.set(ry(e),r),r}_getGroup(e){return this._groups.get(ry(e))}};function ry(t){return t||"_default_"}function DT(t){for(const e of t)e instanceof PE?e.removeAll():e.remove()}function FT(t){return t!=null&&(!!t.remove||t instanceof PE)}let wj=class{constructor(e,r){this._observers=e,this._observer=r}remove(){xF(this._observers,this._observer)}},n5=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return xj;this._observers==null&&(this._observers=[]);const r=this._observers;let i=!1,s=!1;const n=r.length;for(let o=0;o<n;++o){const a=r[o];if(a.destroyed)s=!0;else if(a===e){i=!0;break}}return i||(r.push(e),s&&this._removeDestroyedObservers()),new wj(r,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||e.length===0)return;const r=e.length;let i=0;for(let s=0;s<r;++s){for(;s+i<r&&e[s+i].destroyed;)++i;if(i>0){if(!(s+i<r))break;e[s]=e[s+i]}}e.length=r-i}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(e!=null){for(const r of e)r.onCommitted();this._observers=null}}};const xj=Nr();var ht;(function(t){t[t.DEFAULTS=0]="DEFAULTS",t[t.COMPUTED=1]="COMPUTED",t[t.SERVICE=2]="SERVICE",t[t.PORTAL_ITEM=3]="PORTAL_ITEM",t[t.WEB_SCENE=4]="WEB_SCENE",t[t.WEB_MAP=5]="WEB_MAP",t[t.LINK_CHART=6]="LINK_CHART",t[t.USER=7]="USER"})(ht||(ht={}));const uve=ht.USER+1;function o5(t){switch(t){case"defaults":return ht.DEFAULTS;case"service":return ht.SERVICE;case"portal-item":return ht.PORTAL_ITEM;case"web-scene":return ht.WEB_SCENE;case"web-map":return ht.WEB_MAP;case"link-chart":return ht.LINK_CHART;case"user":return ht.USER;default:return null}}function o2(t){switch(t){case ht.DEFAULTS:return"defaults";case ht.SERVICE:return"service";case ht.PORTAL_ITEM:return"portal-item";case ht.WEB_SCENE:return"web-scene";case ht.WEB_MAP:return"web-map";case ht.LINK_CHART:return"link-chart";case ht.USER:return"user"}}function Ej(t){return o2(t)}let UT=class extends n5{constructor(e,r){super(),this.propertyName=e,this.metadata=r,this.trackingTarget=new Wv(this),this.flags=0,this.flags=Ht.Dirty|(r.nonNullable?Ht.NonNullable:0)|(r.hasOwnProperty("value")?Ht.HasDefaultValue:0)|(r.get===void 0?Ht.DepTrackingInitialized:0)|(r.dependsOn===void 0?Ht.AutoTracked:0)}destroy(){this.flags&Ht.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&Be(this);const r=e.store,i=this.propertyName,s=this.flags,n=r.get(i);if(s&Ht.Computing||~s&Ht.Dirty&&r.has(i))return n;this.flags|=Ht.Computing;const o=e.host;let a;s&Ht.AutoTracked?a=va(this.trackingTarget,this.metadata.get,o):(FC(o,this),a=this.metadata.get.call(o)),this.flags|=Ht.DepTrackingInitialized,r.set(i,a,ht.COMPUTED);const l=r.get(i);return l===n?this.flags&=-2:$U(this.commit,this),this.flags&=-5,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&Ht.Overridden&&(this.flags|=Ht.Dirty);const e=this._observers;if(e&&e.length>0)for(const r of e)r.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const r=e.slice();for(const i of r)i.onCommitted()}}},Sj=class a5{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const r=new a5;return this._values.forEach((i,s)=>{e&&e.has(s)||r.set(s,ge(i))}),r}get(e){return this._values.get(e)}originOf(){return ht.USER}keys(){return[...this._values.keys()]}set(e,r){this._values.set(e,r)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,r){return this.has(e)}isBelowOrigin(e,r){return!this.has(e)}forEach(e){this._values.forEach(e)}};function Eu(t,e,r){return t!==void 0}function jT(t,e,r,i){return t!==void 0&&(!(r==null&&t.flags&Ht.NonNullable)||(i.lifecycle,!1))}let Aj=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Os.INITIALIZING,this.store=new Sj,this.mutable=!0,this._origin=ht.USER;const r=this.host.constructor.__accessorMetadata__;for(const i in r){const s=new UT(i,r[i]);this.propertiesByName.set(i,s)}this.metadata=r}initialize(){this.lifecycle=Os.CONSTRUCTING}constructed(){this.lifecycle=Os.CONSTRUCTED}destroy(){this.lifecycle=Os.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==Os.INITIALIZING}get(e){const r=this.propertiesByName.get(e);if(!Eu(r))return;if(r.metadata.get)return r.getComputed(this);this.mutable&&Be(r);const i=this.store;return i.has(e)?i.get(e):r.metadata.value}originOf(e){const r=this.store.originOf(e);if(r===void 0){const i=this.propertiesByName.get(e);if(i!==void 0&&i.flags&Ht.HasDefaultValue)return"defaults"}return o2(r)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const r=this.propertiesByName.get(e);if(Eu(r))return this.store.has(e)?this.store.get(e):r.metadata.value}internalSet(e,r){const i=this.propertiesByName.get(e);Eu(i)&&this._internalSet(i,r)}getDependsInfo(e,r,i){const s=this.propertiesByName.get(r);if(!Eu(s))return"";const n=new Wv,o=va(n,()=>s.metadata.get?.call(e));let a=`${i}${e.declaredClass.split(".").pop()}.${r}: ${o}
`;const l=n.accessed??new Set;if(l.size===0)return a;i+="  ";for(const c of l)c instanceof UT&&(a+=`${i}${c.propertyName}: undefined
`);return a}setAtOrigin(e,r,i){const s=this.propertiesByName.get(e);if(Eu(s))return this._setAtOrigin(s,r,i)}isOverridden(e){const r=this.propertiesByName.get(e);return r!==void 0&&!!(r.flags&Ht.Overridden)}clearOrigin(e,r){const i=this.store,s=this.propertiesByName.get(e);if(!Eu(s))return;const n=i.isAtOrigin(e,r)&&!(s.flags&Ht.Overridden);i.delete(e,r),n&&s.notifyChange()}clearOverride(e){const r=this.propertiesByName.get(e);r&&r.flags&Ht.Overridden&&(r.flags&=-3,r.notifyChange())}override(e,r){const i=this.propertiesByName.get(e);if(!jT(i,e,r,this))return;const s=i.metadata.cast;if(s){const n=this._cast(s,r),{valid:o,value:a}=n;if(Sb.release(n),!o)return;r=a}i.flags|=Ht.Overridden,this._internalSet(i,r)}set(e,r){const i=this.propertiesByName.get(e);if(!jT(i,e,r,this))return;const s=i.metadata.cast;if(s){const o=this._cast(s,r),{valid:a,value:l}=o;if(Sb.release(o),!a)return;r=l}const n=i.metadata.set;n?n.call(this.host,r):this._internalSet(i,r)}setDefaultOrigin(e){this._origin=o5(e)}getDefaultOrigin(){return o2(this._origin)}notifyChange(e){const r=this.propertiesByName.get(e);r!==void 0&&r.notifyChange()}invalidate(e){const r=this.propertiesByName.get(e);r!==void 0&&r.invalidate()}commit(e){const r=this.propertiesByName.get(e);r!==void 0&&r.commit()}_internalSet(e,r){const i=this.lifecycle!==Os.INITIALIZING?this._origin:ht.DEFAULTS;this._setAtOrigin(e,r,i)}_setAtOrigin(e,r,i){const s=this.store,n=e.propertyName;if(s.isAtOrigin(n,i)&&bE(r,s.get(n))&&~e.flags&Ht.Overridden)return;const o=s.isBelowOrigin(n,i)||s.isAtOrigin(n,i);o&&e.invalidate(),s.set(n,r,i),o&&e.commit(),DC(this.host,e)}_cast(e,r){const i=Sb.acquire();return i.valid=!0,i.value=r,e&&(i.value=e.call(this.host,r,i)),i}},Tj=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const Sb=new Hv(Tj);let Mj;function $j(){return Mj}var BT;(function(t){t[t.Ignore=0]="Ignore",t[t.Destroy=1]="Destroy",t[t.ThrowError=2]="ThrowError"})(BT||(BT={}));var VT,GT;function Oj(t){if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const Oa=Symbol("Accessor-Handles"),Ab=Symbol("Accessor-Initialized");let oi=class e0{static{VT=Oa,GT=Ab}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:i,constructor:s}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const n=this;class o extends n{constructor(...l){super(...l),this.inherited=null,s&&s.apply(this,l)}}fm(o.prototype);for(const a in e){const l=e[a];o.prototype[a]=typeof l=="function"?function(...c){const f=this.inherited;let d;this.inherited=function(...p){if(n.prototype[a])return n.prototype[a].apply(this,p)};try{d=l.apply(this,c)}catch(p){throw this.inherited=f,p}return this.inherited=f,d}:e[a]}for(const a in r){const l=Oj(r[a]);A(l)(o.prototype,a)}return ie(i)(o)}static freeze(e){return e instanceof e0?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof e0?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[VT]=null,this[GT]=!1,this.constructor===e0)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new Aj(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),e.length>0&&(r.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0])}postscript(){const e=this.__accessor__,r=e.ctorArgs;e.initialize(),r&&(this.set(r),e.ctorArgs=null),e.constructed(),this.initialize(),this[Ab]=!0}initialize(){}[YC](){this[Oa]=Yy(this[Oa])}destroy(){this.destroyed||(PU(this),this.__accessor__.destroy(),$j()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[Ab]}get destroyed(){return this.__accessor__?.lifecycle===Os.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===Os.DESTROYING||!1}commitProperty(e){Oh(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,r){return X0(this,e,r),this}watch(e,r,i){return s5(rr.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),FU(this,e,r,i)}addHandles(e,r){if(this.destroyed){const i=Array.isArray(e)?e:[e];for(const s of i)s.remove();return}(this[Oa]??=new PE).add(e,r)}removeHandles(e){this[Oa]?.remove(e)}removeAllHandles(){this[Oa]?.removeAll()}removeHandlesReference(e){this[Oa]?.removeReference(e)}hasHandles(e){return this[Oa]?.has(e)===!0}_override(e,r){r===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,r)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,r){r==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,r)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,r){return this.__accessor__.internalSet(e,r),this}},Ij=class l5{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const r=new l5;return this._values.forEach((i,s)=>{e&&e.has(s)||r.set(s,ge(i.value),i.origin)}),r}get(e,r){r=this._normalizeOrigin(r);const i=this._values.get(e);return r==null||i?.origin===r?i?.value:void 0}originOf(e){return this._values.get(e)?.origin??ht.USER}keys(e){e=this._normalizeOrigin(e);const r=[...this._values.keys()];return e==null?r:r.filter(i=>this._values.get(i)?.origin===e)}set(e,r,i){if((i=this._normalizeOrigin(i))===ht.DEFAULTS){const s=this._values.get(e);if(s?.origin!=null&&s.origin>i)return}this._values.set(e,new Cj(r,i))}delete(e,r){(r=this._normalizeOrigin(r))!=null&&this._values.get(e)?.origin!==r||this._values.delete(e)}has(e,r){return(r=this._normalizeOrigin(r))!=null?this._values.get(e)?.origin===r:this._values.has(e)}isAtOrigin(e,r){return r=this._normalizeOrigin(r),this.has(e,r)&&this.originOf(e)===r}isBelowOrigin(e,r){return r=this._normalizeOrigin(r),!this.has(e)||this.originOf(e)<r}forEach(e){this._values.forEach(({value:r},i)=>e(r,i))}_normalizeOrigin(e){if(e!=null)return e===ht.DEFAULTS?e:ht.USER}},Cj=class{constructor(e,r){this.value=e,this.origin=r}};function Nj(t,e,r){e.keys().forEach(s=>{r.set(s,e.get(s),ht.DEFAULTS)});const i=t.metadata;Object.keys(i).forEach(s=>{t.internalGet(s)&&r.set(s,t.internalGet(s),ht.DEFAULTS)})}function Pj(t,e,r){if(!t?.read||t.read.enabled===!1||!t.read.source)return!1;const i=t.read.source;if(typeof i=="string"){if(i===e||i.includes(".")&&i.indexOf(e)===0&&AT(i,r))return!0}else for(const s of i)if(s===e||s.includes(".")&&s.indexOf(e)===0&&AT(s,r))return!0;return!1}function Lj(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function Rj(t,e,r,i,s){let n=s2(e[r],s);Lj(n)&&(t[r]=!0);for(const o of Object.getOwnPropertyNames(e))n=s2(e[o],s),Pj(n,r,i)&&(t[o]=!0)}function kj(t,e,r,i){const s=r.metadata,n=hj(s[e],i),o=n?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(t,e,i):o;a!==void 0&&r.set(e,a)}const c5={origin:"service"};function Dj(t,e,r=c5){if(!e||typeof e!="object")return;const i=Sl(t),s=i.metadata,n={};for(const o of Object.getOwnPropertyNames(e))Rj(n,s,o,e,r);i.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(n)){const a=s2(s[o],r).read,l=a?.source;let c;c=l&&typeof l=="string"?hm(e,l):e[o],a?.reader&&(c=a.reader.call(t,c,e,r)),c!==void 0&&i.set(o,c)}if(!r||!r.ignoreDefaults){i.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(s))n[o]||kj(t,o,i,r)}i.setDefaultOrigin("user")}function mve(t,e,r,i=c5){const s={...i,messages:[]};r(s),s.messages?.forEach(n=>{n.type!=="warning"||t.loaded?i?.messages&&i.messages.push(n):t.loadWarnings.push(n)})}function Fj(t,e,r,i,s){const n={};return e.write?.writer?.call(t,i,n,r,s),n}function u5(t,e,r,i,s,n){if(!i?.write)return!1;const o=Oh(t,r);if(!s&&i.write.overridePolicy){const a=i.write.overridePolicy.call(t,o,r,n??void 0);a!==void 0&&(s=a)}if(s||(s=i.write),!s||s.enabled===!1||s.layerContainerTypes&&n?.layerContainerType&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((o===null&&!s.allowNull&&!s.writerEnsuresNonNull||o===void 0)&&s.isRequired){const a=new mt("web-document-write:property-required",`Missing value for required property '${r}' on '${t.declaredClass}'`,{propertyName:r,target:t});return a&&n?.messages?n.messages.push(a):a&&!n&&rr.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(r)===ht.DEFAULTS)&&Uj(t,r,n,i,o)||!s.ignoreOrigin&&n?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(r)<o5(n.origin))}function Uj(t,e,r,i,s){const n=i.default;if(n===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const o=n.call(t,e,r??void 0);return jv(o,s)}return!1}return n===s}function yve(t,e,r,i){const s=Sl(t),n=s.metadata,o=r5(n[e],i);return!!o&&u5(t,s,e,o,r,i)}function jj(t,e,r){if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return Ky(e,t.toJSON(r));const i=Sl(t),s=i.metadata;for(const n in s){const o=r5(s[n],r);if(!u5(t,i,n,o,void 0,r))continue;const a=Oh(t,n),l=Fj(t,o,o.write&&typeof o.write.target=="string"?o.write.target:n,a,r);Object.keys(l).length>0&&(e=Ky(e,l),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>Ky(e,l,()=>"replace-arrays"))),r?.writtenProperties&&r.writtenProperties.push({target:t,propName:n,oldOrigin:Ej(i.store.originOf(n)),newOrigin:r.origin}))}return e}const h5=t=>{let e=class extends t{constructor(...r){super(...r);const i=Sl(this),s=i.store,n=new Ij;i.store=n,Nj(i,s,n)}read(r,i){Dj(this,r,i)}write(r,i){return jj(this,r??{},i)}toJSON(r){return this.write({},r)}static fromJSON(r,i){return Bj.call(this,r,i)}};return e=g([ie("esri.core.JSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function Bj(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(t,e),r}let Kf=class extends h5(oi){};Kf=g([ie("esri.core.JSONSupport")],Kf),function(t){t.JSONSupportMixin=h5}(Kf||(Kf={}));const tt=Kf;function ni(t,e,r){let i,s;return e===void 0||Array.isArray(e)?(s=t,r=e,i=[void 0]):(s=e,i=Array.isArray(t)?t:[t]),(n,o)=>{const a=n.constructor.prototype;i.forEach(l=>{const c=WC(n,l,s);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],r&&(c.read.source=(c.read.source||[]).concat(r))})}}let Mo=class{constructor(e,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=Vj(e),this.apiValues=zT(this._apiToJSON),this.jsonValues=zT(this._jsonToAPI),this.read=i=>this.fromJSON(i),this.write=(i,s,n)=>{const o=this.toJSON(i);o!==void 0&&au(n,o,s)},this.write.isJSONMapWriter=!0}toJSON(e){if(e==null)return null;if(this._apiToJSON.hasOwnProperty(e)){const r=this._apiToJSON[e];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?null:e}fromJSON(e){return e!=null&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}};function Vj(t){const e={};for(const r in t)e[t[r]]=r;return e}function zT(t){const e=[];for(const r in t)e.push(r);return e.sort(),e}function Wn(){return function(t,e){return new Mo(t,{ignoreUnknown:!0,...e})}}let LE=class{constructor(e,r,i,s,n,o){this.semiMajorAxis=e,this.flattening=r,this.outerAtmosphereRimWidth=i,this.atmosphereHeight=s,this.scaleHeight=n;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Bn=new LE(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),yp=new LE(3396190,1/169.8944472236118,23e4,6e4,.111),Kv=new LE(1737400,0,0,0,0);function tg(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}const Gj=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,zj={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function qT(t){const e=t?.match(Gj);if(!e)return null;const[,r,i,s]=e;if(!r)return null;let n=null,o=null,a=null;const{devext:l,qaext:c,www:f}=zj;if(i)if(n=r,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=f);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=f);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:n}}function f5(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function d5(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,i=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):r.test(t)?t=t.replace(r,"https://devext.arcgis.com"):i.test(t)&&(t=t.replace(i,"https://qaext.arcgis.com")),t}function qj(t){const e=atob(t),r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r.buffer}function Hj(t){const e=new Uint8Array(t);let r="";for(let i=0;i<e.length;i++)r+=String.fromCharCode(e[i]);return btoa(r)}const Wj=()=>rr.getLogger("esri.core.urlUtils"),hf=_t.request,HT="esri/config: esriConfig.request.proxyUrl is not set.",p5=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,m5=/^\s*http:/i,Yj=/^\s*https:/i,Jj=/^\s*file:/i,y5=/:\d+$/,Kj=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Zj=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Xj=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let ph=class{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(Zj);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(Xj),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const iy={},Qj=new ph(_t.applicationUrl);let Ni=Qj;const eB=tB();let RE=eB;const kE=()=>Ni,wve=()=>RE;function tB(){const t=Ni.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${Ni.scheme}://${Ni.host}${Ni.port!=null?`:${Ni.port}`:""}`}${e}`}function Ro(t){if(!t)return null;const e={path:null,query:null},r=new ph(t),i=t.indexOf("?");return r.query===null?e.path=t:(e.path=t.slice(0,i),e.query=DE(r.query)),r.fragment&&(e.hash=r.fragment,r.query===null&&(e.path=e.path.slice(0,e.path.length-(r.fragment.length+1)))),e}function DE(t){const e=t.split("&"),r={};for(const i of e){if(!i)continue;const s=i.indexOf("=");let n,o;s<0?(n=decodeURIComponent(i),o=""):(n=decodeURIComponent(i.slice(0,s)),o=decodeURIComponent(i.slice(s+1)));let a=r[n];typeof a=="string"&&(a=r[n]=[a]),Array.isArray(a)?a.push(o):r[n]=o}return r}function gp(t,e){return t?Object.keys(t).map(r=>{const i=t[r];if(i==null)return"";const s=encodeURIComponent(r)+"=",n=e?.[r];return n?s+encodeURIComponent(n(i)):Array.isArray(i)?i.map(o=>tg(o)?s+encodeURIComponent(JSON.stringify(o)):s+encodeURIComponent(o)).join("&"):tg(i)?s+encodeURIComponent(JSON.stringify(i)):s+encodeURIComponent(i)}).filter(r=>r).join("&"):""}function g5(t=!1){let e,r=hf.proxyUrl;if(typeof t=="string"){e=aB(t);const i=Zv(t);i&&(r=i.proxyUrl)}else e=!!t;if(!r)throw Wj().warn(HT),new mt("urlUtils:proxy-not-set",HT);return e&&a2()&&(r=VE(r)),Ro(r)}function xve(t,e=!1){const r=Zv(t);let i,s;if(r){const n=FE(r.proxyUrl);i=n.path,s=n.query?DE(n.query):null}else if(e){const n=g5(t);i=n.path,s=n.query}if(i){const n=Ro(t);t=i+"?"+n.path;const o=gp({...s,...n.query});o&&(t=`${t}?${o}`)}return t}const Of={path:"",query:""};function FE(t){const e=t.indexOf("?");return e!==-1?(Of.path=t.slice(0,e),Of.query=t.slice(e+1)):(Of.path=t,Of.query=null),Of}function v5(t){return t=(t=ig(t=fB(t=FE(t).path),!0)).toLowerCase()}function rB(t){const e={proxyUrl:t.proxyUrl,urlPrefix:v5(t.urlPrefix)},r=hf.proxyRules,i=e.urlPrefix;let s=r.length;for(let n=0;n<r.length;n++){const o=r[n].urlPrefix;if(i.indexOf(o)===0){if(i.length===o.length)return-1;s=n;break}o.indexOf(i)===0&&(s=n+1)}return r.splice(s,0,e),s}function Zv(t){const e=hf.proxyRules,r=v5(t);for(let i=0;i<e.length;i++)if(r.indexOf(e[i].urlPrefix)===0)return e[i]}function Eve(t,e){if(!t||!e)return!1;t=rg(t),e=rg(e);const r=qT(t),i=qT(e);return r!=null&&i!=null?r.portalHostname===i.portalHostname:r==null&&i==null&&zc(t,e,!0)}function iB(t,e){return t=rg(t),e=rg(e),ig(t)===ig(e)}function rg(t){const e=(t=ml(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function WT(t,e=hf.interceptors){const r=i=>i instanceof RegExp?i.test(t):typeof i=="string"?t.startsWith(i):i==null;if(e){for(const i of e)if(Array.isArray(i.urls)){if(i.urls.some(r))return i}else if(r(i.urls))return i}return null}function zc(t,e,r=!1){if(!t||!e)return!1;const i=c2(t),s=c2(e);return!(!r&&i.scheme!==s.scheme)&&i.host!=null&&s.host!=null&&i.host.toLowerCase()===s.host.toLowerCase()&&i.port===s.port}function UE(t){if(typeof t=="string"){if(!Ln(t))return!0;t=c2(t)}if(zc(t,Ni))return!0;const e=hf.trustedServers||[];for(let r=0;r<e.length;r++){const i=sB(e[r]);for(let s=0;s<i.length;s++)if(zc(t,i[s]))return!0}return!1}function sB(t){return iy[t]||(BE(t)||Pl(t)?iy[t]=[new ph(dm(t))]:iy[t]=[new ph(`http://${t}`),new ph(`https://${t}`)]),iy[t]}function dm(t,e=RE,r){return Pl(t)?r?.preserveProtocolRelative?t:Ni.scheme==="http"&&Ni.authority===Ls(t).slice(2)?`http:${t}`:`https:${t}`:BE(t)?t:Xv(t[0]==="/"?hB(e):e,t)}function b5(t,e=RE,r){if(t==null||!Ln(t))return t;const i=ml(t),s=i.toLowerCase(),n=ml(e).toLowerCase().replace(/\/+$/,""),o=r?ml(r).toLowerCase().replace(/\/+$/,""):null;if(o&&n.indexOf(o)!==0)return t;const a=(d,p,y)=>(y=d.indexOf(p,y))===-1?d.length:y;let l=a(s,"/",s.indexOf("//")+2),c=-1;for(;s.slice(0,l+1)===n.slice(0,l)+"/"&&(c=l+1,l!==s.length);)l=a(s,"/",l+1);if(c===-1||o&&c<o.length)return t;t=i.slice(c);const f=n.slice(c-1).replaceAll(/[^/]+/g,"").length;if(f>0)for(let d=0;d<f;d++)t=`../${t}`;else t=`./${t}`;return t}function ml(t){return t=mB(t=pB(t=dB(t=dm(t=t.trim()))))}function Xv(...t){const e=t.filter(EF);if(!e?.length)return;const r=[];if(Ln(e[0])){const s=e[0],n=s.indexOf("//");n!==-1&&(r.push(s.slice(0,n+1)),cB(e[0])&&(r[0]+="/"),e[0]=s.slice(n+2))}else e[0][0]==="/"&&r.push("");const i=e.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<i.length;s++){const n=i[s];n===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!n&&s===i.length-1||n&&(n!=="."||r.length===0))&&r.push(n)}return r.join("/")}function Ls(t,e=!1){if(t==null||jE(t)||ff(t))return null;let r=t.indexOf("://");if(r===-1&&Pl(t))r=2;else{if(r===-1)return null;r+=3}const i=t.indexOf("/",r);return i!==-1&&(t=t.slice(0,i)),e&&(t=ig(t,!0)),t}function Ln(t){return Pl(t)||BE(t)}function jE(t){return t!=null&&t.slice(0,5)==="blob:"}function ff(t){return t!=null&&t.slice(0,5)==="data:"}function nB(t){const e=vp(t);return e?.isBase64?qj(e.data):null}function Sve(t){return Hj(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const oB=/^data:(.*?)(;base64)?,(.*)$/;function vp(t){const e=t.match(oB);if(!e)return null;const[,r,i,s]=e;return{mediaType:r,isBase64:!!i,data:s}}function _5(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function Ave(t){return(await fetch(t)).blob()}function Tve(t){const e=nB(t);if(!e)return null;const r=vp(t);return new Blob([e],{type:r.mediaType})}function Pl(t){return t!=null&&t[0]==="/"&&t[1]==="/"}function BE(t){return t!=null&&p5.test(t)}function aB(t){return t!=null&&Yj.test(t)||Ni.scheme==="https"&&Pl(t)}function lB(t){return t!=null&&m5.test(t)||Ni.scheme==="http"&&Pl(t)}function cB(t){return t!=null&&Jj.test(t)}function VE(t){return Pl(t)?`https:${t}`:t.replace(m5,"https:")}function uB(){return Ni.scheme==="http"}function a2(){return Ni.scheme==="https"}function ig(t,e=!1){return Pl(t)?t.slice(2):(t=t.replace(p5,""),e&&t.length>1&&t[0]==="/"&&t[1]==="/"&&(t=t.slice(2)),t)}function hB(t){const e=t.indexOf("//"),r=t.indexOf("/",e+2);return r===-1?t:t.slice(0,r)}function Mve(t){let e=0;if(Ln(t)){const i=t.indexOf("//");i!==-1&&(e=i+2)}const r=t.lastIndexOf("/");return r<e?t:t.slice(0,r+1)}function $ve(t,e){if(!t)return"";const r=Ro(t).path.replace(/\/+$/,""),i=r.slice(r.lastIndexOf("/")+1);if(!e?.length)return i;const s=new RegExp(`\\.(${e.join("|")})$`,"i");return i.replace(s,"")}function fB(t){return t.endsWith("/")?t:`${t}/`}function w5(t){return t.replace(/\/+$/,"")}function dB(t){if(/^https?:\/\//i.test(t)){const e=FE(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function pB(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function mB(t){const e=hf.httpsDomains;if(!lB(t))return t;const r=t.indexOf("/",7);let i;if(i=r===-1?t:t.slice(0,r),i=i.toLowerCase().slice(7),y5.test(i)){if(!i.endsWith(":80"))return t;i=i.slice(0,-3),t=t.replace(":80","")}return uB()&&i===Ni.authority&&!Kj.test(t)||(a2()&&i===Ni.authority||e&&e.some(s=>i===s||i.endsWith(`.${s}`))||a2()&&!Zv(t))&&(t=VE(t)),t}function l2(t,e,r){if(!(e&&r&&t&&Ln(t)))return t;const i=t.indexOf("//"),s=t.indexOf("/",i+2),n=t.indexOf(":",i+2),o=Math.min(s<0?t.length:s,n<0?t.length:n);return t.slice(i+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,i+2)}${r}${t.slice(o)}`}function yB(t,e){const r=new URL(t);return r.host=e,r.port&&!y5.test(e)&&(r.port=""),r.toString()}function Ove(t){return new URL(t).host}function c2(t){return typeof t=="string"?new ph(dm(t)):(t.scheme||(t.scheme=Ni.scheme),t)}function Ive(t){return vB.test(t)}function x5(t,e){const r=Ro(t),i=Object.keys(r.query||{});return i.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),r.path}function gB(t,e,r){const i=Ro(t),s=i.query||{};return s[e]=String(r),`${i.path}?${gp(s)}`}function Tb(t,e){if(!e)return t;const r=Ro(t),i=r.query||{};for(const[n,o]of Object.entries(e))o!=null&&(i[n]=o);const s=gp(i);return s?`${r.path}?${s}`:r.path}function Cve(t){if(t==null)return null;const e=t.match(E5);return e?e[2]:null}function YT(t){if(t==null)return null;const e=t.match(E5);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function Nve(t){return typeof t=="string"?vp(t)??{data:t}:new Promise((e,r)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>e(vp(i.result)),i.onerror=s=>r(s)})}const E5=/([^.]*)\.([^/]*)$/,vB=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const bB="4.33";let Jt,_B=bB;_B="4.33.11";function Pve(t){Jt=t}function Lve(t){const e=Jt?.findCredential(t);return e?.token?gB(t,"token",e.token):t}ee("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),ee("host-webworker");function pm(t,e){const r=e?.url?.path;if(t&&r&&(t=dm(t,r,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const i=b5(t,e.portalItem.itemUrl);i!=null&&wB.test(i)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(i).path)}return(t=u2(t,e?.portal))&&e1.test(t)?A5(t):t}function Qv(t,e,r=bp.YES){if((t=t&&e1.test(t)?T5(t):t)==null)return t;!Ln(t)&&e?.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let i=dm(t);if(e){const s=e.verifyItemRelativeUrls?.rootPath||e.url?.path;if(s){const n=u2(s,e.portal),o=u2(i,e.portal);i=b5(o,n,n),i!=null&&i!==o&&i!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=S5(i,e?.portal),Ln(i)&&(i=ml(i)),e?.resources&&e?.portalItem&&!Ln(i)&&!ff(i)&&r===bp.YES&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(i),compress:!1}),i}function GE(t,e,r){return pm(t,r)}function Ih(t,e,r,i){const s=Qv(t,i);s!==void 0&&(e[r]=s)}const e1=/\/items\/([^/]+)\/resources\/(.*)/,wB=/^\.\/resources\//;function xB(t){return(t?.match(e1)??null)?.[1]??null}function EB(t){const e=t?.match(e1)??null;if(e==null)return null;const r=e[2],i=r.lastIndexOf("/");if(i===-1){const{path:o,extension:a}=YT(r);return{prefix:null,filename:o,extension:a}}const{path:s,extension:n}=YT(r.slice(i+1));return{prefix:r.slice(0,i),filename:s,extension:n}}function S5(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?l2(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function u2(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const r=`${e.urlKey}.${e.customBaseUrl}`,i=kE();return zc(i,`${i.scheme}://${r}`)?l2(t,e.portalHostname,r):l2(t,r,e.portalHostname)}function A5(t){if(!t)return t||null;let e=t;return e&&Jt&&!Jt.findCredential(e)&&(e=d5(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function T5(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&Jt&&!Jt.findCredential(e)&&(e=d5(e)),e}var bp;(function(t){t[t.YES=0]="YES",t[t.NO=1]="NO"})(bp||(bp={}));const Rve=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return bp},ensureMainOnlineDomain:S5,fromCDNUrl:T5,fromJSON:pm,itemIdFromResourceUrl:xB,prefixAndFilenameFromResourceUrl:EB,read:GE,toCDNUrl:A5,toJSON:Qv,write:Ih},Symbol.toStringTag,{value:"Module"})),M5={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},$5=Object.values(M5),O5=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${$5.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),SB=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${$5.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),AB=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function kve(t){return O5.test(t)}function t1(t){if(t==null)return null;const e=Ro(t),r=e?.path.match(O5)||e?.path.match(SB);if(!r)return null;const[,i,s,n,o]=r,a=s.indexOf("/");return{title:I5(a!==-1?s.slice(a+1):s),serverType:M5[n.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:i}}}function TB(t){const e=Ro(t).path.match(AB);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function I5(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function Dve(t,e){const r=[];if(t){const i=t1(t);i!=null&&i.title&&r.push(i.title)}if(e){const i=I5(e);r.push(i)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function JT(t){let e=Ls(t,!0);return!!e&&(e=e.toLowerCase(),e.endsWith(".arcgis.com")&&(e.startsWith("services")||e.startsWith("tiles")||e.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(e)))}function Fve(t,e){return t&&w5(x5(t,e))}function Uve(t){let{url:e}=t;if(!e)return{url:e};e=x5(e,t.logger);const r=Ro(e),i=t1(r.path);let s;if(i!=null)i.sublayer!=null&&t.layer.layerId==null&&(s=i.sublayer),e=i.url.path;else if(t.nonStandardUrlAllowed){const n=TB(r.path);n!=null&&(e=n.serviceUrl,s=n.sublayerId)}return{url:w5(e),layerId:s}}function jve(t,e,r,i,s){Ih(e,i,"url",s),i.url&&t.layerId!=null&&(i.url=Xv(i.url,r,t.layerId.toString()))}function Bve(t){if(!t)return!1;const e=t.toLowerCase(),r=e.includes("/services/"),i=e.includes("/mapserver/wmsserver"),s=e.includes("/imageserver/wmsserver"),n=e.includes("/wmsserver");return r&&(i||s||n)}const MB=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function C5(t){if(!N5(t))return null;const e=i=>i instanceof RegExp?i.test(t):typeof i=="string"&&t.startsWith(i),r=_t.apiKeys;if(Array.isArray(r.scopes)){for(const i of r.scopes)if(Array.isArray(i.urls)){if(i.urls.some(e))return i.token}else if(e(i.urls))return i.token}return r.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(t)?r.basemapStyles:_t.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(t)?_t.apiKey:null}function KT(){return _t.apiKey!=null||_t.apiKeys.basemapStyles!=null}function $B(t,e){return e?N5(t):C5(t)!=null}function N5(t){const e=Ls(t,!0);return!!e&&!MB.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function OB(t,e,r=!1,i){return new Promise((s,n)=>{if(El(i))return void n(ZT());let o=()=>{c(),n(new Error(`Unable to load ${e}`))},a=()=>{const f=t;c(),s(f)},l=()=>{if(!t)return;const f=t;c(),f.src="",n(ZT())};const c=()=>{ee("esri-image-decode")||(t.removeEventListener("error",o),t.removeEventListener("load",a)),o=null,a=null,t=null,i?.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(e)};i?.addEventListener("abort",l),ee("esri-image-decode")?t.decode().then(a,o):(t.addEventListener("error",o),t.addEventListener("load",a))})}function ZT(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const P5="Timeout exceeded";function IB(){return new Error(P5)}function Vve(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===P5}function CB(t){_t.request.crossOriginNoCorsDomains||(_t.request.crossOriginNoCorsDomains={});const e=_t.request.crossOriginNoCorsDomains;for(let r of t)r=r.toLowerCase(),/^https?:\/\//.test(r)?e[Ls(r)??""]=0:(e[Ls("http://"+r)??""]=0,e[Ls("https://"+r)??""]=0)}function NB(t){const e=_t.request.crossOriginNoCorsDomains;if(e){let r=Ls(t);if(r)return r=r.toLowerCase(),!zc(r,kE())&&e[r]<Date.now()-36e5}return!1}async function PB(t){const e=Ro(t);t=e.path,e.query?.f==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const r=_t.request.crossOriginNoCorsDomains,i=Ls(t);r&&i&&(r[i.toLowerCase()]=Date.now())}const h2=new Map;function LB(t,e){const r=e?.preferredHost;if(!r||zc(t,`https://${r}`,!0))return;const i=t1(t);if(!i||i.serverType!=="FeatureServer"||f5(t))return;const s=i.url.path.toLowerCase();h2.has(s)||h2.set(s,r)}function XT(t){const e=t1(t)?.url.path.toLowerCase();if(!e)return t;const r=h2.get(e);return r?yB(t,r):t}async function Fr(t,e){t instanceof URL&&(t=t.toString()),e?.query instanceof URLSearchParams&&(e.query=DE(e.query.toString().replaceAll("+"," ")));const r=ff(t),i=jE(t);i||r||(t=ml(t));const s={url:t,requestOptions:{...e}},n=y=>({data:y,getAllHeaders:Ch,getHeader:Ch,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),o=WT(t,Xs.internalInterceptors);if(o){const y=await e4(o,s);if(y!=null)return n(y)}let a=WT(t);if(a){const y=await e4(a,s);if(y!=null)return n(y);a.after||a.error||(a=null)}if(t=s.url,(e=s.requestOptions).responseType==="image"&&(ee("host-webworker")||ee("host-node")))throw Rn("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(e.method==="head"){if(e.body)throw Rn("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(r||i)throw Rn("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await UB(),sg)return sg.execute(t,e);const l=new AbortController,c=$h(e,()=>l.abort()),f={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:s,redoRequest:!1,useIdentity:Xs.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=e.useRequestQueue?zB(f):d2(f),p=await d.finally(()=>c?.remove());return a?.after?.(p),p}let sg,L5=!1;const Xs=_t.request,R5="FormData"in globalThis,RB=new Set([499,498,403,401]),kB=new Set(["COM_0056","COM_0057","SB_0008"]),DB=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Ch=()=>null,ng=Symbol();function FB(t){const e=Ls(t);e&&!Fr._corsServers.includes(e)&&Fr._corsServers.push(e)}function QT(t){const e=Ls(t);return!e||e.endsWith(".arcgis.com")||Fr._corsServers.includes(e)||UE(e)}function Rn(t,e,r,i){let s;const n={url:r.url,requestOptions:r.requestOptions,getAllHeaders:Ch,getHeader:Ch,ssl:!1};if(e instanceof mt)return e.details?(e.details=ge(e.details),e.details.url=r.url,e.details.requestOptions=r.requestOptions):e.details=n,e;if(e){const o=i&&(()=>Array.from(i.headers)),a=i&&(f=>i.headers.get(f)),l=i?.status,c=e.message;c&&(s=c),o&&a&&(n.getAllHeaders=o,n.getHeader=a),n.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||l||0,n.subCode=e.subcode,n.messageCode=e.messageCode,typeof e.details=="string"?(n.messages=[e.details],s??=e.details):(n.messages=e.details,s??=n.messages?.[0]),n.raw=ng in e?e[ng]:e}return s??="Error",um(e)?Es():new mt(t,s,n)}async function UB(){ee("host-webworker")&&(!sg&&globalThis.invokeStaticMessage?sg=await ve(()=>import("./request-CcAvRZVP.js"),__vite__mapDeps([0,1]),import.meta.url):L5=!0)}async function f2(){Jt||await ve(()=>import("./IdentityManager-BS2gj8rh.js"),__vite__mapDeps([2,1,3,4,5,6,7,8]),import.meta.url)}async function jB(t){const e=t.params.url,r=t.params.requestOptions,i=t.controller.signal,s=r.body;let n=null,o=null;if(R5&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(o=s),t.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:Xs.priority,redirect:"follow",signal:i},(n||o)&&(t.fetchOptions.body=n||o),(L5||r.authMode==="anonymous")&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||r.query?.token||n?.get("token")),!t.hasToken){const a=C5(e);a&&(r.query??={},r.query.token=a,t.hasToken=!0)}if(t.useIdentity&&!t.hasToken&&!t.credential&&!t.credentialToken&&!k5(e)&&!El(i)){let a;r.authMode==="immediate"?(await f2(),a=await Jt.getCredential(e,{signal:i})):r.authMode==="no-prompt"?(await f2(),a=await Jt.getCredential(e,{prompt:!1,signal:i}).catch(()=>{})):Jt&&(a=Jt.findCredential(e)),a&&(t.credential=a,t.credentialToken=a.token,t.useSSL=!!a.ssl)}}function k5(t){return DB.some(e=>e.test(t))}async function BB(t){let e=t.params.url,r=XT(e);const i=t.params.requestOptions,s=t.fetchOptions??{},n=jE(e)||ff(e),o=i.responseType||"json",a=n?0:i.timeout!=null?i.timeout:Xs.timeout;let l=!1;if(!n){t.useSSL&&(e=VE(e));let y={...i.query};t.credentialToken&&(y.token=t.credentialToken);let v=gp(y);ee("esri-url-encodes-apostrophe")&&(v=v.replaceAll("'","%27"));const b=r.length+1+v.length;let S;l=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||b>Xs.maxUrlLength;const E=i.useProxy||!!Zv(e);if(E){const T=g5(e);S=T.path,!l&&S.length+1+b>Xs.maxUrlLength&&(l=!0),T.query&&(y={...T.query,...y})}if(s.method==="HEAD"&&(l||E)){if(l)throw b>Xs.maxUrlLength?Rn("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):Rn("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(E)throw Rn("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}l?(s.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?e=Tb(e,y):(s.body=gp(y),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):e=Tb(e,y),E&&(t.useProxy=!0,e=`${S}?${e}`),y.token&&R5&&s.body instanceof FormData&&!f5(e)&&s.body.set("token",y.token),i.hasOwnProperty("withCredentials")?t.withCredentials=i.withCredentials:zc(e,kE())||(UE(e)||Jt&&Jt.findServerInfo(e)?.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(s.credentials="include",NB(e)&&await PB(l?Tb(e,y):e)),r=XT(e)}let c,f,d=0,p=!1;a>0&&(d=setTimeout(()=>{p=!0,t.controller.abort()},a));try{if(i.responseType==="native-request-init")f=s,f.url=r,i.signal?f.signal=i.signal:delete f.signal;else if(i.responseType!=="image"||s.cache!=="default"||s.method!=="GET"||l||VB(i.headers)||!n&&!t.useProxy&&Xs.proxyUrl&&!QT(e)){if(Fr._beforeFetch&&await Fr._beforeFetch(e,s),c=await fetch(r,s),Fr._afterFetch&&await Fr._afterFetch(c),t.useProxy||FB(e),i.responseType==="native")f=c;else if(s.method!=="HEAD")if(c.ok){switch(o){case"array-buffer":f=await c.arrayBuffer();break;case"blob":case"image":f=await c.blob();break;default:f=await c.text()}if(d&&(clearTimeout(d),d=0),o==="json"||o==="xml"||o==="document")if(f)switch(o){case"json":f=JSON.parse(f);break;case"xml":f=t4(f,"application/xml");break;case"document":f=t4(f,"text/html")}else f=null;if(f){if(o==="array-buffer"||o==="blob"){const y=c.headers.get("Content-Type");if(y&&/application\/json|text\/plain/i.test(y)&&f[o==="blob"?"size":"byteLength"]<=750)try{const v=await new Response(f).json();v.error&&(f=v)}catch{}}o==="image"&&f instanceof Blob&&(f=await r4(URL.createObjectURL(f),t,!0))}}else{f=await c.text();try{f=JSON.parse(f)}catch{}}}else f=await r4(r,t)}catch(y){if(y.name==="AbortError")throw p?IB():Es("Request canceled");if(!(!c&&y instanceof TypeError&&Xs.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||t.useProxy||QT(e))throw y;t.redoRequest=!0,rB({proxyUrl:Xs.proxyUrl,urlPrefix:Ls(e)??""})}finally{d&&clearTimeout(d)}return[c,f]}async function e4(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let r,i;try{i=await t.before(e)}catch(s){r=Rn("request:interceptor",s,e)}if((i instanceof Error||i instanceof mt)&&(r=Rn("request:interceptor",i,e)),r)throw t.error&&t.error(r),r;return i}}function VB(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function t4(t,e){let r;try{r=new DOMParser().parseFromString(t,e)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}Fr._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Fr._beforeFetch=void 0,Fr._afterFetch=void 0;const GB=new Map;async function zB(t){const e=HB(t.params.url);if(!e)return d2(t);const{QueueProcessor:r}=await ve(()=>import("./QueueProcessor-DVTsDrMX.js"),__vite__mapDeps([9,10,11,1]),import.meta.url);return hC(GB,e.origin,()=>{const s=e.isHosted?ee("request-queue-concurrency-hosted"):ee("request-queue-concurrency-non-hosted");return new r({concurrency:s,process:n=>{if(El(n.params.requestOptions))throw Rn("",Es("Request canceled"),n.params);return d2(n)}})}).push(t)}async function d2(t){let e,r;await jB(t);try{do[e,r]=await BB(t);while(!await qB(t,e,r))}catch(n){const o=Rn("request:server",n,t.params,e);throw o.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(o),o}const i=t.params.url;if(r)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!t.hasToken&&!t.credentialToken&&r.user?.username&&!UE(i)){const n=Ls(i,!0);n&&Xs.trustedServers.push(n)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&CB(r.authorizedCrossOriginNoCorsDomains)}else(t.params.requestOptions.responseType||"json")==="json"&&LB(i,r);const s=t.credential;if(s&&Jt){let o=Jt.findServerInfo(s.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=Jt.findCredential(o,s.userId);a&&Jt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:r,getAllHeaders:e?()=>Array.from(e.headers):Ch,getHeader:e?n=>e.headers.get(n):Ch,httpStatus:e?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function qB(t,e,r){if(t.redoRequest)return t.redoRequest=!1,!1;const i=t.params.requestOptions;if(!e||i.responseType==="native"||i.responseType==="native-request-init")return!0;let s,n;if(r&&(r.error&&typeof r.error=="object"?s=r.error:r.status==="error"&&Array.isArray(r.messages)&&(s={...r},s[ng]=r,s.details=r.messages)),!s&&!e.ok)throw s=new Error(`Unable to load ${e.url} status: ${e.status}`),s[ng]=r,s;let o,a=null;s&&(n=Number(s.code),a=s.hasOwnProperty("subcode")?Number(s.subcode):null,o=s.messageCode,o=o?.toUpperCase());const l=i.authMode;if(n===403&&(a===4||s.message?.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(l!=="no-prompt"||n===498)&&n!==void 0&&RB.has(n)&&!k5(t.params.url)&&(n!==403||(!o||!kB.has(o))&&(a==null||a===2&&t.credentialToken))){await f2();try{const c=await Jt.getCredential(t.params.url,{error:Rn("request:server",s,t.params),credential:t.credential,prompt:l!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=c,t.credentialToken=c.token,t.useSSL=t.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;s=c}}if(s)throw s;return!0}function r4(t,e,r=!1){const i=e.controller.signal,s=new Image;return e.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=Xs.priority,s.src=t,OB(s,t,r,i)}function HB(t){let e,r;return typeof t=="string"?(e=Ls(t,!0),r=JT(t)):(e=t.origin,r=JT(t.toString())),e==null?null:{origin:e,isHosted:r}}function WB(t){if(!_t.assetsPath)throw rr.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new mt("assets:path-not-set","config.assetsPath is not set");return Xv(_t.assetsPath,t)}let Mb,z=null;function YB(){return!!z}function JB(){return!!ee("esri-wasm")}function KB(){return Mb||(Mb=ve(()=>import("./pe-wasm-B87Q3u4k.js"),[],import.meta.url).then(({default:t})=>t({locateFile:e=>WB(`esri/geometry/support/${e}`)})).then(t=>{U5(t)}),Mb)}var p2,Yt;(function(t){function e(n,o,a){z.ensureCache.prepare();const l=wc(a),c=a===l,f=z.ensureFloat64(l),d=z._pe_geog_to_proj(z.getPointer(n),o,f);return d&&sl(a,o,f,c),d}function r(n,o,a,l){switch(l){case Yt.PE_TRANSFORM_P_TO_G:return i(n,o,a);case Yt.PE_TRANSFORM_G_TO_P:return e(n,o,a)}return 0}function i(n,o,a){return s(n,o,a,0)}function s(n,o,a,l){z.ensureCache.prepare();const c=wc(a),f=a===c,d=z.ensureFloat64(c),p=z._pe_proj_to_geog_center(z.getPointer(n),o,d,l);return p&&sl(a,o,d,f),p}t.geogToProj=e,t.projGeog=r,t.projToGeog=i,t.projToGeogCenter=s})(p2||(p2={})),function(t){function e(){t.PE_BUFFER_MAX=z.PeDefs.prototype.PE_BUFFER_MAX,t.PE_NAME_MAX=z.PeDefs.prototype.PE_NAME_MAX,t.PE_MGRS_MAX=z.PeDefs.prototype.PE_MGRS_MAX,t.PE_USNG_MAX=z.PeDefs.prototype.PE_USNG_MAX,t.PE_DD_MAX=z.PeDefs.prototype.PE_DD_MAX,t.PE_DDM_MAX=z.PeDefs.prototype.PE_DDM_MAX,t.PE_DMS_MAX=z.PeDefs.prototype.PE_DMS_MAX,t.PE_UTM_MAX=z.PeDefs.prototype.PE_UTM_MAX,t.PE_PARM_MAX=z.PeDefs.prototype.PE_PARM_MAX,t.PE_TYPE_NONE=z.PeDefs.prototype.PE_TYPE_NONE,t.PE_TYPE_GEOGCS=z.PeDefs.prototype.PE_TYPE_GEOGCS,t.PE_TYPE_PROJCS=z.PeDefs.prototype.PE_TYPE_PROJCS,t.PE_TYPE_GEOGTRAN=z.PeDefs.prototype.PE_TYPE_GEOGTRAN,t.PE_TYPE_COORDSYS=z.PeDefs.prototype.PE_TYPE_COORDSYS,t.PE_TYPE_UNIT=z.PeDefs.prototype.PE_TYPE_UNIT,t.PE_TYPE_LINUNIT=z.PeDefs.prototype.PE_TYPE_LINUNIT,t.PE_STR_OPTS_NONE=z.PeDefs.prototype.PE_STR_OPTS_NONE,t.PE_STR_AUTH_NONE=z.PeDefs.prototype.PE_STR_AUTH_NONE,t.PE_STR_AUTH_TOP=z.PeDefs.prototype.PE_STR_AUTH_TOP,t.PE_STR_NAME_CANON=z.PeDefs.prototype.PE_STR_NAME_CANON,t.PE_STR_FMT_WKT=z.PeDefs.prototype.PE_STR_FMT_WKT,t.PE_STR_FMT_WKT2=z.PeDefs.prototype.PE_STR_FMT_WKT2,t.PE_PARM_X0=z.PeDefs.prototype.PE_PARM_X0,t.PE_PARM_ND=z.PeDefs.prototype.PE_PARM_ND,t.PE_TRANSFORM_1_TO_2=z.PeDefs.prototype.PE_TRANSFORM_1_TO_2,t.PE_TRANSFORM_2_TO_1=z.PeDefs.prototype.PE_TRANSFORM_2_TO_1,t.PE_TRANSFORM_P_TO_G=z.PeDefs.prototype.PE_TRANSFORM_P_TO_G,t.PE_TRANSFORM_G_TO_P=z.PeDefs.prototype.PE_TRANSFORM_G_TO_P,t.PE_HORIZON_RECT=z.PeDefs.prototype.PE_HORIZON_RECT,t.PE_HORIZON_POLY=z.PeDefs.prototype.PE_HORIZON_POLY,t.PE_HORIZON_LINE=z.PeDefs.prototype.PE_HORIZON_LINE,t.PE_HORIZON_DELTA=z.PeDefs.prototype.PE_HORIZON_DELTA}t.init=e}(Yt||(Yt={}));let D5=null;var m2;(function(t){const e={},r={},i=y=>{const v=y.getType();switch(v){case Yt.PE_TYPE_GEOGCS:y=z.castObject(y,z.PeGeogcs);break;case Yt.PE_TYPE_PROJCS:y=z.castObject(y,z.PeProjcs);break;case Yt.PE_TYPE_GEOGTRAN:y=z.castObject(y,z.PeGeogtran);break;default:v&Yt.PE_TYPE_UNIT&&(y=z.castObject(y,z.PeUnit))}return y};function s(){z.PeFactory.prototype.initialize(null)}function n(y){return o(Yt.PE_TYPE_COORDSYS,y)}function o(y,v){let b=null,S=e[y];if(S||(S={},e[y]=S),S.hasOwnProperty(String(v))&&(b=S[v],z.compare(b,z.NULL)&&(b=null)),!b){const E=z.PeFactory.prototype.factoryByType(y,v);z.compare(E,z.NULL)||(b=i(E),S[v]=b)}return b}function a(y,v){let b=null,S=r[y];if(S||(S={},r[y]=S),S.hasOwnProperty(v)&&(b=S[v],z.compare(b,z.NULL)&&(b=null)),!b){const E=z.PeFactory.prototype.fromString(y,v);z.compare(E,z.NULL)||(b=i(E),S[v]=b)}return b}function l(y){return o(Yt.PE_TYPE_GEOGCS,y)}function c(y){return o(Yt.PE_TYPE_GEOGTRAN,y)}function f(y){return z.PeFactory.prototype.getCode(y)}function d(y){return o(Yt.PE_TYPE_PROJCS,y)}function p(y){return o(Yt.PE_TYPE_UNIT,y)}t.initialize=s,t.coordsys=n,t.factoryByType=o,t.fromString=a,t.geogcs=l,t.geogtran=c,t.getCode=f,t.projcs=d,t.unit=p})(m2||(m2={}));let F5=null;var og,y2,g2,v2,b2,_2,ag,w2,lg,cg,x2;function U5(t){function e(n,o,a){n[o]=a(n[o])}z=t,Yt.init(),og.init(),ag.init(),lg.init(),cg.init(),D5=class extends z.PeDouble{constructor(n=NaN){super(n)}destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}},F5=class extends z.PeGCSExtent{destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}};const r=[z.PeAngunit,z.PeDatum,z.PeGeogcs,z.PeGeogtran,z.PeObject,z.PeParameter,z.PePrimem,z.PeProjcs,z.PeSpheroid,z.PeUnit];for(const n of r)e(n.prototype,"getName",o=>function(){return o.call(this,new Array(Yt.PE_NAME_MAX))});for(const n of[z.PeGeogtran,z.PeProjcs])e(n.prototype,"getParameters",o=>function(){const a=new Array(Yt.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const f=z.getValue(l,"*");a[c]=f?z.wrapPointer(f,z.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});e(z.PeHorizon.prototype,"getCoord",n=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return sl(l,a,n.call(this),o),l}),e(z.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const o=z._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=n.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=this.getSteps();if(c>1){const f=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(f+o*d,z.PeGTlistExtendedGTs))}}return a}});const i=z._pe_getPeHorizonSize(),s=n=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(n))return o.get(n);let a=null;const l=n.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=l.getNump();if(c>1){const f=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(f+i*d,z.PeHorizon))}}return o.set(n,a),a};e(z.PeProjcs.prototype,"horizonGcsGenerate",s),e(z.PeProjcs.prototype,"horizonPcsGenerate",s),z.PeObject.prototype.toString=function(n=Yt.PE_STR_OPTS_NONE){z.ensureCache.prepare();const o=z.getPointer(this),a=z.ensureInt8(new Array(Yt.PE_BUFFER_MAX));return z.UTF8ToString(z._pe_object_to_string_ext(o,n,a))},z.PeGeogcs.prototype.destroy=function(){this.Delete(),wn(this),this.ptr=0},z.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},z.PeProjcs.prototype.destroy=function(){this.Delete(),wn(this),this.ptr=0},z.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function wn(t){if(!t)return;const e=z.getClass(t);if(!e)return;const r=z.getCache(e);if(!r)return;const i=z.getPointer(t);i&&delete r[i]}function sy(t,e){const r=[],i=new Array(e);for(let s=0;s<t;s++)r.push(z.ensureInt8(i));return r}function wc(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function sl(t,e,r,i=!1){if(i)for(let s=0;s<2*e;s++)t[s]=z.getValue(r+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=t.length===0;for(let n=0;n<e;n++)s&&(t[n]=new Array(2)),t[n][0]=z.getValue(r,"double"),t[n][1]=z.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(t){let e;function r(){t.PE_GTLIST_OPTS_COMMON=z.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,e=z._pe_getPeGTlistExtendedEntrySize()}function i(s,n,o,a,l,c){let f=null;const d=new z.PeInteger(c);try{const p=z.PeGTlistExtended.prototype.getGTlist(s,n,o,a,l,d);if((c=d.val)&&(f=[p],c>1)){const y=z.getPointer(p);for(let v=1;v<c;v++)f.push(z.wrapPointer(y+e*v,z.PeGTlistExtendedEntry))}}finally{z.destroy(d)}return f}t.init=r,t.getGTlist=i})(og||(og={})),function(t){function e(r){if(r?.length){for(const i of r)wn(i),i.getEntries().forEach(s=>{wn(s);const n=s.getGeogtran();wn(n),n.getParameters().forEach(wn),[n.getGeogcs1(),n.getGeogcs2()].forEach(o=>{wn(o);const a=o.getDatum();wn(a),wn(a.getSpheroid()),wn(o.getPrimem()),wn(o.getUnit())})});z.PeGTlistExtendedEntry.prototype.Delete(r[0])}}t.destroy=e}(y2||(y2={})),function(t){function e(r,i,s,n,o){z.ensureCache.prepare();const a=wc(s),l=s===a,c=z.ensureFloat64(a);let f=0;n&&(f=z.ensureFloat64(n));const d=z._pe_geog_to_geog(z.getPointer(r),i,c,f,o);return d&&sl(s,i,c,l),d}t.geogToGeog=e}(g2||(g2={})),function(t){function e(n,o,a,l,c,f,d,p){z.PeLineType.prototype.geodesic_coordinate(n,o,a,l,c,f,d,p)}function r(n,o,a,l,c,f,d,p,y){z.PeLineType.prototype.geodetic_coordinate(n,o,a,l,c,f,d,p,y)}function i(n,o,a,l,c,f,d,p,y,v){z.PeLineType.prototype.geodetic_distance(n,o,a,l,c,f,d,p,y,v)}function s(n,o,a,l,c,f,d,p,y){z.PeLineType.prototype.great_elliptic_distance(n,o,a,l,c,f,d,p,y)}t.geodesicCoordinate=e,t.geodeticCoordinate=r,t.geodeticDistance=i,t.greatEllipticDistance=s}(v2||(v2={})),function(t){function e(o,a){return z.PeMath.prototype.phi_to_eta(o,a)}function r(o,a){return z.PeMath.prototype.eta_to_phi(o,a)}function i(o,a){return z.PeMath.prototype.phi_to_phig(o,a)}function s(o,a,l){return z.PeMath.prototype.q(o,a,l)}function n(o,a){return z.PeMath.prototype.q90(o,a)}t.phiToEta=e,t.etaToPhi=r,t.phiToPhig=i,t.q=s,t.q90=n}(b2||(b2={})),function(t){const e=(c,f,d,p,y,v)=>{let b,S;switch(z.ensureCache.prepare(),c){case"dd":b=z._pe_geog_to_dd,S=Yt.PE_DD_MAX;break;case"ddm":b=z._pe_geog_to_ddm,S=Yt.PE_DDM_MAX;break;case"dms":b=z._pe_geog_to_dms,S=Yt.PE_DMS_MAX}let E=0;f&&(E=z.getPointer(f));const T=wc(p),w=z.ensureFloat64(T),_=sy(d,S),M=b(E,d,w,y,z.ensureInt32(_));if(M)for(let $=0;$<d;$++)v[$]=z.UTF8ToString(_[$]);return M},r=(c,f,d,p,y)=>{let v;switch(z.ensureCache.prepare(),c){case"dd":v=z._pe_dd_to_geog;break;case"ddm":v=z._pe_ddm_to_geog;break;case"dms":v=z._pe_dms_to_geog}let b=0;f&&(b=z.getPointer(f));const S=p.map(_=>z.ensureString(_)),E=z.ensureInt32(S),T=z.ensureFloat64(new Array(2*d)),w=v(b,d,E,T);return w&&sl(y,d,T),w};function i(c,f,d,p,y){return e("dms",c,f,d,p,y)}function s(c,f,d,p){return r("dms",c,f,d,p)}function n(c,f,d,p,y){return e("ddm",c,f,d,p,y)}function o(c,f,d,p){return r("ddm",c,f,d,p)}function a(c,f,d,p,y){return e("dd",c,f,d,p,y)}function l(c,f,d,p){return r("dd",c,f,d,p)}t.geogToDms=i,t.dmsToGeog=s,t.geogToDdm=n,t.ddmToGeog=o,t.geogToDd=a,t.ddToGeog=l}(_2||(_2={})),function(t){function e(){t.PE_MGRS_STYLE_NEW=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,t.PE_MGRS_STYLE_OLD=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,t.PE_MGRS_STYLE_AUTO=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,t.PE_MGRS_180_ZONE_1_PLUS=z.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,t.PE_MGRS_ADD_SPACES=z.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(s,n,o,a,l,c,f){z.ensureCache.prepare();let d=0;s&&(d=z.getPointer(s));const p=wc(o),y=z.ensureFloat64(p),v=sy(n,Yt.PE_MGRS_MAX),b=z.ensureInt32(v),S=z._pe_geog_to_mgrs_extended(d,n,y,a,l,c,b);if(S)for(let E=0;E<n;E++)f[E]=z.UTF8ToString(v[E]);return S}function i(s,n,o,a,l){z.ensureCache.prepare();let c=0;s&&(c=z.getPointer(s));const f=o.map(v=>z.ensureString(v)),d=z.ensureInt32(f),p=z.ensureFloat64(new Array(2*n)),y=z._pe_mgrs_to_geog_extended(c,n,d,a,p);return y&&sl(l,n,p),y}t.init=e,t.geogToMgrsExtended=r,t.mgrsToGeogExtended=i}(ag||(ag={})),function(t){function e(i,s,n,o,a,l,c){z.ensureCache.prepare();let f=0;i&&(f=z.getPointer(i));const d=wc(n),p=z.ensureFloat64(d),y=sy(s,Yt.PE_MGRS_MAX),v=z.ensureInt32(y),b=z._pe_geog_to_usng(f,s,p,o,a,l,v);if(b)for(let S=0;S<s;S++)c[S]=z.UTF8ToString(y[S]);return b}function r(i,s,n,o){z.ensureCache.prepare();let a=0;i&&(a=z.getPointer(i));const l=n.map(p=>z.ensureString(p)),c=z.ensureInt32(l),f=z.ensureFloat64(new Array(2*s)),d=z._pe_usng_to_geog(a,s,c,f);return d&&sl(o,s,f),d}t.geogToUsng=e,t.usngToGeog=r}(w2||(w2={})),function(t){function e(){t.PE_UTM_OPTS_NONE=z.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,t.PE_UTM_OPTS_ADD_SPACES=z.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,t.PE_UTM_OPTS_NS=z.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(s,n,o,a,l){z.ensureCache.prepare();let c=0;s&&(c=z.getPointer(s));const f=wc(o),d=z.ensureFloat64(f),p=sy(n,Yt.PE_UTM_MAX),y=z.ensureInt32(p),v=z._pe_geog_to_utm(c,n,d,a,y);if(v)for(let b=0;b<n;b++)l[b]=z.UTF8ToString(p[b]);return v}function i(s,n,o,a,l){z.ensureCache.prepare();let c=0;s&&(c=z.getPointer(s));const f=o.map(v=>z.ensureString(v)),d=z.ensureInt32(f),p=z.ensureFloat64(new Array(2*n)),y=z._pe_utm_to_geog(c,n,d,a,p);return y&&sl(l,n,p),y}t.init=e,t.geogToUtm=r,t.utmToGeog=i}(lg||(lg={})),function(t){const e=new Map;function r(){t.PE_PCSINFO_OPTION_NONE=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,t.PE_PCSINFO_OPTION_DOMAIN=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,t.PE_POLE_OUTSIDE_BOUNDARY=z.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,t.PE_POLE_POINT=z.PePCSInfo.prototype.PE_POLE_POINT}function i(s,n=t.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return e.has(s)&&(a=e.get(s),a[n]&&(o=a[n])),o||(o=z.PePCSInfo.prototype.generate(s,n),a||(a=[],e.set(s,a)),a[n]=o),o}t.init=r,t.generate=i}(cg||(cg={})),function(t){function e(){return z.PeVersion.prototype.version_string()}t.versionString=e}(x2||(x2={}));const Gve=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return p2},get PeDefs(){return Yt},get PeDouble(){return D5},get PeFactory(){return m2},get PeGCSExtent(){return F5},get PeGTTransformations(){return g2},get PeGTlistExtended(){return og},get PeGTlistExtendedEntry(){return y2},get PeLineType(){return v2},get PeMath(){return b2},get PeNotationDms(){return _2},get PeNotationMgrs(){return ag},get PeNotationUsng(){return w2},get PeNotationUtm(){return lg},get PePCSInfo(){return cg},get PeVersion(){return x2},_init:U5,get _pe(){return z},isLoaded:YB,isSupported:JB,load:KB},Symbol.toStringTag,{value:"Module"}));var Nh;(function(t){t[t.CGCS2000=4490]="CGCS2000",t[t.GCSMARS2000=104971]="GCSMARS2000",t[t.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",t[t.GCSMOON2000=104903]="GCSMOON2000"})(Nh||(Nh={}));let u;const O={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(u=2e3;u<=2045;u++)O[u]=0;for(u=2056;u<=2065;u++)O[u]=0;for(u=2067;u<=2135;u++)O[u]=0;for(u=2137;u<=2154;u++)O[u]=0;for(u=2161;u<=2170;u++)O[u]=0;for(u=2172;u<=2193;u++)O[u]=0;for(u=2195;u<=2198;u++)O[u]=0;for(u=2200;u<=2203;u++)O[u]=0;for(u=2205;u<=2217;u++)O[u]=0;for(u=2222;u<=2224;u++)O[u]=1;for(u=2225;u<=2250;u++)O[u]=2;for(u=2251;u<=2253;u++)O[u]=1;for(u=2257;u<=2264;u++)O[u]=2;for(u=2274;u<=2279;u++)O[u]=2;for(u=2280;u<=2282;u++)O[u]=1;for(u=2283;u<=2289;u++)O[u]=2;for(u=2290;u<=2292;u++)O[u]=0;for(u=2308;u<=2313;u++)O[u]=0;for(u=2315;u<=2491;u++)O[u]=0;for(u=2494;u<=2866;u++)O[u]=0;for(u=2867;u<=2869;u++)O[u]=1;for(u=2870;u<=2888;u++)O[u]=2;for(u=2891;u<=2895;u++)O[u]=2;for(u=2896;u<=2898;u++)O[u]=1;for(u=2902;u<=2908;u++)O[u]=2;for(u=2915;u<=2920;u++)O[u]=2;for(u=2921;u<=2923;u++)O[u]=1;for(u=2924;u<=2930;u++)O[u]=2;for(u=2931;u<=2962;u++)O[u]=0;for(u=2964;u<=2968;u++)O[u]=2;for(u=2969;u<=2973;u++)O[u]=0;for(u=2975;u<=2991;u++)O[u]=0;for(u=2995;u<=3051;u++)O[u]=0;for(u=3054;u<=3079;u++)O[u]=0;for(u=3081;u<=3088;u++)O[u]=0;for(u=3092;u<=3101;u++)O[u]=0;for(u=3106;u<=3138;u++)O[u]=0;for(u=3146;u<=3151;u++)O[u]=0;for(u=3153;u<=3166;u++)O[u]=0;for(u=3168;u<=3172;u++)O[u]=0;for(u=3174;u<=3203;u++)O[u]=0;for(u=3294;u<=3358;u++)O[u]=0;for(u=3367;u<=3403;u++)O[u]=0;for(u=3408;u<=3416;u++)O[u]=0;for(u=3417;u<=3438;u++)O[u]=2;for(u=3441;u<=3446;u++)O[u]=2;for(u=3447;u<=3450;u++)O[u]=0;for(u=3451;u<=3459;u++)O[u]=2;for(u=3460;u<=3478;u++)O[u]=0;for(u=3554;u<=3559;u++)O[u]=0;for(u=3560;u<=3570;u++)O[u]=2;for(u=3571;u<=3581;u++)O[u]=0;for(u=3594;u<=3597;u++)O[u]=0;for(u=3601;u<=3604;u++)O[u]=0;for(u=3637;u<=3639;u++)O[u]=0;for(u=3665;u<=3667;u++)O[u]=0;for(u=3693;u<=3695;u++)O[u]=0;for(u=3701;u<=3727;u++)O[u]=0;for(u=3728;u<=3739;u++)O[u]=2;for(u=3740;u<=3751;u++)O[u]=0;for(u=3753;u<=3760;u++)O[u]=2;for(u=3761;u<=3773;u++)O[u]=0;for(u=3775;u<=3777;u++)O[u]=0;for(u=3779;u<=3781;u++)O[u]=0;for(u=3783;u<=3785;u++)O[u]=0;for(u=3788;u<=3791;u++)O[u]=0;for(u=3797;u<=3802;u++)O[u]=0;for(u=3814;u<=3816;u++)O[u]=0;for(u=3825;u<=3829;u++)O[u]=0;for(u=3832;u<=3841;u++)O[u]=0;for(u=3844;u<=3852;u++)O[u]=0;for(u=3873;u<=3885;u++)O[u]=0;for(u=3890;u<=3893;u++)O[u]=0;for(u=3907;u<=3912;u++)O[u]=0;for(u=3942;u<=3950;u++)O[u]=0;for(u=3968;u<=3970;u++)O[u]=0;for(u=3973;u<=3976;u++)O[u]=0;for(u=3986;u<=3989;u++)O[u]=0;for(u=3994;u<=3997;u++)O[u]=0;for(u=4048;u<=4051;u++)O[u]=0;for(u=4056;u<=4063;u++)O[u]=0;for(u=4093;u<=4096;u++)O[u]=0;for(u=4390;u<=4398;u++)O[u]=0;for(u=4399;u<=4413;u++)O[u]=2;for(u=4418;u<=4433;u++)O[u]=2;for(u=4455;u<=4457;u++)O[u]=2;for(u=4484;u<=4489;u++)O[u]=0;for(u=4491;u<=4554;u++)O[u]=0;for(u=4568;u<=4589;u++)O[u]=0;for(u=4652;u<=4656;u++)O[u]=0;for(u=4766;u<=4800;u++)O[u]=0;for(u=5014;u<=5016;u++)O[u]=0;for(u=5069;u<=5072;u++)O[u]=0;for(u=5105;u<=5130;u++)O[u]=0;for(u=5167;u<=5188;u++)O[u]=0;for(u=5253;u<=5259;u++)O[u]=0;for(u=5269;u<=5275;u++)O[u]=0;for(u=5292;u<=5311;u++)O[u]=0;for(u=5329;u<=5331;u++)O[u]=0;for(u=5343;u<=5349;u++)O[u]=0;for(u=5355;u<=5357;u++)O[u]=0;for(u=5387;u<=5389;u++)O[u]=0;for(u=5459;u<=5463;u++)O[u]=0;for(u=5479;u<=5482;u++)O[u]=0;for(u=5518;u<=5520;u++)O[u]=0;for(u=5530;u<=5539;u++)O[u]=0;for(u=5550;u<=5552;u++)O[u]=0;for(u=5562;u<=5583;u++)O[u]=0;for(u=5623;u<=5625;u++)O[u]=2;for(u=5631;u<=5639;u++)O[u]=0;for(u=5649;u<=5653;u++)O[u]=0;for(u=5663;u<=5680;u++)O[u]=0;for(u=5682;u<=5685;u++)O[u]=0;for(u=5875;u<=5877;u++)O[u]=0;for(u=5896;u<=5899;u++)O[u]=0;for(u=5921;u<=5940;u++)O[u]=0;for(u=6050;u<=6125;u++)O[u]=0;for(u=6244;u<=6275;u++)O[u]=0;for(u=6328;u<=6348;u++)O[u]=0;for(u=6350;u<=6356;u++)O[u]=0;for(u=6366;u<=6372;u++)O[u]=0;for(u=6381;u<=6387;u++)O[u]=0;for(u=6393;u<=6404;u++)O[u]=0;for(u=6480;u<=6483;u++)O[u]=0;for(u=6511;u<=6514;u++)O[u]=0;for(u=6579;u<=6581;u++)O[u]=0;for(u=6619;u<=6624;u++)O[u]=0;for(u=6625;u<=6627;u++)O[u]=2;for(u=6628;u<=6632;u++)O[u]=0;for(u=6634;u<=6637;u++)O[u]=0;for(u=6669;u<=6692;u++)O[u]=0;for(u=6707;u<=6709;u++)O[u]=0;for(u=6720;u<=6723;u++)O[u]=0;for(u=6732;u<=6738;u++)O[u]=0;for(u=6931;u<=6933;u++)O[u]=0;for(u=6956;u<=6959;u++)O[u]=0;for(u=7005;u<=7007;u++)O[u]=0;for(u=7057;u<=7070;u++)O[u]=2;for(u=7074;u<=7082;u++)O[u]=0;for(u=7109;u<=7118;u++)O[u]=0;for(u=7119;u<=7127;u++)O[u]=1;for(u=7374;u<=7376;u++)O[u]=0;for(u=7528;u<=7586;u++)O[u]=0;for(u=7587;u<=7645;u++)O[u]=2;for(u=7692;u<=7696;u++)O[u]=0;for(u=7755;u<=7787;u++)O[u]=0;for(u=7791;u<=7795;u++)O[u]=0;for(u=7799;u<=7801;u++)O[u]=0;for(u=7803;u<=7805;u++)O[u]=0;for(u=7825;u<=7831;u++)O[u]=0;for(u=7845;u<=7859;u++)O[u]=0;for(u=8013;u<=8032;u++)O[u]=0;for(u=8065;u<=8068;u++)O[u]=1;for(u=8518;u<=8529;u++)O[u]=2;for(u=8533;u<=8536;u++)O[u]=2;for(u=8538;u<=8540;u++)O[u]=2;for(u=8677;u<=8679;u++)O[u]=0;for(u=8836;u<=8840;u++)O[u]=0;for(u=8857;u<=8859;u++)O[u]=0;for(u=8908;u<=8910;u++)O[u]=0;for(u=9154;u<=9159;u++)O[u]=0;for(u=9205;u<=9218;u++)O[u]=0;for(u=9271;u<=9273;u++)O[u]=0;for(u=9295;u<=9297;u++)O[u]=0;for(u=9356;u<=9360;u++)O[u]=0;for(u=9404;u<=9407;u++)O[u]=0;for(u=9476;u<=9482;u++)O[u]=0;for(u=9487;u<=9494;u++)O[u]=0;for(u=9697;u<=9699;u++)O[u]=0;for(u=9821;u<=9865;u++)O[u]=0;for(u=10285;u<=10291;u++)O[u]=0;for(u=10314;u<=10317;u++)O[u]=0;for(u=10448;u<=10465;u++)O[u]=0;for(u=10726;u<=10729;u++)O[u]=0;for(u=10731;u<=10733;u++)O[u]=0;for(u=11114;u<=11118;u++)O[u]=0;for(u=20004;u<=20032;u++)O[u]=0;for(u=20047;u<=20049;u++)O[u]=0;for(u=20062;u<=20092;u++)O[u]=0;for(u=20135;u<=20138;u++)O[u]=0;for(u=20248;u<=20258;u++)O[u]=0;for(u=20348;u<=20358;u++)O[u]=0;for(u=20436;u<=20440;u++)O[u]=0;for(u=20822;u<=20824;u++)O[u]=0;for(u=20904;u<=20932;u++)O[u]=0;for(u=20934;u<=20936;u++)O[u]=0;for(u=21004;u<=21032;u++)O[u]=0;for(u=21035;u<=21037;u++)O[u]=0;for(u=21095;u<=21097;u++)O[u]=0;for(u=21148;u<=21150;u++)O[u]=0;for(u=21207;u<=21264;u++)O[u]=0;for(u=21307;u<=21364;u++)O[u]=0;for(u=21413;u<=21423;u++)O[u]=0;for(u=21453;u<=21463;u++)O[u]=0;for(u=21473;u<=21483;u++)O[u]=0;for(u=21780;u<=21782;u++)O[u]=0;for(u=21891;u<=21894;u++)O[u]=0;for(u=21896;u<=21899;u++)O[u]=0;for(u=22171;u<=22177;u++)O[u]=0;for(u=22181;u<=22187;u++)O[u]=0;for(u=22191;u<=22197;u++)O[u]=0;for(u=22207;u<=22222;u++)O[u]=0;for(u=22229;u<=22232;u++)O[u]=0;for(u=22234;u<=22236;u++)O[u]=0;for(u=22243;u<=22250;u++)O[u]=0;for(u=22262;u<=22265;u++)O[u]=0;for(u=22307;u<=22322;u++)O[u]=0;for(u=22348;u<=22357;u++)O[u]=0;for(u=22407;u<=22422;u++)O[u]=0;for(u=22462;u<=22465;u++)O[u]=0;for(u=22521;u<=22525;u++)O[u]=0;for(u=22607;u<=22622;u++)O[u]=0;for(u=22641;u<=22646;u++)O[u]=0;for(u=22648;u<=22657;u++)O[u]=0;for(u=22707;u<=22722;u++)O[u]=0;for(u=22762;u<=22765;u++)O[u]=0;for(u=22807;u<=22822;u++)O[u]=0;for(u=22991;u<=22994;u++)O[u]=0;for(u=23028;u<=23038;u++)O[u]=0;for(u=23301;u<=23333;u++)O[u]=2;for(u=23830;u<=23853;u++)O[u]=0;for(u=23866;u<=23872;u++)O[u]=0;for(u=23877;u<=23884;u++)O[u]=0;for(u=23886;u<=23894;u++)O[u]=0;for(u=23946;u<=23948;u++)O[u]=0;for(u=24311;u<=24313;u++)O[u]=0;for(u=24342;u<=24347;u++)O[u]=0;for(u=24370;u<=24374;u++)O[u]=10;for(u=24375;u<=24381;u++)O[u]=0;for(u=24718;u<=24721;u++)O[u]=0;for(u=24817;u<=24821;u++)O[u]=0;for(u=24877;u<=24882;u++)O[u]=0;for(u=24891;u<=24893;u++)O[u]=0;for(u=25391;u<=25395;u++)O[u]=0;for(u=25828;u<=25838;u++)O[u]=0;for(u=26191;u<=26195;u++)O[u]=0;for(u=26391;u<=26393;u++)O[u]=0;for(u=26701;u<=26722;u++)O[u]=0;for(u=26729;u<=26799;u++)O[u]=2;for(u=26801;u<=26803;u++)O[u]=2;for(u=26811;u<=26813;u++)O[u]=2;for(u=26847;u<=26870;u++)O[u]=2;for(u=26891;u<=26899;u++)O[u]=0;for(u=26901;u<=26923;u++)O[u]=0;for(u=26929;u<=26946;u++)O[u]=0;for(u=26948;u<=26998;u++)O[u]=0;for(u=27037;u<=27040;u++)O[u]=0;for(u=27205;u<=27232;u++)O[u]=0;for(u=27258;u<=27260;u++)O[u]=0;for(u=27391;u<=27398;u++)O[u]=0;for(u=27561;u<=27564;u++)O[u]=0;for(u=27571;u<=27574;u++)O[u]=0;for(u=27581;u<=27584;u++)O[u]=0;for(u=27591;u<=27594;u++)O[u]=0;for(u=27700;u<=27707;u++)O[u]=0;for(u=28191;u<=28193;u++)O[u]=0;for(u=28348;u<=28358;u++)O[u]=0;for(u=28402;u<=28432;u++)O[u]=0;for(u=28462;u<=28492;u++)O[u]=0;for(u=29118;u<=29122;u++)O[u]=0;for(u=29168;u<=29172;u++)O[u]=0;for(u=29177;u<=29185;u++)O[u]=0;for(u=29187;u<=29195;u++)O[u]=0;for(u=29900;u<=29903;u++)O[u]=0;for(u=30161;u<=30179;u++)O[u]=0;for(u=30491;u<=30494;u++)O[u]=0;for(u=30729;u<=30732;u++)O[u]=0;for(u=31251;u<=31259;u++)O[u]=0;for(u=31265;u<=31268;u++)O[u]=0;for(u=31275;u<=31279;u++)O[u]=0;for(u=31281;u<=31297;u++)O[u]=0;for(u=31461;u<=31469;u++)O[u]=0;for(u=31491;u<=31495;u++)O[u]=0;for(u=31917;u<=31922;u++)O[u]=0;for(u=31965;u<=32e3;u++)O[u]=0;for(u=32001;u<=32003;u++)O[u]=2;for(u=32005;u<=32031;u++)O[u]=2;for(u=32033;u<=32060;u++)O[u]=2;for(u=32064;u<=32067;u++)O[u]=2;for(u=32074;u<=32077;u++)O[u]=2;for(u=32081;u<=32086;u++)O[u]=0;for(u=32107;u<=32130;u++)O[u]=0;for(u=32133;u<=32159;u++)O[u]=0;for(u=32164;u<=32167;u++)O[u]=2;for(u=32180;u<=32199;u++)O[u]=0;for(u=32201;u<=32260;u++)O[u]=0;for(u=32301;u<=32360;u++)O[u]=0;for(u=32401;u<=32460;u++)O[u]=0;for(u=32501;u<=32560;u++)O[u]=0;for(u=32601;u<=32662;u++)O[u]=0;for(u=32664;u<=32667;u++)O[u]=2;for(u=32701;u<=32761;u++)O[u]=0;for(u=53001;u<=53004;u++)O[u]=0;for(u=53008;u<=53019;u++)O[u]=0;for(u=53021;u<=53032;u++)O[u]=0;for(u=53034;u<=53037;u++)O[u]=0;for(u=53042;u<=53046;u++)O[u]=0;for(u=53074;u<=53080;u++)O[u]=0;for(u=54001;u<=54004;u++)O[u]=0;for(u=54008;u<=54019;u++)O[u]=0;for(u=54021;u<=54032;u++)O[u]=0;for(u=54034;u<=54037;u++)O[u]=0;for(u=54042;u<=54046;u++)O[u]=0;for(u=54048;u<=54053;u++)O[u]=0;for(u=54074;u<=54080;u++)O[u]=0;for(u=54090;u<=54096;u++)O[u]=0;for(u=54098;u<=54101;u++)O[u]=0;for(u=65161;u<=65163;u++)O[u]=0;for(u=102001;u<=102040;u++)O[u]=0;for(u=102042;u<=102063;u++)O[u]=0;for(u=102065;u<=102067;u++)O[u]=0;for(u=102070;u<=102117;u++)O[u]=0;for(u=102122;u<=102216;u++)O[u]=0;for(u=102221;u<=102377;u++)O[u]=0;for(u=102382;u<=102388;u++)O[u]=0;for(u=102389;u<=102398;u++)O[u]=2;for(u=102399;u<=102444;u++)O[u]=0;for(u=102445;u<=102447;u++)O[u]=2;for(u=102448;u<=102458;u++)O[u]=0;for(u=102459;u<=102468;u++)O[u]=2;for(u=102469;u<=102499;u++)O[u]=0;for(u=102500;u<=102519;u++)O[u]=1;for(u=102520;u<=102524;u++)O[u]=0;for(u=102525;u<=102529;u++)O[u]=2;for(u=102530;u<=102588;u++)O[u]=0;for(u=102590;u<=102598;u++)O[u]=0;for(u=102601;u<=102603;u++)O[u]=0;for(u=102605;u<=102628;u++)O[u]=0;for(u=102629;u<=102646;u++)O[u]=2;for(u=102648;u<=102700;u++)O[u]=2;for(u=102701;u<=102703;u++)O[u]=0;for(u=102707;u<=102730;u++)O[u]=2;for(u=102733;u<=102758;u++)O[u]=2;for(u=102767;u<=102900;u++)O[u]=0;for(u=102901;u<=102933;u++)O[u]=2;for(u=102934;u<=102950;u++)O[u]=13;for(u=102951;u<=102963;u++)O[u]=0;for(u=102965;u<=102969;u++)O[u]=0;for(u=102971;u<=102973;u++)O[u]=0;for(u=102975;u<=102989;u++)O[u]=0;for(u=102990;u<=102992;u++)O[u]=1;for(u=102997;u<=103002;u++)O[u]=0;for(u=103003;u<=103008;u++)O[u]=2;for(u=103009;u<=103011;u++)O[u]=0;for(u=103012;u<=103014;u++)O[u]=2;for(u=103019;u<=103021;u++)O[u]=0;for(u=103022;u<=103024;u++)O[u]=2;for(u=103029;u<=103031;u++)O[u]=0;for(u=103032;u<=103034;u++)O[u]=2;for(u=103065;u<=103068;u++)O[u]=0;for(u=103074;u<=103076;u++)O[u]=0;for(u=103077;u<=103079;u++)O[u]=1;for(u=103080;u<=103082;u++)O[u]=0;for(u=103083;u<=103085;u++)O[u]=2;for(u=103090;u<=103093;u++)O[u]=0;for(u=103097;u<=103099;u++)O[u]=0;for(u=103100;u<=103102;u++)O[u]=2;for(u=103107;u<=103109;u++)O[u]=0;for(u=103110;u<=103112;u++)O[u]=2;for(u=103113;u<=103116;u++)O[u]=0;for(u=103117;u<=103120;u++)O[u]=2;for(u=103153;u<=103157;u++)O[u]=0;for(u=103158;u<=103162;u++)O[u]=2;for(u=103163;u<=103165;u++)O[u]=0;for(u=103166;u<=103168;u++)O[u]=1;for(u=103169;u<=103171;u++)O[u]=2;for(u=103186;u<=103188;u++)O[u]=0;for(u=103189;u<=103191;u++)O[u]=2;for(u=103192;u<=103195;u++)O[u]=0;for(u=103196;u<=103199;u++)O[u]=2;for(u=103200;u<=103224;u++)O[u]=0;for(u=103225;u<=103227;u++)O[u]=1;for(u=103232;u<=103237;u++)O[u]=0;for(u=103238;u<=103243;u++)O[u]=2;for(u=103244;u<=103246;u++)O[u]=0;for(u=103247;u<=103249;u++)O[u]=2;for(u=103254;u<=103256;u++)O[u]=0;for(u=103257;u<=103259;u++)O[u]=2;for(u=103264;u<=103266;u++)O[u]=0;for(u=103267;u<=103269;u++)O[u]=2;for(u=103300;u<=103375;u++)O[u]=0;for(u=103381;u<=103383;u++)O[u]=0;for(u=103384;u<=103386;u++)O[u]=1;for(u=103387;u<=103389;u++)O[u]=0;for(u=103390;u<=103392;u++)O[u]=2;for(u=103397;u<=103399;u++)O[u]=0;for(u=103400;u<=103471;u++)O[u]=2;for(u=103476;u<=103478;u++)O[u]=0;for(u=103479;u<=103481;u++)O[u]=2;for(u=103486;u<=103488;u++)O[u]=0;for(u=103489;u<=103491;u++)O[u]=2;for(u=103492;u<=103495;u++)O[u]=0;for(u=103496;u<=103499;u++)O[u]=2;for(u=103528;u<=103543;u++)O[u]=0;for(u=103544;u<=103548;u++)O[u]=2;for(u=103549;u<=103551;u++)O[u]=0;for(u=103552;u<=103554;u++)O[u]=1;for(u=103555;u<=103557;u++)O[u]=2;for(u=103558;u<=103560;u++)O[u]=0;for(u=103571;u<=103573;u++)O[u]=0;for(u=103574;u<=103576;u++)O[u]=2;for(u=103577;u<=103580;u++)O[u]=0;for(u=103581;u<=103583;u++)O[u]=2;for(u=103595;u<=103694;u++)O[u]=0;for(u=103696;u<=103699;u++)O[u]=0;for(u=103700;u<=103793;u++)O[u]=2;for(u=103794;u<=103890;u++)O[u]=0;for(u=103891;u<=103896;u++)O[u]=2;for(u=103900;u<=103971;u++)O[u]=2;for(u=103972;u<=103977;u++)O[u]=0;for(u=112e3;u<=112101;u++)O[u]=0;const j5=[102100,102113,3857,3785,900913],ZB=[104905,104971],XB=[4326,...j5,...ZB],_p=[-20037508342788905e-9,20037508342788905e-9],E2=[-20037508342787e-6,20037508342787e-6],$b={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:_p,origin:E2,dx:1e-5},B5={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:_p,origin:E2,dx:1e-5},102100:$b,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:_p,origin:E2,dx:1e-5},3857:$b,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:$b};function qc(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const r=t.wkid,i=e.wkid;if(r!=null||i!=null){if(r===i||Hc(t)&&Hc(e))return!0;const o=t.latestWkid;if(o!=null&&i===o)return!0;const a=e.latestWkid;return a!=null&&r===a}let s,n;return t.wkt2&&e.wkt2?(s=t.wkt2,n=e.wkt2):t.wkt&&e.wkt&&(s=t.wkt,n=e.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function Od(t){const e=t?.wkid;return e!=null&&e>=2e3&&B5[e]||null}function zve(t){if(!t)return;const{wkid:e,vcsWkid:r}=t;if(e)return r?JSON.stringify({wkid:e,vcsWkid:r}):String(e);const i=t.wkt||t.wkt2;return JSON.stringify(i?r?{wkt:i,vcsWkid:r}:{wkt:i}:{})}function mm(t){if(!V5(t))return!1;const{wkid:e}=t;if(e)return O[e]==null;const r=t.wkt2||t.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)}function QB(t){return!(eV(t)||tV(t))}function ug(t){return t?.wkid===4326}function qve(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function Hve(t){return t?.wkid===Nh.CGCS2000}function Hc(t){const e=t?.wkid;return e!=null&&e>=2e3&&j5.includes(e)}function Wve(t){return t?.wkid===32662}function r1(t){return t===Nh.GCSMARS2000||t===Nh.GCSMARS2000_SPHERE}function eV(t){return r1(t?.wkid)}function i1(t){return t===Nh.GCSMOON2000}function tV(t){return i1(t?.wkid)}function rV(t){const e=t?.wkid;return e!=null&&e>=2e3&&XB.includes(e)}function V5(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const G5={wkid:4326,wkt:cC(B5[4326].wkTemplate,{Central_Meridian:"0.0"})},z5={wkid:102100,latestWkid:3857},iV={wkid:32662};function zE(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const sV=zE(Bn),q5=zE(yp),H5=zE(Kv),Yve={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Bn.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},nV=q5.wkt.toUpperCase(),oV=H5.wkt.toUpperCase();function aV(t){if(t!=null&&V5(t)){const e=t.wkid,r=t.wkt2??t.wkt;if(r1(e))return yp;const i=r?.toUpperCase();if(r&&i===nV)return yp;if(i1(e)||i&&i===oV)return Kv}return Bn}function Jve(t){return r1(t)?yp:i1(t)?Kv:Bn}function lV(t){return qc(t,sV)}function Kve(t){return lV(t)||qc(t,q5)||qc(t,H5)}const Zve=39.37,cV=Bn.radius*Math.PI/200,W5=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Ph=O,Y5=/UNIT\[([^\]]+)]/i,uV=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),hV=Wn()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),pn=t=>t*t,Ia=t=>t*t*t,wp={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:pn(.001)},"square-centimeters":{inBaseUnits:pn(.01)},"square-decimeters":{inBaseUnits:pn(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:pn(1e3)},"square-inches":{inBaseUnits:pn(.0254)},"square-feet":{inBaseUnits:pn(.3048)},"square-yards":{inBaseUnits:pn(.9144)},"square-miles":{inBaseUnits:pn(1609.344)},"square-nautical-miles":{inBaseUnits:pn(1852)},"square-us-feet":{inBaseUnits:pn(1200/3937)},acres:{inBaseUnits:.0015625*pn(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Ia(.001)},"cubic-centimeters":{inBaseUnits:1e3*Ia(.01)},"cubic-decimeters":{inBaseUnits:1e3*Ia(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Ia(1e3)},"cubic-inches":{inBaseUnits:1e3*Ia(.0254)},"cubic-feet":{inBaseUnits:1e3*Ia(.3048)},"cubic-yards":{inBaseUnits:1e3*Ia(.9144)},"cubic-miles":{inBaseUnits:1e3*Ia(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},fV=(()=>{const t={};for(const e in wp)for(const r in wp[e].units)t[r]=e;return t})();function dV(t,e,r){return t*wp[r].units[e].inBaseUnits}function pV(t,e,r){return t/wp[r].units[e].inBaseUnits}const mV=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],yV=["metric","imperial"],J5=[...yV,...mV],gV=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function S2(t){const e=fV[t];if(!e)throw new Error("unknown type");return e}function i4(t,e=null){return e=e||S2(t),wp[e].baseUnit===t}function Vn(t,e,r){if(e===r)return t;const i=S2(e);if(i!==S2(r))throw new Error("incompatible units");const s=i4(e,i)?t:dV(t,e,i);return i4(r,i)?s:pV(s,r,i)}function Xve(t,e,r,i=!1){if(!i&&mm(e))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=lu(e);return s!==r&&(t=s?Vn(t,s,r):Vn(t*=df(e),"meters",r)),t}function Qve(t,e,r,i=!1){if(!i&&mm(r))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=lu(r);return e!==s&&(t=s?Vn(t,e,s):Vn(t,e,"meters")/df(r)),t}function vV(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function e1e(t){return vV(t)}function t1e(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function r1e(t,e){const r=Vn(t,e,"meters");return Math.abs(r)<3e3?"meters":"kilometers"}function i1e(t,e){const r=Vn(t,e,"meters");return Math.abs(r)<1e5?"meters":"kilometers"}function s1e(t,e){const r=Vn(t,e,"feet");return Math.abs(r)<1e3?"feet":"miles"}function n1e(t,e){const r=Vn(t,e,"feet");return Math.abs(r)<1e5?"feet":"miles"}function o1e(t,e){const r=Vn(t,e,"square-meters");return Math.abs(r)<3e6?"square-meters":"square-kilometers"}function a1e(t,e){const r=Vn(t,e,"square-feet");return Math.abs(r)<1e6?"square-feet":"square-miles"}function l1e(t,e,r){return Vn(t,e,"meters")/(r*Math.PI/180)}function K5(t){return hV.fromJSON(t.toLowerCase())||null}function c1e(t){if(t!=null&&!QB(t))return 1;const e=df(t);return e>1e5?1:e}function bV(t){return df(t)>=aV(t).metersPerDegree?"meters":lu(t)}function df(t,e=Bn.metersPerDegree){return _V(t,!0)??e}function _V(t,e=!1){const r=t?.wkid??null,i=t?.wkt2??t?.wkt??null;let s=null;if(r){if(r1(r))return yp.metersPerDegree;if(i1(r))return Kv.metersPerDegree;s=Ph.values[Ph[r]],!s&&e&&uV.has(r)&&(s=cV)}else i&&(Q5(i)?s=s4(W5.exec(i),s):X5(i)&&(s=s4(Y5.exec(i),s)));return s}function u1e(t){return mm(t)?1:df(t)}function s4(t,e){return t?.[1]?Z5(t[1]):e}function Z5(t){return parseFloat(t.split(",")[1])}function lu(t){const e=t?.wkid??null,r=t?.wkt2??t?.wkt??null;let i=null;if(e)i=Ph.units[Ph[e]];else if(r){const s=Q5(r)?W5:X5(r)?Y5:null;if(s){const n=s.exec(r);n?.[1]&&(i=xV(n[1]))}}return i!=null?K5(i):null}function h1e(t){const e=lu(t);return e!=null&&J5.includes(e)?e:null}function f1e(t){const e=bV(t);return e!=null&&J5.includes(e)?e:null}function d1e(t){const e=lu(t);return e==null?null:gV.get(e)}function X5(t){return/^GEOCCS/i.test(t)}function Q5(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const wV=1e-7;function xV(t){let r=/[\\"']{1}([^\\"']+)/.exec(t)?.[1];if(!r||!K5(r)){const i=Z5(t);r=null;const s=Ph.values;for(let n=0;n<s.length;++n)if(Math.abs(i-s[n])<wV){r=Ph.units[n];break}}return r}function p1e(t){const e=lu(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const EV={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},SV={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},AV={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},m1e=Wn()(EV),y1e=Wn()(SV),g1e=Wn()(AV);function Kt(t,e,r){let i,s;return e===void 0?(s=t,i=[void 0]):typeof e!="string"?(s=t,i=[void 0],r=e):(s=e,i=Array.isArray(t)?t:[t]),(n,o)=>{const a=n.constructor.prototype;for(const l of i){const c=WC(n,l,s);c.write&&typeof c.write=="object"||(c.write={}),r&&(c.write.target=r),c.write.writer=a[o]}}}var ro;let Xe=class extends tt{static{ro=this}static{this.GCS_NAD_1927=null}static{this.WGS84=null}static{this.WebMercator=null}static{this.PlateCarree=null}static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return ro.WebMercator;if(e?.wkid===4326)return ro.WGS84;const r=new ro;return r.read(e),r}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return ug(this)}get isWebMercator(){return Hc(this)}get isGeographic(){return mm(this)}get isWrappable(){return rV(this)}get metersPerUnit(){return df(this)}get unit(){return lu(this)||(this.isGeographic?"degrees":null)}writeWkt(e,r){this.wkid||(r.wkt=e)}clone(){if(this===ro.WGS84)return new ro(G5);if(this===ro.WebMercator)return new ro(z5);const e=new ro;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ge(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:r,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:s}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return r==null||s?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):i?n.id===r&&n.referenceServiceName===i:n.id===r}return qc(this,e)}toJSON(e){return this.write(void 0,e)}};g([A({readOnly:!0})],Xe.prototype,"isWGS84",null),g([A({readOnly:!0})],Xe.prototype,"isWebMercator",null),g([A({readOnly:!0})],Xe.prototype,"isGeographic",null),g([A({readOnly:!0})],Xe.prototype,"isWrappable",null),g([A({type:Dr,json:{write:!0}})],Xe.prototype,"latestWkid",void 0),g([A({readOnly:!0})],Xe.prototype,"metersPerUnit",null),g([A({readOnly:!0})],Xe.prototype,"unit",null),g([A({type:Dr,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Xe.prototype,"wkid",void 0),g([A({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Xe.prototype,"wkt",void 0),g([Kt("wkt"),Kt("web-scene","wkt")],Xe.prototype,"writeWkt",null),g([A({type:String,json:{write:!1}})],Xe.prototype,"wkt2",void 0),g([A({type:Dr,json:{write:!0}})],Xe.prototype,"vcsWkid",void 0),g([A({type:Dr,json:{write:!0}})],Xe.prototype,"latestVcsWkid",void 0),g([A()],Xe.prototype,"imageCoordinateSystem",void 0),Xe=ro=g([ie("esri.geometry.SpatialReference")],Xe),Xe.prototype.toJSON.isDefaultToJSON=!0,Xe.GCS_NAD_1927=oi.freeze(new Xe({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Xe.WGS84=oi.freeze(new Xe(G5)),Xe.WebMercator=oi.freeze(new Xe(z5)),Xe.PlateCarree=oi.freeze(new Xe(iV));let Ai=class extends tt{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Xe.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,r){if(e instanceof Xe)return e;if(e!=null){const i=new Xe;return i.read(e,r),i}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,r){this.cache[e]=r}};g([A()],Ai.prototype,"type",void 0),g([A({readOnly:!0})],Ai.prototype,"cache",null),g([A({readOnly:!0})],Ai.prototype,"extent",null),g([A({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Ai.prototype,"hasM",void 0),g([A({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Ai.prototype,"hasZ",void 0),g([A({type:Xe,json:{write:!0},value:Xe.WGS84})],Ai.prototype,"spatialReference",void 0),g([ni("spatialReference")],Ai.prototype,"readSpatialReference",null),Ai=g([ie("esri.geometry.Geometry")],Ai);const TV=Object.prototype.toString;function MV(t){const e="__accessorMetadata__"in t?jn(t):t;return function(...r){if(r.push(e),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return $V.apply(this,r)}}function $V(t,e,r,i){Jv(t,e).cast=i}function OV(t){return(e,r)=>{Jv(e,t).cast=e[r]}}function ym(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&TV.call(t[0])==="[object Function]"?MV(t[0]):t.length===1&&typeof t[0]=="string"?OV(t[0]):void 0}function xp(t){if(t&&typeof t=="object"&&"type"in t&&t.type==="mesh")throw new mt("internal:mesh","Mesh geometries are not supported for this operation")}function _1e(t){t.forEach(xp)}const IV=57.29577951308232,CV=.017453292519943;function n4(t){return t*IV}function o4(t){return t*CV}function w1e(t){return Math.PI/2-2*Math.atan(Math.exp(-t/Bn.radius))}function A2(t){return t.wkid!=null||t.wkt!=null}const Ob=[0,0];function hg(t,e,r,i,s){const n=t,o=s;if(o.spatialReference=r,"x"in n&&"x"in o)[o.x,o.y]=e(n.x,n.y,Ob,i);else if("xmin"in n&&"xmin"in o)[o.xmin,o.ymin]=e(n.xmin,n.ymin,Ob,i),[o.xmax,o.ymax]=e(n.xmax,n.ymax,Ob,i);else if("paths"in n&&"paths"in o||"rings"in n&&"rings"in o){const a="paths"in n?n.paths:n.rings,l=[];let c;for(let f=0;f<a.length;f++){const d=a[f];c=[],l.push(c);for(let p=0;p<d.length;p++)c.push(e(d[p][0],d[p][1],[0,0],i)),d[p].length>2&&c[p].push(d[p][2]),d[p].length>3&&c[p].push(d[p][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in n&&"points"in o){const a=n.points,l=[];for(let c=0;c<a.length;c++)l[c]=e(a[c][0],a[c][1],[0,0],i),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return s}function t0(t,e){const r=t&&(A2(t)?t:t.spatialReference),i=e&&(A2(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!r||!i)&&(!!qc(i,r)||Hc(i)&&ug(r)||Hc(r)&&ug(i))}function eN(t,e){if(t==null)return null;const r=t.spatialReference,i=e&&(A2(e)?e:e.spatialReference);return t0(r,i)?qc(r,i)?ge(t):Hc(i)?hg(t,Hu,Xe.WebMercator,!1,ge(t)):ug(i)?hg(t,s1,Xe.WGS84,!1,ge(t)):null:null}function Hu(t,e,r=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const i=o4(e);return r[0]=o4(t)*Bn.radius,r[1]=Bn.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),r}function s1(t,e,r=[0,0],i=!1){if(t===_p[0])r[0]=-180;else if(t===_p[1])r[0]=180;else{const s=n4(t/Bn.radius);r[0]=i?s:s-360*Math.floor((s+180)/360)}return r[1]=n4(Math.PI/2-2*Math.atan(Math.exp(-e/Bn.radius))),r}function Ib(t,e=!1,r=ge(t)){return xp(t),xp(r),hg(t,Hu,Xe.WebMercator,e,r)}function ny(t,e=!1,r=ge(t)){return xp(t),xp(r),hg(t,s1,Xe.WGS84,e,r)}function NV(t,e){const r=t.x-e.x,i=t.y-e.y,s=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(r*r+i*i+s*s)}function PV(t){return tN(t,rN)?.[0]??null}function LV(t){return tN(t,rN)?.[1]??null}function tN({x:t,y:e,spatialReference:r},i=[0,0]){if(r){if(Hc(r))return s1(t,e,i);if(mm(r))return i[0]=t,i[1]=e,i}return null}const rN=[0,0];var r0;const Cb=[0,0];function a4(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let ut=r0=class extends Ai{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const r=t._get("spatialReference");e._set("spatialReference",oi.isFrozen(r)?r:r.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,r,i,s){let n;if(Array.isArray(t))n=t,s=e,t=n[0],e=n[1],r=n[2],i=n[3];else if(t&&typeof t=="object"){if(n=t,t=n.x!=null?n.x:n.longitude,e=n.y!=null?n.y:n.latitude,r=n.z,i=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new Xe(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)rr.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)rr.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&s?.isWebMercator){const a=Hu(n.longitude,n.latitude,Cb);t=a[0],e=a[1]}}}else a4(r)?(s=r,r=null):a4(i)&&(s=i,i=null);const o={x:t,y:e};return o.x==null&&o.y!=null?rr.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&rr.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(o.spatialReference=s),r!=null&&(o.z=r),i!=null&&(o.m=i),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return LV(this)}set latitude(t){const{spatialReference:e,x:r}=this;t!=null&&e&&(e.isWebMercator?this._set("y",Hu(r,t,Cb)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return PV(this)}set longitude(t){const{y:e,spatialReference:r}=this;t!=null&&r&&(r.isWebMercator?this._set("x",Hu(t,e,Cb)[0]):r.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,r){e[r]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new r0;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return r0.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:r,z:i,m:s,spatialReference:n}=this,{z:o,m:a}=t;let{x:l,y:c,spatialReference:f}=t;if(!n.equals(f))if(n.isWebMercator&&f.isWGS84)[l,c]=Hu(l,c),f=n;else{if(!n.isWGS84||!f.isWebMercator)return!1;[l,c]=s1(l,c),f=n}return e===l&&r===c&&i===o&&s===a&&n.wkid===f.wkid}offset(t,e,r){return this.x+=t,this.y+=e,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const t=Od(this.spatialReference);if(!t)return this;let e=this.x;const[r,i]=t.valid,s=2*i;let n;return e>i?(n=Math.ceil(Math.abs(e-i)/s),e-=n*s):e<r&&(n=Math.ceil(Math.abs(e-r)/s),e+=n*s),this._set("x",e),this}distance(t){return NV(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};g([A({readOnly:!0})],ut.prototype,"cache",null),g([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ut.prototype,"hasM",null),g([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ut.prototype,"hasZ",null),g([A({type:Number})],ut.prototype,"latitude",null),g([A({type:Number})],ut.prototype,"longitude",null),g([A({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),ym(t=>isNaN(t)?t:Gv(t))],ut.prototype,"x",void 0),g([Kt("x")],ut.prototype,"writeX",null),g([ni("x")],ut.prototype,"readX",null),g([A({type:Number,json:{write:!0}})],ut.prototype,"y",void 0),g([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ut.prototype,"z",void 0),g([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],ut.prototype,"m",void 0),ut=r0=g([ie("esri.geometry.Point")],ut),ut.prototype.toJSON.isDefaultToJSON=!0;const Nb=[0,0];function iN(t,e){return e!=null&&Di(t,e.x,e.y,e.z)}function x1e(t,e){if(!e.points?.length)return!1;for(const r of e.points)if(!Lh(t,r))return!1;return!0}function RV(t,e){const{xmin:r,ymin:i,zmin:s,xmax:n,ymax:o,zmax:a}=e;return t.hasZ&&e.hasZ?Di(t,r,i,s)&&Di(t,r,o,s)&&Di(t,n,o,s)&&Di(t,n,i,s)&&Di(t,r,i,a)&&Di(t,r,o,a)&&Di(t,n,o,a)&&Di(t,n,i,a):Di(t,r,i)&&Di(t,r,o)&&Di(t,n,o)&&Di(t,n,i)}function Lh(t,e){return Di(t,e[0],e[1])}function kV(t,e){return Di(t,e[0],e[1],e[2])}function Di(t,e,r,i){return e>=t.xmin&&e<=t.xmax&&r>=t.ymin&&r<=t.ymax&&(i==null||!t.hasZ||i>=t.zmin&&i<=t.zmax)}function DV(t,e){return Nb[1]=e.y,Nb[0]=e.x,FV(t,Nb)}function FV(t,e){return sN(t.rings,e)}function sN(t,e){if(!t)return!1;if(UV(t))return l4(!1,t,e);let r=!1;for(let i=0,s=t.length;i<s;i++)r=l4(r,t[i],e);return r}function UV(t){return!Array.isArray(t[0][0])}function l4(t,e,r){const[i,s]=r;let n=t,o=0;for(let a=0,l=e.length;a<l;a++){o++,o===l&&(o=0);const[c,f]=e[a],[d,p]=e[o];(f<s&&p>=s||p<s&&f>=s)&&c+(s-f)/(p-f)*(d-c)<i&&(n=!n)}return n}function jV(t,e){return iN(t,e)}function BV(t,e){const r=t.hasZ&&e.hasZ;let i,s,n;if(t.xmin<=e.xmin){if(i=e.xmin,t.xmax<i)return!1}else if(i=t.xmin,e.xmax<i)return!1;if(t.ymin<=e.ymin){if(s=e.ymin,t.ymax<s)return!1}else if(s=t.ymin,e.ymax<s)return!1;if(r&&e.hasZ){if(t.zmin<=e.zmin){if(n=e.zmin,t.zmax<n)return!1}else if(n=t.zmin,e.zmax<n)return!1}return!0}function VV(t,e){const{points:r,hasZ:i}=e,s=i?kV:Lh;for(const n of r)if(s(t,n))return!0;return!1}const Wc=[0,0],Yc=[0,0],Jc=[0,0],Kc=[0,0],GV=[Wc,Yc,Jc,Kc],nN=[[Jc,Wc],[Wc,Yc],[Yc,Kc],[Kc,Jc]];function zV(t,e){return qV(t,e.rings)}function qV(t,e){Wc[0]=t.xmin,Wc[1]=t.ymax,Yc[0]=t.xmax,Yc[1]=t.ymax,Jc[0]=t.xmin,Jc[1]=t.ymin,Kc[0]=t.xmax,Kc[1]=t.ymin;for(const r of GV)if(sN(e,r))return!0;for(const r of e){if(!r.length)continue;let i=r[0];if(Lh(t,i))return!0;for(let s=1;s<r.length;s++){const n=r[s];if(Lh(t,n)||oN(i,n,nN))return!0;i=n}}return!1}function HV(t,e){Wc[0]=t.xmin,Wc[1]=t.ymax,Yc[0]=t.xmax,Yc[1]=t.ymax,Jc[0]=t.xmin,Jc[1]=t.ymin,Kc[0]=t.xmax,Kc[1]=t.ymin;const r=e.paths;for(const i of r){if(!r.length)continue;let s=i[0];if(Lh(t,s))return!0;for(let n=1;n<i.length;n++){const o=i[n];if(Lh(t,o)||oN(s,o,nN))return!0;s=o}}return!1}const ri=[0,0];function WV(t){for(let e=0;e<t.length;e++){const r=t[e];for(let s=0;s<r.length-1;s++){const n=r[s],o=r[s+1];for(let a=e+1;a<t.length;a++)for(let l=0;l<t[a].length-1;l++){const c=t[a][l],f=t[a][l+1];if(T2(n,o,c,f,ri)&&!(ri[0]===n[0]&&ri[1]===n[1]||ri[0]===c[0]&&ri[1]===c[1]||ri[0]===o[0]&&ri[1]===o[1]||ri[0]===f[0]&&ri[1]===f[1]))return!0}}const i=r.length;if(!(i<=4))for(let s=0;s<i-3;s++){let n=i-1;s===0&&(n=i-2);const o=r[s],a=r[s+1];for(let l=s+2;l<n;l++){const c=r[l],f=r[l+1];if(T2(o,a,c,f,ri)&&!(ri[0]===o[0]&&ri[1]===o[1]||ri[0]===c[0]&&ri[1]===c[1]||ri[0]===a[0]&&ri[1]===a[1]||ri[0]===f[0]&&ri[1]===f[1]))return!0}}}return!1}function oN(t,e,r){for(let i=0;i<r.length;i++)if(T2(t,e,r[i][0],r[i][1]))return!0;return!1}function T2(t,e,r,i,s){const[n,o]=t,[a,l]=e,[c,f]=r,[d,p]=i,y=d-c,v=n-c,b=a-n,S=p-f,E=o-f,T=l-o,w=S*b-y*T;if(w===0)return!1;const _=(y*E-S*v)/w,M=(b*E-T*v)/w;return _>=0&&_<=1&&M>=0&&M<=1&&(s&&(s[0]=n+_*(a-n),s[1]=o+_*(l-o)),!0)}function YV(t){switch(t){case"esriGeometryEnvelope":case"extent":return BV;case"esriGeometryMultipoint":case"multipoint":return VV;case"esriGeometryPoint":case"point":return jV;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return zV;case"esriGeometryPolyline":case"polyline":return HV}}var vn;function JV(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function Ca(t,e,r){return e==null?r:r==null?e:t(e,r)}let Et=vn=class extends Ai{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,r,i,s){return JV(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?Xe.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:r,ymax:i,spatialReference:s??Xe.WGS84}}static fromPoint(t){return new vn({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new ut({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new vn;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,r=t.spatialReference;return e&&r&&!e.equals(r)&&t0(e,r)&&(t=e.isWebMercator?Ib(t):ny(t,!0)),t.type==="point"?iN(this,t):t.type==="extent"&&RV(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,r=t.spatialReference;return e&&r&&!e.equals(r)&&t0(e,r)&&(t=e.isWebMercator?Ib(t):ny(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),r=this.width*e,i=this.height*e;if(this.xmin+=r,this.ymin+=i,this.xmax-=r,this.ymax-=i,this.hasZ){const s=(this.zmax-this.zmin)*e;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*e;this.mmin+=s,this.mmax-=s}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,r=t.spatialReference;return e&&r&&!qc(e,r)&&t0(e,r)&&(t=e.isWebMercator?Ib(t):ny(t,!0)),YV(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,r){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Ca(Math.min,this.zmin,t.zmin),this.zmax=Ca(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Ca(Math.min,this.mmin,t.mmin),this.mmax=Ca(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Ca(Math.max,this.zmin,t.zmin),this.zmax=Ca(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Ca(Math.max,this.mmin,t.mmin),this.mmax=Ca(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=Od(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,r=this._getCM(t);if(r){const i=e.isWebMercator?ny(r):r;this.xmin-=r.x,this.xmax-=r.x,e.isWebMercator||(i.x=Pb(i.x,t).x),this.spatialReference=new Xe(cC((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(t){let e=null;const[r,i]=t.valid,s=this.xmin,n=this.xmax;return s>=r&&s<=i&&n>=r&&n<=i||(e=this.center),e}_normalize(t,e,r){const i=this.spatialReference;if(!i)return this;const s=r??Od(i);if(s==null)return this;const n=this._getParts(s).map(l=>l.extent);if(n.length<2)return n[0]||this;if(n.length>2)return t?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(t)return this._shiftCM(s);if(e)return n;let o=!0,a=!0;return n.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:n.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const f=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}if(a){const f=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}return c}),hasZ:o,hasM:a,spatialReference:i}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:s,ymax:n,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let f;t=t||Od(o);const[d,p]=t.valid;f=Pb(this.xmin,t);const y=f.x,v=f.frameId;f=Pb(this.xmax,t);const b=f.x,S=f.frameId,E=y===b&&a>0;if(a>2*p){const T=new vn(l<c?y:b,s,p,n,o),w=new vn(d,s,l<c?b:y,n,o),_=new vn(0,s,p,n,o),M=new vn(d,s,0,n,o),$=[],C=[];T.contains(_)&&$.push(v),T.contains(M)&&C.push(v),w.contains(_)&&$.push(S),w.contains(M)&&C.push(S);for(let P=v+1;P<S;P++)$.push(P),C.push(P);e.push({extent:T,frameIds:[v]},{extent:w,frameIds:[S]},{extent:_,frameIds:$},{extent:M,frameIds:C})}else y>b||E?e.push({extent:new vn(y,s,p,n,o),frameIds:[v]},{extent:new vn(d,s,b,n,o),frameIds:[S]}):e.push({extent:new vn(y,s,b,n,o),frameIds:[v]});this.cache._parts=e}const r=this.hasZ,i=this.hasM;if(r||i){const s={};r&&(s.zmin=this.zmin,s.zmax=this.zmax),i&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<e.length;n++)e[n].extent.set(s)}return e}};function Pb(t,e){const[r,i]=e.valid,s=2*i;let n,o=0;return t>i?(n=Math.ceil(Math.abs(t-i)/s),t-=n*s,o=n):t<r&&(n=Math.ceil(Math.abs(t-r)/s),t+=n*s,o=-n),{x:t,frameId:o}}g([A({readOnly:!0})],Et.prototype,"cache",null),g([A({readOnly:!0})],Et.prototype,"center",null),g([A({readOnly:!0})],Et.prototype,"extent",null),g([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Et.prototype,"hasM",null),g([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Et.prototype,"hasZ",null),g([A({readOnly:!0})],Et.prototype,"height",null),g([A({readOnly:!0})],Et.prototype,"width",null),g([A({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Et.prototype,"xmin",void 0),g([A({type:Number,json:{write:!0}})],Et.prototype,"ymin",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Et.prototype,"mmin",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Et.prototype,"zmin",void 0),g([A({type:Number,json:{write:!0}})],Et.prototype,"xmax",void 0),g([A({type:Number,json:{write:!0}})],Et.prototype,"ymax",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Et.prototype,"mmax",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Et.prototype,"zmax",void 0),Et=vn=g([ie("esri.geometry.Extent")],Et),Et.prototype.toJSON.isDefaultToJSON=!0;function Rh(t,e,r=!1){let{hasM:i,hasZ:s}=t;Array.isArray(e)?e.length!==4||i||s?e.length===3&&r&&!i?(s=!0,i=!1):e.length===3&&i&&s&&(i=!1,s=!1):(i=!0,s=!0):(s=!s&&e.hasZ&&(!i||e.hasM),i=!i&&e.hasM&&(!s||e.hasZ)),t.hasZ=s,t.hasM=i}var M2;function c4(t){return(e,r)=>e==null?r:r==null?e:t(e,r)}function KV(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let xn=M2=class extends Ai{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return{};const r={};Array.isArray(t)?(r.points=t,r.spatialReference=e):KV(t)?r.spatialReference=t:(t.points&&(r.points=t.points),t.spatialReference&&(r.spatialReference=t.spatialReference),t.hasZ&&(r.hasZ=t.hasZ),t.hasM&&(r.hasM=t.hasM));const i=r.points?.[0];return i&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=i.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=i.length>3:r.hasM===void 0&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new Et,r=this.hasZ,i=this.hasM,s=r?3:2,n=t[0],o=c4(Math.min),a=c4(Math.max);let l,c,f,d,[p,y]=n,[v,b]=n;for(let S=0,E=t.length;S<E;S++){const T=t[S],[w,_]=T;if(p=o(p,w),y=o(y,_),v=a(v,w),b=a(b,_),r&&T.length>2){const M=T[2];l=o(l,M),f=a(f,M)}if(i&&T.length>s){const M=T[s];c=o(c,M),d=a(d,M)}}return e.xmin=p,e.ymin=y,e.xmax=v,e.ymax=b,e.spatialReference=this.spatialReference,r?(e.zmin=l,e.zmax=f):(e.zmin=void 0,e.zmax=void 0),i?(e.mmin=c,e.mmax=d):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=ge(this.points)}addPoint(t){return Rh(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:ge(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new M2(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],r={x:e[0],y:e[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(r.z=e[2],i=3),this.hasM&&(r.m=e[i]),new ut(r)}removePoint(t){if(!this._validateInputs(t))return null;const e=new ut(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(Rh(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};g([A({readOnly:!0})],xn.prototype,"cache",null),g([A()],xn.prototype,"extent",null),g([A({type:[[Number]],json:{write:{isRequired:!0}}})],xn.prototype,"points",void 0),g([Kt("points")],xn.prototype,"writePoints",null),xn=M2=g([ie("esri.geometry.Multipoint")],xn),xn.prototype.toJSON.isDefaultToJSON=!0;function E1e(t){const e=[];for(t.reset();t.nextPath();){const r=[];for(;t.nextPoint();)r.push([t.x,t.y]);e.push(r)}return t.reset(),e}function ZV(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}var fg;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(fg||(fg={}));function S1e(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,r=t.hasM;if(t.type==="point")return r&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:r?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.slice();if(t.type==="extent"){const i=t.clone().normalize();if(!i)return null;let s=!1,n=!1;return i.forEach(o=>{o.hasZ&&(s=!0),o.hasM&&(n=!0)}),i.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(s&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(n&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a})}return null}function n1(t,e){const r=e[0]-t[0],i=e[1]-t[1];if(t.length>2&&e.length>2){const s=t[2]-e[2];return Math.sqrt(r*r+i*i+s*s)}return Math.sqrt(r*r+i*i)}function aN(t,e,r){const i=t[0]+r*(e[0]-t[0]),s=t[1]+r*(e[1]-t[1]);return t.length>2&&e.length>2?[i,s,t[2]+r*(e[2]-t[2])]:[i,s]}function A1e(t,e,r,i){return XV(t,e,r[i],r[i+1])}function XV(t,e,r,i){const[s,n]=e,[o,a]=r,[l,c]=i,f=l-o,d=c-a,p=f*f+d*d,y=(s-o)*f+(n-a)*d,v=Math.min(1,Math.max(0,y/p));return t[0]=o+f*v,t[1]=a+d*v,t}function T1e(t,e,r,i,s,n){let o=r,a=i,l=s-o,c=n-a;if(l!==0||c!==0){const f=((t-o)*l+(e-a)*c)/(l*l+c*c);f>1?(o=s,a=n):f>0&&(o+=l*f,a+=c*f)}return l=t-o,c=e-a,l*l+c*c}function lN(t,e){return aN(t,e,.5)}function M1e(t){const e=t.length;let r=0;for(let i=0;i<e-1;++i)r+=n1(t[i],t[i+1]);return r}function $1e(t,e){if(e<=0)return t[0];const r=t.length;let i=0;for(let s=0;s<r-1;++s){const n=n1(t[s],t[s+1]);if(e-i<n){const o=(e-i)/n;return aN(t[s],t[s+1],o)}i+=n}return t[r-1]}function cN(t,e=fg.X,r=fg.Y){let i=0;const s=t.length;let n=t[0];for(let o=1;o<s;o++){const a=t[o];i+=(a[e]-n[e])*(a[r]+n[r]),n=a}if(uN(t)){const o=t[0];i+=(o[e]-n[e])*(o[r]+n[r])}return i>=0}function uN(t){const e=t.length;return e>0&&!jv(t[0],t[e-1])}function O1e(t){"rings"in t&&(QV(t),eG(t))}function QV(t){if("rings"in t)for(const e of t.rings)uN(e)&&e.push(e[0].slice())}function eG(t){if(!("rings"in t)||t.rings.length===0||cN(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function I1e(t){return t.type!=="polygon"&&t.type!=="polyline"||tG(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function tG(t,e){const r=Od(e);if(!r)return;const i=r.valid[0],s=r.valid[1],n=s-i;for(const o of t){let a=1/0,l=-1/0;for(const f of o){const d=rG(f[0],i,s);a=Math.min(a,d),l=Math.max(l,d),f[0]=d}const c=l-a;n-c<c&&o.forEach(f=>{f[0]<0&&(f[0]+=n)})}}function rG(t,e,r){const i=r-e;return t<e?r-(e-t)%i:t>r?e+(t-e)%i:t}function C1e(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[r,i]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return r.length===i.length&&r.every((s,n)=>s.length===i[n].length)}function N1e(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function iG(t){return t?sG(t.rings,t.hasZ??!1):null}function sG(t,e){if(!t?.length)return null;const r=[],i=[],s=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,o=t.length;n<o;n++){const a=hN(t[n],e,s);a&&i.push(a)}if(i.sort((n,o)=>{let a=n[2]-o[2];return a===0&&e&&(a=n[4]-o[4]),a}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],e&&(r[2]=i[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||e&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){const n=t[0]&&t[0].length?nG(t[0],e):null;if(!n)return null;r[0]=n[0],r[1]=n[1],e&&n.length>2&&(r[2]=n[2])}return r}function hN(t,e,r){let i=0,s=0,n=0,o=0,a=0;const l=t.length?t[0][0]:0,c=t.length?t[0][1]:0,f=t.length&&e?t[0][2]:0;for(let p=0;p<t.length;p++){const y=t[p],v=t[(p+1)%t.length],[b,S,E]=y,T=b-l,w=S-c,[_,M,$]=v,C=_-l,P=M-c,N=T*P-C*w;if(o+=N,i+=(T+C)*N,s+=(w+P)*N,e&&y.length>2&&v.length>2){const F=E-f,q=$-f,U=T*q-C*F;n+=(F+q)*U,a+=U}b<r[0]&&(r[0]=b),b>r[1]&&(r[1]=b),S<r[2]&&(r[2]=S),S>r[3]&&(r[3]=S),e&&(E<r[4]&&(r[4]=E),E>r[5]&&(r[5]=E))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[i/(6*o)+l,s/(6*o)+c,o];return e&&(r[4]===r[5]||a===0?(d[3]=(r[4]+r[5])/2,d[4]=0):(d[3]=n/(6*a)+f,d[4]=a)),d}function P1e(t,e){let r=0,i=0,s=0;t.nextPoint();const n=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let a=0;a<t.pathSize;a++){t.seekInPath(a);const l=[t.x,t.y];t.seekInPath((a+1)%t.pathSize);const c=[t.x,t.y],[f,d]=l,p=f-n,y=d-o,[v,b]=c,S=v-n,E=b-o,T=p*E-S*y;s+=T,r+=(p+S)*T,i+=(y+E)*T,f<e[0]&&(e[0]=f),f>e[1]&&(e[1]=f),d<e[2]&&(e[2]=d),d>e[3]&&(e[3]=d)}return s>0&&(s*=-1),s?(s*=.5,[r/(6*s)+n,i/(6*s)+o,s]):null}function nG(t,e){const r=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;for(let l=0,c=t.length;l<c-1;l++){const f=t[l],d=t[l+1];if(f&&d){r[0]=f[0],r[1]=f[1],i[0]=d[0],i[1]=d[1],e&&f.length>2&&d.length>2&&(r[2]=f[2],i[2]=d[2]);const p=n1(r,i);if(p){s+=p;const y=lN(f,d);n+=p*y[0],o+=p*y[1],e&&y.length>2&&(a+=p*y[2])}}}return s>0?e?[n/s,o/s,a/s]:[n/s,o/s]:t.length?t[0]:null}function oG(t){const{hasZ:e,totalSize:r}=t;if(r===0)return null;const i=[],s=[],n=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const o=hN(ZV(t),t.hasZ,n);o&&s.push(o)}if(s.sort((o,a)=>{let l=o[2]-a[2];return l===0&&e&&(l=o[4]-a[4]),l}),s.length&&(i[0]=s[0][0],i[1]=s[0][1],e&&(i[2]=s[0][3]),(i[0]<n[0]||i[0]>n[1]||i[1]<n[2]||i[1]>n[3]||e&&(i[2]<n[4]||i[2]>n[5]))&&(i.length=0)),!i.length){t.reset(),t.nextPath();const o=t.pathSize?aG(t):null;if(!o)return null;i[0]=o[0],i[1]=o[1],e&&o.length>2&&(i[2]=o[2])}return i}function aG(t){const{hasZ:e}=t,r=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;if(t.nextPoint()){let l=t.x,c=t.y,f=t.z;for(;t.nextPoint();){const d=t.x,p=t.y,y=t.z;r[0]=l,r[1]=c,i[0]=d,i[1]=p,e&&(r[2]=f,i[2]=y);const v=n1(r,i);if(v){s+=v;const b=lN(r,i);n+=v*b[0],o+=v*b[1],e&&b.length>2&&(a+=v*b[2])}l=d,c=p,f=y}}return s>0?e?[n/s,o/s,a/s]:[n/s,o/s]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const lG=1e-6;function L1e(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<lG){const s=oG(t);return s?[s[0],s[1]]:null}const r=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const i=[t.x,t.y];for(t.reset();t.nextPath();)uG(r,i,t);return r[0]*=1/e,r[1]*=1/e,r[0]+=i[0],r[1]+=i[1],r}const cG=1/3;function uG(t,e,r){if(!t||!r||r.pathSize<3)return null;r.nextPoint();const i=r.x,s=r.y;r.nextPoint();let n,o=r.x-i,a=r.y-s,l=0,c=0;for(;r.nextPoint();)l=r.x-i,c=r.y-s,n=.5*cG*(l*a-c*o),t[0]+=n*(o+l),t[1]+=n*(a+c),o=l,a=c;const f=r.getCurrentRingArea(),d=[i,s];return d[0]-=e[0],d[1]-=e[1],d[0]*=f,d[1]*=f,t[0]+=d[0],t[1]+=d[1],t}function pf(t=fG){return[t[0],t[1],t[2],t[3]]}function fN(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function R1e(t,e,r,i,s=pf()){return s[0]=t,s[1]=e,s[2]=r,s[3]=i,s}function k1e(t,e=pf()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function D1e(t,e,r=new Et){return r.xmin=t[0],r.ymin=t[1],r.xmax=t[2],r.ymax=t[3],r.spatialReference=e,r}function F1e(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function U1e(t,e,r){if(e!=null)if("length"in e)$2(e)?(r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r[2]=Math.max(t[2],e[2]),r[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r[2]=Math.max(t[2],e[0]),r[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":r[0]=Math.min(t[0],e.xmin),r[1]=Math.min(t[1],e.ymin),r[2]=Math.max(t[2],e.xmax),r[3]=Math.max(t[3],e.ymax);break;case"point":r[0]=Math.min(t[0],e.x),r[1]=Math.min(t[1],e.y),r[2]=Math.max(t[2],e.x),r[3]=Math.max(t[3],e.y)}else fN(r,t)}function j1e(t,e,r=t){const i=e.length;let s=t[0],n=t[1],o=t[2],a=t[3];for(let l=0;l<i;l++){const c=e[l];s=Math.min(s,c[0]),n=Math.min(n,c[1]),o=Math.max(o,c[0]),a=Math.max(a,c[1])}return r[0]=s,r[1]=n,r[2]=o,r[3]=a,r}function B1e(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function dN(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function pN(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function V1e(t){return dN(t)*pN(t)}function G1e(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function z1e(t){const e=dN(t),r=pN(t);return Math.sqrt(e*e+r*r)}function q1e(t,e){return hG(t,e.x,e.y)}function hG(t,e,r){return e>=t[0]&&r>=t[1]&&e<=t[2]&&r<=t[3]}function H1e(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function W1e(t,e,r){return Math.max(e[0],t[0])-r<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-r<=Math.min(e[3],t[3])}function Y1e(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function J1e(t,e,r,i=t){return i[0]=t[0]+e,i[1]=t[1]+r,i[2]=t[2]+e,i[3]=t[3]+r,i}function K1e(t,e,r=t){return r[0]=t[0]-e,r[1]=t[1]-e,r[2]=t[2]+e,r[3]=t[3]+e,r}function Z1e(t){return t?fN(t,u4):pf(u4)}function $2(t){return t!=null&&t.length===4}function X1e(t,e){return $2(t)&&$2(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const u4=[1/0,1/0,-1/0,-1/0],fG=[0,0,0,0];function mN(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function yN(t){return t.points!==void 0}function gN(t){return t.x!==void 0&&t.y!==void 0}function vN(t){return t.paths!==void 0}function bN(t){return t.rings!==void 0}function _N(t){function e(r,i){return r==null?i:i==null?r:t(r,i)}return e}const hl=_N(Math.min),fl=_N(Math.max);function Q1e(t,e){return vN(e)?kh(t,e.paths,!1,!1):bN(e)?kh(t,e.rings,!1,!1):yN(e)?qE(t,e.points,!1,!1,!1,!1):mN(e)?wN(t,e):(gN(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function ebe(t){let e,r,i,s;for(t.reset(),e=i=1/0,r=s=-1/0;t.nextPath();){const n=dG(t);e=Math.min(n[0],e),i=Math.min(n[1],i),r=Math.max(n[2],r),s=Math.max(n[3],s)}return pf([e,i,r,s])}function dG(t){let e,r,i,s;for(e=i=1/0,r=s=-1/0;t.nextPoint();)e=Math.min(t.x,e),i=Math.min(t.y,i),r=Math.max(t.x,r),s=Math.max(t.y,s);return pf([e,i,r,s])}function tbe(t,e){return vN(e)?kh(t,e.paths,!0,!1):bN(e)?kh(t,e.rings,!0,!1):yN(e)?qE(t,e.points,!0,!1,!0,!1):mN(e)?wN(t,e,!0,!1,!0,!1):(gN(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function kh(t,e,r,i){const s=r?3:2;if(!e.length||!e[0].length)return null;let n,o,a,l,[c,f]=e[0][0],[d,p]=e[0][0];for(let y=0;y<e.length;y++){const v=e[y];for(let b=0;b<v.length;b++){const S=v[b],[E,T]=S;if(c=hl(c,E),f=hl(f,T),d=fl(d,E),p=fl(p,T),r&&S.length>2){const w=S[2];n=hl(n,w),o=fl(o,w)}if(i&&S.length>s){const w=S[s];a=hl(n,w),l=fl(o,w)}}}return r?i?(t[0]=c,t[1]=f,t[2]=n,t[3]=a,t[4]=d,t[5]=p,t[6]=o,t[7]=l,t.length=8,t):(t[0]=c,t[1]=f,t[2]=n,t[3]=d,t[4]=p,t[5]=o,t.length=6,t):i?(t[0]=c,t[1]=f,t[2]=a,t[3]=d,t[4]=p,t[5]=l,t.length=6,t):(t[0]=c,t[1]=f,t[2]=d,t[3]=p,t.length=4,t)}function wN(t,e,r,i,s,n){const o=e.xmin,a=e.xmax,l=e.ymin,c=e.ymax;let f=e.zmin,d=e.zmax,p=e.mmin,y=e.mmax;return s?(f=f||0,d=d||0,n?(p=p||0,y=y||0,t[0]=o,t[1]=l,t[2]=f,t[3]=p,t[4]=a,t[5]=c,t[6]=d,t[7]=y,t):(t[0]=o,t[1]=l,t[2]=f,t[3]=a,t[4]=c,t[5]=d,t)):n?(p=p||0,y=y||0,t[0]=o,t[1]=l,t[2]=p,t[3]=a,t[4]=c,t[5]=y,t):(t[0]=o,t[1]=l,t[2]=a,t[3]=c,t)}function qE(t,e,r,i,s,n){const o=r?3:2,a=i&&n,l=r&&s;if(!e.length||!e[0].length)return null;let c,f,d,p,[y,v]=e[0],[b,S]=e[0];for(let E=0;E<e.length;E++){const T=e[E],[w,_]=T;if(y=hl(y,w),v=hl(v,_),b=fl(b,w),S=fl(S,_),l&&T.length>2){const M=T[2];c=hl(c,M),f=fl(f,M)}if(a&&T.length>o){const M=T[o];d=hl(c,M),p=fl(f,M)}}return s?(c=c||0,f=f||0,n?(d=d||0,p=p||0,t[0]=y,t[1]=v,t[2]=c,t[3]=d,t[4]=b,t[5]=S,t[6]=f,t[7]=p,t):(t[0]=y,t[1]=v,t[2]=c,t[3]=b,t[4]=S,t[5]=f,t)):n?(d=d||0,p=p||0,t[0]=y,t[1]=v,t[2]=d,t[3]=b,t[4]=S,t[5]=p,t):(t[0]=y,t[1]=v,t[2]=b,t[3]=S,t)}function pG(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function mG(t){return t.points!==void 0}function yG(t){return t.x!==void 0&&t.y!==void 0}function gG(t){return t.paths!==void 0}function vG(t){return t.rings!==void 0}const HE=[];function xN(t,e,r,i){return{xmin:t,ymin:e,xmax:r,ymax:i}}function EN(t,e,r,i,s,n){return{xmin:t,ymin:e,zmin:r,xmax:i,ymax:s,zmax:n}}function SN(t,e,r,i,s,n){return{xmin:t,ymin:e,mmin:r,xmax:i,ymax:s,mmax:n}}function AN(t,e,r,i,s,n,o,a){return{xmin:t,ymin:e,zmin:r,mmin:i,xmax:s,ymax:n,zmax:o,mmax:a}}function WE(t,e=!1,r=!1){return e?r?AN(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):EN(t[0],t[1],t[2],t[3],t[4],t[5]):r?SN(t[0],t[1],t[2],t[3],t[4],t[5]):xN(t[0],t[1],t[2],t[3])}function rbe(t){return t?pG(t)?t:yG(t)?_G(t):vG(t)?TN(t):gG(t)?MN(t):mG(t)?bG(t):null:null}function bG(t){const{hasZ:e,hasM:r,points:i}=t;return WE(qE(HE,i,e??!1,r??!1),e,r)}function _G(t){const{x:e,y:r,z:i,m:s}=t,n=s!=null;return i!=null?n?AN(e,r,i,s,e,r,i,s):EN(e,r,i,e,r,i):n?SN(e,r,s,e,r,s):xN(e,r,e,r)}function TN(t){const{hasZ:e,hasM:r,rings:i}=t,s=kh(HE,i,e??!1,r??!1);return s?WE(s,e,r):null}function MN(t){const{hasZ:e,hasM:r,paths:i}=t,s=kh(HE,i,e??!1,r??!1);return s?WE(s,e,r):null}var i0;function h4(t){return!Array.isArray(t[0])}function wG(t){return typeof t[0]?.[0]=="number"}function xG(t){if(!t)return;let{rings:e,hasM:r,hasZ:i,spatialReference:s}=t;switch(e??=[],wG(e)&&(e=[e]),e[0]?.[0]?.length){case 4:i??=!0,r??=!0;break;case 3:i??=r!==!0,r??=!i;break;default:i??=!1,r??=!1}return s??=Xe.WGS84,{...t,hasM:r,hasZ:i,rings:e,spatialReference:s}}let si=i0=class extends Ai{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:r}=t;let i=!1,s=!1;for(const o of e)o.hasZ&&(i=!0),o.hasM&&(s=!0);const n={rings:e.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(s&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:r};return i&&(n.hasZ=!0),s&&(n.hasM=!0),new i0(n)}constructor(t){super(xG(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const t=iG(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new ut;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}writeCurveRings(t,e){e.curveRings=ge(t)}get extent(){const t=TN(this),{spatialReference:e}=this;return t?new Et({...t,spatialReference:e}):null}get isSelfIntersecting(){return bj(rr.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),WV(this.rings)}writeRings(t,e){e.rings=ge(this.rings)}addRing(t){if(!t)return;const e=this.rings,r=e.length;if(h4(t)){const i=[];for(let s=0,n=t.length;s<n;s++)i[s]=t[s].toArray();e[r]=i}else e[r]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new i0;return t.spatialReference=this.spatialReference,t.rings=ge(this.rings),t.curveRings=ge(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,r=t.spatialReference;if(e!=null!=(r!=null)||e!=null&&r!=null&&!e.equals(r)||this.rings.length!==t.rings.length)return!1;const i=([s,n,o,a],[l,c,f,d])=>s===l&&n===c&&(o==null&&f==null||o===f)&&(a==null&&d==null||a===d);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],o=t.rings[s];if(!jv(n,o,i))return!1}return!0}contains(t){if(!t)return!1;const e=eN(t,this.spatialReference);return DV(this,e??t)}isClockwise(t){const e=h4(t)?t.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):t;return cN(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.rings[t][e],i=this.hasZ,s=this.hasM;return i&&!s?new ut(r[0],r[1],r[2],void 0,this.spatialReference):s&&!i?new ut(r[0],r[1],void 0,r[2],this.spatialReference):i&&s?new ut(r[0],r[1],r[2],r[3],this.spatialReference):new ut(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(Rh(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t].splice(e,0,r),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new ut(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],r=this.spatialReference,i=e.map(s=>new ut(s,r));return this.notifyChange("rings"),i}setPoint(t,e,r){return this._validateInputs(t,e)?(Rh(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t][e]=r,this.notifyChange("rings"),this):this}_validateInputs(t,e,r=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const i=this.rings[t];if(r&&(e<0||e>i.length)||!r&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};g([A({readOnly:!0})],si.prototype,"cache",null),g([A({readOnly:!0})],si.prototype,"centroid",null),g([A({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],si.prototype,"curveRings",void 0),g([Kt("curveRings")],si.prototype,"writeCurveRings",null),g([A({readOnly:!0})],si.prototype,"extent",null),g([A({readOnly:!0})],si.prototype,"isSelfIntersecting",null),g([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],si.prototype,"rings",void 0),g([Kt("rings")],si.prototype,"writeRings",null),si=i0=g([ie("esri.geometry.Polygon")],si),si.prototype.toJSON.isDefaultToJSON=!0;var O2;function EG(t){return!Array.isArray(t[0])}function SG(t){return typeof t[0]?.[0]=="number"}function AG(t){if(!t)return;let{paths:e,hasM:r,hasZ:i,spatialReference:s}=t;switch(e??=[],SG(e)&&(e=[e]),e[0]?.[0]?.length){case 4:i??=!0,r??=!0;break;case 3:i??=r!==!0,r??=!i;break;default:i??=!1,r??=!1}return s??=Xe.WGS84,{...t,hasM:r,hasZ:i,paths:e,spatialReference:s}}let ls=O2=class extends Ai{constructor(t){super(AG(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=ge(t)}get extent(){const t=MN(this),{spatialReference:e}=this;return t?new Et({...t,spatialReference:e}):null}writePaths(t,e){e.paths=ge(this.paths)}addPath(t){if(!t)return;const e=this.paths,r=e.length;if(EG(t)){const i=[];for(let s=0,n=t.length;s<n;s++)i[s]=t[s].toArray();e[r]=i}else e[r]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new O2;return t.spatialReference=this.spatialReference,t.paths=ge(this.paths),t.curvePaths=ge(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.paths[t][e],i=this.hasZ,s=this.hasM;return i&&!s?new ut(r[0],r[1],r[2],void 0,this.spatialReference):s&&!i?new ut(r[0],r[1],void 0,r[2],this.spatialReference):i&&s?new ut(r[0],r[1],r[2],r[3],this.spatialReference):new ut(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(Rh(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t].splice(e,0,r),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],r=this.spatialReference,i=e.map(s=>new ut(s,r));return this.notifyChange("paths"),i}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new ut(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(t,e,r){return this._validateInputs(t,e)?(Rh(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t][e]=r,this.notifyChange("paths"),this):this}_validateInputs(t,e,r=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const i=this.paths[t];if(r&&(e<0||e>i.length)||!r&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};g([A({readOnly:!0})],ls.prototype,"cache",null),g([A({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],ls.prototype,"curvePaths",void 0),g([Kt("curvePaths")],ls.prototype,"writeCurvePaths",null),g([A({readOnly:!0})],ls.prototype,"extent",null),g([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],ls.prototype,"paths",void 0),g([Kt("paths")],ls.prototype,"writePaths",null),ls=O2=g([ie("esri.geometry.Polyline")],ls),ls.prototype.toJSON.isDefaultToJSON=!0;function $N(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function ON(t){return t.points!==void 0}function IN(t){return t.x!==void 0&&t.y!==void 0}function CN(t){return t.paths!==void 0||t.curvePaths!==void 0}function NN(t){return t.rings!==void 0||t.curveRings!==void 0}function YE(t){return t==null?null:t instanceof Ai?t:IN(t)?ut.fromJSON(t):CN(t)?ls.fromJSON(t):NN(t)?si.fromJSON(t):ON(t)?xn.fromJSON(t):$N(t)?Et.fromJSON(t):null}function ibe(t){return t?IN(t)?"esriGeometryPoint":CN(t)?"esriGeometryPolyline":NN(t)?"esriGeometryPolygon":$N(t)?"esriGeometryEnvelope":ON(t)?"esriGeometryMultipoint":null:null}const TG={esriGeometryPoint:ut,esriGeometryPolyline:ls,esriGeometryPolygon:si,esriGeometryEnvelope:Et,esriGeometryMultipoint:xn,esriGeometryMultiPatch:si};function sbe(t){return t&&TG[t]||null}const PN=t=>{let e=class extends t{clone(){const r=Sl(this);KF(r,"unable to clone instance of non-accessor class");const i=r.metadata,s=r.store,n={},o=new Map;for(const l in i){const c=i[l],f=s?.originOf(l),d=c.clonable;if(c.readOnly||d===!1||f!==ht.USER&&f!==ht.DEFAULTS&&f!==ht.WEB_MAP&&f!==ht.WEB_SCENE)continue;const p=this[l];let y=null;y=typeof d=="function"?d(p):d==="reference"?p:q_(p),p!=null&&y==null||(f===ht.DEFAULTS?o.set(l,y):n[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(n);if(o.size){const l=Sl(a)?.store;if(l)for(const[c,f]of o)l.set(c,f,ht.DEFAULTS)}return a}};return e=g([ie("esri.core.Clonable")],e),e};let Zf=class extends PN(oi){};Zf=g([ie("esri.core.Clonable")],Zf),function(t){t.ClonableMixin=PN}(Zf||(Zf={}));const ko=Zf;let s0=class LN{constructor(){this._emitter=new LN.EventEmitter(this)}emit(e,r){return this._emitter.emit(e,r)}on(e,r){return this._emitter.on(e,r)}once(e,r){return this._emitter.once(e,r)}hasEventListener(e){return this._emitter.hasEventListener(e)}};(function(t){class e{constructor(s=null){this._target=s,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,n){let o=this._listenersMap?.get(s);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const f="deref"in c?c.deref():c;f?f?.call(a,n):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(s,o)),o.length>0}on(s,n){if(Array.isArray(s)){const a=s.map(l=>this.on(l,n));return EE(a)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(s)||[];return o.push(n),this._listenersMap.set(s,o),Nr(()=>{const a=this._listenersMap?.get(s),l=a?.indexOf(n)??-1;l>=0&&a.splice(l,1)})}once(s,n){const o=this.on(s,a=>{o.remove(),("deref"in n?n.deref():n)?.call(null,a)});return o}hasEventListener(s){const n=this._listenersMap?.get(s);return n!=null&&n.length>0}}t.EventEmitter=e,t.EventedMixin=i=>{let s=class extends i{constructor(){super(...arguments),this._emitter=new e}destroy(){this._emitter.clear()}emit(n,o){return this._emitter.emit(n,o)}on(n,o){return this._emitter.on(n,o)}once(n,o){return this._emitter.once(n,o)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return s=g([ie("esri.core.Evented")],s),s};let r=class extends oi{constructor(){super(...arguments),this._emitter=new s0.EventEmitter(this)}destroy(){this._emitter.clear()}emit(i,s){return this._emitter.emit(i,s)}on(i,s){return this._emitter.on(i,s)}once(i,s){return this._emitter.once(i,s)}hasEventListener(i){return this._emitter.hasEventListener(i)}};r=g([ie("esri.core.Evented.EventedAccessor")],r),t.EventedAccessor=r})(s0||(s0={}));const MG=s0;var pt;(function(t){t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t[t.MOVE=4]="MOVE"})(pt||(pt={}));function $G(t){return(e,r)=>{e[r]=t}}let JE=class extends n5{notify(){const e=this._observers;if(e&&e.length>0){const r=e.slice();for(const i of r)i.onInvalidated(),i.onCommitted()}}};var Yo;let OG=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},IG=class{constructor(e,r,i,s,n){this.target=e,this.added=r,this.removed=i,this.start=s,this.deleteCount=n}};const Gs=new Hv(OG,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function f4(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function Lb(t){return t?t instanceof Ya?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function Rb(t){if(t?.length)return t[0]}function CG(t,e,r,i){const s=Math.min(t.length-r,e.length-i);let n=0;for(;n<s&&t[r+n]===e[i+n];)n++;return n}function RN(t,e,r,i){e&&e.forEach((s,n,o)=>{t.push(s),RN(t,r.call(i,s,n,o),r,i)})}const Na=new Set,Pa=new Set,La=new Set,kb=new Map;let NG=0,Ya=class extends MG.EventedAccessor{static{Yo=this}static{this.ofType=e=>{if(!e)return Yo;if(kb.has(e))return kb.get(e);let r=null;if(typeof e=="function")r=e.prototype.declaredClass;else if(e.base)r=e.base.prototype.declaredClass;else for(const s in e.typeMap){const n=e.typeMap[s].prototype.declaredClass;r?r+=` | ${n}`:r=n}let i=class extends Yo{};return g([$G({Type:e,ensureType:typeof e=="function"?jn(e):Mh(e)})],i.prototype,"itemType",void 0),i=g([ie(`esri.core.Collection<${r}>`)],i),kb.set(e,i),i}}static isCollection(e){return e!=null&&e instanceof Yo}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new JE,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:NG++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Yo?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Be(this._observable),this._items}set items(e){this._emitBeforeChanges(pt.ADD)||(this._splice(0,this.length,Lb(e)),this._emitAfterChanges(pt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,r){if(this.destroyed)return Nr();if(e==="change"){const i=this._chgListeners,s={removed:!1,callback:r};return i.push(s),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),Nr(()=>{s.removed=!0,i.splice(i.indexOf(s),1)})}return this._emitter.on(e,r)}once(e,r){const i="deref"in r?()=>r.deref():()=>r,s=this.on(e,n=>{i()?.call(null,n),s.remove()});return s}add(e,r){if(Be(this._observable),this._emitBeforeChanges(pt.ADD))return this;const i=this.getNextIndex(r??null);return this._splice(i,0,[e]),this._emitAfterChanges(pt.ADD),this}addMany(e,r=this._items.length){if(Be(this._observable),!e?.length)return this;if(this._emitBeforeChanges(pt.ADD))return this;const i=this.getNextIndex(r);return this._splice(i,0,Lb(e)),this._emitAfterChanges(pt.ADD),this}at(e){if(Be(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Be(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(pt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Be(this._observable),this._createNewInstance({items:this._items.map(ge)})}concat(...e){Be(this._observable);const r=e.map(Lb);return this._createNewInstance({items:this._items.concat(...r)})}drain(e,r){if(Be(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const i=this._splice(0,this.length),s=i.length;for(let n=0;n<s;n++)e.call(r,i[n],n,i);this._emitAfterChanges(pt.REMOVE)}destroyAll(){this.drain(f4)}destroyMany(e){const r=this.removeMany(e);return r.forEach(f4),r}every(e,r){return Be(this._observable),this._items.every(e,r)}filter(e,r){Be(this._observable);const i=arguments.length===2?this._items.filter(e,r):this._items.filter(e);return this._createNewInstance({items:i})}find(e,r){return Be(this._observable),this._items.find(e,r)}findIndex(e,r){return Be(this._observable),this._items.findIndex(e,r)}flatten(e,r){Be(this._observable);const i=[];return RN(i,this,e,r),new Yo(i)}forEach(e,r){return Be(this._observable),this._items.forEach(e,r)}getItemAt(e){return Be(this._observable),this._items[e]}getNextIndex(e){Be(this._observable);const r=this.length;return(e=e??r)<0?e=0:e>r&&(e=r),e}includes(e,r=0){return Be(this._observable),this._items.includes(e,r)}indexOf(e,r=0){return Be(this._observable),this._items.indexOf(e,r)}join(e=","){return Be(this._observable),this._items.join(e)}lastIndexOf(e,r=this.length-1){return Be(this._observable),this._items.lastIndexOf(e,r)}map(e,r){Be(this._observable);const i=this._items.map(e,r);return new Yo({items:i})}reorder(e,r=this.length-1){Be(this._observable);const i=this.indexOf(e);if(i!==-1){if(r<0?r=0:r>=this.length&&(r=this.length-1),i!==r){if(this._emitBeforeChanges(pt.MOVE))return e;this._splice(i,1),this._splice(r,0,[e]),this._emitAfterChanges(pt.MOVE)}return e}}pop(){if(Be(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const e=Rb(this._splice(this.length-1,1));return this._emitAfterChanges(pt.REMOVE),e}push(...e){return Be(this._observable),this._emitBeforeChanges(pt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(pt.ADD)),this.length}reduce(e,r){Be(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,r):i.reduce(e)}reduceRight(e,r){Be(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,r):i.reduceRight(e)}remove(e){return Be(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Be(this._observable),e<0||e>=this.length||this._emitBeforeChanges(pt.REMOVE))return;const r=Rb(this._splice(e,1));return this._emitAfterChanges(pt.REMOVE),r}removeMany(e){if(Be(this._observable),!e?.length||this._emitBeforeChanges(pt.REMOVE))return[];const r=e instanceof Yo?e.toArray():e,i=this._items,s=[],n=r.length;for(let o=0;o<n;o++){const a=r[o],l=i.indexOf(a);if(l>-1){const c=1+CG(r,i,o+1,l+1),f=this._splice(l,c);f&&f.length>0&&s.push.apply(s,f),o+=c-1}}return this._emitAfterChanges(pt.REMOVE),s}reverse(){if(Be(this._observable),this._emitBeforeChanges(pt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(pt.MOVE),this}shift(){if(Be(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const e=Rb(this._splice(0,1));return this._emitAfterChanges(pt.REMOVE),e}slice(e=0,r=this.length){return Be(this._observable),this._createNewInstance({items:this._items.slice(e,r)})}some(e,r){return Be(this._observable),this._items.some(e,r)}sort(e){if(Be(this._observable),!this.length||this._emitBeforeChanges(pt.MOVE)||!this._requiresSort(e))return this;const r=this._splice(0,this.length);return arguments.length?r.sort(e):r.sort(),this._splice(0,0,r),this._emitAfterChanges(pt.MOVE),this}_requiresSort(e=(r,i)=>r===i?0:r<i?-1:1){const r=this.length-1;for(let i=0;i<r;i++)if(e(this.items[i],this.items[i+1])>0)return!0;return!1}splice(e,r,...i){Be(this._observable),arguments.length===1&&(r=this.length),r??=0;const s=(r?pt.REMOVE:0)|(i.length?pt.ADD:0);if(this._emitBeforeChanges(s))return[];const n=this._splice(e,r,i)||[];return this._emitAfterChanges(s),n}toArray(){return Be(this._observable),this._items.slice()}toJSON(e){return Be(this._observable),this.toArray().map(r=>tg(r)?r.toJSON(e):r)}toLocaleString(){return Be(this._observable),this._items.toLocaleString()}toString(){return Be(this._observable),this._items.toString()}unshift(...e){return Be(this._observable),!e.length||this._emitBeforeChanges(pt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(pt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,r,i){const s=this._items,n=this.itemType;let o,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=$C(()=>this._dispatchChange())),e<0&&(e+=this.length),r){if(a=s.splice(e,r),this.hasEventListener("before-remove")){const l=Gs.acquire();l.target=this,l.cancellable=!0;for(let c=0,f=a.length;c<f;c++)o=a[c],l.reset(o),this.emit("before-remove",l),l.defaultPrevented&&(a.splice(c,1),s.splice(e,0,o),e+=1,c-=1,f-=1);Gs.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=Gs.acquire();l.target=this,l.cancellable=!1;const c=a.length;for(let f=0;f<c;f++)l.reset(a[f]),this.emit("after-remove",l);Gs.release(l)}}if(i?.length){if(n){const d=[];for(const p of i){const y=n.ensureType(p);y==null&&p!=null||d.push(y)}i=d}const l=this.hasEventListener("before-add"),c=this.hasEventListener("after-add"),f=e===this.length;if(l||c){const d=Gs.acquire();d.target=this,d.cancellable=!0;const p=Gs.acquire();p.target=this,p.cancellable=!1;for(const y of i)l?(d.reset(y),this.emit("before-add",d),d.defaultPrevented||(f?s.push(y):s.splice(e++,0,y),this._set("length",s.length),c&&(p.reset(y),this.emit("after-add",p)))):(f?s.push(y):s.splice(e++,0,y),this._set("length",s.length),p.reset(y),this.emit("after-add",p));Gs.release(p),Gs.release(d)}else{if(f)for(const d of i)s.push(d);else s.splice(e,0,...i);this._set("length",s.length)}}if((i?.length||a?.length)&&this._notifyChangeEvent(i,a),this.hasEventListener("after-splice")){const l=new IG(this,i,a,e,r);this.emit("after-splice",l)}return a}_emitBeforeChanges(e){let r=!1;if(this.hasEventListener("before-changes")){const i=Gs.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),r=i.defaultPrevented,Gs.release(i)}return r}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const r=Gs.acquire();r.target=this,r.cancellable=!1,r.type=e,this.emit("after-changes",r),Gs.release(r)}this._observable.notify()}_notifyChangeEvent(e,r){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:r})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const r of e){const i=r.changes;Na.clear(),Pa.clear(),La.clear();for(const{added:c,removed:f}of i){if(c)if(La.size===0&&Pa.size===0)for(const d of c)Na.add(d);else for(const d of c)Pa.has(d)?(La.add(d),Pa.delete(d)):La.has(d)||Na.add(d);if(f)if(La.size===0&&Na.size===0)for(const d of f)Pa.add(d);else for(const d of f)Na.has(d)?Na.delete(d):(La.delete(d),Pa.add(d))}const s=Wa.acquire();Na.forEach(c=>{s.push(c)});const n=Wa.acquire();Pa.forEach(c=>{n.push(c)});const o=this._items,a=r.items,l=Wa.acquire();if(La.forEach(c=>{a.indexOf(c)!==o.indexOf(c)&&l.push(c)}),r.listeners&&(s.length||n.length||l.length)){const c={target:this,added:s,removed:n,moved:l},f=r.listeners.length;for(let d=0;d<f;d++){const p=r.listeners[d];p.removed||p.callback.call(this,c)}}Wa.release(s),Wa.release(n),Wa.release(l)}Na.clear(),Pa.clear(),La.clear()}};g([A()],Ya.prototype,"_updating",void 0),g([A()],Ya.prototype,"length",void 0),g([A()],Ya.prototype,"items",null),g([A({readOnly:!0})],Ya.prototype,"updating",null),Ya=Yo=g([ie("esri.core.Collection")],Ya);const Mt=Ya;let Db;async function PG(){return Db==null&&(Db=ve(()=>import("./WhereClauseCache-BXQ3uKjl.js"),__vite__mapDeps([12,13,14,15,16,17,18,1]),import.meta.url).then(t=>new t.WhereClauseCache(500,500))),Db}async function LG(t,e){const r=await PG(),i=r.get(t,e);if(i==null)throw r.getError(t,e);return i}function ube(t,e){return t||=null,e||=null,t==="1=1"?e??t:e==="1=1"?t??e:t&&e?`(${t}) AND (${e})`:t??e}function hbe(t,e){return t||=null,e||=null,t==="1=1"||e==="1=1"||t===e?t==="1=1"?t:e:t&&e?`(${t}) OR (${e})`:t??e}function fbe(t,e){return e.length===0?null:`${t} IN (${RG(e)})`}function RG(t){return t.map(e=>typeof e=="string"?kG(e):e).join(",")}function kG(t){return`'${t.replaceAll("'","''")}'`}function dbe(t){return typeof t=="number"}function pbe(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function mbe(t){return typeof t=="boolean"}function gm(t){return typeof t=="string"||t instanceof String}function DG(t){return t==null||gm(t)}function ybe(t){return Array.isArray(t)}function gbe(t){return t?.declaredClass==="esri.Graphic"}function vbe(t){return t instanceof Date}class cu extends Error{}class FG extends cu{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class UG extends cu{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class jG extends cu{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Wu extends cu{}class kN extends cu{constructor(e){super(`Invalid unit ${e}`)}}class Mi extends cu{}class Ra extends cu{constructor(){super("Zone is an abstract class")}}const be="numeric",Gn="short",Rs="long",dg={year:be,month:be,day:be},DN={year:be,month:Gn,day:be},BG={year:be,month:Gn,day:be,weekday:Gn},FN={year:be,month:Rs,day:be},UN={year:be,month:Rs,day:be,weekday:Rs},jN={hour:be,minute:be},BN={hour:be,minute:be,second:be},VN={hour:be,minute:be,second:be,timeZoneName:Gn},GN={hour:be,minute:be,second:be,timeZoneName:Rs},zN={hour:be,minute:be,hourCycle:"h23"},qN={hour:be,minute:be,second:be,hourCycle:"h23"},HN={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Gn},WN={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Rs},YN={year:be,month:be,day:be,hour:be,minute:be},JN={year:be,month:be,day:be,hour:be,minute:be,second:be},KN={year:be,month:Gn,day:be,hour:be,minute:be},ZN={year:be,month:Gn,day:be,hour:be,minute:be,second:be},VG={year:be,month:Gn,day:be,weekday:Gn,hour:be,minute:be},XN={year:be,month:Rs,day:be,hour:be,minute:be,timeZoneName:Gn},QN={year:be,month:Rs,day:be,hour:be,minute:be,second:be,timeZoneName:Gn},e6={year:be,month:Rs,day:be,weekday:Rs,hour:be,minute:be,timeZoneName:Rs},t6={year:be,month:Rs,day:be,weekday:Rs,hour:be,minute:be,second:be,timeZoneName:Rs};class vm{get type(){throw new Ra}get name(){throw new Ra}get ianaName(){return this.name}get isUniversal(){throw new Ra}offsetName(e,r){throw new Ra}formatOffset(e,r){throw new Ra}offset(e){throw new Ra}equals(e){throw new Ra}get isValid(){throw new Ra}}let Fb=null;class o1 extends vm{static get instance(){return Fb===null&&(Fb=new o1),Fb}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:i}){return f6(e,r,i)}formatOffset(e,r){return Id(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const I2=new Map;function GG(t){let e=I2.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),I2.set(t,e)),e}const zG={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function qG(t,e){const r=t.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,n,o,a,l,c,f]=i;return[o,s,n,a,l,c,f]}function HG(t,e){const r=t.formatToParts(e),i=[];for(let s=0;s<r.length;s++){const{type:n,value:o}=r[s],a=zG[n];n==="era"?i[a]=o:Ve(a)||(i[a]=parseInt(o,10))}return i}const Ub=new Map;class ba extends vm{static create(e){let r=Ub.get(e);return r===void 0&&Ub.set(e,r=new ba(e)),r}static resetCache(){Ub.clear(),I2.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ba.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:i}){return f6(e,r,i,this.name)}formatOffset(e,r){return Id(this.offset(e),r)}offset(e){if(!this.valid)return NaN;const r=new Date(e);if(isNaN(r))return NaN;const i=GG(this.name);let[s,n,o,a,l,c,f]=i.formatToParts?HG(i,r):qG(i,r);a==="BC"&&(s=-Math.abs(s)+1);const p=l1({year:s,month:n,day:o,hour:l===24?0:l,minute:c,second:f,millisecond:0});let y=+r;const v=y%1e3;return y-=v>=0?v:1e3+v,(p-y)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let d4={};function WG(t,e={}){const r=JSON.stringify([t,e]);let i=d4[r];return i||(i=new Intl.ListFormat(t,e),d4[r]=i),i}const C2=new Map;function N2(t,e={}){const r=JSON.stringify([t,e]);let i=C2.get(r);return i===void 0&&(i=new Intl.DateTimeFormat(t,e),C2.set(r,i)),i}const P2=new Map;function YG(t,e={}){const r=JSON.stringify([t,e]);let i=P2.get(r);return i===void 0&&(i=new Intl.NumberFormat(t,e),P2.set(r,i)),i}const L2=new Map;function JG(t,e={}){const{base:r,...i}=e,s=JSON.stringify([t,i]);let n=L2.get(s);return n===void 0&&(n=new Intl.RelativeTimeFormat(t,e),L2.set(s,n)),n}let Xf=null;function KG(){return Xf||(Xf=new Intl.DateTimeFormat().resolvedOptions().locale,Xf)}const R2=new Map;function r6(t){let e=R2.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),R2.set(t,e)),e}const k2=new Map;function ZG(t){let e=k2.get(t);if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in e||(e={...i6,...e}),k2.set(t,e)}return e}function XG(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let i,s;try{i=N2(t).resolvedOptions(),s=t}catch{const l=t.substring(0,r);i=N2(l).resolvedOptions(),s=l}const{numberingSystem:n,calendar:o}=i;return[s,n,o]}}function QG(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function ez(t){const e=[];for(let r=1;r<=12;r++){const i=De.utc(2009,r,1);e.push(t(i))}return e}function tz(t){const e=[];for(let r=1;r<=7;r++){const i=De.utc(2016,11,13+r);e.push(t(i))}return e}function oy(t,e,r,i){const s=t.listingMode();return s==="error"?null:s==="en"?r(e):i(e)}function rz(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||r6(t.locale).numberingSystem==="latn"}class iz{constructor(e,r,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:s,floor:n,...o}=i;if(!r||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=YG(e,a)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):eS(e,3);return kr(r,this.padTo)}}}class sz{constructor(e,r,i){this.opts=i,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&ba.create(a).valid?(s=a,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=N2(r,n)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:i}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class nz{constructor(e,r,i){this.opts={style:"long",...i},!r&&u6()&&(this.rtf=JG(e,i))}format(e,r){return this.rtf?this.rtf.format(e,r):Mz(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const i6={firstDay:1,minimalDays:4,weekend:[6,7]};class Tt{static fromOpts(e){return Tt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,i,s,n=!1){const o=e||yr.defaultLocale,a=o||(n?"en-US":KG()),l=r||yr.defaultNumberingSystem,c=i||yr.defaultOutputCalendar,f=F2(s)||yr.defaultWeekSettings;return new Tt(a,l,c,f,o)}static resetCache(){Xf=null,C2.clear(),P2.clear(),L2.clear(),R2.clear(),k2.clear()}static fromObject({locale:e,numberingSystem:r,outputCalendar:i,weekSettings:s}={}){return Tt.create(e,r,i,s)}constructor(e,r,i,s,n){const[o,a,l]=XG(e);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=i||l||null,this.weekSettings=s,this.intl=QG(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=rz(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Tt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,F2(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return oy(this,e,m6,()=>{const i=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=ez(n=>this.extract(n,i,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1){return oy(this,e,v6,()=>{const i=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=tz(n=>this.extract(n,i,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return oy(this,void 0,()=>b6,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[De.utc(2016,11,13,9),De.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return oy(this,e,_6,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[De.utc(-40,1,1),De.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[e]})}extract(e,r,i){const s=this.dtFormatter(e,r),n=s.formatToParts(),o=n.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(e={}){return new iz(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new sz(e,this.intl,r)}relFormatter(e={}){return new nz(this.intl,this.isEnglish(),e)}listFormatter(e={}){return WG(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||r6(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:h6()?ZG(this.locale):i6}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let jb=null;class Yi extends vm{static get utcInstance(){return jb===null&&(jb=new Yi(0)),jb}static instance(e){return e===0?Yi.utcInstance:new Yi(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Yi(c1(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Id(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Id(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Id(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class oz extends vm{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function nl(t,e){if(Ve(t)||t===null)return e;if(t instanceof vm)return t;if(fz(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?o1.instance:r==="utc"||r==="gmt"?Yi.utcInstance:Yi.parseSpecifier(r)||ba.create(t)}else return yl(t)?Yi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new oz(t)}const KE={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},p4={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},az=KE.hanidec.replace(/[\[|\]]/g,"").split("");function lz(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(t[r].search(KE.hanidec)!==-1)e+=az.indexOf(t[r]);else for(const s in p4){const[n,o]=p4[s];i>=n&&i<=o&&(e+=i-n)}}return parseInt(e,10)}else return e}const D2=new Map;function cz(){D2.clear()}function mn({numberingSystem:t},e=""){const r=t||"latn";let i=D2.get(r);i===void 0&&(i=new Map,D2.set(r,i));let s=i.get(e);return s===void 0&&(s=new RegExp(`${KE[r]}${e}`),i.set(e,s)),s}let m4=()=>Date.now(),y4="system",g4=null,v4=null,b4=null,_4=60,w4,x4=null;class yr{static get now(){return m4}static set now(e){m4=e}static set defaultZone(e){y4=e}static get defaultZone(){return nl(y4,o1.instance)}static get defaultLocale(){return g4}static set defaultLocale(e){g4=e}static get defaultNumberingSystem(){return v4}static set defaultNumberingSystem(e){v4=e}static get defaultOutputCalendar(){return b4}static set defaultOutputCalendar(e){b4=e}static get defaultWeekSettings(){return x4}static set defaultWeekSettings(e){x4=F2(e)}static get twoDigitCutoffYear(){return _4}static set twoDigitCutoffYear(e){_4=e%100}static get throwOnInvalid(){return w4}static set throwOnInvalid(e){w4=e}static resetCaches(){Tt.resetCache(),ba.resetCache(),De.resetCache(),cz()}}class Mn{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const s6=[0,31,59,90,120,151,181,212,243,273,304,334],n6=[0,31,60,91,121,152,182,213,244,274,305,335];function tn(t,e){return new Mn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function ZE(t,e,r){const i=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const s=i.getUTCDay();return s===0?7:s}function o6(t,e,r){return r+(bm(t)?n6:s6)[e-1]}function a6(t,e){const r=bm(t)?n6:s6,i=r.findIndex(n=>n<e),s=e-r[i];return{month:i+1,day:s}}function XE(t,e){return(t-e+7)%7+1}function pg(t,e=4,r=1){const{year:i,month:s,day:n}=t,o=o6(i,s,n),a=XE(ZE(i,s,n),r);let l=Math.floor((o-a+14-e)/7),c;return l<1?(c=i-1,l=Ep(c,e,r)):l>Ep(i,e,r)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...u1(t)}}function E4(t,e=4,r=1){const{weekYear:i,weekNumber:s,weekday:n}=t,o=XE(ZE(i,1,e),r),a=mh(i);let l=s*7+n-o-7+e,c;l<1?(c=i-1,l+=mh(c)):l>a?(c=i+1,l-=mh(i)):c=i;const{month:f,day:d}=a6(c,l);return{year:c,month:f,day:d,...u1(t)}}function Bb(t){const{year:e,month:r,day:i}=t,s=o6(e,r,i);return{year:e,ordinal:s,...u1(t)}}function S4(t){const{year:e,ordinal:r}=t,{month:i,day:s}=a6(e,r);return{year:e,month:i,day:s,...u1(t)}}function A4(t,e){if(!Ve(t.localWeekday)||!Ve(t.localWeekNumber)||!Ve(t.localWeekYear)){if(!Ve(t.weekday)||!Ve(t.weekNumber)||!Ve(t.weekYear))throw new Wu("Cannot mix locale-based week fields with ISO-based week fields");return Ve(t.localWeekday)||(t.weekday=t.localWeekday),Ve(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Ve(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function uz(t,e=4,r=1){const i=a1(t.weekYear),s=rn(t.weekNumber,1,Ep(t.weekYear,e,r)),n=rn(t.weekday,1,7);return i?s?n?!1:tn("weekday",t.weekday):tn("week",t.weekNumber):tn("weekYear",t.weekYear)}function hz(t){const e=a1(t.year),r=rn(t.ordinal,1,mh(t.year));return e?r?!1:tn("ordinal",t.ordinal):tn("year",t.year)}function l6(t){const e=a1(t.year),r=rn(t.month,1,12),i=rn(t.day,1,mg(t.year,t.month));return e?r?i?!1:tn("day",t.day):tn("month",t.month):tn("year",t.year)}function c6(t){const{hour:e,minute:r,second:i,millisecond:s}=t,n=rn(e,0,23)||e===24&&r===0&&i===0&&s===0,o=rn(r,0,59),a=rn(i,0,59),l=rn(s,0,999);return n?o?a?l?!1:tn("millisecond",s):tn("second",i):tn("minute",r):tn("hour",e)}function Ve(t){return typeof t>"u"}function yl(t){return typeof t=="number"}function a1(t){return typeof t=="number"&&t%1===0}function fz(t){return typeof t=="string"}function dz(t){return Object.prototype.toString.call(t)==="[object Date]"}function u6(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function h6(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function pz(t){return Array.isArray(t)?t:[t]}function T4(t,e,r){if(t.length!==0)return t.reduce((i,s)=>{const n=[e(s),s];return i&&r(i[0],n[0])===i[0]?i:n},null)[1]}function mz(t,e){return e.reduce((r,i)=>(r[i]=t[i],r),{})}function Dh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function F2(t){if(t==null)return null;if(typeof t!="object")throw new Mi("Week settings must be an object");if(!rn(t.firstDay,1,7)||!rn(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!rn(e,1,7)))throw new Mi("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function rn(t,e,r){return a1(t)&&t>=e&&t<=r}function yz(t,e){return t-e*Math.floor(t/e)}function kr(t,e=2){const r=t<0;let i;return r?i="-"+(""+-t).padStart(e,"0"):i=(""+t).padStart(e,"0"),i}function Ja(t){if(!(Ve(t)||t===null||t===""))return parseInt(t,10)}function Xl(t){if(!(Ve(t)||t===null||t===""))return parseFloat(t)}function QE(t){if(!(Ve(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function eS(t,e,r=!1){const i=10**e;return(r?Math.trunc:Math.round)(t*i)/i}function bm(t){return t%4===0&&(t%100!==0||t%400===0)}function mh(t){return bm(t)?366:365}function mg(t,e){const r=yz(e-1,12)+1,i=t+(e-r)/12;return r===2?bm(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function l1(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function M4(t,e,r){return-XE(ZE(t,1,e),r)+e-1}function Ep(t,e=4,r=1){const i=M4(t,e,r),s=M4(t+1,e,r);return(mh(t)-i+s)/7}function U2(t){return t>99?t:t>yr.twoDigitCutoffYear?1900+t:2e3+t}function f6(t,e,r,i=null){const s=new Date(t),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(n.timeZone=i);const o={timeZoneName:e,...n},a=new Intl.DateTimeFormat(r,o).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function c1(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const i=parseInt(e,10)||0,s=r<0||Object.is(r,-0)?-i:i;return r*60+s}function d6(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Mi(`Invalid unit value ${t}`);return e}function yg(t,e){const r={};for(const i in t)if(Dh(t,i)){const s=t[i];if(s==null)continue;r[e(i)]=d6(s)}return r}function Id(t,e){const r=Math.trunc(Math.abs(t/60)),i=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${kr(r,2)}:${kr(i,2)}`;case"narrow":return`${s}${r}${i>0?`:${i}`:""}`;case"techie":return`${s}${kr(r,2)}${kr(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function u1(t){return mz(t,["hour","minute","second","millisecond"])}const gz=["January","February","March","April","May","June","July","August","September","October","November","December"],p6=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],vz=["J","F","M","A","M","J","J","A","S","O","N","D"];function m6(t){switch(t){case"narrow":return[...vz];case"short":return[...p6];case"long":return[...gz];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const y6=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],g6=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],bz=["M","T","W","T","F","S","S"];function v6(t){switch(t){case"narrow":return[...bz];case"short":return[...g6];case"long":return[...y6];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const b6=["AM","PM"],_z=["Before Christ","Anno Domini"],wz=["BC","AD"],xz=["B","A"];function _6(t){switch(t){case"narrow":return[...xz];case"short":return[...wz];case"long":return[..._z];default:return null}}function Ez(t){return b6[t.hour<12?0:1]}function Sz(t,e){return v6(e)[t.weekday-1]}function Az(t,e){return m6(e)[t.month-1]}function Tz(t,e){return _6(e)[t.year<0?0:1]}function Mz(t,e,r="always",i=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&n){const d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${s[t][0]}`;case-1:return d?"yesterday":`last ${s[t][0]}`;case 0:return d?"today":`this ${s[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=s[t],f=i?l?c[1]:c[2]||c[1]:l?s[t][0]:t;return o?`${a} ${f} ago`:`in ${a} ${f}`}function $4(t,e){let r="";for(const i of t)i.literal?r+=i.val:r+=e(i.val);return r}const $z={D:dg,DD:DN,DDD:FN,DDDD:UN,t:jN,tt:BN,ttt:VN,tttt:GN,T:zN,TT:qN,TTT:HN,TTTT:WN,f:YN,ff:KN,fff:XN,ffff:e6,F:JN,FF:ZN,FFF:QN,FFFF:t6};class Pi{static create(e,r={}){return new Pi(e,r)}static parseFormat(e){let r=null,i="",s=!1;const n=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(i.length>0&&n.push({literal:s||/^\s+$/.test(i),val:i}),r=null,i="",s=!s):s||a===r?i+=a:(i.length>0&&n.push({literal:/^\s+$/.test(i),val:i}),i=a,r=a)}return i.length>0&&n.push({literal:s||/^\s+$/.test(i),val:i}),n}static macroTokenToFormatOpts(e){return $z[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return kr(e,r);const i={...this.opts};return r>0&&(i.padTo=r),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,r){const i=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(y,v)=>this.loc.extract(e,y,v),o=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",a=()=>i?Ez(e):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,v)=>i?Az(e,y):n(v?{month:y}:{month:y,day:"numeric"},"month"),c=(y,v)=>i?Sz(e,y):n(v?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),f=y=>{const v=Pi.macroTokenToFormatOpts(y);return v?this.formatWithSystemDefault(e,v):y},d=y=>i?Tz(e,y):n({era:y},"era"),p=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return s?n({day:"numeric"},"day"):this.num(e.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(e.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(e.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(y)}};return $4(Pi.parseFormat(r),p)}formatDurationFromString(e,r){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>c=>{const f=i(c);return f?this.num(l.get(f),c.length):c},n=Pi.parseFormat(r),o=n.reduce((l,{literal:c,val:f})=>c?l:l.concat(f),[]),a=e.shiftTo(...o.map(i).filter(l=>l));return $4(n,s(a))}}const w6=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function mf(...t){const e=t.reduce((r,i)=>r+i.source,"");return RegExp(`^${e}$`)}function yf(...t){return e=>t.reduce(([r,i,s],n)=>{const[o,a,l]=n(e,s);return[{...r,...o},a||i,l]},[{},null,1]).slice(0,2)}function gf(t,...e){if(t==null)return[null,null];for(const[r,i]of e){const s=r.exec(t);if(s)return i(s)}return[null,null]}function x6(...t){return(e,r)=>{const i={};let s;for(s=0;s<t.length;s++)i[t[s]]=Ja(e[r+s]);return[i,null,r+s]}}const E6=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Oz=`(?:${E6.source}?(?:\\[(${w6.source})\\])?)?`,tS=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,S6=RegExp(`${tS.source}${Oz}`),rS=RegExp(`(?:T${S6.source})?`),Iz=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Cz=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Nz=/(\d{4})-?(\d{3})/,Pz=x6("weekYear","weekNumber","weekDay"),Lz=x6("year","ordinal"),Rz=/(\d{4})-(\d\d)-(\d\d)/,A6=RegExp(`${tS.source} ?(?:${E6.source}|(${w6.source}))?`),kz=RegExp(`(?: ${A6.source})?`);function yh(t,e,r){const i=t[e];return Ve(i)?r:Ja(i)}function Dz(t,e){return[{year:yh(t,e),month:yh(t,e+1,1),day:yh(t,e+2,1)},null,e+3]}function vf(t,e){return[{hours:yh(t,e,0),minutes:yh(t,e+1,0),seconds:yh(t,e+2,0),milliseconds:QE(t[e+3])},null,e+4]}function _m(t,e){const r=!t[e]&&!t[e+1],i=c1(t[e+1],t[e+2]),s=r?null:Yi.instance(i);return[{},s,e+3]}function wm(t,e){const r=t[e]?ba.create(t[e]):null;return[{},r,e+1]}const Fz=RegExp(`^T?${tS.source}$`),Uz=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function jz(t){const[e,r,i,s,n,o,a,l,c]=t,f=e[0]==="-",d=l&&l[0]==="-",p=(y,v=!1)=>y!==void 0&&(v||y&&f)?-y:y;return[{years:p(Xl(r)),months:p(Xl(i)),weeks:p(Xl(s)),days:p(Xl(n)),hours:p(Xl(o)),minutes:p(Xl(a)),seconds:p(Xl(l),l==="-0"),milliseconds:p(QE(c),d)}]}const Bz={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function iS(t,e,r,i,s,n,o){const a={year:e.length===2?U2(Ja(e)):Ja(e),month:p6.indexOf(r)+1,day:Ja(i),hour:Ja(s),minute:Ja(n)};return o&&(a.second=Ja(o)),t&&(a.weekday=t.length>3?y6.indexOf(t)+1:g6.indexOf(t)+1),a}const Vz=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Gz(t){const[,e,r,i,s,n,o,a,l,c,f,d]=t,p=iS(e,s,i,r,n,o,a);let y;return l?y=Bz[l]:c?y=0:y=c1(f,d),[p,new Yi(y)]}function zz(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const qz=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Hz=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Wz=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function O4(t){const[,e,r,i,s,n,o,a]=t;return[iS(e,s,i,r,n,o,a),Yi.utcInstance]}function Yz(t){const[,e,r,i,s,n,o,a]=t;return[iS(e,a,r,i,s,n,o),Yi.utcInstance]}const Jz=mf(Iz,rS),Kz=mf(Cz,rS),Zz=mf(Nz,rS),Xz=mf(S6),T6=yf(Dz,vf,_m,wm),Qz=yf(Pz,vf,_m,wm),eq=yf(Lz,vf,_m,wm),tq=yf(vf,_m,wm);function rq(t){return gf(t,[Jz,T6],[Kz,Qz],[Zz,eq],[Xz,tq])}function iq(t){return gf(zz(t),[Vz,Gz])}function sq(t){return gf(t,[qz,O4],[Hz,O4],[Wz,Yz])}function nq(t){return gf(t,[Uz,jz])}const oq=yf(vf);function aq(t){return gf(t,[Fz,oq])}const lq=mf(Rz,kz),cq=mf(A6),uq=yf(vf,_m,wm);function hq(t){return gf(t,[lq,T6],[cq,uq])}const I4="Invalid Duration",M6={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},fq={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...M6},zs=146097/400,Su=146097/4800,dq={years:{quarters:4,months:12,weeks:zs/7,days:zs,hours:zs*24,minutes:zs*24*60,seconds:zs*24*60*60,milliseconds:zs*24*60*60*1e3},quarters:{months:3,weeks:zs/28,days:zs/4,hours:zs*24/4,minutes:zs*24*60/4,seconds:zs*24*60*60/4,milliseconds:zs*24*60*60*1e3/4},months:{weeks:Su/7,days:Su,hours:Su*24,minutes:Su*24*60,seconds:Su*24*60*60,milliseconds:Su*24*60*60*1e3},...M6},Sc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],pq=Sc.slice(0).reverse();function ka(t,e,r=!1){const i={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new ft(i)}function $6(t,e){let r=e.milliseconds??0;for(const i of pq.slice(1))e[i]&&(r+=e[i]*t[i].milliseconds);return r}function C4(t,e){const r=$6(t,e)<0?-1:1;Sc.reduceRight((i,s)=>{if(Ve(e[s]))return i;if(i){const n=e[i]*r,o=t[s][i],a=Math.floor(n/o);e[s]+=a*r,e[i]-=a*o*r}return s},null),Sc.reduce((i,s)=>{if(Ve(e[s]))return i;if(i){const n=e[i]%1;e[i]-=n,e[s]+=n*t[i][s]}return s},null)}function mq(t){const e={};for(const[r,i]of Object.entries(t))i!==0&&(e[r]=i);return e}class ft{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let i=r?dq:fq;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||Tt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,r){return ft.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Mi(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new ft({values:yg(e,ft.normalizeUnit),loc:Tt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(yl(e))return ft.fromMillis(e);if(ft.isDuration(e))return e;if(typeof e=="object")return ft.fromObject(e);throw new Mi(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[i]=nq(e);return i?ft.fromObject(i,r):ft.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[i]=aq(e);return i?ft.fromObject(i,r):ft.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Mi("need to specify a reason the Duration is invalid");const i=e instanceof Mn?e:new Mn(e,r);if(yr.throwOnInvalid)throw new jG(i);return new ft({invalid:i})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new kN(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const i={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Pi.create(this.loc,i).formatDurationFromString(this,e):I4}toHuman(e={}){if(!this.isValid)return I4;const r=Sc.map(i=>{const s=this.values[i];return Ve(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(s)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=eS(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},De.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?$6(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=ft.fromDurationLike(e),i={};for(const s of Sc)(Dh(r.values,s)||Dh(this.values,s))&&(i[s]=r.get(s)+this.get(s));return ka(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const r=ft.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const i of Object.keys(this.values))r[i]=d6(e(this.values[i],i));return ka(this,{values:r},!0)}get(e){return this[ft.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...yg(e,ft.normalizeUnit)};return ka(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:i,matrix:s}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:s,conversionAccuracy:i};return ka(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return C4(this.matrix,e),ka(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=mq(this.normalize().shiftToAll().toObject());return ka(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>ft.normalizeUnit(o));const r={},i={},s=this.toObject();let n;for(const o of Sc)if(e.indexOf(o)>=0){n=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;yl(s[o])&&(a+=s[o]);const l=Math.trunc(a);r[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else yl(s[o])&&(i[o]=s[o]);for(const o in i)i[o]!==0&&(r[n]+=o===n?i[o]:i[o]/this.matrix[n][o]);return C4(this.matrix,r),ka(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return ka(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(i,s){return i===void 0||i===0?s===void 0||s===0:i===s}for(const i of Sc)if(!r(this.values[i],e.values[i]))return!1;return!0}}const Au="Invalid Interval";function yq(t,e){return!t||!t.isValid?pr.invalid("missing or invalid start"):!e||!e.isValid?pr.invalid("missing or invalid end"):e<t?pr.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class pr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Mi("need to specify a reason the Interval is invalid");const i=e instanceof Mn?e:new Mn(e,r);if(yr.throwOnInvalid)throw new UG(i);return new pr({invalid:i})}static fromDateTimes(e,r){const i=If(e),s=If(r),n=yq(i,s);return n??new pr({start:i,end:s})}static after(e,r){const i=ft.fromDurationLike(r),s=If(e);return pr.fromDateTimes(s,s.plus(i))}static before(e,r){const i=ft.fromDurationLike(r),s=If(e);return pr.fromDateTimes(s.minus(i),s)}static fromISO(e,r){const[i,s]=(e||"").split("/",2);if(i&&s){let n,o;try{n=De.fromISO(i,r),o=n.isValid}catch{o=!1}let a,l;try{a=De.fromISO(s,r),l=a.isValid}catch{l=!1}if(o&&l)return pr.fromDateTimes(n,a);if(o){const c=ft.fromISO(s,r);if(c.isValid)return pr.after(n,c)}else if(l){const c=ft.fromISO(i,r);if(c.isValid)return pr.before(a,c)}}return pr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const i=this.start.startOf(e,r);let s;return r?.useLocaleWeeks?s=this.end.reconfigure({locale:i.locale}):s=this.end,s=s.startOf(e,r),Math.floor(s.diff(i,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?pr.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(If).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s}=this,n=0;for(;s<this.e;){const o=r[n]||this.e,a=+o>+this.e?this.e:o;i.push(pr.fromDateTimes(s,a)),s=a,n+=1}return i}splitBy(e){const r=ft.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:i}=this,s=1,n;const o=[];for(;i<this.e;){const a=this.start.plus(r.mapUnits(l=>l*s));n=+a>+this.e?this.e:a,o.push(pr.fromDateTimes(i,n)),i=n,s+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return r>=i?null:pr.fromDateTimes(r,i)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return pr.fromDateTimes(r,i)}static merge(e){const[r,i]=e.sort((s,n)=>s.s-n.s).reduce(([s,n],o)=>n?n.overlaps(o)||n.abutsStart(o)?[s,n.union(o)]:[s.concat([n]),o]:[s,o],[[],null]);return i&&r.push(i),r}static xor(e){let r=null,i=0;const s=[],n=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...n),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?r=l.time:(r&&+r!=+l.time&&s.push(pr.fromDateTimes(r,l.time)),r=null);return pr.merge(s)}difference(...e){return pr.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Au}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=dg,r={}){return this.isValid?Pi.create(this.s.loc.clone(r),e).formatInterval(this):Au}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Au}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Au}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Au}toFormat(e,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:Au}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):ft.invalid(this.invalidReason)}mapEndpoints(e){return pr.fromDateTimes(e(this.s),e(this.e))}}class ay{static hasDST(e=yr.defaultZone){const r=De.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return ba.isValidZone(e)}static normalizeZone(e){return nl(e,yr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Tt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Tt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Tt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:i=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Tt.create(r,i,n)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:i=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Tt.create(r,i,n)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:i=null,locObj:s=null}={}){return(s||Tt.create(r,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:i=null,locObj:s=null}={}){return(s||Tt.create(r,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Tt.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Tt.create(r,null,"gregory").eras(e)}static features(){return{relative:u6(),localeWeek:h6()}}}function N4(t,e){const r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=r(e)-r(t);return Math.floor(ft.fromMillis(i).as("days"))}function gq(t,e,r){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const f=N4(l,c);return(f-f%7)/7}],["days",N4]],s={},n=t;let o,a;for(const[l,c]of i)r.indexOf(l)>=0&&(o=l,s[l]=c(t,e),a=n.plus(s),a>e?(s[l]--,t=n.plus(s),t>e&&(a=t,s[l]--,t=n.plus(s))):t=a);return[t,s,a,o]}function vq(t,e,r,i){let[s,n,o,a]=gq(t,e,r);const l=e-s,c=r.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<e&&(o=s.plus({[a]:1})),o!==s&&(n[a]=(n[a]||0)+l/(o-s)));const f=ft.fromObject(n,i);return c.length>0?ft.fromMillis(l,i).shiftTo(...c).plus(f):f}const bq="missing Intl.DateTimeFormat.formatToParts support";function gt(t,e=r=>r){return{regex:t,deser:([r])=>e(lz(r))}}const _q="",O6=`[ ${_q}]`,I6=new RegExp(O6,"g");function wq(t){return t.replace(/\./g,"\\.?").replace(I6,O6)}function P4(t){return t.replace(/\./g,"").replace(I6," ").toLowerCase()}function yn(t,e){return t===null?null:{regex:RegExp(t.map(wq).join("|")),deser:([r])=>t.findIndex(i=>P4(r)===P4(i))+e}}function L4(t,e){return{regex:t,deser:([,r,i])=>c1(r,i),groups:e}}function ly(t){return{regex:t,deser:([e])=>e}}function xq(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Eq(t,e){const r=mn(e),i=mn(e,"{2}"),s=mn(e,"{3}"),n=mn(e,"{4}"),o=mn(e,"{6}"),a=mn(e,"{1,2}"),l=mn(e,"{1,3}"),c=mn(e,"{1,6}"),f=mn(e,"{1,9}"),d=mn(e,"{2,4}"),p=mn(e,"{4,6}"),y=S=>({regex:RegExp(xq(S.val)),deser:([E])=>E,literal:!0}),b=(S=>{if(t.literal)return y(S);switch(S.val){case"G":return yn(e.eras("short"),0);case"GG":return yn(e.eras("long"),0);case"y":return gt(c);case"yy":return gt(d,U2);case"yyyy":return gt(n);case"yyyyy":return gt(p);case"yyyyyy":return gt(o);case"M":return gt(a);case"MM":return gt(i);case"MMM":return yn(e.months("short",!0),1);case"MMMM":return yn(e.months("long",!0),1);case"L":return gt(a);case"LL":return gt(i);case"LLL":return yn(e.months("short",!1),1);case"LLLL":return yn(e.months("long",!1),1);case"d":return gt(a);case"dd":return gt(i);case"o":return gt(l);case"ooo":return gt(s);case"HH":return gt(i);case"H":return gt(a);case"hh":return gt(i);case"h":return gt(a);case"mm":return gt(i);case"m":return gt(a);case"q":return gt(a);case"qq":return gt(i);case"s":return gt(a);case"ss":return gt(i);case"S":return gt(l);case"SSS":return gt(s);case"u":return ly(f);case"uu":return ly(a);case"uuu":return gt(r);case"a":return yn(e.meridiems(),0);case"kkkk":return gt(n);case"kk":return gt(d,U2);case"W":return gt(a);case"WW":return gt(i);case"E":case"c":return gt(r);case"EEE":return yn(e.weekdays("short",!1),1);case"EEEE":return yn(e.weekdays("long",!1),1);case"ccc":return yn(e.weekdays("short",!0),1);case"cccc":return yn(e.weekdays("long",!0),1);case"Z":case"ZZ":return L4(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return L4(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return ly(/[a-z_+-/]{1,256}?/i);case" ":return ly(/[^\S\n\r]/);default:return y(S)}})(t)||{invalidReason:bq};return b.token=t,b}const Sq={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Aq(t,e,r){const{type:i,value:s}=t;if(i==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const n=e[i];let o=i;i==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let a=Sq[o];if(typeof a=="object"&&(a=a[n]),a)return{literal:!1,val:a}}function Tq(t){return[`^${t.map(r=>r.regex).reduce((r,i)=>`${r}(${i.source})`,"")}$`,t]}function Mq(t,e,r){const i=t.match(e);if(i){const s={};let n=1;for(const o in r)if(Dh(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(i.slice(n,n+l))),n+=l}return[i,s]}else return[i,{}]}function $q(t){const e=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,i;return Ve(t.z)||(r=ba.create(t.z)),Ve(t.Z)||(r||(r=new Yi(t.Z)),i=t.Z),Ve(t.q)||(t.M=(t.q-1)*3+1),Ve(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Ve(t.u)||(t.S=QE(t.u)),[Object.keys(t).reduce((n,o)=>{const a=e(o);return a&&(n[a]=t[o]),n},{}),r,i]}let Vb=null;function Oq(){return Vb||(Vb=De.fromMillis(1555555555555)),Vb}function Iq(t,e){if(t.literal)return t;const r=Pi.macroTokenToFormatOpts(t.val),i=L6(r,e);return i==null||i.includes(void 0)?t:i}function C6(t,e){return Array.prototype.concat(...t.map(r=>Iq(r,e)))}class N6{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=C6(Pi.parseFormat(r),e),this.units=this.tokens.map(i=>Eq(i,e)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,s]=Tq(this.units);this.regex=RegExp(i,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){const[r,i]=Mq(e,this.regex,this.handlers),[s,n,o]=i?$q(i):[null,null,void 0];if(Dh(i,"a")&&Dh(i,"H"))throw new Wu("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:i,result:s,zone:n,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function P6(t,e,r){return new N6(t,r).explainFromTokens(e)}function Cq(t,e,r){const{result:i,zone:s,specificOffset:n,invalidReason:o}=P6(t,e,r);return[i,s,n,o]}function L6(t,e){if(!t)return null;const i=Pi.create(e,t).dtFormatter(Oq()),s=i.formatToParts(),n=i.resolvedOptions();return s.map(o=>Aq(o,t,n))}const Gb="Invalid DateTime",R4=864e13;function Qf(t){return new Mn("unsupported zone",`the zone "${t.name}" is not supported`)}function zb(t){return t.weekData===null&&(t.weekData=pg(t.c)),t.weekData}function qb(t){return t.localWeekData===null&&(t.localWeekData=pg(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Ql(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new De({...r,...e,old:r})}function R6(t,e,r){let i=t-e*60*1e3;const s=r.offset(i);if(e===s)return[i,e];i-=(s-e)*60*1e3;const n=r.offset(i);return s===n?[i,s]:[t-Math.min(s,n)*60*1e3,Math.max(s,n)]}function cy(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function n0(t,e,r){return R6(l1(t),e,r)}function k4(t,e){const r=t.o,i=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,n={...t.c,year:i,month:s,day:Math.min(t.c.day,mg(i,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=ft.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=l1(n);let[l,c]=R6(a,r,t.zone);return o!==0&&(l+=o,c=t.zone.offset(l)),{ts:l,o:c}}function Tu(t,e,r,i,s,n){const{setZone:o,zone:a}=r;if(t&&Object.keys(t).length!==0||e){const l=e||a,c=De.fromObject(t,{...r,zone:l,specificOffset:n});return o?c:c.setZone(a)}else return De.invalid(new Mn("unparsable",`the input "${s}" can't be parsed as ${i}`))}function uy(t,e,r=!0){return t.isValid?Pi.create(Tt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Hb(t,e){const r=t.c.year>9999||t.c.year<0;let i="";return r&&t.c.year>=0&&(i+="+"),i+=kr(t.c.year,r?6:4),e?(i+="-",i+=kr(t.c.month),i+="-",i+=kr(t.c.day)):(i+=kr(t.c.month),i+=kr(t.c.day)),i}function D4(t,e,r,i,s,n){let o=kr(t.c.hour);return e?(o+=":",o+=kr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(o+=":")):o+=kr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(o+=kr(t.c.second),(t.c.millisecond!==0||!i)&&(o+=".",o+=kr(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!n?o+="Z":t.o<0?(o+="-",o+=kr(Math.trunc(-t.o/60)),o+=":",o+=kr(Math.trunc(-t.o%60))):(o+="+",o+=kr(Math.trunc(t.o/60)),o+=":",o+=kr(Math.trunc(t.o%60)))),n&&(o+="["+t.zone.ianaName+"]"),o}const k6={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Nq={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Pq={ordinal:1,hour:0,minute:0,second:0,millisecond:0},D6=["year","month","day","hour","minute","second","millisecond"],Lq=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Rq=["year","ordinal","hour","minute","second","millisecond"];function kq(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new kN(t);return e}function F4(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return kq(t)}}function Dq(t){if(ed===void 0&&(ed=yr.now()),t.type!=="iana")return t.offset(ed);const e=t.name;let r=j2.get(e);return r===void 0&&(r=t.offset(ed),j2.set(e,r)),r}function U4(t,e){const r=nl(e.zone,yr.defaultZone);if(!r.isValid)return De.invalid(Qf(r));const i=Tt.fromObject(e);let s,n;if(Ve(t.year))s=yr.now();else{for(const l of D6)Ve(t[l])&&(t[l]=k6[l]);const o=l6(t)||c6(t);if(o)return De.invalid(o);const a=Dq(r);[s,n]=n0(t,a,r)}return new De({ts:s,zone:r,loc:i,o:n})}function j4(t,e,r){const i=Ve(r.round)?!0:r.round,s=(o,a)=>(o=eS(o,i||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(o,a)),n=o=>r.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(r.unit)return s(n(r.unit),r.unit);for(const o of r.units){const a=n(o);if(Math.abs(a)>=1)return s(a,o)}return s(t>e?-0:0,r.units[r.units.length-1])}function B4(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}let ed;const j2=new Map;class De{constructor(e){const r=e.zone||yr.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Mn("invalid input"):null)||(r.isValid?null:Qf(r));this.ts=Ve(e.ts)?yr.now():e.ts;let s=null,n=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[s,n]=[e.old.c,e.old.o];else{const a=yl(e.o)&&!e.old?e.o:r.offset(this.ts);s=cy(this.ts,a),i=Number.isNaN(s.year)?new Mn("invalid input"):null,s=i?null:s,n=i?null:a}this._zone=r,this.loc=e.loc||Tt.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new De({})}static local(){const[e,r]=B4(arguments),[i,s,n,o,a,l,c]=r;return U4({year:i,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,r]=B4(arguments),[i,s,n,o,a,l,c]=r;return e.zone=Yi.utcInstance,U4({year:i,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,r={}){const i=dz(e)?e.valueOf():NaN;if(Number.isNaN(i))return De.invalid("invalid input");const s=nl(r.zone,yr.defaultZone);return s.isValid?new De({ts:i,zone:s,loc:Tt.fromObject(r)}):De.invalid(Qf(s))}static fromMillis(e,r={}){if(yl(e))return e<-R4||e>R4?De.invalid("Timestamp out of range"):new De({ts:e,zone:nl(r.zone,yr.defaultZone),loc:Tt.fromObject(r)});throw new Mi(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(yl(e))return new De({ts:e*1e3,zone:nl(r.zone,yr.defaultZone),loc:Tt.fromObject(r)});throw new Mi("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const i=nl(r.zone,yr.defaultZone);if(!i.isValid)return De.invalid(Qf(i));const s=Tt.fromObject(r),n=yg(e,F4),{minDaysInFirstWeek:o,startOfWeek:a}=A4(n,s),l=yr.now(),c=Ve(r.specificOffset)?i.offset(l):r.specificOffset,f=!Ve(n.ordinal),d=!Ve(n.year),p=!Ve(n.month)||!Ve(n.day),y=d||p,v=n.weekYear||n.weekNumber;if((y||f)&&v)throw new Wu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new Wu("Can't mix ordinal dates with month/day");const b=v||n.weekday&&!y;let S,E,T=cy(l,c);b?(S=Lq,E=Nq,T=pg(T,o,a)):f?(S=Rq,E=Pq,T=Bb(T)):(S=D6,E=k6);let w=!1;for(const F of S){const q=n[F];Ve(q)?w?n[F]=E[F]:n[F]=T[F]:w=!0}const _=b?uz(n,o,a):f?hz(n):l6(n),M=_||c6(n);if(M)return De.invalid(M);const $=b?E4(n,o,a):f?S4(n):n,[C,P]=n0($,c,i),N=new De({ts:C,zone:i,o:P,loc:s});return n.weekday&&y&&e.weekday!==N.weekday?De.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${N.toISO()}`):N.isValid?N:De.invalid(N.invalid)}static fromISO(e,r={}){const[i,s]=rq(e);return Tu(i,s,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[i,s]=iq(e);return Tu(i,s,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[i,s]=sq(e);return Tu(i,s,r,"HTTP",r)}static fromFormat(e,r,i={}){if(Ve(e)||Ve(r))throw new Mi("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=i,o=Tt.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[a,l,c,f]=Cq(o,e,r);return f?De.invalid(f):Tu(a,l,i,`format ${r}`,e,c)}static fromString(e,r,i={}){return De.fromFormat(e,r,i)}static fromSQL(e,r={}){const[i,s]=hq(e);return Tu(i,s,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Mi("need to specify a reason the DateTime is invalid");const i=e instanceof Mn?e:new Mn(e,r);if(yr.throwOnInvalid)throw new FG(i);return new De({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const i=L6(e,Tt.fromObject(r));return i?i.map(s=>s?s.val:null).join(""):null}static expandFormat(e,r={}){return C6(Pi.parseFormat(e),Tt.fromObject(r)).map(s=>s.val).join("")}static resetCache(){ed=void 0,j2.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?zb(this).weekYear:NaN}get weekNumber(){return this.isValid?zb(this).weekNumber:NaN}get weekday(){return this.isValid?zb(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?qb(this).weekday:NaN}get localWeekNumber(){return this.isValid?qb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?qb(this).weekYear:NaN}get ordinal(){return this.isValid?Bb(this.c).ordinal:NaN}get monthShort(){return this.isValid?ay.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ay.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ay.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ay.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,i=l1(this.c),s=this.zone.offset(i-e),n=this.zone.offset(i+e),o=this.zone.offset(i-s*r),a=this.zone.offset(i-n*r);if(o===a)return[this];const l=i-o*r,c=i-a*r,f=cy(l,o),d=cy(c,a);return f.hour===d.hour&&f.minute===d.minute&&f.second===d.second&&f.millisecond===d.millisecond?[Ql(this,{ts:l}),Ql(this,{ts:c})]:[this]}get isInLeapYear(){return bm(this.year)}get daysInMonth(){return mg(this.year,this.month)}get daysInYear(){return this.isValid?mh(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ep(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ep(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:i,calendar:s}=Pi.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:i,outputCalendar:s}}toUTC(e=0,r={}){return this.setZone(Yi.instance(e),r)}toLocal(){return this.setZone(yr.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:i=!1}={}){if(e=nl(e,yr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(r||i){const n=e.offset(this.ts),o=this.toObject();[s]=n0(o,n,e)}return Ql(this,{ts:s,zone:e})}else return De.invalid(Qf(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:i}={}){const s=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:i});return Ql(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=yg(e,F4),{minDaysInFirstWeek:i,startOfWeek:s}=A4(r,this.loc),n=!Ve(r.weekYear)||!Ve(r.weekNumber)||!Ve(r.weekday),o=!Ve(r.ordinal),a=!Ve(r.year),l=!Ve(r.month)||!Ve(r.day),c=a||l,f=r.weekYear||r.weekNumber;if((c||o)&&f)throw new Wu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Wu("Can't mix ordinal dates with month/day");let d;n?d=E4({...pg(this.c,i,s),...r},i,s):Ve(r.ordinal)?(d={...this.toObject(),...r},Ve(r.day)&&(d.day=Math.min(mg(d.year,d.month),d.day))):d=S4({...Bb(this.c),...r});const[p,y]=n0(d,this.o,this.zone);return Ql(this,{ts:p,o:y})}plus(e){if(!this.isValid)return this;const r=ft.fromDurationLike(e);return Ql(this,k4(this,r))}minus(e){if(!this.isValid)return this;const r=ft.fromDurationLike(e).negate();return Ql(this,k4(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const i={},s=ft.normalizeUnit(e);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(s==="weeks")if(r){const n=this.loc.getStartOfWeek(),{weekday:o}=this;o<n&&(i.weekNumber=this.weekNumber-1),i.weekday=n}else i.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);i.month=(n-1)*3+1}return this.set(i)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?Pi.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):Gb}toLocaleString(e=dg,r={}){return this.isValid?Pi.create(this.loc.clone(r),e).formatDateTime(this):Gb}toLocaleParts(e={}){return this.isValid?Pi.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:i=!1,includeOffset:s=!0,extendedZone:n=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=Hb(this,o);return a+="T",a+=D4(this,o,r,i,s,n),a}toISODate({format:e="extended"}={}){return this.isValid?Hb(this,e==="extended"):null}toISOWeekDate(){return uy(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:i=!0,includePrefix:s=!1,extendedZone:n=!1,format:o="extended"}={}){return this.isValid?(s?"T":"")+D4(this,o==="extended",r,e,i,n):null}toRFC2822(){return uy(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return uy(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Hb(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:i=!0}={}){let s="HH:mm:ss.SSS";return(r||e)&&(i&&(s+=" "),r?s+="z":e&&(s+="ZZ")),uy(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Gb}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",i={}){if(!this.isValid||!e.isValid)return ft.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...i},n=pz(r).map(ft.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=vq(a,l,n,s);return o?c.negate():c}diffNow(e="milliseconds",r={}){return this.diff(De.now(),e,r)}until(e){return this.isValid?pr.fromDateTimes(this,e):this}hasSame(e,r,i){if(!this.isValid)return!1;const s=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(r,i)<=s&&s<=n.endOf(r,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||De.fromObject({},{zone:this.zone}),i=e.padding?this<r?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=e.unit;return Array.isArray(e.unit)&&(s=e.unit,n=void 0),j4(r,this.plus(i),{...e,numeric:"always",units:s,unit:n})}toRelativeCalendar(e={}){return this.isValid?j4(e.base||De.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(De.isDateTime))throw new Mi("min requires all arguments be DateTimes");return T4(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(De.isDateTime))throw new Mi("max requires all arguments be DateTimes");return T4(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,i={}){const{locale:s=null,numberingSystem:n=null}=i,o=Tt.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return P6(o,e,r)}static fromStringExplain(e,r,i={}){return De.fromFormatExplain(e,r,i)}static buildFormatParser(e,r={}){const{locale:i=null,numberingSystem:s=null}=r,n=Tt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return new N6(n,e)}static fromFormatParser(e,r,i={}){if(Ve(e)||Ve(r))throw new Mi("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=i,o=Tt.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!o.equals(r.locale))throw new Mi(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${r.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:f}=r.explainFromTokens(e);return f?De.invalid(f):Tu(a,l,i,`format ${r.format}`,e,c)}static get DATE_SHORT(){return dg}static get DATE_MED(){return DN}static get DATE_MED_WITH_WEEKDAY(){return BG}static get DATE_FULL(){return FN}static get DATE_HUGE(){return UN}static get TIME_SIMPLE(){return jN}static get TIME_WITH_SECONDS(){return BN}static get TIME_WITH_SHORT_OFFSET(){return VN}static get TIME_WITH_LONG_OFFSET(){return GN}static get TIME_24_SIMPLE(){return zN}static get TIME_24_WITH_SECONDS(){return qN}static get TIME_24_WITH_SHORT_OFFSET(){return HN}static get TIME_24_WITH_LONG_OFFSET(){return WN}static get DATETIME_SHORT(){return YN}static get DATETIME_SHORT_WITH_SECONDS(){return JN}static get DATETIME_MED(){return KN}static get DATETIME_MED_WITH_SECONDS(){return ZN}static get DATETIME_MED_WITH_WEEKDAY(){return VG}static get DATETIME_FULL(){return XN}static get DATETIME_FULL_WITH_SECONDS(){return QN}static get DATETIME_HUGE(){return e6}static get DATETIME_HUGE_WITH_SECONDS(){return t6}}function If(t){if(De.isDateTime(t))return t;if(t&&t.valueOf&&yl(t.valueOf()))return De.fromJSDate(t);if(t&&typeof t=="object")return De.fromObject(t);throw new Mi(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const Fq="HH:mm",Uq="HH:mm:ss",jq="HH:mm:ss.SSS",Bq=[jq,Uq,Fq,"TT"],Vq="yyyy-MM-dd";function V4(t){if(!t||!gm(t))return null;const e=De.fromFormat(t,Vq);return e.isValid?e:null}function G4(t){return t&&gm(t)?XF(Bq,e=>{const r=De.fromFormat(t,e);return r.isValid?r:null})??null:null}function z4(t){if(!t||!gm(t))return null;const e=De.fromISO(t);return e.isValid?e:null}var gg;(function(t){t.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",t.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(gg||(gg={}));const F6=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function Gq(t){return t!=null&&F6.has(t.type)}function U6(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function j6(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function B6(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}const zq=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);TE(F6,zq);function bbe(t,e){const r=t?.domain;if(!r||r.type!=="range")return;const i="range"in r?r.range[0]:r.minValue,s="range"in r?r.range[1]:r.maxValue,n=Gq(t);return U6(t)||B6(t)||j6(t)?{...qq(t,s,i),isInteger:n}:{min:i!=null&&typeof i=="number"?i:null,max:s!=null&&typeof s=="number"?s:null,rawMin:i,rawMax:s,isInteger:n}}function qq(t,e,r){return U6(t)?{min:V4(r)?.toMillis(),max:V4(e)?.toMillis(),rawMin:r,rawMax:e}:B6(t)?{min:G4(r)?.toMillis(),max:G4(e)?.toMillis(),rawMin:r,rawMax:e}:j6(t)?{min:z4(r)?.toMillis(),max:z4(e)?.toMillis(),rawMin:r,rawMax:e}:{max:null,min:null}}function Hq(t){if(!t)return;const e=t.match(Wq);return e?.groups?e.groups.doubleQuoted??e.groups.singleQuoted??e.groups.dotNotation:void 0}const Wq=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function _be(t){return t.match(Yq)?.[1]?.replace(/\\'/g,"'")??null}const Yq=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let Wb;function Jq(){return Wb||(Wb=(async()=>{const[t,e,r]=await Promise.all([ve(()=>import("./arcadeUtils-BWg3a7B6.js"),__vite__mapDeps([19,20,1,21,17,16,18,22,23,24,25,26,27,28,29,30,31,32,33,34,35,15,36,5]),import.meta.url),ve(()=>import("./batchExec-CYYPUfwN.js"),__vite__mapDeps([37,9,10,11,1]),import.meta.url),ve(()=>import("./aiServices-CY5ayKbv.js").then(i=>i.ag),__vite__mapDeps([21,17,16,18,22,23,24,25,26,27,28,1]),import.meta.url)]);return{arcade:t.arcade,arcadeUtils:t,batchExec:e,aiServices:r,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel}})()),Wb}const Kq=/^([0-9_])/,Zq=/[^a-z0-9_\u0080-\uffff]+/gi;function wbe(t){return t==null?null:t.trim().replaceAll(Zq,"_").replace(Kq,"F$1")||null}const Xq=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Qq=["field","normalizationField"];function xbe(t,e){if(t!=null&&e!=null){for(const r of Array.isArray(t)?t:[t])if(q4(Xq,r,e),"visualVariables"in r&&r.visualVariables)for(const i of r.visualVariables)q4(Qq,i,e)}}function q4(t,e,r){if(t)for(const i of t){const s=_E(i,e),n=s&&typeof s!="function"&&r.get(s);n&&au(i,n.name,e)}}function Ebe(t,e){if(t!=null&&e?.fields?.length)if("startField"in t){const r=e.get(t.startField),i=e.get(t.endField);t.startField=r?.name??null,t.endField=i?.name??null}else{const r=e.get(t.startTimeField),i=e.get(t.endTimeField);t.startTimeField=r?.name??null,t.endTimeField=i?.name??null}}const Yb=new Set;function sS(t,e){return t&&e?(Yb.clear(),Sp(Yb,t,e),Array.from(Yb).sort()):[]}function Sp(t,e,r){if(r)if(e?.fields?.length)if(r.includes("*"))for(const{name:i}of e.fields)t.add(i);else for(const i of r)h1(t,e,i);else{if(r.includes("*"))return t.clear(),void t.add("*");for(const i of r)i!=null&&t.add(i)}}function h1(t,e,r){if(typeof r=="string")if(e){const i=e.get(r);i&&t.add(i.name)}else t.add(r)}function Sbe(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(r=>r.name):e}function Abe(t,e,r=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const i=sS(t,e);return i.length/t.fields.length>=r?["*"]:i}async function Zc(t,e,r){if(!r)return;let i;const s=Hq(r);if(s)i=[s];else{const{arcadeUtils:n}=await Jq();i=n.extractFieldNames(r,e?.fields?.map(o=>o.name))}for(const n of i)h1(t,e,n)}async function nS(t,e,r){if(r&&r!=="1=1"){const i=await LG(r,e);if(!i.isStandardized)throw new mt("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});Sp(t,e,i.fieldNames)}}function Tbe({displayField:t,fields:e}){return t||(e?.length?Jb(e,"name-or-title")||Jb(e,"unique-identifier")||Jb(e,"type-or-category")||eH(e):null)}function eH(t){for(const e of t){if(!e?.name)continue;const r=e.name.toLowerCase();if(r.includes("name")||r.includes("title"))return e.name}return null}function Jb(t,e){for(const r of t)if(r?.valueType&&r.valueType===e)return r.name;return null}async function Mbe(t,e){if(!e)return;const r=e.elevationInfo?.featureExpressionInfo;return r?r.collectRequiredFields(t,e.fieldsIndex):void 0}function tH(t,e,r){r.onStatisticExpression?Zc(t,e,r.onStatisticExpression.expression):t.add(r.onStatisticField)}async function $be(t,e,r){if(!e||!r||!("fields"in r))return;const i=[],s=r.popupTemplate;i.push(V6(t,e,s)),r.fields&&i.push(...r.fields.map(async n=>tH(t,e.fieldsIndex,n))),await Promise.all(i)}async function Obe(t,e){const{fieldsIndex:r,trackInfo:i}=e;if(!e||!i||!r)return;const s=[i.latestObservations.renderer?.collectRequiredFields(t,r),i.previousObservations.renderer?.collectRequiredFields(t,r),i.trackLines.renderer?.collectRequiredFields(t,r)];i.popupTemplate&&s.push(V6(t,e,i.popupTemplate));for(const n of[i.latestObservations.labelingInfo,i.previousObservations.labelingInfo,i.trackLines.labelingInfo])if(n)for(const o of n)s.push(q6(t,r,o));await Promise.all(s)}async function V6(t,e,r){const i=[];r?.expressionInfos&&i.push(...r.expressionInfos.map(n=>Zc(t,e.fieldsIndex,n.expression)));const s=r?.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&i.push(Zc(t,e.fieldsIndex,n.expressionInfo.expression));await Promise.all(i)}async function Ibe(t,e,r){e&&(e.timeInfo&&r?.timeExtent&&Sp(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&Sp(t,e.fieldsIndex,[e.floorInfo.floorField]),r?.where!=null&&await nS(t,e.fieldsIndex,r.where))}async function Cbe(t,e,r){e&&r&&await Promise.all(r.map(i=>rH(t,e,i)))}async function rH(t,e,r){e&&r&&(r.valueExpression?await Zc(t,e.fieldsIndex,r.valueExpression):r.field&&h1(t,e.fieldsIndex,r.field))}function Nbe(t){return t?sS(t.fieldsIndex,G6(t)):[]}function iH(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?sS(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function Pbe(t,e,r){if(!e||!r)return;const i=e.fieldsIndex;await Promise.all(r.filters.map(s=>nS(t,i,s.where)))}const sH=new Set(["oid","global-id","guid"]),nH=new Set(["oid","global-id"]),oH=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function aH(t){const e=new Set;z6(t).forEach(i=>e.add(i)),iH(t).forEach(i=>e.add(i.toLowerCase()));const r=t&&"infoFor3D"in t?t.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(i=>e.add(i.toLowerCase())),Object.values(r.transformFieldRoles).forEach(i=>e.add(i.toLowerCase()))),Array.from(e)}function G6(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:r,creatorField:i,editDateField:s,editorField:n}=e;return[r,i,s,n].filter(Boolean)}function z6(t){return G6(t).map(e=>e.toLowerCase())}function Lbe(t,e){return t.editable&&!sH.has(t.type)&&!z6(e).includes(t.name?.toLowerCase()??"")}function Rbe(t,e){const r=t.name?.toLowerCase()??"";return!(e?.objectIdField!=null&&r===e.objectIdField.toLowerCase()||e?.globalIdField!=null&&r===e.globalIdField.toLowerCase()||aH(e).includes(r)||nH.has(t.type)||oH.some(i=>i.test(r)))}async function kbe(t,e){const{labelingInfo:r,fieldsIndex:i}=e;r?.length&&await Promise.all(r.map(s=>q6(t,i,s)))}async function q6(t,e,r){if(!r)return;const i=r.getLabelExpression(),s=r.where;if(i.type==="arcade")await Zc(t,e,i.expression);else{const n=i.expression.match(/{[^}]*}/g);n&&n.forEach(o=>{h1(t,e,o.slice(1,-1))})}await nS(t,e,s)}function Dbe(t){const e=t.defaultValue;return e!==void 0&&W6(t,e)?e:t.nullable?null:void 0}function Fbe(t){const e=typeof t=="string"?{type:t}:t;return vH(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function H6(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function lH(t){return t===null||H6(t)}function cH(t){return t===null||Number.isInteger(t)}function uH(){return!0}function W6(t,e){let r;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=t.nullable?cH:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=t.nullable?lH:H6;break;case"string":case"esriFieldTypeString":r=t.nullable?DG:gm;break;default:r=uH}return arguments.length===1?r:r(e)}const hH=["integer","small-integer","big-integer","long"],fH=["single","double"],dH=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],pH=["esriFieldTypeSingle","esriFieldTypeDouble"],Y6=new Set([...hH,...dH]),mH=new Set([...fH,...pH]),yH=TE(Y6,mH);function Ube(t){return t!=null&&Y6.has(t.type)}function gH(t){return t!=null&&yH.has(t.type)}function vH(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function jbe(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function Bbe(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function Vbe(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function Gbe(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function zbe(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function qbe(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function Hbe(t,e){return bH(t,e)===null}var vg,bg;function Wbe(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function bH(t,e){return t==null||t.nullable&&e===null?null:W6(t,e)?gH(t)&&!_H(t.type,Number(e))?vg.OUT_OF_RANGE:null:bg.INVALID_TYPE}function _H(t,e){const r=typeof t=="string"?J6(t):t;if(!r)return!1;const i=r.min,s=r.max;return r.isInteger?Number.isInteger(e)&&e>=i&&e<=s:e>=i&&e<=s}function J6(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return wH;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return xH;case"esriFieldTypeBigInteger":case"big-integer":return EH;case"esriFieldTypeSingle":case"single":return SH;case"esriFieldTypeDouble":case"double":return AH}}(function(t){t.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(vg||(vg={})),function(t){t.INVALID_TYPE="type-validation-error::invalid-type"}(bg||(bg={}));const wH={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},xH={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},EH={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},SH={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},AH={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Ybe(t,e,r){switch(t){case gg.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case gg.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case bg.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case vg.OUT_OF_RANGE:{const{min:i,max:s}=J6(e.type);return`Value ${r} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${i} to ${s}`}}}function Jbe(t,e){return!TH(t,e,null)}function TH(t,e,r){if(!t?.attributes||!e)return!0;const i=new Set(Object.keys(t.attributes));let s=!1;for(const n of e)if(!i.has(n)&&(s=!0,r==null))break;return s}function Kbe(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function MH(t){const e=t?.match(/{[^}]+}/g);return e?e.map(r=>r.slice(1,-1).split(":")[0].trim()):[]}let o0=class extends tt{constructor(e){super(e),this.type=null}};g([A({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],o0.prototype,"type",void 0),o0=g([ie("esri.popup.content.Content")],o0);const Ea=o0,hy=new Mo({asc:"ascending",desc:"descending"});let td=class extends ko.ClonableMixin(tt){constructor(e){super(e),this.field=null,this.order="ascending"}};g([A({type:String,json:{write:!0}})],td.prototype,"field",void 0),g([A({type:hy.apiValues,json:{type:hy.jsonValues,read:hy.read,write:hy.write}})],td.prototype,"order",void 0),td=g([ie("esri.popup.support.AttachmentsOrderByInfo")],td);const $H=td;let Ba=class extends ko.ClonableMixin(Ea){constructor(e){super(e),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};g([A({type:String,json:{write:!0}})],Ba.prototype,"description",void 0),g([A({type:["auto","preview","list"],json:{write:!0}})],Ba.prototype,"displayType",void 0),g([A({type:[$H],json:{write:!0}})],Ba.prototype,"orderByFields",void 0),g([A({type:String,json:{write:!0}})],Ba.prototype,"title",void 0),g([A({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ba.prototype,"type",void 0),Ba=g([ie("esri.popup.content.AttachmentsContent")],Ba);const Ap=Ba;var B2;let lc=B2=class extends Ea{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new B2({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ge(this.outFields):null})}};g([A()],lc.prototype,"creator",void 0),g([A()],lc.prototype,"destroyer",void 0),g([A()],lc.prototype,"outFields",void 0),g([A({type:["custom"],readOnly:!0})],lc.prototype,"type",void 0),lc=B2=g([ie("esri.popup.content.CustomContent")],lc);const OH=lc;var V2;let Lu=V2=class extends tt{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new V2({title:this.title,expression:this.expression})}};g([A({type:String,json:{write:!0}})],Lu.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],Lu.prototype,"expression",void 0),g([A({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Lu.prototype,"returnType",void 0),Lu=V2=g([ie("esri.popup.ElementExpressionInfo")],Lu);const IH=Lu;var G2;let rd=G2=class extends Ea{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){return new G2({expressionInfo:this.expressionInfo?.clone()})}};g([A({type:IH,json:{write:!0}})],rd.prototype,"expressionInfo",void 0),g([A({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],rd.prototype,"type",void 0),rd=G2=g([ie("esri.popup.content.ExpressionContent")],rd);const f1=rd;function at(t,e={}){const r=t instanceof Mo?t:new Mo(t,e),{alwaysWriteDefaults:i,default:s,ignoreUnknown:n=!0,name:o,nonNullable:a,readOnly:l=!1}=e;return A({type:n?r.apiValues:String,json:{type:r.jsonValues,default:s,name:o,read:!l&&{reader:r.read},write:{writer:r.write,alwaysWriteDefaults:i}},nonNullable:a,readOnly:l})}let Cd;const CH=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,z2=globalThis.document?.documentElement;function K6(){const t=z2?.getAttribute("lang"),e=globalThis.navigator?.language;return CH??t??e??"en"}function Nd(){return Cd===void 0&&(Cd=K6()),Cd}const NH=/^(?<language>[a-z]{2,3})(?:-[a-z]{3})?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function PH(t=Nd()){return NH.exec(t)?.groups}const a0=[];function e_e(t){return a0.push(t),Nr(()=>{a0.splice(a0.indexOf(t),1)})}const l0=[];function LH(t){return l0.push(t),Nr(()=>l0.splice(l0.indexOf(t),1))}function H4(){const t=K6();Cd!==t&&([...l0].forEach(e=>e(t)),Cd=t,[...a0].forEach(e=>e(t)))}globalThis.addEventListener?.("languagechange",H4),z2&&new MutationObserver(()=>{H4()}).observe(z2,{attributeFilter:["lang"]});const Z6="system",RH="unknown",oS="UTC",kH=Intl.DateTimeFormat().resolvedOptions().timeZone,DH={year:void 0,month:void 0,day:void 0,weekday:void 0},FH={hour:void 0,minute:void 0,second:void 0},X6={timeZone:oS},Xn={year:"numeric",month:"numeric",day:"numeric"},Cf={year:"numeric",month:"long",day:"numeric"},Nf={year:"numeric",month:"short",day:"numeric"},Pf={year:"numeric",month:"long",weekday:"long",day:"numeric"},Ka={hour:"numeric",minute:"numeric"},cc={...Ka,second:"numeric"},Q6={hourCycle:"h23"},Lf={...Ka,...Q6},Rf={...cc,...Q6},eP={"short-date":Xn,"short-date-short-time":{...Xn,...Ka},"short-date-short-time-24":{...Xn,...Lf},"short-date-long-time":{...Xn,...cc},"short-date-long-time-24":{...Xn,...Rf},"short-date-le":Xn,"short-date-le-short-time":{...Xn,...Ka},"short-date-le-short-time-24":{...Xn,...Lf},"short-date-le-long-time":{...Xn,...cc},"short-date-le-long-time-24":{...Xn,...Rf},"long-month-day-year":Cf,"long-month-day-year-short-time":{...Cf,...Ka},"long-month-day-year-short-time-24":{...Cf,...Lf},"long-month-day-year-long-time":{...Cf,...cc},"long-month-day-year-long-time-24":{...Cf,...Rf},"day-short-month-year":Nf,"day-short-month-year-short-time":{...Nf,...Ka},"day-short-month-year-short-time-24":{...Nf,...Lf},"day-short-month-year-long-time":{...Nf,...cc},"day-short-month-year-long-time-24":{...Nf,...Rf},"long-date":Pf,"long-date-short-time":{...Pf,...Ka},"long-date-short-time-24":{...Pf,...Lf},"long-date-long-time":{...Pf,...cc},"long-date-long-time-24":{...Pf,...Rf},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Ka,"long-time":cc},UH=Wn()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),tP={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},jH=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),BH=jH.find(({type:t})=>t==="month")?.value.toLowerCase();function rP(){const t=Nd(),e=PH(t)?.language;return(e&&tP[e])??t}BH!=="mart"&&(tP.bs="sr-Latn-CS");let q2=new WeakMap;const d1=eP["short-date-short-time"];function VH(t){let e=q2.get(t);if(!e){const r=rP(),i=GH(t.timeZone??Z6),s={...t,timeZone:i};e=new Intl.DateTimeFormat(r,s),q2.set(t,e)}return e}function t_e(t){return eP[t]}function aS(t,e=d1){return VH(e).format(t)}function r_e(t,e=d1){return aS(new Date(t),{...e,...X6,...FH})}function i_e(t,e=d1){return aS(new Date(`1970-01-01T${t}Z`),{...e,...X6,...DH})}function s_e(t,e=d1){if(e.timeZone)return aS(new Date(t),e);const r=De.fromISO(t,{setZone:!0}),i=r.offset===0?oS:e.timeZone,s={...e,timeZone:i};return r.toLocaleString(s,{locale:rP()})}function GH(t){switch(t){case Z6:return kH;case RH:return oS;default:return t}}LH(()=>{q2=new WeakMap});let Ru=class extends ko.ClonableMixin(tt){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};g([at(UH)],Ru.prototype,"dateFormat",void 0),g([A({type:Boolean,json:{write:!0}})],Ru.prototype,"digitSeparator",void 0),g([A({type:Dr,json:{write:!0}})],Ru.prototype,"places",void 0),Ru=g([ie("esri.popup.support.FieldInfoFormat")],Ru);const zH=Ru;var H2;let bn=H2=class extends tt{constructor(t){super(t),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new H2({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};g([A({type:String,json:{write:!0}})],bn.prototype,"fieldName",void 0),g([A({type:zH,json:{write:!0}})],bn.prototype,"format",void 0),g([A({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],bn.prototype,"isEditable",void 0),g([A({type:String,json:{write:!0}})],bn.prototype,"label",void 0),g([at(new Mo({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],bn.prototype,"stringFieldOption",void 0),g([A({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],bn.prototype,"statisticType",void 0),g([A({type:String,json:{write:!0}})],bn.prototype,"tooltip",void 0),g([A({type:Boolean,json:{write:!0}})],bn.prototype,"visible",void 0),bn=H2=g([ie("esri.popup.FieldInfo")],bn);const iP=bn;var W2;let Jo=W2=class extends Ea{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(t,e){e.fieldInfos=t&&t.map(r=>r.toJSON())}clone(){return new W2(ge({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};g([A({type:Object,json:{write:!0}})],Jo.prototype,"attributes",void 0),g([A({type:String,json:{write:!0}})],Jo.prototype,"description",void 0),g([A({type:[iP]})],Jo.prototype,"fieldInfos",void 0),g([Kt("fieldInfos")],Jo.prototype,"writeFieldInfos",null),g([A({type:String,json:{write:!0}})],Jo.prototype,"title",void 0),g([A({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Jo.prototype,"type",void 0),Jo=W2=g([ie("esri.popup.content.FieldsContent")],Jo);const Tp=Jo;let uc=class extends tt{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};g([A({type:String,json:{write:!0}})],uc.prototype,"altText",void 0),g([A({type:String,json:{write:!0}})],uc.prototype,"caption",void 0),g([A({type:String,json:{write:!0}})],uc.prototype,"title",void 0),g([A({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],uc.prototype,"type",void 0),uc=g([ie("esri.popup.content.mixins.MediaInfo")],uc);const lS=uc;var Y2;let hc=Y2=class extends oi{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new Y2({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};g([A()],hc.prototype,"color",void 0),g([A()],hc.prototype,"fieldName",void 0),g([A()],hc.prototype,"tooltip",void 0),g([A()],hc.prototype,"value",void 0),hc=Y2=g([ie("esri.popup.content.support.ChartMediaInfoValueSeries")],hc);const qH=hc;var J2;let Va=J2=class extends tt{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new J2({colors:ge(this.colors),fields:ge(this.fields),normalizeField:this.normalizeField,series:ge(this.series),tooltipField:this.tooltipField})}};g([A({type:[wt],json:{type:[[Dr]],write:!0}})],Va.prototype,"colors",void 0),g([A({type:[String],json:{write:{isRequired:!0}}})],Va.prototype,"fields",void 0),g([A({type:String,json:{write:!0}})],Va.prototype,"normalizeField",void 0),g([A({type:[qH],json:{read:!1}})],Va.prototype,"series",void 0),g([A({type:String,json:{write:!0}})],Va.prototype,"tooltipField",void 0),Va=J2=g([ie("esri.popup.content.support.ChartMediaInfoValue")],Va);const HH=Va;let id=class extends lS{constructor(e){super(e),this.type=null,this.value=void 0}};g([A({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],id.prototype,"type",void 0),g([A({type:HH,json:{write:{isRequired:!0}}})],id.prototype,"value",void 0),id=g([ie("esri.popup.content.mixins.ChartMediaInfo")],id);const p1=id,m1=Wn()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var K2;let c0=K2=class extends p1{constructor(t){super(t),this.type="bar-chart"}clone(){return new K2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:m1.write,isRequired:!0}}})],c0.prototype,"type",void 0),c0=K2=g([ie("esri.popup.content.BarChartMediaInfo")],c0);const sP=c0;var Z2;let u0=Z2=class extends p1{constructor(t){super(t),this.type="column-chart"}clone(){return new Z2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:m1.write,isRequired:!0}}})],u0.prototype,"type",void 0),u0=Z2=g([ie("esri.popup.content.ColumnChartMediaInfo")],u0);const nP=u0;var X2;let sd=X2=class extends tt{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new X2({linkURL:this.linkURL,sourceURL:this.sourceURL})}};g([A({type:String,json:{write:!0}})],sd.prototype,"linkURL",void 0),g([A({type:String,json:{write:{isRequired:!0}}})],sd.prototype,"sourceURL",void 0),sd=X2=g([ie("esri.popup.content.support.ImageMediaInfoValue")],sd);const WH=sd;var Q2;let ku=Q2=class extends lS{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new Q2({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};g([A({type:Number,json:{write:!0}})],ku.prototype,"refreshInterval",void 0),g([A({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],ku.prototype,"type",void 0),g([A({type:WH,json:{write:{isRequired:!0}}})],ku.prototype,"value",void 0),ku=Q2=g([ie("esri.popup.content.ImageMediaInfo")],ku);const oP=ku;var ew;let h0=ew=class extends p1{constructor(t){super(t),this.type="line-chart"}clone(){return new ew({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:m1.write,isRequired:!0}}})],h0.prototype,"type",void 0),h0=ew=g([ie("esri.popup.content.LineChartMediaInfo")],h0);const aP=h0;var tw;let f0=tw=class extends p1{constructor(t){super(t),this.type="pie-chart"}clone(){return new tw({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:m1.write,isRequired:!0}}})],f0.prototype,"type",void 0),f0=tw=g([ie("esri.popup.content.PieChartMediaInfo")],f0);const lP=f0,rw={base:lS,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":sP,"column-chart":nP,"line-chart":aP,"pie-chart":lP,image:oP}};var iw;let _n=iw=class extends Ea{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?oP.fromJSON(e):e.type==="barchart"?sP.fromJSON(e):e.type==="columnchart"?nP.fromJSON(e):e.type==="linechart"?aP.fromJSON(e):e.type==="piechart"?lP.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(r=>r.toJSON())}clone(){return new iw(ge({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};g([A()],_n.prototype,"activeMediaInfoIndex",void 0),g([A({type:Object,json:{write:!0}})],_n.prototype,"attributes",void 0),g([A({type:String,json:{write:!0}})],_n.prototype,"description",void 0),g([A({types:[rw]})],_n.prototype,"mediaInfos",void 0),g([ni("mediaInfos")],_n.prototype,"readMediaInfos",null),g([Kt("mediaInfos")],_n.prototype,"writeMediaInfos",null),g([A({type:String,json:{write:!0}})],_n.prototype,"title",void 0),g([A({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],_n.prototype,"type",void 0),_n=iw=g([ie("esri.popup.content.MediaContent")],_n);const Mp=_n;var sw;let nd=sw=class extends tt{constructor(t){super(t),this.field=null,this.order=null}clone(){return new sw({field:this.field,order:this.order})}};g([A({type:String,json:{write:!0}})],nd.prototype,"field",void 0),g([A({type:["asc","desc"],json:{write:!0}})],nd.prototype,"order",void 0),nd=sw=g([ie("esri.popup.support.RelatedRecordsInfoFieldOrder")],nd);const cP=nd;let io=class extends ko.ClonableMixin(Ea){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};g([A({type:String,json:{write:!0}})],io.prototype,"description",void 0),g([A({type:Number,json:{type:Dr,write:!0}})],io.prototype,"displayCount",void 0),g([A({type:["list"],json:{write:{isRequired:!0}}})],io.prototype,"displayType",void 0),g([A({type:[cP],json:{write:!0}})],io.prototype,"orderByFields",void 0),g([A({type:Number,json:{type:Dr,write:{isRequired:!0}}})],io.prototype,"relationshipId",void 0),g([A({type:String,json:{write:!0}})],io.prototype,"title",void 0),g([A({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],io.prototype,"type",void 0),io=g([ie("esri.popup.content.RelationshipContent")],io);const $p=io;var nw;let od=nw=class extends Ea{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new nw({text:this.text})}};g([A({type:String,json:{write:!0}})],od.prototype,"text",void 0),g([A({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],od.prototype,"type",void 0),od=nw=g([ie("esri.popup.content.TextContent")],od);const Op=od;let Ko=class extends ko.ClonableMixin(tt){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};g([A({type:String,json:{write:!0}})],Ko.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],Ko.prototype,"description",void 0),g([A({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Ko.prototype,"type",void 0),g([A({type:Number,json:{type:Dr,write:!0}})],Ko.prototype,"associatedNetworkSourceId",void 0),g([A({type:Number,json:{type:Dr,write:!0}})],Ko.prototype,"associatedAssetGroup",void 0),g([A({type:Number,json:{type:Dr,write:!0}})],Ko.prototype,"associatedAssetType",void 0),Ko=g([ie("esri.popup.support.UtilityNetworkAssociationType")],Ko);const YH=Ko;let Ga=class extends ko.ClonableMixin(Ea){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};g([A({type:String,json:{write:!0}})],Ga.prototype,"description",void 0),g([A({type:Number,json:{type:Dr,write:!0}})],Ga.prototype,"displayCount",void 0),g([A({type:String,json:{write:!0}})],Ga.prototype,"title",void 0),g([A({type:[YH],json:{write:!0}})],Ga.prototype,"associationTypes",void 0),g([at({utilityNetworkAssociations:"utility-network-associations"})],Ga.prototype,"type",void 0),Ga=g([ie("esri.popup.content.UtilityNetworkAssociationsContent")],Ga);const cS=Ga,JH={base:null,key:"type",typeMap:{attachment:Ap,media:Mp,text:Op,expression:f1,field:Tp,relationship:$p,utilityNetworkAssociations:cS}},KH={base:null,key:"type",typeMap:{attachment:Ap,media:Mp,text:Op,expression:f1,field:Tp,relationship:$p}};var ow;let fc=ow=class extends tt{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new ow({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};g([A({type:String,json:{write:!0}})],fc.prototype,"name",void 0),g([A({type:String,json:{write:!0}})],fc.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],fc.prototype,"expression",void 0),g([A({type:["string","number"],json:{write:!0}})],fc.prototype,"returnType",void 0),fc=ow=g([ie("esri.popup.ExpressionInfo")],fc);const ZH=fc;var aw;let ad=aw=class extends tt{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new aw({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};g([A({type:Boolean,json:{write:!0}})],ad.prototype,"returnTopmostRaster",void 0),g([A({type:Boolean,json:{write:!0}})],ad.prototype,"showNoDataRecords",void 0),ad=aw=g([ie("esri.popup.LayerOptions")],ad);const XH=ad;var lw;let ld=lw=class extends tt{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new lw({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ge(this.orderByFields):null})}};g([A({type:Boolean,json:{write:!0}})],ld.prototype,"showRelatedRecords",void 0),g([A({type:[cP],json:{write:!0}})],ld.prototype,"orderByFields",void 0),ld=lw=g([ie("esri.popup.RelatedRecordsInfo")],ld);const W4=ld;let uP=0;const hP=t=>{let e=class extends t{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+uP++})}};return e=g([ie("esri.core.Identifiable")],e),e},QH=t=>{let e=class extends t{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:uP++})}};return e=g([ie("esri.core.Identifiable.NumericIdentifiable")],e),e};let cd=class extends hP(class{}){};cd=g([ie("esri.core.Identifiable")],cd),function(t){t.IdentifiableMixin=hP,t.NumericIdentifiableMixin=QH}(cd||(cd={}));const eW=cd;var cw;let Ws=cw=class extends eW.IdentifiableMixin(oi){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new cw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};g([A()],Ws.prototype,"active",void 0),g([A()],Ws.prototype,"className",void 0),g([A()],Ws.prototype,"disabled",void 0),g([A()],Ws.prototype,"icon",void 0),g([A()],Ws.prototype,"id",void 0),g([A()],Ws.prototype,"indicator",void 0),g([A()],Ws.prototype,"title",void 0),g([A()],Ws.prototype,"type",void 0),g([A()],Ws.prototype,"visible",void 0),Ws=cw=g([ie("esri.support.actions.ActionBase")],Ws);const uS=Ws;var uw;let d0=uw=class extends uS{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new uw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};g([A()],d0.prototype,"image",void 0),d0=uw=g([ie("esri.support.actions.ActionButton")],d0);const tW=d0;var hw;let ud=hw=class extends uS{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new hw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};g([A()],ud.prototype,"image",void 0),g([A()],ud.prototype,"value",void 0),ud=hw=g([ie("esri.support.actions.ActionToggle")],ud);const rW=ud,kf="relationships/",Y4="expression/",iW=Mt.ofType({key:"type",defaultKeyValue:"button",base:uS,typeMap:{button:tW,toggle:rW}}),sW={base:Ea,key:"type",typeMap:{media:Mp,custom:OH,text:Op,attachments:Ap,fields:Tp,expression:f1,relationship:$p,utilityNetworkAssociations:cS}},fP=new Set(["attachments","fields","media","text","expression","relationship"]),nW=new Set([...fP,"utility-network-associations"]);let Rr=class extends ko.ClonableMixin(tt){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map(r=>Mh(sW,r)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||EC(e)?e:(rr.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,r){const{popupElements:i}=r;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,i):this._readPopupInfo(r)}writeWebSceneContent(e,r,i,s){this._writePopupTemplateContent(e,r,s)}writeWebMapContent(e,r,i,s){this._writePopupTemplateContent(e,r,s)}writeFieldInfos(e,r,i,s){const{content:n}=this,o=Array.isArray(n)?n:null;if(e){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>c.fieldInfos?.length);r.fieldInfos=e.filter(Boolean).map(c=>{const f=c.toJSON(s);return l&&(f.visible=!1),f})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,r)}writeLayerOptions(e,r,i,s){r[i]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(s)}writeTitle(e,r){r.title=e||""}async collectRequiredFields(e,r){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(e,r,[...i,...this._getContentExpressionInfos(this.content,i)]),Sp(e,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const r=new Set;return await this.collectRequiredFields(r,e),[...r].sort()}_writePopupTemplateContent(e,r,i){typeof e!="string"?Array.isArray(e)&&(r.popupElements=e.filter(s=>i?.origin==="web-scene"?fP.has(s.type):nW.has(s.type)).map(s=>s?.toJSON(i)),r.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(r):s.type==="media"?this._writeMediaContent(s,r):s.type==="text"?this._writeTextContent(s,r):s.type==="relationship"&&this._writeRelationshipContent(s,r)})):r.description=e}_writeFieldsContent(e,r){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const i=ge(e.fieldInfos);Array.isArray(r.fieldInfos)?i.forEach(s=>{const n=r.fieldInfos.find(o=>o.fieldName?.toLowerCase()===s.fieldName?.toLowerCase());n?n.visible=!0:r.fieldInfos.push(s)}):r.fieldInfos=i}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,r){const i=e.orderByFields?.map(n=>this._toFieldOrderJSON(n,e.relationshipId))||[],s=[...r.relatedRecordsInfo?.orderByFields||[],...i];r.relatedRecordsInfo={showRelatedRecords:!0,...s?.length&&{orderByFields:s}}}_writeTextContent(e,r){!r.description&&e.text&&(r.description=e.text)}_writeMediaContent(e,r){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const i=ge(e.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...i]:r.mediaInfos=i}_readPopupInfoElements(e,r,i){const s={description:!1,mediaInfos:!1};return i.map(n=>n.type==="media"?(n.mediaInfos||!r||s.mediaInfos||(n.mediaInfos=r,s.mediaInfos=!0),Mp.fromJSON(n)):n.type==="text"?(n.text||!e||s.description||(n.text=e,s.description=!0),Op.fromJSON(n)):n.type==="attachments"?Ap.fromJSON(n):n.type==="fields"?Tp.fromJSON(n):n.type==="expression"?f1.fromJSON(n):n.type==="relationship"?$p.fromJSON(n):n.type==="utilityNetworkAssociations"?cS.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(e){const{field:r,order:i}=e;if(!r?.startsWith(kf))return null;const s=r.replace(kf,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),o=s[1];return!Number.isNaN(n)&&o?$p.fromJSON({relationshipId:n,orderByFields:[{field:o,order:i}]}):null}_toFieldOrderJSON(e,r){const{order:i,field:s}=e;return{field:`${kf}${r}/${s}`,order:i}}_readPopupInfo({description:e,mediaInfos:r,showAttachments:i,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];e?n.push(new Op({text:e})):n.push(new Tp),Array.isArray(r)&&r.length&&n.push(Mp.fromJSON({mediaInfos:r})),i&&n.push(Ap.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=s;return o&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&n.push(c)}),n.length?n:e}_getContentElementFields(e){const r=e?.type;if(r==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(r==="custom")return e.outFields||[];if(r==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(r==="media"){const i=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...i.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return r==="text"?this._extractFieldNames(e.text):r==="relationship"||r==="utility-network-associations"?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:r,title:i,value:s}=e,n=s||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:f}=n,d=[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(c),...this._extractFieldNames(f),...o??[]];return a&&d.push(a),l&&d.push(l),d}_getContentExpressionInfos(e,r){return Array.isArray(e)?e.reduce((i,s)=>[...i,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],r):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((r,i)=>[...r,...this._getContentElementFields(i)],[]):[]}async _collectExpressionInfoFields(e,r,i){i&&await Promise.all(i.map(s=>Zc(e,r,s.expression)))}_getFieldInfoFields(e){return e?e.filter(({fieldName:r,visible:i})=>!(i!==void 0&&!i||!r||r.startsWith(kf)||r.startsWith(Y4))).map(r=>r.fieldName):[]}_getActionsFields(e){return e?e.toArray().reduce((r,i)=>[...r,...this._getActionFields(i)],[]):[]}_getActionFields(e){const{className:r,title:i,type:s}=e,n=s==="button"||s==="toggle"?e.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(n)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){return MH(e).filter(r=>!(r.indexOf(kf)===0||r.indexOf(Y4)===0))}};g([A({type:iW})],Rr.prototype,"actions",void 0),g([A()],Rr.prototype,"content",void 0),g([ym("content")],Rr.prototype,"castContent",null),g([ni("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Rr.prototype,"readContent",null),g([Kt("web-scene","content",{popupElements:{type:Mt.ofType(KH)},showAttachments:{type:Boolean},mediaInfos:{type:Mt.ofType(rw)},description:{type:String},relatedRecordsInfo:{type:W4}})],Rr.prototype,"writeWebSceneContent",null),g([Kt("content",{popupElements:{type:Mt.ofType(JH)},showAttachments:{type:Boolean},mediaInfos:{type:Mt.ofType(rw)},description:{type:String},relatedRecordsInfo:{type:W4}})],Rr.prototype,"writeWebMapContent",null),g([A({type:[ZH],json:{write:!0}})],Rr.prototype,"expressionInfos",void 0),g([A({type:[iP]})],Rr.prototype,"fieldInfos",void 0),g([Kt("fieldInfos")],Rr.prototype,"writeFieldInfos",null),g([A({type:XH})],Rr.prototype,"layerOptions",void 0),g([Kt("layerOptions")],Rr.prototype,"writeLayerOptions",null),g([A({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Rr.prototype,"lastEditInfoEnabled",void 0),g([A()],Rr.prototype,"outFields",void 0),g([A()],Rr.prototype,"overwriteActions",void 0),g([A()],Rr.prototype,"returnGeometry",void 0),g([A({json:{type:String}})],Rr.prototype,"title",void 0),g([Kt("title")],Rr.prototype,"writeTitle",null),Rr=g([ie("esri.PopupTemplate")],Rr);const oW=Rr,d_e=Wn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),p_e=Wn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),aW={base:Ai,key:"type",typeMap:{extent:Et,multipoint:xn,point:ut,polyline:ls,polygon:si}};function m_e(t,e){switch(e.type){case"object-id":case"unique-id-simple":return t.attributes[e.fieldName];case"unique-id-composite":{const r=[];for(const i of e.fieldNames)r.push(t.attributes[i]??null);return JSON.stringify(r)}}}function lW(t,e){if("uniqueIdFields"in e&&e.uniqueIdFields?.length){if(e.uniqueIdFields.length===1)return t.attributes?.[e.uniqueIdFields[0]];const r=e.uniqueIdFields.map(i=>t.attributes?.[i]);return JSON.stringify(r)}return"objectIdField"in e&&e.objectIdField?t.attributes?.[e.objectIdField]:null}const J4=new Mo({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let cW=0,Mr=class extends tt{constructor(e){super(e),this.id="sym"+cW++,this.type=null,this.color=new wt([0,0,0,1])}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};g([A({type:J4.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:J4.write,isRequired:!0}}})],Mr.prototype,"type",void 0),g([A({type:wt,json:{write:{allowNull:!0}}})],Mr.prototype,"color",void 0),g([ni("color")],Mr.prototype,"readColor",null),Mr=g([ie("esri.symbols.Symbol")],Mr);var fw;let us=fw=class extends Mr{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){if(this.data?.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const i=r.map(s=>{const n=s.valueExpressionInfo;return n?Zc(t,e,n.expression):null});await Promise.all(i)}}}clone(){return new fw({data:ge(this.data)})}hash(){return uC(JSON.stringify(this.data)).toString()}};g([A({json:{write:!1}})],us.prototype,"color",void 0),g([A({json:{write:!0}})],us.prototype,"data",void 0),g([ni("data",["symbol"])],us.prototype,"readData",null),g([Kt("data",{})],us.prototype,"writeData",null),g([at({CIMSymbolReference:"cim"},{readOnly:!0})],us.prototype,"type",void 0),us=fw=g([ie("esri.symbols.CIMSymbol")],us);function uW(t,e,r=Mt){return e||(e=new r),e===t||(e.removeAll(),fW(t)?e.addMany(t):t&&e.add(t)),e}function hW(t){return t}function fW(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}var Za;(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(Za||(Za={}));let dW=class{constructor(){this._resolver=dp(),this._status=Za.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Za.RESOLVED,this._cleanUp()},()=>{this._status=Za.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===Za.RESOLVED}isRejected(){return this._status===Za.REJECTED}isFulfilled(){return this._status!==Za.PENDING}abort(){this._resolver.reject(Es())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=dp(),r=[...this._resolvingPromises,e.promise],i=this._allPromise=Promise.all(r);i.then(()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==i||um(s)||this._resolver.reject(s)}),e.resolve()}};const dP=t=>{let e=class extends t{constructor(...r){super(...r),this._promiseProps=new dW,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,i){return this._promiseProps.promise.then(()=>this).then(r,i)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return e=g([ie("esri.core.Promise")],e),e};let hd=class extends dP(oi){};hd=g([ie("esri.core.Promise")],hd),function(t){t.EsriPromiseMixin=dP}(hd||(hd={}));const pW="not-loaded",mW="loading",yW="failed",K4="loaded",pP=t=>{let e=class extends t{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(i=>{const s=this.load.bind(this);this.load=n=>{const o=new Promise((a,l)=>{const c=iU(n,l);this.destroyed&&l(new mt("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===pW){this._set("loadStatus",mW);const a=this._loadController=new AbortController;s({signal:a.signal})}return i(),o}})),this.when(()=>{this._set("loadStatus",K4),this._loadController=null},i=>{this._set("loadStatus",yW),this._set("loadError",i),this._loadController=null})}destroy(){this._loadController&&(this._loadController=ZF(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===K4}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new mt("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return g([A({readOnly:!0})],e.prototype,"loaded",null),g([A({readOnly:!0})],e.prototype,"loadError",void 0),g([A({clonable:!1})],e.prototype,"loadStatus",void 0),g([A({type:[pp],readOnly:!0})],e.prototype,"loadWarnings",null),e=g([ie("esri.core.Loadable")],e),e};let fd=class extends pP(hd){};fd=g([ie("esri.core.Loadable")],fd),function(t){function e(r){return!(!r||!r.load)}t.LoadableMixin=pP,t.isLoadable=e}(fd||(fd={}));let fy;function gW(t){return fy&&!fy.destroyed||(fy=t()),fy}var dw;const vW=new Mo({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Sr=dw=class extends oi{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new dw({categories:this.categories?ge(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let r=[];this.categories&&(r=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let i="";if(this.extent){const o=eN(this.extent,Xe.WGS84);o!=null&&(i=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let s=this.query;!this.disableExtraQuery&&t.extraQuery&&(s="("+s+")"+t.extraQuery);const n={categories:r,bbox:i,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(o=>vW.toJSON(o.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...e,...n}}}};g([A()],Sr.prototype,"categories",void 0),g([A()],Sr.prototype,"disableExtraQuery",void 0),g([A({type:Et})],Sr.prototype,"extent",void 0),g([A()],Sr.prototype,"filter",void 0),g([A()],Sr.prototype,"num",void 0),g([A()],Sr.prototype,"query",void 0),g([A()],Sr.prototype,"sortField",void 0),g([A()],Sr.prototype,"sortOrder",null),g([A()],Sr.prototype,"start",void 0),Sr=dw=g([ie("esri.portal.PortalQueryParams")],Sr);var pw;let dr=pw=class extends tt{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e&&this.portal?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.portal?.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const r=e.categorySchema||[];return r.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):r})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new mt("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new pw({sourceJSON:t});return e.read(t),e}queryItems(t,e){let r=jn(Sr,t);const i=this.portal;return parseFloat(i.currentVersion)>5?(r=r||new Sr,i.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",e)):(r=r?r.clone():new Sr,r.query="group:"+this.id+(r.query?" "+r.query:""),i.queryItems(r,e))}_fetchCategorySchemaSet(t,e){const r=this.portal;return r.fetchSelf(r.authMode,!0,e).then(i=>{const s=i.contentCategorySetsGroupQuery;if(s){const n=new Sr({disableExtraQuery:!0,num:1,query:s});return r.queryGroups(n,e)}throw new mt("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const s=i.results[0],n=new Sr({num:1,query:`typekeywords:"${t}"`});return s.queryItems(n,e)}throw new mt("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",e).then(s=>{const n=s?.categorySchema;return n?.length?n:[]}):[])}};g([A()],dr.prototype,"access",void 0),g([A({type:Date})],dr.prototype,"created",void 0),g([A()],dr.prototype,"description",void 0),g([A()],dr.prototype,"id",void 0),g([A()],dr.prototype,"isInvitationOnly",void 0),g([A({type:Date})],dr.prototype,"modified",void 0),g([A()],dr.prototype,"owner",void 0),g([A()],dr.prototype,"portal",void 0),g([A()],dr.prototype,"snippet",void 0),g([A()],dr.prototype,"sortField",void 0),g([A()],dr.prototype,"sortOrder",void 0),g([A()],dr.prototype,"sourceJSON",void 0),g([A()],dr.prototype,"tags",void 0),g([A()],dr.prototype,"thumbnail",void 0),g([A({readOnly:!0})],dr.prototype,"thumbnailUrl",null),g([A()],dr.prototype,"title",void 0),g([A({readOnly:!0})],dr.prototype,"url",null),dr=pw=g([ie("esri.portal.PortalGroup")],dr);let dc=class extends oi{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};g([A()],dc.prototype,"nextQueryParams",void 0),g([A()],dc.prototype,"queryParams",void 0),g([A()],dc.prototype,"results",void 0),g([A()],dc.prototype,"total",void 0),dc=g([ie("esri.portal.PortalQueryResult")],dc);let Zo=class extends tt{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new mt("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};g([A({type:Date})],Zo.prototype,"created",void 0),g([A()],Zo.prototype,"id",void 0),g([A()],Zo.prototype,"portal",void 0),g([A()],Zo.prototype,"title",void 0),g([A({readOnly:!0})],Zo.prototype,"url",null),g([A()],Zo.prototype,"username",void 0),Zo=g([ie("esri.portal.PortalFolder")],Zo);var mw;let Ct=mw=class extends tt{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.id}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.id}`:null}addItem(t){const e=t&&t.item,r=t?.data,i=t?.folder,s={method:"post"};e&&(s.query=e.createPostQuery(),r!=null&&(typeof r=="string"?s.query.text=r:typeof r=="object"&&(s.query.text=JSON.stringify(r))));let n=this.userContentUrl;return i&&(n+="/"+(typeof i=="string"?i:i.id)),this.portal.request(n+"/addItem",s).then(o=>(e.id=o.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let r=this.userContentUrl;t.ownerFolder&&(r+="/"+t.ownerFolder);const i=e?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${t.id}/delete`,{method:"post",query:i}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const r=this.userContentUrl+"/deleteItems",i=[],s=t.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:e}},o=await this.portal.request(r,n);for(const a of o.results){const l=t.find(d=>a.itemId===d.id),c=a.success;let f=null;c?(l.id=null,l.portal=null):a.error&&(f=new mt("portal:delete-item-failed",a.error.message,a.error)),i.push({item:l,success:c,error:f})}}return i}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let r;return r=e&&e.folders?e.folders.map(i=>{const s=Zo.fromJSON(i);return s.portal=this.portal,s}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(r=>{const i=dr.fromJSON(r);return i.portal=this.portal,i}):[],e})}async fetchItems(t){t??={};let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:r}=await ve(()=>import("./PortalItem-8NBch2N-.js"),__vite__mapDeps([38,1]),import.meta.url),i={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},s=await this.portal.request(e,{query:i});let n;return s?.items?(n=s.items.map(o=>{const a=r.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(n.map(o=>o.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new dr({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new mt("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const r=this.userContentUrl,i=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(r+`/items/${t.id}/restore`,{method:"post",query:i})}toJSON(){throw new mt("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new mw({sourceJSON:t});return e.read(t),e}};g([A()],Ct.prototype,"access",void 0),g([A({type:Date})],Ct.prototype,"created",void 0),g([A()],Ct.prototype,"culture",void 0),g([A()],Ct.prototype,"description",void 0),g([A()],Ct.prototype,"email",void 0),g([A()],Ct.prototype,"favGroupId",void 0),g([A()],Ct.prototype,"fullName",void 0),g([A()],Ct.prototype,"id",void 0),g([A({type:Date})],Ct.prototype,"modified",void 0),g([A()],Ct.prototype,"orgId",void 0),g([A()],Ct.prototype,"portal",void 0),g([A()],Ct.prototype,"preferredView",void 0),g([A()],Ct.prototype,"privileges",void 0),g([A()],Ct.prototype,"region",void 0),g([A()],Ct.prototype,"role",void 0),g([A()],Ct.prototype,"roleId",void 0),g([A()],Ct.prototype,"sourceJSON",void 0),g([A()],Ct.prototype,"thumbnail",void 0),g([A({readOnly:!0})],Ct.prototype,"thumbnailUrl",null),g([A()],Ct.prototype,"units",void 0),g([A({readOnly:!0})],Ct.prototype,"userContentUrl",null),g([A({readOnly:!0})],Ct.prototype,"url",null),g([A()],Ct.prototype,"username",void 0),g([A()],Ct.prototype,"userLicenseTypeId",void 0),g([A()],Ct.prototype,"userType",void 0),Ct=mw=g([ie("esri.portal.PortalUser")],Ct);var Ms;let Df;const Z4={PortalGroup:()=>Promise.resolve({default:dr}),PortalItem:()=>ve(()=>import("./PortalItem-8NBch2N-.js"),__vite__mapDeps([38,1]),import.meta.url),PortalUser:()=>Promise.resolve({default:Ct})};let de=class extends tt.JSONSupportMixin(fd){static{Ms=this}static{this.AUTH_MODE_ANONYMOUS="anonymous"}static{this.AUTH_MODE_AUTO="auto"}static{this.AUTH_MODE_IMMEDIATE="immediate"}static{this.AUTH_MODE_NO_PROMPT="no-prompt"}constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=_t.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){X4.unregister(this),this.defaultBasemap=Yy(this.defaultBasemap),this.defaultDevBasemap=Yy(this.defaultDevBasemap),this.defaultVectorBasemap=Yy(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=cm(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const r of e)_t.request.trustedServers.includes(r)||_t.request.trustedServers.push(r);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,r=!e||this.canSearchPublic;return this.id&&!r?` AND orgid:${this.id}`:null}get hasAPIKey(){return $B(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const r=e.indexOf("/sharing");e=r>0?e.slice(0,r):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,r=this.thumbnail;return e&&r?this._normalizeSSL(e+"/portals/self/resources/"+r):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let r=null;return e&&(r=Ct.fromJSON(e),r.portal=this),r}load(e){const r=ve(()=>import("./Basemap-DJMnN-9O.js").then(i=>i.B),__vite__mapDeps([39,1,40,41,38,3,42]),import.meta.url).then(({default:i})=>{fp(e),Df=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{if(!this.hasAPIKey&&Jt){const s=Jt;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==Ms.AUTH_MODE_AUTO&&this.authMode!==Ms.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=s.on("credential-create",bW(new WeakRef(this))),X4.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(r),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),r=(await ve(async()=>{const{default:i}=await import("./ElevationLayer-CP7Qj7PQ.js");return{default:i}},__vite__mapDeps([43,1,44,45,46,47,48,49,50,51,52,53,13,14,31,54,55,56,57,58,59,41,38,60,61,62,63,10,3]),import.meta.url)).default;return e?e.map(i=>new r({id:i.id,url:i.url})):[]}async fetchBasemaps(e,r){const i=await this._fetchBasemaps(e,r);if(r?.include3d===!0&&this.use3dBasemaps!==!1){const s=await this._fetchBasemaps3D(e,r);i.unshift(...s)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const r=new Sr;r.query=this.default3DBasemapQuery,r.disableExtraQuery=!0;const i=(await this.queryItems(r,e)).results.find(s=>s.type==="Web Scene");return i?new Df({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(r=>r.categorySchema):El(e)?Promise.reject(Es()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(r=>r.classificationSchema):null}fetchFeaturedGroups(e){const r=this.featuredGroups,i=new Sr({num:100,sortField:"title"});if(r?.length){const s=[];for(const n of r)s.push(`(title:"${n.title}" AND owner:${n.owner})`);return i.query=s.join(" OR "),this.queryGroups(i,e).then(n=>n.results)}return El(e)?Promise.reject(Es()):Promise.resolve([])}fetchRegions(e){const r=this.user?.culture||this.culture||Nd();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:r}})}fetchSettings(e){const r=this.user?.culture||this.culture||Nd();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:r}})}static getDefault(){return gW(()=>new Ms)}queryGroups(e,r){return this.queryPortal("/community/groups",e,"PortalGroup",r)}queryItems(e,r){return this.queryPortal("/search",e,"PortalItem",r)}queryUsers(e,r){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",r)}fetchSelf(e=this.authMode,r=!1,i){const s=this.restUrl+"/portals/self",n={authMode:e,query:{culture:Nd().toLowerCase()},withCredentials:!0,...i};return n.authMode==="auto"&&(n.authMode="no-prompt"),r&&(n.query.default=!0),this.request(s,n)}queryPortal(e,r,i,s){const n=jn(Sr,r),o=a=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...s}).then(l=>{const c=n.clone();return c.start=l.nextStart,new dc({nextQueryParams:c,queryParams:n,total:l.total,results:Ms._resultsToTypedArray(a,{portal:this},l,s)})}).then(l=>Promise.all(l.results.map(c=>typeof c.when=="function"?c.when():l)).then(()=>l,c=>(rU(c),l)));return i&&Z4[i]?Z4[i]().then(({default:a})=>(fp(s),o(a))):o()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new mt("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===Ms.AUTH_MODE_ANONYMOUS||this.authMode===Ms.AUTH_MODE_NO_PROMPT&&!Jt)return Promise.reject(new mt("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=r=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(r||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=r,this.fetchSelf("immediate"))):this.user&&this.credential===r?null:(this.credential=r,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return Jt?Jt.getCredential(this.restUrl,{prompt:this.authMode!==Ms.AUTH_MODE_NO_PROMPT}).then(r=>e(r)):e(this.credential)}normalizeUrl(e){const r=this.credential?.token;return this._normalizeSSL(r?e+(e.includes("?")?"&":"?")+"token="+r:e)}requestToTypedArray(e,r,i){return this.request(e,r).then(s=>{const n=Ms._resultsToTypedArray(i,{portal:this},s);return Promise.all(n.map(o=>typeof o.when=="function"?o.when():s)).then(()=>n,()=>n)})}request(e,r={}){const i={f:"json",...r.query},{authMode:s=this.authMode===Ms.AUTH_MODE_ANONYMOUS||this.authMode===Ms.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:n=null,cacheBust:o=!1,method:a="auto",responseType:l="json",signal:c}=r,f={authMode:s,body:n,cacheBust:o,method:a,query:i,responseType:l,timeout:0,signal:c};return r.withCredentials&&(f.withCredentials=!0),Fr(this._normalizeSSL(e),f).then(d=>d.data)}toJSON(){throw new mt("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Ms({sourceJSON:e})}_getHelperService(e){const r=this.helperServices&&this.helperServices[e];if(!r)throw new mt("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return r}async _fetchBasemaps(e,r){const i=new Sr;i.query=e||(KT()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const s=await this.queryGroups(i,r);if(!s.total)return[];const n=s.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=n.sortField||"name",i.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(i,r);return o.total?o.results.filter(a=>a.type==="Web Map").map(a=>new Df({portalItem:a})):[]}async _fetchBasemaps3D(e,r){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];if(KT())return[];const s=new Sr({query:i,disableExtraQuery:!0}),n=await this.queryGroups(s,r);if(!n.total)return[];const o=n.results[0];s.num=100,s.query='type:"Web Scene"',s.sortField=o.sortField||"name",s.sortOrder=o.sortOrder||"desc";const a=await o.queryItems(s,r);return a.total?a.results.filter(l=>l.type==="Web Scene").map(l=>new Df({portalItem:l})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const r=Df.fromJSON(e);return r.portalItem={portal:this},r}return null}static _resultsToTypedArray(e,r,i,s){let n;if(i){const o=s!=null?s.signal:null;n=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||r)&&(n=n.map(a=>{const l=Object.assign(e?e.fromJSON(a):a,r);return typeof l.load=="function"&&l.load(o),l}))}else n=[];return n}};g([A()],de.prototype,"access",void 0),g([A()],de.prototype,"allSSL",void 0),g([A()],de.prototype,"authMode",void 0),g([A()],de.prototype,"authorizedCrossOriginDomains",void 0),g([ni("authorizedCrossOriginDomains")],de.prototype,"readAuthorizedCrossOriginDomains",null),g([A()],de.prototype,"basemapGalleryGroupQuery",void 0),g([A({json:{name:"3DBasemapGalleryGroupQuery"}})],de.prototype,"basemapGalleryGroupQuery3D",void 0),g([A()],de.prototype,"bingKey",void 0),g([A()],de.prototype,"canListApps",void 0),g([A()],de.prototype,"canListData",void 0),g([A()],de.prototype,"canListPreProvisionedItems",void 0),g([A()],de.prototype,"canProvisionDirectPurchase",void 0),g([A()],de.prototype,"canSearchPublic",void 0),g([A()],de.prototype,"canShareBingPublic",void 0),g([A()],de.prototype,"canSharePublic",void 0),g([A()],de.prototype,"canSignInArcGIS",void 0),g([A()],de.prototype,"canSignInIDP",void 0),g([A()],de.prototype,"colorSetsGroupQuery",void 0),g([A()],de.prototype,"commentsEnabled",void 0),g([A({type:Date})],de.prototype,"created",void 0),g([A()],de.prototype,"credential",void 0),g([A()],de.prototype,"culture",void 0),g([A()],de.prototype,"currentVersion",void 0),g([A()],de.prototype,"customBaseUrl",void 0),g([A()],de.prototype,"default3DBasemapQuery",void 0),g([A()],de.prototype,"defaultBasemap",void 0),g([ni("defaultBasemap")],de.prototype,"readDefaultBasemap",null),g([A()],de.prototype,"defaultDevBasemap",void 0),g([ni("defaultDevBasemap")],de.prototype,"readDefaultDevBasemap",null),g([A({type:Et})],de.prototype,"defaultExtent",void 0),g([A()],de.prototype,"defaultVectorBasemap",void 0),g([ni("defaultVectorBasemap")],de.prototype,"readDefaultVectorBasemap",null),g([A()],de.prototype,"description",void 0),g([A()],de.prototype,"devBasemapGalleryGroupQuery",void 0),g([A()],de.prototype,"eueiEnabled",void 0),g([A({readOnly:!0})],de.prototype,"extraQuery",null),g([A()],de.prototype,"featuredGroups",void 0),g([A()],de.prototype,"featuredItemsGroupQuery",void 0),g([A()],de.prototype,"galleryTemplatesGroupQuery",void 0),g([A()],de.prototype,"layoutGroupQuery",void 0),g([A()],de.prototype,"livingAtlasGroupQuery",void 0),g([A({readOnly:!0})],de.prototype,"hasAPIKey",null),g([A()],de.prototype,"hasCategorySchema",void 0),g([A()],de.prototype,"hasClassificationSchema",void 0),g([A()],de.prototype,"helpBase",void 0),g([A()],de.prototype,"helperServices",void 0),g([A()],de.prototype,"helpMap",void 0),g([A()],de.prototype,"homePageFeaturedContent",void 0),g([A()],de.prototype,"homePageFeaturedContentCount",void 0),g([A()],de.prototype,"httpPort",void 0),g([A()],de.prototype,"httpsPort",void 0),g([A()],de.prototype,"id",void 0),g([A()],de.prototype,"ipCntryCode",void 0),g([A({readOnly:!0})],de.prototype,"isOrganization",null),g([A()],de.prototype,"isPortal",void 0),g([A()],de.prototype,"isReadOnly",void 0),g([A({readOnly:!0})],de.prototype,"itemPageUrl",null),g([A()],de.prototype,"layerTemplatesGroupQuery",void 0),g([A()],de.prototype,"maxTokenExpirationMinutes",void 0),g([A({type:Date})],de.prototype,"modified",void 0),g([A()],de.prototype,"name",void 0),g([A()],de.prototype,"portalHostname",void 0),g([A()],de.prototype,"portalMode",void 0),g([A()],de.prototype,"portalProperties",void 0),g([A()],de.prototype,"region",void 0),g([A()],de.prototype,"recycleBinEnabled",void 0),g([A({readOnly:!0})],de.prototype,"restUrl",null),g([A()],de.prototype,"rotatorPanels",void 0),g([A()],de.prototype,"showHomePageDescription",void 0),g([A()],de.prototype,"sourceJSON",void 0),g([A()],de.prototype,"staticImagesUrl",void 0),g([A({json:{name:"2DStylesGroupQuery"}})],de.prototype,"stylesGroupQuery2d",void 0),g([A({json:{name:"stylesGroupQuery"}})],de.prototype,"stylesGroupQuery3d",void 0),g([A()],de.prototype,"supportsHostedServices",void 0),g([A()],de.prototype,"symbolSetsGroupQuery",void 0),g([A()],de.prototype,"templatesGroupQuery",void 0),g([A()],de.prototype,"thumbnail",void 0),g([A({readOnly:!0})],de.prototype,"thumbnailUrl",null),g([A()],de.prototype,"units",void 0),g([A()],de.prototype,"url",void 0),g([A()],de.prototype,"urlKey",void 0),g([ni("urlKey")],de.prototype,"readUrlKey",null),g([A()],de.prototype,"user",void 0),g([ni("user")],de.prototype,"readUser",null),g([A()],de.prototype,"use3dBasemaps",void 0),g([A()],de.prototype,"useDefault3dBasemap",void 0),g([A()],de.prototype,"useStandardizedQuery",void 0),g([A()],de.prototype,"useVectorBasemaps",void 0),g([A()],de.prototype,"vectorBasemapGalleryGroupQuery",void 0),de=Ms=g([ie("esri.portal.Portal")],de);const X4=new FinalizationRegistry(t=>{t.remove()});function bW(t){const e=Jt;return()=>{const r=t.deref();r&&e.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let Wi=class extends tt{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,r,i){e||(r[i]=e)}};g([A({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Wi.prototype,"enabled",void 0),g([Kt("enabled")],Wi.prototype,"writeEnabled",null),g([A({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Wi.prototype,"type",void 0),Wi=g([ie("esri.symbols.Symbol3DLayer")],Wi);const _W=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,wW="screenUtils.toPt: input not recognized!",mP=96;function S_e(t){return t?t/72*mP:0}function $o(t){return t?72*t/mP:0}function ir(t){if(typeof t=="string"){const e=t.match(_W);if(e){const r=Number(e[1]),i=e[3]&&e[3].toLowerCase(),s=t.charAt(0)==="-",n=i==="px"?$o(r):r;return s?-n:n}return console.warn(wW),null}return t}function xW(t=0,e=0){return{x:t,y:e}}function A_e(t){return t?xW(t.x,t.y):null}function T_e(t=0,e=0){return[t,e]}function M_e(t=0,e=0,r=0){return[t,e,r]}function $_e(t){return t}function O_e(t){return t}function I_e(t){return t}function C_e(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function EW(t){const e=wE(100*(1-t));return Math.max(0,Math.min(e,100))}function SW(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}function AW(t,e){const r=e.transparency!=null?SW(e.transparency):1,i=e.color;return i&&Array.isArray(i)?new wt([i[0]||0,i[1]||0,i[2]||0,r]):null}function TW(t,e){e.color=t.toJSON().slice(0,3);const r=EW(t.a);r!==0&&(e.transparency=r)}function Ll(t){return{type:wt,nonNullable:t?.nonNullable,json:{type:[Dr],default:null,read:{source:["color","transparency"],reader:AW},write:{target:{color:{type:[Dr],isRequired:t?.colorRequiredOnWrite},transparency:{type:Dr}},writer:TW}}}}const Oo={type:Number,cast:ir,json:{write:!0}};var _g;function N_e(t){return t==="emissive"?_g.Emissive:_g.Color}(function(t){t[t.Emissive=0]="Emissive",t[t.Color=1]="Color"})(_g||(_g={}));let pc=class extends tt{constructor(e){super(e),this.color=new wt([0,0,0,1]),this.extensionLength=0,this.size=$o(1)}clone(){}cloneProperties(){return{color:ge(this.color),size:this.size,extensionLength:this.extensionLength}}};g([A({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],pc.prototype,"type",void 0),g([A(Ll({colorRequiredOnWrite:!0}))],pc.prototype,"color",void 0),g([A({...Oo,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],pc.prototype,"extensionLength",void 0),g([A(Oo)],pc.prototype,"size",void 0),pc=g([ie("esri.symbols.edges.Edges3D")],pc);const hS=pc;var yw;let p0=yw=class extends hS{constructor(t){super(t),this.type="sketch"}clone(){return new yw(this.cloneProperties())}};g([at({sketch:"sketch"},{readOnly:!0})],p0.prototype,"type",void 0),p0=yw=g([ie("esri.symbols.edges.SketchEdges3D")],p0);const MW=p0;var gw;let m0=gw=class extends hS{constructor(t){super(t),this.type="solid"}clone(){return new gw(this.cloneProperties())}};g([at({solid:"solid"},{readOnly:!0})],m0.prototype,"type",void 0),m0=gw=g([ie("esri.symbols.edges.SolidEdges3D")],m0);const yP=m0,gP={types:{key:"type",base:hS,typeMap:{solid:yP,sketch:MW}},json:{write:!0}};var vw;let Yu=vw=class extends tt{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const t={strength:this.strength,source:this.source};return new vw(t)}};g([A({json:{write:!1}})],Yu.prototype,"strength",void 0),g([A({json:{write:!1}})],Yu.prototype,"source",void 0),Yu=vw=g([ie("esri.symbols.support.Symbol3DEmissive")],Yu);var bw;let Ns=bw=class extends tt{constructor(t){super(t),this.color=null,this.emissive=new Yu({source:"emissive"})}clone(){const t={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new bw(t)}};g([A(Ll())],Ns.prototype,"color",void 0),g([A({type:Yu,json:{write:!1}})],Ns.prototype,"emissive",void 0),Ns=bw=g([ie("esri.symbols.support.Symbol3DMaterial")],Ns);var _w;let ea=class extends Wi{static{_w=this}constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new _w({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};g([at({Extrude:"extrude"},{readOnly:!0})],ea.prototype,"type",void 0),g([A({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],ea.prototype,"size",void 0),g([A({type:Ns,json:{write:!0}})],ea.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ea.prototype,"castShadows",void 0),g([A(gP)],ea.prototype,"edges",void 0),ea=_w=g([ie("esri.symbols.ExtrudeSymbol3DLayer")],ea);let Pd=class extends tt{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Pd.prototype,"type",void 0),Pd=g([ie("esri.symbols.patterns.LinePattern3D")],Pd);const $W=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var ww;const OW=Wn()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Ac=ww=class extends Pd{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new ww(t)}};g([A({type:["style"],json:{write:{isRequired:!0}}})],Ac.prototype,"type",void 0),g([at(OW),A({type:$W,json:{write:{isRequired:!0}}})],Ac.prototype,"style",void 0),Ac=ww=g([ie("esri.symbols.patterns.LineStylePattern3D")],Ac);let Ld=class extends tt{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ld.prototype,"type",void 0),Ld=g([ie("esri.symbols.patterns.Pattern3D")],Ld);const IW=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var xw;let Ju=xw=class extends Ld{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new xw({style:this.style})}};g([A({type:["style"],json:{write:{isRequired:!0}}})],Ju.prototype,"type",void 0),g([A({type:IW,json:{read:!0,write:{isRequired:!0}}})],Ju.prototype,"style",void 0),Ju=xw=g([ie("esri.symbols.patterns.StylePattern3D")],Ju);const CW={types:{key:"type",base:Ld,typeMap:{style:Ju}},json:{write:!0}},vP={types:{key:"type",base:Pd,typeMap:{style:Ac}},json:{write:!0}},Rd=new wt("white"),NW=new wt([255,255,255,0]);function PW(t){return t.r===0&&t.g===0&&t.b===0}var Ew;let kd=Ew=class extends Ns{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new Ew(t)}};g([at({multiply:"multiply",replace:"replace",tint:"tint"})],kd.prototype,"colorMixMode",void 0),kd=Ew=g([ie("esri.symbols.support.Symbol3DFillMaterial")],kd);function fS(){return[0,0,0]}function LW(t){return[t[0],t[1],t[2]]}function bf(t,e,r){return[t,e,r]}function RW(t,e,r){return[t,e,r]}function kW(t,e=fS()){const r=Math.min(3,t.length);for(let i=0;i<r;++i)e[i]=t[i];return e}function bP(){return fS()}function _P(){return bf(1,1,1)}function wP(){return bf(1,0,0)}function xP(){return bf(0,1,0)}function EP(){return bf(0,0,1)}const DW=bP(),FW=_P(),UW=wP(),jW=xP(),BW=EP();Object.freeze(Object.defineProperty({__proto__:null,ONES:FW,UNIT_X:UW,UNIT_Y:jW,UNIT_Z:BW,ZEROS:DW,clone:LW,create:fS,freeze:RW,fromArray:kW,fromValues:bf,ones:_P,unitX:wP,unitY:xP,unitZ:EP,zeros:bP},Symbol.toStringTag,{value:"Module"}));function VW(t,e=!1){return t<=tC?e?new Array(t).fill(0):new Array(t):new Float64Array(t)}function D_e(t){return(AF(t)?t.byteLength/8:t.length)<=tC?Array.from(t):new Float64Array(t)}function F_e(t,e,r){return Array.isArray(t)?t.slice(e,e+r):t.subarray(e,e+r)}function xm(t=HW){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function dS(t,e,r,i,s,n,o=xm()){return o[0]=t,o[1]=e,o[2]=r,o[3]=i,o[4]=s,o[5]=n,o}function U_e(t,e=xm()){return GW(t,0,t.length/3,e)}function GW(t,e,r,i=xm()){return SP(i,Sw),zW(i,t,e,r),i}function j_e(t,e=VW(24)){const[r,i,s,n,o,a]=t;return e[0]=r,e[1]=i,e[2]=s,e[3]=r,e[4]=i,e[5]=a,e[6]=r,e[7]=o,e[8]=s,e[9]=r,e[10]=o,e[11]=a,e[12]=n,e[13]=i,e[14]=s,e[15]=n,e[16]=i,e[17]=a,e[18]=n,e[19]=o,e[20]=s,e[21]=n,e[22]=o,e[23]=a,e}function B_e(t,e){const r=isFinite(t[2])||isFinite(t[5]);return new Et(r?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function V_e(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function G_e(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function z_e(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function zW(t,e,r=0,i=e.length/3){let s=t[0],n=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let f=0;f<i;f++)s=Math.min(s,e[r+3*f]),n=Math.min(n,e[r+3*f+1]),o=Math.min(o,e[r+3*f+2]),a=Math.max(a,e[r+3*f]),l=Math.max(l,e[r+3*f+1]),c=Math.max(c,e[r+3*f+2]);t[0]=s,t[1]=n,t[2]=o,t[3]=a,t[4]=l,t[5]=c}function q_e(t,e,r){const i=e.length;let s=t[0],n=t[1],o=t[2],a=t[3],l=t[4],c=t[5];if(r)for(let f=0;f<i;f++){const d=e[f];s=Math.min(s,d[0]),n=Math.min(n,d[1]),o=Math.min(o,d[2]),a=Math.max(a,d[0]),l=Math.max(l,d[1]),c=Math.max(c,d[2])}else for(let f=0;f<i;f++){const d=e[f];s=Math.min(s,d[0]),n=Math.min(n,d[1]),a=Math.max(a,d[0]),l=Math.max(l,d[1])}t[0]=s,t[1]=n,t[2]=o,t[3]=a,t[4]=l,t[5]=c}function H_e(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function Em(t){return t[0]>=t[3]?0:t[3]-t[0]}function Sm(t){return t[1]>=t[4]?0:t[4]-t[1]}function Am(t){return t[2]>=t[5]?0:t[5]-t[2]}function W_e(t){const e=Em(t),r=Am(t),i=Sm(t);return Math.sqrt(e*e+r*r+i*i)}function Y_e(t,e=[0,0,0]){return e[0]=t[0]+Em(t)/2,e[1]=t[1]+Sm(t)/2,e[2]=t[2]+Am(t)/2,e}function J_e(t,e=[0,0,0]){return e[0]=Em(t),e[1]=Sm(t),e[2]=Am(t),e}function K_e(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function qW(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function Z_e(t,e){return e==null||qW(t,e)}function X_e(t,e,r,i,s=t){return s[0]=t[0]+e,s[1]=t[1]+r,s[2]=t[2]+i,s[3]=t[3]+e,s[4]=t[4]+r,s[5]=t[5]+i,s}function Q_e(t,e,r=t){const i=t[0]+Em(t)/2,s=t[1]+Sm(t)/2,n=t[2]+Am(t)/2;return r[0]=i+(t[0]-i)*e,r[1]=s+(t[1]-s)*e,r[2]=n+(t[2]-n)*e,r[3]=i+(t[3]-i)*e,r[4]=s+(t[4]-s)*e,r[5]=n+(t[5]-n)*e,r}function e2e(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function t2e(t,e,r=t){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r!==t&&(r[3]=t[3],r[4]=t[4],r[5]=t[5]),r}function r2e(t,e,r=t){return r[3]=e[0],r[4]=e[1],r[5]=e[2],r!==t&&(r[0]=t[0],r[1]=t[1],r[2]=t[2]),t}function SP(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function i2e(t){return t?SP(t,Sw):xm(Sw)}function s2e(t,e){return e||(e=pf()),e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function n2e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function o2e(t,e,r,i,s){return t[0]=e,t[1]=r,t[2]=Number.NEGATIVE_INFINITY,t[3]=i,t[4]=s,t[5]=Number.POSITIVE_INFINITY,t}function Q4(t){return t.length===6}function a2e(t){return Em(t)===0&&Sm(t)===0&&Am(t)===0}function l2e(t,e,r){if(t==null||e==null)return t===e;if(!Q4(t)||!Q4(e))return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}const Sw=[1/0,1/0,1/0,-1/0,-1/0,-1/0],HW=[0,0,0,0,0,0];xm();function c2e(t,{isPrimitive:e,width:r,depth:i,height:s}){const n=e?10:1;if(r==null&&s==null&&i==null)return[n*t[0],n*t[1],n*t[2]];const o=bf(r,i,s);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/t[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=t[l]*a);return o}const WW=dS(-.5,-.5,-.5,.5,.5,.5),YW=dS(-.5,-.5,0,.5,.5,1),JW=dS(-.5,-.5,0,.5,.5,.5);function u2e(t){switch(t){case"sphere":case"cube":case"diamond":return WW;case"cylinder":case"cone":case"inverted-cone":return YW;case"tetrahedron":return JW;default:return}}const pS=["butt","square","round"],KW=[...pS,"none"],AP=["miter","bevel","round"];var Aw;let mc=Aw=class extends tt{constructor(t){super(t),this.color=new wt([0,0,0,1]),this.size=$o(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Aw(t)}};g([A(Ll({colorRequiredOnWrite:!0}))],mc.prototype,"color",void 0),g([A({...Oo,json:{write:{isRequired:!0}}})],mc.prototype,"size",void 0),g([A(vP)],mc.prototype,"pattern",void 0),g([A({type:pS,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],mc.prototype,"patternCap",void 0),mc=Aw=g([ie("esri.symbols.support.Symbol3DOutline")],mc);var y0;let Gi=class extends Wi{static{y0=this}constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new y0(e)}static fromSimpleFillSymbol(e){const r=e.outline&&e.outline.style&&e.outline.style!=="solid"?new Ac({style:e.outline.style}):null,i={size:e.outline?.width??0,color:(e.outline?.color??Rd).clone(),pattern:r};return r&&e.outline?.cap&&(i.patternCap=e.outline.cap),new y0({material:new kd({color:(e.color??NW).clone()}),pattern:e.style&&e.style!=="solid"?new Ju({style:e.style}):null,outline:i})}};g([at({Fill:"fill"},{readOnly:!0})],Gi.prototype,"type",void 0),g([A({type:kd,json:{write:!0}})],Gi.prototype,"material",void 0),g([A(CW)],Gi.prototype,"pattern",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Gi.prototype,"castShadows",void 0),g([A({type:mc,json:{write:!0}})],Gi.prototype,"outline",void 0),g([A(gP)],Gi.prototype,"edges",void 0),Gi=y0=g([ie("esri.symbols.FillSymbol3DLayer")],Gi);var Tw;const ZW=Wn()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let yc=Tw=class extends tt{constructor(t){super(t)}readHref(t,e,r){return t?pm(t,r):e.dataURI}writeHref(t,e,r,i){t&&(ff(t)?e.dataURI=t:(e.href=Qv(t,i),Ln(e.href)&&(e.href=ml(e.href))))}clone(){return new Tw({href:this.href,primitive:this.primitive})}};g([A({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],yc.prototype,"href",void 0),g([ni("href")],yc.prototype,"readHref",null),g([Kt("href",{href:{type:String},dataURI:{type:String}})],yc.prototype,"writeHref",null),g([at(ZW)],yc.prototype,"primitive",void 0),yc=Tw=g([ie("esri.symbols.support.IconSymbol3DLayerResource")],yc);const f2e="circle";var Mw;let Ku=Mw=class extends oi{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new Mw({x:this.x,y:this.y})}};g([A({type:Number})],Ku.prototype,"x",void 0),g([A({type:Number})],Ku.prototype,"y",void 0),Ku=Mw=g([ie("esri.symbols.support.Symbol3DAnchorPosition2D")],Ku);var $w;let dd=$w=class extends tt{constructor(t){super(t),this.color=new wt([0,0,0,1]),this.size=$o(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new $w(t)}};g([A(Ll({colorRequiredOnWrite:!0}))],dd.prototype,"color",void 0),g([A({...Oo,json:{write:{isRequired:!0}}})],dd.prototype,"size",void 0),dd=$w=g([ie("esri.symbols.support.Symbol3DIconOutline")],dd);var Du;let di=class extends Wi{static{Du=this}constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Du({anchor:this.anchor,anchorPosition:ge(this.anchorPosition),enabled:this.enabled,material:ge(this.material),outline:ge(this.outline),resource:ge(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const r=e.color||Rd,i=eM(e),s=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Rd).clone()}:null;return new Du({size:e.size,angle:e.angle,resource:{primitive:QW(()=>rr.getLogger(this.prototype),e.style)},material:{color:r},outline:s,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const r=!e.color||PW(e.color)?Rd:e.color,i=eM(e);return new Du({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:r.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new Du({resource:{href:_5({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function eM(t){const e="width"in t?t.width:t.size,r="height"in t?t.height:t.size,i=tM(t.xoffset),s=tM(t.yoffset);return(i||s)&&e&&r?{x:-i/e,y:s/r}:null}function tM(t){return isFinite(t)?t:0}g([A({type:Ns,json:{write:!0}})],di.prototype,"material",void 0),g([A({type:yc,json:{write:!0}})],di.prototype,"resource",void 0),g([at({Icon:"icon"},{readOnly:!0})],di.prototype,"type",void 0),g([A({...Oo,json:{write:{isRequired:!0}}})],di.prototype,"size",void 0),g([at({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],di.prototype,"anchor",void 0),g([A({type:Ku,json:{type:[Number],read:{reader:t=>new Ku({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],di.prototype,"anchorPosition",void 0),g([A({type:dd,json:{write:!0}})],di.prototype,"outline",void 0),g([A({type:Number,json:{write:!0,default:0}})],di.prototype,"angle",void 0),di=Du=g([ie("esri.symbols.IconSymbol3DLayer")],di);const XW={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function QW(t,e){return XW[e]||(t().warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const eY=["begin","end","begin-end"],TP=["arrow","circle","square","diamond","cross","x"];let oa=class extends ko.ClonableMixin(tt){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],oa.prototype,"type",void 0),g([A({type:eY,json:{default:"begin-end",write:!0}})],oa.prototype,"placement",void 0),g([A({type:TP,json:{default:"arrow",write:!0}})],oa.prototype,"style",void 0),g([A({type:wt,json:{type:[Dr],default:null,write:!0}})],oa.prototype,"color",void 0),oa=g([ie("esri.symbols.LineStyleMarker3D")],oa);var g0;let ji=class extends Wi{static{g0=this}constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=$o(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new g0(e)}static fromSimpleLineSymbol(e){const r={enabled:!0,size:e.width??$o(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new Ac({style:e.style}):null,material:new Ns({color:(e.color||Rd).clone()}),marker:e.marker?new oa({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new g0(r)}};g([A({type:Ns,json:{write:!0}})],ji.prototype,"material",void 0),g([at({Line:"line"},{readOnly:!0})],ji.prototype,"type",void 0),g([A({type:AP,json:{write:!0,default:"miter"}})],ji.prototype,"join",void 0),g([A({type:pS,json:{write:!0,default:"butt"}})],ji.prototype,"cap",void 0),g([A({...Oo,json:{write:{isRequired:!0}}})],ji.prototype,"size",void 0),g([A(vP)],ji.prototype,"pattern",void 0),g([A({types:{key:"type",base:oa,typeMap:{style:oa}},json:{write:!0}})],ji.prototype,"marker",void 0),ji=g0=g([ie("esri.symbols.LineSymbol3DLayer")],ji);var Ow;const tY=Wn()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let pd=Ow=class extends tt{clone(){return new Ow({href:this.href,primitive:this.primitive})}};g([A({type:String,json:{read:GE,write:Ih}})],pd.prototype,"href",void 0),g([at(tY)],pd.prototype,"primitive",void 0),pd=Ow=g([ie("esri.symbols.support.ObjectSymbol3DLayerResource")],pd);const y2e="sphere";var Iw;let xc=Iw=class extends oi{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new Iw({x:this.x,y:this.y,z:this.z})}};g([A({type:Number})],xc.prototype,"x",void 0),g([A({type:Number})],xc.prototype,"y",void 0),g([A({type:Number})],xc.prototype,"z",void 0),xc=Iw=g([ie("esri.symbols.support.Symbol3DAnchorPosition3D")],xc);var Cw;let ii=class extends Wi{static{Cw=this}constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new Cw({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};g([A({type:Ns,json:{write:!0}})],ii.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ii.prototype,"castShadows",void 0),g([A({type:pd,json:{write:!0}})],ii.prototype,"resource",void 0),g([at({Object:"object"},{readOnly:!0})],ii.prototype,"type",void 0),g([A({type:Number,json:{write:!0}})],ii.prototype,"width",void 0),g([A({type:Number,json:{write:!0}})],ii.prototype,"height",void 0),g([A({type:Number,json:{write:!0}})],ii.prototype,"depth",void 0),g([at({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],ii.prototype,"anchor",void 0),g([A({type:xc,json:{type:[Number],read:{reader:t=>new xc({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ii.prototype,"anchorPosition",void 0),g([A({type:Number,json:{write:!0}})],ii.prototype,"heading",void 0),g([A({type:Number,json:{write:!0}})],ii.prototype,"tilt",void 0),g([A({type:Number,json:{write:!0}})],ii.prototype,"roll",void 0),g([A({readOnly:!0})],ii.prototype,"isPrimitive",null),ii=Cw=g([ie("esri.symbols.ObjectSymbol3DLayer")],ii);var Nw;let ui=class extends Wi{static{Nw=this}constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,r){return e??(r.height==null&&r.size!=null?r.size:void 0)}readHeight(e,r){return e??(r.width==null&&r.size!=null?r.size:void 0)}clone(){return new Nw({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};g([A({type:Ns,json:{write:!0}})],ui.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ui.prototype,"castShadows",void 0),g([at({Path:"path"},{readOnly:!0})],ui.prototype,"type",void 0),g([A({type:["circle","quad"],json:{write:!0,default:"circle"}})],ui.prototype,"profile",void 0),g([A({type:AP,json:{write:!0,default:"miter"}})],ui.prototype,"join",void 0),g([A({type:KW,json:{write:!0,default:"butt"}})],ui.prototype,"cap",void 0),g([A({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],ui.prototype,"width",void 0),g([ni("width",["width","size","height"])],ui.prototype,"readWidth",null),g([A({type:Number,json:{write:!0}})],ui.prototype,"height",void 0),g([ni("height",["height","size","width"])],ui.prototype,"readHeight",null),g([A({type:["center","bottom","top"],json:{write:!0,default:"center"}})],ui.prototype,"anchor",void 0),g([A({type:["heading","all"],json:{write:!0,default:"all"}})],ui.prototype,"profileRotation",void 0),ui=Nw=g([ie("esri.symbols.PathSymbol3DLayer")],ui);const rY=["none","underline","line-through"],iY=["normal","italic","oblique"],sY=["normal","lighter","bold","bolder"],MP={type:Number,cast:t=>{const e=Gv(t);return e===0?1:Uv(e,.1,4)},nonNullable:!0},nY=["left","right","center"],oY=["baseline","top","middle","bottom"],$P={type:nY,nonNullable:!0},OP={type:oY,nonNullable:!0},b2e=8;var Pw;let Ks=Pw=class extends tt{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return ir(t)}clone(){return new Pw({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};g([A({type:rY,json:{default:"none",write:!0}})],Ks.prototype,"decoration",void 0),g([A({type:String,json:{write:!0}})],Ks.prototype,"family",void 0),g([A({type:Number,json:{write:{overridePolicy:(t,e,r)=>({enabled:!r||!r.textSymbol3D})}}})],Ks.prototype,"size",void 0),g([ym("size")],Ks.prototype,"castSize",null),g([A({type:iY,json:{default:"normal",write:!0}})],Ks.prototype,"style",void 0),g([A({type:sY,json:{default:"normal",write:!0}})],Ks.prototype,"weight",void 0),Ks=Pw=g([ie("esri.symbols.Font")],Ks);var Lw;let Zu=Lw=class extends tt{constructor(){super(...arguments),this.color=new wt([0,0,0,1]),this.size=0}clone(){const t={color:ge(this.color),size:this.size};return new Lw(t)}};g([A(Ll())],Zu.prototype,"color",void 0),g([A(Oo)],Zu.prototype,"size",void 0),Zu=Lw=g([ie("esri.symbols.support.Symbol3DHalo")],Zu);let Dd=class extends ko.ClonableMixin(tt){constructor(e){super(e),this.color=null}};g([A(Ll())],Dd.prototype,"color",void 0),Dd=g([ie("esri.symbols.support.Symbol3DTextBackground")],Dd);var v0;let Gr=class extends Wi{static{v0=this}constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,r,i,s){const n={...s,textSymbol3D:!0};r.font=e.write({},n),delete r.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new v0({enabled:this.enabled,font:this.font&&ge(this.font),halo:this.halo&&ge(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ge(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new v0({font:e.font!=null?e.font.clone():new Ks,halo:aY(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Ns({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Dd({color:e.backgroundColor.clone()}):null})}};function aY(t,e){return t&&e!=null&&e>0?new Zu({color:ge(t),size:e}):null}g([A({type:Ks,json:{write:!0}})],Gr.prototype,"font",null),g([Kt("font")],Gr.prototype,"writeFont",null),g([A({type:Zu,json:{write:!0}})],Gr.prototype,"halo",void 0),g([A({...$P,json:{default:"center",write:!0}})],Gr.prototype,"horizontalAlignment",void 0),g([A({...MP,json:{default:1,write:!0}})],Gr.prototype,"lineHeight",void 0),g([A({type:Ns,json:{write:!0}})],Gr.prototype,"material",void 0),g([A({type:Dd,json:{write:!0}})],Gr.prototype,"background",void 0),g([A(Oo)],Gr.prototype,"size",null),g([A({type:String,json:{write:!0}})],Gr.prototype,"text",void 0),g([at({Text:"text"},{readOnly:!0})],Gr.prototype,"type",void 0),g([A({...OP,json:{default:"baseline",write:!0}})],Gr.prototype,"verticalAlignment",void 0),Gr=v0=g([ie("esri.symbols.TextSymbol3DLayer")],Gr);var Rw;let ta=class extends Wi{static{Rw=this}constructor(e){super(e),this.color=kw.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Rw({color:ge(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};g([A({type:wt,nonNullable:!0,json:{type:[Dr],write:(t,e,r)=>e[r]=t.toArray(wt.AlphaMode.UNLESS_OPAQUE),default:()=>kw.clone(),defaultEquals:t=>t.toCss(!0)===kw.toCss(!0)}})],ta.prototype,"color",void 0),g([at({Water:"water"},{readOnly:!0})],ta.prototype,"type",void 0),g([A({type:["small","medium","large"],json:{write:!0,default:"medium"}})],ta.prototype,"waterbodySize",void 0),g([A({type:Number,json:{write:!0,default:null}})],ta.prototype,"waveDirection",void 0),g([A({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],ta.prototype,"waveStrength",void 0),ta=Rw=g([ie("esri.symbols.WaterSymbol3DLayer")],ta);const kw=new wt([0,119,190]);var Dw;let aa=Dw=class extends oi{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new Dw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};g([A({type:String})],aa.prototype,"name",void 0),g([A({type:String})],aa.prototype,"styleUrl",void 0),g([A({type:String})],aa.prototype,"styleName",void 0),g([A({type:de})],aa.prototype,"portal",void 0),aa=Dw=g([ie("esri.symbols.support.StyleOrigin")],aa);var Fw;let Fd=Fw=class extends oi{constructor(){super(...arguments),this.url=""}clone(){return new Fw({url:this.url})}};g([A({type:String})],Fd.prototype,"url",void 0),Fd=Fw=g([ie("esri.symbols.support.Thumbnail")],Fd);const IP={icon:di,object:ii,line:ji,path:ui,fill:Gi,extrude:ea,text:Gr,water:ta},lY=Mt.ofType({base:Wi,key:"type",typeMap:IP,errorContext:"symbol-layer"});let cs=class extends Mr{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=r?.type,s=i||Mt;this._set("symbolLayers",new s)}get color(){return null}set color(e){this.constructed&&rr.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){uW(e,this._get("symbolLayers"))}readStyleOrigin(e,r,i){if(e.styleUrl&&e.name){const s=pm(e.styleUrl,i);return new aa({styleUrl:s,name:e.name})}if(e.styleName&&e.name)return new aa({portal:i?.portal||de.getDefault(),styleName:e.styleName,name:e.name});i?.messages&&i.messages.push(new pp("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:e}))}writeStyleOrigin(e,r,i,s){if(e.styleUrl&&e.name){let n=Qv(e.styleUrl,s);Ln(n)&&(n=ml(n)),r.styleOrigin={styleUrl:n,name:e.name}}else e.styleName&&e.name&&(e.portal&&s?.portal&&!iB(e.portal.restUrl,s.portal.restUrl)?s?.messages&&s.messages.push(new pp("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof Wi||e&&IP[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};g([A({json:{read:!1,write:!1}})],cs.prototype,"color",null),g([A({type:lY,nonNullable:!0,json:{write:!0}}),ym(hW)],cs.prototype,"symbolLayers",null),g([A({type:aa})],cs.prototype,"styleOrigin",void 0),g([ni("styleOrigin")],cs.prototype,"readStyleOrigin",null),g([Kt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],cs.prototype,"writeStyleOrigin",null),g([A({type:Fd,json:{read:!1}})],cs.prototype,"thumbnail",void 0),g([A({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],cs.prototype,"type",void 0),cs=g([ie("esri.symbols.Symbol3D")],cs);let Xu=class extends tt{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};g([A({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],Xu.prototype,"type",void 0),g([A({readOnly:!0})],Xu.prototype,"visible",void 0),Xu=g([ie("esri.symbols.callouts.Callout3D")],Xu);var Uw;let b0=Uw=class extends tt{constructor(t){super(t),this.color=new wt("white")}clone(){return new Uw({color:ge(this.color)})}};g([A(Ll({colorRequiredOnWrite:!0}))],b0.prototype,"color",void 0),b0=Uw=g([ie("esri.symbols.callouts.LineCallout3DBorder")],b0);const cY=b0;var jw;let ra=jw=class extends Xu{constructor(t){super(t),this.type="line",this.color=new wt([0,0,0,1]),this.size=$o(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new jw({color:ge(this.color),size:this.size,border:ge(this.border)})}};g([at({line:"line"})],ra.prototype,"type",void 0),g([A(Ll({colorRequiredOnWrite:!0}))],ra.prototype,"color",void 0),g([A({...Oo,json:{write:{isRequired:!0}}})],ra.prototype,"size",void 0),g([A({type:cY,json:{write:!0}})],ra.prototype,"border",void 0),g([A({readOnly:!0})],ra.prototype,"visible",null),ra=jw=g([ie("esri.symbols.callouts.LineCallout3D")],ra);function mS(t){if(!t)return!1;const e=t.verticalOffset;return!(!e||e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function CP(t){return!t||!t.supportsCallout||!t.supportsCallout()?!1:!!t.callout?.visible&&!!mS(t)}function A2e(t){return t.type==="point-3d"||t.type==="label-3d"}function T2e(t){return t.horizontalAlignment==="center"}const NP={types:{key:"type",base:Xu,typeMap:{line:ra}},json:{write:!0}};var Bw;let ol=Bw=class extends tt{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new Bw({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};g([A({...Oo,json:{write:{isRequired:!0}}})],ol.prototype,"screenLength",void 0),g([A({type:Number,nonNullable:!0,json:{write:!0,default:0}})],ol.prototype,"minWorldLength",void 0),g([A({type:Number,json:{write:!0}})],ol.prototype,"maxWorldLength",void 0),ol=Bw=g([ie("esri.symbols.support.Symbol3DVerticalOffset")],ol);var _0;const PP=Mt.ofType({base:null,key:"type",typeMap:{text:Gr}});let En=_0=class extends cs{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new PP,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return CP(this)}hasVisibleVerticalOffset(){return mS(this)}clone(){return new _0({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail),callout:ge(this.callout),verticalOffset:ge(this.verticalOffset)})}static fromTextSymbol(t){return new _0({symbolLayers:new Mt([Gr.fromTextSymbol(t)])})}};g([A({type:ol,json:{write:!0}})],En.prototype,"verticalOffset",void 0),g([A(NP)],En.prototype,"callout",void 0),g([A({json:{read:!1,write:!1}})],En.prototype,"styleOrigin",void 0),g([A({type:PP})],En.prototype,"symbolLayers",void 0),g([at({LabelSymbol3D:"label-3d"},{readOnly:!0})],En.prototype,"type",void 0),En=_0=g([ie("esri.symbols.LabelSymbol3D")],En);var w0;const LP=Mt.ofType({base:null,key:"type",typeMap:{line:ji,path:ui}}),uY=Mt.ofType({base:null,key:"type",typeMap:{line:ji,path:ui}});let $n=w0=class extends cs{constructor(t){super(t),this.symbolLayers=new LP,this.type="line-3d"}clone(){return new w0({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleLineSymbol(t){return new w0({symbolLayers:new Mt([ji.fromSimpleLineSymbol(t)])})}};g([A({type:LP,json:{type:uY}})],$n.prototype,"symbolLayers",void 0),g([at({LineSymbol3D:"line-3d"},{readOnly:!0})],$n.prototype,"type",void 0),$n=w0=g([ie("esri.symbols.LineSymbol3D")],$n);var x0;const RP=Mt.ofType({base:null,key:"type",typeMap:{fill:Gi}});let pa=x0=class extends cs{constructor(t){super(t),this.symbolLayers=new RP,this.type="mesh-3d"}clone(){return new x0({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleFillSymbol(t){return new x0({symbolLayers:new Mt([Gi.fromSimpleFillSymbol(t)])})}};g([A({type:RP})],pa.prototype,"symbolLayers",void 0),g([at({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],pa.prototype,"type",void 0),pa=x0=g([ie("esri.symbols.MeshSymbol3D")],pa);let md=class extends Mr{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};g([at({esriSLS:"simple-line"},{readOnly:!0})],md.prototype,"type",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],md.prototype,"width",void 0),md=g([ie("esri.symbols.LineSymbol")],md);var Vw;let so=Vw=class extends tt{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,r,i){e[r]=i?.origin==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,r,i){i?.origin==="web-map"||(e[r]=t)}clone(){return new Vw({color:ge(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};g([A({type:["begin","end","begin-end"],json:{write:!0}})],so.prototype,"placement",void 0),g([at({"line-marker":"line-marker"},{readOnly:!0}),A({json:{origins:{"web-map":{write:!1}}}})],so.prototype,"type",void 0),g([A({type:TP})],so.prototype,"style",void 0),g([Kt("style")],so.prototype,"writeStyle",null),g([A({type:wt,value:null,json:{write:{allowNull:!0}}})],so.prototype,"color",null),g([ni("color")],so.prototype,"readColor",null),g([Kt("color")],so.prototype,"writeColor",null),so=Vw=g([ie("esri.symbols.LineSymbolMarker")],so);const hY=so;var Gw;const Kb=new Mo({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Hr=Gw=class extends md{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,r,i,s,n){if(t&&typeof t!="string")return t;const o={};return t!=null&&(o.style=t),e!=null&&(o.color=e),r!=null&&(o.width=ir(r)),i!=null&&(o.cap=i),s!=null&&(o.join=s),n!=null&&(o.miterLimit=ir(n)),o}clone(){return new Gw({color:ge(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};g([at({esriSLS:"simple-line"},{readOnly:!0})],Hr.prototype,"type",void 0),g([A({type:Kb.apiValues,json:{read:Kb.read,write:Kb.write}})],Hr.prototype,"style",void 0),g([A({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,r)=>({enabled:t!=="round"&&r?.origin==null})}}})],Hr.prototype,"cap",void 0),g([A({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,r)=>({enabled:t!=="round"&&r?.origin==null})}}})],Hr.prototype,"join",void 0),g([A({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":hY}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Hr.prototype,"marker",void 0),g([A({type:Number,json:{read:!1,write:!1}})],Hr.prototype,"miterLimit",void 0),Hr=Gw=g([ie("esri.symbols.SimpleLineSymbol")],Hr);let Qu=class extends Mr{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};g([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Hr}},json:{default:null,write:!0}})],Qu.prototype,"outline",void 0),g([A({type:["simple-fill","picture-fill"],readOnly:!0})],Qu.prototype,"type",void 0),Qu=g([ie("esri.symbols.FillSymbol")],Qu);function fY(t,e,r){return e.imageData?_5({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):kP(e.url,r)}function kP(t,e){if(!Ln(t)){const r=pY(e);if(r)return Xv(r,"images",t)}return pm(t,e)}function dY(t,e,r,i){if(ff(t)){const s=vp(t);if(!s)return;e.contentType=s.mediaType,e.imageData=s.data,r&&r.imageData===e.imageData&&r.url&&Ih(r.url,e,"url",i)}else Ih(t,e,"url",i)}const DP={json:{read:{source:["imageData","url"],reader:fY},write:{writer(t,e,r,i){dY(t,e,this.source,i)}}}},FP={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,r){const i={};return e.imageData&&(i.imageData=e.imageData),e.contentType&&(i.contentType=e.contentType),e.url&&(i.url=kP(e.url,r)),i}}}};function pY(t){if(!t)return null;const{origin:e,layer:r}=t;if(e!=="service"&&e!=="portal-item")return null;const i=r?.type;return i==="feature"||i==="stream"?r.parsedUrl?.path:i==="map-image"||i==="tile"?t.url?.path:null}var zw;let os=zw=class extends Qu{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,r,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const s={};return t&&(s.url=t),e&&(s.outline=e),r!=null&&(s.width=ir(r)),i!=null&&(s.height=ir(i)),s}clone(){const t=new zw({color:ge(this.color),height:this.height,outline:ge(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",ge(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};g([at({esriPFS:"picture-fill"},{readOnly:!0})],os.prototype,"type",void 0),g([A(DP)],os.prototype,"url",void 0),g([A({type:Number,json:{write:!0}})],os.prototype,"xscale",void 0),g([A({type:Number,json:{write:!0}})],os.prototype,"yscale",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],os.prototype,"width",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],os.prototype,"height",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],os.prototype,"xoffset",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],os.prototype,"yoffset",void 0),g([A(FP)],os.prototype,"source",void 0),os=zw=g([ie("esri.symbols.PictureFillSymbol")],os);let ia=class extends Mr{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};g([A({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],ia.prototype,"angle",void 0),g([A({type:["simple-marker","picture-marker"],readOnly:!0})],ia.prototype,"type",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],ia.prototype,"xoffset",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],ia.prototype,"yoffset",void 0),g([A({cast:t=>t==="auto"?t:Gv(ir(t)),json:{write:!0}})],ia.prototype,"size",void 0),ia=g([ie("esri.symbols.MarkerSymbol")],ia);var qw;let Si=qw=class extends ia{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,r){if(t&&typeof t!="string"&&t.imageData==null)return t;const i={};return t&&(i.url=t),e!=null&&(i.width=ir(e)),r!=null&&(i.height=ir(r)),i}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new qw({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",ge(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};g([A({json:{write:!1}})],Si.prototype,"color",void 0),g([at({esriPMS:"picture-marker"},{readOnly:!0})],Si.prototype,"type",void 0),g([A(DP)],Si.prototype,"url",void 0),g([A(FP)],Si.prototype,"source",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],Si.prototype,"height",void 0),g([ni("height",["height","size"])],Si.prototype,"readHeight",null),g([A({type:Number,cast:ir,json:{write:!0}})],Si.prototype,"width",void 0),g([A({json:{write:!1}})],Si.prototype,"size",void 0),Si=qw=g([ie("esri.symbols.PictureMarkerSymbol")],Si);var gc;const UP=Mt.ofType({base:null,key:"type",typeMap:{icon:di,object:ii,text:Gr}});let zi=gc=class extends cs{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new UP,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return CP(this)}hasVisibleVerticalOffset(){return mS(this)}clone(){return new gc({verticalOffset:ge(this.verticalOffset),callout:ge(this.callout),styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new gc({symbolLayers:new Mt([di.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new gc({symbolLayers:new Mt([di.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if(t.data?.symbol?.type!=="CIMPointSymbol")return null;const r=t.data.symbol;return new gc(r?.callout?{symbolLayers:new Mt([di.fromCIMSymbol(t)]),callout:new ra({size:.5,color:new wt([0,0,0])}),verticalOffset:new ol({screenLength:40})}:{symbolLayers:new Mt([di.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new gc({symbolLayers:new Mt([Gr.fromTextSymbol(t)])})}};g([A({type:ol,json:{write:!0}})],zi.prototype,"verticalOffset",void 0),g([A(NP)],zi.prototype,"callout",void 0),g([A({type:UP,json:{origins:{"web-scene":{write:!0}}}})],zi.prototype,"symbolLayers",void 0),g([at({PointSymbol3D:"point-3d"},{readOnly:!0})],zi.prototype,"type",void 0),zi=gc=g([ie("esri.symbols.PointSymbol3D")],zi);var yd;const jP=Mt.ofType({base:null,key:"type",typeMap:{extrude:ea,fill:Gi,icon:di,line:ji,object:ii,text:Gr,water:ta}});let On=yd=class extends cs{constructor(t){super(t),this.symbolLayers=new jP,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&Al(rr.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&Al(rr.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(zC(()=>this.symbolLayers,"after-add",({item:e})=>t(e),GU))}clone(){return new yd({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromJSON(t){const e=new yd;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const r=e.symbolLayers.at(0),i=e.symbolLayers.at(1);!i.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(r.outline={size:i.size,color:i.material!=null?i.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new yd({symbolLayers:new Mt([Gi.fromSimpleFillSymbol(t)])})}};g([A({type:jP,json:{write:!0}})],On.prototype,"symbolLayers",void 0),g([at({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],On.prototype,"type",void 0),On=yd=g([ie("esri.symbols.PolygonSymbol3D")],On);var Hw;const Zb=new Mo({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Is=Hw=class extends Qu{constructor(...t){super(...t),this.color=new wt([0,0,0,.25]),this.outline=new Hr,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,r){if(t&&typeof t!="string")return t;const i={};return t&&(i.style=t),e&&(i.outline=e),r&&(i.color=r),i}clone(){return new Hw({color:ge(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};g([A()],Is.prototype,"color",void 0),g([A()],Is.prototype,"outline",void 0),g([at({esriSFS:"simple-fill"},{readOnly:!0})],Is.prototype,"type",void 0),g([A({type:Zb.apiValues,json:{read:Zb.read,write:Zb.write}})],Is.prototype,"style",void 0),Is=Hw=g([ie("esri.symbols.SimpleFillSymbol")],Is);var Ww;const Xb=new Mo({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let qr=Ww=class extends ia{constructor(...t){super(...t),this.color=new wt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Hr}normalizeCtorArgs(t,e,r,i){if(t&&typeof t!="string")return t;const s={};return t&&(s.style=t),e!=null&&(s.size=ir(e)),r&&(s.outline=r),i&&(s.color=i),s}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new Ww({angle:this.angle,color:ge(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};g([A()],qr.prototype,"color",void 0),g([Kt("color")],qr.prototype,"writeColor",null),g([at({esriSMS:"simple-marker"},{readOnly:!0})],qr.prototype,"type",void 0),g([A()],qr.prototype,"size",void 0),g([A({type:Xb.apiValues,json:{read:Xb.read,write:Xb.write}})],qr.prototype,"style",void 0),g([A({type:String,json:{write:!0}})],qr.prototype,"path",null),g([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Hr}},json:{default:null,write:!0}})],qr.prototype,"outline",void 0),qr=Ww=g([ie("esri.symbols.SimpleMarkerSymbol")],qr);var Yw;let xt=Yw=class extends Mr{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Ks,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,r){if(t&&typeof t!="string")return t;const i={};return t&&(i.text=t),e&&(i.font=e),r&&(i.color=r),i}writeLineWidth(t,e,r,i){i&&typeof i!="string"?i.origin:e[r]=t}castLineWidth(t){return ir(t)}writeLineHeight(t,e,r,i){i&&typeof i!="string"?i.origin:e[r]=t}clone(){return new Yw({angle:this.angle,backgroundColor:ge(this.backgroundColor),borderLineColor:ge(this.borderLineColor),borderLineSize:this.borderLineSize,color:ge(this.color),font:this.font&&this.font.clone(),haloColor:ge(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};g([A({type:wt,json:{write:!0}})],xt.prototype,"backgroundColor",void 0),g([A({type:wt,json:{write:!0}})],xt.prototype,"borderLineColor",void 0),g([A({type:Number,json:{write:!0},cast:ir})],xt.prototype,"borderLineSize",void 0),g([A({type:Ks,json:{write:!0}})],xt.prototype,"font",void 0),g([A({...$P,json:{write:!0}})],xt.prototype,"horizontalAlignment",void 0),g([A({type:Boolean,json:{write:!0}})],xt.prototype,"kerning",void 0),g([A({type:wt,json:{write:!0}})],xt.prototype,"haloColor",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],xt.prototype,"haloSize",void 0),g([A({type:Boolean,json:{write:!0}})],xt.prototype,"rightToLeft",void 0),g([A({type:Boolean,json:{write:!0}})],xt.prototype,"rotated",void 0),g([A({type:String,json:{write:!0}})],xt.prototype,"text",void 0),g([at({esriTS:"text"},{readOnly:!0})],xt.prototype,"type",void 0),g([A({...OP,json:{write:!0}})],xt.prototype,"verticalAlignment",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],xt.prototype,"xoffset",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],xt.prototype,"yoffset",void 0),g([A({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],xt.prototype,"angle",void 0),g([A({type:Number,json:{write:!0}})],xt.prototype,"width",void 0),g([A({type:Number})],xt.prototype,"lineWidth",void 0),g([Kt("lineWidth")],xt.prototype,"writeLineWidth",null),g([ym("lineWidth")],xt.prototype,"castLineWidth",null),g([A(MP)],xt.prototype,"lineHeight",void 0),g([Kt("lineHeight")],xt.prototype,"writeLineHeight",null),xt=Yw=g([ie("esri.symbols.TextSymbol")],xt);var Jw;let pi=Jw=class extends Mr{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:de.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e?.portal,super.read(t,e)}clone(){return new Jw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol(t)}async fetchCIMSymbol(t){s5(rr.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const e=await this._fetchSymbol({...t,acceptedFormats:["cim"]});if(e?.type!=="cim")throw new mt("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return e}async _fetchSymbol(t){const e=t!=null?t.cache:null,r=e?this._fetchCacheKey:null;if(e!=null){const o=r&&e.get(r);if(o)return o.clone()}const{resolveWebStyleSymbol:i}=await ve(()=>import("./webStyleSymbolUtils-DtjPYFJD.js").then(o=>o.w),__vite__mapDeps([64,65,66]),import.meta.url);fp(t);const s=i(this,{portal:this.portal},t);s.catch(o=>{rr.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const n=await s;return e?.set(r,n.clone()),n}};g([A({json:{write:!1}})],pi.prototype,"color",void 0),g([A({type:String,json:{write:!0}})],pi.prototype,"styleName",void 0),g([A({type:de,json:{write:!1}})],pi.prototype,"portal",void 0),g([A({type:String,json:{read:GE,write:Ih}})],pi.prototype,"styleUrl",void 0),g([A({type:Fd,json:{read:!1}})],pi.prototype,"thumbnail",void 0),g([A({type:String,json:{write:!0}})],pi.prototype,"name",void 0),g([at({styleSymbolReference:"web-style"},{readOnly:!0})],pi.prototype,"type",void 0),g([A()],pi.prototype,"_fetchCacheKey",null),pi=Jw=g([ie("esri.symbols.WebStyleSymbol")],pi);function I2e(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function BP(t){switch(t?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const yS={base:Mr,key:"type",typeMap:{"simple-fill":Is,"picture-fill":os,"picture-marker":Si,"simple-line":Hr,"simple-marker":qr,text:xt,"label-3d":En,"line-3d":$n,"mesh-3d":pa,"point-3d":zi,"polygon-3d":On,"web-style":pi,cim:us},errorContext:"symbol"},C2e={base:Mr,key:"type",typeMap:{"picture-marker":Si,"simple-marker":qr,"point-3d":zi,cim:us},errorContext:"symbol"},N2e={base:Mr,key:"type",typeMap:{"simple-line":Hr,"line-3d":$n,cim:us},errorContext:"symbol"},P2e={base:Mr,key:"type",typeMap:{"simple-fill":Is,"picture-fill":os,"polygon-3d":On,cim:us},errorContext:"symbol"},L2e={base:Mr,key:"type",typeMap:{"picture-marker":Si,"simple-marker":qr,text:xt,"web-style":pi,cim:us},errorContext:"symbol"},mY=KC({types:yS}),R2e={base:Mr,key:"type",typeMap:{"simple-fill":Is,"picture-fill":os,"picture-marker":Si,"simple-line":Hr,"simple-marker":qr,text:xt,"line-3d":$n,"mesh-3d":pa,"point-3d":zi,"polygon-3d":On,"web-style":pi,cim:us},errorContext:"symbol"},k2e={base:Mr,key:"type",typeMap:{text:xt,"label-3d":En},errorContext:"symbol"},D2e={base:Mr,key:"type",typeMap:{"line-3d":$n,"mesh-3d":pa,"point-3d":zi,"polygon-3d":On,"web-style":pi,cim:us},errorContext:"symbol"},F2e={base:Mr,key:"type",typeMap:{"label-3d":En},errorContext:"symbol"},U2e=Mh(yS);var Kw;function yY(t){if(!t)return null;const e={};for(const r in t){const i=YE(t[r]);i&&(e[r]=i)}return Object.keys(e).length!==0?e:null}function gY(t){if(t==null)return null;const e={};for(const r in t){const i=t[r];i&&(e[r]=i.toJSON())}return Object.keys(e).length!==0?e:null}let ts=class extends ko.ClonableMixin(tt){static{Kw=this}constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:Jy(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&_j(rr.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const r=this._get("aggregateGeometries");JSON.stringify(r)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const r=this._get("attributes");r!==e&&(this._set("attributes",e),this._notifyLayer("attributes",r,e))}set geometry(e){const r=this._get("geometry");r!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",r,e))}set popupTemplate(e){const r=this._get("popupTemplate");r!==e&&(this._set("popupTemplate",e),this._notifyLayer("popupTemplate",r,e))}set symbol(e){const r=this._get("symbol");r!==e&&(this._set("symbol",e),this._notifyLayer("symbol",r,e))}get version(){return this._version}set visible(e){const r=this._get("visible");r!==e&&(this._set("visible",e),this._notifyLayer("visible",r,e))}cloneShallow(){return new Kw({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const r=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[r,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,r){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=r,this._notifyLayer("attributes",i,r,e)}else this.attributes={[e]:r}}getObjectId(){const e=this.sourceLayer??this.layer;return e?lW(this,e):null}getGlobalId(){const e=this.sourceLayer??this.layer;return e&&"globalIdField"in e&&e.globalIdField?this.getAttribute(e.globalIdField):null}toJSON(){return{aggregateGeometries:gY(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:tg(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:r}=this;if(r?.type==="mesh"){const i={origin:r.origin,transform:r.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,r,i,s){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:r,newValue:i};e==="origin-transform"&&(n.action=s),e==="attributes"&&(n.attributeName=s),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([r2(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:r})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===r||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=r,this.notifyMeshTransformChanged())}),r2(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,r)=>e===r,sync:!0})])}};g([A({value:null,json:{read:yY}})],ts.prototype,"aggregateGeometries",null),g([A({value:null})],ts.prototype,"attributes",null),g([A({value:null,types:aW,json:{read:YE}})],ts.prototype,"geometry",null),g([A({type:Boolean})],ts.prototype,"isAggregate",void 0),g([A({clonable:!1})],ts.prototype,"layer",void 0),g([A({clonable:"reference"})],ts.prototype,"origin",void 0),g([A({type:oW,value:null})],ts.prototype,"popupTemplate",null),g([A({clonable:"reference"})],ts.prototype,"sourceLayer",void 0),g([A({value:null,types:yS})],ts.prototype,"symbol",null),g([A({clonable:!1,json:{read:!1,write:!1}})],ts.prototype,"_version",void 0),g([A({type:Boolean,value:!0})],ts.prototype,"visible",null),ts=Kw=g([ie("esri.Graphic")],ts);function B2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="feature"}function V2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="graphics"}function G2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function z2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-notes"&&"sublayers"in t}function q2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph"&&"layers"in t}function H2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph-sublayer"}function W2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="link-chart"&&"layers"in t}function Y2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function J2e(t){return t?.type==="subtype-sublayer"}const K2e={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function rM(t){const e=t?.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function Z2e(t){return t==="integrated-mesh"||t==="integrated-mesh-3dtiles"}function X2e(t){return t?.type==="feature"&&!t.url&&t.source?.type==="memory"}function Q2e(t){const e=t?.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&t?.source?.type==="feature-layer"}async function ewe(t,e){const r=Jt?.findServerInfo(t);if(r?.currentVersion!=null)return r.owningSystemUrl||null;const i=t.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const s=`${t.slice(0,i)}/rest/info`,n=e!=null?e.signal:null,{data:o}=await Fr(s,{query:{f:"json"},responseType:"json",signal:n});return o?.owningSystemUrl||null}function vY(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function twe(t){return vY(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function bY(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function rwe(t){return!!bY(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}function _Y(t,e){return null}function iwe(t){return null}function wY(t){return!t||t.type==="Feature Service"&&!t.sourceUrl}function swe(t,e){!e||!wY(t)||_Y(t.url)}const gS=[252,146,31,255],xY=[153,153,153,255],EY={type:"esriSMS",style:"esriSMSCircle",size:6,color:gS,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},SY={type:"esriSLS",style:"esriSLSSolid",width:.75,color:gS},AY={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},TY={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},MY={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},$Y={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},OY={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},VP=qr.fromJSON(EY),GP=Hr.fromJSON(SY),zP=Is.fromJSON(AY),nwe=xt.fromJSON(TY);function owe(t){if(t==null)return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return VP;case"polyline":return GP;case"polygon":case"extent":return zP}return null}const awe=qr.fromJSON(MY),lwe=Hr.fromJSON($Y),cwe=Is.fromJSON(OY),IY=zi.fromSimpleMarkerSymbol(VP),CY=$n.fromSimpleLineSymbol(GP),NY=On.fromSimpleFillSymbol(zP),PY=new pa({symbolLayers:new Mt([new Gi({material:{color:gS},edges:new yP({size:$o(1),color:new wt(xY)})})])}),LY=new $n({symbolLayers:new Mt([new ji({material:{color:new wt([0,0,0])},size:$o(1)})])}),RY=new On({symbolLayers:new Mt([new Gi({outline:{color:new wt([0,0,0]),size:$o(1)}})])});function uwe(t){if(t==null)return null;switch(t.type){case"mesh":return PY;case"point":case"multipoint":return IY;case"polyline":return CY;case"polygon":case"extent":return NY}return null}const iM="#useCIMFallbackSymbology()",Mu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function kY(t,e=Mu){if(!t)return{symbol:null};const{retainId:r=Mu.retainId,ignoreDrivers:i=Mu.ignoreDrivers,hasLabelingContext:s=Mu.hasLabelingContext,retainCIM:n=Mu.retainCIM,cimFallbackEnabled:o=Mu.cimFallbackEnabled}=e;let a=null;if(BP(t)||t instanceof pi)a=t.clone();else if(t.type==="cim"){const l=t.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=n?t.clone():zi.fromCIMSymbol(t);break;case"CIMLineSymbol":o&&(a=LY.clone(),e?.logWarning?.(iM,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=RY.clone(),e?.logWarning?.(iM,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new mt("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:t})}}else if(t instanceof Hr)a=$n.fromSimpleLineSymbol(t);else if(t instanceof qr)a=zi.fromSimpleMarkerSymbol(t);else if(t instanceof Si)a=zi.fromPictureMarkerSymbol(t);else if(t instanceof Is)a=e.geometryType&&e.geometryType==="mesh"?pa.fromSimpleFillSymbol(t):On.fromSimpleFillSymbol(t);else{if(!(t instanceof xt))return{error:new mt("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};a=s?En.fromTextSymbol(t):zi.fromTextSymbol(t)}return r&&a&&a.type!=="cim"&&(a.id=t.id),!i||a.type==="cim"||a instanceof pi||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function hwe(t,e,r,i){const s=qP(t,{},{context:i,isLabelSymbol:!1});s!=null&&au(r,s,e)}function fwe(t,e,r,i){const s=qP(t,{},{context:i,isLabelSymbol:!0});s!=null&&(e[r]=s)}function sM(t){return BP(t)||t instanceof pi}function DY(t){return t?.type==="polygon-3d"||t?.type==="line-3d"}function qP(t,e,r){if(t==null)return null;const{context:i,isLabelSymbol:s}=r,n=i?.origin,o=i?.messages;if(n==="web-scene"&&!sM(t)){const a=kY(t,{retainCIM:!0,hasLabelingContext:s});return a.symbol!=null?a.symbol.write(e,i):(o?.push(new mt("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:i,error:a.error})),null)}return rM(i?.layer)&&DY(t)?(o?.push(new mt("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported on layers of type '${i?.layer?.declaredClass}'.`,{symbol:t,context:i})),null):(n==="web-map"||n==="portal-item"&&!rM(i?.layer))&&sM(t)?(o?.push(new mt("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:i})),null):t.write(e,i)}function vS(t,e){return mY(t,null,e)}const Qb=(...t)=>{const e=[];for(let i=0;i<t.length;i++){const s=t[i];if(typeof s=="string")e.push(s);else if(Array.isArray(s))e.push.apply(e,s);else if(typeof s=="object")for(const n in s)s[n]&&e.push(n)}const r=e.join(" ");return e.length=0,r};class Ip{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}const FY=(t,e)=>{let r=t;for(;r;){if(r===e)return!0;if(!r.parentNode)return!1;r.parentNode instanceof ShadowRoot?r=r.parentNode.host:r=r.parentNode}return!1},UY=(t,e,r)=>{const i=jY(e).subscribe;return i(s=>{s.some(o=>FY(t,o.target))&&r()})},e_={},jY=t=>{const e=t.join(","),r=e_[e];if(r!==void 0)return r;const i=new Set,s=new MutationObserver(o=>i.forEach(a=>a(o)));globalThis.document&&s.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const n={subscribe:o=>(i.add(o),()=>{i.delete(o),i.size===0&&(s.disconnect(),e_[e]=void 0)})};return e_[e]=n,n},BY=(t,e)=>{let r=t;for(;r;){const i=r.closest?.(e);if(i)return i;const s=r.getRootNode?.();if(s===globalThis.document)return null;r=s.host}return null},VY=(t,e,r)=>BY(t,`[${e}]`)?.getAttribute(e)??r,or=(t,e,...r)=>{try{return t?.call(e,...r)}catch(i){console.error(i,t)}},Zw=async(t,e,...r)=>{try{return await t?.call(e,...r)}catch(i){console.error(i,t)}},GY="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),zY=new Set(GY),wg="en",qY={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},HY=async(t,e,r="")=>{const i=`${e}/${r}`,s=`${i}${t}.json`;return t_[s]??(t_[s]=HP(t,i)),await t_[s]},t_={},HP=async(t,e)=>{const r=`${e}${t}.json`;try{const i=await fetch(r);if(i.ok)return await i.json()}catch(i){return console.error(i),{}}return t===wg?{}:await HP(wg,e)},WP=t=>{const e=VY(t,"lang",globalThis.navigator?.language||wg);return{lang:e,t9nLocale:YP(e)}},YP=t=>{const[e,r]=t.split("-"),i=e.toLowerCase();let s=i;return r&&(s=`${i}-${r.toUpperCase()}`),s=qY[s]??s,zY.has(s)?s:r?YP(i):wg},WY=(t,e,r,i)=>{let s;const n=()=>YY(t,e(),i).then(o=>{(s?.lang!==o.lang||s.t9nLocale!==o.t9nLocale||s.t9nStrings!==o.t9nStrings)&&r(o),s=o}).catch(console.error);return queueMicrotask(n),UY(t,["lang"],n)},YY=async(t,e,r=t.localName.split("-").slice(1).join("-"))=>{const{lang:i,t9nLocale:s}=WP(t),n=`${e}/${r}/t9n`,a=r===null?{}:await HY(s,n,"messages.");return{lang:i,t9nLocale:s,t9nStrings:a}},JY=t=>t.replace(KY,(e,r)=>`${r===0?"":"-"}${e.toLowerCase()}`),KY=/[A-Z]+(?![a-z])|[A-Z]/gu,ZY=(t,e)=>{const r=e/XY;let i=0;const s=setInterval(()=>{i+=r,i>=e&&(clearInterval(s),t())},r);return s},XY=4;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const E0=globalThis,bS=E0.ShadowRoot&&(E0.ShadyCSS===void 0||E0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,_S=Symbol(),nM=new WeakMap;let JP=class{constructor(e,r,i){if(this._$cssResult$=!0,i!==_S)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(bS&&e===void 0){const i=r!==void 0&&r.length===1;i&&(e=nM.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&nM.set(r,e))}return e}toString(){return this.cssText}};const QY=t=>new JP(typeof t=="string"?t:t+"",void 0,_S),eJ=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((i,s,n)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[n+1],t[0]);return new JP(r,t,_S)},tJ=(t,e)=>{if(bS)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const i=document.createElement("style"),s=E0.litNonce;s!==void 0&&i.setAttribute("nonce",s),i.textContent=r.cssText,t.appendChild(i)}},oM=bS?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const i of e.cssRules)r+=i.cssText;return QY(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:rJ,defineProperty:iJ,getOwnPropertyDescriptor:sJ,getOwnPropertyNames:nJ,getOwnPropertySymbols:oJ,getPrototypeOf:aJ}=Object,y1=globalThis,aM=y1.trustedTypes,lJ=aM?aM.emptyScript:"",cJ=y1.reactiveElementPolyfillSupport,Ud=(t,e)=>t,Xw={toAttribute(t,e){switch(e){case Boolean:t=t?lJ:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},wS=(t,e)=>!rJ(t,e),lM={attribute:!0,type:String,converter:Xw,reflect:!1,useDefault:!1,hasChanged:wS};Symbol.metadata??=Symbol("metadata"),y1.litPropertyMetadata??=new WeakMap;let Fu=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=lM){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const i=Symbol(),s=this.getPropertyDescriptor(e,i,r);s!==void 0&&iJ(this.prototype,e,s)}}static getPropertyDescriptor(e,r,i){const{get:s,set:n}=sJ(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:s,set(o){const a=s?.call(this);n?.call(this,o),this.requestUpdate(e,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??lM}static _$Ei(){if(this.hasOwnProperty(Ud("elementProperties")))return;const e=aJ(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Ud("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Ud("properties"))){const r=this.properties,i=[...nJ(r),...oJ(r)];for(const s of i)this.createProperty(s,r[s])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[i,s]of r)this.elementProperties.set(i,s)}this._$Eh=new Map;for(const[r,i]of this.elementProperties){const s=this._$Eu(r,i);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const s of i)r.unshift(oM(s))}else e!==void 0&&r.push(oM(e));return r}static _$Eu(e,r){const i=r.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const i of r.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return tJ(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,r,i){this._$AK(e,i)}_$ET(e,r){const i=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,i);if(s!==void 0&&i.reflect===!0){const n=(i.converter?.toAttribute!==void 0?i.converter:Xw).toAttribute(r,i.type);this._$Em=e,n==null?this.removeAttribute(s):this.setAttribute(s,n),this._$Em=null}}_$AK(e,r){const i=this.constructor,s=i._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const n=i.getPropertyOptions(s),o=typeof n.converter=="function"?{fromAttribute:n.converter}:n.converter?.fromAttribute!==void 0?n.converter:Xw;this._$Em=s,this[s]=o.fromAttribute(r,n.type)??this._$Ej?.get(s)??null,this._$Em=null}}requestUpdate(e,r,i){if(e!==void 0){const s=this.constructor,n=this[e];if(i??=s.getPropertyOptions(e),!((i.hasChanged??wS)(n,r)||i.useDefault&&i.reflect&&n===this._$Ej?.get(e)&&!this.hasAttribute(s._$Eu(e,i))))return;this.C(e,r,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:i,reflect:s,wrapped:n},o){i&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??r??this[e]),n!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||i||(r=void 0),this._$AL.set(e,r)),s===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,n]of this._$Ep)this[s]=n;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,n]of i){const{wrapped:o}=n,a=this[s];o!==!0||this._$AL.has(s)||a===void 0||this.C(s,void 0,n,a)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),this._$EO?.forEach(i=>i.hostUpdate?.()),this.update(r)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(r)}willUpdate(e){}_$AE(e){this._$EO?.forEach(r=>r.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(r=>this._$ET(r,this[r])),this._$EM()}updated(e){}firstUpdated(e){}};Fu.elementStyles=[],Fu.shadowRootOptions={mode:"open"},Fu[Ud("elementProperties")]=new Map,Fu[Ud("finalized")]=new Map,cJ?.({ReactiveElement:Fu}),(y1.reactiveElementVersions??=[]).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const xS=globalThis,xg=xS.trustedTypes,cM=xg?xg.createPolicy("lit-html",{createHTML:t=>t}):void 0,KP="$lit$",al=`lit$${Math.random().toFixed(9).slice(2)}$`,ZP="?"+al,uJ=`<${ZP}>`,Xc=document,Cp=()=>Xc.createComment(""),Np=t=>t===null||typeof t!="object"&&typeof t!="function",ES=Array.isArray,hJ=t=>ES(t)||typeof t?.[Symbol.iterator]=="function",r_=`[ 	
\f\r]`,Ff=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,uM=/-->/g,hM=/>/g,ec=RegExp(`>|${r_}(?:([^\\s"'>=/]+)(${r_}*=${r_}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),fM=/'/g,dM=/"/g,XP=/^(?:script|style|textarea|title)$/i,QP=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Uf=QP(1),mwe=QP(2),Tl=Symbol.for("lit-noChange"),vr=Symbol.for("lit-nothing"),pM=new WeakMap,Tc=Xc.createTreeWalker(Xc,129);function eL(t,e){if(!ES(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return cM!==void 0?cM.createHTML(e):e}const fJ=(t,e)=>{const r=t.length-1,i=[];let s,n=e===2?"<svg>":e===3?"<math>":"",o=Ff;for(let a=0;a<r;a++){const l=t[a];let c,f,d=-1,p=0;for(;p<l.length&&(o.lastIndex=p,f=o.exec(l),f!==null);)p=o.lastIndex,o===Ff?f[1]==="!--"?o=uM:f[1]!==void 0?o=hM:f[2]!==void 0?(XP.test(f[2])&&(s=RegExp("</"+f[2],"g")),o=ec):f[3]!==void 0&&(o=ec):o===ec?f[0]===">"?(o=s??Ff,d=-1):f[1]===void 0?d=-2:(d=o.lastIndex-f[2].length,c=f[1],o=f[3]===void 0?ec:f[3]==='"'?dM:fM):o===dM||o===fM?o=ec:o===uM||o===hM?o=Ff:(o=ec,s=void 0);const y=o===ec&&t[a+1].startsWith("/>")?" ":"";n+=o===Ff?l+uJ:d>=0?(i.push(c),l.slice(0,d)+KP+l.slice(d)+al+y):l+al+(d===-2?a:y)}return[eL(t,n+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};let Qw=class tL{constructor({strings:e,_$litType$:r},i){let s;this.parts=[];let n=0,o=0;const a=e.length-1,l=this.parts,[c,f]=fJ(e,r);if(this.el=tL.createElement(c,i),Tc.currentNode=this.el.content,r===2||r===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=Tc.nextNode())!==null&&l.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(KP)){const p=f[o++],y=s.getAttribute(d).split(al),v=/([.?@])?(.*)/.exec(p);l.push({type:1,index:n,name:v[2],strings:y,ctor:v[1]==="."?pJ:v[1]==="?"?mJ:v[1]==="@"?yJ:g1}),s.removeAttribute(d)}else d.startsWith(al)&&(l.push({type:6,index:n}),s.removeAttribute(d));if(XP.test(s.tagName)){const d=s.textContent.split(al),p=d.length-1;if(p>0){s.textContent=xg?xg.emptyScript:"";for(let y=0;y<p;y++)s.append(d[y],Cp()),Tc.nextNode(),l.push({type:2,index:++n});s.append(d[p],Cp())}}}else if(s.nodeType===8)if(s.data===ZP)l.push({type:2,index:n});else{let d=-1;for(;(d=s.data.indexOf(al,d+1))!==-1;)l.push({type:7,index:n}),d+=al.length-1}n++}}static createElement(e,r){const i=Xc.createElement("template");return i.innerHTML=e,i}};function Fh(t,e,r=t,i){if(e===Tl)return e;let s=i!==void 0?r._$Co?.[i]:r._$Cl;const n=Np(e)?void 0:e._$litDirective$;return s?.constructor!==n&&(s?._$AO?.(!1),n===void 0?s=void 0:(s=new n(t),s._$AT(t,r,i)),i!==void 0?(r._$Co??=[])[i]=s:r._$Cl=s),s!==void 0&&(e=Fh(t,s._$AS(t,e.values),s,i)),e}let dJ=class{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:i}=this._$AD,s=(e?.creationScope??Xc).importNode(r,!0);Tc.currentNode=s;let n=Tc.nextNode(),o=0,a=0,l=i[0];for(;l!==void 0;){if(o===l.index){let c;l.type===2?c=new _f(n,n.nextSibling,this,e):l.type===1?c=new l.ctor(n,l.name,l.strings,this,e):l.type===6&&(c=new gJ(n,this,e)),this._$AV.push(c),l=i[++a]}o!==l?.index&&(n=Tc.nextNode(),o++)}return Tc.currentNode=Xc,s}p(e){let r=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,r),r+=i.strings.length-2):i._$AI(e[r])),r++}};class _f{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,r,i,s){this.type=2,this._$AH=vr,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=i,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Fh(this,e,r),Np(e)?e===vr||e==null||e===""?(this._$AH!==vr&&this._$AR(),this._$AH=vr):e!==this._$AH&&e!==Tl&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):hJ(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==vr&&Np(this._$AH)?this._$AA.nextSibling.data=e:this.T(Xc.createTextNode(e)),this._$AH=e}$(e){const{values:r,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Qw.createElement(eL(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===s)this._$AH.p(r);else{const n=new dJ(s,this),o=n.u(this.options);n.p(r),this.T(o),this._$AH=n}}_$AC(e){let r=pM.get(e.strings);return r===void 0&&pM.set(e.strings,r=new Qw(e)),r}k(e){ES(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let i,s=0;for(const n of e)s===r.length?r.push(i=new _f(this.O(Cp()),this.O(Cp()),this,this.options)):i=r[s],i._$AI(n),s++;s<r.length&&(this._$AR(i&&i._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class g1{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,i,s,n){this.type=1,this._$AH=vr,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=n,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=vr}_$AI(e,r=this,i,s){const n=this.strings;let o=!1;if(n===void 0)e=Fh(this,e,r,0),o=!Np(e)||e!==this._$AH&&e!==Tl,o&&(this._$AH=e);else{const a=e;let l,c;for(e=n[0],l=0;l<n.length-1;l++)c=Fh(this,a[i+l],r,l),c===Tl&&(c=this._$AH[l]),o||=!Np(c)||c!==this._$AH[l],c===vr?e=vr:e!==vr&&(e+=(c??"")+n[l+1]),this._$AH[l]=c}o&&!s&&this.j(e)}j(e){e===vr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}let pJ=class extends g1{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===vr?void 0:e}},mJ=class extends g1{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==vr)}};class yJ extends g1{constructor(e,r,i,s,n){super(e,r,i,s,n),this.type=5}_$AI(e,r=this){if((e=Fh(this,e,r,0)??vr)===Tl)return;const i=this._$AH,s=e===vr&&i!==vr||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,n=e!==vr&&(i===vr||s);s&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class gJ{constructor(e,r,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Fh(this,e)}}const bwe={I:_f},vJ=xS.litHtmlPolyfillSupport;vJ?.(Qw,_f),(xS.litHtmlVersions??=[]).push("3.3.0");const bJ=(t,e,r)=>{const i=r?.renderBefore??e;let s=i._$litPart$;if(s===void 0){const n=r?.renderBefore??null;i._$litPart$=s=new _f(e.insertBefore(Cp(),n),n,void 0,r??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const SS=globalThis;let Nc=class extends Fu{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=bJ(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Tl}};Nc._$litElement$=!0,Nc.finalized=!0,SS.litElementHydrateSupport?.({LitElement:Nc});const _J=SS.litElementPolyfillSupport;_J?.({LitElement:Nc});(SS.litElementVersions??=[]).push("4.2.0");const AS=Symbol.for("controller"),wJ=t=>typeof t=="object"&&t!==null&&(AS in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),xJ=t=>typeof t?.then=="function",wwe=t=>t.M.length;let gd;const eh=t=>{gd!==t&&(gd=t,queueMicrotask(()=>gd===t?gd=void 0:0))},wf=t=>gd;let vc=[];const rL=t=>{if(t===void 0){vc=[];return}const e=vc.indexOf(t);vc=e===-1?[...vc,t]:vc.slice(0,e+1),queueMicrotask(()=>vc=[])},iL=()=>vc;let th;const EJ=t=>{th!==t&&(th=t,queueMicrotask(()=>th===t?th=void 0:0))},SJ=()=>{const t=th;return th=void 0,t},AJ=async(t,e)=>{const r=TS(t);if(r===void 0)return t;if(await r.ready,typeof e=="function"){const i=r.watchExports(s=>e(s,i))}return r.exports},TJ=async t=>{const e=TS(t);return await e.ready,e},TS=t=>{const r=wf().manager.X(t);if(r!==void 0)return r;if(wJ(t))return t;const i=SJ();if(i!==void 0)return i};let ex=!1;const MJ=t=>{ex=!0;try{return t()}finally{ex=!1}},$J=(t,e,r)=>{const i=Object.keys(t),s=i.length;rh===void 0&&queueMicrotask(MS),rh??=new Map;let n=rh.get(t);return n===void 0&&(n={callbacks:[],keyCount:s},rh.set(t,n)),n.keyCount!==s&&(n.callbacks.forEach(o=>o(i)),n.callbacks=[],n.keyCount=s),n.callbacks.push(o=>{const a=c=>or(e,null,c),l=o[s];l===void 0?a(void 0):t[l]===r?a(l):a(void 0)}),r};let rh;const MS=()=>{rh?.forEach(({callbacks:t},e)=>{const r=Object.keys(e);t.forEach(i=>i(r))}),rh=void 0},sL=(t,e,r)=>{const i=t.manager;return i.V!==vr&&i.V!==r&&i.S(void 0,void 0),i.T.length===0&&queueMicrotask(()=>i.S(void 0,void 0)),i.V=r,i.T.push((s,n)=>or(e,void 0,r===n?s:void 0)),r},$S=(t=[wf(),...iL()],e,r)=>{const i=Array.isArray(t)?t:[t];let s=i.length+1;const n=o=>{s-=1,o!==void 0&&(s=Math.min(s,0)),s===0&&e(o)};i.forEach(o=>$J(o,a=>n(a===void 0?void 0:{key:a,host:o,isReactive:!1}),r));for(const o of i)if("manager"in o&&o.manager.component===o){sL(o,a=>n(a===void 0?void 0:{key:a,host:o,isReactive:!0}),r);break}return r},OS=(t="",e={},r=wf())=>{const i={emit:s=>{t===""&&MS();const n=new CustomEvent(t,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...e});return r.el.dispatchEvent(n),n}};return t===""&&$S(void 0,s=>t=s.key,i),i},OJ=OS.bind(null,"");var nL;nL=AS;class IS{constructor(e){this.#e=[],this.#t=[],this.#r=[],this.#i=[],this.#s=[],this.#l=[],this.#c=[],this.#f=[],this.#u=[],this.#h=!1,this.P=new Ip,this.connectedCalled=!1,this.loadedCalled=!1,this[nL]=!0,this.#a=[];const r=this,i=e??wf();r.#n=i,r.ready=r.P.promise,r.#o=yM(r),r.component=i,r.#n.addController(r),r.#n.manager===void 0||(rL(r),queueMicrotask(()=>r.catchUpLifecycle()))}#e;#t;#r;#i;#s;#l;#c;#f;#u;#h;#n;catchUpLifecycle(){const{manager:e}=this.#n;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e.#h&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}#o;get exports(){return this.#o}set exports(e){const r=this.#o;r!==e&&(this.#o=e,this.#a.forEach(or),this.connectedCalled&&this.O!==!1&&this.#n.requestUpdate(this.O,r)),this.P.resolve(e)}setProvisionalExports(e,r=!0){this.#o=r?yM(e):e,this.#a.forEach(or)}#a;watchExports(e){const r=()=>e(this.#o);return this.#a.push(r),()=>void this.#a.splice(this.#a.indexOf(r),1)}get use(){return eh(this.#n),AJ}get useRef(){return eh(this.#n),TJ}get useRefSync(){return eh(this.#n),TS}controllerRemoved(){this.#n.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#e.push(e)}onDisconnected(e){this.#t.push(e)}onLoad(e){this.#r.push(e)}onLoaded(e){this.#i.push(e)}onUpdate(e){this.#s.push(e)}onUpdated(e){this.#l.push(e)}onDestroy(e){this.#c.push(e)}onLifecycle(e){this.#f.push(e),this.connectedCalled&&this.#n.el.isConnected&&this.#d(e)}triggerConnected(){const e=this;e.hostConnected&&or(e.hostConnected,e),e.#e.forEach(or),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&or(e.hostDisconnected,e),e.#t.forEach(or),e.#u.forEach(or),e.#u=[]}async triggerLoad(){if(this.#h)return;this.#h=!0;const e=this;e.hostLoad&&await Zw(e.hostLoad,e),this.#r.length>0&&await Promise.allSettled(this.#r.map(Zw)),this.P.resolve(this.#o)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&or(this.hostLoaded,this),this.#i.forEach(or),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&or(this.hostUpdate,this,e),this.#s.forEach(mM,e)}triggerUpdated(e){this.hostUpdated&&or(this.hostUpdated,this,e),this.#l.forEach(mM,e)}triggerDestroy(){this.hostDestroy&&or(this.hostDestroy,this),this.#c.forEach(or)}triggerLifecycle(){this.hostLifecycle&&this.#d(()=>this.hostLifecycle()),this.#f.forEach(this.#d,this)}#d(e){eh(this.#n);const r=or(e);(Array.isArray(r)?r:[r]).forEach(s=>{typeof s=="function"?this.#u.push(s):typeof s=="object"&&typeof s.remove=="function"&&this.#u.push(s.remove)})}}function mM(t){or(t,void 0,this)}const CS=IS,yM=t=>{if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e={get(i,s,n){if(!((s==="exports"||s==="_exports")&&s in i&&i[s]===r)&&(s in i||s in Promise.prototype||typeof s=="symbol"))return typeof i=="function"?i[s]:Reflect.get(i,s,n)}},r=new Proxy(t,e);return r},IJ=1,CJ=2,NJ=4,PJ=8,LJ=16,RJ=32,kJ=64,oL=t=>{let e=t;for(;e=e.parentNode??e.host;)if(e?.constructor?.lumina){const r=e;return r.manager?.loadedCalled||(r.J??r._offspring).push(t),(r.I??r._postLoad).promise}return!1},tx={};function aL(){}const S0=Object.defineProperty,DJ=globalThis.HTMLElement??aL;class xwe extends DJ{constructor(){super(),this.#t={},this.#r=[],this.I=new Ip,this.H=new Ip,this.J=[];const e=this,r=e.constructor;e._offspring=e.J,e._postLoad=e.I,r.C?.forEach(i=>{Object.hasOwn(e,i)&&(e.#t[i]=e[i],delete e[i])}),r.A?e.#i({a:r.A}):r.B.then(async i=>{await r.K.p,e.#i(await(i.default?.then(s=>typeof s=="function"?{a:s}:s)??i))}).catch(i=>{e.H.reject(i),setTimeout(()=>{throw i})})}static{this.lumina=!0}static F(){for(const e of this.C??[])S0(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this.#t[e]},set(r){this.#t[e]=r}});for(const e of this.E??[])S0(this.prototype,e,{async value(...r){return this.#e||await this.H.promise,await this.#e[e](...r)},configurable:!0});for(const e of this.D??[])S0(this.prototype,e,{value(...r){return this.#e[e](...r)},configurable:!0})}#e;#t;#r;get manager(){return this.#e?.manager}attributeChangedCallback(e,r,i){this.#e?.attributeChangedCallback(e,r,i),this.#e||this.#r.push(e)}connectedCallback(){this.#e?this.#e.connectedCallback?.():queueMicrotask(()=>this.G=oL(this))}disconnectedCallback(){this.#e?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}#i(e){const r=this.constructor,i=r.L,s=this.#t,n=Object.values(e).find(d=>d.L===i),o=`${i}--lazy`;let a=n;for(;a&&!Object.hasOwn(a,"lumina");)a=Object.getPrototypeOf(a);UJ(a),!r.A&&(r.A=n,customElements.define(o,n)),n.N=this;const c=document.createElement(o);n.N=void 0,this.#e=c,this.#t=c,this.#r.forEach(d=>c.attributeChangedCallback(d,null,this.getAttribute(d))),Object.entries(s).forEach(FJ,c);const f=this.isConnected;(f||this.G)&&(c.connectedCallback?.(),f||c.disconnectedCallback())}addController(){}requestUpdate(){this.#e?.requestUpdate()}}function FJ([t,e]){this[t]=e}const UJ=t=>{const e=t.prototype,r=Element.prototype;Object.hasOwn(e,"isConnected")||(e.setAttribute=function(s,n){r.setAttribute.call(this.el,s,n)},e.removeAttribute=function(s){r.removeAttribute.call(this.el,s)},S0(e,"isConnected",{get(){return Reflect.get(r,"isConnected",this.el)}}))};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const lL={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},cL=t=>(...e)=>({_$litDirective$:t,values:e});let uL=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,i){this._$Ct=e,this._$AM=r,this._$Ci=i}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jJ=cL(class extends uL{constructor(t){if(super(t),t.type!==lL.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in e)e[i]&&!this.nt?.has(i)&&this.st.add(i);return this.render(e)}const r=t.element.classList;for(const i of this.st)i in e||(r.remove(i),this.st.delete(i));for(const i in e){const s=!!e[i];s===this.st.has(i)||this.nt?.has(i)||(s?(r.add(i),this.st.add(i)):(r.remove(i),this.st.delete(i)))}return Tl}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hL="important",BJ=" !"+hL,VJ=cL(class extends uL{constructor(t){if(super(t),t.type!==lL.ATTRIBUTE||t.name!=="style"||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,r)=>{const i=t[r];return i==null?e:e+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(t,[e]){const{style:r}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const i of this.ft)e[i]==null&&(this.ft.delete(i),i.includes("-")?r.removeProperty(i):r[i]=null);for(const i in e){const s=e[i];if(s!=null){this.ft.add(i);const n=typeof s=="string"&&s.endsWith(BJ);i.includes("-")||n?r.setProperty(i,n?s.slice(0,-11):s,n?hL:""):r[i]=s}}return Tl}});class GJ extends CS{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=vr,this.T=[],this.#r=new WeakMap,this.#t=e,this.exports=void 0,this.hasDestroy=rx in e&&typeof e.destroy=="function",Nc.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const r=e.el.localName;throw e.el.remove(),new Error(`The ${r} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${rx} prop.`)}this.#e!==void 0&&clearTimeout(this.#e),MS();for(const r of e.M)"triggerConnected"in r?r.triggerConnected():or(r.hostConnected,r)},hostDisconnected:()=>{for(const r of e.M)"triggerDisconnected"in r?r.triggerDisconnected():or(r.hostDisconnected,r);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const r of e.M)"triggerUpdate"in r?r.triggerUpdate(this.Q):or(r.hostUpdate,r,this.Q)},hostUpdated:()=>{for(const r of e.M)"triggerUpdated"in r?r.triggerUpdated(this.Q):or(r.hostUpdated,r,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),eh(e)}#e;#t;async destroy(){if(!this.destroyed){this.#t.el.isConnected&&(this.hasDestroy=!1,this.#t.el.remove()),this.#e=void 0,this.destroyed=!0;for(const e of this.#t.M)"triggerDestroy"in e?e.triggerDestroy():or(e.hostDestroy,e);this.#t.M.splice(0)}}U(){if(this.#e!==void 0&&clearTimeout(this.#e),!this.#t.el.isConnected&&!this.#t.autoDestroyDisabled){const e=()=>void this.#t.destroy();this.#e=ZY(e,zJ)}}S(e,r){const i=this.T;this.V=vr,this.T=[],i.forEach(s=>s(e,r))}#r;W(e,r){(typeof r=="object"&&r!==null||typeof r=="function")&&this.#r.set(r,e)}X(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this.#r.get(e)}}let zJ=1e3;const rx="autoDestroyDisabled";class NS extends Nc{constructor(){super(),this.M=[],this.manager=new GJ(this);const e=this,r=e.constructor,i=r.N,s=r.K.o,n=NS.prototype.shouldUpdate;e.#i=i?.H??new Ip,e.I=i?.I??new Ip,e.J=i?.J??[],e._offspring=e.J,e._postLoad=e.I,e.el=i??e,e.#r=e.enableUpdating,e.enableUpdating=aL,e.shouldUpdate!==n&&(e.#t=e.shouldUpdate,e.shouldUpdate=n),s&&(e.#e=new Map,r.elementProperties.forEach((o,a)=>e.#e.set(a,s())))}static finalizeStyles(e){const r=super.finalizeStyles(e),i=this.shadowRootOptions===tx;return this.K?.commonStyles===void 0||i?r:[this.K.commonStyles,...r]}static createProperty(e,r){const i=typeof r=="number"?r:Array.isArray(r)?r[0]:0,s=Array.isArray(r)?r[1]:void 0,n=s?.hasChanged??wS,o={attribute:i&IJ&&typeof e=="string"?JY(e):!1,reflect:!!(i&CJ),type:i&NJ?Boolean:i&PJ?Number:void 0,state:!!(i&LJ),readOnly:!!(i&RJ),noAccessor:!!(i&kJ),c:!1,...s,hasChanged(a,l){const c=n(a,l);return o.c=c,c}};super.createProperty(e,o)}static getPropertyDescriptor(e,r,i){const s=this.K,n=super.getPropertyDescriptor(e,r,i);return i.d=n,{...n,get(){return s.t?.(this.#e.get(e)),n.get?.call(this)},set(o){const a=this.manager;if(i.readOnly&&!ex&&(a.R||a.connectedCalled))throw Error(`Cannot assign to read-only property "${e}" of ${this.el.localName}. Trying to assign "${o}"`);n.set.call(this,o??void 0),i.c&&this.#e?.get(e)?.notify(),a.T.length>0&&a?.S(e,o)}}}static{this.lumina=!0}#e;#t;#r;#i;#s;connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const e=this.constructor.K.c?.(()=>this.requestUpdate());this.#s=e;const r=!this.manager.connectedCalled;super.connectedCallback(),r?queueMicrotask(()=>this.#c().catch(i=>{this.#i.reject(i),setTimeout(()=>{throw i})})):e&&this.requestUpdate()}#l(e){try{this.#s.clear(),this.constructor.K.r(this.#s,()=>super.update(e))}catch(r){throw this.#s.clear(),r}}disconnectedCallback(){super.disconnectedCallback(),this.#s?.destroy(),this.#s=void 0}createRenderRoot(){const e=this.el.shadowRoot,r=this.constructor,i=r.shadowRootOptions,n=e??(i===tx?this.el:this.el.attachShadow(i));if(e)return Nc.prototype.createRenderRoot.call(this),e;if(this.isConnected){const o=n.getRootNode();o.adoptedStyleSheets=[...o.adoptedStyleSheets,...r.elementStyles.map(a=>"styleSheet"in a?a.styleSheet:a)]}return n}async#c(){const e=this.el.G??oL(this.el);e&&await e;const r=[];for(const s of this.M)"triggerLoad"in s?r.push(s.triggerLoad()):r.push(Zw(s.hostLoad,s));await Promise.all(r),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(s=>s.has(rx)&&this.manager.U()),this.#r(!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const i=this.J.filter(s=>!s.manager?.loadedCalled);i.length&&await Promise.allSettled(i.map(async s=>await s.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const s of this.M)"triggerLoaded"in s?s.triggerLoaded():or(s.hostLoaded,s);this.loaded?.(),this.#i.resolve()}shouldUpdate(e){return this.manager.Q=e,this.#t?.(e)??!0}update(e){this.#s?this.#l(e):super.update(e)}listen(e,r,i){const s=r?.bind(this)??r;this.manager.onLifecycle(()=>(this.el.addEventListener(e,s,i),()=>this.el.removeEventListener(e,s,i)))}listenOn(e,r,i,s){const n=i?.bind(this)??i;this.manager.onLifecycle(()=>(e.addEventListener(r,n,s),()=>e.removeEventListener(r,n,s)))}async componentOnReady(){return await this.#i.promise,this}addController(e){this.M.push(e),!(AS in e)&&this.renderRoot&&this.el.isConnected&&e.hostConnected?.()}removeController(e){this.M.splice(this.M.indexOf(e),1),e.controllerRemoved?.()}}const qJ=t=>{let e;const r=s=>{e=new URL(s,globalThis.location?.href||void 0).href},i={...t,getAssetPath(s){const n=new URL(s,e);return n.origin!==globalThis.location?.origin?n.href:n.pathname},setAssetPath:r,customElement(s,n){n.K=i,n.L=s,customElements.get(s)||customElements.define(s,n)}};return r(t.defaultAssetPath),i},$u=t=>typeof t=="object"&&t!=null?jJ(t):t,gM=t=>typeof t=="object"&&t!=null?VJ(t):t,HJ=vr;function Swe(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}const Awe={toAttribute:t=>t===!0?"":t===!1?null:t};let WJ=class{constructor(e,r){this._observable=new JE,this._value=e,this._equalityFunction=r}get value(){return Be(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}};function YJ(t,e=oC){return new WJ(t,e)}function JJ(t,e){return YJ(t,e)}function fL(){return new JE}function KJ(t){return new Yv(t)}function dL(t){Be(t)}function ZJ(t,e){return va(t,e)}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.12 */const Tm=qJ({defaultAssetPath:"https://js.arcgis.com/4.33/map-components/",hydratedAttribute:"hydrated"}),{customElement:XJ,getAssetPath:QJ,setAssetPath:Mwe}=Tm;Tm.t=dL;Tm.o=fL;Tm.c=KJ;Tm.r=ZJ;const pL=t=>(...e)=>{const r=iL(),i=new t(...e),s=i.exports;rL(r.at(-1));const n=i.component.manager;n.W(i,s),i.watchExports(n.W.bind(n,i)),EJ(i);const o=[i.component,...r].reverse();return $S(o,a=>a===void 0?void 0:eK(i,a,s),s)},eK=(t,{host:e,key:r,isReactive:i},s)=>{const n=e,o=n[r]!==t.exports,a=n[r]!==s,l=s!==t.exports;if(o&&!a&&l&&(n[r]=t.exports),e===t.component){if(i){const d=t.component.manager;a&&d.W(t,n[r]),t.onUpdate(p=>{if(p.has(r)){const y=n[r];y!==t.exports&&d.W(t,y)}})}t.O=i?void 0:r}const f=t.component.constructor.elementProperties.get(r)?.readOnly;t.watchExports(()=>{n[r]!==t.exports&&(f?MJ(()=>{n[r]=t.exports}):n[r]=t.exports)})},tK=t=>mL(void 0,t),$we=t=>e=>mL(e,t);class rK extends IS{constructor(e,r){super(e);const i=this.exports;try{eh(this.component);const s=r(this.component,this),n=this.exports!==i;if(xJ(s)){n||this.setProvisionalExports(s);const o=s.then(a=>{this.exports=a,super.catchUpLifecycle()}).catch(a=>{this.P.reject(a),console.error(a)});this.onLoad(async()=>await o)}else(!n||s!==void 0)&&(this.exports=s),queueMicrotask(()=>super.catchUpLifecycle())}catch(s){this.P.reject(s),console.error(s)}}catchUpLifecycle(){}}const mL=pL(rK),Owe=(t,e)=>new iK(t,e);class iK extends IS{#e;#t;#r;constructor(e,r){super(),this.#t=e,this.#r=r,this.#e=new MutationObserver(i=>{i.forEach(s=>{e.includes(s.attributeName)&&r.call(this.component,this.component.el.getAttribute(s.attributeName),s.oldValue,s.attributeName)})})}hostConnected(){this.#t.forEach(e=>{this.component.el.hasAttribute(e)&&this.#r.call(this.component,null,this.component.el.getAttribute(e),e)}),this.#e.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this.#t})}hostDisconnected(){this.#e.disconnect()}}const sK=t=>(e={})=>tK((r,i)=>{const s=WP(r.el),n={_lang:s.lang,_t9nLocale:s.t9nLocale,_loading:!0},o=r;i.onLifecycle(()=>WY(r.el,()=>t("./assets"),({t9nLocale:l,t9nStrings:c,lang:f})=>{const d={...c,_lang:f,_t9nLocale:l,_loading:!1};i.exports=d;const p=c.componentLabel;typeof p=="string"&&"label"in r&&r.label==null&&(r.label??=p),a(o.messageOverrides)},e.name));const a=l=>{const c=i.exports,f=c._original??c,d=yL(f,l);l&&(d._original=f),i.exports=d};return"messageOverrides"in o&&i.onUpdate(l=>{l.has("messageOverrides")&&a(o.messageOverrides)}),e.blocking?(i.setProvisionalExports(n,!1),i.ready):n}),yL=(t,e)=>{if(!e)return t;const r={...t};return Object.entries(e).forEach(([i,s])=>{typeof s=="object"?r[i]=yL(t[i],s):r[i]=s??t[i]}),r},nK=t=>aK,oK="arcgisPropertyChange",aK=(...t)=>{const e=wf(),r=OS(oK,void 0,e);let i=!0;return e.manager.onUpdated(s=>{if(i||!e.el.isConnected){i=!1;return}for(const n of t)s.has(n)&&r.emit({name:n})}),r};let A0=class extends tt{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};g([A({readOnly:!0})],A0.prototype,"version",null),A0=g([ie("esri.views.layers.support.ClipArea")],A0);var ix;let uo=ix=class extends A0{constructor(t){super(t),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new ix({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};g([A({type:[Number,String],json:{write:!0}})],uo.prototype,"left",void 0),g([A({type:[Number,String],json:{write:!0}})],uo.prototype,"right",void 0),g([A({type:[Number,String],json:{write:!0}})],uo.prototype,"top",void 0),g([A({type:[Number,String],json:{write:!0}})],uo.prototype,"bottom",void 0),uo=ix=g([ie("esri.views.layers.support.ClipRect")],uo);function lK(t,e){const r=10**e;return Math.round(t*r)/r}const dy={left:0,right:0,top:0,bottom:0};let rs=class extends oi{constructor(e){super(e),this._leadingClips=new Map,this._trailingClips=new Map,this.direction="horizontal",this.leadingLayers=new Mt,this.max=100,this.min=0,this.precision=4,this.step=.5,this.stepMultiplier=10,this.trailingLayers=new Mt,this.view=null}initialize(){this.addHandles([Kr(()=>[this.view,this.view?.ready,this.position,this.direction],()=>this._clipLayers(),wb),Kr(()=>this.leadingLayers.toArray(),()=>this._clipLeadingLayers(),wb),Kr(()=>this.trailingLayers.toArray(),()=>this._clipTrailingLayers(),wb)])}destroy(){this._removeExistingClips()}get position(){return 25}set position(e){const{precision:r,min:i,max:s}=this;this._set("position",lK(Math.max(Math.min(e,s),i),r))}get state(){return this.view?.ready?"ready":"disabled"}_clipLayers(){this._clipLeadingLayers(),this._clipTrailingLayers()}_clipLeadingLayers(){this._removeClips("leading");const{leadingLayers:e}=this;e.forEach(r=>this._clipLayer({layer:r,type:"leading"}))}_clipTrailingLayers(){this._removeClips("trailing");const{trailingLayers:e}=this;e.forEach(r=>this._clipLayer({layer:r,type:"trailing"}))}async _getLayerView(e){const{view:r}=this;if(!e||!r)return null;const i=await r.whenLayerView(e);return"clips"in i?i:null}_getVerticalClipRect(e){const{position:r}=this;return e==="leading"?new uo({...dy,bottom:100-r+"%"}):e==="trailing"?new uo({...dy,top:`${r}%`}):null}_getHorizontalClipRect(e){const{position:r}=this;return e==="leading"?new uo({...dy,right:100-r+"%"}):e==="trailing"?new uo({...dy,left:`${r}%`}):null}_getClipRect(e){const{direction:r}=this;return r==="vertical"?this._getVerticalClipRect(e):r==="horizontal"?this._getHorizontalClipRect(e):null}async _clipLayer(e){const{_leadingClips:r,_trailingClips:i}=this,{layer:s,type:n}=e,o=n==="trailing"?i:n==="leading"?r:null,a=await this._getLayerView(s);if(!(a&&"clips"in a&&o&&a.hasOwnProperty("clips")))return;const l=o.get(a);l&&a.clips.remove(l);const c=this._getClipRect(n);c&&(o.set(a,c),a.clips.add(c))}_removeClips(e){const{_leadingClips:r,_trailingClips:i}=this,s=e==="trailing"?i:e==="leading"?r:null;s&&(s.forEach((n,o)=>{o&&o.hasOwnProperty("clips")&&o.clips.remove(n)}),s.clear())}_removeExistingClips(){this._removeClips("leading"),this._removeClips("trailing")}};g([A()],rs.prototype,"direction",void 0),g([A({type:Mt,nonNullable:!0})],rs.prototype,"leadingLayers",void 0),g([A({readOnly:!0})],rs.prototype,"max",void 0),g([A({readOnly:!0})],rs.prototype,"min",void 0),g([A()],rs.prototype,"position",null),g([A()],rs.prototype,"precision",void 0),g([A({readOnly:!0})],rs.prototype,"state",null),g([A()],rs.prototype,"step",void 0),g([A()],rs.prototype,"stepMultiplier",void 0),g([A({type:Mt,nonNullable:!0})],rs.prototype,"trailingLayers",void 0),g([A()],rs.prototype,"view",void 0),rs=g([ie("esri.widgets.Swipe.SwipeViewModel")],rs);const cK=rs;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.12 */const uK=sK(QJ),Cwe=(t,e)=>{const i=wf().manager;i.onLoaded(()=>i.onLifecycle(()=>zC(t,e,s.emit)));const s=OS();return s};class hK extends CS{constructor(e,r){super(e),this.Y=new Map,this.A=void 0,this.#t=fL();const i=this;i.#r=r,i.Z(),i.setProvisionalExports(fK(e,new WeakRef(i),e.M.length-1,i.instance,i.Y),!1),sL(e,s=>{if(s){const n=Kr(()=>e[s],o=>{if(o===i.instance)return;const a=i.instance;i.exports=o,i.instance=o,i.Y.forEach((l,c)=>e.requestUpdate(l,a[c])),i.#e&&a.destroy(),i.#e=!1},{sync:!0});i.onDestroy(n.remove)}},i.exports)}#e;#t;#r;get exports(){return dL(this.#t),super.exports}set exports(e){super.exports=e,this.#t.notify()}Z(){const e=this;e.instance="prototype"in e.#r&&"declaredClass"in e.#r.prototype?new e.#r:e.#r(),e.#e=!0}hostConnected(){this.exports=this.instance}hostDestroy(){this.#e&&this.instance.destroy?.()}}const fK=(t,e,r,i,s)=>new Proxy(i,{get:(n,o)=>{const a=n[o];if(typeof o=="symbol"||s.has(o))return a;const l=t.M[r];return l.A=o,$S(t,c=>{if(l.A=void 0,c!==void 0){const f=c.key;s.set(o,f);const d=t.constructor.getPropertyOptions(f),p=o!==f&&f.toLowerCase().includes("disable");dK(e,d,o,f,p),d.i===void 0&&pK(d,r,o,p)}},a)}}),dK=(t,e,r,i,s,n)=>n=Kr(()=>{const o=t.deref();return o===void 0||o.component.manager.destroyed?n=n.remove():o.exports[r]},(o,a)=>{if(!n)return;t.deref().component?.requestUpdate(i,s?!a:a),e.c=!1},{sync:!0}),pK=(t,e,r,i)=>{t.d.get=function(){const s=this.M[e]?.exports[r];return i?!s:s},t.d.set=function(s){const n=this.M[e];n.A!==r&&(n.exports[r]=i?!s:s)}},Nwe=t=>t.Y;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.12 */function py(t){t.el.childElem&&(t.el.childElem.ownedBy=t.el);const e=mK(t);if(!e){const r=_K(t);if(!r){gL(t);return}return bM(r,t,!0),r}return yK(e,t.el.parent)||(t.el.parent=e,e.localName==="arcgis-expand"?gK(e,t):e.localName==="arcgis-placement"?vK(e,t):bM(e,t,!1)),e}function mK({el:t}){for(let e=t.parentElement;e;e=e?.parentElement??null){if(vM.has(e.localName))return e;if("ownedBy"in e&&e.ownedBy instanceof HTMLElement&&vM.has(e.ownedBy.localName))return e.ownedBy}}const vM=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function yK(t,e){if(t!==e)return!1;const r=t.localName;return r==="arcgis-expand"||r==="arcgis-placement"}function v1(t,e,r="arcgisReady"){const i=t;if(i.view)e(i.view);else{let s=function(n){n.target===t&&(v1(t,e,r),t.removeEventListener(r,s))};t.addEventListener(r,s)}}const gK=(t,e)=>v1(t,r=>{e.el.childElem&&t.content!=null&&t.content.append(e.el.childElem),t.expandIcon=e.icon||e.widget?.icon||t.expandIcon,e.position=t.position,e.el.view=r}),vK=(t,e)=>v1(t,r=>{e.el.childElem&&e.el.append(e.el.childElem),e.position=t.position,e.el.view=r}),bM=(t,e,r)=>v1(t,i=>{r?gL(e):e.el.childElem&&bK(t,e),e.el.view=i},"arcgisViewReadyChange");function bK(t,e){const r=e.el.childElem??e.el,i=t?.childElem,s=[...t.children],n={};for(const l of s){if(l===i)continue;const c=l.position??"manual";n[c]??=[],n[c].push({child:l,position:c,index:s.indexOf(l)})}const o=n[e.position??"manual"]?.findIndex(({child:l})=>l===e.el),a=t.view.ui;a.remove(r),a.add(r,{position:e.position,index:o})}function gL(t){t.el.childElem&&(t.el.shadowRoot??t.el).append(t.el.childElem)}function _K(t,e){const r=t.referenceElement;if(typeof r!="string")return r??void 0;const i=r.includes("#")||r.includes(".")||r.includes("["),s=t.el.getRootNode();return(i?void 0:s.querySelector(`#${r}`))??s.querySelector(r)??void 0}class wK extends CS{#e=JJ(void 0);#t=void 0;#r=!1;constructor(e){super(e);const{el:r}=e,i=r.view;this.setProvisionalExports(void 0),Object.defineProperty(r,"view",{get:()=>this.#e.value,set:s=>{if(this.exports===s)return;const n=r.view;this.#e.value=s,this.exports=s,this.component.requestUpdate("view",n),this.#i()},configurable:!0,enumerable:!0}),e!==r&&Object.defineProperty(e,"view",{get:()=>r.view,set:s=>{r.view=s}}),queueMicrotask(()=>i?r.view=i:0)}hostConnected(){this.component.manager.hasDestroy&&(this.#t??=r2(()=>this.#e.value?.destroyed,()=>void this.component.destroy?.().catch(console.error),{sync:!0}),this.onDestroy(()=>this.#t?.remove())),this.component.manager.loadedCalled&&py(this.component)}hostLoad(){this.component.manager.destroyed}hostLoaded(){const{el:e}=this.component,r=e.shadowRoot?.firstElementChild??e.firstElementChild??void 0;e.childElem??=r,this.#r=!0,this.#i(),e.isConnected&&py(this.component)}hostDisconnected(){typeof this.component.el.childElem=="object"&&this.#e.value?.ui?.remove(this.component.el.childElem)}hostUpdate(e){e.has("position")&&this.component.el.childElem!=null&&typeof this.component.position=="string"&&py(this.component),e.has("referenceElement")&&py(this.component)}#i(){!this.#r||this.#e.value==null||(this.#r=!1,this.component.arcgisReady.emit())}}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.12 */const xK=(t,e)=>r=>SK(r,t);let EK=class extends hK{#e=void 0;constructor(e,r){super(e,r),new wK(this.component)}hostLoad(){this.#e=Kr(()=>this.component.el.view,e=>{this.instance.view=e,this.instance.map=e?.map},{sync:!0,initial:!0})}hostDestroy(){this.#e?.remove(),super.hostDestroy()}};const SK=pL(EK);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.12 */const _M={disabled:"esri-disabled",widget:"esri-widget esri-component"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.12 */const wM={dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.12 */const AK=eJ`@layer{arcgis-swipe,.arcgis-swipe{position:absolute;margin:0;background:transparent!important;padding:0;width:100%;height:100%;overflow:hidden;user-select:none}.arcgis-swipe,.arcgis-ui .arcgis-swipe{pointer-events:none!important}.arcgis-swipe__container{position:absolute;z-index:1;margin:0;outline:0;border:0;padding:0;overflow:hidden;pointer-events:auto;touch-action:none;outline-color:transparent}.arcgis-swipe--horizontal .arcgis-swipe__container{margin-left:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:col-resize;height:100%}.arcgis-swipe--vertical .arcgis-swipe__container{margin-top:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:row-resize;width:100%}.arcgis-swipe--disabled .arcgis-swipe__container{cursor:default;pointer-events:none}.arcgis-swipe__divider{position:absolute;background-color:var(--calcite-color-background)}.arcgis-swipe--horizontal .arcgis-swipe__divider{top:0;left:calc(var(--calcite-spacing-xxxl) / 2);margin-left:calc(var(--calcite-border-width-lg) * .5 * -1);border-right:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-left:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:var(--calcite-border-width-lg);height:100%}.arcgis-swipe--vertical .arcgis-swipe__divider{top:calc(var(--calcite-spacing-xxxl) / 2);left:0;margin-top:calc(var(--calcite-border-width-lg) * .5 * -1);border-top:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-bottom:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:100%;height:var(--calcite-border-width-lg)}.arcgis-swipe__handle{display:flex;position:relative;align-items:center;justify-content:center;border:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-radius:var(--calcite-corner-radius-round);background-color:var(--calcite-color-background);width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl);color:var(--calcite-color-border-input)}.arcgis-swipe__handle--hidden{visibility:hidden}.arcgis-swipe--vertical .arcgis-swipe__handle{rotate:90deg}.arcgis-swipe__handle-icon{position:relative;z-index:2}.arcgis-swipe--horizontal .arcgis-swipe__handle{top:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe--vertical .arcgis-swipe__handle{left:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe__container:focus .arcgis-swipe__handle,.arcgis-swipe__container:focus .arcgis-swipe__divider{outline:inset 2px var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.arcgis-swipe__container:focus .arcgis-swipe__handle{outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}}`,jo="arcgis-swipe",Qn={base:jo,baseDisabled:`${jo}--disabled`,vertical:`${jo}--vertical`,horizontal:`${jo}--horizontal`,container:`${jo}__container`,divider:`${jo}__divider`,handle:`${jo}__handle`,handleHidden:`${jo}__handle--hidden`,handleIcon:`${jo}__handle-icon`},TK=xK(cK);let MK=class extends NS{constructor(){super(...arguments),this._container=null,this._swiping=!1,this.messages=uK({}),this._pointerOffset=0,this.viewModel=TK(this),this._onContainerPointerDown=e=>{e.preventDefault();const{_container:r}=this;r&&document.activeElement!==this.el&&r.focus(),this._swiping=!0,this._calculatePointerOffset(e)},this.autoDestroyDisabled=!1,this.direction=this.viewModel.direction,this.disabled=!1,this.hideDivider=!1,this.hideHandle=!1,this.icon="compare",this.label=this.messages.componentLabel,this.leadingLayers=this.viewModel.leadingLayers,this.position="manual",this.swipePosition=this.viewModel.position,this.state=this.viewModel.state,this.trailingLayers=this.viewModel.trailingLayers,this.arcgisPropertyChange=nK()("state"),this.arcgisReady=OJ()}static{this.properties={autoDestroyDisabled:5,direction:3,disabled:7,hideDivider:7,hideHandle:7,icon:1,label:1,leadingLayers:0,messageOverrides:0,position:3,swipePosition:9,referenceElement:1,state:3,trailingLayers:0}}static{this.shadowRootOptions=tx}static{this.styles=AK}async destroy(){await this.manager.destroy()}loaded(){this.listenOn(document,"pointermove",this._onContainerPointerMove),this.listenOn(document,"pointerup",this._onContainerPointerUp)}_calculatePointerOffset(e){const{direction:r}=this,i=e.target,s=(r==="vertical"?i.clientHeight:i.clientWidth)/2,n=i.getBoundingClientRect(),o=e.clientX-n.left,a=e.clientY-n.top;this._pointerOffset=r==="vertical"?a-s:o-s}_onContainerPointerUp(e){this._swiping&&(e.preventDefault(),this._swiping=!1)}_onContainerPointerMove(e){if(!this._swiping)return;e.preventDefault();const{_pointerOffset:r,el:i,direction:s}=this,{clientX:n,clientY:o}=e,{top:a,left:l,width:c,height:f}=i.getBoundingClientRect(),d=s==="vertical"?f:c,p=(s==="vertical"?o-a-r:n-l-r)/d*100;this.swipePosition=p}_getKeyPosition(e){const{key:r}=e,{swipePosition:i}=this,{max:s,min:n,step:o,stepMultiplier:a,direction:l}=this.viewModel,c=o*a;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].includes(r)&&(e.preventDefault(),e.stopPropagation()),l==="vertical"?r==="ArrowDown"||r==="ArrowRight":r==="ArrowUp"||r==="ArrowRight"){const f=e.shiftKey?c:o;return i+f}if(l==="vertical"?r==="ArrowUp"||r==="ArrowLeft":r==="ArrowDown"||r==="ArrowLeft"){const f=e.shiftKey?c:o;return i-f}return r==="Home"?n:r==="End"?s:(l==="vertical"?r==="PageDown":r==="PageUp")?i+c:(l==="vertical"?r==="PageUp":r==="PageDown")?i-c:null}_onContainerKeyDown(e){const r=this._getKeyPosition(e);typeof r=="number"&&(this.swipePosition=r)}render(){const{state:e,direction:r}=this.viewModel,i=e==="disabled"||this.disabled,s={[_M.disabled]:i,[Qn.baseDisabled]:i,[Qn.vertical]:r==="vertical",[Qn.horizontal]:r==="horizontal"};return Uf`<div class=${$u(Qb(Qn.base,_M.widget,s))}>${e==="disabled"?null:this._renderContainer()}</div>`}_renderHandle(){const{direction:e}=this.viewModel,{hideHandle:r}=this,i={[wM.dragHorizontal]:e==="vertical",[wM.dragVertical]:e==="horizontal"},s=Qb(Qn.handle,!!r&&Qn.handleHidden);return Uf`<div class=${$u(s)} role=presentation><span aria-hidden=true class=${$u(Qb(Qn.handleIcon,i))}></span></div>`}_renderDivider(){return this.hideDivider?null:Uf`<div class=${$u(Qn.divider)} role=presentation></div>`}_renderContent(){return[this._renderDivider(),this._renderHandle()]}_renderContainer(){const{disabled:e,viewModel:r}=this,{max:i,min:s,direction:n,position:o}=r,a=this.label??this.messages.dragLabel??"",l=`${o}%`,c={top:n==="vertical"?l:void 0,left:n==="vertical"?void 0:l},f=this._renderContent();return e?Uf`<div class=${$u(Qn.container)} role=presentation style=${gM(c)}>${f}</div>`:Uf`<div @pointerdown=${this._onContainerPointerDown} .ariaLabel=${a} .ariaOrientation=${n} .ariaValueMax=${`${i}`} .ariaValueMin=${`${s}`} .ariaValueNow=${`${o}`} .ariaValueText=${l} class=${$u(Qn.container)} @keydown=${this._onContainerKeyDown} role=slider style=${gM(c)} tabindex=0 title=${a??HJ} touch-action=none>${f}</div>`}};XJ("arcgis-swipe",MK);class Nt{static async Basemap(e){const r=await ve(()=>import("./Basemap-DJMnN-9O.js").then(i=>i.B),__vite__mapDeps([39,1,40,41,38,3,42]),import.meta.url);return Reflect.construct(r.default,[e])}static async Map(e){const r=await ve(()=>import("./Map-DzKeRPTR.js"),__vite__mapDeps([67,39,1,40,41,38,3,42,68,5,69,70,71,72,73,61,74,75,76,77,78,46,47]),import.meta.url);return Reflect.construct(r.default,[e])}static async MapView(e){const r=await ve(()=>import("./MapView-CJM3wvZh.js").then(i=>i.H),__vite__mapDeps([79,1,80,68,63,10,3,61,49,50,4,5,6,81,41,82,83,67,39,40,38,42,69,70,71,72,73,74,75,76,77,78,46,47,84,45,35,11,85,24,25,86,87,88,89,90,91,92,93,94,95,28,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,7,113,114]),import.meta.url);return Reflect.construct(r.default,[e])}static async FeatureLayer(e){const r=await ve(()=>import("./FeatureLayer-B1MnbWtG.js"),__vite__mapDeps([115,1,44,56,116,24,25,45,55,57,58,47,35,117,41,5,85,118,119,120,121,122,123,124,125,66,126,127,128,129,130,131,132,60,61,46,63,10,3,133,134,135,136,54,137,138,139,75,76,77,140,141,142,143,144,145,146,147,148,149,150,151,152,13,14,153,83,34,18,154,16,17,155,156,157,158,159,160,70,161,162,59,38,163,164,165,166,167,168,169,170,171,172,173,174,175]),import.meta.url);return Reflect.construct(r.default,[e])}static async GraphicsLayer(e){const r=await ve(()=>import("./GraphicsLayer-BnIrIT3a.js"),__vite__mapDeps([176,84,46,1,47,137,56,138,139,75,76,77,164,57,58]),import.meta.url);return Reflect.construct(r.default,[e])}static async ImageryLayer(e){const r=await ve(()=>import("./ImageryLayer-C5WEBZ9r.js"),__vite__mapDeps([177,1,44,46,47,55,56,57,58,178,24,25,179,152,119,120,121,122,125,123,124,66,180,181,182,183,184,159,77,160,63,10,3,94,95,28,96,185,41,138,139,75,76,186,155,156,157,13,14,187,34,18,35,188,85,135,189,190,191,192,193,31,32,30,33,134,61,194,54,137,140,59,38,60,163,164,165,166,172,174,175]),import.meta.url);return Reflect.construct(r.default,[e])}static async MapImageLayer(e){const r=await ve(()=>import("./MapImageLayer-C8a31lxq.js"),__vite__mapDeps([195,1,40,41,44,142,46,47,136,196,83,55,56,57,58,60,61,68,197,132,85,24,25,28,190,191,94,95,96,192,193,31,32,30,33,134,198,29,135,194,161,162,117,5,118,119,120,121,122,123,124,125,66,126,127,128,169,168,34,18,35,129,130,131,151,152,13,14,153,154,16,17,155,156,157,158,159,77,160,174,199,54,137,138,139,75,76,140,59,38,163,164,165,166,200,201,188,172,175]),import.meta.url);return Reflect.construct(r.default,[e])}static async OpenStreetMapLayer(e){const r=await ve(()=>import("./OpenStreetMapLayer-CNPYSr9Z.js"),__vite__mapDeps([202,203,44,46,1,47,137,56,138,139,75,76,77,55,57,58,59,41,38,60,61,163,164,188,49,50]),import.meta.url);return Reflect.construct(r.default,[e])}static async TileLayer(e){const r=await ve(()=>import("./TileLayer-B-lunxmr.js"),__vite__mapDeps([204,40,41,44,46,1,47,136,48,49,50,51,52,53,13,14,31,196,83,55,56,57,58,60,61,68,197,132,85,24,25,28,190,191,94,95,96,192,193,32,30,33,134,198,29,135,194,161,162,117,5,118,119,120,121,122,123,124,125,66,126,127,128,169,168,34,18,35,129,130,131,151,152,153,154,16,17,155,156,157,158,159,77,160,174,199,54,137,138,139,75,76,140,59,38,163,164,188]),import.meta.url);return Reflect.construct(r.default,[e])}static async WMSLayer(e){const r=await ve(()=>import("./WMSLayer-Dd9gj1x0.js"),__vite__mapDeps([205,68,44,6,142,46,1,47,137,56,138,139,75,76,77,55,57,58,59,41,38,60,61,163,164,165,166,35,206,207,188]),import.meta.url);return Reflect.construct(r.default,[e])}static async ArcadeExecutor(e,r){const{createArcadeExecutor:i}=await ve(async()=>{const{createArcadeExecutor:s}=await import("./arcade-DlfF3JqD.js");return{createArcadeExecutor:s}},__vite__mapDeps([208,16,17,18,22,115,1,44,56,116,24,25,45,55,57,58,47,35,117,41,5,85,118,119,120,121,122,123,124,125,66,126,127,128,129,130,131,132,60,61,46,63,10,3,133,134,135,136,54,137,138,139,75,76,77,140,141,142,143,144,145,146,147,148,149,150,151,152,13,14,153,83,34,154,155,156,157,158,159,160,70,161,162,59,38,163,164,165,166,167,168,169,170,171,172,173,174,175]),import.meta.url);return await i(e,r)}static async ColorBackground(e){const r=await ve(()=>import("./ColorBackground-CNzrRYzI.js"),__vite__mapDeps([114,1]),import.meta.url);return Reflect.construct(r.default,[e])}static async FeatureFilter(e){const r=await ve(()=>import("./FeatureFilter-DC96N5sf.js"),__vite__mapDeps([147,85,24,25,47,1]),import.meta.url);return Reflect.construct(r.default,[e])}static async FieldFromJson(e){return(await ve(()=>import("./Field-CzUupKXc.js").then(i=>i.F),__vite__mapDeps([24,25]),import.meta.url)).default.fromJSON(e)}static async Query(){const e=await ve(()=>import("./Query-BQgZ7-at.js").then(r=>r.Q),__vite__mapDeps([85,24,25,47]),import.meta.url);return Reflect.construct(e.default,[])}static async QueryByIds(e,r,i){const{executeForIds:s}=await ve(async()=>{const{executeForIds:n}=await import("./query-BnXUn6Oi.js");return{executeForIds:n}},__vite__mapDeps([209,210,126,85,24,25,47,211,28,1,94,95,96,191,192,193,31,32,30,33,134,61,212,135,213,214,215,216,127,35,190,198,29,217,218,219,220,221,194,222,223]),import.meta.url);return s(e,r,i)}static async RendererFromJson(e){const{fromJSON:r}=await ve(async()=>{const{fromJSON:i}=await import("./jsonUtils-DS7WiS7O.js");return{fromJSON:i}},__vite__mapDeps([150,151,152,119,120,121,122,58,125,1,13,14,153,83,34,18,35,154,16,17,155,156,157,158,159,77,160,118,123,124,66]),import.meta.url);return r(e)}}class je{wkid;latestWkid;wkt;constructor(e,r){typeof e=="string"?this.wkt=e:(this.wkid=e,this.latestWkid=r)}isEqual(e){return!!(this.isWebMercator()&&e.isWebMercator()||this.wkid&&e.wkid&&this.wkid===e.wkid||this.wkt&&e.wkt&&this.wkt===e.wkt||this.latestWkid&&e.latestWkid&&this.latestWkid===e.latestWkid)}clone(){const e=new je("");return e.latestWkid=this.latestWkid,e.wkid=this.wkid,e.wkt=this.wkt,e}lean(){const e={};return this.wkt?e.wkt=this.wkt:(e.wkid=this.wkid,this.latestWkid&&(e.latestWkid=this.latestWkid)),e}isWebMercator(){const e=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&e.includes(this.wkid)||this.latestWkid&&e.includes(this.latestWkid))}static latLongSR(){return new je(4326)}static fromConfig(e){if(e.wkt)return new je(e.wkt);if(e.wkid)return new je(e.wkid,e.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(e){return e?e instanceof je?e.clone():typeof e=="string"&&e.startsWith("EPSG:")?new je(parseInt(e.substring(5).trim())):new je(e):je.latLongSR()}static fromESRI(e){if(e.wkt)return new je(e.wkt);{const r=e.toJSON().latestWkid,i=new je(e.wkid);return r&&(i.latestWkid=r),i}}toESRI(){return new Xe(this.lean())}static fromGeoJSON(e){const r=je.parseGeoJsonCrs(e);return r.substring(0,5)==="EPSG:"?new je(parseInt(r.slice(5))):new je(r)}static parseGeoJsonCrs(e){if(e){if(e.type==="name"){const r=/urn:ogc:def:crs:EPSG::(\d+)/,i=e.properties.name,s=i.match(r);if(s)return"EPSG:"+s[1];if(i.substring(0,7)!=="urn:ogc")return i}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",e),"EPSG:4326"}toGeoJSON(){const e={type:"name",properties:{name:""}};return this.wkt?e.properties.name=this.wkt:e.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),e}}class uu{sr;id;constructor(e,r){this.id=e?e.toString():"",this.sr=je.parseSR(r)}get type(){return Je.UNKNOWN}childIdGenerator(e){return`${this.id}-${e}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Je.NONE||this.type===Je.UNKNOWN}geoJsonFactory(e,r){const i={type:e,coordinates:r};return this.sr&&(i.crs=this.sr.toGeoJSON()),i}}class Rl extends uu{constructor(){super("no_geometry")}get type(){return Je.NONE}}let Ji=class vd extends uu{rawArray;constructor(e,r,i,s){super(e,r.sr||i),s?this.rawArray=r.slice():this.rawArray=vd.parseXY(r)}get type(){return Je.POINT}get x(){return this.rawArray[0]}set x(e){this.rawArray[0]=e}get y(){return this.rawArray[1]}set y(e){this.rawArray[1]=e}toArray(){return this.rawArray.slice()}static parseXY(e){let r;if(Array.isArray(e)&&e.length===2)r=e;else{if(e instanceof vd)return e.toArray();r=[e.x,e.y]}if(isNaN(r[0])||isNaN(r[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(r[0]),parseFloat(r[1])]}static fromESRI(e,r){return new vd(r,[e.x,e.y],je.fromESRI(e.spatialReference),!0)}toESRI(){return new ut({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new vd(r,e.coordinates,je.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(mr.POINT,this.toArray())}};class ys extends uu{rawArray;constructor(e,r,i,s){super(e,r.sr||i),s?this.rawArray=ys.arrayDeepCopy(r):r instanceof ys?this.rawArray=r.toArray():this.rawArray=ys.parsePointSet(r)}get pointArray(){return this.rawArray.map((e,r)=>new Ji(this.childIdGenerator(r),e,this.sr,!0))}getAt(e){return new Ji(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,r){this.rawArray[r]=Ji.parseXY(e)}get length(){return this.rawArray.length}toArray(){return ys.arrayDeepCopy(this.rawArray)}static parsePointSet(e){if(Array.isArray(e)){if(e.length===0)throw new Error("no verticies provided");return e.map(r=>Ji.parseXY(r))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(e){return e.map(r=>r.slice())}}class gh extends ys{constructor(e,r,i,s){super(e,r,i,s)}get type(){return Je.MULTIPOINT}static fromESRI(e,r){return new gh(r,e.points,je.fromESRI(e.spatialReference),!0)}toESRI(){return new xn({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new gh(r,e.coordinates,je.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(mr.MULTIPOINT,this.toArray())}}class gl extends ys{constructor(e,r,i,s){if(super(e,r,i,s),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Je.LINESTRING}static fromESRI(e,r){return new gl(r,e.paths[0],je.fromESRI(e.spatialReference),!0)}toESRI(){return new ls({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new gl(r,e.coordinates,je.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(mr.LINESTRING,this.toArray())}}class Sn extends uu{rawArray;constructor(e,r,i,s){if(super(e,r.sr||i),s)this.rawArray=Sn.arrayDeepCopy(r);else if(r instanceof Sn)this.rawArray=r.toArray();else if(r instanceof ys)this.rawArray=[r.toArray()];else if(Array.isArray(r)){if(r.length===0)throw new Error("no lines provided");this.rawArray=r.map(n=>ys.parsePointSet(n))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((e,r)=>new gl(this.childIdGenerator(r),e,this.sr,!0))}getAt(e){return new gl(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,r){this.rawArray[r]=ys.parsePointSet(e)}get length(){return this.rawArray.length}get type(){return Je.MULTILINESTRING}toArray(){return Sn.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(e){return e.map(r=>r.map(i=>i.slice()))}static fromESRI(e,r){return new Sn(r,e.paths,je.fromESRI(e.spatialReference),!0)}toESRI(){return new ls({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new Sn(r,e.coordinates,je.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(mr.MULTILINESTRING,this.toArray())}}class Pc extends ys{constructor(e,r,i,s){if(super(e,r,i,s),Pc.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Je.LINEARRING}updateAt(e,r){const i=this.length-1;r===0?super.updateAt(e,i):r===i&&super.updateAt(e,0),super.updateAt(e,r)}static closeRing(e){const r=e[0],i=e[e.length-1];(r[0]!==i[0]||r[1]!==i[1])&&e.push(r.slice())}static fromESRI(e,r){return new Pc(r,e.rings[0],je.fromESRI(e.spatialReference),!0)}toESRI(){return new si({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new Pc(r,e.coordinates,je.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(mr.POLYGON,[this.toArray()])}}class Oi extends uu{rawArray;constructor(e,r,i,s){super(e,r.sr||i),s?this.rawArray=Oi.arrayDeepCopy(r):this.rawArray=Oi.parsePolygon(r)}addLinearRings(e){e.forEach(r=>this.rawArray.push(r.toArray()))}get ringArray(){return this.rawArray.map((e,r)=>new Pc(this.childIdGenerator(r),e,this.sr,!0))}get type(){return Je.POLYGON}toArray(){return Oi.arrayDeepCopy(this.rawArray)}static parsePolygon(e){let r=[];if(e instanceof Oi)return e.toArray();if(e instanceof Sn)r=e.toArray();else if(e instanceof ys)r=[e.toArray()];else if(Array.isArray(e)){if(e.length===0)throw new Error("no rings provided");r=e.map(i=>ys.parsePointSet(i))}else throw new Error("invalid input format for parsePolygon");return r.forEach(i=>Pc.closeRing(i)),r}static arrayDeepCopy(e){return e.map(r=>r.map(i=>i.slice()))}static fromESRI(e,r){return new Oi(r,e.rings,je.fromESRI(e.spatialReference),!0)}toESRI(){return new si({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new Oi(r,e.coordinates,je.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(mr.POLYGON,this.toArray())}}class la extends uu{rawArray;constructor(e,r,i,s){super(e,r.sr||i),s?this.rawArray=la.arrayDeepCopy(r):this.rawArray=la.parseMultiPolygon(r)}addPolygon(e){this.rawArray.push(e.toArray())}get polygonArray(){return this.rawArray.map((e,r)=>new Oi(this.childIdGenerator(r),e,this.sr,!0))}get type(){return Je.MULTIPOLYGON}toArray(){return la.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(e){if(e instanceof la)return e.toArray();if(e instanceof Oi)return[e.toArray()];if(e instanceof Sn||e instanceof ys)return[Oi.parsePolygon(e)];if(Array.isArray(e)){if(e.length===0)throw new Error("no polygons provided");return e.map(r=>Oi.parsePolygon(r))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(e){return e.map(r=>r.map(i=>i.map(s=>s.slice())))}static fromESRI(e,r){return new la(r,[e.rings],je.fromESRI(e.spatialReference),!0)}toESRI(){const e=[];return this.toArray().forEach(r=>{r.forEach(i=>e.push(i))}),new si({rings:e,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new la(r,e.coordinates,je.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(mr.MULTIPOLYGON,this.toArray())}}class er extends uu{rawMin;rawMax;constructor(e,r,i,s){super(e,r.sr||s),this.rawMin=Ji.parseXY(r),this.rawMax=Ji.parseXY(i)}get type(){return Je.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new Ji(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(e){return er.fromESRI(this.toESRI().expand(e),`${this.id}-expanded`)}clone(){return new er(this.id,this.rawMin,this.rawMax,this.sr)}contains(e){return this.sr.isEqual(e.sr)?this.xmin<=e.x&&this.xmax>=e.x&&this.ymin<=e.y&&this.ymax>=e.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new Oi(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(e,r,i,s,n,o){return new er(e,[r,i],[s,n],o)}static fromConfig(e,r){return new er(e,[r.xmin,r.ymin],[r.xmax,r.ymax],je.fromConfig(r.spatialReference))}isEqual(e){return e?this.xmin===e.xmin&&this.ymin===e.ymin&&this.xmax===e.xmax&&this.ymax===e.ymax:!1}static fromESRI(e,r){return er.fromParams(r,e.xmin,e.ymin,e.xmax,e.ymax,je.fromESRI(e.spatialReference))}toESRI(){return new Et({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(e,r){return er.fromESRI(Et.fromJSON(e),r)}static fromGeoJSON(e,r){if(e.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const i=e.coordinates[0].slice(),s=i.slice();return[1,2,3].forEach(n=>{[0,1].forEach(o=>{const a=e.coordinates[n];i[o]>a[o]&&(i[o]=a[o]),s[o]<a[o]&&(s[o]=a[o])})}),new er(r,i,s,je.fromGeoJSON(e.crs))}toGeoJSON(){return this.geoJsonFactory(mr.POLYGON,this.toPolygonArray())}}class _a{c;constructor(e){if(!e){this.c=[0,0,0,1];return}if(Array.isArray(e)){const r=e.length;if(r<3||r>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=e.map((i,s)=>s===3?i:parseInt(i)),r===3&&this.c.push(1)}else if(typeof e=="string"){const r=e.substring(0,1)==="#"?e.substring(1):e;this.c=[0,2,4,6].map(i=>{const s=r.substring(i,i+2);return _a.hexToInt(s)})}else this.c=[e.r,e.g,e.b,e.a??1];this.c.forEach((r,i)=>{r<0&&(console.error("Negative value passed to colour"),this.c[i]=0),r>255&&(console.error("Rotund value passed to colour"),this.c[i]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const e=this.rgba;return e[3]=e[3]*255,`#${e.map(r=>_a.intToHex(r)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new wt(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(e){return e.length===0?255:parseInt(e,16)}static intToHex(e){const r=e.toString(16);return r.length===1?`0${r}`:r}}class ca{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(e){if(!(typeof e>"u"))if(typeof e=="string"){let r;const i=e.length;if(i===0)return;const s=e.substring(i-2);return s==="px"?r=parseFloat(e.substring(0,i-2))*1.333333:s==="pt"?r=parseFloat(e.substring(0,i-2)):r=parseFloat(e),r}else return e}}class dl extends ca{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(e){if(e=e||{style:Wo.CIRCLE},super(),this._style=e.style||Wo.CIRCLE,e.style===Wo.ICON){const r=e;this._icon=r.icon||"",this._height=ca.convToPoints(r.height)||16.5,this._width=ca.convToPoints(r.width)||16.5,this._size=0,this._colour=new _a,this._outline=new bo,this._path=""}else{const r=e;this._size=ca.convToPoints(r.size)||12,this._colour=new _a(r.colour??"#ffffff40"),this._outline=new bo(r.outline),this._path=this._style===Wo.PATH&&r.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=ca.convToPoints(e.xOffset)||0,this._yOffset=ca.convToPoints(e.yOffset)||0,this._angle=e.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(e){this._style===Wo.ICON!==e&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const e={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===Wo.ICON?{...e,icon:this.icon,width:this.width,height:this.height}:{...e,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let e;return this.styleType===Wo.ICON?dl.isImageUrl(this.icon)?(e=new Si,e.url=this.icon,e.width=this.width,e.height=this.height,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new qr,e.color=new wt(this.colour.rgba),e.size=this.width,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new qr,e.color=new wt(this.colour.rgba),e.size=this.size,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle,e.path=this.path,e.style=this.styleType,e.outline=this.outline.toESRI()),e}static fromESRI(e){const r={xOffset:e.xoffset,yOffset:e.yoffset,angle:e.angle};if(e.type==="simple-marker"){const i=r;i.style=e.style,i.colour=e.color.toRgba(),i.size=e.size,i.path=e.path,i.outline=bo.fromESRI(e.outline).toOptions()}else{const i=r;i.style=Wo.ICON,i.width=e.width,i.height=e.height,i.icon=e.url}return new dl(r)}static fromArcServer(e){return dl.fromESRI(vS(e))}static isImageUrl(e){return!!e.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!e.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class bo extends ca{_style;_width;_miter;_cap;_join;_colour;constructor(e){e=e||{},super(),this._style=e.style||ss.SOLID;const r=ca.convToPoints(e.width);this._width=typeof r>"u"||r<0?.75:r,this._colour=new _a(e.colour),this._miter=e.miter??2,this._cap=e.cap||FI.ROUND,this._join=e.join||DI.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const e=new Hr;return e.width=this.width,e.color=this.colour.toESRI(),e.style=this.styleType,e.cap=this.cap,e.miterLimit=this.miter,e.join=this.join,e}static fromESRI(e){const r={width:e.width,colour:e.color.toRgba(),style:e.style};return new bo(r)}static fromArcServer(e){return bo.fromESRI(vS(e))}}class Pp extends ca{_outlineStyle;_fillColour;_fillStyle;constructor(e){super(),e=e||{},e.fill||(e.fill={}),this._fillColour=new _a(e.fill.colour),this._fillStyle=e.fill.style||UI.SOLID,this._outlineStyle=new bo(e.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const e=this.outline.toESRI(),r=new wt(this.fillColour.rgba),i=new Is;return i.style=this.fillStyleType,i.color=r,i.outline=e,i}static fromESRI(e){const r={fill:{colour:e.color.toRgba(),style:e.style},outline:bo.fromESRI(e.outline).toOptions()};return new Pp(r)}static fromArcServer(e){return Pp.fromESRI(vS(e))}}class $K{Extent=er;Graphic=Un;LineString=gl;LineStyle=bo;LinearRing=Pc;MultiLineString=Sn;MultiPoint=gh;MultiPolygon=la;Point=Ji;PointStyle=dl;Polygon=Oi;PolygonStyle=Pp;SpatialReference=je;esriMapClickToRamp(e,r){return{mapPoint:Ji.fromESRI(e.mapPoint,r),screenX:e.x,screenY:e.y,button:e.button,input:e.native.pointerType,clickTime:e.timestamp}}esriMapMouseToRamp(e){return{screenX:e.x,screenY:e.y,button:e.button,moveTime:e.timestamp}}geomRampToEsri(e){return e.toESRI()}geomEsriToRamp(e,r){switch(e.type){case"point":return Ji.fromESRI(e,r);case"polyline":{const i=e;return i.paths.length===1?gl.fromESRI(i,r):Sn.fromESRI(i,r)}case"polygon":return Oi.fromESRI(e,r);case"extent":return er.fromESRI(e,r);case"multipoint":return gh.fromESRI(e,r);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomGeoJsonToRamp(e,r){switch(e.type){case mr.POINT:return Ji.fromGeoJSON(e,r);case mr.LINESTRING:return gl.fromGeoJSON(e,r);case mr.POLYGON:return Oi.fromGeoJSON(e,r);case mr.MULTIPOINT:return gh.fromGeoJSON(e,r);case mr.MULTILINESTRING:return Sn.fromGeoJSON(e,r);case mr.MULTIPOLYGON:return la.fromGeoJSON(e,r);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomRampToGeoJson(e){return e.toGeoJSON()}graphicRampToGeoJson(e){const r={},i={type:"Feature",geometry:this.geomRampToGeoJson(e.geometry),properties:r};return Object.keys(e.attributes).forEach(s=>i.properties[s]=e.attributes[s]),i}graphicGeoJsonToRamp(e,r){if(e.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const i=this.geomGeoJsonToRamp(e.geometry,r),s={};return Object.keys(e.properties.forEach(o=>s[o]=e.properties[o])),new Un(i,"",s)}graphicRampToEsri(e){const r={attributes:{},id:e.id};return r.geometry=this.geomRampToEsri(e.geometry),Object.keys(e.attributes).forEach(i=>r.attributes[i]=e.attributes[i]),e.style&&(r.symbol=this.styleRampToEsri(e.style)),new ts(r)}styleRampToEsri(e){return e.toESRI()}styleEsriToRamp(e){switch(e.type){case"picture-marker":case"simple-marker":return dl.fromESRI(e);case"simple-line":return bo.fromESRI(e);case"simple-fill":return Pp.fromESRI(e);default:return console.error(`Unsupported ESRI symbol type encountered: ${e.type}`),new dl}}serverGeomTypeToRampGeomType(e){if(!e)return Je.NONE;switch(e){case"esriGeometryPolygon":return Je.POLYGON;case"esriGeometryPolyline":return Je.LINESTRING;case"esriGeometryPoint":return Je.POINT;case"esriGeometryMultipoint":return Je.MULTIPOINT;case"esriGeometryEnvelope":return Je.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${e}`),Je.UNKNOWN}}clientGeomTypeToRampGeomType(e){if(!e)return Je.NONE;switch(e){case"polygon":return Je.POLYGON;case"polyline":return Je.LINESTRING;case"point":return Je.POINT;case"multipoint":return Je.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${e}`),Je.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(e){switch(e){case mr.POINT:return"point";case mr.LINESTRING:case mr.MULTILINESTRING:return"polyline";case mr.POLYGON:case mr.MULTIPOLYGON:return"polygon";case mr.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${e}`)}}isImageUrl(e){return dl.isImageUrl(e)}}class Eg{layerIdx;name;children;uid;isRoot;constructor(e,r,i="",s=!0){this.layerIdx=e,this.name=i,this.isRoot=s,this.children=[],this.uid=r}findChildByUid(e){if(this.uid===e)return this;{let r;return this.children.some(i=>r=i.findChildByUid(e)),r}}findChildByIdx(e){if(this.layerIdx===e)return this;{let r;return this.children.some(i=>r=i.findChildByIdx(e)),r}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class vL{minScale;maxScale;constructor(e=0,r=0){this.minScale=e,this.maxScale=r}isOffScale(e){const r={offScale:!1,zoomIn:!1};return e<this.maxScale&&this.maxScale!==0?(r.offScale=!0,r.zoomIn=!1):e>this.minScale&&this.minScale!==0&&(r.offScale=!0,r.zoomIn=!0),r}}class bL{sql;cache;extent;constructor(e="",r=""){this.sql={[Vi.PERMANENT]:e,[Vi.INITIAL]:r},this.extent=void 0,this.cache={}}sqlActiveFilters(e=[]){const r=this.sql,i=Object.keys(r).filter(s=>r[s]);return e.length===0?i:i.filter(s=>e.indexOf(s)===-1)}isActive(){return this.sqlActiveFilters([Vi.PERMANENT]).length>0}getCombinedSql(e=[]){const r=this.sqlActiveFilters(e),i=r.length;return i===0?"":i===1?this.sql[r[0]]:r.map(s=>`(${this.sql[s]})`).join(" AND ")}setSql(e,r){e===Vi.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[e]=r,this.clearCacheSet(e))}getSql(e){return this.sql[e]||""}setExtent(e){e.isEqual(this.extent)||(this.extent=e,this.clearCacheSet(Vi.EXTENT))}getCacheKey(e,r){return`_cache$${e.sort().join("$")}${r?"$"+Vi.EXTENT:""}$`}getCache(e,r){const i=this.getCacheKey(e,r);return this.cache[i]}setCache(e,r,i){const s=this.getCacheKey(r,i);this.cache[s]=e}cacheActiveKeys(){const e=this.cache;return Object.keys(e).filter(r=>e[r])}clearAllCaches(){this.cache={}}clearCacheSet(e){this.cacheActiveKeys().forEach(r=>{r.indexOf(`$${e}$`)>-1&&delete this.cache[r]})}clearAll(){this.sql={[Vi.PERMANENT]:this.sql[Vi.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class Lp{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(e,r,i=void 0,s=void 0){this.id=e,this.sr=r.sr.clone(),this._defaultExtent=r.clone(),this._fullExtent=i?.clone(),this._maximumExtent=s?.clone(),i&&!i.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${i.sr}`),s&&!s.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${s.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(e){this._defaultExtent=e.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(e){this._fullExtent=e.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(e){this._maximumExtent=e.clone()}static fromConfig(e){return new Lp(e.id,er.fromConfig(`${e.id}-extent-default`,e.default),e.full!==void 0?er.fromConfig(`${e.id}-extent-full`,e.full):void 0,e.maximum!==void 0?er.fromConfig(`${e.id}-extent-maximum`,e.maximum):void 0)}clone(){return new Lp(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class Ir{realPromise;resolveMe(e){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((e,r)=>{this.resolveMe=i=>{e(i)},this.rejectMe=r})}}var my=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function OK(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),r}var i_,xM;function IK(){if(xM)return i_;xM=1;var t=function(T){return e(T)&&!r(T)};function e(E){return!!E&&typeof E=="object"}function r(E){var T=Object.prototype.toString.call(E);return T==="[object RegExp]"||T==="[object Date]"||n(E)}var i=typeof Symbol=="function"&&Symbol.for,s=i?Symbol.for("react.element"):60103;function n(E){return E.$$typeof===s}function o(E){return Array.isArray(E)?[]:{}}function a(E,T){return T.clone!==!1&&T.isMergeableObject(E)?b(o(E),E,T):E}function l(E,T,w){return E.concat(T).map(function(_){return a(_,w)})}function c(E,T){if(!T.customMerge)return b;var w=T.customMerge(E);return typeof w=="function"?w:b}function f(E){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(E).filter(function(T){return Object.propertyIsEnumerable.call(E,T)}):[]}function d(E){return Object.keys(E).concat(f(E))}function p(E,T){try{return T in E}catch{return!1}}function y(E,T){return p(E,T)&&!(Object.hasOwnProperty.call(E,T)&&Object.propertyIsEnumerable.call(E,T))}function v(E,T,w){var _={};return w.isMergeableObject(E)&&d(E).forEach(function(M){_[M]=a(E[M],w)}),d(T).forEach(function(M){y(E,M)||(p(E,M)&&w.isMergeableObject(T[M])?_[M]=c(M,w)(E[M],T[M],w):_[M]=a(T[M],w))}),_}function b(E,T,w){w=w||{},w.arrayMerge=w.arrayMerge||l,w.isMergeableObject=w.isMergeableObject||t,w.cloneUnlessOtherwiseSpecified=a;var _=Array.isArray(T),M=Array.isArray(E),$=_===M;return $?_?w.arrayMerge(E,T,w):v(E,T,w):a(T,w)}b.all=function(T,w){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(_,M){return b(_,M,w)},{})};var S=b;return i_=S,i_}var CK=IK();const _L=b1(CK);class NK{generateUUID(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const i=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(r==="x"?i:i&3|8).toString(16)})}convertImageToCanvas(e,r,i=!0){const s=r??document.createElement("canvas"),n=document.createElement("img");i&&(n.crossOrigin="anonymous");const o=new Promise((a,l)=>{n.addEventListener("load",()=>{s.width=n.width,s.height=n.height,s.getContext("2d")?.drawImage(n,0,0),a(s)}),n.addEventListener("error",c=>l(c))});return n.src=e,o}async convertImagetoDataURL(e,r="image/png"){return e.startsWith("data")?e:this.convertImageToCanvas(e).then(i=>i.toDataURL(r)).catch(i=>(console.error("Failed to load crossorigin image",e,i),e))}parseUrlIndex(e){const r={rootUrl:e,index:0},i=/\/(\d+)\/?$/,s=e.match(i);if(s){const n=s[1];r.index=isNaN(parseInt(n))?void 0:parseInt(n),r.rootUrl=e.substr(0,e.length-s[0].length)}else console.warn("Cannot extract layer index from url "+e);return r}controlAvailable(e,r){return r?.disabledControls?.includes(e)?!1:r?.controls?r?.controls?.includes(e):!0}}class Sg{_url;_base;_query;_queryMap={};constructor(e){this._url=e,[this._base,this._query]=e.split("?").concat(""),this._queryMap=this._query.split("&").reduce((r,i)=>{const[s,n]=i.split("=");return r[s]=n,r},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(e){const r=_L.all([{},this.queryMap,e]);return`${this.base}${Object.entries(r).filter(([,s])=>s!==void 0).map(([s,n],o)=>`${o===0?"?":""}${s}=${n}`).join("&")}`}}/* @preserve
* @terraformer/spatial - v2.1.2 - MIT
* Copyright (c) 2012-2024 Environmental Systems Research Institute, Inc.
* Wed May 15 2024 14:35:51 GMT-0700 (Pacific Daylight Time)
*/var jd=6378137,PK=57.29577951308232,LK=.017453292519943,RK={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},s_=function(e){return e*PK},n_=function(e){return e*LK},kK=function(e){var r=e[0],i=e[1];return[s_(r/jd)-Math.floor((s_(r/jd)+180)/360)*360,s_(Math.PI/2-2*Math.atan(Math.exp(-1*i/jd)))]},DK=function(e){var r=e[0],i=Math.max(Math.min(e[1],89.99999),-89.99999);return[n_(r)*jd,jd/2*Math.log((1+Math.sin(n_(i)))/(1-Math.sin(n_(i))))]};function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}var FK=function t(e,r){for(var i=0;i<e.length;i++)typeof e[i][0]=="number"&&(e[i]=r(e[i])),sx(e[i])==="object"&&(e[i]=t(e[i],r));return e},UK=function t(e,r,i){if(e.type==="Point")e.coordinates=r(e.coordinates);else if(e.type==="Feature")e.geometry=t(e.geometry,r,!0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length;s++)e.features[s]=t(e.features[s],r,!0);else if(e.type==="GeometryCollection")for(var n=0;n<e.geometries.length;n++)e.geometries[n]=t(e.geometries[n],r,!0);else e.coordinates=FK(e.coordinates,r);return i||r===DK&&(e.crs=RK),r===kK&&delete e.crs,e};function jK(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var Qc=1,eu=2,vh=3,BK=4,nx=5,EM=6378137,VK=6356752314e-3,SM=.0066943799901413165,Bd=484813681109536e-20,he=Math.PI/2,GK=.16666666666666666,zK=.04722222222222222,qK=.022156084656084655,_e=1e-10,fi=.017453292519943295,po=57.29577951308232,St=Math.PI/4,Rp=Math.PI*2,Ar=3.14159265359,As={};As.greenwich=0;As.lisbon=-9.131906111111;As.paris=2.337229166667;As.bogota=-74.080916666667;As.madrid=-3.687938888889;As.rome=12.452333333333;As.bern=7.439583333333;As.jakarta=106.807719444444;As.ferro=-17.666666666667;As.brussels=4.367975;As.stockholm=18.058277777778;As.athens=23.7163375;As.oslo=10.722916666667;const HK={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var AM=/[\s_\-\/\(\)]/g;function Ml(t,e){if(t[e])return t[e];for(var r=Object.keys(t),i=e.toLowerCase().replace(AM,""),s=-1,n,o;++s<r.length;)if(n=r[s],o=n.toLowerCase().replace(AM,""),o===i)return t[n]}function ox(t){var e={},r=t.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),i,s,n,o={proj:"projName",datum:"datumCode",rf:function(a){e.rf=parseFloat(a)},lat_0:function(a){e.lat0=a*fi},lat_1:function(a){e.lat1=a*fi},lat_2:function(a){e.lat2=a*fi},lat_ts:function(a){e.lat_ts=a*fi},lon_0:function(a){e.long0=a*fi},lon_1:function(a){e.long1=a*fi},lon_2:function(a){e.long2=a*fi},alpha:function(a){e.alpha=parseFloat(a)*fi},gamma:function(a){e.rectified_grid_angle=parseFloat(a)},lonc:function(a){e.longc=a*fi},x_0:function(a){e.x0=parseFloat(a)},y_0:function(a){e.y0=parseFloat(a)},k_0:function(a){e.k0=parseFloat(a)},k:function(a){e.k0=parseFloat(a)},a:function(a){e.a=parseFloat(a)},b:function(a){e.b=parseFloat(a)},r:function(a){e.a=e.b=parseFloat(a)},r_a:function(){e.R_A=!0},zone:function(a){e.zone=parseInt(a,10)},south:function(){e.utmSouth=!0},towgs84:function(a){e.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){e.to_meter=parseFloat(a)},units:function(a){e.units=a;var l=Ml(HK,a);l&&(e.to_meter=l.to_meter)},from_greenwich:function(a){e.from_greenwich=a*fi},pm:function(a){var l=Ml(As,a);e.from_greenwich=(l||parseFloat(a))*fi},nadgrids:function(a){a==="@null"?e.datumCode="none":e.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(e.axis=a)},approx:function(){e.approx=!0}};for(i in r)s=r[i],i in o?(n=o[i],typeof n=="function"?n(s):e[n]=s):e[i]=s;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var kp=1,wL=2,xL=3,Ag=4,EL=5,PS=-1,WK=/\s/,YK=/[A-Za-z]/,JK=/[A-Za-z84_]/,_1=/[,\]]/,SL=/[\d\.E\-\+]/;function Sa(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=kp}Sa.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==Ag)for(;WK.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case kp:return this.neutral(t);case wL:return this.keyword(t);case Ag:return this.quoted(t);case EL:return this.afterquote(t);case xL:return this.number(t);case PS:return}};Sa.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=Ag;return}if(_1.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};Sa.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=kp;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=kp,this.currentObject=this.stack.pop(),this.currentObject||(this.state=PS);return}};Sa.prototype.number=function(t){if(SL.test(t)){this.word+=t;return}if(_1.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};Sa.prototype.quoted=function(t){if(t==='"'){this.state=EL;return}this.word+=t};Sa.prototype.keyword=function(t){if(JK.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=kp;return}if(_1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};Sa.prototype.neutral=function(t){if(YK.test(t)){this.word=t,this.state=wL;return}if(t==='"'){this.word="",this.state=Ag;return}if(SL.test(t)){this.word=t,this.state=xL;return}if(_1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};Sa.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===PS)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function KK(t){var e=new Sa(t);return e.output()}function TM(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var i=e?{}:t,s=r.reduce(function(n,o){return ih(o,n),n},i);e&&(t[e]=s)}function ih(t,e){if(!Array.isArray(t)){e[t]=!0;return}var r=t.shift();if(r==="PARAMETER"&&(r=t.shift()),t.length===1){if(Array.isArray(t[0])){e[r]={},ih(t[0],e[r]);return}e[r]=t[0];return}if(!t.length){e[r]=!0;return}if(r==="TOWGS84"){e[r]=t;return}if(r==="AXIS"){r in e||(e[r]=[]),e[r].push(t);return}Array.isArray(r)||(e[r]={});var i;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[r]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&ih(t[2],e[r]);return;case"SPHEROID":case"ELLIPSOID":e[r]={name:t[0],a:t[1],rf:t[2]},t.length===4&&ih(t[3],e[r]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],TM(e,r,t);return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return ih(t,e[r]);return TM(e,r,t)}}var ZK=.017453292519943295;function XK(t,e){var r=e[0],i=e[1];!(r in t)&&i in t&&(t[r]=t[i],e.length===3&&(t[r]=e[2](t[r])))}function eo(t){return t*ZK}function QK(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",r=0,i=t.AXIS.length;r<i;++r){var s=[t.AXIS[r][0].toLowerCase(),t.AXIS[r][1].toLowerCase()];s[0].indexOf("north")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="north"?e+="n":s[0].indexOf("south")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="south"?e+="s":s[0].indexOf("east")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="east"?e+="e":(s[0].indexOf("west")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var n=t.GEOGCS;t.type==="GEOGCS"&&(n=t),n&&(n.DATUM?t.datumCode=n.DATUM.name.toLowerCase():t.datumCode=n.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(t.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=n.DATUM.SPHEROID.a,t.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(t.datum_params=n.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function o(c){var f=t.to_meter||1;return c*f}var a=function(c){return XK(t,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",eo],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",eo],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",eo],["lat0","latitude_of_origin",eo],["lat0","standard_parallel_1",eo],["lat1","standard_parallel_1",eo],["lat2","standard_parallel_2",eo],["azimuth","Azimuth"],["alpha","azimuth",eo],["srsCode","name"]];l.forEach(a),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=eo(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=eo(t.lat0>0?90:-90))}function AL(t){var e=KK(t),r=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",r]);var s={};return ih(e,s),QK(s),s}function Ui(t){var e=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?Ui[t]=ox(arguments[1]):Ui[t]=AL(arguments[1]):Ui[t]=r}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(i){Array.isArray(i)?Ui.apply(e,i):Ui(i)});if(typeof t=="string"){if(t in Ui)return Ui[t]}else"EPSG"in t?Ui["EPSG:"+t.EPSG]=t:"ESRI"in t?Ui["ESRI:"+t.ESRI]=t:"IAU2000"in t?Ui["IAU2000:"+t.IAU2000]=t:console.log(t);return}}jK(Ui);function eZ(t){return typeof t=="string"}function tZ(t){return t in Ui}var rZ=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function iZ(t){return rZ.some(function(e){return t.indexOf(e)>-1})}var sZ=["3857","900913","3785","102113"];function nZ(t){var e=Ml(t,"authority");if(e){var r=Ml(e,"epsg");return r&&sZ.indexOf(r)>-1}}function oZ(t){var e=Ml(t,"extension");if(e)return Ml(e,"proj4")}function aZ(t){return t[0]==="+"}function lZ(t){if(eZ(t)){if(tZ(t))return Ui[t];if(iZ(t)){var e=AL(t);if(nZ(e))return Ui["EPSG:3857"];var r=oZ(e);return r?ox(r):e}if(aZ(t))return ox(t)}else return t}function MM(t,e){t=t||{};var r,i;if(!e)return t;for(i in e)r=e[i],r!==void 0&&(t[i]=r);return t}function Io(t,e,r){var i=t*e;return r/Math.sqrt(1-i*i)}function Mm(t){return t<0?-1:1}function Ee(t){return Math.abs(t)<=Ar?t:t-Mm(t)*Rp}function kn(t,e,r){var i=t*r,s=.5*t;return i=Math.pow((1-i)/(1+i),s),Math.tan(.5*(he-e))/i}function Dp(t,e){for(var r=.5*t,i,s,n=he-2*Math.atan(e),o=0;o<=15;o++)if(i=t*Math.sin(n),s=he-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-n,n+=s,Math.abs(s)<=1e-10)return n;return-9999}function cZ(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Io(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function uZ(t){var e=t.x,r=t.y;if(r*po>90&&r*po<-90&&e*po>180&&e*po<-180)return null;var i,s;if(Math.abs(Math.abs(r)-he)<=_e)return null;if(this.sphere)i=this.x0+this.a*this.k0*Ee(e-this.long0),s=this.y0+this.a*this.k0*Math.log(Math.tan(St+.5*r));else{var n=Math.sin(r),o=kn(this.e,r,n);i=this.x0+this.a*this.k0*Ee(e-this.long0),s=this.y0-this.a*this.k0*Math.log(o)}return t.x=i,t.y=s,t}function hZ(t){var e=t.x-this.x0,r=t.y-this.y0,i,s;if(this.sphere)s=he-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var n=Math.exp(-r/(this.a*this.k0));if(s=Dp(this.e,n),s===-9999)return null}return i=Ee(this.long0+e/(this.a*this.k0)),t.x=i,t.y=s,t}var fZ=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const dZ={init:cZ,forward:uZ,inverse:hZ,names:fZ};function pZ(){}function $M(t){return t}var mZ=["longlat","identity"];const yZ={init:pZ,forward:$M,inverse:$M,names:mZ};var gZ=[dZ,yZ],T0={},Tg=[];function TL(t,e){var r=Tg.length;return t.names?(Tg[r]=t,t.names.forEach(function(i){T0[i.toLowerCase()]=r}),this):(console.log(e),!0)}function vZ(t){if(!t)return!1;var e=t.toLowerCase();if(typeof T0[e]<"u"&&Tg[T0[e]])return Tg[T0[e]]}function bZ(){gZ.forEach(TL)}const _Z={start:bZ,add:TL,get:vZ};var He={};He.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};He.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};He.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};He.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};He.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};He.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};He.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};He.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};He.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};He.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};He.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};He.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};He.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};He.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};He.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};He.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};He.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};He.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};He.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};He.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};He.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};He.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};He.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};He.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};He.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};He.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};He.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};He.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};He.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};He.hough={a:6378270,rf:297,ellipseName:"Hough"};He.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};He.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};He.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};He.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};He.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};He.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};He.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};He.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};He.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};He.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};He.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};He.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var wZ=He.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};He.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function xZ(t,e,r,i){var s=t*t,n=e*e,o=(s-n)/s,a=0;i?(t*=1-o*(GK+o*(zK+o*qK)),s=t*t,o=0):a=Math.sqrt(o);var l=(s-n)/n;return{es:o,e:a,ep2:l}}function EZ(t,e,r,i,s){if(!t){var n=Ml(He,i);n||(n=wZ),t=n.a,e=n.b,r=n.rf}return r&&!e&&(e=(1-1/r)*t),(r===0||Math.abs(t-e)<_e)&&(s=!0,e=t),{a:t,b:e,rf:r,sphere:s}}var ei={};ei.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};ei.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};ei.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};ei.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};ei.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};ei.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};ei.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};ei.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};ei.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};ei.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};ei.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};ei.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};ei.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};ei.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};ei.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};ei.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};ei.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};ei.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function SZ(t,e,r,i,s,n,o){var a={};return t===void 0||t==="none"?a.datum_type=nx:a.datum_type=BK,e&&(a.datum_params=e.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=Qc),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=eu,a.datum_params[3]*=Bd,a.datum_params[4]*=Bd,a.datum_params[5]*=Bd,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=vh,a.grids=o),a.a=r,a.b=i,a.es=s,a.ep2=n,a}var ML={};function AZ(t,e){var r=new DataView(e),i=$Z(r),s=OZ(r,i),n=IZ(r,s,i),o={header:s,subgrids:n};return ML[t]=o,o}function TZ(t){if(t===void 0)return null;var e=t.split(",");return e.map(MZ)}function MZ(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:ML[t]||null,isNull:!1}}function sh(t){return t/3600*Math.PI/180}function $Z(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function OZ(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:ax(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function ax(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function IZ(t,e,r){for(var i=176,s=[],n=0;n<e.nSubgrids;n++){var o=NZ(t,i,r),a=PZ(t,i,o,r),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);s.push({ll:[sh(o.lowerLongitude),sh(o.lowerLatitude)],del:[sh(o.longitudeInterval),sh(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:CZ(a)}),i+=176+o.gridNodeCount*16}return s}function CZ(t){return t.map(function(e){return[sh(e.longitudeShift),sh(e.latitudeShift)]})}function NZ(t,e,r){return{name:ax(t,e+8,e+16).trim(),parent:ax(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}function PZ(t,e,r,i){for(var s=e+176,n=16,o=[],a=0;a<r.gridNodeCount;a++){var l={latitudeShift:t.getFloat32(s+a*n,i),longitudeShift:t.getFloat32(s+a*n+4,i),latitudeAccuracy:t.getFloat32(s+a*n+8,i),longitudeAccuracy:t.getFloat32(s+a*n+12,i)};o.push(l)}return o}function _o(t,e){if(!(this instanceof _o))return new _o(t);e=e||function(c){if(c)throw c};var r=lZ(t);if(typeof r!="object"){e("Could not parse to valid json: "+t);return}var i=_o.projections.get(r.projName);if(!i){e("Could not get projection name from: "+t);return}if(r.datumCode&&r.datumCode!=="none"){var s=Ml(ei,r.datumCode);s&&(r.datum_params=r.datum_params||(s.towgs84?s.towgs84.split(","):null),r.ellps=s.ellipse,r.datumName=s.datumName?s.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var n=EZ(r.a,r.b,r.rf,r.ellps,r.sphere),o=xZ(n.a,n.b,n.rf,r.R_A),a=TZ(r.nadgrids),l=r.datum||SZ(r.datumCode,r.datum_params,n.a,n.b,o.es,o.ep2,a);MM(this,r),MM(this,i),this.a=n.a,this.b=n.b,this.rf=n.rf,this.sphere=n.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),e(null,this)}_o.projections=_Z;_o.projections.start();function LZ(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===Qc?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===eu?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function $L(t,e,r){var i=t.x,s=t.y,n=t.z?t.z:0,o,a,l,c;if(s<-he&&s>-1.001*he)s=-he;else if(s>he&&s<1.001*he)s=he;else{if(s<-he)return{x:-1/0,y:-1/0,z:t.z};if(s>he)return{x:1/0,y:1/0,z:t.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(s),c=Math.cos(s),l=a*a,o=r/Math.sqrt(1-e*l),{x:(o+n)*c*Math.cos(i),y:(o+n)*c*Math.sin(i),z:(o*(1-e)+n)*a}}function OL(t,e,r,i){var s=1e-12,n=s*s,o=30,a,l,c,f,d,p,y,v,b,S,E,T,w,_=t.x,M=t.y,$=t.z?t.z:0,C,P,N;if(a=Math.sqrt(_*_+M*M),l=Math.sqrt(_*_+M*M+$*$),a/r<s){if(C=0,l/r<s)return P=he,N=-i,{x:t.x,y:t.y,z:t.z}}else C=Math.atan2(M,_);c=$/l,f=a/l,d=1/Math.sqrt(1-e*(2-e)*f*f),v=f*(1-e)*d,b=c*d,w=0;do w++,y=r/Math.sqrt(1-e*b*b),N=a*v+$*b-y*(1-e*b*b),p=e*y/(y+N),d=1/Math.sqrt(1-p*(2-p)*f*f),S=f*(1-p)*d,E=c*d,T=E*v-S*b,v=S,b=E;while(T*T>n&&w<o);return P=Math.atan(E/Math.abs(S)),{x:C,y:P,z:N}}function RZ(t,e,r){if(e===Qc)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===eu){var i=r[0],s=r[1],n=r[2],o=r[3],a=r[4],l=r[5],c=r[6];return{x:c*(t.x-l*t.y+a*t.z)+i,y:c*(l*t.x+t.y-o*t.z)+s,z:c*(-a*t.x+o*t.y+t.z)+n}}}function kZ(t,e,r){if(e===Qc)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===eu){var i=r[0],s=r[1],n=r[2],o=r[3],a=r[4],l=r[5],c=r[6],f=(t.x-i)/c,d=(t.y-s)/c,p=(t.z-n)/c;return{x:f+l*d-a*p,y:-l*f+d+o*p,z:a*f-o*d+p}}}function yy(t){return t===Qc||t===eu}function DZ(t,e,r){if(LZ(t,e)||t.datum_type===nx||e.datum_type===nx)return r;var i=t.a,s=t.es;if(t.datum_type===vh){var n=OM(t,!1,r);if(n!==0)return;i=EM,s=SM}var o=e.a,a=e.b,l=e.es;if(e.datum_type===vh&&(o=EM,a=VK,l=SM),s===l&&i===o&&!yy(t.datum_type)&&!yy(e.datum_type))return r;if(r=$L(r,s,i),yy(t.datum_type)&&(r=RZ(r,t.datum_type,t.datum_params)),yy(e.datum_type)&&(r=kZ(r,e.datum_type,e.datum_params)),r=OL(r,l,o,a),e.datum_type===vh){var c=OM(e,!0,r);if(c!==0)return}return r}function OM(t,e,r){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-r.x,y:r.y},s={x:Number.NaN,y:Number.NaN},n=[];e:for(var o=0;o<t.grids.length;o++){var a=t.grids[o];if(n.push(a.name),a.isNull){s=i;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,f=l.length;c<f;c++){var d=l[c],p=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-p,v=d.ll[1]-p,b=d.ll[0]+(d.lim[0]-1)*d.del[0]+p,S=d.ll[1]+(d.lim[1]-1)*d.del[1]+p;if(!(v>i.y||y>i.x||S<i.y||b<i.x)&&(s=FZ(i,e,d),!isNaN(s.x)))break e}}return isNaN(s.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*po+" "+i.y*po+" tried: '"+n+"'"),-1):(r.x=-s.x,r.y=s.y,0)}function FZ(t,e,r){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var s={x:t.x,y:t.y};s.x-=r.ll[0],s.y-=r.ll[1],s.x=Ee(s.x-Math.PI)+Math.PI;var n=IM(s,r);if(e){if(isNaN(n.x))return i;n.x=s.x-n.x,n.y=s.y-n.y;var o=9,a=1e-12,l,c;do{if(c=IM(n,r),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:s.x-(c.x+n.x),y:s.y-(c.y+n.y)},n.x+=l.x,n.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=Ee(n.x+r.ll[0]),i.y=n.y+r.ll[1]}else isNaN(n.x)||(i.x=t.x+n.x,i.y=t.y+n.y);return i}function IM(t,e){var r={x:t.x/e.del[0],y:t.y/e.del[1]},i={x:Math.floor(r.x),y:Math.floor(r.y)},s={x:r.x-1*i.x,y:r.y-1*i.y},n={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return n;o=i.y*e.lim[0]+i.x;var a={x:e.cvs[o][0],y:e.cvs[o][1]};o++;var l={x:e.cvs[o][0],y:e.cvs[o][1]};o+=e.lim[0];var c={x:e.cvs[o][0],y:e.cvs[o][1]};o--;var f={x:e.cvs[o][0],y:e.cvs[o][1]},d=s.x*s.y,p=s.x*(1-s.y),y=(1-s.x)*(1-s.y),v=(1-s.x)*s.y;return n.x=y*a.x+p*l.x+v*f.x+d*c.x,n.y=y*a.y+p*l.y+v*f.y+d*c.y,n}function CM(t,e,r){var i=r.x,s=r.y,n=r.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(e&&l===2&&r.z===void 0))switch(l===0?(o=i,"ew".indexOf(t.axis[l])!==-1?a="x":a="y"):l===1?(o=s,"ns".indexOf(t.axis[l])!==-1?a="y":a="x"):(o=n,a="z"),t.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":r[a]!==void 0&&(c.z=o);break;case"d":r[a]!==void 0&&(c.z=-o);break;default:return null}return c}function IL(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function UZ(t){NM(t.x),NM(t.y)}function NM(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function jZ(t,e){return(t.datum.datum_type===Qc||t.datum.datum_type===eu||t.datum.datum_type===vh)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Qc||e.datum.datum_type===eu||e.datum.datum_type===vh)&&t.datumCode!=="WGS84"}function Mg(t,e,r,i){var s;Array.isArray(r)?r=IL(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var n=r.z!==void 0;if(UZ(r),t.datum&&e.datum&&jZ(t,e)&&(s=new _o("WGS84"),r=Mg(t,s,r,i),t=s),i&&t.axis!=="enu"&&(r=CM(t,!1,r)),t.projName==="longlat")r={x:r.x*fi,y:r.y*fi,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),r=t.inverse(r),!r)return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=DZ(t.datum,e.datum,r),!!r)return e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),e.projName==="longlat"?r={x:r.x*po,y:r.y*po,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),i&&e.axis!=="enu"?CM(e,!0,r):(r&&!n&&delete r.z,r)}var PM=_o("WGS84");function o_(t,e,r,i){var s,n,o;return Array.isArray(r)?(s=Mg(t,e,r,i)||{x:NaN,y:NaN},r.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof s.z=="number"?[s.x,s.y,s.z].concat(r.slice(3)):[s.x,s.y,r[2]].concat(r.slice(3)):[s.x,s.y].concat(r.slice(2)):[s.x,s.y]):(n=Mg(t,e,r,i),o=Object.keys(r),o.length===2||o.forEach(function(a){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;n[a]=r[a]}),n)}function LM(t){return t instanceof _o?t:t.oProj?t.oProj:_o(t)}function kt(t,e,r){t=LM(t);var i=!1,s;return typeof e>"u"?(e=t,t=PM,i=!0):(typeof e.x<"u"||Array.isArray(e))&&(r=e,e=t,t=PM,i=!0),e=LM(e),r?o_(t,e,r):(s={forward:function(n,o){return o_(t,e,n,o)},inverse:function(n,o){return o_(e,t,n,o)}},i&&(s.oProj=e),s)}var RM=6,CL="AJSAJS",NL="AFAFAF",nh=65,ns=73,Ys=79,bd=86,_d=90;const BZ={forward:PL,inverse:VZ,toPoint:LL};function PL(t,e){return e=e||5,qZ(GZ({lat:t[1],lon:t[0]}),e)}function VZ(t){var e=LS(kL(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function LL(t){var e=LS(kL(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function a_(t){return t*(Math.PI/180)}function kM(t){return 180*(t/Math.PI)}function GZ(t){var e=t.lat,r=t.lon,i=6378137,s=.00669438,n=.9996,o,a,l,c,f,d,p,y=a_(e),v=a_(r),b,S;S=Math.floor((r+180)/6)+1,r===180&&(S=60),e>=56&&e<64&&r>=3&&r<12&&(S=32),e>=72&&e<84&&(r>=0&&r<9?S=31:r>=9&&r<21?S=33:r>=21&&r<33?S=35:r>=33&&r<42&&(S=37)),o=(S-1)*6-180+3,b=a_(o),a=s/(1-s),l=i/Math.sqrt(1-s*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),f=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(v-b),p=i*((1-s/4-3*s*s/64-5*s*s*s/256)*y-(3*s/8+3*s*s/32+45*s*s*s/1024)*Math.sin(2*y)+(15*s*s/256+45*s*s*s/1024)*Math.sin(4*y)-35*s*s*s/3072*Math.sin(6*y));var E=n*l*(d+(1-c+f)*d*d*d/6+(5-18*c+c*c+72*f-58*a)*d*d*d*d*d/120)+5e5,T=n*(p+l*Math.tan(y)*(d*d/2+(5-c+9*f+4*f*f)*d*d*d*d/24+(61-58*c+c*c+600*f-330*a)*d*d*d*d*d*d/720));return e<0&&(T+=1e7),{northing:Math.round(T),easting:Math.round(E),zoneNumber:S,zoneLetter:zZ(e)}}function LS(t){var e=t.northing,r=t.easting,i=t.zoneLetter,s=t.zoneNumber;if(s<0||s>60)return null;var n=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),f,d,p,y,v,b,S,E,T,w=r-5e5,_=e;i<"N"&&(_-=1e7),S=(s-1)*6-180+3,l=a/(1-a),b=_/n,E=b/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),T=E+(3*c/2-27*c*c*c/32)*Math.sin(2*E)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*E)+151*c*c*c/96*Math.sin(6*E),f=o/Math.sqrt(1-a*Math.sin(T)*Math.sin(T)),d=Math.tan(T)*Math.tan(T),p=l*Math.cos(T)*Math.cos(T),y=o*(1-a)/Math.pow(1-a*Math.sin(T)*Math.sin(T),1.5),v=w/(f*n);var M=T-f*Math.tan(T)/y*(v*v/2-(5+3*d+10*p-4*p*p-9*l)*v*v*v*v/24+(61+90*d+298*p+45*d*d-252*l-3*p*p)*v*v*v*v*v*v/720);M=kM(M);var $=(v-(1+2*d+p)*v*v*v/6+(5-2*p+28*d-3*p*p+8*l+24*d*d)*v*v*v*v*v/120)/Math.cos(T);$=S+kM($);var C;if(t.accuracy){var P=LS({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});C={top:P.lat,right:P.lon,bottom:M,left:$}}else C={lat:M,lon:$};return C}function zZ(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function qZ(t,e){var r="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+HZ(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+i.substr(i.length-5,e)}function HZ(t,e,r){var i=RL(r),s=Math.floor(t/1e5),n=Math.floor(e/1e5)%20;return WZ(s,n,i)}function RL(t){var e=t%RM;return e===0&&(e=RM),e}function WZ(t,e,r){var i=r-1,s=CL.charCodeAt(i),n=NL.charCodeAt(i),o=s+t-1,a=n+e,l=!1;o>_d&&(o=o-_d+nh-1,l=!0),(o===ns||s<ns&&o>ns||(o>ns||s<ns)&&l)&&o++,(o===Ys||s<Ys&&o>Ys||(o>Ys||s<Ys)&&l)&&(o++,o===ns&&o++),o>_d&&(o=o-_d+nh-1),a>bd?(a=a-bd+nh-1,l=!0):l=!1,(a===ns||n<ns&&a>ns||(a>ns||n<ns)&&l)&&a++,(a===Ys||n<Ys&&a>Ys||(a>Ys||n<Ys)&&l)&&(a++,a===ns&&a++),a>bd&&(a=a-bd+nh-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function kL(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,r=null,i="",s,n=0;!/[A-Z]/.test(s=t.charAt(n));){if(n>=2)throw"MGRSPoint bad conversion from: "+t;i+=s,n++}var o=parseInt(i,10);if(n===0||n+3>e)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(n++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+t;r=t.substring(n,n+=2);for(var l=RL(o),c=YZ(r.charAt(0),l),f=JZ(r.charAt(1),l);f<KZ(a);)f+=2e6;var d=e-n;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var p=d/2,y=0,v=0,b,S,E,T,w;return p>0&&(b=1e5/Math.pow(10,p),S=t.substring(n,n+p),y=parseFloat(S)*b,E=t.substring(n+p),v=parseFloat(E)*b),T=y+c,w=v+f,{easting:T,northing:w,zoneLetter:a,zoneNumber:o,accuracy:b}}function YZ(t,e){for(var r=CL.charCodeAt(e-1),i=1e5,s=!1;r!==t.charCodeAt(0);){if(r++,r===ns&&r++,r===Ys&&r++,r>_d){if(s)throw"Bad character: "+t;r=nh,s=!0}i+=1e5}return i}function JZ(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=NL.charCodeAt(e-1),i=0,s=!1;r!==t.charCodeAt(0);){if(r++,r===ns&&r++,r===Ys&&r++,r>bd){if(s)throw"Bad character: "+t;r=nh,s=!0}i+=1e5}return i}function KZ(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Uh(t,e,r){if(!(this instanceof Uh))return new Uh(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Uh.fromMGRS=function(t){return new Uh(LL(t))};Uh.prototype.toMGRS=function(t){return PL([this.x,this.y],t)};var ZZ=1,XZ=.25,DM=.046875,FM=.01953125,UM=.01068115234375,QZ=.75,eX=.46875,tX=.013020833333333334,rX=.007120768229166667,iX=.3645833333333333,sX=.005696614583333333,nX=.3076171875;function RS(t){var e=[];e[0]=ZZ-t*(XZ+t*(DM+t*(FM+t*UM))),e[1]=t*(QZ-t*(DM+t*(FM+t*UM)));var r=t*t;return e[2]=r*(eX-t*(tX+t*rX)),r*=t,e[3]=r*(iX-t*sX),e[4]=r*t*nX,e}function xf(t,e,r,i){return r*=e,e*=e,i[0]*t-r*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var oX=20;function kS(t,e,r){for(var i=1/(1-e),s=t,n=oX;n;--n){var o=Math.sin(s),a=1-e*o*o;if(a=(xf(s,o,Math.cos(s),r)-t)*(a*Math.sqrt(a))*i,s-=a,Math.abs(a)<_e)return s}return s}function aX(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=RS(this.es),this.ml0=xf(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function lX(t){var e=t.x,r=t.y,i=Ee(e-this.long0),s,n,o,a=Math.sin(r),l=Math.cos(r);if(this.es){var f=l*i,d=Math.pow(f,2),p=this.ep2*Math.pow(l,2),y=Math.pow(p,2),v=Math.abs(l)>_e?Math.tan(r):0,b=Math.pow(v,2),S=Math.pow(b,2);s=1-this.es*Math.pow(a,2),f=f/Math.sqrt(s);var E=xf(r,a,l,this.en);n=this.a*(this.k0*f*(1+d/6*(1-b+p+d/20*(5-18*b+S+14*p-58*b*p+d/42*(61+179*S-S*b-479*b)))))+this.x0,o=this.a*(this.k0*(E-this.ml0+a*i*f/2*(1+d/12*(5-b+9*p+4*y+d/30*(61+S-58*b+270*p-330*b*p+d/56*(1385+543*S-S*b-3111*b))))))+this.y0}else{var c=l*Math.sin(i);if(Math.abs(Math.abs(c)-1)<_e)return 93;if(n=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(o),c>=1){if(c-1>_e)return 93;o=0}else o=Math.acos(o);r<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return t.x=n,t.y=o,t}function cX(t){var e,r,i,s,n=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+o/this.k0,r=kS(e,this.es,this.en),Math.abs(r)<he){var d=Math.sin(r),p=Math.cos(r),y=Math.abs(p)>_e?Math.tan(r):0,v=this.ep2*Math.pow(p,2),b=Math.pow(v,2),S=Math.pow(y,2),E=Math.pow(S,2);e=1-this.es*Math.pow(d,2);var T=n*Math.sqrt(e)/this.k0,w=Math.pow(T,2);e=e*y,i=r-e*w/(1-this.es)*.5*(1-w/12*(5+3*S-9*v*S+v-4*b-w/30*(61+90*S-252*v*S+45*E+46*v-w/56*(1385+3633*S+4095*E+1574*E*S)))),s=Ee(this.long0+T*(1-w/6*(1+2*S+v-w/20*(5+28*S+24*E+8*v*S+6*v-w/42*(61+662*S+1320*E+720*E*S))))/p)}else i=he*Mm(o),s=0;else{var a=Math.exp(n/this.k0),l=.5*(a-1/a),c=this.lat0+o/this.k0,f=Math.cos(c);e=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),i=Math.asin(e),o<0&&(i=-i),l===0&&f===0?s=0:s=Ee(Math.atan2(l,f)+this.long0)}return t.x=s,t.y=i,t}var uX=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const M0={init:aX,forward:lX,inverse:cX,names:uX};function DL(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function ds(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),i=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(i,2))}function hX(t){var e=1+t,r=e-1;return r===0?t:t*Math.log(e)/r}function fX(t){var e=Math.abs(t);return e=hX(e*(1+e/(ds(1,e)+1))),t<0?-e:e}function DS(t,e){for(var r=2*Math.cos(2*e),i=t.length-1,s=t[i],n=0,o;--i>=0;)o=-n+r*s+t[i],n=s,s=o;return e+o*Math.sin(2*e)}function dX(t,e){for(var r=2*Math.cos(e),i=t.length-1,s=t[i],n=0,o;--i>=0;)o=-n+r*s+t[i],n=s,s=o;return Math.sin(e)*o}function pX(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function FL(t,e,r){for(var i=Math.sin(e),s=Math.cos(e),n=DL(r),o=pX(r),a=2*s*o,l=-2*i*n,c=t.length-1,f=t[c],d=0,p=0,y=0,v,b;--c>=0;)v=p,b=d,p=f,d=y,f=-v+a*p-l*d+t[c],y=-b+l*p+a*d;return a=i*o,l=s*n,[a*f-l*y,a*y+l*f]}function mX(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(M0.init.apply(this),this.forward=M0.forward,this.inverse=M0.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),r=r*e,this.cgb[1]=r*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r=r*e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),r=r*e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(-12/5+e*(-24832/14175))),r=r*e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r=r*e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),r=r*e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r=r*e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r=r*e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r=r*e,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var i=DS(this.cbg,this.lat0);this.Zb=-this.Qn*(i+dX(this.gtu,2*i))}function yX(t){var e=Ee(t.x-this.long0),r=t.y;r=DS(this.cbg,r);var i=Math.sin(r),s=Math.cos(r),n=Math.sin(e),o=Math.cos(e);r=Math.atan2(i,o*s),e=Math.atan2(n*s,ds(i,s*o)),e=fX(Math.tan(e));var a=FL(this.gtu,2*r,2*e);r=r+a[0],e=e+a[1];var l,c;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*r+this.Zb)+this.y0):(l=1/0,c=1/0),t.x=l,t.y=c,t}function gX(t){var e=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,e=e/this.Qn;var i,s;if(Math.abs(e)<=2.623395162778){var n=FL(this.utg,2*r,2*e);r=r+n[0],e=e+n[1],e=Math.atan(DL(e));var o=Math.sin(r),a=Math.cos(r),l=Math.sin(e),c=Math.cos(e);r=Math.atan2(o*c,ds(l,c*a)),e=Math.atan2(l,c*a),i=Ee(e+this.long0),s=DS(this.cgb,r)}else i=1/0,s=1/0;return t.x=i,t.y=s,t}var vX=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const $0={init:mX,forward:yX,inverse:gX,names:vX};function bX(t,e){if(t===void 0){if(t=Math.floor((Ee(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var _X="etmerc";function wX(){var t=bX(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*fi,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,$0.init.apply(this),this.forward=$0.forward,this.inverse=$0.inverse}var xX=["Universal Transverse Mercator System","utm"];const EX={init:wX,names:xX,dependsOn:_X};function FS(t,e){return Math.pow((1-t)/(1+t),e)}var SX=20;function AX(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+St)/(Math.pow(Math.tan(.5*this.lat0+St),this.C)*FS(this.e*t,this.ratexp))}function TX(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+St),this.C)*FS(this.e*Math.sin(r),this.ratexp))-he,t.x=this.C*e,t}function MX(t){for(var e=1e-14,r=t.x/this.C,i=t.y,s=Math.pow(Math.tan(.5*i+St)/this.K,1/this.C),n=SX;n>0&&(i=2*Math.atan(s*FS(this.e*Math.sin(t.y),-.5*this.e))-he,!(Math.abs(i-t.y)<e));--n)t.y=i;return n?(t.x=r,t.y=i,t):null}const US={init:AX,forward:TX,inverse:MX};function $X(){US.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function OX(t){var e,r,i,s;return t.x=Ee(t.x-this.long0),US.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),i=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*i),t.x=s*r*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*r*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function IX(t){var e,r,i,s,n;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,n=ds(t.x,t.y)){var o=2*Math.atan2(n,this.R2);e=Math.sin(o),r=Math.cos(o),s=Math.asin(r*this.sinc0+t.y*e*this.cosc0/n),i=Math.atan2(t.x*e,n*this.cosc0*r-t.y*this.sinc0*e)}else s=this.phic0,i=0;return t.x=i,t.y=s,US.inverse.apply(this,[t]),t.x=Ee(t.x+this.long0),t}var CX=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const NX={init:$X,forward:OX,inverse:IX,names:CX};function PX(t,e,r){return e*=r,Math.tan(.5*(he+t))*Math.pow((1-e)/(1+e),.5*r)}function LX(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_e&&(this.k0=.5*(1+Mm(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=_e&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_e&&Math.abs(Math.cos(this.lat_ts))>_e&&(this.k0=.5*this.cons*Io(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/kn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Io(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-he,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function RX(t){var e=t.x,r=t.y,i=Math.sin(r),s=Math.cos(r),n,o,a,l,c,f,d=Ee(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=_e&&Math.abs(r+this.lat0)<=_e?(t.x=NaN,t.y=NaN,t):this.sphere?(n=2*this.k0/(1+this.sinlat0*i+this.coslat0*s*Math.cos(d)),t.x=this.a*n*s*Math.sin(d)+this.x0,t.y=this.a*n*(this.coslat0*i-this.sinlat0*s*Math.cos(d))+this.y0,t):(o=2*Math.atan(this.ssfn_(r,i,this.e))-he,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=_e?(c=kn(this.e,r*this.con,this.con*i),f=2*this.a*this.k0*c/this.cons,t.x=this.x0+f*Math.sin(e-this.long0),t.y=this.y0-this.con*f*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<_e?(n=2*this.a*this.k0/(1+l*Math.cos(d)),t.y=n*a):(n=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),t.y=n*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),t.x=n*l*Math.sin(d)+this.x0,t))}function kX(t){t.x-=this.x0,t.y-=this.y0;var e,r,i,s,n,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,r=this.lat0,o<=_e?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<_e?this.lat0>0?e=Ee(this.long0+Math.atan2(t.x,-1*t.y)):e=Ee(this.long0+Math.atan2(t.x,t.y)):e=Ee(this.long0+Math.atan2(t.x*Math.sin(a),o*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=r,t)}else if(Math.abs(this.coslat0)<=_e){if(o<=_e)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,i=o*this.cons/(2*this.a*this.k0),r=this.con*Dp(this.e,i),e=this.con*Ee(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else s=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=_e?n=this.X0:(n=Math.asin(Math.cos(s)*this.sinX0+t.y*Math.sin(s)*this.cosX0/o),e=Ee(this.long0+Math.atan2(t.x*Math.sin(s),o*this.cosX0*Math.cos(s)-t.y*this.sinX0*Math.sin(s)))),r=-1*Dp(this.e,Math.tan(.5*(he+n)));return t.x=e,t.y=r,t}var DX=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const FX={init:LX,forward:RX,inverse:kX,names:DX,ssfn_:PX};function UX(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,i=this.rf,s=1/i,n=2*s-Math.pow(s,2),o=this.e=Math.sqrt(n);this.R=this.k0*r*Math.sqrt(1-n)/(1-n*Math.pow(e,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*l+this.alpha*o/2*c}function jX(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+r)+this.K,s=2*(Math.atan(Math.exp(i))-Math.PI/4),n=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(n))),a=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(n));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*o+this.x0,t}function BX(t){for(var e=t.x-this.x0,r=t.y-this.y0,i=e/this.R,s=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(s))),a=this.lambda0+o/this.alpha,l=0,c=n,f=-1e3,d=0;Math.abs(c-f)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),f=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=c,t}var VX=["somerc"];const GX={init:UX,forward:jX,inverse:BX,names:VX};var Uu=1e-7;function zX(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(r)!==-1}function qX(){var t,e,r,i,s,n,o,a,l,c,f=0,d,p=0,y=0,v=0,b=0,S=0,E=0;this.no_off=zX(this),this.no_rot="no_rot"in this;var T=!1;"alpha"in this&&(T=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),T&&(E=this.alpha),w&&(f=this.rectified_grid_angle*fi),T||w)p=this.longc;else if(y=this.long1,b=this.lat1,v=this.long2,S=this.lat2,Math.abs(b-S)<=Uu||(t=Math.abs(b))<=Uu||Math.abs(t-he)<=Uu||Math.abs(Math.abs(this.lat0)-he)<=Uu||Math.abs(Math.abs(S)-he)<=Uu)throw new Error;var _=1-this.es;e=Math.sqrt(_),Math.abs(this.lat0)>_e?(a=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*a*a,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/_),this.A=this.B*this.k0*e/t,i=this.B*e/(r*Math.sqrt(t)),s=i*i-1,s<=0?s=0:(s=Math.sqrt(s),this.lat0<0&&(s=-s)),this.E=s+=i,this.E*=Math.pow(kn(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=s=1),T||w?(T?(d=Math.asin(Math.sin(E)/i),w||(f=E)):(d=f,E=Math.asin(i*Math.sin(d))),this.lam0=p-Math.asin(.5*(s-1/s)*Math.tan(d))/this.B):(n=Math.pow(kn(this.e,b,Math.sin(b)),this.B),o=Math.pow(kn(this.e,S,Math.sin(S)),this.B),s=this.E/n,l=(o-n)/(o+n),c=this.E*this.E,c=(c-o*n)/(c+o*n),t=y-v,t<-Math.pi?v-=Rp:t>Math.pi&&(v+=Rp),this.lam0=Ee(.5*(y+v)-Math.atan(c*Math.tan(.5*this.B*(y-v))/l)/this.B),d=Math.atan(2*Math.sin(this.B*Ee(y-this.lam0))/(s-1/s)),f=E=Math.asin(i*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(E))),this.lat0<0&&(this.u_0=-this.u_0)),s=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(St-s)),this.v_pole_s=this.ArB*Math.log(Math.tan(St+s))}function HX(t){var e={},r,i,s,n,o,a,l,c;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-he)>_e){if(o=this.E/Math.pow(kn(this.e,t.y,Math.sin(t.y)),this.B),a=1/o,r=.5*(o-a),i=.5*(o+a),n=Math.sin(this.B*t.x),s=(r*this.singam-n*this.cosgam)/i,Math.abs(Math.abs(s)-1)<_e)throw new Error;c=.5*this.ArB*Math.log((1-s)/(1+s)),a=Math.cos(this.B*t.x),Math.abs(a)<Uu?l=this.A*t.x:l=this.ArB*Math.atan2(r*this.cosgam+n*this.singam,a)}else c=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=c):(l-=this.u_0,e.x=c*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-c*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function WX(t){var e,r,i,s,n,o,a,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(r=t.y,e=t.x):(r=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*r),s=.5*(i-1/i),n=.5*(i+1/i),o=Math.sin(this.BrA*e),a=(o*this.cosgam+s*this.singam)/n,Math.abs(Math.abs(a)-1)<_e)l.x=0,l.y=a<0?-he:he;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Dp(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(s*this.cosgam-o*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var YX=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const JX={init:qX,forward:HX,inverse:WX,names:YX};function KX(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<_e)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),i=Io(this.e,e,r),s=kn(this.e,this.lat1,e),n=Math.sin(this.lat2),o=Math.cos(this.lat2),a=Io(this.e,n,o),l=kn(this.e,this.lat2,n),c=kn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>_e?this.ns=Math.log(i/a)/Math.log(s/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function ZX(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=_e&&(r=Mm(r)*(he-2*_e));var i=Math.abs(Math.abs(r)-he),s,n;if(i>_e)s=kn(this.e,r,Math.sin(r)),n=this.a*this.f0*Math.pow(s,this.ns);else{if(i=r*this.ns,i<=0)return null;n=0}var o=this.ns*Ee(e-this.long0);return t.x=this.k0*(n*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-n*Math.cos(o))+this.y0,t}function XX(t){var e,r,i,s,n,o=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+a*a),r=1):(e=-Math.sqrt(o*o+a*a),r=-1);var l=0;if(e!==0&&(l=Math.atan2(r*o,r*a)),e!==0||this.ns>0){if(r=1/this.ns,i=Math.pow(e/(this.a*this.f0),r),s=Dp(this.e,i),s===-9999)return null}else s=-he;return n=Ee(l/this.ns+this.long0),t.x=n,t.y=s,t}var QX=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const eQ={init:KX,forward:ZX,inverse:XX,names:QX};function tQ(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function rQ(t){var e,r,i,s,n,o,a,l=t.x,c=t.y,f=Ee(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-f*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(s)),o=this.n*n,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),t.y=a*Math.cos(o)/1,t.x=a*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t}function iQ(t){var e,r,i,s,n,o,a,l,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),n=Math.atan2(t.y,t.x),s=n/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(s)),r=Math.asin(Math.cos(i)*Math.sin(s)/Math.cos(e)),t.x=this.long0-r/this.alfa,a=e,l=0;var f=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,f+=1;while(l===0&&f<15);return f>=15?null:t}var sQ=["Krovak","krovak"];const nQ={init:tQ,forward:rQ,inverse:iQ,names:sQ};function Ki(t,e,r,i,s){return t*s-e*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)}function $m(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Om(t){return .375*t*(1+.25*t*(1+.46875*t))}function Im(t){return .05859375*t*t*(1+.75*t)}function Cm(t){return t*t*t*(35/3072)}function jh(t,e,r){var i=e*r;return t/Math.sqrt(1-i*i)}function kl(t){return Math.abs(t)<he?t:t-Mm(t)*Math.PI}function $g(t,e,r,i,s){var n,o;n=t/e;for(var a=0;a<15;a++)if(o=(t-(e*n-r*Math.sin(2*n)+i*Math.sin(4*n)-s*Math.sin(6*n)))/(e-2*r*Math.cos(2*n)+4*i*Math.cos(4*n)-6*s*Math.cos(6*n)),n+=o,Math.abs(o)<=1e-10)return n;return NaN}function oQ(){this.sphere||(this.e0=$m(this.es),this.e1=Om(this.es),this.e2=Im(this.es),this.e3=Cm(this.es),this.ml0=this.a*Ki(this.e0,this.e1,this.e2,this.e3,this.lat0))}function aQ(t){var e,r,i=t.x,s=t.y;if(i=Ee(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(s)*Math.sin(i)),r=this.a*(Math.atan2(Math.tan(s),Math.cos(i))-this.lat0);else{var n=Math.sin(s),o=Math.cos(s),a=jh(this.a,this.e,n),l=Math.tan(s)*Math.tan(s),c=i*Math.cos(s),f=c*c,d=this.es*o*o/(1-this.es),p=this.a*Ki(this.e0,this.e1,this.e2,this.e3,s);e=a*c*(1-f*l*(1/6-(8-l+8*d)*f/120)),r=p-this.ml0+a*n/o*f*(.5+(5-l+6*d)*f/24)}return t.x=e+this.x0,t.y=r+this.y0,t}function lQ(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,i,s;if(this.sphere){var n=r+this.lat0;i=Math.asin(Math.sin(n)*Math.cos(e)),s=Math.atan2(Math.tan(e),Math.cos(n))}else{var o=this.ml0/this.a+r,a=$g(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-he)<=_e)return t.x=this.long0,t.y=he,r<0&&(t.y*=-1),t;var l=jh(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(a),2),d=e*this.a/l,p=d*d;i=a-l*Math.tan(a)/c*d*d*(.5-(1+3*f)*d*d/24),s=d*(1-p*(f/3+(1+3*f)*f*p/15))/Math.cos(a)}return t.x=Ee(s+this.long0),t.y=kl(i),t}var cQ=["Cassini","Cassini_Soldner","cass"];const uQ={init:oQ,forward:aQ,inverse:lQ,names:cQ};function vl(t,e){var r;return t>1e-7?(r=t*e,(1-t*t)*(e/(1-r*r)-.5/t*Math.log((1-r)/(1+r)))):2*e}var hQ=1,fQ=2,dQ=3,pQ=4;function mQ(){var t=Math.abs(this.lat0);if(Math.abs(t-he)<_e?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<_e?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=vl(this.e,1),this.mmf=.5/(1-this.es),this.apa=SQ(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=vl(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function yQ(t){var e,r,i,s,n,o,a,l,c,f,d=t.x,p=t.y;if(d=Ee(d-this.long0),this.sphere){if(n=Math.sin(p),f=Math.cos(p),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+f*i:1+this.sinph0*n+this.cosph0*f*i,r<=_e)return null;r=Math.sqrt(2/r),e=r*f*Math.sin(d),r*=this.mode===this.EQUIT?n:this.cosph0*n-this.sinph0*f*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(p+this.lat0)<_e)return null;r=St-p*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),e=r*Math.sin(d),r*=i}}else{switch(a=0,l=0,c=0,i=Math.cos(d),s=Math.sin(d),n=Math.sin(p),o=vl(this.e,n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=he+p,o=this.qp-o;break;case this.S_POLE:c=p-he,o=this.qp+o;break}if(Math.abs(c)<_e)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?r=this.ymf*c*(this.cosb1*a-this.sinb1*l*i):r=(c=Math.sqrt(2/(1+l*i)))*a*this.ymf,e=this.xmf*c*l*s;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(c=Math.sqrt(o))*s,r=i*(this.mode===this.S_POLE?c:-c)):e=r=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t}function gQ(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,i,s,n,o,a,l,c;if(this.sphere){var f=0,d,p=0;if(d=Math.sqrt(e*e+r*r),s=d*.5,s>1)return null;switch(s=2*Math.asin(s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(s),f=Math.cos(s)),this.mode){case this.EQUIT:s=Math.abs(d)<=_e?0:Math.asin(r*p/d),e*=p,r=f*d;break;case this.OBLIQ:s=Math.abs(d)<=_e?this.lat0:Math.asin(f*this.sinph0+r*p*this.cosph0/d),e*=p*this.cosph0,r=(f-Math.sin(s)*this.sinph0)*d;break;case this.N_POLE:r=-r,s=he-s;break;case this.S_POLE:s-=he;break}i=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,r)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,r*=this.dd,l=Math.sqrt(e*e+r*r),l<_e)return t.x=this.long0,t.y=this.lat0,t;o=2*Math.asin(.5*l/this.rq),n=Math.cos(o),e*=o=Math.sin(o),this.mode===this.OBLIQ?(c=n*this.sinb1+r*o*this.cosb1/l,a=this.qp*c,r=l*this.cosb1*n-r*this.sinb1*o):(c=r*o/l,a=this.qp*c,r=l*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),a=e*e+r*r,!a)return t.x=this.long0,t.y=this.lat0,t;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}i=Math.atan2(e,r),s=AQ(Math.asin(c),this.apa)}return t.x=Ee(this.long0+i),t.y=s,t}var vQ=.3333333333333333,bQ=.17222222222222222,_Q=.10257936507936508,wQ=.06388888888888888,xQ=.0664021164021164,EQ=.016415012942191543;function SQ(t){var e,r=[];return r[0]=t*vQ,e=t*t,r[0]+=e*bQ,r[1]=e*wQ,e*=t,r[0]+=e*_Q,r[1]+=e*xQ,r[2]=e*EQ,r}function AQ(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)}var TQ=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const MQ={init:mQ,forward:yQ,inverse:gQ,names:TQ,S_POLE:hQ,N_POLE:fQ,EQUIT:dQ,OBLIQ:pQ};function $l(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function $Q(){Math.abs(this.lat1+this.lat2)<_e||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Io(this.e3,this.sin_po,this.cos_po),this.qs1=vl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Io(this.e3,this.sin_po,this.cos_po),this.qs2=vl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=vl(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>_e?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function OQ(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var i=vl(this.e3,this.sin_phi),s=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,n=this.ns0*Ee(e-this.long0),o=s*Math.sin(n)+this.x0,a=this.rh-s*Math.cos(n)+this.y0;return t.x=o,t.y=a,t}function IQ(t){var e,r,i,s,n,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),s=0,e!==0&&(s=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(r=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,r)),n=Ee(s/this.ns0+this.long0),t.x=n,t.y=o,t}function CQ(t,e){var r,i,s,n,o,a=$l(.5*e);if(t<_e)return a;for(var l=t*t,c=1;c<=25;c++)if(r=Math.sin(a),i=Math.cos(a),s=t*r,n=1-s*s,o=.5*n*n/i*(e/(1-l)-r/n+.5/t*Math.log((1-s)/(1+s))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var NQ=["Albers_Conic_Equal_Area","Albers","aea"];const PQ={init:$Q,forward:OQ,inverse:IQ,names:NQ,phi1z:CQ};function LQ(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function RQ(t){var e,r,i,s,n,o,a,l,c=t.x,f=t.y;return i=Ee(c-this.long0),e=Math.sin(f),r=Math.cos(f),s=Math.cos(i),o=this.sin_p14*e+this.cos_p14*r*s,n=1,o>0||Math.abs(o)<=_e?(a=this.x0+this.a*n*r*Math.sin(i)/o,l=this.y0+this.a*n*(this.cos_p14*e-this.sin_p14*r*s)/o):(a=this.x0+this.infinity_dist*r*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*s)),t.x=a,t.y=l,t}function kQ(t){var e,r,i,s,n,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),r=Math.sin(s),i=Math.cos(s),o=$l(i*this.sin_p14+t.y*r*this.cos_p14/e),n=Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r),n=Ee(this.long0+n)):(o=this.phic0,n=0),t.x=n,t.y=o,t}var DQ=["gnom"];const FQ={init:LQ,forward:RQ,inverse:kQ,names:DQ};function UQ(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*he:he;for(var i=Math.asin(.5*e),s,n,o,a,l=0;l<30;l++)if(n=Math.sin(i),o=Math.cos(i),a=t*n,s=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-n/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),i+=s,Math.abs(s)<=1e-10)return i;return NaN}function jQ(){this.sphere||(this.k0=Io(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function BQ(t){var e=t.x,r=t.y,i,s,n=Ee(e-this.long0);if(this.sphere)i=this.x0+this.a*n*Math.cos(this.lat_ts),s=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var o=vl(this.e,Math.sin(r));i=this.x0+this.a*this.k0*n,s=this.y0+this.a*o*.5/this.k0}return t.x=i,t.y=s,t}function VQ(t){t.x-=this.x0,t.y-=this.y0;var e,r;return this.sphere?(e=Ee(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=UQ(this.e,2*t.y*this.k0/this.a),e=Ee(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t}var GQ=["cea"];const zQ={init:jQ,forward:BQ,inverse:VQ,names:GQ};function qQ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function HQ(t){var e=t.x,r=t.y,i=Ee(e-this.long0),s=kl(r-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*s,t}function WQ(t){var e=t.x,r=t.y;return t.x=Ee(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=kl(this.lat0+(r-this.y0)/this.a),t}var YQ=["Equirectangular","Equidistant_Cylindrical","eqc"];const JQ={init:qQ,forward:HQ,inverse:WQ,names:YQ};var jM=20;function KQ(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=$m(this.es),this.e1=Om(this.es),this.e2=Im(this.es),this.e3=Cm(this.es),this.ml0=this.a*Ki(this.e0,this.e1,this.e2,this.e3,this.lat0)}function ZQ(t){var e=t.x,r=t.y,i,s,n,o=Ee(e-this.long0);if(n=o*Math.sin(r),this.sphere)Math.abs(r)<=_e?(i=this.a*o,s=-1*this.a*this.lat0):(i=this.a*Math.sin(n)/Math.tan(r),s=this.a*(kl(r-this.lat0)+(1-Math.cos(n))/Math.tan(r)));else if(Math.abs(r)<=_e)i=this.a*o,s=-1*this.ml0;else{var a=jh(this.a,this.e,Math.sin(r))/Math.tan(r);i=a*Math.sin(n),s=this.a*Ki(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*(1-Math.cos(n))}return t.x=i+this.x0,t.y=s+this.y0,t}function XQ(t){var e,r,i,s,n,o,a,l,c;if(i=t.x-this.x0,s=t.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=_e)e=Ee(i/this.a+this.long0),r=0;else{o=this.lat0+s/this.a,a=i*i/this.a/this.a+o*o,l=o;var f;for(n=jM;n;--n)if(f=Math.tan(l),c=-1*(o*(l*f+1)-l-.5*(l*l+a)*f)/((l-o)/f-1),l+=c,Math.abs(c)<=_e){r=l;break}e=Ee(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(r))}else if(Math.abs(s+this.ml0)<=_e)r=0,e=Ee(this.long0+i/this.a);else{o=(this.ml0+s)/this.a,a=i*i/this.a/this.a+o*o,l=o;var d,p,y,v,b;for(n=jM;n;--n)if(b=this.e*Math.sin(l),d=Math.sqrt(1-b*b)*Math.tan(l),p=this.a*Ki(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),v=p/this.a,c=(o*(d*v+1)-v-.5*d*(v*v+a))/(this.es*Math.sin(2*l)*(v*v+a-2*o*v)/(4*d)+(o-v)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=_e){r=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=Ee(this.long0+Math.asin(i*d/this.a)/Math.sin(r))}return t.x=e,t.y=r,t}var QQ=["Polyconic","poly"];const eee={init:KQ,forward:ZQ,inverse:XQ,names:QQ};function tee(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function ree(t){var e,r=t.x,i=t.y,s=i-this.lat0,n=r-this.long0,o=s/Bd*1e-5,a=n,l=1,c=0;for(e=1;e<=10;e++)l=l*o,c=c+this.A[e]*l;var f=c,d=a,p=1,y=0,v,b,S=0,E=0;for(e=1;e<=6;e++)v=p*f-y*d,b=y*f+p*d,p=v,y=b,S=S+this.B_re[e]*p-this.B_im[e]*y,E=E+this.B_im[e]*p+this.B_re[e]*y;return t.x=E*this.a+this.x0,t.y=S*this.a+this.y0,t}function iee(t){var e,r=t.x,i=t.y,s=r-this.x0,n=i-this.y0,o=n/this.a,a=s/this.a,l=1,c=0,f,d,p=0,y=0;for(e=1;e<=6;e++)f=l*o-c*a,d=c*o+l*a,l=f,c=d,p=p+this.C_re[e]*l-this.C_im[e]*c,y=y+this.C_im[e]*l+this.C_re[e]*c;for(var v=0;v<this.iterations;v++){var b=p,S=y,E,T,w=o,_=a;for(e=2;e<=6;e++)E=b*p-S*y,T=S*p+b*y,b=E,S=T,w=w+(e-1)*(this.B_re[e]*b-this.B_im[e]*S),_=_+(e-1)*(this.B_im[e]*b+this.B_re[e]*S);b=1,S=0;var M=this.B_re[1],$=this.B_im[1];for(e=2;e<=6;e++)E=b*p-S*y,T=S*p+b*y,b=E,S=T,M=M+e*(this.B_re[e]*b-this.B_im[e]*S),$=$+e*(this.B_im[e]*b+this.B_re[e]*S);var C=M*M+$*$;p=(w*M+_*$)/C,y=(_*M-w*$)/C}var P=p,N=y,F=1,q=0;for(e=1;e<=9;e++)F=F*P,q=q+this.D[e]*F;var U=this.lat0+q*Bd*1e5,B=this.long0+N;return t.x=B,t.y=U,t}var see=["New_Zealand_Map_Grid","nzmg"];const nee={init:tee,forward:ree,inverse:iee,names:see};function oee(){}function aee(t){var e=t.x,r=t.y,i=Ee(e-this.long0),s=this.x0+this.a*i,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=s,t.y=n,t}function lee(t){t.x-=this.x0,t.y-=this.y0;var e=Ee(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t}var cee=["Miller_Cylindrical","mill"];const uee={init:oee,forward:aee,inverse:lee,names:cee};var hee=20;function fee(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=RS(this.es)}function dee(t){var e,r,i=t.x,s=t.y;if(i=Ee(i-this.long0),this.sphere){if(!this.m)s=this.n!==1?Math.asin(this.n*Math.sin(s)):s;else for(var n=this.n*Math.sin(s),o=hee;o;--o){var a=(this.m*s+Math.sin(s)-n)/(this.m+Math.cos(s));if(s-=a,Math.abs(a)<_e)break}e=this.a*this.C_x*i*(this.m+Math.cos(s)),r=this.a*this.C_y*s}else{var l=Math.sin(s),c=Math.cos(s);r=this.a*xf(s,l,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=r,t}function pee(t){var e,r,i,s;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=$l((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=$l(Math.sin(e)/this.n)),i=Ee(i+this.long0),e=kl(e)):(e=kS(t.y/this.a,this.es,this.en),s=Math.abs(e),s<he?(s=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),i=Ee(r)):s-_e<he&&(i=this.long0)),t.x=i,t.y=e,t}var mee=["Sinusoidal","sinu"];const yee={init:fee,forward:dee,inverse:pee,names:mee};function gee(){}function vee(t){for(var e=t.x,r=t.y,i=Ee(e-this.long0),s=r,n=Math.PI*Math.sin(r);;){var o=-(s+Math.sin(s)-n)/(1+Math.cos(s));if(s+=o,Math.abs(o)<_e)break}s/=2,Math.PI/2-Math.abs(r)<_e&&(i=0);var a=.900316316158*this.a*i*Math.cos(s)+this.x0,l=1.4142135623731*this.a*Math.sin(s)+this.y0;return t.x=a,t.y=l,t}function bee(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var i=Ee(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var s=Math.asin(r);return t.x=i,t.y=s,t}var _ee=["Mollweide","moll"];const wee={init:gee,forward:vee,inverse:bee,names:_ee};function xee(){Math.abs(this.lat1+this.lat2)<_e||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=$m(this.es),this.e1=Om(this.es),this.e2=Im(this.es),this.e3=Cm(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Io(this.e,this.sinphi,this.cosphi),this.ml1=Ki(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<_e?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Io(this.e,this.sinphi,this.cosphi),this.ml2=Ki(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ki(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Eee(t){var e=t.x,r=t.y,i;if(this.sphere)i=this.a*(this.g-r);else{var s=Ki(this.e0,this.e1,this.e2,this.e3,r);i=this.a*(this.g-s)}var n=this.ns*Ee(e-this.long0),o=this.x0+i*Math.sin(n),a=this.y0+this.rh-i*Math.cos(n);return t.x=o,t.y=a,t}function See(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,r,i,s;this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var n=0;if(r!==0&&(n=Math.atan2(e*t.x,e*t.y)),this.sphere)return s=Ee(this.long0+n/this.ns),i=kl(this.g-r/this.a),t.x=s,t.y=i,t;var o=this.g-r/this.a;return i=$g(o,this.e0,this.e1,this.e2,this.e3),s=Ee(this.long0+n/this.ns),t.x=s,t.y=i,t}var Aee=["Equidistant_Conic","eqdc"];const Tee={init:xee,forward:Eee,inverse:See,names:Aee};function Mee(){this.R=this.a}function $ee(t){var e=t.x,r=t.y,i=Ee(e-this.long0),s,n;Math.abs(r)<=_e&&(s=this.x0+this.R*i,n=this.y0);var o=$l(2*Math.abs(r/Math.PI));(Math.abs(i)<=_e||Math.abs(Math.abs(r)-he)<=_e)&&(s=this.x0,r>=0?n=this.y0+Math.PI*this.R*Math.tan(.5*o):n=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,c=Math.sin(o),f=Math.cos(o),d=f/(c+f-1),p=d*d,y=d*(2/c-1),v=y*y,b=Math.PI*this.R*(a*(d-v)+Math.sqrt(l*(d-v)*(d-v)-(v+l)*(p-v)))/(v+l);i<0&&(b=-b),s=this.x0+b;var S=l+d;return b=Math.PI*this.R*(y*S-a*Math.sqrt((v+l)*(l+1)-S*S))/(v+l),r>=0?n=this.y0+b:n=this.y0-b,t.x=s,t.y=n,t}function Oee(t){var e,r,i,s,n,o,a,l,c,f,d,p,y;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,i=t.x/d,s=t.y/d,n=i*i+s*s,o=-Math.abs(s)*(1+n),a=o-2*s*s+i*i,l=-2*o+1+2*s*s+n*n,y=s*s/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,f=2*Math.sqrt(-c/3),d=3*y/c/f,Math.abs(d)>1&&(d>=0?d=1:d=-1),p=Math.acos(d)/3,t.y>=0?r=(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:r=-(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<_e?e=this.long0:e=Ee(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(i*i-s*s)+n*n))/2/i),t.x=e,t.y=r,t}var Iee=["Van_der_Grinten_I","VanDerGrinten","vandg"];const Cee={init:Mee,forward:$ee,inverse:Oee,names:Iee};function Nee(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Pee(t){var e=t.x,r=t.y,i=Math.sin(t.y),s=Math.cos(t.y),n=Ee(e-this.long0),o,a,l,c,f,d,p,y,v,b,S,E,T,w,_,M,$,C,P,N,F,q,U;return this.sphere?Math.abs(this.sin_p12-1)<=_e?(t.x=this.x0+this.a*(he-r)*Math.sin(n),t.y=this.y0-this.a*(he-r)*Math.cos(n),t):Math.abs(this.sin_p12+1)<=_e?(t.x=this.x0+this.a*(he+r)*Math.sin(n),t.y=this.y0+this.a*(he+r)*Math.cos(n),t):(C=this.sin_p12*i+this.cos_p12*s*Math.cos(n),M=Math.acos(C),$=M?M/Math.sin(M):1,t.x=this.x0+this.a*$*s*Math.sin(n),t.y=this.y0+this.a*$*(this.cos_p12*i-this.sin_p12*s*Math.cos(n)),t):(o=$m(this.es),a=Om(this.es),l=Im(this.es),c=Cm(this.es),Math.abs(this.sin_p12-1)<=_e?(f=this.a*Ki(o,a,l,c,he),d=this.a*Ki(o,a,l,c,r),t.x=this.x0+(f-d)*Math.sin(n),t.y=this.y0-(f-d)*Math.cos(n),t):Math.abs(this.sin_p12+1)<=_e?(f=this.a*Ki(o,a,l,c,he),d=this.a*Ki(o,a,l,c,r),t.x=this.x0+(f+d)*Math.sin(n),t.y=this.y0+(f+d)*Math.cos(n),t):(p=i/s,y=jh(this.a,this.e,this.sin_p12),v=jh(this.a,this.e,i),b=Math.atan((1-this.es)*p+this.es*y*this.sin_p12/(v*s)),S=Math.atan2(Math.sin(n),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(n)),S===0?P=Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(S)-Math.PI)<=_e?P=-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):P=Math.asin(Math.sin(n)*Math.cos(b)/Math.sin(S)),E=this.e*this.sin_p12/Math.sqrt(1-this.es),T=this.e*this.cos_p12*Math.cos(S)/Math.sqrt(1-this.es),w=E*T,_=T*T,N=P*P,F=N*P,q=F*P,U=q*P,M=y*P*(1-N*_*(1-_)/6+F/8*w*(1-2*_)+q/120*(_*(4-7*_)-3*E*E*(1-7*_))-U/48*w),t.x=this.x0+M*Math.sin(S),t.y=this.y0+M*Math.cos(S),t))}function Lee(t){t.x-=this.x0,t.y-=this.y0;var e,r,i,s,n,o,a,l,c,f,d,p,y,v,b,S,E,T,w,_,M,$,C,P;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*he*this.a?void 0:(r=e/this.a,i=Math.sin(r),s=Math.cos(r),n=this.long0,Math.abs(e)<=_e?o=this.lat0:(o=$l(s*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-he,Math.abs(a)<=_e?this.lat0>=0?n=Ee(this.long0+Math.atan2(t.x,-t.y)):n=Ee(this.long0-Math.atan2(-t.x,t.y)):n=Ee(this.long0+Math.atan2(t.x*i,e*this.cos_p12*s-t.y*this.sin_p12*i))),t.x=n,t.y=o,t)):(l=$m(this.es),c=Om(this.es),f=Im(this.es),d=Cm(this.es),Math.abs(this.sin_p12-1)<=_e?(p=this.a*Ki(l,c,f,d,he),e=Math.sqrt(t.x*t.x+t.y*t.y),y=p-e,o=$g(y/this.a,l,c,f,d),n=Ee(this.long0+Math.atan2(t.x,-1*t.y)),t.x=n,t.y=o,t):Math.abs(this.sin_p12+1)<=_e?(p=this.a*Ki(l,c,f,d,he),e=Math.sqrt(t.x*t.x+t.y*t.y),y=e-p,o=$g(y/this.a,l,c,f,d),n=Ee(this.long0+Math.atan2(t.x,t.y)),t.x=n,t.y=o,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),S=Math.atan2(t.x,t.y),v=jh(this.a,this.e,this.sin_p12),E=Math.cos(S),T=this.e*this.cos_p12*E,w=-T*T/(1-this.es),_=3*this.es*(1-w)*this.sin_p12*this.cos_p12*E/(1-this.es),M=e/v,$=M-w*(1+w)*Math.pow(M,3)/6-_*(1+3*w)*Math.pow(M,4)/24,C=1-w*$*$/2-M*$*$*$/6,b=Math.asin(this.sin_p12*Math.cos($)+this.cos_p12*Math.sin($)*E),n=Ee(this.long0+Math.asin(Math.sin(S)*Math.sin($)/Math.cos(b))),P=Math.sin(b),o=Math.atan2((P-this.es*C*this.sin_p12)*Math.tan(b),P*(1-this.es)),t.x=n,t.y=o,t))}var Ree=["Azimuthal_Equidistant","aeqd"];const kee={init:Nee,forward:Pee,inverse:Lee,names:Ree};function Dee(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Fee(t){var e,r,i,s,n,o,a,l,c=t.x,f=t.y;return i=Ee(c-this.long0),e=Math.sin(f),r=Math.cos(f),s=Math.cos(i),o=this.sin_p14*e+this.cos_p14*r*s,n=1,(o>0||Math.abs(o)<=_e)&&(a=this.a*n*r*Math.sin(i),l=this.y0+this.a*n*(this.cos_p14*e-this.sin_p14*r*s)),t.x=a,t.y=l,t}function Uee(t){var e,r,i,s,n,o,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),r=$l(e/this.a),i=Math.sin(r),s=Math.cos(r),o=this.long0,Math.abs(e)<=_e?(a=this.lat0,t.x=o,t.y=a,t):(a=$l(s*this.sin_p14+t.y*i*this.cos_p14/e),n=Math.abs(this.lat0)-he,Math.abs(n)<=_e?(this.lat0>=0?o=Ee(this.long0+Math.atan2(t.x,-t.y)):o=Ee(this.long0-Math.atan2(-t.x,t.y)),t.x=o,t.y=a,t):(o=Ee(this.long0+Math.atan2(t.x*i,e*this.cos_p14*s-t.y*this.sin_p14*i)),t.x=o,t.y=a,t))}var jee=["ortho"];const Bee={init:Dee,forward:Fee,inverse:Uee,names:jee};var ar={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},At={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Vee(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=he-St/2?this.face=ar.TOP:this.lat0<=-(he-St/2)?this.face=ar.BOTTOM:Math.abs(this.long0)<=St?this.face=ar.FRONT:Math.abs(this.long0)<=he+St?this.face=this.long0>0?ar.RIGHT:ar.LEFT:this.face=ar.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Gee(t){var e={x:0,y:0},r,i,s,n,o,a,l={value:0};if(t.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):r=t.y,i=t.x,this.face===ar.TOP)n=he-r,i>=St&&i<=he+St?(l.value=At.AREA_0,s=i-he):i>he+St||i<=-(he+St)?(l.value=At.AREA_1,s=i>0?i-Ar:i+Ar):i>-(he+St)&&i<=-St?(l.value=At.AREA_2,s=i+he):(l.value=At.AREA_3,s=i);else if(this.face===ar.BOTTOM)n=he+r,i>=St&&i<=he+St?(l.value=At.AREA_0,s=-i+he):i<St&&i>=-St?(l.value=At.AREA_1,s=-i):i<-St&&i>=-(he+St)?(l.value=At.AREA_2,s=-i-he):(l.value=At.AREA_3,s=i>0?-i+Ar:-i-Ar);else{var c,f,d,p,y,v,b;this.face===ar.RIGHT?i=bh(i,+he):this.face===ar.BACK?i=bh(i,+Ar):this.face===ar.LEFT&&(i=bh(i,-he)),p=Math.sin(r),y=Math.cos(r),v=Math.sin(i),b=Math.cos(i),c=y*b,f=y*v,d=p,this.face===ar.FRONT?(n=Math.acos(c),s=gy(n,d,f,l)):this.face===ar.RIGHT?(n=Math.acos(f),s=gy(n,d,-c,l)):this.face===ar.BACK?(n=Math.acos(-c),s=gy(n,d,-f,l)):this.face===ar.LEFT?(n=Math.acos(-f),s=gy(n,d,c,l)):(n=s=0,l.value=At.AREA_0)}return a=Math.atan(12/Ar*(s+Math.acos(Math.sin(s)*Math.cos(St))-he)),o=Math.sqrt((1-Math.cos(n))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(s))))),l.value===At.AREA_1?a+=he:l.value===At.AREA_2?a+=Ar:l.value===At.AREA_3&&(a+=1.5*Ar),e.x=o*Math.cos(a),e.y=o*Math.sin(a),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function zee(t){var e={lam:0,phi:0},r,i,s,n,o,a,l,c,f,d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),r=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=At.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=At.AREA_1,r-=he):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=At.AREA_2,r=r<0?r+Ar:r-Ar):(d.value=At.AREA_3,r+=he),f=Ar/12*Math.tan(r),o=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),a=Math.atan(o),s=Math.cos(r),n=Math.tan(i),l=1-s*s*n*n*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===ar.TOP)c=Math.acos(l),e.phi=he-c,d.value===At.AREA_0?e.lam=a+he:d.value===At.AREA_1?e.lam=a<0?a+Ar:a-Ar:d.value===At.AREA_2?e.lam=a-he:e.lam=a;else if(this.face===ar.BOTTOM)c=Math.acos(l),e.phi=c-he,d.value===At.AREA_0?e.lam=-a+he:d.value===At.AREA_1?e.lam=-a:d.value===At.AREA_2?e.lam=-a-he:e.lam=a<0?-a-Ar:-a+Ar;else{var p,y,v;p=l,f=p*p,f>=1?v=0:v=Math.sqrt(1-f)*Math.sin(a),f+=v*v,f>=1?y=0:y=Math.sqrt(1-f),d.value===At.AREA_1?(f=y,y=-v,v=f):d.value===At.AREA_2?(y=-y,v=-v):d.value===At.AREA_3&&(f=y,y=v,v=-f),this.face===ar.RIGHT?(f=p,p=-y,y=f):this.face===ar.BACK?(p=-p,y=-y):this.face===ar.LEFT&&(f=p,p=y,y=-f),e.phi=Math.acos(-v)-he,e.lam=Math.atan2(y,p),this.face===ar.RIGHT?e.lam=bh(e.lam,-he):this.face===ar.BACK?e.lam=bh(e.lam,-Ar):this.face===ar.LEFT&&(e.lam=bh(e.lam,+he))}if(this.es!==0){var b,S,E;b=e.phi<0?1:0,S=Math.tan(e.phi),E=this.b/Math.sqrt(S*S+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-E*E)/(this.one_minus_f*E)),b&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function gy(t,e,r,i){var s;return t<_e?(i.value=At.AREA_0,s=0):(s=Math.atan2(e,r),Math.abs(s)<=St?i.value=At.AREA_0:s>St&&s<=he+St?(i.value=At.AREA_1,s-=he):s>he+St||s<=-(he+St)?(i.value=At.AREA_2,s=s>=0?s-Ar:s+Ar):(i.value=At.AREA_3,s+=he)),s}function bh(t,e){var r=t+e;return r<-Ar?r+=Rp:r>+Ar&&(r-=Rp),r}var qee=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Hee={init:Vee,forward:Gee,inverse:zee,names:qee};var lx=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],wd=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],UL=.8487,jL=1.3523,BL=po/5,Wee=1/BL,oh=18,Og=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Yee=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function Jee(t,e,r,i){for(var s=e;i;--i){var n=t(s);if(s-=n,Math.abs(n)<r)break}return s}function Kee(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Zee(t){var e=Ee(t.x-this.long0),r=Math.abs(t.y),i=Math.floor(r*BL);i<0?i=0:i>=oh&&(i=oh-1),r=po*(r-Wee*i);var s={x:Og(lx[i],r)*e,y:Og(wd[i],r)};return t.y<0&&(s.y=-s.y),s.x=s.x*this.a*UL+this.x0,s.y=s.y*this.a*jL+this.y0,s}function Xee(t){var e={x:(t.x-this.x0)/(this.a*UL),y:Math.abs(t.y-this.y0)/(this.a*jL)};if(e.y>=1)e.x/=lx[oh][0],e.y=t.y<0?-he:he;else{var r=Math.floor(e.y*oh);for(r<0?r=0:r>=oh&&(r=oh-1);;)if(wd[r][0]>e.y)--r;else if(wd[r+1][0]<=e.y)++r;else break;var i=wd[r],s=5*(e.y-i[0])/(wd[r+1][0]-i[0]);s=Jee(function(n){return(Og(i,n)-e.y)/Yee(i,n)},s,_e,100),e.x/=Og(lx[r],s),e.y=(5*r+s)*fi,t.y<0&&(e.y=-e.y)}return e.x=Ee(e.x+this.long0),e}var Qee=["Robinson","robin"];const ete={init:Kee,forward:Zee,inverse:Xee,names:Qee};function tte(){this.name="geocent"}function rte(t){var e=$L(t,this.es,this.a);return e}function ite(t){var e=OL(t,this.es,this.a,this.b);return e}var ste=["Geocentric","geocentric","geocent","Geocent"];const nte={init:tte,forward:rte,inverse:ite,names:ste};var $i={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},jf={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function ote(){if(Object.keys(jf).forEach(function(r){if(typeof this[r]>"u")this[r]=jf[r].def;else{if(jf[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);jf[r].num&&(this[r]=parseFloat(this[r]))}jf[r].degrees&&(this[r]=this[r]*fi)}.bind(this)),Math.abs(Math.abs(this.lat0)-he)<_e?this.mode=this.lat0<0?$i.S_POLE:$i.N_POLE:Math.abs(this.lat0)<_e?this.mode=$i.EQUIT:(this.mode=$i.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function ate(t){t.x-=this.long0;var e=Math.sin(t.y),r=Math.cos(t.y),i=Math.cos(t.x),s,n;switch(this.mode){case $i.OBLIQ:n=this.sinph0*e+this.cosph0*r*i;break;case $i.EQUIT:n=r*i;break;case $i.S_POLE:n=-e;break;case $i.N_POLE:n=e;break}switch(n=this.pn1/(this.p-n),s=n*r*Math.sin(t.x),this.mode){case $i.OBLIQ:n*=this.cosph0*e-this.sinph0*r*i;break;case $i.EQUIT:n*=e;break;case $i.N_POLE:n*=-(r*i);break;case $i.S_POLE:n*=r*i;break}var o,a;return o=n*this.cg+s*this.sg,a=1/(o*this.sw*this.h1+this.cw),s=(s*this.cg-n*this.sg)*this.cw*a,n=o*a,t.x=s*this.a,t.y=n*this.a,t}function lte(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},r,i,s;s=1/(this.pn1-t.y*this.sw),r=this.pn1*t.x*s,i=this.pn1*t.y*this.cw*s,t.x=r*this.cg+i*this.sg,t.y=i*this.cg-r*this.sg;var n=ds(t.x,t.y);if(Math.abs(n)<_e)e.x=0,e.y=t.y;else{var o,a;switch(a=1-n*n*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/n+n/this.pn1),o=Math.sqrt(1-a*a),this.mode){case $i.OBLIQ:e.y=Math.asin(o*this.sinph0+t.y*a*this.cosph0/n),t.y=(o-this.sinph0*Math.sin(e.y))*n,t.x*=a*this.cosph0;break;case $i.EQUIT:e.y=Math.asin(t.y*a/n),t.y=o*n,t.x*=a;break;case $i.N_POLE:e.y=Math.asin(o),t.y=-t.y;break;case $i.S_POLE:e.y=-Math.asin(o);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var cte=["Tilted_Perspective","tpers"];const ute={init:ote,forward:ate,inverse:lte,names:cte};function hte(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function fte(t){var e=t.x,r=t.y,i,s,n,o;if(e=e-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var a=this.radius_p/ds(this.radius_p*Math.cos(r),Math.sin(r));if(s=a*Math.cos(e)*Math.cos(r),n=a*Math.sin(e)*Math.cos(r),o=a*Math.sin(r),(this.radius_g-s)*s-n*n-o*o*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=this.radius_g-s,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/ds(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(n/i),t.y=this.radius_g_1*Math.atan(o/ds(n,i)))}else this.shape==="sphere"&&(i=Math.cos(r),s=Math.cos(e)*i,n=Math.sin(e)*i,o=Math.sin(r),i=this.radius_g-s,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/ds(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(n/i),t.y=this.radius_g_1*Math.atan(o/ds(n,i))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function dte(t){var e=-1,r=0,i=0,s,n,o,a;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*ds(1,i)):(r=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*ds(1,r));var l=i/this.radius_p;if(s=r*r+l*l+e*e,n=2*this.radius_g*e,o=n*n-4*s*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-n-Math.sqrt(o))/(2*s),e=this.radius_g+a*e,r*=a,i*=a,t.x=Math.atan2(r,e),t.y=Math.atan(i*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+i*i)):(r=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),s=r*r+i*i+e*e,n=2*this.radius_g*e,o=n*n-4*s*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-n-Math.sqrt(o))/(2*s),e=this.radius_g+a*e,r*=a,i*=a,t.x=Math.atan2(r,e),t.y=Math.atan(i*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var pte=["Geostationary Satellite View","Geostationary_Satellite","geos"];const mte={init:hte,forward:fte,inverse:dte,names:pte};var Vd=1.340264,Gd=-.081106,zd=893e-6,qd=.003796,Ig=Math.sqrt(3)/2;function yte(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function gte(t){var e=Ee(t.x-this.long0),r=t.y,i=Math.asin(Ig*Math.sin(r)),s=i*i,n=s*s*s;return t.x=e*Math.cos(i)/(Ig*(Vd+3*Gd*s+n*(7*zd+9*qd*s))),t.y=i*(Vd+Gd*s+n*(zd+qd*s)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function vte(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,r=12,i=t.y,s,n,o,a,l,c;for(c=0;c<r&&(s=i*i,n=s*s*s,o=i*(Vd+Gd*s+n*(zd+qd*s))-t.y,a=Vd+3*Gd*s+n*(7*zd+9*qd*s),i-=l=o/a,!(Math.abs(l)<e));++c);return s=i*i,n=s*s*s,t.x=Ig*t.x*(Vd+3*Gd*s+n*(7*zd+9*qd*s))/Math.cos(i),t.y=Math.asin(Math.sin(i)/Ig),t.x=Ee(t.x+this.long0),t}var bte=["eqearth","Equal Earth","Equal_Earth"];const _te={init:yte,forward:gte,inverse:vte,names:bte};var Fp=1e-10;function wte(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<Fp)throw new Error;this.es?(this.en=RS(this.es),this.m1=xf(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Ete,this.forward=xte):(Math.abs(this.phi1)+Fp>=he?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=Ate,this.forward=Ste)}function xte(t){var e=Ee(t.x-(this.long0||0)),r=t.y,i,s,n;return i=this.am1+this.m1-xf(r,s=Math.sin(r),n=Math.cos(r),this.en),s=n*e/(i*Math.sqrt(1-this.es*s*s)),t.x=i*Math.sin(s),t.y=this.am1-i*Math.cos(s),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Ete(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,i,s;if(r=ds(t.x,t.y=this.am1-t.y),s=kS(this.am1+this.m1-r,this.es,this.en),(e=Math.abs(s))<he)e=Math.sin(s),i=r*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(s);else if(Math.abs(e-he)<=Fp)i=0;else throw new Error;return t.x=Ee(i+(this.long0||0)),t.y=kl(s),t}function Ste(t){var e=Ee(t.x-(this.long0||0)),r=t.y,i,s;return s=this.cphi1+this.phi1-r,Math.abs(s)>Fp?(t.x=s*Math.sin(i=e*Math.cos(r)/s),t.y=this.cphi1-s*Math.cos(i)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Ate(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,i=ds(t.x,t.y=this.cphi1-t.y);if(r=this.cphi1+this.phi1-i,Math.abs(r)>he)throw new Error;return Math.abs(Math.abs(r)-he)<=Fp?e=0:e=i*Math.atan2(t.x,t.y)/Math.cos(r),t.x=Ee(e+(this.long0||0)),t.y=kl(r),t}var Tte=["bonne","Bonne (Werner lat_1=90)"];const Mte={init:wte,names:Tte};function $te(t){t.Proj.projections.add(M0),t.Proj.projections.add($0),t.Proj.projections.add(EX),t.Proj.projections.add(NX),t.Proj.projections.add(FX),t.Proj.projections.add(GX),t.Proj.projections.add(JX),t.Proj.projections.add(eQ),t.Proj.projections.add(nQ),t.Proj.projections.add(uQ),t.Proj.projections.add(MQ),t.Proj.projections.add(PQ),t.Proj.projections.add(FQ),t.Proj.projections.add(zQ),t.Proj.projections.add(JQ),t.Proj.projections.add(eee),t.Proj.projections.add(nee),t.Proj.projections.add(uee),t.Proj.projections.add(yee),t.Proj.projections.add(wee),t.Proj.projections.add(Tee),t.Proj.projections.add(Cee),t.Proj.projections.add(kee),t.Proj.projections.add(Bee),t.Proj.projections.add(Hee),t.Proj.projections.add(ete),t.Proj.projections.add(nte),t.Proj.projections.add(ute),t.Proj.projections.add(mte),t.Proj.projections.add(_te),t.Proj.projections.add(Mte)}kt.defaultDatum="WGS84";kt.Proj=_o;kt.WGS84=new kt.Proj("WGS84");kt.Point=Uh;kt.toPoint=IL;kt.defs=Ui;kt.nadgrid=AZ;kt.transform=Mg;kt.mgrs=BZ;kt.version="__VERSION__";$te(kt);const Ote="EPSG:4326";class Ite{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,kt.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),kt.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),kt.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),kt.defs("EPSG:102100",kt.defs("EPSG:3857")),kt.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),kt.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let e=1;for(;e<=60;){const r=e<10?`0${e}`:e;kt.defs(`EPSG:326${r}`,`+proj=utm +zone=${e} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),e++}}addProjection(e,r){e=typeof e=="number"?`EPSG:${e}`:e,kt.defs(e,r)}defaultEpsgLookup(e){const r=/urn:ogc:def:crs:EPSG::(\d+)/,i=/EPSG:(\d+)/,s=String(e).match(r)||String(e).match(i)||[];if(s.length<2)throw new Error("Invalid code provided.");return new Promise((n,o)=>{const a=`https://epsg.io/${s[1]}.proj4`;Fr(a,{responseType:"text"}).then(f=>{f.data?n(f.data):o()},f=>{o(f)})})}epsgLookup(e){return this.espgWorker(e)}setEpsgLookup(e){this.espgWorker=e}normalizeProj(e){if(typeof e=="object"){if(e.wkid)return"EPSG:"+e.wkid;if(e.wkt)return e.wkt}else{if(typeof e=="number")return"EPSG:"+e;if(typeof e=="string")return e}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(e){let r,i="";try{r=this.normalizeProj(e)}catch{return!1}if(!r.startsWith("EPSG:"))return!0;typeof e=="object"&&e.latestWkid&&(i=this.normalizeProj(e.latestWkid));const s=(l,c)=>{l!==c&&kt.defs(c,kt.defs(l))};if(kt.defs(r))return!0;if(i&&kt.defs(i))return s(i,r),!0;const n=async l=>{try{const c=await this.epsgLookup(l);return c===null||c===""?!1:(kt.defs(l,c),!0)}catch{return!1}};return await(i?n(i):Promise.resolve(!1))?(s(i,r),!0):n(r)}async checkProjBomber(e){if(e.length>0){const r=e.pop();if(await this.checkProj(r))return this.checkProjBomber(e);throw console.error("Unable to parse or locate projection information for this item:",r),new Error("Could not find projection information, see console for details")}}async projectGeoJson(e,r,i){let s,n;if(r?s=this.normalizeProj(r):s=je.parseGeoJsonCrs(e.crs),i?n=this.normalizeProj(i):n=Ote,n===s)return e;await this.checkProjBomber([s,n]);const o=kt(s,n).forward;return UK(e,o)}async projectGeometry(e,r){if(r.type===Je.EXTENT)return this.projectExtent(e,r);await this.checkProjBomber([e,r.sr]);const i=r.toGeoJSON(),s=await this.projectGeoJson(i,this.normalizeProj(r.sr),this.normalizeProj(e)),n=Vc.geom.geomGeoJsonToRamp(s,r.id);return n.sr=je.parseSR(e),n}async projectExtent(e,r){const i=(b,S,E)=>{if(E===0)return[b,S];const T=[(b[0]+S[0])/2,(b[1]+S[1])/2];if(E===1)return[b,T,S];if(E>1){const w=i(b,T,E-1),_=i(T,S,E-1);return w.concat(_.slice(1))}return[[]]},s=r.toPolygonArray().pop()||[];let n=[];[0,1,2,3].map(b=>i(s[b],s[b+1],3).slice(1)).forEach(b=>n=n.concat(b));const o=new Oi("warpy",[n],r.sr,!0),a=await this.projectGeometry(e,o),l=a.toArray().pop()||[],c=l.map(b=>b[0]),f=l.map(b=>b[1]),d=Math.min.apply(null,c),p=Math.max.apply(null,c),y=Math.min.apply(null,f),v=Math.max.apply(null,f);return er.fromParams(r.id+"_projected",d,y,p,v,a.sr)}}class Cte{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new Ite,this.geom=new $K,this.sharedUtils=new NK}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(e){const r=i=>i.map(s=>({level:s[0],resolution:s[1],scale:s[2]}));if(e===this.DEFAULT_LAMBERT)return r([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(e===this.DEFAULT_MERCATOR)return r([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${e}`)}}class Lr{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(e){this.$iApi=e}}function Nte(t){return typeof t=="function"&&t.render&&typeof t.render=="function"}function Pte(t){const e=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof t=="object"&&!t.functional&&e.some(r=>t[r]!==void 0)}function VL(t){return typeof t=="object"&&Object.keys(t).every(e=>typeof e=="string")&&Object.values(t).every(e=>e instanceof HTMLElement)}function Lte(t){return typeof t=="object"&&t.default!==void 0}var vy={exports:{}},BM;function Rte(){if(BM)return vy.exports;BM=1;function t(){}return t.prototype={on:function(e,r,i){var s=this.e||(this.e={});return(s[e]||(s[e]=[])).push({fn:r,ctx:i}),this},once:function(e,r,i){var s=this;function n(){s.off(e,n),r.apply(i,arguments)}return n._=r,this.on(e,n,i)},emit:function(e){var r=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),s=0,n=i.length;for(s;s<n;s++)i[s].fn.apply(i[s].ctx,r);return this},off:function(e,r){var i=this.e||(this.e={}),s=i[e],n=[];if(s&&r)for(var o=0,a=s.length;o<a;o++)s[o].fn!==r&&s[o].fn._!==r&&n.push(s[o]);return n.length?i[e]=n:delete i[e],this}},vy.exports=t,vy.exports.TinyEmitter=t,vy.exports}var kte=Rte();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Bs(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const nt={},_h=[],yi=()=>{},xd=()=>!1,hu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),jS=t=>t.startsWith("onUpdate:"),ot=Object.assign,BS=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Dte=Object.prototype.hasOwnProperty,vt=(t,e)=>Dte.call(t,e),Se=Array.isArray,wh=t=>Ef(t)==="[object Map]",fu=t=>Ef(t)==="[object Set]",VM=t=>Ef(t)==="[object Date]",Fte=t=>Ef(t)==="[object RegExp]",ke=t=>typeof t=="function",Ye=t=>typeof t=="string",Ss=t=>typeof t=="symbol",Pt=t=>t!==null&&typeof t=="object",VS=t=>(Pt(t)||ke(t))&&ke(t.then)&&ke(t.catch),GL=Object.prototype.toString,Ef=t=>GL.call(t),Ute=t=>Ef(t).slice(8,-1),w1=t=>Ef(t)==="[object Object]",GS=t=>Ye(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bl=Bs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jte=Bs("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),x1=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Bte=/-(\w)/g,Gt=x1(t=>t.replace(Bte,(e,r)=>r?r.toUpperCase():"")),Vte=/\B([A-Z])/g,ps=x1(t=>t.replace(Vte,"-$1").toLowerCase()),Dl=x1(t=>t.charAt(0).toUpperCase()+t.slice(1)),Lc=x1(t=>t?`on${Dl(t)}`:""),qi=(t,e)=>!Object.is(t,e),xh=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},zL=(t,e,r,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:r})},Cg=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Ng=t=>{const e=Ye(t)?Number(t):NaN;return isNaN(e)?t:e};let GM;const E1=()=>GM||(GM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gte(t,e){return t+JSON.stringify(e,(r,i)=>typeof i=="function"?i.toString():i)}const zte="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",qte=Bs(zte);function Fl(t){if(Se(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],s=Ye(i)?qL(i):Fl(i);if(s)for(const n in s)e[n]=s[n]}return e}else if(Ye(t)||Pt(t))return t}const Hte=/;(?![^(]*\))/g,Wte=/:([^]+)/,Yte=/\/\*[^]*?\*\//g;function qL(t){const e={};return t.replace(Yte,"").split(Hte).forEach(r=>{if(r){const i=r.split(Wte);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function lr(t){let e="";if(Ye(t))e=t;else if(Se(t))for(let r=0;r<t.length;r++){const i=lr(t[r]);i&&(e+=i+" ")}else if(Pt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function HL(t){if(!t)return null;let{class:e,style:r}=t;return e&&!Ye(e)&&(t.class=lr(e)),r&&(t.style=Fl(r)),t}const Jte="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Kte="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Zte="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Xte="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Qte=Bs(Jte),ere=Bs(Kte),tre=Bs(Zte),rre=Bs(Xte),ire="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sre=Bs(ire);function WL(t){return!!t||t===""}function nre(t,e){if(t.length!==e.length)return!1;let r=!0;for(let i=0;r&&i<t.length;i++)r=Ol(t[i],e[i]);return r}function Ol(t,e){if(t===e)return!0;let r=VM(t),i=VM(e);if(r||i)return r&&i?t.getTime()===e.getTime():!1;if(r=Ss(t),i=Ss(e),r||i)return t===e;if(r=Se(t),i=Se(e),r||i)return r&&i?nre(t,e):!1;if(r=Pt(t),i=Pt(e),r||i){if(!r||!i)return!1;const s=Object.keys(t).length,n=Object.keys(e).length;if(s!==n)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ol(t[o],e[o]))return!1}}return String(t)===String(e)}function S1(t,e){return t.findIndex(r=>Ol(r,e))}const YL=t=>!!(t&&t.__v_isRef===!0),Dt=t=>Ye(t)?t:t==null?"":Se(t)||Pt(t)&&(t.toString===GL||!ke(t.toString))?YL(t)?Dt(t.value):JSON.stringify(t,JL,2):String(t),JL=(t,e)=>YL(e)?JL(t,e.value):wh(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,s],n)=>(r[l_(i,n)+" =>"]=s,r),{})}:fu(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>l_(r))}:Ss(e)?l_(e):Pt(e)&&!Se(e)&&!w1(e)?String(e):e,l_=(t,e="")=>{var r;return Ss(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bi;class A1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Bi,!e&&Bi&&(this.index=(Bi.scopes||(Bi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Bi;try{return Bi=this,e()}finally{Bi=r}}}on(){Bi=this}off(){Bi=this.parent}stop(e){if(this._active){this._active=!1;let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(this.effects.length=0,r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Nm(t){return new A1(t)}function T1(){return Bi}function zS(t,e=!1){Bi&&Bi.cleanups.push(t)}let jt;const c_=new WeakSet;class Bh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Bi&&Bi.active&&Bi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,c_.has(this)&&(c_.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ZL(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,zM(this),XL(this);const e=jt,r=Dn;jt=this,Dn=!0;try{return this.fn()}finally{QL(this),jt=e,Dn=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)WS(e);this.deps=this.depsTail=void 0,zM(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?c_.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){cx(this)&&this.run()}get dirty(){return cx(this)}}let KL=0,Hd,Wd;function ZL(t,e=!1){if(t.flags|=8,e){t.next=Wd,Wd=t;return}t.next=Hd,Hd=t}function qS(){KL++}function HS(){if(--KL>0)return;if(Wd){let e=Wd;for(Wd=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Hd;){let e=Hd;for(Hd=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=r}}if(t)throw t}function XL(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function QL(t){let e,r=t.depsTail,i=r;for(;i;){const s=i.prevDep;i.version===-1?(i===r&&(r=s),WS(i),ore(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=r}function cx(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(eR(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function eR(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Up))return;t.globalVersion=Up;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!cx(t)){t.flags&=-3;return}const r=jt,i=Dn;jt=t,Dn=!0;try{XL(t);const s=t.fn(t._value);(e.version===0||qi(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{jt=r,Dn=i,QL(t),t.flags&=-3}}function WS(t,e=!1){const{dep:r,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),r.subs===t&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let n=r.computed.deps;n;n=n.nextDep)WS(n,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function ore(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}function tR(t,e){t.effect instanceof Bh&&(t=t.effect.fn);const r=new Bh(t);e&&ot(r,e);try{r.run()}catch(s){throw r.stop(),s}const i=r.run.bind(r);return i.effect=r,i}function rR(t){t.effect.stop()}let Dn=!0;const iR=[];function Ul(){iR.push(Dn),Dn=!1}function jl(){const t=iR.pop();Dn=t===void 0?!0:t}function zM(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=jt;jt=void 0;try{e()}finally{jt=r}}}let Up=0;class are{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class M1{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!jt||!Dn||jt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==jt)r=this.activeLink=new are(jt,this),jt.deps?(r.prevDep=jt.depsTail,jt.depsTail.nextDep=r,jt.depsTail=r):jt.deps=jt.depsTail=r,sR(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=jt.depsTail,r.nextDep=void 0,jt.depsTail.nextDep=r,jt.depsTail=r,jt.deps===r&&(jt.deps=i)}return r}trigger(e){this.version++,Up++,this.notify(e)}notify(e){qS();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{HS()}}}function sR(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)sR(i)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Pg=new WeakMap,Rc=Symbol(""),ux=Symbol(""),jp=Symbol("");function Ii(t,e,r){if(Dn&&jt){let i=Pg.get(t);i||Pg.set(t,i=new Map);let s=i.get(r);s||(i.set(r,s=new M1),s.map=i,s.key=r),s.track()}}function ua(t,e,r,i,s,n){const o=Pg.get(t);if(!o){Up++;return}const a=l=>{l&&l.trigger()};if(qS(),e==="clear")o.forEach(a);else{const l=Se(t),c=l&&GS(r);if(l&&r==="length"){const f=Number(i);o.forEach((d,p)=>{(p==="length"||p===jp||!Ss(p)&&p>=f)&&a(d)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(jp)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Rc)),wh(t)&&a(o.get(ux)));break;case"delete":l||(a(o.get(Rc)),wh(t)&&a(o.get(ux)));break;case"set":wh(t)&&a(o.get(Rc));break}}HS()}function lre(t,e){const r=Pg.get(t);return r&&r.get(e)}function Ou(t){const e=Ge(t);return e===t?e:(Ii(e,"iterate",jp),vs(t)?e:e.map(Ci))}function $1(t){return Ii(t=Ge(t),"iterate",jp),t}const cre={__proto__:null,[Symbol.iterator](){return u_(this,Symbol.iterator,Ci)},concat(...t){return Ou(this).concat(...t.map(e=>Se(e)?Ou(e):e))},entries(){return u_(this,"entries",t=>(t[1]=Ci(t[1]),t))},every(t,e){return Bo(this,"every",t,e,void 0,arguments)},filter(t,e){return Bo(this,"filter",t,e,r=>r.map(Ci),arguments)},find(t,e){return Bo(this,"find",t,e,Ci,arguments)},findIndex(t,e){return Bo(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Bo(this,"findLast",t,e,Ci,arguments)},findLastIndex(t,e){return Bo(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Bo(this,"forEach",t,e,void 0,arguments)},includes(...t){return h_(this,"includes",t)},indexOf(...t){return h_(this,"indexOf",t)},join(t){return Ou(this).join(t)},lastIndexOf(...t){return h_(this,"lastIndexOf",t)},map(t,e){return Bo(this,"map",t,e,void 0,arguments)},pop(){return Bf(this,"pop")},push(...t){return Bf(this,"push",t)},reduce(t,...e){return qM(this,"reduce",t,e)},reduceRight(t,...e){return qM(this,"reduceRight",t,e)},shift(){return Bf(this,"shift")},some(t,e){return Bo(this,"some",t,e,void 0,arguments)},splice(...t){return Bf(this,"splice",t)},toReversed(){return Ou(this).toReversed()},toSorted(t){return Ou(this).toSorted(t)},toSpliced(...t){return Ou(this).toSpliced(...t)},unshift(...t){return Bf(this,"unshift",t)},values(){return u_(this,"values",Ci)}};function u_(t,e,r){const i=$1(t),s=i[e]();return i!==t&&!vs(t)&&(s._next=s.next,s.next=()=>{const n=s._next();return n.value&&(n.value=r(n.value)),n}),s}const ure=Array.prototype;function Bo(t,e,r,i,s,n){const o=$1(t),a=o!==t&&!vs(t),l=o[e];if(l!==ure[e]){const d=l.apply(t,n);return a?Ci(d):d}let c=r;o!==t&&(a?c=function(d,p){return r.call(this,Ci(d),p,t)}:r.length>2&&(c=function(d,p){return r.call(this,d,p,t)}));const f=l.call(o,c,i);return a&&s?s(f):f}function qM(t,e,r,i){const s=$1(t);let n=r;return s!==t&&(vs(t)?r.length>3&&(n=function(o,a,l){return r.call(this,o,a,l,t)}):n=function(o,a,l){return r.call(this,o,Ci(a),l,t)}),s[e](n,...i)}function h_(t,e,r){const i=Ge(t);Ii(i,"iterate",jp);const s=i[e](...r);return(s===-1||s===!1)&&Pm(r[0])?(r[0]=Ge(r[0]),i[e](...r)):s}function Bf(t,e,r=[]){Ul(),qS();const i=Ge(t)[e].apply(t,r);return HS(),jl(),i}const hre=Bs("__proto__,__v_isRef,__isVue"),nR=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ss));function fre(t){Ss(t)||(t=String(t));const e=Ge(this);return Ii(e,"has",t),e.hasOwnProperty(t)}class oR{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,i){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,n=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return n;if(r==="__v_raw")return i===(s?n?fR:hR:n?uR:cR).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Se(e);if(!s){let l;if(o&&(l=cre[r]))return l;if(r==="hasOwnProperty")return fre}const a=Reflect.get(e,r,dt(e)?e:i);return(Ss(r)?nR.has(r):hre(r))||(s||Ii(e,"get",r),n)?a:dt(a)?o&&GS(r)?a:a.value:Pt(a)?s?I1(a):li(a):a}}class aR extends oR{constructor(e=!1){super(!1,e)}set(e,r,i,s){let n=e[r];if(!this._isShallow){const l=wa(n);if(!vs(i)&&!wa(i)&&(n=Ge(n),i=Ge(i)),!Se(e)&&dt(n)&&!dt(i))return l?!1:(n.value=i,!0)}const o=Se(e)&&GS(r)?Number(r)<e.length:vt(e,r),a=Reflect.set(e,r,i,dt(e)?e:s);return e===Ge(s)&&(o?qi(i,n)&&ua(e,"set",r,i):ua(e,"add",r,i)),a}deleteProperty(e,r){const i=vt(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&i&&ua(e,"delete",r,void 0),s}has(e,r){const i=Reflect.has(e,r);return(!Ss(r)||!nR.has(r))&&Ii(e,"has",r),i}ownKeys(e){return Ii(e,"iterate",Se(e)?"length":Rc),Reflect.ownKeys(e)}}class lR extends oR{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const dre=new aR,pre=new lR,mre=new aR(!0),yre=new lR(!0),hx=t=>t,by=t=>Reflect.getPrototypeOf(t);function gre(t,e,r){return function(...i){const s=this.__v_raw,n=Ge(s),o=wh(n),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...i),f=r?hx:e?fx:Ci;return!e&&Ii(n,"iterate",l?ux:Rc),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function _y(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function vre(t,e){const r={get(s){const n=this.__v_raw,o=Ge(n),a=Ge(s);t||(qi(s,a)&&Ii(o,"get",s),Ii(o,"get",a));const{has:l}=by(o),c=e?hx:t?fx:Ci;if(l.call(o,s))return c(n.get(s));if(l.call(o,a))return c(n.get(a));n!==o&&n.get(s)},get size(){const s=this.__v_raw;return!t&&Ii(Ge(s),"iterate",Rc),Reflect.get(s,"size",s)},has(s){const n=this.__v_raw,o=Ge(n),a=Ge(s);return t||(qi(s,a)&&Ii(o,"has",s),Ii(o,"has",a)),s===a?n.has(s):n.has(s)||n.has(a)},forEach(s,n){const o=this,a=o.__v_raw,l=Ge(a),c=e?hx:t?fx:Ci;return!t&&Ii(l,"iterate",Rc),a.forEach((f,d)=>s.call(n,c(f),c(d),o))}};return ot(r,t?{add:_y("add"),set:_y("set"),delete:_y("delete"),clear:_y("clear")}:{add(s){!e&&!vs(s)&&!wa(s)&&(s=Ge(s));const n=Ge(this);return by(n).has.call(n,s)||(n.add(s),ua(n,"add",s,s)),this},set(s,n){!e&&!vs(n)&&!wa(n)&&(n=Ge(n));const o=Ge(this),{has:a,get:l}=by(o);let c=a.call(o,s);c||(s=Ge(s),c=a.call(o,s));const f=l.call(o,s);return o.set(s,n),c?qi(n,f)&&ua(o,"set",s,n):ua(o,"add",s,n),this},delete(s){const n=Ge(this),{has:o,get:a}=by(n);let l=o.call(n,s);l||(s=Ge(s),l=o.call(n,s)),a&&a.call(n,s);const c=n.delete(s);return l&&ua(n,"delete",s,void 0),c},clear(){const s=Ge(this),n=s.size!==0,o=s.clear();return n&&ua(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=gre(s,t,e)}),r}function O1(t,e){const r=vre(t,e);return(i,s,n)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(vt(r,s)&&s in i?r:i,s,n)}const bre={get:O1(!1,!1)},_re={get:O1(!1,!0)},wre={get:O1(!0,!1)},xre={get:O1(!0,!0)},cR=new WeakMap,uR=new WeakMap,hR=new WeakMap,fR=new WeakMap;function Ere(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sre(t){return t.__v_skip||!Object.isExtensible(t)?0:Ere(Ute(t))}function li(t){return wa(t)?t:C1(t,!1,dre,bre,cR)}function YS(t){return C1(t,!1,mre,_re,uR)}function I1(t){return C1(t,!0,pre,wre,hR)}function dR(t){return C1(t,!0,yre,xre,fR)}function C1(t,e,r,i,s){if(!Pt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const n=s.get(t);if(n)return n;const o=Sre(t);if(o===0)return t;const a=new Proxy(t,o===2?i:r);return s.set(t,a),a}function ks(t){return wa(t)?ks(t.__v_raw):!!(t&&t.__v_isReactive)}function wa(t){return!!(t&&t.__v_isReadonly)}function vs(t){return!!(t&&t.__v_isShallow)}function Pm(t){return t?!!t.__v_raw:!1}function Ge(t){const e=t&&t.__v_raw;return e?Ge(e):t}function _r(t){return!vt(t,"__v_skip")&&Object.isExtensible(t)&&zL(t,"__v_skip",!0),t}const Ci=t=>Pt(t)?li(t):t,fx=t=>Pt(t)?I1(t):t;function dt(t){return t?t.__v_isRef===!0:!1}function X(t){return pR(t,!1)}function Sf(t){return pR(t,!0)}function pR(t,e){return dt(t)?t:new Are(t,e)}class Are{constructor(e,r){this.dep=new M1,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Ge(e),this._value=r?e:Ci(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,i=this.__v_isShallow||vs(e)||wa(e);e=i?e:Ge(e),qi(e,r)&&(this._rawValue=e,this._value=i?e:Ci(e),this.dep.trigger())}}function mR(t){t.dep&&t.dep.trigger()}function $e(t){return dt(t)?t.value:t}function yR(t){return ke(t)?t():$e(t)}const Tre={get:(t,e,r)=>e==="__v_raw"?t:$e(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const s=t[e];return dt(s)&&!dt(r)?(s.value=r,!0):Reflect.set(t,e,r,i)}};function N1(t){return ks(t)?t:new Proxy(t,Tre)}class Mre{constructor(e){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new M1,{get:i,set:s}=e(r.track.bind(r),r.trigger.bind(r));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function JS(t){return new Mre(t)}function KS(t){const e=Se(t)?new Array(t.length):{};for(const r in t)e[r]=vR(t,r);return e}class $re{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return lre(Ge(this._object),this._key)}}class Ore{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function gR(t,e,r){return dt(t)?t:ke(t)?new Ore(t):Pt(t)&&arguments.length>1?vR(t,e,r):X(t)}function vR(t,e,r){const i=t[e];return dt(i)?i:new $re(t,e,r)}class Ire{constructor(e,r,i){this.fn=e,this.setter=r,this._value=void 0,this.dep=new M1(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Up-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&jt!==this)return ZL(this,!0),!0}get value(){const e=this.dep.track();return eR(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Cre(t,e,r=!1){let i,s;return ke(t)?i=t:(i=t.get,s=t.set),new Ire(i,s,r)}const bR={GET:"get",HAS:"has",ITERATE:"iterate"},_R={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},wy={},Lg=new WeakMap;let Xa;function wR(){return Xa}function ZS(t,e=!1,r=Xa){if(r){let i=Lg.get(r);i||Lg.set(r,i=[]),i.push(t)}}function Nre(t,e,r=nt){const{immediate:i,deep:s,once:n,scheduler:o,augmentJob:a,call:l}=r,c=_=>s?_:vs(_)||s===!1||s===0?ha(_,1):ha(_);let f,d,p,y,v=!1,b=!1;if(dt(t)?(d=()=>t.value,v=vs(t)):ks(t)?(d=()=>c(t),v=!0):Se(t)?(b=!0,v=t.some(_=>ks(_)||vs(_)),d=()=>t.map(_=>{if(dt(_))return _.value;if(ks(_))return c(_);if(ke(_))return l?l(_,2):_()})):ke(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){Ul();try{p()}finally{jl()}}const _=Xa;Xa=f;try{return l?l(t,3,[y]):t(y)}finally{Xa=_}}:d=yi,e&&s){const _=d,M=s===!0?1/0:s;d=()=>ha(_(),M)}const S=T1(),E=()=>{f.stop(),S&&S.active&&BS(S.effects,f)};if(n&&e){const _=e;e=(...M)=>{_(...M),E()}}let T=b?new Array(t.length).fill(wy):wy;const w=_=>{if(!(!(f.flags&1)||!f.dirty&&!_))if(e){const M=f.run();if(s||v||(b?M.some(($,C)=>qi($,T[C])):qi(M,T))){p&&p();const $=Xa;Xa=f;try{const C=[M,T===wy?void 0:b&&T[0]===wy?[]:T,y];l?l(e,3,C):e(...C),T=M}finally{Xa=$}}}else f.run()};return a&&a(w),f=new Bh(d),f.scheduler=o?()=>o(w,!1):w,y=_=>ZS(_,!1,f),p=f.onStop=()=>{const _=Lg.get(f);if(_){if(l)l(_,4);else for(const M of _)M();Lg.delete(f)}},e?i?w(!0):T=f.run():o?o(w.bind(null,!0),!0):f.run(),E.pause=f.pause.bind(f),E.resume=f.resume.bind(f),E.stop=E,E}function ha(t,e=1/0,r){if(e<=0||!Pt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,dt(t))ha(t.value,e,r);else if(Se(t))for(let i=0;i<t.length;i++)ha(t[i],e,r);else if(fu(t)||wh(t))t.forEach(i=>{ha(i,e,r)});else if(w1(t)){for(const i in t)ha(t[i],e,r);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&ha(t[i],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const xR=[];function Pre(t){xR.push(t)}function Lre(){xR.pop()}function ER(t,e){}const SR={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},Rre={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function du(t,e,r,i){try{return i?t(...i):t()}catch(s){Bl(s,e,r)}}function Fs(t,e,r,i){if(ke(t)){const s=du(t,e,r,i);return s&&VS(s)&&s.catch(n=>{Bl(n,e,r)}),s}if(Se(t)){const s=[];for(let n=0;n<t.length;n++)s.push(Fs(t[n],e,r,i));return s}}function Bl(t,e,r,i=!0){const s=e?e.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||nt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const f=a.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](t,l,c)===!1)return}a=a.parent}if(n){Ul(),du(n,null,10,[t,l,c]),jl();return}}kre(t,r,s,i,o)}function kre(t,e,r,i=!0,s=!1){if(s)throw t;console.error(t)}const Hi=[];let oo=-1;const Eh=[];let Qa=null,ju=0;const AR=Promise.resolve();let Rg=null;function Yn(t){const e=Rg||AR;return t?e.then(this?t.bind(this):t):e}function Dre(t){let e=oo+1,r=Hi.length;for(;e<r;){const i=e+r>>>1,s=Hi[i],n=Bp(s);n<t||n===t&&s.flags&2?e=i+1:r=i}return e}function XS(t){if(!(t.flags&1)){const e=Bp(t),r=Hi[Hi.length-1];!r||!(t.flags&2)&&e>=Bp(r)?Hi.push(t):Hi.splice(Dre(e),0,t),t.flags|=1,TR()}}function TR(){Rg||(Rg=AR.then(MR))}function Vh(t){Se(t)?Eh.push(...t):Qa&&t.id===-1?Qa.splice(ju+1,0,t):t.flags&1||(Eh.push(t),t.flags|=1),TR()}function HM(t,e,r=oo+1){for(;r<Hi.length;r++){const i=Hi[r];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Hi.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function kg(t){if(Eh.length){const e=[...new Set(Eh)].sort((r,i)=>Bp(r)-Bp(i));if(Eh.length=0,Qa){Qa.push(...e);return}for(Qa=e,ju=0;ju<Qa.length;ju++){const r=Qa[ju];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Qa=null,ju=0}}const Bp=t=>t.id==null?t.flags&2?-1:1/0:t.id;function MR(t){try{for(oo=0;oo<Hi.length;oo++){const e=Hi[oo];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),du(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;oo<Hi.length;oo++){const e=Hi[oo];e&&(e.flags&=-2)}oo=-1,Hi.length=0,kg(),Rg=null,(Hi.length||Eh.length)&&MR()}}let Bu,xy=[];function $R(t,e){var r,i;Bu=t,Bu?(Bu.enabled=!0,xy.forEach(({event:s,args:n})=>Bu.emit(s,...n)),xy=[]):typeof window<"u"&&window.HTMLElement&&!((i=(r=window.navigator)==null?void 0:r.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(n=>{$R(n,e)}),setTimeout(()=>{Bu||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,xy=[])},3e3)):xy=[]}let Zr=null,P1=null;function Vp(t){const e=Zr;return Zr=t,P1=t&&t.type.__scopeId||null,e}function OR(t){P1=t}function IR(){P1=null}const CR=t=>Pr;function Pr(t,e=Zr,r){if(!e||t._n)return t;const i=(...s)=>{i._d&&Bg(-1);const n=Vp(e);let o;try{o=t(...s)}finally{Vp(n),i._d&&Bg(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function $t(t,e){if(Zr===null)return t;const r=Dm(Zr),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[n,o,a,l=nt]=e[s];n&&(ke(n)&&(n={mounted:n,updated:n}),n.deep&&ha(o),i.push({dir:n,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function co(t,e,r,i){const s=t.dirs,n=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];n&&(a.oldValue=n[o].value);let l=a.dir[i];l&&(Ul(),Fs(l,r,8,[t.el,a,t,e]),jl())}}const NR=Symbol("_vte"),PR=t=>t.__isTeleport,Yd=t=>t&&(t.disabled||t.disabled===""),WM=t=>t&&(t.defer||t.defer===""),YM=t=>typeof SVGElement<"u"&&t instanceof SVGElement,JM=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,dx=(t,e)=>{const r=t&&t.to;return Ye(r)?e?e(r):null:r},LR={name:"Teleport",__isTeleport:!0,process(t,e,r,i,s,n,o,a,l,c){const{mc:f,pc:d,pbc:p,o:{insert:y,querySelector:v,createText:b,createComment:S}}=c,E=Yd(e.props);let{shapeFlag:T,children:w,dynamicChildren:_}=e;if(t==null){const M=e.el=b(""),$=e.anchor=b("");y(M,r,i),y($,r,i);const C=(N,F)=>{T&16&&(s&&s.isCE&&(s.ce._teleportTarget=N),f(w,N,F,s,n,o,a,l))},P=()=>{const N=e.target=dx(e.props,v),F=RR(N,e,b,y);N&&(o!=="svg"&&YM(N)?o="svg":o!=="mathml"&&JM(N)&&(o="mathml"),E||(C(N,F),O0(e,!1)))};E&&(C(r,$),O0(e,!0)),WM(e.props)?zr(()=>{P(),e.el.__isMounted=!0},n):P()}else{if(WM(e.props)&&!t.el.__isMounted){zr(()=>{LR.process(t,e,r,i,s,n,o,a,l,c),delete t.el.__isMounted},n);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,$=e.target=t.target,C=e.targetAnchor=t.targetAnchor,P=Yd(t.props),N=P?r:$,F=P?M:C;if(o==="svg"||YM($)?o="svg":(o==="mathml"||JM($))&&(o="mathml"),_?(p(t.dynamicChildren,_,N,s,n,o,a),b3(t,e,!0)):l||d(t,e,N,F,s,n,o,a,!1),E)P?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ey(e,r,M,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const q=e.target=dx(e.props,v);q&&Ey(e,q,null,c,0)}else P&&Ey(e,$,C,c,1);O0(e,E)}},remove(t,e,r,{um:i,o:{remove:s}},n){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:f,target:d,props:p}=t;if(d&&(s(c),s(f)),n&&s(l),o&16){const y=n||!Yd(p);for(let v=0;v<a.length;v++){const b=a[v];i(b,e,r,y,!!b.dynamicChildren)}}},move:Ey,hydrate:Fre};function Ey(t,e,r,{o:{insert:i},m:s},n=2){n===0&&i(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:l,children:c,props:f}=t,d=n===2;if(d&&i(o,e,r),(!d||Yd(f))&&l&16)for(let p=0;p<c.length;p++)s(c[p],e,r,2);d&&i(a,e,r)}function Fre(t,e,r,i,s,n,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:f}},d){const p=e.target=dx(e.props,l);if(p){const y=Yd(e.props),v=p._lpa||p.firstChild;if(e.shapeFlag&16)if(y)e.anchor=d(o(t),e,a(t),r,i,s,n),e.targetStart=v,e.targetAnchor=v&&o(v);else{e.anchor=o(t);let b=v;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||RR(p,e,f,c),d(v&&o(v),e,p,r,i,s,n)}O0(e,y)}return e.anchor&&o(e.anchor)}const QS=LR;function O0(t,e){const r=t.ctx;if(r&&r.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",r.uid),i=i.nextSibling;r.ut()}}function RR(t,e,r,i){const s=e.targetStart=r(""),n=e.targetAnchor=r("");return s[NR]=n,t&&(i(s,t),i(n,t)),n}const el=Symbol("_leaveCb"),Sy=Symbol("_enterCb");function L1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vi(()=>{t.isMounted=!0}),Jn(()=>{t.isUnmounting=!0}),t}const qs=[Function,Array],R1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qs,onEnter:qs,onAfterEnter:qs,onEnterCancelled:qs,onBeforeLeave:qs,onLeave:qs,onAfterLeave:qs,onLeaveCancelled:qs,onBeforeAppear:qs,onAppear:qs,onAfterAppear:qs,onAppearCancelled:qs},kR=t=>{const e=t.subTree;return e.component?kR(e.component):e},Ure={name:"BaseTransition",props:R1,setup(t,{slots:e}){const r=jr(),i=L1();return()=>{const s=e.default&&Lm(e.default(),!0);if(!s||!s.length)return;const n=DR(s),o=Ge(t),{mode:a}=o;if(i.isLeaving)return f_(n);const l=KM(n);if(!l)return f_(n);let c=tu(l,o,i,r,d=>c=d);l.type!==$r&&Co(l,c);let f=r.subTree&&KM(r.subTree);if(f&&f.type!==$r&&!An(l,f)&&kR(r).type!==$r){let d=tu(f,o,i,r);if(Co(f,d),a==="out-in"&&l.type!==$r)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,f=void 0},f_(n);a==="in-out"&&l.type!==$r?d.delayLeave=(p,y,v)=>{const b=FR(i,f);b[String(f.key)]=f,p[el]=()=>{y(),p[el]=void 0,delete c.delayedLeave,f=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return n}}};function DR(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==$r){e=r;break}}return e}const e3=Ure;function FR(t,e){const{leavingVNodes:r}=t;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function tu(t,e,r,i,s){const{appear:n,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:p,onLeave:y,onAfterLeave:v,onLeaveCancelled:b,onBeforeAppear:S,onAppear:E,onAfterAppear:T,onAppearCancelled:w}=e,_=String(t.key),M=FR(r,t),$=(N,F)=>{N&&Fs(N,i,9,F)},C=(N,F)=>{const q=F[1];$(N,F),Se(N)?N.every(U=>U.length<=1)&&q():N.length<=1&&q()},P={mode:o,persisted:a,beforeEnter(N){let F=l;if(!r.isMounted)if(n)F=S||l;else return;N[el]&&N[el](!0);const q=M[_];q&&An(t,q)&&q.el[el]&&q.el[el](),$(F,[N])},enter(N){let F=c,q=f,U=d;if(!r.isMounted)if(n)F=E||c,q=T||f,U=w||d;else return;let B=!1;const K=N[Sy]=h=>{B||(B=!0,h?$(U,[N]):$(q,[N]),P.delayedLeave&&P.delayedLeave(),N[Sy]=void 0)};F?C(F,[N,K]):K()},leave(N,F){const q=String(t.key);if(N[Sy]&&N[Sy](!0),r.isUnmounting)return F();$(p,[N]);let U=!1;const B=N[el]=K=>{U||(U=!0,F(),K?$(b,[N]):$(v,[N]),N[el]=void 0,M[q]===t&&delete M[q])};M[q]=t,y?C(y,[N,B]):B()},clone(N){const F=tu(N,e,r,i,s);return s&&s(F),F}};return P}function f_(t){if(Rm(t))return t=qn(t),t.children=null,t}function KM(t){if(!Rm(t))return PR(t.type)&&t.children?DR(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&ke(r.default))return r.default()}}function Co(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Co(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Lm(t,e=!1,r){let i=[],s=0;for(let n=0;n<t.length;n++){let o=t[n];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:n);o.type===Lt?(o.patchFlag&128&&s++,i=i.concat(Lm(o.children,e,a))):(e||o.type!==$r)&&i.push(a!=null?qn(o,{key:a}):o)}if(s>1)for(let n=0;n<i.length;n++)i[n].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function st(t,e){return ke(t)?ot({name:t.name},e,{setup:t}):t}function UR(){const t=jr();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function t3(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Dg(t){const e=jr(),r=Sf(null);if(e){const s=e.refs===nt?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>r.value,set:n=>r.value=n})}return r}function Gp(t,e,r,i,s=!1){if(Se(t)){t.forEach((v,b)=>Gp(v,e&&(Se(e)?e[b]:e),r,i,s));return}if(_l(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Gp(t,e,r,i.component.subTree);return}const n=i.shapeFlag&4?Dm(i.component):i.el,o=s?null:n,{i:a,r:l}=t,c=e&&e.r,f=a.refs===nt?a.refs={}:a.refs,d=a.setupState,p=Ge(d),y=d===nt?()=>!1:v=>vt(p,v);if(c!=null&&c!==l&&(Ye(c)?(f[c]=null,y(c)&&(d[c]=null)):dt(c)&&(c.value=null)),ke(l))du(l,a,12,[o,f]);else{const v=Ye(l),b=dt(l);if(v||b){const S=()=>{if(t.f){const E=v?y(l)?d[l]:f[l]:l.value;s?Se(E)&&BS(E,n):Se(E)?E.includes(n)||E.push(n):v?(f[l]=[n],y(l)&&(d[l]=f[l])):(l.value=[n],t.k&&(f[t.k]=l.value))}else v?(f[l]=o,y(l)&&(d[l]=o)):b&&(l.value=o,t.k&&(f[t.k]=o))};o?(S.id=-1,zr(S,r)):S()}}}let ZM=!1;const Iu=()=>{ZM||(console.error("Hydration completed but contains mismatches."),ZM=!0)},jre=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",Bre=t=>t.namespaceURI.includes("MathML"),Ay=t=>{if(t.nodeType===1){if(jre(t))return"svg";if(Bre(t))return"mathml"}},ah=t=>t.nodeType===8;function Vre(t){const{mt:e,p:r,o:{patchProp:i,createText:s,nextSibling:n,parentNode:o,remove:a,insert:l,createComment:c}}=t,f=(w,_)=>{if(!_.hasChildNodes()){r(null,w,_),kg(),_._vnode=w;return}d(_.firstChild,w,null,null,null),kg(),_._vnode=w},d=(w,_,M,$,C,P=!1)=>{P=P||!!_.dynamicChildren;const N=ah(w)&&w.data==="[",F=()=>b(w,_,M,$,C,N),{type:q,ref:U,shapeFlag:B,patchFlag:K}=_;let h=w.nodeType;_.el=w,K===-2&&(P=!1,_.dynamicChildren=null);let m=null;switch(q){case wo:h!==3?_.children===""?(l(_.el=s(""),o(w),w),m=w):m=F():(w.data!==_.children&&(Iu(),w.data=_.children),m=n(w));break;case $r:T(w)?(m=n(w),E(_.el=w.content.firstChild,w,M)):h!==8||N?m=F():m=n(w);break;case wl:if(N&&(w=n(w),h=w.nodeType),h===1||h===3){m=w;const x=!_.children.length;for(let I=0;I<_.staticCount;I++)x&&(_.children+=m.nodeType===1?m.outerHTML:m.data),I===_.staticCount-1&&(_.anchor=m),m=n(m);return N?n(m):m}else F();break;case Lt:N?m=v(w,_,M,$,C,P):m=F();break;default:if(B&1)(h!==1||_.type.toLowerCase()!==w.tagName.toLowerCase())&&!T(w)?m=F():m=p(w,_,M,$,C,P);else if(B&6){_.slotScopeIds=C;const x=o(w);if(N?m=S(w):ah(w)&&w.data==="teleport start"?m=S(w,w.data,"teleport end"):m=n(w),e(_,x,null,M,$,Ay(x),P),_l(_)&&!_.type.__asyncResolved){let I;N?(I=Ke(Lt),I.anchor=m?m.previousSibling:x.lastChild):I=w.nodeType===3?xo(""):Ke("div"),I.el=w,_.component.subTree=I}}else B&64?h!==8?m=F():m=_.type.hydrate(w,_,M,$,C,P,t,y):B&128&&(m=_.type.hydrate(w,_,M,$,Ay(o(w)),C,P,t,d))}return U!=null&&Gp(U,null,$,_),m},p=(w,_,M,$,C,P)=>{P=P||!!_.dynamicChildren;const{type:N,props:F,patchFlag:q,shapeFlag:U,dirs:B,transition:K}=_,h=N==="input"||N==="option";if(h||q!==-1){B&&co(_,null,M,"created");let m=!1;if(T(w)){m=wk(null,K)&&M&&M.vnode.props&&M.vnode.props.appear;const I=w.content.firstChild;m&&K.beforeEnter(I),E(I,w,M),_.el=w=I}if(U&16&&!(F&&(F.innerHTML||F.textContent))){let I=y(w.firstChild,_,w,M,$,C,P);for(;I;){Ty(w,1)||Iu();const V=I;I=I.nextSibling,a(V)}}else if(U&8){let I=_.children;I[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&(I=I.slice(1)),w.textContent!==I&&(Ty(w,0)||Iu(),w.textContent=_.children)}if(F){if(h||!P||q&48){const I=w.tagName.includes("-");for(const V in F)(h&&(V.endsWith("value")||V==="indeterminate")||hu(V)&&!bl(V)||V[0]==="."||I)&&i(w,V,null,F[V],void 0,M)}else if(F.onClick)i(w,"onClick",null,F.onClick,void 0,M);else if(q&4&&ks(F.style))for(const I in F.style)F.style[I]}let x;(x=F&&F.onVnodeBeforeMount)&&as(x,M,_),B&&co(_,null,M,"beforeMount"),((x=F&&F.onVnodeMounted)||B||m)&&Ck(()=>{x&&as(x,M,_),m&&K.enter(w),B&&co(_,null,M,"mounted")},$)}return w.nextSibling},y=(w,_,M,$,C,P,N)=>{N=N||!!_.dynamicChildren;const F=_.children,q=F.length;for(let U=0;U<q;U++){const B=N?F[U]:F[U]=hs(F[U]),K=B.type===wo;w?(K&&!N&&U+1<q&&hs(F[U+1]).type===wo&&(l(s(w.data.slice(B.children.length)),M,n(w)),w.data=B.children),w=d(w,B,$,C,P,N)):K&&!B.children?l(B.el=s(""),M):(Ty(M,1)||Iu(),r(null,B,M,null,$,C,Ay(M),P))}return w},v=(w,_,M,$,C,P)=>{const{slotScopeIds:N}=_;N&&(C=C?C.concat(N):N);const F=o(w),q=y(n(w),_,F,M,$,C,P);return q&&ah(q)&&q.data==="]"?n(_.anchor=q):(Iu(),l(_.anchor=c("]"),F,q),q)},b=(w,_,M,$,C,P)=>{if(Ty(w.parentElement,1)||Iu(),_.el=null,P){const q=S(w);for(;;){const U=n(w);if(U&&U!==q)a(U);else break}}const N=n(w),F=o(w);return a(w),r(null,_,F,N,M,$,Ay(F),C),M&&(M.vnode.el=_.el,j1(M,_.el)),N},S=(w,_="[",M="]")=>{let $=0;for(;w;)if(w=n(w),w&&ah(w)&&(w.data===_&&$++,w.data===M)){if($===0)return n(w);$--}return w},E=(w,_,M)=>{const $=_.parentNode;$&&$.replaceChild(w,_);let C=M;for(;C;)C.vnode.el===_&&(C.vnode.el=C.subTree.el=w),C=C.parent},T=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[f,d]}const XM="data-allow-mismatch",Gre={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ty(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(XM);)t=t.parentElement;const r=t&&t.getAttribute(XM);if(r==null)return!1;if(r==="")return!0;{const i=r.split(",");return e===0&&i.includes("children")?!0:r.split(",").includes(Gre[e])}}const zre=E1().requestIdleCallback||(t=>setTimeout(t,1)),qre=E1().cancelIdleCallback||(t=>clearTimeout(t)),jR=(t=1e4)=>e=>{const r=zre(e,{timeout:t});return()=>qre(r)};function Hre(t){const{top:e,left:r,bottom:i,right:s}=t.getBoundingClientRect(),{innerHeight:n,innerWidth:o}=window;return(e>0&&e<n||i>0&&i<n)&&(r>0&&r<o||s>0&&s<o)}const BR=t=>(e,r)=>{const i=new IntersectionObserver(s=>{for(const n of s)if(n.isIntersecting){i.disconnect(),e();break}},t);return r(s=>{if(s instanceof Element){if(Hre(s))return e(),i.disconnect(),!1;i.observe(s)}}),()=>i.disconnect()},VR=t=>e=>{if(t){const r=matchMedia(t);if(r.matches)e();else return r.addEventListener("change",e,{once:!0}),()=>r.removeEventListener("change",e)}},GR=(t=[])=>(e,r)=>{Ye(t)&&(t=[t]);let i=!1;const s=o=>{i||(i=!0,n(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},n=()=>{r(o=>{for(const a of t)o.removeEventListener(a,s)})};return r(o=>{for(const a of t)o.addEventListener(a,s,{once:!0})}),n};function Wre(t,e){if(ah(t)&&t.data==="["){let r=1,i=t.nextSibling;for(;i;){if(i.nodeType===1){if(e(i)===!1)break}else if(ah(i))if(i.data==="]"){if(--r===0)break}else i.data==="["&&r++;i=i.nextSibling}}else e(t)}const _l=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function r3(t){ke(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:i,delay:s=200,hydrate:n,timeout:o,suspensible:a=!0,onError:l}=t;let c=null,f,d=0;const p=()=>(d++,c=null,y()),y=()=>{let v;return c||(v=c=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((S,E)=>{l(b,()=>S(p()),()=>E(b),d+1)});throw b}).then(b=>v!==c&&c?c:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),f=b,b)))};return st({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(v,b,S){const E=n?()=>{const T=n(S,w=>Wre(v,w));T&&(b.bum||(b.bum=[])).push(T)}:S;f?E():y().then(()=>!b.isUnmounted&&E())},get __asyncResolved(){return f},setup(){const v=Jr;if(t3(v),f)return()=>d_(f,v);const b=w=>{c=null,Bl(w,v,13,!i)};if(a&&v.suspense||Gh)return y().then(w=>()=>d_(w,v)).catch(w=>(b(w),()=>i?Ke(i,{error:w}):null));const S=X(!1),E=X(),T=X(!!s);return s&&setTimeout(()=>{T.value=!1},s),o!=null&&setTimeout(()=>{if(!S.value&&!E.value){const w=new Error(`Async component timed out after ${o}ms.`);b(w),E.value=w}},o),y().then(()=>{S.value=!0,v.parent&&Rm(v.parent.vnode)&&v.parent.update()}).catch(w=>{b(w),E.value=w}),()=>{if(S.value&&f)return d_(f,v);if(E.value&&i)return Ke(i,{error:E.value});if(r&&!T.value)return Ke(r)}}})}function d_(t,e){const{ref:r,props:i,children:s,ce:n}=e.vnode,o=Ke(t,i,s);return o.ref=r,o.ce=n,delete e.vnode.ce,o}const Rm=t=>t.type.__isKeepAlive,Yre={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=jr(),i=r.ctx;if(!i.renderer)return()=>{const T=e.default&&e.default();return T&&T.length===1?T[0]:T};const s=new Map,n=new Set;let o=null;const a=r.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:d}}}=i,p=d("div");i.activate=(T,w,_,M,$)=>{const C=T.component;c(T,w,_,0,a),l(C.vnode,T,w,_,C,a,M,T.slotScopeIds,$),zr(()=>{C.isDeactivated=!1,C.a&&xh(C.a);const P=T.props&&T.props.onVnodeMounted;P&&as(P,C.parent,T)},a)},i.deactivate=T=>{const w=T.component;Ug(w.m),Ug(w.a),c(T,p,null,1,a),zr(()=>{w.da&&xh(w.da);const _=T.props&&T.props.onVnodeUnmounted;_&&as(_,w.parent,T),w.isDeactivated=!0},a)};function y(T){p_(T),f(T,r,a,!0)}function v(T){s.forEach((w,_)=>{const M=Sx(w.type);M&&!T(M)&&b(_)})}function b(T){const w=s.get(T);w&&(!o||!An(w,o))?y(w):o&&p_(o),s.delete(T),n.delete(T)}Xr(()=>[t.include,t.exclude],([T,w])=>{T&&v(_=>Ed(T,_)),w&&v(_=>!Ed(w,_))},{flush:"post",deep:!0});let S=null;const E=()=>{S!=null&&(jg(r.subTree.type)?zr(()=>{s.set(S,My(r.subTree))},r.subTree.suspense):s.set(S,My(r.subTree)))};return vi(E),Af(E),Jn(()=>{s.forEach(T=>{const{subTree:w,suspense:_}=r,M=My(w);if(T.type===M.type&&T.key===M.key){p_(M);const $=M.component.da;$&&zr($,_);return}y(T)})}),()=>{if(S=null,!e.default)return o=null;const T=e.default(),w=T[0];if(T.length>1)return o=null,T;if(!zn(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let _=My(w);if(_.type===$r)return o=null,_;const M=_.type,$=Sx(_l(_)?_.type.__asyncResolved||{}:M),{include:C,exclude:P,max:N}=t;if(C&&(!$||!Ed(C,$))||P&&$&&Ed(P,$))return _.shapeFlag&=-257,o=_,w;const F=_.key==null?M:_.key,q=s.get(F);return _.el&&(_=qn(_),w.shapeFlag&128&&(w.ssContent=_)),S=F,q?(_.el=q.el,_.component=q.component,_.transition&&Co(_,_.transition),_.shapeFlag|=512,n.delete(F),n.add(F)):(n.add(F),N&&n.size>parseInt(N,10)&&b(n.values().next().value)),_.shapeFlag|=256,o=_,jg(w.type)?w:_}}},zR=Yre;function Ed(t,e){return Se(t)?t.some(r=>Ed(r,e)):Ye(t)?t.split(",").includes(e):Fte(t)?(t.lastIndex=0,t.test(e)):!1}function i3(t,e){qR(t,"a",e)}function s3(t,e){qR(t,"da",e)}function qR(t,e,r=Jr){const i=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(k1(e,i,r),r){let s=r.parent;for(;s&&s.parent;)Rm(s.parent.vnode)&&Jre(i,e,r,s),s=s.parent}}function Jre(t,e,r,i){const s=k1(e,t,i,!0);pu(()=>{BS(i[e],s)},r)}function p_(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function My(t){return t.shapeFlag&128?t.ssContent:t}function k1(t,e,r=Jr,i=!1){if(r){const s=r[t]||(r[t]=[]),n=e.__weh||(e.__weh=(...o)=>{Ul();const a=iu(r),l=Fs(e,r,t,o);return a(),jl(),l});return i?s.unshift(n):s.push(n),n}}const Aa=t=>(e,r=Jr)=>{(!Gh||t==="sp")&&k1(t,(...i)=>e(...i),r)},D1=Aa("bm"),vi=Aa("m"),F1=Aa("bu"),Af=Aa("u"),Jn=Aa("bum"),pu=Aa("um"),n3=Aa("sp"),o3=Aa("rtg"),a3=Aa("rtc");function l3(t,e=Jr){k1("ec",t,e)}const c3="components",Kre="directives";function Tr(t,e){return h3(c3,t,!0,e)||t}const HR=Symbol.for("v-ndc");function u3(t){return Ye(t)?h3(c3,t,!1)||t:t||HR}function Ot(t){return h3(Kre,t)}function h3(t,e,r=!0,i=!1){const s=Zr||Jr;if(s){const n=s.type;if(t===c3){const a=Sx(n,!1);if(a&&(a===e||a===Gt(e)||a===Dl(Gt(e))))return n}const o=QM(s[t]||n[t],e)||QM(s.appContext[t],e);return!o&&i?n:o}}function QM(t,e){return t&&(t[e]||t[Gt(e)]||t[Dl(Gt(e))])}function Vl(t,e,r,i){let s;const n=r&&r[i],o=Se(t);if(o||Ye(t)){const a=o&&ks(t);let l=!1;a&&(l=!vs(t),t=$1(t)),s=new Array(t.length);for(let c=0,f=t.length;c<f;c++)s[c]=e(l?Ci(t[c]):t[c],c,void 0,n&&n[c])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,n&&n[a])}else if(Pt(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,n&&n[l]));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];s[l]=e(t[f],f,l,n&&n[l])}}else s=[];return r&&(r[i]=s),s}function WR(t,e){for(let r=0;r<e.length;r++){const i=e[r];if(Se(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.key?(...s)=>{const n=i.fn(...s);return n&&(n.key=i.key),n}:i.fn)}return t}function In(t,e,r={},i,s){if(Zr.ce||Zr.parent&&_l(Zr.parent)&&Zr.parent.ce)return e!=="default"&&(r.name=e),fe(),Vt(Lt,null,[Ke("slot",r,i&&i())],64);let n=t[e];n&&n._c&&(n._d=!1),fe();const o=n&&f3(n(r)),a=r.key||o&&o.key,l=Vt(Lt,{key:(a&&!Ss(a)?a:`_${e}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&t._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),n&&n._c&&(n._d=!0),l}function f3(t){return t.some(e=>zn(e)?!(e.type===$r||e.type===Lt&&!f3(e.children)):!0)?t:null}function YR(t,e){const r={};for(const i in t)r[e&&/[A-Z]/.test(i)?`on:${i}`:Lc(i)]=t[i];return r}const px=t=>t?Fk(t)?Dm(t):px(t.parent):null,Jd=ot(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>px(t.parent),$root:t=>px(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>d3(t),$forceUpdate:t=>t.f||(t.f=()=>{XS(t.update)}),$nextTick:t=>t.n||(t.n=Yn.bind(t.proxy)),$watch:t=>fie.bind(t)}),m_=(t,e)=>t!==nt&&!t.__isScriptSetup&&vt(t,e),mx={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:i,data:s,props:n,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return i[e];case 2:return s[e];case 4:return r[e];case 3:return n[e]}else{if(m_(i,e))return o[e]=1,i[e];if(s!==nt&&vt(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&vt(c,e))return o[e]=3,n[e];if(r!==nt&&vt(r,e))return o[e]=4,r[e];yx&&(o[e]=0)}}const f=Jd[e];let d,p;if(f)return e==="$attrs"&&Ii(t.attrs,"get",""),f(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(r!==nt&&vt(r,e))return o[e]=4,r[e];if(p=l.config.globalProperties,vt(p,e))return p[e]},set({_:t},e,r){const{data:i,setupState:s,ctx:n}=t;return m_(s,e)?(s[e]=r,!0):i!==nt&&vt(i,e)?(i[e]=r,!0):vt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(n[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:s,propsOptions:n}},o){let a;return!!r[o]||t!==nt&&vt(t,o)||m_(e,o)||(a=n[0])&&vt(a,o)||vt(i,o)||vt(Jd,o)||vt(s.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:vt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},Zre=ot({},mx,{get(t,e){if(e!==Symbol.unscopables)return mx.get(t,e,t)},has(t,e){return e[0]!=="_"&&!qte(e)}});function JR(){return null}function KR(){return null}function ZR(t){}function XR(t){}function QR(){return null}function ek(){}function tk(t,e){return null}function rk(){return sk().slots}function ik(){return sk().attrs}function sk(){const t=jr();return t.setupContext||(t.setupContext=Vk(t))}function zp(t){return Se(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function nk(t,e){const r=zp(t);for(const i in e){if(i.startsWith("__skip"))continue;let s=r[i];s?Se(s)||ke(s)?s=r[i]={type:s,default:e[i]}:s.default=e[i]:s===null&&(s=r[i]={default:e[i]}),s&&e[`__skip_${i}`]&&(s.skipFactory=!0)}return r}function ok(t,e){return!t||!e?t||e:Se(t)&&Se(e)?t.concat(e):ot({},zp(t),zp(e))}function ak(t,e){const r={};for(const i in t)e.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>t[i]});return r}function lk(t){const e=jr();let r=t();return wx(),VS(r)&&(r=r.catch(i=>{throw iu(e),i})),[r,()=>iu(e)]}let yx=!0;function Xre(t){const e=d3(t),r=t.proxy,i=t.ctx;yx=!1,e.beforeCreate&&e$(e.beforeCreate,t,"bc");const{data:s,computed:n,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:d,mounted:p,beforeUpdate:y,updated:v,activated:b,deactivated:S,beforeDestroy:E,beforeUnmount:T,destroyed:w,unmounted:_,render:M,renderTracked:$,renderTriggered:C,errorCaptured:P,serverPrefetch:N,expose:F,inheritAttrs:q,components:U,directives:B,filters:K}=e;if(c&&Qre(c,i,null),o)for(const x in o){const I=o[x];ke(I)&&(i[x]=I.bind(r))}if(s){const x=s.call(r,r);Pt(x)&&(t.data=li(x))}if(yx=!0,n)for(const x in n){const I=n[x],V=ke(I)?I.bind(r,r):ke(I.get)?I.get.bind(r,r):yi,Y=!ke(I)&&ke(I.set)?I.set.bind(r):yi,me=et({get:V,set:Y});Object.defineProperty(i,x,{enumerable:!0,configurable:!0,get:()=>me.value,set:ue=>me.value=ue})}if(a)for(const x in a)ck(a[x],i,r,x);if(l){const x=ke(l)?l.call(r):l;Reflect.ownKeys(x).forEach(I=>{p3(I,x[I])})}f&&e$(f,t,"c");function m(x,I){Se(I)?I.forEach(V=>x(V.bind(r))):I&&x(I.bind(r))}if(m(D1,d),m(vi,p),m(F1,y),m(Af,v),m(i3,b),m(s3,S),m(l3,P),m(a3,$),m(o3,C),m(Jn,T),m(pu,_),m(n3,N),Se(F))if(F.length){const x=t.exposed||(t.exposed={});F.forEach(I=>{Object.defineProperty(x,I,{get:()=>r[I],set:V=>r[I]=V})})}else t.exposed||(t.exposed={});M&&t.render===yi&&(t.render=M),q!=null&&(t.inheritAttrs=q),U&&(t.components=U),B&&(t.directives=B),N&&t3(t)}function Qre(t,e,r=yi){Se(t)&&(t=gx(t));for(const i in t){const s=t[i];let n;Pt(s)?"default"in s?n=Ur(s.from||i,s.default,!0):n=Ur(s.from||i):n=Ur(s),dt(n)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>n.value,set:o=>n.value=o}):e[i]=n}}function e$(t,e,r){Fs(Se(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function ck(t,e,r,i){let s=i.includes(".")?Ak(r,i):()=>r[i];if(Ye(t)){const n=e[t];ke(n)&&Xr(s,n)}else if(ke(t))Xr(s,t.bind(r));else if(Pt(t))if(Se(t))t.forEach(n=>ck(n,e,r,i));else{const n=ke(t.handler)?t.handler.bind(r):e[t.handler];ke(n)&&Xr(s,n,t)}}function d3(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:s,optionsCache:n,config:{optionMergeStrategies:o}}=t.appContext,a=n.get(e);let l;return a?l=a:!s.length&&!r&&!i?l=e:(l={},s.length&&s.forEach(c=>Fg(l,c,o,!0)),Fg(l,e,o)),Pt(e)&&n.set(e,l),l}function Fg(t,e,r,i=!1){const{mixins:s,extends:n}=e;n&&Fg(t,n,r,!0),s&&s.forEach(o=>Fg(t,o,r,!0));for(const o in e)if(!(i&&o==="expose")){const a=eie[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const eie={data:t$,props:r$,emits:r$,methods:Sd,computed:Sd,beforeCreate:ki,created:ki,beforeMount:ki,mounted:ki,beforeUpdate:ki,updated:ki,beforeDestroy:ki,beforeUnmount:ki,destroyed:ki,unmounted:ki,activated:ki,deactivated:ki,errorCaptured:ki,serverPrefetch:ki,components:Sd,directives:Sd,watch:rie,provide:t$,inject:tie};function t$(t,e){return e?t?function(){return ot(ke(t)?t.call(this,this):t,ke(e)?e.call(this,this):e)}:e:t}function tie(t,e){return Sd(gx(t),gx(e))}function gx(t){if(Se(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function ki(t,e){return t?[...new Set([].concat(t,e))]:e}function Sd(t,e){return t?ot(Object.create(null),t,e):e}function r$(t,e){return t?Se(t)&&Se(e)?[...new Set([...t,...e])]:ot(Object.create(null),zp(t),zp(e??{})):e}function rie(t,e){if(!t)return e;if(!e)return t;const r=ot(Object.create(null),t);for(const i in e)r[i]=ki(t[i],e[i]);return r}function uk(){return{app:null,config:{isNativeTag:xd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iie=0;function sie(t,e){return function(i,s=null){ke(i)||(i=ot({},i)),s!=null&&!Pt(s)&&(s=null);const n=uk(),o=new WeakSet,a=[];let l=!1;const c=n.app={_uid:iie++,_component:i,_props:s,_container:null,_context:n,_instance:null,version:M3,get config(){return n.config},set config(f){},use(f,...d){return o.has(f)||(f&&ke(f.install)?(o.add(f),f.install(c,...d)):ke(f)&&(o.add(f),f(c,...d))),c},mixin(f){return n.mixins.includes(f)||n.mixins.push(f),c},component(f,d){return d?(n.components[f]=d,c):n.components[f]},directive(f,d){return d?(n.directives[f]=d,c):n.directives[f]},mount(f,d,p){if(!l){const y=c._ceVNode||Ke(i,s);return y.appContext=n,p===!0?p="svg":p===!1&&(p=void 0),d&&e?e(y,f):t(y,f,p),l=!0,c._container=f,f.__vue_app__=c,Dm(y.component)}},onUnmount(f){a.push(f)},unmount(){l&&(Fs(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(f,d){return n.provides[f]=d,c},runWithContext(f){const d=kc;kc=c;try{return f()}finally{kc=d}}};return c}}let kc=null;function p3(t,e){if(Jr){let r=Jr.provides;const i=Jr.parent&&Jr.parent.provides;i===r&&(r=Jr.provides=Object.create(i)),r[t]=e}}function Ur(t,e,r=!1){const i=Jr||Zr;if(i||kc){const s=kc?kc._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&ke(e)?e.call(i&&i.proxy):e}}function m3(){return!!(Jr||Zr||kc)}const hk={},fk=()=>Object.create(hk),dk=t=>Object.getPrototypeOf(t)===hk;function nie(t,e,r,i=!1){const s={},n=fk();t.propsDefaults=Object.create(null),pk(t,e,s,n);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=i?s:YS(s):t.type.props?t.props=s:t.props=n,t.attrs=n}function oie(t,e,r,i){const{props:s,attrs:n,vnode:{patchFlag:o}}=t,a=Ge(s),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(U1(t.emitsOptions,p))continue;const y=e[p];if(l)if(vt(n,p))y!==n[p]&&(n[p]=y,c=!0);else{const v=Gt(p);s[v]=vx(l,a,v,y,t,!1)}else y!==n[p]&&(n[p]=y,c=!0)}}}else{pk(t,e,s,n)&&(c=!0);let f;for(const d in a)(!e||!vt(e,d)&&((f=ps(d))===d||!vt(e,f)))&&(l?r&&(r[d]!==void 0||r[f]!==void 0)&&(s[d]=vx(l,a,d,void 0,t,!0)):delete s[d]);if(n!==a)for(const d in n)(!e||!vt(e,d))&&(delete n[d],c=!0)}c&&ua(t.attrs,"set","")}function pk(t,e,r,i){const[s,n]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(bl(l))continue;const c=e[l];let f;s&&vt(s,f=Gt(l))?!n||!n.includes(f)?r[f]=c:(a||(a={}))[f]=c:U1(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(n){const l=Ge(r),c=a||nt;for(let f=0;f<n.length;f++){const d=n[f];r[d]=vx(s,l,d,c[d],t,!vt(c,d))}}return o}function vx(t,e,r,i,s,n){const o=t[r];if(o!=null){const a=vt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ke(l)){const{propsDefaults:c}=s;if(r in c)i=c[r];else{const f=iu(s);i=c[r]=l.call(null,e),f()}}else i=l;s.ce&&s.ce._setProp(r,i)}o[0]&&(n&&!a?i=!1:o[1]&&(i===""||i===ps(r))&&(i=!0))}return i}const aie=new WeakMap;function mk(t,e,r=!1){const i=r?aie:e.propsCache,s=i.get(t);if(s)return s;const n=t.props,o={},a=[];let l=!1;if(!ke(t)){const f=d=>{l=!0;const[p,y]=mk(d,e,!0);ot(o,p),y&&a.push(...y)};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!n&&!l)return Pt(t)&&i.set(t,_h),_h;if(Se(n))for(let f=0;f<n.length;f++){const d=Gt(n[f]);i$(d)&&(o[d]=nt)}else if(n)for(const f in n){const d=Gt(f);if(i$(d)){const p=n[f],y=o[d]=Se(p)||ke(p)?{type:p}:ot({},p),v=y.type;let b=!1,S=!0;if(Se(v))for(let E=0;E<v.length;++E){const T=v[E],w=ke(T)&&T.name;if(w==="Boolean"){b=!0;break}else w==="String"&&(S=!1)}else b=ke(v)&&v.name==="Boolean";y[0]=b,y[1]=S,(b||vt(y,"default"))&&a.push(d)}}const c=[o,a];return Pt(t)&&i.set(t,c),c}function i$(t){return t[0]!=="$"&&!bl(t)}const yk=t=>t[0]==="_"||t==="$stable",y3=t=>Se(t)?t.map(hs):[hs(t)],lie=(t,e,r)=>{if(e._n)return e;const i=Pr((...s)=>y3(e(...s)),r);return i._c=!1,i},gk=(t,e,r)=>{const i=t._ctx;for(const s in t){if(yk(s))continue;const n=t[s];if(ke(n))e[s]=lie(s,n,i);else if(n!=null){const o=y3(n);e[s]=()=>o}}},vk=(t,e)=>{const r=y3(e);t.slots.default=()=>r},bk=(t,e,r)=>{for(const i in e)(r||i!=="_")&&(t[i]=e[i])},cie=(t,e,r)=>{const i=t.slots=fk();if(t.vnode.shapeFlag&32){const s=e._;s?(bk(i,e,r),r&&zL(i,"_",s,!0)):gk(e,i)}else e&&vk(t,e)},uie=(t,e,r)=>{const{vnode:i,slots:s}=t;let n=!0,o=nt;if(i.shapeFlag&32){const a=e._;a?r&&a===1?n=!1:bk(s,e,r):(n=!e.$stable,gk(e,s)),o=e}else e&&(vk(t,e),o={default:1});if(n)for(const a in s)!yk(a)&&o[a]==null&&delete s[a]},zr=Ck;function g3(t){return _k(t)}function v3(t){return _k(t,Vre)}function _k(t,e){const r=E1();r.__VUE__=!0;const{insert:i,remove:s,patchProp:n,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:d,nextSibling:p,setScopeId:y=yi,insertStaticContent:v}=t,b=(j,D,W,oe=null,te=null,ce=null,ye=void 0,L=null,R=!!D.dynamicChildren)=>{if(j===D)return;j&&!An(j,D)&&(oe=zt(j),ue(j,te,ce,!0),j=null),D.patchFlag===-2&&(R=!1,D.dynamicChildren=null);const{type:G,ref:re,shapeFlag:se}=D;switch(G){case wo:S(j,D,W,oe);break;case $r:E(j,D,W,oe);break;case wl:j==null&&T(D,W,oe,ye);break;case Lt:U(j,D,W,oe,te,ce,ye,L,R);break;default:se&1?M(j,D,W,oe,te,ce,ye,L,R):se&6?B(j,D,W,oe,te,ce,ye,L,R):(se&64||se&128)&&G.process(j,D,W,oe,te,ce,ye,L,R,Ft)}re!=null&&te&&Gp(re,j&&j.ref,ce,D||j,!D)},S=(j,D,W,oe)=>{if(j==null)i(D.el=a(D.children),W,oe);else{const te=D.el=j.el;D.children!==j.children&&c(te,D.children)}},E=(j,D,W,oe)=>{j==null?i(D.el=l(D.children||""),W,oe):D.el=j.el},T=(j,D,W,oe)=>{[j.el,j.anchor]=v(j.children,D,W,oe,j.el,j.anchor)},w=({el:j,anchor:D},W,oe)=>{let te;for(;j&&j!==D;)te=p(j),i(j,W,oe),j=te;i(D,W,oe)},_=({el:j,anchor:D})=>{let W;for(;j&&j!==D;)W=p(j),s(j),j=W;s(D)},M=(j,D,W,oe,te,ce,ye,L,R)=>{D.type==="svg"?ye="svg":D.type==="math"&&(ye="mathml"),j==null?$(D,W,oe,te,ce,ye,L,R):N(j,D,te,ce,ye,L,R)},$=(j,D,W,oe,te,ce,ye,L)=>{let R,G;const{props:re,shapeFlag:se,transition:ne,dirs:H}=j;if(R=j.el=o(j.type,ce,re&&re.is,re),se&8?f(R,j.children):se&16&&P(j.children,R,null,oe,te,y_(j,ce),ye,L),H&&co(j,null,oe,"created"),C(R,j,j.scopeId,ye,oe),re){for(const Ae in re)Ae!=="value"&&!bl(Ae)&&n(R,Ae,null,re[Ae],ce,oe);"value"in re&&n(R,"value",null,re.value,ce),(G=re.onVnodeBeforeMount)&&as(G,oe,j)}H&&co(j,null,oe,"beforeMount");const Z=wk(te,ne);Z&&ne.beforeEnter(R),i(R,D,W),((G=re&&re.onVnodeMounted)||Z||H)&&zr(()=>{G&&as(G,oe,j),Z&&ne.enter(R),H&&co(j,null,oe,"mounted")},te)},C=(j,D,W,oe,te)=>{if(W&&y(j,W),oe)for(let ce=0;ce<oe.length;ce++)y(j,oe[ce]);if(te){let ce=te.subTree;if(D===ce||jg(ce.type)&&(ce.ssContent===D||ce.ssFallback===D)){const ye=te.vnode;C(j,ye,ye.scopeId,ye.slotScopeIds,te.parent)}}},P=(j,D,W,oe,te,ce,ye,L,R=0)=>{for(let G=R;G<j.length;G++){const re=j[G]=L?tl(j[G]):hs(j[G]);b(null,re,D,W,oe,te,ce,ye,L)}},N=(j,D,W,oe,te,ce,ye)=>{const L=D.el=j.el;let{patchFlag:R,dynamicChildren:G,dirs:re}=D;R|=j.patchFlag&16;const se=j.props||nt,ne=D.props||nt;let H;if(W&&tc(W,!1),(H=ne.onVnodeBeforeUpdate)&&as(H,W,D,j),re&&co(D,j,W,"beforeUpdate"),W&&tc(W,!0),(se.innerHTML&&ne.innerHTML==null||se.textContent&&ne.textContent==null)&&f(L,""),G?F(j.dynamicChildren,G,L,W,oe,y_(D,te),ce):ye||I(j,D,L,null,W,oe,y_(D,te),ce,!1),R>0){if(R&16)q(L,se,ne,W,te);else if(R&2&&se.class!==ne.class&&n(L,"class",null,ne.class,te),R&4&&n(L,"style",se.style,ne.style,te),R&8){const Z=D.dynamicProps;for(let Ae=0;Ae<Z.length;Ae++){const Le=Z[Ae],Ut=se[Le],qt=ne[Le];(qt!==Ut||Le==="value")&&n(L,Le,Ut,qt,te,W)}}R&1&&j.children!==D.children&&f(L,D.children)}else!ye&&G==null&&q(L,se,ne,W,te);((H=ne.onVnodeUpdated)||re)&&zr(()=>{H&&as(H,W,D,j),re&&co(D,j,W,"updated")},oe)},F=(j,D,W,oe,te,ce,ye)=>{for(let L=0;L<D.length;L++){const R=j[L],G=D[L],re=R.el&&(R.type===Lt||!An(R,G)||R.shapeFlag&70)?d(R.el):W;b(R,G,re,null,oe,te,ce,ye,!0)}},q=(j,D,W,oe,te)=>{if(D!==W){if(D!==nt)for(const ce in D)!bl(ce)&&!(ce in W)&&n(j,ce,D[ce],null,te,oe);for(const ce in W){if(bl(ce))continue;const ye=W[ce],L=D[ce];ye!==L&&ce!=="value"&&n(j,ce,L,ye,te,oe)}"value"in W&&n(j,"value",D.value,W.value,te)}},U=(j,D,W,oe,te,ce,ye,L,R)=>{const G=D.el=j?j.el:a(""),re=D.anchor=j?j.anchor:a("");let{patchFlag:se,dynamicChildren:ne,slotScopeIds:H}=D;H&&(L=L?L.concat(H):H),j==null?(i(G,W,oe),i(re,W,oe),P(D.children||[],W,re,te,ce,ye,L,R)):se>0&&se&64&&ne&&j.dynamicChildren?(F(j.dynamicChildren,ne,W,te,ce,ye,L),(D.key!=null||te&&D===te.subTree)&&b3(j,D,!0)):I(j,D,W,re,te,ce,ye,L,R)},B=(j,D,W,oe,te,ce,ye,L,R)=>{D.slotScopeIds=L,j==null?D.shapeFlag&512?te.ctx.activate(D,W,oe,ye,R):K(D,W,oe,te,ce,ye,R):h(j,D,R)},K=(j,D,W,oe,te,ce,ye)=>{const L=j.component=Dk(j,oe,te);if(Rm(j)&&(L.ctx.renderer=Ft),Uk(L,!1,ye),L.asyncDep){if(te&&te.registerDep(L,m,ye),!j.el){const R=L.subTree=Ke($r);E(null,R,D,W)}}else m(L,j,D,W,te,ce,ye)},h=(j,D,W)=>{const oe=D.component=j.component;if(gie(j,D,W))if(oe.asyncDep&&!oe.asyncResolved){x(oe,D,W);return}else oe.next=D,oe.update();else D.el=j.el,oe.vnode=D},m=(j,D,W,oe,te,ce,ye)=>{const L=()=>{if(j.isMounted){let{next:se,bu:ne,u:H,parent:Z,vnode:Ae}=j;{const Br=xk(j);if(Br){se&&(se.el=Ae.el,x(j,se,ye)),Br.asyncDep.then(()=>{j.isUnmounted||L()});return}}let Le=se,Ut;tc(j,!1),se?(se.el=Ae.el,x(j,se,ye)):se=Ae,ne&&xh(ne),(Ut=se.props&&se.props.onVnodeBeforeUpdate)&&as(Ut,Z,se,Ae),tc(j,!0);const qt=I0(j),hr=j.subTree;j.subTree=qt,b(hr,qt,d(hr.el),zt(hr),j,te,ce),se.el=qt.el,Le===null&&j1(j,qt.el),H&&zr(H,te),(Ut=se.props&&se.props.onVnodeUpdated)&&zr(()=>as(Ut,Z,se,Ae),te)}else{let se;const{el:ne,props:H}=D,{bm:Z,m:Ae,parent:Le,root:Ut,type:qt}=j,hr=_l(D);if(tc(j,!1),Z&&xh(Z),!hr&&(se=H&&H.onVnodeBeforeMount)&&as(se,Le,D),tc(j,!0),ne&&ti){const Br=()=>{j.subTree=I0(j),ti(ne,j.subTree,j,te,null)};hr&&qt.__asyncHydrate?qt.__asyncHydrate(ne,j,Br):Br()}else{Ut.ce&&Ut.ce._injectChildStyle(qt);const Br=j.subTree=I0(j);b(null,Br,W,oe,j,te,ce),D.el=Br.el}if(Ae&&zr(Ae,te),!hr&&(se=H&&H.onVnodeMounted)){const Br=D;zr(()=>as(se,Le,Br),te)}(D.shapeFlag&256||Le&&_l(Le.vnode)&&Le.vnode.shapeFlag&256)&&j.a&&zr(j.a,te),j.isMounted=!0,D=W=oe=null}};j.scope.on();const R=j.effect=new Bh(L);j.scope.off();const G=j.update=R.run.bind(R),re=j.job=R.runIfDirty.bind(R);re.i=j,re.id=j.uid,R.scheduler=()=>XS(re),tc(j,!0),G()},x=(j,D,W)=>{D.component=j;const oe=j.vnode.props;j.vnode=D,j.next=null,oie(j,D.props,oe,W),uie(j,D.children,W),Ul(),HM(j),jl()},I=(j,D,W,oe,te,ce,ye,L,R=!1)=>{const G=j&&j.children,re=j?j.shapeFlag:0,se=D.children,{patchFlag:ne,shapeFlag:H}=D;if(ne>0){if(ne&128){Y(G,se,W,oe,te,ce,ye,L,R);return}else if(ne&256){V(G,se,W,oe,te,ce,ye,L,R);return}}H&8?(re&16&&lt(G,te,ce),se!==G&&f(W,se)):re&16?H&16?Y(G,se,W,oe,te,ce,ye,L,R):lt(G,te,ce,!0):(re&8&&f(W,""),H&16&&P(se,W,oe,te,ce,ye,L,R))},V=(j,D,W,oe,te,ce,ye,L,R)=>{j=j||_h,D=D||_h;const G=j.length,re=D.length,se=Math.min(G,re);let ne;for(ne=0;ne<se;ne++){const H=D[ne]=R?tl(D[ne]):hs(D[ne]);b(j[ne],H,W,null,te,ce,ye,L,R)}G>re?lt(j,te,ce,!0,!1,se):P(D,W,oe,te,ce,ye,L,R,se)},Y=(j,D,W,oe,te,ce,ye,L,R)=>{let G=0;const re=D.length;let se=j.length-1,ne=re-1;for(;G<=se&&G<=ne;){const H=j[G],Z=D[G]=R?tl(D[G]):hs(D[G]);if(An(H,Z))b(H,Z,W,null,te,ce,ye,L,R);else break;G++}for(;G<=se&&G<=ne;){const H=j[se],Z=D[ne]=R?tl(D[ne]):hs(D[ne]);if(An(H,Z))b(H,Z,W,null,te,ce,ye,L,R);else break;se--,ne--}if(G>se){if(G<=ne){const H=ne+1,Z=H<re?D[H].el:oe;for(;G<=ne;)b(null,D[G]=R?tl(D[G]):hs(D[G]),W,Z,te,ce,ye,L,R),G++}}else if(G>ne)for(;G<=se;)ue(j[G],te,ce,!0),G++;else{const H=G,Z=G,Ae=new Map;for(G=Z;G<=ne;G++){const Oe=D[G]=R?tl(D[G]):hs(D[G]);Oe.key!=null&&Ae.set(Oe.key,G)}let Le,Ut=0;const qt=ne-Z+1;let hr=!1,Br=0;const Q=new Array(qt);for(G=0;G<qt;G++)Q[G]=0;for(G=H;G<=se;G++){const Oe=j[G];if(Ut>=qt){ue(Oe,te,ce,!0);continue}let We;if(Oe.key!=null)We=Ae.get(Oe.key);else for(Le=Z;Le<=ne;Le++)if(Q[Le-Z]===0&&An(Oe,D[Le])){We=Le;break}We===void 0?ue(Oe,te,ce,!0):(Q[We-Z]=G+1,We>=Br?Br=We:hr=!0,b(Oe,D[We],W,null,te,ce,ye,L,R),Ut++)}const Te=hr?hie(Q):_h;for(Le=Te.length-1,G=qt-1;G>=0;G--){const Oe=Z+G,We=D[Oe],Ze=Oe+1<re?D[Oe+1].el:oe;Q[G]===0?b(null,We,W,Ze,te,ce,ye,L,R):hr&&(Le<0||G!==Te[Le]?me(We,W,Ze,2):Le--)}}},me=(j,D,W,oe,te=null)=>{const{el:ce,type:ye,transition:L,children:R,shapeFlag:G}=j;if(G&6){me(j.component.subTree,D,W,oe);return}if(G&128){j.suspense.move(D,W,oe);return}if(G&64){ye.move(j,D,W,Ft);return}if(ye===Lt){i(ce,D,W);for(let se=0;se<R.length;se++)me(R[se],D,W,oe);i(j.anchor,D,W);return}if(ye===wl){w(j,D,W);return}if(oe!==2&&G&1&&L)if(oe===0)L.beforeEnter(ce),i(ce,D,W),zr(()=>L.enter(ce),te);else{const{leave:se,delayLeave:ne,afterLeave:H}=L,Z=()=>i(ce,D,W),Ae=()=>{se(ce,()=>{Z(),H&&H()})};ne?ne(ce,Z,Ae):Ae()}else i(ce,D,W)},ue=(j,D,W,oe=!1,te=!1)=>{const{type:ce,props:ye,ref:L,children:R,dynamicChildren:G,shapeFlag:re,patchFlag:se,dirs:ne,cacheIndex:H}=j;if(se===-2&&(te=!1),L!=null&&Gp(L,null,W,j,!0),H!=null&&(D.renderCache[H]=void 0),re&256){D.ctx.deactivate(j);return}const Z=re&1&&ne,Ae=!_l(j);let Le;if(Ae&&(Le=ye&&ye.onVnodeBeforeUnmount)&&as(Le,D,j),re&6)ze(j.component,W,oe);else{if(re&128){j.suspense.unmount(W,oe);return}Z&&co(j,null,D,"beforeUnmount"),re&64?j.type.remove(j,D,W,Ft,oe):G&&!G.hasOnce&&(ce!==Lt||se>0&&se&64)?lt(G,D,W,!1,!0):(ce===Lt&&se&384||!te&&re&16)&&lt(R,D,W),oe&&Me(j)}(Ae&&(Le=ye&&ye.onVnodeUnmounted)||Z)&&zr(()=>{Le&&as(Le,D,j),Z&&co(j,null,D,"unmounted")},W)},Me=j=>{const{type:D,el:W,anchor:oe,transition:te}=j;if(D===Lt){Ue(W,oe);return}if(D===wl){_(j);return}const ce=()=>{s(W),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(j.shapeFlag&1&&te&&!te.persisted){const{leave:ye,delayLeave:L}=te,R=()=>ye(W,ce);L?L(j.el,ce,R):R()}else ce()},Ue=(j,D)=>{let W;for(;j!==D;)W=p(j),s(j),j=W;s(D)},ze=(j,D,W)=>{const{bum:oe,scope:te,job:ce,subTree:ye,um:L,m:R,a:G}=j;Ug(R),Ug(G),oe&&xh(oe),te.stop(),ce&&(ce.flags|=8,ue(ye,j,D,W)),L&&zr(L,D),zr(()=>{j.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},lt=(j,D,W,oe=!1,te=!1,ce=0)=>{for(let ye=ce;ye<j.length;ye++)ue(j[ye],D,W,oe,te)},zt=j=>{if(j.shapeFlag&6)return zt(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const D=p(j.anchor||j.el),W=D&&D[NR];return W?p(W):D};let It=!1;const wr=(j,D,W)=>{j==null?D._vnode&&ue(D._vnode,null,null,!0):b(D._vnode||null,j,D,null,null,null,W),D._vnode=j,It||(It=!0,HM(),kg(),It=!1)},Ft={p:b,um:ue,m:me,r:Me,mt:K,mc:P,pc:I,pbc:F,n:zt,o:t};let nr,ti;return e&&([nr,ti]=e(Ft)),{render:wr,hydrate:nr,createApp:sie(wr,nr)}}function y_({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function tc({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function wk(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function b3(t,e,r=!1){const i=t.children,s=e.children;if(Se(i)&&Se(s))for(let n=0;n<i.length;n++){const o=i[n];let a=s[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[n]=tl(s[n]),a.el=o.el),!r&&a.patchFlag!==-2&&b3(o,a)),a.type===wo&&(a.el=o.el)}}function hie(t){const e=t.slice(),r=[0];let i,s,n,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=r[r.length-1],t[s]<c){e[i]=s,r.push(i);continue}for(n=0,o=r.length-1;n<o;)a=n+o>>1,t[r[a]]<c?n=a+1:o=a;c<t[r[n]]&&(n>0&&(e[i]=r[n-1]),r[n]=i)}}for(n=r.length,o=r[n-1];n-- >0;)r[n]=o,o=e[o];return r}function xk(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:xk(e)}function Ug(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const _3=Symbol.for("v-scx"),w3=()=>Ur(_3);function Ek(t,e){return km(t,null,e)}function Sk(t,e){return km(t,null,{flush:"post"})}function x3(t,e){return km(t,null,{flush:"sync"})}function Xr(t,e,r){return km(t,e,r)}function km(t,e,r=nt){const{immediate:i,deep:s,flush:n,once:o}=r,a=ot({},r),l=e&&i||!e&&n!=="post";let c;if(Gh){if(n==="sync"){const y=w3();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=yi,y.resume=yi,y.pause=yi,y}}const f=Jr;a.call=(y,v,b)=>Fs(y,f,v,b);let d=!1;n==="post"?a.scheduler=y=>{zr(y,f&&f.suspense)}:n!=="sync"&&(d=!0,a.scheduler=(y,v)=>{v?y():XS(y)}),a.augmentJob=y=>{e&&(y.flags|=4),d&&(y.flags|=2,f&&(y.id=f.uid,y.i=f))};const p=Nre(t,e,a);return Gh&&(c?c.push(p):l&&p()),p}function fie(t,e,r){const i=this.proxy,s=Ye(t)?t.includes(".")?Ak(i,t):()=>i[t]:t.bind(i,i);let n;ke(e)?n=e:(n=e.handler,r=e);const o=iu(this),a=km(s,n.bind(i),r);return o(),a}function Ak(t,e){const r=e.split(".");return()=>{let i=t;for(let s=0;s<r.length&&i;s++)i=i[r[s]];return i}}function Tk(t,e,r=nt){const i=jr(),s=Gt(e),n=ps(e),o=Mk(t,s),a=JS((l,c)=>{let f,d=nt,p;return x3(()=>{const y=t[s];qi(f,y)&&(f=y,c())}),{get(){return l(),r.get?r.get(f):f},set(y){const v=r.set?r.set(y):y;if(!qi(v,f)&&!(d!==nt&&qi(y,d)))return;const b=i.vnode.props;b&&(e in b||s in b||n in b)&&(`onUpdate:${e}`in b||`onUpdate:${s}`in b||`onUpdate:${n}`in b)||(f=y,c()),i.emit(`update:${e}`,v),qi(y,v)&&qi(y,d)&&!qi(v,p)&&c(),d=y,p=v}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||nt:a,done:!1}:{done:!0}}}},a}const Mk=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Gt(e)}Modifiers`]||t[`${ps(e)}Modifiers`];function die(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||nt;let s=r;const n=e.startsWith("update:"),o=n&&Mk(i,e.slice(7));o&&(o.trim&&(s=r.map(f=>Ye(f)?f.trim():f)),o.number&&(s=r.map(Cg)));let a,l=i[a=Lc(e)]||i[a=Lc(Gt(e))];!l&&n&&(l=i[a=Lc(ps(e))]),l&&Fs(l,t,6,s);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Fs(c,t,6,s)}}function $k(t,e,r=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const n=t.emits;let o={},a=!1;if(!ke(t)){const l=c=>{const f=$k(c,e,!0);f&&(a=!0,ot(o,f))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!n&&!a?(Pt(t)&&i.set(t,null),null):(Se(n)?n.forEach(l=>o[l]=null):ot(o,n),Pt(t)&&i.set(t,o),o)}function U1(t,e){return!t||!hu(e)?!1:(e=e.slice(2).replace(/Once$/,""),vt(t,e[0].toLowerCase()+e.slice(1))||vt(t,ps(e))||vt(t,e))}function I0(t){const{type:e,vnode:r,proxy:i,withProxy:s,propsOptions:[n],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:d,data:p,setupState:y,ctx:v,inheritAttrs:b}=t,S=Vp(t);let E,T;try{if(r.shapeFlag&4){const _=s||i,M=_;E=hs(c.call(M,_,f,d,y,p,v)),T=a}else{const _=e;E=hs(_.length>1?_(d,{attrs:a,slots:o,emit:l}):_(d,null)),T=e.props?a:mie(a)}}catch(_){Kd.length=0,Bl(_,t,1),E=Ke($r)}let w=E;if(T&&b!==!1){const _=Object.keys(T),{shapeFlag:M}=w;_.length&&M&7&&(n&&_.some(jS)&&(T=yie(T,n)),w=qn(w,T,!1,!0))}return r.dirs&&(w=qn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&Co(w,r.transition),E=w,Vp(S),E}function pie(t,e=!0){let r;for(let i=0;i<t.length;i++){const s=t[i];if(zn(s)){if(s.type!==$r||s.children==="v-if"){if(r)return;r=s}}else return}return r}const mie=t=>{let e;for(const r in t)(r==="class"||r==="style"||hu(r))&&((e||(e={}))[r]=t[r]);return e},yie=(t,e)=>{const r={};for(const i in t)(!jS(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function gie(t,e,r){const{props:i,children:s,component:n}=t,{props:o,children:a,patchFlag:l}=e,c=n.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?s$(i,o,c):!!o;if(l&8){const f=e.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(o[p]!==i[p]&&!U1(c,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?s$(i,o,c):!0:!!o;return!1}function s$(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const n=i[s];if(e[n]!==t[n]&&!U1(r,n))return!0}return!1}function j1({vnode:t,parent:e},r){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=r,e=e.parent;else break}}const jg=t=>t.__isSuspense;let bx=0;const vie={name:"Suspense",__isSuspense:!0,process(t,e,r,i,s,n,o,a,l,c){if(t==null)bie(e,r,i,s,n,o,a,l,c);else{if(n&&n.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}_ie(t,e,r,i,s,o,a,l,c)}},hydrate:wie,normalize:xie},Ok=vie;function qp(t,e){const r=t.props&&t.props[e];ke(r)&&r()}function bie(t,e,r,i,s,n,o,a,l){const{p:c,o:{createElement:f}}=l,d=f("div"),p=t.suspense=Ik(t,s,i,e,d,r,n,o,a,l);c(null,p.pendingBranch=t.ssContent,d,null,i,p,n,o),p.deps>0?(qp(t,"onPending"),qp(t,"onFallback"),c(null,t.ssFallback,e,r,i,null,n,o),Sh(p,t.ssFallback)):p.resolve(!1,!0)}function _ie(t,e,r,i,s,n,o,a,{p:l,um:c,o:{createElement:f}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const p=e.ssContent,y=e.ssFallback,{activeBranch:v,pendingBranch:b,isInFallback:S,isHydrating:E}=d;if(b)d.pendingBranch=p,An(p,b)?(l(b,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():S&&(E||(l(v,y,r,i,s,null,n,o,a),Sh(d,y)))):(d.pendingId=bx++,E?(d.isHydrating=!1,d.activeBranch=b):c(b,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=f("div"),S?(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():(l(v,y,r,i,s,null,n,o,a),Sh(d,y))):v&&An(p,v)?(l(v,p,r,i,s,d,n,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0&&d.resolve()));else if(v&&An(p,v))l(v,p,r,i,s,d,n,o,a),Sh(d,p);else if(qp(e,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=bx++,l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0)d.resolve();else{const{timeout:T,pendingId:w}=d;T>0?setTimeout(()=>{d.pendingId===w&&d.fallback(y)},T):T===0&&d.fallback(y)}}function Ik(t,e,r,i,s,n,o,a,l,c,f=!1){const{p:d,m:p,um:y,n:v,o:{parentNode:b,remove:S}}=c;let E;const T=Eie(t);T&&e&&e.pendingBranch&&(E=e.pendingId,e.deps++);const w=t.props?Ng(t.props.timeout):void 0,_=n,M={vnode:t,parent:e,parentComponent:r,namespace:o,container:i,hiddenContainer:s,deps:0,pendingId:bx++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve($=!1,C=!1){const{vnode:P,activeBranch:N,pendingBranch:F,pendingId:q,effects:U,parentComponent:B,container:K}=M;let h=!1;M.isHydrating?M.isHydrating=!1:$||(h=N&&F.transition&&F.transition.mode==="out-in",h&&(N.transition.afterLeave=()=>{q===M.pendingId&&(p(F,K,n===_?v(N):n,0),Vh(U))}),N&&(b(N.el)===K&&(n=v(N)),y(N,B,M,!0)),h||p(F,K,n,0)),Sh(M,F),M.pendingBranch=null,M.isInFallback=!1;let m=M.parent,x=!1;for(;m;){if(m.pendingBranch){m.effects.push(...U),x=!0;break}m=m.parent}!x&&!h&&Vh(U),M.effects=[],T&&e&&e.pendingBranch&&E===e.pendingId&&(e.deps--,e.deps===0&&!C&&e.resolve()),qp(P,"onResolve")},fallback($){if(!M.pendingBranch)return;const{vnode:C,activeBranch:P,parentComponent:N,container:F,namespace:q}=M;qp(C,"onFallback");const U=v(P),B=()=>{M.isInFallback&&(d(null,$,F,U,N,null,q,a,l),Sh(M,$))},K=$.transition&&$.transition.mode==="out-in";K&&(P.transition.afterLeave=B),M.isInFallback=!0,y(P,N,null,!0),K||B()},move($,C,P){M.activeBranch&&p(M.activeBranch,$,C,P),M.container=$},next(){return M.activeBranch&&v(M.activeBranch)},registerDep($,C,P){const N=!!M.pendingBranch;N&&M.deps++;const F=$.vnode.el;$.asyncDep.catch(q=>{Bl(q,$,0)}).then(q=>{if($.isUnmounted||M.isUnmounted||M.pendingId!==$.suspenseId)return;$.asyncResolved=!0;const{vnode:U}=$;xx($,q,!1),F&&(U.el=F);const B=!F&&$.subTree.el;C($,U,b(F||$.subTree.el),F?null:v($.subTree),M,o,P),B&&S(B),j1($,U.el),N&&--M.deps===0&&M.resolve()})},unmount($,C){M.isUnmounted=!0,M.activeBranch&&y(M.activeBranch,r,$,C),M.pendingBranch&&y(M.pendingBranch,r,$,C)}};return M}function wie(t,e,r,i,s,n,o,a,l){const c=e.suspense=Ik(e,i,r,t.parentNode,document.createElement("div"),null,s,n,o,a,!0),f=l(t,c.pendingBranch=e.ssContent,r,c,n,o);return c.deps===0&&c.resolve(!1,!0),f}function xie(t){const{shapeFlag:e,children:r}=t,i=e&32;t.ssContent=n$(i?r.default:r),t.ssFallback=i?n$(r.fallback):Ke($r)}function n$(t){let e;if(ke(t)){const r=ru&&t._c;r&&(t._d=!1,fe()),t=t(),r&&(t._d=!0,e=Li,Nk())}return Se(t)&&(t=pie(t)),t=hs(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function Ck(t,e){e&&e.pendingBranch?Se(t)?e.effects.push(...t):e.effects.push(t):Vh(t)}function Sh(t,e){t.activeBranch=e;const{vnode:r,parentComponent:i}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;r.el=s,i&&i.subTree===r&&(i.vnode.el=s,j1(i,s))}function Eie(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Lt=Symbol.for("v-fgt"),wo=Symbol.for("v-txt"),$r=Symbol.for("v-cmt"),wl=Symbol.for("v-stc"),Kd=[];let Li=null;function fe(t=!1){Kd.push(Li=t?null:[])}function Nk(){Kd.pop(),Li=Kd[Kd.length-1]||null}let ru=1;function Bg(t,e=!1){ru+=t,t<0&&Li&&e&&(Li.hasOnce=!0)}function Pk(t){return t.dynamicChildren=ru>0?Li||_h:null,Nk(),ru>0&&Li&&Li.push(t),t}function xe(t,e,r,i,s,n){return Pk(le(t,e,r,i,s,n,!0))}function Vt(t,e,r,i,s){return Pk(Ke(t,e,r,i,s,!0))}function zn(t){return t?t.__v_isVNode===!0:!1}function An(t,e){return t.type===e.type&&t.key===e.key}function Lk(t){}const Rk=({key:t})=>t??null,C0=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Ye(t)||dt(t)||ke(t)?{i:Zr,r:t,k:e,f:!!r}:t:null);function le(t,e=null,r=null,i=0,s=null,n=t===Lt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Rk(e),ref:e&&C0(e),scopeId:P1,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Zr};return a?(S3(l,r),n&128&&t.normalize(l)):r&&(l.shapeFlag|=Ye(r)?8:16),ru>0&&!o&&Li&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&Li.push(l),l}const Ke=Sie;function Sie(t,e=null,r=null,i=0,s=null,n=!1){if((!t||t===HR)&&(t=$r),zn(t)){const a=qn(t,e,!0);return r&&S3(a,r),ru>0&&!n&&Li&&(a.shapeFlag&6?Li[Li.indexOf(t)]=a:Li.push(a)),a.patchFlag=-2,a}if(Oie(t)&&(t=t.__vccOpts),e){e=E3(e);let{class:a,style:l}=e;a&&!Ye(a)&&(e.class=lr(a)),Pt(l)&&(Pm(l)&&!Se(l)&&(l=ot({},l)),e.style=Fl(l))}const o=Ye(t)?1:jg(t)?128:PR(t)?64:Pt(t)?4:ke(t)?2:0;return le(t,e,r,i,s,o,n,!0)}function E3(t){return t?Pm(t)||dk(t)?ot({},t):t:null}function qn(t,e,r=!1,i=!1){const{props:s,ref:n,patchFlag:o,children:a,transition:l}=t,c=e?B1(s||{},e):s,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Rk(c),ref:e&&e.ref?r&&n?Se(n)?n.concat(C0(e)):[n,C0(e)]:C0(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Lt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&qn(t.ssContent),ssFallback:t.ssFallback&&qn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Co(f,l.clone(f)),f}function xo(t=" ",e=0){return Ke(wo,null,t,e)}function kk(t,e){const r=Ke(wl,null,t);return r.staticCount=e,r}function Wt(t="",e=!1){return e?(fe(),Vt($r,null,t)):Ke($r,null,t)}function hs(t){return t==null||typeof t=="boolean"?Ke($r):Se(t)?Ke(Lt,null,t.slice()):zn(t)?tl(t):Ke(wo,null,String(t))}function tl(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:qn(t)}function S3(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Se(e))r=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),S3(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!dk(e)?e._ctx=Zr:s===3&&Zr&&(Zr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ke(e)?(e={default:e,_ctx:Zr},r=32):(e=String(e),i&64?(r=16,e=[xo(e)]):r=8);t.children=e,t.shapeFlag|=r}function B1(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=lr([e.class,i.class]));else if(s==="style")e.style=Fl([e.style,i.style]);else if(hu(s)){const n=e[s],o=i[s];o&&n!==o&&!(Se(n)&&n.includes(o))&&(e[s]=n?[].concat(n,o):o)}else s!==""&&(e[s]=i[s])}return e}function as(t,e,r,i=null){Fs(t,e,7,[r,i])}const Aie=uk();let Tie=0;function Dk(t,e,r){const i=t.type,s=(e?e.appContext:t.appContext)||Aie,n={uid:Tie++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new A1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mk(i,s),emitsOptions:$k(i,s),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:i.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=e?e.root:n,n.emit=die.bind(null,n),t.ce&&t.ce(n),n}let Jr=null;const jr=()=>Jr||Zr;let Vg,_x;{const t=E1(),e=(r,i)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(i),n=>{s.length>1?s.forEach(o=>o(n)):s[0](n)}};Vg=e("__VUE_INSTANCE_SETTERS__",r=>Jr=r),_x=e("__VUE_SSR_SETTERS__",r=>Gh=r)}const iu=t=>{const e=Jr;return Vg(t),t.scope.on(),()=>{t.scope.off(),Vg(e)}},wx=()=>{Jr&&Jr.scope.off(),Vg(null)};function Fk(t){return t.vnode.shapeFlag&4}let Gh=!1;function Uk(t,e=!1,r=!1){e&&_x(e);const{props:i,children:s}=t.vnode,n=Fk(t);nie(t,i,n,e),cie(t,s,r);const o=n?Mie(t,e):void 0;return e&&_x(!1),o}function Mie(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,mx);const{setup:i}=r;if(i){Ul();const s=t.setupContext=i.length>1?Vk(t):null,n=iu(t),o=du(i,t,0,[t.props,s]),a=VS(o);if(jl(),n(),(a||t.sp)&&!_l(t)&&t3(t),a){if(o.then(wx,wx),e)return o.then(l=>{xx(t,l,e)}).catch(l=>{Bl(l,t,0)});t.asyncDep=o}else xx(t,o,e)}else Bk(t,e)}function xx(t,e,r){ke(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pt(e)&&(t.setupState=N1(e)),Bk(t,r)}let Gg,Ex;function A3(t){Gg=t,Ex=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Zre))}}const jk=()=>!Gg;function Bk(t,e,r){const i=t.type;if(!t.render){if(!e&&Gg&&!i.render){const s=i.template||d3(t).template;if(s){const{isCustomElement:n,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=ot(ot({isCustomElement:n,delimiters:a},o),l);i.render=Gg(s,c)}}t.render=i.render||yi,Ex&&Ex(t)}{const s=iu(t);Ul();try{Xre(t)}finally{jl(),s()}}}const $ie={get(t,e){return Ii(t,"get",""),t[e]}};function Vk(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,$ie),slots:t.slots,emit:t.emit,expose:e}}function Dm(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(N1(_r(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Jd)return Jd[r](t)},has(e,r){return r in e||r in Jd}})):t.proxy}function Sx(t,e=!0){return ke(t)?t.displayName||t.name:t.name||e&&t.__name}function Oie(t){return ke(t)&&"__vccOpts"in t}const et=(t,e)=>Cre(t,e,Gh);function sn(t,e,r){const i=arguments.length;return i===2?Pt(e)&&!Se(e)?zn(e)?Ke(t,null,[e]):Ke(t,e):Ke(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&zn(r)&&(r=[r]),Ke(t,e,r))}function Gk(){}function zk(t,e,r,i){const s=r[i];if(s&&T3(s,t))return s;const n=e();return n.memo=t.slice(),n.cacheIndex=i,r[i]=n}function T3(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(qi(r[i],e[i]))return!1;return ru>0&&Li&&Li.push(t),!0}const M3="3.5.13",qk=yi,Hk=Rre,Wk=Bu,Yk=$R,Iie={createComponentInstance:Dk,setupComponent:Uk,renderComponentRoot:I0,setCurrentRenderingInstance:Vp,isVNode:zn,normalizeVNode:hs,getComponentPublicInstance:Dm,ensureValidVNode:f3,pushWarningContext:Pre,popWarningContext:Lre},Jk=Iie,Kk=null,Zk=null,Xk=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ax;const o$=typeof window<"u"&&window.trustedTypes;if(o$)try{Ax=o$.createPolicy("vue",{createHTML:t=>t})}catch{}const Qk=Ax?t=>Ax.createHTML(t):t=>t,Cie="http://www.w3.org/2000/svg",Nie="http://www.w3.org/1998/Math/MathML",sa=typeof document<"u"?document:null,a$=sa&&sa.createElement("template"),Pie={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const s=e==="svg"?sa.createElementNS(Cie,t):e==="mathml"?sa.createElementNS(Nie,t):r?sa.createElement(t,{is:r}):sa.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>sa.createTextNode(t),createComment:t=>sa.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>sa.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,s,n){const o=r?r.previousSibling:e.lastChild;if(s&&(s===n||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===n||!(s=s.nextSibling)););else{a$.innerHTML=Qk(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=a$.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Da="transition",Vf="animation",zh=Symbol("_vtc"),e8={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},t8=ot({},R1,e8),Lie=t=>(t.displayName="Transition",t.props=t8,t),V1=Lie((t,{slots:e})=>sn(e3,r8(t),e)),rc=(t,e=[])=>{Se(t)?t.forEach(r=>r(...e)):t&&t(...e)},l$=t=>t?Se(t)?t.some(e=>e.length>1):t.length>1:!1;function r8(t){const e={};for(const U in t)U in e8||(e[U]=t[U]);if(t.css===!1)return e;const{name:r="v",type:i,duration:s,enterFromClass:n=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=n,appearActiveClass:c=o,appearToClass:f=a,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:y=`${r}-leave-to`}=t,v=Rie(s),b=v&&v[0],S=v&&v[1],{onBeforeEnter:E,onEnter:T,onEnterCancelled:w,onLeave:_,onLeaveCancelled:M,onBeforeAppear:$=E,onAppear:C=T,onAppearCancelled:P=w}=e,N=(U,B,K,h)=>{U._enterCancelled=h,za(U,B?f:a),za(U,B?c:o),K&&K()},F=(U,B)=>{U._isLeaving=!1,za(U,d),za(U,y),za(U,p),B&&B()},q=U=>(B,K)=>{const h=U?C:T,m=()=>N(B,U,K);rc(h,[B,m]),c$(()=>{za(B,U?l:n),no(B,U?f:a),l$(h)||u$(B,i,b,m)})};return ot(e,{onBeforeEnter(U){rc(E,[U]),no(U,n),no(U,o)},onBeforeAppear(U){rc($,[U]),no(U,l),no(U,c)},onEnter:q(!1),onAppear:q(!0),onLeave(U,B){U._isLeaving=!0;const K=()=>F(U,B);no(U,d),U._enterCancelled?(no(U,p),Tx()):(Tx(),no(U,p)),c$(()=>{U._isLeaving&&(za(U,d),no(U,y),l$(_)||u$(U,i,S,K))}),rc(_,[U,K])},onEnterCancelled(U){N(U,!1,void 0,!0),rc(w,[U])},onAppearCancelled(U){N(U,!0,void 0,!0),rc(P,[U])},onLeaveCancelled(U){F(U),rc(M,[U])}})}function Rie(t){if(t==null)return null;if(Pt(t))return[g_(t.enter),g_(t.leave)];{const e=g_(t);return[e,e]}}function g_(t){return Ng(t)}function no(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[zh]||(t[zh]=new Set)).add(e)}function za(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const r=t[zh];r&&(r.delete(e),r.size||(t[zh]=void 0))}function c$(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let kie=0;function u$(t,e,r,i){const s=t._endId=++kie,n=()=>{s===t._endId&&i()};if(r!=null)return setTimeout(n,r);const{type:o,timeout:a,propCount:l}=i8(t,e);if(!o)return i();const c=o+"end";let f=0;const d=()=>{t.removeEventListener(c,p),n()},p=y=>{y.target===t&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},a+1),t.addEventListener(c,p)}function i8(t,e){const r=window.getComputedStyle(t),i=v=>(r[v]||"").split(", "),s=i(`${Da}Delay`),n=i(`${Da}Duration`),o=h$(s,n),a=i(`${Vf}Delay`),l=i(`${Vf}Duration`),c=h$(a,l);let f=null,d=0,p=0;e===Da?o>0&&(f=Da,d=o,p=n.length):e===Vf?c>0&&(f=Vf,d=c,p=l.length):(d=Math.max(o,c),f=d>0?o>c?Da:Vf:null,p=f?f===Da?n.length:l.length:0);const y=f===Da&&/\b(transform|all)(,|$)/.test(i(`${Da}Property`).toString());return{type:f,timeout:d,propCount:p,hasTransform:y}}function h$(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,i)=>f$(r)+f$(t[i])))}function f$(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Tx(){return document.body.offsetHeight}function Die(t,e,r){const i=t[zh];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const zg=Symbol("_vod"),s8=Symbol("_vsh"),G1={beforeMount(t,{value:e},{transition:r}){t[zg]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Gf(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:i}){!e!=!r&&(i?e?(i.beforeEnter(t),Gf(t,!0),i.enter(t)):i.leave(t,()=>{Gf(t,!1)}):Gf(t,e))},beforeUnmount(t,{value:e}){Gf(t,e)}};function Gf(t,e){t.style.display=e?t[zg]:"none",t[s8]=!e}function Fie(){G1.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const n8=Symbol("");function $3(t){const e=jr();if(!e)return;const r=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(n=>qg(n,s))},i=()=>{const s=t(e.proxy);e.ce?qg(e.ce,s):Mx(e.subTree,s),r(s)};F1(()=>{Vh(i)}),vi(()=>{Xr(i,yi,{flush:"post"});const s=new MutationObserver(i);s.observe(e.subTree.el.parentNode,{childList:!0}),pu(()=>s.disconnect())})}function Mx(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Mx(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)qg(t.el,e);else if(t.type===Lt)t.children.forEach(r=>Mx(r,e));else if(t.type===wl){let{el:r,anchor:i}=t;for(;r&&(qg(r,e),r!==i);)r=r.nextSibling}}function qg(t,e){if(t.nodeType===1){const r=t.style;let i="";for(const s in e)r.setProperty(`--${s}`,e[s]),i+=`--${s}: ${e[s]};`;r[n8]=i}}const Uie=/(^|;)\s*display\s*:/;function jie(t,e,r){const i=t.style,s=Ye(r);let n=!1;if(r&&!s){if(e)if(Ye(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&N0(i,a,"")}else for(const o in e)r[o]==null&&N0(i,o,"");for(const o in r)o==="display"&&(n=!0),N0(i,o,r[o])}else if(s){if(e!==r){const o=i[n8];o&&(r+=";"+o),i.cssText=r,n=Uie.test(r)}}else e&&t.removeAttribute("style");zg in t&&(t[zg]=n?i.display:"",t[s8]&&(i.display="none"))}const d$=/\s*!important$/;function N0(t,e,r){if(Se(r))r.forEach(i=>N0(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=Bie(t,e);d$.test(r)?t.setProperty(ps(i),r.replace(d$,""),"important"):t[i]=r}}const p$=["Webkit","Moz","ms"],v_={};function Bie(t,e){const r=v_[e];if(r)return r;let i=Gt(e);if(i!=="filter"&&i in t)return v_[e]=i;i=Dl(i);for(let s=0;s<p$.length;s++){const n=p$[s]+i;if(n in t)return v_[e]=n}return e}const m$="http://www.w3.org/1999/xlink";function y$(t,e,r,i,s,n=sre(e)){i&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(m$,e.slice(6,e.length)):t.setAttributeNS(m$,e,r):r==null||n&&!WL(r)?t.removeAttribute(e):t.setAttribute(e,n?"":Ss(r)?String(r):r)}function g$(t,e,r,i,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Qk(r):r);return}const n=t.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=WL(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function fa(t,e,r,i){t.addEventListener(e,r,i)}function Vie(t,e,r,i){t.removeEventListener(e,r,i)}const v$=Symbol("_vei");function Gie(t,e,r,i,s=null){const n=t[v$]||(t[v$]={}),o=n[e];if(i&&o)o.value=i;else{const[a,l]=zie(e);if(i){const c=n[e]=Wie(i,s);fa(t,a,c,l)}else o&&(Vie(t,a,o,l),n[e]=void 0)}}const b$=/(?:Once|Passive|Capture)$/;function zie(t){let e;if(b$.test(t)){e={};let i;for(;i=t.match(b$);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ps(t.slice(2)),e]}let b_=0;const qie=Promise.resolve(),Hie=()=>b_||(qie.then(()=>b_=0),b_=Date.now());function Wie(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Fs(Yie(i,r.value),e,5,[i])};return r.value=t,r.attached=Hie(),r}function Yie(t,e){if(Se(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const _$=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Jie=(t,e,r,i,s,n)=>{const o=s==="svg";e==="class"?Die(t,i,o):e==="style"?jie(t,r,i):hu(e)?jS(e)||Gie(t,e,r,i,n):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Kie(t,e,i,o))?(g$(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&y$(t,e,i,o,n,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ye(i))?g$(t,Gt(e),i,n,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),y$(t,e,i,o))};function Kie(t,e,r,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&_$(e)&&ke(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return _$(e)&&Ye(r)?!1:e in t}const w$={};/*! #__NO_SIDE_EFFECTS__ */function O3(t,e,r){const i=st(t,e);w1(i)&&ot(i,e);class s extends Fm{constructor(o){super(i,o,r)}}return s.def=i,s}/*! #__NO_SIDE_EFFECTS__ */const o8=(t,e)=>O3(t,e,L3),Zie=typeof HTMLElement<"u"?HTMLElement:class{};class Fm extends Zie{constructor(e,r={},i=Cl){super(),this._def=e,this._props=r,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==Cl?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Fm){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Yn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:o}=i;let a;if(n&&!Se(n))for(const l in n){const c=n[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Ng(this._props[l])),(a||(a=Object.create(null)))[Gt(l)]=!0)}this._numberProps=a,s&&this._resolveProps(i),this.shadowRoot&&this._applyStyles(o),this._mount(i)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(i=>e(this._def=i,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const i in r)vt(this,i)||Object.defineProperty(this,i,{get:()=>$e(r[i])})}_resolveProps(e){const{props:r}=e,i=Se(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s]);for(const s of i.map(Gt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(n){this._setProp(s,n,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const r=this.hasAttribute(e);let i=r?this.getAttribute(e):w$;const s=Gt(e);r&&this._numberProps&&this._numberProps[s]&&(i=Ng(i)),this._setProp(s,i,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,r,i=!0,s=!1){if(r!==this._props[e]&&(r===w$?delete this._props[e]:(this._props[e]=r,e==="key"&&this._app&&(this._app._ceVNode.key=r)),s&&this._instance&&this._update(),i)){const n=this._ob;n&&n.disconnect(),r===!0?this.setAttribute(ps(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(ps(e),r+""):r||this.removeAttribute(ps(e)),n&&n.observe(this,{attributes:!0})}}_update(){Ah(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const r=Ke(this._def,ot(e,this._props));return this._instance||(r.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const s=(n,o)=>{this.dispatchEvent(new CustomEvent(n,w1(o[0])?ot({detail:o},o[0]):{detail:o}))};i.emit=(n,...o)=>{s(n,o),ps(n)!==n&&s(ps(n),o)},this._setParent()}),r}_applyStyles(e,r){if(!e)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const i=this._nonce;for(let s=e.length-1;s>=0;s--){const n=document.createElement("style");i&&n.setAttribute("nonce",i),n.textContent=e[s],this.shadowRoot.prepend(n)}}_parseSlots(){const e=this._slots={};let r;for(;r=this.firstChild;){const i=r.nodeType===1&&r.getAttribute("slot")||"default";(e[i]||(e[i]=[])).push(r),this.removeChild(r)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),r=this._instance.type.__scopeId;for(let i=0;i<e.length;i++){const s=e[i],n=s.getAttribute("name")||"default",o=this._slots[n],a=s.parentNode;if(o)for(const l of o){if(r&&l.nodeType===1){const c=r+"-s",f=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=f.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function I3(t){const e=jr(),r=e&&e.ce;return r||null}function a8(){const t=I3();return t&&t.shadowRoot}function l8(t="$style"){{const e=jr();if(!e)return nt;const r=e.type.__cssModules;if(!r)return nt;const i=r[t];return i||nt}}const c8=new WeakMap,u8=new WeakMap,Hg=Symbol("_moveCb"),x$=Symbol("_enterCb"),Xie=t=>(delete t.props.mode,t),Qie=Xie({name:"TransitionGroup",props:ot({},t8,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=jr(),i=L1();let s,n;return Af(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!ise(s[0].el,r.vnode.el,o))return;s.forEach(ese),s.forEach(tse);const a=s.filter(rse);Tx(),a.forEach(l=>{const c=l.el,f=c.style;no(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const d=c[Hg]=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",d),c[Hg]=null,za(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Ge(t),a=r8(o);let l=o.tag||Lt;if(s=[],n)for(let c=0;c<n.length;c++){const f=n[c];f.el&&f.el instanceof Element&&(s.push(f),Co(f,tu(f,a,i,r)),c8.set(f,f.el.getBoundingClientRect()))}n=e.default?Lm(e.default()):[];for(let c=0;c<n.length;c++){const f=n[c];f.key!=null&&Co(f,tu(f,a,i,r))}return Ke(l,null,n)}}}),z1=Qie;function ese(t){const e=t.el;e[Hg]&&e[Hg](),e[x$]&&e[x$]()}function tse(t){u8.set(t,t.el.getBoundingClientRect())}function rse(t){const e=c8.get(t),r=u8.get(t),i=e.left-r.left,s=e.top-r.top;if(i||s){const n=t.el.style;return n.transform=n.webkitTransform=`translate(${i}px,${s}px)`,n.transitionDuration="0s",t}}function ise(t,e,r){const i=t.cloneNode(),s=t[zh];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const n=e.nodeType===1?e:e.parentNode;n.appendChild(i);const{hasTransform:o}=i8(i);return n.removeChild(i),o}const Il=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Se(e)?r=>xh(e,r):e};function sse(t){t.target.composing=!0}function E$(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const on=Symbol("_assign"),Hp={created(t,{modifiers:{lazy:e,trim:r,number:i}},s){t[on]=Il(s);const n=i||s.props&&s.props.type==="number";fa(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),n&&(a=Cg(a)),t[on](a)}),r&&fa(t,"change",()=>{t.value=t.value.trim()}),e||(fa(t,"compositionstart",sse),fa(t,"compositionend",E$),fa(t,"change",E$))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:i,trim:s,number:n}},o){if(t[on]=Il(o),t.composing)return;const a=(n||t.type==="number")&&!/^0\d/.test(t.value)?Cg(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===r||s&&t.value.trim()===l)||(t.value=l))}},q1={deep:!0,created(t,e,r){t[on]=Il(r),fa(t,"change",()=>{const i=t._modelValue,s=qh(t),n=t.checked,o=t[on];if(Se(i)){const a=S1(i,s),l=a!==-1;if(n&&!l)o(i.concat(s));else if(!n&&l){const c=[...i];c.splice(a,1),o(c)}}else if(fu(i)){const a=new Set(i);n?a.add(s):a.delete(s),o(a)}else o(h8(t,n))})},mounted:S$,beforeUpdate(t,e,r){t[on]=Il(r),S$(t,e,r)}};function S$(t,{value:e,oldValue:r},i){t._modelValue=e;let s;if(Se(e))s=S1(e,i.props.value)>-1;else if(fu(e))s=e.has(i.props.value);else{if(e===r)return;s=Ol(e,h8(t,!0))}t.checked!==s&&(t.checked=s)}const H1={created(t,{value:e},r){t.checked=Ol(e,r.props.value),t[on]=Il(r),fa(t,"change",()=>{t[on](qh(t))})},beforeUpdate(t,{value:e,oldValue:r},i){t[on]=Il(i),e!==r&&(t.checked=Ol(e,i.props.value))}},C3={deep:!0,created(t,{value:e,modifiers:{number:r}},i){const s=fu(e);fa(t,"change",()=>{const n=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?Cg(qh(o)):qh(o));t[on](t.multiple?s?new Set(n):n:n[0]),t._assigning=!0,Yn(()=>{t._assigning=!1})}),t[on]=Il(i)},mounted(t,{value:e}){A$(t,e)},beforeUpdate(t,e,r){t[on]=Il(r)},updated(t,{value:e}){t._assigning||A$(t,e)}};function A$(t,e){const r=t.multiple,i=Se(e);if(!(r&&!i&&!fu(e))){for(let s=0,n=t.options.length;s<n;s++){const o=t.options[s],a=qh(o);if(r)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=S1(e,a)>-1}else o.selected=e.has(a);else if(Ol(qh(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function qh(t){return"_value"in t?t._value:t.value}function h8(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const N3={created(t,e,r){$y(t,e,r,null,"created")},mounted(t,e,r){$y(t,e,r,null,"mounted")},beforeUpdate(t,e,r,i){$y(t,e,r,i,"beforeUpdate")},updated(t,e,r,i){$y(t,e,r,i,"updated")}};function f8(t,e){switch(t){case"SELECT":return C3;case"TEXTAREA":return Hp;default:switch(e){case"checkbox":return q1;case"radio":return H1;default:return Hp}}}function $y(t,e,r,i,s){const o=f8(t.tagName,r.props&&r.props.type)[s];o&&o(t,e,r,i)}function nse(){Hp.getSSRProps=({value:t})=>({value:t}),H1.getSSRProps=({value:t},e)=>{if(e.props&&Ol(e.props.value,t))return{checked:!0}},q1.getSSRProps=({value:t},e)=>{if(Se(t)){if(e.props&&S1(t,e.props.value)>-1)return{checked:!0}}else if(fu(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},N3.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=f8(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const ose=["ctrl","shift","alt","meta"],ase={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ose.some(r=>t[`${r}Key`]&&!e.includes(r))},Um=(t,e)=>{const r=t._withMods||(t._withMods={}),i=e.join(".");return r[i]||(r[i]=(s,...n)=>{for(let o=0;o<e.length;o++){const a=ase[e[o]];if(a&&a(s,e))return}return t(s,...n)})},lse={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},P3=(t,e)=>{const r=t._withKeys||(t._withKeys={}),i=e.join(".");return r[i]||(r[i]=s=>{if(!("key"in s))return;const n=ps(s.key);if(e.some(o=>o===n||lse[o]===n))return t(s)})},d8=ot({patchProp:Jie},Pie);let Zd,T$=!1;function p8(){return Zd||(Zd=g3(d8))}function m8(){return Zd=T$?Zd:v3(d8),T$=!0,Zd}const Ah=(...t)=>{p8().render(...t)},y8=(...t)=>{m8().hydrate(...t)},Cl=(...t)=>{const e=p8().createApp(...t),{mount:r}=e;return e.mount=i=>{const s=v8(i);if(!s)return;const n=e._component;!ke(n)&&!n.render&&!n.template&&(n.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,g8(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},L3=(...t)=>{const e=m8().createApp(...t),{mount:r}=e;return e.mount=i=>{const s=v8(i);if(s)return r(s,!0,g8(s))},e};function g8(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function v8(t){return Ye(t)?document.querySelector(t):t}let M$=!1;const b8=()=>{M$||(M$=!0,nse(),Fie())},cse=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:e3,BaseTransitionPropsValidators:R1,Comment:$r,DeprecationTypes:Xk,EffectScope:A1,ErrorCodes:SR,ErrorTypeStrings:Hk,Fragment:Lt,KeepAlive:zR,ReactiveEffect:Bh,Static:wl,Suspense:Ok,Teleport:QS,Text:wo,TrackOpTypes:bR,Transition:V1,TransitionGroup:z1,TriggerOpTypes:_R,VueElement:Fm,assertNumber:ER,callWithAsyncErrorHandling:Fs,callWithErrorHandling:du,camelize:Gt,capitalize:Dl,cloneVNode:qn,compatUtils:Zk,computed:et,createApp:Cl,createBlock:Vt,createCommentVNode:Wt,createElementBlock:xe,createElementVNode:le,createHydrationRenderer:v3,createPropsRestProxy:ak,createRenderer:g3,createSSRApp:L3,createSlots:WR,createStaticVNode:kk,createTextVNode:xo,createVNode:Ke,customRef:JS,defineAsyncComponent:r3,defineComponent:st,defineCustomElement:O3,defineEmits:KR,defineExpose:ZR,defineModel:ek,defineOptions:XR,defineProps:JR,defineSSRCustomElement:o8,defineSlots:QR,devtools:Wk,effect:tR,effectScope:Nm,getCurrentInstance:jr,getCurrentScope:T1,getCurrentWatcher:wR,getTransitionRawChildren:Lm,guardReactiveProps:E3,h:sn,handleError:Bl,hasInjectionContext:m3,hydrate:y8,hydrateOnIdle:jR,hydrateOnInteraction:GR,hydrateOnMediaQuery:VR,hydrateOnVisible:BR,initCustomFormatter:Gk,initDirectivesForSSR:b8,inject:Ur,isMemoSame:T3,isProxy:Pm,isReactive:ks,isReadonly:wa,isRef:dt,isRuntimeOnly:jk,isShallow:vs,isVNode:zn,markRaw:_r,mergeDefaults:nk,mergeModels:ok,mergeProps:B1,nextTick:Yn,normalizeClass:lr,normalizeProps:HL,normalizeStyle:Fl,onActivated:i3,onBeforeMount:D1,onBeforeUnmount:Jn,onBeforeUpdate:F1,onDeactivated:s3,onErrorCaptured:l3,onMounted:vi,onRenderTracked:a3,onRenderTriggered:o3,onScopeDispose:zS,onServerPrefetch:n3,onUnmounted:pu,onUpdated:Af,onWatcherCleanup:ZS,openBlock:fe,popScopeId:IR,provide:p3,proxyRefs:N1,pushScopeId:OR,queuePostFlushCb:Vh,reactive:li,readonly:I1,ref:X,registerRuntimeCompiler:A3,render:Ah,renderList:Vl,renderSlot:In,resolveComponent:Tr,resolveDirective:Ot,resolveDynamicComponent:u3,resolveFilter:Kk,resolveTransitionHooks:tu,setBlockTracking:Bg,setDevtoolsHook:Yk,setTransitionHooks:Co,shallowReactive:YS,shallowReadonly:dR,shallowRef:Sf,ssrContextKey:_3,ssrUtils:Jk,stop:rR,toDisplayString:Dt,toHandlerKey:Lc,toHandlers:YR,toRaw:Ge,toRef:gR,toRefs:KS,toValue:yR,transformVNodeArgs:Lk,triggerRef:mR,unref:$e,useAttrs:ik,useCssModule:l8,useCssVars:$3,useHost:I3,useId:UR,useModel:Tk,useSSRContext:w3,useShadowRoot:a8,useSlots:rk,useTemplateRef:Dg,useTransitionState:L1,vModelCheckbox:q1,vModelDynamic:N3,vModelRadio:H1,vModelSelect:C3,vModelText:Hp,vShow:G1,version:M3,warn:qk,watch:Xr,watchEffect:Ek,watchPostEffect:Sk,watchSyncEffect:x3,withAsyncContext:lk,withCtx:Pr,withDefaults:tk,withDirectives:$t,withKeys:P3,withMemo:zk,withModifiers:Um,withScopeId:CR},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Wp=Symbol(""),Xd=Symbol(""),R3=Symbol(""),Wg=Symbol(""),_8=Symbol(""),su=Symbol(""),w8=Symbol(""),x8=Symbol(""),k3=Symbol(""),D3=Symbol(""),jm=Symbol(""),F3=Symbol(""),E8=Symbol(""),U3=Symbol(""),j3=Symbol(""),B3=Symbol(""),V3=Symbol(""),G3=Symbol(""),z3=Symbol(""),S8=Symbol(""),A8=Symbol(""),W1=Symbol(""),Yg=Symbol(""),q3=Symbol(""),H3=Symbol(""),Yp=Symbol(""),Bm=Symbol(""),W3=Symbol(""),$x=Symbol(""),use=Symbol(""),Ox=Symbol(""),Jg=Symbol(""),hse=Symbol(""),fse=Symbol(""),Y3=Symbol(""),dse=Symbol(""),pse=Symbol(""),J3=Symbol(""),T8=Symbol(""),Hh={[Wp]:"Fragment",[Xd]:"Teleport",[R3]:"Suspense",[Wg]:"KeepAlive",[_8]:"BaseTransition",[su]:"openBlock",[w8]:"createBlock",[x8]:"createElementBlock",[k3]:"createVNode",[D3]:"createElementVNode",[jm]:"createCommentVNode",[F3]:"createTextVNode",[E8]:"createStaticVNode",[U3]:"resolveComponent",[j3]:"resolveDynamicComponent",[B3]:"resolveDirective",[V3]:"resolveFilter",[G3]:"withDirectives",[z3]:"renderList",[S8]:"renderSlot",[A8]:"createSlots",[W1]:"toDisplayString",[Yg]:"mergeProps",[q3]:"normalizeClass",[H3]:"normalizeStyle",[Yp]:"normalizeProps",[Bm]:"guardReactiveProps",[W3]:"toHandlers",[$x]:"camelize",[use]:"capitalize",[Ox]:"toHandlerKey",[Jg]:"setBlockTracking",[hse]:"pushScopeId",[fse]:"popScopeId",[Y3]:"withCtx",[dse]:"unref",[pse]:"isRef",[J3]:"withMemo",[T8]:"isMemoSame"};function mse(t){Object.getOwnPropertySymbols(t).forEach(e=>{Hh[e]=t[e]})}const Vs={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function yse(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Vs}}function Jp(t,e,r,i,s,n,o,a=!1,l=!1,c=!1,f=Vs){return t&&(a?(t.helper(su),t.helper(Jh(t.inSSR,c))):t.helper(Yh(t.inSSR,c)),o&&t.helper(G3)),{type:13,tag:e,props:r,children:i,patchFlag:s,dynamicProps:n,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:f}}function Dc(t,e=Vs){return{type:17,loc:e,elements:t}}function nn(t,e=Vs){return{type:15,loc:e,properties:t}}function Cr(t,e){return{type:16,loc:Vs,key:Ye(t)?Qe(t,!0):t,value:e}}function Qe(t,e=!1,r=Vs,i=0){return{type:4,loc:r,content:t,isStatic:e,constType:e?3:i}}function Fn(t,e=Vs){return{type:8,loc:e,children:t}}function Yr(t,e=[],r=Vs){return{type:14,loc:r,callee:t,arguments:e}}function Wh(t,e=void 0,r=!1,i=!1,s=Vs){return{type:18,params:t,returns:e,newline:r,isSlot:i,loc:s}}function Ix(t,e,r,i=!0){return{type:19,test:t,consequent:e,alternate:r,newline:i,loc:Vs}}function gse(t,e,r=!1,i=!1){return{type:20,index:t,value:e,needPauseTracking:r,inVOnce:i,needArraySpread:!1,loc:Vs}}function vse(t){return{type:21,body:t,loc:Vs}}function Yh(t,e){return t||e?k3:D3}function Jh(t,e){return t||e?w8:x8}function K3(t,{helper:e,removeHelper:r,inSSR:i}){t.isBlock||(t.isBlock=!0,r(Yh(i,t.isComponent)),e(su),e(Jh(i,t.isComponent)))}const $$=new Uint8Array([123,123]),O$=new Uint8Array([125,125]);function I$(t){return t>=97&&t<=122||t>=65&&t<=90}function $s(t){return t===32||t===10||t===9||t===12||t===13}function Fa(t){return t===47||t===62||$s(t)}function Kg(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}const _i={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let bse=class{constructor(e,r){this.stack=e,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=$$,this.delimiterClose=O$,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=$$,this.delimiterClose=O$}getPos(e){let r=1,i=e+1;for(let s=this.newlines.length-1;s>=0;s--){const n=this.newlines[s];if(e>n){r=s+2,i=e-n;break}}return{column:i,line:r,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?Fa(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||$s(e)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const i=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=i}this.sectionStart=r+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===_i.TitleEnd||this.currentSequence===_i.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===_i.Cdata[this.sequenceIndex]?++this.sequenceIndex===_i.Cdata.length&&(this.state=28,this.currentSequence=_i.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===_i.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,r){this.enterRCDATA(e,r),this.state=31}enterRCDATA(e,r){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=r}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):I$(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Fa(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Fa(e)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(Kg("</"+r),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){$s(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=I$(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||$s(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):$s(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):$s(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Fa(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Fa(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Fa(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Fa(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Fa(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):$s(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):$s(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,r){(e===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){$s(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=_i.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===_i.ScriptEnd[3]?this.startSpecial(_i.ScriptEnd,4):e===_i.StyleEnd[3]?this.startSpecial(_i.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===_i.TitleEnd[3]?this.startSpecial(_i.TitleEnd,4):e===_i.TextareaEnd[3]?this.startSpecial(_i.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===_i.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,r){}};function C$(t,{compatConfig:e}){const r=e&&e[t];return t==="MODE"?r||3:r}function Fc(t,e){const r=C$("MODE",e),i=C$(t,e);return r===3?i===!0:i!==!1}function Kp(t,e,r,...i){return Fc(t,e)}function Z3(t){throw t}function M8(t){}function tr(t,e,r,i){const s=`https://vuejs.org/error-reference/#compiler-${t}`,n=new SyntaxError(String(s));return n.code=t,n.loc=e,n}const gs=t=>t.type===4&&t.isStatic;function $8(t){switch(t){case"Teleport":case"teleport":return Xd;case"Suspense":case"suspense":return R3;case"KeepAlive":case"keep-alive":return Wg;case"BaseTransition":case"base-transition":return _8}}const _se=/^\d|[^\$\w\xA0-\uFFFF]/,X3=t=>!_se.test(t),wse=/[A-Za-z_$\xA0-\uFFFF]/,xse=/[\.\?\w$\xA0-\uFFFF]/,Ese=/\s+[.[]\s*|\s*[.[]\s+/g,O8=t=>t.type===4?t.content:t.loc.source,Sse=t=>{const e=O8(t).trim().replace(Ese,a=>a.trim());let r=0,i=[],s=0,n=0,o=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(r){case 0:if(l==="[")i.push(r),r=1,s++;else if(l==="(")i.push(r),r=2,n++;else if(!(a===0?wse:xse).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(i.push(r),r=3,o=l):l==="["?s++:l==="]"&&(--s||(r=i.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")i.push(r),r=3,o=l;else if(l==="(")n++;else if(l===")"){if(a===e.length-1)return!1;--n||(r=i.pop())}break;case 3:l===o&&(r=i.pop(),o=null);break}}return!s&&!n},I8=Sse,Ase=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Tse=t=>Ase.test(O8(t)),Mse=Tse;function Qs(t,e,r=!1){for(let i=0;i<t.props.length;i++){const s=t.props[i];if(s.type===7&&(r||s.exp)&&(Ye(e)?s.name===e:e.test(s.name)))return s}}function Y1(t,e,r=!1,i=!1){for(let s=0;s<t.props.length;s++){const n=t.props[s];if(n.type===6){if(r)continue;if(n.name===e&&(n.value||i))return n}else if(n.name==="bind"&&(n.exp||i)&&Mc(n.arg,e))return n}}function Mc(t,e){return!!(t&&gs(t)&&t.content===e)}function $se(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function __(t){return t.type===5||t.type===2}function Ose(t){return t.type===7&&t.name==="slot"}function Zg(t){return t.type===1&&t.tagType===3}function Xg(t){return t.type===1&&t.tagType===2}const Ise=new Set([Yp,Bm]);function C8(t,e=[]){if(t&&!Ye(t)&&t.type===14){const r=t.callee;if(!Ye(r)&&Ise.has(r))return C8(t.arguments[0],e.concat(t))}return[t,e]}function Qg(t,e,r){let i,s=t.type===13?t.props:t.arguments[2],n=[],o;if(s&&!Ye(s)&&s.type===14){const a=C8(s);s=a[0],n=a[1],o=n[n.length-1]}if(s==null||Ye(s))i=nn([e]);else if(s.type===14){const a=s.arguments[0];!Ye(a)&&a.type===15?N$(e,a)||a.properties.unshift(e):s.callee===W3?i=Yr(r.helper(Yg),[nn([e]),s]):s.arguments.unshift(nn([e])),!i&&(i=s)}else s.type===15?(N$(e,s)||s.properties.unshift(e),i=s):(i=Yr(r.helper(Yg),[nn([e]),s]),o&&o.callee===Bm&&(o=n[n.length-2]));t.type===13?o?o.arguments[0]=i:t.props=i:o?o.arguments[0]=i:t.arguments[2]=i}function N$(t,e){let r=!1;if(t.key.type===4){const i=t.key.content;r=e.properties.some(s=>s.key.type===4&&s.key.content===i)}return r}function Zp(t,e){return`_${e}_${t.replace(/[^\w]/g,(r,i)=>r==="-"?"_":t.charCodeAt(i).toString())}`}function Cse(t){return t.type===14&&t.callee===J3?t.arguments[1].returns:t}const Nse=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,N8={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:xd,isPreTag:xd,isIgnoreNewlineTag:xd,isCustomElement:xd,onError:Z3,onWarn:M8,comments:!1,prefixIdentifiers:!1};let bt=N8,Xp=null,ya="",Ti=null,ct=null,is="",Xo=-1,bc=-1,Q3=0,rl=!1,Cx=null;const Xt=[],br=new bse(Xt,{onerr:Vo,ontext(t,e){Oy(hi(t,e),t,e)},ontextentity(t,e,r){Oy(t,e,r)},oninterpolation(t,e){if(rl)return Oy(hi(t,e),t,e);let r=t+br.delimiterOpen.length,i=e-br.delimiterClose.length;for(;$s(ya.charCodeAt(r));)r++;for(;$s(ya.charCodeAt(i-1));)i--;let s=hi(r,i);s.includes("&")&&(s=bt.decodeEntities(s,!1)),Nx({type:5,content:L0(s,!1,Er(r,i)),loc:Er(t,e)})},onopentagname(t,e){const r=hi(t,e);Ti={type:1,tag:r,ns:bt.getNamespace(r,Xt[0],bt.ns),tagType:0,props:[],children:[],loc:Er(t-1,e),codegenNode:void 0}},onopentagend(t){L$(t)},onclosetag(t,e){const r=hi(t,e);if(!bt.isVoidTag(r)){let i=!1;for(let s=0;s<Xt.length;s++)if(Xt[s].tag.toLowerCase()===r.toLowerCase()){i=!0,s>0&&Vo(24,Xt[0].loc.start.offset);for(let o=0;o<=s;o++){const a=Xt.shift();P0(a,e,o<s)}break}i||Vo(23,P8(t,60))}},onselfclosingtag(t){const e=Ti.tag;Ti.isSelfClosing=!0,L$(t),Xt[0]&&Xt[0].tag===e&&P0(Xt.shift(),t)},onattribname(t,e){ct={type:6,name:hi(t,e),nameLoc:Er(t,e),value:void 0,loc:Er(t)}},ondirname(t,e){const r=hi(t,e),i=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!rl&&i===""&&Vo(26,t),rl||i==="")ct={type:6,name:r,nameLoc:Er(t,e),value:void 0,loc:Er(t)};else if(ct={type:7,name:i,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[Qe("prop")]:[],loc:Er(t)},i==="pre"){rl=br.inVPre=!0,Cx=Ti;const s=Ti.props;for(let n=0;n<s.length;n++)s[n].type===7&&(s[n]=Gse(s[n]))}},ondirarg(t,e){if(t===e)return;const r=hi(t,e);if(rl)ct.name+=r,$c(ct.nameLoc,e);else{const i=r[0]!=="[";ct.arg=L0(i?r:r.slice(1,-1),i,Er(t,e),i?3:0)}},ondirmodifier(t,e){const r=hi(t,e);if(rl)ct.name+="."+r,$c(ct.nameLoc,e);else if(ct.name==="slot"){const i=ct.arg;i&&(i.content+="."+r,$c(i.loc,e))}else{const i=Qe(r,!0,Er(t,e));ct.modifiers.push(i)}},onattribdata(t,e){is+=hi(t,e),Xo<0&&(Xo=t),bc=e},onattribentity(t,e,r){is+=t,Xo<0&&(Xo=e),bc=r},onattribnameend(t){const e=ct.loc.start.offset,r=hi(e,t);ct.type===7&&(ct.rawName=r),Ti.props.some(i=>(i.type===7?i.rawName:i.name)===r)&&Vo(2,e)},onattribend(t,e){if(Ti&&ct){if($c(ct.loc,e),t!==0)if(is.includes("&")&&(is=bt.decodeEntities(is,!0)),ct.type===6)ct.name==="class"&&(is=R8(is).trim()),t===1&&!is&&Vo(13,e),ct.value={type:2,content:is,loc:t===1?Er(Xo,bc):Er(Xo-1,bc+1)},br.inSFCRoot&&Ti.tag==="template"&&ct.name==="lang"&&is&&is!=="html"&&br.enterRCDATA(Kg("</template"),0);else{let r=0;ct.exp=L0(is,!1,Er(Xo,bc),0,r),ct.name==="for"&&(ct.forParseResult=Lse(ct.exp));let i=-1;ct.name==="bind"&&(i=ct.modifiers.findIndex(s=>s.content==="sync"))>-1&&Kp("COMPILER_V_BIND_SYNC",bt,ct.loc,ct.rawName)&&(ct.name="model",ct.modifiers.splice(i,1))}(ct.type!==7||ct.name!=="pre")&&Ti.props.push(ct)}is="",Xo=bc=-1},oncomment(t,e){bt.comments&&Nx({type:3,content:hi(t,e),loc:Er(t-4,e+3)})},onend(){const t=ya.length;for(let e=0;e<Xt.length;e++)P0(Xt[e],t-1),Vo(24,Xt[e].loc.start.offset)},oncdata(t,e){Xt[0].ns!==0?Oy(hi(t,e),t,e):Vo(1,t-9)},onprocessinginstruction(t){(Xt[0]?Xt[0].ns:bt.ns)===0&&Vo(21,t-1)}}),P$=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Pse=/^\(|\)$/g;function Lse(t){const e=t.loc,r=t.content,i=r.match(Nse);if(!i)return;const[,s,n]=i,o=(d,p,y=!1)=>{const v=e.start.offset+p,b=v+d.length;return L0(d,!1,Er(v,b),0,y?1:0)},a={source:o(n.trim(),r.indexOf(n,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=s.trim().replace(Pse,"").trim();const c=s.indexOf(l),f=l.match(P$);if(f){l=l.replace(P$,"").trim();const d=f[1].trim();let p;if(d&&(p=r.indexOf(d,c+l.length),a.key=o(d,p,!0)),f[2]){const y=f[2].trim();y&&(a.index=o(y,r.indexOf(y,a.key?p+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function hi(t,e){return ya.slice(t,e)}function L$(t){br.inSFCRoot&&(Ti.innerLoc=Er(t+1,t+1)),Nx(Ti);const{tag:e,ns:r}=Ti;r===0&&bt.isPreTag(e)&&Q3++,bt.isVoidTag(e)?P0(Ti,t):(Xt.unshift(Ti),(r===1||r===2)&&(br.inXML=!0)),Ti=null}function Oy(t,e,r){{const n=Xt[0]&&Xt[0].tag;n!=="script"&&n!=="style"&&t.includes("&")&&(t=bt.decodeEntities(t,!1))}const i=Xt[0]||Xp,s=i.children[i.children.length-1];s&&s.type===2?(s.content+=t,$c(s.loc,r)):i.children.push({type:2,content:t,loc:Er(e,r)})}function P0(t,e,r=!1){r?$c(t.loc,P8(e,60)):$c(t.loc,Rse(e,62)+1),br.inSFCRoot&&(t.children.length?t.innerLoc.end=ot({},t.children[t.children.length-1].loc.end):t.innerLoc.end=ot({},t.innerLoc.start),t.innerLoc.source=hi(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:i,ns:s,children:n}=t;if(rl||(i==="slot"?t.tagType=2:R$(t)?t.tagType=3:Dse(t)&&(t.tagType=1)),br.inRCDATA||(t.children=L8(n)),s===0&&bt.isIgnoreNewlineTag(i)){const o=n[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}s===0&&bt.isPreTag(i)&&Q3--,Cx===t&&(rl=br.inVPre=!1,Cx=null),br.inXML&&(Xt[0]?Xt[0].ns:bt.ns)===0&&(br.inXML=!1);{const o=t.props;if(!br.inSFCRoot&&Fc("COMPILER_NATIVE_TEMPLATE",bt)&&t.tag==="template"&&!R$(t)){const l=Xt[0]||Xp,c=l.children.indexOf(t);l.children.splice(c,1,...t.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&Kp("COMPILER_INLINE_TEMPLATE",bt,a.loc)&&t.children.length&&(a.value={type:2,content:hi(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function Rse(t,e){let r=t;for(;ya.charCodeAt(r)!==e&&r<ya.length-1;)r++;return r}function P8(t,e){let r=t;for(;ya.charCodeAt(r)!==e&&r>=0;)r--;return r}const kse=new Set(["if","else","else-if","for","slot"]);function R$({tag:t,props:e}){if(t==="template"){for(let r=0;r<e.length;r++)if(e[r].type===7&&kse.has(e[r].name))return!0}return!1}function Dse({tag:t,props:e}){if(bt.isCustomElement(t))return!1;if(t==="component"||Fse(t.charCodeAt(0))||$8(t)||bt.isBuiltInComponent&&bt.isBuiltInComponent(t)||bt.isNativeTag&&!bt.isNativeTag(t))return!0;for(let r=0;r<e.length;r++){const i=e[r];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(Kp("COMPILER_IS_ON_ELEMENT",bt,i.loc))return!0}}else if(i.name==="bind"&&Mc(i.arg,"is")&&Kp("COMPILER_IS_ON_ELEMENT",bt,i.loc))return!0}return!1}function Fse(t){return t>64&&t<91}const Use=/\r\n/g;function L8(t,e){const r=bt.whitespace!=="preserve";let i=!1;for(let s=0;s<t.length;s++){const n=t[s];if(n.type===2)if(Q3)n.content=n.content.replace(Use,`
`);else if(jse(n.content)){const o=t[s-1]&&t[s-1].type,a=t[s+1]&&t[s+1].type;!o||!a||r&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&Bse(n.content)))?(i=!0,t[s]=null):n.content=" "}else r&&(n.content=R8(n.content))}return i?t.filter(Boolean):t}function jse(t){for(let e=0;e<t.length;e++)if(!$s(t.charCodeAt(e)))return!1;return!0}function Bse(t){for(let e=0;e<t.length;e++){const r=t.charCodeAt(e);if(r===10||r===13)return!0}return!1}function R8(t){let e="",r=!1;for(let i=0;i<t.length;i++)$s(t.charCodeAt(i))?r||(e+=" ",r=!0):(e+=t[i],r=!1);return e}function Nx(t){(Xt[0]||Xp).children.push(t)}function Er(t,e){return{start:br.getPos(t),end:e==null?e:br.getPos(e),source:e==null?e:hi(t,e)}}function Vse(t){return Er(t.start.offset,t.end.offset)}function $c(t,e){t.end=br.getPos(e),t.source=hi(t.start.offset,e)}function Gse(t){const e={type:6,name:t.rawName,nameLoc:Er(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const r=t.exp.loc;r.end.offset<t.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),e.value={type:2,content:t.exp.content,loc:r}}return e}function L0(t,e=!1,r,i=0,s=0){return Qe(t,e,r,i)}function Vo(t,e,r){bt.onError(tr(t,Er(e,e)))}function zse(){br.reset(),Ti=null,ct=null,is="",Xo=-1,bc=-1,Xt.length=0}function qse(t,e){if(zse(),ya=t,bt=ot({},N8),e){let s;for(s in e)e[s]!=null&&(bt[s]=e[s])}br.mode=bt.parseMode==="html"?1:bt.parseMode==="sfc"?2:0,br.inXML=bt.ns===1||bt.ns===2;const r=e&&e.delimiters;r&&(br.delimiterOpen=Kg(r[0]),br.delimiterClose=Kg(r[1]));const i=Xp=yse([],t);return br.parse(ya),i.loc=Er(0,t.length),i.children=L8(i.children),Xp=null,i}function Hse(t,e){R0(t,void 0,e,k8(t,t.children[0]))}function k8(t,e){const{children:r}=t;return r.length===1&&e.type===1&&!Xg(e)}function R0(t,e,r,i=!1,s=!1){const{children:n}=t,o=[];for(let f=0;f<n.length;f++){const d=n[f];if(d.type===1&&d.tagType===0){const p=i?0:Ps(d,r);if(p>0){if(p>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const v=y.patchFlag;if((v===void 0||v===512||v===1)&&F8(d,r)>=2){const b=U8(d);b&&(y.props=r.hoist(b))}y.dynamicProps&&(y.dynamicProps=r.hoist(y.dynamicProps))}}}else if(d.type===12&&(i?0:Ps(d,r))>=2){o.push(d);continue}if(d.type===1){const p=d.tagType===1;p&&r.scopes.vSlot++,R0(d,t,r,!1,s),p&&r.scopes.vSlot--}else if(d.type===11)R0(d,t,r,d.children.length===1,!0);else if(d.type===9)for(let p=0;p<d.branches.length;p++)R0(d.branches[p],t,r,d.branches[p].children.length===1,s)}let a=!1;if(o.length===n.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&Se(t.codegenNode.children))t.codegenNode.children=l(Dc(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Se(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=c(t.codegenNode,"default");f&&(f.returns=l(Dc(f.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Se(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=Qs(t,"slot",!0),d=f&&f.arg&&c(e.codegenNode,f.arg);d&&(d.returns=l(Dc(d.returns)),a=!0)}}if(!a)for(const f of o)f.codegenNode=r.cache(f.codegenNode);function l(f){const d=r.cache(f);return s&&r.hmr&&(d.needArraySpread=!0),d}function c(f,d){if(f.children&&!Se(f.children)&&f.children.type===15){const p=f.children.properties.find(y=>y.key===d||y.key.content===d);return p&&p.value}}o.length&&r.transformHoist&&r.transformHoist(n,r,t)}function Ps(t,e){const{constantCache:r}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const i=r.get(t);if(i!==void 0)return i;const s=t.codegenNode;if(s.type!==13||s.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(s.patchFlag===void 0){let o=3;const a=F8(t,e);if(a===0)return r.set(t,0),0;a<o&&(o=a);for(let l=0;l<t.children.length;l++){const c=Ps(t.children[l],e);if(c===0)return r.set(t,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<t.props.length;l++){const c=t.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const f=Ps(c.exp,e);if(f===0)return r.set(t,0),0;f<o&&(o=f)}}if(s.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return r.set(t,0),0;e.removeHelper(su),e.removeHelper(Jh(e.inSSR,s.isComponent)),s.isBlock=!1,e.helper(Yh(e.inSSR,s.isComponent))}return r.set(t,o),o}else return r.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Ps(t.content,e);case 4:return t.constType;case 8:let n=3;for(let o=0;o<t.children.length;o++){const a=t.children[o];if(Ye(a)||Ss(a))continue;const l=Ps(a,e);if(l===0)return 0;l<n&&(n=l)}return n;case 20:return 2;default:return 0}}const Wse=new Set([q3,H3,Yp,Bm]);function D8(t,e){if(t.type===14&&!Ye(t.callee)&&Wse.has(t.callee)){const r=t.arguments[0];if(r.type===4)return Ps(r,e);if(r.type===14)return D8(r,e)}return 0}function F8(t,e){let r=3;const i=U8(t);if(i&&i.type===15){const{properties:s}=i;for(let n=0;n<s.length;n++){const{key:o,value:a}=s[n],l=Ps(o,e);if(l===0)return l;l<r&&(r=l);let c;if(a.type===4?c=Ps(a,e):a.type===14?c=D8(a,e):c=0,c===0)return c;c<r&&(r=c)}}return r}function U8(t){const e=t.codegenNode;if(e.type===13)return e.props}function Yse(t,{filename:e="",prefixIdentifiers:r=!1,hoistStatic:i=!1,hmr:s=!1,cacheHandlers:n=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=yi,isCustomElement:f=yi,expressionPlugins:d=[],scopeId:p=null,slotted:y=!0,ssr:v=!1,inSSR:b=!1,ssrCssVars:S="",bindingMetadata:E=nt,inline:T=!1,isTS:w=!1,onError:_=Z3,onWarn:M=M8,compatConfig:$}){const C=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),P={filename:e,selfName:C&&Dl(Gt(C[1])),prefixIdentifiers:r,hoistStatic:i,hmr:s,cacheHandlers:n,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:f,expressionPlugins:d,scopeId:p,slotted:y,ssr:v,inSSR:b,ssrCssVars:S,bindingMetadata:E,inline:T,isTS:w,onError:_,onWarn:M,compatConfig:$,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(N){const F=P.helpers.get(N)||0;return P.helpers.set(N,F+1),N},removeHelper(N){const F=P.helpers.get(N);if(F){const q=F-1;q?P.helpers.set(N,q):P.helpers.delete(N)}},helperString(N){return`_${Hh[P.helper(N)]}`},replaceNode(N){P.parent.children[P.childIndex]=P.currentNode=N},removeNode(N){const F=P.parent.children,q=N?F.indexOf(N):P.currentNode?P.childIndex:-1;!N||N===P.currentNode?(P.currentNode=null,P.onNodeRemoved()):P.childIndex>q&&(P.childIndex--,P.onNodeRemoved()),P.parent.children.splice(q,1)},onNodeRemoved:yi,addIdentifiers(N){},removeIdentifiers(N){},hoist(N){Ye(N)&&(N=Qe(N)),P.hoists.push(N);const F=Qe(`_hoisted_${P.hoists.length}`,!1,N.loc,2);return F.hoisted=N,F},cache(N,F=!1,q=!1){const U=gse(P.cached.length,N,F,q);return P.cached.push(U),U}};return P.filters=new Set,P}function Jse(t,e){const r=Yse(t,e);J1(t,r),e.hoistStatic&&Hse(t,r),e.ssr||Kse(t,r),t.helpers=new Set([...r.helpers.keys()]),t.components=[...r.components],t.directives=[...r.directives],t.imports=r.imports,t.hoists=r.hoists,t.temps=r.temps,t.cached=r.cached,t.transformed=!0,t.filters=[...r.filters]}function Kse(t,e){const{helper:r}=e,{children:i}=t;if(i.length===1){const s=i[0];if(k8(t,s)&&s.codegenNode){const n=s.codegenNode;n.type===13&&K3(n,e),t.codegenNode=n}else t.codegenNode=s}else if(i.length>1){let s=64;t.codegenNode=Jp(e,r(Wp),void 0,t.children,s,void 0,void 0,!0,void 0,!1)}}function Zse(t,e){let r=0;const i=()=>{r--};for(;r<t.children.length;r++){const s=t.children[r];Ye(s)||(e.grandParent=e.parent,e.parent=t,e.childIndex=r,e.onNodeRemoved=i,J1(s,e))}}function J1(t,e){e.currentNode=t;const{nodeTransforms:r}=e,i=[];for(let n=0;n<r.length;n++){const o=r[n](t,e);if(o&&(Se(o)?i.push(...o):i.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(jm);break;case 5:e.ssr||e.helper(W1);break;case 9:for(let n=0;n<t.branches.length;n++)J1(t.branches[n],e);break;case 10:case 11:case 1:case 0:Zse(t,e);break}e.currentNode=t;let s=i.length;for(;s--;)i[s]()}function j8(t,e){const r=Ye(t)?i=>i===t:i=>t.test(i);return(i,s)=>{if(i.type===1){const{props:n}=i;if(i.tagType===3&&n.some(Ose))return;const o=[];for(let a=0;a<n.length;a++){const l=n[a];if(l.type===7&&r(l.name)){n.splice(a,1),a--;const c=e(i,l,s);c&&o.push(c)}}return o}}}const K1="/*@__PURE__*/",B8=t=>`${Hh[t]}: _${Hh[t]}`;function Xse(t,{mode:e="function",prefixIdentifiers:r=e==="module",sourceMap:i=!1,filename:s="template.vue.html",scopeId:n=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:f=!1,isTS:d=!1,inSSR:p=!1}){const y={mode:e,prefixIdentifiers:r,sourceMap:i,filename:s,scopeId:n,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:f,isTS:d,inSSR:p,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${Hh[b]}`},push(b,S=-2,E){y.code+=b},indent(){v(++y.indentLevel)},deindent(b=!1){b?--y.indentLevel:v(--y.indentLevel)},newline(){v(y.indentLevel)}};function v(b){y.push(`
`+"  ".repeat(b),0)}return y}function Qse(t,e={}){const r=Xse(t,e);e.onContextCreated&&e.onContextCreated(r);const{mode:i,push:s,prefixIdentifiers:n,indent:o,deindent:a,newline:l,scopeId:c,ssr:f}=r,d=Array.from(t.helpers),p=d.length>0,y=!n&&i!=="module";ene(t,r);const b=f?"ssrRender":"render",E=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${b}(${E}) {`),o(),y&&(s("with (_ctx) {"),o(),p&&(s(`const { ${d.map(B8).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(w_(t.components,"component",r),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(w_(t.directives,"directive",r),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),w_(t.filters,"filter",r),l()),t.temps>0){s("let ");for(let T=0;T<t.temps;T++)s(`${T>0?", ":""}_temp${T}`)}return(t.components.length||t.directives.length||t.temps)&&(s(`
`,0),l()),f||s("return "),t.codegenNode?Ri(t.codegenNode,r):s("null"),y&&(a(),s("}")),a(),s("}"),{ast:t,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function ene(t,e){const{ssr:r,prefixIdentifiers:i,push:s,newline:n,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,f=Array.from(t.helpers);if(f.length>0&&(s(`const _Vue = ${c}
`,-1),t.hoists.length)){const d=[k3,D3,jm,F3,E8].filter(p=>f.includes(p)).map(B8).join(", ");s(`const { ${d} } = _Vue
`,-1)}tne(t.hoists,e),n(),s("return ")}function w_(t,e,{helper:r,push:i,newline:s,isTS:n}){const o=r(e==="filter"?V3:e==="component"?U3:B3);for(let a=0;a<t.length;a++){let l=t[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),i(`const ${Zp(l,e)} = ${o}(${JSON.stringify(l)}${c?", true":""})${n?"!":""}`),a<t.length-1&&s()}}function tne(t,e){if(!t.length)return;e.pure=!0;const{push:r,newline:i}=e;i();for(let s=0;s<t.length;s++){const n=t[s];n&&(r(`const _hoisted_${s+1} = `),Ri(n,e),i())}e.pure=!1}function eA(t,e){const r=t.length>3||!1;e.push("["),r&&e.indent(),Vm(t,e,r),r&&e.deindent(),e.push("]")}function Vm(t,e,r=!1,i=!0){const{push:s,newline:n}=e;for(let o=0;o<t.length;o++){const a=t[o];Ye(a)?s(a,-3):Se(a)?eA(a,e):Ri(a,e),o<t.length-1&&(r?(i&&s(","),n()):i&&s(", "))}}function Ri(t,e){if(Ye(t)){e.push(t,-3);return}if(Ss(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Ri(t.codegenNode,e);break;case 2:rne(t,e);break;case 4:V8(t,e);break;case 5:ine(t,e);break;case 12:Ri(t.codegenNode,e);break;case 8:G8(t,e);break;case 3:nne(t,e);break;case 13:one(t,e);break;case 14:lne(t,e);break;case 15:cne(t,e);break;case 17:une(t,e);break;case 18:hne(t,e);break;case 19:fne(t,e);break;case 20:dne(t,e);break;case 21:Vm(t.body,e,!0,!1);break}}function rne(t,e){e.push(JSON.stringify(t.content),-3,t)}function V8(t,e){const{content:r,isStatic:i}=t;e.push(i?JSON.stringify(r):r,-3,t)}function ine(t,e){const{push:r,helper:i,pure:s}=e;s&&r(K1),r(`${i(W1)}(`),Ri(t.content,e),r(")")}function G8(t,e){for(let r=0;r<t.children.length;r++){const i=t.children[r];Ye(i)?e.push(i,-3):Ri(i,e)}}function sne(t,e){const{push:r}=e;if(t.type===8)r("["),G8(t,e),r("]");else if(t.isStatic){const i=X3(t.content)?t.content:JSON.stringify(t.content);r(i,-2,t)}else r(`[${t.content}]`,-3,t)}function nne(t,e){const{push:r,helper:i,pure:s}=e;s&&r(K1),r(`${i(jm)}(${JSON.stringify(t.content)})`,-3,t)}function one(t,e){const{push:r,helper:i,pure:s}=e,{tag:n,props:o,children:a,patchFlag:l,dynamicProps:c,directives:f,isBlock:d,disableTracking:p,isComponent:y}=t;let v;l&&(v=String(l)),f&&r(i(G3)+"("),d&&r(`(${i(su)}(${p?"true":""}), `),s&&r(K1);const b=d?Jh(e.inSSR,y):Yh(e.inSSR,y);r(i(b)+"(",-2,t),Vm(ane([n,o,a,v,c]),e),r(")"),d&&r(")"),f&&(r(", "),Ri(f,e),r(")"))}function ane(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(r=>r||"null")}function lne(t,e){const{push:r,helper:i,pure:s}=e,n=Ye(t.callee)?t.callee:i(t.callee);s&&r(K1),r(n+"(",-2,t),Vm(t.arguments,e),r(")")}function cne(t,e){const{push:r,indent:i,deindent:s,newline:n}=e,{properties:o}=t;if(!o.length){r("{}",-2,t);return}const a=o.length>1||!1;r(a?"{":"{ "),a&&i();for(let l=0;l<o.length;l++){const{key:c,value:f}=o[l];sne(c,e),r(": "),Ri(f,e),l<o.length-1&&(r(","),n())}a&&s(),r(a?"}":" }")}function une(t,e){eA(t.elements,e)}function hne(t,e){const{push:r,indent:i,deindent:s}=e,{params:n,returns:o,body:a,newline:l,isSlot:c}=t;c&&r(`_${Hh[Y3]}(`),r("(",-2,t),Se(n)?Vm(n,e):n&&Ri(n,e),r(") => "),(l||a)&&(r("{"),i()),o?(l&&r("return "),Se(o)?eA(o,e):Ri(o,e)):a&&Ri(a,e),(l||a)&&(s(),r("}")),c&&(t.isNonScopedSlot&&r(", undefined, true"),r(")"))}function fne(t,e){const{test:r,consequent:i,alternate:s,newline:n}=t,{push:o,indent:a,deindent:l,newline:c}=e;if(r.type===4){const d=!X3(r.content);d&&o("("),V8(r,e),d&&o(")")}else o("("),Ri(r,e),o(")");n&&a(),e.indentLevel++,n||o(" "),o("? "),Ri(i,e),e.indentLevel--,n&&c(),n||o(" "),o(": ");const f=s.type===19;f||e.indentLevel++,Ri(s,e),f||e.indentLevel--,n&&l(!0)}function dne(t,e){const{push:r,helper:i,indent:s,deindent:n,newline:o}=e,{needPauseTracking:a,needArraySpread:l}=t;l&&r("[...("),r(`_cache[${t.index}] || (`),a&&(s(),r(`${i(Jg)}(-1`),t.inVOnce&&r(", true"),r("),"),o(),r("(")),r(`_cache[${t.index}] = `),Ri(t.value,e),a&&(r(`).cacheIndex = ${t.index},`),o(),r(`${i(Jg)}(1),`),o(),r(`_cache[${t.index}]`),n()),r(")"),l&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const pne=j8(/^(if|else|else-if)$/,(t,e,r)=>mne(t,e,r,(i,s,n)=>{const o=r.parent.children;let a=o.indexOf(i),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(n)i.codegenNode=D$(s,l,r);else{const c=yne(i.codegenNode);c.alternate=D$(s,l+i.branches.length-1,r)}}}));function mne(t,e,r,i){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const s=e.exp?e.exp.loc:t.loc;r.onError(tr(28,e.loc)),e.exp=Qe("true",!1,s)}if(e.name==="if"){const s=k$(t,e),n={type:9,loc:Vse(t.loc),branches:[s]};if(r.replaceNode(n),i)return i(n,s,!0)}else{const s=r.parent.children;let n=s.indexOf(t);for(;n-->=-1;){const o=s[n];if(o&&o.type===3){r.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){r.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&r.onError(tr(30,t.loc)),r.removeNode();const a=k$(t,e);o.branches.push(a);const l=i&&i(o,a,!1);J1(a,r),l&&l(),r.currentNode=null}else r.onError(tr(30,t.loc));break}}}function k$(t,e){const r=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:r&&!Qs(t,"for")?t.children:[t],userKey:Y1(t,"key"),isTemplateIf:r}}function D$(t,e,r){return t.condition?Ix(t.condition,F$(t,e,r),Yr(r.helper(jm),['""',"true"])):F$(t,e,r)}function F$(t,e,r){const{helper:i}=r,s=Cr("key",Qe(`${e}`,!1,Vs,2)),{children:n}=t,o=n[0];if(n.length!==1||o.type!==1)if(n.length===1&&o.type===11){const l=o.codegenNode;return Qg(l,s,r),l}else return Jp(r,i(Wp),nn([s]),n,64,void 0,void 0,!0,!1,!1,t.loc);else{const l=o.codegenNode,c=Cse(l);return c.type===13&&K3(c,r),Qg(c,s,r),l}}function yne(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const gne=(t,e,r)=>{const{modifiers:i,loc:s}=t,n=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(n.type!==4||!n.isStatic)return r.onError(tr(52,n.loc)),{props:[Cr(n,Qe("",!0,s))]};z8(t),o=t.exp}return n.type!==4?(n.children.unshift("("),n.children.push(') || ""')):n.isStatic||(n.content=`${n.content} || ""`),i.some(a=>a.content==="camel")&&(n.type===4?n.isStatic?n.content=Gt(n.content):n.content=`${r.helperString($x)}(${n.content})`:(n.children.unshift(`${r.helperString($x)}(`),n.children.push(")"))),r.inSSR||(i.some(a=>a.content==="prop")&&U$(n,"."),i.some(a=>a.content==="attr")&&U$(n,"^")),{props:[Cr(n,o)]}},z8=(t,e)=>{const r=t.arg,i=Gt(r.content);t.exp=Qe(i,!1,r.loc)},U$=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},vne=j8("for",(t,e,r)=>{const{helper:i,removeHelper:s}=r;return bne(t,e,r,n=>{const o=Yr(i(z3),[n.source]),a=Zg(t),l=Qs(t,"memo"),c=Y1(t,"key",!1,!0);c&&c.type===7&&!c.exp&&z8(c);let d=c&&(c.type===6?c.value?Qe(c.value.content,!0):void 0:c.exp);const p=c&&d?Cr("key",d):null,y=n.source.type===4&&n.source.constType>0,v=y?64:c?128:256;return n.codegenNode=Jp(r,i(Wp),void 0,o,v,void 0,void 0,!0,!y,!1,t.loc),()=>{let b;const{children:S}=n,E=S.length!==1||S[0].type!==1,T=Xg(t)?t:a&&t.children.length===1&&Xg(t.children[0])?t.children[0]:null;if(T?(b=T.codegenNode,a&&p&&Qg(b,p,r)):E?b=Jp(r,i(Wp),p?nn([p]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(b=S[0].codegenNode,a&&p&&Qg(b,p,r),b.isBlock!==!y&&(b.isBlock?(s(su),s(Jh(r.inSSR,b.isComponent))):s(Yh(r.inSSR,b.isComponent))),b.isBlock=!y,b.isBlock?(i(su),i(Jh(r.inSSR,b.isComponent))):i(Yh(r.inSSR,b.isComponent))),l){const w=Wh(Px(n.parseResult,[Qe("_cached")]));w.body=vse([Fn(["const _memo = (",l.exp,")"]),Fn(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${r.helperString(T8)}(_cached, _memo)) return _cached`]),Fn(["const _item = ",b]),Qe("_item.memo = _memo"),Qe("return _item")]),o.arguments.push(w,Qe("_cache"),Qe(String(r.cached.length))),r.cached.push(null)}else o.arguments.push(Wh(Px(n.parseResult),b,!0))}})});function bne(t,e,r,i){if(!e.exp){r.onError(tr(31,e.loc));return}const s=e.forParseResult;if(!s){r.onError(tr(32,e.loc));return}q8(s);const{addIdentifiers:n,removeIdentifiers:o,scopes:a}=r,{source:l,value:c,key:f,index:d}=s,p={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:f,objectIndexAlias:d,parseResult:s,children:Zg(t)?t.children:[t]};r.replaceNode(p),a.vFor++;const y=i&&i(p);return()=>{a.vFor--,y&&y()}}function q8(t,e){t.finalized||(t.finalized=!0)}function Px({value:t,key:e,index:r},i=[]){return _ne([t,e,r,...i])}function _ne(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((r,i)=>r||Qe("_".repeat(i+1),!1))}const j$=Qe("undefined",!1),wne=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const r=Qs(t,"slot");if(r)return r.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},xne=(t,e,r,i)=>Wh(t,r,!1,!0,r.length?r[0].loc:i);function Ene(t,e,r=xne){e.helper(Y3);const{children:i,loc:s}=t,n=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=Qs(t,"slot",!0);if(l){const{arg:S,exp:E}=l;S&&!gs(S)&&(a=!0),n.push(Cr(S||Qe("default",!0),r(E,void 0,i,s)))}let c=!1,f=!1;const d=[],p=new Set;let y=0;for(let S=0;S<i.length;S++){const E=i[S];let T;if(!Zg(E)||!(T=Qs(E,"slot",!0))){E.type!==3&&d.push(E);continue}if(l){e.onError(tr(37,T.loc));break}c=!0;const{children:w,loc:_}=E,{arg:M=Qe("default",!0),exp:$,loc:C}=T;let P;gs(M)?P=M?M.content:"default":a=!0;const N=Qs(E,"for"),F=r($,N,w,_);let q,U;if(q=Qs(E,"if"))a=!0,o.push(Ix(q.exp,Iy(M,F,y++),j$));else if(U=Qs(E,/^else(-if)?$/,!0)){let B=S,K;for(;B--&&(K=i[B],K.type===3););if(K&&Zg(K)&&Qs(K,/^(else-)?if$/)){let h=o[o.length-1];for(;h.alternate.type===19;)h=h.alternate;h.alternate=U.exp?Ix(U.exp,Iy(M,F,y++),j$):Iy(M,F,y++)}else e.onError(tr(30,U.loc))}else if(N){a=!0;const B=N.forParseResult;B?(q8(B),o.push(Yr(e.helper(z3),[B.source,Wh(Px(B),Iy(M,F),!0)]))):e.onError(tr(32,N.loc))}else{if(P){if(p.has(P)){e.onError(tr(38,C));continue}p.add(P),P==="default"&&(f=!0)}n.push(Cr(M,F))}}if(!l){const S=(E,T)=>{const w=r(E,void 0,T,s);return e.compatConfig&&(w.isNonScopedSlot=!0),Cr("default",w)};c?d.length&&d.some(E=>H8(E))&&(f?e.onError(tr(39,d[0].loc)):n.push(S(void 0,d))):n.push(S(void 0,i))}const v=a?2:k0(t.children)?3:1;let b=nn(n.concat(Cr("_",Qe(v+"",!1))),s);return o.length&&(b=Yr(e.helper(A8),[b,Dc(o)])),{slots:b,hasDynamicSlots:a}}function Iy(t,e,r){const i=[Cr("name",t),Cr("fn",e)];return r!=null&&i.push(Cr("key",Qe(String(r),!0))),nn(i)}function k0(t){for(let e=0;e<t.length;e++){const r=t[e];switch(r.type){case 1:if(r.tagType===2||k0(r.children))return!0;break;case 9:if(k0(r.branches))return!0;break;case 10:case 11:if(k0(r.children))return!0;break}}return!1}function H8(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():H8(t.content)}const W8=new WeakMap,Sne=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:i,props:s}=t,n=t.tagType===1;let o=n?Ane(t,e):`"${i}"`;const a=Pt(o)&&o.callee===j3;let l,c,f=0,d,p,y,v=a||o===Xd||o===R3||!n&&(i==="svg"||i==="foreignObject"||i==="math");if(s.length>0){const b=Y8(t,e,void 0,n,a);l=b.props,f=b.patchFlag,p=b.dynamicPropNames;const S=b.directives;y=S&&S.length?Dc(S.map(E=>Mne(E,e))):void 0,b.shouldUseBlock&&(v=!0)}if(t.children.length>0)if(o===Wg&&(v=!0,f|=1024),n&&o!==Xd&&o!==Wg){const{slots:S,hasDynamicSlots:E}=Ene(t,e);c=S,E&&(f|=1024)}else if(t.children.length===1&&o!==Xd){const S=t.children[0],E=S.type,T=E===5||E===8;T&&Ps(S,e)===0&&(f|=1),T||E===2?c=S:c=t.children}else c=t.children;p&&p.length&&(d=$ne(p)),t.codegenNode=Jp(e,o,l,c,f===0?void 0:f,d,y,!!v,!1,n,t.loc)};function Ane(t,e,r=!1){let{tag:i}=t;const s=Lx(i),n=Y1(t,"is",!1,!0);if(n)if(s||Fc("COMPILER_IS_ON_ELEMENT",e)){let a;if(n.type===6?a=n.value&&Qe(n.value.content,!0):(a=n.exp,a||(a=Qe("is",!1,n.arg.loc))),a)return Yr(e.helper(j3),[a])}else n.type===6&&n.value.content.startsWith("vue:")&&(i=n.value.content.slice(4));const o=$8(i)||e.isBuiltInComponent(i);return o?(r||e.helper(o),o):(e.helper(U3),e.components.add(i),Zp(i,"component"))}function Y8(t,e,r=t.props,i,s,n=!1){const{tag:o,loc:a,children:l}=t;let c=[];const f=[],d=[],p=l.length>0;let y=!1,v=0,b=!1,S=!1,E=!1,T=!1,w=!1,_=!1;const M=[],$=F=>{c.length&&(f.push(nn(B$(c),a)),c=[]),F&&f.push(F)},C=()=>{e.scopes.vFor>0&&c.push(Cr(Qe("ref_for",!0),Qe("true")))},P=({key:F,value:q})=>{if(gs(F)){const U=F.content,B=hu(U);if(B&&(!i||s)&&U.toLowerCase()!=="onclick"&&U!=="onUpdate:modelValue"&&!bl(U)&&(T=!0),B&&bl(U)&&(_=!0),B&&q.type===14&&(q=q.arguments[0]),q.type===20||(q.type===4||q.type===8)&&Ps(q,e)>0)return;U==="ref"?b=!0:U==="class"?S=!0:U==="style"?E=!0:U!=="key"&&!M.includes(U)&&M.push(U),i&&(U==="class"||U==="style")&&!M.includes(U)&&M.push(U)}else w=!0};for(let F=0;F<r.length;F++){const q=r[F];if(q.type===6){const{loc:U,name:B,nameLoc:K,value:h}=q;let m=!0;if(B==="ref"&&(b=!0,C()),B==="is"&&(Lx(o)||h&&h.content.startsWith("vue:")||Fc("COMPILER_IS_ON_ELEMENT",e)))continue;c.push(Cr(Qe(B,!0,K),Qe(h?h.content:"",m,h?h.loc:U)))}else{const{name:U,arg:B,exp:K,loc:h,modifiers:m}=q,x=U==="bind",I=U==="on";if(U==="slot"){i||e.onError(tr(40,h));continue}if(U==="once"||U==="memo"||U==="is"||x&&Mc(B,"is")&&(Lx(o)||Fc("COMPILER_IS_ON_ELEMENT",e))||I&&n)continue;if((x&&Mc(B,"key")||I&&p&&Mc(B,"vue:before-update"))&&(y=!0),x&&Mc(B,"ref")&&C(),!B&&(x||I)){if(w=!0,K)if(x){if(C(),$(),Fc("COMPILER_V_BIND_OBJECT_ORDER",e)){f.unshift(K);continue}f.push(K)}else $({type:14,loc:h,callee:e.helper(W3),arguments:i?[K]:[K,"true"]});else e.onError(tr(x?34:35,h));continue}x&&m.some(Y=>Y.content==="prop")&&(v|=32);const V=e.directiveTransforms[U];if(V){const{props:Y,needRuntime:me}=V(q,t,e);!n&&Y.forEach(P),I&&B&&!gs(B)?$(nn(Y,a)):c.push(...Y),me&&(d.push(q),Ss(me)&&W8.set(q,me))}else jte(U)||(d.push(q),p&&(y=!0))}}let N;if(f.length?($(),f.length>1?N=Yr(e.helper(Yg),f,a):N=f[0]):c.length&&(N=nn(B$(c),a)),w?v|=16:(S&&!i&&(v|=2),E&&!i&&(v|=4),M.length&&(v|=8),T&&(v|=32)),!y&&(v===0||v===32)&&(b||_||d.length>0)&&(v|=512),!e.inSSR&&N)switch(N.type){case 15:let F=-1,q=-1,U=!1;for(let h=0;h<N.properties.length;h++){const m=N.properties[h].key;gs(m)?m.content==="class"?F=h:m.content==="style"&&(q=h):m.isHandlerKey||(U=!0)}const B=N.properties[F],K=N.properties[q];U?N=Yr(e.helper(Yp),[N]):(B&&!gs(B.value)&&(B.value=Yr(e.helper(q3),[B.value])),K&&(E||K.value.type===4&&K.value.content.trim()[0]==="["||K.value.type===17)&&(K.value=Yr(e.helper(H3),[K.value])));break;case 14:break;default:N=Yr(e.helper(Yp),[Yr(e.helper(Bm),[N])]);break}return{props:N,directives:d,patchFlag:v,dynamicPropNames:M,shouldUseBlock:y}}function B$(t){const e=new Map,r=[];for(let i=0;i<t.length;i++){const s=t[i];if(s.key.type===8||!s.key.isStatic){r.push(s);continue}const n=s.key.content,o=e.get(n);o?(n==="style"||n==="class"||hu(n))&&Tne(o,s):(e.set(n,s),r.push(s))}return r}function Tne(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Dc([t.value,e.value],t.loc)}function Mne(t,e){const r=[],i=W8.get(t);i?r.push(e.helperString(i)):(e.helper(B3),e.directives.add(t.name),r.push(Zp(t.name,"directive")));const{loc:s}=t;if(t.exp&&r.push(t.exp),t.arg&&(t.exp||r.push("void 0"),r.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||r.push("void 0"),r.push("void 0"));const n=Qe("true",!1,s);r.push(nn(t.modifiers.map(o=>Cr(o,n)),s))}return Dc(r,t.loc)}function $ne(t){let e="[";for(let r=0,i=t.length;r<i;r++)e+=JSON.stringify(t[r]),r<i-1&&(e+=", ");return e+"]"}function Lx(t){return t==="component"||t==="Component"}const One=(t,e)=>{if(Xg(t)){const{children:r,loc:i}=t,{slotName:s,slotProps:n}=Ine(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;n&&(o[2]=n,a=3),r.length&&(o[3]=Wh([],r,!1,!1,i),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),t.codegenNode=Yr(e.helper(S8),o,i)}};function Ine(t,e){let r='"default"',i;const s=[];for(let n=0;n<t.props.length;n++){const o=t.props[n];if(o.type===6)o.value&&(o.name==="name"?r=JSON.stringify(o.value.content):(o.name=Gt(o.name),s.push(o)));else if(o.name==="bind"&&Mc(o.arg,"name")){if(o.exp)r=o.exp;else if(o.arg&&o.arg.type===4){const a=Gt(o.arg.content);r=o.exp=Qe(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&gs(o.arg)&&(o.arg.content=Gt(o.arg.content)),s.push(o)}if(s.length>0){const{props:n,directives:o}=Y8(t,e,s,!1,!1);i=n,o.length&&e.onError(tr(36,o[0].loc))}return{slotName:r,slotProps:i}}const J8=(t,e,r,i)=>{const{loc:s,modifiers:n,arg:o}=t;!t.exp&&!n.length&&r.onError(tr(35,s));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=e.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Lc(Gt(d)):`on:${d}`;a=Qe(p,!0,o.loc)}else a=Fn([`${r.helperString(Ox)}(`,o,")"]);else a=o,a.children.unshift(`${r.helperString(Ox)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let c=r.cacheHandlers&&!l&&!r.inVOnce;if(l){const d=I8(l),p=!(d||Mse(l)),y=l.content.includes(";");(p||c&&d)&&(l=Fn([`${p?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let f={props:[Cr(a,l||Qe("() => {}",!1,s))]};return i&&(f=i(f)),c&&(f.props[0].value=r.cache(f.props[0].value)),f.props.forEach(d=>d.key.isHandlerKey=!0),f},Cne=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const r=t.children;let i,s=!1;for(let n=0;n<r.length;n++){const o=r[n];if(__(o)){s=!0;for(let a=n+1;a<r.length;a++){const l=r[a];if(__(l))i||(i=r[n]=Fn([o],o.loc)),i.children.push(" + ",l),r.splice(a,1),a--;else{i=void 0;break}}}}if(!(!s||r.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(n=>n.type===7&&!e.directiveTransforms[n.name])&&t.tag!=="template")))for(let n=0;n<r.length;n++){const o=r[n];if(__(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&Ps(o,e)===0&&a.push("1"),r[n]={type:12,content:o,loc:o.loc,codegenNode:Yr(e.helper(F3),a)}}}}},V$=new WeakSet,Nne=(t,e)=>{if(t.type===1&&Qs(t,"once",!0))return V$.has(t)||e.inVOnce||e.inSSR?void 0:(V$.add(t),e.inVOnce=!0,e.helper(Jg),()=>{e.inVOnce=!1;const r=e.currentNode;r.codegenNode&&(r.codegenNode=e.cache(r.codegenNode,!0,!0))})},K8=(t,e,r)=>{const{exp:i,arg:s}=t;if(!i)return r.onError(tr(41,t.loc)),Cy();const n=i.loc.source.trim(),o=i.type===4?i.content:n,a=r.bindingMetadata[n];if(a==="props"||a==="props-aliased")return r.onError(tr(44,i.loc)),Cy();if(!o.trim()||!I8(i))return r.onError(tr(42,i.loc)),Cy();const l=s||Qe("modelValue",!0),c=s?gs(s)?`onUpdate:${Gt(s.content)}`:Fn(['"onUpdate:" + ',s]):"onUpdate:modelValue";let f;const d=r.isTS?"($event: any)":"$event";f=Fn([`${d} => ((`,i,") = $event)"]);const p=[Cr(l,t.exp),Cr(c,f)];if(t.modifiers.length&&e.tagType===1){const y=t.modifiers.map(b=>b.content).map(b=>(X3(b)?b:JSON.stringify(b))+": true").join(", "),v=s?gs(s)?`${s.content}Modifiers`:Fn([s,' + "Modifiers"']):"modelModifiers";p.push(Cr(v,Qe(`{ ${y} }`,!1,t.loc,2)))}return Cy(p)};function Cy(t=[]){return{props:t}}const Pne=/[\w).+\-_$\]]/,Lne=(t,e)=>{Fc("COMPILER_FILTERS",e)&&(t.type===5?ev(t.content,e):t.type===1&&t.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&ev(r.exp,e)}))};function ev(t,e){if(t.type===4)G$(t,e);else for(let r=0;r<t.children.length;r++){const i=t.children[r];typeof i=="object"&&(i.type===4?G$(i,e):i.type===8?ev(t,e):i.type===5&&ev(i.content,e))}}function G$(t,e){const r=t.content;let i=!1,s=!1,n=!1,o=!1,a=0,l=0,c=0,f=0,d,p,y,v,b=[];for(y=0;y<r.length;y++)if(p=d,d=r.charCodeAt(y),i)d===39&&p!==92&&(i=!1);else if(s)d===34&&p!==92&&(s=!1);else if(n)d===96&&p!==92&&(n=!1);else if(o)d===47&&p!==92&&(o=!1);else if(d===124&&r.charCodeAt(y+1)!==124&&r.charCodeAt(y-1)!==124&&!a&&!l&&!c)v===void 0?(f=y+1,v=r.slice(0,y).trim()):S();else{switch(d){case 34:s=!0;break;case 39:i=!0;break;case 96:n=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let E=y-1,T;for(;E>=0&&(T=r.charAt(E),T===" ");E--);(!T||!Pne.test(T))&&(o=!0)}}v===void 0?v=r.slice(0,y).trim():f!==0&&S();function S(){b.push(r.slice(f,y).trim()),f=y+1}if(b.length){for(y=0;y<b.length;y++)v=Rne(v,b[y],e);t.content=v,t.ast=void 0}}function Rne(t,e,r){r.helper(V3);const i=e.indexOf("(");if(i<0)return r.filters.add(e),`${Zp(e,"filter")}(${t})`;{const s=e.slice(0,i),n=e.slice(i+1);return r.filters.add(s),`${Zp(s,"filter")}(${t}${n!==")"?","+n:n}`}}const z$=new WeakSet,kne=(t,e)=>{if(t.type===1){const r=Qs(t,"memo");return!r||z$.has(t)?void 0:(z$.add(t),()=>{const i=t.codegenNode||e.currentNode.codegenNode;i&&i.type===13&&(t.tagType!==1&&K3(i,e),t.codegenNode=Yr(e.helper(J3),[r.exp,Wh(void 0,i),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function Dne(t){return[[Nne,pne,kne,vne,Lne,One,Sne,wne,Cne],{on:J8,bind:gne,model:K8}]}function Fne(t,e={}){const r=e.onError||Z3,i=e.mode==="module";e.prefixIdentifiers===!0?r(tr(47)):i&&r(tr(48));const s=!1;e.cacheHandlers&&r(tr(49)),e.scopeId&&!i&&r(tr(50));const n=ot({},e,{prefixIdentifiers:s}),o=Ye(t)?qse(t,n):t,[a,l]=Dne();return Jse(o,ot({},n,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:ot({},l,e.directiveTransforms||{})})),Qse(o,n)}const Une=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Z8=Symbol(""),X8=Symbol(""),Q8=Symbol(""),e9=Symbol(""),Rx=Symbol(""),t9=Symbol(""),r9=Symbol(""),i9=Symbol(""),s9=Symbol(""),n9=Symbol("");mse({[Z8]:"vModelRadio",[X8]:"vModelCheckbox",[Q8]:"vModelText",[e9]:"vModelSelect",[Rx]:"vModelDynamic",[t9]:"withModifiers",[r9]:"withKeys",[i9]:"vShow",[s9]:"Transition",[n9]:"TransitionGroup"});let Cu;function jne(t,e=!1){return Cu||(Cu=document.createElement("div")),e?(Cu.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,Cu.children[0].getAttribute("foo")):(Cu.innerHTML=t,Cu.textContent)}const Bne={parseMode:"html",isVoidTag:rre,isNativeTag:t=>Qte(t)||ere(t)||tre(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:jne,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return s9;if(t==="TransitionGroup"||t==="transition-group")return n9},getNamespace(t,e,r){let i=e?e.ns:r;if(e&&i===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(i=0);else e&&i===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(i=0);if(i===0){if(t==="svg")return 1;if(t==="math")return 2}return i}},Vne=t=>{t.type===1&&t.props.forEach((e,r)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[r]={type:7,name:"bind",arg:Qe("style",!0,e.loc),exp:Gne(e.value.content,e.loc),modifiers:[],loc:e.loc})})},Gne=(t,e)=>{const r=qL(t);return Qe(JSON.stringify(r),!1,e,3)};function xl(t,e){return tr(t,e)}const zne=(t,e,r)=>{const{exp:i,loc:s}=t;return i||r.onError(xl(53,s)),e.children.length&&(r.onError(xl(54,s)),e.children.length=0),{props:[Cr(Qe("innerHTML",!0,s),i||Qe("",!0))]}},qne=(t,e,r)=>{const{exp:i,loc:s}=t;return i||r.onError(xl(55,s)),e.children.length&&(r.onError(xl(56,s)),e.children.length=0),{props:[Cr(Qe("textContent",!0),i?Ps(i,r)>0?i:Yr(r.helperString(W1),[i],s):Qe("",!0))]}},Hne=(t,e,r)=>{const i=K8(t,e,r);if(!i.props.length||e.tagType===1)return i;t.arg&&r.onError(xl(58,t.arg.loc));const{tag:s}=e,n=r.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||n){let o=Q8,a=!1;if(s==="input"||n){const l=Y1(e,"type");if(l){if(l.type===7)o=Rx;else if(l.value)switch(l.value.content){case"radio":o=Z8;break;case"checkbox":o=X8;break;case"file":a=!0,r.onError(xl(59,t.loc));break}}else $se(e)&&(o=Rx)}else s==="select"&&(o=e9);a||(i.needRuntime=r.helper(o))}else r.onError(xl(57,t.loc));return i.props=i.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),i},Wne=Bs("passive,once,capture"),Yne=Bs("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Jne=Bs("left,right"),o9=Bs("onkeyup,onkeydown,onkeypress"),Kne=(t,e,r,i)=>{const s=[],n=[],o=[];for(let a=0;a<e.length;a++){const l=e[a].content;l==="native"&&Kp("COMPILER_V_ON_NATIVE",r)||Wne(l)?o.push(l):Jne(l)?gs(t)?o9(t.content.toLowerCase())?s.push(l):n.push(l):(s.push(l),n.push(l)):Yne(l)?n.push(l):s.push(l)}return{keyModifiers:s,nonKeyModifiers:n,eventOptionModifiers:o}},q$=(t,e)=>gs(t)&&t.content.toLowerCase()==="onclick"?Qe(e,!0):t.type!==4?Fn(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,Zne=(t,e,r)=>J8(t,e,r,i=>{const{modifiers:s}=t;if(!s.length)return i;let{key:n,value:o}=i.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=Kne(n,s,r,t.loc);if(l.includes("right")&&(n=q$(n,"onContextmenu")),l.includes("middle")&&(n=q$(n,"onMouseup")),l.length&&(o=Yr(r.helper(t9),[o,JSON.stringify(l)])),a.length&&(!gs(n)||o9(n.content.toLowerCase()))&&(o=Yr(r.helper(r9),[o,JSON.stringify(a)])),c.length){const f=c.map(Dl).join("");n=gs(n)?Qe(`${n.content}${f}`,!0):Fn(["(",n,`) + "${f}"`])}return{props:[Cr(n,o)]}}),Xne=(t,e,r)=>{const{exp:i,loc:s}=t;return i||r.onError(xl(61,s)),{props:[],needRuntime:r.helper(i9)}},Qne=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},eoe=[Vne],toe={cloak:Une,html:zne,text:qne,model:Hne,on:Zne,show:Xne};function roe(t,e={}){return Fne(t,ot({},Bne,e,{nodeTransforms:[Qne,...eoe,...e.nodeTransforms||[]],directiveTransforms:ot({},toe,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const H$=Object.create(null);function a9(t,e){if(!Ye(t))if(t.nodeType)t=t.innerHTML;else return yi;const r=Gte(t,e),i=H$[r];if(i)return i;if(t[0]==="#"){const a=document.querySelector(t);t=a?a.innerHTML:""}const s=ot({hoistStatic:!0,onError:void 0,onWarn:yi},e);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=a=>!!customElements.get(a));const{code:n}=roe(t,s),o=new Function("Vue",n)(cse);return o._rc=!0,H$[r]=o}A3(a9);const kwe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:e3,BaseTransitionPropsValidators:R1,Comment:$r,DeprecationTypes:Xk,EffectScope:A1,ErrorCodes:SR,ErrorTypeStrings:Hk,Fragment:Lt,KeepAlive:zR,ReactiveEffect:Bh,Static:wl,Suspense:Ok,Teleport:QS,Text:wo,TrackOpTypes:bR,Transition:V1,TransitionGroup:z1,TriggerOpTypes:_R,VueElement:Fm,assertNumber:ER,callWithAsyncErrorHandling:Fs,callWithErrorHandling:du,camelize:Gt,capitalize:Dl,cloneVNode:qn,compatUtils:Zk,compile:a9,computed:et,createApp:Cl,createBlock:Vt,createCommentVNode:Wt,createElementBlock:xe,createElementVNode:le,createHydrationRenderer:v3,createPropsRestProxy:ak,createRenderer:g3,createSSRApp:L3,createSlots:WR,createStaticVNode:kk,createTextVNode:xo,createVNode:Ke,customRef:JS,defineAsyncComponent:r3,defineComponent:st,defineCustomElement:O3,defineEmits:KR,defineExpose:ZR,defineModel:ek,defineOptions:XR,defineProps:JR,defineSSRCustomElement:o8,defineSlots:QR,devtools:Wk,effect:tR,effectScope:Nm,getCurrentInstance:jr,getCurrentScope:T1,getCurrentWatcher:wR,getTransitionRawChildren:Lm,guardReactiveProps:E3,h:sn,handleError:Bl,hasInjectionContext:m3,hydrate:y8,hydrateOnIdle:jR,hydrateOnInteraction:GR,hydrateOnMediaQuery:VR,hydrateOnVisible:BR,initCustomFormatter:Gk,initDirectivesForSSR:b8,inject:Ur,isMemoSame:T3,isProxy:Pm,isReactive:ks,isReadonly:wa,isRef:dt,isRuntimeOnly:jk,isShallow:vs,isVNode:zn,markRaw:_r,mergeDefaults:nk,mergeModels:ok,mergeProps:B1,nextTick:Yn,normalizeClass:lr,normalizeProps:HL,normalizeStyle:Fl,onActivated:i3,onBeforeMount:D1,onBeforeUnmount:Jn,onBeforeUpdate:F1,onDeactivated:s3,onErrorCaptured:l3,onMounted:vi,onRenderTracked:a3,onRenderTriggered:o3,onScopeDispose:zS,onServerPrefetch:n3,onUnmounted:pu,onUpdated:Af,onWatcherCleanup:ZS,openBlock:fe,popScopeId:IR,provide:p3,proxyRefs:N1,pushScopeId:OR,queuePostFlushCb:Vh,reactive:li,readonly:I1,ref:X,registerRuntimeCompiler:A3,render:Ah,renderList:Vl,renderSlot:In,resolveComponent:Tr,resolveDirective:Ot,resolveDynamicComponent:u3,resolveFilter:Kk,resolveTransitionHooks:tu,setBlockTracking:Bg,setDevtoolsHook:Yk,setTransitionHooks:Co,shallowReactive:YS,shallowReadonly:dR,shallowRef:Sf,ssrContextKey:_3,ssrUtils:Jk,stop:rR,toDisplayString:Dt,toHandlerKey:Lc,toHandlers:YR,toRaw:Ge,toRef:gR,toRefs:KS,toValue:yR,transformVNodeArgs:Lk,triggerRef:mR,unref:$e,useAttrs:ik,useCssModule:l8,useCssVars:$3,useHost:I3,useId:UR,useModel:Tk,useSSRContext:w3,useShadowRoot:a8,useSlots:rk,useTemplateRef:Dg,useTransitionState:L1,vModelCheckbox:q1,vModelDynamic:N3,vModelRadio:H1,vModelSelect:C3,vModelText:Hp,vShow:G1,version:M3,warn:qk,watch:Xr,watchEffect:Ek,watchPostEffect:Sk,watchSyncEffect:x3,withAsyncContext:lk,withCtx:Pr,withDefaults:tk,withDirectives:$t,withKeys:P3,withMemo:zk,withModifiers:Um,withScopeId:CR},Symbol.toStringTag,{value:"Module"}));/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let l9;const Z1=t=>l9=t,c9=Symbol();function kx(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Qd;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Qd||(Qd={}));function ioe(){const t=Nm(!0),e=t.run(()=>X({}));let r=[],i=[];const s=_r({install(n){Z1(s),s._a=n,n.provide(c9,s),n.config.globalProperties.$pinia=s,i.forEach(o=>r.push(o)),i=[]},use(n){return this._a?r.push(n):i.push(n),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const u9=()=>{};function W$(t,e,r,i=u9){t.push(e);const s=()=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i())};return!r&&T1()&&zS(s),s}function Nu(t,...e){t.slice().forEach(r=>{r(...e)})}const soe=t=>t();function Dx(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,i)=>t.set(i,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r],s=t[r];kx(s)&&kx(i)&&t.hasOwnProperty(r)&&!dt(i)&&!ks(i)?t[r]=Dx(s,i):t[r]=i}return t}const noe=Symbol();function ooe(t){return!kx(t)||!t.hasOwnProperty(noe)}const{assign:qa}=Object;function aoe(t){return!!(dt(t)&&t.effect)}function loe(t,e,r,i){const{state:s,actions:n,getters:o}=e,a=r.state.value[t];let l;function c(){a||(r.state.value[t]=s?s():{});const f=KS(r.state.value[t]);return qa(f,n,Object.keys(o||{}).reduce((d,p)=>(d[p]=_r(et(()=>{Z1(r);const y=r._s.get(t);return o[p].call(y,y)})),d),{}))}return l=h9(t,c,e,r,i,!0),l}function h9(t,e,r={},i,s,n){let o;const a=qa({actions:{}},r),l={deep:!0};let c,f,d=[],p=[],y;const v=i.state.value[t];!n&&!v&&(i.state.value[t]={}),X({});let b;function S(P){let N;c=f=!1,typeof P=="function"?(P(i.state.value[t]),N={type:Qd.patchFunction,storeId:t,events:y}):(Dx(i.state.value[t],P),N={type:Qd.patchObject,payload:P,storeId:t,events:y});const F=b=Symbol();Yn().then(()=>{b===F&&(c=!0)}),f=!0,Nu(d,N,i.state.value[t])}const E=n?function(){const{state:N}=r,F=N?N():{};this.$patch(q=>{qa(q,F)})}:u9;function T(){o.stop(),d=[],p=[],i._s.delete(t)}function w(P,N){return function(){Z1(i);const F=Array.from(arguments),q=[],U=[];function B(m){q.push(m)}function K(m){U.push(m)}Nu(p,{args:F,name:P,store:M,after:B,onError:K});let h;try{h=N.apply(this&&this.$id===t?this:M,F)}catch(m){throw Nu(U,m),m}return h instanceof Promise?h.then(m=>(Nu(q,m),m)).catch(m=>(Nu(U,m),Promise.reject(m))):(Nu(q,h),h)}}const _={_p:i,$id:t,$onAction:W$.bind(null,p),$patch:S,$reset:E,$subscribe(P,N={}){const F=W$(d,P,N.detached,()=>q()),q=o.run(()=>Xr(()=>i.state.value[t],U=>{(N.flush==="sync"?f:c)&&P({storeId:t,type:Qd.direct,events:y},U)},qa({},l,N)));return F},$dispose:T},M=li(_);i._s.set(t,M);const C=(i._a&&i._a.runWithContext||soe)(()=>i._e.run(()=>(o=Nm()).run(e)));for(const P in C){const N=C[P];if(dt(N)&&!aoe(N)||ks(N))n||(v&&ooe(N)&&(dt(N)?N.value=v[P]:Dx(N,v[P])),i.state.value[t][P]=N);else if(typeof N=="function"){const F=w(P,N);C[P]=F,a.actions[P]=N}}return qa(M,C),qa(Ge(M),C),Object.defineProperty(M,"$state",{get:()=>i.state.value[t],set:P=>{S(N=>{qa(N,P)})}}),i._p.forEach(P=>{qa(M,o.run(()=>P({store:M,app:i._a,pinia:i,options:a})))}),v&&n&&r.hydrate&&r.hydrate(M.$state,v),c=!0,f=!0,M}function ur(t,e,r){let i,s;const n=typeof e=="function";typeof t=="string"?(i=t,s=n?r:e):(s=t,i=t.id);function o(a,l){const c=m3();return a=a||(c?Ur(c9,null):null),a&&Z1(a),a=l9,a._s.has(i)||(n?h9(i,e,s,a):loe(i,s,a)),a._s.get(i)}return o.$id=i,o}const tv=ur("appbar",()=>{const t=X({}),e=X([]),r=X([]),i=et(()=>e.value.map(o=>o.map(a=>t.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function s(o){r.value.includes(o)||r.value.push(o)}function n(o){const a=r.value.indexOf(o);a!==-1&&r.value.splice(a,1),o in t.value&&delete t.value[o],e.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:t,order:e,temporary:r,visible:i,addTempButton:s,removeButton:n}}),Fx=ur("grid",()=>{const t=X({}),e=X(),r=X();function i(a){t.value={...t.value,[a.id]:a}}function s(a){t.value[a]!==void 0&&delete t.value[a]}function n(a){return Object.keys(t.value).find(l=>t.value[l].layerIds.includes(a))}function o(a,l){t.value[a].layerIds=t.value[a].layerIds.filter(c=>c!==l)}return{grids:t,panel:e,currentId:r,addGrid:i,removeGrid:s,getGridId:n,removeLayer:o}});function ll(t,e,r,i){var s,n=!1,o=0;function a(){s&&clearTimeout(s)}function l(){a(),n=!0}typeof e!="boolean"&&(i=r,r=e,e=void 0);function c(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var y=this,v=Date.now()-o;if(n)return;function b(){o=Date.now(),r.apply(y,d)}function S(){s=void 0}i&&!s&&b(),a(),i===void 0&&v>t?b():e!==!0&&(s=setTimeout(i?S:b,i===void 0?t-v:t))}return c.cancel=l,c}function rv(t,e,r){return r===void 0?ll(t,e,!1):ll(t,r,e!==!1)}const pl=ur("map-caption",()=>{const t=X({text:{},logo:{}}),e=X({}),r=X({}),i=X({});function s(o){o!==void 0?e.value.isImperialScale=o:e.value.isImperialScale=!e.value.isImperialScale}function n(o){t.value.text.value=o.text.value,t.value.text.disabled=o.text.disabled,t.value.logo.altText=o.logo.altText,t.value.logo.link=o.logo.link,t.value.logo.value=o.logo.value,t.value.logo.disabled=o.logo.disabled}return{attribution:t,scale:e,coords:r,langtoggle:i,toggleScale:s,setAttribution:n}}),x_=(t,e)=>{const r=[...t];for(;r.length>0;){const i=r.shift();if(e(i))return i;i&&r.push(...i.sublayers)}},mo=ur("layer",()=>{const t=X([]),e=X([]),r=X([]);function i(d){return x_(t.value,p=>p?.uid===d)}function s(d){return x_(t.value,p=>p?.id===d)}function n(d){return x_(t.value,p=>p!==void 0&&(p.id===d||p.uid===d))}function o(d){e.value=[...e.value,d]}function a(d,p=void 0){t.value=[...t.value,d],d.mapLayer&&((p===void 0||p<0)&&(console.error("Map layer added to store with invalid index!"),p=r.value.length),r.value.splice(p,0,d.id),r.value=[...r.value])}function l(d,p){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(p<0){console.error("Negative index passed to layer store reorder");return}p>=r.value.length&&(p=r.value.length-1);const y=r.value.findIndex(v=>v===d.id);y!==-1&&y!==p&&(r.value.splice(y,1),r.value.splice(p,0,d.id),r.value=[...r.value])}function c(d){const p=t.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(t.value=p,d.mapLayer){const y=r.value.filter(v=>v!==d.id);r.value=y}}function f(d){const p=e.value.filter(y=>y.id!==d);e.value=p}return{layers:t,mapOrder:r,layerConfigs:e,getLayerByUid:i,getLayerById:s,getLayerByAny:n,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:f}}),ms=ur("config",()=>{const t=X({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),e=X([]),r=X(),i=X({}),s=X({});function n(c){if(i.value[s.value[c]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return i.value[s.value[c]]}function o(c){const f={...t.value,...c};if(t.value=f,Array.isArray(t.value.layers)){const d=mo();d.layerConfigs=[...d.layerConfigs,t.value.layers]}}function a(c,f){i.value[f]=c,s.value[f]=f}function l(c,f){const d=c.configs,p=Object.keys(d);if(p.length){const y=p[0];f.forEach(v=>{const b=p.includes(v)?v:y;i.value[v]=d[b],s.value[v]=b})}else console.error("Nothingburger config set was registered",c)}return{activeBasemapConfig:r,config:t,registeredConfigs:i,registeredLangs:s,startingFixtures:e,getActiveConfig:n,newConfig:o,registerAllConfigs:l,registerConfig:a}}),f9=ur("details",()=>{const t=X([]),e=X({}),r=X({}),i=X(),s=X(0),n=X(0),o=X(!0),a=X();function l(f){const d=t.value.findIndex(p=>p.uid===f.uid);d!==-1&&t.value.splice(d,1)}function c(f){e.value={...e.value,[f.id]:f}}return{payload:t,properties:e,defaultTemplates:r,currentFeatureId:i,activeGreedy:s,lastHilight:n,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),Zs=ur("fixture",()=>{const t=X({}),e=X({});function r(o){return o.map(a=>e.value[a].getPromise())}function i(o){if(t.value={...t.value,[o.id]:_r(o)},o.id in e.value)e.value[o.id].resolveMe(_r(o));else{const a=new Ir;a.resolveMe(_r(o)),e.value={...e.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function s(o){delete t.value[o.id],t.value={...t.value},delete e.value[o.id],e.value={...e.value},typeof o.removed=="function"&&o.removed()}function n(o){e.value={...e.value,[o]:new Ir}}return{items:t,loadPromises:e,getLoadPromises:r,addFixture:i,removeFixture:s,addLoadPromise:n}});var Ie=(t=>(t.APPBAR_BUTTON_CLICK="appbar/click",t.COMPONENT="ramp/component",t.CONFIG_CHANGE="config/configchanged",t.DETAILS_TOGGLE="details/toggle",t.FILTER_CHANGE="filter/change",t.FIXTURE_ADDED="fixture/added",t.FIXTURE_REMOVED="fixture/removed",t.GRID_TOGGLE="grid/toggle",t.HELP_TOGGLE="help/toggle",t.LANG_CHANGE="lang/change",t.LAYER_DRAWSTATECHANGE="layer/drawstatechange",t.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",t.LAYER_LAYERSTATECHANGE="layer/layerstatechange",t.LAYER_OPACITYCHANGE="layer/opacitychange",t.LAYER_REGISTERED="layer/registered",t.LAYER_RELOAD_END="layer/reloadend",t.LAYER_RELOAD_START="layer/reloadstart",t.LAYER_REMOVE="layer/remove",t.LAYER_VISIBILITYCHANGE="layer/visibilitychange",t.MAP_BASEMAPCHANGE="map/basemapchanged",t.MAP_BLUR="map/blur",t.MAP_CLICK="map/click",t.MAP_CREATED="map/created",t.MAP_DESTROYED="map/destroyed",t.MAP_DOUBLECLICK="map/doubleclick",t.MAP_EXTENTCHANGE="map/extentchanged",t.MAP_FOCUS="map/focus",t.MAP_GRAPHICHIT="map/graphichit",t.MAP_IDENTIFY="map/identify",t.MAP_KEYDOWN="map/keydown",t.MAP_KEYUP="map/keyup",t.MAP_MOUSEDOWN="map/mousedown",t.MAP_MOUSELEAVE="map/mouseleave",t.MAP_MOUSEMOVE="map/mousemove",t.MAP_MOUSEMOVE_END="map/mousemoveend",t.MAP_MOUSEMOVE_START="map/mousemovestart",t.MAP_REFRESH_END="map/refreshend",t.MAP_REFRESH_START="map/refreshstart",t.MAP_REORDER="map/reorder",t.MAP_RESIZED="map/resized",t.MAP_SCALECHANGE="map/scalechanged",t.MAP_START="map/start",t.METADATA_TOGGLE="metadata/toggle",t.PANEL_CLOSED="panel/closed",t.PANEL_MINIMIZED="panel/minimized",t.PANEL_OPENED="panel/opened",t.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",t.RAMP_RELOAD="ramp/reload",t.REORDER_TOGGLE="reorder/toggle",t.SETTINGS_TOGGLE="settings/toggle",t.USER_LAYER_ADDED="user/layeradded",t.WIZARD_TOGGLE="wizard/toggle",t))(Ie||{}),Ux=(t=>(t.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",t.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",t.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",t.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",t.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",t.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",t.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",t.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",t.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",t.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",t.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",t.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",t.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",t.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",t.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",t.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",t.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",t.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",t.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",t.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",t.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",t.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",t.MAP_MOUSEDOWN_UPDATES_MAPTIP="ramp_map_mousedown_updates_maptip",t.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",t.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",t.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",t.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",t.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",t.TOGGLE_DETAILS="ramp_toggle_details",t.TOGGLE_GRID="ramp_toggle_grid",t.TOGGLE_HELP="ramp_toggle_help",t.TOGGLE_METADATA="ramp_toggle_metadata",t.TOGGLE_REORDER="ramp_toggle_reorder",t.TOGGLE_SETTINGS="ramp_toggle_settings",t.TOGGLE_WIZARD="ramp_toggle_wizard",t))(Ux||{});class coe{eventName;handlerName;handlerFunc;constructor(e,r,i){this.eventName=e,this.handlerName=r,this.handlerFunc=i}}class uoe extends Lr{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(e){super(e),this._eventBus=new kte.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(Ie).filter(r=>typeof r=="string"&&r.indexOf("/")>-1)}findHandler(e){return this._eventRegister.find(r=>r.handlerName===e)}handlerNamer(e){return this._funCounter++,e.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(e){(Array.isArray(e)?e:[e]).forEach(i=>{this._nameRegister.indexOf(i)===-1&&this._nameRegister.push(i)})}eventNames(){return this._nameRegister.slice()}on(e,r,i=""){if(this.findHandler(i))throw new Error("Duplicate handler name registration: "+i);i||(i=this.handlerNamer(e));const s=new coe(e,i,r);return this._eventRegister.push(s),this._eventBus.on(e,r),i}off(e){const r=this.findHandler(e);r&&(this._eventRegister.splice(this._eventRegister.indexOf(r),1),this._eventBus.off(r.eventName,r.handlerFunc))}offAll(e=""){this.activeHandlers(e).forEach(i=>this.off(i))}removeDefaultEvents(){Object.values(Ux).forEach(e=>{this.off(e)})}emit(e,...r){this._eventBus.emit(e,...r)}once(e,r,i=""){i||(i=this.handlerNamer(e));const s=(...n)=>{r(...n),this.off(i)};return this.on(e,s,i)}activeHandlers(e=""){return e===""?this._eventRegister.map(r=>r.handlerName):this._eventRegister.filter(r=>r.eventName===e).map(r=>r.handlerName)}addDefaultEvents(e){return(!Array.isArray(e)||e.length===0)&&(e=Object.values(Ux)),e.map(r=>this.defaultHandlerFactory(r))}defaultHandlerFactory(e){let r;switch(e){case"ramp_layer_error_updates_legend":r=i=>{if(i.layer.layerState===gr.ERROR){const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(i.layer)}},this.$iApi.event.on("layer/layerstatechange",r,e);break;case"ramp_layer_register_binds_legend":r=i=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(i)},this.$iApi.event.on("layer/registered",r,e);break;case"ramp_layer_reload_end_binds_legend":r=i=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(i)},this.$iApi.event.on("layer/reloadend",r,e);break;case"ramp_layer_reload_start_updates_legend":r=i=>{if(!i.isSublayer){const s=this.$iApi.fixture.get("legend");s&&s.reloadLayerItem(i.uid)}},this.$iApi.event.on("layer/reloadstart",r,e);break;case"ramp_layer_remove_checks_grid":r=i=>{if(this.$iApi.fixture.get("grid")){const s=Fx(this.$vApp.$pinia),n=s.getGridId(i.id);if(n===void 0)return;if(s.removeLayer(n,i.id),s.grids[n].layerIds.length===0){s.removeGrid(n);const o=s.currentId;if(n===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),s.currentId=void 0}}}},this.$iApi.event.on("layer/remove",r,e);break;case"ramp_layer_remove_updates_details":r=i=>{const s=f9(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&s.removeLayer(i)},this.$iApi.event.on("layer/remove",r,e);break;case"ramp_layer_remove_updates_legend":r=i=>{const s=this.$iApi.fixture.get("legend");s&&(s.removeLayerItem(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:i.name})))},this.$iApi.event.on("layer/remove",r,e);break;case"ramp_layer_useradd_updates_legend":r=i=>{const s=this.$iApi.fixture.get("legend");s&&s.addLayerItem(i)},this.$iApi.event.on("user/layeradded",r,e);break;case"ramp_map_basemap_checks_tile_proj":r=i=>{i.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(s=>s.layerType===Ne.TILE).forEach(s=>{s.checkProj()})},this.$iApi.event.on("map/basemapchanged",r,e);break;case"ramp_map_basemap_updates_map_attribs":r=()=>{this.$iApi.geo.map.caption.updateAttribution(ms(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",r,e);break;case"ramp_map_blur_updates_key_handler":r=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",r,e);break;case"ramp_map_click_runs_identify":r=i=>{i.button===0&&this.$iApi.geo.map.runIdentify(i)},this.on("map/click",r,e);break;case"ramp_map_created_initializes_fixtures":r=()=>{const i=Zs(this.$vApp.$pinia).items;Object.keys(i).forEach(s=>{i[s].initialized?.()})},this.$iApi.geo.map.created&&r(),this.$iApi.event.on("map/created",r,e);break;case"ramp_map_created_updates_map_attribs":r=()=>{this.$iApi.geo.map.caption.updateAttribution(ms(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&r(),this.$iApi.event.on("map/created",r,e);break;case"ramp_map_extent_updates_maptip":r=()=>{if(this.$iApi.geo.map.keysActive){const i=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(i)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",ll(50,!0,()=>r()),e);break;case"ramp_map_graphichit_creates_maptip":r=i=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(i)},this.$iApi.event.on("map/graphichit",r,e);break;case"ramp_map_identify_opens_identify_results":r=i=>{const s=this.$iApi.fixture.get("details");s&&s.openDetails(i.results)},this.on("map/identify",r,e);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",ll(50,()=>{const i=pl(this.$vApp.$pinia);i.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(n=>{i.coords={formattedString:n}})}),e);break;case"ramp_map_keydown_updates_key_handler":r=i=>{this.$iApi.geo.map.mapKeyDown(i)},this.$iApi.event.on("map/keydown",r,e);break;case"ramp_map_keyup_updates_key_handler":r=i=>{this.$iApi.geo.map.mapKeyUp(i)},this.$iApi.event.on("map/keyup",r,e);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",ll(50,i=>{const s=pl(this.$vApp.$pinia);s.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(i)).then(o=>{s.coords={formattedString:o}})}),e);break;case"ramp_map_mouse_updates_maptip":r=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousemove",ll(50,i=>r(i)),e);break;case"ramp_map_mousedown_updates_maptip":r=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousedown",ll(50,i=>{const s={screenX:i.offsetX,screenY:i.offsetY,button:i.button,moveTime:0};r(s)}),e);break;case"ramp_map_mouseleave_removes_maptip":r=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",r);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",rv(100,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",rv(300,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_panel_close_updates_appbar":r=i=>{const s=tv(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!s.order.flat().find(n=>n===i.id)&&s.removeButton(i.id)},this.on("panel/closed",r,e);break;case"ramp_panel_open_updates_appbar":r=i=>{const s=tv(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!i.teleport||i.teleport?.showAppbarButton)&&!s.order.flat().find(n=>n===i.id)&&s.addTempButton(i.id)},this.on("panel/opened",r,e);break;case"ramp_toggle_details":r=(i,s)=>{const n=this.$iApi.fixture.get("details");n&&n.toggleFeature(i,s)},this.$iApi.event.on("details/toggle",r,e);break;case"ramp_toggle_grid":r=(i,s)=>{const n=this.$iApi.fixture.get("grid");n&&n.toggleGrid(i.id,s)},this.$iApi.event.on("grid/toggle",r,e);break;case"ramp_toggle_help":r=i=>{const s=this.$iApi.fixture.get("help");s&&s.toggleHelp(i)},this.$iApi.event.on("help/toggle",r,e);break;case"ramp_toggle_metadata":r=(i,s)=>{const n=this.$iApi.fixture.get("metadata");n&&n.toggleMetadata(i,s)},this.$iApi.event.on("metadata/toggle",r,e);break;case"ramp_toggle_reorder":r=i=>{const s=this.$iApi.fixture.get("layer-reorder");s&&s.toggleLayerReorder(i)},this.$iApi.event.on("reorder/toggle",r,e);break;case"ramp_toggle_settings":r=(i,s)=>{const n=this.$iApi.fixture.get("settings");n&&n.toggleSettings(i,s)},this.$iApi.event.on("settings/toggle",r,e);break;case"ramp_toggle_wizard":r=i=>{const s=this.$iApi.fixture.get("wizard");s&&s.toggleWizard(i)},this.$iApi.event.on("wizard/toggle",r,e);break;default:return console.error(`Unrecognized default event handler name encountered: ${e}`),`ERROR_NOT_REGISTERED__${e}`}return e}}/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function hoe(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const iv=typeof window<"u",Gl=(t,e=!1)=>e?Symbol.for(t):Symbol(t),foe=(t,e,r)=>doe({l:t,k:e,s:r}),doe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Or=t=>typeof t=="number"&&isFinite(t),poe=t=>p9(t)==="[object Date]",Nl=t=>p9(t)==="[object RegExp]",X1=t=>qe(t)&&Object.keys(t).length===0,gi=Object.assign,moe=Object.create,Rt=(t=null)=>moe(t);let Y$;const da=()=>Y$||(Y$=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Rt());function J$(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function K$(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yoe(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(i,s,n)=>`${s}="${K$(n)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(i,s,n)=>`${s}='${K$(n)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(i=>{t=t.replace(i,"$1javascript&#58;")}),t}const goe=Object.prototype.hasOwnProperty;function Cn(t,e){return goe.call(t,e)}const Zt=Array.isArray,Bt=t=>typeof t=="function",we=t=>typeof t=="string",it=t=>typeof t=="boolean",yt=t=>t!==null&&typeof t=="object",voe=t=>yt(t)&&Bt(t.then)&&Bt(t.catch),d9=Object.prototype.toString,p9=t=>d9.call(t),qe=t=>{if(!yt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},boe=t=>t==null?"":Zt(t)||qe(t)&&t.toString===d9?JSON.stringify(t,null,2):String(t);function _oe(t,e=""){return t.reduce((r,i,s)=>s===0?r+i:r+e+i,"")}function Q1(t){let e=t;return()=>++e}const Ny=t=>!yt(t)||Zt(t);function D0(t,e){if(Ny(t)||Ny(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:i,des:s}=r.pop();Object.keys(i).forEach(n=>{n!=="__proto__"&&(yt(i[n])&&!yt(s[n])&&(s[n]=Array.isArray(i[n])?[]:Rt()),Ny(s[n])||Ny(i[n])?s[n]=i[n]:r.push({src:i[n],des:s[n]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function woe(t,e,r){return{line:t,column:e,offset:r}}function sv(t,e,r){return{start:t,end:e}}const xoe=/\{([0-9a-zA-Z]+)\}/g;function m9(t,...e){return e.length===1&&Eoe(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(xoe,(r,i)=>e.hasOwnProperty(i)?e[i]:"")}const y9=Object.assign,Z$=t=>typeof t=="string",Eoe=t=>t!==null&&typeof t=="object";function g9(t,e=""){return t.reduce((r,i,s)=>s===0?r+i:r+e+i,"")}const tA={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Soe={[tA.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function Aoe(t,e,...r){const i=m9(Soe[t],...r||[]),s={message:String(i),code:t};return e&&(s.location=e),s}const Fe={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Toe={[Fe.EXPECTED_TOKEN]:"Expected token: '{0}'",[Fe.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Fe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Fe.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Fe.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Fe.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Fe.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Fe.EMPTY_PLACEHOLDER]:"Empty placeholder",[Fe.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Fe.INVALID_LINKED_FORMAT]:"Invalid linked format",[Fe.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Fe.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Fe.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Fe.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Fe.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Fe.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Tf(t,e,r={}){const{domain:i,messages:s,args:n}=r,o=m9((s||Toe)[t]||"",...n||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=i,a}function Moe(t){throw t}const Go=" ",$oe="\r",Fi=`
`,Ooe="\u2028",Ioe="\u2029";function Coe(t){const e=t;let r=0,i=1,s=1,n=0;const o=C=>e[C]===$oe&&e[C+1]===Fi,a=C=>e[C]===Fi,l=C=>e[C]===Ioe,c=C=>e[C]===Ooe,f=C=>o(C)||a(C)||l(C)||c(C),d=()=>r,p=()=>i,y=()=>s,v=()=>n,b=C=>o(C)||l(C)||c(C)?Fi:e[C],S=()=>b(r),E=()=>b(r+n);function T(){return n=0,f(r)&&(i++,s=0),o(r)&&r++,r++,s++,e[r]}function w(){return o(r+n)&&n++,n++,e[r+n]}function _(){r=0,i=1,s=1,n=0}function M(C=0){n=C}function $(){const C=r+n;for(;C!==r;)T();n=0}return{index:d,line:p,column:y,peekOffset:v,charAt:b,currentChar:S,currentPeek:E,next:T,peek:w,reset:_,resetPeek:M,skipToPeek:$}}const Ua=void 0,Noe=".",X$="'",Poe="tokenizer";function Loe(t,e={}){const r=e.location!==!1,i=Coe(t),s=()=>i.index(),n=()=>woe(i.line(),i.column(),i.index()),o=n(),a=s(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:f}=e;function d(L,R,G,...re){const se=c();if(R.column+=G,R.offset+=G,f){const ne=r?sv(se.startLoc,R):null,H=Tf(L,ne,{domain:Poe,args:re});f(H)}}function p(L,R,G){L.endLoc=n(),L.currentType=R;const re={type:R};return r&&(re.loc=sv(L.startLoc,L.endLoc)),G!=null&&(re.value=G),re}const y=L=>p(L,14);function v(L,R){return L.currentChar()===R?(L.next(),R):(d(Fe.EXPECTED_TOKEN,n(),0,R),"")}function b(L){let R="";for(;L.currentPeek()===Go||L.currentPeek()===Fi;)R+=L.currentPeek(),L.peek();return R}function S(L){const R=b(L);return L.skipToPeek(),R}function E(L){if(L===Ua)return!1;const R=L.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R===95}function T(L){if(L===Ua)return!1;const R=L.charCodeAt(0);return R>=48&&R<=57}function w(L,R){const{currentType:G}=R;if(G!==2)return!1;b(L);const re=E(L.currentPeek());return L.resetPeek(),re}function _(L,R){const{currentType:G}=R;if(G!==2)return!1;b(L);const re=L.currentPeek()==="-"?L.peek():L.currentPeek(),se=T(re);return L.resetPeek(),se}function M(L,R){const{currentType:G}=R;if(G!==2)return!1;b(L);const re=L.currentPeek()===X$;return L.resetPeek(),re}function $(L,R){const{currentType:G}=R;if(G!==8)return!1;b(L);const re=L.currentPeek()===".";return L.resetPeek(),re}function C(L,R){const{currentType:G}=R;if(G!==9)return!1;b(L);const re=E(L.currentPeek());return L.resetPeek(),re}function P(L,R){const{currentType:G}=R;if(!(G===8||G===12))return!1;b(L);const re=L.currentPeek()===":";return L.resetPeek(),re}function N(L,R){const{currentType:G}=R;if(G!==10)return!1;const re=()=>{const ne=L.currentPeek();return ne==="{"?E(L.peek()):ne==="@"||ne==="%"||ne==="|"||ne===":"||ne==="."||ne===Go||!ne?!1:ne===Fi?(L.peek(),re()):U(L,!1)},se=re();return L.resetPeek(),se}function F(L){b(L);const R=L.currentPeek()==="|";return L.resetPeek(),R}function q(L){const R=b(L),G=L.currentPeek()==="%"&&L.peek()==="{";return L.resetPeek(),{isModulo:G,hasSpace:R.length>0}}function U(L,R=!0){const G=(se=!1,ne="",H=!1)=>{const Z=L.currentPeek();return Z==="{"?ne==="%"?!1:se:Z==="@"||!Z?ne==="%"?!0:se:Z==="%"?(L.peek(),G(se,"%",!0)):Z==="|"?ne==="%"||H?!0:!(ne===Go||ne===Fi):Z===Go?(L.peek(),G(!0,Go,H)):Z===Fi?(L.peek(),G(!0,Fi,H)):!0},re=G();return R&&L.resetPeek(),re}function B(L,R){const G=L.currentChar();return G===Ua?Ua:R(G)?(L.next(),G):null}function K(L){const R=L.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||R===95||R===36}function h(L){return B(L,K)}function m(L){const R=L.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||R===95||R===36||R===45}function x(L){return B(L,m)}function I(L){const R=L.charCodeAt(0);return R>=48&&R<=57}function V(L){return B(L,I)}function Y(L){const R=L.charCodeAt(0);return R>=48&&R<=57||R>=65&&R<=70||R>=97&&R<=102}function me(L){return B(L,Y)}function ue(L){let R="",G="";for(;R=V(L);)G+=R;return G}function Me(L){S(L);const R=L.currentChar();return R!=="%"&&d(Fe.EXPECTED_TOKEN,n(),0,R),L.next(),"%"}function Ue(L){let R="";for(;;){const G=L.currentChar();if(G==="{"||G==="}"||G==="@"||G==="|"||!G)break;if(G==="%")if(U(L))R+=G,L.next();else break;else if(G===Go||G===Fi)if(U(L))R+=G,L.next();else{if(F(L))break;R+=G,L.next()}else R+=G,L.next()}return R}function ze(L){S(L);let R="",G="";for(;R=x(L);)G+=R;return L.currentChar()===Ua&&d(Fe.UNTERMINATED_CLOSING_BRACE,n(),0),G}function lt(L){S(L);let R="";return L.currentChar()==="-"?(L.next(),R+=`-${ue(L)}`):R+=ue(L),L.currentChar()===Ua&&d(Fe.UNTERMINATED_CLOSING_BRACE,n(),0),R}function zt(L){return L!==X$&&L!==Fi}function It(L){S(L),v(L,"'");let R="",G="";for(;R=B(L,zt);)R==="\\"?G+=wr(L):G+=R;const re=L.currentChar();return re===Fi||re===Ua?(d(Fe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,n(),0),re===Fi&&(L.next(),v(L,"'")),G):(v(L,"'"),G)}function wr(L){const R=L.currentChar();switch(R){case"\\":case"'":return L.next(),`\\${R}`;case"u":return Ft(L,R,4);case"U":return Ft(L,R,6);default:return d(Fe.UNKNOWN_ESCAPE_SEQUENCE,n(),0,R),""}}function Ft(L,R,G){v(L,R);let re="";for(let se=0;se<G;se++){const ne=me(L);if(!ne){d(Fe.INVALID_UNICODE_ESCAPE_SEQUENCE,n(),0,`\\${R}${re}${L.currentChar()}`);break}re+=ne}return`\\${R}${re}`}function nr(L){return L!=="{"&&L!=="}"&&L!==Go&&L!==Fi}function ti(L){S(L);let R="",G="";for(;R=B(L,nr);)G+=R;return G}function j(L){let R="",G="";for(;R=h(L);)G+=R;return G}function D(L){const R=G=>{const re=L.currentChar();return re==="{"||re==="%"||re==="@"||re==="|"||re==="("||re===")"||!re||re===Go?G:(G+=re,L.next(),R(G))};return R("")}function W(L){S(L);const R=v(L,"|");return S(L),R}function oe(L,R){let G=null;switch(L.currentChar()){case"{":return R.braceNest>=1&&d(Fe.NOT_ALLOW_NEST_PLACEHOLDER,n(),0),L.next(),G=p(R,2,"{"),S(L),R.braceNest++,G;case"}":return R.braceNest>0&&R.currentType===2&&d(Fe.EMPTY_PLACEHOLDER,n(),0),L.next(),G=p(R,3,"}"),R.braceNest--,R.braceNest>0&&S(L),R.inLinked&&R.braceNest===0&&(R.inLinked=!1),G;case"@":return R.braceNest>0&&d(Fe.UNTERMINATED_CLOSING_BRACE,n(),0),G=te(L,R)||y(R),R.braceNest=0,G;default:{let se=!0,ne=!0,H=!0;if(F(L))return R.braceNest>0&&d(Fe.UNTERMINATED_CLOSING_BRACE,n(),0),G=p(R,1,W(L)),R.braceNest=0,R.inLinked=!1,G;if(R.braceNest>0&&(R.currentType===5||R.currentType===6||R.currentType===7))return d(Fe.UNTERMINATED_CLOSING_BRACE,n(),0),R.braceNest=0,ce(L,R);if(se=w(L,R))return G=p(R,5,ze(L)),S(L),G;if(ne=_(L,R))return G=p(R,6,lt(L)),S(L),G;if(H=M(L,R))return G=p(R,7,It(L)),S(L),G;if(!se&&!ne&&!H)return G=p(R,13,ti(L)),d(Fe.INVALID_TOKEN_IN_PLACEHOLDER,n(),0,G.value),S(L),G;break}}return G}function te(L,R){const{currentType:G}=R;let re=null;const se=L.currentChar();switch((G===8||G===9||G===12||G===10)&&(se===Fi||se===Go)&&d(Fe.INVALID_LINKED_FORMAT,n(),0),se){case"@":return L.next(),re=p(R,8,"@"),R.inLinked=!0,re;case".":return S(L),L.next(),p(R,9,".");case":":return S(L),L.next(),p(R,10,":");default:return F(L)?(re=p(R,1,W(L)),R.braceNest=0,R.inLinked=!1,re):$(L,R)||P(L,R)?(S(L),te(L,R)):C(L,R)?(S(L),p(R,12,j(L))):N(L,R)?(S(L),se==="{"?oe(L,R)||re:p(R,11,D(L))):(G===8&&d(Fe.INVALID_LINKED_FORMAT,n(),0),R.braceNest=0,R.inLinked=!1,ce(L,R))}}function ce(L,R){let G={type:14};if(R.braceNest>0)return oe(L,R)||y(R);if(R.inLinked)return te(L,R)||y(R);switch(L.currentChar()){case"{":return oe(L,R)||y(R);case"}":return d(Fe.UNBALANCED_CLOSING_BRACE,n(),0),L.next(),p(R,3,"}");case"@":return te(L,R)||y(R);default:{if(F(L))return G=p(R,1,W(L)),R.braceNest=0,R.inLinked=!1,G;const{isModulo:se,hasSpace:ne}=q(L);if(se)return ne?p(R,0,Ue(L)):p(R,4,Me(L));if(U(L))return p(R,0,Ue(L));break}}return G}function ye(){const{currentType:L,offset:R,startLoc:G,endLoc:re}=l;return l.lastType=L,l.lastOffset=R,l.lastStartLoc=G,l.lastEndLoc=re,l.offset=s(),l.startLoc=n(),i.currentChar()===Ua?p(l,14):ce(i,l)}return{nextToken:ye,currentOffset:s,currentPosition:n,context:c}}const Roe="parser",koe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Doe(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(e||r,16);return i<=55295||i>=57344?String.fromCodePoint(i):""}}}function Foe(t={}){const e=t.location!==!1,{onError:r,onWarn:i}=t;function s(w,_,M,$,...C){const P=w.currentPosition();if(P.offset+=$,P.column+=$,r){const N=e?sv(M,P):null,F=Tf(_,N,{domain:Roe,args:C});r(F)}}function n(w,_,M,$,...C){const P=w.currentPosition();if(P.offset+=$,P.column+=$,i){const N=e?sv(M,P):null;i(Aoe(_,N,C))}}function o(w,_,M){const $={type:w};return e&&($.start=_,$.end=_,$.loc={start:M,end:M}),$}function a(w,_,M,$){e&&(w.end=_,w.loc&&(w.loc.end=M))}function l(w,_){const M=w.context(),$=o(3,M.offset,M.startLoc);return $.value=_,a($,w.currentOffset(),w.currentPosition()),$}function c(w,_){const M=w.context(),{lastOffset:$,lastStartLoc:C}=M,P=o(5,$,C);return P.index=parseInt(_,10),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function f(w,_,M){const $=w.context(),{lastOffset:C,lastStartLoc:P}=$,N=o(4,C,P);return N.key=_,M===!0&&(N.modulo=!0),w.nextToken(),a(N,w.currentOffset(),w.currentPosition()),N}function d(w,_){const M=w.context(),{lastOffset:$,lastStartLoc:C}=M,P=o(9,$,C);return P.value=_.replace(koe,Doe),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function p(w){const _=w.nextToken(),M=w.context(),{lastOffset:$,lastStartLoc:C}=M,P=o(8,$,C);return _.type!==12?(s(w,Fe.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),P.value="",a(P,$,C),{nextConsumeToken:_,node:P}):(_.value==null&&s(w,Fe.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,gn(_)),P.value=_.value||"",a(P,w.currentOffset(),w.currentPosition()),{node:P})}function y(w,_){const M=w.context(),$=o(7,M.offset,M.startLoc);return $.value=_,a($,w.currentOffset(),w.currentPosition()),$}function v(w){const _=w.context(),M=o(6,_.offset,_.startLoc);let $=w.nextToken();if($.type===9){const C=p(w);M.modifier=C.node,$=C.nextConsumeToken||w.nextToken()}switch($.type!==10&&s(w,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,gn($)),$=w.nextToken(),$.type===2&&($=w.nextToken()),$.type){case 11:$.value==null&&s(w,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,gn($)),M.key=y(w,$.value||"");break;case 5:$.value==null&&s(w,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,gn($)),M.key=f(w,$.value||"");break;case 6:$.value==null&&s(w,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,gn($)),M.key=c(w,$.value||"");break;case 7:$.value==null&&s(w,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,gn($)),M.key=d(w,$.value||"");break;default:{s(w,Fe.UNEXPECTED_EMPTY_LINKED_KEY,_.lastStartLoc,0);const C=w.context(),P=o(7,C.offset,C.startLoc);return P.value="",a(P,C.offset,C.startLoc),M.key=P,a(M,C.offset,C.startLoc),{nextConsumeToken:$,node:M}}}return a(M,w.currentOffset(),w.currentPosition()),{node:M}}function b(w){const _=w.context(),M=_.currentType===1?w.currentOffset():_.offset,$=_.currentType===1?_.endLoc:_.startLoc,C=o(2,M,$);C.items=[];let P=null,N=null;do{const U=P||w.nextToken();switch(P=null,U.type){case 0:U.value==null&&s(w,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,gn(U)),C.items.push(l(w,U.value||""));break;case 6:U.value==null&&s(w,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,gn(U)),C.items.push(c(w,U.value||""));break;case 4:N=!0;break;case 5:U.value==null&&s(w,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,gn(U)),C.items.push(f(w,U.value||"",!!N)),N&&(n(w,tA.USE_MODULO_SYNTAX,_.lastStartLoc,0,gn(U)),N=null);break;case 7:U.value==null&&s(w,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,gn(U)),C.items.push(d(w,U.value||""));break;case 8:{const B=v(w);C.items.push(B.node),P=B.nextConsumeToken||null;break}}}while(_.currentType!==14&&_.currentType!==1);const F=_.currentType===1?_.lastOffset:w.currentOffset(),q=_.currentType===1?_.lastEndLoc:w.currentPosition();return a(C,F,q),C}function S(w,_,M,$){const C=w.context();let P=$.items.length===0;const N=o(1,_,M);N.cases=[],N.cases.push($);do{const F=b(w);P||(P=F.items.length===0),N.cases.push(F)}while(C.currentType!==14);return P&&s(w,Fe.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),a(N,w.currentOffset(),w.currentPosition()),N}function E(w){const _=w.context(),{offset:M,startLoc:$}=_,C=b(w);return _.currentType===14?C:S(w,M,$,C)}function T(w){const _=Loe(w,y9({},t)),M=_.context(),$=o(0,M.offset,M.startLoc);return e&&$.loc&&($.loc.source=w),$.body=E(_),t.onCacheKey&&($.cacheKey=t.onCacheKey(w)),M.currentType!==14&&s(_,Fe.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,w[M.offset]||""),a($,_.currentOffset(),_.currentPosition()),$}return{parse:T}}function gn(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function Uoe(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:n=>(r.helpers.add(n),n)}}function Q$(t,e){for(let r=0;r<t.length;r++)rA(t[r],e)}function rA(t,e){switch(t.type){case 1:Q$(t.cases,e),e.helper("plural");break;case 2:Q$(t.items,e);break;case 6:{rA(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function joe(t,e={}){const r=Uoe(t);r.helper("normalize"),t.body&&rA(t.body,r);const i=r.context();t.helpers=Array.from(i.helpers)}function Boe(t){const e=t.body;return e.type===2?eO(e):e.cases.forEach(r=>eO(r)),t}function eO(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const i=t.items[r];if(!(i.type===3||i.type===9)||i.value==null)break;e.push(i.value)}if(e.length===t.items.length){t.static=g9(e);for(let r=0;r<t.items.length;r++){const i=t.items[r];(i.type===3||i.type===9)&&delete i.value}}}}const Voe="minifier";function Vu(t){switch(t.t=t.type,t.type){case 0:{const e=t;Vu(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let i=0;i<r.length;i++)Vu(r[i]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let i=0;i<r.length;i++)Vu(r[i]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Vu(e.key),e.k=e.key,delete e.key,e.modifier&&(Vu(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw Tf(Fe.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Voe,args:[t.type]})}delete t.type}const Goe="parser";function zoe(t,e){const{filename:r,breakLineCode:i,needIndent:s}=e,n=e.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};n&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(b,S){o.code+=b}function c(b,S=!0){const E=S?i:"";l(s?E+"  ".repeat(b):E)}function f(b=!0){const S=++o.indentLevel;b&&c(S)}function d(b=!0){const S=--o.indentLevel;b&&c(S)}function p(){c(o.indentLevel)}return{context:a,push:l,indent:f,deindent:d,newline:p,helper:b=>`_${b}`,needIndent:()=>o.needIndent}}function qoe(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),Kh(t,e.key),e.modifier?(t.push(", "),Kh(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Hoe(t,e){const{helper:r,needIndent:i}=t;t.push(`${r("normalize")}([`),t.indent(i());const s=e.items.length;for(let n=0;n<s&&(Kh(t,e.items[n]),n!==s-1);n++)t.push(", ");t.deindent(i()),t.push("])")}function Woe(t,e){const{helper:r,needIndent:i}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(i());const s=e.cases.length;for(let n=0;n<s&&(Kh(t,e.cases[n]),n!==s-1);n++)t.push(", ");t.deindent(i()),t.push("])")}}function Yoe(t,e){e.body?Kh(t,e.body):t.push("null")}function Kh(t,e){const{helper:r}=t;switch(e.type){case 0:Yoe(t,e);break;case 1:Woe(t,e);break;case 2:Hoe(t,e);break;case 6:qoe(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw Tf(Fe.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Goe,args:[e.type]})}}const Joe=(t,e={})=>{const r=Z$(e.mode)?e.mode:"normal",i=Z$(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,n=e.needIndent?e.needIndent:r!=="arrow",o=t.helpers||[],a=zoe(t,{filename:i,breakLineCode:s,needIndent:n});a.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(n),o.length>0&&(a.push(`const { ${g9(o.map(f=>`${f}: _${f}`),", ")} } = ctx`),a.newline()),a.push("return "),Kh(a,t),a.deindent(n),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function Koe(t,e={}){const r=y9({},e),i=!!r.jit,s=!!r.minify,n=r.optimize==null?!0:r.optimize,a=Foe(r).parse(t);return i?(n&&Boe(a),s&&Vu(a),{ast:a,code:""}):(joe(a,r),Joe(a,r))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Zoe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(da().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(da().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(da().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Eo(t){return yt(t)&&iA(t)===0&&(Cn(t,"b")||Cn(t,"body"))}const v9=["b","body"];function Xoe(t){return zl(t,v9)}const b9=["c","cases"];function Qoe(t){return zl(t,b9,[])}const _9=["s","static"];function eae(t){return zl(t,_9)}const w9=["i","items"];function tae(t){return zl(t,w9,[])}const x9=["t","type"];function iA(t){return zl(t,x9)}const E9=["v","value"];function Py(t,e){const r=zl(t,E9);if(r!=null)return r;throw Qp(e)}const S9=["m","modifier"];function rae(t){return zl(t,S9)}const A9=["k","key"];function iae(t){const e=zl(t,A9);if(e)return e;throw Qp(6)}function zl(t,e,r){for(let i=0;i<e.length;i++){const s=e[i];if(Cn(t,s)&&t[s]!=null)return t[s]}return r}const T9=[...v9,...b9,..._9,...w9,...A9,...S9,...E9,...x9];function Qp(t){return new Error(`unhandled node type: ${t}`)}const ql=[];ql[0]={w:[0],i:[3,0],"[":[4],o:[7]};ql[1]={w:[1],".":[2],"[":[4],o:[7]};ql[2]={w:[2],i:[3,0],0:[3,0]};ql[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};ql[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};ql[5]={"'":[4,0],o:8,l:[5,0]};ql[6]={'"':[4,0],o:8,l:[6,0]};const sae=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function nae(t){return sae.test(t)}function oae(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function aae(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function lae(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:nae(e)?oae(e):"*"+e}function cae(t){const e=[];let r=-1,i=0,s=0,n,o,a,l,c,f,d;const p=[];p[0]=()=>{o===void 0?o=a:o+=a},p[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},p[2]=()=>{p[0](),s++},p[3]=()=>{if(s>0)s--,i=4,p[0]();else{if(s=0,o===void 0||(o=lae(o),o===!1))return!1;p[1]()}};function y(){const v=t[r+1];if(i===5&&v==="'"||i===6&&v==='"')return r++,a="\\"+v,p[0](),!0}for(;i!==null;)if(r++,n=t[r],!(n==="\\"&&y())){if(l=aae(n),d=ql[i],c=d[l]||d.l||8,c===8||(i=c[0],c[1]!==void 0&&(f=p[c[1]],f&&(a=n,f()===!1))))return;if(i===7)return e}}const tO=new Map;function uae(t,e){return yt(t)?t[e]:null}function hae(t,e){if(!yt(t))return null;let r=tO.get(e);if(r||(r=cae(e),r&&tO.set(e,r)),!r)return null;const i=r.length;let s=t,n=0;for(;n<i;){const o=r[n];if(T9.includes(o)&&Eo(s))return null;const a=s[o];if(a===void 0||Bt(s))return null;s=a,n++}return s}const fae=t=>t,dae=t=>"",pae="text",mae=t=>t.length===0?"":_oe(t),yae=boe;function rO(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function gae(t){const e=Or(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Or(t.named.count)||Or(t.named.n))?Or(t.named.count)?t.named.count:Or(t.named.n)?t.named.n:e:e}function vae(t,e){e.count||(e.count=t),e.n||(e.n=t)}function bae(t={}){const e=t.locale,r=gae(t),i=yt(t.pluralRules)&&we(e)&&Bt(t.pluralRules[e])?t.pluralRules[e]:rO,s=yt(t.pluralRules)&&we(e)&&Bt(t.pluralRules[e])?rO:void 0,n=E=>E[i(r,E.length,s)],o=t.list||[],a=E=>o[E],l=t.named||Rt();Or(t.pluralIndex)&&vae(r,l);const c=E=>l[E];function f(E){const T=Bt(t.messages)?t.messages(E):yt(t.messages)?t.messages[E]:!1;return T||(t.parent?t.parent.message(E):dae)}const d=E=>t.modifiers?t.modifiers[E]:fae,p=qe(t.processor)&&Bt(t.processor.normalize)?t.processor.normalize:mae,y=qe(t.processor)&&Bt(t.processor.interpolate)?t.processor.interpolate:yae,v=qe(t.processor)&&we(t.processor.type)?t.processor.type:pae,S={list:a,named:c,plural:n,linked:(E,...T)=>{const[w,_]=T;let M="text",$="";T.length===1?yt(w)?($=w.modifier||$,M=w.type||M):we(w)&&($=w||$):T.length===2&&(we(w)&&($=w||$),we(_)&&(M=_||M));const C=f(E)(S),P=M==="vnode"&&Zt(C)&&$?C[0]:C;return $?d($)(P,M):P},message:f,type:v,interpolate:y,normalize:p,values:gi(Rt(),o,l)};return S}let em=null;function _ae(t){em=t}function wae(t,e,r){em&&em.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const xae=Eae("function:translate");function Eae(t){return e=>em&&em.emit(t,e)}const Sae=tA.__EXTEND_POINT__,ic=Q1(Sae),Aae={FALLBACK_TO_TRANSLATE:ic(),CANNOT_FORMAT_NUMBER:ic(),FALLBACK_TO_NUMBER_FORMAT:ic(),CANNOT_FORMAT_DATE:ic(),FALLBACK_TO_DATE_FORMAT:ic(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:ic(),__EXTEND_POINT__:ic()},M9=Fe.__EXTEND_POINT__,sc=Q1(M9),Nn={INVALID_ARGUMENT:M9,INVALID_DATE_ARGUMENT:sc(),INVALID_ISO_DATE_ARGUMENT:sc(),NOT_SUPPORT_NON_STRING_MESSAGE:sc(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:sc(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:sc(),NOT_SUPPORT_LOCALE_TYPE:sc(),__EXTEND_POINT__:sc()};function yo(t){return Tf(t,null,void 0)}function sA(t,e){return e.locale!=null?iO(e.locale):iO(t.locale)}let E_;function iO(t){if(we(t))return t;if(Bt(t)){if(t.resolvedOnce&&E_!=null)return E_;if(t.constructor.name==="Function"){const e=t();if(voe(e))throw yo(Nn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return E_=e}else throw yo(Nn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw yo(Nn.NOT_SUPPORT_LOCALE_TYPE)}function Tae(t,e,r){return[...new Set([r,...Zt(e)?e:yt(e)?Object.keys(e):we(e)?[e]:[r]])]}function $9(t,e,r){const i=we(r)?r:Zh,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let n=s.__localeChainCache.get(i);if(!n){n=[];let o=[r];for(;Zt(o);)o=sO(n,o,e);const a=Zt(e)||!qe(e)?e:e.default?e.default:null;o=we(a)?[a]:a,Zt(o)&&sO(n,o,!1),s.__localeChainCache.set(i,n)}return n}function sO(t,e,r){let i=!0;for(let s=0;s<e.length&&it(i);s++){const n=e[s];we(n)&&(i=Mae(t,e[s],r))}return i}function Mae(t,e,r){let i;const s=e.split("-");do{const n=s.join("-");i=$ae(t,n,r),s.splice(-1,1)}while(s.length&&i===!0);return i}function $ae(t,e,r){let i=!1;if(!t.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(Zt(r)||qe(r))&&r[s]&&(i=r[s])}return i}const Oae="9.14.5",eb=-1,Zh="en-US",nO="",oO=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function Iae(){return{upper:(t,e)=>e==="text"&&we(t)?t.toUpperCase():e==="vnode"&&yt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&we(t)?t.toLowerCase():e==="vnode"&&yt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&we(t)?oO(t):e==="vnode"&&yt(t)&&"__v_isVNode"in t?oO(t.children):t}}let O9;function aO(t){O9=t}let I9;function Cae(t){I9=t}let C9;function Nae(t){C9=t}let N9=null;const Pae=t=>{N9=t},Lae=()=>N9;let P9=null;const lO=t=>{P9=t},Rae=()=>P9;let cO=0;function kae(t={}){const e=Bt(t.onWarn)?t.onWarn:hoe,r=we(t.version)?t.version:Oae,i=we(t.locale)||Bt(t.locale)?t.locale:Zh,s=Bt(i)?Zh:i,n=Zt(t.fallbackLocale)||qe(t.fallbackLocale)||we(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=qe(t.messages)?t.messages:S_(s),a=qe(t.datetimeFormats)?t.datetimeFormats:S_(s),l=qe(t.numberFormats)?t.numberFormats:S_(s),c=gi(Rt(),t.modifiers,Iae()),f=t.pluralRules||Rt(),d=Bt(t.missing)?t.missing:null,p=it(t.missingWarn)||Nl(t.missingWarn)?t.missingWarn:!0,y=it(t.fallbackWarn)||Nl(t.fallbackWarn)?t.fallbackWarn:!0,v=!!t.fallbackFormat,b=!!t.unresolving,S=Bt(t.postTranslation)?t.postTranslation:null,E=qe(t.processor)?t.processor:null,T=it(t.warnHtmlMessage)?t.warnHtmlMessage:!0,w=!!t.escapeParameter,_=Bt(t.messageCompiler)?t.messageCompiler:O9,M=Bt(t.messageResolver)?t.messageResolver:I9||uae,$=Bt(t.localeFallbacker)?t.localeFallbacker:C9||Tae,C=yt(t.fallbackContext)?t.fallbackContext:void 0,P=t,N=yt(P.__datetimeFormatters)?P.__datetimeFormatters:new Map,F=yt(P.__numberFormatters)?P.__numberFormatters:new Map,q=yt(P.__meta)?P.__meta:{};cO++;const U={version:r,cid:cO,locale:i,fallbackLocale:n,messages:o,modifiers:c,pluralRules:f,missing:d,missingWarn:p,fallbackWarn:y,fallbackFormat:v,unresolving:b,postTranslation:S,processor:E,warnHtmlMessage:T,escapeParameter:w,messageCompiler:_,messageResolver:M,localeFallbacker:$,fallbackContext:C,onWarn:e,__meta:q};return U.datetimeFormats=a,U.numberFormats=l,U.__datetimeFormatters=N,U.__numberFormatters=F,__INTLIFY_PROD_DEVTOOLS__&&wae(U,r,q),U}const S_=t=>({[t]:Rt()});function nA(t,e,r,i,s){const{missing:n,onWarn:o}=t;if(n!==null){const a=n(t,r,e,s);return we(a)?a:e}else return e}function zf(t,e,r){const i=t;i.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function Dae(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function Fae(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let i=r+1;i<e.length;i++)if(Dae(t,e[i]))return!0;return!1}function A_(t){return r=>Uae(r,t)}function Uae(t,e){const r=Xoe(e);if(r==null)throw Qp(0);if(iA(r)===1){const n=Qoe(r);return t.plural(n.reduce((o,a)=>[...o,uO(t,a)],[]))}else return uO(t,r)}function uO(t,e){const r=eae(e);if(r!=null)return t.type==="text"?r:t.normalize([r]);{const i=tae(e).reduce((s,n)=>[...s,jx(t,n)],[]);return t.normalize(i)}}function jx(t,e){const r=iA(e);switch(r){case 3:return Py(e,r);case 9:return Py(e,r);case 4:{const i=e;if(Cn(i,"k")&&i.k)return t.interpolate(t.named(i.k));if(Cn(i,"key")&&i.key)return t.interpolate(t.named(i.key));throw Qp(r)}case 5:{const i=e;if(Cn(i,"i")&&Or(i.i))return t.interpolate(t.list(i.i));if(Cn(i,"index")&&Or(i.index))return t.interpolate(t.list(i.index));throw Qp(r)}case 6:{const i=e,s=rae(i),n=iae(i);return t.linked(jx(t,n),s?jx(t,s):void 0,t.type)}case 7:return Py(e,r);case 8:return Py(e,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const L9=t=>t;let lh=Rt();function R9(t,e={}){let r=!1;const i=e.onError||Moe;return e.onError=s=>{r=!0,i(s)},{...Koe(t,e),detectError:r}}const jae=(t,e)=>{if(!we(t))throw yo(Nn.NOT_SUPPORT_NON_STRING_MESSAGE);{it(e.warnHtmlMessage)&&e.warnHtmlMessage;const i=(e.onCacheKey||L9)(t),s=lh[i];if(s)return s;const{code:n,detectError:o}=R9(t,e),a=new Function(`return ${n}`)();return o?a:lh[i]=a}};function Bae(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&we(t)){it(e.warnHtmlMessage)&&e.warnHtmlMessage;const i=(e.onCacheKey||L9)(t),s=lh[i];if(s)return s;const{ast:n,detectError:o}=R9(t,{...e,location:!1,jit:!0}),a=A_(n);return o?a:lh[i]=a}else{const r=t.cacheKey;if(r){const i=lh[r];return i||(lh[r]=A_(t))}else return A_(t)}}const hO=()=>"",en=t=>Bt(t);function fO(t,...e){const{fallbackFormat:r,postTranslation:i,unresolving:s,messageCompiler:n,fallbackLocale:o,messages:a}=t,[l,c]=Bx(...e),f=it(c.missingWarn)?c.missingWarn:t.missingWarn,d=it(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,p=it(c.escapeParameter)?c.escapeParameter:t.escapeParameter,y=!!c.resolvedMessage,v=we(c.default)||it(c.default)?it(c.default)?n?l:()=>l:c.default:r?n?l:()=>l:"",b=r||v!=="",S=sA(t,c);p&&Vae(c);let[E,T,w]=y?[l,S,a[S]||Rt()]:k9(t,l,S,o,d,f),_=E,M=l;if(!y&&!(we(_)||Eo(_)||en(_))&&b&&(_=v,M=_),!y&&(!(we(_)||Eo(_)||en(_))||!we(T)))return s?eb:l;let $=!1;const C=()=>{$=!0},P=en(_)?_:D9(t,l,T,_,M,C);if($)return _;const N=qae(t,T,w,c),F=bae(N),q=Gae(t,P,F);let U=i?i(q,l):q;if(p&&we(U)&&(U=yoe(U)),__INTLIFY_PROD_DEVTOOLS__){const B={timestamp:Date.now(),key:we(l)?l:en(_)?_.key:"",locale:T||(en(_)?_.locale:""),format:we(_)?_:en(_)?_.source:"",message:U};B.meta=gi({},t.__meta,Lae()||{}),xae(B)}return U}function Vae(t){Zt(t.list)?t.list=t.list.map(e=>we(e)?J$(e):e):yt(t.named)&&Object.keys(t.named).forEach(e=>{we(t.named[e])&&(t.named[e]=J$(t.named[e]))})}function k9(t,e,r,i,s,n){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,f=c(t,i,r);let d=Rt(),p,y=null;const v="translate";for(let b=0;b<f.length&&(p=f[b],d=o[p]||Rt(),(y=l(d,e))===null&&(y=d[e]),!(we(y)||Eo(y)||en(y)));b++)if(!Fae(p,f)){const S=nA(t,e,p,n,v);S!==e&&(y=S)}return[y,p,d]}function D9(t,e,r,i,s,n){const{messageCompiler:o,warnHtmlMessage:a}=t;if(en(i)){const c=i;return c.locale=c.locale||r,c.key=c.key||e,c}if(o==null){const c=()=>i;return c.locale=r,c.key=e,c}const l=o(i,zae(t,r,s,i,a,n));return l.locale=r,l.key=e,l.source=i,l}function Gae(t,e,r){return e(r)}function Bx(...t){const[e,r,i]=t,s=Rt();if(!we(e)&&!Or(e)&&!en(e)&&!Eo(e))throw yo(Nn.INVALID_ARGUMENT);const n=Or(e)?String(e):(en(e),e);return Or(r)?s.plural=r:we(r)?s.default=r:qe(r)&&!X1(r)?s.named=r:Zt(r)&&(s.list=r),Or(i)?s.plural=i:we(i)?s.default=i:qe(i)&&gi(s,i),[n,s]}function zae(t,e,r,i,s,n){return{locale:e,key:r,warnHtmlMessage:s,onError:o=>{throw n&&n(o),o},onCacheKey:o=>foe(e,r,o)}}function qae(t,e,r,i){const{modifiers:s,pluralRules:n,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:f}=t,p={locale:e,modifiers:s,pluralRules:n,messages:y=>{let v=o(r,y);if(v==null&&f){const[,,b]=k9(f,y,e,a,l,c);v=o(b,y)}if(we(v)||Eo(v)){let b=!1;const E=D9(t,y,e,v,y,()=>{b=!0});return b?hO:E}else return en(v)?v:hO}};return t.processor&&(p.processor=t.processor),i.list&&(p.list=i.list),i.named&&(p.named=i.named),Or(i.plural)&&(p.pluralIndex=i.plural),p}function dO(t,...e){const{datetimeFormats:r,unresolving:i,fallbackLocale:s,onWarn:n,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,f,d]=Vx(...e),p=it(f.missingWarn)?f.missingWarn:t.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn;const y=!!f.part,v=sA(t,f),b=o(t,s,v);if(!we(l)||l==="")return new Intl.DateTimeFormat(v,d).format(c);let S={},E,T=null;const w="datetime format";for(let $=0;$<b.length&&(E=b[$],S=r[E]||{},T=S[l],!qe(T));$++)nA(t,l,E,p,w);if(!qe(T)||!we(E))return i?eb:l;let _=`${E}__${l}`;X1(d)||(_=`${_}__${JSON.stringify(d)}`);let M=a.get(_);return M||(M=new Intl.DateTimeFormat(E,gi({},T,d)),a.set(_,M)),y?M.formatToParts(c):M.format(c)}const F9=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Vx(...t){const[e,r,i,s]=t,n=Rt();let o=Rt(),a;if(we(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw yo(Nn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw yo(Nn.INVALID_ISO_DATE_ARGUMENT)}}else if(poe(e)){if(isNaN(e.getTime()))throw yo(Nn.INVALID_DATE_ARGUMENT);a=e}else if(Or(e))a=e;else throw yo(Nn.INVALID_ARGUMENT);return we(r)?n.key=r:qe(r)&&Object.keys(r).forEach(l=>{F9.includes(l)?o[l]=r[l]:n[l]=r[l]}),we(i)?n.locale=i:qe(i)&&(o=i),qe(s)&&(o=s),[n.key||"",a,n,o]}function pO(t,e,r){const i=t;for(const s in r){const n=`${e}__${s}`;i.__datetimeFormatters.has(n)&&i.__datetimeFormatters.delete(n)}}function mO(t,...e){const{numberFormats:r,unresolving:i,fallbackLocale:s,onWarn:n,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,f,d]=Gx(...e),p=it(f.missingWarn)?f.missingWarn:t.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn;const y=!!f.part,v=sA(t,f),b=o(t,s,v);if(!we(l)||l==="")return new Intl.NumberFormat(v,d).format(c);let S={},E,T=null;const w="number format";for(let $=0;$<b.length&&(E=b[$],S=r[E]||{},T=S[l],!qe(T));$++)nA(t,l,E,p,w);if(!qe(T)||!we(E))return i?eb:l;let _=`${E}__${l}`;X1(d)||(_=`${_}__${JSON.stringify(d)}`);let M=a.get(_);return M||(M=new Intl.NumberFormat(E,gi({},T,d)),a.set(_,M)),y?M.formatToParts(c):M.format(c)}const U9=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Gx(...t){const[e,r,i,s]=t,n=Rt();let o=Rt();if(!Or(e))throw yo(Nn.INVALID_ARGUMENT);const a=e;return we(r)?n.key=r:qe(r)&&Object.keys(r).forEach(l=>{U9.includes(l)?o[l]=r[l]:n[l]=r[l]}),we(i)?n.locale=i:qe(i)&&(o=i),qe(s)&&(o=s),[n.key||"",a,n,o]}function yO(t,e,r){const i=t;for(const s in r){const n=`${e}__${s}`;i.__numberFormatters.has(n)&&i.__numberFormatters.delete(n)}}Zoe();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Hae="9.14.5";function Wae(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(da().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(da().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(da().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(da().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(da().__INTLIFY_PROD_DEVTOOLS__=!1)}const Yae=Aae.__EXTEND_POINT__,zo=Q1(Yae);zo(),zo(),zo(),zo(),zo(),zo(),zo(),zo(),zo();const j9=Nn.__EXTEND_POINT__,Qi=Q1(j9),Qr={UNEXPECTED_RETURN_TYPE:j9,INVALID_ARGUMENT:Qi(),MUST_BE_CALL_SETUP_TOP:Qi(),NOT_INSTALLED:Qi(),NOT_AVAILABLE_IN_LEGACY_MODE:Qi(),REQUIRED_VALUE:Qi(),INVALID_VALUE:Qi(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Qi(),NOT_INSTALLED_WITH_PROVIDE:Qi(),UNEXPECTED_ERROR:Qi(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Qi(),BRIDGE_SUPPORT_VUE_2_ONLY:Qi(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Qi(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Qi(),__EXTEND_POINT__:Qi()};function ai(t,...e){return Tf(t,null,void 0)}const zx=Gl("__translateVNode"),qx=Gl("__datetimeParts"),Hx=Gl("__numberParts"),B9=Gl("__setPluralRules"),V9=Gl("__injectWithOption"),Wx=Gl("__dispose");function tm(t){if(!yt(t)||Eo(t))return t;for(const e in t)if(Cn(t,e))if(!e.includes("."))yt(t[e])&&tm(t[e]);else{const r=e.split("."),i=r.length-1;let s=t,n=!1;for(let o=0;o<i;o++){if(r[o]==="__proto__")throw new Error(`unsafe key: ${r[o]}`);if(r[o]in s||(s[r[o]]=Rt()),!yt(s[r[o]])){n=!0;break}s=s[r[o]]}if(n||(Eo(s)?T9.includes(r[i])||delete t[e]:(s[r[i]]=t[e],delete t[e])),!Eo(s)){const o=s[r[i]];yt(o)&&tm(o)}}return t}function tb(t,e){const{messages:r,__i18n:i,messageResolver:s,flatJson:n}=e,o=qe(r)?r:Zt(i)?Rt():{[t]:Rt()};if(Zt(i)&&i.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Rt(),D0(c,o[l])):D0(c,o)}else we(a)&&D0(JSON.parse(a),o)}),s==null&&n)for(const a in o)Cn(o,a)&&tm(o[a]);return o}function G9(t){return t.type}function z9(t,e,r){let i=yt(e.messages)?e.messages:Rt();"__i18nGlobal"in r&&(i=tb(t.locale.value,{messages:i,__i18n:r.__i18nGlobal}));const s=Object.keys(i);s.length&&s.forEach(n=>{t.mergeLocaleMessage(n,i[n])});{if(yt(e.datetimeFormats)){const n=Object.keys(e.datetimeFormats);n.length&&n.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(yt(e.numberFormats)){const n=Object.keys(e.numberFormats);n.length&&n.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function gO(t){return Ke(wo,null,t,0)}const vO="__INTLIFY_META__",bO=()=>[],Jae=()=>!1;let _O=0;function wO(t){return(e,r,i,s)=>t(r,i,jr()||void 0,s)}const Kae=()=>{const t=jr();let e=null;return t&&(e=G9(t)[vO])?{[vO]:e}:null};function oA(t={},e){const{__root:r,__injectWithOption:i}=t,s=r===void 0,n=t.flatJson,o=iv?X:Sf,a=!!t.translateExistCompatible;let l=it(t.inheritLocale)?t.inheritLocale:!0;const c=o(r&&l?r.locale.value:we(t.locale)?t.locale:Zh),f=o(r&&l?r.fallbackLocale.value:we(t.fallbackLocale)||Zt(t.fallbackLocale)||qe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:c.value),d=o(tb(c.value,t)),p=o(qe(t.datetimeFormats)?t.datetimeFormats:{[c.value]:{}}),y=o(qe(t.numberFormats)?t.numberFormats:{[c.value]:{}});let v=r?r.missingWarn:it(t.missingWarn)||Nl(t.missingWarn)?t.missingWarn:!0,b=r?r.fallbackWarn:it(t.fallbackWarn)||Nl(t.fallbackWarn)?t.fallbackWarn:!0,S=r?r.fallbackRoot:it(t.fallbackRoot)?t.fallbackRoot:!0,E=!!t.fallbackFormat,T=Bt(t.missing)?t.missing:null,w=Bt(t.missing)?wO(t.missing):null,_=Bt(t.postTranslation)?t.postTranslation:null,M=r?r.warnHtmlMessage:it(t.warnHtmlMessage)?t.warnHtmlMessage:!0,$=!!t.escapeParameter;const C=r?r.modifiers:qe(t.modifiers)?t.modifiers:{};let P=t.pluralRules||r&&r.pluralRules,N;N=(()=>{s&&lO(null);const H={version:Hae,locale:c.value,fallbackLocale:f.value,messages:d.value,modifiers:C,pluralRules:P,missing:w===null?void 0:w,missingWarn:v,fallbackWarn:b,fallbackFormat:E,unresolving:!0,postTranslation:_===null?void 0:_,warnHtmlMessage:M,escapeParameter:$,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};H.datetimeFormats=p.value,H.numberFormats=y.value,H.__datetimeFormatters=qe(N)?N.__datetimeFormatters:void 0,H.__numberFormatters=qe(N)?N.__numberFormatters:void 0;const Z=kae(H);return s&&lO(Z),Z})(),zf(N,c.value,f.value);function q(){return[c.value,f.value,d.value,p.value,y.value]}const U=et({get:()=>c.value,set:H=>{c.value=H,N.locale=c.value}}),B=et({get:()=>f.value,set:H=>{f.value=H,N.fallbackLocale=f.value,zf(N,c.value,H)}}),K=et(()=>d.value),h=et(()=>p.value),m=et(()=>y.value);function x(){return Bt(_)?_:null}function I(H){_=H,N.postTranslation=H}function V(){return T}function Y(H){H!==null&&(w=wO(H)),T=H,N.missing=w}const me=(H,Z,Ae,Le,Ut,qt)=>{q();let hr;try{__INTLIFY_PROD_DEVTOOLS__,s||(N.fallbackContext=r?Rae():void 0),hr=H(N)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(N.fallbackContext=void 0)}if(Ae!=="translate exists"&&Or(hr)&&hr===eb||Ae==="translate exists"&&!hr){const[Br,Q]=Z();return r&&S?Le(r):Ut(Br)}else{if(qt(hr))return hr;throw ai(Qr.UNEXPECTED_RETURN_TYPE)}};function ue(...H){return me(Z=>Reflect.apply(fO,null,[Z,...H]),()=>Bx(...H),"translate",Z=>Reflect.apply(Z.t,Z,[...H]),Z=>Z,Z=>we(Z))}function Me(...H){const[Z,Ae,Le]=H;if(Le&&!yt(Le))throw ai(Qr.INVALID_ARGUMENT);return ue(Z,Ae,gi({resolvedMessage:!0},Le||{}))}function Ue(...H){return me(Z=>Reflect.apply(dO,null,[Z,...H]),()=>Vx(...H),"datetime format",Z=>Reflect.apply(Z.d,Z,[...H]),()=>nO,Z=>we(Z))}function ze(...H){return me(Z=>Reflect.apply(mO,null,[Z,...H]),()=>Gx(...H),"number format",Z=>Reflect.apply(Z.n,Z,[...H]),()=>nO,Z=>we(Z))}function lt(H){return H.map(Z=>we(Z)||Or(Z)||it(Z)?gO(String(Z)):Z)}const It={normalize:lt,interpolate:H=>H,type:"vnode"};function wr(...H){return me(Z=>{let Ae;const Le=Z;try{Le.processor=It,Ae=Reflect.apply(fO,null,[Le,...H])}finally{Le.processor=null}return Ae},()=>Bx(...H),"translate",Z=>Z[zx](...H),Z=>[gO(Z)],Z=>Zt(Z))}function Ft(...H){return me(Z=>Reflect.apply(mO,null,[Z,...H]),()=>Gx(...H),"number format",Z=>Z[Hx](...H),bO,Z=>we(Z)||Zt(Z))}function nr(...H){return me(Z=>Reflect.apply(dO,null,[Z,...H]),()=>Vx(...H),"datetime format",Z=>Z[qx](...H),bO,Z=>we(Z)||Zt(Z))}function ti(H){P=H,N.pluralRules=P}function j(H,Z){return me(()=>{if(!H)return!1;const Ae=we(Z)?Z:c.value,Le=oe(Ae),Ut=N.messageResolver(Le,H);return a?Ut!=null:Eo(Ut)||en(Ut)||we(Ut)},()=>[H],"translate exists",Ae=>Reflect.apply(Ae.te,Ae,[H,Z]),Jae,Ae=>it(Ae))}function D(H){let Z=null;const Ae=$9(N,f.value,c.value);for(let Le=0;Le<Ae.length;Le++){const Ut=d.value[Ae[Le]]||{},qt=N.messageResolver(Ut,H);if(qt!=null){Z=qt;break}}return Z}function W(H){const Z=D(H);return Z??(r?r.tm(H)||{}:{})}function oe(H){return d.value[H]||{}}function te(H,Z){if(n){const Ae={[H]:Z};for(const Le in Ae)Cn(Ae,Le)&&tm(Ae[Le]);Z=Ae[H]}d.value[H]=Z,N.messages=d.value}function ce(H,Z){d.value[H]=d.value[H]||{};const Ae={[H]:Z};if(n)for(const Le in Ae)Cn(Ae,Le)&&tm(Ae[Le]);Z=Ae[H],D0(Z,d.value[H]),N.messages=d.value}function ye(H){return p.value[H]||{}}function L(H,Z){p.value[H]=Z,N.datetimeFormats=p.value,pO(N,H,Z)}function R(H,Z){p.value[H]=gi(p.value[H]||{},Z),N.datetimeFormats=p.value,pO(N,H,Z)}function G(H){return y.value[H]||{}}function re(H,Z){y.value[H]=Z,N.numberFormats=y.value,yO(N,H,Z)}function se(H,Z){y.value[H]=gi(y.value[H]||{},Z),N.numberFormats=y.value,yO(N,H,Z)}_O++,r&&iv&&(Xr(r.locale,H=>{l&&(c.value=H,N.locale=H,zf(N,c.value,f.value))}),Xr(r.fallbackLocale,H=>{l&&(f.value=H,N.fallbackLocale=H,zf(N,c.value,f.value))}));const ne={id:_O,locale:U,fallbackLocale:B,get inheritLocale(){return l},set inheritLocale(H){l=H,H&&r&&(c.value=r.locale.value,f.value=r.fallbackLocale.value,zf(N,c.value,f.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:K,get modifiers(){return C},get pluralRules(){return P||{}},get isGlobal(){return s},get missingWarn(){return v},set missingWarn(H){v=H,N.missingWarn=v},get fallbackWarn(){return b},set fallbackWarn(H){b=H,N.fallbackWarn=b},get fallbackRoot(){return S},set fallbackRoot(H){S=H},get fallbackFormat(){return E},set fallbackFormat(H){E=H,N.fallbackFormat=E},get warnHtmlMessage(){return M},set warnHtmlMessage(H){M=H,N.warnHtmlMessage=H},get escapeParameter(){return $},set escapeParameter(H){$=H,N.escapeParameter=H},t:ue,getLocaleMessage:oe,setLocaleMessage:te,mergeLocaleMessage:ce,getPostTranslationHandler:x,setPostTranslationHandler:I,getMissingHandler:V,setMissingHandler:Y,[B9]:ti};return ne.datetimeFormats=h,ne.numberFormats=m,ne.rt=Me,ne.te=j,ne.tm=W,ne.d=Ue,ne.n=ze,ne.getDateTimeFormat=ye,ne.setDateTimeFormat=L,ne.mergeDateTimeFormat=R,ne.getNumberFormat=G,ne.setNumberFormat=re,ne.mergeNumberFormat=se,ne[V9]=i,ne[zx]=wr,ne[qx]=nr,ne[Hx]=Ft,ne}function Zae(t){const e=we(t.locale)?t.locale:Zh,r=we(t.fallbackLocale)||Zt(t.fallbackLocale)||qe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,i=Bt(t.missing)?t.missing:void 0,s=it(t.silentTranslationWarn)||Nl(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,n=it(t.silentFallbackWarn)||Nl(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=it(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=qe(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,f=Bt(t.postTranslation)?t.postTranslation:void 0,d=we(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,p=!!t.escapeParameterHtml,y=it(t.sync)?t.sync:!0;let v=t.messages;if(qe(t.sharedMessages)){const $=t.sharedMessages;v=Object.keys($).reduce((P,N)=>{const F=P[N]||(P[N]={});return gi(F,$[N]),P},v||{})}const{__i18n:b,__root:S,__injectWithOption:E}=t,T=t.datetimeFormats,w=t.numberFormats,_=t.flatJson,M=t.translateExistCompatible;return{locale:e,fallbackLocale:r,messages:v,flatJson:_,datetimeFormats:T,numberFormats:w,missing:i,missingWarn:s,fallbackWarn:n,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:f,warnHtmlMessage:d,escapeParameter:p,messageResolver:t.messageResolver,inheritLocale:y,translateExistCompatible:M,__i18n:b,__root:S,__injectWithOption:E}}function Yx(t={},e){{const r=oA(Zae(t)),{__extender:i}=t,s={id:r.id,get locale(){return r.locale.value},set locale(n){r.locale.value=n},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(n){r.fallbackLocale.value=n},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(n){},get missing(){return r.getMissingHandler()},set missing(n){r.setMissingHandler(n)},get silentTranslationWarn(){return it(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(n){r.missingWarn=it(n)?!n:n},get silentFallbackWarn(){return it(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(n){r.fallbackWarn=it(n)?!n:n},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(n){r.fallbackFormat=n},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(n){r.setPostTranslationHandler(n)},get sync(){return r.inheritLocale},set sync(n){r.inheritLocale=n},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){r.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(n){r.escapeParameter=n},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(n){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...n){const[o,a,l]=n,c={};let f=null,d=null;if(!we(o))throw ai(Qr.INVALID_ARGUMENT);const p=o;return we(a)?c.locale=a:Zt(a)?f=a:qe(a)&&(d=a),Zt(l)?f=l:qe(l)&&(d=l),Reflect.apply(r.t,r,[p,f||d||{},c])},rt(...n){return Reflect.apply(r.rt,r,[...n])},tc(...n){const[o,a,l]=n,c={plural:1};let f=null,d=null;if(!we(o))throw ai(Qr.INVALID_ARGUMENT);const p=o;return we(a)?c.locale=a:Or(a)?c.plural=a:Zt(a)?f=a:qe(a)&&(d=a),we(l)?c.locale=l:Zt(l)?f=l:qe(l)&&(d=l),Reflect.apply(r.t,r,[p,f||d||{},c])},te(n,o){return r.te(n,o)},tm(n){return r.tm(n)},getLocaleMessage(n){return r.getLocaleMessage(n)},setLocaleMessage(n,o){r.setLocaleMessage(n,o)},mergeLocaleMessage(n,o){r.mergeLocaleMessage(n,o)},d(...n){return Reflect.apply(r.d,r,[...n])},getDateTimeFormat(n){return r.getDateTimeFormat(n)},setDateTimeFormat(n,o){r.setDateTimeFormat(n,o)},mergeDateTimeFormat(n,o){r.mergeDateTimeFormat(n,o)},n(...n){return Reflect.apply(r.n,r,[...n])},getNumberFormat(n){return r.getNumberFormat(n)},setNumberFormat(n,o){r.setNumberFormat(n,o)},mergeNumberFormat(n,o){r.mergeNumberFormat(n,o)},getChoiceIndex(n,o){return-1}};return s.__extender=i,s}}const aA={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function Xae({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((i,s)=>[...i,...s.type===Lt?s.children:[s]],[]):e.reduce((r,i)=>{const s=t[i];return s&&(r[i]=s()),r},Rt())}function q9(t){return Lt}const Qae=st({name:"i18n-t",props:gi({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Or(t)||!isNaN(t)}},aA),setup(t,e){const{slots:r,attrs:i}=e,s=t.i18n||sr({useScope:t.scope,__useComponent:!0});return()=>{const n=Object.keys(r).filter(d=>d!=="_"),o=Rt();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=we(t.plural)?+t.plural:t.plural);const a=Xae(e,n),l=s[zx](t.keypath,a,o),c=gi(Rt(),i),f=we(t.tag)||yt(t.tag)?t.tag:q9();return sn(f,c,l)}}}),xO=Qae;function ele(t){return Zt(t)&&!we(t[0])}function H9(t,e,r,i){const{slots:s,attrs:n}=e;return()=>{const o={part:!0};let a=Rt();t.locale&&(o.locale=t.locale),we(t.format)?o.key=t.format:yt(t.format)&&(we(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((p,y)=>r.includes(y)?gi(Rt(),p,{[y]:t.format[y]}):p,Rt()));const l=i(t.value,o,a);let c=[o.key];Zt(l)?c=l.map((p,y)=>{const v=s[p.type],b=v?v({[p.type]:p.value,index:y,parts:l}):[p.value];return ele(b)&&(b[0].key=`${p.type}-${y}`),b}):we(l)&&(c=[l]);const f=gi(Rt(),n),d=we(t.tag)||yt(t.tag)?t.tag:q9();return sn(d,f,c)}}const tle=st({name:"i18n-n",props:gi({value:{type:Number,required:!0},format:{type:[String,Object]}},aA),setup(t,e){const r=t.i18n||sr({useScope:t.scope,__useComponent:!0});return H9(t,e,U9,(...i)=>r[Hx](...i))}}),EO=tle,rle=st({name:"i18n-d",props:gi({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},aA),setup(t,e){const r=t.i18n||sr({useScope:t.scope,__useComponent:!0});return H9(t,e,F9,(...i)=>r[qx](...i))}}),SO=rle;function ile(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const i=r.__getInstance(e);return i!=null?i.__composer:t.global.__composer}}function sle(t){const e=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw ai(Qr.UNEXPECTED_ERROR);const f=ile(t,a.$),d=AO(c);return[Reflect.apply(f.t,f,[...TO(d)]),f]};return{created:(o,a)=>{const[l,c]=e(a);iv&&t.global===c&&(o.__i18nWatcher=Xr(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{iv&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=AO(a);o.textContent=Reflect.apply(l.t,l,[...TO(c)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function AO(t){if(we(t))return{path:t};if(qe(t)){if(!("path"in t))throw ai(Qr.REQUIRED_VALUE,"path");return t}else throw ai(Qr.INVALID_VALUE)}function TO(t){const{path:e,locale:r,args:i,choice:s,plural:n}=t,o={},a=i||{};return we(r)&&(o.locale=r),Or(s)&&(o.plural=s),Or(n)&&(o.plural=n),[e,a,o]}function nle(t,e,...r){const i=qe(r[0])?r[0]:{},s=!!i.useI18nComponentName;(it(i.globalInstall)?i.globalInstall:!0)&&([s?"i18n":xO.name,"I18nT"].forEach(o=>t.component(o,xO)),[EO.name,"I18nN"].forEach(o=>t.component(o,EO)),[SO.name,"I18nD"].forEach(o=>t.component(o,SO))),t.directive("t",sle(e))}function ole(t,e,r){return{beforeCreate(){const i=jr();if(!i)throw ai(Qr.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const n=s.i18n;if(s.__i18n&&(n.__i18n=s.__i18n),n.__root=e,this===this.$root)this.$i18n=MO(t,n);else{n.__injectWithOption=!0,n.__extender=r.__vueI18nExtend,this.$i18n=Yx(n);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=MO(t,s);else{this.$i18n=Yx({__i18n:s.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const n=this.$i18n;n.__extender&&(n.__disposer=n.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&z9(e,s,s),this.$t=(...n)=>this.$i18n.t(...n),this.$rt=(...n)=>this.$i18n.rt(...n),this.$tc=(...n)=>this.$i18n.tc(...n),this.$te=(n,o)=>this.$i18n.te(n,o),this.$d=(...n)=>this.$i18n.d(...n),this.$n=(...n)=>this.$i18n.n(...n),this.$tm=n=>this.$i18n.tm(n),r.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=jr();if(!i)throw ai(Qr.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),r.__deleteInstance(i),delete this.$i18n}}}function MO(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[B9](e.pluralizationRules||t.pluralizationRules);const r=tb(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(i=>t.mergeLocaleMessage(i,r[i])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(i=>t.mergeDateTimeFormat(i,e.datetimeFormats[i])),e.numberFormats&&Object.keys(e.numberFormats).forEach(i=>t.mergeNumberFormat(i,e.numberFormats[i])),t}const ale=Gl("global-vue-i18n");function lle(t={},e){const r=__VUE_I18N_LEGACY_API__&&it(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,i=it(t.globalInjection)?t.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,n=new Map,[o,a]=cle(t,r),l=Gl("");function c(p){return n.get(p)||null}function f(p,y){n.set(p,y)}function d(p){n.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return s},async install(y,...v){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,p),qe(v[0])){const E=v[0];p.__composerExtend=E.__composerExtend,p.__vueI18nExtend=E.__vueI18nExtend}let b=null;!r&&i&&(b=vle(y,p.global)),__VUE_I18N_FULL_INSTALL__&&nle(y,p,...v),__VUE_I18N_LEGACY_API__&&r&&y.mixin(ole(a,a.__composer,p));const S=y.unmount;y.unmount=()=>{b&&b(),p.dispose(),S()}},get global(){return a},dispose(){o.stop()},__instances:n,__getInstance:c,__setInstance:f,__deleteInstance:d};return p}}function sr(t={}){const e=jr();if(e==null)throw ai(Qr.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw ai(Qr.NOT_INSTALLED);const r=ule(e),i=fle(r),s=G9(e),n=hle(t,s);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw ai(Qr.NOT_AVAILABLE_IN_LEGACY_MODE);return yle(e,n,i,t)}if(n==="global")return z9(i,t,s),i;if(n==="parent"){let l=dle(r,e,t.__useComponent);return l==null&&(l=i),l}const o=r;let a=o.__getInstance(e);if(a==null){const l=gi({},t);"__i18n"in s&&(l.__i18n=s.__i18n),i&&(l.__root=i),a=oA(l),o.__composerExtend&&(a[Wx]=o.__composerExtend(a)),mle(o,e,a),o.__setInstance(e,a)}return a}function cle(t,e,r){const i=Nm();{const s=__VUE_I18N_LEGACY_API__&&e?i.run(()=>Yx(t)):i.run(()=>oA(t));if(s==null)throw ai(Qr.UNEXPECTED_ERROR);return[i,s]}}function ule(t){{const e=Ur(t.isCE?ale:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw ai(t.isCE?Qr.NOT_INSTALLED_WITH_PROVIDE:Qr.UNEXPECTED_ERROR);return e}}function hle(t,e){return X1(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function fle(t){return t.mode==="composition"?t.global:t.global.__composer}function dle(t,e,r=!1){let i=null;const s=e.root;let n=ple(e,r);for(;n!=null;){const o=t;if(t.mode==="composition")i=o.__getInstance(n);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(n);a!=null&&(i=a.__composer,r&&i&&!i[V9]&&(i=null))}if(i!=null||s===n)break;n=n.parent}return i}function ple(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function mle(t,e,r){vi(()=>{},e),pu(()=>{const i=r;t.__deleteInstance(e);const s=i[Wx];s&&(s(),delete i[Wx])},e)}function yle(t,e,r,i={}){const s=e==="local",n=Sf(null);if(s&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw ai(Qr.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=it(i.inheritLocale)?i.inheritLocale:!we(i.locale),a=X(!s||o?r.locale.value:we(i.locale)?i.locale:Zh),l=X(!s||o?r.fallbackLocale.value:we(i.fallbackLocale)||Zt(i.fallbackLocale)||qe(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:a.value),c=X(tb(a.value,i)),f=X(qe(i.datetimeFormats)?i.datetimeFormats:{[a.value]:{}}),d=X(qe(i.numberFormats)?i.numberFormats:{[a.value]:{}}),p=s?r.missingWarn:it(i.missingWarn)||Nl(i.missingWarn)?i.missingWarn:!0,y=s?r.fallbackWarn:it(i.fallbackWarn)||Nl(i.fallbackWarn)?i.fallbackWarn:!0,v=s?r.fallbackRoot:it(i.fallbackRoot)?i.fallbackRoot:!0,b=!!i.fallbackFormat,S=Bt(i.missing)?i.missing:null,E=Bt(i.postTranslation)?i.postTranslation:null,T=s?r.warnHtmlMessage:it(i.warnHtmlMessage)?i.warnHtmlMessage:!0,w=!!i.escapeParameter,_=s?r.modifiers:qe(i.modifiers)?i.modifiers:{},M=i.pluralRules||s&&r.pluralRules;function $(){return[a.value,l.value,c.value,f.value,d.value]}const C=et({get:()=>n.value?n.value.locale.value:a.value,set:D=>{n.value&&(n.value.locale.value=D),a.value=D}}),P=et({get:()=>n.value?n.value.fallbackLocale.value:l.value,set:D=>{n.value&&(n.value.fallbackLocale.value=D),l.value=D}}),N=et(()=>n.value?n.value.messages.value:c.value),F=et(()=>f.value),q=et(()=>d.value);function U(){return n.value?n.value.getPostTranslationHandler():E}function B(D){n.value&&n.value.setPostTranslationHandler(D)}function K(){return n.value?n.value.getMissingHandler():S}function h(D){n.value&&n.value.setMissingHandler(D)}function m(D){return $(),D()}function x(...D){return n.value?m(()=>Reflect.apply(n.value.t,null,[...D])):m(()=>"")}function I(...D){return n.value?Reflect.apply(n.value.rt,null,[...D]):""}function V(...D){return n.value?m(()=>Reflect.apply(n.value.d,null,[...D])):m(()=>"")}function Y(...D){return n.value?m(()=>Reflect.apply(n.value.n,null,[...D])):m(()=>"")}function me(D){return n.value?n.value.tm(D):{}}function ue(D,W){return n.value?n.value.te(D,W):!1}function Me(D){return n.value?n.value.getLocaleMessage(D):{}}function Ue(D,W){n.value&&(n.value.setLocaleMessage(D,W),c.value[D]=W)}function ze(D,W){n.value&&n.value.mergeLocaleMessage(D,W)}function lt(D){return n.value?n.value.getDateTimeFormat(D):{}}function zt(D,W){n.value&&(n.value.setDateTimeFormat(D,W),f.value[D]=W)}function It(D,W){n.value&&n.value.mergeDateTimeFormat(D,W)}function wr(D){return n.value?n.value.getNumberFormat(D):{}}function Ft(D,W){n.value&&(n.value.setNumberFormat(D,W),d.value[D]=W)}function nr(D,W){n.value&&n.value.mergeNumberFormat(D,W)}const ti={get id(){return n.value?n.value.id:-1},locale:C,fallbackLocale:P,messages:N,datetimeFormats:F,numberFormats:q,get inheritLocale(){return n.value?n.value.inheritLocale:o},set inheritLocale(D){n.value&&(n.value.inheritLocale=D)},get availableLocales(){return n.value?n.value.availableLocales:Object.keys(c.value)},get modifiers(){return n.value?n.value.modifiers:_},get pluralRules(){return n.value?n.value.pluralRules:M},get isGlobal(){return n.value?n.value.isGlobal:!1},get missingWarn(){return n.value?n.value.missingWarn:p},set missingWarn(D){n.value&&(n.value.missingWarn=D)},get fallbackWarn(){return n.value?n.value.fallbackWarn:y},set fallbackWarn(D){n.value&&(n.value.missingWarn=D)},get fallbackRoot(){return n.value?n.value.fallbackRoot:v},set fallbackRoot(D){n.value&&(n.value.fallbackRoot=D)},get fallbackFormat(){return n.value?n.value.fallbackFormat:b},set fallbackFormat(D){n.value&&(n.value.fallbackFormat=D)},get warnHtmlMessage(){return n.value?n.value.warnHtmlMessage:T},set warnHtmlMessage(D){n.value&&(n.value.warnHtmlMessage=D)},get escapeParameter(){return n.value?n.value.escapeParameter:w},set escapeParameter(D){n.value&&(n.value.escapeParameter=D)},t:x,getPostTranslationHandler:U,setPostTranslationHandler:B,getMissingHandler:K,setMissingHandler:h,rt:I,d:V,n:Y,tm:me,te:ue,getLocaleMessage:Me,setLocaleMessage:Ue,mergeLocaleMessage:ze,getDateTimeFormat:lt,setDateTimeFormat:zt,mergeDateTimeFormat:It,getNumberFormat:wr,setNumberFormat:Ft,mergeNumberFormat:nr};function j(D){D.locale.value=a.value,D.fallbackLocale.value=l.value,Object.keys(c.value).forEach(W=>{D.mergeLocaleMessage(W,c.value[W])}),Object.keys(f.value).forEach(W=>{D.mergeDateTimeFormat(W,f.value[W])}),Object.keys(d.value).forEach(W=>{D.mergeNumberFormat(W,d.value[W])}),D.escapeParameter=w,D.fallbackFormat=b,D.fallbackRoot=v,D.fallbackWarn=y,D.missingWarn=p,D.warnHtmlMessage=T}return D1(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw ai(Qr.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const D=n.value=t.proxy.$i18n.__composer;e==="global"?(a.value=D.locale.value,l.value=D.fallbackLocale.value,c.value=D.messages.value,f.value=D.datetimeFormats.value,d.value=D.numberFormats.value):s&&j(D)}),ti}const gle=["locale","fallbackLocale","availableLocales"],$O=["t","rt","d","n","tm","te"];function vle(t,e){const r=Object.create(null);return gle.forEach(s=>{const n=Object.getOwnPropertyDescriptor(e,s);if(!n)throw ai(Qr.UNEXPECTED_ERROR);const o=dt(n.value)?{get(){return n.value.value},set(a){n.value.value=a}}:{get(){return n.get&&n.get()}};Object.defineProperty(r,s,o)}),t.config.globalProperties.$i18n=r,$O.forEach(s=>{const n=Object.getOwnPropertyDescriptor(e,s);if(!n||!n.value)throw ai(Qr.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,n)}),()=>{delete t.config.globalProperties.$i18n,$O.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}Wae();__INTLIFY_JIT_COMPILATION__?aO(Bae):aO(jae);Cae(hae);Nae($9);if(__INTLIFY_PROD_DEVTOOLS__){const t=da();t.__INTLIFY__=!0,_ae(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const ble={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","ramp.reload":"Reload RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Franais","map.language.curr":"current","map.export":"export map","map.layerSwipe.drag":"Drag and slide to move","map.layerSwipe.label":"Layer swipe","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"franais","lang-native":"Franais","ramp.about.open":"Ouvrir  propos de PCAR","ramp.about":" propos de PCAR","ramp.reload":"Recharger PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous dplacer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un lment de la liste est slectionn, vous pouvez appuyer sur  Espace  ou  Entre  pour cliquer sur l'lment. Vous pouvez galement vous dplacer au sein de l'lment de la liste au moyen de la touche  Tab .","keyboardInstructions.map":"Lorsque la carte est slectionne, utilisez le pav curseur pour vous dplacer et appuyez sur  Entre   pour slectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer  l'chelle mtrique","map.toggleScaleToImperial":"Passer  l'chelle impriale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Franais","map.language.curr":"actuel","map.export":"exporter la carte","map.layerSwipe.drag":"Faites glisser et glissez pour dplacer","map.layerSwipe.label":"Glissement de calque","notifications.open":"Ouvrir la fentre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"Dvelopper","notifications.controls.collapse":"Rduire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entre ou sur la barre d'espacement pour accder au panneau","panels.controls.close":"Fermer","panels.controls.pin":"pingler","panels.controls.unpin":"Dspingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"Rduire","panels.controls.expand":"Dvelopper","panels.controls.collapse":"Rduire","panels.controls.moveRight":"Aller  droite","panels.controls.moveLeft":"Aller  gauche","panels.controls.items":"Utilisez les touches flches pour naviguer entre les lments","panels.alert.open":"Fentre {name} ouverte","panels.alert.close":"Fentre {name} ferme","panels.alert.minimize":"Fentre {name} rduite","layer.error":"chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que prvu","layer.longdraw":"{id} prend plus de temps que prvu  extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont t dsactivs pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement dsactiv.","layer.noexportmap":"La tentative dajouter {name} comme couche dimagerie cartographique a choue car elle na pu tre activ pour ce service","caption.attributionDefaultText":"Propuls par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},OO="en",_le={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function wle(){return lle({legacy:!1,locale:document.documentElement.getAttribute("lang")||OO,fallbackLocale:OO,globalInjection:!0,messages:ble,numberFormats:_le})}var T_={exports:{}};/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/var IO;function xle(){return IO||(IO=1,function(t){(function(){var e=typeof window<"u"&&typeof window.document<"u"?window.document:{},r=t.exports,i=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,f={};l<c;l++)if(o=a[l],o&&o[1]in e){for(l=0;l<o.length;l++)f[a[0][l]]=o[l];return f}return!1}(),s={change:i.fullscreenchange,error:i.fullscreenerror},n={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||e.documentElement;var f=o[i.requestFullscreen]();f instanceof Promise&&f.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=e[i.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=s[o];l&&e.addEventListener(l,a,!1)},off:function(o,a){var l=s[o];l&&e.removeEventListener(l,a,!1)},raw:i};if(!i){r?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(n,{isFullscreen:{get:function(){return!!e[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!e[i.fullscreenEnabled]}}}),r?t.exports=n:window.screenfull=n})()}(T_)),T_.exports}var Ele=xle();const to=b1(Ele);var Ad={exports:{}};Ad.exports;var CO;function Sle(){return CO||(CO=1,function(t,e){var r=200,i="__lodash_hash_undefined__",s=9007199254740991,n="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",y="[object Number]",v="[object Object]",b="[object Promise]",S="[object RegExp]",E="[object Set]",T="[object String]",w="[object Symbol]",_="[object WeakMap]",M="[object ArrayBuffer]",$="[object DataView]",C="[object Float32Array]",P="[object Float64Array]",N="[object Int8Array]",F="[object Int16Array]",q="[object Int32Array]",U="[object Uint8Array]",B="[object Uint8ClampedArray]",K="[object Uint16Array]",h="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,x=/\w*$/,I=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,Y={};Y[n]=Y[o]=Y[M]=Y[$]=Y[a]=Y[l]=Y[C]=Y[P]=Y[N]=Y[F]=Y[q]=Y[p]=Y[y]=Y[v]=Y[S]=Y[E]=Y[T]=Y[w]=Y[U]=Y[B]=Y[K]=Y[h]=!0,Y[c]=Y[f]=Y[_]=!1;var me=typeof my=="object"&&my&&my.Object===Object&&my,ue=typeof self=="object"&&self&&self.Object===Object&&self,Me=me||ue||Function("return this")(),Ue=e&&!e.nodeType&&e,ze=Ue&&!0&&t&&!t.nodeType&&t,lt=ze&&ze.exports===Ue;function zt(k,J){return k.set(J[0],J[1]),k}function It(k,J){return k.add(J),k}function wr(k,J){for(var ae=-1,Ce=k?k.length:0;++ae<Ce&&J(k[ae],ae,k)!==!1;);return k}function Ft(k,J){for(var ae=-1,Ce=J.length,ci=k.length;++ae<Ce;)k[ci+ae]=J[ae];return k}function nr(k,J,ae,Ce){for(var ci=-1,Zi=k?k.length:0;++ci<Zi;)ae=J(ae,k[ci],ci,k);return ae}function ti(k,J){for(var ae=-1,Ce=Array(k);++ae<k;)Ce[ae]=J(ae);return Ce}function j(k,J){return k?.[J]}function D(k){var J=!1;if(k!=null&&typeof k.toString!="function")try{J=!!(k+"")}catch{}return J}function W(k){var J=-1,ae=Array(k.size);return k.forEach(function(Ce,ci){ae[++J]=[ci,Ce]}),ae}function oe(k,J){return function(ae){return k(J(ae))}}function te(k){var J=-1,ae=Array(k.size);return k.forEach(function(Ce){ae[++J]=Ce}),ae}var ce=Array.prototype,ye=Function.prototype,L=Object.prototype,R=Me["__core-js_shared__"],G=function(){var k=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),re=ye.toString,se=L.hasOwnProperty,ne=L.toString,H=RegExp("^"+re.call(se).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=lt?Me.Buffer:void 0,Ae=Me.Symbol,Le=Me.Uint8Array,Ut=oe(Object.getPrototypeOf,Object),qt=Object.create,hr=L.propertyIsEnumerable,Br=ce.splice,Q=Object.getOwnPropertySymbols,Te=Z?Z.isBuffer:void 0,Oe=oe(Object.keys,Object),We=wu(Me,"DataView"),Ze=wu(Me,"Map"),Vr=wu(Me,"Promise"),bi=wu(Me,"Set"),Zn=wu(Me,"WeakMap"),Ma=wu(Object,"create"),Do=Zl(We),Mf=Zl(Ze),gu=Zl(Vr),$a=Zl(bi),db=Zl(Zn),vu=Ae?Ae.prototype:void 0,Yl=vu?vu.valueOf:void 0;function Jl(k){var J=-1,ae=k?k.length:0;for(this.clear();++J<ae;){var Ce=k[J];this.set(Ce[0],Ce[1])}}function yD(){this.__data__=Ma?Ma(null):{}}function gD(k){return this.has(k)&&delete this.__data__[k]}function vD(k){var J=this.__data__;if(Ma){var ae=J[k];return ae===i?void 0:ae}return se.call(J,k)?J[k]:void 0}function bD(k){var J=this.__data__;return Ma?J[k]!==void 0:se.call(J,k)}function _D(k,J){var ae=this.__data__;return ae[k]=Ma&&J===void 0?i:J,this}Jl.prototype.clear=yD,Jl.prototype.delete=gD,Jl.prototype.get=vD,Jl.prototype.has=bD,Jl.prototype.set=_D;function Fo(k){var J=-1,ae=k?k.length:0;for(this.clear();++J<ae;){var Ce=k[J];this.set(Ce[0],Ce[1])}}function wD(){this.__data__=[]}function xD(k){var J=this.__data__,ae=Ym(J,k);if(ae<0)return!1;var Ce=J.length-1;return ae==Ce?J.pop():Br.call(J,ae,1),!0}function ED(k){var J=this.__data__,ae=Ym(J,k);return ae<0?void 0:J[ae][1]}function SD(k){return Ym(this.__data__,k)>-1}function AD(k,J){var ae=this.__data__,Ce=Ym(ae,k);return Ce<0?ae.push([k,J]):ae[Ce][1]=J,this}Fo.prototype.clear=wD,Fo.prototype.delete=xD,Fo.prototype.get=ED,Fo.prototype.has=SD,Fo.prototype.set=AD;function bu(k){var J=-1,ae=k?k.length:0;for(this.clear();++J<ae;){var Ce=k[J];this.set(Ce[0],Ce[1])}}function TD(){this.__data__={hash:new Jl,map:new(Ze||Fo),string:new Jl}}function MD(k){return Jm(this,k).delete(k)}function $D(k){return Jm(this,k).get(k)}function OD(k){return Jm(this,k).has(k)}function ID(k,J){return Jm(this,k).set(k,J),this}bu.prototype.clear=TD,bu.prototype.delete=MD,bu.prototype.get=$D,bu.prototype.has=OD,bu.prototype.set=ID;function _u(k){this.__data__=new Fo(k)}function CD(){this.__data__=new Fo}function ND(k){return this.__data__.delete(k)}function PD(k){return this.__data__.get(k)}function LD(k){return this.__data__.has(k)}function RD(k,J){var ae=this.__data__;if(ae instanceof Fo){var Ce=ae.__data__;if(!Ze||Ce.length<r-1)return Ce.push([k,J]),this;ae=this.__data__=new bu(Ce)}return ae.set(k,J),this}_u.prototype.clear=CD,_u.prototype.delete=ND,_u.prototype.get=PD,_u.prototype.has=LD,_u.prototype.set=RD;function kD(k,J){var ae=yb(k)||oF(k)?ti(k.length,String):[],Ce=ae.length,ci=!!Ce;for(var Zi in k)se.call(k,Zi)&&!(ci&&(Zi=="length"||rF(Zi,Ce)))&&ae.push(Zi);return ae}function QA(k,J,ae){var Ce=k[J];(!(se.call(k,J)&&iT(Ce,ae))||ae===void 0&&!(J in k))&&(k[J]=ae)}function Ym(k,J){for(var ae=k.length;ae--;)if(iT(k[ae][0],J))return ae;return-1}function DD(k,J){return k&&eT(J,gb(J),k)}function pb(k,J,ae,Ce,ci,Zi,Uo){var Xi;if(Ce&&(Xi=Zi?Ce(k,ci,Zi,Uo):Ce(k)),Xi!==void 0)return Xi;if(!Km(k))return k;var oT=yb(k);if(oT){if(Xi=QD(k),!J)return KD(k,Xi)}else{var xu=Kl(k),aT=xu==f||xu==d;if(lF(k))return GD(k,J);if(xu==v||xu==n||aT&&!Zi){if(D(k))return Zi?k:{};if(Xi=eF(aT?{}:k),!J)return ZD(k,DD(Xi,k))}else{if(!Y[xu])return Zi?k:{};Xi=tF(k,xu,pb,J)}}Uo||(Uo=new _u);var lT=Uo.get(k);if(lT)return lT;if(Uo.set(k,Xi),!oT)var cT=ae?XD(k):gb(k);return wr(cT||k,function(vb,Zm){cT&&(Zm=vb,vb=k[Zm]),QA(Xi,Zm,pb(vb,J,ae,Ce,Zm,k,Uo))}),Xi}function FD(k){return Km(k)?qt(k):{}}function UD(k,J,ae){var Ce=J(k);return yb(k)?Ce:Ft(Ce,ae(k))}function jD(k){return ne.call(k)}function BD(k){if(!Km(k)||sF(k))return!1;var J=nT(k)||D(k)?H:I;return J.test(Zl(k))}function VD(k){if(!rT(k))return Oe(k);var J=[];for(var ae in Object(k))se.call(k,ae)&&ae!="constructor"&&J.push(ae);return J}function GD(k,J){if(J)return k.slice();var ae=new k.constructor(k.length);return k.copy(ae),ae}function mb(k){var J=new k.constructor(k.byteLength);return new Le(J).set(new Le(k)),J}function zD(k,J){var ae=J?mb(k.buffer):k.buffer;return new k.constructor(ae,k.byteOffset,k.byteLength)}function qD(k,J,ae){var Ce=J?ae(W(k),!0):W(k);return nr(Ce,zt,new k.constructor)}function HD(k){var J=new k.constructor(k.source,x.exec(k));return J.lastIndex=k.lastIndex,J}function WD(k,J,ae){var Ce=J?ae(te(k),!0):te(k);return nr(Ce,It,new k.constructor)}function YD(k){return Yl?Object(Yl.call(k)):{}}function JD(k,J){var ae=J?mb(k.buffer):k.buffer;return new k.constructor(ae,k.byteOffset,k.length)}function KD(k,J){var ae=-1,Ce=k.length;for(J||(J=Array(Ce));++ae<Ce;)J[ae]=k[ae];return J}function eT(k,J,ae,Ce){ae||(ae={});for(var ci=-1,Zi=J.length;++ci<Zi;){var Uo=J[ci],Xi=void 0;QA(ae,Uo,Xi===void 0?k[Uo]:Xi)}return ae}function ZD(k,J){return eT(k,tT(k),J)}function XD(k){return UD(k,gb,tT)}function Jm(k,J){var ae=k.__data__;return iF(J)?ae[typeof J=="string"?"string":"hash"]:ae.map}function wu(k,J){var ae=j(k,J);return BD(ae)?ae:void 0}var tT=Q?oe(Q,Object):hF,Kl=jD;(We&&Kl(new We(new ArrayBuffer(1)))!=$||Ze&&Kl(new Ze)!=p||Vr&&Kl(Vr.resolve())!=b||bi&&Kl(new bi)!=E||Zn&&Kl(new Zn)!=_)&&(Kl=function(k){var J=ne.call(k),ae=J==v?k.constructor:void 0,Ce=ae?Zl(ae):void 0;if(Ce)switch(Ce){case Do:return $;case Mf:return p;case gu:return b;case $a:return E;case db:return _}return J});function QD(k){var J=k.length,ae=k.constructor(J);return J&&typeof k[0]=="string"&&se.call(k,"index")&&(ae.index=k.index,ae.input=k.input),ae}function eF(k){return typeof k.constructor=="function"&&!rT(k)?FD(Ut(k)):{}}function tF(k,J,ae,Ce){var ci=k.constructor;switch(J){case M:return mb(k);case a:case l:return new ci(+k);case $:return zD(k,Ce);case C:case P:case N:case F:case q:case U:case B:case K:case h:return JD(k,Ce);case p:return qD(k,Ce,ae);case y:case T:return new ci(k);case S:return HD(k);case E:return WD(k,Ce,ae);case w:return YD(k)}}function rF(k,J){return J=J??s,!!J&&(typeof k=="number"||V.test(k))&&k>-1&&k%1==0&&k<J}function iF(k){var J=typeof k;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?k!=="__proto__":k===null}function sF(k){return!!G&&G in k}function rT(k){var J=k&&k.constructor,ae=typeof J=="function"&&J.prototype||L;return k===ae}function Zl(k){if(k!=null){try{return re.call(k)}catch{}try{return k+""}catch{}}return""}function nF(k){return pb(k,!0,!0)}function iT(k,J){return k===J||k!==k&&J!==J}function oF(k){return aF(k)&&se.call(k,"callee")&&(!hr.call(k,"callee")||ne.call(k)==n)}var yb=Array.isArray;function sT(k){return k!=null&&cF(k.length)&&!nT(k)}function aF(k){return uF(k)&&sT(k)}var lF=Te||fF;function nT(k){var J=Km(k)?ne.call(k):"";return J==f||J==d}function cF(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=s}function Km(k){var J=typeof k;return!!k&&(J=="object"||J=="function")}function uF(k){return!!k&&typeof k=="object"}function gb(k){return sT(k)?kD(k):VD(k)}function hF(){return[]}function fF(){return!1}t.exports=nF}(Ad,Ad.exports)),Ad.exports}var Ale=Sle();const NO=b1(Ale),nv=ur("maptip",()=>{const t=X(void 0),e=X(void 0),r=X("");function i(o){t.value=o}function s(o){e.value=o}function n(o){r.value=o}return{maptipInstance:t,maptipPoint:e,content:r,setMaptipInstance:i,setMaptipPoint:s,setMaptipContent:n}}),Tle=st({__name:"esri-map",setup(t){const e=nv(),r=Ur("iApi"),i=et(()=>e.maptipPoint),s=et(()=>e.maptipInstance),n=et(()=>e.content),o=li([]),a=X(!1);o.push(Xr(i,()=>{if(i.value){const c=r.geo.map.getPixelWidth()/2,f=0,d=r.geo.map.mapPointToScreenPoint(i.value),p=d.screenX-c,y=f-d.screenY;s.value.setProps({offset:a.value?[p,y+25]:[p,y]}),n.value&&n.value!==""&&s.value.show()}else s.value.hide()})),o.push(Xr(n,c=>{c&&c!==""&&i?(s.value.setContent(c),s.value.show()):s.value.hide()})),Jn(()=>{o.forEach(c=>c())});const l=()=>{r.geo.map.setMouseFocus()};return(c,f)=>{const d=Ot("tippy");return $t((fe(),xe("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:l,onTouchstart:f[0]||(f[0]=p=>a.value=!0),onTouchend:f[1]||(f[1]=p=>a.value=!1),onKeydown:f[2]||(f[2]=P3(Um(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[d,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var W9={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},lA={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Mle=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],ov={CSS:{},springs:{}};function go(t,e,r){return Math.min(Math.max(t,e),r)}function ep(t,e){return t.indexOf(e)>-1}function M_(t,e){return t.apply(null,e)}var Re={arr:function(t){return Array.isArray(t)},obj:function(t){return ep(Object.prototype.toString.call(t),"Object")},pth:function(t){return Re.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||Re.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t>"u"},nil:function(t){return Re.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return Re.hex(t)||Re.rgb(t)||Re.hsl(t)},key:function(t){return!W9.hasOwnProperty(t)&&!lA.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function Y9(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(r){return parseFloat(r)}):[]}function J9(t,e){var r=Y9(t),i=go(Re.und(r[0])?1:r[0],.1,100),s=go(Re.und(r[1])?100:r[1],.1,100),n=go(Re.und(r[2])?10:r[2],.1,100),o=go(Re.und(r[3])?0:r[3],.1,100),a=Math.sqrt(s/i),l=n/(2*Math.sqrt(s*i)),c=l<1?a*Math.sqrt(1-l*l):0,f=1,d=l<1?(l*a+-o)/c:-o+a;function p(v){var b=e?e*v/1e3:v;return l<1?b=Math.exp(-b*l*a)*(f*Math.cos(c*b)+d*Math.sin(c*b)):b=(f+d*b)*Math.exp(-b*a),v===0||v===1?v:1-b}function y(){var v=ov.springs[t];if(v)return v;for(var b=1/6,S=0,E=0;;)if(S+=b,p(S)===1){if(E++,E>=16)break}else E=0;var T=S*b*1e3;return ov.springs[t]=T,T}return e?p:y}function $le(t){return t===void 0&&(t=10),function(e){return Math.ceil(go(e,1e-6,1)*t)*(1/t)}}var Ole=function(){var t=11,e=1/(t-1);function r(f,d){return 1-3*d+3*f}function i(f,d){return 3*d-6*f}function s(f){return 3*f}function n(f,d,p){return((r(d,p)*f+i(d,p))*f+s(d))*f}function o(f,d,p){return 3*r(d,p)*f*f+2*i(d,p)*f+s(d)}function a(f,d,p,y,v){var b,S,E=0;do S=d+(p-d)/2,b=n(S,y,v)-f,b>0?p=S:d=S;while(Math.abs(b)>1e-7&&++E<10);return S}function l(f,d,p,y){for(var v=0;v<4;++v){var b=o(d,p,y);if(b===0)return d;var S=n(d,p,y)-f;d-=S/b}return d}function c(f,d,p,y){if(!(0<=f&&f<=1&&0<=p&&p<=1))return;var v=new Float32Array(t);if(f!==d||p!==y)for(var b=0;b<t;++b)v[b]=n(b*e,f,p);function S(E){for(var T=0,w=1,_=t-1;w!==_&&v[w]<=E;++w)T+=e;--w;var M=(E-v[w])/(v[w+1]-v[w]),$=T+M*e,C=o($,f,p);return C>=.001?l(E,$,f,p):C===0?$:a(E,T,T+e,f,p)}return function(E){return f===d&&p===y||E===0||E===1?E:n(S(E),d,y)}}return c}(),K9=function(){var t={linear:function(){return function(i){return i}}},e={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var s,n=4;i<((s=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((s*3-2)/22-i,2)}},Elastic:function(i,s){i===void 0&&(i=1),s===void 0&&(s=.5);var n=go(i,1,10),o=go(s,.1,2);return function(a){return a===0||a===1?a:-n*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/n))*(Math.PI*2)/o)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(i,s){e[i]=function(){return function(n){return Math.pow(n,s+2)}}}),Object.keys(e).forEach(function(i){var s=e[i];t["easeIn"+i]=s,t["easeOut"+i]=function(n,o){return function(a){return 1-s(n,o)(1-a)}},t["easeInOut"+i]=function(n,o){return function(a){return a<.5?s(n,o)(a*2)/2:1-s(n,o)(a*-2+2)/2}},t["easeOutIn"+i]=function(n,o){return function(a){return a<.5?(1-s(n,o)(1-a*2))/2:(s(n,o)(a*2-1)+1)/2}}}),t}();function cA(t,e){if(Re.fnc(t))return t;var r=t.split("(")[0],i=K9[r],s=Y9(t);switch(r){case"spring":return J9(t,e);case"cubicBezier":return M_(Ole,s);case"steps":return M_($le,s);default:return M_(i,s)}}function Z9(t){try{var e=document.querySelectorAll(t);return e}catch{return}}function rb(t,e){for(var r=t.length,i=arguments.length>=2?arguments[1]:void 0,s=[],n=0;n<r;n++)if(n in t){var o=t[n];e.call(i,o,n,t)&&s.push(o)}return s}function ib(t){return t.reduce(function(e,r){return e.concat(Re.arr(r)?ib(r):r)},[])}function PO(t){return Re.arr(t)?t:(Re.str(t)&&(t=Z9(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function uA(t,e){return t.some(function(r){return r===e})}function hA(t){var e={};for(var r in t)e[r]=t[r];return e}function Jx(t,e){var r=hA(t);for(var i in t)r[i]=e.hasOwnProperty(i)?e[i]:t[i];return r}function sb(t,e){var r=hA(t);for(var i in e)r[i]=Re.und(t[i])?e[i]:t[i];return r}function Ile(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function Cle(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=t.replace(e,function(a,l,c,f){return l+l+c+c+f+f}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),s=parseInt(i[1],16),n=parseInt(i[2],16),o=parseInt(i[3],16);return"rgba("+s+","+n+","+o+",1)"}function Nle(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),r=parseInt(e[1],10)/360,i=parseInt(e[2],10)/100,s=parseInt(e[3],10)/100,n=e[4]||1;function o(p,y,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?p+(y-p)*6*v:v<1/2?y:v<2/3?p+(y-p)*(2/3-v)*6:p}var a,l,c;if(i==0)a=l=c=s;else{var f=s<.5?s*(1+i):s+i-s*i,d=2*s-f;a=o(d,f,r+1/3),l=o(d,f,r),c=o(d,f,r-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+n+")"}function Ple(t){if(Re.rgb(t))return Ile(t);if(Re.hex(t))return Cle(t);if(Re.hsl(t))return Nle(t)}function ga(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function Lle(t){if(ep(t,"translate")||t==="perspective")return"px";if(ep(t,"rotate")||ep(t,"skew"))return"deg"}function Kx(t,e){return Re.fnc(t)?t(e.target,e.id,e.total):t}function vo(t,e){return t.getAttribute(e)}function fA(t,e,r){var i=ga(e);if(uA([r,"deg","rad","turn"],i))return e;var s=ov.CSS[e+r];if(!Re.und(s))return s;var n=100,o=document.createElement(t.tagName),a=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=n+r;var l=n/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(e);return ov.CSS[e+r]=c,c}function X9(t,e,r){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return r?fA(t,s,r):s}}function dA(t,e){if(Re.dom(t)&&!Re.inp(t)&&(!Re.nil(vo(t,e))||Re.svg(t)&&t[e]))return"attribute";if(Re.dom(t)&&uA(Mle,e))return"transform";if(Re.dom(t)&&e!=="transform"&&X9(t,e))return"css";if(t[e]!=null)return"object"}function Q9(t){if(Re.dom(t)){for(var e=t.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map,s;s=r.exec(e);)i.set(s[1],s[2]);return i}}function Rle(t,e,r,i){var s=ep(e,"scale")?1:0+Lle(e),n=Q9(t).get(e)||s;return r&&(r.transforms.list.set(e,n),r.transforms.last=e),i?fA(t,n,i):n}function pA(t,e,r,i){switch(dA(t,e)){case"transform":return Rle(t,e,i,r);case"css":return X9(t,e,r);case"attribute":return vo(t,e);default:return t[e]||0}}function mA(t,e){var r=/^(\*=|\+=|-=)/.exec(t);if(!r)return t;var i=ga(t)||0,s=parseFloat(e),n=parseFloat(t.replace(r[0],""));switch(r[0][0]){case"+":return s+n+i;case"-":return s-n+i;case"*":return s*n+i}}function e7(t,e){if(Re.col(t))return Ple(t);if(/\s/g.test(t))return t;var r=ga(t),i=r?t.substr(0,t.length-r.length):t;return e?i+e:i}function yA(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function kle(t){return Math.PI*2*vo(t,"r")}function Dle(t){return vo(t,"width")*2+vo(t,"height")*2}function Fle(t){return yA({x:vo(t,"x1"),y:vo(t,"y1")},{x:vo(t,"x2"),y:vo(t,"y2")})}function t7(t){for(var e=t.points,r=0,i,s=0;s<e.numberOfItems;s++){var n=e.getItem(s);s>0&&(r+=yA(i,n)),i=n}return r}function Ule(t){var e=t.points;return t7(t)+yA(e.getItem(e.numberOfItems-1),e.getItem(0))}function r7(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return kle(t);case"rect":return Dle(t);case"line":return Fle(t);case"polyline":return t7(t);case"polygon":return Ule(t)}}function jle(t){var e=r7(t);return t.setAttribute("stroke-dasharray",e),e}function Ble(t){for(var e=t.parentNode;Re.svg(e)&&Re.svg(e.parentNode);)e=e.parentNode;return e}function i7(t,e){var r=e||{},i=r.el||Ble(t),s=i.getBoundingClientRect(),n=vo(i,"viewBox"),o=s.width,a=s.height,l=r.viewBox||(n?n.split(" "):[0,0,o,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function Vle(t,e){var r=Re.str(t)?Z9(t)[0]:t,i=e||100;return function(s){return{property:s,el:r,svg:i7(r),totalLength:r7(r)*(i/100)}}}function Gle(t,e,r){function i(f){f===void 0&&(f=0);var d=e+f>=1?e+f:0;return t.el.getPointAtLength(d)}var s=i7(t.el,t.svg),n=i(),o=i(-1),a=i(1),l=r?1:s.w/s.vW,c=r?1:s.h/s.vH;switch(t.property){case"x":return(n.x-s.x)*l;case"y":return(n.y-s.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function LO(t,e){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=e7(Re.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(r)?i.match(r).map(Number):[0],strings:Re.str(t)||e?i.split(r):[]}}function gA(t){var e=t?ib(Re.arr(t)?t.map(PO):PO(t)):[];return rb(e,function(r,i,s){return s.indexOf(r)===i})}function s7(t){var e=gA(t);return e.map(function(r,i){return{target:r,id:i,total:e.length,transforms:{list:Q9(r)}}})}function zle(t,e){var r=hA(e);if(/^spring/.test(r.easing)&&(r.duration=J9(r.easing)),Re.arr(t)){var i=t.length,s=i===2&&!Re.obj(t[0]);s?t={value:t}:Re.fnc(e.duration)||(r.duration=e.duration/i)}var n=Re.arr(t)?t:[t];return n.map(function(o,a){var l=Re.obj(o)&&!Re.pth(o)?o:{value:o};return Re.und(l.delay)&&(l.delay=a?0:e.delay),Re.und(l.endDelay)&&(l.endDelay=a===n.length-1?e.endDelay:0),l}).map(function(o){return sb(o,r)})}function qle(t){for(var e=rb(ib(t.map(function(n){return Object.keys(n)})),function(n){return Re.key(n)}).reduce(function(n,o){return n.indexOf(o)<0&&n.push(o),n},[]),r={},i=function(n){var o=e[n];r[o]=t.map(function(a){var l={};for(var c in a)Re.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},s=0;s<e.length;s++)i(s);return r}function Hle(t,e){var r=[],i=e.keyframes;i&&(e=sb(qle(i),e));for(var s in e)Re.key(s)&&r.push({name:s,tweens:zle(e[s],t)});return r}function Wle(t,e){var r={};for(var i in t){var s=Kx(t[i],e);Re.arr(s)&&(s=s.map(function(n){return Kx(n,e)}),s.length===1&&(s=s[0])),r[i]=s}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function Yle(t,e){var r;return t.tweens.map(function(i){var s=Wle(i,e),n=s.value,o=Re.arr(n)?n[1]:n,a=ga(o),l=pA(e.target,t.name,a,e),c=r?r.to.original:l,f=Re.arr(n)?n[0]:c,d=ga(f)||ga(l),p=a||d;return Re.und(o)&&(o=c),s.from=LO(f,p),s.to=LO(mA(o,f),p),s.start=r?r.end:0,s.end=s.start+s.delay+s.duration+s.endDelay,s.easing=cA(s.easing,s.duration),s.isPath=Re.pth(n),s.isPathTargetInsideSVG=s.isPath&&Re.svg(e.target),s.isColor=Re.col(s.from.original),s.isColor&&(s.round=1),r=s,s})}var n7={css:function(t,e,r){return t.style[e]=r},attribute:function(t,e,r){return t.setAttribute(e,r)},object:function(t,e,r){return t[e]=r},transform:function(t,e,r,i,s){if(i.list.set(e,r),e===i.last||s){var n="";i.list.forEach(function(o,a){n+=a+"("+o+") "}),t.style.transform=n}}};function o7(t,e){var r=s7(t);r.forEach(function(i){for(var s in e){var n=Kx(e[s],i),o=i.target,a=ga(n),l=pA(o,s,a,i),c=a||ga(l),f=mA(e7(n,c),l),d=dA(o,s);n7[d](o,s,f,i.transforms,!0)}})}function Jle(t,e){var r=dA(t.target,e.name);if(r){var i=Yle(e,t),s=i[i.length-1];return{type:r,property:e.name,animatable:t,tweens:i,duration:s.end,delay:i[0].delay,endDelay:s.endDelay}}}function Kle(t,e){return rb(ib(t.map(function(r){return e.map(function(i){return Jle(r,i)})})),function(r){return!Re.und(r)})}function a7(t,e){var r=t.length,i=function(n){return n.timelineOffset?n.timelineOffset:0},s={};return s.duration=r?Math.max.apply(Math,t.map(function(n){return i(n)+n.duration})):e.duration,s.delay=r?Math.min.apply(Math,t.map(function(n){return i(n)+n.delay})):e.delay,s.endDelay=r?s.duration-Math.max.apply(Math,t.map(function(n){return i(n)+n.duration-n.endDelay})):e.endDelay,s}var RO=0;function Zle(t){var e=Jx(W9,t),r=Jx(lA,t),i=Hle(r,t),s=s7(t.targets),n=Kle(s,i),o=a7(n,r),a=RO;return RO++,sb(e,{id:a,children:[],animatables:s,animations:n,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var Tn=[],l7=function(){var t;function e(){!t&&(!kO()||!cr.suspendWhenDocumentHidden)&&Tn.length>0&&(t=requestAnimationFrame(r))}function r(s){for(var n=Tn.length,o=0;o<n;){var a=Tn[o];a.paused?(Tn.splice(o,1),n--):(a.tick(s),o++)}t=o>0?requestAnimationFrame(r):void 0}function i(){cr.suspendWhenDocumentHidden&&(kO()?t=cancelAnimationFrame(t):(Tn.forEach(function(s){return s._onDocumentVisibility()}),l7()))}return typeof document<"u"&&document.addEventListener("visibilitychange",i),e}();function kO(){return!!document&&document.hidden}function cr(t){t===void 0&&(t={});var e=0,r=0,i=0,s,n=0,o=null;function a(T){var w=window.Promise&&new Promise(function(_){return o=_});return T.finished=w,w}var l=Zle(t);a(l);function c(){var T=l.direction;T!=="alternate"&&(l.direction=T!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,s.forEach(function(w){return w.reversed=l.reversed})}function f(T){return l.reversed?l.duration-T:T}function d(){e=0,r=f(l.currentTime)*(1/cr.speed)}function p(T,w){w&&w.seek(T-w.timelineOffset)}function y(T){if(l.reversePlayback)for(var _=n;_--;)p(T,s[_]);else for(var w=0;w<n;w++)p(T,s[w])}function v(T){for(var w=0,_=l.animations,M=_.length;w<M;){var $=_[w],C=$.animatable,P=$.tweens,N=P.length-1,F=P[N];N&&(F=rb(P,function(lt){return T<lt.end})[0]||F);for(var q=go(T-F.start-F.delay,0,F.duration)/F.duration,U=isNaN(q)?1:F.easing(q),B=F.to.strings,K=F.round,h=[],m=F.to.numbers.length,x=void 0,I=0;I<m;I++){var V=void 0,Y=F.to.numbers[I],me=F.from.numbers[I]||0;F.isPath?V=Gle(F.value,U*Y,F.isPathTargetInsideSVG):V=me+U*(Y-me),K&&(F.isColor&&I>2||(V=Math.round(V*K)/K)),h.push(V)}var ue=B.length;if(!ue)x=h[0];else{x=B[0];for(var Me=0;Me<ue;Me++){B[Me];var Ue=B[Me+1],ze=h[Me];isNaN(ze)||(Ue?x+=ze+Ue:x+=ze+" ")}}n7[$.type](C.target,$.property,x,C.transforms),$.currentValue=x,w++}}function b(T){l[T]&&!l.passThrough&&l[T](l)}function S(){l.remaining&&l.remaining!==!0&&l.remaining--}function E(T){var w=l.duration,_=l.delay,M=w-l.endDelay,$=f(T);l.progress=go($/w*100,0,100),l.reversePlayback=$<l.currentTime,s&&y($),!l.began&&l.currentTime>0&&(l.began=!0,b("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,b("loopBegin")),$<=_&&l.currentTime!==0&&v(0),($>=M&&l.currentTime!==w||!w)&&v(w),$>_&&$<M?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,b("changeBegin")),b("change"),v($)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,b("changeComplete")),l.currentTime=go($,0,w),l.began&&b("update"),T>=w&&(r=0,S(),l.remaining?(e=i,b("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,b("loopComplete"),b("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var T=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=T==="reverse",l.remaining=l.loop,s=l.children,n=s.length;for(var w=n;w--;)l.children[w].reset();(l.reversed&&l.loop!==!0||T==="alternate"&&l.loop===1)&&l.remaining++,v(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(T,w){return o7(T,w),l},l.tick=function(T){i=T,e||(e=i),E((i+(r-e))*cr.speed)},l.seek=function(T){E(f(T))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Tn.push(l),d(),l7())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(T){var w=gA(T);c7(w,l)},l.reset(),l.autoplay&&l.play(),l}function DO(t,e){for(var r=e.length;r--;)uA(t,e[r].animatable.target)&&e.splice(r,1)}function c7(t,e){var r=e.animations,i=e.children;DO(t,r);for(var s=i.length;s--;){var n=i[s],o=n.animations;DO(t,o),!o.length&&!n.children.length&&i.splice(s,1)}!r.length&&!i.length&&e.pause()}function Xle(t){for(var e=gA(t),r=Tn.length;r--;){var i=Tn[r];c7(e,i)}}function Qle(t,e){e===void 0&&(e={});var r=e.direction||"normal",i=e.easing?cA(e.easing):null,s=e.grid,n=e.axis,o=e.from||0,a=o==="first",l=o==="center",c=o==="last",f=Re.arr(t),d=parseFloat(f?t[0]:t),p=f?parseFloat(t[1]):0,y=ga(f?t[1]:t)||0,v=e.start||0+(f?d:0),b=[],S=0;return function(E,T,w){if(a&&(o=0),l&&(o=(w-1)/2),c&&(o=w-1),!b.length){for(var _=0;_<w;_++){if(!s)b.push(Math.abs(o-_));else{var M=l?(s[0]-1)/2:o%s[0],$=l?(s[1]-1)/2:Math.floor(o/s[0]),C=_%s[0],P=Math.floor(_/s[0]),N=M-C,F=$-P,q=Math.sqrt(N*N+F*F);n==="x"&&(q=-N),n==="y"&&(q=-F),b.push(q)}S=Math.max.apply(Math,b)}i&&(b=b.map(function(B){return i(B/S)*S})),r==="reverse"&&(b=b.map(function(B){return n?B<0?B*-1:-B:Math.abs(S-B)}))}var U=f?(p-d)/S:d;return v+U*(Math.round(b[T]*100)/100)+y}}function ece(t){t===void 0&&(t={});var e=cr(t);return e.duration=0,e.add=function(r,i){var s=Tn.indexOf(e),n=e.children;s>-1&&Tn.splice(s,1);function o(p){p.passThrough=!0}for(var a=0;a<n.length;a++)o(n[a]);var l=sb(r,Jx(lA,t));l.targets=l.targets||t.targets;var c=e.duration;l.autoplay=!1,l.direction=e.direction,l.timelineOffset=Re.und(i)?c:mA(i,c),o(e),e.seek(l.timelineOffset);var f=cr(l);o(f),n.push(f);var d=a7(n,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}cr.version="3.2.1";cr.speed=1;cr.suspendWhenDocumentHidden=!0;cr.running=Tn;cr.remove=Xle;cr.get=pA;cr.set=o7;cr.convertPx=fA;cr.path=Vle;cr.setDashoffset=jle;cr.stagger=Qle;cr.timeline=ece;cr.easing=cA;cr.penner=K9;cr.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};const tce={xs:200,sm:576,md:768,lg:960};class u7{resizeObserver;constructor(e){this.resizeObserver=new ResizeObserver(r=>{r.length&&window.requestAnimationFrame(()=>{r.forEach(i=>{const s=i.target.dataset.breakpoints,n=s?JSON.parse(s):e??tce;Object.keys(n).forEach(o=>{const a=n[o];i.contentRect.width>=a?i.target.classList.add(o):i.target.classList.remove(o)})})})})}observe(e){this.resizeObserver?.observe(e)}}const rce=["data-cy"],h7=st({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(t){const e=X(null),r=t,i=X(!1);vi(()=>{r.panel.teleport&&new u7({xs:0,sm:461,...r.panel.teleport.breakpoints}).observe(e.value)});const s=(l,c,f)=>{if(i.value)return c();cr({targets:l,opacity:{value:f,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},n=(l,c)=>{s(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(i.value=r.panel.isScreenLoaded(r.panel.route.screen),e.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{s(l,c,[0,1])};return(l,c)=>{const f=Ot("focus-container");return fe(),xe("div",{class:lr(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",t.panel.expanded?"flex-grow max-w-full":""]),style:Fl(t.panel.style),"data-cy":t.panel.id,ref_key:"componentEl",ref:e},[Ke(V1,{onBeforeLeave:o,onLeave:a,onEnter:n},{default:Pr(()=>[$t((fe(),Vt(u3(t.panel.route.screen),B1({class:"h-full"},t.panel.route.props,{panel:t.panel}),null,16,["panel"])),[[f]])]),_:1})],14,rce)}}}),nu=ur("panel",()=>{const t=X(void 0),e=X(void 0),r=X(0),i=X(0),s=X(!1),n=X(!0),o=X({}),a=X({}),l=X([]),c=X([]),f=X([]),d=X(1),p=et(()=>i.value);function y(B){return B==="xs"&&f.value.length>0?[f.value.slice().pop()]:f.value}function v(B){const K=[];return B.forEach(h=>{h in a.value&&K.push(a.value[h].getPromise())}),K}function b(B){P(B),$(),e.value=void 0}function S(B){N(B),$()}function E(B,K){F(B,K),$()}function T(B){q(B),$()}function w(B){d.value=B}function _(B){r.value=B,$()}function M(B){s.value=B}function $(){let B=r.value;const K=[],h=350,m=12,x=600;for(let I=l.value.length-1;I>=0;I--){const V=l.value[I];let Y=V.width||h;if(s.value?Y=B:Y+=m,V.id==="grid"&&(Y=Math.max(Math.min(Y,B),x)),(B>=Y&&!s.value||K.length===0)&&(B-=Y,K.unshift(V)),V.id==="grid"&&B<x)break}if(t.value&&!K.includes(t.value)&&!s.value){let I;for(let ue=0;ue<K.length-1&&B<(t.value.width||h)+m;ue++)I=K.shift(),B+=I.width||h;B>=(t.value.width||h)?K.unshift(t.value):e.value||(I=K.shift(),K.unshift(t.value));const V=l.value.indexOf(t.value),Y=l.value.indexOf(I),me=l.value.slice();Y>-1&&(me.splice(V,1),me.splice(Y,0,t.value)),l.value=me}i.value=B,f.value=K}function C(B){if(o.value={...o.value,[B.id]:B},B.id in a.value)a.value[B.id].resolveMe(B);else{const K=new Ir;K.resolveMe(B),a.value={...a.value,[B.id]:K}}}function P(B){B.teleport?c.value=[...c.value,B]:(l.value=[...l.value,B],e.value=B)}function N(B){if(B.teleport){const K=c.value.indexOf(B);K!==-1&&(c.value=[...c.value.slice(0,K),...c.value.slice(K+1)])}else{const K=l.value.indexOf(B);K!==-1&&(l.value=[...l.value.slice(0,K),...l.value.slice(K+1)])}}function F(B,K){const h=l.value.indexOf(B),m=K==="right"?1:-1;f.value.includes(l.value[h+m])&&([l.value[h],l.value[h+m]]=[l.value[h+m],l.value[h]])}function q(B){o.value[B.id]!==void 0&&delete o.value[B.id],a.value[B.id]!==void 0&&delete a.value[B.id];const K=f.value.indexOf(B);K!==-1&&(f.value=[...f.value.slice(0,K),...f.value.slice(K+1)]),t.value&&t.value.id==B.id&&(t.value=void 0)}function U(B){a.value={...a.value,[B]:new Ir}}return{items:o,regPromises:a,orderedItems:l,pinned:t,priority:e,visible:f,opacity:d,stackWidth:r,remWidth:i,mobileView:s,reorderable:n,teleported:c,getRemainingWidth:p,getVisible:y,getRegPromises:v,openPanel:b,closePanel:S,movePanel:E,removePanel:T,setOpacity:w,setStackWidth:_,setMobileView:M,updateVisible:$,registerPanel:C,addRegPromise:U}}),ice=st({__name:"panel-stack",setup(t){$3(f=>({"1fa2f422":s.value}));const e=nu(),r=Ur("iApi"),i=X(),s=et(()=>e.opacity),n=et(()=>e.mobileView);vi(()=>{new ResizeObserver(d=>{const p=!(r.$vApp.$root?.$refs["app-size"]).classList.contains("sm");n.value!==p&&(e.mobileView=p,r.event.emit(Ie.RAMP_MOBILEVIEW_CHANGE,p)),e.setStackWidth(d[0].contentRect.width)}).observe(i.value?.$el)});const o=f=>e.getVisible(f),a=(f,d)=>{c(f,d,[[6,0],[0,1]])},l=(f,d)=>{const[p,y]=[f.children[0].getBoundingClientRect(),f.parentElement.getBoundingClientRect()];f.style.width=`${p.width}px`,f.style.height=`${p.height}px`,f.style.left=`${p.left-y.left}px`,f.style.position="absolute",c(f,d,[[0,-6],[1,0]])},c=(f,d,p)=>{cr({targets:f,duration:300,translateY:{value:p[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:p[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:d})};return(f,d)=>(fe(),Vt(z1,{onEnter:a,onLeave:l,name:"panel-container",tag:"div",ref_key:"el",ref:i,class:"panel-container"},{default:Pr(()=>[(fe(!0),xe(Lt,null,Vl(o($e(r).screenSize),p=>(fe(),Vt(h7,{key:`${p.id}`,panel:p},null,8,["panel"]))),128))]),_:1},512))}}),Ta=(t,e)=>{const r=t.__vccOpts||t;for(const[i,s]of e)r[i]=s;return r},sce=Ta(ice,[["__scopeId","data-v-ca958595"]]);var bs="top",cn="bottom",un="right",_s="left",vA="auto",Gm=[bs,cn,un,_s],Xh="start",rm="end",nce="clippingParents",f7="viewport",qf="popper",oce="reference",FO=Gm.reduce(function(t,e){return t.concat([e+"-"+Xh,e+"-"+rm])},[]),d7=[].concat(Gm,[vA]).reduce(function(t,e){return t.concat([e,e+"-"+Xh,e+"-"+rm])},[]),ace="beforeRead",lce="read",cce="afterRead",uce="beforeMain",hce="main",fce="afterMain",dce="beforeWrite",pce="write",mce="afterWrite",yce=[ace,lce,cce,uce,hce,fce,dce,pce,mce];function No(t){return t?(t.nodeName||"").toLowerCase():null}function Us(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ou(t){var e=Us(t).Element;return t instanceof e||t instanceof Element}function an(t){var e=Us(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function bA(t){if(typeof ShadowRoot>"u")return!1;var e=Us(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function gce(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var i=e.styles[r]||{},s=e.attributes[r]||{},n=e.elements[r];!an(n)||!No(n)||(Object.assign(n.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function vce(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],n=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:r[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!an(s)||!No(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}const bce={name:"applyStyles",enabled:!0,phase:"write",fn:gce,effect:vce,requires:["computeStyles"]};function So(t){return t.split("-")[0]}var Uc=Math.max,av=Math.min,Qh=Math.round;function Zx(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function p7(){return!/^((?!chrome|android).)*safari/i.test(Zx())}function ef(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var i=t.getBoundingClientRect(),s=1,n=1;e&&an(t)&&(s=t.offsetWidth>0&&Qh(i.width)/t.offsetWidth||1,n=t.offsetHeight>0&&Qh(i.height)/t.offsetHeight||1);var o=ou(t)?Us(t):window,a=o.visualViewport,l=!p7()&&r,c=(i.left+(l&&a?a.offsetLeft:0))/s,f=(i.top+(l&&a?a.offsetTop:0))/n,d=i.width/s,p=i.height/n;return{width:d,height:p,top:f,right:c+d,bottom:f+p,left:c,x:c,y:f}}function _A(t){var e=ef(t),r=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function m7(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&bA(r)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function xa(t){return Us(t).getComputedStyle(t)}function _ce(t){return["table","td","th"].indexOf(No(t))>=0}function Hl(t){return((ou(t)?t.ownerDocument:t.document)||window.document).documentElement}function nb(t){return No(t)==="html"?t:t.assignedSlot||t.parentNode||(bA(t)?t.host:null)||Hl(t)}function UO(t){return!an(t)||xa(t).position==="fixed"?null:t.offsetParent}function wce(t){var e=/firefox/i.test(Zx()),r=/Trident/i.test(Zx());if(r&&an(t)){var i=xa(t);if(i.position==="fixed")return null}var s=nb(t);for(bA(s)&&(s=s.host);an(s)&&["html","body"].indexOf(No(s))<0;){var n=xa(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||e&&n.willChange==="filter"||e&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function zm(t){for(var e=Us(t),r=UO(t);r&&_ce(r)&&xa(r).position==="static";)r=UO(r);return r&&(No(r)==="html"||No(r)==="body"&&xa(r).position==="static")?e:r||wce(t)||e}function wA(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function tp(t,e,r){return Uc(t,av(e,r))}function xce(t,e,r){var i=tp(t,e,r);return i>r?r:i}function y7(){return{top:0,right:0,bottom:0,left:0}}function g7(t){return Object.assign({},y7(),t)}function v7(t,e){return e.reduce(function(r,i){return r[i]=t,r},{})}var Ece=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,g7(typeof e!="number"?e:v7(e,Gm))};function Sce(t){var e,r=t.state,i=t.name,s=t.options,n=r.elements.arrow,o=r.modifiersData.popperOffsets,a=So(r.placement),l=wA(a),c=[_s,un].indexOf(a)>=0,f=c?"height":"width";if(!(!n||!o)){var d=Ece(s.padding,r),p=_A(n),y=l==="y"?bs:_s,v=l==="y"?cn:un,b=r.rects.reference[f]+r.rects.reference[l]-o[l]-r.rects.popper[f],S=o[l]-r.rects.reference[l],E=zm(n),T=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,w=b/2-S/2,_=d[y],M=T-p[f]-d[v],$=T/2-p[f]/2+w,C=tp(_,$,M),P=l;r.modifiersData[i]=(e={},e[P]=C,e.centerOffset=C-$,e)}}function Ace(t){var e=t.state,r=t.options,i=r.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||m7(e.elements.popper,s)&&(e.elements.arrow=s))}const Tce={name:"arrow",enabled:!0,phase:"main",fn:Sce,effect:Ace,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tf(t){return t.split("-")[1]}var Mce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $ce(t,e){var r=t.x,i=t.y,s=e.devicePixelRatio||1;return{x:Qh(r*s)/s||0,y:Qh(i*s)/s||0}}function jO(t){var e,r=t.popper,i=t.popperRect,s=t.placement,n=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,d=t.isFixed,p=o.x,y=p===void 0?0:p,v=o.y,b=v===void 0?0:v,S=typeof f=="function"?f({x:y,y:b}):{x:y,y:b};y=S.x,b=S.y;var E=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),w=_s,_=bs,M=window;if(c){var $=zm(r),C="clientHeight",P="clientWidth";if($===Us(r)&&($=Hl(r),xa($).position!=="static"&&a==="absolute"&&(C="scrollHeight",P="scrollWidth")),$=$,s===bs||(s===_s||s===un)&&n===rm){_=cn;var N=d&&$===M&&M.visualViewport?M.visualViewport.height:$[C];b-=N-i.height,b*=l?1:-1}if(s===_s||(s===bs||s===cn)&&n===rm){w=un;var F=d&&$===M&&M.visualViewport?M.visualViewport.width:$[P];y-=F-i.width,y*=l?1:-1}}var q=Object.assign({position:a},c&&Mce),U=f===!0?$ce({x:y,y:b},Us(r)):{x:y,y:b};if(y=U.x,b=U.y,l){var B;return Object.assign({},q,(B={},B[_]=T?"0":"",B[w]=E?"0":"",B.transform=(M.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",B))}return Object.assign({},q,(e={},e[_]=T?b+"px":"",e[w]=E?y+"px":"",e.transform="",e))}function Oce(t){var e=t.state,r=t.options,i=r.gpuAcceleration,s=i===void 0?!0:i,n=r.adaptive,o=n===void 0?!0:n,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:So(e.placement),variation:tf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,jO(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,jO(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ice={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Oce,data:{}};var Ly={passive:!0};function Cce(t){var e=t.state,r=t.instance,i=t.options,s=i.scroll,n=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=Us(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return n&&c.forEach(function(f){f.addEventListener("scroll",r.update,Ly)}),a&&l.addEventListener("resize",r.update,Ly),function(){n&&c.forEach(function(f){f.removeEventListener("scroll",r.update,Ly)}),a&&l.removeEventListener("resize",r.update,Ly)}}const Nce={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Cce,data:{}};var Pce={left:"right",right:"left",bottom:"top",top:"bottom"};function F0(t){return t.replace(/left|right|bottom|top/g,function(e){return Pce[e]})}var Lce={start:"end",end:"start"};function BO(t){return t.replace(/start|end/g,function(e){return Lce[e]})}function xA(t){var e=Us(t),r=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:r,scrollTop:i}}function EA(t){return ef(Hl(t)).left+xA(t).scrollLeft}function Rce(t,e){var r=Us(t),i=Hl(t),s=r.visualViewport,n=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){n=s.width,o=s.height;var c=p7();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:n,height:o,x:a+EA(t),y:l}}function kce(t){var e,r=Hl(t),i=xA(t),s=(e=t.ownerDocument)==null?void 0:e.body,n=Uc(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Uc(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+EA(t),l=-i.scrollTop;return xa(s||r).direction==="rtl"&&(a+=Uc(r.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function SA(t){var e=xa(t),r=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+i)}function b7(t){return["html","body","#document"].indexOf(No(t))>=0?t.ownerDocument.body:an(t)&&SA(t)?t:b7(nb(t))}function rp(t,e){var r;e===void 0&&(e=[]);var i=b7(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),n=Us(i),o=s?[n].concat(n.visualViewport||[],SA(i)?i:[]):i,a=e.concat(o);return s?a:a.concat(rp(nb(o)))}function Xx(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Dce(t,e){var r=ef(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function VO(t,e,r){return e===f7?Xx(Rce(t,r)):ou(e)?Dce(e,r):Xx(kce(Hl(t)))}function Fce(t){var e=rp(nb(t)),r=["absolute","fixed"].indexOf(xa(t).position)>=0,i=r&&an(t)?zm(t):t;return ou(i)?e.filter(function(s){return ou(s)&&m7(s,i)&&No(s)!=="body"}):[]}function Uce(t,e,r,i){var s=e==="clippingParents"?Fce(t):[].concat(e),n=[].concat(s,[r]),o=n[0],a=n.reduce(function(l,c){var f=VO(t,c,i);return l.top=Uc(f.top,l.top),l.right=av(f.right,l.right),l.bottom=av(f.bottom,l.bottom),l.left=Uc(f.left,l.left),l},VO(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function _7(t){var e=t.reference,r=t.element,i=t.placement,s=i?So(i):null,n=i?tf(i):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(s){case bs:l={x:o,y:e.y-r.height};break;case cn:l={x:o,y:e.y+e.height};break;case un:l={x:e.x+e.width,y:a};break;case _s:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?wA(s):null;if(c!=null){var f=c==="y"?"height":"width";switch(n){case Xh:l[c]=l[c]-(e[f]/2-r[f]/2);break;case rm:l[c]=l[c]+(e[f]/2-r[f]/2);break}}return l}function rf(t,e){e===void 0&&(e={});var r=e,i=r.placement,s=i===void 0?t.placement:i,n=r.strategy,o=n===void 0?t.strategy:n,a=r.boundary,l=a===void 0?nce:a,c=r.rootBoundary,f=c===void 0?f7:c,d=r.elementContext,p=d===void 0?qf:d,y=r.altBoundary,v=y===void 0?!1:y,b=r.padding,S=b===void 0?0:b,E=g7(typeof S!="number"?S:v7(S,Gm)),T=p===qf?oce:qf,w=t.rects.popper,_=t.elements[v?T:p],M=Uce(ou(_)?_:_.contextElement||Hl(t.elements.popper),l,f,o),$=ef(t.elements.reference),C=_7({reference:$,element:w,placement:s}),P=Xx(Object.assign({},w,C)),N=p===qf?P:$,F={top:M.top-N.top+E.top,bottom:N.bottom-M.bottom+E.bottom,left:M.left-N.left+E.left,right:N.right-M.right+E.right},q=t.modifiersData.offset;if(p===qf&&q){var U=q[s];Object.keys(F).forEach(function(B){var K=[un,cn].indexOf(B)>=0?1:-1,h=[bs,cn].indexOf(B)>=0?"y":"x";F[B]+=U[h]*K})}return F}function jce(t,e){e===void 0&&(e={});var r=e,i=r.placement,s=r.boundary,n=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?d7:l,f=tf(i),d=f?a?FO:FO.filter(function(v){return tf(v)===f}):Gm,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,b){return v[b]=rf(t,{placement:b,boundary:s,rootBoundary:n,padding:o})[So(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function Bce(t){if(So(t)===vA)return[];var e=F0(t);return[BO(t),e,BO(e)]}function Vce(t){var e=t.state,r=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=r.mainAxis,n=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,f=r.boundary,d=r.rootBoundary,p=r.altBoundary,y=r.flipVariations,v=y===void 0?!0:y,b=r.allowedAutoPlacements,S=e.options.placement,E=So(S),T=E===S,w=l||(T||!v?[F0(S)]:Bce(S)),_=[S].concat(w).reduce(function(Ue,ze){return Ue.concat(So(ze)===vA?jce(e,{placement:ze,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:b}):ze)},[]),M=e.rects.reference,$=e.rects.popper,C=new Map,P=!0,N=_[0],F=0;F<_.length;F++){var q=_[F],U=So(q),B=tf(q)===Xh,K=[bs,cn].indexOf(U)>=0,h=K?"width":"height",m=rf(e,{placement:q,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),x=K?B?un:_s:B?cn:bs;M[h]>$[h]&&(x=F0(x));var I=F0(x),V=[];if(n&&V.push(m[U]<=0),a&&V.push(m[x]<=0,m[I]<=0),V.every(function(Ue){return Ue})){N=q,P=!1;break}C.set(q,V)}if(P)for(var Y=v?3:1,me=function(ze){var lt=_.find(function(zt){var It=C.get(zt);if(It)return It.slice(0,ze).every(function(wr){return wr})});if(lt)return N=lt,"break"},ue=Y;ue>0;ue--){var Me=me(ue);if(Me==="break")break}e.placement!==N&&(e.modifiersData[i]._skip=!0,e.placement=N,e.reset=!0)}}const Gce={name:"flip",enabled:!0,phase:"main",fn:Vce,requiresIfExists:["offset"],data:{_skip:!1}};function GO(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function zO(t){return[bs,un,cn,_s].some(function(e){return t[e]>=0})}function zce(t){var e=t.state,r=t.name,i=e.rects.reference,s=e.rects.popper,n=e.modifiersData.preventOverflow,o=rf(e,{elementContext:"reference"}),a=rf(e,{altBoundary:!0}),l=GO(o,i),c=GO(a,s,n),f=zO(l),d=zO(c);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}const qce={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:zce};function Hce(t,e,r){var i=So(t),s=[_s,bs].indexOf(i)>=0?-1:1,n=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[_s,un].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Wce(t){var e=t.state,r=t.options,i=t.name,s=r.offset,n=s===void 0?[0,0]:s,o=d7.reduce(function(f,d){return f[d]=Hce(d,e.rects,n),f},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const Yce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Wce};function Jce(t){var e=t.state,r=t.name;e.modifiersData[r]=_7({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Kce={name:"popperOffsets",enabled:!0,phase:"read",fn:Jce,data:{}};function Zce(t){return t==="x"?"y":"x"}function Xce(t){var e=t.state,r=t.options,i=t.name,s=r.mainAxis,n=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,f=r.altBoundary,d=r.padding,p=r.tether,y=p===void 0?!0:p,v=r.tetherOffset,b=v===void 0?0:v,S=rf(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),E=So(e.placement),T=tf(e.placement),w=!T,_=wA(E),M=Zce(_),$=e.modifiersData.popperOffsets,C=e.rects.reference,P=e.rects.popper,N=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,F=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if($){if(n){var B,K=_==="y"?bs:_s,h=_==="y"?cn:un,m=_==="y"?"height":"width",x=$[_],I=x+S[K],V=x-S[h],Y=y?-P[m]/2:0,me=T===Xh?C[m]:P[m],ue=T===Xh?-P[m]:-C[m],Me=e.elements.arrow,Ue=y&&Me?_A(Me):{width:0,height:0},ze=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:y7(),lt=ze[K],zt=ze[h],It=tp(0,C[m],Ue[m]),wr=w?C[m]/2-Y-It-lt-F.mainAxis:me-It-lt-F.mainAxis,Ft=w?-C[m]/2+Y+It+zt+F.mainAxis:ue+It+zt+F.mainAxis,nr=e.elements.arrow&&zm(e.elements.arrow),ti=nr?_==="y"?nr.clientTop||0:nr.clientLeft||0:0,j=(B=q?.[_])!=null?B:0,D=x+wr-j-ti,W=x+Ft-j,oe=tp(y?av(I,D):I,x,y?Uc(V,W):V);$[_]=oe,U[_]=oe-x}if(a){var te,ce=_==="x"?bs:_s,ye=_==="x"?cn:un,L=$[M],R=M==="y"?"height":"width",G=L+S[ce],re=L-S[ye],se=[bs,_s].indexOf(E)!==-1,ne=(te=q?.[M])!=null?te:0,H=se?G:L-C[R]-P[R]-ne+F.altAxis,Z=se?L+C[R]+P[R]-ne-F.altAxis:re,Ae=y&&se?xce(H,L,Z):tp(y?H:G,L,y?Z:re);$[M]=Ae,U[M]=Ae-L}e.modifiersData[i]=U}}const Qce={name:"preventOverflow",enabled:!0,phase:"main",fn:Xce,requiresIfExists:["offset"]};function eue(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function tue(t){return t===Us(t)||!an(t)?xA(t):eue(t)}function rue(t){var e=t.getBoundingClientRect(),r=Qh(e.width)/t.offsetWidth||1,i=Qh(e.height)/t.offsetHeight||1;return r!==1||i!==1}function iue(t,e,r){r===void 0&&(r=!1);var i=an(e),s=an(e)&&rue(e),n=Hl(e),o=ef(t,s,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((No(e)!=="body"||SA(n))&&(a=tue(e)),an(e)?(l=ef(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):n&&(l.x=EA(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function sue(t){var e=new Map,r=new Set,i=[];t.forEach(function(n){e.set(n.name,n)});function s(n){r.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&s(l)}}),i.push(n)}return t.forEach(function(n){r.has(n.name)||s(n)}),i}function nue(t){var e=sue(t);return yce.reduce(function(r,i){return r.concat(e.filter(function(s){return s.phase===i}))},[])}function oue(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function aue(t){var e=t.reduce(function(r,i){var s=r[i.name];return r[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,r},{});return Object.keys(e).map(function(r){return e[r]})}var qO={placement:"bottom",modifiers:[],strategy:"absolute"};function HO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function lue(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,i=r===void 0?[]:r,s=e.defaultOptions,n=s===void 0?qO:s;return function(a,l,c){c===void 0&&(c=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},qO,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(E){var T=typeof E=="function"?E(f.options):E;b(),f.options=Object.assign({},n,f.options,T),f.scrollParents={reference:ou(a)?rp(a):a.contextElement?rp(a.contextElement):[],popper:rp(l)};var w=nue(aue([].concat(i,f.options.modifiers)));return f.orderedModifiers=w.filter(function(_){return _.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var E=f.elements,T=E.reference,w=E.popper;if(HO(T,w)){f.rects={reference:iue(T,zm(w),f.options.strategy==="fixed"),popper:_A(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(F){return f.modifiersData[F.name]=Object.assign({},F.data)});for(var _=0;_<f.orderedModifiers.length;_++){if(f.reset===!0){f.reset=!1,_=-1;continue}var M=f.orderedModifiers[_],$=M.fn,C=M.options,P=C===void 0?{}:C,N=M.name;typeof $=="function"&&(f=$({state:f,options:P,name:N,instance:y})||f)}}}},update:oue(function(){return new Promise(function(S){y.forceUpdate(),S(f)})}),destroy:function(){b(),p=!0}};if(!HO(a,l))return y;y.setOptions(c).then(function(S){!p&&c.onFirstUpdate&&c.onFirstUpdate(S)});function v(){f.orderedModifiers.forEach(function(S){var E=S.name,T=S.options,w=T===void 0?{}:T,_=S.effect;if(typeof _=="function"){var M=_({state:f,name:E,instance:y,options:w}),$=function(){};d.push(M||$)}})}function b(){d.forEach(function(S){return S()}),d=[]}return y}}var cue=[Nce,Kce,Ice,bce,Yce,Gce,Qce,Tce,qce],uue=lue({defaultModifiers:cue});const hue=["content","aria-label"],AA=st({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(t){const e=X(!1),r=X(null),i=li([]),s=X(),n=X(),o=X(),a=t;i.push(Xr(e,()=>{r.value.update()}));const l=()=>{e.value=!e.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:e.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},f=()=>{o.value._tippy.hide()};return vi(()=>{window.addEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{e.value=!1}),window.addEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(e.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",f),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",f),Yn(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:p}){const{bottom:y}=rf(p);y>0?(p.styles.popper.overflowY=y>100?"auto":void 0,p.styles.popper.overflowX="hidden",p.styles.popper.height=`${p.rects.popper.height-y-8}px`):p.styles.popper.height="auto"}};o.value&&n.value&&(r.value=uue(o.value,n.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),Jn(()=>{i.forEach(d=>d()),window.removeEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{e.value=!1}),window.removeEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(e.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",f),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",f),e.value=!1}),(d,p)=>{const y=Ot("tippy");return fe(),xe("div",{ref_key:"el",ref:s},[$t((fe(),xe("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:t.tooltip,"aria-label":t.ariaLabel?String(t.ariaLabel):String(t.tooltip),ref_key:"dropdownTrigger",ref:o},[In(d.$slots,"header")],8,hue)),[[y,{placement:t.tooltipPlacement,theme:t.tooltipTheme,animation:t.tooltipAnimation,trigger:"manual"}]]),$t(le("div",{onClick:p[0]||(p[0]=v=>r.value.update()),class:lr(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":t.centered}]),ref_key:"dropdown",ref:n},[In(d.$slots,"default",{close:()=>e.value=!e.value})],2),[[G1,e.value]])],512)}}}),Ao=ur("notification",()=>{const t=X([]),e=X({}),r=et(()=>t.value.length>=99?99:t.value.length);function i(c){t.value=[c,...t.value]}function s(c){if(t.value.includes(c)){const f=t.value.indexOf(c);c instanceof w7&&l(c),f>-1&&t.value.splice(f,1)}}function n(c){e.value[c.id]=c}function o(c,f){e.value[c]&&(e.value[c].messageList.push(f),t.value.includes(e.value[c])||(t.value=[e.value[c],...t.value]))}function a(){Object.values(e.value).forEach(c=>l(c)),t.value=[]}function l(c){const f=t.value.indexOf(c);f>-1&&t.value.splice(f,1),c.messageList=[]}return{notificationStack:t,groups:e,notificationNumber:r,showNotification:i,removeNotification:s,registerGroup:n,addToGroup:o,clearAll:a}}),fue={class:"h-full flex flex-col"},due={class:"w-full flex mb-6"},pue=["content","aria-label"],mue=st({__name:"screen",props:{panel:{type:Object,required:!0}},setup(t){const e=Ao(),{t:r}=sr(),i=et(()=>e.notificationNumber),s=()=>e.clearAll();return(n,o)=>{const a=Tr("panel-screen"),l=Ot("tippy");return fe(),Vt(a,{panel:t.panel},{header:Pr(()=>[xo(Dt($e(r)("notifications.title")),1)]),content:Pr(()=>[le("div",fue,[le("div",due,[$t((fe(),xe("button",{type:"button",onClick:s,class:lr(["p-4 ml-auto",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:$e(r)("notifications.controls.clearAll"),"aria-label":$e(r)("notifications.controls.clearAll")},o[0]||(o[0]=[le("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[le("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),le("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),le("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),le("path",{d:"M22 22l-5 -5"}),le("path",{d:"M17 22l5 -5"})],-1)]),10,pue)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Ke(x7,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var Ds=(t=>(t.ERROR="error",t.INFO="info",t.WARNING="warning",t))(Ds||{});class yue extends Lr{notificationStore;constructor(e){super(e),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":_r(mue)},alertName:"notifications.title"}}),this.notificationStore=Ao(this.$vApp.$pinia)}show(e,r){this.notificationStore.showNotification({type:e,message:r})}addGroup(e,r,i){if(this.getGroup(e))throw new Error("Duplicate notification group id registration: "+e);const s=new w7(this.$iApi,e,r,i);return this.notificationStore.registerGroup(s),s}getGroup(e){return this.notificationStore.groups[e]}}class w7 extends Lr{notificationStore=Ao(this.$vApp.$pinia);id;message;type;messageList=[];constructor(e,r,i,s){super(e),this.id=r,this.type=i,this.message=s}show(e){this.notificationStore.addToGroup(this.id,e)}}const gue=["content"],vue={class:"flex items-center text-left"},bue={class:"select-text cursor-text"},_ue=["content"],wue={key:0,class:"text-left"},xue=st({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(t){const e=Ao(),{t:r}=sr(),i=t,s=X(!1),n=li({[Ds.WARNING]:"",[Ds.INFO]:"",[Ds.ERROR]:""}),o=l=>{e.removeNotification(l)},a=()=>{if(!i.notification.messageList)return!1};return(l,c)=>{const f=Ot("tippy");return $t((fe(),xe("li",{class:lr(["flex-col default-focus-style p-4",t.notification.messageList?"cursor-pointer":""]),content:$e(r)(s.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>s.value=!s.value)},[le("div",vue,[le("span",null,[xo(Dt(n[t.notification.type])+" ",1),le("span",bue,Dt(t.notification.message),1)]),c[4]||(c[4]=le("span",{class:"flex-grow"},null,-1)),t.notification.messageList?(fe(),xe("div",{key:0,class:lr(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":s.value}])},c[2]||(c[2]=[le("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[le("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Wt("",!0),$t((fe(),xe("button",{type:"button",onClick:c[0]||(c[0]=Um(d=>o(t.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:$e(r)("notifications.controls.dismiss")},c[3]||(c[3]=[le("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[le("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,_ue)),[[f,{theme:"ramp4",animation:"scale"}]])]),t.notification.messageList&&s.value?(fe(),xe("div",wue,[(fe(!0),xe(Lt,null,Vl(t.notification.messageList,(d,p)=>(fe(),xe("p",{key:t.notification.id+d+p},Dt(d),1))),128))])):Wt("",!0)],10,gue)),[[f,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),Eue=["content"],Sue={key:0,class:"w-full border-b border-black"},Aue={key:1,class:"flex flex-col items-center h-full"},x7=st({__name:"notification-list",setup(t){const e=Ao(),{t:r}=sr(),i=X(),s=()=>{i.value._tippy.hide()},n=a=>{a.key==="Tab"&&i.value?.matches(":focus")&&i.value._tippy.show()};vi(()=>{i.value?.addEventListener("blur",s),i.value?.addEventListener("keyup",n)}),Jn(()=>{i.value?.removeEventListener("blur",s),i.value?.removeEventListener("keyup",n)});const o=et(()=>e.notificationStack);return(a,l)=>{const c=Ot("focus-item"),f=Ot("focus-list"),d=Ot("tippy");return fe(),xe("div",null,[o.value.length>0?$t((fe(),xe("ul",{key:0,content:$e(r)("panels.controls.items"),ref_key:"el",ref:i,class:"h-full overflow-y-auto"},[(fe(!0),xe(Lt,null,Vl(o.value,(p,y)=>(fe(),xe(Lt,{key:p.message+y},[y>0?(fe(),xe("div",Sue)):Wt("",!0),$t(Ke(xue,{class:lr([p.type]),notification:p},null,8,["class","notification"]),[[c]])],64))),128))],8,Eue)),[[f],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(fe(),xe("div",Aue,[l[0]||(l[0]=le("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[le("path",{d:"M0 0h24v24H0z",fill:"none"}),le("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),le("span",null,Dt($e(r)("notifications.empty")),1),l[2]||(l[2]=le("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),Tue={class:"flex items-center hover:text-white"},Mue=["aria-label"],$ue={key:0,class:"number rounded-full w-18 text-white"},Oue={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},Iue={class:"pb-8 border-b border-gray-600"},Cue={class:"absolute flex right-3 top-3"},Nue=["content","aria-label"],Pue=st({__name:"caption-button",setup(t){const e=Ao(),{t:r}=sr(),i=et(()=>e.notificationNumber),s=()=>e.clearAll();return(n,o)=>{const a=Tr("close"),l=Ot("tippy");return fe(),Vt(AA,{position:"top-start",tooltip:$e(r)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:Pr(()=>[le("div",Tue,[(fe(),xe("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":$e(r)("notifications.open")},o[0]||(o[0]=[le("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,Mue)),i.value&&i.value>0?(fe(),xe("span",$ue,Dt(i.value),1)):Wt("",!0)])]),default:Pr(c=>[le("div",Oue,[le("div",null,[le("h4",Iue,Dt($e(r)("notifications.title")),1),le("div",Cue,[$t((fe(),xe("button",{type:"button",onClick:s,class:lr(["p-4 mr-6",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:$e(r)("notifications.controls.clearAll"),"aria-label":$e(r)("notifications.controls.clearAll")},o[1]||(o[1]=[le("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[le("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),le("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),le("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),le("path",{d:"M22 22l-5 -5"}),le("path",{d:"M17 22l5 -5"})],-1)]),10,Nue)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Ke(a,{onClick:c.close},null,8,["onClick"])])]),Ke(x7,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),Lue=Ta(Pue,[["__scopeId","data-v-77b1750c"]]),Rue={class:"flex hover:text-white"},kue=["aria-label"],Due={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},Fue=["aria-label","content"],Uue={class:"pb-8 border-b border-gray-600 mb-10"},jue={class:"absolute right-5 top-5"},Bue={class:"select-text"},Vue={class:"font-bold cursor-text"},Gue={class:"text-sm cursor-text"},zue={class:"font-bold cursor-text"},que={class:"ml-5 cursor-text"},Hue=st({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(t){const{t:e}=sr(),r=Ur("iApi"),i=()=>{r.reload()},s=et(()=>`${Yf.major}.${Yf.minor}.${Yf.patch}`),n=et(()=>Yf.hash.slice(0,9)),o=et(()=>{const a=new Date(Yf.timestamp);if(isNaN(a.getTime()))return["dev mode","no date"];{const l=c=>c<10?"0"+c.toString():c.toString();return[`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,`${a.getHours()}:${l(a.getMinutes())}:${l(a.getSeconds())}`]}});return(a,l)=>{const c=Tr("close"),f=Tr("dropdown-menu"),d=Ot("tippy"),p=Ot("focus-item");return $t((fe(),Vt(f,{class:"pointer-events-auto sm:flex",position:t.position,tooltip:$e(e)("ramp.about"),tooltipPlacement:t.position},{header:Pr(()=>[le("div",Rue,[(fe(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":$e(e)("ramp.about.open")},l[0]||(l[0]=[le("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,kue))])]),default:Pr(y=>[le("div",Due,[le("div",null,[$t((fe(),xe("button",{class:"absolute left-5 top-5 text-gray-500 hover:text-black focus:text-black p-8",onClick:i,"aria-label":$e(e)("ramp.reload"),content:$e(e)("ramp.reload")},l[1]||(l[1]=[le("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[le("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)]),8,Fue)),[[d,{placement:"bottom-start",theme:"ramp4",animation:"scale"}]]),le("h4",Uue,Dt($e(e)("ramp.about")),1),le("div",jue,[Ke(c,{onClick:y.close},null,8,["onClick"])]),le("div",Bue,[le("div",null,[le("span",Vue,Dt(s.value),1),le("span",Gue," ["+Dt(n.value)+"] ",1)]),le("div",null,[le("span",zue,Dt(o.value[0]),1),le("span",que,Dt(o.value[1]),1)]),l[2]||(l[2]=le("div",{class:"mt-5"},[le("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[le("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),xo(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[p]])}}}),Wue=Ta(Hue,[["__scopeId","data-v-bfefdf86"]]),Yue={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},Jue={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},Kue=["href","aria-label"],Zue=["src","alt"],Xue={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},Que={class:"flex min-w-fit justify-end"},ehe={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},the=["aria-pressed","aria-label","content"],rhe={class:"relative top-1 text-sm sm:text-base"},ihe={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},she=["onClick"],nhe={key:0,class:"sr-only"},ohe=st({__name:"map-caption",setup(t){const e=pl(),r=ms(),{t:i}=sr(),s=Ur("iApi"),n=et(()=>e.scale),o=et(()=>e.attribution),a=et(()=>e.coords),l=et(()=>e.langtoggle),c=et(()=>r.config.map),f=X([]),d=li([]);d.push(Xr(c,S=>{S&&s.geo.map.caption.createCaption(c.value?.caption)})),Jn(()=>{d.forEach(S=>S())}),Af(()=>{Yn(()=>{s.$i18n.locale.value&&f.value.length==0&&(f.value=s.$i18n.availableLocales)})});const p=()=>o.value?.logo?.link&&o.value?.logo?.value&&!o.value?.logo?.disabled,y=S=>{s.$i18n.locale.value!=S&&s.setLanguage(S)},v=()=>{e.toggleScale(),s.geo.map.caption.updateScale()},b=(S=!1)=>i(S?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(S,E)=>{const T=Tr("dropdown-menu"),w=Ot("truncate"),_=Ot("tippy");return fe(),xe("div",Yue,[Ke(Wue,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Ke(Lue,{class:"sm:block display-none"}),p()?(fe(),xe("span",Jue,[le("a",{class:"pointer-events-auto cursor-pointer",href:o.value?.logo.link,target:"_blank","aria-label":o.value?.logo.altText},[le("img",{class:"object-contain h-18 sm:h-26",src:o.value?.logo.value,alt:o.value?.logo.altText},null,8,Zue)],8,Kue)])):Wt("",!0),o.value?.text.disabled?Wt("",!0):$t((fe(),xe("span",Xue,[xo(Dt(o.value?.text.value),1)])),[[w,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),E[0]||(E[0]=le("span",{class:"flex-grow w-15"},null,-1)),le("div",Que,[a.value?.disabled?Wt("",!0):$t((fe(),xe("div",ehe,[xo(Dt(a.value?.formattedString),1)])),[[w,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),n.value?.disabled?Wt("",!0):$t((fe(),xe("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:v,"aria-pressed":n.value?.isImperialScale,"aria-label":`
                    ${n.value?.label} - ${b(n.value?.isImperialScale)}
                `,content:b(n.value?.isImperialScale)},[le("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:Fl({width:n.value?.width})},null,4),le("span",rhe,Dt(n.value?.label),1)],8,the)),[[_,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?Wt("",!0):(fe(),Vt(T,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:$e(i)("map.changeLanguage"),ariaLabel:`${$e(i)("map.language.short")} - ${$e(i)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:Pr(()=>[le("span",ihe,Dt($e(i)("map.language.short")),1)]),default:Pr(()=>[(fe(!0),xe(Lt,null,Vl(f.value,(M,$)=>(fe(),xe("a",{key:`${M}-${$}`,class:lr(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":M===$e(s).$i18n.locale.value}]),href:"javascript:;",onClick:C=>y(M)},[xo(Dt($e(i)("map.language."+M))+" ",1),M===$e(s).$i18n.locale.value?(fe(),xe("span",nhe,Dt($e(i)("map.language.curr")),1)):Wt("",!0)],10,she))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),ahe=["content","aria-label"],lhe={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},che=st({__name:"floating-button",setup(t){const e=Ao(),r=Ur("iApi"),{t:i}=sr(),s=et(()=>e.notificationNumber);return(n,o)=>{const a=Ot("tippy");return $t((fe(),xe("button",{type:"button",onClick:o[0]||(o[0]=l=>$e(r).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:$e(i)("notifications.title"),"aria-label":$e(i)("notifications.title")},[o[1]||(o[1]=le("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[le("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),s.value&&s.value>0?(fe(),xe("span",lhe,Dt(s.value),1)):Wt("",!0)],8,ahe)),[[a]])}}}),uhe=Ta(che,[["__scopeId","data-v-db7ed22c"]]),hhe={class:"flex items-center mb-20"},fhe={class:"text-xl"},dhe=st({__name:"keyboard-instructions",setup(t){const e=Ur("iApi"),{t:r}=sr(),i=X(!1),s=X(["app","lists","map"]),n=X([]),o=X(null),a=X(null);vi(()=>{n.value.push(e.event.on("openKeyboardInstructions",()=>{i.value=!0,Yn(()=>{o.value.focus()})}))}),Jn(()=>{n.value.forEach(c=>e.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),i.value=!1)};return(c,f)=>{const d=Tr("close");return i.value?(fe(),xe("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:f[3]||(f[3]=p=>i.value=!1),onKeydown:l},[le("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col keyboard-instructions-modal-content",onClick:f[2]||(f[2]=Um(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[le("div",hhe,[le("h2",fhe,Dt($e(r)("keyboardInstructions.title")),1),Ke(d,{class:"ml-auto",onClick:f[0]||(f[0]=p=>i.value=!1)})]),(fe(!0),xe(Lt,null,Vl(s.value,p=>(fe(),xe("p",{class:"whitespace-pre-line pb-10",key:p},Dt($e(r)(`keyboardInstructions.${p}`)),1))),128)),le("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:f[1]||(f[1]=p=>i.value=!1),ref_key:"lastEl",ref:a},Dt($e(r)("keyboardInstructions.OK")),513)],512)],32)):Wt("",!0)}}}),Gu=ur("instance",()=>({started:X(!1)})),phe={class:"h-full relative"},mhe={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},yhe={class:"absolute top-8 w-full flex justify-center"},ghe={key:1,class:"w-full h-full"},vhe=st({__name:"shell",setup(t){const e=Ur("iApi"),r=Gu(),i=Zs(),s=nu(),{t:n}=sr(),o=et(()=>i.items.appbar),a=()=>{e.event.emit("openKeyboardInstructions")},l=()=>s.teleported;return(c,f)=>(fe(),xe("div",phe,[le("div",mhe,[f[0]||(f[0]=le("div",{class:"sr-only screen-reader-alert"},null,-1)),le("div",yhe,[le("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},Dt($e(n)("keyboardInstructions.open")),1)]),Ke(dhe,{class:"keyboard-instructions-modal"}),Ke(sce,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Wt("",!0):(fe(),Vt(uhe,{key:0})),Ke(ohe,{class:"z-30"})]),$e(r).started?(fe(),Vt(Tle,{key:0})):(fe(),xe("div",ghe,f[1]||(f[1]=[le("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(fe(!0),xe(Lt,null,Vl(l(),d=>(fe(),Vt(QS,{to:d.teleport?.target,key:d.id},[(fe(),Vt(h7,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),bhe=Ta(vhe,[["__scopeId","data-v-60f43222"]]);/*!
  * vue-tippy v6.4.4
  * (c) 2024 
  * @license MIT
  */var ws="top",hn="bottom",fn="right",xs="left",TA="auto",qm=[ws,hn,fn,xs],sf="start",im="end",_he="clippingParents",E7="viewport",Hf="popper",whe="reference",WO=qm.reduce(function(t,e){return t.concat([e+"-"+sf,e+"-"+im])},[]),S7=[].concat(qm,[TA]).reduce(function(t,e){return t.concat([e,e+"-"+sf,e+"-"+im])},[]),xhe="beforeRead",Ehe="read",She="afterRead",Ahe="beforeMain",The="main",Mhe="afterMain",$he="beforeWrite",Ohe="write",Ihe="afterWrite",Che=[xhe,Ehe,She,Ahe,The,Mhe,$he,Ohe,Ihe];function Po(t){return t?(t.nodeName||"").toLowerCase():null}function Kn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function nf(t){var e=Kn(t).Element;return t instanceof e||t instanceof Element}function ln(t){var e=Kn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function A7(t){if(typeof ShadowRoot>"u")return!1;var e=Kn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Nhe(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var i=e.styles[r]||{},s=e.attributes[r]||{},n=e.elements[r];!ln(n)||!Po(n)||(Object.assign(n.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function Phe(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],n=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:r[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!ln(s)||!Po(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}var T7={name:"applyStyles",enabled:!0,phase:"write",fn:Nhe,effect:Phe,requires:["computeStyles"]};function To(t){return t.split("-")[0]}var jc=Math.max,lv=Math.min,of=Math.round;function af(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),i=1,s=1;if(ln(t)&&e){var n=t.offsetHeight,o=t.offsetWidth;o>0&&(i=of(r.width)/o||1),n>0&&(s=of(r.height)/n||1)}return{width:r.width/i,height:r.height/s,top:r.top/s,right:r.right/i,bottom:r.bottom/s,left:r.left/i,x:r.left/i,y:r.top/s}}function MA(t){var e=af(t),r=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function M7(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&A7(r)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Lo(t){return Kn(t).getComputedStyle(t)}function Lhe(t){return["table","td","th"].indexOf(Po(t))>=0}function Wl(t){return((nf(t)?t.ownerDocument:t.document)||window.document).documentElement}function ob(t){return Po(t)==="html"?t:t.assignedSlot||t.parentNode||(A7(t)?t.host:null)||Wl(t)}function YO(t){return!ln(t)||Lo(t).position==="fixed"?null:t.offsetParent}function Rhe(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&ln(t)){var i=Lo(t);if(i.position==="fixed")return null}for(var s=ob(t);ln(s)&&["html","body"].indexOf(Po(s))<0;){var n=Lo(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||e&&n.willChange==="filter"||e&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function Hm(t){for(var e=Kn(t),r=YO(t);r&&Lhe(r)&&Lo(r).position==="static";)r=YO(r);return r&&(Po(r)==="html"||Po(r)==="body"&&Lo(r).position==="static")?e:r||Rhe(t)||e}function $A(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ip(t,e,r){return jc(t,lv(e,r))}function khe(t,e,r){var i=ip(t,e,r);return i>r?r:i}function $7(){return{top:0,right:0,bottom:0,left:0}}function O7(t){return Object.assign({},$7(),t)}function I7(t,e){return e.reduce(function(r,i){return r[i]=t,r},{})}var Dhe=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,O7(typeof e!="number"?e:I7(e,qm))};function Fhe(t){var e,r=t.state,i=t.name,s=t.options,n=r.elements.arrow,o=r.modifiersData.popperOffsets,a=To(r.placement),l=$A(a),c=[xs,fn].indexOf(a)>=0,f=c?"height":"width";if(!(!n||!o)){var d=Dhe(s.padding,r),p=MA(n),y=l==="y"?ws:xs,v=l==="y"?hn:fn,b=r.rects.reference[f]+r.rects.reference[l]-o[l]-r.rects.popper[f],S=o[l]-r.rects.reference[l],E=Hm(n),T=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,w=b/2-S/2,_=d[y],M=T-p[f]-d[v],$=T/2-p[f]/2+w,C=ip(_,$,M),P=l;r.modifiersData[i]=(e={},e[P]=C,e.centerOffset=C-$,e)}}function Uhe(t){var e=t.state,r=t.options,i=r.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||M7(e.elements.popper,s)&&(e.elements.arrow=s))}var jhe={name:"arrow",enabled:!0,phase:"main",fn:Fhe,effect:Uhe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function lf(t){return t.split("-")[1]}var Bhe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vhe(t){var e=t.x,r=t.y,i=window,s=i.devicePixelRatio||1;return{x:of(e*s)/s||0,y:of(r*s)/s||0}}function JO(t){var e,r=t.popper,i=t.popperRect,s=t.placement,n=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,d=t.isFixed,p=f===!0?Vhe(o):typeof f=="function"?f(o):o,y=p.x,v=y===void 0?0:y,b=p.y,S=b===void 0?0:b,E=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),w=xs,_=ws,M=window;if(c){var $=Hm(r),C="clientHeight",P="clientWidth";if($===Kn(r)&&($=Wl(r),Lo($).position!=="static"&&a==="absolute"&&(C="scrollHeight",P="scrollWidth")),$=$,s===ws||(s===xs||s===fn)&&n===im){_=hn;var N=d&&M.visualViewport?M.visualViewport.height:$[C];S-=N-i.height,S*=l?1:-1}if(s===xs||(s===ws||s===hn)&&n===im){w=fn;var F=d&&M.visualViewport?M.visualViewport.width:$[P];v-=F-i.width,v*=l?1:-1}}var q=Object.assign({position:a},c&&Bhe);if(l){var U;return Object.assign({},q,(U={},U[_]=T?"0":"",U[w]=E?"0":"",U.transform=(M.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",U))}return Object.assign({},q,(e={},e[_]=T?S+"px":"",e[w]=E?v+"px":"",e.transform="",e))}function Ghe(t){var e=t.state,r=t.options,i=r.gpuAcceleration,s=i===void 0?!0:i,n=r.adaptive,o=n===void 0?!0:n,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:To(e.placement),variation:lf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,JO(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,JO(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var zhe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ghe,data:{}},Ry={passive:!0};function qhe(t){var e=t.state,r=t.instance,i=t.options,s=i.scroll,n=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=Kn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return n&&c.forEach(function(f){f.addEventListener("scroll",r.update,Ry)}),a&&l.addEventListener("resize",r.update,Ry),function(){n&&c.forEach(function(f){f.removeEventListener("scroll",r.update,Ry)}),a&&l.removeEventListener("resize",r.update,Ry)}}var Hhe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qhe,data:{}},Whe={left:"right",right:"left",bottom:"top",top:"bottom"};function U0(t){return t.replace(/left|right|bottom|top/g,function(e){return Whe[e]})}var Yhe={start:"end",end:"start"};function KO(t){return t.replace(/start|end/g,function(e){return Yhe[e]})}function OA(t){var e=Kn(t),r=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:r,scrollTop:i}}function IA(t){return af(Wl(t)).left+OA(t).scrollLeft}function Jhe(t){var e=Kn(t),r=Wl(t),i=e.visualViewport,s=r.clientWidth,n=r.clientHeight,o=0,a=0;return i&&(s=i.width,n=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:s,height:n,x:o+IA(t),y:a}}function Khe(t){var e,r=Wl(t),i=OA(t),s=(e=t.ownerDocument)==null?void 0:e.body,n=jc(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=jc(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+IA(t),l=-i.scrollTop;return Lo(s||r).direction==="rtl"&&(a+=jc(r.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function CA(t){var e=Lo(t),r=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+i)}function C7(t){return["html","body","#document"].indexOf(Po(t))>=0?t.ownerDocument.body:ln(t)&&CA(t)?t:C7(ob(t))}function sp(t,e){var r;e===void 0&&(e=[]);var i=C7(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),n=Kn(i),o=s?[n].concat(n.visualViewport||[],CA(i)?i:[]):i,a=e.concat(o);return s?a:a.concat(sp(ob(o)))}function Qx(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Zhe(t){var e=af(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function ZO(t,e){return e===E7?Qx(Jhe(t)):nf(e)?Zhe(e):Qx(Khe(Wl(t)))}function Xhe(t){var e=sp(ob(t)),r=["absolute","fixed"].indexOf(Lo(t).position)>=0,i=r&&ln(t)?Hm(t):t;return nf(i)?e.filter(function(s){return nf(s)&&M7(s,i)&&Po(s)!=="body"&&(r?Lo(s).position!=="static":!0)}):[]}function Qhe(t,e,r){var i=e==="clippingParents"?Xhe(t):[].concat(e),s=[].concat(i,[r]),n=s[0],o=s.reduce(function(a,l){var c=ZO(t,l);return a.top=jc(c.top,a.top),a.right=lv(c.right,a.right),a.bottom=lv(c.bottom,a.bottom),a.left=jc(c.left,a.left),a},ZO(t,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function N7(t){var e=t.reference,r=t.element,i=t.placement,s=i?To(i):null,n=i?lf(i):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(s){case ws:l={x:o,y:e.y-r.height};break;case hn:l={x:o,y:e.y+e.height};break;case fn:l={x:e.x+e.width,y:a};break;case xs:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?$A(s):null;if(c!=null){var f=c==="y"?"height":"width";switch(n){case sf:l[c]=l[c]-(e[f]/2-r[f]/2);break;case im:l[c]=l[c]+(e[f]/2-r[f]/2);break}}return l}function sm(t,e){e===void 0&&(e={});var r=e,i=r.placement,s=i===void 0?t.placement:i,n=r.boundary,o=n===void 0?_he:n,a=r.rootBoundary,l=a===void 0?E7:a,c=r.elementContext,f=c===void 0?Hf:c,d=r.altBoundary,p=d===void 0?!1:d,y=r.padding,v=y===void 0?0:y,b=O7(typeof v!="number"?v:I7(v,qm)),S=f===Hf?whe:Hf,E=t.rects.popper,T=t.elements[p?S:f],w=Qhe(nf(T)?T:T.contextElement||Wl(t.elements.popper),o,l),_=af(t.elements.reference),M=N7({reference:_,element:E,placement:s}),$=Qx(Object.assign({},E,M)),C=f===Hf?$:_,P={top:w.top-C.top+b.top,bottom:C.bottom-w.bottom+b.bottom,left:w.left-C.left+b.left,right:C.right-w.right+b.right},N=t.modifiersData.offset;if(f===Hf&&N){var F=N[s];Object.keys(P).forEach(function(q){var U=[fn,hn].indexOf(q)>=0?1:-1,B=[ws,hn].indexOf(q)>=0?"y":"x";P[q]+=F[B]*U})}return P}function efe(t,e){e===void 0&&(e={});var r=e,i=r.placement,s=r.boundary,n=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?S7:l,f=lf(i),d=f?a?WO:WO.filter(function(v){return lf(v)===f}):qm,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,b){return v[b]=sm(t,{placement:b,boundary:s,rootBoundary:n,padding:o})[To(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function tfe(t){if(To(t)===TA)return[];var e=U0(t);return[KO(t),e,KO(e)]}function rfe(t){var e=t.state,r=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=r.mainAxis,n=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,f=r.boundary,d=r.rootBoundary,p=r.altBoundary,y=r.flipVariations,v=y===void 0?!0:y,b=r.allowedAutoPlacements,S=e.options.placement,E=To(S),T=E===S,w=l||(T||!v?[U0(S)]:tfe(S)),_=[S].concat(w).reduce(function(Ue,ze){return Ue.concat(To(ze)===TA?efe(e,{placement:ze,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:b}):ze)},[]),M=e.rects.reference,$=e.rects.popper,C=new Map,P=!0,N=_[0],F=0;F<_.length;F++){var q=_[F],U=To(q),B=lf(q)===sf,K=[ws,hn].indexOf(U)>=0,h=K?"width":"height",m=sm(e,{placement:q,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),x=K?B?fn:xs:B?hn:ws;M[h]>$[h]&&(x=U0(x));var I=U0(x),V=[];if(n&&V.push(m[U]<=0),a&&V.push(m[x]<=0,m[I]<=0),V.every(function(Ue){return Ue})){N=q,P=!1;break}C.set(q,V)}if(P)for(var Y=v?3:1,me=function(ze){var lt=_.find(function(zt){var It=C.get(zt);if(It)return It.slice(0,ze).every(function(wr){return wr})});if(lt)return N=lt,"break"},ue=Y;ue>0;ue--){var Me=me(ue);if(Me==="break")break}e.placement!==N&&(e.modifiersData[i]._skip=!0,e.placement=N,e.reset=!0)}}var ife={name:"flip",enabled:!0,phase:"main",fn:rfe,requiresIfExists:["offset"],data:{_skip:!1}};function XO(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function QO(t){return[ws,fn,hn,xs].some(function(e){return t[e]>=0})}function sfe(t){var e=t.state,r=t.name,i=e.rects.reference,s=e.rects.popper,n=e.modifiersData.preventOverflow,o=sm(e,{elementContext:"reference"}),a=sm(e,{altBoundary:!0}),l=XO(o,i),c=XO(a,s,n),f=QO(l),d=QO(c);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var nfe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sfe};function ofe(t,e,r){var i=To(t),s=[xs,ws].indexOf(i)>=0?-1:1,n=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[xs,fn].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function afe(t){var e=t.state,r=t.options,i=t.name,s=r.offset,n=s===void 0?[0,0]:s,o=S7.reduce(function(f,d){return f[d]=ofe(d,e.rects,n),f},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}var lfe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:afe};function cfe(t){var e=t.state,r=t.name;e.modifiersData[r]=N7({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var ufe={name:"popperOffsets",enabled:!0,phase:"read",fn:cfe,data:{}};function hfe(t){return t==="x"?"y":"x"}function ffe(t){var e=t.state,r=t.options,i=t.name,s=r.mainAxis,n=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,f=r.altBoundary,d=r.padding,p=r.tether,y=p===void 0?!0:p,v=r.tetherOffset,b=v===void 0?0:v,S=sm(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),E=To(e.placement),T=lf(e.placement),w=!T,_=$A(E),M=hfe(_),$=e.modifiersData.popperOffsets,C=e.rects.reference,P=e.rects.popper,N=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,F=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if($){if(n){var B,K=_==="y"?ws:xs,h=_==="y"?hn:fn,m=_==="y"?"height":"width",x=$[_],I=x+S[K],V=x-S[h],Y=y?-P[m]/2:0,me=T===sf?C[m]:P[m],ue=T===sf?-P[m]:-C[m],Me=e.elements.arrow,Ue=y&&Me?MA(Me):{width:0,height:0},ze=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$7(),lt=ze[K],zt=ze[h],It=ip(0,C[m],Ue[m]),wr=w?C[m]/2-Y-It-lt-F.mainAxis:me-It-lt-F.mainAxis,Ft=w?-C[m]/2+Y+It+zt+F.mainAxis:ue+It+zt+F.mainAxis,nr=e.elements.arrow&&Hm(e.elements.arrow),ti=nr?_==="y"?nr.clientTop||0:nr.clientLeft||0:0,j=(B=q?.[_])!=null?B:0,D=x+wr-j-ti,W=x+Ft-j,oe=ip(y?lv(I,D):I,x,y?jc(V,W):V);$[_]=oe,U[_]=oe-x}if(a){var te,ce=_==="x"?ws:xs,ye=_==="x"?hn:fn,L=$[M],R=M==="y"?"height":"width",G=L+S[ce],re=L-S[ye],se=[ws,xs].indexOf(E)!==-1,ne=(te=q?.[M])!=null?te:0,H=se?G:L-C[R]-P[R]-ne+F.altAxis,Z=se?L+C[R]+P[R]-ne-F.altAxis:re,Ae=y&&se?khe(H,L,Z):ip(y?H:G,L,y?Z:re);$[M]=Ae,U[M]=Ae-L}e.modifiersData[i]=U}}var dfe={name:"preventOverflow",enabled:!0,phase:"main",fn:ffe,requiresIfExists:["offset"]};function pfe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function mfe(t){return t===Kn(t)||!ln(t)?OA(t):pfe(t)}function yfe(t){var e=t.getBoundingClientRect(),r=of(e.width)/t.offsetWidth||1,i=of(e.height)/t.offsetHeight||1;return r!==1||i!==1}function gfe(t,e,r){r===void 0&&(r=!1);var i=ln(e),s=ln(e)&&yfe(e),n=Wl(e),o=af(t,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((Po(e)!=="body"||CA(n))&&(a=mfe(e)),ln(e)?(l=af(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):n&&(l.x=IA(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function vfe(t){var e=new Map,r=new Set,i=[];t.forEach(function(n){e.set(n.name,n)});function s(n){r.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&s(l)}}),i.push(n)}return t.forEach(function(n){r.has(n.name)||s(n)}),i}function bfe(t){var e=vfe(t);return Che.reduce(function(r,i){return r.concat(e.filter(function(s){return s.phase===i}))},[])}function _fe(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function wfe(t){var e=t.reduce(function(r,i){var s=r[i.name];return r[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,r},{});return Object.keys(e).map(function(r){return e[r]})}var eI={placement:"bottom",modifiers:[],strategy:"absolute"};function tI(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function xfe(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,i=r===void 0?[]:r,s=e.defaultOptions,n=s===void 0?eI:s;return function(a,l,c){c===void 0&&(c=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},eI,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(E){var T=typeof E=="function"?E(f.options):E;b(),f.options=Object.assign({},n,f.options,T),f.scrollParents={reference:nf(a)?sp(a):a.contextElement?sp(a.contextElement):[],popper:sp(l)};var w=bfe(wfe([].concat(i,f.options.modifiers)));return f.orderedModifiers=w.filter(function(_){return _.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var E=f.elements,T=E.reference,w=E.popper;if(tI(T,w)){f.rects={reference:gfe(T,Hm(w),f.options.strategy==="fixed"),popper:MA(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(F){return f.modifiersData[F.name]=Object.assign({},F.data)});for(var _=0;_<f.orderedModifiers.length;_++){if(f.reset===!0){f.reset=!1,_=-1;continue}var M=f.orderedModifiers[_],$=M.fn,C=M.options,P=C===void 0?{}:C,N=M.name;typeof $=="function"&&(f=$({state:f,options:P,name:N,instance:y})||f)}}}},update:_fe(function(){return new Promise(function(S){y.forceUpdate(),S(f)})}),destroy:function(){b(),p=!0}};if(!tI(a,l))return y;y.setOptions(c).then(function(S){!p&&c.onFirstUpdate&&c.onFirstUpdate(S)});function v(){f.orderedModifiers.forEach(function(S){var E=S.name,T=S.options,w=T===void 0?{}:T,_=S.effect;if(typeof _=="function"){var M=_({state:f,name:E,instance:y,options:w}),$=function(){};d.push(M||$)}})}function b(){d.forEach(function(S){return S()}),d=[]}return y}}var Efe=[Hhe,ufe,zhe,T7,lfe,ife,dfe,jhe,nfe],Sfe=xfe({defaultModifiers:Efe}),Afe="tippy-box",P7="tippy-content",L7="tippy-backdrop",R7="tippy-arrow",k7="tippy-svg-arrow",_c={passive:!0,capture:!0},D7=function(){return document.body};function $_(t,e,r){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(r)?r[e]:r)}return t}function NA(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function F7(t,e){return typeof t=="function"?t.apply(void 0,e):t}function rI(t,e){if(e===0)return t;var r;return function(i){clearTimeout(r),r=setTimeout(function(){t(i)},e)}}function Tfe(t,e){var r=Object.assign({},t);return e.forEach(function(i){delete r[i]}),r}function Mfe(t){return t.split(/\s+/).filter(Boolean)}function Ec(t){return[].concat(t)}function iI(t,e){t.indexOf(e)===-1&&t.push(e)}function $fe(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function U7(t){return t.split("-")[0]}function cf(t){return[].slice.call(t)}function sI(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function Bc(){return document.createElement("div")}function ab(t){return["Element","Fragment"].some(function(e){return NA(t,e)})}function Ofe(t){return NA(t,"NodeList")}function PA(t){return NA(t,"MouseEvent")}function Ife(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Cfe(t){return ab(t)?[t]:Ofe(t)?cf(t):Array.isArray(t)?t:cf(document.querySelectorAll(t))}function O_(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function nm(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function j7(t){var e,r=Ec(t),i=r[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Nfe(t,e){var r=e.clientX,i=e.clientY;return t.every(function(s){var n=s.popperRect,o=s.popperState,a=s.props,l=a.interactiveBorder,c=U7(o.placement),f=o.modifiersData.offset;if(!f)return!0;var d=c==="bottom"?f.top.y:0,p=c==="top"?f.bottom.y:0,y=c==="right"?f.left.x:0,v=c==="left"?f.right.x:0,b=n.top-i+d>l,S=i-n.bottom-p>l,E=n.left-r+y>l,T=r-n.right-v>l;return b||S||E||T})}function I_(t,e,r){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){t[i](s,r)})}function nI(t,e){for(var r=e;r;){var i;if(t.contains(r))return!0;r=r.getRootNode==null||(i=r.getRootNode())==null?void 0:i.host}return!1}var ho={isTouch:!1},oI=0;function Pfe(){ho.isTouch||(ho.isTouch=!0,window.performance&&document.addEventListener("mousemove",B7))}function B7(){var t=performance.now();t-oI<20&&(ho.isTouch=!1,document.removeEventListener("mousemove",B7)),oI=t}function Lfe(){var t=document.activeElement;if(Ife(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Rfe(){document.addEventListener("touchstart",Pfe,_c),window.addEventListener("blur",Lfe)}var kfe=typeof window<"u"&&typeof document<"u",Dfe=kfe?!!window.msCrypto:!1,Ffe={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ufe={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Pn=Object.assign({appendTo:D7,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ffe,Ufe),jfe=Object.keys(Pn),Bfe=function(e){var r=Object.keys(e);r.forEach(function(i){Pn[i]=e[i]})};function V7(t){var e=t.plugins||[],r=e.reduce(function(i,s){var n=s.name,o=s.defaultValue;if(n){var a;i[n]=t[n]!==void 0?t[n]:(a=Pn[n])!=null?a:o}return i},{});return Object.assign({},t,r)}function Vfe(t,e){var r=e?Object.keys(V7(Object.assign({},Pn,{plugins:e}))):jfe,i=r.reduce(function(s,n){var o=(t.getAttribute("data-tippy-"+n)||"").trim();if(!o)return s;if(n==="content")s[n]=o;else try{s[n]=JSON.parse(o)}catch{s[n]=o}return s},{});return i}function aI(t,e){var r=Object.assign({},e,{content:F7(e.content,[t])},e.ignoreAttributes?{}:Vfe(t,e.plugins));return r.aria=Object.assign({},Pn.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var Gfe=function(){return"innerHTML"};function eE(t,e){t[Gfe()]=e}function lI(t){var e=Bc();return t===!0?e.className=R7:(e.className=k7,ab(t)?e.appendChild(t):eE(e,t)),e}function cI(t,e){ab(e.content)?(eE(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?eE(t,e.content):t.textContent=e.content)}function cv(t){var e=t.firstElementChild,r=cf(e.children);return{box:e,content:r.find(function(i){return i.classList.contains(P7)}),arrow:r.find(function(i){return i.classList.contains(R7)||i.classList.contains(k7)}),backdrop:r.find(function(i){return i.classList.contains(L7)})}}function G7(t){var e=Bc(),r=Bc();r.className=Afe,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var i=Bc();i.className=P7,i.setAttribute("data-state","hidden"),cI(i,t.props),e.appendChild(r),r.appendChild(i),s(t.props,t.props);function s(n,o){var a=cv(e),l=a.box,c=a.content,f=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(n.content!==o.content||n.allowHTML!==o.allowHTML)&&cI(c,t.props),o.arrow?f?n.arrow!==o.arrow&&(l.removeChild(f),l.appendChild(lI(o.arrow))):l.appendChild(lI(o.arrow)):f&&l.removeChild(f)}return{popper:e,onUpdate:s}}G7.$$tippy=!0;var zfe=1,ky=[],C_=[];function qfe(t,e){var r=aI(t,Object.assign({},Pn,V7(sI(e)))),i,s,n,o=!1,a=!1,l=!1,c=!1,f,d,p,y=[],v=rI(D,r.interactiveDebounce),b,S=zfe++,E=null,T=$fe(r.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:S,reference:t,popper:Bc(),popperInstance:E,props:r,state:w,plugins:T,clearDelayTimeouts:H,setProps:Z,setContent:Ae,show:Le,hide:Ut,hideWithInteractivity:qt,enable:se,disable:ne,unmount:hr,destroy:Br};if(!r.render)return _;var M=r.render(_),$=M.popper,C=M.onUpdate;$.setAttribute("data-tippy-root",""),$.id="tippy-"+_.id,_.popper=$,t._tippy=_,$._tippy=_;var P=T.map(function(Q){return Q.fn(_)}),N=t.hasAttribute("aria-expanded");return nr(),Y(),x(),I("onCreate",[_]),r.showOnCreate&&G(),$.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),$.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&K().addEventListener("mousemove",v)}),_;function F(){var Q=_.props.touch;return Array.isArray(Q)?Q:[Q,0]}function q(){return F()[0]==="hold"}function U(){var Q;return!!((Q=_.props.render)!=null&&Q.$$tippy)}function B(){return b||t}function K(){var Q=B().parentNode;return Q?j7(Q):document}function h(){return cv($)}function m(Q){return _.state.isMounted&&!_.state.isVisible||ho.isTouch||f&&f.type==="focus"?0:$_(_.props.delay,Q?0:1,Pn.delay)}function x(Q){Q===void 0&&(Q=!1),$.style.pointerEvents=_.props.interactive&&!Q?"":"none",$.style.zIndex=""+_.props.zIndex}function I(Q,Te,Oe){if(Oe===void 0&&(Oe=!0),P.forEach(function(Ze){Ze[Q]&&Ze[Q].apply(Ze,Te)}),Oe){var We;(We=_.props)[Q].apply(We,Te)}}function V(){var Q=_.props.aria;if(Q.content){var Te="aria-"+Q.content,Oe=$.id,We=Ec(_.props.triggerTarget||t);We.forEach(function(Ze){var Vr=Ze.getAttribute(Te);if(_.state.isVisible)Ze.setAttribute(Te,Vr?Vr+" "+Oe:Oe);else{var bi=Vr&&Vr.replace(Oe,"").trim();bi?Ze.setAttribute(Te,bi):Ze.removeAttribute(Te)}})}}function Y(){if(!(N||!_.props.aria.expanded)){var Q=Ec(_.props.triggerTarget||t);Q.forEach(function(Te){_.props.interactive?Te.setAttribute("aria-expanded",_.state.isVisible&&Te===B()?"true":"false"):Te.removeAttribute("aria-expanded")})}}function me(){K().removeEventListener("mousemove",v),ky=ky.filter(function(Q){return Q!==v})}function ue(Q){if(!(ho.isTouch&&(l||Q.type==="mousedown"))){var Te=Q.composedPath&&Q.composedPath()[0]||Q.target;if(!(_.props.interactive&&nI($,Te))){if(Ec(_.props.triggerTarget||t).some(function(Oe){return nI(Oe,Te)})){if(ho.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else I("onClickOutside",[_,Q]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),a=!0,setTimeout(function(){a=!1}),_.state.isMounted||lt())}}}function Me(){l=!0}function Ue(){l=!1}function ze(){var Q=K();Q.addEventListener("mousedown",ue,!0),Q.addEventListener("touchend",ue,_c),Q.addEventListener("touchstart",Ue,_c),Q.addEventListener("touchmove",Me,_c)}function lt(){var Q=K();Q.removeEventListener("mousedown",ue,!0),Q.removeEventListener("touchend",ue,_c),Q.removeEventListener("touchstart",Ue,_c),Q.removeEventListener("touchmove",Me,_c)}function zt(Q,Te){wr(Q,function(){!_.state.isVisible&&$.parentNode&&$.parentNode.contains($)&&Te()})}function It(Q,Te){wr(Q,Te)}function wr(Q,Te){var Oe=h().box;function We(Ze){Ze.target===Oe&&(I_(Oe,"remove",We),Te())}if(Q===0)return Te();I_(Oe,"remove",d),I_(Oe,"add",We),d=We}function Ft(Q,Te,Oe){Oe===void 0&&(Oe=!1);var We=Ec(_.props.triggerTarget||t);We.forEach(function(Ze){Ze.addEventListener(Q,Te,Oe),y.push({node:Ze,eventType:Q,handler:Te,options:Oe})})}function nr(){q()&&(Ft("touchstart",j,{passive:!0}),Ft("touchend",W,{passive:!0})),Mfe(_.props.trigger).forEach(function(Q){if(Q!=="manual")switch(Ft(Q,j),Q){case"mouseenter":Ft("mouseleave",W);break;case"focus":Ft(Dfe?"focusout":"blur",oe);break;case"focusin":Ft("focusout",oe);break}})}function ti(){y.forEach(function(Q){var Te=Q.node,Oe=Q.eventType,We=Q.handler,Ze=Q.options;Te.removeEventListener(Oe,We,Ze)}),y=[]}function j(Q){var Te,Oe=!1;if(!(!_.state.isEnabled||te(Q)||a)){var We=((Te=f)==null?void 0:Te.type)==="focus";f=Q,b=Q.currentTarget,Y(),!_.state.isVisible&&PA(Q)&&ky.forEach(function(Ze){return Ze(Q)}),Q.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||o)&&_.props.hideOnClick!==!1&&_.state.isVisible?Oe=!0:G(Q),Q.type==="click"&&(o=!Oe),Oe&&!We&&re(Q)}}function D(Q){var Te=Q.target,Oe=B().contains(Te)||$.contains(Te);if(!(Q.type==="mousemove"&&Oe)){var We=R().concat($).map(function(Ze){var Vr,bi=Ze._tippy,Zn=(Vr=bi.popperInstance)==null?void 0:Vr.state;return Zn?{popperRect:Ze.getBoundingClientRect(),popperState:Zn,props:r}:null}).filter(Boolean);Nfe(We,Q)&&(me(),re(Q))}}function W(Q){var Te=te(Q)||_.props.trigger.indexOf("click")>=0&&o;if(!Te){if(_.props.interactive){_.hideWithInteractivity(Q);return}re(Q)}}function oe(Q){_.props.trigger.indexOf("focusin")<0&&Q.target!==B()||_.props.interactive&&Q.relatedTarget&&$.contains(Q.relatedTarget)||re(Q)}function te(Q){return ho.isTouch?q()!==Q.type.indexOf("touch")>=0:!1}function ce(){ye();var Q=_.props,Te=Q.popperOptions,Oe=Q.placement,We=Q.offset,Ze=Q.getReferenceClientRect,Vr=Q.moveTransition,bi=U()?cv($).arrow:null,Zn=Ze?{getBoundingClientRect:Ze,contextElement:Ze.contextElement||B()}:t,Ma={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(gu){var $a=gu.state;if(U()){var db=h(),vu=db.box;["placement","reference-hidden","escaped"].forEach(function(Yl){Yl==="placement"?vu.setAttribute("data-placement",$a.placement):$a.attributes.popper["data-popper-"+Yl]?vu.setAttribute("data-"+Yl,""):vu.removeAttribute("data-"+Yl)}),$a.attributes.popper={}}}},Do=[{name:"offset",options:{offset:We}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Vr}},Ma];U()&&bi&&Do.push({name:"arrow",options:{element:bi,padding:3}}),Do.push.apply(Do,Te?.modifiers||[]),_.popperInstance=Sfe(Zn,$,Object.assign({},Te,{placement:Oe,onFirstUpdate:p,modifiers:Do}))}function ye(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function L(){var Q=_.props.appendTo,Te,Oe=B();_.props.interactive&&Q===D7||Q==="parent"?Te=Oe.parentNode:Te=F7(Q,[Oe]),Te.contains($)||Te.appendChild($),_.state.isMounted=!0,ce()}function R(){return cf($.querySelectorAll("[data-tippy-root]"))}function G(Q){_.clearDelayTimeouts(),Q&&I("onTrigger",[_,Q]),ze();var Te=m(!0),Oe=F(),We=Oe[0],Ze=Oe[1];ho.isTouch&&We==="hold"&&Ze&&(Te=Ze),Te?i=setTimeout(function(){_.show()},Te):_.show()}function re(Q){if(_.clearDelayTimeouts(),I("onUntrigger",[_,Q]),!_.state.isVisible){lt();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Q.type)>=0&&o)){var Te=m(!1);Te?s=setTimeout(function(){_.state.isVisible&&_.hide()},Te):n=requestAnimationFrame(function(){_.hide()})}}function se(){_.state.isEnabled=!0}function ne(){_.hide(),_.state.isEnabled=!1}function H(){clearTimeout(i),clearTimeout(s),cancelAnimationFrame(n)}function Z(Q){if(!_.state.isDestroyed){I("onBeforeUpdate",[_,Q]),ti();var Te=_.props,Oe=aI(t,Object.assign({},Te,sI(Q),{ignoreAttributes:!0}));_.props=Oe,nr(),Te.interactiveDebounce!==Oe.interactiveDebounce&&(me(),v=rI(D,Oe.interactiveDebounce)),Te.triggerTarget&&!Oe.triggerTarget?Ec(Te.triggerTarget).forEach(function(We){We.removeAttribute("aria-expanded")}):Oe.triggerTarget&&t.removeAttribute("aria-expanded"),Y(),x(),C&&C(Te,Oe),_.popperInstance&&(ce(),R().forEach(function(We){requestAnimationFrame(We._tippy.popperInstance.forceUpdate)})),I("onAfterUpdate",[_,Q])}}function Ae(Q){_.setProps({content:Q})}function Le(){var Q=_.state.isVisible,Te=_.state.isDestroyed,Oe=!_.state.isEnabled,We=ho.isTouch&&!_.props.touch,Ze=$_(_.props.duration,0,Pn.duration);if(!(Q||Te||Oe||We)&&!B().hasAttribute("disabled")&&(I("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,U()&&($.style.visibility="visible"),x(),ze(),_.state.isMounted||($.style.transition="none"),U()){var Vr=h(),bi=Vr.box,Zn=Vr.content;O_([bi,Zn],0)}p=function(){var Do;if(!(!_.state.isVisible||c)){if(c=!0,$.offsetHeight,$.style.transition=_.props.moveTransition,U()&&_.props.animation){var Mf=h(),gu=Mf.box,$a=Mf.content;O_([gu,$a],Ze),nm([gu,$a],"visible")}V(),Y(),iI(C_,_),(Do=_.popperInstance)==null||Do.forceUpdate(),I("onMount",[_]),_.props.animation&&U()&&It(Ze,function(){_.state.isShown=!0,I("onShown",[_])})}},L()}}function Ut(){var Q=!_.state.isVisible,Te=_.state.isDestroyed,Oe=!_.state.isEnabled,We=$_(_.props.duration,1,Pn.duration);if(!(Q||Te||Oe)&&(I("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,c=!1,o=!1,U()&&($.style.visibility="hidden"),me(),lt(),x(!0),U()){var Ze=h(),Vr=Ze.box,bi=Ze.content;_.props.animation&&(O_([Vr,bi],We),nm([Vr,bi],"hidden"))}V(),Y(),_.props.animation?U()&&zt(We,_.unmount):_.unmount()}}function qt(Q){K().addEventListener("mousemove",v),iI(ky,v),v(Q)}function hr(){_.state.isVisible&&_.hide(),_.state.isMounted&&(ye(),R().forEach(function(Q){Q._tippy.unmount()}),$.parentNode&&$.parentNode.removeChild($),C_=C_.filter(function(Q){return Q!==_}),_.state.isMounted=!1,I("onHidden",[_]))}function Br(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),ti(),delete t._tippy,_.state.isDestroyed=!0,I("onDestroy",[_]))}}function Pe(t,e){e===void 0&&(e={});var r=Pn.plugins.concat(e.plugins||[]);Rfe();var i=Object.assign({},e,{plugins:r}),s=Cfe(t),n=s.reduce(function(o,a){var l=a&&qfe(a,i);return l&&o.push(l),o},[]);return ab(t)?n[0]:n}Pe.defaultProps=Pn;Pe.setDefaultProps=Bfe;Pe.currentInput=ho;var Hfe=Object.assign({},T7,{effect:function(e){var r=e.state,i={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,i.popper),r.styles=i,r.elements.arrow&&Object.assign(r.elements.arrow.style,i.arrow)}}),Wfe=function(e,r){var i;r===void 0&&(r={});var s=e,n=[],o=[],a,l=r.overrides,c=[],f=!1;function d(){o=s.map(function(_){return Ec(_.props.triggerTarget||_.reference)}).reduce(function(_,M){return _.concat(M)},[])}function p(){n=s.map(function(_){return _.reference})}function y(_){s.forEach(function(M){_?M.enable():M.disable()})}function v(_){return s.map(function(M){var $=M.setProps;return M.setProps=function(C){$(C),M.reference===a&&_.setProps(C)},function(){M.setProps=$}})}function b(_,M){var $=o.indexOf(M);if(M!==a){a=M;var C=(l||[]).concat("content").reduce(function(P,N){return P[N]=s[$].props[N],P},{});_.setProps(Object.assign({},C,{getReferenceClientRect:typeof C.getReferenceClientRect=="function"?C.getReferenceClientRect:function(){var P;return(P=n[$])==null?void 0:P.getBoundingClientRect()}}))}}y(!1),p(),d();var S={fn:function(){return{onDestroy:function(){y(!0)},onHidden:function(){a=null},onClickOutside:function($){$.props.showOnCreate&&!f&&(f=!0,a=null)},onShow:function($){$.props.showOnCreate&&!f&&(f=!0,b($,n[0]))},onTrigger:function($,C){b($,C.currentTarget)}}}},E=Pe(Bc(),Object.assign({},Tfe(r,["overrides"]),{plugins:[S].concat(r.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},r.popperOptions,{modifiers:[].concat(((i=r.popperOptions)==null?void 0:i.modifiers)||[],[Hfe])})})),T=E.show;E.show=function(_){if(T(),!a&&_==null)return b(E,n[0]);if(!(a&&_==null)){if(typeof _=="number")return n[_]&&b(E,n[_]);if(s.indexOf(_)>=0){var M=_.reference;return b(E,M)}if(n.indexOf(_)>=0)return b(E,_)}},E.showNext=function(){var _=n[0];if(!a)return E.show(0);var M=n.indexOf(a);E.show(n[M+1]||_)},E.showPrevious=function(){var _=n[n.length-1];if(!a)return E.show(_);var M=n.indexOf(a),$=n[M-1]||_;E.show($)};var w=E.setProps;return E.setProps=function(_){l=_.overrides||l,w(_)},E.setInstances=function(_){y(!0),c.forEach(function(M){return M()}),s=_,y(!1),p(),d(),c=v(E),E.setProps({triggerTarget:o})},c=v(E),E},Yfe={name:"animateFill",defaultValue:!1,fn:function(e){var r;if(!((r=e.props.render)!=null&&r.$$tippy))return{};var i=cv(e.popper),s=i.box,n=i.content,o=e.props.animateFill?Jfe():null;return{onCreate:function(){o&&(s.insertBefore(o,s.firstElementChild),s.setAttribute("data-animatefill",""),s.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=s.style.transitionDuration,c=Number(l.replace("ms",""));n.style.transitionDelay=Math.round(c/10)+"ms",o.style.transitionDuration=l,nm([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&nm([o],"hidden")}}}};function Jfe(){var t=Bc();return t.className=L7,nm([t],"hidden"),t}var tE={clientX:0,clientY:0},Dy=[];function z7(t){var e=t.clientX,r=t.clientY;tE={clientX:e,clientY:r}}function Kfe(t){t.addEventListener("mousemove",z7)}function Zfe(t){t.removeEventListener("mousemove",z7)}var Xfe={name:"followCursor",defaultValue:!1,fn:function(e){var r=e.reference,i=j7(e.props.triggerTarget||r),s=!1,n=!1,o=!0,a=e.props;function l(){return e.props.followCursor==="initial"&&e.state.isVisible}function c(){i.addEventListener("mousemove",p)}function f(){i.removeEventListener("mousemove",p)}function d(){s=!0,e.setProps({getReferenceClientRect:null}),s=!1}function p(b){var S=b.target?r.contains(b.target):!0,E=e.props.followCursor,T=b.clientX,w=b.clientY,_=r.getBoundingClientRect(),M=T-_.left,$=w-_.top;(S||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var P=r.getBoundingClientRect(),N=T,F=w;E==="initial"&&(N=P.left+M,F=P.top+$);var q=E==="horizontal"?P.top:F,U=E==="vertical"?P.right:N,B=E==="horizontal"?P.bottom:F,K=E==="vertical"?P.left:N;return{width:U-K,height:B-q,top:q,right:U,bottom:B,left:K}}})}function y(){e.props.followCursor&&(Dy.push({instance:e,doc:i}),Kfe(i))}function v(){Dy=Dy.filter(function(b){return b.instance!==e}),Dy.filter(function(b){return b.doc===i}).length===0&&Zfe(i)}return{onCreate:y,onDestroy:v,onBeforeUpdate:function(){a=e.props},onAfterUpdate:function(S,E){var T=E.followCursor;s||T!==void 0&&a.followCursor!==T&&(v(),T?(y(),e.state.isMounted&&!n&&!l()&&c()):(f(),d()))},onMount:function(){e.props.followCursor&&!n&&(o&&(p(tE),o=!1),l()||c())},onTrigger:function(S,E){PA(E)&&(tE={clientX:E.clientX,clientY:E.clientY}),n=E.type==="focus"},onHidden:function(){e.props.followCursor&&(d(),f(),o=!0)}}}};function Qfe(t,e){var r;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((((r=t.popperOptions)==null?void 0:r.modifiers)||[]).filter(function(i){var s=i.name;return s!==e.name}),[e])})}}var ede={name:"inlinePositioning",defaultValue:!1,fn:function(e){var r=e.reference;function i(){return!!e.props.inlinePositioning}var s,n=-1,o=!1,a=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(y){var v=y.state;i()&&(a.indexOf(v.placement)!==-1&&(a=[]),s!==v.placement&&a.indexOf(v.placement)===-1&&(a.push(v.placement),e.setProps({getReferenceClientRect:function(){return c(v.placement)}})),s=v.placement)}};function c(p){return tde(U7(p),r.getBoundingClientRect(),cf(r.getClientRects()),n)}function f(p){o=!0,e.setProps(p),o=!1}function d(){o||f(Qfe(e.props,l))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(y,v){if(PA(v)){var b=cf(e.reference.getClientRects()),S=b.find(function(T){return T.left-2<=v.clientX&&T.right+2>=v.clientX&&T.top-2<=v.clientY&&T.bottom+2>=v.clientY}),E=b.indexOf(S);n=E>-1?E:n}},onHidden:function(){n=-1}}}};function tde(t,e,r,i){if(r.length<2||t===null)return e;if(r.length===2&&i>=0&&r[0].left>r[1].right)return r[i]||e;switch(t){case"top":case"bottom":{var s=r[0],n=r[r.length-1],o=t==="top",a=s.top,l=n.bottom,c=o?s.left:n.left,f=o?s.right:n.right,d=f-c,p=l-a;return{top:a,bottom:l,left:c,right:f,width:d,height:p}}case"left":case"right":{var y=Math.min.apply(Math,r.map(function($){return $.left})),v=Math.max.apply(Math,r.map(function($){return $.right})),b=r.filter(function($){return t==="left"?$.left===y:$.right===v}),S=b[0].top,E=b[b.length-1].bottom,T=y,w=v,_=w-T,M=E-S;return{top:S,bottom:E,left:T,right:w,width:_,height:M}}default:return e}}var rde={name:"sticky",defaultValue:!1,fn:function(e){var r=e.reference,i=e.popper;function s(){return e.popperInstance?e.popperInstance.state.elements.reference:r}function n(c){return e.props.sticky===!0||e.props.sticky===c}var o=null,a=null;function l(){var c=n("reference")?s().getBoundingClientRect():null,f=n("popper")?i.getBoundingClientRect():null;(c&&uI(o,c)||f&&uI(a,f))&&e.popperInstance&&e.popperInstance.update(),o=c,a=f,e.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){e.props.sticky&&l()}}}};function uI(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}Pe.setDefaultProps({render:G7});Pe.setDefaultProps({onShow:t=>{if(!t.props.content)return!1}});function LA(t,e={},r={mount:!0,appName:"Tippy"}){r=Object.assign({mount:!0,appName:"Tippy"},r);const i=jr(),s=X(),n=X({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=Sf();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=C=>{let P,N=dt(C)?C.value:C;return zn(N)?(o.value||(o.value=Cl({name:r.appName,setup:()=>()=>dt(C)?C.value:C}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),P=()=>l()):typeof N=="object"?(o.value||(o.value=Cl({name:r.appName,setup:()=>()=>sn(dt(C)?C.value:C)}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),P=()=>l()):P=N,P},f=C=>{let P={};return dt(C)?P=C.value||{}:ks(C)?P={...C}:P={...C},P.content&&(P.content=c(P.content)),P.triggerTarget&&(P.triggerTarget=dt(P.triggerTarget)?P.triggerTarget.value:P.triggerTarget),(!P.plugins||!Array.isArray(P.plugins))&&(P.plugins=[]),P.plugins=P.plugins.filter(N=>N.name!=="vueTippyReactiveState"),P.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){n.value.isEnabled=!0},onMount(){n.value.isMounted=!0},onShow(){n.value.isMounted=!0,n.value.isVisible=!0},onShown(){n.value.isShown=!0},onHide(){n.value.isMounted=!1,n.value.isVisible=!1},onHidden(){n.value.isShown=!1},onUnmounted(){n.value.isMounted=!1},onDestroy(){n.value.isDestroyed=!0}})}),P},d=()=>{s.value&&s.value.setProps(f(e))},p=()=>{!s.value||!e.content||s.value.setContent(c(e.content))},y=C=>{var P;(P=s.value)===null||P===void 0||P.setContent(c(C))},v=C=>{var P;(P=s.value)===null||P===void 0||P.setProps(f(C))},b=()=>{var C;s.value&&(s.value.destroy(),s.value=void 0),a=null,(C=o.value)===null||C===void 0||C.unmount(),o.value=void 0},S=()=>{var C;(C=s.value)===null||C===void 0||C.show()},E=()=>{var C;(C=s.value)===null||C===void 0||C.hide()},T=()=>{var C;(C=s.value)===null||C===void 0||C.disable(),n.value.isEnabled=!1},w=()=>{var C;(C=s.value)===null||C===void 0||C.enable(),n.value.isEnabled=!0},_=()=>{var C;(C=s.value)===null||C===void 0||C.unmount()},M=()=>{if(!t)return;let C=dt(t)?t.value:t;typeof C=="function"&&(C=C()),C&&(s.value=Pe(C,f(e)),C.$tippy=$)},$={tippy:s,refresh:d,refreshContent:p,setContent:y,setProps:v,destroy:b,hide:E,show:S,disable:T,enable:w,unmount:_,mount:M,state:n};return r.mount&&(i?i.isMounted?M():vi(M):M()),i&&pu(()=>{b()}),dt(e)||ks(e)?Xr(e,d,{immediate:!1}):dt(e.content)&&Xr(e.content,p,{immediate:!1}),$}function ide(t,e){const r=X();return vi(()=>{const s=(Array.isArray(t)?t.map(n=>n.value):typeof t=="function"?t():t.value).map(n=>n instanceof Element?n._tippy:n).filter(Boolean);r.value=Wfe(s,e?{allowHTML:!0,...e}:{allowHTML:!0})}),{singleton:r}}function sde(t){return typeof t=="function"?t():$e(t)}function nde(t){var e,r;const i=sde(t);return(r=(e=i)===null||e===void 0?void 0:e.$el)!==null&&r!==void 0?r:i}const ode=st({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Pe.defaultProps.appendTo},aria:{default:()=>Pe.defaultProps.aria},delay:{default:()=>Pe.defaultProps.delay},duration:{default:()=>Pe.defaultProps.duration},getReferenceClientRect:{default:()=>Pe.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Pe.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Pe.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Pe.defaultProps.interactive},interactiveBorder:{default:()=>Pe.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Pe.defaultProps.interactiveDebounce},moveTransition:{default:()=>Pe.defaultProps.moveTransition},offset:{default:()=>Pe.defaultProps.offset},onAfterUpdate:{default:()=>Pe.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Pe.defaultProps.onBeforeUpdate},onCreate:{default:()=>Pe.defaultProps.onCreate},onDestroy:{default:()=>Pe.defaultProps.onDestroy},onHidden:{default:()=>Pe.defaultProps.onHidden},onHide:{default:()=>Pe.defaultProps.onHide},onMount:{default:()=>Pe.defaultProps.onMount},onShow:{default:()=>Pe.defaultProps.onShow},onShown:{default:()=>Pe.defaultProps.onShown},onTrigger:{default:()=>Pe.defaultProps.onTrigger},onUntrigger:{default:()=>Pe.defaultProps.onUntrigger},onClickOutside:{default:()=>Pe.defaultProps.onClickOutside},placement:{default:()=>Pe.defaultProps.placement},plugins:{default:()=>Pe.defaultProps.plugins},popperOptions:{default:()=>Pe.defaultProps.popperOptions},render:{default:()=>Pe.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Pe.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Pe.defaultProps.touch},trigger:{default:()=>Pe.defaultProps.trigger},triggerTarget:{default:()=>Pe.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Pe.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Pe.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Pe.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Pe.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Pe.defaultProps.allowHTML},animation:{default:()=>Pe.defaultProps.animation},arrow:{default:()=>Pe.defaultProps.arrow},content:{default:()=>Pe.defaultProps.content},inertia:{default:()=>Pe.defaultProps.inertia},maxWidth:{default:()=>Pe.defaultProps.maxWidth},role:{default:()=>Pe.defaultProps.role},theme:{default:()=>Pe.defaultProps.theme},zIndex:{default:()=>Pe.defaultProps.zIndex}},emits:["state"],setup(t,{slots:e,emit:r,expose:i}){const s=X(),n=X(),o=X(),a=X(!1),l=()=>{let y={...t};for(const v of["to","tag","contentTag","contentClass"])y.hasOwnProperty(v)&&delete y[v];return y};let c=()=>nde(s);t.to&&(typeof Element<"u"&&t.to instanceof Element?c=()=>t.to:t.to==="parent"?c=()=>{let y=s.value;return y||(y=s.value=n.value.parentElement),y}:(typeof t.to=="string"||t.to instanceof String)&&(c=()=>document.querySelector(t.to)));const f=LA(c,l());let d=e.content;!d&&t.to==="parent"&&(d=e.default),vi(()=>{a.value=!0,Yn(()=>{d&&f.setContent(()=>o.value)})}),Xr(f.state,()=>{r("state",$e(f.state))},{immediate:!0,deep:!0}),Xr(()=>t,()=>{f.setProps(l()),d&&f.setContent(()=>o.value)},{deep:!0});let p=li({elem:s,contentElem:o,mounted:a,...f});return i(p),()=>{const y=(typeof t.contentTag=="string",t.contentTag),v=d?sn(y,{ref:o,style:{display:a.value?"inherit":"none"},class:t.contentClass},d(p)):null;if(t.to==="parent"){const E=[];if(!s.value){const T=sn("span",{ref:n,"data-v-tippy":"",style:{display:"none"}});E.push(T)}return v&&E.push(v),E}const b=e.default?e.default(p):[];if(!t.tag){const E=sn(b[0],{ref:s,"data-v-tippy":""});return v?[E,v]:E}const S=(typeof t.tag=="string",t.tag);return sn(S,{ref:s,"data-v-tippy":""},v?[b,v]:b)}}}),ade=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let rE={};Object.keys(Pe.defaultProps).forEach(t=>{ade.includes(t)?rE[t]={type:Boolean,default:function(){return Pe.defaultProps[t]}}:rE[t]={default:function(){return Pe.defaultProps[t]}}});const lde=st({props:rE,setup(t){const e=X([]),{singleton:r}=ide(e,t);return{instances:e,singleton:r}},mounted(){var t;const r=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(r).map(i=>i._tippy).filter(Boolean),(t=this.singleton)===null||t===void 0||t.setInstances(this.instances)},render(){let t=this.$slots.default?this.$slots.default():[];return sn(()=>t)}}),cde={mounted(t,e,r){const i=typeof e.value=="string"?{content:e.value}:e.value||{},s=Object.keys(e.modifiers||{}),n=s.find(a=>a!=="arrow"),o=s.findIndex(a=>a==="arrow")!==-1;n&&(i.placement=i.placement||n),o&&(i.arrow=i.arrow!==void 0?i.arrow:!0),r.props&&r.props.onTippyShow&&(i.onShow=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),r.props&&r.props.onTippyShown&&(i.onShown=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),r.props&&r.props.onTippyHidden&&(i.onHidden=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),r.props&&r.props.onTippyHide&&(i.onHide=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),r.props&&r.props.onTippyMount&&(i.onMount=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),t.getAttribute("title")&&!i.content&&(i.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!i.content&&(i.content=t.getAttribute("content")),LA(t,i)},unmounted(t){t.$tippy?t.$tippy.destroy():t._tippy&&t._tippy.destroy()},updated(t,e){const r=typeof e.value=="string"?{content:e.value}:e.value||{};t.getAttribute("title")&&!r.content&&(r.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!r.content&&(r.content=t.getAttribute("content")),t.$tippy?t.$tippy.setProps(r||{}):t._tippy&&t._tippy.setProps(r||{})}},ude={install(t,e={}){Pe.setDefaultProps(e.defaultProps||{}),t.directive(e.directive||"tippy",cde),t.component(e.component||"tippy",ode),t.component(e.componentSingleton||"tippy-singleton",lde)}},q7=Pe.setDefaultProps;q7({ignoreAttributes:!0,plugins:[rde,ede,Xfe,Yfe]});const hde=st({name:"App",components:{Shell:bhe},setup(){const t=jr();vi(()=>{new u7().observe(t?.proxy?.$refs["app-size"]),q7({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),fde=["lang"],dde={class:"h-full",ref:"app-size"};function pde(t,e,r,i,s,n){const o=Tr("shell");return fe(),xe("div",{class:"ramp-app ramp-styles animation-enabled",lang:t.$i18n.locale},[le("div",dde,[Ke(o)],512)],8,fde)}const mde=Ta(hde,[["render",pde]]),fo="focus-list",nc="focus-item",yde="focus-icon",gde="focus-container",Th=`[${fo}],[${gde}]`,Fy="truncate-text",Uy="show-truncate",ch="focused",iE=`button,input,select,a,textarea,[contenteditable],[${fo}],[${yde}],[tabIndex]`,vde={mounted(t,e){+t.getAttribute("tabindex")<=0&&t.setAttribute("tabindex","0"),t.toggleAttribute(fo,!0),new bde(t,e.value)},updated(t){H7(t)}};function H7(t){t.querySelectorAll(iE).forEach(r=>{if(r.closest(Th)===t||r.closest(Th)===r&&r.parentElement.closest(Th)===t)if(r.closest(`[${fo}],.${ch}`).classList.contains(ch))r.setAttribute("tabindex","0");else{r.setAttribute("tabindex","-1");return}})}class bde{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(e,r){this.element=e,this.highlightedItem=this.element,this.isHorizontal=r==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const i=this;e.addEventListener("keydown",function(s){i.onKeydown(s)}),e.addEventListener("focus",function(){i.onFocus()}),e.addEventListener("blur",function(){i.onBlur()}),e.addEventListener("mousedown",function(){i.onMousedown()}),e.addEventListener("touchstart",function(){i.onTouchstart()}),e.addEventListener("refocusLegendItem",s=>{const o=s.detail.focusItem;i.element.focus(),i.focusItem(o),this.highlightedItem=o}),document.addEventListener("click",function(s){s.target&&e.contains(s.target)?i.onClick(s):i.defocusItem(i.highlightedItem)})}setTabIndex(e,r=this.element){r.querySelectorAll(iE).forEach(s=>{(e===-1||s.closest(Th)===this.element||s.closest(Th)===s&&s.parentElement.closest(Th)===this.element||s.closest(`[${fo}],.${ch}`).classList.contains(ch))&&s.setAttribute("tabindex",e.toString())})}defocusItem(e){e.classList.remove(ch),this.setTabIndex(-1,e),e._tippy&&e._tippy.hide(),e.getAttribute(nc)===Uy&&e.querySelector(`[${Fy}]`)?._tippy?.hide()}focusItem(e){e.classList.add(ch),this.setAriaActiveDescendant(e),this.setTabIndex(0,e),e.scrollIntoView({block:"nearest"}),e._tippy&&!this.isTapped&&e._tippy.show(),e.getAttribute(nc)===Uy&&e.querySelector(`[${Fy}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(e){this.element.setAttribute("aria-activedescendant",e.getAttribute("id"))}shiftHighlight(e,r=!1){if(this.defocusItem(this.highlightedItem),r)if(this.highlightedItem===this.element)this.highlightedItem=e[e.length-1];else{const i=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[i-1]||e[e.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=e[0];else{const i=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[i+1]||e[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(e){const r=this,i=Array.prototype.filter.call(this.element.querySelectorAll(`[${nc}]`),s=>s.closest(`[${fo}]`)===r.element&&!!s.offsetParent);if(i.length!==0)switch(e.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":e.target===this.element&&this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.highlightedItem.click());break;case"Tab":const s=this.highlightedItem.querySelectorAll(iE).length===0,n=this.element.isEqualNode(e.target);this.highlightedItem!==this.element&&n&&(s&&this.defocusItem(this.highlightedItem),e.shiftKey&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(e){this.defocusItem(this.highlightedItem);let r=e.target;if(!r.hasAttribute(fo))for(;r.parentElement.closest(`[${fo}]`)!==this.element;)r=r.parentElement.closest(`[${fo}]`);this.highlightedItem=r.closest(`[${nc}]`)||r.closest(`[${fo}]`)||this.highlightedItem,r.hasAttribute(`${nc}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(nc)===Uy&&this.highlightedItem.querySelector(`[${Fy}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),H7(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(nc)===Uy&&this.highlightedItem.querySelector(`[${Fy}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const hI="focus-item",_de={beforeMount(t,e){t.hasAttribute("id")||t.setAttribute("id",wde()),e.value?t.setAttribute(hI,e.value):t.toggleAttribute(hI,!0)}};function wde(){let t;do t="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(t)!==null);return t}const RA="focus-container",W7="focus-list",xde="focus-icon",N_=`[${W7}],[${RA}]`,fI=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${W7}],[${RA}],[${xde}],[tabIndex]`;let P_=[];const Ede={mounted(t){[...document.querySelectorAll(".inner-shell")].some(r=>r.contains(t))&&P_.push(new Sde(t))},beforeUnmount(t){P_=P_.filter(e=>e.element===t?(e.removeEventListeners(),!1):!0)}};class Sde{element;constructor(e){this.element=e,this.element.toggleAttribute(RA,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const r=this;this.element.addEventListener("keypress",function(i){r.onKeypress(i)}),this.element.addEventListener("click",function(){r.onClick()}),this.element.addEventListener("focusout",function(i){r.onFocusOut(i)}),this.element.addEventListener("focus",function(){r.onFocus()})}removeEventListeners(){const e=this;this.element.removeEventListener("keypress",function(r){e.onKeypress(r)}),this.element.removeEventListener("click",function(){e.onClick()}),this.element.removeEventListener("focusout",function(r){e.onFocusOut(r)}),this.element.removeEventListener("focus",function(){e.onFocus()})}onKeypress(e){e.target===this.element&&(e.key==="Enter"||e.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(e){this.element.contains(e.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){if(this.element.contains(document.activeElement))return;Array.prototype.filter.call(this.element.querySelectorAll(fI),()=>!0).forEach(r=>{r.tabIndex=-1})}enableTabbing(){let e;return Array.prototype.map.call(this.element.querySelectorAll(fI),r=>{(r.closest(N_)===this.element||r.closest(N_)===r&&r.parentElement.closest(N_)===this.element)&&r.offsetParent&&(r.tabIndex=0,e===void 0&&(e=r))}),e}}const Ade="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Tde="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",sE="numeric",nE="ascii",oE="alpha",np="asciinumeric",Td="alphanumeric",aE="domain",Y7="emoji",Mde="scheme",$de="slashscheme",L_="whitespace";function Ode(t,e){return t in e||(e[t]=[]),e[t]}function Oc(t,e,r){e[sE]&&(e[np]=!0,e[Td]=!0),e[nE]&&(e[np]=!0,e[oE]=!0),e[np]&&(e[Td]=!0),e[oE]&&(e[Td]=!0),e[Td]&&(e[aE]=!0),e[Y7]&&(e[aE]=!0);for(const i in e){const s=Ode(i,r);s.indexOf(t)<0&&s.push(t)}}function Ide(t,e){const r={};for(const i in e)e[i].indexOf(t)>=0&&(r[i]=!0);return r}function Cs(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Cs.groups={};Cs.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let i=0;i<e.jr.length;i++){const s=e.jr[i][0],n=e.jr[i][1];if(n&&s.test(t))return n}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,i){for(let s=0;s<t.length;s++)this.tt(t[s],e,r,i)},tr(t,e,r,i){i=i||Cs.groups;let s;return e&&e.j?s=e:(s=new Cs(e),r&&i&&Oc(e,r,i)),this.jr.push([t,s]),s},ts(t,e,r,i){let s=this;const n=t.length;if(!n)return s;for(let o=0;o<n-1;o++)s=s.tt(t[o]);return s.tt(t[n-1],e,r,i)},tt(t,e,r,i){i=i||Cs.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const n=e;let o,a=s.go(t);if(a?(o=new Cs,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Cs,n){if(i)if(o.t&&typeof o.t=="string"){const l=Object.assign(Ide(o.t,i),r);Oc(n,l,i)}else r&&Oc(n,r,i);o.t=n}return s.j[t]=o,o}};const rt=(t,e,r,i,s)=>t.ta(e,r,i,s),fr=(t,e,r,i,s)=>t.tr(e,r,i,s),dI=(t,e,r,i,s)=>t.ts(e,r,i,s),pe=(t,e,r,i,s)=>t.tt(e,r,i,s),Qo="WORD",lE="UWORD",J7="ASCIINUMERICAL",K7="ALPHANUMERICAL",om="LOCALHOST",cE="TLD",uE="UTLD",j0="SCHEME",zu="SLASH_SCHEME",kA="NUM",hE="WS",DA="NL",op="OPENBRACE",ap="CLOSEBRACE",uv="OPENBRACKET",hv="CLOSEBRACKET",fv="OPENPAREN",dv="CLOSEPAREN",pv="OPENANGLEBRACKET",mv="CLOSEANGLEBRACKET",yv="FULLWIDTHLEFTPAREN",gv="FULLWIDTHRIGHTPAREN",vv="LEFTCORNERBRACKET",bv="RIGHTCORNERBRACKET",_v="LEFTWHITECORNERBRACKET",wv="RIGHTWHITECORNERBRACKET",xv="FULLWIDTHLESSTHAN",Ev="FULLWIDTHGREATERTHAN",Sv="AMPERSAND",Av="APOSTROPHE",Tv="ASTERISK",il="AT",Mv="BACKSLASH",$v="BACKTICK",Ov="CARET",cl="COLON",FA="COMMA",Iv="DOLLAR",ao="DOT",Cv="EQUALS",UA="EXCLAMATION",Js="HYPHEN",lp="PERCENT",Nv="PIPE",Pv="PLUS",Lv="POUND",cp="QUERY",jA="QUOTE",Z7="FULLWIDTHMIDDLEDOT",BA="SEMI",lo="SLASH",up="TILDE",Rv="UNDERSCORE",X7="EMOJI",kv="SYM";var Q7=Object.freeze({__proto__:null,ALPHANUMERICAL:K7,AMPERSAND:Sv,APOSTROPHE:Av,ASCIINUMERICAL:J7,ASTERISK:Tv,AT:il,BACKSLASH:Mv,BACKTICK:$v,CARET:Ov,CLOSEANGLEBRACKET:mv,CLOSEBRACE:ap,CLOSEBRACKET:hv,CLOSEPAREN:dv,COLON:cl,COMMA:FA,DOLLAR:Iv,DOT:ao,EMOJI:X7,EQUALS:Cv,EXCLAMATION:UA,FULLWIDTHGREATERTHAN:Ev,FULLWIDTHLEFTPAREN:yv,FULLWIDTHLESSTHAN:xv,FULLWIDTHMIDDLEDOT:Z7,FULLWIDTHRIGHTPAREN:gv,HYPHEN:Js,LEFTCORNERBRACKET:vv,LEFTWHITECORNERBRACKET:_v,LOCALHOST:om,NL:DA,NUM:kA,OPENANGLEBRACKET:pv,OPENBRACE:op,OPENBRACKET:uv,OPENPAREN:fv,PERCENT:lp,PIPE:Nv,PLUS:Pv,POUND:Lv,QUERY:cp,QUOTE:jA,RIGHTCORNERBRACKET:bv,RIGHTWHITECORNERBRACKET:wv,SCHEME:j0,SEMI:BA,SLASH:lo,SLASH_SCHEME:zu,SYM:kv,TILDE:up,TLD:cE,UNDERSCORE:Rv,UTLD:uE,UWORD:lE,WORD:Qo,WS:hE});const qo=/[a-z]/,Wf=/\p{L}/u,R_=/\p{Emoji}/u,Ho=/\d/,k_=/\s/,pI="\r",D_=`
`,Cde="",Nde="",F_="";let jy=null,By=null;function Pde(t=[]){const e={};Cs.groups=e;const r=new Cs;jy==null&&(jy=mI(Ade)),By==null&&(By=mI(Tde)),pe(r,"'",Av),pe(r,"{",op),pe(r,"}",ap),pe(r,"[",uv),pe(r,"]",hv),pe(r,"(",fv),pe(r,")",dv),pe(r,"<",pv),pe(r,">",mv),pe(r,"",yv),pe(r,"",gv),pe(r,"",vv),pe(r,"",bv),pe(r,"",_v),pe(r,"",wv),pe(r,"",xv),pe(r,"",Ev),pe(r,"&",Sv),pe(r,"*",Tv),pe(r,"@",il),pe(r,"`",$v),pe(r,"^",Ov),pe(r,":",cl),pe(r,",",FA),pe(r,"$",Iv),pe(r,".",ao),pe(r,"=",Cv),pe(r,"!",UA),pe(r,"-",Js),pe(r,"%",lp),pe(r,"|",Nv),pe(r,"+",Pv),pe(r,"#",Lv),pe(r,"?",cp),pe(r,'"',jA),pe(r,"/",lo),pe(r,";",BA),pe(r,"~",up),pe(r,"_",Rv),pe(r,"\\",Mv),pe(r,"",Z7);const i=fr(r,Ho,kA,{[sE]:!0});fr(i,Ho,i);const s=fr(i,qo,J7,{[np]:!0}),n=fr(i,Wf,K7,{[Td]:!0}),o=fr(r,qo,Qo,{[nE]:!0});fr(o,Ho,s),fr(o,qo,o),fr(s,Ho,s),fr(s,qo,s);const a=fr(r,Wf,lE,{[oE]:!0});fr(a,qo),fr(a,Ho,n),fr(a,Wf,a),fr(n,Ho,n),fr(n,qo),fr(n,Wf,n);const l=pe(r,D_,DA,{[L_]:!0}),c=pe(r,pI,hE,{[L_]:!0}),f=fr(r,k_,hE,{[L_]:!0});pe(r,F_,f),pe(c,D_,l),pe(c,F_,f),fr(c,k_,f),pe(f,pI),pe(f,D_),fr(f,k_,f),pe(f,F_,f);const d=fr(r,R_,X7,{[Y7]:!0});pe(d,"#"),fr(d,R_,d),pe(d,Cde,d);const p=pe(d,Nde);pe(p,"#"),fr(p,R_,d);const y=[[qo,o],[Ho,s]],v=[[qo,null],[Wf,a],[Ho,n]];for(let b=0;b<jy.length;b++)ja(r,jy[b],cE,Qo,y);for(let b=0;b<By.length;b++)ja(r,By[b],uE,lE,v);Oc(cE,{tld:!0,ascii:!0},e),Oc(uE,{utld:!0,alpha:!0},e),ja(r,"file",j0,Qo,y),ja(r,"mailto",j0,Qo,y),ja(r,"http",zu,Qo,y),ja(r,"https",zu,Qo,y),ja(r,"ftp",zu,Qo,y),ja(r,"ftps",zu,Qo,y),Oc(j0,{scheme:!0,ascii:!0},e),Oc(zu,{slashscheme:!0,ascii:!0},e),t=t.sort((b,S)=>b[0]>S[0]?1:-1);for(let b=0;b<t.length;b++){const S=t[b][0],T=t[b][1]?{[Mde]:!0}:{[$de]:!0};S.indexOf("-")>=0?T[aE]=!0:qo.test(S)?Ho.test(S)?T[np]=!0:T[nE]=!0:T[sE]=!0,dI(r,S,S,T)}return dI(r,"localhost",om,{ascii:!0}),r.jd=new Cs(kv),{start:r,tokens:Object.assign({groups:e},Q7)}}function eD(t,e){const r=Lde(e.replace(/[A-Z]/g,a=>a.toLowerCase())),i=r.length,s=[];let n=0,o=0;for(;o<i;){let a=t,l=null,c=0,f=null,d=-1,p=-1;for(;o<i&&(l=a.go(r[o]));)a=l,a.accepts()?(d=0,p=0,f=a):d>=0&&(d+=r[o].length,p++),c+=r[o].length,n+=r[o].length,o++;n-=d,o-=p,c-=d,s.push({t:f.t,v:e.slice(n-c,n),s:n-c,e:n})}return s}function Lde(t){const e=[],r=t.length;let i=0;for(;i<r;){let s=t.charCodeAt(i),n,o=s<55296||s>56319||i+1===r||(n=t.charCodeAt(i+1))<56320||n>57343?t[i]:t.slice(i,i+2);e.push(o),i+=o.length}return e}function ja(t,e,r,i,s){let n;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?n=t.j[l]:(n=new Cs(i),n.jr=s.slice(),t.j[l]=n),t=n}return n=new Cs(r),n.jr=s.slice(),t.j[e[o-1]]=n,n}function mI(t){const e=[],r=[];let i=0,s="0123456789";for(;i<t.length;){let n=0;for(;s.indexOf(t[i+n])>=0;)n++;if(n>0){e.push(r.join(""));for(let o=parseInt(t.substring(i,i+n),10);o>0;o--)r.pop();i+=n}else r.push(t[i]),i++}return e}const am={defaultProtocol:"http",events:null,format:yI,formatHref:yI,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function VA(t,e=null){let r=Object.assign({},am);t&&(r=Object.assign(r,t instanceof VA?t.o:t));const i=r.ignoreTags,s=[];for(let n=0;n<i.length;n++)s.push(i[n].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=s}VA.prototype={o:am,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const i=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=r.t in s?s[r.t]:am[t],typeof s=="function"&&i&&(s=s(e,r))):typeof s=="function"&&i&&(s=s(e,r.t,r)),s)},getObj(t,e,r){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,r.t,r)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function yI(t){return t}function tD(t,e){this.t="token",this.v=t,this.tk=e}tD.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),i=t.get("format",e,this);return r&&i.length>r?i.substring(0,r)+"":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=am.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",r,this),s=t.get("tagName",r,e),n=this.toFormattedString(t),o={},a=t.get("className",r,e),l=t.get("target",r,e),c=t.get("rel",r,e),f=t.getObj("attributes",r,e),d=t.getObj("events",r,e);return o.href=i,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),f&&Object.assign(o,f),{tagName:s,attributes:o,content:n,eventListeners:d}}};function lb(t,e){class r extends tD{constructor(s,n){super(s,n),this.t=t}}for(const i in e)r.prototype[i]=e[i];return r.t=t,r}const gI=lb("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),vI=lb("text"),Rde=lb("nl"),Vy=lb("url",{isLink:!0,toHref(t=am.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==om&&t[1].t===cl}}),Hs=t=>new Cs(t);function kde({groups:t}){const e=t.domain.concat([Sv,Tv,il,Mv,$v,Ov,Iv,Cv,Js,kA,lp,Nv,Pv,Lv,lo,kv,up,Rv]),r=[Av,cl,FA,ao,UA,lp,cp,jA,BA,pv,mv,op,ap,hv,uv,fv,dv,yv,gv,vv,bv,_v,wv,xv,Ev],i=[Sv,Av,Tv,Mv,$v,Ov,Iv,Cv,Js,op,ap,lp,Nv,Pv,Lv,cp,lo,kv,up,Rv],s=Hs(),n=pe(s,up);rt(n,i,n),rt(n,t.domain,n);const o=Hs(),a=Hs(),l=Hs();rt(s,t.domain,o),rt(s,t.scheme,a),rt(s,t.slashscheme,l),rt(o,i,n),rt(o,t.domain,o);const c=pe(o,il);pe(n,il,c),pe(a,il,c),pe(l,il,c);const f=pe(n,ao);rt(f,i,n),rt(f,t.domain,n);const d=Hs();rt(c,t.domain,d),rt(d,t.domain,d);const p=pe(d,ao);rt(p,t.domain,d);const y=Hs(gI);rt(p,t.tld,y),rt(p,t.utld,y),pe(c,om,y);const v=pe(d,Js);pe(v,Js,v),rt(v,t.domain,d),rt(y,t.domain,d),pe(y,ao,p),pe(y,Js,v);const b=pe(y,cl);rt(b,t.numeric,gI);const S=pe(o,Js),E=pe(o,ao);pe(S,Js,S),rt(S,t.domain,o),rt(E,i,n),rt(E,t.domain,o);const T=Hs(Vy);rt(E,t.tld,T),rt(E,t.utld,T),rt(T,t.domain,o),rt(T,i,n),pe(T,ao,E),pe(T,Js,S),pe(T,il,c);const w=pe(T,cl),_=Hs(Vy);rt(w,t.numeric,_);const M=Hs(Vy),$=Hs();rt(M,e,M),rt(M,r,$),rt($,e,M),rt($,r,$),pe(T,lo,M),pe(_,lo,M);const C=pe(a,cl),P=pe(l,cl),N=pe(P,lo),F=pe(N,lo);rt(a,t.domain,o),pe(a,ao,E),pe(a,Js,S),rt(l,t.domain,o),pe(l,ao,E),pe(l,Js,S),rt(C,t.domain,M),pe(C,lo,M),pe(C,cp,M),rt(F,t.domain,M),rt(F,e,M),pe(F,lo,M);const q=[[op,ap],[uv,hv],[fv,dv],[pv,mv],[yv,gv],[vv,bv],[_v,wv],[xv,Ev]];for(let U=0;U<q.length;U++){const[B,K]=q[U],h=pe(M,B);pe($,B,h),pe(h,K,M);const m=Hs(Vy);rt(h,e,m);const x=Hs();rt(h,r),rt(m,e,m),rt(m,r,x),rt(x,e,m),rt(x,r,x),pe(m,K,M),pe(x,K,M)}return pe(s,om,T),pe(s,DA,Rde),{start:s,tokens:Q7}}function Dde(t,e,r){let i=r.length,s=0,n=[],o=[];for(;s<i;){let a=t,l=null,c=null,f=0,d=null,p=-1;for(;s<i&&!(l=a.go(r[s].t));)o.push(r[s++]);for(;s<i&&(c=l||a.go(r[s].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,s++,f++;if(p<0)s-=f,s<i&&(o.push(r[s]),s++);else{o.length>0&&(n.push(U_(vI,e,o)),o=[]),s-=p,f-=p;const y=d.t,v=r.slice(s-f,s);n.push(U_(y,e,v))}}return o.length>0&&n.push(U_(vI,e,o)),n}function U_(t,e,r){const i=r[0].s,s=r[r.length-1].e,n=e.slice(i,s);return new t(n,r)}const Ei={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Fde(){Ei.scanner=Pde(Ei.customSchemes);for(let t=0;t<Ei.tokenQueue.length;t++)Ei.tokenQueue[t][1]({scanner:Ei.scanner});Ei.parser=kde(Ei.scanner.tokens);for(let t=0;t<Ei.pluginQueue.length;t++)Ei.pluginQueue[t][1]({scanner:Ei.scanner,parser:Ei.parser});return Ei.initialized=!0,Ei}function rD(t){return Ei.initialized||Fde(),Dde(Ei.parser.start,t,eD(Ei.scanner.start,t))}rD.scan=eD;var Ude={amp:"&",gt:">",lt:"<",nbsp:"",quot:'"'},jde=/^#[xX]([A-Fa-f0-9]+)$/,Bde=/^#([0-9]+)$/,Vde=/^([A-Za-z0-9]+)$/,Gde=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var r=e.match(jde);if(r)return String.fromCharCode(parseInt(r[1],16));if(r=e.match(Bde),r)return String.fromCharCode(parseInt(r[1],10));if(r=e.match(Vde),r)return this.named[r[1]]||"&"+r[1]+";"}},t}(),zde=/[\t\n\f ]/,qde=/[A-Za-z]/,Hde=/\r\n?/g;function wi(t){return zde.test(t)}function bI(t){return qde.test(t)}function Wde(t){return t.replace(Hde,`
`)}var Yde=function(){function t(e,r,i){i===void 0&&(i="precompile"),this.delegate=e,this.entityParser=r,this.mode=i,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var s=this.peek();if(s==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&s===`
`){var n=this.tagNameBuffer.toLowerCase();(n==="pre"||n==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var s=this.peek(),n=this.tagNameBuffer;s==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):s==="&"&&n!=="script"&&n!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(s))},tagOpen:function(){var s=this.consume();s==="!"?this.transitionTo("markupDeclarationOpen"):s==="/"?this.transitionTo("endTagOpen"):(s==="@"||s===":"||bI(s))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(s))},markupDeclarationOpen:function(){var s=this.consume();if(s==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();n==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var s=this.consume();wi(s)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var s=this.consume();wi(s)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase()))},doctypeName:function(){var s=this.consume();wi(s)?this.transitionTo("afterDoctypeName"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase())},afterDoctypeName:function(){var s=this.consume();if(!wi(s))if(s===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=n.toUpperCase()==="PUBLIC",a=n.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var s=this.peek();wi(s)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):s==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):s==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):s===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},doctypePublicIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},afterDoctypePublicIdentifier:function(){var s=this.consume();wi(s)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var s=this.consume();wi(s)||(s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},doctypeSystemIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},afterDoctypeSystemIdentifier:function(){var s=this.consume();wi(s)||s===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var s=this.consume();s==="-"?this.transitionTo("commentStartDash"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(s),this.transitionTo("comment"))},commentStartDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var s=this.consume();s==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(s)},commentEndDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+s),this.transitionTo("comment"))},commentEnd:function(){var s=this.consume();s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+s),this.transitionTo("comment"))},tagName:function(){var s=this.consume();wi(s)?this.transitionTo("beforeAttributeName"):s==="/"?this.transitionTo("selfClosingStartTag"):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(s)},endTagName:function(){var s=this.consume();wi(s)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):s==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(s)},beforeAttributeName:function(){var s=this.peek();if(wi(s)){this.consume();return}else s==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var s=this.peek();wi(s)?(this.transitionTo("afterAttributeName"),this.consume()):s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==='"'||s==="'"||s==="<"?(this.delegate.reportSyntaxError(s+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(s)):(this.consume(),this.delegate.appendToAttributeName(s))},afterAttributeName:function(){var s=this.peek();if(wi(s)){this.consume();return}else s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s))},beforeAttributeValue:function(){var s=this.peek();wi(s)?this.consume():s==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(s))},attributeValueDoubleQuoted:function(){var s=this.consume();s==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueSingleQuoted:function(){var s=this.consume();s==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueUnquoted:function(){var s=this.peek();wi(s)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):s===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(s))},afterAttributeValueQuoted:function(){var s=this.peek();wi(s)?(this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var s=this.peek();s===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var s=this.consume();(s==="@"||s===":"||bI(s))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(s))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=Wde(e);this.index<this.input.length;){var r=this.states[this.state];if(r!==void 0)r.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var r=this.input.slice(this.index,e),i=this.entityParser.parse(r);if(i){for(var s=r.length;s;)this.consume(),s--;return this.consume(),i}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),Jde=function(){function t(e,r){r===void 0&&(r={}),this.options=r,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Yde(this,e,r.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var r=0;r<arguments.length;r++)if(e.type===arguments[r])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var r=this.current("Doctype");r.publicIdentifier===void 0?r.publicIdentifier=e:r.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var r=this.current("Doctype");r.systemIdentifier===void 0?r.systemIdentifier=e:r.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function Kde(t,e){var r=new Jde(new Gde(Ude),e);return r.tokenize(t)}const iD="LinkifyResult",Dv="StartTag",sD="EndTag",fE="Chars",Zde="Comment",Xde="Doctype";function Qde(t,e){e===void 0&&(e={});const r=Kde(t),i=[],s=[],n=new VA(e,rpe);for(let o=0;o<r.length;o++){const a=r[o];if(a.type===Dv){i.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||n.ignoreTags.indexOf(l)>=0))continue;let f=i.length;tpe(l,r,++o,i),o+=i.length-f-1}else if(a.type!==fE)i.push(a);else{const l=epe(a.chars,n);i.push.apply(i,l)}}for(let o=0;o<i.length;o++){const a=i[o];switch(a.type){case iD:s.push(a.rendered);break;case Dv:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+spe(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",s.push(l);break}case sD:s.push(`</${a.tagName}>`);break;case fE:s.push(dE(a.chars));break;case Zde:s.push(`<!--${dE(a.chars)}-->`);break;case Xde:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",s.push(l);break}}}return s.join("")}function epe(t,e){const r=rD(t),i=[];for(let s=0;s<r.length;s++){const n=r[s];n.t==="nl"&&e.get("nl2br")?i.push({type:Dv,tagName:"br",attributes:[],selfClosing:!0}):!n.isLink||!e.check(n)?i.push({type:fE,chars:n.toString()}):i.push({type:iD,rendered:e.render(n)})}return i}function tpe(t,e,r,i){let s=1;for(;r<e.length&&s>0;){let n=e[r];n.type===Dv&&n.tagName.toUpperCase()===t?s++:n.type===sD&&n.tagName.toUpperCase()===t&&s--,i.push(n),r++}return i}function rpe(t){let{tagName:e,attributes:r,content:i}=t;return`<${e} ${ipe(r)}>${dE(i)}</${e}>`}function dE(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nD(t){return t.replace(/"/g,"&quot;")}function ipe(t){const e=[];for(const r in t){const i=t[r]+"";e.push(`${r}="${nD(i)}"`)}return e.join(" ")}function spe(t){const e=[];for(let r=0;r<t.length;r++){const i=t[r][0],s=t[r][1]+"";e.push(`${i}="${nD(s)}"`)}return e}const npe="truncate-text",ope="truncate-trigger",ape={beforeMount(t,e){!t.classList.contains("truncate")&&!e.value?.noTruncateClass&&t.classList.add("truncate"),t.toggleAttribute(npe,!0)},mounted(t,e){let r;e.value&&e.value.externalTrigger&&(r=t.closest(`[${ope}]`)),LA(t,{content:_I(t.textContent),onShow:lpe,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:r,...e.value?.options||{}})},updated(t,e){t._tippy&&(t._tippy.setContent(_I(t.textContent)),e.value&&e.value.options&&t._tippy.setProps(e.value.options))},unmounted(t){t._tippy&&t._tippy.destroy()}};function lpe(t){if(!(t.reference.clientWidth<t.reference.scrollWidth||t.reference.clientHeight<t.reference.scrollHeight))return!1}function _I(t){if(t===null)return"";let e=Qde(t,{target:"_blank",validate:{url:r=>/^https?:\/\//.test(r)}});return e=`<div style='word-break: break-word;'>${e}</div>`,e}const cpe=["content"],upe={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},hpe={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},fpe={key:1},dpe={key:0,class:"flex"},ppe=["innerHTML"],mpe={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},ype=st({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(t,{expose:e}){const{t:r}=sr(),i=nu(),s=tv(),n=Ur("iApi"),o=Dg("el"),a=Dg("contentEl"),l=X();e({el:o});const c=t,f=et(()=>n.fixture.get("appbar")?s.temporary:[]),d=et(()=>i.mobileView),p=et(()=>i.reorderable),y=E=>E.scrollHeight>E.clientHeight,v=()=>!d.value&&!c.panel.teleport,b=E=>{c.panel.move(E),E==="left"&&Yn(()=>{(o.value?.querySelector(".move-left")).focus()})},S=et(()=>c.screenId?c.panel.screens[c.screenId][n.$i18n.locale.value??"en"]:null);return vi(()=>{o.value?.addEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.addEventListener("keyup",E=>{E.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),Jn(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",E=>{E.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(E,T)=>{const w=Tr("back"),_=Tr("panel-options-menu"),M=Tr("left"),$=Tr("right"),C=Tr("pin"),P=Tr("expand"),N=Tr("minimize"),F=Tr("close"),q=Ot("truncate"),U=Ot("focus-item"),B=Ot("tippy");return $t((fe(),xe("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${$e(r)(t.panel.alertName)+". "+$e(r)("panels.access")}</div>`,ref_key:"el",ref:o},[t.header?(fe(),xe("header",upe,[Ke(w,{class:lr(t.panel.teleport?"display-none":"block sm:display-none"),onClick:T[0]||(T[0]=K=>t.panel.close())},null,8,["class"]),$t((fe(),xe("h2",hpe,[E.$slots.header?In(E.$slots,"header",{key:0}):(fe(),xe("div",fpe,Dt($e(r)(t.panel.alertName)),1))])),[[q]]),E.$slots.controls?(fe(),Vt(_,{key:0},{default:Pr(()=>[In(E.$slots,"controls")]),_:3})):Wt("",!0),le("div",{class:lr(t.panel.teleport?"flex":"display-none sm:flex")},[t.panel.teleport?Wt("",!0):(fe(),xe("div",dpe,[p.value?(fe(),Vt(M,{key:0,onClick:T[1]||(T[1]=K=>b("left")),active:!t.panel.isLeftMostPanel},null,8,["active"])):Wt("",!0),p.value?(fe(),Vt($,{key:1,onClick:T[2]||(T[2]=K=>b("right")),active:!t.panel.isRightMostPanel},null,8,["active"])):Wt("",!0),Ke(C,{onClick:T[3]||(T[3]=K=>t.panel.pin()),active:t.panel.isPinned},null,8,["active"]),t.panel.controls&&t.panel.controls.expand?(fe(),Vt(P,{key:2,onClick:T[4]||(T[4]=K=>t.panel.expand()),active:t.panel.expanded},null,8,["active"])):Wt("",!0)])),t.panel.button&&f.value?.includes(t.panel.id)?(fe(),Vt(N,{key:1,onClick:T[5]||(T[5]=K=>t.panel.minimize())})):Wt("",!0),Ke(F,{onClick:T[6]||(T[6]=K=>t.panel.close())})],2)])):Wt("",!0),t.content?(fe(),xe("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[E.$slots.content?In(E.$slots,"content",{key:0}):S.value?(fe(),xe("div",{key:1,innerHTML:S.value.innerHTML},null,8,ppe)):Wt("",!0)],512)):Wt("",!0),t.footer?$t((fe(),xe("div",mpe,[In(E.$slots,"footer")])),[[U]]):Wt("",!0)],8,cpe)),[[B,{trigger:"manual",touch:!1,onShow:v,allowHTML:!0,maxWidth:t.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),gpe={class:"relative"},vpe=["content","aria-label"],bpe=["transform"],_pe=st({__name:"pin",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",gpe,[$t((fe(),xe("button",{type:"button",class:lr(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:$e(e)(t.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":$e(e)(t.active?"panels.controls.unpin":"panels.controls.pin")},[(fe(),xe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${t.active?30:0})`},i[0]||(i[0]=[le("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,bpe))],10,vpe)),[[s,{placement:"bottom",hideOnClick:!1}]])])}}}),wpe={class:"relative"},xpe=["content","aria-label"],Epe=st({__name:"close",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",wpe,[$t((fe(),xe("button",{type:"button",class:lr(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:$e(e)("panels.controls.close"),"aria-label":$e(e)("panels.controls.close")},i[0]||(i[0]=[le("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[le("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,xpe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Spe={class:"relative"},Ape=["content","aria-label"],Tpe=st({__name:"back",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",Spe,[$t((fe(),xe("button",{type:"button",class:lr(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:$e(e)("panels.controls.back"),"aria-label":$e(e)("panels.controls.back")},i[0]||(i[0]=[le("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[le("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,Ape)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Mpe={class:"w-32 h-32"},$pe=["content","aria-label"],Ope={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},Ipe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},Cpe=st({__name:"expand",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",Mpe,[$t((fe(),xe("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:$e(e)(`panels.controls.${t.active?"collapse":"expand"}`),"aria-label":$e(e)(`panels.controls.${t.active?"collapse":"expand"}`)},[t.active?(fe(),xe("svg",Ipe,i[1]||(i[1]=[le("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),le("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),le("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),le("path",{d:"M4 12h16v2H4z"},null,-1)]))):(fe(),xe("svg",Ope,i[0]||(i[0]=[le("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),le("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),le("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,$pe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),Npe={class:"relative"},Ppe=["content","aria-label"],Lpe=st({__name:"minimize",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",Npe,[$t((fe(),xe("button",{type:"button",class:lr(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":t.active}]),content:$e(e)("panels.controls.minimize"),"aria-label":$e(e)("panels.controls.minimize")},i[0]||(i[0]=[le("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[le("path",{d:"M0 0h24v24H0V0z",fill:"none"}),le("path",{d:"M6 19h12v2H6z"})],-1)]),10,Ppe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Rpe={class:"relative"},kpe=["content","aria-label"],Dpe=st({__name:"right",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",Rpe,[$t((fe(),xe("button",{type:"button",class:lr(["p-8",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:$e(e)("panels.controls.moveRight"),"aria-label":$e(e)("panels.controls.moveRight")},i[0]||(i[0]=[le("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[le("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,kpe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Fpe={class:"relative"},Upe=["content","aria-label"],jpe=st({__name:"left",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",Fpe,[$t((fe(),xe("button",{type:"button",class:lr(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:$e(e)("panels.controls.moveLeft"),"aria-label":$e(e)("panels.controls.moveLeft")},i[0]||(i[0]=[le("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[le("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,Upe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Bpe=st({__name:"panel-options-menu",setup(t){const{t:e}=sr();return(r,i)=>(fe(),Vt(AA,{class:"flex",tooltip:$e(e)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:Pr(()=>i[0]||(i[0]=[le("div",{class:"p-6"},[le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[le("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:Pr(()=>[In(r.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),Vpe=Ta(Bpe,[["__scopeId","data-v-5a275ac2"]]),Gpe={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},zpe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},qpe=st({__name:"fullscreen-nav",setup(t){const{t:e}=sr(),r=Ur("iApi"),i=()=>{r.toggleFullscreen()};return(s,n)=>{const o=Tr("mapnav-button");return fe(),Vt(o,{onClickFunction:i,tooltip:$e(e)("mapnav.fullscreen")},{default:Pr(()=>[$e(r).isFullscreen?(fe(),xe("svg",Gpe,n[0]||(n[0]=[le("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),le("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(fe(),xe("svg",zpe,n[1]||(n[1]=[le("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),le("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),Hpe=st({__name:"geolocator-nav",setup(t){const{t:e}=sr(),r=Ur("iApi");let i=li([]);const s=async()=>{if(i.length)n(i);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?r.notify.show(Ds.ERROR,e("mapnav.geolocator.error.permission")):r.notify.show(Ds.ERROR,e("mapnav.geolocator.error.internal"))});a&&(i=[a.coords.longitude,a.coords.latitude],n(i))}},n=a=>{const l=new Ji("geolocation",a,je.latLongSR(),!0);r.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=Tr("mapnav-button");return fe(),Vt(c,{onClickFunction:s,tooltip:$e(e)("mapnav.geolocator")},{default:Pr(()=>l[0]||(l[0]=[le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[le("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),Wpe=st({__name:"home-nav",setup(t){const{t:e}=sr(),r=Ur("iApi"),i=()=>{const s=r.geo.map.getExtentSet();r.geo.map.zoomMapTo(s.fullExtent)};return(s,n)=>{const o=Tr("mapnav-button");return fe(),Vt(o,{onClickFunction:i,tooltip:$e(e)("mapnav.home")},{default:Pr(()=>n[0]||(n[0]=[le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[le("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),le("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),Ype={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},Jpe=["content","aria-label"],Kpe=st({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1},showOutline:{type:Boolean,default:!1}},setup(t){return(e,r)=>{const i=Ot("focus-item"),s=Ot("tippy");return fe(),xe("div",Ype,[$t((fe(),xe("button",{type:"button",class:lr(["w-full h-full default-focus-style",[t.showOutline?"focus:outline focus:outline-2 focus:outline-blue-400 focus:absolute focus:z-50":"focus:outline-none"]]),onClick:r[0]||(r[0]=n=>t.onClickFunction()),content:t.tooltip,"aria-label":typeof t.tooltip=="string"?t.tooltip:""},[In(e.$slots,"default")],10,Jpe)),[[i],[s,{placement:"left"}]])])}}}),Zpe={class:"relative",tabindex:"-1"},Xpe=["aria-label","content"],Qpe=st({__name:"button",props:{onClickFunction:{type:Function,required:!0},buttonId:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(t){const e=Ur("iApi"),r=t,i=()=>e.event.emit(Ie.APPBAR_BUTTON_CLICK,r.buttonId);return(s,n)=>{const o=Ot("focus-item"),a=Ot("tippy");return fe(),xe("div",Zpe,[$t((fe(),xe("button",{type:"button",class:"py-6 w-full h-full",onClick:n[0]||(n[0]=()=>{t.onClickFunction(),i()}),"aria-label":String(t.tooltip),content:`<div style='word-break: break-word;'>${t.tooltip}</div>`},[In(s.$slots,"default",{},void 0,!0)],8,Xpe)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),eme=Ta(Qpe,[["__scopeId","data-v-397fda05"]]),tme=ur("areas-of-interest",()=>({areas:X([])})),rme=ur("export",()=>{const t=X({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),e=X("");function r(i){if(t.value[i.name]!==void 0){const s=t.value[i.name];t.value[i.name]=i.selected!==void 0?i.selected:!s}}return{componentSelectedState:t,fileName:e,toggleSelected:r}}),ime=ur("extentguard",()=>{const t=X(!1);function e(l){t.value=l}const r=X(!1);function i(l){r.value=l}const s=X(!1);function n(l){s.value=l}const o=X([]);function a(l){o.value=l}return{active:t,setActive:e,enforcing:r,setEnforcing:i,alwaysOn:s,setAlwaysOn:n,extentSetIds:o,setExtentSetIds:a}}),Wm=function t(e){function r(s,n,o){var a,l={};if(Array.isArray(s))return s.concat(n);for(a in s)l[o?a.toLowerCase():a]=s[a];for(a in n){var c=o?a.toLowerCase():a,f=n[a];l[c]=c in l&&typeof f=="object"?r(l[c],f,c=="headers"):f}return l}function i(s,n,o,a,l){var c=typeof s!="string"?(n=s).url:s,f={config:n},d=r(e,n),p={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(p.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),p["content-type"]="application/json");try{p[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:r(d.headers,p,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var v in y)typeof y[v]!="function"&&(f[v]=y[v]);return d.responseType=="stream"?(f.data=y.body,f):y[d.responseType||"text"]().then(function(b){f.data=b,f.data=JSON.parse(b)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?f:Promise.reject(f)})})}return e=e||{},i.request=i,i.get=function(s,n){return i(s,n,"get")},i.delete=function(s,n){return i(s,n,"delete")},i.head=function(s,n){return i(s,n,"head")},i.options=function(s,n){return i(s,n,"options")},i.post=function(s,n,o){return i(s,o,"post",n)},i.put=function(s,n,o){return i(s,o,"put",n)},i.patch=function(s,n,o){return i(s,o,"patch",n)},i.all=Promise.all.bind(Promise),i.spread=function(s){return s.apply.bind(s,s)},i.CancelToken=typeof AbortController=="function"?AbortController:Object,i.defaults=e,i.create=t,i}(),sme={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,Y:60},nme={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class ome{provinceList=[];listFetched=!1;constructor(e){Wm.get(e).then(r=>{this.provinceList=r.data.definitions.map(s=>{const n=parseInt(s.code);return{code:n,abbr:nme[n],name:s.description}});const i={code:-1,abbr:"...",name:"..."};this.provinceList.push(i),this.provinceList.sort((s,n)=>s.name>n.name?1:-1),this.listFetched=!0})}codeToProvince(e){return this.provinceList.find(r=>r.code===e)}nameToProvince(e){return this.provinceList.find(r=>r.name===e)}fsaToProvince(e){let r;const i=e.toUpperCase(),s=i.substring(0,1);return s==="X"?i==="X0A"||i==="X0B"||i==="X0C"?r=62:r=61:r=sme[s],this.codeToProvince(r)}}function ame(t){return new ome(t)}const Gy={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"Rgion De Tri D'Acheminement",NTS:"Systme National De Rfrence Cartographique",COORD:"Latitude/Longitude",SCALE:"chelle"}};class lme{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(e,r){Wm.get(r).then(i=>{i.data.definitions.forEach(s=>{Gy[e][s.code]=s.term.split(`${s.code}-`)[1]}),Object.keys(Gy[e]).forEach(s=>{this.allTypes[s]=Gy[e][s],this.validTypes[s]=Gy[e][s]}),this.typesFetched=!0})}filterValidTypes(e){if(this.filterComplete)return this.validTypes;if(e=typeof e=="string"?[e]:e,e&&e.length>0)for(const r of e)delete this.validTypes[r];return this.filterComplete=!0,this.validTypes}}function cme(t,e){return new lme(t,e)}function Hn(t,e){return t.then(function(r){return[null,r]}).catch(function(r){return[r,void 0]})}class zy{config;query;failedServs=[];results=[];constructor(e,r=""){this.query=r,this.config=e}addResult(e){Array.isArray(e)?this.results=this.results.concat(e):this.results.push(e)}}async function ume(t,e){let r,i;const s=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,n=/^\d{2,3}[A-P]/,o=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;return s.test(e)&&!t.disabledSearchTypes.includes("LAT/LNG")?(i=e.slice(0,-1),r=new zy(t,i),await dme(r)):o.test(e)&&!t.disabledSearchTypes.includes("FSA")?(i=e.substring(0,3).toUpperCase(),r=new zy(t,i),await pme(r)):n.test(e)&&!t.disabledSearchTypes.includes("NTS")?(i=e.substring(0,6).toUpperCase(),r=new zy(t,i),await mme(r)):(i=encodeURIComponent(e.trim()),r=new zy(t,i),await yme(r)),r}const GA=async t=>{const[e,r]=await Hn(Wm.get(t));return e?(console.error("Request error from "+t),console.error(e),Promise.reject("Could not load results from remote service.")):r.data},cb=(t,e,r)=>[t+r,e-r,t-r,e+r],zA=(t,e,r,i)=>{let s="";const n=t.config;return e?s=n.geoLocateUrl+"?q="+t.query:(r&&i?s=`${n.geoNameUrl}?lat=${r}&lon=${i}&num=${n.maxResults}`:s=`${n.geoNameUrl}?q=${t.query}&num=${n.maxResults}`,n.categories.length>0&&(s+=`&concise=${n.categories.join(",")}`),n.officialOnly&&(s+="&category=O")),s},oD=(t,e)=>e.filter(r=>t.types.validTypes[r.concise.code]).map(r=>({name:r.name,flav:"nme",bbox:r.bbox,type:t.types.allTypes[r.concise.code],position:[r.longitude,r.latitude],location:{city:r.location,province:t.provinces.codeToProvince(parseInt(r.province.code))},order:t.sortOrder.indexOf(r.concise.code)>=0?t.sortOrder.indexOf(r.concise.code):t.sortOrder.length})),qA=async t=>{const[e,r]=await Hn(GA(zA(t,!0)));return e?(console.error("Geolocation service failed"),t.failedServs.push("geolocation"),[]):r},hme=async t=>{const[e,r]=await Hn(GA(zA(t,!1)));let i;e?(console.error("GeoName service targeting Name failed"),t.failedServs.push("geoname"),i=[]):i=r.items,t.addResult(oD(t.config,i))},fme=async(t,e,r)=>{const[i,s]=await Hn(GA(zA(t,!1,e,r)));let n;i?(console.error("GeoName service targeting Lat Lon failed"),t.failedServs.push("geoname"),n=[]):n=s.items,t.addResult(oD(t.config,n))},dme=async t=>{const e=t.query.split(/[\s|,|;|]/).filter(n=>!isNaN(n)&&n!=="").map(n=>parseFloat(n)),r=e[0],i=e[1],s={name:`${r},${i}`,flav:"llg",location:{},type:"Latitude/Longitude",position:[i,r],bbox:cb(i,r,.015),order:-1};await fme(t,r,i),t.addResult(s)},pme=async t=>{const e=t.config,r=await qA(t);if(r.length){const s=r[0].geometry.coordinates,n=s[1],o=s[0],a={name:t.query,flav:"fsa",bbox:cb(o,n,.03),type:e.types.allTypes.FSA,position:[o,n],location:{province:e.provinces.fsaToProvince(t.query)},order:-1};t.addResult(a)}},mme=async t=>{const e=t.config,r=await qA(t);if(r.length){const i=r[0],s=i.title.split(" "),n=s.shift()||"",o=s.join(" "),a=i.geometry.coordinates,l=a[1],c=a[0],f={name:n,flav:"nts",bbox:i.bbox??cb(c,l,.03),type:e.types.allTypes.NTS,position:[c,l],location:{city:o},order:-1};t.addResult(f)}},yme=async t=>{const e=t.config;if(await hme(t),e.categories.length===0||e.categories.includes("ADDR")){const r=await qA(t),i=e.sortOrder.indexOf("ADDR"),s=i>=0?i:e.sortOrder.length,n=r.filter(o=>o.type?.includes("Street")).map(o=>{const[a,l,c]=o.title.split(", "),f=o.geometry.coordinates,d=f[1],p=f[0];return{name:a,flav:"add",bbox:cb(p,d,.002),type:e.types.allTypes.ADDRESS,position:[p,d],location:{city:l.split(" Of ").pop(),province:e.provinces.nameToProvince(c)},order:s}});t.addResult(n)}},gme="~FSA~",wI="https://geogratis.gc.ca/services/geolocation/@{language}/locate",xI="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",EI="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",SI="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json";class AI{config;constructor(e,r){let i,s,n,o;const a=r?.serviceUrls;a?(i=a.geoLocation?a.geoLocation:wI,s=a.geoNames?a.geoNames:xI,n=a.geoProvince?a.geoProvince:EI,o=a.geoTypes?a.geoTypes:SI):(i=wI,s=xI,n=EI,o=SI),i=i.replace("@{language}",e),s=s.replace("@{language}",e),n=n.replace("@{language}",e),o=o.replace("@{language}",e);let l="";const c=r?.fsaBoundaries;if(c&&c.serviceUrl){const S=c.keyField||"CFSAUID";l=`${c.serviceUrl}/query/?where=${S}%3D'${gme}'&outFields=${S}&returnGeometry=true&f=json`}const f=r?.settings;let d,p,y,v,b;f?(d=f.categories?f.categories:[],p=f.sortOrder?f.sortOrder:[],y=f.disabledSearchTypes?f.disabledSearchTypes:[],v=f.maxResults>0?f.maxResults:100,b=!!f.officialOnly):(d=[],p=[],y=[],v=100,b=!1),this.config={language:e,geoNameUrl:s,geoLocateUrl:i,fsaUrl:l,types:cme(e,o),provinces:ame(n),categories:d,sortOrder:p,disabledSearchTypes:y,maxResults:v,officialOnly:b},this.config.types.filterValidTypes(r?.excludeTypes),this._typeList=[],this._excludedTypes=r?.excludeTypes||[]}get typeList(){return this._typeList}set typeList(e){this._typeList=e}levenshteinDistance(e,r){r=r.toLowerCase().trim(),e=decodeURI(e.toLowerCase().replace("*",""));const i=[];for(let s=0;s<=r.length;s++){i[s]=[s];for(let n=1;n<=e.length;n++)i[s][n]=s===0?n:Math.min(i[s][n-1]+1,i[s-1][n]+.2,i[s-1][n-1]+(e[n-1]===r[s-1]?0:1))}return i[r.length][e.length]}async query(e){const r=await ume(this.config,e.toUpperCase()),i=this.config.sortOrder.length,s=r.results.filter(l=>l.order<i),n=r.results.filter(l=>l.order>=i);s.sort((l,c)=>l.order-c.order);const o=this.config.maxResults;let a;return s.length>=o?a=s.slice(0,o):(n.forEach(l=>l.order=this.levenshteinDistance(r.query,l.name)),n.sort((l,c)=>l.order-c.order),a=s.concat(n.slice(0,o-s.length))),{results:a,failedServs:r.failedServs}}fetchProvinces(){return new Promise(e=>{const r=setInterval(()=>{this.config.provinces.listFetched&&(clearInterval(r),e(this.config.provinces.provinceList))},100)})}fetchTypes(){return new Promise(e=>{const r=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(r);const i=[],s={code:-1,name:"..."};i.push(s);const n=this.config.types.allTypes;for(const o in n)this._excludedTypes.includes(o)||i.push({code:o,name:n[o]});this.typeList=i,e(this.typeList)}},100)})}}function TI(t,e,r){return t&&e.extent&&(r=r.filter(i=>i.bbox[0]<=e.extent.xmax&&i.bbox[1]<=e.extent.ymax&&i.bbox[2]>=e.extent.xmin&&i.bbox[3]>=e.extent.ymin)),e.province&&e.province!=="..."&&(r=r.filter(i=>i.location.province?.name&&i.location.province.name===e.province)),e.type&&e.type!=="..."&&(r=r.filter(i=>i.type===e.type)),r}const vme=ur("geosearch",()=>{const t=X(new AI("en",void 0)),e=X({type:"",province:"",extent:void 0}),r=X(!1),i=X(""),s=X(""),n=X(""),o=X([]),a=X([]),l=X(!1),c=X([]),f=et(()=>t.value.fetchProvinces().then(w=>(w.sort((_,M)=>_.name.localeCompare(M.name,void 0,{sensitivity:"case"})),w))),d=et(()=>new Promise(w=>{t.value.fetchTypes().then(_=>{_.sort((M,$)=>M.name.localeCompare($.name,void 0,{sensitivity:"case"})),w(_)})}));function p(w,_){t.value=new AI(w,_)}function y(w){l.value=!0;const _=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!_)o.value=[],a.value=[],l.value=!1;else if(_&&_!==n.value||w){const M=setInterval(()=>{t.value.config.provinces.listFetched&&t.value.config.types.typesFetched&&(clearInterval(M),t.value.query(`${_}*`).then($=>{c.value=$.failedServs,n.value=_,a.value=$.results;const C=TI(r.value,e.value,a.value);o.value=C||[],l.value=!1}))},250)}else{const M=TI(r.value,e.value,a.value);o.value=M||[],l.value=!1}}function v(w){e.value.province=typeof w.province>"u"?"":w.province,y(w.forceReRun)}function b(w){e.value.type=typeof w.type>"u"?"":w.type,y(w.forceReRun)}function S(w){n.value=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),i.value=w,y()}function E(w){const _={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""};w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),s.value=Array.from(w).map(M=>Object.keys(_).includes(M)?"["+M+_[M]+"]":M.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function T(w){if(w.visible!==void 0&&(r.value=w.visible),w.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");e.value.extent=w.extent,y()}return{GSservice:t,queryParams:e,resultsVisible:r,searchVal:i,searchRegex:s,lastSearchVal:n,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:f,getTypes:d,initService:p,runQuery:y,setProvince:v,setType:b,setSearchTerm:S,setSearchRegex:E,setMapExtent:T}}),bme=ur("help",()=>({location:X("./help/")}));var aD=(t=>(t.Visibility="visibilityButton",t.Expand="expandButton",t))(aD||{}),pE=(t=>(t.Item="item",t.Placeholder="placeholder",t.Error="error",t))(pE||{});class lD extends Lr{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(e,r,i){super(e),this._uid=Vc.sharedUtils.generateUUID(),this._name=r.name,this._type=r.type??"placeholder",this._parent=i,this._children=[],this._loadPromise=new Ir,this._hidden=r.hidden??!1,this._expanded=r.expanded??!0,this._visibility=!0,this._exclusive=r.exclusive??!1,this._controls=r.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=r.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(e){this._name=e}get type(){return this._type}get children(){return this._children}set children(e){this._children=e}get parent(){return this._parent}set parent(e){this._parent=e}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(e){return this._disabledControls?.includes(e)?!1:this._controls?.includes(e)}setControl(e,r){r&&this._disabledControls?.includes(e)?(this._disabledControls=this._disabledControls.filter(i=>i!==e),this._controls?.push(e)):!r&&this._controls?.includes(e)&&(this._controls=this._controls.filter(i=>i!==e),this._disabledControls?.push(e))}toggleHidden(e){this._hidden=e??!this.hidden}toggleExpanded(e){this._expanded=e??!this.expanded}toggleVisibility(e,r=!0){if(this.visibility!==e){if(this._visibility=e??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof Ha)||this._lastVisible.layerControlAvailable(xr.Visibility)))this._lastVisible.toggleVisibility(!0);else{const i=this.children.find(s=>!(s instanceof Ha)||s.layerControlAvailable(xr.Visibility));i&&i.toggleVisibility(!0)}else this._lastVisible=this.children.find(i=>i.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&r&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(r=>r.visibility&&r!==this&&r.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(e){this instanceof Ha&&!this.layerControlAvailable(xr.Visibility)||(this.exclusive?e.visibility?(this.children.forEach(r=>{r.uid!==e.uid&&r.toggleVisibility(!1,!1)}),this._lastVisible=e,this._visibility=!0,this instanceof Ha&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof Ha&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=e):this.children.some(r=>r.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(r=>r.visibility),this instanceof Ha&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof Ha&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const e={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},r=[];return this.children.forEach(i=>{r.push(i.getConfig())}),this.exclusive?e.exclusiveVisibility=r:e.children=r,e}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new Ir}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class Ha extends lD{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(e,r,i){if(super(e,r,i),this._type=pE.Placeholder,this._layerId=r.layerId,this._layerIdx=r.sublayerIndex,this._isSublayer=r.sublayerIndex!==void 0,this._layerControls=r.layerControls??[],this._origLayerControls=r.layerControls,this._layerDisabledControls=r.disabledLayerControls??[],this._origLayerDisabledControls=r.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=r.symbologyExpanded||!1,r.coverIcon&&(this._coverIcon=r.coverIcon),r.description&&(this._description=r.description),this._symbologyRenderStyle=r.symbologyRenderStyle??"icons",this._customSymbology=!!r.symbologyStack,this._symbologyStack=r.symbologyStack?.map(s=>({uid:this.$iApi.geo.shared.generateUUID(),label:s.text,definitionClause:s.sqlQuery,imgUrl:s.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=r.maxLines&&[1,2,3,4,5,6].includes(r.maxLines)?r.maxLines:void 0,!this._name){const s=this.$iApi.getConfig()?.layers;if(s&&Array.isArray(s)){const n=s.find(o=>o.id===this._layerId);if(n)if(this._isSublayer){if(n.sublayers&&Array.isArray(n.sublayers)){const o=n.sublayers.find(a=>a.index===this._layerIdx);o&&o.name&&(this._name=o.name)}}else n.name&&(this._name=n.name)}}}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(e){this._layer=e,this._layerId=e.id,this._layerIdx=e.isSublayer?e.layerIdx:void 0,this._layerUid=e.uid,this._name=this._name||e.name,this._symbologyStack=this._customSymbology?this._symbologyStack:e.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(e){this._layerOffscale=e}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(e){this._layerRedrawing=e}get coverIcon(){return this._coverIcon}set coverIcon(e){this._coverIcon=e}get description(){return this._description}set description(e){this._description=e}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(e){this._treeGrown=e}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(e){this._symbologyRenderStyle=e}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(e){this._symbologyStack=e}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const e={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...e}}toggleVisibility(e,r=!0,i=!1){if(!(!this.layerControlAvailable(xr.Visibility)&&!i)&&(super.toggleVisibility(e,r),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const s=this._symbologyStack.some(n=>n.lastVisbility);this._symbologyStack.forEach(n=>{s||(n.lastVisbility=!0),n.visibility=this.visibility?n.lastVisbility:!1})}}toggleSymbology(e){return this._symbologyExpanded=e??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(e,r){this._symbologyStack.some(i=>((e===void 0||i.uid===e)&&(i.visibility=r,i.lastVisbility=r),e!==void 0&&i.uid===e))}load(e){const r=e instanceof YA?e:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);r&&(this.layer=r,this._layerRedrawing=r.mapLayer&&r.drawState!==fs.UP_TO_DATE,r.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:r.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),r.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(Ie.LAYER_VISIBILITYCHANGE,i=>{i.layer.uid===this.layer.uid&&this._type===pE.Item&&this.toggleVisibility(i.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(Ie.LAYER_DRAWSTATECHANGE,i=>{this.layer.uid===i.layer.uid&&(i.layer.drawState===fs.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=i.layer.drawState===fs.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?r.isOffscale():!1,this.handlers.push(this.$iApi.event.on(Ie.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(e){return this._layerDisabledControls?.includes(e)?!1:!!this._layerControls?.includes(e)}updateLayerControls(){const e=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=e?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=e?.disabledControls??[])}}var _me=(t=>(t.Title="title",t.Text="text",t.Image="image",t.Markdown="markdown",t.Template="template",t))(_me||{});class MI extends lD{_infoType;_content;constructor(e,r,i){super(e,r,i),this._infoType=r.infoType??"title",this._content=r.content??"",r.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(r.infoType||r.content)&&(this._controls=r.controls?.slice()??[aD.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(e){this._content=e}getConfig(){const e={infoType:this._infoType,content:this._content};return{...super.getConfig(),...e}}}const wme=ur("legend",()=>{const t=X(),e=X([]),r=X([]),i=X(!0),s=X(3);function n(l){if(l.parent===void 0)e.value.push(l.item);else{if(!(l.item instanceof MI)&&!(l.item instanceof Ha)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=f=>(f=f.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),f.forEach(d=>{d.children=c(d.children)}),f=f.filter(d=>!(d instanceof MI&&!d.children.length&&d.content==="")),f);e.value=c(e.value)}function a(l){if(l.oldItem.parent===void 0){const c=e.value,f=c.indexOf(l.oldItem);f>-1&&(e.value[f]=l.newItem),e.value=c}else{const c=l.oldItem.parent.children,f=c.indexOf(l.oldItem);f>-1&&(c[f]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:t,multilineItems:i,maxLines:s,children:e,headerControls:r,addItem:n,removeItem:o,replaceItem:a}}),xme=ur("mapnav",()=>{const t=X({}),e=X([]);function r(i){i in t.value&&delete t.value[i];const s=e.value.indexOf(i);s!==-1&&e.value.splice(s,1)}return{items:t,order:e,removeItem:r}}),Eme=ur("metadata",()=>{const t=X(""),e=X({type:"LineString",coordinates:[]});return{status:t,response:e}}),Sme=ur("northarrow",()=>{const t=X(""),e=X("");return{arrowIcon:t,poleIcon:e}}),Ame=ur("overviewmap",()=>{const t=X({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),e=X({}),r=X(!0),i=X(1.5),s=X("#FF0000"),n=X(1),o=X("#000000"),a=X(.25);function l(c){t.value.initialBasemapId=c}return{mapConfig:t,basemaps:e,startMinimized:r,expandFactor:i,borderColour:s,borderWidth:n,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),Tme=ur("scrollguard",()=>{const t=X(!1);function e(r){t.value=r}return{enabled:t,setEnabled:e}});var xi=(t=>(t[t.UPLOAD=0]="UPLOAD",t[t.FORMAT=1]="FORMAT",t[t.CONFIGURE=2]="CONFIGURE",t))(xi||{});const Mme=ur("wizard",()=>{const t={id:"Placeholder",layerType:Ne.UNKNOWN,url:""},e=X(),r=X(""),i=X(""),s=X(!0),n=X(null),o=X({config:t,configOptions:[]}),a=X(xi.UPLOAD);function l(c){switch(a.value){case xi.UPLOAD:c===xi.UPLOAD?r.value="":c===xi.FORMAT&&(a.value=xi.FORMAT);break;case xi.FORMAT:c===xi.UPLOAD?(n.value&&(r.value="",n.value=null),i.value="",a.value=xi.UPLOAD):c===xi.CONFIGURE&&(a.value=xi.CONFIGURE);break;case xi.CONFIGURE:c===xi.UPLOAD?(r.value="",i.value="",n.value=null,s.value=!0,o.value={config:t,configOptions:[]},a.value=xi.UPLOAD):c===xi.FORMAT&&(o.value={config:t,configOptions:[]},s.value=!0,a.value=xi.FORMAT);break}}return{layerSource:e,url:r,typeSelection:i,nested:s,fileData:n,layerInfo:o,currStep:a,goToStep:l}});class $me{fixture;panel;event;geo;notify;dev;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(e,r,i){this.event=new uoe(this);const s=Ome(e,this);this.$vApp=s.app,this.$element=s.element,this.$i18n=s.i18n,this.$rootEl=s.app.$root?.$el,this.fixture=new zye(this),this.panel=new qye(this),this.geo=new Vye(this),this.dev=new Zye(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new yue(this),this._isFullscreen=to.isEnabled&&!!this.$vApp.$root&&to.isFullscreen&&to.element===this.$vApp.$root.$el,to.isEnabled&&to.onchange(()=>{this._isFullscreen=to.isEnabled&&!!this.$vApp.$root&&to.isFullscreen&&to.element===this.$vApp.$root.$el}),this.initialize(!0,r,i)}initialize(e,r,i){const s=ms(this.$vApp.$pinia),n=nu(this.$vApp.$pinia),o=nv(this.$vApp.$pinia);if(r?.configs!==void 0){const l=Object.keys(this.$i18n.messages.value);s.registerAllConfigs(r,l);const c=s.registeredConfigs[s.registeredLangs[this.$i18n.locale.value]];s.newConfig(c),s.activeBasemapConfig=c.map.basemaps.find(v=>v.id===c.map.initialBasemapId);const f=setInterval(()=>{const v=this.$vApp.$el.querySelector("#esriMap");v&&(clearInterval(f),this.geo.map.createMap(c.map,v).then(()=>{if(v._tippy.hide(0),o.setMaptipInstance(v._tippy),c.layers&&c.layers.length>0){let b=0;c.layers.forEach(S=>{const E=this.geo.layer.createLayer(S);this.geo.map.addLayer(E,b).catch(()=>{}),E.mapLayer&&b++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const v=c.panels.open.map(b=>b.id);this.panel.isRegistered(v).then(()=>{c.panels?.open?.forEach(b=>{this.panel.open({id:b.id,screen:b.screen}),b.pin&&this.panel.pin(b.id)})})}n.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},p=c.system?.zoomIcon||"globe",y=d[p]||p;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=v=>this.ui.suppressNumberLocalization?v.toString():this.$i18n.n(v,"number"),this.ui.escapeHtml=v=>{const b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return v.replace(/[<>"']/g,S=>b[S])},this.ui.isPlainText=v=>typeof v=="string"?!this.containsValidHtml(v)&&!this.representsObject(v):!1}i||(i={});const a=Gu(this.$vApp.$pinia);i?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(Ie.MAP_START)),e&&(i.loadDefaultFixtures!==!1||r?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(r?.startingFixtures):e||this.fixture.restore(),i.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reloadWorker(e,r){const i=Gu(this.$vApp.$pinia),s=Ao(this.$vApp.$pinia),n=ms(this.$vApp.$pinia),o=Zs(this.$vApp.$pinia),a=mo(this.$vApp.$pinia),l=Fx(this.$vApp.$pinia),c=!!e;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(d=>{l.removeGrid(d)}),i.started=!1,this.geo.map.destroyMap(),a.$reset(),r?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),c||(e=JSON.parse(JSON.stringify({startingFixtures:n.startingFixtures,configs:n.registeredConfigs}))),s.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,e,r),c&&this.event.emit(Ie.CONFIG_CHANGE,this.getConfig())}reload(e,r){this.reloadWorker(e,r),this.event.emit(Ie.RAMP_RELOAD)}component(e,r){if(r){const i=this.$element.component(e,r);return this.event.emit(Ie.COMPONENT,e),i}return this.$element.component(e)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const e=this.$vApp.$root.$refs["app-size"].classList;return e.contains("lg")?"lg":e.contains("md")?"md":e.contains("sm")?"sm":"xs"}getConfig(){const e=ms(this.$vApp.$pinia);return JSON.parse(JSON.stringify(e.getActiveConfig(this.language)))}useStore(e){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(e)&&!this.fixture.exists(e)))switch(e){case"appbar":return tv(this.$vApp.$pinia);case"areas-of-interest":return tme(this.$vApp.$pinia);case"details":return f9(this.$vApp.$pinia);case"export":return rme(this.$vApp.$pinia);case"extentguard":return ime(this.$vApp.$pinia);case"geosearch":return vme(this.$vApp.$pinia);case"grid":return Fx(this.$vApp.$pinia);case"help":return bme(this.$vApp.$pinia);case"legend":return wme(this.$vApp.$pinia);case"mapnav":return xme(this.$vApp.$pinia);case"metadata":return Eme(this.$vApp.$pinia);case"northarrow":return Sme(this.$vApp.$pinia);case"overviewmap":return Ame(this.$vApp.$pinia);case"scrollguard":return Tme(this.$vApp.$pinia);case"wizard":return Mme(this.$vApp.$pinia);case"config":return ms(this.$vApp.$pinia);case"fixture":return Zs(this.$vApp.$pinia);case"instance":return Gu(this.$vApp.$pinia);case"layer":return mo(this.$vApp.$pinia);case"map-caption":return pl(this.$vApp.$pinia);case"maptip":return nv(this.$vApp.$pinia);case"notification":return Ao(this.$vApp.$pinia);case"panel":return nu(this.$vApp.$pinia);default:console.error(`The store ${e} does not exist.`);return}}setLanguage(e){if(this.$i18n.locale.value===e)return;const r=ms(this.$vApp.$pinia),i=Ao(this.$vApp.$pinia),s=r.registeredLangs;Object.keys(r.registeredConfigs).length===1&&i.clearAll();const n=this.$i18n.locale.value;this.$i18n.locale.value=e;const o=this.getConfig();s[n]!==s[e]&&(this.reloadWorker(),this.event.emit(Ie.CONFIG_CHANGE,o)),this.event.emit(Ie.LANG_CHANGE,{oldLang:n,newLang:e})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){to.isEnabled&&to.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return Gu(this.$vApp.$pinia).started}updateAlert(e){const r=this.$vApp.$el.querySelector(".screen-reader-alert");r.childNodes.length>0&&(r.innerHTML="");const i=document.createElement("span");i.setAttribute("role","alert");const s=document.createTextNode(e);i.appendChild(s),r.insertBefore(i,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const e=Gu(this.$vApp.$pinia);!e.started&&this.startRequired?(this.event.emit(Ie.MAP_START),e.started=!0):e.started&&console.warn("start has already been called")}containsValidHtml(e){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(e)}representsObject(e){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(e)}}function Ome(t,e){const r=ioe();r.use(({store:o})=>{const a=NO(o.$state);o.$reset=()=>o.$patch(NO(a))});const i=wle(),s=Cl(mde).use(i).use(ude,{directive:"tippy",component:"tippy"}).use(r);s.directive("focus-container",Ede),s.directive("focus-list",vde),s.directive("focus-item",_de),s.directive("truncate",ape),s.component("panel-screen",ype),s.component("pin",_pe),s.component("close",Epe),s.component("back",Tpe),s.component("expand",Cpe),s.component("panel-options-menu",Vpe),s.component("dropdown-menu",AA),s.component("minimize",Lpe),s.component("right",Dpe),s.component("left",jpe),s.component("fullscreen-nav-button",qpe),s.component("geolocator-nav-button",Hpe),s.component("home-nav-button",Wpe),s.component("mapnav-button",Kpe),s.component("appbar-button",eme),s.component("transition",V1),s.component("transition-group",z1),s.config.globalProperties.$iApi=e,s.config.globalProperties.$pinia=r,s.config.idPrefix=`ramp-${t.id||Vc.sharedUtils.generateUUID()}`,s.provide("iApi",e);const n=s.mount(t);return{element:s,app:n,i18n:i.global}}class HA{esriBasemap;config;createErr=!1;constructor(e){this.config=e}static async create(e){const r=new HA(e),i=e.layers.map(o=>{if(o.layerType===Ne.TILE)return Nt.TileLayer({url:o.url,opacity:o.opacity});if(o.layerType===Ne.MAPIMAGE)return Nt.MapImageLayer({url:o.url,opacity:o.opacity});if(o.layerType===Ne.OSM)return Nt.OpenStreetMapLayer({opacity:o.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${o.layerType}`)}),n=(await Promise.allSettled(i)).filter(o=>o.status==="rejected"?(console.error(o.reason),r.createErr=!0,!1):!0).map(o=>{if(o.status==="fulfilled")return o.value;throw new Error("TS is fun")});return r.esriBasemap=await Nt.Basemap({baseLayers:n,title:e.name||"",id:e.id}),r}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(e){this.config.name=e||""}get description(){return this.config.description}set description(e){this.config.description=e||""}get altText(){return this.config.altText}set altText(e){this.config.altText=e||""}get attribution(){return this.config.attribution}set attribution(e){this.config.attribution=e}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class Ime extends Lr{esriMap;_basemapStore;created=!1;name;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(e,r=""){super(e),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new Ir,this.handlers=[],this.pointZoomScale=5e4,this.name=r}noMapErr(){console.error(`Attempted to manipulate the ${this.name} map before calling createMap()`),console.trace()}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(e,r){const i=l=>{this.$iApi.notify.show(Ds.ERROR,this.$iApi.$i18n.t("layer.error",{id:l.name}))},s=e.basemaps.map(l=>HA.create(l)),o=(await Promise.all(s)).filter(l=>(l.createErr&&i(l),l.esriBasemap.baseLayers.length>0));o.forEach(l=>{l.esriBasemap.baseLayers.forEach(c=>{Kr(()=>c.loadStatus,()=>{c.loadStatus==="loaded"?this.trackFirstBasemap=!1:c.loadStatus==="failed"&&(i(l),this.trackFirstBasemap&&this.recoverBasemap(l.tileSchemaId))})})}),this._basemapStore=o,e.labelsDefault&&(this.labelsDefault.visible=e.labelsDefault.visible);const a={};this.esriMap=_r(await Nt.Map(a)),this.pointZoomScale=e.pointZoomScale&&e.pointZoomScale>0?e.pointZoomScale:5e4,this._targetDiv=r,this.createMapView(e.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(e=>e.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(e,r){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(e,r)}async createMapView(e){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new Ir,this.created=!1,this.handlers.forEach(e=>e.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(e){const r=this._basemapStore.find(i=>i.id===e);if(r)return r;throw new Error(`Invalid basemap id requested: ${e}`)}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const r=typeof e=="string"?await this.findBasemap(e):e;this.esriMap.basemap=Ge(r.esriBasemap)}async setBasemap(e){return this.abstractError(),!1}async recoverBasemap(e){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap?.id??void 0;this.noMapErr()}geomToMapSR(e){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(e.sr)?Promise.resolve(e):this.$iApi.geo.proj.projectGeometry(this._rampSR,e)}async zoomMapTo(e,r,i=!0,s=200,n="ease"){if(this.esriView){if(e.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(e),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Je.POINT&&(a.scale=r||this.pointZoomScale);const l={animate:i,duration:s,easing:n};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?er.fromESRI(this.esriView.extent):(this.noMapErr(),er.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),Lp.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),je.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(e){return e>0?(this.pointZoomScale=e,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${e}.`),!1)}}class Cme extends Lr{maptipStore;constructor(e){super(e),this.maptipStore=nv(this.$vApp.$pinia)}#e=void 0;#t=void 0;async checkAtCoord(e){this.#t=e;const r=await this.$iApi.geo.map.getGraphicAtCoord(e);if(this.#t!==e)return;if(!r){this.clear(),this.maptipStore.maptipInstance.disable();return}const i=this.$iApi.geo.layer.getLayer(r.layerId);if(i?.geomType!=Je.POLYGON&&this.#e&&this.#e.layerId===r.layerId&&this.#e.oid===r.oid&&this.#e.layerIdx===r.layerIdx)return;if(this.clear(),this.#e=r,!i){console.error(`graphic hit test returned non-existent layer id: ${r.layerId}`);return}if(!i.hovertips)return;const s=await i.getIcon(r.oid),n=await i.getGraphic(r.oid,{getAttribs:!0});this.maptipStore.maptipInstance.enable(),this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(e)),this.$iApi.event.emit(Ie.MAP_GRAPHICHIT,{layer:i,graphicHit:r,attributes:n.attributes,icon:s,screenPoint:e})}generateDefaultMaptip(e){this.setContent(`<div class="flex items-center space-x-5"><span>${e.icon}</span><span class="line-clamp-3">${e.layer.tooltipValue(e.attributes)}</span></div>`)}clear(){this.#e=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(e){this.maptipStore.setMaptipPoint(e)}setContent(e){this.maptipStore.setMaptipContent(e)}}class Nme extends Lr{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(e){super(e),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(e){if(!e)return;const r=pl(this.$vApp.$pinia);if(r.coords.disabled=!1,r.scale.disabled=!1,r.scale.isImperialScale=!1,e.mapCoords)if(e.mapCoords.disabled)r.coords.disabled=!0;else{const i=e.mapCoords.formatter;i!==void 0&&this.setPointFormatter(i)}if(e.scaleBar)if(e.scaleBar.disabled)r.scale.disabled=!0;else{const i=e.scaleBar.imperialScale;i!==void 0&&(r.toggleScale(i),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}r.langtoggle={disabled:e?.langToggle?.disabled??!1}}updateAttribution(e){const r={value:this.$iApi.$i18n.t("caption.attributionDefaultText")},i={altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},s={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(e?(e.logo?e.logo.disabled?s.logo.disabled=!0:(s.logo.altText=e.logo.altText||i.altText,s.logo.link=e.logo.link||i.link,s.logo.value=e.logo.value||i.value):(s.logo.altText=i.altText,s.logo.link=i.link,s.logo.value=i.value),e.text?e.text.disabled?s.text.disabled=!0:s.text.value=e.text.value||r.value:s.text.value=r.value,pl(this.$vApp.$pinia).setAttribution(s)):(s.logo.altText=i.altText,s.logo.link=i.link,s.logo.value=i.value,s.text.value=r.value),!e||e.text?.disabled||!e.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let n="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap;if(l){const c=l.baseLayers.map(f=>new Promise(d=>{let p=0;const y=o/a,v=setInterval(function(){f.loaded&&!f.loadError?(clearInterval(v),d(f)):p>y&&(clearInterval(v),d(null)),p++},a)})).toArray();Promise.all(c).then(f=>{n=f.filter(p=>p?.copyright).map(p=>p.copyright).join(" | "),s.text.value=n||s.text.value||r.value,pl(this.$vApp.$pinia).setAttribution(s)})}}}updateScale(){const e=pl(this.$vApp.$pinia),r=e.scale;if(r?.disabled)return;const i=r?.isImperialScale||!1,s=this.scaleHelper().find(n=>n.isImperialScale===i)??{units:"error",pixels:1,distance:1};e.scale={width:`${s.pixels}px`,label:`${this.$iApi.$i18n.n(s.distance,"number")}${s.units}`,isImperialScale:i}}async formatPoint(e){return e?await this.pointFormatter(e):""}setPointFormatter(e){if(typeof e=="string"){if(!(e in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${e}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[e]}else this.pointFormatter=e}scaleHelper(){const e=window.innerWidth>600?70:35,r=this.$iApi.geo.map.getResolution(),i=[],s=r*e,n=1609.34,o=3.28084,a=s>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(i.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),s>1e3){const f=r*e/(c?n:1e3),d=Math.round(f).toString().length,p=Math.pow(10,d-1);i[l].distance=Math.ceil(f/p)*p,i[l].pixels=i[l].distance*(c?n:1e3)/r}else i[l].distance=Math.ceil(c?s*o:s),i[l].pixels=s/r}return i}wrapValue(e,r,i){return((e-r)%(i-r)+(i-r))%(i-r)+r}async formatLatLongDMS(e){const r=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(r.y,-90,90),s=this.wrapValue(r.x,-180,180),n="",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.floor(Math.abs((i-o)*60)),l=Math.floor((Math.abs(i)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(s))*(s<0?-1:1),f=Math.floor(Math.abs((s-c)*60)),d=Math.floor((Math.abs(s)-Math.abs(c)-f/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${n} ${this.$iApi.$i18n.n(f,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDDM(e){const r=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(r.y,-90,90),s=this.wrapValue(r.x,-180,180),n="",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.abs((i-o)*60),l=Math.floor(Math.abs(s))*(s<0?-1:1),c=Math.abs((s-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${n} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDD(e){const r=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(r.y,-90,90),s=this.wrapValue(r.x,-180,180),n="",o=Math.abs(i),a=Math.abs(s);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatMercator(e){const r=await this.$iApi.geo.proj.projectGeometry(102100,e);return`${this.$iApi.$i18n.n(Math.floor(r.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(r.y),"number")} m`}async formatLambert(e){const r=await this.$iApi.geo.proj.projectGeometry(3978,e);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(r.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>r.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(r.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(r.y>0?"north":"south"))}`}async formatUTM(e){const r=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(r.y,-90,90),s=this.wrapValue(r.x,-180,180),n=Math.ceil((s+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+n),e);return`${this.$iApi.$i18n.n(n,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(e){const r=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),e);return`${this.$iApi.$i18n.n(r.x,"number")} | ${this.$iApi.$i18n.n(r.y,"number")}`}}class Pme extends Ime{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:12e3,load:12e3,fail:9e4};constructor(e){super(e,"main"),this.maptip=new Cme(e),this.caption=new Nme(e),this.mapMouseThrottle=0}async createMap(e,r){this.setMapMouseThrottle(e.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=e.layerTimeDefault?.expectedDrawTime??12e3,this.layerDefaultTimes.load=e.layerTimeDefault?.expectedLoadTime??12e3,this.layerDefaultTimes.fail=e.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(e,r),this.viewPromise.then(()=>{this.$iApi.event.emit(Ie.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(e=>e.uid).forEach(e=>this.removeLayer(e)),super.destroyMap(),this.$iApi.event.emit(Ie.MAP_DESTROYED)}async createMapView(e){const i=ms(this.$vApp.$pinia).config.map;if(!i)throw new Error("Attempted to create map view without a map config");const s=(typeof e=="string"?await this.findBasemap(e):e)||await this.findBasemap(i.initialBasemapId),n=i.tileSchemas.find(l=>l.id===s.tileSchemaId);if(!n)throw new Error(`Could not find tile schema for the given basemap id: ${s.id}`);const o=i.extentSets.find(l=>l.id===n.extentSetId);if(!o)throw new Error(`Could not find extent set with the given id: ${n.extentSetId}`);this._rampExtentSet=Lp.fromConfig(o),this._rampSR=this._rampExtentSet.sr.clone();const a=i.lodSets.find(l=>l.id===n.lodSetId);if(!a)throw new Error(`Could not find lod set with the given id: ${n.lodSetId}`);this.esriView=_r(await Nt.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:a.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:s.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:Kr(()=>this.esriView.extent,l=>{if(l){const c=this.$iApi.geo.geom.geomEsriToRamp(l,"map_extent_event");this.$iApi.event.emit(Ie.MAP_EXTENTCHANGE,c),this.$iApi.event.emit(Ie.FILTER_CHANGE,{extent:c,filterKey:Vi.EXTENT})}})}),this.handlers.push({type:"scale",handler:Kr(()=>this.esriView.scale,l=>{this.$iApi.event.emit(Ie.MAP_SCALECHANGE,l)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",l=>{this.$iApi.event.emit(Ie.MAP_RESIZED,{height:l.height,width:l.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",l=>{this.$iApi.event.emit(Ie.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",l=>{this.$iApi.event.emit(Ie.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",rv(100,!0,l=>{this.$iApi.event.emit(Ie.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",rv(100,l=>{this.$iApi.event.emit(Ie.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",l=>{setTimeout(()=>{this.$iApi.event.emit(Ie.MAP_MOUSELEAVE,l.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",l=>{this.$iApi.event.emit(Ie.MAP_MOUSEDOWN,l.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",l=>{this.$iApi.event.emit(Ie.MAP_KEYDOWN,l.native),l.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",l=>{this.$iApi.event.emit(Ie.MAP_KEYUP,l.native),l.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",l=>{this.$iApi.event.emit(Ie.MAP_FOCUS,l.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",l=>{this.$iApi.event.emit(Ie.MAP_BLUR,l.native)})}),this.esriView.container?this.esriView.container.addEventListener("touchmove",l=>{l.preventDefault()}):console.error("ESRI Map View is missing its container"),Kr(()=>this.esriView.fatalError,()=>{const l=new IntersectionObserver(c=>{c.forEach(f=>{f.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),l.disconnect())})});l.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(s),n.recoveryBasemap?.basemapId){const l=n.recoveryBasemap.timeout??8e3;l>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(n.id)},l)}})}destroyMapView(){this.esriView?.container?.removeEventListener("touchmove",e=>{e.preventDefault()}),super.destroyMapView()}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const r=typeof e=="string"?await this.findBasemap(e):e;this.esriMap.basemap=Ge(r.esriBasemap);const i=ms(this.$vApp.$pinia);i.activeBasemapConfig=r.config}async setBasemap(e){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const r=ms(this.$vApp.$pinia),i=await this.findBasemap(e),n=r.activeBasemapConfig.tileSchemaId!==i.tileSchemaId;if(n){const o=this.getExtent().center(),a=this.getScale();this._viewPromise=new Ir,this.created=!1,this.$iApi.event.emit(Ie.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(i),await this.viewPromise.then(()=>{this.$iApi.event.emit(Ie.MAP_REFRESH_END),this.$iApi.event.emit(Ie.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:n});const l=this.findClosestScale(a);this.$iApi.geo.proj.projectGeometry(this._rampSR,o).then(c=>this.zoomMapTo(c,l,!1))})}else{await this.applyBasemap(i);const o=await Nt.ColorBackground({color:new _a(i.backgroundColour).toESRI()});this.esriView.background=o,this.$iApi.event.emit(Ie.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:n})}return n}async recoverBasemap(e){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const i=ms(this.$vApp.$pinia).config.map;if(i){const s=i.tileSchemas.find(n=>n.id===e);if(s?.recoveryBasemap?.basemapId){const n=await this.findBasemap(s.recoveryBasemap.basemapId);await this.applyBasemap(n)}}}addLayer(e,r=void 0){return new Promise((i,s)=>{if(this.esriMap||(this.noMapErr(),s()),e.initiationState!==Qt.INITIATING&&e.initiationState!==Qt.INITIATED&&e.layerState!==gr.ERROR&&e.initiate(),e.mapLayer&&r===void 0){const c=this.$iApi.geo.layer.layerOrderIds();if(e.isCosmetic)r=c.length;else{const f=this.$iApi.geo.layer.allLayers();let d=!0;for(let p=c.length-1;p>=0&&d;p--){const y=f.find(v=>v.id===c[p]);y&&!y.isCosmetic&&(r=p+1,d=!1)}d&&(r=0)}}mo(this.$vApp.$pinia).addLayer(e,r),this.$iApi.event.emit(Ie.LAYER_REGISTERED,e);const o=Date.now();let a=0;const l=setInterval(()=>{a+=250,a>=e.expectedTime.fail||e.layerState===gr.ERROR?(clearInterval(l),e.lastCancel<o&&console.error(`Failed to add layer: ${e.id}.`),s()):e.initiationState===Qt.INITIATED&&(e.esriLayer||!e.mapLayer)&&(clearInterval(l),e.mapLayer?this.insertToEsriMap(e):e.onLoad(),i())},250)})}insertToEsriMap(e){let r=0;const i=this.$iApi.geo.layer.getLayerPosition(e.id)??-1;if(i>0){const s=this.$iApi.geo.layer.layerOrderIds(),n=this.$iApi.geo.layer.allLayers();for(let o=i-1;o>-1;o--){const a=s[o],l=n.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){r=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}i>-1&&this.esriMap?.add(e.esriLayer,r)}reorder(e,r,i=!1){if(r<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(e.isSublayer&&(e=e.parentLayer),!e.mapLayer){console.error("Attempted to reorder a data layer");return}const s=this.$iApi.geo.layer.allLayers();let n=this.$iApi.geo.layer.layerOrderIds();if(i){if(e.isCosmetic)return;if(r>0){const l=n.filter(c=>{const f=s.find(d=>d.id===c);return f?!f.isCosmetic:(console.error("Layer reorder had critical error"),!1)});r>=l.length&&(console.error("non-cosmetic reorder index was too high"),r=l.length-1),r=n.indexOf(l[r])}}else r>=n.length&&(console.error("reorder index was too high"),r=n.length-1);const o=n.indexOf(e.id);if(o===r)return;if(mo(this.$vApp.$pinia).reorderLayer(e,r),e.esriLayer&&this.esriMap.layers.indexOf(e.esriLayer)>-1){let l=0;if(r>0){n=this.$iApi.geo.layer.layerOrderIds();for(let c=r-1;c>-1;c--){const f=n[c],d=s.find(p=>p.id===f);if(d&&d.esriLayer){const p=this.esriMap.layers.indexOf(d.esriLayer);if(p>-1){const y=r<o?1:0;l=p+y;break}}else d||console.error("Layer reorder had critical error")}}this.esriMap.reorder(e.esriLayer,l)}this.$iApi.event.emit(Ie.MAP_REORDER,{layer:e,newIndex:r})}removeSublayer(e){let r,i;if(typeof e=="string")r=e,i=this.$iApi.geo.layer.getLayer(r);else{if(!e.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${e}`);r=e.uid,i=e}if(!i)throw new Error("Sublayer could not be found for removal.");i.visibility=!1,i.isRemoved=!0,this.$iApi.event.emit(Ie.LAYER_REMOVE,e),i.parentLayer?.sublayers.every(s=>s.isRemoved)&&this.removeLayer(i.parentLayer)}removeLayer(e){if(!this.esriMap){this.noMapErr();return}let r;if(e instanceof YA?r=e:r=this.$iApi.geo.layer.getLayer(e),!r)throw new Error("Layer could not be found for removal.");if(r.isSublayer){this.removeSublayer(r);return}r.supportsSublayers&&r.sublayers.forEach(s=>{s.isRemoved||this.removeSublayer(s)});const i=mo(this.$vApp.$pinia);i.removeLayer(r),i.removeLayerConfig(r.id),r.removeEsriLayer(),r.initiationState===Qt.INITIATED&&r.terminate(),r.isRemoved=!0,this.$iApi.event.emit(Ie.LAYER_REMOVE,r)}setMapMouseThrottle(e){if(e<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=e;const r=this.handlers.findIndex(i=>i.type==="pointer-move");if(r!==-1){const i=this.handlers[r];this.handlers.splice(r,1),i.handler.remove()}return r!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return ll(this.mapMouseThrottle,e=>{this.$iApi.event.emit(Ie.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(e))})}async zoomToLevel(e){if(this.esriView)return this.esriView.goTo({zoom:e});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(e){if(!this.esriView){this.noMapErr();return}const r=e.isOffScale(this.getScale());if(!r.offScale)return;const i=this.esriView.constraints.lods;if(!i)return this.zoomMapTo(this.getExtent().center(),(r.zoomIn,e.minScale));const s=r.zoomIn?i:[...i].reverse(),n=s.find(o=>r.zoomIn?o.scale<e.minScale:o.scale>e.maxScale)||s[s.length-1];return this.zoomToLevel(n.level)}findClosestScale(e){const r=this.esriView?.constraints.lods;if(!r)return e;const i=r.map(n=>Math.abs(n.scale-e)),s=i.indexOf(Math.min(...i));return r[s].scale}async takeScreenshot(e){if(this.esriView)return e.quality||(e.quality=1),e.format||(e.format="png"),this.esriView.takeScreenshot(e);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(e){return this.esriView?Ji.fromESRI(this.esriView.toMap({x:e.screenX,y:e.screenY}),"mappoint"):(this.noMapErr(),new Ji("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(e){if(this.esriView){const r=this.esriView.toScreen(e.toESRI());return{screenX:r.x,screenY:r.y}}else return this.noMapErr(),{screenX:1,screenY:1}}async symbolIdentify(e,r){await this.viewPromise;const s=(await this.esriView.hitTest({x:e,y:r})).results.filter(o=>o.type==="graphic").map(async o=>{const a=o.layer;if(o.graphic.isAggregate===!0){const l=await this.esriView.whenLayerView(a),c=l.createQuery();return c.aggregateIds=[o.graphic.getObjectId()],(await l.queryFeatures(c)).features.map(d=>({layerId:a.id,layerIdx:0,oid:d.getObjectId()}))}else return{layerId:a.id,layerIdx:0,oid:o.graphic.getObjectId()}});return(await Promise.all(s)).flat()}runIdentify(e){const r=this.$iApi.geo.layer.allLayersOnMap(!1).filter(f=>f.canIdentify());let i;if(e instanceof Ji){const f=this.mapPointToScreenPoint(e);i={mapPoint:e,screenX:f.screenX,screenY:f.screenY,button:0,input:"mouse",clickTime:Date.now()}}else i=e;const s=this.$iApi.fixture.get("draw");if(s&&this.esriView&&(s.store.activeTool||s.store.selectedGraphicId!==null))return{click:i,results:[]};if(r===void 0)return{click:i,results:[]};let n=Promise.resolve([]);r.some(f=>f.identifyMode===Wr.HYBRID||f.identifyMode===Wr.SYMBOLIC)&&(n=this.symbolIdentify(i.screenX,i.screenY));const o={geometry:i.mapPoint,hitTest:n},a=r.filter(f=>f.supportsIdentify).map(f=>(o.tolerance=i.input=="touch"?f.touchTolerance:f.mouseTolerance,f.runIdentify(o))).flat(),l=Date.now();a.forEach(f=>{f.requestTime=l});const c={results:a,click:i};return this.$iApi.event.emit(Ie.MAP_IDENTIFY,c),c}async getGraphicAtCoord(e){if(!this.esriView){this.noMapErr();return}const r=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===Ne.GRAPHIC);if(r.length===0)return;const i=await this.esriView.hitTest({x:e.screenX,y:e.screenY});if(i.results.length===0)return;const s=i.results.filter(l=>l.type==="graphic");let n,o;const a=new Set;if(s.some(l=>{if(!l.layer||a.has(l.layer.id))return!1;const c=r.find(f=>f.id===l.layer.id);return c?(c.isCosmetic||c.layerType===Ne.GRAPHIC||l.graphic.isAggregate||(n=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),n&&o)return{oid:o.getObjectId(),layerId:n.id,layerIdx:n.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(e){const r=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this._activeKeys.some(s=>r.includes(s))||this.keyPan()):r.includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this.keyZoom(e)):e.key==="Enter"?this.runIdentify(this.getExtent().center()):e.key==="Tab"&&this._activeKeys.push(e.key)}mapKeyUp(e){const r=["=","-"];this._activeKeys.includes(e.key)&&!r.includes(e.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this._activeKeys.some(i=>r.includes(i))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(e=>!["Control","Shift"].includes(e)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(e){clearInterval(this._panInterval),e.key==="="?await this.zoomIn():e.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const e=this.getExtent().center(),r=this.mapPointToScreenPoint(e),i=this.screenPointToMapPoint({screenX:r.screenX+5,screenY:r.screenY+5}),s=Math.abs(i.x-e.x),n=Math.abs(i.y-e.y);let o=0,a=0,l=1;for(let f=0;f<this._activeKeys.length;++f)switch(this._activeKeys[f]){case"ArrowLeft":o-=s;break;case"ArrowRight":o+=s;break;case"ArrowUp":a+=n;break;case"ArrowDown":a-=n;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{e.x+=l*o,e.y+=l*a,this.zoomMapTo(e,c,!1)},25)}}const Lme={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},Rme={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},kme={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},Dme={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},Fme={circlePoint:Lme,solidLine:Rme,outlinedPoly:kme,boundingBoxPoly:Dme};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var Ume=function(e,r){for(var i=0;i<e.length;i++)if(e[i]!==r[i])return!1;return!0},$I=function(e){return Ume(e[0],e[e.length-1])||e.push(e[0]),e},OI=function(e){var r=0,i=0,s=e.length,n=e[i],o;for(i;i<s-1;i++)o=e[i+1],r+=(o[0]-n[0])*(o[1]+n[1]),n=o;return r>=0},jme=function(e){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return r},cD=function(e){var r=[],i=e.slice(0),s=$I(i.shift().slice(0));if(s.length>=4){OI(s)||s.reverse(),r.push(s);for(var n=0;n<i.length;n++){var o=$I(i[n].slice(0));o.length>=4&&(OI(o)&&o.reverse(),r.push(o))}}return r},Bme=function(e){for(var r=[],i=0;i<e.length;i++)for(var s=cD(e[i]),n=s.length-1;n>=0;n--){var o=s[n].slice(0);r.push(o)}return r},Vme=function t(e,r){r=r||"OBJECTID";var i={wkid:4326},s={},n;switch(e.type){case"Point":s.x=e.coordinates[0],s.y=e.coordinates[1],e.coordinates[2]!=null&&(s.z=e.coordinates[2]),s.spatialReference=i;break;case"MultiPoint":s.points=e.coordinates.slice(0),e.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"LineString":s.paths=[e.coordinates.slice(0)],e.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"MultiLineString":s.paths=e.coordinates.slice(0),e.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"Polygon":s.rings=cD(e.coordinates.slice(0)),e.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"MultiPolygon":s.rings=Bme(e.coordinates.slice(0)),e.coordinates[0][0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"Feature":e.geometry&&(s.geometry=t(e.geometry,r)),s.attributes=e.properties?jme(e.properties):{},e.id&&(s.attributes[r]=e.id);break;case"FeatureCollection":for(s=[],n=0;n<e.features.length;n++)s.push(t(e.features[n],r));break;case"GeometryCollection":for(s=[],n=0;n<e.geometries.length;n++)s.push(t(e.geometries[n],r));break}return s};function uD(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+"]"}).join(",")+"}")}function Gme(t,e){var r=uD(t);return function(i,s){return e(r(i),s,t)}}function zme(t){var e=Object.create(null),r=[];return t.forEach(function(i){for(var s in i)s in e||r.push(e[s]=s)}),r}function WA(t){var e=new RegExp('["'+t+`
]`),r=t.charCodeAt(0);function i(c,f){var d,p,y=s(c,function(v,b){if(d)return d(v,b-1);p=v,d=f?Gme(v,f):uD(v)});return y.columns=p,y}function s(c,f){var d={},p={},y=[],v=c.length,b=0,S=0,E,T;function w(){if(b>=v)return p;if(T)return T=!1,d;var M=b,$;if(c.charCodeAt(M)===34){for(var C=M;C++<v;)if(c.charCodeAt(C)===34){if(c.charCodeAt(C+1)!==34)break;++C}return b=C+2,$=c.charCodeAt(C+1),$===13?(T=!0,c.charCodeAt(C+2)===10&&++b):$===10&&(T=!0),c.slice(M+1,C).replace(/""/g,'"')}for(;b<v;){var P=1;if($=c.charCodeAt(b++),$===10)T=!0;else if($===13)T=!0,c.charCodeAt(b)===10&&(++b,++P);else if($!==r)continue;return c.slice(M,b-P)}return c.slice(M)}for(;(E=w())!==p;){for(var _=[];E!==d&&E!==p;)_.push(E),E=w();f&&(_=f(_,S++))==null||y.push(_)}return y}function n(c,f){return f==null&&(f=zme(c)),[f.map(l).join(t)].concat(c.map(function(d){return f.map(function(p){return l(d[p])}).join(t)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(t)}function l(c){return c==null?"":e.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:i,parseRows:s,format:n,formatRows:o}}var ub=WA(","),qme=ub.parse,Hme=ub.parseRows,Wme=ub.format,Yme=ub.formatRows,hb=WA("	"),Jme=hb.parse,Kme=hb.parseRows,Zme=hb.format,Xme=hb.formatRows;const Qme=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:Wme,csvFormatRows:Yme,csvParse:qme,csvParseRows:Hme,dsvFormat:WA,tsvFormat:Zme,tsvFormatRows:Xme,tsvParse:Jme,tsvParseRows:Kme},Symbol.toStringTag,{value:"Module"})),eye=OK(Qme);var oc={exports:{}},II;function tye(){if(II)return oc.exports;II=1,oc.exports=t,oc.exports.pair=n,oc.exports.format=r,oc.exports.formatPair=e,oc.exports.coordToDMS=i;function t(a,l){var c=s(a,l);return c===null?null:c.val}function e(a){return r(a.lat,"lat")+" "+r(a.lon,"lon")}function r(a,l){var c=i(a,l);return c.whole+" "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function i(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",f=c[a>=0?0:1],d=Math.abs(a),p=Math.floor(d),y=d-p,v=y*60,b=Math.floor(v),S=Math.floor((v-b)*60);return{whole:p,minutes:b,seconds:S,dir:f}}function s(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\|\]?[0-9.]+)[]?\s*(?:([0-9.]+)[']\s*)?(?:([0-9.]+)(?:''|"||)\s*)?([NSEW])?/,f=a.match(c);if(!f)return null;var d=f[0],p;if(f[1]&&f[5]?(p=f[1],d=d.slice(0,-1)):p=f[1]||f[5],p&&l.indexOf(p)===-1)return null;var y=f[2]?parseFloat(f[2]):0,v=f[3]?parseFloat(f[3])/60:0,b=f[4]?parseFloat(f[4])/3600:0,S=y<0?-1:1;return(p==="S"||p==="W")&&(S*=-1),{val:(Math.abs(y)+v+b)*S,dim:p,matched:d,remain:a.slice(d.length)}}function n(a,l){a=a.trim();var c=s(a,l);if(!c)return null;a=c.remain.trim();var f=s(a,l);return!f||f.remain?null:c.dim?o(c.val,f.val,c.dim):[c.val,f.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return oc.exports}var j_,CI;function rye(){if(CI)return j_;CI=1;var t=eye,e=tye(),r=/(Lat)(itude)?/gi,i=/(L)(on|ng)(gitude)?/i;function s(S,E){var T,w,_;for(var M in S)w=M.match(E),w&&(!T||w[0].length/M.length>_)&&(_=w[0].length/M.length,T=M);return T}function n(S){return s(S,r)}function o(S){return s(S,i)}function a(S){return!!S.match(r)}function l(S){return!!S.match(i)}function c(S){return typeof S=="object"?Object.keys(S).length:0}function f(S){var E=[",",";","	","|"],T=[];return E.forEach(function(w){var _=t.dsvFormat(w).parse(S);if(_.length>=1){for(var M=c(_[0]),$=0;$<_.length;$++)if(c(_[$])!==M)return;T.push({delimiter:w,arity:Object.keys(_[0]).length})}}),T.length?T.sort(function(w,_){return _.arity-w.arity})[0].delimiter:null}function d(S){return delete S.columns,S}function p(S){var E=f(S);return E?d(t.dsvFormat(E).parse(S)):null}function y(S,E,T){T||(T=E,E={}),E.delimiter=E.delimiter||",";var w=E.latfield||"",_=E.lonfield||"",M=E.crs||"",$=[],C={type:"FeatureCollection",features:$};if(M!==""&&(C.crs={type:"name",properties:{name:M}}),E.delimiter==="auto"&&typeof S=="string"&&(E.delimiter=f(S),!E.delimiter)){T({type:"Error",message:"Could not autodetect delimiter"});return}var P=E.numericFields?E.numericFields.split(","):null,N=typeof S=="string"?t.dsvFormat(E.delimiter).parse(S,function(I){if(P)for(var V in I)P.includes(V)&&(I[V]=+I[V]);return I}):S;if(!N.length){T(null,C);return}var F=[],q;w||(w=n(N[0])),_||(_=o(N[0]));var U=!w||!_;if(U){for(q=0;q<N.length;q++)$.push({type:"Feature",properties:N[q],geometry:null});T(F.length?F:null,C);return}for(q=0;q<N.length;q++)if(N[q][_]!==void 0&&N[q][w]!==void 0){var B=N[q][_],K=N[q][w],h,m,x;x=e(B,"EW"),x&&(B=x),x=e(K,"NS"),x&&(K=x),h=parseFloat(B),m=parseFloat(K),isNaN(h)||isNaN(m)?F.push({message:"A row contained an invalid value for latitude or longitude",row:N[q],index:q}):(E.includeLatLon||(delete N[q][_],delete N[q][w]),$.push({type:"Feature",properties:N[q],geometry:{type:"Point",coordinates:[parseFloat(h),parseFloat(m)]}}))}T(F.length?F:null,C)}function v(S){for(var E=S.features,T={type:"Feature",geometry:{type:"LineString",coordinates:[]}},w=0;w<E.length;w++)T.geometry.coordinates.push(E[w].geometry.coordinates);return T.properties=E.reduce(function(_,M){for(var $ in M.properties)_[$]||(_[$]=[]),_[$].push(M.properties[$]);return _},{}),{type:"FeatureCollection",features:[T]}}function b(S){for(var E=S.features,T={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},w=0;w<E.length;w++)T.geometry.coordinates[0].push(E[w].geometry.coordinates);return T.properties=E.reduce(function(_,M){for(var $ in M.properties)_[$]||(_[$]=[]),_[$].push(M.properties[$]);return _},{}),{type:"FeatureCollection",features:[T]}}return j_={isLon:l,isLat:a,guessLatHeader:n,guessLonHeader:o,csv:t.csvParse,tsv:t.tsvParse,dsv:t,auto:p,csv2geojson:y,toLine:v,toPolygon:b},j_}var B_=rye();const iye={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function sye(t){if(t.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let e=!0,r=!0;for(let i=0;i<t.features.length;i++){const s=t.features[i];Object.assign(s.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in s&&typeof s.id<"u"&&(s.properties.ID_FILE=s.id,e=!1),"OBJECTID"in s.properties&&(s.properties.OBJECTID_FILE=s.properties.OBJECTID,delete s.properties.OBJECTID,r=!1),s.id=i+1}if(e)for(let i=0;i<t.features.length;i++)delete t.features[i].properties.ID_FILE;if(r)for(let i=0;i<t.features.length;i++)delete t.features[i].properties.OBJECTID_FILE}function nye(t,e){const r=i=>i.indexOf(" ")>-1;e.fields?.forEach(i=>{if(i.name&&r(i.name)){const s=i.name;let n,o="_",a;do n=s.replace(/ /g,o),a=e.fields?.find(l=>l.name===n),a&&(o+="_");while(a);i.alias=s,i.name=n;for(let l=0;l<t.features.length;l++){const c=t.features[l];c.properties[n]=c.properties[s],delete c.properties[s]}}})}function oye(t,e){const r=t.features[e].geometry.geometries;if(r.length===1)t.features[e].geometry={type:r[0].type,coordinates:r[0].coordinates};else{const i=r.map(s=>s.coordinates);t.features[e].geometry={type:`Multi${r[0].type}`,coordinates:i}}}function aye(t){return t==="MultiLineString"?"LineString":t==="MultiPolygon"?"Polygon":t}class lye extends Lr{async fetchFileData(e,r){const i=await Wm.get(e,{responseType:"arrayBuffer"});switch(r){case Ne.GEOJSON:case Ne.DATAJSON:return JSON.parse(this.arbToStr(i.data));case Ne.SHAPEFILE:case Ne.GEOJSONZIPPED:case Ne.FLATGEOBUF:case Ne.FLATGEOBUFZIPPED:return i.data;case Ne.CSV:case Ne.DATACSV:return this.arbToStr(i.data);default:console.error(`Unsupported file type passed to fetchFileData- '${r}'`)}}extractGeoJsonFields(e){if(e.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let r="";for(let o=0;o<e.features.length;o++){const a=e.features[o];if(a.geometry.type==="GeometryCollection"){const f=a.geometry.geometries;if(f===void 0||f.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const d=f[0].type;for(let p=0;p<f.length;p++)if(f[p].type!==d)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");oye(e,o)}const c=aye(a.geometry.type);if(r==="")r=c;else if(r!==c)throw new Error("GeoJSON file contains multiple geometry types")}const i=Object.keys(e.features[0].properties).map(o=>({name:o,type:"string"}));let s=0;const n=Object.keys(e.features[0].properties);for(;s<e.features.length;){const o=e.features[s];if(o.properties&&Object.keys(o.properties).filter(a=>n.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=i.findIndex(f=>f.name===a);i[c]={name:a,type:this.inferType(l)},n.splice(n.indexOf(a),1)}}),n.length===0)break;s++}return i}extractCsvFields(e,r=","){return B_.dsv.dsvFormat(r).parseRows(e)[0].map(s=>({name:s,type:na.STRING}))}filterCsvLatLonFields(e,r=","){const i=B_.dsv.dsvFormat(r).parseRows(e),s=i[0],n={lat:JSON.parse(JSON.stringify(s)),lon:JSON.parse(JSON.stringify(s))};for(let o=0;o<s.length;o++)for(let a=1;a<i.length;a++){const l=Number(i[a][o]),c=n.lat.indexOf(s[o]),f=n.lon.indexOf(s[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&n.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&f!==-1&&n.lon.splice(f,1),c===-1&&f===-1)break}return n}async geoJsonToEsriJson(e,r){let i,s="",n;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:na.OID}]};sye(e);const a=e.features[0].geometry.type,l=iye[a],c=JSON.parse(JSON.stringify(Fme[l]));if(r){if(r.sourceProjection&&(s=this.$iApi.geo.proj.normalizeProj(r.sourceProjection)),r.targetSR)i=r.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");r.layerId?n=r.layerId:n=this.$iApi.geo.shared.generateUUID(),r.colour&&(c.renderer.symbol.color=new _a(r.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");s||(s=je.parseGeoJsonCrs(e.crs)),o.renderer=await Nt.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(r.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(e).filter(b=>r.fieldMetadata?.fieldInfo?.find(S=>S.name===b.name)):this.extractGeoJsonFields(e)),r.fieldMetadata?.enforceOrder&&r.fieldMetadata?.fieldInfo&&r.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,r.fieldMetadata?.fieldInfo)),nye(e,o);const f=this.$iApi.geo.proj.normalizeProj(i);if(r){if(r.latField){const b=o.fields.find(S=>S.name===r.latField||S.alias===r.latField);b&&(b.type=na.DOUBLE)}if(r.lonField){const b=o.fields.find(S=>S.name===r.lonField||S.alias===r.lonField);b&&(b.type=na.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([s,i]);const d=je.parseSR(i).toESRI();await this.$iApi.geo.proj.projectGeoJson(e,s,f);const p=Vme(e,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(b=>b.name);for(let b=0;b<p.length;b++){const S=p[b];S.geometry.spatialReference=d,S.geometry.type=o.geometryType,Object.keys(S.attributes).forEach(E=>{y.includes(E)?(Array.isArray(S.attributes[E])||typeof S.attributes[E]=="object")&&S.attributes[E]!=null&&(S.attributes[E]=JSON.stringify(S.attributes[E])):delete S.attributes[E]})}return(r.fieldMetadata?.fieldInfo&&r.fieldMetadata?.fieldInfo.length>0?r.fieldMetadata.fieldInfo.filter(b=>b.trim&&y.includes(b.name)).map(b=>b.name):[]).forEach(b=>{for(let S=0;S<p.length;S++){const E=p[S].attributes;typeof E[b]=="string"&&(E[b]=E[b].trim())}}),o.source=p,o.spatialReference=d,o.id=n,o}async csvToGeoJson(e,r){const i={latfield:"Lat",lonfield:"Long",delimiter:","};return r&&(r.latfield&&(i.latfield=r.latfield),r.lonfield&&(i.lonfield=r.lonfield),r.delimiter&&(i.delimiter=r.delimiter)),new Promise((s,n)=>{B_.csv2geojson(e,i,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),n(o)):(a.features.map(l=>{l.properties[i.lonfield]=l.geometry.coordinates[0],l.properties[i.latfield]=l.geometry.coordinates[1]}),s(a))})})}async shapefileToGeoJson(e){return(await ve(()=>import("./shp.min-fu-UA0Zr.js").then(i=>i.s),__vite__mapDeps([224,225]),import.meta.url)).default(e)}fgbToGeoJson(e,r){return ve(async()=>{const{geojson:s}=await import("./flatgeobuf-B3uq3Mri.js");return{geojson:s}},[],import.meta.url).then(({geojson:s})=>new Promise(n=>{let o=!1,a=null;const l=s.deserialize(new Uint8Array(e),void 0,d=>{a=d.crs,o=!0});let c=0;const f=setInterval(()=>{if(l&&o){clearInterval(f);let d;a&&(a.code&&a.code!==4326&&a.org==="EPSG"?d=new je(a.code):a.wkt?d=new je(a.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",a)),d&&(l.crs=d.toGeoJSON()),n(l)}else c+=60,c>r&&(clearInterval(f),n({}))},60)}))}inferType(e){return typeof e=="number"?na.DOUBLE:na.STRING}rawDataJsonParser(e,r=!1){let i;return typeof e=="string"?i=JSON.parse(e):r?i=structuredClone(e):i=e,i}async unzipSingleFile(e){const r=await ve(()=>import("./jszip.min-BQJepLgf.js").then(o=>o.j),__vite__mapDeps([226,225]),import.meta.url),s=await new r.default().loadAsync(e),n=Object.keys(s.files)[0];if(n&&s.file(n))return await s.file(n).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(e){if(e.rawData&&e.rawData instanceof ArrayBuffer)return e.rawData;if(e.url)return this.$iApi.geo.layer.files.fetchFileData(e.url,e.layerType);throw new Error(`${e.layerType} config contains no url or invalid/missing raw data`)}arbToStr(e){return new TextDecoder("utf-8").decode(new Uint8Array(e))}}const cye=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");class uye extends Lr{async loadWfsData(e,r=-1,i=0,s=1e3,n={type:"FeatureCollection",features:[]},o=!1){let a={offset:i.toString(),limit:s.toString()};r===-1&&(a={resulttype:"hits"});const c=new Sg(e).updateQuery(a),[f,d]=await Hn(Wm.get(c));if(!d)return console.error(`WFS data failed to load for ${e}`,f),Promise.reject(f);const p=d.data;if(r===-1)return r=d.data.numberMatched,this.loadWfsData(e,r,i,s,n,o);if(n.features=n.features.concat(p.features),p.features.length<r-i){const y=Math.min(s,r-i-p.features.length);return this.loadWfsData(c,r,p.features.length+i,y,n,o)}else return o&&n.features.length>0&&n.features[0].geometry.type===mr.POINT&&n.features.forEach(y=>{const v=y.geometry.coordinates;y.properties.rvInternalCoordX=v[0],y.properties.rvInternalCoordY=v[1]}),n}reversedAxisWKIDs(){return cye}parseCapabilities(e){const r=()=>{let o=e;if(e.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new Sg(e.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return Fr(o,{responseType:"xml"}).then(a=>a.data)},i=new Promise(o=>{r().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(r())})}),s=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,f=l.Title;let d=l.Style;const p=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(v=>{const b=v.Name;if(p.push(b),v.LegendURL){const E=v.LegendURL.OnlineResource["@_xlink:href"];y[b]=E.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:f,queryable:l["@_queryable"]==="1",layers:s(l),allStyles:p,styleToURL:y,currentStyle:p[0]}})):[]},n=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return ve(async()=>{const{XMLParser:o}=await import("./fxp-rjvO85py.js").then(a=>a.f);return{XMLParser:o}},[],import.meta.url).then(({XMLParser:o})=>i.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},f=new o(c).parse(l);if("ServiceExceptionReport"in f)return console.error(f.ServiceExceptionReport.ServiceException),[];const d=f.WMS_Capabilities.Capability;return{layers:s(d),queryTypes:n(d.Request.GetFeatureInfo)}}))}}class lm{static makeRawItem(e,r){const i=Promise.resolve();return li({format:e,data:r,started:!0,loaded:!0,loading:i,load(){return i}})}static makeOidItem(e,r){const i=new Ir,s={format:uh.ESRI,data:void 0,started:!1,loaded:!1,loading:i.getPromise(),async load(){if(!this.started){this.started=!0;const n=await r.getGraphic(e,{getAttribs:!0});this.data=n.attributes,this.loaded=!0,i.resolveMe()}return i.getPromise()}};return li(s)}}class hye extends Lr{files;ogc;constructor(e){super(e),this.files=new lye(e),this.ogc=new uye(e)}createLayer(e){let r;switch(e.layerType){case Ne.FEATURE:r=_ye;break;case Ne.MAPIMAGE:r=wye;break;case Ne.GRAPHIC:r=dye;break;case Ne.TILE:r=Aye;break;case Ne.WFS:r=Mye;break;case Ne.DATATABLE:r=Oye;break;case Ne.WMS:r=Tye;break;case Ne.GEOJSON:r=pye;break;case Ne.GEOJSONZIPPED:r=gye;break;case Ne.FLATGEOBUFZIPPED:r=bye;break;case Ne.CSV:r=yye;break;case Ne.DATAJSON:r=$ye;break;case Ne.IMAGERY:r=Sye;break;case Ne.SHAPEFILE:r=mye;break;case Ne.FLATGEOBUF:r=vye;break;case Ne.OSM:r=Eye;break;default:throw new Error("Unsupported Layer Type "+e.layerType)}return new r(e,this.$iApi)}sublayerId(e,r){return`${e}-${r}`}getLayer(e){return mo(this.$vApp.$pinia).getLayerByAny(e)}getSublayer(e,r){const i=mo(this.$vApp.$pinia).getLayerById(e);if(i&&i.supportsSublayers&&r<i.sublayers.length)return i.sublayers[r]}async awaitLayer(e,r=!1){let i=this.getLayer(e);if(!i){const s=new Ir;let n=0;const o=300,a=setInterval(()=>{n+=o;const l=this.getLayer(e);if(l)clearInterval(a),s.resolveMe(l);else if(n>8e3){clearInterval(a);const c=setInterval(()=>{const f=this.getLayer(e);f&&(clearInterval(c),s.resolveMe(f))},1500)}},o);i=await s.getPromise()}return r&&await i.viewPromise(),i}async awaitSublayer(e,r){return this.awaitLayer(this.sublayerId(e,r))}getLayerPosition(e){const r=this.getLayer(e);if(r&&r.mapLayer){const i=r.isSublayer?r.parentLayer.id:r.id,s=this.layerOrderIds().findIndex(n=>n===i);return s===-1?void 0:s}else return}layerOrderIds(){return mo(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return mo(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(e=>e.layerState!==gr.ERROR&&e.initiationState===Qt.INITIATED)}allLayersOnMap(e=!0){const r=this.allLayers().filter(i=>i.mapLayer&&i.initiationState===Qt.INITIATED);if(e){const i=this.layerOrderIds(),s=new Map(i.map((n,o)=>[n,o]));r.sort((n,o)=>s.get(n.id)-s.get(o.id))}return r}allDataLayers(){return this.allLayers().filter(e=>!e.mapLayer&&e.initiationState===Qt.INITIATED)}allErrorLayers(){return this.allLayers().filter(e=>e.layerState===gr.ERROR)}allInitiatingLayers(){return this.allLayers().filter(e=>e.initiationState===Qt.INITIATING)}getLayerControls(e){const r=this.getLayer(e);if(!r)return;const i=r.config.controls?.slice()??[xr.BoundaryZoom,xr.Datatable,xr.Identify,xr.Metadata,xr.Opacity,xr.Refresh,xr.Reload,xr.Remove,xr.Settings,xr.Symbology,xr.Visibility],s=[];return r.supportsFeatures||s.push(xr.Datatable),r.extent===void 0&&s.push(xr.BoundaryZoom),(r.config?.metadata||(r.isSublayer?r.parentLayer?.config?.metadata:{})||{}).url||s.push(xr.Metadata),!r.mapLayer&&!r.config.controls?.includes(xr.Settings)&&s.push(xr.Settings),s.forEach(o=>{const a=i?.indexOf(o)??-1;a!==-1&&i?.splice(a,1)}),{controls:i,disabledControls:r.config.disabledControls??[]}}async loadLayerMetadata(e){if(!e.trim())throw new Error("url missing on layer server metadata request.");const[r,i]=await Hn(Fr(e,{query:{f:"json"}}));if(!i)throw console.error(`Service metadata load error: ${e}`,r),new Error(`Service metadata load error: ${e}`);if(!i.data)throw console.error(`Service metadata load error: ${e}`),new Error(`Service metadata load error: ${e}`);const s=i.data,n={geometryType:Je.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:mi.UNKNOWN,mapLayer:!0};if(n.name=s.name||"",n.currentVersion=s.currentVersion||-1,n.minScale=s.effectiveMinScale||s.minScale||0,n.maxScale=s.effectiveMaxScale||s.maxScale||0,n.extent=s.extent?er.fromArcServer(s.extent,"layer_extent"):void 0,n.defaultVisibility=s.defaultVisibility??!0,n.canModifyLayer=s.canModifyLayer??!0,s.type==="Feature Layer"||s.type==="Table"){if(n.dataFormat=mi.ESRI_FEATURE,n.displayField=s.displayField||"",Array.isArray(s.fields)){const o=await Promise.all(s.fields.map(l=>Nt.FieldFromJson(l)));n.fields=o.map(l=>({name:l.name,alias:l.alias,type:l.type,length:l.length})),o.every(l=>l.type==="oid"?(n.objectIdField=l.name,!1):!0)&&(n.objectIdField=s.objectIdField||(console.error(`Encountered service with no OID defined: ${e}`),"")),s.type==="Feature Layer"?(n.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(s.geometryType),s.drawingInfo?.renderer&&(n.renderer=await Nt.RendererFromJson(s.drawingInfo.renderer)),s.sourceSpatialReference&&(n.sourceSR=je.fromConfig(s.sourceSpatialReference))):n.mapLayer=!1}}else n.dataFormat=mi.ESRI_RASTER;return n}async loadFeatureCount(e,r=""){if(!e)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const i={query:{f:"json",where:r||"1=1",returnCountOnly:!0,returnGeometry:!1}},[s,n]=await Hn(Fr(`${e}/query`,i));return n?n.data?Number.isInteger(n.data.count)?n.data.count:(console.error(`Funny result (${n.data.count}) during feature count: ${e}`),0):(console.error(`Unable to load feature count: ${e}`),0):(console.error(`Feature count request unsuccessful: ${e}`,s),0)}}class YA extends Lr{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;get nameArcade(){return""}async setNameArcade(e){}tooltipField;get tooltipArcade(){return""}async setTooltipArcade(e){}oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;isSystem;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(e,r){super(r),this.config=e,this.id="",this.uid="",this.name="error",this.layerState=gr.NEW,this.drawState=fs.NOT_LOADED,this.initiationState=Qt.NEW,this.layerIdx=-1,this.layerFormat=js.UNKNOWN,this.layerType=Ne.UNKNOWN,this.dataFormat=mi.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=Wr.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.tooltipField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.isSystem=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Je.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}viewPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new Eg(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return je.latLongSR()}get visibility(){return!1}set visibility(e){}get opacity(){return 0}set opacity(e){}get scaleSet(){return new vL}set scaleSet(e){}isOffscale(e=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(e){}get touchTolerance(){return 0}set touchTolerance(e){}get drawOrder(){return[]}canIdentify(){return!1}nameValue(e){return""}tooltipValue(e){return""}runIdentify(e){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,r){return Promise.resolve(new Un(new Rl))}getIcon(e){return Promise.resolve("")}getSqlFilter(e){return""}setSqlFilter(e,r){}applySqlFilter(e=[]){}getFilterOIDs(e=[],r=void 0){return Promise.resolve(void 0)}getGraphicExtent(e){return Promise.resolve(er.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(e){if(!this.isSublayer&&e)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=e}get sublayers(){return this._sublayers}onLoad(){}onError(e=!0){}updateLayerState(e,r=!1){}updateDrawState(e){}updateInitiationState(e){}uidToIdx(e){if(e===this.uid)return-1;{const r=this._sublayers.findIndex(i=>i?.uid===e);if(r===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${e}]`);return r}}getSublayer(e){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let r;if(typeof e=="string"?r=this.uidToIdx(e):r=e,this._sublayers[r]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${e}]`);return this._sublayers[r]}controlAvailable(e){const r=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(e,r)}}class hD extends YA{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;nameArcadeFormula;nameArcadeExecutor;tooltipArcadeFormula;tooltipArcadeExecutor;constructor(e,r){super(e,r),this.name=e.name||"",this.geomType=Je.NONE,this.dataFormat=mi.UNKNOWN,this.layerType=Ne.UNKNOWN,this.layerFormat=js.UNKNOWN;const i=r.geo.map.layerDefaultTimes;this.expectedTime.draw=e.expectedDrawTime??i.draw,this.expectedTime.load=e.expectedLoadTime??i.load,this.expectedTime.fail=e.maxLoadTime||i.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=e,this.id=e.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isSystem=e.system||!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=Wr.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=gr.NEW,this.initiationState=Qt.NEW,this.drawState=fs.NOT_LOADED,this.loadDefProm=new Ir,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.nameArcadeFormula="",this.tooltipArcadeFormula="",this.layerTree=new Eg(0,this.uid,this.name,!0)}updateInitiationState(e){this.initiationState=e,this.$iApi.event.emit(Ie.LAYER_INITIATIONSTATECHANGE,{state:e,layer:this})}updateLayerState(e,r=!1){this.layerState=e,this.$iApi.event.emit(Ie.LAYER_LAYERSTATECHANGE,{state:e,layer:this,userCancel:r})}updateDrawState(e){this.drawState=e,e===fs.REFRESH?this.startTimer("draw"):e===fs.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(Ie.LAYER_DRAWSTATECHANGE,{state:e,layer:this})}async initiate(){this.updateInitiationState(Qt.INITIATING),this.startTimer("load");const e=n=>{this.layerState!==gr.ERROR&&(console.error(n),this.onError())},r=Date.now(),i=setTimeout(()=>{r>this.lastCancel&&(this.lastCancel=Date.now(),e("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[s]=await Hn(this.onInitiate());clearTimeout(i),r>this.lastCancel&&(this.drawState!==fs.UP_TO_DATE&&this.startTimer("draw"),s?e(`Init error on layer id: ${this.id} . ${s.message}`):this.updateInitiationState(Qt.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===Qt.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(Qt.TERMINATING),await Promise.all(this.sublayers.map(e=>e.terminate())),this.loadDefProm=new Ir,this.loadPromDone=!1,this.updateLayerState(gr.NEW),this.updateDrawState(fs.NOT_LOADED),this.updateInitiationState(Qt.TERMINATED)}onLoad(){const e=Date.now();let r=!1;const i=setTimeout(()=>{r=!0,this.onError()},this.expectedTime.fail);try{const s=this.onLoadActions();Promise.all(s).then(()=>{clearTimeout(i),r?this.visibility=!1:(this.stopTimer("load"),e>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new Ir),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onLoad()),this.updateLayerState(gr.LOADED)))}).catch(()=>{clearTimeout(i),this.onError()})}catch(s){console.error("Encountered error on layer load: ",s),clearTimeout(i),this.onError()}}onError(e=!0){this.layerState!==gr.ERROR&&(this.initiationState===Qt.INITIATING&&this.updateInitiationState(Qt.NEW),this.loadPromDone&&(this.loadDefProm=new Ir),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(r=>r.onError(e)),e&&this.$iApi.notify.show(Ds.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(gr.ERROR,!e))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===Qt.NEW||this.initiationState===Qt.TERMINATING||this.initiationState===Qt.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===gr.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,r){return this.stubError(),Promise.resolve(new Un(new Rl))}getIcon(e){return this.stubError(),Promise.resolve("")}getSqlFilter(e){return this.stubError(),""}setSqlFilter(e,r){this.stubError()}getFilterOIDs(e=[],r=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(e){return this.stubError(),Promise.resolve(er.fromParams("fake",0,0,0,0))}applySqlFilter(e=[]){this.stubError()}setCustomParameter(e,r,i=!0){this.stubError()}startTimer(e){this.stopTimer(e),this.expectedTime[e]>0&&(this.timers[e]=window.setTimeout(()=>this.$iApi.notify.show(Ds.WARNING,this.$iApi.$i18n.t(`layer.long${e}`,{id:this.name||this.id})),this.expectedTime[e]))}stopTimer(e){this.timers[e]&&(clearTimeout(this.timers[e]),this.timers[e]=void 0)}async arcadeGenerator(e){const r={variables:[{name:"$attr",type:"dictionary",properties:this.fields.map(i=>{const s=this.$iApi.geo.attributes.fieldTypeToArcade(i.type);return s?{name:i.name,type:s}:(console.error(`Encountered field type with no arcade support: ${i.type} [${i.name}]`),s)}).filter(i=>!!i)}]};return Nt.ArcadeExecutor(e,r)}get nameArcade(){return this.nameArcadeFormula}async setNameArcade(e){this.supportsFeatures?e.trim()===""?(this.nameArcadeFormula="",this.nameArcadeExecutor=void 0):(this.nameArcadeFormula=e,this.nameArcadeExecutor=await this.arcadeGenerator(e)):console.error("Attempted to set a name arcade function on a layer that doesn't support it.")}async nameInitializer(e,r=""){if(this.supportsFeatures){const i=(e?.nameArcade||"").trim();i&&await this.setNameArcade(i),this.nameField=(e?.nameField||"").trim()||r||this.oidField}else console.error("Attempted to init a name field on an unsupported layer.")}nameValue(e){if(e)if(this.nameArcade){const r={$attr:e};return this.nameArcadeExecutor?.execute(r)??"Arcade Error"}else return this.nameField?e[this.nameField]??"Name Field Error":"";else return""}get tooltipArcade(){return this.tooltipArcadeFormula}async setTooltipArcade(e){this.supportsFeatures?e.trim()===""?(this.tooltipArcadeFormula="",this.tooltipArcadeExecutor=void 0):(this.tooltipArcadeFormula=e,this.tooltipArcadeExecutor=await this.arcadeGenerator(e)):console.error("Attempted to set a tooltip arcade function on a layer that doesn't support it.")}async tooltipInitializer(e){if(this.supportsFeatures){const r=(e?.tooltipArcade||"").trim();r&&await this.setTooltipArcade(r),this.tooltipField=(e?.tooltipField||"").trim()}else console.error("Attempted to init a tooltip field on an unsupported layer.")}tooltipValue(e){if(e)if(this.tooltipArcade){const r={$attr:e};return this.tooltipArcadeExecutor?.execute(r)??"Arcade Error"}else return this.tooltipField?e[this.tooltipField]??this.nameValue(e):this.nameValue(e);else return""}}class mu extends hD{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(e,r){super(e,r),this._scaleSet=new vL,this._mouseTolerance=e.mouseTolerance!=null?e.mouseTolerance:5,this._touchTolerance=e.touchTolerance!=null?e.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=e.cosmetic||!1,this.extent=e.extent?er.fromConfig(`${this.id}_extent`,e.extent):void 0,this.viewDefProm=new Ir,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(Kr(()=>this.esriLayer.visible,e=>{this.$iApi.event.emit(Ie.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this})})),this.esriWatches.push(Kr(()=>this.esriLayer.opacity,e=>{this.$iApi.event.emit(Ie.LAYER_OPACITYCHANGE,{opacity:e,layer:this})})),this.esriWatches.push(Kr(()=>this.esriLayer.loadStatus,e=>{const r={"not-loaded":gr.LOADING,loading:gr.LOADING,loaded:gr.LOADED,failed:gr.ERROR};e==="loaded"?this.onLoad():e==="failed"?this.onError():this.updateLayerState(r[e])})),this.esriLayer.on("layerview-create",e=>{this.esriView=_r(e.layerView),this.esriWatches.push(Kr(()=>e.layerView.updating,r=>{this.updateDrawState(r?fs.REFRESH:fs.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(e=>e.initiate())}async terminate(){this.esriWatches.forEach(e=>e.remove()),this.esriWatches=[],this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new Ir}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const e=Date.now();if(this.$iApi.event.emit(Ie.LAYER_RELOAD_START,this),this.sublayers.forEach(r=>this.$iApi.event.emit(Ie.LAYER_RELOAD_START,r)),await this.terminate(),await this.initiate(),!(this.lastCancel>e)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(Ie.LAYER_RELOAD_END,this),this.sublayers.forEach(r=>this.$iApi.event.emit(Ie.LAYER_RELOAD_END,r))}}makeEsriLayerConfig(e){return{id:e.id,url:e.url,opacity:e?.state?.opacity??1,visible:e?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(r=>r.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const e=super.onLoadActions();this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify);const r=this.$iApi.geo.proj.checkProj(this.getSR()).then(i=>i?Promise.resolve():Promise.reject());return e.push(r),e}viewPromise(){return this.viewDefProm.getPromise()}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(e){this._scaleSet=e}isOffscale(e=void 0){let r;if(typeof e>"u")if(this.mapCheck())r=this.$iApi.geo.map.getScale();else return!1;else r=e;return this.scaleSet.isOffScale(r).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=e}get touchTolerance(){return this._touchTolerance}set touchTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=e}get layerExists(){return this.initiationState===Qt.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(e){this.layerExists?this.esriLayer.visible=e:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(e=>e.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(e){this.layerExists?this.esriLayer.opacity=e:this.noLayerErr()}getSR(){return this.esriLayer?je.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),je.latLongSR())}}class JA extends mu{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(e,r){super(e,r),this.supportsIdentify=!0,this.geomType=Je.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new bL(e.permanentFilteredQuery||"",e.initialFilteredQuery||""),this.hovertips=e.state?.hovertips??!0,this.attribs=new dD}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}async loadLayerMetadata(e={}){if(!this.serviceUrl)return;const r=Date.now(),i=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(r<this.lastCancel))if(this.geomType=i.geometryType,this.attribs.quickCache=new mD(this.geomType),this.scaleSet.minScale=i.minScale,this.scaleSet.maxScale=i.maxScale,this.dataFormat=i.dataFormat,this.extent=this.extent??i.extent,this._serverVisibility=i.defaultVisibility,this.origRampConfig.name||(this.name=i.name??this.id),this.dataFormat===mi.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===Ne.SUBLAYER?i.canModifyLayer:!0,this.fields=i.fields,this.nameField=i.displayField,this.oidField=i.objectIdField,this.sourceSR=i.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const s=e&&e.customRenderer&&e.customRenderer.type?e.customRenderer:i.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(s,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const n={supportsLimit:(i.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(Vi.PERMANENT)};this.attribs.attLoader=new pD(this.$iApi,n)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(e=>e.trim).map(e=>e.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,r){let i={},s=new Rl;const n=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(r.getAttribs||r.getStyle){const f=this.attribs.quickCache.getAttribs(e);if(f)i=f;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();i=d.features[d.oidIndex[e]]}else o=!0}if(r.getGeom){l=n.getScale();const f=this.attribs.quickCache.getGeom(e,l);if(f)s=f;else if(this.layerType===Ne.FEATURE){await this.viewPromise(),this.esriView.updating&&await new Promise(y=>{const v=Kr(()=>this.esriView.updating,b=>{b||(v.remove(),y())})});const d=await Nt.Query();d.objectIds=[e],d.returnGeometry=!0;const p=await this.esriView.queryFeatures(d);if(p.features.length){const y=p.features[0],v=this.$iApi.geo.geom.geomEsriToRamp(y.geometry);this.attribs.quickCache.setGeom(e,v,l),s=v}else a=!0}else a=!0}if(o||a){const f={oid:e,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(f.mapSR=n.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(f.maxOffset=n.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(f);a&&(this.attribs.quickCache.setGeom(e,d.geometry,l),s=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(e)>"u")&&(this.attribs.quickCache.setAttribs(e,d.attributes),o&&(i=d.attributes))}const c=new Un(s,"",r.getAttribs?i:void 0);if(r.getStyle){const f=Ge(this.renderer.getGraphicSymbol(i));c.style=this.$iApi.geo.geom.styleEsriToRamp(f)}return c}async getIcon(e){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const r=await this.getGraphic(e,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(r.attributes||{},this.renderer)}setSqlFilter(e,r){const i=this.filter.getSql(e);if(r===i)return;this.filter.setSql(e,r),this.$iApi.event.emit(Ie.FILTER_CHANGE,{uid:this.uid,filterKey:e});const s=`${this.uid}-${e}-${r}`;this._lastFilterUpdate=s,setTimeout(()=>{this._lastFilterUpdate===s&&this.applySqlFilter()},100)}applySqlFilter(e=[]){throw new Error(`attempted to apply sql filter ${e} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[],r=void 0){const i=this.filter.getCombinedSql(e),s=!!r;if(!(i||s))return;r&&this.filter.setExtent(r);const n=this.filter.sqlActiveFilters(e);let o=this.filter.getCache(n,s);if(!o){const a={filterGeometry:r,filterSql:i,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,n,s)}return o}queryOIDs(e){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const r={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(r)}async queryFeaturesDiscrete(e){const r=await this.queryOIDs(e),i={getGeom:!!e.includeGeometry,getAttribs:!0};return r.map(s=>({oid:s,graphic:this.getGraphic(s,i)}))}async queryFeatures(e){const r=await this.queryFeaturesDiscrete(e);return Promise.all(r.map(i=>i.graphic))}configDrawOrder(e,r){Array.isArray(e.drawOrder)&&e.drawOrder.length>0&&(r.orderBy=e.drawOrder.map(i=>{const s=i.ascending??!0?"ascending":"descending";return i.field?{field:i.field,order:s}:{valueExpression:i.arcade,order:s}}),this._drawOrder=e.drawOrder.slice())}}class fye extends mu{constructor(e,r){super(e,r),this.dataFormat=mi.ESRI_FEATURE,this.layerFormat=js.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}getGraphicCount(){return this._graphics.length}getLocalGraphic(e){return this._graphics.find(r=>r.id===e)}getEsriGraphic(e){return this.esriLayer?.graphics.find(r=>r.id===e)}get graphics(){return this._graphics.slice()}async addGraphic(e){if(!this.layerExists){this.noLayerErr();return}let r;e instanceof Array?r=e:r=[e];const i=r.filter(l=>this._graphics.findIndex(f=>f.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),s=this.$iApi.geo.map.getSR(),n=i.map(l=>this.$iApi.geo.proj.projectGeometry(s,l.geometry)),o=await Promise.all(n),a=i.map((l,c)=>{const f=new Un(o[c],l.id,l.attributes);return f.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(f)});this.esriLayer.addMany(a)}removeGraphic(e){if(!this.layerExists){this.noLayerErr();return}if(typeof e>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let r;Array.isArray(e)?r=e:r=[e],r.map(s=>typeof s=="string"?s:s.id).forEach(s=>{const n=this.esriLayer.graphics.findIndex(a=>a.id===s);n>-1&&this.esriLayer.graphics.removeAt(n);const o=this._graphics.findIndex(a=>a.id===s);o>-1&&this._graphics.splice(o,1)})}}class dye extends fye{constructor(e,r){super(e,r),this.layerType=Ne.GRAPHIC}async onInitiate(){this.esriLayer=_r(await Nt.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(fs.UP_TO_DATE),e}}class yu extends JA{esriJson;sourceGeoJson;constructor(e,r){super(e,r),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=mi.ESRI_FEATURE,this.layerFormat=js.FEATURE,this.layerIdx=0,e.identifyMode&&e.identifyMode!==Wr.NONE?this.identifyMode=e.identifyMode:this.identifyMode=Wr.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const e={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,e),this.esriLayer=_r(await Nt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(e){const r=super.makeEsriLayerConfig(e),i="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(n=>{r[n]=this.esriJson[n]}),this.origRampConfig.nameField?r.displayField=this.$iApi.geo.attributes.fieldValidator(r.fields,this.origRampConfig.nameField)||i:r.displayField=i,r.outFields=["*"],delete r.url,this.configDrawOrder(e,r),e.geomClustering&&(r.featureReduction=e.geomClustering),r}onLoadActions(){const e=super.onLoadActions(),r=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await Nt.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),await this.nameInitializer({nameArcade:this.origRampConfig.nameArcade},this.nameField);const i=this.origRampConfig.tooltipField?this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField):"";await this.tooltipInitializer({tooltipArcade:this.origRampConfig.tooltipArcade,tooltipField:i}),this.featureCount=this.esriLayer?.source.length||0};return e.push(r()),e.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(e).then(()=>{this.applySqlFilter()}),e}runIdentify(e){if(!this.canIdentify())return[];const r=new Ir,i=li({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[],a=[];if(this.identifyMode===Wr.HYBRID||this.identifyMode===Wr.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Je.POLYGON&&e.geometry.type===Je.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):l.filterGeometry=e.geometry,l.filterSql=this.getCombinedSqlFilter(),n=this.queryFeatures(l).then(c=>{o=c})}return e.hitTest&&(this.identifyMode===Wr.HYBRID||this.identifyMode===Wr.SYMBOLIC)&&(s=n.then(async()=>{const l=await e.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(f=>c.oid===f.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([s,n]).then(()=>{o.forEach(l=>{i.items.push(lm.makeRawItem(uh.ESRI,l.attributes))}),a.forEach(l=>{i.items.push(lm.makeOidItem(l,this))}),i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}extractLayerMetadata(){const e=this.esriLayer;if(!e)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(e.geometryType),this.scaleSet.minScale=e.minScale||0,this.scaleSet.maxScale=e.maxScale||0,this.extent=this.extent??er.fromESRI(e.fullExtent,this.id+"_extent");const r=_r(e.fields.slice());this.fields=r.map(s=>({name:s.name,alias:s.alias,type:s.type,length:s.length})),this.nameField=e.displayField,this.oidField=e.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(e.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const i={sourceGraphics:e.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new Nye(this.$iApi,i)}async getGraphic(e,r){let i;if(!r.getGeom&&this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();i=new Un(new Rl,"",s.features[s.oidIndex[e]])}else{const s={filterOIDs:[e],includeGeometry:!!r.getGeom},n=await this.queryFeatures(s);if(n.length===0)throw new Error(`Could not find object id ${e}`);n.length!==1&&console.warn("did not get a single result on a query for a specific object id"),i=n[0]}if(r.getStyle){const s=Ge(this.renderer.getGraphicSymbol(i.attributes));i.style=this.$iApi.geo.geom.styleEsriToRamp(s)}return i}async queryFeatures(e){const r={layer:this,...e};return this.$iApi.geo.query.geoJsonQuery(r)}async queryOIDs(e){const r={layer:this,...e};return(await this.$iApi.geo.query.geoJsonQuery(r)).map(s=>s.attributes?s.attributes[this.oidField]:-1)}applySqlFilter(e=[]){if(!this.esriView){this.noLayerErr();return}const r=this.filter.getCombinedSql(e);Nt.FeatureFilter({where:r}).then(i=>{Ge(this.esriView).filter=i})}}class pye extends yu{constructor(e,r){super(e,r),this.layerType=Ne.GEOJSON}async onInitiate(){let e;const r=Date.now();if(this.origRampConfig.rawData)e=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");r>this.lastCancel&&(this.sourceGeoJson=e,await super.onInitiate())}}class mye extends yu{constructor(e,r){super(e,r),this.layerType=Ne.SHAPEFILE}async onInitiate(){const e=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.shapefileToGeoJson(r);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class yye extends yu{constructor(e,r){super(e,r),this.layerType=Ne.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let e;const r=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")e=this.origRampConfig.rawData;else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(r>this.lastCancel){const i=await this.$iApi.geo.layer.files.csvToGeoJson(e,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});r>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class gye extends yu{constructor(e,r){super(e,r),this.layerType=Ne.GEOJSONZIPPED}async onInitiate(){const e=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(r);e>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(i)),await super.onInitiate())}}}class vye extends yu{constructor(e,r){super(e,r),this.layerType=Ne.FLATGEOBUF}async onInitiate(){const e=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.fgbToGeoJson(r,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class bye extends yu{constructor(e,r){super(e,r),this.layerType=Ne.FLATGEOBUFZIPPED}async onInitiate(){const e=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(r);if(e>this.lastCancel){const s=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}}}class _ye extends JA{constructor(e,r){super(e,r),this.dataFormat=mi.ESRI_FEATURE,this.supportsIdentify=!0,this.layerType=Ne.FEATURE,this.layerFormat=js.FEATURE,e.identifyMode&&e.identifyMode!==Wr.NONE?this.identifyMode=e.identifyMode:this.identifyMode=Wr.HYBRID}async onInitiate(){_r(this.esriLayer=await Nt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const r=super.makeEsriLayerConfig(e);return(e.initialFilteredQuery||e.permanentFilteredQuery)&&(r.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(e,r),e.geomClustering&&(r.featureReduction=e.geomClustering),r}onLoadActions(){const e=Date.now(),r=super.onLoadActions(),i=this.esriLayer.parsedUrl.path,n=this.$iApi.geo.shared.parseUrlIndex(i).index||0;this.layerIdx=n,this.serviceUrl=i;const o=async()=>{let l;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const c=await Nt.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=c,l={customRenderer:c}}else l={};await this.loadLayerMetadata(l),e>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()),await this.nameInitializer(this.origRampConfig,this.nameField),await this.tooltipInitializer(this.origRampConfig))},a=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Vi.PERMANENT)).then(l=>{e>this.lastCancel&&(this.featureCount=l)});return this.layerTree.layerIdx=n,r.push(a,o()),r}runIdentify(e){if(!this.canIdentify())return[];const r=new Ir,i=li({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[];if(this.identifyMode===Wr.HYBRID||this.identifyMode===Wr.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Je.POLYGON&&e.geometry.type===Je.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):a.filterGeometry=e.geometry,a.filterSql=this.getCombinedSqlFilter(),n=this.queryOIDs(a).then(l=>{o=l})}return e.hitTest&&(this.identifyMode===Wr.HYBRID||this.identifyMode===Wr.SYMBOLIC)&&(s=n.then(async()=>{(await e.hitTest).filter(l=>l.layerId===this.id&&o.findIndex(c=>l.oid===c)===-1).forEach(l=>{o.push(l.oid)})})),Promise.all([s,n]).then(()=>{o.forEach(a=>{i.items.push(lm.makeOidItem(a,this))}),i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}applySqlFilter(e=[]){if(this.layerExists){const r=this.filter.getCombinedSql(e);this.esriLayer.definitionExpression=r}else this.noLayerErr()}getGraphicExtent(e){return new Promise((r,i)=>{if(!this.layerExists)this.noLayerErr(),i();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),i();else{const s=this.attribs.quickCache.getExtent(e);s?r(s):this.esriLayer.queryExtent({objectIds:[e],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(n=>{const o=er.fromESRI(n.extent);this.attribs.quickCache.setExtent(e,o),r(o)}).catch(()=>{console.error(`Extent querying failed for ${e}.`),i()})}})}}class wye extends mu{isDynamic;origState;constructor(e,r){super(e,r),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=Ne.MAPIMAGE,this.layerFormat=js.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=Wr.GEOMETRIC}async onInitiate(){this.esriLayer=_r(await Nt.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const r=super.makeEsriLayerConfig(e);return this.origState={visibility:r.visible,opacity:r.opacity},r.visible=!1,e.imageFormat&&(r.imageFormat=e.imageFormat),r}onLoadActions(){const e=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),e;const r=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(Ds.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??er.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const i=l=>{const c=this.esriLayer?.allSublayers.find(f=>f.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},s={};this.origRampConfig.sublayers.forEach(l=>{s[l.index||0]=l});const n=[],o=(l,c)=>{const f=l.id,d=s[f];if(l.sublayers&&l.sublayers.length>0){const p=(d?d.name:"")||l.title||"",y=new Eg(f,"",p,!1);c.findChildByIdx(f)||c.children.push(y),l.sublayers.reverse().forEach(v=>{o(v,y)})}else{this._sublayers[f]||(this._sublayers[f]=new xye({id:this.$iApi.geo.layer.sublayerId(this.id,f),index:f,layerType:Ne.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const p=this._sublayers[f];if(p.isRemoved)return;if(p.name=d?.name||l.title||"",n.push(p),!c.children.map(y=>y.layerIdx).includes(f)){const y=new Eg(f,p.uid,p.name,!1);c.children.push(y)}p.esriWatches.push(Kr(()=>l.visible,()=>{this.$iApi.event.emit(Ie.LAYER_VISIBILITYCHANGE,{visibility:p.visibility,layer:p}),p.parentLayer?.checkVisibility()}),Kr(()=>l.opacity,y=>{this.$iApi.event.emit(Ie.LAYER_OPACITYCHANGE,{opacity:y,layer:p})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=i(l.index||0);o(c,this.layerTree)}});const a=n.map(async l=>{const c=i(l.layerIdx),f=s[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),r<this.lastCancel)return;const d={};if(l.esriSubLayer&&f?.customRenderer?.type){const y=await Nt.RendererFromJson(f.customRenderer);l.esriSubLayer.renderer=y,d.customRenderer=y}if(await l.loadLayerMetadata(d),r<this.lastCancel)return;const p=s[l.layerIdx];if(p?(l.visibility=l.isRemoved?!1:p.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=p.state?.opacity??this.origState.opacity??1,this.$iApi.geo.attributes.applyFieldMetadata(l,p.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(Ds.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim(),await l.nameInitializer(p,l.nameField);const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(Vi.PERMANENT));r>this.lastCancel&&(l.featureCount=y)}});return e.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!n.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,e}updateLayerState(e,r=!1){super.updateLayerState(e,r),this.sublayers.forEach(i=>i.updateLayerState(e,r))}updateDrawState(e){super.updateDrawState(e),this.sublayers.forEach(r=>r.updateDrawState(e))}runIdentify(e){if(!this.canIdentify())return[];e.sublayerIds&&(e.sublayerIds=e.sublayerIds.map(s=>typeof s=="number"?this.layerTree?.findChildByIdx(s)?.uid:s));const r=e.sublayerIds?this._sublayers.filter(s=>e.sublayerIds?.includes(s.uid)):this._sublayers.filter(s=>s.canIdentify());if(r.length===0)return[];let i;return e.geometry.type===Je.POINT&&(i=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance)),r.map(s=>{const n=new Ir,o={},a=li({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:s.uid,layerId:s.id,requestTime:Date.now()});return s.geomType!==Je.POLYGON&&i?o.filterGeometry=i:o.filterGeometry=e.geometry,o.filterSql=s.getCombinedSqlFilter(),o.sourceSR=s.sourceSR,s.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(lm.makeOidItem(c,s))}),a.loaded=!0,n.resolveMe()}).catch(()=>{a.errored=!0,n.resolveMe()}),a})}}class xye extends JA{constructor(e,r,i){if(super(e,r),this.layerType=Ne.SUBLAYER,this.layerFormat=js.MAPIMAGE,this.isSublayer=!0,this.layerIdx=e.index,this.parentLayer=i,this.isSystem=i.isSystem,this.dataFormat=mi.ESRI_FEATURE,this.supportsFeatures=!0,this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!i.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(i),(e.initialFilteredQuery||e.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(e){if(!e.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=_r(e.esriLayer.allSublayers.find(r=>r.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=Qt.INITIATED;const e=this.labelVizOverride();e!==void 0&&(this.labelVisibility=e)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===Qt.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(e){this.layerExists?this.esriSubLayer.visible=e:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(e){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=e}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(e){this.layerExists?this.parentLayer.mouseTolerance=e:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(e){this.layerExists?this.parentLayer.touchTolerance=e:this.noLayerErr()}applySqlFilter(e=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const r=this.filter.getCombinedSql(e);this.esriSubLayer.definitionExpression=r}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const e=this._parentLayer?.esriLayer?.spatialReference;return e?je.fromESRI(e):je.latLongSR()}else return this.noLayerErr(),je.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(e){this.layerExists?this.esriSubLayer.labelsVisible=e:this.noLayerErr()}labelVizOverride(){let e=this.origRampConfig.labels?.visible;if(e!==void 0||(e=this.$iApi.geo.map.labelsDefault?.visible,e!==void 0))return e}}class Eye extends mu{constructor(e,r){super(e,r),this.supportsIdentify=!1,this.layerType=Ne.OSM,this.layerFormat=js.OSM,this.dataFormat=mi.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=_r(await Nt.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const r=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),i={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:r.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(i),e}}class Sye extends mu{constructor(e,r){super(e,r),this.supportsIdentify=!1,this.layerType=Ne.IMAGERY,this.layerFormat=js.IMAGERY,this.dataFormat=mi.ESRI_RASTER}async onInitiate(){this.esriLayer=_r(await Nt.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const r=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{r>this.lastCancel&&(this.legend=s)});return e.push(i),e}}class Aye extends mu{constructor(e,r){super(e,r),this.supportsIdentify=!1,this.layerType=Ne.TILE,this.layerFormat=js.TILE,this.dataFormat=mi.ESRI_TILE}async onInitiate(){this.esriLayer=_r(await Nt.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions(),r=Date.now();this.layerTree.name=this.name;const i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{r>this.lastCancel&&(this.legend=s)});return e.push(i),e.push(this.checkProj()),e}checkProj(){const e=this.getSR(),i=this.$iApi.geo.map.getSR().isEqual(e);if(this.layerState===gr.LOADED&&!i)this.$iApi.notify.show(Ds.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();else if(this.layerState===gr.ERROR&&i)this.reload();else if(this.layerState!==gr.ERROR&&!i)return this.$iApi.notify.show(Ds.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject();return Promise.resolve()}}class Tye extends mu{sublayerNames;mimeType;constructor(e,r){super(e,r),this.supportsIdentify=!0,this.layerType=Ne.WMS,this.layerFormat=js.WMS,this.mimeType=e.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=mi.OGC_RASTER,this.identifyMode=Wr.GEOMETRIC}async onInitiate(){this.esriLayer=_r(await Nt.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const r=super.makeEsriLayerConfig(e),i=e.sublayers;this.sublayerNames=i.map(n=>n.id||"error_no_wms_id");const s=i.map(n=>n.currentStyle).join();return r.customParameters={styles:s},e.url.indexOf("/geomet")!==-1&&(r.customParameters.layers=i[0].id),r}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const r=i=>{let s=!1;return i.forEach(n=>{this.sublayerNames.indexOf(n.name)>-1||n.sublayers&&n.sublayers.length>0&&r(n.sublayers)?s=!0:n.visible=!1}),s};return this.layerExists?r(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),e}canIdentify(){return super.canIdentify()}runIdentify(e){if(e.geometry.type!==Je.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const r=new Ir,i=li({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,e.geometry,this.mimeType).then(s=>{if(s){let n=!0,o;typeof s!="string"?o=uh.JSON:s.indexOf("Search returned no results")===-1&&s!==""?o=uh.TEXT:(n=!1,o=uh.UNKNOWN),n&&i.items.push(lm.makeRawItem(o,s))}i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}setCustomParameter(e,r,i=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[e]=r,i&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(e,r,i){const s=this.$iApi.geo.map,n=this.esriLayer;if(!s.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!n)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=s.getExtent(),c=n.spatialReferences,f=e.join(","),d=s.esriView.toScreen(r.toESRI()),p=Math.floor(d.x),y=Math.floor(d.y),b={"application/json":"json","text/html":"text","text/plain":"text"}[i]||"text",S=s.getSR();S.wkid?o=S.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(S.latestWkid&&c.indexOf(S.latestWkid)>-1?o=S.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),n.version==="1.3"||n.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:p,J:y,STYLES:"",FORMAT:n.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:p,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const E={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:n.version,WIDTH:s.getPixelWidth(),HEIGHT:s.getPixelHeight(),QUERY_LAYERS:f,LAYERS:f,INFO_FORMAT:i},T=n.customLayerParameters;return T&&Object.keys(T).forEach(w=>{w.toLowerCase()!=="styles"&&(E[w]=T[w])}),Object.keys(E).forEach(w=>a[w]=E[w]),Fr(n.url.split("?")[0],{query:a,responseType:b})}getLegendUrls(e){if(!this.layerExists)return this.noLayerErr(),[];const r=new Map;this.esriLayer.allSublayers.forEach(s=>{s.visible&&(s.legendUrl&&this.origRampConfig.sublayers?.forEach(n=>{if(n.id&&n.currentStyle&&n.id===s.name){const o=new Sg(s.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==n.currentStyle&&(s.legendUrl=o.updateQuery({STYLE:n.currentStyle}))}}),r.set(s.name,s.legendUrl))});const i=e.map(s=>s.styleLegends&&s.currentStyle?s.styleLegends.find(n=>n.name===s.currentStyle).url:void 0);return i.forEach((s,n)=>{s||(i[n]=r.get(e[n].id))}),i}getWMSLayerTitle(e){if(!this.esriLayer)return"";let r;return this.esriLayer.allSublayers.some(i=>i.name===e?(r=i.title,!0):!1),r||""}loadSymbology(){const e=Date.now(),r=this.config.sublayers,i=this.getLegendUrls(r.map(s=>({id:s.id,styleLegends:s.styleLegends,currentStyle:s.currentStyle}))).map((s,n)=>{const o=r[n].name||this.getWMSLayerTitle(r[n].id)||r[n].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(s).then(l=>{e>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=i}}class Mye extends yu{constructor(e,r){super(e,r),this.layerType=Ne.WFS}async onInitiate(){const e=Date.now(),r=new Sg(this.config.url),{offset:i,limit:s}=r.queryMap,n=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(i)||0,parseInt(s)||1e3,void 0,this.config.xyInAttribs);e>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}class fD extends hD{sourceJson;attribs;_visibility;constructor(e,r){super(e,r),this.dataFormat=mi.ESRI_FEATURE,this.layerFormat=js.NOLAYER,this.drawState=fs.NOT_VISUAL,this.attribs=new dD,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=e.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const e=this.sourceJson;if(e.data.length===0||e.fields.length===0)throw new Error("Data layer with no columns or now rows.");const r=e.fields.slice(),i=e.data[0].slice(),s=/ /gi;this.fields=r.map((c,f)=>{let d="",p=c;c.indexOf(" ")>-1&&(d=c,p=c.trim().replace(s,"-"),e.fields[f]=p);const y=this.$iApi.geo.layer.files.inferType(i[f]);return{name:p,alias:d,type:y,length:y===na.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:na.OID}),e.fields.push(this.oidField),e.data.forEach((c,f)=>c.push(f+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const n={batchSize:-1,sourceDataJson:e,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new Pye(this.$iApi,n),await this.attribs.attLoader.getAttribs(),this.featureCount=e.data.length;const o=this.origRampConfig.nameField,l={nameField:o?this.$iApi.geo.attributes.fieldValidator(this.fields,o):"",nameArcade:this.origRampConfig.nameArcade};await this.nameInitializer(l,""),this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(Ie.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==gr.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(Ie.LAYER_RELOAD_END,this)},300)}onLoadActions(){const e=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(r=>{this.legend[0].svgcode=r})}],e}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,r){let i={};if(this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();i=s.features[s.oidIndex[e]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Un(new Rl,"",i)}async getIcon(e){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(e=[],r=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this.$iApi.event.emit(Ie.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this}))}}class $ye extends fD{constructor(e,r){super(e,r),this.layerType=Ne.DATAJSON}async onInitiate(){const e=Date.now();let r;if(this.origRampConfig.rawData)r=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)r=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");e>this.lastCancel&&(this.sourceJson=r,await super.onInitiate())}}class Oye extends fD{filter;serviceUrl;constructor(e,r){super(e,r),this.layerType=Ne.DATATABLE,this.serviceUrl=e.url,this.filter=new bL(e.permanentFilteredQuery||"",e.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const e=super.onLoadActions(),r=Date.now(),s=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,n=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(a=>{if(r<this.lastCancel)return;this.name||(this.name=a.name),this.layerTree.name=this.name,this.oidField=a.objectIdField,this.fields=a.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.nameInitializer(this.origRampConfig,a.displayField);const l={supportsLimit:(a.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(Vi.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new pD(this.$iApi,l),this.attribs.quickCache=new mD(this.geomType)}),o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Vi.PERMANENT)).then(a=>{r>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=s,e.push(n,o),e}async getGraphic(e){let r={};const i=this.attribs.quickCache.getAttribs(e);if(i)r=i;else if(this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();r=n.features[n.oidIndex[e]]}else{const n={oid:e,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},o=await this.$iApi.geo.attributes.loadSingleFeature(n);this.attribs.quickCache.setAttribs(e,o.attributes),r=o.attributes}return new Un(new Rl,"",r)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(e,r){const i=this.filter.getSql(e);r!==i&&(this.filter.setSql(e,r),this.$iApi.event.emit(Ie.FILTER_CHANGE,{uid:this.uid,filterKey:e}))}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[]){const r=this.filter.getCombinedSql(e);if(!r)return;const i=this.filter.sqlActiveFilters(e);let s=this.filter.getCache(i,!1);if(!s){const n={filterSql:r,includeGeometry:!1};s=this.queryOIDs(n),this.filter.setCache(s,i,!1)}return s}queryOIDs(e){const r={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(r)}async queryFeaturesDiscrete(e){return(await this.queryOIDs(e)).map(i=>({oid:i,graphic:this.getGraphic(i)}))}async queryFeatures(e){const r=await this.queryFeaturesDiscrete(e);return Promise.all(r.map(i=>i.graphic))}}const Iye=new Map([["integer","number"],["small-integer","number"],["big-integer","number"],["single","number"],["double","number"],["long","number"],["oid","number"],["string","text"],["geometry","geometry"],["date","date"]]);class Cye extends Lr{oidIndexer(e,r){e.features.forEach((i,s)=>{e.oidIndex[i[r]]=s})}async arcGisBatchLoad(e,r){if(r.loadAbortFlag)return[];const i=e.permanentFilter?` AND ${e.permanentFilter}`:"",s={query:{where:`${e.oidField}>${e.maxId}${i}`,outFields:e.attribs,orderByFields:e.oidField,returnGeometry:"false",f:"json"}},[n,o]=await Hn(Fr(e.serviceUrl+"/query",s));if(!o)return console.error(`ArcGIS batch load error: ${e.serviceUrl}`,n),Promise.reject(new Error(`ArcGIS batch load error: ${e.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){r.loadedCount+=l;let c;if(e.supportsLimit?c=o.data.exceededTransferLimit:(e.batchSize===-1&&(e.batchSize=l),c=l>=e.batchSize),a=this.trimFeatureSetAttributes(a,e.fieldsToTrim??[]),c){e.maxId=a[l-1].attributes[e.oidField];const f=await this.arcGisBatchLoad(e,r);return r.loadAbortFlag?[]:a.concat(f)}else return r.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(e,r){e.maxId=-1,e.batchSize=-1;const s={features:(await this.arcGisBatchLoad(e,r)).map(n=>n.attributes),oidIndex:{}};return this.oidIndexer(s,e.oidField),r.loadIsDone=!0,s}async loadGraphicsAttributes(e,r){if(!e.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const s={features:e.sourceGraphics.map(n=>Ge(n).attributes).toArray(),oidIndex:{}};return this.oidIndexer(s,e.oidField),r.loadIsDone=!0,r.loadedCount=s.features.length,s}async loadCompactJsonAttributes(e,r){if(!e.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const i=e.sourceDataJson.fields,s=e.fieldsToTrim??[],o={features:e.sourceDataJson.data.map(a=>{const l={};return a.forEach((c,f)=>{l[i[f]]=typeof c=="string"&&s.includes(i[f])?c.trim():c}),l}),oidIndex:{}};return this.oidIndexer(o,e.oidField),r.loadIsDone=!0,r.loadedCount=o.features.length,e.sourceDataJson=void 0,o}async loadSingleFeature(e){const r={query:{f:"json",objectIds:e.oid,returnGeometry:e.includeGeometry,outFields:e.attribs}};typeof e.maxOffset<"u"&&(r.query.maxAllowableOffset=e.maxOffset),typeof e.mapSR<"u"&&(r.query.outSR=e.mapSR),typeof e.geometryPrecision<"u"&&e.geometryPrecision>=0&&(r.query.geometryPrecision=e.geometryPrecision);const[i,s]=await Hn(Fr(e.serviceUrl+"/query",r));if(!s)return console.error(`ArcGIS single feature load error: ${e.serviceUrl}`,i),Promise.reject(new Error(`ArcGIS single feature load error: ${e.serviceUrl}`));if(!s.data||!s.data.features)return console.error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`));const n=s.data.features;if(n.length>0){let o;const a=this.trimFeatureSetAttributes([n[0]],e.fieldsToTrim??[])[0];if(e.includeGeometry){a.geometry.spatialReference=s.data.spatialReference;const l=YE(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new Rl;return new Un(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`))}trimFeatureSetAttributes(e,r){return r.forEach(i=>{e.forEach(s=>{typeof s.attributes[i]=="string"&&(s.attributes[i]=s.attributes[i].trim())})}),e}orderFields(e,r){const i=(n,o)=>n.findIndex(a=>a.name===o),s=(n,o)=>{const a=i(r,n.name),l=i(r,o.name);return a===-1&&l===-1?i(e,n.name)-i(e,o.name):a===-1?1:l===-1?-1:a-l};return e.slice().sort(s)}applyFieldMetadata(e,r=void 0){if(!r||!r.fieldInfo){e.fieldList="*";return}const i=r.fieldInfo.filter(s=>s.trim).map(s=>s.name);if(e.fields.forEach(s=>{i.includes(s.name)&&(s.trim=!0)}),r?.enforceOrder&&r?.fieldInfo&&r?.fieldInfo.length>0&&(e.fields=this.orderFields(e.fields,r.fieldInfo),e.fieldList=r.fieldInfo.map(s=>s.name).join(",")),r.exclusiveFields){r.fieldInfo.find(n=>n.name===e.oidField)||r.fieldInfo.push({name:e.oidField}),e.fieldList=r.fieldInfo.map(n=>n.name).join(",");const s=r.fieldInfo;e.fields=e.fields.filter(n=>s.find(o=>o.name===n.name))}else e.fieldList="*";r.fieldInfo.forEach(s=>{if(s.alias){const n=e.fields.find(o=>o.name===s.name);n&&(n.alias=s.alias)}})}fieldValidator(e,r){if(e.findIndex(i=>i.name===r)===-1){const i=e.find(s=>s.alias===r);return i?i.name:(console.warn(`Cannot find name field in layer field list: ${r}`),"")}else return r}async generateTabularAttributes(e,r){return r.attLoader.tabularAttributesCache||(r.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(e,r)),r.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(e,r){if(e.dataFormat===mi.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const i=await r.attLoader.getAttribs();if(!i.features||i.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const s=e.fields.filter(o=>Object.prototype.hasOwnProperty.call(i.features[0],Ge(o).name)).map(o=>({data:Ge(o).name,title:Ge(o).alias||Ge(o).name})),n=i.features.map(o=>{const a=_L({},o);return a.rvInteractive="",a.rvSymbol=e.getIcon(o[e.oidField]),a.rvUid=e.uid,a});return s.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);n.forEach(c=>{c[l]=a})}}),{columns:s,rows:n,fields:e.fields,oidField:e.oidField}}fieldTypeToArcade(e){return Iye.get(e)}}class dD{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(e){this._attribLoader=e}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(e){this._quickCache=e}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class NI{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class KA extends Lr{aac;loadPromise;details;tabularAttributesCache;constructor(e,r){super(e),this.aac=new NI,this.details=r}updateFieldList(e){this.details.attribs=e}updateFieldsToTrim(e){this.details.fieldsToTrim=e}getAttribs(){return this.loadPromise||(this.aac=new NI,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class pD extends KA{constructor(e,r){super(e,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class Nye extends KA{constructor(e,r){super(e,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class Pye extends KA{constructor(e,r){super(e,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class mD{attribs;geoms;extents;isPoint;constructor(e){this.attribs={},this.geoms={},this.extents={},this.isPoint=e===Je.POINT||e===Je.MULTIPOINT}getScaleStore(e){return this.geoms[e]||(this.geoms[e]={}),this.geoms[e]}getGeomStore(e=void 0){if(this.isPoint)return this.geoms;if(typeof e>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(e)}getAttribs(e){return this.attribs[e]}setAttribs(e,r){this.attribs[e]=r}getGeom(e,r=void 0){return this.getGeomStore(r)[e]}setGeom(e,r,i=void 0){const s=this.getGeomStore(i);s[e]=r}getExtent(e){return this.extents[e]}setExtent(e,r){this.extents[e]=r}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class ZA{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(e,r,i=!1){this.innerRenderer=e,this.symbolUnits=[],this.falseRenderer=i,this.type=Fv.Unknown}makeSearchParams(e){return e}searchRenderer(e){const r=this.makeSearchParams(e),i=this.symbolUnits.find(n=>n.match(r));if(i)return i;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${r}`);const s=new fb(this);return s.svgCode="",s}getGraphicIcon(e){return this.searchRenderer(e).svgCode}getGraphicSymbol(e){return this.searchRenderer(e).symbol}getFieldDelimiter(e,r){let i="'";if(!r||r.length===0)return i;const s=r.find(n=>n.name===e);return s&&s.type&&s.type!=="string"&&(i=""),i}cleanFieldName(e,r){if(!e)return e;let i=r.find(s=>s.name===e);if(i)return e;{const s=e.toLowerCase();return i=r.find(n=>n.name.toLowerCase()===s),i?i.name:e}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(r=>r.definitionClause).join(" OR ")}))`}}class fb{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(e){this.parent=e,this.symbol=new qr}match(e){return!!e}}class Lye extends ZA{constructor(e,r){super(e,r),this.type=Fv.Simple;const i=new fb(this);i.label=e.label||"",i.symbol=e.symbol,i.definitionClause="",this.symbolUnits.push(i)}}class Rye extends ZA{delim;keyFields;constructor(e,r,i=!1){super(e,r,i),this.type=Fv.Unique,this.delim=e.fieldDelimiter||", ";const s=o=>o.replace(/'/g,"''");this.keyFields=[e.field,e.field2,e.field3].filter(o=>o).map(o=>this.cleanFieldName(o,r));const n=this.keyFields.map(o=>this.getFieldDelimiter(o,r));if(e.uniqueValueInfos.forEach(o=>{const a=new PI(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((f,d)=>l[d]==="<Null>"?`${f} IS NULL`:`${f} = ${n[d]}${s(l[d])}${n[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),e.defaultSymbol){const o=new PI(this,"");o.isDefault=!0,o.label=e.defaultLabel||"",o.symbol=e.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(e){return this.keyFields.map(r=>{let i=e[r]===null?"":e[r];return typeof i!="string"&&(i=i.toString()),i}).join(this.delim)}}class PI extends fb{matchValue;constructor(e,r){super(e),typeof r=="number"?this.matchValue=r.toString():this.matchValue=r}match(e){return this.matchValue===e}}class kye extends ZA{valField;constructor(e,r,i=!1){if(super(e,r,i),this.valField=this.cleanFieldName(e.field,r),e.classBreakInfos.forEach((s,n)=>{const o=n===0,a=new LI(this,s.minValue,s.maxValue,o);a.label=s.label||"",a.symbol=s.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${s.minValue} AND ${this.valField} <= ${s.maxValue})`),this.symbolUnits.push(a)}),e.defaultSymbol){const s=new LI(this,0,0,!1);s.isDefault=!0,s.label=e.defaultLabel||"",s.symbol=e.defaultSymbol,s.definitionClause=this.makeElseClause(),this.defaultUnit=s}}makeSearchParams(e){return parseFloat(e[this.valField])}}class LI extends fb{minValue;maxValue;firstBreak;constructor(e,r,i,s){super(e),this.minValue=r,this.maxValue=i,this.firstBreak=s}match(e){return this.minValue===this.maxValue?this.maxValue===e:this.firstBreak?this.minValue<=e&&this.maxValue>=e:this.minValue<e&&this.maxValue>=e}}var B0={exports:{}};/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.7.1
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)
*/var Dye=B0.exports,RI;function Fye(){return RI||(RI=1,function(t,e){(function(r,i){t.exports=r.document?i(r,r.document):function(s){return i(s,s.document)}})(typeof window<"u"?window:Dye,function(r,i){var s=typeof this<"u"?this:r,n=s.SVG=function(h){if(n.supported)return h=new n.Doc(h),n.parser.draw||n.prepare(),h};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.com/svgjs",n.supported=function(){return!!i.createElementNS&&!!i.createElementNS(n.ns,"svg").createSVGRect}(),!n.supported)return!1;n.did=1e3,n.eid=function(h){return"Svgjs"+S(h)+n.did++},n.create=function(h){var m=i.createElementNS(this.ns,h);return m.setAttribute("id",this.eid(h)),m},n.extend=function(){var h,m,x,I;for(h=[].slice.call(arguments),m=h.pop(),I=h.length-1;I>=0;I--)if(h[I])for(x in m)h[I].prototype[x]=m[x];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(h){var m=typeof h.create=="function"?h.create:function(){this.constructor.call(this,n.create(h.create))};return h.inherit&&(m.prototype=new h.inherit),h.extend&&n.extend(m,h.extend),h.construct&&n.extend(h.parent||n.Container,h.construct),m},n.adopt=function(h){if(!h)return null;if(h.instance)return h.instance;var m;return h.nodeName=="svg"?m=h.parentNode instanceof r.SVGElement?new n.Nested:new n.Doc:h.nodeName=="linearGradient"?m=new n.Gradient("linear"):h.nodeName=="radialGradient"?m=new n.Gradient("radial"):n[S(h.nodeName)]?m=new n[S(h.nodeName)]:m=new n.Element(h),m.type=h.nodeName,m.node=h,h.instance=m,m instanceof n.Doc&&m.namespace().defs(),m.setData(JSON.parse(h.getAttribute("svgjs:data"))||{}),m},n.prepare=function(){var h=i.getElementsByTagName("body")[0],m=(h?new n.Doc(h):n.adopt(i.documentElement).nested()).size(2,0);n.parser={body:h||i.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},i.addEventListener("DOMContentLoaded",function(){n.parser.draw||n.prepare()},!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(h,m){var x,I=h.length,V=[];for(x=0;x<I;x++)V.push(m(h[x]));return V},filter:function(h,m){var x,I=h.length,V=[];for(x=0;x<I;x++)m(h[x])&&V.push(h[x]);return V},radians:function(h){return h%360*Math.PI/180},degrees:function(h){return h*180/Math.PI%360},filterSVGElements:function(h){return this.filter(h,function(m){return m instanceof r.SVGElement})}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(h){var m;this.r=0,this.g=0,this.b=0,h&&(typeof h=="string"?n.regex.isRgb.test(h)?(m=n.regex.rgb.exec(h.replace(n.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):n.regex.isHex.test(h)&&(m=n.regex.hex.exec(E(h)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof h=="object"&&(this.r=h.r,this.g=h.g,this.b=h.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+T(this.r)+T(this.g)+T(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(h){return this.destination=new n.Color(h),this},at:function(h){return this.destination?(h=h<0?0:h>1?1:h,new n.Color({r:~~(this.r+(this.destination.r-this.r)*h),g:~~(this.g+(this.destination.g-this.g)*h),b:~~(this.b+(this.destination.b-this.b)*h)})):this}}),n.Color.test=function(h){return h+="",n.regex.isHex.test(h)||n.regex.isRgb.test(h)},n.Color.isRgb=function(h){return h&&typeof h.r=="number"&&typeof h.g=="number"&&typeof h.b=="number"},n.Color.isColor=function(h){return n.Color.isRgb(h)||n.Color.test(h)},n.Array=function(h,m){h=(h||[]).valueOf(),h.length==0&&m&&(h=m.valueOf()),this.value=this.parse(h)},n.extend(n.Array,{morph:function(h){if(this.destination=this.parse(h),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],x=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(x);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var h=0,m=this.value.length,x=[];h<m;h++)x.indexOf(this.value[h])==-1&&x.push(this.value[h]);return this.value=x},at:function(h){if(!this.destination)return this;for(var m=0,x=this.value.length,I=[];m<x;m++)I.push(this.value[m]+(this.destination[m]-this.value[m])*h);return new n.Array(I)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(h){return h=h.valueOf(),Array.isArray(h)?h:this.split(h)},split:function(h){return h.trim().split(n.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var h=new this.constructor;return h.value=p(this.value),h}}),n.PointArray=function(h,m){n.Array.call(this,h,m||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray,n.extend(n.PointArray,{toString:function(){for(var h=0,m=this.value.length,x=[];h<m;h++)x.push(this.value[h].join(","));return x.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(h){if(!this.destination)return this;for(var m=0,x=this.value.length,I=[];m<x;m++)I.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*h,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*h]);return new n.PointArray(I)},parse:function(h){var m=[];if(h=h.valueOf(),Array.isArray(h)){if(Array.isArray(h[0]))return h.map(function(V){return V.slice()});if(h[0].x!=null)return h.map(function(V){return[V.x,V.y]})}else h=h.trim().split(n.regex.delimiter).map(parseFloat);h.length%2!==0&&h.pop();for(var x=0,I=h.length;x<I;x=x+2)m.push([h[x],h[x+1]]);return m},move:function(h,m){var x=this.bbox();if(h-=x.x,m-=x.y,!isNaN(h)&&!isNaN(m))for(var I=this.value.length-1;I>=0;I--)this.value[I]=[this.value[I][0]+h,this.value[I][1]+m];return this},size:function(h,m){var x,I=this.bbox();for(x=this.value.length-1;x>=0;x--)I.width&&(this.value[x][0]=(this.value[x][0]-I.x)*h/I.width+I.x),I.height&&(this.value[x][1]=(this.value[x][1]-I.y)*m/I.height+I.y);return this},bbox:function(){return n.parser.poly.setAttribute("points",this.toString()),n.parser.poly.getBBox()}});for(var o={M:function(h,m,x){return m.x=x.x=h[0],m.y=x.y=h[1],["M",m.x,m.y]},L:function(h,m){return m.x=h[0],m.y=h[1],["L",h[0],h[1]]},H:function(h,m){return m.x=h[0],["H",h[0]]},V:function(h,m){return m.y=h[0],["V",h[0]]},C:function(h,m){return m.x=h[4],m.y=h[5],["C",h[0],h[1],h[2],h[3],h[4],h[5]]},S:function(h,m){return m.x=h[2],m.y=h[3],["S",h[0],h[1],h[2],h[3]]},Q:function(h,m){return m.x=h[2],m.y=h[3],["Q",h[0],h[1],h[2],h[3]]},T:function(h,m){return m.x=h[0],m.y=h[1],["T",h[0],h[1]]},Z:function(h,m,x){return m.x=x.x,m.y=x.y,["Z"]},A:function(h,m){return m.x=h[5],m.y=h[6],["A",h[0],h[1],h[2],h[3],h[4],h[5],h[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(h){return function(m,x,I){if(h=="H")m[0]=m[0]+x.x;else if(h=="V")m[0]=m[0]+x.y;else if(h=="A")m[5]=m[5]+x.x,m[6]=m[6]+x.y;else for(var V=0,Y=m.length;V<Y;++V)m[V]=m[V]+(V%2?x.y:x.x);return o[h](m,x,I)}}(a[l].toUpperCase());n.PathArray=function(h,m){n.Array.call(this,h,m||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return P(this.value)},move:function(h,m){var x=this.bbox();if(h-=x.x,m-=x.y,!isNaN(h)&&!isNaN(m))for(var I,V=this.value.length-1;V>=0;V--)I=this.value[V][0],I=="M"||I=="L"||I=="T"?(this.value[V][1]+=h,this.value[V][2]+=m):I=="H"?this.value[V][1]+=h:I=="V"?this.value[V][1]+=m:I=="C"||I=="S"||I=="Q"?(this.value[V][1]+=h,this.value[V][2]+=m,this.value[V][3]+=h,this.value[V][4]+=m,I=="C"&&(this.value[V][5]+=h,this.value[V][6]+=m)):I=="A"&&(this.value[V][6]+=h,this.value[V][7]+=m);return this},size:function(h,m){var x,I,V=this.bbox();for(x=this.value.length-1;x>=0;x--)I=this.value[x][0],I=="M"||I=="L"||I=="T"?(this.value[x][1]=(this.value[x][1]-V.x)*h/V.width+V.x,this.value[x][2]=(this.value[x][2]-V.y)*m/V.height+V.y):I=="H"?this.value[x][1]=(this.value[x][1]-V.x)*h/V.width+V.x:I=="V"?this.value[x][1]=(this.value[x][1]-V.y)*m/V.height+V.y:I=="C"||I=="S"||I=="Q"?(this.value[x][1]=(this.value[x][1]-V.x)*h/V.width+V.x,this.value[x][2]=(this.value[x][2]-V.y)*m/V.height+V.y,this.value[x][3]=(this.value[x][3]-V.x)*h/V.width+V.x,this.value[x][4]=(this.value[x][4]-V.y)*m/V.height+V.y,I=="C"&&(this.value[x][5]=(this.value[x][5]-V.x)*h/V.width+V.x,this.value[x][6]=(this.value[x][6]-V.y)*m/V.height+V.y)):I=="A"&&(this.value[x][1]=this.value[x][1]*h/V.width,this.value[x][2]=this.value[x][2]*m/V.height,this.value[x][6]=(this.value[x][6]-V.x)*h/V.width+V.x,this.value[x][7]=(this.value[x][7]-V.y)*m/V.height+V.y);return this},equalCommands:function(h){var m,x,I;for(h=new n.PathArray(h),I=this.value.length===h.value.length,m=0,x=this.value.length;I&&m<x;m++)I=this.value[m][0]===h.value[m][0];return I},morph:function(h){return h=new n.PathArray(h),this.equalCommands(h)?this.destination=h:this.destination=null,this},at:function(h){if(!this.destination)return this;var m=this.value,x=this.destination.value,I=[],V=new n.PathArray,Y,me,ue,Me;for(Y=0,me=m.length;Y<me;Y++){for(I[Y]=[m[Y][0]],ue=1,Me=m[Y].length;ue<Me;ue++)I[Y][ue]=m[Y][ue]+(x[Y][ue]-m[Y][ue])*h;I[Y][0]==="A"&&(I[Y][4]=+(I[Y][4]!=0),I[Y][5]=+(I[Y][5]!=0))}return V.value=I,V},parse:function(h){if(h instanceof n.PathArray)return h.valueOf();var m,I,x={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof h=="string"?h=h.replace(n.regex.numbersWithDots,d).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):h=h.reduce(function(Me,Ue){return[].concat.call(Me,Ue)},[]);var I=[],V=new n.Point,Y=new n.Point,me=0,ue=h.length;do n.regex.isPathLetter.test(h[me])?(m=h[me],++me):m=="M"?m="L":m=="m"&&(m="l"),I.push(o[m].call(null,h.slice(me,me=me+x[m.toUpperCase()]).map(parseFloat),V,Y));while(ue>me);return I},bbox:function(){return n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(h,m){this.value=0,this.unit=m||"",typeof h=="number"?this.value=isNaN(h)?0:isFinite(h)?h:h<0?-34e37:34e37:typeof h=="string"?(m=h.match(n.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):h instanceof n.Number&&(this.value=h.valueOf(),this.unit=h.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(h){return h=new n.Number(h),new n.Number(this+h,this.unit||h.unit)},minus:function(h){return h=new n.Number(h),new n.Number(this-h,this.unit||h.unit)},times:function(h){return h=new n.Number(h),new n.Number(this*h,this.unit||h.unit)},divide:function(h){return h=new n.Number(h),new n.Number(this/h,this.unit||h.unit)},to:function(h){var m=new n.Number(this);return typeof h=="string"&&(m.unit=h),m},morph:function(h){return this.destination=new n.Number(h),h.relative&&(this.destination.value+=this.value),this},at:function(h){return this.destination?new n.Number(this.destination).minus(this).times(h).plus(this):this}}}),n.Element=n.invent({create:function(h){this._stroke=n.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=h)&&(this.type=h.nodeName,this.node.instance=this,this._events=h._events||{},this._stroke=h.getAttribute("stroke")||this._stroke)},extend:{x:function(h){return this.attr("x",h)},y:function(h){return this.attr("y",h)},cx:function(h){return h==null?this.x()+this.width()/2:this.x(h-this.width()/2)},cy:function(h){return h==null?this.y()+this.height()/2:this.y(h-this.height()/2)},move:function(h,m){return this.x(h).y(m)},center:function(h,m){return this.cx(h).cy(m)},width:function(h){return this.attr("width",h)},height:function(h){return this.attr("height",h)},size:function(h,m){var x=w(this,h,m);return this.width(new n.Number(x.width)).height(new n.Number(x.height))},clone:function(h){this.writeDataToDom();var m=N(this.node.cloneNode(!0));return h?h.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(h){return this.after(h).remove(),h},addTo:function(h){return h.put(this)},putIn:function(h){return h.add(this)},id:function(h){return this.attr("id",h)},inside:function(h,m){var x=this.bbox();return h>x.x&&m>x.y&&h<x.x+x.width&&m<x.y+x.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var h=this.attr("class");return h==null?[]:h.trim().split(n.regex.delimiter)},hasClass:function(h){return this.classes().indexOf(h)!=-1},addClass:function(h){if(!this.hasClass(h)){var m=this.classes();m.push(h),this.attr("class",m.join(" "))}return this},removeClass:function(h){return this.hasClass(h)&&this.attr("class",this.classes().filter(function(m){return m!=h}).join(" ")),this},toggleClass:function(h){return this.hasClass(h)?this.removeClass(h):this.addClass(h)},reference:function(h){return n.get(this.attr(h))},parent:function(h){var m=this;if(!m.node.parentNode)return null;if(m=n.adopt(m.node.parentNode),!h)return m;for(;m&&m.node instanceof r.SVGElement;){if(typeof h=="string"?m.matches(h):m instanceof h)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=n.adopt(m.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(h){var m=[],x=this;do{if(x=x.parent(h),!x||!x.node)break;m.push(x)}while(x.parent);return m},matches:function(h){return v(this.node,h)},native:function(){return this.node},svg:function(h){var m=i.createElement("svg");if(h&&this instanceof n.Parent){m.innerHTML="<svg>"+h.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var x=0,I=m.firstChild.childNodes.length;x<I;x++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(h=i.createElement("svg")),this.writeDataToDom(),h.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var h=this.each?this:this.lines();h.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(h){return this.dom=h,this},is:function(h){return y(this,h)}}}),n.easing={"-":function(h){return h},"<>":function(h){return-Math.cos(h*Math.PI)/2+.5},">":function(h){return Math.sin(h*Math.PI/2)},"<":function(h){return-Math.cos(h*Math.PI/2)+1}},n.morph=function(h){return function(m,x){return new n.MorphObj(m,x).at(h)}},n.Situation=n.invent({create:function(h){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(h.duration).valueOf(),this.delay=new n.Number(h.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=h.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(h){this._target=h,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(h,m,x){typeof h=="object"&&(m=h.ease,x=h.delay,h=h.duration);var I=new n.Situation({duration:h||1e3,delay:x||0,ease:n.easing[m||"-"]||m});return this.queue(I),this},delay:function(h){var m=new n.Situation({duration:h,delay:0,ease:n.easing["-"]});return this.queue(m)},target:function(h){return h&&h instanceof n.Element?(this._target=h,this):this._target},timeToAbsPos:function(h){return(h-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(h){return this.situation.duration/this._speed*h+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=r.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){r.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(h){return(typeof h=="function"||h instanceof n.Situation)&&this.situations.push(h),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var h,m,x,I=this.situation;if(I.init)return this;for(h in I.animations)for(x=this.target()[h](),Array.isArray(x)||(x=[x]),Array.isArray(I.animations[h])||(I.animations[h]=[I.animations[h]]),m=x.length;m--;)I.animations[h][m]instanceof n.Number&&(x[m]=new n.Number(x[m])),I.animations[h][m]=x[m].morph(I.animations[h][m]);for(h in I.attrs)I.attrs[h]=new n.MorphObj(this.target().attr(h),I.attrs[h]);for(h in I.styles)I.styles[h]=new n.MorphObj(this.target().style(h),I.styles[h]);return I.initialTransformation=this.target().matrixify(),I.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(h,m){var x=this.active;return this.active=!1,m&&this.clearQueue(),h&&this.situation&&(!x&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var h=this.situation;this.stop(),this.situation=h,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(h,m){var x=this.situation.duration/this._speed;return this.absPos=h,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*x,this.situation.finish=this.situation.start+x,this.step(!0)},speed:function(h){return h===0?this.pause():h?(this._speed=h,this.at(this.absPos,!0)):this._speed},loop:function(h,m){var x=this.last();return x.loops=h??!0,x.loop=0,m&&(x.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(h){var m=this.last();return typeof h>"u"?m.reversed=!m.reversed:m.reversed=h,this},progress:function(h){return h?this.situation.ease(this.pos):this.pos},after:function(h){var m=this.last(),x=function I(V){V.detail.situation==m&&(h.call(this,m),this.off("finished.fx",I))};return this.target().on("finished.fx",x),this._callStart()},during:function(h){var m=this.last(),x=function(I){I.detail.situation==m&&h.call(this,I.detail.pos,n.morph(I.detail.pos),I.detail.eased,m)};return this.target().off("during.fx",x).on("during.fx",x),this.after(function(){this.off("during.fx",x)}),this._callStart()},afterAll:function(h){var m=function x(I){h.call(this),this.off("allfinished.fx",x)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(h){var m=function(x){h.call(this,x.detail.pos,n.morph(x.detail.pos),x.detail.eased,x.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(h,m,x){return this.last()[x||"animations"][h]=m,this._callStart()},step:function(h){if(h||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,x,I;m=Math.max(this.absPos,0),x=Math.floor(m),this.situation.loops===!0||x<this.situation.loops?(this.pos=m-x,I=this.situation.loop,this.situation.loop=x):(this.absPos=this.situation.loops,this.pos=1,I=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-I)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var V=this.situation.ease(this.pos);for(var Y in this.situation.once)Y>this.lastPos&&Y<=V&&(this.situation.once[Y].call(this.target(),this.pos,V),delete this.situation.once[Y]);return this.active&&this.target().fire("during",{pos:this.pos,eased:V,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=V,this):this},eachAt:function(){var h,m,x,I=this,V=this.target(),Y=this.situation;for(h in Y.animations)x=[].concat(Y.animations[h]).map(function(ue){return typeof ue!="string"&&ue.at?ue.at(Y.ease(I.pos),I.pos):ue}),V[h].apply(V,x);for(h in Y.attrs)x=[h].concat(Y.attrs[h]).map(function(ue){return typeof ue!="string"&&ue.at?ue.at(Y.ease(I.pos),I.pos):ue}),V.attr.apply(V,x);for(h in Y.styles)x=[h].concat(Y.styles[h]).map(function(ue){return typeof ue!="string"&&ue.at?ue.at(Y.ease(I.pos),I.pos):ue}),V.style.apply(V,x);if(Y.transforms.length){for(x=Y.initialTransformation,h=0,m=Y.transforms.length;h<m;h++){var me=Y.transforms[h];if(me instanceof n.Matrix){me.relative?x=x.multiply(new n.Matrix().morph(me).at(Y.ease(this.pos))):x=x.morph(me).at(Y.ease(this.pos));continue}me.relative||me.undo(x.extract()),x=x.multiply(me.at(Y.ease(this.pos)))}V.matrix(x)}return this},once:function(h,m,x){var I=this.last();return x||(h=I.ease(h)),I.once[h]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(h,m,x){return(this.fx||(this.fx=new n.FX(this))).animate(h,m,x)},delay:function(h){return(this.fx||(this.fx=new n.FX(this))).delay(h)},stop:function(h,m){return this.fx&&this.fx.stop(h,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(h){if(this.fx){if(h==null)return this.fx.speed();this.fx.speed(h)}return this}}}),n.MorphObj=n.invent({create:function(h,m){if(n.Color.isColor(m))return new n.Color(h).morph(m);if(n.regex.delimiter.test(h))return n.regex.pathLetters.test(h)?new n.PathArray(h).morph(m):new n.Array(h).morph(m);if(n.regex.numberAndUnit.test(m))return new n.Number(h).morph(m);this.value=h,this.destination=m},extend:{at:function(h,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(h,m,x){if(typeof h=="object")for(var I in h)this.attr(I,h[I]);else this.add(h,m,"attrs");return this},style:function(h,m){if(typeof h=="object")for(var x in h)this.style(x,h[x]);else this.add(h,m,"styles");return this},x:function(h,m){if(this.target()instanceof n.G)return this.transform({x:h},m),this;var x=new n.Number(h);return x.relative=m,this.add("x",x)},y:function(h,m){if(this.target()instanceof n.G)return this.transform({y:h},m),this;var x=new n.Number(h);return x.relative=m,this.add("y",x)},cx:function(h){return this.add("cx",new n.Number(h))},cy:function(h){return this.add("cy",new n.Number(h))},move:function(h,m){return this.x(h).y(m)},center:function(h,m){return this.cx(h).cy(m)},size:function(h,m){if(this.target()instanceof n.Text)this.attr("font-size",h);else{var x;(!h||!m)&&(x=this.target().bbox()),h||(h=x.width/x.height*m),m||(m=x.height/x.width*h),this.add("width",new n.Number(h)).add("height",new n.Number(m))}return this},width:function(h){return this.add("width",new n.Number(h))},height:function(h){return this.add("height",new n.Number(h))},plot:function(h,m,x,I){return arguments.length==4?this.plot([h,m,x,I]):this.add("plot",new(this.target()).morphArray(h))},leading:function(h){return this.target().leading?this.add("leading",new n.Number(h)):this},viewbox:function(h,m,x,I){return this.target()instanceof n.Container&&this.add("viewbox",new n.ViewBox(h,m,x,I)),this},update:function(h){if(this.target()instanceof n.Stop){if(typeof h=="number"||h instanceof n.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",h.offset)}return this}}),n.Box=n.invent({create:function(h,m,x,I){if(typeof h=="object"&&!(h instanceof n.Element))return n.Box.call(this,h.left!=null?h.left:h.x,h.top!=null?h.top:h.y,h.width,h.height);arguments.length==4&&(this.x=h,this.y=m,this.width=x,this.height=I),F(this)},extend:{merge:function(h){var m=new this.constructor;return m.x=Math.min(this.x,h.x),m.y=Math.min(this.y,h.y),m.width=Math.max(this.x+this.width,h.x+h.width)-m.x,m.height=Math.max(this.y+this.height,h.y+h.height)-m.y,F(m)},transform:function(h){var m=1/0,x=-1/0,I=1/0,V=-1/0,Y,me=[new n.Point(this.x,this.y),new n.Point(this.x2,this.y),new n.Point(this.x,this.y2),new n.Point(this.x2,this.y2)];return me.forEach(function(ue){ue=ue.transform(h),m=Math.min(m,ue.x),x=Math.max(x,ue.x),I=Math.min(I,ue.y),V=Math.max(V,ue.y)}),Y=new this.constructor,Y.x=m,Y.width=x-m,Y.y=I,Y.height=V-I,F(Y),Y}}}),n.BBox=n.invent({create:function(h){if(n.Box.apply(this,[].slice.call(arguments)),h instanceof n.Element){var m;try{if(i.documentElement.contains){if(!i.documentElement.contains(h.node))throw new Exception("Element not in the dom")}else{for(var x=h.node;x.parentNode;)x=x.parentNode;if(x!=i)throw new Exception("Element not in the dom")}m=h.node.getBBox()}catch{if(h instanceof n.Shape){var I=h.clone(n.parser.draw.instance).show();m=I.node.getBBox(),I.remove()}else m={x:h.node.clientLeft,y:h.node.clientTop,width:h.node.clientWidth,height:h.node.clientHeight}}n.Box.call(this,m)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.extend(n.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),n.RBox=n.invent({create:function(h){n.Box.apply(this,[].slice.call(arguments)),h instanceof n.Element&&n.Box.call(this,h.node.getBoundingClientRect())},inherit:n.Box,parent:n.Element,extend:{addOffset:function(){return this.x+=r.pageXOffset,this.y+=r.pageYOffset,this}},construct:{rbox:function(h){return h?new n.RBox(this).transform(h.screenCTM().inverse()):new n.RBox(this).addOffset()}}}),n.RBox.prototype.constructor=n.RBox,n.Matrix=n.invent({create:function(h){var m,x=M([1,0,0,1,0,0]);for(h=h instanceof n.Element?h.matrixify():typeof h=="string"?M(h.split(n.regex.delimiter).map(parseFloat)):arguments.length==6?M([].slice.call(arguments)):Array.isArray(h)?M(h):typeof h=="object"?h:x,m=B.length-1;m>=0;--m)this[B[m]]=h[B[m]]!=null?h[B[m]]:x[B[m]]},extend:{extract:function(){var h=_(this,0,1),m=_(this,1,0),x=180/Math.PI*Math.atan2(h.y,h.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(x*Math.PI/180)+this.f*Math.sin(x*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(x*Math.PI/180)+this.e*Math.sin(-x*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-x,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:x,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(h){return this.destination=new n.Matrix(h),this},at:function(h){if(!this.destination)return this;var m=new n.Matrix({a:this.a+(this.destination.a-this.a)*h,b:this.b+(this.destination.b-this.b)*h,c:this.c+(this.destination.c-this.c)*h,d:this.d+(this.destination.d-this.d)*h,e:this.e+(this.destination.e-this.e)*h,f:this.f+(this.destination.f-this.f)*h});return m},multiply:function(h){return new n.Matrix(this.native().multiply($(h).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(h,m){return new n.Matrix(this.native().translate(h||0,m||0))},scale:function(h,m,x,I){return arguments.length==1?m=h:arguments.length==3&&(I=x,x=m,m=h),this.around(x,I,new n.Matrix(h,0,0,m,0,0))},rotate:function(h,m,x){return h=n.utils.radians(h),this.around(m,x,new n.Matrix(Math.cos(h),Math.sin(h),-Math.sin(h),Math.cos(h),0,0))},flip:function(h,m){return h=="x"?this.scale(-1,1,m,0):h=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,h,m??h)},skew:function(h,m,x,I){return arguments.length==1?m=h:arguments.length==3&&(I=x,x=m,m=h),h=n.utils.radians(h),m=n.utils.radians(m),this.around(x,I,new n.Matrix(1,Math.tan(m),Math.tan(h),1,0,0))},skewX:function(h,m,x){return this.skew(h,0,m,x)},skewY:function(h,m,x){return this.skew(0,h,m,x)},around:function(h,m,x){return this.multiply(new n.Matrix(1,0,0,1,h||0,m||0)).multiply(x).multiply(new n.Matrix(1,0,0,1,-h||0,-m||0))},native:function(){for(var h=n.parser.native.createSVGMatrix(),m=B.length-1;m>=0;m--)h[B[m]]=this[B[m]];return h},toString:function(){return"matrix("+U(this.a)+","+U(this.b)+","+U(this.c)+","+U(this.d)+","+U(this.e)+","+U(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var h=this.rect(1,1),m=h.node.getScreenCTM();return h.remove(),new n.Matrix(m)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(h,m){var x,I={x:0,y:0};x=Array.isArray(h)?{x:h[0],y:h[1]}:typeof h=="object"?{x:h.x,y:h.y}:h!=null?{x:h,y:m??h}:I,this.x=x.x,this.y=x.y},extend:{clone:function(){return new n.Point(this)},morph:function(h,m){return this.destination=new n.Point(h,m),this},at:function(h){if(!this.destination)return this;var m=new n.Point({x:this.x+(this.destination.x-this.x)*h,y:this.y+(this.destination.y-this.y)*h});return m},native:function(){var h=n.parser.native.createSVGPoint();return h.x=this.x,h.y=this.y,h},transform:function(h){return new n.Point(this.native().matrixTransform(h.native()))}}}),n.extend(n.Element,{point:function(h,m){return new n.Point(h,m).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(h,m,x){if(h==null){for(h={},m=this.node.attributes,x=m.length-1;x>=0;x--)h[m[x].nodeName]=n.regex.isNumber.test(m[x].nodeValue)?parseFloat(m[x].nodeValue):m[x].nodeValue;return h}else if(typeof h=="object")for(m in h)this.attr(m,h[m]);else if(m===null)this.node.removeAttribute(h);else{if(m==null)return m=this.node.getAttribute(h),m==null?n.defaults.attrs[h]:n.regex.isNumber.test(m)?parseFloat(m):m;h=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):h=="stroke"&&(this._stroke=m),(h=="fill"||h=="stroke")&&(n.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof n.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new n.Number(m):n.Color.isColor(m)?m=new n.Color(m):Array.isArray(m)&&(m=new n.Array(m)),h=="leading"?this.leading&&this.leading(m):typeof x=="string"?this.node.setAttributeNS(x,h,m.toString()):this.node.setAttribute(h,m.toString()),this.rebuild&&(h=="font-size"||h=="x")&&this.rebuild(h,m)}return this}}),n.extend(n.Element,{transform:function(h,m){var x=this,I,V;if(typeof h!="object")return I=new n.Matrix(x).extract(),typeof h=="string"?I[h]:I;if(I=new n.Matrix(x),m=!!m||!!h.relative,h.a!=null)I=m?I.multiply(new n.Matrix(h)):new n.Matrix(h);else if(h.rotation!=null)C(h,x),I=m?I.rotate(h.rotation,h.cx,h.cy):I.rotate(h.rotation-I.extract().rotation,h.cx,h.cy);else if(h.scale!=null||h.scaleX!=null||h.scaleY!=null){if(C(h,x),h.scaleX=h.scale!=null?h.scale:h.scaleX!=null?h.scaleX:1,h.scaleY=h.scale!=null?h.scale:h.scaleY!=null?h.scaleY:1,!m){var Y=I.extract();h.scaleX=h.scaleX*1/Y.scaleX,h.scaleY=h.scaleY*1/Y.scaleY}I=I.scale(h.scaleX,h.scaleY,h.cx,h.cy)}else if(h.skew!=null||h.skewX!=null||h.skewY!=null){if(C(h,x),h.skewX=h.skew!=null?h.skew:h.skewX!=null?h.skewX:0,h.skewY=h.skew!=null?h.skew:h.skewY!=null?h.skewY:0,!m){var Y=I.extract();I=I.multiply(new n.Matrix().skew(Y.skewX,Y.skewY,h.cx,h.cy).inverse())}I=I.skew(h.skewX,h.skewY,h.cx,h.cy)}else h.flip?(h.flip=="x"||h.flip=="y"?h.offset=h.offset==null?x.bbox()["c"+h.flip]:h.offset:h.offset==null?(V=x.bbox(),h.flip=V.cx,h.offset=V.cy):h.flip=h.offset,I=new n.Matrix().flip(h.flip,h.offset)):(h.x!=null||h.y!=null)&&(m?I=I.translate(h.x,h.y):(h.x!=null&&(I.e=h.x),h.y!=null&&(I.f=h.y)));return this.attr("transform",I)}}),n.extend(n.FX,{transform:function(h,m){var x=this.target(),I,V;return typeof h!="object"?(I=new n.Matrix(x).extract(),typeof h=="string"?I[h]:I):(m=!!m||!!h.relative,h.a!=null?I=new n.Matrix(h):h.rotation!=null?(C(h,x),I=new n.Rotate(h.rotation,h.cx,h.cy)):h.scale!=null||h.scaleX!=null||h.scaleY!=null?(C(h,x),h.scaleX=h.scale!=null?h.scale:h.scaleX!=null?h.scaleX:1,h.scaleY=h.scale!=null?h.scale:h.scaleY!=null?h.scaleY:1,I=new n.Scale(h.scaleX,h.scaleY,h.cx,h.cy)):h.skewX!=null||h.skewY!=null?(C(h,x),h.skewX=h.skewX!=null?h.skewX:0,h.skewY=h.skewY!=null?h.skewY:0,I=new n.Skew(h.skewX,h.skewY,h.cx,h.cy)):h.flip?(h.flip=="x"||h.flip=="y"?h.offset=h.offset==null?x.bbox()["c"+h.flip]:h.offset:h.offset==null?(V=x.bbox(),h.flip=V.cx,h.offset=V.cy):h.flip=h.offset,I=new n.Matrix().flip(h.flip,h.offset)):(h.x!=null||h.y!=null)&&(I=new n.Translate(h.x,h.y)),I?(I.relative=m,this.last().transforms.push(I),this._callStart()):this)}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var h=(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map(function(m){var x=m.trim().split("(");return[x[0],x[1].split(n.regex.delimiter).map(function(I){return parseFloat(I)})]}).reduce(function(m,x){return x[0]=="matrix"?m.multiply(M(x[1])):m[x[0]].apply(m,x[1])},new n.Matrix);return h},toParent:function(h){if(this==h)return this;var m=this.screenCTM(),x=h.screenCTM().inverse();return this.addTo(h).untransform().transform(x.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(h,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(h))for(var x=0,I=this.arguments.length;x<I;++x)this[this.arguments[x]]=h[x];else if(typeof h=="object")for(var x=0,I=this.arguments.length;x<I;++x)this[this.arguments[x]]=h[this.arguments[x]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(h){for(var m=[],x=0,I=this.arguments.length;x<I;++x)m.push(this[this.arguments[x]]);var V=this._undo||new n.Matrix;return V=new n.Matrix().morph(n.Matrix.prototype[this.method].apply(V,m)).at(h),this.inversed?V.inverse():V},undo:function(h){for(var m=0,x=this.arguments.length;m<x;++m)h[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:h[this.arguments[m]];return h.cx=this.cx,h.cy=this.cy,this._undo=new n[S(this.method)](h,!0).at(1),this}}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.Rotate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(h){var m=new n.Matrix().rotate(new n.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(h),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(h){return this._undo=h,this}}}),n.Scale=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),n.Skew=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),n.extend(n.Element,{style:function(h,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof h=="object")for(m in h)this.style(m,h[m]);else if(n.regex.isCss.test(h))for(h=h.split(/\s*;\s*/).filter(function(x){return!!x}).map(function(x){return x.split(/\s*:\s*/)});m=h.pop();)this.style(m[0],m[1]);else return this.node.style[b(h)];else this.node.style[b(h)]=m===null||n.regex.isBlank.test(m)?"":m;return this}}),n.Parent=n.invent({create:function(h){this.constructor.call(this,h)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),function(h){return n.adopt(h)})},add:function(h,m){return m==null?this.node.appendChild(h.node):h.node!=this.node.childNodes[m]&&this.node.insertBefore(h.node,this.node.childNodes[m]),this},put:function(h,m){return this.add(h,m),h},has:function(h){return this.index(h)>=0},index:function(h){return[].slice.call(this.node.childNodes).indexOf(h.node)},get:function(h){return n.adopt(this.node.childNodes[h])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(h,m){var x,I,V=this.children();for(x=0,I=V.length;x<I;x++)V[x]instanceof n.Element&&h.apply(V[x],[x,V]),m&&V[x]instanceof n.Container&&V[x].each(h,m);return this},removeElement:function(h){return this.node.removeChild(h.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(h,m){return m===0||this instanceof n.Defs||this.node==n.parser.draw?this:(h=h||(this instanceof n.Doc?this:this.parent(n.Parent)),m=m||1/0,this.each(function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(h,m-1):this.toParent(h)}),this.node.firstChild||this.remove(),this)},flatten:function(h,m){return this.ungroup(h,m)}}),n.Container=n.invent({create:function(h){this.constructor.call(this,h)},inherit:n.Parent}),n.ViewBox=n.invent({create:function(h){var m=[0,0,0,0],x,I,V,Y,me,ue,Me,Ue=1,ze=1,lt=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(h instanceof n.Element){for(ue=h,Me=h,me=(h.attr("viewBox")||"").match(lt),h.bbox,V=new n.Number(h.width()),Y=new n.Number(h.height());V.unit=="%";)Ue*=V.value,V=new n.Number(ue instanceof n.Doc?ue.parent().offsetWidth:ue.parent().width()),ue=ue.parent();for(;Y.unit=="%";)ze*=Y.value,Y=new n.Number(Me instanceof n.Doc?Me.parent().offsetHeight:Me.parent().height()),Me=Me.parent();this.x=0,this.y=0,this.width=V*Ue,this.height=Y*ze,this.zoom=1,me&&(x=parseFloat(me[0]),I=parseFloat(me[1]),V=parseFloat(me[2]),Y=parseFloat(me[3]),this.zoom=this.width/this.height>V/Y?this.height/Y:this.width/V,this.x=x,this.y=I,this.width=V,this.height=Y)}else h=typeof h=="string"?h.match(lt).map(function(zt){return parseFloat(zt)}):Array.isArray(h)?h:typeof h=="object"?[h.x,h.y,h.width,h.height]:arguments.length==4?[].slice.call(arguments):m,this.x=h[0],this.y=h[1],this.width=h[2],this.height=h[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(h,m,x,I){return this.destination=new n.ViewBox(h,m,x,I),this},at:function(h){return this.destination?new n.ViewBox([this.x+(this.destination.x-this.x)*h,this.y+(this.destination.y-this.y)*h,this.width+(this.destination.width-this.width)*h,this.height+(this.destination.height-this.height)*h]):this}},parent:n.Container,construct:{viewbox:function(h,m,x,I){return arguments.length==0?new n.ViewBox(this):this.attr("viewBox",new n.ViewBox(h,m,x,I))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(h){n.Element.prototype[h]=function(m){return m==null?n.off(this,h):n.on(this,h,m),this}}),n.listenerId=0,n.on=function(h,m,x,I,V){var Y=x.bind(I||h),me=h instanceof n.Element?h.node:h;me.instance=me.instance||{_events:{}};var ue=me.instance._events;x._svgjsListenerId||(x._svgjsListenerId=++n.listenerId),m.split(n.regex.delimiter).forEach(function(Me){var Ue=Me.split(".")[0],ze=Me.split(".")[1]||"*";ue[Ue]=ue[Ue]||{},ue[Ue][ze]=ue[Ue][ze]||{},ue[Ue][ze][x._svgjsListenerId]=Y,me.addEventListener(Ue,Y,V||!1)})},n.off=function(h,m,x,I){var V=h instanceof n.Element?h.node:h;if(V.instance&&!(typeof x=="function"&&(x=x._svgjsListenerId,!x))){var Y=V.instance._events;(m||"").split(n.regex.delimiter).forEach(function(me){var ue=me&&me.split(".")[0],Me=me&&me.split(".")[1],Ue,ze;if(x)Y[ue]&&Y[ue][Me||"*"]&&(V.removeEventListener(ue,Y[ue][Me||"*"][x],I||!1),delete Y[ue][Me||"*"][x]);else if(ue&&Me){if(Y[ue]&&Y[ue][Me]){for(ze in Y[ue][Me])n.off(V,[ue,Me].join("."),ze);delete Y[ue][Me]}}else if(Me)for(me in Y)for(Ue in Y[me])Me===Ue&&n.off(V,[me,Me].join("."));else if(ue){if(Y[ue]){for(Ue in Y[ue])n.off(V,[ue,Ue].join("."));delete Y[ue]}}else{for(me in Y)n.off(V,me);V.instance._events={}}})}},n.extend(n.Element,{on:function(h,m,x,I){return n.on(this,h,m,x,I),this},off:function(h,m){return n.off(this.node,h,m),this},fire:function(h,m){return h instanceof r.Event?this.node.dispatchEvent(h):this.node.dispatchEvent(h=new n.CustomEvent(h,{detail:m,cancelable:!0})),this._event=h,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(h){return h==null?this.transform("x"):this.transform({x:h-this.x()},!0)},y:function(h){return h==null?this.transform("y"):this.transform({y:h-this.y()},!0)},cx:function(h){return h==null?this.gbox().cx:this.x(h-this.gbox().width/2)},cy:function(h){return h==null?this.gbox().cy:this.y(h-this.gbox().height/2)},gbox:function(){var h=this.bbox(),m=this.transform();return h.x+=m.x,h.x2+=m.x,h.cx+=m.x,h.y+=m.y,h.y2+=m.y,h.cy+=m.y,h}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(h){h&&(h=typeof h=="string"?i.getElementById(h):h,h.nodeName=="svg"?this.constructor.call(this,h):(this.constructor.call(this,n.create("svg")),h.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){if(!this._defs){var h;(h=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(h):this._defs=new n.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var h=this.node.getScreenCTM();return h&&this.style("left",-h.e%1+"px").style("top",-h.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw.parentNode||this.node.appendChild(n.parser.draw),this},clone:function(h){this.writeDataToDom();var m=this.node,x=N(m.cloneNode(!0));return h?(h.node||h).appendChild(x.node):m.parentNode.insertBefore(x.node,m.nextSibling),x}}}),n.extend(n.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var h=this.position()+1,m=this.parent();return m.removeElement(this).add(this,h),m instanceof n.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var h=this.position();return h>0&&this.parent().removeElement(this).add(this,h-1),this},front:function(){var h=this.parent();return h.node.appendChild(this.node),h instanceof n.Doc&&h.node.appendChild(h.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(h){h.remove();var m=this.position();return this.parent().add(h,m),this},after:function(h){h.remove();var m=this.position();return this.parent().add(h,m+1),this}}),n.Mask=n.invent({create:function(){this.constructor.call(this,n.create("mask")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var h=this.targets.length-1;h>=0;h--)this.targets[h]&&this.targets[h].unmask();return this.targets=[],n.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new n.Mask)}}}),n.extend(n.Element,{maskWith:function(h){return this.masker=h instanceof n.Mask?h:this.parent().mask().add(h),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),n.ClipPath=n.invent({create:function(){this.constructor.call(this,n.create("clipPath")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var h=this.targets.length-1;h>=0;h--)this.targets[h]&&this.targets[h].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new n.ClipPath)}}}),n.extend(n.Element,{clipWith:function(h){return this.clipper=h instanceof n.ClipPath?h:this.parent().clip().add(h),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),n.Gradient=n.invent({create:function(h){this.constructor.call(this,n.create(h+"Gradient")),this.type=h},inherit:n.Container,extend:{at:function(h,m,x){return this.put(new n.Stop).update(h,m,x)},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(h,m,x){return h=="transform"&&(h="gradientTransform"),n.Container.prototype.attr.call(this,h,m,x)}},construct:{gradient:function(h,m){return this.defs().gradient(h,m)}}}),n.extend(n.Gradient,n.FX,{from:function(h,m){return(this._target||this).type=="radial"?this.attr({fx:new n.Number(h),fy:new n.Number(m)}):this.attr({x1:new n.Number(h),y1:new n.Number(m)})},to:function(h,m){return(this._target||this).type=="radial"?this.attr({cx:new n.Number(h),cy:new n.Number(m)}):this.attr({x2:new n.Number(h),y2:new n.Number(m)})}}),n.extend(n.Defs,{gradient:function(h,m){return this.put(new n.Gradient(h)).update(m)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(h){return(typeof h=="number"||h instanceof n.Number)&&(h={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",new n.Number(h.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},toString:function(){return this.fill()},attr:function(h,m,x){return h=="transform"&&(h="patternTransform"),n.Container.prototype.attr.call(this,h,m,x)}},construct:{pattern:function(h,m,x){return this.defs().pattern(h,m,x)}}}),n.extend(n.Defs,{pattern:function(h,m,x){return this.put(new n.Pattern).update(x).attr({x:0,y:0,width:h,height:m,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(h){this.constructor.call(this,h)},inherit:n.Element}),n.Bare=n.invent({create:function(h,m){if(this.constructor.call(this,n.create(h)),m)for(var x in m.prototype)typeof m.prototype[x]=="function"&&(this[x]=m.prototype[x])},inherit:n.Element,extend:{words:function(h){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(i.createTextNode(h)),this}}}),n.extend(n.Parent,{element:function(h,m){return this.put(new n.Bare(h,m))}}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(h,m){return this.attr("href",(m||"")+"#"+h,n.xlink)}},construct:{use:function(h,m){return this.put(new n.Use).element(h,m)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(h,m){return this.put(new n.Rect).size(h,m)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(h){return this.put(new n.Circle).rx(new n.Number(h).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(h){return this.attr("r",h)},ry:function(h){return this.rx(h)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(h,m){return this.put(new n.Ellipse).size(h,m).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(h){return this.attr("rx",h)},ry:function(h){return this.attr("ry",h)}}),n.extend(n.Circle,n.Ellipse,{x:function(h){return h==null?this.cx()-this.rx():this.cx(h+this.rx())},y:function(h){return h==null?this.cy()-this.ry():this.cy(h+this.ry())},cx:function(h){return h==null?this.attr("cx"):this.attr("cx",h)},cy:function(h){return h==null?this.attr("cy"):this.attr("cy",h)},width:function(h){return h==null?this.rx()*2:this.rx(new n.Number(h).divide(2))},height:function(h){return h==null?this.ry()*2:this.ry(new n.Number(h).divide(2))},size:function(h,m){var x=w(this,h,m);return this.rx(new n.Number(x.width).divide(2)).ry(new n.Number(x.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(h,m,x,I){return h==null?this.array():(typeof m<"u"?h={x1:h,y1:m,x2:x,y2:I}:h=new n.PointArray(h).toLine(),this.attr(h))},move:function(h,m){return this.attr(this.array().move(h,m).toLine())},size:function(h,m){var x=w(this,h,m);return this.attr(this.array().size(x.width,x.height).toLine())}},construct:{line:function(h,m,x,I){return n.Line.prototype.plot.apply(this.put(new n.Line),h!=null?[h,m,x,I]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(h){return this.put(new n.Polyline).plot(h||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(h){return this.put(new n.Polygon).plot(h||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(h){return h==null?this.array():this.clear().attr("points",typeof h=="string"?h:this._array=new n.PointArray(h))},clear:function(){return delete this._array,this},move:function(h,m){return this.attr("points",this.array().move(h,m))},size:function(h,m){var x=w(this,h,m);return this.attr("points",this.array().size(x.width,x.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)},width:function(h){var m=this.bbox();return h==null?m.width:this.size(h,m.height)},height:function(h){var m=this.bbox();return h==null?m.height:this.size(m.width,h)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(h){return h==null?this.array():this.clear().attr("d",typeof h=="string"?h:this._array=new n.PathArray(h))},clear:function(){return delete this._array,this},move:function(h,m){return this.attr("d",this.array().move(h,m))},x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)},size:function(h,m){var x=w(this,h,m);return this.attr("d",this.array().size(x.width,x.height))},width:function(h){return h==null?this.bbox().width:this.size(h,this.bbox().height)},height:function(h){return h==null?this.bbox().height:this.size(this.bbox().width,h)}},construct:{path:function(h){return this.put(new n.Path).plot(h||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(h){if(!h)return this;var m=this,x=new r.Image;return n.on(x,"load",function(){n.off(x);var I=m.parent(n.Pattern);I!==null&&(m.width()==0&&m.height()==0&&m.size(x.width,x.height),I&&I.width()==0&&I.height()==0&&I.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:x.width,height:x.height,ratio:x.width/x.height,url:h}))}),n.on(x,"error",function(I){n.off(x),typeof m._error=="function"&&m._error.call(m,I)}),this.attr("href",x.src=this.src=h,n.xlink)},loaded:function(h){return this._loaded=h,this},error:function(h){return this._error=h,this}},construct:{image:function(h,m,x){return this.put(new n.Image).load(h).size(m||0,x||m||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(h){return h==null?this.attr("x"):this.attr("x",h)},y:function(h){var m=this.attr("y"),x=typeof m=="number"?m-this.bbox().y:0;return h==null?typeof m=="number"?m-x:m:this.attr("y",typeof h.valueOf()=="number"?h+x:h)},cx:function(h){return h==null?this.bbox().cx:this.x(h-this.bbox().width/2)},cy:function(h){return h==null?this.bbox().cy:this.y(h-this.bbox().height/2)},text:function(h){if(typeof h>"u"){for(var h="",m=this.node.childNodes,x=0,I=m.length;x<I;++x)x!=0&&m[x].nodeType!=3&&n.adopt(m[x]).dom.newLined==!0&&(h+=`
`),h+=m[x].textContent;return h}if(this.clear().build(!0),typeof h=="function")h.call(this,this);else{h=h.split(`
`);for(var x=0,V=h.length;x<V;x++)this.tspan(h[x]).newLine()}return this.build(!1).rebuild()},size:function(h){return this.attr("font-size",h).rebuild()},leading:function(h){return h==null?this.dom.leading:(this.dom.leading=new n.Number(h),this.rebuild())},lines:function(){var h=(this.textPath&&this.textPath()||this).node,m=n.utils.map(n.utils.filterSVGElements(h.childNodes),function(x){return n.adopt(x)});return new n.Set(m)},rebuild:function(h){if(typeof h=="boolean"&&(this._rebuild=h),this._rebuild){var m=this,x=0,I=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?x+=I:(this.attr("dy",I+x),x=0))}),this.fire("rebuild")}return this},build:function(h){return this._build=!!h,this},setData:function(h){return this.dom=h,this.dom.leading=new n.Number(h.leading||1.3),this}},construct:{text:function(h){return this.put(new n.Text).text(h)},plain:function(h){return this.put(new n.Text).plain(h)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(h){return h==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof h=="function"?h.call(this,this):this.plain(h),this)},dx:function(h){return this.attr("dx",h)},dy:function(h){return this.attr("dy",h)},newLine:function(){var h=this.parent(n.Text);return this.dom.newLined=!0,this.dy(h.dom.leading*h.attr("font-size")).attr("x",h.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(h){return this._build===!1&&this.clear(),this.node.appendChild(i.createTextNode(h)),this},tspan:function(h){var m=(this.textPath&&this.textPath()||this).node,x=new n.Tspan;return this._build===!1&&this.clear(),m.appendChild(x.node),x.text(h)},clear:function(){for(var h=(this.textPath&&this.textPath()||this).node;h.hasChildNodes();)h.removeChild(h.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,path:function(h){for(var m=new n.TextPath,x=this.doc().defs().path(h);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+x,n.xlink),this},array:function(){var h=this.track();return h?h.array():null},plot:function(h){var m=this.track(),x=null;return m&&(x=m.plot(h)),h==null?x:this},track:function(){var h=this.textPath();if(h)return h.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}}),n.A=n.invent({create:"a",inherit:n.Container,extend:{to:function(h){return this.attr("href",h,n.xlink)},show:function(h){return this.attr("show",h,n.xlink)},target:function(h){return this.attr("target",h)}},construct:{link:function(h){return this.put(new n.A).to(h)}}}),n.extend(n.Element,{linkTo:function(h){var m=new n.A;return typeof h=="function"?h.call(m,m):m.to(h),this.parent().put(m).put(this)}}),n.Marker=n.invent({create:"marker",inherit:n.Container,extend:{width:function(h){return this.attr("markerWidth",h)},height:function(h){return this.attr("markerHeight",h)},ref:function(h,m){return this.attr("refX",h).attr("refY",m)},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(h,m,x){return this.defs().marker(h,m,x)}}}),n.extend(n.Defs,{marker:function(h,m,x){return this.put(new n.Marker).size(h,m).ref(h/2,m/2).viewbox(0,0,h,m).attr("orient","auto").update(x)}}),n.extend(n.Line,n.Polyline,n.Polygon,n.Path,{marker:function(h,m,x,I){var V=["marker"];return h!="all"&&V.push(h),V=V.join("-"),h=arguments[1]instanceof n.Marker?arguments[1]:this.doc().marker(m,x,I),this.attr(V,h)}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(h,m){return m=="color"?h:h+"-"+m}};["fill","stroke"].forEach(function(h){var m,x={};x[h]=function(I){if(typeof I>"u")return this;if(typeof I=="string"||n.Color.isRgb(I)||I&&typeof I.fill=="function")this.attr(h,I);else for(m=f[h].length-1;m>=0;m--)I[f[h][m]]!=null&&this.attr(f.prefix(h,f[h][m]),I[f[h][m]]);return this},n.extend(n.Element,n.FX,x)}),n.extend(n.Element,n.FX,{rotate:function(h,m,x){return this.transform({rotation:h,cx:m,cy:x})},skew:function(h,m,x,I){return arguments.length==1||arguments.length==3?this.transform({skew:h,cx:m,cy:x}):this.transform({skewX:h,skewY:m,cx:x,cy:I})},scale:function(h,m,x,I){return arguments.length==1||arguments.length==3?this.transform({scale:h,cx:m,cy:x}):this.transform({scaleX:h,scaleY:m,cx:x,cy:I})},translate:function(h,m){return this.transform({x:h,y:m})},flip:function(h,m){return m=typeof h=="number"?h:m,this.transform({flip:h||"both",offset:m})},matrix:function(h){return this.attr("transform",new n.Matrix(arguments.length==6?[].slice.call(arguments):h))},opacity:function(h){return this.attr("opacity",h)},dx:function(h){return this.x(new n.Number(h).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(h){return this.y(new n.Number(h).plus(this instanceof n.FX?0:this.y()),!0)},dmove:function(h,m){return this.dx(h).dy(m)}}),n.extend(n.Rect,n.Ellipse,n.Circle,n.Gradient,n.FX,{radius:function(h,m){var x=(this._target||this).type;return x=="radial"||x=="circle"?this.attr("r",new n.Number(h)):this.rx(h).ry(m??h)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(h){return this.node.getPointAtLength(h)}}),n.extend(n.Parent,n.Text,n.Tspan,n.FX,{font:function(h,m){if(typeof h=="object")for(m in h)this.font(m,h[m]);return h=="leading"?this.leading(m):h=="anchor"?this.attr("text-anchor",m):h=="size"||h=="family"||h=="weight"||h=="stretch"||h=="variant"||h=="style"?this.attr("font-"+h,m):this.attr(h,m)}}),n.Set=n.invent({create:function(h){h instanceof n.Set?this.members=h.members.slice():Array.isArray(h)?this.members=h:this.clear()},extend:{add:function(){var h,m,x=[].slice.call(arguments);for(h=0,m=x.length;h<m;h++)this.members.push(x[h]);return this},remove:function(h){var m=this.index(h);return m>-1&&this.members.splice(m,1),this},each:function(h){for(var m=0,x=this.members.length;m<x;m++)h.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(h){return this.index(h)>=0},index:function(h){return this.members.indexOf(h)},get:function(h){return this.members[h]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new n.RBox;var h=this.members[0].rbox(this.members[0].doc());return this.each(function(){h=h.merge(this.rbox(this.doc()))}),h}},construct:{set:function(h){return new n.Set(h)}}}),n.FX.Set=n.invent({create:function(h){this.set=h}}),n.Set.inherit=function(){var h,m=[];for(var h in n.Shape.prototype)typeof n.Shape.prototype[h]=="function"&&typeof n.Set.prototype[h]!="function"&&m.push(h);m.forEach(function(x){n.Set.prototype[x]=function(){for(var I=0,V=this.members.length;I<V;I++)this.members[I]&&typeof this.members[I][x]=="function"&&this.members[I][x].apply(this.members[I],arguments);return x=="animate"?this.fx||(this.fx=new n.FX.Set(this)):this}}),m=[];for(var h in n.FX.prototype)typeof n.FX.prototype[h]=="function"&&typeof n.FX.Set.prototype[h]!="function"&&m.push(h);m.forEach(function(x){n.FX.Set.prototype[x]=function(){for(var I=0,V=this.set.members.length;I<V;I++)this.set.members[I].fx[x].apply(this.set.members[I].fx,arguments);return this}})},n.extend(n.Element,{data:function(h,m,x){if(typeof h=="object")for(m in h)this.data(m,h[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+h))}catch{return this.attr("data-"+h)}else this.attr("data-"+h,m===null?null:x===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),n.extend(n.Element,{remember:function(h,m){if(typeof arguments[0]=="object")for(var m in h)this.remember(m,h[m]);else{if(arguments.length==1)return this.memory()[h];this.memory()[h]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var h=arguments.length-1;h>=0;h--)delete this.memory()[arguments[h]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(h){var m=i.getElementById(q(h)||h);return n.adopt(m)},n.select=function(h,m){return new n.Set(n.utils.map((m||i).querySelectorAll(h),function(x){return n.adopt(x)}))},n.extend(n.Parent,{select:function(h){return n.select(h,this.node)}});function d(h,m,x,I){return x+I.replace(n.regex.dots," .")}function p(h){for(var m=h.slice(0),x=m.length;x--;)Array.isArray(m[x])&&(m[x]=p(m[x]));return m}function y(h,m){return h instanceof m}function v(h,m){return(h.matches||h.matchesSelector||h.msMatchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector).call(h,m)}function b(h){return h.toLowerCase().replace(/-(.)/g,function(m,x){return x.toUpperCase()})}function S(h){return h.charAt(0).toUpperCase()+h.slice(1)}function E(h){return h.length==4?["#",h.substring(1,2),h.substring(1,2),h.substring(2,3),h.substring(2,3),h.substring(3,4),h.substring(3,4)].join(""):h}function T(h){var m=h.toString(16);return m.length==1?"0"+m:m}function w(h,m,x){if(m==null||x==null){var I=h.bbox();m==null?m=I.width/I.height*x:x==null&&(x=I.height/I.width*m)}return{width:m,height:x}}function _(h,m,x){return{x:m*h.a+x*h.c+0,y:m*h.b+x*h.d+0}}function M(h){return{a:h[0],b:h[1],c:h[2],d:h[3],e:h[4],f:h[5]}}function $(h){return h instanceof n.Matrix||(h=new n.Matrix(h)),h}function C(h,m){h.cx=h.cx==null?m.bbox().cx:h.cx,h.cy=h.cy==null?m.bbox().cy:h.cy}function P(h){for(var m=0,x=h.length,I="";m<x;m++)I+=h[m][0],h[m][1]!=null&&(I+=h[m][1],h[m][2]!=null&&(I+=" ",I+=h[m][2],h[m][3]!=null&&(I+=" ",I+=h[m][3],I+=" ",I+=h[m][4],h[m][5]!=null&&(I+=" ",I+=h[m][5],I+=" ",I+=h[m][6],h[m][7]!=null&&(I+=" ",I+=h[m][7])))));return I+" "}function N(h){for(var m=h.childNodes.length-1;m>=0;m--)h.childNodes[m]instanceof r.SVGElement&&N(h.childNodes[m]);return n.adopt(h).id(n.eid(h.nodeName))}function F(h){return h.x==null&&(h.x=0,h.y=0,h.width=0,h.height=0),h.w=h.width,h.h=h.height,h.x2=h.x+h.width,h.y2=h.y+h.height,h.cx=h.x+h.width/2,h.cy=h.y+h.height/2,h}function q(h){var m=(h||"").toString().match(n.regex.reference);if(m)return m[1]}function U(h){return Math.abs(h)>1e-37?h:0}var B="abcdef".split("");if(typeof r.CustomEvent!="function"){var K=function(h,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var x=i.createEvent("CustomEvent");return x.initCustomEvent(h,m.bubbles,m.cancelable,m.detail),x};K.prototype=r.Event.prototype,n.CustomEvent=K}else n.CustomEvent=r.CustomEvent;return function(h){for(var m=0,x=["moz","webkit"],I=0;I<x.length&&!r.requestAnimationFrame;++I)h.requestAnimationFrame=h[x[I]+"RequestAnimationFrame"],h.cancelAnimationFrame=h[x[I]+"CancelAnimationFrame"]||h[x[I]+"CancelRequestAnimationFrame"];h.requestAnimationFrame=h.requestAnimationFrame||function(V){var Y=new Date().getTime(),me=Math.max(0,16-(Y-m)),ue=h.setTimeout(function(){V(Y+me)},me);return m=Y+me,ue},h.cancelAnimationFrame=h.cancelAnimationFrame||h.clearTimeout}(r),n})}(B0)),B0.exports}var Uye=Fye();const Pu=b1(Uye);class jye extends Lr{constructor(e){super(e)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(e,r){return r.getGraphicIcon(e)}getGraphicSymbol(e,r){return r.getGraphicSymbol(e)}makeRenderer(e,r,i=!1){switch(e.type){case this.SIMPLE:return new Lye(e,r);case this.CLASS_BREAKS:return new kye(e,r,i);case this.UNIQUE_VALUE:return new Rye(e,r,i);default:throw new Error(`Unknown renderer type encountered - ${e.type}`)}}async generateWMSSymbology(e){const r=Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),i={svgcode:"",imgHeight:"",imgWidth:""};if(e){const s=await this.renderSymbologyImage(e);if(s){i.svgcode=s;const n=document.createElement("span");n.innerHTML=s;const o=n.firstElementChild?.lastElementChild;i.imgHeight=o?.getAttribute("height")||"",i.imgWidth=o?.getAttribute("width")||""}else i.svgcode=r.svg()}else i.svgcode=r.svg();return i}listToSymbology(e,r){return r.map(({text:s,image:n})=>{const o={name:s,image:n,svgcode:""};return e(n).then(a=>{o.svgcode=a}),o})}listToIconSymbology(e){return this.listToSymbology(this.renderSymbologyIcon,e)}listToImageSymbology(e){return this.listToSymbology(this.renderSymbologyImage,e)}async renderSymbologyImage(e,r=null){r===null&&(r=Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const i=await this.$iApi.geo.shared.convertImagetoDataURL(e);if(i===e)return"";const{loader:s}=await this.svgDrawImage(r,i);return r.viewbox(0,0,s.width,s.height),r.svg()}async renderSymbologyIcon(e,r=null){if(r===null){const n=document.createElement("div");n.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(n),r=Pu(n).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const i=await this.$iApi.geo.shared.convertImagetoDataURL(e),{image:s}=await this.svgDrawImage(r,i);return s.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(s,this.CONTENT_IMAGE_SIZE),r.svg()}generatePlaceholderSymbology(e,r="#000"){const i=Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return i.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(r),i.text(e[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(e[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:e,svgcode:i.svg()}}async generateBlankSymbology(){return Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(e){const r=this,i=1.33333,s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s);const n=Pu(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:v,path:b}){return n.path(b).size(v*i)},circle({size:v}){return n.circle(v*i)},cross({size:v}){return n.path("M 0,10 L 20,10 M 10,0 L 10,20").size(v*i)},x({size:v}){return n.path("M 0,0 L 20,20 M 20,0 L 0,20").size(v*i)},triangle({size:v}){return n.path("M 20,20 L 10,0 0,20 Z").size(v*i)},diamond({size:v}){return n.path("M 20,10 L 10,0 0,10 10,20 Z").size(v*i)},square({size:v}){return n.path("M 0,0 20,0 20,20 0,20 Z").size(v*i)}},a={[ss.SOLID]:"none",[ss.NONE]:"none",[ss.DASH]:"5.333,4",[ss.DOT]:"1.333,4",[ss.DASHDOT]:"5.333,4,1.333,4",[ss.LONGDASH]:"10.666,4",[ss.LONGDASHDOT]:"10.666,4,1.333,4",[ss.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[ss.SHORTDOT]:"1.333,1.333",[ss.SHORTDASH]:"5.333,1.333",[ss.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[ss.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},f={solid:v=>({color:v.colour,opacity:v.opacity}),none:()=>"transparent",horizontal:(v,b)=>n.pattern(5,5,E=>E.line(0,5/2,5,5/2)).stroke(b),vertical:(v,b)=>n.pattern(5,5,E=>E.line(5/2,0,5/2,5)).stroke(b),"forward-diagonal":(v,b)=>n.pattern(5,5,E=>{E.line(0,0,5,5).stroke(b),E.line(0,0,5,5).move(0,5).stroke(b),E.line(0,0,5,5).move(5,0).stroke(b)}),"backward-diagonal":(v,b)=>n.pattern(5,5,E=>{E.line(5,0,0,5).stroke(b),E.line(5,0,0,5).move(5/2,5/2).stroke(b),E.line(5,0,0,5).move(-5/2,-5/2).stroke(b)}),cross:(v,b)=>n.pattern(5,5,E=>{E.line(5/2,0,5/2,5).stroke(b),E.line(0,5/2,5,5/2).stroke(b)}),"diagonal-cross":(v,b)=>n.pattern(7,7,E=>{E.line(0,0,7,7).stroke(b),E.line(7,0,0,7).stroke(b)})},d={"simple-marker"(){const v=y(e.color);e.outline=e.outline||c;const b=y(e.outline.color),S=p({color:b.colour,opacity:b.opacity,width:e.outline.width,dasharray:a[e.outline.style]}),E=o[e.style](e).fill({color:v.colour,opacity:v.opacity}).stroke(S).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).rotate(e.angle||0);r.fitInto(E,r.CONTENT_SIZE)},"simple-line"(){const v=y(e.color),b=p({color:v.colour,opacity:v.opacity,width:e.width,linecap:"butt",dasharray:a[e.style]}),S=r.CONTENT_PADDING,E=r.CONTAINER_SIZE-r.CONTENT_PADDING;n.line(S,S,E,E).stroke(b)},esriCLS(){this["simple-line"]()},"simple-fill"(){const v=y(e.color),b=p({color:v.colour,opacity:v.opacity}),S=f[e.style](v,b);e.outline=e.outline||c;const E=y(e.outline.color),T=p({color:E.colour,opacity:E.opacity,width:e.outline.width,linecap:"butt",dasharray:a[e.outline.style]});n.rect(r.CONTENT_SIZE,r.CONTENT_SIZE).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).fill(S).stroke(T)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const v=e.imageData?`data:${e.contentType};base64,${e.imageData}`:e.url,b=e.width*e.xscale,S=e.height*e.yscale;e.outline=e.outline||c;const E=y(e.outline.color),T=p({color:E.colour,opacity:E.opacity,width:e.outline.width,dasharray:a[e.outline.style]});return r.$iApi.geo.shared.convertImagetoDataURL(v).then(_=>{const M=n.pattern(b,S,$=>$.image(_,b,S));n.rect(r.CONTENT_SIZE,r.CONTENT_SIZE).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).fill(M).stroke(T)})},"picture-marker"(){const v=e.source,b=v&&v.imageData?`data:${v.contentType};base64,${v.imageData}`:e.url;return r.$iApi.geo.shared.convertImagetoDataURL(b).then(E=>r.svgDrawImage(n,E)).then(({image:E})=>{E.center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).rotate(e.angle||0),r.fitInto(E,r.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[e.type]()),document.body.removeChild(s),n.svg()}catch(v){return console.error(v),this.generateBlankSymbology()}function p(v){return Object.assign({},l,v)}function y(v){return v?{colour:`rgb(${v.r},${v.g},${v.b})`,opacity:v.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(e,r,i=0,s=0,n=!0){return new Promise((o,a)=>{const l=e.image(r,i,s,n).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(e,r){const i=e.node.getBoundingClientRect(),s=r/Math.max(i.width,i.height);s<1&&e.scale(s)}rendererToLegend(e){let r;const i=e.symbolUnits.slice(0);if(e.defaultUnit&&i.push(e.defaultUnit),e.falseRenderer)r=i.map(s=>[s]);else{const s=new Map;i.forEach(n=>{const o=s.get(n.label);o?o.push(n):s.set(n.label,[n])}),r=[],s.forEach(n=>r.push(n))}return r.map(s=>{const n=s[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:n.label||"",definitionClause:s.length===1?n.definitionClause:`(${s.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(n.symbol).then(a=>{o.svgcode=a,s.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(e){if(!e)throw new Error("Legend server request is missing the required url.");const r={query:{f:"json"}},i={layers:[]},[s,n]=await Hn(Fr(`${e}/legend`,r));return n?n.data?n.data:(console.error(`Error loading legend data for ${e}`),i):(console.error(`Error loading legend for ${e}`,s),i)}async mapServerLegendToRenderer(e,r){const i=e.layers.find(n=>n.layerId===r);let s;if(typeof i<"u"){s={type:"uniqueValue",field:"fakefield",uniqueValueInfos:i.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const n=await Nt.RendererFromJson(s);return this.makeRenderer(n,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(e){const r=e.layers.map(n=>n.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),i={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...r)},s=await Nt.RendererFromJson(i);return this.makeRenderer(s,[],!0)}async mapServerToLocalLegend(e,r=void 0){const i=await this.getMapServerLegend(e);let s,n;return typeof r>"u"?(n=0,s=await this.mapServerLegendToRendererAll(i)):(n=parseInt(r),s=await this.mapServerLegendToRenderer(i,n)),this.rendererToLegend(s)}}class Bye extends Lr{constructor(e){super(e)}async arcGisServerQueryIds(e){if(!(e.filterGeometry||e.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const r=await Nt.Query();r.returnGeometry=!1,e.filterSql&&(r.where=e.filterSql),e.filterGeometry&&(r.geometry=await this.queryGeometryHelper(e.filterGeometry,!1,this.$iApi.geo.map.getScale(),e.sourceSR),r.spatialRelationship="intersects");const i=await Nt.QueryByIds(e.url,r);return Array.isArray(i)?i:[]}async geoJsonQuery(e){const r=await Nt.Query();if(r.returnGeometry=!!e.includeGeometry,r.outFields=["*"],e.filterGeometry&&(r.geometry=await this.queryGeometryHelper(e.filterGeometry,!0),r.spatialRelationship="intersects"),e.filterSql&&(r.where=e.filterSql),e.filterOIDs&&(r.objectIds=e.filterOIDs),await e.layer.loadPromise(),!e.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await e.layer.esriLayer.queryFeatures(r)).features.map((s,n)=>{let o;return r.returnGeometry?o=this.$iApi.geo.geom.geomEsriToRamp(s.geometry,`queryResult${n}`):o=new Rl,new Un(o,"",s.attributes)})}async queryGeometryHelper(e,r,i,s){return!r&&e.type===Je.EXTENT&&s&&!s.isEqual(e.sr)&&!(i&&i>2e7&&e.sr.wkid===3978&&s.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(s,e)).toESRI():e.toESRI()}makeClickBuffer(e,r=5){const i=this.$iApi.geo.map,s=i.getExtent(),n=r*(s.xmax-s.xmin)/i.getPixelWidth();return new er("ze_buffer",[e.x-n,e.y-n],[e.x+n,e.y+n],e.sr)}}class Vye extends Lr{attributes;geom;layer;map;proj;query;shared;symbology;constructor(e){super(e),this.geom=Vc.geom,this.proj=Vc.proj,this.shared=Vc.sharedUtils,this.map=new Pme(e),this.layer=new hye(e),this.attributes=new Cye(e),this.query=new Bye(e),this.symbology=new jye(e),Array.isArray(_t.request.interceptors)||(_t.request.interceptors=[]),_t.request.interceptors.push({before:r=>{r.url.includes("?blankTile=false")&&(r.url=r.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(e){_t.request.proxyUrl=e}get proxy(){return _t.request.proxyUrl||""}}const Gye=Object.assign({"../fixtures/appbar/index.ts":()=>ve(()=>import("./index-dTcL17IW.js"),__vite__mapDeps([227,1,228]),import.meta.url),"../fixtures/areas-of-interest/index.ts":()=>ve(()=>import("./index-Di3OBwVq.js"),__vite__mapDeps([229,230,231,1]),import.meta.url),"../fixtures/basemap/index.ts":()=>ve(()=>import("./index-Dt3x14Zg.js"),__vite__mapDeps([232,1]),import.meta.url),"../fixtures/crosshairs/index.ts":()=>ve(()=>import("./index-BPC1PqHM.js"),__vite__mapDeps([233,1,234]),import.meta.url),"../fixtures/details/index.ts":()=>ve(()=>import("./index-DDdoCbe9.js"),__vite__mapDeps([235,1,236]),import.meta.url),"../fixtures/draw/index.ts":()=>ve(()=>import("./index-DJnCx2OU.js").then(t=>t.i),__vite__mapDeps([237,1,238,239,176,84,46,47,137,56,138,139,75,76,77,164,57,58,3,240,81,61,241,74,82,10,83,80,242,91,92,102,243,244,245,41,85,24,25,159,160,246,247,248,249,250,251,98,252,253,254,255,256,257,4,5,6,258,259,260,261,8]),import.meta.url),"../fixtures/export-footnote/index.ts":()=>ve(()=>import("./index-CIDxQ-of.js"),__vite__mapDeps([262,263,1]),import.meta.url),"../fixtures/export-legend/index.ts":()=>ve(()=>import("./index-8ifjWjcK.js"),__vite__mapDeps([264,263,1]),import.meta.url),"../fixtures/export-map/index.ts":()=>ve(()=>import("./index-BthdaSev.js"),__vite__mapDeps([265,263,1]),import.meta.url),"../fixtures/export-northarrow/index.ts":()=>ve(()=>import("./index-CST9iBuG.js"),__vite__mapDeps([266,263,1]),import.meta.url),"../fixtures/export-scalebar/index.ts":()=>ve(()=>import("./index-B8mHtRfk.js"),__vite__mapDeps([267,263,1]),import.meta.url),"../fixtures/export-timestamp/index.ts":()=>ve(()=>import("./index-DnpV2hF7.js"),__vite__mapDeps([268,263,1]),import.meta.url),"../fixtures/export-title/index.ts":()=>ve(()=>import("./index-DtAoFX4u.js"),__vite__mapDeps([269,263,1]),import.meta.url),"../fixtures/export/index.ts":()=>ve(()=>import("./index-i347-cwZ.js"),__vite__mapDeps([270,1,271]),import.meta.url),"../fixtures/extentguard/index.ts":()=>ve(()=>import("./index-rDnK9ZHm.js"),__vite__mapDeps([272,1]),import.meta.url),"../fixtures/gazebo/index.ts":()=>ve(()=>import("./index-u46Ho-ef.js"),__vite__mapDeps([273,1]),import.meta.url),"../fixtures/geosearch/index.ts":()=>ve(()=>import("./index-B-dKkrzo.js"),__vite__mapDeps([274,1]),import.meta.url),"../fixtures/grid/index.ts":()=>ve(()=>import("./index-Bi1Kk74D.js"),__vite__mapDeps([275,1,276]),import.meta.url),"../fixtures/help/index.ts":()=>ve(()=>import("./index-DmkXjBrl.js"),__vite__mapDeps([277,1]),import.meta.url),"../fixtures/hilight/index.ts":()=>ve(()=>import("./index-CnnAiRp-.js"),__vite__mapDeps([278,236,1]),import.meta.url),"../fixtures/layer-reorder/index.ts":()=>ve(()=>import("./index-BAY4r2Ku.js"),__vite__mapDeps([279,1]),import.meta.url),"../fixtures/legend/index.ts":()=>ve(()=>import("./index-DwarRpGU.js"),__vite__mapDeps([280,1]),import.meta.url),"../fixtures/mapnav/index.ts":()=>ve(()=>import("./index-C3dDSAer.js"),__vite__mapDeps([281,1,239,282]),import.meta.url),"../fixtures/metadata/index.ts":()=>ve(()=>import("./index-DV3yoBWw.js"),__vite__mapDeps([283,1]),import.meta.url),"../fixtures/northarrow/index.ts":()=>ve(()=>import("./index-CEZs2Sj5.js"),__vite__mapDeps([284,1]),import.meta.url),"../fixtures/overviewmap/index.ts":()=>ve(()=>import("./index-CvAT-ZEr.js"),__vite__mapDeps([285,1,286]),import.meta.url),"../fixtures/panguard/index.ts":()=>ve(()=>import("./index-ClvYWTgm.js"),__vite__mapDeps([287,1,288]),import.meta.url),"../fixtures/scrollguard/index.ts":()=>ve(()=>import("./index-Bc0r8GV_.js"),__vite__mapDeps([289,1,290]),import.meta.url),"../fixtures/settings/index.ts":()=>ve(()=>import("./index-BQGayJ4Q.js"),__vite__mapDeps([291,1]),import.meta.url),"../fixtures/snowman/index.ts":()=>ve(()=>import("./index-BowYMBQS.js"),__vite__mapDeps([292,1]),import.meta.url),"../fixtures/swipe/index.ts":()=>ve(()=>import("./index-B6EQZ0ue.js"),__vite__mapDeps([293,1,294]),import.meta.url),"../fixtures/wizard/index.ts":()=>ve(()=>import("./index-BMsVF6Lm.js"),__vite__mapDeps([295,1]),import.meta.url)});class zye extends Lr{constructor(e){super(e)}exists(e){return e in Zs(this.$vApp.$pinia).items}async add(e,r){let i;if(e in Zs(this.$vApp.$pinia).items)return this.get(e);if(r){if(typeof r!="function")throw new Error("malformed fixture constructor");i=XA.updateBaseToInstance(new r,e,this.$iApi)}else{const s=(await Gye[`../fixtures/${e}/index.ts`]()).default;i=new s(e,this.$iApi)}return Zs(this.$vApp.$pinia).addFixture(i),this.$iApi.event.emit(Ie.FIXTURE_ADDED,i),this.$iApi.geo.map.created&&i.initialized?.(),i}remove(e){const r=this.get(e);if(!r)throw new Error(`Could not find fixture ${e} for removal`);return Zs(this.$vApp.$pinia).removeFixture(r),this.$iApi.event.emit(Ie.FIXTURE_REMOVED,r),r}flush(){const e=Zs(this.$vApp.$pinia);Object.keys(e.items).forEach(i=>{const s=this.get(i);s?.persist&&typeof s?.removed=="function"?s.removed():s&&this.remove(i)})}restore(){const e=Zs(this.$vApp.$pinia);Object.keys(e.items).forEach(i=>{const s=e.items[i];typeof s.added=="function"&&s.added(),this.$iApi.geo.map.created&&typeof s.initialized=="function"&&s.initialized()})}get(e){const r=[];typeof e=="string"?r.push(e):Array.isArray(e)?r.push(...e):r.push(e.id);const i=r.map(s=>{const n=Zs(this.$vApp.$pinia).items[s];if(n)return n});return i.length===1?i[0]:i}isLoaded(e){const r=Zs(this.$vApp.$pinia),i=Array.isArray(e)?e:[e];i.forEach(n=>{r.loadPromises[n]===void 0&&r.addLoadPromise(n)});const s=r.getLoadPromises(i);return Array.isArray(e)?Promise.all(s):s[0]}addDefaultFixtures(e){Array.isArray(e)||(e=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const r=ms(this.$vApp.$pinia);return r.startingFixtures=e,Promise.all(e.map(i=>this.add(i)))}}class XA extends Lr{static updateBaseToInstance(e,r,i){const s=new XA(r,i);return Object.defineProperties(e,{id:{value:r},$iApi:{value:i},persist:{value:e.persist??!0},$vApp:{get(){return s.$vApp}},remove:{value:s.remove},extend:{value:s.extend},config:{get(){return s.config}},mount:{value:s.mount}}),e}id;persist;constructor(e,r){super(r),this.id=e,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(e,r={}){const i=st({extends:e,iApi:this.$iApi,data(){return{...r}}}),s=Cl(i),{el:n}=this.mount(i,{props:{...r.propsData},app:s});return n}mount(e,{props:r,children:i,element:s,app:n}={}){let o=s,a=sn(e,r,i);return n&&n._context&&(a.appContext=n._context),o||(o=document.createElement("div")),Ah(a,o),{vNode:a,destroy:()=>{o&&Ah(null,o),o=null,a=null},el:o}}get config(){return ms(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(e){return this.getLayerFixtureConfigs()[e]}getLayerFixtureConfigs(){const e={},r=(i,s=void 0)=>{if(i.fixtures&&i.fixtures[this.id]!==void 0){let n=i.id;s!==void 0&&(n=this.$iApi.geo.layer.sublayerId(s.id,i.index)),e[n]=i.fixtures[this.id]}i.sublayers&&i.sublayers.forEach(n=>r(n,i))};return this.$iApi.geo.layer.allLayers().forEach(i=>r(i.config)),e}handlePanelWidths(e){if(this.config?.panelWidth){const r={};if(typeof this.config.panelWidth=="number")e.forEach(i=>{r[i]=this.config.panelWidth});else{this.config.panelWidth.default&&e.forEach(i=>{r[i]=this.config.panelWidth.default});for(const i in this.config.panelWidth)i!="default"&&(r[i]=this.config.panelWidth[i])}for(const i in r){const s=this.$iApi.panel.get(i);this.$iApi.panel.setStyle(s,{"flex-basis":`${r[i]}px`})}}}handlePanelTeleports(e){if(this.config?.panelTeleport){const r=nu(this.$vApp.$pinia),i=!!this.config.panelTeleport.target;e.forEach(s=>{r.items[s].teleport=i?this.config.panelTeleport:this.config.panelTeleport[s],r.items[s].style.width="100%"})}}}class qye extends Lr{panelStore=nu(this.$vApp.$pinia);updateHTML(e,r,i){const s=this.get(e),n=i?s.screens[i]:Object.values(s.screens)[0];if(VL(n))for(const o in r)n[o].innerHTML=r[o]instanceof HTMLElement?r[o].outerHTML:r[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(e){for(const i in e.content)if(typeof e.content[i]=="string"){const s=document.createElement("div");s.innerHTML=e.content[i],e.content[i]=s}const r={};return r[e.id]={screens:{},style:e.style??{width:"350px"},alertName:e.alertName},r[e.id].screens[e.id]=e.content,r}registerHTML(e){const r=this.get(e.id);if(r)return console.error("Panel already exist"),r;const i=this.registerHTMLConfig(e),s={i18n:{messages:e.i18nMap}};return this.register(i,s)}register(e,r){const i=Hye(e)?{[e.id]:e.config}:e;if(r){const n=r.i18n||{},o=this.$iApi.$i18n;Object.entries(n.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(n.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(n.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const s=Object.entries(i).reduce((n,[o,a])=>(n.push(new qy(this.$iApi,o,a)),n),[]);return s.forEach(n=>this.panelStore.registerPanel(n)),s.length===1?s[0]:s.reduce((n,o)=>(n[o.id]=o,n),{})}async isRegistered(e){const r=Array.isArray(e)?e:[e];r.forEach(s=>{this.panelStore.regPromises[s]===void 0&&this.panelStore.addRegPromise(s)});const i=this.panelStore.getRegPromises(r);return Array.isArray(e)?Promise.all(i):i[0]}allRegistered(){return Object.keys(this.panelStore.items)}remove(e){const r=this.get(e);r&&(r.isOpen&&this.close(r),this.panelStore.removePanel(r))}get(e){const r=typeof e=="string"?e:e.id;return this.panelStore.items[r]}open(e){let r,i,s;if(typeof e=="string"||e instanceof qy?r=this.get(e):(r=this.get(e.id),{screen:i,props:s}=e),!r)return r;if(r.isOpen&&!r.isVisible)r.minimize();else if(r.isOpen)return r;return i||(r.route&&!s?{screen:i,props:s}=r.route:i=Object.keys(r.screens).pop()),this.show(r,{screen:i,props:s})?(this.panelStore.openPanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Ie.PANEL_OPENED,r)):console.error(`Failed to open ${r.id} panel.`),r}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(e){const r=this.get(e);return r&&(r.isPinned&&r.pin(!1),this.panelStore.closePanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Ie.PANEL_CLOSED,r),r)}minimize(e){const r=this.get(e);return r&&(r.isPinned&&r.pin(!1),this.panelStore.closePanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Ie.PANEL_MINIMIZED,r),r)}move(e,r){const i=this.get(e);return i&&(this.panelStore.movePanel(i,r),i)}toggle(e,r){let i;return typeof e=="string"||e instanceof qy?i=this.get(e):i=this.get(e.id),i&&(r=typeof r<"u"?r:!i.isVisible,r!==i.isVisible?r?this.open(e):this.close(i):i)}toggleMinimize(e,r){let i;return typeof e=="string"||e instanceof qy?i=this.get(e):i=this.get(e.id),i&&(r=typeof r<"u"?r:!i.isVisible,r!==i.isVisible?r?this.open(i):this.minimize(i):i)}pin(e,r){const i=this.get(e);return!i||(r=typeof r<"u"?r:!i.isPinned,!i.isPinned&&!r)||(this.panelStore.pinned=r?i:void 0),i}get pinned(){return this.panelStore.pinned||void 0}show(e,r){const i=this.get(e);if(!i)return i;if(i.screens[r.screen]){if(i.screens[r.screen]?.props){const s=Object.keys(i.screens[r.screen]?.props).filter(o=>o!=="panel"),n=r.props?Object.keys(r.props):[];for(let o=0;o<s.length;o++)if(!n.includes(s[o])&&i.screens[r.screen].props[s[o]].required)return}return r.screen in this.$element._context.components||i.registerScreen(r.screen),i.teleport&&(r.props={header:!!i.teleport?.showHeader,...r.props}),this.panelStore.items[i.id].route=r,i}}setStyle(e,r,i=!1){const s=this.get(e);return s&&(this.panelStore.items[s.id].style=i?r:{...s.style,...r},s)}expand(e,r){const i=this.get(e);return i&&(this.panelStore.items[i.id].expanded=r!==void 0?r:!i.expanded,i)}}function Hye(t){return t.id!==void 0&&typeof t.id=="string"&&t.config!==void 0}const Wye={};function Yye(t,e){const r=Tr("panel-screen");return fe(),Vt(r,{header:!1,class:"screen-spinner"},{content:Pr(()=>e[0]||(e[0]=[le("div",{class:"loader"},null,-1)])),_:1})}const Jye=Ta(Wye,[["render",Yye],["__scopeId","data-v-d6b3771a"]]),Kye=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>ve(()=>import("./screen-B0ix-iWc.js"),__vite__mapDeps([296,230,231,1]),import.meta.url),"../fixtures/basemap/screen.vue":()=>ve(()=>import("./screen-Ceqg0BAR.js"),__vite__mapDeps([297,1,298]),import.meta.url),"../fixtures/export/screen.vue":()=>ve(()=>import("./screen-BktfHecV.js"),__vite__mapDeps([299,271,1]),import.meta.url),"../fixtures/geosearch/screen.vue":()=>ve(()=>import("./screen-tZBvRYrS.js"),__vite__mapDeps([300,1,301]),import.meta.url),"../fixtures/grid/screen.vue":()=>ve(()=>import("./screen-NmknXi30.js"),__vite__mapDeps([302,276,1,303]),import.meta.url),"../fixtures/help/screen.vue":()=>ve(()=>import("./screen-DFc0O6Zd.js"),__vite__mapDeps([304,305,1,306]),import.meta.url),"../fixtures/layer-reorder/screen.vue":()=>ve(()=>import("./screen-CW9JZKVl.js"),__vite__mapDeps([307,308,1,309]),import.meta.url),"../fixtures/legend/screen.vue":()=>ve(()=>import("./screen-_seoBU7U.js"),__vite__mapDeps([310,1]),import.meta.url),"../fixtures/metadata/screen.vue":()=>ve(()=>import("./screen-Bguoc9CU.js"),__vite__mapDeps([311,305,1,312]),import.meta.url),"../fixtures/settings/screen.vue":()=>ve(()=>import("./screen-BcG8zVDl.js"),__vite__mapDeps([313,308,314,315,1,316]),import.meta.url),"../fixtures/wizard/screen.vue":()=>ve(()=>import("./screen-D2DWBqkX.js"),__vite__mapDeps([317,308,1,318]),import.meta.url)});class qy extends Lr{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(e){return this.loadedScreens.indexOf(e)!==-1}registerScreen(e){const r=this.screens[e];let i;if(Pte(r)||Nte(r))i=r,this.loadedScreens.push(e);else if(VL(r))i={template:`<panel-screen :panel="this" :screenId="'${e}'">
                           </panel-screen>`};else{let s;typeof r=="string"?s=Kye[`../fixtures/${r}`]():s=r();const n=new Promise((o,a)=>{s.then(l=>{this.loadedScreens.push(e),o(Lte(l)?l.default:l)}),s.catch(l=>a(l))});i=r3({loader:()=>n,loadingComponent:Jye,delay:200})}this.$iApi.$element.component(e,i)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(e,r,i){if(super(e),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:r,style:{},expanded:!1,controls:{expand:!1,...i.controls},...i},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(e){return typeof e>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof e=="string"?{screen:e}:e}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(e){return this.$iApi.panel.move(this,e),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const e of this.$iApi.panel.visible)if(!e.teleport)return this.id===e.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let e=this.$iApi.panel.visible.length-1;e>=0;e--)if(!this.$iApi.panel.visible[e].teleport)return this.id===this.$iApi.panel.visible[e].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(e){return typeof e>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof e=="boolean"?e!==this.isOpen&&this.$iApi.panel.toggle(this,e):this.$iApi.panel.toggle({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}toggleMinimize(e){return typeof e>"u"||typeof e=="boolean"?this.$iApi.panel.toggleMinimize(this,e):this.$iApi.panel.toggleMinimize({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}pin(e){return e=typeof e<"u"?e:!this.isPinned,this.$iApi.panel.pin(this,e),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(e){const r=typeof e=="string"?{screen:e}:e;return this.route=r,this.$iApi.panel.show(this,r),this}setStyles(e,r=!1){return this.$iApi.panel.setStyle(this,e,r),this}expand(e){return this.$iApi.panel.expand(this,e),this}}class Zye extends Lr{constructor(e){super(e)}async easyLayer(e,r){const i=this.$iApi.geo.layer.createLayer(e);await this.$iApi.geo.map.addLayer(i);const s=this.$iApi.fixture.get("legend");return s&&(r?s.addItem(r):await s.addLayerItem(i)),i}}function Xye(t){const e={};(Array.isArray(t)?t:[t]).forEach(o=>{o.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),o.language="en");const a=Qye(o);e[o.language]=a});const i=Object.entries(e).map(o=>{const a=o[1].fixturesEnabled;return delete o[1].fixturesEnabled,a});let s=!1;const n=i.reduce((o,a)=>o.filter(l=>{const c=a.includes(l);return s=s||!c,c}));return s&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),n.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:n,configs:e}}function Qye(t){const e={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return r0e(t.services,e),e0e(t.map,e),i0e(t.ui,e),t.plugins&&s0e(t.plugins,e),e}function e0e(t,e){if(t.layers&&t.layers.forEach(r=>{e.layers.unshift(t0e(r))}),t.initialBasemapId&&(e.map.initialBasemapId=t.initialBasemapId),t.components){if(t.components.geoSearch&&(t.components.geoSearch.enabled&&e.fixturesEnabled.push("geosearch"),typeof t.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof t.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),t.components.overviewMap&&t.components.overviewMap.enabled&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.startMinimized=!t.components.overviewMap.initiallyExpanded,e.fixtures.overviewmap.expandFactor=t.components.overviewMap.expandFactor??1.5),t.components.northArrow&&t.components.northArrow.enabled){const r={};t.components.northArrow.arrowIcon&&(r.arrowIcon=t.components.northArrow.arrowIcon),t.components.northArrow.poleIcon&&(r.poleIcon=t.components.northArrow.poleIcon),r&&(e.fixtures.northarrow=r,e.fixturesEnabled.push("northarrow"))}if(t.components.scaleBar&&t.components.scaleBar.enabled){switch(e.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:t?.components?.scaleBar?.scalebarUnit==="english"||t?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},t.components?.mouseInfo?.spatialReference?.wkid){case 4326:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:e.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:e.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}t.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}t.components.basemap&&t.components.basemap.enabled&&e.fixturesEnabled.push("basemap")}t.extentSets&&(e.map.extentSets=[],t.extentSets.forEach(r=>{const i={id:r.id,default:{xmin:r.default.xmin,xmax:r.default.xmax,ymin:r.default.ymin,ymax:r.default.ymax,spatialReference:r.spatialReference}};r.full&&(i.full={xmin:r.full.xmin,xmax:r.full.xmax,ymin:r.full.ymin,ymax:r.full.ymax,spatialReference:r.spatialReference}),r.maximum&&(i.maximum={xmin:r.maximum.xmin,xmax:r.maximum.xmax,ymin:r.maximum.ymin,ymax:r.maximum.ymax,spatialReference:r.spatialReference}),e.map.extentSets.push(i)})),t.lodSets&&(e.map.lodSets=t.lodSets),t.tileSchemas&&(e.map.tileSchemas=[],t.tileSchemas.forEach(r=>{const i={id:r.id,name:r.name,extentSetId:r.extentSetId,lodSetId:r.lodSetId,thumbnailTileUrls:[],hasNorthPole:r.hasNorthPole||!1};r.overviewUrl&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.basemaps[r.id]={id:r.overviewUrl.id||`overviewmap-basemap-${r.id}`,tileSchemaId:r.id,layers:[{id:r.overviewUrl.id||`overviewmap-basemap-${r.id}-0`,layerType:r.overviewUrl.layerType==="esriDynamic"?Ne.MAPIMAGE:Ne.TILE,url:r.overviewUrl.url,opacity:r.overviewUrl.opacity??1}]}),e.map.tileSchemas.push(i)})),t.baseMaps&&(e.map.basemaps=[],t.baseMaps.forEach(r=>{const i={id:r.id,tileSchemaId:r.tileSchemaId,name:r.name,description:r.description,altText:r.altText,thumbnailUrl:r.thumbnailUrl,layers:[]};r.attribution&&(i.attribution={text:{},logo:{}},r.attribution.text&&(i.attribution.text.disabled=!r.attribution.text.enabled,i.attribution.text.value=r.attribution.text.value),r.attribution.logo&&(i.attribution.logo.disabled=!r.attribution.logo.enabled,i.attribution.logo.altText=r.attribution.logo.altText,i.attribution.logo.value=r.attribution.logo.value,i.attribution.logo.link=r.attribution.logo.link)),r.layers.forEach((s,n)=>{const o={id:s.id||`${r.id}-${n}`,layerType:s.layerType==="esriDynamic"?Ne.MAPIMAGE:Ne.TILE,url:s.url,opacity:s.opacity??1};i.layers.push(o)}),e.map.basemaps.push(i)})),t.legend&&(e.fixturesEnabled.push("legend"),t.legend.type==="autopopulate"?(e.fixtures.legend={root:{name:"I'm root",children:[]}},e.layers&&e.layers.toReversed().forEach(r=>{if(r.type==="esri-map-image"||r.type==="ogc-wms"){const i={name:r.name??`${r.id} Group`,children:[]};r.sublayers.forEach(s=>{const n={layerId:r.id};s.name&&(n.name=s.name),s.controls&&(n.controls=s.controls),s.disabledControls&&(n.disabledControls=s.disabledControls),r.type==="esri-map-image"?n.sublayerIndex=s.index:(n.sublayerId=s.id,console.warn(`sublayerId property defined in legend entry ${n.layerId} is currently not supported.`)),i.children.push(n)}),e.fixtures.legend.root.children.push(i)}else{const i={layerId:r.id};r.controls&&(i.controls=r.controls),r.disabledControls&&(i.disabledControls=r.disabledControls),e.fixtures.legend.root.children.push(i)}})):e.fixtures.legend={root:mE(t.legend.root)})}function mE(t){const e={name:t.name,children:[]};typeof t.hidden<"u"&&(e.hidden=t.hidden),typeof t.expanded<"u"&&(e.expanded=t.expanded);const r=["identify","opacity","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=uf(t.controls,r),t.controls.includes("visibility")&&e.controls.push("visibilityButton"),(t.controls.length!==1||t.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),e.controls.push("expandButton")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=uf(t.disabledControls,r),t.disabledControls.includes("visibility")&&e.disabledControls.push("visibilityButton"),(t.disabledControls.length!==1||t.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),t.children.forEach(i=>{if(i.layerId)e.children.push(kI(i));else if(i.infoType)i.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`):(e.children.push({infoType:i.infoType,content:i.content}),typeof i.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`));else if(i.exclusiveVisibility){const s={name:"Visibility Set",children:[],exclusive:!0};typeof i.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`),i.exclusiveVisibility.forEach(n=>{n.layerId?s.children.push(kI(n)):s.children.push(mE(n))}),e.children.push(s)}else e.children.push(mE(i))}),e}function kI(t){const e=t,r=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.layerControls=uf(t.controls,r),e.layerControls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledLayerControls=uf(t.disabledControls,r)),t.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),delete e.controlledIds),t.entryIndex&&(e.sublayerIndex=t.entryIndex,delete t.entryIndex),t.entryId&&console.warn(`entryId property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),e}function t0e(t){const e=V_(t);switch(e.id=t.id,e.url=t.url,t.refreshInterval&&(e.refreshInterval=t.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),t.expectedResponseTime&&(e.expectedLoadTime=t.expectedResponseTime),t.metadataUrl&&(e.metadata={url:t.metadataUrl}),t.catalogueUrl&&(e.catalogueUrl=t.catalogueUrl),typeof t.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.tooltipField&&(e.tooltipField=t.tooltipField),t.tolerance&&(e.mouseTolerance=t.tolerance,t.layerType==="esriDynamic"&&(e.touchTolerance=t.tolerance+10)),t.customRenderer&&(e.customRenderer=t.customRenderer),t.layerType){case"esriDynamic":e.layerType="esri-map-image",typeof t.singleEntryCollapse<"u"&&(e.singleEntryCollapse=t.singleEntryCollapse),t.imageFormat&&(e.imageFormat=t.imageFormat),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(r=>{const i=V_(r);i.index=r.index,e.sublayers.push(i)}));break;case"esriFeature":e.layerType="esri-feature",t.fileType&&(e.layerType=t.fileType==="shapefile"?"file-shape":`file-${t.fileType}`,t.colour&&(e.colour=t.colour),t.latField&&(e.latField=t.latField),t.longField&&(e.longField=t.longField));break;case"ogcWfs":e.layerType="ogc-wfs",t.colour&&(e.colour=t.colour),typeof t.xyInAttribs<"u"&&(e.xyInAttribs=t.xyInAttribs);break;case"ogcWms":e.layerType="ogc-wms",t.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.featureInfoMimeType&&(t.featureInfoMimeType==="text/html;fgpv=summary"?e.featureInfoMimeType="text/html":e.featureInfoMimeType=t.featureInfoMimeType),t.legendMimeType&&console.warn(`legendMimeType property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(r=>{const i=V_(r);i.id=r.id,r.currentStyle&&(i.currentStyle=r.currentStyle,console.warn(`currentStyle property provided in layer entry ${r.id} of layer ${t.id} is currently not supported.`)),r.allStyles&&console.warn(`allStyles property provided in layer entry ${r.id} of layer ${t.id} cannot be mapped and will be skipped.`),e.sublayers.push(i)}));break;case"esriImage":e.layerType="esri-imagery";break;case"esriTile":e.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${t.layerType}`)}return t.details&&console.warn(`Details config provided in layer ${t.id} cannot be mapped and will be skipped.`),e}function V_(t){const e={};t.name&&(e.name=t.name),t.nameField&&(e.nameField=t.nameField),t.extent&&(e.extent=t.extent);const r=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=uf(t.controls,r),e.controls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=uf(t.disabledControls,r)),t.state&&(e.state={opacity:t.state.opacity??1,visibility:t.state.visibility??!0,identify:t.state.query??!0,hovertips:t.state.hovertips??!0},typeof t.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`)),typeof t.stateOnly<"u"&&(e.cosmetic=t.stateOnly),t.initialFilteredQuery&&(e.initialFilteredQuery=t.initialFilteredQuery),n0e(t,e),(typeof t.toggleSymbology<"u"||t.table)&&(e.fixtures={},typeof t.toggleSymbology<"u"&&(e.fixtures.legend={toggleSymbology:t.toggleSymbology}),t.table&&(e.fixtures.grid={},t.table.title&&(e.fixtures.grid.title=t.table.title),t.table.description&&console.warn(`description property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.search&&(t.table.search.enabled&&(e.fixtures.grid.search=t.table.search.enabled),t.table.search.value&&(e.fixtures.grid.searchFilter=t.table.search.value)),typeof t.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.applyMap<"u"&&(e.fixtures.grid.applyMap=t.table.applyMap),typeof t.table.showFilter<"u"&&(e.fixtures.grid.showFilter=t.table.showFilter),typeof t.table.filterByExtent<"u"&&(e.fixtures.grid.filterByExtent=t.table.filterByExtent),typeof t.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.columns&&(e.fixtures.grid.columns=[],t.table.columns.forEach(i=>{const s={field:i.data};i.title&&(s.title=i.title),i.description&&console.warn(`description property provided in column property in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof i.visible<"u"&&(s.visible=i.visible),i.width&&(s.width=i.width),i.sort&&(s.sort=i.sort),typeof i.searchable<"u"&&(s.searchable=i.searchable),i.filter&&(s.filter=i.filter),e.fixtures.grid.columns.push(s)})))),e}function uf(t,e){const r=[];return t.forEach(i=>{e.includes("identify")&&i==="query"?r.push("identify"):e.includes("datatable")&&i==="data"?r.push("datatable"):e.includes(i)?r.push(i):console.warn(`Ignored invalid control: ${i}`)}),r}function r0e(t,e){if(!t)return;t.search&&(e.fixtures.geosearch={},e.fixtures.geosearch.serviceUrls={geoNames:t.search.serviceUrls.geoNames,geoLocation:t.search.serviceUrls.geoLocation,geoProvince:t.search.serviceUrls.provinces,geoTypes:t.search.serviceUrls.types},t.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),t.search.settings&&(e.fixtures.geosearch.settings=t.search.settings),t.search.disabledSearches&&(e.fixtures.geosearch.settings.disabledSearchTypes=t.search.disabledSearches.filter(i=>i!=="SCALE"))),t.export&&(e.fixtures.export||(e.fixtures.export={},e.fixturesEnabled.push("export")),t.export.title&&(e.fixtures.export.title={selected:t.export.title.isSelected??!0,selectable:t.export.title.isSelectable??!0,value:t.export.title.value??"RAMP-Map / PCAR-Carte"}),t.export.map&&(e.fixtures.export.map={selected:t.export.map.isSelected??!0,selectable:t.export.map.isSelectable??!0},t.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),t.export.mapElements&&(e.fixtures.export.mapElements={selected:t.export.mapElements.isSelected??!0,selectable:t.export.mapElements.isSelectable??!0},t.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),t.export.legend&&(e.fixtures.export.legend={selected:t.export.legend.isSelected??!0,selectable:t.export.legend.isSelectable??!0},t.export.legend.columnWidth&&(e.fixtures.export.legend.columnWidth=t.export.legend.columnWidth),t.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),t.export.footnote&&(e.fixtures.export.footnote={selected:t.export.footnote.isSelected??!0,selectable:t.export.footnote.isSelectable??!0,value:t.export.footnote.value??""}),t.export.timestamp&&(e.fixtures.export.timestamp={selected:t.export.timestamp.isSelected??!0,selectable:t.export.timestamp.isSelectable??!0},t.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),t.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof t.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),t.proxyUrl&&(e.system.proxyUrl=t.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(i=>{typeof t[i]<"u"&&console.warn(`${i} property provided in services config cannot be mapped and will be skipped.`)})}function i0e(t,e){if(t.navBar){e.fixtures.mapnav={zoomOption:t.navBar.zoom||"buttons",items:[]};const s=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];t.navBar.extra.forEach(n=>{const o=n.toLowerCase();s.includes(o)?e.fixtures.mapnav.items.push(o):console.warn(`Ignored invalid mapnav item: ${n}`)}),e.fixturesEnabled.push("mapnav")}if(t.help&&(e.fixtures.help={location:t.help.folderName&&t.help.folderName!=="default"?`./${t.help.folderName}`:"./help",panelWidth:350},e.fixturesEnabled.push("help")),t.legend){const s=["groupToggle","visibilityToggle"];t.legend.reorderable&&s.push("layerReorder"),t.legend.allowImport&&s.push("wizard"),e.fixtures.legend?e.fixtures.legend.headerControls=s:(e.fixturesEnabled.push("legend"),e.fixtures.legend={headerControls:s,root:{}}),t.legend.isOpen&&t.legend.isOpen.large&&e.panels.open.push({id:"legend"})}e.fixtures.appbar={items:[]},e.fixturesEnabled.push("appbar");const r=["layers","basemap","export","help","geoSearch"];t.appBar?(t.appBar.layers!==!1&&(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")),t.appBar.geoSearch!==!1&&e.fixturesEnabled.includes("geosearch")&&e.fixtures.appbar.items.push("geosearch"),t.appBar.basemap!==!1&&e.fixtures.appbar.items.push("basemap")):(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend"),e.fixtures.appbar.items.push("geosearch"),e.fixtures.appbar.items.push("basemap")),t.sideMenu&&t.sideMenu.items&&t.sideMenu.items.length>0&&t.sideMenu.items.forEach(s=>{s.forEach(n=>{n==="layers"&&!e.fixtures.appbar.items.includes("legend")?(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")):n!=="layers"&&r.includes(n)&&!e.fixtures.appbar.items.includes(n.toLowerCase())&&(e.fixtures.appbar.items.push(n.toLowerCase()),(n.toLowerCase()==="help"||n.toLowerCase()==="export"&&!e.fixturesEnabled.includes(n.toLowerCase()))&&e.fixturesEnabled.push(n.toLowerCase()))})}),t.tableIsOpen&&t.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(s=>{typeof t[s]<"u"&&console.warn(`${s} property provided in services config cannot be mapped and will be skipped.`)})}function s0e(t,e){t.areasOfInterest.enable&&(e.fixturesEnabled.includes("areas-of-interest")||e.fixturesEnabled.push("areas-of-interest"),t.areasOfInterest.areas&&(e.fixtures["areas-of-interest"]={areas:t.areasOfInterest.areas.map(r=>({title:`${r["title-en-CA"]} / ${r["title-fr-CA"]}`,thumbnail:r.thumbnailUrl,altText:r.altText??"",description:r.description??"",extent:{xmin:r.xmin,xmax:r.xmax,ymin:r.ymin,ymax:r.ymax,spatialReference:{wkid:r.wkid}}}))}))}function n0e(t,e){const r=t.outfields&&t.outfields!=="*";if(!r&&!t.fieldMetadata)return;const i={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};t.fieldMetadata?(i.fieldInfo=t.fieldMetadata.map(s=>{const n={name:s.data};return s.alias&&(n.alias=s.alias),n}),r&&(t.outfields.split(",").map(n=>n.trim()).forEach(n=>{i.fieldInfo.findIndex(o=>o.name===n)===-1&&i.fieldInfo.push({name:n})}),i.exclusiveFields=!0)):r&&(i.fieldInfo=t.outfields.split(",").map(s=>({name:s.trim()})),i.exclusiveFields=!0),e.fieldMetadata=i}var qu={major:"4",minor:"13",patch:"0",timestamp:"Thu Aug 21 09:00:14 2025 -0400",hash:"decf463645061edf5416a4d9533b22b1d607af6e"};console.info(`RAMP v${qu.major}.${qu.minor}.${qu.patch} [${qu.hash.slice(0,9)}] (Built on ${new Date(qu.timestamp.toString()).toLocaleString()})`);const Yf=qu;function Dwe(t){return Xye(t)}const Fwe=(t,e,r)=>new $me(t,e,r),Vc=new Cte;export{Fr as $,$C as A,Wn as B,aS as C,pp as D,F0e as E,XA as F,Kt as G,ni as H,Xe as I,t1 as J,Fve as K,dp as L,Yy as M,fp as N,um as O,Ji as P,K5 as Q,_t as R,EC as S,ewe as T,Jt as U,Mt as V,Eve as W,bV as X,de as Y,iB as Z,ml as _,YJ as a,Ro as a$,Ct as a0,Sge as a1,ny as a2,Nr as a3,xF as a4,AF as a5,Vn as a6,l1e as a7,Bn as a8,ur as a9,kwe as aA,ba as aB,vm as aC,IN as aD,NN as aE,CN as aF,ON as aG,KF as aH,m_e as aI,Q4 as aJ,o2e as aK,R1e as aL,jbe as aM,gH as aN,zbe as aO,qbe as aP,Dbe as aQ,oS as aR,RH as aS,Yi as aT,hC as aU,Gbe as aV,tg as aW,wbe as aX,De as aY,Nd as aZ,J0e as a_,X as aa,li as ab,au as ac,Kr as ad,r2 as ae,zC as af,GU as ag,Uv as ah,S2 as ai,fS as aj,mm as ak,Hc as al,UF as am,ls as an,si as ao,f1e as ap,ee as aq,LW as ar,r1 as as,i1 as at,Yve as au,q5 as av,H5 as aw,sV as ax,Mo as ay,OK as az,$h as b,ht as b$,C5 as b0,N5 as b1,Ege as b2,qge as b3,WC as b4,Jv as b5,Qv as b6,bp as b7,o5 as b8,Ln as b9,oW as bA,iP as bB,Rbe as bC,Lbe as bD,Tbe as bE,Tp as bF,Ap as bG,zH as bH,Kbe as bI,c1e as bJ,qc as bK,at as bL,fh as bM,df as bN,Zve as bO,b0e as bP,_0e as bQ,hbe as bR,w0e as bS,Sl as bT,S_e as bU,$o as bV,Z6 as bW,Dr as bX,j0e as bY,KI as bZ,xge as b_,xB as ba,jE as bb,GE as bc,EB as bd,Xv as be,Ave as bf,Cve as bg,Rve as bh,Hv as bi,wt as bj,vp as bk,qj as bl,sbe as bm,ibe as bn,Ebe as bo,ko as bp,sS as bq,EF as br,Jbe as bs,MH as bt,Jq as bu,JT as bv,KC as bw,ts as bx,YE as by,aW as bz,Fwe as c,S0e as c$,zve as c0,Et as c1,ube as c2,yge as c3,ut as c4,gp as c5,kve as c6,dm as c7,ym as c8,Al as c9,r_e as cA,Bbe as cB,Vbe as cC,qv as cD,MG as cE,n2e as cF,pf as cG,xm as cH,EY as cI,SY as cJ,AY as cK,Z1e as cL,TC as cM,z_ as cN,I0e as cO,YI as cP,h0e as cQ,tC as cR,u0e as cS,G5 as cT,Fbe as cU,ug as cV,bH as cW,Ybe as cX,V5 as cY,Wbe as cZ,vH as c_,jn as ca,Dwe as cb,sK as cc,Uf as cd,$u as ce,eJ as cf,NS as cg,cL as ch,uL as ci,vr as cj,mwe as ck,gM as cl,OJ as cm,K2e as cn,swe as co,iwe as cp,_Y as cq,TB as cr,$ve as cs,wY as ct,xn as cu,rV as cv,Od as cw,t_e as cx,s_e as cy,i_e as cz,JE as d,Ai as d$,KB as d0,Gve as d1,YB as d2,$N as d3,Q1e as d4,QV as d5,Tb as d6,eN as d7,bf as d8,m2 as d9,m0e as dA,kW as dB,p0e as dC,UW as dD,jW as dE,BW as dF,r1e as dG,s1e as dH,i1e as dI,n1e as dJ,o1e as dK,a1e as dL,eW as dM,hd as dN,Mu as dO,kY as dP,Nbe as dQ,Awe as dR,HJ as dS,Swe as dT,xp as dU,Qge as dV,eve as dW,gbe as dX,mbe as dY,ybe as dZ,gm as d_,Yt as da,cg as db,p2 as dc,g2 as dd,dbe as de,ove as df,nve as dg,aB as dh,zc as di,VE as dj,d_e as dk,g0e as dl,fg as dm,Bv as dn,Vv as dp,_C as dq,Ta as dr,xe as ds,fe as dt,le as du,us as dv,qr as dw,Hr as dx,S1e as dy,kh as dz,Be as e,Dg as e$,vbe as e0,Ib as e1,Oge as e2,twe as e3,wb as e4,Sw as e5,tbe as e6,V_e as e7,l2e as e8,uW as e9,PH as eA,Xge as eB,lge as eC,age as eD,Mve as eE,vS as eF,BP as eG,Fd as eH,aa as eI,Sr as eJ,GH as eK,$G as eL,st as eM,sr as eN,nu as eO,rme as eP,et as eQ,$t as eR,Vt as eS,Tr as eT,$e as eU,Pr as eV,Vl as eW,Lt as eX,Ot as eY,lr as eZ,Dt as e_,hW as ea,Kge as eb,jv as ec,R0e as ed,Q2e as ee,rwe as ef,Hbe as eg,J_e as eh,u2e as ei,xve as ej,Lve as ek,bge as el,Mr as em,Si as en,Is as eo,pm as ep,o2 as eq,xt as er,U1e as es,D1e as et,X1e as eu,u4 as ev,Xve as ew,Qve as ex,b2e as ey,vge as ez,ge as f,pN as f$,rv as f0,D1 as f1,Xr as f2,vi as f3,Ur as f4,Jn as f5,Wt as f6,xo as f7,ime as f8,Ie as f9,x0e as fA,u1e as fB,QB as fC,Jy as fD,i2e as fE,q_e as fF,j1e as fG,f0e as fH,T1e as fI,V0e as fJ,owe as fK,C_e as fL,T_e as fM,_V as fN,uV as fO,Q5 as fP,F_e as fQ,D_e as fR,VW as fS,cN as fT,ZI as fU,QI as fV,eC as fW,k0e as fX,hge as fY,K1e as fZ,dN as f_,er as fa,Ke as fb,r3 as fc,gge as fd,RF as fe,U2e as ff,Zc as fg,h1 as fh,$0e as fi,WB as fj,I2e as fk,Ns as fl,FW as fm,ph as fn,fB as fo,Pl as fp,t0 as fq,Hu as fr,s1 as fs,rbe as ft,lu as fu,A0e as fv,w1e as fw,Hve as fx,eV as fy,tV as fz,Vc as g,Zge as g$,EE as g0,PE as g1,bC as g2,xW as g3,yS as g4,Nve as g5,nU as g6,sve as g7,Dve as g8,I5 as g9,dge as gA,SC as gB,Fx as gC,Eme as gD,O as gE,VP as gF,GP as gG,wE as gH,Bve as gI,yve as gJ,my as gK,b1 as gL,bwe as gM,$we as gN,uC as gO,DW as gP,RW as gQ,Wve as gR,aV as gS,cge as gT,Y2e as gU,B2e as gV,wme as gW,G1 as gX,DE as gY,bB as gZ,k1e as g_,Uve as ga,jve as gb,Ih as gc,xbe as gd,Yge as ge,K0e as gf,p_e as gg,lL as gh,Tl as gi,fge as gj,tme as gk,_r as gl,tv as gm,xme as gn,b5 as go,A5 as gp,ff as gq,Y0e as gr,rC as gs,uve as gt,Nj as gu,Dj as gv,jj as gw,Oh as gx,vU as gy,El as gz,sU as h,z_e as h$,Q0e as h0,d5 as h1,zP as h2,Gv as h3,z0e as h4,q0e as h5,G0e as h6,nB as h7,f9 as h8,lm as h9,Mme as hA,KS as hB,In as hC,B1 as hD,gR as hE,_T as hF,AC as hG,EW as hH,sge as hI,hG as hJ,Y1e as hK,gE as hL,H0e as hM,vE as hN,W0e as hO,Fge as hP,J2e as hQ,H2e as hR,Jge as hS,O1e as hT,lN as hU,A0 as hV,uo as hW,mge as hX,sN as hY,zV as hZ,dS as h_,LH as ha,P3 as hb,Um as hc,jI as hd,l0e as he,dF as hf,a0e as hg,pF as hh,v0e as hi,vme as hj,bme as hk,MI as hl,Ha as hm,lD as hn,YA as ho,Ne as hp,Sme as hq,ms as hr,Wo as hs,Un as ht,dl as hu,Fl as hv,Hp as hw,Lr as hx,Wm as hy,Sg as hz,rr as i,bj as i$,B_e as i0,Ige as i1,Cge as i2,V1 as i3,dt as i4,LG as i5,R2e as i6,Ube as i7,vY as i8,nwe as i9,Pve as iA,fye as iB,Aye as iC,dye as iD,Tme as iE,TN as iF,iG,N1e as iH,SP as iI,y2e as iJ,f2e as iK,Sp as iL,Ime as iM,Ame as iN,Nt as iO,Pp as iP,HA as iQ,gme as iR,Hn as iS,GA as iT,Oi as iU,je as iV,Qde as iW,L2e as iX,sn as iY,tge as iZ,tN as i_,ir as ia,fwe as ib,F2e as ic,k2e as id,rM as ie,pi as ig,OF as ih,fT as ii,vF as ij,BV as ik,YV as il,iN as im,x1e as io,H1e as ip,TE as iq,jge as ir,Uge as is,SU as it,EU as iu,V1e as iv,Jve as iw,Sve as ix,f5 as iy,Zv as iz,oi as j,Hge as j$,pbe as j0,Sbe as j1,SW as j2,Vve as j3,hwe as j4,yp as j5,Kv as j6,lV as j7,Nh as j8,Kve as j9,Vi as jA,Ge as jB,xr as jC,mo as jD,aD as jE,pE as jF,kk as jG,_me as jH,u3 as jI,Qt as jJ,j_e as jK,U_e as jL,HW as jM,d0e as jN,Tve as jO,xE as jP,mve as jQ,ll as jR,Yn as jS,gr as jT,qve as jU,xU as jV,Wa as jW,_F as jX,_B as jY,WT as jZ,cU as j_,_1e as ja,ZH as jb,mF as jc,zi as jd,ra as je,ol as jf,Gr as jg,cY as jh,O0e as ji,KT as jj,$1e as jk,M1e as jl,sG as jm,Em as jn,Sm as jo,Am as jp,T0e as jq,rve as jr,XI as js,w5 as jt,wve as ju,z5 as jv,qT as jw,S5 as jx,Mh as jy,M0e as jz,X2e as k,pL as k$,Wge as k0,c0e as k1,tG as k2,I1e as k3,h1e as k4,E0e as k5,fN as k6,lwe as k7,cwe as k8,awe as k9,U0e as kA,Owe as kB,di as kC,ii as kD,G1e as kE,c2e as kF,bU as kG,uge as kH,bbe as kI,_2 as kJ,w2 as kK,lg as kL,ag as kM,p1e as kN,t1e as kO,e1e as kP,vV as kQ,A_e as kR,E1e as kS,q2e as kT,W2e as kU,z2e as kV,V2e as kW,P0e as kX,rW as kY,tW as kZ,uS as k_,gP as ka,rf as kb,uue as kc,Ao as kd,jr as ke,Af as kf,Wue as kg,Je as kh,qJ as ki,Dge as kj,Yv as kk,va as kl,SE as km,e_e as kn,p3 as ko,l3 as kp,xi as kq,UR as kr,_be as ks,D2e as kt,On as ku,C1e as kv,C2e as kw,N2e as kx,P2e as ky,_ge as kz,cm as l,Z0e as l$,hK as l0,wK as l1,Nwe as l2,fK as l3,wwe as l4,sL as l5,Cwe as l6,nK as l7,tx as l8,XJ as l9,g1e as lA,DF as lB,s5 as lC,ZV as lD,ebe as lE,oG as lF,dG as lG,P1e as lH,XV as lI,T2 as lJ,L1e as lK,F1e as lL,z1e as lM,Ks as lN,kge as lO,Ive as lP,d1e as lQ,pa as lR,Gi as lS,Z2e as lT,nge as lU,$H as lV,L0e as lW,qH as lX,Mp as lY,Op as lZ,IH as l_,pu as la,Ah as lb,C3 as lc,uh as ld,qy as le,na as lf,Ds as lg,Ir as lh,cP as li,YH as lj,ET as lk,m1e as ll,y1e as lm,Ove as ln,yB as lo,_g as lp,kbe as lq,Mbe as lr,Ibe as ls,$be as lt,Cbe as lu,Obe as lv,Pbe as lw,fbe as lx,mT as ly,Abe as lz,_L as m,J1e as m0,_P as m1,W1e as m2,OB as m3,SF as m4,t2e as m5,r2e as m6,bP as m7,DG as m8,wge as m9,zW as mA,N_e as mB,N0e as mC,bF as mD,C0e as mE,W_e as mF,y0e as mG,GW as mH,Nge as mI,I_e as mJ,Q_e as mK,O_e as mL,$_e as mM,q1e as mN,gC as mO,oge as mP,e2e as mQ,Bge as ma,G2e as mb,eU as mc,A1e as md,DV as me,NV as mf,kT as mg,ive as mh,M_e as mi,a2e as mj,Y_e as mk,X_e as ml,K_e as mm,X0e as mn,T2e as mo,A2e as mp,B0e as mq,H_e as mr,B1e as ms,s2e as mt,ege as mu,En as mv,uwe as mw,Z_e as mx,G_e as my,Ku as mz,ZF as n,rU as o,fd as p,g as q,cC as r,mt as s,_E as t,Es as u,A as v,iU as w,ie as x,lj as y,tt as z};
