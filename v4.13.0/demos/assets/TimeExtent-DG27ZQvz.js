import{bW as c,aB as g,eK as D,aY as E,z as v,q as d,v as m,H as p,G as y,x as N}from"./main-6eEsl9OJ.js";const T={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function h(i,e,t,s=c){const n=new g(D(s)),r=E.fromJSDate(i,{zone:n}),l=t==="decades"||t==="centuries"?"year":A(t);return t==="decades"&&(e*=10),t==="centuries"&&(e*=100),r.plus({[l]:e}).toJSDate()}function q(i,e,t="milliseconds"){const s=i.getTime(),n=x(e,t,"milliseconds");return new Date(s+n)}function w(i,e,t=c){const s=new g(D(t)),n=E.fromJSDate(i,{zone:s});if(e==="decades"||e==="centuries"){const l=n.startOf("year"),{year:o}=l,S=o-o%(e==="decades"?10:100);return l.set({year:S}).toJSDate()}const r=A(e);return n.startOf(r).toJSDate()}function x(i,e,t){return i===0?0:i*T[e]/T[t]}function O(i,e){return i&&e?i.intersection(e):i||e}function A(i){switch(i){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var a;let u=class extends v{static{a=this}static get allTime(){return f}static get empty(){return J}static fromArray(e){return new a({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(a.allTime)}get isEmpty(){return this.equals(a.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new a({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,s=this.end?.getTime()??this.end,n=e.start?.getTime()??e.start,r=e.end?.getTime()??e.end;return t===n&&s===r}expandTo(e,t=c){if(this.isEmpty||this.isAllTime)return this.clone();let s=this.start;s&&(s=w(s,e,t));let n=this.end;if(n){const r=w(n,e,t);n=n.getTime()===r.getTime()?r:h(r,1,e,t)}return new a({start:s,end:n})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return a.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,s=this.end?.getTime()??1/0,n=e.start?.getTime()??-1/0,r=e.end?.getTime()??1/0;let l,o;return n>=t&&n<=s?l=n:t>=n&&t<=r&&(l=t),s>=n&&s<=r?o=s:r>=t&&r<=s&&(o=r),l==null||o==null||isNaN(l)||isNaN(o)?a.empty:new a({start:l===-1/0?null:new Date(l),end:o===1/0?null:new Date(o)})}offset(e,t,s=c){if(this.isEmpty||this.isAllTime)return this.clone();const n=new a,{start:r,end:l}=this;return r!=null&&(n.start=h(r,e,t,s)),l!=null&&(n.end=h(l,e,t,s)),n}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return f.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,s=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new a({start:t,end:s})}};d([m({type:Date,json:{write:{allowNull:!0}}})],u.prototype,"end",void 0),d([p("end")],u.prototype,"readEnd",null),d([y("end")],u.prototype,"writeEnd",null),d([m({readOnly:!0,json:{read:!1}})],u.prototype,"isAllTime",null),d([m({readOnly:!0,json:{read:!1}})],u.prototype,"isEmpty",null),d([m({type:Date,json:{write:{allowNull:!0}}})],u.prototype,"start",void 0),d([p("start")],u.prototype,"readStart",null),d([y("start")],u.prototype,"writeStart",null),u=a=d([N("esri.time.TimeExtent")],u);const f=new u,J=new u({start:void 0,end:void 0});export{O as g,q as i,x as m,h as o,T as r,u};
