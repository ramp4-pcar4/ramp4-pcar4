<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0" />
        <title>ramp-core</title>
    </head>
    <body style="margin: 0">
        <style>
            #instance-language {
                margin-left: 20px;
            }
        </style>

        <noscript>
            <strong
                >We're sorry but ramp-core doesn't work properly without
                JavaScript enabled. Please enable it to continue.</strong
            >
        </noscript>

        <div id="IE"></div>
        <div
            id="app"
            style="height: 100vh; max-height: -webkit-fill-available"
        ></div>

        <script>
            // get RAMP "starter" script from url param
            const params = new URLSearchParams(document.location.search);
            let script = document.createElement('script');
            let starterParam = params.get('script');
            let scriptName = 'main';
            if (starterParam) {
                scriptName = starterParam;
            }
            // html-webpack-plugin doesn't like template strings
            script.src = './starter-scripts/' + scriptName + '.js';
            script.type = 'module';
            document.body.appendChild(script);
            // log an error msg if script doesn't exist / is broken
            window.onerror = (msg, src) => {
                if (src === script.src) {
                    console.log('invalid script');
                }
            };

            console.log('using starter script: ' + scriptName + '.js');
        </script>
    </body>
</html>
