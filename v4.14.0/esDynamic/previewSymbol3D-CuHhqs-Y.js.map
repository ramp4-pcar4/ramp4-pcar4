{"version":3,"file":"previewSymbol3D-CuHhqs-Y.js","sources":["../../node_modules/@arcgis/core/symbols/support/previewSymbol3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import{toHSV as t,toRGB as l}from\"../../core/colorUtils.js\";import\"../../core/has.js\";import a from\"../../core/Error.js\";import s from\"../../core/Logger.js\";import{pt2px as n}from\"../../core/screenUtils.js\";import{defaultThematicColor as r,dekebabifyLineStyle as o,getPatternUrlWithColor as i}from\"./gfxUtils.js\";import{defaultPrimitive as c}from\"./IconSymbol3DLayerResource.js\";import{defaultPrimitive as p}from\"./ObjectSymbol3DLayerResource.js\";import{adjustColorComponentBrightness as u,shapes as h,getTetrahedronShapes as m,getDiamondShapes as f,getCylinderShapes as y,getCubeShapes as d,getInvertedConeShapes as b,getConeShapes as k,getPathSymbolShapes as v,getWaterSymbolShapes as g,getExtrudeSymbolShapes as w}from\"./previewUtils.js\";import{renderSymbol as x,tintImageWithColor as M}from\"./renderUtils.js\";import{isVolumetricSymbol as L,getIconHref as j}from\"./utils.js\";import{resolveWebStyleSymbol as z}from\"./webStyleSymbolUtils.js\";const S=22,P=120,D=80,U=50,C=20;function O(e){const t=e.outline,l=null!=e.material?e.material.color:null,a=null!=l?l.toHex():null;if(null==t||\"pattern\"in t&&null!=t.pattern&&\"style\"===t.pattern.type&&\"none\"===t.pattern.style)return\"fill\"===e.type&&\"#ffffff\"===a?{color:\"#bdc3c7\",width:.75}:null;const s=n(t.size)||0;return{color:\"rgba(\"+(null!=t.color?t.color.toRgba():\"255,255,255,1\")+\")\",width:Math.min(s,D),style:\"pattern\"in t&&null!=t.pattern&&\"style\"===t.pattern.type?o(t.pattern.style):null,join:\"butt\",cap:\"patternCap\"in t?t.patternCap:\"butt\"}}async function R(t,l){if(t.thumbnail?.url)return t.thumbnail.url;if(\"icon\"===l.type){const e=l?.resource?.href;if(e)return j(l)}const a=e(\"esri/images/Legend/legend3dsymboldefault.png\");if(t.styleOrigin&&(t.styleOrigin.styleName||t.styleOrigin.styleUrl)){const e=await z(t.styleOrigin,{portal:t.styleOrigin.portal}).catch(()=>null);if(e&&\"thumbnail\"in e&&e.thumbnail?.url)return e.thumbnail.url}return a}function E(e,a=1){const s=e.a,n=t(e),r=n.h,o=n.s/a,i=100-(100-n.v)/a,{r:c,g:p,b:u}=l({h:r,s:o,v:i});return[c,p,u,s]}function q(e){return\"water\"===e.type?null==e.color?null:e.color:null==e.material?.color?null:e.material.color}function I(e,t=0){const l=q(e);if(!l){if(\"fill\"===e.type)return null;const l=r.r,a=u(l,t);return[a,a,a,100]}const a=l.toRgba();for(let s=0;s<3;s++)a[s]=u(a[s],t);return a}async function Z(t,l){const a=t.style;if(\"none\"===a)return null;return{type:\"pattern\",x:0,y:0,src:await i(e(`esri/symbols/patterns/${a}.png`),l.toCss(!0)),width:5,height:5}}function H(e){return e.outline?O(e):{color:\"rgba(0, 0, 0, 1)\",width:1.5}}function N(e,t){const l=q(e);if(!l)return null;let a=\"rgba(\";return a+=u(l.r,t)+\",\",a+=u(l.g,t)+\",\",a+=u(l.b,t)+\",\",a+l.a+\");\"}function T(e,t){const l=e.edges;if(!l||!l.color||!l.size)return null;return{color:l.color.toCss(!0),width:Math.min(n(l.size),t,D),join:\"round\"}}function F(e,t){const l=N(e,t);if(!l)return null;if(\"pattern\"in e&&null!=e.pattern&&\"style\"===e.pattern.type&&\"none\"===e.pattern.style)return null;const a={color:l,width:Math.min(e.size?n(e.size):.75,D)};return\"pattern\"in e&&\"style\"===e.pattern?.type&&(a.style=o(e.pattern.style)),\"cap\"in e&&e.cap&&(a.cap=e.cap),\"join\"in e&&e.join&&(a.join=\"miter\"===e.join?n(2):e.join),a}function $(e,t,l){const a=null!=l?.75*l:0;return{type:\"linear\",x1:a?.25*a:0,y1:a?.5*a:0,x2:a||4,y2:a?.5*a:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function A(e){const t=e.depth,l=e.height,a=e.width;return 0!==a&&0!==t&&0!==l&&a===t&&null!=a&&null!=l&&a<l}function B(e,t,l){const a=[];if(!e)return a;switch(e.type){case\"icon\":{const l=0,s=0,n=t,r=t;switch(e.resource?.primitive??c){case\"circle\":a.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:I(e,0),stroke:O(e)});break;case\"square\":a.push({shape:{type:\"path\",path:[{command:\"M\",values:[l,r]},{command:\"L\",values:[l,s]},{command:\"L\",values:[n,s]},{command:\"L\",values:[n,r]},{command:\"Z\",values:[]}]},fill:I(e,0),stroke:O(e)});break;case\"triangle\":a.push({shape:{type:\"path\",path:[{command:\"M\",values:[l,r]},{command:\"L\",values:[.5*n,s]},{command:\"L\",values:[n,r]},{command:\"Z\",values:[]}]},fill:I(e,0),stroke:O(e)});break;case\"cross\":a.push({shape:{type:\"path\",path:[{command:\"M\",values:[.5*n,s]},{command:\"L\",values:[.5*n,r]},{command:\"M\",values:[l,.5*r]},{command:\"L\",values:[n,.5*r]}]},stroke:H(e)});break;case\"x\":a.push({shape:{type:\"path\",path:[{command:\"M\",values:[l,s]},{command:\"L\",values:[n,r]},{command:\"M\",values:[n,s]},{command:\"L\",values:[l,r]}]},stroke:H(e)});break;case\"kite\":a.push({shape:{type:\"path\",path:[{command:\"M\",values:[l,.5*r]},{command:\"L\",values:[.5*n,s]},{command:\"L\",values:[n,.5*r]},{command:\"L\",values:[.5*n,r]},{command:\"Z\",values:[]}]},fill:I(e,0),stroke:O(e)})}break}case\"object\":switch(e.resource?.primitive??p){case\"cone\":{const s=$(I(e,0),I(e,-.6),l?C:t),n=k(t,l);a.push({shape:n[0],fill:s},{shape:n[1],fill:s});break}case\"inverted-cone\":{const l=I(e,0),s=$(l,I(e,-.6),t),n=b(t);a.push({shape:n[0],fill:s},{shape:n[1],fill:l});break}case\"cube\":{const s=d(t,l);a.push({shape:s[0],fill:I(e,0)},{shape:s[1],fill:I(e,-.3)},{shape:s[2],fill:I(e,-.5)});break}case\"cylinder\":{const s=$(I(e,0),I(e,-.6),l?C:t),n=y(t,l);a.push({shape:n[0],fill:s},{shape:n[1],fill:s},{shape:n[2],fill:I(e,0)});break}case\"diamond\":{const l=f(t);a.push({shape:l[0],fill:I(e,-.3)},{shape:l[1],fill:I(e,0)},{shape:l[2],fill:I(e,-.3)},{shape:l[3],fill:I(e,-.7)});break}case\"sphere\":{const l=$(I(e,0),I(e,-.6));l.x1=0,l.y1=0,l.x2=.25*t,l.y2=.25*t,a.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:l});break}case\"tetrahedron\":{const l=m(t);a.push({shape:l[0],fill:I(e,-.3)},{shape:l[1],fill:I(e,0)},{shape:l[2],fill:I(e,-.6)});break}}break}return a}function G(e){const t=\"number\"==typeof e?.size?e?.size:null;return t?n(t):null}function J(e){return\"icon\"===e.type?\"multiply\":\"tint\"}async function K(e,t){const l=G(t),a=t?.maxSize?n(t.maxSize):null,r=t?.disableUpsampling??!1,o=e.symbolLayers,i=[],c=[];let p=!1,u=0,h=0,m=0;o.forEach(s=>{if(\"icon\"!==s.type&&\"object\"!==s.type)return;s&&\"icon\"===s.type&&(m=Math.max(s.size&&n(s.size),m));const o=\"icon\"===s.type?s.size&&n(s.size):0,f=l||o?Math.ceil(Math.min(l||o,a||P)):S;let y=\"icon\"===s.type?s.angle:null;if(null!=t?.rotation&&(y=(y??0)+t.rotation),c.push(y),s?.resource?.href){const t=R(e,s).then(e=>{const t=s?.material?.color,l=J(s);return M(e,f,t,l,r)}).then(e=>{const t=e.width,l=e.height;return u=Math.max(u,t),h=Math.max(h,l),y&&(p=!0),[{shape:{type:\"image\",x:0,y:0,width:t,height:l,src:e.url},fill:null,stroke:null}]});i.push(t)}else{let e=f;\"icon\"===s.type&&l&&(e=f*(o/m));const a=\"tall\"===t?.symbolConfig||t?.symbolConfig?.isTall||\"object\"===s.type&&A(s);u=Math.max(u,a?C:e),h=Math.max(h,e),y&&s.resource?.primitive&&[\"square\",\"triangle\",\"x\"].includes(s.resource?.primitive)&&(p=!0),i.push(Promise.resolve(B(s,e,a)))}});const f=await Promise.allSettled(i),y=[];return f.forEach(e=>{\"fulfilled\"===e.status?y.push(e.value):e.reason&&s.getLogger(\"esri.symbols.support.previewSymbol3D\").warn(\"error while building swatchInfo!\",e.reason)}),x(y,[u,h],{node:t?.node,scale:!1,opacity:t?.opacity,ariaLabel:t?.ariaLabel,rotations:c,useRotationSize:p})}function Q(e,t){const l=e.symbolLayers,a=[],s=L(e),r=G(t),o=(t?.maxSize?n(t.maxSize):null)||D;let i,c=0,p=0;return l.forEach((e,t)=>{if(!e)return;if(\"line\"!==e.type&&\"path\"!==e.type)return;const l=[];switch(e.type){case\"line\":{const a=F(e,0);if(null==a)break;const s=a?.width||0;0===t&&(i=s);const n=Math.min(r||s,o),u=0===t?n:r?n*(s/i):n,h=u>U/2?2*u:U;p=Math.max(p,u),c=Math.max(c,h),a.width=u,l.push({shape:{type:\"path\",path:[{command:\"M\",values:[0,.5*p]},{command:\"L\",values:[c,.5*p]}]},stroke:a});break}case\"path\":{const t=Math.min(r||S,o),a=I(e,0),s=I(e,-.2),n=N(e,-.4),i=n?{color:n,width:1}:{};if(\"quad\"===e.profile){const t=e.width,n=e.height,r=v(t&&n?t/n:1,0===n,0===t),o={...i,join:\"bevel\"};l.push({shape:r[0],fill:s,stroke:o},{shape:r[1],fill:s,stroke:o},{shape:r[2],fill:a,stroke:o})}else l.push({shape:h.pathSymbol3DLayer[0],fill:s,stroke:i},{shape:h.pathSymbol3DLayer[1],fill:a,stroke:i});p=Math.max(p,t),c=p}}a.push(l)}),Promise.resolve(x(a,[c,p],{node:t?.node,scale:s,opacity:t?.opacity,ariaLabel:t?.ariaLabel}))}async function V(e,t){const l=\"mesh-3d\"===e.type,a=e.symbolLayers,s=G(t),r=t?.maxSize?n(t.maxSize):null,o=s||S,i=[];let c=0,p=0,u=!1;for(let n=0;n<a.length;n++){const e=a.at(n),t=[];if(!l||\"fill\"===e.type){switch(e.type){case\"fill\":{const a=Math.min(o,r||P);if(c=Math.max(c,a),p=Math.max(p,a),u=!0,l){const l=h.meshSymbol3DFill,s=N(e,-.4),n=T(e,.05*a)??(s?{join:\"round\",color:s,width:1}:null);t.push({shape:l[0],fill:I(e,0),stroke:n},{shape:l[1],fill:I(e,-.2),stroke:n},{shape:l[2],fill:I(e,-.6),stroke:n})}else{let l=I(e,0);const a=\"pattern\"in e?e.pattern:null,s=O(e),n=q(e);null!=a&&\"style\"===a.type&&\"solid\"!==a.style&&n&&(l=await Z(a,n)),t.push({shape:h.fill[0],fill:l,stroke:s})}break}case\"line\":{const l=F(e,0);if(null==l)break;const a={stroke:l,shape:h.fill[0]};c=Math.max(c,S),p=Math.max(p,S),t.push(a);break}case\"extrude\":{const l=I(e,0),a=I(e,-.2),s=Math.min(o,r||P),n=w(s),i=S,u=.7*S+.5*s,h=T(e,.1*Math.min(i,u))??{join:\"round\",...F(e,-.4),width:1};t.push({shape:n[0],fill:a,stroke:h},{shape:n[1],fill:a,stroke:h},{shape:n[2],fill:l,stroke:h}),c=Math.max(c,i),p=Math.max(p,u);break}case\"water\":{const l=q(e),a=E(l),s=E(l,2),n=E(l,3),i=g();u=!0,t.push({shape:i[0],fill:a},{shape:i[1],fill:s},{shape:i[2],fill:n});const h=Math.min(o,r||P);c=Math.max(c,h),p=Math.max(p,h);break}}i.push(t)}}return x(i,[c,p],{node:t?.node,scale:u,opacity:t?.opacity,ariaLabel:t?.ariaLabel})}function W(e,t){if(0===e.symbolLayers.length)return Promise.reject(new a(\"symbolPreview: renderPreviewHTML3D\",\"No symbolLayers in the symbol.\"));switch(e.type){case\"point-3d\":return K(e,t);case\"line-3d\":return Q(e,t);case\"polygon-3d\":case\"mesh-3d\":return V(e,t)}return Promise.reject(new a(\"symbolPreview: swatchInfo3D\",\"symbol not supported.\"))}export{Z as getPatternDescriptor,G as getSizeFromOptions,I as getSymbolLayerFill,W as previewSymbol3D};\n"],"names":["S","P","D","U","C","O","n","o","R","t","l","j","a","e","z","E","s","r","i","c","p","u","q","I","Z","H","N","T","F","$","A","B","k","b","d","y","f","m","G","J","K","h","M","x","Q","L","v","V","w","g","W"],"mappings":"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","x_google_ignoreList":[0]}