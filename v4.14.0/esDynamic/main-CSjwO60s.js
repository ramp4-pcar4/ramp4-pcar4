var fo=(t=>(t.BLOB="blob",t.DATE="date",t.DOUBLE="double",t.GEOMETRY="geometry",t.GLOBAL_ID="global-id",t.GUID="guid",t.INTEGER="integer",t.LONG="long",t.OID="oid",t.RASTER="raster",t.SINGLE="single",t.SMALL_INTEGER="small-integer",t.STRING="string",t.XML="xml",t))(fo||{}),mo=(t=>(t.CIRCLE="circle",t.CROSS="cross",t.DIAMOND="diamond",t.ICON="icon",t.PATH="path",t.SQUARE="square",t.TRIANGLE="triangle",t.X="x",t))(mo||{}),ar=(t=>(t.DASH="dash",t.DASHDOT="dash-dot",t.DASHDOTDOT="short-dash-dot-dot",t.DOT="dot",t.LONGDASH="long-dash",t.LONGDASHDOT="long-dash-dot",t.LONGDASHDOTDOT="long-dash-dot-dot",t.NONE="none",t.NULL="none",t.SHORTDASH="short-dash",t.SHORTDASHDOT="short-dash-dot",t.SHORTDASHDOTDOT="short-dash-dot-dot",t.SHORTDOT="short-dot",t.SOLID="solid",t))(ar||{}),QT=(t=>(t.BEVEL="bevel",t.MITER="miter",t.ROUND="round",t))(QT||{}),tI=(t=>(t.ROUND="round",t.BUTT="butt",t.SQUARE="square",t))(tI||{}),eI=(t=>(t.BDIAG="backward-diagonal",t.CROSS="cross",t.DIAG_CROSS="diagonal-cross",t.FDIAG="forward-diagonal",t.HORIZONTAL="horizontal",t.NONE="none",t.NULL="none",t.SOLID="solid",t.VERTICAL="vertical",t))(eI||{}),qt=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t.LINEARRING="LinearRing",t.EXTENT="Extent",t.NONE="None",t.UNKNOWN="Unknown",t))(qt||{}),iy=(t=>(t.Simple="simple",t.Unique="uniqueValue",t.ClassBreaks="classBreaks",t.Unknown="unknown",t))(iy||{}),Tt=(t=>(t.FEATURE="esri-feature",t.MAPIMAGE="esri-map-image",t.TILE="esri-tile",t.VECTORTILE="esri-vector-tile",t.IMAGERY="esri-imagery",t.IMAGERYTILE="esri-imagery-tile",t.GRAPHIC="esri-graphic",t.WMS="ogc-wms",t.WFS="ogc-wfs",t.GEOJSON="file-geojson",t.GEOJSONZIPPED="file-zip-geojson",t.CSV="file-csv",t.SHAPEFILE="file-shape",t.FLATGEOBUF="file-fgb",t.FLATGEOBUFZIPPED="file-zip-fgb",t.OSM="osm-tile",t.DATACSV="data-csv",t.DATAJSON="data-json",t.DATATABLE="data-esri-table",t.UNKNOWN="unknown",t.SUBLAYER="sublayer",t))(Tt||{}),zi=(t=>(t.FEATURE="feature",t.GRAPHIC="graphic",t.IMAGERY="imagery",t.IMAGERYTILE="imagery-tile",t.MAPIMAGE="map-image",t.NOLAYER="no-layer",t.OSM="osm-tile",t.TILE="tile",t.UNKNOWN="unknown",t.VECTORTILE="vector-tile",t.WMS="wms",t))(zi||{}),si=(t=>(t.ESRI_FEATURE="esriFeature",t.ESRI_RASTER="esriRaster",t.ESRI_TILE="esriTile",t.OSM_TILE="osmTile",t.OGC_RASTER="ogcRaster",t.UNKNOWN="unknown",t))(si||{}),fn=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t))(fn||{}),qn=(t=>(t.GEOMETRIC="geometric",t.SYMBOLIC="symbolic",t.HYBRID="hybrid",t.NONE="none",t))(qn||{}),He=(t=>(t.NEW="new",t.INITIATING="initiating",t.INITIATED="initiated",t.TERMINATING="terminating",t.TERMINATED="terminated",t))(He||{}),ln=(t=>(t.NEW="new",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error",t))(ln||{}),lr=(t=>(t.NOT_LOADED="not-loaded",t.NOT_VISUAL="not-visual",t.REFRESH="refresh",t.UP_TO_DATE="up-to-date",t))(lr||{}),xc=(t=>(t.ESRI="esri",t.TEXT="text",t.IMAGE="image",t.HTML="html",t.XML="xml",t.JSON="json",t.UNKNOWN="unknown",t))(xc||{}),di=(t=>(t.SYMBOL="symbol",t.GRID="grid",t.EXTENT="extent",t.INITIAL="initial",t.API="api",t.PERMANENT="permanent",t))(di||{}),mn=(t=>(t.BoundaryZoom="boundaryZoom",t.Datatable="datatable",t.Identify="identify",t.Metadata="metadata",t.Opacity="opacity",t.Refresh="refresh",t.Reload="reload",t.Remove="remove",t.Settings="settings",t.Symbology="symbology",t.Visibility="visibility",t))(mn||{});class Jr{attributes;geometry;style;id;constructor(e,n,i){this.geometry=e,n?this.id=n:this.id=yc.sharedUtils.generateUUID(),i?this.attributes=i:this.attributes={}}_hover;get hover(){return this._hover}set hover(e){e&&this._hover&&this._hover.id!==e.id&&this.removeHover(),this._hover=e}removeHover(){this._hover&&(this._hover=void 0)}}const ry={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function nI(t){return!!ry[t]||!!ry[t.toLowerCase()]}function iw(t){return ry[t]??ry[t.toLowerCase()]}function yV(t){return[...iw(t)]}function rw(t,e,n){n<0&&++n,n>1&&--n;const i=6*n;return i<1?t+(e-t)*i:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function iI(t,e,n,i=1){const r=(t%360+360)%360/360,s=n<=.5?n*(e+1):n+e-n*e,o=2*n-s;return[Math.round(255*rw(o,s,r+1/3)),Math.round(255*rw(o,s,r)),Math.round(255*rw(o,s,r-1/3)),i]}function gV(t){const e=t.length>5,n=e?8:4,i=(1<<n)-1,r=e?1:17,s=e?t.length===9:t.length===5;let o=+("0x"+t.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&i,o>>=n,a[3]=r*l/255),l=o&i,o>>=n,a[2]=r*l,l=o&i,o>>=n,a[1]=r*l,l=o&i,o>>=n,a[0]=r*l,a}function rI(t){if(!t.startsWith("#")||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const e=parseInt(t.slice(1,2),16),n=parseInt(t.slice(2,3),16),i=parseInt(t.slice(3,4),16),r=t.length===4?15:parseInt(t.slice(4),16);return[e+16*e,n+16*n,i+16*i,(r+16*r)/255]}case 7:case 9:return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16),(t.length===7?255:parseInt(t.slice(7),16))/255];default:return null}}function sI(t){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(e){const n=e[2].split(/\s*,\s*/),i=e[1];if(i==="rgb"&&n.length===3||i==="rgba"&&n.length===4){if(n[0].endsWith("%")){const r=n.map(s=>2.56*parseFloat(s));return n.length===4&&(r[3]=parseFloat(n[3])),oI(r)}return oI(n.map(r=>parseFloat(r)))}if(i==="hsl"&&n.length===3||i==="hsla"&&n.length===4)return iI(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3]??"1"))}return null}function oI(t){return t[0]=sh(t[0]),t[1]=sh(t[1]),t[2]=sh(t[2]),t[3]=t.length===4?lI(t[3]):1,t}function aI(t){let e=nI(t)?iw(t):null;return e??=sI(t),e??=rI(t),e}function vV(t){const e=aI(t);return e!=null?[e[0]/255,e[1]/255,e[2]/255,e[3]]:null}function lI(t){return cI(t,0,1)}function sh(t){return Math.round(cI(t,0,255))}function cI(t,e,n){return t=Number(t),isNaN(t)?n:t<e?e:t>n?n:t}const sw=2.2,bV=1/sw;function wV(t){return t**sw}function _V(t){return t**bV}const uI=new Float32Array(1);function xV(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function oh(t,e,n){return Math.min(Math.max(t,e),n)}function EV(t){return!(t&t-1)}function SV(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function hI(t,e,n){return t+(e-t)*n}function AV(t,e,n,i,r){return hI(i,r,(t-e)/(n-e))}function MV(t){return t*Math.PI/180}function TV(t){return 180*t/Math.PI}function IV(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function NV(t){return Math.acos(oh(t,-1,1))}function OV(t){return Math.asin(oh(t,-1,1))}function na(t,e,n=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=n}function kV(t,e,n=1e-6){return!na(t,e,n)&&t>e}function CV(t,e,n=1e-6){return!na(t,e,n)&&t<e}function RV(t,e,n=1e-6){return na(t,e,n)||t>e}const sy=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function ow(t){return sy.setFloat64(0,t),sy.getBigInt64(0)}function LV(t){return sy.setBigInt64(0,t),sy.getFloat64(0)}const oy=1000000n,PV=pI(1);function pI(t){const e=ow(t=Math.abs(t)),n=LV(e<=oy?oy:e-oy);return Math.abs(t-n)}function DV(t,e,n=PV){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(n!=null&&pI(Math.min(Math.abs(t),Math.abs(e)))<n)return Math.abs(t-e)<=n;const i=ow(t),r=ow(e);return i<0!=r<0?!1:!((i<r?r-i:i-r)>oy)}function dI(t,e,n=1e-6){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;const i=Math.abs(t-e),r=Math.abs(t),s=Math.abs(e);if(t===0||e===0||r<1e-12&&s<1e-12){if(i>.01*n)return!1}else if(i/(r+s)>n)return!1;return!0}function jV(t){return fI(Math.max(-aw,Math.min(t,aw)))}function fI(t){return uI[0]=t,uI[0]}function $V(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],i=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(na(e,1)&&na(n,1)&&na(i,1))}function FV(t,e){return(t%e+e)%e}const aw=fI(34028234663852886e22);function UV(t,e,n){if(n===void 0||+n==0)return Math[t](e);if(e=+e,n=+n,isNaN(e)||typeof n!="number"||n%1!=0)return NaN;let i=e.toString().split("e");return i=(e=Math[t](+(i[0]+"e"+(i[1]?+i[1]-n:-n)))).toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+n:n))}let tl;const fi=globalThis;function et(t){return typeof tl[t]=="function"?tl[t]=tl[t](fi):tl[t]}tl=fi.dojoConfig?.has||fi.esriConfig?.has?{...fi.dojoConfig?.has,...fi.esriConfig?.has}:{},et.add=(t,e,n,i)=>{(i||tl[t]===void 0)&&(tl[t]=e),n&&et(t)},et.cache=tl,et.add("big-integer-warning-enabled",!0),et.add("esri-deprecation-warnings",!0),et.add("esri-tests-disable-screenshots",!1),et.add("esri-tests-use-full-window",!1),et.add("esri-tests-post-to-influx",!0),et.add("esri-cim-animations-enable-status","enabled"),et.add("esri-cim-animations-spotlight",!1),et.add("esri-cim-animations-freeze-time",!1),(()=>{et.add("host-webworker",fi.WorkerGlobalScope!==void 0&&self instanceof fi.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(et.add("host-browser",t),et.add("host-node",!(typeof fi.process!="object"||!fi.process.versions?.node||!fi.process.versions.v8)),et.add("dom",t),et("host-browser")){const e=navigator,n=e.userAgent,i=e.appVersion,r=parseFloat(i);if(et.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),et.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),et.add("khtml",i.includes("Konqueror")?r:void 0),et.add("edge",parseFloat(n.split("Edge/")[1])||void 0),et.add("opr",parseFloat(n.split("OPR/")[1])||void 0),et.add("webkit",!et("wp")&&!et("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),et.add("chrome",!et("edge")&&!et("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),et.add("android",!et("wp")&&parseFloat(n.split("Android ")[1])||void 0),et.add("safari",!i.includes("Safari")||et("wp")||et("chrome")||et("android")||et("edge")||et("opr")?void 0:parseFloat(i.split("Version/")[1])),et.add("mac",i.includes("Macintosh")),!et("wp")&&/(iPhone|iPod|iPad)/.test(n)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));et.add(s,a),et.add("ios",a)}et("webkit")||(!n.includes("Gecko")||et("wp")||et("khtml")||et("edge")||et.add("mozilla",r),et("mozilla")&&et.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(fi.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),n=/iPhone/i.test(t);e&&et.add("esri-mobile",e),n&&et.add("esri-iPhone",n),et.add("esri-geolocation",!!navigator.geolocation)}et.add("esri-wasm","WebAssembly"in fi),et.add("esri-performance-mode-frames-between-render",20),et.add("esri-force-performance-mode",!1),et.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in fi,e=fi.crossOriginIsolated===!1;return t&&!e}),et.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),et.add("esri-atomics","Atomics"in fi),et.add("esri-workers","Worker"in fi),et.add("web-feat:cache","caches"in fi),et.add("esri-workers-arraybuffer-transfer",!et("safari")||Number(et("safari"))>=12),et.add("workers-pool-size",8),et.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),et.add("featurelayer-simplify-payload-size-factors",[1,1,4]),et.add("featurelayer-fast-triangulation-enabled",!0),et.add("featurelayer-animation-enabled",!0),et.add("featurelayer-snapshot-enabled",!0),et.add("featurelayer-snapshot-initial-tolerance",0),et.add("featurelayer-snapshot-point-min-threshold",8e4),et.add("featurelayer-snapshot-point-max-threshold",4e5),et.add("featurelayer-snapshot-multipoint-min-threshold",2e4),et.add("featurelayer-snapshot-multipoint-max-threshold",1e5),et.add("featurelayer-snapshot-polygon-min-threshold",2e3),et.add("featurelayer-snapshot-polygon-max-threshold",2e3),et.add("featurelayer-snapshot-polyline-min-threshold",2e3),et.add("featurelayer-snapshot-polyline-max-threshold",2e3),et.add("featurelayer-snapshot-max-vertex-count",25e4),et.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!0),et.add("featurelayer-snapshot-concurrency",4),et.add("featurelayer-snapshot-coverage",.1),et.add("featurelayer-query-max-depth",4),et.add("featurelayer-query-pausing-enabled",!1),et.add("featurelayer-query-tile-concurrency",4),et.add("featurelayer-query-tile-max-features",6e5),et.add("featurelayer-advanced-symbols",!1),et.add("featurelayer-pbf",!0),et.add("featurelayer-pbf-statistics",!1),et.add("feature-layers-workers",!0),et.add("feature-polyline-generalization-factor",1),et.add("parquetlayer-full-query-feature-count",2e4),et.add("parquetlayer-hittest-max-feature-count",1),et.add("parquetlayer-persistence-enabled",!1),et.add("mapview-transitions-duration",200),et.add("mapview-essential-goto-duration",200),et.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),et.add("mapserver-pbf-version-support",10.81),et.add("mapservice-popup-identify-max-tolerance",20),et.add("request-queue-concurrency-hosted",16),et.add("request-queue-concurrency-non-hosted",4),et.add("curve-densification-coarse-segments",128),et.add("curve-densification-max-segments",2e3),et.add("curve-densification-min-segments",3),et.add("curve-densification-pixel-deviation",.5),et.add("view-readyState-waiting-delay",1e3),et.add("gradient-depth-bias",.01),et.add("gradient-depth-epsilon",1e-8),et.add("enable-feature:esri-compress-textures",!0),et("host-webworker")||et("host-browser")&&(et.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),et.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();function GV(t){}function BV(t){return()=>t}function zV(t){return t}let mI=class Ku{static{this._m=2147483647}static{this._a=48271}static{this._c=0}constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*Ku._m}getInt(){return this._seed=(Ku._a*this._seed+Ku._c)%Ku._m,this._seed}getFloat(){return this.getInt()/(Ku._m-1)}getIntRange(e,n){return Math.round(this.getFloatRange(e,n))}getFloatRange(e,n){const i=n-e;return e+this.getInt()/Ku._m*i}};const yI=1.5,VV=1/yI,WV=.5;function HV(t,e){if(!e)return t;for(const n of e)t.push(n);return t}function gI(t){return t}function qV(t,e=gI){if(!t||t.length===0)return;let n=t[0],i=e(n);for(let r=1;r<t.length;++r){const s=t[r],o=Number(e(s));o>i&&(i=o,n=s)}return n}function YV(t,e=gI){return qV(t,n=>-e(n))}function ZV(t,e){return e?t.filter((n,i,r)=>r.findIndex(e.bind(null,n))===i):Array.from(new Set(t))}function vI(t,e,n,i,r,s,o){if(t==null&&i==null)return!0;e=Math.max(0,e),r=Math.max(0,r),n=Math.max(0,n<0?(t?.length??0)+n:n),s=Math.max(0,s<0?(i?.length??0)+s:s);const a=n-e;if(t==null||i==null||a!==s-r)return!1;if(o){for(let l=0;l<a;l++)if(!o(t[e+l],i[r+l]))return!1}else for(let l=0;l<a;l++)if(t[e+l]!==i[r+l])return!1;return!0}function Od(t,e,n){return vI(t,0,t?.length??0,e,0,e?.length??0,n)}function JV(){return(t,e)=>{if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}}function XV(t,e,n){let i,r;return n?(i=e.filter(s=>!t.some(o=>n(o,s))),r=t.filter(s=>!e.some(o=>n(o,s)))):(i=e.filter(s=>!t.includes(s)),r=t.filter(s=>!e.includes(s))),{added:i,removed:r}}function KV(t){return t&&typeof t.length=="number"}function QV(t,e){const n=t.length;if(n===0)return[];const i=[];for(let r=0;r<n;r+=e)i.push(t.slice(r,r+e));return i}let lw=class{constructor(){this.last=0}};const bI=new lw;function ay(t,e,n,i){i=i||bI;const r=Math.max(0,i.last-10);for(let o=r;o<n;++o)if(t[o]===e)return i.last=o,o;const s=Math.min(r,n);for(let o=0;o<s;++o)if(t[o]===e)return i.last=o,o;return-1}function tW(t,e,n,i){const r=t.length,s=ay(t,e,r,i);if(s!==-1)return t[s]=t[r-1],t.pop(),e}const Ls=new Set;function eW(t,e,n=t.length,i=e.length,r,s){if(i===0||n===0)return n;Ls.clear();for(let a=0;a<i;++a)Ls.add(e[a]);r=r||bI;const o=Math.max(0,r.last-10);for(let a=o;a<n;++a)if(Ls.has(t[a])&&(s?.push(t[a]),Ls.delete(t[a]),t[a]=t[n-1],--n,--a,Ls.size===0||n===0))return Ls.clear(),n;for(let a=0;a<o;++a)if(Ls.has(t[a])&&(s?.push(t[a]),Ls.delete(t[a]),t[a]=t[n-1],--n,--a,Ls.size===0||n===0))return Ls.clear(),n;return Ls.clear(),n}function nW(t,e){let n=0;for(let i=0;i<t.length;++i){const r=t[i];e(r,i)&&(t[n]=r,n++)}return t.length=n,t}function iW(t,e,n){const i=t.length;if(e>=i)return t.slice();const r=cw(n),s=new Set,o=[];for(;o.length<e;){const a=Math.floor(r()*i);s.has(a)||(s.add(a),o.push(t[a]))}return o}function cw(t){return t?(wI.seed=t,()=>wI.getFloat()):Math.random}const wI=new mI;function rW(t,e){if(!t)return t;const n=cw(e);for(let i=t.length-1;i>0;i--){const r=Math.floor(n()*(i+1)),s=t[i];t[i]=t[r],t[r]=s}return t}function _I(t,e){const n=t.indexOf(e);return n!==-1?(t.splice(n,1),e):null}function xI(t,e){return t!=null}const sW=[];function oW(t){return t instanceof ArrayBuffer}function uw(t){return t?.constructor?.name==="Int8Array"}function hw(t){return t?.constructor?.name==="Uint8Array"}function pw(t){return t?.constructor?.name==="Uint8ClampedArray"}function ly(t){return t?.constructor?.name==="Int16Array"}function dw(t){return t?.constructor?.name==="Uint16Array"}function cy(t){return t?.constructor?.name==="Int32Array"}function fw(t){return t?.constructor?.name==="Uint32Array"}function EI(t){return t?.constructor?.name==="Float16Array"}function kd(t){return t?.constructor?.name==="Float32Array"}function Cd(t){return t?.constructor?.name==="Float64Array"}function SI(t){return"buffer"in t}const mw=1024;function aW(t){return Cd(t)||kd(t)||cy(t)||ly(t)||uw(t)}function lW(t){return Cd(t)||kd(t)}function cW(t){return Cd(t)?179769e303:EI(t)?65504:kd(t)?3402823e32:fw(t)?4294967295:dw(t)?65535:hw(t)||pw(t)?255:cy(t)?2147483647:ly(t)?32767:uw(t)?127:256}const uW=-32768,hW=-2147483648;function pW(t){return t}function dW(t,e){let n;for(n in t)t.hasOwnProperty(n)&&t[n]===void 0&&delete t[n];return t}function yt(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=II(t);if(e!=null)return e;if(gw(t))return t.clone();if(AI(t))return t.map(yt);if(MI(t))throw new Error("Trying to clone an unclonable Accessor instance");const n={};for(const i of Object.getOwnPropertyNames(t))n[i]=yt(t[i]);return n}function yw(t,e){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const n=II(t);if(n!=null)return n;if(AI(t)){let r=!0;const s=t.map(o=>{const a=yw(o,e);return o!=null&&a==null&&(r=!1),a});return r?s:null}if(gw(t))return t.clone(e);if(t instanceof File||t instanceof Blob)return t;if(MI(t))return null;const i=new(Object.getPrototypeOf(t)).constructor;for(const r of Object.getOwnPropertyNames(t)){const s=t[r],o=yw(s);if(s!=null&&o==null)return null;i[r]=o}return i}function gw(t){return typeof t.clone=="function"}function AI(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function MI(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function TI(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function II(t){if(uw(t)||hw(t)||pw(t)||ly(t)||dw(t)||cy(t)||fw(t)||kd(t)||Cd(t))return t.slice();if(t instanceof Date)return new Date(t);if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[n,i]of t)e.set(n,yt(i));return e}if(t instanceof Set){const e=new Set;for(const n of t)e.add(yt(n));return e}return null}function vw(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof t?.getTime=="function"&&typeof e?.getTime=="function"&&t.getTime()===e.getTime()||!1}function NI(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&Od(t,e):t instanceof Set?e instanceof Set&&mW(t,e):t instanceof Map?e instanceof Map&&yW(t,e):!!TI(t)&&TI(e)&&fW(t,e))}function fW(t,e){if(t===null||e===null)return!1;const n=Object.keys(t);if(e===null||Object.keys(e).length!==n.length)return!1;for(const i of n)if(t[i]!==e[i]||!Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}function mW(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function yW(t,e){if(t.size!==e.size)return!1;for(const[n,i]of t){const r=e.get(n);if(r!==i||r===void 0&&!e.has(n))return!1}return!0}function OI(t,e,n=!1){return CI(t,e,n)}function uy(t,e){if(e!=null)return e[t]||kI(t.split("."),!1,e)}function el(t,e,n){const i=t.split("."),r=i.pop(),s=kI(i,!0,n);s&&r&&(s[r]=e)}function bw(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const n=e;if(t.length!==n.length)return!0;for(let i=0;i<t.length;i++)if(bw(t[i],n[i]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const n in t)if(bw(t[n],e[n]))return!0;return!1}return t!==e}function kI(t,e,n){let i=n;for(const r of t){if(i==null)return;if(!(r in i)){if(!e)return;i[r]={}}i=i[r]}return i}function CI(t,e,n){return e?Object.keys(e).reduce((i,r)=>{if(r==="__proto__")return i;let s=i[r],o=e[r];return s===o?i:s===void 0?(i[r]=yt(o),i):(Array.isArray(o)||Array.isArray(i)?(s=s?Array.isArray(s)?i[r]=s.slice():i[r]=[s]:i[r]=[],o&&(Array.isArray(o)||(o=[o]),n?o.forEach(a=>{s.includes(a)||s.push(a)}):i[r]=o.slice())):o&&typeof o=="object"?i[r]=CI(s,o,n):i.hasOwnProperty(r)&&!e.hasOwnProperty(r)||(i[r]=o),i)},t||{}):t}function gW(t,e){for(const n of Object.entries(t))if(e===n[1])return n[0]}function vW(t,e){return Object.values(t).includes(e)}const he={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(OI(he,globalThis.esriConfig,!0),delete he.has),!he.assetsPath){{const t="4.34";he.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}he.defaultAssetsPath=he.assetsPath}const bW=/\{([^}]+)\}/g;function RI(t){return t??""}function ww(t,e){return e?t.replaceAll(bW,typeof e=="object"?(n,i)=>RI(uy(i,e)):(n,i)=>RI(e(i))):t}function wW(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,n=>e?.includes(n)?n:`\\${n}`)}function _w(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}let LI;function _W(t){return LI??=new DOMParser,LI.parseFromString(t||"","text/html").body.innerText||""}function xW(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function EW(t,...e){let n=t[0];for(let i=0;i<e.length;++i)n+=e[i]+t[i+1];return n}const PI={info:0,warn:1,error:2,none:3};let Pe=class Zr{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Zr._loggers.set(this.module,this);const n=this.module.lastIndexOf(".");n!==-1&&(this._parent=Zr.getLogger(this.module.slice(0,n)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Zr._loggers.get(e)||new Zr({module:e})}static{this._loggers=new Map}static{this._tickCounter=0}static{this._tickCounterScheduled=!1}static{this._throttlingDisabled=!1}_log(e,n,...i){if(this._matchLevel(e)){if(n!=="always"&&!Zr._throttlingDisabled){const r=AW(i),s=this._loggedMessages[e].get(r);if(n==="once"&&s!=null||n==="oncePerTick"&&s&&s>=Zr._tickCounter)return;this._loggedMessages[e].set(r,Zr._tickCounter),Zr._scheduleTickCounterIncrement()}for(const r of he.log.interceptors)if(r(e,this.module,...i))return;this._inheritedWriter()(e,this.module,...i)}}_parentWithMember(e,n){let i=this;for(;i!=null;){const r=i[e];if(r!=null)return r;i=i.parent}return n}_inheritedWriter(){return this._parentWithMember("writer",SW)}_matchLevel(e){const n=he.log.level||"warn";return PI[this._parentWithMember("level",n)]<=PI[e]}static _scheduleTickCounterIncrement(){Zr._tickCounterScheduled||(Zr._tickCounterScheduled=!0,Promise.resolve().then(()=>{Zr._tickCounter++,Zr._tickCounterScheduled=!1}))}};function SW(t,e,...n){console[t](`[${e}]`,...n)}function AW(...t){return _w(JSON.stringify(t,(e,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}function MW(t,e){for(const n of t.values())if(e(n))return!0;return!1}function TW(t,e){for(const n of t.values())if(!e(n))return!1;return!0}function IW(t,e){for(const n of t.values())if(e(n))return n;return null}function xw(t,e,n){const i=t.get(e);if(i!==void 0)return i;const r=n();return t.set(e,r),r}function NW(t){const e=new Map;return n=>(e.has(n)||e.set(n,t(n)),e.get(n))}const Ec=()=>Pe.getLogger("esri.core.accessorSupport.ensureTypes");function OW(t){if(t==null)return t;const e=new Date(t);return isNaN(e.getTime())?(Ec().error("Accessor#set",`Invalid date value: '${t}', falling back to current date`),new Date):e}function kW(t){return t==null?t:!!t}function DI(t){return t==null?t:t.toString()}function Rd(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function hy(t){return t==null?t:Math.round(parseFloat(t))}function CW(t){return null}function jI(t,e){return n=>{let i=t(n);return e.step!=null&&(i=Math.round(i/e.step)*e.step),e.min!=null&&(i=Math.max(e.min,i)),e.max!=null&&(i=Math.min(e.max,i)),i}}function $I(t){return t?.constructor&&t.constructor.__accessorMetadata__!==void 0}function py(t,e){return e!=null&&t&&!(e instanceof t)}function FI(t){return t&&"isCollection"in t}function UI(t){return t?.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function RW(t,e){if(!e?.constructor||!FI(e.constructor))return Ew(t,e)?e:new t(e);const n=UI(t.prototype.itemType),i=UI(e.constructor.prototype.itemType);return n?i?n===i?e:n.prototype.isPrototypeOf(i.prototype)?new t(e):(Ew(t,e),e):new t(e):e}function Ew(t,e){return!!$I(e)&&(Ec().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+dy(t)+"'"),!0)}function GI(t,e){return e==null?e:FI(t)?RW(t,e):py(t,e)?Ew(t,e)?e:new t(e):e}function dy(t){return t?.prototype?.declaredClass||"unknown"}const LW=new WeakMap;function PW(t){switch(t){case Number:return e=>Rd(e);case cn:return hy;case Boolean:return kW;case String:return DI;case Date:return OW;case my:return CW;default:return xw(LW,t,()=>GI.bind(null,t))}}function Xr(t,e){const n=PW(t);return arguments.length===1?n:n(e)}function Ld(t,e,n){return arguments.length===1?Ld.bind(null,t):e&&(Array.isArray(e)?e.map(i=>t(i,n)):[t(e,n)])}function DW(t,e){return arguments.length===1?Ld(n=>Xr(t,n)):Ld(n=>Xr(t,n),e)}function BI(t,e,n){return e!==0&&Array.isArray(n)?n.map(i=>BI(t,e-1,i)):t(n)}function fy(t,e,n){if(arguments.length===2)return s=>fy(t,e,s);if(!n)return n;n=BI(t,e,n);let i=e,r=n;for(;i>0&&Array.isArray(r);)i--,r=r[0];if(r!==void 0)for(let s=0;s<i;s++)n=[n];return n}function jW(t,e,n){return arguments.length===2?fy(i=>Xr(t,i),e):fy(i=>Xr(t,i),e,n)}function zI(t){return!!Array.isArray(t)&&!t.some(e=>{const n=typeof e;return!(n==="string"||n==="number"||n==="function"&&t.length>1)})}function Sw(t,e){if(arguments.length===2)return Sw(t).call(null,e);const n=new Set,i=t.filter(a=>typeof a!="function"),r=t.filter(a=>typeof a=="function");for(const a of t)typeof a!="string"&&typeof a!="number"||n.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,p=c==="string"||c==="number";return p&&(n.has(a)||r.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&r.some(d=>!py(d,a))?a:(p&&i.length?(s||(s=i.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),Ec().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&r.length?(o||(o=r.map(d=>dy(d)).join(", ")),Ec().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):Ec().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Sc(t,e){if(arguments.length===2)return Sc(t).call(null,e);const n={},i=[],r=[];for(const l in t.typeMap){const c=t.typeMap[l];n[l]=Xr(c),i.push(dy(c)),r.push(l)}const s=()=>`'${i.join("', '")}'`,o=()=>`'${r.join("', '")}'`,a=typeof t.key=="string"?l=>l[t.key]:t.key;return l=>{if(t.base&&!py(t.base,l)||l==null)return l;const c=a(l)||t.defaultKeyValue,p=n[c];if(!p)return Ec().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!py(t.typeMap[c],l))return l;if(typeof t.key=="string"&&!$I(l)){const d={};for(const f in l)f!==t.key&&(d[f]=l[f]);return p(d)}return p(l)}}let cn=class{},my=class{};const $W={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function FW(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function VI(t){switch(t.type){case"native":return Xr(t.value);case"array":return Ld(VI(t.value));case"one-of":return UW(t);default:return null}}function UW(t){let e=null;return(n,i)=>Mw(n,t)?n:(e==null&&(e=Aw(t)),Ec().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),i&&(i.valid=!1),null)}function Aw(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case cn:return"integer";case Date:return"date";case my:return"null";default:return dy(t.value)}case"array":return`array of ${Aw(t.value)}`;case"one-of":{const e=t.values.map(n=>Aw(n));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function Mw(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case cn:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case my:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(n=>!Mw(n,e.value));case"one-of":return e.values.some(n=>Mw(t,n))}}function yy(t){return oh(hy(t),0,255)}function gy(t,e){const n=t.toString(16).padStart(2,"0");return e?n.slice(0,1):n}let ge=class Cs{static blendColors(e,n,i,r=new Cs){return r.r=Math.round(e.r+(n.r-e.r)*i),r.g=Math.round(e.g+(n.g-e.g)*i),r.b=Math.round(e.b+(n.b-e.b)*i),r.a=e.a+(n.a-e.a)*i,r._sanitize()}static fromRgb(e,n){const i=sI(e);return i?Cs.fromArray(i,n):null}static fromHex(e,n=new Cs){const i=rI(e);return i?Cs.fromArray(i,n):null}static fromArray(e,n=new Cs){return n._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(n.a)&&(n.a=1),n._sanitize()}static fromString(e,n){const i=aI(e);return i?Cs.fromArray(i,n):null}static fromJSON(e){return e!=null?new Cs([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e,n){return e==null?null:(n??=[0,0,0,0],n[0]=e.r/255,n[1]=e.g/255,n[2]=e.b/255,n[3]=e.a!=null?e.a:1,n)}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?Cs.fromString(e,this):Array.isArray(e)?Cs.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof Cs||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const n=e?.capitalize??!1,i=e?.digits??6,r=i===3||i===4,s=i===4||i===8,o=`#${gy(this.r,r)}${gy(this.g,r)}${gy(this.b,r)}${s?gy(Math.round(255*this.a),r):""}`;return n?o.toUpperCase():o}toCss(e=!1){const n=this.r+", "+this.g+", "+this.b;return e?`rgba(${n}, ${this.a})`:`rgb(${n})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=0){const n=yy(this.r),i=yy(this.g),r=yy(this.b);return e===0||this.a!==1?[n,i,r,yy(255*this.a)]:[n,i,r]}clone(){return new Cs(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=sh(this.r),this.g=sh(this.g),this.b=sh(this.b),this.a=lI(this.a),this}_set(e,n,i,r){this.r=e,this.g=n,this.b=i,this.a=r}};ge.prototype.declaredClass="esri.Color";const GW={remove:()=>{}};function yn(t){return t?{remove(){t&&(t(),t=void 0)}}:GW}function Tw(t){t.forEach(e=>e?.remove())}function BW(t){Tw(t),t.length=0}function vy(t){return yn(()=>Tw(t))}function zW(t){return yn(()=>t()?.remove())}function WI(t){return yn(()=>t?.abort())}function VW(t){return yn(t!=null?()=>t.destroy():void 0)}function WW(t){return typeof t=="object"&&!!t&&"remove"in t&&typeof t.remove=="function"}function HW(t){WW(t)&&t.remove()}function qW(t){return{[Symbol.dispose](){t.remove()}}}function by(t){return YW(t)||HI(t)}function YW(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function HI(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function Iw(t,e,n){if(!by(t))throw new TypeError("target is not a Evented or EventTarget object");return HI(t)?ZW(t,e,n):t.on(e,n)}function ZW(t,e,n,i){if(Array.isArray(e)){const r=e.slice();for(const s of r)t.addEventListener(s,n,i);return yn(()=>{for(const s of r)t.removeEventListener(s,n,i)})}return t.addEventListener(e,n,i),yn(()=>t.removeEventListener(e,n,i))}function Nw(t,e,n){if(!by(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,n);const i=Iw(t,e,r=>{i.remove(),n.call(t,r)});return i}function qI(t,e){if(t==null)throw new Error(e??"value is None")}function Pd(t){return t?.destroy(),null}function JW(t){return t?.dispose(),null}function ah(t){return t?.remove(),null}function YI(t){return t?.abort(),null}function XW(t){return t?.release(),null}function KW(t,e,n){return t!=null&&e!=null?n!=null?n(t,e):t.equals(e):t===e}function QW(t,e){let n;return t.some((i,r)=>(n=e(i,r),n!=null)),n??void 0}function tH(t){return{setTimeout:(e,n)=>{const i=t.setTimeout(e,n);return yn(()=>t.clearTimeout(i))}}}const ZI=tH(globalThis);function eH(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(n,i)=>i===""?"$":(uy(i,e)??"").toString())}let JI=class{constructor(t,e,n=void 0){this.name=t,this.details=n,this.message=(e&&eH(e,n))??""}toString(){return"["+this.name+"]: "+this.message}},le=class mz extends JI{constructor(e,n,i){super(e,n,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,n)=>{if(n&&typeof n=="object"&&typeof n.toJSON=="function")return n;try{return yt(n)}catch{return"[object]"}}))}}catch(e){throw Pe.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new mz(e.name,e.message,e.details)}};le.prototype.type="error";function Vi(t="Aborted"){return new le("AbortError",t)}function lh(t,e="Aborted"){if(ia(t))throw Vi(e)}function Dd(t){return t instanceof AbortSignal?t:t?.signal??void 0}function ia(t){const e=Dd(t);return e!=null&&e.aborted}function XI(t){if(Mc(t))throw t}function nH(t){if(!Mc(t))throw t}function Ac(t,e){const n=Dd(t);if(n!=null){if(!n.aborted)return Nw(n,"abort",()=>e());e()}}function KI(t,e){const n=Dd(t);if(n!=null)return lh(n),Nw(n,"abort",()=>e(Vi()))}function iH(t,e){return Dd(e)==null?t:new Promise((n,i)=>{let r=Ac(e,()=>i(Vi()));const s=()=>{r=ah(r)};t.then(s,s),t.then(n,i)})}function Mc(t){return t?.name==="AbortError"}async function rH(t){try{return await t}catch(e){if(!Mc(e))throw e;return}}async function QI(t){if(!t)return;if(typeof t.forEach!="function"){const n=Object.keys(t),i=n.map(o=>t[o]),r=await QI(i),s={};return n.map((o,a)=>s[o]=r[a]),s}const e=t;return Promise.allSettled(e).then(n=>Array.from(e,(i,r)=>{const s=n[r];return s.status==="fulfilled"?{promise:i,value:s.value}:{promise:i,error:s.reason}}))}async function sH(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function oH(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function t5(t,e=void 0,n){const i=new AbortController;return Ac(n,()=>i.abort()),new Promise((r,s)=>{let o=setTimeout(()=>{o=0,r(e)},t);Ac(i,()=>{o&&(clearTimeout(o),s(Vi()))})})}function aH(t,e,n,i){const r=n&&"abort"in n?n:null;i!=null||r||(i=n);let s=setTimeout(()=>{s=0,r?.abort()},e);const o=()=>i||new le("promiseUtils:timeout","The wrapped promise did not resolve within "+e+" ms");return t.then(a=>{if(s===0)throw o();return clearTimeout(s),a},a=>{throw clearTimeout(s),s===0?o():a})}function lH(t,e){const n=new AbortController,i=setTimeout(()=>n.abort(),e);return Ac(t,()=>{n.abort(),clearTimeout(i)}),{...t,signal:n.signal}}function Ow(t){return t&&typeof t.then=="function"}function kw(t){return Ow(t)?t:Promise.resolve(t)}function cH(t,e=-1){let n,i,r,s,o=null;const a=(...l)=>{if(n){i=l,s&&s.reject(Vi()),s=ch();const f=s.promise;if(o){const y=o;o=null,y.abort()}return f}if(r=s||ch(),s=null,e>0){const f=new AbortController;n=kw(t(...l,f.signal));const y=n;t5(e).then(()=>{n===y&&(s?f.abort():o=f)})}else n=1,n=kw(t(...l));const c=()=>{const f=i;i=r=n=o=null,f!=null&&a(...f)},p=n,d=r;return p.then(c,c),p.then(d.resolve,d.reject),d.promise};return a}function ch(){let t,e;const n=new Promise((r,s)=>{t=r,e=s}),i=r=>{t(r)};return i.resolve=r=>t(r),i.reject=r=>e(r),i.timeout=(r,s)=>ZI.setTimeout(()=>i.reject(s),r),i.promise=n,i}function uH(t,e){e.then(t.resolve,t.reject)}async function hH(t){await Promise.resolve(),lh(t)}function pH(t){return t?.release&&typeof t.release=="function"}function dH(t){return t?.acquire&&typeof t.acquire=="function"}let jd=class UT{constructor(e,n,i,r=1,s=0){this._creator=e,this._acquireFunction=n,this._releaseFunction=i,this.allocationSize=r,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=this._creator();this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...e){let n;if(UT.test.disabled)n=this._creator();else{if(this._pool.length===0){const i=this.allocationSize;for(let r=0;r<i;r++)this._pool[r]=this._creator()}n=this._pool.pop()}return this._acquireFunction?this._acquireFunction(n,...e):dH(n)&&n.acquire(...e),n}release(e){e&&!UT.test.disabled&&(this._releaseFunction?this._releaseFunction(e):pH(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let n=e;n<this._pool.length;++n){const i=this._pool[n];this._dispose(i)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}static{this.test={disabled:!!et("esri-tests-disable-memory-pools")}}};function fH(t){t.length=0}let ra=class{constructor(t=50,e=50){this._pool=new jd(()=>[],void 0,fH,e,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return Cw.acquire()}static release(t){return Cw.release(t)}static prune(){Cw.prune()}};const Cw=new ra(100);let e5=class extends jd{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const e=super.acquire(...t);return this._set.delete(e),e}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const wy=[];function Rw(t){wy.push(t),wy.length===1&&queueMicrotask(()=>{const e=wy.slice();wy.length=0;for(const n of e)n()})}let Lw=class{constructor(t,e=30){this.name=t,this._counter=0,this._samples=new Array(e)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,e)=>t-e)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,e)=>t+e,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};const _y=(t,e,n,i)=>{let r=e,s=e;const o=n>>>1,a=t[r-1];for(;s<=o;){s=r<<1,s<n&&i(t[s-1],t[s])<0&&++s;const l=t[s-1];if(i(l,a)<=0)break;t[r-1]=l,r=s}t[r-1]=a},n5=(t,e)=>t<e?-1:t>e?1:0;function mH(t,e,n,i){n===void 0&&(n=t.length),i===void 0&&(i=n5);for(let s=n>>>1;s>e;s--)_y(t,s,n,i);const r=e+1;for(let s=n-1;s>e;s--){const o=t[e];t[e]=t[s],t[s]=o,_y(t,r,s,i)}}function*yH(t,e,n,i){n===void 0&&(n=t.length),i===void 0&&(i=n5);for(let s=n>>>1;s>e;s--)_y(t,s,n,i),yield;const r=e+1;for(let s=n-1;s>e;s--){const o=t[e];t[e]=t[s],t[s]=o,_y(t,r,s,i),yield}}const gH=1.5,vH=1.1;let Pw=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new lw,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>i5(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const e=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&e.push(i)}return e}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,e){const n=this.data.indexOf(t,e);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let e=t;e<this._length;++e)this.data[e]=this._deallocator(this.data[e]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,e=t.length){for(let n=0;n<e;n++)this.data[this._length++]=t[n]}fill(t,e){for(let n=0;n<e;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,i5(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const e=ay(this.data,t,this.length,this._hint);if(e!==-1)return this.data.splice(e,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(ay(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,e=t.length,n){this.length=eW(this.data,t,this.length,e,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,e){if(t>=this.length||e>=this.length||t===e)return;const n=this.data[t];this.data[t]=this.data[e],this.data[e]=n}sort(t){mH(this.data,0,this.length,t)}iterableSort(t){return yH(this.data,0,this.length,t)}some(t,e){for(let n=0;n<this.length;++n)if(t.call(e,this.data[n],n,this.data))return!0;return!1}find(t,e){const{data:n,length:i}=this;for(let r=0;r<i;++r)if(t.call(e,n[r]))return n[r]}filterInPlace(t,e){let n=0;for(let i=0;i<this._length;++i){const r=this.data[i];t.call(e,r,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=r,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,e){const{data:n,length:i}=this;for(let r=0;r<i;++r)t.call(e,n[r],r,n)}forEach(t,e){this.data.slice(0,this.length).forEach(t,e)}map(t,e){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(e,this.data[i],i,this.data);return n}reduce(t,e){let n=e;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const e=this.length,n=this.data;for(let i=0;i<e;++i)if(n[i]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function i5(t){t.data.length>gH*t.length&&(t.data.length=Math.floor(t.length*vH))}function bH(t){return t}function wH(t){return 1e3*t}function _H(t){return t}function xH(t){return .001*t}let EH=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},SH=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},Dw=0;const $d={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},jw=["prepare","preRender","render","postRender","update","finish"],$w=[],Tc=new Pw;let AH=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,r5()}};function MH(){Ic!=null&&(cancelAnimationFrame(Ic),Ic=requestAnimationFrame(Uw))}function r5(){Ic==null&&(Dw=performance.now(),Ic=requestAnimationFrame(Uw))}const xy={frameTasks:Tc,willDispatch:!1,clearFrameTasks:IH,dispatch:o5,executeFrameTasks:NH,reschedule:MH};function Fw(t){const e=new SH(t);return $w.push(e),xy.willDispatch||(xy.willDispatch=!0,Rw(o5)),e}function TH(t){const e=new EH(t);return Tc.push(e),r5(),new AH(e)}let Ic=null;function IH(t=!1){Tc.forAll(e=>{e.removed=!0}),t&&s5()}function Uw(){const t=performance.now();Ic=null,Ic=Tc.some(e=>!e.paused&&!e.removed)?requestAnimationFrame(Uw):null,xy.executeFrameTasks(t)}function NH(t){const e=t-Dw;Dw=t;const n=1e3/60,i=Math.max(0,e-n);$d.time=t,$d.frameDuration=n-i;for(let r=0;r<jw.length;r++){const s=performance.now(),o=jw[r];Tc.forAll(a=>{a.paused||a.removed||(r===0&&a.ticks++,a.phases[o]&&($d.elapsedFrameTime=performance.now()-t,$d.deltaTime=a.ticks===0?0:e,a.phases[o]?.call(a,$d)))}),kH[r].push(performance.now()-s)}s5(),CH.push(performance.now()-t)}const Ey=new Pw;function s5(){Tc.forAll(t=>{t.removed&&Ey.push(t)}),Tc.removeUnorderedMany(Ey.data,Ey.length),Ey.clear()}function o5(){for(;$w.length;){const t=$w.shift();t.isActive&&t.callback()}xy.willDispatch=!1}function a5(t=1,e){const n=ch(),i=()=>{ia(e)?n.reject(Vi()):t===0?n():(--t,Rw(()=>i()))};return i(),n.promise}function l5(t){return a5(1,t)}async function OH(t){await l5(t),await new Promise(e=>requestAnimationFrame(()=>{t?.aborted||e()}))}const kH=jw.map(t=>new Lw(t)),CH=new Lw("total");function c5(t,e){for(const n of t.values())if(e(n))return!0;return!1}function Gw(t,e){if(!e)return t;for(const n of e)n!=null&&t.add(n);return t}function RH(t,e){return e!=null&&t.add(e),t}function Sy(t,e){const n=new Set;return Gw(n,t),Gw(n,e),n}function u5(t,e){const n=new Set;for(const i of e)t.has(i)&&n.add(i);return n}function LH(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const n of t)if(!e.has(n))return!1;return!0}function PH(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function h5(t,e){const n=new Set(t);for(const i of e)n.delete(i);return n}function DH(t,e){return h5(Sy(t,e),u5(t,e))}let jH=0;function Fd(){return++jH}function sa(t){return t.__accessor__??null}function $H(t,e){return t?.metadata?.[e]!=null}function Ay(t,e,n){return n?My(t,e,{policy:n,path:""}):My(t,e,null)}function My(t,e,n){return e?Object.keys(e).reduce((i,r)=>{const s=r;if(s==="__proto__")return i;let o=null,a="merge";if(n&&(o=n.path?`${n.path}.${r}`:r,a=n.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(i[s]))return i[s]=e[s],i;if(i[s]===void 0)return i[s]=yt(e[s]),i;let l=i[s],c=e[s];if(l===c)return i;if(Array.isArray(c)||Array.isArray(i))l=l?Array.isArray(l)?i[s]=l.slice():i[s]=[l]:i[s]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(p=>{l.includes(p)||l.push(p)}));else if(c&&typeof c=="object")if(n){const p=n.path;n.path=o,i[s]=My(l,c,n),n.path=p}else i[s]=My(l,c,null);else i.hasOwnProperty(r)&&!e.hasOwnProperty(r)||(i[s]=c);return i},t||{}):t}function p5(t){return Array.isArray(t)?t:t.split(".")}function d5(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function FH(t){if(Array.isArray(t)){const e=[];for(const n of t)e.push(...d5(n));return e}return d5(t)}function f5(t,e,n,i){const r=FH(e);if(r.length!==1){const s=r.map(o=>i(t,o,n));return vy(s)}return i(t,r[0],n)}function m5(t,e){const n=t.endsWith("?")?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const r=parseInt(n,10);if(!isNaN(r))return Array.isArray(e)?e[r]:e.at(r)}const i=sa(e);return $H(i,n)?i.get(n):e[n]}function y5(t,e,n){if(t==null)return t;const i=m5(e[n],t);return!i&&n<e.length-1?void 0:n===e.length-1?i:y5(i,e,n+1)}function Ud(t,e,n=0){return typeof e!="string"||e.includes(".")?y5(t,p5(e),n):m5(e,t)}function Nc(t,e){return Ud(t,e)}function g5(t,e){return Ud(e,t)!==void 0}const Rr={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4},qe={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let Ty=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const Iy=new Ty,Gd=[];let Bd=Iy;function Bt(t){Bd.onAccessed(t)}let Ny=!1,Oy=!1;function yo(t,e,n){if(Ny)return Bw(t,e,n);let i=null;return v5(t),i=e.call(n),b5(),i}function UH(t,e){return yo(Iy,t,e)}function Bw(t,e,n){const i=Ny;Ny=!0,v5(t);let r=null;try{r=e.call(n)}catch(s){Oy&&Pe.getLogger("esri.core.accessorSupport.tracking").error(s)}return b5(),Ny=i,r}function v5(t){Bd=t,Gd.push(t)}function b5(){const t=Gd.length;if(t>1){const e=Gd.pop();Bd=Gd[t-2],e.onTrackingEnd()}else if(t===1){const e=Gd.pop();Bd=Iy,e.onTrackingEnd()}else Bd=Iy}function w5(t,e){if(e.flags&qe.DepTrackingInitialized)return;e.flags|=qe.DepTrackingInitialized;const n=Oy;Oy=!1,e.flags&qe.AutoTracked?Bw(e.trackingTarget,e.metadata.get,t):_5(t,e),Oy=n}const GH=[];function _5(t,e){e.flags&qe.ExplicitlyTracking||(e.flags|=qe.ExplicitlyTracking,Bw(e.trackingTarget,()=>{const n=e.metadata.dependsOn||GH;for(const i of n)if(typeof i!="string"||i.includes(".")){const r=p5(i);for(let s=0,o=t;s<r.length&&o!=null&&typeof o=="object";++s)o=x5(o,r[s],s!==r.length-1)}else x5(t,i,!1)}),e.flags&=-129)}function x5(t,e,n){const i=e.endsWith("?")?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const r=sa(t);if(r){const s=r.propertiesByName.get(i);s&&(Bt(s),w5(t,s))}return n?t[i]:void 0}let zd=class extends Ty{constructor(t){super(new BH(t)),this._observer&&E5.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&E5.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},BH=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=zH}};const E5=new FinalizationRegistry(t=>{t.deref()?.destroy()});function zH(){}let uh=!1;const ky=[];function S5(t,e){let n=new zd(s),i=null,r=!1;function s(){if(!n||r)return;if(uh)return void M5(s);const a=i;n.clear(),uh=!0,r=!0,i=yo(n,t),r=!1,uh=!1,e(i,a),T5()}function o(){n&&(n.destroy(),n=null,i=null)}return r=!0,i=yo(n,t),r=!1,yn(o)}function A5(t,e){let n=new zd(r),i=null;function r(){e(i,o)}function s(){n&&(n.destroy(),n=null),i=null}function o(){return n?(n.clear(),i=yo(n,t),i):null}return o(),yn(s)}function VH(t,e){let n=!1,i=!1;const r=!!e?.sync;let s=new zd(()=>{n||i||(i=!0,r?o():queueMicrotask(o))});function o(){i=!1,s&&!n&&(uh?M5(o):(s.clear(),uh=!0,n=!0,yo(s,t),n=!1,uh=!1,T5()))}function a(){s&&(s.destroy(),s=null)}return n=!0,yo(s,t),n=!1,yn(a)}function M5(t){ky.includes(t)||ky.unshift(t)}function T5(){for(;ky.length;)ky.pop()()}let zw=class yz{constructor(){this.uid=Fd(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static{this.pool=new e5(()=>new yz)}static acquireUntracked(e,n,i,r,s){return this.pool.acquire(0,e,n,i,r,s,vw)}static acquireTracked(e,n,i,r){return this.pool.acquire(1,e,n,i,null,null,r)}notify(e,n){this.type===0?this.callback.call(this.target,e,n,this.path,this.target):this.callback.call(null,e,n,void 0,void 0)}acquire(e,n,i,r,s,o,a){this.uid=Fd(),this.removed=!1,this.type=e,this.oldValue=n,this.callback=i,this.getValue=r,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Fd(),this.removed=!0}};const Cy=new ra,oa=new Set;let Ry;function Ly(t){oa.delete(t),oa.add(t),I5()}function I5(){Ry||(Ry=Fw(qH))}function WH(t){if(t.removed)return;const e=t.oldValue,n=t.getValue();t.equals(e,n)||(t.oldValue=n,t.notify(n,e))}function HH(t){for(const e of oa.values())e.target===t&&(e.removed=!0)}function qH(){let t=10;for(;Ry&&t--;){Ry=null;const e=YH(),n=Cy.acquire();for(const i of e){const r=i.uid;WH(i),r===i.uid&&i.removed&&n.push(i)}for(const i of oa)i.removed&&(n.push(i),oa.delete(i));for(const i of n)zw.pool.release(i);Cy.release(n),Cy.release(e),Vw.forEach(i=>i())}}function YH(){const t=Cy.acquire();t.length=oa.size;let e=0;for(const n of oa)t[e]=n,++e;return oa.clear(),t}const Vw=new Set;function ZH(t){return Vw.add(t),yn(()=>Vw.delete(t))}function JH(t,e,n){let i=f5(t,e,n,(r,s,o)=>{let a,l,c=A5(()=>Ud(r,s),(p,d)=>{r.__accessor__?.lifecycle===Rr.DESTROYED||a&&a.uid!==l?i.remove():(a||(a=zw.acquireUntracked(p,o,d,r,s),l=a.uid),Ly(a))});return yn(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,Ly(a)),a=null),i=c=null})});return i}function XH(t,e,n){const i=f5(t,e,n,(r,s,o)=>{let a=!1;return S5(()=>Ud(r,s),(l,c)=>{r.__accessor__.lifecycle!==Rr.DESTROYED?a||(a=!0,vw(c,l)||o.call(r,l,c,s,r),a=!1):i.remove()})});return i}function KH(t,e,n,i=!1){return t.__accessor__&&t.__accessor__.lifecycle!==Rr.DESTROYED?i?XH(t,e,n):JH(t,e,n):yn()}function QH(t,e,n){let i,r,s=A5(t,(o,a)=>{i&&i.uid!==r?s.remove():(i||(i=zw.acquireTracked(o,e,a,n),r=i.uid),Ly(i))});return yn(()=>{s.remove(),i&&(i.uid!==r||i.removed||(i.removed=!0,Ly(i)),i=null),s=null})}function tq(t,e,n){let i=!1;return S5(t,(r,s)=>{i||(i=!0,n(s,r)||e(r,s),i=!1)})}function eq(t,e,n=!1,i=NI){return n?tq(t,e,i):QH(t,e,i)}function nq(t){return c5(oa,e=>e.oldValue===t)}function Un(t,e,n={}){return Ww(t,e,n,N5)}function Py(t,e,n={}){return Ww(t,e,n,O5)}function Ww(t,e,n={},i){let r=null;const s=n.once?(o,a)=>{i(o)&&(ah(r),e(o,a))}:(o,a)=>{i(o)&&e(o,a)};if(r=eq(t,s,n.sync,n.equals),n.initial){const o=t();s(o,o)}return r}function Hw(t,e,n,i={}){let r=null,s=null,o=null;function a(){r&&s&&(s.remove(),i.onListenerRemove?.(r),r=null,s=null)}function l(p){i.once&&i.once&&ah(o),n(p)}const c=Un(t,(p,d)=>{a(),by(p)&&(r=p,s=Iw(p,e,l),i.onListenerAdd?.(p))},{sync:i.sync,initial:!0});return o=yn(()=>{c.remove(),a()}),o}function iq(t,e){return rq(t,O5,e)}function rq(t,e,n){if(ia(n))return Promise.reject(Vi());const i=t();if(e?.(i))return Promise.resolve(i);let r=null;function s(){r=ah(r)}return new Promise((o,a)=>{r=vy([Ac(n,()=>{s(),a(Vi())}),Ww(t,l=>{s(),o(l)},{sync:!1,once:!0},e??N5)])})}function N5(t){return!0}function O5(t){return!!t}function sq(t,e,n={}){let i=!1;const r=Un(t,(s,o)=>{i||e(s,o)},n);return{remove(){r.remove()},pause(){i=!0},resume(){i=!1}}}const k5={sync:!0},Dy={initial:!0},oq={sync:!0,initial:!0};function v(t,e,n,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function aq(t,e){return function(n,i){e(n,i,t)}}function lq(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{c(i.next(p))}catch(d){o(d)}}function l(p){try{c(i.throw(p))}catch(d){o(d)}}function c(p){p.done?s(p.value):r(p.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}function cq(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(r=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var uq=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function hq(t){function e(s){t.error=t.hasError?new uq(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,i=0;function r(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(r);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(r,function(o){return e(o),r()})}else i|=1}catch(o){e(o)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return r()}function hh(t){let e=t.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!n){e=Object.create(e);for(const i in e)e[i]=yt(e[i]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function Vd(t,e){const n=hh(t);let i=n[e];return i||(i=n[e]={}),i}function pq(t,e){return Ay(t,e,fq)}const dq=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function fq(t){return dq.test(t)?"replace":"merge"}function jy(t,e,n){if(t&&e)if(typeof e=="object")for(const i of Object.getOwnPropertyNames(e))jy(t,i,e[i]);else{if(e.includes(".")){const r=e.split("."),s=r.splice(-1,1)[0];return void jy(Nc(t,r),s,n)}const i=t.__accessor__;i!=null&&mq(e,i),t[e]=n}}function mq(t,e){if(et("esri-unknown-property-errors")&&!yq(t,e))throw new le("set:unknown-property",gq(t,e))}function yq(t,e){return e.metadata[t]!=null}function gq(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}function E(t={}){return(e,n)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${n}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(e,n),r=Vd(e,n);i&&(i.get||i.set?(r.get=i.get||r.get,r.set=i.set||r.set):"value"in i&&("value"in t&&Pe.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${n}" on "${e.constructor.name}" already defined in the metadata`,t),r.value=t.value=i.value)),t.readOnly!=null&&(r.readOnly=t.readOnly);const s=t.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let p;r.dependsOn=[l],r.get=function(){let d=Nc(this,l);if(typeof d=="function"){p||(p=l.split(".").slice(0,-1).join("."));const f=Nc(this,p);f&&(d=d.bind(f))}return d},r.readOnly||(r.set=c?function(d){this._override(n,d)}:function(d){jy(this,l,d)})}const o=t.type,a=t.types;if(!r.cast){let l;o?l=vq(o):a&&(l=Array.isArray(a)?Ld(Sc(a[0])):Sc(a)),t.cast=bq(t.cast,l)}pq(r,t),t.range&&(r.cast=jI(r.cast,t.range))}}function qw(t,e,n){const i=Vd(t,n);i.json||(i.json={});let r=i.json;return e!==void 0&&(r.origins||(r.origins={}),r.origins[e]||(r.origins[e]={}),r=r.origins[e]),r}function vq(t){let e=0,n=t;if(FW(t))return VI(t);for(;Array.isArray(n)&&n.length===1&&typeof n[0]!="string"&&typeof n[0]!="number";)n=n[0],e++;const i=n;if(zI(i))return e===0?Sw(i):fy(Sw(i),e);if(e===1)return DW(i);if(e>1)return jW(i,e);const r=t;return r.from?r.from:Xr(r)}function bq(t,e){if(t||e)return t?e?(n,i)=>e(t(n,i),i):t:e}const C5=Symbol("Accessor-beforeDestroy");function wq(t){if(t.json&&t.json.origins){const e=t.json.origins,n={"web-document":["web-scene","web-map"]};for(const i in n)if(e[i]){const r=e[i];n[i].forEach(s=>{e[s]=r}),delete e[i]}}}let ph=class extends JI{constructor(t,e,n){super(t,e,n)}};ph.prototype.type="warning";function R5(t){return!!t&&t.prototype?.declaredClass&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}function _q(t,e){return Yw(t,"any",e?.origin)}function $y(t,e){return Yw(t,"read",e?.origin)}function L5(t,e){return Yw(t,"write",e?.origin)}function Yw(t,e,n){let i=t?.json;if(i?.origins&&n){let r;r=n==="link-chart"?i.origins[n]&&(e==="any"||e in i.origins[n])?i.origins[n]:i.origins["web-map"]:i.origins[n],r&&(e==="any"||e in r)&&(i=r)}return i}const Zw=()=>Pe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function P5(t,e,n){t&&(!n&&!e.read||e.read?.reader||e.read?.enabled===!1||Sq(t)&&el("read.reader",Jw(t),e))}function Jw(t){const e=t.ndimArray??0;if(e>1)return Eq(t);if(e===1)return j5(t);if("type"in t&&$5(t.type)){const n=t.type.prototype?.itemType?.Type,i=j5(typeof n=="function"?{type:n}:{types:n});return(r,s,o)=>{const a=i(r,s,o);return a&&new t.type(a)}}return Xw(t)}function Xw(t){return"type"in t?xq(t.type):Aq(t.types)}function xq(t){return t.prototype.read?(e,n,i)=>{if(e==null)return e;const r=typeof e;if(r!=="object")return void Zw().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${r}'`);const s=new t;return s.read(e,i),s}:t.fromJSON}function D5(t,e,n,i){return i!==0&&Array.isArray(e)?e.map(r=>D5(t,r,n,i-1)):t(e,void 0,n)}function Eq(t){const e=Xw(t),n=D5.bind(null,e),i=t.ndimArray??0;return(r,s,o)=>{if(r==null)return r;r=n(r,o,i);let a=i,l=r;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)r=[r];return r}}function j5(t){const e=Xw(t);return(n,i,r)=>{if(n==null)return n;if(Array.isArray(n)){const o=[];for(const a of n){const l=e(a,void 0,r);l!==void 0&&o.push(l)}return o}const s=e(n,void 0,r);return s!==void 0?[s]:void 0}}function $5(t){if(!R5(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?Kw(e.Type):F5(e.Type))}function Sq(t){return"types"in t?F5(t.types):Kw(t.type)}function Kw(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||$5(t))}function F5(t){for(const e in t.typeMap)if(!Kw(t.typeMap[e]))return!1;return!0}function Aq(t){let e=null;const n=t.errorContext??"type",i=t.validate;return(r,s,o)=>{if(r==null)return r;const a=typeof r;if(a!=="object")return void Zw().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);e||(e=Tq(t));const l=t.key;if(typeof l!="string")return;const c=r[Mq(l,e,o)],p=c?e[c]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!p){const f=`Type '${c||"unknown"}' is not supported`;return o?.messages&&r&&o.messages.push(new ph(`${n}:unsupported`,f,{definition:r,context:o})),void Zw().error(f)}const d=new p;return d.read(r,o),i?i(d):d}}function Mq(t,e,n){const i=Object.values(e)[0],r=hh(i.prototype)[t],s=$y(r,n),o=s?.read?.source;return o&&typeof o=="string"?o:t}function Tq(t){const e={};for(const n in t.typeMap){const i=t.typeMap[n],r=hh(i.prototype);if(typeof t.key=="function")continue;const s=r[t.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){e[s.json.type[0]]=i;continue}const o=s.json?.write;if(!o?.writer){e[n]=i;continue}const a=o.target,l=typeof a=="string"?a:t.key,c={};o.writer(n,c,l),c[l]&&(e[c[l]]=i)}return e}function Iq(t){if(t.json||(t.json={}),G5(t.json),B5(t.json),U5(t.json),t.json.origins)for(const e in t.json.origins)G5(t.json.origins[e]),B5(t.json.origins[e]),U5(t.json.origins[e]);return!0}function U5(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function G5(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function B5(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function z5(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const n=t?.ndimArray??0;t&&(n===1||"type"in t&&R5(t.type))?e.write.writer=kq:n>1?e.write.writer=Cq(n):e.types?Array.isArray(e.types)?e.write.writer=Oq(e.types[0]):e.write.writer=Nq(e.types):e.write.writer=Wd}function Nq(t){return(e,n,i,r)=>e?V5(e,t,r)?Wd(e,n,i,r):void 0:Wd(e,n,i,r)}function V5(t,e,n){for(const i in e.typeMap)if(t instanceof e.typeMap[i])return!0;if(n?.messages){const i=e.errorContext??"type",r=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;n&&n.messages&&t&&n.messages.push(new le(`${i}:unsupported`,r,{definition:t,context:n})),Pe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(r)}return!1}function Oq(t){return(e,n,i,r)=>!e||!Array.isArray(e)?Wd(e,n,i,r):Wd(e.filter(s=>V5(s,t,r)),n,i,r)}function Wd(t,e,n,i){el(n,Fy(t,i),e)}function Fy(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?W5(t):t}function W5(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function kq(t,e,n,i){let r;t===null?r=null:t&&typeof t.map=="function"?(r=t.map(s=>Fy(s,i)),typeof r.toArray=="function"&&(r=r.toArray())):r=[Fy(t,i)],el(n,r,e)}function H5(t,e,n){return n!==0&&Array.isArray(t)?t.map(i=>H5(i,e,n-1)):Fy(t,e)}function Cq(t){return(e,n,i,r)=>{let s;if(e===null)s=null;else{s=H5(e,r,t);let o=t,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}el(i,s,n)}}function Rq(t){const e=Lq(t);if(t.json.origins)for(const n in t.json.origins){const i=t.json.origins[n],r=i.types?Pq(i):e;P5(r,i,!1),i.types&&!i.write&&t.json.write?.enabled&&(i.write={...t.json.write}),z5(r,i)}P5(e,t.json,!0),z5(e,t.json)}function Lq(t){return t.json.types?Qw(t.json):t.type?q5(t):Qw(t)}function Pq(t){return t.type?q5(t):Qw(t)}function q5(t){if(!t.type)return;let e=0,n=t.type;for(;Array.isArray(n)&&!zI(n);)n=n[0],e++;return{type:n,ndimArray:e}}function Qw(t){if(!t.types)return;let e=0,n=t.types;for(;Array.isArray(n);)n=n[0],e++;return{types:n,ndimArray:e}}function Dq(t){Iq(t)&&(wq(t),Rq(t))}const t_=new Set,e_=new Set;function nt(t){return e=>{t??="esri.core.Accessor",e.prototype.declaredClass=t,$q(e);const n=[],i=[];let r=e.prototype;for(;r;)r.hasOwnProperty("initialize")&&!t_.has(r.initialize)&&(t_.add(r.initialize),n.push(r.initialize)),r.hasOwnProperty("destroy")&&!e_.has(r.destroy)&&(e_.add(r.destroy),i.push(r.destroy)),r=Object.getPrototypeOf(r);t_.clear(),e_.clear();const s=class extends e{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=n.length-1;l>=0;l--)n[l].call(this)}}),i.length){let l=!1;const c=this[C5];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){this.__accessor__.lifecycle=Rr.DESTROYING,l=!0,c.call(this);for(let p=0;p<i.length;p++)i[p].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=hh(e.prototype),s.prototype.declaredClass=t;const o=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function jq(t,e){return e.get==null?function(){const n=this.__accessor__,i=n.propertiesByName.get(t);if(i===void 0)return;n.mutable&&Bt(i);const r=n.store;return r.has(t)?r.get(t):i.metadata.value}:function(){const n=this.__accessor__,i=n.propertiesByName.get(t);if(i!==void 0)return i.getComputed(n)}}function $q(t){const e=t.prototype,n=hh(e),i={};for(const r of Object.getOwnPropertyNames(n)){const s=n[r];Dq(s),i[r]={enumerable:!0,configurable:!0,get:jq(r,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?Y5("read-only",r):a.lifecycle===Rr.CONSTRUCTED&&s.constructOnly?Y5("construct-only",r):void a.set(r,o)}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(t.prototype,i)}const Y5=(t,e)=>{Pe.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)},Z5=new WeakMap;function Fq(t,e,n=!1){const i=`\u{1F6D1} DEPRECATED - ${e}`;if(!n)return void t.warn(i);let r=Z5.get(t);r||(r=new Set,Z5.set(t,r)),r.has(e)||(r.add(e),t.warn(i))}const Uy="https://www.esriurl.com/";function Uq(t,e,n,i={}){et("esri-deprecation-warnings")&&aa(t,`This widget is deprecated. Use the ${e} component instead.`,{see:[`${e} component reference: ${Uy}${n}/`,`Esri's move to web components: ${Uy}components-transition-plan/`],replacement:`<${n}></${n}>`,warnOnce:!0,...i})}function Gq(t,e,n,i={}){et("esri-deprecation-warnings")&&aa(t,`This view model is deprecated. Use the ${e} component directly instead.`,{see:[`${e} component reference: ${Uy}${n}/`,`Esri's move to web components: ${Uy}components-transition-plan/`],replacement:`<${n}></${n}>`,warnOnce:!0,...i})}function Bq(t,e,n={}){et("esri-deprecation-warnings")&&aa(t,`Module: ${e}`,n)}function n_(t,e,n={}){if(et("esri-deprecation-warnings")){const{moduleName:i}=n;aa(t,`Function: ${(i?i+"::":"")+e+"()"}`,n)}}function i_(t,e,n={}){if(et("esri-deprecation-warnings")){const{moduleName:i}=n;aa(t,`Property: ${(i?i+"::":"")+e}`,n)}}function zq(t,e,n={}){et("esri-deprecation-warnings")&&aa(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...n})}function aa(t,e,n={}){if(et("esri-deprecation-warnings")){const{replacement:i,version:r,see:s,warnOnce:o}=n;let a=e;if(i&&(a+=`
	\u{1F6E0}\uFE0F Replacement: ${i}`),r&&(a+=`
	\u2699\uFE0F Version: ${r}`),s)if(Array.isArray(s)){a+=`
	\u{1F517} See for more details:`;for(const l of s)a+=`
		${l}`}else a+=`
	\u{1F517} See ${s} for more details.`;Fq(t,a,o)}}function Vq(t){const e=[];return function*(){yield*e;let n,i=e.length;for(;!(n=t.next()).done;)for(e.push(n.value),yield n.value;++i<e.length;)yield e[i]}}function Wq(t,e){for(const n of t)if(n!=null&&e(n))return n}function r_(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let Gy=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(e=>{t+=e.length}),t}add(t,e){if(r_(t)){const n=this._getOrCreateGroup(e);for(const i of t)X5(i)&&n.push(i)}else X5(t)&&this._getOrCreateGroup(e).push(t);return this}forEach(t,e){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&e&&n.forEach(e)}}has(t){return this._groups.has(By(t))}remove(t){if(typeof t!="string"&&r_(t)){for(const e of t)this.remove(e);return this}return this.has(t)?(J5(this._getGroup(t)),this._groups.delete(By(t)),this):this}removeAll(){return this._groups.forEach(J5),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const e=[];return this._groups.set(By(t),e),e}_getGroup(t){return this._groups.get(By(t))}};function By(t){return t||"_default_"}function J5(t){for(const e of t)e instanceof Gy?e.removeAll():e.remove()}function X5(t){return t!=null&&(!!t.remove||t instanceof Gy)}let Hq=class{constructor(t,e){this._observers=t,this._observer=e}remove(){_I(this._observers,this._observer)}},K5=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return qq;this._observers==null&&(this._observers=[]);const e=this._observers;let n=!1,i=!1;const r=e.length;for(let s=0;s<r;++s){const o=e[s];if(o.destroyed)i=!0;else if(o===t){n=!0;break}}return n||(e.push(t),i&&this._removeDestroyedObservers()),new Hq(e,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const e=t.length;let n=0;for(let i=0;i<e;++i){for(;i+n<e&&t[i+n].destroyed;)++n;if(n>0){if(!(i+n<e))break;t[i]=t[i+n]}}t.length=e-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const e of t)e.onCommitted();this._observers=null}}};const qq=yn();let Q5=class extends K5{constructor(t,e){super(),this.propertyName=t,this.metadata=e,this.trackingTarget=new Ty(this),this.flags=0,this.flags=qe.Dirty|(e.nonNullable?qe.NonNullable:0)|(e.hasOwnProperty("value")?qe.HasDefaultValue:0)|(e.get===void 0?qe.DepTrackingInitialized:0)|(e.dependsOn===void 0?qe.AutoTracked:0)}destroy(){this.flags&qe.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Bt(this);const e=t.store,n=this.propertyName,i=this.flags,r=e.get(n);if(i&qe.Computing||~i&qe.Dirty&&e.has(n))return r;this.flags|=qe.Computing;const s=t.host;let o;i&qe.AutoTracked?o=yo(this.trackingTarget,this.metadata.get,s):(_5(s,this),o=this.metadata.get.call(s)),this.flags|=qe.DepTrackingInitialized,e.set(n,o,1);const a=e.get(n);return a===r?this.flags&=-2:UH(this.commit,this),this.flags&=-5,a}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&qe.Overridden&&(this.flags|=qe.Dirty);const t=this._observers;if(t&&t.length>0)for(const e of t)e.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const n of e)n.onCommitted()}}};const Yq=8;function s_(t){switch(t){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"link-chart":return 6;case"user":return 7;default:return null}}function zy(t){switch(t){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"link-chart";case 7:return"user"}}function Zq(t){return zy(t)}let Jq=class gz{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const n=new gz;return this._values.forEach((i,r)=>{e&&e.has(r)||n.set(r,yt(i))}),n}get(e){return this._values.get(e)}originOf(){return 7}keys(){return[...this._values.keys()]}set(e,n){this._values.set(e,n)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,n){return this.has(e)}isBelowOrigin(e,n){return!this.has(e)}forEach(e){this._values.forEach(e)}};function dh(t,e,n){return t!==void 0}function tN(t,e,n,i){return t!==void 0&&(!(n==null&&t.flags&qe.NonNullable)||(i.lifecycle,!1))}let Xq=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Rr.INITIALIZING,this.store=new Jq,this.mutable=!0,this._origin=7;const e=this.host.constructor.__accessorMetadata__;for(const n in e){const i=new Q5(n,e[n]);this.propertiesByName.set(n,i)}this.metadata=e}initialize(){this.lifecycle=Rr.CONSTRUCTING}constructed(){this.lifecycle=Rr.CONSTRUCTED}destroy(){this.lifecycle=Rr.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Rr.INITIALIZING}get(t){const e=this.propertiesByName.get(t);if(!dh(e))return;if(e.metadata.get)return e.getComputed(this);this.mutable&&Bt(e);const n=this.store;return n.has(t)?n.get(t):e.metadata.value}originOf(t){const e=this.store.originOf(t);if(e===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&qe.HasDefaultValue)return"defaults"}return zy(e)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const e=this.propertiesByName.get(t);if(dh(e))return this.store.has(t)?this.store.get(t):e.metadata.value}internalSet(t,e){const n=this.propertiesByName.get(t);dh(n)&&this._internalSet(n,e)}getDependsInfo(t,e,n){const i=this.propertiesByName.get(e);if(!dh(i))return"";const r=new Ty,s=yo(r,()=>i.metadata.get?.call(t));let o=`${n}${t.declaredClass.split(".").pop()}.${e}: ${s}
`;const a=r.accessed??new Set;if(a.size===0)return o;n+="  ";for(const l of a)l instanceof Q5&&(o+=`${n}${l.propertyName}: undefined
`);return o}setAtOrigin(t,e,n){const i=this.propertiesByName.get(t);if(dh(i))return this._setAtOrigin(i,e,n)}isOverridden(t){const e=this.propertiesByName.get(t);return e!==void 0&&!!(e.flags&qe.Overridden)}clearOrigin(t,e){const n=this.store,i=this.propertiesByName.get(t);if(!dh(i))return;const r=n.isAtOrigin(t,e)&&!(i.flags&qe.Overridden);n.delete(t,e),r&&i.notifyChange()}clearOverride(t){const e=this.propertiesByName.get(t);e&&e.flags&qe.Overridden&&(e.flags&=-3,e.notifyChange())}override(t,e){const n=this.propertiesByName.get(t);if(!tN(n,t,e,this))return;const i=n.metadata.cast;if(i){const r=this._cast(i,e),{valid:s,value:o}=r;if(o_.release(r),!s)return;e=o}n.flags|=qe.Overridden,this._internalSet(n,e)}set(t,e){const n=this.propertiesByName.get(t);if(!tN(n,t,e,this))return;const i=n.metadata.cast;if(i){const s=this._cast(i,e),{valid:o,value:a}=s;if(o_.release(s),!o)return;e=a}const r=n.metadata.set;r?r.call(this.host,e):this._internalSet(n,e)}setDefaultOrigin(t){this._origin=s_(t)}getDefaultOrigin(){return zy(this._origin)}notifyChange(t){const e=this.propertiesByName.get(t);e!==void 0&&e.notifyChange()}invalidate(t){const e=this.propertiesByName.get(t);e!==void 0&&e.invalidate()}commit(t){const e=this.propertiesByName.get(t);e!==void 0&&e.commit()}_internalSet(t,e){const n=this.lifecycle!==Rr.INITIALIZING?this._origin:0;this._setAtOrigin(t,e,n)}_setAtOrigin(t,e,n){const i=this.store,r=t.propertyName;if(i.isAtOrigin(r,n)&&vw(e,i.get(r))&&~t.flags&qe.Overridden)return;const s=i.isBelowOrigin(r,n)||i.isAtOrigin(r,n);s&&t.invalidate(),i.set(r,e,n),s&&t.commit(),w5(this.host,t)}_cast(t,e){const n=o_.acquire();return n.valid=!0,n.value=e,t&&(n.value=t.call(this.host,e,n)),n}},Kq=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const o_=new jd(()=>new Kq);let Qq;function tY(){return Qq}var eN,nN;function eY(t){if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const nl=Symbol("Accessor-Handles"),a_=Symbol("Accessor-Initialized");let Yn=class W2{static{eN=nl,nN=a_}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:n,declaredClass:i,constructor:r}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,r&&r.apply(this,l)}}hh(o.prototype);for(const a in e){const l=e[a];o.prototype[a]=typeof l=="function"?function(...c){const p=this.inherited;let d;this.inherited=function(...f){if(s.prototype[a])return s.prototype[a].apply(this,f)};try{d=l.apply(this,c)}catch(f){throw this.inherited=p,f}return this.inherited=p,d}:e[a]}for(const a in n){const l=eY(n[a]);E(l)(o.prototype,a)}return nt(i)(o)}static freeze(e){return e instanceof W2?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof W2?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[eN]=null,this[nN]=!1,this.constructor===W2)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const n=new Xq(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:n}),e.length>0&&(n.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0])}postscript(){const e=this.__accessor__,n=e.ctorArgs;e.initialize(),n&&(this.set(n),e.ctorArgs=null),e.constructed(),this.initialize(),this[a_]=!0}initialize(){}[C5](){this[nl]=Pd(this[nl])}destroy(){this.destroyed||(HH(this),this.__accessor__.destroy(),tY()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[a_]}get destroyed(){return this.__accessor__?.lifecycle===Rr.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===Rr.DESTROYING||!1}commitProperty(e){Nc(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,n){return jy(this,e,n),this}watch(e,n,i){return n_(Pe.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),KH(this,e,n,i)}addHandles(e,n){if(this.destroyed){const i=Array.isArray(e)?e:[e];for(const r of i)r.remove();return}(this[nl]??=new Gy).add(e,n)}removeHandles(e){this[nl]?.remove(e)}removeAllHandles(){this[nl]?.removeAll()}removeHandlesReference(e){this[nl]?.removeReference(e)}hasHandles(e){return this[nl]?.has(e)===!0}_override(e,n){n===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,n)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,n){n==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,n)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,n){return this.__accessor__.internalSet(e,n),this}},nY=class vz{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const n=new vz;return this._values.forEach((i,r)=>{e&&e.has(r)||n.set(r,yt(i.value),i.origin)}),n}get(e,n){n=this._normalizeOrigin(n);const i=this._values.get(e);return n==null||i?.origin===n?i?.value:void 0}originOf(e){return this._values.get(e)?.origin??7}keys(e){e=this._normalizeOrigin(e);const n=[...this._values.keys()];return e==null?n:n.filter(i=>this._values.get(i)?.origin===e)}set(e,n,i){if((i=this._normalizeOrigin(i))===0){const r=this._values.get(e);if(r?.origin!=null&&r.origin>i)return}this._values.set(e,new iY(n,i))}delete(e,n){(n=this._normalizeOrigin(n))!=null&&this._values.get(e)?.origin!==n||this._values.delete(e)}has(e,n){return(n=this._normalizeOrigin(n))!=null?this._values.get(e)?.origin===n:this._values.has(e)}isAtOrigin(e,n){return n=this._normalizeOrigin(n),this.has(e,n)&&this.originOf(e)===n}isBelowOrigin(e,n){return n=this._normalizeOrigin(n),!this.has(e)||this.originOf(e)<n}forEach(e){this._values.forEach(({value:n},i)=>e(n,i))}_normalizeOrigin(e){if(e!=null)return e===0?e:7}},iY=class{constructor(t,e){this.value=t,this.origin=e}};function iN(t,e,n){e.keys().forEach(r=>{n.set(r,e.get(r),0)});const i=t.metadata;Object.keys(i).forEach(r=>{t.internalGet(r)&&n.set(r,t.internalGet(r),0)})}function rY(t,e,n){if(!t?.read||t.read.enabled===!1||!t.read.source)return!1;const i=t.read.source;if(typeof i=="string"){if(i===e||i.includes(".")&&i.startsWith(e)&&g5(i,n))return!0}else for(const r of i)if(r===e||r.includes(".")&&r.startsWith(e)&&g5(r,n))return!0;return!1}function sY(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function oY(t,e,n,i,r){let s=$y(e[n],r);sY(s)&&(t[n]=!0);for(const o of Object.getOwnPropertyNames(e))s=$y(e[o],r),rY(s,n,i)&&(t[o]=!0)}function aY(t,e,n,i){const r=n.metadata,s=_q(r[e],i),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(t,e,i):o;a!==void 0&&n.set(e,a)}const rN={origin:"service"};function sN(t,e,n=rN){if(!e||typeof e!="object")return;const i=sa(t),r=i.metadata,s={};for(const o of Object.getOwnPropertyNames(e))oY(s,r,o,e,n);i.setDefaultOrigin(n.origin);for(const o of Object.getOwnPropertyNames(s)){const a=$y(r[o],n).read,l=a?.source;let c;c=l&&typeof l=="string"?Ud(e,l):e[o],a?.reader&&(c=a.reader.call(t,c,e,n)),c!==void 0&&i.set(o,c)}if(!n||!n.ignoreDefaults){i.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(r))s[o]||aY(t,o,i,n)}i.setDefaultOrigin("user")}function lY(t,e,n,i=rN){const r={...i,messages:[]};n(r),r.messages?.forEach(s=>{s.type!=="warning"||t.loaded?i?.messages&&i.messages.push(s):t.loadWarnings.push(s)})}function cY(t,e,n,i,r){const s={};return e.write?.writer?.call(t,i,s,n,r),s}function oN(t,e,n,i,r,s){if(!i?.write)return!1;const o=Nc(t,n);if(!r&&i.write.overridePolicy){const a=i.write.overridePolicy.call(t,o,n,s??void 0);a!==void 0&&(r=a)}if(r||(r=i.write),!r||r.enabled===!1||r.layerContainerTypes&&s?.layerContainerType&&!r.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!r.allowNull&&!r.writerEnsuresNonNull||o===void 0)&&r.isRequired){const a=new le("web-document-write:property-required",`Missing value for required property '${n}' on '${t.declaredClass}'`,{propertyName:n,target:t});return a&&s?.messages?s.messages.push(a):a&&!s&&Pe.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!r.allowNull&&!r.writerEnsuresNonNull||!r.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(n)===0)&&uY(t,n,s,i,o)||!r.ignoreOrigin&&s?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(n)<s_(s.origin))}function uY(t,e,n,i,r){const s=i.default;if(s===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(r);if(typeof s=="function"){if(Array.isArray(r)){const o=s.call(t,e,n??void 0);return Od(o,r)}return!1}return s===r}function hY(t,e,n,i){const r=sa(t),s=r.metadata,o=L5(s[e],i);return!!o&&oN(t,r,e,o,n,i)}function aN(t,e,n){if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return Ay(e,t.toJSON(n));const i=sa(t),r=i.metadata;for(const s in r){const o=L5(r[s],n);if(!oN(t,i,s,o,void 0,n))continue;const a=Nc(t,s),l=cY(t,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,n);Object.keys(l).length>0&&(e=Ay(e,l),n?.resources?.pendingOperations?.length&&n.resources.pendingOperations.push(Promise.all(n.resources.pendingOperations).then(()=>Ay(e,l,()=>"replace-arrays"))),n?.writtenProperties&&n.writtenProperties.push({target:t,propName:s,oldOrigin:Zq(i.store.originOf(s)),newOrigin:n.origin}))}return e}const l_=t=>{const e=t;let n=class extends e{constructor(...i){super(...i);const r=sa(this),s=r.store,o=new nY;r.store=o,iN(r,s,o)}read(i,r){sN(this,i,r)}write(i,r){return aN(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return pY.call(this,i,r)}};return n=v([nt("esri.core.JSONSupport")],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function pY(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const n=new this;return n.read(t,e),n}const Yt=l_(Yn);function gn(t,e,n){let i,r;return e===void 0||Array.isArray(e)?(r=t,n=e,i=[void 0]):(r=e,i=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;i.forEach(l=>{const c=qw(s,l,r);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],n&&(c.read.source=(c.read.source||[]).concat(n))})}}let Ps=class{constructor(t,e={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=e,this.apiValues=[],this.jsonValues=[],this._apiToJSON=dY(t),this.apiValues=lN(this._apiToJSON),this.jsonValues=lN(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,r)=>{const s=this.toJSON(n);s!==void 0&&el(r,s,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const e=this._apiToJSON[t];return this._options.useNumericKeys?+e:e}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function dY(t){const e={};for(const n in t)e[t[n]]=n;return e}function lN(t){const e=[];for(const n in t)e.push(n);return e.sort(),e}function Kr(){return function(t,e){return new Ps(t,{ignoreUnknown:!0,...e})}}let c_=class{constructor(t,e,n,i,r,s){this.semiMajorAxis=t,this.flattening=e,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=i,this.scaleHeight=r;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=s||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Qr=new c_(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),fh=new c_(3396190,1/169.8944472236118,23e4,6e4,.111),Hd=new c_(1737400,0,0,0,0);function qd(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}const fY=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,mY={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function u_(t){const e=t?.match(fY);if(!e)return null;const[,n,i,r]=e;if(!n)return null;let s=null,o=null,a=null;const{devext:l,qaext:c,www:p}=mY;if(i)if(s=n,r)switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=p);else switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=p);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function h_(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function p_(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,i=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):n.test(t)?t=t.replace(n,"https://devext.arcgis.com"):i.test(t)&&(t=t.replace(i,"https://qaext.arcgis.com")),t}function cN(t){const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer}function yY(t){const e=new Uint8Array(t);let n="";for(let i=0;i<e.length;i++)n+=String.fromCharCode(e[i]);return btoa(n)}const gY=()=>Pe.getLogger("esri.core.urlUtils"),mh=he.request,uN="esri/config: esriConfig.request.proxyUrl is not set.",hN=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,pN=/^\s*http:/i,vY=/^\s*https:/i,bY=/^\s*file:/i,dN=/:\d+$/,wY=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,_Y=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),xY=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Oc=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let e=this.uri.match(_Y);this.scheme=e[2]||(e[1]?"":null),this.authority=e[4]||(e[3]?"":null),this.path=e[5],this.query=e[7]||(e[6]?"":null),this.fragment=e[9]||(e[8]?"":null),this.authority!=null&&(e=this.authority.match(xY),this.user=e[3]||null,this.password=e[4]||null,this.host=e[6]||e[7],this.port=e[9]||null)}toString(){return this.uri}};const Vy={},EY=new Oc(he.applicationUrl);let Mi=EY;const SY=MY();let d_=SY;const f_=()=>Mi,AY=()=>d_;function MY(){const t=Mi.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${Mi.scheme}://${Mi.host}${Mi.port!=null?`:${Mi.port}`:""}`}${e}`}function ts(t){if(!t)return null;const e={path:null,query:null},n=new Oc(t),i=t.indexOf("?");return n.query===null?e.path=t:(e.path=t.slice(0,i),e.query=Wy(n.query)),n.fragment&&(e.hash=n.fragment,n.query===null&&(e.path=e.path.slice(0,e.path.length-(n.fragment.length+1)))),e}function Wy(t){const e=t.split("&"),n={};for(const i of e){if(!i)continue;const r=i.indexOf("=");let s,o;r<0?(s=decodeURIComponent(i),o=""):(s=decodeURIComponent(i.slice(0,r)),o=decodeURIComponent(i.slice(r+1)));let a=n[s];typeof a=="string"&&(a=n[s]=[a]),Array.isArray(a)?a.push(o):n[s]=o}return n}function yh(t,e){return t?Object.keys(t).map(n=>{const i=t[n];if(i==null)return"";const r=encodeURIComponent(n)+"=",s=e?.[n];return s?r+encodeURIComponent(s(i)):Array.isArray(i)?i.map(o=>qd(o)?r+encodeURIComponent(JSON.stringify(o)):r+encodeURIComponent(o)).join("&"):qd(i)?r+encodeURIComponent(JSON.stringify(i)):r+encodeURIComponent(i)}).filter(n=>n).join("&"):""}function fN(t=!1){let e,n=mh.proxyUrl;if(typeof t=="string"){e=bN(t);const i=Zd(t);i&&(n=i.proxyUrl)}else e=!!t;if(!n)throw gY().warn(uN),new le("urlUtils:proxy-not-set",uN);return e&&w_()&&(n=Yy(n)),ts(n)}function TY(t,e=!1){const n=Zd(t);let i,r;if(n){const s=m_(n.proxyUrl);i=s.path,r=s.query?Wy(s.query):null}else if(e){const s=fN(t);i=s.path,r=s.query}if(i){const s=ts(t);t=i+"?"+s.path;const o=yh({...r,...s.query});o&&(t=`${t}?${o}`)}return t}const Yd={path:"",query:""};function m_(t){const e=t.indexOf("?");return e!==-1?(Yd.path=t.slice(0,e),Yd.query=t.slice(e+1)):(Yd.path=t,Yd.query=null),Yd}function mN(t){return t=(t=Zy(t=wN(t=m_(t).path),!0)).toLowerCase()}function IY(t){const e={proxyUrl:t.proxyUrl,urlPrefix:mN(t.urlPrefix)},n=mh.proxyRules,i=e.urlPrefix;let r=n.length;for(let s=0;s<n.length;s++){const o=n[s].urlPrefix;if(i.startsWith(o)){if(i.length===o.length)return-1;r=s;break}o.startsWith(i)&&(r=s+1)}return n.splice(r,0,e),r}function Zd(t){const e=mh.proxyRules,n=mN(t);for(let i=0;i<e.length;i++)if(n.startsWith(e[i].urlPrefix))return e[i]}function NY(t,e){if(!t||!e)return!1;t=Hy(t),e=Hy(e);const n=u_(t),i=u_(e);return n!=null&&i!=null?n.portalHostname===i.portalHostname:n==null&&i==null&&il(t,e,!0)}function yN(t,e){return t=Hy(t),e=Hy(e),Zy(t)===Zy(e)}function Hy(t){const e=(t=la(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function y_(t,e=mh.interceptors){const n=i=>i instanceof RegExp?i.test(t):typeof i=="string"?t.startsWith(i):i==null;if(e){for(const i of e)if(Array.isArray(i.urls)){if(i.urls.some(n))return i}else if(n(i.urls))return i}return null}function il(t,e,n=!1){if(!t||!e)return!1;const i=E_(t),r=E_(e);return!(!n&&i.scheme!==r.scheme)&&i.host!=null&&r.host!=null&&i.host.toLowerCase()===r.host.toLowerCase()&&i.port===r.port}function g_(t){if(typeof t=="string"){if(!es(t))return!0;t=E_(t)}if(il(t,Mi))return!0;const e=mh.trustedServers||[];for(let n=0;n<e.length;n++){const i=OY(e[n]);for(let r=0;r<i.length;r++)if(il(t,i[r]))return!0}return!1}function OY(t){return Vy[t]||(b_(t)||ca(t)?Vy[t]=[new Oc(gh(t))]:Vy[t]=[new Oc(`http://${t}`),new Oc(`https://${t}`)]),Vy[t]}function gh(t,e=d_,n){return ca(t)?n?.preserveProtocolRelative?t:Mi.scheme==="http"&&Mi.authority===Lr(t).slice(2)?`http:${t}`:`https:${t}`:b_(t)?t:Jd(t.startsWith("/")?$Y(e):e,t)}function v_(t,e=d_,n){if(t==null||!es(t))return t;const i=la(t),r=i.toLowerCase(),s=la(e).toLowerCase().replace(/\/+$/,""),o=n?la(n).toLowerCase().replace(/\/+$/,""):null;if(o&&!s.startsWith(o))return t;const a=(d,f,y)=>(y=d.indexOf(f,y))===-1?d.length:y;let l=a(r,"/",r.indexOf("//")+2),c=-1;for(;r.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==r.length);)l=a(r,"/",l+1);if(c===-1||o&&c<o.length)return t;t=i.slice(c);const p=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(p>0)for(let d=0;d<p;d++)t=`../${t}`;else t=`./${t}`;return t}function la(t){return t=zY(t=BY(t=GY(t=gh(t=t.trim()))))}function Jd(...t){const e=t.filter(xI);if(!e?.length)return;const n=[];if(es(e[0])){const r=e[0],s=r.indexOf("//");s!==-1&&(n.push(r.slice(0,s+1)),DY(e[0])&&(n[0]+="/"),e[0]=r.slice(s+2))}else e[0].startsWith("/")&&n.push("");const i=e.reduce((r,s)=>s?r.concat(s.split("/")):r,[]);for(let r=0;r<i.length;r++){const s=i[r];s===".."&&n.length>0&&n[n.length-1]!==".."?n.pop():(!s&&r===i.length-1||s&&(s!=="."||n.length===0))&&n.push(s)}return n.join("/")}function Lr(t,e=!1){if(t==null||qy(t)||kc(t))return null;let n=t.indexOf("://");if(n===-1&&ca(t))n=2;else{if(n===-1)return null;n+=3}const i=t.indexOf("/",n);return i!==-1&&(t=t.slice(0,i)),e&&(t=Zy(t,!0)),t}function es(t){return ca(t)||b_(t)}function qy(t){return t!=null&&t.startsWith("blob:")}function kc(t){return t!=null&&t.startsWith("data:")}function gN(t){const e=vh(t);return e?.isBase64?cN(e.data):null}function kY(t){return yY(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const CY=/^data:(.*?)(;base64)?,(.*)$/;function vh(t){const e=t.match(CY);if(!e)return null;const[,n,i,r]=e;return{mediaType:n,isBase64:!!i,data:r}}function vN(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function RY(t){return(await fetch(t)).blob()}function LY(t){const e=gN(t);if(!e)return null;const n=vh(t);return new Blob([e],{type:n.mediaType})}function ca(t){return t!=null&&t.startsWith("/")&&t[1]==="/"}function b_(t){return t!=null&&hN.test(t)}function bN(t){return t!=null&&vY.test(t)||Mi.scheme==="https"&&ca(t)}function PY(t){return t!=null&&pN.test(t)||Mi.scheme==="http"&&ca(t)}function DY(t){return t!=null&&bY.test(t)}function Yy(t){return ca(t)?`https:${t}`:t.replace(pN,"https:")}function jY(){return Mi.scheme==="http"}function w_(){return Mi.scheme==="https"}function Zy(t,e=!1){return ca(t)?t.slice(2):(t=t.replace(hN,""),e&&t.length>1&&t.startsWith("/")&&t[1]==="/"&&(t=t.slice(2)),t)}function $Y(t){const e=t.indexOf("//"),n=t.indexOf("/",e+2);return n===-1?t:t.slice(0,n)}function FY(t){let e=0;if(es(t)){const i=t.indexOf("//");i!==-1&&(e=i+2)}const n=t.lastIndexOf("/");return n<e?t:t.slice(0,n+1)}function UY(t,e){if(!t)return"";const n=ts(t).path.replace(/\/+$/,""),i=n.slice(n.lastIndexOf("/")+1);if(!e?.length)return i;const r=new RegExp(`\\.(${e.join("|")})$`,"i");return i.replace(r,"")}function wN(t){return t.endsWith("/")?t:`${t}/`}function __(t){return t.replace(/\/+$/,"")}function GY(t){if(/^https?:\/\//i.test(t)){const e=m_(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function BY(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function zY(t){const e=mh.httpsDomains;if(!PY(t))return t;const n=t.indexOf("/",7);let i;if(i=n===-1?t:t.slice(0,n),i=i.toLowerCase().slice(7),dN.test(i)){if(!i.endsWith(":80"))return t;i=i.slice(0,-3),t=t.replace(":80","")}return jY()&&i===Mi.authority&&!wY.test(t)||(w_()&&i===Mi.authority||e&&e.some(r=>i===r||i.endsWith(`.${r}`))||w_()&&!Zd(t))&&(t=Yy(t)),t}function x_(t,e,n){if(!(e&&n&&t&&es(t)))return t;const i=t.indexOf("//"),r=t.indexOf("/",i+2),s=t.indexOf(":",i+2),o=Math.min(r<0?t.length:r,s<0?t.length:s);return t.slice(i+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,i+2)}${n}${t.slice(o)}`}function _N(t,e){const n=new URL(t);return n.host=e,n.port&&!dN.test(e)&&(n.port=""),n.toString()}function VY(t){return new URL(t).host}function E_(t){return typeof t=="string"?new Oc(gh(t)):(t.scheme||(t.scheme=Mi.scheme),t)}function WY(t){return ZY.test(t)}function xN(t,e){const n=ts(t),i=Object.keys(n.query||{});return i.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),n.path}function HY(t,e,n){const i=ts(t),r=i.query||{};return r[e]=String(n),`${i.path}?${yh(r)}`}function Jy(t,e){if(!e)return t;const n=ts(t),i=n.query||{};for(const[s,o]of Object.entries(e))o!=null&&(i[s]=o);const r=yh(i);return r?`${n.path}?${r}`:n.path}function qY(t){if(t==null)return null;const e=t.match(SN);return e?e[2]:null}function EN(t){if(t==null)return null;const e=t.match(SN);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function YY(t){return typeof t=="string"?vh(t)??{data:t}:new Promise((e,n)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>e(vh(i.result)),i.onerror=r=>n(r)})}const SN=/([^.]*)\.([^/]*)$/,ZY=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const AN="4.34";let Ge,MN=AN;function JY(t){Ge=t}function XY(t){const e=Ge?.findCredential(t);return e?.token?HY(t,"token",e.token):t}MN="4.34.8",et("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),et("host-webworker");function bh(t,e){const n=e?.url?.path;if(t&&n&&(t=gh(t,n,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const i=v_(t,e.portalItem.itemUrl);i!=null&&i.startsWith(KY)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(i).path)}return(t=A_(t,e?.portal))&&Ky.test(t)?M_(t):t}function Xd(t,e,n=0){if((t=t&&Ky.test(t)?NN(t):t)==null)return t;!es(t)&&e?.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let i=gh(t);if(e){const r=e.verifyItemRelativeUrls?.rootPath||e.url?.path;if(r){const s=A_(r,e.portal),o=A_(i,e.portal);i=v_(o,s,s),i!=null&&i!==o&&i!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=S_(i,e?.portal),es(i)&&(i=la(i)),e?.resources&&e?.portalItem&&!es(i)&&!kc(i)&&n===0&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(i),compress:!1}),i}function Xy(t,e,n){return bh(t,n)}function Cc(t,e,n,i){const r=Xd(t,i);r!==void 0&&(e[n]=r)}const Ky=/\/items\/([^/]+)\/resources\/(.*)/,KY="./resources/";function TN(t){return(t?.match(Ky)??null)?.[1]??null}function IN(t){const e=t?.match(Ky)??null;if(e==null)return null;const n=e[2],i=n.lastIndexOf("/");if(i===-1){const{path:o,extension:a}=EN(n);return{prefix:null,filename:o,extension:a}}const{path:r,extension:s}=EN(n.slice(i+1));return{prefix:n.slice(0,i),filename:r,extension:s}}function S_(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?x_(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function A_(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const n=`${e.urlKey}.${e.customBaseUrl}`,i=f_();return il(i,`${i.scheme}://${n}`)?x_(t,e.portalHostname,n):x_(t,n,e.portalHostname)}function M_(t){if(!t)return t||null;let e=t;return e&&Ge&&!Ge.findCredential(e)&&(e=p_(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function NN(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&Ge&&!Ge.findCredential(e)&&(e=p_(e)),e}const QY=Object.freeze(Object.defineProperty({__proto__:null,ensureMainOnlineDomain:S_,fromCDNUrl:NN,fromJSON:bh,itemIdFromResourceUrl:TN,prefixAndFilenameFromResourceUrl:IN,read:Xy,toCDNUrl:M_,toJSON:Xd,write:Cc},Symbol.toStringTag,{value:"Module"})),ON={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},kN=Object.values(ON),CN=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${kN.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),tZ=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${kN.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),eZ=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function nZ(t){return CN.test(t)}function Kd(t){if(t==null)return null;const e=ts(t),n=e?.path.match(CN)||e?.path.match(tZ);if(!n)return null;const[,i,r,s,o]=n,a=r.indexOf("/");return{title:T_(a!==-1?r.slice(a+1):r),serverType:ON[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:i}}}function RN(t){const e=ts(t).path.match(eZ);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function T_(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function iZ(t,e){const n=[];if(t){const i=Kd(t);i!=null&&i.title&&n.push(i.title)}if(e){const i=T_(e);n.push(i)}if(n.length===2){if(n[0].toLowerCase().includes(n[1].toLowerCase()))return n[0];if(n[1].toLowerCase().includes(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function I_(t){let e=Lr(t,!0);return!!e&&(e=e.toLowerCase(),e.endsWith(".arcgis.com")&&(e.startsWith("services")||e.startsWith("tiles")||e.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(e)))}function rZ(t,e){return t&&__(xN(t,e))}function sZ(t){let{url:e}=t;if(!e)return{url:e};e=xN(e,t.logger);const n=ts(e),i=Kd(n.path);let r;if(i!=null)i.sublayer!=null&&t.layer.layerId==null&&(r=i.sublayer),e=i.url.path;else if(t.nonStandardUrlAllowed){const s=RN(n.path);s!=null&&(e=s.serviceUrl,r=s.sublayerId)}return{url:__(e),layerId:r}}function oZ(t,e,n,i,r){Cc(e,i,"url",r),i.url&&t.layerId!=null&&(i.url=Jd(i.url,n,t.layerId.toString()))}function aZ(t){if(!t)return!1;const e=t.toLowerCase(),n=e.includes("/services/"),i=e.includes("/mapserver/wmsserver"),r=e.includes("/imageserver/wmsserver"),s=e.includes("/wmsserver");return n&&(i||r||s)}const lZ=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function N_(t){if(!k_(t))return null;const e=i=>i instanceof RegExp?i.test(t):typeof i=="string"&&t.startsWith(i),n=he.apiKeys;if(Array.isArray(n.scopes)){for(const i of n.scopes)if(Array.isArray(i.urls)){if(i.urls.some(e))return i.token}else if(e(i.urls))return i.token}return n.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(t)?n.basemapStyles:he.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(t)?he.apiKey:null}function O_(){return he.apiKey!=null||he.apiKeys.basemapStyles!=null}function cZ(t,e){return e?k_(t):N_(t)!=null}function k_(t){const e=Lr(t,!0);return!!e&&!lZ.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function LN(t,e,n=!1,i){return new Promise((r,s)=>{if(ia(i))return void s(PN());let o=()=>{c(),s(new Error(`Unable to load ${e}`))},a=async()=>{const p=t;try{await p.decode()}catch{}c(),r(p)},l=()=>{if(!t)return;const p=t;c(),p.src="",s(PN())};const c=()=>{t&&(t.removeEventListener("error",o),t.removeEventListener("load",a),o=null,a=null,t=null,i?.removeEventListener("abort",l),l=null,n&&URL.revokeObjectURL(e))};i?.addEventListener("abort",l),t.addEventListener("error",o),t.addEventListener("load",a)})}function PN(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const DN="Timeout exceeded";function uZ(){return new Error(DN)}function hZ(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===DN}function pZ(t){he.request.crossOriginNoCorsDomains||(he.request.crossOriginNoCorsDomains={});const e=he.request.crossOriginNoCorsDomains;for(let n of t)n=n.toLowerCase(),/^https?:\/\//.test(n)?e[Lr(n)??""]=0:(e[Lr("http://"+n)??""]=0,e[Lr("https://"+n)??""]=0)}function dZ(t){const e=he.request.crossOriginNoCorsDomains;if(e){let n=Lr(t);if(n)return n=n.toLowerCase(),!il(n,f_())&&e[n]<Date.now()-36e5}return!1}async function fZ(t){const e=ts(t);t=e.path,e.query?.f==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const n=he.request.crossOriginNoCorsDomains,i=Lr(t);n&&i&&(n[i.toLowerCase()]=Date.now())}const C_=new Map;function mZ(t,e){const n=e?.preferredHost;if(!n||il(t,`https://${n}`,!0))return;const i=Kd(t);if(!i||i.serverType!=="FeatureServer"||h_(t))return;const r=i.url.path.toLowerCase();C_.has(r)||C_.set(r,n)}function jN(t){const e=Kd(t)?.url.path.toLowerCase();if(!e)return t;const n=C_.get(e);return n?_N(t,n):t}async function vn(t,e){t instanceof URL&&(t=t.toString()),e?.query instanceof URLSearchParams&&(e.query=Wy(e.query.toString().replaceAll("+"," ")));const n=kc(t),i=qy(t);i||n||(t=la(t));const r={url:t,requestOptions:{...e}},s=y=>({data:y,getAllHeaders:wh,getHeader:wh,httpStatus:200,requestOptions:r.requestOptions,url:r.url}),o=y_(t,ns.internalInterceptors);if(o){const y=await BN(o,r);if(y!=null)return s(y)}let a=y_(t);if(a){const y=await BN(a,r);if(y!=null)return s(y);a.after||a.error||(a=null)}if(t=r.url,(e=r.requestOptions).responseType==="image"&&(et("host-webworker")||et("host-node")))throw Ds("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),r);if(e.method==="head"){if(e.body)throw Ds("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),r);if(n||i)throw Ds("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),r)}if(await wZ(),Qy)return Qy.execute(t,e);const l=new AbortController,c=Ac(e,()=>l.abort()),p={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:r,redoRequest:!1,useIdentity:ns.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=e.useRequestQueue?AZ(p):L_(p),f=await d.finally(()=>c?.remove());return a?.after?.(f),f}let Qy,$N=!1;const ns=he.request,FN="FormData"in globalThis,yZ=new Set([499,498,403,401]),gZ=new Set(["COM_0056","COM_0057","SB_0008"]),vZ=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],wh=()=>null,tg=Symbol();function bZ(t){const e=Lr(t);e&&!vn._corsServers.includes(e)&&vn._corsServers.push(e)}function UN(t){const e=Lr(t);return!e||e.endsWith(".arcgis.com")||vn._corsServers.includes(e)||g_(e)}function Ds(t,e,n,i){let r;const s={url:n.url,requestOptions:n.requestOptions,getAllHeaders:wh,getHeader:wh,ssl:!1};if(e instanceof le)return e.details?(e.details=yt(e.details),e.details.url=n.url,e.details.requestOptions=n.requestOptions):e.details=s,e;if(e){const o=i&&(()=>Array.from(i.headers)),a=i&&(p=>i.headers.get(p)),l=i?.status,c=e.message;c&&(r=c),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||l||0,s.subCode=e.subcode,s.messageCode=e.messageCode,typeof e.details=="string"?(s.messages=[e.details],r??=e.details):(s.messages=e.details,r??=s.messages?.[0]),s.raw=tg in e?e[tg]:e}return r??="Error",Mc(e)?Vi():new le(t,r,s)}async function wZ(){et("host-webworker")&&(!Qy&&globalThis.invokeStaticMessage?Qy=await import("./request-BNYkVBkE.js"):$N=!0)}async function R_(){Ge||await import("./IdentityManager-dLubtk_u.js")}async function _Z(t){const e=t.params.url,n=t.params.requestOptions,i=t.controller.signal,r=n.body;let s=null,o=null;if(FN&&"HTMLFormElement"in globalThis&&(r instanceof FormData?s=r:r instanceof HTMLFormElement&&(s=new FormData(r))),typeof r=="string"&&(o=r),t.fetchOptions={cache:n.cacheBust?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},keepalive:n.keepAlive??!1,method:n.method==="head"?"HEAD":"GET",mode:"cors",priority:ns.priority,redirect:"follow",signal:i},(s||o)&&(t.fetchOptions.body=s||o),($N||n.authMode==="anonymous")&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||n.query?.token||s?.get("token")),!t.hasToken){const a=N_(e);a&&(n.query??={},n.query.token=a,t.hasToken=!0)}if(t.useIdentity&&!t.hasToken&&!t.credential&&!t.credentialToken&&!GN(e)&&!ia(i)){let a;n.authMode==="immediate"?(await R_(),a=await Ge.getCredential(e,{signal:i})):n.authMode==="no-prompt"?(await R_(),a=await Ge.getCredential(e,{prompt:!1,signal:i}).catch(()=>{})):Ge&&(a=Ge.findCredential(e)),a&&(t.credential=a,t.credentialToken=a.token,t.useSSL=!!a.ssl)}}function GN(t){return vZ.some(e=>e.test(t))}async function xZ(t){let e=t.params.url,n=jN(e);const i=t.params.requestOptions,r=t.fetchOptions??{},s=qy(e)||kc(e),o=i.responseType||"json",a=s?0:i.timeout!=null?i.timeout:ns.timeout;let l=!1;if(!s){t.useSSL&&(e=Yy(e));let y={...i.query};t.credentialToken&&(y.token=t.credentialToken);let g=yh(y);et("esri-url-encodes-apostrophe")&&(g=g.replaceAll("'","%27"));const b=n.length+1+g.length;let x;l=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||b>ns.maxUrlLength;const A=i.useProxy||!!Zd(e);if(A){const M=fN(e);x=M.path,!l&&x.length+1+b>ns.maxUrlLength&&(l=!0),M.query&&(y={...M.query,...y})}if(r.method==="HEAD"&&(l||A)){if(l)throw b>ns.maxUrlLength?Ds("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):Ds("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(A)throw Ds("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}l?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?e=Jy(e,y):(r.body=yh(y),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):e=Jy(e,y),A&&(t.useProxy=!0,e=`${x}?${e}`),y.token&&FN&&r.body instanceof FormData&&!h_(e)&&r.body.set("token",y.token),i.hasOwnProperty("withCredentials")?t.withCredentials=i.withCredentials:il(e,f_())||(g_(e)||Ge&&Ge.findServerInfo(e)?.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(r.credentials="include",dZ(e)&&await fZ(l?Jy(e,y):e)),n=jN(e)}let c,p,d=0,f=!1;a>0&&(d=setTimeout(()=>{f=!0,t.controller.abort()},a));try{if(i.responseType==="native-request-init")p=r,p.url=n,i.signal?p.signal=i.signal:delete p.signal;else if(i.responseType!=="image"||r.cache!=="default"||r.keepalive||r.method!=="GET"||l||EZ(i.headers)||!s&&!t.useProxy&&ns.proxyUrl&&!UN(e)){if(vn._beforeFetch&&await vn._beforeFetch(e,r),c=await fetch(n,r),vn._afterFetch&&await vn._afterFetch(c),t.useProxy||bZ(e),i.responseType==="native")p=c;else if(r.method!=="HEAD")if(c.ok){switch(o){case"array-buffer":p=await c.arrayBuffer();break;case"blob":case"image":p=await c.blob();break;default:p=await c.text()}if(d&&(clearTimeout(d),d=0),o==="json"||o==="xml"||o==="document")if(p)switch(o){case"json":p=JSON.parse(p);break;case"xml":p=zN(p,"application/xml");break;case"document":p=zN(p,"text/html")}else p=null;if(p){if(o==="array-buffer"||o==="blob"){const y=c.headers.get("Content-Type");if(y&&/application\/json|text\/plain/i.test(y)&&p[o==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(p).json();g.error&&(p=g)}catch{}}o==="image"&&p instanceof Blob&&(p=await VN(URL.createObjectURL(p),t,!0))}}else{p=await c.text();try{p=JSON.parse(p)}catch{}}}else p=await VN(n,t)}catch(y){if(y.name==="AbortError")throw f?uZ():Vi("Request canceled");if(!(!c&&y instanceof TypeError&&ns.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||t.useProxy||UN(e))throw y;t.redoRequest=!0,IY({proxyUrl:ns.proxyUrl,urlPrefix:Lr(e)??""})}finally{d&&clearTimeout(d)}return[c,p]}async function BN(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let n,i;try{i=await t.before(e)}catch(r){n=Ds("request:interceptor",r,e)}if((i instanceof Error||i instanceof le)&&(n=Ds("request:interceptor",i,e)),n)throw t.error&&t.error(n),n;return i}}function EZ(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function zN(t,e){let n;try{n=new DOMParser().parseFromString(t,e)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}vn._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],vn._beforeFetch=void 0,vn._afterFetch=void 0;const SZ=new Map;async function AZ(t){const e=TZ(t.params.url);if(!e)return L_(t);const{QueueProcessor:n}=await import("./QueueProcessor-Bne-Dlbg.js");return xw(SZ,e.origin,()=>{const i=e.isHosted?et("request-queue-concurrency-hosted"):et("request-queue-concurrency-non-hosted");return new n({concurrency:i,process:r=>{if(ia(r.params.requestOptions))throw Ds("",Vi("Request canceled"),r.params);return L_(r)}})}).push(t)}async function L_(t){let e,n;await _Z(t);try{do[e,n]=await xZ(t);while(!await MZ(t,e,n))}catch(s){const o=Ds("request:server",s,t.params,e);throw o.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(o),o}const i=t.params.url;if(n)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!t.hasToken&&!t.credentialToken&&n.user?.username&&!g_(i)){const s=Lr(i,!0);s&&ns.trustedServers.push(s)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&pZ(n.authorizedCrossOriginNoCorsDomains)}else(t.params.requestOptions.responseType||"json")==="json"&&mZ(i,n);const r=t.credential;if(r&&Ge){let s=Ge.findServerInfo(r.server)?.owningSystemUrl;if(s){s=s.replace(/\/?$/,"/sharing");const o=Ge.findCredential(s,r.userId);o&&Ge._getIdenticalSvcIdx(s,o)===-1&&o.resources.unshift(s)}}return{data:n,getAllHeaders:e?()=>Array.from(e.headers):wh,getHeader:e?s=>e.headers.get(s):wh,httpStatus:e?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function MZ(t,e,n){if(t.redoRequest)return t.redoRequest=!1,!1;const i=t.params.requestOptions;if(!e||i.responseType==="native"||i.responseType==="native-request-init")return!0;let r,s;if(n&&(n.error&&typeof n.error=="object"?r=n.error:n.status==="error"&&Array.isArray(n.messages)&&(r={...n},r[tg]=n,r.details=n.messages)),!r&&!e.ok)throw r=new Error(`Unable to load ${e.url} status: ${e.status}`),r[tg]=n,r;let o,a=null;r&&(s=Number(r.code),a=r.hasOwnProperty("subcode")?Number(r.subcode):null,o=r.messageCode,o=o?.toUpperCase());const l=i.authMode;if(s===403&&(a===4||r.message?.toLowerCase().includes("ssl")&&!r.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&yZ.has(s)&&!GN(t.params.url)&&(s!==403||(!o||!gZ.has(o))&&(a==null||a===2&&t.credentialToken))){await R_();try{const c=await Ge.getCredential(t.params.url,{error:Ds("request:server",r,t.params),credential:t.credential,prompt:l!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=c,t.credentialToken=c.token,t.useSSL=t.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;r=c}}if(r)throw r;return!0}function VN(t,e,n=!1){const i=e.controller.signal,r=new Image;return e.withCredentials?r.crossOrigin="use-credentials":r.crossOrigin="anonymous",r.alt="",r.fetchPriority=ns.priority,r.src=t,LN(r,t,n,i)}function TZ(t){let e,n;return typeof t=="string"?(e=Lr(t,!0),n=I_(t)):(e=t.origin,n=I_(t.toString())),e==null?null:{origin:e,isHosted:n}}function WN(t){if(!he.assetsPath)throw Pe.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new le("assets:path-not-set","config.assetsPath is not set");return Jd(he.assetsPath,t)}let P_,H=null;function HN(){return!!H}function IZ(){return!!et("esri-wasm")}function qN(){return P_||(P_=import("./pe-wasm-BZuydchS.js").then(({default:t})=>t({locateFile:e=>WN(`esri/geometry/support/${e}`)})).then(t=>{iO(t)}),P_)}const Qd={geogToProj(t,e,n){H.ensureCache.prepare();const i=Lc(n),r=n===i,s=H.ensureFloat64(i),o=H._pe_geog_to_proj(H.getPointer(t),e,s);return o&&rl(n,e,s,r),o},projGeog(t,e,n,i){switch(i){case nn.PE_TRANSFORM_P_TO_G:return Qd.projToGeog(t,e,n);case nn.PE_TRANSFORM_G_TO_P:return Qd.geogToProj(t,e,n)}return 0},projToGeog:(t,e,n)=>Qd.projToGeogCenter(t,e,n,0),projToGeogCenter(t,e,n,i){H.ensureCache.prepare();const r=Lc(n),s=n===r,o=H.ensureFloat64(r),a=H._pe_proj_to_geog_center(H.getPointer(t),e,o,i);return a&&rl(n,e,o,s),a}};let nn=class fe{static init(){fe.PE_BUFFER_MAX=H.PeDefs.prototype.PE_BUFFER_MAX,fe.PE_NAME_MAX=H.PeDefs.prototype.PE_NAME_MAX,fe.PE_MGRS_MAX=H.PeDefs.prototype.PE_MGRS_MAX,fe.PE_USNG_MAX=H.PeDefs.prototype.PE_USNG_MAX,fe.PE_DD_MAX=H.PeDefs.prototype.PE_DD_MAX,fe.PE_DDM_MAX=H.PeDefs.prototype.PE_DDM_MAX,fe.PE_DMS_MAX=H.PeDefs.prototype.PE_DMS_MAX,fe.PE_UTM_MAX=H.PeDefs.prototype.PE_UTM_MAX,fe.PE_PARM_MAX=H.PeDefs.prototype.PE_PARM_MAX,fe.PE_TYPE_NONE=H.PeDefs.prototype.PE_TYPE_NONE,fe.PE_TYPE_GEOGCS=H.PeDefs.prototype.PE_TYPE_GEOGCS,fe.PE_TYPE_PROJCS=H.PeDefs.prototype.PE_TYPE_PROJCS,fe.PE_TYPE_GEOGTRAN=H.PeDefs.prototype.PE_TYPE_GEOGTRAN,fe.PE_TYPE_COORDSYS=H.PeDefs.prototype.PE_TYPE_COORDSYS,fe.PE_TYPE_UNIT=H.PeDefs.prototype.PE_TYPE_UNIT,fe.PE_TYPE_LINUNIT=H.PeDefs.prototype.PE_TYPE_LINUNIT,fe.PE_STR_OPTS_NONE=H.PeDefs.prototype.PE_STR_OPTS_NONE,fe.PE_STR_AUTH_NONE=H.PeDefs.prototype.PE_STR_AUTH_NONE,fe.PE_STR_AUTH_TOP=H.PeDefs.prototype.PE_STR_AUTH_TOP,fe.PE_STR_NAME_CANON=H.PeDefs.prototype.PE_STR_NAME_CANON,fe.PE_STR_FMT_WKT=H.PeDefs.prototype.PE_STR_FMT_WKT,fe.PE_STR_FMT_WKT2=H.PeDefs.prototype.PE_STR_FMT_WKT2,fe.PE_PARM_X0=H.PeDefs.prototype.PE_PARM_X0,fe.PE_PARM_ND=H.PeDefs.prototype.PE_PARM_ND,fe.PE_TRANSFORM_1_TO_2=H.PeDefs.prototype.PE_TRANSFORM_1_TO_2,fe.PE_TRANSFORM_2_TO_1=H.PeDefs.prototype.PE_TRANSFORM_2_TO_1,fe.PE_TRANSFORM_P_TO_G=H.PeDefs.prototype.PE_TRANSFORM_P_TO_G,fe.PE_TRANSFORM_G_TO_P=H.PeDefs.prototype.PE_TRANSFORM_G_TO_P,fe.PE_HORIZON_RECT=H.PeDefs.prototype.PE_HORIZON_RECT,fe.PE_HORIZON_POLY=H.PeDefs.prototype.PE_HORIZON_POLY,fe.PE_HORIZON_LINE=H.PeDefs.prototype.PE_HORIZON_LINE,fe.PE_HORIZON_DELTA=H.PeDefs.prototype.PE_HORIZON_DELTA}},YN=null;const ZN={},JN={},XN=t=>{const e=t.getType();switch(e){case nn.PE_TYPE_GEOGCS:t=H.castObject(t,H.PeGeogcs);break;case nn.PE_TYPE_PROJCS:t=H.castObject(t,H.PeProjcs);break;case nn.PE_TYPE_GEOGTRAN:t=H.castObject(t,H.PeGeogtran);break;default:e&nn.PE_TYPE_UNIT&&(t=H.castObject(t,H.PeUnit))}return t},Rc={initialize(){H.PeFactory.prototype.initialize(null)},coordsys:t=>Rc.factoryByType(nn.PE_TYPE_COORDSYS,t),factoryByType(t,e){let n=null,i=ZN[t];if(i||(i={},ZN[t]=i),i.hasOwnProperty(String(e))&&(n=i[e],H.compare(n,H.NULL)&&(n=null)),!n){const r=H.PeFactory.prototype.factoryByType(t,e);H.compare(r,H.NULL)||(n=XN(r),i[e]=n)}return n},fromString(t,e){let n=null,i=JN[t];if(i||(i={},JN[t]=i),i.hasOwnProperty(e)&&(n=i[e],H.compare(n,H.NULL)&&(n=null)),!n){const r=H.PeFactory.prototype.fromString(t,e);H.compare(r,H.NULL)||(n=XN(r),i[e]=n)}return n},geogcs:t=>Rc.factoryByType(nn.PE_TYPE_GEOGCS,t),geogtran:t=>Rc.factoryByType(nn.PE_TYPE_GEOGTRAN,t),getCode:t=>H.PeFactory.prototype.getCode(t),projcs:t=>Rc.factoryByType(nn.PE_TYPE_PROJCS,t),unit:t=>Rc.factoryByType(nn.PE_TYPE_UNIT,t)};let KN,QN=null;const D_={PE_GTLIST_OPTS_COMMON:0,init(){D_.PE_GTLIST_OPTS_COMMON=H.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,KN=H._pe_getPeGTlistExtendedEntrySize()},getGTlist(t,e,n,i,r,s){let o=null;const a=new H.PeInteger(s);try{const l=H.PeGTlistExtended.prototype.getGTlist(t,e,n,i,r,a);if((s=a.val)&&(o=[l],s>1)){const c=H.getPointer(l);for(let p=1;p<s;p++)o.push(H.wrapPointer(c+KN*p,H.PeGTlistExtendedEntry))}}finally{H.destroy(a)}return o}},NZ={destroy(t){if(t?.length){for(const e of t)js(e),e.getEntries().forEach(n=>{js(n);const i=n.getGeogtran();js(i),i.getParameters().forEach(js),[i.getGeogcs1(),i.getGeogcs2()].forEach(r=>{js(r);const s=r.getDatum();js(s),js(s.getSpheroid()),js(r.getPrimem()),js(r.getUnit())})});H.PeGTlistExtendedEntry.prototype.Delete(t[0])}}},tO={geogToGeog(t,e,n,i,r){H.ensureCache.prepare();const s=Lc(n),o=n===s,a=H.ensureFloat64(s);let l=0;i&&(l=H.ensureFloat64(i));const c=H._pe_geog_to_geog(H.getPointer(t),e,a,l,r);return c&&rl(n,e,a,o),c}},OZ={geodesicCoordinate(t,e,n,i,r,s,o,a){H.PeLineType.prototype.geodesic_coordinate(t,e,n,i,r,s,o,a)},geodeticCoordinate(t,e,n,i,r,s,o,a,l){H.PeLineType.prototype.geodetic_coordinate(t,e,n,i,r,s,o,a,l)},geodeticDistance(t,e,n,i,r,s,o,a,l,c){H.PeLineType.prototype.geodetic_distance(t,e,n,i,r,s,o,a,l,c)},greatEllipticDistance(t,e,n,i,r,s,o,a,l){H.PeLineType.prototype.great_elliptic_distance(t,e,n,i,r,s,o,a,l)}},kZ={phiToEta:(t,e)=>H.PeMath.prototype.phi_to_eta(t,e),etaToPhi:(t,e)=>H.PeMath.prototype.eta_to_phi(t,e),phiToPhig:(t,e)=>H.PeMath.prototype.phi_to_phig(t,e),q:(t,e,n)=>H.PeMath.prototype.q(t,e,n),q90:(t,e)=>H.PeMath.prototype.q90(t,e)},j_=(t,e,n,i,r,s)=>{let o,a;switch(H.ensureCache.prepare(),t){case"dd":o=H._pe_geog_to_dd,a=nn.PE_DD_MAX;break;case"ddm":o=H._pe_geog_to_ddm,a=nn.PE_DDM_MAX;break;case"dms":o=H._pe_geog_to_dms,a=nn.PE_DMS_MAX}let l=0;e&&(l=H.getPointer(e));const c=Lc(i),p=H.ensureFloat64(c),d=eg(n,a),f=o(l,n,p,r,H.ensureInt32(d));if(f)for(let y=0;y<n;y++)s[y]=H.UTF8ToString(d[y]);return f},$_=(t,e,n,i,r)=>{let s;switch(H.ensureCache.prepare(),t){case"dd":s=H._pe_dd_to_geog;break;case"ddm":s=H._pe_ddm_to_geog;break;case"dms":s=H._pe_dms_to_geog}let o=0;e&&(o=H.getPointer(e));const a=i.map(d=>H.ensureString(d)),l=H.ensureInt32(a),c=H.ensureFloat64(new Array(2*n)),p=s(o,n,l,c);return p&&rl(r,n,c),p},eO={geogToDms:(t,e,n,i,r)=>j_("dms",t,e,n,i,r),dmsToGeog:(t,e,n,i)=>$_("dms",t,e,n,i),geogToDdm:(t,e,n,i,r)=>j_("ddm",t,e,n,i,r),ddmToGeog:(t,e,n,i)=>$_("ddm",t,e,n,i),geogToDd:(t,e,n,i,r)=>j_("dd",t,e,n,i,r),ddToGeog:(t,e,n,i)=>$_("dd",t,e,n,i)};let F_=class Ad{static init(){Ad.PE_MGRS_STYLE_NEW=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,Ad.PE_MGRS_STYLE_OLD=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,Ad.PE_MGRS_STYLE_AUTO=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,Ad.PE_MGRS_180_ZONE_1_PLUS=H.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,Ad.PE_MGRS_ADD_SPACES=H.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}static geogToMgrsExtended(e,n,i,r,s,o,a){H.ensureCache.prepare();let l=0;e&&(l=H.getPointer(e));const c=Lc(i),p=H.ensureFloat64(c),d=eg(n,nn.PE_MGRS_MAX),f=H.ensureInt32(d),y=H._pe_geog_to_mgrs_extended(l,n,p,r,s,o,f);if(y)for(let g=0;g<n;g++)a[g]=H.UTF8ToString(d[g]);return y}static mgrsToGeogExtended(e,n,i,r,s){H.ensureCache.prepare();let o=0;e&&(o=H.getPointer(e));const a=i.map(d=>H.ensureString(d)),l=H.ensureInt32(a),c=H.ensureFloat64(new Array(2*n)),p=H._pe_mgrs_to_geog_extended(o,n,l,r,c);return p&&rl(s,n,c),p}};const nO={geogToUsng(t,e,n,i,r,s,o){H.ensureCache.prepare();let a=0;t&&(a=H.getPointer(t));const l=Lc(n),c=H.ensureFloat64(l),p=eg(e,nn.PE_MGRS_MAX),d=H.ensureInt32(p),f=H._pe_geog_to_usng(a,e,c,i,r,s,d);if(f)for(let y=0;y<e;y++)o[y]=H.UTF8ToString(p[y]);return f},usngToGeog(t,e,n,i){H.ensureCache.prepare();let r=0;t&&(r=H.getPointer(t));const s=n.map(c=>H.ensureString(c)),o=H.ensureInt32(s),a=H.ensureFloat64(new Array(2*e)),l=H._pe_usng_to_geog(r,e,o,a);return l&&rl(i,e,a),l}};let U_=class H2{static init(){H2.PE_UTM_OPTS_NONE=H.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,H2.PE_UTM_OPTS_ADD_SPACES=H.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,H2.PE_UTM_OPTS_NS=H.PeNotationUtm.prototype.PE_UTM_OPTS_NS}static geogToUtm(e,n,i,r,s){H.ensureCache.prepare();let o=0;e&&(o=H.getPointer(e));const a=Lc(i),l=H.ensureFloat64(a),c=eg(n,nn.PE_UTM_MAX),p=H.ensureInt32(c),d=H._pe_geog_to_utm(o,n,l,r,p);if(d)for(let f=0;f<n;f++)s[f]=H.UTF8ToString(c[f]);return d}static utmToGeog(e,n,i,r,s){H.ensureCache.prepare();let o=0;e&&(o=H.getPointer(e));const a=i.map(d=>H.ensureString(d)),l=H.ensureInt32(a),c=H.ensureFloat64(new Array(2*n)),p=H._pe_utm_to_geog(o,n,l,r,c);return p&&rl(s,n,c),p}},G_=class Za{static{this.cache=new Map}static init(){Za.PE_PCSINFO_OPTION_NONE=H.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,Za.PE_PCSINFO_OPTION_DOMAIN=H.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,Za.PE_POLE_OUTSIDE_BOUNDARY=H.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,Za.PE_POLE_POINT=H.PePCSInfo.prototype.PE_POLE_POINT}static generate(e,n=Za.PE_PCSINFO_OPTION_DOMAIN){let i=null,r=null;return Za.cache.has(e)&&(r=Za.cache.get(e),r[n]&&(i=r[n])),i||(i=H.PePCSInfo.prototype.generate(e,n),r||(r=[],Za.cache.set(e,r)),r[n]=i),i}};const CZ={versionString:()=>H.PeVersion.prototype.version_string()};function iO(t){function e(s,o,a){s[o]=a(s[o])}H=t,nn.init(),D_.init(),F_.init(),U_.init(),G_.init(),YN=class extends H.PeDouble{constructor(s=NaN){super(s)}destroy(){H.destroy(this)}[Symbol.dispose](){this.destroy()}},QN=class extends H.PeGCSExtent{destroy(){H.destroy(this)}[Symbol.dispose](){this.destroy()}};const n=[H.PeAngunit,H.PeDatum,H.PeGeogcs,H.PeGeogtran,H.PeObject,H.PeParameter,H.PePrimem,H.PeProjcs,H.PeSpheroid,H.PeUnit];for(const s of n)e(s.prototype,"getName",o=>function(){return o.call(this,new Array(nn.PE_NAME_MAX))});for(const s of[H.PeGeogtran,H.PeProjcs])e(s.prototype,"getParameters",o=>function(){const a=new Array(nn.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const p=H.getValue(l,"*");a[c]=p?H.wrapPointer(p,H.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});e(H.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return rl(l,a,s.call(this),o),l}),e(H.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=H._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!H.compare(l,H.NULL)){a=[l];const c=this.getSteps();if(c>1){const p=H.getPointer(l);for(let d=1;d<c;d++)a.push(H.wrapPointer(p+o*d,H.PeGTlistExtendedGTs))}}return a}});const i=H._pe_getPeHorizonSize(),r=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!H.compare(l,H.NULL)){a=[l];const c=l.getNump();if(c>1){const p=H.getPointer(l);for(let d=1;d<c;d++)a.push(H.wrapPointer(p+i*d,H.PeHorizon))}}return o.set(s,a),a};e(H.PeProjcs.prototype,"horizonGcsGenerate",r),e(H.PeProjcs.prototype,"horizonPcsGenerate",r),H.PeObject.prototype.toString=function(s=nn.PE_STR_OPTS_NONE){H.ensureCache.prepare();const o=H.getPointer(this),a=H.ensureInt8(new Array(nn.PE_BUFFER_MAX));return H.UTF8ToString(H._pe_object_to_string_ext(o,s,a))},H.PeGeogcs.prototype.destroy=function(){this.Delete(),js(this),this.ptr=0},H.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},H.PeProjcs.prototype.destroy=function(){this.Delete(),js(this),this.ptr=0},H.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function js(t){if(!t)return;const e=H.getClass(t);if(!e)return;const n=H.getCache(e);if(!n)return;const i=H.getPointer(t);i&&delete n[i]}function eg(t,e){const n=[],i=new Array(e);for(let r=0;r<t;r++)n.push(H.ensureInt8(i));return n}function Lc(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function rl(t,e,n,i=!1){if(i)for(let r=0;r<2*e;r++)t[r]=H.getValue(n+r*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=t.length===0;for(let s=0;s<e;s++)r&&(t[s]=new Array(2)),t[s][0]=H.getValue(n,"double"),t[s][1]=H.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}}const RZ=Object.freeze(Object.defineProperty({__proto__:null,PeCSTransformations:Qd,PeDefs:nn,get PeDouble(){return YN},PeFactory:Rc,get PeGCSExtent(){return QN},PeGTTransformations:tO,PeGTlistExtended:D_,PeGTlistExtendedEntry:NZ,PeLineType:OZ,PeMath:kZ,PeNotationDms:eO,PeNotationMgrs:F_,PeNotationUsng:nO,PeNotationUtm:U_,PePCSInfo:G_,PeVersion:CZ,_init:iO,get _pe(){return H},isLoaded:HN,isSupported:IZ,load:qN},Symbol.toStringTag,{value:"Module"}));let h;const N={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(h=2e3;h<=2045;h++)N[h]=0;for(h=2056;h<=2065;h++)N[h]=0;for(h=2067;h<=2135;h++)N[h]=0;for(h=2137;h<=2154;h++)N[h]=0;for(h=2161;h<=2170;h++)N[h]=0;for(h=2172;h<=2193;h++)N[h]=0;for(h=2195;h<=2198;h++)N[h]=0;for(h=2200;h<=2203;h++)N[h]=0;for(h=2205;h<=2217;h++)N[h]=0;for(h=2222;h<=2224;h++)N[h]=1;for(h=2225;h<=2250;h++)N[h]=2;for(h=2251;h<=2253;h++)N[h]=1;for(h=2257;h<=2264;h++)N[h]=2;for(h=2274;h<=2279;h++)N[h]=2;for(h=2280;h<=2282;h++)N[h]=1;for(h=2283;h<=2289;h++)N[h]=2;for(h=2290;h<=2292;h++)N[h]=0;for(h=2308;h<=2313;h++)N[h]=0;for(h=2315;h<=2491;h++)N[h]=0;for(h=2494;h<=2866;h++)N[h]=0;for(h=2867;h<=2869;h++)N[h]=1;for(h=2870;h<=2888;h++)N[h]=2;for(h=2891;h<=2895;h++)N[h]=2;for(h=2896;h<=2898;h++)N[h]=1;for(h=2902;h<=2908;h++)N[h]=2;for(h=2915;h<=2920;h++)N[h]=2;for(h=2921;h<=2923;h++)N[h]=1;for(h=2924;h<=2930;h++)N[h]=2;for(h=2931;h<=2962;h++)N[h]=0;for(h=2964;h<=2968;h++)N[h]=2;for(h=2969;h<=2973;h++)N[h]=0;for(h=2975;h<=2991;h++)N[h]=0;for(h=2995;h<=3051;h++)N[h]=0;for(h=3054;h<=3079;h++)N[h]=0;for(h=3081;h<=3088;h++)N[h]=0;for(h=3092;h<=3101;h++)N[h]=0;for(h=3106;h<=3138;h++)N[h]=0;for(h=3146;h<=3151;h++)N[h]=0;for(h=3153;h<=3166;h++)N[h]=0;for(h=3168;h<=3172;h++)N[h]=0;for(h=3174;h<=3203;h++)N[h]=0;for(h=3294;h<=3358;h++)N[h]=0;for(h=3367;h<=3403;h++)N[h]=0;for(h=3408;h<=3416;h++)N[h]=0;for(h=3417;h<=3438;h++)N[h]=2;for(h=3441;h<=3446;h++)N[h]=2;for(h=3447;h<=3450;h++)N[h]=0;for(h=3451;h<=3459;h++)N[h]=2;for(h=3460;h<=3478;h++)N[h]=0;for(h=3554;h<=3559;h++)N[h]=0;for(h=3560;h<=3570;h++)N[h]=2;for(h=3571;h<=3581;h++)N[h]=0;for(h=3594;h<=3597;h++)N[h]=0;for(h=3601;h<=3604;h++)N[h]=0;for(h=3637;h<=3639;h++)N[h]=0;for(h=3665;h<=3667;h++)N[h]=0;for(h=3693;h<=3695;h++)N[h]=0;for(h=3701;h<=3727;h++)N[h]=0;for(h=3728;h<=3739;h++)N[h]=2;for(h=3740;h<=3751;h++)N[h]=0;for(h=3753;h<=3760;h++)N[h]=2;for(h=3761;h<=3773;h++)N[h]=0;for(h=3775;h<=3777;h++)N[h]=0;for(h=3779;h<=3781;h++)N[h]=0;for(h=3783;h<=3785;h++)N[h]=0;for(h=3788;h<=3791;h++)N[h]=0;for(h=3797;h<=3802;h++)N[h]=0;for(h=3814;h<=3816;h++)N[h]=0;for(h=3825;h<=3829;h++)N[h]=0;for(h=3832;h<=3841;h++)N[h]=0;for(h=3844;h<=3852;h++)N[h]=0;for(h=3873;h<=3885;h++)N[h]=0;for(h=3890;h<=3893;h++)N[h]=0;for(h=3907;h<=3912;h++)N[h]=0;for(h=3942;h<=3950;h++)N[h]=0;for(h=3968;h<=3970;h++)N[h]=0;for(h=3973;h<=3976;h++)N[h]=0;for(h=3986;h<=3989;h++)N[h]=0;for(h=3994;h<=3997;h++)N[h]=0;for(h=4048;h<=4051;h++)N[h]=0;for(h=4056;h<=4063;h++)N[h]=0;for(h=4093;h<=4096;h++)N[h]=0;for(h=4390;h<=4398;h++)N[h]=0;for(h=4399;h<=4413;h++)N[h]=2;for(h=4418;h<=4433;h++)N[h]=2;for(h=4455;h<=4457;h++)N[h]=2;for(h=4484;h<=4489;h++)N[h]=0;for(h=4491;h<=4554;h++)N[h]=0;for(h=4568;h<=4589;h++)N[h]=0;for(h=4652;h<=4656;h++)N[h]=0;for(h=4766;h<=4800;h++)N[h]=0;for(h=5014;h<=5016;h++)N[h]=0;for(h=5069;h<=5072;h++)N[h]=0;for(h=5105;h<=5130;h++)N[h]=0;for(h=5167;h<=5188;h++)N[h]=0;for(h=5253;h<=5259;h++)N[h]=0;for(h=5269;h<=5275;h++)N[h]=0;for(h=5292;h<=5311;h++)N[h]=0;for(h=5329;h<=5331;h++)N[h]=0;for(h=5343;h<=5349;h++)N[h]=0;for(h=5355;h<=5357;h++)N[h]=0;for(h=5387;h<=5389;h++)N[h]=0;for(h=5459;h<=5463;h++)N[h]=0;for(h=5479;h<=5482;h++)N[h]=0;for(h=5518;h<=5520;h++)N[h]=0;for(h=5530;h<=5539;h++)N[h]=0;for(h=5550;h<=5552;h++)N[h]=0;for(h=5562;h<=5583;h++)N[h]=0;for(h=5623;h<=5625;h++)N[h]=2;for(h=5631;h<=5639;h++)N[h]=0;for(h=5649;h<=5653;h++)N[h]=0;for(h=5663;h<=5680;h++)N[h]=0;for(h=5682;h<=5685;h++)N[h]=0;for(h=5875;h<=5877;h++)N[h]=0;for(h=5896;h<=5899;h++)N[h]=0;for(h=5921;h<=5940;h++)N[h]=0;for(h=6050;h<=6125;h++)N[h]=0;for(h=6244;h<=6275;h++)N[h]=0;for(h=6328;h<=6348;h++)N[h]=0;for(h=6350;h<=6356;h++)N[h]=0;for(h=6366;h<=6372;h++)N[h]=0;for(h=6381;h<=6387;h++)N[h]=0;for(h=6393;h<=6404;h++)N[h]=0;for(h=6480;h<=6483;h++)N[h]=0;for(h=6511;h<=6514;h++)N[h]=0;for(h=6579;h<=6581;h++)N[h]=0;for(h=6619;h<=6624;h++)N[h]=0;for(h=6625;h<=6627;h++)N[h]=2;for(h=6628;h<=6632;h++)N[h]=0;for(h=6634;h<=6637;h++)N[h]=0;for(h=6669;h<=6692;h++)N[h]=0;for(h=6707;h<=6709;h++)N[h]=0;for(h=6720;h<=6723;h++)N[h]=0;for(h=6732;h<=6738;h++)N[h]=0;for(h=6931;h<=6933;h++)N[h]=0;for(h=6956;h<=6959;h++)N[h]=0;for(h=7005;h<=7007;h++)N[h]=0;for(h=7057;h<=7070;h++)N[h]=2;for(h=7074;h<=7082;h++)N[h]=0;for(h=7109;h<=7118;h++)N[h]=0;for(h=7119;h<=7127;h++)N[h]=1;for(h=7374;h<=7376;h++)N[h]=0;for(h=7528;h<=7586;h++)N[h]=0;for(h=7587;h<=7645;h++)N[h]=2;for(h=7692;h<=7696;h++)N[h]=0;for(h=7755;h<=7787;h++)N[h]=0;for(h=7791;h<=7795;h++)N[h]=0;for(h=7799;h<=7801;h++)N[h]=0;for(h=7803;h<=7805;h++)N[h]=0;for(h=7825;h<=7831;h++)N[h]=0;for(h=7845;h<=7859;h++)N[h]=0;for(h=8013;h<=8032;h++)N[h]=0;for(h=8065;h<=8068;h++)N[h]=1;for(h=8518;h<=8529;h++)N[h]=2;for(h=8533;h<=8536;h++)N[h]=2;for(h=8538;h<=8540;h++)N[h]=2;for(h=8677;h<=8679;h++)N[h]=0;for(h=8836;h<=8840;h++)N[h]=0;for(h=8857;h<=8859;h++)N[h]=0;for(h=8908;h<=8910;h++)N[h]=0;for(h=9154;h<=9159;h++)N[h]=0;for(h=9205;h<=9218;h++)N[h]=0;for(h=9271;h<=9273;h++)N[h]=0;for(h=9295;h<=9297;h++)N[h]=0;for(h=9356;h<=9360;h++)N[h]=0;for(h=9404;h<=9407;h++)N[h]=0;for(h=9476;h<=9482;h++)N[h]=0;for(h=9487;h<=9494;h++)N[h]=0;for(h=9697;h<=9699;h++)N[h]=0;for(h=9821;h<=9865;h++)N[h]=0;for(h=10285;h<=10291;h++)N[h]=0;for(h=10314;h<=10317;h++)N[h]=0;for(h=10448;h<=10465;h++)N[h]=0;for(h=10726;h<=10729;h++)N[h]=0;for(h=10731;h<=10733;h++)N[h]=0;for(h=11114;h<=11118;h++)N[h]=0;for(h=20004;h<=20032;h++)N[h]=0;for(h=20047;h<=20049;h++)N[h]=0;for(h=20062;h<=20092;h++)N[h]=0;for(h=20135;h<=20138;h++)N[h]=0;for(h=20248;h<=20258;h++)N[h]=0;for(h=20348;h<=20358;h++)N[h]=0;for(h=20436;h<=20440;h++)N[h]=0;for(h=20822;h<=20824;h++)N[h]=0;for(h=20904;h<=20932;h++)N[h]=0;for(h=20934;h<=20936;h++)N[h]=0;for(h=21004;h<=21032;h++)N[h]=0;for(h=21035;h<=21037;h++)N[h]=0;for(h=21095;h<=21097;h++)N[h]=0;for(h=21148;h<=21150;h++)N[h]=0;for(h=21207;h<=21264;h++)N[h]=0;for(h=21307;h<=21364;h++)N[h]=0;for(h=21413;h<=21423;h++)N[h]=0;for(h=21453;h<=21463;h++)N[h]=0;for(h=21473;h<=21483;h++)N[h]=0;for(h=21780;h<=21782;h++)N[h]=0;for(h=21891;h<=21894;h++)N[h]=0;for(h=21896;h<=21899;h++)N[h]=0;for(h=22171;h<=22177;h++)N[h]=0;for(h=22181;h<=22187;h++)N[h]=0;for(h=22191;h<=22197;h++)N[h]=0;for(h=22207;h<=22222;h++)N[h]=0;for(h=22229;h<=22232;h++)N[h]=0;for(h=22234;h<=22236;h++)N[h]=0;for(h=22243;h<=22250;h++)N[h]=0;for(h=22262;h<=22265;h++)N[h]=0;for(h=22307;h<=22322;h++)N[h]=0;for(h=22348;h<=22357;h++)N[h]=0;for(h=22407;h<=22422;h++)N[h]=0;for(h=22462;h<=22465;h++)N[h]=0;for(h=22521;h<=22525;h++)N[h]=0;for(h=22607;h<=22622;h++)N[h]=0;for(h=22641;h<=22646;h++)N[h]=0;for(h=22648;h<=22657;h++)N[h]=0;for(h=22707;h<=22722;h++)N[h]=0;for(h=22762;h<=22765;h++)N[h]=0;for(h=22807;h<=22822;h++)N[h]=0;for(h=22991;h<=22994;h++)N[h]=0;for(h=23028;h<=23038;h++)N[h]=0;for(h=23301;h<=23333;h++)N[h]=2;for(h=23830;h<=23853;h++)N[h]=0;for(h=23866;h<=23872;h++)N[h]=0;for(h=23877;h<=23884;h++)N[h]=0;for(h=23886;h<=23894;h++)N[h]=0;for(h=23946;h<=23948;h++)N[h]=0;for(h=24311;h<=24313;h++)N[h]=0;for(h=24342;h<=24347;h++)N[h]=0;for(h=24370;h<=24374;h++)N[h]=10;for(h=24375;h<=24381;h++)N[h]=0;for(h=24718;h<=24721;h++)N[h]=0;for(h=24817;h<=24821;h++)N[h]=0;for(h=24877;h<=24882;h++)N[h]=0;for(h=24891;h<=24893;h++)N[h]=0;for(h=25391;h<=25395;h++)N[h]=0;for(h=25828;h<=25838;h++)N[h]=0;for(h=26191;h<=26195;h++)N[h]=0;for(h=26391;h<=26393;h++)N[h]=0;for(h=26701;h<=26722;h++)N[h]=0;for(h=26729;h<=26799;h++)N[h]=2;for(h=26801;h<=26803;h++)N[h]=2;for(h=26811;h<=26813;h++)N[h]=2;for(h=26847;h<=26870;h++)N[h]=2;for(h=26891;h<=26899;h++)N[h]=0;for(h=26901;h<=26923;h++)N[h]=0;for(h=26929;h<=26946;h++)N[h]=0;for(h=26948;h<=26998;h++)N[h]=0;for(h=27037;h<=27040;h++)N[h]=0;for(h=27205;h<=27232;h++)N[h]=0;for(h=27258;h<=27260;h++)N[h]=0;for(h=27391;h<=27398;h++)N[h]=0;for(h=27561;h<=27564;h++)N[h]=0;for(h=27571;h<=27574;h++)N[h]=0;for(h=27581;h<=27584;h++)N[h]=0;for(h=27591;h<=27594;h++)N[h]=0;for(h=27700;h<=27707;h++)N[h]=0;for(h=28191;h<=28193;h++)N[h]=0;for(h=28348;h<=28358;h++)N[h]=0;for(h=28402;h<=28432;h++)N[h]=0;for(h=28462;h<=28492;h++)N[h]=0;for(h=29118;h<=29122;h++)N[h]=0;for(h=29168;h<=29172;h++)N[h]=0;for(h=29177;h<=29185;h++)N[h]=0;for(h=29187;h<=29195;h++)N[h]=0;for(h=29900;h<=29903;h++)N[h]=0;for(h=30161;h<=30179;h++)N[h]=0;for(h=30491;h<=30494;h++)N[h]=0;for(h=30729;h<=30732;h++)N[h]=0;for(h=31251;h<=31259;h++)N[h]=0;for(h=31265;h<=31268;h++)N[h]=0;for(h=31275;h<=31279;h++)N[h]=0;for(h=31281;h<=31297;h++)N[h]=0;for(h=31461;h<=31469;h++)N[h]=0;for(h=31491;h<=31495;h++)N[h]=0;for(h=31917;h<=31922;h++)N[h]=0;for(h=31965;h<=32e3;h++)N[h]=0;for(h=32001;h<=32003;h++)N[h]=2;for(h=32005;h<=32031;h++)N[h]=2;for(h=32033;h<=32060;h++)N[h]=2;for(h=32064;h<=32067;h++)N[h]=2;for(h=32074;h<=32077;h++)N[h]=2;for(h=32081;h<=32086;h++)N[h]=0;for(h=32107;h<=32130;h++)N[h]=0;for(h=32133;h<=32159;h++)N[h]=0;for(h=32164;h<=32167;h++)N[h]=2;for(h=32180;h<=32199;h++)N[h]=0;for(h=32201;h<=32260;h++)N[h]=0;for(h=32301;h<=32360;h++)N[h]=0;for(h=32401;h<=32460;h++)N[h]=0;for(h=32501;h<=32560;h++)N[h]=0;for(h=32601;h<=32662;h++)N[h]=0;for(h=32664;h<=32667;h++)N[h]=2;for(h=32701;h<=32761;h++)N[h]=0;for(h=53001;h<=53004;h++)N[h]=0;for(h=53008;h<=53019;h++)N[h]=0;for(h=53021;h<=53032;h++)N[h]=0;for(h=53034;h<=53037;h++)N[h]=0;for(h=53042;h<=53046;h++)N[h]=0;for(h=53074;h<=53080;h++)N[h]=0;for(h=54001;h<=54004;h++)N[h]=0;for(h=54008;h<=54019;h++)N[h]=0;for(h=54021;h<=54032;h++)N[h]=0;for(h=54034;h<=54037;h++)N[h]=0;for(h=54042;h<=54046;h++)N[h]=0;for(h=54048;h<=54053;h++)N[h]=0;for(h=54074;h<=54080;h++)N[h]=0;for(h=54090;h<=54096;h++)N[h]=0;for(h=54098;h<=54101;h++)N[h]=0;for(h=65161;h<=65163;h++)N[h]=0;for(h=102001;h<=102040;h++)N[h]=0;for(h=102042;h<=102063;h++)N[h]=0;for(h=102065;h<=102067;h++)N[h]=0;for(h=102070;h<=102117;h++)N[h]=0;for(h=102122;h<=102216;h++)N[h]=0;for(h=102221;h<=102377;h++)N[h]=0;for(h=102382;h<=102388;h++)N[h]=0;for(h=102389;h<=102398;h++)N[h]=2;for(h=102399;h<=102444;h++)N[h]=0;for(h=102445;h<=102447;h++)N[h]=2;for(h=102448;h<=102458;h++)N[h]=0;for(h=102459;h<=102468;h++)N[h]=2;for(h=102469;h<=102499;h++)N[h]=0;for(h=102500;h<=102519;h++)N[h]=1;for(h=102520;h<=102524;h++)N[h]=0;for(h=102525;h<=102529;h++)N[h]=2;for(h=102530;h<=102588;h++)N[h]=0;for(h=102590;h<=102598;h++)N[h]=0;for(h=102601;h<=102603;h++)N[h]=0;for(h=102605;h<=102628;h++)N[h]=0;for(h=102629;h<=102646;h++)N[h]=2;for(h=102648;h<=102700;h++)N[h]=2;for(h=102701;h<=102703;h++)N[h]=0;for(h=102707;h<=102730;h++)N[h]=2;for(h=102733;h<=102758;h++)N[h]=2;for(h=102767;h<=102900;h++)N[h]=0;for(h=102901;h<=102933;h++)N[h]=2;for(h=102934;h<=102950;h++)N[h]=13;for(h=102951;h<=102963;h++)N[h]=0;for(h=102965;h<=102969;h++)N[h]=0;for(h=102971;h<=102973;h++)N[h]=0;for(h=102975;h<=102989;h++)N[h]=0;for(h=102990;h<=102992;h++)N[h]=1;for(h=102997;h<=103002;h++)N[h]=0;for(h=103003;h<=103008;h++)N[h]=2;for(h=103009;h<=103011;h++)N[h]=0;for(h=103012;h<=103014;h++)N[h]=2;for(h=103019;h<=103021;h++)N[h]=0;for(h=103022;h<=103024;h++)N[h]=2;for(h=103029;h<=103031;h++)N[h]=0;for(h=103032;h<=103034;h++)N[h]=2;for(h=103065;h<=103068;h++)N[h]=0;for(h=103074;h<=103076;h++)N[h]=0;for(h=103077;h<=103079;h++)N[h]=1;for(h=103080;h<=103082;h++)N[h]=0;for(h=103083;h<=103085;h++)N[h]=2;for(h=103090;h<=103093;h++)N[h]=0;for(h=103097;h<=103099;h++)N[h]=0;for(h=103100;h<=103102;h++)N[h]=2;for(h=103107;h<=103109;h++)N[h]=0;for(h=103110;h<=103112;h++)N[h]=2;for(h=103113;h<=103116;h++)N[h]=0;for(h=103117;h<=103120;h++)N[h]=2;for(h=103153;h<=103157;h++)N[h]=0;for(h=103158;h<=103162;h++)N[h]=2;for(h=103163;h<=103165;h++)N[h]=0;for(h=103166;h<=103168;h++)N[h]=1;for(h=103169;h<=103171;h++)N[h]=2;for(h=103186;h<=103188;h++)N[h]=0;for(h=103189;h<=103191;h++)N[h]=2;for(h=103192;h<=103195;h++)N[h]=0;for(h=103196;h<=103199;h++)N[h]=2;for(h=103200;h<=103224;h++)N[h]=0;for(h=103225;h<=103227;h++)N[h]=1;for(h=103232;h<=103237;h++)N[h]=0;for(h=103238;h<=103243;h++)N[h]=2;for(h=103244;h<=103246;h++)N[h]=0;for(h=103247;h<=103249;h++)N[h]=2;for(h=103254;h<=103256;h++)N[h]=0;for(h=103257;h<=103259;h++)N[h]=2;for(h=103264;h<=103266;h++)N[h]=0;for(h=103267;h<=103269;h++)N[h]=2;for(h=103300;h<=103375;h++)N[h]=0;for(h=103381;h<=103383;h++)N[h]=0;for(h=103384;h<=103386;h++)N[h]=1;for(h=103387;h<=103389;h++)N[h]=0;for(h=103390;h<=103392;h++)N[h]=2;for(h=103397;h<=103399;h++)N[h]=0;for(h=103400;h<=103471;h++)N[h]=2;for(h=103476;h<=103478;h++)N[h]=0;for(h=103479;h<=103481;h++)N[h]=2;for(h=103486;h<=103488;h++)N[h]=0;for(h=103489;h<=103491;h++)N[h]=2;for(h=103492;h<=103495;h++)N[h]=0;for(h=103496;h<=103499;h++)N[h]=2;for(h=103528;h<=103543;h++)N[h]=0;for(h=103544;h<=103548;h++)N[h]=2;for(h=103549;h<=103551;h++)N[h]=0;for(h=103552;h<=103554;h++)N[h]=1;for(h=103555;h<=103557;h++)N[h]=2;for(h=103558;h<=103560;h++)N[h]=0;for(h=103571;h<=103573;h++)N[h]=0;for(h=103574;h<=103576;h++)N[h]=2;for(h=103577;h<=103580;h++)N[h]=0;for(h=103581;h<=103583;h++)N[h]=2;for(h=103595;h<=103694;h++)N[h]=0;for(h=103696;h<=103699;h++)N[h]=0;for(h=103700;h<=103793;h++)N[h]=2;for(h=103794;h<=103890;h++)N[h]=0;for(h=103891;h<=103896;h++)N[h]=2;for(h=103900;h<=103971;h++)N[h]=2;for(h=103972;h<=103977;h++)N[h]=0;for(h=112e3;h<=112101;h++)N[h]=0;const rO=[102100,102113,3857,3785,900913],LZ=[104905,104971],PZ=[104903],DZ=[4326,...rO,...LZ,...PZ],tf=[-20037508342788905e-9,20037508342788905e-9],B_=[-20037508342787e-6,20037508342787e-6],z_={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:tf,origin:B_,dx:1e-5},sO={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:tf,origin:B_,dx:1e-5},102100:z_,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:tf,origin:B_,dx:1e-5},3857:z_,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:z_,104903:{wkTemplate:'GEOGCS["GCS_Moon_2000",DATUM["D_Moon_2000",SPHEROID["Moon_2000_IAU_IAG",1737400,0,AUTHORITY["ESRI","107903"]],AUTHORITY["ESRI","106903"]],PRIMEM["Reference_Meridian",0,AUTHORITY["ESRI","108900"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["ESRI","104903"]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function sl(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const n=t.wkid,i=e.wkid;if(n!=null||i!=null){if(n===i||ol(t)&&ol(e))return!0;const o=t.latestWkid;if(o!=null&&i===o)return!0;const a=e.latestWkid;return a!=null&&n===a}let r,s;return t.wkt2&&e.wkt2?(r=t.wkt2,s=e.wkt2):t.wkt&&e.wkt&&(r=t.wkt,s=e.wkt),!(!r||!s)&&r.toUpperCase()===s.toUpperCase()}function _h(t){const e=t?.wkid;return e!=null&&e>=2e3&&sO[e]||null}function jZ(t){if(!t)return;const{wkid:e,vcsWkid:n}=t;if(e)return n?JSON.stringify({wkid:e,vcsWkid:n}):String(e);const i=t.wkt||t.wkt2;return JSON.stringify(i?n?{wkt:i,vcsWkid:n}:{wkt:i}:{})}function xh(t){if(!V_(t))return!1;const{wkid:e}=t;if(e)return N[e]==null;const n=t.wkt2||t.wkt;return!!n&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(n)}function oO(t){return!(aO(t)||lO(t))}function ef(t){return t?.wkid===4326}function $Z(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function FZ(t){return t?.wkid===4490}function ol(t){const e=t?.wkid;return e!=null&&e>=2e3&&rO.includes(e)}function UZ(t){return t?.wkid===32662}function nf(t){return t===104971||t===104905}function aO(t){return nf(t?.wkid)}function rf(t){return t===104903}function lO(t){return rf(t?.wkid)}function cO(t){const e=t?.wkid;return e!=null&&e>=2e3&&DZ.includes(e)}function V_(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const W_={wkid:4326,wkt:ww(sO[4326].wkTemplate,{Central_Meridian:"0.0"})},H_={wkid:102100,latestWkid:3857},GZ={wkid:32662};function q_(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const uO=q_(Qr),Y_=q_(fh),Z_=q_(Hd),BZ={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Qr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},zZ=Y_.wkt.toUpperCase(),VZ=Z_.wkt.toUpperCase();function hO(t){if(t!=null&&V_(t)){const e=t.wkid,n=t.wkt2??t.wkt;if(nf(e))return fh;const i=n?.toUpperCase();if(n&&i===zZ)return fh;if(rf(e)||i&&i===VZ)return Hd}return Qr}function WZ(t){return nf(t)?fh:rf(t)?Hd:Qr}function pO(t){return sl(t,uO)}function HZ(t){return pO(t)||sl(t,Y_)||sl(t,Z_)}const qZ=39.37,YZ=Qr.radius*Math.PI/200,dO=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Eh=N,fO=/UNIT\[([^\]]+)]/i,mO=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),ZZ=Kr()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),$s=t=>t*t,al=t=>t*t*t,sf={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:$s(.001)},"square-centimeters":{inBaseUnits:$s(.01)},"square-decimeters":{inBaseUnits:$s(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:$s(1e3)},"square-inches":{inBaseUnits:$s(.0254)},"square-feet":{inBaseUnits:$s(.3048)},"square-yards":{inBaseUnits:$s(.9144)},"square-miles":{inBaseUnits:$s(1609.344)},"square-nautical-miles":{inBaseUnits:$s(1852)},"square-us-feet":{inBaseUnits:$s(1200/3937)},acres:{inBaseUnits:.0015625*$s(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*al(.001)},"cubic-centimeters":{inBaseUnits:1e3*al(.01)},"cubic-decimeters":{inBaseUnits:1e3*al(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*al(1e3)},"cubic-inches":{inBaseUnits:1e3*al(.0254)},"cubic-feet":{inBaseUnits:1e3*al(.3048)},"cubic-yards":{inBaseUnits:1e3*al(.9144)},"cubic-miles":{inBaseUnits:1e3*al(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},JZ=(()=>{const t={};for(const e in sf)for(const n in sf[e].units)t[n]=e;return t})();function XZ(t,e,n){return t*sf[n].units[e].inBaseUnits}function KZ(t,e,n){return t/sf[n].units[e].inBaseUnits}const QZ=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],tJ=["metric","imperial"],yO=[...tJ,...QZ],eJ=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function ng(t){const e=JZ[t];if(!e)throw new Error("unknown type");return e}function gO(t,e=null){return e=e||ng(t),sf[e].baseUnit===t}function is(t,e,n){if(e===n)return t;const i=ng(e);if(i!==ng(n))throw new Error("incompatible units");const r=gO(e,i)?t:XZ(t,e,i);return gO(n,i)?r:KZ(r,n,i)}function nJ(t,e,n,i=!1){if(!i&&xh(e))throw new Error("Unable to convert from an angular unit to a linear unit.");const r=ll(e);return r!==n&&(t=r?is(t,r,n):is(t*=Pc(e),"meters",n)),t}function iJ(t,e,n,i=!1){if(!i&&xh(n))throw new Error("Unable to convert from a linear unit to an angular unit.");const r=ll(n);return e!==r&&(t=r?is(t,e,r):is(t,e,"meters")/Pc(n)),t}function vO(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function rJ(t){return vO(t)}function sJ(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function oJ(t,e,n){switch(n){case"metric":return bO(t,e);case"imperial":return _O(t,e);default:return n}}function aJ(t,e,n){switch(n){case"metric":return wO(t,e);case"imperial":return xO(t,e);default:return n}}function bO(t,e){const n=is(t,e,"meters");return Math.abs(n)<3e3?"meters":"kilometers"}function wO(t,e){const n=is(t,e,"meters");return Math.abs(n)<1e5?"meters":"kilometers"}function _O(t,e){const n=is(t,e,"feet");return Math.abs(n)<1e3?"feet":"miles"}function xO(t,e){const n=is(t,e,"feet");return Math.abs(n)<1e5?"feet":"miles"}function lJ(t,e){const n=is(t,e,"square-meters");return Math.abs(n)<3e6?"square-meters":"square-kilometers"}function cJ(t,e){const n=is(t,e,"square-feet");return Math.abs(n)<1e6?"square-feet":"square-miles"}function uJ(t,e,n){return is(t,e,"meters")/(n*Math.PI/180)}function J_(t){return ZZ.fromJSON(t.toLowerCase())||null}function hJ(t){if(t!=null&&!oO(t))return 1;const e=Pc(t);return e>1e5?1:e}function EO(t){return Pc(t)>=hO(t).metersPerDegree?"meters":ll(t)}function Pc(t,e=Qr.metersPerDegree){return SO(t,!0)??e}function SO(t,e=!1){const n=t?.wkid??null,i=t?.wkt2??t?.wkt??null;let r=null;if(n){if(nf(n))return fh.metersPerDegree;if(rf(n))return Hd.metersPerDegree;r=Eh.values[Eh[n]],!r&&e&&mO.has(n)&&(r=YZ)}else i&&(X_(i)?r=AO(dO.exec(i),r):TO(i)&&(r=AO(fO.exec(i),r)));return r}function pJ(t){return xh(t)?1:Pc(t)}function AO(t,e){return t?.[1]?MO(t[1]):e}function MO(t){return parseFloat(t.split(",")[1])}function ll(t){const e=t?.wkid??null,n=t?.wkt2??t?.wkt??null;let i=null;if(e)i=Eh.units[Eh[e]];else if(n){const r=X_(n)?dO:TO(n)?fO:null;if(r){const s=r.exec(n);s?.[1]&&(i=gJ(s[1]))}}return i!=null?J_(i):null}function dJ(t){const e=ll(t);return e!=null&&yO.includes(e)?e:null}function fJ(t){const e=EO(t);return e!=null&&yO.includes(e)?e:null}function mJ(t){const e=ll(t);return e==null?null:eJ.get(e)}function TO(t){return/^GEOCCS/i.test(t)}function X_(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const yJ=1e-7;function gJ(t){let e=/[\\"']([^\\"']+)/.exec(t)?.[1];if(!e||!J_(e)){const n=MO(t);e=null;const i=Eh.values;for(let r=0;r<i.length;++r)if(Math.abs(n-i[r])<yJ){e=Eh.units[r];break}}return e}function vJ(t){const e=ll(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const bJ={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},wJ={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},_J={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},xJ=Kr()(bJ),EJ=Kr()(wJ),SJ=Kr()(_J);function $e(t,e,n){let i,r;return e===void 0?(r=t,i=[void 0]):typeof e!="string"?(r=t,i=[void 0],n=e):(r=e,i=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;for(const l of i){const c=qw(s,l,r);c.write&&typeof c.write=="object"||(c.write={}),n&&(c.write.target=n),c.write.writer=a[o]}}}var go;let Ut=class extends Yt{static{go=this}static{this.GCS_NAD_1927=null}static{this.WGS84=null}static{this.WebMercator=null}static{this.PlateCarree=null}static fromJSON(t){if(!t)return null;if(t?.wkid===102100)return go.WebMercator;if(t?.wkid===4326)return go.WGS84;const e=new go;return e.read(t),e}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return ef(this)}get isWebMercator(){return ol(this)}get isGeographic(){return xh(this)}get isWrappable(){return cO(this)}get metersPerUnit(){return Pc(this)}get unit(){return ll(this)||(this.isGeographic?"degrees":null)}writeWkt(t,e){this.wkid||(e.wkt=t)}clone(){if(this===go.WGS84)return new go(W_);if(this===go.WebMercator)return new go(H_);const t=new go;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(t.wkt=this.wkt),this.wkt2!=null&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=yt(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:e,referenceServiceName:n}=t.imageCoordinateSystem,{geodataXform:i}=t.imageCoordinateSystem,r=this.imageCoordinateSystem;return e==null||i?JSON.stringify(r)===JSON.stringify(t.imageCoordinateSystem):n?r.id===e&&r.referenceServiceName===n:r.id===e}return sl(this,t)}toJSON(t){return this.write(void 0,t)}};v([E({readOnly:!0})],Ut.prototype,"isWGS84",null),v([E({readOnly:!0})],Ut.prototype,"isWebMercator",null),v([E({readOnly:!0})],Ut.prototype,"isGeographic",null),v([E({readOnly:!0})],Ut.prototype,"isWrappable",null),v([E({type:cn,json:{write:!0}})],Ut.prototype,"latestWkid",void 0),v([E({readOnly:!0})],Ut.prototype,"metersPerUnit",null),v([E({readOnly:!0})],Ut.prototype,"unit",null),v([E({type:cn,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Ut.prototype,"wkid",void 0),v([E({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Ut.prototype,"wkt",void 0),v([$e("wkt"),$e("web-scene","wkt")],Ut.prototype,"writeWkt",null),v([E({type:String,json:{write:!1}})],Ut.prototype,"wkt2",void 0),v([E({type:cn,json:{write:!0}})],Ut.prototype,"vcsWkid",void 0),v([E({type:cn,json:{write:!0}})],Ut.prototype,"latestVcsWkid",void 0),v([E()],Ut.prototype,"imageCoordinateSystem",void 0),Ut=go=v([nt("esri.geometry.SpatialReference")],Ut),Ut.prototype.toJSON.isDefaultToJSON=!0,Ut.GCS_NAD_1927=Yn.freeze(new Ut({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Ut.WGS84=Yn.freeze(new Ut(W_)),Ut.WebMercator=Yn.freeze(new Ut(H_)),Ut.PlateCarree=Yn.freeze(new Ut(GZ));let mi=class extends Yt{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Ut.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,e){if(t instanceof Ut)return t;if(t!=null){const n=new Ut;return n.read(t,e),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,e){this.cache[t]=e}};v([E()],mi.prototype,"type",void 0),v([E({readOnly:!0})],mi.prototype,"cache",null),v([E({readOnly:!0})],mi.prototype,"extent",null),v([E({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],mi.prototype,"hasM",void 0),v([E({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],mi.prototype,"hasZ",void 0),v([E({type:Ut,json:{write:!0},value:Ut.WGS84})],mi.prototype,"spatialReference",void 0),v([gn("spatialReference")],mi.prototype,"readSpatialReference",null),mi=v([nt("esri.geometry.Geometry")],mi);const AJ=Object.prototype.toString;function MJ(t){const e="__accessorMetadata__"in t?Xr(t):t;return function(...n){if(n.push(e),typeof n[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return TJ.apply(this,n)}}function TJ(t,e,n,i){Vd(t,e).cast=i}function IJ(t){return(e,n)=>{Vd(e,t).cast=e[n]}}function Sh(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&AJ.call(t[0])==="[object Function]"?MJ(t[0]):t.length===1&&typeof t[0]=="string"?IJ(t[0]):void 0}function Ah(t){if(t&&typeof t=="object"&&"type"in t&&t.type==="mesh")throw new le("internal:mesh","Mesh geometries are not supported for this operation")}function NJ(t){t.forEach(Ah)}const OJ=57.29577951308232,kJ=.017453292519943;function IO(t){return t*OJ}function NO(t){return t*kJ}function CJ(t){return Math.PI/2-2*Math.atan(Math.exp(-t/Qr.radius))}function K_(t){return t.wkid!=null||t.wkt!=null}const Q_=[0,0];function ig(t,e,n,i,r){const s=t,o=r;if(o.spatialReference=n,"x"in s&&"x"in o)[o.x,o.y]=e(s.x,s.y,Q_,i);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=e(s.xmin,s.ymin,Q_,i),[o.xmax,o.ymax]=e(s.xmax,s.ymax,Q_,i);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let c;for(let p=0;p<a.length;p++){const d=a[p];c=[],l.push(c);for(let f=0;f<d.length;f++)c.push(e(d[f][0],d[f][1],[0,0],i)),d[f].length>2&&c[f].push(d[f][2]),d[f].length>3&&c[f].push(d[f][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let c=0;c<a.length;c++)l[c]=e(a[c][0],a[c][1],[0,0],i),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return r}function of(t,e){const n=t&&(K_(t)?t:t.spatialReference),i=e&&(K_(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!n||!i)&&(!!sl(i,n)||ol(i)&&ef(n)||ol(n)&&ef(i))}function tx(t,e){if(t==null)return null;const n=t.spatialReference,i=e&&(K_(e)?e:e.spatialReference);return of(n,i)?sl(n,i)?yt(t):ol(i)?ig(t,Dc,Ut.WebMercator,!1,yt(t)):ef(i)?ig(t,af,Ut.WGS84,!1,yt(t)):null:null}function Dc(t,e,n=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const i=NO(e);return n[0]=NO(t)*Qr.radius,n[1]=Qr.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),n}function af(t,e,n=[0,0],i=!1){if(t===tf[0])n[0]=-180;else if(t===tf[1])n[0]=180;else{const r=IO(t/Qr.radius);n[0]=i?r:r-360*Math.floor((r+180)/360)}return n[1]=IO(Math.PI/2-2*Math.atan(Math.exp(-e/Qr.radius))),n}function rg(t,e=!1,n=yt(t)){return Ah(t),Ah(n),ig(t,Dc,Ut.WebMercator,e,n)}function lf(t,e=!1,n=yt(t)){return Ah(t),Ah(n),ig(t,af,Ut.WGS84,e,n)}function OO(t,e){const n=t.x-e.x,i=t.y-e.y,r=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(n*n+i*i+r*r)}function RJ(t){return ex(t,kO)?.[0]??null}function LJ(t){return ex(t,kO)?.[1]??null}function ex({x:t,y:e,spatialReference:n},i=[0,0]){if(n){if(ol(n))return af(t,e,i);if(xh(n))return i[0]=t,i[1]=e,i}return null}const kO=[0,0];var sg;const nx=[0,0];function CO(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let ce=sg=class extends mi{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const n=t._get("spatialReference");e._set("spatialReference",Yn.isFrozen(n)?n:n.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,n,i,r){let s;if(Array.isArray(t))s=t,r=e,t=s[0],e=s[1],n=s[2],i=s[3];else if(t&&typeof t=="object"){if(s=t,t=s.x!=null?s.x:s.longitude,e=s.y!=null?s.y:s.latitude,n=s.z,i=s.m,(r=s.spatialReference)&&r.declaredClass!=="esri.geometry.SpatialReference"&&(r=new Ut(r)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)Pe.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)Pe.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&r?.isWebMercator){const a=Dc(s.longitude,s.latitude,nx);t=a[0],e=a[1]}}}else CO(n)?(r=n,n=null):CO(i)&&(r=i,i=null);const o={x:t,y:e};return o.x==null&&o.y!=null?Pe.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&Pe.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),r!=null&&(o.spatialReference=r),n!=null&&(o.z=n),i!=null&&(o.m=i),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return LJ(this)}set latitude(t){const{spatialReference:e,x:n}=this;t!=null&&e&&(e.isWebMercator?this._set("y",Dc(n,t,nx)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return RJ(this)}set longitude(t){const{y:e,spatialReference:n}=this;t!=null&&n&&(n.isWebMercator?this._set("x",Dc(t,e,nx)[0]):n.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,n){e[n]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new sg;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return sg.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:n,z:i,m:r,spatialReference:s}=this,{z:o,m:a}=t;let{x:l,y:c,spatialReference:p}=t;if(!s.equals(p))if(s.isWebMercator&&p.isWGS84)[l,c]=Dc(l,c),p=s;else{if(!s.isWGS84||!p.isWebMercator)return!1;[l,c]=af(l,c),p=s}return e===l&&n===c&&i===o&&r===a&&s.wkid===p.wkid}offset(t,e,n){return this.x+=t,this.y+=e,n!=null&&(this.z=(this.z??0)+n),this}normalize(){if(!this.spatialReference)return this;const t=_h(this.spatialReference);if(!t)return this;let e=this.x;const[n,i]=t.valid,r=2*i;let s;return e>i?(s=Math.ceil(Math.abs(e-i)/r),e-=s*r):e<n&&(s=Math.ceil(Math.abs(e-n)/r),e+=s*r),this._set("x",e),this}distance(t){return OO(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};v([E({readOnly:!0})],ce.prototype,"cache",null),v([E({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ce.prototype,"hasM",null),v([E({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ce.prototype,"hasZ",null),v([E({type:Number})],ce.prototype,"latitude",null),v([E({type:Number})],ce.prototype,"longitude",null),v([E({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Sh(t=>isNaN(t)?t:Rd(t))],ce.prototype,"x",void 0),v([$e("x")],ce.prototype,"writeX",null),v([gn("x")],ce.prototype,"readX",null),v([E({type:Number,json:{write:!0}})],ce.prototype,"y",void 0),v([E({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ce.prototype,"z",void 0),v([E({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],ce.prototype,"m",void 0),ce=sg=v([nt("esri.geometry.Point")],ce),ce.prototype.toJSON.isDefaultToJSON=!0;const ix=[0,0];function rx(t,e){return e!=null&&Wi(t,e.x,e.y,e.z)}function PJ(t,e){if(!e.points?.length)return!1;for(const n of e.points)if(!Mh(t,n))return!1;return!0}function DJ(t,e){const{xmin:n,ymin:i,zmin:r,xmax:s,ymax:o,zmax:a}=e;return t.hasZ&&e.hasZ?Wi(t,n,i,r)&&Wi(t,n,o,r)&&Wi(t,s,o,r)&&Wi(t,s,i,r)&&Wi(t,n,i,a)&&Wi(t,n,o,a)&&Wi(t,s,o,a)&&Wi(t,s,i,a):Wi(t,n,i)&&Wi(t,n,o)&&Wi(t,s,o)&&Wi(t,s,i)}function Mh(t,e){return Wi(t,e[0],e[1])}function jJ(t,e){return Wi(t,e[0],e[1],e[2])}function Wi(t,e,n,i){return e>=t.xmin&&e<=t.xmax&&n>=t.ymin&&n<=t.ymax&&(i==null||!t.hasZ||i>=t.zmin&&i<=t.zmax)}function RO(t,e){return ix[1]=e.y,ix[0]=e.x,$J(t,ix)}function $J(t,e){return sx(t.rings,e)}function sx(t,e){if(!t||t.length<1)return!1;if(FJ(t))return LO(!1,t,e);let n=!1;for(let i=0,r=t.length;i<r;i++)n=LO(n,t[i],e);return n}function FJ(t){return!Array.isArray(t[0][0])}function LO(t,e,n){const[i,r]=n;let s=t,o=0;for(let a=0,l=e.length;a<l;a++){o++,o===l&&(o=0);const[c,p]=e[a],[d,f]=e[o];(p<r&&f>=r||f<r&&p>=r)&&c+(r-p)/(f-p)*(d-c)<i&&(s=!s)}return s}function UJ(t,e){return rx(t,e)}function PO(t,e){const n=t.hasZ&&e.hasZ;let i,r,s;if(t.xmin<=e.xmin){if(i=e.xmin,t.xmax<i)return!1}else if(i=t.xmin,e.xmax<i)return!1;if(t.ymin<=e.ymin){if(r=e.ymin,t.ymax<r)return!1}else if(r=t.ymin,e.ymax<r)return!1;if(n&&e.hasZ){if(t.zmin<=e.zmin){if(s=e.zmin,t.zmax<s)return!1}else if(s=t.zmin,e.zmax<s)return!1}return!0}function GJ(t,e){const{points:n,hasZ:i}=e,r=i?jJ:Mh;for(const s of n)if(r(t,s))return!0;return!1}const jc=[0,0],$c=[0,0],Fc=[0,0],Uc=[0,0],BJ=[jc,$c,Fc,Uc],DO=[[Fc,jc],[jc,$c],[$c,Uc],[Uc,Fc]];function jO(t,e){return zJ(t,e.rings)}function zJ(t,e){jc[0]=t.xmin,jc[1]=t.ymax,$c[0]=t.xmax,$c[1]=t.ymax,Fc[0]=t.xmin,Fc[1]=t.ymin,Uc[0]=t.xmax,Uc[1]=t.ymin;for(const n of BJ)if(sx(e,n))return!0;for(const n of e){if(!n.length)continue;let i=n[0];if(Mh(t,i))return!0;for(let r=1;r<n.length;r++){const s=n[r];if(Mh(t,s)||$O(i,s,DO))return!0;i=s}}return!1}function VJ(t,e){jc[0]=t.xmin,jc[1]=t.ymax,$c[0]=t.xmax,$c[1]=t.ymax,Fc[0]=t.xmin,Fc[1]=t.ymin,Uc[0]=t.xmax,Uc[1]=t.ymin;const n=e.paths;for(const i of n){if(!n.length)continue;let r=i[0];if(Mh(t,r))return!0;for(let s=1;s<i.length;s++){const o=i[s];if(Mh(t,o)||$O(r,o,DO))return!0;r=o}}return!1}const oi=[0,0];function WJ(t){for(let e=0;e<t.length;e++){const n=t[e];for(let r=0;r<n.length-1;r++){const s=n[r],o=n[r+1];for(let a=e+1;a<t.length;a++)for(let l=0;l<t[a].length-1;l++){const c=t[a][l],p=t[a][l+1];if(og(s,o,c,p,oi)&&!(oi[0]===s[0]&&oi[1]===s[1]||oi[0]===c[0]&&oi[1]===c[1]||oi[0]===o[0]&&oi[1]===o[1]||oi[0]===p[0]&&oi[1]===p[1]))return!0}}const i=n.length;if(!(i<=4))for(let r=0;r<i-3;r++){let s=i-1;r===0&&(s=i-2);const o=n[r],a=n[r+1];for(let l=r+2;l<s;l++){const c=n[l],p=n[l+1];if(og(o,a,c,p,oi)&&!(oi[0]===o[0]&&oi[1]===o[1]||oi[0]===c[0]&&oi[1]===c[1]||oi[0]===a[0]&&oi[1]===a[1]||oi[0]===p[0]&&oi[1]===p[1]))return!0}}}return!1}function $O(t,e,n){for(let i=0;i<n.length;i++)if(og(t,e,n[i][0],n[i][1]))return!0;return!1}function og(t,e,n,i,r){const[s,o]=t,[a,l]=e,[c,p]=n,[d,f]=i,y=d-c,g=s-c,b=a-s,x=f-p,A=o-p,M=l-o,_=x*b-y*M;if(_===0)return!1;const w=(y*A-x*g)/_,T=(b*A-M*g)/_;return w>=0&&w<=1&&T>=0&&T<=1&&(r&&(r[0]=s+w*(a-s),r[1]=o+w*(l-o)),!0)}function FO(t){switch(t){case"esriGeometryEnvelope":case"extent":return PO;case"esriGeometryMultipoint":case"multipoint":return GJ;case"esriGeometryPoint":case"point":return UJ;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return jO;case"esriGeometryPolyline":case"polyline":return VJ}}var Fs;function HJ(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function cl(t,e,n){return e==null?n:n==null?e:t(e,n)}let pe=Fs=class extends mi{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,n,i,r){return HJ(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?Ut.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:n,ymax:i,spatialReference:r??Ut.WGS84}}static fromPoint(t){return new Fs({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new ce({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new Fs;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,n=t.spatialReference;return e&&n&&!e.equals(n)&&of(e,n)&&(t=e.isWebMercator?rg(t):lf(t,!0)),t.type==="point"?rx(this,t):t.type==="extent"&&DJ(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,n=t.spatialReference;return e&&n&&!e.equals(n)&&of(e,n)&&(t=e.isWebMercator?rg(t):lf(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),n=this.width*e,i=this.height*e;if(this.xmin+=n,this.ymin+=i,this.xmax-=n,this.ymax-=i,this.hasZ){const r=(this.zmax-this.zmin)*e;this.zmin+=r,this.zmax-=r}if(this.hasM){const r=(this.mmax-this.mmin)*e;this.mmin+=r,this.mmax-=r}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,n=t.spatialReference;return e&&n&&!sl(e,n)&&of(e,n)&&(t=e.isWebMercator?rg(t):lf(t,!0)),FO(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,n){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,n!=null&&(this.zmin+=n,this.zmax+=n),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=cl(Math.min,this.zmin,t.zmin),this.zmax=cl(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=cl(Math.min,this.mmin,t.mmin),this.mmax=cl(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=cl(Math.max,this.zmin,t.zmin),this.zmax=cl(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=cl(Math.max,this.mmin,t.mmin),this.mmax=cl(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=_h(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,n=this._getCM(t);if(n){const i=e.isWebMercator?lf(n):n;this.xmin-=n.x,this.xmax-=n.x,e.isWebMercator||(i.x=ox(i.x,t).x),this.spatialReference=new Ut(ww((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(t){let e=null;const[n,i]=t.valid,r=this.xmin,s=this.xmax;return r>=n&&r<=i&&s>=n&&s<=i||(e=this.center),e}_normalize(t,e,n){const i=this.spatialReference;if(!i)return this;const r=n??_h(i);if(r==null)return this;const s=this._getParts(r).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return t?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(t)return this._shiftCM(r);if(e)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const p=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(p)}if(a){const p=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(p)}return c}),hasZ:o,hasM:a,spatialReference:i}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:r,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let p;t=t||_h(o);const[d,f]=t.valid;p=ox(this.xmin,t);const y=p.x,g=p.frameId;p=ox(this.xmax,t);const b=p.x,x=p.frameId,A=y===b&&a>0;if(a>2*f){const M=new Fs(l<c?y:b,r,f,s,o),_=new Fs(d,r,l<c?b:y,s,o),w=new Fs(0,r,f,s,o),T=new Fs(d,r,0,s,o),I=[],O=[];M.contains(w)&&I.push(g),M.contains(T)&&O.push(g),_.contains(w)&&I.push(x),_.contains(T)&&O.push(x);for(let k=g+1;k<x;k++)I.push(k),O.push(k);e.push({extent:M,frameIds:[g]},{extent:_,frameIds:[x]},{extent:w,frameIds:I},{extent:T,frameIds:O})}else y>b||A?e.push({extent:new Fs(y,r,f,s,o),frameIds:[g]},{extent:new Fs(d,r,b,s,o),frameIds:[x]}):e.push({extent:new Fs(y,r,b,s,o),frameIds:[g]});this.cache._parts=e}const n=this.hasZ,i=this.hasM;if(n||i){const r={};n&&(r.zmin=this.zmin,r.zmax=this.zmax),i&&(r.mmin=this.mmin,r.mmax=this.mmax);for(let s=0;s<e.length;s++)e[s].extent.set(r)}return e}};function ox(t,e){const[n,i]=e.valid,r=2*i;let s,o=0;return t>i?(s=Math.ceil(Math.abs(t-i)/r),t-=s*r,o=s):t<n&&(s=Math.ceil(Math.abs(t-n)/r),t+=s*r,o=-s),{x:t,frameId:o}}v([E({readOnly:!0})],pe.prototype,"cache",null),v([E({readOnly:!0})],pe.prototype,"center",null),v([E({readOnly:!0})],pe.prototype,"extent",null),v([E({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],pe.prototype,"hasM",null),v([E({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],pe.prototype,"hasZ",null),v([E({readOnly:!0})],pe.prototype,"height",null),v([E({readOnly:!0})],pe.prototype,"width",null),v([E({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],pe.prototype,"xmin",void 0),v([E({type:Number,json:{write:!0}})],pe.prototype,"ymin",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],pe.prototype,"mmin",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],pe.prototype,"zmin",void 0),v([E({type:Number,json:{write:!0}})],pe.prototype,"xmax",void 0),v([E({type:Number,json:{write:!0}})],pe.prototype,"ymax",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],pe.prototype,"mmax",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],pe.prototype,"zmax",void 0),pe=Fs=v([nt("esri.geometry.Extent")],pe),pe.prototype.toJSON.isDefaultToJSON=!0;function Gc(t=hX){return[t[0],t[1],t[2],t[3]]}function ax(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function UO(t,e,n,i,r=Gc()){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function qJ(t,e=Gc()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function YJ(t,e,n=new pe){return n.xmin=t[0],n.ymin=t[1],n.xmax=t[2],n.ymax=t[3],n.spatialReference=e,n}function Pr(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function ZJ(t,e){e<t[0]&&(t[0]=e),e>t[2]&&(t[2]=e)}function JJ(t,e){e<t[1]&&(t[1]=e),e>t[3]&&(t[3]=e)}function XJ(t,e,n){if(e!=null)if("length"in e)ux(e)?(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[2]),n[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[0]),n[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":n[0]=Math.min(t[0],e.xmin),n[1]=Math.min(t[1],e.ymin),n[2]=Math.max(t[2],e.xmax),n[3]=Math.max(t[3],e.ymax);break;case"point":n[0]=Math.min(t[0],e.x),n[1]=Math.min(t[1],e.y),n[2]=Math.max(t[2],e.x),n[3]=Math.max(t[3],e.y)}else ax(n,t)}function KJ(t,e,n=t){const i=e.length;let r=t[0],s=t[1],o=t[2],a=t[3];for(let l=0;l<i;l++){const c=e[l];r=Math.min(r,c[0]),s=Math.min(s,c[1]),o=Math.max(o,c[0]),a=Math.max(a,c[1])}return n[0]=r,n[1]=s,n[2]=o,n[3]=a,n}function QJ(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function lx(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function cx(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function tX(t){return lx(t)*cx(t)}function eX(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function nX(t){const e=lx(t),n=cx(t);return Math.sqrt(e*e+n*n)}function iX(t,e){return!!t&&ag(t,e.x,e.y)}function ag(t,e,n){return e>=t[0]&&n>=t[1]&&e<=t[2]&&n<=t[3]}function rX(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function sX(t,e,n){return Math.max(e[0],t[0])-n<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-n<=Math.min(e[3],t[3])}function oX(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function aX(t,e,n,i){return i??=t,i[0]=t[0]+e,i[1]=t[1]+n,i[2]=t[2]+e,i[3]=t[3]+n,i}function lX(t,e,n=t){return n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n}function cX(t){return t?ax(t,hx):Gc(hx)}function ux(t){return t!=null&&t.length===4}function uX(t,e){return ux(t)&&ux(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const hx=[1/0,1/0,-1/0,-1/0],hX=[0,0,0,0];let px=1e-6;function cf(){return px}function pX(t){px=t}const dx=Math.random,dX=Math.PI/180,fX=180/Math.PI;function GO(t){return t*dX}function BO(t){return t*fX}function mX(t,e){return Math.abs(t-e)<=px*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:dx,equals:mX,getEpsilon:cf,setEpsilon:pX,toDegree:BO,toRadian:GO},Symbol.toStringTag,{value:"Module"}));function zO(t,e){return t[0]=e[0],t[1]=e[1],t}function VO(t,e,n){return t[0]=e,t[1]=n,t}function WO(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function fx(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function HO(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function qO(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function yX(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function gX(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function YO(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function ZO(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function vX(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function JO(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function XO(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function mx(t,e){const n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)}function lg(t,e){const n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function yx(t){const e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function gx(t){const e=t[0],n=t[1];return e*e+n*n}function KO(t,e){return t[0]=-e[0],t[1]=-e[1],t}function bX(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function QO(t,e){const n=e[0],i=e[1];let r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t}function tk(t,e){return t[0]*e[0]+t[1]*e[1]}function ek(t,e,n){const i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t}function nk(t,e,n,i){const r=e[0],s=e[1];return t[0]=r+i*(n[0]-r),t[1]=s+i*(n[1]-s),t}function wX(t,e=1){const n=2*dx()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function ik(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t}function rk(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function uf(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t}function _X(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t}function sk(t,e,n,i){const r=e[0]-n[0],s=e[1]-n[1],o=Math.sin(i),a=Math.cos(i);return t[0]=r*a-s*o+n[0],t[1]=r*o+s*a+n[1],t}function ok(t,e){const n=t[0],i=t[1],r=e[0],s=e[1];let o=n*n+i*i;o>0&&(o=1/Math.sqrt(o));let a=r*r+s*s;a>0&&(a=1/Math.sqrt(a));const l=(n*r+i*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function xX(t){return"vec2("+t[0]+", "+t[1]+")"}function ak(t,e){return t[0]===e[0]&&t[1]===e[1]}function lk(t,e){const n=t[0],i=t[1],r=e[0],s=e[1],o=cf();return Math.abs(n-r)<=o*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(i-s)<=o*Math.max(1,Math.abs(i),Math.abs(s))}function ck(t,e,n,i,r){let s=e[0]-n[0],o=e[1]-n[1];const a=(i[0]*s+i[1]*o)*(r-1);return s=i[0]*a,o=i[1]*a,t[0]=e[0]+s,t[1]=e[1]+o,t}const EX=yx,uk=fx,SX=HO,AX=qO,hk=mx,MX=lg,TX=gx;Object.freeze(Object.defineProperty({__proto__:null,add:WO,angle:ok,ceil:yX,copy:zO,cross:ek,dist:hk,distance:mx,div:AX,divide:qO,dot:tk,equals:lk,exactEquals:ak,floor:gX,inverse:bX,len:EX,length:yx,lerp:nk,max:ZO,min:YO,mul:SX,multiply:HO,negate:KO,normalize:QO,projectAndScale:ck,random:wX,rotate:sk,round:vX,scale:JO,scaleAndAdd:XO,set:VO,sqrDist:MX,sqrLen:TX,squaredDistance:lg,squaredLength:gx,str:xX,sub:uk,subtract:fx,transformMat2:ik,transformMat2d:rk,transformMat3:uf,transformMat4:_X},Symbol.toStringTag,{value:"Module"}));function vo(t,e,n,i){return t[0]=e[0]*(1-i)+n[0]*i,t[1]=e[1]*(1-i)+n[1]*i,t}function Ti(t,e){return lg(t,e)}function IX(t,e,n){const i=Ti(e,n);if(i===0)return Ti(e,t);const r=(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0]);return r*r/i}function NX(t,e,n,i,r){const[s,o]=e,[a,l]=n,[c,p]=i,[d,f]=r,y=(s-a)*(p-f)-(o-l)*(c-d);if(y===0)return null;const g=(s*l-o*a)*(c-d)-(s-a)*(c*f-p*d),b=(s*l-o*a)*(p-f)-(o-l)*(c*f-p*d);return t[0]=g/y,t[1]=b/y,t}const Us=2*Math.PI;function ul(t,e){const n=Math.atan2(t,e);return n<0?n+Us:n}function pk(t){return Math.abs(t)%Us}function dk(t){const e=pk(t);return e<Math.PI?e:Us-e}function cg(t,e){return{min:Math.min(t,e),max:Math.max(t,e)}}function fk(t,e,n,i){if(na(pk(t-e),0))return n?[t,t]:[t,i?t-Us:t+Us];const[r,s]=i?[t-Us,t]:[t,t+Us];return[t,hf({min:r,max:s},e)]}function hf({min:t,max:e},n){let i;return i=e-n,i>=Us?(i-=i%Us,n+i):(i=n-t,i>=Us?(i-=i%Us,n-i):n)}function OX(t,e){const n=hf(t,e);return n>t.min&&n<t.max?n:dk(n-t.min)<dk(n-t.max)?t.min:t.max}function mk(t,e,n,i=10){return e.map(r=>{let s=r;for(let o=0;o<i;o++){const[a,l,c,p,d,f]=n(s),y=t[0]-a,g=t[1]-l,b=-c,x=-p;s+=-(2*y*b+2*g*x)/(2*b*b+2*y*-d+2*x*x+2*g*-f||1e-6)}return s})}const kX=[0,0];function yk(t){const e=1-t,n=e*e,i=t*t;return[n*e,3*t*n,3*i*e,i*t]}function ug(t,e,n,i,r){const[s,o,a,l]=yk(r);return[t[0]*s+e[0]*o+n[0]*a+i[0]*l,t[1]*s+e[1]*o+n[1]*a+i[1]*l]}function gk(t,e,n,i,r){const[s,o,a,l]=yk(r);return t*s+e*o+n*a+i*l}function CX(t,e,n){const i=t,[r,s,o]=e.b;return ug(i,s,o,r,n)}function vk(t,e,n){const i=t,[r,s,o]=e.b,a=vo([0,0],i,s,n),l=vo(kX,s,o,n),c=vo([0,0],o,r,n),p=vo([0,0],a,l,n),d=vo([0,0],l,c,n);return[{b:[vo([],p,d,n),a,p]},{b:[[...r],d,c]}]}function RX(t,e,n){const i=t,[r,s,o]=e.b,a=mk(n,[.1,.5,.9],d=>{const f=1-d,[y,g]=ug(i,s,o,r,d);return[y,g,3*f*f*(s[0]-i[0])+6*f*d*(o[0]-s[0])+3*d*d*(r[0]-o[0]),3*f*f*(s[1]-i[1])+6*f*d*(o[1]-s[1])+3*d*d*(r[1]-o[1]),6*f*(o[0]-2*s[0]+i[0])+6*d*(r[0]-2*o[0]+s[0]),6*f*(o[1]-2*s[1]+i[1])+6*d*(r[1]-2*o[1]+s[1])]}).map(d=>Math.min(1,Math.max(0,d)));a.push(0,1);let l=1/0;const c=a.map(d=>{const f=ug(i,s,o,r,d),[y,g]=f,b=n[0]-y,x=n[1]-g,A=Math.sqrt(b*b+x*x);return l=Math.min(A,l),{t:d,curvePoint:f,distance:A}}),p=[];for(const d of c){const{t:f,distance:y}=d;dI(y,l)&&!p.some(({t:g})=>na(g,f))&&p.push(d)}return p}function LX(t,e,n){const i=e,[r,s,o]=n.b;if(Pr(t,i),Pr(t,r),ag(t,s[0],s[1])&&ag(t,o[0],o[1]))return t;for(const a of bk(i[0],s[0],o[0],r[0]))a>0&&a<1&&ZJ(t,gk(i[0],s[0],o[0],r[0],a));for(const a of bk(i[1],s[1],o[1],r[1]))a>0&&a<1&&JJ(t,gk(i[1],s[1],o[1],r[1],a));return t}function bk(t,e,n,i){const r=3*(3*(e-n)-t+i),s=6*(t-2*e+n),o=3*(e-t);if(r===0)return s!==0?[-o/s]:[];const a=Math.sqrt(s*s-4*r*o);return[(-s+a)/(2*r),(-s-a)/(2*r)]}function PX(t,e,n){let i=0,r=[e];for(let s=0;s<16;s++){let o=t;const a=[];for(const c of r)a.push(...vk(o,c,.5)),o=c.b[0];r=a,o=t,i=0;let l=0;for(const c of r){const[p,d,f]=c.b,y=Math.sqrt(Ti(o,p));i+=(y+(Math.sqrt(Ti(o,d))+Math.sqrt(Ti(d,f))+Math.sqrt(Ti(f,p))))/2,l+=y,o=p}if(i-l<n)return i}return i}function wk(t,e,n){const[i,r]=t,[s,o]=e,[a,l]=n,[c,p]=[s-i,o-r];let d=c*(a-i)+p*(l-r);d/=c**2+p**2,d=oh(d,0,1);const f=vo([0,0],t,e,d);return{t:d,curvePoint:f,distance:Math.sqrt(Ti(f,n))}}let _k=class{constructor(t,e,n,i,r,s){this.cx=t,this.cy=e,this.radius=n,this.thetaStart=i,this.thetaEnd=r,this.isInvalid=s}get startPoint(){const{cx:t,cy:e,radius:n,thetaStart:i}=this;return[t+n*Math.cos(i),e+n*Math.sin(i)]}get endPoint(){const{cx:t,cy:e,radius:n,thetaEnd:i}=this;return[t+n*Math.cos(i),e+n*Math.sin(i)]}};function hg(t,e){const{cx:n,cy:i,radius:r}=t;return[n+r*Math.cos(e),i+r*Math.sin(e)]}function pf(t,e){if(t.isInvalid)return vo([0,0],t.startPoint,t.endPoint,e);const{thetaStart:n,thetaEnd:i}=t;return hg(t,n*(1-e)+i*e)}function DX(t,e){if(t.isInvalid)return wk(t.startPoint,t.endPoint,e);const{cx:n,cy:i,thetaStart:r,thetaEnd:s}=t,[o,a]=e,l=OX(cg(r,s),Math.atan2(a-i,o-n)),c=hg(t,l);return{t:(l-r)/(s-r),curvePoint:c,distance:Math.sqrt(Ti(e,c))}}function xk(t,e){if(e.isInvalid)return Pr(t,e.startPoint),Pr(t,e.endPoint),t;const{cx:n,cy:i,radius:r,thetaStart:s,thetaEnd:o}=e;Pr(t,hg(e,s)),Pr(t,hg(e,o));const a=cg(s,o),l=Math.PI/2;let c=0;for(const p of[[n+r,i],[n,i+r],[n-r,i],[n,i-r]])c=hf(a,c),c>a.min&&c<a.max&&Pr(t,p),c+=l;return t}function jX(t){if(t.isInvalid)return 2*t.radius;const{radius:e,thetaStart:n,thetaEnd:i}=t;return e*Math.abs(i-n)}function Ek(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function $X(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Th(t,e,n,i,r,s,o,a,l,c){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t}function Sk(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function vx(t,e){if(t===e){const n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function bx(t,e){const n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],p=e[8],d=p*o-a*c,f=-p*s+a*l,y=c*s-o*l;let g=n*d+i*f+r*y;return g?(g=1/g,t[0]=d*g,t[1]=(-p*i+r*c)*g,t[2]=(a*i-r*o)*g,t[3]=f*g,t[4]=(p*n-r*l)*g,t[5]=(-a*n+r*s)*g,t[6]=y*g,t[7]=(-c*n+i*l)*g,t[8]=(o*n-i*s)*g,t):null}function Ak(t,e){const n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],p=e[8];return t[0]=o*p-a*c,t[1]=r*c-i*p,t[2]=i*a-r*o,t[3]=a*l-s*p,t[4]=n*p-r*l,t[5]=r*s-n*a,t[6]=s*c-o*l,t[7]=i*l-n*c,t[8]=n*o-i*s,t}function pg(t){const e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8];return e*(c*s-o*l)+n*(-c*r+o*a)+i*(l*r-s*a)}function df(t,e,n){const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],p=e[7],d=e[8],f=n[0],y=n[1],g=n[2],b=n[3],x=n[4],A=n[5],M=n[6],_=n[7],w=n[8];return t[0]=f*i+y*o+g*c,t[1]=f*r+y*a+g*p,t[2]=f*s+y*l+g*d,t[3]=b*i+x*o+A*c,t[4]=b*r+x*a+A*p,t[5]=b*s+x*l+A*d,t[6]=M*i+_*o+w*c,t[7]=M*r+_*a+w*p,t[8]=M*s+_*l+w*d,t}function Mk(t,e,n){const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],p=e[7],d=e[8],f=n[0],y=n[1];return t[0]=i,t[1]=r,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=f*i+y*o+c,t[7]=f*r+y*a+p,t[8]=f*s+y*l+d,t}function Tk(t,e,n){const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],p=e[7],d=e[8],f=Math.sin(n),y=Math.cos(n);return t[0]=y*i+f*o,t[1]=y*r+f*a,t[2]=y*s+f*l,t[3]=y*o-f*i,t[4]=y*a-f*r,t[5]=y*l-f*s,t[6]=c,t[7]=p,t[8]=d,t}function Ik(t,e,n){const i=n[0],r=n[1],s=n[2];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=s*e[6],t[7]=s*e[7],t[8]=s*e[8],t}function Nk(t,e,n){const i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t}function Ok(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function kk(t,e){const n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function FX(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function UX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Ck(t,e){const n=e[0],i=e[1],r=e[2],s=e[3],o=n+n,a=i+i,l=r+r,c=n*o,p=i*o,d=i*a,f=r*o,y=r*a,g=r*l,b=s*o,x=s*a,A=s*l;return t[0]=1-d-g,t[3]=p-A,t[6]=f+x,t[1]=p+A,t[4]=1-c-g,t[7]=y-b,t[2]=f-x,t[5]=y+b,t[8]=1-c-d,t}function Rk(t,e){const n=e[0],i=e[1],r=e[2],s=e[4],o=e[5],a=e[6],l=e[8],c=e[9],p=e[10],d=p*o-a*c,f=-p*s+a*l,y=c*s-o*l,g=n*d+i*f+r*y;if(!g)return null;const b=1/g;return t[0]=d*b,t[1]=(-p*i+r*c)*b,t[2]=(a*i-r*o)*b,t[3]=f*b,t[4]=(p*n-r*l)*b,t[5]=(-a*n+r*s)*b,t[6]=y*b,t[7]=(-c*n+i*l)*b,t[8]=(o*n-i*s)*b,t}function Lk(t,e){const n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],p=e[8],d=e[9],f=e[10],y=e[11],g=e[12],b=e[13],x=e[14],A=e[15],M=n*a-i*o,_=n*l-r*o,w=n*c-s*o,T=i*l-r*a,I=i*c-s*a,O=r*c-s*l,k=p*b-d*g,R=p*x-f*g,j=p*A-y*g,z=d*x-f*b,F=d*A-y*b,U=f*A-y*x;let Y=M*U-_*F+w*z+T*j-I*R+O*k;return Y?(Y=1/Y,t[0]=(a*U-l*F+c*z)*Y,t[1]=(l*j-o*U-c*R)*Y,t[2]=(o*F-a*j+c*k)*Y,t[3]=(r*F-i*U-s*z)*Y,t[4]=(n*U-r*j+s*R)*Y,t[5]=(i*j-n*F-s*k)*Y,t[6]=(b*O-x*I+A*T)*Y,t[7]=(x*w-g*O-A*_)*Y,t[8]=(g*I-b*w+A*M)*Y,t):null}function GX(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function BX(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function zX(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function VX(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Pk(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function WX(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function HX(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t[6]=e[6]+n[6]*i,t[7]=e[7]+n[7]*i,t[8]=e[8]+n[8]*i,t}function qX(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function YX(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],p=t[8],d=e[0],f=e[1],y=e[2],g=e[3],b=e[4],x=e[5],A=e[6],M=e[7],_=e[8],w=cf();return Math.abs(n-d)<=w*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-f)<=w*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(r-y)<=w*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(s-g)<=w*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(o-b)<=w*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-x)<=w*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(l-A)<=w*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(c-M)<=w*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(p-_)<=w*Math.max(1,Math.abs(p),Math.abs(_))}function ZX(t){const e=cf(),n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],p=t[8];return Math.abs(1-(n*n+s*s+l*l))<=e&&Math.abs(1-(i*i+o*o+c*c))<=e&&Math.abs(1-(r*r+a*a+p*p))<=e}const Dk=df,JX=Pk;Object.freeze(Object.defineProperty({__proto__:null,add:VX,adjoint:Ak,copy:$X,determinant:pg,equals:YX,exactEquals:qX,frob:zX,fromMat2d:UX,fromMat4:Ek,fromQuat:Ck,fromRotation:kk,fromScaling:FX,fromTranslation:Ok,identity:Sk,invert:bx,isOrthoNormal:ZX,mul:Dk,multiply:df,multiplyScalar:WX,multiplyScalarAndAdd:HX,normalFromMat4:Lk,normalFromMat4Legacy:Rk,projection:GX,rotate:Tk,scale:Ik,scaleByVec2:Nk,set:Th,str:BX,sub:JX,subtract:Pk,translate:Mk,transpose:vx},Symbol.toStringTag,{value:"Module"}));function hl(){return[1,0,0,0,1,0,0,0,1]}function XX(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function jk(t,e,n,i,r,s,o,a,l){return[t,e,n,i,r,s,o,a,l]}const $k=hl();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:$k,clone:XX,create:hl,fromValues:jk},Symbol.toStringTag,{value:"Module"}));const Ih=hl();function KX(t,e,n){const[i,r]=t,[s,o]=e,[a,l]=n;Th(Ih,i,s,a,r,o,l,1,1,1);const c=pg(Ih),p=4*c/(Ti(t,e)+Ti(e,n)+Ti(n,t));if(!isFinite(p)||Math.abs(p)<1e-8)return null;const d=i**2+r**2,f=s**2+o**2,y=a**2+l**2;Th(Ih,d,f,y,r,o,l,1,1,1);const g=pg(Ih);return Th(Ih,d,f,y,i,s,a,1,1,1),[g/c*.5,pg(Ih)/c*-.5]}function wx(t,e){const[n,i]=e.c,r=KX(t,i,n),s=r==null,o=r??vo([],t,n,.5),[a,l]=t,[c,p]=i,[d,f]=n,[y,g]=o,b=a-y,x=l-g,A=Math.sqrt(b*b+x*x),M=ul(l-g,a-y),_=ul(p-g,c-y);let w=ul(f-g,d-y);return(_-M)*(w-_)<0&&(w+=2*Math.sign(M-w)*Math.PI),new _k(y,g,A,M,w,s)}function QX(t,e,n){const i=pf(t,n/2),r=pf(t,n),s=pf(t,(n+1)/2);return[{c:[r,i]},{c:[[...e.c[0]],s]}]}function tK(t,e){const[n]=e.c,{cx:i,cy:r,thetaStart:s,thetaEnd:o,radius:a,isInvalid:l}=wx(t,e);return{a:[n,[i,r],Math.abs(o-s)<Math.PI?1:0,s>o?1:0,l?s:0,a,l?0:1]}}function eK(t){return"curveRings"in t&&!!t.curveRings?.length||"curvePaths"in t&&!!t.curvePaths?.length}function nK(t){return"curveRings"in t?t.curveRings:t.curvePaths}function dg(t){return"b"in t}function fg(t){return"c"in t}function ff(t){return Array.isArray(t)}function iK(t){return"a"in t}function _x(t){return"a"in t&&t.a.length===4}function Fk(t){return"a"in t&&t.a.length===7}function mg(t){return ff(t)?t:dg(t)?t.b[0]:fg(t)?t.c[0]:t.a[0]}function Uk(t){if(dg(t)){const[e,n,i]=t.b;return{b:[[...e],[...n],[...i]]}}if(fg(t)){const[e,n]=t.c;return{c:[[...e],[...n]]}}if(ff(t))return[...t];if(_x(t)){const[e,n,i,r]=t.a;return{a:[[...e],[...n],i,r]}}if(Fk(t)){const[e,n,i,r,s,o,a]=t.a;return{a:[[...e],[...n],i,r,s,o,a]}}return t}function Gk(t,e){const[n,i,r,s]=e.a,[o,a]=t,[l,c]=n,[p,d]=i,f=o-p,y=a-d,g=Math.sqrt(f*f+y*y),b=l-p,x=c-d,A=Math.sqrt(b*b+x*x),M=g===0||A===0||!dI(g,A),_=g,[w,T]=fk(ul(a-d,o-p),Math.atan2(c-d,l-p),r,s);return new _k(p,d,_,w,T,M)}function rK(t,e,n){const{cx:i,cy:r,thetaStart:s,thetaEnd:o}=t,[a,l,c,p]=e.a,d=s*(1-n)+o*n;return[{a:[pf(t,n),[i,r],Math.abs(d-s)<Math.PI?1:0,p]},{a:[[...a],[i,r],Math.abs(o-d)<Math.PI?1:0,p]}]}let sK=class{constructor(t,e,n,i,r,s,o,a,l){this.cx=t,this.cy=e,this.a=n,this.b=i,this.cosR=r,this.sinR=s,this.u1=o,this.u2=a,this.isInvalid=l}};function yg(t,e){const[n,i,r,s,o,a,l]=e.a,[c,p]=t,[d,f]=n,[y,g]=i,b=a*l,x=Math.cos(o),A=Math.sin(o),[M,_]=fk(ul(1/b*(p-g)*x-1/b*(c-y)*A,1/a*(p-g)*A+1/a*(c-y)*x),Math.atan2(1/b*(f-g)*x-1/b*(d-y)*A,1/a*(f-g)*A+1/a*(d-y)*x),r,s);return new sK(y,g,a,b,x,A,M,_,a===0||b===0)}function mf(t,e){const{a:n,b:i,cosR:r,sinR:s,cx:o,cy:a}=t,l=Math.cos(e),c=Math.sin(e);return[n*l*r-i*c*s+o,n*l*s+i*c*r+a]}function Bc(t,e){const{u1:n,u2:i}=t;return mf(t,n*(1-e)+i*e)}function oK(t,e,n){if(n<0||n>1)return[];if(n===0||n===1)return[Uk(e)];const[i,[r,s],o,a,l,c,p]=e.a,{u1:d,u2:f}=t,y=d*(1-n)+f*n;return[{a:[[...Bc(t,n)],[r,s],Math.abs(y-d)<Math.PI?1:0,a,l,c,p]},{a:[[...i],[r,s],Math.abs(f-y)<Math.PI?1:0,a,l,c,p]}]}function aK(t,e){const{a:n,b:i,cosR:r,sinR:s,u1:o,u2:a}=t,l=Math.PI/6,c=mk(e,[1*l,2*l,4*l,5*l,7*l,8*l,10*l,11*l],b=>{const x=Math.cos(b),A=Math.sin(b),[M,_]=mf(t,b);return[M,_,-n*r*A-i*s*x,-n*s*A+i*r*x,-n*r*x+i*s*A,-n*s*x-i*r*A]}),p=cg(o,a),d=new Set(c.map(b=>hf(p,b)).filter(b=>b>p.min&&b<p.max));d.add(o),d.add(a);let f,y,g=1/0;for(const b of d){const x=mf(t,b),[A,M]=x,_=e[0]-A,w=e[1]-M,T=_*_+w*w;T<g&&(f=(b-o)/(a-o),y=x,g=T)}return{t:f,curvePoint:y,distance:Math.sqrt(g)}}function lK(t,e,n){const i=yg(e,n),{a:r,b:s,u1:o,u2:a,cosR:l,sinR:c,isInvalid:p}=i,d=n.a[0];if(Pr(t,e),Pr(t,d),p)return t;const f=Math.atan2(-s*c,r*l),y=f+Math.PI,g=Math.atan2(s*l,r*c),b=g+Math.PI,x=cg(o,a);for(const A of[f,y,g,b].map(M=>hf(x,M)))A>x.min&&A<x.max&&Pr(t,mf(i,A));return t}function cK(t,e,n){const[i,r,s,o,a,l,c]=e.a,p=yg(t,e),{u1:d,u2:f,isInvalid:y}=p,g=f-d;if(y)return Math.sqrt(Ti(t,i));const b=14,x=[0,0];let A=0,M=[Bc(p,0),Bc(p,.25),Bc(p,.5),Bc(p,.75),Bc(p,1)];for(let _=0;_<b;_++){const w=M.length-1,T=g/(2*w),I=[];for(let k=0;k<w;k++)I.push(M[k]),I.push(mf(p,d+(2*k+1)*T));I.push(M[M.length-1]),M=I,A=0;let O=0;for(let k=1;k<M.length;k++){const R=M[k-1],j=M[k];if(A+=Math.sqrt(Ti(R,j)),k>1){const z=M[k-2],F=NX(x,z,R,r,j);O+=F?Math.sqrt(Ti(R,F)):Math.abs(j[0]-R[0])+Math.abs(j[1]-R[1])}else O+=A}if(O-A<n)return A}return A}const Bk=hl(),gg=hl(),zk=hl(),pl=hl();function uK(t,e,n){const[i,r,s,o,a,l,c]=e.a,p=yg(t,e),{cosR:d,sinR:f,a:y,b:g,cx:b,cy:x}=p,A=uf([0,0],i,n),M=uf([0,0],r,n),_=n[0]*n[4]<0?1-o:o;{const w=y*y*f*f+g*g*d*d,T=2*(g*g-y*y)*f*d,I=y*y*d*d+g*g*f*f,O=-2*w*b-T*x,k=-T*b-2*I*x;Th(Bk,w,T/2,O/2,T/2,I,k/2,O/2,k/2,w*b*b+T*b*x+I*x*x-y*y*g*g)}if(bx(gg,n),gg==null){const w=uf([0,0],t,n);return{a:[A,M,s,o,ul(A[1],A[0]),Math.sqrt(Ti(A,w))/2,0]}}vx(zk,gg),df(pl,df(pl,zk,Bk),gg);{const w=pl[0],T=2*pl[1],I=pl[4],O=2*pl[2],k=2*pl[5],R=T*T-4*w*I,j=2*(w*k*k+I*O*O-T*O*k+R*pl[8]),z=Math.sqrt((w-I)**2+T*T),F=-Math.sqrt(j*(w+I+z))/R,U=-Math.sqrt(j*(w+I-z))/R;return{a:[A,M,s,_,.5*ul(-T,I-w),F,U/F]}}}function hK(t,e,n){if(ff(n))return Pr(t,e),Pr(t,n),t;if(dg(n))return LX(t,e,n);if(fg(n)){const i=wx(e,n);return xk(t,i)}if(_x(n)){const i=Gk(e,n);return xk(t,i)}return lK(t,e,n)}function Vk(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function Wk(t){return t.points!==void 0}function Hk(t){return t.x!==void 0&&t.y!==void 0}function qk(t){return t.paths!==void 0}function Yk(t){return t.rings!==void 0}function Zk(t){function e(n,i){return n==null?i:i==null?n:t(n,i)}return e}const dl=Zk(Math.min),fl=Zk(Math.max);function pK(t,e){return qk(e)?zc(t,e.curvePaths??e.paths,!1,!1)??t:Yk(e)?zc(t,e.curveRings??e.rings,!1,!1)??t:Wk(e)?xx(t,e.points,!1,!1,!1,!1):Vk(e)?Xk(t,e):(Hk(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function dK(t){let e,n,i,r;for(t.reset(),e=i=1/0,n=r=-1/0;t.nextPath();){const s=Jk(t);e=Math.min(s[0],e),i=Math.min(s[1],i),n=Math.max(s[2],n),r=Math.max(s[3],r)}return Gc([e,i,n,r])}function Jk(t){let e,n,i,r;for(e=i=1/0,n=r=-1/0;t.nextPoint();)e=Math.min(t.x,e),i=Math.min(t.y,i),n=Math.max(t.x,n),r=Math.max(t.y,r);return Gc([e,i,n,r])}function fK(t,e){return qk(e)?zc(t,e.curvePaths??e.paths,!0,!1)??t:Yk(e)?zc(t,e.curveRings??e.rings,!0,!1)??t:Wk(e)?xx(t,e.points,!0,!1,!0,!1):Vk(e)?Xk(t,e,!0,!1,!0,!1):(Hk(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function zc(t,e,n,i){const r=n?3:2;if(!e.length||!e[0].length)return null;let s,o,a,l,[c,p]=mg(e[0][0]),d=c,f=p;for(let y=0;y<e.length;y++){const g=e[y];for(let b=0;b<g.length;b++){const x=mg(g[b]),[A,M]=x;if(c=dl(c,A),p=dl(p,M),d=fl(d,A),f=fl(f,M),n&&x.length>2){const I=x[2];s=dl(s,I),o=fl(o,I)}if(i&&x.length>r){const I=x[r];a=dl(s,I),l=fl(o,I)}const _=g[b];if(ff(_)||b<1)continue;const w=mg(g[b-1]),T=UO(c,p,d,f);[c,p,d,f]=hK(T,w,_)}}return n?i?(t[0]=c,t[1]=p,t[2]=s,t[3]=a,t[4]=d,t[5]=f,t[6]=o,t[7]=l,t.length=8,t):(t[0]=c,t[1]=p,t[2]=s,t[3]=d,t[4]=f,t[5]=o,t.length=6,t):i?(t[0]=c,t[1]=p,t[2]=a,t[3]=d,t[4]=f,t[5]=l,t.length=6,t):(t[0]=c,t[1]=p,t[2]=d,t[3]=f,t.length=4,t)}function Xk(t,e,n,i,r,s){const o=e.xmin,a=e.xmax,l=e.ymin,c=e.ymax;let p=e.zmin,d=e.zmax,f=e.mmin,y=e.mmax;return r?(p=p||0,d=d||0,s?(f=f||0,y=y||0,t[0]=o,t[1]=l,t[2]=p,t[3]=f,t[4]=a,t[5]=c,t[6]=d,t[7]=y,t):(t[0]=o,t[1]=l,t[2]=p,t[3]=a,t[4]=c,t[5]=d,t)):s?(f=f||0,y=y||0,t[0]=o,t[1]=l,t[2]=f,t[3]=a,t[4]=c,t[5]=y,t):(t[0]=o,t[1]=l,t[2]=a,t[3]=c,t)}function xx(t,e,n,i,r,s){const o=n?3:2,a=i&&s,l=n&&r;if(!e.length||!e[0].length)return null;let c,p,d,f,[y,g]=e[0],[b,x]=e[0];for(let A=0;A<e.length;A++){const M=e[A],[_,w]=M;if(y=dl(y,_),g=dl(g,w),b=fl(b,_),x=fl(x,w),l&&M.length>2){const T=M[2];c=dl(c,T),p=fl(p,T)}if(a&&M.length>o){const T=M[o];d=dl(c,T),f=fl(p,T)}}return r?(c=c||0,p=p||0,s?(d=d||0,f=f||0,t[0]=y,t[1]=g,t[2]=c,t[3]=d,t[4]=b,t[5]=x,t[6]=p,t[7]=f,t):(t[0]=y,t[1]=g,t[2]=c,t[3]=b,t[4]=x,t[5]=p,t)):s?(d=d||0,f=f||0,t[0]=y,t[1]=g,t[2]=d,t[3]=b,t[4]=x,t[5]=f,t):(t[0]=y,t[1]=g,t[2]=b,t[3]=x,t)}function mK(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function yK(t){return t.points!==void 0}function gK(t){return t.x!==void 0&&t.y!==void 0}function vK(t){return t.paths!==void 0}function bK(t){return t.rings!==void 0}const Ex=[];function Kk(t,e,n,i){return{xmin:t,ymin:e,xmax:n,ymax:i}}function Qk(t,e,n,i,r,s){return{xmin:t,ymin:e,zmin:n,xmax:i,ymax:r,zmax:s}}function tC(t,e,n,i,r,s){return{xmin:t,ymin:e,mmin:n,xmax:i,ymax:r,mmax:s}}function eC(t,e,n,i,r,s,o,a){return{xmin:t,ymin:e,zmin:n,mmin:i,xmax:r,ymax:s,zmax:o,mmax:a}}function Sx(t,e=!1,n=!1){return e?n?eC(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):Qk(t[0],t[1],t[2],t[3],t[4],t[5]):n?tC(t[0],t[1],t[2],t[3],t[4],t[5]):Kk(t[0],t[1],t[2],t[3])}function wK(t){return t?mK(t)?t:gK(t)?_K(t):bK(t)?Ax(t):vK(t)?iC(t):yK(t)?nC(t):null:null}function nC(t){const{hasZ:e,hasM:n,points:i}=t,r=xx(Ex,i,e??!1,n??!1,e??!1,n??!1);return r?Sx(r,e,n):null}function _K(t){const{x:e,y:n,z:i,m:r}=t,s=r!=null;return i!=null?s?eC(e,n,i,r,e,n,i,r):Qk(e,n,i,e,n,i):s?tC(e,n,r,e,n,r):Kk(e,n,e,n)}function Ax(t){const{hasZ:e,hasM:n,rings:i,curveRings:r}=t,s=zc(Ex,r??i,e??!1,n??!1);return s?Sx(s,e,n):null}function iC(t){const{hasZ:e,hasM:n,paths:i,curvePaths:r}=t,s=zc(Ex,r??i,e??!1,n??!1);return s?Sx(s,e,n):null}function Nh(t,e,n=!1){let{hasM:i,hasZ:r}=t;Array.isArray(e)?e.length!==4||i||r?e.length===3&&n&&!i?(r=!0,i=!1):e.length===3&&i&&r&&(i=!1,r=!1):(i=!0,r=!0):(r=!r&&e.hasZ&&(!i||e.hasM),i=!i&&e.hasM&&(!r||e.hasZ)),t.hasZ=r,t.hasM=i}var Mx;function xK(t){if(!t)return;let{points:e,hasM:n,hasZ:i,spatialReference:r}=t;switch(e??=[],e?.at(0)?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=Ut.WGS84,{...t,hasM:n,hasZ:i,points:e,spatialReference:r}}let rs=Mx=class extends mi{constructor(t){super(xK(t)),this.points=[],this.type="multipoint"}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=nC(this);return t?new pe({...t,spatialReference:this.spatialReference}):null}writePoints(t,e){e.points=yt(this.points)}clone(){const{points:t,spatialReference:e,hasM:n,hasZ:i}=this;return new Mx({points:yt(t),spatialReference:e.clone(),hasM:n,hasZ:i})}addPoint(t){return Nh(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],n={x:e[0],y:e[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(n.z=e[2],i=3),this.hasM&&(n.m=e[i]),new ce(n)}removePoint(t){if(!this._validateInputs(t))return null;const e=new ce(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(Nh(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};v([E({readOnly:!0})],rs.prototype,"cache",null),v([E({readOnly:!0})],rs.prototype,"extent",null),v([E({type:[[Number]],json:{write:{isRequired:!0}}})],rs.prototype,"points",void 0),v([$e("points")],rs.prototype,"writePoints",null),rs=Mx=v([nt("esri.geometry.Multipoint")],rs),rs.prototype.toJSON.isDefaultToJSON=!0;function EK(t){const e=[];for(t.reset();t.nextPath();){const n=[];for(;t.nextPoint();)n.push([t.x,t.y]);e.push(n)}return t.reset(),e}function rC(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}function SK(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,n=t.hasM;if(t.type==="point")return n&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:n?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.map(i=>[i]);if(t.type==="extent"){const i=t.clone().normalize();if(!i)return null;let r=!1,s=!1;return i.forEach(o=>{o.hasZ&&(r=!0),o.hasM&&(s=!0)}),i.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(s&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a})}return null}function vg(t,e){const n=e[0]-t[0],i=e[1]-t[1];if(t.length>2&&e.length>2){const r=t[2]-e[2];return Math.sqrt(n*n+i*i+r*r)}return Math.sqrt(n*n+i*i)}function sC(t,e,n){const i=t[0]+n*(e[0]-t[0]),r=t[1]+n*(e[1]-t[1]);return t.length>2&&e.length>2?[i,r,t[2]+n*(e[2]-t[2])]:[i,r]}function AK(t,e,n,i){return oC(t,e,n[i],n[i+1])}function oC(t,e,n,i){const[r,s]=e,[o,a]=n,[l,c]=i,p=l-o,d=c-a,f=p*p+d*d,y=(r-o)*p+(s-a)*d,g=Math.min(1,Math.max(0,y/f));return t[0]=o+p*g,t[1]=a+d*g,t}function MK(t,e,n,i,r,s){let o=n,a=i,l=r-o,c=s-a;if(l!==0||c!==0){const p=((t-o)*l+(e-a)*c)/(l*l+c*c);p>1?(o=r,a=s):p>0&&(o+=l*p,a+=c*p)}return l=t-o,c=e-a,l*l+c*c}function Tx(t,e){return sC(t,e,.5)}function TK(t){const e=t.length;let n=0;for(let i=0;i<e-1;++i)n+=vg(t[i],t[i+1]);return n}function IK(t,e){if(e<=0)return t[0];const n=t.length;let i=0;for(let r=0;r<n-1;++r){const s=vg(t[r],t[r+1]);if(e-i<s){const o=(e-i)/s;return sC(t[r],t[r+1],o)}i+=s}return t[n-1]}function Ix(t,e=0,n=1){let i=0;const r=t.length;let s=t[0];for(let o=1;o<r;o++){const a=t[o];i+=(a[e]-s[e])*(a[n]+s[n]),s=a}if(aC(t)){const o=t[0];i+=(o[e]-s[e])*(o[n]+s[n])}return i>=0}function aC(t){const e=t.length;return e>0&&!Od(t[0],t[e-1])}function NK(t){"rings"in t&&(lC(t),OK(t))}function lC(t){if("rings"in t)for(const e of t.rings)aC(e)&&e.push(e[0].slice())}function OK(t){if(!("rings"in t)||t.rings.length===0||Ix(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function kK(t){return t.type!=="polygon"&&t.type!=="polyline"||cC(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function cC(t,e){const n=_h(e);if(!n)return;const i=n.valid[0],r=n.valid[1],s=r-i;for(const o of t){let a=1/0,l=-1/0;for(const p of o){const d=uC(p[0],i,r);a=Math.min(a,d),l=Math.max(l,d),p[0]=d}const c=l-a;s-c<c&&o.forEach(p=>{p[0]<0&&(p[0]+=s)})}}function uC(t,e,n){const i=n-e;return t<e?n-(e-t)%i:t>n?e+(t-e)%i:t}function CK(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[n,i]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return n.length===i.length&&n.every((r,s)=>r.length===i[s].length)}function RK(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function hC(t){return dC(t.rings,t.hasZ??!1)}function pC(t){const e=hC(t);if(!e)return null;const{hasZ:n,spatialReference:i}=t,[r,s,o]=e;return isNaN(r)||isNaN(s)||n&&isNaN(o)?null:{x:r,y:s,z:n?o:void 0,spatialReference:i}}function dC(t,e){if(!t?.length)return null;const n=[],i=[],r=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=t.length;s<o;s++){const a=fC(t[s],e,r);a&&i.push(a)}if(i.sort((s,o)=>{let a=s[2]-o[2];return a===0&&e&&(a=s[4]-o[4]),a}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],e&&(n[2]=i[0][3]),(n[0]<r[0]||n[0]>r[1]||n[1]<r[2]||n[1]>r[3]||e&&(n[2]<r[4]||n[2]>r[5]))&&(n.length=0)),!n.length){const s=t[0]&&t[0].length?PK(t[0],e):null;if(!s)return null;n[0]=s[0],n[1]=s[1],e&&s.length>2&&(n[2]=s[2])}return n}function fC(t,e,n){let i=0,r=0,s=0,o=0,a=0;const l=t.length?t[0][0]:0,c=t.length?t[0][1]:0,p=t.length&&e?t[0][2]:0;for(let f=0;f<t.length;f++){const y=t[f],g=t[(f+1)%t.length],[b,x,A]=y,M=b-l,_=x-c,[w,T,I]=g,O=w-l,k=T-c,R=M*k-O*_;if(o+=R,i+=(M+O)*R,r+=(_+k)*R,e&&y.length>2&&g.length>2){const j=A-p,z=I-p,F=M*z-O*j;s+=(j+z)*F,a+=F}b<n[0]&&(n[0]=b),b>n[1]&&(n[1]=b),x<n[2]&&(n[2]=x),x>n[3]&&(n[3]=x),e&&(A<n[4]&&(n[4]=A),A>n[5]&&(n[5]=A))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[i/(6*o)+l,r/(6*o)+c,o];return e&&(n[4]===n[5]||a===0?(d[3]=(n[4]+n[5])/2,d[4]=0):(d[3]=s/(6*a)+p,d[4]=a)),d}function LK(t,e){let n=0,i=0,r=0;t.nextPoint();const s=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let a=0;a<t.pathSize;a++){t.seekInPath(a);const l=[t.x,t.y];t.seekInPath((a+1)%t.pathSize);const c=[t.x,t.y],[p,d]=l,f=p-s,y=d-o,[g,b]=c,x=g-s,A=b-o,M=f*A-x*y;r+=M,n+=(f+x)*M,i+=(y+A)*M,p<e[0]&&(e[0]=p),p>e[1]&&(e[1]=p),d<e[2]&&(e[2]=d),d>e[3]&&(e[3]=d)}return r>0&&(r*=-1),r?(r*=.5,[n/(6*r)+s,i/(6*r)+o,r]):null}function PK(t,e){const n=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let r=0,s=0,o=0,a=0;for(let l=0,c=t.length;l<c-1;l++){const p=t[l],d=t[l+1];if(p&&d){n[0]=p[0],n[1]=p[1],i[0]=d[0],i[1]=d[1],e&&p.length>2&&d.length>2&&(n[2]=p[2],i[2]=d[2]);const f=vg(n,i);if(f){r+=f;const y=Tx(p,d);s+=f*y[0],o+=f*y[1],e&&y.length>2&&(a+=f*y[2])}}}return r>0?e?[s/r,o/r,a/r]:[s/r,o/r]:t.length?t[0]:null}function mC(t){const{hasZ:e,totalSize:n}=t;if(n===0)return null;const i=[],r=[],s=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const o=fC(rC(t),t.hasZ,s);o&&r.push(o)}if(r.sort((o,a)=>{let l=o[2]-a[2];return l===0&&e&&(l=o[4]-a[4]),l}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],e&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||e&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){t.reset(),t.nextPath();const o=t.pathSize?DK(t):null;if(!o)return null;i[0]=o[0],i[1]=o[1],e&&o.length>2&&(i[2]=o[2])}return i}function DK(t){const{hasZ:e}=t,n=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let r=0,s=0,o=0,a=0;if(t.nextPoint()){let l=t.x,c=t.y,p=t.z;for(;t.nextPoint();){const d=t.x,f=t.y,y=t.z;n[0]=l,n[1]=c,i[0]=d,i[1]=f,e&&(n[2]=p,i[2]=y);const g=vg(n,i);if(g){r+=g;const b=Tx(n,i);s+=g*b[0],o+=g*b[1],e&&b.length>2&&(a+=g*b[2])}l=d,c=f,p=y}}return r>0?e?[s/r,o/r,a/r]:[s/r,o/r]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const jK=1e-6;function $K(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<jK){const r=mC(t);return r?[r[0],r[1]]:null}const n=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const i=[t.x,t.y];for(t.reset();t.nextPath();)UK(n,i,t);return n[0]*=1/e,n[1]*=1/e,n[0]+=i[0],n[1]+=i[1],n}const FK=1/3;function UK(t,e,n){if(!t||!n||n.pathSize<3)return null;n.nextPoint();const i=n.x,r=n.y;n.nextPoint();let s,o=n.x-i,a=n.y-r,l=0,c=0;for(;n.nextPoint();)l=n.x-i,c=n.y-r,s=.5*FK*(l*a-c*o),t[0]+=s*(o+l),t[1]+=s*(a+c),o=l,a=c;const p=n.getCurrentRingArea(),d=[i,r];return d[0]-=e[0],d[1]-=e[1],d[0]*=p,d[1]*=p,t[0]+=d[0],t[1]+=d[1],t}var bg;function yC(t){return!Array.isArray(t[0])}function GK(t){return typeof t[0]?.[0]=="number"}function BK(t){if(!t)return;let{rings:e,hasM:n,hasZ:i,spatialReference:r}=t;switch(e??=[],GK(e)&&(e=[e]),e[0]?.[0]?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=Ut.WGS84,{...t,hasM:n,hasZ:i,rings:e,spatialReference:r}}let Zn=bg=class extends mi{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:n}=t;let i=!1,r=!1;for(const o of e)o.hasZ&&(i=!0),o.hasM&&(r=!0);const s={rings:e.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(r&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:n};return i&&(s.hasZ=!0),r&&(s.hasM=!0),new bg(s)}constructor(t){super(BK(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){i_(Pe.getLogger(this),"centroid",{replacement:"Please use centroidOperator.execute() instead.",version:"4.34",warnOnce:!0});const t=pC(this);return t?ce.fromJSON(t):null}writeCurveRings(t,e){e.curveRings=yt(t)}get extent(){const t=Ax(this),{spatialReference:e}=this;return t?new pe({...t,spatialReference:e}):null}get isSelfIntersecting(){return i_(Pe.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),WJ(this.rings)}writeRings(t,e){e.rings=yt(this.rings)}addRing(t){if(!t)return;const e=this.rings,n=e.length;if(yC(t)){const i=[];for(let r=0,s=t.length;r<s;r++)i[r]=t[r].toArray();e[n]=i}else e[n]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new bg;return t.spatialReference=this.spatialReference,t.rings=yt(this.rings),t.curveRings=yt(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,n=t.spatialReference;if(e!=null!=(n!=null)||e!=null&&n!=null&&!e.equals(n)||this.rings.length!==t.rings.length)return!1;const i=([r,s,o,a],[l,c,p,d])=>r===l&&s===c&&(o==null&&p==null||o===p)&&(a==null&&d==null||a===d);for(let r=0;r<this.rings.length;r++){const s=this.rings[r],o=t.rings[r];if(!Od(s,o,i))return!1}return!0}contains(t){if(!t)return!1;const e=tx(t,this.spatialReference);return RO(this,e??t)}isClockwise(t){const e=yC(t)?t.map(n=>this.hasZ?this.hasM?[n.x,n.y,n.z,n.m]:[n.x,n.y,n.z]:[n.x,n.y]):t;return Ix(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.rings[t][e],i=this.hasZ,r=this.hasM;return i&&!r?new ce(n[0],n[1],n[2],void 0,this.spatialReference):r&&!i?new ce(n[0],n[1],void 0,n[2],this.spatialReference):i&&r?new ce(n[0],n[1],n[2],n[3],this.spatialReference):new ce(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(Nh(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t].splice(e,0,n),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new ce(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],n=this.spatialReference,i=e.map(r=>new ce(r,n));return this.notifyChange("rings"),i}setPoint(t,e,n){return this._validateInputs(t,e)?(Nh(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t][e]=n,this.notifyChange("rings"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const i=this.rings[t];if(n&&(e<0||e>i.length)||!n&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};v([E({readOnly:!0})],Zn.prototype,"cache",null),v([E({readOnly:!0})],Zn.prototype,"centroid",null),v([E({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Zn.prototype,"curveRings",void 0),v([$e("curveRings")],Zn.prototype,"writeCurveRings",null),v([E({readOnly:!0})],Zn.prototype,"extent",null),v([E({readOnly:!0})],Zn.prototype,"isSelfIntersecting",null),v([E({type:[[[Number]]],json:{write:{isRequired:!0}}})],Zn.prototype,"rings",void 0),v([$e("rings")],Zn.prototype,"writeRings",null),Zn=bg=v([nt("esri.geometry.Polygon")],Zn),Zn.prototype.toJSON.isDefaultToJSON=!0;var Nx;function zK(t){return!Array.isArray(t[0])}function VK(t){return typeof t[0]?.[0]=="number"}function WK(t){if(!t)return;let{paths:e,hasM:n,hasZ:i,spatialReference:r}=t;switch(e??=[],VK(e)&&(e=[e]),e[0]?.[0]?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=Ut.WGS84,{...t,hasM:n,hasZ:i,paths:e,spatialReference:r}}let Hi=Nx=class extends mi{constructor(t){super(WK(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=yt(t)}get extent(){const t=iC(this),{spatialReference:e}=this;return t?new pe({...t,spatialReference:e}):null}writePaths(t,e){e.paths=yt(this.paths)}addPath(t){if(!t)return;const e=this.paths,n=e.length;if(zK(t)){const i=[];for(let r=0,s=t.length;r<s;r++)i[r]=t[r].toArray();e[n]=i}else e[n]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new Nx;return t.spatialReference=this.spatialReference,t.paths=yt(this.paths),t.curvePaths=yt(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.paths[t][e],i=this.hasZ,r=this.hasM;return i&&!r?new ce(n[0],n[1],n[2],void 0,this.spatialReference):r&&!i?new ce(n[0],n[1],void 0,n[2],this.spatialReference):i&&r?new ce(n[0],n[1],n[2],n[3],this.spatialReference):new ce(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(Nh(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t].splice(e,0,n),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],n=this.spatialReference,i=e.map(r=>new ce(r,n));return this.notifyChange("paths"),i}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new ce(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(t,e,n){return this._validateInputs(t,e)?(Nh(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t][e]=n,this.notifyChange("paths"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const i=this.paths[t];if(n&&(e<0||e>i.length)||!n&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};v([E({readOnly:!0})],Hi.prototype,"cache",null),v([E({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Hi.prototype,"curvePaths",void 0),v([$e("curvePaths")],Hi.prototype,"writeCurvePaths",null),v([E({readOnly:!0})],Hi.prototype,"extent",null),v([E({type:[[[Number]]],json:{write:{isRequired:!0}}})],Hi.prototype,"paths",void 0),v([$e("paths")],Hi.prototype,"writePaths",null),Hi=Nx=v([nt("esri.geometry.Polyline")],Hi),Hi.prototype.toJSON.isDefaultToJSON=!0;function Ox(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function kx(t){return t.points!==void 0}function Cx(t){return t.x!==void 0&&t.y!==void 0}function Rx(t){return t.paths!==void 0||t.curvePaths!==void 0}function Lx(t){return t.rings!==void 0||t.curveRings!==void 0}function wg(t){return t==null?null:t instanceof mi?t:Cx(t)?ce.fromJSON(t):Rx(t)?Hi.fromJSON(t):Lx(t)?Zn.fromJSON(t):kx(t)?rs.fromJSON(t):Ox(t)?pe.fromJSON(t):null}function HK(t){return t?Cx(t)?"esriGeometryPoint":Rx(t)?"esriGeometryPolyline":Lx(t)?"esriGeometryPolygon":Ox(t)?"esriGeometryEnvelope":kx(t)?"esriGeometryMultipoint":null:null}const qK={esriGeometryPoint:ce,esriGeometryPolyline:Hi,esriGeometryPolygon:Zn,esriGeometryEnvelope:pe,esriGeometryMultipoint:rs,esriGeometryMultiPatch:Zn};function YK(t){return t&&qK[t]||null}const ZK=Symbol("ClonableMixin"),qi=t=>{var e;const n=t;let i=class extends n{constructor(){super(...arguments),this[e]=!0}static{e=ZK}clone(r){const s=sa(this);qI(s,"unable to clone instance of non-accessor class");const o=s.metadata,a=s.store,l={},c=new Map;for(const d in o){const f=o[d],y=a?.originOf(d),g=f.clonable;if(f.readOnly||g===!1||y!==7&&y!==0&&y!==5&&y!==4)continue;const b=this[d];let x=null;if(typeof g=="function")x=g(b,r);else if(g==="reference")x=b;else if(x=yw(b,r),b!=null&&x==null)continue;y===0?c.set(d,x):l[d]=x}const p=new(Object.getPrototypeOf(this)).constructor(l);if(c.size){const d=sa(p)?.store;if(d)for(const[f,y]of c)d.set(f,y,0)}return p}};return i=v([nt("esri.core.Clonable")],i),i},JK=qi(Yn),_g=t=>{const e=t;class n extends e{constructor(){super(...arguments),this._listenersMap=null}clearEvents(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clearEvents()}emit(r,s){let o=this._listenersMap?.get(r);if(!o)return!1;let a=!1;for(const l of o.slice()){const c="deref"in l?l.deref():l;c?c?.call(this,s):a=!0}return a&&(o=o.filter(l=>!("deref"in l)||l.deref()!=null),this._listenersMap.set(r,o)),o.length>0}on(r,s){if(Array.isArray(r)){const a=r.map(l=>this.on(l,s));return vy(a)}if(r.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(r)||[];return o.push(s),this._listenersMap.set(r,o),yn(()=>{const a=this._listenersMap?.get(r),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(r,s){const o=this.on(r,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(r){const s=this._listenersMap?.get(r);return s!=null&&s.length>0}}return n},gC=_g(class{}),XK=gC,vC=_g(Yn);function bC(t){return(e,n)=>{e[n]=t}}let Px=class extends K5{notify(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const n of e)n.onInvalidated(),n.onCommitted()}}};var ua;let KK=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},QK=class{constructor(t,e,n,i,r){this.target=t,this.added=e,this.removed=n,this.start=i,this.deleteCount=r}};const ss=new jd(()=>new KK,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function wC(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function Dx(t){return t?t instanceof vl?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function jx(t){if(t?.length)return t[0]}function tQ(t,e,n,i){const r=Math.min(t.length-n,e.length-i);let s=0;for(;s<r&&t[n+s]===e[i+s];)s++;return s}function _C(t,e,n,i){e&&e.forEach((r,s,o)=>{t.push(r),_C(t,n.call(i,r,s,o),n,i)})}const ml=new Set,yl=new Set,gl=new Set,$x=new Map;let eQ=0,vl=ua=class extends vC{static ofType(t){if(!t)return ua;if($x.has(t))return $x.get(t);let e=null;if(typeof t=="function")e=t.prototype.declaredClass;else if(t.base)e=t.base.prototype.declaredClass;else for(const i in t.typeMap){const r=t.typeMap[i].prototype.declaredClass;e?e+=` | ${r}`:e=r}let n=class extends ua{};return v([bC({Type:t,ensureType:typeof t=="function"?Xr(t):Sc(t)})],n.prototype,"itemType",void 0),n=v([nt(`esri.core.Collection<${e}>`)],n),$x.set(t,n),n}static isCollection(t){return t!=null&&t instanceof ua}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new Px,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:eQ++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof ua?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),super.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Bt(this._observable),this._items}set items(t){this._emitBeforeChanges(1)||(this._splice(0,this.length,Dx(t)),this._emitAfterChanges(1))}hasEventListener(t){return!this.destroyed&&(t==="change"?this._chgListeners.length>0:super.hasEventListener(t))}on(t,e){if(this.destroyed)return yn();if(t==="change"){const n=this._chgListeners,i={removed:!1,callback:e};return n.push(i),this._notifications&&this._notifications.push({listeners:n.slice(),items:this._items.slice(),changes:[]}),yn(()=>{i.removed=!0,n.splice(n.indexOf(i),1)})}return super.on(t,e)}once(t,e){const n="deref"in e?()=>e.deref():()=>e,i=this.on(t,r=>{n()?.call(null,r),i.remove()});return i}add(t,e){if(Bt(this._observable),this._emitBeforeChanges(1))return this;const n=this.getNextIndex(e??null);return this._splice(n,0,[t]),this._emitAfterChanges(1),this}addMany(t,e=this._items.length){if(Bt(this._observable),!t?.length)return this;if(this._emitBeforeChanges(1))return this;const n=this.getNextIndex(e);return this._splice(n,0,Dx(t)),this._emitAfterChanges(1),this}at(t){if(Bt(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(Bt(this._observable),!this.length||this._emitBeforeChanges(2))return[];const t=this._removeAllRaw();return this._emitAfterChanges(2),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Bt(this._observable),this._createNewInstance({items:this._items.map(yt)})}concat(...t){Bt(this._observable);const e=t.map(Dx);return this._createNewInstance({items:this._items.concat(...e)})}drain(t,e){if(Bt(this._observable),!this.length||this._emitBeforeChanges(2))return;const n=this._splice(0,this.length),i=n.length;for(let r=0;r<i;r++)t.call(e,n[r],r,n);this._emitAfterChanges(2)}destroyAll(){this.drain(wC)}destroyMany(t){const e=this.removeMany(t);return e.forEach(wC),e}every(t,e){return Bt(this._observable),this._items.every(t,e)}filter(t,e){Bt(this._observable);const n=arguments.length===2?this._items.filter(t,e):this._items.filter(t);return this._createNewInstance({items:n})}find(t,e){return Bt(this._observable),this._items.find(t,e)}findIndex(t,e){return Bt(this._observable),this._items.findIndex(t,e)}flatten(t,e){Bt(this._observable);const n=[];return _C(n,this,t,e),new ua(n)}forEach(t,e){return Bt(this._observable),this._items.forEach(t,e)}getItemAt(t){return Bt(this._observable),this._items[t]}getNextIndex(t){Bt(this._observable);const e=this.length;return(t=t??e)<0?t=0:t>e&&(t=e),t}includes(t,e=0){return Bt(this._observable),this._items.includes(t,e)}indexOf(t,e=0){return Bt(this._observable),this._items.indexOf(t,e)}join(t=","){return Bt(this._observable),this._items.join(t)}lastIndexOf(t,e=this.length-1){return Bt(this._observable),this._items.lastIndexOf(t,e)}map(t,e){Bt(this._observable);const n=this._items.map(t,e);return new ua({items:n})}reorder(t,e=this.length-1){Bt(this._observable);const n=this.indexOf(t);if(n!==-1){if(e<0?e=0:e>=this.length&&(e=this.length-1),n!==e){if(this._emitBeforeChanges(4))return t;this._splice(n,1),this._splice(e,0,[t]),this._emitAfterChanges(4)}return t}}pop(){if(Bt(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=jx(this._splice(this.length-1,1));return this._emitAfterChanges(2),t}push(...t){return Bt(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,t),this._emitAfterChanges(1)),this.length}reduce(t,e){Bt(this._observable);const n=this._items;return arguments.length===2?n.reduce(t,e):n.reduce(t)}reduceRight(t,e){Bt(this._observable);const n=this._items;return arguments.length===2?n.reduceRight(t,e):n.reduceRight(t)}remove(t){return Bt(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(Bt(this._observable),t<0||t>=this.length||this._emitBeforeChanges(2))return;const e=jx(this._splice(t,1));return this._emitAfterChanges(2),e}removeMany(t){if(Bt(this._observable),!t?.length||this._emitBeforeChanges(2))return[];const e=t instanceof ua?t.toArray():t,n=this._items,i=[],r=e.length;for(let s=0;s<r;s++){const o=e[s],a=n.indexOf(o);if(a>-1){const l=1+tQ(e,n,s+1,a+1),c=this._splice(a,l);c&&c.length>0&&i.push.apply(i,c),s+=l-1}}return this._emitAfterChanges(2),i}reverse(){if(Bt(this._observable),this._emitBeforeChanges(4))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(4),this}shift(){if(Bt(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=jx(this._splice(0,1));return this._emitAfterChanges(2),t}slice(t=0,e=this.length){return Bt(this._observable),this._createNewInstance({items:this._items.slice(t,e)})}some(t,e){return Bt(this._observable),this._items.some(t,e)}sort(t){if(Bt(this._observable),!this.length||this._emitBeforeChanges(4)||!this._requiresSort(t))return this;const e=this._splice(0,this.length);return arguments.length?e.sort(t):e.sort(),this._splice(0,0,e),this._emitAfterChanges(4),this}_requiresSort(t=(e,n)=>e===n?0:e<n?-1:1){const e=this.length-1;for(let n=0;n<e;n++)if(t(this.items[n],this.items[n+1])>0)return!0;return!1}splice(t,e,...n){Bt(this._observable),arguments.length===1&&(e=this.length),e??=0;const i=(e?2:0)|(n.length?1:0);if(this._emitBeforeChanges(i))return[];const r=this._splice(t,e,n)||[];return this._emitAfterChanges(i),r}toArray(){return Bt(this._observable),this._items.slice()}toJSON(t){return Bt(this._observable),this.toArray().map(e=>qd(e)?e.toJSON(t):e)}toLocaleString(){return Bt(this._observable),this._items.toLocaleString()}toString(){return Bt(this._observable),this._items.toString()}unshift(...t){return Bt(this._observable),!t.length||this._emitBeforeChanges(1)||(this._splice(0,0,t),this._emitAfterChanges(1)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,e,n){const i=this._items,r=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=Fw(()=>this._dispatchChange())),t<0&&(t+=this.length),e){if(o=i.splice(t,e),this.hasEventListener("before-remove")){const a=ss.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),i.splice(t,0,s),t+=1,l-=1,c-=1);ss.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=ss.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);ss.release(a)}}if(n?.length){if(r){const p=[];for(const d of n){const f=r.ensureType(d);f==null&&d!=null||p.push(f)}n=p}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=t===this.length;if(a||l){const p=ss.acquire();p.target=this,p.cancellable=!0;const d=ss.acquire();d.target=this,d.cancellable=!1;for(const f of n)a?(p.reset(f),this.emit("before-add",p),p.defaultPrevented||(c?i.push(f):i.splice(t++,0,f),this._set("length",i.length),l&&(d.reset(f),this.emit("after-add",d)))):(c?i.push(f):i.splice(t++,0,f),this._set("length",i.length),d.reset(f),this.emit("after-add",d));ss.release(d),ss.release(p)}else{if(c)for(const p of n)i.push(p);else i.splice(t,0,...n);this._set("length",i.length)}}if((n?.length||o?.length)&&this._notifyChangeEvent(n,o),this.hasEventListener("after-splice")){const a=new QK(this,n,o,t,e);this.emit("after-splice",a)}return o}_emitBeforeChanges(t){let e=!1;if(this.hasEventListener("before-changes")){const n=ss.acquire();n.target=this,n.cancellable=!0,n.type=t,this.emit("before-changes",n),e=n.defaultPrevented,ss.release(n)}return e}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const e=ss.acquire();e.target=this,e.cancellable=!1,e.type=t,this.emit("after-changes",e),ss.release(e)}this._observable.notify()}_notifyChangeEvent(t,e){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:e})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const t=this._notifications;this._notifications=null;for(const e of t){const n=e.changes;ml.clear(),yl.clear(),gl.clear();for(const{added:l,removed:c}of n){if(l)if(gl.size===0&&yl.size===0)for(const p of l)ml.add(p);else for(const p of l)yl.has(p)?(gl.add(p),yl.delete(p)):gl.has(p)||ml.add(p);if(c)if(gl.size===0&&ml.size===0)for(const p of c)yl.add(p);else for(const p of c)ml.has(p)?ml.delete(p):(gl.delete(p),yl.add(p))}const i=ra.acquire();ml.forEach(l=>{i.push(l)});const r=ra.acquire();yl.forEach(l=>{r.push(l)});const s=this._items,o=e.items,a=ra.acquire();if(gl.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),e.listeners&&(i.length||r.length||a.length)){const l={target:this,added:i,removed:r,moved:a},c=e.listeners.length;for(let p=0;p<c;p++){const d=e.listeners[p];d.removed||d.callback.call(this,l)}}ra.release(i),ra.release(r),ra.release(a)}ml.clear(),yl.clear(),gl.clear()}};v([E()],vl.prototype,"_updating",void 0),v([E()],vl.prototype,"length",void 0),v([E()],vl.prototype,"items",null),v([E({readOnly:!0})],vl.prototype,"updating",null),vl=ua=v([nt("esri.core.Collection")],vl);const be=vl;let Fx;async function nQ(){return Fx==null&&(Fx=import("./WhereClauseCache-DDvjqoWA.js").then(t=>new t.WhereClauseCache(500,500))),Fx}async function xC(t,e){const n=await nQ(),i=n.get(t,e);if(i==null)throw n.getError(t,e);return i}function iQ(t,e){return t||=null,e||=null,t==="1=1"?e??t:e==="1=1"?t??e:t&&e?`(${t}) AND (${e})`:t??e}function rQ(t,e){return t||=null,e||=null,t==="1=1"||e==="1=1"||t===e?t==="1=1"?t:e:t&&e?`(${t}) OR (${e})`:t??e}function sQ(t,e){return e.length===0?null:`${t} IN (${oQ(e)})`}function oQ(t){return t.map(e=>typeof e=="string"?aQ(e):e).join(",")}function aQ(t){return`'${t.replaceAll("'","''")}'`}function lQ(t){return typeof t=="number"}function cQ(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function uQ(t){return typeof t=="boolean"}function Oh(t){return typeof t=="string"||t instanceof String}function EC(t){return t==null||Oh(t)}function hQ(t){return Array.isArray(t)}function pQ(t){return t?.declaredClass==="esri.Graphic"}function dQ(t){return t instanceof Date}class Vc extends Error{}class fQ extends Vc{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class mQ extends Vc{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class yQ extends Vc{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class kh extends Vc{}class SC extends Vc{constructor(e){super(`Invalid unit ${e}`)}}class Ii extends Vc{}class bl extends Vc{constructor(){super("Zone is an abstract class")}}const bt="numeric",Gs="short",Dr="long",xg={year:bt,month:bt,day:bt},AC={year:bt,month:Gs,day:bt},gQ={year:bt,month:Gs,day:bt,weekday:Gs},MC={year:bt,month:Dr,day:bt},TC={year:bt,month:Dr,day:bt,weekday:Dr},IC={hour:bt,minute:bt},NC={hour:bt,minute:bt,second:bt},OC={hour:bt,minute:bt,second:bt,timeZoneName:Gs},kC={hour:bt,minute:bt,second:bt,timeZoneName:Dr},CC={hour:bt,minute:bt,hourCycle:"h23"},RC={hour:bt,minute:bt,second:bt,hourCycle:"h23"},LC={hour:bt,minute:bt,second:bt,hourCycle:"h23",timeZoneName:Gs},PC={hour:bt,minute:bt,second:bt,hourCycle:"h23",timeZoneName:Dr},DC={year:bt,month:bt,day:bt,hour:bt,minute:bt},jC={year:bt,month:bt,day:bt,hour:bt,minute:bt,second:bt},$C={year:bt,month:Gs,day:bt,hour:bt,minute:bt},FC={year:bt,month:Gs,day:bt,hour:bt,minute:bt,second:bt},vQ={year:bt,month:Gs,day:bt,weekday:Gs,hour:bt,minute:bt},UC={year:bt,month:Dr,day:bt,hour:bt,minute:bt,timeZoneName:Gs},GC={year:bt,month:Dr,day:bt,hour:bt,minute:bt,second:bt,timeZoneName:Gs},BC={year:bt,month:Dr,day:bt,weekday:Dr,hour:bt,minute:bt,timeZoneName:Dr},zC={year:bt,month:Dr,day:bt,weekday:Dr,hour:bt,minute:bt,second:bt,timeZoneName:Dr};class Ch{get type(){throw new bl}get name(){throw new bl}get ianaName(){return this.name}get isUniversal(){throw new bl}offsetName(e,n){throw new bl}formatOffset(e,n){throw new bl}offset(e){throw new bl}equals(e){throw new bl}get isValid(){throw new bl}}let Ux=null;class q2 extends Ch{static get instance(){return Ux===null&&(Ux=new q2),Ux}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return m6(e,n,i)}formatOffset(e,n){return vf(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const Gx=new Map;function bQ(t){let e=Gx.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Gx.set(t,e)),e}const wQ={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function _Q(t,e){const n=t.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,r,s,o,a,l,c,p]=i;return[o,r,s,a,l,c,p]}function xQ(t,e){const n=t.formatToParts(e),i=[];for(let r=0;r<n.length;r++){const{type:s,value:o}=n[r],a=wQ[s];s==="era"?i[a]=o:Gt(a)||(i[a]=parseInt(o,10))}return i}const Bx=new Map;class Rs extends Ch{static create(e){let n=Bx.get(e);return n===void 0&&Bx.set(e,n=new Rs(e)),n}static resetCache(){Bx.clear(),Gx.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Rs.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return m6(e,n,i,this.name)}formatOffset(e,n){return vf(this.offset(e),n)}offset(e){if(!this.valid)return NaN;const n=new Date(e);if(isNaN(n))return NaN;const i=bQ(this.name);let[r,s,o,a,l,c,p]=i.formatToParts?xQ(i,n):_Q(i,n);a==="BC"&&(r=-Math.abs(r)+1);const d=Ig({year:r,month:s,day:o,hour:l===24?0:l,minute:c,second:p,millisecond:0});let f=+n;const y=f%1e3;return f-=y>=0?y:1e3+y,(d-f)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let VC={};function EQ(t,e={}){const n=JSON.stringify([t,e]);let i=VC[n];return i||(i=new Intl.ListFormat(t,e),VC[n]=i),i}const zx=new Map;function Vx(t,e={}){const n=JSON.stringify([t,e]);let i=zx.get(n);return i===void 0&&(i=new Intl.DateTimeFormat(t,e),zx.set(n,i)),i}const Wx=new Map;function SQ(t,e={}){const n=JSON.stringify([t,e]);let i=Wx.get(n);return i===void 0&&(i=new Intl.NumberFormat(t,e),Wx.set(n,i)),i}const Hx=new Map;function AQ(t,e={}){const{base:n,...i}=e,r=JSON.stringify([t,i]);let s=Hx.get(r);return s===void 0&&(s=new Intl.RelativeTimeFormat(t,e),Hx.set(r,s)),s}let Eg=null;function MQ(){return Eg||(Eg=new Intl.DateTimeFormat().resolvedOptions().locale,Eg)}const qx=new Map;function WC(t){let e=qx.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),qx.set(t,e)),e}const Yx=new Map;function TQ(t){let e=Yx.get(t);if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,"minimalDays"in e||(e={...HC,...e}),Yx.set(t,e)}return e}function IQ(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let i,r;try{i=Vx(t).resolvedOptions(),r=t}catch{const a=t.substring(0,n);i=Vx(a).resolvedOptions(),r=a}const{numberingSystem:s,calendar:o}=i;return[r,s,o]}}function NQ(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function OQ(t){const e=[];for(let n=1;n<=12;n++){const i=Rt.utc(2009,n,1);e.push(t(i))}return e}function kQ(t){const e=[];for(let n=1;n<=7;n++){const i=Rt.utc(2016,11,13+n);e.push(t(i))}return e}function Sg(t,e,n,i){const r=t.listingMode();return r==="error"?null:r==="en"?n(e):i(e)}function CQ(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||WC(t.locale).numberingSystem==="latn"}class RQ{constructor(e,n,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:s,...o}=i;if(!n||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=SQ(e,a)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):i3(e,3);return Gn(n,this.padTo)}}}class LQ{constructor(e,n,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Rs.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=Vx(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:i}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class PQ{constructor(e,n,i){this.opts={style:"long",...i},!n&&h6()&&(this.rtf=AQ(e,i))}format(e,n){return this.rtf?this.rtf.format(e,n):itt(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const HC={firstDay:1,minimalDays:4,weekend:[6,7]};class Oe{static fromOpts(e){return Oe.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,i,r,s=!1){const o=e||bn.defaultLocale,a=o||(s?"en-US":MQ()),l=n||bn.defaultNumberingSystem,c=i||bn.defaultOutputCalendar,p=e3(r)||bn.defaultWeekSettings;return new Oe(a,l,c,p,o)}static resetCache(){Eg=null,zx.clear(),Wx.clear(),Hx.clear(),qx.clear(),Yx.clear()}static fromObject({locale:e,numberingSystem:n,outputCalendar:i,weekSettings:r}={}){return Oe.create(e,n,i,r)}constructor(e,n,i,r,s){const[o,a,l]=IQ(e);this.locale=o,this.numberingSystem=n||a||null,this.outputCalendar=i||l||null,this.weekSettings=r,this.intl=NQ(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=CQ(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Oe.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e3(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return Sg(this,e,v6,()=>{const i=this.intl==="ja"||this.intl.startsWith("ja-");n&=!i;const r=n?{month:e,day:"numeric"}:{month:e},s=n?"format":"standalone";if(!this.monthsCache[s][e]){const o=i?a=>this.dtFormatter(a,r).format():a=>this.extract(a,r,"month");this.monthsCache[s][e]=OQ(o)}return this.monthsCache[s][e]})}weekdays(e,n=!1){return Sg(this,e,_6,()=>{const i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=n?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=kQ(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return Sg(this,void 0,()=>x6,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Rt.utc(2016,11,13,9),Rt.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Sg(this,e,E6,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[Rt.utc(-40,1,1),Rt.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,n,i){const r=this.dtFormatter(e,n),s=r.formatToParts(),o=s.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(e={}){return new RQ(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new LQ(e,this.intl,n)}relFormatter(e={}){return new PQ(this.intl,this.isEnglish(),e)}listFormatter(e={}){return EQ(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||WC(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:p6()?TQ(this.locale):HC}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Zx=null;class Gi extends Ch{static get utcInstance(){return Zx===null&&(Zx=new Gi(0)),Zx}static instance(e){return e===0?Gi.utcInstance:new Gi(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Gi(Ng(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${vf(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${vf(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return vf(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class DQ extends Ch{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function wl(t,e){if(Gt(t)||t===null)return e;if(t instanceof Ch)return t;if(BQ(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?q2.instance:n==="utc"||n==="gmt"?Gi.utcInstance:Gi.parseSpecifier(n)||Rs.create(t)}else return _l(t)?Gi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new DQ(t)}const Jx={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},qC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},jQ=Jx.hanidec.replace(/[\[|\]]/g,"").split("");function $Q(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(t[n].search(Jx.hanidec)!==-1)e+=jQ.indexOf(t[n]);else for(const r in qC){const[s,o]=qC[r];i>=s&&i<=o&&(e+=i-s)}}return parseInt(e,10)}else return e}const Xx=new Map;function FQ(){Xx.clear()}function Bs({numberingSystem:t},e=""){const n=t||"latn";let i=Xx.get(n);i===void 0&&(i=new Map,Xx.set(n,i));let r=i.get(e);return r===void 0&&(r=new RegExp(`${Jx[n]}${e}`),i.set(e,r)),r}let YC=()=>Date.now(),ZC="system",JC=null,XC=null,KC=null,QC=60,t6,e6=null;class bn{static get now(){return YC}static set now(e){YC=e}static set defaultZone(e){ZC=e}static get defaultZone(){return wl(ZC,q2.instance)}static get defaultLocale(){return JC}static set defaultLocale(e){JC=e}static get defaultNumberingSystem(){return XC}static set defaultNumberingSystem(e){XC=e}static get defaultOutputCalendar(){return KC}static set defaultOutputCalendar(e){KC=e}static get defaultWeekSettings(){return e6}static set defaultWeekSettings(e){e6=e3(e)}static get twoDigitCutoffYear(){return QC}static set twoDigitCutoffYear(e){QC=e%100}static get throwOnInvalid(){return t6}static set throwOnInvalid(e){t6=e}static resetCaches(){Oe.resetCache(),Rs.resetCache(),Rt.resetCache(),FQ()}}class zs{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const n6=[0,31,59,90,120,151,181,212,243,273,304,334],i6=[0,31,60,91,121,152,182,213,244,274,305,335];function os(t,e){return new zs("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Kx(t,e,n){const i=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function r6(t,e,n){return n+(yf(t)?i6:n6)[e-1]}function s6(t,e){const n=yf(t)?i6:n6,i=n.findIndex(s=>s<e),r=e-n[i];return{month:i+1,day:r}}function Qx(t,e){return(t-e+7)%7+1}function Ag(t,e=4,n=1){const{year:i,month:r,day:s}=t,o=r6(i,r,s),a=Qx(Kx(i,r,s),n);let l=Math.floor((o-a+14-e)/7),c;return l<1?(c=i-1,l=gf(c,e,n)):l>gf(i,e,n)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...kg(t)}}function o6(t,e=4,n=1){const{weekYear:i,weekNumber:r,weekday:s}=t,o=Qx(Kx(i,1,e),n),a=Lh(i);let l=r*7+s-o-7+e,c;l<1?(c=i-1,l+=Lh(c)):l>a?(c=i+1,l-=Lh(i)):c=i;const{month:p,day:d}=s6(c,l);return{year:c,month:p,day:d,...kg(t)}}function t3(t){const{year:e,month:n,day:i}=t,r=r6(e,n,i);return{year:e,ordinal:r,...kg(t)}}function a6(t){const{year:e,ordinal:n}=t,{month:i,day:r}=s6(e,n);return{year:e,month:i,day:r,...kg(t)}}function l6(t,e){if(!Gt(t.localWeekday)||!Gt(t.localWeekNumber)||!Gt(t.localWeekYear)){if(!Gt(t.weekday)||!Gt(t.weekNumber)||!Gt(t.weekYear))throw new kh("Cannot mix locale-based week fields with ISO-based week fields");return Gt(t.localWeekday)||(t.weekday=t.localWeekday),Gt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Gt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function UQ(t,e=4,n=1){const i=Mg(t.weekYear),r=as(t.weekNumber,1,gf(t.weekYear,e,n)),s=as(t.weekday,1,7);return i?r?s?!1:os("weekday",t.weekday):os("week",t.weekNumber):os("weekYear",t.weekYear)}function GQ(t){const e=Mg(t.year),n=as(t.ordinal,1,Lh(t.year));return e?n?!1:os("ordinal",t.ordinal):os("year",t.year)}function c6(t){const e=Mg(t.year),n=as(t.month,1,12),i=as(t.day,1,Tg(t.year,t.month));return e?n?i?!1:os("day",t.day):os("month",t.month):os("year",t.year)}function u6(t){const{hour:e,minute:n,second:i,millisecond:r}=t,s=as(e,0,23)||e===24&&n===0&&i===0&&r===0,o=as(n,0,59),a=as(i,0,59),l=as(r,0,999);return s?o?a?l?!1:os("millisecond",r):os("second",i):os("minute",n):os("hour",e)}function Gt(t){return typeof t>"u"}function _l(t){return typeof t=="number"}function Mg(t){return typeof t=="number"&&t%1===0}function BQ(t){return typeof t=="string"}function zQ(t){return Object.prototype.toString.call(t)==="[object Date]"}function h6(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function p6(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function VQ(t){return Array.isArray(t)?t:[t]}function d6(t,e,n){if(t.length!==0)return t.reduce((i,r)=>{const s=[e(r),r];return i&&n(i[0],s[0])===i[0]?i:s},null)[1]}function WQ(t,e){return e.reduce((n,i)=>(n[i]=t[i],n),{})}function Rh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function e3(t){if(t==null)return null;if(typeof t!="object")throw new Ii("Week settings must be an object");if(!as(t.firstDay,1,7)||!as(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!as(e,1,7)))throw new Ii("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function as(t,e,n){return Mg(t)&&t>=e&&t<=n}function HQ(t,e){return t-e*Math.floor(t/e)}function Gn(t,e=2){const n=t<0;let i;return n?i="-"+(""+-t).padStart(e,"0"):i=(""+t).padStart(e,"0"),i}function xl(t){if(!(Gt(t)||t===null||t===""))return parseInt(t,10)}function Wc(t){if(!(Gt(t)||t===null||t===""))return parseFloat(t)}function n3(t){if(!(Gt(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function i3(t,e,n="round"){const i=10**e;switch(n){case"expand":return t>0?Math.ceil(t*i)/i:Math.floor(t*i)/i;case"trunc":return Math.trunc(t*i)/i;case"round":return Math.round(t*i)/i;case"floor":return Math.floor(t*i)/i;case"ceil":return Math.ceil(t*i)/i;default:throw new RangeError(`Value rounding ${n} is out of range`)}}function yf(t){return t%4===0&&(t%100!==0||t%400===0)}function Lh(t){return yf(t)?366:365}function Tg(t,e){const n=HQ(e-1,12)+1,i=t+(e-n)/12;return n===2?yf(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Ig(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function f6(t,e,n){return-Qx(Kx(t,1,e),n)+e-1}function gf(t,e=4,n=1){const i=f6(t,e,n),r=f6(t+1,e,n);return(Lh(t)-i+r)/7}function r3(t){return t>99?t:t>bn.twoDigitCutoffYear?1900+t:2e3+t}function m6(t,e,n,i=null){const r=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(n,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Ng(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const i=parseInt(e,10)||0,r=n<0||Object.is(n,-0)?-i:i;return n*60+r}function y6(t){const e=Number(t);if(typeof t=="boolean"||t===""||!Number.isFinite(e))throw new Ii(`Invalid unit value ${t}`);return e}function Og(t,e){const n={};for(const i in t)if(Rh(t,i)){const r=t[i];if(r==null)continue;n[e(i)]=y6(r)}return n}function vf(t,e){const n=Math.trunc(Math.abs(t/60)),i=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return`${r}${Gn(n,2)}:${Gn(i,2)}`;case"narrow":return`${r}${n}${i>0?`:${i}`:""}`;case"techie":return`${r}${Gn(n,2)}${Gn(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function kg(t){return WQ(t,["hour","minute","second","millisecond"])}const qQ=["January","February","March","April","May","June","July","August","September","October","November","December"],g6=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],YQ=["J","F","M","A","M","J","J","A","S","O","N","D"];function v6(t){switch(t){case"narrow":return[...YQ];case"short":return[...g6];case"long":return[...qQ];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const b6=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],w6=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ZQ=["M","T","W","T","F","S","S"];function _6(t){switch(t){case"narrow":return[...ZQ];case"short":return[...w6];case"long":return[...b6];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const x6=["AM","PM"],JQ=["Before Christ","Anno Domini"],XQ=["BC","AD"],KQ=["B","A"];function E6(t){switch(t){case"narrow":return[...KQ];case"short":return[...XQ];case"long":return[...JQ];default:return null}}function QQ(t){return x6[t.hour<12?0:1]}function ttt(t,e){return _6(e)[t.weekday-1]}function ett(t,e){return v6(e)[t.month-1]}function ntt(t,e){return E6(e)[t.year<0?0:1]}function itt(t,e,n="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${r[t][0]}`;case-1:return d?"yesterday":`last ${r[t][0]}`;case 0:return d?"today":`this ${r[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=r[t],p=i?l?c[1]:c[2]||c[1]:l?r[t][0]:t;return o?`${a} ${p} ago`:`in ${a} ${p}`}function S6(t,e){let n="";for(const i of t)i.literal?n+=i.val:n+=e(i.val);return n}const rtt={D:xg,DD:AC,DDD:MC,DDDD:TC,t:IC,tt:NC,ttt:OC,tttt:kC,T:CC,TT:RC,TTT:LC,TTTT:PC,f:DC,ff:$C,fff:UC,ffff:BC,F:jC,FF:FC,FFF:GC,FFFF:zC};class Bi{static create(e,n={}){return new Bi(e,n)}static parseFormat(e){let n=null,i="",r=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?((i.length>0||r)&&s.push({literal:r||/^\s+$/.test(i),val:i===""?"'":i}),n=null,i="",r=!r):r||a===n?i+=a:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=a,n=a)}return i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return rtt[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0,i=void 0){if(this.opts.forceSimple)return Gn(e,n);const r={...this.opts};return n>0&&(r.padTo=n),i&&(r.signDisplay=i),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,g)=>this.loc.extract(e,y,g),o=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",a=()=>i?QQ(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>i?ett(e,y):s(g?{month:y}:{month:y,day:"numeric"},"month"),c=(y,g)=>i?ttt(e,y):s(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),p=y=>{const g=Bi.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(e,g):y},d=y=>i?ntt(e,y):s({era:y},"era"),f=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?s({day:"numeric"},"day"):this.num(e.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(e.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(e.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(y)}};return S6(Bi.parseFormat(n),f)}formatDurationFromString(e,n){const i=this.opts.signMode==="negativeLargestOnly"?-1:1,r=p=>{switch(p[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},s=(p,d)=>f=>{const y=r(f);if(y){const g=d.isNegativeDuration&&y!==d.largestUnit?i:1;let b;return this.opts.signMode==="negativeLargestOnly"&&y!==d.largestUnit?b="never":this.opts.signMode==="all"?b="always":b="auto",this.num(p.get(y)*g,f.length,b)}else return f},o=Bi.parseFormat(n),a=o.reduce((p,{literal:d,val:f})=>d?p:p.concat(f),[]),l=e.shiftTo(...a.map(r).filter(p=>p)),c={isNegativeDuration:l<0,largestUnit:Object.keys(l.values)[0]};return S6(o,s(l,c))}}const A6=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ph(...t){const e=t.reduce((n,i)=>n+i.source,"");return RegExp(`^${e}$`)}function Dh(...t){return e=>t.reduce(([n,i,r],s)=>{const[o,a,l]=s(e,r);return[{...n,...o},a||i,l]},[{},null,1]).slice(0,2)}function jh(t,...e){if(t==null)return[null,null];for(const[n,i]of e){const r=n.exec(t);if(r)return i(r)}return[null,null]}function M6(...t){return(e,n)=>{const i={};let r;for(r=0;r<t.length;r++)i[t[r]]=xl(e[n+r]);return[i,null,n+r]}}const T6=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,stt=`(?:${T6.source}?(?:\\[(${A6.source})\\])?)?`,s3=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,I6=RegExp(`${s3.source}${stt}`),o3=RegExp(`(?:[Tt]${I6.source})?`),ott=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,att=/(\d{4})-?W(\d\d)(?:-?(\d))?/,ltt=/(\d{4})-?(\d{3})/,ctt=M6("weekYear","weekNumber","weekDay"),utt=M6("year","ordinal"),htt=/(\d{4})-(\d\d)-(\d\d)/,N6=RegExp(`${s3.source} ?(?:${T6.source}|(${A6.source}))?`),ptt=RegExp(`(?: ${N6.source})?`);function $h(t,e,n){const i=t[e];return Gt(i)?n:xl(i)}function dtt(t,e){return[{year:$h(t,e),month:$h(t,e+1,1),day:$h(t,e+2,1)},null,e+3]}function Fh(t,e){return[{hours:$h(t,e,0),minutes:$h(t,e+1,0),seconds:$h(t,e+2,0),milliseconds:n3(t[e+3])},null,e+4]}function bf(t,e){const n=!t[e]&&!t[e+1],i=Ng(t[e+1],t[e+2]),r=n?null:Gi.instance(i);return[{},r,e+3]}function wf(t,e){const n=t[e]?Rs.create(t[e]):null;return[{},n,e+1]}const ftt=RegExp(`^T?${s3.source}$`),mtt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ytt(t){const[e,n,i,r,s,o,a,l,c]=t,p=e[0]==="-",d=l&&l[0]==="-",f=(y,g=!1)=>y!==void 0&&(g||y&&p)?-y:y;return[{years:f(Wc(n)),months:f(Wc(i)),weeks:f(Wc(r)),days:f(Wc(s)),hours:f(Wc(o)),minutes:f(Wc(a)),seconds:f(Wc(l),l==="-0"),milliseconds:f(n3(c),d)}]}const gtt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function a3(t,e,n,i,r,s,o){const a={year:e.length===2?r3(xl(e)):xl(e),month:g6.indexOf(n)+1,day:xl(i),hour:xl(r),minute:xl(s)};return o&&(a.second=xl(o)),t&&(a.weekday=t.length>3?b6.indexOf(t)+1:w6.indexOf(t)+1),a}const vtt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function btt(t){const[,e,n,i,r,s,o,a,l,c,p,d]=t,f=a3(e,r,i,n,s,o,a);let y;return l?y=gtt[l]:c?y=0:y=Ng(p,d),[f,new Gi(y)]}function wtt(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const _tt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,xtt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ett=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function O6(t){const[,e,n,i,r,s,o,a]=t;return[a3(e,r,i,n,s,o,a),Gi.utcInstance]}function Stt(t){const[,e,n,i,r,s,o,a]=t;return[a3(e,a,n,i,r,s,o),Gi.utcInstance]}const Att=Ph(ott,o3),Mtt=Ph(att,o3),Ttt=Ph(ltt,o3),Itt=Ph(I6),k6=Dh(dtt,Fh,bf,wf),Ntt=Dh(ctt,Fh,bf,wf),Ott=Dh(utt,Fh,bf,wf),ktt=Dh(Fh,bf,wf);function Ctt(t){return jh(t,[Att,k6],[Mtt,Ntt],[Ttt,Ott],[Itt,ktt])}function Rtt(t){return jh(wtt(t),[vtt,btt])}function Ltt(t){return jh(t,[_tt,O6],[xtt,O6],[Ett,Stt])}function Ptt(t){return jh(t,[mtt,ytt])}const Dtt=Dh(Fh);function jtt(t){return jh(t,[ftt,Dtt])}const $tt=Ph(htt,ptt),Ftt=Ph(N6),Utt=Dh(Fh,bf,wf);function Gtt(t){return jh(t,[$tt,k6],[Ftt,Utt])}const C6="Invalid Duration",R6={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Btt={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...R6},ls=146097/400,Uh=146097/4800,ztt={years:{quarters:4,months:12,weeks:ls/7,days:ls,hours:ls*24,minutes:ls*24*60,seconds:ls*24*60*60,milliseconds:ls*24*60*60*1e3},quarters:{months:3,weeks:ls/28,days:ls/4,hours:ls*24/4,minutes:ls*24*60/4,seconds:ls*24*60*60/4,milliseconds:ls*24*60*60*1e3/4},months:{weeks:Uh/7,days:Uh,hours:Uh*24,minutes:Uh*24*60,seconds:Uh*24*60*60,milliseconds:Uh*24*60*60*1e3},...R6},Hc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Vtt=Hc.slice(0).reverse();function ha(t,e,n=!1){const i={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new me(i)}function L6(t,e){let n=e.milliseconds??0;for(const i of Vtt.slice(1))e[i]&&(n+=e[i]*t[i].milliseconds);return n}function P6(t,e){const n=L6(t,e)<0?-1:1;Hc.reduceRight((i,r)=>{if(Gt(e[r]))return i;if(i){const s=e[i]*n,o=t[r][i],a=Math.floor(s/o);e[r]+=a*n,e[i]-=a*o*n}return r},null),Hc.reduce((i,r)=>{if(Gt(e[r]))return i;if(i){const s=e[i]%1;e[i]-=s,e[r]+=s*t[i][r]}return r},null)}function D6(t){const e={};for(const[n,i]of Object.entries(t))i!==0&&(e[n]=i);return e}class me{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let i=n?ztt:Btt;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||Oe.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,n){return me.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new Ii(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new me({values:Og(e,me.normalizeUnit),loc:Oe.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(_l(e))return me.fromMillis(e);if(me.isDuration(e))return e;if(typeof e=="object")return me.fromObject(e);throw new Ii(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[i]=Ptt(e);return i?me.fromObject(i,n):me.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[i]=jtt(e);return i?me.fromObject(i,n):me.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new Ii("need to specify a reason the Duration is invalid");const i=e instanceof zs?e:new zs(e,n);if(bn.throwOnInvalid)throw new yQ(i);return new me({invalid:i})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new SC(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const i={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Bi.create(this.loc,i).formatDurationFromString(this,e):C6}toHuman(e={}){if(!this.isValid)return C6;const n=e.showZeros!==!1,i=Hc.map(r=>{const s=this.values[r];return Gt(s)||s===0&&!n?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=i3(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Rt.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?L6(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=me.fromDurationLike(e),i={};for(const r of Hc)(Rh(n.values,r)||Rh(this.values,r))&&(i[r]=n.get(r)+this.get(r));return ha(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const n=me.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const i of Object.keys(this.values))n[i]=y6(e(this.values[i],i));return ha(this,{values:n},!0)}get(e){return this[me.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Og(e,me.normalizeUnit)};return ha(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:i,matrix:r}={}){const s={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:r,conversionAccuracy:i};return ha(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return P6(this.matrix,e),ha(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=D6(this.normalize().shiftToAll().toObject());return ha(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>me.normalizeUnit(o));const n={},i={},r=this.toObject();let s;for(const o of Hc)if(e.indexOf(o)>=0){s=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;_l(r[o])&&(a+=r[o]);const l=Math.trunc(a);n[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else _l(r[o])&&(i[o]=r[o]);for(const o in i)i[o]!==0&&(n[s]+=o===s?i[o]:i[o]/this.matrix[s][o]);return P6(this.matrix,n),ha(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return ha(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=D6(this.values);return ha(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of Hc)if(!n(this.values[i],e.values[i]))return!1;return!0}}const Gh="Invalid Interval";function Wtt(t,e){return!t||!t.isValid?On.invalid("missing or invalid start"):!e||!e.isValid?On.invalid("missing or invalid end"):e<t?On.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class On{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new Ii("need to specify a reason the Interval is invalid");const i=e instanceof zs?e:new zs(e,n);if(bn.throwOnInvalid)throw new mQ(i);return new On({invalid:i})}static fromDateTimes(e,n){const i=Ef(e),r=Ef(n);return Wtt(i,r)??new On({start:i,end:r})}static after(e,n){const i=me.fromDurationLike(n),r=Ef(e);return On.fromDateTimes(r,r.plus(i))}static before(e,n){const i=me.fromDurationLike(n),r=Ef(e);return On.fromDateTimes(r.minus(i),r)}static fromISO(e,n){const[i,r]=(e||"").split("/",2);if(i&&r){let s,o;try{s=Rt.fromISO(i,n),o=s.isValid}catch{o=!1}let a,l;try{a=Rt.fromISO(r,n),l=a.isValid}catch{l=!1}if(o&&l)return On.fromDateTimes(s,a);if(o){const c=me.fromISO(r,n);if(c.isValid)return On.after(s,c)}else if(l){const c=me.fromISO(i,n);if(c.isValid)return On.before(a,c)}}return On.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const i=this.start.startOf(e,n);let r;return n?.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(e,n),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?On.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Ef).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s:r}=this,s=0;for(;r<this.e;){const o=n[s]||this.e,a=+o>+this.e?this.e:o;i.push(On.fromDateTimes(r,a)),r=a,s+=1}return i}splitBy(e){const n=me.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:i}=this,r=1,s;const o=[];for(;i<this.e;){const a=this.start.plus(n.mapUnits(l=>l*r));s=+a>+this.e?this.e:a,o.push(On.fromDateTimes(i,s)),i=s,r+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return n>=i?null:On.fromDateTimes(n,i)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return On.fromDateTimes(n,i)}static merge(e){const[n,i]=e.sort((r,s)=>r.s-s.s).reduce(([r,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[r,s.union(o)]:[r.concat([s]),o]:[r,o],[[],null]);return i&&n.push(i),n}static xor(e){let n=null,i=0;const r=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?n=l.time:(n&&+n!=+l.time&&r.push(On.fromDateTimes(n,l.time)),n=null);return On.merge(r)}difference(...e){return On.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Gh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=xg,n={}){return this.isValid?Bi.create(this.s.loc.clone(n),e).formatInterval(this):Gh}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Gh}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Gh}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Gh}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Gh}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):me.invalid(this.invalidReason)}mapEndpoints(e){return On.fromDateTimes(e(this.s),e(this.e))}}class Cg{static hasDST(e=bn.defaultZone){const n=Rt.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Rs.isValidZone(e)}static normalizeZone(e){return wl(e,bn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Oe.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Oe.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Oe.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Oe.create(n,i,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Oe.create(n,i,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Oe.create(n,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Oe.create(n,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Oe.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Oe.create(n,null,"gregory").eras(e)}static features(){return{relative:h6(),localeWeek:p6()}}}function j6(t,e){const n=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=n(e)-n(t);return Math.floor(me.fromMillis(i).as("days"))}function Htt(t,e,n){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const p=j6(l,c);return(p-p%7)/7}],["days",j6]],r={},s=t;let o,a;for(const[l,c]of i)n.indexOf(l)>=0&&(o=l,r[l]=c(t,e),a=s.plus(r),a>e?(r[l]--,t=s.plus(r),t>e&&(a=t,r[l]--,t=s.plus(r))):t=a);return[t,r,a,o]}function qtt(t,e,n,i){let[r,s,o,a]=Htt(t,e,n);const l=e-r,c=n.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<e&&(o=r.plus({[a]:1})),o!==r&&(s[a]=(s[a]||0)+l/(o-r)));const p=me.fromObject(s,i);return c.length>0?me.fromMillis(l,i).shiftTo(...c).plus(p):p}const Ytt="missing Intl.DateTimeFormat.formatToParts support";function we(t,e=n=>n){return{regex:t,deser:([n])=>e($Q(n))}}const Ztt="\xA0",$6=`[ ${Ztt}]`,F6=new RegExp($6,"g");function Jtt(t){return t.replace(/\./g,"\\.?").replace(F6,$6)}function U6(t){return t.replace(/\./g,"").replace(F6," ").toLowerCase()}function Vs(t,e){return t===null?null:{regex:RegExp(t.map(Jtt).join("|")),deser:([n])=>t.findIndex(i=>U6(n)===U6(i))+e}}function G6(t,e){return{regex:t,deser:([,n,i])=>Ng(n,i),groups:e}}function Rg(t){return{regex:t,deser:([e])=>e}}function Xtt(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ktt(t,e){const n=Bs(e),i=Bs(e,"{2}"),r=Bs(e,"{3}"),s=Bs(e,"{4}"),o=Bs(e,"{6}"),a=Bs(e,"{1,2}"),l=Bs(e,"{1,3}"),c=Bs(e,"{1,6}"),p=Bs(e,"{1,9}"),d=Bs(e,"{2,4}"),f=Bs(e,"{4,6}"),y=b=>({regex:RegExp(Xtt(b.val)),deser:([x])=>x,literal:!0}),g=(b=>{if(t.literal)return y(b);switch(b.val){case"G":return Vs(e.eras("short"),0);case"GG":return Vs(e.eras("long"),0);case"y":return we(c);case"yy":return we(d,r3);case"yyyy":return we(s);case"yyyyy":return we(f);case"yyyyyy":return we(o);case"M":return we(a);case"MM":return we(i);case"MMM":return Vs(e.months("short",!0),1);case"MMMM":return Vs(e.months("long",!0),1);case"L":return we(a);case"LL":return we(i);case"LLL":return Vs(e.months("short",!1),1);case"LLLL":return Vs(e.months("long",!1),1);case"d":return we(a);case"dd":return we(i);case"o":return we(l);case"ooo":return we(r);case"HH":return we(i);case"H":return we(a);case"hh":return we(i);case"h":return we(a);case"mm":return we(i);case"m":return we(a);case"q":return we(a);case"qq":return we(i);case"s":return we(a);case"ss":return we(i);case"S":return we(l);case"SSS":return we(r);case"u":return Rg(p);case"uu":return Rg(a);case"uuu":return we(n);case"a":return Vs(e.meridiems(),0);case"kkkk":return we(s);case"kk":return we(d,r3);case"W":return we(a);case"WW":return we(i);case"E":case"c":return we(n);case"EEE":return Vs(e.weekdays("short",!1),1);case"EEEE":return Vs(e.weekdays("long",!1),1);case"ccc":return Vs(e.weekdays("short",!0),1);case"cccc":return Vs(e.weekdays("long",!0),1);case"Z":case"ZZ":return G6(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return G6(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return Rg(/[a-z_+-/]{1,256}?/i);case" ":return Rg(/[^\S\n\r]/);default:return y(b)}})(t)||{invalidReason:Ytt};return g.token=t,g}const Qtt={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tet(t,e,n){const{type:i,value:r}=t;if(i==="literal"){const l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}const s=e[i];let o=i;i==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let a=Qtt[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function eet(t){return[`^${t.map(e=>e.regex).reduce((e,n)=>`${e}(${n.source})`,"")}$`,t]}function net(t,e,n){const i=t.match(e);if(i){const r={};let s=1;for(const o in n)if(Rh(n,o)){const a=n[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(i.slice(s,s+l))),s+=l}return[i,r]}else return[i,{}]}function iet(t){const e=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,i;return Gt(t.z)||(n=Rs.create(t.z)),Gt(t.Z)||(n||(n=new Gi(t.Z)),i=t.Z),Gt(t.q)||(t.M=(t.q-1)*3+1),Gt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Gt(t.u)||(t.S=n3(t.u)),[Object.keys(t).reduce((r,s)=>{const o=e(s);return o&&(r[o]=t[s]),r},{}),n,i]}let l3=null;function ret(){return l3||(l3=Rt.fromMillis(1555555555555)),l3}function set(t,e){if(t.literal)return t;const n=Bi.macroTokenToFormatOpts(t.val),i=W6(n,e);return i==null||i.includes(void 0)?t:i}function B6(t,e){return Array.prototype.concat(...t.map(n=>set(n,e)))}class z6{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=B6(Bi.parseFormat(n),e),this.units=this.tokens.map(i=>Ktt(i,e)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,r]=eet(this.units);this.regex=RegExp(i,"i"),this.handlers=r}}explainFromTokens(e){if(this.isValid){const[n,i]=net(e,this.regex,this.handlers),[r,s,o]=i?iet(i):[null,null,void 0];if(Rh(i,"a")&&Rh(i,"H"))throw new kh("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:i,result:r,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function V6(t,e,n){return new z6(t,n).explainFromTokens(e)}function oet(t,e,n){const{result:i,zone:r,specificOffset:s,invalidReason:o}=V6(t,e,n);return[i,r,s,o]}function W6(t,e){if(!t)return null;const n=Bi.create(e,t).dtFormatter(ret()),i=n.formatToParts(),r=n.resolvedOptions();return i.map(s=>tet(s,t,r))}const c3="Invalid DateTime",H6=864e13;function _f(t){return new zs("unsupported zone",`the zone "${t.name}" is not supported`)}function u3(t){return t.weekData===null&&(t.weekData=Ag(t.c)),t.weekData}function h3(t){return t.localWeekData===null&&(t.localWeekData=Ag(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function qc(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Rt({...n,...e,old:n})}function q6(t,e,n){let i=t-e*60*1e3;const r=n.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const s=n.offset(i);return r===s?[i,r]:[t-Math.min(r,s)*60*1e3,Math.max(r,s)]}function Lg(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Pg(t,e,n){return q6(Ig(t),e,n)}function Y6(t,e){const n=t.o,i=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:i,month:r,day:Math.min(t.c.day,Tg(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=me.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Ig(s);let[l,c]=q6(a,n,t.zone);return o!==0&&(l+=o,c=t.zone.offset(l)),{ts:l,o:c}}function Bh(t,e,n,i,r,s){const{setZone:o,zone:a}=n;if(t&&Object.keys(t).length!==0||e){const l=e||a,c=Rt.fromObject(t,{...n,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return Rt.invalid(new zs("unparsable",`the input "${r}" can't be parsed as ${i}`))}function Dg(t,e,n=!0){return t.isValid?Bi.create(Oe.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function p3(t,e,n){const i=t.c.year>9999||t.c.year<0;let r="";if(i&&t.c.year>=0&&(r+="+"),r+=Gn(t.c.year,i?6:4),n==="year")return r;if(e){if(r+="-",r+=Gn(t.c.month),n==="month")return r;r+="-"}else if(r+=Gn(t.c.month),n==="month")return r;return r+=Gn(t.c.day),r}function Z6(t,e,n,i,r,s,o){let a=!n||t.c.millisecond!==0||t.c.second!==0,l="";switch(o){case"day":case"month":case"year":break;default:if(l+=Gn(t.c.hour),o==="hour")break;if(e){if(l+=":",l+=Gn(t.c.minute),o==="minute")break;a&&(l+=":",l+=Gn(t.c.second))}else{if(l+=Gn(t.c.minute),o==="minute")break;a&&(l+=Gn(t.c.second))}if(o==="second")break;a&&(!i||t.c.millisecond!==0)&&(l+=".",l+=Gn(t.c.millisecond,3))}return r&&(t.isOffsetFixed&&t.offset===0&&!s?l+="Z":t.o<0?(l+="-",l+=Gn(Math.trunc(-t.o/60)),l+=":",l+=Gn(Math.trunc(-t.o%60))):(l+="+",l+=Gn(Math.trunc(t.o/60)),l+=":",l+=Gn(Math.trunc(t.o%60)))),s&&(l+="["+t.zone.ianaName+"]"),l}const J6={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},aet={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},cet={ordinal:1,hour:0,minute:0,second:0,millisecond:0},jg=["year","month","day","hour","minute","second","millisecond"],uet=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],het=["year","ordinal","hour","minute","second","millisecond"];function $g(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new SC(t);return e}function X6(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return $g(t)}}function pet(t){if(xf===void 0&&(xf=bn.now()),t.type!=="iana")return t.offset(xf);const e=t.name;let n=d3.get(e);return n===void 0&&(n=t.offset(xf),d3.set(e,n)),n}function K6(t,e){const n=wl(e.zone,bn.defaultZone);if(!n.isValid)return Rt.invalid(_f(n));const i=Oe.fromObject(e);let r,s;if(Gt(t.year))r=bn.now();else{for(const l of jg)Gt(t[l])&&(t[l]=J6[l]);const o=c6(t)||u6(t);if(o)return Rt.invalid(o);const a=pet(n);[r,s]=Pg(t,a,n)}return new Rt({ts:r,zone:n,loc:i,o:s})}function Q6(t,e,n){const i=Gt(n.round)?!0:n.round,r=Gt(n.rounding)?"trunc":n.rounding,s=(a,l)=>(a=i3(a,i||n.calendary?0:2,n.calendary?"round":r),e.loc.clone(n).relFormatter(n).format(a,l)),o=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return s(o(n.unit),n.unit);for(const a of n.units){const l=o(a);if(Math.abs(l)>=1)return s(l,a)}return s(t>e?-0:0,n.units[n.units.length-1])}function tR(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let xf;const d3=new Map;class Rt{constructor(e){const n=e.zone||bn.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new zs("invalid input"):null)||(n.isValid?null:_f(n));this.ts=Gt(e.ts)?bn.now():e.ts;let r=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[r,s]=[e.old.c,e.old.o];else{const o=_l(e.o)&&!e.old?e.o:n.offset(this.ts);r=Lg(this.ts,o),i=Number.isNaN(r.year)?new zs("invalid input"):null,r=i?null:r,s=i?null:o}this._zone=n,this.loc=e.loc||Oe.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new Rt({})}static local(){const[e,n]=tR(arguments),[i,r,s,o,a,l,c]=n;return K6({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,n]=tR(arguments),[i,r,s,o,a,l,c]=n;return e.zone=Gi.utcInstance,K6({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,n={}){const i=zQ(e)?e.valueOf():NaN;if(Number.isNaN(i))return Rt.invalid("invalid input");const r=wl(n.zone,bn.defaultZone);return r.isValid?new Rt({ts:i,zone:r,loc:Oe.fromObject(n)}):Rt.invalid(_f(r))}static fromMillis(e,n={}){if(_l(e))return e<-H6||e>H6?Rt.invalid("Timestamp out of range"):new Rt({ts:e,zone:wl(n.zone,bn.defaultZone),loc:Oe.fromObject(n)});throw new Ii(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(_l(e))return new Rt({ts:e*1e3,zone:wl(n.zone,bn.defaultZone),loc:Oe.fromObject(n)});throw new Ii("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const i=wl(n.zone,bn.defaultZone);if(!i.isValid)return Rt.invalid(_f(i));const r=Oe.fromObject(n),s=Og(e,X6),{minDaysInFirstWeek:o,startOfWeek:a}=l6(s,r),l=bn.now(),c=Gt(n.specificOffset)?i.offset(l):n.specificOffset,p=!Gt(s.ordinal),d=!Gt(s.year),f=!Gt(s.month)||!Gt(s.day),y=d||f,g=s.weekYear||s.weekNumber;if((y||p)&&g)throw new kh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&p)throw new kh("Can't mix ordinal dates with month/day");const b=g||s.weekday&&!y;let x,A,M=Lg(l,c);b?(x=uet,A=aet,M=Ag(M,o,a)):p?(x=het,A=cet,M=t3(M)):(x=jg,A=J6);let _=!1;for(const j of x){const z=s[j];Gt(z)?_?s[j]=A[j]:s[j]=M[j]:_=!0}const w=b?UQ(s,o,a):p?GQ(s):c6(s),T=w||u6(s);if(T)return Rt.invalid(T);const I=b?o6(s,o,a):p?a6(s):s,[O,k]=Pg(I,c,i),R=new Rt({ts:O,zone:i,o:k,loc:r});return s.weekday&&y&&e.weekday!==R.weekday?Rt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${R.toISO()}`):R.isValid?R:Rt.invalid(R.invalid)}static fromISO(e,n={}){const[i,r]=Ctt(e);return Bh(i,r,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[i,r]=Rtt(e);return Bh(i,r,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[i,r]=Ltt(e);return Bh(i,r,n,"HTTP",n)}static fromFormat(e,n,i={}){if(Gt(e)||Gt(n))throw new Ii("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=i,o=Oe.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[a,l,c,p]=oet(o,e,n);return p?Rt.invalid(p):Bh(a,l,i,`format ${n}`,e,c)}static fromString(e,n,i={}){return Rt.fromFormat(e,n,i)}static fromSQL(e,n={}){const[i,r]=Gtt(e);return Bh(i,r,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new Ii("need to specify a reason the DateTime is invalid");const i=e instanceof zs?e:new zs(e,n);if(bn.throwOnInvalid)throw new fQ(i);return new Rt({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const i=W6(e,Oe.fromObject(n));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,n={}){return B6(Bi.parseFormat(e),Oe.fromObject(n)).map(i=>i.val).join("")}static resetCache(){xf=void 0,d3.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?u3(this).weekYear:NaN}get weekNumber(){return this.isValid?u3(this).weekNumber:NaN}get weekday(){return this.isValid?u3(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?h3(this).weekday:NaN}get localWeekNumber(){return this.isValid?h3(this).weekNumber:NaN}get localWeekYear(){return this.isValid?h3(this).weekYear:NaN}get ordinal(){return this.isValid?t3(this.c).ordinal:NaN}get monthShort(){return this.isValid?Cg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Cg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Cg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Cg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,i=Ig(this.c),r=this.zone.offset(i-e),s=this.zone.offset(i+e),o=this.zone.offset(i-r*n),a=this.zone.offset(i-s*n);if(o===a)return[this];const l=i-o*n,c=i-a*n,p=Lg(l,o),d=Lg(c,a);return p.hour===d.hour&&p.minute===d.minute&&p.second===d.second&&p.millisecond===d.millisecond?[qc(this,{ts:l}),qc(this,{ts:c})]:[this]}get isInLeapYear(){return yf(this.year)}get daysInMonth(){return Tg(this.year,this.month)}get daysInYear(){return this.isValid?Lh(this.year):NaN}get weeksInWeekYear(){return this.isValid?gf(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?gf(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:i,calendar:r}=Bi.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:i,outputCalendar:r}}toUTC(e=0,n={}){return this.setZone(Gi.instance(e),n)}toLocal(){return this.setZone(bn.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:i=!1}={}){if(e=wl(e,bn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(n||i){const s=e.offset(this.ts),o=this.toObject();[r]=Pg(o,s,e)}return qc(this,{ts:r,zone:e})}else return Rt.invalid(_f(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:i});return qc(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Og(e,X6),{minDaysInFirstWeek:i,startOfWeek:r}=l6(n,this.loc),s=!Gt(n.weekYear)||!Gt(n.weekNumber)||!Gt(n.weekday),o=!Gt(n.ordinal),a=!Gt(n.year),l=!Gt(n.month)||!Gt(n.day),c=a||l,p=n.weekYear||n.weekNumber;if((c||o)&&p)throw new kh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new kh("Can't mix ordinal dates with month/day");let d;s?d=o6({...Ag(this.c,i,r),...n},i,r):Gt(n.ordinal)?(d={...this.toObject(),...n},Gt(n.day)&&(d.day=Math.min(Tg(d.year,d.month),d.day))):d=a6({...t3(this.c),...n});const[f,y]=Pg(d,this.o,this.zone);return qc(this,{ts:f,o:y})}plus(e){if(!this.isValid)return this;const n=me.fromDurationLike(e);return qc(this,Y6(this,n))}minus(e){if(!this.isValid)return this;const n=me.fromDurationLike(e).negate();return qc(this,Y6(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const i={},r=me.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(i.weekNumber=this.weekNumber-1),i.weekday=s}else i.weekday=1;if(r==="quarters"){const s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Bi.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):c3}toLocaleString(e=xg,n={}){return this.isValid?Bi.create(this.loc.clone(n),e).formatDateTime(this):c3}toLocaleParts(e={}){return this.isValid?Bi.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:s=!1,precision:o="milliseconds"}={}){if(!this.isValid)return null;o=$g(o);const a=e==="extended";let l=p3(this,a,o);return jg.indexOf(o)>=3&&(l+="T"),l+=Z6(this,a,n,i,r,s,o),l}toISODate({format:e="extended",precision:n="day"}={}){return this.isValid?p3(this,e==="extended",$g(n)):null}toISOWeekDate(){return Dg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:s=!1,format:o="extended",precision:a="milliseconds"}={}){return this.isValid?(a=$g(a),(r&&jg.indexOf(a)>=3?"T":"")+Z6(this,o==="extended",n,e,i,s,a)):null}toRFC2822(){return Dg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Dg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?p3(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(n||e)&&(i&&(r+=" "),n?r+="z":e&&(r+="ZZ")),Dg(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():c3}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",i={}){if(!this.isValid||!e.isValid)return me.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=VQ(n).map(me.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=qtt(a,l,s,r);return o?c.negate():c}diffNow(e="milliseconds",n={}){return this.diff(Rt.now(),e,n)}until(e){return this.isValid?On.fromDateTimes(this,e):this}hasSame(e,n,i){if(!this.isValid)return!1;const r=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,i)<=r&&r<=s.endOf(n,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Rt.fromObject({},{zone:this.zone}),i=e.padding?this<n?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(r=e.unit,s=void 0),Q6(n,this.plus(i),{...e,numeric:"always",units:r,unit:s})}toRelativeCalendar(e={}){return this.isValid?Q6(e.base||Rt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Rt.isDateTime))throw new Ii("min requires all arguments be DateTimes");return d6(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Rt.isDateTime))throw new Ii("max requires all arguments be DateTimes");return d6(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,i={}){const{locale:r=null,numberingSystem:s=null}=i,o=Oe.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return V6(o,e,n)}static fromStringExplain(e,n,i={}){return Rt.fromFormatExplain(e,n,i)}static buildFormatParser(e,n={}){const{locale:i=null,numberingSystem:r=null}=n,s=Oe.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return new z6(s,e)}static fromFormatParser(e,n,i={}){if(Gt(e)||Gt(n))throw new Ii("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:s=null}=i,o=Oe.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new Ii(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:p}=n.explainFromTokens(e);return p?Rt.invalid(p):Bh(a,l,i,`format ${n.format}`,e,c)}static get DATE_SHORT(){return xg}static get DATE_MED(){return AC}static get DATE_MED_WITH_WEEKDAY(){return gQ}static get DATE_FULL(){return MC}static get DATE_HUGE(){return TC}static get TIME_SIMPLE(){return IC}static get TIME_WITH_SECONDS(){return NC}static get TIME_WITH_SHORT_OFFSET(){return OC}static get TIME_WITH_LONG_OFFSET(){return kC}static get TIME_24_SIMPLE(){return CC}static get TIME_24_WITH_SECONDS(){return RC}static get TIME_24_WITH_SHORT_OFFSET(){return LC}static get TIME_24_WITH_LONG_OFFSET(){return PC}static get DATETIME_SHORT(){return DC}static get DATETIME_SHORT_WITH_SECONDS(){return jC}static get DATETIME_MED(){return $C}static get DATETIME_MED_WITH_SECONDS(){return FC}static get DATETIME_MED_WITH_WEEKDAY(){return vQ}static get DATETIME_FULL(){return UC}static get DATETIME_FULL_WITH_SECONDS(){return GC}static get DATETIME_HUGE(){return BC}static get DATETIME_HUGE_WITH_SECONDS(){return zC}}function Ef(t){if(Rt.isDateTime(t))return t;if(t&&t.valueOf&&_l(t.valueOf()))return Rt.fromJSDate(t);if(t&&typeof t=="object")return Rt.fromObject(t);throw new Ii(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const det="HH:mm",fet="HH:mm:ss",met="HH:mm:ss.SSS",yet=[met,fet,det,"TT"],get="yyyy-MM-dd";function eR(t){if(!t||!Oh(t))return null;const e=Rt.fromFormat(t,get);return e.isValid?e:null}function nR(t){return t&&Oh(t)?QW(yet,e=>{const n=Rt.fromFormat(t,e);return n.isValid?n:null})??null:null}function iR(t){if(!t||!Oh(t))return null;const e=Rt.fromISO(t);return e.isValid?e:null}const rR=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function vet(t){return t!=null&&rR.has(t.type)}function sR(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function oR(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function aR(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}const bet=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);Sy(rR,bet);function wet(t,e){const n=t?.domain;if(!n||n.type!=="range")return;const i="range"in n?n.range[0]:n.minValue,r="range"in n?n.range[1]:n.maxValue,s=vet(t);return sR(t)||aR(t)||oR(t)?{..._et(t,r,i),isInteger:s}:{min:i!=null&&typeof i=="number"?i:null,max:r!=null&&typeof r=="number"?r:null,rawMin:i,rawMax:r,isInteger:s}}function _et(t,e,n){return sR(t)?{min:eR(n)?.toMillis(),max:eR(e)?.toMillis(),rawMin:n,rawMax:e}:aR(t)?{min:nR(n)?.toMillis(),max:nR(e)?.toMillis(),rawMin:n,rawMax:e}:oR(t)?{min:iR(n)?.toMillis(),max:iR(e)?.toMillis(),rawMin:n,rawMax:e}:{max:null,min:null}}function xet(t){if(!t)return;const e=t.match(Eet);return e?.groups?e.groups.doubleQuoted??e.groups.singleQuoted??e.groups.dotNotation:void 0}const Eet=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-z_][a-z0-9_]*))$/i;function Aet(t){return t.match(Met)?.[1]?.replaceAll("\\'","'")??null}const Met=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let f3;function lR(){return f3||(f3=(async()=>{const[t,e,n]=await Promise.all([import("./arcadeUtils-CLOtDjnz.js"),import("./batchExec-DaWALbLb.js"),import("./aiServices-BhAKf1Iw.js").then(i=>i.a)]);return{arcade:t.arcade,arcadeUtils:t,batchExec:e,aiServices:n,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel,Pixel:t.Pixel}})()),f3}const Tet=/^([0-9_])/,Iet=/[^a-z0-9_\u0080-\uffff]+/gi;function Net(t){return t==null?null:t.trim().replaceAll(Iet,"_").replace(Tet,"F$1")||null}const Oet=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],ket=["field","normalizationField"];function Cet(t,e){if(t!=null&&e!=null){for(const n of Array.isArray(t)?t:[t])if(cR(Oet,n,e),"visualVariables"in n&&n.visualVariables)for(const i of n.visualVariables)cR(ket,i,e)}}function cR(t,e,n){if(t)for(const i of t){const r=uy(i,e),s=r&&typeof r!="function"&&n.get(r);s&&el(i,s.name,e)}}function Ret(t,e){if(t!=null&&e?.fields?.length)if("startField"in t){const n=e.get(t.startField),i=e.get(t.endField);t.startField=n?.name??null,t.endField=i?.name??null}else{const n=e.get(t.startTimeField),i=e.get(t.endTimeField);t.startTimeField=n?.name??null,t.endTimeField=i?.name??null}}const m3=new Set;function Fg(t,e){return t&&e?(m3.clear(),zh(m3,t,e),Array.from(m3).sort()):[]}function zh(t,e,n){if(n)if(e?.fields?.length)if(n.includes("*"))for(const{name:i}of e.fields)t.add(i);else for(const i of n)Vh(t,e,i);else{if(n.includes("*"))return t.clear(),void t.add("*");for(const i of n)i!=null&&t.add(i)}}function Vh(t,e,n){if(typeof n=="string")if(e){const i=e.get(n);i&&t.add(i.name)}else t.add(n)}function Let(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(n=>n.name):e}function Pet(t,e,n=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const i=Fg(t,e);return i.length/t.fields.length>=n?["*"]:i}async function El(t,e,n,i){if(!i)return;const r=xet(i);if(r)Vh(t,e,r);else{const{arcadeUtils:s}=await lR(),o=s.extractFieldNames(i,n?.partitions??e?.fields?.map(a=>a.name));for(const a of o)Vh(t,n?.index??e,a)}}async function Ug(t,e,n){if(n&&n!=="1=1"){const i=await xC(n,e);if(!i.isStandardized)throw new le("fieldUtils:collectFilterFields","Where clause is not standardized",{where:n});zh(t,e,i.fieldNames)}}function Det({displayField:t,fields:e}){return t||(e?.length?jet(e):null)}function jet(t){return y3(t,"name-or-title")||y3(t,"unique-identifier")||y3(t,"type-or-category")||$et(t)}function $et(t){for(const e of t){if(!e?.name)continue;const n=e.name.toLowerCase();if(n.includes("name")||n.includes("title"))return e.name}return null}function y3(t,e){for(const n of t)if(n?.valueType&&n.valueType===e)return n.name;return null}async function Fet(t,e){if(!e)return;const n=e.elevationInfo?.featureExpressionInfo;return n?n.collectRequiredFields(t,e.fieldsIndex):void 0}function Uet(t,e,n){n.onStatisticExpression?El(t,e,null,n.onStatisticExpression.expression):t.add(n.onStatisticField)}async function Get(t,e,n){if(!e||!n||!("fields"in n))return;const i=[],r=n.popupTemplate;i.push(uR(t,e,r)),n.fields&&i.push(...n.fields.map(async s=>Uet(t,e.fieldsIndex,s))),await Promise.all(i)}async function Bet(t,e){const{fieldsIndex:n,trackInfo:i}=e;if(!e||!i||!n)return;const r=[i.latestObservations.renderer?.collectRequiredFields(t,n),i.previousObservations.renderer?.collectRequiredFields(t,n),i.trackLines.renderer?.collectRequiredFields(t,n)];i.popupTemplate&&r.push(uR(t,e,i.popupTemplate));for(const s of[i.latestObservations.labelingInfo,i.previousObservations.labelingInfo,i.trackLines.labelingInfo])if(s)for(const o of s)r.push(dR(t,n,o));await Promise.all(r)}async function uR(t,e,n){const i=[];n?.expressionInfos&&i.push(...n.expressionInfos.map(s=>El(t,e.fieldsIndex,null,s.expression)));const r=n?.content;if(Array.isArray(r))for(const s of r)s.type==="expression"&&s.expressionInfo&&i.push(El(t,e.fieldsIndex,null,s.expressionInfo.expression));await Promise.all(i)}async function zet(t,e,n){e&&(e.timeInfo&&n?.timeExtent&&zh(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&zh(t,e.fieldsIndex,[e.floorInfo.floorField]),n?.where!=null&&await Ug(t,e.fieldsIndex,n.where))}async function Vet(t,e,n){e&&n&&await Promise.all(n.map(i=>Wet(t,e,i)))}async function Wet(t,e,n){e&&n&&(n.valueExpression?await El(t,e.fieldsIndex,null,n.valueExpression):n.field&&Vh(t,e.fieldsIndex,n.field))}function Het(t){return t?Fg(t.fieldsIndex,hR(t)):[]}function qet(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?Fg(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function Yet(t,e,n){if(!e||!n)return;const i=e.fieldsIndex;await Promise.all(n.filters.map(r=>Ug(t,i,r.where)))}const Zet=new Set(["oid","global-id","guid"]),Jet=new Set(["oid","global-id"]),Xet=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function Ket(t){const e=new Set;pR(t).forEach(i=>e.add(i)),qet(t).forEach(i=>e.add(i.toLowerCase()));const n=t&&"infoFor3D"in t?t.infoFor3D:void 0;return n&&(Object.values(n.assetMapFieldRoles).forEach(i=>e.add(i.toLowerCase())),Object.values(n.transformFieldRoles).forEach(i=>e.add(i.toLowerCase()))),Array.from(e)}function hR(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:n,creatorField:i,editDateField:r,editorField:s}=e;return[n,i,r,s].filter(Boolean)}function pR(t){return hR(t).map(e=>e.toLowerCase())}function Qet(t,e){return t.editable&&!Zet.has(t.type)&&!pR(e).includes(t.name?.toLowerCase()??"")}function tnt(t,e){const n=t.name?.toLowerCase()??"";return!(e?.objectIdField!=null&&n===e.objectIdField.toLowerCase()||e?.globalIdField!=null&&n===e.globalIdField.toLowerCase()||Ket(e).includes(n)||Jet.has(t.type)||Xet.some(i=>i.test(n)))}async function ent(t,e){const{labelingInfo:n,fieldsIndex:i}=e;n?.length&&await Promise.all(n.map(r=>dR(t,i,r)))}async function dR(t,e,n){if(!n)return;const i=n.getLabelExpression(),r=n.where;if(i.type==="arcade")await El(t,e,null,i.expression);else{const s=i.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{Vh(t,e,o.slice(1,-1))})}await Ug(t,e,r)}function nnt(t){const e=t.defaultValue;return e!==void 0&&mR(t,e)?e:t.nullable?null:void 0}function int(t){const e=typeof t=="string"?{type:t}:t;return gR(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function fR(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function rnt(t){return t===null||fR(t)}function snt(t){return t===null||Number.isInteger(t)}function ont(){return!0}function mR(t,e){let n;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":n=t.nullable?snt:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=t.nullable?rnt:fR;break;case"string":case"esriFieldTypeString":n=t.nullable?EC:Oh;break;default:n=ont}return arguments.length===1?n:n(e)}const ant=["integer","small-integer","big-integer","long"],lnt=["single","double"],cnt=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],unt=["esriFieldTypeSingle","esriFieldTypeDouble"],yR=new Set([...ant,...cnt]),hnt=new Set([...lnt,...unt]),pnt=Sy(yR,hnt);function dnt(t){return t!=null&&yR.has(t.type)}function g3(t){return t!=null&&pnt.has(t.type)}function gR(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function vR(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function bR(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function wR(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function _R(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function fnt(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function mnt(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function ynt(t,e){return xR(t,e)===null}function gnt(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function xR(t,e){return t==null||t.nullable&&e===null?null:mR(t,e)?g3(t)&&!vnt(t.type,Number(e))?"numeric-range-validation-error::out-of-range":null:"type-validation-error::invalid-type"}function vnt(t,e){const n=typeof t=="string"?ER(t):t;if(!n)return!1;const i=n.min,r=n.max;return n.isInteger?Number.isInteger(e)&&e>=i&&e<=r:e>=i&&e<=r}function ER(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return bnt;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return wnt;case"esriFieldTypeBigInteger":case"big-integer":return _nt;case"esriFieldTypeSingle":case"single":return xnt;case"esriFieldTypeDouble":case"double":return Ent}}const bnt={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},wnt={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},_nt={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Gg=(2-2**-23)*2**127,xnt={min:-Gg,max:Gg,isInteger:!1,rawMin:-Gg,rawMax:Gg},Ent={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Snt(t,e,n){switch(t){case"domain-validation-error::invalid-coded-value":return`Value ${n} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"domain-validation-error::value-out-of-range":return`Value ${n} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"type-validation-error::invalid-type":return`Value ${n} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case"numeric-range-validation-error::out-of-range":{const{min:i,max:r}=ER(e.type);return`Value ${n} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${i} to ${r}`}}}function Ant(t,e){return!Mnt(t,e,null)}function Mnt(t,e,n){if(!t?.attributes||!e)return!0;const i=new Set(Object.keys(t.attributes));let r=!1;for(const s of e)if(!i.has(s)&&(r=!0,n==null))break;return r}function Tnt(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function SR(t){const e=t?.match(/{[^}]+}/g);return e?e.map(n=>n.slice(1,-1).split(":")[0].trim()):[]}let Bg=class extends Yt{constructor(t){super(t),this.type=null}};v([E({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],Bg.prototype,"type",void 0),Bg=v([nt("esri.popup.content.Content")],Bg);const pa=Bg,zg=new Ps({asc:"ascending",desc:"descending"});let Sf=class extends qi(Yt){constructor(t){super(t),this.field=null,this.order="ascending"}};v([E({type:String,json:{write:!0}})],Sf.prototype,"field",void 0),v([E({type:zg.apiValues,json:{type:zg.jsonValues,read:zg.read,write:zg.write}})],Sf.prototype,"order",void 0),Sf=v([nt("esri.popup.support.AttachmentsOrderByInfo")],Sf);const AR=Sf;let bo=class extends qi(pa){constructor(t){super(t),this.attachmentKeywords=null,this.attachmentTypes=null,this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};v([E({type:[String],json:{write:!0}})],bo.prototype,"attachmentKeywords",void 0),v([E({type:[["application","audio","image","model","text","video"]],json:{write:!0}})],bo.prototype,"attachmentTypes",void 0),v([E({type:String,json:{write:!0}})],bo.prototype,"description",void 0),v([E({type:["auto","preview","list"],json:{write:!0}})],bo.prototype,"displayType",void 0),v([E({type:[AR],json:{write:!0}})],bo.prototype,"orderByFields",void 0),v([E({type:String,json:{write:!0}})],bo.prototype,"title",void 0),v([E({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],bo.prototype,"type",void 0),bo=v([nt("esri.popup.content.AttachmentsContent")],bo);const Wh=bo;var v3;let Yc=v3=class extends pa{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new v3({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?yt(this.outFields):null})}};v([E()],Yc.prototype,"creator",void 0),v([E()],Yc.prototype,"destroyer",void 0),v([E()],Yc.prototype,"outFields",void 0),v([E({type:["custom"],readOnly:!0})],Yc.prototype,"type",void 0),Yc=v3=v([nt("esri.popup.content.CustomContent")],Yc);const Int=Yc;var b3;let Hh=b3=class extends Yt{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new b3({title:this.title,expression:this.expression})}};v([E({type:String,json:{write:!0}})],Hh.prototype,"title",void 0),v([E({type:String,json:{write:!0}})],Hh.prototype,"expression",void 0),v([E({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Hh.prototype,"returnType",void 0),Hh=b3=v([nt("esri.popup.ElementExpressionInfo")],Hh);const MR=Hh;var w3;let Af=w3=class extends pa{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){return new w3({expressionInfo:this.expressionInfo?.clone()})}};v([E({type:MR,json:{write:!0}})],Af.prototype,"expressionInfo",void 0),v([E({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Af.prototype,"type",void 0),Af=w3=v([nt("esri.popup.content.ExpressionContent")],Af);const Vg=Af;function re(t,e={}){const n=t instanceof Ps?t:new Ps(t,e),{alwaysWriteDefaults:i,default:r,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=e;return E({type:s?n.apiValues:String,json:{type:n.jsonValues,default:r,name:o,read:!l&&{reader:n.read},write:{writer:n.write,alwaysWriteDefaults:i}},nonNullable:a,readOnly:l})}let Wg=class extends qi(Yt){constructor(t){super(t),this.type=null}};v([E({type:["date-time","number"],nonNullable:!0,readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Wg.prototype,"type",void 0),Wg=v([nt("esri.layers.support.FieldFormat")],Wg);const _3=Wg,TR="auto";let da=class extends _3{constructor(t){super(t),this.dateStyle=null,this.hour12=TR,this.month=null,this.timeStyle=null,this.type="date-time",this.year=null}};v([E({type:["full","long","medium","short"],json:{write:!0}})],da.prototype,"dateStyle",void 0),v([E({type:["always","auto","never"],nonNullable:!0,json:{default:TR,write:!0}})],da.prototype,"hour12",void 0),v([E({type:["long","short"],json:{write:!0}})],da.prototype,"month",void 0),v([E({type:["full","long","medium","short"],json:{write:!0}})],da.prototype,"timeStyle",void 0),v([E({type:["date-time"]})],da.prototype,"type",void 0),v([E({type:["numeric"],json:{write:!0}})],da.prototype,"year",void 0),da=v([nt("esri.layers.support.DateTimeFieldFormat")],da);const Sl=da,IR={min:0,max:20},NR=2,OR=0,kR="decimal",CR="auto";let Al=class extends _3{constructor(t){super(t),this.maximumFractionDigits=NR,this.minimumFractionDigits=OR,this.style=kR,this.type="number",this.useGrouping=CR}};v([E({type:cn,nonNullable:!0,range:IR,json:{default:NR,write:!0}})],Al.prototype,"maximumFractionDigits",void 0),v([E({type:cn,nonNullable:!0,range:IR,json:{default:OR,write:!0}})],Al.prototype,"minimumFractionDigits",void 0),v([E({type:["decimal"],nonNullable:!0,json:{default:kR,write:!0}})],Al.prototype,"style",void 0),v([E({type:["number"]})],Al.prototype,"type",void 0),v([E({type:["always","auto","never"],nonNullable:!0,json:{default:CR,write:!0}})],Al.prototype,"useGrouping",void 0),Al=v([nt("esri.layers.support.NumberFieldFormat")],Al);const Hg=Al;let Mf;const Nnt=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,x3=globalThis.document?.documentElement;function RR(){const t=x3?.getAttribute("lang"),e=globalThis.navigator?.language;return Nnt??t??e??"en"}function Zc(){return Mf===void 0&&(Mf=RR()),Mf}const Ont=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function LR(t=Zc()){return DR(t)?.language}function PR(t=Zc()){const e=DR(t);return e?.language&&e?.extlang?t.replace(`${e.language}-`,""):t}function DR(t=Zc()){return Ont.exec(t)?.groups}const qg=[];function knt(t){return qg.push(t),yn(()=>{qg.splice(qg.indexOf(t),1)})}const Yg=[];function jR(t){return Yg.push(t),yn(()=>Yg.splice(Yg.indexOf(t),1))}function $R(){const t=RR();Mf!==t&&([...Yg].forEach(e=>e(t)),Mf=t,[...qg].forEach(e=>e(t)))}globalThis.addEventListener?.("languagechange",$R),x3&&new MutationObserver(()=>{$R()}).observe(x3,{attributeFilter:["lang"]});const Jc="system",FR="unknown",Zg="UTC",Cnt=Intl.DateTimeFormat().resolvedOptions().timeZone,Rnt={dateStyle:void 0,year:void 0,month:void 0,day:void 0,weekday:void 0},Lnt={timeStyle:void 0,hour12:void 0,hourCycle:void 0,hour:void 0,minute:void 0,second:void 0},UR={timeZone:Zg},wo={year:"numeric",month:"numeric",day:"numeric"},Tf={year:"numeric",month:"long",day:"numeric"},If={year:"numeric",month:"short",day:"numeric"},Nf={year:"numeric",month:"long",weekday:"long",day:"numeric"},Ml={hour:"numeric",minute:"numeric"},Xc={...Ml,second:"numeric"},GR={hourCycle:"h23"},Of={...Ml,...GR},kf={...Xc,...GR},BR={"short-date":wo,"short-date-short-time":{...wo,...Ml},"short-date-short-time-24":{...wo,...Of},"short-date-long-time":{...wo,...Xc},"short-date-long-time-24":{...wo,...kf},"short-date-le":wo,"short-date-le-short-time":{...wo,...Ml},"short-date-le-short-time-24":{...wo,...Of},"short-date-le-long-time":{...wo,...Xc},"short-date-le-long-time-24":{...wo,...kf},"long-month-day-year":Tf,"long-month-day-year-short-time":{...Tf,...Ml},"long-month-day-year-short-time-24":{...Tf,...Of},"long-month-day-year-long-time":{...Tf,...Xc},"long-month-day-year-long-time-24":{...Tf,...kf},"day-short-month-year":If,"day-short-month-year-short-time":{...If,...Ml},"day-short-month-year-short-time-24":{...If,...Of},"day-short-month-year-long-time":{...If,...Xc},"day-short-month-year-long-time-24":{...If,...kf},"long-date":Nf,"long-date-short-time":{...Nf,...Ml},"long-date-short-time-24":{...Nf,...Of},"long-date-long-time":{...Nf,...Xc},"long-date-long-time-24":{...Nf,...kf},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Ml,"long-time":Xc},Pnt=Kr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),zR={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},Dnt=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),jnt=Dnt.find(({type:t})=>t==="month")?.value.toLowerCase();function VR(){const t=LR();return(t&&zR[t])??PR()}jnt!=="mart"&&(zR.bs="sr-Latn-CS");let E3=new WeakMap;const Jg=BR["short-date-short-time"];function $nt(t){let e=E3.get(t);if(!e){const n=VR(),i=Kg(t.timeZone??Jc),r={...t,timeZone:i};e=new Intl.DateTimeFormat(n,r),E3.set(t,e)}return e}function Fnt(t){return BR[t]}function Unt(t){const{dateStyle:e,timeStyle:n,hour12:i,year:r,month:s}=t,o={};return e?o.dateStyle=e:r&&(o.year=r,o.month=s||void 0),n&&!o.year&&(o.timeStyle=n,o.hour12=i==="auto"?void 0:i==="always"),o}function Xg(t,e=Jg){return $nt(e).format(t)}function Gnt(t,e=Jg){return Xg(new Date(t),{...e,...UR,...Lnt})}function Bnt(t,e=Jg){return Xg(new Date(`1970-01-01T${t}Z`),{...e,...UR,...Rnt})}function znt(t,e=Jg){if(e.timeZone)return Xg(new Date(t),e);const n=Rt.fromISO(t,{setZone:!0}),i=n.offset===0?Zg:e.timeZone,r={...e,timeZone:i};return n.toLocaleString(r,{locale:VR()})}function Kg(t){switch(t){case Jc:return Cnt;case FR:return Zg;default:return t}}jR(()=>{E3=new WeakMap});let qh=class extends qi(Yt){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};v([re(Pnt)],qh.prototype,"dateFormat",void 0),v([E({type:Boolean,json:{write:!0}})],qh.prototype,"digitSeparator",void 0),v([E({type:cn,json:{write:!0}})],qh.prototype,"places",void 0),qh=v([nt("esri.popup.support.FieldInfoFormat")],qh);const Kc=qh,WR={base:_3,key:"type",errorContext:"field-configuration-field-format",typeMap:{"date-time":Sl,number:Hg}};function Vnt(t,e){const{format:n}=t;return e&&Cf(e)?n?HR(n,e):Rf(e,{hour12:"always",useGrouping:"always"}):null}function HR(t,e){const{dateFormat:n}=t;if(!e)return n?ZR(t):YR(t);if(!Cf(e))return;const i={hour12:"always"};switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return qR(t);case"single":case"double":return YR(t);case"date":case"timestamp-offset":return n?ZR(t):Rf(e,i);case"date-only":return n?Wnt(t):Rf(e);case"time-only":return n?Hnt(t):Rf(e,i)}}function Cf(t){return g3(t)||vR(t)||bR(t)||_R(t)||wR(t)}function qR(t){return new Hg({useGrouping:t.digitSeparator?"always":"never"})}function YR(t){const e=qR(t),{places:n}=t;return e.minimumFractionDigits=n??0,e.maximumFractionDigits=n??2,e}function ZR(t){return new Sl({dateStyle:JR(t),year:t8(t),month:KR(t),timeStyle:QR(t),hour12:XR(t)})}function Wnt(t){return new Sl({dateStyle:JR(t),year:t8(t),month:KR(t)})}function Hnt(t){return new Sl({timeStyle:QR(t),hour12:XR(t)})}function JR(t){const{dateFormat:e}=t;return e?e.startsWith("short-date")?"short":e.startsWith("day-short-month-year")?"medium":e.startsWith("long-month-day-year")?"long":e.startsWith("long-date")?"full":null:null}function XR(t){return t.dateFormat?.endsWith("-24")?"never":"always"}function KR(t){switch(t.dateFormat){case"short-month-year":return"short";case"long-month-year":return"long";default:return null}}function QR(t){const{dateFormat:e}=t;return e?e.includes("short-time")?"short":e.includes("long-time")?"medium":null:null}function t8(t){switch(t.dateFormat){case"short-month-year":case"long-month-year":case"year":return"numeric";default:return null}}function e8(t,e){const n=t.type==="number",i=t.type==="date-time";if(!e)return n?i8(t):i?r8(t):null;if(Cf(e))switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return n?n8(t):null;case"single":case"double":return n?i8(t):null;case"date":case"timestamp-offset":return i?r8(t):null;case"date-only":return i?qnt(t):null;case"time-only":return i?Ynt(t):null}}function n8(t){return new Kc({digitSeparator:t.useGrouping!=="never"})}function i8(t){const e=n8(t);return e.places=t.maximumFractionDigits,e}function r8(t){let e;const n=s8(t),i=o8(t),r=t.hour12==="never"?"24":null,s=t.year==="numeric"?"year":null,o=a8(t);return n&&i&&r?e=`${n}-${i}-${r}`:n&&i?e=`${n}-${i}`:n?e=n:s&&o?e=`${o}-${s}`:s&&(e=s),e?new Kc({dateFormat:e}):null}function qnt(t){let e;const n=s8(t),i=t.year==="numeric"?"year":null,r=a8(t);return n?e=n:i&&r?e=`${r}-${i}`:i&&(e=i),e?new Kc({dateFormat:e}):null}function Ynt(t){let e;const n=o8(t),i=t.hour12==="never"?"24":null;return n&&i?e=`short-date-${n}-${i}`:n&&(e=`short-date-${n}`),e?new Kc({dateFormat:e}):null}function s8(t){switch(t.dateStyle){case"short":return"short-date";case"medium":return"day-short-month-year";case"long":return"long-month-day-year";case"full":return"long-date";default:return}}function o8(t){return t.timeStyle&&(t.timeStyle==="short"?"short-time":"long-time")}function a8(t){switch(t.month){case"short":return"short-month";case"long":return"long-month";default:return}}function Rf(t,e){if(!Cf(t))return;const n=e?.useGrouping??"auto",i=e?.hour12??"auto";switch(t.type){case"integer":case"small-integer":case"big-integer":case"long":return new Hg({minimumFractionDigits:0,maximumFractionDigits:0,useGrouping:n});case"single":case"double":return new Hg({minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:n});case"date":case"timestamp-offset":return new Sl({dateStyle:"short",timeStyle:"short",hour12:i});case"date-only":return new Sl({dateStyle:"short"});case"time-only":return new Sl({timeStyle:"short",hour12:i})}}let jr=class extends qi(Yt){constructor(t){super(t),this.fieldName=null,this.isEditable=!0,this.label=null,this.statisticType=null,this.stringFieldOption="text-box",this.tooltip=null,this.visible=!0}set fieldFormat(t){this._set("fieldFormat",t),this._set("format",t?e8(t):null)}set format(t){this._set("format",t),this._set("fieldFormat",t?HR(t):null)}readFormat(t,e){if(!e.fieldFormat)return t?Kc.fromJSON(t):null}clone(){const t=super.clone();return t._set("format",this.format?.clone()),t._set("fieldFormat",this.fieldFormat?.clone()),t}};v([E({value:null,clonable:!1,types:WR,json:{write:{overridePolicy(t,e,n){const{fieldName:i}=this;return{enabled:!!i&&!i.startsWith("expression/")&&!i.startsWith("relationships/")&&!!n?.writeFieldFormat}}}}})],jr.prototype,"fieldFormat",null),v([E({type:String,json:{write:!0}})],jr.prototype,"fieldName",void 0),v([E({value:null,clonable:!1,type:Kc,json:{write:!0}})],jr.prototype,"format",null),v([gn("format")],jr.prototype,"readFormat",null),v([E({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],jr.prototype,"isEditable",void 0),v([E({type:String,json:{write:!0}})],jr.prototype,"label",void 0),v([E({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],jr.prototype,"statisticType",void 0),v([re(new Ps({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],jr.prototype,"stringFieldOption",void 0),v([E({type:String,json:{write:!0}})],jr.prototype,"tooltip",void 0),v([E({type:Boolean,json:{write:!0}})],jr.prototype,"visible",void 0),jr=v([nt("esri.popup.FieldInfo")],jr);const S3=jr;var A3;let Tl=A3=class extends pa{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}clone(){return new A3(yt({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};v([E({type:Object,json:{write:!0}})],Tl.prototype,"attributes",void 0),v([E({type:String,json:{write:!0}})],Tl.prototype,"description",void 0),v([E({type:[S3],json:{write:!0}})],Tl.prototype,"fieldInfos",void 0),v([E({type:String,json:{write:!0}})],Tl.prototype,"title",void 0),v([E({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Tl.prototype,"type",void 0),Tl=A3=v([nt("esri.popup.content.FieldsContent")],Tl);const Yh=Tl;let Qc=class extends Yt{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};v([E({type:String,json:{write:!0}})],Qc.prototype,"altText",void 0),v([E({type:String,json:{write:!0}})],Qc.prototype,"caption",void 0),v([E({type:String,json:{write:!0}})],Qc.prototype,"title",void 0),v([E({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Qc.prototype,"type",void 0),Qc=v([nt("esri.popup.content.mixins.MediaInfo")],Qc);const M3=Qc;var T3;let tu=T3=class extends Yn{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new T3({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};v([E()],tu.prototype,"color",void 0),v([E()],tu.prototype,"fieldName",void 0),v([E()],tu.prototype,"tooltip",void 0),v([E()],tu.prototype,"value",void 0),tu=T3=v([nt("esri.popup.content.support.ChartMediaInfoValueSeries")],tu);const l8=tu;var I3;let Il=I3=class extends Yt{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new I3({colors:yt(this.colors),fields:yt(this.fields),normalizeField:this.normalizeField,series:yt(this.series),tooltipField:this.tooltipField})}};v([E({type:[ge],json:{type:[[cn]],write:!0}})],Il.prototype,"colors",void 0),v([E({type:[String],json:{write:{isRequired:!0}}})],Il.prototype,"fields",void 0),v([E({type:String,json:{write:!0}})],Il.prototype,"normalizeField",void 0),v([E({type:[l8],json:{read:!1}})],Il.prototype,"series",void 0),v([E({type:String,json:{write:!0}})],Il.prototype,"tooltipField",void 0),Il=I3=v([nt("esri.popup.content.support.ChartMediaInfoValue")],Il);const Znt=Il;let Lf=class extends M3{constructor(t){super(t),this.type=null,this.value=void 0}};v([E({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Lf.prototype,"type",void 0),v([E({type:Znt,json:{write:{isRequired:!0}}})],Lf.prototype,"value",void 0),Lf=v([nt("esri.popup.content.mixins.ChartMediaInfo")],Lf);const Qg=Lf,t1=Kr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var N3;let e1=N3=class extends Qg{constructor(t){super(t),this.type="bar-chart"}clone(){return new N3({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:t1.write,isRequired:!0}}})],e1.prototype,"type",void 0),e1=N3=v([nt("esri.popup.content.BarChartMediaInfo")],e1);const c8=e1;var O3;let n1=O3=class extends Qg{constructor(t){super(t),this.type="column-chart"}clone(){return new O3({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:t1.write,isRequired:!0}}})],n1.prototype,"type",void 0),n1=O3=v([nt("esri.popup.content.ColumnChartMediaInfo")],n1);const u8=n1;var k3;let Pf=k3=class extends Yt{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new k3({linkURL:this.linkURL,sourceURL:this.sourceURL})}};v([E({type:String,json:{write:!0}})],Pf.prototype,"linkURL",void 0),v([E({type:String,json:{write:{isRequired:!0}}})],Pf.prototype,"sourceURL",void 0),Pf=k3=v([nt("esri.popup.content.support.ImageMediaInfoValue")],Pf);const Jnt=Pf;var C3;let Zh=C3=class extends M3{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new C3({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};v([E({type:Number,json:{write:!0}})],Zh.prototype,"refreshInterval",void 0),v([E({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Zh.prototype,"type",void 0),v([E({type:Jnt,json:{write:{isRequired:!0}}})],Zh.prototype,"value",void 0),Zh=C3=v([nt("esri.popup.content.ImageMediaInfo")],Zh);const h8=Zh;var R3;let i1=R3=class extends Qg{constructor(t){super(t),this.type="line-chart"}clone(){return new R3({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:t1.write,isRequired:!0}}})],i1.prototype,"type",void 0),i1=R3=v([nt("esri.popup.content.LineChartMediaInfo")],i1);const p8=i1;var L3;let r1=L3=class extends Qg{constructor(t){super(t),this.type="pie-chart"}clone(){return new L3({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:t1.write,isRequired:!0}}})],r1.prototype,"type",void 0),r1=L3=v([nt("esri.popup.content.PieChartMediaInfo")],r1);const d8=r1,P3={base:M3,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":c8,"column-chart":u8,"line-chart":p8,"pie-chart":d8,image:h8}};var D3;let Ws=D3=class extends pa{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?h8.fromJSON(e):e.type==="barchart"?c8.fromJSON(e):e.type==="columnchart"?u8.fromJSON(e):e.type==="linechart"?p8.fromJSON(e):e.type==="piechart"?d8.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(n=>n.toJSON())}clone(){return new D3(yt({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};v([E()],Ws.prototype,"activeMediaInfoIndex",void 0),v([E({type:Object,json:{write:!0}})],Ws.prototype,"attributes",void 0),v([E({type:String,json:{write:!0}})],Ws.prototype,"description",void 0),v([E({types:[P3]})],Ws.prototype,"mediaInfos",void 0),v([gn("mediaInfos")],Ws.prototype,"readMediaInfos",null),v([$e("mediaInfos")],Ws.prototype,"writeMediaInfos",null),v([E({type:String,json:{write:!0}})],Ws.prototype,"title",void 0),v([E({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ws.prototype,"type",void 0),Ws=D3=v([nt("esri.popup.content.MediaContent")],Ws);const Jh=Ws;var j3;let Df=j3=class extends Yt{constructor(t){super(t),this.field=null,this.order=null}clone(){return new j3({field:this.field,order:this.order})}};v([E({type:String,json:{write:!0}})],Df.prototype,"field",void 0),v([E({type:["asc","desc"],json:{write:!0}})],Df.prototype,"order",void 0),Df=j3=v([nt("esri.popup.support.RelatedRecordsInfoFieldOrder")],Df);const $3=Df;let _o=class extends qi(pa){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};v([E({type:String,json:{write:!0}})],_o.prototype,"description",void 0),v([E({type:Number,json:{type:cn,write:!0}})],_o.prototype,"displayCount",void 0),v([E({type:["list"],json:{write:{isRequired:!0}}})],_o.prototype,"displayType",void 0),v([E({type:[$3],json:{write:!0}})],_o.prototype,"orderByFields",void 0),v([E({type:Number,json:{type:cn,write:{isRequired:!0}}})],_o.prototype,"relationshipId",void 0),v([E({type:String,json:{write:!0}})],_o.prototype,"title",void 0),v([E({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],_o.prototype,"type",void 0),_o=v([nt("esri.popup.content.RelationshipContent")],_o);const jf=_o;var F3;let $f=F3=class extends pa{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new F3({text:this.text})}};v([E({type:String,json:{write:!0}})],$f.prototype,"text",void 0),v([E({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],$f.prototype,"type",void 0),$f=F3=v([nt("esri.popup.content.TextContent")],$f);const Xh=$f;let fa=class extends qi(Yt){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};v([E({type:String,json:{write:!0}})],fa.prototype,"title",void 0),v([E({type:String,json:{write:!0}})],fa.prototype,"description",void 0),v([E({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],fa.prototype,"type",void 0),v([E({type:Number,json:{type:cn,write:!0}})],fa.prototype,"associatedNetworkSourceId",void 0),v([E({type:Number,json:{type:cn,write:!0}})],fa.prototype,"associatedAssetGroup",void 0),v([E({type:Number,json:{type:cn,write:!0}})],fa.prototype,"associatedAssetType",void 0),fa=v([nt("esri.popup.support.UtilityNetworkAssociationType")],fa);const f8=fa;let Nl=class extends qi(pa){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};v([E({type:String,json:{write:!0}})],Nl.prototype,"description",void 0),v([E({type:Number,json:{type:cn,write:!0}})],Nl.prototype,"displayCount",void 0),v([E({type:String,json:{write:!0}})],Nl.prototype,"title",void 0),v([E({type:[f8],json:{write:!0}})],Nl.prototype,"associationTypes",void 0),v([re({utilityNetworkAssociations:"utility-network-associations"})],Nl.prototype,"type",void 0),Nl=v([nt("esri.popup.content.UtilityNetworkAssociationsContent")],Nl);const U3=Nl,Xnt={base:null,key:"type",typeMap:{attachment:Wh,media:Jh,text:Xh,expression:Vg,field:Yh,relationship:jf,utilityNetworkAssociations:U3}},Knt={base:null,key:"type",typeMap:{attachment:Wh,media:Jh,text:Xh,expression:Vg,field:Yh,relationship:jf}};var G3;let eu=G3=class extends Yt{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new G3({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};v([E({type:String,json:{write:!0}})],eu.prototype,"name",void 0),v([E({type:String,json:{write:!0}})],eu.prototype,"title",void 0),v([E({type:String,json:{write:!0}})],eu.prototype,"expression",void 0),v([E({type:["string","number"],json:{write:!0}})],eu.prototype,"returnType",void 0),eu=G3=v([nt("esri.popup.ExpressionInfo")],eu);const m8=eu;var B3;let Ff=B3=class extends Yt{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new B3({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};v([E({type:Boolean,json:{write:!0}})],Ff.prototype,"returnTopmostRaster",void 0),v([E({type:Boolean,json:{write:!0}})],Ff.prototype,"showNoDataRecords",void 0),Ff=B3=v([nt("esri.popup.LayerOptions")],Ff);const Qnt=Ff;var z3;let Uf=z3=class extends Yt{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new z3({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?yt(this.orderByFields):null})}};v([E({type:Boolean,json:{write:!0}})],Uf.prototype,"showRelatedRecords",void 0),v([E({type:[$3],json:{write:!0}})],Uf.prototype,"orderByFields",void 0),Uf=z3=v([nt("esri.popup.RelatedRecordsInfo")],Uf);const y8=Uf;let g8=0;const s1=t=>{const e=t;let n=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+g8++})}};return n=v([nt("esri.core.Identifiable")],n),n},tit=t=>{const e=t;let n=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:g8++})}};return n=v([nt("esri.core.Identifiable.NumericIdentifiable")],n),n};s1(class{});var V3;let cs=V3=class extends s1(Yn){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new V3({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};v([E()],cs.prototype,"active",void 0),v([E()],cs.prototype,"className",void 0),v([E()],cs.prototype,"disabled",void 0),v([E()],cs.prototype,"icon",void 0),v([E()],cs.prototype,"id",void 0),v([E()],cs.prototype,"indicator",void 0),v([E()],cs.prototype,"title",void 0),v([E()],cs.prototype,"type",void 0),v([E()],cs.prototype,"visible",void 0),cs=V3=v([nt("esri.support.actions.ActionBase")],cs);const o1=cs;var W3;let a1=W3=class extends o1{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new W3({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};v([E()],a1.prototype,"image",void 0),a1=W3=v([nt("esri.support.actions.ActionButton")],a1);const v8=a1;var H3;let Gf=H3=class extends o1{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new H3({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};v([E()],Gf.prototype,"image",void 0),v([E()],Gf.prototype,"value",void 0),Gf=H3=v([nt("esri.support.actions.ActionToggle")],Gf);const b8=Gf,Bf="relationships/",w8="expression/",eit=be.ofType({key:"type",defaultKeyValue:"button",base:o1,typeMap:{button:v8,toggle:b8}}),nit={base:pa,key:"type",typeMap:{media:Jh,custom:Int,text:Xh,attachments:Wh,fields:Yh,expression:Vg,relationship:jf,utilityNetworkAssociations:U3}},_8=new Set(["attachments","fields","media","text","expression","relationship"]),iit=new Set([..._8,"utility-network-associations"]);let Bn=class extends qi(Yt){constructor(t){super(t),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(e=>Sc(nit,e)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Ow(t)?t:(Pe.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,e){const{popupElements:n}=e;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(e.description,e.mediaInfos,n):this._readPopupInfo(e)}writeWebSceneContent(t,e,n,i){this._writePopupTemplateContent(t,e,i)}writeWebMapContent(t,e,n,i){this._writePopupTemplateContent(t,e,i)}writeFieldInfos(t,e,n,i){const{content:r}=this,s=Array.isArray(r)?r:null,{writeFieldFormat:o,...a}=i||{};if(t){const l=s?s.filter(p=>p.type==="fields"):[],c=l.length&&l.every(p=>p.fieldInfos?.length);e.fieldInfos=t.filter(Boolean).map(p=>{const d=p.toJSON(a);return c&&(d.visible=!1),d})}if(s)for(const l of s)l.type==="fields"&&this._writeFieldsContent(l,e,a)}writeLayerOptions(t,e,n,i){e[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(i)}writeTitle(t,e){e.title=t||""}async collectRequiredFields(t,e,n){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(t,e,n,[...i,...this._getContentExpressionInfos(this.content,i)]),zh(t,e,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t,e){const n=new Set;return await this.collectRequiredFields(n,t,e),[...n].sort()}_writePopupTemplateContent(t,e,n){typeof t!="string"?Array.isArray(t)&&(e.popupElements=t.filter(i=>n?.origin==="web-scene"?_8.has(i.type):iit.has(i.type)).map(i=>i?.toJSON(n)),e.popupElements.forEach(i=>{i.type==="attachments"?this._writeAttachmentContent(e):i.type==="media"?this._writeMediaContent(i,e):i.type==="text"?this._writeTextContent(i,e):i.type==="relationship"&&this._writeRelationshipContent(i,e)})):e.description=t}_writeFieldsContent(t,e,n){const i=t.fieldInfos;if(!Array.isArray(i)||!i.length)return;const r=e.fieldInfos;if(Array.isArray(r))for(const s of i){const o=r.find(a=>a.fieldName?.toLowerCase()===s.fieldName?.toLowerCase());o?o.visible=!0:r.push(s.toJSON(n))}else e.fieldInfos=i.map(s=>s.toJSON(n))}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,e){const n=t.orderByFields?.map(r=>this._toFieldOrderJSON(r,t.relationshipId))||[],i=[...e.relatedRecordsInfo?.orderByFields||[],...n];e.relatedRecordsInfo={showRelatedRecords:!0,...i?.length&&{orderByFields:i}}}_writeTextContent(t,e){!e.description&&t.text&&(e.description=t.text)}_writeMediaContent(t,e){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=yt(t.mediaInfos);Array.isArray(e.mediaInfos)?e.mediaInfos=[...e.mediaInfos,...n]:e.mediaInfos=n}_readPopupInfoElements(t,e,n){const i={description:!1,mediaInfos:!1};return n.map(r=>r.type==="media"?(r.mediaInfos||!e||i.mediaInfos||(r.mediaInfos=e,i.mediaInfos=!0),Jh.fromJSON(r)):r.type==="text"?(r.text||!t||i.description||(r.text=t,i.description=!0),Xh.fromJSON(r)):r.type==="attachments"?Wh.fromJSON(r):r.type==="fields"?Yh.fromJSON(r):r.type==="expression"?Vg.fromJSON(r):r.type==="relationship"?jf.fromJSON(r):r.type==="utilityNetworkAssociations"?U3.fromJSON(r):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:e,order:n}=t;if(!e?.startsWith(Bf))return null;const i=e.replace(Bf,"").split("/");if(i.length!==2)return null;const r=parseInt(i[0],10),s=i[1];return!Number.isNaN(r)&&s?jf.fromJSON({relationshipId:r,orderByFields:[{field:s,order:n}]}):null}_toFieldOrderJSON(t,e){const{order:n,field:i}=t;return{field:`${Bf}${e}/${i}`,order:n}}_readPopupInfo({description:t,mediaInfos:e,showAttachments:n,relatedRecordsInfo:i={showRelatedRecords:!1}}){const r=[];t?r.push(new Xh({text:t})):r.push(new Yh),Array.isArray(e)&&e.length&&r.push(Jh.fromJSON({mediaInfos:e})),n&&r.push(Wh.fromJSON({displayType:"auto"}));const{showRelatedRecords:s,orderByFields:o}=i;return s&&o?.length&&o.forEach(a=>{const l=this._toRelationshipContent(a);l&&r.push(l)}),r.length?r:t}_getContentElementFields(t){const e=t?.type;if(e==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(e==="custom")return t.outFields||[];if(e==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(e==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((i,r)=>[...i,...this._getMediaInfoFields(r)],[])]}return e==="text"?this._extractFieldNames(t.text):e==="relationship"||e==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:e,title:n,value:i}=t,r=i||{},{fields:s,normalizeField:o,tooltipField:a,sourceURL:l,linkURL:c}=r,p=[...this._extractFieldNames(n),...this._extractFieldNames(e),...this._extractFieldNames(l),...this._extractFieldNames(c),...s??[]];return o&&p.push(o),a&&p.push(a),p}_getContentExpressionInfos(t,e){return Array.isArray(t)?t.reduce((n,i)=>[...n,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],e):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((e,n)=>[...e,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,e,n,i){i&&await Promise.all(i.map(r=>El(t,e,n,r.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:e,visible:n})=>!(n!==void 0&&!n||!e||e.startsWith(Bf)||e.startsWith(w8))).map(e=>e.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((e,n)=>[...e,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:e,title:n,type:i}=t,r=i==="button"||i==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(e),...this._extractFieldNames(r)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return SR(t).filter(e=>!(e.startsWith(Bf)||e.startsWith(w8)))}};v([E({type:eit})],Bn.prototype,"actions",void 0),v([E()],Bn.prototype,"content",void 0),v([Sh("content")],Bn.prototype,"castContent",null),v([gn("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Bn.prototype,"readContent",null),v([$e("web-scene","content",{popupElements:{type:be.ofType(Knt)},showAttachments:{type:Boolean},mediaInfos:{type:be.ofType(P3)},description:{type:String},relatedRecordsInfo:{type:y8}})],Bn.prototype,"writeWebSceneContent",null),v([$e("content",{popupElements:{type:be.ofType(Xnt)},showAttachments:{type:Boolean},mediaInfos:{type:be.ofType(P3)},description:{type:String},relatedRecordsInfo:{type:y8}})],Bn.prototype,"writeWebMapContent",null),v([E({type:[m8],json:{write:!0}})],Bn.prototype,"expressionInfos",void 0),v([E({type:[S3]})],Bn.prototype,"fieldInfos",void 0),v([$e("fieldInfos")],Bn.prototype,"writeFieldInfos",null),v([E({type:Qnt})],Bn.prototype,"layerOptions",void 0),v([$e("layerOptions")],Bn.prototype,"writeLayerOptions",null),v([E({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Bn.prototype,"lastEditInfoEnabled",void 0),v([E()],Bn.prototype,"outFields",void 0),v([E()],Bn.prototype,"overwriteActions",void 0),v([E()],Bn.prototype,"returnGeometry",void 0),v([E({json:{type:String}})],Bn.prototype,"title",void 0),v([$e("title")],Bn.prototype,"writeTitle",null),Bn=v([nt("esri.PopupTemplate")],Bn);const x8=Bn,rit=Kr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),sit=Kr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),E8={base:mi,key:"type",typeMap:{extent:pe,multipoint:rs,point:ce,polyline:Hi,polygon:Zn}};function oit(t){return t.type==="point"}function ait(t){return t.type==="multipoint"}function lit(t){return t.type==="polygon"}function cit(t){return t.type==="polyline"}const q3=Symbol("idFieldsProviderSymbol");function uit(t){return!!t&&q3 in t}function S8(t){return uit(t)?t[q3]:void 0}const Y3=Symbol("popupProvider");function hit(t){return typeof t=="object"&&t!==null&&"popupEnabled"in t&&"popupTemplate"in t}function pit(t){return!!t&&Y3 in t}function A8(t){return pit(t)?t[Y3]:null}function dit(t,e){switch(e.type){case"object-id":case"unique-id-simple":return t.attributes[e.fieldName];case"unique-id-composite":{const n=[];for(const i of e.fieldNames)n.push(t.attributes[i]??null);return JSON.stringify(n)}}}function M8(t,e){if("uniqueIdFields"in e&&e.uniqueIdFields?.length){if(e.uniqueIdFields.length===1)return t.attributes?.[e.uniqueIdFields[0]];const n=e.uniqueIdFields.map(i=>t.attributes?.[i]);return JSON.stringify(n)}return"objectIdField"in e&&e.objectIdField?t.attributes?.[e.objectIdField]:null}const T8=new Ps({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let fit=0,wn=class extends Yt{constructor(t){super(t),this.id="sym"+fit++,this.type=null,this.color=new ge([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,e){}hash(){return JSON.stringify(this.toJSON())}clone(){}};v([E({type:T8.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:T8.write,isRequired:!0}}})],wn.prototype,"type",void 0),v([E({type:ge,json:{write:{allowNull:!0}}})],wn.prototype,"color",void 0),v([gn("color")],wn.prototype,"readColor",null),wn=v([nt("esri.symbols.Symbol")],wn);var Z3;let Yi=Z3=class extends wn{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){if(this.data?.type==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const i=n.map(r=>{const s=r.valueExpressionInfo;return s?El(t,e,null,s.expression):null});await Promise.all(i)}}}clone(){return new Z3({data:yt(this.data)})}hash(){return _w(JSON.stringify(this.data)).toString()}};v([E({json:{write:!1}})],Yi.prototype,"color",void 0),v([E({json:{write:!0}})],Yi.prototype,"data",void 0),v([gn("data",["symbol"])],Yi.prototype,"readData",null),v([$e("data",{})],Yi.prototype,"writeData",null),v([re({CIMSymbolReference:"cim"},{readOnly:!0})],Yi.prototype,"type",void 0),Yi=Z3=v([nt("esri.symbols.CIMSymbol")],Yi);function I8(t,e,n=be){return e||(e=new n),e===t||e.destroyed||(e.removeAll(),mit(t)?e.addMany(t):t&&e.add(t)),e}function N8(t){return t}function mit(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}let yit=class{constructor(){this._resolver=ch(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===1}isRejected(){return this._status===2}isFulfilled(){return this._status!==0}abort(){this._resolver.reject(Vi())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=ch(),e=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(e);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},i=>{this.isFulfilled()||this._allPromise!==n||Mc(i)||this._resolver.reject(i)}),t.resolve()}};const O8=t=>{const e=t;let n=class extends e{constructor(...i){super(...i),this._promiseProps=new yit,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}addResolvingTask(i){i&&!this._promiseProps.isFulfilled()&&(this.addHandles(WI(i)),this._promiseProps.addResolvingPromise(i.promise))}};return n=v([nt("esri.core.Promise")],n),n},k8=O8(Yn),git="not-loaded",vit="loading",bit="failed",C8="loaded",R8=t=>{const e=t;let n=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const s=this.load.bind(this);this.load=o=>{const a=new Promise((l,c)=>{const p=KI(o,c);this.destroyed&&c(new le("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(l,c).finally(()=>{p&&p.remove()})});if(this.loadStatus===git){this._set("loadStatus",vit);const l=this._loadController=new AbortController;s({signal:l.signal})}return r(),a}})),this.when(()=>{this._set("loadStatus",C8),this._loadController=null},r=>{this.destroyed||(this._set("loadStatus",bit),this._set("loadError",r),this._loadController=null)})}destroy(){this._loadController&&(this._loadController=YI(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===C8}get loadWarnings(){return this._get("loadWarnings")}load(i){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new le("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return v([E({readOnly:!0})],n.prototype,"loaded",null),v([E({readOnly:!0})],n.prototype,"loadError",void 0),v([E({clonable:!1})],n.prototype,"loadStatus",void 0),v([E({type:[ph],readOnly:!0})],n.prototype,"loadWarnings",null),n=v([nt("esri.core.Loadable")],n),n},J3=R8(k8);function wit(t){return!(!t||!t.load)}let l1;function _it(t){return l1&&!l1.destroyed||(l1=t()),l1}var X3;const xit=new Ps({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let _n=X3=class extends Yn{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new X3({categories:this.categories?yt(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let n=[];this.categories&&(n=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let i="";if(this.extent){const o=tx(this.extent,Ut.WGS84);o!=null&&(i=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let r=this.query;!this.disableExtraQuery&&t.extraQuery&&(r="("+r+")"+t.extraQuery);const s={categories:n,bbox:i,q:r,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>xit.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...e,...s}}}};v([E()],_n.prototype,"categories",void 0),v([E()],_n.prototype,"disableExtraQuery",void 0),v([E({type:pe})],_n.prototype,"extent",void 0),v([E()],_n.prototype,"filter",void 0),v([E()],_n.prototype,"num",void 0),v([E()],_n.prototype,"query",void 0),v([E()],_n.prototype,"sortField",void 0),v([E()],_n.prototype,"sortOrder",null),v([E()],_n.prototype,"start",void 0),_n=X3=v([nt("esri.portal.PortalQueryParams")],_n);var K3;let xn=K3=class extends Yt{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e&&this.portal?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.portal?.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const n=e.categorySchema||[];return n.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):n})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new le("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new K3({sourceJSON:t});return e.read(t),e}queryItems(t,e){let n=Xr(_n,t);const i=this.portal;return parseFloat(i.currentVersion)>5?(n=n||new _n,i.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",e)):(n=n?n.clone():new _n,n.query="group:"+this.id+(n.query?" "+n.query:""),i.queryItems(n,e))}_fetchCategorySchemaSet(t,e){const n=this.portal;return n.fetchSelf(n.authMode,!0,e).then(i=>{const r=i.contentCategorySetsGroupQuery;if(r){const s=new _n({disableExtraQuery:!0,num:1,query:r});return n.queryGroups(s,e)}throw new le("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const r=i.results[0],s=new _n({num:1,query:`typekeywords:"${t}"`});return r.queryItems(s,e)}throw new le("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",e).then(r=>{const s=r?.categorySchema;return s?.length?s:[]}):[])}};v([E()],xn.prototype,"access",void 0),v([E({type:Date})],xn.prototype,"created",void 0),v([E()],xn.prototype,"description",void 0),v([E()],xn.prototype,"id",void 0),v([E()],xn.prototype,"isInvitationOnly",void 0),v([E({type:Date})],xn.prototype,"modified",void 0),v([E()],xn.prototype,"owner",void 0),v([E()],xn.prototype,"portal",void 0),v([E()],xn.prototype,"snippet",void 0),v([E()],xn.prototype,"sortField",void 0),v([E()],xn.prototype,"sortOrder",void 0),v([E()],xn.prototype,"sourceJSON",void 0),v([E()],xn.prototype,"tags",void 0),v([E()],xn.prototype,"thumbnail",void 0),v([E({readOnly:!0})],xn.prototype,"thumbnailUrl",null),v([E()],xn.prototype,"title",void 0),v([E({readOnly:!0})],xn.prototype,"url",null),xn=K3=v([nt("esri.portal.PortalGroup")],xn);let nu=class extends Yn{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};v([E()],nu.prototype,"nextQueryParams",void 0),v([E()],nu.prototype,"queryParams",void 0),v([E()],nu.prototype,"results",void 0),v([E()],nu.prototype,"total",void 0),nu=v([nt("esri.portal.PortalQueryResult")],nu);let ma=class extends Yt{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new le("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};v([E({type:Date})],ma.prototype,"created",void 0),v([E()],ma.prototype,"id",void 0),v([E()],ma.prototype,"portal",void 0),v([E()],ma.prototype,"title",void 0),v([E({readOnly:!0})],ma.prototype,"url",null),v([E()],ma.prototype,"username",void 0),ma=v([nt("esri.portal.PortalFolder")],ma);var Q3;let Te=Q3=class extends Yt{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.id}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.id}`:null}addItem(t){const e=t&&t.item,n=t?.data,i=t?.folder,r={method:"post"};e&&(r.query=e.createPostQuery(),n!=null&&(typeof n=="string"?r.query.text=n:typeof n=="object"&&(r.query.text=JSON.stringify(n))));let s=this.userContentUrl;return i&&(s+="/"+(typeof i=="string"?i:i.id)),this.portal.request(s+"/addItem",r).then(o=>(e.id=o.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let n=this.userContentUrl;t.ownerFolder&&(n+="/"+t.ownerFolder);const i=e?{permanentDelete:!0}:{};await this.portal.request(n+`/items/${t.id}/delete`,{method:"post",query:i}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const n=this.userContentUrl+"/deleteItems",i=[],r=t.map(s=>s.id);if(r.length){const s={method:"post",query:{items:r.join(","),permanentDelete:e}},o=await this.portal.request(n,s);for(const a of o.results){const l=t.find(d=>a.itemId===d.id),c=a.success;let p=null;c?(l.id=null,l.portal=null):a.error&&(p=new le("portal:delete-item-failed",a.error.message,a.error)),i.push({item:l,success:c,error:p})}}return i}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let n;return n=e&&e.folders?e.folders.map(i=>{const r=ma.fromJSON(i);return r.portal=this.portal,r}):[],n})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(n=>{const i=xn.fromJSON(n);return i.portal=this.portal,i}):[],e})}async fetchItems(t){t??={};let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:n}=await import("./PortalItem-BrQqKoE_.js"),i={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},r=await this.portal.request(e,{query:i});let s;return r?.items?(s=r.items.map(o=>{const a=n.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:r.nextStart,total:r.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new xn({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new le("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const n=this.userContentUrl,i=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(n+`/items/${t.id}/restore`,{method:"post",query:i})}toJSON(){throw new le("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new Q3({sourceJSON:t});return e.read(t),e}};v([E()],Te.prototype,"access",void 0),v([E({type:Date})],Te.prototype,"created",void 0),v([E()],Te.prototype,"culture",void 0),v([E()],Te.prototype,"description",void 0),v([E()],Te.prototype,"email",void 0),v([E()],Te.prototype,"favGroupId",void 0),v([E()],Te.prototype,"fullName",void 0),v([E()],Te.prototype,"id",void 0),v([E({type:Date})],Te.prototype,"modified",void 0),v([E()],Te.prototype,"orgId",void 0),v([E()],Te.prototype,"portal",void 0),v([E()],Te.prototype,"preferredView",void 0),v([E()],Te.prototype,"privileges",void 0),v([E()],Te.prototype,"region",void 0),v([E()],Te.prototype,"role",void 0),v([E()],Te.prototype,"roleId",void 0),v([E()],Te.prototype,"sourceJSON",void 0),v([E()],Te.prototype,"thumbnail",void 0),v([E({readOnly:!0})],Te.prototype,"thumbnailUrl",null),v([E()],Te.prototype,"units",void 0),v([E({readOnly:!0})],Te.prototype,"userContentUrl",null),v([E({readOnly:!0})],Te.prototype,"url",null),v([E()],Te.prototype,"username",void 0),v([E()],Te.prototype,"userLicenseTypeId",void 0),v([E()],Te.prototype,"userType",void 0),Te=Q3=v([nt("esri.portal.PortalUser")],Te);var $r;let zf;const L8={PortalGroup:()=>Promise.resolve({default:xn}),PortalItem:()=>import("./PortalItem-BrQqKoE_.js"),PortalUser:()=>Promise.resolve({default:Te})};let ut=class extends l_(J3){static{$r=this}static{this.AUTH_MODE_ANONYMOUS="anonymous"}static{this.AUTH_MODE_AUTO="auto"}static{this.AUTH_MODE_IMMEDIATE="immediate"}static{this.AUTH_MODE_NO_PROMPT="no-prompt"}constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.g3DTilesGalleryGroupQuery=null,this.g3dTilesEnabled=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=he.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){P8.unregister(this),this.defaultBasemap=Pd(this.defaultBasemap),this.defaultDevBasemap=Pd(this.defaultDevBasemap),this.defaultVectorBasemap=Pd(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=ah(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const e of t)he.request.trustedServers.includes(e)||he.request.trustedServers.push(e);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const t=this.user?.orgId,e=!t||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get hasAPIKey(){return cZ(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get loaded(){return super.loaded}get restUrl(){let t=this.url;if(t){const e=t.indexOf("/sharing");t=e>0?t.slice(0,e):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,e=this.thumbnail;return t&&e?this._normalizeSSL(t+"/portals/self/resources/"+e):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let e=null;return t&&(e=Te.fromJSON(t),e.portal=this),e}load(t){const e=import("./Basemap-Dv-hYkd3.js").then(n=>n.B).then(({default:n})=>{lh(t),zf=n}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(n=>{if(!this.hasAPIKey&&Ge){const i=Ge;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==$r.AUTH_MODE_AUTO&&this.authMode!==$r.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",Eit(new WeakRef(this))),P8.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(e),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),e=(await import("./ElevationLayer-04itXRYh.js")).default;return t?t.map(n=>new e({id:n.id,url:n.url})):[]}async fetchBasemaps(t,e){const n=await this._fetchBasemaps(t,e);if(e?.include3d===!0&&this.use3dBasemaps!==!1){const i=await this._fetchBasemaps3D(t,e);n.unshift(...i)}return n}async fetchDefault3DBasemap(t){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const e=new _n;e.query=this.default3DBasemapQuery,e.disableExtraQuery=!0;const n=(await this.queryItems(e,t)).results.find(i=>i.type==="Web Scene");return n?new zf({portalItem:n}):null}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(e=>e.categorySchema):ia(t)?Promise.reject(Vi()):Promise.resolve([])}async fetchClassificationSchema(t){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",t).then(e=>e.classificationSchema):null}fetchFeaturedGroups(t){const e=this.featuredGroups,n=new _n({num:100,sortField:"title"});if(e?.length){const i=[];for(const r of e)i.push(`(title:"${r.title}" AND owner:${r.owner})`);return n.query=i.join(" OR "),this.queryGroups(n,t).then(r=>r.results)}return ia(t)?Promise.reject(Vi()):Promise.resolve([])}fetchRegions(t){const e=this.user?.culture||this.culture||Zc();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:e}})}fetchSettings(t){const e=this.user?.culture||this.culture||Zc();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:e}})}static getDefault(){return _it(()=>new $r)}queryGroups(t,e){return this.queryPortal("/community/groups",t,"PortalGroup",e)}queryItems(t,e){return this.queryPortal("/search",t,"PortalItem",e)}queryUsers(t,e){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",e)}fetchSelf(t=this.authMode,e=!1,n){const i=this.restUrl+"/portals/self",r={authMode:t,query:{culture:Zc().toLowerCase()},withCredentials:!0,...n};return r.authMode==="auto"&&(r.authMode="no-prompt"),e&&(r.query.default=!0),this.request(i,r)}queryPortal(t,e,n,i){const r=Xr(_n,e),s=o=>this.request(this.restUrl+t,{...r.toRequestOptions(this),...i}).then(a=>{const l=r.clone();return l.start=a.nextStart,new nu({nextQueryParams:l,queryParams:r,total:a.total,results:$r._resultsToTypedArray(o,{portal:this},a,i)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(XI(l),a)));return n&&L8[n]?L8[n]().then(({default:o})=>(lh(i),s(o))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new le("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===$r.AUTH_MODE_ANONYMOUS||this.authMode===$r.AUTH_MODE_NO_PROMPT&&!Ge)return Promise.reject(new le("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=e=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(e||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate"))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate"))).then(n=>{n&&(this.sourceJSON=n,this.read(n))});return Ge?Ge.getCredential(this.restUrl,{prompt:this.authMode!==$r.AUTH_MODE_NO_PROMPT}).then(e=>t(e)):t(this.credential)}normalizeUrl(t){const e=this.credential?.token;return this._normalizeSSL(e?t+(t.includes("?")?"&":"?")+"token="+e:t)}requestToTypedArray(t,e,n){return this.request(t,e).then(i=>{const r=$r._resultsToTypedArray(n,{portal:this},i);return Promise.all(r.map(s=>typeof s.when=="function"?s.when():i)).then(()=>r,()=>r)})}request(t,e={}){const n={f:"json",...e.query},{authMode:i=this.authMode===$r.AUTH_MODE_ANONYMOUS||this.authMode===$r.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:r=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=e,c={authMode:i,body:r,cacheBust:s,method:o,query:n,responseType:a,timeout:0,signal:l};return e.withCredentials&&(c.withCredentials=!0),vn(this._normalizeSSL(t),c).then(p=>p.data)}toJSON(){throw new le("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new $r({sourceJSON:t})}_getHelperService(t){const e=this.helperServices?.[t];if(!e)throw new le("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return e}async _fetchBasemaps(t,e){const n=new _n;n.query=t||(O_()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const i=await this.queryGroups(n,e);if(!i.total)return[];const r=i.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=r.sortField||"name",n.sortOrder=r.sortOrder||"desc";const s=await r.queryItems(n,e);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new zf({portalItem:o})):[]}async _fetchBasemaps3D(t,e){const n=t||this.basemapGalleryGroupQuery3D;if(!n)return[];if(O_())return[];const i=new _n({query:n,disableExtraQuery:!0}),r=await this.queryGroups(i,e);if(!r.total)return[];const s=r.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(i,e);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new zf({portalItem:a})):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const e=zf.fromJSON(t);return e.portalItem={portal:this},e}return null}static _resultsToTypedArray(t,e,n,i){let r;if(n){const s=i!=null?i.signal:null;r=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(t||e)&&(r=r.map(o=>{const a=Object.assign(t?t.fromJSON(o):o,e);return typeof a.load=="function"&&a.load(s),a}))}else r=[];return r}};v([E()],ut.prototype,"access",void 0),v([E()],ut.prototype,"allSSL",void 0),v([E()],ut.prototype,"authMode",void 0),v([E()],ut.prototype,"authorizedCrossOriginDomains",void 0),v([gn("authorizedCrossOriginDomains")],ut.prototype,"readAuthorizedCrossOriginDomains",null),v([E()],ut.prototype,"basemapGalleryGroupQuery",void 0),v([E({json:{name:"3DBasemapGalleryGroupQuery"}})],ut.prototype,"basemapGalleryGroupQuery3D",void 0),v([E({json:{name:"g3DTilesGalleryGroupQuery"}})],ut.prototype,"g3DTilesGalleryGroupQuery",void 0),v([E({json:{name:"g3dTilesEnabled"}})],ut.prototype,"g3dTilesEnabled",void 0),v([E()],ut.prototype,"bingKey",void 0),v([E()],ut.prototype,"canListApps",void 0),v([E()],ut.prototype,"canListData",void 0),v([E()],ut.prototype,"canListPreProvisionedItems",void 0),v([E()],ut.prototype,"canProvisionDirectPurchase",void 0),v([E()],ut.prototype,"canSearchPublic",void 0),v([E()],ut.prototype,"canShareBingPublic",void 0),v([E()],ut.prototype,"canSharePublic",void 0),v([E()],ut.prototype,"canSignInArcGIS",void 0),v([E()],ut.prototype,"canSignInIDP",void 0),v([E()],ut.prototype,"colorSetsGroupQuery",void 0),v([E()],ut.prototype,"commentsEnabled",void 0),v([E({type:Date})],ut.prototype,"created",void 0),v([E()],ut.prototype,"credential",void 0),v([E()],ut.prototype,"culture",void 0),v([E()],ut.prototype,"currentVersion",void 0),v([E()],ut.prototype,"customBaseUrl",void 0),v([E()],ut.prototype,"default3DBasemapQuery",void 0),v([E()],ut.prototype,"defaultBasemap",void 0),v([gn("defaultBasemap")],ut.prototype,"readDefaultBasemap",null),v([E()],ut.prototype,"defaultDevBasemap",void 0),v([gn("defaultDevBasemap")],ut.prototype,"readDefaultDevBasemap",null),v([E({type:pe})],ut.prototype,"defaultExtent",void 0),v([E()],ut.prototype,"defaultVectorBasemap",void 0),v([gn("defaultVectorBasemap")],ut.prototype,"readDefaultVectorBasemap",null),v([E()],ut.prototype,"description",void 0),v([E()],ut.prototype,"devBasemapGalleryGroupQuery",void 0),v([E()],ut.prototype,"eueiEnabled",void 0),v([E({readOnly:!0})],ut.prototype,"extraQuery",null),v([E()],ut.prototype,"featuredGroups",void 0),v([E()],ut.prototype,"featuredItemsGroupQuery",void 0),v([E()],ut.prototype,"galleryTemplatesGroupQuery",void 0),v([E()],ut.prototype,"layoutGroupQuery",void 0),v([E()],ut.prototype,"livingAtlasGroupQuery",void 0),v([E({readOnly:!0})],ut.prototype,"hasAPIKey",null),v([E()],ut.prototype,"hasCategorySchema",void 0),v([E()],ut.prototype,"hasClassificationSchema",void 0),v([E()],ut.prototype,"helpBase",void 0),v([E()],ut.prototype,"helperServices",void 0),v([E()],ut.prototype,"helpMap",void 0),v([E()],ut.prototype,"homePageFeaturedContent",void 0),v([E()],ut.prototype,"homePageFeaturedContentCount",void 0),v([E()],ut.prototype,"httpPort",void 0),v([E()],ut.prototype,"httpsPort",void 0),v([E()],ut.prototype,"id",void 0),v([E()],ut.prototype,"ipCntryCode",void 0),v([E({readOnly:!0})],ut.prototype,"isOrganization",null),v([E()],ut.prototype,"isPortal",void 0),v([E()],ut.prototype,"isReadOnly",void 0),v([E({readOnly:!0})],ut.prototype,"itemPageUrl",null),v([E()],ut.prototype,"layerTemplatesGroupQuery",void 0),v([E()],ut.prototype,"maxTokenExpirationMinutes",void 0),v([E({type:Date})],ut.prototype,"modified",void 0),v([E()],ut.prototype,"name",void 0),v([E()],ut.prototype,"portalHostname",void 0),v([E()],ut.prototype,"portalMode",void 0),v([E()],ut.prototype,"portalProperties",void 0),v([E()],ut.prototype,"region",void 0),v([E()],ut.prototype,"recycleBinEnabled",void 0),v([E({readOnly:!0})],ut.prototype,"restUrl",null),v([E()],ut.prototype,"rotatorPanels",void 0),v([E()],ut.prototype,"showHomePageDescription",void 0),v([E()],ut.prototype,"sourceJSON",void 0),v([E()],ut.prototype,"staticImagesUrl",void 0),v([E({json:{name:"2DStylesGroupQuery"}})],ut.prototype,"stylesGroupQuery2d",void 0),v([E({json:{name:"stylesGroupQuery"}})],ut.prototype,"stylesGroupQuery3d",void 0),v([E()],ut.prototype,"supportsHostedServices",void 0),v([E()],ut.prototype,"symbolSetsGroupQuery",void 0),v([E()],ut.prototype,"templatesGroupQuery",void 0),v([E()],ut.prototype,"thumbnail",void 0),v([E({readOnly:!0})],ut.prototype,"thumbnailUrl",null),v([E()],ut.prototype,"units",void 0),v([E()],ut.prototype,"url",void 0),v([E()],ut.prototype,"urlKey",void 0),v([gn("urlKey")],ut.prototype,"readUrlKey",null),v([E()],ut.prototype,"user",void 0),v([gn("user")],ut.prototype,"readUser",null),v([E()],ut.prototype,"use3dBasemaps",void 0),v([E()],ut.prototype,"useDefault3dBasemap",void 0),v([E()],ut.prototype,"useStandardizedQuery",void 0),v([E()],ut.prototype,"useVectorBasemaps",void 0),v([E()],ut.prototype,"vectorBasemapGalleryGroupQuery",void 0),ut=$r=v([nt("esri.portal.Portal")],ut);const P8=new FinalizationRegistry(t=>{t.remove()});function Eit(t){const e=Ge;return()=>{const n=t.deref();n&&e.findCredential(n.restUrl)&&n.signIn().catch(()=>{})}}let Zi=class extends Yt{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,e,n){t||(e[n]=t)}};v([E({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Zi.prototype,"enabled",void 0),v([$e("enabled")],Zi.prototype,"writeEnabled",null),v([E({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Zi.prototype,"type",void 0),Zi=v([nt("esri.symbols.Symbol3DLayer")],Zi);const Sit=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,Ait="screenUtils.toPt: input not recognized!",D8=96;function Mit(t){return t?t/72*D8:0}function Hs(t){return t?72*t/D8:0}function Ye(t){if(typeof t=="string"){const e=t.match(Sit);if(e){const n=Number(e[1]),i=e[3]&&e[3].toLowerCase(),r=t.startsWith("-"),s=i==="px"?Hs(n):n;return r?-s:s}return console.warn(Ait),null}return t}function j8(t=0,e=0){return{x:t,y:e}}function Tit(t){return t?j8(t.x,t.y):null}function Iit(t=0,e=0){return[t,e]}function Nit(t=0,e=0,n=0){return[t,e,n]}function Oit(t){return t}function kit(t){return t}function Cit(t){return t}function Rit(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function $8(t){const e=hy(100*(1-t));return Math.max(0,Math.min(e,100))}function F8(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}function Lit(t,e){const n=e.transparency!=null?F8(e.transparency):1,i=e.color;return i&&Array.isArray(i)?new ge([i[0]||0,i[1]||0,i[2]||0,n]):null}function Pit(t,e){e.color=t.toJSON().slice(0,3);const n=$8(t.a);n!==0&&(e.transparency=n)}function Ol(t){return{type:ge,nonNullable:t?.nonNullable,json:{type:[cn],default:null,read:{source:["color","transparency"],reader:Lit},write:{target:{color:{type:[cn],isRequired:t?.colorRequiredOnWrite},transparency:{type:cn}},writer:Pit}}}}const xo={type:Number,cast:Ye,json:{write:!0}};function Dit(t){return t==="emissive"?0:1}let iu=class extends Yt{constructor(t){super(t),this.color=new ge([0,0,0,1]),this.extensionLength=0,this.size=Hs(1)}clone(){}cloneProperties(){return{color:yt(this.color),size:this.size,extensionLength:this.extensionLength}}};v([E({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],iu.prototype,"type",void 0),v([E(Ol({colorRequiredOnWrite:!0}))],iu.prototype,"color",void 0),v([E({...xo,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],iu.prototype,"extensionLength",void 0),v([E(xo)],iu.prototype,"size",void 0),iu=v([nt("esri.symbols.edges.Edges3D")],iu);const tE=iu;var eE;let c1=eE=class extends tE{constructor(t){super(t),this.type="sketch"}clone(){return new eE(this.cloneProperties())}};v([re({sketch:"sketch"},{readOnly:!0})],c1.prototype,"type",void 0),c1=eE=v([nt("esri.symbols.edges.SketchEdges3D")],c1);const jit=c1;var nE;let u1=nE=class extends tE{constructor(t){super(t),this.type="solid"}clone(){return new nE(this.cloneProperties())}};v([re({solid:"solid"},{readOnly:!0})],u1.prototype,"type",void 0),u1=nE=v([nt("esri.symbols.edges.SolidEdges3D")],u1);const U8=u1,iE={types:{key:"type",base:tE,typeMap:{solid:U8,sketch:jit}},json:{write:!0}};var rE;let Kh=rE=class extends Yt{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const t={strength:this.strength,source:this.source};return new rE(t)}};v([E({json:{write:!1}})],Kh.prototype,"strength",void 0),v([E({json:{write:!1}})],Kh.prototype,"source",void 0),Kh=rE=v([nt("esri.symbols.support.Symbol3DEmissive")],Kh);var sE;let cr=sE=class extends Yt{constructor(t){super(t),this.color=null,this.emissive=new Kh({source:"emissive"})}clone(){const t={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new sE(t)}};v([E(Ol())],cr.prototype,"color",void 0),v([E({type:Kh,json:{write:!1}})],cr.prototype,"emissive",void 0),cr=sE=v([nt("esri.symbols.support.Symbol3DMaterial")],cr);var oE;let ya=class extends Zi{static{oE=this}constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new oE({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};v([re({Extrude:"extrude"},{readOnly:!0})],ya.prototype,"type",void 0),v([E({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],ya.prototype,"size",void 0),v([E({type:cr,json:{write:!0}})],ya.prototype,"material",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ya.prototype,"castShadows",void 0),v([E(iE)],ya.prototype,"edges",void 0),ya=oE=v([nt("esri.symbols.ExtrudeSymbol3DLayer")],ya);let Vf=class extends Yt{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};v([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Vf.prototype,"type",void 0),Vf=v([nt("esri.symbols.patterns.LinePattern3D")],Vf);const $it=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var aE;const Fit=Kr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let ru=aE=class extends Vf{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new aE(t)}};v([E({type:["style"],json:{write:{isRequired:!0}}})],ru.prototype,"type",void 0),v([re(Fit),E({type:$it,json:{write:{isRequired:!0}}})],ru.prototype,"style",void 0),ru=aE=v([nt("esri.symbols.patterns.LineStylePattern3D")],ru);let Wf=class extends Yt{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};v([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Wf.prototype,"type",void 0),Wf=v([nt("esri.symbols.patterns.Pattern3D")],Wf);const Uit=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var lE;let Qh=lE=class extends Wf{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new lE({style:this.style})}};v([E({type:["style"],json:{write:{isRequired:!0}}})],Qh.prototype,"type",void 0),v([E({type:Uit,json:{read:!0,write:{isRequired:!0}}})],Qh.prototype,"style",void 0),Qh=lE=v([nt("esri.symbols.patterns.StylePattern3D")],Qh);const Git={types:{key:"type",base:Wf,typeMap:{style:Qh}},json:{write:!0}},G8={types:{key:"type",base:Vf,typeMap:{style:ru}},json:{write:!0}},Hf=new ge("white"),Bit=new ge([255,255,255,0]);function zit(t){return t.r===0&&t.g===0&&t.b===0}var cE;let qf=cE=class extends cr{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new cE(t)}};v([re({multiply:"multiply",replace:"replace",tint:"tint"})],qf.prototype,"colorMixMode",void 0),qf=cE=v([nt("esri.symbols.support.Symbol3DFillMaterial")],qf);function h1(){return[0,0,0]}function B8(t){return[t[0],t[1],t[2]]}function su(t,e,n){return[t,e,n]}function z8(t,e,n){return[t,e,n]}function V8(t,e=h1()){const n=Math.min(3,t.length);for(let i=0;i<n;++i)e[i]=t[i];return e}function uE(){return h1()}function hE(){return su(1,1,1)}function W8(){return su(1,0,0)}function H8(){return su(0,1,0)}function q8(){return su(0,0,1)}const Y8=uE(),Z8=hE(),J8=W8(),X8=H8(),K8=q8();Object.freeze(Object.defineProperty({__proto__:null,ONES:Z8,UNIT_X:J8,UNIT_Y:X8,UNIT_Z:K8,ZEROS:Y8,clone:B8,create:h1,freeze:z8,fromArray:V8,fromValues:su,ones:hE,unitX:W8,unitY:H8,unitZ:q8,zeros:uE},Symbol.toStringTag,{value:"Module"}));function p1(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Q8(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function tL(t,e,n,i,r,s,o,a,l,c,p,d,f,y,g,b){return[t,e,n,i,r,s,o,a,l,c,p,d,f,y,g,b]}const eL=p1();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:eL,clone:Q8,create:p1,fromValues:tL},Symbol.toStringTag,{value:"Module"}));function nL(t){return t<=mw?new Array(t).fill(0):new Float64Array(t)}function Vit(t){return(SI(t)?t.byteLength/8:t.length)<=mw?Array.from(t):new Float64Array(t)}function Wit(t,e,n){return Array.isArray(t)?t.slice(e,e+n):t.subarray(e,e+n)}function Hit(t){return[...t]}function qit(t){const e=p1();for(let n=0;n<16;++n)e[n]=t[n];return e}function tp(t=sL){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function d1(t,e,n,i,r,s,o=tp()){return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o[4]=r,o[5]=s,o}function Yit(t,e=tp()){return iL(t,0,t.length/3,e)}function iL(t,e,n,i=tp()){return pE(i,f1),rL(i,t,e,n),i}function Zit(t,e=nL(24)){const[n,i,r,s,o,a]=t;return e[0]=n,e[1]=i,e[2]=r,e[3]=n,e[4]=i,e[5]=a,e[6]=n,e[7]=o,e[8]=r,e[9]=n,e[10]=o,e[11]=a,e[12]=s,e[13]=i,e[14]=r,e[15]=s,e[16]=i,e[17]=a,e[18]=s,e[19]=o,e[20]=r,e[21]=s,e[22]=o,e[23]=a,e}function Jit(t,e){const n=isFinite(t[2])||isFinite(t[5]);return new pe(n?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function Xit(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function Kit(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function Qit(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function rL(t,e,n=0,i=e.length/3){let r=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let p=0;p<i;p++)r=Math.min(r,e[n+3*p]),s=Math.min(s,e[n+3*p+1]),o=Math.min(o,e[n+3*p+2]),a=Math.max(a,e[n+3*p]),l=Math.max(l,e[n+3*p+1]),c=Math.max(c,e[n+3*p+2]);t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=c}function trt(t,e,n){const i=e.length;let r=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];if(n)for(let p=0;p<i;p++){const d=e[p];r=Math.min(r,d[0]),s=Math.min(s,d[1]),o=Math.min(o,d[2]),a=Math.max(a,d[0]),l=Math.max(l,d[1]),c=Math.max(c,d[2])}else for(let p=0;p<i;p++){const d=e[p];r=Math.min(r,d[0]),s=Math.min(s,d[1]),a=Math.max(a,d[0]),l=Math.max(l,d[1])}t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=c}function ert(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function ep(t){return t[0]>=t[3]?0:t[3]-t[0]}function np(t){return t[1]>=t[4]?0:t[4]-t[1]}function ip(t){return t[2]>=t[5]?0:t[5]-t[2]}function nrt(t){const e=ep(t),n=ip(t),i=np(t);return Math.sqrt(e*e+n*n+i*i)}function irt(t,e=[0,0,0]){return e[0]=t[0]+ep(t)/2,e[1]=t[1]+np(t)/2,e[2]=t[2]+ip(t)/2,e}function rrt(t,e=[0,0,0]){return e[0]=ep(t),e[1]=np(t),e[2]=ip(t),e}function srt(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function ort(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function art(t,e){return e==null||ort(t,e)}function lrt(t,e,n,i,r=t){return r[0]=t[0]+e,r[1]=t[1]+n,r[2]=t[2]+i,r[3]=t[3]+e,r[4]=t[4]+n,r[5]=t[5]+i,r}function crt(t,e,n=t){const i=t[0]+ep(t)/2,r=t[1]+np(t)/2,s=t[2]+ip(t)/2;return n[0]=i+(t[0]-i)*e,n[1]=r+(t[1]-r)*e,n[2]=s+(t[2]-s)*e,n[3]=i+(t[3]-i)*e,n[4]=r+(t[4]-r)*e,n[5]=s+(t[5]-s)*e,n}function urt(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function hrt(t,e,n=t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n!==t&&(n[3]=t[3],n[4]=t[4],n[5]=t[5]),n}function prt(t,e,n=t){return n[3]=e[0],n[4]=e[1],n[5]=e[2],n!==t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),t}function pE(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function drt(t){return t?pE(t,f1):tp(f1)}function frt(t,e=Gc()){return e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function mrt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function yrt(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=Number.NEGATIVE_INFINITY,t[3]=i,t[4]=r,t[5]=Number.POSITIVE_INFINITY,t}function dE(t){return t.length===6}function grt(t){return ep(t)===0&&np(t)===0&&ip(t)===0}function vrt(t,e,n){if(t==null||e==null)return t===e;if(!dE(t)||!dE(e))return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}const f1=[1/0,1/0,1/0,-1/0,-1/0,-1/0],sL=[0,0,0,0,0,0];tp();function brt(t,{isPrimitive:e,width:n,depth:i,height:r}){const s=e?10:1;if(n==null&&r==null&&i==null)return[s*t[0],s*t[1],s*t[2]];const o=su(n,i,r);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/t[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=t[l]*a);return o}const wrt=d1(-.5,-.5,-.5,.5,.5,.5),_rt=d1(-.5,-.5,0,.5,.5,1),xrt=d1(-.5,-.5,0,.5,.5,.5);function Ert(t){switch(t){case"sphere":case"cube":case"diamond":return wrt;case"cylinder":case"cone":case"inverted-cone":return _rt;case"tetrahedron":return xrt;default:return}}const fE=["butt","square","round"],Srt=[...fE,"none"],oL=["miter","bevel","round"];var mE;let ou=mE=class extends Yt{constructor(t){super(t),this.color=new ge([0,0,0,1]),this.size=Hs(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new mE(t)}};v([E(Ol({colorRequiredOnWrite:!0}))],ou.prototype,"color",void 0),v([E({...xo,json:{write:{isRequired:!0}}})],ou.prototype,"size",void 0),v([E(G8)],ou.prototype,"pattern",void 0),v([E({type:fE,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],ou.prototype,"patternCap",void 0),ou=mE=v([nt("esri.symbols.support.Symbol3DOutline")],ou);var m1;let Ni=class extends Zi{static{m1=this}constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new m1(t)}static fromSimpleFillSymbol(t){const e=t.outline&&t.outline.style&&t.outline.style!=="solid"?new ru({style:t.outline.style}):null,n={size:t.outline?.width??0,color:(t.outline?.color??Hf).clone(),pattern:e};return e&&t.outline?.cap&&(n.patternCap=t.outline.cap),new m1({material:new qf({color:(t.color??Bit).clone()}),pattern:t.style&&t.style!=="solid"?new Qh({style:t.style}):null,outline:n})}};v([re({Fill:"fill"},{readOnly:!0})],Ni.prototype,"type",void 0),v([E({type:qf,json:{write:!0}})],Ni.prototype,"material",void 0),v([E(Git)],Ni.prototype,"pattern",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ni.prototype,"castShadows",void 0),v([E({type:ou,json:{write:!0}})],Ni.prototype,"outline",void 0),v([E(iE)],Ni.prototype,"edges",void 0),Ni=m1=v([nt("esri.symbols.FillSymbol3DLayer")],Ni);var yE;const Art=Kr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let au=yE=class extends Yt{constructor(t){super(t)}readHref(t,e,n){return t?bh(t,n):e.dataURI}writeHref(t,e,n,i){t&&(kc(t)?e.dataURI=t:(e.href=Xd(t,i),es(e.href)&&(e.href=la(e.href))))}clone(){return new yE({href:this.href,primitive:this.primitive})}equals(t){return t.primitive===this.primitive&&t.href===this.href}};v([E({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],au.prototype,"href",void 0),v([gn("href")],au.prototype,"readHref",null),v([$e("href",{href:{type:String},dataURI:{type:String}})],au.prototype,"writeHref",null),v([re(Art)],au.prototype,"primitive",void 0),au=yE=v([nt("esri.symbols.support.IconSymbol3DLayerResource")],au);const Mrt="circle";let y1=class extends qi(Yt){constructor(t){super(t),this.mode="hidden"}equals(t){return this.mode===t.mode}};v([E({type:["adaptive","hidden","visible"],json:{write:{isRequired:!0}}})],y1.prototype,"mode",void 0),y1=v([nt("esri.symbols.support.OccludedVisibility")],y1);const aL=y1;var gE;let lu=gE=class extends Yn{constructor(t){super(t),this.x=0,this.y=0}clone(){return new gE({x:this.x,y:this.y})}equals(t){return t.x===this.x&&t.y===this.y}};v([E({type:Number})],lu.prototype,"x",void 0),v([E({type:Number})],lu.prototype,"y",void 0),lu=gE=v([nt("esri.symbols.support.Symbol3DAnchorPosition2D")],lu);var vE;let Yf=vE=class extends Yt{constructor(t){super(t),this.color=new ge([0,0,0,1]),this.size=Hs(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new vE(t)}equals(t){return t.size===this.size&&(this.color==null?t.color==null:this.color.equals(t.color))}};v([E(Ol({colorRequiredOnWrite:!0}))],Yf.prototype,"color",void 0),v([E({...xo,json:{write:{isRequired:!0}}})],Yf.prototype,"size",void 0),Yf=vE=v([nt("esri.symbols.support.Symbol3DIconOutline")],Yf);var rp;let Jn=class extends Zi{static{rp=this}constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0,this.occludedVisibility=null}clone(){return new rp({anchor:this.anchor,anchorPosition:yt(this.anchorPosition),enabled:this.enabled,material:yt(this.material),outline:yt(this.outline),resource:yt(this.resource),angle:this.angle,size:this.size,occludedVisibility:yt(this.occludedVisibility)})}static fromSimpleMarkerSymbol(t){const e=t.color||Hf,n=lL(t),i=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||Hf).clone()}:null;return new rp({size:t.size,angle:t.angle,resource:{primitive:Irt(()=>Pe.getLogger(this.prototype),t.style)},material:{color:e},outline:i,anchor:n?"relative":void 0,anchorPosition:n})}static fromPictureMarkerSymbol(t){const e=!t.color||zit(t.color)?Hf:t.color,n=lL(t);return new rp({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:e.clone()},anchor:n?"relative":void 0,anchorPosition:n})}static fromCIMSymbol(t){return new rp({resource:{href:vN({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};function lL(t){const e="width"in t?t.width:t.size,n="height"in t?t.height:t.size,i=cL(t.xoffset),r=cL(t.yoffset);return(i||r)&&e&&n?{x:-i/e,y:r/n}:null}function cL(t){return isFinite(t)?t:0}v([E({type:cr,json:{write:!0}})],Jn.prototype,"material",void 0),v([E({type:au,json:{write:!0}})],Jn.prototype,"resource",void 0),v([re({Icon:"icon"},{readOnly:!0})],Jn.prototype,"type",void 0),v([E({...xo,json:{write:{isRequired:!0}}})],Jn.prototype,"size",void 0),v([re({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],Jn.prototype,"anchor",void 0),v([E({type:lu,json:{type:[Number],read:{reader:t=>new lu({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Jn.prototype,"anchorPosition",void 0),v([E({type:Yf,json:{write:!0}})],Jn.prototype,"outline",void 0),v([E({type:Number,json:{write:!0,default:0}})],Jn.prototype,"angle",void 0),v([E({type:aL})],Jn.prototype,"occludedVisibility",void 0),Jn=rp=v([nt("esri.symbols.IconSymbol3DLayer")],Jn);const Trt={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Irt(t,e){return Trt[e]||(t().warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Nrt=["begin","end","begin-end"],uL=["arrow","circle","square","diamond","cross","x"];let ga=class extends qi(Yt){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};v([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],ga.prototype,"type",void 0),v([E({type:Nrt,json:{default:"begin-end",write:!0}})],ga.prototype,"placement",void 0),v([E({type:uL,json:{default:"arrow",write:!0}})],ga.prototype,"style",void 0),v([E({type:ge,json:{type:[cn],default:null,write:!0}})],ga.prototype,"color",void 0),ga=v([nt("esri.symbols.LineStyleMarker3D")],ga);var g1;let Ji=class extends Zi{static{g1=this}constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Hs(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new g1(t)}static fromSimpleLineSymbol(t){const e={enabled:!0,size:t.width??Hs(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new ru({style:t.style}):null,material:new cr({color:(t.color||Hf).clone()}),marker:t.marker?new ga({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new g1(e)}};v([E({type:cr,json:{write:!0}})],Ji.prototype,"material",void 0),v([re({Line:"line"},{readOnly:!0})],Ji.prototype,"type",void 0),v([E({type:oL,json:{write:!0,default:"miter"}})],Ji.prototype,"join",void 0),v([E({type:fE,json:{write:!0,default:"butt"}})],Ji.prototype,"cap",void 0),v([E({...xo,json:{write:{isRequired:!0}}})],Ji.prototype,"size",void 0),v([E(G8)],Ji.prototype,"pattern",void 0),v([E({types:{key:"type",base:ga,typeMap:{style:ga}},json:{write:!0}})],Ji.prototype,"marker",void 0),Ji=g1=v([nt("esri.symbols.LineSymbol3DLayer")],Ji);var bE;const Ort=Kr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Zf=bE=class extends Yt{clone(){return new bE({href:this.href,primitive:this.primitive})}};v([E({type:String,json:{read:Xy,write:Cc}})],Zf.prototype,"href",void 0),v([re(Ort)],Zf.prototype,"primitive",void 0),Zf=bE=v([nt("esri.symbols.support.ObjectSymbol3DLayerResource")],Zf);const krt="sphere";var wE;let cu=wE=class extends Yn{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new wE({x:this.x,y:this.y,z:this.z})}};v([E({type:Number})],cu.prototype,"x",void 0),v([E({type:Number})],cu.prototype,"y",void 0),v([E({type:Number})],cu.prototype,"z",void 0),cu=wE=v([nt("esri.symbols.support.Symbol3DAnchorPosition3D")],cu);var _E;let Xn=class extends Zi{static{_E=this}constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new _E({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};v([E({type:cr,json:{write:!0}})],Xn.prototype,"material",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Xn.prototype,"castShadows",void 0),v([E({type:Zf,json:{write:!0}})],Xn.prototype,"resource",void 0),v([re({Object:"object"},{readOnly:!0})],Xn.prototype,"type",void 0),v([E({type:Number,json:{write:!0}})],Xn.prototype,"width",void 0),v([E({type:Number,json:{write:!0}})],Xn.prototype,"height",void 0),v([E({type:Number,json:{write:!0}})],Xn.prototype,"depth",void 0),v([re({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],Xn.prototype,"anchor",void 0),v([E({type:cu,json:{type:[Number],read:{reader:t=>new cu({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Xn.prototype,"anchorPosition",void 0),v([E({type:Number,json:{write:!0}})],Xn.prototype,"heading",void 0),v([E({type:Number,json:{write:!0}})],Xn.prototype,"tilt",void 0),v([E({type:Number,json:{write:!0}})],Xn.prototype,"roll",void 0),v([E({readOnly:!0})],Xn.prototype,"isPrimitive",null),Xn=_E=v([nt("esri.symbols.ObjectSymbol3DLayer")],Xn);var xE;let yi=class extends Zi{static{xE=this}constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,e){return t??(e.height==null&&e.size!=null?e.size:void 0)}readHeight(t,e){return t??(e.width==null&&e.size!=null?e.size:void 0)}clone(){return new xE({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};v([E({type:cr,json:{write:!0}})],yi.prototype,"material",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],yi.prototype,"castShadows",void 0),v([re({Path:"path"},{readOnly:!0})],yi.prototype,"type",void 0),v([E({type:["circle","quad"],nonNullable:!0,json:{write:!0,default:"circle"}})],yi.prototype,"profile",void 0),v([E({type:oL,nonNullable:!0,json:{write:!0,default:"miter"}})],yi.prototype,"join",void 0),v([E({type:Srt,nonNullable:!0,json:{write:!0,default:"butt"}})],yi.prototype,"cap",void 0),v([E({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],yi.prototype,"width",void 0),v([gn("width",["width","size","height"])],yi.prototype,"readWidth",null),v([E({type:Number,json:{write:!0}})],yi.prototype,"height",void 0),v([gn("height",["height","size","width"])],yi.prototype,"readHeight",null),v([E({type:["center","bottom","top"],nonNullable:!0,json:{write:!0,default:"center"}})],yi.prototype,"anchor",void 0),v([E({type:["heading","all"],nonNullable:!0,json:{write:!0,default:"all"}})],yi.prototype,"profileRotation",void 0),yi=xE=v([nt("esri.symbols.PathSymbol3DLayer")],yi);const Crt=["none","underline","line-through"],Rrt=["normal","italic","oblique"],Lrt=["normal","lighter","bold","bolder"],hL={type:Number,cast:t=>{const e=Rd(t);return e===0?1:oh(e,.1,4)},nonNullable:!0},Prt=["left","right","center"],Drt=["baseline","top","middle","bottom"],pL={type:Prt,nonNullable:!0},dL={type:Drt,nonNullable:!0},jrt=8;var EE;let Fr=EE=class extends Yt{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return Ye(t)}clone(){return new EE({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};v([E({type:Crt,json:{default:"none",write:!0}})],Fr.prototype,"decoration",void 0),v([E({type:String,json:{write:!0}})],Fr.prototype,"family",void 0),v([E({type:Number,json:{write:{overridePolicy:(t,e,n)=>({enabled:!n||!n.textSymbol3D})}}})],Fr.prototype,"size",void 0),v([Sh("size")],Fr.prototype,"castSize",null),v([E({type:Rrt,json:{default:"normal",write:!0}})],Fr.prototype,"style",void 0),v([E({type:Lrt,json:{default:"normal",write:!0}})],Fr.prototype,"weight",void 0),Fr=EE=v([nt("esri.symbols.Font")],Fr);var SE;let sp=SE=class extends Yt{constructor(){super(...arguments),this.color=new ge([0,0,0,1]),this.size=0}clone(){const t={color:yt(this.color),size:this.size};return new SE(t)}};v([E(Ol())],sp.prototype,"color",void 0),v([E(xo)],sp.prototype,"size",void 0),sp=SE=v([nt("esri.symbols.support.Symbol3DHalo")],sp);let Jf=class extends qi(Yt){constructor(t){super(t),this.color=null}};v([E(Ol())],Jf.prototype,"color",void 0),Jf=v([nt("esri.symbols.support.Symbol3DTextBackground")],Jf);var v1;let kn=class extends Zi{static{v1=this}constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline",this.occludedVisibility=null}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,e,n,i){const r={...i,textSymbol3D:!0};e.font=t.write({},r),delete e.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new v1({enabled:this.enabled,font:yt(this.font),halo:yt(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:yt(this.background),occludedVisibility:yt(this.occludedVisibility)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new v1({font:t.font!=null?t.font.clone():new Fr,halo:$rt(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new cr({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new Jf({color:t.backgroundColor.clone()}):null})}};function $rt(t,e){return t&&e!=null&&e>0?new sp({color:yt(t),size:e}):null}v([E({type:Fr,json:{write:!0}})],kn.prototype,"font",null),v([$e("font")],kn.prototype,"writeFont",null),v([E({type:sp,json:{write:!0}})],kn.prototype,"halo",void 0),v([E({...pL,json:{default:"center",write:!0}})],kn.prototype,"horizontalAlignment",void 0),v([E({...hL,json:{default:1,write:!0}})],kn.prototype,"lineHeight",void 0),v([E({type:cr,json:{write:!0}})],kn.prototype,"material",void 0),v([E({type:Jf,json:{write:!0}})],kn.prototype,"background",void 0),v([E(xo)],kn.prototype,"size",null),v([E({type:String,json:{write:!0}})],kn.prototype,"text",void 0),v([re({Text:"text"},{readOnly:!0})],kn.prototype,"type",void 0),v([E({...dL,json:{default:"baseline",write:!0}})],kn.prototype,"verticalAlignment",void 0),v([E({type:aL})],kn.prototype,"occludedVisibility",void 0),kn=v1=v([nt("esri.symbols.TextSymbol3DLayer")],kn);var AE;let va=class extends Zi{static{AE=this}constructor(t){super(t),this.color=ME.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new AE({color:this.color.clone(),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};v([E({type:ge,nonNullable:!0,json:{type:[cn],write:(t,e,n)=>e[n]=t.toArray(1),default:()=>ME.clone(),defaultEquals:t=>t.toCss(!0)===ME.toCss(!0)}})],va.prototype,"color",void 0),v([re({Water:"water"},{readOnly:!0})],va.prototype,"type",void 0),v([E({type:["small","medium","large"],json:{write:!0,default:"medium"}})],va.prototype,"waterbodySize",void 0),v([E({type:Number,json:{write:!0,default:null}})],va.prototype,"waveDirection",void 0),v([E({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],va.prototype,"waveStrength",void 0),va=AE=v([nt("esri.symbols.WaterSymbol3DLayer")],va);const ME=new ge([0,119,190]);var TE;let Eo=TE=class extends Yn{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new TE({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};v([E({type:String})],Eo.prototype,"name",void 0),v([E({type:String})],Eo.prototype,"styleUrl",void 0),v([E({type:String})],Eo.prototype,"styleName",void 0),v([E({type:ut})],Eo.prototype,"portal",void 0),Eo=TE=v([nt("esri.symbols.support.StyleOrigin")],Eo);var IE;let op=IE=class extends Yn{constructor(){super(...arguments),this.url=""}clone(){return new IE({url:this.url})}};v([E({type:String})],op.prototype,"url",void 0),op=IE=v([nt("esri.symbols.support.Thumbnail")],op);const fL={icon:Jn,object:Xn,line:Ji,path:yi,fill:Ni,extrude:ya,text:kn,water:va},Frt=be.ofType({base:Zi,key:"type",typeMap:fL,errorContext:"symbol-layer"});let ur=class extends wn{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const e=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=e?.type,i=n||be;this._set("symbolLayers",new i)}get color(){return null}set color(t){this.constructed&&Pe.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){I8(t,this._get("symbolLayers"))}readStyleOrigin(t,e,n){if(t.styleUrl&&t.name){const i=bh(t.styleUrl,n);return new Eo({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new Eo({portal:n?.portal||ut.getDefault(),styleName:t.styleName,name:t.name});n?.messages&&n.messages.push(new ph("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,e,n,i){if(t.styleUrl&&t.name){let r=Xd(t.styleUrl,i);es(r)&&(r=la(r)),e.styleOrigin={styleUrl:r,name:t.name}}else t.styleName&&t.name&&(t.portal&&i?.portal&&!yN(t.portal.restUrl,i.portal.restUrl)?i?.messages&&i.messages.push(new ph("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):e.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Zi||t&&fL[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};v([E({json:{read:!1,write:!1}})],ur.prototype,"color",null),v([E({type:Frt,nonNullable:!0,json:{write:!0}}),Sh(N8)],ur.prototype,"symbolLayers",null),v([E({type:Eo})],ur.prototype,"styleOrigin",void 0),v([gn("styleOrigin")],ur.prototype,"readStyleOrigin",null),v([$e("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],ur.prototype,"writeStyleOrigin",null),v([E({type:op,json:{read:!1}})],ur.prototype,"thumbnail",void 0),v([E({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],ur.prototype,"type",void 0),ur=v([nt("esri.symbols.Symbol3D")],ur);let ap=class extends Yt{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};v([E({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],ap.prototype,"type",void 0),v([E({readOnly:!0})],ap.prototype,"visible",void 0),ap=v([nt("esri.symbols.callouts.Callout3D")],ap);var NE;let b1=NE=class extends Yt{constructor(t){super(t),this.color=new ge("white")}clone(){return new NE({color:yt(this.color)})}};v([E(Ol({colorRequiredOnWrite:!0}))],b1.prototype,"color",void 0),b1=NE=v([nt("esri.symbols.callouts.LineCallout3DBorder")],b1);const mL=b1;var OE;let So=OE=class extends ap{constructor(t){super(t),this.type="line",this.color=new ge([0,0,0,1]),this.size=Hs(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new OE({color:yt(this.color),size:this.size,border:yt(this.border)})}};v([re({line:"line"})],So.prototype,"type",void 0),v([E(Ol({colorRequiredOnWrite:!0}))],So.prototype,"color",void 0),v([E({...xo,json:{write:{isRequired:!0}}})],So.prototype,"size",void 0),v([E({type:mL,json:{write:!0}})],So.prototype,"border",void 0),v([E({readOnly:!0})],So.prototype,"visible",null),So=OE=v([nt("esri.symbols.callouts.LineCallout3D")],So);function kE(t){if(!t)return!1;const e=t.verticalOffset;return!(!e||e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function yL(t){return!t||!t.supportsCallout||!t.supportsCallout()?!1:!!t.callout?.visible&&!!kE(t)}function Urt(t){return t.type==="point-3d"||t.type==="label-3d"}function Grt(t){return t.horizontalAlignment==="center"}const gL={types:{key:"type",base:ap,typeMap:{line:So}},json:{write:!0}};var CE;let ba=CE=class extends Yt{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new CE({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};v([E({...xo,json:{write:{isRequired:!0}}})],ba.prototype,"screenLength",void 0),v([E({type:Number,nonNullable:!0,json:{write:!0,default:0}})],ba.prototype,"minWorldLength",void 0),v([E({type:Number,json:{write:!0}})],ba.prototype,"maxWorldLength",void 0),ba=CE=v([nt("esri.symbols.support.Symbol3DVerticalOffset")],ba);var w1;const vL=be.ofType({base:null,key:"type",typeMap:{text:kn}});let us=w1=class extends ur{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new vL,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return yL(this)}hasVisibleVerticalOffset(){return kE(this)}clone(){return new w1({styleOrigin:yt(this.styleOrigin),symbolLayers:yt(this.symbolLayers),thumbnail:yt(this.thumbnail),callout:yt(this.callout),verticalOffset:yt(this.verticalOffset)})}static fromTextSymbol(t){return new w1({symbolLayers:new be([kn.fromTextSymbol(t)])})}};v([E({type:ba,json:{write:!0}})],us.prototype,"verticalOffset",void 0),v([E(gL)],us.prototype,"callout",void 0),v([E({json:{read:!1,write:!1}})],us.prototype,"styleOrigin",void 0),v([E({type:vL})],us.prototype,"symbolLayers",void 0),v([re({LabelSymbol3D:"label-3d"},{readOnly:!0})],us.prototype,"type",void 0),us=w1=v([nt("esri.symbols.LabelSymbol3D")],us);var _1;const bL=be.ofType({base:null,key:"type",typeMap:{line:Ji,path:yi}}),Brt=be.ofType({base:null,key:"type",typeMap:{line:Ji,path:yi}});let qs=_1=class extends ur{constructor(t){super(t),this.symbolLayers=new bL,this.type="line-3d"}clone(){return new _1({styleOrigin:yt(this.styleOrigin),symbolLayers:yt(this.symbolLayers),thumbnail:yt(this.thumbnail)})}static fromSimpleLineSymbol(t){return new _1({symbolLayers:new be([Ji.fromSimpleLineSymbol(t)])})}};v([E({type:bL,json:{type:Brt}})],qs.prototype,"symbolLayers",void 0),v([re({LineSymbol3D:"line-3d"},{readOnly:!0})],qs.prototype,"type",void 0),qs=_1=v([nt("esri.symbols.LineSymbol3D")],qs);var x1;const wL=be.ofType({base:null,key:"type",typeMap:{fill:Ni}});let Ao=x1=class extends ur{constructor(t){super(t),this.symbolLayers=new wL,this.type="mesh-3d"}clone(){return new x1({styleOrigin:yt(this.styleOrigin),symbolLayers:yt(this.symbolLayers),thumbnail:yt(this.thumbnail)})}static fromSimpleFillSymbol(t){return new x1({symbolLayers:new be([Ni.fromSimpleFillSymbol(t)])})}};v([E({type:wL})],Ao.prototype,"symbolLayers",void 0),v([re({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Ao.prototype,"type",void 0),Ao=x1=v([nt("esri.symbols.MeshSymbol3D")],Ao);let Xf=class extends wn{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};v([re({esriSLS:"simple-line"},{readOnly:!0})],Xf.prototype,"type",void 0),v([E({type:Number,cast:Ye,json:{write:!0}})],Xf.prototype,"width",void 0),Xf=v([nt("esri.symbols.LineSymbol")],Xf);var RE;let Mo=RE=class extends Yt{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,n,i){e[n]=i?.origin==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,n,i){i?.origin==="web-map"||(e[n]=t)}clone(){return new RE({color:yt(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};v([E({type:["begin","end","begin-end"],json:{write:!0}})],Mo.prototype,"placement",void 0),v([re({"line-marker":"line-marker"},{readOnly:!0}),E({json:{origins:{"web-map":{write:!1}}}})],Mo.prototype,"type",void 0),v([E({type:uL})],Mo.prototype,"style",void 0),v([$e("style")],Mo.prototype,"writeStyle",null),v([E({type:ge,value:null,json:{write:{allowNull:!0}}})],Mo.prototype,"color",null),v([gn("color")],Mo.prototype,"readColor",null),v([$e("color")],Mo.prototype,"writeColor",null),Mo=RE=v([nt("esri.symbols.LineSymbolMarker")],Mo);const zrt=Mo;var LE;const PE=new Ps({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let zn=LE=class extends Xf{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,n,i,r,s){if(t&&typeof t!="string")return t;const o={};return t!=null&&(o.style=t),e!=null&&(o.color=e),n!=null&&(o.width=Ye(n)),i!=null&&(o.cap=i),r!=null&&(o.join=r),s!=null&&(o.miterLimit=Ye(s)),o}clone(){return new LE({color:yt(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};v([re({esriSLS:"simple-line"},{readOnly:!0})],zn.prototype,"type",void 0),v([E({type:PE.apiValues,json:{read:PE.read,write:PE.write}})],zn.prototype,"style",void 0),v([E({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,n)=>({enabled:t!=="round"&&n?.origin==null})}}})],zn.prototype,"cap",void 0),v([E({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,n)=>({enabled:t!=="round"&&n?.origin==null})}}})],zn.prototype,"join",void 0),v([E({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":zrt}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],zn.prototype,"marker",void 0),v([E({type:Number,json:{read:!1,write:!1}})],zn.prototype,"miterLimit",void 0),zn=LE=v([nt("esri.symbols.SimpleLineSymbol")],zn);let lp=class extends wn{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};v([E({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":zn}},json:{default:null,write:!0}})],lp.prototype,"outline",void 0),v([E({type:["simple-fill","picture-fill"],readOnly:!0})],lp.prototype,"type",void 0),lp=v([nt("esri.symbols.FillSymbol")],lp);function Vrt(t,e,n){return e.imageData?vN({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):_L(e.url,n)}function _L(t,e){if(!es(t)){const n=Hrt(e);if(n)return Jd(n,"images",t)}return bh(t,e)}function Wrt(t,e,n,i){if(kc(t)){const r=vh(t);if(!r)return;e.contentType=r.mediaType,e.imageData=r.data,n&&n.imageData===e.imageData&&n.url&&Cc(n.url,e,"url",i)}else Cc(t,e,"url",i)}const xL={json:{read:{source:["imageData","url"],reader:Vrt},write:{writer(t,e,n,i){Wrt(t,e,this.source,i)}}}},EL={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,n){const i={};return e.imageData&&(i.imageData=e.imageData),e.contentType&&(i.contentType=e.contentType),e.url&&(i.url=_L(e.url,n)),i}}}};function Hrt(t){if(!t)return null;const{origin:e,layer:n}=t;if(e!=="service"&&e!=="portal-item")return null;const i=n?.type;return i==="feature"||i==="stream"?n.parsedUrl?.path:i==="map-image"||i==="tile"?t.url?.path:null}var DE;let hr=DE=class extends lp{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,n,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const r={};return t&&(r.url=t),e&&(r.outline=e),n!=null&&(r.width=Ye(n)),i!=null&&(r.height=Ye(i)),r}clone(){const t=new DE({color:yt(this.color),height:this.height,outline:yt(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",yt(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};v([re({esriPFS:"picture-fill"},{readOnly:!0})],hr.prototype,"type",void 0),v([E(xL)],hr.prototype,"url",void 0),v([E({type:Number,json:{write:!0}})],hr.prototype,"xscale",void 0),v([E({type:Number,json:{write:!0}})],hr.prototype,"yscale",void 0),v([E({type:Number,cast:Ye,json:{write:!0}})],hr.prototype,"width",void 0),v([E({type:Number,cast:Ye,json:{write:!0}})],hr.prototype,"height",void 0),v([E({type:Number,cast:Ye,json:{write:!0}})],hr.prototype,"xoffset",void 0),v([E({type:Number,cast:Ye,json:{write:!0}})],hr.prototype,"yoffset",void 0),v([E(EL)],hr.prototype,"source",void 0),hr=DE=v([nt("esri.symbols.PictureFillSymbol")],hr);let wa=class extends wn{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};v([E({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],wa.prototype,"angle",void 0),v([E({type:["simple-marker","picture-marker"],readOnly:!0})],wa.prototype,"type",void 0),v([E({type:Number,cast:Ye,json:{write:!0}})],wa.prototype,"xoffset",void 0),v([E({type:Number,cast:Ye,json:{write:!0}})],wa.prototype,"yoffset",void 0),v([E({cast:t=>t==="auto"?t:Rd(Ye(t)),json:{write:!0}})],wa.prototype,"size",void 0),wa=v([nt("esri.symbols.MarkerSymbol")],wa);var jE;let gi=jE=class extends wa{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string"&&t.imageData==null)return t;const i={};return t&&(i.url=t),e!=null&&(i.width=Ye(e)),n!=null&&(i.height=Ye(n)),i}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new jE({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",yt(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};v([E({json:{write:!1}})],gi.prototype,"color",void 0),v([re({esriPMS:"picture-marker"},{readOnly:!0})],gi.prototype,"type",void 0),v([E(xL)],gi.prototype,"url",void 0),v([E(EL)],gi.prototype,"source",void 0),v([E({type:Number,cast:Ye,json:{write:!0}})],gi.prototype,"height",void 0),v([gn("height",["height","size"])],gi.prototype,"readHeight",null),v([E({type:Number,cast:Ye,json:{write:!0}})],gi.prototype,"width",void 0),v([E({json:{write:!1}})],gi.prototype,"size",void 0),gi=jE=v([nt("esri.symbols.PictureMarkerSymbol")],gi);var uu;const SL=be.ofType({base:null,key:"type",typeMap:{icon:Jn,object:Xn,text:kn}});let Oi=uu=class extends ur{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new SL,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return yL(this)}hasVisibleVerticalOffset(){return kE(this)}clone(){return new uu({verticalOffset:yt(this.verticalOffset),callout:yt(this.callout),styleOrigin:yt(this.styleOrigin),symbolLayers:yt(this.symbolLayers),thumbnail:yt(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new uu({symbolLayers:new be([Jn.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new uu({symbolLayers:new be([Jn.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if(t.data?.symbol?.type!=="CIMPointSymbol")return null;const e=t.data.symbol;return new uu(e?.callout?{symbolLayers:new be([Jn.fromCIMSymbol(t)]),callout:new So({size:.5,color:new ge([0,0,0])}),verticalOffset:new ba({screenLength:40})}:{symbolLayers:new be([Jn.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new uu({symbolLayers:new be([kn.fromTextSymbol(t)])})}};v([E({type:ba,json:{write:!0}})],Oi.prototype,"verticalOffset",void 0),v([E(gL)],Oi.prototype,"callout",void 0),v([E({type:SL,json:{origins:{"web-scene":{write:!0}}}})],Oi.prototype,"symbolLayers",void 0),v([re({PointSymbol3D:"point-3d"},{readOnly:!0})],Oi.prototype,"type",void 0),Oi=uu=v([nt("esri.symbols.PointSymbol3D")],Oi);var Kf;const AL=be.ofType({base:null,key:"type",typeMap:{extrude:ya,fill:Ni,icon:Jn,line:Ji,object:Xn,text:kn,water:va}});let hs=Kf=class extends ur{constructor(t){super(t),this.symbolLayers=new AL,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&aa(Pe.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&aa(Pe.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(Hw(()=>this.symbolLayers,"after-add",({item:e})=>t(e),k5))}clone(){return new Kf({styleOrigin:yt(this.styleOrigin),symbolLayers:yt(this.symbolLayers),thumbnail:yt(this.thumbnail)})}static fromJSON(t){const e=new Kf;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const n=e.symbolLayers.at(0),i=e.symbolLayers.at(1);!i.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(n.outline={size:i.size,color:i.material!=null?i.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new Kf({symbolLayers:new be([Ni.fromSimpleFillSymbol(t)])})}};v([E({type:AL,json:{write:!0}})],hs.prototype,"symbolLayers",void 0),v([re({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],hs.prototype,"type",void 0),hs=Kf=v([nt("esri.symbols.PolygonSymbol3D")],hs);var $E;const FE=new Ps({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let pr=$E=class extends lp{constructor(...t){super(...t),this.color=new ge([0,0,0,.25]),this.outline=new zn,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string")return t;const i={};return t&&(i.style=t),e&&(i.outline=e),n&&(i.color=n),i}clone(){return new $E({color:yt(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};v([E()],pr.prototype,"color",void 0),v([E()],pr.prototype,"outline",void 0),v([re({esriSFS:"simple-fill"},{readOnly:!0})],pr.prototype,"type",void 0),v([E({type:FE.apiValues,json:{read:FE.read,write:FE.write}})],pr.prototype,"style",void 0),pr=$E=v([nt("esri.symbols.SimpleFillSymbol")],pr);var UE;const GE=new Ps({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Vn=UE=class extends wa{constructor(...t){super(...t),this.color=new ge([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new zn}normalizeCtorArgs(t,e,n,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.style=t),e!=null&&(r.size=Ye(e)),n&&(r.outline=n),i&&(r.color=i),r}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new UE({angle:this.angle,color:yt(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};v([E()],Vn.prototype,"color",void 0),v([$e("color")],Vn.prototype,"writeColor",null),v([re({esriSMS:"simple-marker"},{readOnly:!0})],Vn.prototype,"type",void 0),v([E()],Vn.prototype,"size",void 0),v([E({type:GE.apiValues,json:{read:GE.read,write:GE.write}})],Vn.prototype,"style",void 0),v([E({type:String,json:{write:!0}})],Vn.prototype,"path",null),v([E({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":zn}},json:{default:null,write:!0}})],Vn.prototype,"outline",void 0),Vn=UE=v([nt("esri.symbols.SimpleMarkerSymbol")],Vn);var BE;let _e=BE=class extends wn{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Fr,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string")return t;const i={};return t&&(i.text=t),e&&(i.font=e),n&&(i.color=n),i}writeLineWidth(t,e,n,i){i&&typeof i!="string"?i.origin:e[n]=t}castLineWidth(t){return Ye(t)}writeLineHeight(t,e,n,i){i&&typeof i!="string"?i.origin:e[n]=t}clone(){return new BE({angle:this.angle,backgroundColor:yt(this.backgroundColor),borderLineColor:yt(this.borderLineColor),borderLineSize:this.borderLineSize,color:yt(this.color),font:this.font&&this.font.clone(),haloColor:yt(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};v([E({type:ge,json:{write:!0}})],_e.prototype,"backgroundColor",void 0),v([E({type:ge,json:{write:!0}})],_e.prototype,"borderLineColor",void 0),v([E({type:Number,json:{write:!0},cast:Ye})],_e.prototype,"borderLineSize",void 0),v([E({type:Fr,json:{write:!0}})],_e.prototype,"font",void 0),v([E({...pL,json:{write:!0}})],_e.prototype,"horizontalAlignment",void 0),v([E({type:Boolean,json:{write:!0}})],_e.prototype,"kerning",void 0),v([E({type:ge,json:{write:!0}})],_e.prototype,"haloColor",void 0),v([E({type:Number,cast:Ye,json:{write:!0}})],_e.prototype,"haloSize",void 0),v([E({type:Boolean,json:{write:!0}})],_e.prototype,"rightToLeft",void 0),v([E({type:Boolean,json:{write:!0}})],_e.prototype,"rotated",void 0),v([E({type:String,json:{write:!0}})],_e.prototype,"text",void 0),v([re({esriTS:"text"},{readOnly:!0})],_e.prototype,"type",void 0),v([E({...dL,json:{write:!0}})],_e.prototype,"verticalAlignment",void 0),v([E({type:Number,cast:Ye,json:{write:!0}})],_e.prototype,"xoffset",void 0),v([E({type:Number,cast:Ye,json:{write:!0}})],_e.prototype,"yoffset",void 0),v([E({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],_e.prototype,"angle",void 0),v([E({type:Number,json:{write:!0}})],_e.prototype,"width",void 0),v([E({type:Number})],_e.prototype,"lineWidth",void 0),v([$e("lineWidth")],_e.prototype,"writeLineWidth",null),v([Sh("lineWidth")],_e.prototype,"castLineWidth",null),v([E(hL)],_e.prototype,"lineHeight",void 0),v([$e("lineHeight")],_e.prototype,"writeLineHeight",null),_e=BE=v([nt("esri.symbols.TextSymbol")],_e);var zE;let vi=zE=class extends wn{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:ut.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e?.portal,super.read(t,e)}clone(){return new zE({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol(t)}async fetchCIMSymbol(t){n_(Pe.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const e=await this._fetchSymbol({...t,acceptedFormats:["cim"]});if(e?.type!=="cim")throw new le("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return e}async _fetchSymbol(t){const e=t!=null?t.cache:null,n=e?this._fetchCacheKey:null;if(e!=null){const o=n&&e.get(n);if(o)return o.clone()}const{resolveWebStyleSymbol:i}=await import("./webStyleSymbolUtils-CyolzL_F.js");lh(t);const r=i(this,{portal:this.portal},t);r.catch(o=>{Pe.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const s=await r;return e?.set(n,s.clone()),s}};v([E({json:{write:!1}})],vi.prototype,"color",void 0),v([E({type:String,json:{write:!0}})],vi.prototype,"styleName",void 0),v([E({type:ut,json:{write:!1}})],vi.prototype,"portal",void 0),v([E({type:String,json:{read:Xy,write:Cc}})],vi.prototype,"styleUrl",void 0),v([E({type:op,json:{read:!1}})],vi.prototype,"thumbnail",void 0),v([E({type:String,json:{write:!0}})],vi.prototype,"name",void 0),v([re({styleSymbolReference:"web-style"},{readOnly:!0})],vi.prototype,"type",void 0),v([E()],vi.prototype,"_fetchCacheKey",null),vi=zE=v([nt("esri.symbols.WebStyleSymbol")],vi);function qrt(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function VE(t){switch(t?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const E1={base:wn,key:"type",typeMap:{"simple-fill":pr,"picture-fill":hr,"picture-marker":gi,"simple-line":zn,"simple-marker":Vn,text:_e,"label-3d":us,"line-3d":qs,"mesh-3d":Ao,"point-3d":Oi,"polygon-3d":hs,"web-style":vi,cim:Yi},errorContext:"symbol"},Yrt={base:wn,key:"type",typeMap:{"picture-marker":gi,"simple-marker":Vn,"point-3d":Oi,cim:Yi},errorContext:"symbol"},Zrt={base:wn,key:"type",typeMap:{"simple-line":zn,"line-3d":qs,cim:Yi},errorContext:"symbol"},Jrt={base:wn,key:"type",typeMap:{"simple-fill":pr,"picture-fill":hr,"polygon-3d":hs,cim:Yi},errorContext:"symbol"},Xrt={base:wn,key:"type",typeMap:{"picture-marker":gi,"simple-marker":Vn,text:_e,"web-style":vi,cim:Yi},errorContext:"symbol"},Krt=Jw({types:E1}),Qrt={base:wn,key:"type",typeMap:{"simple-fill":pr,"picture-fill":hr,"picture-marker":gi,"simple-line":zn,"simple-marker":Vn,text:_e,"line-3d":qs,"mesh-3d":Ao,"point-3d":Oi,"polygon-3d":hs,"web-style":vi,cim:Yi},errorContext:"symbol"},tst={base:wn,key:"type",typeMap:{text:_e,"label-3d":us},errorContext:"symbol"},est={base:wn,key:"type",typeMap:{"line-3d":qs,"mesh-3d":Ao,"point-3d":Oi,"polygon-3d":hs,"web-style":vi,cim:Yi},errorContext:"symbol"},nst={base:wn,key:"type",typeMap:{"label-3d":us},errorContext:"symbol"},ist=Sc(E1);var WE;function rst(t){if(!t)return null;const e={};for(const n in t){const i=wg(t[n]);i&&(e[n]=i)}return Object.keys(e).length!==0?e:null}function sst(t){if(t==null)return null;const e={};for(const n in t){const i=t[n];i&&(e[n]=i.toJSON())}return Object.keys(e).length!==0?e:null}let Xi=class extends qi(Yt){static{WE=this}constructor(t){super(t),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:Fd(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&zq(Pe.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(t){const e=this._get("aggregateGeometries");JSON.stringify(e)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const e=this._get("attributes");e!==t&&(this._set("attributes",t),this._notifyLayer("attributes",e,t))}set geometry(t){const e=this._get("geometry");e!==t&&(this._set("geometry",t),t?.type!=="mesh"&&this._notifyLayer("geometry",e,t))}set popupTemplate(t){const e=this._get("popupTemplate");e!==t&&(this._set("popupTemplate",t),this._notifyLayer("popupTemplate",e,t))}set symbol(t){const e=this._get("symbol");e!==t&&(this._set("symbol",t),this._notifyLayer("symbol",e,t))}get version(){return this._version}set visible(t){const e=this._get("visible");e!==t&&(this._set("visible",t),this._notifyLayer("visible",e,t))}cloneShallow(){return new WE({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;const e=A8(this.origin);if(e)return e.popupTemplate??(t?e.defaultPopupTemplate:null)??null;const n=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[n,this.sourceLayer,this.layer])if(i&&typeof i=="object"){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(t&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(t){return this.attributes?.[t]}setAttribute(t,e){if(this.attributes){const n=this.getAttribute(t);this.attributes[t]=e,this._notifyLayer("attributes",n,e,t)}else this.attributes={[t]:e}}getObjectId(){const t=S8(this.origin);if(t)return M8(this,t);const e=this.sourceLayer??this.layer;return e?M8(this,e):null}getGlobalId(){const t=S8(this.origin);if(t?.globalIdField)return this.getAttribute(t.globalIdField);const e=this.sourceLayer??this.layer;return e&&"globalIdField"in e&&e.globalIdField?this.getAttribute(e.globalIdField):null}toJSON(){return{aggregateGeometries:sst(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:qd(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(t={}){const{geometry:e}=this;if(e?.type==="mesh"){const n={origin:e.origin,transform:e.transform};this._notifyLayer("origin-transform",n,n,t.action)}}_notifyLayer(t,e,n,i){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:t,oldValue:e,newValue:n};t==="origin-transform"&&(r.action=i),t==="attributes"&&(r.attributeName=i),this.layer.graphicChanged(r)}_watchMeshGeometryChanges(){this.addHandles([Py(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:t,origin:e})=>{this._lastMeshTransform.localMatrix===t&&this._lastMeshTransform.origin===e||(this._lastMeshTransform.localMatrix=t,this._lastMeshTransform.origin=e,this.notifyMeshTransformChanged())}),Py(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const t=this.geometry;t?.type==="mesh"&&t.vertexSpace.origin?(this._lastMeshTransform.localMatrix=t.transform?.localMatrix,this._lastMeshTransform.origin=t.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(t,e)=>t===e,sync:!0})])}};v([E({value:null,json:{read:rst}})],Xi.prototype,"aggregateGeometries",null),v([E({value:null})],Xi.prototype,"attributes",null),v([E({value:null,types:E8,json:{read:wg}})],Xi.prototype,"geometry",null),v([E({type:Boolean})],Xi.prototype,"isAggregate",void 0),v([E({clonable:!1})],Xi.prototype,"layer",void 0),v([E({clonable:"reference"})],Xi.prototype,"origin",void 0),v([E({type:x8,value:null})],Xi.prototype,"popupTemplate",null),v([E({clonable:"reference"})],Xi.prototype,"sourceLayer",void 0),v([E({value:null,types:E1})],Xi.prototype,"symbol",null),v([E({clonable:!1,json:{read:!1,write:!1}})],Xi.prototype,"_version",void 0),v([E({type:Boolean,value:!0})],Xi.prototype,"visible",null),Xi=WE=v([nt("esri.Graphic")],Xi);async function ost(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:n}=await import("./portalLayers-CgoWRTMY.js");try{return await n(e)}catch(i){const r=e?.portalItem,s=r?.id||"unset",o=r?.portal?.url||he.portalUrl;throw Pe.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+s+"')",i),i}}const HE={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function S1(t,e,n,i=Jc){const r=new Rs(Kg(i)),s=Rt.fromJSDate(t,{zone:r}),o=n==="decades"||n==="centuries"?"year":IL(n);return n==="decades"&&(e*=10),n==="centuries"&&(e*=100),s.plus({[o]:e}).toJSDate()}function ast(t,e,n="milliseconds"){const i=t.getTime(),r=TL(e,n,"milliseconds");return new Date(i+r)}function ML(t,e,n=Jc){const i=new Rs(Kg(n)),r=Rt.fromJSDate(t,{zone:i});if(e==="decades"||e==="centuries"){const o=r.startOf("year"),{year:a}=o,l=a-a%(e==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=IL(e);return r.startOf(s).toJSDate()}function TL(t,e,n){return t===0?0:t*HE[e]/HE[n]}function lst(t,e){return t&&e?t.intersection(e):t||e}function IL(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var ps;let dr=class extends Yt{static{ps=this}static get allTime(){return NL}static get empty(){return cst}static fromArray(t){return new ps({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return e.end!=null?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(ps.allTime)}get isEmpty(){return this.equals(ps.empty)}readStart(t,e){return e.start!=null?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new ps({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,i=t.start?.getTime()??t.start,r=t.end?.getTime()??t.end;return e===i&&n===r}expandTo(t,e=Jc){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=ML(n,t,e));let i=this.end;if(i){const r=ML(i,t,e);i=i.getTime()===r.getTime()?r:S1(r,1,t,e)}return new ps({start:n,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return ps.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,i=t.start?.getTime()??-1/0,r=t.end?.getTime()??1/0;let s,o;return i>=e&&i<=n?s=i:e>=i&&e<=r&&(s=e),n>=i&&n<=r?o=n:r>=e&&r<=n&&(o=r),s==null||o==null||isNaN(s)||isNaN(o)?ps.empty:new ps({start:s===-1/0?null:new Date(s),end:o===1/0?null:new Date(o)})}offset(t,e,n=Jc){if(this.isEmpty||this.isAllTime)return this.clone();const i=new ps,{start:r,end:s}=this;return r!=null&&(i.start=S1(r,t,e,n)),s!=null&&(i.end=S1(s,t,e,n)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return NL.clone();const e=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,n=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new ps({start:e,end:n})}};v([E({type:Date,json:{write:{allowNull:!0}}})],dr.prototype,"end",void 0),v([gn("end")],dr.prototype,"readEnd",null),v([$e("end")],dr.prototype,"writeEnd",null),v([E({readOnly:!0,json:{read:!1}})],dr.prototype,"isAllTime",null),v([E({readOnly:!0,json:{read:!1}})],dr.prototype,"isEmpty",null),v([E({type:Date,json:{write:{allowNull:!0}}})],dr.prototype,"start",void 0),v([gn("start")],dr.prototype,"readStart",null),v([$e("start")],dr.prototype,"writeStart",null),dr=ps=v([nt("esri.time.TimeExtent")],dr);const NL=new dr,cst=new dr({start:void 0,end:void 0});let ust=0,En=class extends _g(s1(J3)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new pe(-180,-90,180,90,Ut.WGS84),this.id=Date.now().toString(16)+"-layer-"+ust++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Ut.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const e=typeof t=="string"?{url:t}:t;return(await import("./arcgisLayers-DU2emPQe.js")).fromUrl(e)}static fromPortalItem(t){return ost(t)}initialize(){this.when().catch(t=>{Mc(t)||Pe.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const{parent:t}=this;t&&(this.parent=null,t.removeChildLayer?.(this))}get effectiveVisible(){return this.visible&&(this.parent?.effectiveVisible??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){const{parent:t}=this;t&&(t.removeChildLayer?.(this),this.parent=null)}get parsedUrl(){return ts(this.url)}createLayerView(t,e){return Promise.reject(new le("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await vn(t,{query:{f:"json"},responseType:"json"})).data;throw new le("layer:no-attribution-data","Layer does not have attribution data")}};v([E({type:String})],En.prototype,"attributionDataUrl",void 0),v([E({readOnly:!0})],En.prototype,"effectiveVisible",null),v([E({type:pe})],En.prototype,"fullExtent",void 0),v([E({readOnly:!0})],En.prototype,"hasAttributionData",null),v([E({type:String,clonable:!1})],En.prototype,"id",void 0),v([E({type:Boolean,nonNullable:!0})],En.prototype,"legendEnabled",void 0),v([E({type:["show","hide","hide-children"]})],En.prototype,"listMode",void 0),v([E({type:Number,range:{min:0,max:1},nonNullable:!0})],En.prototype,"opacity",void 0),v([E({clonable:!1})],En.prototype,"parent",void 0),v([E({readOnly:!0})],En.prototype,"parsedUrl",null),v([E({type:Boolean,readOnly:!0})],En.prototype,"persistenceEnabled",void 0),v([E({type:Boolean})],En.prototype,"popupEnabled",void 0),v([E({type:Boolean})],En.prototype,"attributionVisible",void 0),v([E({type:Ut})],En.prototype,"spatialReference",void 0),v([E({type:String})],En.prototype,"title",void 0),v([E({readOnly:!0,json:{read:!1}})],En.prototype,"type",void 0),v([E()],En.prototype,"url",void 0),v([E({type:dr})],En.prototype,"visibilityTimeExtent",void 0),v([E({type:Boolean,nonNullable:!0})],En.prototype,"visible",void 0),En=v([nt("esri.layers.Layer")],En);function OL(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="feature"}function hst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="graphics"}function pst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function dst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-notes"&&"sublayers"in t}function fst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph"&&"layers"in t}function mst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph-sublayer"}function yst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="link-chart"&&"layers"in t}function gst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function vst(t){return t?.type==="subtype-sublayer"}const bst={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function qE(t){const e=t?.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function wst(t){return t.type==="integrated-mesh"||t.type==="integrated-mesh-3dtiles"}function _st(t){return t?.type==="feature"&&!t.url&&t.source?.type==="memory"}function xst(t){const e=t?.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&t?.source?.type==="feature-layer"}function Est(t){return t?.type==="feature"&&t.source?.type==="feature-layer"}function Sst(t){return OL(t)&&Est(t)}async function Ast(t,e){const n=Ge?.findServerInfo(t);if(n?.currentVersion!=null)return n.owningSystemUrl||null;const i=t.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const r=`${t.slice(0,i)}/rest/info`,s=e!=null?e.signal:null,{data:o}=await vn(r,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function kL(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function Mst(t){return kL(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function Tst(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"knowledge-graph-sublayer":return!0;default:return!1}}function Ist(t){return!!Tst(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}function CL(t,e){return null}function Nst(t){return null}function RL(t){return!t||t.type==="Feature Service"&&!t.sourceUrl}function Ost(t,e){!e||!RL(t)||CL(t.url)}const YE=[252,146,31,255],kst=[153,153,153,255],LL={type:"esriSMS",style:"esriSMSCircle",size:6,color:YE,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},PL={type:"esriSLS",style:"esriSLSSolid",width:.75,color:YE},DL={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},Cst={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},Rst={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},Lst={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},Pst={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},ZE=Vn.fromJSON(LL),JE=zn.fromJSON(PL),XE=pr.fromJSON(DL),Dst=_e.fromJSON(Cst);function jst(t){if(t==null)return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return ZE;case"polyline":return JE;case"polygon":case"extent":return XE}return null}const $st=Vn.fromJSON(Rst),Fst=zn.fromJSON(Lst),Ust=pr.fromJSON(Pst),Gst=Oi.fromSimpleMarkerSymbol(ZE),Bst=qs.fromSimpleLineSymbol(JE),zst=hs.fromSimpleFillSymbol(XE),Vst=new Ao({symbolLayers:new be([new Ni({material:{color:YE},edges:new U8({size:Hs(1),color:new ge(kst)})})])}),Wst=new qs({symbolLayers:new be([new Ji({material:{color:new ge([0,0,0])},size:Hs(1)})])}),Hst=new hs({symbolLayers:new be([new Ni({outline:{color:new ge([0,0,0]),size:Hs(1)}})])});function qst(t){if(t==null)return null;switch(t.type){case"mesh":return Vst;case"point":case"multipoint":return Gst;case"polyline":return Bst;case"polygon":case"extent":return zst}return null}const jL="#useCIMFallbackSymbology()",hu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function $L(t,e=hu){if(!t)return{symbol:null};const{retainId:n=hu.retainId,ignoreDrivers:i=hu.ignoreDrivers,hasLabelingContext:r=hu.hasLabelingContext,retainCIM:s=hu.retainCIM,cimFallbackEnabled:o=hu.cimFallbackEnabled}=e;let a=null;if(VE(t))a=t.clone();else if(t.type==="web-style")a=t.clone();else if(t.type==="cim"){const l=t.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=s?t.clone():Oi.fromCIMSymbol(t);break;case"CIMLineSymbol":o&&(a=Wst.clone(),e?.logWarning?.(jL,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=Hst.clone(),e?.logWarning?.(jL,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new le("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:t})}}else if(t instanceof zn)a=qs.fromSimpleLineSymbol(t);else if(t instanceof Vn)a=Oi.fromSimpleMarkerSymbol(t);else if(t instanceof gi)a=Oi.fromPictureMarkerSymbol(t);else if(t instanceof pr)a=e.geometryType&&e.geometryType==="mesh"?Ao.fromSimpleFillSymbol(t):hs.fromSimpleFillSymbol(t);else{if(!(t instanceof _e))return{error:new le("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};a=r?us.fromTextSymbol(t):Oi.fromTextSymbol(t)}return n&&a&&a.type!=="cim"&&(a.id=t.id),!i||a.type==="cim"||a instanceof vi||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function Yst(t,e,n,i){const r=UL(t,{},{context:i,isLabelSymbol:!1});r!=null&&el(n,r,e)}function Zst(t,e,n,i){const r=UL(t,{},{context:i,isLabelSymbol:!0});r!=null&&(e[n]=r)}function FL(t){return VE(t)||t instanceof vi}function Jst(t){return t?.type==="polygon-3d"||t?.type==="line-3d"}function UL(t,e,n){if(t==null)return null;const{context:i,isLabelSymbol:r}=n,s=i?.origin,o=i?.messages;if(s==="web-scene"&&!FL(t)){const a=$L(t,{retainCIM:!0,hasLabelingContext:r});return a.symbol!=null?a.symbol.write(e,i):(o?.push(new le("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:i,error:a.error})),null)}return qE(i?.layer)&&Jst(t)?(o?.push(new le("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported on layers of type '${i?.layer?.declaredClass}'.`,{symbol:t,context:i})),null):(s==="web-map"||s==="portal-item"&&!qE(i?.layer))&&FL(t)?(o?.push(new le("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:i})),null):t.write(e,i)}function A1(t,e){return Krt(t,null,e)}const M1=globalThis,KE=M1.ShadowRoot&&(M1.ShadyCSS===void 0||M1.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,QE=Symbol(),GL=new WeakMap;let BL=class{constructor(t,e,n){if(this._$cssResult$=!0,n!==QE)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(KE&&t===void 0){const n=e!==void 0&&e.length===1;n&&(t=GL.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&GL.set(e,t))}return t}toString(){return this.cssText}};const Xst=t=>new BL(typeof t=="string"?t:t+"",void 0,QE),tS=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((i,r,s)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+t[s+1],t[0]);return new BL(n,t,QE)},Kst=(t,e)=>{if(KE)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const i=document.createElement("style"),r=M1.litNonce;r!==void 0&&i.setAttribute("nonce",r),i.textContent=n.cssText,t.appendChild(i)}},zL=KE?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const i of e.cssRules)n+=i.cssText;return Xst(n)})(t):t,{is:Qst,defineProperty:tot,getOwnPropertyDescriptor:eot,getOwnPropertyNames:not,getOwnPropertySymbols:iot,getPrototypeOf:rot}=Object,T1=globalThis,VL=T1.trustedTypes,sot=VL?VL.emptyScript:"",oot=T1.reactiveElementPolyfillSupport,Qf=(t,e)=>t,eS={toAttribute(t,e){switch(e){case Boolean:t=t?sot:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},nS=(t,e)=>!Qst(t,e),WL={attribute:!0,type:String,converter:eS,reflect:!1,useDefault:!1,hasChanged:nS};Symbol.metadata??=Symbol("metadata"),T1.litPropertyMetadata??=new WeakMap;let cp=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=WL){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(t,n,e);i!==void 0&&tot(this.prototype,t,i)}}static getPropertyDescriptor(t,e,n){const{get:i,set:r}=eot(this.prototype,t)??{get(){return this[e]},set(s){this[e]=s}};return{get:i,set(s){const o=i?.call(this);r?.call(this,s),this.requestUpdate(t,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??WL}static _$Ei(){if(this.hasOwnProperty(Qf("elementProperties")))return;const t=rot(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Qf("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Qf("properties"))){const e=this.properties,n=[...not(e),...iot(e)];for(const i of n)this.createProperty(i,e[i])}const t=this[Symbol.metadata];if(t!==null){const e=litPropertyMetadata.get(t);if(e!==void 0)for(const[n,i]of e)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[e,n]of this.elementProperties){const i=this._$Eu(e,n);i!==void 0&&this._$Eh.set(i,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const i of n)e.unshift(zL(i))}else t!==void 0&&e.push(zL(t));return e}static _$Eu(t,e){const n=e.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const n of e.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Kst(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$ET(t,e){const n=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,n);if(i!==void 0&&n.reflect===!0){const r=(n.converter?.toAttribute!==void 0?n.converter:eS).toAttribute(e,n.type);this._$Em=t,r==null?this.removeAttribute(i):this.setAttribute(i,r),this._$Em=null}}_$AK(t,e){const n=this.constructor,i=n._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const r=n.getPropertyOptions(i),s=typeof r.converter=="function"?{fromAttribute:r.converter}:r.converter?.fromAttribute!==void 0?r.converter:eS;this._$Em=i;const o=s.fromAttribute(e,r.type);this[i]=o??this._$Ej?.get(i)??o,this._$Em=null}}requestUpdate(t,e,n){if(t!==void 0){const i=this.constructor,r=this[t];if(n??=i.getPropertyOptions(t),!((n.hasChanged??nS)(r,e)||n.useDefault&&n.reflect&&r===this._$Ej?.get(t)&&!this.hasAttribute(i._$Eu(t,n))))return;this.C(t,e,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,e,{useDefault:n,reflect:i,wrapped:r},s){n&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,s??e??this[t]),r!==!0||s!==void 0)||(this._$AL.has(t)||(this.hasUpdated||n||(e=void 0),this._$AL.set(t,e)),i===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,r]of this._$Ep)this[i]=r;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[i,r]of n){const{wrapped:s}=r,o=this[i];s!==!0||this._$AL.has(i)||o===void 0||this.C(i,void 0,r,o)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach(n=>n.hostUpdate?.()),this.update(e)):this._$EM()}catch(n){throw t=!1,this._$EM(),n}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach(e=>e.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(e=>this._$ET(e,this[e])),this._$EM()}updated(t){}firstUpdated(t){}};cp.elementStyles=[],cp.shadowRootOptions={mode:"open"},cp[Qf("elementProperties")]=new Map,cp[Qf("finalized")]=new Map,oot?.({ReactiveElement:cp}),(T1.reactiveElementVersions??=[]).push("2.1.1");const iS=globalThis,I1=iS.trustedTypes,HL=I1?I1.createPolicy("lit-html",{createHTML:t=>t}):void 0,qL="$lit$",kl=`lit$${Math.random().toFixed(9).slice(2)}$`,YL="?"+kl,aot=`<${YL}>`,pu=document,tm=()=>pu.createComment(""),em=t=>t===null||typeof t!="object"&&typeof t!="function",rS=Array.isArray,lot=t=>rS(t)||typeof t?.[Symbol.iterator]=="function",sS=`[ 	
\f\r]`,nm=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ZL=/-->/g,JL=/>/g,du=RegExp(`>|${sS}(?:([^\\s"'>=/]+)(${sS}*=${sS}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),XL=/'/g,KL=/"/g,QL=/^(?:script|style|textarea|title)$/i,tP=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),up=tP(1),cot=tP(2),_a=Symbol.for("lit-noChange"),Ze=Symbol.for("lit-nothing"),eP=new WeakMap,fu=pu.createTreeWalker(pu,129);function nP(t,e){if(!rS(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return HL!==void 0?HL.createHTML(e):e}const uot=(t,e)=>{const n=t.length-1,i=[];let r,s=e===2?"<svg>":e===3?"<math>":"",o=nm;for(let a=0;a<n;a++){const l=t[a];let c,p,d=-1,f=0;for(;f<l.length&&(o.lastIndex=f,p=o.exec(l),p!==null);)f=o.lastIndex,o===nm?p[1]==="!--"?o=ZL:p[1]!==void 0?o=JL:p[2]!==void 0?(QL.test(p[2])&&(r=RegExp("</"+p[2],"g")),o=du):p[3]!==void 0&&(o=du):o===du?p[0]===">"?(o=r??nm,d=-1):p[1]===void 0?d=-2:(d=o.lastIndex-p[2].length,c=p[1],o=p[3]===void 0?du:p[3]==='"'?KL:XL):o===KL||o===XL?o=du:o===ZL||o===JL?o=nm:(o=du,r=void 0);const y=o===du&&t[a+1].startsWith("/>")?" ":"";s+=o===nm?l+aot:d>=0?(i.push(c),l.slice(0,d)+qL+l.slice(d)+kl+y):l+kl+(d===-2?a:y)}return[nP(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};class J0{constructor({strings:e,_$litType$:n},i){let r;this.parts=[];let s=0,o=0;const a=e.length-1,l=this.parts,[c,p]=uot(e,n);if(this.el=J0.createElement(c,i),fu.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(r=fu.nextNode())!==null&&l.length<a;){if(r.nodeType===1){if(r.hasAttributes())for(const d of r.getAttributeNames())if(d.endsWith(qL)){const f=p[o++],y=r.getAttribute(d).split(kl),g=/([.?@])?(.*)/.exec(f);l.push({type:1,index:s,name:g[2],strings:y,ctor:g[1]==="."?pot:g[1]==="?"?dot:g[1]==="@"?fot:N1}),r.removeAttribute(d)}else d.startsWith(kl)&&(l.push({type:6,index:s}),r.removeAttribute(d));if(QL.test(r.tagName)){const d=r.textContent.split(kl),f=d.length-1;if(f>0){r.textContent=I1?I1.emptyScript:"";for(let y=0;y<f;y++)r.append(d[y],tm()),fu.nextNode(),l.push({type:2,index:++s});r.append(d[f],tm())}}}else if(r.nodeType===8)if(r.data===YL)l.push({type:2,index:s});else{let d=-1;for(;(d=r.data.indexOf(kl,d+1))!==-1;)l.push({type:7,index:s}),d+=kl.length-1}s++}}static createElement(e,n){const i=pu.createElement("template");return i.innerHTML=e,i}}function hp(t,e,n=t,i){if(e===_a)return e;let r=i!==void 0?n._$Co?.[i]:n._$Cl;const s=em(e)?void 0:e._$litDirective$;return r?.constructor!==s&&(r?._$AO?.(!1),s===void 0?r=void 0:(r=new s(t),r._$AT(t,n,i)),i!==void 0?(n._$Co??=[])[i]=r:n._$Cl=r),r!==void 0&&(e=hp(t,r._$AS(t,e.values),r,i)),e}let hot=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:n}=this._$AD,i=(t?.creationScope??pu).importNode(e,!0);fu.currentNode=i;let r=fu.nextNode(),s=0,o=0,a=n[0];for(;a!==void 0;){if(s===a.index){let l;a.type===2?l=new Md(r,r.nextSibling,this,t):a.type===1?l=new a.ctor(r,a.name,a.strings,this,t):a.type===6&&(l=new mot(r,this,t)),this._$AV.push(l),a=n[++o]}s!==a?.index&&(r=fu.nextNode(),s++)}return fu.currentNode=pu,i}p(t){let e=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}};class Md{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,i,r){this.type=2,this._$AH=Ze,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=i,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=hp(this,e,n),em(e)?e===Ze||e==null||e===""?(this._$AH!==Ze&&this._$AR(),this._$AH=Ze):e!==this._$AH&&e!==_a&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):lot(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Ze&&em(this._$AH)?this._$AA.nextSibling.data=e:this.T(pu.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:i}=e,r=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=J0.createElement(nP(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===r)this._$AH.p(n);else{const s=new hot(r,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(e){let n=eP.get(e.strings);return n===void 0&&eP.set(e.strings,n=new J0(e)),n}k(e){rS(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let i,r=0;for(const s of e)r===n.length?n.push(i=new Md(this.O(tm()),this.O(tm()),this,this.options)):i=n[r],i._$AI(s),r++;r<n.length&&(this._$AR(i&&i._$AB.nextSibling,r),n.length=r)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}let N1=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,n,i,r){this.type=1,this._$AH=Ze,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=r,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Ze}_$AI(t,e=this,n,i){const r=this.strings;let s=!1;if(r===void 0)t=hp(this,t,e,0),s=!em(t)||t!==this._$AH&&t!==_a,s&&(this._$AH=t);else{const o=t;let a,l;for(t=r[0],a=0;a<r.length-1;a++)l=hp(this,o[n+a],e,a),l===_a&&(l=this._$AH[a]),s||=!em(l)||l!==this._$AH[a],l===Ze?t=Ze:t!==Ze&&(t+=(l??"")+r[a+1]),this._$AH[a]=l}s&&!i&&this.j(t)}j(t){t===Ze?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},pot=class extends N1{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Ze?void 0:t}},dot=class extends N1{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Ze)}};class fot extends N1{constructor(e,n,i,r,s){super(e,n,i,r,s),this.type=5}_$AI(e,n=this){if((e=hp(this,e,n,0)??Ze)===_a)return;const i=this._$AH,r=e===Ze&&i!==Ze||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==Ze&&(i===Ze||r);r&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class mot{constructor(e,n,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){hp(this,e)}}const yot={I:Md},got=iS.litHtmlPolyfillSupport;got?.(J0,Md),(iS.litHtmlVersions??=[]).push("3.3.1");const vot=(t,e,n)=>{const i=n?.renderBefore??e;let r=i._$litPart$;if(r===void 0){const s=n?.renderBefore??null;i._$litPart$=r=new Md(e.insertBefore(tm(),s),s,void 0,n??{})}return r._$AI(t),r},oS=globalThis;let pp=class extends cp{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=vot(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return _a}};pp._$litElement$=!0,pp.finalized=!0,oS.litElementHydrateSupport?.({LitElement:pp});const bot=oS.litElementPolyfillSupport;bot?.({LitElement:pp}),(oS.litElementVersions??=[]).push("4.2.1");const un=(t,e,...n)=>{try{return t?.call(e,...n)}catch(i){console.error(i,t)}},aS=async(t,e,...n)=>{try{return await t?.call(e,...n)}catch(i){console.error(i,t)}},lS=Symbol.for("controller"),wot=t=>typeof t=="object"&&t!==null&&(lS in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),_ot=t=>typeof t?.then=="function",xot=t=>t.M.length;let im;const dp=t=>{im!==t&&(im=t,queueMicrotask(()=>im===t?im=void 0:0))},fp=t=>im;let mu=[];const iP=t=>{if(t===void 0){mu=[];return}const e=mu.indexOf(t);mu=e===-1?[...mu,t]:mu.slice(0,e+1),queueMicrotask(()=>mu=[])},rP=()=>mu;let mp;const Eot=t=>{mp!==t&&(mp=t,queueMicrotask(()=>mp===t?mp=void 0:0))},Sot=()=>{const t=mp;return mp=void 0,t},Aot=async(t,e)=>{const n=cS(t);if(n===void 0)return t;if(await n.ready,typeof e=="function"){const i=n.watchExports(r=>e(r,i))}return n.exports},Mot=async t=>{const e=cS(t);return await e.ready,e},cS=t=>{const e=fp().manager.X(t);if(e!==void 0)return e;if(wot(t))return t;const n=Sot();if(n!==void 0)return n};let uS=!1;const Tot=t=>{uS=!0;try{return t()}finally{uS=!1}};class rm{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}const Iot=(t,e)=>{const n=e/Not;let i=0;const r=setInterval(()=>{i+=n,i>=e&&(clearInterval(r),t())},n);return r},Not=4,Oot=(t,e,n)=>{const i=Object.keys(t),r=i.length;yp===void 0&&queueMicrotask(O1),yp??=new Map;let s=yp.get(t);return s===void 0&&(s={callbacks:[],keyCount:r},yp.set(t,s)),s.keyCount!==r&&(s.callbacks.forEach(o=>o(i)),s.callbacks=[],s.keyCount=r),s.callbacks.push(o=>{const a=c=>un(e,null,c),l=o[r];l===void 0?a(void 0):t[l]===n?a(l):a(void 0)}),n};let yp;const O1=()=>{yp?.forEach(({callbacks:t},e)=>{const n=Object.keys(e);t.forEach(i=>i(n))}),yp=void 0},hS=(t,e,n)=>{const i=t.manager;return i.V!==Ze&&i.V!==n&&i.S(void 0,void 0),i.T.length===0&&queueMicrotask(()=>i.S(void 0,void 0)),i.V=n,i.T.push((r,s)=>un(e,void 0,n===s?r:void 0)),n},pS=(t=[fp(),...rP()],e,n)=>{const i=Array.isArray(t)?t:[t];let r=i.length+1;const s=o=>{r-=1,o!==void 0&&(r=Math.min(r,0)),r===0&&e(o)};i.forEach(o=>Oot(o,a=>s(a===void 0?void 0:{key:a,host:o,isReactive:!1}),n));for(const o of i)if("manager"in o&&o.manager.component===o){hS(o,a=>s(a===void 0?void 0:{key:a,host:o,isReactive:!0}),n);break}return n},dS=(t="",e={},n=fp())=>{const i={emit:r=>{t===""&&O1();const s=new CustomEvent(t,{detail:r,cancelable:!0,bubbles:!0,composed:!0,...e});return n.el.dispatchEvent(s),s}};return t===""&&pS(void 0,r=>t=r.key,i),i},k1=dS.bind(null,"");var sP;sP=lS;class fS{constructor(e){this.#t=[],this.#e=[],this.#n=[],this.#i=[],this.#r=[],this.#l=[],this.#c=[],this.#p=[],this.#u=[],this.#h=!1,this.P=new rm,this.connectedCalled=!1,this.loadedCalled=!1,this[sP]=!0,this.#a=[];const n=this,i=e??fp();n.#s=i,n.ready=n.P.promise,n.#o=aP(n),n.component=i,n.#s.addController(n),n.#s.manager===void 0||(iP(n),queueMicrotask(()=>n.catchUpLifecycle()))}#t;#e;#n;#i;#r;#l;#c;#p;#u;#h;#s;catchUpLifecycle(){const{manager:e}=this.#s;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e.#h&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}#o;get exports(){return this.#o}set exports(e){const n=this.#o;n!==e&&(this.#o=e,this.#a.forEach(un),this.connectedCalled&&this.O!==!1&&this.#s.requestUpdate(this.O,n)),this.P.resolve(e)}setProvisionalExports(e,n=!0){this.#o=n?aP(e):e,this.#a.forEach(un)}#a;watchExports(e){const n=()=>e(this.#o);return this.#a.push(n),()=>void this.#a.splice(this.#a.indexOf(n),1)}get use(){return dp(this.#s),Aot}get useRef(){return dp(this.#s),Mot}get useRefSync(){return dp(this.#s),cS}controllerRemoved(){this.#s.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#t.push(e)}onDisconnected(e){this.#e.push(e)}onLoad(e){this.#n.push(e)}onLoaded(e){this.#i.push(e)}onUpdate(e){this.#r.push(e)}onUpdated(e){this.#l.push(e)}onDestroy(e){this.#c.push(e)}onLifecycle(e){this.#p.push(e),this.connectedCalled&&this.#s.el.isConnected&&this.#d(e)}triggerConnected(){const e=this;e.hostConnected&&un(e.hostConnected,e),e.#t.forEach(un),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&un(e.hostDisconnected,e),e.#e.forEach(un),e.#u.forEach(un),e.#u=[]}async triggerLoad(){if(this.#h)return;this.#h=!0;const e=this;e.hostLoad&&await aS(e.hostLoad,e),this.#n.length>0&&await Promise.allSettled(this.#n.map(aS)),this.P.resolve(this.#o)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&un(this.hostLoaded,this),this.#i.forEach(un),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&un(this.hostUpdate,this,e),this.#r.forEach(oP,e)}triggerUpdated(e){this.hostUpdated&&un(this.hostUpdated,this,e),this.#l.forEach(oP,e)}triggerDestroy(){this.hostDestroy&&un(this.hostDestroy,this),this.#c.forEach(un)}triggerLifecycle(){this.hostLifecycle&&this.#d(()=>this.hostLifecycle()),this.#p.forEach(this.#d,this)}#d(e){dp(this.#s);const n=un(e);(Array.isArray(n)?n:[n]).forEach(i=>{typeof i=="function"?this.#u.push(i):typeof i=="object"&&typeof i.remove=="function"&&this.#u.push(i.remove)})}}function oP(t){un(t,void 0,this)}const mS=fS,aP=t=>{if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e={get(i,r,s){if(!((r==="exports"||r==="_exports")&&r in i&&i[r]===n)&&(r in i||r in Promise.prototype||typeof r=="symbol"))return typeof i=="function"?i[r]:Reflect.get(i,r,s)}},n=new Proxy(t,e);return n},kot=t=>t.replace(Cot,(e,n)=>`${n===0?"":"-"}${e.toLowerCase()}`),Cot=/[A-Z]+(?![a-z])|[A-Z]/gu,Rot=1,Lot=2,Pot=4,Dot=8,jot=16,$ot=32,Fot=64,lP=t=>{let e=t;for(;e=e.parentNode??e.host;)if(e?.constructor?.lumina){const n=e;return n.manager?.loadedCalled||(n.J??n._offspring).push(t),(n.I??n._postLoad).promise}return!1},cP={};function uP(){}const C1=Object.defineProperty,Uot=globalThis.HTMLElement??uP;class TSt extends Uot{constructor(){super(),this.#e={},this.#n=[],this.I=new rm,this.H=new rm,this.J=[];const e=this,n=e.constructor;e._offspring=e.J,e._postLoad=e.I,n.C?.forEach(i=>{Object.hasOwn(e,i)&&(e.#e[i]=e[i],delete e[i])}),n.A?e.#i({a:n.A}):n.B.then(async i=>{await n.K.p,e.#i(await(i.default?.then(r=>typeof r=="function"?{a:r}:r)??i))}).catch(i=>{e.H.reject(i),setTimeout(()=>{throw i})})}static{this.lumina=!0}static F(){for(const e of this.C??[])C1(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this.#e[e]},set(n){this.#e[e]=n}});for(const e of this.E??[])C1(this.prototype,e,{async value(...n){return this.#t||await this.H.promise,await this.#t[e](...n)},configurable:!0});for(const e of this.D??[])C1(this.prototype,e,{value(...n){return this.#t[e](...n)},configurable:!0})}#t;#e;#n;get manager(){return this.#t?.manager}attributeChangedCallback(e,n,i){this.#t?.attributeChangedCallback(e,n,i),this.#t||this.#n.push(e)}connectedCallback(){this.#t?this.#t.connectedCallback?.():queueMicrotask(()=>this.G=lP(this))}disconnectedCallback(){this.#t?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}#i(e){const n=this.constructor,i=n.L,r=this.#e,s=Object.values(e).find(p=>p.L===i),o=`${i}--lazy`;let a=s;for(;a&&!Object.hasOwn(a,"lumina");)a=Object.getPrototypeOf(a);Bot(a),!n.A&&(n.A=s,customElements.define(o,s)),s.N=this;const l=document.createElement(o);s.N=void 0,this.#t=l,this.#e=l,this.#n.forEach(p=>l.attributeChangedCallback(p,null,this.getAttribute(p))),Object.entries(r).forEach(Got,l);const c=this.isConnected;(c||this.G)&&(l.connectedCallback?.(),c||l.disconnectedCallback())}addController(){}requestUpdate(){this.#t?.requestUpdate()}}function Got([t,e]){this[t]=e}const Bot=t=>{const e=t.prototype,n=Element.prototype;Object.hasOwn(e,"isConnected")||(e.setAttribute=function(i,r){n.setAttribute.call(this.el,i,r)},e.removeAttribute=function(i){n.removeAttribute.call(this.el,i)},C1(e,"isConnected",{get(){return Reflect.get(n,"isConnected",this.el)}}))},R1={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},L1=t=>(...e)=>({_$litDirective$:t,values:e});let P1=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};const zot=L1(class extends P1{constructor(t){if(super(t),t.type!==R1.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in e)e[i]&&!this.nt?.has(i)&&this.st.add(i);return this.render(e)}const n=t.element.classList;for(const i of this.st)i in e||(n.remove(i),this.st.delete(i));for(const i in e){const r=!!e[i];r===this.st.has(i)||this.nt?.has(i)||(r?(n.add(i),this.st.add(i)):(n.remove(i),this.st.delete(i)))}return _a}}),hP="important",Vot=" !"+hP,Wot=L1(class extends P1{constructor(t){if(super(t),t.type!==R1.ATTRIBUTE||t.name!=="style"||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return i==null?e:e+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(t,[e]){const{style:n}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const i of this.ft)e[i]==null&&(this.ft.delete(i),i.includes("-")?n.removeProperty(i):n[i]=null);for(const i in e){const r=e[i];if(r!=null){this.ft.add(i);const s=typeof r=="string"&&r.endsWith(Vot);i.includes("-")||s?n.setProperty(i,s?r.slice(0,-11):r,s?hP:""):n[i]=r}}return _a}}),{I:Hot}=yot,pP=t=>t.strings===void 0,dP=()=>document.createComment(""),qot=(t,e,n)=>{const i=t._$AA.parentNode,r=e===void 0?t._$AB:e._$AA;if(n===void 0){const s=i.insertBefore(dP(),r),o=i.insertBefore(dP(),r);n=new Hot(s,o,t,t.options)}else{const s=n._$AB.nextSibling,o=n._$AM,a=o!==t;if(a){let l;n._$AQ?.(t),n._$AM=t,n._$AP!==void 0&&(l=t._$AU)!==o._$AU&&n._$AP(l)}if(s!==r||a){let l=n._$AA;for(;l!==s;){const c=l.nextSibling;i.insertBefore(l,r),l=c}}}return n},Yot=(t,e,n=t)=>(t._$AI(e,n),t),Zot={},Jot=(t,e=Zot)=>t._$AH=e,Xot=t=>t._$AH,Kot=t=>{t._$AR(),t._$AA.remove()},sm=(t,e)=>{const n=t._$AN;if(n===void 0)return!1;for(const i of n)i._$AO?.(e,!1),sm(i,e);return!0},D1=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while(n?.size===0)},fP=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),eat(e)}};function Qot(t){this._$AN!==void 0?(D1(this),this._$AM=t,fP(this)):this._$AM=t}function tat(t,e=!1,n=0){const i=this._$AH,r=this._$AN;if(r!==void 0&&r.size!==0)if(e)if(Array.isArray(i))for(let s=n;s<i.length;s++)sm(i[s],!1),D1(i[s]);else i!=null&&(sm(i,!1),D1(i));else sm(this,t)}const eat=t=>{t.type==R1.CHILD&&(t._$AP??=tat,t._$AQ??=Qot)};let nat=class extends P1{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,n){super._$AT(t,e,n),fP(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(sm(this,t),D1(this))}setValue(t){if(pP(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}};const mP=()=>new iat;let iat=class{};const yS=new WeakMap,yP=L1(class extends nat{render(t){return Ze}update(t,[e]){const n=e!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),Ze}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let n=yS.get(e);n===void 0&&(n=new WeakMap,yS.set(e,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return typeof this.G=="function"?yS.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});class rat extends mS{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=Ze,this.T=[],this.#n=new WeakMap,this.#e=e,this.exports=void 0,this.hasDestroy=gS in e&&typeof e.destroy=="function",pp.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const n=e.el.localName;throw e.el.remove(),new Error(`The ${n} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${gS} prop.`)}this.#t!==void 0&&clearTimeout(this.#t),O1();for(const n of e.M)"triggerConnected"in n?n.triggerConnected():un(n.hostConnected,n)},hostDisconnected:()=>{for(const n of e.M)"triggerDisconnected"in n?n.triggerDisconnected():un(n.hostDisconnected,n);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const n of e.M)"triggerUpdate"in n?n.triggerUpdate(this.Q):un(n.hostUpdate,n,this.Q)},hostUpdated:()=>{for(const n of e.M)"triggerUpdated"in n?n.triggerUpdated(this.Q):un(n.hostUpdated,n,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),dp(e)}#t;#e;async destroy(){if(!this.destroyed){this.#e.el.isConnected&&(this.hasDestroy=!1,this.#e.el.remove()),this.#t=void 0,this.destroyed=!0;for(const e of this.#e.M)"triggerDestroy"in e?e.triggerDestroy():un(e.hostDestroy,e);this.#e.M.splice(0)}}U(){if(this.#t!==void 0&&clearTimeout(this.#t),!this.#e.el.isConnected&&!this.#e.autoDestroyDisabled){const e=()=>void this.#e.destroy();this.#t=Iot(e,sat)}}S(e,n){const i=this.T;this.V=Ze,this.T=[],i.forEach(r=>r(e,n))}#n;W(e,n){(typeof n=="object"&&n!==null||typeof n=="function")&&this.#n.set(n,e)}X(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this.#n.get(e)}}let sat=1e3;const gS="autoDestroyDisabled";class Y2 extends pp{constructor(){super(),this.M=[],this.manager=new rat(this);const e=this,n=e.constructor,i=n.N,r=n.K.o,s=Y2.prototype.shouldUpdate;e.#i=i?.H??new rm,e.I=i?.I??new rm,e.J=i?.J??[],e._offspring=e.J,e._postLoad=e.I,e.el=i??e,e.#n=e.enableUpdating,e.enableUpdating=uP,e.shouldUpdate!==s&&(e.#e=e.shouldUpdate,e.shouldUpdate=s),r&&(e.#t=new Map,n.elementProperties.forEach((o,a)=>e.#t.set(a,r())))}static finalizeStyles(e){const n=super.finalizeStyles(e),i=this.shadowRootOptions===cP;return this.K?.commonStyles===void 0||i?n:[this.K.commonStyles,...n]}static createProperty(e,n){const i=typeof n=="number"?n:Array.isArray(n)?n[0]:0,r=Array.isArray(n)?n[1]:void 0,s=r?.hasChanged??nS,o={attribute:i&Rot&&typeof e=="string"?kot(e):!1,reflect:!!(i&Lot),type:i&Pot?Boolean:i&Dot?Number:void 0,state:!!(i&jot),readOnly:!!(i&$ot),noAccessor:!!(i&Fot),c:!1,...r,hasChanged(a,l){const c=s(a,l);return o.c=c,c}};super.createProperty(e,o)}static getPropertyDescriptor(e,n,i){const r=this.K,s=super.getPropertyDescriptor(e,n,i);return i.d=s,{...s,get(){return r.t?.(this.#t.get(e)),s.get?.call(this)},set(o){const a=this.manager;if(i.readOnly&&!uS&&(a.R||a.connectedCalled))throw Error(`Cannot assign to read-only property "${e}" of ${this.el.localName}. Trying to assign "${o}"`);s.set.call(this,o??void 0),i.c&&this.#t?.get(e)?.notify(),a.T.length>0&&(O1(),a?.S(e,o))}}}static{this.lumina=!0}#t;#e;#n;#i;#r;connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const e=this.constructor.K.c?.(()=>this.requestUpdate());this.#r=e;const n=!this.manager.connectedCalled;super.connectedCallback(),n?queueMicrotask(()=>this.#c().catch(i=>{this.#i.reject(i),setTimeout(()=>{throw i})})):e&&this.requestUpdate()}#l(e){try{this.#r.clear(),this.constructor.K.r(this.#r,()=>super.update(e))}catch(n){throw this.#r.clear(),n}}disconnectedCallback(){super.disconnectedCallback(),this.#r?.destroy(),this.#r=void 0}createRenderRoot(){const e=this.el.shadowRoot,n=this.constructor,i=n.shadowRootOptions,r=e??(i===cP?this.el:this.el.attachShadow(i));if(this.isConnected){const s=r.getRootNode();s.adoptedStyleSheets=[...s.adoptedStyleSheets,...n.elementStyles.map(o=>"styleSheet"in o?o.styleSheet:o)]}return r}async#c(){const e=this.el.G??lP(this.el);e&&await e;const n=[];for(const r of this.M)"triggerLoad"in r?n.push(r.triggerLoad()):n.push(aS(r.hostLoad,r));await Promise.all(n),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(r=>r.has(gS)&&this.manager.U()),this.#n(!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const i=this.J.filter(r=>!r.manager?.loadedCalled);i.length&&await Promise.allSettled(i.map(async r=>await r.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const r of this.M)"triggerLoaded"in r?r.triggerLoaded():un(r.hostLoaded,r);this.loaded?.(),this.#i.resolve()}shouldUpdate(e){return this.manager.Q=e,this.#e?.(e)??!0}update(e){this.#r?this.#l(e):super.update(e)}listen(e,n,i){const r=n?.bind(this)??n;this.manager.onLifecycle(()=>(this.el.addEventListener(e,r,i),()=>this.el.removeEventListener(e,r,i)))}listenOn(e,n,i,r){const s=i?.bind(this)??i;this.manager.onLifecycle(()=>(e.addEventListener(n,s,r),()=>e.removeEventListener(n,s,r)))}async componentOnReady(){return await this.#i.promise,this}addController(e){this.M.push(e),!(lS in e)&&this.renderRoot&&this.el.isConnected&&e.hostConnected?.()}removeController(e){this.M.splice(this.M.indexOf(e),1),e.controllerRemoved?.()}}const gP=t=>{let e;const n=r=>{e=new URL(r,globalThis.location?.href||void 0).href},i={...t,getAssetPath(r){const s=new URL(r,e);return s.origin!==globalThis.location?.origin?s.href:s.pathname},setAssetPath:n,customElement(r,s){s.K=i,s.L=r,customElements.get(r)||customElements.define(r,s)}};return n(t.defaultAssetPath),i},yu=t=>typeof t=="object"&&t!=null?zot(t):t,vS=t=>typeof t=="object"&&t!=null?Wot(t):t,vP=Ze;function oat(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}const aat={toAttribute:t=>t===!0?"":t===!1?null:t};function bP(){return new Px}function lat(t){return new zd(t)}function wP(t){Bt(t)}function cat(t,e){return yo(t,e)}const uat=tS`:host{display:block;box-sizing:border-box;*,*:before,*:after{box-sizing:inherit}}:host([hidden]){display:none}:host(:not(arcgis-basemap-gallery-item,arcgis-layer-list-item,arcgis-print-custom-text-elements,arcgis-print-dpi-input,arcgis-print-export-button,arcgis-print-exported-link,arcgis-print-exports-panel,arcgis-print-format-select,arcgis-print-layout-advanced-options,arcgis-print-layout-panel,arcgis-print-main-panel,arcgis-print-map-only-advanced-options,arcgis-print-map-only-panel,arcgis-print-out-spatial-reference-input,arcgis-print-preview-input,arcgis-print-scale-section,arcgis-print-template-select,arcgis-print-template-selector,arcgis-labeled-switch,arcgis-measurement-content,arcgis-version-management-service-item,arcgis-version-management-version-item,arcgis-version-management-version-list,arcgis-version-management-version-properties,arcgis-video-player-action-bar,arcgis-video-player-actions-group,arcgis-video-player-controls-group,arcgis-video-player-metadata,arcgis-video-player-settings,arcgis-video-player-slider)){font-family:var(--calcite-font-family)}`,om=gP({defaultAssetPath:"https://js.arcgis.com/4.34/map-components/",hydratedAttribute:"hydrated",commonStyles:uat}),{customElement:_P,getAssetPath:hat,setAssetPath:ISt}=om;om.t=wP,om.o=bP,om.c=lat,om.r=cat;const bS=(...t)=>{const e=[];for(let i=0;i<t.length;i++){const r=t[i];if(typeof r=="string")e.push(r);else if(Array.isArray(r))e.push.apply(e,r);else if(typeof r=="object")for(const s in r)r[s]&&e.push(s)}const n=e.join(" ");return e.length=0,n},pat=(t,e)=>{let n=t;for(;n;){if(n===e)return!0;if(!n.parentNode)return!1;n.parentNode instanceof ShadowRoot?n=n.parentNode.host:n=n.parentNode}return!1},dat=(t,e,n)=>{const i=fat(e).subscribe;return i(r=>{r.some(s=>pat(t,s.target))&&n()})},wS={},fat=t=>{const e=t.join(","),n=wS[e];if(n!==void 0)return n;const i=new Set,r=new MutationObserver(o=>i.forEach(a=>a(o)));globalThis.document&&r.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const s={subscribe:o=>(i.add(o),()=>{i.delete(o),i.size===0&&(r.disconnect(),wS[e]=void 0)})};return wS[e]=s,s},xP=(t,e)=>{let n=t;for(;n;){const i=n.closest?.(e);if(i)return i;const r=n.getRootNode?.();if(r===globalThis.document)return;n=r.host}};function mat(t){const e=xP(t,".calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto");return e?.classList.contains("calcite-mode-dark")||e?.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const yat=(t,e,n)=>xP(t,`[${e}]`)?.getAttribute(e)??n;let am=class extends Yt{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};v([E({readOnly:!0})],am.prototype,"version",null),am=v([nt("esri.views.layers.support.ClipArea")],am);var _S;let Ys=_S=class extends am{constructor(t){super(t),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new _S({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};v([E({type:[Number,String],json:{write:!0}})],Ys.prototype,"left",void 0),v([E({type:[Number,String],json:{write:!0}})],Ys.prototype,"right",void 0),v([E({type:[Number,String],json:{write:!0}})],Ys.prototype,"top",void 0),v([E({type:[Number,String],json:{write:!0}})],Ys.prototype,"bottom",void 0),Ys=_S=v([nt("esri.views.layers.support.ClipRect")],Ys);function gat(t,e){const n=10**e;return Math.round(t*n)/n}const j1={left:0,right:0,top:0,bottom:0};let fr=class extends Yn{constructor(t){super(t),this._leadingClips=new Map,this._trailingClips=new Map,this.direction="horizontal",this.leadingLayers=new be,this.max=100,this.min=0,this.precision=4,this.step=.5,this.stepMultiplier=10,this.trailingLayers=new be,this.view=null}initialize(){this.addHandles([Un(()=>[this.view,this.view?.ready,this.position,this.direction],()=>this._clipLayers(),Dy),Un(()=>this.leadingLayers.toArray(),()=>this._clipLeadingLayers(),Dy),Un(()=>this.trailingLayers.toArray(),()=>this._clipTrailingLayers(),Dy)])}destroy(){this._removeExistingClips()}get position(){return 25}set position(t){const{precision:e,min:n,max:i}=this;this._set("position",gat(Math.max(Math.min(t,i),n),e))}get state(){return this.view?.ready?"ready":"disabled"}_clipLayers(){this._clipLeadingLayers(),this._clipTrailingLayers()}_clipLeadingLayers(){this._removeClips("leading");const{leadingLayers:t}=this;t.forEach(e=>this._clipLayer({layer:e,type:"leading"}))}_clipTrailingLayers(){this._removeClips("trailing");const{trailingLayers:t}=this;t.forEach(e=>this._clipLayer({layer:e,type:"trailing"}))}async _getLayerView(t){const{view:e}=this;if(!t||!e)return null;const n=await e.whenLayerView(t);return"clips"in n?n:null}_getVerticalClipRect(t){const{position:e}=this;return t==="leading"?new Ys({...j1,bottom:100-e+"%"}):t==="trailing"?new Ys({...j1,top:`${e}%`}):null}_getHorizontalClipRect(t){const{position:e}=this;return t==="leading"?new Ys({...j1,right:100-e+"%"}):t==="trailing"?new Ys({...j1,left:`${e}%`}):null}_getClipRect(t){const{direction:e}=this;return e==="vertical"?this._getVerticalClipRect(t):e==="horizontal"?this._getHorizontalClipRect(t):null}async _clipLayer(t){const{_leadingClips:e,_trailingClips:n}=this,{layer:i,type:r}=t,s=r==="trailing"?n:r==="leading"?e:null,o=await this._getLayerView(i);if(!(o&&"clips"in o&&s&&o.hasOwnProperty("clips")))return;const a=s.get(o);a&&o.clips.remove(a);const l=this._getClipRect(r);l&&(s.set(o,l),o.clips.add(l))}_removeClips(t){const{_leadingClips:e,_trailingClips:n}=this,i=t==="trailing"?n:t==="leading"?e:null;i&&(i.forEach((r,s)=>{s&&s.hasOwnProperty("clips")&&s.clips.remove(r)}),i.clear())}_removeExistingClips(){this._removeClips("leading"),this._removeClips("trailing")}};v([E()],fr.prototype,"direction",void 0),v([E({type:be,nonNullable:!0})],fr.prototype,"leadingLayers",void 0),v([E({readOnly:!0})],fr.prototype,"max",void 0),v([E({readOnly:!0})],fr.prototype,"min",void 0),v([E()],fr.prototype,"position",null),v([E()],fr.prototype,"precision",void 0),v([E({readOnly:!0})],fr.prototype,"state",null),v([E()],fr.prototype,"step",void 0),v([E()],fr.prototype,"stepMultiplier",void 0),v([E({type:be,nonNullable:!0})],fr.prototype,"trailingLayers",void 0),v([E()],fr.prototype,"view",void 0),fr=v([nt("esri.widgets.Swipe.SwipeViewModel")],fr);const vat=fr,xS=t=>(...e)=>{const n=rP(),i=new t(...e),r=i.exports;iP(n.at(-1));const s=i.component.manager;s.W(i,r),i.watchExports(s.W.bind(s,i)),Eot(i);const o=[i.component,...n].reverse();return pS(o,a=>a===void 0?void 0:bat(i,a,r),r)},bat=(t,{host:e,key:n,isReactive:i},r)=>{const s=e,o=s[n]!==t.exports,a=s[n]!==r,l=r!==t.exports;if(o&&!a&&l&&(s[n]=t.exports),e===t.component){if(i){const p=t.component.manager;a&&p.W(t,s[n]),t.onUpdate(d=>{if(d.has(n)){const f=s[n];f!==t.exports&&p.W(t,f)}})}t.O=i?void 0:n}const c=t.component.constructor.elementProperties.get(n)?.readOnly;t.watchExports(()=>{s[n]!==t.exports&&(c?Tot(()=>{s[n]=t.exports}):s[n]=t.exports)})},wat="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),_at=new Set(wat),$1="en",xat={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},Eat=async(t,e,n="")=>{const i=`${e}/${n}`,r=`${i}${t}.json`;return ES[r]??(ES[r]=EP(t,i)),await ES[r]},ES={},EP=async(t,e)=>{const n=`${e}${t}.json`;try{const i=await fetch(n);if(i.ok)return await i.json()}catch(i){return console.error(i),{}}return t===$1?{}:await EP($1,e)},SP=t=>{const e=yat(t,"lang",globalThis.navigator?.language||$1);return{lang:e,t9nLocale:AP(e)}},AP=t=>{const[e,n]=t.split("-"),i=e.toLowerCase();let r=i;return n&&(r=`${i}-${n.toUpperCase()}`),r=xat[r]??r,_at.has(r)?r:n?AP(i):$1},Sat=(t,e,n,i)=>{let r;const s=()=>Aat(t,e(),i).then(o=>{(r?.lang!==o.lang||r.t9nLocale!==o.t9nLocale||r.t9nStrings!==o.t9nStrings)&&n(o),r=o}).catch(console.error);return queueMicrotask(s),dat(t,["lang"],s)},Aat=async(t,e,n=t.localName.split("-").slice(1).join("-"))=>{const{lang:i,t9nLocale:r}=SP(t),s=`${e}/${n}/t9n`,o=n===null?{}:await Eat(r,s,"messages.");return{lang:i,t9nLocale:r,t9nStrings:o}},Mat=t=>MP(void 0,t),Tat=t=>e=>MP(e,t);class Iat extends fS{constructor(e,n){super(e);const i=this.exports;try{dp(this.component);const r=n(this.component,this),s=this.exports!==i;if(_ot(r)){s||this.setProvisionalExports(r);const o=r.then(a=>{this.exports=a,super.catchUpLifecycle()}).catch(a=>{this.P.reject(a),console.error(a)});this.onLoad(async()=>await o)}else(!s||r!==void 0)&&(this.exports=r),queueMicrotask(()=>super.catchUpLifecycle())}catch(r){this.P.reject(r),console.error(r)}}catchUpLifecycle(){}}const MP=xS(Iat),Nat=(t,e)=>new Oat(t,e);class Oat extends fS{#t;#e;#n;constructor(e,n){super(),this.#e=e,this.#n=n,this.#t=new MutationObserver(i=>{i.forEach(r=>{e.includes(r.attributeName)&&n.call(this.component,this.component.el.getAttribute(r.attributeName),r.oldValue,r.attributeName)})})}hostConnected(){this.#e.forEach(e=>{this.component.el.hasAttribute(e)&&this.#n.call(this.component,null,this.component.el.getAttribute(e),e)}),this.#t.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this.#e})}hostDisconnected(){this.#t.disconnect()}}const TP=t=>(e={})=>Mat((n,i)=>{const r=SP(n.el),s={_lang:r.lang,_t9nLocale:r.t9nLocale,_loading:!0},o=n;i.onLifecycle(()=>Sat(n.el,()=>t("./assets"),({t9nLocale:l,t9nStrings:c,lang:p})=>{const d={...c,_lang:p,_t9nLocale:l,_loading:!1};i.exports=d;const f=c.componentLabel;typeof f=="string"&&"label"in n&&n.label==null&&(n.label??=f),a(o.messageOverrides)},e.name));const a=l=>{const c=i.exports,p=c._original??c,d=IP(p,l);l&&(d._original=p),i.exports=d};return"messageOverrides"in o&&i.onUpdate(l=>{l.has("messageOverrides")&&a(o.messageOverrides)}),e.blocking?(i.setProvisionalExports(s,!1),i.ready):s}),IP=(t,e)=>{if(!e)return t;const n={...t};return Object.entries(e).forEach(([i,r])=>{typeof r=="object"?n[i]=IP(t[i],r):n[i]=r??t[i]}),n},NP=t=>Cat,kat="arcgisPropertyChange",Cat=(...t)=>{const e=fp(),n=dS(kat,void 0,e);let i=!0;return e.manager.onUpdated(r=>{if(i||!e.el.isConnected){i=!1;return}for(const s of t)r.has(s)&&n.emit({name:s})}),n},Rat=TP(hat),Lat=(t,e)=>{const n=fp().manager;n.onLoaded(()=>n.onLifecycle(()=>Hw(t,e,i.emit)));const i=dS();return i};class OP extends mS{constructor(e,n){super(e),this.Y=new Map,this.A=void 0,this.#e=bP();const i=this;i.#n=n,i.Z(),i.setProvisionalExports(kP(e,new WeakRef(i),e.M.length-1,i.instance,i.Y),!1),hS(e,r=>{if(r){const s=Un(()=>e[r],o=>{if(o===i.instance)return;const a=i.instance;i.exports=o,i.instance=o,i.Y.forEach((l,c)=>e.requestUpdate(l,a[c])),i.#t&&a.destroy(),i.#t=!1},{sync:!0});i.onDestroy(s.remove)}},i.exports)}#t;#e;#n;get exports(){return wP(this.#e),super.exports}set exports(e){super.exports=e,this.#e.notify()}Z(){const e=this;e.instance="prototype"in e.#n&&"declaredClass"in e.#n.prototype?new e.#n:e.#n(),e.#t=!0}hostConnected(){this.exports=this.instance}hostDestroy(){this.#t&&this.instance.destroy?.()}}const kP=(t,e,n,i,r)=>new Proxy(i,{get:(s,o)=>{const a=s[o];if(typeof o=="symbol"||r.has(o))return a;const l=t.M[n];return l.A=o,pS(t,c=>{if(l.A=void 0,c!==void 0){const p=c.key;r.set(o,p);const d=t.constructor.getPropertyOptions(p),f=o!==p&&p.toLowerCase().includes("disable");Pat(e,d,o,p,f),d.i===void 0&&Dat(d,n,o,f)}},a)}}),Pat=(t,e,n,i,r,s)=>s=Un(()=>{const o=t.deref();return o===void 0||o.component.manager.destroyed?s=s.remove():o.exports[n]},(o,a)=>{s&&(t.deref().component?.requestUpdate(i,r?!a:a),e.c=!1)},{sync:!0}),Dat=(t,e,n,i)=>{t.d.get=function(){const r=this.M[e]?.exports[n];return i?!r:r},t.d.set=function(r){const s=this.M[e];s.A!==n&&(s.exports[n]=i?!r:r)}},jat=t=>t.Y,$at={"top-left":"top-left","top-right":"top-right","bottom-left":"bottom-left","bottom-right":"bottom-right","bottom-leading":"bottom-start","bottom-trailing":"bottom-end","top-leading":"top-start","top-trailing":"top-end"},Fat=["manual"];function F1(t){t.el.childElem&&(t.el.childElem.ownedBy=t.el),t.position&&Fat.includes(t.position)?t.el.removeAttribute("slot"):t.position&&(t.el.slot=$at[t.position]);const e=Uat(t);if(!e){const n=Vat(t);if(!n){LP(t);return}return RP(n,t,!0),n}return Gat(e,t.el.parent)||(t.el.parent=e,e.localName==="arcgis-expand"?Bat(e,t):e.localName==="arcgis-placement"?zat(e,t):RP(e,t,!1)),e}function Uat({el:t}){for(let e=t.parentElement;e;e=e?.parentElement??null){if(CP.has(e.localName))return e;if("ownedBy"in e&&e.ownedBy instanceof HTMLElement&&CP.has(e.ownedBy.localName))return e.ownedBy}}const CP=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function Gat(t,e){if(t!==e)return!1;const n=t.localName;return n==="arcgis-expand"||n==="arcgis-placement"}function U1(t,e,n="arcgisReady"){const i=t;if(i.view)e(i.view);else{let r=function(s){s.target===t&&(U1(t,e,n),t.removeEventListener(n,r))};t.addEventListener(n,r)}}const Bat=(t,e)=>U1(t,n=>{const i=SS(e);e.el.shadowRoot?t.content=e.el:e.el.childElem&&t.content!=null&&i.append(e.el.childElem),e.el.view=n}),zat=(t,e)=>U1(t,n=>{const i=SS(e);e.el.childElem&&i.append(e.el.childElem),e.el.view=n}),RP=(t,e,n)=>U1(t,i=>{n&&LP(e),e.el.view=i,e.referenceElement=t},"arcgisViewReadyChange");function LP(t){t.el.childElem&&SS(t).append(t.el.childElem)}function SS(t){return t.el.shadowRoot??t.el}function Vat(t,e){const n=t.referenceElement;if(typeof n!="string")return n??void 0;const i=n.includes("#")||n.includes(".")||n.includes("["),r=t.el.getRootNode();return(i?void 0:r.querySelector(`#${n}`))??r.querySelector(n)??void 0}class PP extends mS{#t;constructor(e){super(e),this.setProvisionalExports(void 0)}hostConnected(){this.component.manager.loadedCalled&&F1(this.component)}hostLoad(){this.component.manager.destroyed}hostLoaded(){const{el:e}=this.component,n=e.shadowRoot?.firstElementChild??e.firstElementChild??void 0;e.childElem??=n,this.#t=Py(()=>this.component.view!=null,()=>{this.component.arcgisReady.emit()},{once:!0,initial:!0,sync:!0}),e.isConnected&&F1(this.component)}hostDisconnected(){typeof this.component.el.childElem=="object"&&this.component.view?.ui?.remove(this.component.el.childElem),this.#t?.remove()}hostUpdate(e){e.has("position")&&this.component.el.childElem!=null&&typeof this.component.position=="string"&&F1(this.component),e.has("referenceElement")&&F1(this.component)}}const Wat=(t,e)=>n=>qat(n,t);let Hat=class extends OP{#t=void 0;constructor(t,e){super(t,e),new PP(this.component)}hostLoad(){this.#t=Un(()=>this.component.el.view,t=>{this.instance.view=t,this.instance.map=t?.map},{sync:!0,initial:!0})}hostDestroy(){this.#t?.remove(),super.hostDestroy()}};const qat=xS(Hat),DP={disabled:"esri-disabled",widget:"esri-widget"},jP={dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical"},Yat=tS`:host{position:absolute;margin:0;background:transparent!important;padding:0;width:100%;height:100%;overflow:hidden;user-select:none;--arcgis-internal-swipe-handle-color-background: var(--calcite-color-background);--arcgis-internal-swipe-divider-color-background: var(--calcite-color-background)}.arcgis-swipe{width:100%;height:100%;overflow:hidden;user-select:none}.arcgis-swipe,.arcgis-ui .arcgis-swipe{pointer-events:none!important}.arcgis-swipe__container{position:absolute;z-index:1;margin:0;outline:0;border:0;padding:0;overflow:hidden;pointer-events:auto;touch-action:none;outline-color:transparent}.arcgis-swipe--horizontal .arcgis-swipe__container{margin-left:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:col-resize;height:100%}.arcgis-swipe--vertical .arcgis-swipe__container{margin-top:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:row-resize;width:100%}.arcgis-swipe--disabled .arcgis-swipe__container{cursor:default;pointer-events:none}.arcgis-swipe__divider{position:absolute;background-color:var(--arcgis-internal-swipe-divider-color-background)}.arcgis-swipe--horizontal .arcgis-swipe__divider{top:0;left:calc(var(--calcite-spacing-xxxl) / 2);margin-left:calc(var(--calcite-border-width-lg) * .5 * -1);border-right:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-left:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:var(--calcite-border-width-lg);height:100%}.arcgis-swipe--vertical .arcgis-swipe__divider{top:calc(var(--calcite-spacing-xxxl) / 2);left:0;margin-top:calc(var(--calcite-border-width-lg) * .5 * -1);border-top:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-bottom:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:100%;height:var(--calcite-border-width-lg)}.arcgis-swipe__handle{display:flex;position:relative;align-items:center;justify-content:center;border:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-radius:var(--calcite-corner-radius-round);background-color:var(--arcgis-internal-swipe-handle-color-background);width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl);color:var(--calcite-color-text-3)}.arcgis-swipe__handle--hidden{visibility:hidden}.arcgis-swipe--vertical .arcgis-swipe__handle{rotate:90deg}.arcgis-swipe__handle-icon{position:relative;z-index:2}.arcgis-swipe__handle-icon:before{content:"|||";color:inherit}.arcgis-swipe--horizontal .arcgis-swipe__handle{top:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe--vertical .arcgis-swipe__handle{left:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe__container:focus .arcgis-swipe__handle,.arcgis-swipe__container:focus .arcgis-swipe__divider{outline:inset 2px var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.arcgis-swipe__container:focus .arcgis-swipe__handle{outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}`,xa="arcgis-swipe",To={base:xa,baseDisabled:`${xa}--disabled`,vertical:`${xa}--vertical`,horizontal:`${xa}--horizontal`,container:`${xa}__container`,divider:`${xa}__divider`,handle:`${xa}__handle`,handleHidden:`${xa}__handle--hidden`,handleIcon:`${xa}__handle-icon`},Zat=Wat(vat);let Jat=class extends Y2{constructor(){super(...arguments),this._container=null,this._containerRef=mP(),this._swiping=!1,this._swipePositionChanged=!1,this.messages=Rat({}),this._pointerOffset=0,this.viewModel=Zat(this),this._onContainerPointerDown=t=>{t.preventDefault();const{_container:e}=this;e&&document.activeElement!==this.el&&e.focus(),this._swiping=!0,this._calculatePointerOffset(t)},this.view=this.viewModel.view,this.autoDestroyDisabled=!1,this.direction=this.viewModel.direction,this.disabled=!1,this.hideDivider=!1,this.hideHandle=!1,this.icon="compare",this.label=this.messages.componentLabel,this.leadingLayers=this.viewModel.leadingLayers,this.swipePosition=this.viewModel.position,this.state=this.viewModel.state,this.trailingLayers=this.viewModel.trailingLayers,this.arcgisPropertyChange=NP()("state"),this.arcgisReady=k1(),this.arcgisSwipeChange=k1(),this.arcgisSwipeInput=k1()}static{this.properties={view:0,autoDestroyDisabled:5,direction:3,disabled:7,hideDivider:7,hideHandle:7,icon:1,label:1,leadingLayers:0,messageOverrides:0,position:3,swipePosition:9,referenceElement:1,state:3,trailingLayers:0}}static{this.styles=Yat}async destroy(){await this.manager.destroy()}loaded(){this.listenOn(document,"pointermove",this._onContainerPointerMove),this.listenOn(document,"pointerup",this._onContainerPointerUp)}_calculatePointerOffset(t){const{direction:e}=this,n=this._containerRef.value,i=(e==="vertical"?n.clientHeight:n.clientWidth)/2,r=n.getBoundingClientRect(),s=t.clientX-r.left,o=t.clientY-r.top;this._pointerOffset=e==="vertical"?o-i:s-i}_onContainerPointerUp(t){this._swiping&&(t.preventDefault(),this._swipePositionChanged&&(this.arcgisSwipeChange.emit(),this._swipePositionChanged=!1),this._swiping=!1)}_onContainerPointerMove(t){if(!this._swiping)return;t.preventDefault();const{_pointerOffset:e,el:n,direction:i}=this,{clientX:r,clientY:s}=t,{top:o,left:a,width:l,height:c}=n.getBoundingClientRect(),p=i==="vertical"?c:l,d=(i==="vertical"?s-o-e:r-a-e)/p*100;this.swipePosition!==d&&(this.swipePosition=d,this._swipePositionChanged=!0,this.arcgisSwipeInput.emit())}_getKeyPosition(t){const{key:e}=t,{swipePosition:n}=this,{max:i,min:r,step:s,stepMultiplier:o,direction:a}=this.viewModel,l=s*o;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].includes(e)&&(t.preventDefault(),t.stopPropagation()),a==="vertical"?e==="ArrowDown"||e==="ArrowRight":e==="ArrowUp"||e==="ArrowRight"){const c=t.shiftKey?l:s;return n+c}if(a==="vertical"?e==="ArrowUp"||e==="ArrowLeft":e==="ArrowDown"||e==="ArrowLeft"){const c=t.shiftKey?l:s;return n-c}return e==="Home"?r:e==="End"?i:(a==="vertical"?e==="PageDown":e==="PageUp")?n+l:(a==="vertical"?e==="PageUp":e==="PageDown")?n-l:null}_onContainerKeyDown(t){const e=this._getKeyPosition(t);typeof e=="number"&&this.swipePosition!==e&&(this.swipePosition=e,this.arcgisSwipeInput.emit(),this.arcgisSwipeChange.emit())}render(){const{state:t,direction:e}=this.viewModel,n=t==="disabled"||this.disabled,i={[DP.disabled]:n,[To.baseDisabled]:n,[To.vertical]:e==="vertical",[To.horizontal]:e==="horizontal"};return up`<div class=${yu(bS(To.base,DP.widget,i))}>${t==="disabled"?null:this._renderContainer()}</div>`}_renderHandle(){const{direction:t}=this.viewModel,{hideHandle:e}=this,n={[jP.dragHorizontal]:t==="vertical",[jP.dragVertical]:t==="horizontal"},i=bS(To.handle,!!e&&To.handleHidden);return up`<div class=${yu(i)} role=presentation><span aria-hidden=true class=${yu(bS(To.handleIcon,n))}></span></div>`}_renderDivider(){return this.hideDivider?null:up`<div class=${yu(To.divider)} role=presentation></div>`}_renderContent(){return[this._renderDivider(),this._renderHandle()]}_renderContainer(){const{disabled:t,viewModel:e}=this,{max:n,min:i,direction:r,position:s}=e,o=this.label??this.messages.dragLabel??"",a=`${s}%`,l={top:r==="vertical"?a:void 0,left:r==="vertical"?void 0:a},c=this._renderContent();return t?up`<div class=${yu(To.container)} role=presentation style=${vS(l)}>${c}</div>`:up`<div @pointerdown=${this._onContainerPointerDown} .ariaLabel=${o} .ariaOrientation=${r} .ariaValueMax=${`${n}`} .ariaValueMin=${`${i}`} .ariaValueNow=${`${s}`} .ariaValueText=${a} class=${yu(To.container)} @keydown=${this._onContainerKeyDown} role=slider style=${vS(l)} tabindex=0 title=${o??vP} touch-action=none ${yP(this._containerRef)}>${c}</div>`}};_P("arcgis-swipe",Jat);class de{static async Basemap(e){const n=await import("./Basemap-Dv-hYkd3.js").then(i=>i.B);return Reflect.construct(n.default,[e])}static async Map(e){const n=await import("./Map-BgzFtTfu.js").then(i=>i.M);return Reflect.construct(n.default,[e])}static async MapView(e){const n=await import("./MapView-CrB-5KSL.js").then(i=>i.M);return Reflect.construct(n.default,[e])}static async FeatureLayer(e){const n=await import("./FeatureLayer-CCD4d2TK.js");return Reflect.construct(n.default,[e])}static async GraphicsLayer(e){const n=await import("./GraphicsLayer-DPoztXf7.js");return Reflect.construct(n.default,[e])}static async ImageryLayer(e){const n=await import("./ImageryLayer-Dq8lE1A8.js");return Reflect.construct(n.default,[e])}static async ImageryTileLayer(e){const n=await import("./ImageryTileLayer-BNriXF69.js");return Reflect.construct(n.default,[e])}static async MapImageLayer(e){const n=await import("./MapImageLayer-BFpjD8Ud.js");return Reflect.construct(n.default,[e])}static async OpenStreetMapLayer(e){const n=await import("./OpenStreetMapLayer-C35CvD0y.js");return Reflect.construct(n.default,[e])}static async TileLayer(e){const n=await import("./TileLayer-CxocwneT.js");return Reflect.construct(n.default,[e])}static async VectorTileLayer(e){const n=await import("./VectorTileLayer-Ccs5LcVJ.js");return Reflect.construct(n.default,[e])}static async WMSLayer(e){const n=await import("./WMSLayer-DcFv8Mv_.js");return Reflect.construct(n.default,[e])}static async ArcadeExecutor(e,n){const{createArcadeExecutor:i}=await import("./arcade-8OJnd4t8.js");return await i(e,n)}static async ColorBackground(e){const n=await import("./ColorBackground-C0DZs7p1.js");return Reflect.construct(n.default,[e])}static async FeatureFilter(e){const n=await import("./FeatureFilter-D0iZ4sKI.js");return Reflect.construct(n.default,[e])}static async FieldFromJson(e){return(await import("./Field-Dn1Bgq7n.js").then(n=>n.F)).default.fromJSON(e)}static async Query(){const e=await import("./Query-DKLDaFaA.js").then(n=>n.Q);return Reflect.construct(e.default,[])}static async QueryByIds(e,n,i){const{executeForIds:r}=await import("./query-D108Iouw.js");return r(e,n,i)}static async RendererFromJson(e){const{fromJSON:n}=await import("./jsonUtils-5anAqpiW.js");return n(e)}}class $t{wkid;latestWkid;wkt;constructor(e,n){typeof e=="string"?this.wkt=e:(this.wkid=e,this.latestWkid=n)}isEqual(e){return!!(this.isWebMercator()&&e.isWebMercator()||this.wkid&&e.wkid&&this.wkid===e.wkid||this.wkt&&e.wkt&&this.wkt===e.wkt||this.latestWkid&&e.latestWkid&&this.latestWkid===e.latestWkid)}clone(){const e=new $t("");return e.latestWkid=this.latestWkid,e.wkid=this.wkid,e.wkt=this.wkt,e}lean(){const e={};return this.wkt?e.wkt=this.wkt:(e.wkid=this.wkid,this.latestWkid&&(e.latestWkid=this.latestWkid)),e}isWebMercator(){const e=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&e.includes(this.wkid)||this.latestWkid&&e.includes(this.latestWkid))}static latLongSR(){return new $t(4326)}static fromConfig(e){if(e.wkt)return new $t(e.wkt);if(e.wkid)return new $t(e.wkid,e.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(e){return e?e instanceof $t?e.clone():typeof e=="string"&&e.startsWith("EPSG:")?new $t(parseInt(e.substring(5).trim())):new $t(e):$t.latLongSR()}static fromESRI(e){if(e.wkt)return new $t(e.wkt);{const n=e.toJSON().latestWkid,i=new $t(e.wkid);return n&&(i.latestWkid=n),i}}toESRI(){return new Ut(this.lean())}static fromGeoJSON(e){const n=$t.parseGeoJsonCrs(e);return n.substring(0,5)==="EPSG:"?new $t(parseInt(n.slice(5))):new $t(n)}static parseGeoJsonCrs(e){if(e){if(e.type==="name"){const n=/urn:ogc:def:crs:EPSG::(\d+)/,i=e.properties.name,r=i.match(n);if(r)return"EPSG:"+r[1];if(i.substring(0,7)!=="urn:ogc")return i}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",e),"EPSG:4326"}toGeoJSON(){const e={type:"name",properties:{name:""}};return this.wkt?e.properties.name=this.wkt:e.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),e}}class gu{sr;id;constructor(e,n){this.id=e?e.toString():"",this.sr=$t.parseSR(n)}get type(){return qt.UNKNOWN}childIdGenerator(e){return`${this.id}-${e}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===qt.NONE||this.type===qt.UNKNOWN}geoJsonFactory(e,n){const i={type:e,coordinates:n};return this.sr&&(i.crs=this.sr.toGeoJSON()),i}}class Cl extends gu{constructor(){super("no_geometry")}get type(){return qt.NONE}}let ki=class Z0 extends gu{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=n.slice():this.rawArray=Z0.parseXY(n)}get type(){return qt.POINT}get x(){return this.rawArray[0]}set x(e){this.rawArray[0]=e}get y(){return this.rawArray[1]}set y(e){this.rawArray[1]=e}toArray(){return this.rawArray.slice()}static parseXY(e){let n;if(Array.isArray(e)&&e.length===2)n=e;else{if(e instanceof Z0)return e.toArray();n=[e.x,e.y]}if(isNaN(n[0])||isNaN(n[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(n[0]),parseFloat(n[1])]}static fromESRI(e,n){return new Z0(n,[e.x,e.y],$t.fromESRI(e.spatialReference),!0)}toESRI(){return new ce({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new Z0(n,e.coordinates,$t.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.POINT,this.toArray())}};class Cr extends gu{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=Cr.arrayDeepCopy(n):n instanceof Cr?this.rawArray=n.toArray():this.rawArray=Cr.parsePointSet(n)}get pointArray(){return this.rawArray.map((e,n)=>new ki(this.childIdGenerator(n),e,this.sr,!0))}getAt(e){return new ki(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,n){this.rawArray[n]=ki.parseXY(e)}get length(){return this.rawArray.length}toArray(){return Cr.arrayDeepCopy(this.rawArray)}static parsePointSet(e){if(Array.isArray(e)){if(e.length===0)throw new Error("no verticies provided");return e.map(n=>ki.parseXY(n))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(e){return e.map(n=>n.slice())}}class Td extends Cr{constructor(e,n,i,r){super(e,n,i,r)}get type(){return qt.MULTIPOINT}static fromESRI(e,n){return new Td(n,e.points,$t.fromESRI(e.spatialReference),!0)}toESRI(){return new rs({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new Td(n,e.coordinates,$t.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.MULTIPOINT,this.toArray())}}class gc extends Cr{constructor(e,n,i,r){if(super(e,n,i,r),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return qt.LINESTRING}static fromESRI(e,n){return new gc(n,e.paths[0],$t.fromESRI(e.spatialReference),!0)}toESRI(){return new Hi({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new gc(n,e.coordinates,$t.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.LINESTRING,this.toArray())}}class uo extends gu{rawArray;constructor(e,n,i,r){if(super(e,n.sr||i),r)this.rawArray=uo.arrayDeepCopy(n);else if(n instanceof uo)this.rawArray=n.toArray();else if(n instanceof Cr)this.rawArray=[n.toArray()];else if(Array.isArray(n)){if(n.length===0)throw new Error("no lines provided");this.rawArray=n.map(s=>Cr.parsePointSet(s))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((e,n)=>new gc(this.childIdGenerator(n),e,this.sr,!0))}getAt(e){return new gc(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,n){this.rawArray[n]=Cr.parsePointSet(e)}get length(){return this.rawArray.length}get type(){return qt.MULTILINESTRING}toArray(){return uo.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(e){return e.map(n=>n.map(i=>i.slice()))}static fromESRI(e,n){return new uo(n,e.paths,$t.fromESRI(e.spatialReference),!0)}toESRI(){return new Hi({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new uo(n,e.coordinates,$t.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.MULTILINESTRING,this.toArray())}}class Qu extends Cr{constructor(e,n,i,r){if(super(e,n,i,r),Qu.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return qt.LINEARRING}updateAt(e,n){const i=this.length-1;n===0?super.updateAt(e,i):n===i&&super.updateAt(e,0),super.updateAt(e,n)}static closeRing(e){const n=e[0],i=e[e.length-1];(n[0]!==i[0]||n[1]!==i[1])&&e.push(n.slice())}static fromESRI(e,n){return new Qu(n,e.rings[0],$t.fromESRI(e.spatialReference),!0)}toESRI(){return new Zn({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new Qu(n,e.coordinates,$t.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.POLYGON,[this.toArray()])}}class Ei extends gu{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=Ei.arrayDeepCopy(n):this.rawArray=Ei.parsePolygon(n)}addLinearRings(e){e.forEach(n=>this.rawArray.push(n.toArray()))}get ringArray(){return this.rawArray.map((e,n)=>new Qu(this.childIdGenerator(n),e,this.sr,!0))}get type(){return qt.POLYGON}toArray(){return Ei.arrayDeepCopy(this.rawArray)}static parsePolygon(e){let n=[];if(e instanceof Ei)return e.toArray();if(e instanceof uo)n=e.toArray();else if(e instanceof Cr)n=[e.toArray()];else if(Array.isArray(e)){if(e.length===0)throw new Error("no rings provided");n=e.map(i=>Cr.parsePointSet(i))}else throw new Error("invalid input format for parsePolygon");return n.forEach(i=>Qu.closeRing(i)),n}static arrayDeepCopy(e){return e.map(n=>n.map(i=>i.slice()))}static fromESRI(e,n){return new Ei(n,e.rings,$t.fromESRI(e.spatialReference),!0)}toESRI(){return new Zn({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new Ei(n,e.coordinates,$t.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.POLYGON,this.toArray())}}class Ja extends gu{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=Ja.arrayDeepCopy(n):this.rawArray=Ja.parseMultiPolygon(n)}addPolygon(e){this.rawArray.push(e.toArray())}get polygonArray(){return this.rawArray.map((e,n)=>new Ei(this.childIdGenerator(n),e,this.sr,!0))}get type(){return qt.MULTIPOLYGON}toArray(){return Ja.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(e){if(e instanceof Ja)return e.toArray();if(e instanceof Ei)return[e.toArray()];if(e instanceof uo||e instanceof Cr)return[Ei.parsePolygon(e)];if(Array.isArray(e)){if(e.length===0)throw new Error("no polygons provided");return e.map(n=>Ei.parsePolygon(n))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(e){return e.map(n=>n.map(i=>i.map(r=>r.slice())))}static fromESRI(e,n){return new Ja(n,[e.rings],$t.fromESRI(e.spatialReference),!0)}toESRI(){const e=[];return this.toArray().forEach(n=>{n.forEach(i=>e.push(i))}),new Zn({rings:e,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new Ja(n,e.coordinates,$t.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.MULTIPOLYGON,this.toArray())}}class tn extends gu{rawMin;rawMax;constructor(e,n,i,r){super(e,n.sr||r),this.rawMin=ki.parseXY(n),this.rawMax=ki.parseXY(i)}get type(){return qt.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new ki(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(e){return tn.fromESRI(this.toESRI().expand(e),`${this.id}-expanded`)}clone(){return new tn(this.id,this.rawMin,this.rawMax,this.sr)}contains(e){return this.sr.isEqual(e.sr)?this.xmin<=e.x&&this.xmax>=e.x&&this.ymin<=e.y&&this.ymax>=e.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new Ei(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(e,n,i,r,s,o){return new tn(e,[n,i],[r,s],o)}static fromConfig(e,n){return new tn(e,[n.xmin,n.ymin],[n.xmax,n.ymax],$t.fromConfig(n.spatialReference))}isEqual(e){return e?this.xmin===e.xmin&&this.ymin===e.ymin&&this.xmax===e.xmax&&this.ymax===e.ymax:!1}static fromESRI(e,n){return tn.fromParams(n,e.xmin,e.ymin,e.xmax,e.ymax,$t.fromESRI(e.spatialReference))}toESRI(){return new pe({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(e,n){return tn.fromESRI(pe.fromJSON(e),n)}static fromGeoJSON(e,n){if(e.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const i=e.coordinates[0].slice(),r=i.slice();return[1,2,3].forEach(s=>{[0,1].forEach(o=>{const a=e.coordinates[s];i[o]>a[o]&&(i[o]=a[o]),r[o]<a[o]&&(r[o]=a[o])})}),new tn(n,i,r,$t.fromGeoJSON(e.crs))}toGeoJSON(){return this.geoJsonFactory(fn.POLYGON,this.toPolygonArray())}}class Xa{c;constructor(e){if(!e){this.c=[0,0,0,1];return}if(Array.isArray(e)){const n=e.length;if(n<3||n>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=e.map((i,r)=>r===3?i:parseInt(i)),n===3&&this.c.push(1)}else if(typeof e=="string"){const n=e.substring(0,1)==="#"?e.substring(1):e;this.c=[0,2,4,6].map(i=>{const r=n.substring(i,i+2);return Xa.hexToInt(r)})}else this.c=[e.r,e.g,e.b,e.a??1];this.c.forEach((n,i)=>{n<0&&(console.error("Negative value passed to colour"),this.c[i]=0),n>255&&(console.error("Rotund value passed to colour"),this.c[i]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const e=this.rgba;return e[3]=e[3]*255,`#${e.map(n=>Xa.intToHex(n)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new ge(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(e){return e.length===0?255:parseInt(e,16)}static intToHex(e){const n=e.toString(16);return n.length===1?`0${n}`:n}}class Ea{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(e){if(!(typeof e>"u"))if(typeof e=="string"){let n;const i=e.length;if(i===0)return;const r=e.substring(i-2);return r==="px"?n=parseFloat(e.substring(0,i-2))*1.333333:r==="pt"?n=parseFloat(e.substring(0,i-2)):n=parseFloat(e),n}else return e}}class Ka extends Ea{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(e){if(e=e||{style:mo.CIRCLE},super(),this._style=e.style||mo.CIRCLE,e.style===mo.ICON){const n=e;this._icon=n.icon||"",this._height=Ea.convToPoints(n.height)||16.5,this._width=Ea.convToPoints(n.width)||16.5,this._size=0,this._colour=new Xa,this._outline=new Ko,this._path=""}else{const n=e;this._size=Ea.convToPoints(n.size)||12,this._colour=new Xa(n.colour??"#ffffff40"),this._outline=new Ko(n.outline),this._path=this._style===mo.PATH&&n.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=Ea.convToPoints(e.xOffset)||0,this._yOffset=Ea.convToPoints(e.yOffset)||0,this._angle=e.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(e){this._style===mo.ICON!==e&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const e={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===mo.ICON?{...e,icon:this.icon,width:this.width,height:this.height}:{...e,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let e;return this.styleType===mo.ICON?Ka.isImageUrl(this.icon)?(e=new gi,e.url=this.icon,e.width=this.width,e.height=this.height,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new Vn,e.color=new ge(this.colour.rgba),e.size=this.width,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new Vn,e.color=new ge(this.colour.rgba),e.size=this.size,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle,e.path=this.path,e.style=this.styleType,e.outline=this.outline.toESRI()),e}static fromESRI(e){const n={xOffset:e.xoffset,yOffset:e.yoffset,angle:e.angle};if(e.type==="simple-marker"){const i=n;i.style=e.style,i.colour=e.color.toRgba(),i.size=e.size,i.path=e.path,i.outline=Ko.fromESRI(e.outline).toOptions()}else{const i=n;i.style=mo.ICON,i.width=e.width,i.height=e.height,i.icon=e.url}return new Ka(n)}static fromArcServer(e){return Ka.fromESRI(A1(e))}static isImageUrl(e){return!!e.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!e.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class Ko extends Ea{_style;_width;_miter;_cap;_join;_colour;constructor(e){e=e||{},super(),this._style=e.style||ar.SOLID;const n=Ea.convToPoints(e.width);this._width=typeof n>"u"||n<0?.75:n,this._colour=new Xa(e.colour),this._miter=e.miter??2,this._cap=e.cap||tI.ROUND,this._join=e.join||QT.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const e=new zn;return e.width=this.width,e.color=this.colour.toESRI(),e.style=this.styleType,e.cap=this.cap,e.miterLimit=this.miter,e.join=this.join,e}static fromESRI(e){const n={width:e.width,colour:e.color.toRgba(),style:e.style};return new Ko(n)}static fromArcServer(e){return Ko.fromESRI(A1(e))}}class Id extends Ea{_outlineStyle;_fillColour;_fillStyle;constructor(e){super(),e=e||{},e.fill||(e.fill={}),this._fillColour=new Xa(e.fill.colour),this._fillStyle=e.fill.style||eI.SOLID,this._outlineStyle=new Ko(e.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const e=this.outline.toESRI(),n=new ge(this.fillColour.rgba),i=new pr;return i.style=this.fillStyleType,i.color=n,i.outline=e,i}static fromESRI(e){const n={fill:{colour:e.color.toRgba(),style:e.style},outline:Ko.fromESRI(e.outline).toOptions()};return new Id(n)}static fromArcServer(e){return Id.fromESRI(A1(e))}}class Xat{Extent=tn;Graphic=Jr;LineString=gc;LineStyle=Ko;LinearRing=Qu;MultiLineString=uo;MultiPoint=Td;MultiPolygon=Ja;Point=ki;PointStyle=Ka;Polygon=Ei;PolygonStyle=Id;SpatialReference=$t;esriMapClickToRamp(e,n){return{mapPoint:ki.fromESRI(e.mapPoint,n),screenX:e.x,screenY:e.y,button:e.button,input:e.native.pointerType,clickTime:e.timestamp}}esriMapMouseToRamp(e){return{screenX:e.x,screenY:e.y,button:e.button,moveTime:e.timestamp}}geomRampToEsri(e){return e.toESRI()}geomEsriToRamp(e,n){switch(e.type){case"point":return ki.fromESRI(e,n);case"polyline":{const i=e;return i.paths.length===1?gc.fromESRI(i,n):uo.fromESRI(i,n)}case"polygon":return Ei.fromESRI(e,n);case"extent":return tn.fromESRI(e,n);case"multipoint":return Td.fromESRI(e,n);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomGeoJsonToRamp(e,n){switch(e.type){case fn.POINT:return ki.fromGeoJSON(e,n);case fn.LINESTRING:return gc.fromGeoJSON(e,n);case fn.POLYGON:return Ei.fromGeoJSON(e,n);case fn.MULTIPOINT:return Td.fromGeoJSON(e,n);case fn.MULTILINESTRING:return uo.fromGeoJSON(e,n);case fn.MULTIPOLYGON:return Ja.fromGeoJSON(e,n);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomRampToGeoJson(e){return e.toGeoJSON()}graphicRampToGeoJson(e){const n={},i={type:"Feature",geometry:this.geomRampToGeoJson(e.geometry),properties:n};return Object.keys(e.attributes).forEach(r=>i.properties[r]=e.attributes[r]),i}graphicGeoJsonToRamp(e,n){if(e.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const i=this.geomGeoJsonToRamp(e.geometry,n),r={};return Object.keys(e.properties.forEach(s=>r[s]=e.properties[s])),new Jr(i,"",r)}graphicRampToEsri(e){const n={attributes:{},id:e.id};return n.geometry=this.geomRampToEsri(e.geometry),Object.keys(e.attributes).forEach(i=>n.attributes[i]=e.attributes[i]),e.style&&(n.symbol=this.styleRampToEsri(e.style)),new Xi(n)}styleRampToEsri(e){return e.toESRI()}styleEsriToRamp(e){switch(e.type){case"picture-marker":case"simple-marker":return Ka.fromESRI(e);case"simple-line":return Ko.fromESRI(e);case"simple-fill":return Id.fromESRI(e);default:return console.error(`Unsupported ESRI symbol type encountered: ${e.type}`),new Ka}}serverGeomTypeToRampGeomType(e){if(!e)return qt.NONE;switch(e){case"esriGeometryPolygon":return qt.POLYGON;case"esriGeometryPolyline":return qt.LINESTRING;case"esriGeometryPoint":return qt.POINT;case"esriGeometryMultipoint":return qt.MULTIPOINT;case"esriGeometryEnvelope":return qt.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${e}`),qt.UNKNOWN}}clientGeomTypeToRampGeomType(e){if(!e)return qt.NONE;switch(e){case"polygon":return qt.POLYGON;case"polyline":return qt.LINESTRING;case"point":return qt.POINT;case"multipoint":return qt.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${e}`),qt.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(e){switch(e){case fn.POINT:return"point";case fn.LINESTRING:case fn.MULTILINESTRING:return"polyline";case fn.POLYGON:case fn.MULTIPOLYGON:return"polygon";case fn.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${e}`)}}isImageUrl(e){return Ka.isImageUrl(e)}}class G1{layerIdx;name;children;uid;isRoot;constructor(e,n,i="",r=!0){this.layerIdx=e,this.name=i,this.isRoot=r,this.children=[],this.uid=n}findChildByUid(e){if(this.uid===e)return this;{let n;return this.children.some(i=>n=i.findChildByUid(e)),n}}findChildByIdx(e){if(this.layerIdx===e)return this;{let n;return this.children.some(i=>n=i.findChildByIdx(e)),n}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class $P{minScale;maxScale;constructor(e=0,n=0){this.minScale=e,this.maxScale=n}isOffScale(e){const n={offScale:!1,zoomIn:!1};return e<this.maxScale&&this.maxScale!==0?(n.offScale=!0,n.zoomIn=!1):e>this.minScale&&this.minScale!==0&&(n.offScale=!0,n.zoomIn=!0),n}}class FP{sql;cache;extent;constructor(e="",n=""){this.sql={[di.PERMANENT]:e,[di.INITIAL]:n},this.extent=void 0,this.cache={}}sqlActiveFilters(e=[]){const n=this.sql,i=Object.keys(n).filter(r=>n[r]);return e.length===0?i:i.filter(r=>e.indexOf(r)===-1)}isActive(){return this.sqlActiveFilters([di.PERMANENT]).length>0}getCombinedSql(e=[]){const n=this.sqlActiveFilters(e),i=n.length;return i===0?"":i===1?this.sql[n[0]]:n.map(r=>`(${this.sql[r]})`).join(" AND ")}setSql(e,n){e===di.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[e]=n,this.clearCacheSet(e))}getSql(e){return this.sql[e]||""}setExtent(e){e.isEqual(this.extent)||(this.extent=e,this.clearCacheSet(di.EXTENT))}getCacheKey(e,n){return`_cache$${e.sort().join("$")}${n?"$"+di.EXTENT:""}$`}getCache(e,n){const i=this.getCacheKey(e,n);return this.cache[i]}setCache(e,n,i){const r=this.getCacheKey(n,i);this.cache[r]=e}cacheActiveKeys(){const e=this.cache;return Object.keys(e).filter(n=>e[n])}clearAllCaches(){this.cache={}}clearCacheSet(e){this.cacheActiveKeys().forEach(n=>{n.indexOf(`$${e}$`)>-1&&delete this.cache[n]})}clearAll(){this.sql={[di.PERMANENT]:this.sql[di.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class K0{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(e,n,i=void 0,r=void 0){this.id=e,this.sr=n.sr.clone(),this._defaultExtent=n.clone(),this._fullExtent=i?.clone(),this._maximumExtent=r?.clone(),i&&!i.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${i.sr}`),r&&!r.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${r.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(e){this._defaultExtent=e.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(e){this._fullExtent=e.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(e){this._maximumExtent=e.clone()}static fromConfig(e){return new K0(e.id,tn.fromConfig(`${e.id}-extent-default`,e.default),e.full!==void 0?tn.fromConfig(`${e.id}-extent-full`,e.full):void 0,e.maximum!==void 0?tn.fromConfig(`${e.id}-extent-maximum`,e.maximum):void 0)}clone(){return new K0(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class Sn{realPromise;resolveMe(e){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((e,n)=>{this.resolveMe=i=>{e(i)},this.rejectMe=n})}}var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function UP(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var AS,GP;function Kat(){if(GP)return AS;GP=1;var t=function(A){return e(A)&&!n(A)};function e(A){return!!A&&typeof A=="object"}function n(A){var M=Object.prototype.toString.call(A);return M==="[object RegExp]"||M==="[object Date]"||s(A)}var i=typeof Symbol=="function"&&Symbol.for,r=i?Symbol.for("react.element"):60103;function s(A){return A.$$typeof===r}function o(A){return Array.isArray(A)?[]:{}}function a(A,M){return M.clone!==!1&&M.isMergeableObject(A)?b(o(A),A,M):A}function l(A,M,_){return A.concat(M).map(function(w){return a(w,_)})}function c(A,M){if(!M.customMerge)return b;var _=M.customMerge(A);return typeof _=="function"?_:b}function p(A){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(A).filter(function(M){return Object.propertyIsEnumerable.call(A,M)}):[]}function d(A){return Object.keys(A).concat(p(A))}function f(A,M){try{return M in A}catch{return!1}}function y(A,M){return f(A,M)&&!(Object.hasOwnProperty.call(A,M)&&Object.propertyIsEnumerable.call(A,M))}function g(A,M,_){var w={};return _.isMergeableObject(A)&&d(A).forEach(function(T){w[T]=a(A[T],_)}),d(M).forEach(function(T){y(A,T)||(f(A,T)&&_.isMergeableObject(M[T])?w[T]=c(T,_)(A[T],M[T],_):w[T]=a(M[T],_))}),w}function b(A,M,_){_=_||{},_.arrayMerge=_.arrayMerge||l,_.isMergeableObject=_.isMergeableObject||t,_.cloneUnlessOtherwiseSpecified=a;var w=Array.isArray(M),T=Array.isArray(A),I=w===T;return I?w?_.arrayMerge(A,M,_):g(A,M,_):a(M,_)}b.all=function(A,M){if(!Array.isArray(A))throw new Error("first argument should be an array");return A.reduce(function(_,w){return b(_,w,M)},{})};var x=b;return AS=x,AS}var Qat=Kat();const MS=cm(Qat);class tlt{generateUUID(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const i=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(n==="x"?i:i&3|8).toString(16)})}convertImageToCanvas(e,n,i=!0){const r=n??document.createElement("canvas"),s=document.createElement("img");i&&(s.crossOrigin="anonymous");const o=new Promise((a,l)=>{s.addEventListener("load",()=>{r.width=s.width,r.height=s.height,r.getContext("2d")?.drawImage(s,0,0),a(r)}),s.addEventListener("error",c=>l(c))});return s.src=e,o}async convertImagetoDataURL(e,n="image/png"){return e.startsWith("data")?e:this.convertImageToCanvas(e).then(i=>i.toDataURL(n)).catch(i=>(console.error("Failed to load crossorigin image",e,i),e))}parseUrlIndex(e){const n={rootUrl:e,index:0},i=/\/(\d+)\/?$/,r=e.match(i);if(r){const s=r[1];n.index=isNaN(parseInt(s))?void 0:parseInt(s),n.rootUrl=e.substr(0,e.length-r[0].length)}else console.warn("Cannot extract layer index from url "+e);return n}controlAvailable(e,n){return n?.disabledControls?.includes(e)?!1:n?.controls?n?.controls?.includes(e):!0}}class um{_url;_base;_query;_queryMap={};constructor(e){this._url=e,[this._base,this._query]=e.split("?").concat(""),this._queryMap=this._query.split("&").reduce((n,i)=>{const[r,s]=i.split("=");return n[r]=s,n},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(e){const n=MS.all([{},this.queryMap,e]);return`${this.base}${Object.entries(n).filter(([,i])=>i!==void 0).map(([i,r],s)=>`${s===0?"?":""}${i}=${r}`).join("&")}`}}var hm=6378137,elt=57.29577951308232,nlt=.017453292519943,ilt={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},TS=function(t){return t*elt},IS=function(t){return t*nlt},rlt=function(t){var e=t[0],n=t[1];return[TS(e/hm)-Math.floor((TS(e/hm)+180)/360)*360,TS(Math.PI/2-2*Math.atan(Math.exp(-1*n/hm)))]},slt=function(t){var e=t[0],n=Math.max(Math.min(t[1],89.99999),-89.99999);return[IS(e)*hm,hm/2*Math.log((1+Math.sin(IS(n)))/(1-Math.sin(IS(n))))]};function NS(t){"@babel/helpers - typeof";return NS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NS(t)}var olt=function t(e,n){for(var i=0;i<e.length;i++)typeof e[i][0]=="number"&&(e[i]=n(e[i])),NS(e[i])==="object"&&(e[i]=t(e[i],n));return e},alt=function t(e,n,i){if(e.type==="Point")e.coordinates=n(e.coordinates);else if(e.type==="Feature")e.geometry=t(e.geometry,n,!0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length;r++)e.features[r]=t(e.features[r],n,!0);else if(e.type==="GeometryCollection")for(var s=0;s<e.geometries.length;s++)e.geometries[s]=t(e.geometries[s],n,!0);else e.coordinates=olt(e.coordinates,n);return i||n===slt&&(e.crs=ilt),n===rlt&&delete e.crs,e};function llt(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var vu=1,bu=2,gp=3,clt=4,OS=5,BP=6378137,ult=6356752314e-3,zP=.0066943799901413165,pm=484813681109536e-20,ht=Math.PI/2,hlt=.16666666666666666,plt=.04722222222222222,dlt=.022156084656084655,wt=1e-10,bi=.017453292519943295,Io=57.29577951308232,Ie=Math.PI/4,dm=Math.PI*2,Cn=3.14159265359,mr={};mr.greenwich=0,mr.lisbon=-9.131906111111,mr.paris=2.337229166667,mr.bogota=-74.080916666667,mr.madrid=-3.687938888889,mr.rome=12.452333333333,mr.bern=7.439583333333,mr.jakarta=106.807719444444,mr.ferro=-17.666666666667,mr.brussels=4.367975,mr.stockholm=18.058277777778,mr.athens=23.7163375,mr.oslo=10.722916666667;const flt={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var VP=/[\s_\-\/\(\)]/g;function Rl(t,e){if(t[e])return t[e];for(var n=Object.keys(t),i=e.toLowerCase().replace(VP,""),r=-1,s,o;++r<n.length;)if(s=n[r],o=s.toLowerCase().replace(VP,""),o===i)return t[s]}function kS(t){var e={},n=t.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),i,r,s,o={proj:"projName",datum:"datumCode",rf:function(a){e.rf=parseFloat(a)},lat_0:function(a){e.lat0=a*bi},lat_1:function(a){e.lat1=a*bi},lat_2:function(a){e.lat2=a*bi},lat_ts:function(a){e.lat_ts=a*bi},lon_0:function(a){e.long0=a*bi},lon_1:function(a){e.long1=a*bi},lon_2:function(a){e.long2=a*bi},alpha:function(a){e.alpha=parseFloat(a)*bi},gamma:function(a){e.rectified_grid_angle=parseFloat(a)},lonc:function(a){e.longc=a*bi},x_0:function(a){e.x0=parseFloat(a)},y_0:function(a){e.y0=parseFloat(a)},k_0:function(a){e.k0=parseFloat(a)},k:function(a){e.k0=parseFloat(a)},a:function(a){e.a=parseFloat(a)},b:function(a){e.b=parseFloat(a)},r:function(a){e.a=e.b=parseFloat(a)},r_a:function(){e.R_A=!0},zone:function(a){e.zone=parseInt(a,10)},south:function(){e.utmSouth=!0},towgs84:function(a){e.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){e.to_meter=parseFloat(a)},units:function(a){e.units=a;var l=Rl(flt,a);l&&(e.to_meter=l.to_meter)},from_greenwich:function(a){e.from_greenwich=a*bi},pm:function(a){var l=Rl(mr,a);e.from_greenwich=(l||parseFloat(a))*bi},nadgrids:function(a){a==="@null"?e.datumCode="none":e.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(e.axis=a)},approx:function(){e.approx=!0}};for(i in n)r=n[i],i in o?(s=o[i],typeof s=="function"?s(r):e[s]=r):e[i]=r;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var fm=1,WP=2,HP=3,B1=4,qP=5,CS=-1,mlt=/\s/,ylt=/[A-Za-z]/,glt=/[A-Za-z84_]/,z1=/[,\]]/,YP=/[\d\.E\-\+]/;function Sa(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=fm}Sa.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==B1)for(;mlt.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case fm:return this.neutral(t);case WP:return this.keyword(t);case B1:return this.quoted(t);case qP:return this.afterquote(t);case HP:return this.number(t);case CS:return}},Sa.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=B1;return}if(z1.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)},Sa.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=fm;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=fm,this.currentObject=this.stack.pop(),this.currentObject||(this.state=CS);return}},Sa.prototype.number=function(t){if(YP.test(t)){this.word+=t;return}if(z1.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)},Sa.prototype.quoted=function(t){if(t==='"'){this.state=qP;return}this.word+=t},Sa.prototype.keyword=function(t){if(glt.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=fm;return}if(z1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)},Sa.prototype.neutral=function(t){if(ylt.test(t)){this.word=t,this.state=WP;return}if(t==='"'){this.word="",this.state=B1;return}if(YP.test(t)){this.word=t,this.state=HP;return}if(z1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)},Sa.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===CS)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function vlt(t){var e=new Sa(t);return e.output()}function ZP(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce(function(s,o){return vp(o,s),s},i);e&&(t[e]=r)}function vp(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},vp(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var i;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&vp(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&vp(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],ZP(e,n,t);return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return vp(t,e[n]);return ZP(e,n,t)}}var blt=.017453292519943295;function wlt(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],e.length===3&&(t[n]=e[2](t[n])))}function No(t){return t*blt}function _lt(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,i=t.AXIS.length;n<i;++n){var r=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];r[0].indexOf("north")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="north"?e+="n":r[0].indexOf("south")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="south"?e+="s":r[0].indexOf("east")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="east"?e+="e":(r[0].indexOf("west")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function o(c){var p=t.to_meter||1;return c*p}var a=function(c){return wlt(t,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",No],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",No],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",No],["lat0","latitude_of_origin",No],["lat0","standard_parallel_1",No],["lat1","standard_parallel_1",No],["lat2","standard_parallel_2",No],["azimuth","Azimuth"],["alpha","azimuth",No],["srsCode","name"]];l.forEach(a),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=No(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=No(t.lat0>0?90:-90))}function JP(t){var e=vlt(t),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return vp(e,r),_lt(r),r}function Ki(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Ki[t]=kS(arguments[1]):Ki[t]=JP(arguments[1]):Ki[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(i){Array.isArray(i)?Ki.apply(e,i):Ki(i)});if(typeof t=="string"){if(t in Ki)return Ki[t]}else"EPSG"in t?Ki["EPSG:"+t.EPSG]=t:"ESRI"in t?Ki["ESRI:"+t.ESRI]=t:"IAU2000"in t?Ki["IAU2000:"+t.IAU2000]=t:console.log(t);return}}llt(Ki);function xlt(t){return typeof t=="string"}function Elt(t){return t in Ki}var Slt=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Alt(t){return Slt.some(function(e){return t.indexOf(e)>-1})}var Mlt=["3857","900913","3785","102113"];function Tlt(t){var e=Rl(t,"authority");if(e){var n=Rl(e,"epsg");return n&&Mlt.indexOf(n)>-1}}function Ilt(t){var e=Rl(t,"extension");if(e)return Rl(e,"proj4")}function Nlt(t){return t[0]==="+"}function Olt(t){if(xlt(t)){if(Elt(t))return Ki[t];if(Alt(t)){var e=JP(t);if(Tlt(e))return Ki["EPSG:3857"];var n=Ilt(e);return n?kS(n):e}if(Nlt(t))return kS(t)}else return t}function XP(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)n=e[i],n!==void 0&&(t[i]=n);return t}function Oo(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}function mm(t){return t<0?-1:1}function xt(t){return Math.abs(t)<=Cn?t:t-mm(t)*dm}function Zs(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(ht-e))/i}function ym(t,e){for(var n=.5*t,i,r,s=ht-2*Math.atan(e),o=0;o<=15;o++)if(i=t*Math.sin(s),r=ht-2*Math.atan(e*Math.pow((1-i)/(1+i),n))-s,s+=r,Math.abs(r)<=1e-10)return s;return-9999}function klt(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Oo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Clt(t){var e=t.x,n=t.y;if(n*Io>90&&n*Io<-90&&e*Io>180&&e*Io<-180)return null;var i,r;if(Math.abs(Math.abs(n)-ht)<=wt)return null;if(this.sphere)i=this.x0+this.a*this.k0*xt(e-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(Ie+.5*n));else{var s=Math.sin(n),o=Zs(this.e,n,s);i=this.x0+this.a*this.k0*xt(e-this.long0),r=this.y0-this.a*this.k0*Math.log(o)}return t.x=i,t.y=r,t}function Rlt(t){var e=t.x-this.x0,n=t.y-this.y0,i,r;if(this.sphere)r=ht-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(r=ym(this.e,s),r===-9999)return null}return i=xt(this.long0+e/(this.a*this.k0)),t.x=i,t.y=r,t}var Llt=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const Plt={init:klt,forward:Clt,inverse:Rlt,names:Llt};function Dlt(){}function KP(t){return t}var jlt=["longlat","identity"];const $lt={init:Dlt,forward:KP,inverse:KP,names:jlt};var Flt=[Plt,$lt],V1={},W1=[];function QP(t,e){var n=W1.length;return t.names?(W1[n]=t,t.names.forEach(function(i){V1[i.toLowerCase()]=n}),this):(console.log(e),!0)}function Ult(t){if(!t)return!1;var e=t.toLowerCase();if(typeof V1[e]<"u"&&W1[V1[e]])return W1[V1[e]]}function Glt(){Flt.forEach(QP)}const Blt={start:Glt,add:QP,get:Ult};var zt={};zt.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},zt.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},zt.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},zt.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},zt.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},zt.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},zt.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},zt.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},zt.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},zt.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},zt.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},zt.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},zt.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},zt.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},zt.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},zt.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},zt.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},zt.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},zt.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},zt.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},zt.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},zt.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},zt.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},zt.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},zt.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},zt.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},zt.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},zt.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},zt.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},zt.hough={a:6378270,rf:297,ellipseName:"Hough"},zt.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},zt.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},zt.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},zt.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},zt.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},zt.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},zt.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},zt.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},zt.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},zt.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},zt.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},zt.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var zlt=zt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};zt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function Vlt(t,e,n,i){var r=t*t,s=e*e,o=(r-s)/r,a=0;i?(t*=1-o*(hlt+o*(plt+o*dlt)),r=t*t,o=0):a=Math.sqrt(o);var l=(r-s)/s;return{es:o,e:a,ep2:l}}function Wlt(t,e,n,i,r){if(!t){var s=Rl(zt,i);s||(s=zlt),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<wt)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}var Kn={};Kn.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Kn.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Kn.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Kn.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Kn.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Kn.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Kn.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Kn.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Kn.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},Kn.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Kn.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Kn.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Kn.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Kn.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Kn.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Kn.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Kn.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Kn.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function Hlt(t,e,n,i,r,s,o){var a={};return t===void 0||t==="none"?a.datum_type=OS:a.datum_type=clt,e&&(a.datum_params=e.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=vu),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=bu,a.datum_params[3]*=pm,a.datum_params[4]*=pm,a.datum_params[5]*=pm,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=gp,a.grids=o),a.a=n,a.b=i,a.es=r,a.ep2=s,a}var t9={};function qlt(t,e){var n=new DataView(e),i=Jlt(n),r=Xlt(n,i),s=Klt(n,r,i),o={header:r,subgrids:s};return t9[t]=o,o}function Ylt(t){if(t===void 0)return null;var e=t.split(",");return e.map(Zlt)}function Zlt(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:t9[t]||null,isNull:!1}}function bp(t){return t/3600*Math.PI/180}function Jlt(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Xlt(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:RS(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function RS(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function Klt(t,e,n){for(var i=176,r=[],s=0;s<e.nSubgrids;s++){var o=tct(t,i,n),a=ect(t,i,o,n),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);r.push({ll:[bp(o.lowerLongitude),bp(o.lowerLatitude)],del:[bp(o.longitudeInterval),bp(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:Qlt(a)}),i+=176+o.gridNodeCount*16}return r}function Qlt(t){return t.map(function(e){return[bp(e.longitudeShift),bp(e.latitudeShift)]})}function tct(t,e,n){return{name:RS(t,e+8,e+16).trim(),parent:RS(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function ect(t,e,n,i){for(var r=e+176,s=16,o=[],a=0;a<n.gridNodeCount;a++){var l={latitudeShift:t.getFloat32(r+a*s,i),longitudeShift:t.getFloat32(r+a*s+4,i),latitudeAccuracy:t.getFloat32(r+a*s+8,i),longitudeAccuracy:t.getFloat32(r+a*s+12,i)};o.push(l)}return o}function ko(t,e){if(!(this instanceof ko))return new ko(t);e=e||function(c){if(c)throw c};var n=Olt(t);if(typeof n!="object"){e("Could not parse to valid json: "+t);return}var i=ko.projections.get(n.projName);if(!i){e("Could not get projection name from: "+t);return}if(n.datumCode&&n.datumCode!=="none"){var r=Rl(Kn,n.datumCode);r&&(n.datum_params=n.datum_params||(r.towgs84?r.towgs84.split(","):null),n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=Wlt(n.a,n.b,n.rf,n.ellps,n.sphere),o=Vlt(s.a,s.b,s.rf,n.R_A),a=Ylt(n.nadgrids),l=n.datum||Hlt(n.datumCode,n.datum_params,s.a,s.b,o.es,o.ep2,a);XP(this,n),XP(this,i),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),e(null,this)}ko.projections=Blt,ko.projections.start();function nct(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===vu?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===bu?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function e9(t,e,n){var i=t.x,r=t.y,s=t.z?t.z:0,o,a,l,c;if(r<-ht&&r>-1.001*ht)r=-ht;else if(r>ht&&r<1.001*ht)r=ht;else{if(r<-ht)return{x:-1/0,y:-1/0,z:t.z};if(r>ht)return{x:1/0,y:1/0,z:t.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(r),c=Math.cos(r),l=a*a,o=n/Math.sqrt(1-e*l),{x:(o+s)*c*Math.cos(i),y:(o+s)*c*Math.sin(i),z:(o*(1-e)+s)*a}}function n9(t,e,n,i){var r=1e-12,s=r*r,o=30,a,l,c,p,d,f,y,g,b,x,A,M,_,w=t.x,T=t.y,I=t.z?t.z:0,O,k,R;if(a=Math.sqrt(w*w+T*T),l=Math.sqrt(w*w+T*T+I*I),a/n<r){if(O=0,l/n<r)return k=ht,R=-i,{x:t.x,y:t.y,z:t.z}}else O=Math.atan2(T,w);c=I/l,p=a/l,d=1/Math.sqrt(1-e*(2-e)*p*p),g=p*(1-e)*d,b=c*d,_=0;do _++,y=n/Math.sqrt(1-e*b*b),R=a*g+I*b-y*(1-e*b*b),f=e*y/(y+R),d=1/Math.sqrt(1-f*(2-f)*p*p),x=p*(1-f)*d,A=c*d,M=A*g-x*b,g=x,b=A;while(M*M>s&&_<o);return k=Math.atan(A/Math.abs(x)),{x:O,y:k,z:R}}function ict(t,e,n){if(e===vu)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===bu){var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+a*t.z)+i,y:c*(l*t.x+t.y-o*t.z)+r,z:c*(-a*t.x+o*t.y+t.z)+s}}}function rct(t,e,n){if(e===vu)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===bu){var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6],p=(t.x-i)/c,d=(t.y-r)/c,f=(t.z-s)/c;return{x:p+l*d-a*f,y:-l*p+d+o*f,z:a*p-o*d+f}}}function H1(t){return t===vu||t===bu}function sct(t,e,n){if(nct(t,e)||t.datum_type===OS||e.datum_type===OS)return n;var i=t.a,r=t.es;if(t.datum_type===gp){var s=i9(t,!1,n);if(s!==0)return;i=BP,r=zP}var o=e.a,a=e.b,l=e.es;if(e.datum_type===gp&&(o=BP,a=ult,l=zP),r===l&&i===o&&!H1(t.datum_type)&&!H1(e.datum_type))return n;if(n=e9(n,r,i),H1(t.datum_type)&&(n=ict(n,t.datum_type,t.datum_params)),H1(e.datum_type)&&(n=rct(n,e.datum_type,e.datum_params)),n=n9(n,l,o,a),e.datum_type===gp){var c=i9(e,!0,n);if(c!==0)return}return n}function i9(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},s=[];t:for(var o=0;o<t.grids.length;o++){var a=t.grids[o];if(s.push(a.name),a.isNull){r=i;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,p=l.length;c<p;c++){var d=l[c],f=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-f,g=d.ll[1]-f,b=d.ll[0]+(d.lim[0]-1)*d.del[0]+f,x=d.ll[1]+(d.lim[1]-1)*d.del[1]+f;if(!(g>i.y||y>i.x||x<i.y||b<i.x)&&(r=oct(i,e,d),!isNaN(r.x)))break t}}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*Io+" "+i.y*Io+" tried: '"+s+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function oct(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var r={x:t.x,y:t.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=xt(r.x-Math.PI)+Math.PI;var s=r9(r,n);if(e){if(isNaN(s.x))return i;s.x=r.x-s.x,s.y=r.y-s.y;var o=9,a=1e-12,l,c;do{if(c=r9(s,n),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:r.x-(c.x+s.x),y:r.y-(c.y+s.y)},s.x+=l.x,s.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=xt(s.x+n.ll[0]),i.y=s.y+n.ll[1]}else isNaN(s.x)||(i.x=t.x+s.x,i.y=t.y+s.y);return i}function r9(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},i={x:Math.floor(n.x),y:Math.floor(n.y)},r={x:n.x-1*i.x,y:n.y-1*i.y},s={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return s;o=i.y*e.lim[0]+i.x;var a={x:e.cvs[o][0],y:e.cvs[o][1]};o++;var l={x:e.cvs[o][0],y:e.cvs[o][1]};o+=e.lim[0];var c={x:e.cvs[o][0],y:e.cvs[o][1]};o--;var p={x:e.cvs[o][0],y:e.cvs[o][1]},d=r.x*r.y,f=r.x*(1-r.y),y=(1-r.x)*(1-r.y),g=(1-r.x)*r.y;return s.x=y*a.x+f*l.x+g*p.x+d*c.x,s.y=y*a.y+f*l.y+g*p.y+d*c.y,s}function s9(t,e,n){var i=n.x,r=n.y,s=n.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(o=i,"ew".indexOf(t.axis[l])!==-1?a="x":a="y"):l===1?(o=r,"ns".indexOf(t.axis[l])!==-1?a="y":a="x"):(o=s,a="z"),t.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":n[a]!==void 0&&(c.z=o);break;case"d":n[a]!==void 0&&(c.z=-o);break;default:return null}return c}function o9(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function act(t){a9(t.x),a9(t.y)}function a9(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function lct(t,e){return(t.datum.datum_type===vu||t.datum.datum_type===bu||t.datum.datum_type===gp)&&e.datumCode!=="WGS84"||(e.datum.datum_type===vu||e.datum.datum_type===bu||e.datum.datum_type===gp)&&t.datumCode!=="WGS84"}function q1(t,e,n,i){var r;Array.isArray(n)?n=o9(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(act(n),t.datum&&e.datum&&lct(t,e)&&(r=new ko("WGS84"),n=q1(t,r,n,i),t=r),i&&t.axis!=="enu"&&(n=s9(t,!1,n)),t.projName==="longlat")n={x:n.x*bi,y:n.y*bi,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=sct(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*Io,y:n.y*Io,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),i&&e.axis!=="enu"?s9(e,!0,n):(n&&!s&&delete n.z,n)}var l9=ko("WGS84");function LS(t,e,n,i){var r,s,o;return Array.isArray(n)?(r=q1(t,e,n,i)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof r.z=="number"?[r.x,r.y,r.z].concat(n.slice(3)):[r.x,r.y,n[2]].concat(n.slice(3)):[r.x,r.y].concat(n.slice(2)):[r.x,r.y]):(s=q1(t,e,n,i),o=Object.keys(n),o.length===2||o.forEach(function(a){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;s[a]=n[a]}),s)}function c9(t){return t instanceof ko?t:t.oProj?t.oProj:ko(t)}function Fe(t,e,n){t=c9(t);var i=!1,r;return typeof e>"u"?(e=t,t=l9,i=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=l9,i=!0),e=c9(e),n?LS(t,e,n):(r={forward:function(s,o){return LS(t,e,s,o)},inverse:function(s,o){return LS(e,t,s,o)}},i&&(r.oProj=e),r)}var u9=6,h9="AJSAJS",p9="AFAFAF",wp=65,yr=73,ds=79,gm=86,vm=90;const cct={forward:d9,inverse:uct,toPoint:f9};function d9(t,e){return e=e||5,dct(hct({lat:t[1],lon:t[0]}),e)}function uct(t){var e=DS(g9(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function f9(t){var e=DS(g9(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function PS(t){return t*(Math.PI/180)}function m9(t){return 180*(t/Math.PI)}function hct(t){var e=t.lat,n=t.lon,i=6378137,r=.00669438,s=.9996,o,a,l,c,p,d,f,y=PS(e),g=PS(n),b,x;x=Math.floor((n+180)/6)+1,n===180&&(x=60),e>=56&&e<64&&n>=3&&n<12&&(x=32),e>=72&&e<84&&(n>=0&&n<9?x=31:n>=9&&n<21?x=33:n>=21&&n<33?x=35:n>=33&&n<42&&(x=37)),o=(x-1)*6-180+3,b=PS(o),a=r/(1-r),l=i/Math.sqrt(1-r*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),p=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(g-b),f=i*((1-r/4-3*r*r/64-5*r*r*r/256)*y-(3*r/8+3*r*r/32+45*r*r*r/1024)*Math.sin(2*y)+(15*r*r/256+45*r*r*r/1024)*Math.sin(4*y)-35*r*r*r/3072*Math.sin(6*y));var A=s*l*(d+(1-c+p)*d*d*d/6+(5-18*c+c*c+72*p-58*a)*d*d*d*d*d/120)+5e5,M=s*(f+l*Math.tan(y)*(d*d/2+(5-c+9*p+4*p*p)*d*d*d*d/24+(61-58*c+c*c+600*p-330*a)*d*d*d*d*d*d/720));return e<0&&(M+=1e7),{northing:Math.round(M),easting:Math.round(A),zoneNumber:x,zoneLetter:pct(e)}}function DS(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var s=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),p,d,f,y,g,b,x,A,M,_=n-5e5,w=e;i<"N"&&(w-=1e7),x=(r-1)*6-180+3,l=a/(1-a),b=w/s,A=b/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),M=A+(3*c/2-27*c*c*c/32)*Math.sin(2*A)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*A)+151*c*c*c/96*Math.sin(6*A),p=o/Math.sqrt(1-a*Math.sin(M)*Math.sin(M)),d=Math.tan(M)*Math.tan(M),f=l*Math.cos(M)*Math.cos(M),y=o*(1-a)/Math.pow(1-a*Math.sin(M)*Math.sin(M),1.5),g=_/(p*s);var T=M-p*Math.tan(M)/y*(g*g/2-(5+3*d+10*f-4*f*f-9*l)*g*g*g*g/24+(61+90*d+298*f+45*d*d-252*l-3*f*f)*g*g*g*g*g*g/720);T=m9(T);var I=(g-(1+2*d+f)*g*g*g/6+(5-2*f+28*d-3*f*f+8*l+24*d*d)*g*g*g*g*g/120)/Math.cos(M);I=x+m9(I);var O;if(t.accuracy){var k=DS({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});O={top:k.lat,right:k.lon,bottom:T,left:I}}else O={lat:T,lon:I};return O}function pct(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function dct(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+fct(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function fct(t,e,n){var i=y9(n),r=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return mct(r,s,i)}function y9(t){var e=t%u9;return e===0&&(e=u9),e}function mct(t,e,n){var i=n-1,r=h9.charCodeAt(i),s=p9.charCodeAt(i),o=r+t-1,a=s+e,l=!1;o>vm&&(o=o-vm+wp-1,l=!0),(o===yr||r<yr&&o>yr||(o>yr||r<yr)&&l)&&o++,(o===ds||r<ds&&o>ds||(o>ds||r<ds)&&l)&&(o++,o===yr&&o++),o>vm&&(o=o-vm+wp-1),a>gm?(a=a-gm+wp-1,l=!0):l=!1,(a===yr||s<yr&&a>yr||(a>yr||s<yr)&&l)&&a++,(a===ds||s<ds&&a>ds||(a>ds||s<ds)&&l)&&(a++,a===yr&&a++),a>gm&&(a=a-gm+wp-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function g9(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,i="",r,s=0;!/[A-Z]/.test(r=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;i+=r,s++}var o=parseInt(i,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(s++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(s,s+=2);for(var l=y9(o),c=yct(n.charAt(0),l),p=gct(n.charAt(1),l);p<vct(a);)p+=2e6;var d=e-s;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var f=d/2,y=0,g=0,b,x,A,M,_;return f>0&&(b=1e5/Math.pow(10,f),x=t.substring(s,s+f),y=parseFloat(x)*b,A=t.substring(s+f),g=parseFloat(A)*b),M=y+c,_=g+p,{easting:M,northing:_,zoneLetter:a,zoneNumber:o,accuracy:b}}function yct(t,e){for(var n=h9.charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(n++,n===yr&&n++,n===ds&&n++,n>vm){if(r)throw"Bad character: "+t;n=wp,r=!0}i+=1e5}return i}function gct(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=p9.charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(n++,n===yr&&n++,n===ds&&n++,n>gm){if(r)throw"Bad character: "+t;n=wp,r=!0}i+=1e5}return i}function vct(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function _p(t,e,n){if(!(this instanceof _p))return new _p(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}_p.fromMGRS=function(t){return new _p(f9(t))},_p.prototype.toMGRS=function(t){return d9([this.x,this.y],t)};var bct=1,wct=.25,v9=.046875,b9=.01953125,w9=.01068115234375,_ct=.75,xct=.46875,Ect=.013020833333333334,Sct=.007120768229166667,Act=.3645833333333333,Mct=.005696614583333333,Tct=.3076171875;function jS(t){var e=[];e[0]=bct-t*(wct+t*(v9+t*(b9+t*w9))),e[1]=t*(_ct-t*(v9+t*(b9+t*w9)));var n=t*t;return e[2]=n*(xct-t*(Ect+t*Sct)),n*=t,e[3]=n*(Act-t*Mct),e[4]=n*t*Tct,e}function xp(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var Ict=20;function $S(t,e,n){for(var i=1/(1-e),r=t,s=Ict;s;--s){var o=Math.sin(r),a=1-e*o*o;if(a=(xp(r,o,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,r-=a,Math.abs(a)<wt)return r}return r}function Nct(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=jS(this.es),this.ml0=xp(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function Oct(t){var e=t.x,n=t.y,i=xt(e-this.long0),r,s,o,a=Math.sin(n),l=Math.cos(n);if(this.es){var c=l*i,p=Math.pow(c,2),d=this.ep2*Math.pow(l,2),f=Math.pow(d,2),y=Math.abs(l)>wt?Math.tan(n):0,g=Math.pow(y,2),b=Math.pow(g,2);r=1-this.es*Math.pow(a,2),c=c/Math.sqrt(r);var x=xp(n,a,l,this.en);s=this.a*(this.k0*c*(1+p/6*(1-g+d+p/20*(5-18*g+b+14*d-58*g*d+p/42*(61+179*b-b*g-479*g)))))+this.x0,o=this.a*(this.k0*(x-this.ml0+a*i*c/2*(1+p/12*(5-g+9*d+4*f+p/30*(61+b-58*g+270*d-330*g*d+p/56*(1385+543*b-b*g-3111*g))))))+this.y0}else{var A=l*Math.sin(i);if(Math.abs(Math.abs(A)-1)<wt)return 93;if(s=.5*this.a*this.k0*Math.log((1+A)/(1-A))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(A,2)),A=Math.abs(o),A>=1){if(A-1>wt)return 93;o=0}else o=Math.acos(o);n<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return t.x=s,t.y=o,t}function kct(t){var e,n,i,r,s=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+o/this.k0,n=$S(e,this.es,this.en),Math.abs(n)<ht){var a=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>wt?Math.tan(n):0,p=this.ep2*Math.pow(l,2),d=Math.pow(p,2),f=Math.pow(c,2),y=Math.pow(f,2);e=1-this.es*Math.pow(a,2);var g=s*Math.sqrt(e)/this.k0,b=Math.pow(g,2);e=e*c,i=n-e*b/(1-this.es)*.5*(1-b/12*(5+3*f-9*p*f+p-4*d-b/30*(61+90*f-252*p*f+45*y+46*p-b/56*(1385+3633*f+4095*y+1574*y*f)))),r=xt(this.long0+g*(1-b/6*(1+2*f+p-b/20*(5+28*f+24*y+8*p*f+6*p-b/42*(61+662*f+1320*y+720*y*f))))/l)}else i=ht*mm(o),r=0;else{var x=Math.exp(s/this.k0),A=.5*(x-1/x),M=this.lat0+o/this.k0,_=Math.cos(M);e=Math.sqrt((1-Math.pow(_,2))/(1+Math.pow(A,2))),i=Math.asin(e),o<0&&(i=-i),A===0&&_===0?r=0:r=xt(Math.atan2(A,_)+this.long0)}return t.x=r,t.y=i,t}var Cct=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Y1={init:Nct,forward:Oct,inverse:kct,names:Cct};function _9(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function gr(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function Rct(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function Lct(t){var e=Math.abs(t);return e=Rct(e*(1+e/(gr(1,e)+1))),t<0?-e:e}function FS(t,e){for(var n=2*Math.cos(2*e),i=t.length-1,r=t[i],s=0,o;--i>=0;)o=-s+n*r+t[i],s=r,r=o;return e+o*Math.sin(2*e)}function Pct(t,e){for(var n=2*Math.cos(e),i=t.length-1,r=t[i],s=0,o;--i>=0;)o=-s+n*r+t[i],s=r,r=o;return Math.sin(e)*o}function Dct(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function x9(t,e,n){for(var i=Math.sin(e),r=Math.cos(e),s=_9(n),o=Dct(n),a=2*r*o,l=-2*i*s,c=t.length-1,p=t[c],d=0,f=0,y=0,g,b;--c>=0;)g=f,b=d,f=p,d=y,p=-g+a*f-l*d+t[c],y=-b+l*f+a*d;return a=i*o,l=r*s,[a*p-l*y,a*y+l*p]}function jct(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Y1.init.apply(this),this.forward=Y1.forward,this.inverse=Y1.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var i=FS(this.cbg,this.lat0);this.Zb=-this.Qn*(i+Pct(this.gtu,2*i))}function $ct(t){var e=xt(t.x-this.long0),n=t.y;n=FS(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),s=Math.sin(e),o=Math.cos(e);n=Math.atan2(i,o*r),e=Math.atan2(s*r,gr(i,r*o)),e=Lct(Math.tan(e));var a=x9(this.gtu,2*n,2*e);n=n+a[0],e=e+a[1];var l,c;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,c=1/0),t.x=l,t.y=c,t}function Fct(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var i,r;if(Math.abs(e)<=2.623395162778){var s=x9(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(_9(e));var o=Math.sin(n),a=Math.cos(n),l=Math.sin(e),c=Math.cos(e);n=Math.atan2(o*c,gr(l,c*a)),e=Math.atan2(l,c*a),i=xt(e+this.long0),r=FS(this.cgb,n)}else i=1/0,r=1/0;return t.x=i,t.y=r,t}var Uct=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Z1={init:jct,forward:$ct,inverse:Fct,names:Uct};function Gct(t,e){if(t===void 0){if(t=Math.floor((xt(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var Bct="etmerc";function zct(){var t=Gct(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*bi,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Z1.init.apply(this),this.forward=Z1.forward,this.inverse=Z1.inverse}var Vct=["Universal Transverse Mercator System","utm"];const Wct={init:zct,names:Vct,dependsOn:Bct};function US(t,e){return Math.pow((1-t)/(1+t),e)}var Hct=20;function qct(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Ie)/(Math.pow(Math.tan(.5*this.lat0+Ie),this.C)*US(this.e*t,this.ratexp))}function Yct(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Ie),this.C)*US(this.e*Math.sin(n),this.ratexp))-ht,t.x=this.C*e,t}function Zct(t){for(var e=1e-14,n=t.x/this.C,i=t.y,r=Math.pow(Math.tan(.5*i+Ie)/this.K,1/this.C),s=Hct;s>0&&(i=2*Math.atan(r*US(this.e*Math.sin(t.y),-.5*this.e))-ht,!(Math.abs(i-t.y)<e));--s)t.y=i;return s?(t.x=n,t.y=i,t):null}const GS={init:qct,forward:Yct,inverse:Zct};function Jct(){GS.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Xct(t){var e,n,i,r;return t.x=xt(t.x-this.long0),GS.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Kct(t){var e,n,i,r,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=gr(t.x,t.y)){var o=2*Math.atan2(s,this.R2);e=Math.sin(o),n=Math.cos(o),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),i=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,GS.inverse.apply(this,[t]),t.x=xt(t.x+this.long0),t}var Qct=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const tut={init:Jct,forward:Xct,inverse:Kct,names:Qct};function eut(t,e,n){return e*=n,Math.tan(.5*(ht+t))*Math.pow((1-e)/(1+e),.5*n)}function nut(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=wt&&(this.k0=.5*(1+mm(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=wt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=wt&&Math.abs(Math.cos(this.lat_ts))>wt&&(this.k0=.5*this.cons*Oo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Zs(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Oo(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-ht,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function iut(t){var e=t.x,n=t.y,i=Math.sin(n),r=Math.cos(n),s,o,a,l,c,p,d=xt(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=wt&&Math.abs(n+this.lat0)<=wt?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*i+this.coslat0*r*Math.cos(d)),t.x=this.a*s*r*Math.sin(d)+this.x0,t.y=this.a*s*(this.coslat0*i-this.sinlat0*r*Math.cos(d))+this.y0,t):(o=2*Math.atan(this.ssfn_(n,i,this.e))-ht,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=wt?(c=Zs(this.e,n*this.con,this.con*i),p=2*this.a*this.k0*c/this.cons,t.x=this.x0+p*Math.sin(e-this.long0),t.y=this.y0-this.con*p*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<wt?(s=2*this.a*this.k0/(1+l*Math.cos(d)),t.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),t.y=s*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),t.x=s*l*Math.sin(d)+this.x0,t))}function rut(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,s,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,n=this.lat0,o<=wt?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<wt?this.lat0>0?e=xt(this.long0+Math.atan2(t.x,-1*t.y)):e=xt(this.long0+Math.atan2(t.x,t.y)):e=xt(this.long0+Math.atan2(t.x*Math.sin(a),o*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=wt){if(o<=wt)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=o*this.cons/(2*this.a*this.k0),n=this.con*ym(this.e,i),e=this.con*xt(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=wt?s=this.X0:(s=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/o),e=xt(this.long0+Math.atan2(t.x*Math.sin(r),o*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*ym(this.e,Math.tan(.5*(ht+s)));return t.x=e,t.y=n,t}var sut=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const out={init:nut,forward:iut,inverse:rut,names:sut,ssfn_:eut};function aut(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,r=1/i,s=2*r-Math.pow(r,2),o=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*l+this.alpha*o/2*c}function lut(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*o+this.x0,t}function cut(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+o/this.alpha,l=0,c=s,p=-1e3,d=0;Math.abs(c-p)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),p=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=c,t}var uut=["somerc"];const hut={init:aut,forward:lut,inverse:cut,names:uut};var Ep=1e-7;function put(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function dut(){var t,e,n,i,r,s,o,a,l,c,p=0,d,f=0,y=0,g=0,b=0,x=0,A=0;this.no_off=put(this),this.no_rot="no_rot"in this;var M=!1;"alpha"in this&&(M=!0);var _=!1;if("rectified_grid_angle"in this&&(_=!0),M&&(A=this.alpha),_&&(p=this.rectified_grid_angle*bi),M||_)f=this.longc;else if(y=this.long1,b=this.lat1,g=this.long2,x=this.lat2,Math.abs(b-x)<=Ep||(t=Math.abs(b))<=Ep||Math.abs(t-ht)<=Ep||Math.abs(Math.abs(this.lat0)-ht)<=Ep||Math.abs(Math.abs(x)-ht)<=Ep)throw new Error;var w=1-this.es;e=Math.sqrt(w),Math.abs(this.lat0)>wt?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/w),this.A=this.B*this.k0*e/t,i=this.B*e/(n*Math.sqrt(t)),r=i*i-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(Zs(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=r=1),M||_?(M?(d=Math.asin(Math.sin(A)/i),_||(p=A)):(d=p,A=Math.asin(i*Math.sin(d))),this.lam0=f-Math.asin(.5*(r-1/r)*Math.tan(d))/this.B):(s=Math.pow(Zs(this.e,b,Math.sin(b)),this.B),o=Math.pow(Zs(this.e,x,Math.sin(x)),this.B),r=this.E/s,l=(o-s)/(o+s),c=this.E*this.E,c=(c-o*s)/(c+o*s),t=y-g,t<-Math.pi?g-=dm:t>Math.pi&&(g+=dm),this.lam0=xt(.5*(y+g)-Math.atan(c*Math.tan(.5*this.B*(y-g))/l)/this.B),d=Math.atan(2*Math.sin(this.B*xt(y-this.lam0))/(r-1/r)),p=A=Math.asin(i*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(A))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(Ie-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(Ie+r))}function fut(t){var e={},n,i,r,s,o,a,l,c;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-ht)>wt){if(o=this.E/Math.pow(Zs(this.e,t.y,Math.sin(t.y)),this.B),a=1/o,n=.5*(o-a),i=.5*(o+a),s=Math.sin(this.B*t.x),r=(n*this.singam-s*this.cosgam)/i,Math.abs(Math.abs(r)-1)<wt)throw new Error;c=.5*this.ArB*Math.log((1-r)/(1+r)),a=Math.cos(this.B*t.x),Math.abs(a)<Ep?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,a)}else c=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=c):(l-=this.u_0,e.x=c*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-c*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function mut(t){var e,n,i,r,s,o,a,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*n),r=.5*(i-1/i),s=.5*(i+1/i),o=Math.sin(this.BrA*e),a=(o*this.cosgam+r*this.singam)/s,Math.abs(Math.abs(a)-1)<wt)l.x=0,l.y=a<0?-ht:ht;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=ym(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-o*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var yut=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const gut={init:dut,forward:fut,inverse:mut,names:yut};function vut(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<wt)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=Oo(this.e,e,n),r=Zs(this.e,this.lat1,e),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=Oo(this.e,s,o),l=Zs(this.e,this.lat2,s),c=Zs(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>wt?this.ns=Math.log(i/a)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function but(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=wt&&(n=mm(n)*(ht-2*wt));var i=Math.abs(Math.abs(n)-ht),r,s;if(i>wt)r=Zs(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(r,this.ns);else{if(i=n*this.ns,i<=0)return null;s=0}var o=this.ns*xt(e-this.long0);return t.x=this.k0*(s*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,t}function wut(t){var e,n,i,r,s,o=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+a*a),n=1):(e=-Math.sqrt(o*o+a*a),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*o,n*a)),e!==0||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),r=ym(this.e,i),r===-9999)return null}else r=-ht;return s=xt(l/this.ns+this.long0),t.x=s,t.y=r,t}var _ut=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const xut={init:vut,forward:but,inverse:wut,names:_ut};function Eut(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Sut(t){var e,n,i,r,s,o,a,l=t.x,c=t.y,p=xt(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-p*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),s=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(o)/1,t.x=a*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Aut(t){var e,n,i,r,s,o,a,l,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),r=s/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,l=0;var p=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,p+=1;while(l===0&&p<15);return p>=15?null:t}var Mut=["Krovak","krovak"];const Tut={init:Eut,forward:Sut,inverse:Aut,names:Mut};function Qi(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}function bm(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function wm(t){return .375*t*(1+.25*t*(1+.46875*t))}function _m(t){return .05859375*t*t*(1+.75*t)}function xm(t){return t*t*t*(35/3072)}function Sp(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}function Ll(t){return Math.abs(t)<ht?t:t-mm(t)*Math.PI}function J1(t,e,n,i,r){var s,o;s=t/e;for(var a=0;a<15;a++)if(o=(t-(e*s-n*Math.sin(2*s)+i*Math.sin(4*s)-r*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*i*Math.cos(4*s)-6*r*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}function Iut(){this.sphere||(this.e0=bm(this.es),this.e1=wm(this.es),this.e2=_m(this.es),this.e3=xm(this.es),this.ml0=this.a*Qi(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Nut(t){var e,n,i=t.x,r=t.y;if(i=xt(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var s=Math.sin(r),o=Math.cos(r),a=Sp(this.a,this.e,s),l=Math.tan(r)*Math.tan(r),c=i*Math.cos(r),p=c*c,d=this.es*o*o/(1-this.es),f=this.a*Qi(this.e0,this.e1,this.e2,this.e3,r);e=a*c*(1-p*l*(1/6-(8-l+8*d)*p/120)),n=f-this.ml0+a*s/o*p*(.5+(5-l+6*d)*p/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function Out(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,r;if(this.sphere){var s=n+this.lat0;i=Math.asin(Math.sin(s)*Math.cos(e)),r=Math.atan2(Math.tan(e),Math.cos(s))}else{var o=this.ml0/this.a+n,a=J1(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-ht)<=wt)return t.x=this.long0,t.y=ht,n<0&&(t.y*=-1),t;var l=Sp(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(a),2),d=e*this.a/l,f=d*d;i=a-l*Math.tan(a)/c*d*d*(.5-(1+3*p)*d*d/24),r=d*(1-f*(p/3+(1+3*p)*p*f/15))/Math.cos(a)}return t.x=xt(r+this.long0),t.y=Ll(i),t}var kut=["Cassini","Cassini_Soldner","cass"];const Cut={init:Iut,forward:Nut,inverse:Out,names:kut};function Pl(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var Rut=1,Lut=2,Put=3,Dut=4;function jut(){var t=Math.abs(this.lat0);if(Math.abs(t-ht)<wt?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<wt?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Pl(this.e,1),this.mmf=.5/(1-this.es),this.apa=Hut(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Pl(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function $ut(t){var e,n,i,r,s,o,a,l,c,p,d=t.x,f=t.y;if(d=xt(d-this.long0),this.sphere){if(s=Math.sin(f),p=Math.cos(f),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+p*i:1+this.sinph0*s+this.cosph0*p*i,n<=wt)return null;n=Math.sqrt(2/n),e=n*p*Math.sin(d),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*p*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(f+this.lat0)<wt)return null;n=Ie-f*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(d),n*=i}}else{switch(a=0,l=0,c=0,i=Math.cos(d),r=Math.sin(d),s=Math.sin(f),o=Pl(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=ht+f,o=this.qp-o;break;case this.S_POLE:c=f-ht,o=this.qp+o;break}if(Math.abs(c)<wt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?n=this.ymf*c*(this.cosb1*a-this.sinb1*l*i):n=(c=Math.sqrt(2/(1+l*i)))*a*this.ymf,e=this.xmf*c*l*r;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(c=Math.sqrt(o))*r,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function Fut(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,r,s,o,a,l,c;if(this.sphere){var p=0,d,f=0;if(d=Math.sqrt(e*e+n*n),r=d*.5,r>1)return null;switch(r=2*Math.asin(r),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=Math.sin(r),p=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(d)<=wt?0:Math.asin(n*f/d),e*=f,n=p*d;break;case this.OBLIQ:r=Math.abs(d)<=wt?this.lat0:Math.asin(p*this.sinph0+n*f*this.cosph0/d),e*=f*this.cosph0,n=(p-Math.sin(r)*this.sinph0)*d;break;case this.N_POLE:n=-n,r=ht-r;break;case this.S_POLE:r-=ht;break}i=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<wt)return t.x=this.long0,t.y=this.lat0,t;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),e*=o=Math.sin(o),this.mode===this.OBLIQ?(c=s*this.sinb1+n*o*this.cosb1/l,a=this.qp*c,n=l*this.cosb1*s-n*this.sinb1*o):(c=n*o/l,a=this.qp*c,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),a=e*e+n*n,!a)return t.x=this.long0,t.y=this.lat0,t;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}i=Math.atan2(e,n),r=qut(Math.asin(c),this.apa)}return t.x=xt(this.long0+i),t.y=r,t}var Uut=.3333333333333333,Gut=.17222222222222222,But=.10257936507936508,zut=.06388888888888888,Vut=.0664021164021164,Wut=.016415012942191543;function Hut(t){var e,n=[];return n[0]=t*Uut,e=t*t,n[0]+=e*Gut,n[1]=e*zut,e*=t,n[0]+=e*But,n[1]+=e*Vut,n[2]=e*Wut,n}function qut(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var Yut=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Zut={init:jut,forward:$ut,inverse:Fut,names:Yut,S_POLE:Rut,N_POLE:Lut,EQUIT:Put,OBLIQ:Dut};function Dl(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Jut(){Math.abs(this.lat1+this.lat2)<wt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Oo(this.e3,this.sin_po,this.cos_po),this.qs1=Pl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Oo(this.e3,this.sin_po,this.cos_po),this.qs2=Pl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Pl(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>wt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Xut(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=Pl(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*xt(e-this.long0),o=r*Math.sin(s)+this.x0,a=this.rh-r*Math.cos(s)+this.y0;return t.x=o,t.y=a,t}function Kut(t){var e,n,i,r,s,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,e!==0&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,n)),s=xt(r/this.ns0+this.long0),t.x=s,t.y=o,t}function Qut(t,e){var n,i,r,s,o,a=Dl(.5*e);if(t<wt)return a;for(var l=t*t,c=1;c<=25;c++)if(n=Math.sin(a),i=Math.cos(a),r=t*n,s=1-r*r,o=.5*s*s/i*(e/(1-l)-n/s+.5/t*Math.log((1-r)/(1+r))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var tht=["Albers_Conic_Equal_Area","Albers","aea"];const eht={init:Jut,forward:Xut,inverse:Kut,names:tht,phi1z:Qut};function nht(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function iht(t){var e,n,i,r,s,o,a,l,c=t.x,p=t.y;return i=xt(c-this.long0),e=Math.sin(p),n=Math.cos(p),r=Math.cos(i),o=this.sin_p14*e+this.cos_p14*n*r,s=1,o>0||Math.abs(o)<=wt?(a=this.x0+this.a*s*n*Math.sin(i)/o,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*r)/o):(a=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function rht(t){var e,n,i,r,s,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),o=Dl(i*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),s=xt(this.long0+s)):(o=this.phic0,s=0),t.x=s,t.y=o,t}var sht=["gnom"];const oht={init:nht,forward:iht,inverse:rht,names:sht};function aht(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*ht:ht;for(var i=Math.asin(.5*e),r,s,o,a,l=0;l<30;l++)if(s=Math.sin(i),o=Math.cos(i),a=t*s,r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-s/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),i+=r,Math.abs(r)<=1e-10)return i;return NaN}function lht(){this.sphere||(this.k0=Oo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function cht(t){var e=t.x,n=t.y,i,r,s=xt(e-this.long0);if(this.sphere)i=this.x0+this.a*s*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var o=Pl(this.e,Math.sin(n));i=this.x0+this.a*this.k0*s,r=this.y0+this.a*o*.5/this.k0}return t.x=i,t.y=r,t}function uht(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=xt(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=aht(this.e,2*t.y*this.k0/this.a),e=xt(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var hht=["cea"];const pht={init:lht,forward:cht,inverse:uht,names:hht};function dht(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function fht(t){var e=t.x,n=t.y,i=xt(e-this.long0),r=Ll(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t}function mht(t){var e=t.x,n=t.y;return t.x=xt(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Ll(this.lat0+(n-this.y0)/this.a),t}var yht=["Equirectangular","Equidistant_Cylindrical","eqc"];const ght={init:dht,forward:fht,inverse:mht,names:yht};var E9=20;function vht(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=bm(this.es),this.e1=wm(this.es),this.e2=_m(this.es),this.e3=xm(this.es),this.ml0=this.a*Qi(this.e0,this.e1,this.e2,this.e3,this.lat0)}function bht(t){var e=t.x,n=t.y,i,r,s,o=xt(e-this.long0);if(s=o*Math.sin(n),this.sphere)Math.abs(n)<=wt?(i=this.a*o,r=-1*this.a*this.lat0):(i=this.a*Math.sin(s)/Math.tan(n),r=this.a*(Ll(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=wt)i=this.a*o,r=-1*this.ml0;else{var a=Sp(this.a,this.e,Math.sin(n))/Math.tan(n);i=a*Math.sin(s),r=this.a*Qi(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+a*(1-Math.cos(s))}return t.x=i+this.x0,t.y=r+this.y0,t}function wht(t){var e,n,i,r,s,o,a,l,c;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=wt)e=xt(i/this.a+this.long0),n=0;else{o=this.lat0+r/this.a,a=i*i/this.a/this.a+o*o,l=o;var p;for(s=E9;s;--s)if(p=Math.tan(l),c=-1*(o*(l*p+1)-l-.5*(l*l+a)*p)/((l-o)/p-1),l+=c,Math.abs(c)<=wt){n=l;break}e=xt(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=wt)n=0,e=xt(this.long0+i/this.a);else{o=(this.ml0+r)/this.a,a=i*i/this.a/this.a+o*o,l=o;var d,f,y,g,b;for(s=E9;s;--s)if(b=this.e*Math.sin(l),d=Math.sqrt(1-b*b)*Math.tan(l),f=this.a*Qi(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=f/this.a,c=(o*(d*g+1)-g-.5*d*(g*g+a))/(this.es*Math.sin(2*l)*(g*g+a-2*o*g)/(4*d)+(o-g)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=wt){n=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=xt(this.long0+Math.asin(i*d/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var _ht=["Polyconic","poly"];const xht={init:vht,forward:bht,inverse:wht,names:_ht};function Eht(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Sht(t){var e,n=t.x,i=t.y,r=i-this.lat0,s=n-this.long0,o=r/pm*1e-5,a=s,l=1,c=0;for(e=1;e<=10;e++)l=l*o,c=c+this.A[e]*l;var p=c,d=a,f=1,y=0,g,b,x=0,A=0;for(e=1;e<=6;e++)g=f*p-y*d,b=y*p+f*d,f=g,y=b,x=x+this.B_re[e]*f-this.B_im[e]*y,A=A+this.B_im[e]*f+this.B_re[e]*y;return t.x=A*this.a+this.x0,t.y=x*this.a+this.y0,t}function Aht(t){var e,n=t.x,i=t.y,r=n-this.x0,s=i-this.y0,o=s/this.a,a=r/this.a,l=1,c=0,p,d,f=0,y=0;for(e=1;e<=6;e++)p=l*o-c*a,d=c*o+l*a,l=p,c=d,f=f+this.C_re[e]*l-this.C_im[e]*c,y=y+this.C_im[e]*l+this.C_re[e]*c;for(var g=0;g<this.iterations;g++){var b=f,x=y,A,M,_=o,w=a;for(e=2;e<=6;e++)A=b*f-x*y,M=x*f+b*y,b=A,x=M,_=_+(e-1)*(this.B_re[e]*b-this.B_im[e]*x),w=w+(e-1)*(this.B_im[e]*b+this.B_re[e]*x);b=1,x=0;var T=this.B_re[1],I=this.B_im[1];for(e=2;e<=6;e++)A=b*f-x*y,M=x*f+b*y,b=A,x=M,T=T+e*(this.B_re[e]*b-this.B_im[e]*x),I=I+e*(this.B_im[e]*b+this.B_re[e]*x);var O=T*T+I*I;f=(_*T+w*I)/O,y=(w*T-_*I)/O}var k=f,R=y,j=1,z=0;for(e=1;e<=9;e++)j=j*k,z=z+this.D[e]*j;var F=this.lat0+z*pm*1e5,U=this.long0+R;return t.x=U,t.y=F,t}var Mht=["New_Zealand_Map_Grid","nzmg"];const Tht={init:Eht,forward:Sht,inverse:Aht,names:Mht};function Iht(){}function Nht(t){var e=t.x,n=t.y,i=xt(e-this.long0),r=this.x0+this.a*i,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=s,t}function Oht(t){t.x-=this.x0,t.y-=this.y0;var e=xt(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var kht=["Miller_Cylindrical","mill"];const Cht={init:Iht,forward:Nht,inverse:Oht,names:kht};var Rht=20;function Lht(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=jS(this.es)}function Pht(t){var e,n,i=t.x,r=t.y;if(i=xt(i-this.long0),this.sphere){if(!this.m)r=this.n!==1?Math.asin(this.n*Math.sin(r)):r;else for(var s=this.n*Math.sin(r),o=Rht;o;--o){var a=(this.m*r+Math.sin(r)-s)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<wt)break}e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),c=Math.cos(r);n=this.a*xp(r,l,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function Dht(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=Dl((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=Dl(Math.sin(e)/this.n)),i=xt(i+this.long0),e=Ll(e)):(e=$S(t.y/this.a,this.es,this.en),r=Math.abs(e),r<ht?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=xt(n)):r-wt<ht&&(i=this.long0)),t.x=i,t.y=e,t}var jht=["Sinusoidal","sinu"];const $ht={init:Lht,forward:Pht,inverse:Dht,names:jht};function Fht(){}function Uht(t){for(var e=t.x,n=t.y,i=xt(e-this.long0),r=n,s=Math.PI*Math.sin(n);;){var o=-(r+Math.sin(r)-s)/(1+Math.cos(r));if(r+=o,Math.abs(o)<wt)break}r/=2,Math.PI/2-Math.abs(n)<wt&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=l,t}function Ght(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=xt(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t}var Bht=["Mollweide","moll"];const zht={init:Fht,forward:Uht,inverse:Ght,names:Bht};function Vht(){Math.abs(this.lat1+this.lat2)<wt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=bm(this.es),this.e1=wm(this.es),this.e2=_m(this.es),this.e3=xm(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Oo(this.e,this.sinphi,this.cosphi),this.ml1=Qi(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<wt?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Oo(this.e,this.sinphi,this.cosphi),this.ml2=Qi(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Qi(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Wht(t){var e=t.x,n=t.y,i;if(this.sphere)i=this.a*(this.g-n);else{var r=Qi(this.e0,this.e1,this.e2,this.e3,n);i=this.a*(this.g-r)}var s=this.ns*xt(e-this.long0),o=this.x0+i*Math.sin(s),a=this.y0+this.rh-i*Math.cos(s);return t.x=o,t.y=a,t}function Hht(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,r;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=xt(this.long0+s/this.ns),i=Ll(this.g-n/this.a),t.x=r,t.y=i,t;var o=this.g-n/this.a;return i=J1(o,this.e0,this.e1,this.e2,this.e3),r=xt(this.long0+s/this.ns),t.x=r,t.y=i,t}var qht=["Equidistant_Conic","eqdc"];const Yht={init:Vht,forward:Wht,inverse:Hht,names:qht};function Zht(){this.R=this.a}function Jht(t){var e=t.x,n=t.y,i=xt(e-this.long0),r,s;Math.abs(n)<=wt&&(r=this.x0+this.R*i,s=this.y0);var o=Dl(2*Math.abs(n/Math.PI));(Math.abs(i)<=wt||Math.abs(Math.abs(n)-ht)<=wt)&&(r=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,c=Math.sin(o),p=Math.cos(o),d=p/(c+p-1),f=d*d,y=d*(2/c-1),g=y*y,b=Math.PI*this.R*(a*(d-g)+Math.sqrt(l*(d-g)*(d-g)-(g+l)*(f-g)))/(g+l);i<0&&(b=-b),r=this.x0+b;var x=l+d;return b=Math.PI*this.R*(y*x-a*Math.sqrt((g+l)*(l+1)-x*x))/(g+l),n>=0?s=this.y0+b:s=this.y0-b,t.x=r,t.y=s,t}function Xht(t){var e,n,i,r,s,o,a,l,c,p,d,f,y;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,i=t.x/d,r=t.y/d,s=i*i+r*r,o=-Math.abs(r)*(1+s),a=o-2*r*r+i*i,l=-2*o+1+2*r*r+s*s,y=r*r/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,p=2*Math.sqrt(-c/3),d=3*y/c/p,Math.abs(d)>1&&(d>=0?d=1:d=-1),f=Math.acos(d)/3,t.y>=0?n=(-p*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI:n=-(-p*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<wt?e=this.long0:e=xt(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(i*i-r*r)+s*s))/2/i),t.x=e,t.y=n,t}var Kht=["Van_der_Grinten_I","VanDerGrinten","vandg"];const Qht={init:Zht,forward:Jht,inverse:Xht,names:Kht};function tpt(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function ept(t){var e=t.x,n=t.y,i=Math.sin(t.y),r=Math.cos(t.y),s=xt(e-this.long0),o,a,l,c,p,d,f,y,g,b,x,A,M,_,w,T,I,O,k,R,j,z,F;return this.sphere?Math.abs(this.sin_p12-1)<=wt?(t.x=this.x0+this.a*(ht-n)*Math.sin(s),t.y=this.y0-this.a*(ht-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=wt?(t.x=this.x0+this.a*(ht+n)*Math.sin(s),t.y=this.y0+this.a*(ht+n)*Math.cos(s),t):(O=this.sin_p12*i+this.cos_p12*r*Math.cos(s),T=Math.acos(O),I=T?T/Math.sin(T):1,t.x=this.x0+this.a*I*r*Math.sin(s),t.y=this.y0+this.a*I*(this.cos_p12*i-this.sin_p12*r*Math.cos(s)),t):(o=bm(this.es),a=wm(this.es),l=_m(this.es),c=xm(this.es),Math.abs(this.sin_p12-1)<=wt?(p=this.a*Qi(o,a,l,c,ht),d=this.a*Qi(o,a,l,c,n),t.x=this.x0+(p-d)*Math.sin(s),t.y=this.y0-(p-d)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=wt?(p=this.a*Qi(o,a,l,c,ht),d=this.a*Qi(o,a,l,c,n),t.x=this.x0+(p+d)*Math.sin(s),t.y=this.y0+(p+d)*Math.cos(s),t):(f=i/r,y=Sp(this.a,this.e,this.sin_p12),g=Sp(this.a,this.e,i),b=Math.atan((1-this.es)*f+this.es*y*this.sin_p12/(g*r)),x=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(s)),x===0?k=Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(x)-Math.PI)<=wt?k=-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):k=Math.asin(Math.sin(s)*Math.cos(b)/Math.sin(x)),A=this.e*this.sin_p12/Math.sqrt(1-this.es),M=this.e*this.cos_p12*Math.cos(x)/Math.sqrt(1-this.es),_=A*M,w=M*M,R=k*k,j=R*k,z=j*k,F=z*k,T=y*k*(1-R*w*(1-w)/6+j/8*_*(1-2*w)+z/120*(w*(4-7*w)-3*A*A*(1-7*w))-F/48*_),t.x=this.x0+T*Math.sin(x),t.y=this.y0+T*Math.cos(x),t))}function npt(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,s,o,a,l,c,p,d,f,y,g,b,x,A,M,_,w,T,I,O,k;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*ht*this.a?void 0:(n=e/this.a,i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=wt?o=this.lat0:(o=Dl(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-ht,Math.abs(a)<=wt?this.lat0>=0?s=xt(this.long0+Math.atan2(t.x,-t.y)):s=xt(this.long0-Math.atan2(-t.x,t.y)):s=xt(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=s,t.y=o,t)):(l=bm(this.es),c=wm(this.es),p=_m(this.es),d=xm(this.es),Math.abs(this.sin_p12-1)<=wt?(f=this.a*Qi(l,c,p,d,ht),e=Math.sqrt(t.x*t.x+t.y*t.y),y=f-e,o=J1(y/this.a,l,c,p,d),s=xt(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=o,t):Math.abs(this.sin_p12+1)<=wt?(f=this.a*Qi(l,c,p,d,ht),e=Math.sqrt(t.x*t.x+t.y*t.y),y=e-f,o=J1(y/this.a,l,c,p,d),s=xt(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=o,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),x=Math.atan2(t.x,t.y),g=Sp(this.a,this.e,this.sin_p12),A=Math.cos(x),M=this.e*this.cos_p12*A,_=-M*M/(1-this.es),w=3*this.es*(1-_)*this.sin_p12*this.cos_p12*A/(1-this.es),T=e/g,I=T-_*(1+_)*Math.pow(T,3)/6-w*(1+3*_)*Math.pow(T,4)/24,O=1-_*I*I/2-T*I*I*I/6,b=Math.asin(this.sin_p12*Math.cos(I)+this.cos_p12*Math.sin(I)*A),s=xt(this.long0+Math.asin(Math.sin(x)*Math.sin(I)/Math.cos(b))),k=Math.sin(b),o=Math.atan2((k-this.es*O*this.sin_p12)*Math.tan(b),k*(1-this.es)),t.x=s,t.y=o,t))}var ipt=["Azimuthal_Equidistant","aeqd"];const rpt={init:tpt,forward:ept,inverse:npt,names:ipt};function spt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function opt(t){var e,n,i,r,s,o,a,l,c=t.x,p=t.y;return i=xt(c-this.long0),e=Math.sin(p),n=Math.cos(p),r=Math.cos(i),o=this.sin_p14*e+this.cos_p14*n*r,s=1,(o>0||Math.abs(o)<=wt)&&(a=this.a*s*n*Math.sin(i),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function apt(t){var e,n,i,r,s,o,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Dl(e/this.a),i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=wt?(a=this.lat0,t.x=o,t.y=a,t):(a=Dl(r*this.sin_p14+t.y*i*this.cos_p14/e),s=Math.abs(this.lat0)-ht,Math.abs(s)<=wt?(this.lat0>=0?o=xt(this.long0+Math.atan2(t.x,-t.y)):o=xt(this.long0-Math.atan2(-t.x,t.y)),t.x=o,t.y=a,t):(o=xt(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=o,t.y=a,t))}var lpt=["ortho"];const cpt={init:spt,forward:opt,inverse:apt,names:lpt};var hn={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ne={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function upt(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=ht-Ie/2?this.face=hn.TOP:this.lat0<=-(ht-Ie/2)?this.face=hn.BOTTOM:Math.abs(this.long0)<=Ie?this.face=hn.FRONT:Math.abs(this.long0)<=ht+Ie?this.face=this.long0>0?hn.RIGHT:hn.LEFT:this.face=hn.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function hpt(t){var e={x:0,y:0},n,i,r,s,o,a,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,i=t.x,this.face===hn.TOP)s=ht-n,i>=Ie&&i<=ht+Ie?(l.value=Ne.AREA_0,r=i-ht):i>ht+Ie||i<=-(ht+Ie)?(l.value=Ne.AREA_1,r=i>0?i-Cn:i+Cn):i>-(ht+Ie)&&i<=-Ie?(l.value=Ne.AREA_2,r=i+ht):(l.value=Ne.AREA_3,r=i);else if(this.face===hn.BOTTOM)s=ht+n,i>=Ie&&i<=ht+Ie?(l.value=Ne.AREA_0,r=-i+ht):i<Ie&&i>=-Ie?(l.value=Ne.AREA_1,r=-i):i<-Ie&&i>=-(ht+Ie)?(l.value=Ne.AREA_2,r=-i-ht):(l.value=Ne.AREA_3,r=i>0?-i+Cn:-i-Cn);else{var c,p,d,f,y,g,b;this.face===hn.RIGHT?i=Ap(i,+ht):this.face===hn.BACK?i=Ap(i,+Cn):this.face===hn.LEFT&&(i=Ap(i,-ht)),f=Math.sin(n),y=Math.cos(n),g=Math.sin(i),b=Math.cos(i),c=y*b,p=y*g,d=f,this.face===hn.FRONT?(s=Math.acos(c),r=X1(s,d,p,l)):this.face===hn.RIGHT?(s=Math.acos(p),r=X1(s,d,-c,l)):this.face===hn.BACK?(s=Math.acos(-c),r=X1(s,d,-p,l)):this.face===hn.LEFT?(s=Math.acos(-p),r=X1(s,d,c,l)):(s=r=0,l.value=Ne.AREA_0)}return a=Math.atan(12/Cn*(r+Math.acos(Math.sin(r)*Math.cos(Ie))-ht)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===Ne.AREA_1?a+=ht:l.value===Ne.AREA_2?a+=Cn:l.value===Ne.AREA_3&&(a+=1.5*Cn),e.x=o*Math.cos(a),e.y=o*Math.sin(a),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function ppt(t){var e={lam:0,phi:0},n,i,r,s,o,a,l,c,p,d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=Ne.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=Ne.AREA_1,n-=ht):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=Ne.AREA_2,n=n<0?n+Cn:n-Cn):(d.value=Ne.AREA_3,n+=ht),p=Cn/12*Math.tan(n),o=Math.sin(p)/(Math.cos(p)-1/Math.sqrt(2)),a=Math.atan(o),r=Math.cos(n),s=Math.tan(i),l=1-r*r*s*s*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===hn.TOP)c=Math.acos(l),e.phi=ht-c,d.value===Ne.AREA_0?e.lam=a+ht:d.value===Ne.AREA_1?e.lam=a<0?a+Cn:a-Cn:d.value===Ne.AREA_2?e.lam=a-ht:e.lam=a;else if(this.face===hn.BOTTOM)c=Math.acos(l),e.phi=c-ht,d.value===Ne.AREA_0?e.lam=-a+ht:d.value===Ne.AREA_1?e.lam=-a:d.value===Ne.AREA_2?e.lam=-a-ht:e.lam=a<0?-a-Cn:-a+Cn;else{var f,y,g;f=l,p=f*f,p>=1?g=0:g=Math.sqrt(1-p)*Math.sin(a),p+=g*g,p>=1?y=0:y=Math.sqrt(1-p),d.value===Ne.AREA_1?(p=y,y=-g,g=p):d.value===Ne.AREA_2?(y=-y,g=-g):d.value===Ne.AREA_3&&(p=y,y=g,g=-p),this.face===hn.RIGHT?(p=f,f=-y,y=p):this.face===hn.BACK?(f=-f,y=-y):this.face===hn.LEFT&&(p=f,f=y,y=-p),e.phi=Math.acos(-g)-ht,e.lam=Math.atan2(y,f),this.face===hn.RIGHT?e.lam=Ap(e.lam,-ht):this.face===hn.BACK?e.lam=Ap(e.lam,-Cn):this.face===hn.LEFT&&(e.lam=Ap(e.lam,+ht))}if(this.es!==0){var b,x,A;b=e.phi<0?1:0,x=Math.tan(e.phi),A=this.b/Math.sqrt(x*x+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-A*A)/(this.one_minus_f*A)),b&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function X1(t,e,n,i){var r;return t<wt?(i.value=Ne.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=Ie?i.value=Ne.AREA_0:r>Ie&&r<=ht+Ie?(i.value=Ne.AREA_1,r-=ht):r>ht+Ie||r<=-(ht+Ie)?(i.value=Ne.AREA_2,r=r>=0?r-Cn:r+Cn):(i.value=Ne.AREA_3,r+=ht)),r}function Ap(t,e){var n=t+e;return n<-Cn?n+=dm:n>+Cn&&(n-=dm),n}var dpt=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const fpt={init:upt,forward:hpt,inverse:ppt,names:dpt};var BS=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Em=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],S9=.8487,A9=1.3523,M9=Io/5,mpt=1/M9,Mp=18,K1=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},ypt=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function gpt(t,e,n,i){for(var r=e;i;--i){var s=t(r);if(r-=s,Math.abs(s)<n)break}return r}function vpt(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function bpt(t){var e=xt(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*M9);i<0?i=0:i>=Mp&&(i=Mp-1),n=Io*(n-mpt*i);var r={x:K1(BS[i],n)*e,y:K1(Em[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*S9+this.x0,r.y=r.y*this.a*A9+this.y0,r}function wpt(t){var e={x:(t.x-this.x0)/(this.a*S9),y:Math.abs(t.y-this.y0)/(this.a*A9)};if(e.y>=1)e.x/=BS[Mp][0],e.y=t.y<0?-ht:ht;else{var n=Math.floor(e.y*Mp);for(n<0?n=0:n>=Mp&&(n=Mp-1);;)if(Em[n][0]>e.y)--n;else if(Em[n+1][0]<=e.y)++n;else break;var i=Em[n],r=5*(e.y-i[0])/(Em[n+1][0]-i[0]);r=gpt(function(s){return(K1(i,s)-e.y)/ypt(i,s)},r,wt,100),e.x/=K1(BS[n],r),e.y=(5*n+r)*bi,t.y<0&&(e.y=-e.y)}return e.x=xt(e.x+this.long0),e}var _pt=["Robinson","robin"];const xpt={init:vpt,forward:bpt,inverse:wpt,names:_pt};function Ept(){this.name="geocent"}function Spt(t){var e=e9(t,this.es,this.a);return e}function Apt(t){var e=n9(t,this.es,this.a,this.b);return e}var Mpt=["Geocentric","geocentric","geocent","Geocent"];const Tpt={init:Ept,forward:Spt,inverse:Apt,names:Mpt};var Ci={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Sm={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Ipt(){if(Object.keys(Sm).forEach(function(n){if(typeof this[n]>"u")this[n]=Sm[n].def;else{if(Sm[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);Sm[n].num&&(this[n]=parseFloat(this[n]))}Sm[n].degrees&&(this[n]=this[n]*bi)}.bind(this)),Math.abs(Math.abs(this.lat0)-ht)<wt?this.mode=this.lat0<0?Ci.S_POLE:Ci.N_POLE:Math.abs(this.lat0)<wt?this.mode=Ci.EQUIT:(this.mode=Ci.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function Npt(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r,s;switch(this.mode){case Ci.OBLIQ:s=this.sinph0*e+this.cosph0*n*i;break;case Ci.EQUIT:s=n*i;break;case Ci.S_POLE:s=-e;break;case Ci.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),r=s*n*Math.sin(t.x),this.mode){case Ci.OBLIQ:s*=this.cosph0*e-this.sinph0*n*i;break;case Ci.EQUIT:s*=e;break;case Ci.N_POLE:s*=-(n*i);break;case Ci.S_POLE:s*=n*i;break}var o,a;return o=s*this.cg+r*this.sg,a=1/(o*this.sw*this.h1+this.cw),r=(r*this.cg-s*this.sg)*this.cw*a,s=o*a,t.x=r*this.a,t.y=s*this.a,t}function Opt(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,i,r;r=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*r,i=this.pn1*t.y*this.cw*r,t.x=n*this.cg+i*this.sg,t.y=i*this.cg-n*this.sg;var s=gr(t.x,t.y);if(Math.abs(s)<wt)e.x=0,e.y=t.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case Ci.OBLIQ:e.y=Math.asin(o*this.sinph0+t.y*a*this.cosph0/s),t.y=(o-this.sinph0*Math.sin(e.y))*s,t.x*=a*this.cosph0;break;case Ci.EQUIT:e.y=Math.asin(t.y*a/s),t.y=o*s,t.x*=a;break;case Ci.N_POLE:e.y=Math.asin(o),t.y=-t.y;break;case Ci.S_POLE:e.y=-Math.asin(o);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var kpt=["Tilted_Perspective","tpers"];const Cpt={init:Ipt,forward:Npt,inverse:Opt,names:kpt};function Rpt(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function Lpt(t){var e=t.x,n=t.y,i,r,s,o;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var a=this.radius_p/gr(this.radius_p*Math.cos(n),Math.sin(n));if(r=a*Math.cos(e)*Math.cos(n),s=a*Math.sin(e)*Math.cos(n),o=a*Math.sin(n),(this.radius_g-r)*r-s*s-o*o*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=this.radius_g-r,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/gr(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(s/i),t.y=this.radius_g_1*Math.atan(o/gr(s,i)))}else this.shape==="sphere"&&(i=Math.cos(n),r=Math.cos(e)*i,s=Math.sin(e)*i,o=Math.sin(n),i=this.radius_g-r,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/gr(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(s/i),t.y=this.radius_g_1*Math.atan(o/gr(s,i))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function Ppt(t){var e=-1,n=0,i=0,r,s,o,a;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*gr(1,i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*gr(1,n));var l=i/this.radius_p;if(r=n*n+l*l+e*e,s=2*this.radius_g*e,o=s*s-4*r*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-s-Math.sqrt(o))/(2*r),e=this.radius_g+a*e,n*=a,i*=a,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+i*i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),r=n*n+i*i+e*e,s=2*this.radius_g*e,o=s*s-4*r*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-s-Math.sqrt(o))/(2*r),e=this.radius_g+a*e,n*=a,i*=a,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var Dpt=["Geostationary Satellite View","Geostationary_Satellite","geos"];const jpt={init:Rpt,forward:Lpt,inverse:Ppt,names:Dpt};var Am=1.340264,Mm=-.081106,Tm=893e-6,Im=.003796,Q1=Math.sqrt(3)/2;function $pt(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function Fpt(t){var e=xt(t.x-this.long0),n=t.y,i=Math.asin(Q1*Math.sin(n)),r=i*i,s=r*r*r;return t.x=e*Math.cos(i)/(Q1*(Am+3*Mm*r+s*(7*Tm+9*Im*r))),t.y=i*(Am+Mm*r+s*(Tm+Im*r)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Upt(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,i=t.y,r,s,o,a,l,c;for(c=0;c<n&&(r=i*i,s=r*r*r,o=i*(Am+Mm*r+s*(Tm+Im*r))-t.y,a=Am+3*Mm*r+s*(7*Tm+9*Im*r),i-=l=o/a,!(Math.abs(l)<e));++c);return r=i*i,s=r*r*r,t.x=Q1*t.x*(Am+3*Mm*r+s*(7*Tm+9*Im*r))/Math.cos(i),t.y=Math.asin(Math.sin(i)/Q1),t.x=xt(t.x+this.long0),t}var Gpt=["eqearth","Equal Earth","Equal_Earth"];const Bpt={init:$pt,forward:Fpt,inverse:Upt,names:Gpt};var Nm=1e-10;function zpt(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<Nm)throw new Error;this.es?(this.en=jS(this.es),this.m1=xp(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Wpt,this.forward=Vpt):(Math.abs(this.phi1)+Nm>=ht?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=qpt,this.forward=Hpt)}function Vpt(t){var e=xt(t.x-(this.long0||0)),n=t.y,i,r,s;return i=this.am1+this.m1-xp(n,r=Math.sin(n),s=Math.cos(n),this.en),r=s*e/(i*Math.sqrt(1-this.es*r*r)),t.x=i*Math.sin(r),t.y=this.am1-i*Math.cos(r),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Wpt(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i,r;if(n=gr(t.x,t.y=this.am1-t.y),r=$S(this.am1+this.m1-n,this.es,this.en),(e=Math.abs(r))<ht)e=Math.sin(r),i=n*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(r);else if(Math.abs(e-ht)<=Nm)i=0;else throw new Error;return t.x=xt(i+(this.long0||0)),t.y=Ll(r),t}function Hpt(t){var e=xt(t.x-(this.long0||0)),n=t.y,i,r;return r=this.cphi1+this.phi1-n,Math.abs(r)>Nm?(t.x=r*Math.sin(i=e*Math.cos(n)/r),t.y=this.cphi1-r*Math.cos(i)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function qpt(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i=gr(t.x,t.y=this.cphi1-t.y);if(n=this.cphi1+this.phi1-i,Math.abs(n)>ht)throw new Error;return Math.abs(Math.abs(n)-ht)<=Nm?e=0:e=i*Math.atan2(t.x,t.y)/Math.cos(n),t.x=xt(e+(this.long0||0)),t.y=Ll(n),t}var Ypt=["bonne","Bonne (Werner lat_1=90)"];const Zpt={init:zpt,names:Ypt};function Jpt(t){t.Proj.projections.add(Y1),t.Proj.projections.add(Z1),t.Proj.projections.add(Wct),t.Proj.projections.add(tut),t.Proj.projections.add(out),t.Proj.projections.add(hut),t.Proj.projections.add(gut),t.Proj.projections.add(xut),t.Proj.projections.add(Tut),t.Proj.projections.add(Cut),t.Proj.projections.add(Zut),t.Proj.projections.add(eht),t.Proj.projections.add(oht),t.Proj.projections.add(pht),t.Proj.projections.add(ght),t.Proj.projections.add(xht),t.Proj.projections.add(Tht),t.Proj.projections.add(Cht),t.Proj.projections.add($ht),t.Proj.projections.add(zht),t.Proj.projections.add(Yht),t.Proj.projections.add(Qht),t.Proj.projections.add(rpt),t.Proj.projections.add(cpt),t.Proj.projections.add(fpt),t.Proj.projections.add(xpt),t.Proj.projections.add(Tpt),t.Proj.projections.add(Cpt),t.Proj.projections.add(jpt),t.Proj.projections.add(Bpt),t.Proj.projections.add(Zpt)}Fe.defaultDatum="WGS84",Fe.Proj=ko,Fe.WGS84=new Fe.Proj("WGS84"),Fe.Point=_p,Fe.toPoint=o9,Fe.defs=Ki,Fe.nadgrid=qlt,Fe.transform=q1,Fe.mgrs=cct,Fe.version="__VERSION__",Jpt(Fe);const Xpt="EPSG:4326";class Kpt{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Fe.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Fe.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Fe.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Fe.defs("EPSG:102100",Fe.defs("EPSG:3857")),Fe.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Fe.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let e=1;for(;e<=60;){const n=e<10?`0${e}`:e;Fe.defs(`EPSG:326${n}`,`+proj=utm +zone=${e} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),e++}}addProjection(e,n){e=typeof e=="number"?`EPSG:${e}`:e,Fe.defs(e,n)}defaultEpsgLookup(e){const n=/urn:ogc:def:crs:EPSG::(\d+)/,i=/EPSG:(\d+)/,r=String(e).match(n)||String(e).match(i)||[];if(r.length<2)throw new Error("Invalid code provided.");return new Promise((s,o)=>{const a=`https://epsg.io/${r[1]}.proj4`;vn(a,{responseType:"text"}).then(l=>{l.data?s(l.data):o()},l=>{o(l)})})}epsgLookup(e){return this.espgWorker(e)}setEpsgLookup(e){this.espgWorker=e}normalizeProj(e){if(typeof e=="object"){if(e.wkid)return"EPSG:"+e.wkid;if(e.wkt)return e.wkt}else{if(typeof e=="number")return"EPSG:"+e;if(typeof e=="string")return e}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(e){let n,i="";try{n=this.normalizeProj(e)}catch{return!1}if(!n.startsWith("EPSG:"))return!0;typeof e=="object"&&e.latestWkid&&(i=this.normalizeProj(e.latestWkid));const r=(o,a)=>{o!==a&&Fe.defs(a,Fe.defs(o))};if(Fe.defs(n))return!0;if(i&&Fe.defs(i))return r(i,n),!0;const s=async o=>{try{const a=await this.epsgLookup(o);return a===null||a===""?!1:(Fe.defs(o,a),!0)}catch{return!1}};return await(i?s(i):Promise.resolve(!1))?(r(i,n),!0):s(n)}async checkProjBomber(e){if(e.length>0){const n=e.pop();if(await this.checkProj(n))return this.checkProjBomber(e);throw console.error("Unable to parse or locate projection information for this item:",n),new Error("Could not find projection information, see console for details")}}async projectGeoJson(e,n,i){let r,s;if(n?r=this.normalizeProj(n):r=$t.parseGeoJsonCrs(e.crs),i?s=this.normalizeProj(i):s=Xpt,s===r)return e;await this.checkProjBomber([r,s]);const o=Fe(r,s).forward;return alt(e,o)}async projectGeometry(e,n){if(n.type===qt.EXTENT)return this.projectExtent(e,n);await this.checkProjBomber([e,n.sr]);const i=n.toGeoJSON(),r=await this.projectGeoJson(i,this.normalizeProj(n.sr),this.normalizeProj(e)),s=yc.geom.geomGeoJsonToRamp(r,n.id);return s.sr=$t.parseSR(e),s}async projectExtent(e,n){const i=(b,x,A)=>{if(A===0)return[b,x];const M=[(b[0]+x[0])/2,(b[1]+x[1])/2];if(A===1)return[b,M,x];if(A>1){const _=i(b,M,A-1),w=i(M,x,A-1);return _.concat(w.slice(1))}return[[]]},r=n.toPolygonArray().pop()||[];let s=[];[0,1,2,3].map(b=>i(r[b],r[b+1],3).slice(1)).forEach(b=>s=s.concat(b));const o=new Ei("warpy",[s],n.sr,!0),a=await this.projectGeometry(e,o),l=a.toArray().pop()||[],c=l.map(b=>b[0]),p=l.map(b=>b[1]),d=Math.min.apply(null,c),f=Math.max.apply(null,c),y=Math.min.apply(null,p),g=Math.max.apply(null,p);return tn.fromParams(n.id+"_projected",d,y,f,g,a.sr)}}class Qpt{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new Kpt,this.geom=new Xat,this.sharedUtils=new tlt}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(e){const n=i=>i.map(r=>({level:r[0],resolution:r[1],scale:r[2]}));if(e===this.DEFAULT_LAMBERT)return n([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(e===this.DEFAULT_MERCATOR)return n([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${e}`)}}class An{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(e){this.$iApi=e}}function tdt(t){return typeof t=="function"&&t.render&&typeof t.render=="function"}function edt(t){const e=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof t=="object"&&!t.functional&&e.some(n=>t[n]!==void 0)}function T9(t){return typeof t=="object"&&Object.keys(t).every(e=>typeof e=="string")&&Object.values(t).every(e=>e instanceof HTMLElement)}function ndt(t){return typeof t=="object"&&t.default!==void 0}var tv={exports:{}},I9;function idt(){if(I9)return tv.exports;I9=1;function t(){}return t.prototype={on:function(e,n,i){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:n,ctx:i}),this},once:function(e,n,i){var r=this;function s(){r.off(e,s),n.apply(i,arguments)}return s._=n,this.on(e,s,i)},emit:function(e){var n=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),r=0,s=i.length;for(r;r<s;r++)i[r].fn.apply(i[r].ctx,n);return this},off:function(e,n){var i=this.e||(this.e={}),r=i[e],s=[];if(r&&n)for(var o=0,a=r.length;o<a;o++)r[o].fn!==n&&r[o].fn._!==n&&s.push(r[o]);return s.length?i[e]=s:delete i[e],this}},tv.exports=t,tv.exports.TinyEmitter=t,tv.exports}var rdt=idt();function Ur(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const se={},Tp=[],ai=()=>{},Om=()=>!1,wu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),zS=t=>t.startsWith("onUpdate:"),oe=Object.assign,VS=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},sdt=Object.prototype.hasOwnProperty,xe=(t,e)=>sdt.call(t,e),Et=Array.isArray,Ip=t=>Np(t)==="[object Map]",_u=t=>Np(t)==="[object Set]",N9=t=>Np(t)==="[object Date]",odt=t=>Np(t)==="[object RegExp]",Lt=t=>typeof t=="function",Vt=t=>typeof t=="string",vr=t=>typeof t=="symbol",ke=t=>t!==null&&typeof t=="object",WS=t=>(ke(t)||Lt(t))&&Lt(t.then)&&Lt(t.catch),O9=Object.prototype.toString,Np=t=>O9.call(t),adt=t=>Np(t).slice(8,-1),ev=t=>Np(t)==="[object Object]",HS=t=>Vt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,jl=Ur(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ldt=Ur("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),nv=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},cdt=/-(\w)/g,Be=nv(t=>t.replace(cdt,(e,n)=>n?n.toUpperCase():"")),udt=/\B([A-Z])/g,br=nv(t=>t.replace(udt,"-$1").toLowerCase()),$l=nv(t=>t.charAt(0).toUpperCase()+t.slice(1)),xu=nv(t=>t?`on${$l(t)}`:""),tr=(t,e)=>!Object.is(t,e),Op=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},k9=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},iv=t=>{const e=parseFloat(t);return isNaN(e)?t:e},rv=t=>{const e=Vt(t)?Number(t):NaN;return isNaN(e)?t:e};let C9;const sv=()=>C9||(C9=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function hdt(t,e){return t+JSON.stringify(e,(n,i)=>typeof i=="function"?i.toString():i)}const pdt="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",ddt=Ur(pdt);function Aa(t){if(Et(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=Vt(i)?R9(i):Aa(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(Vt(t)||ke(t))return t}const fdt=/;(?![^(]*\))/g,mdt=/:([^]+)/,ydt=/\/\*[^]*?\*\//g;function R9(t){const e={};return t.replace(ydt,"").split(fdt).forEach(n=>{if(n){const i=n.split(mdt);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function rn(t){let e="";if(Vt(t))e=t;else if(Et(t))for(let n=0;n<t.length;n++){const i=rn(t[n]);i&&(e+=i+" ")}else if(ke(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function L9(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Vt(e)&&(t.class=rn(e)),n&&(t.style=Aa(n)),t}const gdt="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",vdt="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",bdt="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",wdt="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",_dt=Ur(gdt),xdt=Ur(vdt),Edt=Ur(bdt),Sdt=Ur(wdt),Adt="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mdt=Ur(Adt);function P9(t){return!!t||t===""}function Tdt(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=Fl(t[i],e[i]);return n}function Fl(t,e){if(t===e)return!0;let n=N9(t),i=N9(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=vr(t),i=vr(e),n||i)return t===e;if(n=Et(t),i=Et(e),n||i)return n&&i?Tdt(t,e):!1;if(n=ke(t),i=ke(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Fl(t[o],e[o]))return!1}}return String(t)===String(e)}function ov(t,e){return t.findIndex(n=>Fl(n,e))}const D9=t=>!!(t&&t.__v_isRef===!0),Ee=t=>Vt(t)?t:t==null?"":Et(t)||ke(t)&&(t.toString===O9||!Lt(t.toString))?D9(t)?Ee(t.value):JSON.stringify(t,j9,2):String(t),j9=(t,e)=>D9(e)?j9(t,e.value):Ip(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],s)=>(n[qS(i,s)+" =>"]=r,n),{})}:_u(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>qS(n))}:vr(e)?qS(e):ke(e)&&!Et(e)&&!ev(e)?String(e):e,qS=(t,e="")=>{var n;return vr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};var Idt={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_e681b303-72ba-4c4a-8fb2-688db3a1cefe",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_e681b303-72ba-4c4a-8fb2-688db3a1cefe",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ramp4-pcar4",GRADLE_HOME:"/usr/share/gradle-9.2.0",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/29.0.14206865",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"57148724",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"1893",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",JAVA_HOME_25_X64:"/usr/lib/jvm/temurin-25-jdk-amd64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20251112.124.1",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.12/x64",JOURNAL_STREAM:"9:9059",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.10/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GOROOT_1_25_X64:"/opt/hostedtoolcache/go/1.25.4/x64",GITHUB_RUN_ID:"19571478886",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"tag",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"962d8a7b7a4b18c601fdd19b43218ee07020dc1b",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"ramp4-pcar4/ramp4-pcar4/.github/workflows/demo-build.yml@refs/tags/v4.14.0",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9yZWZzL3RhZ3MvdjQuMTQuMFwiLFwiUGVybWlzc2lvblwiOjN9LHtcIlNjb3BlXCI6XCJyZWZzL2hlYWRzL21haW5cIixcIlBlcm1pc3Npb25cIjoxfV0iLCJhY3NsIjoiMTAiLCJhdWQiOiJ2c286ZGM4ZTdlNGQtNGQ0NS00OGQwLWJmOGEtNmJkNGM2YzI0NjA3IiwiYmlsbGluZ19vd25lcl9pZCI6Ik9fa2dET0EyZ0ZOQSIsImV4cCI6MTc2Mzc1MjcwOCwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9wcmltYXJ5c2lkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvc2lkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwiaWF0IjoxNzYzNzMwNTA4LCJpc3MiOiJodHRwczovL3Rva2VuLmFjdGlvbnMuZ2l0aHVidXNlcmNvbnRlbnQuY29tIiwiam9iX2lkIjoiM2NlMWRlNDMtNjQ0Zi01NTIxLTkzNjctYjUyY2VkMDg2MjlhIiwibmFtZWlkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwibmJmIjoxNzYzNzMwMjA4LCJvaWRjX2V4dHJhIjoie1wiYWN0b3JcIjpcImphbWVzLXJhZVwiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImJhc2VfcmVmXCI6XCJcIixcImNoZWNrX3J1bl9pZFwiOlwiNTYwNDU4MTQxMzFcIixcImVudmlyb25tZW50XCI6XCJnaXRodWItcGFnZXNcIixcImVudmlyb25tZW50X25vZGVfaWRcIjpcIkVOX2t3RE9EUVBaV2M0ZUV4MlpcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcImhlYWRfcmVmXCI6XCJcIixcImpvYl93b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xNC4wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCI5NjJkOGE3YjdhNGIxOGM2MDFmZGQxOWI0MzIxOGVlMDcwMjBkYzFiXCIsXCJyZWZcIjpcInJlZnMvdGFncy92NC4xNC4wXCIsXCJyZWZfcHJvdGVjdGVkXCI6XCJmYWxzZVwiLFwicmVmX3R5cGVcIjpcInRhZ1wiLFwicmVwb3NpdG9yeVwiOlwicmFtcDQtcGNhcjQvcmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIxODM1NjA1N1wiLFwicmVwb3NpdG9yeV9vd25lclwiOlwicmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfb3duZXJfaWRcIjpcIjU3MTQ4NzI0XCIsXCJyZXBvc2l0b3J5X3Zpc2liaWxpdHlcIjpcInB1YmxpY1wiLFwicnVuX2F0dGVtcHRcIjpcIjFcIixcInJ1bl9pZFwiOlwiMTk1NzE0Nzg4ODZcIixcInJ1bl9udW1iZXJcIjpcIjI2NVwiLFwicnVubmVyX2Vudmlyb25tZW50XCI6XCJnaXRodWItaG9zdGVkXCIsXCJzaGFcIjpcIjk2MmQ4YTdiN2E0YjE4YzYwMWZkZDE5YjQzMjE4ZWUwNzAyMGRjMWJcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcIndvcmtmbG93X3JlZlwiOlwicmFtcDQtcGNhcjQvcmFtcDQtcGNhcjQvLmdpdGh1Yi93b3JrZmxvd3MvZGVtby1idWlsZC55bWxAcmVmcy90YWdzL3Y0LjE0LjBcIixcIndvcmtmbG93X3NoYVwiOlwiOTYyZDhhN2I3YTRiMThjNjAxZmRkMTliNDMyMThlZTA3MDIwZGMxYlwifSIsIm9pZGNfc3ViIjoicmVwbzpyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoX2lkIjoiOTUyMTk1MWItMzE2ZC00ZGMzLWFlYjctMWI0MzUxNzBmMDkyLmJ1aWxkLl9fZGVmYXVsdCIsIm93bmVyX2lkIjoiT19rZ0RPQTJnRk5BIiwicGxhbl9pZCI6Ijk1MjE5NTFiLTMxNmQtNGRjMy1hZWI3LTFiNDM1MTcwZjA5MiIsInJlcG9zaXRvcnlfaWQiOiIyMTgzNTYwNTciLCJydW5faWQiOiIxOTU3MTQ3ODg4NiIsInJ1bl9udW1iZXIiOiIyNjUiLCJydW5fdHlwZSI6ImZ1bGwiLCJydW5uZXJfaWQiOiIxMDAwMDEwNTgxIiwicnVubmVyX3R5cGUiOiJob3N0ZWQiLCJzY3AiOiJBY3Rpb25zLlJlc3VsdHM6OTUyMTk1MWItMzE2ZC00ZGMzLWFlYjctMWI0MzUxNzBmMDkyOjNjZTFkZTQzLTY0NGYtNTUyMS05MzY3LWI1MmNlZDA4NjI5YSBBY3Rpb25zLlJ1bm5lcjo5NTIxOTUxYi0zMTZkLTRkYzMtYWViNy0xYjQzNTE3MGYwOTI6M2NlMWRlNDMtNjQ0Zi01NTIxLTkzNjctYjUyY2VkMDg2MjlhIEFjdGlvbnMuVXBsb2FkQXJ0aWZhY3RzOjk1MjE5NTFiLTMxNmQtNGRjMy1hZWI3LTFiNDM1MTcwZjA5MjozY2UxZGU0My02NDRmLTU1MjEtOTM2Ny1iNTJjZWQwODYyOWEgZ2VuZXJhdGVfaWRfdG9rZW46OTUyMTk1MWItMzE2ZC00ZGMzLWFlYjctMWI0MzUxNzBmMDkyOjNjZTFkZTQzLTY0NGYtNTUyMS05MzY3LWI1MmNlZDA4NjI5YSBBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCIsInNoYSI6Ijk2MmQ4YTdiN2E0YjE4YzYwMWZkZDE5YjQzMjE4ZWUwNzAyMGRjMWIiLCJ0cnVzdF90aWVyIjoiMiJ9.MlgLFMHelSj6M1ZPXLwJYIGL8RT_K2BOrEGspyxAO_OoLCrUioclb62dViA66pKK95ltijlfjWSrCJXqFaBXGC5y7LuENuXJPy_pAb76ey5o_gpRiuyVb9E12veXLEjBauYVujCp49wQB4lAg3HHfvbqhnUUZb5ec5sFC-pK8_pQpmfR1eDaxoNMuklr5uEAPXyNZsmTsKs-Sq7VdH-j_HYJMb_HMb0zoXKaSwnWoCkAE3kp7u2ztFfhRUS__kBomCY3O_7GKKhxNgdbu-U2UZOHzm9l1NVlPJCWwTjXjbYVgVXIjkOCBDL97VA_Wb29qKFkkAUTE-FDcW-fzl8NDw",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_beebe8a9-55c4-433a-9890-a784e3e5aa79",INVOCATION_ID:"bb374d7e49534f7397287e0b8c678501",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"265",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000010581",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"v4.14.0",GITHUB_REPOSITORY:"ramp4-pcar4/ramp4-pcar4",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"218356057",GITHUB_ACTIONS:"true",npm_package_version:"4.14.0",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",GITHUB_SHA:"962d8a7b7a4b18c601fdd19b43218ee07020dc1b",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/tags/v4.14.0",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_e681b303-72ba-4c4a-8fb2-688db3a1cefe",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-2-azure-eastus.actions.githubusercontent.com/86//idtoken/9521951b-316d-4dc3-aeb7-1b435170f092/3ce1de43-644f-5521-9367-b52ced08629a?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_e681b303-72ba-4c4a-8fb2-688db3a1cefe",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_e681b303-72ba-4c4a-8fb2-688db3a1cefe",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};let er;class av{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=er,!e&&er&&(this.index=(er.scopes||(er.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=er;try{return er=this,e()}finally{er=n}}}on(){er=this}off(){er=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function km(t){return new av(t)}function lv(){return er}function YS(t,e=!1){er&&er.cleanups.push(t)}let ze;const ZS=new WeakSet;class kp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,er&&er.active&&er.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ZS.has(this)&&(ZS.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||F9(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,H9(this),U9(this);const e=ze,n=Js;ze=this,Js=!0;try{return this.fn()}finally{G9(this),ze=e,Js=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)QS(e);this.deps=this.depsTail=void 0,H9(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ZS.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){KS(this)&&this.run()}get dirty(){return KS(this)}}let $9=0,Cm,Rm;function F9(t,e=!1){if(t.flags|=8,e){t.next=Rm,Rm=t;return}t.next=Cm,Cm=t}function JS(){$9++}function XS(){if(--$9>0)return;if(Rm){let e=Rm;for(Rm=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Cm;){let e=Cm;for(Cm=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function U9(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function G9(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),QS(i),Ndt(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function KS(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(B9(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function B9(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Lm))return;t.globalVersion=Lm;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!KS(t)){t.flags&=-3;return}const n=ze,i=Js;ze=t,Js=!0;try{U9(t);const r=t.fn(t._value);(e.version===0||tr(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{ze=n,Js=i,G9(t),t.flags&=-3}}function QS(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)QS(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ndt(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function z9(t,e){t.effect instanceof kp&&(t=t.effect.fn);const n=new kp(t);e&&oe(n,e);try{n.run()}catch(r){throw n.stop(),r}const i=n.run.bind(n);return i.effect=n,i}function V9(t){t.effect.stop()}let Js=!0;const W9=[];function Ma(){W9.push(Js),Js=!1}function Ta(){const t=W9.pop();Js=t===void 0?!0:t}function H9(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ze;ze=void 0;try{e()}finally{ze=n}}}let Lm=0;class Odt{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class cv{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ze||!Js||ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ze)n=this.activeLink=new Odt(ze,this),ze.deps?(n.prevDep=ze.depsTail,ze.depsTail.nextDep=n,ze.depsTail=n):ze.deps=ze.depsTail=n,q9(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=ze.depsTail,n.nextDep=void 0,ze.depsTail.nextDep=n,ze.depsTail=n,ze.deps===n&&(ze.deps=i)}return n}trigger(e){this.version++,Lm++,this.notify(e)}notify(e){JS();try{Idt.NODE_ENV;for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{XS()}}}function q9(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)q9(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const uv=new WeakMap,Eu=Symbol(""),t4=Symbol(""),Pm=Symbol("");function Ri(t,e,n){if(Js&&ze){let i=uv.get(t);i||uv.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new cv),r.map=i,r.key=n),r.track()}}function Ia(t,e,n,i,r,s){const o=uv.get(t);if(!o){Lm++;return}const a=l=>{l&&l.trigger()};if(JS(),e==="clear")o.forEach(a);else{const l=Et(t),c=l&&HS(n);if(l&&n==="length"){const p=Number(i);o.forEach((d,f)=>{(f==="length"||f===Pm||!vr(f)&&f>=p)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Pm)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Eu)),Ip(t)&&a(o.get(t4)));break;case"delete":l||(a(o.get(Eu)),Ip(t)&&a(o.get(t4)));break;case"set":Ip(t)&&a(o.get(Eu));break}}XS()}function kdt(t,e){const n=uv.get(t);return n&&n.get(e)}function Cp(t){const e=Dt(t);return e===t?e:(Ri(e,"iterate",Pm),_r(t)?e:e.map(Li))}function hv(t){return Ri(t=Dt(t),"iterate",Pm),t}const Cdt={__proto__:null,[Symbol.iterator](){return e4(this,Symbol.iterator,Li)},concat(...t){return Cp(this).concat(...t.map(e=>Et(e)?Cp(e):e))},entries(){return e4(this,"entries",t=>(t[1]=Li(t[1]),t))},every(t,e){return Na(this,"every",t,e,void 0,arguments)},filter(t,e){return Na(this,"filter",t,e,n=>n.map(Li),arguments)},find(t,e){return Na(this,"find",t,e,Li,arguments)},findIndex(t,e){return Na(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Na(this,"findLast",t,e,Li,arguments)},findLastIndex(t,e){return Na(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Na(this,"forEach",t,e,void 0,arguments)},includes(...t){return n4(this,"includes",t)},indexOf(...t){return n4(this,"indexOf",t)},join(t){return Cp(this).join(t)},lastIndexOf(...t){return n4(this,"lastIndexOf",t)},map(t,e){return Na(this,"map",t,e,void 0,arguments)},pop(){return Dm(this,"pop")},push(...t){return Dm(this,"push",t)},reduce(t,...e){return Y9(this,"reduce",t,e)},reduceRight(t,...e){return Y9(this,"reduceRight",t,e)},shift(){return Dm(this,"shift")},some(t,e){return Na(this,"some",t,e,void 0,arguments)},splice(...t){return Dm(this,"splice",t)},toReversed(){return Cp(this).toReversed()},toSorted(t){return Cp(this).toSorted(t)},toSpliced(...t){return Cp(this).toSpliced(...t)},unshift(...t){return Dm(this,"unshift",t)},values(){return e4(this,"values",Li)}};function e4(t,e,n){const i=hv(t),r=i[e]();return i!==t&&!_r(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const Rdt=Array.prototype;function Na(t,e,n,i,r,s){const o=hv(t),a=o!==t&&!_r(t),l=o[e];if(l!==Rdt[e]){const d=l.apply(t,s);return a?Li(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,Li(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const p=l.call(o,c,i);return a&&r?r(p):p}function Y9(t,e,n,i){const r=hv(t);let s=n;return r!==t&&(_r(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,Li(a),l,t)}),r[e](s,...i)}function n4(t,e,n){const i=Dt(t);Ri(i,"iterate",Pm);const r=i[e](...n);return(r===-1||r===!1)&&jm(n[0])?(n[0]=Dt(n[0]),i[e](...n)):r}function Dm(t,e,n=[]){Ma(),JS();const i=Dt(t)[e].apply(t,n);return XS(),Ta(),i}const Ldt=Ur("__proto__,__v_isRef,__isVue"),Z9=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(vr));function Pdt(t){vr(t)||(t=String(t));const e=Dt(this);return Ri(e,"has",t),e.hasOwnProperty(t)}class J9{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?n7:e7:s?t7:Q9).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Et(e);if(!r){let l;if(o&&(l=Cdt[n]))return l;if(n==="hasOwnProperty")return Pdt}const a=Reflect.get(e,n,ae(e)?e:i);return(vr(n)?Z9.has(n):Ldt(n))||(r||Ri(e,"get",n),s)?a:ae(a)?o&&HS(n)?a:a.value:ke(a)?r?mv(a):Qn(a):a}}class X9 extends J9{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=Oa(s);if(!_r(i)&&!Oa(i)&&(s=Dt(s),i=Dt(i)),!Et(e)&&ae(s)&&!ae(i))return l?!1:(s.value=i,!0)}const o=Et(e)&&HS(n)?Number(n)<e.length:xe(e,n),a=Reflect.set(e,n,i,ae(e)?e:r);return e===Dt(r)&&(o?tr(i,s)&&Ia(e,"set",n,i):Ia(e,"add",n,i)),a}deleteProperty(e,n){const i=xe(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&Ia(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!vr(n)||!Z9.has(n))&&Ri(e,"has",n),i}ownKeys(e){return Ri(e,"iterate",Et(e)?"length":Eu),Reflect.ownKeys(e)}}class K9 extends J9{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Ddt=new X9,jdt=new K9,$dt=new X9(!0),Fdt=new K9(!0),i4=t=>t,pv=t=>Reflect.getPrototypeOf(t);function Udt(t,e,n){return function(...i){const r=this.__v_raw,s=Dt(r),o=Ip(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...i),p=n?i4:e?s4:Li;return!e&&Ri(s,"iterate",l?t4:Eu),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[p(d[0]),p(d[1])]:p(d),done:f}},[Symbol.iterator](){return this}}}}function dv(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Gdt(t,e){const n={get(i){const r=this.__v_raw,s=Dt(r),o=Dt(i);t||(tr(i,o)&&Ri(s,"get",i),Ri(s,"get",o));const{has:a}=pv(s),l=e?i4:t?s4:Li;if(a.call(s,i))return l(r.get(i));if(a.call(s,o))return l(r.get(o));r!==s&&r.get(i)},get size(){const i=this.__v_raw;return!t&&Ri(Dt(i),"iterate",Eu),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,s=Dt(r),o=Dt(i);return t||(tr(i,o)&&Ri(s,"has",i),Ri(s,"has",o)),i===o?r.has(i):r.has(i)||r.has(o)},forEach(i,r){const s=this,o=s.__v_raw,a=Dt(o),l=e?i4:t?s4:Li;return!t&&Ri(a,"iterate",Eu),o.forEach((c,p)=>i.call(r,l(c),l(p),s))}};return oe(n,t?{add:dv("add"),set:dv("set"),delete:dv("delete"),clear:dv("clear")}:{add(i){!e&&!_r(i)&&!Oa(i)&&(i=Dt(i));const r=Dt(this);return pv(r).has.call(r,i)||(r.add(i),Ia(r,"add",i,i)),this},set(i,r){!e&&!_r(r)&&!Oa(r)&&(r=Dt(r));const s=Dt(this),{has:o,get:a}=pv(s);let l=o.call(s,i);l||(i=Dt(i),l=o.call(s,i));const c=a.call(s,i);return s.set(i,r),l?tr(r,c)&&Ia(s,"set",i,r):Ia(s,"add",i,r),this},delete(i){const r=Dt(this),{has:s,get:o}=pv(r);let a=s.call(r,i);a||(i=Dt(i),a=s.call(r,i)),o&&o.call(r,i);const l=r.delete(i);return a&&Ia(r,"delete",i,void 0),l},clear(){const i=Dt(this),r=i.size!==0,s=i.clear();return r&&Ia(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Udt(i,t,e)}),n}function fv(t,e){const n=Gdt(t,e);return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(xe(n,r)&&r in i?n:i,r,s)}const Bdt={get:fv(!1,!1)},zdt={get:fv(!1,!0)},Vdt={get:fv(!0,!1)},Wdt={get:fv(!0,!0)},Q9=new WeakMap,t7=new WeakMap,e7=new WeakMap,n7=new WeakMap;function Hdt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qdt(t){return t.__v_skip||!Object.isExtensible(t)?0:Hdt(adt(t))}function Qn(t){return Oa(t)?t:yv(t,!1,Ddt,Bdt,Q9)}function r4(t){return yv(t,!1,$dt,zdt,t7)}function mv(t){return yv(t,!0,jdt,Vdt,e7)}function Rp(t){return yv(t,!0,Fdt,Wdt,n7)}function yv(t,e,n,i,r){if(!ke(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const o=qdt(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return r.set(t,a),a}function wr(t){return Oa(t)?wr(t.__v_raw):!!(t&&t.__v_isReactive)}function Oa(t){return!!(t&&t.__v_isReadonly)}function _r(t){return!!(t&&t.__v_isShallow)}function jm(t){return t?!!t.__v_raw:!1}function Dt(t){const e=t&&t.__v_raw;return e?Dt(e):t}function Je(t){return!xe(t,"__v_skip")&&Object.isExtensible(t)&&k9(t,"__v_skip",!0),t}const Li=t=>ke(t)?Qn(t):t,s4=t=>ke(t)?mv(t):t;function ae(t){return t?t.__v_isRef===!0:!1}function Q(t){return i7(t,!1)}function Lp(t){return i7(t,!0)}function i7(t,e){return ae(t)?t:new Ydt(t,e)}class Ydt{constructor(e,n){this.dep=new cv,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Dt(e),this._value=n?e:Li(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||_r(e)||Oa(e);e=i?e:Dt(e),tr(e,n)&&(this._rawValue=e,this._value=i?e:Li(e),this.dep.trigger())}}function r7(t){t.dep&&t.dep.trigger()}function St(t){return ae(t)?t.value:t}function s7(t){return Lt(t)?t():St(t)}const Zdt={get:(t,e,n)=>e==="__v_raw"?t:St(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return ae(r)&&!ae(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function gv(t){return wr(t)?t:new Proxy(t,Zdt)}class Jdt{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new cv,{get:i,set:r}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function o4(t){return new Jdt(t)}function vv(t){const e=Et(t)?new Array(t.length):{};for(const n in t)e[n]=o7(t,n);return e}class Xdt{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return kdt(Dt(this._object),this._key)}}class Kdt{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function bv(t,e,n){return ae(t)?t:Lt(t)?new Kdt(t):ke(t)&&arguments.length>1?o7(t,e,n):Q(t)}function o7(t,e,n){const i=t[e];return ae(i)?i:new Xdt(t,e,n)}class Qdt{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new cv(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Lm-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return F9(this,!0),!0}get value(){const e=this.dep.track();return B9(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function tft(t,e,n=!1){let i,r;return Lt(t)?i=t:(i=t.get,r=t.set),new Qdt(i,r,n)}const a7={GET:"get",HAS:"has",ITERATE:"iterate"},l7={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},wv={},_v=new WeakMap;let Ul;function c7(){return Ul}function a4(t,e=!1,n=Ul){if(n){let i=_v.get(n);i||_v.set(n,i=[]),i.push(t)}}function eft(t,e,n=se){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,c=w=>r?w:_r(w)||r===!1||r===0?ka(w,1):ka(w);let p,d,f,y,g=!1,b=!1;if(ae(t)?(d=()=>t.value,g=_r(t)):wr(t)?(d=()=>c(t),g=!0):Et(t)?(b=!0,g=t.some(w=>wr(w)||_r(w)),d=()=>t.map(w=>{if(ae(w))return w.value;if(wr(w))return c(w);if(Lt(w))return l?l(w,2):w()})):Lt(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Ma();try{f()}finally{Ta()}}const w=Ul;Ul=p;try{return l?l(t,3,[y]):t(y)}finally{Ul=w}}:d=ai,e&&r){const w=d,T=r===!0?1/0:r;d=()=>ka(w(),T)}const x=lv(),A=()=>{p.stop(),x&&x.active&&VS(x.effects,p)};if(s&&e){const w=e;e=(...T)=>{w(...T),A()}}let M=b?new Array(t.length).fill(wv):wv;const _=w=>{if(!(!(p.flags&1)||!p.dirty&&!w))if(e){const T=p.run();if(r||g||(b?T.some((I,O)=>tr(I,M[O])):tr(T,M))){f&&f();const I=Ul;Ul=p;try{const O=[T,M===wv?void 0:b&&M[0]===wv?[]:M,y];l?l(e,3,O):e(...O),M=T}finally{Ul=I}}}else p.run()};return a&&a(_),p=new kp(d),p.scheduler=o?()=>o(_,!1):_,y=w=>a4(w,!1,p),f=p.onStop=()=>{const w=_v.get(p);if(w){if(l)l(w,4);else for(const T of w)T();_v.delete(p)}},e?i?_(!0):M=p.run():o?o(_.bind(null,!0),!0):p.run(),A.pause=p.pause.bind(p),A.resume=p.resume.bind(p),A.stop=A,A}function ka(t,e=1/0,n){if(e<=0||!ke(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ae(t))ka(t.value,e,n);else if(Et(t))for(let i=0;i<t.length;i++)ka(t[i],e,n);else if(_u(t)||Ip(t))t.forEach(i=>{ka(i,e,n)});else if(ev(t)){for(const i in t)ka(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&ka(t[i],e,n)}return t}var Gl={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_e681b303-72ba-4c4a-8fb2-688db3a1cefe",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_e681b303-72ba-4c4a-8fb2-688db3a1cefe",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ramp4-pcar4",GRADLE_HOME:"/usr/share/gradle-9.2.0",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/29.0.14206865",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"57148724",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"1893",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",JAVA_HOME_25_X64:"/usr/lib/jvm/temurin-25-jdk-amd64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20251112.124.1",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.12/x64",JOURNAL_STREAM:"9:9059",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.10/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GOROOT_1_25_X64:"/opt/hostedtoolcache/go/1.25.4/x64",GITHUB_RUN_ID:"19571478886",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"tag",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"962d8a7b7a4b18c601fdd19b43218ee07020dc1b",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"ramp4-pcar4/ramp4-pcar4/.github/workflows/demo-build.yml@refs/tags/v4.14.0",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9yZWZzL3RhZ3MvdjQuMTQuMFwiLFwiUGVybWlzc2lvblwiOjN9LHtcIlNjb3BlXCI6XCJyZWZzL2hlYWRzL21haW5cIixcIlBlcm1pc3Npb25cIjoxfV0iLCJhY3NsIjoiMTAiLCJhdWQiOiJ2c286ZGM4ZTdlNGQtNGQ0NS00OGQwLWJmOGEtNmJkNGM2YzI0NjA3IiwiYmlsbGluZ19vd25lcl9pZCI6Ik9fa2dET0EyZ0ZOQSIsImV4cCI6MTc2Mzc1MjcwOCwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9wcmltYXJ5c2lkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvc2lkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwiaWF0IjoxNzYzNzMwNTA4LCJpc3MiOiJodHRwczovL3Rva2VuLmFjdGlvbnMuZ2l0aHVidXNlcmNvbnRlbnQuY29tIiwiam9iX2lkIjoiM2NlMWRlNDMtNjQ0Zi01NTIxLTkzNjctYjUyY2VkMDg2MjlhIiwibmFtZWlkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwibmJmIjoxNzYzNzMwMjA4LCJvaWRjX2V4dHJhIjoie1wiYWN0b3JcIjpcImphbWVzLXJhZVwiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImJhc2VfcmVmXCI6XCJcIixcImNoZWNrX3J1bl9pZFwiOlwiNTYwNDU4MTQxMzFcIixcImVudmlyb25tZW50XCI6XCJnaXRodWItcGFnZXNcIixcImVudmlyb25tZW50X25vZGVfaWRcIjpcIkVOX2t3RE9EUVBaV2M0ZUV4MlpcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcImhlYWRfcmVmXCI6XCJcIixcImpvYl93b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xNC4wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCI5NjJkOGE3YjdhNGIxOGM2MDFmZGQxOWI0MzIxOGVlMDcwMjBkYzFiXCIsXCJyZWZcIjpcInJlZnMvdGFncy92NC4xNC4wXCIsXCJyZWZfcHJvdGVjdGVkXCI6XCJmYWxzZVwiLFwicmVmX3R5cGVcIjpcInRhZ1wiLFwicmVwb3NpdG9yeVwiOlwicmFtcDQtcGNhcjQvcmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIxODM1NjA1N1wiLFwicmVwb3NpdG9yeV9vd25lclwiOlwicmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfb3duZXJfaWRcIjpcIjU3MTQ4NzI0XCIsXCJyZXBvc2l0b3J5X3Zpc2liaWxpdHlcIjpcInB1YmxpY1wiLFwicnVuX2F0dGVtcHRcIjpcIjFcIixcInJ1bl9pZFwiOlwiMTk1NzE0Nzg4ODZcIixcInJ1bl9udW1iZXJcIjpcIjI2NVwiLFwicnVubmVyX2Vudmlyb25tZW50XCI6XCJnaXRodWItaG9zdGVkXCIsXCJzaGFcIjpcIjk2MmQ4YTdiN2E0YjE4YzYwMWZkZDE5YjQzMjE4ZWUwNzAyMGRjMWJcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcIndvcmtmbG93X3JlZlwiOlwicmFtcDQtcGNhcjQvcmFtcDQtcGNhcjQvLmdpdGh1Yi93b3JrZmxvd3MvZGVtby1idWlsZC55bWxAcmVmcy90YWdzL3Y0LjE0LjBcIixcIndvcmtmbG93X3NoYVwiOlwiOTYyZDhhN2I3YTRiMThjNjAxZmRkMTliNDMyMThlZTA3MDIwZGMxYlwifSIsIm9pZGNfc3ViIjoicmVwbzpyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoX2lkIjoiOTUyMTk1MWItMzE2ZC00ZGMzLWFlYjctMWI0MzUxNzBmMDkyLmJ1aWxkLl9fZGVmYXVsdCIsIm93bmVyX2lkIjoiT19rZ0RPQTJnRk5BIiwicGxhbl9pZCI6Ijk1MjE5NTFiLTMxNmQtNGRjMy1hZWI3LTFiNDM1MTcwZjA5MiIsInJlcG9zaXRvcnlfaWQiOiIyMTgzNTYwNTciLCJydW5faWQiOiIxOTU3MTQ3ODg4NiIsInJ1bl9udW1iZXIiOiIyNjUiLCJydW5fdHlwZSI6ImZ1bGwiLCJydW5uZXJfaWQiOiIxMDAwMDEwNTgxIiwicnVubmVyX3R5cGUiOiJob3N0ZWQiLCJzY3AiOiJBY3Rpb25zLlJlc3VsdHM6OTUyMTk1MWItMzE2ZC00ZGMzLWFlYjctMWI0MzUxNzBmMDkyOjNjZTFkZTQzLTY0NGYtNTUyMS05MzY3LWI1MmNlZDA4NjI5YSBBY3Rpb25zLlJ1bm5lcjo5NTIxOTUxYi0zMTZkLTRkYzMtYWViNy0xYjQzNTE3MGYwOTI6M2NlMWRlNDMtNjQ0Zi01NTIxLTkzNjctYjUyY2VkMDg2MjlhIEFjdGlvbnMuVXBsb2FkQXJ0aWZhY3RzOjk1MjE5NTFiLTMxNmQtNGRjMy1hZWI3LTFiNDM1MTcwZjA5MjozY2UxZGU0My02NDRmLTU1MjEtOTM2Ny1iNTJjZWQwODYyOWEgZ2VuZXJhdGVfaWRfdG9rZW46OTUyMTk1MWItMzE2ZC00ZGMzLWFlYjctMWI0MzUxNzBmMDkyOjNjZTFkZTQzLTY0NGYtNTUyMS05MzY3LWI1MmNlZDA4NjI5YSBBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCIsInNoYSI6Ijk2MmQ4YTdiN2E0YjE4YzYwMWZkZDE5YjQzMjE4ZWUwNzAyMGRjMWIiLCJ0cnVzdF90aWVyIjoiMiJ9.MlgLFMHelSj6M1ZPXLwJYIGL8RT_K2BOrEGspyxAO_OoLCrUioclb62dViA66pKK95ltijlfjWSrCJXqFaBXGC5y7LuENuXJPy_pAb76ey5o_gpRiuyVb9E12veXLEjBauYVujCp49wQB4lAg3HHfvbqhnUUZb5ec5sFC-pK8_pQpmfR1eDaxoNMuklr5uEAPXyNZsmTsKs-Sq7VdH-j_HYJMb_HMb0zoXKaSwnWoCkAE3kp7u2ztFfhRUS__kBomCY3O_7GKKhxNgdbu-U2UZOHzm9l1NVlPJCWwTjXjbYVgVXIjkOCBDL97VA_Wb29qKFkkAUTE-FDcW-fzl8NDw",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_beebe8a9-55c4-433a-9890-a784e3e5aa79",INVOCATION_ID:"bb374d7e49534f7397287e0b8c678501",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"265",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000010581",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"v4.14.0",GITHUB_REPOSITORY:"ramp4-pcar4/ramp4-pcar4",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"218356057",GITHUB_ACTIONS:"true",npm_package_version:"4.14.0",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",GITHUB_SHA:"962d8a7b7a4b18c601fdd19b43218ee07020dc1b",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/tags/v4.14.0",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_e681b303-72ba-4c4a-8fb2-688db3a1cefe",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-2-azure-eastus.actions.githubusercontent.com/86//idtoken/9521951b-316d-4dc3-aeb7-1b435170f092/3ce1de43-644f-5521-9367-b52ced08629a?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_e681b303-72ba-4c4a-8fb2-688db3a1cefe",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_e681b303-72ba-4c4a-8fb2-688db3a1cefe",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const Su=[];function nft(t){Su.push(t)}function ift(){Su.pop()}let l4=!1;function rft(t,...e){if(l4)return;l4=!0,Ma();const n=Su.length?Su[Su.length-1].component:null,i=n&&n.appContext.config.warnHandler,r=sft();if(i)Bl(i,n,11,[t+e.map(s=>{var o,a;return(a=(o=s.toString)==null?void 0:o.call(s))!=null?a:JSON.stringify(s)}).join(""),n&&n.proxy,r.map(({vnode:s})=>`at <${zD(n,s.type)}>`).join(`
`),r]);else{const s=[`[Vue warn]: ${t}`,...e];r.length&&s.push(`
`,...oft(r)),console.warn(...s)}Ta(),l4=!1}function sft(){let t=Su[Su.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const i=t.component&&t.component.parent;t=i&&i.vnode}return e}function oft(t){const e=[];return t.forEach((n,i)=>{e.push(...i===0?[]:[`
`],...aft(n))}),e}function aft({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",i=t.component?t.component.parent==null:!1,r=` at <${zD(t.component,t.type,i)}`,s=">"+n;return t.props?[r,...lft(t.props),s]:[r+s]}function lft(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(i=>{e.push(...u7(i,t[i]))}),n.length>3&&e.push(" ..."),e}function u7(t,e,n){return Vt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:ae(e)?(e=u7(t,Dt(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):Lt(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Dt(e),n?e:[`${t}=`,e])}function h7(t,e){}const p7={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},cft={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Bl(t,e,n,i){try{return i?t(...i):t()}catch(r){zl(r,e,n)}}function Gr(t,e,n,i){if(Lt(t)){const r=Bl(t,e,n,i);return r&&WS(r)&&r.catch(s=>{zl(s,e,n)}),r}if(Et(t)){const r=[];for(let s=0;s<t.length;s++)r.push(Gr(t[s],e,n,i));return r}}function zl(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||se;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const p=a.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](t,l,c)===!1)return}a=a.parent}if(s){Ma(),Bl(s,null,10,[t,l,c]),Ta();return}}uft(t,n,r,i,o)}function uft(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}const nr=[];let Co=-1;const Pp=[];let Vl=null,Dp=0;const d7=Promise.resolve();let xv=null;function fs(t){const e=xv||d7;return t?e.then(this?t.bind(this):t):e}function hft(t){let e=Co+1,n=nr.length;for(;e<n;){const i=e+n>>>1,r=nr[i],s=$m(r);s<t||s===t&&r.flags&2?e=i+1:n=i}return e}function c4(t){if(!(t.flags&1)){const e=$m(t),n=nr[nr.length-1];!n||!(t.flags&2)&&e>=$m(n)?nr.push(t):nr.splice(hft(e),0,t),t.flags|=1,f7()}}function f7(){xv||(xv=d7.then(y7))}function jp(t){Et(t)?Pp.push(...t):Vl&&t.id===-1?Vl.splice(Dp+1,0,t):t.flags&1||(Pp.push(t),t.flags|=1),f7()}function m7(t,e,n=Co+1){for(;n<nr.length;n++){const i=nr[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;nr.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Ev(t){if(Pp.length){const e=[...new Set(Pp)].sort((n,i)=>$m(n)-$m(i));if(Pp.length=0,Vl){Vl.push(...e);return}for(Vl=e,Dp=0;Dp<Vl.length;Dp++){const n=Vl[Dp];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Vl=null,Dp=0}}const $m=t=>t.id==null?t.flags&2?-1:1/0:t.id;function y7(t){const e=ai;try{for(Co=0;Co<nr.length;Co++){const n=nr[Co];n&&!(n.flags&8)&&(Gl.NODE_ENV!=="production"&&e(n),n.flags&4&&(n.flags&=-2),Bl(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Co<nr.length;Co++){const n=nr[Co];n&&(n.flags&=-2)}Co=-1,nr.length=0,Ev(),xv=null,(nr.length||Pp.length)&&y7()}}let $p,Sv=[];function g7(t,e){var n,i;$p=t,$p?($p.enabled=!0,Sv.forEach(({event:r,args:s})=>$p.emit(r,...s)),Sv=[]):typeof window<"u"&&window.HTMLElement&&!((i=(n=window.navigator)==null?void 0:n.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{g7(r,e)}),setTimeout(()=>{$p||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Sv=[])},3e3)):Sv=[]}let ti=null,Av=null;function Fm(t){const e=ti;return ti=t,Av=t&&t.type.__scopeId||null,e}function v7(t){Av=t}function b7(){Av=null}const w7=t=>Mn;function Mn(t,e=ti,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&Hv(-1);const s=Fm(e);let o;try{o=t(...r)}finally{Fm(s),i._d&&Hv(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Se(t,e){if(ti===null)return t;const n=t0(ti),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=se]=e[r];s&&(Lt(s)&&(s={mounted:s,updated:s}),s.deep&&ka(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ro(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Ma(),Gr(l,n,8,[t.el,a,t,e]),Ta())}}const _7=Symbol("_vte"),x7=t=>t.__isTeleport,Um=t=>t&&(t.disabled||t.disabled===""),E7=t=>t&&(t.defer||t.defer===""),S7=t=>typeof SVGElement<"u"&&t instanceof SVGElement,A7=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,u4=(t,e)=>{const n=t&&t.to;return Vt(n)?e?e(n):null:n},M7={name:"Teleport",__isTeleport:!0,process(t,e,n,i,r,s,o,a,l,c){const{mc:p,pc:d,pbc:f,o:{insert:y,querySelector:g,createText:b,createComment:x}}=c,A=Um(e.props);let{shapeFlag:M,children:_,dynamicChildren:w}=e;if(t==null){const T=e.el=b(""),I=e.anchor=b("");y(T,n,i),y(I,n,i);const O=(R,j)=>{M&16&&(r&&r.isCE&&(r.ce._teleportTarget=R),p(_,R,j,r,s,o,a,l))},k=()=>{const R=e.target=u4(e.props,g),j=T7(R,e,b,y);R&&(o!=="svg"&&S7(R)?o="svg":o!=="mathml"&&A7(R)&&(o="mathml"),A||(O(R,j),Tv(e,!1)))};A&&(O(n,I),Tv(e,!0)),E7(e.props)?ei(()=>{k(),e.el.__isMounted=!0},s):k()}else{if(E7(e.props)&&!t.el.__isMounted){ei(()=>{M7.process(t,e,n,i,r,s,o,a,l,c),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,I=e.target=t.target,O=e.targetAnchor=t.targetAnchor,k=Um(t.props),R=k?n:I,j=k?T:O;if(o==="svg"||S7(I)?o="svg":(o==="mathml"||A7(I))&&(o="mathml"),w?(f(t.dynamicChildren,w,R,r,s,o,a),$4(t,e,!0)):l||d(t,e,R,j,r,s,o,a,!1),A)k?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Mv(e,n,T,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const z=e.target=u4(e.props,g);z&&Mv(e,z,null,c,0)}else k&&Mv(e,I,O,c,1);Tv(e,A)}},remove(t,e,n,{um:i,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:p,target:d,props:f}=t;if(d&&(r(c),r(p)),s&&r(l),o&16){const y=s||!Um(f);for(let g=0;g<a.length;g++){const b=a[g];i(b,e,n,y,!!b.dynamicChildren)}}},move:Mv,hydrate:pft};function Mv(t,e,n,{o:{insert:i},m:r},s=2){s===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:p}=t,d=s===2;if(d&&i(o,e,n),(!d||Um(p))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,n,2);d&&i(a,e,n)}function pft(t,e,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:p}},d){const f=e.target=u4(e.props,l);if(f){const y=Um(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(y)e.anchor=d(o(t),e,a(t),n,i,r,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||T7(f,e,p,c),d(g&&o(g),e,f,n,i,r,s)}Tv(e,y)}return e.anchor&&o(e.anchor)}const h4=M7;function Tv(t,e){const n=t.ctx;if(n&&n.ut){let i,r;for(e?(i=t.el,r=t.anchor):(i=t.targetStart,r=t.targetAnchor);i&&i!==r;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function T7(t,e,n,i){const r=e.targetStart=n(""),s=e.targetAnchor=n("");return r[_7]=s,t&&(i(r,t),i(s,t)),s}const Wl=Symbol("_leaveCb"),Iv=Symbol("_enterCb");function Nv(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return li(()=>{t.isMounted=!0}),ys(()=>{t.isUnmounting=!0}),t}const ms=[Function,Array],Ov={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ms,onEnter:ms,onAfterEnter:ms,onEnterCancelled:ms,onBeforeLeave:ms,onLeave:ms,onAfterLeave:ms,onLeaveCancelled:ms,onBeforeAppear:ms,onAppear:ms,onAfterAppear:ms,onAppearCancelled:ms},I7=t=>{const e=t.subTree;return e.component?I7(e.component):e},dft={name:"BaseTransition",props:Ov,setup(t,{slots:e}){const n=Dn(),i=Nv();return()=>{const r=e.default&&Gm(e.default(),!0);if(!r||!r.length)return;const s=N7(r),o=Dt(t),{mode:a}=o;if(i.isLeaving)return d4(s);const l=k7(s);if(!l)return d4(s);let c=Au(l,o,i,n,d=>c=d);l.type!==Ln&&Lo(l,c);let p=n.subTree&&k7(n.subTree);if(p&&p.type!==Ln&&!Ks(l,p)&&I7(n).type!==Ln){let d=Au(p,o,i,n);if(Lo(p,d),a==="out-in"&&l.type!==Ln)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,p=void 0},d4(s);a==="in-out"&&l.type!==Ln?d.delayLeave=(f,y,g)=>{const b=O7(i,p);b[String(p.key)]=p,f[Wl]=()=>{y(),f[Wl]=void 0,delete c.delayedLeave,p=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return s}}};function N7(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Ln){e=n;break}}return e}const p4=dft;function O7(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Au(t,e,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:p,onEnterCancelled:d,onBeforeLeave:f,onLeave:y,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:x,onAppear:A,onAfterAppear:M,onAppearCancelled:_}=e,w=String(t.key),T=O7(n,t),I=(R,j)=>{R&&Gr(R,i,9,j)},O=(R,j)=>{const z=j[1];I(R,j),Et(R)?R.every(F=>F.length<=1)&&z():R.length<=1&&z()},k={mode:o,persisted:a,beforeEnter(R){let j=l;if(!n.isMounted)if(s)j=x||l;else return;R[Wl]&&R[Wl](!0);const z=T[w];z&&Ks(t,z)&&z.el[Wl]&&z.el[Wl](),I(j,[R])},enter(R){let j=c,z=p,F=d;if(!n.isMounted)if(s)j=A||c,z=M||p,F=_||d;else return;let U=!1;const Y=R[Iv]=u=>{U||(U=!0,u?I(F,[R]):I(z,[R]),k.delayedLeave&&k.delayedLeave(),R[Iv]=void 0)};j?O(j,[R,Y]):Y()},leave(R,j){const z=String(t.key);if(R[Iv]&&R[Iv](!0),n.isUnmounting)return j();I(f,[R]);let F=!1;const U=R[Wl]=Y=>{F||(F=!0,j(),Y?I(b,[R]):I(g,[R]),R[Wl]=void 0,T[z]===t&&delete T[z])};T[z]=t,y?O(y,[R,U]):U()},clone(R){const j=Au(R,e,n,i,r);return r&&r(j),j}};return k}function d4(t){if(Vm(t))return t=Qs(t),t.children=null,t}function k7(t){if(!Vm(t))return x7(t.type)&&t.children?N7(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Lt(n.default))return n.default()}}function Lo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Lo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Gm(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ce?(o.patchFlag&128&&r++,i=i.concat(Gm(o.children,e,a))):(e||o.type!==Ln)&&i.push(a!=null?Qs(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function ne(t,e){return Lt(t)?oe({name:t.name},e,{setup:t}):t}function f4(){const t=Dn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function m4(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Bm(t){const e=Dn(),n=Lp(null);if(e){const i=e.refs===se?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function zm(t,e,n,i,r=!1){if(Et(t)){t.forEach((g,b)=>zm(g,e&&(Et(e)?e[b]:e),n,i,r));return}if(Hl(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&zm(t,e,n,i.component.subTree);return}const s=i.shapeFlag&4?t0(i.component):i.el,o=r?null:s,{i:a,r:l}=t,c=e&&e.r,p=a.refs===se?a.refs={}:a.refs,d=a.setupState,f=Dt(d),y=d===se?()=>!1:g=>xe(f,g);if(c!=null&&c!==l&&(Vt(c)?(p[c]=null,y(c)&&(d[c]=null)):ae(c)&&(c.value=null)),Lt(l))Bl(l,a,12,[o,p]);else{const g=Vt(l),b=ae(l);if(g||b){const x=()=>{if(t.f){const A=g?y(l)?d[l]:p[l]:l.value;r?Et(A)&&VS(A,s):Et(A)?A.includes(s)||A.push(s):g?(p[l]=[s],y(l)&&(d[l]=p[l])):(l.value=[s],t.k&&(p[t.k]=l.value))}else g?(p[l]=o,y(l)&&(d[l]=o)):b&&(l.value=o,t.k&&(p[t.k]=o))};o?(x.id=-1,ei(x,n)):x()}}}let C7=!1;const Fp=()=>{C7||(console.error("Hydration completed but contains mismatches."),C7=!0)},fft=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",mft=t=>t.namespaceURI.includes("MathML"),kv=t=>{if(t.nodeType===1){if(fft(t))return"svg";if(mft(t))return"mathml"}},Up=t=>t.nodeType===8;function yft(t){const{mt:e,p:n,o:{patchProp:i,createText:r,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=t,p=(_,w)=>{if(!w.hasChildNodes()){n(null,_,w),Ev(),w._vnode=_;return}d(w.firstChild,_,null,null,null),Ev(),w._vnode=_},d=(_,w,T,I,O,k=!1)=>{k=k||!!w.dynamicChildren;const R=Up(_)&&_.data==="[",j=()=>b(_,w,T,I,O,R),{type:z,ref:F,shapeFlag:U,patchFlag:Y}=w;let u=_.nodeType;w.el=_,Y===-2&&(k=!1,w.dynamicChildren=null);let m=null;switch(z){case Po:u!==3?w.children===""?(l(w.el=r(""),o(_),_),m=_):m=j():(_.data!==w.children&&(Fp(),_.data=w.children),m=s(_));break;case Ln:M(_)?(m=s(_),A(w.el=_.content.firstChild,_,T)):u!==8||R?m=j():m=s(_);break;case Yl:if(R&&(_=s(_),u=_.nodeType),u===1||u===3){m=_;const S=!w.children.length;for(let C=0;C<w.staticCount;C++)S&&(w.children+=m.nodeType===1?m.outerHTML:m.data),C===w.staticCount-1&&(w.anchor=m),m=s(m);return R?s(m):m}else j();break;case Ce:R?m=g(_,w,T,I,O,k):m=j();break;default:if(U&1)(u!==1||w.type.toLowerCase()!==_.tagName.toLowerCase())&&!M(_)?m=j():m=f(_,w,T,I,O,k);else if(U&6){w.slotScopeIds=O;const S=o(_);if(R?m=x(_):Up(_)&&_.data==="teleport start"?m=x(_,_.data,"teleport end"):m=s(_),e(w,S,null,T,I,kv(S),k),Hl(w)&&!w.type.__asyncResolved){let C;R?(C=Zt(Ce),C.anchor=m?m.previousSibling:S.lastChild):C=_.nodeType===3?to(""):Zt("div"),C.el=_,w.component.subTree=C}}else U&64?u!==8?m=j():m=w.type.hydrate(_,w,T,I,O,k,t,y):U&128&&(m=w.type.hydrate(_,w,T,I,kv(o(_)),O,k,t,d))}return F!=null&&zm(F,null,I,w),m},f=(_,w,T,I,O,k)=>{k=k||!!w.dynamicChildren;const{type:R,props:j,patchFlag:z,shapeFlag:F,dirs:U,transition:Y}=w,u=R==="input"||R==="option";if(u||z!==-1){U&&Ro(w,null,T,"created");let m=!1;if(M(_)){m=wD(null,Y)&&T&&T.vnode.props&&T.vnode.props.appear;const C=_.content.firstChild;m&&Y.beforeEnter(C),A(C,_,T),w.el=_=C}if(F&16&&!(j&&(j.innerHTML||j.textContent))){let C=y(_.firstChild,w,_,T,I,O,k);for(;C;){Cv(_,1)||Fp();const V=C;C=C.nextSibling,a(V)}}else if(F&8){let C=w.children;C[0]===`
`&&(_.tagName==="PRE"||_.tagName==="TEXTAREA")&&(C=C.slice(1)),_.textContent!==C&&(Cv(_,0)||Fp(),_.textContent=w.children)}if(j){if(u||!k||z&48){const C=_.tagName.includes("-");for(const V in j)(u&&(V.endsWith("value")||V==="indeterminate")||wu(V)&&!jl(V)||V[0]==="."||C)&&i(_,V,null,j[V],void 0,T)}else if(j.onClick)i(_,"onClick",null,j.onClick,void 0,T);else if(z&4&&wr(j.style))for(const C in j.style)j.style[C]}let S;(S=j&&j.onVnodeBeforeMount)&&Er(S,T,w),U&&Ro(w,null,T,"beforeMount"),((S=j&&j.onVnodeMounted)||U||m)&&CD(()=>{S&&Er(S,T,w),m&&Y.enter(_),U&&Ro(w,null,T,"mounted")},I)}return _.nextSibling},y=(_,w,T,I,O,k,R)=>{R=R||!!w.dynamicChildren;const j=w.children,z=j.length;for(let F=0;F<z;F++){const U=R?j[F]:j[F]=xr(j[F]),Y=U.type===Po;_?(Y&&!R&&F+1<z&&xr(j[F+1]).type===Po&&(l(r(_.data.slice(U.children.length)),T,s(_)),_.data=U.children),_=d(_,U,I,O,k,R)):Y&&!U.children?l(U.el=r(""),T):(Cv(T,1)||Fp(),n(null,U,T,null,I,O,kv(T),k))}return _},g=(_,w,T,I,O,k)=>{const{slotScopeIds:R}=w;R&&(O=O?O.concat(R):R);const j=o(_),z=y(s(_),w,j,T,I,O,k);return z&&Up(z)&&z.data==="]"?s(w.anchor=z):(Fp(),l(w.anchor=c("]"),j,z),z)},b=(_,w,T,I,O,k)=>{if(Cv(_.parentElement,1)||Fp(),w.el=null,k){const z=x(_);for(;;){const F=s(_);if(F&&F!==z)a(F);else break}}const R=s(_),j=o(_);return a(_),n(null,w,j,R,T,I,kv(j),O),T&&(T.vnode.el=w.el,Vv(T,w.el)),R},x=(_,w="[",T="]")=>{let I=0;for(;_;)if(_=s(_),_&&Up(_)&&(_.data===w&&I++,_.data===T)){if(I===0)return s(_);I--}return _},A=(_,w,T)=>{const I=w.parentNode;I&&I.replaceChild(_,w);let O=T;for(;O;)O.vnode.el===w&&(O.vnode.el=O.subTree.el=_),O=O.parent},M=_=>_.nodeType===1&&_.tagName==="TEMPLATE";return[p,d]}const R7="data-allow-mismatch",gft={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Cv(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(R7);)t=t.parentElement;const n=t&&t.getAttribute(R7);if(n==null)return!1;if(n==="")return!0;{const i=n.split(",");return e===0&&i.includes("children")?!0:n.split(",").includes(gft[e])}}const vft=sv().requestIdleCallback||(t=>setTimeout(t,1)),bft=sv().cancelIdleCallback||(t=>clearTimeout(t)),L7=(t=1e4)=>e=>{const n=vft(e,{timeout:t});return()=>bft(n)};function wft(t){const{top:e,left:n,bottom:i,right:r}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||i>0&&i<s)&&(n>0&&n<o||r>0&&r<o)}const P7=t=>(e,n)=>{const i=new IntersectionObserver(r=>{for(const s of r)if(s.isIntersecting){i.disconnect(),e();break}},t);return n(r=>{if(r instanceof Element){if(wft(r))return e(),i.disconnect(),!1;i.observe(r)}}),()=>i.disconnect()},D7=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},j7=(t=[])=>(e,n)=>{Vt(t)&&(t=[t]);let i=!1;const r=o=>{i||(i=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,r)})};return n(o=>{for(const a of t)o.addEventListener(a,r,{once:!0})}),s};function _ft(t,e){if(Up(t)&&t.data==="["){let n=1,i=t.nextSibling;for(;i;){if(i.nodeType===1){if(e(i)===!1)break}else if(Up(i))if(i.data==="]"){if(--n===0)break}else i.data==="["&&n++;i=i.nextSibling}}else e(t)}const Hl=t=>!!t.type.__asyncLoader;function Rv(t){Lt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:r=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let c=null,p,d=0;const f=()=>(d++,c=null,y()),y=()=>{let g;return c||(g=c=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((x,A)=>{l(b,()=>x(f()),()=>A(b),d+1)});throw b}).then(b=>g!==c&&c?c:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),p=b,b)))};return ne({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(g,b,x){const A=s?()=>{const M=s(x,_=>_ft(g,_));M&&(b.bum||(b.bum=[])).push(M)}:x;p?A():y().then(()=>!b.isUnmounted&&A())},get __asyncResolved(){return p},setup(){const g=Pn;if(m4(g),p)return()=>y4(p,g);const b=_=>{c=null,zl(_,g,13,!i)};if(a&&g.suspense||Bp)return y().then(_=>()=>y4(_,g)).catch(_=>(b(_),()=>i?Zt(i,{error:_}):null));const x=Q(!1),A=Q(),M=Q(!!r);return r&&setTimeout(()=>{M.value=!1},r),o!=null&&setTimeout(()=>{if(!x.value&&!A.value){const _=new Error(`Async component timed out after ${o}ms.`);b(_),A.value=_}},o),y().then(()=>{x.value=!0,g.parent&&Vm(g.parent.vnode)&&g.parent.update()}).catch(_=>{b(_),A.value=_}),()=>{if(x.value&&p)return y4(p,g);if(A.value&&i)return Zt(i,{error:A.value});if(n&&!M.value)return Zt(n)}}})}function y4(t,e){const{ref:n,props:i,children:r,ce:s}=e.vnode,o=Zt(t,i,r);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Vm=t=>t.type.__isKeepAlive,xft={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Dn(),i=n.ctx;if(!i.renderer)return()=>{const M=e.default&&e.default();return M&&M.length===1?M[0]:M};const r=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:p,o:{createElement:d}}}=i,f=d("div");i.activate=(M,_,w,T,I)=>{const O=M.component;c(M,_,w,0,a),l(O.vnode,M,_,w,O,a,T,M.slotScopeIds,I),ei(()=>{O.isDeactivated=!1,O.a&&Op(O.a);const k=M.props&&M.props.onVnodeMounted;k&&Er(k,O.parent,M)},a)},i.deactivate=M=>{const _=M.component;Gv(_.m),Gv(_.a),c(M,f,null,1,a),ei(()=>{_.da&&Op(_.da);const w=M.props&&M.props.onVnodeUnmounted;w&&Er(w,_.parent,M),_.isDeactivated=!0},a)};function y(M){b4(M),p(M,n,a,!0)}function g(M){r.forEach((_,w)=>{const T=Jv(_.type);T&&!M(T)&&b(w)})}function b(M){const _=r.get(M);_&&(!o||!Ks(_,o))?y(_):o&&b4(o),r.delete(M),s.delete(M)}Wn(()=>[t.include,t.exclude],([M,_])=>{M&&g(w=>Wm(M,w)),_&&g(w=>!Wm(_,w))},{flush:"post",deep:!0});let x=null;const A=()=>{x!=null&&(Wv(n.subTree.type)?ei(()=>{r.set(x,Lv(n.subTree))},n.subTree.suspense):r.set(x,Lv(n.subTree)))};return li(A),Mu(A),ys(()=>{r.forEach(M=>{const{subTree:_,suspense:w}=n,T=Lv(_);if(M.type===T.type&&M.key===T.key){b4(T);const I=T.component.da;I&&ei(I,w);return}y(M)})}),()=>{if(x=null,!e.default)return o=null;const M=e.default(),_=M[0];if(M.length>1)return o=null,M;if(!Xs(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let w=Lv(_);if(w.type===Ln)return o=null,w;const T=w.type,I=Jv(Hl(w)?w.type.__asyncResolved||{}:T),{include:O,exclude:k,max:R}=t;if(O&&(!I||!Wm(O,I))||k&&I&&Wm(k,I))return w.shapeFlag&=-257,o=w,_;const j=w.key==null?T:w.key,z=r.get(j);return w.el&&(w=Qs(w),_.shapeFlag&128&&(_.ssContent=w)),x=j,z?(w.el=z.el,w.component=z.component,w.transition&&Lo(w,w.transition),w.shapeFlag|=512,s.delete(j),s.add(j)):(s.add(j),R&&s.size>parseInt(R,10)&&b(s.values().next().value)),w.shapeFlag|=256,o=w,Wv(_.type)?_:w}}},$7=xft;function Wm(t,e){return Et(t)?t.some(n=>Wm(n,e)):Vt(t)?t.split(",").includes(e):odt(t)?(t.lastIndex=0,t.test(e)):!1}function g4(t,e){F7(t,"a",e)}function v4(t,e){F7(t,"da",e)}function F7(t,e,n=Pn){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Pv(e,i,n),n){let r=n.parent;for(;r&&r.parent;)Vm(r.parent.vnode)&&Eft(i,e,n,r),r=r.parent}}function Eft(t,e,n,i){const r=Pv(e,t,i,!0);ql(()=>{VS(i[e],r)},n)}function b4(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Lv(t){return t.shapeFlag&128?t.ssContent:t}function Pv(t,e,n=Pn,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Ma();const a=Ou(n),l=Gr(e,n,t,o);return a(),Ta(),l});return i?r.unshift(s):r.push(s),s}}const Ca=t=>(e,n=Pn)=>{(!Bp||t==="sp")&&Pv(t,(...i)=>e(...i),n)},Hm=Ca("bm"),li=Ca("m"),Dv=Ca("bu"),Mu=Ca("u"),ys=Ca("bum"),ql=Ca("um"),w4=Ca("sp"),_4=Ca("rtg"),x4=Ca("rtc");function jv(t,e=Pn){Pv("ec",t,e)}const E4="components",Sft="directives";function Tn(t,e){return S4(E4,t,!0,e)||t}const U7=Symbol.for("v-ndc");function $v(t){return Vt(t)?S4(E4,t,!1)||t:t||U7}function Ae(t){return S4(Sft,t)}function S4(t,e,n=!0,i=!1){const r=ti||Pn;if(r){const s=r.type;if(t===E4){const a=Jv(s,!1);if(a&&(a===e||a===Be(e)||a===$l(Be(e))))return s}const o=G7(r[t]||s[t],e)||G7(r.appContext[t],e);return!o&&i?s:o}}function G7(t,e){return t&&(t[e]||t[Be(e)]||t[$l(Be(e))])}function Ra(t,e,n,i){let r;const s=n&&n[i],o=Et(t);if(o||Vt(t)){const a=o&&wr(t);let l=!1;a&&(l=!_r(t),t=hv(t)),r=new Array(t.length);for(let c=0,p=t.length;c<p;c++)r[c]=e(l?Li(t[c]):t[c],c,void 0,s&&s[c])}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s&&s[a])}else if(ke(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const p=a[l];r[l]=e(t[p],p,l,s&&s[l])}}else r=[];return n&&(n[i]=r),r}function B7(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(Et(i))for(let r=0;r<i.length;r++)t[i[r].name]=i[r].fn;else i&&(t[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return t}function gs(t,e,n={},i,r){if(ti.ce||ti.parent&&Hl(ti.parent)&&ti.parent.ce)return e!=="default"&&(n.name=e),ct(),Ue(Ce,null,[Zt("slot",n,i&&i())],64);let s=t[e];s&&s._c&&(s._d=!1),ct();const o=s&&A4(s(n)),a=n.key||o&&o.key,l=Ue(Ce,{key:(a&&!vr(a)?a:`_${e}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&t._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function A4(t){return t.some(e=>Xs(e)?!(e.type===Ln||e.type===Ce&&!A4(e.children)):!0)?t:null}function z7(t,e){const n={};for(const i in t)n[e&&/[A-Z]/.test(i)?`on:${i}`:xu(i)]=t[i];return n}const M4=t=>t?$D(t)?t0(t):M4(t.parent):null,qm=oe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>M4(t.parent),$root:t=>M4(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>O4(t),$forceUpdate:t=>t.f||(t.f=()=>{c4(t.update)}),$nextTick:t=>t.n||(t.n=fs.bind(t.proxy)),$watch:t=>Uft.bind(t)}),T4=(t,e)=>t!==se&&!t.__isScriptSetup&&xe(t,e),I4={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(T4(i,e))return o[e]=1,i[e];if(r!==se&&xe(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&xe(c,e))return o[e]=3,s[e];if(n!==se&&xe(n,e))return o[e]=4,n[e];N4&&(o[e]=0)}}const p=qm[e];let d,f;if(p)return e==="$attrs"&&Ri(t.attrs,"get",""),p(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==se&&xe(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,xe(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return T4(r,e)?(r[e]=n,!0):i!==se&&xe(i,e)?(i[e]=n,!0):xe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||t!==se&&xe(t,o)||T4(e,o)||(a=s[0])&&xe(a,o)||xe(i,o)||xe(qm,o)||xe(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:xe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},Aft=oe({},I4,{get(t,e){if(e!==Symbol.unscopables)return I4.get(t,e,t)},has(t,e){return e[0]!=="_"&&!ddt(e)}});function V7(){return null}function W7(){return null}function H7(t){}function q7(t){}function Y7(){return null}function Z7(){}function J7(t,e){return null}function X7(){return Q7().slots}function K7(){return Q7().attrs}function Q7(){const t=Dn();return t.setupContext||(t.setupContext=BD(t))}function Ym(t){return Et(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function tD(t,e){const n=Ym(t);for(const i in e){if(i.startsWith("__skip"))continue;let r=n[i];r?Et(r)||Lt(r)?r=n[i]={type:r,default:e[i]}:r.default=e[i]:r===null&&(r=n[i]={default:e[i]}),r&&e[`__skip_${i}`]&&(r.skipFactory=!0)}return n}function eD(t,e){return!t||!e?t||e:Et(t)&&Et(e)?t.concat(e):oe({},Ym(t),Ym(e))}function nD(t,e){const n={};for(const i in t)e.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>t[i]});return n}function iD(t){const e=Dn();let n=t();return q4(),WS(n)&&(n=n.catch(i=>{throw Ou(e),i})),[n,()=>Ou(e)]}let N4=!0;function Mft(t){const e=O4(t),n=t.proxy,i=t.ctx;N4=!1,e.beforeCreate&&rD(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:p,beforeMount:d,mounted:f,beforeUpdate:y,updated:g,activated:b,deactivated:x,beforeDestroy:A,beforeUnmount:M,destroyed:_,unmounted:w,render:T,renderTracked:I,renderTriggered:O,errorCaptured:k,serverPrefetch:R,expose:j,inheritAttrs:z,components:F,directives:U,filters:Y}=e;if(c&&Tft(c,i,null),o)for(const m in o){const S=o[m];Lt(S)&&(i[m]=S.bind(n))}if(r){const m=r.call(n,n);ke(m)&&(t.data=Qn(m))}if(N4=!0,s)for(const m in s){const S=s[m],C=Lt(S)?S.bind(n,n):Lt(S.get)?S.get.bind(n,n):ai,V=!Lt(S)&&Lt(S.set)?S.set.bind(n):ai,Z=Xt({get:C,set:V});Object.defineProperty(i,m,{enumerable:!0,configurable:!0,get:()=>Z.value,set:ft=>Z.value=ft})}if(a)for(const m in a)sD(a[m],i,n,m);if(l){const m=Lt(l)?l.call(n):l;Reflect.ownKeys(m).forEach(S=>{Uv(S,m[S])})}p&&rD(p,t,"c");function u(m,S){Et(S)?S.forEach(C=>m(C.bind(n))):S&&m(S.bind(n))}if(u(Hm,d),u(li,f),u(Dv,y),u(Mu,g),u(g4,b),u(v4,x),u(jv,k),u(x4,I),u(_4,O),u(ys,M),u(ql,w),u(w4,R),Et(j))if(j.length){const m=t.exposed||(t.exposed={});j.forEach(S=>{Object.defineProperty(m,S,{get:()=>n[S],set:C=>n[S]=C})})}else t.exposed||(t.exposed={});T&&t.render===ai&&(t.render=T),z!=null&&(t.inheritAttrs=z),F&&(t.components=F),U&&(t.directives=U),R&&m4(t)}function Tft(t,e,n=ai){Et(t)&&(t=k4(t));for(const i in t){const r=t[i];let s;ke(r)?"default"in r?s=Rn(r.from||i,r.default,!0):s=Rn(r.from||i):s=Rn(r),ae(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function rD(t,e,n){Gr(Et(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function sD(t,e,n,i){let r=i.includes(".")?SD(n,i):()=>n[i];if(Vt(t)){const s=e[t];Lt(s)&&Wn(r,s)}else if(Lt(t))Wn(r,t.bind(n));else if(ke(t))if(Et(t))t.forEach(s=>sD(s,e,n,i));else{const s=Lt(t.handler)?t.handler.bind(n):e[t.handler];Lt(s)&&Wn(r,s,t)}}function O4(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(c=>Fv(l,c,o,!0)),Fv(l,e,o)),ke(e)&&s.set(e,l),l}function Fv(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&Fv(t,s,n,!0),r&&r.forEach(o=>Fv(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=Ift[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Ift={data:oD,props:aD,emits:aD,methods:Zm,computed:Zm,beforeCreate:ir,created:ir,beforeMount:ir,mounted:ir,beforeUpdate:ir,updated:ir,beforeDestroy:ir,beforeUnmount:ir,destroyed:ir,unmounted:ir,activated:ir,deactivated:ir,errorCaptured:ir,serverPrefetch:ir,components:Zm,directives:Zm,watch:Oft,provide:oD,inject:Nft};function oD(t,e){return e?t?function(){return oe(Lt(t)?t.call(this,this):t,Lt(e)?e.call(this,this):e)}:e:t}function Nft(t,e){return Zm(k4(t),k4(e))}function k4(t){if(Et(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ir(t,e){return t?[...new Set([].concat(t,e))]:e}function Zm(t,e){return t?oe(Object.create(null),t,e):e}function aD(t,e){return t?Et(t)&&Et(e)?[...new Set([...t,...e])]:oe(Object.create(null),Ym(t),Ym(e??{})):e}function Oft(t,e){if(!t)return e;if(!e)return t;const n=oe(Object.create(null),t);for(const i in e)n[i]=ir(t[i],e[i]);return n}function lD(){return{app:null,config:{isNativeTag:Om,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kft=0;function Cft(t,e){return function(n,i=null){Lt(n)||(n=oe({},n)),i!=null&&!ke(i)&&(i=null);const r=lD(),s=new WeakSet,o=[];let a=!1;const l=r.app={_uid:kft++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:K4,get config(){return r.config},set config(c){},use(c,...p){return s.has(c)||(c&&Lt(c.install)?(s.add(c),c.install(l,...p)):Lt(c)&&(s.add(c),c(l,...p))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,p){return p?(r.components[c]=p,l):r.components[c]},directive(c,p){return p?(r.directives[c]=p,l):r.directives[c]},mount(c,p,d){if(!a){const f=l._ceVNode||Zt(n,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),p&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,t0(f.component)}},onUnmount(c){o.push(c)},unmount(){a&&(Gr(o,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(c,p){return r.provides[c]=p,l},runWithContext(c){const p=Tu;Tu=l;try{return c()}finally{Tu=p}}};return l}}let Tu=null;function Uv(t,e){if(Pn){let n=Pn.provides;const i=Pn.parent&&Pn.parent.provides;i===n&&(n=Pn.provides=Object.create(i)),n[t]=e}}function Rn(t,e,n=!1){const i=Pn||ti;if(i||Tu){const r=Tu?Tu._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Lt(e)?e.call(i&&i.proxy):e}}function C4(){return!!(Pn||ti||Tu)}const cD={},uD=()=>Object.create(cD),hD=t=>Object.getPrototypeOf(t)===cD;function Rft(t,e,n,i=!1){const r={},s=uD();t.propsDefaults=Object.create(null),pD(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=i?r:r4(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function Lft(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=Dt(r),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const p=t.vnode.dynamicProps;for(let d=0;d<p.length;d++){let f=p[d];if(Bv(t.emitsOptions,f))continue;const y=e[f];if(l)if(xe(s,f))y!==s[f]&&(s[f]=y,c=!0);else{const g=Be(f);r[g]=R4(l,a,g,y,t,!1)}else y!==s[f]&&(s[f]=y,c=!0)}}}else{pD(t,e,r,s)&&(c=!0);let p;for(const d in a)(!e||!xe(e,d)&&((p=br(d))===d||!xe(e,p)))&&(l?n&&(n[d]!==void 0||n[p]!==void 0)&&(r[d]=R4(l,a,d,void 0,t,!0)):delete r[d]);if(s!==a)for(const d in s)(!e||!xe(e,d))&&(delete s[d],c=!0)}c&&Ia(t.attrs,"set","")}function pD(t,e,n,i){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(jl(l))continue;const c=e[l];let p;r&&xe(r,p=Be(l))?!s||!s.includes(p)?n[p]=c:(a||(a={}))[p]=c:Bv(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=Dt(n),c=a||se;for(let p=0;p<s.length;p++){const d=s[p];n[d]=R4(r,l,d,c[d],t,!xe(c,d))}}return o}function R4(t,e,n,i,r,s){const o=t[n];if(o!=null){const a=xe(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Lt(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const p=Ou(r);i=c[n]=l.call(null,e),p()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===br(n))&&(i=!0))}return i}const Pft=new WeakMap;function dD(t,e,n=!1){const i=n?Pft:e.propsCache,r=i.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!Lt(t)){const p=d=>{l=!0;const[f,y]=dD(d,e,!0);oe(o,f),y&&a.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!s&&!l)return ke(t)&&i.set(t,Tp),Tp;if(Et(s))for(let p=0;p<s.length;p++){const d=Be(s[p]);fD(d)&&(o[d]=se)}else if(s)for(const p in s){const d=Be(p);if(fD(d)){const f=s[p],y=o[d]=Et(f)||Lt(f)?{type:f}:oe({},f),g=y.type;let b=!1,x=!0;if(Et(g))for(let A=0;A<g.length;++A){const M=g[A],_=Lt(M)&&M.name;if(_==="Boolean"){b=!0;break}else _==="String"&&(x=!1)}else b=Lt(g)&&g.name==="Boolean";y[0]=b,y[1]=x,(b||xe(y,"default"))&&a.push(d)}}const c=[o,a];return ke(t)&&i.set(t,c),c}function fD(t){return t[0]!=="$"&&!jl(t)}const mD=t=>t[0]==="_"||t==="$stable",L4=t=>Et(t)?t.map(xr):[xr(t)],Dft=(t,e,n)=>{if(e._n)return e;const i=Mn((...r)=>(Gl.NODE_ENV!=="production"&&Pn&&(!n||(n.root,Pn.root)),L4(e(...r))),n);return i._c=!1,i},yD=(t,e,n)=>{const i=t._ctx;for(const r in t){if(mD(r))continue;const s=t[r];if(Lt(s))e[r]=Dft(r,s,i);else if(s!=null){const o=L4(s);e[r]=()=>o}}},gD=(t,e)=>{const n=L4(e);t.slots.default=()=>n},vD=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},jft=(t,e,n)=>{const i=t.slots=uD();if(t.vnode.shapeFlag&32){const r=e._;r?(vD(i,e,n),n&&k9(i,"_",r,!0)):yD(e,i)}else e&&gD(t,e)},$ft=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,o=se;if(i.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:vD(r,e,n):(s=!e.$stable,yD(e,r)),o=e}else e&&(gD(t,e),o={default:1});if(s)for(const a in r)!mD(a)&&o[a]==null&&delete r[a]},ei=CD;function P4(t){return bD(t)}function D4(t){return bD(t,yft)}function bD(t,e){const n=sv();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:p,parentNode:d,nextSibling:f,setScopeId:y=ai,insertStaticContent:g}=t,b=(G,$,J,st=null,it=null,at=null,mt=void 0,L=null,P=!!$.dynamicChildren)=>{if(G===$)return;G&&!Ks(G,$)&&(st=Le(G),lt(G,it,at,!0),G=null),$.patchFlag===-2&&(P=!1,$.dynamicChildren=null);const{type:W,ref:K,shapeFlag:B}=$;switch(W){case Po:x(G,$,J,st);break;case Ln:A(G,$,J,st);break;case Yl:G==null&&M($,J,st,mt);break;case Ce:F(G,$,J,st,it,at,mt,L,P);break;default:B&1?T(G,$,J,st,it,at,mt,L,P):B&6?U(G,$,J,st,it,at,mt,L,P):(B&64||B&128)&&W.process(G,$,J,st,it,at,mt,L,P,We)}K!=null&&it&&zm(K,G&&G.ref,at,$||G,!$)},x=(G,$,J,st)=>{if(G==null)i($.el=a($.children),J,st);else{const it=$.el=G.el;$.children!==G.children&&c(it,$.children)}},A=(G,$,J,st)=>{G==null?i($.el=l($.children||""),J,st):$.el=G.el},M=(G,$,J,st)=>{[G.el,G.anchor]=g(G.children,$,J,st,G.el,G.anchor)},_=({el:G,anchor:$},J,st)=>{let it;for(;G&&G!==$;)it=f(G),i(G,J,st),G=it;i($,J,st)},w=({el:G,anchor:$})=>{let J;for(;G&&G!==$;)J=f(G),r(G),G=J;r($)},T=(G,$,J,st,it,at,mt,L,P)=>{$.type==="svg"?mt="svg":$.type==="math"&&(mt="mathml"),G==null?I($,J,st,it,at,mt,L,P):R(G,$,it,at,mt,L,P)},I=(G,$,J,st,it,at,mt,L)=>{let P,W;const{props:K,shapeFlag:B,transition:q,dirs:dt}=G;if(P=G.el=o(G.type,at,K&&K.is,K),B&8?p(P,G.children):B&16&&k(G.children,P,null,st,it,j4(G,at),mt,L),dt&&Ro(G,null,st,"created"),O(P,G,G.scopeId,mt,st),K){for(const Jt in K)Jt!=="value"&&!jl(Jt)&&s(P,Jt,null,K[Jt],at,st);"value"in K&&s(P,"value",null,K.value,at),(W=K.onVnodeBeforeMount)&&Er(W,st,G)}dt&&Ro(G,null,st,"beforeMount");const vt=wD(it,q);vt&&q.beforeEnter(P),i(P,$,J),((W=K&&K.onVnodeMounted)||vt||dt)&&ei(()=>{W&&Er(W,st,G),vt&&q.enter(P),dt&&Ro(G,null,st,"mounted")},it)},O=(G,$,J,st,it)=>{if(J&&y(G,J),st)for(let at=0;at<st.length;at++)y(G,st[at]);if(it){let at=it.subTree;if($===at||Wv(at.type)&&(at.ssContent===$||at.ssFallback===$)){const mt=it.vnode;O(G,mt,mt.scopeId,mt.slotScopeIds,it.parent)}}},k=(G,$,J,st,it,at,mt,L,P=0)=>{for(let W=P;W<G.length;W++){const K=G[W]=L?Zl(G[W]):xr(G[W]);b(null,K,$,J,st,it,at,mt,L)}},R=(G,$,J,st,it,at,mt)=>{const L=$.el=G.el;let{patchFlag:P,dynamicChildren:W,dirs:K}=$;P|=G.patchFlag&16;const B=G.props||se,q=$.props||se;let dt;if(J&&Iu(J,!1),(dt=q.onVnodeBeforeUpdate)&&Er(dt,J,$,G),K&&Ro($,G,J,"beforeUpdate"),J&&Iu(J,!0),(B.innerHTML&&q.innerHTML==null||B.textContent&&q.textContent==null)&&p(L,""),W?j(G.dynamicChildren,W,L,J,st,j4($,it),at):mt||C(G,$,L,null,J,st,j4($,it),at,!1),P>0){if(P&16)z(L,B,q,J,it);else if(P&2&&B.class!==q.class&&s(L,"class",null,q.class,it),P&4&&s(L,"style",B.style,q.style,it),P&8){const vt=$.dynamicProps;for(let Jt=0;Jt<vt.length;Jt++){const ee=vt[Jt],en=B[ee],dn=q[ee];(dn!==en||ee==="value")&&s(L,ee,en,dn,it,J)}}P&1&&G.children!==$.children&&p(L,$.children)}else!mt&&W==null&&z(L,B,q,J,it);((dt=q.onVnodeUpdated)||K)&&ei(()=>{dt&&Er(dt,J,$,G),K&&Ro($,G,J,"updated")},st)},j=(G,$,J,st,it,at,mt)=>{for(let L=0;L<$.length;L++){const P=G[L],W=$[L],K=P.el&&(P.type===Ce||!Ks(P,W)||P.shapeFlag&70)?d(P.el):J;b(P,W,K,null,st,it,at,mt,!0)}},z=(G,$,J,st,it)=>{if($!==J){if($!==se)for(const at in $)!jl(at)&&!(at in J)&&s(G,at,$[at],null,it,st);for(const at in J){if(jl(at))continue;const mt=J[at],L=$[at];mt!==L&&at!=="value"&&s(G,at,L,mt,it,st)}"value"in J&&s(G,"value",$.value,J.value,it)}},F=(G,$,J,st,it,at,mt,L,P)=>{const W=$.el=G?G.el:a(""),K=$.anchor=G?G.anchor:a("");let{patchFlag:B,dynamicChildren:q,slotScopeIds:dt}=$;dt&&(L=L?L.concat(dt):dt),G==null?(i(W,J,st),i(K,J,st),k($.children||[],J,K,it,at,mt,L,P)):B>0&&B&64&&q&&G.dynamicChildren?(j(G.dynamicChildren,q,J,it,at,mt,L),($.key!=null||it&&$===it.subTree)&&$4(G,$,!0)):C(G,$,J,K,it,at,mt,L,P)},U=(G,$,J,st,it,at,mt,L,P)=>{$.slotScopeIds=L,G==null?$.shapeFlag&512?it.ctx.activate($,J,st,mt,P):Y($,J,st,it,at,mt,P):u(G,$,P)},Y=(G,$,J,st,it,at,mt)=>{const L=G.component=jD(G,st,it);if(Vm(G)&&(L.ctx.renderer=We),FD(L,!1,mt),L.asyncDep){if(it&&it.registerDep(L,m,mt),!G.el){const P=L.subTree=Zt(Ln);A(null,P,$,J)}}else m(L,G,$,J,it,at,mt)},u=(G,$,J)=>{const st=$.component=G.component;if(Wft(G,$,J))if(st.asyncDep&&!st.asyncResolved){S(st,$,J);return}else st.next=$,st.update();else $.el=G.el,st.vnode=$},m=(G,$,J,st,it,at,mt)=>{const L=()=>{if(G.isMounted){let{next:B,bu:q,u:dt,parent:vt,vnode:Jt}=G;{const hi=_D(G);if(hi){B&&(B.el=Jt.el,S(G,B,mt)),hi.asyncDep.then(()=>{G.isUnmounted||L()});return}}let ee=B,en;Iu(G,!1),B?(B.el=Jt.el,S(G,B,mt)):B=Jt,q&&Op(q),(en=B.props&&B.props.onVnodeBeforeUpdate)&&Er(en,vt,B,Jt),Iu(G,!0);const dn=zv(G),Si=G.subTree;G.subTree=dn,b(Si,dn,d(Si.el),Le(Si),G,it,at),B.el=dn.el,ee===null&&Vv(G,dn.el),dt&&ei(dt,it),(en=B.props&&B.props.onVnodeUpdated)&&ei(()=>Er(en,vt,B,Jt),it)}else{let B;const{el:q,props:dt}=$,{bm:vt,m:Jt,parent:ee,root:en,type:dn}=G,Si=Hl($);if(Iu(G,!1),vt&&Op(vt),!Si&&(B=dt&&dt.onVnodeBeforeMount)&&Er(B,ee,$),Iu(G,!0),q&&ri){const hi=()=>{G.subTree=zv(G),ri(q,G.subTree,G,it,null)};Si&&dn.__asyncHydrate?dn.__asyncHydrate(q,G,hi):hi()}else{en.ce&&en.ce._injectChildStyle(dn);const hi=G.subTree=zv(G);b(null,hi,J,st,G,it,at),$.el=hi.el}if(Jt&&ei(Jt,it),!Si&&(B=dt&&dt.onVnodeMounted)){const hi=$;ei(()=>Er(B,ee,hi),it)}($.shapeFlag&256||ee&&Hl(ee.vnode)&&ee.vnode.shapeFlag&256)&&G.a&&ei(G.a,it),G.isMounted=!0,$=J=st=null}};G.scope.on();const P=G.effect=new kp(L);G.scope.off();const W=G.update=P.run.bind(P),K=G.job=P.runIfDirty.bind(P);K.i=G,K.id=G.uid,P.scheduler=()=>c4(K),Iu(G,!0),W()},S=(G,$,J)=>{$.component=G;const st=G.vnode.props;G.vnode=$,G.next=null,Lft(G,$.props,st,J),$ft(G,$.children,J),Ma(),m7(G),Ta()},C=(G,$,J,st,it,at,mt,L,P=!1)=>{const W=G&&G.children,K=G?G.shapeFlag:0,B=$.children,{patchFlag:q,shapeFlag:dt}=$;if(q>0){if(q&128){Z(W,B,J,st,it,at,mt,L,P);return}else if(q&256){V(W,B,J,st,it,at,mt,L,P);return}}dt&8?(K&16&&ye(W,it,at),B!==W&&p(J,B)):K&16?dt&16?Z(W,B,J,st,it,at,mt,L,P):ye(W,it,at,!0):(K&8&&p(J,""),dt&16&&k(B,J,st,it,at,mt,L,P))},V=(G,$,J,st,it,at,mt,L,P)=>{G=G||Tp,$=$||Tp;const W=G.length,K=$.length,B=Math.min(W,K);let q;for(q=0;q<B;q++){const dt=$[q]=P?Zl($[q]):xr($[q]);b(G[q],dt,J,null,it,at,mt,L,P)}W>K?ye(G,it,at,!0,!1,B):k($,J,st,it,at,mt,L,P,B)},Z=(G,$,J,st,it,at,mt,L,P)=>{let W=0;const K=$.length;let B=G.length-1,q=K-1;for(;W<=B&&W<=q;){const dt=G[W],vt=$[W]=P?Zl($[W]):xr($[W]);if(Ks(dt,vt))b(dt,vt,J,null,it,at,mt,L,P);else break;W++}for(;W<=B&&W<=q;){const dt=G[B],vt=$[q]=P?Zl($[q]):xr($[q]);if(Ks(dt,vt))b(dt,vt,J,null,it,at,mt,L,P);else break;B--,q--}if(W>B){if(W<=q){const dt=q+1,vt=dt<K?$[dt].el:st;for(;W<=q;)b(null,$[W]=P?Zl($[W]):xr($[W]),J,vt,it,at,mt,L,P),W++}}else if(W>q)for(;W<=B;)lt(G[W],it,at,!0),W++;else{const dt=W,vt=W,Jt=new Map;for(W=vt;W<=q;W++){const Nt=$[W]=P?Zl($[W]):xr($[W]);Nt.key!=null&&Jt.set(Nt.key,W)}let ee,en=0;const dn=q-vt+1;let Si=!1,hi=0;const tt=new Array(dn);for(W=0;W<dn;W++)tt[W]=0;for(W=dt;W<=B;W++){const Nt=G[W];if(en>=dn){lt(Nt,it,at,!0);continue}let Ht;if(Nt.key!=null)Ht=Jt.get(Nt.key);else for(ee=vt;ee<=q;ee++)if(tt[ee-vt]===0&&Ks(Nt,$[ee])){Ht=ee;break}Ht===void 0?lt(Nt,it,at,!0):(tt[Ht-vt]=W+1,Ht>=hi?hi=Ht:Si=!0,b(Nt,$[Ht],J,null,it,at,mt,L,P),en++)}const Mt=Si?Fft(tt):Tp;for(ee=Mt.length-1,W=dn-1;W>=0;W--){const Nt=vt+W,Ht=$[Nt],Kt=Nt+1<K?$[Nt+1].el:st;tt[W]===0?b(null,Ht,J,Kt,it,at,mt,L,P):Si&&(ee<0||W!==Mt[ee]?ft(Ht,J,Kt,2):ee--)}}},ft=(G,$,J,st,it=null)=>{const{el:at,type:mt,transition:L,children:P,shapeFlag:W}=G;if(W&6){ft(G.component.subTree,$,J,st);return}if(W&128){G.suspense.move($,J,st);return}if(W&64){mt.move(G,$,J,We);return}if(mt===Ce){i(at,$,J);for(let K=0;K<P.length;K++)ft(P[K],$,J,st);i(G.anchor,$,J);return}if(mt===Yl){_(G,$,J);return}if(st!==2&&W&1&&L)if(st===0)L.beforeEnter(at),i(at,$,J),ei(()=>L.enter(at),it);else{const{leave:K,delayLeave:B,afterLeave:q}=L,dt=()=>i(at,$,J),vt=()=>{K(at,()=>{dt(),q&&q()})};B?B(at,dt,vt):vt()}else i(at,$,J)},lt=(G,$,J,st=!1,it=!1)=>{const{type:at,props:mt,ref:L,children:P,dynamicChildren:W,shapeFlag:K,patchFlag:B,dirs:q,cacheIndex:dt}=G;if(B===-2&&(it=!1),L!=null&&zm(L,null,J,G,!0),dt!=null&&($.renderCache[dt]=void 0),K&256){$.ctx.deactivate(G);return}const vt=K&1&&q,Jt=!Hl(G);let ee;if(Jt&&(ee=mt&&mt.onVnodeBeforeUnmount)&&Er(ee,$,G),K&6)Ft(G.component,J,st);else{if(K&128){G.suspense.unmount(J,st);return}vt&&Ro(G,null,$,"beforeUnmount"),K&64?G.type.remove(G,$,J,We,st):W&&!W.hasOnce&&(at!==Ce||B>0&&B&64)?ye(W,$,J,!1,!0):(at===Ce&&B&384||!it&&K&16)&&ye(P,$,J),st&&At(G)}(Jt&&(ee=mt&&mt.onVnodeUnmounted)||vt)&&ei(()=>{ee&&Er(ee,$,G),vt&&Ro(G,null,$,"unmounted")},J)},At=G=>{const{type:$,el:J,anchor:st,transition:it}=G;if($===Ce){Pt(J,st);return}if($===Yl){w(G);return}const at=()=>{r(J),it&&!it.persisted&&it.afterLeave&&it.afterLeave()};if(G.shapeFlag&1&&it&&!it.persisted){const{leave:mt,delayLeave:L}=it,P=()=>mt(J,at);L?L(G.el,at,P):P()}else at()},Pt=(G,$)=>{let J;for(;G!==$;)J=f(G),r(G),G=J;r($)},Ft=(G,$,J)=>{const{bum:st,scope:it,job:at,subTree:mt,um:L,m:P,a:W}=G;Gv(P),Gv(W),st&&Op(st),it.stop(),at&&(at.flags|=8,lt(mt,G,$,J)),L&&ei(L,$),ei(()=>{G.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},ye=(G,$,J,st=!1,it=!1,at=0)=>{for(let mt=at;mt<G.length;mt++)lt(G[mt],$,J,st,it)},Le=G=>{if(G.shapeFlag&6)return Le(G.component.subTree);if(G.shapeFlag&128)return G.suspense.next();const $=f(G.anchor||G.el),J=$&&$[_7];return J?f(J):$};let je=!1;const ui=(G,$,J)=>{G==null?$._vnode&&lt($._vnode,null,null,!0):b($._vnode||null,G,$,null,null,null,J),$._vnode=G,je||(je=!0,m7(),Ev(),je=!1)},We={p:b,um:lt,m:ft,r:At,mt:Y,mc:k,pc:C,pbc:j,n:Le,o:t};let an,ri;return e&&([an,ri]=e(We)),{render:ui,hydrate:an,createApp:Cft(ui,an)}}function j4({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Iu({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function wD(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function $4(t,e,n=!1){const i=t.children,r=e.children;if(Et(i)&&Et(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Zl(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&$4(o,a)),a.type===Po&&(a.el=o.el)}}function Fft(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function _D(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:_D(e)}function Gv(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const F4=Symbol.for("v-scx"),U4=()=>Rn(F4);function xD(t,e){return Jm(t,null,e)}function ED(t,e){return Jm(t,null,{flush:"post"})}function G4(t,e){return Jm(t,null,{flush:"sync"})}function Wn(t,e,n){return Jm(t,e,n)}function Jm(t,e,n=se){const{immediate:i,deep:r,flush:s,once:o}=n,a=oe({},n),l=e&&i||!e&&s!=="post";let c;if(Bp){if(s==="sync"){const y=U4();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=ai,y.resume=ai,y.pause=ai,y}}const p=Pn;a.call=(y,g,b)=>Gr(y,p,g,b);let d=!1;s==="post"?a.scheduler=y=>{ei(y,p&&p.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(y,g)=>{g?y():c4(y)}),a.augmentJob=y=>{e&&(y.flags|=4),d&&(y.flags|=2,p&&(y.id=p.uid,y.i=p))};const f=eft(t,e,a);return Bp&&(c?c.push(f):l&&f()),f}function Uft(t,e,n){const i=this.proxy,r=Vt(t)?t.includes(".")?SD(i,t):()=>i[t]:t.bind(i,i);let s;Lt(e)?s=e:(s=e.handler,n=e);const o=Ou(this),a=Jm(r,s.bind(i),n);return o(),a}function SD(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function AD(t,e,n=se){const i=Dn(),r=Be(e),s=br(e),o=MD(t,r),a=o4((l,c)=>{let p,d=se,f;return G4(()=>{const y=t[r];tr(p,y)&&(p=y,c())}),{get(){return l(),n.get?n.get(p):p},set(y){const g=n.set?n.set(y):y;if(!tr(g,p)&&!(d!==se&&tr(y,d)))return;const b=i.vnode.props;b&&(e in b||r in b||s in b)&&(`onUpdate:${e}`in b||`onUpdate:${r}`in b||`onUpdate:${s}`in b)||(p=y,c()),i.emit(`update:${e}`,g),tr(y,g)&&tr(y,d)&&!tr(g,f)&&c(),d=y,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||se:a,done:!1}:{done:!0}}}},a}const MD=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Be(e)}Modifiers`]||t[`${br(e)}Modifiers`];function Gft(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||se;let r=n;const s=e.startsWith("update:"),o=s&&MD(i,e.slice(7));o&&(o.trim&&(r=n.map(p=>Vt(p)?p.trim():p)),o.number&&(r=n.map(iv)));let a,l=i[a=xu(e)]||i[a=xu(Be(e))];!l&&s&&(l=i[a=xu(br(e))]),l&&Gr(l,t,6,r);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Gr(c,t,6,r)}}function TD(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!Lt(t)){const l=c=>{const p=TD(c,e,!0);p&&(a=!0,oe(o,p))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(ke(t)&&i.set(t,null),null):(Et(s)?s.forEach(l=>o[l]=null):oe(o,s),ke(t)&&i.set(t,o),o)}function Bv(t,e){return!t||!wu(e)?!1:(e=e.slice(2).replace(/Once$/,""),xe(t,e[0].toLowerCase()+e.slice(1))||xe(t,br(e))||xe(t,e))}function zv(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:p,props:d,data:f,setupState:y,ctx:g,inheritAttrs:b}=t,x=Fm(t);let A,M;try{if(n.shapeFlag&4){const w=r||i,T=Gl.NODE_ENV!=="production"&&y.__isScriptSetup?new Proxy(w,{get(I,O,k){return rft(`Property '${String(O)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(I,O,k)}}):w;A=xr(c.call(T,w,p,Gl.NODE_ENV!=="production"?Rp(d):d,y,f,g)),M=a}else{const w=e;Gl.NODE_ENV,A=xr(w.length>1?w(Gl.NODE_ENV!=="production"?Rp(d):d,Gl.NODE_ENV!=="production"?{get attrs(){return Rp(a)},slots:o,emit:l}:{attrs:a,slots:o,emit:l}):w(Gl.NODE_ENV!=="production"?Rp(d):d,null)),M=e.props?a:zft(a)}}catch(w){Km.length=0,zl(w,t,1),A=Zt(Ln)}let _=A;if(M&&b!==!1){const w=Object.keys(M),{shapeFlag:T}=_;w.length&&T&7&&(s&&w.some(zS)&&(M=Vft(M,s)),_=Qs(_,M,!1,!0))}return n.dirs&&(_=Qs(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&Lo(_,n.transition),A=_,Fm(x),A}function Bft(t,e=!0){let n;for(let i=0;i<t.length;i++){const r=t[i];if(Xs(r)){if(r.type!==Ln||r.children==="v-if"){if(n)return;n=r}}else return}return n}const zft=t=>{let e;for(const n in t)(n==="class"||n==="style"||wu(n))&&((e||(e={}))[n]=t[n]);return e},Vft=(t,e)=>{const n={};for(const i in t)(!zS(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function Wft(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?ID(i,o,c):!!o;if(l&8){const p=e.dynamicProps;for(let d=0;d<p.length;d++){const f=p[d];if(o[f]!==i[f]&&!Bv(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?ID(i,o,c):!0:!!o;return!1}function ID(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!Bv(n,s))return!0}return!1}function Vv({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const Wv=t=>t.__isSuspense;let B4=0;const Hft={name:"Suspense",__isSuspense:!0,process(t,e,n,i,r,s,o,a,l,c){if(t==null)qft(e,n,i,r,s,o,a,l,c);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}Yft(t,e,n,i,r,o,a,l,c)}},hydrate:Zft,normalize:Jft},ND=Hft;function Xm(t,e){const n=t.props&&t.props[e];Lt(n)&&n()}function qft(t,e,n,i,r,s,o,a,l){const{p:c,o:{createElement:p}}=l,d=p("div"),f=t.suspense=OD(t,r,i,e,d,n,s,o,a,l);c(null,f.pendingBranch=t.ssContent,d,null,i,f,s,o),f.deps>0?(Xm(t,"onPending"),Xm(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,s,o),Gp(f,t.ssFallback)):f.resolve(!1,!0)}function Yft(t,e,n,i,r,s,o,a,{p:l,um:c,o:{createElement:p}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,y=e.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:x,isHydrating:A}=d;if(b)d.pendingBranch=f,Ks(f,b)?(l(b,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0?d.resolve():x&&(A||(l(g,y,n,i,r,null,s,o,a),Gp(d,y)))):(d.pendingId=B4++,A?(d.isHydrating=!1,d.activeBranch=b):c(b,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=p("div"),x?(l(null,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0?d.resolve():(l(g,y,n,i,r,null,s,o,a),Gp(d,y))):g&&Ks(f,g)?(l(g,f,n,i,r,d,s,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0&&d.resolve()));else if(g&&Ks(f,g))l(g,f,n,i,r,d,s,o,a),Gp(d,f);else if(Xm(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=B4++,l(null,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:M,pendingId:_}=d;M>0?setTimeout(()=>{d.pendingId===_&&d.fallback(y)},M):M===0&&d.fallback(y)}}function OD(t,e,n,i,r,s,o,a,l,c,p=!1){const{p:d,m:f,um:y,n:g,o:{parentNode:b,remove:x}}=c;let A;const M=Xft(t);M&&e&&e.pendingBranch&&(A=e.pendingId,e.deps++);const _=t.props?rv(t.props.timeout):void 0,w=s,T={vnode:t,parent:e,parentComponent:n,namespace:o,container:i,hiddenContainer:r,deps:0,pendingId:B4++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!p,isHydrating:p,isUnmounted:!1,effects:[],resolve(I=!1,O=!1){const{vnode:k,activeBranch:R,pendingBranch:j,pendingId:z,effects:F,parentComponent:U,container:Y}=T;let u=!1;T.isHydrating?T.isHydrating=!1:I||(u=R&&j.transition&&j.transition.mode==="out-in",u&&(R.transition.afterLeave=()=>{z===T.pendingId&&(f(j,Y,s===w?g(R):s,0),jp(F))}),R&&(b(R.el)===Y&&(s=g(R)),y(R,U,T,!0)),u||f(j,Y,s,0)),Gp(T,j),T.pendingBranch=null,T.isInFallback=!1;let m=T.parent,S=!1;for(;m;){if(m.pendingBranch){m.effects.push(...F),S=!0;break}m=m.parent}!S&&!u&&jp(F),T.effects=[],M&&e&&e.pendingBranch&&A===e.pendingId&&(e.deps--,e.deps===0&&!O&&e.resolve()),Xm(k,"onResolve")},fallback(I){if(!T.pendingBranch)return;const{vnode:O,activeBranch:k,parentComponent:R,container:j,namespace:z}=T;Xm(O,"onFallback");const F=g(k),U=()=>{T.isInFallback&&(d(null,I,j,F,R,null,z,a,l),Gp(T,I))},Y=I.transition&&I.transition.mode==="out-in";Y&&(k.transition.afterLeave=U),T.isInFallback=!0,y(k,R,null,!0),Y||U()},move(I,O,k){T.activeBranch&&f(T.activeBranch,I,O,k),T.container=I},next(){return T.activeBranch&&g(T.activeBranch)},registerDep(I,O,k){const R=!!T.pendingBranch;R&&T.deps++;const j=I.vnode.el;I.asyncDep.catch(z=>{zl(z,I,0)}).then(z=>{if(I.isUnmounted||T.isUnmounted||T.pendingId!==I.suspenseId)return;I.asyncResolved=!0;const{vnode:F}=I;Y4(I,z,!1),j&&(F.el=j);const U=!j&&I.subTree.el;O(I,F,b(j||I.subTree.el),j?null:g(I.subTree),T,o,k),U&&x(U),Vv(I,F.el),R&&--T.deps===0&&T.resolve()})},unmount(I,O){T.isUnmounted=!0,T.activeBranch&&y(T.activeBranch,n,I,O),T.pendingBranch&&y(T.pendingBranch,n,I,O)}};return T}function Zft(t,e,n,i,r,s,o,a,l){const c=e.suspense=OD(e,i,n,t.parentNode,document.createElement("div"),null,r,s,o,a,!0),p=l(t,c.pendingBranch=e.ssContent,n,c,s,o);return c.deps===0&&c.resolve(!1,!0),p}function Jft(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=kD(i?n.default:n),t.ssFallback=i?kD(n.fallback):Zt(Ln)}function kD(t){let e;if(Lt(t)){const n=Nu&&t._c;n&&(t._d=!1,ct()),t=t(),n&&(t._d=!0,e=Pi,RD())}return Et(t)&&(t=Bft(t)),t=xr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function CD(t,e){e&&e.pendingBranch?Et(t)?e.effects.push(...t):e.effects.push(t):jp(t)}function Gp(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let r=e.el;for(;!r&&e.component;)e=e.component.subTree,r=e.el;n.el=r,i&&i.subTree===n&&(i.vnode.el=r,Vv(i,r))}function Xft(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ce=Symbol.for("v-fgt"),Po=Symbol.for("v-txt"),Ln=Symbol.for("v-cmt"),Yl=Symbol.for("v-stc"),Km=[];let Pi=null;function ct(t=!1){Km.push(Pi=t?null:[])}function RD(){Km.pop(),Pi=Km[Km.length-1]||null}let Nu=1;function Hv(t,e=!1){Nu+=t,t<0&&Pi&&e&&(Pi.hasOnce=!0)}function LD(t){return t.dynamicChildren=Nu>0?Pi||Tp:null,RD(),Nu>0&&Pi&&Pi.push(t),t}function gt(t,e,n,i,r,s){return LD(rt(t,e,n,i,r,s,!0))}function Ue(t,e,n,i,r){return LD(Zt(t,e,n,i,r,!0))}function Xs(t){return t?t.__v_isVNode===!0:!1}function Ks(t,e){return t.type===e.type&&t.key===e.key}function PD(t){}const DD=({key:t})=>t??null,qv=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Vt(t)||ae(t)||Lt(t)?{i:ti,r:t,k:e,f:!!n}:t:null);function rt(t,e=null,n=null,i=0,r=null,s=t===Ce?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&DD(e),ref:e&&qv(e),scopeId:Av,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ti};return a?(W4(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Vt(n)?8:16),Nu>0&&!o&&Pi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Pi.push(l),l}const Zt=Kft;function Kft(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===U7)&&(t=Ln),Xs(t)){const a=Qs(t,e,!0);return n&&W4(a,n),Nu>0&&!s&&Pi&&(a.shapeFlag&6?Pi[Pi.indexOf(t)]=a:Pi.push(a)),a.patchFlag=-2,a}if(smt(t)&&(t=t.__vccOpts),e){e=z4(e);let{class:a,style:l}=e;a&&!Vt(a)&&(e.class=rn(a)),ke(l)&&(jm(l)&&!Et(l)&&(l=oe({},l)),e.style=Aa(l))}const o=Vt(t)?1:Wv(t)?128:x7(t)?64:ke(t)?4:Lt(t)?2:0;return rt(t,e,n,i,r,o,s,!0)}function z4(t){return t?jm(t)||hD(t)?oe({},t):t:null}function Qs(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?Qm(r||{},e):r,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&DD(c),ref:e&&e.ref?n&&s?Et(s)?s.concat(qv(e)):[s,qv(e)]:qv(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ce?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Qs(t.ssContent),ssFallback:t.ssFallback&&Qs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Lo(p,l.clone(p)),p}function to(t=" ",e=0){return Zt(Po,null,t,e)}function V4(t,e){const n=Zt(Yl,null,t);return n.staticCount=e,n}function Re(t="",e=!1){return e?(ct(),Ue(Ln,null,t)):Zt(Ln,null,t)}function xr(t){return t==null||typeof t=="boolean"?Zt(Ln):Et(t)?Zt(Ce,null,t.slice()):Xs(t)?Zl(t):Zt(Po,null,String(t))}function Zl(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Qs(t)}function W4(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Et(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),W4(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!hD(e)?e._ctx=ti:r===3&&ti&&(ti.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Lt(e)?(e={default:e,_ctx:ti},n=32):(e=String(e),i&64?(n=16,e=[to(e)]):n=8);t.children=e,t.shapeFlag|=n}function Qm(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=rn([e.class,i.class]));else if(r==="style")e.style=Aa([e.style,i.style]);else if(wu(r)){const s=e[r],o=i[r];o&&s!==o&&!(Et(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function Er(t,e,n,i=null){Gr(t,e,7,[n,i])}const Qft=lD();let tmt=0;function jD(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||Qft,s={uid:tmt++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new av(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:dD(i,r),emitsOptions:TD(i,r),emit:null,emitted:null,propsDefaults:se,inheritAttrs:i.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Gft.bind(null,s),t.ce&&t.ce(s),s}let Pn=null;const Dn=()=>Pn||ti;let Yv,H4;{const t=sv(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};Yv=e("__VUE_INSTANCE_SETTERS__",n=>Pn=n),H4=e("__VUE_SSR_SETTERS__",n=>Bp=n)}const Ou=t=>{const e=Pn;return Yv(t),t.scope.on(),()=>{t.scope.off(),Yv(e)}},q4=()=>{Pn&&Pn.scope.off(),Yv(null)};function $D(t){return t.vnode.shapeFlag&4}let Bp=!1;function FD(t,e=!1,n=!1){e&&H4(e);const{props:i,children:r}=t.vnode,s=$D(t);Rft(t,i,s,e),jft(t,r,n);const o=s?emt(t,e):void 0;return e&&H4(!1),o}function emt(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,I4);const{setup:i}=n;if(i){Ma();const r=t.setupContext=i.length>1?BD(t):null,s=Ou(t),o=Bl(i,t,0,[t.props,r]),a=WS(o);if(Ta(),s(),(a||t.sp)&&!Hl(t)&&m4(t),a){if(o.then(q4,q4),e)return o.then(l=>{Y4(t,l,e)}).catch(l=>{zl(l,t,0)});t.asyncDep=o}else Y4(t,o,e)}else GD(t,e)}function Y4(t,e,n){Lt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ke(e)&&(t.setupState=gv(e)),GD(t,n)}let Zv,Z4;function J4(t){Zv=t,Z4=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Aft))}}const UD=()=>!Zv;function GD(t,e,n){const i=t.type;if(!t.render){if(!e&&Zv&&!i.render){const r=i.template||O4(t).template;if(r){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=oe(oe({isCustomElement:s,delimiters:a},o),l);i.render=Zv(r,c)}}t.render=i.render||ai,Z4&&Z4(t)}{const r=Ou(t);Ma();try{Mft(t)}finally{Ta(),r()}}}const nmt={get(t,e){return Ri(t,"get",""),t[e]}};function BD(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,nmt),slots:t.slots,emit:t.emit,expose:e}}function t0(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(gv(Je(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in qm)return qm[n](t)},has(e,n){return n in e||n in qm}})):t.proxy}const imt=/(?:^|[-_])(\w)/g,rmt=t=>t.replace(imt,e=>e.toUpperCase()).replace(/[-_]/g,"");function Jv(t,e=!0){return Lt(t)?t.displayName||t.name:t.name||e&&t.__name}function zD(t,e,n=!1){let i=Jv(e);if(!i&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(i=r[1])}if(!i&&t&&t.parent){const r=s=>{for(const o in s)if(s[o]===e)return o};i=r(t.components||t.parent.type.components)||r(t.appContext.components)}return i?rmt(i):n?"App":"Anonymous"}function smt(t){return Lt(t)&&"__vccOpts"in t}const Xt=(t,e)=>tft(t,e,Bp);function Br(t,e,n){const i=arguments.length;return i===2?ke(e)&&!Et(e)?Xs(e)?Zt(t,null,[e]):Zt(t,e):Zt(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Xs(n)&&(n=[n]),Zt(t,e,n))}function VD(){}function WD(t,e,n,i){const r=n[i];if(r&&X4(r,t))return r;const s=e();return s.memo=t.slice(),s.cacheIndex=i,n[i]=s}function X4(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(tr(n[i],e[i]))return!1;return Nu>0&&Pi&&Pi.push(t),!0}const K4="3.5.13",HD=ai,qD=cft,YD=$p,ZD=g7,omt={createComponentInstance:jD,setupComponent:FD,renderComponentRoot:zv,setCurrentRenderingInstance:Fm,isVNode:Xs,normalizeVNode:xr,getComponentPublicInstance:t0,ensureValidVNode:A4,pushWarningContext:nft,popWarningContext:ift},JD=omt,XD=null,KD=null,QD=null;let Q4;const tj=typeof window<"u"&&window.trustedTypes;if(tj)try{Q4=tj.createPolicy("vue",{createHTML:t=>t})}catch{}const ej=Q4?t=>Q4.createHTML(t):t=>t,amt="http://www.w3.org/2000/svg",lmt="http://www.w3.org/1998/Math/MathML",La=typeof document<"u"?document:null,nj=La&&La.createElement("template"),cmt={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?La.createElementNS(amt,t):e==="mathml"?La.createElementNS(lmt,t):n?La.createElement(t,{is:n}):La.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>La.createTextNode(t),createComment:t=>La.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>La.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{nj.innerHTML=ej(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=nj.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Jl="transition",e0="animation",zp=Symbol("_vtc"),ij={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},rj=oe({},Ov,ij),umt=t=>(t.displayName="Transition",t.props=rj,t),n0=umt((t,{slots:e})=>Br(p4,oj(t),e)),ku=(t,e=[])=>{Et(t)?t.forEach(n=>n(...e)):t&&t(...e)},sj=t=>t?Et(t)?t.some(e=>e.length>1):t.length>1:!1;function oj(t){const e={};for(const F in t)F in ij||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:p=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,g=hmt(r),b=g&&g[0],x=g&&g[1],{onBeforeEnter:A,onEnter:M,onEnterCancelled:_,onLeave:w,onLeaveCancelled:T,onBeforeAppear:I=A,onAppear:O=M,onAppearCancelled:k=_}=e,R=(F,U,Y,u)=>{F._enterCancelled=u,Xl(F,U?p:a),Xl(F,U?c:o),Y&&Y()},j=(F,U)=>{F._isLeaving=!1,Xl(F,d),Xl(F,y),Xl(F,f),U&&U()},z=F=>(U,Y)=>{const u=F?O:M,m=()=>R(U,F,Y);ku(u,[U,m]),aj(()=>{Xl(U,F?l:s),Do(U,F?p:a),sj(u)||lj(U,i,b,m)})};return oe(e,{onBeforeEnter(F){ku(A,[F]),Do(F,s),Do(F,o)},onBeforeAppear(F){ku(I,[F]),Do(F,l),Do(F,c)},onEnter:z(!1),onAppear:z(!0),onLeave(F,U){F._isLeaving=!0;const Y=()=>j(F,U);Do(F,d),F._enterCancelled?(Do(F,f),eA()):(eA(),Do(F,f)),aj(()=>{F._isLeaving&&(Xl(F,d),Do(F,y),sj(w)||lj(F,i,x,Y))}),ku(w,[F,Y])},onEnterCancelled(F){R(F,!1,void 0,!0),ku(_,[F])},onAppearCancelled(F){R(F,!0,void 0,!0),ku(k,[F])},onLeaveCancelled(F){j(F),ku(T,[F])}})}function hmt(t){if(t==null)return null;if(ke(t))return[tA(t.enter),tA(t.leave)];{const e=tA(t);return[e,e]}}function tA(t){return rv(t)}function Do(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[zp]||(t[zp]=new Set)).add(e)}function Xl(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[zp];n&&(n.delete(e),n.size||(t[zp]=void 0))}function aj(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let pmt=0;function lj(t,e,n,i){const r=t._endId=++pmt,s=()=>{r===t._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=cj(t,e);if(!o)return i();const c=o+"end";let p=0;const d=()=>{t.removeEventListener(c,f),s()},f=y=>{y.target===t&&++p>=l&&d()};setTimeout(()=>{p<l&&d()},a+1),t.addEventListener(c,f)}function cj(t,e){const n=window.getComputedStyle(t),i=g=>(n[g]||"").split(", "),r=i(`${Jl}Delay`),s=i(`${Jl}Duration`),o=uj(r,s),a=i(`${e0}Delay`),l=i(`${e0}Duration`),c=uj(a,l);let p=null,d=0,f=0;e===Jl?o>0&&(p=Jl,d=o,f=s.length):e===e0?c>0&&(p=e0,d=c,f=l.length):(d=Math.max(o,c),p=d>0?o>c?Jl:e0:null,f=p?p===Jl?s.length:l.length:0);const y=p===Jl&&/\b(transform|all)(,|$)/.test(i(`${Jl}Property`).toString());return{type:p,timeout:d,propCount:f,hasTransform:y}}function uj(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>hj(n)+hj(t[i])))}function hj(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function eA(){return document.body.offsetHeight}function dmt(t,e,n){const i=t[zp];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Xv=Symbol("_vod"),pj=Symbol("_vsh"),i0={beforeMount(t,{value:e},{transition:n}){t[Xv]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):r0(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),r0(t,!0),i.enter(t)):i.leave(t,()=>{r0(t,!1)}):r0(t,e))},beforeUnmount(t,{value:e}){r0(t,e)}};function r0(t,e){t.style.display=e?t[Xv]:"none",t[pj]=!e}function fmt(){i0.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const dj=Symbol("");function nA(t){const e=Dn();if(!e)return;const n=e.ut=(r=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Kv(s,r))},i=()=>{const r=t(e.proxy);e.ce?Kv(e.ce,r):iA(e.subTree,r),n(r)};Dv(()=>{jp(i)}),li(()=>{Wn(i,ai,{flush:"post"});const r=new MutationObserver(i);r.observe(e.subTree.el.parentNode,{childList:!0}),ql(()=>r.disconnect())})}function iA(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{iA(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Kv(t.el,e);else if(t.type===Ce)t.children.forEach(n=>iA(n,e));else if(t.type===Yl){let{el:n,anchor:i}=t;for(;n&&(Kv(n,e),n!==i);)n=n.nextSibling}}function Kv(t,e){if(t.nodeType===1){const n=t.style;let i="";for(const r in e)n.setProperty(`--${r}`,e[r]),i+=`--${r}: ${e[r]};`;n[dj]=i}}const mmt=/(^|;)\s*display\s*:/;function ymt(t,e,n){const i=t.style,r=Vt(n);let s=!1;if(n&&!r){if(e)if(Vt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Qv(i,a,"")}else for(const o in e)n[o]==null&&Qv(i,o,"");for(const o in n)o==="display"&&(s=!0),Qv(i,o,n[o])}else if(r){if(e!==n){const o=i[dj];o&&(n+=";"+o),i.cssText=n,s=mmt.test(n)}}else e&&t.removeAttribute("style");Xv in t&&(t[Xv]=s?i.display:"",t[pj]&&(i.display="none"))}const fj=/\s*!important$/;function Qv(t,e,n){if(Et(n))n.forEach(i=>Qv(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=gmt(t,e);fj.test(n)?t.setProperty(br(i),n.replace(fj,""),"important"):t[i]=n}}const mj=["Webkit","Moz","ms"],rA={};function gmt(t,e){const n=rA[e];if(n)return n;let i=Be(e);if(i!=="filter"&&i in t)return rA[e]=i;i=$l(i);for(let r=0;r<mj.length;r++){const s=mj[r]+i;if(s in t)return rA[e]=s}return e}const yj="http://www.w3.org/1999/xlink";function gj(t,e,n,i,r,s=Mdt(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(yj,e.slice(6,e.length)):t.setAttributeNS(yj,e,n):n==null||s&&!P9(n)?t.removeAttribute(e):t.setAttribute(e,s?"":vr(n)?String(n):n)}function vj(t,e,n,i,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?ej(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=P9(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Pa(t,e,n,i){t.addEventListener(e,n,i)}function vmt(t,e,n,i){t.removeEventListener(e,n,i)}const bj=Symbol("_vei");function bmt(t,e,n,i,r=null){const s=t[bj]||(t[bj]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=wmt(e);if(i){const c=s[e]=Emt(i,r);Pa(t,a,c,l)}else o&&(vmt(t,a,o,l),s[e]=void 0)}}const wj=/(?:Once|Passive|Capture)$/;function wmt(t){let e;if(wj.test(t)){e={};let n;for(;n=t.match(wj);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):br(t.slice(2)),e]}let sA=0;const _mt=Promise.resolve(),xmt=()=>sA||(_mt.then(()=>sA=0),sA=Date.now());function Emt(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Gr(Smt(i,n.value),e,5,[i])};return n.value=t,n.attached=xmt(),n}function Smt(t,e){if(Et(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const _j=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Amt=(t,e,n,i,r,s)=>{const o=r==="svg";e==="class"?dmt(t,i,o):e==="style"?ymt(t,n,i):wu(e)?zS(e)||bmt(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Mmt(t,e,i,o))?(vj(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&gj(t,e,i,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Vt(i))?vj(t,Be(e),i,s,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),gj(t,e,i,o))};function Mmt(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&_j(e)&&Lt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return _j(e)&&Vt(n)?!1:e in t}const xj={};function oA(t,e,n){const i=ne(t,e);ev(i)&&oe(i,e);class r extends X0{constructor(o){super(i,o,n)}}return r.def=i,r}const Ej=(t,e)=>oA(t,e,cA),Tmt=typeof HTMLElement<"u"?HTMLElement:class{};class X0 extends Tmt{constructor(e,n={},i=Ql){super(),this._def=e,this._props=n,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==Ql?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof X0){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,fs(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const r of i)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,r=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=i;let a;if(s&&!Et(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=rv(this._props[l])),(a||(a=Object.create(null)))[Be(l)]=!0)}this._numberProps=a,r&&this._resolveProps(i),this.shadowRoot&&this._applyStyles(o),this._mount(i)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(i=>e(this._def=i,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const i in n)xe(this,i)||Object.defineProperty(this,i,{get:()=>St(n[i])})}_resolveProps(e){const{props:n}=e,i=Et(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&i.includes(r)&&this._setProp(r,this[r]);for(const r of i.map(Be))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(s){this._setProp(r,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let i=n?this.getAttribute(e):xj;const r=Be(e);n&&this._numberProps&&this._numberProps[r]&&(i=rv(i)),this._setProp(r,i,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,i=!0,r=!1){if(n!==this._props[e]&&(n===xj?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),r&&this._instance&&this._update(),i)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(br(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(br(e),n+""):n||this.removeAttribute(br(e)),s&&s.observe(this,{attributes:!0})}}_update(){qp(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Zt(this._def,oe(e,this._props));return this._instance||(n.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,ev(o[0])?oe({detail:o},o[0]):{detail:o}))};i.emit=(s,...o)=>{r(s,o),br(s)!==s&&r(br(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const i=this._nonce;for(let r=e.length-1;r>=0;r--){const s=document.createElement("style");i&&s.setAttribute("nonce",i),s.textContent=e[r],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const i=n.nodeType===1&&n.getAttribute("slot")||"default";(e[i]||(e[i]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let i=0;i<e.length;i++){const r=e[i],s=r.getAttribute("name")||"default",o=this._slots[s],a=r.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const c=n+"-s",p=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=p.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,r)}else for(;r.firstChild;)a.insertBefore(r.firstChild,r);a.removeChild(r)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function aA(t){const e=Dn();return e&&e.ce||null}function Sj(){const t=aA();return t&&t.shadowRoot}function Aj(t="$style"){{const e=Dn();if(!e)return se;const n=e.type.__cssModules;return n&&n[t]||se}}const Mj=new WeakMap,Tj=new WeakMap,tb=Symbol("_moveCb"),Ij=Symbol("_enterCb"),Imt=t=>(delete t.props.mode,t),Nmt=Imt({name:"TransitionGroup",props:oe({},rj,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Dn(),i=Nv();let r,s;return Mu(()=>{if(!r.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Rmt(r[0].el,n.vnode.el,o))return;r.forEach(Omt),r.forEach(kmt);const a=r.filter(Cmt);eA(),a.forEach(l=>{const c=l.el,p=c.style;Do(c,o),p.transform=p.webkitTransform=p.transitionDuration="";const d=c[tb]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[tb]=null,Xl(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Dt(t),a=oj(o);let l=o.tag||Ce;if(r=[],s)for(let c=0;c<s.length;c++){const p=s[c];p.el&&p.el instanceof Element&&(r.push(p),Lo(p,Au(p,a,i,n)),Mj.set(p,p.el.getBoundingClientRect()))}s=e.default?Gm(e.default()):[];for(let c=0;c<s.length;c++){const p=s[c];p.key!=null&&Lo(p,Au(p,a,i,n))}return Zt(l,null,s)}}}),eb=Nmt;function Omt(t){const e=t.el;e[tb]&&e[tb](),e[Ij]&&e[Ij]()}function kmt(t){Tj.set(t,t.el.getBoundingClientRect())}function Cmt(t){const e=Mj.get(t),n=Tj.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",t}}function Rmt(t,e,n){const i=t.cloneNode(),r=t[zp];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:o}=cj(i);return s.removeChild(i),o}const Kl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Et(e)?n=>Op(e,n):e};function Lmt(t){t.target.composing=!0}function Nj(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vs=Symbol("_assign"),Vp={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[vs]=Kl(r);const s=i||r.props&&r.props.type==="number";Pa(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=iv(a)),t[vs](a)}),n&&Pa(t,"change",()=>{t.value=t.value.trim()}),e||(Pa(t,"compositionstart",Lmt),Pa(t,"compositionend",Nj),Pa(t,"change",Nj))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(t[vs]=Kl(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?iv(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||r&&t.value.trim()===l)||(t.value=l))}},nb={deep:!0,created(t,e,n){t[vs]=Kl(n),Pa(t,"change",()=>{const i=t._modelValue,r=Wp(t),s=t.checked,o=t[vs];if(Et(i)){const a=ov(i,r),l=a!==-1;if(s&&!l)o(i.concat(r));else if(!s&&l){const c=[...i];c.splice(a,1),o(c)}}else if(_u(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(Cj(t,s))})},mounted:Oj,beforeUpdate(t,e,n){t[vs]=Kl(n),Oj(t,e,n)}};function Oj(t,{value:e,oldValue:n},i){t._modelValue=e;let r;if(Et(e))r=ov(e,i.props.value)>-1;else if(_u(e))r=e.has(i.props.value);else{if(e===n)return;r=Fl(e,Cj(t,!0))}t.checked!==r&&(t.checked=r)}const ib={created(t,{value:e},n){t.checked=Fl(e,n.props.value),t[vs]=Kl(n),Pa(t,"change",()=>{t[vs](Wp(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t[vs]=Kl(i),e!==n&&(t.checked=Fl(e,i.props.value))}},rb={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const r=_u(e);Pa(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?iv(Wp(o)):Wp(o));t[vs](t.multiple?r?new Set(s):s:s[0]),t._assigning=!0,fs(()=>{t._assigning=!1})}),t[vs]=Kl(i)},mounted(t,{value:e}){kj(t,e)},beforeUpdate(t,e,n){t[vs]=Kl(n)},updated(t,{value:e}){t._assigning||kj(t,e)}};function kj(t,e){const n=t.multiple,i=Et(e);if(!(n&&!i&&!_u(e))){for(let r=0,s=t.options.length;r<s;r++){const o=t.options[r],a=Wp(o);if(n)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=ov(e,a)>-1}else o.selected=e.has(a);else if(Fl(Wp(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Wp(t){return"_value"in t?t._value:t.value}function Cj(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const lA={created(t,e,n){sb(t,e,n,null,"created")},mounted(t,e,n){sb(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){sb(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){sb(t,e,n,i,"updated")}};function Rj(t,e){switch(t){case"SELECT":return rb;case"TEXTAREA":return Vp;default:switch(e){case"checkbox":return nb;case"radio":return ib;default:return Vp}}}function sb(t,e,n,i,r){const s=Rj(t.tagName,n.props&&n.props.type)[r];s&&s(t,e,n,i)}function Pmt(){Vp.getSSRProps=({value:t})=>({value:t}),ib.getSSRProps=({value:t},e)=>{if(e.props&&Fl(e.props.value,t))return{checked:!0}},nb.getSSRProps=({value:t},e)=>{if(Et(t)){if(e.props&&ov(t,e.props.value)>-1)return{checked:!0}}else if(_u(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},lA.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=Rj(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const Dmt=["ctrl","shift","alt","meta"],jmt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Dmt.some(n=>t[`${n}Key`]&&!e.includes(n))},Hp=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<e.length;o++){const a=jmt[e[o]];if(a&&a(r,e))return}return t(r,...s)})},$mt={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ob=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const s=br(r.key);if(e.some(o=>o===s||$mt[o]===s))return t(r)})},Lj=oe({patchProp:Amt},cmt);let s0,Pj=!1;function Dj(){return s0||(s0=P4(Lj))}function jj(){return s0=Pj?s0:D4(Lj),Pj=!0,s0}const qp=(...t)=>{Dj().render(...t)},$j=(...t)=>{jj().hydrate(...t)},Ql=(...t)=>{const e=Dj().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=Uj(i);if(!r)return;const s=e._component;!Lt(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Fj(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e},cA=(...t)=>{const e=jj().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=Uj(i);if(r)return n(r,!0,Fj(r))},e};function Fj(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Uj(t){return Vt(t)?document.querySelector(t):t}let Gj=!1;const Bj=()=>{Gj||(Gj=!0,Pmt(),fmt())},Fmt=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:p4,BaseTransitionPropsValidators:Ov,Comment:Ln,DeprecationTypes:QD,EffectScope:av,ErrorCodes:p7,ErrorTypeStrings:qD,Fragment:Ce,KeepAlive:$7,ReactiveEffect:kp,Static:Yl,Suspense:ND,Teleport:h4,Text:Po,TrackOpTypes:a7,Transition:n0,TransitionGroup:eb,TriggerOpTypes:l7,VueElement:X0,assertNumber:h7,callWithAsyncErrorHandling:Gr,callWithErrorHandling:Bl,camelize:Be,capitalize:$l,cloneVNode:Qs,compatUtils:KD,computed:Xt,createApp:Ql,createBlock:Ue,createCommentVNode:Re,createElementBlock:gt,createElementVNode:rt,createHydrationRenderer:D4,createPropsRestProxy:nD,createRenderer:P4,createSSRApp:cA,createSlots:B7,createStaticVNode:V4,createTextVNode:to,createVNode:Zt,customRef:o4,defineAsyncComponent:Rv,defineComponent:ne,defineCustomElement:oA,defineEmits:W7,defineExpose:H7,defineModel:Z7,defineOptions:q7,defineProps:V7,defineSSRCustomElement:Ej,defineSlots:Y7,devtools:YD,effect:z9,effectScope:km,getCurrentInstance:Dn,getCurrentScope:lv,getCurrentWatcher:c7,getTransitionRawChildren:Gm,guardReactiveProps:z4,h:Br,handleError:zl,hasInjectionContext:C4,hydrate:$j,hydrateOnIdle:L7,hydrateOnInteraction:j7,hydrateOnMediaQuery:D7,hydrateOnVisible:P7,initCustomFormatter:VD,initDirectivesForSSR:Bj,inject:Rn,isMemoSame:X4,isProxy:jm,isReactive:wr,isReadonly:Oa,isRef:ae,isRuntimeOnly:UD,isShallow:_r,isVNode:Xs,markRaw:Je,mergeDefaults:tD,mergeModels:eD,mergeProps:Qm,nextTick:fs,normalizeClass:rn,normalizeProps:L9,normalizeStyle:Aa,onActivated:g4,onBeforeMount:Hm,onBeforeUnmount:ys,onBeforeUpdate:Dv,onDeactivated:v4,onErrorCaptured:jv,onMounted:li,onRenderTracked:x4,onRenderTriggered:_4,onScopeDispose:YS,onServerPrefetch:w4,onUnmounted:ql,onUpdated:Mu,onWatcherCleanup:a4,openBlock:ct,popScopeId:b7,provide:Uv,proxyRefs:gv,pushScopeId:v7,queuePostFlushCb:jp,reactive:Qn,readonly:mv,ref:Q,registerRuntimeCompiler:J4,render:qp,renderList:Ra,renderSlot:gs,resolveComponent:Tn,resolveDirective:Ae,resolveDynamicComponent:$v,resolveFilter:XD,resolveTransitionHooks:Au,setBlockTracking:Hv,setDevtoolsHook:ZD,setTransitionHooks:Lo,shallowReactive:r4,shallowReadonly:Rp,shallowRef:Lp,ssrContextKey:F4,ssrUtils:JD,stop:V9,toDisplayString:Ee,toHandlerKey:xu,toHandlers:z7,toRaw:Dt,toRef:bv,toRefs:vv,toValue:s7,transformVNodeArgs:PD,triggerRef:r7,unref:St,useAttrs:K7,useCssModule:Aj,useCssVars:nA,useHost:aA,useId:f4,useModel:AD,useSSRContext:U4,useShadowRoot:Sj,useSlots:X7,useTemplateRef:Bm,useTransitionState:Nv,vModelCheckbox:nb,vModelDynamic:lA,vModelRadio:ib,vModelSelect:rb,vModelText:Vp,vShow:i0,version:K4,warn:HD,watch:Wn,watchEffect:xD,watchPostEffect:ED,watchSyncEffect:G4,withAsyncContext:iD,withCtx:Mn,withDefaults:J7,withDirectives:Se,withKeys:ob,withMemo:WD,withModifiers:Hp,withScopeId:w7},Symbol.toStringTag,{value:"Module"})),o0=Symbol(""),a0=Symbol(""),uA=Symbol(""),ab=Symbol(""),zj=Symbol(""),Cu=Symbol(""),Vj=Symbol(""),Wj=Symbol(""),hA=Symbol(""),pA=Symbol(""),l0=Symbol(""),dA=Symbol(""),Hj=Symbol(""),fA=Symbol(""),mA=Symbol(""),yA=Symbol(""),gA=Symbol(""),vA=Symbol(""),bA=Symbol(""),qj=Symbol(""),Yj=Symbol(""),lb=Symbol(""),cb=Symbol(""),wA=Symbol(""),_A=Symbol(""),c0=Symbol(""),u0=Symbol(""),xA=Symbol(""),EA=Symbol(""),Umt=Symbol(""),SA=Symbol(""),ub=Symbol(""),Gmt=Symbol(""),Bmt=Symbol(""),AA=Symbol(""),zmt=Symbol(""),Vmt=Symbol(""),MA=Symbol(""),Zj=Symbol(""),Yp={[o0]:"Fragment",[a0]:"Teleport",[uA]:"Suspense",[ab]:"KeepAlive",[zj]:"BaseTransition",[Cu]:"openBlock",[Vj]:"createBlock",[Wj]:"createElementBlock",[hA]:"createVNode",[pA]:"createElementVNode",[l0]:"createCommentVNode",[dA]:"createTextVNode",[Hj]:"createStaticVNode",[fA]:"resolveComponent",[mA]:"resolveDynamicComponent",[yA]:"resolveDirective",[gA]:"resolveFilter",[vA]:"withDirectives",[bA]:"renderList",[qj]:"renderSlot",[Yj]:"createSlots",[lb]:"toDisplayString",[cb]:"mergeProps",[wA]:"normalizeClass",[_A]:"normalizeStyle",[c0]:"normalizeProps",[u0]:"guardReactiveProps",[xA]:"toHandlers",[EA]:"camelize",[Umt]:"capitalize",[SA]:"toHandlerKey",[ub]:"setBlockTracking",[Gmt]:"pushScopeId",[Bmt]:"popScopeId",[AA]:"withCtx",[zmt]:"unref",[Vmt]:"isRef",[MA]:"withMemo",[Zj]:"isMemoSame"};function Wmt(t){Object.getOwnPropertySymbols(t).forEach(e=>{Yp[e]=t[e]})}const zr={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Hmt(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:zr}}function h0(t,e,n,i,r,s,o,a=!1,l=!1,c=!1,p=zr){return t&&(a?(t.helper(Cu),t.helper(Xp(t.inSSR,c))):t.helper(Jp(t.inSSR,c)),o&&t.helper(vA)),{type:13,tag:e,props:n,children:i,patchFlag:r,dynamicProps:s,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:p}}function Ru(t,e=zr){return{type:17,loc:e,elements:t}}function bs(t,e=zr){return{type:15,loc:e,properties:t}}function jn(t,e){return{type:16,loc:zr,key:Vt(t)?Qt(t,!0):t,value:e}}function Qt(t,e=!1,n=zr,i=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:i}}function eo(t,e=zr){return{type:8,loc:e,children:t}}function ni(t,e=[],n=zr){return{type:14,loc:n,callee:t,arguments:e}}function Zp(t,e=void 0,n=!1,i=!1,r=zr){return{type:18,params:t,returns:e,newline:n,isSlot:i,loc:r}}function TA(t,e,n,i=!0){return{type:19,test:t,consequent:e,alternate:n,newline:i,loc:zr}}function qmt(t,e,n=!1,i=!1){return{type:20,index:t,value:e,needPauseTracking:n,inVOnce:i,needArraySpread:!1,loc:zr}}function Ymt(t){return{type:21,body:t,loc:zr}}function Jp(t,e){return t||e?hA:pA}function Xp(t,e){return t||e?Vj:Wj}function IA(t,{helper:e,removeHelper:n,inSSR:i}){t.isBlock||(t.isBlock=!0,n(Jp(i,t.isComponent)),e(Cu),e(Xp(i,t.isComponent)))}const Jj=new Uint8Array([123,123]),Xj=new Uint8Array([125,125]);function Kj(t){return t>=97&&t<=122||t>=65&&t<=90}function Vr(t){return t===32||t===10||t===9||t===12||t===13}function tc(t){return t===47||t===62||Vr(t)}function hb(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const Di={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let Zmt=class{constructor(t,e){this.stack=t,this.cbs=e,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=Jj,this.delimiterClose=Xj,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=Jj,this.delimiterClose=Xj}getPos(t){let e=1,n=t+1;for(let i=this.newlines.length-1;i>=0;i--){const r=this.newlines[i];if(t>r){e=i+2,n=t-r;break}}return{column:n,line:e,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const e=this.index+1-this.delimiterOpen.length;e>this.sectionStart&&this.cbs.ontext(this.sectionStart,e),this.state=3,this.sectionStart=e}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const e=this.sequenceIndex===this.currentSequence.length;if(!(e?tc(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!e){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||Vr(t)){const e=this.index-this.currentSequence.length;if(this.sectionStart<e){const n=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=n}this.sectionStart=e+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Di.TitleEnd||this.currentSequence===Di.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===Di.Cdata[this.sequenceIndex]?++this.sequenceIndex===Di.Cdata.length&&(this.state=28,this.currentSequence=Di.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);if(e===10&&this.newlines.push(this.index),e===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Di.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,e){this.enterRCDATA(t,e),this.state=31}enterRCDATA(t,e){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=e}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):Kj(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){tc(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(tc(t)){const e=this.buffer.slice(this.sectionStart,this.index);e!=="template"&&this.enterRCDATA(hb("</"+e),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){Vr(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Kj(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||Vr(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Vr(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Vr(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||tc(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||tc(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||tc(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||tc(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||tc(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):Vr(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):Vr(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,e){(t===e||this.fastForwardTo(e))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){Vr(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=Di.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===Di.ScriptEnd[3]?this.startSpecial(Di.ScriptEnd,4):t===Di.StyleEnd[3]?this.startSpecial(Di.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===Di.TitleEnd[3]?this.startSpecial(Di.TitleEnd,4):t===Di.TextareaEnd[3]?this.startSpecial(Di.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);switch(e===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(e);break}case 2:{this.stateInterpolationOpen(e);break}case 3:{this.stateInterpolation(e);break}case 4:{this.stateInterpolationClose(e);break}case 31:{this.stateSpecialStartSequence(e);break}case 32:{this.stateInRCDATA(e);break}case 26:{this.stateCDATASequence(e);break}case 19:{this.stateInAttrValueDoubleQuotes(e);break}case 12:{this.stateInAttrName(e);break}case 13:{this.stateInDirName(e);break}case 14:{this.stateInDirArg(e);break}case 15:{this.stateInDynamicDirArg(e);break}case 16:{this.stateInDirModifier(e);break}case 28:{this.stateInCommentLike(e);break}case 27:{this.stateInSpecialComment(e);break}case 11:{this.stateBeforeAttrName(e);break}case 6:{this.stateInTagName(e);break}case 34:{this.stateInSFCRootTagName(e);break}case 9:{this.stateInClosingTagName(e);break}case 5:{this.stateBeforeTagName(e);break}case 17:{this.stateAfterAttrName(e);break}case 20:{this.stateInAttrValueSingleQuotes(e);break}case 18:{this.stateBeforeAttrValue(e);break}case 8:{this.stateBeforeClosingTagName(e);break}case 10:{this.stateAfterClosingTagName(e);break}case 29:{this.stateBeforeSpecialS(e);break}case 30:{this.stateBeforeSpecialT(e);break}case 21:{this.stateInAttrValueNoQuotes(e);break}case 7:{this.stateInSelfClosingTag(e);break}case 23:{this.stateInDeclaration(e);break}case 22:{this.stateBeforeDeclaration(e);break}case 25:{this.stateBeforeComment(e);break}case 24:{this.stateInProcessingInstruction(e);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===Di.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,e){}};function Qj(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function Lu(t,e){const n=Qj("MODE",e),i=Qj(t,e);return n===3?i===!0:i!==!1}function p0(t,e,n,...i){return Lu(t,e)}function NA(t){throw t}function t$(t){}function sn(t,e,n,i){const r=`https://vuejs.org/error-reference/#compiler-${t}`,s=new SyntaxError(String(r));return s.code=t,s.loc=e,s}const Sr=t=>t.type===4&&t.isStatic;function e$(t){switch(t){case"Teleport":case"teleport":return a0;case"Suspense":case"suspense":return uA;case"KeepAlive":case"keep-alive":return ab;case"BaseTransition":case"base-transition":return zj}}const Jmt=/^\d|[^\$\w\xA0-\uFFFF]/,OA=t=>!Jmt.test(t),Xmt=/[A-Za-z_$\xA0-\uFFFF]/,Kmt=/[\.\?\w$\xA0-\uFFFF]/,Qmt=/\s+[.[]\s*|\s*[.[]\s+/g,n$=t=>t.type===4?t.content:t.loc.source,t0t=t=>{const e=n$(t).trim().replace(Qmt,a=>a.trim());let n=0,i=[],r=0,s=0,o=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(n){case 0:if(l==="[")i.push(n),n=1,r++;else if(l==="(")i.push(n),n=2,s++;else if(!(a===0?Xmt:Kmt).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(i.push(n),n=3,o=l):l==="["?r++:l==="]"&&(--r||(n=i.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")i.push(n),n=3,o=l;else if(l==="(")s++;else if(l===")"){if(a===e.length-1)return!1;--s||(n=i.pop())}break;case 3:l===o&&(n=i.pop(),o=null);break}}return!r&&!s},i$=t0t,e0t=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,n0t=t=>e0t.test(n$(t)),i0t=n0t;function ws(t,e,n=!1){for(let i=0;i<t.props.length;i++){const r=t.props[i];if(r.type===7&&(n||r.exp)&&(Vt(e)?r.name===e:e.test(r.name)))return r}}function pb(t,e,n=!1,i=!1){for(let r=0;r<t.props.length;r++){const s=t.props[r];if(s.type===6){if(n)continue;if(s.name===e&&(s.value||i))return s}else if(s.name==="bind"&&(s.exp||i)&&Pu(s.arg,e))return s}}function Pu(t,e){return!!(t&&Sr(t)&&t.content===e)}function r0t(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function kA(t){return t.type===5||t.type===2}function s0t(t){return t.type===7&&t.name==="slot"}function db(t){return t.type===1&&t.tagType===3}function fb(t){return t.type===1&&t.tagType===2}const o0t=new Set([c0,u0]);function r$(t,e=[]){if(t&&!Vt(t)&&t.type===14){const n=t.callee;if(!Vt(n)&&o0t.has(n))return r$(t.arguments[0],e.concat(t))}return[t,e]}function mb(t,e,n){let i,r=t.type===13?t.props:t.arguments[2],s=[],o;if(r&&!Vt(r)&&r.type===14){const a=r$(r);r=a[0],s=a[1],o=s[s.length-1]}if(r==null||Vt(r))i=bs([e]);else if(r.type===14){const a=r.arguments[0];!Vt(a)&&a.type===15?s$(e,a)||a.properties.unshift(e):r.callee===xA?i=ni(n.helper(cb),[bs([e]),r]):r.arguments.unshift(bs([e])),!i&&(i=r)}else r.type===15?(s$(e,r)||r.properties.unshift(e),i=r):(i=ni(n.helper(cb),[bs([e]),r]),o&&o.callee===u0&&(o=s[s.length-2]));t.type===13?o?o.arguments[0]=i:t.props=i:o?o.arguments[0]=i:t.arguments[2]=i}function s$(t,e){let n=!1;if(t.key.type===4){const i=t.key.content;n=e.properties.some(r=>r.key.type===4&&r.key.content===i)}return n}function d0(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,i)=>n==="-"?"_":t.charCodeAt(i).toString())}`}function a0t(t){return t.type===14&&t.callee===MA?t.arguments[1].returns:t}const l0t=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,o$={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Om,isPreTag:Om,isIgnoreNewlineTag:Om,isCustomElement:Om,onError:NA,onWarn:t$,comments:!1,prefixIdentifiers:!1};let Me=o$,f0=null,Da="",ji=null,ue=null,Ar="",ja=-1,Du=-1,CA=0,ec=!1,RA=null;const on=[],In=new Zmt(on,{onerr:$a,ontext(t,e){yb(wi(t,e),t,e)},ontextentity(t,e,n){yb(t,e,n)},oninterpolation(t,e){if(ec)return yb(wi(t,e),t,e);let n=t+In.delimiterOpen.length,i=e-In.delimiterClose.length;for(;Vr(Da.charCodeAt(n));)n++;for(;Vr(Da.charCodeAt(i-1));)i--;let r=wi(n,i);r.includes("&")&&(r=Me.decodeEntities(r,!1)),LA({type:5,content:vb(r,!1,$n(n,i)),loc:$n(t,e)})},onopentagname(t,e){const n=wi(t,e);ji={type:1,tag:n,ns:Me.getNamespace(n,on[0],Me.ns),tagType:0,props:[],children:[],loc:$n(t-1,e),codegenNode:void 0}},onopentagend(t){l$(t)},onclosetag(t,e){const n=wi(t,e);if(!Me.isVoidTag(n)){let i=!1;for(let r=0;r<on.length;r++)if(on[r].tag.toLowerCase()===n.toLowerCase()){i=!0,r>0&&$a(24,on[0].loc.start.offset);for(let s=0;s<=r;s++){const o=on.shift();gb(o,e,s<r)}break}i||$a(23,c$(t,60))}},onselfclosingtag(t){const e=ji.tag;ji.isSelfClosing=!0,l$(t),on[0]&&on[0].tag===e&&gb(on.shift(),t)},onattribname(t,e){ue={type:6,name:wi(t,e),nameLoc:$n(t,e),value:void 0,loc:$n(t)}},ondirname(t,e){const n=wi(t,e),i=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!ec&&i===""&&$a(26,t),ec||i==="")ue={type:6,name:n,nameLoc:$n(t,e),value:void 0,loc:$n(t)};else if(ue={type:7,name:i,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[Qt("prop")]:[],loc:$n(t)},i==="pre"){ec=In.inVPre=!0,RA=ji;const r=ji.props;for(let s=0;s<r.length;s++)r[s].type===7&&(r[s]=b0t(r[s]))}},ondirarg(t,e){if(t===e)return;const n=wi(t,e);if(ec)ue.name+=n,ju(ue.nameLoc,e);else{const i=n[0]!=="[";ue.arg=vb(i?n:n.slice(1,-1),i,$n(t,e),i?3:0)}},ondirmodifier(t,e){const n=wi(t,e);if(ec)ue.name+="."+n,ju(ue.nameLoc,e);else if(ue.name==="slot"){const i=ue.arg;i&&(i.content+="."+n,ju(i.loc,e))}else{const i=Qt(n,!0,$n(t,e));ue.modifiers.push(i)}},onattribdata(t,e){Ar+=wi(t,e),ja<0&&(ja=t),Du=e},onattribentity(t,e,n){Ar+=t,ja<0&&(ja=e),Du=n},onattribnameend(t){const e=ue.loc.start.offset,n=wi(e,t);ue.type===7&&(ue.rawName=n),ji.props.some(i=>(i.type===7?i.rawName:i.name)===n)&&$a(2,e)},onattribend(t,e){if(ji&&ue){if(ju(ue.loc,e),t!==0)if(Ar.includes("&")&&(Ar=Me.decodeEntities(Ar,!0)),ue.type===6)ue.name==="class"&&(Ar=p$(Ar).trim()),t===1&&!Ar&&$a(13,e),ue.value={type:2,content:Ar,loc:t===1?$n(ja,Du):$n(ja-1,Du+1)},In.inSFCRoot&&ji.tag==="template"&&ue.name==="lang"&&Ar&&Ar!=="html"&&In.enterRCDATA(hb("</template"),0);else{let n=0;ue.exp=vb(Ar,!1,$n(ja,Du),0,n),ue.name==="for"&&(ue.forParseResult=u0t(ue.exp));let i=-1;ue.name==="bind"&&(i=ue.modifiers.findIndex(r=>r.content==="sync"))>-1&&p0("COMPILER_V_BIND_SYNC",Me,ue.loc,ue.rawName)&&(ue.name="model",ue.modifiers.splice(i,1))}(ue.type!==7||ue.name!=="pre")&&ji.props.push(ue)}Ar="",ja=Du=-1},oncomment(t,e){Me.comments&&LA({type:3,content:wi(t,e),loc:$n(t-4,e+3)})},onend(){const t=Da.length;for(let e=0;e<on.length;e++)gb(on[e],t-1),$a(24,on[e].loc.start.offset)},oncdata(t,e){on[0].ns!==0?yb(wi(t,e),t,e):$a(1,t-9)},onprocessinginstruction(t){(on[0]?on[0].ns:Me.ns)===0&&$a(21,t-1)}}),a$=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,c0t=/^\(|\)$/g;function u0t(t){const e=t.loc,n=t.content,i=n.match(l0t);if(!i)return;const[,r,s]=i,o=(d,f,y=!1)=>{const g=e.start.offset+f,b=g+d.length;return vb(d,!1,$n(g,b),0,y?1:0)},a={source:o(s.trim(),n.indexOf(s,r.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=r.trim().replace(c0t,"").trim();const c=r.indexOf(l),p=l.match(a$);if(p){l=l.replace(a$,"").trim();const d=p[1].trim();let f;if(d&&(f=n.indexOf(d,c+l.length),a.key=o(d,f,!0)),p[2]){const y=p[2].trim();y&&(a.index=o(y,n.indexOf(y,a.key?f+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function wi(t,e){return Da.slice(t,e)}function l$(t){In.inSFCRoot&&(ji.innerLoc=$n(t+1,t+1)),LA(ji);const{tag:e,ns:n}=ji;n===0&&Me.isPreTag(e)&&CA++,Me.isVoidTag(e)?gb(ji,t):(on.unshift(ji),(n===1||n===2)&&(In.inXML=!0)),ji=null}function yb(t,e,n){{const s=on[0]&&on[0].tag;s!=="script"&&s!=="style"&&t.includes("&")&&(t=Me.decodeEntities(t,!1))}const i=on[0]||f0,r=i.children[i.children.length-1];r&&r.type===2?(r.content+=t,ju(r.loc,n)):i.children.push({type:2,content:t,loc:$n(e,n)})}function gb(t,e,n=!1){n?ju(t.loc,c$(e,60)):ju(t.loc,h0t(e,62)+1),In.inSFCRoot&&(t.children.length?t.innerLoc.end=oe({},t.children[t.children.length-1].loc.end):t.innerLoc.end=oe({},t.innerLoc.start),t.innerLoc.source=wi(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:i,ns:r,children:s}=t;if(ec||(i==="slot"?t.tagType=2:u$(t)?t.tagType=3:d0t(t)&&(t.tagType=1)),In.inRCDATA||(t.children=h$(s)),r===0&&Me.isIgnoreNewlineTag(i)){const o=s[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}r===0&&Me.isPreTag(i)&&CA--,RA===t&&(ec=In.inVPre=!1,RA=null),In.inXML&&(on[0]?on[0].ns:Me.ns)===0&&(In.inXML=!1);{const o=t.props;if(!In.inSFCRoot&&Lu("COMPILER_NATIVE_TEMPLATE",Me)&&t.tag==="template"&&!u$(t)){const l=on[0]||f0,c=l.children.indexOf(t);l.children.splice(c,1,...t.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&p0("COMPILER_INLINE_TEMPLATE",Me,a.loc)&&t.children.length&&(a.value={type:2,content:wi(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function h0t(t,e){let n=t;for(;Da.charCodeAt(n)!==e&&n<Da.length-1;)n++;return n}function c$(t,e){let n=t;for(;Da.charCodeAt(n)!==e&&n>=0;)n--;return n}const p0t=new Set(["if","else","else-if","for","slot"]);function u$({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&p0t.has(e[n].name))return!0}return!1}function d0t({tag:t,props:e}){if(Me.isCustomElement(t))return!1;if(t==="component"||f0t(t.charCodeAt(0))||e$(t)||Me.isBuiltInComponent&&Me.isBuiltInComponent(t)||Me.isNativeTag&&!Me.isNativeTag(t))return!0;for(let n=0;n<e.length;n++){const i=e[n];if(i.type===6){if(i.name==="is"&&i.value&&(i.value.content.startsWith("vue:")||p0("COMPILER_IS_ON_ELEMENT",Me,i.loc)))return!0}else if(i.name==="bind"&&Pu(i.arg,"is")&&p0("COMPILER_IS_ON_ELEMENT",Me,i.loc))return!0}return!1}function f0t(t){return t>64&&t<91}const m0t=/\r\n/g;function h$(t,e){const n=Me.whitespace!=="preserve";let i=!1;for(let r=0;r<t.length;r++){const s=t[r];if(s.type===2)if(CA)s.content=s.content.replace(m0t,`
`);else if(y0t(s.content)){const o=t[r-1]&&t[r-1].type,a=t[r+1]&&t[r+1].type;!o||!a||n&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&g0t(s.content)))?(i=!0,t[r]=null):s.content=" "}else n&&(s.content=p$(s.content))}return i?t.filter(Boolean):t}function y0t(t){for(let e=0;e<t.length;e++)if(!Vr(t.charCodeAt(e)))return!1;return!0}function g0t(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function p$(t){let e="",n=!1;for(let i=0;i<t.length;i++)Vr(t.charCodeAt(i))?n||(e+=" ",n=!0):(e+=t[i],n=!1);return e}function LA(t){(on[0]||f0).children.push(t)}function $n(t,e){return{start:In.getPos(t),end:e==null?e:In.getPos(e),source:e==null?e:wi(t,e)}}function v0t(t){return $n(t.start.offset,t.end.offset)}function ju(t,e){t.end=In.getPos(e),t.source=wi(t.start.offset,e)}function b0t(t){const e={type:6,name:t.rawName,nameLoc:$n(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function vb(t,e=!1,n,i=0,r=0){return Qt(t,e,n,i)}function $a(t,e,n){Me.onError(sn(t,$n(e,e)))}function w0t(){In.reset(),ji=null,ue=null,Ar="",ja=-1,Du=-1,on.length=0}function _0t(t,e){if(w0t(),Da=t,Me=oe({},o$),e){let r;for(r in e)e[r]!=null&&(Me[r]=e[r])}In.mode=Me.parseMode==="html"?1:Me.parseMode==="sfc"?2:0,In.inXML=Me.ns===1||Me.ns===2;const n=e&&e.delimiters;n&&(In.delimiterOpen=hb(n[0]),In.delimiterClose=hb(n[1]));const i=f0=Hmt([],t);return In.parse(Da),i.loc=$n(0,t.length),i.children=h$(i.children),f0=null,i}function x0t(t,e){bb(t,void 0,e,d$(t,t.children[0]))}function d$(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!fb(e)}function bb(t,e,n,i=!1,r=!1){const{children:s}=t,o=[];for(let p=0;p<s.length;p++){const d=s[p];if(d.type===1&&d.tagType===0){const f=i?0:Wr(d,n);if(f>0){if(f>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const g=y.patchFlag;if((g===void 0||g===512||g===1)&&m$(d,n)>=2){const b=y$(d);b&&(y.props=n.hoist(b))}y.dynamicProps&&(y.dynamicProps=n.hoist(y.dynamicProps))}}}else if(d.type===12&&(i?0:Wr(d,n))>=2){o.push(d);continue}if(d.type===1){const f=d.tagType===1;f&&n.scopes.vSlot++,bb(d,t,n,!1,r),f&&n.scopes.vSlot--}else if(d.type===11)bb(d,t,n,d.children.length===1,!0);else if(d.type===9)for(let f=0;f<d.branches.length;f++)bb(d.branches[f],t,n,d.branches[f].children.length===1,r)}let a=!1;if(o.length===s.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&Et(t.codegenNode.children))t.codegenNode.children=l(Ru(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Et(t.codegenNode.children)&&t.codegenNode.children.type===15){const p=c(t.codegenNode,"default");p&&(p.returns=l(Ru(p.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Et(e.codegenNode.children)&&e.codegenNode.children.type===15){const p=ws(t,"slot",!0),d=p&&p.arg&&c(e.codegenNode,p.arg);d&&(d.returns=l(Ru(d.returns)),a=!0)}}if(!a)for(const p of o)p.codegenNode=n.cache(p.codegenNode);function l(p){const d=n.cache(p);return r&&n.hmr&&(d.needArraySpread=!0),d}function c(p,d){if(p.children&&!Et(p.children)&&p.children.type===15){const f=p.children.properties.find(y=>y.key===d||y.key.content===d);return f&&f.value}}o.length&&n.transformHoist&&n.transformHoist(s,n,t)}function Wr(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const i=n.get(t);if(i!==void 0)return i;const r=t.codegenNode;if(r.type!==13||r.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(r.patchFlag===void 0){let o=3;const a=m$(t,e);if(a===0)return n.set(t,0),0;a<o&&(o=a);for(let l=0;l<t.children.length;l++){const c=Wr(t.children[l],e);if(c===0)return n.set(t,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<t.props.length;l++){const c=t.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const p=Wr(c.exp,e);if(p===0)return n.set(t,0),0;p<o&&(o=p)}}if(r.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return n.set(t,0),0;e.removeHelper(Cu),e.removeHelper(Xp(e.inSSR,r.isComponent)),r.isBlock=!1,e.helper(Jp(e.inSSR,r.isComponent))}return n.set(t,o),o}else return n.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Wr(t.content,e);case 4:return t.constType;case 8:let s=3;for(let o=0;o<t.children.length;o++){const a=t.children[o];if(Vt(a)||vr(a))continue;const l=Wr(a,e);if(l===0)return 0;l<s&&(s=l)}return s;case 20:return 2;default:return 0}}const E0t=new Set([wA,_A,c0,u0]);function f$(t,e){if(t.type===14&&!Vt(t.callee)&&E0t.has(t.callee)){const n=t.arguments[0];if(n.type===4)return Wr(n,e);if(n.type===14)return f$(n,e)}return 0}function m$(t,e){let n=3;const i=y$(t);if(i&&i.type===15){const{properties:r}=i;for(let s=0;s<r.length;s++){const{key:o,value:a}=r[s],l=Wr(o,e);if(l===0)return l;l<n&&(n=l);let c;if(a.type===4?c=Wr(a,e):a.type===14?c=f$(a,e):c=0,c===0)return c;c<n&&(n=c)}}return n}function y$(t){const e=t.codegenNode;if(e.type===13)return e.props}function S0t(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:i=!1,hmr:r=!1,cacheHandlers:s=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=ai,isCustomElement:p=ai,expressionPlugins:d=[],scopeId:f=null,slotted:y=!0,ssr:g=!1,inSSR:b=!1,ssrCssVars:x="",bindingMetadata:A=se,inline:M=!1,isTS:_=!1,onError:w=NA,onWarn:T=t$,compatConfig:I}){const O=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),k={filename:e,selfName:O&&$l(Be(O[1])),prefixIdentifiers:n,hoistStatic:i,hmr:r,cacheHandlers:s,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:p,expressionPlugins:d,scopeId:f,slotted:y,ssr:g,inSSR:b,ssrCssVars:x,bindingMetadata:A,inline:M,isTS:_,onError:w,onWarn:T,compatConfig:I,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(R){const j=k.helpers.get(R)||0;return k.helpers.set(R,j+1),R},removeHelper(R){const j=k.helpers.get(R);if(j){const z=j-1;z?k.helpers.set(R,z):k.helpers.delete(R)}},helperString(R){return`_${Yp[k.helper(R)]}`},replaceNode(R){k.parent.children[k.childIndex]=k.currentNode=R},removeNode(R){const j=k.parent.children,z=R?j.indexOf(R):k.currentNode?k.childIndex:-1;!R||R===k.currentNode?(k.currentNode=null,k.onNodeRemoved()):k.childIndex>z&&(k.childIndex--,k.onNodeRemoved()),k.parent.children.splice(z,1)},onNodeRemoved:ai,addIdentifiers(R){},removeIdentifiers(R){},hoist(R){Vt(R)&&(R=Qt(R)),k.hoists.push(R);const j=Qt(`_hoisted_${k.hoists.length}`,!1,R.loc,2);return j.hoisted=R,j},cache(R,j=!1,z=!1){const F=qmt(k.cached.length,R,j,z);return k.cached.push(F),F}};return k.filters=new Set,k}function A0t(t,e){const n=S0t(t,e);wb(t,n),e.hoistStatic&&x0t(t,n),e.ssr||M0t(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function M0t(t,e){const{helper:n}=e,{children:i}=t;if(i.length===1){const r=i[0];if(d$(t,r)&&r.codegenNode){const s=r.codegenNode;s.type===13&&IA(s,e),t.codegenNode=s}else t.codegenNode=r}else if(i.length>1){let r=64;t.codegenNode=h0(e,n(o0),void 0,t.children,r,void 0,void 0,!0,void 0,!1)}}function T0t(t,e){let n=0;const i=()=>{n--};for(;n<t.children.length;n++){const r=t.children[n];Vt(r)||(e.grandParent=e.parent,e.parent=t,e.childIndex=n,e.onNodeRemoved=i,wb(r,e))}}function wb(t,e){e.currentNode=t;const{nodeTransforms:n}=e,i=[];for(let s=0;s<n.length;s++){const o=n[s](t,e);if(o&&(Et(o)?i.push(...o):i.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(l0);break;case 5:e.ssr||e.helper(lb);break;case 9:for(let s=0;s<t.branches.length;s++)wb(t.branches[s],e);break;case 10:case 11:case 1:case 0:T0t(t,e);break}e.currentNode=t;let r=i.length;for(;r--;)i[r]()}function g$(t,e){const n=Vt(t)?i=>i===t:i=>t.test(i);return(i,r)=>{if(i.type===1){const{props:s}=i;if(i.tagType===3&&s.some(s0t))return;const o=[];for(let a=0;a<s.length;a++){const l=s[a];if(l.type===7&&n(l.name)){s.splice(a,1),a--;const c=e(i,l,r);c&&o.push(c)}}return o}}}const _b="/*@__PURE__*/",v$=t=>`${Yp[t]}: _${Yp[t]}`;function I0t(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:i=!1,filename:r="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:p=!1,isTS:d=!1,inSSR:f=!1}){const y={mode:e,prefixIdentifiers:n,sourceMap:i,filename:r,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:p,isTS:d,inSSR:f,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${Yp[b]}`},push(b,x=-2,A){y.code+=b},indent(){g(++y.indentLevel)},deindent(b=!1){b?--y.indentLevel:g(--y.indentLevel)},newline(){g(y.indentLevel)}};function g(b){y.push(`
`+"  ".repeat(b),0)}return y}function N0t(t,e={}){const n=I0t(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:i,push:r,prefixIdentifiers:s,indent:o,deindent:a,newline:l,scopeId:c,ssr:p}=n,d=Array.from(t.helpers),f=d.length>0,y=!s&&i!=="module";O0t(t,n);const g=p?"ssrRender":"render",b=(p?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(r(`function ${g}(${b}) {`),o(),y&&(r("with (_ctx) {"),o(),f&&(r(`const { ${d.map(v$).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(PA(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(PA(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),PA(t.filters,"filter",n),l()),t.temps>0){r("let ");for(let x=0;x<t.temps;x++)r(`${x>0?", ":""}_temp${x}`)}return(t.components.length||t.directives.length||t.temps)&&(r(`
`,0),l()),p||r("return "),t.codegenNode?$i(t.codegenNode,n):r("null"),y&&(a(),r("}")),a(),r("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function O0t(t,e){const{ssr:n,prefixIdentifiers:i,push:r,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,p=Array.from(t.helpers);if(p.length>0&&(r(`const _Vue = ${c}
`,-1),t.hoists.length)){const d=[hA,pA,l0,dA,Hj].filter(f=>p.includes(f)).map(v$).join(", ");r(`const { ${d} } = _Vue
`,-1)}k0t(t.hoists,e),s(),r("return ")}function PA(t,e,{helper:n,push:i,newline:r,isTS:s}){const o=n(e==="filter"?gA:e==="component"?fA:yA);for(let a=0;a<t.length;a++){let l=t[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),i(`const ${d0(l,e)} = ${o}(${JSON.stringify(l)}${c?", true":""})${s?"!":""}`),a<t.length-1&&r()}}function k0t(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:i}=e;i();for(let r=0;r<t.length;r++){const s=t[r];s&&(n(`const _hoisted_${r+1} = `),$i(s,e),i())}e.pure=!1}function DA(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),m0(t,e,n),n&&e.deindent(),e.push("]")}function m0(t,e,n=!1,i=!0){const{push:r,newline:s}=e;for(let o=0;o<t.length;o++){const a=t[o];Vt(a)?r(a,-3):Et(a)?DA(a,e):$i(a,e),o<t.length-1&&(n?(i&&r(","),s()):i&&r(", "))}}function $i(t,e){if(Vt(t)){e.push(t,-3);return}if(vr(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:$i(t.codegenNode,e);break;case 2:C0t(t,e);break;case 4:b$(t,e);break;case 5:R0t(t,e);break;case 12:$i(t.codegenNode,e);break;case 8:w$(t,e);break;case 3:P0t(t,e);break;case 13:D0t(t,e);break;case 14:$0t(t,e);break;case 15:F0t(t,e);break;case 17:U0t(t,e);break;case 18:G0t(t,e);break;case 19:B0t(t,e);break;case 20:z0t(t,e);break;case 21:m0(t.body,e,!0,!1);break}}function C0t(t,e){e.push(JSON.stringify(t.content),-3,t)}function b$(t,e){const{content:n,isStatic:i}=t;e.push(i?JSON.stringify(n):n,-3,t)}function R0t(t,e){const{push:n,helper:i,pure:r}=e;r&&n(_b),n(`${i(lb)}(`),$i(t.content,e),n(")")}function w$(t,e){for(let n=0;n<t.children.length;n++){const i=t.children[n];Vt(i)?e.push(i,-3):$i(i,e)}}function L0t(t,e){const{push:n}=e;if(t.type===8)n("["),w$(t,e),n("]");else if(t.isStatic){const i=OA(t.content)?t.content:JSON.stringify(t.content);n(i,-2,t)}else n(`[${t.content}]`,-3,t)}function P0t(t,e){const{push:n,helper:i,pure:r}=e;r&&n(_b),n(`${i(l0)}(${JSON.stringify(t.content)})`,-3,t)}function D0t(t,e){const{push:n,helper:i,pure:r}=e,{tag:s,props:o,children:a,patchFlag:l,dynamicProps:c,directives:p,isBlock:d,disableTracking:f,isComponent:y}=t;let g;l&&(g=String(l)),p&&n(i(vA)+"("),d&&n(`(${i(Cu)}(${f?"true":""}), `),r&&n(_b);const b=d?Xp(e.inSSR,y):Jp(e.inSSR,y);n(i(b)+"(",-2,t),m0(j0t([s,o,a,g,c]),e),n(")"),d&&n(")"),p&&(n(", "),$i(p,e),n(")"))}function j0t(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function $0t(t,e){const{push:n,helper:i,pure:r}=e,s=Vt(t.callee)?t.callee:i(t.callee);r&&n(_b),n(s+"(",-2,t),m0(t.arguments,e),n(")")}function F0t(t,e){const{push:n,indent:i,deindent:r,newline:s}=e,{properties:o}=t;if(!o.length){n("{}",-2,t);return}const a=o.length>1||!1;n(a?"{":"{ "),a&&i();for(let l=0;l<o.length;l++){const{key:c,value:p}=o[l];L0t(c,e),n(": "),$i(p,e),l<o.length-1&&(n(","),s())}a&&r(),n(a?"}":" }")}function U0t(t,e){DA(t.elements,e)}function G0t(t,e){const{push:n,indent:i,deindent:r}=e,{params:s,returns:o,body:a,newline:l,isSlot:c}=t;c&&n(`_${Yp[AA]}(`),n("(",-2,t),Et(s)?m0(s,e):s&&$i(s,e),n(") => "),(l||a)&&(n("{"),i()),o?(l&&n("return "),Et(o)?DA(o,e):$i(o,e)):a&&$i(a,e),(l||a)&&(r(),n("}")),c&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function B0t(t,e){const{test:n,consequent:i,alternate:r,newline:s}=t,{push:o,indent:a,deindent:l,newline:c}=e;if(n.type===4){const d=!OA(n.content);d&&o("("),b$(n,e),d&&o(")")}else o("("),$i(n,e),o(")");s&&a(),e.indentLevel++,s||o(" "),o("? "),$i(i,e),e.indentLevel--,s&&c(),s||o(" "),o(": ");const p=r.type===19;p||e.indentLevel++,$i(r,e),p||e.indentLevel--,s&&l(!0)}function z0t(t,e){const{push:n,helper:i,indent:r,deindent:s,newline:o}=e,{needPauseTracking:a,needArraySpread:l}=t;l&&n("[...("),n(`_cache[${t.index}] || (`),a&&(r(),n(`${i(ub)}(-1`),t.inVOnce&&n(", true"),n("),"),o(),n("(")),n(`_cache[${t.index}] = `),$i(t.value,e),a&&(n(`).cacheIndex = ${t.index},`),o(),n(`${i(ub)}(1),`),o(),n(`_cache[${t.index}]`),s()),n(")"),l&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const V0t=g$(/^(if|else|else-if)$/,(t,e,n)=>W0t(t,e,n,(i,r,s)=>{const o=n.parent.children;let a=o.indexOf(i),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(s)i.codegenNode=x$(r,l,n);else{const c=H0t(i.codegenNode);c.alternate=x$(r,l+i.branches.length-1,n)}}}));function W0t(t,e,n,i){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const r=e.exp?e.exp.loc:t.loc;n.onError(sn(28,e.loc)),e.exp=Qt("true",!1,r)}if(e.name==="if"){const r=_$(t,e),s={type:9,loc:v0t(t.loc),branches:[r]};if(n.replaceNode(s),i)return i(s,r,!0)}else{const r=n.parent.children;let s=r.indexOf(t);for(;s-->=-1;){const o=r[s];if(o&&o.type===3){n.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){n.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&n.onError(sn(30,t.loc)),n.removeNode();const a=_$(t,e);o.branches.push(a);const l=i&&i(o,a,!1);wb(a,n),l&&l(),n.currentNode=null}else n.onError(sn(30,t.loc));break}}}function _$(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!ws(t,"for")?t.children:[t],userKey:pb(t,"key"),isTemplateIf:n}}function x$(t,e,n){return t.condition?TA(t.condition,E$(t,e,n),ni(n.helper(l0),['""',"true"])):E$(t,e,n)}function E$(t,e,n){const{helper:i}=n,r=jn("key",Qt(`${e}`,!1,zr,2)),{children:s}=t,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const a=o.codegenNode;return mb(a,r,n),a}else return h0(n,i(o0),bs([r]),s,64,void 0,void 0,!0,!1,!1,t.loc);else{const a=o.codegenNode,l=a0t(a);return l.type===13&&IA(l,n),mb(l,r,n),a}}function H0t(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const q0t=(t,e,n)=>{const{modifiers:i,loc:r}=t,s=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(s.type!==4||!s.isStatic)return n.onError(sn(52,s.loc)),{props:[jn(s,Qt("",!0,r))]};S$(t),o=t.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.some(a=>a.content==="camel")&&(s.type===4?s.isStatic?s.content=Be(s.content):s.content=`${n.helperString(EA)}(${s.content})`:(s.children.unshift(`${n.helperString(EA)}(`),s.children.push(")"))),n.inSSR||(i.some(a=>a.content==="prop")&&A$(s,"."),i.some(a=>a.content==="attr")&&A$(s,"^")),{props:[jn(s,o)]}},S$=(t,e)=>{const n=t.arg,i=Be(n.content);t.exp=Qt(i,!1,n.loc)},A$=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},Y0t=g$("for",(t,e,n)=>{const{helper:i,removeHelper:r}=n;return Z0t(t,e,n,s=>{const o=ni(i(bA),[s.source]),a=db(t),l=ws(t,"memo"),c=pb(t,"key",!1,!0);c&&c.type===7&&!c.exp&&S$(c);let p=c&&(c.type===6?c.value?Qt(c.value.content,!0):void 0:c.exp);const d=c&&p?jn("key",p):null,f=s.source.type===4&&s.source.constType>0,y=f?64:c?128:256;return s.codegenNode=h0(n,i(o0),void 0,o,y,void 0,void 0,!0,!f,!1,t.loc),()=>{let g;const{children:b}=s,x=b.length!==1||b[0].type!==1,A=fb(t)?t:a&&t.children.length===1&&fb(t.children[0])?t.children[0]:null;if(A?(g=A.codegenNode,a&&d&&mb(g,d,n)):x?g=h0(n,i(o0),d?bs([d]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(g=b[0].codegenNode,a&&d&&mb(g,d,n),g.isBlock!==!f&&(g.isBlock?(r(Cu),r(Xp(n.inSSR,g.isComponent))):r(Jp(n.inSSR,g.isComponent))),g.isBlock=!f,g.isBlock?(i(Cu),i(Xp(n.inSSR,g.isComponent))):i(Jp(n.inSSR,g.isComponent))),l){const M=Zp(jA(s.parseResult,[Qt("_cached")]));M.body=Ymt([eo(["const _memo = (",l.exp,")"]),eo(["if (_cached",...p?[" && _cached.key === ",p]:[],` && ${n.helperString(Zj)}(_cached, _memo)) return _cached`]),eo(["const _item = ",g]),Qt("_item.memo = _memo"),Qt("return _item")]),o.arguments.push(M,Qt("_cache"),Qt(String(n.cached.length))),n.cached.push(null)}else o.arguments.push(Zp(jA(s.parseResult),g,!0))}})});function Z0t(t,e,n,i){if(!e.exp){n.onError(sn(31,e.loc));return}const r=e.forParseResult;if(!r){n.onError(sn(32,e.loc));return}M$(r);const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=n,{source:l,value:c,key:p,index:d}=r,f={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:p,objectIndexAlias:d,parseResult:r,children:db(t)?t.children:[t]};n.replaceNode(f),a.vFor++;const y=i&&i(f);return()=>{a.vFor--,y&&y()}}function M$(t,e){t.finalized||(t.finalized=!0)}function jA({value:t,key:e,index:n},i=[]){return J0t([t,e,n,...i])}function J0t(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,i)=>n||Qt("_".repeat(i+1),!1))}const T$=Qt("undefined",!1),X0t=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=ws(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},K0t=(t,e,n,i)=>Zp(t,n,!1,!0,n.length?n[0].loc:i);function Q0t(t,e,n=K0t){e.helper(AA);const{children:i,loc:r}=t,s=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=ws(t,"slot",!0);if(l){const{arg:x,exp:A}=l;x&&!Sr(x)&&(a=!0),s.push(jn(x||Qt("default",!0),n(A,void 0,i,r)))}let c=!1,p=!1;const d=[],f=new Set;let y=0;for(let x=0;x<i.length;x++){const A=i[x];let M;if(!db(A)||!(M=ws(A,"slot",!0))){A.type!==3&&d.push(A);continue}if(l){e.onError(sn(37,M.loc));break}c=!0;const{children:_,loc:w}=A,{arg:T=Qt("default",!0),exp:I,loc:O}=M;let k;Sr(T)?k=T?T.content:"default":a=!0;const R=ws(A,"for"),j=n(I,R,_,w);let z,F;if(z=ws(A,"if"))a=!0,o.push(TA(z.exp,xb(T,j,y++),T$));else if(F=ws(A,/^else(-if)?$/,!0)){let U=x,Y;for(;U--&&(Y=i[U],Y.type===3););if(Y&&db(Y)&&ws(Y,/^(else-)?if$/)){let u=o[o.length-1];for(;u.alternate.type===19;)u=u.alternate;u.alternate=F.exp?TA(F.exp,xb(T,j,y++),T$):xb(T,j,y++)}else e.onError(sn(30,F.loc))}else if(R){a=!0;const U=R.forParseResult;U?(M$(U),o.push(ni(e.helper(bA),[U.source,Zp(jA(U),xb(T,j),!0)]))):e.onError(sn(32,R.loc))}else{if(k){if(f.has(k)){e.onError(sn(38,O));continue}f.add(k),k==="default"&&(p=!0)}s.push(jn(T,j))}}if(!l){const x=(A,M)=>{const _=n(A,void 0,M,r);return e.compatConfig&&(_.isNonScopedSlot=!0),jn("default",_)};c?d.length&&d.some(A=>I$(A))&&(p?e.onError(sn(39,d[0].loc)):s.push(x(void 0,d))):s.push(x(void 0,i))}const g=a?2:Eb(t.children)?3:1;let b=bs(s.concat(jn("_",Qt(g+"",!1))),r);return o.length&&(b=ni(e.helper(Yj),[b,Ru(o)])),{slots:b,hasDynamicSlots:a}}function xb(t,e,n){const i=[jn("name",t),jn("fn",e)];return n!=null&&i.push(jn("key",Qt(String(n),!0))),bs(i)}function Eb(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||Eb(n.children))return!0;break;case 9:if(Eb(n.branches))return!0;break;case 10:case 11:if(Eb(n.children))return!0;break}}return!1}function I$(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():I$(t.content)}const N$=new WeakMap,tyt=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:n,props:i}=t,r=t.tagType===1;let s=r?eyt(t,e):`"${n}"`;const o=ke(s)&&s.callee===mA;let a,l,c=0,p,d,f,y=o||s===a0||s===uA||!r&&(n==="svg"||n==="foreignObject"||n==="math");if(i.length>0){const g=O$(t,e,void 0,r,o);a=g.props,c=g.patchFlag,d=g.dynamicPropNames;const b=g.directives;f=b&&b.length?Ru(b.map(x=>iyt(x,e))):void 0,g.shouldUseBlock&&(y=!0)}if(t.children.length>0)if(s===ab&&(y=!0,c|=1024),r&&s!==a0&&s!==ab){const{slots:g,hasDynamicSlots:b}=Q0t(t,e);l=g,b&&(c|=1024)}else if(t.children.length===1&&s!==a0){const g=t.children[0],b=g.type,x=b===5||b===8;x&&Wr(g,e)===0&&(c|=1),x||b===2?l=g:l=t.children}else l=t.children;d&&d.length&&(p=ryt(d)),t.codegenNode=h0(e,s,a,l,c===0?void 0:c,p,f,!!y,!1,r,t.loc)};function eyt(t,e,n=!1){let{tag:i}=t;const r=$A(i),s=pb(t,"is",!1,!0);if(s)if(r||Lu("COMPILER_IS_ON_ELEMENT",e)){let a;if(s.type===6?a=s.value&&Qt(s.value.content,!0):(a=s.exp,a||(a=Qt("is",!1,s.arg.loc))),a)return ni(e.helper(mA),[a])}else s.type===6&&s.value.content.startsWith("vue:")&&(i=s.value.content.slice(4));const o=e$(i)||e.isBuiltInComponent(i);return o?(n||e.helper(o),o):(e.helper(fA),e.components.add(i),d0(i,"component"))}function O$(t,e,n=t.props,i,r,s=!1){const{tag:o,loc:a,children:l}=t;let c=[];const p=[],d=[],f=l.length>0;let y=!1,g=0,b=!1,x=!1,A=!1,M=!1,_=!1,w=!1;const T=[],I=j=>{c.length&&(p.push(bs(k$(c),a)),c=[]),j&&p.push(j)},O=()=>{e.scopes.vFor>0&&c.push(jn(Qt("ref_for",!0),Qt("true")))},k=({key:j,value:z})=>{if(Sr(j)){const F=j.content,U=wu(F);if(U&&(!i||r)&&F.toLowerCase()!=="onclick"&&F!=="onUpdate:modelValue"&&!jl(F)&&(M=!0),U&&jl(F)&&(w=!0),U&&z.type===14&&(z=z.arguments[0]),z.type===20||(z.type===4||z.type===8)&&Wr(z,e)>0)return;F==="ref"?b=!0:F==="class"?x=!0:F==="style"?A=!0:F!=="key"&&!T.includes(F)&&T.push(F),i&&(F==="class"||F==="style")&&!T.includes(F)&&T.push(F)}else _=!0};for(let j=0;j<n.length;j++){const z=n[j];if(z.type===6){const{loc:F,name:U,nameLoc:Y,value:u}=z;let m=!0;if(U==="ref"&&(b=!0,O()),U==="is"&&($A(o)||u&&u.content.startsWith("vue:")||Lu("COMPILER_IS_ON_ELEMENT",e)))continue;c.push(jn(Qt(U,!0,Y),Qt(u?u.content:"",m,u?u.loc:F)))}else{const{name:F,arg:U,exp:Y,loc:u,modifiers:m}=z,S=F==="bind",C=F==="on";if(F==="slot"){i||e.onError(sn(40,u));continue}if(F==="once"||F==="memo"||F==="is"||S&&Pu(U,"is")&&($A(o)||Lu("COMPILER_IS_ON_ELEMENT",e))||C&&s)continue;if((S&&Pu(U,"key")||C&&f&&Pu(U,"vue:before-update"))&&(y=!0),S&&Pu(U,"ref")&&O(),!U&&(S||C)){if(_=!0,Y)if(S){if(O(),I(),Lu("COMPILER_V_BIND_OBJECT_ORDER",e)){p.unshift(Y);continue}p.push(Y)}else I({type:14,loc:u,callee:e.helper(xA),arguments:i?[Y]:[Y,"true"]});else e.onError(sn(S?34:35,u));continue}S&&m.some(Z=>Z.content==="prop")&&(g|=32);const V=e.directiveTransforms[F];if(V){const{props:Z,needRuntime:ft}=V(z,t,e);!s&&Z.forEach(k),C&&U&&!Sr(U)?I(bs(Z,a)):c.push(...Z),ft&&(d.push(z),vr(ft)&&N$.set(z,ft))}else ldt(F)||(d.push(z),f&&(y=!0))}}let R;if(p.length?(I(),p.length>1?R=ni(e.helper(cb),p,a):R=p[0]):c.length&&(R=bs(k$(c),a)),_?g|=16:(x&&!i&&(g|=2),A&&!i&&(g|=4),T.length&&(g|=8),M&&(g|=32)),!y&&(g===0||g===32)&&(b||w||d.length>0)&&(g|=512),!e.inSSR&&R)switch(R.type){case 15:let j=-1,z=-1,F=!1;for(let u=0;u<R.properties.length;u++){const m=R.properties[u].key;Sr(m)?m.content==="class"?j=u:m.content==="style"&&(z=u):m.isHandlerKey||(F=!0)}const U=R.properties[j],Y=R.properties[z];F?R=ni(e.helper(c0),[R]):(U&&!Sr(U.value)&&(U.value=ni(e.helper(wA),[U.value])),Y&&(A||Y.value.type===4&&Y.value.content.trim()[0]==="["||Y.value.type===17)&&(Y.value=ni(e.helper(_A),[Y.value])));break;case 14:break;default:R=ni(e.helper(c0),[ni(e.helper(u0),[R])]);break}return{props:R,directives:d,patchFlag:g,dynamicPropNames:T,shouldUseBlock:y}}function k$(t){const e=new Map,n=[];for(let i=0;i<t.length;i++){const r=t[i];if(r.key.type===8||!r.key.isStatic){n.push(r);continue}const s=r.key.content,o=e.get(s);o?(s==="style"||s==="class"||wu(s))&&nyt(o,r):(e.set(s,r),n.push(r))}return n}function nyt(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Ru([t.value,e.value],t.loc)}function iyt(t,e){const n=[],i=N$.get(t);i?n.push(e.helperString(i)):(e.helper(yA),e.directives.add(t.name),n.push(d0(t.name,"directive")));const{loc:r}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const s=Qt("true",!1,r);n.push(bs(t.modifiers.map(o=>jn(o,s)),r))}return Ru(n,t.loc)}function ryt(t){let e="[";for(let n=0,i=t.length;n<i;n++)e+=JSON.stringify(t[n]),n<i-1&&(e+=", ");return e+"]"}function $A(t){return t==="component"||t==="Component"}const syt=(t,e)=>{if(fb(t)){const{children:n,loc:i}=t,{slotName:r,slotProps:s}=oyt(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),n.length&&(o[3]=Zp([],n,!1,!1,i),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),t.codegenNode=ni(e.helper(qj),o,i)}};function oyt(t,e){let n='"default"',i;const r=[];for(let s=0;s<t.props.length;s++){const o=t.props[s];if(o.type===6)o.value&&(o.name==="name"?n=JSON.stringify(o.value.content):(o.name=Be(o.name),r.push(o)));else if(o.name==="bind"&&Pu(o.arg,"name")){if(o.exp)n=o.exp;else if(o.arg&&o.arg.type===4){const a=Be(o.arg.content);n=o.exp=Qt(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&Sr(o.arg)&&(o.arg.content=Be(o.arg.content)),r.push(o)}if(r.length>0){const{props:s,directives:o}=O$(t,e,r,!1,!1);i=s,o.length&&e.onError(sn(36,o[0].loc))}return{slotName:n,slotProps:i}}const C$=(t,e,n,i)=>{const{loc:r,modifiers:s,arg:o}=t;!t.exp&&!s.length&&n.onError(sn(35,r));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const f=e.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?xu(Be(d)):`on:${d}`;a=Qt(f,!0,o.loc)}else a=eo([`${n.helperString(SA)}(`,o,")"]);else a=o,a.children.unshift(`${n.helperString(SA)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const d=i$(l),f=!(d||i0t(l)),y=l.content.includes(";");(f||c&&d)&&(l=eo([`${f?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let p={props:[jn(a,l||Qt("() => {}",!1,r))]};return i&&(p=i(p)),c&&(p.props[0].value=n.cache(p.props[0].value)),p.props.forEach(d=>d.key.isHandlerKey=!0),p},ayt=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let i,r=!1;for(let s=0;s<n.length;s++){const o=n[s];if(kA(o)){r=!0;for(let a=s+1;a<n.length;a++){const l=n[a];if(kA(l))i||(i=n[s]=eo([o],o.loc)),i.children.push(" + ",l),n.splice(a,1),a--;else{i=void 0;break}}}}if(!(!r||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&t.tag!=="template")))for(let s=0;s<n.length;s++){const o=n[s];if(kA(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&Wr(o,e)===0&&a.push("1"),n[s]={type:12,content:o,loc:o.loc,codegenNode:ni(e.helper(dA),a)}}}}},R$=new WeakSet,lyt=(t,e)=>{if(t.type===1&&ws(t,"once",!0))return R$.has(t)||e.inVOnce||e.inSSR?void 0:(R$.add(t),e.inVOnce=!0,e.helper(ub),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0,!0))})},L$=(t,e,n)=>{const{exp:i,arg:r}=t;if(!i)return n.onError(sn(41,t.loc)),Sb();const s=i.loc.source.trim(),o=i.type===4?i.content:s,a=n.bindingMetadata[s];if(a==="props"||a==="props-aliased")return n.onError(sn(44,i.loc)),Sb();if(!o.trim()||!i$(i))return n.onError(sn(42,i.loc)),Sb();const l=r||Qt("modelValue",!0),c=r?Sr(r)?`onUpdate:${Be(r.content)}`:eo(['"onUpdate:" + ',r]):"onUpdate:modelValue";let p;const d=n.isTS?"($event: any)":"$event";p=eo([`${d} => ((`,i,") = $event)"]);const f=[jn(l,t.exp),jn(c,p)];if(t.modifiers.length&&e.tagType===1){const y=t.modifiers.map(b=>b.content).map(b=>(OA(b)?b:JSON.stringify(b))+": true").join(", "),g=r?Sr(r)?`${r.content}Modifiers`:eo([r,' + "Modifiers"']):"modelModifiers";f.push(jn(g,Qt(`{ ${y} }`,!1,t.loc,2)))}return Sb(f)};function Sb(t=[]){return{props:t}}const cyt=/[\w).+\-_$\]]/,uyt=(t,e)=>{Lu("COMPILER_FILTERS",e)&&(t.type===5?Ab(t.content,e):t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&Ab(n.exp,e)}))};function Ab(t,e){if(t.type===4)P$(t,e);else for(let n=0;n<t.children.length;n++){const i=t.children[n];typeof i=="object"&&(i.type===4?P$(i,e):i.type===8?Ab(t,e):i.type===5&&Ab(i.content,e))}}function P$(t,e){const n=t.content;let i=!1,r=!1,s=!1,o=!1,a=0,l=0,c=0,p=0,d,f,y,g,b=[];for(y=0;y<n.length;y++)if(f=d,d=n.charCodeAt(y),i)d===39&&f!==92&&(i=!1);else if(r)d===34&&f!==92&&(r=!1);else if(s)d===96&&f!==92&&(s=!1);else if(o)d===47&&f!==92&&(o=!1);else if(d===124&&n.charCodeAt(y+1)!==124&&n.charCodeAt(y-1)!==124&&!a&&!l&&!c)g===void 0?(p=y+1,g=n.slice(0,y).trim()):x();else{switch(d){case 34:r=!0;break;case 39:i=!0;break;case 96:s=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let A=y-1,M;for(;A>=0&&(M=n.charAt(A),M===" ");A--);(!M||!cyt.test(M))&&(o=!0)}}g===void 0?g=n.slice(0,y).trim():p!==0&&x();function x(){b.push(n.slice(p,y).trim()),p=y+1}if(b.length){for(y=0;y<b.length;y++)g=hyt(g,b[y],e);t.content=g,t.ast=void 0}}function hyt(t,e,n){n.helper(gA);const i=e.indexOf("(");if(i<0)return n.filters.add(e),`${d0(e,"filter")}(${t})`;{const r=e.slice(0,i),s=e.slice(i+1);return n.filters.add(r),`${d0(r,"filter")}(${t}${s!==")"?","+s:s}`}}const D$=new WeakSet,pyt=(t,e)=>{if(t.type===1){const n=ws(t,"memo");return!n||D$.has(t)?void 0:(D$.add(t),()=>{const i=t.codegenNode||e.currentNode.codegenNode;i&&i.type===13&&(t.tagType!==1&&IA(i,e),t.codegenNode=ni(e.helper(MA),[n.exp,Zp(void 0,i),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function dyt(t){return[[lyt,V0t,pyt,Y0t,uyt,syt,tyt,X0t,ayt],{on:C$,bind:q0t,model:L$}]}function fyt(t,e={}){const n=e.onError||NA,i=e.mode==="module";e.prefixIdentifiers===!0?n(sn(47)):i&&n(sn(48));const r=!1;e.cacheHandlers&&n(sn(49)),e.scopeId&&!i&&n(sn(50));const s=oe({},e,{prefixIdentifiers:r}),o=Vt(t)?_0t(t,s):t,[a,l]=dyt();return A0t(o,oe({},s,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:oe({},l,e.directiveTransforms||{})})),N0t(o,s)}const myt=()=>({props:[]}),j$=Symbol(""),$$=Symbol(""),F$=Symbol(""),U$=Symbol(""),FA=Symbol(""),G$=Symbol(""),B$=Symbol(""),z$=Symbol(""),V$=Symbol(""),W$=Symbol("");Wmt({[j$]:"vModelRadio",[$$]:"vModelCheckbox",[F$]:"vModelText",[U$]:"vModelSelect",[FA]:"vModelDynamic",[G$]:"withModifiers",[B$]:"withKeys",[z$]:"vShow",[V$]:"Transition",[W$]:"TransitionGroup"});let Kp;function yyt(t,e=!1){return Kp||(Kp=document.createElement("div")),e?(Kp.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,Kp.children[0].getAttribute("foo")):(Kp.innerHTML=t,Kp.textContent)}const gyt={parseMode:"html",isVoidTag:Sdt,isNativeTag:t=>_dt(t)||xdt(t)||Edt(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:yyt,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return V$;if(t==="TransitionGroup"||t==="transition-group")return W$},getNamespace(t,e,n){let i=e?e.ns:n;if(e&&i===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(i=0);else e&&i===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(i=0);if(i===0){if(t==="svg")return 1;if(t==="math")return 2}return i}},vyt=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:Qt("style",!0,e.loc),exp:byt(e.value.content,e.loc),modifiers:[],loc:e.loc})})},byt=(t,e)=>{const n=R9(t);return Qt(JSON.stringify(n),!1,e,3)};function nc(t,e){return sn(t,e)}const wyt=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(nc(53,r)),e.children.length&&(n.onError(nc(54,r)),e.children.length=0),{props:[jn(Qt("innerHTML",!0,r),i||Qt("",!0))]}},_yt=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(nc(55,r)),e.children.length&&(n.onError(nc(56,r)),e.children.length=0),{props:[jn(Qt("textContent",!0),i?Wr(i,n)>0?i:ni(n.helperString(lb),[i],r):Qt("",!0))]}},xyt=(t,e,n)=>{const i=L$(t,e,n);if(!i.props.length||e.tagType===1)return i;t.arg&&n.onError(nc(58,t.arg.loc));const{tag:r}=e,s=n.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||s){let o=F$,a=!1;if(r==="input"||s){const l=pb(e,"type");if(l){if(l.type===7)o=FA;else if(l.value)switch(l.value.content){case"radio":o=j$;break;case"checkbox":o=$$;break;case"file":a=!0,n.onError(nc(59,t.loc));break}}else r0t(e)&&(o=FA)}else r==="select"&&(o=U$);a||(i.needRuntime=n.helper(o))}else n.onError(nc(57,t.loc));return i.props=i.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),i},Eyt=Ur("passive,once,capture"),Syt=Ur("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Ayt=Ur("left,right"),H$=Ur("onkeyup,onkeydown,onkeypress"),Myt=(t,e,n,i)=>{const r=[],s=[],o=[];for(let a=0;a<e.length;a++){const l=e[a].content;l==="native"&&p0("COMPILER_V_ON_NATIVE",n)||Eyt(l)?o.push(l):Ayt(l)?Sr(t)?H$(t.content.toLowerCase())?r.push(l):s.push(l):(r.push(l),s.push(l)):Syt(l)?s.push(l):r.push(l)}return{keyModifiers:r,nonKeyModifiers:s,eventOptionModifiers:o}},q$=(t,e)=>Sr(t)&&t.content.toLowerCase()==="onclick"?Qt(e,!0):t.type!==4?eo(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,Tyt=(t,e,n)=>C$(t,e,n,i=>{const{modifiers:r}=t;if(!r.length)return i;let{key:s,value:o}=i.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=Myt(s,r,n,t.loc);if(l.includes("right")&&(s=q$(s,"onContextmenu")),l.includes("middle")&&(s=q$(s,"onMouseup")),l.length&&(o=ni(n.helper(G$),[o,JSON.stringify(l)])),a.length&&(!Sr(s)||H$(s.content.toLowerCase()))&&(o=ni(n.helper(B$),[o,JSON.stringify(a)])),c.length){const p=c.map($l).join("");s=Sr(s)?Qt(`${s.content}${p}`,!0):eo(["(",s,`) + "${p}"`])}return{props:[jn(s,o)]}}),Iyt=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(nc(61,r)),{props:[],needRuntime:n.helper(z$)}},Nyt=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},Oyt=[vyt],kyt={cloak:myt,html:wyt,text:_yt,model:xyt,on:Tyt,show:Iyt};function Cyt(t,e={}){return fyt(t,oe({},gyt,e,{nodeTransforms:[Nyt,...Oyt,...e.nodeTransforms||[]],directiveTransforms:oe({},kyt,e.directiveTransforms||{}),transformHoist:null}))}const Y$=Object.create(null);function Z$(t,e){if(!Vt(t))if(t.nodeType)t=t.innerHTML;else return ai;const n=hdt(t,e),i=Y$[n];if(i)return i;if(t[0]==="#"){const a=document.querySelector(t);t=a?a.innerHTML:""}const r=oe({hoistStatic:!0,onError:void 0,onWarn:ai},e);!r.isCustomElement&&typeof customElements<"u"&&(r.isCustomElement=a=>!!customElements.get(a));const{code:s}=Cyt(t,r),o=new Function("Vue",s)(Fmt);return o._rc=!0,Y$[n]=o}J4(Z$);const Ryt=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:p4,BaseTransitionPropsValidators:Ov,Comment:Ln,DeprecationTypes:QD,EffectScope:av,ErrorCodes:p7,ErrorTypeStrings:qD,Fragment:Ce,KeepAlive:$7,ReactiveEffect:kp,Static:Yl,Suspense:ND,Teleport:h4,Text:Po,TrackOpTypes:a7,Transition:n0,TransitionGroup:eb,TriggerOpTypes:l7,VueElement:X0,assertNumber:h7,callWithAsyncErrorHandling:Gr,callWithErrorHandling:Bl,camelize:Be,capitalize:$l,cloneVNode:Qs,compatUtils:KD,compile:Z$,computed:Xt,createApp:Ql,createBlock:Ue,createCommentVNode:Re,createElementBlock:gt,createElementVNode:rt,createHydrationRenderer:D4,createPropsRestProxy:nD,createRenderer:P4,createSSRApp:cA,createSlots:B7,createStaticVNode:V4,createTextVNode:to,createVNode:Zt,customRef:o4,defineAsyncComponent:Rv,defineComponent:ne,defineCustomElement:oA,defineEmits:W7,defineExpose:H7,defineModel:Z7,defineOptions:q7,defineProps:V7,defineSSRCustomElement:Ej,defineSlots:Y7,devtools:YD,effect:z9,effectScope:km,getCurrentInstance:Dn,getCurrentScope:lv,getCurrentWatcher:c7,getTransitionRawChildren:Gm,guardReactiveProps:z4,h:Br,handleError:zl,hasInjectionContext:C4,hydrate:$j,hydrateOnIdle:L7,hydrateOnInteraction:j7,hydrateOnMediaQuery:D7,hydrateOnVisible:P7,initCustomFormatter:VD,initDirectivesForSSR:Bj,inject:Rn,isMemoSame:X4,isProxy:jm,isReactive:wr,isReadonly:Oa,isRef:ae,isRuntimeOnly:UD,isShallow:_r,isVNode:Xs,markRaw:Je,mergeDefaults:tD,mergeModels:eD,mergeProps:Qm,nextTick:fs,normalizeClass:rn,normalizeProps:L9,normalizeStyle:Aa,onActivated:g4,onBeforeMount:Hm,onBeforeUnmount:ys,onBeforeUpdate:Dv,onDeactivated:v4,onErrorCaptured:jv,onMounted:li,onRenderTracked:x4,onRenderTriggered:_4,onScopeDispose:YS,onServerPrefetch:w4,onUnmounted:ql,onUpdated:Mu,onWatcherCleanup:a4,openBlock:ct,popScopeId:b7,provide:Uv,proxyRefs:gv,pushScopeId:v7,queuePostFlushCb:jp,reactive:Qn,readonly:mv,ref:Q,registerRuntimeCompiler:J4,render:qp,renderList:Ra,renderSlot:gs,resolveComponent:Tn,resolveDirective:Ae,resolveDynamicComponent:$v,resolveFilter:XD,resolveTransitionHooks:Au,setBlockTracking:Hv,setDevtoolsHook:ZD,setTransitionHooks:Lo,shallowReactive:r4,shallowReadonly:Rp,shallowRef:Lp,ssrContextKey:F4,ssrUtils:JD,stop:V9,toDisplayString:Ee,toHandlerKey:xu,toHandlers:z7,toRaw:Dt,toRef:bv,toRefs:vv,toValue:s7,transformVNodeArgs:PD,triggerRef:r7,unref:St,useAttrs:K7,useCssModule:Aj,useCssVars:nA,useHost:aA,useId:f4,useModel:AD,useSSRContext:U4,useShadowRoot:Sj,useSlots:X7,useTemplateRef:Bm,useTransitionState:Nv,vModelCheckbox:nb,vModelDynamic:lA,vModelRadio:ib,vModelSelect:rb,vModelText:Vp,vShow:i0,version:K4,warn:HD,watch:Wn,watchEffect:xD,watchPostEffect:ED,watchSyncEffect:G4,withAsyncContext:iD,withCtx:Mn,withDefaults:J7,withDirectives:Se,withKeys:ob,withMemo:WD,withModifiers:Hp,withScopeId:w7},Symbol.toStringTag,{value:"Module"}));let J$;const Mb=t=>J$=t,X$=Symbol();function UA(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var y0;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(y0||(y0={}));function Lyt(){const t=km(!0),e=t.run(()=>Q({}));let n=[],i=[];const r=Je({install(s){Mb(r),r._a=s,s.provide(X$,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return this._a?n.push(s):i.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const K$=()=>{};function Q$(t,e,n,i=K$){t.push(e);const r=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),i())};return!n&&lv()&&YS(r),r}function Qp(t,...e){t.slice().forEach(n=>{n(...e)})}const Pyt=t=>t();function GA(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],r=t[n];UA(r)&&UA(i)&&t.hasOwnProperty(n)&&!ae(i)&&!wr(i)?t[n]=GA(r,i):t[n]=i}return t}const Dyt=Symbol();function jyt(t){return!UA(t)||!t.hasOwnProperty(Dyt)}const{assign:ic}=Object;function $yt(t){return!!(ae(t)&&t.effect)}function Fyt(t,e,n,i){const{state:r,actions:s,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const p=vv(n.state.value[t]);return ic(p,s,Object.keys(o||{}).reduce((d,f)=>(d[f]=Je(Xt(()=>{Mb(n);const y=n._s.get(t);return o[f].call(y,y)})),d),{}))}return l=tF(t,c,e,n,i,!0),l}function tF(t,e,n={},i,r,s){let o;const a=ic({actions:{}},n),l={deep:!0};let c,p,d=[],f=[],y;const g=i.state.value[t];!s&&!g&&(i.state.value[t]={}),Q({});let b;function x(O){let k;c=p=!1,typeof O=="function"?(O(i.state.value[t]),k={type:y0.patchFunction,storeId:t,events:y}):(GA(i.state.value[t],O),k={type:y0.patchObject,payload:O,storeId:t,events:y});const R=b=Symbol();fs().then(()=>{b===R&&(c=!0)}),p=!0,Qp(d,k,i.state.value[t])}const A=s?function(){const{state:O}=n,k=O?O():{};this.$patch(R=>{ic(R,k)})}:K$;function M(){o.stop(),d=[],f=[],i._s.delete(t)}function _(O,k){return function(){Mb(i);const R=Array.from(arguments),j=[],z=[];function F(u){j.push(u)}function U(u){z.push(u)}Qp(f,{args:R,name:O,store:T,after:F,onError:U});let Y;try{Y=k.apply(this&&this.$id===t?this:T,R)}catch(u){throw Qp(z,u),u}return Y instanceof Promise?Y.then(u=>(Qp(j,u),u)).catch(u=>(Qp(z,u),Promise.reject(u))):(Qp(j,Y),Y)}}const w={_p:i,$id:t,$onAction:Q$.bind(null,f),$patch:x,$reset:A,$subscribe(O,k={}){const R=Q$(d,O,k.detached,()=>j()),j=o.run(()=>Wn(()=>i.state.value[t],z=>{(k.flush==="sync"?p:c)&&O({storeId:t,type:y0.direct,events:y},z)},ic({},l,k)));return R},$dispose:M},T=Qn(w);i._s.set(t,T);const I=(i._a&&i._a.runWithContext||Pyt)(()=>i._e.run(()=>(o=km()).run(e)));for(const O in I){const k=I[O];if(ae(k)&&!$yt(k)||wr(k))s||(g&&jyt(k)&&(ae(k)?k.value=g[O]:GA(k,g[O])),i.state.value[t][O]=k);else if(typeof k=="function"){const R=_(O,k);I[O]=R,a.actions[O]=k}}return ic(T,I),ic(Dt(T),I),Object.defineProperty(T,"$state",{get:()=>i.state.value[t],set:O=>{x(k=>{ic(k,O)})}}),i._p.forEach(O=>{ic(T,o.run(()=>O({store:T,app:i._a,pinia:i,options:a})))}),g&&s&&n.hydrate&&n.hydrate(T.$state,g),c=!0,p=!0,T}function Xe(t,e,n){let i,r;const s=typeof e=="function";typeof t=="string"?(i=t,r=s?n:e):(r=t,i=t.id);function o(a,l){const c=C4();return a=a||(c?Rn(X$,null):null),a&&Mb(a),a=J$,a._s.has(i)||(s?tF(i,e,r,a):Fyt(i,r,a)),a._s.get(i)}return o.$id=i,o}function eF(t){{t=Dt(t);const e={};for(const n in t){const i=t[n];(ae(i)||wr(i))&&(e[n]=bv(t,n))}return e}}const g0=Xe("appbar",()=>{const t=Q({}),e=Q([]),n=Q([]),i=Xt(()=>e.value.map(o=>o.map(a=>t.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function r(o){n.value.includes(o)||n.value.push(o)}function s(o){const a=n.value.indexOf(o);a!==-1&&n.value.splice(a,1),o in t.value&&delete t.value[o],e.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:t,order:e,temporary:n,visible:i,addTempButton:r,removeButton:s}}),Tb=Xe("grid",()=>{const t=Q({}),e=Q(),n=Q();function i(a){t.value={...t.value,[a.id]:a}}function r(a){t.value[a]!==void 0&&delete t.value[a]}function s(a){return Object.keys(t.value).find(l=>t.value[l].layerIds.includes(a))}function o(a,l){t.value[a].layerIds=t.value[a].layerIds.filter(c=>c!==l)}return{grids:t,panel:e,currentId:n,addGrid:i,removeGrid:r,getGridId:s,removeLayer:o}});function Fa(t,e,n,i){var r,s=!1,o=0;function a(){r&&clearTimeout(r)}function l(){a(),s=!0}typeof e!="boolean"&&(i=n,n=e,e=void 0);function c(){for(var p=arguments.length,d=new Array(p),f=0;f<p;f++)d[f]=arguments[f];var y=this,g=Date.now()-o;if(s)return;function b(){o=Date.now(),n.apply(y,d)}function x(){r=void 0}i&&!r&&b(),a(),i===void 0&&g>t?b():e!==!0&&(r=setTimeout(i?x:b,i===void 0?t-g:t))}return c.cancel=l,c}function v0(t,e,n){return n===void 0?Fa(t,e,!1):Fa(t,n,e!==!1)}const rc=Xe("map-caption",()=>{const t=Q({text:{},logo:{}}),e=Q({}),n=Q({}),i=Q({});function r(o){o!==void 0?e.value.isImperialScale=o:e.value.isImperialScale=!e.value.isImperialScale}function s(o){t.value.text.value=o.text.value,t.value.text.disabled=o.text.disabled,t.value.logo.altText=o.logo.altText,t.value.logo.link=o.logo.link,t.value.logo.value=o.logo.value,t.value.logo.disabled=o.logo.disabled}return{attribution:t,scale:e,coords:n,langtoggle:i,toggleScale:r,setAttribution:s}}),BA=(t,e)=>{const n=[...t];for(;n.length>0;){const i=n.shift();if(e(i))return i;i&&n.push(...i.sublayers)}},no=Xe("layer",()=>{const t=Q([]),e=Q([]),n=Q([]);function i(d){return BA(t.value,f=>f?.uid===d)}function r(d){return BA(t.value,f=>f?.id===d)}function s(d){return BA(t.value,f=>f!==void 0&&(f.id===d||f.uid===d))}function o(d){e.value=[...e.value,d]}function a(d,f=void 0){t.value=[...t.value,d],d.mapLayer&&((f===void 0||f<0)&&(console.error("Map layer added to store with invalid index!"),f=n.value.length),n.value.splice(f,0,d.id),n.value=[...n.value])}function l(d,f){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(f<0){console.error("Negative index passed to layer store reorder");return}f>=n.value.length&&(f=n.value.length-1);const y=n.value.findIndex(g=>g===d.id);y!==-1&&y!==f&&(n.value.splice(y,1),n.value.splice(f,0,d.id),n.value=[...n.value])}function c(d){const f=t.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(t.value=f,d.mapLayer){const y=n.value.filter(g=>g!==d.id);n.value=y}}function p(d){const f=e.value.filter(y=>y.id!==d);e.value=f}return{layers:t,mapOrder:n,layerConfigs:e,getLayerByUid:i,getLayerById:r,getLayerByAny:s,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:p}}),rr=Xe("config",()=>{const t=Q({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),e=Q([]),n=Q(),i=Q({}),r=Q({});function s(c){if(i.value[r.value[c]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return i.value[r.value[c]]}function o(c){const p={...t.value,...c};if(t.value=p,Array.isArray(t.value.layers)){const d=no();d.layerConfigs=[...d.layerConfigs,t.value.layers]}}function a(c,p){i.value[p]=c,r.value[p]=p}function l(c,p){const d=c.configs,f=Object.keys(d);if(f.length){const y=f[0];p.forEach(g=>{const b=f.includes(g)?g:y;i.value[g]=d[b],r.value[g]=b})}else console.error("Nothingburger config set was registered",c)}return{activeBasemapConfig:n,config:t,registeredConfigs:i,registeredLangs:r,startingFixtures:e,getActiveConfig:s,newConfig:o,registerAllConfigs:l,registerConfig:a}}),zA=Xe("details",()=>{const t=Q([]),e=Q({}),n=Q({}),i=Q(),r=Q(0),s=Q(0),o=Q(!0),a=Q();function l(p){const d=t.value.findIndex(f=>f.uid===p.uid);d!==-1&&t.value.splice(d,1)}function c(p){e.value={...e.value,[p.id]:p}}return{payload:t,properties:e,defaultTemplates:n,currentFeatureId:i,activeGreedy:r,lastHilight:s,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),_s=Xe("fixture",()=>{const t=Q({}),e=Q({});function n(o){return o.map(a=>e.value[a].getPromise())}function i(o){if(t.value={...t.value,[o.id]:Je(o)},o.id in e.value)e.value[o.id].resolveMe(Je(o));else{const a=new Sn;a.resolveMe(Je(o)),e.value={...e.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function r(o){delete t.value[o.id],t.value={...t.value},delete e.value[o.id],e.value={...e.value},typeof o.removed=="function"&&o.removed()}function s(o){e.value={...e.value,[o]:new Sn}}return{items:t,loadPromises:e,getLoadPromises:n,addFixture:i,removeFixture:r,addLoadPromise:s}});var It=(t=>(t.APPBAR_BUTTON_CLICK="appbar/click",t.COMPONENT="ramp/component",t.CONFIG_CHANGE="config/configchanged",t.DETAILS_TOGGLE="details/toggle",t.FILTER_CHANGE="filter/change",t.FIXTURE_ADDED="fixture/added",t.FIXTURE_REMOVED="fixture/removed",t.GRID_TOGGLE="grid/toggle",t.HELP_TOGGLE="help/toggle",t.LANG_CHANGE="lang/change",t.LAYER_DRAWSTATECHANGE="layer/drawstatechange",t.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",t.LAYER_LAYERSTATECHANGE="layer/layerstatechange",t.LAYER_OPACITYCHANGE="layer/opacitychange",t.LAYER_REGISTERED="layer/registered",t.LAYER_RELOAD_END="layer/reloadend",t.LAYER_RELOAD_START="layer/reloadstart",t.LAYER_REMOVE="layer/remove",t.LAYER_VISIBILITYCHANGE="layer/visibilitychange",t.MAP_BASEMAPCHANGE="map/basemapchanged",t.MAP_BLUR="map/blur",t.MAP_CLICK="map/click",t.MAP_CREATED="map/created",t.MAP_DESTROYED="map/destroyed",t.MAP_DOUBLECLICK="map/doubleclick",t.MAP_EXTENTCHANGE="map/extentchanged",t.MAP_FOCUS="map/focus",t.MAP_GRAPHICHIT="map/graphichit",t.MAP_IDENTIFY="map/identify",t.MAP_KEYDOWN="map/keydown",t.MAP_KEYUP="map/keyup",t.MAP_MOUSEDOWN="map/mousedown",t.MAP_MOUSELEAVE="map/mouseleave",t.MAP_MOUSEMOVE="map/mousemove",t.MAP_MOUSEMOVE_END="map/mousemoveend",t.MAP_MOUSEMOVE_START="map/mousemovestart",t.MAP_REFRESH_END="map/refreshend",t.MAP_REFRESH_START="map/refreshstart",t.MAP_REORDER="map/reorder",t.MAP_RESIZED="map/resized",t.MAP_SCALECHANGE="map/scalechanged",t.MAP_START="map/start",t.METADATA_TOGGLE="metadata/toggle",t.PANEL_CLOSED="panel/closed",t.PANEL_MINIMIZED="panel/minimized",t.PANEL_OPENED="panel/opened",t.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",t.RAMP_RELOAD="ramp/reload",t.REORDER_TOGGLE="reorder/toggle",t.SETTINGS_TOGGLE="settings/toggle",t.USER_LAYER_ADDED="user/layeradded",t.WIZARD_TOGGLE="wizard/toggle",t))(It||{}),VA=(t=>(t.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",t.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",t.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",t.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",t.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",t.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",t.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",t.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",t.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",t.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",t.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",t.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",t.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",t.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",t.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",t.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",t.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",t.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",t.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",t.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",t.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",t.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",t.MAP_MOUSEDOWN_UPDATES_MAPTIP="ramp_map_mousedown_updates_maptip",t.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",t.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",t.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",t.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",t.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",t.TOGGLE_DETAILS="ramp_toggle_details",t.TOGGLE_GRID="ramp_toggle_grid",t.TOGGLE_HELP="ramp_toggle_help",t.TOGGLE_METADATA="ramp_toggle_metadata",t.TOGGLE_REORDER="ramp_toggle_reorder",t.TOGGLE_SETTINGS="ramp_toggle_settings",t.TOGGLE_WIZARD="ramp_toggle_wizard",t))(VA||{});class Uyt{eventName;handlerName;handlerFunc;constructor(e,n,i){this.eventName=e,this.handlerName=n,this.handlerFunc=i}}class Gyt extends An{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(e){super(e),this._eventBus=new rdt.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(It).filter(n=>typeof n=="string"&&n.indexOf("/")>-1)}findHandler(e){return this._eventRegister.find(n=>n.handlerName===e)}handlerNamer(e){return this._funCounter++,e.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(e){(Array.isArray(e)?e:[e]).forEach(n=>{this._nameRegister.indexOf(n)===-1&&this._nameRegister.push(n)})}eventNames(){return this._nameRegister.slice()}on(e,n,i=""){if(this.findHandler(i))throw new Error("Duplicate handler name registration: "+i);i||(i=this.handlerNamer(e));const r=new Uyt(e,i,n);return this._eventRegister.push(r),this._eventBus.on(e,n),i}off(e){const n=this.findHandler(e);n&&(this._eventRegister.splice(this._eventRegister.indexOf(n),1),this._eventBus.off(n.eventName,n.handlerFunc))}offAll(e=""){this.activeHandlers(e).forEach(n=>this.off(n))}removeDefaultEvents(){Object.values(VA).forEach(e=>{this.off(e)})}emit(e,...n){this._eventBus.emit(e,...n)}once(e,n,i=""){i||(i=this.handlerNamer(e));const r=(...s)=>{n(...s),this.off(i)};return this.on(e,r,i)}activeHandlers(e=""){return e===""?this._eventRegister.map(n=>n.handlerName):this._eventRegister.filter(n=>n.eventName===e).map(n=>n.handlerName)}addDefaultEvents(e){return(!Array.isArray(e)||e.length===0)&&(e=Object.values(VA)),e.map(n=>this.defaultHandlerFactory(n))}defaultHandlerFactory(e){let n;switch(e){case"ramp_layer_error_updates_legend":n=i=>{if(i.layer.layerState===ln.ERROR){const r=this.$iApi.fixture.get("legend");r&&r.updateLegend(i.layer)}},this.$iApi.event.on("layer/layerstatechange",n,e);break;case"ramp_layer_register_binds_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&r.updateLegend(i)},this.$iApi.event.on("layer/registered",n,e);break;case"ramp_layer_reload_end_binds_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&r.updateLegend(i)},this.$iApi.event.on("layer/reloadend",n,e);break;case"ramp_layer_reload_start_updates_legend":n=i=>{if(!i.isSublayer){const r=this.$iApi.fixture.get("legend");r&&r.reloadLayerItem(i.uid)}},this.$iApi.event.on("layer/reloadstart",n,e);break;case"ramp_layer_remove_checks_grid":n=i=>{if(this.$iApi.fixture.get("grid")){const r=Tb(this.$vApp.$pinia),s=r.getGridId(i.id);if(s===void 0)return;if(r.removeLayer(s,i.id),r.grids[s].layerIds.length===0){r.removeGrid(s);const o=r.currentId;if(s===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),r.currentId=void 0}}}},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_remove_updates_details":n=i=>{const r=zA(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&r.removeLayer(i)},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_remove_updates_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&(r.removeLayerItem(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:i.name})))},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_useradd_updates_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&r.addLayerItem(i)},this.$iApi.event.on("user/layeradded",n,e);break;case"ramp_map_basemap_checks_tile_proj":n=i=>{i.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(r=>r.dataFormat===si.ESRI_TILE&&r.schemaLocked).forEach(r=>{r.checkProj()})},this.$iApi.event.on("map/basemapchanged",n,e);break;case"ramp_map_basemap_updates_map_attribs":n=()=>{this.$iApi.geo.map.caption.updateAttribution(rr(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",n,e);break;case"ramp_map_blur_updates_key_handler":n=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",n,e);break;case"ramp_map_click_runs_identify":n=i=>{i.button===0&&this.$iApi.geo.map.runIdentify(i)},this.on("map/click",n,e);break;case"ramp_map_created_initializes_fixtures":n=()=>{const i=_s(this.$vApp.$pinia).items;Object.keys(i).forEach(r=>{i[r].initialized?.()})},this.$iApi.geo.map.created&&n(),this.$iApi.event.on("map/created",n,e);break;case"ramp_map_created_updates_map_attribs":n=()=>{this.$iApi.geo.map.caption.updateAttribution(rr(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&n(),this.$iApi.event.on("map/created",n,e);break;case"ramp_map_extent_updates_maptip":n=()=>{if(this.$iApi.geo.map.keysActive){const i=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(i)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",Fa(50,!0,()=>n()),e);break;case"ramp_map_graphichit_creates_maptip":n=i=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(i)},this.$iApi.event.on("map/graphichit",n,e);break;case"ramp_map_identify_opens_identify_results":n=i=>{const r=this.$iApi.fixture.get("details");r&&r.openDetails(i.results)},this.on("map/identify",n,e);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",Fa(50,()=>{const i=rc(this.$vApp.$pinia);i.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(r=>{i.coords={formattedString:r}})}),e);break;case"ramp_map_keydown_updates_key_handler":n=i=>{this.$iApi.geo.map.mapKeyDown(i)},this.$iApi.event.on("map/keydown",n,e);break;case"ramp_map_keyup_updates_key_handler":n=i=>{this.$iApi.geo.map.mapKeyUp(i)},this.$iApi.event.on("map/keyup",n,e);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",Fa(50,i=>{const r=rc(this.$vApp.$pinia);r.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(i)).then(s=>{r.coords={formattedString:s}})}),e);break;case"ramp_map_mouse_updates_maptip":n=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousemove",Fa(50,i=>n(i)),e);break;case"ramp_map_mousedown_updates_maptip":n=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousedown",Fa(50,i=>{const r={screenX:i.offsetX,screenY:i.offsetY,button:i.button,moveTime:0};n(r)}),e);break;case"ramp_map_mouseleave_removes_maptip":n=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",n);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",v0(100,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",v0(300,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_panel_close_updates_appbar":n=i=>{const r=g0(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!r.order.flat().find(s=>s===i.id)&&r.removeButton(i.id)},this.on("panel/closed",n,e);break;case"ramp_panel_open_updates_appbar":n=i=>{const r=g0(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!i.teleport||i.teleport?.showAppbarButton)&&!r.order.flat().find(s=>s===i.id)&&r.addTempButton(i.id)},this.on("panel/opened",n,e);break;case"ramp_toggle_details":n=(i,r)=>{const s=this.$iApi.fixture.get("details");s&&s.toggleFeature(i,r)},this.$iApi.event.on("details/toggle",n,e);break;case"ramp_toggle_grid":n=(i,r)=>{const s=this.$iApi.fixture.get("grid");s&&s.toggleGrid(i.id,r)},this.$iApi.event.on("grid/toggle",n,e);break;case"ramp_toggle_help":n=i=>{const r=this.$iApi.fixture.get("help");r&&r.toggleHelp(i)},this.$iApi.event.on("help/toggle",n,e);break;case"ramp_toggle_metadata":n=(i,r)=>{const s=this.$iApi.fixture.get("metadata");s&&s.toggleMetadata(i,r)},this.$iApi.event.on("metadata/toggle",n,e);break;case"ramp_toggle_reorder":n=i=>{const r=this.$iApi.fixture.get("layer-reorder");r&&r.toggleLayerReorder(i)},this.$iApi.event.on("reorder/toggle",n,e);break;case"ramp_toggle_settings":n=(i,r)=>{const s=this.$iApi.fixture.get("settings");s&&s.toggleSettings(i,r)},this.$iApi.event.on("settings/toggle",n,e);break;case"ramp_toggle_wizard":n=i=>{const r=this.$iApi.fixture.get("wizard");r&&r.toggleWizard(i)},this.$iApi.event.on("wizard/toggle",n,e);break;default:return console.error(`Unrecognized default event handler name encountered: ${e}`),`ERROR_NOT_REGISTERED__${e}`}return e}}function Byt(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Ib=typeof window<"u",sc=(t,e=!1)=>e?Symbol.for(t):Symbol(t),zyt=(t,e,n)=>Vyt({l:t,k:e,s:n}),Vyt=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Fn=t=>typeof t=="number"&&isFinite(t),Wyt=t=>oF(t)==="[object Date]",oc=t=>oF(t)==="[object RegExp]",Nb=t=>Wt(t)&&Object.keys(t).length===0,_i=Object.assign,Hyt=Object.create,De=(t=null)=>Hyt(t);let nF;const Ua=()=>nF||(nF=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:De());function iF(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function rF(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qyt(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(e,n,i)=>`${n}="${rF(i)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(e,n,i)=>`${n}='${rF(i)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(e=>{t=t.replace(e,"$1javascript&#58;")}),t}const Yyt=Object.prototype.hasOwnProperty;function io(t,e){return Yyt.call(t,e)}const Ke=Array.isArray,Ve=t=>typeof t=="function",_t=t=>typeof t=="string",ie=t=>typeof t=="boolean",ve=t=>t!==null&&typeof t=="object",Zyt=t=>ve(t)&&Ve(t.then)&&Ve(t.catch),sF=Object.prototype.toString,oF=t=>sF.call(t),Wt=t=>{if(!ve(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},Jyt=t=>t==null?"":Ke(t)||Wt(t)&&t.toString===sF?JSON.stringify(t,null,2):String(t);function Xyt(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}function Ob(t){let e=t;return()=>++e}const kb=t=>!ve(t)||Ke(t);function Cb(t,e){if(kb(t)||kb(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:i,des:r}=n.pop();Object.keys(i).forEach(s=>{s!=="__proto__"&&(ve(i[s])&&!ve(r[s])&&(r[s]=Array.isArray(i[s])?[]:De()),kb(r[s])||kb(i[s])?r[s]=i[s]:n.push({src:i[s],des:r[s]}))})}}function Kyt(t,e,n){return{line:t,column:e,offset:n}}function Rb(t,e,n){return{start:t,end:e}}const Qyt=/\{([0-9a-zA-Z]+)\}/g;function aF(t,...e){return e.length===1&&tgt(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(Qyt,(n,i)=>e.hasOwnProperty(i)?e[i]:"")}const lF=Object.assign,cF=t=>typeof t=="string",tgt=t=>t!==null&&typeof t=="object";function uF(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}const WA={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},egt={[WA.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function ngt(t,e,...n){const i=aF(egt[t],...n||[]),r={message:String(i),code:t};return e&&(r.location=e),r}const jt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},igt={[jt.EXPECTED_TOKEN]:"Expected token: '{0}'",[jt.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[jt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[jt.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[jt.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[jt.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[jt.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[jt.EMPTY_PLACEHOLDER]:"Empty placeholder",[jt.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[jt.INVALID_LINKED_FORMAT]:"Invalid linked format",[jt.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[jt.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[jt.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[jt.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[jt.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[jt.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function td(t,e,n={}){const{domain:i,messages:r,args:s}=n,o=aF((r||igt)[t]||"",...s||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=i,a}function rgt(t){throw t}const Ga=" ",sgt="\r",Mr=`
`,ogt="\u2028",agt="\u2029";function lgt(t){const e=t;let n=0,i=1,r=1,s=0;const o=O=>e[O]===sgt&&e[O+1]===Mr,a=O=>e[O]===Mr,l=O=>e[O]===agt,c=O=>e[O]===ogt,p=O=>o(O)||a(O)||l(O)||c(O),d=()=>n,f=()=>i,y=()=>r,g=()=>s,b=O=>o(O)||l(O)||c(O)?Mr:e[O],x=()=>b(n),A=()=>b(n+s);function M(){return s=0,p(n)&&(i++,r=0),o(n)&&n++,n++,r++,e[n]}function _(){return o(n+s)&&s++,s++,e[n+s]}function w(){n=0,i=1,r=1,s=0}function T(O=0){s=O}function I(){const O=n+s;for(;O!==n;)M();s=0}return{index:d,line:f,column:y,peekOffset:g,charAt:b,currentChar:x,currentPeek:A,next:M,peek:_,reset:w,resetPeek:T,skipToPeek:I}}const ac=void 0,NSt=".",hF="'",cgt="tokenizer";function ugt(t,e={}){const n=e.location!==!1,i=lgt(t),r=()=>i.index(),s=()=>Kyt(i.line(),i.column(),i.index()),o=s(),a=r(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:p}=e;function d(L,P,W,...K){const B=c();if(P.column+=W,P.offset+=W,p){const q=n?Rb(B.startLoc,P):null,dt=td(L,q,{domain:cgt,args:K});p(dt)}}function f(L,P,W){L.endLoc=s(),L.currentType=P;const K={type:P};return n&&(K.loc=Rb(L.startLoc,L.endLoc)),W!=null&&(K.value=W),K}const y=L=>f(L,14);function g(L,P){return L.currentChar()===P?(L.next(),P):(d(jt.EXPECTED_TOKEN,s(),0,P),"")}function b(L){let P="";for(;L.currentPeek()===Ga||L.currentPeek()===Mr;)P+=L.currentPeek(),L.peek();return P}function x(L){const P=b(L);return L.skipToPeek(),P}function A(L){if(L===ac)return!1;const P=L.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P===95}function M(L){if(L===ac)return!1;const P=L.charCodeAt(0);return P>=48&&P<=57}function _(L,P){const{currentType:W}=P;if(W!==2)return!1;b(L);const K=A(L.currentPeek());return L.resetPeek(),K}function w(L,P){const{currentType:W}=P;if(W!==2)return!1;b(L);const K=L.currentPeek()==="-"?L.peek():L.currentPeek(),B=M(K);return L.resetPeek(),B}function T(L,P){const{currentType:W}=P;if(W!==2)return!1;b(L);const K=L.currentPeek()===hF;return L.resetPeek(),K}function I(L,P){const{currentType:W}=P;if(W!==8)return!1;b(L);const K=L.currentPeek()===".";return L.resetPeek(),K}function O(L,P){const{currentType:W}=P;if(W!==9)return!1;b(L);const K=A(L.currentPeek());return L.resetPeek(),K}function k(L,P){const{currentType:W}=P;if(!(W===8||W===12))return!1;b(L);const K=L.currentPeek()===":";return L.resetPeek(),K}function R(L,P){const{currentType:W}=P;if(W!==10)return!1;const K=()=>{const q=L.currentPeek();return q==="{"?A(L.peek()):q==="@"||q==="%"||q==="|"||q===":"||q==="."||q===Ga||!q?!1:q===Mr?(L.peek(),K()):F(L,!1)},B=K();return L.resetPeek(),B}function j(L){b(L);const P=L.currentPeek()==="|";return L.resetPeek(),P}function z(L){const P=b(L),W=L.currentPeek()==="%"&&L.peek()==="{";return L.resetPeek(),{isModulo:W,hasSpace:P.length>0}}function F(L,P=!0){const W=(B=!1,q="",dt=!1)=>{const vt=L.currentPeek();return vt==="{"?q==="%"?!1:B:vt==="@"||!vt?q==="%"?!0:B:vt==="%"?(L.peek(),W(B,"%",!0)):vt==="|"?q==="%"||dt?!0:!(q===Ga||q===Mr):vt===Ga?(L.peek(),W(!0,Ga,dt)):vt===Mr?(L.peek(),W(!0,Mr,dt)):!0},K=W();return P&&L.resetPeek(),K}function U(L,P){const W=L.currentChar();return W===ac?ac:P(W)?(L.next(),W):null}function Y(L){const P=L.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===95||P===36}function u(L){return U(L,Y)}function m(L){const P=L.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===95||P===36||P===45}function S(L){return U(L,m)}function C(L){const P=L.charCodeAt(0);return P>=48&&P<=57}function V(L){return U(L,C)}function Z(L){const P=L.charCodeAt(0);return P>=48&&P<=57||P>=65&&P<=70||P>=97&&P<=102}function ft(L){return U(L,Z)}function lt(L){let P="",W="";for(;P=V(L);)W+=P;return W}function At(L){x(L);const P=L.currentChar();return P!=="%"&&d(jt.EXPECTED_TOKEN,s(),0,P),L.next(),"%"}function Pt(L){let P="";for(;;){const W=L.currentChar();if(W==="{"||W==="}"||W==="@"||W==="|"||!W)break;if(W==="%")if(F(L))P+=W,L.next();else break;else if(W===Ga||W===Mr)if(F(L))P+=W,L.next();else{if(j(L))break;P+=W,L.next()}else P+=W,L.next()}return P}function Ft(L){x(L);let P="",W="";for(;P=S(L);)W+=P;return L.currentChar()===ac&&d(jt.UNTERMINATED_CLOSING_BRACE,s(),0),W}function ye(L){x(L);let P="";return L.currentChar()==="-"?(L.next(),P+=`-${lt(L)}`):P+=lt(L),L.currentChar()===ac&&d(jt.UNTERMINATED_CLOSING_BRACE,s(),0),P}function Le(L){return L!==hF&&L!==Mr}function je(L){x(L),g(L,"'");let P="",W="";for(;P=U(L,Le);)P==="\\"?W+=ui(L):W+=P;const K=L.currentChar();return K===Mr||K===ac?(d(jt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),K===Mr&&(L.next(),g(L,"'")),W):(g(L,"'"),W)}function ui(L){const P=L.currentChar();switch(P){case"\\":case"'":return L.next(),`\\${P}`;case"u":return We(L,P,4);case"U":return We(L,P,6);default:return d(jt.UNKNOWN_ESCAPE_SEQUENCE,s(),0,P),""}}function We(L,P,W){g(L,P);let K="";for(let B=0;B<W;B++){const q=ft(L);if(!q){d(jt.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${P}${K}${L.currentChar()}`);break}K+=q}return`\\${P}${K}`}function an(L){return L!=="{"&&L!=="}"&&L!==Ga&&L!==Mr}function ri(L){x(L);let P="",W="";for(;P=U(L,an);)W+=P;return W}function G(L){let P="",W="";for(;P=u(L);)W+=P;return W}function $(L){const P=W=>{const K=L.currentChar();return K==="{"||K==="%"||K==="@"||K==="|"||K==="("||K===")"||!K||K===Ga?W:(W+=K,L.next(),P(W))};return P("")}function J(L){x(L);const P=g(L,"|");return x(L),P}function st(L,P){let W=null;switch(L.currentChar()){case"{":return P.braceNest>=1&&d(jt.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),L.next(),W=f(P,2,"{"),x(L),P.braceNest++,W;case"}":return P.braceNest>0&&P.currentType===2&&d(jt.EMPTY_PLACEHOLDER,s(),0),L.next(),W=f(P,3,"}"),P.braceNest--,P.braceNest>0&&x(L),P.inLinked&&P.braceNest===0&&(P.inLinked=!1),W;case"@":return P.braceNest>0&&d(jt.UNTERMINATED_CLOSING_BRACE,s(),0),W=it(L,P)||y(P),P.braceNest=0,W;default:{let K=!0,B=!0,q=!0;if(j(L))return P.braceNest>0&&d(jt.UNTERMINATED_CLOSING_BRACE,s(),0),W=f(P,1,J(L)),P.braceNest=0,P.inLinked=!1,W;if(P.braceNest>0&&(P.currentType===5||P.currentType===6||P.currentType===7))return d(jt.UNTERMINATED_CLOSING_BRACE,s(),0),P.braceNest=0,at(L,P);if(K=_(L,P))return W=f(P,5,Ft(L)),x(L),W;if(B=w(L,P))return W=f(P,6,ye(L)),x(L),W;if(q=T(L,P))return W=f(P,7,je(L)),x(L),W;if(!K&&!B&&!q)return W=f(P,13,ri(L)),d(jt.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,W.value),x(L),W;break}}return W}function it(L,P){const{currentType:W}=P;let K=null;const B=L.currentChar();switch((W===8||W===9||W===12||W===10)&&(B===Mr||B===Ga)&&d(jt.INVALID_LINKED_FORMAT,s(),0),B){case"@":return L.next(),K=f(P,8,"@"),P.inLinked=!0,K;case".":return x(L),L.next(),f(P,9,".");case":":return x(L),L.next(),f(P,10,":");default:return j(L)?(K=f(P,1,J(L)),P.braceNest=0,P.inLinked=!1,K):I(L,P)||k(L,P)?(x(L),it(L,P)):O(L,P)?(x(L),f(P,12,G(L))):R(L,P)?(x(L),B==="{"?st(L,P)||K:f(P,11,$(L))):(W===8&&d(jt.INVALID_LINKED_FORMAT,s(),0),P.braceNest=0,P.inLinked=!1,at(L,P))}}function at(L,P){let W={type:14};if(P.braceNest>0)return st(L,P)||y(P);if(P.inLinked)return it(L,P)||y(P);switch(L.currentChar()){case"{":return st(L,P)||y(P);case"}":return d(jt.UNBALANCED_CLOSING_BRACE,s(),0),L.next(),f(P,3,"}");case"@":return it(L,P)||y(P);default:{if(j(L))return W=f(P,1,J(L)),P.braceNest=0,P.inLinked=!1,W;const{isModulo:K,hasSpace:B}=z(L);if(K)return B?f(P,0,Pt(L)):f(P,4,At(L));if(F(L))return f(P,0,Pt(L));break}}return W}function mt(){const{currentType:L,offset:P,startLoc:W,endLoc:K}=l;return l.lastType=L,l.lastOffset=P,l.lastStartLoc=W,l.lastEndLoc=K,l.offset=r(),l.startLoc=s(),i.currentChar()===ac?f(l,14):at(i,l)}return{nextToken:mt,currentOffset:r,currentPosition:s,context:c}}const hgt="parser",pgt=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function dgt(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(e||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):"\uFFFD"}}}function fgt(t={}){const e=t.location!==!1,{onError:n,onWarn:i}=t;function r(_,w,T,I,...O){const k=_.currentPosition();if(k.offset+=I,k.column+=I,n){const R=e?Rb(T,k):null,j=td(w,R,{domain:hgt,args:O});n(j)}}function s(_,w,T,I,...O){const k=_.currentPosition();if(k.offset+=I,k.column+=I,i){const R=e?Rb(T,k):null;i(ngt(w,R,O))}}function o(_,w,T){const I={type:_};return e&&(I.start=w,I.end=w,I.loc={start:T,end:T}),I}function a(_,w,T,I){e&&(_.end=w,_.loc&&(_.loc.end=T))}function l(_,w){const T=_.context(),I=o(3,T.offset,T.startLoc);return I.value=w,a(I,_.currentOffset(),_.currentPosition()),I}function c(_,w){const T=_.context(),{lastOffset:I,lastStartLoc:O}=T,k=o(5,I,O);return k.index=parseInt(w,10),_.nextToken(),a(k,_.currentOffset(),_.currentPosition()),k}function p(_,w,T){const I=_.context(),{lastOffset:O,lastStartLoc:k}=I,R=o(4,O,k);return R.key=w,T===!0&&(R.modulo=!0),_.nextToken(),a(R,_.currentOffset(),_.currentPosition()),R}function d(_,w){const T=_.context(),{lastOffset:I,lastStartLoc:O}=T,k=o(9,I,O);return k.value=w.replace(pgt,dgt),_.nextToken(),a(k,_.currentOffset(),_.currentPosition()),k}function f(_){const w=_.nextToken(),T=_.context(),{lastOffset:I,lastStartLoc:O}=T,k=o(8,I,O);return w.type!==12?(r(_,jt.UNEXPECTED_EMPTY_LINKED_MODIFIER,T.lastStartLoc,0),k.value="",a(k,I,O),{nextConsumeToken:w,node:k}):(w.value==null&&r(_,jt.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,ro(w)),k.value=w.value||"",a(k,_.currentOffset(),_.currentPosition()),{node:k})}function y(_,w){const T=_.context(),I=o(7,T.offset,T.startLoc);return I.value=w,a(I,_.currentOffset(),_.currentPosition()),I}function g(_){const w=_.context(),T=o(6,w.offset,w.startLoc);let I=_.nextToken();if(I.type===9){const O=f(_);T.modifier=O.node,I=O.nextConsumeToken||_.nextToken()}switch(I.type!==10&&r(_,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,ro(I)),I=_.nextToken(),I.type===2&&(I=_.nextToken()),I.type){case 11:I.value==null&&r(_,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,ro(I)),T.key=y(_,I.value||"");break;case 5:I.value==null&&r(_,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,ro(I)),T.key=p(_,I.value||"");break;case 6:I.value==null&&r(_,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,ro(I)),T.key=c(_,I.value||"");break;case 7:I.value==null&&r(_,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,ro(I)),T.key=d(_,I.value||"");break;default:{r(_,jt.UNEXPECTED_EMPTY_LINKED_KEY,w.lastStartLoc,0);const O=_.context(),k=o(7,O.offset,O.startLoc);return k.value="",a(k,O.offset,O.startLoc),T.key=k,a(T,O.offset,O.startLoc),{nextConsumeToken:I,node:T}}}return a(T,_.currentOffset(),_.currentPosition()),{node:T}}function b(_){const w=_.context(),T=w.currentType===1?_.currentOffset():w.offset,I=w.currentType===1?w.endLoc:w.startLoc,O=o(2,T,I);O.items=[];let k=null,R=null;do{const F=k||_.nextToken();switch(k=null,F.type){case 0:F.value==null&&r(_,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,ro(F)),O.items.push(l(_,F.value||""));break;case 6:F.value==null&&r(_,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,ro(F)),O.items.push(c(_,F.value||""));break;case 4:R=!0;break;case 5:F.value==null&&r(_,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,ro(F)),O.items.push(p(_,F.value||"",!!R)),R&&(s(_,WA.USE_MODULO_SYNTAX,w.lastStartLoc,0,ro(F)),R=null);break;case 7:F.value==null&&r(_,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,ro(F)),O.items.push(d(_,F.value||""));break;case 8:{const U=g(_);O.items.push(U.node),k=U.nextConsumeToken||null;break}}}while(w.currentType!==14&&w.currentType!==1);const j=w.currentType===1?w.lastOffset:_.currentOffset(),z=w.currentType===1?w.lastEndLoc:_.currentPosition();return a(O,j,z),O}function x(_,w,T,I){const O=_.context();let k=I.items.length===0;const R=o(1,w,T);R.cases=[],R.cases.push(I);do{const j=b(_);k||(k=j.items.length===0),R.cases.push(j)}while(O.currentType!==14);return k&&r(_,jt.MUST_HAVE_MESSAGES_IN_PLURAL,T,0),a(R,_.currentOffset(),_.currentPosition()),R}function A(_){const w=_.context(),{offset:T,startLoc:I}=w,O=b(_);return w.currentType===14?O:x(_,T,I,O)}function M(_){const w=ugt(_,lF({},t)),T=w.context(),I=o(0,T.offset,T.startLoc);return e&&I.loc&&(I.loc.source=_),I.body=A(w),t.onCacheKey&&(I.cacheKey=t.onCacheKey(_)),T.currentType!==14&&r(w,jt.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,_[T.offset]||""),a(I,w.currentOffset(),w.currentPosition()),I}return{parse:M}}function ro(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"\u2026":e}function mgt(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function pF(t,e){for(let n=0;n<t.length;n++)HA(t[n],e)}function HA(t,e){switch(t.type){case 1:pF(t.cases,e),e.helper("plural");break;case 2:pF(t.items,e);break;case 6:{HA(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function ygt(t,e={}){const n=mgt(t);n.helper("normalize"),t.body&&HA(t.body,n);const i=n.context();t.helpers=Array.from(i.helpers)}function ggt(t){const e=t.body;return e.type===2?dF(e):e.cases.forEach(n=>dF(n)),t}function dF(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const i=t.items[n];if(!(i.type===3||i.type===9)||i.value==null)break;e.push(i.value)}if(e.length===t.items.length){t.static=uF(e);for(let n=0;n<t.items.length;n++){const i=t.items[n];(i.type===3||i.type===9)&&delete i.value}}}}const vgt="minifier";function ed(t){switch(t.t=t.type,t.type){case 0:{const e=t;ed(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let i=0;i<n.length;i++)ed(n[i]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let i=0;i<n.length;i++)ed(n[i]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;ed(e.key),e.k=e.key,delete e.key,e.modifier&&(ed(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw td(jt.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:vgt,args:[t.type]})}delete t.type}const bgt="parser";function wgt(t,e){const{filename:n,breakLineCode:i,needIndent:r}=e,s=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:r,indentLevel:0};s&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(y,g){o.code+=y}function c(y,g=!0){const b=g?i:"";l(r?b+"  ".repeat(y):b)}function p(y=!0){const g=++o.indentLevel;y&&c(g)}function d(y=!0){const g=--o.indentLevel;y&&c(g)}function f(){c(o.indentLevel)}return{context:a,push:l,indent:p,deindent:d,newline:f,helper:y=>`_${y}`,needIndent:()=>o.needIndent}}function _gt(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),nd(t,e.key),e.modifier?(t.push(", "),nd(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function xgt(t,e){const{helper:n,needIndent:i}=t;t.push(`${n("normalize")}([`),t.indent(i());const r=e.items.length;for(let s=0;s<r&&(nd(t,e.items[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}function Egt(t,e){const{helper:n,needIndent:i}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(i());const r=e.cases.length;for(let s=0;s<r&&(nd(t,e.cases[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}}function Sgt(t,e){e.body?nd(t,e.body):t.push("null")}function nd(t,e){const{helper:n}=t;switch(e.type){case 0:Sgt(t,e);break;case 1:Egt(t,e);break;case 2:xgt(t,e);break;case 6:_gt(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw td(jt.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:bgt,args:[e.type]})}}const Agt=(t,e={})=>{const n=cF(e.mode)?e.mode:"normal",i=cF(e.filename)?e.filename:"message.intl";e.sourceMap;const r=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,s=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],a=wgt(t,{filename:i,breakLineCode:r,needIndent:s});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(s),o.length>0&&(a.push(`const { ${uF(o.map(p=>`${p}: _${p}`),", ")} } = ctx`),a.newline()),a.push("return "),nd(a,t),a.deindent(s),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function Mgt(t,e={}){const n=lF({},e),i=!!n.jit,r=!!n.minify,s=n.optimize==null?!0:n.optimize,o=fgt(n).parse(t);return i?(s&&ggt(o),r&&ed(o),{ast:o,code:""}):(ygt(o,n),Agt(o,n))}var Tgt={NODE_ENV:"production"};function Igt(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ua().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ua().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ua().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function jo(t){return ve(t)&&qA(t)===0&&(io(t,"b")||io(t,"body"))}const fF=["b","body"];function Ngt(t){return lc(t,fF)}const mF=["c","cases"];function Ogt(t){return lc(t,mF,[])}const yF=["s","static"];function kgt(t){return lc(t,yF)}const gF=["i","items"];function Cgt(t){return lc(t,gF,[])}const vF=["t","type"];function qA(t){return lc(t,vF)}const bF=["v","value"];function Lb(t,e){const n=lc(t,bF);if(n!=null)return n;throw b0(e)}const wF=["m","modifier"];function Rgt(t){return lc(t,wF)}const _F=["k","key"];function Lgt(t){const e=lc(t,_F);if(e)return e;throw b0(6)}function lc(t,e,n){for(let i=0;i<e.length;i++){const r=e[i];if(io(t,r)&&t[r]!=null)return t[r]}return n}const xF=[...fF,...mF,...yF,...gF,..._F,...wF,...bF,...vF];function b0(t){return new Error(`unhandled node type: ${t}`)}const cc=[];cc[0]={w:[0],i:[3,0],"[":[4],o:[7]},cc[1]={w:[1],".":[2],"[":[4],o:[7]},cc[2]={w:[2],i:[3,0],0:[3,0]},cc[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},cc[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},cc[5]={"'":[4,0],o:8,l:[5,0]},cc[6]={'"':[4,0],o:8,l:[6,0]};const Pgt=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Dgt(t){return Pgt.test(t)}function jgt(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function $gt(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Fgt(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:Dgt(e)?jgt(e):"*"+e}function Ugt(t){const e=[];let n=-1,i=0,r=0,s,o,a,l,c,p,d;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),r++},f[3]=()=>{if(r>0)r--,i=4,f[0]();else{if(r=0,o===void 0||(o=Fgt(o),o===!1))return!1;f[1]()}};function y(){const g=t[n+1];if(i===5&&g==="'"||i===6&&g==='"')return n++,a="\\"+g,f[0](),!0}for(;i!==null;)if(n++,s=t[n],!(s==="\\"&&y())){if(l=$gt(s),d=cc[i],c=d[l]||d.l||8,c===8||(i=c[0],c[1]!==void 0&&(p=f[c[1]],p&&(a=s,p()===!1))))return;if(i===7)return e}}const EF=new Map;function Ggt(t,e){return ve(t)?t[e]:null}function Bgt(t,e){if(!ve(t))return null;let n=EF.get(e);if(n||(n=Ugt(e),n&&EF.set(e,n)),!n)return null;const i=n.length;let r=t,s=0;for(;s<i;){const o=n[s];if(xF.includes(o)&&jo(r))return null;const a=r[o];if(a===void 0||Ve(r))return null;r=a,s++}return r}const zgt=t=>t,Vgt=t=>"",Wgt="text",Hgt=t=>t.length===0?"":Xyt(t),qgt=Jyt;function SF(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function Ygt(t){const e=Fn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Fn(t.named.count)||Fn(t.named.n))?Fn(t.named.count)?t.named.count:Fn(t.named.n)?t.named.n:e:e}function Zgt(t,e){e.count||(e.count=t),e.n||(e.n=t)}function Jgt(t={}){const e=t.locale,n=Ygt(t),i=ve(t.pluralRules)&&_t(e)&&Ve(t.pluralRules[e])?t.pluralRules[e]:SF,r=ve(t.pluralRules)&&_t(e)&&Ve(t.pluralRules[e])?SF:void 0,s=x=>x[i(n,x.length,r)],o=t.list||[],a=x=>o[x],l=t.named||De();Fn(t.pluralIndex)&&Zgt(n,l);const c=x=>l[x];function p(x){return(Ve(t.messages)?t.messages(x):ve(t.messages)?t.messages[x]:!1)||(t.parent?t.parent.message(x):Vgt)}const d=x=>t.modifiers?t.modifiers[x]:zgt,f=Wt(t.processor)&&Ve(t.processor.normalize)?t.processor.normalize:Hgt,y=Wt(t.processor)&&Ve(t.processor.interpolate)?t.processor.interpolate:qgt,g=Wt(t.processor)&&_t(t.processor.type)?t.processor.type:Wgt,b={list:a,named:c,plural:s,linked:(x,...A)=>{const[M,_]=A;let w="text",T="";A.length===1?ve(M)?(T=M.modifier||T,w=M.type||w):_t(M)&&(T=M||T):A.length===2&&(_t(M)&&(T=M||T),_t(_)&&(w=_||w));const I=p(x)(b),O=w==="vnode"&&Ke(I)&&T?I[0]:I;return T?d(T)(O,w):O},message:p,type:g,interpolate:y,normalize:f,values:_i(De(),o,l)};return b}let w0=null;function Xgt(t){w0=t}function Kgt(t,e,n){w0&&w0.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const Qgt=t1t("function:translate");function t1t(t){return e=>w0&&w0.emit(t,e)}const e1t=WA.__EXTEND_POINT__,$u=Ob(e1t),n1t={FALLBACK_TO_TRANSLATE:$u(),CANNOT_FORMAT_NUMBER:$u(),FALLBACK_TO_NUMBER_FORMAT:$u(),CANNOT_FORMAT_DATE:$u(),FALLBACK_TO_DATE_FORMAT:$u(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:$u(),__EXTEND_POINT__:$u()},AF=jt.__EXTEND_POINT__,Fu=Ob(AF),so={INVALID_ARGUMENT:AF,INVALID_DATE_ARGUMENT:Fu(),INVALID_ISO_DATE_ARGUMENT:Fu(),NOT_SUPPORT_NON_STRING_MESSAGE:Fu(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Fu(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Fu(),NOT_SUPPORT_LOCALE_TYPE:Fu(),__EXTEND_POINT__:Fu()};function $o(t){return td(t,null,void 0)}function YA(t,e){return e.locale!=null?MF(e.locale):MF(t.locale)}let ZA;function MF(t){if(_t(t))return t;if(Ve(t)){if(t.resolvedOnce&&ZA!=null)return ZA;if(t.constructor.name==="Function"){const e=t();if(Zyt(e))throw $o(so.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return ZA=e}else throw $o(so.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw $o(so.NOT_SUPPORT_LOCALE_TYPE)}function i1t(t,e,n){return[...new Set([n,...Ke(e)?e:ve(e)?Object.keys(e):_t(e)?[e]:[n]])]}function TF(t,e,n){const i=_t(n)?n:id,r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let s=r.__localeChainCache.get(i);if(!s){s=[];let o=[n];for(;Ke(o);)o=IF(s,o,e);const a=Ke(e)||!Wt(e)?e:e.default?e.default:null;o=_t(a)?[a]:a,Ke(o)&&IF(s,o,!1),r.__localeChainCache.set(i,s)}return s}function IF(t,e,n){let i=!0;for(let r=0;r<e.length&&ie(i);r++){const s=e[r];_t(s)&&(i=r1t(t,e[r],n))}return i}function r1t(t,e,n){let i;const r=e.split("-");do{const s=r.join("-");i=s1t(t,s,n),r.splice(-1,1)}while(r.length&&i===!0);return i}function s1t(t,e,n){let i=!1;if(!t.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const r=e.replace(/!/g,"");t.push(r),(Ke(n)||Wt(n))&&n[r]&&(i=n[r])}return i}const o1t="9.14.5",Pb=-1,id="en-US",NF="",OF=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function a1t(){return{upper:(t,e)=>e==="text"&&_t(t)?t.toUpperCase():e==="vnode"&&ve(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&_t(t)?t.toLowerCase():e==="vnode"&&ve(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&_t(t)?OF(t):e==="vnode"&&ve(t)&&"__v_isVNode"in t?OF(t.children):t}}let kF;function CF(t){kF=t}let RF;function l1t(t){RF=t}let LF;function c1t(t){LF=t}let PF=null;const OSt=t=>{PF=t},u1t=()=>PF;let DF=null;const jF=t=>{DF=t},h1t=()=>DF;let $F=0;function p1t(t={}){const e=Ve(t.onWarn)?t.onWarn:Byt,n=_t(t.version)?t.version:o1t,i=_t(t.locale)||Ve(t.locale)?t.locale:id,r=Ve(i)?id:i,s=Ke(t.fallbackLocale)||Wt(t.fallbackLocale)||_t(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,o=Wt(t.messages)?t.messages:JA(r),a=Wt(t.datetimeFormats)?t.datetimeFormats:JA(r),l=Wt(t.numberFormats)?t.numberFormats:JA(r),c=_i(De(),t.modifiers,a1t()),p=t.pluralRules||De(),d=Ve(t.missing)?t.missing:null,f=ie(t.missingWarn)||oc(t.missingWarn)?t.missingWarn:!0,y=ie(t.fallbackWarn)||oc(t.fallbackWarn)?t.fallbackWarn:!0,g=!!t.fallbackFormat,b=!!t.unresolving,x=Ve(t.postTranslation)?t.postTranslation:null,A=Wt(t.processor)?t.processor:null,M=ie(t.warnHtmlMessage)?t.warnHtmlMessage:!0,_=!!t.escapeParameter,w=Ve(t.messageCompiler)?t.messageCompiler:kF,T=Ve(t.messageResolver)?t.messageResolver:RF||Ggt,I=Ve(t.localeFallbacker)?t.localeFallbacker:LF||i1t,O=ve(t.fallbackContext)?t.fallbackContext:void 0,k=t,R=ve(k.__datetimeFormatters)?k.__datetimeFormatters:new Map,j=ve(k.__numberFormatters)?k.__numberFormatters:new Map,z=ve(k.__meta)?k.__meta:{};$F++;const F={version:n,cid:$F,locale:i,fallbackLocale:s,messages:o,modifiers:c,pluralRules:p,missing:d,missingWarn:f,fallbackWarn:y,fallbackFormat:g,unresolving:b,postTranslation:x,processor:A,warnHtmlMessage:M,escapeParameter:_,messageCompiler:w,messageResolver:T,localeFallbacker:I,fallbackContext:O,onWarn:e,__meta:z};return F.datetimeFormats=a,F.numberFormats=l,F.__datetimeFormatters=R,F.__numberFormatters=j,__INTLIFY_PROD_DEVTOOLS__&&Kgt(F,n,z),F}const JA=t=>({[t]:De()});function XA(t,e,n,i,r){const{missing:s,onWarn:o}=t;if(s!==null){const a=s(t,n,e,r);return _t(a)?a:e}else return e}function _0(t,e,n){const i=t;i.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function d1t(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function f1t(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let i=n+1;i<e.length;i++)if(d1t(t,e[i]))return!0;return!1}function KA(t){return e=>m1t(e,t)}function m1t(t,e){const n=Ngt(e);if(n==null)throw b0(0);if(qA(n)===1){const i=Ogt(n);return t.plural(i.reduce((r,s)=>[...r,FF(t,s)],[]))}else return FF(t,n)}function FF(t,e){const n=kgt(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const i=Cgt(e).reduce((r,s)=>[...r,QA(t,s)],[]);return t.normalize(i)}}function QA(t,e){const n=qA(e);switch(n){case 3:return Lb(e,n);case 9:return Lb(e,n);case 4:{const i=e;if(io(i,"k")&&i.k)return t.interpolate(t.named(i.k));if(io(i,"key")&&i.key)return t.interpolate(t.named(i.key));throw b0(n)}case 5:{const i=e;if(io(i,"i")&&Fn(i.i))return t.interpolate(t.list(i.i));if(io(i,"index")&&Fn(i.index))return t.interpolate(t.list(i.index));throw b0(n)}case 6:{const i=e,r=Rgt(i),s=Lgt(i);return t.linked(QA(t,s),r?QA(t,r):void 0,t.type)}case 7:return Lb(e,n);case 8:return Lb(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const UF=t=>t;let rd=De();function GF(t,e={}){let n=!1;const i=e.onError||rgt;return e.onError=r=>{n=!0,i(r)},{...Mgt(t,e),detectError:n}}const y1t=(t,e)=>{if(!_t(t))throw $o(so.NOT_SUPPORT_NON_STRING_MESSAGE);{ie(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||UF)(t),i=rd[n];if(i)return i;const{code:r,detectError:s}=GF(t,e),o=new Function(`return ${r}`)();return s?o:rd[n]=o}};function g1t(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&_t(t)){ie(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||UF)(t),i=rd[n];if(i)return i;const{ast:r,detectError:s}=GF(t,{...e,location:Tgt.NODE_ENV!=="production",jit:!0}),o=KA(r);return s?o:rd[n]=o}else{const n=t.cacheKey;return n?rd[n]||(rd[n]=KA(t)):KA(t)}}const BF=()=>"",xs=t=>Ve(t);function zF(t,...e){const{fallbackFormat:n,postTranslation:i,unresolving:r,messageCompiler:s,fallbackLocale:o,messages:a}=t,[l,c]=tM(...e),p=ie(c.missingWarn)?c.missingWarn:t.missingWarn,d=ie(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=ie(c.escapeParameter)?c.escapeParameter:t.escapeParameter,y=!!c.resolvedMessage,g=_t(c.default)||ie(c.default)?ie(c.default)?s?l:()=>l:c.default:n?s?l:()=>l:"",b=n||g!=="",x=YA(t,c);f&&v1t(c);let[A,M,_]=y?[l,x,a[x]||De()]:VF(t,l,x,o,d,p),w=A,T=l;if(!y&&!(_t(w)||jo(w)||xs(w))&&b&&(w=g,T=w),!y&&(!(_t(w)||jo(w)||xs(w))||!_t(M)))return r?Pb:l;let I=!1;const O=()=>{I=!0},k=xs(w)?w:WF(t,l,M,w,T,O);if(I)return w;const R=_1t(t,M,_,c),j=Jgt(R),z=b1t(t,k,j);let F=i?i(z,l):z;if(f&&_t(F)&&(F=qyt(F)),__INTLIFY_PROD_DEVTOOLS__){const U={timestamp:Date.now(),key:_t(l)?l:xs(w)?w.key:"",locale:M||(xs(w)?w.locale:""),format:_t(w)?w:xs(w)?w.source:"",message:F};U.meta=_i({},t.__meta,u1t()||{}),Qgt(U)}return F}function v1t(t){Ke(t.list)?t.list=t.list.map(e=>_t(e)?iF(e):e):ve(t.named)&&Object.keys(t.named).forEach(e=>{_t(t.named[e])&&(t.named[e]=iF(t.named[e]))})}function VF(t,e,n,i,r,s){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,p=c(t,i,n);let d=De(),f,y=null;const g="translate";for(let b=0;b<p.length&&(f=p[b],d=o[f]||De(),(y=l(d,e))===null&&(y=d[e]),!(_t(y)||jo(y)||xs(y)));b++)if(!f1t(f,p)){const x=XA(t,e,f,s,g);x!==e&&(y=x)}return[y,f,d]}function WF(t,e,n,i,r,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(xs(i)){const c=i;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=()=>i;return c.locale=n,c.key=e,c}const l=o(i,w1t(t,n,r,i,a,s));return l.locale=n,l.key=e,l.source=i,l}function b1t(t,e,n){return e(n)}function tM(...t){const[e,n,i]=t,r=De();if(!_t(e)&&!Fn(e)&&!xs(e)&&!jo(e))throw $o(so.INVALID_ARGUMENT);const s=Fn(e)?String(e):(xs(e),e);return Fn(n)?r.plural=n:_t(n)?r.default=n:Wt(n)&&!Nb(n)?r.named=n:Ke(n)&&(r.list=n),Fn(i)?r.plural=i:_t(i)?r.default=i:Wt(i)&&_i(r,i),[s,r]}function w1t(t,e,n,i,r,s){return{locale:e,key:n,warnHtmlMessage:r,onError:o=>{throw s&&s(o),o},onCacheKey:o=>zyt(e,n,o)}}function _1t(t,e,n,i){const{modifiers:r,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:p}=t,d={locale:e,modifiers:r,pluralRules:s,messages:f=>{let y=o(n,f);if(y==null&&p){const[,,g]=VF(p,f,e,a,l,c);y=o(g,f)}if(_t(y)||jo(y)){let g=!1;const b=WF(t,f,e,y,f,()=>{g=!0});return g?BF:b}else return xs(y)?y:BF}};return t.processor&&(d.processor=t.processor),i.list&&(d.list=i.list),i.named&&(d.named=i.named),Fn(i.plural)&&(d.pluralIndex=i.plural),d}function HF(t,...e){const{datetimeFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,p,d]=eM(...e),f=ie(p.missingWarn)?p.missingWarn:t.missingWarn;ie(p.fallbackWarn)?p.fallbackWarn:t.fallbackWarn;const y=!!p.part,g=YA(t,p),b=o(t,r,g);if(!_t(l)||l==="")return new Intl.DateTimeFormat(g,d).format(c);let x={},A,M=null;const _="datetime format";for(let I=0;I<b.length&&(A=b[I],x=n[A]||{},M=x[l],!Wt(M));I++)XA(t,l,A,f,_);if(!Wt(M)||!_t(A))return i?Pb:l;let w=`${A}__${l}`;Nb(d)||(w=`${w}__${JSON.stringify(d)}`);let T=a.get(w);return T||(T=new Intl.DateTimeFormat(A,_i({},M,d)),a.set(w,T)),y?T.formatToParts(c):T.format(c)}const qF=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function eM(...t){const[e,n,i,r]=t,s=De();let o=De(),a;if(_t(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw $o(so.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw $o(so.INVALID_ISO_DATE_ARGUMENT)}}else if(Wyt(e)){if(isNaN(e.getTime()))throw $o(so.INVALID_DATE_ARGUMENT);a=e}else if(Fn(e))a=e;else throw $o(so.INVALID_ARGUMENT);return _t(n)?s.key=n:Wt(n)&&Object.keys(n).forEach(l=>{qF.includes(l)?o[l]=n[l]:s[l]=n[l]}),_t(i)?s.locale=i:Wt(i)&&(o=i),Wt(r)&&(o=r),[s.key||"",a,s,o]}function YF(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__datetimeFormatters.has(s)&&i.__datetimeFormatters.delete(s)}}function ZF(t,...e){const{numberFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,p,d]=nM(...e),f=ie(p.missingWarn)?p.missingWarn:t.missingWarn;ie(p.fallbackWarn)?p.fallbackWarn:t.fallbackWarn;const y=!!p.part,g=YA(t,p),b=o(t,r,g);if(!_t(l)||l==="")return new Intl.NumberFormat(g,d).format(c);let x={},A,M=null;const _="number format";for(let I=0;I<b.length&&(A=b[I],x=n[A]||{},M=x[l],!Wt(M));I++)XA(t,l,A,f,_);if(!Wt(M)||!_t(A))return i?Pb:l;let w=`${A}__${l}`;Nb(d)||(w=`${w}__${JSON.stringify(d)}`);let T=a.get(w);return T||(T=new Intl.NumberFormat(A,_i({},M,d)),a.set(w,T)),y?T.formatToParts(c):T.format(c)}const JF=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function nM(...t){const[e,n,i,r]=t,s=De();let o=De();if(!Fn(e))throw $o(so.INVALID_ARGUMENT);const a=e;return _t(n)?s.key=n:Wt(n)&&Object.keys(n).forEach(l=>{JF.includes(l)?o[l]=n[l]:s[l]=n[l]}),_t(i)?s.locale=i:Wt(i)&&(o=i),Wt(r)&&(o=r),[s.key||"",a,s,o]}function XF(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__numberFormatters.has(s)&&i.__numberFormatters.delete(s)}}Igt();var x1t={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_e681b303-72ba-4c4a-8fb2-688db3a1cefe",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_e681b303-72ba-4c4a-8fb2-688db3a1cefe",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ramp4-pcar4",GRADLE_HOME:"/usr/share/gradle-9.2.0",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/29.0.14206865",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"57148724",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"1893",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",JAVA_HOME_25_X64:"/usr/lib/jvm/temurin-25-jdk-amd64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20251112.124.1",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.12/x64",JOURNAL_STREAM:"9:9059",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.10/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GOROOT_1_25_X64:"/opt/hostedtoolcache/go/1.25.4/x64",GITHUB_RUN_ID:"19571478886",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"tag",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"962d8a7b7a4b18c601fdd19b43218ee07020dc1b",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"ramp4-pcar4/ramp4-pcar4/.github/workflows/demo-build.yml@refs/tags/v4.14.0",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9yZWZzL3RhZ3MvdjQuMTQuMFwiLFwiUGVybWlzc2lvblwiOjN9LHtcIlNjb3BlXCI6XCJyZWZzL2hlYWRzL21haW5cIixcIlBlcm1pc3Npb25cIjoxfV0iLCJhY3NsIjoiMTAiLCJhdWQiOiJ2c286ZGM4ZTdlNGQtNGQ0NS00OGQwLWJmOGEtNmJkNGM2YzI0NjA3IiwiYmlsbGluZ19vd25lcl9pZCI6Ik9fa2dET0EyZ0ZOQSIsImV4cCI6MTc2Mzc1MjcwOCwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9wcmltYXJ5c2lkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvc2lkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwiaWF0IjoxNzYzNzMwNTA4LCJpc3MiOiJodHRwczovL3Rva2VuLmFjdGlvbnMuZ2l0aHVidXNlcmNvbnRlbnQuY29tIiwiam9iX2lkIjoiM2NlMWRlNDMtNjQ0Zi01NTIxLTkzNjctYjUyY2VkMDg2MjlhIiwibmFtZWlkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwibmJmIjoxNzYzNzMwMjA4LCJvaWRjX2V4dHJhIjoie1wiYWN0b3JcIjpcImphbWVzLXJhZVwiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImJhc2VfcmVmXCI6XCJcIixcImNoZWNrX3J1bl9pZFwiOlwiNTYwNDU4MTQxMzFcIixcImVudmlyb25tZW50XCI6XCJnaXRodWItcGFnZXNcIixcImVudmlyb25tZW50X25vZGVfaWRcIjpcIkVOX2t3RE9EUVBaV2M0ZUV4MlpcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcImhlYWRfcmVmXCI6XCJcIixcImpvYl93b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xNC4wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCI5NjJkOGE3YjdhNGIxOGM2MDFmZGQxOWI0MzIxOGVlMDcwMjBkYzFiXCIsXCJyZWZcIjpcInJlZnMvdGFncy92NC4xNC4wXCIsXCJyZWZfcHJvdGVjdGVkXCI6XCJmYWxzZVwiLFwicmVmX3R5cGVcIjpcInRhZ1wiLFwicmVwb3NpdG9yeVwiOlwicmFtcDQtcGNhcjQvcmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIxODM1NjA1N1wiLFwicmVwb3NpdG9yeV9vd25lclwiOlwicmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfb3duZXJfaWRcIjpcIjU3MTQ4NzI0XCIsXCJyZXBvc2l0b3J5X3Zpc2liaWxpdHlcIjpcInB1YmxpY1wiLFwicnVuX2F0dGVtcHRcIjpcIjFcIixcInJ1bl9pZFwiOlwiMTk1NzE0Nzg4ODZcIixcInJ1bl9udW1iZXJcIjpcIjI2NVwiLFwicnVubmVyX2Vudmlyb25tZW50XCI6XCJnaXRodWItaG9zdGVkXCIsXCJzaGFcIjpcIjk2MmQ4YTdiN2E0YjE4YzYwMWZkZDE5YjQzMjE4ZWUwNzAyMGRjMWJcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcIndvcmtmbG93X3JlZlwiOlwicmFtcDQtcGNhcjQvcmFtcDQtcGNhcjQvLmdpdGh1Yi93b3JrZmxvd3MvZGVtby1idWlsZC55bWxAcmVmcy90YWdzL3Y0LjE0LjBcIixcIndvcmtmbG93X3NoYVwiOlwiOTYyZDhhN2I3YTRiMThjNjAxZmRkMTliNDMyMThlZTA3MDIwZGMxYlwifSIsIm9pZGNfc3ViIjoicmVwbzpyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoX2lkIjoiOTUyMTk1MWItMzE2ZC00ZGMzLWFlYjctMWI0MzUxNzBmMDkyLmJ1aWxkLl9fZGVmYXVsdCIsIm93bmVyX2lkIjoiT19rZ0RPQTJnRk5BIiwicGxhbl9pZCI6Ijk1MjE5NTFiLTMxNmQtNGRjMy1hZWI3LTFiNDM1MTcwZjA5MiIsInJlcG9zaXRvcnlfaWQiOiIyMTgzNTYwNTciLCJydW5faWQiOiIxOTU3MTQ3ODg4NiIsInJ1bl9udW1iZXIiOiIyNjUiLCJydW5fdHlwZSI6ImZ1bGwiLCJydW5uZXJfaWQiOiIxMDAwMDEwNTgxIiwicnVubmVyX3R5cGUiOiJob3N0ZWQiLCJzY3AiOiJBY3Rpb25zLlJlc3VsdHM6OTUyMTk1MWItMzE2ZC00ZGMzLWFlYjctMWI0MzUxNzBmMDkyOjNjZTFkZTQzLTY0NGYtNTUyMS05MzY3LWI1MmNlZDA4NjI5YSBBY3Rpb25zLlJ1bm5lcjo5NTIxOTUxYi0zMTZkLTRkYzMtYWViNy0xYjQzNTE3MGYwOTI6M2NlMWRlNDMtNjQ0Zi01NTIxLTkzNjctYjUyY2VkMDg2MjlhIEFjdGlvbnMuVXBsb2FkQXJ0aWZhY3RzOjk1MjE5NTFiLTMxNmQtNGRjMy1hZWI3LTFiNDM1MTcwZjA5MjozY2UxZGU0My02NDRmLTU1MjEtOTM2Ny1iNTJjZWQwODYyOWEgZ2VuZXJhdGVfaWRfdG9rZW46OTUyMTk1MWItMzE2ZC00ZGMzLWFlYjctMWI0MzUxNzBmMDkyOjNjZTFkZTQzLTY0NGYtNTUyMS05MzY3LWI1MmNlZDA4NjI5YSBBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCIsInNoYSI6Ijk2MmQ4YTdiN2E0YjE4YzYwMWZkZDE5YjQzMjE4ZWUwNzAyMGRjMWIiLCJ0cnVzdF90aWVyIjoiMiJ9.MlgLFMHelSj6M1ZPXLwJYIGL8RT_K2BOrEGspyxAO_OoLCrUioclb62dViA66pKK95ltijlfjWSrCJXqFaBXGC5y7LuENuXJPy_pAb76ey5o_gpRiuyVb9E12veXLEjBauYVujCp49wQB4lAg3HHfvbqhnUUZb5ec5sFC-pK8_pQpmfR1eDaxoNMuklr5uEAPXyNZsmTsKs-Sq7VdH-j_HYJMb_HMb0zoXKaSwnWoCkAE3kp7u2ztFfhRUS__kBomCY3O_7GKKhxNgdbu-U2UZOHzm9l1NVlPJCWwTjXjbYVgVXIjkOCBDL97VA_Wb29qKFkkAUTE-FDcW-fzl8NDw",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_beebe8a9-55c4-433a-9890-a784e3e5aa79",INVOCATION_ID:"bb374d7e49534f7397287e0b8c678501",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"265",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000010581",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"v4.14.0",GITHUB_REPOSITORY:"ramp4-pcar4/ramp4-pcar4",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"218356057",GITHUB_ACTIONS:"true",npm_package_version:"4.14.0",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",GITHUB_SHA:"962d8a7b7a4b18c601fdd19b43218ee07020dc1b",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/tags/v4.14.0",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_e681b303-72ba-4c4a-8fb2-688db3a1cefe",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-2-azure-eastus.actions.githubusercontent.com/86//idtoken/9521951b-316d-4dc3-aeb7-1b435170f092/3ce1de43-644f-5521-9367-b52ced08629a?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_e681b303-72ba-4c4a-8fb2-688db3a1cefe",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_e681b303-72ba-4c4a-8fb2-688db3a1cefe",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const E1t="9.14.5";function S1t(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ua().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ua().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ua().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ua().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ua().__INTLIFY_PROD_DEVTOOLS__=!1)}const A1t=n1t.__EXTEND_POINT__,Ba=Ob(A1t);Ba(),Ba(),Ba(),Ba(),Ba(),Ba(),Ba(),Ba(),Ba();const KF=so.__EXTEND_POINT__,Tr=Ob(KF),ii={UNEXPECTED_RETURN_TYPE:KF,INVALID_ARGUMENT:Tr(),MUST_BE_CALL_SETUP_TOP:Tr(),NOT_INSTALLED:Tr(),NOT_AVAILABLE_IN_LEGACY_MODE:Tr(),REQUIRED_VALUE:Tr(),INVALID_VALUE:Tr(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Tr(),NOT_INSTALLED_WITH_PROVIDE:Tr(),UNEXPECTED_ERROR:Tr(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Tr(),BRIDGE_SUPPORT_VUE_2_ONLY:Tr(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Tr(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Tr(),__EXTEND_POINT__:Tr()};function ci(t,...e){return td(t,null,void 0)}const iM=sc("__translateVNode"),rM=sc("__datetimeParts"),sM=sc("__numberParts"),QF=sc("__setPluralRules"),tU=sc("__injectWithOption"),oM=sc("__dispose");function x0(t){if(!ve(t)||jo(t))return t;for(const e in t)if(io(t,e))if(!e.includes("."))ve(t[e])&&x0(t[e]);else{const n=e.split("."),i=n.length-1;let r=t,s=!1;for(let o=0;o<i;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in r||(r[n[o]]=De()),!ve(r[n[o]])){s=!0;break}r=r[n[o]]}if(s||(jo(r)?xF.includes(n[i])||delete t[e]:(r[n[i]]=t[e],delete t[e])),!jo(r)){const o=r[n[i]];ve(o)&&x0(o)}}return t}function Db(t,e){const{messages:n,__i18n:i,messageResolver:r,flatJson:s}=e,o=Wt(n)?n:Ke(i)?De():{[t]:De()};if(Ke(i)&&i.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||De(),Cb(c,o[l])):Cb(c,o)}else _t(a)&&Cb(JSON.parse(a),o)}),r==null&&s)for(const a in o)io(o,a)&&x0(o[a]);return o}function eU(t){return t.type}function nU(t,e,n){let i=ve(e.messages)?e.messages:De();"__i18nGlobal"in n&&(i=Db(t.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const r=Object.keys(i);r.length&&r.forEach(s=>{t.mergeLocaleMessage(s,i[s])});{if(ve(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(ve(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function iU(t){return Zt(Po,null,t,0)}const rU="__INTLIFY_META__",sU=()=>[],M1t=()=>!1;let oU=0;function aU(t){return(e,n,i,r)=>t(n,i,Dn()||void 0,r)}const kSt=()=>{const t=Dn();let e=null;return t&&(e=eU(t)[rU])?{[rU]:e}:null};function aM(t={},e){const{__root:n,__injectWithOption:i}=t,r=n===void 0,s=t.flatJson,o=Ib?Q:Lp,a=!!t.translateExistCompatible;let l=ie(t.inheritLocale)?t.inheritLocale:!0;const c=o(n&&l?n.locale.value:_t(t.locale)?t.locale:id),p=o(n&&l?n.fallbackLocale.value:_t(t.fallbackLocale)||Ke(t.fallbackLocale)||Wt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:c.value),d=o(Db(c.value,t)),f=o(Wt(t.datetimeFormats)?t.datetimeFormats:{[c.value]:{}}),y=o(Wt(t.numberFormats)?t.numberFormats:{[c.value]:{}});let g=n?n.missingWarn:ie(t.missingWarn)||oc(t.missingWarn)?t.missingWarn:!0,b=n?n.fallbackWarn:ie(t.fallbackWarn)||oc(t.fallbackWarn)?t.fallbackWarn:!0,x=n?n.fallbackRoot:ie(t.fallbackRoot)?t.fallbackRoot:!0,A=!!t.fallbackFormat,M=Ve(t.missing)?t.missing:null,_=Ve(t.missing)?aU(t.missing):null,w=Ve(t.postTranslation)?t.postTranslation:null,T=n?n.warnHtmlMessage:ie(t.warnHtmlMessage)?t.warnHtmlMessage:!0,I=!!t.escapeParameter;const O=n?n.modifiers:Wt(t.modifiers)?t.modifiers:{};let k=t.pluralRules||n&&n.pluralRules,R;R=(()=>{r&&jF(null);const B={version:E1t,locale:c.value,fallbackLocale:p.value,messages:d.value,modifiers:O,pluralRules:k,missing:_===null?void 0:_,missingWarn:g,fallbackWarn:b,fallbackFormat:A,unresolving:!0,postTranslation:w===null?void 0:w,warnHtmlMessage:T,escapeParameter:I,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};B.datetimeFormats=f.value,B.numberFormats=y.value,B.__datetimeFormatters=Wt(R)?R.__datetimeFormatters:void 0,B.__numberFormatters=Wt(R)?R.__numberFormatters:void 0;const q=p1t(B);return r&&jF(q),q})(),_0(R,c.value,p.value);function j(){return[c.value,p.value,d.value,f.value,y.value]}const z=Xt({get:()=>c.value,set:B=>{c.value=B,R.locale=c.value}}),F=Xt({get:()=>p.value,set:B=>{p.value=B,R.fallbackLocale=p.value,_0(R,c.value,B)}}),U=Xt(()=>d.value),Y=Xt(()=>f.value),u=Xt(()=>y.value);function m(){return Ve(w)?w:null}function S(B){w=B,R.postTranslation=B}function C(){return M}function V(B){B!==null&&(_=aU(B)),M=B,R.missing=_}const Z=(B,q,dt,vt,Jt,ee)=>{j();let en;try{x1t.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,r||(R.fallbackContext=n?h1t():void 0),en=B(R)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(R.fallbackContext=void 0)}if(dt!=="translate exists"&&Fn(en)&&en===Pb||dt==="translate exists"&&!en){const[dn,Si]=q();return n&&x?vt(n):Jt(dn)}else{if(ee(en))return en;throw ci(ii.UNEXPECTED_RETURN_TYPE)}};function ft(...B){return Z(q=>Reflect.apply(zF,null,[q,...B]),()=>tM(...B),"translate",q=>Reflect.apply(q.t,q,[...B]),q=>q,q=>_t(q))}function lt(...B){const[q,dt,vt]=B;if(vt&&!ve(vt))throw ci(ii.INVALID_ARGUMENT);return ft(q,dt,_i({resolvedMessage:!0},vt||{}))}function At(...B){return Z(q=>Reflect.apply(HF,null,[q,...B]),()=>eM(...B),"datetime format",q=>Reflect.apply(q.d,q,[...B]),()=>NF,q=>_t(q))}function Pt(...B){return Z(q=>Reflect.apply(ZF,null,[q,...B]),()=>nM(...B),"number format",q=>Reflect.apply(q.n,q,[...B]),()=>NF,q=>_t(q))}function Ft(B){return B.map(q=>_t(q)||Fn(q)||ie(q)?iU(String(q)):q)}const ye={normalize:Ft,interpolate:B=>B,type:"vnode"};function Le(...B){return Z(q=>{let dt;const vt=q;try{vt.processor=ye,dt=Reflect.apply(zF,null,[vt,...B])}finally{vt.processor=null}return dt},()=>tM(...B),"translate",q=>q[iM](...B),q=>[iU(q)],q=>Ke(q))}function je(...B){return Z(q=>Reflect.apply(ZF,null,[q,...B]),()=>nM(...B),"number format",q=>q[sM](...B),sU,q=>_t(q)||Ke(q))}function ui(...B){return Z(q=>Reflect.apply(HF,null,[q,...B]),()=>eM(...B),"datetime format",q=>q[rM](...B),sU,q=>_t(q)||Ke(q))}function We(B){k=B,R.pluralRules=k}function an(B,q){return Z(()=>{if(!B)return!1;const dt=_t(q)?q:c.value,vt=$(dt),Jt=R.messageResolver(vt,B);return a?Jt!=null:jo(Jt)||xs(Jt)||_t(Jt)},()=>[B],"translate exists",dt=>Reflect.apply(dt.te,dt,[B,q]),M1t,dt=>ie(dt))}function ri(B){let q=null;const dt=TF(R,p.value,c.value);for(let vt=0;vt<dt.length;vt++){const Jt=d.value[dt[vt]]||{},ee=R.messageResolver(Jt,B);if(ee!=null){q=ee;break}}return q}function G(B){return ri(B)??(n?n.tm(B)||{}:{})}function $(B){return d.value[B]||{}}function J(B,q){if(s){const dt={[B]:q};for(const vt in dt)io(dt,vt)&&x0(dt[vt]);q=dt[B]}d.value[B]=q,R.messages=d.value}function st(B,q){d.value[B]=d.value[B]||{};const dt={[B]:q};if(s)for(const vt in dt)io(dt,vt)&&x0(dt[vt]);q=dt[B],Cb(q,d.value[B]),R.messages=d.value}function it(B){return f.value[B]||{}}function at(B,q){f.value[B]=q,R.datetimeFormats=f.value,YF(R,B,q)}function mt(B,q){f.value[B]=_i(f.value[B]||{},q),R.datetimeFormats=f.value,YF(R,B,q)}function L(B){return y.value[B]||{}}function P(B,q){y.value[B]=q,R.numberFormats=y.value,XF(R,B,q)}function W(B,q){y.value[B]=_i(y.value[B]||{},q),R.numberFormats=y.value,XF(R,B,q)}oU++,n&&Ib&&(Wn(n.locale,B=>{l&&(c.value=B,R.locale=B,_0(R,c.value,p.value))}),Wn(n.fallbackLocale,B=>{l&&(p.value=B,R.fallbackLocale=B,_0(R,c.value,p.value))}));const K={id:oU,locale:z,fallbackLocale:F,get inheritLocale(){return l},set inheritLocale(B){l=B,B&&n&&(c.value=n.locale.value,p.value=n.fallbackLocale.value,_0(R,c.value,p.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:U,get modifiers(){return O},get pluralRules(){return k||{}},get isGlobal(){return r},get missingWarn(){return g},set missingWarn(B){g=B,R.missingWarn=g},get fallbackWarn(){return b},set fallbackWarn(B){b=B,R.fallbackWarn=b},get fallbackRoot(){return x},set fallbackRoot(B){x=B},get fallbackFormat(){return A},set fallbackFormat(B){A=B,R.fallbackFormat=A},get warnHtmlMessage(){return T},set warnHtmlMessage(B){T=B,R.warnHtmlMessage=B},get escapeParameter(){return I},set escapeParameter(B){I=B,R.escapeParameter=B},t:ft,getLocaleMessage:$,setLocaleMessage:J,mergeLocaleMessage:st,getPostTranslationHandler:m,setPostTranslationHandler:S,getMissingHandler:C,setMissingHandler:V,[QF]:We};return K.datetimeFormats=Y,K.numberFormats=u,K.rt=lt,K.te=an,K.tm=G,K.d=At,K.n=Pt,K.getDateTimeFormat=it,K.setDateTimeFormat=at,K.mergeDateTimeFormat=mt,K.getNumberFormat=L,K.setNumberFormat=P,K.mergeNumberFormat=W,K[tU]=i,K[iM]=Le,K[rM]=ui,K[sM]=je,K}function T1t(t){const e=_t(t.locale)?t.locale:id,n=_t(t.fallbackLocale)||Ke(t.fallbackLocale)||Wt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,i=Ve(t.missing)?t.missing:void 0,r=ie(t.silentTranslationWarn)||oc(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=ie(t.silentFallbackWarn)||oc(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=ie(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=Wt(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,p=Ve(t.postTranslation)?t.postTranslation:void 0,d=_t(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,y=ie(t.sync)?t.sync:!0;let g=t.messages;if(Wt(t.sharedMessages)){const I=t.sharedMessages;g=Object.keys(I).reduce((O,k)=>{const R=O[k]||(O[k]={});return _i(R,I[k]),O},g||{})}const{__i18n:b,__root:x,__injectWithOption:A}=t,M=t.datetimeFormats,_=t.numberFormats,w=t.flatJson,T=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:g,flatJson:w,datetimeFormats:M,numberFormats:_,missing:i,missingWarn:r,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:p,warnHtmlMessage:d,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:y,translateExistCompatible:T,__i18n:b,__root:x,__injectWithOption:A}}function lM(t={},e){{const n=aM(T1t(t)),{__extender:i}=t,r={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return ie(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=ie(s)?!s:s},get silentFallbackWarn(){return ie(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=ie(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[o,a,l]=s,c={};let p=null,d=null;if(!_t(o))throw ci(ii.INVALID_ARGUMENT);const f=o;return _t(a)?c.locale=a:Ke(a)?p=a:Wt(a)&&(d=a),Ke(l)?p=l:Wt(l)&&(d=l),Reflect.apply(n.t,n,[f,p||d||{},c])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[o,a,l]=s,c={plural:1};let p=null,d=null;if(!_t(o))throw ci(ii.INVALID_ARGUMENT);const f=o;return _t(a)?c.locale=a:Fn(a)?c.plural=a:Ke(a)?p=a:Wt(a)&&(d=a),_t(l)?c.locale=l:Ke(l)?p=l:Wt(l)&&(d=l),Reflect.apply(n.t,n,[f,p||d||{},c])},te(s,o){return n.te(s,o)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,o){n.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){n.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,o){n.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){n.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,o){n.setNumberFormat(s,o)},mergeNumberFormat(s,o){n.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return r.__extender=i,r}}const cM={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function I1t({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===Ce?i.children:[i]],[]):e.reduce((n,i)=>{const r=t[i];return r&&(n[i]=r()),n},De())}function lU(t){return Ce}const N1t=ne({name:"i18n-t",props:_i({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Fn(t)||!isNaN(t)}},cM),setup(t,e){const{slots:n,attrs:i}=e,r=t.i18n||Qe({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(d=>d!=="_"),o=De();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=_t(t.plural)?+t.plural:t.plural);const a=I1t(e,s),l=r[iM](t.keypath,a,o),c=_i(De(),i),p=_t(t.tag)||ve(t.tag)?t.tag:lU();return Br(p,c,l)}}}),cU=N1t;function O1t(t){return Ke(t)&&!_t(t[0])}function uU(t,e,n,i){const{slots:r,attrs:s}=e;return()=>{const o={part:!0};let a=De();t.locale&&(o.locale=t.locale),_t(t.format)?o.key=t.format:ve(t.format)&&(_t(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,y)=>n.includes(y)?_i(De(),f,{[y]:t.format[y]}):f,De()));const l=i(t.value,o,a);let c=[o.key];Ke(l)?c=l.map((f,y)=>{const g=r[f.type],b=g?g({[f.type]:f.value,index:y,parts:l}):[f.value];return O1t(b)&&(b[0].key=`${f.type}-${y}`),b}):_t(l)&&(c=[l]);const p=_i(De(),s),d=_t(t.tag)||ve(t.tag)?t.tag:lU();return Br(d,p,c)}}const k1t=ne({name:"i18n-n",props:_i({value:{type:Number,required:!0},format:{type:[String,Object]}},cM),setup(t,e){const n=t.i18n||Qe({useScope:t.scope,__useComponent:!0});return uU(t,e,JF,(...i)=>n[sM](...i))}}),hU=k1t,C1t=ne({name:"i18n-d",props:_i({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},cM),setup(t,e){const n=t.i18n||Qe({useScope:t.scope,__useComponent:!0});return uU(t,e,qF,(...i)=>n[rM](...i))}}),pU=C1t;function R1t(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const i=n.__getInstance(e);return i!=null?i.__composer:t.global.__composer}}function L1t(t){const e=n=>{const{instance:i,modifiers:r,value:s}=n;if(!i||!i.$)throw ci(ii.UNEXPECTED_ERROR);const o=R1t(t,i.$),a=dU(s);return[Reflect.apply(o.t,o,[...fU(a)]),o]};return{created:(n,i)=>{const[r,s]=e(i);Ib&&t.global===s&&(n.__i18nWatcher=Wn(s.locale,()=>{i.instance&&i.instance.$forceUpdate()})),n.__composer=s,n.textContent=r},unmounted:n=>{Ib&&n.__i18nWatcher&&(n.__i18nWatcher(),n.__i18nWatcher=void 0,delete n.__i18nWatcher),n.__composer&&(n.__composer=void 0,delete n.__composer)},beforeUpdate:(n,{value:i})=>{if(n.__composer){const r=n.__composer,s=dU(i);n.textContent=Reflect.apply(r.t,r,[...fU(s)])}},getSSRProps:n=>{const[i]=e(n);return{textContent:i}}}}function dU(t){if(_t(t))return{path:t};if(Wt(t)){if(!("path"in t))throw ci(ii.REQUIRED_VALUE,"path");return t}else throw ci(ii.INVALID_VALUE)}function fU(t){const{path:e,locale:n,args:i,choice:r,plural:s}=t,o={},a=i||{};return _t(n)&&(o.locale=n),Fn(r)&&(o.plural=r),Fn(s)&&(o.plural=s),[e,a,o]}function P1t(t,e,...n){const i=Wt(n[0])?n[0]:{},r=!!i.useI18nComponentName;(!ie(i.globalInstall)||i.globalInstall)&&([r?"i18n":cU.name,"I18nT"].forEach(s=>t.component(s,cU)),[hU.name,"I18nN"].forEach(s=>t.component(s,hU)),[pU.name,"I18nD"].forEach(s=>t.component(s,pU))),t.directive("t",L1t(e))}function D1t(t,e,n){return{beforeCreate(){const i=Dn();if(!i)throw ci(ii.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const s=r.i18n;if(r.__i18n&&(s.__i18n=r.__i18n),s.__root=e,this===this.$root)this.$i18n=mU(t,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=lM(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=mU(t,r);else{this.$i18n=lM({__i18n:r.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;r.__i18nGlobal&&nU(e,r,r),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=Dn();if(!i)throw ci(ii.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),n.__deleteInstance(i),delete this.$i18n}}}function mU(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[QF](e.pluralizationRules||t.pluralizationRules);const n=Db(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(i=>t.mergeLocaleMessage(i,n[i])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(i=>t.mergeDateTimeFormat(i,e.datetimeFormats[i])),e.numberFormats&&Object.keys(e.numberFormats).forEach(i=>t.mergeNumberFormat(i,e.numberFormats[i])),t}const j1t=sc("global-vue-i18n");function $1t(t={},e){const n=__VUE_I18N_LEGACY_API__&&ie(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,i=ie(t.globalInjection)?t.globalInjection:!0,r=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,s=new Map,[o,a]=F1t(t,n),l=sc("");function c(f){return s.get(f)||null}function p(f,y){s.set(f,y)}function d(f){s.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return r},async install(y,...g){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,f),Wt(g[0])){const A=g[0];f.__composerExtend=A.__composerExtend,f.__vueI18nExtend=A.__vueI18nExtend}let b=null;!n&&i&&(b=Y1t(y,f.global)),__VUE_I18N_FULL_INSTALL__&&P1t(y,f,...g),__VUE_I18N_LEGACY_API__&&n&&y.mixin(D1t(a,a.__composer,f));const x=y.unmount;y.unmount=()=>{b&&b(),f.dispose(),x()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:c,__setInstance:p,__deleteInstance:d};return f}}function Qe(t={}){const e=Dn();if(e==null)throw ci(ii.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw ci(ii.NOT_INSTALLED);const n=U1t(e),i=B1t(n),r=eU(e),s=G1t(t,r);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw ci(ii.NOT_AVAILABLE_IN_LEGACY_MODE);return H1t(e,s,i,t)}if(s==="global")return nU(i,t,r),i;if(s==="parent"){let l=z1t(n,e,t.__useComponent);return l==null&&(l=i),l}const o=n;let a=o.__getInstance(e);if(a==null){const l=_i({},t);"__i18n"in r&&(l.__i18n=r.__i18n),i&&(l.__root=i),a=aM(l),o.__composerExtend&&(a[oM]=o.__composerExtend(a)),W1t(o,e,a),o.__setInstance(e,a)}return a}function F1t(t,e,n){const i=km();{const r=__VUE_I18N_LEGACY_API__&&e?i.run(()=>lM(t)):i.run(()=>aM(t));if(r==null)throw ci(ii.UNEXPECTED_ERROR);return[i,r]}}function U1t(t){{const e=Rn(t.isCE?j1t:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw ci(t.isCE?ii.NOT_INSTALLED_WITH_PROVIDE:ii.UNEXPECTED_ERROR);return e}}function G1t(t,e){return Nb(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function B1t(t){return t.mode==="composition"?t.global:t.global.__composer}function z1t(t,e,n=!1){let i=null;const r=e.root;let s=V1t(e,n);for(;s!=null;){const o=t;if(t.mode==="composition")i=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(i=a.__composer,n&&i&&!i[tU]&&(i=null))}if(i!=null||r===s)break;s=s.parent}return i}function V1t(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function W1t(t,e,n){li(()=>{},e),ql(()=>{const i=n;t.__deleteInstance(e);const r=i[oM];r&&(r(),delete i[oM])},e)}function H1t(t,e,n,i={}){const r=e==="local",s=Lp(null);if(r&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw ci(ii.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=ie(i.inheritLocale)?i.inheritLocale:!_t(i.locale),a=Q(!r||o?n.locale.value:_t(i.locale)?i.locale:id),l=Q(!r||o?n.fallbackLocale.value:_t(i.fallbackLocale)||Ke(i.fallbackLocale)||Wt(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:a.value),c=Q(Db(a.value,i)),p=Q(Wt(i.datetimeFormats)?i.datetimeFormats:{[a.value]:{}}),d=Q(Wt(i.numberFormats)?i.numberFormats:{[a.value]:{}}),f=r?n.missingWarn:ie(i.missingWarn)||oc(i.missingWarn)?i.missingWarn:!0,y=r?n.fallbackWarn:ie(i.fallbackWarn)||oc(i.fallbackWarn)?i.fallbackWarn:!0,g=r?n.fallbackRoot:ie(i.fallbackRoot)?i.fallbackRoot:!0,b=!!i.fallbackFormat,x=Ve(i.missing)?i.missing:null,A=Ve(i.postTranslation)?i.postTranslation:null,M=r?n.warnHtmlMessage:ie(i.warnHtmlMessage)?i.warnHtmlMessage:!0,_=!!i.escapeParameter,w=r?n.modifiers:Wt(i.modifiers)?i.modifiers:{},T=i.pluralRules||r&&n.pluralRules;function I(){return[a.value,l.value,c.value,p.value,d.value]}const O=Xt({get:()=>s.value?s.value.locale.value:a.value,set:$=>{s.value&&(s.value.locale.value=$),a.value=$}}),k=Xt({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:$=>{s.value&&(s.value.fallbackLocale.value=$),l.value=$}}),R=Xt(()=>s.value?s.value.messages.value:c.value),j=Xt(()=>p.value),z=Xt(()=>d.value);function F(){return s.value?s.value.getPostTranslationHandler():A}function U($){s.value&&s.value.setPostTranslationHandler($)}function Y(){return s.value?s.value.getMissingHandler():x}function u($){s.value&&s.value.setMissingHandler($)}function m($){return I(),$()}function S(...$){return s.value?m(()=>Reflect.apply(s.value.t,null,[...$])):m(()=>"")}function C(...$){return s.value?Reflect.apply(s.value.rt,null,[...$]):""}function V(...$){return s.value?m(()=>Reflect.apply(s.value.d,null,[...$])):m(()=>"")}function Z(...$){return s.value?m(()=>Reflect.apply(s.value.n,null,[...$])):m(()=>"")}function ft($){return s.value?s.value.tm($):{}}function lt($,J){return s.value?s.value.te($,J):!1}function At($){return s.value?s.value.getLocaleMessage($):{}}function Pt($,J){s.value&&(s.value.setLocaleMessage($,J),c.value[$]=J)}function Ft($,J){s.value&&s.value.mergeLocaleMessage($,J)}function ye($){return s.value?s.value.getDateTimeFormat($):{}}function Le($,J){s.value&&(s.value.setDateTimeFormat($,J),p.value[$]=J)}function je($,J){s.value&&s.value.mergeDateTimeFormat($,J)}function ui($){return s.value?s.value.getNumberFormat($):{}}function We($,J){s.value&&(s.value.setNumberFormat($,J),d.value[$]=J)}function an($,J){s.value&&s.value.mergeNumberFormat($,J)}const ri={get id(){return s.value?s.value.id:-1},locale:O,fallbackLocale:k,messages:R,datetimeFormats:j,numberFormats:z,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale($){s.value&&(s.value.inheritLocale=$)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(c.value)},get modifiers(){return s.value?s.value.modifiers:w},get pluralRules(){return s.value?s.value.pluralRules:T},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:f},set missingWarn($){s.value&&(s.value.missingWarn=$)},get fallbackWarn(){return s.value?s.value.fallbackWarn:y},set fallbackWarn($){s.value&&(s.value.missingWarn=$)},get fallbackRoot(){return s.value?s.value.fallbackRoot:g},set fallbackRoot($){s.value&&(s.value.fallbackRoot=$)},get fallbackFormat(){return s.value?s.value.fallbackFormat:b},set fallbackFormat($){s.value&&(s.value.fallbackFormat=$)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:M},set warnHtmlMessage($){s.value&&(s.value.warnHtmlMessage=$)},get escapeParameter(){return s.value?s.value.escapeParameter:_},set escapeParameter($){s.value&&(s.value.escapeParameter=$)},t:S,getPostTranslationHandler:F,setPostTranslationHandler:U,getMissingHandler:Y,setMissingHandler:u,rt:C,d:V,n:Z,tm:ft,te:lt,getLocaleMessage:At,setLocaleMessage:Pt,mergeLocaleMessage:Ft,getDateTimeFormat:ye,setDateTimeFormat:Le,mergeDateTimeFormat:je,getNumberFormat:ui,setNumberFormat:We,mergeNumberFormat:an};function G($){$.locale.value=a.value,$.fallbackLocale.value=l.value,Object.keys(c.value).forEach(J=>{$.mergeLocaleMessage(J,c.value[J])}),Object.keys(p.value).forEach(J=>{$.mergeDateTimeFormat(J,p.value[J])}),Object.keys(d.value).forEach(J=>{$.mergeNumberFormat(J,d.value[J])}),$.escapeParameter=_,$.fallbackFormat=b,$.fallbackRoot=g,$.fallbackWarn=y,$.missingWarn=f,$.warnHtmlMessage=M}return Hm(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw ci(ii.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const $=s.value=t.proxy.$i18n.__composer;e==="global"?(a.value=$.locale.value,l.value=$.fallbackLocale.value,c.value=$.messages.value,p.value=$.datetimeFormats.value,d.value=$.numberFormats.value):r&&G($)}),ri}const q1t=["locale","fallbackLocale","availableLocales"],yU=["t","rt","d","n","tm","te"];function Y1t(t,e){const n=Object.create(null);return q1t.forEach(i=>{const r=Object.getOwnPropertyDescriptor(e,i);if(!r)throw ci(ii.UNEXPECTED_ERROR);const s=ae(r.value)?{get(){return r.value.value},set(o){r.value.value=o}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,i,s)}),t.config.globalProperties.$i18n=n,yU.forEach(i=>{const r=Object.getOwnPropertyDescriptor(e,i);if(!r||!r.value)throw ci(ii.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,r)}),()=>{delete t.config.globalProperties.$i18n,yU.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}if(S1t(),__INTLIFY_JIT_COMPILATION__?CF(g1t):CF(y1t),l1t(Bgt),c1t(TF),__INTLIFY_PROD_DEVTOOLS__){const t=Ua();t.__INTLIFY__=!0,Xgt(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Z1t={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","ramp.reload":"Reload RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.keyboardNav":"Press the key 'S' then 'H' to view available keyboard shortcuts","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Fran\xE7ais","map.language.curr":"current","map.export":"export map","map.layerSwipe.drag":"Drag and slide to move","map.layerSwipe.label":"Layer swipe","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"fran\xE7ais","lang-native":"Fran\xE7ais","ramp.about.open":"Ouvrir \xC0 propos de PCAR","ramp.about":"\xC0 propos de PCAR","ramp.reload":"Recharger PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous d\xE9placer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un \xE9l\xE9ment de la liste est s\xE9lectionn\xE9, vous pouvez appuyer sur \xAB Espace \xBB ou \xAB Entr\xE9e \xBB pour cliquer sur l'\xE9l\xE9ment. Vous pouvez \xE9galement vous d\xE9placer au sein de l'\xE9l\xE9ment de la liste au moyen de la touche \xAB Tab \xBB.","keyboardInstructions.map":"Lorsque la carte est s\xE9lectionn\xE9e, utilisez le pav\xE9 curseur pour vous d\xE9placer et appuyez sur \xAB Entr\xE9e \xBB  pour s\xE9lectionner un point.","keyboardInstructions.keyboardNav":"Appuyez sur la touche \xAB S \xBB puis \xAB H \xBB pour afficher les raccourcis clavier disponibles","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer \xE0 l'\xE9chelle m\xE9trique","map.toggleScaleToImperial":"Passer \xE0 l'\xE9chelle imp\xE9riale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Fran\xE7ais","map.language.curr":"actuel","map.export":"exporter la carte","map.layerSwipe.drag":"Faites glisser et glissez pour d\xE9placer","map.layerSwipe.label":"Glissement de calque","notifications.open":"Ouvrir la fen\xEAtre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"D\xE9velopper","notifications.controls.collapse":"R\xE9duire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entr\xE9e ou sur la barre d'espacement pour acc\xE9der au panneau","panels.controls.close":"Fermer","panels.controls.pin":"\xC9pingler","panels.controls.unpin":"D\xE9s\xE9pingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"R\xE9duire","panels.controls.expand":"D\xE9velopper","panels.controls.collapse":"R\xE9duire","panels.controls.moveRight":"Aller \xE0 droite","panels.controls.moveLeft":"Aller \xE0 gauche","panels.controls.items":"Utilisez les touches fl\xE9ch\xE9es pour naviguer entre les \xE9l\xE9ments","panels.alert.open":"Fen\xEAtre {name} ouverte","panels.alert.close":"Fen\xEAtre {name} ferm\xE9e","panels.alert.minimize":"Fen\xEAtre {name} r\xE9duite","layer.error":"\xC9chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que pr\xE9vu","layer.longdraw":"{id} prend plus de temps que pr\xE9vu \xE0 extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont \xE9t\xE9 d\xE9sactiv\xE9s pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement d\xE9sactiv\xE9.","layer.noexportmap":"La tentative d\u2019ajouter {name} comme couche d\u2019imagerie cartographique a \xE9chou\xE9e car elle n\u2019a pu \xEAtre activ\xE9 pour ce service","caption.attributionDefaultText":"Propuls\xE9 par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},gU="en",J1t={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function X1t(){return $1t({legacy:!1,locale:document.documentElement.getAttribute("lang")||gU,fallbackLocale:gU,globalInjection:!0,messages:Z1t,numberFormats:J1t})}var vU={exports:{}},bU;function K1t(){return bU||(bU=1,function(t){(function(){var e=typeof window<"u"&&typeof window.document<"u"?window.document:{},n=t.exports,i=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,p={};l<c;l++)if(o=a[l],o&&o[1]in e){for(l=0;l<o.length;l++)p[a[0][l]]=o[l];return p}return!1}(),r={change:i.fullscreenchange,error:i.fullscreenerror},s={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||e.documentElement;var p=o[i.requestFullscreen]();p instanceof Promise&&p.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=e[i.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=r[o];l&&e.addEventListener(l,a,!1)},off:function(o,a){var l=r[o];l&&e.removeEventListener(l,a,!1)},raw:i};if(!i){n?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(s,{isFullscreen:{get:function(){return!!e[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!e[i.fullscreenEnabled]}}}),n?t.exports=s:window.screenfull=s})()}(vU)),vU.exports}var Q1t=K1t();const Fo=cm(Q1t);var jb={exports:{}};jb.exports;var wU;function tvt(){return wU||(wU=1,function(t,e){var n=200,i="__lodash_hash_undefined__",r=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",p="[object Function]",d="[object GeneratorFunction]",f="[object Map]",y="[object Number]",g="[object Object]",b="[object Promise]",x="[object RegExp]",A="[object Set]",M="[object String]",_="[object Symbol]",w="[object WeakMap]",T="[object ArrayBuffer]",I="[object DataView]",O="[object Float32Array]",k="[object Float64Array]",R="[object Int8Array]",j="[object Int16Array]",z="[object Int32Array]",F="[object Uint8Array]",U="[object Uint8ClampedArray]",Y="[object Uint16Array]",u="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,S=/\w*$/,C=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,Z={};Z[s]=Z[o]=Z[T]=Z[I]=Z[a]=Z[l]=Z[O]=Z[k]=Z[R]=Z[j]=Z[z]=Z[f]=Z[y]=Z[g]=Z[x]=Z[A]=Z[M]=Z[_]=Z[F]=Z[U]=Z[Y]=Z[u]=!0,Z[c]=Z[p]=Z[w]=!1;var ft=typeof lm=="object"&&lm&&lm.Object===Object&&lm,lt=typeof self=="object"&&self&&self.Object===Object&&self,At=ft||lt||Function("return this")(),Pt=e&&!e.nodeType&&e,Ft=Pt&&!0&&t&&!t.nodeType&&t,ye=Ft&&Ft.exports===Pt;function Le(D,X){return D.set(X[0],X[1]),D}function je(D,X){return D.add(X),D}function ui(D,X){for(var ot=-1,Ot=D?D.length:0;++ot<Ot&&X(D[ot],ot,D)!==!1;);return D}function We(D,X){for(var ot=-1,Ot=X.length,pi=D.length;++ot<Ot;)D[pi+ot]=X[ot];return D}function an(D,X,ot,Ot){for(var pi=-1,sr=D?D.length:0;++pi<sr;)ot=X(ot,D[pi],pi,D);return ot}function ri(D,X){for(var ot=-1,Ot=Array(D);++ot<D;)Ot[ot]=X(ot);return Ot}function G(D,X){return D?.[X]}function $(D){var X=!1;if(D!=null&&typeof D.toString!="function")try{X=!!(D+"")}catch{}return X}function J(D){var X=-1,ot=Array(D.size);return D.forEach(function(Ot,pi){ot[++X]=[pi,Ot]}),ot}function st(D,X){return function(ot){return D(X(ot))}}function it(D){var X=-1,ot=Array(D.size);return D.forEach(function(Ot){ot[++X]=Ot}),ot}var at=Array.prototype,mt=Function.prototype,L=Object.prototype,P=At["__core-js_shared__"],W=function(){var D=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),K=mt.toString,B=L.hasOwnProperty,q=L.toString,dt=RegExp("^"+K.call(B).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=ye?At.Buffer:void 0,Jt=At.Symbol,ee=At.Uint8Array,en=st(Object.getPrototypeOf,Object),dn=Object.create,Si=L.propertyIsEnumerable,hi=at.splice,tt=Object.getOwnPropertySymbols,Mt=vt?vt.isBuffer:void 0,Nt=st(Object.keys,Object),Ht=ih(At,"DataView"),Kt=ih(At,"Map"),Hn=ih(At,"Promise"),Ai=ih(At,"Set"),ho=ih(At,"WeakMap"),po=ih(Object,"create"),Qo=_c(Ht),th=_c(Kt),Qa=_c(Hn),X2=_c(Ai),Nd=_c(ho),vc=Jt?Jt.prototype:void 0,GT=vc?vc.valueOf:void 0;function bc(D){var X=-1,ot=D?D.length:0;for(this.clear();++X<ot;){var Ot=D[X];this.set(Ot[0],Ot[1])}}function bz(){this.__data__=po?po(null):{}}function wz(D){return this.has(D)&&delete this.__data__[D]}function _z(D){var X=this.__data__;if(po){var ot=X[D];return ot===i?void 0:ot}return B.call(X,D)?X[D]:void 0}function xz(D){var X=this.__data__;return po?X[D]!==void 0:B.call(X,D)}function Ez(D,X){var ot=this.__data__;return ot[D]=po&&X===void 0?i:X,this}bc.prototype.clear=bz,bc.prototype.delete=wz,bc.prototype.get=_z,bc.prototype.has=xz,bc.prototype.set=Ez;function ta(D){var X=-1,ot=D?D.length:0;for(this.clear();++X<ot;){var Ot=D[X];this.set(Ot[0],Ot[1])}}function Sz(){this.__data__=[]}function Az(D){var X=this.__data__,ot=Q0(X,D);if(ot<0)return!1;var Ot=X.length-1;return ot==Ot?X.pop():hi.call(X,ot,1),!0}function Mz(D){var X=this.__data__,ot=Q0(X,D);return ot<0?void 0:X[ot][1]}function Tz(D){return Q0(this.__data__,D)>-1}function Iz(D,X){var ot=this.__data__,Ot=Q0(ot,D);return Ot<0?ot.push([D,X]):ot[Ot][1]=X,this}ta.prototype.clear=Sz,ta.prototype.delete=Az,ta.prototype.get=Mz,ta.prototype.has=Tz,ta.prototype.set=Iz;function eh(D){var X=-1,ot=D?D.length:0;for(this.clear();++X<ot;){var Ot=D[X];this.set(Ot[0],Ot[1])}}function Nz(){this.__data__={hash:new bc,map:new(Kt||ta),string:new bc}}function Oz(D){return ty(this,D).delete(D)}function kz(D){return ty(this,D).get(D)}function Cz(D){return ty(this,D).has(D)}function Rz(D,X){return ty(this,D).set(D,X),this}eh.prototype.clear=Nz,eh.prototype.delete=Oz,eh.prototype.get=kz,eh.prototype.has=Cz,eh.prototype.set=Rz;function nh(D){this.__data__=new ta(D)}function Lz(){this.__data__=new ta}function Pz(D){return this.__data__.delete(D)}function Dz(D){return this.__data__.get(D)}function jz(D){return this.__data__.has(D)}function $z(D,X){var ot=this.__data__;if(ot instanceof ta){var Ot=ot.__data__;if(!Kt||Ot.length<n-1)return Ot.push([D,X]),this;ot=this.__data__=new eh(Ot)}return ot.set(D,X),this}nh.prototype.clear=Lz,nh.prototype.delete=Pz,nh.prototype.get=Dz,nh.prototype.has=jz,nh.prototype.set=$z;function Fz(D,X){var ot=tw(D)||cV(D)?ri(D.length,String):[],Ot=ot.length,pi=!!Ot;for(var sr in D)B.call(D,sr)&&!(pi&&(sr=="length"||sV(sr,Ot)))&&ot.push(sr);return ot}function BT(D,X,ot){var Ot=D[X];(!(B.call(D,X)&&HT(Ot,ot))||ot===void 0&&!(X in D))&&(D[X]=ot)}function Q0(D,X){for(var ot=D.length;ot--;)if(HT(D[ot][0],X))return ot;return-1}function Uz(D,X){return D&&zT(X,ew(X),D)}function K2(D,X,ot,Ot,pi,sr,ea){var or;if(Ot&&(or=sr?Ot(D,pi,sr,ea):Ot(D)),or!==void 0)return or;if(!ey(D))return D;var ZT=tw(D);if(ZT){if(or=nV(D),!X)return Qz(D,or)}else{var rh=wc(D),JT=rh==p||rh==d;if(hV(D))return Hz(D,X);if(rh==g||rh==s||JT&&!sr){if($(D))return sr?D:{};if(or=iV(JT?{}:D),!X)return tV(D,Uz(or,D))}else{if(!Z[rh])return sr?D:{};or=rV(D,rh,K2,X)}}ea||(ea=new nh);var XT=ea.get(D);if(XT)return XT;if(ea.set(D,or),!ZT)var KT=ot?eV(D):ew(D);return ui(KT||D,function(nw,ny){KT&&(ny=nw,nw=D[ny]),BT(or,ny,K2(nw,X,ot,Ot,ny,D,ea))}),or}function Gz(D){return ey(D)?dn(D):{}}function Bz(D,X,ot){var Ot=X(D);return tw(D)?Ot:We(Ot,ot(D))}function zz(D){return q.call(D)}function Vz(D){if(!ey(D)||aV(D))return!1;var X=YT(D)||$(D)?dt:C;return X.test(_c(D))}function Wz(D){if(!WT(D))return Nt(D);var X=[];for(var ot in Object(D))B.call(D,ot)&&ot!="constructor"&&X.push(ot);return X}function Hz(D,X){if(X)return D.slice();var ot=new D.constructor(D.length);return D.copy(ot),ot}function Q2(D){var X=new D.constructor(D.byteLength);return new ee(X).set(new ee(D)),X}function qz(D,X){var ot=X?Q2(D.buffer):D.buffer;return new D.constructor(ot,D.byteOffset,D.byteLength)}function Yz(D,X,ot){var Ot=X?ot(J(D),!0):J(D);return an(Ot,Le,new D.constructor)}function Zz(D){var X=new D.constructor(D.source,S.exec(D));return X.lastIndex=D.lastIndex,X}function Jz(D,X,ot){var Ot=X?ot(it(D),!0):it(D);return an(Ot,je,new D.constructor)}function Xz(D){return GT?Object(GT.call(D)):{}}function Kz(D,X){var ot=X?Q2(D.buffer):D.buffer;return new D.constructor(ot,D.byteOffset,D.length)}function Qz(D,X){var ot=-1,Ot=D.length;for(X||(X=Array(Ot));++ot<Ot;)X[ot]=D[ot];return X}function zT(D,X,ot,Ot){ot||(ot={});for(var pi=-1,sr=X.length;++pi<sr;){var ea=X[pi],or=void 0;BT(ot,ea,or===void 0?D[ea]:or)}return ot}function tV(D,X){return zT(D,VT(D),X)}function eV(D){return Bz(D,ew,VT)}function ty(D,X){var ot=D.__data__;return oV(X)?ot[typeof X=="string"?"string":"hash"]:ot.map}function ih(D,X){var ot=G(D,X);return Vz(ot)?ot:void 0}var VT=tt?st(tt,Object):fV,wc=zz;(Ht&&wc(new Ht(new ArrayBuffer(1)))!=I||Kt&&wc(new Kt)!=f||Hn&&wc(Hn.resolve())!=b||Ai&&wc(new Ai)!=A||ho&&wc(new ho)!=w)&&(wc=function(D){var X=q.call(D),ot=X==g?D.constructor:void 0,Ot=ot?_c(ot):void 0;if(Ot)switch(Ot){case Qo:return I;case th:return f;case Qa:return b;case X2:return A;case Nd:return w}return X});function nV(D){var X=D.length,ot=D.constructor(X);return X&&typeof D[0]=="string"&&B.call(D,"index")&&(ot.index=D.index,ot.input=D.input),ot}function iV(D){return typeof D.constructor=="function"&&!WT(D)?Gz(en(D)):{}}function rV(D,X,ot,Ot){var pi=D.constructor;switch(X){case T:return Q2(D);case a:case l:return new pi(+D);case I:return qz(D,Ot);case O:case k:case R:case j:case z:case F:case U:case Y:case u:return Kz(D,Ot);case f:return Yz(D,Ot,ot);case y:case M:return new pi(D);case x:return Zz(D);case A:return Jz(D,Ot,ot);case _:return Xz(D)}}function sV(D,X){return X=X??r,!!X&&(typeof D=="number"||V.test(D))&&D>-1&&D%1==0&&D<X}function oV(D){var X=typeof D;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?D!=="__proto__":D===null}function aV(D){return!!W&&W in D}function WT(D){var X=D&&D.constructor,ot=typeof X=="function"&&X.prototype||L;return D===ot}function _c(D){if(D!=null){try{return K.call(D)}catch{}try{return D+""}catch{}}return""}function lV(D){return K2(D,!0,!0)}function HT(D,X){return D===X||D!==D&&X!==X}function cV(D){return uV(D)&&B.call(D,"callee")&&(!Si.call(D,"callee")||q.call(D)==s)}var tw=Array.isArray;function qT(D){return D!=null&&pV(D.length)&&!YT(D)}function uV(D){return dV(D)&&qT(D)}var hV=Mt||mV;function YT(D){var X=ey(D)?q.call(D):"";return X==p||X==d}function pV(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=r}function ey(D){var X=typeof D;return!!D&&(X=="object"||X=="function")}function dV(D){return!!D&&typeof D=="object"}function ew(D){return qT(D)?Fz(D):Wz(D)}function fV(){return[]}function mV(){return!1}t.exports=lV}(jb,jb.exports)),jb.exports}var evt=tvt();const _U=cm(evt),$b=Xe("maptip",()=>{const t=Q(void 0),e=Q(void 0),n=Q("");function i(o){t.value=o}function r(o){e.value=o}function s(o){n.value=o}return{maptipInstance:t,maptipPoint:e,content:n,setMaptipInstance:i,setMaptipPoint:r,setMaptipContent:s}}),nvt=ne({__name:"esri-map",setup(t){const e=$b(),n=Rn("iApi"),i=Xt(()=>e.maptipPoint),r=Xt(()=>e.maptipInstance),s=Xt(()=>e.content),o=Qn([]),a=Q(!1);o.push(Wn(i,()=>{if(i.value){const c=n.geo.map.getPixelWidth()/2,p=0,d=n.geo.map.mapPointToScreenPoint(i.value),f=d.screenX-c,y=p-d.screenY;r.value.setProps({offset:a.value?[f,y+25]:[f,y]}),s.value&&s.value!==""&&r.value.show()}else r.value.hide()})),o.push(Wn(s,c=>{c&&c!==""&&i?(r.value.setContent(c),r.value.show()):r.value.hide()})),ys(()=>{o.forEach(c=>c())});const l=()=>{n.geo.map.setMouseFocus()};return(c,p)=>{const d=Ae("tippy");return Se((ct(),gt("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:l,onTouchstart:p[0]||(p[0]=f=>a.value=!0),onTouchend:p[1]||(p[1]=f=>a.value=!1),onKeydown:p[2]||(p[2]=ob(Hp(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[d,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var xU={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},uM={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},ivt=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Fb={CSS:{},springs:{}};function Uo(t,e,n){return Math.min(Math.max(t,e),n)}function E0(t,e){return t.indexOf(e)>-1}function hM(t,e){return t.apply(null,e)}var Ct={arr:function(t){return Array.isArray(t)},obj:function(t){return E0(Object.prototype.toString.call(t),"Object")},pth:function(t){return Ct.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||Ct.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t>"u"},nil:function(t){return Ct.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return Ct.hex(t)||Ct.rgb(t)||Ct.hsl(t)},key:function(t){return!xU.hasOwnProperty(t)&&!uM.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function EU(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function SU(t,e){var n=EU(t),i=Uo(Ct.und(n[0])?1:n[0],.1,100),r=Uo(Ct.und(n[1])?100:n[1],.1,100),s=Uo(Ct.und(n[2])?10:n[2],.1,100),o=Uo(Ct.und(n[3])?0:n[3],.1,100),a=Math.sqrt(r/i),l=s/(2*Math.sqrt(r*i)),c=l<1?a*Math.sqrt(1-l*l):0,p=1,d=l<1?(l*a+-o)/c:-o+a;function f(g){var b=e?e*g/1e3:g;return l<1?b=Math.exp(-b*l*a)*(p*Math.cos(c*b)+d*Math.sin(c*b)):b=(p+d*b)*Math.exp(-b*a),g===0||g===1?g:1-b}function y(){var g=Fb.springs[t];if(g)return g;for(var b=1/6,x=0,A=0;;)if(x+=b,f(x)===1){if(A++,A>=16)break}else A=0;var M=x*b*1e3;return Fb.springs[t]=M,M}return e?f:y}function rvt(t){return t===void 0&&(t=10),function(e){return Math.ceil(Uo(e,1e-6,1)*t)*(1/t)}}var svt=function(){var t=11,e=1/(t-1);function n(p,d){return 1-3*d+3*p}function i(p,d){return 3*d-6*p}function r(p){return 3*p}function s(p,d,f){return((n(d,f)*p+i(d,f))*p+r(d))*p}function o(p,d,f){return 3*n(d,f)*p*p+2*i(d,f)*p+r(d)}function a(p,d,f,y,g){var b,x,A=0;do x=d+(f-d)/2,b=s(x,y,g)-p,b>0?f=x:d=x;while(Math.abs(b)>1e-7&&++A<10);return x}function l(p,d,f,y){for(var g=0;g<4;++g){var b=o(d,f,y);if(b===0)return d;var x=s(d,f,y)-p;d-=x/b}return d}function c(p,d,f,y){if(!(0<=p&&p<=1&&0<=f&&f<=1))return;var g=new Float32Array(t);if(p!==d||f!==y)for(var b=0;b<t;++b)g[b]=s(b*e,p,f);function x(A){for(var M=0,_=1,w=t-1;_!==w&&g[_]<=A;++_)M+=e;--_;var T=(A-g[_])/(g[_+1]-g[_]),I=M+T*e,O=o(I,p,f);return O>=.001?l(A,I,p,f):O===0?I:a(A,M,M+e,p,f)}return function(A){return p===d&&f===y||A===0||A===1?A:s(x(A),d,y)}}return c}(),AU=function(){var t={linear:function(){return function(i){return i}}},e={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var r,s=4;i<((r=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((r*3-2)/22-i,2)}},Elastic:function(i,r){i===void 0&&(i=1),r===void 0&&(r=.5);var s=Uo(i,1,10),o=Uo(r,.1,2);return function(a){return a===0||a===1?a:-s*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/o)}}},n=["Quad","Cubic","Quart","Quint","Expo"];return n.forEach(function(i,r){e[i]=function(){return function(s){return Math.pow(s,r+2)}}}),Object.keys(e).forEach(function(i){var r=e[i];t["easeIn"+i]=r,t["easeOut"+i]=function(s,o){return function(a){return 1-r(s,o)(1-a)}},t["easeInOut"+i]=function(s,o){return function(a){return a<.5?r(s,o)(a*2)/2:1-r(s,o)(a*-2+2)/2}},t["easeOutIn"+i]=function(s,o){return function(a){return a<.5?(1-r(s,o)(1-a*2))/2:(r(s,o)(a*2-1)+1)/2}}}),t}();function pM(t,e){if(Ct.fnc(t))return t;var n=t.split("(")[0],i=AU[n],r=EU(t);switch(n){case"spring":return SU(t,e);case"cubicBezier":return hM(svt,r);case"steps":return hM(rvt,r);default:return hM(i,r)}}function MU(t){try{var e=document.querySelectorAll(t);return e}catch{return}}function Ub(t,e){for(var n=t.length,i=arguments.length>=2?arguments[1]:void 0,r=[],s=0;s<n;s++)if(s in t){var o=t[s];e.call(i,o,s,t)&&r.push(o)}return r}function Gb(t){return t.reduce(function(e,n){return e.concat(Ct.arr(n)?Gb(n):n)},[])}function TU(t){return Ct.arr(t)?t:(Ct.str(t)&&(t=MU(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function dM(t,e){return t.some(function(n){return n===e})}function fM(t){var e={};for(var n in t)e[n]=t[n];return e}function mM(t,e){var n=fM(t);for(var i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function Bb(t,e){var n=fM(t);for(var i in e)n[i]=Ct.und(t[i])?e[i]:t[i];return n}function ovt(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function avt(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=t.replace(e,function(a,l,c,p){return l+l+c+c+p+p}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),r=parseInt(i[1],16),s=parseInt(i[2],16),o=parseInt(i[3],16);return"rgba("+r+","+s+","+o+",1)"}function lvt(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),n=parseInt(e[1],10)/360,i=parseInt(e[2],10)/100,r=parseInt(e[3],10)/100,s=e[4]||1;function o(f,y,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?f+(y-f)*6*g:g<1/2?y:g<2/3?f+(y-f)*(2/3-g)*6:f}var a,l,c;if(i==0)a=l=c=r;else{var p=r<.5?r*(1+i):r+i-r*i,d=2*r-p;a=o(d,p,n+1/3),l=o(d,p,n),c=o(d,p,n-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+s+")"}function cvt(t){if(Ct.rgb(t))return ovt(t);if(Ct.hex(t))return avt(t);if(Ct.hsl(t))return lvt(t)}function za(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function uvt(t){if(E0(t,"translate")||t==="perspective")return"px";if(E0(t,"rotate")||E0(t,"skew"))return"deg"}function yM(t,e){return Ct.fnc(t)?t(e.target,e.id,e.total):t}function Go(t,e){return t.getAttribute(e)}function gM(t,e,n){var i=za(e);if(dM([n,"deg","rad","turn"],i))return e;var r=Fb.CSS[e+n];if(!Ct.und(r))return r;var s=100,o=document.createElement(t.tagName),a=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=s+n;var l=s/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(e);return Fb.CSS[e+n]=c,c}function IU(t,e,n){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return n?gM(t,r,n):r}}function vM(t,e){if(Ct.dom(t)&&!Ct.inp(t)&&(!Ct.nil(Go(t,e))||Ct.svg(t)&&t[e]))return"attribute";if(Ct.dom(t)&&dM(ivt,e))return"transform";if(Ct.dom(t)&&e!=="transform"&&IU(t,e))return"css";if(t[e]!=null)return"object"}function NU(t){if(Ct.dom(t)){for(var e=t.style.transform||"",n=/(\w+)\(([^)]*)\)/g,i=new Map,r;r=n.exec(e);)i.set(r[1],r[2]);return i}}function hvt(t,e,n,i){var r=E0(e,"scale")?1:0+uvt(e),s=NU(t).get(e)||r;return n&&(n.transforms.list.set(e,s),n.transforms.last=e),i?gM(t,s,i):s}function bM(t,e,n,i){switch(vM(t,e)){case"transform":return hvt(t,e,i,n);case"css":return IU(t,e,n);case"attribute":return Go(t,e);default:return t[e]||0}}function wM(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=za(t)||0,r=parseFloat(e),s=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return r+s+i;case"-":return r-s+i;case"*":return r*s+i}}function OU(t,e){if(Ct.col(t))return cvt(t);if(/\s/g.test(t))return t;var n=za(t),i=n?t.substr(0,t.length-n.length):t;return e?i+e:i}function _M(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pvt(t){return Math.PI*2*Go(t,"r")}function dvt(t){return Go(t,"width")*2+Go(t,"height")*2}function fvt(t){return _M({x:Go(t,"x1"),y:Go(t,"y1")},{x:Go(t,"x2"),y:Go(t,"y2")})}function kU(t){for(var e=t.points,n=0,i,r=0;r<e.numberOfItems;r++){var s=e.getItem(r);r>0&&(n+=_M(i,s)),i=s}return n}function mvt(t){var e=t.points;return kU(t)+_M(e.getItem(e.numberOfItems-1),e.getItem(0))}function CU(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return pvt(t);case"rect":return dvt(t);case"line":return fvt(t);case"polyline":return kU(t);case"polygon":return mvt(t)}}function yvt(t){var e=CU(t);return t.setAttribute("stroke-dasharray",e),e}function gvt(t){for(var e=t.parentNode;Ct.svg(e)&&Ct.svg(e.parentNode);)e=e.parentNode;return e}function RU(t,e){var n=e||{},i=n.el||gvt(t),r=i.getBoundingClientRect(),s=Go(i,"viewBox"),o=r.width,a=r.height,l=n.viewBox||(s?s.split(" "):[0,0,o,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function vvt(t,e){var n=Ct.str(t)?MU(t)[0]:t,i=e||100;return function(r){return{property:r,el:n,svg:RU(n),totalLength:CU(n)*(i/100)}}}function bvt(t,e,n){function i(p){p===void 0&&(p=0);var d=e+p>=1?e+p:0;return t.el.getPointAtLength(d)}var r=RU(t.el,t.svg),s=i(),o=i(-1),a=i(1),l=n?1:r.w/r.vW,c=n?1:r.h/r.vH;switch(t.property){case"x":return(s.x-r.x)*l;case"y":return(s.y-r.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function LU(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=OU(Ct.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:Ct.str(t)||e?i.split(n):[]}}function xM(t){var e=t?Gb(Ct.arr(t)?t.map(TU):TU(t)):[];return Ub(e,function(n,i,r){return r.indexOf(n)===i})}function PU(t){var e=xM(t);return e.map(function(n,i){return{target:n,id:i,total:e.length,transforms:{list:NU(n)}}})}function wvt(t,e){var n=fM(e);if(/^spring/.test(n.easing)&&(n.duration=SU(n.easing)),Ct.arr(t)){var i=t.length,r=i===2&&!Ct.obj(t[0]);r?t={value:t}:Ct.fnc(e.duration)||(n.duration=e.duration/i)}var s=Ct.arr(t)?t:[t];return s.map(function(o,a){var l=Ct.obj(o)&&!Ct.pth(o)?o:{value:o};return Ct.und(l.delay)&&(l.delay=a?0:e.delay),Ct.und(l.endDelay)&&(l.endDelay=a===s.length-1?e.endDelay:0),l}).map(function(o){return Bb(o,n)})}function _vt(t){for(var e=Ub(Gb(t.map(function(s){return Object.keys(s)})),function(s){return Ct.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),n={},i=function(s){var o=e[s];n[o]=t.map(function(a){var l={};for(var c in a)Ct.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},r=0;r<e.length;r++)i(r);return n}function xvt(t,e){var n=[],i=e.keyframes;i&&(e=Bb(_vt(i),e));for(var r in e)Ct.key(r)&&n.push({name:r,tweens:wvt(e[r],t)});return n}function Evt(t,e){var n={};for(var i in t){var r=yM(t[i],e);Ct.arr(r)&&(r=r.map(function(s){return yM(s,e)}),r.length===1&&(r=r[0])),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function Svt(t,e){var n;return t.tweens.map(function(i){var r=Evt(i,e),s=r.value,o=Ct.arr(s)?s[1]:s,a=za(o),l=bM(e.target,t.name,a,e),c=n?n.to.original:l,p=Ct.arr(s)?s[0]:c,d=za(p)||za(l),f=a||d;return Ct.und(o)&&(o=c),r.from=LU(p,f),r.to=LU(wM(o,p),f),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=pM(r.easing,r.duration),r.isPath=Ct.pth(s),r.isPathTargetInsideSVG=r.isPath&&Ct.svg(e.target),r.isColor=Ct.col(r.from.original),r.isColor&&(r.round=1),n=r,r})}var DU={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){if(i.list.set(e,n),e===i.last||r){var s="";i.list.forEach(function(o,a){s+=a+"("+o+") "}),t.style.transform=s}}};function jU(t,e){var n=PU(t);n.forEach(function(i){for(var r in e){var s=yM(e[r],i),o=i.target,a=za(s),l=bM(o,r,a,i),c=a||za(l),p=wM(OU(s,c),l),d=vM(o,r);DU[d](o,r,p,i.transforms,!0)}})}function Avt(t,e){var n=vM(t.target,e.name);if(n){var i=Svt(e,t),r=i[i.length-1];return{type:n,property:e.name,animatable:t,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}function Mvt(t,e){return Ub(Gb(t.map(function(n){return e.map(function(i){return Avt(n,i)})})),function(n){return!Ct.und(n)})}function $U(t,e){var n=t.length,i=function(s){return s.timelineOffset?s.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,t.map(function(s){return i(s)+s.duration})):e.duration,r.delay=n?Math.min.apply(Math,t.map(function(s){return i(s)+s.delay})):e.delay,r.endDelay=n?r.duration-Math.max.apply(Math,t.map(function(s){return i(s)+s.duration-s.endDelay})):e.endDelay,r}var FU=0;function Tvt(t){var e=mM(xU,t),n=mM(uM,t),i=xvt(n,t),r=PU(t.targets),s=Mvt(r,i),o=$U(s,n),a=FU;return FU++,Bb(e,{id:a,children:[],animatables:r,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var oo=[],UU=function(){var t;function e(){!t&&(!GU()||!pn.suspendWhenDocumentHidden)&&oo.length>0&&(t=requestAnimationFrame(n))}function n(r){for(var s=oo.length,o=0;o<s;){var a=oo[o];a.paused?(oo.splice(o,1),s--):(a.tick(r),o++)}t=o>0?requestAnimationFrame(n):void 0}function i(){pn.suspendWhenDocumentHidden&&(GU()?t=cancelAnimationFrame(t):(oo.forEach(function(r){return r._onDocumentVisibility()}),UU()))}return typeof document<"u"&&document.addEventListener("visibilitychange",i),e}();function GU(){return!!document&&document.hidden}function pn(t){t===void 0&&(t={});var e=0,n=0,i=0,r,s=0,o=null;function a(M){var _=window.Promise&&new Promise(function(w){return o=w});return M.finished=_,_}var l=Tvt(t);a(l);function c(){var M=l.direction;M!=="alternate"&&(l.direction=M!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,r.forEach(function(_){return _.reversed=l.reversed})}function p(M){return l.reversed?l.duration-M:M}function d(){e=0,n=p(l.currentTime)*(1/pn.speed)}function f(M,_){_&&_.seek(M-_.timelineOffset)}function y(M){if(l.reversePlayback)for(var _=s;_--;)f(M,r[_]);else for(var w=0;w<s;w++)f(M,r[w])}function g(M){for(var _=0,w=l.animations,T=w.length;_<T;){var I=w[_],O=I.animatable,k=I.tweens,R=k.length-1,j=k[R];R&&(j=Ub(k,function(ye){return M<ye.end})[0]||j);for(var z=Uo(M-j.start-j.delay,0,j.duration)/j.duration,F=isNaN(z)?1:j.easing(z),U=j.to.strings,Y=j.round,u=[],m=j.to.numbers.length,S=void 0,C=0;C<m;C++){var V=void 0,Z=j.to.numbers[C],ft=j.from.numbers[C]||0;j.isPath?V=bvt(j.value,F*Z,j.isPathTargetInsideSVG):V=ft+F*(Z-ft),Y&&(j.isColor&&C>2||(V=Math.round(V*Y)/Y)),u.push(V)}var lt=U.length;if(!lt)S=u[0];else{S=U[0];for(var At=0;At<lt;At++){U[At];var Pt=U[At+1],Ft=u[At];isNaN(Ft)||(Pt?S+=Ft+Pt:S+=Ft+" ")}}DU[I.type](O.target,I.property,S,O.transforms),I.currentValue=S,_++}}function b(M){l[M]&&!l.passThrough&&l[M](l)}function x(){l.remaining&&l.remaining!==!0&&l.remaining--}function A(M){var _=l.duration,w=l.delay,T=_-l.endDelay,I=p(M);l.progress=Uo(I/_*100,0,100),l.reversePlayback=I<l.currentTime,r&&y(I),!l.began&&l.currentTime>0&&(l.began=!0,b("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,b("loopBegin")),I<=w&&l.currentTime!==0&&g(0),(I>=T&&l.currentTime!==_||!_)&&g(_),I>w&&I<T?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,b("changeBegin")),b("change"),g(I)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,b("changeComplete")),l.currentTime=Uo(I,0,_),l.began&&b("update"),M>=_&&(n=0,x(),l.remaining?(e=i,b("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,b("loopComplete"),b("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var M=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=M==="reverse",l.remaining=l.loop,r=l.children,s=r.length;for(var _=s;_--;)l.children[_].reset();(l.reversed&&l.loop!==!0||M==="alternate"&&l.loop===1)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(M,_){return jU(M,_),l},l.tick=function(M){i=M,e||(e=i),A((i+(n-e))*pn.speed)},l.seek=function(M){A(p(M))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,oo.push(l),d(),UU())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(M){var _=xM(M);zU(_,l)},l.reset(),l.autoplay&&l.play(),l}function BU(t,e){for(var n=e.length;n--;)dM(t,e[n].animatable.target)&&e.splice(n,1)}function zU(t,e){var n=e.animations,i=e.children;BU(t,n);for(var r=i.length;r--;){var s=i[r],o=s.animations;BU(t,o),!o.length&&!s.children.length&&i.splice(r,1)}!n.length&&!i.length&&e.pause()}function Ivt(t){for(var e=xM(t),n=oo.length;n--;){var i=oo[n];zU(e,i)}}function Nvt(t,e){e===void 0&&(e={});var n=e.direction||"normal",i=e.easing?pM(e.easing):null,r=e.grid,s=e.axis,o=e.from||0,a=o==="first",l=o==="center",c=o==="last",p=Ct.arr(t),d=parseFloat(p?t[0]:t),f=p?parseFloat(t[1]):0,y=za(p?t[1]:t)||0,g=e.start||0+(p?d:0),b=[],x=0;return function(A,M,_){if(a&&(o=0),l&&(o=(_-1)/2),c&&(o=_-1),!b.length){for(var w=0;w<_;w++){if(!r)b.push(Math.abs(o-w));else{var T=l?(r[0]-1)/2:o%r[0],I=l?(r[1]-1)/2:Math.floor(o/r[0]),O=w%r[0],k=Math.floor(w/r[0]),R=T-O,j=I-k,z=Math.sqrt(R*R+j*j);s==="x"&&(z=-R),s==="y"&&(z=-j),b.push(z)}x=Math.max.apply(Math,b)}i&&(b=b.map(function(U){return i(U/x)*x})),n==="reverse"&&(b=b.map(function(U){return s?U<0?U*-1:-U:Math.abs(x-U)}))}var F=p?(f-d)/x:d;return g+F*(Math.round(b[M]*100)/100)+y}}function Ovt(t){t===void 0&&(t={});var e=pn(t);return e.duration=0,e.add=function(n,i){var r=oo.indexOf(e),s=e.children;r>-1&&oo.splice(r,1);function o(f){f.passThrough=!0}for(var a=0;a<s.length;a++)o(s[a]);var l=Bb(n,mM(uM,t));l.targets=l.targets||t.targets;var c=e.duration;l.autoplay=!1,l.direction=e.direction,l.timelineOffset=Ct.und(i)?c:wM(i,c),o(e),e.seek(l.timelineOffset);var p=pn(l);o(p),s.push(p);var d=$U(s,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}pn.version="3.2.1",pn.speed=1,pn.suspendWhenDocumentHidden=!0,pn.running=oo,pn.remove=Ivt,pn.get=bM,pn.set=jU,pn.convertPx=gM,pn.path=vvt,pn.setDashoffset=yvt,pn.stagger=Nvt,pn.timeline=Ovt,pn.easing=pM,pn.penner=AU,pn.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};const kvt={xs:200,sm:576,md:768,lg:960};class VU{resizeObserver;constructor(e){this.resizeObserver=new ResizeObserver(n=>{n.length&&window.requestAnimationFrame(()=>{n.forEach(i=>{const r=i.target.dataset.breakpoints,s=r?JSON.parse(r):e??kvt;Object.keys(s).forEach(o=>{const a=s[o];i.contentRect.width>=a?i.target.classList.add(o):i.target.classList.remove(o)})})})})}observe(e){this.resizeObserver?.observe(e)}}const Cvt=["data-cy"],WU=ne({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(t){const e=Q(null),n=t,i=Q(!1);li(()=>{n.panel.teleport&&new VU({xs:0,sm:461,...n.panel.teleport.breakpoints}).observe(e.value)});const r=(l,c,p)=>{if(i.value)return c();pn({targets:l,opacity:{value:p,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},s=(l,c)=>{r(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(i.value=n.panel.isScreenLoaded(n.panel.route.screen),e.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{r(l,c,[0,1])};return(l,c)=>{const p=Ae("focus-container");return ct(),gt("div",{class:rn(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",t.panel.expanded?"flex-grow max-w-full":""]),style:Aa(t.panel.style),"data-cy":t.panel.id,ref_key:"componentEl",ref:e},[Zt(n0,{onBeforeLeave:o,onLeave:a,onEnter:s},{default:Mn(()=>[Se((ct(),Ue($v(t.panel.route.screen),Qm({class:"h-full"},t.panel.route.props,{panel:t.panel}),null,16,["panel"])),[[p]])]),_:1})],14,Cvt)}}}),uc=Xe("panel",()=>{const t=Q(void 0),e=Q(void 0),n=Q(0),i=Q(0),r=Q(!1),s=Q(!0),o=Q({}),a=Q({}),l=Q([]),c=Q([]),p=Q([]),d=Q(1),f=Xt(()=>i.value);function y(U){return U==="xs"&&p.value.length>0?[p.value.slice().pop()]:p.value}function g(U){const Y=[];return U.forEach(u=>{u in a.value&&Y.push(a.value[u].getPromise())}),Y}function b(U){k(U),I(),e.value=void 0}function x(U){R(U),I()}function A(U,Y){j(U,Y),I()}function M(U){z(U),I()}function _(U){d.value=U}function w(U){n.value=U,I()}function T(U){r.value=U}function I(){let U=n.value;const Y=[],u=350,m=12,S=600;for(let C=l.value.length-1;C>=0;C--){const V=l.value[C];let Z=V.width||u;if(r.value?Z=U:Z+=m,V.id==="grid"&&(Z=Math.max(Math.min(Z,U),S)),(U>=Z&&!r.value||Y.length===0)&&(U-=Z,Y.unshift(V)),V.id==="grid"&&U<S)break}if(t.value&&!Y.includes(t.value)&&!r.value){let C;for(let lt=0;lt<Y.length-1&&U<(t.value.width||u)+m;lt++)C=Y.shift(),U+=C.width||u;U>=(t.value.width||u)?Y.unshift(t.value):e.value||(C=Y.shift(),Y.unshift(t.value));const V=l.value.indexOf(t.value),Z=l.value.indexOf(C),ft=l.value.slice();Z>-1&&(ft.splice(V,1),ft.splice(Z,0,t.value)),l.value=ft}i.value=U,p.value=Y}function O(U){if(o.value={...o.value,[U.id]:U},U.id in a.value)a.value[U.id].resolveMe(U);else{const Y=new Sn;Y.resolveMe(U),a.value={...a.value,[U.id]:Y}}}function k(U){U.teleport?c.value=[...c.value,U]:(l.value=[...l.value,U],e.value=U)}function R(U){if(U.teleport){const Y=c.value.indexOf(U);Y!==-1&&(c.value=[...c.value.slice(0,Y),...c.value.slice(Y+1)])}else{const Y=l.value.indexOf(U);Y!==-1&&(l.value=[...l.value.slice(0,Y),...l.value.slice(Y+1)])}}function j(U,Y){const u=l.value.indexOf(U),m=Y==="right"?1:-1;p.value.includes(l.value[u+m])&&([l.value[u],l.value[u+m]]=[l.value[u+m],l.value[u]])}function z(U){o.value[U.id]!==void 0&&delete o.value[U.id],a.value[U.id]!==void 0&&delete a.value[U.id];const Y=p.value.indexOf(U);Y!==-1&&(p.value=[...p.value.slice(0,Y),...p.value.slice(Y+1)]),t.value&&t.value.id==U.id&&(t.value=void 0)}function F(U){a.value={...a.value,[U]:new Sn}}return{items:o,regPromises:a,orderedItems:l,pinned:t,priority:e,visible:p,opacity:d,stackWidth:n,remWidth:i,mobileView:r,reorderable:s,teleported:c,getRemainingWidth:f,getVisible:y,getRegPromises:g,openPanel:b,closePanel:x,movePanel:A,removePanel:M,setOpacity:_,setStackWidth:w,setMobileView:T,updateVisible:I,registerPanel:O,addRegPromise:F}}),Rvt=ne({__name:"panel-stack",setup(t){nA(p=>({"3d36ee4c":r.value}));const e=uc(),n=Rn("iApi"),i=Q(),r=Xt(()=>e.opacity),s=Xt(()=>e.mobileView);li(()=>{new ResizeObserver(p=>{const d=!(n.$vApp.$root?.$refs["app-size"]).classList.contains("sm");s.value!==d&&(e.mobileView=d,n.event.emit(It.RAMP_MOBILEVIEW_CHANGE,d)),e.setStackWidth(p[0].contentRect.width)}).observe(i.value?.$el)});const o=p=>e.getVisible(p),a=(p,d)=>{c(p,d,[[6,0],[0,1]])},l=(p,d)=>{const[f,y]=[p.children[0].getBoundingClientRect(),p.parentElement.getBoundingClientRect()];p.style.width=`${f.width}px`,p.style.height=`${f.height}px`,p.style.left=`${f.left-y.left}px`,p.style.position="absolute",c(p,d,[[0,-6],[1,0]])},c=(p,d,f)=>{pn({targets:p,duration:300,translateY:{value:f[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:f[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:d})};return(p,d)=>(ct(),Ue(eb,{onEnter:a,onLeave:l,name:"panel-container",tag:"div",ref_key:"el",ref:i,class:"panel-container"},{default:Mn(()=>[(ct(!0),gt(Ce,null,Ra(o(St(n).screenSize),f=>(ct(),Ue(WU,{key:`${f.id}`,panel:f},null,8,["panel"]))),128))]),_:1},512))}}),Bo=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},Lvt=Bo(Rvt,[["__scopeId","data-v-717e4bd7"]]);var Ir="top",Es="bottom",Ss="right",Nr="left",EM="auto",S0=[Ir,Es,Ss,Nr],sd="start",A0="end",Pvt="clippingParents",HU="viewport",M0="popper",Dvt="reference",qU=S0.reduce(function(t,e){return t.concat([e+"-"+sd,e+"-"+A0])},[]),YU=[].concat(S0,[EM]).reduce(function(t,e){return t.concat([e,e+"-"+sd,e+"-"+A0])},[]),jvt="beforeRead",$vt="read",Fvt="afterRead",Uvt="beforeMain",Gvt="main",Bvt="afterMain",zvt="beforeWrite",Vvt="write",Wvt="afterWrite",Hvt=[jvt,$vt,Fvt,Uvt,Gvt,Bvt,zvt,Vvt,Wvt];function zo(t){return t?(t.nodeName||"").toLowerCase():null}function Hr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Uu(t){var e=Hr(t).Element;return t instanceof e||t instanceof Element}function As(t){var e=Hr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function SM(t){if(typeof ShadowRoot>"u")return!1;var e=Hr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function qvt(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!As(s)||!zo(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Yvt(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!As(r)||!zo(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const Zvt={name:"applyStyles",enabled:!0,phase:"write",fn:qvt,effect:Yvt,requires:["computeStyles"]};function Vo(t){return t.split("-")[0]}var Gu=Math.max,zb=Math.min,od=Math.round;function AM(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ZU(){return!/^((?!chrome|android).)*safari/i.test(AM())}function ad(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,s=1;e&&As(t)&&(r=t.offsetWidth>0&&od(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&od(i.height)/t.offsetHeight||1);var o=Uu(t)?Hr(t):window,a=o.visualViewport,l=!ZU()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,p=(i.top+(l&&a?a.offsetTop:0))/s,d=i.width/r,f=i.height/s;return{width:d,height:f,top:p,right:c+d,bottom:p+f,left:c,x:c,y:p}}function MM(t){var e=ad(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function JU(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&SM(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Va(t){return Hr(t).getComputedStyle(t)}function Jvt(t){return["table","td","th"].indexOf(zo(t))>=0}function hc(t){return((Uu(t)?t.ownerDocument:t.document)||window.document).documentElement}function Vb(t){return zo(t)==="html"?t:t.assignedSlot||t.parentNode||(SM(t)?t.host:null)||hc(t)}function XU(t){return!As(t)||Va(t).position==="fixed"?null:t.offsetParent}function Xvt(t){var e=/firefox/i.test(AM()),n=/Trident/i.test(AM());if(n&&As(t)){var i=Va(t);if(i.position==="fixed")return null}var r=Vb(t);for(SM(r)&&(r=r.host);As(r)&&["html","body"].indexOf(zo(r))<0;){var s=Va(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function T0(t){for(var e=Hr(t),n=XU(t);n&&Jvt(n)&&Va(n).position==="static";)n=XU(n);return n&&(zo(n)==="html"||zo(n)==="body"&&Va(n).position==="static")?e:n||Xvt(t)||e}function TM(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function I0(t,e,n){return Gu(t,zb(e,n))}function Kvt(t,e,n){var i=I0(t,e,n);return i>n?n:i}function KU(){return{top:0,right:0,bottom:0,left:0}}function QU(t){return Object.assign({},KU(),t)}function tG(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var Qvt=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,QU(typeof t!="number"?t:tG(t,S0))};function tbt(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Vo(n.placement),l=TM(a),c=[Nr,Ss].indexOf(a)>=0,p=c?"height":"width";if(!(!s||!o)){var d=Qvt(r.padding,n),f=MM(s),y=l==="y"?Ir:Nr,g=l==="y"?Es:Ss,b=n.rects.reference[p]+n.rects.reference[l]-o[l]-n.rects.popper[p],x=o[l]-n.rects.reference[l],A=T0(s),M=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,_=b/2-x/2,w=d[y],T=M-f[p]-d[g],I=M/2-f[p]/2+_,O=I0(w,I,T),k=l;n.modifiersData[i]=(e={},e[k]=O,e.centerOffset=O-I,e)}}function ebt(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||JU(e.elements.popper,r)&&(e.elements.arrow=r))}const nbt={name:"arrow",enabled:!0,phase:"main",fn:tbt,effect:ebt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ld(t){return t.split("-")[1]}var ibt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rbt(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:od(n*r)/r||0,y:od(i*r)/r||0}}function eG(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,p=t.roundOffsets,d=t.isFixed,f=o.x,y=f===void 0?0:f,g=o.y,b=g===void 0?0:g,x=typeof p=="function"?p({x:y,y:b}):{x:y,y:b};y=x.x,b=x.y;var A=o.hasOwnProperty("x"),M=o.hasOwnProperty("y"),_=Nr,w=Ir,T=window;if(c){var I=T0(n),O="clientHeight",k="clientWidth";if(I===Hr(n)&&(I=hc(n),Va(I).position!=="static"&&a==="absolute"&&(O="scrollHeight",k="scrollWidth")),I=I,r===Ir||(r===Nr||r===Ss)&&s===A0){w=Es;var R=d&&I===T&&T.visualViewport?T.visualViewport.height:I[O];b-=R-i.height,b*=l?1:-1}if(r===Nr||(r===Ir||r===Es)&&s===A0){_=Ss;var j=d&&I===T&&T.visualViewport?T.visualViewport.width:I[k];y-=j-i.width,y*=l?1:-1}}var z=Object.assign({position:a},c&&ibt),F=p===!0?rbt({x:y,y:b},Hr(n)):{x:y,y:b};if(y=F.x,b=F.y,l){var U;return Object.assign({},z,(U={},U[w]=M?"0":"",U[_]=A?"0":"",U.transform=(T.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",U))}return Object.assign({},z,(e={},e[w]=M?b+"px":"",e[_]=A?y+"px":"",e.transform="",e))}function sbt(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Vo(e.placement),variation:ld(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,eG(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,eG(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const obt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sbt,data:{}};var Wb={passive:!0};function abt(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=Hr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(p){p.addEventListener("scroll",n.update,Wb)}),a&&l.addEventListener("resize",n.update,Wb),function(){s&&c.forEach(function(p){p.removeEventListener("scroll",n.update,Wb)}),a&&l.removeEventListener("resize",n.update,Wb)}}const lbt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:abt,data:{}};var cbt={left:"right",right:"left",bottom:"top",top:"bottom"};function Hb(t){return t.replace(/left|right|bottom|top/g,function(e){return cbt[e]})}var ubt={start:"end",end:"start"};function nG(t){return t.replace(/start|end/g,function(e){return ubt[e]})}function IM(t){var e=Hr(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function NM(t){return ad(hc(t)).left+IM(t).scrollLeft}function hbt(t,e){var n=Hr(t),i=hc(t),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=ZU();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+NM(t),y:l}}function pbt(t){var e,n=hc(t),i=IM(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=Gu(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Gu(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+NM(t),l=-i.scrollTop;return Va(r||n).direction==="rtl"&&(a+=Gu(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function OM(t){var e=Va(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function iG(t){return["html","body","#document"].indexOf(zo(t))>=0?t.ownerDocument.body:As(t)&&OM(t)?t:iG(Vb(t))}function N0(t,e){var n;e===void 0&&(e=[]);var i=iG(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=Hr(i),o=r?[s].concat(s.visualViewport||[],OM(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(N0(Vb(o)))}function kM(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function dbt(t,e){var n=ad(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function rG(t,e,n){return e===HU?kM(hbt(t,n)):Uu(e)?dbt(e,n):kM(pbt(hc(t)))}function fbt(t){var e=N0(Vb(t)),n=["absolute","fixed"].indexOf(Va(t).position)>=0,i=n&&As(t)?T0(t):t;return Uu(i)?e.filter(function(r){return Uu(r)&&JU(r,i)&&zo(r)!=="body"}):[]}function mbt(t,e,n,i){var r=e==="clippingParents"?fbt(t):[].concat(e),s=[].concat(r,[n]),o=s[0],a=s.reduce(function(l,c){var p=rG(t,c,i);return l.top=Gu(p.top,l.top),l.right=zb(p.right,l.right),l.bottom=zb(p.bottom,l.bottom),l.left=Gu(p.left,l.left),l},rG(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function sG(t){var e=t.reference,n=t.element,i=t.placement,r=i?Vo(i):null,s=i?ld(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case Ir:l={x:o,y:e.y-n.height};break;case Es:l={x:o,y:e.y+e.height};break;case Ss:l={x:e.x+e.width,y:a};break;case Nr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?TM(r):null;if(c!=null){var p=c==="y"?"height":"width";switch(s){case sd:l[c]=l[c]-(e[p]/2-n[p]/2);break;case A0:l[c]=l[c]+(e[p]/2-n[p]/2);break}}return l}function Bu(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Pvt:a,c=n.rootBoundary,p=c===void 0?HU:c,d=n.elementContext,f=d===void 0?M0:d,y=n.altBoundary,g=y===void 0?!1:y,b=n.padding,x=b===void 0?0:b,A=QU(typeof x!="number"?x:tG(x,S0)),M=f===M0?Dvt:M0,_=t.rects.popper,w=t.elements[g?M:f],T=mbt(Uu(w)?w:w.contextElement||hc(t.elements.popper),l,p,o),I=ad(t.elements.reference),O=sG({reference:I,element:_,placement:r}),k=kM(Object.assign({},_,O)),R=f===M0?k:I,j={top:T.top-R.top+A.top,bottom:R.bottom-T.bottom+A.bottom,left:T.left-R.left+A.left,right:R.right-T.right+A.right},z=t.modifiersData.offset;if(f===M0&&z){var F=z[r];Object.keys(j).forEach(function(U){var Y=[Ss,Es].indexOf(U)>=0?1:-1,u=[Ir,Es].indexOf(U)>=0?"y":"x";j[U]+=F[u]*Y})}return j}function ybt(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?YU:l,p=ld(i),d=p?a?qU:qU.filter(function(g){return ld(g)===p}):S0,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var y=f.reduce(function(g,b){return g[b]=Bu(t,{placement:b,boundary:r,rootBoundary:s,padding:o})[Vo(b)],g},{});return Object.keys(y).sort(function(g,b){return y[g]-y[b]})}function gbt(t){if(Vo(t)===EM)return[];var e=Hb(t);return[nG(t),e,nG(e)]}function vbt(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,p=n.boundary,d=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,g=y===void 0?!0:y,b=n.allowedAutoPlacements,x=e.options.placement,A=Vo(x),M=A===x,_=l||(M||!g?[Hb(x)]:gbt(x)),w=[x].concat(_).reduce(function(Pt,Ft){return Pt.concat(Vo(Ft)===EM?ybt(e,{placement:Ft,boundary:p,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:b}):Ft)},[]),T=e.rects.reference,I=e.rects.popper,O=new Map,k=!0,R=w[0],j=0;j<w.length;j++){var z=w[j],F=Vo(z),U=ld(z)===sd,Y=[Ir,Es].indexOf(F)>=0,u=Y?"width":"height",m=Bu(e,{placement:z,boundary:p,rootBoundary:d,altBoundary:f,padding:c}),S=Y?U?Ss:Nr:U?Es:Ir;T[u]>I[u]&&(S=Hb(S));var C=Hb(S),V=[];if(s&&V.push(m[F]<=0),a&&V.push(m[S]<=0,m[C]<=0),V.every(function(Pt){return Pt})){R=z,k=!1;break}O.set(z,V)}if(k)for(var Z=g?3:1,ft=function(Pt){var Ft=w.find(function(ye){var Le=O.get(ye);if(Le)return Le.slice(0,Pt).every(function(je){return je})});if(Ft)return R=Ft,"break"},lt=Z;lt>0;lt--){var At=ft(lt);if(At==="break")break}e.placement!==R&&(e.modifiersData[i]._skip=!0,e.placement=R,e.reset=!0)}}const bbt={name:"flip",enabled:!0,phase:"main",fn:vbt,requiresIfExists:["offset"],data:{_skip:!1}};function oG(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function aG(t){return[Ir,Ss,Es,Nr].some(function(e){return t[e]>=0})}function wbt(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=Bu(e,{elementContext:"reference"}),a=Bu(e,{altBoundary:!0}),l=oG(o,i),c=oG(a,r,s),p=aG(l),d=aG(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":d})}const _bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:wbt};function xbt(t,e,n){var i=Vo(t),r=[Nr,Ir].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Nr,Ss].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Ebt(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=YU.reduce(function(p,d){return p[d]=xbt(d,e.rects,s),p},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const Sbt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ebt};function Abt(t){var e=t.state,n=t.name;e.modifiersData[n]=sG({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Mbt={name:"popperOffsets",enabled:!0,phase:"read",fn:Abt,data:{}};function Tbt(t){return t==="x"?"y":"x"}function Ibt(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,p=n.altBoundary,d=n.padding,f=n.tether,y=f===void 0?!0:f,g=n.tetherOffset,b=g===void 0?0:g,x=Bu(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:p}),A=Vo(e.placement),M=ld(e.placement),_=!M,w=TM(A),T=Tbt(w),I=e.modifiersData.popperOffsets,O=e.rects.reference,k=e.rects.popper,R=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,j=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(I){if(s){var U,Y=w==="y"?Ir:Nr,u=w==="y"?Es:Ss,m=w==="y"?"height":"width",S=I[w],C=S+x[Y],V=S-x[u],Z=y?-k[m]/2:0,ft=M===sd?O[m]:k[m],lt=M===sd?-k[m]:-O[m],At=e.elements.arrow,Pt=y&&At?MM(At):{width:0,height:0},Ft=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:KU(),ye=Ft[Y],Le=Ft[u],je=I0(0,O[m],Pt[m]),ui=_?O[m]/2-Z-je-ye-j.mainAxis:ft-je-ye-j.mainAxis,We=_?-O[m]/2+Z+je+Le+j.mainAxis:lt+je+Le+j.mainAxis,an=e.elements.arrow&&T0(e.elements.arrow),ri=an?w==="y"?an.clientTop||0:an.clientLeft||0:0,G=(U=z?.[w])!=null?U:0,$=S+ui-G-ri,J=S+We-G,st=I0(y?zb(C,$):C,S,y?Gu(V,J):V);I[w]=st,F[w]=st-S}if(a){var it,at=w==="x"?Ir:Nr,mt=w==="x"?Es:Ss,L=I[T],P=T==="y"?"height":"width",W=L+x[at],K=L-x[mt],B=[Ir,Nr].indexOf(A)!==-1,q=(it=z?.[T])!=null?it:0,dt=B?W:L-O[P]-k[P]-q+j.altAxis,vt=B?L+O[P]+k[P]-q-j.altAxis:K,Jt=y&&B?Kvt(dt,L,vt):I0(y?dt:W,L,y?vt:K);I[T]=Jt,F[T]=Jt-L}e.modifiersData[i]=F}}const Nbt={name:"preventOverflow",enabled:!0,phase:"main",fn:Ibt,requiresIfExists:["offset"]};function Obt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function kbt(t){return t===Hr(t)||!As(t)?IM(t):Obt(t)}function Cbt(t){var e=t.getBoundingClientRect(),n=od(e.width)/t.offsetWidth||1,i=od(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Rbt(t,e,n){n===void 0&&(n=!1);var i=As(e),r=As(e)&&Cbt(e),s=hc(e),o=ad(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((zo(e)!=="body"||OM(s))&&(a=kbt(e)),As(e)?(l=ad(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=NM(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Lbt(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function Pbt(t){var e=Lbt(t);return Hvt.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function Dbt(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function jbt(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var lG={placement:"bottom",modifiers:[],strategy:"absolute"};function cG(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function $bt(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?lG:r;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},lG,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},p=[],d=!1,f={state:c,setOptions:function(b){var x=typeof b=="function"?b(c.options):b;g(),c.options=Object.assign({},s,c.options,x),c.scrollParents={reference:Uu(o)?N0(o):o.contextElement?N0(o.contextElement):[],popper:N0(a)};var A=Pbt(jbt([].concat(i,c.options.modifiers)));return c.orderedModifiers=A.filter(function(M){return M.enabled}),y(),f.update()},forceUpdate:function(){if(!d){var b=c.elements,x=b.reference,A=b.popper;if(cG(x,A)){c.rects={reference:Rbt(x,T0(A),c.options.strategy==="fixed"),popper:MM(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var M=0;M<c.orderedModifiers.length;M++){if(c.reset===!0){c.reset=!1,M=-1;continue}var _=c.orderedModifiers[M],w=_.fn,T=_.options,I=T===void 0?{}:T,O=_.name;typeof w=="function"&&(c=w({state:c,options:I,name:O,instance:f})||c)}}}},update:Dbt(function(){return new Promise(function(b){f.forceUpdate(),b(c)})}),destroy:function(){g(),d=!0}};if(!cG(o,a))return f;f.setOptions(l).then(function(b){!d&&l.onFirstUpdate&&l.onFirstUpdate(b)});function y(){c.orderedModifiers.forEach(function(b){var x=b.name,A=b.options,M=A===void 0?{}:A,_=b.effect;if(typeof _=="function"){var w=_({state:c,name:x,instance:f,options:M}),T=function(){};p.push(w||T)}})}function g(){p.forEach(function(b){return b()}),p=[]}return f}}var Fbt=[lbt,Mbt,obt,Zvt,Sbt,bbt,Nbt,nbt,_bt],uG=$bt({defaultModifiers:Fbt});const Ubt=["content","aria-label"],CM=ne({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(t){const e=Q(!1),n=Q(null),i=Qn([]),r=Q(),s=Q(),o=Q(),a=t;i.push(Wn(e,()=>{n.value.update()}));const l=()=>{e.value=!e.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:e.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},p=()=>{o.value._tippy.hide()};return li(()=>{window.addEventListener("click",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{e.value=!1}),window.addEventListener("focusin",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",p),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",p),fs(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:f}){const{bottom:y}=Bu(f);y>0?(f.styles.popper.overflowY=y>100?"auto":void 0,f.styles.popper.overflowX="hidden",f.styles.popper.height=`${f.rects.popper.height-y-8}px`):f.styles.popper.height="auto"}};o.value&&s.value&&(n.value=uG(o.value,s.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),ys(()=>{i.forEach(d=>d()),window.removeEventListener("click",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{e.value=!1}),window.removeEventListener("focusin",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",p),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",p),e.value=!1}),(d,f)=>{const y=Ae("tippy");return ct(),gt("div",{ref_key:"el",ref:r},[Se((ct(),gt("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:t.tooltip,"aria-label":t.ariaLabel?String(t.ariaLabel):String(t.tooltip),ref_key:"dropdownTrigger",ref:o},[gs(d.$slots,"header")],8,Ubt)),[[y,{placement:t.tooltipPlacement,theme:t.tooltipTheme,animation:t.tooltipAnimation,trigger:"manual"}]]),Se(rt("div",{onClick:f[0]||(f[0]=g=>n.value.update()),class:rn(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":t.centered}]),ref_key:"dropdown",ref:s},[gs(d.$slots,"default",{close:()=>e.value=!e.value})],2),[[i0,e.value]])],512)}}}),ao=Xe("notification",()=>{const t=Q([]),e=Q({}),n=Xt(()=>t.value.length>=99?99:t.value.length);function i(c){t.value=[c,...t.value]}function r(c){if(t.value.includes(c)){const p=t.value.indexOf(c);c instanceof hG&&l(c),p>-1&&t.value.splice(p,1)}}function s(c){e.value[c.id]=c}function o(c,p){e.value[c]&&(e.value[c].messageList.push(p),t.value.includes(e.value[c])||(t.value=[e.value[c],...t.value]))}function a(){Object.values(e.value).forEach(c=>l(c)),t.value=[]}function l(c){const p=t.value.indexOf(c);p>-1&&t.value.splice(p,1),c.messageList=[]}return{notificationStack:t,groups:e,notificationNumber:n,showNotification:i,removeNotification:r,registerGroup:s,addToGroup:o,clearAll:a}}),Gbt={class:"h-full flex flex-col"},Bbt={class:"w-full flex mb-6"},zbt=["content","aria-label"],Vbt=ne({__name:"screen",props:{panel:{type:Object,required:!0}},setup(t){const e=ao(),{t:n}=Qe(),i=Xt(()=>e.notificationNumber),r=()=>e.clearAll();return(s,o)=>{const a=Tn("panel-screen"),l=Ae("tippy");return ct(),Ue(a,{panel:t.panel},{header:Mn(()=>[to(Ee(St(n)("notifications.title")),1)]),content:Mn(()=>[rt("div",Gbt,[rt("div",Bbt,[Se((ct(),gt("button",{type:"button",onClick:r,class:rn(["p-4 ml-auto",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:St(n)("notifications.controls.clearAll"),"aria-label":St(n)("notifications.controls.clearAll")},o[0]||(o[0]=[rt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[rt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),rt("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),rt("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),rt("path",{d:"M22 22l-5 -5"}),rt("path",{d:"M17 22l5 -5"})],-1)]),10,zbt)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Zt(pG,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var qr=(t=>(t.ERROR="error",t.INFO="info",t.WARNING="warning",t))(qr||{});class Wbt extends An{notificationStore;constructor(e){super(e),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":Je(Vbt)},alertName:"notifications.title"}}),this.notificationStore=ao(this.$vApp.$pinia)}show(e,n){this.notificationStore.showNotification({type:e,message:n})}addGroup(e,n,i){if(this.getGroup(e))throw new Error("Duplicate notification group id registration: "+e);const r=new hG(this.$iApi,e,n,i);return this.notificationStore.registerGroup(r),r}getGroup(e){return this.notificationStore.groups[e]}}class hG extends An{notificationStore=ao(this.$vApp.$pinia);id;message;type;messageList=[];constructor(e,n,i,r){super(e),this.id=n,this.type=i,this.message=r}show(e){this.notificationStore.addToGroup(this.id,e)}}const Hbt=["content"],qbt={class:"flex items-center text-left"},Ybt={class:"select-text cursor-text"},Zbt=["content","aria-label"],Jbt={key:0,class:"text-left"},Xbt=ne({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(t){const e=ao(),{t:n}=Qe(),i=t,r=Q(!1),s=Qn({[qr.WARNING]:"\u26A0",[qr.INFO]:"\u2139\uFE0F",[qr.ERROR]:"\u274C"}),o=l=>{e.removeNotification(l)},a=()=>{if(!i.notification.messageList)return!1};return(l,c)=>{const p=Ae("tippy");return Se((ct(),gt("li",{class:rn(["flex-col default-focus-style p-4",t.notification.messageList?"cursor-pointer":""]),content:St(n)(r.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>r.value=!r.value)},[rt("div",qbt,[rt("span",null,[to(Ee(s[t.notification.type])+" ",1),rt("span",Ybt,Ee(t.notification.message),1)]),c[4]||(c[4]=rt("span",{class:"flex-grow"},null,-1)),t.notification.messageList?(ct(),gt("div",{key:0,class:rn(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":r.value}])},c[2]||(c[2]=[rt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[rt("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Re("",!0),Se((ct(),gt("button",{type:"button",onClick:c[0]||(c[0]=Hp(d=>o(t.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:St(n)("notifications.controls.dismiss"),"aria-label":St(n)("notifications.controls.dismiss")},c[3]||(c[3]=[rt("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[rt("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,Zbt)),[[p,{theme:"ramp4",animation:"scale"}]])]),t.notification.messageList&&r.value?(ct(),gt("div",Jbt,[(ct(!0),gt(Ce,null,Ra(t.notification.messageList,(d,f)=>(ct(),gt("p",{key:t.notification.id+d+f},Ee(d),1))),128))])):Re("",!0)],10,Hbt)),[[p,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),Kbt=["content"],Qbt={key:0,class:"w-full border-b border-black"},t2t={key:1,class:"flex flex-col items-center h-full"},pG=ne({__name:"notification-list",setup(t){const e=ao(),{t:n}=Qe(),i=Q(),r=()=>{i.value._tippy.hide()},s=a=>{a.key==="Tab"&&i.value?.matches(":focus")&&i.value._tippy.show()};li(()=>{i.value?.addEventListener("blur",r),i.value?.addEventListener("keyup",s)}),ys(()=>{i.value?.removeEventListener("blur",r),i.value?.removeEventListener("keyup",s)});const o=Xt(()=>e.notificationStack);return(a,l)=>{const c=Ae("focus-item"),p=Ae("focus-list"),d=Ae("tippy");return ct(),gt("div",null,[o.value.length>0?Se((ct(),gt("ul",{key:0,content:St(n)("panels.controls.items"),ref_key:"el",ref:i,class:"h-full overflow-y-auto"},[(ct(!0),gt(Ce,null,Ra(o.value,(f,y)=>(ct(),gt(Ce,{key:f.message+y},[y>0?(ct(),gt("div",Qbt)):Re("",!0),Se(Zt(Xbt,{class:rn([f.type]),notification:f},null,8,["class","notification"]),[[c]])],64))),128))],8,Kbt)),[[p],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(ct(),gt("div",t2t,[l[0]||(l[0]=rt("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=rt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[rt("path",{d:"M0 0h24v24H0z",fill:"none"}),rt("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),rt("span",null,Ee(St(n)("notifications.empty")),1),l[2]||(l[2]=rt("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),e2t={class:"flex items-center hover:text-white"},n2t=["aria-label"],i2t={key:0,class:"number rounded-full w-18 text-white"},r2t={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},s2t={class:"pb-8 border-b border-gray-600"},o2t={class:"absolute flex right-3 top-3"},a2t=["content","aria-label"],l2t=ne({__name:"caption-button",setup(t){const e=ao(),{t:n}=Qe(),i=Xt(()=>e.notificationNumber),r=()=>e.clearAll();return(s,o)=>{const a=Tn("close"),l=Ae("tippy");return ct(),Ue(CM,{position:"top-start",tooltip:St(n)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:Mn(()=>[rt("div",e2t,[(ct(),gt("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":St(n)("notifications.open")},o[0]||(o[0]=[rt("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,n2t)),i.value&&i.value>0?(ct(),gt("span",i2t,Ee(i.value),1)):Re("",!0)])]),default:Mn(c=>[rt("div",r2t,[rt("div",null,[rt("h4",s2t,Ee(St(n)("notifications.title")),1),rt("div",o2t,[Se((ct(),gt("button",{type:"button",onClick:r,class:rn(["p-4 mr-6",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:St(n)("notifications.controls.clearAll"),"aria-label":St(n)("notifications.controls.clearAll")},o[1]||(o[1]=[rt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[rt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),rt("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),rt("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),rt("path",{d:"M22 22l-5 -5"}),rt("path",{d:"M17 22l5 -5"})],-1)]),10,a2t)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Zt(a,{onClick:c.close},null,8,["onClick"])])]),Zt(pG,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),c2t=Bo(l2t,[["__scopeId","data-v-3623a7d2"]]),u2t={class:"flex hover:text-white"},h2t=["aria-label"],p2t={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},d2t=["aria-label","content"],f2t={class:"pb-8 border-b border-gray-600 mb-10"},m2t={class:"absolute right-5 top-5"},y2t={class:"select-text"},g2t={class:"font-bold cursor-text"},v2t={class:"text-sm cursor-text"},b2t={class:"font-bold cursor-text"},w2t={class:"ml-5 cursor-text"},_2t=ne({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(t){const{t:e}=Qe(),n=Rn("iApi"),i=()=>{n.reload()},r=Xt(()=>`${Sd.major}.${Sd.minor}.${Sd.patch}`),s=Xt(()=>Sd.hash.slice(0,9)),o=Xt(()=>{const a=new Date(Sd.timestamp);if(isNaN(a.getTime()))return["dev mode","no date"];{const l=c=>c<10?"0"+c.toString():c.toString();return[`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,`${a.getHours()}:${l(a.getMinutes())}:${l(a.getSeconds())}`]}});return(a,l)=>{const c=Tn("close"),p=Tn("dropdown-menu"),d=Ae("tippy"),f=Ae("focus-item");return Se((ct(),Ue(p,{class:"pointer-events-auto sm:flex",position:t.position,tooltip:St(e)("ramp.about"),tooltipPlacement:t.position},{header:Mn(()=>[rt("div",u2t,[(ct(),gt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":St(e)("ramp.about.open")},l[0]||(l[0]=[rt("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,h2t))])]),default:Mn(y=>[rt("div",p2t,[rt("div",null,[Se((ct(),gt("button",{class:"absolute left-5 top-5 text-gray-500 hover:text-black focus:text-black p-8",onClick:i,"aria-label":St(e)("ramp.reload"),content:St(e)("ramp.reload")},l[1]||(l[1]=[rt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[rt("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)]),8,d2t)),[[d,{placement:"bottom-start",theme:"ramp4",animation:"scale"}]]),rt("h4",f2t,Ee(St(e)("ramp.about")),1),rt("div",m2t,[Zt(c,{onClick:y.close},null,8,["onClick"])]),rt("div",y2t,[rt("div",null,[rt("span",g2t,Ee(r.value),1),rt("span",v2t," ["+Ee(s.value)+"] ",1)]),rt("div",null,[rt("span",b2t,Ee(o.value[0]),1),rt("span",w2t,Ee(o.value[1]),1)]),l[2]||(l[2]=rt("div",{class:"mt-5"},[rt("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[rt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[rt("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),to(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[f]])}}}),dG=Bo(_2t,[["__scopeId","data-v-24f3a9dc"]]),fG="S",mG="__HELP__",RM=Xe("keyboardnav",()=>{const t=Q(),e=Q({}),n=Q(!1),i=Q([]),r=Q(),s=Q("idle"),o=["H","?"];function a(){const k="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(const R of k)if(!e.value[R]&&!o.includes(R))return R}function l(k,R){let j=k.toUpperCase();if(o.includes(j)||e.value[j]){const z=a();z?j=z:console.error("No available keyboard namespace letters")}if(!R.handler)for(const z of R.keys)z.handler||console.error(`Keyboardnav registration for ${j} requires handlers for all keys or a parent handler`);return e.value[j]=R,j}function c(k){n.value!==k&&(n.value=k)}function p(k){t.value===k&&(t.value=void 0),delete e.value[k]}function d(k,R,j){if(k){if(k==="clear"){b({event:R,suppressHandler:!0});return}if(k==="reset"){const z=j??O.activeNamespace??O.keyChain[1];if(!z){b({suppressHandler:!0});return}x([fG,z]),_(void 0),w("awaitAction"),O.activeNamespace=z}}}function f(k,R,j){t.value=k,!j?.suppressHandler&&e.value[k]?.activeHandler?.(O,R)}function y(k,R){t.value&&!R?.suppressHandler&&e.value[t.value]?.deactiveHandler?.(O,k),t.value=void 0}function g(k,R){const j=t.value;if(!j)return;const z=e.value[j];if(!z)return;if(z.handler){const Y=z.handler(O,R,k);return d(Y,R,j),{namespace:j,key:k,chainAction:Y??void 0}}const F=z.keys.find(Y=>Y.key===k);if(!F)return;const U=F.handler?.(O,R);return d(U,R,j),{namespace:j,key:F.key,chainAction:U??void 0}}function b(k){y(k?.event,{suppressHandler:k?.suppressHandler}),k?.preserveChain||(i.value=[]),k?.preserveLastAction||(r.value=void 0),s.value="idle"}function x(k){i.value=[...k]}function A(k){i.value=[...i.value,k]}function M(){if(!i.value.length)return;const k=[...i.value],R=k.pop();return i.value=k,R}function _(k){r.value=k}function w(k){s.value=k}function T(k){y(k?.event,{suppressHandler:!0}),s.value="complete"}const I={activeNamespace:t,namespaces:e,helpVisible:n,keyChain:i,lastAction:r,chainState:s,register:l,unregister:p,activate:f,deactivate:y,trigger:g,setHelpVisible:c,resetChain:b,setChain:x,appendKey:A,popChain:M,setLastAction:_,setChainState:w,finalizeChain:T},O=I;return I}),x2t={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},E2t={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},S2t=["href","aria-label"],A2t=["src","alt"],M2t={key:1,class:"relative ml-10 top-2 text-sm sm:text-base font-mono flex items-center gap-2","aria-live":"polite"},T2t={class:"chain-content"},I2t={class:"chain-keys"},N2t={key:0,class:"chain-cursor"},O2t={key:1,class:"chain-options"},k2t={key:0},C2t={key:2,class:"relative ml-10 top-2 text-sm sm:text-base"},R2t={class:"flex min-w-fit justify-end"},L2t={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},P2t=["aria-pressed","aria-label","content"],D2t={class:"relative top-1 text-sm sm:text-base"},j2t={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},$2t=["onClick"],F2t={key:0,class:"sr-only"},U2t=ne({__name:"map-caption",setup(t){const e=rc(),n=RM(),i=rr(),{t:r}=Qe(),s=Rn("iApi"),o=Xt(()=>e.scale),a=Xt(()=>e.attribution),l=Xt(()=>e.coords),c=Xt(()=>e.langtoggle),p=Xt(()=>i.config.map),{keyChain:d,lastAction:f,chainState:y,namespaces:g,activeNamespace:b}=eF(n),x=Xt(()=>{if(!d.value.length)return;const O=d.value.join(" "),k=y.value==="awaitNamespace"||y.value==="awaitAction";let R;const j=f.value;if(j)if(j.namespace===mG)R=r("keyboardnav.chain.help");else{const F=`keyboardnav.key.${j.namespace}.${j.key}`,U=r(F);U!==F&&(R=U)}let z;if(y.value==="awaitNamespace"){const F=`H - ${r("keyboardnav.chain.help")}`,U=Object.keys(g.value).map(Y=>{const u=`keyboardnav.ns.${Y}`,m=r(u);return`${Y} - ${m===u?Y:m}`});z=`[${[F,...U].join(", ")}]`}else if(y.value==="awaitAction"){const F=b.value??d.value[1],U=F?g.value[F]:void 0;U&&U.keys?.length&&(z=`[${U.keys.map(Y=>{const u=`keyboardnav.key.${F}.${Y.key}`,m=r(u),S=m===u?Y.key:m;return`${Y.key} - ${S}`}).join(", ")}]`)}return{keys:O,options:z,description:R,cursor:k&&!!z}}),A=Q([]),M=Qn([]);M.push(Wn(p,O=>{O&&s.geo.map.caption.createCaption(p.value?.caption)})),ys(()=>{M.forEach(O=>O())}),Mu(()=>{fs(()=>{s.$i18n.locale.value&&A.value.length==0&&(A.value=s.$i18n.availableLocales)})});const _=()=>a.value?.logo?.link&&a.value?.logo?.value&&!a.value?.logo?.disabled,w=O=>{s.$i18n.locale.value!=O&&s.setLanguage(O)},T=()=>{e.toggleScale(),s.geo.map.caption.updateScale()},I=(O=!1)=>r(O?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(O,k)=>{const R=Tn("dropdown-menu"),j=Ae("truncate"),z=Ae("tippy");return ct(),gt("div",x2t,[Zt(dG,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Zt(c2t,{class:"sm:block display-none"}),_()?(ct(),gt("span",E2t,[rt("a",{class:"pointer-events-auto cursor-pointer",href:a.value?.logo.link,target:"_blank","aria-label":a.value?.logo.altText},[rt("img",{class:"object-contain h-18 sm:h-26",src:a.value?.logo.value,alt:a.value?.logo.altText},null,8,A2t)],8,S2t)])):Re("",!0),x.value?(ct(),gt("span",M2t,[rt("span",T2t,[k[0]||(k[0]=rt("span",{class:"chain-colon"},":",-1)),rt("span",I2t,Ee(x.value.keys),1),x.value.cursor?(ct(),gt("span",N2t,"_")):Re("",!0),x.value.options?(ct(),gt("span",O2t,Ee(x.value.options),1)):Re("",!0)]),x.value.description?(ct(),gt("span",k2t,"- "+Ee(x.value.description)+"...",1)):Re("",!0)])):a.value?.text.disabled?Re("",!0):Se((ct(),gt("span",C2t,[to(Ee(a.value?.text.value),1)])),[[j,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),k[1]||(k[1]=rt("span",{class:"flex-grow w-15"},null,-1)),rt("div",R2t,[l.value?.disabled?Re("",!0):Se((ct(),gt("div",L2t,[to(Ee(l.value?.formattedString),1)])),[[j,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),o.value?.disabled?Re("",!0):Se((ct(),gt("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:T,"aria-pressed":o.value?.isImperialScale,"aria-label":`
                    ${o.value?.label} - ${I(o.value?.isImperialScale)}
                `,content:I(o.value?.isImperialScale)},[rt("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:Aa({width:o.value?.width})},null,4),rt("span",D2t,Ee(o.value?.label),1)],8,P2t)),[[z,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),c.value?.disabled?Re("",!0):(ct(),Ue(R,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:St(r)("map.changeLanguage"),ariaLabel:`${St(r)("map.language.short")} - ${St(r)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:Mn(()=>[rt("span",j2t,Ee(St(r)("map.language.short")),1)]),default:Mn(()=>[(ct(!0),gt(Ce,null,Ra(A.value,(F,U)=>(ct(),gt("a",{key:`${F}-${U}`,class:rn(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":F===St(s).$i18n.locale.value}]),href:"javascript:;",onClick:Y=>w(F)},[to(Ee(St(r)("map.language."+F))+" ",1),F===St(s).$i18n.locale.value?(ct(),gt("span",F2t,Ee(St(r)("map.language.curr")),1)):Re("",!0)],10,$2t))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),G2t=["content","aria-label"],B2t={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},z2t=ne({__name:"floating-button",setup(t){const e=ao(),n=Rn("iApi"),{t:i}=Qe(),r=Xt(()=>e.notificationNumber);return(s,o)=>{const a=Ae("tippy");return Se((ct(),gt("button",{type:"button",onClick:o[0]||(o[0]=l=>St(n).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:St(i)("notifications.title"),"aria-label":St(i)("notifications.title")},[o[1]||(o[1]=rt("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[rt("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),r.value&&r.value>0?(ct(),gt("span",B2t,Ee(r.value),1)):Re("",!0)],8,G2t)),[[a]])}}}),V2t=Bo(z2t,[["__scopeId","data-v-a451db5c"]]),W2t={class:"flex items-center mb-20"},H2t={class:"text-xl"},q2t=ne({__name:"keyboard-instructions",setup(t){const e=Rn("iApi"),{t:n}=Qe(),i=Q(!1),r=Q(["app","lists","map","keyboardNav"]),s=Q([]),o=Q(null),a=Q(null);li(()=>{s.value.push(e.event.on("openKeyboardInstructions",()=>{i.value=!0,fs(()=>{o.value.focus()})}))}),ys(()=>{s.value.forEach(c=>e.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),i.value=!1)};return(c,p)=>{const d=Tn("close");return i.value?(ct(),gt("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:p[3]||(p[3]=f=>i.value=!1),onKeydown:l},[rt("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col keyboard-instructions-modal-content",onClick:p[2]||(p[2]=Hp(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[rt("div",W2t,[rt("h2",H2t,Ee(St(n)("keyboardInstructions.title")),1),Zt(d,{class:"ml-auto",onClick:p[0]||(p[0]=f=>i.value=!1)})]),(ct(!0),gt(Ce,null,Ra(r.value,f=>(ct(),gt("p",{class:"whitespace-pre-line pb-10",key:f},Ee(St(n)(`keyboardInstructions.${f}`)),1))),128)),rt("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:p[1]||(p[1]=f=>i.value=!1),ref_key:"lastEl",ref:a},Ee(St(n)("keyboardInstructions.OK")),513)],512)],32)):Re("",!0)}}}),cd=Xe("instance",()=>({started:Q(!1)})),Y2t={class:"h-full relative"},Z2t={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},J2t={class:"absolute top-8 w-full flex justify-center"},X2t={key:1,class:"w-full h-full"},K2t=ne({__name:"shell",setup(t){const e=Rn("iApi"),n=cd(),i=_s(),r=uc(),{t:s}=Qe(),o=Xt(()=>i.items.appbar),a=()=>{e.event.emit("openKeyboardInstructions")},l=()=>r.teleported;return(c,p)=>(ct(),gt("div",Y2t,[rt("div",Z2t,[p[0]||(p[0]=rt("div",{class:"sr-only screen-reader-alert"},null,-1)),rt("div",J2t,[rt("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},Ee(St(s)("keyboardInstructions.open")),1)]),Zt(q2t,{class:"keyboard-instructions-modal"}),Zt(Lvt,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Re("",!0):(ct(),Ue(V2t,{key:0})),Zt(U2t,{class:"z-30"})]),St(n).started?(ct(),Ue(nvt,{key:0})):(ct(),gt("div",X2t,p[1]||(p[1]=[rt("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(ct(!0),gt(Ce,null,Ra(l(),d=>(ct(),Ue(h4,{to:d.teleport?.target,key:d.id},[(ct(),Ue(WU,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),Q2t=Bo(K2t,[["__scopeId","data-v-3d441124"]]);var Or="top",Ms="bottom",Ts="right",kr="left",LM="auto",O0=[Or,Ms,Ts,kr],ud="start",k0="end",twt="clippingParents",yG="viewport",C0="popper",ewt="reference",gG=O0.reduce(function(t,e){return t.concat([e+"-"+ud,e+"-"+k0])},[]),vG=[].concat(O0,[LM]).reduce(function(t,e){return t.concat([e,e+"-"+ud,e+"-"+k0])},[]),nwt="beforeRead",iwt="read",rwt="afterRead",swt="beforeMain",owt="main",awt="afterMain",lwt="beforeWrite",cwt="write",uwt="afterWrite",hwt=[nwt,iwt,rwt,swt,owt,awt,lwt,cwt,uwt];function Wo(t){return t?(t.nodeName||"").toLowerCase():null}function lo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function hd(t){var e=lo(t).Element;return t instanceof e||t instanceof Element}function Is(t){var e=lo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function bG(t){if(typeof ShadowRoot>"u")return!1;var e=lo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function pwt(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!Is(s)||!Wo(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function dwt(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Is(r)||!Wo(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var wG={name:"applyStyles",enabled:!0,phase:"write",fn:pwt,effect:dwt,requires:["computeStyles"]};function Ho(t){return t.split("-")[0]}var zu=Math.max,qb=Math.min,pd=Math.round;function dd(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),i=1,r=1;if(Is(t)&&e){var s=t.offsetHeight,o=t.offsetWidth;o>0&&(i=pd(n.width)/o||1),s>0&&(r=pd(n.height)/s||1)}return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function PM(t){var e=dd(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function _G(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&bG(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function qo(t){return lo(t).getComputedStyle(t)}function fwt(t){return["table","td","th"].indexOf(Wo(t))>=0}function pc(t){return((hd(t)?t.ownerDocument:t.document)||window.document).documentElement}function Yb(t){return Wo(t)==="html"?t:t.assignedSlot||t.parentNode||(bG(t)?t.host:null)||pc(t)}function xG(t){return!Is(t)||qo(t).position==="fixed"?null:t.offsetParent}function mwt(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Is(t)){var i=qo(t);if(i.position==="fixed")return null}for(var r=Yb(t);Is(r)&&["html","body"].indexOf(Wo(r))<0;){var s=qo(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function R0(t){for(var e=lo(t),n=xG(t);n&&fwt(n)&&qo(n).position==="static";)n=xG(n);return n&&(Wo(n)==="html"||Wo(n)==="body"&&qo(n).position==="static")?e:n||mwt(t)||e}function DM(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function L0(t,e,n){return zu(t,qb(e,n))}function ywt(t,e,n){var i=L0(t,e,n);return i>n?n:i}function EG(){return{top:0,right:0,bottom:0,left:0}}function SG(t){return Object.assign({},EG(),t)}function AG(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var gwt=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,SG(typeof t!="number"?t:AG(t,O0))};function vwt(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Ho(n.placement),l=DM(a),c=[kr,Ts].indexOf(a)>=0,p=c?"height":"width";if(!(!s||!o)){var d=gwt(r.padding,n),f=PM(s),y=l==="y"?Or:kr,g=l==="y"?Ms:Ts,b=n.rects.reference[p]+n.rects.reference[l]-o[l]-n.rects.popper[p],x=o[l]-n.rects.reference[l],A=R0(s),M=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,_=b/2-x/2,w=d[y],T=M-f[p]-d[g],I=M/2-f[p]/2+_,O=L0(w,I,T),k=l;n.modifiersData[i]=(e={},e[k]=O,e.centerOffset=O-I,e)}}function bwt(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||_G(e.elements.popper,r)&&(e.elements.arrow=r))}var wwt={name:"arrow",enabled:!0,phase:"main",fn:vwt,effect:bwt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fd(t){return t.split("-")[1]}var _wt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xwt(t){var e=t.x,n=t.y,i=window,r=i.devicePixelRatio||1;return{x:pd(e*r)/r||0,y:pd(n*r)/r||0}}function MG(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,p=t.roundOffsets,d=t.isFixed,f=p===!0?xwt(o):typeof p=="function"?p(o):o,y=f.x,g=y===void 0?0:y,b=f.y,x=b===void 0?0:b,A=o.hasOwnProperty("x"),M=o.hasOwnProperty("y"),_=kr,w=Or,T=window;if(c){var I=R0(n),O="clientHeight",k="clientWidth";if(I===lo(n)&&(I=pc(n),qo(I).position!=="static"&&a==="absolute"&&(O="scrollHeight",k="scrollWidth")),I=I,r===Or||(r===kr||r===Ts)&&s===k0){w=Ms;var R=d&&T.visualViewport?T.visualViewport.height:I[O];x-=R-i.height,x*=l?1:-1}if(r===kr||(r===Or||r===Ms)&&s===k0){_=Ts;var j=d&&T.visualViewport?T.visualViewport.width:I[k];g-=j-i.width,g*=l?1:-1}}var z=Object.assign({position:a},c&&_wt);if(l){var F;return Object.assign({},z,(F={},F[w]=M?"0":"",F[_]=A?"0":"",F.transform=(T.devicePixelRatio||1)<=1?"translate("+g+"px, "+x+"px)":"translate3d("+g+"px, "+x+"px, 0)",F))}return Object.assign({},z,(e={},e[w]=M?x+"px":"",e[_]=A?g+"px":"",e.transform="",e))}function Ewt(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Ho(e.placement),variation:fd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,MG(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,MG(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Swt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ewt,data:{}},Zb={passive:!0};function Awt(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=lo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(p){p.addEventListener("scroll",n.update,Zb)}),a&&l.addEventListener("resize",n.update,Zb),function(){s&&c.forEach(function(p){p.removeEventListener("scroll",n.update,Zb)}),a&&l.removeEventListener("resize",n.update,Zb)}}var Mwt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Awt,data:{}},Twt={left:"right",right:"left",bottom:"top",top:"bottom"};function Jb(t){return t.replace(/left|right|bottom|top/g,function(e){return Twt[e]})}var Iwt={start:"end",end:"start"};function TG(t){return t.replace(/start|end/g,function(e){return Iwt[e]})}function jM(t){var e=lo(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function $M(t){return dd(pc(t)).left+jM(t).scrollLeft}function Nwt(t){var e=lo(t),n=pc(t),i=e.visualViewport,r=n.clientWidth,s=n.clientHeight,o=0,a=0;return i&&(r=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:r,height:s,x:o+$M(t),y:a}}function Owt(t){var e,n=pc(t),i=jM(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=zu(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=zu(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+$M(t),l=-i.scrollTop;return qo(r||n).direction==="rtl"&&(a+=zu(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function FM(t){var e=qo(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function IG(t){return["html","body","#document"].indexOf(Wo(t))>=0?t.ownerDocument.body:Is(t)&&FM(t)?t:IG(Yb(t))}function P0(t,e){var n;e===void 0&&(e=[]);var i=IG(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=lo(i),o=r?[s].concat(s.visualViewport||[],FM(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(P0(Yb(o)))}function UM(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function kwt(t){var e=dd(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function NG(t,e){return e===yG?UM(Nwt(t)):hd(e)?kwt(e):UM(Owt(pc(t)))}function Cwt(t){var e=P0(Yb(t)),n=["absolute","fixed"].indexOf(qo(t).position)>=0,i=n&&Is(t)?R0(t):t;return hd(i)?e.filter(function(r){return hd(r)&&_G(r,i)&&Wo(r)!=="body"&&(n?qo(r).position!=="static":!0)}):[]}function Rwt(t,e,n){var i=e==="clippingParents"?Cwt(t):[].concat(e),r=[].concat(i,[n]),s=r[0],o=r.reduce(function(a,l){var c=NG(t,l);return a.top=zu(c.top,a.top),a.right=qb(c.right,a.right),a.bottom=qb(c.bottom,a.bottom),a.left=zu(c.left,a.left),a},NG(t,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function OG(t){var e=t.reference,n=t.element,i=t.placement,r=i?Ho(i):null,s=i?fd(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case Or:l={x:o,y:e.y-n.height};break;case Ms:l={x:o,y:e.y+e.height};break;case Ts:l={x:e.x+e.width,y:a};break;case kr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?DM(r):null;if(c!=null){var p=c==="y"?"height":"width";switch(s){case ud:l[c]=l[c]-(e[p]/2-n[p]/2);break;case k0:l[c]=l[c]+(e[p]/2-n[p]/2);break}}return l}function D0(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.boundary,o=s===void 0?twt:s,a=n.rootBoundary,l=a===void 0?yG:a,c=n.elementContext,p=c===void 0?C0:c,d=n.altBoundary,f=d===void 0?!1:d,y=n.padding,g=y===void 0?0:y,b=SG(typeof g!="number"?g:AG(g,O0)),x=p===C0?ewt:C0,A=t.rects.popper,M=t.elements[f?x:p],_=Rwt(hd(M)?M:M.contextElement||pc(t.elements.popper),o,l),w=dd(t.elements.reference),T=OG({reference:w,element:A,placement:r}),I=UM(Object.assign({},A,T)),O=p===C0?I:w,k={top:_.top-O.top+b.top,bottom:O.bottom-_.bottom+b.bottom,left:_.left-O.left+b.left,right:O.right-_.right+b.right},R=t.modifiersData.offset;if(p===C0&&R){var j=R[r];Object.keys(k).forEach(function(z){var F=[Ts,Ms].indexOf(z)>=0?1:-1,U=[Or,Ms].indexOf(z)>=0?"y":"x";k[z]+=j[U]*F})}return k}function Lwt(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?vG:l,p=fd(i),d=p?a?gG:gG.filter(function(g){return fd(g)===p}):O0,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var y=f.reduce(function(g,b){return g[b]=D0(t,{placement:b,boundary:r,rootBoundary:s,padding:o})[Ho(b)],g},{});return Object.keys(y).sort(function(g,b){return y[g]-y[b]})}function Pwt(t){if(Ho(t)===LM)return[];var e=Jb(t);return[TG(t),e,TG(e)]}function Dwt(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,p=n.boundary,d=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,g=y===void 0?!0:y,b=n.allowedAutoPlacements,x=e.options.placement,A=Ho(x),M=A===x,_=l||(M||!g?[Jb(x)]:Pwt(x)),w=[x].concat(_).reduce(function(Pt,Ft){return Pt.concat(Ho(Ft)===LM?Lwt(e,{placement:Ft,boundary:p,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:b}):Ft)},[]),T=e.rects.reference,I=e.rects.popper,O=new Map,k=!0,R=w[0],j=0;j<w.length;j++){var z=w[j],F=Ho(z),U=fd(z)===ud,Y=[Or,Ms].indexOf(F)>=0,u=Y?"width":"height",m=D0(e,{placement:z,boundary:p,rootBoundary:d,altBoundary:f,padding:c}),S=Y?U?Ts:kr:U?Ms:Or;T[u]>I[u]&&(S=Jb(S));var C=Jb(S),V=[];if(s&&V.push(m[F]<=0),a&&V.push(m[S]<=0,m[C]<=0),V.every(function(Pt){return Pt})){R=z,k=!1;break}O.set(z,V)}if(k)for(var Z=g?3:1,ft=function(Pt){var Ft=w.find(function(ye){var Le=O.get(ye);if(Le)return Le.slice(0,Pt).every(function(je){return je})});if(Ft)return R=Ft,"break"},lt=Z;lt>0;lt--){var At=ft(lt);if(At==="break")break}e.placement!==R&&(e.modifiersData[i]._skip=!0,e.placement=R,e.reset=!0)}}var jwt={name:"flip",enabled:!0,phase:"main",fn:Dwt,requiresIfExists:["offset"],data:{_skip:!1}};function kG(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function CG(t){return[Or,Ts,Ms,kr].some(function(e){return t[e]>=0})}function $wt(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=D0(e,{elementContext:"reference"}),a=D0(e,{altBoundary:!0}),l=kG(o,i),c=kG(a,r,s),p=CG(l),d=CG(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":d})}var Fwt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$wt};function Uwt(t,e,n){var i=Ho(t),r=[kr,Or].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[kr,Ts].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Gwt(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=vG.reduce(function(p,d){return p[d]=Uwt(d,e.rects,s),p},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}var Bwt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Gwt};function zwt(t){var e=t.state,n=t.name;e.modifiersData[n]=OG({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var Vwt={name:"popperOffsets",enabled:!0,phase:"read",fn:zwt,data:{}};function Wwt(t){return t==="x"?"y":"x"}function Hwt(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,p=n.altBoundary,d=n.padding,f=n.tether,y=f===void 0?!0:f,g=n.tetherOffset,b=g===void 0?0:g,x=D0(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:p}),A=Ho(e.placement),M=fd(e.placement),_=!M,w=DM(A),T=Wwt(w),I=e.modifiersData.popperOffsets,O=e.rects.reference,k=e.rects.popper,R=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,j=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(I){if(s){var U,Y=w==="y"?Or:kr,u=w==="y"?Ms:Ts,m=w==="y"?"height":"width",S=I[w],C=S+x[Y],V=S-x[u],Z=y?-k[m]/2:0,ft=M===ud?O[m]:k[m],lt=M===ud?-k[m]:-O[m],At=e.elements.arrow,Pt=y&&At?PM(At):{width:0,height:0},Ft=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:EG(),ye=Ft[Y],Le=Ft[u],je=L0(0,O[m],Pt[m]),ui=_?O[m]/2-Z-je-ye-j.mainAxis:ft-je-ye-j.mainAxis,We=_?-O[m]/2+Z+je+Le+j.mainAxis:lt+je+Le+j.mainAxis,an=e.elements.arrow&&R0(e.elements.arrow),ri=an?w==="y"?an.clientTop||0:an.clientLeft||0:0,G=(U=z?.[w])!=null?U:0,$=S+ui-G-ri,J=S+We-G,st=L0(y?qb(C,$):C,S,y?zu(V,J):V);I[w]=st,F[w]=st-S}if(a){var it,at=w==="x"?Or:kr,mt=w==="x"?Ms:Ts,L=I[T],P=T==="y"?"height":"width",W=L+x[at],K=L-x[mt],B=[Or,kr].indexOf(A)!==-1,q=(it=z?.[T])!=null?it:0,dt=B?W:L-O[P]-k[P]-q+j.altAxis,vt=B?L+O[P]+k[P]-q-j.altAxis:K,Jt=y&&B?ywt(dt,L,vt):L0(y?dt:W,L,y?vt:K);I[T]=Jt,F[T]=Jt-L}e.modifiersData[i]=F}}var qwt={name:"preventOverflow",enabled:!0,phase:"main",fn:Hwt,requiresIfExists:["offset"]};function Ywt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Zwt(t){return t===lo(t)||!Is(t)?jM(t):Ywt(t)}function Jwt(t){var e=t.getBoundingClientRect(),n=pd(e.width)/t.offsetWidth||1,i=pd(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Xwt(t,e,n){n===void 0&&(n=!1);var i=Is(e),r=Is(e)&&Jwt(e),s=pc(e),o=dd(t,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((Wo(e)!=="body"||FM(s))&&(a=Zwt(e)),Is(e)?(l=dd(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=$M(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Kwt(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function Qwt(t){var e=Kwt(t);return hwt.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function t_t(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function e_t(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var RG={placement:"bottom",modifiers:[],strategy:"absolute"};function LG(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function n_t(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?RG:r;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},RG,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},p=[],d=!1,f={state:c,setOptions:function(b){var x=typeof b=="function"?b(c.options):b;g(),c.options=Object.assign({},s,c.options,x),c.scrollParents={reference:hd(o)?P0(o):o.contextElement?P0(o.contextElement):[],popper:P0(a)};var A=Qwt(e_t([].concat(i,c.options.modifiers)));return c.orderedModifiers=A.filter(function(M){return M.enabled}),y(),f.update()},forceUpdate:function(){if(!d){var b=c.elements,x=b.reference,A=b.popper;if(LG(x,A)){c.rects={reference:Xwt(x,R0(A),c.options.strategy==="fixed"),popper:PM(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var M=0;M<c.orderedModifiers.length;M++){if(c.reset===!0){c.reset=!1,M=-1;continue}var _=c.orderedModifiers[M],w=_.fn,T=_.options,I=T===void 0?{}:T,O=_.name;typeof w=="function"&&(c=w({state:c,options:I,name:O,instance:f})||c)}}}},update:t_t(function(){return new Promise(function(b){f.forceUpdate(),b(c)})}),destroy:function(){g(),d=!0}};if(!LG(o,a))return f;f.setOptions(l).then(function(b){!d&&l.onFirstUpdate&&l.onFirstUpdate(b)});function y(){c.orderedModifiers.forEach(function(b){var x=b.name,A=b.options,M=A===void 0?{}:A,_=b.effect;if(typeof _=="function"){var w=_({state:c,name:x,instance:f,options:M}),T=function(){};p.push(w||T)}})}function g(){p.forEach(function(b){return b()}),p=[]}return f}}var i_t=[Mwt,Vwt,Swt,wG,Bwt,jwt,qwt,wwt,Fwt],r_t=n_t({defaultModifiers:i_t}),s_t="tippy-box",PG="tippy-content",DG="tippy-backdrop",jG="tippy-arrow",$G="tippy-svg-arrow",Vu={passive:!0,capture:!0},FG=function(){return document.body};function GM(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function BM(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function UG(t,e){return typeof t=="function"?t.apply(void 0,e):t}function GG(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function o_t(t,e){var n=Object.assign({},t);return e.forEach(function(i){delete n[i]}),n}function a_t(t){return t.split(/\s+/).filter(Boolean)}function Wu(t){return[].concat(t)}function BG(t,e){t.indexOf(e)===-1&&t.push(e)}function l_t(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function zG(t){return t.split("-")[0]}function md(t){return[].slice.call(t)}function VG(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Hu(){return document.createElement("div")}function Xb(t){return["Element","Fragment"].some(function(e){return BM(t,e)})}function c_t(t){return BM(t,"NodeList")}function zM(t){return BM(t,"MouseEvent")}function u_t(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function h_t(t){return Xb(t)?[t]:c_t(t)?md(t):Array.isArray(t)?t:md(document.querySelectorAll(t))}function VM(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function j0(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function WG(t){var e,n=Wu(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function p_t(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var s=r.popperRect,o=r.popperState,a=r.props,l=a.interactiveBorder,c=zG(o.placement),p=o.modifiersData.offset;if(!p)return!0;var d=c==="bottom"?p.top.y:0,f=c==="top"?p.bottom.y:0,y=c==="right"?p.left.x:0,g=c==="left"?p.right.x:0,b=s.top-i+d>l,x=i-s.bottom-f>l,A=s.left-n+y>l,M=n-s.right-g>l;return b||x||A||M})}function WM(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function HG(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var Yo={isTouch:!1},qG=0;function d_t(){Yo.isTouch||(Yo.isTouch=!0,window.performance&&document.addEventListener("mousemove",YG))}function YG(){var t=performance.now();t-qG<20&&(Yo.isTouch=!1,document.removeEventListener("mousemove",YG)),qG=t}function f_t(){var t=document.activeElement;if(u_t(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function m_t(){document.addEventListener("touchstart",d_t,Vu),window.addEventListener("blur",f_t)}var y_t=typeof window<"u"&&typeof document<"u",g_t=y_t?!!window.msCrypto:!1,v_t={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},b_t={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},co=Object.assign({appendTo:FG,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},v_t,b_t),w_t=Object.keys(co),__t=function(t){var e=Object.keys(t);e.forEach(function(n){co[n]=t[n]})};function ZG(t){var e=t.plugins||[],n=e.reduce(function(i,r){var s=r.name,o=r.defaultValue;if(s){var a;i[s]=t[s]!==void 0?t[s]:(a=co[s])!=null?a:o}return i},{});return Object.assign({},t,n)}function x_t(t,e){var n=e?Object.keys(ZG(Object.assign({},co,{plugins:e}))):w_t,i=n.reduce(function(r,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return r;if(s==="content")r[s]=o;else try{r[s]=JSON.parse(o)}catch{r[s]=o}return r},{});return i}function JG(t,e){var n=Object.assign({},e,{content:UG(e.content,[t])},e.ignoreAttributes?{}:x_t(t,e.plugins));return n.aria=Object.assign({},co.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var E_t=function(){return"innerHTML"};function HM(t,e){t[E_t()]=e}function XG(t){var e=Hu();return t===!0?e.className=jG:(e.className=$G,Xb(t)?e.appendChild(t):HM(e,t)),e}function KG(t,e){Xb(e.content)?(HM(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?HM(t,e.content):t.textContent=e.content)}function Kb(t){var e=t.firstElementChild,n=md(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(PG)}),arrow:n.find(function(i){return i.classList.contains(jG)||i.classList.contains($G)}),backdrop:n.find(function(i){return i.classList.contains(DG)})}}function QG(t){var e=Hu(),n=Hu();n.className=s_t,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Hu();i.className=PG,i.setAttribute("data-state","hidden"),KG(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(s,o){var a=Kb(e),l=a.box,c=a.content,p=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&KG(c,t.props),o.arrow?p?s.arrow!==o.arrow&&(l.removeChild(p),l.appendChild(XG(o.arrow))):l.appendChild(XG(o.arrow)):p&&l.removeChild(p)}return{popper:e,onUpdate:r}}QG.$$tippy=!0;var S_t=1,Qb=[],qM=[];function A_t(t,e){var n=JG(t,Object.assign({},co,ZG(VG(e)))),i,r,s,o=!1,a=!1,l=!1,c=!1,p,d,f,y=[],g=GG($,n.interactiveDebounce),b,x=S_t++,A=null,M=l_t(n.plugins),_={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},w={id:x,reference:t,popper:Hu(),popperInstance:A,props:n,state:_,plugins:M,clearDelayTimeouts:dt,setProps:vt,setContent:Jt,show:ee,hide:en,hideWithInteractivity:dn,enable:B,disable:q,unmount:Si,destroy:hi};if(!n.render)return w;var T=n.render(w),I=T.popper,O=T.onUpdate;I.setAttribute("data-tippy-root",""),I.id="tippy-"+w.id,w.popper=I,t._tippy=w,I._tippy=w;var k=M.map(function(tt){return tt.fn(w)}),R=t.hasAttribute("aria-expanded");return an(),Z(),S(),C("onCreate",[w]),n.showOnCreate&&W(),I.addEventListener("mouseenter",function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()}),I.addEventListener("mouseleave",function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&Y().addEventListener("mousemove",g)}),w;function j(){var tt=w.props.touch;return Array.isArray(tt)?tt:[tt,0]}function z(){return j()[0]==="hold"}function F(){var tt;return!!((tt=w.props.render)!=null&&tt.$$tippy)}function U(){return b||t}function Y(){var tt=U().parentNode;return tt?WG(tt):document}function u(){return Kb(I)}function m(tt){return w.state.isMounted&&!w.state.isVisible||Yo.isTouch||p&&p.type==="focus"?0:GM(w.props.delay,tt?0:1,co.delay)}function S(tt){tt===void 0&&(tt=!1),I.style.pointerEvents=w.props.interactive&&!tt?"":"none",I.style.zIndex=""+w.props.zIndex}function C(tt,Mt,Nt){if(Nt===void 0&&(Nt=!0),k.forEach(function(Kt){Kt[tt]&&Kt[tt].apply(Kt,Mt)}),Nt){var Ht;(Ht=w.props)[tt].apply(Ht,Mt)}}function V(){var tt=w.props.aria;if(tt.content){var Mt="aria-"+tt.content,Nt=I.id,Ht=Wu(w.props.triggerTarget||t);Ht.forEach(function(Kt){var Hn=Kt.getAttribute(Mt);if(w.state.isVisible)Kt.setAttribute(Mt,Hn?Hn+" "+Nt:Nt);else{var Ai=Hn&&Hn.replace(Nt,"").trim();Ai?Kt.setAttribute(Mt,Ai):Kt.removeAttribute(Mt)}})}}function Z(){if(!(R||!w.props.aria.expanded)){var tt=Wu(w.props.triggerTarget||t);tt.forEach(function(Mt){w.props.interactive?Mt.setAttribute("aria-expanded",w.state.isVisible&&Mt===U()?"true":"false"):Mt.removeAttribute("aria-expanded")})}}function ft(){Y().removeEventListener("mousemove",g),Qb=Qb.filter(function(tt){return tt!==g})}function lt(tt){if(!(Yo.isTouch&&(l||tt.type==="mousedown"))){var Mt=tt.composedPath&&tt.composedPath()[0]||tt.target;if(!(w.props.interactive&&HG(I,Mt))){if(Wu(w.props.triggerTarget||t).some(function(Nt){return HG(Nt,Mt)})){if(Yo.isTouch||w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else C("onClickOutside",[w,tt]);w.props.hideOnClick===!0&&(w.clearDelayTimeouts(),w.hide(),a=!0,setTimeout(function(){a=!1}),w.state.isMounted||ye())}}}function At(){l=!0}function Pt(){l=!1}function Ft(){var tt=Y();tt.addEventListener("mousedown",lt,!0),tt.addEventListener("touchend",lt,Vu),tt.addEventListener("touchstart",Pt,Vu),tt.addEventListener("touchmove",At,Vu)}function ye(){var tt=Y();tt.removeEventListener("mousedown",lt,!0),tt.removeEventListener("touchend",lt,Vu),tt.removeEventListener("touchstart",Pt,Vu),tt.removeEventListener("touchmove",At,Vu)}function Le(tt,Mt){ui(tt,function(){!w.state.isVisible&&I.parentNode&&I.parentNode.contains(I)&&Mt()})}function je(tt,Mt){ui(tt,Mt)}function ui(tt,Mt){var Nt=u().box;function Ht(Kt){Kt.target===Nt&&(WM(Nt,"remove",Ht),Mt())}if(tt===0)return Mt();WM(Nt,"remove",d),WM(Nt,"add",Ht),d=Ht}function We(tt,Mt,Nt){Nt===void 0&&(Nt=!1);var Ht=Wu(w.props.triggerTarget||t);Ht.forEach(function(Kt){Kt.addEventListener(tt,Mt,Nt),y.push({node:Kt,eventType:tt,handler:Mt,options:Nt})})}function an(){z()&&(We("touchstart",G,{passive:!0}),We("touchend",J,{passive:!0})),a_t(w.props.trigger).forEach(function(tt){if(tt!=="manual")switch(We(tt,G),tt){case"mouseenter":We("mouseleave",J);break;case"focus":We(g_t?"focusout":"blur",st);break;case"focusin":We("focusout",st);break}})}function ri(){y.forEach(function(tt){var Mt=tt.node,Nt=tt.eventType,Ht=tt.handler,Kt=tt.options;Mt.removeEventListener(Nt,Ht,Kt)}),y=[]}function G(tt){var Mt,Nt=!1;if(!(!w.state.isEnabled||it(tt)||a)){var Ht=((Mt=p)==null?void 0:Mt.type)==="focus";p=tt,b=tt.currentTarget,Z(),!w.state.isVisible&&zM(tt)&&Qb.forEach(function(Kt){return Kt(tt)}),tt.type==="click"&&(w.props.trigger.indexOf("mouseenter")<0||o)&&w.props.hideOnClick!==!1&&w.state.isVisible?Nt=!0:W(tt),tt.type==="click"&&(o=!Nt),Nt&&!Ht&&K(tt)}}function $(tt){var Mt=tt.target,Nt=U().contains(Mt)||I.contains(Mt);if(!(tt.type==="mousemove"&&Nt)){var Ht=P().concat(I).map(function(Kt){var Hn,Ai=Kt._tippy,ho=(Hn=Ai.popperInstance)==null?void 0:Hn.state;return ho?{popperRect:Kt.getBoundingClientRect(),popperState:ho,props:n}:null}).filter(Boolean);p_t(Ht,tt)&&(ft(),K(tt))}}function J(tt){var Mt=it(tt)||w.props.trigger.indexOf("click")>=0&&o;if(!Mt){if(w.props.interactive){w.hideWithInteractivity(tt);return}K(tt)}}function st(tt){w.props.trigger.indexOf("focusin")<0&&tt.target!==U()||w.props.interactive&&tt.relatedTarget&&I.contains(tt.relatedTarget)||K(tt)}function it(tt){return Yo.isTouch?z()!==tt.type.indexOf("touch")>=0:!1}function at(){mt();var tt=w.props,Mt=tt.popperOptions,Nt=tt.placement,Ht=tt.offset,Kt=tt.getReferenceClientRect,Hn=tt.moveTransition,Ai=F()?Kb(I).arrow:null,ho=Kt?{getBoundingClientRect:Kt,contextElement:Kt.contextElement||U()}:t,po={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(th){var Qa=th.state;if(F()){var X2=u(),Nd=X2.box;["placement","reference-hidden","escaped"].forEach(function(vc){vc==="placement"?Nd.setAttribute("data-placement",Qa.placement):Qa.attributes.popper["data-popper-"+vc]?Nd.setAttribute("data-"+vc,""):Nd.removeAttribute("data-"+vc)}),Qa.attributes.popper={}}}},Qo=[{name:"offset",options:{offset:Ht}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Hn}},po];F()&&Ai&&Qo.push({name:"arrow",options:{element:Ai,padding:3}}),Qo.push.apply(Qo,Mt?.modifiers||[]),w.popperInstance=r_t(ho,I,Object.assign({},Mt,{placement:Nt,onFirstUpdate:f,modifiers:Qo}))}function mt(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function L(){var tt=w.props.appendTo,Mt,Nt=U();w.props.interactive&&tt===FG||tt==="parent"?Mt=Nt.parentNode:Mt=UG(tt,[Nt]),Mt.contains(I)||Mt.appendChild(I),w.state.isMounted=!0,at()}function P(){return md(I.querySelectorAll("[data-tippy-root]"))}function W(tt){w.clearDelayTimeouts(),tt&&C("onTrigger",[w,tt]),Ft();var Mt=m(!0),Nt=j(),Ht=Nt[0],Kt=Nt[1];Yo.isTouch&&Ht==="hold"&&Kt&&(Mt=Kt),Mt?i=setTimeout(function(){w.show()},Mt):w.show()}function K(tt){if(w.clearDelayTimeouts(),C("onUntrigger",[w,tt]),!w.state.isVisible){ye();return}if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(tt.type)>=0&&o)){var Mt=m(!1);Mt?r=setTimeout(function(){w.state.isVisible&&w.hide()},Mt):s=requestAnimationFrame(function(){w.hide()})}}function B(){w.state.isEnabled=!0}function q(){w.hide(),w.state.isEnabled=!1}function dt(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(s)}function vt(tt){if(!w.state.isDestroyed){C("onBeforeUpdate",[w,tt]),ri();var Mt=w.props,Nt=JG(t,Object.assign({},Mt,VG(tt),{ignoreAttributes:!0}));w.props=Nt,an(),Mt.interactiveDebounce!==Nt.interactiveDebounce&&(ft(),g=GG($,Nt.interactiveDebounce)),Mt.triggerTarget&&!Nt.triggerTarget?Wu(Mt.triggerTarget).forEach(function(Ht){Ht.removeAttribute("aria-expanded")}):Nt.triggerTarget&&t.removeAttribute("aria-expanded"),Z(),S(),O&&O(Mt,Nt),w.popperInstance&&(at(),P().forEach(function(Ht){requestAnimationFrame(Ht._tippy.popperInstance.forceUpdate)})),C("onAfterUpdate",[w,tt])}}function Jt(tt){w.setProps({content:tt})}function ee(){var tt=w.state.isVisible,Mt=w.state.isDestroyed,Nt=!w.state.isEnabled,Ht=Yo.isTouch&&!w.props.touch,Kt=GM(w.props.duration,0,co.duration);if(!(tt||Mt||Nt||Ht)&&!U().hasAttribute("disabled")&&(C("onShow",[w],!1),w.props.onShow(w)!==!1)){if(w.state.isVisible=!0,F()&&(I.style.visibility="visible"),S(),Ft(),w.state.isMounted||(I.style.transition="none"),F()){var Hn=u(),Ai=Hn.box,ho=Hn.content;VM([Ai,ho],0)}f=function(){var po;if(!(!w.state.isVisible||c)){if(c=!0,I.offsetHeight,I.style.transition=w.props.moveTransition,F()&&w.props.animation){var Qo=u(),th=Qo.box,Qa=Qo.content;VM([th,Qa],Kt),j0([th,Qa],"visible")}V(),Z(),BG(qM,w),(po=w.popperInstance)==null||po.forceUpdate(),C("onMount",[w]),w.props.animation&&F()&&je(Kt,function(){w.state.isShown=!0,C("onShown",[w])})}},L()}}function en(){var tt=!w.state.isVisible,Mt=w.state.isDestroyed,Nt=!w.state.isEnabled,Ht=GM(w.props.duration,1,co.duration);if(!(tt||Mt||Nt)&&(C("onHide",[w],!1),w.props.onHide(w)!==!1)){if(w.state.isVisible=!1,w.state.isShown=!1,c=!1,o=!1,F()&&(I.style.visibility="hidden"),ft(),ye(),S(!0),F()){var Kt=u(),Hn=Kt.box,Ai=Kt.content;w.props.animation&&(VM([Hn,Ai],Ht),j0([Hn,Ai],"hidden"))}V(),Z(),w.props.animation?F()&&Le(Ht,w.unmount):w.unmount()}}function dn(tt){Y().addEventListener("mousemove",g),BG(Qb,g),g(tt)}function Si(){w.state.isVisible&&w.hide(),w.state.isMounted&&(mt(),P().forEach(function(tt){tt._tippy.unmount()}),I.parentNode&&I.parentNode.removeChild(I),qM=qM.filter(function(tt){return tt!==w}),w.state.isMounted=!1,C("onHidden",[w]))}function hi(){w.state.isDestroyed||(w.clearDelayTimeouts(),w.unmount(),ri(),delete t._tippy,w.state.isDestroyed=!0,C("onDestroy",[w]))}}function kt(t,e){e===void 0&&(e={});var n=co.plugins.concat(e.plugins||[]);m_t();var i=Object.assign({},e,{plugins:n}),r=h_t(t),s=r.reduce(function(o,a){var l=a&&A_t(a,i);return l&&o.push(l),o},[]);return Xb(t)?s[0]:s}kt.defaultProps=co,kt.setDefaultProps=__t,kt.currentInput=Yo;var M_t=Object.assign({},wG,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}}),T_t=function(t,e){var n;e===void 0&&(e={});var i=t,r=[],s=[],o,a=e.overrides,l=[],c=!1;function p(){s=i.map(function(_){return Wu(_.props.triggerTarget||_.reference)}).reduce(function(_,w){return _.concat(w)},[])}function d(){r=i.map(function(_){return _.reference})}function f(_){i.forEach(function(w){_?w.enable():w.disable()})}function y(_){return i.map(function(w){var T=w.setProps;return w.setProps=function(I){T(I),w.reference===o&&_.setProps(I)},function(){w.setProps=T}})}function g(_,w){var T=s.indexOf(w);if(w!==o){o=w;var I=(a||[]).concat("content").reduce(function(O,k){return O[k]=i[T].props[k],O},{});_.setProps(Object.assign({},I,{getReferenceClientRect:typeof I.getReferenceClientRect=="function"?I.getReferenceClientRect:function(){var O;return(O=r[T])==null?void 0:O.getBoundingClientRect()}}))}}f(!1),d(),p();var b={fn:function(){return{onDestroy:function(){f(!0)},onHidden:function(){o=null},onClickOutside:function(_){_.props.showOnCreate&&!c&&(c=!0,o=null)},onShow:function(_){_.props.showOnCreate&&!c&&(c=!0,g(_,r[0]))},onTrigger:function(_,w){g(_,w.currentTarget)}}}},x=kt(Hu(),Object.assign({},o_t(e,["overrides"]),{plugins:[b].concat(e.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((n=e.popperOptions)==null?void 0:n.modifiers)||[],[M_t])})})),A=x.show;x.show=function(_){if(A(),!o&&_==null)return g(x,r[0]);if(!(o&&_==null)){if(typeof _=="number")return r[_]&&g(x,r[_]);if(i.indexOf(_)>=0){var w=_.reference;return g(x,w)}if(r.indexOf(_)>=0)return g(x,_)}},x.showNext=function(){var _=r[0];if(!o)return x.show(0);var w=r.indexOf(o);x.show(r[w+1]||_)},x.showPrevious=function(){var _=r[r.length-1];if(!o)return x.show(_);var w=r.indexOf(o),T=r[w-1]||_;x.show(T)};var M=x.setProps;return x.setProps=function(_){a=_.overrides||a,M(_)},x.setInstances=function(_){f(!0),l.forEach(function(w){return w()}),i=_,f(!1),d(),p(),l=y(x),x.setProps({triggerTarget:s})},l=y(x),x},I_t={name:"animateFill",defaultValue:!1,fn:function(t){var e;if(!((e=t.props.render)!=null&&e.$$tippy))return{};var n=Kb(t.popper),i=n.box,r=n.content,s=t.props.animateFill?N_t():null;return{onCreate:function(){s&&(i.insertBefore(s,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(s){var o=i.style.transitionDuration,a=Number(o.replace("ms",""));r.style.transitionDelay=Math.round(a/10)+"ms",s.style.transitionDuration=o,j0([s],"visible")}},onShow:function(){s&&(s.style.transitionDuration="0ms")},onHide:function(){s&&j0([s],"hidden")}}}};function N_t(){var t=Hu();return t.className=DG,j0([t],"hidden"),t}var YM={clientX:0,clientY:0},t2=[];function tB(t){var e=t.clientX,n=t.clientY;YM={clientX:e,clientY:n}}function O_t(t){t.addEventListener("mousemove",tB)}function k_t(t){t.removeEventListener("mousemove",tB)}var C_t={name:"followCursor",defaultValue:!1,fn:function(t){var e=t.reference,n=WG(t.props.triggerTarget||e),i=!1,r=!1,s=!0,o=t.props;function a(){return t.props.followCursor==="initial"&&t.state.isVisible}function l(){n.addEventListener("mousemove",d)}function c(){n.removeEventListener("mousemove",d)}function p(){i=!0,t.setProps({getReferenceClientRect:null}),i=!1}function d(g){var b=g.target?e.contains(g.target):!0,x=t.props.followCursor,A=g.clientX,M=g.clientY,_=e.getBoundingClientRect(),w=A-_.left,T=M-_.top;(b||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var I=e.getBoundingClientRect(),O=A,k=M;x==="initial"&&(O=I.left+w,k=I.top+T);var R=x==="horizontal"?I.top:k,j=x==="vertical"?I.right:O,z=x==="horizontal"?I.bottom:k,F=x==="vertical"?I.left:O;return{width:j-F,height:z-R,top:R,right:j,bottom:z,left:F}}})}function f(){t.props.followCursor&&(t2.push({instance:t,doc:n}),O_t(n))}function y(){t2=t2.filter(function(g){return g.instance!==t}),t2.filter(function(g){return g.doc===n}).length===0&&k_t(n)}return{onCreate:f,onDestroy:y,onBeforeUpdate:function(){o=t.props},onAfterUpdate:function(g,b){var x=b.followCursor;i||x!==void 0&&o.followCursor!==x&&(y(),x?(f(),t.state.isMounted&&!r&&!a()&&l()):(c(),p()))},onMount:function(){t.props.followCursor&&!r&&(s&&(d(YM),s=!1),a()||l())},onTrigger:function(g,b){zM(b)&&(YM={clientX:b.clientX,clientY:b.clientY}),r=b.type==="focus"},onHidden:function(){t.props.followCursor&&(p(),c(),s=!0)}}}};function R_t(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((((n=t.popperOptions)==null?void 0:n.modifiers)||[]).filter(function(i){var r=i.name;return r!==e.name}),[e])})}}var L_t={name:"inlinePositioning",defaultValue:!1,fn:function(t){var e=t.reference;function n(){return!!t.props.inlinePositioning}var i,r=-1,s=!1,o=[],a={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(d){var f=d.state;n()&&(o.indexOf(f.placement)!==-1&&(o=[]),i!==f.placement&&o.indexOf(f.placement)===-1&&(o.push(f.placement),t.setProps({getReferenceClientRect:function(){return l(f.placement)}})),i=f.placement)}};function l(d){return P_t(zG(d),e.getBoundingClientRect(),md(e.getClientRects()),r)}function c(d){s=!0,t.setProps(d),s=!1}function p(){s||c(R_t(t.props,a))}return{onCreate:p,onAfterUpdate:p,onTrigger:function(d,f){if(zM(f)){var y=md(t.reference.getClientRects()),g=y.find(function(x){return x.left-2<=f.clientX&&x.right+2>=f.clientX&&x.top-2<=f.clientY&&x.bottom+2>=f.clientY}),b=y.indexOf(g);r=b>-1?b:r}},onHidden:function(){r=-1}}}};function P_t(t,e,n,i){if(n.length<2||t===null)return e;if(n.length===2&&i>=0&&n[0].left>n[1].right)return n[i]||e;switch(t){case"top":case"bottom":{var r=n[0],s=n[n.length-1],o=t==="top",a=r.top,l=s.bottom,c=o?r.left:s.left,p=o?r.right:s.right,d=p-c,f=l-a;return{top:a,bottom:l,left:c,right:p,width:d,height:f}}case"left":case"right":{var y=Math.min.apply(Math,n.map(function(I){return I.left})),g=Math.max.apply(Math,n.map(function(I){return I.right})),b=n.filter(function(I){return t==="left"?I.left===y:I.right===g}),x=b[0].top,A=b[b.length-1].bottom,M=y,_=g,w=_-M,T=A-x;return{top:x,bottom:A,left:M,right:_,width:w,height:T}}default:return e}}var D_t={name:"sticky",defaultValue:!1,fn:function(t){var e=t.reference,n=t.popper;function i(){return t.popperInstance?t.popperInstance.state.elements.reference:e}function r(l){return t.props.sticky===!0||t.props.sticky===l}var s=null,o=null;function a(){var l=r("reference")?i().getBoundingClientRect():null,c=r("popper")?n.getBoundingClientRect():null;(l&&eB(s,l)||c&&eB(o,c))&&t.popperInstance&&t.popperInstance.update(),s=l,o=c,t.state.isMounted&&requestAnimationFrame(a)}return{onMount:function(){t.props.sticky&&a()}}}};function eB(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}kt.setDefaultProps({render:QG}),kt.setDefaultProps({onShow:t=>{if(!t.props.content)return!1}});function ZM(t,e={},n={mount:!0,appName:"Tippy"}){n=Object.assign({mount:!0,appName:"Tippy"},n);const i=Dn(),r=Q(),s=Q({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=Lp();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=O=>{let k,R=ae(O)?O.value:O;return Xs(R)?(o.value||(o.value=Ql({name:n.appName,setup:()=>()=>ae(O)?O.value:O}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),k=()=>l()):typeof R=="object"?(o.value||(o.value=Ql({name:n.appName,setup:()=>()=>Br(ae(O)?O.value:O)}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),k=()=>l()):k=R,k},p=O=>{let k={};return ae(O)?k=O.value||{}:wr(O)?k={...O}:k={...O},k.content&&(k.content=c(k.content)),k.triggerTarget&&(k.triggerTarget=ae(k.triggerTarget)?k.triggerTarget.value:k.triggerTarget),(!k.plugins||!Array.isArray(k.plugins))&&(k.plugins=[]),k.plugins=k.plugins.filter(R=>R.name!=="vueTippyReactiveState"),k.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){s.value.isEnabled=!0},onMount(){s.value.isMounted=!0},onShow(){s.value.isMounted=!0,s.value.isVisible=!0},onShown(){s.value.isShown=!0},onHide(){s.value.isMounted=!1,s.value.isVisible=!1},onHidden(){s.value.isShown=!1},onUnmounted(){s.value.isMounted=!1},onDestroy(){s.value.isDestroyed=!0}})}),k},d=()=>{r.value&&r.value.setProps(p(e))},f=()=>{!r.value||!e.content||r.value.setContent(c(e.content))},y=O=>{var k;(k=r.value)===null||k===void 0||k.setContent(c(O))},g=O=>{var k;(k=r.value)===null||k===void 0||k.setProps(p(O))},b=()=>{var O;r.value&&(r.value.destroy(),r.value=void 0),a=null,(O=o.value)===null||O===void 0||O.unmount(),o.value=void 0},x=()=>{var O;(O=r.value)===null||O===void 0||O.show()},A=()=>{var O;(O=r.value)===null||O===void 0||O.hide()},M=()=>{var O;(O=r.value)===null||O===void 0||O.disable(),s.value.isEnabled=!1},_=()=>{var O;(O=r.value)===null||O===void 0||O.enable(),s.value.isEnabled=!0},w=()=>{var O;(O=r.value)===null||O===void 0||O.unmount()},T=()=>{if(!t)return;let O=ae(t)?t.value:t;typeof O=="function"&&(O=O()),O&&(r.value=kt(O,p(e)),O.$tippy=I)},I={tippy:r,refresh:d,refreshContent:f,setContent:y,setProps:g,destroy:b,hide:A,show:x,disable:M,enable:_,unmount:w,mount:T,state:s};return n.mount&&(i?i.isMounted?T():li(T):T()),i&&ql(()=>{b()}),ae(e)||wr(e)?Wn(e,d,{immediate:!1}):ae(e.content)&&Wn(e.content,f,{immediate:!1}),I}function j_t(t,e){const n=Q();return li(()=>{const i=(Array.isArray(t)?t.map(r=>r.value):typeof t=="function"?t():t.value).map(r=>r instanceof Element?r._tippy:r).filter(Boolean);n.value=T_t(i,e?{allowHTML:!0,...e}:{allowHTML:!0})}),{singleton:n}}function $_t(t){return typeof t=="function"?t():St(t)}function F_t(t){var e,n;const i=$_t(t);return(n=(e=i)===null||e===void 0?void 0:e.$el)!==null&&n!==void 0?n:i}const U_t=ne({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>kt.defaultProps.appendTo},aria:{default:()=>kt.defaultProps.aria},delay:{default:()=>kt.defaultProps.delay},duration:{default:()=>kt.defaultProps.duration},getReferenceClientRect:{default:()=>kt.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>kt.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>kt.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>kt.defaultProps.interactive},interactiveBorder:{default:()=>kt.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>kt.defaultProps.interactiveDebounce},moveTransition:{default:()=>kt.defaultProps.moveTransition},offset:{default:()=>kt.defaultProps.offset},onAfterUpdate:{default:()=>kt.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>kt.defaultProps.onBeforeUpdate},onCreate:{default:()=>kt.defaultProps.onCreate},onDestroy:{default:()=>kt.defaultProps.onDestroy},onHidden:{default:()=>kt.defaultProps.onHidden},onHide:{default:()=>kt.defaultProps.onHide},onMount:{default:()=>kt.defaultProps.onMount},onShow:{default:()=>kt.defaultProps.onShow},onShown:{default:()=>kt.defaultProps.onShown},onTrigger:{default:()=>kt.defaultProps.onTrigger},onUntrigger:{default:()=>kt.defaultProps.onUntrigger},onClickOutside:{default:()=>kt.defaultProps.onClickOutside},placement:{default:()=>kt.defaultProps.placement},plugins:{default:()=>kt.defaultProps.plugins},popperOptions:{default:()=>kt.defaultProps.popperOptions},render:{default:()=>kt.defaultProps.render},showOnCreate:{type:Boolean,default:()=>kt.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>kt.defaultProps.touch},trigger:{default:()=>kt.defaultProps.trigger},triggerTarget:{default:()=>kt.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>kt.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>kt.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>kt.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>kt.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>kt.defaultProps.allowHTML},animation:{default:()=>kt.defaultProps.animation},arrow:{default:()=>kt.defaultProps.arrow},content:{default:()=>kt.defaultProps.content},inertia:{default:()=>kt.defaultProps.inertia},maxWidth:{default:()=>kt.defaultProps.maxWidth},role:{default:()=>kt.defaultProps.role},theme:{default:()=>kt.defaultProps.theme},zIndex:{default:()=>kt.defaultProps.zIndex}},emits:["state"],setup(t,{slots:e,emit:n,expose:i}){const r=Q(),s=Q(),o=Q(),a=Q(!1),l=()=>{let y={...t};for(const g of["to","tag","contentTag","contentClass"])y.hasOwnProperty(g)&&delete y[g];return y};let c=()=>F_t(r);t.to&&(typeof Element<"u"&&t.to instanceof Element?c=()=>t.to:t.to==="parent"?c=()=>{let y=r.value;return y||(y=r.value=s.value.parentElement),y}:(typeof t.to=="string"||t.to instanceof String)&&(c=()=>document.querySelector(t.to)));const p=ZM(c,l());let d=e.content;!d&&t.to==="parent"&&(d=e.default),li(()=>{a.value=!0,fs(()=>{d&&p.setContent(()=>o.value)})}),Wn(p.state,()=>{n("state",St(p.state))},{immediate:!0,deep:!0}),Wn(()=>t,()=>{p.setProps(l()),d&&p.setContent(()=>o.value)},{deep:!0});let f=Qn({elem:r,contentElem:o,mounted:a,...p});return i(f),()=>{const y=(t.contentTag,t.contentTag),g=d?Br(y,{ref:o,style:{display:a.value?"inherit":"none"},class:t.contentClass},d(f)):null;if(t.to==="parent"){const A=[];if(!r.value){const M=Br("span",{ref:s,"data-v-tippy":"",style:{display:"none"}});A.push(M)}return g&&A.push(g),A}const b=e.default?e.default(f):[];if(!t.tag){const A=Br(b[0],{ref:r,"data-v-tippy":""});return g?[A,g]:A}const x=(t.tag,t.tag);return Br(x,{ref:r,"data-v-tippy":""},g?[b,g]:b)}}}),G_t=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let JM={};Object.keys(kt.defaultProps).forEach(t=>{G_t.includes(t)?JM[t]={type:Boolean,default:function(){return kt.defaultProps[t]}}:JM[t]={default:function(){return kt.defaultProps[t]}}});const B_t=ne({props:JM,setup(t){const e=Q([]),{singleton:n}=j_t(e,t);return{instances:e,singleton:n}},mounted(){var t;const e=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(e).map(n=>n._tippy).filter(Boolean),(t=this.singleton)===null||t===void 0||t.setInstances(this.instances)},render(){let t=this.$slots.default?this.$slots.default():[];return Br(()=>t)}}),z_t={mounted(t,e,n){const i=typeof e.value=="string"?{content:e.value}:e.value||{},r=Object.keys(e.modifiers||{}),s=r.find(a=>a!=="arrow"),o=r.findIndex(a=>a==="arrow")!==-1;s&&(i.placement=i.placement||s),o&&(i.arrow=i.arrow!==void 0?i.arrow:!0),n.props&&n.props.onTippyShow&&(i.onShow=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),n.props&&n.props.onTippyShown&&(i.onShown=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),n.props&&n.props.onTippyHidden&&(i.onHidden=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),n.props&&n.props.onTippyHide&&(i.onHide=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),n.props&&n.props.onTippyMount&&(i.onMount=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),t.getAttribute("title")&&!i.content&&(i.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!i.content&&(i.content=t.getAttribute("content")),ZM(t,i)},unmounted(t){t.$tippy?t.$tippy.destroy():t._tippy&&t._tippy.destroy()},updated(t,e){const n=typeof e.value=="string"?{content:e.value}:e.value||{};t.getAttribute("title")&&!n.content&&(n.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!n.content&&(n.content=t.getAttribute("content")),t.$tippy?t.$tippy.setProps(n||{}):t._tippy&&t._tippy.setProps(n||{})}},V_t={install(t,e={}){kt.setDefaultProps(e.defaultProps||{}),t.directive(e.directive||"tippy",z_t),t.component(e.component||"tippy",U_t),t.component(e.componentSingleton||"tippy-singleton",B_t)}},nB=kt.setDefaultProps;nB({ignoreAttributes:!0,plugins:[D_t,L_t,C_t,I_t]});const W_t=ne({name:"App",components:{Shell:Q2t},setup(){const t=Dn();li(()=>{new VU().observe(t?.proxy?.$refs["app-size"]),nB({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),H_t=["lang"],q_t={class:"h-full",ref:"app-size"};function Y_t(t,e,n,i,r,s){const o=Tn("shell");return ct(),gt("div",{class:"ramp-app ramp-styles animation-enabled",lang:t.$i18n.locale},[rt("div",q_t,[Zt(o)],512)],8,H_t)}const Z_t=Bo(W_t,[["render",Y_t]]),Zo="focus-list",qu="focus-item",J_t="focus-icon",X_t="focus-container",yd=`[${Zo}],[${X_t}]`,e2="truncate-text",n2="show-truncate",gd="focused",XM=`button,input,select,a,textarea,[contenteditable],[${Zo}],[${J_t}],[tabIndex]`,K_t={mounted(t,e){+t.getAttribute("tabindex")<=0&&t.setAttribute("tabindex","0"),t.toggleAttribute(Zo,!0),new Q_t(t,e.value)},updated(t){iB(t)}};function iB(t){t.querySelectorAll(XM).forEach(e=>{if(e.closest(yd)===t||e.closest(yd)===e&&e.parentElement.closest(yd)===t)if(e.closest(`[${Zo}],.${gd}`).classList.contains(gd))e.setAttribute("tabindex","0");else{e.setAttribute("tabindex","-1");return}})}class Q_t{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(e,n){this.element=e,this.highlightedItem=this.element,this.isHorizontal=n==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const i=this;e.addEventListener("keydown",function(r){i.onKeydown(r)}),e.addEventListener("focus",function(){i.onFocus()}),e.addEventListener("blur",function(){i.onBlur()}),e.addEventListener("mousedown",function(){i.onMousedown()}),e.addEventListener("touchstart",function(){i.onTouchstart()}),e.addEventListener("refocusLegendItem",r=>{const s=r.detail.focusItem;i.element.focus(),i.focusItem(s),this.highlightedItem=s}),document.addEventListener("click",function(r){r.target&&e.contains(r.target)?i.onClick(r):i.defocusItem(i.highlightedItem)})}setTabIndex(e,n=this.element){n.querySelectorAll(XM).forEach(i=>{(e===-1||i.closest(yd)===this.element||i.closest(yd)===i&&i.parentElement.closest(yd)===this.element||i.closest(`[${Zo}],.${gd}`).classList.contains(gd))&&i.setAttribute("tabindex",e.toString())})}defocusItem(e){e.classList.remove(gd),this.setTabIndex(-1,e),e._tippy&&e._tippy.hide(),e.getAttribute(qu)===n2&&e.querySelector(`[${e2}]`)?._tippy?.hide()}focusItem(e){e.classList.add(gd),this.setAriaActiveDescendant(e),this.setTabIndex(0,e),e.scrollIntoView({block:"nearest"}),e._tippy&&!this.isTapped&&e._tippy.show(),e.getAttribute(qu)===n2&&e.querySelector(`[${e2}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(e){this.element.setAttribute("aria-activedescendant",e.getAttribute("id"))}shiftHighlight(e,n=!1){if(this.defocusItem(this.highlightedItem),n)if(this.highlightedItem===this.element)this.highlightedItem=e[e.length-1];else{const i=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[i-1]||e[e.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=e[0];else{const i=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[i+1]||e[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(e){const n=this,i=Array.prototype.filter.call(this.element.querySelectorAll(`[${qu}]`),r=>r.closest(`[${Zo}]`)===n.element&&!!r.offsetParent);if(i.length!==0)switch(e.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":e.target===this.element&&this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.highlightedItem.click());break;case"Tab":const r=this.highlightedItem.querySelectorAll(XM).length===0,s=this.element.isEqualNode(e.target);this.highlightedItem!==this.element&&s&&(r&&this.defocusItem(this.highlightedItem),e.shiftKey&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(e){this.defocusItem(this.highlightedItem);let n=e.target;if(!n.hasAttribute(Zo))for(;n.parentElement.closest(`[${Zo}]`)!==this.element;)n=n.parentElement.closest(`[${Zo}]`);this.highlightedItem=n.closest(`[${qu}]`)||n.closest(`[${Zo}]`)||this.highlightedItem,n.hasAttribute(`${qu}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(qu)===n2&&this.highlightedItem.querySelector(`[${e2}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),iB(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(qu)===n2&&this.highlightedItem.querySelector(`[${e2}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const rB="focus-item",txt={beforeMount(t,e){t.hasAttribute("id")||t.setAttribute("id",ext()),e.value?t.setAttribute(rB,e.value):t.toggleAttribute(rB,!0)}};function ext(){let t;do t="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(t)!==null);return t}const KM="focus-container",sB="focus-list",nxt="focus-icon",QM=`[${sB}],[${KM}]`,oB=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${sB}],[${KM}],[${nxt}],[tabIndex]`;let tT=[];const ixt={mounted(t){[...document.querySelectorAll(".inner-shell")].some(e=>e.contains(t))&&tT.push(new rxt(t))},beforeUnmount(t){tT=tT.filter(e=>e.element===t?(e.removeEventListeners(),!1):!0)}};class rxt{element;constructor(e){this.element=e,this.element.toggleAttribute(KM,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const n=this;this.element.addEventListener("keypress",function(i){n.onKeypress(i)}),this.element.addEventListener("click",function(){n.onClick()}),this.element.addEventListener("focusout",function(i){n.onFocusOut(i)}),this.element.addEventListener("focus",function(){n.onFocus()})}removeEventListeners(){const e=this;this.element.removeEventListener("keypress",function(n){e.onKeypress(n)}),this.element.removeEventListener("click",function(){e.onClick()}),this.element.removeEventListener("focusout",function(n){e.onFocusOut(n)}),this.element.removeEventListener("focus",function(){e.onFocus()})}onKeypress(e){e.target===this.element&&(e.key==="Enter"||e.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(e){this.element.contains(e.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){this.element.contains(document.activeElement)||Array.prototype.filter.call(this.element.querySelectorAll(oB),()=>!0).forEach(e=>{e.tabIndex=-1})}enableTabbing(){let e;return Array.prototype.map.call(this.element.querySelectorAll(oB),n=>{(n.closest(QM)===this.element||n.closest(QM)===n&&n.parentElement.closest(QM)===this.element)&&n.offsetParent&&(n.tabIndex=0,e===void 0&&(e=n))}),e}}const sxt="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",oxt="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",eT="numeric",nT="ascii",iT="alpha",$0="asciinumeric",F0="alphanumeric",rT="domain",aB="emoji",axt="scheme",lxt="slashscheme",sT="whitespace";function cxt(t,e){return t in e||(e[t]=[]),e[t]}function Yu(t,e,n){e[eT]&&(e[$0]=!0,e[F0]=!0),e[nT]&&(e[$0]=!0,e[iT]=!0),e[$0]&&(e[F0]=!0),e[iT]&&(e[F0]=!0),e[F0]&&(e[rT]=!0),e[aB]&&(e[rT]=!0);for(const i in e){const r=cxt(i,n);r.indexOf(t)<0&&r.push(t)}}function uxt(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function Yr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Yr.groups={},Yr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const r=e.jr[i][0],s=e.jr[i][1];if(s&&r.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,i)},tr(t,e,n,i){i=i||Yr.groups;let r;return e&&e.j?r=e:(r=new Yr(e),n&&i&&Yu(e,n,i)),this.jr.push([t,r]),r},ts(t,e,n,i){let r=this;const s=t.length;if(!s)return r;for(let o=0;o<s-1;o++)r=r.tt(t[o]);return r.tt(t[s-1],e,n,i)},tt(t,e,n,i){i=i||Yr.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const s=e;let o,a=r.go(t);if(a?(o=new Yr,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Yr,s){if(i)if(o.t&&typeof o.t=="string"){const l=Object.assign(uxt(o.t,i),n);Yu(s,l,i)}else n&&Yu(s,n,i);o.t=s}return r.j[t]=o,o}};const te=(t,e,n,i,r)=>t.ta(e,n,i,r),Nn=(t,e,n,i,r)=>t.tr(e,n,i,r),lB=(t,e,n,i,r)=>t.ts(e,n,i,r),pt=(t,e,n,i,r)=>t.tt(e,n,i,r),Wa="WORD",oT="UWORD",cB="ASCIINUMERICAL",uB="ALPHANUMERICAL",U0="LOCALHOST",aT="TLD",lT="UTLD",i2="SCHEME",vd="SLASH_SCHEME",cT="NUM",uT="WS",hT="NL",G0="OPENBRACE",B0="CLOSEBRACE",r2="OPENBRACKET",s2="CLOSEBRACKET",o2="OPENPAREN",a2="CLOSEPAREN",l2="OPENANGLEBRACKET",c2="CLOSEANGLEBRACKET",u2="FULLWIDTHLEFTPAREN",h2="FULLWIDTHRIGHTPAREN",p2="LEFTCORNERBRACKET",d2="RIGHTCORNERBRACKET",f2="LEFTWHITECORNERBRACKET",m2="RIGHTWHITECORNERBRACKET",y2="FULLWIDTHLESSTHAN",g2="FULLWIDTHGREATERTHAN",v2="AMPERSAND",b2="APOSTROPHE",w2="ASTERISK",dc="AT",_2="BACKSLASH",x2="BACKTICK",E2="CARET",fc="COLON",pT="COMMA",S2="DOLLAR",Jo="DOT",A2="EQUALS",dT="EXCLAMATION",Ns="HYPHEN",z0="PERCENT",M2="PIPE",T2="PLUS",I2="POUND",V0="QUERY",fT="QUOTE",hB="FULLWIDTHMIDDLEDOT",mT="SEMI",Xo="SLASH",W0="TILDE",N2="UNDERSCORE",pB="EMOJI",O2="SYM";var dB=Object.freeze({__proto__:null,ALPHANUMERICAL:uB,AMPERSAND:v2,APOSTROPHE:b2,ASCIINUMERICAL:cB,ASTERISK:w2,AT:dc,BACKSLASH:_2,BACKTICK:x2,CARET:E2,CLOSEANGLEBRACKET:c2,CLOSEBRACE:B0,CLOSEBRACKET:s2,CLOSEPAREN:a2,COLON:fc,COMMA:pT,DOLLAR:S2,DOT:Jo,EMOJI:pB,EQUALS:A2,EXCLAMATION:dT,FULLWIDTHGREATERTHAN:g2,FULLWIDTHLEFTPAREN:u2,FULLWIDTHLESSTHAN:y2,FULLWIDTHMIDDLEDOT:hB,FULLWIDTHRIGHTPAREN:h2,HYPHEN:Ns,LEFTCORNERBRACKET:p2,LEFTWHITECORNERBRACKET:f2,LOCALHOST:U0,NL:hT,NUM:cT,OPENANGLEBRACKET:l2,OPENBRACE:G0,OPENBRACKET:r2,OPENPAREN:o2,PERCENT:z0,PIPE:M2,PLUS:T2,POUND:I2,QUERY:V0,QUOTE:fT,RIGHTCORNERBRACKET:d2,RIGHTWHITECORNERBRACKET:m2,SCHEME:i2,SEMI:mT,SLASH:Xo,SLASH_SCHEME:vd,SYM:O2,TILDE:W0,TLD:aT,UNDERSCORE:N2,UTLD:lT,UWORD:oT,WORD:Wa,WS:uT});const Ha=/[a-z]/,H0=/\p{L}/u,yT=/\p{Emoji}/u,qa=/\d/,gT=/\s/,fB="\r",vT=`
`,hxt="\uFE0F",pxt="\u200D",bT="\uFFFC";let k2=null,C2=null;function dxt(t=[]){const e={};Yr.groups=e;const n=new Yr;k2==null&&(k2=yB(sxt)),C2==null&&(C2=yB(oxt)),pt(n,"'",b2),pt(n,"{",G0),pt(n,"}",B0),pt(n,"[",r2),pt(n,"]",s2),pt(n,"(",o2),pt(n,")",a2),pt(n,"<",l2),pt(n,">",c2),pt(n,"\uFF08",u2),pt(n,"\uFF09",h2),pt(n,"\u300C",p2),pt(n,"\u300D",d2),pt(n,"\u300E",f2),pt(n,"\u300F",m2),pt(n,"\uFF1C",y2),pt(n,"\uFF1E",g2),pt(n,"&",v2),pt(n,"*",w2),pt(n,"@",dc),pt(n,"`",x2),pt(n,"^",E2),pt(n,":",fc),pt(n,",",pT),pt(n,"$",S2),pt(n,".",Jo),pt(n,"=",A2),pt(n,"!",dT),pt(n,"-",Ns),pt(n,"%",z0),pt(n,"|",M2),pt(n,"+",T2),pt(n,"#",I2),pt(n,"?",V0),pt(n,'"',fT),pt(n,"/",Xo),pt(n,";",mT),pt(n,"~",W0),pt(n,"_",N2),pt(n,"\\",_2),pt(n,"\u30FB",hB);const i=Nn(n,qa,cT,{[eT]:!0});Nn(i,qa,i);const r=Nn(i,Ha,cB,{[$0]:!0}),s=Nn(i,H0,uB,{[F0]:!0}),o=Nn(n,Ha,Wa,{[nT]:!0});Nn(o,qa,r),Nn(o,Ha,o),Nn(r,qa,r),Nn(r,Ha,r);const a=Nn(n,H0,oT,{[iT]:!0});Nn(a,Ha),Nn(a,qa,s),Nn(a,H0,a),Nn(s,qa,s),Nn(s,Ha),Nn(s,H0,s);const l=pt(n,vT,hT,{[sT]:!0}),c=pt(n,fB,uT,{[sT]:!0}),p=Nn(n,gT,uT,{[sT]:!0});pt(n,bT,p),pt(c,vT,l),pt(c,bT,p),Nn(c,gT,p),pt(p,fB),pt(p,vT),Nn(p,gT,p),pt(p,bT,p);const d=Nn(n,yT,pB,{[aB]:!0});pt(d,"#"),Nn(d,yT,d),pt(d,hxt,d);const f=pt(d,pxt);pt(f,"#"),Nn(f,yT,d);const y=[[Ha,o],[qa,r]],g=[[Ha,null],[H0,a],[qa,s]];for(let b=0;b<k2.length;b++)mc(n,k2[b],aT,Wa,y);for(let b=0;b<C2.length;b++)mc(n,C2[b],lT,oT,g);Yu(aT,{tld:!0,ascii:!0},e),Yu(lT,{utld:!0,alpha:!0},e),mc(n,"file",i2,Wa,y),mc(n,"mailto",i2,Wa,y),mc(n,"http",vd,Wa,y),mc(n,"https",vd,Wa,y),mc(n,"ftp",vd,Wa,y),mc(n,"ftps",vd,Wa,y),Yu(i2,{scheme:!0,ascii:!0},e),Yu(vd,{slashscheme:!0,ascii:!0},e),t=t.sort((b,x)=>b[0]>x[0]?1:-1);for(let b=0;b<t.length;b++){const x=t[b][0],A=t[b][1]?{[axt]:!0}:{[lxt]:!0};x.indexOf("-")>=0?A[rT]=!0:Ha.test(x)?qa.test(x)?A[$0]=!0:A[nT]=!0:A[eT]=!0,lB(n,x,x,A)}return lB(n,"localhost",U0,{ascii:!0}),n.jd=new Yr(O2),{start:n,tokens:Object.assign({groups:e},dB)}}function mB(t,e){const n=fxt(e.replace(/[A-Z]/g,a=>a.toLowerCase())),i=n.length,r=[];let s=0,o=0;for(;o<i;){let a=t,l=null,c=0,p=null,d=-1,f=-1;for(;o<i&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,f=0,p=a):d>=0&&(d+=n[o].length,f++),c+=n[o].length,s+=n[o].length,o++;s-=d,o-=f,c-=d,r.push({t:p.t,v:e.slice(s-c,s),s:s-c,e:s})}return r}function fxt(t){const e=[],n=t.length;let i=0;for(;i<n;){let r=t.charCodeAt(i),s,o=r<55296||r>56319||i+1===n||(s=t.charCodeAt(i+1))<56320||s>57343?t[i]:t.slice(i,i+2);e.push(o),i+=o.length}return e}function mc(t,e,n,i,r){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new Yr(i),s.jr=r.slice(),t.j[l]=s),t=s}return s=new Yr(n),s.jr=r.slice(),t.j[e[o-1]]=s,s}function yB(t){const e=[],n=[];let i=0,r="0123456789";for(;i<t.length;){let s=0;for(;r.indexOf(t[i+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(i,i+s),10);o>0;o--)n.pop();i+=s}else n.push(t[i]),i++}return e}const q0={defaultProtocol:"http",events:null,format:gB,formatHref:gB,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function wT(t,e=null){let n=Object.assign({},q0);t&&(n=Object.assign(n,t instanceof wT?t.o:t));const i=n.ignoreTags,r=[];for(let s=0;s<i.length;s++)r.push(i[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}wT.prototype={o:q0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:q0[t],typeof r=="function"&&i&&(r=r(e,n))):typeof r=="function"&&i&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function gB(t){return t}function vB(t,e){this.t="token",this.v=t,this.tk=e}vB.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"\u2026":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=q0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),r=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),p=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=i,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),p&&Object.assign(o,p),{tagName:r,attributes:o,content:s,eventListeners:d}}};function R2(t,e){class n extends vB{constructor(r,s){super(r,s),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const bB=R2("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),wB=R2("text"),mxt=R2("nl"),L2=R2("url",{isLink:!0,toHref(t=q0.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==U0&&t[1].t===fc}}),Os=t=>new Yr(t);function yxt({groups:t}){const e=t.domain.concat([v2,w2,dc,_2,x2,E2,S2,A2,Ns,cT,z0,M2,T2,I2,Xo,O2,W0,N2]),n=[b2,fc,pT,Jo,dT,z0,V0,fT,mT,l2,c2,G0,B0,s2,r2,o2,a2,u2,h2,p2,d2,f2,m2,y2,g2],i=[v2,b2,w2,_2,x2,E2,S2,A2,Ns,G0,B0,z0,M2,T2,I2,V0,Xo,O2,W0,N2],r=Os(),s=pt(r,W0);te(s,i,s),te(s,t.domain,s);const o=Os(),a=Os(),l=Os();te(r,t.domain,o),te(r,t.scheme,a),te(r,t.slashscheme,l),te(o,i,s),te(o,t.domain,o);const c=pt(o,dc);pt(s,dc,c),pt(a,dc,c),pt(l,dc,c);const p=pt(s,Jo);te(p,i,s),te(p,t.domain,s);const d=Os();te(c,t.domain,d),te(d,t.domain,d);const f=pt(d,Jo);te(f,t.domain,d);const y=Os(bB);te(f,t.tld,y),te(f,t.utld,y),pt(c,U0,y);const g=pt(d,Ns);pt(g,Ns,g),te(g,t.domain,d),te(y,t.domain,d),pt(y,Jo,f),pt(y,Ns,g);const b=pt(y,fc);te(b,t.numeric,bB);const x=pt(o,Ns),A=pt(o,Jo);pt(x,Ns,x),te(x,t.domain,o),te(A,i,s),te(A,t.domain,o);const M=Os(L2);te(A,t.tld,M),te(A,t.utld,M),te(M,t.domain,o),te(M,i,s),pt(M,Jo,A),pt(M,Ns,x),pt(M,dc,c);const _=pt(M,fc),w=Os(L2);te(_,t.numeric,w);const T=Os(L2),I=Os();te(T,e,T),te(T,n,I),te(I,e,T),te(I,n,I),pt(M,Xo,T),pt(w,Xo,T);const O=pt(a,fc),k=pt(l,fc),R=pt(k,Xo),j=pt(R,Xo);te(a,t.domain,o),pt(a,Jo,A),pt(a,Ns,x),te(l,t.domain,o),pt(l,Jo,A),pt(l,Ns,x),te(O,t.domain,T),pt(O,Xo,T),pt(O,V0,T),te(j,t.domain,T),te(j,e,T),pt(j,Xo,T);const z=[[G0,B0],[r2,s2],[o2,a2],[l2,c2],[u2,h2],[p2,d2],[f2,m2],[y2,g2]];for(let F=0;F<z.length;F++){const[U,Y]=z[F],u=pt(T,U);pt(I,U,u),pt(u,Y,T);const m=Os(L2);te(u,e,m);const S=Os();te(u,n),te(m,e,m),te(m,n,S),te(S,e,m),te(S,n,S),pt(m,Y,T),pt(S,Y,T)}return pt(r,U0,M),pt(r,hT,mxt),{start:r,tokens:dB}}function gxt(t,e,n){let i=n.length,r=0,s=[],o=[];for(;r<i;){let a=t,l=null,c=null,p=0,d=null,f=-1;for(;r<i&&!(l=a.go(n[r].t));)o.push(n[r++]);for(;r<i&&(c=l||a.go(n[r].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,r++,p++;if(f<0)r-=p,r<i&&(o.push(n[r]),r++);else{o.length>0&&(s.push(_T(wB,e,o)),o=[]),r-=f,p-=f;const y=d.t,g=n.slice(r-p,r);s.push(_T(y,e,g))}}return o.length>0&&s.push(_T(wB,e,o)),s}function _T(t,e,n){const i=n[0].s,r=n[n.length-1].e,s=e.slice(i,r);return new t(s,n)}const Fi={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function vxt(){Fi.scanner=dxt(Fi.customSchemes);for(let t=0;t<Fi.tokenQueue.length;t++)Fi.tokenQueue[t][1]({scanner:Fi.scanner});Fi.parser=yxt(Fi.scanner.tokens);for(let t=0;t<Fi.pluginQueue.length;t++)Fi.pluginQueue[t][1]({scanner:Fi.scanner,parser:Fi.parser});return Fi.initialized=!0,Fi}function _B(t){return Fi.initialized||vxt(),gxt(Fi.parser.start,t,mB(Fi.scanner.start,t))}_B.scan=mB;var bxt={amp:"&",gt:">",lt:"<",nbsp:"\xA0",quot:'"'},wxt=/^#[xX]([A-Fa-f0-9]+)$/,_xt=/^#([0-9]+)$/,xxt=/^([A-Za-z0-9]+)$/,Ext=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var n=e.match(wxt);if(n)return String.fromCharCode(parseInt(n[1],16));if(n=e.match(_xt),n)return String.fromCharCode(parseInt(n[1],10));if(n=e.match(xxt),n)return this.named[n[1]]||"&"+n[1]+";"}},t}(),Sxt=/[\t\n\f ]/,Axt=/[A-Za-z]/,Mxt=/\r\n?/g;function Ui(t){return Sxt.test(t)}function xB(t){return Axt.test(t)}function Txt(t){return t.replace(Mxt,`
`)}var Ixt=function(){function t(e,n,i){i===void 0&&(i="precompile"),this.delegate=e,this.entityParser=n,this.mode=i,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var r=this.peek();if(r==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&r===`
`){var s=this.tagNameBuffer.toLowerCase();(s==="pre"||s==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var r=this.peek(),s=this.tagNameBuffer;r==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):r==="&"&&s!=="script"&&s!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(r))},tagOpen:function(){var r=this.consume();r==="!"?this.transitionTo("markupDeclarationOpen"):r==="/"?this.transitionTo("endTagOpen"):(r==="@"||r===":"||xB(r))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(r))},markupDeclarationOpen:function(){var r=this.consume();if(r==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var s=r.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();s==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var r=this.consume();Ui(r)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var r=this.consume();Ui(r)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(r.toLowerCase()))},doctypeName:function(){var r=this.consume();Ui(r)?this.transitionTo("afterDoctypeName"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(r.toLowerCase())},afterDoctypeName:function(){var r=this.consume();if(!Ui(r))if(r===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var s=r.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=s.toUpperCase()==="PUBLIC",a=s.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var r=this.peek();Ui(r)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):r==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):r==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):r===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var r=this.consume();r==='"'?this.transitionTo("afterDoctypePublicIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(r)},doctypePublicIdentifierSingleQuoted:function(){var r=this.consume();r==="'"?this.transitionTo("afterDoctypePublicIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(r)},afterDoctypePublicIdentifier:function(){var r=this.consume();Ui(r)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):r==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):r==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var r=this.consume();Ui(r)||(r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):r==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):r==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var r=this.consume();r==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(r)},doctypeSystemIdentifierSingleQuoted:function(){var r=this.consume();r==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(r)},afterDoctypeSystemIdentifier:function(){var r=this.consume();Ui(r)||r===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var r=this.consume();r==="-"?this.transitionTo("commentStartDash"):r===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(r),this.transitionTo("comment"))},commentStartDash:function(){var r=this.consume();r==="-"?this.transitionTo("commentEnd"):r===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var r=this.consume();r==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(r)},commentEndDash:function(){var r=this.consume();r==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+r),this.transitionTo("comment"))},commentEnd:function(){var r=this.consume();r===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+r),this.transitionTo("comment"))},tagName:function(){var r=this.consume();Ui(r)?this.transitionTo("beforeAttributeName"):r==="/"?this.transitionTo("selfClosingStartTag"):r===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(r)},endTagName:function(){var r=this.consume();Ui(r)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):r==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):r===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(r)},beforeAttributeName:function(){var r=this.peek();if(Ui(r)){this.consume();return}else r==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):r===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):r==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(r)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var r=this.peek();Ui(r)?(this.transitionTo("afterAttributeName"),this.consume()):r==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):r==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):r===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):r==='"'||r==="'"||r==="<"?(this.delegate.reportSyntaxError(r+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(r)):(this.consume(),this.delegate.appendToAttributeName(r))},afterAttributeName:function(){var r=this.peek();if(Ui(r)){this.consume();return}else r==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):r==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):r===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(r))},beforeAttributeValue:function(){var r=this.peek();Ui(r)?this.consume():r==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):r==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):r===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(r))},attributeValueDoubleQuoted:function(){var r=this.consume();r==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):r==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(r)},attributeValueSingleQuoted:function(){var r=this.consume();r==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):r==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(r)},attributeValueUnquoted:function(){var r=this.peek();Ui(r)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):r==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):r==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):r===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(r))},afterAttributeValueQuoted:function(){var r=this.peek();Ui(r)?(this.consume(),this.transitionTo("beforeAttributeName")):r==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):r===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var r=this.peek();r===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var r=this.consume();(r==="@"||r===":"||xB(r))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(r))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=Txt(e);this.index<this.input.length;){var n=this.states[this.state];if(n!==void 0)n.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var n=this.input.slice(this.index,e),i=this.entityParser.parse(n);if(i){for(var r=n.length;r;)this.consume(),r--;return this.consume(),i}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),Nxt=function(){function t(e,n){n===void 0&&(n={}),this.options=n,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Ixt(this,e,n.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var n=0;n<arguments.length;n++)if(e.type===arguments[n])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var n=this.current("Doctype");n.publicIdentifier===void 0?n.publicIdentifier=e:n.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var n=this.current("Doctype");n.systemIdentifier===void 0?n.systemIdentifier=e:n.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function Oxt(t,e){var n=new Nxt(new Ext(bxt),e);return n.tokenize(t)}const EB="LinkifyResult",P2="StartTag",SB="EndTag",xT="Chars",kxt="Comment",Cxt="Doctype";function AB(t,e){e===void 0&&(e={});const n=Oxt(t),i=[],r=[],s=new wT(e,Pxt);for(let o=0;o<n.length;o++){const a=n[o];if(a.type===P2){i.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||s.ignoreTags.indexOf(l)>=0))continue;let c=i.length;Lxt(l,n,++o,i),o+=i.length-c-1}else if(a.type!==xT)i.push(a);else{const l=Rxt(a.chars,s);i.push.apply(i,l)}}for(let o=0;o<i.length;o++){const a=i[o];switch(a.type){case EB:r.push(a.rendered);break;case P2:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+jxt(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",r.push(l);break}case SB:r.push(`</${a.tagName}>`);break;case xT:r.push(ET(a.chars));break;case kxt:r.push(`<!--${ET(a.chars)}-->`);break;case Cxt:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",r.push(l);break}}}return r.join("")}function Rxt(t,e){const n=_B(t),i=[];for(let r=0;r<n.length;r++){const s=n[r];s.t==="nl"&&e.get("nl2br")?i.push({type:P2,tagName:"br",attributes:[],selfClosing:!0}):!s.isLink||!e.check(s)?i.push({type:xT,chars:s.toString()}):i.push({type:EB,rendered:e.render(s)})}return i}function Lxt(t,e,n,i){let r=1;for(;n<e.length&&r>0;){let s=e[n];s.type===P2&&s.tagName.toUpperCase()===t?r++:s.type===SB&&s.tagName.toUpperCase()===t&&r--,i.push(s),n++}return i}function Pxt(t){let{tagName:e,attributes:n,content:i}=t;return`<${e} ${Dxt(n)}>${ET(i)}</${e}>`}function ET(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function MB(t){return t.replace(/"/g,"&quot;")}function Dxt(t){const e=[];for(const n in t){const i=t[n]+"";e.push(`${n}="${MB(i)}"`)}return e.join(" ")}function jxt(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n][0],r=t[n][1]+"";e.push(`${i}="${MB(r)}"`)}return e}const $xt="truncate-text",Fxt="truncate-trigger",Uxt={beforeMount(t,e){!t.classList.contains("truncate")&&!e.value?.noTruncateClass&&t.classList.add("truncate"),t.toggleAttribute($xt,!0)},mounted(t,e){let n;e.value&&e.value.externalTrigger&&(n=t.closest(`[${Fxt}]`)),ZM(t,{content:TB(t.textContent),onShow:Gxt,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:n,...e.value?.options||{}})},updated(t,e){t._tippy&&(t._tippy.setContent(TB(t.textContent)),e.value&&e.value.options&&t._tippy.setProps(e.value.options))},unmounted(t){t._tippy&&t._tippy.destroy()}};function Gxt(t){if(!(t.reference.clientWidth<t.reference.scrollWidth||t.reference.clientHeight<t.reference.scrollHeight))return!1}const Bxt=t=>{const e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return t.replace(/[<>"']/g,n=>e[n])};function TB(t){if(t===null)return"";const e=Bxt(t);let n=AB(e,{target:"_blank",validate:{url:i=>/^https?:\/\//.test(i)}});return n=`<div style='word-break: break-word;'>${n}</div>`,n}const zxt=["content"],Vxt={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},Wxt={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},Hxt={key:1},qxt={key:0,class:"flex"},Yxt=["innerHTML"],Zxt={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},Jxt=ne({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(t,{expose:e}){const{t:n}=Qe(),i=uc(),r=g0(),s=Rn("iApi"),o=Bm("el"),a=Bm("contentEl"),l=Q();e({el:o});const c=t,p=Xt(()=>s.fixture.get("appbar")?r.temporary:[]),d=Xt(()=>i.mobileView),f=Xt(()=>i.reorderable),y=A=>A.scrollHeight>A.clientHeight,g=()=>!d.value&&!c.panel.teleport,b=A=>{c.panel.move(A),A==="left"&&fs(()=>{(o.value?.querySelector(".move-left")).focus()})},x=Xt(()=>c.screenId?c.panel.screens[c.screenId][s.$i18n.locale.value??"en"]:null);return li(()=>{o.value?.addEventListener("blur",()=>{o.value?._tippy?.hide()}),o.value?.addEventListener("keyup",A=>{A.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),ys(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",A=>{A.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(A,M)=>{const _=Tn("back"),w=Tn("panel-options-menu"),T=Tn("left"),I=Tn("right"),O=Tn("pin"),k=Tn("expand"),R=Tn("minimize"),j=Tn("close"),z=Ae("truncate"),F=Ae("focus-item"),U=Ae("tippy");return Se((ct(),gt("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${St(n)(t.panel.alertName)+". "+St(n)("panels.access")}</div>`,ref_key:"el",ref:o},[t.header?(ct(),gt("header",Vxt,[Zt(_,{class:rn(t.panel.teleport?"display-none":"block sm:display-none"),onClick:M[0]||(M[0]=Y=>t.panel.close())},null,8,["class"]),Se((ct(),gt("h2",Wxt,[A.$slots.header?gs(A.$slots,"header",{key:0}):(ct(),gt("div",Hxt,Ee(St(n)(t.panel.alertName)),1))])),[[z]]),A.$slots.controls?(ct(),Ue(w,{key:0},{default:Mn(()=>[gs(A.$slots,"controls")]),_:3})):Re("",!0),rt("div",{class:rn(t.panel.teleport?"flex":"display-none sm:flex")},[t.panel.teleport?Re("",!0):(ct(),gt("div",qxt,[f.value?(ct(),Ue(T,{key:0,onClick:M[1]||(M[1]=Y=>b("left")),active:!t.panel.isLeftMostPanel},null,8,["active"])):Re("",!0),f.value?(ct(),Ue(I,{key:1,onClick:M[2]||(M[2]=Y=>b("right")),active:!t.panel.isRightMostPanel},null,8,["active"])):Re("",!0),Zt(O,{onClick:M[3]||(M[3]=Y=>t.panel.pin()),active:t.panel.isPinned},null,8,["active"]),t.panel.controls&&t.panel.controls.expand?(ct(),Ue(k,{key:2,onClick:M[4]||(M[4]=Y=>t.panel.expand()),active:t.panel.expanded},null,8,["active"])):Re("",!0)])),t.panel.button&&p.value?.includes(t.panel.id)?(ct(),Ue(R,{key:1,onClick:M[5]||(M[5]=Y=>t.panel.minimize())})):Re("",!0),Zt(j,{onClick:M[6]||(M[6]=Y=>t.panel.close())})],2)])):Re("",!0),t.content?(ct(),gt("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[A.$slots.content?gs(A.$slots,"content",{key:0}):x.value?(ct(),gt("div",{key:1,innerHTML:x.value.innerHTML},null,8,Yxt)):Re("",!0)],512)):Re("",!0),t.footer?Se((ct(),gt("div",Zxt,[gs(A.$slots,"footer")])),[[F]]):Re("",!0)],8,zxt)),[[U,{trigger:"manual",touch:!1,onShow:g,allowHTML:!0,maxWidth:t.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),Xxt={class:"relative"},Kxt=["content","aria-label"],Qxt=["transform"],t3t=ne({__name:"pin",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ae("tippy");return ct(),gt("div",Xxt,[Se((ct(),gt("button",{type:"button",class:rn(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:St(e)(t.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":St(e)(t.active?"panels.controls.unpin":"panels.controls.pin")},[(ct(),gt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${t.active?30:0})`},i[0]||(i[0]=[rt("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,Qxt))],10,Kxt)),[[r,{placement:"bottom",hideOnClick:!1}]])])}}}),e3t={class:"relative"},n3t=["content","aria-label"],i3t=ne({__name:"close",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ae("tippy");return ct(),gt("div",e3t,[Se((ct(),gt("button",{type:"button",class:rn(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:St(e)("panels.controls.close"),"aria-label":St(e)("panels.controls.close")},i[0]||(i[0]=[rt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[rt("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,n3t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),r3t={class:"relative"},s3t=["content","aria-label"],o3t=ne({__name:"back",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ae("tippy");return ct(),gt("div",r3t,[Se((ct(),gt("button",{type:"button",class:rn(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:St(e)("panels.controls.back"),"aria-label":St(e)("panels.controls.back")},i[0]||(i[0]=[rt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[rt("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,s3t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),a3t={class:"w-32 h-32"},l3t=["content","aria-label"],c3t={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},u3t={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},h3t=ne({__name:"expand",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ae("tippy");return ct(),gt("div",a3t,[Se((ct(),gt("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:St(e)(`panels.controls.${t.active?"collapse":"expand"}`),"aria-label":St(e)(`panels.controls.${t.active?"collapse":"expand"}`)},[t.active?(ct(),gt("svg",u3t,i[1]||(i[1]=[rt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),rt("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),rt("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),rt("path",{d:"M4 12h16v2H4z"},null,-1)]))):(ct(),gt("svg",c3t,i[0]||(i[0]=[rt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),rt("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),rt("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,l3t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),p3t={class:"relative"},d3t=["content","aria-label"],f3t=ne({__name:"minimize",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ae("tippy");return ct(),gt("div",p3t,[Se((ct(),gt("button",{type:"button",class:rn(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":t.active}]),content:St(e)("panels.controls.minimize"),"aria-label":St(e)("panels.controls.minimize")},i[0]||(i[0]=[rt("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[rt("path",{d:"M0 0h24v24H0V0z",fill:"none"}),rt("path",{d:"M6 19h12v2H6z"})],-1)]),10,d3t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),m3t={class:"relative"},y3t=["content","aria-label"],g3t=ne({__name:"right",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ae("tippy");return ct(),gt("div",m3t,[Se((ct(),gt("button",{type:"button",class:rn(["p-8",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:St(e)("panels.controls.moveRight"),"aria-label":St(e)("panels.controls.moveRight")},i[0]||(i[0]=[rt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[rt("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,y3t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),v3t={class:"relative"},b3t=["content","aria-label"],w3t=ne({__name:"left",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ae("tippy");return ct(),gt("div",v3t,[Se((ct(),gt("button",{type:"button",class:rn(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:St(e)("panels.controls.moveLeft"),"aria-label":St(e)("panels.controls.moveLeft")},i[0]||(i[0]=[rt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[rt("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,b3t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),_3t=ne({__name:"panel-options-menu",setup(t){const{t:e}=Qe();return(n,i)=>(ct(),Ue(CM,{class:"flex",tooltip:St(e)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:Mn(()=>i[0]||(i[0]=[rt("div",{class:"p-6"},[rt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[rt("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:Mn(()=>[gs(n.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),x3t=Bo(_3t,[["__scopeId","data-v-51e22a4a"]]),E3t={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},S3t={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},A3t=ne({__name:"fullscreen-nav",setup(t){const{t:e}=Qe(),n=Rn("iApi"),i=()=>{n.toggleFullscreen()};return(r,s)=>{const o=Tn("mapnav-button");return ct(),Ue(o,{onClickFunction:i,tooltip:St(e)("mapnav.fullscreen")},{default:Mn(()=>[St(n).isFullscreen?(ct(),gt("svg",E3t,s[0]||(s[0]=[rt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),rt("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(ct(),gt("svg",S3t,s[1]||(s[1]=[rt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),rt("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),M3t=ne({__name:"geolocator-nav",setup(t){const{t:e}=Qe(),n=Rn("iApi");let i=Qn([]);const r=async()=>{if(i.length)s(i);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?n.notify.show(qr.ERROR,e("mapnav.geolocator.error.permission")):n.notify.show(qr.ERROR,e("mapnav.geolocator.error.internal"))});a&&(i=[a.coords.longitude,a.coords.latitude],s(i))}},s=a=>{const l=new ki("geolocation",a,$t.latLongSR(),!0);n.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=Tn("mapnav-button");return ct(),Ue(c,{onClickFunction:r,tooltip:St(e)("mapnav.geolocator")},{default:Mn(()=>l[0]||(l[0]=[rt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[rt("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),T3t=ne({__name:"home-nav",setup(t){const{t:e}=Qe(),n=Rn("iApi"),i=()=>{const r=n.geo.map.getExtentSet();n.geo.map.zoomMapTo(r.fullExtent)};return(r,s)=>{const o=Tn("mapnav-button");return ct(),Ue(o,{onClickFunction:i,tooltip:St(e)("mapnav.home")},{default:Mn(()=>s[0]||(s[0]=[rt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[rt("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),rt("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),I3t={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},N3t=["content","aria-label"],O3t=ne({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1},showOutline:{type:Boolean,default:!1}},setup(t){return(e,n)=>{const i=Ae("focus-item"),r=Ae("tippy");return ct(),gt("div",I3t,[Se((ct(),gt("button",{type:"button",class:rn(["w-full h-full default-focus-style",[t.showOutline?"focus:outline focus:outline-2 focus:outline-blue-400 focus:absolute focus:z-50":"focus:outline-none"]]),onClick:n[0]||(n[0]=s=>t.onClickFunction()),content:t.tooltip,"aria-label":typeof t.tooltip=="string"?t.tooltip:""},[gs(e.$slots,"default")],10,N3t)),[[i],[r,{placement:"left"}]])])}}}),k3t={class:"relative",tabindex:"-1"},C3t=["aria-label","content"],R3t=ne({__name:"button",props:{onClickFunction:{type:Function,required:!0},buttonId:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(t){const e=Rn("iApi"),n=t,i=()=>e.event.emit(It.APPBAR_BUTTON_CLICK,n.buttonId);return(r,s)=>{const o=Ae("focus-item"),a=Ae("tippy");return ct(),gt("div",k3t,[Se((ct(),gt("button",{type:"button",class:"py-6 w-full h-full",onClick:s[0]||(s[0]=()=>{t.onClickFunction(),i()}),"aria-label":String(t.tooltip),content:`<div style='word-break: break-word;'>${t.tooltip}</div>`},[gs(r.$slots,"default",{},void 0,!0)],8,C3t)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),L3t=Bo(R3t,[["__scopeId","data-v-1cb84ae1"]]),IB=Xe("areas-of-interest",()=>({areas:Q([])})),NB=Xe("export",()=>{const t=Q({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),e=Q("");function n(i){if(t.value[i.name]!==void 0){const r=t.value[i.name];t.value[i.name]=i.selected!==void 0?i.selected:!r}}return{componentSelectedState:t,fileName:e,toggleSelected:n}}),OB=Xe("extentguard",()=>{const t=Q(!1);function e(l){t.value=l}const n=Q(!1);function i(l){n.value=l}const r=Q(!1);function s(l){r.value=l}const o=Q([]);function a(l){o.value=l}return{active:t,setActive:e,enforcing:n,setEnforcing:i,alwaysOn:r,setAlwaysOn:s,extentSetIds:o,setExtentSetIds:a}}),bd=function t(e){function n(r,s,o){var a,l={};if(Array.isArray(r))return r.concat(s);for(a in r)l[o?a.toLowerCase():a]=r[a];for(a in s){var c=o?a.toLowerCase():a,p=s[a];l[c]=c in l&&typeof p=="object"?n(l[c],p,c=="headers"):p}return l}function i(r,s,o,a,l){var c=typeof r!="string"?(s=r).url:r,p={config:s},d=n(e,s),f={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(f.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),f["content-type"]="application/json");try{f[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:n(d.headers,f,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var g in y)typeof y[g]!="function"&&(p[g]=y[g]);return d.responseType=="stream"?(p.data=y.body,p):y[d.responseType||"text"]().then(function(b){p.data=b,p.data=JSON.parse(b)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?p:Promise.reject(p)})})}return e=e||{},i.request=i,i.get=function(r,s){return i(r,s,"get")},i.delete=function(r,s){return i(r,s,"delete")},i.head=function(r,s){return i(r,s,"head")},i.options=function(r,s){return i(r,s,"options")},i.post=function(r,s,o){return i(r,o,"post",s)},i.put=function(r,s,o){return i(r,o,"put",s)},i.patch=function(r,s,o){return i(r,o,"patch",s)},i.all=Promise.all.bind(Promise),i.spread=function(r){return r.apply.bind(r,r)},i.CancelToken=typeof AbortController=="function"?AbortController:Object,i.defaults=e,i.create=t,i}(),P3t={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,Y:60},D3t={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class j3t{provinceList=[];listFetched=!1;constructor(e){bd.get(e).then(n=>{this.provinceList=n.data.definitions.map(r=>{const s=parseInt(r.code);return{code:s,abbr:D3t[s],name:r.description}});const i={code:-1,abbr:"...",name:"..."};this.provinceList.push(i),this.provinceList.sort((r,s)=>r.name>s.name?1:-1),this.listFetched=!0})}codeToProvince(e){return this.provinceList.find(n=>n.code===e)}nameToProvince(e){return this.provinceList.find(n=>n.name===e)}abbrToProvince(e){return this.provinceList.find(n=>n.abbr===e)}fsaToProvince(e){let n;const i=e.toUpperCase(),r=i.substring(0,1);return r==="X"?i==="X0A"||i==="X0B"||i==="X0C"?n=62:n=61:n=P3t[r],this.codeToProvince(n)}}function $3t(t){return new j3t(t)}const D2={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"R\xE9gion De Tri D'Acheminement",NTS:"Syst\xE8me National De R\xE9f\xE9rence Cartographique",COORD:"Latitude/Longitude",SCALE:"\xC9chelle"}};class F3t{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(e,n){bd.get(n).then(i=>{i.data.definitions.forEach(r=>{D2[e][r.code]=r.term.split(`${r.code}-`)[1]}),Object.keys(D2[e]).forEach(r=>{this.allTypes[r]=D2[e][r],this.validTypes[r]=D2[e][r]}),this.typesFetched=!0})}filterValidTypes(e){if(this.filterComplete)return this.validTypes;if(e=typeof e=="string"?[e]:e,e&&e.length>0)for(const n of e)delete this.validTypes[n];return this.filterComplete=!0,this.validTypes}}function U3t(t,e){return new F3t(t,e)}function ks(t,e){return t.then(function(n){return[null,n]}).catch(function(n){return[n,void 0]})}class j2{config;query;failedServs=[];results=[];constructor(e,n=""){this.query=n,this.config=e}addResult(e){Array.isArray(e)?this.results=this.results.concat(e):this.results.push(e)}}async function G3t(t,e){let n,i;const r=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,s=/^\d{2,3}[A-P]/,o=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;return r.test(e)&&!t.disabledSearchTypes.includes("LAT/LNG")?(i=e.slice(0,-1),n=new j2(t,i),await W3t(n)):o.test(e)&&!t.disabledSearchTypes.includes("FSA")?(i=e.substring(0,3).toUpperCase(),n=new j2(t,i),await H3t(n)):s.test(e)&&!t.disabledSearchTypes.includes("NTS")?(i=e.substring(0,6).toUpperCase(),n=new j2(t,i),await q3t(n)):(i=encodeURIComponent(e.trim()),n=new j2(t,i),await Y3t(n)),t.customSources.length&&await B3t(n,t.customSources),n}const $2=async t=>{const[e,n]=await ks(bd.get(t));return e?(console.error("Request error from "+t),console.error(e),Promise.reject("Could not load results from remote service.")):n.data},F2=(t,e,n)=>[t+n,e-n,t-n,e+n],ST=(t,e,n,i)=>{let r="";const s=t.config;return e?r=s.geoLocateUrl+"?q="+t.query:(n&&i?r=`${s.geoNameUrl}?lat=${n}&lon=${i}&num=${s.maxResults}`:r=`${s.geoNameUrl}?q=${t.query}&num=${s.maxResults}`,s.categories.length>0&&(r+=`&concise=${s.categories.join(",")}`),s.officialOnly&&(r+="&category=O")),r},kB=(t,e)=>e.filter(n=>t.types.validTypes[n.concise.code]).map(n=>({name:n.name,flav:"nme",bbox:n.bbox,type:t.types.allTypes[n.concise.code],position:[n.longitude,n.latitude],location:{city:n.location,province:t.provinces.codeToProvince(parseInt(n.province.code))},order:t.sortOrder.indexOf(n.concise.code)>=0?t.sortOrder.indexOf(n.concise.code):t.sortOrder.length})),B3t=async(t,e)=>{const n=(await Promise.all(e.map(i=>i.onSearch(t.query)))).flat();t.addResult(n)},AT=async t=>{const[e,n]=await ks($2(ST(t,!0)));return e?(console.error("Geolocation service failed"),t.failedServs.push("geolocation"),[]):n},z3t=async t=>{const[e,n]=await ks($2(ST(t,!1)));let i;e?(console.error("GeoName service targeting Name failed"),t.failedServs.push("geoname"),i=[]):i=n.items,t.addResult(kB(t.config,i))},V3t=async(t,e,n)=>{const[i,r]=await ks($2(ST(t,!1,e,n)));let s;i?(console.error("GeoName service targeting Lat Lon failed"),t.failedServs.push("geoname"),s=[]):s=r.items,t.addResult(kB(t.config,s))},W3t=async t=>{const e=t.query.split(/[\s|,|;|]/).filter(s=>!isNaN(s)&&s!=="").map(s=>parseFloat(s)),n=e[0],i=e[1],r={name:`${n},${i}`,flav:"llg",location:{},type:"Latitude/Longitude",position:[i,n],bbox:F2(i,n,.015),order:-1};await V3t(t,n,i),t.addResult(r)},H3t=async t=>{const e=t.config,n=await AT(t);if(n.length){const i=n[0].geometry.coordinates,r=i[1],s=i[0],o={name:t.query,flav:"fsa",bbox:F2(s,r,.03),type:e.types.allTypes.FSA,position:[s,r],location:{province:e.provinces.fsaToProvince(t.query)},order:-1};t.addResult(o)}},q3t=async t=>{const e=t.config,n=await AT(t);if(n.length){const i=n[0],r=i.title.split(" "),s=r.shift()||"",o=r.join(" "),a=i.geometry.coordinates,l=a[1],c=a[0],p={name:s,flav:"nts",bbox:i.bbox??F2(c,l,.03),type:e.types.allTypes.NTS,position:[c,l],location:{city:o},order:-1};t.addResult(p)}},Y3t=async t=>{const e=t.config;if(await z3t(t),e.categories.length===0||e.categories.includes("ADDR")){const n=await AT(t),i=e.sortOrder.indexOf("ADDR"),r=i>=0?i:e.sortOrder.length,s=n.filter(o=>o.type?.includes("Street")).map(o=>{const[a,l,c]=o.title.split(", "),p=o.geometry.coordinates,d=p[1],f=p[0];return{name:a,flav:"add",bbox:F2(f,d,.002),type:e.types.allTypes.ADDRESS,position:[f,d],location:{city:l.split(" Of ").pop(),province:e.provinces.nameToProvince(c)},order:r}});t.addResult(s)}},CB="~FSA~",RB="https://geogratis.gc.ca/services/geolocation/@{language}/locate",LB="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",PB="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",DB="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json";class jB{config;constructor(e,n){let i,r,s,o;const a=n?.serviceUrls;a?(i=a.geoLocation?a.geoLocation:RB,r=a.geoNames?a.geoNames:LB,s=a.geoProvince?a.geoProvince:PB,o=a.geoTypes?a.geoTypes:DB):(i=RB,r=LB,s=PB,o=DB),i=i.replace("@{language}",e),r=r.replace("@{language}",e),s=s.replace("@{language}",e),o=o.replace("@{language}",e);let l="";const c=n?.fsaBoundaries;if(c&&c.serviceUrl){const A=c.keyField||"CFSAUID";l=`${c.serviceUrl}/query/?where=${A}%3D'${CB}'&outFields=${A}&returnGeometry=true&f=json`}const p=n?.settings;let d,f,y,g,b,x;p?(d=p.categories?p.categories:[],f=p.sortOrder?p.sortOrder:[],y=p.disabledSearchTypes?p.disabledSearchTypes:[],g=p.maxResults>0?p.maxResults:100,b=!!p.officialOnly):(d=[],f=[],y=[],g=100,b=!1),x=n?.customSources??[],x=x.map(A=>({...A,onSearch:async M=>{const _=A.data??[],w=MT().cleanVal(M).replace("*","");return _.filter(T=>T.name.toLowerCase().includes(w)).map(T=>({name:T.name,type:A.catName,bbox:T.bbox,flav:"nme",position:[0,0],location:{province:this.config.provinces.abbrToProvince(T.prov),city:T.city},order:f.indexOf(A.code)>=0?f.indexOf(A.code):f.length}))}})),this.config={language:e,geoNameUrl:r,geoLocateUrl:i,fsaUrl:l,types:U3t(e,o),provinces:$3t(s),categories:d,sortOrder:f,disabledSearchTypes:y,maxResults:g,officialOnly:b,customSources:x},this.config.types.filterValidTypes(n?.excludeTypes),this._typeList=[],this._excludedTypes=n?.excludeTypes||[]}get typeList(){return this._typeList}set typeList(e){this._typeList=e}levenshteinDistance(e,n){n=n.toLowerCase().trim(),e=decodeURI(e.toLowerCase().replace("*",""));const i=[];for(let r=0;r<=n.length;r++){i[r]=[r];for(let s=1;s<=e.length;s++)i[r][s]=r===0?s:Math.min(i[r][s-1]+1,i[r-1][s]+.2,i[r-1][s-1]+(e[s-1]===n[r-1]?0:1))}return i[n.length][e.length]}async query(e){const n=await G3t(this.config,e.toUpperCase()),i=this.config.sortOrder.length,r=n.results.filter(l=>l.order<i),s=n.results.filter(l=>l.order>=i);r.sort((l,c)=>l.order-c.order);const o=this.config.maxResults;let a;return r.length>=o?a=r.slice(0,o):(s.forEach(l=>l.order=this.levenshteinDistance(n.query,l.name)),s.sort((l,c)=>l.order-c.order),a=r.concat(s.slice(0,o-r.length))),{results:a,failedServs:n.failedServs}}fetchProvinces(){return new Promise(e=>{const n=setInterval(()=>{this.config.provinces.listFetched&&(clearInterval(n),e(this.config.provinces.provinceList))},100)})}fetchTypes(){return new Promise(e=>{const n=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(n);const i=[],r={code:-1,name:"..."};i.push(r);const s=this.config.types.allTypes;for(const o in s)this._excludedTypes.includes(o)||i.push({code:o,name:s[o]});this.config.customSources.length&&this.config.customSources.forEach(o=>{i.some(a=>a.code===o.code)||i.push({code:o.code,name:o.catName})}),this.typeList=i,e(this.typeList)}},100)})}}function $B(t,e,n){if(t&&e.extent){const i=e.extent;n=n.filter(r=>r.bbox[0]<=i.xmax&&r.bbox[1]<=i.ymax&&r.bbox[2]>=i.xmin&&r.bbox[3]>=i.ymin)}return e.province&&e.province!=="..."&&(n=n.filter(i=>i.location.province?.name&&i.location.province.name===e.province)),e.type&&e.type!=="..."&&(n=n.filter(i=>i.type===e.type)),n}const MT=Xe("geosearch",()=>{const t=Q(new jB("en",void 0)),e=Q({type:"",province:"",extent:void 0}),n=Q(!1),i=Q(""),r=Q(""),s=Q(""),o=Q([]),a=Q([]),l=Q(!1),c=Q([]),p=Xt(()=>t.value.fetchProvinces().then(w=>(w.sort((T,I)=>T.name.localeCompare(I.name,void 0,{sensitivity:"case"})),w))),d=Xt(()=>new Promise(w=>{t.value.fetchTypes().then(T=>{T.sort((I,O)=>I.name.localeCompare(O.name,void 0,{sensitivity:"case"})),w(T)})}));function f(w,T){t.value=new jB(w,T)}function y(w){return w.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function g(w){l.value=!0;const T=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!T)o.value=[],a.value=[],l.value=!1;else if(T&&T!==s.value||w){const I=setInterval(()=>{t.value.config.provinces.listFetched&&t.value.config.types.typesFetched&&(clearInterval(I),t.value.query(`${T}*`).then(O=>{c.value=O.failedServs,s.value=T,a.value=O.results;const k=$B(n.value,e.value,a.value);o.value=k||[],l.value=!1}))},250)}else{const I=$B(n.value,e.value,a.value);o.value=I||[],l.value=!1}}function b(w){e.value.province=typeof w.province>"u"?"":w.province,g(w.forceReRun)}function x(w){e.value.type=typeof w.type>"u"?"":w.type,g(w.forceReRun)}function A(w){s.value=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),i.value=w,g()}function M(w){const T={a:"\xE0\xE1\xE2\xE3\xE4\xE5\u0101\u0103\u0105\u01CE\u0201\u0203\u0227\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7",b:"\u1E03\u0253\u1E05\u1E07",c:"\xE7\u0107\u0109\u010B\u010D",d:"\u010F\u1E0B\u1E0D\u1E0F\u1E11\u1E13",e:"\xE8\xE9\xEA\xEB\u0113\u0115\u0117\u0119\u011B\u0205\u0207\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7",f:"\u0192\u1E1F",g:"\u011D\u011F\u0121\u0123\u01E7\u01F5\u1E21",h:"\u0125\u021F\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E96",i:"\xEC\xED\xEE\xEF\u0129\u012B\u012D\u012F\u0131\u0209\u020B\u1ECB\u1EC9\u0129",j:"\u0135\u01F0\u0249",k:"\u0137\u0138\u0199\u1E33\u1E35",l:"\u013A\u013C\u013E\u0140\u0142\u1E37\u1E39\u1E3B\u1E3D",m:"\u1E3F\u1E41\u1E43",n:"\xF1\u0144\u0146\u0148\u0149\u014B\u01F9\u1E45\u1E47\u1E49\u1E4B",o:"\xF2\xF3\xF4\xF5\xF6\u014D\u014F\u0151\u01A1\u01D2\u01EB\u01ED\u020D\u020F\u022F\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3",p:"\u1E55\u1E57",r:"\u0155\u0157\u0159\u0211\u0213\u1E5B\u1E5D\u1E5F",s:"\u015B\u015D\u015F\u0161\u0219\u1E61\u1E63\u1E65\u1E67\u1E69",t:"\u0163\u0165\u0167\u021B\u1E6B\u1E6D\u1E6F\u1E71\u1E97",u:"\xF9\xFA\xFB\xFC\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u01D4\u01D6\u01D8\u01DA\u01DC\u0215\u0217\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1",v:"\u1E7D\u1E7F",w:"\u1E81\u1E83\u0175\u1E85\u1E87\u1E89\u1E8B",x:"\u1E8B\u1E8D",y:"\u1EF3\xFD\u0177\xFF\u1EF9\u0233\u1E8F\u1E99\u1EF5\u1EF7\u1EF9",z:"\u017A\u017C\u017E\u1E91\u1E93\u1E95"};w=y(w),r.value=Array.from(w).map(I=>Object.keys(T).includes(I)?"["+I+T[I]+"]":I.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function _(w){if(w.visible!==void 0&&(n.value=w.visible),w.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");e.value.extent=w.extent,g()}return{GSservice:t,queryParams:e,resultsVisible:n,searchVal:i,searchRegex:r,lastSearchVal:s,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:p,getTypes:d,initService:f,runQuery:g,setProvince:b,setType:x,setSearchTerm:A,setSearchRegex:M,setMapExtent:_,cleanVal:y}}),FB=Xe("help",()=>({location:Q("./help/")}));var TT=(t=>(t.Visibility="visibilityButton",t.Expand="expandButton",t))(TT||{}),U2=(t=>(t.Item="item",t.Placeholder="placeholder",t.Error="error",t))(U2||{});class IT extends An{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(e,n,i){super(e),this._uid=yc.sharedUtils.generateUUID(),this._name=n.name,this._type=n.type??"placeholder",this._parent=i,this._children=[],this._loadPromise=new Sn,this._hidden=n.hidden??!1,this._expanded=n.expanded??!0,this._visibility=!0,this._exclusive=n.exclusive??!1,this._controls=n.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=n.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(e){this._name=e}get type(){return this._type}get children(){return this._children}set children(e){this._children=e}get parent(){return this._parent}set parent(e){this._parent=e}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(e){return this._disabledControls?.includes(e)?!1:this._controls?.includes(e)}setControl(e,n){n&&this._disabledControls?.includes(e)?(this._disabledControls=this._disabledControls.filter(i=>i!==e),this._controls?.push(e)):!n&&this._controls?.includes(e)&&(this._controls=this._controls.filter(i=>i!==e),this._disabledControls?.push(e))}toggleHidden(e){this._hidden=e??!this.hidden}toggleExpanded(e){this._expanded=e??!this.expanded}toggleVisibility(e,n=!0){if(this.visibility!==e){if(this._visibility=e??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof Ya)||this._lastVisible.layerControlAvailable(mn.Visibility)))this._lastVisible.toggleVisibility(!0);else{const i=this.children.find(r=>!(r instanceof Ya)||r.layerControlAvailable(mn.Visibility));i&&i.toggleVisibility(!0)}else this._lastVisible=this.children.find(i=>i.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&n&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(e=>e.visibility&&e!==this&&e.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(e){this instanceof Ya&&!this.layerControlAvailable(mn.Visibility)||(this.exclusive?e.visibility?(this.children.forEach(n=>{n.uid!==e.uid&&n.toggleVisibility(!1,!1)}),this._lastVisible=e,this._visibility=!0,this instanceof Ya&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof Ya&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=e):this.children.some(n=>n.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(n=>n.visibility),this instanceof Ya&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof Ya&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const e={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},n=[];return this.children.forEach(i=>{n.push(i.getConfig())}),this.exclusive?e.exclusiveVisibility=n:e.children=n,e}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new Sn}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class Ya extends IT{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(e,n,i){if(super(e,n,i),this._type=U2.Placeholder,this._layerId=n.layerId,this._layerIdx=n.sublayerIndex,this._isSublayer=n.sublayerIndex!==void 0,this._layerControls=n.layerControls??[],this._origLayerControls=n.layerControls,this._layerDisabledControls=n.disabledLayerControls??[],this._origLayerDisabledControls=n.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=n.symbologyExpanded||!1,n.coverIcon&&(this._coverIcon=n.coverIcon),n.description&&(this._description=n.description),this._symbologyRenderStyle=n.symbologyRenderStyle??"icons",this._customSymbology=!!n.symbologyStack,this._symbologyStack=n.symbologyStack?.map(r=>({uid:this.$iApi.geo.shared.generateUUID(),label:r.text,definitionClause:r.sqlQuery,imgUrl:r.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=n.maxLines&&[1,2,3,4,5,6].includes(n.maxLines)?n.maxLines:void 0,!this._name){const r=this.$iApi.getConfig()?.layers;if(r&&Array.isArray(r)){const s=r.find(o=>o.id===this._layerId);if(s)if(this._isSublayer){if(s.sublayers&&Array.isArray(s.sublayers)){const o=s.sublayers.find(a=>a.index===this._layerIdx);o&&o.name&&(this._name=o.name)}}else s.name&&(this._name=s.name)}}}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(e){this._layer=e,this._layerId=e.id,this._layerIdx=e.isSublayer?e.layerIdx:void 0,this._layerUid=e.uid,this._name=this._name||e.name,this._symbologyStack=this._customSymbology?this._symbologyStack:e.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(e){this._layerOffscale=e}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(e){this._layerRedrawing=e}get coverIcon(){return this._coverIcon}set coverIcon(e){this._coverIcon=e}get description(){return this._description}set description(e){this._description=e}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(e){this._treeGrown=e}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(e){this._symbologyRenderStyle=e}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(e){this._symbologyStack=e}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const e={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...e}}toggleVisibility(e,n=!0,i=!1){if(!(!this.layerControlAvailable(mn.Visibility)&&!i)&&(super.toggleVisibility(e,n),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const r=this._symbologyStack.some(s=>s.lastVisbility);this._symbologyStack.forEach(s=>{r||(s.lastVisbility=!0),s.visibility=this.visibility?s.lastVisbility:!1})}}toggleSymbology(e){return this._symbologyExpanded=e??!this._symbologyExpanded,this._symbologyExpanded}clickSymbologyByIndex(e,n){const i=this._symbologyStack[e].uid;this.clickSymbology(i,n)}symbolsVisible(){return this.symbologyStack.some(e=>e.visibility)}clickSymbology(e,n){if(!this.symbolsVisible()&&n?(this.setSymbologyVisibility(void 0,!1),this.setSymbologyVisibility(e,!0),this.toggleVisibility(!0)):this.setSymbologyVisibility(e,n),this.symbolsVisible()||this.toggleVisibility(!1),this.layer?.supportsFeatures){const i=this.symbologyStack.filter(s=>s.lastVisbility===!0).map(s=>s.definitionClause||"");let r="";i.length===0?r="1=2":i.length<this.symbologyStack.length&&(r=i.join(" OR ")),this.layer.setSqlFilter(di.SYMBOL,r)}}setSymbologyVisibility(e,n){this._symbologyStack.some(i=>((e===void 0||i.uid===e)&&(i.visibility=n,i.lastVisbility=n),e!==void 0&&i.uid===e))}load(e){const n=e instanceof z2?e:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);n&&(this.layer=n,this._layerRedrawing=n.mapLayer&&n.drawState!==lr.UP_TO_DATE,n.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:n.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),n.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(It.LAYER_VISIBILITYCHANGE,i=>{i.layer.uid===this.layer.uid&&this._type===U2.Item&&this.toggleVisibility(i.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(It.LAYER_DRAWSTATECHANGE,i=>{this.layer.uid===i.layer.uid&&(i.layer.drawState===lr.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=i.layer.drawState===lr.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?n.isOffscale():!1,this.handlers.push(this.$iApi.event.on(It.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(e){return this._layerDisabledControls?.includes(e)?!1:!!this._layerControls?.includes(e)}updateLayerControls(){const e=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=e?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=e?.disabledControls??[])}}var UB=(t=>(t.Title="title",t.Text="text",t.Image="image",t.Markdown="markdown",t.Template="template",t))(UB||{});class NT extends IT{_infoType;_content;constructor(e,n,i){super(e,n,i),this._infoType=n.infoType??"title",this._content=n.content??"",n.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(n.infoType||n.content)&&(this._controls=n.controls?.slice()??[TT.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(e){this._content=e}getConfig(){const e={infoType:this._infoType,content:this._content};return{...super.getConfig(),...e}}}const GB=Xe("legend",()=>{const t=Q(),e=Q([]),n=Q([]),i=Q(!0),r=Q(3);function s(l){if(l.parent===void 0)e.value.push(l.item);else{if(!(l.item instanceof NT)&&!(l.item instanceof Ya)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=p=>(p=p.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),p.forEach(d=>{d.children=c(d.children)}),p=p.filter(d=>!(d instanceof NT&&!d.children.length&&d.content==="")),p);e.value=c(e.value)}function a(l){if(l.oldItem.parent===void 0){const c=e.value,p=c.indexOf(l.oldItem);p>-1&&(e.value[p]=l.newItem),e.value=c}else{const c=l.oldItem.parent.children,p=c.indexOf(l.oldItem);p>-1&&(c[p]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:t,multilineItems:i,maxLines:r,children:e,headerControls:n,addItem:s,removeItem:o,replaceItem:a}}),BB=Xe("mapnav",()=>{const t=Q({}),e=Q([]);function n(i){i in t.value&&delete t.value[i];const r=e.value.indexOf(i);r!==-1&&e.value.splice(r,1)}return{items:t,order:e,removeItem:n}}),zB=Xe("metadata",()=>{const t=Q(""),e=Q({type:"LineString",coordinates:[]});return{status:t,response:e}}),VB=Xe("northarrow",()=>{const t=Q(""),e=Q("");return{arrowIcon:t,poleIcon:e}}),WB=Xe("overviewmap",()=>{const t=Q({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),e=Q({}),n=Q(!0),i=Q(1.5),r=Q("#FF0000"),s=Q(1),o=Q("#000000"),a=Q(.25);function l(c){t.value.initialBasemapId=c}return{mapConfig:t,basemaps:e,startMinimized:n,expandFactor:i,borderColour:r,borderWidth:s,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),HB=Xe("scrollguard",()=>{const t=Q(!1);function e(n){t.value=n}return{enabled:t,setEnabled:e}});var xi=(t=>(t[t.UPLOAD=0]="UPLOAD",t[t.FORMAT=1]="FORMAT",t[t.CONFIGURE=2]="CONFIGURE",t))(xi||{});const qB=Xe("wizard",()=>{const t={id:"Placeholder",layerType:Tt.UNKNOWN,url:""},e=Q(),n=Q(""),i=Q(""),r=Q(!0),s=Q(null),o=Q({config:t,configOptions:[]}),a=Q(xi.UPLOAD);function l(c){switch(a.value){case xi.UPLOAD:c===xi.UPLOAD?n.value="":c===xi.FORMAT&&(a.value=xi.FORMAT);break;case xi.FORMAT:c===xi.UPLOAD?(s.value&&(n.value="",s.value=null),i.value="",a.value=xi.UPLOAD):c===xi.CONFIGURE&&(a.value=xi.CONFIGURE);break;case xi.CONFIGURE:c===xi.UPLOAD?(n.value="",i.value="",s.value=null,r.value=!0,o.value={config:t,configOptions:[]},a.value=xi.UPLOAD):c===xi.FORMAT&&(o.value={config:t,configOptions:[]},r.value=!0,a.value=xi.FORMAT);break}}return{layerSource:e,url:n,typeSelection:i,nested:r,fileData:s,layerInfo:o,currStep:a,goToStep:l}});class Z3t{fixture;panel;event;geo;notify;dev;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(e,n,i){this.event=new Gyt(this);const r=J3t(e,this);this.$vApp=r.app,this.$element=r.element,this.$i18n=r.i18n,this.$rootEl=r.app.$root?.$el,this.fixture=new cSt(this),this.panel=new uSt(this),this.geo=new aSt(this),this.dev=new ySt(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new Wbt(this),this._isFullscreen=Fo.isEnabled&&!!this.$vApp.$root&&Fo.isFullscreen&&Fo.element===this.$vApp.$root.$el,Fo.isEnabled&&Fo.onchange(()=>{this._isFullscreen=Fo.isEnabled&&!!this.$vApp.$root&&Fo.isFullscreen&&Fo.element===this.$vApp.$root.$el}),this.initialize(!0,n,i)}initialize(e,n,i){const r=rr(this.$vApp.$pinia),s=uc(this.$vApp.$pinia),o=$b(this.$vApp.$pinia);if(n?.configs!==void 0){const l=Object.keys(this.$i18n.messages.value);r.registerAllConfigs(n,l);const c=r.registeredConfigs[r.registeredLangs[this.$i18n.locale.value]];r.newConfig(c),r.activeBasemapConfig=c.map.basemaps.find(g=>g.id===c.map.initialBasemapId);const p=setInterval(()=>{const g=this.$vApp.$el.querySelector("#esriMap");g&&(clearInterval(p),this.geo.map.createMap(c.map,g).then(()=>{if(g._tippy.hide(0),o.setMaptipInstance(g._tippy),c.layers&&c.layers.length>0){let b=0;c.layers.forEach(x=>{const A=this.geo.layer.createLayer(x);this.geo.map.addLayer(A,b).catch(()=>{}),A.mapLayer&&b++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const g=c.panels.open.map(b=>b.id);this.panel.isRegistered(g).then(()=>{c.panels?.open?.forEach(b=>{this.panel.open({id:b.id,screen:b.screen}),b.pin&&this.panel.pin(b.id)})})}s.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},f=c.system?.zoomIcon||"globe",y=d[f]||f;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=g=>this.ui.suppressNumberLocalization?g.toString():this.$i18n.n(g,"number"),this.ui.escapeHtml=g=>{const b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return g.replace(/[<>"']/g,x=>b[x])},this.ui.isPlainText=g=>typeof g=="string"?!this.containsValidHtml(g)&&!this.representsObject(g):!1}i||(i={});const a=cd(this.$vApp.$pinia);i?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(It.MAP_START)),e&&(i.loadDefaultFixtures!==!1||n?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(n?.startingFixtures):e||this.fixture.restore(),i.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reloadWorker(e,n){const i=cd(this.$vApp.$pinia),r=ao(this.$vApp.$pinia),s=rr(this.$vApp.$pinia),o=_s(this.$vApp.$pinia),a=no(this.$vApp.$pinia),l=Tb(this.$vApp.$pinia),c=!!e;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(p=>{l.removeGrid(p)}),i.started=!1,this.geo.map.destroyMap(),a.$reset(),n?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),c||(e=JSON.parse(JSON.stringify({startingFixtures:s.startingFixtures,configs:s.registeredConfigs}))),r.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,e,n),c&&this.event.emit(It.CONFIG_CHANGE,this.getConfig())}reload(e,n){this.reloadWorker(e,n),this.event.emit(It.RAMP_RELOAD)}component(e,n){if(n){const i=this.$element.component(e,n);return this.event.emit(It.COMPONENT,e),i}return this.$element.component(e)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const e=this.$vApp.$root.$refs["app-size"].classList;return e.contains("lg")?"lg":e.contains("md")?"md":e.contains("sm")?"sm":"xs"}getConfig(){const e=rr(this.$vApp.$pinia);return JSON.parse(JSON.stringify(e.getActiveConfig(this.language)))}useStore(e){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","keyboardnav","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(e)&&!this.fixture.exists(e)))switch(e){case"appbar":return g0(this.$vApp.$pinia);case"areas-of-interest":return IB(this.$vApp.$pinia);case"details":return zA(this.$vApp.$pinia);case"export":return NB(this.$vApp.$pinia);case"extentguard":return OB(this.$vApp.$pinia);case"geosearch":return MT(this.$vApp.$pinia);case"grid":return Tb(this.$vApp.$pinia);case"help":return FB(this.$vApp.$pinia);case"keyboardnav":return RM(this.$vApp.$pinia);case"legend":return GB(this.$vApp.$pinia);case"mapnav":return BB(this.$vApp.$pinia);case"metadata":return zB(this.$vApp.$pinia);case"northarrow":return VB(this.$vApp.$pinia);case"overviewmap":return WB(this.$vApp.$pinia);case"scrollguard":return HB(this.$vApp.$pinia);case"wizard":return qB(this.$vApp.$pinia);case"config":return rr(this.$vApp.$pinia);case"fixture":return _s(this.$vApp.$pinia);case"instance":return cd(this.$vApp.$pinia);case"layer":return no(this.$vApp.$pinia);case"map-caption":return rc(this.$vApp.$pinia);case"maptip":return $b(this.$vApp.$pinia);case"notification":return ao(this.$vApp.$pinia);case"panel":return uc(this.$vApp.$pinia);default:console.error(`The store ${e} does not exist.`);return}}setLanguage(e){if(this.$i18n.locale.value===e)return;const n=rr(this.$vApp.$pinia),i=ao(this.$vApp.$pinia),r=n.registeredLangs;Object.keys(n.registeredConfigs).length===1&&i.clearAll();const s=this.$i18n.locale.value;this.$i18n.locale.value=e;const o=this.getConfig();r[s]!==r[e]&&(this.reloadWorker(),this.event.emit(It.CONFIG_CHANGE,o)),this.event.emit(It.LANG_CHANGE,{oldLang:s,newLang:e})}get language(){return this.$vApp.$i18n.locale}get keyboardNav(){return this.fixture.get("keyboardnav")}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){Fo.isEnabled&&Fo.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return cd(this.$vApp.$pinia).started}updateAlert(e){const n=this.$vApp.$el.querySelector(".screen-reader-alert");n.childNodes.length>0&&(n.innerHTML="");const i=document.createElement("span");i.setAttribute("role","alert");const r=document.createTextNode(e);i.appendChild(r),n.insertBefore(i,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const e=cd(this.$vApp.$pinia);!e.started&&this.startRequired?(this.event.emit(It.MAP_START),e.started=!0):e.started&&console.warn("start has already been called")}containsValidHtml(e){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(e)}representsObject(e){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(e)}}function J3t(t,e){const n=Lyt();n.use(({store:o})=>{const a=_U(o.$state);o.$reset=()=>o.$patch(_U(a))});const i=X1t(),r=Ql(Z_t).use(i).use(V_t,{directive:"tippy",component:"tippy"}).use(n);r.directive("focus-container",ixt),r.directive("focus-list",K_t),r.directive("focus-item",txt),r.directive("truncate",Uxt),r.component("panel-screen",Jxt),r.component("pin",t3t),r.component("close",i3t),r.component("back",o3t),r.component("expand",h3t),r.component("panel-options-menu",x3t),r.component("dropdown-menu",CM),r.component("minimize",f3t),r.component("right",g3t),r.component("left",w3t),r.component("fullscreen-nav-button",A3t),r.component("geolocator-nav-button",M3t),r.component("home-nav-button",T3t),r.component("mapnav-button",O3t),r.component("appbar-button",L3t),r.component("transition",n0),r.component("transition-group",eb),r.config.globalProperties.$iApi=e,r.config.globalProperties.$pinia=n,r.config.idPrefix=`ramp-${t.id||yc.sharedUtils.generateUUID()}`,r.provide("iApi",e);const s=r.mount(t);return{element:r,app:s,i18n:i.global}}class Z2{esriBasemap;config;createErr=!1;constructor(e){this.config=e}static async create(e){const n=new Z2(e),i=e.layers.map(s=>{const o={url:s.url,opacity:s.opacity};if(s.layerType===Tt.TILE)return de.TileLayer(o);if(s.layerType===Tt.VECTORTILE)return de.VectorTileLayer(o);if(s.layerType===Tt.MAPIMAGE)return de.MapImageLayer(o);if(s.layerType===Tt.OSM)return de.OpenStreetMapLayer(o);throw new Error(`Unsupported layer type provided to basemap config: ${s.layerType}`)}),r=(await Promise.allSettled(i)).filter(s=>s.status==="rejected"?(console.error(s.reason),n.createErr=!0,!1):!0).map(s=>{if(s.status==="fulfilled")return s.value;throw new Error("TS is fun")});return n.esriBasemap=await de.Basemap({baseLayers:r,title:e.name||"",id:e.id}),n}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(e){this.config.name=e||""}get description(){return this.config.description}set description(e){this.config.description=e||""}get altText(){return this.config.altText}set altText(e){this.config.altText=e||""}get attribution(){return this.config.attribution}set attribution(e){this.config.attribution=e}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class YB extends An{esriMap;_basemapStore;created=!1;name;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(e,n=""){super(e),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new Sn,this.handlers=[],this.pointZoomScale=5e4,this.name=n}noMapErr(){console.error(`Attempted to manipulate the ${this.name} map before calling createMap()`),console.trace()}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(e,n){const i=a=>{this.$iApi.notify.show(qr.ERROR,this.$iApi.$i18n.t("layer.error",{id:a.name}))},r=e.basemaps.map(a=>Z2.create(a)),s=(await Promise.all(r)).filter(a=>(a.createErr&&i(a),a.esriBasemap.baseLayers.length>0));s.forEach(a=>{a.esriBasemap.baseLayers.forEach(l=>{Un(()=>l.loadStatus,()=>{l.loadStatus==="loaded"?this.trackFirstBasemap=!1:l.loadStatus==="failed"&&(i(a),this.trackFirstBasemap&&this.recoverBasemap(a.tileSchemaId))})})}),this._basemapStore=s,e.labelsDefault&&(this.labelsDefault.visible=e.labelsDefault.visible);const o={};this.esriMap=Je(await de.Map(o)),this.pointZoomScale=e.pointZoomScale&&e.pointZoomScale>0?e.pointZoomScale:5e4,this._targetDiv=n,this.createMapView(e.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(e=>e.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(e,n){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(e,n)}async createMapView(e){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new Sn,this.created=!1,this.handlers.forEach(e=>e.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(e){const n=this._basemapStore.find(i=>i.id===e);if(n)return n;throw new Error(`Invalid basemap id requested: ${e}`)}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const n=typeof e=="string"?await this.findBasemap(e):e,i=this.esriMap.basemap?.id||"";n.esriBasemap.id!==i&&(this.esriMap.basemap=Dt(n.esriBasemap))}async setBasemap(e){return this.abstractError(),!1}async recoverBasemap(e){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap?.id??void 0;this.noMapErr()}geomToMapSR(e){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(e.sr)?Promise.resolve(e):this.$iApi.geo.proj.projectGeometry(this._rampSR,e)}async zoomMapTo(e,n,i=!0,r=200,s="ease"){if(this.esriView){if(e.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(e),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===qt.POINT&&(a.scale=n||this.pointZoomScale);const l={animate:i,duration:r,easing:s};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?tn.fromESRI(this.esriView.extent):(this.noMapErr(),tn.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),K0.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),$t.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(e){return e>0?(this.pointZoomScale=e,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${e}.`),!1)}}class X3t extends An{maptipStore;constructor(e){super(e),this.maptipStore=$b(this.$vApp.$pinia)}#t=void 0;#e=void 0;async checkAtCoord(e){this.#e=e;const n=await this.$iApi.geo.map.getGraphicAtCoord(e);if(this.#e!==e)return;if(!n){this.clear(),this.maptipStore.maptipInstance.disable();return}const i=this.$iApi.geo.layer.getLayer(n.layerId);if(i?.geomType!=qt.POLYGON&&this.#t&&this.#t.layerId===n.layerId&&this.#t.oid===n.oid&&this.#t.layerIdx===n.layerIdx)return;if(this.clear(),this.#t=n,!i){console.error(`graphic hit test returned non-existent layer id: ${n.layerId}`);return}if(!i.hovertips)return;const r=await i.getIcon(n.oid),s=await i.getGraphic(n.oid,{getAttribs:!0});this.maptipStore.maptipInstance.enable(),this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(e)),this.$iApi.event.emit(It.MAP_GRAPHICHIT,{layer:i,graphicHit:n,attributes:s.attributes,icon:r,screenPoint:e})}generateDefaultMaptip(e){this.setContent(`<div class="flex items-center space-x-5"><span>${e.icon}</span><span class="line-clamp-3">${e.layer.tooltipValue(e.attributes)}</span></div>`)}clear(){this.#t=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(e){this.maptipStore.setMaptipPoint(e)}setContent(e){this.maptipStore.setMaptipContent(e)}}class K3t extends An{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(e){super(e),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(e){if(!e)return;const n=rc(this.$vApp.$pinia);if(n.coords.disabled=!1,n.scale.disabled=!1,n.scale.isImperialScale=!1,e.mapCoords)if(e.mapCoords.disabled)n.coords.disabled=!0;else{const i=e.mapCoords.formatter;i!==void 0&&this.setPointFormatter(i)}if(e.scaleBar)if(e.scaleBar.disabled)n.scale.disabled=!0;else{const i=e.scaleBar.imperialScale;i!==void 0&&(n.toggleScale(i),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}n.langtoggle={disabled:e?.langToggle?.disabled??!1}}updateAttribution(e){const n={value:this.$iApi.$i18n.t("caption.attributionDefaultText")},i={altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},r={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(e?(e.logo?e.logo.disabled?r.logo.disabled=!0:(r.logo.altText=e.logo.altText||i.altText,r.logo.link=e.logo.link||i.link,r.logo.value=e.logo.value||i.value):(r.logo.altText=i.altText,r.logo.link=i.link,r.logo.value=i.value),e.text?e.text.disabled?r.text.disabled=!0:r.text.value=e.text.value||n.value:r.text.value=n.value,rc(this.$vApp.$pinia).setAttribution(r)):(r.logo.altText=i.altText,r.logo.link=i.link,r.logo.value=i.value,r.text.value=n.value),!e||e.text?.disabled||!e.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let s="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap;if(l){const c=l.baseLayers.map(p=>new Promise(d=>{let f=0;const y=o/a,g=setInterval(function(){p.loaded&&!p.loadError?(clearInterval(g),d(p)):f>y&&(clearInterval(g),d(null)),f++},a)})).toArray();Promise.all(c).then(p=>{s=p.filter(d=>d?.copyright).map(d=>d.copyright).join(" | "),r.text.value=s||r.text.value||n.value,rc(this.$vApp.$pinia).setAttribution(r)})}}}updateScale(){const e=rc(this.$vApp.$pinia),n=e.scale;if(n?.disabled)return;const i=n?.isImperialScale||!1,r=this.scaleHelper().find(s=>s.isImperialScale===i)??{units:"error",pixels:1,distance:1};e.scale={width:`${r.pixels}px`,label:`${this.$iApi.$i18n.n(r.distance,"number")}${r.units}`,isImperialScale:i}}async formatPoint(e){return e?await this.pointFormatter(e):""}setPointFormatter(e){if(typeof e=="string"){if(!(e in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${e}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[e]}else this.pointFormatter=e}scaleHelper(){const e=window.innerWidth>600?70:35,n=this.$iApi.geo.map.getResolution(),i=[],r=n*e,s=1609.34,o=3.28084,a=r>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(i.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),r>1e3){const p=n*e/(c?s:1e3),d=Math.round(p).toString().length,f=Math.pow(10,d-1);i[l].distance=Math.ceil(p/f)*f,i[l].pixels=i[l].distance*(c?s:1e3)/n}else i[l].distance=Math.ceil(c?r*o:r),i[l].pixels=r/n}return i}wrapValue(e,n,i){return((e-n)%(i-n)+(i-n))%(i-n)+n}async formatLatLongDMS(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.floor(Math.abs((i-o)*60)),l=Math.floor((Math.abs(i)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(r))*(r<0?-1:1),p=Math.floor(Math.abs((r-c)*60)),d=Math.floor((Math.abs(r)-Math.abs(c)-p/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${s} ${this.$iApi.$i18n.n(p,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatLatLongDDM(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.abs((i-o)*60),l=Math.floor(Math.abs(r))*(r<0?-1:1),c=Math.abs((r-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${s} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatLatLongDD(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.abs(i),a=Math.abs(r);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatMercator(e){const n=await this.$iApi.geo.proj.projectGeometry(102100,e);return`${this.$iApi.$i18n.n(Math.floor(n.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(n.y),"number")} m`}async formatLambert(e){const n=await this.$iApi.geo.proj.projectGeometry(3978,e);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(n.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>n.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(n.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(n.y>0?"north":"south"))}`}async formatUTM(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s=Math.ceil((r+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+s),e);return`${this.$iApi.$i18n.n(s,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(e){const n=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),e);return`${this.$iApi.$i18n.n(n.x,"number")} | ${this.$iApi.$i18n.n(n.y,"number")}`}}class Q3t extends YB{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:12e3,load:12e3,fail:9e4};constructor(e){super(e,"main"),this.maptip=new X3t(e),this.caption=new K3t(e),this.mapMouseThrottle=0}async createMap(e,n){this.setMapMouseThrottle(e.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=e.layerTimeDefault?.expectedDrawTime??12e3,this.layerDefaultTimes.load=e.layerTimeDefault?.expectedLoadTime??12e3,this.layerDefaultTimes.fail=e.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(e,n),this.viewPromise.then(()=>{this.$iApi.event.emit(It.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(e=>e.uid).forEach(e=>this.removeLayer(e)),super.destroyMap(),this.$iApi.event.emit(It.MAP_DESTROYED)}async createMapView(e){const n=rr(this.$vApp.$pinia).config.map;if(!n)throw new Error("Attempted to create map view without a map config");const i=(typeof e=="string"?await this.findBasemap(e):e)||await this.findBasemap(n.initialBasemapId),r=n.tileSchemas.find(a=>a.id===i.tileSchemaId);if(!r)throw new Error(`Could not find tile schema for the given basemap id: ${i.id}`);const s=n.extentSets.find(a=>a.id===r.extentSetId);if(!s)throw new Error(`Could not find extent set with the given id: ${r.extentSetId}`);this._rampExtentSet=K0.fromConfig(s),this._rampSR=this._rampExtentSet.sr.clone();const o=n.lodSets.find(a=>a.id===r.lodSetId);if(!o)throw new Error(`Could not find lod set with the given id: ${r.lodSetId}`);this.esriView=Je(await de.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:o.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:i.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:Un(()=>this.esriView.extent,a=>{if(a){const l=this.$iApi.geo.geom.geomEsriToRamp(a,"map_extent_event");this.$iApi.event.emit(It.MAP_EXTENTCHANGE,l),this.$iApi.event.emit(It.FILTER_CHANGE,{extent:l,filterKey:di.EXTENT})}})}),this.handlers.push({type:"scale",handler:Un(()=>this.esriView.scale,a=>{this.$iApi.event.emit(It.MAP_SCALECHANGE,a)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",a=>{this.$iApi.event.emit(It.MAP_RESIZED,{height:a.height,width:a.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",a=>{this.$iApi.event.emit(It.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(a,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",a=>{this.$iApi.event.emit(It.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(a,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",v0(100,!0,a=>{this.$iApi.event.emit(It.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(a))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",v0(100,a=>{this.$iApi.event.emit(It.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(a))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",a=>{setTimeout(()=>{this.$iApi.event.emit(It.MAP_MOUSELEAVE,a.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",a=>{this.$iApi.event.emit(It.MAP_MOUSEDOWN,a.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",a=>{this.$iApi.event.emit(It.MAP_KEYDOWN,a.native),a.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",a=>{this.$iApi.event.emit(It.MAP_KEYUP,a.native),a.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",a=>{this.$iApi.event.emit(It.MAP_FOCUS,a.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",a=>{this.$iApi.event.emit(It.MAP_BLUR,a.native)})}),this.esriView.container?this.esriView.container.addEventListener("touchmove",a=>{a.preventDefault()}):console.error("ESRI Map View is missing its container"),Un(()=>this.esriView.fatalError,()=>{const a=new IntersectionObserver(l=>{l.forEach(c=>{c.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),a.disconnect())})});a.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(i),r.recoveryBasemap?.basemapId){const a=r.recoveryBasemap.timeout??8e3;a>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(r.id)},a)}})}destroyMapView(){this.esriView?.container?.removeEventListener("touchmove",e=>{e.preventDefault()}),super.destroyMapView()}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const n=typeof e=="string"?await this.findBasemap(e):e;this.esriMap.basemap=Dt(n.esriBasemap);const i=rr(this.$vApp.$pinia);i.activeBasemapConfig=n.config}async setBasemap(e){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const n=rr(this.$vApp.$pinia),i=await this.findBasemap(e),r=n.activeBasemapConfig.tileSchemaId!==i.tileSchemaId;if(r){const s=this.getExtent().center(),o=this.getScale();this._viewPromise=new Sn,this.created=!1,this.$iApi.event.emit(It.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(i),await this.viewPromise.then(()=>{this.$iApi.event.emit(It.MAP_REFRESH_END),this.$iApi.event.emit(It.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:r});const a=this.findClosestScale(o);this.$iApi.geo.proj.projectGeometry(this._rampSR,s).then(l=>this.zoomMapTo(l,a,!1))})}else{await this.applyBasemap(i);const s=await de.ColorBackground({color:new Xa(i.backgroundColour).toESRI()});this.esriView.background=s,this.$iApi.event.emit(It.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:r})}return r}async recoverBasemap(e){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const n=rr(this.$vApp.$pinia).config.map;if(n){const i=n.tileSchemas.find(r=>r.id===e);if(i?.recoveryBasemap?.basemapId){const r=await this.findBasemap(i.recoveryBasemap.basemapId);await this.applyBasemap(r)}}}addLayer(e,n=void 0){return new Promise((i,r)=>{if(this.esriMap||(this.noMapErr(),r()),e.initiationState!==He.INITIATING&&e.initiationState!==He.INITIATED&&e.layerState!==ln.ERROR&&e.initiate(),e.mapLayer&&n===void 0){const l=this.$iApi.geo.layer.layerOrderIds();if(e.isCosmetic)n=l.length;else{const c=this.$iApi.geo.layer.allLayers();let p=!0;for(let d=l.length-1;d>=0&&p;d--){const f=c.find(y=>y.id===l[d]);f&&!f.isCosmetic&&(n=d+1,p=!1)}p&&(n=0)}}no(this.$vApp.$pinia).addLayer(e,n),this.$iApi.event.emit(It.LAYER_REGISTERED,e);const s=Date.now();let o=0;const a=setInterval(()=>{o+=250,o>=e.expectedTime.fail||e.layerState===ln.ERROR?(clearInterval(a),e.lastCancel<s&&console.error(`Failed to add layer: ${e.id}.`),r()):e.initiationState===He.INITIATED&&(e.esriLayer||!e.mapLayer)&&(clearInterval(a),e.mapLayer?this.insertToEsriMap(e):e.onLoad(),i())},250)})}insertToEsriMap(e){let n=0;const i=this.$iApi.geo.layer.getLayerPosition(e.id)??-1;if(i>0){const r=this.$iApi.geo.layer.layerOrderIds(),s=this.$iApi.geo.layer.allLayers();for(let o=i-1;o>-1;o--){const a=r[o],l=s.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){n=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}i>-1&&this.esriMap?.add(e.esriLayer,n)}reorder(e,n,i=!1){if(n<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(e.isSublayer&&(e=e.parentLayer),!e.mapLayer){console.error("Attempted to reorder a data layer");return}const r=this.$iApi.geo.layer.allLayers();let s=this.$iApi.geo.layer.layerOrderIds();if(i){if(e.isCosmetic)return;if(n>0){const a=s.filter(l=>{const c=r.find(p=>p.id===l);return c?!c.isCosmetic:(console.error("Layer reorder had critical error"),!1)});n>=a.length&&(console.error("non-cosmetic reorder index was too high"),n=a.length-1),n=s.indexOf(a[n])}}else n>=s.length&&(console.error("reorder index was too high"),n=s.length-1);const o=s.indexOf(e.id);if(o!==n){if(no(this.$vApp.$pinia).reorderLayer(e,n),e.esriLayer&&this.esriMap.layers.indexOf(e.esriLayer)>-1){let a=0;if(n>0){s=this.$iApi.geo.layer.layerOrderIds();for(let l=n-1;l>-1;l--){const c=s[l],p=r.find(d=>d.id===c);if(p&&p.esriLayer){const d=this.esriMap.layers.indexOf(p.esriLayer);if(d>-1){const f=n<o?1:0;a=d+f;break}}else p||console.error("Layer reorder had critical error")}}this.esriMap.reorder(e.esriLayer,a)}this.$iApi.event.emit(It.MAP_REORDER,{layer:e,newIndex:n})}}removeSublayer(e){let n,i;if(typeof e=="string")n=e,i=this.$iApi.geo.layer.getLayer(n);else{if(!e.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${e}`);n=e.uid,i=e}if(!i)throw new Error("Sublayer could not be found for removal.");i.visibility=!1,i.isRemoved=!0,this.$iApi.event.emit(It.LAYER_REMOVE,e),i.parentLayer?.sublayers.every(r=>r.isRemoved)&&this.removeLayer(i.parentLayer)}removeLayer(e){if(!this.esriMap){this.noMapErr();return}let n;if(e instanceof z2?n=e:n=this.$iApi.geo.layer.getLayer(e),!n)throw new Error("Layer could not be found for removal.");if(n.isSublayer){this.removeSublayer(n);return}n.supportsSublayers&&n.sublayers.forEach(r=>{r.isRemoved||this.removeSublayer(r)});const i=no(this.$vApp.$pinia);i.removeLayer(n),i.removeLayerConfig(n.id),n.removeEsriLayer(),n.initiationState===He.INITIATED&&n.terminate(),n.isRemoved=!0,this.$iApi.event.emit(It.LAYER_REMOVE,n)}setMapMouseThrottle(e){if(e<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=e;const n=this.handlers.findIndex(i=>i.type==="pointer-move");if(n!==-1){const i=this.handlers[n];this.handlers.splice(n,1),i.handler.remove()}return n!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return Fa(this.mapMouseThrottle,e=>{this.$iApi.event.emit(It.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(e))})}async zoomToLevel(e){if(this.esriView)return this.esriView.goTo({zoom:e});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(e){if(!this.esriView){this.noMapErr();return}const n=e.isOffScale(this.getScale());if(!n.offScale)return;const i=this.esriView.constraints.lods;if(!i)return this.zoomMapTo(this.getExtent().center(),(n.zoomIn,e.minScale));const r=n.zoomIn?i:[...i].reverse(),s=r.find(o=>n.zoomIn?o.scale<e.minScale:o.scale>e.maxScale)||r[r.length-1];return this.zoomToLevel(s.level)}findClosestScale(e){const n=this.esriView?.constraints.lods;if(!n)return e;const i=n.map(s=>Math.abs(s.scale-e)),r=i.indexOf(Math.min(...i));return n[r].scale}async takeScreenshot(e){if(this.esriView)return e.quality||(e.quality=1),e.format||(e.format="png"),this.esriView.takeScreenshot(e);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(e){return this.esriView?ki.fromESRI(this.esriView.toMap({x:e.screenX,y:e.screenY}),"mappoint"):(this.noMapErr(),new ki("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(e){if(this.esriView){const n=this.esriView.toScreen(e.toESRI());return{screenX:n.x,screenY:n.y}}else return this.noMapErr(),{screenX:1,screenY:1}}async symbolIdentify(e,n){await this.viewPromise;const i=(await this.esriView.hitTest({x:e,y:n})).results.filter(r=>r.type==="graphic").map(async r=>{const s=r.layer;if(r.graphic.isAggregate===!0){const o=await this.esriView.whenLayerView(s),a=o.createQuery();return a.aggregateIds=[r.graphic.getObjectId()],(await o.queryFeatures(a)).features.map(l=>({layerId:s.id,layerIdx:0,oid:l.getObjectId()}))}else return{layerId:s.id,layerIdx:0,oid:r.graphic.getObjectId()}});return(await Promise.all(i)).flat()}runIdentify(e){const n=this.$iApi.geo.layer.allLayersOnMap(!1).filter(p=>p.canIdentify());let i;if(e instanceof ki){const p=this.mapPointToScreenPoint(e);i={mapPoint:e,screenX:p.screenX,screenY:p.screenY,button:0,input:"mouse",clickTime:Date.now()}}else i=e;const r=this.$iApi.fixture.get("draw");if(r&&this.esriView&&(r.store.activeTool||r.store.selectedGraphicId!==null))return{click:i,results:[]};if(n===void 0)return{click:i,results:[]};let s=Promise.resolve([]);n.some(p=>p.identifyMode===qn.HYBRID||p.identifyMode===qn.SYMBOLIC)&&(s=this.symbolIdentify(i.screenX,i.screenY));const o={geometry:i.mapPoint,hitTest:s},a=n.filter(p=>p.supportsIdentify).map(p=>(o.tolerance=i.input=="touch"?p.touchTolerance:p.mouseTolerance,p.runIdentify(o))).flat(),l=Date.now();a.forEach(p=>{p.requestTime=l});const c={results:a,click:i};return this.$iApi.event.emit(It.MAP_IDENTIFY,c),c}async getGraphicAtCoord(e){if(!this.esriView){this.noMapErr();return}const n=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===Tt.GRAPHIC);if(n.length===0)return;const i=await this.esriView.hitTest({x:e.screenX,y:e.screenY});if(i.results.length===0)return;const r=i.results.filter(l=>l.type==="graphic");let s,o;const a=new Set;if(r.some(l=>{if(!l.layer||a.has(l.layer.id))return!1;const c=n.find(p=>p.id===l.layer.id);return c?(c.isCosmetic||c.layerType===Tt.GRAPHIC||l.graphic.isAggregate||(s=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),s&&o)return{oid:o.getObjectId(),layerId:s.id,layerIdx:s.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(e){const n=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this._activeKeys.some(i=>n.includes(i))||this.keyPan()):n.includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this.keyZoom(e)):e.key==="Enter"?this.runIdentify(this.getExtent().center()):e.key==="Tab"&&this._activeKeys.push(e.key)}mapKeyUp(e){const n=["=","-"];this._activeKeys.includes(e.key)&&!n.includes(e.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this._activeKeys.some(i=>n.includes(i))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(e=>!["Control","Shift"].includes(e)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(e){clearInterval(this._panInterval),e.key==="="?await this.zoomIn():e.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const e=this.getExtent().center(),n=this.mapPointToScreenPoint(e),i=this.screenPointToMapPoint({screenX:n.screenX+5,screenY:n.screenY+5}),r=Math.abs(i.x-e.x),s=Math.abs(i.y-e.y);let o=0,a=0,l=1;for(let p=0;p<this._activeKeys.length;++p)switch(this._activeKeys[p]){case"ArrowLeft":o-=r;break;case"ArrowRight":o+=r;break;case"ArrowUp":a+=s;break;case"ArrowDown":a-=s;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{e.x+=l*o,e.y+=l*a,this.zoomMapTo(e,c,!1)},25)}}const tEt={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},eEt={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},nEt={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},iEt={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},rEt={circlePoint:tEt,solidLine:eEt,outlinedPoly:nEt,boundingBoxPoly:iEt};var sEt=function(t,e){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},ZB=function(t){return sEt(t[0],t[t.length-1])||t.push(t[0]),t},JB=function(t){var e=0,n=0,i=t.length,r=t[n],s;for(n;n<i-1;n++)s=t[n+1],e+=(s[0]-r[0])*(s[1]+r[1]),r=s;return e>=0},oEt=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},XB=function(t){var e=[],n=t.slice(0),i=ZB(n.shift().slice(0));if(i.length>=4){JB(i)||i.reverse(),e.push(i);for(var r=0;r<n.length;r++){var s=ZB(n[r].slice(0));s.length>=4&&(JB(s)&&s.reverse(),e.push(s))}}return e},aEt=function(t){for(var e=[],n=0;n<t.length;n++)for(var i=XB(t[n]),r=i.length-1;r>=0;r--){var s=i[r].slice(0);e.push(s)}return e},lEt=function t(e,n){n=n||"OBJECTID";var i={wkid:4326},r={},s;switch(e.type){case"Point":r.x=e.coordinates[0],r.y=e.coordinates[1],e.coordinates[2]!=null&&(r.z=e.coordinates[2]),r.spatialReference=i;break;case"MultiPoint":r.points=e.coordinates.slice(0),e.coordinates[0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"LineString":r.paths=[e.coordinates.slice(0)],e.coordinates[0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"MultiLineString":r.paths=e.coordinates.slice(0),e.coordinates[0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"Polygon":r.rings=XB(e.coordinates.slice(0)),e.coordinates[0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"MultiPolygon":r.rings=aEt(e.coordinates.slice(0)),e.coordinates[0][0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"Feature":e.geometry&&(r.geometry=t(e.geometry,n)),r.attributes=e.properties?oEt(e.properties):{},e.id&&(r.attributes[n]=e.id);break;case"FeatureCollection":for(r=[],s=0;s<e.features.length;s++)r.push(t(e.features[s],n));break;case"GeometryCollection":for(r=[],s=0;s<e.geometries.length;s++)r.push(t(e.geometries[s],n));break}return r};function KB(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+"]"}).join(",")+"}")}function cEt(t,e){var n=KB(t);return function(i,r){return e(n(i),r,t)}}function uEt(t){var e=Object.create(null),n=[];return t.forEach(function(i){for(var r in i)r in e||n.push(e[r]=r)}),n}function OT(t){var e=new RegExp('["'+t+`
]`),n=t.charCodeAt(0);function i(c,p){var d,f,y=r(c,function(g,b){if(d)return d(g,b-1);f=g,d=p?cEt(g,p):KB(g)});return y.columns=f,y}function r(c,p){var d={},f={},y=[],g=c.length,b=0,x=0,A,M;function _(){if(b>=g)return f;if(M)return M=!1,d;var T=b,I;if(c.charCodeAt(T)===34){for(var O=T;O++<g;)if(c.charCodeAt(O)===34){if(c.charCodeAt(O+1)!==34)break;++O}return b=O+2,I=c.charCodeAt(O+1),I===13?(M=!0,c.charCodeAt(O+2)===10&&++b):I===10&&(M=!0),c.slice(T+1,O).replace(/""/g,'"')}for(;b<g;){var k=1;if(I=c.charCodeAt(b++),I===10)M=!0;else if(I===13)M=!0,c.charCodeAt(b)===10&&(++b,++k);else if(I!==n)continue;return c.slice(T,b-k)}return c.slice(T)}for(;(A=_())!==f;){for(var w=[];A!==d&&A!==f;)w.push(A),A=_();p&&(w=p(w,x++))==null||y.push(w)}return y}function s(c,p){return p==null&&(p=uEt(c)),[p.map(l).join(t)].concat(c.map(function(d){return p.map(function(f){return l(d[f])}).join(t)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(t)}function l(c){return c==null?"":e.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:i,parseRows:r,format:s,formatRows:o}}var G2=OT(","),hEt=G2.parse,pEt=G2.parseRows,dEt=G2.format,fEt=G2.formatRows,B2=OT("	"),mEt=B2.parse,yEt=B2.parseRows,gEt=B2.format,vEt=B2.formatRows;const bEt=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:dEt,csvFormatRows:fEt,csvParse:hEt,csvParseRows:pEt,dsvFormat:OT,tsvFormat:gEt,tsvFormatRows:vEt,tsvParse:mEt,tsvParseRows:yEt},Symbol.toStringTag,{value:"Module"})),wEt=UP(bEt);var Zu={exports:{}},QB;function _Et(){if(QB)return Zu.exports;QB=1,Zu.exports=t,Zu.exports.pair=s,Zu.exports.format=n,Zu.exports.formatPair=e,Zu.exports.coordToDMS=i;function t(a,l){var c=r(a,l);return c===null?null:c.val}function e(a){return n(a.lat,"lat")+" "+n(a.lon,"lon")}function n(a,l){var c=i(a,l);return c.whole+"\xB0 "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function i(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",p=c[a>=0?0:1],d=Math.abs(a),f=Math.floor(d),y=d-f,g=y*60,b=Math.floor(g),x=Math.floor((g-b)*60);return{whole:f,minutes:b,seconds:x,dir:p}}function r(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\|\]?[0-9.]+)[]?\s*(?:([0-9.]+)[']\s*)?(?:([0-9.]+)(?:''|"||)\s*)?([NSEW])?/,p=a.match(c);if(!p)return null;var d=p[0],f;if(p[1]&&p[5]?(f=p[1],d=d.slice(0,-1)):f=p[1]||p[5],f&&l.indexOf(f)===-1)return null;var y=p[2]?parseFloat(p[2]):0,g=p[3]?parseFloat(p[3])/60:0,b=p[4]?parseFloat(p[4])/3600:0,x=y<0?-1:1;return(f==="S"||f==="W")&&(x*=-1),{val:(Math.abs(y)+g+b)*x,dim:f,matched:d,remain:a.slice(d.length)}}function s(a,l){a=a.trim();var c=r(a,l);if(!c)return null;a=c.remain.trim();var p=r(a,l);return!p||p.remain?null:c.dim?o(c.val,p.val,c.dim):[c.val,p.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return Zu.exports}var kT,tz;function xEt(){if(tz)return kT;tz=1;var t=wEt,e=_Et(),n=/(Lat)(itude)?/gi,i=/(L)(on|ng)(gitude)?/i;function r(x,A){var M,_,w;for(var T in x)_=T.match(A),_&&(!M||_[0].length/T.length>w)&&(w=_[0].length/T.length,M=T);return M}function s(x){return r(x,n)}function o(x){return r(x,i)}function a(x){return!!x.match(n)}function l(x){return!!x.match(i)}function c(x){return typeof x=="object"?Object.keys(x).length:0}function p(x){var A=[",",";","	","|"],M=[];return A.forEach(function(_){var w=t.dsvFormat(_).parse(x);if(w.length>=1){for(var T=c(w[0]),I=0;I<w.length;I++)if(c(w[I])!==T)return;M.push({delimiter:_,arity:Object.keys(w[0]).length})}}),M.length?M.sort(function(_,w){return w.arity-_.arity})[0].delimiter:null}function d(x){return delete x.columns,x}function f(x){var A=p(x);return A?d(t.dsvFormat(A).parse(x)):null}function y(x,A,M){M||(M=A,A={}),A.delimiter=A.delimiter||",";var _=A.latfield||"",w=A.lonfield||"",T=A.crs||"",I=[],O={type:"FeatureCollection",features:I};if(T!==""&&(O.crs={type:"name",properties:{name:T}}),A.delimiter==="auto"&&typeof x=="string"&&(A.delimiter=p(x),!A.delimiter)){M({type:"Error",message:"Could not autodetect delimiter"});return}var k=A.numericFields?A.numericFields.split(","):null,R=typeof x=="string"?t.dsvFormat(A.delimiter).parse(x,function(C){if(k)for(var V in C)k.includes(V)&&(C[V]=+C[V]);return C}):x;if(!R.length){M(null,O);return}var j=[],z;_||(_=s(R[0])),w||(w=o(R[0]));var F=!_||!w;if(F){for(z=0;z<R.length;z++)I.push({type:"Feature",properties:R[z],geometry:null});M(j.length?j:null,O);return}for(z=0;z<R.length;z++)if(R[z][w]!==void 0&&R[z][_]!==void 0){var U=R[z][w],Y=R[z][_],u,m,S;S=e(U,"EW"),S&&(U=S),S=e(Y,"NS"),S&&(Y=S),u=parseFloat(U),m=parseFloat(Y),isNaN(u)||isNaN(m)?j.push({message:"A row contained an invalid value for latitude or longitude",row:R[z],index:z}):(A.includeLatLon||(delete R[z][w],delete R[z][_]),I.push({type:"Feature",properties:R[z],geometry:{type:"Point",coordinates:[parseFloat(u),parseFloat(m)]}}))}M(j.length?j:null,O)}function g(x){for(var A=x.features,M={type:"Feature",geometry:{type:"LineString",coordinates:[]}},_=0;_<A.length;_++)M.geometry.coordinates.push(A[_].geometry.coordinates);return M.properties=A.reduce(function(w,T){for(var I in T.properties)w[I]||(w[I]=[]),w[I].push(T.properties[I]);return w},{}),{type:"FeatureCollection",features:[M]}}function b(x){for(var A=x.features,M={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},_=0;_<A.length;_++)M.geometry.coordinates[0].push(A[_].geometry.coordinates);return M.properties=A.reduce(function(w,T){for(var I in T.properties)w[I]||(w[I]=[]),w[I].push(T.properties[I]);return w},{}),{type:"FeatureCollection",features:[M]}}return kT={isLon:l,isLat:a,guessLatHeader:s,guessLonHeader:o,csv:t.csvParse,tsv:t.tsvParse,dsv:t,auto:f,csv2geojson:y,toLine:g,toPolygon:b},kT}var CT=xEt();const EEt={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function SEt(t){if(t.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let e=!0,n=!0;for(let i=0;i<t.features.length;i++){const r=t.features[i];Object.assign(r.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in r&&typeof r.id<"u"&&(r.properties.ID_FILE=r.id,e=!1),"OBJECTID"in r.properties&&(r.properties.OBJECTID_FILE=r.properties.OBJECTID,delete r.properties.OBJECTID,n=!1),r.id=i+1}if(e)for(let i=0;i<t.features.length;i++)delete t.features[i].properties.ID_FILE;if(n)for(let i=0;i<t.features.length;i++)delete t.features[i].properties.OBJECTID_FILE}function AEt(t,e){const n=i=>i.indexOf(" ")>-1;e.fields?.forEach(i=>{if(i.name&&n(i.name)){const r=i.name;let s,o="_",a;do s=r.replace(/ /g,o),a=e.fields?.find(l=>l.name===s),a&&(o+="_");while(a);i.alias=r,i.name=s;for(let l=0;l<t.features.length;l++){const c=t.features[l];c.properties[s]=c.properties[r],delete c.properties[r]}}})}function MEt(t,e){const n=t.features[e].geometry.geometries;if(n.length===1)t.features[e].geometry={type:n[0].type,coordinates:n[0].coordinates};else{const i=n.map(r=>r.coordinates);t.features[e].geometry={type:`Multi${n[0].type}`,coordinates:i}}}function TEt(t){return t==="MultiLineString"?"LineString":t==="MultiPolygon"?"Polygon":t}class IEt extends An{async fetchFileData(e,n){const i=await bd.get(e,{responseType:"arrayBuffer"});switch(n){case Tt.GEOJSON:case Tt.DATAJSON:return JSON.parse(this.arbToStr(i.data));case Tt.SHAPEFILE:case Tt.GEOJSONZIPPED:case Tt.FLATGEOBUF:case Tt.FLATGEOBUFZIPPED:return i.data;case Tt.CSV:case Tt.DATACSV:return this.arbToStr(i.data);default:console.error(`Unsupported file type passed to fetchFileData- '${n}'`)}}extractGeoJsonFields(e){if(e.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let n="";for(let o=0;o<e.features.length;o++){const a=e.features[o];if(a.geometry.type==="GeometryCollection"){const c=a.geometry.geometries;if(c===void 0||c.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const p=c[0].type;for(let d=0;d<c.length;d++)if(c[d].type!==p)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");MEt(e,o)}const l=TEt(a.geometry.type);if(n==="")n=l;else if(n!==l)throw new Error("GeoJSON file contains multiple geometry types")}const i=Object.keys(e.features[0].properties).map(o=>({name:o,type:"string"}));let r=0;const s=Object.keys(e.features[0].properties);for(;r<e.features.length;){const o=e.features[r];if(o.properties&&Object.keys(o.properties).filter(a=>s.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=i.findIndex(p=>p.name===a);i[c]={name:a,type:this.inferType(l)},s.splice(s.indexOf(a),1)}}),s.length===0)break;r++}return i}extractCsvFields(e,n=","){return CT.dsv.dsvFormat(n).parseRows(e)[0].map(i=>({name:i,type:fo.STRING}))}filterCsvLatLonFields(e,n=","){const i=CT.dsv.dsvFormat(n).parseRows(e),r=i[0],s={lat:JSON.parse(JSON.stringify(r)),lon:JSON.parse(JSON.stringify(r))};for(let o=0;o<r.length;o++)for(let a=1;a<i.length;a++){const l=Number(i[a][o]),c=s.lat.indexOf(r[o]),p=s.lon.indexOf(r[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&s.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&p!==-1&&s.lon.splice(p,1),c===-1&&p===-1)break}return s}async geoJsonToEsriJson(e,n){let i,r="",s;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:fo.OID}]};SEt(e);const a=e.features[0].geometry.type,l=EEt[a],c=JSON.parse(JSON.stringify(rEt[l]));if(n){if(n.sourceProjection&&(r=this.$iApi.geo.proj.normalizeProj(n.sourceProjection)),n.targetSR)i=n.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");n.layerId?s=n.layerId:s=this.$iApi.geo.shared.generateUUID(),n.colour&&(c.renderer.symbol.color=new Xa(n.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");r||(r=$t.parseGeoJsonCrs(e.crs)),o.renderer=await de.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(n.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(e).filter(g=>n.fieldMetadata?.fieldInfo?.find(b=>b.name===g.name)):this.extractGeoJsonFields(e)),n.fieldMetadata?.enforceOrder&&n.fieldMetadata?.fieldInfo&&n.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,n.fieldMetadata?.fieldInfo)),AEt(e,o);const p=this.$iApi.geo.proj.normalizeProj(i);if(n){if(n.latField){const g=o.fields.find(b=>b.name===n.latField||b.alias===n.latField);g&&(g.type=fo.DOUBLE)}if(n.lonField){const g=o.fields.find(b=>b.name===n.lonField||b.alias===n.lonField);g&&(g.type=fo.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([r,i]);const d=$t.parseSR(i).toESRI();await this.$iApi.geo.proj.projectGeoJson(e,r,p);const f=lEt(e,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(g=>g.name);for(let g=0;g<f.length;g++){const b=f[g];b.geometry.spatialReference=d,b.geometry.type=o.geometryType,Object.keys(b.attributes).forEach(x=>{y.includes(x)?(Array.isArray(b.attributes[x])||typeof b.attributes[x]=="object")&&b.attributes[x]!=null&&(b.attributes[x]=JSON.stringify(b.attributes[x])):delete b.attributes[x]})}return(n.fieldMetadata?.fieldInfo&&n.fieldMetadata?.fieldInfo.length>0?n.fieldMetadata.fieldInfo.filter(g=>g.trim&&y.includes(g.name)).map(g=>g.name):[]).forEach(g=>{for(let b=0;b<f.length;b++){const x=f[b].attributes;typeof x[g]=="string"&&(x[g]=x[g].trim())}}),o.source=f,o.spatialReference=d,o.id=s,o}async csvToGeoJson(e,n){const i={latfield:"Lat",lonfield:"Long",delimiter:","};return n&&(n.latfield&&(i.latfield=n.latfield),n.lonfield&&(i.lonfield=n.lonfield),n.delimiter&&(i.delimiter=n.delimiter)),new Promise((r,s)=>{CT.csv2geojson(e,i,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),s(o)):(a.features.map(l=>{l.properties[i.lonfield]=l.geometry.coordinates[0],l.properties[i.latfield]=l.geometry.coordinates[1]}),r(a))})})}async shapefileToGeoJson(e){return(await import("./shp.min-Cx6EBwA6.js").then(n=>n.s)).default(e)}fgbToGeoJson(e,n){return import("./flatgeobuf-C-cbgMj_.js").then(({geojson:i})=>new Promise(r=>{let s=!1,o=null;const a=i.deserialize(new Uint8Array(e),void 0,p=>{o=p.crs,s=!0});let l=0;const c=setInterval(()=>{if(a&&s){clearInterval(c);let p;o&&(o.code&&o.code!==4326&&o.org==="EPSG"?p=new $t(o.code):o.wkt?p=new $t(o.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",o)),p&&(a.crs=p.toGeoJSON()),r(a)}else l+=60,l>n&&(clearInterval(c),r({}))},60)}))}inferType(e){return typeof e=="number"?fo.DOUBLE:fo.STRING}rawDataJsonParser(e,n=!1){let i;return typeof e=="string"?i=JSON.parse(e):n?i=structuredClone(e):i=e,i}async unzipSingleFile(e){const n=await import("./jszip.min-BLDYlYbk.js").then(s=>s.j),i=await new n.default().loadAsync(e),r=Object.keys(i.files)[0];if(r&&i.file(r))return await i.file(r).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(e){if(e.rawData&&e.rawData instanceof ArrayBuffer)return e.rawData;if(e.url)return this.$iApi.geo.layer.files.fetchFileData(e.url,e.layerType);throw new Error(`${e.layerType} config contains no url or invalid/missing raw data`)}arbToStr(e){return new TextDecoder("utf-8").decode(new Uint8Array(e))}}const NEt=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");class OEt extends An{async loadWfsData(e,n=-1,i=0,r=1e3,s={type:"FeatureCollection",features:[]},o=!1){let a={offset:i.toString(),limit:r.toString()};n===-1&&(a={resulttype:"hits"});const l=new um(e).updateQuery(a),[c,p]=await ks(bd.get(l));if(!p)return console.error(`WFS data failed to load for ${e}`,c),Promise.reject(c);const d=p.data;if(n===-1)return n=p.data.numberMatched,this.loadWfsData(e,n,i,r,s,o);if(s.features=s.features.concat(d.features),d.features.length<n-i){const f=Math.min(r,n-i-d.features.length);return this.loadWfsData(l,n,d.features.length+i,f,s,o)}else return o&&s.features.length>0&&s.features[0].geometry.type===fn.POINT&&s.features.forEach(f=>{const y=f.geometry.coordinates;f.properties.rvInternalCoordX=y[0],f.properties.rvInternalCoordY=y[1]}),s}reversedAxisWKIDs(){return NEt}parseCapabilities(e){const n=()=>{let o=e;if(e.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new um(e.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return vn(o,{responseType:"xml"}).then(a=>a.data)},i=new Promise(o=>{n().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(n())})}),r=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,p=l.Title;let d=l.Style;const f=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(g=>{const b=g.Name;if(f.push(b),g.LegendURL){const x=g.LegendURL.OnlineResource["@_xlink:href"];y[b]=x.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:p,queryable:l["@_queryable"]==="1",layers:r(l),allStyles:f,styleToURL:y,currentStyle:f[0]}})):[]},s=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return import("./fxp-BPfEykj3.js").then(o=>o.f).then(({XMLParser:o})=>i.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},p=new o(c).parse(l);if("ServiceExceptionReport"in p)return console.error(p.ServiceExceptionReport.ServiceException),[];const d=p.WMS_Capabilities.Capability;return{layers:r(d),queryTypes:s(d.Request.GetFeatureInfo)}}))}}class wd{static makeRawItem(e,n){const i=Promise.resolve();return Qn({format:e,data:n,started:!0,loaded:!0,loading:i,load(){return i}})}static makeOidItem(e,n){const i=new Sn,r={format:xc.ESRI,data:void 0,started:!1,loaded:!1,loading:i.getPromise(),async load(){if(!this.started){this.started=!0;const s=await n.getGraphic(e,{getAttribs:!0});this.data=s.attributes,this.loaded=!0,i.resolveMe()}return i.getPromise()}};return Qn(r)}}class kEt extends An{files;ogc;constructor(e){super(e),this.files=new IEt(e),this.ogc=new OEt(e)}createLayer(e){let n;switch(e.layerType){case Tt.FEATURE:n=$Et;break;case Tt.MAPIMAGE:n=FEt;break;case Tt.GRAPHIC:n=iz;break;case Tt.TILE:n=rz;break;case Tt.WFS:n=HEt;break;case Tt.DATATABLE:n=YEt;break;case Tt.WMS:n=WEt;break;case Tt.GEOJSON:n=CEt;break;case Tt.GEOJSONZIPPED:n=PEt;break;case Tt.VECTORTILE:n=VEt;break;case Tt.FLATGEOBUFZIPPED:n=jEt;break;case Tt.CSV:n=LEt;break;case Tt.DATAJSON:n=qEt;break;case Tt.IMAGERY:n=BEt;break;case Tt.IMAGERYTILE:n=zEt;break;case Tt.SHAPEFILE:n=REt;break;case Tt.FLATGEOBUF:n=DEt;break;case Tt.OSM:n=GEt;break;default:throw new Error("Unsupported Layer Type "+e.layerType)}return new n(e,this.$iApi)}sublayerId(e,n){return`${e}-${n}`}getLayer(e){return no(this.$vApp.$pinia).getLayerByAny(e)}getSublayer(e,n){const i=no(this.$vApp.$pinia).getLayerById(e);if(i&&i.supportsSublayers&&n<i.sublayers.length)return i.sublayers[n]}async awaitLayer(e,n=!1){let i=this.getLayer(e);if(!i){const r=new Sn;let s=0;const o=300,a=setInterval(()=>{s+=o;const l=this.getLayer(e);if(l)clearInterval(a),r.resolveMe(l);else if(s>8e3){clearInterval(a);const c=setInterval(()=>{const p=this.getLayer(e);p&&(clearInterval(c),r.resolveMe(p))},1500)}},o);i=await r.getPromise()}return n&&await i.viewPromise(),i}async awaitSublayer(e,n){return this.awaitLayer(this.sublayerId(e,n))}getLayerPosition(e){const n=this.getLayer(e);if(n&&n.mapLayer){const i=n.isSublayer?n.parentLayer.id:n.id,r=this.layerOrderIds().findIndex(s=>s===i);return r===-1?void 0:r}else return}layerOrderIds(){return no(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return no(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(e=>e.layerState!==ln.ERROR&&e.initiationState===He.INITIATED)}allLayersOnMap(e=!0){const n=this.allLayers().filter(i=>i.mapLayer&&i.initiationState===He.INITIATED);if(e){const i=this.layerOrderIds(),r=new Map(i.map((s,o)=>[s,o]));n.sort((s,o)=>r.get(s.id)-r.get(o.id))}return n}allDataLayers(){return this.allLayers().filter(e=>!e.mapLayer&&e.initiationState===He.INITIATED)}allErrorLayers(){return this.allLayers().filter(e=>e.layerState===ln.ERROR)}allInitiatingLayers(){return this.allLayers().filter(e=>e.initiationState===He.INITIATING)}getLayerControls(e){const n=this.getLayer(e);if(!n)return;const i=n.config.controls?.slice()??[mn.BoundaryZoom,mn.Datatable,mn.Identify,mn.Metadata,mn.Opacity,mn.Refresh,mn.Reload,mn.Remove,mn.Settings,mn.Symbology,mn.Visibility],r=[];return n.supportsFeatures||r.push(mn.Datatable),n.extent===void 0&&r.push(mn.BoundaryZoom),(n.config?.metadata||(n.isSublayer?n.parentLayer?.config?.metadata:{})||{}).url||r.push(mn.Metadata),!n.mapLayer&&!n.config.controls?.includes(mn.Settings)&&r.push(mn.Settings),r.forEach(s=>{const o=i?.indexOf(s)??-1;o!==-1&&i?.splice(o,1)}),{controls:i,disabledControls:n.config.disabledControls??[]}}async loadLayerMetadata(e){if(!e.trim())throw new Error("url missing on layer server metadata request.");const[n,i]=await ks(vn(e,{query:{f:"json"}}));if(!i)throw console.error(`Service metadata load error: ${e}`,n),new Error(`Service metadata load error: ${e}`);if(!i.data)throw console.error(`Service metadata load error: ${e}`),new Error(`Service metadata load error: ${e}`);const r=i.data,s={geometryType:qt.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:si.UNKNOWN,mapLayer:!0};if(s.name=r.name||"",s.currentVersion=r.currentVersion||-1,s.minScale=r.effectiveMinScale||r.minScale||0,s.maxScale=r.effectiveMaxScale||r.maxScale||0,s.extent=r.extent?tn.fromArcServer(r.extent,"layer_extent"):void 0,s.defaultVisibility=r.defaultVisibility??!0,s.canModifyLayer=r.canModifyLayer??!0,r.type==="Feature Layer"||r.type==="Table"){if(s.dataFormat=si.ESRI_FEATURE,s.displayField=r.displayField||"",Array.isArray(r.fields)){const o=await Promise.all(r.fields.map(a=>de.FieldFromJson(a)));s.fields=o.map(a=>({name:a.name,alias:a.alias,type:a.type,length:a.length})),o.every(a=>a.type==="oid"?(s.objectIdField=a.name,!1):!0)&&(s.objectIdField=r.objectIdField||(console.error(`Encountered service with no OID defined: ${e}`),"")),r.type==="Feature Layer"?(s.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(r.geometryType),r.drawingInfo?.renderer&&(s.renderer=await de.RendererFromJson(r.drawingInfo.renderer)),r.sourceSpatialReference&&(s.sourceSR=$t.fromConfig(r.sourceSpatialReference))):s.mapLayer=!1}}else s.dataFormat=si.ESRI_RASTER;return s}async loadFeatureCount(e,n=""){if(!e)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const i={query:{f:"json",where:n||"1=1",returnCountOnly:!0,returnGeometry:!1}},[r,s]=await ks(vn(`${e}/query`,i));return s?s.data?Number.isInteger(s.data.count)?s.data.count:(console.error(`Funny result (${s.data.count}) during feature count: ${e}`),0):(console.error(`Unable to load feature count: ${e}`),0):(console.error(`Feature count request unsuccessful: ${e}`,r),0)}}class z2 extends An{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;get nameArcade(){return""}async setNameArcade(e){}tooltipField;get tooltipArcade(){return""}async setTooltipArcade(e){}oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;isSystem;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(e,n){super(n),this.config=e,this.id="",this.uid="",this.name="error",this.layerState=ln.NEW,this.drawState=lr.NOT_LOADED,this.initiationState=He.NEW,this.layerIdx=-1,this.layerFormat=zi.UNKNOWN,this.layerType=Tt.UNKNOWN,this.dataFormat=si.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=qn.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.tooltipField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.isSystem=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=qt.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}viewPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new G1(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return $t.latLongSR()}get visibility(){return!1}set visibility(e){}get opacity(){return 0}set opacity(e){}get scaleSet(){return new $P}set scaleSet(e){}isOffscale(e=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(e){}get touchTolerance(){return 0}set touchTolerance(e){}get drawOrder(){return[]}canIdentify(){return!1}nameValue(e){return""}tooltipValue(e){return""}runIdentify(e){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,n){return Promise.resolve(new Jr(new Cl))}getIcon(e){return Promise.resolve("")}getSqlFilter(e){return""}setSqlFilter(e,n){}applySqlFilter(e=[]){}getFilterOIDs(e=[],n=void 0){return Promise.resolve(void 0)}getGraphicExtent(e){return Promise.resolve(tn.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(e){if(!this.isSublayer&&e)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=e}get sublayers(){return this._sublayers}onLoad(){}onError(e=!0){}updateLayerState(e,n=!1){}updateDrawState(e){}updateInitiationState(e){}uidToIdx(e){if(e===this.uid)return-1;{const n=this._sublayers.findIndex(i=>i?.uid===e);if(n===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${e}]`);return n}}getSublayer(e){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let n;if(typeof e=="string"?n=this.uidToIdx(e):n=e,this._sublayers[n]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${e}]`);return this._sublayers[n]}controlAvailable(e){const n=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(e,n)}}class ez extends z2{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;nameArcadeFormula;nameArcadeExecutor;tooltipArcadeFormula;tooltipArcadeExecutor;constructor(e,n){super(e,n),this.name=e.name||"",this.geomType=qt.NONE,this.dataFormat=si.UNKNOWN,this.layerType=Tt.UNKNOWN,this.layerFormat=zi.UNKNOWN;const i=n.geo.map.layerDefaultTimes;this.expectedTime.draw=e.expectedDrawTime??i.draw,this.expectedTime.load=e.expectedLoadTime??i.load,this.expectedTime.fail=e.maxLoadTime||i.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=e,this.id=e.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isSystem=e.system||!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=qn.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=ln.NEW,this.initiationState=He.NEW,this.drawState=lr.NOT_LOADED,this.loadDefProm=new Sn,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.nameArcadeFormula="",this.tooltipArcadeFormula="",this.layerTree=new G1(0,this.uid,this.name,!0)}updateInitiationState(e){this.initiationState=e,this.$iApi.event.emit(It.LAYER_INITIATIONSTATECHANGE,{state:e,layer:this})}updateLayerState(e,n=!1){this.layerState=e,this.$iApi.event.emit(It.LAYER_LAYERSTATECHANGE,{state:e,layer:this,userCancel:n})}updateDrawState(e){this.drawState=e,e===lr.REFRESH?this.startTimer("draw"):e===lr.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(It.LAYER_DRAWSTATECHANGE,{state:e,layer:this})}async initiate(){this.updateInitiationState(He.INITIATING),this.startTimer("load");const e=s=>{this.layerState!==ln.ERROR&&(console.error(s),this.onError())},n=Date.now(),i=setTimeout(()=>{n>this.lastCancel&&(this.lastCancel=Date.now(),e("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[r]=await ks(this.onInitiate());clearTimeout(i),n>this.lastCancel&&(this.drawState!==lr.UP_TO_DATE&&this.startTimer("draw"),r?e(`Init error on layer id: ${this.id} . ${r.message}`):this.updateInitiationState(He.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===He.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(He.TERMINATING),await Promise.all(this.sublayers.map(e=>e.terminate())),this.loadDefProm=new Sn,this.loadPromDone=!1,this.updateLayerState(ln.NEW),this.updateDrawState(lr.NOT_LOADED),this.updateInitiationState(He.TERMINATED)}onLoad(){const e=Date.now();let n=!1;const i=setTimeout(()=>{n=!0,this.onError()},this.expectedTime.fail);try{const r=this.onLoadActions();Promise.all(r).then(()=>{clearTimeout(i),n?this.visibility=!1:(this.stopTimer("load"),e>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new Sn),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(s=>s.onLoad()),this.updateLayerState(ln.LOADED)))}).catch(()=>{clearTimeout(i),this.onError()})}catch(r){console.error("Encountered error on layer load: ",r),clearTimeout(i),this.onError()}}onError(e=!0){this.layerState!==ln.ERROR&&(this.initiationState===He.INITIATING&&this.updateInitiationState(He.NEW),this.loadPromDone&&(this.loadDefProm=new Sn),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onError(e)),e&&this.$iApi.notify.show(qr.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(ln.ERROR,!e))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===He.NEW||this.initiationState===He.TERMINATING||this.initiationState===He.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===ln.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,n){return this.stubError(),Promise.resolve(new Jr(new Cl))}getIcon(e){return this.stubError(),Promise.resolve("")}getSqlFilter(e){return this.stubError(),""}setSqlFilter(e,n){this.stubError()}getFilterOIDs(e=[],n=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(e){return this.stubError(),Promise.resolve(tn.fromParams("fake",0,0,0,0))}applySqlFilter(e=[]){this.stubError()}setCustomParameter(e,n,i=!0){this.stubError()}startTimer(e){this.stopTimer(e),this.expectedTime[e]>0&&(this.timers[e]=window.setTimeout(()=>this.$iApi.notify.show(qr.WARNING,this.$iApi.$i18n.t(`layer.long${e}`,{id:this.name||this.id})),this.expectedTime[e]))}stopTimer(e){this.timers[e]&&(clearTimeout(this.timers[e]),this.timers[e]=void 0)}async arcadeGenerator(e){const n={variables:[{name:"$attr",type:"dictionary",properties:this.fields.map(i=>{const r=this.$iApi.geo.attributes.fieldTypeToArcade(i.type);return r?{name:i.name,type:r}:(console.error(`Encountered field type with no arcade support: ${i.type} [${i.name}]`),r)}).filter(i=>!!i)}]};return de.ArcadeExecutor(e,n)}get nameArcade(){return this.nameArcadeFormula}async setNameArcade(e){this.supportsFeatures?e.trim()===""?(this.nameArcadeFormula="",this.nameArcadeExecutor=void 0):(this.nameArcadeFormula=e,this.nameArcadeExecutor=await this.arcadeGenerator(e)):console.error("Attempted to set a name arcade function on a layer that doesn't support it.")}async nameInitializer(e,n=""){if(this.supportsFeatures){const i=(e?.nameArcade||"").trim();i&&await this.setNameArcade(i),this.nameField=(e?.nameField||"").trim()||n||this.oidField}else console.error("Attempted to init a name field on an unsupported layer.")}nameValue(e){if(e)if(this.nameArcade){const n={$attr:e};return this.nameArcadeExecutor?.execute(n)??"Arcade Error"}else return this.nameField?e[this.nameField]??"Name Field Error":"";else return""}get tooltipArcade(){return this.tooltipArcadeFormula}async setTooltipArcade(e){this.supportsFeatures?e.trim()===""?(this.tooltipArcadeFormula="",this.tooltipArcadeExecutor=void 0):(this.tooltipArcadeFormula=e,this.tooltipArcadeExecutor=await this.arcadeGenerator(e)):console.error("Attempted to set a tooltip arcade function on a layer that doesn't support it.")}async tooltipInitializer(e){if(this.supportsFeatures){const n=(e?.tooltipArcade||"").trim();n&&await this.setTooltipArcade(n),this.tooltipField=(e?.tooltipField||"").trim()}else console.error("Attempted to init a tooltip field on an unsupported layer.")}tooltipValue(e){if(e)if(this.tooltipArcade){const n={$attr:e};return this.tooltipArcadeExecutor?.execute(n)??"Arcade Error"}else return this.tooltipField?e[this.tooltipField]??this.nameValue(e):this.nameValue(e);else return""}}class Ju extends ez{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(e,n){super(e,n),this._scaleSet=new $P,this._mouseTolerance=e.mouseTolerance!=null?e.mouseTolerance:5,this._touchTolerance=e.touchTolerance!=null?e.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=e.cosmetic||!1,this.extent=e.extent?tn.fromConfig(`${this.id}_extent`,e.extent):void 0,this.viewDefProm=new Sn,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(Un(()=>this.esriLayer.visible,e=>{this.$iApi.event.emit(It.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this})})),this.esriWatches.push(Un(()=>this.esriLayer.opacity,e=>{this.$iApi.event.emit(It.LAYER_OPACITYCHANGE,{opacity:e,layer:this})})),this.esriWatches.push(Un(()=>this.esriLayer.loadStatus,e=>{const n={"not-loaded":ln.LOADING,loading:ln.LOADING,loaded:ln.LOADED,failed:ln.ERROR};e==="loaded"?this.onLoad():e==="failed"?this.onError():this.updateLayerState(n[e])})),this.esriLayer.on("layerview-create",e=>{this.esriView=Je(e.layerView),this.esriWatches.push(Un(()=>e.layerView.updating,n=>{this.updateDrawState(n?lr.REFRESH:lr.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(e=>e.initiate())}async terminate(){this.esriWatches.forEach(e=>e.remove()),this.esriWatches=[],this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new Sn}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const e=Date.now();if(this.$iApi.event.emit(It.LAYER_RELOAD_START,this),this.sublayers.forEach(n=>this.$iApi.event.emit(It.LAYER_RELOAD_START,n)),await this.terminate(),await this.initiate(),!(this.lastCancel>e)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(It.LAYER_RELOAD_END,this),this.sublayers.forEach(n=>this.$iApi.event.emit(It.LAYER_RELOAD_END,n))}}makeEsriLayerConfig(e){return{id:e.id,url:e.url,opacity:e?.state?.opacity??1,visible:e?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(e=>e.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const e=super.onLoadActions();this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify);const n=this.$iApi.geo.proj.checkProj(this.getSR()).then(i=>i?Promise.resolve():Promise.reject());return e.push(n),e}viewPromise(){return this.viewDefProm.getPromise()}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(e){this._scaleSet=e}isOffscale(e=void 0){let n;if(typeof e>"u")if(this.mapCheck())n=this.$iApi.geo.map.getScale();else return!1;else n=e;return this.scaleSet.isOffScale(n).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=e}get touchTolerance(){return this._touchTolerance}set touchTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=e}get layerExists(){return this.initiationState===He.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(e){this.layerExists?this.esriLayer.visible=e:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(e=>e.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(e){this.layerExists?this.esriLayer.opacity=e:this.noLayerErr()}getSR(){return this.esriLayer?$t.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),$t.latLongSR())}}class RT extends Ju{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.geomType=qt.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new FP(e.permanentFilteredQuery||"",e.initialFilteredQuery||""),this.hovertips=e.state?.hovertips??!0,this.attribs=new oz}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}async loadLayerMetadata(e={}){if(!this.serviceUrl)return;const n=Date.now(),i=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(n<this.lastCancel))if(this.geomType=i.geometryType,this.attribs.quickCache=new cz(this.geomType),this.scaleSet.minScale=i.minScale,this.scaleSet.maxScale=i.maxScale,this.dataFormat=i.dataFormat,this.extent=this.extent??i.extent,this._serverVisibility=i.defaultVisibility,this.origRampConfig.name||(this.name=i.name??this.id),this.dataFormat===si.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===Tt.SUBLAYER?i.canModifyLayer:!0,this.fields=i.fields,this.nameField=i.displayField,this.oidField=i.objectIdField,this.sourceSR=i.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const r=e&&e.customRenderer&&e.customRenderer.type?e.customRenderer:i.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(r,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const s={supportsLimit:(i.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(di.PERMANENT)};this.attribs.attLoader=new lz(this.$iApi,s)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(e=>e.trim).map(e=>e.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,n){let i={},r=new Cl;const s=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(n.getAttribs||n.getStyle){const p=this.attribs.quickCache.getAttribs(e);if(p)i=p;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();i=d.features[d.oidIndex[e]]}else o=!0}if(n.getGeom){l=s.getScale();const p=this.attribs.quickCache.getGeom(e,l);if(p)r=p;else if(this.layerType===Tt.FEATURE){await this.viewPromise(),this.esriView.updating&&await new Promise(y=>{const g=Un(()=>this.esriView.updating,b=>{b||(g.remove(),y())})});const d=await de.Query();d.objectIds=[e],d.returnGeometry=!0;const f=await this.esriView.queryFeatures(d);if(f.features.length){const y=f.features[0],g=this.$iApi.geo.geom.geomEsriToRamp(y.geometry);this.attribs.quickCache.setGeom(e,g,l),r=g}else a=!0}else a=!0}if(o||a){const p={oid:e,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(p.mapSR=s.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(p.maxOffset=s.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(p);a&&(this.attribs.quickCache.setGeom(e,d.geometry,l),r=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(e)>"u")&&(this.attribs.quickCache.setAttribs(e,d.attributes),o&&(i=d.attributes))}const c=new Jr(r,"",n.getAttribs?i:void 0);if(n.getStyle){const p=Dt(this.renderer.getGraphicSymbol(i));c.style=this.$iApi.geo.geom.styleEsriToRamp(p)}return c}async getIcon(e){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const n=await this.getGraphic(e,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(n.attributes||{},this.renderer)}setSqlFilter(e,n){const i=this.filter.getSql(e);if(n===i)return;this.filter.setSql(e,n),this.$iApi.event.emit(It.FILTER_CHANGE,{uid:this.uid,filterKey:e});const r=`${this.uid}-${e}-${n}`;this._lastFilterUpdate=r,setTimeout(()=>{this._lastFilterUpdate===r&&this.applySqlFilter()},100)}applySqlFilter(e=[]){throw new Error(`attempted to apply sql filter ${e} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[],n=void 0){const i=this.filter.getCombinedSql(e),r=!!n;if(!(i||r))return;n&&this.filter.setExtent(n);const s=this.filter.sqlActiveFilters(e);let o=this.filter.getCache(s,r);if(!o){const a={filterGeometry:n,filterSql:i,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,s,r)}return o}queryOIDs(e){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const n={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(n)}async queryFeaturesDiscrete(e){const n=await this.queryOIDs(e),i={getGeom:!!e.includeGeometry,getAttribs:!0};return n.map(r=>({oid:r,graphic:this.getGraphic(r,i)}))}async queryFeatures(e){const n=await this.queryFeaturesDiscrete(e);return Promise.all(n.map(i=>i.graphic))}configDrawOrder(e,n){Array.isArray(e.drawOrder)&&e.drawOrder.length>0&&(n.orderBy=e.drawOrder.map(i=>{const r=i.ascending??!0?"ascending":"descending";return i.field?{field:i.field,order:r}:{valueExpression:i.arcade,order:r}}),this._drawOrder=e.drawOrder.slice())}}class nz extends Ju{constructor(e,n){super(e,n),this.dataFormat=si.ESRI_FEATURE,this.layerFormat=zi.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}getGraphicCount(){return this._graphics.length}getLocalGraphic(e){return this._graphics.find(n=>n.id===e)}getEsriGraphic(e){return this.esriLayer?.graphics.find(n=>n.id===e)}get graphics(){return this._graphics.slice()}async addGraphic(e){if(!this.layerExists){this.noLayerErr();return}let n;e instanceof Array?n=e:n=[e];const i=n.filter(l=>this._graphics.findIndex(c=>c.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),r=this.$iApi.geo.map.getSR(),s=i.map(l=>this.$iApi.geo.proj.projectGeometry(r,l.geometry)),o=await Promise.all(s),a=i.map((l,c)=>{const p=new Jr(o[c],l.id,l.attributes);return p.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(p)});this.esriLayer.addMany(a)}removeGraphic(e){if(!this.layerExists){this.noLayerErr();return}if(typeof e>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let n;Array.isArray(e)?n=e:n=[e],n.map(i=>typeof i=="string"?i:i.id).forEach(i=>{const r=this.esriLayer.graphics.findIndex(o=>o.id===i);r>-1&&this.esriLayer.graphics.removeAt(r);const s=this._graphics.findIndex(o=>o.id===i);s>-1&&this._graphics.splice(s,1)})}}class iz extends nz{constructor(e,n){super(e,n),this.layerType=Tt.GRAPHIC}async onInitiate(){this.esriLayer=Je(await de.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(lr.UP_TO_DATE),e}}class Xu extends RT{esriJson;sourceGeoJson;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=si.ESRI_FEATURE,this.layerFormat=zi.FEATURE,this.layerIdx=0,e.identifyMode&&e.identifyMode!==qn.NONE?this.identifyMode=e.identifyMode:this.identifyMode=qn.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const e={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,e),this.esriLayer=Je(await de.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e),i="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(r=>{n[r]=this.esriJson[r]}),this.origRampConfig.nameField?n.displayField=this.$iApi.geo.attributes.fieldValidator(n.fields,this.origRampConfig.nameField)||i:n.displayField=i,n.outFields=["*"],delete n.url,this.configDrawOrder(e,n),e.geomClustering&&(n.featureReduction=e.geomClustering),n}onLoadActions(){const e=super.onLoadActions(),n=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await de.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),await this.nameInitializer({nameArcade:this.origRampConfig.nameArcade},this.nameField);const i=this.origRampConfig.tooltipField?this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField):"";await this.tooltipInitializer({tooltipArcade:this.origRampConfig.tooltipArcade,tooltipField:i}),this.featureCount=this.esriLayer?.source.length||0};return e.push(n()),e.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(e).then(()=>{this.applySqlFilter()}),e}runIdentify(e){if(!this.canIdentify())return[];const n=new Sn,i=Qn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let r=Promise.resolve(),s=Promise.resolve(),o=[],a=[];if(this.identifyMode===qn.HYBRID||this.identifyMode===qn.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==qt.POLYGON&&e.geometry.type===qt.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):l.filterGeometry=e.geometry,l.filterSql=this.getCombinedSqlFilter(),s=this.queryFeatures(l).then(c=>{o=c})}return e.hitTest&&(this.identifyMode===qn.HYBRID||this.identifyMode===qn.SYMBOLIC)&&(r=s.then(async()=>{const l=await e.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(p=>c.oid===p.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([r,s]).then(()=>{o.forEach(l=>{i.items.push(wd.makeRawItem(xc.ESRI,l.attributes))}),a.forEach(l=>{i.items.push(wd.makeOidItem(l,this))}),i.loaded=!0,n.resolveMe()}).catch(()=>{i.errored=!0,n.resolveMe()}),[i]}extractLayerMetadata(){const e=this.esriLayer;if(!e)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(e.geometryType),this.scaleSet.minScale=e.minScale||0,this.scaleSet.maxScale=e.maxScale||0,this.extent=this.extent??tn.fromESRI(e.fullExtent,this.id+"_extent");const n=Je(e.fields.slice());this.fields=n.map(r=>({name:r.name,alias:r.alias,type:r.type,length:r.length})),this.nameField=e.displayField,this.oidField=e.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(e.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const i={sourceGraphics:e.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new XEt(this.$iApi,i)}async getGraphic(e,n){let i;if(!n.getGeom&&this.attribs.attLoader.isLoaded()){const r=await this.attribs.attLoader.getAttribs();i=new Jr(new Cl,"",r.features[r.oidIndex[e]])}else{const r={filterOIDs:[e],includeGeometry:!!n.getGeom},s=await this.queryFeatures(r);if(s.length===0)throw new Error(`Could not find object id ${e}`);s.length!==1&&console.warn("did not get a single result on a query for a specific object id"),i=s[0]}if(n.getStyle){const r=Dt(this.renderer.getGraphicSymbol(i.attributes));i.style=this.$iApi.geo.geom.styleEsriToRamp(r)}return i}async queryFeatures(e){const n={layer:this,...e};return this.$iApi.geo.query.geoJsonQuery(n)}async queryOIDs(e){const n={layer:this,...e};return(await this.$iApi.geo.query.geoJsonQuery(n)).map(i=>i.attributes?i.attributes[this.oidField]:-1)}applySqlFilter(e=[]){if(!this.esriView){this.noLayerErr();return}const n=this.filter.getCombinedSql(e);de.FeatureFilter({where:n}).then(i=>{Dt(this.esriView).filter=i})}}class CEt extends Xu{constructor(e,n){super(e,n),this.layerType=Tt.GEOJSON}async onInitiate(){let e;const n=Date.now();if(this.origRampConfig.rawData)e=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");n>this.lastCancel&&(this.sourceGeoJson=e,await super.onInitiate())}}class REt extends Xu{constructor(e,n){super(e,n),this.layerType=Tt.SHAPEFILE}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.shapefileToGeoJson(n);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class LEt extends Xu{constructor(e,n){super(e,n),this.layerType=Tt.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let e;const n=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")e=this.origRampConfig.rawData;else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(n>this.lastCancel){const i=await this.$iApi.geo.layer.files.csvToGeoJson(e,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});n>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class PEt extends Xu{constructor(e,n){super(e,n),this.layerType=Tt.GEOJSONZIPPED}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(n);e>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(i)),await super.onInitiate())}}}class DEt extends Xu{constructor(e,n){super(e,n),this.layerType=Tt.FLATGEOBUF}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.fgbToGeoJson(n,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class jEt extends Xu{constructor(e,n){super(e,n),this.layerType=Tt.FLATGEOBUFZIPPED}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(n);if(e>this.lastCancel){const r=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}}class $Et extends RT{constructor(e,n){super(e,n),this.dataFormat=si.ESRI_FEATURE,this.supportsIdentify=!0,this.layerType=Tt.FEATURE,this.layerFormat=zi.FEATURE,e.identifyMode&&e.identifyMode!==qn.NONE?this.identifyMode=e.identifyMode:this.identifyMode=qn.HYBRID}async onInitiate(){Je(this.esriLayer=await de.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e);return(e.initialFilteredQuery||e.permanentFilteredQuery)&&(n.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(e,n),e.geomClustering&&(n.featureReduction=e.geomClustering),n}onLoadActions(){const e=Date.now(),n=super.onLoadActions(),i=this.esriLayer.parsedUrl.path,r=this.$iApi.geo.shared.parseUrlIndex(i).index||0;this.layerIdx=r,this.serviceUrl=i;const s=async()=>{let a;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const l=await de.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=l,a={customRenderer:l}}else a={};await this.loadLayerMetadata(a),e>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()),await this.nameInitializer(this.origRampConfig,this.nameField),await this.tooltipInitializer(this.origRampConfig))},o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(di.PERMANENT)).then(a=>{e>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=r,n.push(o,s()),n}runIdentify(e){if(!this.canIdentify())return[];const n=new Sn,i=Qn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let r=Promise.resolve(),s=Promise.resolve(),o=[];if(this.identifyMode===qn.HYBRID||this.identifyMode===qn.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==qt.POLYGON&&e.geometry.type===qt.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):a.filterGeometry=e.geometry,a.filterSql=this.getCombinedSqlFilter(),s=this.queryOIDs(a).then(l=>{o=l})}return e.hitTest&&(this.identifyMode===qn.HYBRID||this.identifyMode===qn.SYMBOLIC)&&(r=s.then(async()=>{(await e.hitTest).filter(a=>a.layerId===this.id&&o.findIndex(l=>a.oid===l)===-1).forEach(a=>{o.push(a.oid)})})),Promise.all([r,s]).then(()=>{o.forEach(a=>{i.items.push(wd.makeOidItem(a,this))}),i.loaded=!0,n.resolveMe()}).catch(()=>{i.errored=!0,n.resolveMe()}),[i]}applySqlFilter(e=[]){if(this.layerExists){const n=this.filter.getCombinedSql(e);this.esriLayer.definitionExpression=n}else this.noLayerErr()}getGraphicExtent(e){return new Promise((n,i)=>{if(!this.layerExists)this.noLayerErr(),i();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),i();else{const r=this.attribs.quickCache.getExtent(e);r?n(r):this.esriLayer.queryExtent({objectIds:[e],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(s=>{const o=tn.fromESRI(s.extent);this.attribs.quickCache.setExtent(e,o),n(o)}).catch(()=>{console.error(`Extent querying failed for ${e}.`),i()})}})}}class FEt extends Ju{isDynamic;origState;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=Tt.MAPIMAGE,this.layerFormat=zi.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=qn.GEOMETRIC}async onInitiate(){this.esriLayer=Je(await de.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e);return this.origState={visibility:n.visible,opacity:n.opacity},n.visible=!1,e.imageFormat&&(n.imageFormat=e.imageFormat),n}onLoadActions(){const e=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),e;const n=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(qr.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??tn.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const i=l=>{const c=this.esriLayer?.allSublayers.find(p=>p.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},r={};this.origRampConfig.sublayers.forEach(l=>{r[l.index||0]=l});const s=[],o=(l,c)=>{const p=l.id,d=r[p];if(l.sublayers&&l.sublayers.length>0){const f=(d?d.name:"")||l.title||"",y=new G1(p,"",f,!1);c.findChildByIdx(p)||c.children.push(y),l.sublayers.reverse().forEach(g=>{o(g,y)})}else{this._sublayers[p]||(this._sublayers[p]=new UEt({id:this.$iApi.geo.layer.sublayerId(this.id,p),index:p,layerType:Tt.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const f=this._sublayers[p];if(f.isRemoved)return;if(f.name=d?.name||l.title||"",s.push(f),!c.children.map(y=>y.layerIdx).includes(p)){const y=new G1(p,f.uid,f.name,!1);c.children.push(y)}f.esriWatches.push(Un(()=>l.visible,()=>{this.$iApi.event.emit(It.LAYER_VISIBILITYCHANGE,{visibility:f.visibility,layer:f}),f.parentLayer?.checkVisibility()}),Un(()=>l.opacity,y=>{this.$iApi.event.emit(It.LAYER_OPACITYCHANGE,{opacity:y,layer:f})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=i(l.index||0);o(c,this.layerTree)}});const a=s.map(async l=>{const c=i(l.layerIdx),p=r[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),n<this.lastCancel)return;const d={};if(l.esriSubLayer&&p?.customRenderer?.type){const y=await de.RendererFromJson(p.customRenderer);l.esriSubLayer.renderer=y,d.customRenderer=y}if(await l.loadLayerMetadata(d),n<this.lastCancel)return;const f=r[l.layerIdx];if(f?(l.visibility=l.isRemoved?!1:f.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=f.state?.opacity??this.origState.opacity??1,this.$iApi.geo.attributes.applyFieldMetadata(l,f.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(qr.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim(),await l.nameInitializer(f,l.nameField);const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(di.PERMANENT));n>this.lastCancel&&(l.featureCount=y)}});return e.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!s.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,e}updateLayerState(e,n=!1){super.updateLayerState(e,n),this.sublayers.forEach(i=>i.updateLayerState(e,n))}updateDrawState(e){super.updateDrawState(e),this.sublayers.forEach(n=>n.updateDrawState(e))}runIdentify(e){if(!this.canIdentify())return[];e.sublayerIds&&(e.sublayerIds=e.sublayerIds.map(r=>typeof r=="number"?this.layerTree?.findChildByIdx(r)?.uid:r));const n=e.sublayerIds?this._sublayers.filter(r=>e.sublayerIds?.includes(r.uid)):this._sublayers.filter(r=>r.canIdentify());if(n.length===0)return[];let i;return e.geometry.type===qt.POINT&&(i=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance)),n.map(r=>{const s=new Sn,o={},a=Qn({items:[],loading:s.getPromise(),loaded:!1,errored:!1,uid:r.uid,layerId:r.id,requestTime:Date.now()});return r.geomType!==qt.POLYGON&&i?o.filterGeometry=i:o.filterGeometry=e.geometry,o.filterSql=r.getCombinedSqlFilter(),o.sourceSR=r.sourceSR,r.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(wd.makeOidItem(c,r))}),a.loaded=!0,s.resolveMe()}).catch(()=>{a.errored=!0,s.resolveMe()}),a})}}class UEt extends RT{constructor(e,n,i){if(super(e,n),this.layerType=Tt.SUBLAYER,this.layerFormat=zi.MAPIMAGE,this.isSublayer=!0,this.layerIdx=e.index,this.parentLayer=i,this.isSystem=i.isSystem,this.dataFormat=si.ESRI_FEATURE,this.supportsFeatures=!0,this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!i.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(i),(e.initialFilteredQuery||e.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(e){if(!e.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=Je(e.esriLayer.allSublayers.find(n=>n.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=He.INITIATED;const e=this.labelVizOverride();e!==void 0&&(this.labelVisibility=e)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===He.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(e){this.layerExists?this.esriSubLayer.visible=e:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(e){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=e}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(e){this.layerExists?this.parentLayer.mouseTolerance=e:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(e){this.layerExists?this.parentLayer.touchTolerance=e:this.noLayerErr()}applySqlFilter(e=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const n=this.filter.getCombinedSql(e);this.esriSubLayer.definitionExpression=n}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const e=this._parentLayer?.esriLayer?.spatialReference;return e?$t.fromESRI(e):$t.latLongSR()}else return this.noLayerErr(),$t.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(e){this.layerExists?this.esriSubLayer.labelsVisible=e:this.noLayerErr()}labelVizOverride(){let e=this.origRampConfig.labels?.visible;if(e!==void 0||(e=this.$iApi.geo.map.labelsDefault?.visible,e!==void 0))return e}}class GEt extends Ju{constructor(e,n){super(e,n),this.supportsIdentify=!1,this.layerType=Tt.OSM,this.layerFormat=zi.OSM,this.dataFormat=si.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=Je(await de.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),i={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:n.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(i),e}}class BEt extends Ju{constructor(e,n){super(e,n),this.supportsIdentify=!1,this.layerType=Tt.IMAGERY,this.layerFormat=zi.IMAGERY,this.dataFormat=si.ESRI_RASTER}async onInitiate(){this.esriLayer=Je(await de.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(r=>{n>this.lastCancel&&(this.legend=r)});return e.push(i),e}}class LT extends Ju{schemaLocked=!0;constructor(e,n){super(e,n),this.supportsIdentify=!1,this.dataFormat=si.ESRI_TILE}onLoadActions(){const e=super.onLoadActions();return this.layerTree.name=this.name,this.schemaLocked&&e.push(this.checkProj()),e}async checkProj(){const e=this.getSR(),n=this.$iApi.geo.map.getSR().isEqual(e),i=()=>this.$iApi.notify.show(qr.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id}));if(this.layerState===ln.LOADED&&!n)i(),this.onError();else if(this.layerState===ln.ERROR&&n)this.reload();else if(this.layerState!==ln.ERROR&&!n)return i(),Promise.reject()}}class zEt extends LT{constructor(e,n){super(e,n),this.layerType=Tt.IMAGERYTILE,this.layerFormat=zi.IMAGERYTILE,this.schemaLocked=!1}async onInitiate(){this.esriLayer=Je(await de.ImageryTileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}}class rz extends LT{constructor(e,n){super(e,n),this.layerType=Tt.TILE,this.layerFormat=zi.TILE}async onInitiate(){this.esriLayer=Je(await de.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions(),n=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(r=>{n>this.lastCancel&&(this.legend=r)});return e.push(i),e}}class VEt extends LT{constructor(e,n){super(e,n),this.layerType=Tt.VECTORTILE,this.layerFormat=zi.VECTORTILE}async onInitiate(){this.esriLayer=Je(await de.VectorTileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}}class WEt extends Ju{sublayerNames;mimeType;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.layerType=Tt.WMS,this.layerFormat=zi.WMS,this.mimeType=e.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=si.OGC_RASTER,this.identifyMode=qn.GEOMETRIC}async onInitiate(){this.esriLayer=Je(await de.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e),i=e.sublayers;this.sublayerNames=i.map(s=>s.id||"error_no_wms_id");const r=i.map(s=>s.currentStyle).join();return n.customParameters={styles:r},e.url.indexOf("/geomet")!==-1&&(n.customParameters.layers=i[0].id),n}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=i=>{let r=!1;return i.forEach(s=>{this.sublayerNames.indexOf(s.name)>-1||s.sublayers&&s.sublayers.length>0&&n(s.sublayers)?r=!0:s.visible=!1}),r};return this.layerExists?n(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),e}canIdentify(){return super.canIdentify()}runIdentify(e){if(e.geometry.type!==qt.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const n=new Sn,i=Qn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,e.geometry,this.mimeType).then(r=>{if(r){let s=!0,o;typeof r!="string"?o=xc.JSON:r.indexOf("Search returned no results")===-1&&r!==""?o=xc.TEXT:(s=!1,o=xc.UNKNOWN),s&&i.items.push(wd.makeRawItem(o,r))}i.loaded=!0,n.resolveMe()}).catch(()=>{i.errored=!0,n.resolveMe()}),[i]}setCustomParameter(e,n,i=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[e]=n,i&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(e,n,i){const r=this.$iApi.geo.map,s=this.esriLayer;if(!r.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!s)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=r.getExtent(),c=s.spatialReferences,p=e.join(","),d=r.esriView.toScreen(n.toESRI()),f=Math.floor(d.x),y=Math.floor(d.y),g={"application/json":"json","text/html":"text","text/plain":"text"}[i]||"text",b=r.getSR();b.wkid?o=b.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(b.latestWkid&&c.indexOf(b.latestWkid)>-1?o=b.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),s.version==="1.3"||s.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:f,J:y,STYLES:"",FORMAT:s.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:f,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const x={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:s.version,WIDTH:r.getPixelWidth(),HEIGHT:r.getPixelHeight(),QUERY_LAYERS:p,LAYERS:p,INFO_FORMAT:i},A=s.customLayerParameters;return A&&Object.keys(A).forEach(M=>{M.toLowerCase()!=="styles"&&(x[M]=A[M])}),Object.keys(x).forEach(M=>a[M]=x[M]),vn(s.url.split("?")[0],{query:a,responseType:g})}getLegendUrls(e){if(!this.layerExists)return this.noLayerErr(),[];const n=new Map;this.esriLayer.allSublayers.forEach(r=>{r.visible&&(r.legendUrl&&this.origRampConfig.sublayers?.forEach(s=>{if(s.id&&s.currentStyle&&s.id===r.name){const o=new um(r.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==s.currentStyle&&(r.legendUrl=o.updateQuery({STYLE:s.currentStyle}))}}),n.set(r.name,r.legendUrl))});const i=e.map(r=>r.styleLegends&&r.currentStyle?r.styleLegends.find(s=>s.name===r.currentStyle).url:void 0);return i.forEach((r,s)=>{r||(i[s]=n.get(e[s].id))}),i}getWMSLayerTitle(e){if(!this.esriLayer)return"";let n;return this.esriLayer.allSublayers.some(i=>i.name===e?(n=i.title,!0):!1),n||""}loadSymbology(){const e=Date.now(),n=this.config.sublayers,i=this.getLegendUrls(n.map(r=>({id:r.id,styleLegends:r.styleLegends,currentStyle:r.currentStyle}))).map((r,s)=>{const o=n[s].name||this.getWMSLayerTitle(n[s].id)||n[s].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(r).then(l=>{e>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=i}}class HEt extends Xu{constructor(e,n){super(e,n),this.layerType=Tt.WFS}async onInitiate(){const e=Date.now(),n=new um(this.config.url),{offset:i,limit:r}=n.queryMap,s=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(i)||0,parseInt(r)||1e3,void 0,this.config.xyInAttribs);e>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}class sz extends ez{sourceJson;attribs;_visibility;constructor(e,n){super(e,n),this.dataFormat=si.ESRI_FEATURE,this.layerFormat=zi.NOLAYER,this.drawState=lr.NOT_VISUAL,this.attribs=new oz,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=e.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const e=this.sourceJson;if(e.data.length===0||e.fields.length===0)throw new Error("Data layer with no columns or now rows.");const n=e.fields.slice(),i=e.data[0].slice(),r=/ /gi;this.fields=n.map((l,c)=>{let p="",d=l;l.indexOf(" ")>-1&&(p=l,d=l.trim().replace(r,"-"),e.fields[c]=d);const f=this.$iApi.geo.layer.files.inferType(i[c]);return{name:d,alias:p,type:f,length:f===fo.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:fo.OID}),e.fields.push(this.oidField),e.data.forEach((l,c)=>l.push(c+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const s={batchSize:-1,sourceDataJson:e,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new KEt(this.$iApi,s),await this.attribs.attLoader.getAttribs(),this.featureCount=e.data.length;const o=this.origRampConfig.nameField,a={nameField:o?this.$iApi.geo.attributes.fieldValidator(this.fields,o):"",nameArcade:this.origRampConfig.nameArcade};await this.nameInitializer(a,""),this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(It.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==ln.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(It.LAYER_RELOAD_END,this)},300)}onLoadActions(){const e=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(n=>{this.legend[0].svgcode=n})}],e}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,n){let i={};if(this.attribs.attLoader.isLoaded()){const r=await this.attribs.attLoader.getAttribs();i=r.features[r.oidIndex[e]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Jr(new Cl,"",i)}async getIcon(e){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(e=[],n=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this.$iApi.event.emit(It.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this}))}}class qEt extends sz{constructor(e,n){super(e,n),this.layerType=Tt.DATAJSON}async onInitiate(){const e=Date.now();let n;if(this.origRampConfig.rawData)n=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)n=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");e>this.lastCancel&&(this.sourceJson=n,await super.onInitiate())}}class YEt extends sz{filter;serviceUrl;constructor(e,n){super(e,n),this.layerType=Tt.DATATABLE,this.serviceUrl=e.url,this.filter=new FP(e.permanentFilteredQuery||"",e.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const e=super.onLoadActions(),n=Date.now(),i=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,r=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(o=>{if(n<this.lastCancel)return;this.name||(this.name=o.name),this.layerTree.name=this.name,this.oidField=o.objectIdField,this.fields=o.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.nameInitializer(this.origRampConfig,o.displayField);const a={supportsLimit:(o.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(di.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new lz(this.$iApi,a),this.attribs.quickCache=new cz(this.geomType)}),s=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(di.PERMANENT)).then(o=>{n>this.lastCancel&&(this.featureCount=o)});return this.layerTree.layerIdx=i,e.push(r,s),e}async getGraphic(e){let n={};const i=this.attribs.quickCache.getAttribs(e);if(i)n=i;else if(this.attribs.attLoader.isLoaded()){const r=await this.attribs.attLoader.getAttribs();n=r.features[r.oidIndex[e]]}else{const r={oid:e,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},s=await this.$iApi.geo.attributes.loadSingleFeature(r);this.attribs.quickCache.setAttribs(e,s.attributes),n=s.attributes}return new Jr(new Cl,"",n)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(e,n){const i=this.filter.getSql(e);n!==i&&(this.filter.setSql(e,n),this.$iApi.event.emit(It.FILTER_CHANGE,{uid:this.uid,filterKey:e}))}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[]){const n=this.filter.getCombinedSql(e);if(!n)return;const i=this.filter.sqlActiveFilters(e);let r=this.filter.getCache(i,!1);if(!r){const s={filterSql:n,includeGeometry:!1};r=this.queryOIDs(s),this.filter.setCache(r,i,!1)}return r}queryOIDs(e){const n={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(n)}async queryFeaturesDiscrete(e){return(await this.queryOIDs(e)).map(n=>({oid:n,graphic:this.getGraphic(n)}))}async queryFeatures(e){const n=await this.queryFeaturesDiscrete(e);return Promise.all(n.map(i=>i.graphic))}}const ZEt=new Map([["integer","number"],["small-integer","number"],["big-integer","number"],["single","number"],["double","number"],["long","number"],["oid","number"],["string","text"],["geometry","geometry"],["date","date"]]);class JEt extends An{oidIndexer(e,n){e.features.forEach((i,r)=>{e.oidIndex[i[n]]=r})}async arcGisBatchLoad(e,n){if(n.loadAbortFlag)return[];const i=e.permanentFilter?` AND ${e.permanentFilter}`:"",r={query:{where:`${e.oidField}>${e.maxId}${i}`,outFields:e.attribs,orderByFields:e.oidField,returnGeometry:"false",f:"json"}},[s,o]=await ks(vn(e.serviceUrl+"/query",r));if(!o)return console.error(`ArcGIS batch load error: ${e.serviceUrl}`,s),Promise.reject(new Error(`ArcGIS batch load error: ${e.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){n.loadedCount+=l;let c;if(e.supportsLimit?c=o.data.exceededTransferLimit:(e.batchSize===-1&&(e.batchSize=l),c=l>=e.batchSize),a=this.trimFeatureSetAttributes(a,e.fieldsToTrim??[]),c){e.maxId=a[l-1].attributes[e.oidField];const p=await this.arcGisBatchLoad(e,n);return n.loadAbortFlag?[]:a.concat(p)}else return n.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(e,n){e.maxId=-1,e.batchSize=-1;const i={features:(await this.arcGisBatchLoad(e,n)).map(r=>r.attributes),oidIndex:{}};return this.oidIndexer(i,e.oidField),n.loadIsDone=!0,i}async loadGraphicsAttributes(e,n){if(!e.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const i={features:e.sourceGraphics.map(r=>Dt(r).attributes).toArray(),oidIndex:{}};return this.oidIndexer(i,e.oidField),n.loadIsDone=!0,n.loadedCount=i.features.length,i}async loadCompactJsonAttributes(e,n){if(!e.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const i=e.sourceDataJson.fields,r=e.fieldsToTrim??[],s={features:e.sourceDataJson.data.map(o=>{const a={};return o.forEach((l,c)=>{a[i[c]]=typeof l=="string"&&r.includes(i[c])?l.trim():l}),a}),oidIndex:{}};return this.oidIndexer(s,e.oidField),n.loadIsDone=!0,n.loadedCount=s.features.length,e.sourceDataJson=void 0,s}async loadSingleFeature(e){const n={query:{f:"json",objectIds:e.oid,returnGeometry:e.includeGeometry,outFields:e.attribs}};typeof e.maxOffset<"u"&&(n.query.maxAllowableOffset=e.maxOffset),typeof e.mapSR<"u"&&(n.query.outSR=e.mapSR),typeof e.geometryPrecision<"u"&&e.geometryPrecision>=0&&(n.query.geometryPrecision=e.geometryPrecision);const[i,r]=await ks(vn(e.serviceUrl+"/query",n));if(!r)return console.error(`ArcGIS single feature load error: ${e.serviceUrl}`,i),Promise.reject(new Error(`ArcGIS single feature load error: ${e.serviceUrl}`));if(!r.data||!r.data.features)return console.error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`));const s=r.data.features;if(s.length>0){let o;const a=this.trimFeatureSetAttributes([s[0]],e.fieldsToTrim??[])[0];if(e.includeGeometry){a.geometry.spatialReference=r.data.spatialReference;const l=wg(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new Cl;return new Jr(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`))}trimFeatureSetAttributes(e,n){return n.forEach(i=>{e.forEach(r=>{typeof r.attributes[i]=="string"&&(r.attributes[i]=r.attributes[i].trim())})}),e}orderFields(e,n){const i=(s,o)=>s.findIndex(a=>a.name===o),r=(s,o)=>{const a=i(n,s.name),l=i(n,o.name);return a===-1&&l===-1?i(e,s.name)-i(e,o.name):a===-1?1:l===-1?-1:a-l};return e.slice().sort(r)}applyFieldMetadata(e,n=void 0){if(!n||!n.fieldInfo){e.fieldList="*";return}const i=n.fieldInfo.filter(r=>r.trim).map(r=>r.name);if(e.fields.forEach(r=>{i.includes(r.name)&&(r.trim=!0)}),n?.enforceOrder&&n?.fieldInfo&&n?.fieldInfo.length>0&&(e.fields=this.orderFields(e.fields,n.fieldInfo),e.fieldList=n.fieldInfo.map(r=>r.name).join(",")),n.exclusiveFields){n.fieldInfo.find(s=>s.name===e.oidField)||n.fieldInfo.push({name:e.oidField}),e.fieldList=n.fieldInfo.map(s=>s.name).join(",");const r=n.fieldInfo;e.fields=e.fields.filter(s=>r.find(o=>o.name===s.name))}else e.fieldList="*";n.fieldInfo.forEach(r=>{if(r.alias){const s=e.fields.find(o=>o.name===r.name);s&&(s.alias=r.alias)}})}fieldValidator(e,n){if(e.findIndex(i=>i.name===n)===-1){const i=e.find(r=>r.alias===n);return i?i.name:(console.warn(`Cannot find name field in layer field list: ${n}`),"")}else return n}async generateTabularAttributes(e,n){return n.attLoader.tabularAttributesCache||(n.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(e,n)),n.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(e,n){if(e.dataFormat===si.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const i=await n.attLoader.getAttribs();if(!i.features||i.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const r=e.fields.filter(o=>Object.prototype.hasOwnProperty.call(i.features[0],Dt(o).name)).map(o=>({data:Dt(o).name,title:Dt(o).alias||Dt(o).name})),s=i.features.map(o=>{const a=MS({},o);return a.rvInteractive="",a.rvSymbol=e.getIcon(o[e.oidField]),a.rvUid=e.uid,a});return r.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);s.forEach(c=>{c[l]=a})}}),{columns:r,rows:s,fields:e.fields,oidField:e.oidField}}fieldTypeToArcade(e){return ZEt.get(e)}}class oz{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(e){this._attribLoader=e}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(e){this._quickCache=e}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class az{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class PT extends An{aac;loadPromise;details;tabularAttributesCache;constructor(e,n){super(e),this.aac=new az,this.details=n}updateFieldList(e){this.details.attribs=e}updateFieldsToTrim(e){this.details.fieldsToTrim=e}getAttribs(){return this.loadPromise||(this.aac=new az,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class lz extends PT{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class XEt extends PT{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class KEt extends PT{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class cz{attribs;geoms;extents;isPoint;constructor(e){this.attribs={},this.geoms={},this.extents={},this.isPoint=e===qt.POINT||e===qt.MULTIPOINT}getScaleStore(e){return this.geoms[e]||(this.geoms[e]={}),this.geoms[e]}getGeomStore(e=void 0){if(this.isPoint)return this.geoms;if(typeof e>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(e)}getAttribs(e){return this.attribs[e]}setAttribs(e,n){this.attribs[e]=n}getGeom(e,n=void 0){return this.getGeomStore(n)[e]}setGeom(e,n,i=void 0){const r=this.getGeomStore(i);r[e]=n}getExtent(e){return this.extents[e]}setExtent(e,n){this.extents[e]=n}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class DT{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(e,n,i=!1){this.innerRenderer=e,this.symbolUnits=[],this.falseRenderer=i,this.type=iy.Unknown}makeSearchParams(e){return e}searchRenderer(e){const n=this.makeSearchParams(e),i=this.symbolUnits.find(s=>s.match(n));if(i)return i;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${n}`);const r=new V2(this);return r.svgCode="",r}getGraphicIcon(e){return this.searchRenderer(e).svgCode}getGraphicSymbol(e){return this.searchRenderer(e).symbol}getFieldDelimiter(e,n){let i="'";if(!n||n.length===0)return i;const r=n.find(s=>s.name===e);return r&&r.type&&r.type!=="string"&&(i=""),i}cleanFieldName(e,n){if(!e)return e;let i=n.find(r=>r.name===e);if(i)return e;{const r=e.toLowerCase();return i=n.find(s=>s.name.toLowerCase()===r),i?i.name:e}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(e=>e.definitionClause).join(" OR ")}))`}}class V2{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(e){this.parent=e,this.symbol=new Vn}match(e){return!!e}}class QEt extends DT{constructor(e,n){super(e,n),this.type=iy.Simple;const i=new V2(this);i.label=e.label||"",i.symbol=e.symbol,i.definitionClause="",this.symbolUnits.push(i)}}class tSt extends DT{delim;keyFields;constructor(e,n,i=!1){super(e,n,i),this.type=iy.Unique,this.delim=e.fieldDelimiter||", ";const r=o=>o.replace(/'/g,"''");this.keyFields=[e.field,e.field2,e.field3].filter(o=>o).map(o=>this.cleanFieldName(o,n));const s=this.keyFields.map(o=>this.getFieldDelimiter(o,n));if(e.uniqueValueInfos.forEach(o=>{const a=new uz(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((p,d)=>l[d]==="<Null>"?`${p} IS NULL`:`${p} = ${s[d]}${r(l[d])}${s[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),e.defaultSymbol){const o=new uz(this,"");o.isDefault=!0,o.label=e.defaultLabel||"",o.symbol=e.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(e){return this.keyFields.map(n=>{let i=e[n]===null?"":e[n];return typeof i!="string"&&(i=i.toString()),i}).join(this.delim)}}class uz extends V2{matchValue;constructor(e,n){super(e),typeof n=="number"?this.matchValue=n.toString():this.matchValue=n}match(e){return this.matchValue===e}}class eSt extends DT{valField;constructor(e,n,i=!1){if(super(e,n,i),this.valField=this.cleanFieldName(e.field,n),e.classBreakInfos.forEach((r,s)=>{const o=s===0,a=new hz(this,r.minValue,r.maxValue,o);a.label=r.label||"",a.symbol=r.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${r.minValue} AND ${this.valField} <= ${r.maxValue})`),this.symbolUnits.push(a)}),e.defaultSymbol){const r=new hz(this,0,0,!1);r.isDefault=!0,r.label=e.defaultLabel||"",r.symbol=e.defaultSymbol,r.definitionClause=this.makeElseClause(),this.defaultUnit=r}}makeSearchParams(e){return parseFloat(e[this.valField])}}class hz extends V2{minValue;maxValue;firstBreak;constructor(e,n,i,r){super(e),this.minValue=n,this.maxValue=i,this.firstBreak=r}match(e){return this.minValue===this.maxValue?this.maxValue===e:this.firstBreak?this.minValue<=e&&this.maxValue>=e:this.minValue<e&&this.maxValue>=e}}var jT={exports:{}},nSt=jT.exports,pz;function iSt(){return pz||(pz=1,function(t,e){(function(n,i){t.exports=n.document?i(n,n.document):function(r){return i(r,r.document)}})(typeof window<"u"?window:nSt,function(n,i){var r=typeof this<"u"?this:n,s=r.SVG=function(u){if(s.supported)return u=new s.Doc(u),s.parser.draw||s.prepare(),u};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.com/svgjs",s.supported=function(){return!!i.createElementNS&&!!i.createElementNS(s.ns,"svg").createSVGRect}(),!s.supported)return!1;s.did=1e3,s.eid=function(u){return"Svgjs"+x(u)+s.did++},s.create=function(u){var m=i.createElementNS(this.ns,u);return m.setAttribute("id",this.eid(u)),m},s.extend=function(){var u,m,S,C;for(u=[].slice.call(arguments),m=u.pop(),C=u.length-1;C>=0;C--)if(u[C])for(S in m)u[C].prototype[S]=m[S];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(u){var m=typeof u.create=="function"?u.create:function(){this.constructor.call(this,s.create(u.create))};return u.inherit&&(m.prototype=new u.inherit),u.extend&&s.extend(m,u.extend),u.construct&&s.extend(u.parent||s.Container,u.construct),m},s.adopt=function(u){if(!u)return null;if(u.instance)return u.instance;var m;return u.nodeName=="svg"?m=u.parentNode instanceof n.SVGElement?new s.Nested:new s.Doc:u.nodeName=="linearGradient"?m=new s.Gradient("linear"):u.nodeName=="radialGradient"?m=new s.Gradient("radial"):s[x(u.nodeName)]?m=new s[x(u.nodeName)]:m=new s.Element(u),m.type=u.nodeName,m.node=u,u.instance=m,m instanceof s.Doc&&m.namespace().defs(),m.setData(JSON.parse(u.getAttribute("svgjs:data"))||{}),m},s.prepare=function(){var u=i.getElementsByTagName("body")[0],m=(u?new s.Doc(u):s.adopt(i.documentElement).nested()).size(2,0);s.parser={body:u||i.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},i.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(u,m){var S,C=u.length,V=[];for(S=0;S<C;S++)V.push(m(u[S]));return V},filter:function(u,m){var S,C=u.length,V=[];for(S=0;S<C;S++)m(u[S])&&V.push(u[S]);return V},radians:function(u){return u%360*Math.PI/180},degrees:function(u){return u*180/Math.PI%360},filterSVGElements:function(u){return this.filter(u,function(m){return m instanceof n.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(u){var m;this.r=0,this.g=0,this.b=0,u&&(typeof u=="string"?s.regex.isRgb.test(u)?(m=s.regex.rgb.exec(u.replace(s.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):s.regex.isHex.test(u)&&(m=s.regex.hex.exec(A(u)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof u=="object"&&(this.r=u.r,this.g=u.g,this.b=u.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+M(this.r)+M(this.g)+M(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(u){return this.destination=new s.Color(u),this},at:function(u){return this.destination?(u=u<0?0:u>1?1:u,new s.Color({r:~~(this.r+(this.destination.r-this.r)*u),g:~~(this.g+(this.destination.g-this.g)*u),b:~~(this.b+(this.destination.b-this.b)*u)})):this}}),s.Color.test=function(u){return u+="",s.regex.isHex.test(u)||s.regex.isRgb.test(u)},s.Color.isRgb=function(u){return u&&typeof u.r=="number"&&typeof u.g=="number"&&typeof u.b=="number"},s.Color.isColor=function(u){return s.Color.isRgb(u)||s.Color.test(u)},s.Array=function(u,m){u=(u||[]).valueOf(),u.length==0&&m&&(u=m.valueOf()),this.value=this.parse(u)},s.extend(s.Array,{morph:function(u){if(this.destination=this.parse(u),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],S=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(S);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var u=0,m=this.value.length,S=[];u<m;u++)S.indexOf(this.value[u])==-1&&S.push(this.value[u]);return this.value=S},at:function(u){if(!this.destination)return this;for(var m=0,S=this.value.length,C=[];m<S;m++)C.push(this.value[m]+(this.destination[m]-this.value[m])*u);return new s.Array(C)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(u){return u=u.valueOf(),Array.isArray(u)?u:this.split(u)},split:function(u){return u.trim().split(s.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var u=new this.constructor;return u.value=f(this.value),u}}),s.PointArray=function(u,m){s.Array.call(this,u,m||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray,s.extend(s.PointArray,{toString:function(){for(var u=0,m=this.value.length,S=[];u<m;u++)S.push(this.value[u].join(","));return S.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(u){if(!this.destination)return this;for(var m=0,S=this.value.length,C=[];m<S;m++)C.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*u,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*u]);return new s.PointArray(C)},parse:function(u){var m=[];if(u=u.valueOf(),Array.isArray(u)){if(Array.isArray(u[0]))return u.map(function(V){return V.slice()});if(u[0].x!=null)return u.map(function(V){return[V.x,V.y]})}else u=u.trim().split(s.regex.delimiter).map(parseFloat);u.length%2!==0&&u.pop();for(var S=0,C=u.length;S<C;S=S+2)m.push([u[S],u[S+1]]);return m},move:function(u,m){var S=this.bbox();if(u-=S.x,m-=S.y,!isNaN(u)&&!isNaN(m))for(var C=this.value.length-1;C>=0;C--)this.value[C]=[this.value[C][0]+u,this.value[C][1]+m];return this},size:function(u,m){var S,C=this.bbox();for(S=this.value.length-1;S>=0;S--)C.width&&(this.value[S][0]=(this.value[S][0]-C.x)*u/C.width+C.x),C.height&&(this.value[S][1]=(this.value[S][1]-C.y)*m/C.height+C.y);return this},bbox:function(){return s.parser.poly.setAttribute("points",this.toString()),s.parser.poly.getBBox()}});for(var o={M:function(u,m,S){return m.x=S.x=u[0],m.y=S.y=u[1],["M",m.x,m.y]},L:function(u,m){return m.x=u[0],m.y=u[1],["L",u[0],u[1]]},H:function(u,m){return m.x=u[0],["H",u[0]]},V:function(u,m){return m.y=u[0],["V",u[0]]},C:function(u,m){return m.x=u[4],m.y=u[5],["C",u[0],u[1],u[2],u[3],u[4],u[5]]},S:function(u,m){return m.x=u[2],m.y=u[3],["S",u[0],u[1],u[2],u[3]]},Q:function(u,m){return m.x=u[2],m.y=u[3],["Q",u[0],u[1],u[2],u[3]]},T:function(u,m){return m.x=u[0],m.y=u[1],["T",u[0],u[1]]},Z:function(u,m,S){return m.x=S.x,m.y=S.y,["Z"]},A:function(u,m){return m.x=u[5],m.y=u[6],["A",u[0],u[1],u[2],u[3],u[4],u[5],u[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(u){return function(m,S,C){if(u=="H")m[0]=m[0]+S.x;else if(u=="V")m[0]=m[0]+S.y;else if(u=="A")m[5]=m[5]+S.x,m[6]=m[6]+S.y;else for(var V=0,Z=m.length;V<Z;++V)m[V]=m[V]+(V%2?S.y:S.x);return o[u](m,S,C)}}(a[l].toUpperCase());s.PathArray=function(u,m){s.Array.call(this,u,m||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return k(this.value)},move:function(u,m){var S=this.bbox();if(u-=S.x,m-=S.y,!isNaN(u)&&!isNaN(m))for(var C,V=this.value.length-1;V>=0;V--)C=this.value[V][0],C=="M"||C=="L"||C=="T"?(this.value[V][1]+=u,this.value[V][2]+=m):C=="H"?this.value[V][1]+=u:C=="V"?this.value[V][1]+=m:C=="C"||C=="S"||C=="Q"?(this.value[V][1]+=u,this.value[V][2]+=m,this.value[V][3]+=u,this.value[V][4]+=m,C=="C"&&(this.value[V][5]+=u,this.value[V][6]+=m)):C=="A"&&(this.value[V][6]+=u,this.value[V][7]+=m);return this},size:function(u,m){var S,C,V=this.bbox();for(S=this.value.length-1;S>=0;S--)C=this.value[S][0],C=="M"||C=="L"||C=="T"?(this.value[S][1]=(this.value[S][1]-V.x)*u/V.width+V.x,this.value[S][2]=(this.value[S][2]-V.y)*m/V.height+V.y):C=="H"?this.value[S][1]=(this.value[S][1]-V.x)*u/V.width+V.x:C=="V"?this.value[S][1]=(this.value[S][1]-V.y)*m/V.height+V.y:C=="C"||C=="S"||C=="Q"?(this.value[S][1]=(this.value[S][1]-V.x)*u/V.width+V.x,this.value[S][2]=(this.value[S][2]-V.y)*m/V.height+V.y,this.value[S][3]=(this.value[S][3]-V.x)*u/V.width+V.x,this.value[S][4]=(this.value[S][4]-V.y)*m/V.height+V.y,C=="C"&&(this.value[S][5]=(this.value[S][5]-V.x)*u/V.width+V.x,this.value[S][6]=(this.value[S][6]-V.y)*m/V.height+V.y)):C=="A"&&(this.value[S][1]=this.value[S][1]*u/V.width,this.value[S][2]=this.value[S][2]*m/V.height,this.value[S][6]=(this.value[S][6]-V.x)*u/V.width+V.x,this.value[S][7]=(this.value[S][7]-V.y)*m/V.height+V.y);return this},equalCommands:function(u){var m,S,C;for(u=new s.PathArray(u),C=this.value.length===u.value.length,m=0,S=this.value.length;C&&m<S;m++)C=this.value[m][0]===u.value[m][0];return C},morph:function(u){return u=new s.PathArray(u),this.equalCommands(u)?this.destination=u:this.destination=null,this},at:function(u){if(!this.destination)return this;var m=this.value,S=this.destination.value,C=[],V=new s.PathArray,Z,ft,lt,At;for(Z=0,ft=m.length;Z<ft;Z++){for(C[Z]=[m[Z][0]],lt=1,At=m[Z].length;lt<At;lt++)C[Z][lt]=m[Z][lt]+(S[Z][lt]-m[Z][lt])*u;C[Z][0]==="A"&&(C[Z][4]=+(C[Z][4]!=0),C[Z][5]=+(C[Z][5]!=0))}return V.value=C,V},parse:function(u){if(u instanceof s.PathArray)return u.valueOf();var m,C,S={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof u=="string"?u=u.replace(s.regex.numbersWithDots,d).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):u=u.reduce(function(At,Pt){return[].concat.call(At,Pt)},[]);var C=[],V=new s.Point,Z=new s.Point,ft=0,lt=u.length;do s.regex.isPathLetter.test(u[ft])?(m=u[ft],++ft):m=="M"?m="L":m=="m"&&(m="l"),C.push(o[m].call(null,u.slice(ft,ft=ft+S[m.toUpperCase()]).map(parseFloat),V,Z));while(lt>ft);return C},bbox:function(){return s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(u,m){this.value=0,this.unit=m||"",typeof u=="number"?this.value=isNaN(u)?0:isFinite(u)?u:u<0?-34e37:34e37:typeof u=="string"?(m=u.match(s.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):u instanceof s.Number&&(this.value=u.valueOf(),this.unit=u.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(u){return u=new s.Number(u),new s.Number(this+u,this.unit||u.unit)},minus:function(u){return u=new s.Number(u),new s.Number(this-u,this.unit||u.unit)},times:function(u){return u=new s.Number(u),new s.Number(this*u,this.unit||u.unit)},divide:function(u){return u=new s.Number(u),new s.Number(this/u,this.unit||u.unit)},to:function(u){var m=new s.Number(this);return typeof u=="string"&&(m.unit=u),m},morph:function(u){return this.destination=new s.Number(u),u.relative&&(this.destination.value+=this.value),this},at:function(u){return this.destination?new s.Number(this.destination).minus(this).times(u).plus(this):this}}}),s.Element=s.invent({create:function(u){this._stroke=s.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=u)&&(this.type=u.nodeName,this.node.instance=this,this._events=u._events||{},this._stroke=u.getAttribute("stroke")||this._stroke)},extend:{x:function(u){return this.attr("x",u)},y:function(u){return this.attr("y",u)},cx:function(u){return u==null?this.x()+this.width()/2:this.x(u-this.width()/2)},cy:function(u){return u==null?this.y()+this.height()/2:this.y(u-this.height()/2)},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},width:function(u){return this.attr("width",u)},height:function(u){return this.attr("height",u)},size:function(u,m){var S=_(this,u,m);return this.width(new s.Number(S.width)).height(new s.Number(S.height))},clone:function(u){this.writeDataToDom();var m=R(this.node.cloneNode(!0));return u?u.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(u){return this.after(u).remove(),u},addTo:function(u){return u.put(this)},putIn:function(u){return u.add(this)},id:function(u){return this.attr("id",u)},inside:function(u,m){var S=this.bbox();return u>S.x&&m>S.y&&u<S.x+S.width&&m<S.y+S.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var u=this.attr("class");return u==null?[]:u.trim().split(s.regex.delimiter)},hasClass:function(u){return this.classes().indexOf(u)!=-1},addClass:function(u){if(!this.hasClass(u)){var m=this.classes();m.push(u),this.attr("class",m.join(" "))}return this},removeClass:function(u){return this.hasClass(u)&&this.attr("class",this.classes().filter(function(m){return m!=u}).join(" ")),this},toggleClass:function(u){return this.hasClass(u)?this.removeClass(u):this.addClass(u)},reference:function(u){return s.get(this.attr(u))},parent:function(u){var m=this;if(!m.node.parentNode)return null;if(m=s.adopt(m.node.parentNode),!u)return m;for(;m&&m.node instanceof n.SVGElement;){if(typeof u=="string"?m.matches(u):m instanceof u)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=s.adopt(m.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(u){var m=[],S=this;do{if(S=S.parent(u),!S||!S.node)break;m.push(S)}while(S.parent);return m},matches:function(u){return g(this.node,u)},native:function(){return this.node},svg:function(u){var m=i.createElement("svg");if(u&&this instanceof s.Parent){m.innerHTML="<svg>"+u.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var S=0,C=m.firstChild.childNodes.length;S<C;S++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(u=i.createElement("svg")),this.writeDataToDom(),u.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var u=this.each?this:this.lines();u.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(u){return this.dom=u,this},is:function(u){return y(this,u)}}}),s.easing={"-":function(u){return u},"<>":function(u){return-Math.cos(u*Math.PI)/2+.5},">":function(u){return Math.sin(u*Math.PI/2)},"<":function(u){return-Math.cos(u*Math.PI/2)+1}},s.morph=function(u){return function(m,S){return new s.MorphObj(m,S).at(u)}},s.Situation=s.invent({create:function(u){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(u.duration).valueOf(),this.delay=new s.Number(u.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=u.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(u){this._target=u,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(u,m,S){typeof u=="object"&&(m=u.ease,S=u.delay,u=u.duration);var C=new s.Situation({duration:u||1e3,delay:S||0,ease:s.easing[m||"-"]||m});return this.queue(C),this},delay:function(u){var m=new s.Situation({duration:u,delay:0,ease:s.easing["-"]});return this.queue(m)},target:function(u){return u&&u instanceof s.Element?(this._target=u,this):this._target},timeToAbsPos:function(u){return(u-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(u){return this.situation.duration/this._speed*u+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=n.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){n.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(u){return(typeof u=="function"||u instanceof s.Situation)&&this.situations.push(u),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var u,m,S,C=this.situation;if(C.init)return this;for(u in C.animations)for(S=this.target()[u](),Array.isArray(S)||(S=[S]),Array.isArray(C.animations[u])||(C.animations[u]=[C.animations[u]]),m=S.length;m--;)C.animations[u][m]instanceof s.Number&&(S[m]=new s.Number(S[m])),C.animations[u][m]=S[m].morph(C.animations[u][m]);for(u in C.attrs)C.attrs[u]=new s.MorphObj(this.target().attr(u),C.attrs[u]);for(u in C.styles)C.styles[u]=new s.MorphObj(this.target().style(u),C.styles[u]);return C.initialTransformation=this.target().matrixify(),C.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(u,m){var S=this.active;return this.active=!1,m&&this.clearQueue(),u&&this.situation&&(!S&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var u=this.situation;this.stop(),this.situation=u,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(u,m){var S=this.situation.duration/this._speed;return this.absPos=u,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*S,this.situation.finish=this.situation.start+S,this.step(!0)},speed:function(u){return u===0?this.pause():u?(this._speed=u,this.at(this.absPos,!0)):this._speed},loop:function(u,m){var S=this.last();return S.loops=u??!0,S.loop=0,m&&(S.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(u){var m=this.last();return typeof u>"u"?m.reversed=!m.reversed:m.reversed=u,this},progress:function(u){return u?this.situation.ease(this.pos):this.pos},after:function(u){var m=this.last(),S=function C(V){V.detail.situation==m&&(u.call(this,m),this.off("finished.fx",C))};return this.target().on("finished.fx",S),this._callStart()},during:function(u){var m=this.last(),S=function(C){C.detail.situation==m&&u.call(this,C.detail.pos,s.morph(C.detail.pos),C.detail.eased,m)};return this.target().off("during.fx",S).on("during.fx",S),this.after(function(){this.off("during.fx",S)}),this._callStart()},afterAll:function(u){var m=function S(C){u.call(this),this.off("allfinished.fx",S)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(u){var m=function(S){u.call(this,S.detail.pos,s.morph(S.detail.pos),S.detail.eased,S.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(u,m,S){return this.last()[S||"animations"][u]=m,this._callStart()},step:function(u){if(u||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,S,C;m=Math.max(this.absPos,0),S=Math.floor(m),this.situation.loops===!0||S<this.situation.loops?(this.pos=m-S,C=this.situation.loop,this.situation.loop=S):(this.absPos=this.situation.loops,this.pos=1,C=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-C)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var V=this.situation.ease(this.pos);for(var Z in this.situation.once)Z>this.lastPos&&Z<=V&&(this.situation.once[Z].call(this.target(),this.pos,V),delete this.situation.once[Z]);return this.active&&this.target().fire("during",{pos:this.pos,eased:V,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=V,this):this},eachAt:function(){var u,m,S,C=this,V=this.target(),Z=this.situation;for(u in Z.animations)S=[].concat(Z.animations[u]).map(function(lt){return typeof lt!="string"&&lt.at?lt.at(Z.ease(C.pos),C.pos):lt}),V[u].apply(V,S);for(u in Z.attrs)S=[u].concat(Z.attrs[u]).map(function(lt){return typeof lt!="string"&&lt.at?lt.at(Z.ease(C.pos),C.pos):lt}),V.attr.apply(V,S);for(u in Z.styles)S=[u].concat(Z.styles[u]).map(function(lt){return typeof lt!="string"&&lt.at?lt.at(Z.ease(C.pos),C.pos):lt}),V.style.apply(V,S);if(Z.transforms.length){for(S=Z.initialTransformation,u=0,m=Z.transforms.length;u<m;u++){var ft=Z.transforms[u];if(ft instanceof s.Matrix){ft.relative?S=S.multiply(new s.Matrix().morph(ft).at(Z.ease(this.pos))):S=S.morph(ft).at(Z.ease(this.pos));continue}ft.relative||ft.undo(S.extract()),S=S.multiply(ft.at(Z.ease(this.pos)))}V.matrix(S)}return this},once:function(u,m,S){var C=this.last();return S||(u=C.ease(u)),C.once[u]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:s.Element,construct:{animate:function(u,m,S){return(this.fx||(this.fx=new s.FX(this))).animate(u,m,S)},delay:function(u){return(this.fx||(this.fx=new s.FX(this))).delay(u)},stop:function(u,m){return this.fx&&this.fx.stop(u,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(u){if(this.fx){if(u==null)return this.fx.speed();this.fx.speed(u)}return this}}}),s.MorphObj=s.invent({create:function(u,m){if(s.Color.isColor(m))return new s.Color(u).morph(m);if(s.regex.delimiter.test(u))return s.regex.pathLetters.test(u)?new s.PathArray(u).morph(m):new s.Array(u).morph(m);if(s.regex.numberAndUnit.test(m))return new s.Number(u).morph(m);this.value=u,this.destination=m},extend:{at:function(u,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(u,m,S){if(typeof u=="object")for(var C in u)this.attr(C,u[C]);else this.add(u,m,"attrs");return this},style:function(u,m){if(typeof u=="object")for(var S in u)this.style(S,u[S]);else this.add(u,m,"styles");return this},x:function(u,m){if(this.target()instanceof s.G)return this.transform({x:u},m),this;var S=new s.Number(u);return S.relative=m,this.add("x",S)},y:function(u,m){if(this.target()instanceof s.G)return this.transform({y:u},m),this;var S=new s.Number(u);return S.relative=m,this.add("y",S)},cx:function(u){return this.add("cx",new s.Number(u))},cy:function(u){return this.add("cy",new s.Number(u))},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},size:function(u,m){if(this.target()instanceof s.Text)this.attr("font-size",u);else{var S;(!u||!m)&&(S=this.target().bbox()),u||(u=S.width/S.height*m),m||(m=S.height/S.width*u),this.add("width",new s.Number(u)).add("height",new s.Number(m))}return this},width:function(u){return this.add("width",new s.Number(u))},height:function(u){return this.add("height",new s.Number(u))},plot:function(u,m,S,C){return arguments.length==4?this.plot([u,m,S,C]):this.add("plot",new(this.target()).morphArray(u))},leading:function(u){return this.target().leading?this.add("leading",new s.Number(u)):this},viewbox:function(u,m,S,C){return this.target()instanceof s.Container&&this.add("viewbox",new s.ViewBox(u,m,S,C)),this},update:function(u){if(this.target()instanceof s.Stop){if(typeof u=="number"||u instanceof s.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",u.offset)}return this}}),s.Box=s.invent({create:function(u,m,S,C){if(typeof u=="object"&&!(u instanceof s.Element))return s.Box.call(this,u.left!=null?u.left:u.x,u.top!=null?u.top:u.y,u.width,u.height);arguments.length==4&&(this.x=u,this.y=m,this.width=S,this.height=C),j(this)},extend:{merge:function(u){var m=new this.constructor;return m.x=Math.min(this.x,u.x),m.y=Math.min(this.y,u.y),m.width=Math.max(this.x+this.width,u.x+u.width)-m.x,m.height=Math.max(this.y+this.height,u.y+u.height)-m.y,j(m)},transform:function(u){var m=1/0,S=-1/0,C=1/0,V=-1/0,Z,ft=[new s.Point(this.x,this.y),new s.Point(this.x2,this.y),new s.Point(this.x,this.y2),new s.Point(this.x2,this.y2)];return ft.forEach(function(lt){lt=lt.transform(u),m=Math.min(m,lt.x),S=Math.max(S,lt.x),C=Math.min(C,lt.y),V=Math.max(V,lt.y)}),Z=new this.constructor,Z.x=m,Z.width=S-m,Z.y=C,Z.height=V-C,j(Z),Z}}}),s.BBox=s.invent({create:function(u){if(s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element){var m;try{if(i.documentElement.contains){if(!i.documentElement.contains(u.node))throw new Exception("Element not in the dom")}else{for(var S=u.node;S.parentNode;)S=S.parentNode;if(S!=i)throw new Exception("Element not in the dom")}m=u.node.getBBox()}catch{if(u instanceof s.Shape){var C=u.clone(s.parser.draw.instance).show();m=C.node.getBBox(),C.remove()}else m={x:u.node.clientLeft,y:u.node.clientTop,width:u.node.clientWidth,height:u.node.clientHeight}}s.Box.call(this,m)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.extend(s.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),s.RBox=s.invent({create:function(u){s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element&&s.Box.call(this,u.node.getBoundingClientRect())},inherit:s.Box,parent:s.Element,extend:{addOffset:function(){return this.x+=n.pageXOffset,this.y+=n.pageYOffset,this}},construct:{rbox:function(u){return u?new s.RBox(this).transform(u.screenCTM().inverse()):new s.RBox(this).addOffset()}}}),s.RBox.prototype.constructor=s.RBox,s.Matrix=s.invent({create:function(u){var m,S=T([1,0,0,1,0,0]);for(u=u instanceof s.Element?u.matrixify():typeof u=="string"?T(u.split(s.regex.delimiter).map(parseFloat)):arguments.length==6?T([].slice.call(arguments)):Array.isArray(u)?T(u):typeof u=="object"?u:S,m=U.length-1;m>=0;--m)this[U[m]]=u[U[m]]!=null?u[U[m]]:S[U[m]]},extend:{extract:function(){var u=w(this,0,1),m=w(this,1,0),S=180/Math.PI*Math.atan2(u.y,u.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(S*Math.PI/180)+this.f*Math.sin(S*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(S*Math.PI/180)+this.e*Math.sin(-S*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-S,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:S,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(u){return this.destination=new s.Matrix(u),this},at:function(u){if(!this.destination)return this;var m=new s.Matrix({a:this.a+(this.destination.a-this.a)*u,b:this.b+(this.destination.b-this.b)*u,c:this.c+(this.destination.c-this.c)*u,d:this.d+(this.destination.d-this.d)*u,e:this.e+(this.destination.e-this.e)*u,f:this.f+(this.destination.f-this.f)*u});return m},multiply:function(u){return new s.Matrix(this.native().multiply(I(u).native()))},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(u,m){return new s.Matrix(this.native().translate(u||0,m||0))},scale:function(u,m,S,C){return arguments.length==1?m=u:arguments.length==3&&(C=S,S=m,m=u),this.around(S,C,new s.Matrix(u,0,0,m,0,0))},rotate:function(u,m,S){return u=s.utils.radians(u),this.around(m,S,new s.Matrix(Math.cos(u),Math.sin(u),-Math.sin(u),Math.cos(u),0,0))},flip:function(u,m){return u=="x"?this.scale(-1,1,m,0):u=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,u,m??u)},skew:function(u,m,S,C){return arguments.length==1?m=u:arguments.length==3&&(C=S,S=m,m=u),u=s.utils.radians(u),m=s.utils.radians(m),this.around(S,C,new s.Matrix(1,Math.tan(m),Math.tan(u),1,0,0))},skewX:function(u,m,S){return this.skew(u,0,m,S)},skewY:function(u,m,S){return this.skew(0,u,m,S)},around:function(u,m,S){return this.multiply(new s.Matrix(1,0,0,1,u||0,m||0)).multiply(S).multiply(new s.Matrix(1,0,0,1,-u||0,-m||0))},native:function(){for(var u=s.parser.native.createSVGMatrix(),m=U.length-1;m>=0;m--)u[U[m]]=this[U[m]];return u},toString:function(){return"matrix("+F(this.a)+","+F(this.b)+","+F(this.c)+","+F(this.d)+","+F(this.e)+","+F(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var u=this.rect(1,1),m=u.node.getScreenCTM();return u.remove(),new s.Matrix(m)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(u,m){var S,C={x:0,y:0};S=Array.isArray(u)?{x:u[0],y:u[1]}:typeof u=="object"?{x:u.x,y:u.y}:u!=null?{x:u,y:m??u}:C,this.x=S.x,this.y=S.y},extend:{clone:function(){return new s.Point(this)},morph:function(u,m){return this.destination=new s.Point(u,m),this},at:function(u){if(!this.destination)return this;var m=new s.Point({x:this.x+(this.destination.x-this.x)*u,y:this.y+(this.destination.y-this.y)*u});return m},native:function(){var u=s.parser.native.createSVGPoint();return u.x=this.x,u.y=this.y,u},transform:function(u){return new s.Point(this.native().matrixTransform(u.native()))}}}),s.extend(s.Element,{point:function(u,m){return new s.Point(u,m).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(u,m,S){if(u==null){for(u={},m=this.node.attributes,S=m.length-1;S>=0;S--)u[m[S].nodeName]=s.regex.isNumber.test(m[S].nodeValue)?parseFloat(m[S].nodeValue):m[S].nodeValue;return u}else if(typeof u=="object")for(m in u)this.attr(m,u[m]);else if(m===null)this.node.removeAttribute(u);else{if(m==null)return m=this.node.getAttribute(u),m==null?s.defaults.attrs[u]:s.regex.isNumber.test(m)?parseFloat(m):m;u=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):u=="stroke"&&(this._stroke=m),(u=="fill"||u=="stroke")&&(s.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof s.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new s.Number(m):s.Color.isColor(m)?m=new s.Color(m):Array.isArray(m)&&(m=new s.Array(m)),u=="leading"?this.leading&&this.leading(m):typeof S=="string"?this.node.setAttributeNS(S,u,m.toString()):this.node.setAttribute(u,m.toString()),this.rebuild&&(u=="font-size"||u=="x")&&this.rebuild(u,m)}return this}}),s.extend(s.Element,{transform:function(u,m){var S=this,C,V;if(typeof u!="object")return C=new s.Matrix(S).extract(),typeof u=="string"?C[u]:C;if(C=new s.Matrix(S),m=!!m||!!u.relative,u.a!=null)C=m?C.multiply(new s.Matrix(u)):new s.Matrix(u);else if(u.rotation!=null)O(u,S),C=m?C.rotate(u.rotation,u.cx,u.cy):C.rotate(u.rotation-C.extract().rotation,u.cx,u.cy);else if(u.scale!=null||u.scaleX!=null||u.scaleY!=null){if(O(u,S),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,!m){var Z=C.extract();u.scaleX=u.scaleX*1/Z.scaleX,u.scaleY=u.scaleY*1/Z.scaleY}C=C.scale(u.scaleX,u.scaleY,u.cx,u.cy)}else if(u.skew!=null||u.skewX!=null||u.skewY!=null){if(O(u,S),u.skewX=u.skew!=null?u.skew:u.skewX!=null?u.skewX:0,u.skewY=u.skew!=null?u.skew:u.skewY!=null?u.skewY:0,!m){var Z=C.extract();C=C.multiply(new s.Matrix().skew(Z.skewX,Z.skewY,u.cx,u.cy).inverse())}C=C.skew(u.skewX,u.skewY,u.cx,u.cy)}else u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?S.bbox()["c"+u.flip]:u.offset:u.offset==null?(V=S.bbox(),u.flip=V.cx,u.offset=V.cy):u.flip=u.offset,C=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(m?C=C.translate(u.x,u.y):(u.x!=null&&(C.e=u.x),u.y!=null&&(C.f=u.y)));return this.attr("transform",C)}}),s.extend(s.FX,{transform:function(u,m){var S=this.target(),C,V;return typeof u!="object"?(C=new s.Matrix(S).extract(),typeof u=="string"?C[u]:C):(m=!!m||!!u.relative,u.a!=null?C=new s.Matrix(u):u.rotation!=null?(O(u,S),C=new s.Rotate(u.rotation,u.cx,u.cy)):u.scale!=null||u.scaleX!=null||u.scaleY!=null?(O(u,S),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,C=new s.Scale(u.scaleX,u.scaleY,u.cx,u.cy)):u.skewX!=null||u.skewY!=null?(O(u,S),u.skewX=u.skewX!=null?u.skewX:0,u.skewY=u.skewY!=null?u.skewY:0,C=new s.Skew(u.skewX,u.skewY,u.cx,u.cy)):u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?S.bbox()["c"+u.flip]:u.offset:u.offset==null?(V=S.bbox(),u.flip=V.cx,u.offset=V.cy):u.flip=u.offset,C=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(C=new s.Translate(u.x,u.y)),C?(C.relative=m,this.last().transforms.push(C),this._callStart()):this)}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var u=(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(m){var S=m.trim().split("(");return[S[0],S[1].split(s.regex.delimiter).map(function(C){return parseFloat(C)})]}).reduce(function(m,S){return S[0]=="matrix"?m.multiply(T(S[1])):m[S[0]].apply(m,S[1])},new s.Matrix);return u},toParent:function(u){if(this==u)return this;var m=this.screenCTM(),S=u.screenCTM().inverse();return this.addTo(u).untransform().transform(S.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(u,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(u))for(var S=0,C=this.arguments.length;S<C;++S)this[this.arguments[S]]=u[S];else if(typeof u=="object")for(var S=0,C=this.arguments.length;S<C;++S)this[this.arguments[S]]=u[this.arguments[S]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(u){for(var m=[],S=0,C=this.arguments.length;S<C;++S)m.push(this[this.arguments[S]]);var V=this._undo||new s.Matrix;return V=new s.Matrix().morph(s.Matrix.prototype[this.method].apply(V,m)).at(u),this.inversed?V.inverse():V},undo:function(u){for(var m=0,S=this.arguments.length;m<S;++m)u[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:u[this.arguments[m]];return u.cx=this.cx,u.cy=this.cy,this._undo=new s[x(this.method)](u,!0).at(1),this}}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.Rotate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(u){var m=new s.Matrix().rotate(new s.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(u),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(u){return this._undo=u,this}}}),s.Scale=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),s.Skew=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),s.extend(s.Element,{style:function(u,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof u=="object")for(m in u)this.style(m,u[m]);else if(s.regex.isCss.test(u))for(u=u.split(/\s*;\s*/).filter(function(S){return!!S}).map(function(S){return S.split(/\s*:\s*/)});m=u.pop();)this.style(m[0],m[1]);else return this.node.style[b(u)];else this.node.style[b(u)]=m===null||s.regex.isBlank.test(m)?"":m;return this}}),s.Parent=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(u){return s.adopt(u)})},add:function(u,m){return m==null?this.node.appendChild(u.node):u.node!=this.node.childNodes[m]&&this.node.insertBefore(u.node,this.node.childNodes[m]),this},put:function(u,m){return this.add(u,m),u},has:function(u){return this.index(u)>=0},index:function(u){return[].slice.call(this.node.childNodes).indexOf(u.node)},get:function(u){return s.adopt(this.node.childNodes[u])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(u,m){var S,C,V=this.children();for(S=0,C=V.length;S<C;S++)V[S]instanceof s.Element&&u.apply(V[S],[S,V]),m&&V[S]instanceof s.Container&&V[S].each(u,m);return this},removeElement:function(u){return this.node.removeChild(u.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(u,m){return m===0||this instanceof s.Defs||this.node==s.parser.draw?this:(u=u||(this instanceof s.Doc?this:this.parent(s.Parent)),m=m||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(u,m-1):this.toParent(u)}),this.node.firstChild||this.remove(),this)},flatten:function(u,m){return this.ungroup(u,m)}}),s.Container=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Parent}),s.ViewBox=s.invent({create:function(u){var m=[0,0,0,0],S,C,V,Z,ft,lt,At,Pt=1,Ft=1,ye=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(u instanceof s.Element){for(lt=u,At=u,ft=(u.attr("viewBox")||"").match(ye),u.bbox,V=new s.Number(u.width()),Z=new s.Number(u.height());V.unit=="%";)Pt*=V.value,V=new s.Number(lt instanceof s.Doc?lt.parent().offsetWidth:lt.parent().width()),lt=lt.parent();for(;Z.unit=="%";)Ft*=Z.value,Z=new s.Number(At instanceof s.Doc?At.parent().offsetHeight:At.parent().height()),At=At.parent();this.x=0,this.y=0,this.width=V*Pt,this.height=Z*Ft,this.zoom=1,ft&&(S=parseFloat(ft[0]),C=parseFloat(ft[1]),V=parseFloat(ft[2]),Z=parseFloat(ft[3]),this.zoom=this.width/this.height>V/Z?this.height/Z:this.width/V,this.x=S,this.y=C,this.width=V,this.height=Z)}else u=typeof u=="string"?u.match(ye).map(function(Le){return parseFloat(Le)}):Array.isArray(u)?u:typeof u=="object"?[u.x,u.y,u.width,u.height]:arguments.length==4?[].slice.call(arguments):m,this.x=u[0],this.y=u[1],this.width=u[2],this.height=u[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(u,m,S,C){return this.destination=new s.ViewBox(u,m,S,C),this},at:function(u){return this.destination?new s.ViewBox([this.x+(this.destination.x-this.x)*u,this.y+(this.destination.y-this.y)*u,this.width+(this.destination.width-this.width)*u,this.height+(this.destination.height-this.height)*u]):this}},parent:s.Container,construct:{viewbox:function(u,m,S,C){return arguments.length==0?new s.ViewBox(this):this.attr("viewBox",new s.ViewBox(u,m,S,C))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(u){s.Element.prototype[u]=function(m){return m==null?s.off(this,u):s.on(this,u,m),this}}),s.listenerId=0,s.on=function(u,m,S,C,V){var Z=S.bind(C||u),ft=u instanceof s.Element?u.node:u;ft.instance=ft.instance||{_events:{}};var lt=ft.instance._events;S._svgjsListenerId||(S._svgjsListenerId=++s.listenerId),m.split(s.regex.delimiter).forEach(function(At){var Pt=At.split(".")[0],Ft=At.split(".")[1]||"*";lt[Pt]=lt[Pt]||{},lt[Pt][Ft]=lt[Pt][Ft]||{},lt[Pt][Ft][S._svgjsListenerId]=Z,ft.addEventListener(Pt,Z,V||!1)})},s.off=function(u,m,S,C){var V=u instanceof s.Element?u.node:u;if(V.instance&&!(typeof S=="function"&&(S=S._svgjsListenerId,!S))){var Z=V.instance._events;(m||"").split(s.regex.delimiter).forEach(function(ft){var lt=ft&&ft.split(".")[0],At=ft&&ft.split(".")[1],Pt,Ft;if(S)Z[lt]&&Z[lt][At||"*"]&&(V.removeEventListener(lt,Z[lt][At||"*"][S],C||!1),delete Z[lt][At||"*"][S]);else if(lt&&At){if(Z[lt]&&Z[lt][At]){for(Ft in Z[lt][At])s.off(V,[lt,At].join("."),Ft);delete Z[lt][At]}}else if(At)for(ft in Z)for(Pt in Z[ft])At===Pt&&s.off(V,[ft,At].join("."));else if(lt){if(Z[lt]){for(Pt in Z[lt])s.off(V,[lt,Pt].join("."));delete Z[lt]}}else{for(ft in Z)s.off(V,ft);V.instance._events={}}})}},s.extend(s.Element,{on:function(u,m,S,C){return s.on(this,u,m,S,C),this},off:function(u,m){return s.off(this.node,u,m),this},fire:function(u,m){return u instanceof n.Event?this.node.dispatchEvent(u):this.node.dispatchEvent(u=new s.CustomEvent(u,{detail:m,cancelable:!0})),this._event=u,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(u){return u==null?this.transform("x"):this.transform({x:u-this.x()},!0)},y:function(u){return u==null?this.transform("y"):this.transform({y:u-this.y()},!0)},cx:function(u){return u==null?this.gbox().cx:this.x(u-this.gbox().width/2)},cy:function(u){return u==null?this.gbox().cy:this.y(u-this.gbox().height/2)},gbox:function(){var u=this.bbox(),m=this.transform();return u.x+=m.x,u.x2+=m.x,u.cx+=m.x,u.y+=m.y,u.y2+=m.y,u.cy+=m.y,u}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(u){u&&(u=typeof u=="string"?i.getElementById(u):u,u.nodeName=="svg"?this.constructor.call(this,u):(this.constructor.call(this,s.create("svg")),u.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){if(!this._defs){var u;(u=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(u):this._defs=new s.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var u=this.node.getScreenCTM();return u&&this.style("left",-u.e%1+"px").style("top",-u.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw.parentNode||this.node.appendChild(s.parser.draw),this},clone:function(u){this.writeDataToDom();var m=this.node,S=R(m.cloneNode(!0));return u?(u.node||u).appendChild(S.node):m.parentNode.insertBefore(S.node,m.nextSibling),S}}}),s.extend(s.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var u=this.position()+1,m=this.parent();return m.removeElement(this).add(this,u),m instanceof s.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var u=this.position();return u>0&&this.parent().removeElement(this).add(this,u-1),this},front:function(){var u=this.parent();return u.node.appendChild(this.node),u instanceof s.Doc&&u.node.appendChild(u.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(u){u.remove();var m=this.position();return this.parent().add(u,m),this},after:function(u){u.remove();var m=this.position();return this.parent().add(u,m+1),this}}),s.Mask=s.invent({create:function(){this.constructor.call(this,s.create("mask")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unmask();return this.targets=[],s.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new s.Mask)}}}),s.extend(s.Element,{maskWith:function(u){return this.masker=u instanceof s.Mask?u:this.parent().mask().add(u),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),s.ClipPath=s.invent({create:function(){this.constructor.call(this,s.create("clipPath")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new s.ClipPath)}}}),s.extend(s.Element,{clipWith:function(u){return this.clipper=u instanceof s.ClipPath?u:this.parent().clip().add(u),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),s.Gradient=s.invent({create:function(u){this.constructor.call(this,s.create(u+"Gradient")),this.type=u},inherit:s.Container,extend:{at:function(u,m,S){return this.put(new s.Stop).update(u,m,S)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(u,m,S){return u=="transform"&&(u="gradientTransform"),s.Container.prototype.attr.call(this,u,m,S)}},construct:{gradient:function(u,m){return this.defs().gradient(u,m)}}}),s.extend(s.Gradient,s.FX,{from:function(u,m){return(this._target||this).type=="radial"?this.attr({fx:new s.Number(u),fy:new s.Number(m)}):this.attr({x1:new s.Number(u),y1:new s.Number(m)})},to:function(u,m){return(this._target||this).type=="radial"?this.attr({cx:new s.Number(u),cy:new s.Number(m)}):this.attr({x2:new s.Number(u),y2:new s.Number(m)})}}),s.extend(s.Defs,{gradient:function(u,m){return this.put(new s.Gradient(u)).update(m)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(u){return(typeof u=="number"||u instanceof s.Number)&&(u={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",new s.Number(u.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return this.fill()},attr:function(u,m,S){return u=="transform"&&(u="patternTransform"),s.Container.prototype.attr.call(this,u,m,S)}},construct:{pattern:function(u,m,S){return this.defs().pattern(u,m,S)}}}),s.extend(s.Defs,{pattern:function(u,m,S){return this.put(new s.Pattern).update(S).attr({x:0,y:0,width:u,height:m,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element}),s.Bare=s.invent({create:function(u,m){if(this.constructor.call(this,s.create(u)),m)for(var S in m.prototype)typeof m.prototype[S]=="function"&&(this[S]=m.prototype[S])},inherit:s.Element,extend:{words:function(u){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(i.createTextNode(u)),this}}}),s.extend(s.Parent,{element:function(u,m){return this.put(new s.Bare(u,m))}}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(u,m){return this.attr("href",(m||"")+"#"+u,s.xlink)}},construct:{use:function(u,m){return this.put(new s.Use).element(u,m)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(u,m){return this.put(new s.Rect).size(u,m)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(u){return this.put(new s.Circle).rx(new s.Number(u).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(u){return this.attr("r",u)},ry:function(u){return this.rx(u)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(u,m){return this.put(new s.Ellipse).size(u,m).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(u){return this.attr("rx",u)},ry:function(u){return this.attr("ry",u)}}),s.extend(s.Circle,s.Ellipse,{x:function(u){return u==null?this.cx()-this.rx():this.cx(u+this.rx())},y:function(u){return u==null?this.cy()-this.ry():this.cy(u+this.ry())},cx:function(u){return u==null?this.attr("cx"):this.attr("cx",u)},cy:function(u){return u==null?this.attr("cy"):this.attr("cy",u)},width:function(u){return u==null?this.rx()*2:this.rx(new s.Number(u).divide(2))},height:function(u){return u==null?this.ry()*2:this.ry(new s.Number(u).divide(2))},size:function(u,m){var S=_(this,u,m);return this.rx(new s.Number(S.width).divide(2)).ry(new s.Number(S.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(u,m,S,C){return u==null?this.array():(typeof m<"u"?u={x1:u,y1:m,x2:S,y2:C}:u=new s.PointArray(u).toLine(),this.attr(u))},move:function(u,m){return this.attr(this.array().move(u,m).toLine())},size:function(u,m){var S=_(this,u,m);return this.attr(this.array().size(S.width,S.height).toLine())}},construct:{line:function(u,m,S,C){return s.Line.prototype.plot.apply(this.put(new s.Line),u!=null?[u,m,S,C]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(u){return this.put(new s.Polyline).plot(u||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(u){return this.put(new s.Polygon).plot(u||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(u){return u==null?this.array():this.clear().attr("points",typeof u=="string"?u:this._array=new s.PointArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("points",this.array().move(u,m))},size:function(u,m){var S=_(this,u,m);return this.attr("points",this.array().size(S.width,S.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},width:function(u){var m=this.bbox();return u==null?m.width:this.size(u,m.height)},height:function(u){var m=this.bbox();return u==null?m.height:this.size(m.width,u)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(u){return u==null?this.array():this.clear().attr("d",typeof u=="string"?u:this._array=new s.PathArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("d",this.array().move(u,m))},x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},size:function(u,m){var S=_(this,u,m);return this.attr("d",this.array().size(S.width,S.height))},width:function(u){return u==null?this.bbox().width:this.size(u,this.bbox().height)},height:function(u){return u==null?this.bbox().height:this.size(this.bbox().width,u)}},construct:{path:function(u){return this.put(new s.Path).plot(u||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(u){if(!u)return this;var m=this,S=new n.Image;return s.on(S,"load",function(){s.off(S);var C=m.parent(s.Pattern);C!==null&&(m.width()==0&&m.height()==0&&m.size(S.width,S.height),C&&C.width()==0&&C.height()==0&&C.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:S.width,height:S.height,ratio:S.width/S.height,url:u}))}),s.on(S,"error",function(C){s.off(S),typeof m._error=="function"&&m._error.call(m,C)}),this.attr("href",S.src=this.src=u,s.xlink)},loaded:function(u){return this._loaded=u,this},error:function(u){return this._error=u,this}},construct:{image:function(u,m,S){return this.put(new s.Image).load(u).size(m||0,S||m||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(u){return u==null?this.attr("x"):this.attr("x",u)},y:function(u){var m=this.attr("y"),S=typeof m=="number"?m-this.bbox().y:0;return u==null?typeof m=="number"?m-S:m:this.attr("y",typeof u.valueOf()=="number"?u+S:u)},cx:function(u){return u==null?this.bbox().cx:this.x(u-this.bbox().width/2)},cy:function(u){return u==null?this.bbox().cy:this.y(u-this.bbox().height/2)},text:function(u){if(typeof u>"u"){for(var u="",m=this.node.childNodes,S=0,C=m.length;S<C;++S)S!=0&&m[S].nodeType!=3&&s.adopt(m[S]).dom.newLined==!0&&(u+=`
`),u+=m[S].textContent;return u}if(this.clear().build(!0),typeof u=="function")u.call(this,this);else{u=u.split(`
`);for(var S=0,V=u.length;S<V;S++)this.tspan(u[S]).newLine()}return this.build(!1).rebuild()},size:function(u){return this.attr("font-size",u).rebuild()},leading:function(u){return u==null?this.dom.leading:(this.dom.leading=new s.Number(u),this.rebuild())},lines:function(){var u=(this.textPath&&this.textPath()||this).node,m=s.utils.map(s.utils.filterSVGElements(u.childNodes),function(S){return s.adopt(S)});return new s.Set(m)},rebuild:function(u){if(typeof u=="boolean"&&(this._rebuild=u),this._rebuild){var m=this,S=0,C=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?S+=C:(this.attr("dy",C+S),S=0))}),this.fire("rebuild")}return this},build:function(u){return this._build=!!u,this},setData:function(u){return this.dom=u,this.dom.leading=new s.Number(u.leading||1.3),this}},construct:{text:function(u){return this.put(new s.Text).text(u)},plain:function(u){return this.put(new s.Text).plain(u)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(u){return u==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof u=="function"?u.call(this,this):this.plain(u),this)},dx:function(u){return this.attr("dx",u)},dy:function(u){return this.attr("dy",u)},newLine:function(){var u=this.parent(s.Text);return this.dom.newLined=!0,this.dy(u.dom.leading*u.attr("font-size")).attr("x",u.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(u){return this._build===!1&&this.clear(),this.node.appendChild(i.createTextNode(u)),this},tspan:function(u){var m=(this.textPath&&this.textPath()||this).node,S=new s.Tspan;return this._build===!1&&this.clear(),m.appendChild(S.node),S.text(u)},clear:function(){for(var u=(this.textPath&&this.textPath()||this).node;u.hasChildNodes();)u.removeChild(u.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,path:function(u){for(var m=new s.TextPath,S=this.doc().defs().path(u);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+S,s.xlink),this},array:function(){var u=this.track();return u?u.array():null},plot:function(u){var m=this.track(),S=null;return m&&(S=m.plot(u)),u==null?S:this},track:function(){var u=this.textPath();if(u)return u.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}}),s.A=s.invent({create:"a",inherit:s.Container,extend:{to:function(u){return this.attr("href",u,s.xlink)},show:function(u){return this.attr("show",u,s.xlink)},target:function(u){return this.attr("target",u)}},construct:{link:function(u){return this.put(new s.A).to(u)}}}),s.extend(s.Element,{linkTo:function(u){var m=new s.A;return typeof u=="function"?u.call(m,m):m.to(u),this.parent().put(m).put(this)}}),s.Marker=s.invent({create:"marker",inherit:s.Container,extend:{width:function(u){return this.attr("markerWidth",u)},height:function(u){return this.attr("markerHeight",u)},ref:function(u,m){return this.attr("refX",u).attr("refY",m)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(u,m,S){return this.defs().marker(u,m,S)}}}),s.extend(s.Defs,{marker:function(u,m,S){return this.put(new s.Marker).size(u,m).ref(u/2,m/2).viewbox(0,0,u,m).attr("orient","auto").update(S)}}),s.extend(s.Line,s.Polyline,s.Polygon,s.Path,{marker:function(u,m,S,C){var V=["marker"];return u!="all"&&V.push(u),V=V.join("-"),u=arguments[1]instanceof s.Marker?arguments[1]:this.doc().marker(m,S,C),this.attr(V,u)}});var p={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(u,m){return m=="color"?u:u+"-"+m}};["fill","stroke"].forEach(function(u){var m,S={};S[u]=function(C){if(typeof C>"u")return this;if(typeof C=="string"||s.Color.isRgb(C)||C&&typeof C.fill=="function")this.attr(u,C);else for(m=p[u].length-1;m>=0;m--)C[p[u][m]]!=null&&this.attr(p.prefix(u,p[u][m]),C[p[u][m]]);return this},s.extend(s.Element,s.FX,S)}),s.extend(s.Element,s.FX,{rotate:function(u,m,S){return this.transform({rotation:u,cx:m,cy:S})},skew:function(u,m,S,C){return arguments.length==1||arguments.length==3?this.transform({skew:u,cx:m,cy:S}):this.transform({skewX:u,skewY:m,cx:S,cy:C})},scale:function(u,m,S,C){return arguments.length==1||arguments.length==3?this.transform({scale:u,cx:m,cy:S}):this.transform({scaleX:u,scaleY:m,cx:S,cy:C})},translate:function(u,m){return this.transform({x:u,y:m})},flip:function(u,m){return m=typeof u=="number"?u:m,this.transform({flip:u||"both",offset:m})},matrix:function(u){return this.attr("transform",new s.Matrix(arguments.length==6?[].slice.call(arguments):u))},opacity:function(u){return this.attr("opacity",u)},dx:function(u){return this.x(new s.Number(u).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(u){return this.y(new s.Number(u).plus(this instanceof s.FX?0:this.y()),!0)},dmove:function(u,m){return this.dx(u).dy(m)}}),s.extend(s.Rect,s.Ellipse,s.Circle,s.Gradient,s.FX,{radius:function(u,m){var S=(this._target||this).type;return S=="radial"||S=="circle"?this.attr("r",new s.Number(u)):this.rx(u).ry(m??u)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(u){return this.node.getPointAtLength(u)}}),s.extend(s.Parent,s.Text,s.Tspan,s.FX,{font:function(u,m){if(typeof u=="object")for(m in u)this.font(m,u[m]);return u=="leading"?this.leading(m):u=="anchor"?this.attr("text-anchor",m):u=="size"||u=="family"||u=="weight"||u=="stretch"||u=="variant"||u=="style"?this.attr("font-"+u,m):this.attr(u,m)}}),s.Set=s.invent({create:function(u){u instanceof s.Set?this.members=u.members.slice():Array.isArray(u)?this.members=u:this.clear()},extend:{add:function(){var u,m,S=[].slice.call(arguments);for(u=0,m=S.length;u<m;u++)this.members.push(S[u]);return this},remove:function(u){var m=this.index(u);return m>-1&&this.members.splice(m,1),this},each:function(u){for(var m=0,S=this.members.length;m<S;m++)u.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(u){return this.index(u)>=0},index:function(u){return this.members.indexOf(u)},get:function(u){return this.members[u]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new s.RBox;var u=this.members[0].rbox(this.members[0].doc());return this.each(function(){u=u.merge(this.rbox(this.doc()))}),u}},construct:{set:function(u){return new s.Set(u)}}}),s.FX.Set=s.invent({create:function(u){this.set=u}}),s.Set.inherit=function(){var u,m=[];for(var u in s.Shape.prototype)typeof s.Shape.prototype[u]=="function"&&typeof s.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(S){s.Set.prototype[S]=function(){for(var C=0,V=this.members.length;C<V;C++)this.members[C]&&typeof this.members[C][S]=="function"&&this.members[C][S].apply(this.members[C],arguments);return S=="animate"?this.fx||(this.fx=new s.FX.Set(this)):this}}),m=[];for(var u in s.FX.prototype)typeof s.FX.prototype[u]=="function"&&typeof s.FX.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(S){s.FX.Set.prototype[S]=function(){for(var C=0,V=this.set.members.length;C<V;C++)this.set.members[C].fx[S].apply(this.set.members[C].fx,arguments);return this}})},s.extend(s.Element,{data:function(u,m,S){if(typeof u=="object")for(m in u)this.data(m,u[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+u))}catch{return this.attr("data-"+u)}else this.attr("data-"+u,m===null?null:S===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),s.extend(s.Element,{remember:function(u,m){if(typeof arguments[0]=="object")for(var m in u)this.remember(m,u[m]);else{if(arguments.length==1)return this.memory()[u];this.memory()[u]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var u=arguments.length-1;u>=0;u--)delete this.memory()[arguments[u]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(u){var m=i.getElementById(z(u)||u);return s.adopt(m)},s.select=function(u,m){return new s.Set(s.utils.map((m||i).querySelectorAll(u),function(S){return s.adopt(S)}))},s.extend(s.Parent,{select:function(u){return s.select(u,this.node)}});function d(u,m,S,C){return S+C.replace(s.regex.dots," .")}function f(u){for(var m=u.slice(0),S=m.length;S--;)Array.isArray(m[S])&&(m[S]=f(m[S]));return m}function y(u,m){return u instanceof m}function g(u,m){return(u.matches||u.matchesSelector||u.msMatchesSelector||u.mozMatchesSelector||u.webkitMatchesSelector||u.oMatchesSelector).call(u,m)}function b(u){return u.toLowerCase().replace(/-(.)/g,function(m,S){return S.toUpperCase()})}function x(u){return u.charAt(0).toUpperCase()+u.slice(1)}function A(u){return u.length==4?["#",u.substring(1,2),u.substring(1,2),u.substring(2,3),u.substring(2,3),u.substring(3,4),u.substring(3,4)].join(""):u}function M(u){var m=u.toString(16);return m.length==1?"0"+m:m}function _(u,m,S){if(m==null||S==null){var C=u.bbox();m==null?m=C.width/C.height*S:S==null&&(S=C.height/C.width*m)}return{width:m,height:S}}function w(u,m,S){return{x:m*u.a+S*u.c+0,y:m*u.b+S*u.d+0}}function T(u){return{a:u[0],b:u[1],c:u[2],d:u[3],e:u[4],f:u[5]}}function I(u){return u instanceof s.Matrix||(u=new s.Matrix(u)),u}function O(u,m){u.cx=u.cx==null?m.bbox().cx:u.cx,u.cy=u.cy==null?m.bbox().cy:u.cy}function k(u){for(var m=0,S=u.length,C="";m<S;m++)C+=u[m][0],u[m][1]!=null&&(C+=u[m][1],u[m][2]!=null&&(C+=" ",C+=u[m][2],u[m][3]!=null&&(C+=" ",C+=u[m][3],C+=" ",C+=u[m][4],u[m][5]!=null&&(C+=" ",C+=u[m][5],C+=" ",C+=u[m][6],u[m][7]!=null&&(C+=" ",C+=u[m][7])))));return C+" "}function R(u){for(var m=u.childNodes.length-1;m>=0;m--)u.childNodes[m]instanceof n.SVGElement&&R(u.childNodes[m]);return s.adopt(u).id(s.eid(u.nodeName))}function j(u){return u.x==null&&(u.x=0,u.y=0,u.width=0,u.height=0),u.w=u.width,u.h=u.height,u.x2=u.x+u.width,u.y2=u.y+u.height,u.cx=u.x+u.width/2,u.cy=u.y+u.height/2,u}function z(u){var m=(u||"").toString().match(s.regex.reference);if(m)return m[1]}function F(u){return Math.abs(u)>1e-37?u:0}var U="abcdef".split("");if(typeof n.CustomEvent!="function"){var Y=function(u,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var S=i.createEvent("CustomEvent");return S.initCustomEvent(u,m.bubbles,m.cancelable,m.detail),S};Y.prototype=n.Event.prototype,s.CustomEvent=Y}else s.CustomEvent=n.CustomEvent;return function(u){for(var m=0,S=["moz","webkit"],C=0;C<S.length&&!n.requestAnimationFrame;++C)u.requestAnimationFrame=u[S[C]+"RequestAnimationFrame"],u.cancelAnimationFrame=u[S[C]+"CancelAnimationFrame"]||u[S[C]+"CancelRequestAnimationFrame"];u.requestAnimationFrame=u.requestAnimationFrame||function(V){var Z=new Date().getTime(),ft=Math.max(0,16-(Z-m)),lt=u.setTimeout(function(){V(Z+ft)},ft);return m=Z+ft,lt},u.cancelAnimationFrame=u.cancelAnimationFrame||u.clearTimeout}(n),s})}(jT)),jT.exports}var rSt=iSt();const _d=cm(rSt);class sSt extends An{constructor(e){super(e)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(e,n){return n.getGraphicIcon(e)}getGraphicSymbol(e,n){return n.getGraphicSymbol(e)}makeRenderer(e,n,i=!1){switch(e.type){case this.SIMPLE:return new QEt(e,n);case this.CLASS_BREAKS:return new eSt(e,n,i);case this.UNIQUE_VALUE:return new tSt(e,n,i);default:throw new Error(`Unknown renderer type encountered - ${e.type}`)}}async generateWMSSymbology(e){const n=_d(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),i={svgcode:"",imgHeight:"",imgWidth:""};if(e){const r=await this.renderSymbologyImage(e);if(r){i.svgcode=r;const s=document.createElement("span");s.innerHTML=r;const o=s.firstElementChild?.lastElementChild;i.imgHeight=o?.getAttribute("height")||"",i.imgWidth=o?.getAttribute("width")||""}else i.svgcode=n.svg()}else i.svgcode=n.svg();return i}listToSymbology(e,n){return n.map(({text:i,image:r})=>{const s={name:i,image:r,svgcode:""};return e(r).then(o=>{s.svgcode=o}),s})}listToIconSymbology(e){return this.listToSymbology(this.renderSymbologyIcon,e)}listToImageSymbology(e){return this.listToSymbology(this.renderSymbologyImage,e)}async renderSymbologyImage(e,n=null){n===null&&(n=_d(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const i=await this.$iApi.geo.shared.convertImagetoDataURL(e);if(i===e)return"";const{loader:r}=await this.svgDrawImage(n,i);return n.viewbox(0,0,r.width,r.height),n.svg()}async renderSymbologyIcon(e,n=null){if(n===null){const s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s),n=_d(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const i=await this.$iApi.geo.shared.convertImagetoDataURL(e),{image:r}=await this.svgDrawImage(n,i);return r.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(r,this.CONTENT_IMAGE_SIZE),n.svg()}generatePlaceholderSymbology(e,n="#000"){const i=_d(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return i.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(n),i.text(e[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(e[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:e,svgcode:i.svg()}}async generateBlankSymbology(){return _d(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(e){const n=this,i=1.33333,r=document.createElement("div");r.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(r);const s=_d(r).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:g,path:b}){return s.path(b).size(g*i)},circle({size:g}){return s.circle(g*i)},cross({size:g}){return s.path("M 0,10 L 20,10 M 10,0 L 10,20").size(g*i)},x({size:g}){return s.path("M 0,0 L 20,20 M 20,0 L 0,20").size(g*i)},triangle({size:g}){return s.path("M 20,20 L 10,0 0,20 Z").size(g*i)},diamond({size:g}){return s.path("M 20,10 L 10,0 0,10 10,20 Z").size(g*i)},square({size:g}){return s.path("M 0,0 20,0 20,20 0,20 Z").size(g*i)}},a={[ar.SOLID]:"none",[ar.NONE]:"none",[ar.DASH]:"5.333,4",[ar.DOT]:"1.333,4",[ar.DASHDOT]:"5.333,4,1.333,4",[ar.LONGDASH]:"10.666,4",[ar.LONGDASHDOT]:"10.666,4,1.333,4",[ar.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[ar.SHORTDOT]:"1.333,1.333",[ar.SHORTDASH]:"5.333,1.333",[ar.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[ar.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},p={solid:g=>({color:g.colour,opacity:g.opacity}),none:()=>"transparent",horizontal:(g,b)=>s.pattern(5,5,x=>x.line(0,5/2,5,5/2)).stroke(b),vertical:(g,b)=>s.pattern(5,5,x=>x.line(5/2,0,5/2,5)).stroke(b),"forward-diagonal":(g,b)=>s.pattern(5,5,x=>{x.line(0,0,5,5).stroke(b),x.line(0,0,5,5).move(0,5).stroke(b),x.line(0,0,5,5).move(5,0).stroke(b)}),"backward-diagonal":(g,b)=>s.pattern(5,5,x=>{x.line(5,0,0,5).stroke(b),x.line(5,0,0,5).move(5/2,5/2).stroke(b),x.line(5,0,0,5).move(-5/2,-5/2).stroke(b)}),cross:(g,b)=>s.pattern(5,5,x=>{x.line(5/2,0,5/2,5).stroke(b),x.line(0,5/2,5,5/2).stroke(b)}),"diagonal-cross":(g,b)=>s.pattern(7,7,x=>{x.line(0,0,7,7).stroke(b),x.line(7,0,0,7).stroke(b)})},d={"simple-marker"(){const g=y(e.color);e.outline=e.outline||c;const b=y(e.outline.color),x=f({color:b.colour,opacity:b.opacity,width:e.outline.width,dasharray:a[e.outline.style]}),A=o[e.style](e).fill({color:g.colour,opacity:g.opacity}).stroke(x).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).rotate(e.angle||0);n.fitInto(A,n.CONTENT_SIZE)},"simple-line"(){const g=y(e.color),b=f({color:g.colour,opacity:g.opacity,width:e.width,linecap:"butt",dasharray:a[e.style]}),x=n.CONTENT_PADDING,A=n.CONTAINER_SIZE-n.CONTENT_PADDING;s.line(x,x,A,A).stroke(b)},esriCLS(){this["simple-line"]()},"simple-fill"(){const g=y(e.color),b=f({color:g.colour,opacity:g.opacity}),x=p[e.style](g,b);e.outline=e.outline||c;const A=y(e.outline.color),M=f({color:A.colour,opacity:A.opacity,width:e.outline.width,linecap:"butt",dasharray:a[e.outline.style]});s.rect(n.CONTENT_SIZE,n.CONTENT_SIZE).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).fill(x).stroke(M)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const g=e.imageData?`data:${e.contentType};base64,${e.imageData}`:e.url,b=e.width*e.xscale,x=e.height*e.yscale;e.outline=e.outline||c;const A=y(e.outline.color),M=f({color:A.colour,opacity:A.opacity,width:e.outline.width,dasharray:a[e.outline.style]});return n.$iApi.geo.shared.convertImagetoDataURL(g).then(_=>{const w=s.pattern(b,x,T=>T.image(_,b,x));s.rect(n.CONTENT_SIZE,n.CONTENT_SIZE).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).fill(w).stroke(M)})},"picture-marker"(){const g=e.source,b=g&&g.imageData?`data:${g.contentType};base64,${g.imageData}`:e.url;return n.$iApi.geo.shared.convertImagetoDataURL(b).then(x=>n.svgDrawImage(s,x)).then(({image:x})=>{x.center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).rotate(e.angle||0),n.fitInto(x,n.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[e.type]()),document.body.removeChild(r),s.svg()}catch(g){return console.error(g),this.generateBlankSymbology()}function f(g){return Object.assign({},l,g)}function y(g){return g?{colour:`rgb(${g.r},${g.g},${g.b})`,opacity:g.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(e,n,i=0,r=0,s=!0){return new Promise((o,a)=>{const l=e.image(n,i,r,s).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(e,n){const i=e.node.getBoundingClientRect(),r=n/Math.max(i.width,i.height);r<1&&e.scale(r)}rendererToLegend(e){let n;const i=e.symbolUnits.slice(0);if(e.defaultUnit&&i.push(e.defaultUnit),e.falseRenderer)n=i.map(r=>[r]);else{const r=new Map;i.forEach(s=>{const o=r.get(s.label);o?o.push(s):r.set(s.label,[s])}),n=[],r.forEach(s=>n.push(s))}return n.map(r=>{const s=r[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:s.label||"",definitionClause:r.length===1?s.definitionClause:`(${r.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(s.symbol).then(a=>{o.svgcode=a,r.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(e){if(!e)throw new Error("Legend server request is missing the required url.");const n={query:{f:"json"}},i={layers:[]},[r,s]=await ks(vn(`${e}/legend`,n));return s?s.data?s.data:(console.error(`Error loading legend data for ${e}`),i):(console.error(`Error loading legend for ${e}`,r),i)}async mapServerLegendToRenderer(e,n){const i=e.layers.find(s=>s.layerId===n);let r;if(typeof i<"u"){r={type:"uniqueValue",field:"fakefield",uniqueValueInfos:i.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const s=await de.RendererFromJson(r);return this.makeRenderer(s,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(e){const n=e.layers.map(s=>s.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),i={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...n)},r=await de.RendererFromJson(i);return this.makeRenderer(r,[],!0)}async mapServerToLocalLegend(e,n=void 0){const i=await this.getMapServerLegend(e);let r,s;return typeof n>"u"?(s=0,r=await this.mapServerLegendToRendererAll(i)):(s=parseInt(n),r=await this.mapServerLegendToRenderer(i,s)),this.rendererToLegend(r)}}class oSt extends An{constructor(e){super(e)}async arcGisServerQueryIds(e){if(!(e.filterGeometry||e.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const n=await de.Query();n.returnGeometry=!1,e.filterSql&&(n.where=e.filterSql),e.filterGeometry&&(n.geometry=await this.queryGeometryHelper(e.filterGeometry,!1,this.$iApi.geo.map.getScale(),e.sourceSR),n.spatialRelationship="intersects");const i=await de.QueryByIds(e.url,n);return Array.isArray(i)?i:[]}async geoJsonQuery(e){const n=await de.Query();if(n.returnGeometry=!!e.includeGeometry,n.outFields=["*"],e.filterGeometry&&(n.geometry=await this.queryGeometryHelper(e.filterGeometry,!0),n.spatialRelationship="intersects"),e.filterSql&&(n.where=e.filterSql),e.filterOIDs&&(n.objectIds=e.filterOIDs),await e.layer.loadPromise(),!e.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await e.layer.esriLayer.queryFeatures(n)).features.map((i,r)=>{let s;return n.returnGeometry?s=this.$iApi.geo.geom.geomEsriToRamp(i.geometry,`queryResult${r}`):s=new Cl,new Jr(s,"",i.attributes)})}async queryGeometryHelper(e,n,i,r){return!n&&e.type===qt.EXTENT&&r&&!r.isEqual(e.sr)&&!(i&&i>2e7&&e.sr.wkid===3978&&r.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(r,e)).toESRI():e.toESRI()}makeClickBuffer(e,n=5){const i=this.$iApi.geo.map,r=i.getExtent(),s=n*(r.xmax-r.xmin)/i.getPixelWidth();return new tn("ze_buffer",[e.x-s,e.y-s],[e.x+s,e.y+s],e.sr)}}class aSt extends An{attributes;geom;layer;map;proj;query;shared;symbology;constructor(e){super(e),this.geom=yc.geom,this.proj=yc.proj,this.shared=yc.sharedUtils,this.map=new Q3t(e),this.layer=new kEt(e),this.attributes=new JEt(e),this.query=new oSt(e),this.symbology=new sSt(e),Array.isArray(he.request.interceptors)||(he.request.interceptors=[]),he.request.interceptors.push({before:n=>{n.url.includes("?blankTile=false")&&(n.url=n.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(e){he.request.proxyUrl=e}get proxy(){return he.request.proxyUrl||""}}const lSt=Object.assign({"../fixtures/appbar/index.ts":()=>import("./index-BViTcj9g.js"),"../fixtures/areas-of-interest/index.ts":()=>import("./index-S-mGN1DH.js"),"../fixtures/basemap/index.ts":()=>import("./index-BYyWjHco.js"),"../fixtures/crosshairs/index.ts":()=>import("./index-S3B9PbSC.js"),"../fixtures/details/index.ts":()=>import("./index-CtYEL9CO.js"),"../fixtures/draw/index.ts":()=>import("./index-C3e3iuYi.js").then(t=>t.a),"../fixtures/export-footnote/index.ts":()=>import("./index-_wHhqM9C.js"),"../fixtures/export-legend/index.ts":()=>import("./index-7l9gtykL.js"),"../fixtures/export-map/index.ts":()=>import("./index-C4fZsmsS.js"),"../fixtures/export-northarrow/index.ts":()=>import("./index-DozUu2zk.js"),"../fixtures/export-scalebar/index.ts":()=>import("./index-6iBBLHhd.js"),"../fixtures/export-timestamp/index.ts":()=>import("./index-CLlMJZIS.js"),"../fixtures/export-title/index.ts":()=>import("./index-B4jYjr4G.js"),"../fixtures/export/index.ts":()=>import("./index-5d4Qmzq9.js"),"../fixtures/extentguard/index.ts":()=>import("./index-2YUCUval.js"),"../fixtures/gazebo/index.ts":()=>import("./index-DPXv3U1U.js"),"../fixtures/geosearch/index.ts":()=>import("./index-DMv0OrHn.js"),"../fixtures/grid/index.ts":()=>import("./index-CN2GV66K.js"),"../fixtures/help/index.ts":()=>import("./index-DYOfxqQK.js"),"../fixtures/hilight/index.ts":()=>import("./index-YLk4gSdf.js"),"../fixtures/keyboardnav/index.ts":()=>import("./index-B0CZk88i.js"),"../fixtures/layer-reorder/index.ts":()=>import("./index-BO6qLA6o.js"),"../fixtures/legend/index.ts":()=>import("./index-D2eGkGIy.js"),"../fixtures/mapnav/index.ts":()=>import("./index-D9FbjdeC.js"),"../fixtures/metadata/index.ts":()=>import("./index-SmNYbDbD.js"),"../fixtures/northarrow/index.ts":()=>import("./index-9ytaY8P-.js"),"../fixtures/overviewmap/index.ts":()=>import("./index-BUjqqTpj.js"),"../fixtures/panguard/index.ts":()=>import("./index-kJjwZUEP.js"),"../fixtures/scrollguard/index.ts":()=>import("./index-Bgw05QAz.js"),"../fixtures/settings/index.ts":()=>import("./index-CrAo3KNK.js"),"../fixtures/snowman/index.ts":()=>import("./index-ACTOPIvs.js"),"../fixtures/swipe/index.ts":()=>import("./index-DtXgH8Ah.js"),"../fixtures/wizard/index.ts":()=>import("./index-Dvta1H2K.js")});class cSt extends An{constructor(e){super(e)}exists(e){return e in _s(this.$vApp.$pinia).items}async add(e,n){let i;if(e in _s(this.$vApp.$pinia).items)return this.get(e);if(n){if(typeof n!="function")throw new Error("malformed fixture constructor");i=J2.updateBaseToInstance(new n,e,this.$iApi)}else{const r=(await lSt[`../fixtures/${e}/index.ts`]()).default;i=new r(e,this.$iApi)}return _s(this.$vApp.$pinia).addFixture(i),this.$iApi.event.emit(It.FIXTURE_ADDED,i),this.$iApi.geo.map.created&&i.initialized?.(),i}remove(e){const n=this.get(e);if(!n)throw new Error(`Could not find fixture ${e} for removal`);return _s(this.$vApp.$pinia).removeFixture(n),this.$iApi.event.emit(It.FIXTURE_REMOVED,n),n}flush(){const e=_s(this.$vApp.$pinia);Object.keys(e.items).forEach(n=>{const i=this.get(n);i?.persist&&typeof i?.removed=="function"?i.removed():i&&this.remove(n)})}restore(){const e=_s(this.$vApp.$pinia);Object.keys(e.items).forEach(n=>{const i=e.items[n];typeof i.added=="function"&&i.added(),this.$iApi.geo.map.created&&typeof i.initialized=="function"&&i.initialized()})}get(e){const n=[];typeof e=="string"?n.push(e):Array.isArray(e)?n.push(...e):n.push(e.id);const i=n.map(r=>{const s=_s(this.$vApp.$pinia).items[r];if(s)return s});return i.length===1?i[0]:i}isLoaded(e){const n=_s(this.$vApp.$pinia),i=Array.isArray(e)?e:[e];i.forEach(s=>{n.loadPromises[s]===void 0&&n.addLoadPromise(s)});const r=n.getLoadPromises(i);return Array.isArray(e)?Promise.all(r):r[0]}addDefaultFixtures(e){Array.isArray(e)||(e=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const n=rr(this.$vApp.$pinia);return n.startingFixtures=e,Promise.all(e.map(i=>this.add(i)))}}class J2 extends An{static updateBaseToInstance(e,n,i){const r=new J2(n,i);return Object.defineProperties(e,{id:{value:n},$iApi:{value:i},persist:{value:e.persist??!0},$vApp:{get(){return r.$vApp}},remove:{value:r.remove},extend:{value:r.extend},config:{get(){return r.config}},mount:{value:r.mount}}),e}id;persist;constructor(e,n){super(n),this.id=e,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(e,n={}){const i=ne({extends:e,iApi:this.$iApi,data(){return{...n}}}),r=Ql(i),{el:s}=this.mount(i,{props:{...n.propsData},app:r});return s}mount(e,{props:n,children:i,element:r,app:s}={}){let o=r,a=Br(e,n,i);return s&&s._context&&(a.appContext=s._context),o||(o=document.createElement("div")),qp(a,o),{vNode:a,destroy:()=>{o&&qp(null,o),o=null,a=null},el:o}}get config(){return rr(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(e){return this.getLayerFixtureConfigs()[e]}getLayerFixtureConfigs(){const e={},n=(i,r=void 0)=>{if(i.fixtures&&i.fixtures[this.id]!==void 0){let s=i.id;r!==void 0&&(s=this.$iApi.geo.layer.sublayerId(r.id,i.index)),e[s]=i.fixtures[this.id]}i.sublayers&&i.sublayers.forEach(s=>n(s,i))};return this.$iApi.geo.layer.allLayers().forEach(i=>n(i.config)),e}handlePanelWidths(e){if(this.config?.panelWidth){const n={};if(typeof this.config.panelWidth=="number")e.forEach(i=>{n[i]=this.config.panelWidth});else{this.config.panelWidth.default&&e.forEach(i=>{n[i]=this.config.panelWidth.default});for(const i in this.config.panelWidth)i!="default"&&(n[i]=this.config.panelWidth[i])}for(const i in n){const r=this.$iApi.panel.get(i);this.$iApi.panel.setStyle(r,{"flex-basis":`${n[i]}px`})}}}handlePanelTeleports(e){if(this.config?.panelTeleport){const n=uc(this.$vApp.$pinia),i=!!this.config.panelTeleport.target;e.forEach(r=>{n.items[r].teleport=i?this.config.panelTeleport:this.config.panelTeleport[r],n.items[r].style.width="100%"})}}}class uSt extends An{panelStore=uc(this.$vApp.$pinia);updateHTML(e,n,i){const r=this.get(e),s=i?r.screens[i]:Object.values(r.screens)[0];if(T9(s))for(const o in n)s[o].innerHTML=n[o]instanceof HTMLElement?n[o].outerHTML:n[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(e){for(const i in e.content)if(typeof e.content[i]=="string"){const r=document.createElement("div");r.innerHTML=e.content[i],e.content[i]=r}const n={};return n[e.id]={screens:{},style:e.style??{width:"350px"},alertName:e.alertName},n[e.id].screens[e.id]=e.content,n}registerHTML(e){const n=this.get(e.id);if(n)return console.error("Panel already exist"),n;const i=this.registerHTMLConfig(e),r={i18n:{messages:e.i18nMap}};return this.register(i,r)}register(e,n){const i=hSt(e)?{[e.id]:e.config}:e;if(n){const s=n.i18n||{},o=this.$iApi.$i18n;Object.entries(s.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(s.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(s.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const r=Object.entries(i).reduce((s,[o,a])=>(s.push(new Y0(this.$iApi,o,a)),s),[]);return r.forEach(s=>this.panelStore.registerPanel(s)),r.length===1?r[0]:r.reduce((s,o)=>(s[o.id]=o,s),{})}async isRegistered(e){const n=Array.isArray(e)?e:[e];n.forEach(r=>{this.panelStore.regPromises[r]===void 0&&this.panelStore.addRegPromise(r)});const i=this.panelStore.getRegPromises(n);return Array.isArray(e)?Promise.all(i):i[0]}allRegistered(){return Object.keys(this.panelStore.items)}remove(e){const n=this.get(e);n&&(n.isOpen&&this.close(n),this.panelStore.removePanel(n))}get(e){const n=typeof e=="string"?e:e.id;return this.panelStore.items[n]}open(e){let n,i,r;if(typeof e=="string"||e instanceof Y0?n=this.get(e):(n=this.get(e.id),{screen:i,props:r}=e),!n)return n;if(n.isOpen&&!n.isVisible)n.minimize();else if(n.isOpen)return n;return i||(n.route&&!r?{screen:i,props:r}=n.route:i=Object.keys(n.screens).pop()),this.show(n,{screen:i,props:r})?(this.panelStore.openPanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(It.PANEL_OPENED,n)):console.error(`Failed to open ${n.id} panel.`),n}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(e){const n=this.get(e);if(!n)return n;const i=this.visible.slice().indexOf(n),r=this.$vApp.$el.querySelector("[focus-container]");return n.isPinned&&n.pin(!1),this.panelStore.closePanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(It.PANEL_CLOSED,n),this.$vApp.$nextTick(()=>{const s=i>0?this.visible[i-1]:this.visible[0];s?this.focus(s):r?.focus()}),n}minimize(e){const n=this.get(e);return n&&(n.isPinned&&n.pin(!1),this.panelStore.closePanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(It.PANEL_MINIMIZED,n),n)}move(e,n){const i=this.get(e);return i&&(this.panelStore.movePanel(i,n),i)}toggle(e,n){let i;return typeof e=="string"||e instanceof Y0?i=this.get(e):i=this.get(e.id),i&&(n=typeof n<"u"?n:!i.isVisible,n!==i.isVisible?n?this.open(e):this.close(i):i)}toggleMinimize(e,n){let i;return typeof e=="string"||e instanceof Y0?i=this.get(e):i=this.get(e.id),i&&(n=typeof n<"u"?n:!i.isVisible,n!==i.isVisible?n?this.open(i):this.minimize(i):i)}pin(e,n){const i=this.get(e);return!i||(n=typeof n<"u"?n:!i.isPinned,!i.isPinned&&!n)||(this.panelStore.pinned=n?i:void 0),i}get pinned(){return this.panelStore.pinned||void 0}show(e,n){const i=this.get(e);if(!i)return i;if(i.screens[n.screen]){if(i.screens[n.screen]?.props){const r=Object.keys(i.screens[n.screen]?.props).filter(o=>o!=="panel"),s=n.props?Object.keys(n.props):[];for(let o=0;o<r.length;o++)if(!s.includes(r[o])&&i.screens[n.screen].props[r[o]].required)return}return n.screen in this.$element._context.components||i.registerScreen(n.screen),i.teleport&&(n.props={header:!!i.teleport?.showHeader,...n.props}),this.panelStore.items[i.id].route=n,i}}setStyle(e,n,i=!1){const r=this.get(e);return r&&(this.panelStore.items[r.id].style=i?n:{...r.style,...n},r)}expand(e,n){const i=this.get(e);return i&&(this.panelStore.items[i.id].expanded=n!==void 0?n:!i.expanded,i)}focus(e){const n=this.get(e);n&&this.$vApp.$el.querySelector(`.panel-container [data-cy="${n.id}"] [focus-container], .panel-container [data-cy="${n.id}"] [focus-list]`)?.focus()}}function hSt(t){return t.id!==void 0&&typeof t.id=="string"&&t.config!==void 0}const pSt={};function dSt(t,e){const n=Tn("panel-screen");return ct(),Ue(n,{header:!1,class:"screen-spinner"},{content:Mn(()=>e[0]||(e[0]=[rt("div",{class:"loader"},null,-1)])),_:1})}const fSt=Bo(pSt,[["render",dSt],["__scopeId","data-v-a3c61802"]]),mSt=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>import("./screen-D87VdH6o.js"),"../fixtures/basemap/screen.vue":()=>import("./screen-D8_Rhav4.js"),"../fixtures/export/screen.vue":()=>import("./screen-DGntgksI.js"),"../fixtures/geosearch/screen.vue":()=>import("./screen-Bdjfelx_.js"),"../fixtures/grid/screen.vue":()=>import("./screen-CElNltfj.js"),"../fixtures/help/screen.vue":()=>import("./screen-Dn098QY7.js"),"../fixtures/layer-reorder/screen.vue":()=>import("./screen-D8_NGdll.js"),"../fixtures/legend/screen.vue":()=>import("./screen-DLaftVxs.js"),"../fixtures/metadata/screen.vue":()=>import("./screen-i9YEl9Z9.js"),"../fixtures/settings/screen.vue":()=>import("./screen-Bk9jEC8o.js"),"../fixtures/wizard/screen.vue":()=>import("./screen-BChEuwaI.js")});class Y0 extends An{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(e){return this.loadedScreens.indexOf(e)!==-1}registerScreen(e){const n=this.screens[e];let i;if(edt(n)||tdt(n))i=n,this.loadedScreens.push(e);else if(T9(n))i={template:`<panel-screen :panel="this" :screenId="'${e}'">
                           </panel-screen>`};else{let r;typeof n=="string"?r=mSt[`../fixtures/${n}`]():r=n();const s=new Promise((o,a)=>{r.then(l=>{this.loadedScreens.push(e),o(ndt(l)?l.default:l)}),r.catch(l=>a(l))});i=Rv({loader:()=>s,loadingComponent:fSt,delay:200})}this.$iApi.$element.component(e,i)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(e,n,i){if(super(e),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:n,style:{},expanded:!1,controls:{expand:!1,...i.controls},...i},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(e){return typeof e>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof e=="string"?{screen:e}:e}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(e){return this.$iApi.panel.move(this,e),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const e of this.$iApi.panel.visible)if(!e.teleport)return this.id===e.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let e=this.$iApi.panel.visible.length-1;e>=0;e--)if(!this.$iApi.panel.visible[e].teleport)return this.id===this.$iApi.panel.visible[e].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(e){return typeof e>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof e=="boolean"?e!==this.isOpen&&this.$iApi.panel.toggle(this,e):this.$iApi.panel.toggle({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}toggleMinimize(e){return typeof e>"u"||typeof e=="boolean"?this.$iApi.panel.toggleMinimize(this,e):this.$iApi.panel.toggleMinimize({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}pin(e){return e=typeof e<"u"?e:!this.isPinned,this.$iApi.panel.pin(this,e),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(e){const n=typeof e=="string"?{screen:e}:e;return this.route=n,this.$iApi.panel.show(this,n),this}setStyles(e,n=!1){return this.$iApi.panel.setStyle(this,e,n),this}expand(e){return this.$iApi.panel.expand(this,e),this}}class ySt extends An{constructor(e){super(e)}async easyLayer(e,n){const i=this.$iApi.geo.layer.createLayer(e);await this.$iApi.geo.map.addLayer(i);const r=this.$iApi.fixture.get("legend");return r&&(n?r.addItem(n):await r.addLayerItem(i)),i}}function gSt(t){const e={};(Array.isArray(t)?t:[t]).forEach(s=>{s.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),s.language="en");const o=vSt(s);e[s.language]=o});const n=Object.entries(e).map(s=>{const o=s[1].fixturesEnabled;return delete s[1].fixturesEnabled,o});let i=!1;const r=n.reduce((s,o)=>s.filter(a=>{const l=o.includes(a);return i=i||!l,l}));return i&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),r.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:r,configs:e}}function vSt(t){const e={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return wSt(t.services,e),bSt(t.map,e),_St(t.ui,e),t.plugins&&xSt(t.plugins,e),e}function bSt(t,e){if(t.layers&&t.layers.forEach(n=>{e.layers.unshift(fz(n))}),t.initialBasemapId&&(e.map.initialBasemapId=t.initialBasemapId),t.components){if(t.components.geoSearch&&(t.components.geoSearch.enabled&&e.fixturesEnabled.push("geosearch"),typeof t.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof t.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),t.components.overviewMap&&t.components.overviewMap.enabled&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.startMinimized=!t.components.overviewMap.initiallyExpanded,e.fixtures.overviewmap.expandFactor=t.components.overviewMap.expandFactor??1.5),t.components.northArrow&&t.components.northArrow.enabled){const n={};t.components.northArrow.arrowIcon&&(n.arrowIcon=t.components.northArrow.arrowIcon),t.components.northArrow.poleIcon&&(n.poleIcon=t.components.northArrow.poleIcon),n&&(e.fixtures.northarrow=n,e.fixturesEnabled.push("northarrow"))}if(t.components.scaleBar&&t.components.scaleBar.enabled){switch(e.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:t?.components?.scaleBar?.scalebarUnit==="english"||t?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},t.components?.mouseInfo?.spatialReference?.wkid){case 4326:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:e.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:e.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}t.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}t.components.basemap&&t.components.basemap.enabled&&e.fixturesEnabled.push("basemap")}t.extentSets&&(e.map.extentSets=[],t.extentSets.forEach(n=>{const i={id:n.id,default:{xmin:n.default.xmin,xmax:n.default.xmax,ymin:n.default.ymin,ymax:n.default.ymax,spatialReference:n.spatialReference}};n.full&&(i.full={xmin:n.full.xmin,xmax:n.full.xmax,ymin:n.full.ymin,ymax:n.full.ymax,spatialReference:n.spatialReference}),n.maximum&&(i.maximum={xmin:n.maximum.xmin,xmax:n.maximum.xmax,ymin:n.maximum.ymin,ymax:n.maximum.ymax,spatialReference:n.spatialReference}),e.map.extentSets.push(i)})),t.lodSets&&(e.map.lodSets=t.lodSets),t.tileSchemas&&(e.map.tileSchemas=[],t.tileSchemas.forEach(n=>{const i={id:n.id,name:n.name,extentSetId:n.extentSetId,lodSetId:n.lodSetId,thumbnailTileUrls:[],hasNorthPole:n.hasNorthPole||!1};n.overviewUrl&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.basemaps[n.id]={id:n.overviewUrl.id||`overviewmap-basemap-${n.id}`,tileSchemaId:n.id,layers:[{id:n.overviewUrl.id||`overviewmap-basemap-${n.id}-0`,layerType:n.overviewUrl.layerType==="esriDynamic"?Tt.MAPIMAGE:Tt.TILE,url:n.overviewUrl.url,opacity:n.overviewUrl.opacity??1}]}),e.map.tileSchemas.push(i)})),t.baseMaps&&(e.map.basemaps=[],t.baseMaps.forEach(n=>{const i={id:n.id,tileSchemaId:n.tileSchemaId,name:n.name,description:n.description,altText:n.altText,thumbnailUrl:n.thumbnailUrl,layers:[]};n.attribution&&(i.attribution={text:{},logo:{}},n.attribution.text&&(i.attribution.text.disabled=!n.attribution.text.enabled,i.attribution.text.value=n.attribution.text.value),n.attribution.logo&&(i.attribution.logo.disabled=!n.attribution.logo.enabled,i.attribution.logo.altText=n.attribution.logo.altText,i.attribution.logo.value=n.attribution.logo.value,i.attribution.logo.link=n.attribution.logo.link)),n.layers.forEach((r,s)=>{const o={id:r.id||`${n.id}-${s}`,layerType:r.layerType==="esriDynamic"?Tt.MAPIMAGE:Tt.TILE,url:r.url,opacity:r.opacity??1};i.layers.push(o)}),e.map.basemaps.push(i)})),t.legend&&(e.fixturesEnabled.push("legend"),t.legend.type==="autopopulate"?(e.fixtures.legend={root:{name:"I'm root",children:[]}},e.layers&&e.layers.toReversed().forEach(n=>{if(n.type==="esri-map-image"||n.type==="ogc-wms"){const i={name:n.name??`${n.id} Group`,children:[]};n.sublayers.forEach(r=>{const s={layerId:n.id};r.name&&(s.name=r.name),r.controls&&(s.controls=r.controls),r.disabledControls&&(s.disabledControls=r.disabledControls),n.type==="esri-map-image"?s.sublayerIndex=r.index:(s.sublayerId=r.id,console.warn(`sublayerId property defined in legend entry ${s.layerId} is currently not supported.`)),i.children.push(s)}),e.fixtures.legend.root.children.push(i)}else{const i={layerId:n.id};n.controls&&(i.controls=n.controls),n.disabledControls&&(i.disabledControls=n.disabledControls),e.fixtures.legend.root.children.push(i)}})):e.fixtures.legend={root:$T(t.legend.root)})}function $T(t){const e={name:t.name,children:[]};typeof t.hidden<"u"&&(e.hidden=t.hidden),typeof t.expanded<"u"&&(e.expanded=t.expanded);const n=["identify","opacity","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=xd(t.controls,n),t.controls.includes("visibility")&&e.controls.push("visibilityButton"),(t.controls.length!==1||t.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),e.controls.push("expandButton")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=xd(t.disabledControls,n),t.disabledControls.includes("visibility")&&e.disabledControls.push("visibilityButton"),(t.disabledControls.length!==1||t.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),t.children.forEach(i=>{if(i.layerId)e.children.push(dz(i));else if(i.infoType)i.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`):(e.children.push({infoType:i.infoType,content:i.content}),typeof i.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`));else if(i.exclusiveVisibility){const r={name:"Visibility Set",children:[],exclusive:!0};typeof i.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`),i.exclusiveVisibility.forEach(s=>{s.layerId?r.children.push(dz(s)):r.children.push($T(s))}),e.children.push(r)}else e.children.push($T(i))}),e}function dz(t){const e=t,n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.layerControls=xd(t.controls,n),e.layerControls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledLayerControls=xd(t.disabledControls,n)),t.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),delete e.controlledIds),t.entryIndex&&(e.sublayerIndex=t.entryIndex,delete t.entryIndex),t.entryId&&console.warn(`entryId property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),e}function fz(t){const e=FT(t);switch(e.id=t.id,e.url=t.url,t.refreshInterval&&(e.refreshInterval=t.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),t.expectedResponseTime&&(e.expectedLoadTime=t.expectedResponseTime),t.metadataUrl&&(e.metadata={url:t.metadataUrl}),t.catalogueUrl&&(e.catalogueUrl=t.catalogueUrl),typeof t.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.tooltipField&&(e.tooltipField=t.tooltipField),t.tolerance&&(e.mouseTolerance=t.tolerance,t.layerType==="esriDynamic"&&(e.touchTolerance=t.tolerance+10)),t.customRenderer&&(e.customRenderer=t.customRenderer),t.layerType){case"esriDynamic":e.layerType="esri-map-image",typeof t.singleEntryCollapse<"u"&&(e.singleEntryCollapse=t.singleEntryCollapse),t.imageFormat&&(e.imageFormat=t.imageFormat),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(n=>{const i=FT(n);i.index=n.index,e.sublayers.push(i)}));break;case"esriFeature":e.layerType="esri-feature",t.fileType&&(e.layerType=t.fileType==="shapefile"?"file-shape":`file-${t.fileType}`,t.colour&&(e.colour=t.colour),t.latField&&(e.latField=t.latField),t.longField&&(e.longField=t.longField));break;case"ogcWfs":e.layerType="ogc-wfs",t.colour&&(e.colour=t.colour),typeof t.xyInAttribs<"u"&&(e.xyInAttribs=t.xyInAttribs);break;case"ogcWms":e.layerType="ogc-wms",t.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.featureInfoMimeType&&(t.featureInfoMimeType==="text/html;fgpv=summary"?e.featureInfoMimeType="text/html":e.featureInfoMimeType=t.featureInfoMimeType),t.legendMimeType&&console.warn(`legendMimeType property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(n=>{const i=FT(n);i.id=n.id,n.currentStyle&&(i.currentStyle=n.currentStyle,console.warn(`currentStyle property provided in layer entry ${n.id} of layer ${t.id} is currently not supported.`)),n.allStyles&&console.warn(`allStyles property provided in layer entry ${n.id} of layer ${t.id} cannot be mapped and will be skipped.`),e.sublayers.push(i)}));break;case"esriImage":e.layerType="esri-imagery";break;case"esriTile":e.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${t.layerType}`)}return t.details&&console.warn(`Details config provided in layer ${t.id} cannot be mapped and will be skipped.`),e}function FT(t){const e={};t.name&&(e.name=t.name),t.nameField&&(e.nameField=t.nameField),t.extent&&(e.extent=t.extent);const n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=xd(t.controls,n),e.controls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=xd(t.disabledControls,n)),t.state&&(e.state={opacity:t.state.opacity??1,visibility:t.state.visibility??!0,identify:t.state.query??!0,hovertips:t.state.hovertips??!0},typeof t.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`)),typeof t.stateOnly<"u"&&(e.cosmetic=t.stateOnly),t.initialFilteredQuery&&(e.initialFilteredQuery=t.initialFilteredQuery),ESt(t,e),(typeof t.toggleSymbology<"u"||t.table)&&(e.fixtures={},typeof t.toggleSymbology<"u"&&(e.fixtures.legend={toggleSymbology:t.toggleSymbology}),t.table&&(e.fixtures.grid={},t.table.title&&(e.fixtures.grid.title=t.table.title),t.table.description&&console.warn(`description property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.search&&(t.table.search.enabled&&(e.fixtures.grid.search=t.table.search.enabled),t.table.search.value&&(e.fixtures.grid.searchFilter=t.table.search.value)),typeof t.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.applyMap<"u"&&(e.fixtures.grid.applyMap=t.table.applyMap),typeof t.table.showFilter<"u"&&(e.fixtures.grid.showFilter=t.table.showFilter),typeof t.table.filterByExtent<"u"&&(e.fixtures.grid.filterByExtent=t.table.filterByExtent),typeof t.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.columns&&(e.fixtures.grid.columns=[],t.table.columns.forEach(i=>{const r={field:i.data};i.title&&(r.title=i.title),i.description&&console.warn(`description property provided in column property in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof i.visible<"u"&&(r.visible=i.visible),i.width&&(r.width=i.width),i.sort&&(r.sort=i.sort),typeof i.searchable<"u"&&(r.searchable=i.searchable),i.filter&&(r.filter=i.filter),e.fixtures.grid.columns.push(r)})))),e}function xd(t,e){const n=[];return t.forEach(i=>{e.includes("identify")&&i==="query"?n.push("identify"):e.includes("datatable")&&i==="data"?n.push("datatable"):e.includes(i)?n.push(i):console.warn(`Ignored invalid control: ${i}`)}),n}function wSt(t,e){t&&(t.search&&(e.fixtures.geosearch={},e.fixtures.geosearch.serviceUrls={geoNames:t.search.serviceUrls.geoNames,geoLocation:t.search.serviceUrls.geoLocation,geoProvince:t.search.serviceUrls.provinces,geoTypes:t.search.serviceUrls.types},t.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),t.search.settings&&(e.fixtures.geosearch.settings=t.search.settings),t.search.disabledSearches&&(e.fixtures.geosearch.settings.disabledSearchTypes=t.search.disabledSearches.filter(n=>n!=="SCALE"))),t.export&&(e.fixtures.export||(e.fixtures.export={},e.fixturesEnabled.push("export")),t.export.title&&(e.fixtures.export.title={selected:t.export.title.isSelected??!0,selectable:t.export.title.isSelectable??!0,value:t.export.title.value??"RAMP-Map / PCAR-Carte"}),t.export.map&&(e.fixtures.export.map={selected:t.export.map.isSelected??!0,selectable:t.export.map.isSelectable??!0},t.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),t.export.mapElements&&(e.fixtures.export.mapElements={selected:t.export.mapElements.isSelected??!0,selectable:t.export.mapElements.isSelectable??!0},t.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),t.export.legend&&(e.fixtures.export.legend={selected:t.export.legend.isSelected??!0,selectable:t.export.legend.isSelectable??!0},t.export.legend.columnWidth&&(e.fixtures.export.legend.columnWidth=t.export.legend.columnWidth),t.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),t.export.footnote&&(e.fixtures.export.footnote={selected:t.export.footnote.isSelected??!0,selectable:t.export.footnote.isSelectable??!0,value:t.export.footnote.value??""}),t.export.timestamp&&(e.fixtures.export.timestamp={selected:t.export.timestamp.isSelected??!0,selectable:t.export.timestamp.isSelectable??!0},t.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),t.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof t.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),t.proxyUrl&&(e.system.proxyUrl=t.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(n=>{typeof t[n]<"u"&&console.warn(`${n} property provided in services config cannot be mapped and will be skipped.`)}))}function _St(t,e){if(t.navBar){e.fixtures.mapnav={zoomOption:t.navBar.zoom||"buttons",items:[]};const i=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];t.navBar.extra.forEach(r=>{const s=r.toLowerCase();i.includes(s)?e.fixtures.mapnav.items.push(s):console.warn(`Ignored invalid mapnav item: ${r}`)}),e.fixturesEnabled.push("mapnav")}if(t.help&&(e.fixtures.help={location:t.help.folderName&&t.help.folderName!=="default"?`./${t.help.folderName}`:"./help",panelWidth:350},e.fixturesEnabled.push("help")),t.legend){const i=["groupToggle","visibilityToggle"];t.legend.reorderable&&i.push("layerReorder"),t.legend.allowImport&&i.push("wizard"),e.fixtures.legend?e.fixtures.legend.headerControls=i:(e.fixturesEnabled.push("legend"),e.fixtures.legend={headerControls:i,root:{}}),t.legend.isOpen&&t.legend.isOpen.large&&e.panels.open.push({id:"legend"})}e.fixtures.appbar={items:[]},e.fixturesEnabled.push("appbar");const n=["layers","basemap","export","help","geoSearch"];t.appBar?(t.appBar.layers!==!1&&(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")),t.appBar.geoSearch!==!1&&e.fixturesEnabled.includes("geosearch")&&e.fixtures.appbar.items.push("geosearch"),t.appBar.basemap!==!1&&e.fixtures.appbar.items.push("basemap")):(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend"),e.fixtures.appbar.items.push("geosearch"),e.fixtures.appbar.items.push("basemap")),t.sideMenu&&t.sideMenu.items&&t.sideMenu.items.length>0&&t.sideMenu.items.forEach(i=>{i.forEach(r=>{r==="layers"&&!e.fixtures.appbar.items.includes("legend")?(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")):r!=="layers"&&n.includes(r)&&!e.fixtures.appbar.items.includes(r.toLowerCase())&&(e.fixtures.appbar.items.push(r.toLowerCase()),(r.toLowerCase()==="help"||r.toLowerCase()==="export"&&!e.fixturesEnabled.includes(r.toLowerCase()))&&e.fixturesEnabled.push(r.toLowerCase()))})}),t.tableIsOpen&&t.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(i=>{typeof t[i]<"u"&&console.warn(`${i} property provided in services config cannot be mapped and will be skipped.`)})}function xSt(t,e){t.areasOfInterest.enable&&(e.fixturesEnabled.includes("areas-of-interest")||e.fixturesEnabled.push("areas-of-interest"),t.areasOfInterest.areas&&(e.fixtures["areas-of-interest"]={areas:t.areasOfInterest.areas.map(n=>({title:`${n["title-en-CA"]} / ${n["title-fr-CA"]}`,thumbnail:n.thumbnailUrl,altText:n.altText??"",description:n.description??"",extent:{xmin:n.xmin,xmax:n.xmax,ymin:n.ymin,ymax:n.ymax,spatialReference:{wkid:n.wkid}}}))}))}function ESt(t,e){const n=t.outfields&&t.outfields!=="*";if(!n&&!t.fieldMetadata)return;const i={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};t.fieldMetadata?(i.fieldInfo=t.fieldMetadata.map(r=>{const s={name:r.data};return r.alias&&(s.alias=r.alias),s}),n&&(t.outfields.split(",").map(r=>r.trim()).forEach(r=>{i.fieldInfo.findIndex(s=>s.name===r)===-1&&i.fieldInfo.push({name:r})}),i.exclusiveFields=!0)):n&&(i.fieldInfo=t.outfields.split(",").map(r=>({name:r.trim()})),i.exclusiveFields=!0),e.fieldMetadata=i}var Ed={major:"4",minor:"14",patch:"0",timestamp:"Thu Nov 20 15:49:20 2025 -0500",hash:"962d8a7b7a4b18c601fdd19b43218ee07020dc1b"};console.info(`RAMP v${Ed.major}.${Ed.minor}.${Ed.patch} [${Ed.hash.slice(0,9)}] (Built on ${new Date(Ed.timestamp.toString()).toLocaleString()})`);const Sd=Ed;function SSt(t){return gSt(t)}function ASt(t){return fz(t)}const MSt=(t,e,n)=>new Z3t(t,e,n),yc=new Qpt;export{ch as $,Fw as A,hJ as B,Ow as C,wit as D,_st as E,J2 as F,yt as G,vn as H,ts as I,W5 as J,CL as K,QI as L,ut as M,Yn as N,be as O,ki as P,Nst as Q,FY as R,VE as S,sl as T,HZ as U,YI as V,Ost as W,E as X,nt as Y,Yt as Z,v as _,Ac as a,dE as a$,Kr as a0,J_ as a1,EO as a2,ph as a3,tW as a4,$e as a5,gn as a6,rZ as a7,Pd as a8,lh as a9,dx as aA,cf as aB,ng as aC,xh as aD,ol as aE,GI as aF,Hi as aG,Zn as aH,B8 as aI,oh as aJ,BZ as aK,Y_ as aL,Z_ as aM,uO as aN,nf as aO,rf as aP,Ps as aQ,UP as aR,Ryt as aS,Rs as aT,Ch as aU,Cx as aV,Lx as aW,Rx as aX,kx as aY,dit as aZ,qI as a_,Mc as aa,he as ab,Ast as ac,NY as ad,yN as ae,la as af,Te as ag,hH as ah,yn as ai,_I as aj,Gc as ak,et as al,SI as am,is as an,uJ as ao,Qr as ap,Xe as aq,Q as ar,Qn as as,En as at,el as au,Un as av,Py as aw,Hw as ax,k5 as ay,h1 as az,Xg as b,oZ as b$,yrt as b0,UO as b1,vR as b2,g3 as b3,fnt as b4,mnt as b5,nnt as b6,Zg as b7,FR as b8,Gi as b9,ge as bA,vh as bB,cN as bC,YK as bD,HK as bE,dr as bF,Ret as bG,qi as bH,Fg as bI,xI as bJ,Ant as bK,SR as bL,lR as bM,I_ as bN,Jw as bO,Xi as bP,wg as bQ,E8 as bR,x8 as bS,S3 as bT,tnt as bU,Qet as bV,Det as bW,Yh as bX,Wh as bY,Kc as bZ,Tnt as b_,xw as ba,_R as bb,qd as bc,Net as bd,Rt as be,Zc as bf,wW as bg,N_ as bh,k_ as bi,uH as bj,VH as bk,qw as bl,QY as bm,Vd as bn,Xd as bo,s_ as bp,es as bq,TN as br,qy as bs,Xy as bt,IN as bu,Jd as bv,RY as bw,qY as bx,l_ as by,jd as bz,KI as c,ynt as c$,sZ as c0,re as c1,na as c2,Pc as c3,qZ as c4,kV as c5,CV as c6,rQ as c7,RV as c8,sa as c9,Xr as cA,TP as cB,up as cC,yu as cD,tS as cE,Y2 as cF,mP as cG,yP as cH,L1 as cI,P1 as cJ,Ze as cK,Jot as cL,cot as cM,vS as cN,k1 as cO,Het as cP,oH as cQ,hl as cR,su as cS,LL as cT,PL as cU,DL as cV,Od as cW,V8 as cX,p1 as cY,Ist as cZ,Mst as c_,Mit as ca,Hs as cb,Jc as cc,cn as cd,mI as ce,FV as cf,_h as cg,pe as ch,MV as ci,rW as cj,cw as ck,ce as cl,Rc as cm,nn as cn,G_ as co,Qd as cp,tO as cq,cH as cr,jZ as cs,iQ as ct,iH as cu,yh as cv,nZ as cw,gh as cx,Sh as cy,aa as cz,Vi as d,lQ as d$,ef as d0,J8 as d1,X8 as d2,K8 as d3,TV as d4,zn as d5,wn as d6,Vn as d7,gi as d8,pr as d9,Ox as dA,pK as dB,lC as dC,tx as dD,W_ as dE,xR as dF,Snt as dG,V_ as dH,gnt as dI,gR as dJ,Wq as dK,Vq as dL,bN as dM,il as dN,Yy as dO,rit as dP,int as dQ,qN as dR,RZ as dS,HN as dT,rs as dU,RL as dV,xV as dW,mw as dX,sw as dY,jV as dZ,_w as d_,Jy as da,tp as db,f1 as dc,fK as dd,Xit as de,vrt as df,zy as dg,XK as dh,mrt as di,cX as dj,Pw as dk,ay as dl,zV as dm,lw as dn,cO as dp,HE as dq,Unt as dr,Fnt as ds,znt as dt,Bnt as du,Gnt as dv,bR as dw,wR as dx,JK as dy,Nw as dz,Px as e,wx as e$,NV as e0,kd as e1,Cd as e2,hw as e3,dw as e4,fw as e5,KV as e6,Bo as e7,gt as e8,ct as e9,vJ as eA,JW as eB,s1 as eC,O8 as eD,vC as eE,hu as eF,$L as eG,Tat as eH,aat as eI,vP as eJ,HW as eK,ia as eL,rH as eM,VW as eN,oat as eO,WN as eP,krt as eQ,Mrt as eR,pQ as eS,uQ as eT,Oh as eU,mi as eV,hQ as eW,dQ as eX,rg as eY,nK as eZ,_x as e_,rt as ea,fx as eb,ek as ec,Yi as ed,SK as ee,zc as ef,eX as eg,mg as eh,eK as ei,ff as ej,dg as ek,fg as el,tK as em,uK as en,ok as eo,jk as ep,sk as eq,Dk as er,cq as es,hq as et,bO as eu,_O as ev,wO as ew,xO as ex,lJ as ey,cJ as ez,Bt as f,El as f$,Gk as f0,vo as f1,ug as f2,IX as f3,Ti as f4,yg as f5,Bc as f6,bH as f7,Sst as f8,Vnt as f9,uc as fA,NB as fB,Xt as fC,Se as fD,Ue as fE,Tn as fF,St as fG,Mn as fH,Ra as fI,Ce as fJ,Ae as fK,rn as fL,Ee as fM,Bm as fN,v0 as fO,Hm as fP,Wn as fQ,li as fR,Rn as fS,ys as fT,Re as fU,to as fV,Zt as fW,Rv as fX,Rd as fY,DI as fZ,ist as f_,I8 as fa,N8 as fb,Dy as fc,oq as fd,xst as fe,XV as ff,rrt as fg,Ert as fh,TY as fi,XY as fj,nJ as fk,iJ as fl,jrt as fm,sH as fn,WI as fo,OB as fp,It as fq,tn as fr,LR as fs,PR as ft,jR as fu,_n as fv,bC as fw,fJ as fx,ne as fy,Qe as fz,NI as g,lx as g$,Vh as g0,GV as g1,aw as g2,qrt as g3,cr as g4,Z8 as g5,Oc as g6,wN as g7,ca as g8,MK as g9,KJ as gA,EK as gB,dK as gC,Jk as gD,LK as gE,oC as gF,og as gG,oW as gH,pE as gI,Kit as gJ,Ug as gK,jst as gL,Rit as gM,lg as gN,Iit as gO,SO as gP,mO as gQ,X_ as gR,Wit as gS,Vit as gT,nL as gU,Ix as gV,gst as gW,OL as gX,Ah as gY,hx as gZ,lX as g_,of as ga,Dc as gb,af as gc,wK as gd,ll as ge,Bq as gf,iZ as gg,T_ as gh,pJ as gi,YY as gj,J3 as gk,t5 as gl,pC as gm,Lk as gn,$V as go,Ek as gp,CJ as gq,FZ as gr,aO as gs,lO as gt,DV as gu,eL as gv,oO as gw,Fd as gx,drt as gy,trt as gz,RN as h,qJ as h$,cx as h0,S1 as h1,YJ as h2,vy as h3,Gy as h4,Iw as h5,j8 as h6,E1 as h7,R1 as h8,Xot as h9,KW as hA,Rw as hB,zB as hC,N as hD,kw as hE,Lw as hF,nW as hG,TL as hH,$W as hI,aZ as hJ,hY as hK,lm as hL,cm as hM,pP as hN,Y8 as hO,z8 as hP,Ck as hQ,Ik as hR,hO as hS,_e as hT,XJ as hU,uX as hV,VO as hW,vx as hX,df as hY,Ak as hZ,Th as h_,Yot as ha,qot as hb,Kot as hc,_a as hd,XW as he,IB as hf,Je as hg,g0 as hh,BB as hi,Tb as hj,v_ as hk,M_ as hl,kc as hm,dW as hn,fh as ho,Hd as hp,pO as hq,UZ as hr,OV as hs,gw as ht,Yq as hu,iN as hv,sN as hw,aN as hx,Nc as hy,a5 as hz,Pe as i,Cet as i$,SV as i0,qit as i1,Hit as i2,ag as i3,kK as i4,cC as i5,GB as i6,i0 as i7,gC as i8,Sk as i9,IT as iA,z2 as iB,Tt as iC,VB as iD,rr as iE,mo as iF,Jr as iG,Ka as iH,Aa as iI,Vp as iJ,An as iK,bd as iL,um as iM,qB as iN,vv as iO,gs as iP,Qm as iQ,bv as iR,Y3 as iS,ZE as iT,JE as iU,ly as iV,uW as iW,cy as iX,hW as iY,q3 as iZ,Cc as i_,Mk as ia,Tk as ib,Wy as ic,AN as id,aq as ie,GO as ig,lW as ih,cW as ii,aW as ij,gN as ik,zA as il,wd as im,MT as io,FB as ip,NJ as iq,ob as ir,Hp as is,iw as it,gV as iu,nI as iv,yV as iw,iI as ix,NT as iy,Ya as iz,XI as j,ait as j$,_g as j0,iq as j1,_W as j2,d1 as j3,Qit as j4,Jit as j5,sit as j6,zO as j7,LN as j8,Ye as j9,Zst as jA,nst as jB,tst as jC,qE as jD,vi as jE,OI as jF,MW as jG,p_ as jH,PO as jI,FO as jJ,rx as jK,PJ as jL,XE as jM,WZ as jN,Sy as jO,PH as jP,LH as jQ,h5 as jR,u5 as jS,rX as jT,tX as jU,RH as jV,vst as jW,mst as jX,pf as jY,Tx as jZ,CX as j_,am as ja,n_ as jb,Ys as jc,Nk as jd,nH as je,sx as jf,jO as jg,wH as jh,_H as ji,_V as jj,RM as jk,eF as jl,fs as jm,fG as jn,mG as jo,n0 as jp,ae as jq,xJ as jr,EJ as js,VY as jt,_N as ju,xC as jv,Qrt as jw,dnt as jx,kL as jy,Dst as jz,Ge as k,hI as k$,lit as k0,cit as k1,oK as k2,rK as k3,QX as k4,vk as k5,iK as k6,Fk as k7,sq as k8,NK as k9,ax as kA,Fst as kB,Ust as kC,$st as kD,zh as kE,YB as kF,WB as kG,de as kH,Id as kI,Z2 as kJ,CB as kK,ks as kL,$2 as kM,Ei as kN,$t as kO,AB as kP,cQ as kQ,hy as kR,ex as kS,vW as kT,R8 as kU,WR as kV,Cf as kW,Rf as kX,e8 as kY,$8 as kZ,Xrt as k_,oit as ka,ul as kb,Sl as kc,kY as kd,h_ as ke,Zd as kf,JY as kg,nz as kh,rz as ki,iz as kj,HB as kk,Ax as kl,hC as km,RK as kn,Dd as ko,hZ as kp,i_ as kq,Yst as kr,ZV as ks,oX as kt,mx as ku,tk as kv,gx as kw,XO as kx,nk as ky,dC as kz,ah as l,Dn as l$,Oi as l0,So as l1,ba as l2,kn as l3,mL as l4,gW as l5,Q8 as l6,BV as l7,F8 as l8,O_ as l9,Yit as lA,sL as lB,lq as lC,my as lD,lY as lE,Sc as lF,Fa as lG,ln as lH,dJ as lI,$Z as lJ,vI as lK,MN as lL,y_ as lM,e5 as lN,ZH as lO,nq as lP,I5 as lQ,vV as lR,Ok as lS,YO as lT,ZO as lU,WO as lV,JO as lW,ck as lX,Bu as lY,uG as lZ,ao as l_,c5 as la,ra as lb,pw as lc,AY as ld,__ as le,H_ as lf,u_ as lg,S_ as lh,Let as li,Uq as lj,UV as lk,bx as ll,AV as lm,tit as ln,LY as lo,m8 as lp,Dt as lq,mn as lr,no as ls,TT as lt,U2 as lu,V4 as lv,UB as lw,$v as lx,He as ly,Zit as lz,MS as m,b8 as m$,Mu as m0,dG as m1,qt as m2,Uv as m3,jv as m4,xi as m5,f4 as m6,lk as m7,QO as m8,uf as m9,brt as mA,l5 as mB,qW as mC,xH as mD,uC as mE,QV as mF,YV as mG,aJ as mH,oJ as mI,Tw as mJ,pW as mK,$3 as mL,f8 as mM,Gw as mN,eO as mO,nO as mP,U_ as mQ,F_ as mR,sJ as mS,rJ as mT,vO as mU,Tit as mV,fst as mW,yst as mX,dst as mY,hst as mZ,HV as m_,CK as ma,gP as mb,OH as mc,zd as md,yo as me,by as mf,knt as mg,Aet as mh,est as mi,hs as mj,iE as mk,Yrt as ml,Zrt as mm,Jrt as mn,wet as mo,Kg as mp,aH as mq,iW as mr,NW as ms,rk as mt,uk as mu,Nat as mv,BO as mw,ast as mx,Jn as my,Xn as mz,A1 as n,wst as n$,v8 as n0,o1 as n1,xS as n2,OP as n3,PP as n4,jat as n5,kP as n6,xot as n7,hS as n8,Lat as n9,$K as nA,Pr as nB,nX as nC,Fr as nD,SJ as nE,jI as nF,TH as nG,WY as nH,kk as nI,hk as nJ,aX as nK,KO as nL,hE as nM,TW as nN,sX as nO,AR as nP,l8 as nQ,Jh as nR,Xh as nS,MR as nT,xW as nU,lst as nV,yx as nW,ak as nX,mJ as nY,Ao as nZ,Ni as n_,NP as na,_P as nb,ql as nc,qp as nd,Br as ne,rb as nf,xc as ng,Y0 as nh,fo as ni,qr as nj,di as nk,Sn as nl,sQ as nm,A8 as nn,ent as no,Fet as np,zet as nq,Get as nr,Vet as ns,Bet as nt,Yet as nu,bw as nv,Pet as nw,rC as nx,TK as ny,mC as nz,bh as o,Oit as o$,BW as o0,yI as o1,WV as o2,VV as o3,$k as o4,EV as o5,EI as o6,JV as o7,hrt as o8,prt as o9,ert as oA,QJ as oB,frt as oC,IW as oD,hit as oE,us as oF,qst as oG,wk as oH,RX as oI,DX as oJ,aK as oK,PX as oL,jX as oM,cK as oN,Uk as oO,art as oP,lu as oQ,rL as oR,wV as oS,Dit as oT,nrt as oU,IV as oV,ik as oW,iL as oX,Cit as oY,crt as oZ,kit as o_,Rk as oa,uE as ob,EC as oc,Nit as od,lH as oe,DH as of,pst as og,ZI as oh,k8 as oi,AK as oj,RO as ok,OO as ol,r_ as om,Gq as on,IK as oo,ep as op,np as oq,ip as or,grt as os,irt as ot,lrt as ou,srt as ov,EW as ow,Grt as ox,Urt as oy,sW as oz,Kd as p,iX as p0,zW as p1,urt as p2,tL as p3,Sd as p4,SSt as p5,ASt as p6,MSt as p7,yc as p8,UY as q,ww as r,le as s,uy as t,mat as u,op as v,bst as w,Eo as x,lf as y,Ut as z};
