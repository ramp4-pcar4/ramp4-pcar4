{"version":3,"file":"MapServiceLayerViewHelper-CzQKY7tH.js","sources":["../../node_modules/@arcgis/core/views/layers/support/highlightUtils.js","../../node_modules/@arcgis/core/rest/operations/identify.js","../../node_modules/@arcgis/core/rest/support/IdentifyParameters.js","../../node_modules/@arcgis/core/rest/support/IdentifyResult.js","../../node_modules/@arcgis/core/rest/identify.js","../../node_modules/@arcgis/core/views/layers/support/MapServiceLayerViewHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../../../core/arrayUtils.js\";import o from\"../../../core/Collection.js\";import{isGraphic as t}from\"../../../support/guards.js\";function i(i){if(!i)return[];let e=t(i)?[i]:o.isCollection(i)?i.toArray():Array.isArray(i)?i:[];return e=e?.filter(r),0===(e?.length??0)?[]:e}export{i as getHighlightGraphics};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../core/sql.js\";import{getJsonType as t}from\"../../geometry/support/jsonUtils.js\";import{getScale as r}from\"../../geometry/support/scaleUtils.js\";import{srToRESTValue as i}from\"../../geometry/support/spatialReferenceUtils.js\";import{getLayerFloorFilterClause as n}from\"../../layers/support/floorFilterUtils.js\";import{isExportDynamic as s}from\"../../layers/support/sublayerUtils.js\";function o(e,r){const{dpi:n,gdbVersion:s,geometry:o,geometryPrecision:a,height:m,historicMoment:p,layerOption:f,mapExtent:y,maxAllowableOffset:u,returnFieldName:c,returnGeometry:d,returnUnformattedValues:g,returnZ:x,spatialReference:h,timeExtent:b,tolerance:E,width:O}=e.toJSON(),{dynamicLayers:S,layerDefs:j,layerIds:N}=l(e),$=null!=r?.geometry?r.geometry:null,I={historicMoment:p,geometryPrecision:a,maxAllowableOffset:u,returnFieldName:c,returnGeometry:d,returnUnformattedValues:g,returnZ:x,tolerance:E},R=$?.toJSON()||o;I.imageDisplay=`${O},${m},${n}`,s&&(I.gdbVersion=s),R&&(delete R.spatialReference,I.geometry=JSON.stringify(R),I.geometryType=t(R));const U=h??R?.spatialReference??y?.spatialReference;if(U&&(I.sr=i(U)),I.time=b?[b.start,b.end].join(\",\"):null,y){const{xmin:e,ymin:t,xmax:r,ymax:i}=y;I.mapExtent=`${e},${t},${r},${i}`}return j&&(I.layerDefs=j),S&&!j&&(I.dynamicLayers=S),I.layers=\"popup\"===f?\"visible\":f,N&&!S&&(I.layers+=`:${N.join(\",\")}`),I}function l(e){const{mapExtent:t,floors:i,width:o,sublayers:l,layerIds:m,layerOption:p,gdbVersion:f}=e,y=l?.find(e=>null!=e.layer)?.layer?.serviceSublayers,u=\"popup\"===p,c={},d=r({extent:t,width:o,spatialReference:t?.spatialReference}),g=[],x=e=>{const t=0===d,r=0===e.minScale||d<=e.minScale,i=0===e.maxScale||d>=e.maxScale;if(e.visible&&(t||r&&i))if(e.sublayers)e.sublayers.forEach(x);else{if(!1===m?.includes(e.id)||u&&(!e.popupTemplate||!e.popupEnabled))return;g.unshift(e)}};if(l?.forEach(x),l&&!g.length)c.layerIds=[];else{const e=s(g,y,f),t=g.map(e=>{const t=n(i,e);return e.toExportImageJSON(t)});if(e)c.dynamicLayers=JSON.stringify(t);else{if(l){let e=g.map(({id:e})=>e);m&&(e=e.filter(e=>m.includes(e))),c.layerIds=e}else m?.length&&(c.layerIds=m);const e=a(i,g);if(null!=e&&e.length){const t={};for(const r of e)r.definitionExpression&&(t[r.id]=r.definitionExpression);Object.keys(t).length&&(c.layerDefs=JSON.stringify(t))}}}return c}function a(t,r){const i=!!t?.length,s=r.filter(e=>null!=e.definitionExpression||i&&null!=e.floorInfo);return s.length?s.map(r=>{const i=n(t,r),s=e(i,r.definitionExpression);return{id:r.id,definitionExpression:s??void 0}}):null}export{o as identifyToIdentifyRESTParameters,l as toDynamicLayersJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../core/Collection.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{ensureClass as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as s}from\"../../core/accessorSupport/decorators/writer.js\";import n from\"../../geometry/Extent.js\";import l from\"../../geometry/SpatialReference.js\";import{fromJSON as m}from\"../../geometry/support/jsonUtils.js\";import{geometryTypes as y}from\"../../geometry/support/typeUtils.js\";import a from\"../../time/TimeExtent.js\";var u;let d=u=class extends o{static from(t){return i(u,t)}constructor(t){super(t),this.dpi=96,this.floors=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.historicMoment=null,this.layerIds=null,this.layerOption=\"top\",this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!0,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!0,this.returnZ=!1,this.spatialReference=null,this.sublayers=null,this.timeExtent=null,this.tolerance=null,this.width=400}writeHistoricMoment(t,e){e.historicMoment=t&&t.getTime()}};t([r({type:Number,json:{write:!0}})],d.prototype,\"dpi\",void 0),t([r()],d.prototype,\"floors\",void 0),t([r({type:String,json:{write:!0}})],d.prototype,\"gdbVersion\",void 0),t([r({types:y,json:{read:m,write:!0}})],d.prototype,\"geometry\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"geometryPrecision\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"height\",void 0),t([r({type:Date})],d.prototype,\"historicMoment\",void 0),t([s(\"historicMoment\")],d.prototype,\"writeHistoricMoment\",null),t([r({type:[Number],json:{write:!0}})],d.prototype,\"layerIds\",void 0),t([r({type:[\"top\",\"visible\",\"all\",\"popup\"],json:{write:!0}})],d.prototype,\"layerOption\",void 0),t([r({type:n,json:{write:!0}})],d.prototype,\"mapExtent\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"maxAllowableOffset\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnFieldName\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnGeometry\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnM\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnUnformattedValues\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnZ\",void 0),t([r({type:l,json:{write:!0}})],d.prototype,\"spatialReference\",void 0),t([r({type:e})],d.prototype,\"sublayers\",void 0),t([r({type:a,json:{write:!0}})],d.prototype,\"timeExtent\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"tolerance\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"width\",void 0),d=u=t([p(\"esri.rest.support.IdentifyParameters\")],d);const c=d;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import t from\"../../Graphic.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{typeKebabDictionary as a}from\"../../geometry/support/typeUtils.js\";let u=class extends e{constructor(r){super(r),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(r,e){return t.fromJSON({attributes:{...e.attributes},geometry:{...e.geometry}})}writeFeature(r,t){if(!r)return;const{attributes:e,geometry:o}=r;e&&(t.attributes={...e}),null!=o&&(t.geometry=o.toJSON(),t.geometryType=a.toJSON(o.type))}};r([o({type:String,json:{write:!0}})],u.prototype,\"displayFieldName\",void 0),r([o({type:t})],u.prototype,\"feature\",void 0),r([s(\"feature\",[\"attributes\",\"geometry\"])],u.prototype,\"readFeature\",null),r([i(\"feature\")],u.prototype,\"writeFeature\",null),r([o({type:Number,json:{write:!0}})],u.prototype,\"layerId\",void 0),r([o({type:String,json:{write:!0}})],u.prototype,\"layerName\",void 0),u=r([p(\"esri.rest.support.IdentifyResult\")],u);const m=u;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport r from\"../request.js\";import{normalizeCentralMeridian as e}from\"../geometry/support/normalizeUtils.js\";import{parseUrl as t,encode as o,asValidOptions as s}from\"./utils.js\";import{identifyToIdentifyRESTParameters as n}from\"./operations/identify.js\";import u from\"./support/IdentifyParameters.js\";import i from\"./support/IdentifyResult.js\";async function f(u,i,f){const c=(i=a(i)).geometry?[i.geometry]:[],l=t(u);return l.path+=\"/identify\",e(c).then(e=>{const t=n(i,{geometry:e?.[0]}),u=o({...l.query,f:\"json\",...t}),a=s(u,f);return r(l.path,a).then(m).then(r=>p(r,i.sublayers))})}function m(r){const e=r.data;return e.results=e.results||[],e.exceededTransferLimit=Boolean(e.exceededTransferLimit),e.results=e.results.map(r=>i.fromJSON(r)),e}function a(r){return r=u.from(r)}function p(r,e){if(!e?.length)return r;const t=new Map;function o(r){t.set(r.id,r),r.sublayers&&r.sublayers.forEach(o)}e.forEach(o);for(const s of r.results)s.feature.sourceLayer=t.get(s.layerId);return r}export{f as identify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../Color.js\";import r from\"../../../core/Accessor.js\";import{isSome as i}from\"../../../core/arrayUtils.js\";import s from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{getOrCreateMapValue as o}from\"../../../core/MapUtils.js\";import{debounce as a,throwIfAborted as l,ignoreAbortErrors as n}from\"../../../core/promiseUtils.js\";import{on as p}from\"../../../core/reactiveUtils.js\";import{sqlAnd as c}from\"../../../core/sql.js\";import{getMetersPerUnitForSR as u}from\"../../../core/unitUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import d from\"../../../geometry/Extent.js\";import{getResolutionForScale as m}from\"../../../geometry/support/scaleUtils.js\";import{collectFields as f}from\"../../../layers/support/fieldUtils.js\";import{getLayerFloorFilterClause as g}from\"../../../layers/support/floorFilterUtils.js\";import{calculateTolerance as b}from\"../../../renderers/support/clickToleranceUtils.js\";import{identify as w}from\"../../../rest/identify.js\";import v from\"../../../rest/support/IdentifyParameters.js\";import{loadArcade as x}from\"../../../support/loadArcade.js\";import _ from\"../../../symbols/SimpleMarkerSymbol.js\";import{getRequiredFields as j,getFetchPopupTemplate as F}from\"./popupUtils.js\";let G=null;function S(e,t){return\"tile\"===t.type||\"map-image\"===t.type}let P=class extends r{constructor(e){super(e),this._featuresResolutions=new WeakMap,this.highlightGraphics=null,this.highlightGraphicUpdated=null,this.updateHighlightedFeatures=a(async e=>{this.destroyed||await this.updatingHandles.addPromise(this._updateHighlightedFeaturesGeometries(e).catch(()=>{}))})}initialize(){const e=e=>{for(const t of e){const{sourceLayer:e}=t;null!=e&&\"geometryType\"in e&&\"point\"===e.geometryType&&t.visible&&(t.visible=!1,this.highlightGraphicUpdated?.({graphic:t,property:\"visible\",oldValue:!0,newValue:!1}))}this.updatingHandles.addPromise(this._updateHighlightedFeaturesSymbols(e).catch(()=>{})),n(this.updateHighlightedFeatures(this._highlightGeometriesResolution))};this.addHandles([p(()=>this.highlightGraphics,\"change\",t=>e(t.added),{onListenerAdd:t=>e(t)})])}async fetchPopupFeaturesAtLocation(e,t){const{layerView:{layer:r,view:{scale:i}}}=this;if(!e)throw new s(\"fetchPopupFeatures:invalid-area\",\"Nothing to fetch without area\",{layer:r});const o=U(r.sublayers,i,t);if(!o.length)return[];const a=await R(r,o);if(!((r.capabilities?.operations?.supportsIdentify??!0)&&r.version>=10.5)&&!a)throw new s(\"fetchPopupFeatures:not-supported\",\"query operation is disabled for this service\",{layer:r});return a?this._fetchPopupFeaturesUsingQueries(e,o,t):this._fetchPopupFeaturesUsingIdentify(e,o,t)}clearHighlights(){this.highlightGraphics?.removeAll()}async _updateHighlightedFeaturesSymbols(e){for(const t of e)this._updateSymbology(t)}_updateSymbology(e){if(\"point\"===e.geometry?.type)return this._updatePointSymbology(e)}_setGraphicSymbol(e,t){if(!t)return;const r=e.symbol;e.symbol=t,this.highlightGraphicUpdated?.({graphic:e,property:\"symbol\",oldValue:r,newValue:t})}_updatePointSymbology(e){const r=e.sourceLayer&&\"renderer\"in e.sourceLayer&&e.sourceLayer.renderer,{highlightGraphicUpdated:i,highlightGraphics:s,layerView:{view:o}}=this,a=e=>{e.visible||(e.visible=!0,i?.({graphic:e,property:\"visible\",oldValue:!1,newValue:!0}))};r&&\"getSymbolAsync\"in r?r.getSymbolAsync(e).then(async i=>{i||=new _;let l=null;const n=\"visualVariables\"in r?r.visualVariables?.find(e=>\"size\"===e.type):void 0;n&&(G||(G=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSize),l=G(n,e,{view:o.type,scale:o.scale,shape:\"simple-marker\"===i.type?i.style:null})),l||=\"width\"in i&&\"height\"in i&&null!=i.width&&null!=i.height?Math.max(i.width,i.height):\"size\"in i?i.size:16,s?.includes(e)&&(this._setGraphicSymbol(e,new _({style:\"square\",size:l,color:new t([255,255,255,1/255]),xoffset:\"xoffset\"in i?i.xoffset:0,yoffset:\"yoffset\"in i?i.yoffset:0})),a(e))}):a(e)}get _updateContext(){const{layerView:{layer:e},highlightGraphics:t,highlightGraphicUpdated:r}=this;return r&&t?.length&&e.capabilities.operations.supportsQuery?{highlightGraphicUpdated:r,highlightGraphics:t}:null}get highlightFeaturesActive(){return!!this._updateContext}async _updateHighlightedFeaturesGeometries(e){this._highlightGeometriesResolution=e;const t=this._updateContext;if(!t)return;const r=this._getTargetResolution(e),i=new Map,{highlightGraphics:s,highlightGraphicUpdated:a}=t;for(const c of s)if(!this._featuresResolutions.has(c)||this._featuresResolutions.get(c)>r){const e=c.sourceLayer;o(i,e,()=>new Map).set(c.getObjectId(),c)}const{layerView:{view:l}}=this,n=Array.from(i,([e,t])=>{const i=e.createQuery();return i.objectIds=[...t.keys()],i.outFields=[e.objectIdField],i.returnGeometry=!0,i.maxAllowableOffset=r,i.outSpatialReference=l.spatialReference,e.queryFeatures(i)}),p=await Promise.all(n);if(!this.destroyed)for(const{features:o}of p)for(const e of o){const t=e.sourceLayer,o=i.get(t).get(e.getObjectId());if(o&&s.includes(o)){const t=o.geometry;o.geometry=e.geometry,a({graphic:o,property:\"geometry\",oldValue:t,newValue:o.geometry}),this._featuresResolutions.set(o,r)}}}_getTargetResolution(e){const t=e*u(this.layerView.view.spatialReference),r=t/16;return r<=10?0:e/t*r}async _fetchPopupFeaturesUsingIdentify(e,t,r){const i=await this._createIdentifyParameters(e,t,r);if(null==i)return[];const{results:s}=await w(this.layerView.layer.parsedUrl,i,r);return s.map(e=>e.feature)}async _createIdentifyParameters(e,t,r){const{floors:i,layer:s,timeExtent:o,view:{spatialReference:a,scale:l}}=this.layerView;if(!t.length)return null;await Promise.all(t.map(({sublayer:e})=>e.load(r).catch(()=>{})));const n=Math.min(has(\"mapservice-popup-identify-max-tolerance\"),s.allSublayers.reduce((e,t)=>t.renderer?b({renderer:t.renderer,pointerType:r?.pointerType}):e,2)),p=this.createFetchPopupFeaturesQueryGeometry(e,n),c=m(l,a),u=Math.round(p.width/c),h=new d({xmin:p.center.x-c*u,ymin:p.center.y-c*u,xmax:p.center.x+c*u,ymax:p.center.y+c*u,spatialReference:p.spatialReference});return new v({floors:i,gdbVersion:\"gdbVersion\"in s?s.gdbVersion:void 0,geometry:e,height:u,layerOption:\"popup\",mapExtent:h,returnGeometry:!0,spatialReference:a,sublayers:s.sublayers,timeExtent:o,tolerance:n,width:u})}async _fetchPopupFeaturesUsingQueries(e,t,r){const{layerView:{floors:s,timeExtent:o}}=this,a=t.map(async({sublayer:t,popupTemplate:i})=>{if(await t.load(r).catch(()=>{}),t.capabilities&&!t.capabilities.operations.supportsQuery)return[];const a=t.createQuery(),n=b({renderer:t.renderer,pointerType:r?.pointerType}),p=this.createFetchPopupFeaturesQueryGeometry(e,n),u=new Set,[h]=await Promise.all([j(t,i),t.renderer?.collectRequiredFields(u,t.fieldsIndex)]);l(r),f(u,t.fieldsIndex,h);const y=Array.from(u).sort();a.geometry=p,a.outFields=y,a.timeExtent=o;const d=g(s,t);if(a.where=c(a.where,d),t.capabilities?.query.supportsOrderBy&&t.orderBy?.[0]){const e=t.orderBy[0],r=!e.valueExpression&&e.field,i=\"ascending\"===e.order?\"asc\":\"desc\";r&&(a.orderByFields=[`${r} ${i}`])}const m=this._getTargetResolution(p.width/n),w=await V(i);l(r);const v=\"point\"===t.geometryType||w&&w.arcadeUtils.hasGeometryOperations(i);v||(a.maxAllowableOffset=m);let{features:x}=await t.queryFeatures(a,r);const _=v?0:m;x=await A(t,x,r);for(const e of x)this._featuresResolutions.set(e,_);return x});return(await Promise.allSettled(a)).reduce((e,t)=>\"fulfilled\"===t.status?[...e,...t.value]:e,[]).filter(i)}};function U(e,t,r){const i=[];if(!e)return i;const s=e=>{const o=0===e.minScale||t<=e.minScale,a=0===e.maxScale||t>=e.maxScale;if(e.visible&&o&&a)if(e.sublayers)e.sublayers.forEach(s);else if(e.popupEnabled){const t=F(e,{...r,defaultPopupTemplateEnabled:!1});null!=t&&i.unshift({sublayer:e,popupTemplate:t})}};return e.map(s),i}function V(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some(e=>\"expression\"===e.type)?x():Promise.resolve()}async function R(e,t){if(e.capabilities?.operations?.supportsQuery)return!0;try{return await Promise.any(t.map(({sublayer:e})=>e.load().then(()=>e.capabilities.operations.supportsQuery)))}catch{return!1}}async function A(e,t,r){const i=e.renderer;return i&&\"defaultSymbol\"in i&&!i.defaultSymbol&&(t=i.valueExpression?await Promise.all(t.map(e=>i.getSymbolAsync(e,r).then(t=>t?e:null))).then(e=>e.filter(e=>null!=e)):t.filter(e=>null!=i.getSymbol(e))),t}e([h({constructOnly:!0})],P.prototype,\"createFetchPopupFeaturesQueryGeometry\",void 0),e([h({constructOnly:!0})],P.prototype,\"layerView\",void 0),e([h({constructOnly:!0})],P.prototype,\"highlightGraphics\",void 0),e([h({constructOnly:!0})],P.prototype,\"highlightGraphicUpdated\",void 0),e([h({constructOnly:!0})],P.prototype,\"updatingHandles\",void 0),e([h()],P.prototype,\"_updateContext\",null),P=e([y(\"esri.views.layers.support.MapServiceLayerViewHelper\")],P);export{P as MapServiceLayerViewHelper,U as collectPopupProviders,S as isMapServiceLayerView};\n"],"names":["i","t","o","r","e","n","s","m","p","f","y","u","c","d","x","h","b","E","O","S","j","N","l","$","I","R","U","g","a","G","P","_","w","has","v","V","A","F"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}