{"version":3,"file":"vertexSpaceConversion-okU9QrPr.js","sources":["../../node_modules/@arcgis/core/geometry/support/meshUtils/projection.js","../../node_modules/@arcgis/core/geometry/support/meshUtils/vertexSpaceConversion.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{hasScaling as r,deg2rad as t}from\"../../../core/mathUtils.js\";import{normalFromMat4 as o,fromMat4 as e}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as n}from\"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{invert as i}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as f}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{o as c,n as s}from\"../../../chunks/vec32.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as m}from\"../../projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as u}from\"../../projection/projectBuffer.js\";import{earth as l}from\"../Ellipsoid.js\";import{isCGCS2000 as p,isMars as y,isMoon as d}from\"../spatialReferenceUtils.js\";import{y2lat as T}from\"../webMercatorUtils.js\";import{BufferViewVec3f as j,BufferViewVec3f64 as A}from\"../buffer/BufferView.js\";import{b as g,n as h}from\"../../../chunks/vec3.js\";import{t as E}from\"../../../chunks/vec4.js\";const b=\"Projection may be possible after calling projection.load().\";function k(r,t,o,e){r.error(`Failed to project from (wkid:${t.wkid}) to (wkid:${o.wkid}).${e?\" \":\"\"}${e}`)}function w(r,t,o,e,n,i){return U(0,j.fromTypedArray(r),0,A.fromTypedArray(t),o,A.fromTypedArray(e),n,j.fromTypedArray(i))?i:null}function M(r,t,o,e,n,i){return U(1,j.fromTypedArray(r),0,A.fromTypedArray(t),o,A.fromTypedArray(e),n,j.fromTypedArray(i))?i:null}function V(r,t,o,e){return u(r,t,0,o,e,0)?o:null}function x(r,t,o,e){return u(r,t,0,o,e,0)?o:null}function v(t,e,n){return o(G,n),g(e,t,G),r(G)&&h(e,e),e}function B(t,o,n){return e(G,n),E(o,t,G),r(G)&&h(o,o,4),o}function R(r,o,e,n){const i=0===o;return _(r,o,e,(r,o)=>{const e=Math.cos(t(r));o[0]=i?e:1/e,o[1]=1},n)}function $(r,t,o,e){const n=0===t;return _(r,t,o,(r,t)=>{const o=Math.cosh(-r/l.radius);t[0]=1,t[1]=n?o:1/o},e)}function _(r,t,o,e,n){const i=0===t?3:4,f=[0,0];for(let c=0,s=1;c<r.length;c+=i,s+=3){e(o[s],f);const t=r[c]*f[0],a=r[c+1]*f[1],m=r[c+2],u=1/Math.sqrt(t*t+a*a+m*m);n[c]=t*u,n[c+1]=a*u,n[c+2]=m*u,4===i&&(n[c+3]=r[c+3])}return n}function F(r,t,o,e,n,i){if(!U(0,j.fromTypedArray(r,4*Float32Array.BYTES_PER_ELEMENT),1,A.fromTypedArray(t),o,A.fromTypedArray(e),n,j.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let f=3;f<r.length;f+=4)i[f]=r[f];return i}function P(r,t,o,e,n,i){if(!U(1,j.fromTypedArray(r,16),1,A.fromTypedArray(t),o,A.fromTypedArray(e),n,j.fromTypedArray(i,16)))return null;for(let f=3;f<r.length;f+=4)i[f]=r[f];return i}function S(r,t,n,f,c){switch(m(f,n,q,f),1===r&&i(q,q),t){case 0:return o(c,q);case 1:return e(c,q)}}function U(r,t,o,e,n,i,f,a){if(!t)return;const m=e.count;if(L(n))for(let s=0;s<m;s++)i.getVec(s,N),t.getVec(s,Y),c(Y,Y,S(r,o,N,f,G)),a.setVec(s,Y);else for(let u=0;u<m;u++){i.getVec(u,N),t.getVec(u,Y);const n=T(e.get(u,1));let m=Math.cos(n);1===o!=(0===r)&&(m=1/m),S(r,o,N,f,G),0===r?(G[0]*=m,G[1]*=m,G[2]*=m,G[3]*=m,G[4]*=m,G[5]*=m):(G[0]*=m,G[3]*=m,G[6]*=m,G[1]*=m,G[4]*=m,G[7]*=m),c(Y,Y,G),s(Y,Y),a.setVec(u,Y)}return a}function L(r){return r.isWGS84||p(r)||y(r)||d(r)}const N=a(),Y=a(),q=f(),G=n();export{b as loadProjectErrorMessage,k as logProjectionError,x as projectFromPCPF,M as projectNormalFromPCPF,w as projectNormalToPCPF,P as projectTangentFromPCPF,F as projectTangentToPCPF,V as projectToPCPF,v as transformNormal,B as transformTangent,R as transformVectorENUPlateCarree,$ as transformVectorWMPlateCarree};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Logger.js\";import{floatEqualUlp as n}from\"../../../core/mathUtils.js\";import{getMetersPerCartesianUnitForSR as r,convertUnit as e}from\"../../../core/unitUtils.js\";import{normalFromMat4 as o}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{exactEquals as l,scale as a,invert as s,copy as c,multiply as u}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as f,IDENTITY as m}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{u as p,e as g,t as x}from\"../../../chunks/vec32.js\";import{create as h}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{WGS84ECEFSpatialReference as v,getSphericalPCPF as j}from\"../../spatialReferenceEllipsoidUtils.js\";import{computeTranslationToOriginAndRotation as A}from\"../../projection/computeTranslationToOriginAndRotation.js\";import{projectPointToVector as w}from\"../../projection/projectPointToVector.js\";import{isRelativeVertexSpace as y,vertexSpaceEquals as F}from\"../meshVertexSpaceUtils.js\";import{isEarth as b}from\"../spatialReferenceUtils.js\";import{a as R,t as d,b as S}from\"../../../chunks/vec3.js\";import{logProjectionError as U,projectToPCPF as M,projectNormalToPCPF as T,projectTangentToPCPF as k,transformNormal as B,transformTangent as E,projectFromPCPF as L,projectNormalFromPCPF as V,projectTangentFromPCPF as C}from\"./projection.js\";const O=()=>t.getLogger(\"esri.geometry.support.meshUtils.vertexSpaceConversion\");function P(t,n,{vertexSpace:r,spatialReference:e}){if(\"georeferenced\"===r.type){const o=t;if(!w(n,o,e))return!1;const{origin:i}=r;return g(t,o,i),!0}const o=j(e),i=t;if(!w(n,i,o))return!1;const{origin:l}=r,a=lt;if(!A(e,l,a,o))return!1;const c=s(lt,a);return null!=c&&(x(t,i,c),!0)}function q(t,n,r){const{vertexSpace:e,transform:o,vertexAttributes:i}=t,a=y(e)?o:null,s=Y(t.spatialReference,r,3);if(F(e,n)&&(!a||l(a.localMatrix,m))&&Z(s)){const{position:t,normal:n,tangent:e}=i,o=r?.allowBufferReuse;return{position:o?t:t.slice(),normal:o?n:n?.slice(),tangent:o?e:e?.slice()}}switch(t.vertexSpace.type){case\"local\":return\"local\"===n.type?J(t,t.vertexSpace,n.origin,r):G(t,t.vertexSpace,n.origin,r);case\"georeferenced\":return\"local\"===n.type?H(t,t.vertexSpace,n.origin,r):z(t,t.vertexSpace,n.origin,r)}}function z({vertexAttributes:t,transform:n,spatialReference:r},{origin:e},o,i){const l=Y(r,i,3),a=e||!Z(l)?c(rt,n?.localMatrix??m):null;a&&X(a,r,i,3);const{position:s,normal:u,tangent:f}=a?K(t,a):t,g=i?.allowBufferReuse,x=g?s:new Float64Array(s.length);let h=s;if(e&&(h=R(x,h,e)),o){const t=p(it,o);h=R(x,h,t)}return{position:h!==t.position||g?h:h.slice(),normal:u!==t.normal||g?u:u?.slice(),tangent:f!==t.tangent||g?f:f?.slice()}}function D(t,n){return n?.useEllipsoid&&b(t)?v:j(t)}function G({spatialReference:t,vertexAttributes:n,transform:r},{origin:e},o,i){const l=D(t,i);if(!A(t,e,rt,l))return U(O(),t,l),null;r&&u(rt,rt,r.localMatrix),X(rt,t,i,1);const a=new Float64Array(n.position.length),s=N(n.position,rt,t,a,l);if(!s)return null;const c=Q(s,t,a,l,n.normal,rt);if(n.normal&&!c)return null;const f=W(s,t,a,l,n.tangent,rt);if(n.tangent&&!f)return null;if(o){const t=p(it,o);R(s,s,t)}return{position:s,normal:c,tangent:f}}function H({vertexAttributes:t,spatialReference:n,transform:r},{origin:e},i,l){const c=D(n,l);if(!A(n,i,rt,c))return U(O(),n,c),null;const u=1/Y(n,l,2);a(rt,rt,[u,u,u]);const f=s(et,rt),{position:m,normal:p,tangent:g}=I(t,e,r),x=new Float64Array(m.length),h=$(m,n,f,x,c);if(!h)return null;const v=o(ot,f),j=_(p,m,n,x,c,v,p!==t.normal?p:void 0);if(!j&&p)return null;const w=tt(g,m,n,x,c,v,g!==t.tangent?g:void 0);return!w&&g?null:{position:h,normal:j,tangent:w}}function I(t,n,r){if(!n)return t;if(!r){const{position:r,normal:e,tangent:o}=t;return{position:R(new Float64Array(r.length),r,n),tangent:o,normal:e}}const e=K(t,r.localMatrix);return R(e.position,e.position,n),e}function J({vertexAttributes:t,spatialReference:n,transform:r},{origin:e},o,i){const l=D(n,i);if(!A(n,e,rt,l))return U(O(),n,l),null;if(r&&u(rt,rt,r.localMatrix),!A(n,o,et,l))return U(O(),l,n),null;s(et,et);const a=u(rt,et,rt);return X(a,n,i,3),K(t,a)}function K(t,n){const r=new Float64Array(t.position.length);d(r,t.position,n);const e=t.normal?new Float32Array(t.normal.length):null,o=t.tangent?new Float32Array(t.tangent.length):null;return e&&t.normal&&B(t.normal,e,n),o&&t.tangent&&E(t.tangent,o,n),{position:r,normal:e,tangent:o}}function N(t,n,r,e,o){d(e,t,n);const i=new Float64Array(t.length);return L(e,o,i,r)?i:(U(O(),o,r),null)}function Q(t,n,r,e,o,i){if(null==o)return null;const l=new Float32Array(o.length);return B(o,l,i),V(l,t,n,r,e,l)?l:(U(O(),e,n),null)}function W(t,n,r,e,o,i){if(null==o)return null;const l=new Float32Array(o.length);return E(o,l,i),C(l,t,n,r,e,l)?l:(U(O(),e,n),null)}function X(t,n,r,e){const o=Y(n,r,e);Z(o)||a(t,t,[o,o,o])}function Y(t,n,r){const e=!!(1&r),o=!!(2&r),i=n?.sourceUnit,l=n?.targetUnit;if(!i&&!l)return 1;let a=nt(i,t);e||!i||Z(a)||(O().warn(\"source unit conversion not supported\"),a=1);let s=1/nt(l,t);return o||!l||Z(s)||(O().warn(\"target unit conversion not supported\"),s=1),a*s}function Z(t){return n(t,1)}function $(t,n,r,e,o){const i=M(t,n,e,o);if(!i)return U(O(),n,o),null;const l=new Float64Array(i.length);return d(l,i,r),l}function _(t,n,r,e,o,i,l){if(null==t)return null;const a=l??new Float32Array(t.length);return T(t,n,r,e,o,a)?(S(a,a,i),a):(U(O(),r,o),null)}function tt(t,n,r,e,o,i,l){if(null==t)return null;const a=l??new Float32Array(t.length);return k(t,n,r,e,o,a)?(S(a,a,i,4),a):(U(O(),r,o),null)}function nt(t,n){if(null==t)return 1;const o=r(n);return 1/e(o,\"meters\",t)}const rt=f(),et=f(),ot=i(),it=h(),lt=f();export{q as convertVertexSpace,nt as getUnitToSpatialReferenceScaleConversion,P as projectPointToVertexSpace};\n"],"names":["b","k","r","t","o","e","w","n","i","U","j","A","M","V","u","x","v","G","g","h","B","E","R","_","$","l","f","c","s","a","m","F","P","S","q","L","N","Y","T","p","y","d","O","lt","Z","J","H","z","rt","X","K","it","D","Q","W","et","I","ot","tt","C","nt"],"mappings":"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","x_google_ignoreList":[0,1]}