{"version":3,"file":"MeshWriterRegistry-CamYT-0m.js","sources":["../../node_modules/@arcgis/core/symbols/cim/placements/CIMMarkerPlacementHelper.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/AnimatedMeshWriter.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/animations/infos.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/animations/utils.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/attributes.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/ComputedAnimatedParams.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/AnimatedMarkerMeshWriter.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/AnimatedPolyMeshWriters.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/dotDensity/DotDensityMeshWriter.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/heatmap/HeatmapMeshWriter.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/segmentUtils.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/text/TextParams.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/text/TextMeshWriter.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/labels/LabelMeshWriter.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/markers/ComputedMarkerParams.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/markers/MarkerMeshWriter.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/DictionaryValue.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/MeshWriterInputEvaluator.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/pieChart/PieChartMeshWriter.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/MeshWriterRegistry.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getPlacementOperator as t}from\"../CIMOperators.js\";class e{static getPlacement(e,r,n,s,c){const o=t(n);if(!o)return null;-1===r&&e.invertY();return o.execute(e,n,s,c)}}export{e as CIMMarkerPlacementHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getBitMask as s}from\"../fill/meshWriterUtils.js\";import{MarkerConstants as t}from\"../markers/markerConstants.js\";import{MeshWriter as e}from\"../mesh/MeshWriter.js\";class o extends e{}function r(e){const{sprite:o,isMapAligned:r,colorLocked:i,scaleSymbolsProportionally:l,isStroke:m}=e;let n=0;return r&&(n|=s(t.bitset.isMapAligned)),i&&(n|=s(t.bitset.colorLocked)),o.sdf&&(n|=s(t.bitset.isSDF)),l&&(n|=s(t.bitset.scaleSymbolsProportionally)),m&&(n|=s(t.bitset.isStroke)),n}export{o as AAnimatedMeshWriter,r as packAnimatedBitset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{instructions as t}from\"./instructions.js\";function n(t){return t instanceof i?t:\"object\"==typeof t&&\"type\"in t?c[t.type].hydrate(t):new o(t)}class i{constructor(t){this.inputs=t}encode(){const t=[];for(const n of this.inputs)t.push(...n.encode());return t.push(...this.instructions),t}}class o extends i{constructor(t){super([]),this.value=t}simplify(){return this}get instructions(){if(Array.isArray(this.value)){const[n,i,o,s]=this.value;return null!=s?t.vector4.encode([n,i||0,o||0,s]):t.vector3.encode([n,i||0,o||0])}return t.scalar.encode(this.value)}}class s extends i{constructor(t,n){super([n]),this._config=t,this._parent=n}static hydrate(t){return new s(t,n(t.parent))}simplify(){if(this._config.relativeTranslation||this._config.absoluteScale)return this;const t=this._parent.simplify();if(!(t instanceof o))return this;const[n,i,r,e]=t.value,c=this._config.translation.from[0],a=this._config.translation.from[1],f=this._config.rotation.from,h=this._config.scale.from;if(c===this._config.translation.to[0]&&a===this._config.translation.to[1]&&f===this._config.rotation.to&&h===this._config.scale.to){const t=r+f,s=e*h,u=Math.sin(r),l=Math.cos(r);return new o([l*e*c-u*e*a+n,u*e*c+l*e*a+i,t,s])}return new s(this._config,t)}get instructions(){return t.animatedTransform.encode(this._config)}}class r extends i{constructor(t,n){super([n]),this._config=t,this._parent=n}static hydrate(t){return new r(t,n(t.parent))}simplify(){const t=this._parent.simplify();if(!(t instanceof o))return this;const[n,i,s,e]=t.value,c=this._config.color.from[0],a=this._config.color.from[1],f=this._config.color.from[2];let h=this._config.color.from[3];const u=this._config.opacity.from;return c===this._config.color.to[0]&&a===this._config.color.to[1]&&f===this._config.color.to[2]&&h===this._config.color.to[3]&&u===this._config.opacity.to?(h*=u,new o([n*c,i*a,s*f,e*h])):new r(this._config,t)}get instructions(){return t.animatedColor.encode(this._config)}}class e extends i{constructor(t,n){super([n]),this._config=t,this._parent=n}static hydrate(t){return new e(t,n(t.parent))}simplify(){const t=this._parent.simplify();return t instanceof o?new e(this._config,t):this}get instructions(){return t.animatedShift.encode(this._config)}}const c={AnimatedTransform:s,AnimatedColor:r,AnimatedShift:e};export{i as AAnimationInfo,r as AnimatedColor,e as AnimatedShift,s as AnimatedTransform,o as Constant,n as hydrate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../Color.js\";import{getStartGroup as t,getRandomValue as o}from\"../grouping.js\";import{hydrate as i}from\"./infos.js\";import{instructions as n}from\"./instructions.js\";function s(e){return a(e.map(e=>l(e)).map(e=>i(e).simplify()))}function r(e){const t=[];return t.push(e.transform),t.push(e.fromColor),t.push(e.toColor),t.push(e.colorMix),t.push(e.toOpacity),t.push(e.opacityMix),e?.shift?t.push(e?.shift):t.push([1,1,1,1]),t}function a(e){const t=[],o=[];let i=0;for(const s of e){const r=[...s.encode(),...n.ret.encode()];t.push([i+e.length,0,0,0]),o.push(...r),i+=r.length}return[...t,...o]}async function c(e,t){const o=e;let i;if(\"number\"==typeof o||\"string\"==typeof o||\"boolean\"==typeof o)i=o;else if(Array.isArray(o))i=await Promise.all(o.map(e=>c(e,t)));else if(\"object\"==typeof o)if(\"valueExpressionInfo\"in o){const{valueExpressionInfo:e}=o,{expression:n}=e;i={...o,computed:await t.createComputedField({expression:n})}}else{i={};for(const e in o)i[e]=await c(o[e],t)}return i}function l(i,n,s){function r(t){if(!(\"computed\"in t))return t;let o=t.computed.readWithDefault(n,s,[255*t.defaultValue[0],255*t.defaultValue[1],255*t.defaultValue[2],t.defaultValue[3]]);if(\"string\"==typeof o){const t=e.fromString(o);t&&(o=[t.r,t.g,t.b,t.a])}return o}const a=i;let c;if(\"number\"==typeof a||\"string\"==typeof a||\"boolean\"==typeof a)c=a;else if(Array.isArray(a))c=a.map(e=>l(e,n,s));else if(\"object\"==typeof a)if(\"type\"in a&&null!=a.type&&\"Process\"===a.type)switch(a.op){case\"ArcadeColor\":{const e=l(a.value,n,s);p(Array.isArray(e)&&4===e.length);c=[e[0]/255,e[1]/255,e[2]/255,e[3]]}break;case\"Transparency\":{const e=l(a.value,n,s);p(\"number\"==typeof e),c=1-e/100}break;case\"Divide\":case\"Multiply\":case\"Add\":{const e=l(a.left,n,s);p(\"number\"==typeof e);const t=l(a.right,n,s);switch(p(\"number\"==typeof t),a.op){case\"Divide\":c=e/t;break;case\"Multiply\":c=e*t;break;case\"Add\":c=e+t}}break;case\"Random\":{const e=l(a.seed,n,s),i=l(a.min,n,s),r=l(a.max,n,s),f=n.getObjectId(),p=t(f||0);c=i+o(p,e)*(r-i)}break;case\"Cond\":{const e=l(a.condition,n,s),t=l(a.ifTrue,n,s),o=l(a.ifFalse,n,s);c=e?t:o}break;case\"MatchWinding\":{const e=l(a.sign,n,s);let t=l(a.angle,n,s);if(e>0)for(;t<0;)t+=2*Math.PI;else for(;t>0;)t-=2*Math.PI;c=t}}else if(\"computed\"in a)c=r(a);else{c={};for(const e in a)c[e]=l(a[e],n,s)}return c}function*f(e){const t=e;if(Array.isArray(t))for(const o of t)yield*f(o);else if(\"object\"==typeof t)if(\"type\"in t&&null!=t.type&&\"Process\"===t.type)switch(t.op){case\"ArcadeColor\":case\"Transparency\":yield*f(t.value);break;case\"Divide\":case\"Multiply\":case\"Add\":yield*f(t.left),yield*f(t.right);break;case\"Random\":yield*f(t.seed),yield*f(t.min),yield*f(t.max);break;case\"Cond\":yield*f(t.condition),yield*f(t.ifTrue),yield*f(t.ifFalse);break;case\"MatchWinding\":yield*f(t.sign),yield*f(t.angle)}else if(\"computed\"in t)yield t.computed;else for(const o in t)yield*f(t[o])}function p(e){if(!e)throw new Error(\"Assertion failed.\")}export{p as assert,c as compileAnimationParam,r as createParamList,a as encodeParamList,s as fromJSON,f as getAnimationExpressions,l as resolveToAnimationInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{minMaxZoomPrecisionFactor as t,spritePadding as e}from\"../../../definitions.js\";import{assert as o}from\"../../../animations/utils.js\";import{packAnimatedBitset as i}from\"./AnimatedMeshWriter.js\";import{getMinMaxZoom as c}from\"../fill/meshWriterUtils.js\";import{DataType as n}from\"../../../../../../webgl/enums.js\";const a={type:n.SHORT,count:2,packPrecisionFactor:t,pack:({scaleInfo:t},{tileInfo:e})=>c(t,e)},s={type:n.FLOAT,count:4,packPrecisionFactor:1,packTessellation:({value1Position2Value2:t})=>(o(t),t)},p={type:n.FLOAT,count:4,packPrecisionFactor:1,packTessellation:()=>[0,0,0,1]},r={type:n.FLOAT,count:1,packPrecisionFactor:1,pack:()=>0},l={type:n.FLOAT,count:1,packPrecisionFactor:1,packTessellation:({lineLength:t})=>t},k={type:n.UNSIGNED_SHORT,count:1,packTessellation:({distance:t})=>t},u={type:n.BYTE,count:2,packPrecisionFactor:16,packTessellation:({directionX:t,directionY:e})=>[t,e]},T={type:n.FLOAT,count:2,packPrecisionFactor:16,packTessellation:({normalX:t,normalY:e})=>[t,e]},m={type:n.UNSIGNED_BYTE,count:3,pack:\"id\"},y={type:n.UNSIGNED_BYTE,count:1,pack:i},F={type:n.SHORT,count:2,pack:\"position\",packPrecisionFactor:1},f={marker:{type:n.FLOAT,count:2,packAlternating:{count:4,pack:({texelDimensions:t})=>[[-.5*t[0],-.5*t[1]],[.5*t[0],-.5*t[1]],[-.5*t[0],.5*t[1]],[.5*t[0],.5*t[1]]]}},line:{type:n.FLOAT,count:2,packTessellation:({extrusionOffsetX:t,extrusionOffsetY:e},{baseSize:o})=>[t*o/2,e*o/2]},fill:{type:n.FLOAT,count:2,packTessellation:()=>[0,0]}},O={marker:{type:n.SHORT,count:2,packPrecisionFactor:1,packAlternating:{count:4,packTessellation:({texXmax:t,texXmin:e,texYmax:o,texYmin:i})=>[[e,i],[t,i],[e,o],[t,o]]}}},S={type:n.UNSIGNED_SHORT,count:4,pack:({sprite:t})=>{const{rect:o,width:i,height:c}=t,n=o.x+e,a=o.y+e;return[n+1,a+1,n+i-1,a+c-1]}},d={type:n.UNSIGNED_SHORT,count:4,packPrecisionFactor:4,pack:({animations:t,baseSize:e,referenceSize:o})=>[t.dataColumn,t.dataRow,e,o]},x={type:n.UNSIGNED_SHORT,count:4,packPrecisionFactor:8,pack:({strokeWidth:t,pixelDimensions:e,baseSize:o,sprite:i,sizeRatio:c})=>{const n=Math.max(o*i.width/i.height,o),a=i.sdfDecodeCoeff*n*c;return[e[0],e[1],t,a]}},N={type:n.BYTE,count:1,packTessellation:({angle:t})=>t};export{k as accumulatedDistance,N as angle,d as animationPointerAndBaseSizeAndReferenceSize,y as bitset,m as id,l as lineLength,r as noLineLength,p as noTiming,T as normal,f as offset,F as pos,u as segmentDirection,x as sizing,S as tlbr,O as uv,s as value1Position2Value2,a as zoomRange};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../../../../core/screenUtils.js\";function i(i){let{pixelDimensions:t,texelDimensions:s,baseSize:r,referenceSize:n,strokeWidth:o,sizeRatio:f}=i;if(t||(t=i.sprite.sdf?[0,0]:[i.sprite.width,i.sprite.height]),s||(s=i.sprite.sdf?[0,0]:t),null!=i.patternHeight){const e=i.patternHeight/t[1];t[1]*=e,t[0]*=e}-1===r&&(r=t[1]),r=e(r),n=e(n),o=e(o);const p=(i.sprite.sdfDecodeCoeff??1)*f;return{...i,pixelDimensions:t,texelDimensions:s,baseSize:r,referenceSize:n,strokeWidth:o,sdfDecodeCoeff:p}}export{i as createComputedAnimatedMeshParams};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../../../../core/screenUtils.js\";import{GeometryCursor as t}from\"../../../../../../../geometry/GeometryCursor.js\";import{maxTileCoordValue as i}from\"../../../../../../../symbols/cim/constants.js\";import{CIMMarkerPlacementHelper as r}from\"../../../../../../../symbols/cim/placements/CIMMarkerPlacementHelper.js\";import{spritePadding as s}from\"../../../definitions.js\";import{AAnimatedMeshWriter as n}from\"./AnimatedMeshWriter.js\";import{angle as o,sizing as a,animationPointerAndBaseSizeAndReferenceSize as c,uv as l,offset as m,pos as d,bitset as p,id as h,lineLength as u,value1Position2Value2 as f,zoomRange as x}from\"./attributes.js\";import{createComputedAnimatedMeshParams as y}from\"./ComputedAnimatedParams.js\";import{c256ToRad as P}from\"../shaders/constants.js\";const M=64,g=64,v=2;class w extends n{get vertexSpec(){return{createComputedParams:y,optionalAttributes:{zoomRange:x,value1Position2Value2:f,lineLength:u},attributes:{id:h,bitset:p,pos:d,offset:m.marker,uv:l.marker,animationPointerAndBaseSizeAndReferenceSize:c,sizing:a,angle:o}}}_write(e,i,r){const s=this.evaluatedMeshParams.sprite,{textureBinding:n}=s;e.recordStart(this.instanceId,this.attributeLayout,n);const o=i.getDisplayId();if(this.shift&&\"esriGeometryPolyline\"===i.geometryType){if(!r){const r=t.fromFeatureSetReaderCIM(i);r&&this._writeParticles(e,i,r)}}else if(null!=this.evaluatedMeshParams.placement)this._writePlacedMarkers(e,i);else if(\"esriGeometryPolygon\"===i.geometryType){const t=i.readCentroidForDisplay();if(!t)return;const[r,s]=t.coords;this._writeQuad(e,o,r,s)}else if(\"esriGeometryPoint\"===i.geometryType){const t=i.readXForDisplay(),r=i.readYForDisplay();this._writeQuad(e,o,t,r)}else{const t=i.readGeometryForDisplay();t&&t.forEachVertex((t,i)=>{this._writeQuad(e,o,t,i)})}e.recordEnd()}_writePlacedMarkers(s,n){const o=t.fromFeatureSetReaderCIM(n)?.clone();if(!o)return;const a=-1,c=r.getPlacement(o,a,this.evaluatedMeshParams.placement,e(1),s.id);if(!c)return;const l=n.getDisplayId();let m=c.next(),d=null;for(;null!=m;){const e=m.tx,t=-m.ty;if(Math.abs(e)>i||Math.abs(t)>i){m=c.next();continue}const r=-m.getAngle();s.recordBounds(e,t,M,g),this.shift?d&&this._writeQuad(s,l,d[0],d[1],void 0,r):this._writeQuad(s,l,e,t,void 0,r),d=[e,t],m=c.next()}}_writeParticles(e,t,i){const r=t.getDisplayId();for(;i.nextPath();){const t=[];for(;i.nextPoint();)t.push([i.x,i.y]);const s=_(t);let n=0;for(let e=1;e<t.length;e++){const i=t[e][0]-t[e-1][0],r=t[e][1]-t[e-1][1],s=Math.sqrt(i*i+r*r);n+=s}const o=t=>{for(const i of s){const{a:s,b:o}=i;this._writeQuad(e,r,s.position[0],s.position[1],[s.distance-t,o.position[0],o.position[1],o.distance-t],this.evaluatedMeshParams.angleToLine?Math.atan2(s.direction[1],s.direction[0]):0,n,!0)}},{placement:a}=this.evaluatedMeshParams;if(!a||\"placementTemplate\"in a||\"CIMMarkerPlacementOnVertices\"===a.type){let e;if(a&&\"CIMMarkerPlacementOnVertices\"!==a.type)e=a.placementTemplate;else{e=[0];for(const t of s){const{a:i,b:r}=t,s=i.position[0]-r.position[0],n=i.position[1]-r.position[1],o=Math.sqrt(s*s+n*n);e.push(o)}}let t=-1*n;for(;t<(1+v/2)*n;)for(const i of e)t+=i,o(t)}else\"CIMMarkerPlacementAtExtremities\"===a.type?\"JustBegin\"===a.extremityPlacement?o(1):\"JustEnd\"===a.extremityPlacement?(o(n-1),o(-1)):\"Both\"===a.extremityPlacement&&(o(1),o(n-1)):\"CIMMarkerPlacementOnLine\"===a.type&&(\"LineBeginning\"===a.relativeTo?o(1):\"LineEnd\"===a.relativeTo?(o(n-1),o(-1)):\"LineMiddle\"===a.relativeTo&&o(n/2))}}_writeQuad(e,t,i,r,n,o=0,a=0,c=!1){const l=this.evaluatedMeshParams.sprite,{rect:m}=l,d=m.x+s,p=m.y+s,h=m.x+m.width-s,u=m.y+m.height-s,f=e.vertexCount();c||e.recordBounds(i,r,M,M);const x={texXmin:d,texYmin:p,texXmax:h,texYmax:u,value1Position2Value2:n,angle:o/P,lineLength:a};for(let s=0;s<4;s++)this._writeVertex(e,t,i,r,x);e.indexEnsureSize(6),e.indexWrite(f),e.indexWrite(f+1),e.indexWrite(f+2),e.indexWrite(f+1),e.indexWrite(f+3),e.indexWrite(f+2)}}function _(e){const t=[];let i=0;for(let r=1;r<e.length;r++){const s=e[r-1],n=e[r],o=n[0]-s[0],a=n[1]-s[1],c=Math.sqrt(o*o+a*a),l=o/c,m=a/c;t.push({a:{position:s,distance:i,direction:[l,m]},b:{position:n,distance:i+c,direction:[l,m]}}),i+=c}return t}class b extends w{constructor(){super(...arguments),this.shift=!1}}class C extends w{constructor(){super(...arguments),this.shift=!0}}export{b as AnimatedMarkerMeshWriter,C as AnimatedMarkerShiftMeshWriter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../../../../../../core/screenUtils.js\";import{GeometryCursor as e}from\"../../../../../../../geometry/GeometryCursor.js\";import{triangulate as s}from\"../../../../../../../geometry/libtess.js\";import{LineTessellation as i}from\"../../../TurboLine.js\";import{clipLinesMarshall as r,triangulate as n,clipMarshall as o}from\"../../../mesh/templates/templateUtils.js\";import{AAnimatedMeshWriter as a}from\"./AnimatedMeshWriter.js\";import{lineLength as h,noTiming as l,zoomRange as m,segmentDirection as u,normal as c,accumulatedDistance as d,sizing as f,animationPointerAndBaseSizeAndReferenceSize as p,tlbr as x,offset as _,pos as g,bitset as P,id as b,noLineLength as v}from\"./attributes.js\";import{createComputedAnimatedMeshParams as L}from\"./ComputedAnimatedParams.js\";import{processLineCapInput as y,processLineJoinInput as W}from\"../fill/meshWriterUtils.js\";import{LineTessellationParams as w}from\"../line/LineMeshWriter.js\";class C extends a{_write(t,s,i){const r=i??e.fromFeatureSetReaderCIM(s);if(!r)return;const n=this.evaluatedMeshParams.sprite,{textureBinding:o}=n;t.recordStart(this.instanceId,this.attributeLayout,o);const a=s.getDisplayId();this._writePoly(t,a,r.asOptimized()),t.recordEnd()}}class z extends C{constructor(){super(...arguments),this.vertexSpec={createComputedParams:L,attributes:{id:b,bitset:P,pos:g,offset:_.fill,tlbr:x,animationPointerAndBaseSizeAndReferenceSize:p,sizing:f},optionalAttributes:{zoomRange:m,value1Position2Value2:l,lineLength:v}}}_writePoly(t,e,i){const r=this._clip(i);if(!r)return;i=r;const o=[],a=t.vertexCount();let h;if(n(o,i)){if(0===o.length)return;h=0;for(const s of o){const r=i.coords[2*s],n=i.coords[2*s+1];this._writeVertex(t,e,r,n),h++}}else{const{coords:r,lengths:n}=i,o=s(r,n);h=o.vertexCount;for(let s=0;s<o.buffer.length/2;s++){const i=o.buffer[2*s],r=o.buffer[2*s+1];this._writeVertex(t,e,i,r)}}if(h>0){t.indexEnsureSize(h);for(let e=0;e<h;e++)t.indexWrite(e+a)}}_clip(t){const e=this.hasEffects;return o(t,e?256:8)}}class j{constructor(){this.id=0,this.bitset=0,this.indexCount=0,this.vertexCount=0,this.vertexFrom=0,this.vertexBounds=0,this.pathLength=0}}const S=65535;class T extends C{constructor(){super(...arguments),this.vertexSpec={createComputedParams:L,attributes:{id:b,bitset:P,pos:g,offset:_.line,tlbr:x,animationPointerAndBaseSizeAndReferenceSize:p,sizing:f,accumulatedDistance:d,normal:c,segmentDirection:u},optionalAttributes:{zoomRange:m,value1Position2Value2:l,lineLength:h}},this._tessParams=new w,this._currentWrite=new j,this._tessellationOptions={halfWidth:0,pixelCoordRatio:1,offset:0,wrapDistance:S,textured:!1},this._lineLength=0,this._lineTessellator=new i((t,e,s,i,r,n,o,a,h,l,m)=>this._writeTesselatedVertex(t,e,s,i,r,n,o,a,h,l,m,this._lineLength),this._writeTriangle.bind(this),!1)}_writePoly(s,i,n){const o=64,a=!1,h=r(e.fromOptimized(n,\"esriGeometryPolyline\"),o);if(null==h)return;const{_currentWrite:l,_tessellationOptions:m}=this,{baseSize:u,capType:c,joinType:d,miterLimit:f}=this.evaluatedMeshParams,p=t(.5*u);m.halfWidth=p,m.capType=y(c||\"Round\"),m.joinType=W(d||\"Round\"),m.miterLimit=f||2,l.out=s,l.id=i,l.vertexCount=0,l.indexCount=0,l.vertexFrom=s.vertexCount(),l.vertexBounds=1;for(const{line:t,start:e,pathLength:r}of h){m.initialDistance=e%S,l.pathLength=r,this._lineLength=0;for(let e=1;e<t.length;e++){const s=t[e].x-t[e-1].x,i=t[e].y-t[e-1].y;this._lineLength+=Math.sqrt(s*s+i*i)}this._lineTessellator.tessellate(t,m,a)}}_writeTesselatedVertex(t,e,s,i,r,n,o,a,h,l,m,u){const{out:c,id:d,vertexBounds:f,pathLength:p}=this._currentWrite;return this.hasEffects&&c.recordBounds(t,e,f,f),this._tessParams.extrusionOffsetX=o,this._tessParams.extrusionOffsetY=a,this._tessParams.normalX=h,this._tessParams.normalY=l,this._tessParams.directionX=r,this._tessParams.directionY=n,this._tessParams.distance=m,this._tessParams.pathLength=p,this._tessParams.lineLength=u,this._writeVertex(c,d,t,e,this._tessParams),this._currentWrite.vertexFrom+this._currentWrite.vertexCount++}_writeTriangle(t,e,s){const{out:i}=this._currentWrite;i.indexEnsureSize(3),i.indexWrite(t),i.indexWrite(e),i.indexWrite(s),this._currentWrite.indexCount+=3}}export{C as AAnimatedPolyMeshWriter,z as AnimatedFillMeshWriter,T as AnimatedLineMeshWriter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{AFillMeshWriter as e}from\"../fill/AFillMeshWriter.js\";import{DataType as t}from\"../../../../../../webgl/enums.js\";const r={createComputedParams:e=>e,optionalAttributes:{},attributes:{id:{type:t.UNSIGNED_BYTE,count:3,pack:\"id\"},bitset:{type:t.UNSIGNED_BYTE,count:1},pos:{type:t.SHORT,count:2,pack:\"position\",packPrecisionFactor:10},inverseArea:{type:t.FLOAT,count:1,packTessellation:({inverseArea:e})=>e}}};class s extends e{constructor(){super(...arguments),this.vertexSpec=r}createTesselationParams(e){return{inverseArea:1/e.readGeometryArea()}}}export{s as DotDensityMeshWriter,r as dotDensityVertexSpec};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{MeshWriter as t}from\"../mesh/MeshWriter.js\";import{DataType as e}from\"../../../../../../webgl/enums.js\";const r={createComputedParams:t=>t,optionalAttributes:{},attributes:{pos:{type:e.SHORT,count:2,pack:\"position\",packPrecisionFactor:10},id:{type:e.UNSIGNED_BYTE,count:3,pack:\"id\"},bitset:{type:e.UNSIGNED_BYTE,count:1},offset:{type:e.BYTE,count:2,packAlternating:{count:4,pack:()=>[[-1,-1],[1,-1],[-1,1],[1,1]]}}}};class i extends t{constructor(){super(...arguments),this.vertexSpec=r}_write(t,e){t.recordStart(this.instanceId,this.attributeLayout);const r=e.getDisplayId();if(\"esriGeometryPoint\"===e.geometryType){const i=e.readXForDisplay(),o=e.readYForDisplay();this._writeQuad(t,r,i,o)}else if(\"esriGeometryMultipoint\"===e.geometryType){const i=e.readGeometryForDisplay();i?.forEachVertex((e,i)=>{e>=0&&e<=512&&i>=0&&i<=512&&this._writeQuad(t,r,e,i)})}t.recordEnd()}_writeQuad(t,e,r,i){const o=t.vertexCount();this._writeVertex(t,e,r,i),t.indexWrite(o+0),t.indexWrite(o+1),t.indexWrite(o+2),t.indexWrite(o+1),t.indexWrite(o+3),t.indexWrite(o+2)}}export{i as HeatmapMeshWriter,r as heatmapVertexSpec};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{tileSize as t}from\"../../definitions.js\";function e(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function n(t,e){return Math.sqrt(t*t+e*e)}function s(t){const e=n(t[0],t[1]);t[0]/=e,t[1]/=e}function i(t,e){return n(t[0]-e[0],t[1]-e[1])}function r(t,e){return t[e+1]}function h(t){return t.length-1}function a(t){let e=0;for(let n=0;n<h(t);n++)e+=d(t,n);return e}function d(t,e,n=1){let[s,i]=r(t,e);return[s,i]=[Math.round(s),Math.round(i)],Math.sqrt(s*s+i*i)*n}class u{constructor(t,e,n,s,i){this._segments=t,this._index=e,this._distance=n,this._xStart=s,this._yStart=i,this._done=!1}static create(t){return new u(t,0,0,t[0][0],t[0][1])}clone(){return new u(this._segments,this._index,this._distance,this.xStart,this.yStart)}equals(t){return this._index===t._index||t._index===this._index-1&&(0===this._distance||1===t._distance)||t._index===this._index+1&&(1===this._distance||0===t._distance)}leq(t){return this._index<t._index||this._index===t._index&&this._distance<=t._distance}geq(t){return this._index>t._index||this._index===t._index&&this._distance>=t._distance}get _segment(){return this._segments[this._index+1]}get angle(){const t=this.dy,e=(0*t+-1*-this.dx)/(1*this.length);let n=Math.acos(e);return t>0&&(n=2*Math.PI-n),n}get xStart(){return this._xStart}get yStart(){return this._yStart}get x(){return this.xStart+this.distance*this.dx}get y(){return this.yStart+this.distance*this.dy}get dx(){return this._segment[0]}get dy(){return this._segment[1]}get xMidpoint(){return this.xStart+.5*this.dx}get yMidpoint(){return this.yStart+.5*this.dy}get xEnd(){return this.xStart+this.dx}get yEnd(){return this.yStart+this.dy}get length(){const{dx:t,dy:e}=this;return Math.sqrt(t*t+e*e)}get remainingLength(){return this.length*(1-this._distance)}get backwardLength(){return this.length*this._distance}get distance(){return this._distance}get done(){return this._done}hasPrev(){return this._index-1>=0}hasNext(){return this._index+1<h(this._segments)}next(){return this.hasNext()?(this._xStart+=this.dx,this._yStart+=this.dy,this._distance=0,this._index+=1,this):null}prev(){return this.hasPrev()?(this._index-=1,this._xStart-=this.dx,this._yStart-=this.dy,this._distance=1,this):(this._done=!0,null)}_seekBackwards(t,e){const n=this.backwardLength;if(t<=n)return this._distance=(n-t)/this.length,this;let s=this.backwardLength;for(;this.prev();){if(s+this.length>t)return this._seekBackwards(t-s);s+=this.length}return this._distance=0,e?this:null}seek(t,e=!1){if(t<0)return this._seekBackwards(Math.abs(t),e);if(t<=this.remainingLength)return this._distance=(this.backwardLength+t)/this.length,this;let n=this.remainingLength;for(;this.next();){if(n+this.length>t)return this.seek(t-n,e);n+=this.length}return this._distance=1,e?this:null}}function c(e,n,s,i=!0){const r=a(e),h=u.create(e),d=r/2;if(!i)return h.seek(d),void(h.x<t&&h.y<t&&h.x>=0&&h.y>=0&&s(h.clone(),0,d+0*n,r));const c=Math.max((r-n)/2,0),o=Math.floor(c/n),_=d-o*n;h.seek(_);for(let a=-o;a<=o;a++)h.x<t&&h.y<t&&h.x>=0&&h.y>=0&&s(h.clone(),a,d+a*n,r),h.seek(n)}function o(t,e,n){_(n,e,a(t),u.create(t),0)}function _(t,e,n,s,i){if(n<e)return;const r=s.clone().seek(n/2);if(null==r)return;t(r.clone(),n,i),n=(n-e)/2;const h=r.seek(e/2);_(t,e,n,s,i+1),_(t,e,n,h,i+1)}function l(t,e){const n=e;for(let s=0;s<t.length;s++){let e=t[s];x(e,n);const i=[];i.push(e[0]);for(let t=1;t<e.length;t++){const[n,s]=e[t-1],[r,h]=e[t],a=r-n,d=h-s;i.push([a,d])}t[s]=i,e=i}return t}function x(t,n){const r=1e-6;if(n<=0)return;const h=t.length;if(h<3)return;const a=[];let d=0;a.push(0);for(let e=1;e<h;e++)d+=i(t[e],t[e-1]),a.push(d);n=Math.min(n,.2*d);const u=[];u.push(t[0][0]),u.push(t[0][1]);const c=t[h-1][0],o=t[h-1][1],_=e([0,0],t[0],t[1]);s(_),t[0][0]+=n*_[0],t[0][1]+=n*_[1],e(_,t[h-1],t[h-2]),s(_),t[h-1][0]+=n*_[0],t[h-1][1]+=n*_[1];for(let e=1;e<h;e++)a[e]+=n;a[h-1]+=n;const l=.5*n;for(let e=1;e<h-1;e++){let s=0,i=0,d=0;for(let h=e-1;h>=0&&!(a[h+1]<a[e]-l);h--){const u=l+a[h+1]-a[e],c=a[h+1]-a[h],o=a[e]-a[h]<l?1:u/c;if(Math.abs(o)<r)break;const _=o*o,x=o*u-.5*_*c,g=o*c/n,f=t[h+1],y=t[h][0]-f[0],k=t[h][1]-f[1];s+=g/x*(f[0]*o*u+.5*_*(u*y-c*f[0])-_*o*c*y/3),i+=g/x*(f[1]*o*u+.5*_*(u*k-c*f[1])-_*o*c*k/3),d+=g}for(let u=e+1;u<h&&!(a[u-1]>a[e]+l);u++){const h=l-a[u-1]+a[e],c=a[u]-a[u-1],o=a[u]-a[e]<l?1:h/c;if(Math.abs(o)<r)break;const _=o*o,x=o*h-.5*_*c,g=o*c/n,f=t[u-1],y=t[u][0]-f[0],k=t[u][1]-f[1];s+=g/x*(f[0]*o*h+.5*_*(h*y-c*f[0])-_*o*c*y/3),i+=g/x*(f[1]*o*h+.5*_*(h*k-c*f[1])-_*o*c*k/3),d+=g}u.push(s/d),u.push(i/d)}u.push(c),u.push(o);for(let e=0,s=0;e<h;e++)t[e][0]=u[s++],t[e][1]=u[s++]}export{u as SegmentCursor,c as pathDivide,a as pathLength,o as pathSubdivide,r as segmentAt,h as segmentCount,d as segmentLength,l as smoothPaths};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{applyParentTransform as t}from\"../../../../../../../symbols/cim/utils.js\";const s=96;class i{constructor(i){const{offsetX:o,offsetY:e,postAngle:f,fontSize:h,haloSize:n,outlineSize:l,scaleFactor:z,transforms:a}=i;if(this.offsetX=o,this.offsetY=e,this.postAngle=f,this.fontSize=Math.min(h,s),this.haloSize=n??0,this.outlineSize=l??0,this.transforms=a,a&&a.infos.length>1){const i=t(h,f,!1,o,e,a,!1);this.fontSize=Math.min(i.size,s);const n=i.size/h;this.haloSize*=n,this.outlineSize*=n,this.postAngle=i.rotation,this.offsetX=i.offsetX,this.offsetY=i.offsetY}z&&(this.fontSize*=z,this.offsetX*=z,this.offsetY*=z)}}export{i as TextMeshTransformProps};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../../../../core/mathUtils.js\";import{pt2px as e}from\"../../../../../../../core/screenUtils.js\";import{GeometryCursor as o}from\"../../../../../../../geometry/GeometryCursor.js\";import{CIMMarkerPlacementHelper as i}from\"../../../../../../../symbols/cim/placements/CIMMarkerPlacementHelper.js\";import{getXDirection as r,getYDirection as s}from\"../../../alignmentUtils.js\";import{minMaxZoomPrecisionFactor as n,maxTextLineWidth as a,minTextLineWidth as c,magicLabelLineHeight as l,glyphSize as h}from\"../../../definitions.js\";import{shapeGlyphs as f}from\"../../../mesh/templates/shapingUtils.js\";import{processColorInput as p,packBitset as m,getMinMaxZoom as d}from\"../fill/meshWriterUtils.js\";import{MeshWriter as u}from\"../mesh/MeshWriter.js\";import{bitsetTextIsBackground as g,bitsetTextIsMapAligned as x}from\"../shaders/constants.js\";import{TextMeshTransformProps as y}from\"./TextParams.js\";import{DataType as S}from\"../../../../../../webgl/enums.js\";const _=28,P=[4,4],b=[16,4],T={topLeft:b,topRight:b,bottomLeft:b,bottomRight:b},k=[4,2],z=[4,6],B={topLeft:k,topRight:k,bottomLeft:z,bottomRight:z},R={topLeft:k,topRight:z,bottomLeft:k,bottomRight:z},M={topLeft:z,topRight:z,bottomLeft:P,bottomRight:P},L={topLeft:P,topRight:P,bottomLeft:z,bottomRight:z},w={topLeft:z,topRight:P,bottomLeft:z,bottomRight:P},I={topLeft:P,topRight:z,bottomLeft:P,bottomRight:z},A={createComputedParams:t=>t,optionalAttributes:{zoomRange:{type:S.UNSIGNED_SHORT,count:2,packPrecisionFactor:n,packTessellation:({minZoom:t,maxZoom:e})=>[t||0,e||_]},clipAngle:{type:S.UNSIGNED_BYTE,count:1,packTessellation:({clipAngle:t})=>G(t||0)},referenceSymbol:{type:S.BYTE,count:4,packPrecisionFactor:1,packTessellation:(t,o)=>{const i=t.isLineLabel||!t.referenceBounds,n=r(i?\"center\":o.horizontalAlignment),a=s(i?\"middle\":o.verticalAlignment),{offsetX:c,offsetY:l,size:h}=i?{offsetX:0,offsetY:0,size:0}:t.referenceBounds;return[e(c),-e(l),Math.round(e(h)),n+1<<2|a+1]}},visibility:{type:S.FLOAT,count:1,otherSource:!0}},attributes:{pos:{type:S.SHORT,count:2,pack:\"position\",packPrecisionFactor:10},id:{type:S.UNSIGNED_BYTE,count:3,pack:\"id\"},bitset:{type:S.UNSIGNED_BYTE,count:1,packTessellation:({isBackground:t,mapAligned:e})=>m([[g,t],[x,!!e]])},offset:{type:S.SHORT,count:2,packPrecisionFactor:8,packAlternating:{count:4,packTessellation:({offsets:t})=>{const{bottomLeft:e,bottomRight:o,topLeft:i,topRight:r}=t;return[i,r,e,o]}}},textureUV:{type:S.SHORT,count:2,packPrecisionFactor:4,packAlternating:{count:4,packTessellation:({texcoords:t})=>{const{bottomLeft:e,bottomRight:o,topLeft:i,topRight:r}=t;return[i,r,e,o]}}},color:{type:S.UNSIGNED_BYTE,count:4,normalized:!0,packTessellation:({color:t})=>t},fontAndReferenceSize:{type:S.UNSIGNED_SHORT,count:2,packPrecisionFactor:4,packTessellation:({fontSize:t},{referenceSize:o})=>[Math.round(e(t)),Math.round(e(o??t))]},outlineColor:{type:S.UNSIGNED_BYTE,count:4,normalized:!0,pack:({outlineColor:t})=>p(t)},haloColor:{type:S.UNSIGNED_BYTE,count:4,normalized:!0,pack:({haloColor:t})=>p(t)},outlineAndHaloSize:{type:S.UNSIGNED_SHORT,count:2,packPrecisionFactor:4,packTessellation:({outlineSize:t,haloSize:o})=>[Math.round(e(t)),Math.round(e(o))]}}};class E extends u{constructor(){super(...arguments),this.vertexSpec=A,this._textMeshParamsPropsInitialized=!1}ensurePacked(t,e,o){super.ensurePacked(t,e,o),this._textMeshParamsPropsInitialized&&!this._evaluator.hasDynamicProperties||(this._textMeshTransformProps=new y(this.evaluatedMeshParams),this._textMeshParamsPropsInitialized=!0)}_write(t,e,o){const i=this._getShaping();if(!i)return;const r=e.getDisplayId();if(null!=this.evaluatedMeshParams.placement)return this._writePlacedTextMarkers(t,e,i,o);if(o?.nextPath())return o.nextPoint(),this._writeGlyphs(t,r,o.x,o.y,i,0);if(\"esriGeometryPolygon\"===e.geometryType){const o=e.readCentroidForDisplay();if(!o)return;const[s,n]=o.coords;return this._writeGlyphs(t,r,s,n,i,0)}if(\"esriGeometryMultipoint\"===e.geometryType){const o=e.readGeometryForDisplay();return void o?.forEachVertex((e,o)=>this._writeGlyphs(t,r,e,o,i,0))}const s=e.readXForDisplay(),n=e.readYForDisplay();return this._writeGlyphs(t,r,s,n,i,0)}_writePlacedTextMarkers(t,r,s,n){const a=n??o.fromFeatureSetReaderCIM(r);if(!a)return;const c=-1,l=i.getPlacement(a,c,this.evaluatedMeshParams.placement,e(1),t.id);if(!l)return;const h=r.getDisplayId();let f=l.next();for(;null!=f;){const e=f.tx,o=-f.ty,i=-f.getAngle();this._writeGlyphs(t,h,e,o,s,i),f=l.next()}}_getShaping(o){const i=this._textMeshTransformProps,r=this.evaluatedMeshParams;if(!r.glyphs?.glyphs.length)return null;const s=e(i.fontSize),n=e(i.offsetX),p=e(i.offsetY),m=t(e(r.lineWidth),c,a),d=l*t(r.lineHeightRatio,.25,4);return f(r.glyphs,{scale:s/h,angle:i.postAngle,xOffset:n,yOffset:p,horizontalAlignment:r.horizontalAlignment,verticalAlignment:o||r.verticalAlignment,maxLineWidth:m,lineHeight:d,decoration:r.decoration,borderLineSizePx:e(r.boxBorderLineSize),hasBackground:!!r.boxBackgroundColor,useCIMAngleBehavior:r.useCIMAngleBehavior})}_writeGlyphs(t,o,i,r,s,n,a,c,l=!0){const h=this.evaluatedMeshParams,f=this._textMeshTransformProps,m=e(f.fontSize),u=f.haloSize,g=f.outlineSize,x=e(f.offsetX),y=e(f.offsetY),[S,_]=d(h.scaleInfo,this.getTileInfo());0!==n&&s.setRotation(n);const P=s.bounds,b=i+P.x+x,T=r+P.y-y,k=2*(h.minPixelBuffer?h.minPixelBuffer/m:1),z=Math.max(P.width,P.height)*k;s.textBox&&(t.recordStart(this.instanceId,this.attributeLayout,s.glyphs[0].textureBinding),l&&t.recordBounds(b,T,z,z),this._writeTextBox(t,o,i,r,s.textBox,a,c),t.recordEnd());for(const e of s.glyphs){t.recordStart(this.instanceId,this.attributeLayout,e.textureBinding),l&&t.recordBounds(b,T,z,z);const{texcoords:s,offsets:n}=e;this._writeQuad(t,o,i,r,{texcoords:s,offsets:n,fontSize:m,haloSize:u,outlineSize:g,color:p(h.color),isBackground:!1,referenceBounds:a,minZoom:S,maxZoom:_,...c}),t.recordEnd()}0!==n&&s.setRotation(-n)}_writeTextBox(t,e,o,i,r,s,n){const a=this.evaluatedMeshParams,{fontSize:c,haloSize:l,outlineSize:h}=this._textMeshTransformProps,{boxBackgroundColor:f,boxBorderLineColor:m}=a,d={isBackground:!0,fontSize:c,haloSize:l,outlineSize:h,referenceBounds:s,...n};f&&(this._writeQuad(t,e,o,i,{texcoords:T,offsets:r.main,color:p(f),...d}),m||(this._writeQuad(t,e,o,i,{texcoords:M,offsets:r.top,color:p(f),...d}),this._writeQuad(t,e,o,i,{texcoords:L,offsets:r.bot,color:p(f),...d}),this._writeQuad(t,e,o,i,{texcoords:w,offsets:r.left,color:p(f),...d}),this._writeQuad(t,e,o,i,{texcoords:I,offsets:r.right,color:p(f),...d}))),m&&(this._writeQuad(t,e,o,i,{texcoords:B,offsets:r.top,color:p(m),...d}),this._writeQuad(t,e,o,i,{texcoords:B,offsets:r.bot,color:p(m),...d}),this._writeQuad(t,e,o,i,{texcoords:R,offsets:r.left,color:p(m),...d}),this._writeQuad(t,e,o,i,{texcoords:R,offsets:r.right,color:p(m),...d}))}_writeQuad(t,e,o,i,r){const s=t.vertexCount();this._writeVertex(t,e,o,i,r),t.indexWrite(s+0),t.indexWrite(s+1),t.indexWrite(s+2),t.indexWrite(s+1),t.indexWrite(s+3),t.indexWrite(s+2)}}const G=t=>Math.round(t*(254/360));export{E as TextMeshWriter,A as TextVertexSpec,_ as maxLabelZoom};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{memoize as e}from\"../../../../../../../core/MapUtils.js\";import{pt2px as t}from\"../../../../../../../core/screenUtils.js\";import{numericHash as i}from\"../../../../../../../core/string.js\";import{fromRotation as r,translate as s}from\"../../../../../../../core/libs/gl-matrix-2/math/mat2d.js\";import{create as o}from\"../../../../../../../core/libs/gl-matrix-2/factories/mat2df32.js\";import{transformMat2d as n,set as a,sub as l,normalize as c,add as h,scale as m}from\"../../../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as d}from\"../../../../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{create as u}from\"../../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{GeometryCursor as f}from\"../../../../../../../geometry/GeometryCursor.js\";import{generalizeOptimizedGeometry as g,convertToGeometry as _}from\"../../../../../../../layers/graphics/featureConversionUtils.js\";import p from\"../../../../../../../layers/graphics/OptimizedGeometry.js\";import{tileSize as b,minMaxZoomPrecisionFactor as x}from\"../../../definitions.js\";import v from\"../../../collisions/BoundingBox.js\";import{LabelMetric as M}from\"../../../collisions/LabelMetric.js\";import{smoothPaths as P,pathDivide as y}from\"../../../mesh/templates/segmentUtils.js\";import{getMinMaxZoom as w,processColorInput as L}from\"../fill/meshWriterUtils.js\";import{TextMeshWriter as I,maxLabelZoom as B}from\"../text/TextMeshWriter.js\";const S=1,z=0,D=128;function A(e,t,r){return i(`${e}${t}${r}`)}function j(e,t,r,s,o){return i(`${e}${t}${r}${s*2**(B-o)}`)}function G(e,t,r){return i(`${e}${t}${r}`)}function Z(e,t,r,s,o){return i(`${e}${o}${t}${r*2**(B-s)}`)}const k=e(e=>{let t=0;if(0===e)return 1/0;for(;!(e%2);)t++,e/=2;return t});class F extends I{constructor(){super(...arguments),this._zoomLevel=0}_write(e,t,i,r){if(this._zoomLevel=r||0,null!=i)throw new Error(\"InternalError: EffectGeometry not support for LabelMeshWriter\");switch(t.geometryType){case\"esriGeometryPoint\":{const i=t.readXForDisplay(),r=t.readYForDisplay();this._writePoint(e,i,r,0,t);break}case\"esriGeometryEnvelope\":case\"esriGeometryPolygon\":{const i=t.readCentroidForDisplay();if(!i)return;const[r,s]=i.coords;this._writePoint(e,r,s,0,t);break}case\"esriGeometryMultipoint\":{let i=0;const r=f.fromFeatureSetReader(t);if(r?.nextPath())for(;r.nextPoint();)this._writePoint(e,r.x,r.y,i++,t);break}case\"esriGeometryPolyline\":this._writeLines(e,t)}}_getMetricDir(){const{horizontalAlignment:e,verticalAlignment:t}=this.evaluatedMeshParams;return[\"center\"===e?0:\"right\"===e?-1:1,\"middle\"===t?0:\"bottom\"===t?-1:1]}_createLineLabelMetric(e,t,i,r,s,o){const[n,a]=this._getMetricDir(),l=this.evaluatedMeshParams.scaleInfo?.maxScale??0,c=this.evaluatedMeshParams.scaleInfo?.minScale??0,h=this.evaluatedMeshParams.labelClassId;return new M(e,h,t,i,r,s,n,a,l,c,o)}_writePoint(e,t,i,r,s){if(t<0||t>b||i<0||i>b)return;const o=this._getShaping();if(!o)return;const n=s.getDisplayId(),a=this.evaluatedMeshParams.labelClassId,l=A(this.evaluatedMeshParams.layerId,s.getObjectId(),r),c=G(s.getObjectId(),a,r),[h,m]=this._getMetricDir(),d=this.evaluatedMeshParams.scaleInfo?.maxScale??0,u=this.evaluatedMeshParams.scaleInfo?.minScale??0,f=this._getPointReferenceBounds()||{offsetX:0,offsetY:0,size:0};e.metricStart(new M(n,a,l,c,t,i,h,m,d,u,f)),this._writeGlyphs(e,n,t,i,o,0,f,void 0,!1),e.metricBoxWrite(o.boundsT),e.metricEnd()}_getPointReferenceBounds(){if(!this._references)return null;for(const e of this._references){const t=e.getBoundsInfo();if(t)return t}return null}_writeLines(e,t){const{scaleInfo:i,verticalAlignment:r}=this.evaluatedMeshParams,s=this.evaluatedMeshParams.repeatLabelDistance||128,o=this._getShaping(\"middle\");if(!o)return;const n=(e,t,i,r)=>this._placeSubdivGlyphs(e,t,i,r),a=(o.bounds.width+s)/(1<<S);this._current={out:e,id:t.getDisplayId(),objId:t.getObjectId(),shaping:o,zoomRange:w(i,this.getTileInfo()),referenceBounds:this._getPointReferenceBounds()||{offsetX:0,offsetY:0,size:0},offsetDirection:null,pathIndex:0},this._verticalPlacement=\"bottom\"===r?\"above\":\"top\"===r?\"below\":null,this._verticalPlacement?this._writeAboveAndBelowAlong(t,n,a):this._writeCenterAlong(t,n,a)}_writeAboveAndBelowAlong(e,t,i){const{repeatLabel:r}=this.evaluatedMeshParams,{shaping:s}=this._current,o=s.bounds.halfHeight,n=e.readGeometryForDisplay();if(!n)return;const a=new p;g(a,n,!1,!1,\"esriGeometryPolyline\",1);const l=$(new p,a,o),c=$(new p,a,-o),h=_(c,\"esriGeometryPolyline\",!1,!1),m=_(l,\"esriGeometryPolyline\",!1,!1),d=P(m.paths,s.bounds.width),u=P(h.paths,s.bounds.width);this._current.offsetDirection=\"above\";for(let f=0;f<d.length;f++)this._current.pathIndex=f,y(d[f],i,t,!!r);this._current.offsetDirection=\"below\";for(let f=0;f<u.length;f++)this._current.pathIndex=f,y(u[f],i,t,!!r)}_writeCenterAlong(e,t,i){const{repeatLabel:r}=this.evaluatedMeshParams,{shaping:s}=this._current,o=P(e.readLegacyGeometryForDisplay().paths,s.bounds.width);for(let n=0;n<o.length;n++)this._current.pathIndex=n,y(o[n],i,t,!!r)}_placeSubdivGlyphs(e,t,i,r){const{allowOverrun:s,labelPosition:o,repeatLabelDistance:n,layerId:a,labelClassId:l}=this.evaluatedMeshParams,{objId:c,shaping:h,pathIndex:m}=this._current,d=this._current.zoomRange[0],u=k(t),f=this._current.shaping.bounds.width/(1<<S),g=Math.sqrt(n||D)/(1<<S),_=Math.min(i,r-i),p=h.isMultiline?B:Math.log2(_/(g+f/2)),b=0===t?p:Math.min(u,p),x=Math.max(d,this._zoomLevel+S-b),v=this._zoomLevel-x,M=h.bounds.width/2*2**v,P=j(a,c,m,t,this._zoomLevel),y=Z(c,m,t,this._zoomLevel,l);this._current.shaping.isMultiline?0===t&&this._placeStraight(e,x,P,y):s&&v<0?this._placeStraightAlong(e,d,P,y):\"parallel\"===o?this._placeStraightAlong(e,x,P,y):\"curved\"===o&&this._placeCurved(e,x,M,P,y)}_placeStraight(e,t,i,r){const{out:s,id:o,shaping:n,referenceBounds:a}=this._current,{x:l,y:c}=e;s.metricStart(this._createLineLabelMetric(o,i,r,l,c)),s.metricBoxWrite(n.boundsT);const h=e.angle*(180/Math.PI)%360,m=(e.angle*(180/Math.PI)+180)%360;if(!this._verticalPlacement||this._verticalPlacement===this._current.offsetDirection){const e={clipAngle:h,mapAligned:!0,isLineLabel:!0,minZoom:t};this._writeGlyphs(s,o,l,c,n,0,a,e,!1)}if(!this._verticalPlacement||this._verticalPlacement!==this._current.offsetDirection){const e={clipAngle:m,mapAligned:!0,isLineLabel:!0,minZoom:t};this._writeGlyphs(s,o,l,c,n,0,a,e,!1)}s.metricEnd()}_placeCurved(e,t,i,r,s){const{out:o,id:n}=this._current;o.metricStart(this._createLineLabelMetric(n,r,s,e.x,e.y));const a=e.clone(),l=e.angle*(180/Math.PI)%360,c=(e.angle*(180/Math.PI)+180)%360;this._verticalPlacement&&this._verticalPlacement!==this._current.offsetDirection||(this._placeFirst(a,t,1,l),this._placeBack(e,a,t,i,1,l),this._placeForward(e,a,t,i,1,l)),this._verticalPlacement&&this._verticalPlacement===this._current.offsetDirection||(this._placeFirst(a,t,0,c),this._placeBack(e,a,t,i,0,c),this._placeForward(e,a,t,i,0,c)),o.metricEnd()}_placeStraightAlong(e,i,n,a){const{out:l,id:c,shaping:h,zoomRange:m,referenceBounds:u}=this._current,{boxBorderLineColor:f,boxBackgroundColor:g}=this.evaluatedMeshParams,_=e.clone(),p=e.angle*(180/Math.PI)%360,b=(e.angle*(180/Math.PI)+180)%360,x=h.glyphs.length>0&&!(!f&&!g);if(l.metricStart(this._createLineLabelMetric(c,n,a,e.x,e.y)),x){const n=Math.max(i,m[0],0),a=Math.min(B,m[1]),f=r(o(),-e.angle),g={minZoom:n,maxZoom:a,clipAngle:p,mapAligned:!0,isLineLabel:!0},_=t(this.evaluatedMeshParams.offsetX),x=t(this.evaluatedMeshParams.offsetY);if(!this._verticalPlacement||this._verticalPlacement===this._current.offsetDirection){const t=d(_,-1*x),[i,r]=h.shapeBackground(s(o(),f,t));l.recordStart(this.instanceId,this.attributeLayout,h.glyphs[0].textureBinding),this._writeTextBox(l,c,e.x,e.y,r,u,g),l.recordEnd()}if(!this._verticalPlacement||this._verticalPlacement!==this._current.offsetDirection){const t=d(_,x),[i,r]=h.shapeBackground(s(o(),f,t));g.clipAngle=b,l.recordStart(this.instanceId,this.attributeLayout,h.glyphs[0].textureBinding),this._writeTextBox(l,c,e.x,e.y,r,u,g),l.recordEnd()}}this._verticalPlacement&&this._verticalPlacement!==this._current.offsetDirection||this._placeFirst(_,i,1,p,!0),this._verticalPlacement&&this._verticalPlacement===this._current.offsetDirection||this._placeFirst(_,i,0,b,!0),l.metricEnd()}_placeBack(e,t,i,r,s,o){const n=e.clone();let a=e.backwardLength+z;for(;n.prev()&&!(a>=r);)this._placeOnSegment(n,t,a,i,-1,s,o),a+=n.length+z}_placeForward(e,t,i,r,s,o){const n=e.clone();let a=e.remainingLength+z;for(;n.next()&&!(a>=r);)this._placeOnSegment(n,t,a,i,1,s,o),a+=n.length+z}_placeFirst(e,i,s,a,l=!1){const{out:c,id:h,shaping:m,zoomRange:u,referenceBounds:f}=this._current,g=m.glyphs,_=t(this.evaluatedMeshParams.offsetX),p=t(this.evaluatedMeshParams.offsetY),b=d(_,p),x=r(o(),-e.angle);n(b,b,x);for(const t of g){const r=t.x>m.bounds.x?s:1-s,o=r*e.remainingLength+(1-r)*e.backwardLength,n=Math.abs(t.x+t.width/2-m.bounds.x),d=Math.max(0,this._zoomLevel+Math.log2(n/(o+z))),g=Math.max(i,l?0:d);if(t.maxZoom=Math.min(u[1],B),t.angle=e.angle+(1-s)*Math.PI,t.minZoom=Math.max(u[0],g),this._writeLineGlyph(c,h,e.x,e.y,t,a,f,!0),(s||this._current.offsetDirection)&&this._isVisible(t.minZoom,t.maxZoom)){const e=new v(t.bounds.x+b[0],t.bounds.y+b[1],t.bounds.width,t.bounds.height);c.metricBoxWrite(e)}}}_placeOnSegment(e,i,s,a,l,c,h){const{out:m,id:u,shaping:f,referenceBounds:g}=this._current,_=f.glyphs,p=e.dx/e.length,b=e.dy/e.length,x={x:e.x+s*-l*p,y:e.y+s*-l*b},M=t(this.evaluatedMeshParams.offsetX),P=t(this.evaluatedMeshParams.offsetY),y=d(M,P),w=r(o(),-e.angle);n(y,y,w);for(const t of _){const i=t.x>f.bounds.x?c:1-c;if(!(i&&1===l||!i&&-1===l))continue;const r=Math.abs(t.x+t.width/2-f.bounds.x),o=Math.max(0,this._zoomLevel+Math.log2(r/s)-.1),n=Math.max(a,this._zoomLevel+Math.log2(r/(s+e.length+z)));if(0!==o&&(t.angle=e.angle+(1-c)*Math.PI,t.minZoom=n,t.maxZoom=o,this._writeLineGlyph(m,u,x.x,x.y,t,h,g,!0),(c||this._current.offsetDirection)&&this._isVisible(t.minZoom,t.maxZoom))){const e=new v(t.bounds.x+y[0],t.bounds.y+y[1],t.bounds.width,t.bounds.height);m.metricBoxWrite(e)}}}_writeLineGlyph(e,t,i,r,s,o,n,a){if(i<0||i>b||r<0||r>b)return;e.recordStart(this.instanceId,this.attributeLayout,s.textureBinding);const{texcoords:l,offsets:c}=s,{fontSize:h,haloSize:m,outlineSize:d}=this._textMeshTransformProps;this._writeQuad(e,t,i,r,{texcoords:l,offsets:c,fontSize:h,haloSize:m,outlineSize:d,color:L(this.evaluatedMeshParams.color),isBackground:!1,referenceBounds:n,minZoom:Math.max(this._current.zoomRange[0],s.minZoom),maxZoom:Math.min(this._current.zoomRange[1],s.maxZoom),clipAngle:o,mapAligned:a,isLineLabel:!0}),e.recordEnd()}_packedZoom(e){return Math.floor(e*x)/x}_isVisible(e,t){let i=Math.max(this._current.zoomRange[0],e),r=Math.min(this._current.zoomRange[1],t);i=this._packedZoom(i),r=this._packedZoom(r);const s=this._packedZoom(this._zoomLevel);return i<=s&&s<=r}}function $(e,t,i){const{coords:r,lengths:s}=t,o=u(),n=u(),d=u(),f=u(),g=u(),_=u(),p=2;let b=0;for(let u=0;u<s.length;u++){const t=s[u];for(let s=0;s<t;s++){const u=p*(s+b-1),x=p*(s+b),v=p*(s+b+1);s>0?a(o,r[u],r[u+1]):a(o,0,0),a(n,r[x],r[x+1]),s<t-1?a(d,r[v],r[v+1]):a(d,0,0),0===s?a(f,0,0):(l(f,n,o),c(f,f),a(f,f[1],-f[0])),s===t-1?a(g,0,0):(l(g,d,n),c(g,g),a(g,g[1],-g[0])),h(_,f,g),c(_,_);const M=_[0]*g[0]+_[1]*g[1];0!==M&&m(_,_,M),m(_,_,i),e.coords.push(n[0]+_[0],n[1]+_[1])}e.lengths.push(t),b+=t}return e}export{F as LabelMeshWriter,A as labelIdHash,G as labelMetricHash,j as lineLabelIdHash,Z as lineLabelMetricHash};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../../../../../../core/screenUtils.js\";import{applyParentTransform as e}from\"../../../../../../../symbols/cim/utils.js\";import{spritePadding as i}from\"../../../definitions.js\";class o{static from(t){return\"width\"in t?this.fromSimpleMeshParams(t):this.fromComplexMeshParams(t)}static fromSimpleMeshParams(e){const i=new o(e.sprite,e.color,e.outlineColor,e.minPixelBuffer,e.placement,e.scaleInfo,e.effects),{type:s,width:h,height:r,angle:n,alignment:a,outlineSize:c,referenceSize:f,sprite:l,overrideOutlineColor:m}=e;return i.rawWidth=t(h),i.rawHeight=t(r),i.angle=n,i.alignment=a,i.outlineSize=t(c),i.referenceSize=t(f),i.overrideOutlineColor=m,i.offsetX=t(e.offsetX),i.offsetY=t(e.offsetY),\"simple\"!==s||l.sdf||(i.rawWidth=l.width,i.rawHeight=l.height),i._computeSize(e,!1),i}static fromComplexMeshParams(i){const s=new o(i.sprite,i.color,i.outlineColor,i.minPixelBuffer,i.placement,i.scaleInfo,i.effects);let{alignment:h,transforms:r,size:n,scaleX:a,anchorX:c,anchorY:f,angle:l,colorLocked:m,frameHeight:d,widthRatio:u,offsetX:p,offsetY:g,outlineSize:x,referenceSize:w,scaleFactor:z,sizeRatio:X,isAbsoluteAnchorPoint:S,rotateClockwise:Y,scaleSymbolsProportionally:H,sprite:C}=i;if(r&&r.infos.length>0){const t=e(n,l,Y,p,g,r);n=t.size,l=t.rotation,p=t.offsetX,g=t.offsetY,Y=!1}z&&(n*=z,p*=z,g*=z);const M=a*(C.width/C.height);s.alignment=h,s.rawHeight=t(n),s.rawWidth=s.rawHeight*M,s.referenceSize=t(w),s.sizeRatio=X,s.sdfDecodeCoeff=(C.sdfDecodeCoeff??1)*X,s.angle=l,s.rotateClockwise=Y,s.anchorX=c,s.anchorY=f,s.offsetX=t(p),s.offsetY=t(g),S&&n&&(C.sdf?s.anchorX=c/(n*u):s.anchorX=c/(n*M),s.anchorY=f/n);const W=H&&d?n/d:1;return s.outlineSize=0===x||isNaN(x)?0:t(x)*W,s.scaleSymbolsProportionally=H,s.colorLocked=m,s._computeSize(i,!0),s}constructor(t,e,i,o,s,h,r){this.sprite=t,this.color=e,this.outlineColor=i,this.minPixelBuffer=o,this.placement=s,this.scaleInfo=h,this.effects=r,this.rawWidth=0,this.rawHeight=0,this.angle=0,this.outlineSize=0,this.referenceSize=0,this.sizeRatio=1,this.sdfDecodeCoeff=1,this.alignment=0,this.scaleSymbolsProportionally=!1,this.overrideOutlineColor=!1,this.colorLocked=!1,this.anchorX=0,this.anchorY=0,this.computedWidth=0,this.computedHeight=0,this.texXmin=0,this.texYmin=0,this.texXmax=0,this.texYmax=0,this.offsetX=0,this.offsetY=0,this.rotateClockwise=!0}get boundsInfo(){return{size:Math.max(this.computedHeight,this.computedWidth),offsetX:this.offsetX,offsetY:this.offsetY}}_computeSize(t,e){const{sprite:o,hasSizeVV:r}=t,n=!!o.sdf,a=o.sdfPaddingRatio??.5,{rawWidth:c,rawHeight:f,sizeRatio:l,outlineSize:m}=this,d=o.rect;let u=c*l,p=f*l,g=0,x=0;if(n){const t=1/(1-a);if(u*=t,p*=t,r)this.computedWidth=u,this.computedHeight=p;else{const t=e&&c>f?u:c,i=f,s=m+2*1;this.computedWidth=Math.min(t+s,u),this.computedHeight=Math.min(i+s,p);const h=Math.max(o.width,o.height)/Math.max(u,p);g=(this.computedWidth-u)*h,x=(this.computedHeight-p)*h}}else this.computedWidth=u*(d.width/o.width),this.computedHeight=p*(d.height/o.height),g=2*i,x=2*i;const w=d.x+i-g/2,z=d.y+i-x/2,X=w+o.width+g,S=z+o.height+x;this.texXmin=s(w),this.texYmin=s(z),this.texXmax=h(X),this.texYmax=h(S),this.computedWidth*=(this.texXmax-this.texXmin)/(X-w),this.computedHeight*=(this.texYmax-this.texYmin)/(S-z),this.anchorX*=u/this.computedWidth,this.anchorY*=p/this.computedHeight}}function s(t,e=1e-7){const i=Math.ceil(t);return i-t<e?i:Math.floor(t)}function h(t,e=1e-7){const i=Math.floor(t);return t-i<e?i:Math.ceil(t)}export{o as ComputedMarkerParams};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../../../../core/screenUtils.js\";import{identity as t,translate as r,rotate as o}from\"../../../../../../../core/libs/gl-matrix-2/math/mat2d.js\";import{create as s}from\"../../../../../../../core/libs/gl-matrix-2/factories/mat2df32.js\";import{transformMat2d as a}from\"../../../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{GeometryCursor as i}from\"../../../../../../../geometry/GeometryCursor.js\";import{clipCursorToTileExtent as n}from\"../../../../../../../symbols/cim/CIMEffects.js\";import{maxTileCoordValue as c}from\"../../../../../../../symbols/cim/constants.js\";import{CIMMarkerPlacementHelper as l}from\"../../../../../../../symbols/cim/placements/CIMMarkerPlacementHelper.js\";import{minMaxZoomPrecisionFactor as m}from\"../../../definitions.js\";import{processColorInput as u,getMinMaxZoom as d,packByteSqrt as p,getBitMask as h}from\"../fill/meshWriterUtils.js\";import{ComputedMarkerParams as f}from\"./ComputedMarkerParams.js\";import{MarkerConstants as y}from\"./markerConstants.js\";import{MeshWriter as M}from\"../mesh/MeshWriter.js\";import{DataType as x}from\"../../../../../../webgl/enums.js\";const P=3.14159265359/180,g=128/Math.PI;function k(e,t){return e%=t,Math.abs(e>=0?e:e+t)}function b(e){return k(e*g,256)}function v(e,a,i,n,c=!1){const l=s(),m=c?1:-1;return t(l),(a||i)&&r(l,l,[a,-i]),n&&o(l,l,m*P*-n),l}const S={createComputedParams:e=>f.from(e),optionalAttributes:{zoomRange:{type:x.SHORT,count:2,packPrecisionFactor:m,pack:({scaleInfo:e},{tileInfo:t})=>d(e,t)}},attributes:{pos:{type:x.SHORT,count:2,pack:\"position\",packPrecisionFactor:10},id:{type:x.UNSIGNED_BYTE,count:3,pack:\"id\"},bitset:{type:x.UNSIGNED_BYTE,count:1,pack:({sprite:e,alignment:t,scaleSymbolsProportionally:r,overrideOutlineColor:o,colorLocked:s})=>{let a=0;return e.sdf&&(a|=h(y.bitset.isSDF)),1===t&&(a|=h(y.bitset.isMapAligned)),r&&(a|=h(y.bitset.scaleSymbolsProportionally)),o&&(a|=h(y.bitset.overrideOutlineColor)),s&&(a|=h(y.bitset.colorLocked)),a}},offset:{type:x.HALF_FLOAT,count:2,packAlternating:{count:4,pack:({angle:e,computedWidth:t,computedHeight:r,anchorX:o,anchorY:s,offsetX:i,offsetY:n,rotateClockwise:c})=>{const l=v(0,i,n,-e,c),m=-(.5+o)*t,u=-(.5-s)*r,d=[m,u],p=[m+t,u],h=[m,u+r],f=[m+t,u+r];return a(d,d,l),a(p,p,l),a(h,h,l),a(f,f,l),[d,p,h,f]}}},textureUV:{type:x.SHORT,count:2,packPrecisionFactor:4,packAlternating:{count:4,pack:({texXmax:e,texXmin:t,texYmax:r,texYmin:o})=>[[t,o],[e,o],[t,r],[e,r]]}},color:{type:x.UNSIGNED_BYTE,count:4,normalized:!0,pack:({color:e})=>u(e)},outlineColor:{type:x.UNSIGNED_BYTE,count:4,normalized:!0,pack:({outlineColor:e})=>u(e)},sizing:{type:x.UNSIGNED_BYTE,count:4,pack:({rawWidth:e,rawHeight:t,outlineSize:r,referenceSize:o})=>{const s=Math.max(e,t);return[p(s,128),p(r,128),p(o,128),0]}},placementAngle:{type:x.UNSIGNED_BYTE,count:1,packTessellation:({placementAngle:e})=>b(e)},sdfDecodeCoeff:{type:x.UNSIGNED_SHORT,count:1,packPrecisionFactor:64,pack:({sdfDecodeCoeff:e})=>e}}};class I extends M{constructor(){super(...arguments),this.vertexSpec=S}getBoundsInfo(){return this.evaluatedMeshParams.boundsInfo}_write(e,t,r){const o=this.evaluatedMeshParams.sprite?.textureBinding,s=t.getDisplayId();e.recordStart(this.instanceId,this.attributeLayout,o);const a=this.evaluatedMeshParams.minPixelBuffer,i=Math.max(this.evaluatedMeshParams.computedWidth,a),l=Math.max(this.evaluatedMeshParams.computedHeight,a),m=-this.evaluatedMeshParams.anchorX*this.evaluatedMeshParams.computedWidth,u=this.evaluatedMeshParams.anchorY*this.evaluatedMeshParams.computedHeight,d=this.evaluatedMeshParams.offsetX+m,p=-this.evaluatedMeshParams.offsetY+u;if(null!=this.evaluatedMeshParams.placement){let o=null;if(null!=r){const e=Math.max(this.evaluatedMeshParams.computedWidth,this.evaluatedMeshParams.computedHeight);if(o=n(r,2*e,!1),null===o)return}this._writePlacedMarkers(e,t,o,i,l)}else if(r?.nextPath()){r.nextPoint();const t=r.x,o=r.y;e.recordBounds(t+d,o+p,i,l),this._writeQuad(e,s,t,o)}else if(\"esriGeometryPolygon\"===t.geometryType){const r=t.readCentroidForDisplay();if(!r)return;const[o,a]=r.coords;e.recordBounds(o+d,a+p,i,l),this._writeQuad(e,s,o,a)}else if(\"esriGeometryPoint\"===t.geometryType){const r=t.readXForDisplay(),o=t.readYForDisplay();e.recordBounds(r+d,o+p,i,l),this._writeQuad(e,s,r,o)}else{const r=t.readGeometryForDisplay();r?.forEachVertex((t,r)=>{e.recordBounds(t+d,r+p,i,l),Math.abs(t)>c||Math.abs(r)>c||this._writeQuad(e,s,t,r)})}e.recordEnd()}_writePlacedMarkers(t,r,o,s,a){const n=o??i.fromFeatureSetReaderCIM(r);if(!n)return;const m=-1,u=l.getPlacement(n,m,this.evaluatedMeshParams.placement,e(1),t.id);if(!u)return;const d=r.getDisplayId();let p=u.next();const h=this.evaluatedMeshParams.offsetX,f=-this.evaluatedMeshParams.offsetY;for(;null!=p;){const e=p.tx,r=-p.ty;if(Math.abs(e)>c||Math.abs(r)>c){p=u.next();continue}const o=-p.getAngle();t.recordBounds(e+h,r+f,s,a),this._writeQuad(t,d,e,r,o),p=u.next()}}_writeQuad(e,t,r,o,s){const a=e.vertexCount(),i=null==s?null:{placementAngle:s};this._writeVertex(e,t,r,o,i),e.indexWrite(a+0),e.indexWrite(a+1),e.indexWrite(a+2),e.indexWrite(a+1),e.indexWrite(a+3),e.indexWrite(a+2)}}export{I as MarkerMeshWriter,S as MarkerVertexSpec};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{AComputedField as e}from\"./AComputedField.js\";class r extends e{constructor(e){super(),this._value=e}resize(e){}read(e,r){return this._value}readWithDefault(e,r,t){return this._value}hasArcadeDependency(e){return!1}}export{r as DictionaryValue};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../../../../core/arrayUtils.js\";import r from\"../../../../../../../core/Error.js\";import{clone as t}from\"../../../../../../../core/lang.js\";import s from\"../../../../../../../core/Logger.js\";import{collectExpressionDependencies as o}from\"../../../../../../../support/ArcadeExpression.js\";import{getStartGroup as a}from\"../../../grouping.js\";import{hydrate as i}from\"../../../animations/infos.js\";import{createParamList as n,compileAnimationParam as c,fromJSON as p,resolveToAnimationInfo as m,encodeParamList as f,getAnimationExpressions as l}from\"../../../animations/utils.js\";import{applyComputedValue as d}from\"./utils.js\";import{DictionaryValue as u}from\"../../../../../layers/features/support/DictionaryValue.js\";const y=()=>s.getLogger(\"esri.views.2d.engine.webgl.shaderGraph.techniques.mesh.MeshWriterInputEvaluator\");async function h(e,r,t,s){const{defaultValue:o,valueExpressionInfo:a,value:i}=r;if(a){if(\"dictionary-template\"===a.type)return{...r,computed:e.createDictionaryTemplateField(a,t),defaultValue:o};const{expression:i}=a,n=await e.createComputedField({expression:i},s);return n?{...r,computed:n,defaultValue:o}:null}return{...r,computed:new u(i),defaultValue:o}}async function v(e,r,t){const{valueExpressionInfo:s}=r,o=\"dictionary-template\"===s.type?e.createDictionaryTemplateField(s,t):await e.createComputedField({expression:s.expression});return o?{...r,computed:o}:null}function P(e){return\"object\"==typeof e&&null!=e&&(!(!(\"valueExpressionInfo\"in e)||!e.valueExpressionInfo)||\"type\"in e&&\"Process\"===e.type&&\"op\"in e&&\"Random\"===e.op)}function _(e){if(Array.isArray(e))for(const r of e)if(_(r))return!0;if(\"object\"==typeof e){if(P(e))return!0;for(const r in e){if(_(e[r]))return!0}}return!1}class I{static async create(r,t,s,o){const a={},i=new Map,m=new Map,f=new Map,l=new Map,d=new Map,u=new Map;for(const y in s){const I=s[y];if(null!=I&&\"object\"==typeof I)if(Array.isArray(I)){if(\"object\"==typeof I[0])throw new Error(`InternalError: Cannot handle ${y}. Nested array params are not supported`);a[y]=I}else{if(\"valueExpressionInfo\"in I){if(I.value){a[y]=I.value;continue}const e=await v(r,I,o);if(!e){a[y]=I.defaultValue;continue}i.set(y,e),a[y]=null;continue}switch(I.type){case\"cim-effect-infos\":if(I.effectInfos.some(e=>e.overrides.length)){m.set(y,{effects:await Promise.all(I.effectInfos.map(async t=>{const s=t.overrides.map(e=>h(r,e,o,!1));return{effect:t.effect,compiledOverrides:(await Promise.all(s)).filter(e)}}))});break}a[y]=I.effectInfos.map(e=>e.effect);break;case\"cim-marker-placement-param\":I.overrides.length&&f.set(y,{placementInfo:I,compiledOverrides:(await Promise.all(I.overrides.map(e=>h(r,e,o,!1)))).filter(e)}),a[y]=I.placement;break;case\"text-rasterization-param\":{if(I.overrides.length){const t=I.overrides.map(e=>h(r,e,o,I.useLegacyLabelEvaluationRules??!1));l.set(y,{compiledOverrides:(await Promise.all(t)).filter(e),rasterizationParam:I,objectIdToResourceId:new Map});continue}const s={type:\"cim-rasterization-info\",resource:I.resource};a[y]=await t.fetchResourceImmediate(s)??null;break}case\"sprite-rasterization-param\":{if(I.overrides.length){const t=I.overrides.map(e=>h(r,e,o,!1));l.set(y,{compiledOverrides:(await Promise.all(t)).filter(e),rasterizationParam:I,objectIdToResourceId:new Map});continue}if(\"animated\"===I.resource.type){l.set(y,{compiledOverrides:[],rasterizationParam:I,objectIdToResourceId:new Map});continue}const s={type:\"cim-rasterization-info\",resource:I.resource};a[y]=await t.fetchResourceImmediate(s)??null;break}case\"cim-marker-transform-param\":{const{params:e}=I;if(_(e)){const t={compiledMarkerInfos:[]};await Promise.all(e.map(async e=>{const s={props:{}};for(const t in e)if(P(e[t])){const a=await v(r,e[t],o);s.compiledExpressionMap||(s.compiledExpressionMap=new Map);const i=s.compiledExpressionMap;a&&i.set(t,a)}else s.props[t]=e[t];t.compiledMarkerInfos.push(s)})),d.set(y,t)}else a[y]={type:\"cim-marker-transform-info\",infos:e};break}case\"animation-params\":{const{params:e}=I,s=n(e);if(_(s)){const e=await Promise.all(s.map(e=>c(e,r)));u.set(y,{params:e,propertyIdToResourceId:new Map,key:y})}else{const e=p(s),r=await t.fetchResourceImmediate({type:\"animation-info\",resource:e});null!=r&&\"sprite\"===r.type&&(a[y]={dataRow:r.rect.y,dataColumn:r.rect.x})}break}default:a[y]=I}}else a[y]=I}return new I(s,a,i,m,f,l,d,u)}constructor(e,r,t,s,a,i,n,c){this.inputMeshParams=e,this._resolvedMeshParams=r,this._dynamicProperties=t,this._dynamicEffectProperties=s,this._dynamicPlacementProperties=a,this._dynamicAsyncProperties=i,this._dynamicTransformProperties=n,this._dynamicAsyncAnimations=c,this.evaluator=e=>e,this._arcadeDependencies=new Set;for(const p of this._expressions())o(this._arcadeDependencies,p)}get hasDynamicProperties(){return!!(this._dynamicProperties.size||this._dynamicAsyncProperties.size||this._dynamicEffectProperties.size||this._dynamicTransformProperties.size||this._dynamicPlacementProperties.size||this._dynamicAsyncAnimations.size)}get evaluatedMeshParams(){return this._evaluatedMeshParams||(this._evaluatedMeshParams=this.evaluator(this._resolvedMeshParams)),this._evaluatedMeshParams}enqueueRequest(e,s,o){for(const i of this._dynamicAsyncProperties.values()){const c=t(i.rasterizationParam.resource);\"animated\"===i.rasterizationParam.resource.type&&i.rasterizationParam.resource.randomizeStartTime&&(c.primitiveName=\"__RESERVED__PRIMITIVE__NAME__\",c.startGroup=a(s.getObjectId()||0));for(const{primitiveName:e,propertyName:t,computed:a,defaultValue:m,valueExpressionInfo:f}of i.compiledOverrides)try{const r=\"animated\"===i.rasterizationParam.resource.type?c.primitiveName:e;d(c,r,t,a,s,o,m)}catch(n){y().errorOnce(new r(\"invalid-arcade-expression\",\"Encountered an error when evaluating the arcade expression\",{error:n,valueExpressionInfo:f}))}const p=e.enqueueRequest({type:\"cim-rasterization-info\",resource:c});i.objectIdToResourceId.set(s.getObjectId(),p)}for(const r of this._dynamicAsyncAnimations.values()){const t=r.params.map(e=>m(e,s,o)).map(i).map(e=>e.simplify()),a=f(t),n=e.enqueueRequest({type:\"animation-info\",resource:a});r.propertyIdToResourceId.set(s.getObjectId()+\".\"+r.key,n)}}evaluateMeshParams(e,r,t){for(const[s,o]of this._dynamicProperties.entries())this._resolvedMeshParams[s]=o.computed.readWithDefault(r,t,o.defaultValue);for(const[s,o]of this._dynamicPlacementProperties.entries())for(const{computed:e,defaultValue:a,propertyName:i}of o.compiledOverrides){const n=e.readWithDefault(r,t,a);o.placementInfo.placement[i]=n,this._resolvedMeshParams[s]=o.placementInfo.placement}for(const[s,o]of this._dynamicEffectProperties.entries())for(const e of o.effects){for(const{computed:s,defaultValue:o,propertyName:a}of e.compiledOverrides){const i=s.readWithDefault(r,t,o);e.effect[a]=i}this._resolvedMeshParams[s]=o.effects.map(e=>e.effect)}for(const[s,o]of this._dynamicTransformProperties.entries()){const e={type:\"cim-marker-transform-info\",infos:[]};for(const s of o.compiledMarkerInfos){const o={...s.props};if(s.compiledExpressionMap)for(const[e,a]of s.compiledExpressionMap){const s=a.computed.readWithDefault(r,t,a.defaultValue);o[e]=\"number\"==typeof s||\"boolean\"==typeof s?s:a.defaultValue}e.infos.push(o)}this._resolvedMeshParams[s]=e}for(const[s,o]of this._dynamicAsyncProperties.entries()){const t=o.objectIdToResourceId.get(r.getObjectId());if(null==t)continue;const a=e.getResource(t);this._resolvedMeshParams[s]=a}for(const[s,o]of this._dynamicAsyncAnimations.entries()){const t=o.propertyIdToResourceId.get(r.getObjectId()+\".\"+s);if(null==t)continue;const a=e.getResource(t);this._resolvedMeshParams[s]={dataRow:a.rect.y,dataColumn:a.rect.x}}return this._evaluatedMeshParams=this.evaluator(this._resolvedMeshParams),this.evaluatedMeshParams}hasArcadeDependency(e){return this._arcadeDependencies.has(e)}*_expressions(){for(const e of this._dynamicProperties.values())yield e.computed;for(const e of this._dynamicEffectProperties.values())for(const r of e.effects)for(const e of r.compiledOverrides)yield e.computed;for(const e of this._dynamicPlacementProperties.values())for(const r of e.compiledOverrides)yield r.computed;for(const e of this._dynamicAsyncProperties.values())for(const r of e.compiledOverrides)yield r.computed;for(const e of this._dynamicTransformProperties.values())for(const r of e.compiledMarkerInfos)if(null!=r.compiledExpressionMap)for(const e of r.compiledExpressionMap.values())yield e.computed;for(const e of this._dynamicAsyncAnimations.values())for(const r of e.params)yield*l(r)}}export{I as MeshWriterInputEvaluator,P as hasExpression};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../../../../core/screenUtils.js\";import{getMinMaxZoom as t}from\"../fill/meshWriterUtils.js\";import{MeshWriter as r}from\"../mesh/MeshWriter.js\";import{DataType as i}from\"../../../../../../webgl/enums.js\";const o={createComputedParams:e=>e,optionalAttributes:{},attributes:{pos:{type:i.SHORT,count:2,packPrecisionFactor:10,pack:\"position\"},id:{type:i.UNSIGNED_BYTE,count:3,pack:\"id\"},bitset:{type:i.UNSIGNED_BYTE,count:1,pack:e=>0},offset:{type:i.SHORT,count:2,packPrecisionFactor:16,packAlternating:{count:4,pack:({size:t})=>{const r=e(t),i=-r/2,o=-r/2;return[[i,o],[i+r,o],[i,o+r],[i+r,o+r]]}}},texCoords:{type:i.SHORT,count:2,packPrecisionFactor:4,packAlternating:{count:4,pack:()=>[[0,1],[1,1],[0,0],[1,0]]}},size:{type:i.UNSIGNED_BYTE,count:2,pack:({size:e})=>[e,e]},referenceSize:{type:i.UNSIGNED_BYTE,count:1,pack:({size:t})=>e(t)},zoomRange:{type:i.UNSIGNED_BYTE,count:2,pack:({scaleInfo:e},{tileInfo:r})=>t(e,r)}}};class s extends r{constructor(){super(...arguments),this.vertexSpec=o}_write(t,r){const i=r.getDisplayId(),o=this.evaluatedMeshParams.minPixelBuffer,s=Math.max(e(this.evaluatedMeshParams.size),o);let c,n;if(\"esriGeometryPoint\"===r.geometryType)c=r.readXForDisplay(),n=r.readYForDisplay();else{const e=r.readCentroidForDisplay();if(!e)return;c=e?.coords[0],n=e?.coords[1]}t.recordStart(this.instanceId,this.attributeLayout),t.recordBounds(c,n,s,s);const a=t.vertexCount();this._writeVertex(t,i,c,n),t.indexWrite(a+0),t.indexWrite(a+1),t.indexWrite(a+2),t.indexWrite(a+1),t.indexWrite(a+3),t.indexWrite(a+2),t.recordEnd()}}export{s as PieChartMeshWriter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{AnimatedMarkerShiftMeshWriter as r,AnimatedMarkerMeshWriter as e}from\"../animated/AnimatedMarkerMeshWriter.js\";import{AnimatedLineMeshWriter as t,AnimatedFillMeshWriter as i}from\"../animated/AnimatedPolyMeshWriters.js\";import{DotDensityMeshWriter as s}from\"../dotDensity/DotDensityMeshWriter.js\";import{ComplexFillMeshWriter as a}from\"../fill/ComplexFillMeshWriter.js\";import{ComplexOutlineFillMeshWriter as o}from\"../fill/ComplexOutlineFillMeshWriter.js\";import{FillMeshWriter as n}from\"../fill/FillMeshWriter.js\";import{GradientFillMeshWriter as m}from\"../fill/GradientFillMeshWriter.js\";import{OutlineFillMeshWriter as l}from\"../fill/OutlineFillMeshWriter.js\";import{PatternFillMeshWriter as h}from\"../fill/PatternFillMeshWriter.js\";import{PatternOutlineFillMeshWriter as u}from\"../fill/PatternOutlineFillMeshWriter.js\";import{HeatmapMeshWriter as p}from\"../heatmap/HeatmapMeshWriter.js\";import{LabelMeshWriter as c}from\"../labels/LabelMeshWriter.js\";import{GradientStrokeMeshWriter as f}from\"../line/GradientStrokeMeshWriter.js\";import{LineMeshWriter as M}from\"../line/LineMeshWriter.js\";import{TexturedLineMeshWriter as W}from\"../line/TexturedLineMeshWriter.js\";import{MarkerMeshWriter as j}from\"../markers/MarkerMeshWriter.js\";import{MeshWriterInputEvaluator as d}from\"./MeshWriterInputEvaluator.js\";import{PieChartMeshWriter as w}from\"../pieChart/PieChartMeshWriter.js\";import{TextMeshWriter as F}from\"../text/TextMeshWriter.js\";class x{async createMeshWriter(r,e,t,i,s){const a=this._getMeshWriter(i.techniqueType),o=await d.create(r,e,i.inputParams,s),n=new a(i.id,o,i.optionalAttributes,t);return await n.loadDependencies(),n}_getMeshWriter(d){switch(d){case 13:return n;case 11:return s;case 9:return a;case 26:return h;case 14:return m;case 24:return l;case 27:return u;case 10:return o;case 21:return j;case 28:return w;case 30:return F;case 19:return M;case 31:return W;case 15:return f;case 17:return p;case 18:return c;case 2:return e;case 3:return r;case 0:return i;case 1:return t;default:throw new Error(\"Internal Error: Mesh writer not in the registry\")}}}export{x as MeshWriterRegistry};\n"],"names":["r","n","s","c","o","t","e","l","m","i","i$4","o$2","s$7","f","h","u","r$6","e$1","a","p","k","T","y","F","O","S","d","x","N","M","g","v","w$1","_","P","b$2","w","C$1","C","z$2","L","b","j$1","j","W","s$4","i$2","z","B","R","I","A","G","E","D","Z","$","o$1","X","Y","H"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]}