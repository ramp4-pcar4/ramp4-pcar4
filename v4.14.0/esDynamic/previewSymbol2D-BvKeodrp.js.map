{"version":3,"file":"previewSymbol2D-BvKeodrp.js","sources":["../../node_modules/@arcgis/core/symbols/support/previewSymbol2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{getColorLuminance as e}from\"../../core/colorUtils.js\";import o from\"../../core/Error.js\";import{loadFont as i}from\"../../core/fontUtils.js\";import{pt2px as n}from\"../../core/screenUtils.js\";import{quantizePolygon as a,quantizePolyline as l}from\"../../geometry/support/quantizationUtils.js\";import{isCurvedGeometry as s}from\"../../geometry/support/curves/curveUtils.js\";import{densifyCurvedGeometry as r}from\"../../geometry/support/curves/densifyCurvedGeometry.js\";import{getFill as h,getStroke as c,getDashArray as m,getPatternUrlWithColor as u}from\"./gfxUtils.js\";import{shapes as p,adjustColorBrightness as d}from\"./previewUtils.js\";import{renderSymbol as f}from\"./renderUtils.js\";import{backgroundPadding as g}from\"./textUtils.js\";const y=\"picture-fill\",w=\"picture-marker\",x=\"simple-fill\",v=\"simple-line\",b=\"simple-marker\",M=\"text\",k=\"Aa\",z=22,L=120,S=80,C=50,j=225,B=document.createElement(\"canvas\");function P(t,e,o){const{extent:i}=t;if(!i)return\"\";const n=i.width||1,h=i.height||1;if(\"polygon\"===t.type){const l=t.clone();s(l)&&(l.rings=r(l,{minSegmentsPerCurve:128}).rings),a({originPosition:\"upperLeft\",scale:[n/e,h/o],translate:[i.xmin,i.ymax]},l,l);let c=\"\";for(let t=0;t<l.rings.length;t++){const e=l.rings[t];for(let t=0;t<e.length;t++){const o=e[t][0],i=e[t][1],n=0===t?\"M\":\"l\",a=t===e.length-1?\" Z\":\"\";c+=`${\"\"!==c?\" \":\"\"}${n}${o.toString()} ${i.toString()}${a}`}}return c}if(\"polyline\"===t.type){const a=t.clone();s(a)&&(a.paths=r(a,{minSegmentsPerCurve:128}).paths),l({originPosition:\"upperLeft\",scale:[n/e,h/o],translate:[i.xmin,i.ymax]},a,a);let c=\"\";for(let t=0;t<a.paths.length;t++){const e=a.paths[t];for(let t=0;t<e.length;t++){const o=e[t][0],i=e[t][1];c+=`${\"\"!==c?\" \":\"\"}${0===t?\"M\":\"l\"}${o.toString()} ${i.toString()}`}}return c}return\"\"}function $(t,e){const o=B.getContext(\"2d\"),i=[];e&&(e.weight&&i.push(e.weight),e.size&&i.push(e.size+\"px\"),e.family&&i.push(e.family)),o.font=i.join(\" \");const{width:n,actualBoundingBoxLeft:a,actualBoundingBoxRight:l,actualBoundingBoxAscent:s,actualBoundingBoxDescent:r}=o.measureText(t);return{width:Math.ceil(Math.max(n,a+l)),height:Math.ceil(s+r),x:Math.floor(a),y:Math.floor((s-r)/2)}}function E(t){const e=t?.size;return{width:null!=e&&\"object\"==typeof e&&\"width\"in e?n(e.width):null,height:null!=e&&\"object\"==typeof e&&\"height\"in e?n(e.height):null}}async function U(t,e){const o=e.fill,i=t.color;if(\"pattern\"===o?.type&&i&&t.type!==y){const t=await u(o.src,i.toCss(!0));o.src=t,e.fill=o}}async function F(t,e,o,n){if(!(\"font\"in t)||!t.font||\"text\"!==e.shape.type)return;try{await i(t.font)}catch{}const{width:a,height:l}=E(n);if(!/[\\uE600-\\uE6FF]/.test(e.shape.text)){const{width:i,height:s,x:r,y:h}=$(e.shape.text,{weight:e.font?.weight,size:e.font?.size,family:e.font?.family});o[0]=a??i,o[1]=l??s,e.shape.x=r,e.shape.y=h;let c=\"angle\"in t?t.angle:null;if(null!=n?.rotation&&(c=(c??0)+n.rotation),c){const t=c*(Math.PI/180),e=Math.abs(Math.sin(t)),i=Math.abs(Math.cos(t));o[1]=o[0]*e+o[1]*i}}}function A(t,e,o,i,a){if(null!=t.haloColor&&null!=t.haloSize){a.masking??=o.map(()=>[]);const l=n(t.haloSize);i[0]+=l,i[1]+=l,o.unshift([{...e,fill:null,stroke:{color:t.haloColor,width:2*l,join:\"round\",cap:\"round\"}}]),a.masking.unshift([{shape:{type:\"rect\",x:0,y:0,width:i[0]+2*g,height:i[1]+2*g},fill:[255,255,255],stroke:null},{...e,fill:[0,0,0,0],stroke:null}])}null==t.backgroundColor&&null==t.borderLineColor||(i[0]+=2*g,i[1]+=2*g,o.unshift([{shape:{type:\"rect\",x:0,y:0,width:i[0],height:i[1]},fill:t.backgroundColor,stroke:{color:t.borderLineColor,width:n(t.borderLineSize)}}]),a.masking?.unshift([]))}function Z(t,e){return t>e?\"dark\":\"light\"}function D(t,e){const o=\"number\"==typeof e?.size?e?.size:null,i=null!=o?n(o):null,a=null!=e?.maxSize?n(e.maxSize):null;let l=\"angle\"in t?t.angle:null;null!=e?.rotation&&(l=(l??0)+e.rotation);const s=h(t);let r=c(t);\"dark\"!==T(t,245)||e?.ignoreWhiteSymbols||(r={width:.75,...r,color:\"#bdc3c7\"});let u=null;const d={shape:null,fill:s,stroke:r,offset:[0,0]};r?.width&&(r.width=Math.min(r.width,S));const f=r?.width||0;let g=null!=e?.size&&(null==e?.scale||e?.scale),j=0,B=0,U=!1;switch(t.type){case b:{const o=t.style,{width:s,height:r}=E(e);let h=s===r&&null!=s?s:null!=i?i:Math.min(n(t.size),a||L);if(!0===e?.useMarkerSymbolSize&&null!==s&&null!==r){const e=Math.min(n(t.size),a||L);h=e>s&&e>r?Math.min(s,r):e}switch(j=h,B=h,o){case\"circle\":d.shape={type:\"circle\",cx:0,cy:0,r:.5*h},g||(j+=f,B+=f);break;case\"cross\":d.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*B]},{command:\"L\",values:[j,.5*B]},{command:\"M\",values:[.5*j,0]},{command:\"L\",values:[.5*j,B]}]};break;case\"diamond\":d.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*B]},{command:\"L\",values:[.5*j,0]},{command:\"L\",values:[j,.5*B]},{command:\"L\",values:[.5*j,B]},{command:\"Z\",values:[]}]},g||(j+=f,B+=f);break;case\"square\":d.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[j,0]},{command:\"L\",values:[j,B]},{command:\"L\",values:[0,B]},{command:\"Z\",values:[]}]},g||(j+=f,B+=f),l&&(U=!0);break;case\"triangle\":d.shape={type:\"path\",path:[{command:\"M\",values:[.5*j,0]},{command:\"L\",values:[j,B]},{command:\"L\",values:[0,B]},{command:\"Z\",values:[]}]},g||(j+=f,B+=f),l&&(U=!0);break;case\"x\":d.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[j,B]},{command:\"M\",values:[j,0]},{command:\"L\",values:[0,B]}]},l&&(U=!0);break;case\"path\":d.shape={type:\"path\",path:t.path||\"\"},g||(j+=f,B+=f),l&&(U=!0),g=!0}break}case v:{const{width:t,height:o}=E(e),n=m(r).reduce((t,e)=>t+e,0),a=n&&Math.ceil(C/n),l=o??i??f,s=t??(n*a||C);if(g=!0,\"polyline\"===e?.geometry?.type&&e?.geometry?.extent){j=s,B=o??j;const t=1e3,i=.15*t;u=[j,B],B=u[0]>u[1]?t*u[1]/u[0]:t,j=u[0]>u[1]?t:t*u[0]/u[1],r?.width&&(r.width=r.width*t/(u[1]>u[0]?u[1]:u[0]),r.width>i&&(r.width=i)),d.shape={type:\"path\",path:P(e.geometry,j,B)}}else j=null!=e?.maxSize?Math.min(s,e.maxSize):s,B=l,r&&(r.width=l),d.shape={type:\"path\",path:[{command:\"M\",values:[l/2,B/2]},{command:\"L\",values:[j-l/2,B/2]}]};break}case y:case x:{const t=\"object\"==typeof e?.symbolConfig&&!!e?.symbolConfig?.isSquareFill,{width:o,height:n}=E(e);j=!t&&o!==n||null==o?null!=i?i:z:o,B=!t&&o!==n||null==n?j:n,g||(j+=f,B+=f),g=!0,e?.geometry?.extent&&\"polygon\"===e?.geometry?.type?(u=[j,B],B=u[0]>u[1]?1e3*u[1]/u[0]:1e3,j=u[0]>u[1]?1e3:1e3*u[0]/u[1],d.shape={type:\"path\",path:P(e.geometry,j,B)}):d.shape=t?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[j,0]},{command:\"L\",values:[j,B]},{command:\"L\",values:[0,B]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:p.fill[0];break}case w:{const o=Math.min(n(t.width),a||L),s=Math.min(n(t.height),a||L),{width:r,height:h}=E(e),c=r===h&&null!=r?r:null!=i?i:Math.max(o,s),m=t.width/t.height;j=m<=1?Math.ceil(c*m):c,B=m<=1?c:Math.ceil(c/m),d.shape={type:\"image\",x:-Math.round(j/2),y:-Math.round(B/2),width:j,height:B,src:t.url||\"\"},l&&(U=!0);break}case M:{const o=t,l=e?.overrideText||o.text||k,s=o.font,{width:r,height:h}=E(e),c=null!=h?h:null!=i?i:Math.min(n(s.size),a||L),{width:m,height:u}=$(l,{weight:s.weight,size:c,family:s.family}),p=/[\\uE600-\\uE6FF]/.test(l);j=r??(p?c:m),B=p?c:u;let f=.5*(p?c:u);p&&(f+=5),d.shape={type:\"text\",text:l,x:o.xoffset||0,y:o.yoffset||f,align:\"middle\",alignBaseline:o.verticalAlignment,decoration:s&&s.decoration,rotated:o.rotated,kerning:o.kerning},d.font=s&&{size:c,style:s.style,decoration:s.decoration,weight:s.weight,family:s.family};break}}return{shapeDescriptor:d,size:[j,B],outputSize:u,renderOptions:{node:e?.node,scale:g,opacity:e?.opacity,rotations:[l],useRotationSize:U,cssEffectFilter:e?.cssEffectFilter,ariaLabel:e?.ariaLabel,clipBloomEffect:e?.clipBloomEffect}}}async function q(t,e){const{shapeDescriptor:i,size:n,renderOptions:a,outputSize:l}=D(t,e);if(!i.shape)throw new o(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await U(t,i),await F(t,i,n,e);const s=[[i]];if(\"object\"==typeof e?.symbolConfig&&e?.symbolConfig?.applyColorModulation){const t=.6*n[0];s.unshift([{...i,offset:[-t,0],fill:d(i.fill,-.3)}]),s.push([{...i,offset:[t,0],fill:d(i.fill,.3)}]),n[0]+=2*t,a.scale=!1}\"text\"===t.type&&A(t,i,s,n,a);const r=f(s,n,a);if(l&&r){const t=\"img\"===r.nodeName.toLowerCase()?r:r.firstChild;\"svg\"===t.nodeName.toLowerCase()&&t.setAttribute(\"viewBox\",`0 0 ${n[0].toString()} ${n[1].toString()}`),t.setAttribute(\"width\",l[0].toString()),t.setAttribute(\"height\",l[1].toString()),l.length>2&&(t.style.setProperty(\"padding-left\",l[2]?.toString()+\"px\"),t.style.setProperty(\"padding-right\",l[2]?.toString()+\"px\"),t.style.setProperty(\"padding-top\",l[3]?.toString()+\"px\"),t.style.setProperty(\"padding-bottom\",l[3]?.toString()+\"px\"),t.style.setProperty(\"box-sizing\",\"border-box\"))}return r}function T(o,i=j){const n=h(o),a=c(o),l=!n||\"type\"in n?null:new t(n),s=a?.color?new t(a?.color):null,r=l?Z(e(l),i):null,m=s?Z(e(s),i):null;return m?r?r===m?r:i>=j?\"light\":\"dark\":m:r}export{T as getContrastingBackgroundTheme,D as getRenderSymbolParameters,q as previewSymbol2D};\n"],"names":["y","w","x","v","b","M","k","z","S","C","j","B","P","t","e","o","i","n","h","l","s","r","a","c","$","E","U","u","F","A","g","Z","D","T","d","f","m","p","q"],"mappings":"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","x_google_ignoreList":[0]}