import{ch as c,c3 as p}from"./main-CSjwO60s.js";function u(t,e){return e?"xoffset"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):"yoffset"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function b(t){let e=0,a=0;for(let n=0;n<t.length;n++){const s=t[n].size;typeof s=="number"&&(e+=s,a++)}return e/a}function m(t,e){return typeof t=="number"?t:t?.stops?.length?b(t.stops):e}function d(t,e){if(!e)return t;const a=e.filter(i=>i.type==="size").map(i=>{const{maxSize:r,minSize:f}=i;return(m(r,t)+m(f,t))/2});let n=0;const s=a.length;if(s===0)return t;for(let i=0;i<s;i++)n+=a[i];const o=Math.floor(n/s);return Math.max(o,t)}function y(t){const e=t?.renderer,a=t?.pointerType,n=a==="touch"?9:6;if(!e)return n;const s="visualVariables"in e?d(n,e.visualVariables):n;if(e.type==="simple")return u(s,e.symbol);if(e.type==="unique-value"){let o=s;return e.uniqueValueInfos?.forEach(i=>{o=u(o,i.symbol)}),o}if(e.type==="class-breaks"){let o=s;return e.classBreakInfos.forEach(i=>{o=u(o,i.symbol)}),o}return e.type==="dot-density"||e.type,s}function h(t,e,a,n=new c){let s=0;if(a.type==="2d")s=e*(a.resolution??0);else if(a.type==="3d"){const M=a.overlayPixelSizeInMapUnits(t),l=a.basemapSpatialReference;s=l==null||l.equals(a.spatialReference)?e*M:p(l)/p(a.spatialReference)}const o=t.x-s,i=t.y-s,r=t.x+s,f=t.y+s,{spatialReference:x}=a;return n.xmin=Math.min(o,r),n.ymin=Math.min(i,f),n.xmax=Math.max(o,r),n.ymax=Math.max(i,f),n.spatialReference=x,n}function z(t,e,a){const n=a.toMap(t);return n==null?!1:h(n,y(),a,v).intersects(e)}let v=new c;export{z as i,y as o,h as r};
