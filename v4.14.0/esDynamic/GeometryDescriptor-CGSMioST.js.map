{"version":3,"file":"GeometryDescriptor-CGSMioST.js","sources":["../../node_modules/@arcgis/core/layers/support/GeometryDescriptor.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../geometry/Multipoint.js\";import t from\"../../geometry/Point.js\";import s from\"../../geometry/Polyline.js\";import{initializeProjection as n,project as o}from\"../../geometry/projectionUtils.js\";class r{constructor(e){this.geometry=e,this.spatialReference=e.spatialReference}export(){return this._exporter(this.coordinates,this.spatialReference)}clone(e){const t=new r(this.geometry);return t.spatialReference=this.spatialReference,t.coordinates=e??this.coordinates.map(e=>e.clone()),t._exporter=this._exporter,t}async project(t,s){if(this.spatialReference.equals(t))return this.clone();await n([{source:this.spatialReference,dest:t}],{signal:s});const r=new e({spatialReference:this.spatialReference,points:this.coordinates.map(e=>[e.x,e.y])}),i=o(r,t);if(!i)return null;const a=this.coordinates.map((e,t)=>{const s=e.clone(),n=i.points[t];return s.x=n[0],s.y=n[1],s}),c=this.clone(a);return c.spatialReference=t,c}static fromGeometry(n){const o=new r(n);if(n instanceof r)return o.coordinates=n.coordinates.map(e=>e.clone()),o._exporter=(e,t)=>{const s=n.clone(e);return s.spatialReference=t,s},o;switch(n.type){case\"point\":{const e=n,{hasZ:s,hasM:r}=e;return o.coordinates=s&&r?[new i(e.x,e.y,e.z,e.m)]:s?[new i(e.x,e.y,e.z)]:r?[new i(e.x,e.y,null,e.m)]:[new i(e.x,e.y)],o._exporter=(e,s)=>n.hasM?new t(e[0].x,e[0].y,e[0].z,e[0].m,s):new t(e[0].x,e[0].y,e[0].z,s),o}case\"multipoint\":{const t=n,{hasZ:s,hasM:r}=t;return o.coordinates=s&&r?t.points.map(e=>new i(e[0],e[1],e[2],e[3])):s?t.points.map(e=>new i(e[0],e[1],e[2])):r?t.points.map(e=>new i(e[0],e[1],null,e[2])):t.points.map(e=>new i(e[0],e[1])),o._exporter=(t,s)=>n.hasM?new e({points:t.map(e=>[e.x,e.y,e.z??0,e.m??0]),hasZ:!0,hasM:!0,spatialReference:s}):new e({points:t.map(e=>[e.x,e.y,e.z??0]),spatialReference:s}),o}case\"polyline\":{const e=n,t=[],r=[],{hasZ:a,hasM:c}=n;let p=0;for(const s of e.paths)if(r.push([p,p+s.length]),p+=s.length,a&&c)for(const e of s)t.push(new i(e[0],e[1],e[2],e[3]));else if(a)for(const e of s)t.push(new i(e[0],e[1],e[2]));else if(c)for(const e of s)t.push(new i(e[0],e[1],null,e[2]));else for(const e of s)t.push(new i(e[0],e[1]));return o.coordinates=t,o._exporter=(e,t)=>{const o=n.hasM?e.map(e=>[e.x,e.y,e.z??0,e.m??0]):e.map(e=>[e.x,e.y,e.z??0]),i=r.map(e=>o.slice(e[0],e[1]));return new s({paths:i,hasM:n.hasM,hasZ:!0,spatialReference:t})},o}}}}class i{constructor(e,t,s=null,n=null,o=null,r=null){this.x=e,this.y=t,this.z=s,this.m=n,this.tile=o,this.elevationTile=r}clone(){return new i(this.x,this.y,this.z,this.m)}}export{i as Coordinate,r as GeometryDescriptor};\n"],"names":["r","e","t","s","n","i","o","c","a","p"],"mappings":"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","x_google_ignoreList":[0]}