{"version":3,"file":"utils-DvP1Tc7W.js","sources":["../../node_modules/@arcgis/core/symbols/support/gfxUtils.js","../../node_modules/@arcgis/core/symbols/support/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as t}from\"../../assets.js\";import e from\"../../Color.js\";import o from\"../../request.js\";import{LRUCache as s}from\"../../core/LRUCache.js\";import{pt2px as r}from\"../../core/screenUtils.js\";import{getCIMSymbolColor as n}from\"./cimSymbolUtils.js\";const i=\"picture-fill\",l=\"simple-fill\",a=\"simple-line\",c=\"simple-marker\",h=\"text\",d=\"cim\",m=new Map([[\"dash\",[4,3]],[\"dashdot\",[4,3,1,3]],[\"dot\",[1,3]],[\"longdash\",[8,3]],[\"longdashdot\",[8,3,1,3]],[\"longdashdotdot\",[8,3,1,3,1,3]],[\"shortdash\",[4,1]],[\"shortdashdot\",[4,1,1,1]],[\"shortdashdotdot\",[4,1,1,1,1,1]],[\"shortdot\",[1,1]],[\"solid\",[]]]),p=new s(1e3);function u(e){const o=e.style;let s=null;if(e)switch(e.type){case c:\"cross\"!==o&&\"x\"!==o&&(s=e.color);break;case l:o&&\"solid\"!==o?\"none\"!==o&&(s={type:\"pattern\",x:0,y:0,src:t(`esri/symbols/patterns/${o}.png`),width:5,height:5}):s=e.color;break;case i:s={type:\"pattern\",src:e.url,width:r(e.width)*e.xscale,height:r(e.height)*e.yscale,x:r(e.xoffset),y:r(e.yoffset)};break;case h:s=e.color;break;case d:s=n(e)}return s}function f(t,e){const s=t+\"-\"+e,r=p.get(s);return null!=r?Promise.resolve(r):o(t,{responseType:\"image\"}).then(t=>{const o=t.data,r=o.naturalWidth,n=o.naturalHeight,i=document.createElement(\"canvas\");i.width=r,i.height=n;const l=i.getContext(\"2d\");l.fillStyle=e,l.fillRect(0,0,r,n),l.globalCompositeOperation=\"destination-in\",l.drawImage(o,0,0);const a=i.toDataURL();return p.put(s,a),a})}function y(t){if(!t)return null;let e=null;switch(t.type){case l:case i:case c:e=y(t.outline);break;case a:{const o=r(t.width);null!=t.style&&\"none\"!==t.style&&0!==o&&(e={color:t.color,style:w(t.style),width:o,cap:t.cap,join:\"miter\"===t.join?r(t.miterLimit):t.join},e.dashArray=g(e).join(\",\")||\"none\");break}default:e=null}return e}function g(t){if(!t?.style)return[];const{dashArray:e,style:o,width:s}=t;if(\"string\"==typeof e&&\"none\"!==e)return e.split(\",\").map(t=>Number(t));const r=s??0,n=m.has(o)?m.get(o).map(t=>t*r):[];if(\"butt\"!==t.cap)for(const[i,l]of n.entries())n[i]=i%2==1?l+r:Math.max(l-r,1);return n}const w=(()=>{const t={};return e=>{if(t[e])return t[e];const o=e.replaceAll(\"-\",\"\");return t[e]=o,o}})(),b=new e([128,128,128]);export{b as defaultThematicColor,w as dekebabifyLineStyle,g as getDashArray,u as getFill,f as getPatternUrlWithColor,y as getStroke};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{forEach as t}from\"../../core/asyncUtils.js\";import\"../../core/has.js\";import{px2pt as r}from\"../../core/screenUtils.js\";import{ONES as o}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{effectFunctionsFromJSON as n}from\"../../layers/effects/jsonUtils.js\";import{applyCIMSymbolRotation as l,getCIMSymbolColor as i}from\"./cimSymbolUtils.js\";import{getStroke as c}from\"./gfxUtils.js\";import{Symbol3DMaterial as s}from\"./Symbol3DMaterial.js\";import{isSymbol3D as u,isSymbol2D as a}from\"./typeUtils.js\";function f(e){const t=e.symbolLayers?.at(-1);if(t&&\"outline\"in t)return t?.outline?.size}function m(e){if(!e)return 0;if(u(e)){const t=f(e);return null!=t?t:0}return r(c(e)?.width)}function y(e){const t=e.symbolLayers?.at(-1);if(t&&\"outline\"in t)return t?.outline?.color}function p(t){if(!t)return null;if(u(t))return y(t);const r=c(t)?.color;return r?new e(r):null}function h(e){if(null==e||!(\"symbolLayers\"in e)||null==e.symbolLayers)return!1;switch(e.type){case\"point-3d\":return e.symbolLayers.some(e=>\"object\"===e.type);case\"line-3d\":return e.symbolLayers.some(e=>\"path\"===e.type);case\"polygon-3d\":return e.symbolLayers.some(e=>\"object\"===e.type||\"extrude\"===e.type);default:return!1}}function d(e){return e.resource?.href??\"\"}function b(t,r){if(!t)return null;let o=null;return u(t)?o=w(t):a(t)&&(o=\"cim\"===t.type?i(t):t.color?new e(t.color):null),o?k(o,r):null}function w(t){const r=t.symbolLayers;if(!r)return null;let o=null;return r.forEach(e=>{\"object\"===e.type&&e.resource?.href||(o=\"water\"===e.type?e.color:e.material?e.material.color:null)}),o?new e(o):null}function k(t,r){if(null==r||null==t)return t;const o=t.toRgba();return o[3]=o[3]*r,new e(o)}function j(t,r,o){const n=t.symbolLayers;if(!n)return;const l=(t,n=!1)=>{let l=r??t??null;return null!=o?.override&&(!l&&n&&(l=new e([255,255,255])),l&&(l.a=o.override)),k(l,o?.add)};n.forEach(e=>{if(\"water\"===e.type)return void(e.color=k(e.color,o?.add));const t=null!=e.material?e.material.color:null,r=l(t,\"icon\"===e.type&&null!=e.resource?.href);null==e.material?e.material=new s({color:r}):e.material.color=r,\"outline\"in e&&e.outline?.color&&null!=o?.add&&(e.outline.color=k(e.outline.color,o.add)),\"marker\"in e&&null!=e.marker&&(e.marker.color=l(e.marker.color))})}function g(e,t,r){t=t??e.color,null!=r?.override&&t&&(t.a=r.override),t&&(e.color=k(t,r?.add)),\"outline\"in e&&e.outline?.color&&(e.outline.color=k(e.outline.color,r?.add))}function L(t,r,o){t&&(r||null!=o)&&(r&&(r=new e(r)),u(t)?j(t,r,o):a(t)&&g(t,r,o))}async function v(e,r){const o=e.symbolLayers;o&&await t(o,async e=>z(e,r))}async function z(e,t){switch(e.type){case\"extrude\":U(e,t);break;case\"icon\":case\"line\":case\"text\":x(e,t);break;case\"path\":O(e,t);break;case\"object\":await E(e,t)}}function x(e,t){const r=S(t);null!=r&&(e.size=r)}function S(e){for(const t of e)if(\"number\"==typeof t)return t;return null}function U(e,t){const r=t[2];\"number\"==typeof r&&(e.size=r)}async function E(e,t){const{resourceSize:r,symbolSize:o}=await C(e),n=R(t,r,o);null!=n&&(e.width=D(t[0],o[0],r[0],n),e.depth=D(t[1],o[1],r[1],n),e.height=D(t[2],o[2],r[2],n))}function O(e,t){const r=R(t,o,[e.width,void 0,e.height]);null!=r&&(e.width=D(t[0],e.width,1,r),e.height=D(t[2],e.height,1,r))}function R(e,t,r){for(let o=0;o<3;o++){const n=e[o];switch(n){case\"symbol-value\":{const e=r[o];return null!=e?e/t[o]:1}case\"proportional\":break;default:if(n&&t[o])return n/t[o]}}return null}async function C(e){const{computeObjectLayerResourceSize:t}=await import(\"./symbolLayerUtils.js\"),r=await t(e,10),{width:o,height:n,depth:l}=e,i=[o,l,n];let c=1;for(let s=0;s<3;s++){const e=i[s];if(null!=e){c=e/r[s];break}}for(let s=0;s<3;s++)null==i[s]&&(i[s]=r[s]*c);return{resourceSize:r,symbolSize:i}}function D(e,t,r,o){switch(e){case\"proportional\":return r*o;case\"symbol-value\":return null!=t?t:r;default:return e}}function J(e,t){const r=S(t);if(null!=r)switch(e.type){case\"simple-marker\":e.size=r;break;case\"picture-marker\":{const t=e.width/e.height;t>1?(e.width=r,e.height=r*t):(e.width=r*t,e.height=r);break}case\"simple-line\":e.width=r;break;case\"text\":e.font.size=r}}async function M(e,t){if(e&&t)return u(e)?v(e,t):void(a(e)&&J(e,t))}function N(e,t,r){if(e&&null!=t)if(u(e)){const o=e.symbolLayers;o&&o.forEach(e=>{if(\"object\"===e.type)switch(r){case\"tilt\":e.tilt=(e.tilt??0)+t;break;case\"roll\":e.roll=(e.roll??0)+t;break;default:e.heading=(e.heading??0)+t}\"icon\"===e.type&&(e.angle+=t)})}else if(a(e))switch(e.type){case\"simple-marker\":case\"picture-marker\":case\"text\":e.angle+=t;break;case\"cim\":l(e,t,!0)}}function q(e,t){if(!e)return null;const r=(t?e.effects:e.effects.filter(e=>\"bloom\"!==e.type)).map(e=>e.toJSON());return n(r)}function A(e){return null!=e&&\"polygon-3d\"===e.type&&e.symbolLayers.some(e=>\"extrude\"===e.type)}export{L as applyColorToSymbol,k as applyOpacityToColor,N as applyRotationToSymbol,M as applySizesToSymbol,q as getCSSFilterFromEffectList,b as getColorFromSymbol,d as getIconHref,p as getSymbolOutlineColor,m as getSymbolOutlineSize,h as isVolumetricSymbol,A as symbolHasExtrudeSymbolLayer};\n"],"names":["i","l","a","c","h","d","m","p","s","u","e","o","t","r","n","f","y","w","g","b","k","j","L","v","z","U","x","O","E","S","C","R","D","J","M","N","q","A"],"mappings":"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","x_google_ignoreList":[0,1]}