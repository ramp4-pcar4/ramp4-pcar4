{"version":3,"file":"FeatureServiceSnappingSourceWorker-ZHK-v0Pv.js","sources":["../../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js","../../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher.js","../../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileCache.js","../../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileStore.js","../../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createTask as t,resultOrAbort as e}from\"../../../../../core/asyncUtils.js\";class s{constructor(t,e){this.key=t,this.resolution=e,this.state={type:0},this.alive=!0}process(t){switch(this.state.type){case 0:return this.state=this._gotoFetchCount(this.state,t),this.state.task.promise.then(t.resume,t.resume);case 1:case 3:break;case 2:return this.state=this._gotoFetchFeatures(this.state,t),this.state.task.promise.then(t.resume,t.resume);case 4:this.state=this._goToDone(this.state,t)}return null}get debugInfo(){return{key:this.key,featureCount:this._featureCount,state:this._stateToString}}get _featureCount(){switch(this.state.type){case 0:case 1:return 0;case 2:return this.state.featureCount;case 3:return this.state.previous.featureCount;case 4:return this.state.features.length;case 5:return this.state.previous.features.length}}get _stateToString(){switch(this.state.type){case 0:return\"created\";case 1:return\"fetch-count\";case 2:return\"fetched-count\";case 3:return\"fetch-features\";case 4:return\"fetched-features\";case 5:return\"done\"}}_gotoFetchCount(s,r){return{type:1,previous:s,task:t(async t=>{const s=await e(r.fetchCount(this,t));1===this.state.type&&(this.state=a(this.state,s.ok?s.value:1/0))})}}_gotoFetchFeatures(s,a){return{type:3,previous:s,task:t(async t=>{const u=await e(a.fetchFeatures(this,s.featureCount,t));3===this.state.type&&(this.state=r(this.state,u.ok?u.value:[]))})}}_goToDone(t,e){return e.finish(this,t.features),{type:5,previous:t}}reset(){const t=this.state;switch(this.state={type:0},t.type){case 0:case 2:case 4:case 5:break;case 1:case 3:t.task.abort()}}}function a(t,e){return{type:2,featureCount:e,previous:t}}function r(t,e){return{type:4,previous:t,features:e}}export{s as PendingFeatureTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../../core/Accessor.js\";import{equals as i}from\"../../../../../core/arrayUtils.js\";import{createTask as s}from\"../../../../../core/asyncUtils.js\";import r from\"../../../../../core/Logger.js\";import{throwIfAbortError as o}from\"../../../../../core/promiseUtils.js\";import{when as n}from\"../../../../../core/reactiveUtils.js\";import{union as a,equals as l,isSubsetOf as u,difference as c}from\"../../../../../core/SetUtils.js\";import{normalizeGlobalID as d}from\"../../../../../core/uuid.js\";import{property as h}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as y}from\"../../../../../core/support/UpdatingHandles.js\";import f from\"../../../../../geometry/Extent.js\";import{toExtent as m}from\"../../../../../geometry/support/aaBoundingRect.js\";import{unquantizeOptimizedFeatureSet as _,convertFromFeatureSet as g}from\"../../../../../layers/graphics/featureConversionUtils.js\";import F from\"../../../../../layers/graphics/OptimizedFeatureSet.js\";import{isHostedAgolService as b}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{OptimizedFeatureSetParserContext as T}from\"../../../../../rest/query/operations/pbfOptimizedFeatureSet.js\";import{executeQueryForExtent as P,executeQueryPBF as v,executeQuery as I}from\"../../../../../rest/query/operations/query.js\";import O from\"../../../../../rest/support/Query.js\";import{PendingFeatureTile as S}from\"./PendingFeatureTile.js\";let j=class extends t{get _minimumVerticesPerFeature(){switch(this.store?.featureStore.geometryType){case\"esriGeometryPoint\":case\"esriGeometryMultipoint\":return 1;case\"esriGeometryPolygon\":return 4;case\"esriGeometryPolyline\":return 2}}get _mandatoryOutFields(){const e=new Set;return this.objectIdField&&e.add(this.objectIdField),this.globalIdField&&e.add(this.globalIdField),e}set outFields(e){const t=this._get(\"outFields\"),i=a(e,this._mandatoryOutFields);l(i,t)||(this._set(\"outFields\",i),u(i,t)||this.refresh())}get outFields(){return this._get(\"outFields\")??this._mandatoryOutFields}set filter(e){const t=this._get(\"filter\"),i=this._filterProperties(e);JSON.stringify(t)!==JSON.stringify(i)&&this._set(\"filter\",i)}set customParameters(e){const t=this._get(\"customParameters\");JSON.stringify(t)!==JSON.stringify(e)&&this._set(\"customParameters\",e)}get _configuration(){return{filter:this.filter,customParameters:this.customParameters,tileInfo:this.tileInfo,tileSize:this.tileSize}}set tileInfo(e){const t=this._get(\"tileInfo\");t!==e&&(null!=e&&null!=t&&JSON.stringify(e)===JSON.stringify(t)||(this._set(\"tileInfo\",e),this.store.tileInfo=e))}set tileSize(e){this._get(\"tileSize\")!==e&&this._set(\"tileSize\",e)}get updating(){return this._updatingHandles.updating}get hasZ(){return this.store.featureStore.hasZ}constructor(e){super(e),this.suspended=!0,this._historicMoment=null,this.tilesOfInterest=new Array,this.availability=0,this._pendingTiles=new Map,this._updatingHandles=new y}initialize(){this._initializeFetchExtent(),this._updatingHandles.add(()=>this._configuration,()=>this.refresh()),this._updatingHandles.add(()=>this.tilesOfInterest,()=>{this._updatePriorities(),this._process()},{sync:!0,initial:!0,equals:(e,t)=>i(e,t,({id:e},{id:t})=>e===t)}),this.addHandles(n(()=>!this.suspended,()=>this._process()))}_updatePriorities(){this.store.setPriorityOrderByKey(this.tilesOfInterest.map(({id:e})=>e)??[])}destroy(){this._pendingTiles.forEach(e=>this._deletePendingTile(e)),this._pendingTiles.clear(),this.store.destroy(),this.tilesOfInterest.length=0,this._updatingHandles.destroy()}refresh(){this.store.refresh(),this._pendingTiles.forEach(e=>this._deletePendingTile(e)),this._process()}async handleEdits(e){if(e.historicMoment&&(this._historicMoment=e.historicMoment),!e.addedFeatures.length&&!e.updatedFeatures.length&&!e.deletedFeatures.length)return;for(const s of this._pendingTiles.values())s.reset();const t={...e,deletedFeatures:e.deletedFeatures.map(({objectId:e,globalId:t})=>e&&-1!==e?e:this._lookupObjectIdByGlobalId(t))},i=s(async e=>{try{await this.store.processEdits(t,(e,t)=>this._queryFeaturesById(e,t),e),this._processPendingTiles()}catch(i){o(i),r.getLogger(this).warn(\"Failed to apply edits\",i)}});this.addHandles(i),await this._updatingHandles.addPromise(i.promise)}setHistoricMoment(e){e?.getTime()!==this._historicMoment?.getTime()&&(this._historicMoment=e,this.refresh())}_initializeFetchExtent(){if(!this.capabilities.query.supportsExtent||!b(this.url))return;const e=s(async e=>{try{const t=await P(this.url,new O({where:\"1=1\",outSpatialReference:this.spatialReference,cacheHint:this.capabilities.query.supportsCacheHint??void 0}),{query:this._configuration.customParameters,signal:e});this.store.extent=f.fromJSON(t.data?.extent)}catch(t){o(t),r.getLogger(this).warn(\"Failed to fetch data extent\",t)}});this._updatingHandles.addPromise(e.promise.then(()=>this._process())),this.addHandles(e)}get debugInfo(){return{numberOfFeatures:this.store.featureStore.numFeatures,tilesOfInterest:this.tilesOfInterest,pendingTiles:Array.from(this._pendingTiles.values()).map(e=>e.debugInfo),storedTiles:this.store.debugInfo}}_process(){this._markTilesNotAlive(),this._createPendingTiles(),this._deletePendingTiles(),this._processPendingTiles()}_markTilesNotAlive(){for(const e of this._pendingTiles.values())e.alive=!1}_createPendingTiles(){if(this.suspended)return;const e=this._collectMissingTilesInfo();if(this._setAvailability(null==e?1:e.coveredArea/e.fullArea),null!=e)for(const{data:t,resolution:i}of e.missingTiles){const e=this._pendingTiles.get(t.id);e?(e.resolution=i,e.alive=!0):this._createPendingTile(t,i)}}_collectMissingTilesInfo(){let e=null;for(const t of this.tilesOfInterest){const i=this.store.process(t,(e,t)=>this._verifyTileComplexity(e,t),this.outFields);null==e?e=i:e.prepend(i)}return e}_deletePendingTiles(){for(const e of this._pendingTiles.values())e.alive||this._deletePendingTile(e)}_processPendingTiles(){const e={fetchCount:(e,t)=>this._fetchCount(e,t),fetchFeatures:(e,t,i)=>this._fetchFeatures(e,t,i),finish:(e,t)=>this._finishPendingTile(e,t),resume:()=>this._processPendingTiles()};if(this._ensureFetchAllCounts(e))for(const t of this._pendingTiles.values())this._verifyTileComplexity(this.store.getFeatureCount(t.key),t.resolution)&&this._updatingHandles.addPromise(t.process(e))}_verifyTileComplexity(e,t){return this._verifyVertexComplexity(e)&&this._verifyFeatureDensity(e,t)}_verifyVertexComplexity(e){return e*this._minimumVerticesPerFeature<C}_verifyFeatureDensity(e,t){if(null==this.tileInfo)return!1;const i=this.tileSize*t;return e*(q/(i*i))<M}_ensureFetchAllCounts(e){let t=!0;for(const i of this._pendingTiles.values())i.state.type<2&&this._updatingHandles.addPromise(i.process(e)),i.state.type<=1&&(t=!1);return t}_finishPendingTile(e,t){this.store.add(e.key,t),this._deletePendingTile(e),this._updateAvailability()}_updateAvailability(){const e=this._collectMissingTilesInfo();this._setAvailability(null==e?1:e.coveredArea/e.fullArea)}_setAvailability(e){this._set(\"availability\",e)}_createPendingTile(e,t){const i=new S(e,t);return this._pendingTiles.set(e.id,i),i}_deletePendingTile(e){e.reset(),this._pendingTiles.delete(e.key.id)}async _fetchCount(e,t){return this.store.fetchCount(e.key,this.url,this._createCountQuery(e),{query:this.customParameters,timeout:x,signal:t})}async _fetchFeatures(e,t,i){let s=0;const r=[];let o=0,n=t;for(;;){const a=this._createFeaturesQuery(e),l=this._setPagingParameters(a,s,n),{features:u,exceededTransferLimit:c}=await this._queryFeatures(a,i);l&&(s+=a.num),o+=u.length;for(const e of u)r.push(e);if(n=t-o,!l||!c||n<=0)return r}}_filterProperties(e){return null==e?{where:\"1=1\",gdbVersion:void 0,timeExtent:void 0}:{where:e.where||\"1=1\",timeExtent:e.timeExtent,gdbVersion:e.gdbVersion}}_lookupObjectIdByGlobalId(e){const t=this.globalIdField,i=this.objectIdField;if(null==t)throw new Error(\"Expected globalIdField to be defined\");let s=null;const r=e?d(e):e;if(this.store.featureStore.forEach(e=>{r===d(e.attributes[t])&&(s=e.objectId??e.attributes[i])}),null==s)throw new Error(`Expected to find a feature with globalId ${e}`);return s}_queryFeaturesById(e,t){const i=this._createFeaturesQuery();return i.objectIds=e,this._queryFeatures(i,t)}async _queryFeatures(e,t){return 0===e.num?new F:this.capabilities.query.supportsFormatPBF?this._queryFeaturesPBF(e,t):this._queryFeaturesJSON(e,t)}async _queryFeaturesPBF(e,t){const{sourceSpatialReference:i}=this,{data:s}=await v(this.url,e,new T({sourceSpatialReference:i}),{query:this._configuration.customParameters,timeout:x,signal:t});return _(s)}async _queryFeaturesJSON(e,t){const{sourceSpatialReference:i}=this,{data:s}=await I(this.url,e,i,{query:this._configuration.customParameters,timeout:x,signal:t});return g(s,{type:\"object-id\",fieldName:this.objectIdField})}_createCountQuery(e){const t=this._createBaseQuery(e);return this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_createFeaturesQuery(e=null){const t=this._createBaseQuery(e),i=null!=e?.key?this.store.getAttributesForTile(e?.key?.id):null,s=a(c(this.outFields,i??new Set),this._mandatoryOutFields);return t.outFields=Array.from(s),t.returnGeometry=!0,null!=e&&(this.capabilities.query.supportsResultType?t.resultType=\"tile\":this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0)),t}_createBaseQuery(e){const t=new O({returnZ:this.hasZ,returnM:!1,historicMoment:this._historicMoment,geometry:null!=this.tileInfo&&null!=e?m(e.key.extent,this.tileInfo.spatialReference):void 0}),i=this._configuration.filter;return null!=i&&(t.where=i.where,t.gdbVersion=i.gdbVersion,t.timeExtent=i.timeExtent),t.outSpatialReference=this.spatialReference,t}_setPagingParameters(e,t,i){if(!this.capabilities.query.supportsPagination)return!1;const{supportsMaxRecordCountFactor:s,supportsCacheHint:r,tileMaxRecordCount:o,maxRecordCount:n,supportsResultType:a}=this.capabilities.query,l=s?O.MAX_MAX_RECORD_COUNT_FACTOR:1,u=l*((a||r)&&o?o:n||w);return e.start=t,s?(e.maxRecordCountFactor=Math.min(l,Math.ceil(i/u)),e.num=Math.min(i,e.maxRecordCountFactor*u)):e.num=Math.min(i,u),!0}};e([h({constructOnly:!0})],j.prototype,\"url\",void 0),e([h({constructOnly:!0})],j.prototype,\"objectIdField\",void 0),e([h({constructOnly:!0})],j.prototype,\"globalIdField\",void 0),e([h({constructOnly:!0})],j.prototype,\"capabilities\",void 0),e([h({constructOnly:!0})],j.prototype,\"sourceSpatialReference\",void 0),e([h({constructOnly:!0})],j.prototype,\"spatialReference\",void 0),e([h({constructOnly:!0})],j.prototype,\"store\",void 0),e([h({readOnly:!0})],j.prototype,\"_minimumVerticesPerFeature\",null),e([h()],j.prototype,\"_mandatoryOutFields\",null),e([h()],j.prototype,\"outFields\",null),e([h()],j.prototype,\"suspended\",void 0),e([h()],j.prototype,\"_historicMoment\",void 0),e([h()],j.prototype,\"filter\",null),e([h()],j.prototype,\"customParameters\",null),e([h({readOnly:!0})],j.prototype,\"_configuration\",null),e([h()],j.prototype,\"tileInfo\",null),e([h()],j.prototype,\"tileSize\",null),e([h()],j.prototype,\"tilesOfInterest\",void 0),e([h({readOnly:!0})],j.prototype,\"updating\",null),e([h({readOnly:!0})],j.prototype,\"availability\",void 0),e([h()],j.prototype,\"hasZ\",null),j=e([p(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher\")],j);const w=2e3,x=6e5,C=1e6,q=25,M=1;export{j as FeatureServiceTiledFetcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._store=new Map,this._priorities=new Map}get size(){return this._store.size}setPriorityOrderByKey(t){this._priorities.clear();for(let r=t.length-1;r>=0;r--)this._priorities.set(t[r],t.length-r)}hasLowerPriority(t){const r=this._priorities.get(t);if(null==r)return!0;for(const[e]of this._store){const t=this._priorities.get(e);if(null==t||t<r)return!0}return!1}someFromLowestToHighestPriority(t){const{_priorities:r}=this;for(const[e,s]of this._store)if(!r.has(e)&&t(s,e))return!0;for(const[e]of r){const r=this._store.get(e);if(r&&t(r,e))return!0}return!1}set(t,r){this._store.set(t,r)}delete(t){return this._store.delete(t)}get(t){return this._store.get(t)}has(t){return this._store.has(t)}clear(){this._store.clear()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}}export{t as FeatureServiceTileCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../../core/Accessor.js\";import\"../../../../../core/has.js\";import{intersection as s,isSubsetOf as i}from\"../../../../../core/SetUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as n,intersects as l,fromExtent as u,area as c}from\"../../../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as h}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{BoundsStore as a}from\"../../../../../layers/graphics/data/BoundsStore.js\";import{TileKey as d}from\"../../../../../layers/support/TileKey.js\";import{executeQueryForCount as f}from\"../../../../../rest/query/operations/query.js\";import{FeatureServiceTileCache as _}from\"./FeatureServiceTileCache.js\";let m=class extends t{setPriorityOrderByKey(e){this._tiles.setPriorityOrderByKey(e)}get _memoryLimitExceeded(){return this.featureStore.usedMemory>=this.maximumByteSize}constructor(e){super(e),this.tileInfo=null,this.extent=null,this.maximumByteSize=10485760,this._tileBounds=new a,this._tiles=new _,this._refCounts=new Map,this._tileFeatureCounts=new Map,this._tmpBoundingRect=n()}add(e,t){for(const s of t)this._referenceFeature(s.objectId);const i=this.featureStore.upsertMany(t),r=i.map(e=>new Set(Object.keys(e.attributes))).reduce((e,t)=>s(e,t),new Set(Object.keys(i[0]?.attributes??[]))),o=this._memoryLimitExceeded;this._addTileStorage(e,new Set(i.map(e=>e.objectId)),r),o&&this._applyCacheMemoryLimits()}_applyCacheMemoryLimits(){if(!this._memoryLimitExceeded)return;const{_tiles:e,featureStore:t,maximumByteSize:s}=this;e.someFromLowestToHighestPriority(e=>!this._memoryLimitExceeded||t.usedMemory-this._estimateRemoveTileMemoryReduction(e)<s||(this._removeTileStorage(e),!1))}_estimateRemoveTileMemoryReduction(e){let t=0;for(const s of e.objectIds){if(1===this._refCounts.get(s)){const e=this.featureStore.getFeature(s);e&&(t+=this.featureStore.estimateFeatureUsedMemory?.(e)??0)}}return t}_hasAttributesForTile(e,t){if(e){const s=this._tiles.get(e);if(s)return!s.objectIds.size||i(t,s.attributeKeys)}return!1}getAttributesForTile(e){return e?this._tiles.get(e)?.attributeKeys:null}destroy(){this.clear(),this._tileFeatureCounts.clear()}clear(){this.featureStore.clear(),this._tileBounds.clear(),this._tiles.clear(),this._refCounts.clear()}refresh(){this.clear(),this._tileFeatureCounts.clear()}processEdits(e,t,s){return this._processEditsDelete(e.deletedFeatures.concat(e.updatedFeatures)),this._processEditsRefetch(e.addedFeatures.concat(e.updatedFeatures),t,s)}_addTileStorage(e,t,s){const i=e.id;this._tiles.set(i,new y(e,t,s)),this._tileBounds.set(i,e.extent),this._tileFeatureCounts.set(i,t.size)}_remove({id:e}){const t=this._tiles.get(e);t&&this._removeTileStorage(t)}_removeTileStorage(e){const t=[];for(const i of e.objectIds)1===this._unreferenceFeature(i)&&t.push(i);this.featureStore.removeManyById(t);const s=e.key.id;this._tiles.delete(s),this._tileBounds.delete(s)}_processEditsDelete(e){this.featureStore.removeManyById(e);for(const t of this._tiles.values()){for(const s of e)t.objectIds.delete(s);this._tileFeatureCounts.set(t.key.id,t.objectIds.size)}for(const t of e)this._refCounts.delete(t)}async _processEditsRefetch(e,t,s){if(!e.length)return;const i=(await t(e,s)).features,{hasZ:r,hasM:o}=this.featureStore;for(const n of i){const e=h(this._tmpBoundingRect,n.geometry,r,o);null!=e&&this._tileBounds.forEachInBounds(e,e=>{const t=this._tiles.get(e);this.featureStore.add(n);const s=n.objectId;t.objectIds.has(s)||(t.objectIds.add(s),this._referenceFeature(s),this._tileFeatureCounts.set(t.key.id,t.objectIds.size))})}}process(e,t=()=>!0,s){if(null==this.tileInfo||!e.extent||null!=this.extent&&!l(u(this.extent,this._tmpBoundingRect),e.extent))return new v(e);if(this._memoryLimitExceeded&&!this._tiles.hasLowerPriority(e.id??\"\"))return new v(e);if(this._hasAttributesForTile(e.id,s))return new v(e);const i=this._createTileTree(e,this.tileInfo);return this._simplify(i,t,null,0,1),this._collectMissingTiles(e,i,this.tileInfo,s)}get debugInfo(){return Array.from(this._tiles.values()).map(({key:e})=>({key:e.toJSON(),featureCount:this._tileFeatureCounts.get(e.id)||0}))}getFeatureCount(e){return this._tileFeatureCounts.get(e.id)??0}async fetchCount(e,t,s,i){const r=this._tileFeatureCounts.get(e.id);if(null!=r)return r;const o=await f(t,s,i);return this._tileFeatureCounts.set(e.id,o.data.count),o.data.count}_createTileTree(e,t){const s=new g(e.level,e.row,e.col);return t.updateTileInfo(s,1),this._tileBounds.forEachInBounds(e.extent,i=>{const r=this._tiles.get(i)?.key;r&&p(e,r)&&this._populateChildren(s,r,t,this._tileFeatureCounts.get(r.id)||0)}),s}_populateChildren(e,t,s,i){const r=t.level-e.level-1;if(r<0)return void(e.isLeaf=!0);const o=t.row>>r,n=t.col>>r,l=e.row<<1,u=n-(e.col<<1)+(o-l<<1),c=e.children[u];if(null!=c)this._populateChildren(c,t,s,i);else{const r=new g(e.level+1,o,n);s.updateTileInfo(r,1),e.children[u]=r,this._populateChildren(r,t,s,i)}}_simplify(e,t,s,i,r){const o=r*r;if(e.isLeaf)return t(this.getFeatureCount(e),r)?0:(this._remove(e),null!=s&&(s.children[i]=null),o);const n=r/2,l=n*n;let u=0;for(let c=0;c<e.children.length;c++){const s=e.children[c];u+=null!=s?this._simplify(s,t,e,c,n):l}return 0===u?this._mergeChildren(e):1-u/o<S&&(this._purge(e),null!=s&&(s.children[i]=null),u=o),u}_mergeChildren(e){const t=new Set;let i;this._forEachLeaf(e,e=>{const r=this._tiles.get(e.id);if(r){i=i?s(i,r.attributeKeys):new Set(r.attributeKeys);for(const e of r.objectIds)t.has(e)||(t.add(e),this._referenceFeature(e));this._remove(e)}}),this._addTileStorage(e,t,i??new Set),e.isLeaf=!0,e.children[0]=e.children[1]=e.children[2]=e.children[3]=null,this._tileFeatureCounts.set(e.id,t.size)}_forEachLeaf(e,t){for(const s of e.children)null!=s&&(s.isLeaf?t(s):this._forEachLeaf(s,t))}_purge(e){if(null!=e)if(e.isLeaf)this._remove(e);else for(let t=0;t<e.children.length;t++){const s=e.children[t];this._purge(s),e.children[t]=null}}_collectMissingTiles(e,t,s,i){const r=new C(s,e,this.extent);return this._collectMissingTilesRecurse(t,r,1,i),r.info}_collectMissingTilesRecurse(e,t,s,i){const r=this._tiles.has(e.id)&&!this._hasAttributesForTile(e.id,i);if(r&&t.addMissing(e.level,e.row,e.col,s),e.isLeaf)return;if(!e.hasChildren)return void(r||t.addMissing(e.level,e.row,e.col,s));const o=s/2;for(let n=0;n<e.children.length;n++){const s=e.children[n];null==s?t.addMissing(e.level+1,(e.row<<1)+((2&n)>>1),(e.col<<1)+(1&n),o):this._collectMissingTilesRecurse(s,t,o,i)}}_referenceFeature(e){const t=(this._refCounts.get(e)||0)+1;return this._refCounts.set(e,t),1===t?0:2}_unreferenceFeature(e){const t=(this._refCounts.get(e)||0)-1;return 0===t?(this._refCounts.delete(e),1):(t>0&&this._refCounts.set(e,t),2)}get test(){}};function p(e,t){if(!e||!t)return!1;if(e.level===t.level)return e.row===t.row&&e.col===t.col;const s=e.level<t.level,i=s?e:t,r=s?t:e,o=1<<r.level-i.level;return Math.floor(r.row/o)===i.row&&Math.floor(r.col/o)===i.col}e([r({constructOnly:!0})],m.prototype,\"featureStore\",void 0),e([r()],m.prototype,\"tileInfo\",void 0),e([r()],m.prototype,\"extent\",void 0),e([r()],m.prototype,\"maximumByteSize\",void 0),m=e([o(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTileStore\")],m);class y{constructor(e,t,s){this.key=e,this.objectIds=t,this.attributeKeys=s}}class g extends d{constructor(){super(...arguments),this.isLeaf=!1,this.children=[null,null,null,null]}get hasChildren(){return!this.isLeaf&&(null!=this.children[0]||null!=this.children[1]||null!=this.children[2]||null!=this.children[3])}}class v{constructor(e,t=[]){this.missingTiles=t,this.fullArea=0,this.coveredArea=0,this.fullArea=c(e.extent),this.coveredArea=this.fullArea}prepend(e){this.missingTiles=e.missingTiles.concat(this.missingTiles),this.coveredArea+=e.coveredArea,this.fullArea+=e.fullArea}}class C{constructor(e,t,s){this._tileInfo=e,this._extent=null,this.info=new v(t),null!=s&&(this._extent=u(s))}addMissing(e,t,s,i){const r=new d(e,t,s);this._tileInfo.updateTileInfo(r,1)&&(null==this._extent||l(this._extent,r.extent))&&(this.info.missingTiles.push({data:r,resolution:i}),this.info.coveredArea-=c(r.extent))}}const S=.18751;export{m as FeatureServiceTileStore,v as ProcessResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedAccessor as t}from\"../../../../../core/Evented.js\";import{createResolver as i,throwIfAborted as r}from\"../../../../../core/promiseUtils.js\";import{watch as s,sync as a,whenOnce as n}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as u}from\"../../../../../core/support/UpdatingHandles.js\";import d from\"../../../../../geometry/SpatialReference.js\";import{fromJSON as p}from\"../../../../../geometry/support/jsonUtils.js\";import h from\"../../../../../layers/graphics/data/FeatureStore.js\";import{QueryEngine as c}from\"../../../../../layers/graphics/data/QueryEngine.js\";import f from\"../../../../../layers/support/TileInfo.js\";import{TileKey as m}from\"../../../../../layers/support/TileKey.js\";import g from\"../../../../../rest/support/Query.js\";import y from\"../../../../../symbols/support/ElevationInfo.js\";import{getSnappingCandidateElevationAligner as _}from\"../snappingCandidateElevationAlignment.js\";import{getSnappingCandidateElevationFilter as S}from\"../snappingCandidateElevationFilter.js\";import{getSymbologySnappingCandidatesFetcher as F}from\"../symbologySnappingCandidates.js\";import{FeatureServiceTiledFetcher as v}from\"./FeatureServiceTiledFetcher.js\";import{FeatureServiceTileStore as I}from\"./FeatureServiceTileStore.js\";let w=class extends t{constructor(){super(...arguments),this._isInitializing=!0,this.remoteClient=null,this._whenSetup=i(),this._elevationAligner=_(),this._elevationFilter=S(),this._symbologyCandidatesFetcher=F(),this._updatingHandles=new u,this._alignPointsInFeatures=async(e,t)=>{const i={query:e},s=await this.remoteClient.invoke(\"alignElevation\",i,{signal:t});return r(t),s},this._getSymbologyCandidates=async(e,t)=>{const i={candidates:e,spatialReference:this._spatialReference.toJSON()},s=await this.remoteClient.invoke(\"getSymbologyCandidates\",i,{signal:t});return r(t),s}}get updating(){return this._isInitializing||this._updatingHandles.updating||this._featureFetcher.updating}destroy(){this._featureFetcher?.destroy(),this._queryEngine?.destroy(),this._featureStore?.clear()}async setup(e){if(this.destroyed)return{result:{}};const{geometryType:t,objectIdField:i,timeInfo:r,fieldsIndex:n}=e.serviceInfo,{hasZ:o}=e,l=d.fromJSON(e.spatialReference);this._spatialReference=l,this._featureStore=new h({...e.serviceInfo,hasZ:o,hasM:!1}),this._featureStore.estimateFeatureUsedMemory=e=>e.usedMemory,this._queryEngine=new c({spatialReference:e.spatialReference,featureStore:this._featureStore,geometryType:t,fieldsIndex:n,hasZ:o,hasM:!1,featureIdInfo:{type:\"object-id\",fieldName:i},timeInfo:r}),this._featureFetcher=new v({store:new I({featureStore:this._featureStore}),url:e.serviceInfo.url,objectIdField:e.serviceInfo.objectIdField,globalIdField:e.serviceInfo.globalIdField,capabilities:e.serviceInfo.capabilities,spatialReference:l,sourceSpatialReference:d.fromJSON(e.serviceInfo.spatialReference),customParameters:e.configuration.customParameters});const u=\"3d\"===e.configuration.viewType;return this._elevationAligner=_(u,{elevationInfo:null!=e.elevationInfo?y.fromJSON(e.elevationInfo):null,alignPointsInFeatures:this._alignPointsInFeatures}),this._elevationFilter=S(u),this.addHandles([s(()=>this._featureFetcher.availability,e=>this.emit(\"notify-availability\",{availability:e}),a),s(()=>this.updating,()=>this._notifyUpdating())]),this._whenSetup.resolve(),this._isInitializing=!1,this.configure(e.configuration)}async configure(e){return await this._updatingHandles.addPromise(this._whenSetup.promise),this._updateFeatureFetcherConfiguration(e),C}async setSuspended(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),r(t),this._featureFetcher.suspended=e,C}async updateOutFields(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),r(t),this._featureFetcher.outFields=new Set(e??[]),C}async fetchCandidates(e,t){await this._whenSetup.promise,r(t);const i=j(e,this._featureStore.hasZ),s=t?.signal,a=await this._queryEngine.executeQueryForSnapping(i,s);r(s);const n=await this._elevationAligner.alignCandidates(a.candidates,d.fromJSON(e.point.spatialReference)??d.WGS84,s);r(s);const o=await this._symbologyCandidatesFetcher.fetch(n,s);r(s);const l=0===o.length?n:n.concat(o);return{result:{candidates:this._elevationFilter.filter(i,l)}}}async updateTiles(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),r(t),this._featureFetcher.tileSize=e.tileSize,this._featureFetcher.tilesOfInterest=e.tiles.map(e=>m.fromJSON(e)),this._featureFetcher.tileInfo=null!=e.tileInfo?f.fromJSON(e.tileInfo):null,C}async refresh(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),r(t),this._featureFetcher.refresh(),C}async whenNotUpdating(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),r(t),await n(()=>!this.updating,t),r(t),C}async getDebugInfo(e,t){return r(t),{result:this._featureFetcher.debugInfo}}async handleEdits(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),r(t),await this._updatingHandles.addPromise(this._featureFetcher.handleEdits(e)),r(t),C}async setHistoricMoment(e,t){return this._featureFetcher.setHistoricMoment(e.moment),C}async notifyElevationSourceChange(e,t){return this._elevationAligner.notifyElevationSourceChange(),C}async notifySymbologyChange(e,t){return this._symbologyCandidatesFetcher.notifySymbologyChange(),C}async setSymbologySnappingSupported(e){return this._symbologyCandidatesFetcher=F(e,this._getSymbologyCandidates),C}_updateFeatureFetcherConfiguration(e){this._featureFetcher.filter=null!=e.filter?g.fromJSON(e.filter):null,this._featureFetcher.customParameters=e.customParameters}_notifyUpdating(){this.emit(\"notify-updating\",{updating:this.updating})}};e([o({readOnly:!0})],w.prototype,\"updating\",null),e([o()],w.prototype,\"_isInitializing\",void 0),w=e([l(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorker\")],w);const b=w;function j(e,t){const i=!!t||void 0;if(!e.filter)return{...e,query:{where:\"1=1\",returnZ:i}};const{distance:r,units:s,spatialRel:a,where:n,timeExtent:o,objectIds:l}=e.filter,u={geometry:e.filter.geometry?p(e.filter.geometry):void 0,distance:r,units:s,spatialRel:a,timeExtent:o,objectIds:l,returnZ:i,where:n??\"1=1\"};return{...e,query:u}}const C={result:{}};export{b as default};\n"],"names":["s","t","e","r","a","u","j","l","y","i","n","o","b","P","O","f","C","q","M","S","x","c","d","F","v","T","_","I","g","m","w","h","p"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}