import{_ as e,X as i,Y as p,Z as V,bH as vt,lF as ft,cy as P,a6 as y,a5 as m,mL as Pt,G as C,mM as Jt,f$ as _t,kE as bt,bL as $t,g0 as jt,jV as gt,mN as Et}from"./main-CSjwO60s.js";import{a as Xt,t as Yt}from"./Field-Dn1Bgq7n.js";var J;let E=J=class extends V{constructor(t){super(t),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new J({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};e([i({type:String,json:{write:!0}})],E.prototype,"expression",void 0),e([i({type:String,json:{write:!0}})],E.prototype,"name",void 0),e([i({type:["boolean","date","number","string"],json:{write:!0}})],E.prototype,"returnType",void 0),e([i({type:String,json:{write:!0}})],E.prototype,"title",void 0),E=J=e([p("esri.form.ExpressionInfo")],E);const Zt=E;let l=class extends V{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};e([i({type:String,json:{write:!0}})],l.prototype,"description",void 0),e([i({type:String,json:{write:!0}})],l.prototype,"label",void 0),e([i()],l.prototype,"type",void 0),e([i({type:String,json:{write:!0}})],l.prototype,"visibilityExpression",void 0),l=e([p("esri.form.elements.Element")],l);let W=class extends vt(V){constructor(t){super(t),this.type=null}};e([i()],W.prototype,"type",void 0),W=e([p("esri.form.elements.inputs.attachments.Input")],W);const g=W,D=["any","capture","upload"];let S=class extends g{constructor(t){super(t),this.type="audio",this.inputMethod="any",this.maxDuration=null}};e([i({type:["audio"],readOnly:!0,json:{write:!0}})],S.prototype,"type",void 0),e([i({type:D,json:{write:!0}})],S.prototype,"inputMethod",void 0),e([i({type:Number,json:{write:!0}})],S.prototype,"maxDuration",void 0),S=e([p("esri.form.elements.inputs.attachments.AudioInput")],S);const St=S;let F=class extends g{constructor(t){super(t),this.type="document",this.maxFileSize=null}};e([i({type:["document"],readOnly:!0,json:{write:!0}})],F.prototype,"type",void 0),e([i({type:Number,json:{write:!0}})],F.prototype,"maxFileSize",void 0),F=e([p("esri.form.elements.inputs.attachments.DocumentInput")],F);const Tt=F;let T=class extends g{constructor(t){super(t),this.type="image",this.inputMethod="any",this.maxImageSize=null}};e([i({type:["image"],readOnly:!0,json:{write:!0}})],T.prototype,"type",void 0),e([i({type:D,json:{write:!0}})],T.prototype,"inputMethod",void 0),e([i({type:Number,json:{write:!0}})],T.prototype,"maxImageSize",void 0),T=e([p("esri.form.elements.inputs.attachments.ImageInput")],T);const Mt=T;let L=class extends g{constructor(t){super(t),this.type="signature",this.inputMethod="any"}};e([i({type:["signature"],readOnly:!0,json:{write:!0}})],L.prototype,"type",void 0),e([i({type:D,json:{write:!0}})],L.prototype,"inputMethod",void 0),L=e([p("esri.form.elements.inputs.attachments.SignatureInput")],L);const It=L;let M=class extends g{constructor(t){super(t),this.type="video",this.inputMethod="any",this.maxDuration=null}};e([i({type:["video"],readOnly:!0,json:{write:!0}})],M.prototype,"type",void 0),e([i({type:D,json:{write:!0}})],M.prototype,"inputMethod",void 0),e([i({type:Number,json:{write:!0}})],M.prototype,"maxDuration",void 0),M=e([p("esri.form.elements.inputs.attachments.VideoInput")],M);const Nt=M;function Ot(t){return{nestableTypes:{base:g,key:"type",typeMap:{audio:St,document:Tt,image:Mt,signature:It,video:Nt}},allTypes:{base:g,key:"type",typeMap:{attachment:t,audio:St,document:Tt,image:Mt,signature:It,video:Nt}}}}function Qt(t,n,o){return t?t.map(r=>ft(n.nestableTypes,r)):null}function te(t,n,o){if(!t)return null;const r=n.nestableTypes.typeMap;return t.filter(s=>r[s.type]).map(s=>r[s.type].fromJSON(s))}function ee(t,n,o){if(!t)return null;const r=n.nestableTypes.typeMap;return t.filter(s=>r[s.type]).map(s=>s.toJSON())}let w=class extends g{constructor(t){super(t),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(t){return Qt(t,_)}readInputs(t,n){return te(n.inputTypes,_)}writeInputs(t,n){n.inputTypes=ee(t,_)}};e([i({type:["attachment"],readOnly:!0,json:{write:!0}})],w.prototype,"type",void 0),e([i({type:["any","exact","exactOrNone"],json:{write:!0}})],w.prototype,"attachmentAssociationType",void 0),e([i({json:{write:{isRequired:!0}}})],w.prototype,"inputTypes",void 0),e([P("inputTypes")],w.prototype,"castInputs",null),e([y("inputTypes")],w.prototype,"readInputs",null),e([m("inputTypes")],w.prototype,"writeInputs",null),w=e([p("esri.form.elements.inputs.attachments.AttachmentInput")],w);const _=Ot(w),ie=w;var $;const ne=Ot(ie);let d=$=class extends l{constructor(t){super(t),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){return new $({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:this.input?.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};e([i({type:Boolean,json:{write:!0}})],d.prototype,"allowUserRename",void 0),e([i({type:String,json:{write:{isRequired:!0}}})],d.prototype,"attachmentKeyword",void 0),e([i({type:Boolean,json:{write:!0}})],d.prototype,"displayFilename",void 0),e([i({type:String,json:{write:!0}})],d.prototype,"editableExpression",void 0),e([i({type:String,json:{write:!0}})],d.prototype,"filenameExpression",void 0),e([i({types:ne.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],d.prototype,"input",void 0),e([i({type:Number,json:{write:!0}})],d.prototype,"maxAttachmentCount",void 0),e([i({type:Number,json:{write:!0}})],d.prototype,"minAttachmentCount",void 0),e([i({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0),e([i({type:Boolean,json:{write:!0}})],d.prototype,"useOriginalFilename",void 0),d=$=e([p("esri.form.elements.AttachmentElement")],d);const Rt=d;let G=class extends V{constructor(t){super(t),this.type=null}};e([i()],G.prototype,"type",void 0),G=e([p("esri.form.elements.inputs.Input")],G);const b=G;let A=class extends b{constructor(t){super(t),this.maxLength=null,this.minLength=0}};e([i({type:Number,json:{write:!0}})],A.prototype,"maxLength",void 0),e([i({type:Number,json:{write:!0}})],A.prototype,"minLength",void 0),A=e([p("esri.form.elements.inputs.TextInput")],A);const X=A;var Y;let q=Y=class extends X{constructor(t){super(t),this.type="barcode-scanner"}clone(){return new Y({maxLength:this.maxLength,minLength:this.minLength})}};e([i({type:["barcode-scanner"],json:{read:!1,write:!0}})],q.prototype,"type",void 0),q=Y=e([p("esri.form.elements.inputs.BarcodeScannerInput")],q);const oe=q;var Z;let I=Z=class extends b{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new Z({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};e([i({type:String,json:{write:!0}})],I.prototype,"noValueOptionLabel",void 0),e([i({type:Boolean,json:{write:!0}})],I.prototype,"showNoValueOption",void 0),e([i({type:["combo-box"],json:{read:!1,write:!0}})],I.prototype,"type",void 0),I=Z=e([p("esri.form.elements.inputs.ComboBoxInput")],I);const se=I;var Q;function kt(t){return t??null}function Vt(t){return t??null}let v=Q=class extends b{constructor(t){super(t),this.max=null,this.min=null,this.type="date-picker"}readMax(t,n){return kt(n.max)}writeMax(t,n){n.max=Vt(t)}readMin(t,n){return kt(n.min)}writeMin(t,n){n.min=Vt(t)}clone(){return new Q({max:this.max,min:this.min})}};e([i({type:String,json:{type:String,write:!0}})],v.prototype,"max",void 0),e([y("max")],v.prototype,"readMax",null),e([m("max")],v.prototype,"writeMax",null),e([i({type:String,json:{type:String,write:!0}})],v.prototype,"min",void 0),e([y("min")],v.prototype,"readMin",null),e([m("min")],v.prototype,"writeMin",null),e([i({type:["date-picker"],json:{read:!1,write:!0}})],v.prototype,"type",void 0),v=Q=e([p("esri.form.elements.inputs.DatePickerInput")],v);const re=v;var tt;function et(t){return t??null}function it(t){return t??null}let a=tt=class extends b{constructor(t){super(t),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(t,n){return et(n.max)}writeMax(t,n){n.max=it(t)}readMin(t,n){return et(n.min)}writeMin(t,n){n.min=it(t)}readTimeResolution(t,n){return et(n.timeResolution)}writeTimeResolution(t,n){n.timeResolution=it(t)}clone(){return new tt({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};e([i({type:Boolean,json:{write:!0}})],a.prototype,"includeTimeOffset",void 0),e([i({type:String,json:{type:String,write:!0}})],a.prototype,"max",void 0),e([y("max")],a.prototype,"readMax",null),e([m("max")],a.prototype,"writeMax",null),e([i({type:String,json:{type:String,write:!0}})],a.prototype,"min",void 0),e([y("min")],a.prototype,"readMin",null),e([m("min")],a.prototype,"writeMin",null),e([i({type:String,json:{type:String,write:!0}})],a.prototype,"timeResolution",void 0),e([y("timeResolution")],a.prototype,"readTimeResolution",null),e([m("timeResolution")],a.prototype,"writeTimeResolution",null),e([i({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=tt=e([p("esri.form.elements.inputs.DateTimeOffsetPickerInput")],a);const pe=a;var nt;function Ft(t){return t!=null?new Date(t):null}function Lt(t){return t?t.getTime():null}let h=nt=class extends b{constructor(t){super(t),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(t,n){return Ft(n.max)}writeMax(t,n){n.max=Lt(t)}readMin(t,n){return Ft(n.min)}writeMin(t,n){n.min=Lt(t)}clone(){return new nt({includeTime:this.includeTime,max:this.max,min:this.min})}};e([i({type:Boolean,json:{write:!0}})],h.prototype,"includeTime",void 0),e([i({type:Date,json:{type:Number,write:!0}})],h.prototype,"max",void 0),e([y("max")],h.prototype,"readMax",null),e([m("max")],h.prototype,"writeMax",null),e([i({type:Date,json:{type:Number,write:!0}})],h.prototype,"min",void 0),e([y("min")],h.prototype,"readMin",null),e([m("min")],h.prototype,"writeMin",null),e([i({type:["datetime-picker"],json:{read:!1,write:!0}})],h.prototype,"type",void 0),h=nt=e([p("esri.form.elements.inputs.DateTimePickerInput")],h);const le=h;var ot;let N=ot=class extends b{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new ot({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};e([i({type:String,json:{write:!0}})],N.prototype,"noValueOptionLabel",void 0),e([i({type:Boolean,json:{write:!0}})],N.prototype,"showNoValueOption",void 0),e([i({type:["radio-buttons"],json:{read:!1,write:!0}})],N.prototype,"type",void 0),N=ot=e([p("esri.form.elements.inputs.RadioButtonsInput")],N);const ae=N;var st;let O=st=class extends b{constructor(t){super(t),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new st({offValue:this.offValue,onValue:this.onValue})}};e([i({type:[String,Number],json:{write:!0}})],O.prototype,"offValue",void 0),e([i({type:[String,Number],json:{write:!0}})],O.prototype,"onValue",void 0),e([i({type:["switch"],json:{read:!1,write:!0}})],O.prototype,"type",void 0),O=st=e([p("esri.form.elements.inputs.SwitchInput")],O);const ue=O;var rt;let U=rt=class extends X{constructor(t){super(t),this.type="text-area"}clone(){return new rt({maxLength:this.maxLength,minLength:this.minLength})}};e([i({type:["text-area"],json:{read:!1,write:!0}})],U.prototype,"type",void 0),U=rt=e([p("esri.form.elements.inputs.TextAreaInput")],U);const ye=U;var pt;let z=pt=class extends X{constructor(t){super(t),this.type="text-box"}clone(){return new pt({maxLength:this.maxLength,minLength:this.minLength})}};e([i({type:["text-box"],json:{read:!1,write:!0}})],z.prototype,"type",void 0),z=pt=e([p("esri.form.elements.inputs.TextBoxInput")],z);const me=z;var lt;function at(t){return t??null}function ut(t){return t??null}let c=lt=class extends b{constructor(t){super(t),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(t,n){return at(n.max)}writeMax(t,n){n.max=ut(t)}readMin(t,n){return at(n.min)}writeMin(t,n){n.min=ut(t)}readTimeResolution(t,n){return at(n.timeResolution)}writeTimeResolution(t,n){n.timeResolution=ut(t)}clone(){return new lt({max:this.max,min:this.min,timeResolution:this.timeResolution})}};e([i({type:String,json:{type:String,write:!0}})],c.prototype,"max",void 0),e([y("max")],c.prototype,"readMax",null),e([m("max")],c.prototype,"writeMax",null),e([i({type:String,json:{type:String,write:!0}})],c.prototype,"min",void 0),e([y("min")],c.prototype,"readMin",null),e([m("min")],c.prototype,"writeMin",null),e([i({type:String,json:{type:String,write:!0}})],c.prototype,"timeResolution",void 0),e([y("timeResolution")],c.prototype,"readTimeResolution",null),e([m("timeResolution")],c.prototype,"writeTimeResolution",null),e([i({type:["time-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0),c=lt=e([p("esri.form.elements.inputs.TimePickerInput")],c);const de=c,ce=oe,he=se,xe=re,we=pe,ve=le,fe=ae,be=ue,je=ye,ge=me,Ee=de,Se={base:b,key:"type",typeMap:{"barcode-scanner":ce,"combo-box":he,"date-picker":xe,"datetime-picker":ve,"datetimeoffset-picker":we,"radio-buttons":fe,switch:be,"text-area":je,"text-box":ge,"time-picker":Ee}};var yt;let u=yt=class extends l{constructor(t){super(t),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new yt({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};e([i({types:Yt,json:{read:{reader:Xt},write:!0}})],u.prototype,"domain",void 0),e([i({type:Boolean,json:{write:!0}})],u.prototype,"editable",void 0),e([i({type:String,json:{write:!0}})],u.prototype,"editableExpression",void 0),e([i({type:String,json:{write:!0}})],u.prototype,"fieldName",void 0),e([i({type:String,json:{write:!0}})],u.prototype,"hint",void 0),e([i({types:Se,json:{read:{source:"inputType"},write:{target:"inputType"}}})],u.prototype,"input",void 0),e([i({type:String,json:{write:!0}})],u.prototype,"requiredExpression",void 0),e([i({type:String,json:{read:!1,write:!0}})],u.prototype,"type",void 0),e([i({type:String,json:{write:!0}})],u.prototype,"valueExpression",void 0),u=yt=e([p("esri.form.elements.FieldElement")],u);var mt;let j=mt=class extends l{constructor(t){super(t),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new mt({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:C(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};e([i({type:Number,json:{write:!0}})],j.prototype,"displayCount",void 0),e([i({type:["list"],json:{write:!0}})],j.prototype,"displayType",void 0),e([i({type:String,json:{write:!0}})],j.prototype,"editableExpression",void 0),e([i({type:[Pt],json:{write:!0}})],j.prototype,"orderByFields",void 0),e([i({type:Number,json:{write:!0}})],j.prototype,"relationshipId",void 0),e([i({type:["relationship"],json:{read:!1,write:!0}})],j.prototype,"type",void 0),j=mt=e([p("esri.form.elements.RelationshipElement")],j);const At=j;var dt;let R=dt=class extends l{constructor(t){super(t),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new dt({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};e([i({type:String,json:{write:!0}})],R.prototype,"text",void 0),e([i({type:String,json:{write:!0}})],R.prototype,"textFormat",void 0),e([i({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],R.prototype,"type",void 0),R=dt=e([p("esri.form.elements.TextElement")],R);const Bt=R;let k=class extends vt(l){constructor(t){super(t),this.associationTypes=null,this.editableExpression=null,this.type="utilityNetworkAssociations"}};e([i({type:[Jt],json:{write:{isRequired:!0}}})],k.prototype,"associationTypes",void 0),e([i({type:String,json:{write:!0}})],k.prototype,"editableExpression",void 0),e([i({type:["utilityNetworkAssociations"],json:{read:!1,write:!0}})],k.prototype,"type",void 0),k=e([p("esri.form.elements.UtilityNetworkAssociationsElement")],k);const Ct=k,Te=t=>t.type==="field",Me=t=>t.type==="group",Ie=t=>t.type==="text";function Wt(t){return{typesWithGroup:{base:l,key:"type",typeMap:{attachment:Rt,field:u,group:t,relationship:At,text:Bt,utilityNetworkAssociations:Ct}},typesWithoutGroup:{base:l,key:"type",typeMap:{attachment:Rt,field:u,relationship:At,text:Bt,utilityNetworkAssociations:Ct}}}}function Dt(t,n,o=!0){if(!t)return null;const r=o?n.typesWithGroup.typeMap:n.typesWithoutGroup.typeMap;return t.filter(s=>r[s.type]).map(s=>r[s.type].fromJSON(s))}function Gt(t,n,o=!0){if(!t)return null;const r=o?n.typesWithGroup.typeMap:n.typesWithoutGroup.typeMap;return t.filter(s=>r[s.type]).map(s=>s.toJSON())}function qt(t,n,o=!0){return t?t.map(r=>ft(o?n.typesWithGroup:n.typesWithoutGroup,r)):null}var ct;let f=ct=class extends l{constructor(t){super(t),this.elements=null,this.initialState="expanded",this.type="group"}castElements(t){return qt(t,ht,!1)}readElements(t,n){return Dt(n.formElements,ht,!1)}writeElements(t,n){n.formElements=Gt(t,ht,!1)}clone(){return new ct({description:this.description,elements:C(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};e([i({json:{write:!0}})],f.prototype,"elements",void 0),e([P("elements")],f.prototype,"castElements",null),e([y("elements",["formElements"])],f.prototype,"readElements",null),e([m("elements")],f.prototype,"writeElements",null),e([i({type:["collapsed","expanded"],json:{write:!0}})],f.prototype,"initialState",void 0),e([i({type:String,json:{read:!1,write:!0}})],f.prototype,"type",void 0),f=ct=e([p("esri.form.elements.GroupElement")],f);const ht=Wt(f),Ne=f;var xt;const wt=Wt(Ne);let x=xt=class extends V{constructor(t){super(t),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(t){return qt(t,wt)}readElements(t,n){return Dt(n.formElements,wt)}writeElements(t,n){n.formElements=Gt(t,wt)}clone(){return new xt({description:this.description,expressionInfos:C(this.expressionInfos),elements:C(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(t,n){const o=new Set,{description:r,elements:s,expressionInfos:H,title:Ht}=this;if(B(o,t,r),B(o,t,Ht),!s)return[];const Kt=Oe(s,H).map(K=>_t(o,t,null,K));await Promise.all(Kt);for(const K of s)Ut(o,{fieldsIndex:t,relationships:n},K);return Array.from(o).sort()}};function Ut(t,n,o){const{fieldsIndex:r}=n;if(!r||r.fields.length!==t.size)switch(B(t,r,o.label),B(t,r,o.description),o.type){case"field":jt(t,r,o.fieldName);break;case"group":o.elements.forEach(s=>Ut(t,n,s));break;case"relationship":if(n.relationships){const s=n.relationships.find(H=>H.id===o.relationshipId);s&&jt(t,r,s.keyField)}bt(t,r,o.orderByFields?.map(s=>s.field));break;case"text":B(t,r,o.text)}}function Oe(t,n){if(!n||n.length===0)return[];const o=zt(t),r=[];for(const s of n)o.has(s.name)&&r.push(s.expression);return r}function zt(t){const n=new Set;for(const o of t)if(gt(n,o.visibilityExpression),!Ie(o)){if(Me(o))Et(n,zt(o.elements));else if(gt(n,o.editableExpression),Te(o)){const{requiredExpression:r,valueExpression:s}=o;Et(n,[r,s])}}return n}function B(t,n,o){bt(t,n,$t(o))}e([i({type:String,json:{write:!0}})],x.prototype,"description",void 0),e([i({json:{write:!0}})],x.prototype,"elements",void 0),e([P("elements")],x.prototype,"castElements",null),e([y("elements",["formElements"])],x.prototype,"readElements",null),e([m("elements")],x.prototype,"writeElements",null),e([i({type:[Zt],json:{write:!0}})],x.prototype,"expressionInfos",void 0),e([i({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"preserveFieldValuesWhenHidden",void 0),e([i({type:String,json:{write:!0}})],x.prototype,"title",void 0),x=xt=e([p("esri.form.FormTemplate")],x);export{x as F,u as l};
