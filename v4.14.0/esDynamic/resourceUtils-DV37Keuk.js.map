{"version":3,"file":"resourceUtils-DV37Keuk.js","sources":["../../node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";class e{constructor(e){this.data=e,this.type=\"encoded-mesh-texture\",this.encoding=\"image/ktx2\"}}function t(e){return\"encoded-mesh-texture\"===e?.type}async function n(e){const t=new Blob([e]),n=await t.text();return JSON.parse(n)}async function r(t,n){if(\"image/ktx2\"===n)return new e(t);const r=new Blob([t],{type:n});let o=URL.createObjectURL(r);switch(n){case\"image/jpeg\":o+=\"#.jpg\";break;case\"image/png\":o+=\"#.png\"}const c=new Image;if(has(\"esri-iPhone\"))return new Promise((e,t)=>{const n=()=>{s(),e(c)},r=e=>{s(),t(e)},s=()=>{URL.revokeObjectURL(o),c.removeEventListener(\"load\",n),c.removeEventListener(\"error\",r)};c.addEventListener(\"load\",n),c.addEventListener(\"error\",r),c.src=o});try{c.src=o,await c.decode()}catch(s){console.warn(\"Failed decoding HTMLImageElement\")}return URL.revokeObjectURL(o),c}export{e as EncodedMeshTexture,r as imageFromBinaryData,t as isEncodedMeshTexture,n as jsonFromBinaryData};\n"],"names":["e","t","n","r","o","c","has","s"],"mappings":";AAIyC,MAAMA,EAAC;AAAA,EAAC,YAAYA,GAAE;AAAC,SAAK,OAAKA,GAAE,KAAK,OAAK,wBAAuB,KAAK,WAAS;AAAA,EAAY;AAAC;AAAC,SAASC,EAAED,GAAE;AAAC,SAA+BA,GAAG,SAA5B;AAAgC;AAAC,eAAeE,EAAEF,GAAE;AAAC,QAAMC,IAAE,IAAI,KAAK,CAACD,CAAC,CAAC,GAAEE,IAAE,MAAMD,EAAE,KAAI;AAAG,SAAO,KAAK,MAAMC,CAAC;AAAC;AAAC,eAAeC,EAAE,GAAE,GAAE;AAAC,MAAkB,MAAf,aAAiB,QAAO,IAAIH,EAAE,CAAC;AAAE,QAAMG,IAAE,IAAI,KAAK,CAAC,CAAC,GAAE,EAAC,MAAK,EAAC,CAAC;AAAE,MAAIC,IAAE,IAAI,gBAAgBD,CAAC;AAAE,UAAO,GAAC;AAAA,IAAE,KAAI;AAAa,MAAAC,KAAG;AAAQ;AAAA,IAAM,KAAI;AAAY,MAAAA,KAAG;AAAA,EAAO;AAAC,QAAMC,IAAE,IAAI;AAAM,MAAGC,EAAI,aAAa,EAAE,QAAO,IAAI,QAAQ,CAACN,GAAEC,MAAI;AAAC,UAAMC,IAAE,MAAI;AAAC,MAAAK,EAAC,GAAGP,EAAEK,CAAC;AAAA,IAAC,GAAEF,IAAE,CAAAH,MAAG;AAAC,MAAAO,EAAC,GAAGN,EAAED,CAAC;AAAA,IAAC,GAAEO,IAAE,MAAI;AAAC,UAAI,gBAAgBH,CAAC,GAAEC,EAAE,oBAAoB,QAAOH,CAAC,GAAEG,EAAE,oBAAoB,SAAQF,CAAC;AAAA,IAAC;AAAE,IAAAE,EAAE,iBAAiB,QAAOH,CAAC,GAAEG,EAAE,iBAAiB,SAAQF,CAAC,GAAEE,EAAE,MAAID;AAAA,EAAC,CAAC;AAAE,MAAG;AAAC,IAAAC,EAAE,MAAID,GAAE,MAAMC,EAAE,OAAM;AAAA,EAAE,QAAS;AAAC,YAAQ,KAAK,kCAAkC;AAAA,EAAC;AAAC,SAAO,IAAI,gBAAgBD,CAAC,GAAEC;AAAC;","x_google_ignoreList":[0]}