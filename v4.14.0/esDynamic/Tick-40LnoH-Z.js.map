{"version":3,"file":"Tick-40LnoH-Z.js","sources":["../../node_modules/@amcharts/amcharts5/.internal/core/util/Data.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/Component.js","../../node_modules/@amcharts/amcharts5/.internal/core/util/Time.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/Series.js","../../node_modules/@amcharts/amcharts5/.internal/core/util/Draw.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/Line.js","../../node_modules/d3-shape/src/constant.js","../../node_modules/d3-path/src/path.js","../../node_modules/d3-shape/src/path.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/Chart.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/SerialChart.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/Tick.js"],"sourcesContent":["import { List } from \"./List\";\r\n/**\r\n * A [[List]] that holds components data.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n */\r\nexport class ListData extends List {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * An optional processor for data.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/data/#Pre_processing_data} for more info\r\n         */\r\n        Object.defineProperty(this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    incrementRef() { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    decrementRef() { }\r\n    _onPush(newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onPush(newValue);\r\n    }\r\n    _onInsertIndex(index, newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onInsertIndex(index, newValue);\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onSetIndex(index, oldValue, newValue);\r\n    }\r\n}\r\n/**\r\n * @deprecated\r\n * @todo remove\r\n */\r\nexport class JsonData {\r\n    constructor(value) {\r\n        Object.defineProperty(this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = value;\r\n    }\r\n    incrementRef() { }\r\n    decrementRef() { }\r\n}\r\n//# sourceMappingURL=Data.js.map","import { __awaiter } from \"tslib\";\r\nimport { Settings } from \"../util/Entity\";\r\nimport { Container } from \"./Container\";\r\nimport { ListData } from \"../util/Data\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $object from \"../util/Object\";\r\n/**\r\n * A base element that holds data bit (data item) for any [[Component]].\r\n */\r\nexport class DataItem extends Settings {\r\n    constructor(component, dataContext, settings) {\r\n        super(settings);\r\n        /**\r\n         * A data item's owener [[Component]].\r\n         */\r\n        Object.defineProperty(this, \"component\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A reference to actual item in source data this item is based on.\r\n         */\r\n        Object.defineProperty(this, \"dataContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * @todo requires description\r\n         */\r\n        Object.defineProperty(this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"open\" values.\r\n         */\r\n        Object.defineProperty(this, \"open\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"close\" values.\r\n         */\r\n        Object.defineProperty(this, \"close\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.dataContext = dataContext;\r\n        this.component = component;\r\n        this._settings.visible = true;\r\n        this._checkDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        this.component.markDirtyValues(this);\r\n    }\r\n    _startAnimation() {\r\n        this.component._root._addAnimation(this);\r\n    }\r\n    _animationTime() {\r\n        return this.component._root.animationTime;\r\n    }\r\n    _dispose() {\r\n        if (this.component) {\r\n            this.component.disposeDataItem(this);\r\n        }\r\n        super._dispose();\r\n    }\r\n    /**\r\n     * Shows a data item that's currently hidden.\r\n     */\r\n    show(duration) {\r\n        this.setRaw(\"visible\", true);\r\n        if (this.component) {\r\n            this.component.showDataItem(this, duration);\r\n        }\r\n    }\r\n    /**\r\n     * Hides a data item that's currently visible.\r\n     */\r\n    hide(duration) {\r\n        this.setRaw(\"visible\", false);\r\n        if (this.component) {\r\n            this.component.hideDataItem(this, duration);\r\n        }\r\n    }\r\n    isHidden() {\r\n        return !this.get(\"visible\");\r\n    }\r\n}\r\n/**\r\n * A base class for elements that make use of data.\r\n */\r\nexport class Component extends Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_data\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListData()\r\n        });\r\n        Object.defineProperty(this, \"_dataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_mainDataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._dataItems\r\n        });\r\n        Object.defineProperty(this, \"valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\"id\"]\r\n        });\r\n        Object.defineProperty(this, \"_valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valueFieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valuesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataChanged\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Indicates if the component has already been initialized.\r\n         */\r\n        Object.defineProperty(this, \"inited\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    /**\r\n     * Component's data.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n     */\r\n    set data(data) {\r\n        data.incrementRef();\r\n        this._data.decrementRef();\r\n        this._data = data;\r\n    }\r\n    /**\r\n     * @return  Data\r\n     */\r\n    get data() {\r\n        return this._data;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this._data.decrementRef();\r\n    }\r\n    _onDataClear() {\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._data.incrementRef();\r\n        this._updateFields();\r\n        this._disposers.push(this.data.events.onAll((change) => {\r\n            const dataItems = this._mainDataItems;\r\n            this.markDirtyValues();\r\n            this._markDirtyGroup();\r\n            this._dataChanged = true;\r\n            if (change.type === \"clear\") {\r\n                $array.each(dataItems, (dataItem) => {\r\n                    dataItem.dispose();\r\n                });\r\n                dataItems.length = 0;\r\n                this._onDataClear();\r\n            }\r\n            else if (change.type === \"push\") {\r\n                const dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\r\n                dataItems.push(dataItem);\r\n                this.processDataItem(dataItem);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                const dataItem = dataItems[change.index];\r\n                const properties = this._makeDataItem(change.newValue);\r\n                if (dataItem.bullets && dataItem.bullets.length == 0) {\r\n                    dataItem.bullets = undefined;\r\n                }\r\n                $object.keys(properties).forEach((key) => {\r\n                    dataItem.animate({\r\n                        key: key,\r\n                        to: properties[key],\r\n                        duration: this.get(\"interpolationDuration\", 0),\r\n                        easing: this.get(\"interpolationEasing\"),\r\n                    });\r\n                });\r\n                dataItem.dataContext = change.newValue;\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                const dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\r\n                dataItems.splice(change.index, 0, dataItem);\r\n                this.processDataItem(dataItem);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                const dataItem = dataItems[change.index];\r\n                dataItem.dispose();\r\n                dataItems.splice(change.index, 1);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                const dataItem = dataItems[change.oldIndex];\r\n                dataItems.splice(change.oldIndex, 1);\r\n                dataItems.splice(change.newIndex, 0, dataItem);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IStreamEvent type\");\r\n            }\r\n            this._afterDataChange();\r\n        }));\r\n    }\r\n    _updateFields() {\r\n        if (this.valueFields) {\r\n            this._valueFields = [];\r\n            this._valueFieldsF = {};\r\n            $array.each(this.valueFields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._valueFields.push(key);\r\n                    this._valueFieldsF[key] = { fieldKey: key + \"Field\", workingKey: key + \"Working\" };\r\n                }\r\n            });\r\n        }\r\n        if (this.fields) {\r\n            this._fields = [];\r\n            this._fieldsF = {};\r\n            $array.each(this.fields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._fields.push(key);\r\n                    this._fieldsF[key] = key + \"Field\";\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * A list of component's data items.\r\n     *\r\n     * @return  Data items\r\n     */\r\n    get dataItems() {\r\n        return this._dataItems;\r\n    }\r\n    processDataItem(_dataItem) { }\r\n    _makeDataItem(data) {\r\n        //const output: this[\"_dataItemSettings\"] = {};\r\n        const output = {}; // temporary to solve error\r\n        if (this._valueFields) {\r\n            $array.each(this._valueFields, (key) => {\r\n                const field = this.get((this._valueFieldsF[key].fieldKey));\r\n                output[key] = data[field];\r\n                output[this._valueFieldsF[key].workingKey] = output[key];\r\n            });\r\n        }\r\n        if (this._fields) {\r\n            $array.each(this._fields, (key) => {\r\n                const field = this.get((this._fieldsF[key]));\r\n                output[key] = data[field];\r\n            });\r\n        }\r\n        return output;\r\n    }\r\n    /**\r\n     * Creates a new data item and processes it.\r\n     *\r\n     * @param   data         Data item settings\r\n     * @param   dataContext  Data context\r\n     * @return               New data item\r\n     */\r\n    makeDataItem(data, dataContext) {\r\n        let dataItem = new DataItem(this, dataContext, data);\r\n        this.processDataItem(dataItem);\r\n        return dataItem;\r\n    }\r\n    /**\r\n     * Adds new explicit data item to series.\r\n     *\r\n     * @param   data         Data item settings\r\n     * @param   dataContext  Data context\r\n     * @return               New data item\r\n     */\r\n    pushDataItem(data, dataContext) {\r\n        const dataItem = this.makeDataItem(data, dataContext);\r\n        this._mainDataItems.push(dataItem);\r\n        return dataItem;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(_dataItem) {\r\n    }\r\n    /**\r\n     * Shows component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    showDataItem(dataItem, _duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            dataItem.set(\"visible\", true);\r\n        });\r\n    }\r\n    /**\r\n     * Hides component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    hideDataItem(dataItem, _duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            dataItem.set(\"visible\", false);\r\n        });\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._valuesDirty = false;\r\n    }\r\n    _afterDataChange() {\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._dataChanged) {\r\n            const type = \"datavalidated\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n            this._dataChanged = false;\r\n        }\r\n        if (this._valuesDirty) {\r\n            const type = \"valueschanged\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n        }\r\n        this.inited = true;\r\n    }\r\n    /**\r\n     * Forces a repaint of the element which relies on data.\r\n     *\r\n     * @since 5.0.21\r\n     */\r\n    markDirtyValues(_dataItem) {\r\n        this.markDirty();\r\n        this._valuesDirty = true;\r\n    }\r\n    _markDirtyGroup() {\r\n        this._dataGrouped = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySize() {\r\n        this._sizeDirty = true;\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * Looks up and returns a data item by its ID.\r\n     *\r\n     * @param   id  ID\r\n     * @return      Data item\r\n     */\r\n    getDataItemById(id) {\r\n        return $array.find(this.dataItems, (dataItem) => {\r\n            return dataItem.get(\"id\") == id;\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(Component, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Component\"\r\n});\r\nObject.defineProperty(Component, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Component.className])\r\n});\r\n//# sourceMappingURL=Component.js.map","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\n/**\r\n * Returns a `Promise` which can be used to execute code after number of\r\n * milliseconds.\r\n *\r\n * @param   ms  Sleep duration in ms\r\n * @return      Promise\r\n */\r\nexport function sleep(ms) {\r\n    return new Promise((resolve, _reject) => {\r\n        setTimeout(resolve, ms);\r\n    });\r\n}\r\n/**\r\n * Maps time period names to their numeric representations in milliseconds.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport let timeUnitDurations = {\r\n    millisecond: 1,\r\n    second: 1000,\r\n    minute: 60000,\r\n    hour: 3600000,\r\n    day: 86400000,\r\n    week: 604800000,\r\n    month: 365.242 / 12 * 86400000,\r\n    year: 31536000000\r\n};\r\n/**\r\n * Returns the next time unit that goes after source `unit`.\r\n *\r\n * E.g. \"hour\" is the next unit after \"minute\", etc.\r\n *\r\n * @ignore Exclude from docs\r\n * @param unit  Source time unit\r\n * @return Next time unit\r\n */\r\nexport function getNextUnit(unit) {\r\n    switch (unit) {\r\n        case \"year\":\r\n            return;\r\n        case \"month\":\r\n            return \"year\";\r\n        case \"week\":\r\n            return \"month\";\r\n        case \"day\":\r\n            return \"month\"; // not a mistake\r\n        case \"hour\":\r\n            return \"day\";\r\n        case \"minute\":\r\n            return \"hour\";\r\n        case \"second\":\r\n            return \"minute\";\r\n        case \"millisecond\":\r\n            return \"second\";\r\n    }\r\n}\r\n/**\r\n * Returns number of milliseconds in the `count` of time `unit`.\r\n *\r\n * Available units: \"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"week\",\r\n * \"month\", and \"year\".\r\n *\r\n * @param unit   Time unit\r\n * @param count  Number of units\r\n * @return Milliseconds\r\n */\r\nexport function getDuration(unit, count) {\r\n    if (count == null) {\r\n        count = 1;\r\n    }\r\n    return timeUnitDurations[unit] * count;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getIntervalDuration(interval) {\r\n    if (interval) {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    return 0;\r\n}\r\nexport function getDateIntervalDuration(interval, date, firstDateOfWeek, utc, timezone) {\r\n    const unit = interval.timeUnit;\r\n    const count = interval.count;\r\n    if (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    else {\r\n        const firstTime = round(new Date(date.getTime()), unit, count, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        let lastTime = firstTime + count * getDuration(unit) * 1.05;\r\n        lastTime = round(new Date(lastTime), unit, 1, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        return lastTime - firstTime;\r\n    }\r\n}\r\n/**\r\n * Returns current `Date` object.\r\n *\r\n * @return Current date\r\n */\r\nexport function now() {\r\n    return new Date();\r\n}\r\n/**\r\n * Returns current timestamp.\r\n *\r\n * @return Current timestamp\r\n */\r\nexport function getTime() {\r\n    return now().getTime();\r\n}\r\n/**\r\n * Returns a copy of the `Date` object.\r\n *\r\n * @param date  Source date\r\n * @return Copy\r\n */\r\nexport function copy(date) {\r\n    return new Date(date.getTime()); // todo: check if this is ok. new Date(date) used to strip milliseconds on FF in v3\r\n}\r\n/**\r\n * Checks if the `unit` part of two `Date` objects do not match. Two dates\r\n * represent a \"range\" of time, rather the same time date.\r\n *\r\n * @param timeOne  timestamp\r\n * @param timeTwo  timestamp\r\n * @param unit     Time unit to check\r\n * @return Range?\r\n */\r\nexport function checkChange(timeOne, timeTwo, unit, utc, timezone) {\r\n    // quick\r\n    if ((timeTwo - timeOne) > getDuration(unit, 1.2)) {\r\n        return true;\r\n    }\r\n    let dateOne = new Date(timeOne);\r\n    let dateTwo = new Date(timeTwo);\r\n    if (timezone) {\r\n        dateOne = timezone.convertLocal(dateOne);\r\n        dateTwo = timezone.convertLocal(dateTwo);\r\n    }\r\n    let timeZoneOffset1 = 0;\r\n    let timeZoneOffset2 = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset1 = dateOne.getTimezoneOffset();\r\n        dateOne.setUTCMinutes(dateOne.getUTCMinutes() - timeZoneOffset1);\r\n        timeZoneOffset2 = dateTwo.getTimezoneOffset();\r\n        dateTwo.setUTCMinutes(dateTwo.getUTCMinutes() - timeZoneOffset2);\r\n    }\r\n    let changed = false;\r\n    switch (unit) {\r\n        case \"year\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"month\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"day\":\r\n            if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCDate() != dateTwo.getUTCDate()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"hour\":\r\n            if (dateOne.getUTCHours() != dateTwo.getUTCHours()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"minute\":\r\n            if (dateOne.getUTCMinutes() != dateTwo.getUTCMinutes()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"second\":\r\n            if (dateOne.getUTCSeconds() != dateTwo.getUTCSeconds()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"millisecond\":\r\n            if (dateOne.getTime() != dateTwo.getTime()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n    }\r\n    if (changed) {\r\n        return changed;\r\n    }\r\n    let nextUnit = getNextUnit(unit);\r\n    if (nextUnit) {\r\n        return checkChange(timeOne, timeTwo, nextUnit, utc, timezone);\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds `count` of time `unit` to the source date. Returns a modified `Date` object.\r\n *\r\n * @param date   Source date\r\n * @param unit   Time unit\r\n * @param count  Number of units to add\r\n * @return Modified date\r\n */\r\nexport function add(date, unit, count, utc, timezone) {\r\n    let timeZoneOffset = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset = date.getTimezoneOffset();\r\n        if (timezone) {\r\n            timeZoneOffset -= timezone.offsetUTC(date);\r\n        }\r\n        date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n    }\r\n    switch (unit) {\r\n        case \"day\":\r\n            let day = date.getUTCDate();\r\n            date.setUTCDate(day + count);\r\n            break;\r\n        case \"second\":\r\n            let seconds = date.getUTCSeconds();\r\n            date.setUTCSeconds(seconds + count);\r\n            break;\r\n        case \"millisecond\":\r\n            let milliseconds = date.getUTCMilliseconds();\r\n            date.setUTCMilliseconds(milliseconds + count);\r\n            break;\r\n        case \"hour\":\r\n            let hours = date.getUTCHours();\r\n            date.setUTCHours(hours + count);\r\n            break;\r\n        case \"minute\":\r\n            let minutes = date.getUTCMinutes();\r\n            date.setUTCMinutes(minutes + count);\r\n            break;\r\n        case \"year\":\r\n            let year = date.getUTCFullYear();\r\n            date.setUTCFullYear(year + count);\r\n            break;\r\n        case \"month\":\r\n            const endDays = date.getUTCDate();\r\n            const startDays = new Date(date.getUTCFullYear(), date.getUTCMonth(), 0).getUTCDate();\r\n            let month = date.getUTCMonth();\r\n            if (endDays > startDays) {\r\n                date.setUTCMonth(month + count, startDays);\r\n            }\r\n            else {\r\n                date.setUTCMonth(month + count);\r\n            }\r\n            break;\r\n        case \"week\":\r\n            let wday = date.getUTCDate();\r\n            date.setUTCDate(wday + count * 7);\r\n            break;\r\n    }\r\n    if (!utc && unit != \"millisecond\") {\r\n        date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n        if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n            let newTimeZoneOffset = date.getTimezoneOffset();\r\n            if (timezone) {\r\n                newTimeZoneOffset += timezone.offsetUTC(date);\r\n            }\r\n            if (newTimeZoneOffset != timeZoneOffset) {\r\n                let diff = newTimeZoneOffset - timeZoneOffset;\r\n                date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                // solves issues if new time falls back to old time zone\r\n                if (date.getTimezoneOffset() != newTimeZoneOffset) {\r\n                    date.setUTCMinutes(date.getUTCMinutes() - diff);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return date;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function roun(time, unit, count, root, firstTime) {\r\n    let firstDate;\r\n    if (firstTime != null) {\r\n        firstDate = new Date(firstTime);\r\n    }\r\n    return round(new Date(time), unit, count, root.locale.firstDayOfWeek, root.utc, firstDate, root.timezone).getTime();\r\n}\r\n/**\r\n * \"Rounds\" the date to specific time unit.\r\n *\r\n * @param date             Source date\r\n * @param unit             Time unit\r\n * @param count            Number of units to round to\r\n * @param firstDateOfWeek  First day of week\r\n * @param utc              Use UTC timezone\r\n * @param firstDate        First date to round to\r\n * @param roundMinutes     Minutes to round to (some timezones use non-whole hour)\r\n * @param timezone         Use specific named timezone when rounding\r\n * @return New date\r\n */\r\nexport function round(date, unit, count, firstDateOfWeek, utc, firstDate, timezone) {\r\n    if (!timezone || utc) {\r\n        let timeZoneOffset = 0;\r\n        if (!utc && unit != \"millisecond\") {\r\n            timeZoneOffset = date.getTimezoneOffset();\r\n            date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n        }\r\n        switch (unit) {\r\n            case \"day\":\r\n                let day = date.getUTCDate();\r\n                if (count > 1) {\r\n                    //\tday = Math.floor(day / count) * count;\r\n                    if (firstDate) {\r\n                        firstDate = round(firstDate, \"day\", 1);\r\n                        let difference = date.getTime() - firstDate.getTime();\r\n                        let unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                        let duration = getDuration(\"day\", unitCount * count);\r\n                        date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                    }\r\n                }\r\n                else {\r\n                    date.setUTCDate(day);\r\n                }\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"second\":\r\n                let seconds = date.getUTCSeconds();\r\n                if (count > 1) {\r\n                    seconds = Math.floor(seconds / count) * count;\r\n                }\r\n                date.setUTCSeconds(seconds, 0);\r\n                break;\r\n            case \"millisecond\":\r\n                if (count == 1) {\r\n                    return date; // much better for perf!\r\n                }\r\n                let milliseconds = date.getUTCMilliseconds();\r\n                milliseconds = Math.floor(milliseconds / count) * count;\r\n                date.setUTCMilliseconds(milliseconds);\r\n                break;\r\n            case \"hour\":\r\n                let hours = date.getUTCHours();\r\n                if (count > 1) {\r\n                    hours = Math.floor(hours / count) * count;\r\n                }\r\n                date.setUTCHours(hours, 0, 0, 0);\r\n                break;\r\n            case \"minute\":\r\n                let minutes = date.getUTCMinutes();\r\n                if (count > 1) {\r\n                    minutes = Math.floor(minutes / count) * count;\r\n                }\r\n                date.setUTCMinutes(minutes, 0, 0);\r\n                break;\r\n            case \"month\":\r\n                let month = date.getUTCMonth();\r\n                if (count > 1) {\r\n                    // only do this if count is 2, 3, 4, and 6\r\n                    if (count == 2 || count == 3 || count == 4 || count == 6) {\r\n                        month = Math.floor(month / count) * count;\r\n                    }\r\n                }\r\n                date.setUTCMonth(month, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"year\":\r\n                let year = date.getUTCFullYear();\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                date.setUTCFullYear(year, 0, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"week\":\r\n                if (count > 1) {\r\n                    if (firstDate) {\r\n                        firstDate = round(firstDate, \"week\", 1);\r\n                        let difference = date.getTime() - firstDate.getTime();\r\n                        let unitCount = Math.floor(difference / getDuration(\"week\") / count);\r\n                        let duration = getDuration(\"week\", unitCount * count);\r\n                        date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                    }\r\n                }\r\n                let wday = date.getUTCDate();\r\n                let weekDay = date.getUTCDay();\r\n                if (!$type.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekDay >= firstDateOfWeek) {\r\n                    wday = wday - weekDay + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    wday = wday - (7 + weekDay) + firstDateOfWeek;\r\n                }\r\n                date.setUTCDate(wday);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n        }\r\n        if (!utc && unit != \"millisecond\") {\r\n            date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n            if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n                let newTimeZoneOffset = date.getTimezoneOffset();\r\n                if (newTimeZoneOffset != timeZoneOffset) {\r\n                    let diff = newTimeZoneOffset - timeZoneOffset;\r\n                    date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                }\r\n            }\r\n        }\r\n        return date;\r\n    }\r\n    else {\r\n        if (isNaN(date.getTime())) {\r\n            return date;\r\n        }\r\n        let initialTime = date.getTime();\r\n        let tzoffset = timezone.offsetUTC(date);\r\n        let timeZoneOffset = date.getTimezoneOffset();\r\n        let parsedDate = timezone.parseDate(date);\r\n        let year = parsedDate.year;\r\n        let month = parsedDate.month;\r\n        let day = parsedDate.day;\r\n        let hour = parsedDate.hour;\r\n        let minute = parsedDate.minute;\r\n        let second = parsedDate.second;\r\n        let millisecond = parsedDate.millisecond;\r\n        let weekday = parsedDate.weekday;\r\n        let offsetDif = tzoffset - timeZoneOffset;\r\n        switch (unit) {\r\n            case \"day\":\r\n                if (count > 1 && firstDate) {\r\n                    firstDate = round(firstDate, \"day\", 1, firstDateOfWeek, utc, undefined, timezone);\r\n                    let difference = date.getTime() - firstDate.getTime();\r\n                    let unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                    let duration = getDuration(\"day\", unitCount * count);\r\n                    date.setTime(firstDate.getTime() + duration);\r\n                    parsedDate = timezone.parseDate(date);\r\n                    year = parsedDate.year;\r\n                    month = parsedDate.month;\r\n                    day = parsedDate.day;\r\n                }\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"second\":\r\n                minute += offsetDif;\r\n                if (count > 1) {\r\n                    second = Math.floor(second / count) * count;\r\n                }\r\n                millisecond = 0;\r\n                break;\r\n            case \"millisecond\":\r\n                minute += offsetDif;\r\n                if (count > 1) {\r\n                    millisecond = Math.floor(millisecond / count) * count;\r\n                }\r\n                break;\r\n            case \"hour\":\r\n                if (count > 1) {\r\n                    hour = Math.floor(hour / count) * count;\r\n                }\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"minute\":\r\n                if (count > 1) {\r\n                    minute = Math.floor(minute / count) * count;\r\n                }\r\n                minute += offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"month\":\r\n                if (count > 1) {\r\n                    month = Math.floor(month / count) * count;\r\n                }\r\n                day = 1;\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"year\":\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                month = 0;\r\n                day = 1;\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"week\":\r\n                if (!$type.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekday >= firstDateOfWeek) {\r\n                    day = day - weekday + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    day = day - (7 + weekday) + firstDateOfWeek;\r\n                }\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n        }\r\n        date = new Date(year, month, day, hour, minute, second, millisecond);\r\n        // fix to solve #101989\r\n        const newTime = date.getTime();\r\n        let hDuration = 3600000;\r\n        if (unit == \"hour\") {\r\n            hDuration = 3600000 * count;\r\n        }\r\n        if (newTime + hDuration <= initialTime) {\r\n            if (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\r\n                date = new Date(newTime + hDuration);\r\n            }\r\n        }\r\n        // end of fix\r\n        let newTimeZoneOffset = date.getTimezoneOffset();\r\n        let newTzoffset = timezone.offsetUTC(date);\r\n        let newDiff = newTzoffset - newTimeZoneOffset;\r\n        if (newDiff != offsetDif) {\r\n            date.setTime(date.getTime() + (newDiff - offsetDif) * 60000);\r\n        }\r\n        return date;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function chooseInterval(index, duration, gridCount, intervals) {\r\n    let gridInterval = intervals[index];\r\n    let intervalDuration = getIntervalDuration(gridInterval);\r\n    let lastIndex = intervals.length - 1;\r\n    if (index >= lastIndex) {\r\n        return Object.assign({}, intervals[lastIndex]);\r\n    }\r\n    let count = Math.ceil(duration / intervalDuration);\r\n    if (duration < intervalDuration && index > 0) {\r\n        return Object.assign({}, intervals[index - 1]);\r\n    }\r\n    if (count <= gridCount) {\r\n        return Object.assign({}, intervals[index]);\r\n    }\r\n    else {\r\n        if (index + 1 < intervals.length) {\r\n            return chooseInterval(index + 1, duration, gridCount, intervals);\r\n        }\r\n        else {\r\n            return Object.assign({}, intervals[index]);\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getUnitValue(date, unit) {\r\n    switch (unit) {\r\n        case \"day\":\r\n            return date.getDate();\r\n        case \"second\":\r\n            return date.getSeconds();\r\n        case \"millisecond\":\r\n            return date.getMilliseconds();\r\n        case \"hour\":\r\n            return date.getHours();\r\n        case \"minute\":\r\n            return date.getMinutes();\r\n        case \"month\":\r\n            return date.getMonth();\r\n        case \"year\":\r\n            return date.getFullYear();\r\n        case \"week\":\r\n            return $utils.getWeek(date);\r\n    }\r\n}\r\n//# sourceMappingURL=Time.js.map","import { __awaiter } from \"tslib\";\r\nimport { Component } from \"../../core/render/Component\";\r\nimport { List } from \"../../core/util/List\";\r\nimport { Color } from \"../../core/util/Color\";\r\nimport { percentInterpolate } from \"../../core/util/Animation\";\r\nimport { Percent } from \"../../core/util/Percent\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Label } from \"../../core/render/Label\";\r\n//import { Animations } from \"../../core/util/Animation\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $time from \"../../core/util/Time\";\r\n/**\r\n * A base class for all series.\r\n */\r\nexport class Series extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_aggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_selectionAggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataProcessed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_psi\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_pei\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_baseSeriesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A chart series belongs to.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * List of bullets to use for the series.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\r\n         */\r\n        Object.defineProperty(this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        /**\r\n         * A [[Container]] series' bullets are stored in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { width: p100, height: p100, position: \"absolute\" })\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.valueFields.push(\"value\", \"customValue\");\r\n        super._afterNew();\r\n        this.setPrivate(\"customData\", {});\r\n        this._disposers.push(this.bullets.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        }));\r\n    }\r\n    _dispose() {\r\n        this.bulletsContainer.dispose(); // can be in a different parent\r\n        super._dispose();\r\n    }\r\n    startIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.min(this.getPrivate(\"startIndex\", 0), len);\r\n    }\r\n    endIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.max(0, Math.min(this.getPrivate(\"endIndex\", len), len));\r\n    }\r\n    _handleBullets(dataItems) {\r\n        $array.each(dataItems, (dataItem) => {\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, (bullet) => {\r\n                    bullet.dispose();\r\n                });\r\n                dataItem.bullets = undefined;\r\n            }\r\n        });\r\n        this.markDirtyValues();\r\n    }\r\n    _makeBullets(dataItem) {\r\n        if (this._shouldMakeBullet(dataItem)) {\r\n            dataItem.bullets = [];\r\n            this.bullets.each((bulletFunction) => {\r\n                this._makeBullet(dataItem, bulletFunction);\r\n            });\r\n        }\r\n    }\r\n    _shouldMakeBullet(_dataItem) {\r\n        return true;\r\n    }\r\n    _makeBullet(dataItem, bulletFunction, index) {\r\n        const bullet = bulletFunction(this._root, this, dataItem);\r\n        if (bullet) {\r\n            bullet._index = index;\r\n            this._makeBulletReal(dataItem, bullet);\r\n        }\r\n        return bullet;\r\n    }\r\n    _makeBulletReal(dataItem, bullet) {\r\n        let sprite = bullet.get(\"sprite\");\r\n        if (sprite) {\r\n            sprite._setDataItem(dataItem);\r\n            sprite.setRaw(\"position\", \"absolute\");\r\n            this.bulletsContainer.children.push(sprite);\r\n        }\r\n        bullet.series = this;\r\n        dataItem.bullets.push(bullet);\r\n    }\r\n    /**\r\n     * Adds bullet directly to a data item.\r\n     *\r\n     * Please note: method accepts [[Bullet]] instance as a paramter, not a\r\n     * reference to a function.\r\n     *\r\n     * You should add Bullet instance, not a method like you do it on series.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/#Adding_directly_to_data_item} for more info\r\n     * @since 5.6.0\r\n     *\r\n     * @param  dataItem  Target data item\r\n     * @param  bullet    Bullet instance\r\n     */\r\n    addBullet(dataItem, bullet) {\r\n        if (!dataItem.bullets) {\r\n            dataItem.bullets = [];\r\n        }\r\n        if (bullet) {\r\n            this._makeBulletReal(dataItem, bullet);\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._aggregatesCalculated = false;\r\n        this._baseSeriesDirty = false;\r\n        this._selectionAggregatesCalculated = false;\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        let startIndex = this.startIndex();\r\n        let endIndex = this.endIndex();\r\n        if (this.isDirty(\"name\")) {\r\n            this.updateLegendValue();\r\n        }\r\n        if (this.isDirty(\"heatRules\")) {\r\n            this._valuesDirty = true;\r\n        }\r\n        if (this.isPrivateDirty(\"baseValueSeries\")) {\r\n            const baseValueSeries = this.getPrivate(\"baseValueSeries\");\r\n            if (baseValueSeries) {\r\n                this._disposers.push(baseValueSeries.onPrivate(\"startIndex\", () => {\r\n                    this._baseSeriesDirty = true;\r\n                    this.markDirtyValues();\r\n                }));\r\n            }\r\n        }\r\n        const calculateAggregates = this.get(\"calculateAggregates\");\r\n        if (calculateAggregates) {\r\n            if (this._valuesDirty && !this._dataProcessed) {\r\n                if (!this._aggregatesCalculated) {\r\n                    this._calculateAggregates(0, this.dataItems.length);\r\n                    this._aggregatesCalculated = true;\r\n                    if (startIndex != 0) {\r\n                        this._psi = undefined;\r\n                    }\r\n                }\r\n            }\r\n            if ((this._psi != startIndex || this._pei != endIndex || this.isPrivateDirty(\"adjustedStartIndex\")) && !this._selectionAggregatesCalculated) {\r\n                if (startIndex === 0 && endIndex === this.dataItems.length && this._aggregatesCalculated) {\r\n                    // void\r\n                }\r\n                else {\r\n                    this._calculateAggregates(startIndex, endIndex);\r\n                }\r\n                this._selectionAggregatesCalculated = true;\r\n            }\r\n        }\r\n        if (this.isDirty(\"tooltip\")) {\r\n            let tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                tooltip.hide(0);\r\n                tooltip.set(\"tooltipTarget\", this);\r\n            }\r\n        }\r\n        if (this.isDirty(\"fill\") || this.isDirty(\"stroke\")) {\r\n            let markerRectangle;\r\n            const legendDataItem = this.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                if (markerRectangle) {\r\n                    if (this.isVisible()) {\r\n                        if (this.isDirty(\"stroke\")) {\r\n                            let stroke = this.get(\"stroke\");\r\n                            markerRectangle.set(\"stroke\", stroke);\r\n                        }\r\n                        if (this.isDirty(\"fill\")) {\r\n                            let fill = this.get(\"fill\");\r\n                            markerRectangle.set(\"fill\", fill);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.updateLegendMarker(undefined);\r\n        }\r\n        if (this.bullets.length > 0) {\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            if (endIndex < this.dataItems.length) {\r\n                endIndex++;\r\n            }\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                let dataItem = this.dataItems[i];\r\n                if (!dataItem.bullets) {\r\n                    this._makeBullets(dataItem);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleRemoved() {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _adjustStartIndex(index) {\r\n        return index;\r\n    }\r\n    _calculateAggregates(startIndex, endIndex) {\r\n        let fields = this._valueFields;\r\n        if (!fields) {\r\n            throw new Error(\"No value fields are set for the series.\");\r\n        }\r\n        const sum = {};\r\n        const absSum = {};\r\n        const count = {};\r\n        const low = {};\r\n        const high = {};\r\n        const open = {};\r\n        const close = {};\r\n        const average = {};\r\n        const previous = {};\r\n        $array.each(fields, (key) => {\r\n            sum[key] = 0;\r\n            absSum[key] = 0;\r\n            count[key] = 0;\r\n        });\r\n        const len = this.dataItems.length;\r\n        $array.each(fields, (key) => {\r\n            let change = key + \"Change\";\r\n            let changePercent = key + \"ChangePercent\";\r\n            let changePrevious = key + \"ChangePrevious\";\r\n            let changePreviousPercent = key + \"ChangePreviousPercent\";\r\n            let changeSelection = key + \"ChangeSelection\";\r\n            let changeSelectionPercent = key + \"ChangeSelectionPercent\";\r\n            let openKey = \"valueY\";\r\n            if (key == \"valueX\" || key == \"openValueX\" || key == \"lowValueX\" || key == \"highValueX\") {\r\n                openKey = \"valueX\";\r\n            }\r\n            const baseValueSeries = this.getPrivate(\"baseValueSeries\");\r\n            const adjustedStartIndex = this.getPrivate(\"adjustedStartIndex\", startIndex);\r\n            // Function to calculate changes for a single data item\r\n            const calculateChangesForItem = (dataItem, key) => {\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        dataItem.setRaw((changePrevious), value - previous[openKey]);\r\n                        dataItem.setRaw((changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\r\n                        dataItem.setRaw((changeSelection), value - open[openKey]);\r\n                        dataItem.setRaw((changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        previous[key] = value;\r\n                    }\r\n                }\r\n            };\r\n            for (let i = adjustedStartIndex; i < endIndex; i++) {\r\n                const dataItem = this.dataItems[i];\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        count[key]++;\r\n                        sum[key] += value;\r\n                        absSum[key] += Math.abs(value);\r\n                        average[key] = sum[key] / count[key];\r\n                        if (low[key] > value || low[key] == null) {\r\n                            low[key] = value;\r\n                        }\r\n                        if (high[key] < value || high[key] == null) {\r\n                            high[key] = value;\r\n                        }\r\n                        close[key] = value;\r\n                        if (open[key] == null) {\r\n                            open[key] = value;\r\n                            previous[key] = value;\r\n                            if (baseValueSeries) {\r\n                                open[openKey] = baseValueSeries._getBase(openKey);\r\n                            }\r\n                        }\r\n                        if (startIndex === 0) {\r\n                            dataItem.setRaw((change), value - open[openKey]);\r\n                            dataItem.setRaw((changePercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        }\r\n                        calculateChangesForItem(dataItem, key);\r\n                    }\r\n                }\r\n            }\r\n            // Calculate for endIndex item\r\n            if (endIndex < len) {\r\n                calculateChangesForItem(this.dataItems[endIndex], key);\r\n            }\r\n            // Calculate for endIndex+1 item if available\r\n            if (endIndex + 1 < len) {\r\n                calculateChangesForItem(this.dataItems[endIndex + 1], key);\r\n            }\r\n            if (startIndex > 0) {\r\n                startIndex--;\r\n            }\r\n            delete previous[key];\r\n            for (let i = startIndex; i < adjustedStartIndex; i++) {\r\n                const dataItem = this.dataItems[i];\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    if (previous[key] == null) {\r\n                        previous[key] = value;\r\n                    }\r\n                    if (value != null) {\r\n                        dataItem.setRaw((changePrevious), value - previous[openKey]);\r\n                        dataItem.setRaw((changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\r\n                        dataItem.setRaw((changeSelection), value - open[openKey]);\r\n                        dataItem.setRaw((changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        previous[key] = value;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        $array.each(fields, (key) => {\r\n            this.setPrivate((key + \"AverageSelection\"), average[key]);\r\n            this.setPrivate((key + \"CountSelection\"), count[key]);\r\n            this.setPrivate((key + \"SumSelection\"), sum[key]);\r\n            this.setPrivate((key + \"AbsoluteSumSelection\"), absSum[key]);\r\n            this.setPrivate((key + \"LowSelection\"), low[key]);\r\n            this.setPrivate((key + \"HighSelection\"), high[key]);\r\n            this.setPrivate((key + \"OpenSelection\"), open[key]);\r\n            this.setPrivate((key + \"CloseSelection\"), close[key]);\r\n        });\r\n        if (startIndex === 0 && endIndex === len) {\r\n            $array.each(fields, (key) => {\r\n                this.setPrivate((key + \"Average\"), average[key]);\r\n                this.setPrivate((key + \"Count\"), count[key]);\r\n                this.setPrivate((key + \"Sum\"), sum[key]);\r\n                this.setPrivate((key + \"AbsoluteSum\"), absSum[key]);\r\n                this.setPrivate((key + \"Low\"), low[key]);\r\n                this.setPrivate((key + \"High\"), high[key]);\r\n                this.setPrivate((key + \"Open\"), open[key]);\r\n                this.setPrivate((key + \"Close\"), close[key]);\r\n            });\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        this._psi = this.startIndex();\r\n        this._pei = this.endIndex();\r\n        if (this.isDirty(\"visible\")) {\r\n            this.bulletsContainer.set(\"visible\", this.get(\"visible\"));\r\n        }\r\n        // Apply heat rules\r\n        const rules = this.get(\"heatRules\");\r\n        if (this._valuesDirty && rules && rules.length > 0) {\r\n            $array.each(rules, (rule) => {\r\n                const minValue = rule.minValue || this.getPrivate((rule.dataField + \"Low\")) || 0;\r\n                const maxValue = rule.maxValue || this.getPrivate((rule.dataField + \"High\")) || 0;\r\n                $array.each(rule.target._entities, (target) => {\r\n                    const value = target.dataItem.get(rule.dataField);\r\n                    if (!$type.isNumber(value)) {\r\n                        if (rule.neutral) {\r\n                            target.set(rule.key, rule.neutral);\r\n                        }\r\n                        const states = target.states;\r\n                        if (states) {\r\n                            const defaultState = states.lookup(\"default\");\r\n                            if (defaultState && rule.neutral) {\r\n                                defaultState.set(rule.key, rule.neutral);\r\n                            }\r\n                        }\r\n                        if (!rule.customFunction) {\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (rule.customFunction) {\r\n                        rule.customFunction.call(this, target, minValue, maxValue, value);\r\n                    }\r\n                    else {\r\n                        let percent;\r\n                        if (rule.logarithmic) {\r\n                            percent = (Math.log(value) * Math.LOG10E - Math.log(minValue) * Math.LOG10E) / ((Math.log(maxValue) * Math.LOG10E - Math.log(minValue) * Math.LOG10E));\r\n                        }\r\n                        else {\r\n                            percent = (value - minValue) / (maxValue - minValue);\r\n                        }\r\n                        if ($type.isNumber(value) && (!$type.isNumber(percent) || Math.abs(percent) == Infinity)) {\r\n                            percent = 0.5;\r\n                        }\r\n                        // fixes problems if all values are the same\r\n                        let propertyValue;\r\n                        if ($type.isNumber(rule.min)) {\r\n                            propertyValue = rule.min + (rule.max - rule.min) * percent;\r\n                        }\r\n                        else if (rule.min instanceof Color) {\r\n                            propertyValue = Color.interpolate(percent, rule.min, rule.max);\r\n                        }\r\n                        else if (rule.min instanceof Percent) {\r\n                            propertyValue = percentInterpolate(percent, rule.min, rule.max);\r\n                        }\r\n                        target.set(rule.key, propertyValue);\r\n                        const states = target.states;\r\n                        if (states) {\r\n                            const defaultState = states.lookup(\"default\");\r\n                            if (defaultState) {\r\n                                defaultState.set(rule.key, propertyValue);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        if (this.get(\"visible\")) {\r\n            let count = this.dataItems.length;\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            if (endIndex < count) {\r\n                endIndex++;\r\n            }\r\n            if (startIndex > 0) {\r\n                startIndex--;\r\n            }\r\n            for (let i = 0; i < startIndex; i++) {\r\n                this._hideBullets(this.dataItems[i]);\r\n            }\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                this._positionBullets(this.dataItems[i]);\r\n            }\r\n            for (let i = endIndex; i < count; i++) {\r\n                this._hideBullets(this.dataItems[i]);\r\n            }\r\n        }\r\n    }\r\n    _positionBullets(dataItem) {\r\n        if (dataItem.bullets) {\r\n            $array.each(dataItem.bullets, (bullet) => {\r\n                this._positionBullet(bullet);\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (bullet.get(\"dynamic\")) {\r\n                    if (sprite) {\r\n                        sprite._markDirtyKey(\"fill\");\r\n                        sprite.markDirtySize();\r\n                    }\r\n                    if (sprite instanceof Container) {\r\n                        sprite.walkChildren((child) => {\r\n                            child._markDirtyKey(\"fill\");\r\n                            child.markDirtySize();\r\n                            if (child instanceof Label) {\r\n                                child.text.markDirtyText();\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                if (sprite instanceof Label && sprite.get(\"populateText\")) {\r\n                    sprite.text.markDirtyText();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _hideBullets(dataItem) {\r\n        if (dataItem.bullets) {\r\n            $array.each(dataItem.bullets, (bullet) => {\r\n                let sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.setPrivate(\"visible\", false);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _positionBullet(_bullet) {\r\n    }\r\n    _placeBulletsContainer(chart) {\r\n        chart.bulletsContainer.children.moveValue(this.bulletsContainer);\r\n    }\r\n    _removeBulletsContainer() {\r\n        const bulletsContainer = this.bulletsContainer;\r\n        if (bulletsContainer.parent) {\r\n            bulletsContainer.parent.children.removeValue(bulletsContainer);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        //super.disposeDataItem(dataItem); // does nothing\r\n        const bullets = dataItem.bullets;\r\n        if (bullets) {\r\n            $array.each(bullets, (bullet) => {\r\n                bullet.dispose();\r\n            });\r\n            dataItem.bullets = undefined;\r\n        }\r\n    }\r\n    _getItemReaderLabel() {\r\n        return \"\";\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, (bullet) => {\r\n                    const sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        promises.push(sprite.show(duration));\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, (bullet) => {\r\n                    const sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        promises.push(sprite.hide(duration));\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    _sequencedShowHide(show, duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.get(\"sequencedInterpolation\")) {\r\n                if (!$type.isNumber(duration)) {\r\n                    duration = this.get(\"interpolationDuration\", 0);\r\n                }\r\n                if (duration > 0) {\r\n                    const startIndex = this.startIndex();\r\n                    const endIndex = this.endIndex();\r\n                    yield Promise.all($array.map(this.dataItems, (dataItem, i) => __awaiter(this, void 0, void 0, function* () {\r\n                        let realDuration = duration || 0;\r\n                        if (i < startIndex - 10 || i > endIndex + 10) {\r\n                            realDuration = 0;\r\n                        }\r\n                        //let delay = this.get(\"sequencedDelay\", 0) * i + realDuration * (i - startIndex) / (endIndex - startIndex);\r\n                        let delay = this.get(\"sequencedDelay\", 0) + realDuration / (endIndex - startIndex);\r\n                        yield $time.sleep(delay * (i - startIndex));\r\n                        if (show) {\r\n                            yield this.showDataItem(dataItem, realDuration);\r\n                        }\r\n                        else {\r\n                            yield this.hideDataItem(dataItem, realDuration);\r\n                        }\r\n                    })));\r\n                }\r\n                else {\r\n                    yield Promise.all($array.map(this.dataItems, (dataItem) => {\r\n                        if (show) {\r\n                            return this.showDataItem(dataItem, 0);\r\n                        }\r\n                        else {\r\n                            return this.hideDataItem(dataItem, 0);\r\n                        }\r\n                    }));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendValue(dataItem) {\r\n        if (dataItem) {\r\n            const legendDataItem = dataItem.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                const valueLabel = legendDataItem.get(\"valueLabel\");\r\n                if (valueLabel) {\r\n                    const text = valueLabel.text;\r\n                    let txt = \"\";\r\n                    valueLabel._setDataItem(dataItem);\r\n                    txt = this.get(\"legendValueText\", text.get(\"text\", \"\"));\r\n                    valueLabel.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n                const label = legendDataItem.get(\"label\");\r\n                if (label) {\r\n                    const text = label.text;\r\n                    let txt = \"\";\r\n                    label._setDataItem(dataItem);\r\n                    txt = this.get(\"legendLabelText\", text.get(\"text\", \"\"));\r\n                    label.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendMarker(_dataItem) {\r\n    }\r\n    _onHide() {\r\n        super._onHide();\r\n        const tooltip = this.getTooltip();\r\n        if (tooltip) {\r\n            tooltip.hide();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    hoverDataItem(_dataItem) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    unhoverDataItem(_dataItem) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _getBase(key) {\r\n        const dataItem = this.dataItems[this.startIndex()];\r\n        if (dataItem) {\r\n            return dataItem.get(key);\r\n        }\r\n        return 0;\r\n    }\r\n}\r\nObject.defineProperty(Series, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Series\"\r\n});\r\nObject.defineProperty(Series, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Component.classNames.concat([Series.className])\r\n});\r\n//# sourceMappingURL=Series.js.map","/** @ignore */ /** */\r\nimport * as $math from \"./Math\";\r\n/**\r\n * @ignore\r\n */\r\nexport function segmentedLine(display, segments) {\r\n    for (let s = 0, len = segments.length; s < len; s++) {\r\n        const groups = segments[s];\r\n        if (groups.length > 0) {\r\n            let firstGroup = groups[0];\r\n            if (firstGroup.length > 0) {\r\n                let firstPoint = firstGroup[0];\r\n                display.moveTo(firstPoint.x, firstPoint.y);\r\n                for (let g = 0, len = groups.length; g < len; g++) {\r\n                    line(display, groups[g]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function line(display, points) {\r\n    for (let p = 0, len = points.length; p < len; p++) {\r\n        const point = points[p];\r\n        display.lineTo(point.x, point.y);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function moveTo(display, point) {\r\n    display.moveTo(point.x, point.y);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function clear(display) {\r\n    display.clear();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function smoothedSegmentedline(display, segments, tensionX, tensionY) {\r\n    for (let s = 0, len = segments.length; s < len; s++) {\r\n        const groups = segments[s];\r\n        if (groups.length > 0) {\r\n            let firstGroup = groups[0];\r\n            if (firstGroup.length > 0) {\r\n                let firstPoint = firstGroup[0];\r\n                display.moveTo(firstPoint.x, firstPoint.y);\r\n                for (let g = 0, len = groups.length; g < len; g++) {\r\n                    const points = groups[g];\r\n                    if (points.length > 0) {\r\n                        display.lineTo(points[0].x, points[0].y);\r\n                    }\r\n                    smoothedLine(display, points, tensionX, tensionY);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function smoothedLine(display, points, tensionX, tensionY) {\r\n    for (let i = points.length - 1; i > 0; i--) {\r\n        let p0 = points[i];\r\n        let p1 = points[i - 1];\r\n        if (Math.abs(p0.x - p1.x) < 0.1 && Math.abs(p0.y - p1.y) < 0.1) {\r\n            points.splice(i - 1, 1);\r\n        }\r\n    }\r\n    if (points.length < 3 || (tensionX >= 1 && tensionY >= 1)) {\r\n        line(display, points);\r\n        return;\r\n    }\r\n    tensionX = 1 - tensionX + 0.00001;\r\n    tensionY = 1 - tensionY + 0.00001;\r\n    let first = points[0];\r\n    let last = points[points.length - 1];\r\n    let closed = false;\r\n    if ($math.round(first.x, 3) == $math.round(last.x) && $math.round(first.y) == $math.round(last.y)) {\r\n        closed = true;\r\n    }\r\n    // Can't moveTo here, as it wont be possible to have fill then.\r\n    let path = \"\";\r\n    for (let i = 0, len = points.length - 1; i < len; i++) {\r\n        let p0 = points[i - 1];\r\n        let p1 = points[i];\r\n        let p2 = points[i + 1];\r\n        let p3 = points[i + 2];\r\n        if (i === 0) {\r\n            if (closed) {\r\n                p0 = points[len - 2];\r\n            }\r\n            else {\r\n                p0 = points[0];\r\n            }\r\n        }\r\n        else if (i == len - 1) {\r\n            if (closed) {\r\n                p3 = points[1];\r\n            }\r\n            else {\r\n                p3 = p2;\r\n            }\r\n        }\r\n        let controlPointA = $math.getCubicControlPointA(p0, p1, p2, tensionX, tensionY);\r\n        let controlPointB = $math.getCubicControlPointB(p1, p2, p3, tensionX, tensionY);\r\n        display.bezierCurveTo(controlPointA.x, controlPointA.y, controlPointB.x, controlPointB.y, p2.x, p2.y);\r\n    }\r\n    return path;\r\n}\r\n//# sourceMappingURL=Draw.js.map","import { Graphics } from \"./Graphics\";\r\nimport * as $draw from \"../util/Draw\";\r\n/**\r\n * Draws a line.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nexport class Line extends Graphics {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"points\") || this.isDirty(\"segments\") || this._sizeDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            const points = this.get(\"points\");\r\n            const segments = this.get(\"segments\");\r\n            if (points && points.length > 0) {\r\n                let point = points[0];\r\n                this._display.moveTo(point.x, point.y);\r\n                $draw.segmentedLine(this._display, [[points]]);\r\n            }\r\n            else if (segments) {\r\n                $draw.segmentedLine(this._display, segments);\r\n            }\r\n            else if (!this.get(\"draw\")) {\r\n                let w = this.width();\r\n                let h = this.height();\r\n                this._display.moveTo(0, 0);\r\n                this._display.lineTo(w, h);\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Line, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Line\"\r\n});\r\nObject.defineProperty(Line, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([Line.className])\r\n});\r\n//# sourceMappingURL=Line.js.map","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","import { Container } from \"../../core/render/Container\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\n/**\r\n * A base class for all charts.\r\n */\r\nexport class Chart extends Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[Container]] chart places its elements in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"chartContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, { width: p100, height: p100, interactiveChildren: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] chart places its bullets in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { interactiveChildren: false, isMeasured: false, position: \"absolute\", width: p100, height: p100 })\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(Chart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Chart\"\r\n});\r\nObject.defineProperty(Chart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Chart.className])\r\n});\r\n//# sourceMappingURL=Chart.js.map","import { Chart } from \"./Chart\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { ListAutoDispose } from \"../../core/util/List\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\n/**\r\n * A base class for all series-based charts.\r\n */\r\nexport class SerialChart extends Chart {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[Container]] where chart will store all series.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"seriesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { width: p100, height: p100, isMeasured: false })\r\n        });\r\n        /**\r\n         * A list of chart's series.\r\n         */\r\n        Object.defineProperty(this, \"series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._disposers.push(this.series);\r\n        const children = this.seriesContainer.children;\r\n        this._disposers.push(this.series.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, (series) => {\r\n                    this._removeSeries(series);\r\n                });\r\n                const colors = this.get(\"colors\");\r\n                if (colors) {\r\n                    colors.reset();\r\n                }\r\n                const patterns = this.get(\"patterns\");\r\n                if (patterns) {\r\n                    patterns.reset();\r\n                }\r\n            }\r\n            else if (change.type === \"push\") {\r\n                children.moveValue(change.newValue);\r\n                this._processSeries(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                children.setIndex(change.index, change.newValue);\r\n                this._processSeries(change.newValue);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                children.insertIndex(change.index, change.newValue);\r\n                this._processSeries(change.newValue);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._removeSeries(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                children.moveValue(change.value, change.newIndex);\r\n                this._processSeries(change.value);\r\n            }\r\n            else if (change.type === \"swap\") {\r\n                const a = change.a;\r\n                const b = change.b;\r\n                const aIndex = this.series.indexOf(a);\r\n                const bIndex = this.series.indexOf(b);\r\n                children.moveValue(a, bIndex);\r\n                children.moveValue(b, aIndex);\r\n                this.series.each((series) => {\r\n                    this._processSeries(series);\r\n                    series.markDirtyValues();\r\n                });\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        }));\r\n    }\r\n    _processSeries(series) {\r\n        series.chart = this;\r\n        series._placeBulletsContainer(this);\r\n    }\r\n    _removeSeries(series) {\r\n        series._handleRemoved();\r\n        if (!series.isDisposed()) {\r\n            this.seriesContainer.children.removeValue(series);\r\n            series._removeBulletsContainer();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(SerialChart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"SerialChart\"\r\n});\r\nObject.defineProperty(SerialChart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Chart.classNames.concat([SerialChart.className])\r\n});\r\n//# sourceMappingURL=SerialChart.js.map","import { Line } from \"./Line\";\r\n/**\r\n * Draws a tick element (mostly used on axes).\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n */\r\nexport class Tick extends Line {\r\n}\r\nObject.defineProperty(Tick, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Tick\"\r\n});\r\nObject.defineProperty(Tick, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Line.classNames.concat([Tick.className])\r\n});\r\n//# sourceMappingURL=Tick.js.map"],"names":["ListData","List","newValue","index","oldValue","DataItem","Settings","component","dataContext","settings","duration","Component","Container","data","change","dataItems","$array.each","dataItem","properties","$object.keys","key","_dataItem","output","field","_duration","__awaiter","type","id","$array.find","sleep","ms","resolve","_reject","round","date","unit","count","firstDateOfWeek","utc","firstDate","timezone","timeZoneOffset","day","seconds","milliseconds","hours","minutes","month","year","wday","weekDay","$type.isNumber","newTimeZoneOffset","diff","initialTime","tzoffset","parsedDate","hour","minute","second","millisecond","weekday","offsetDif","newTime","hDuration","newDiff","Series","p100","len","bullets","bullet","bulletFunction","sprite","startIndex","endIndex","baseValueSeries","tooltip","markerRectangle","legendDataItem","stroke","fill","i","fields","sum","absSum","low","high","open","close","average","previous","changePercent","changePrevious","changePreviousPercent","changeSelection","changeSelectionPercent","openKey","adjustedStartIndex","calculateChangesForItem","value","rules","rule","minValue","maxValue","target","states","defaultState","percent","propertyValue","Color","Percent","percentInterpolate","child","Label","_bullet","chart","bulletsContainer","_super","promises","show","$array.map","realDuration","delay","$time.sleep","valueLabel","text","txt","label","segmentedLine","display","segments","s","groups","firstGroup","firstPoint","g","line","points","p","point","Line","Graphics","$draw.segmentedLine","w","h","constant","x","pi","tau","epsilon","tauEpsilon","append","strings","n","appendRound","digits","d","k","Path","y","x1","y1","x2","y2","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","l","t01","t21","r","a0","a1","ccw","dx","dy","cw","da","withPath","shape","_","Chart","SerialChart","ListAutoDispose","children","series","colors","patterns","a","b","aIndex","bIndex","Tick"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11]}