{"version":3,"file":"angularMeasurementUtils-CVK8K4WU.js","sources":["../../node_modules/@arcgis/core/views/support/angularMeasurementUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{cyclicalDegrees as e,Cyclical as r}from\"../../core/Cyclical.js\";import{createAngle as t,convertRotationType as o}from\"../../core/quantityUtils.js\";import{convertUnit as i}from\"../../core/unitUtils.js\";import{angle as n}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as s,UNIT_Y as a}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{q as c,d as l,j as u}from\"../../chunks/vec32.js\";import{create as f}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as m}from\"../../geometry/projection/projectVectorToVector.js\";import{geodesicCompatibleSpatialReference as g,inverseGeodeticSolver as p,InverseGeodeticSolverResult as d,directGeodeticSolver as h}from\"../../geometry/support/geodesicUtils.js\";import{equals as v}from\"../../geometry/support/spatialReferenceUtils.js\";function j(e,r){if(null==e||null==r)return;const o=b(e,r);return null!=o?t(o,\"radians\",\"geographic\"):void 0}const b=(()=>{const e=f(),r=f();return(t,o)=>(u(e,t.x,t.y,t.z??0),u(r,o.x,o.y,o.z??0),y(e,r,t.spatialReference,o.spatialReference))})(),y=(()=>{const e=s(),r=f(),t=f();return(o,s,l,u)=>{if(c(o,s))return;const f=g(l),d=g(u);if(f&&d&&v(f,d)&&m(o,l,r,f)&&m(s,u,t,d)){const{azimuth:e}=p(k,r,t,f);return null!=e?i(e,\"degrees\",\"radians\"):void 0}e[0]=s[0]-o[0],e[1]=s[1]-o[1];let h=n(a,e);return e[0]<0&&(h=C-h),h}})();function x(e,r,t,o=\"absolute\"){if(r&&t)switch(o){case\"absolute\":return j(r,t);case\"relative\":return w(z(e,r,t),\"relative\");case\"relative-bilateral\":return w(z(e,r,t),\"relative-bilateral\")}}function z(e,r,o){if(!e||!r||!o)return;const i=b(e,r),n=b(r,o);return null!=i&&null!=n?t(n-i,\"radians\",\"geographic\"):void 0}function w(e,r){if(null!=e)switch(r){case\"absolute\":return M(e);case\"relative\":{const r=R(e);let o=P.normalize(r,0,!0);return-180===o&&(o=180),t(o,\"degrees\",\"geographic\")}case\"relative-bilateral\":{const r=R(e),o=Math.abs(P.normalize(r,0,!0));return t(o,\"degrees\",\"geographic\")}}}function M(e){const r=R(e),o=I.normalize(r,0,!0);return t(o,\"degrees\",\"geographic\")}function T(e,r,n){let s=i(e.value,e.unit,\"degrees\");return s=o(s,e.rotationType,n),s=i(s,\"degrees\",r),t(s,r,n)}const U=(()=>{const e=f();return(r,t,n,s,a,c=\"geodesic\")=>{l(e,t);const f=R(a);if(\"geodesic\"===c){const o=g(n);if(o&&m(e,n,e,o))return h(r,e,f,s,o),r[2]=t[2],!!m(r,o,r,n)}const p=o(f,\"geographic\",\"arithmetic\"),d=i(p,\"degrees\",\"radians\"),v=t[0]+s*Math.cos(d),j=t[1]+s*Math.sin(d),b=t[2];return u(r,v,j,b),!0}})();function R(e){if(null!=e)return o(V(e),e.rotationType,\"geographic\")}function q(e){if(null!=e)return o(V(e),e.rotationType,\"arithmetic\")}function V(e){return i(e.value,e.unit,\"degrees\")}const k=new d,C=2*Math.PI,I=e,P=new r(-180,180);export{T as convertAngle,j as directionBetweenPoints,x as directionForVertices,q as getDegreesArithmetic,R as getDegreesGeographic,w as getNormalizedDirection,M as getNormalizedGeographicOrientation,U as pointFromDistanceAlongAzimuth,y as radiansGeographicBetweenVec};\n"],"names":["j","r","o","b","t","f","u","y","s","c","g","d","v","m","e","p","k","i","h","n","a","C","x","w","z","M","R","P","I","U","l","V","q"],"mappings":"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","x_google_ignoreList":[0]}