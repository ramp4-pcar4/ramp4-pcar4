import{fy as b,fz as x,ar as w,fR as C,fT as F,fC as T,fS as W,fE as f,e9 as s,fH as p,fW as j,fD as z,fG as n,fX as i,e8 as c,fJ as A,fI as D,fV as H,fM as M,fF as S,fK as d}from"./main-CSjwO60s.js";const V=["content"],q=b({__name:"screen",props:{panel:{type:Object,required:!0}},setup(v){const m=i(()=>import("./header-QmV8mzPv.js")),g=i(()=>import("./item-Dmt3XMlJ.js")),{t:r}=x(),y=W("iApi"),e=w(),l=()=>{e.value._tippy.hide()},u=t=>{t.key==="Tab"&&e.value?.matches(":focus")&&e.value._tippy.show()},h=t=>{const a=new CustomEvent("refocusLegendItem",{detail:{focusItem:t}});e.value?.dispatchEvent(a)};C(()=>{e.value?.addEventListener("blur",l),e.value?.addEventListener("keyup",u)}),F(()=>{e.value?.removeEventListener("blur",l),e.value?.removeEventListener("keyup",u)});const E=T(()=>{const t=y.fixture.get("legend");return t?[...t.getLegend()]:[]});return(t,a)=>{const I=S("panel-screen"),_=d("focus-list"),k=d("tippy");return s(),f(I,{panel:v.panel},{header:p(()=>[H(M(n(r)("legend.title")),1)]),content:p(()=>[j(n(m)),z((s(),c("div",{content:n(r)("panels.controls.items"),ref_key:"el",ref:e},[(s(!0),c(A,null,D(E.value,o=>(s(),f(n(g),{legendItem:o,key:o.uid,onFocusItem:a[0]||(a[0]=(L,B)=>h(L))},null,8,["legendItem"]))),128))],8,V)),[[_],[k,{trigger:"manual",placement:"top-end",touch:!1,maxWidth:190}]])]),_:1},8,["panel"])}}});export{q as default};
