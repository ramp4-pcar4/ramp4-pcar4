{"version":3,"file":"Feature3DPipelineWorker-B8LK0b94.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/PipelineCommand.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/factoryUtils.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/processingUtils.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/symbolizationUtils.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/IconSymbolLayerRenderer.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/Point3DSymbolRenderer.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/SimpleFeatureRenderer.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/primitiveObjectUtils.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/ObjectSymbolLayerRenderer.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/UniqueValueFeatureRenderer.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/FeatureProcessingContext.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/utils.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/FeatureDataSubset.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/FeatureData.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile3DManager.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/TileLocks.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/TiledFeatureStore.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/PBFPointFeatureSetView.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/fetching/Tile3DFetcher.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderCommandContext.js","../../node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js","../../node_modules/@arcgis/core/geometry/support/coordinateSystem.js","../../node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Feature3DPipelineWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(e,n,t){this.renderCommandContext=e,this.renderCommandBuffer=n,this.pipelineStateCommands=t}append(e){this.appendRenderCommands(e.renderCommandBuffer),this.appendPipelineStateCommands(e.pipelineStateCommands)}appendRenderCommands(e){this.renderCommandBuffer.commands.push(...e.commands),this.renderCommandBuffer.transferList.push(...e.transferList)}appendPipelineStateCommand(e){this.pipelineStateCommands.push(e)}appendPipelineStateCommands(e){for(const n of e)this.appendPipelineStateCommand(n)}async execute(){for(const e of this.pipelineStateCommands)e();await this.renderCommandContext.dispatchRenderCommands(this.renderCommandBuffer)}static create(n,t=[]){return new e(n,n.createRenderCommandBuffer(),t)}}function n(e){if(0===e.length)return null;return e.reduce((e,n)=>(e.append(n),e))}export{e as PipelineCommand,n as joinCommands};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport o from\"../../../../../../Color.js\";import r from\"../../../../../../symbols/IconSymbol3DLayer.js\";import m from\"../../../../../../symbols/ObjectSymbol3DLayer.js\";import{Symbol3DMaterial as e}from\"../../../../../../symbols/support/Symbol3DMaterial.js\";function t(){return new r({material:new e({color:new o(\"red\")})})}function n(){return new m}export{t as createDefaultIconSymbolLayer,n as createDefaultObjectSymbolLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as e}from\"../../../../../../geometry/projection/projectBuffer.js\";import{projectVectorToVector as t}from\"../../../../../../geometry/projection/projectVectorToVector.js\";import{center as o}from\"../../../../../../geometry/support/aaBoundingRect.js\";function n(r){const{featureCount:e}=r;if(0===e)return new Uint32Array;const t=new Uint32Array(e);return r.getObjectIdsArray(t),t}function a(r){const{featureCount:e}=r;if(0===e)return new Float64Array;const t=new Float64Array(3*e);return r.getCoordinatesArray(t),t}function i(r,e){const{featureCount:t}=r;if(0===t)return new Float64Array;return c(a(r),e)}function c(r,t){const o=r.length/3,n=t.viewSpatialReference,a=t.renderSpatialReference,i=new Float64Array(3*o);if(!e(r,n,0,i,a,0,o))throw new Error(\"Failed to project coordinates\");return i}function f(e,n){const a=n.viewSpatialReference,i=n.renderSpatialReference,{extent:c}=e,f=o(c),u=r();return t([f[0],f[1],0],a,u,i),u}export{i as computeRenderCoordinates,f as computeTileCenterRenderCoordinates,c as projectToRenderCoordinates,a as readMapCoordinates,n as readObjectIds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{compactIndices as o}from\"../../../../../../geometry/support/Indices.js\";function e(e){const n=new Map;for(const[t,r]of e)n.set(t,{...r,indices:o(r.indices)});return n}export{e as inputAttributesToAttributesMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../Color.js\";import{create as t}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ONES as r}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ZEROS as i}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{defaultPrimitive as n}from\"../../../../../../symbols/support/IconSymbol3DLayerResource.js\";import{mixinColorAndOpacity as o}from\"../../graphicUtils.js\";import{namedAnchorToHUDMaterialAnchorPos as a}from\"../../placementUtils.js\";import{PipelineCommand as l}from\"../PipelineCommand.js\";import{computeTileCenterRenderCoordinates as s,readObjectIds as m,readMapCoordinates as c,projectToRenderCoordinates as d}from\"../featureData/processingUtils.js\";import{inputAttributesToAttributesMap as u}from\"./symbolizationUtils.js\";import{createTextureInfo as y,requiresHalfTexelOffset as p,defaultBoundingBox as _}from\"../../../../support/engineContent/sdfPrimitives.js\";import{Attribute as C}from\"../../../../webgl-engine/lib/Attribute.js\";class h{constructor(e,t){this._context=null,this._symbolLayer=null,this._draped=!1,this._loaded=!1,this._loadingPromise=null,this._iconTextureID=null,this._materialId=null,this._context=t,this._symbolLayer=e}get loaded(){return this._loaded}load(){return null==this._loadingPromise&&(this._loadingPromise=this._load()),this._loadingPromise}_destroy(){this._iconTextureID=null}async _load(){const e=this._context.renderCommandContext,t=await e.createTexture(()=>y(\"circle\"));this._iconTextureID=t;const r={anchorPosition:a.center,occlusionTest:!0,hasSlicePlane:!1,color:this._getFillColor(),outlineColor:this._getOutlineColor(),outlineSize:1,distanceFieldBoundingBox:_,textureId:t,textureIsSignedDistanceField:!0,sampleSignedDistanceFieldTexelCenter:p(\"circle\")},i=new Uint8Array(8),n=0,o=255;i[0]=n,i[1]=n,i[2]=n,i[3]=o,i[4]=o,i[5]=n,i[6]=o,i[7]=o,this._materialId=await e.createMaterial({type:\"hud\",parameters:r}),await e.createDirectRenderer(this._materialId),await e.setBaseInstance(this._materialId,{data:i.buffer,elementCount:4}),this._loaded=!0}async createAddCommand(e){const{_materialId:t,_context:r}=this,{renderCommandContext:i}=r;if(null==t)throw new Error(\"expected material not to be null\");const n=await this._createGeometry(e);if(null==n)return r.createPipelineCommand();const o=s(e,r),a=!0;return r.createPipelineCommand(i.addDirectRendererGeometry(e.id,n,o,a))}async _createGeometry(e){const{_materialId:r,_context:i}=this,{mainThreadDelegate:n}=i,{featureCount:o}=e;if(0===o||null==r)return null;const a=m(e),l=c(e),s=await n.applyElevationAlignmentTo(l),y=d(s,i),p=new Float64Array([0,0,1]),_=new Float64Array([255,255,255,255]),h=new Float64Array([24,24]),f=new Float64Array([0,0,0,1]),g=new Float64Array([0]),x=new Uint32Array(o);for(let t=0;t<o;++t)x[t]=t;const w=new Uint32Array(o);for(let t=0;t<o;++t)w[t]=0;const b=[[\"position\",new C(y,x,3,!0)],[\"normal\",new C(p,w,3,!0)],[\"color\",new C(_,w,4,!0)],[\"rotation\",new C(g,w,1,!0)],[\"size\",new C(h,w,2,!0)],[\"centerOffsetAndDistance\",new C(f,w,4,!0)]],I=new Uint8Array(o);e.getVisibilityArray(I);return{attributes:u(b),olidColor:void 0,transformation:t(),materialId:r,objectIds:a,visibilities:I}}async createRemoveCommand(e){const{_materialId:t,_context:r}=this,i=r.renderCommandContext;return null==t?r.createPipelineCommand():r.createPipelineCommand(i.removeDirectRendererGeometryBuffer(t,e))}async createUpdateVisibilityCommand(e){const{_materialId:t,_context:r}=this,i=r.renderCommandContext;if(null==t)return r.createPipelineCommand();const n=new Uint8Array(e.featureCount);return e.getVisibilityArray(n),r.createPipelineCommand(i.updateVisibility(t,e.id,n))}async createUpdateLayerViewOpacityCommand(e){const{_context:t,_materialId:r}=this,i=t.renderCommandContext;return null==r?t.createPipelineCommand():t.createPipelineCommand(i.updateMaterial({type:\"hud\",materialId:r,parameters:{color:this._getFillColor(),outlineColor:this._getOutlineColor()}}))}async createUpdateElevationCommand(e){const{_materialId:t,_context:r}=this,{renderCommandContext:i}=r,{featureCount:n,id:o}=e;if(null==t||0===n)return r.createPipelineCommand();const a=await this._createGeometry(e);if(null==a)return r.createPipelineCommand();const l=s(e,r),m=!0;return r.createPipelineCommand(i.updateDirectRendererGeometry(o,a,l,m))}async createDestroyCommand(){const{_iconTextureID:e,_context:t}=this,r=t.renderCommandContext;let i;return i=null!=e?await r.releaseTexture(e):l.create(r),i.appendPipelineStateCommand(()=>this._destroy()),i}_getOutlineColor(){const t=this._getLayerOpacity(),r=this._symbolLayer,i=r?.outline?.color;if(null!=i){const r=e.toUnitRGB(i),n=i.a*t;return[r[0],r[1],r[2],n]}return[0,0,0,0]}_getFillColor(){if(f(this._getPrimitive()))return w;const e=null==this._getPrimitive(),t=this._symbolLayer?.material?.color;return this._getCombinedOpacityAndColor(t,{hasIntrinsicColor:e})}_getLayerOpacity(){return this._context.layerViewInfo.fullOpacity}_getCombinedOpacity(e,t=x){const r=this._draped?1:this._getLayerOpacity();return e?r*e.a:t.hasIntrinsicColor?r:0}_getCombinedOpacityAndColor(t,i=x){const n=this._getCombinedOpacity(t,i),a=null!=t?e.toUnitRGB(t):r;return o(a,n)}_getPrimitive(){return g(this._symbolLayer)}}function f(e){return null!=e&&(\"cross\"===e||\"x\"===e)}function g(e){return e.resource?.href?null:e.resource?.primitive??n}const x={hasIntrinsicColor:!1},w=i;export{h as IconSymbolLayerRenderer,x as defaultMaterialOptions,g as getPrimitive,f as isOutlineOnly,w as transparentUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(e,o){this._loaded=!1,this._loadingPromise=null,this._context=null,this._symbol=null,this._symbolLayerRenderers=[],this._context=o,this._symbol=e}_destroy(){}get loaded(){return this._loaded}load(){return null==this._loadingPromise&&(this._loadingPromise=this._load()),this._loadingPromise}async _load(){const{_context:e,_symbol:o,_symbolLayerRenderers:t}=this,s=[];for(const a of o.symbolLayers){const o=e.symbolRendererFactory.createSymbolRendererFromSymbolLayer(a);null!=o&&(s.push(o.load()),t.push(o))}await Promise.all(s),this._loaded=!0}async createDestroyCommand(){const{_context:e,_symbolLayerRenderers:o}=this,t=[];for(const a of o)t.push(a.createDestroyCommand());const s=e.joinPipelineCommands(await Promise.all(t));return s.appendPipelineStateCommand(()=>this._destroy()),s}async createAddCommand(e){const{_context:o,_symbolLayerRenderers:t}=this,s=[];for(const a of t)s.push(a.createAddCommand(e));return o.joinPipelineCommands(await Promise.all(s))}async createRemoveCommand(e){const{_context:o,_symbolLayerRenderers:t}=this,s=[];for(const a of t)s.push(a.createRemoveCommand(e));return o.joinPipelineCommands(await Promise.all(s))}async createUpdateVisibilityCommand(e){const{_context:o,_symbolLayerRenderers:t}=this,s=[];for(const a of t)s.push(a.createUpdateVisibilityCommand(e));return o.joinPipelineCommands(await Promise.all(s))}async createUpdateLayerViewOpacityCommand(e){const{_context:o,_symbolLayerRenderers:t}=this,s=[];for(const a of t)s.push(a.createUpdateLayerViewOpacityCommand(e));return o.joinPipelineCommands(await Promise.all(s))}async createUpdateElevationCommand(e){const{_context:o,_symbolLayerRenderers:t}=this,s=[];for(const a of t)s.push(a.createUpdateElevationCommand(e));return o.joinPipelineCommands(await Promise.all(s))}}export{e as Point3DSymbolRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(e,t){this._symbol=null,this._featureData=new Map,this._loaded=!1,this._loadingPromise=null,this._renderer=null,this._context=t,this._renderer=e}async load(){return null==this._loadingPromise&&(this._loadingPromise=this._load()),this._loadingPromise}async _load(){const{_renderer:e,_context:t}=this;this._symbol=t.symbolRendererFactory.createSymbolRendererFromSymbol(e.symbol),this._loaded=!0}get loaded(){return this._loaded}async createAddCommand(e){const t=this._context,a=await this._provisionSymbol(),n=null==a?t.createPipelineCommand():await a.createAddCommand(e);return n.appendPipelineStateCommand(()=>this._featureData.set(e.id,e)),n}async createRemoveCommand(e){const t=this._context,a=await this._provisionSymbol(),n=null==a?t.createPipelineCommand():await a.createRemoveCommand(e);return n.appendPipelineStateCommand(()=>this._featureData.delete(e)),n}async createUpdateVisibilityCommand(e){const t=this._context,a=await this._provisionSymbol();return null==a?t.createPipelineCommand():await a.createUpdateVisibilityCommand(e)}async createUpdateLayerViewOpacityCommand(e){const t=this._context,a=await this._provisionSymbol();return null==a?t.createPipelineCommand():await a.createUpdateLayerViewOpacityCommand(e)}async createUpdateElevationCommand(){const{_featureData:e,_context:t}=this,a=await this._provisionSymbol();if(null==a)return t.createPipelineCommand();const n=[];for(const i of e.values())n.push(a.createUpdateElevationCommand(i));const o=await Promise.all(n);return t.joinPipelineCommands(o)}async createDestroyCommand(){const{_symbol:e,_context:t,_featureData:a}=this;if(!e)return t.createPipelineCommand();const n=[];for(const i of a.keys())n.push(this.createRemoveCommand(i));n.push(e.createDestroyCommand());const o=await Promise.all(n);return t.joinPipelineCommands(o)}async _provisionSymbol(){const e=this._symbol;return e?(e.loaded||await e.load(),e):null}}export{e as SimpleFeatureRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../../../core/has.js\";import{inputAttributesToAttributesMap as e}from\"./symbolizationUtils.js\";import{cloneAttributeData as t}from\"../../../../webgl-engine/lib/AttributeArray.js\";import{createPolySphereData as n,createConeGeometryData as i}from\"../../../../webgl-engine/lib/GeometryUtil.js\";function a(t,a){const o=(t,n,i=!1)=>({levels:t.map(t=>{const o=e(n(t.tesselation));i&&s(o);return{components:[{attributes:o,olidColor:void 0,transformation:null,materialId:a,visibilities:new Uint8Array([1]),objectIds:new Uint32Array([-1])}],minScreenSpaceRadius:t.minScreenSpaceRadius}})});switch(t){case\"cone\":return o(r,e=>i(1,.5,e,!1),!0);case\"sphere\":return o([{tesselation:0,minScreenSpaceRadius:0},{tesselation:1,minScreenSpaceRadius:8},{tesselation:2,minScreenSpaceRadius:16},{tesselation:3,minScreenSpaceRadius:50},{tesselation:4,minScreenSpaceRadius:250}],e=>n(.5,e,!0));case\"cube\":case\"inverted-cone\":case\"cylinder\":case\"tetrahedron\":case\"diamond\":throw new Error(\"not implemented\");default:return}}function s(e){const t=e,n=t.get(\"position\").data,i=t.get(\"normal\").data;if(i){const t=o(e,\"normal\").data;for(let e=0;e<i.length;e+=3){const n=i[e+1];t[e+1]=-i[e+2],t[e+2]=n}}if(n){const t=o(e,\"position\").data;for(let e=0;e<n.length;e+=3){const i=n[e+1];t[e+1]=-n[e+2],t[e+2]=i}}}function o(e,n){let i=e.get(n);return i&&!i.exclusive&&(i={...i,exclusive:!0,data:t(i.data)},e.set(n,i)),i}const r=[{tesselation:6,minScreenSpaceRadius:0},{tesselation:18,minScreenSpaceRadius:7},{tesselation:64,minScreenSpaceRadius:65}];export{a as createPrimitiveGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{identity as e,scale as t}from\"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ONES as i,fromArray as a,create as n}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as o}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{computeTranslationToOriginAndRotation as s}from\"../../../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{create as l,size as m}from\"../../../../../../geometry/support/aaBoundingBox.js\";import{defaultPrimitive as d}from\"../../../../../../symbols/support/ObjectSymbol3DLayerResource.js\";import{objectSymbolLayerPrimitiveBoundingBox as c,objectSymbolLayerSizeWithResourceSize as p}from\"../../../../../../symbols/support/symbolLayerUtils3D.js\";import{computeObjectScale as u}from\"../../graphicUtils.js\";import{isValidPrimitive as h}from\"../../primitiveObjectSymbolUtils.js\";import{PipelineCommand as y}from\"../PipelineCommand.js\";import{readMapCoordinates as f,readObjectIds as _}from\"../featureData/processingUtils.js\";import{createPrimitiveGeometry as C}from\"./primitiveObjectUtils.js\";import{DefaultMaterialParameters as b,isTransparent as g}from\"../../../../webgl-engine/materials/DefaultMaterial.js\";import{schematicMRRFactors as x}from\"../../../../webgl-engine/materials/pbrUtils.js\";class v{constructor(e,t){this._loaded=!1,this._loadingPromise=null,this._primitiveMaterialId=null,this._lodRendererId=null,this._context=null,this._symbolLayer=null,this._primitive=null,this._context=t,this._symbolLayer=e}_destroy(){this._lodRendererId=null,this._primitiveMaterialId=null}get loaded(){return this._loaded}get _isPrimitive(){return null!=this._primitive}load(){return null==this._loadingPromise&&(this._loadingPromise=this._load()),this._loadingPromise}async _load(){const e=this._context.renderCommandContext,t={physicalBasedRenderingEnabled:!0,slicePlaneEnabled:!1,castShadows:!0},r=this._getLayerOpacity();let a={usePBR:t.physicalBasedRenderingEnabled,isSchematic:!0,mrrFactors:x,ambient:i,diffuse:i,hasSlicePlane:t.slicePlaneEnabled,castShadows:t.castShadows,layerOpacity:r,offsetTransparentBackfaces:!1,screenSizePerspective:{}};if(a.externalColor=o,a.instanced=!0,this._isPrimitive){const e=new b;e.layerOpacity=r,a={...a,cullFace:w(g(e))}}const n=await e.createMaterial({type:\"default\",parameters:a}),s=this._symbolLayer.resource;this._primitive=s&&h(s?.primitive)?s.primitive:d;const l=C(this._primitive,n);this._lodRendererId=await e.createLodRenderer(l),this._primitiveMaterialId=n,this._loaded=!0}async createDestroyCommand(){const{_lodRendererId:e,_primitiveMaterialId:t,_context:r}=this,i=r.renderCommandContext,a=[];return null!=e&&a.push(i.destroyLodRenderer(e)),null!=t&&a.push(i.destroyMaterial(t)),new y(i,i.mergeRenderCommandBuffers(a),[()=>this._destroy()])}async createAddCommand(e){const t=this._context,{renderCommandContext:r,mainThreadDelegate:i}=t;if(null==this._lodRendererId)throw new Error(\"expected lod renderer id to not be null\");const{featureCount:n}=e;if(0===n)return t.createPipelineCommand();const o=this._isPrimitive,s=this._primitive||d,u=l(c(s)),h=a(m(u)),y=a(p(h,{isPrimitive:o,width:100,depth:null,height:null})),C=new Float64Array(16*n),b=new Float64Array(16*n),g=f(e),x=await i.applyElevationAlignmentTo(g);for(let a=0;a<n;++a){const e=a,t=x[3*a+0],r=x[3*a+1],i=x[3*a+2],n=this._computeGlobalTransform(t,r,i,this._context.viewSpatialReference,j),o=this._computeLocalTransform(y,h,T);this._writeMatrixToTypedBuffer(C,e,o),this._writeMatrixToTypedBuffer(b,e,n)}const v=_(e),w=new Uint8Array(n);e.getVisibilityArray(w);const P={featureIds:new Uint32Array(v),visibility:w,localTransforms:C,globalTransforms:b};return t.createPipelineCommand(r.addLodInstances(this._lodRendererId,e.id,P))}async createRemoveCommand(e){const{_context:t,_lodRendererId:r}=this,i=t.renderCommandContext;return null==r?t.createPipelineCommand():t.createPipelineCommand(i.removeLodInstances(r,e))}async createUpdateVisibilityCommand(e){const{_lodRendererId:t,_context:r}=this,i=r.renderCommandContext;if(null==t)return r.createPipelineCommand();const a=new Uint8Array(e.featureCount);return e.getVisibilityArray(a),r.createPipelineCommand(i.updateVisibility(t,e.id,a))}async createUpdateLayerViewOpacityCommand(e){const{_context:t}=this,r=t.renderCommandContext,i=this._primitiveMaterialId;if(null==i)return t.createPipelineCommand();const a=this._getLayerOpacity();let n={layerOpacity:a};if(this._isPrimitive){const e=new b;e.layerOpacity=a,n={...n,cullFace:w(g(e))}}return t.createPipelineCommand(r.updateMaterial({type:\"default\",materialId:i,parameters:n}))}async createUpdateElevationCommand(e){const{_context:t,_lodRendererId:r}=this,{renderCommandContext:i,mainThreadDelegate:a}=t,{featureCount:n,id:o}=e;if(null==r||0===n)return t.createPipelineCommand();const s=new Float64Array(16*n),l=f(e),m=await a.applyElevationAlignmentTo(l);for(let d=0;d<n;++d){const e=d,t=m[3*d+0],r=m[3*d+1],i=m[3*d+2],a=this._computeGlobalTransform(t,r,i,this._context.viewSpatialReference,j);this._writeMatrixToTypedBuffer(s,e,a)}return t.createPipelineCommand(i.updateLodInstancesData(r,o,s))}_writeMatrixToTypedBuffer(e,t,r){let i=16*t;for(let a=0;a<16;a++)e[i++]=r[a]}_computeGlobalTransform(e,t,r,i,a){return P[0]=e,P[1]=t,P[2]=r,s(i,P,a,this._context.renderSpatialReference),a}_computeLocalTransform(t,r,i){return e(i),this._applyObjectScale(t,r,i),i}_applyObjectScale(e,r,i){const a=u(e,e,r,this._context.renderCoordsHelper.unitInMeters);1===a[0]&&1===a[1]&&1===a[2]||t(i,i,a)}_getLayerOpacity(){return this._context.layerViewInfo.fullOpacity}}function w(e){return e?0:2}const P=n(),T=r(),j=r();export{v as ObjectSymbolLayerRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{PipelineCommand as t}from\"../PipelineCommand.js\";import{readObjectIds as e}from\"../featureData/processingUtils.js\";import{createDefaultIconSymbolLayer as n,createDefaultObjectSymbolLayer as a}from\"./factoryUtils.js\";import{IconSymbolLayerRenderer as o}from\"./IconSymbolLayerRenderer.js\";import{ObjectSymbolLayerRenderer as i}from\"./ObjectSymbolLayerRenderer.js\";class s{constructor(t,e){this._symbols=new Array,this._featureDataPartitioning=new Map,this._loaded=!1,this._loadingPromise=null,this._renderer=null,this._context=e,this._renderer=t}async load(){return null==this._loadingPromise&&(this._loadingPromise=this._load()),this._loadingPromise}async _load(){this._symbols[0]=new o(n(),this._context),this._symbols[1]=new i(a(),this._context),this._loaded=!0}get loaded(){return this._loaded}async createAddCommand(t){const e=this._context,n=this._partition(t),a=await Promise.all(n.map(async({index:t,features:e})=>{const n=await this._provisionSymbol(t);return await(n?.createAddCommand(e))})),o=e.joinPipelineCommands(a);return o.appendPipelineStateCommand(()=>this._featureDataPartitioning.set(t.id,n)),o}async createRemoveCommand(e){const{_featureDataPartitioning:n,_context:a}=this,o=a.renderCommandContext,i=n.get(e);if(null==i)return new t(o,o.createRenderCommandBuffer(),[]);const s=await Promise.all(i.map(async({index:t,features:e})=>{const n=this._getLoadedSymbol(t);return await(n?.createRemoveCommand(e.id))})),r=a.joinPipelineCommands(s);return r.appendPipelineStateCommand(()=>n.delete(e)),r}async createUpdateVisibilityCommand(e){const{_featureDataPartitioning:n,_context:a}=this,o=a.renderCommandContext,i=n.get(e.id);if(null==i)return new t(o,o.createRenderCommandBuffer(),[]);const s=await Promise.all(i.map(async({index:t,features:e})=>{const n=this._getLoadedSymbol(t);return await(n?.createUpdateVisibilityCommand(e))}));return a.joinPipelineCommands(s)}async createUpdateLayerViewOpacityCommand(t){const e=this._context,n=[];for(let o=0;o<this._symbols.length;++o){const e=this._symbols[o];null!=e&&e.loaded&&n.push(e.createUpdateLayerViewOpacityCommand(t))}const a=await Promise.all(n);return e.joinPipelineCommands(a)}async createUpdateElevationCommand(){const{_featureDataPartitioning:t,_context:e}=this,n=[];for(const o of t.values()){const t=o.map(async({index:t,features:e})=>{const n=this._getLoadedSymbol(t);return await(n?.createUpdateElevationCommand(e))});n.push(...t)}const a=await Promise.all(n);return e.joinPipelineCommands(a)}async createDestroyCommand(){const{_featureDataPartitioning:t,_context:e}=this,n=[];for(const o of t.keys())n.push(this.createRemoveCommand(o));for(const o of this._symbols)n.push(o.createDestroyCommand());const a=await Promise.all(n);return e.joinPipelineCommands(a)}async _provisionSymbol(t){if(null==t)return null;const e=this._symbols[t];return e?(e.loaded||await e.load(),e):null}_getLoadedSymbol(t){if(null==t)return null;const e=this._symbols[t];return null!=e&&e.loaded?e:null}_partition(t){const n=e(t);if(null==n)throw new Error(\"unable to fetch objectIds\");const{featureCount:a}=t,o=[[],[]];for(let e=0;e<a;++e){o[n[e]%2].push(e)}return o.map((e,n)=>new r(n,t.subset(new Uint32Array(e)))).filter(t=>t.features.featureCount>0)}}class r{constructor(t,e){this.index=t,this.features=e}}export{s as UniqueValueFeatureRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{read as e}from\"../../../../../renderers/support/jsonUtils.js\";import{PipelineCommand as r}from\"./PipelineCommand.js\";import{createDefaultIconSymbolLayer as t}from\"./symbolization/factoryUtils.js\";import{IconSymbolLayerRenderer as o}from\"./symbolization/IconSymbolLayerRenderer.js\";import{Point3DSymbolRenderer as n}from\"./symbolization/Point3DSymbolRenderer.js\";import{SimpleFeatureRenderer as i}from\"./symbolization/SimpleFeatureRenderer.js\";import{UniqueValueFeatureRenderer as s}from\"./symbolization/UniqueValueFeatureRenderer.js\";class a{constructor(e,r,t,o,n,i,s){this.viewSpatialReference=e,this.renderSpatialReference=r,this.mainThreadDelegate=t,this.renderCoordsHelper=o,this.renderCommandContext=n,this.layerInfo=i,this.layerViewInfo=s,this.symbolRendererFactory=new m(this)}createPipelineCommand(e=this.renderCommandContext.createRenderCommandBuffer(),t=[]){return new r(this.renderCommandContext,e,t)}joinPipelineCommands(e){if(0===e.length)return this.createPipelineCommand();return e.filter(e=>null!=e).reduce((e,r)=>(e.append(r),e))}}class m{constructor(e){this.context=e}createSymbolRendererFromJSON(r){const t=e(r??l)??void 0;if(!t)throw new Error(\"Failed to create renderer\");const o=t.type;switch(o){case\"simple\":return new i(t,this.context);case\"unique-value\":return new s(t,this.context);default:return console.warn(`Unable to create symbolrenderer for renderer of ${o}`),this.createSymbolRendererFromJSON(l)}}createSymbolRendererFromSymbol(e){const r=e?.type;switch(r){case\"point-3d\":return new n(e,this.context);case\"picture-marker\":case\"simple-marker\":return new o(t(),this.context);default:return console.warn(`Unable to create symbolrenderer for symbol of ${r}`),null}}createSymbolRendererFromSymbolLayer(e){const r=e.type;return\"icon\"===r?new o(e,this.context):(console.warn(`Unable to create symbolrenderer for symbolLayer of ${r}`),null)}}const l={type:\"simple\"};export{a as FeatureProcessingContext,m as SymbolRendererFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{generateUID as e}from\"../../../../../core/uid.js\";import{getProjector as t,copy3 as o}from\"../../../../../geometry/projection/projectors.js\";function r(t=\"\"){return`${t}${e()}`}function n(e,r,n,s,a){const l=s.spatialReference,i=t(r,l);if(null==i)return e;let f=t=>[e[t],e[t+1],e[t+2]];i!==o&&(f=t=>(i(e,t,c,0),[c[0],c[1],c[2]]));const u=e.length/3,d=n.mode;switch(n.mode){case\"on-the-ground\":for(let t=0;t<u;++t){const o=3*t,[r,n]=f(o);e[o+2]=s.getElevation(r,n,0,s.spatialReference,\"ground\")??0}break;case\"relative-to-ground\":case\"relative-to-scene\":{const t=\"relative-to-ground\"===d?\"ground\":\"scene\";for(let o=0;o<u;++o){const r=3*o,[c,l,i]=f(r),u=n.calculateOffsetRenderUnits(a),d=s.getElevation(c,l,0,s.spatialReference,t)??0;e[r+2]=i+u+d}}break;case\"absolute-height\":for(let t=0;t<u;++t){const o=3*t,r=e[o+2],c=n.calculateOffsetRenderUnits(a);e[o+2]=r+c}}return e}const c=new Float64Array(3);export{n as applyElevationAlignment,r as generateId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{baseObjectMemory as t}from\"../../../../../../core/memoryEstimations.js\";import{generateId as e}from\"../utils.js\";class s{constructor(t,s){this._parent=t,this._subsetIndices=s,this.id=e(`featureDataSubset-${t.id}-`)}get tileId(){return this._parent.tileId}get extent(){return this._parent.extent}get featureCount(){return this._subsetIndices.length}get usedMemory(){return this._parent.usedMemory+t+this._subsetIndices.byteLength}get isFullyEnabled(){for(const t of this._subsetIndices)if(!this._parent.getEnabled(t))return!1;return!0}getObjectId(t){return this._parent.getObjectId(this._subsetIndices[t])}getAttribute(t,e){return this._parent.getAttribute(this._subsetIndices[t],e)}getAttributeAsTimestamp(t,e){return this._parent.getAttribute(this._subsetIndices[t],e)}getAttributes(t){return this._parent.getAttributes(this._subsetIndices[t])}getCoordinates(t,e,s){return this._parent.getCoordinates(this._subsetIndices[t],e,s)}getOptimizedGeometry(t){return this._parent.getOptimizedGeometry(this._subsetIndices[t])}getCentroid(t,e){return this._parent.getCentroid(this._subsetIndices[t],e)}getBounds(t){return this._parent.getBounds(this._subsetIndices[t])}getBoundingBox(t){return this._parent.getBoundingBox(this._subsetIndices[t])}getObjectIdsArray(t,e,s){return this._parent.getObjectIdsArray(t,this._translatedIndices(e),s)}getCoordinatesArray(t,e,s){return this._parent.getCoordinatesArray(t,this._translatedIndices(e),s)}objectIds(t){return this._parent.objectIds(this._translatedIndices(t))}subset(t){const{_subsetIndices:e}=this,r=new Uint32Array(t.length);for(let s=0;s<r.length;++s)r[s]=e[t[s]];return new s(this._parent,r)}disableObjectIds(t){if(0===t.size)return;const{featureCount:e}=this,s=new Array;for(let r=0;r<e;++r)this.getEnabled(r)&&t.has(this.getObjectId(r))&&s.push(r);if(0!==s.length)for(const r of s)this.setEnabled(r,!1)}setEnabled(t,e){this._parent.setEnabled(this._subsetIndices[t],e)}getEnabled(t){return this._parent.getEnabled(this._subsetIndices[t])}enableAll(){const{_subsetIndices:t,_parent:e}=this;for(const s of t)e.setEnabled(s,!0)}getVisibilityArray(t,e,s){return this._parent.getVisibilityArray(t,this._translatedIndices(e),s)}enabledObjectIds(t){return this._parent.enabledObjectIds(this._translatedIndices(t))}*_translatedIndices(t){const{_subsetIndices:e}=this;if(null!=t)for(const s of t)yield e[s];else yield*e}}export{s as FeatureDataSubset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{baseObjectMemory as t,estimateStringMemory as e}from\"../../../../../../core/memoryEstimations.js\";import{generateId as r}from\"../utils.js\";import{FeatureDataSubset as i}from\"./FeatureDataSubset.js\";class s{constructor(t){this._tile=t,this.id=r(`featureData-${t.id}-`),this._enabled=new Array(t.featureCount).fill(!0)}get tileId(){return this._tile.id}get featureCount(){return this._tile.featureCount}get usedMemory(){return t+e(this.id)}get extent(){return this._tile.descriptor.extent}get isFullyEnabled(){return this._enabled.every(t=>t)}getObjectId(t){return this._tile.getObjectId(t)}getAttribute(t,e){return this._tile.getAttribute(t,e)}getAttributeAsTimestamp(t,e){return this._tile.getAttribute(t,e)}getAttributes(t){return this._tile.getAttributes(t)}getCoordinates(t,e,r){return this._tile.getCoordinates(t,e,r)}getOptimizedGeometry(t){return this._tile.getOptimizedGeometry(t)}getCentroid(t,e){return this._tile.getCentroid(t,e)}getBounds(t){return this._tile.getBounds(t)}getBoundingBox(t){return this._tile.getBoundingBox(t)}getObjectIdsArray(t,e,r){return this._tile.getObjectIdsArray(t,e,r)}getCoordinatesArray(t,e,r){return this._tile.getCoordinatesArray(t,e,r)}objectIds(t){return this._tile.objectIds(t)}subset(t){return new i(this,t)}disableObjectIds(t){if(0===t.size)return;const{_enabled:e}=this,r=new Array;for(const i of this._allFeatureIndices())e[i]&&t.has(this.getObjectId(i))&&r.push(i);if(0!==r.length)for(const i of r)e[i]=!1}setEnabled(t,e){this._enabled[t]=e}getEnabled(t){return this._enabled[t]}enableAll(){this._enabled.fill(!0)}getVisibilityArray(t,e=this._allFeatureIndices(),r=0){const{_enabled:i}=this;for(const s of e)t[r++]=Number(i[s]);return r}*enabledObjectIds(t=this._allFeatureIndices()){const{_enabled:e}=this;for(const r of t)e[r]&&(yield this.getObjectId(r))}*_allFeatureIndices(){const{featureCount:t}=this;for(let e=0;e<t;++e)yield e}}export{s as FeatureData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__addDisposableResource as t,__disposeResources as e,__decorate as s}from\"tslib\";import o from\"../../../../../core/Accessor.js\";import{isSome as a}from\"../../../../../core/arrayUtils.js\";import{createTask as i}from\"../../../../../core/asyncUtils.js\";import has from\"../../../../../core/has.js\";import{throwIfAborted as r,throwIfNotAbortError as n}from\"../../../../../core/promiseUtils.js\";import l from\"../../../../../core/ReactiveMap.js\";import{whenOnce as c}from\"../../../../../core/reactiveUtils.js\";import{waitTick as d}from\"../../../../../core/scheduling.js\";import{property as u}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{fromExtent as f,intersects as p}from\"../../../../../geometry/support/aaBoundingRect.js\";import{joinCommands as m}from\"./PipelineCommand.js\";import{FeatureData as y}from\"./featureData/FeatureData.js\";let _=class extends o{constructor(t){super(t),this.extent=null,this._tileHandles=new l,this._wanted=new l,this._updateRequested=!1,this._synchronizationTask=null,this._requestedTiles=new Array}destroy(){this._tileHandles.clear(),this._wanted.clear()}get updating(){return this._updateRequested||!(this._synchronizationTask?.finished??1)}get _boundingRect(){const{extent:t}=this;return null==t?null:f(t)}get _missingTiles(){const t=new Array,e=this._wanted,s=this._tileHandles;for(const o of e.values())null==s.get(o.id)?.featureData&&t.push(o);return t}onTileTreeChange({tiles:t}){this._requestedTiles=t,this._scheduleTilesSync()}_scheduleTilesSync(){if(this._updateRequested)return;this._updateRequested=!0;const t=this._synchronizationTask,e=i(async()=>{try{await c(()=>t?.finished??!0),await d(),this._updateRequested=!1,await this._synchronizeTiles()}finally{this._synchronizationTask===e&&(this._synchronizationTask=null)}});this._synchronizationTask=e}async _synchronizeTiles(){const t=this._requestedTiles,e=this._tileHandles,s=new Array;for(const u of t)e.has(u.id)||s.push(u);const o=new Array;for(const u of e.values()){const{id:e}=u;t.every(t=>t.id!==e)&&o.push(u.descriptor)}const a=this._tileHandles,{_boundingRect:i}=this,r=null!=i?s.filter(t=>!t.extent||p(i,t.extent)):s,n=this._wanted,l=new Array;for(const{id:u}of o)n.delete(u);for(const u of r)n.set(u.id,u);const c=this._missingTiles;for(const u of o){const{id:t}=u;if(c.some(t=>w(t,u)||w(u,t)))continue;const e=a.get(t);null!=e&&l.push(this._removeTile(e))}for(const u of r)l.push(this._addTile(u));const d=await Promise.allSettled(l);for(const u of d)\"rejected\"===u.status&&console.error(u.reason)}forEachTile(t){for(const e of this._tileHandles.values()){const s=e.featureData;null!=s&&t(s)}}*loadedTiles(){for(const t of this._tileHandles.values()){const e=t.featureData;null!=e&&(yield e)}}async _removeTile(s){s.loadTask.abort(),this._tileHandles.delete(s.id),this._validate();const{featureData:o}=s;if(null!=o){const s={stack:[],error:void 0,hasError:!1};try{t(s,await this.tileLocks.lock([o.tileId]),!1);const e=await this.createRemoveCommand(o.id);await(e?.execute())}catch(a){s.error=a,s.hasError=!0}finally{e(s)}}}async _addTile(t){const{_tileHandles:e}=this,s=e.get(t.id);if(null!=s){if(!T(s)||s.featureData.isFullyEnabled)return;return s.featureData.enableAll(),void await this._onTileLoad(s)}const o=new v(t,i(async e=>{const s=await this.loadTile(t,e);return r(e),new y(s)}));this._tileHandles.set(o.id,o);try{await o.loadTask.promise}catch(a){return void n(a)}g(o),await this._onTileLoad(o)}async _onTileLoad(s){const o={stack:[],error:void 0,hasError:!1};try{const{_wanted:e,_tileHandles:i,_missingTiles:r}=this,n=s.descriptor,l=new Array,c=new Array,d=new Array,u=new Set;for(const t of i.values()){if(t===s)continue;const{descriptor:o,id:a}=t;if(!(e.has(a)||r.some(t=>w(t,o)||w(o,t)))){i.delete(a),t.loadTask.abort();const{featureData:e}=t;null!=e&&l.push(e);continue}if(T(t)){if(w(n,o)){const e=t.featureData;for(const t of e.objectIds())u.add(t)}if(w(o,n)){const{featureData:e}=t;c.push(e)}}}u.size>0&&(s.featureData.disableObjectIds(u),this._validateRemoval(s.featureData,u)),this._validate(),d.push(s.featureData);const h=[...d,...l,...c].map(t=>t.tileId);t(o,await this.tileLocks.lock(h),!1);if(0!==c.length){const t=s.featureData,e=new Set(t.objectIds());for(const s of c)s.disableObjectIds(e),this._validateRemoval(s,e)}const f=l.map(t=>this.createRemoveCommand(t.id)),p=d.map(t=>this.createAddCommand(t)),y=c.map(t=>this.createUpdateCommand(t)),_=await Promise.all([...f,...p,...y]),v=m(_.filter(a));await(v?.execute())}catch(i){o.error=i,o.hasError=!0}finally{e(o)}}_validate(){if(!has(\"feature-pipeline-3d-test-validation\"))return;const t=new Array;for(const e of this._tileHandles.values()){if(!T(e))continue;const{featureData:s}=e;t.push({featureData:s,objectIds:new Set(s.enabledObjectIds())})}for(let e=0;e<t.length;++e){const{featureData:s,objectIds:o}=t[e];for(let a=e+1;a<t.length;++a){const{featureData:e,objectIds:i}=t[a];for(const t of i)if(o.has(t))throw new Error(`${s.id} and ${e.id} both contain ${t}.`)}}}_validateRemoval(t,e){if(has(\"feature-pipeline-3d-test-validation\"))for(const s of t.enabledObjectIds())if(e.has(s))throw new Error(`Failed to remove ${s} from ${t.id}!`)}};function w({lij:[t,e,s]},{lij:[o,a,i]}){const r=o-t;return r>=0&&e===a>>r&&s===i>>r}s([u()],_.prototype,\"updating\",null),s([u({constructOnly:!0})],_.prototype,\"loadTile\",void 0),s([u({constructOnly:!0})],_.prototype,\"createAddCommand\",void 0),s([u({constructOnly:!0})],_.prototype,\"createRemoveCommand\",void 0),s([u({constructOnly:!0})],_.prototype,\"createUpdateCommand\",void 0),s([u({constructOnly:!0})],_.prototype,\"tileLocks\",void 0),s([u()],_.prototype,\"extent\",void 0),s([u()],_.prototype,\"_boundingRect\",null),s([u()],_.prototype,\"_missingTiles\",null),s([u()],_.prototype,\"_updateRequested\",void 0),s([u()],_.prototype,\"_synchronizationTask\",void 0),_=s([h(\"esri.views.3d.layers.graphics.pipeline.Tile3DManager\")],_);class v{constructor(t,e){this.descriptor=t,this.loadTask=e}get id(){return this.descriptor.id}get featureData(){return this.loadTask.value}}function T(t){return null!=t.featureData}function g(t){if(!T(t))throw new Error}export{_ as Tile3DManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/arrayUtils.js\";import{disposable as r,makeHandle as t}from\"../../../../../core/handleUtils.js\";import{createResolver as s}from\"../../../../../core/promiseUtils.js\";class e{constructor(){this._previousActions=new Map}async lock(e){const{_previousActions:i}=this,l=e.map(o=>i.get(o)).filter(o),c=Promise.allSettled(l),a=s(),n=t(()=>a.resolve()),m=a.promise.finally(()=>{for(const o of e)i.get(o)===m&&i.delete(o)});for(const o of e)i.set(o,m);return await c,r(n)}}export{e as TileLocks};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{EventEmitter as t}from\"../../../../../../core/Evented.js\";import{baseObjectMemory as e,estimateNumberMemory as i}from\"../../../../../../core/memoryEstimations.js\";import{PooledRBush as r,BBox as s}from\"../../../../../../core/libs/rbush/PooledRBush.js\";import{getCentroidOptimizedGeometry as n}from\"../../../../../../layers/graphics/centroid.js\";import o from\"../../../../../../layers/graphics/OptimizedGeometry.js\";class u{constructor(t,e){this._index=t,this._view=e}get usedMemory(){return e+i}getObjectId(){return this._view.getObjectId(this._index)}getAttribute(t){return this._view.getAttribute(this._index,t)}getAttributeAsTimestamp(t){return this._view.getAttributeAsTimestamp(this._index,t)}getAttributes(){return this._view.getAttributes(this._index)}getOptimizedGeometry(){return this._view.getOptimizedGeometry(this._index)}getCentroid(t){return this._view.getCentroid(this._index,t)}getBounds(){return this._view.getBounds(this._index)}getBoundingBox(){return this._view.getBoundingBox(this._index)}cloneWithGeometry(t){return new d(this._index,this._view,t)}}class d extends u{constructor(t,e,i){super(t,e),this._geometryOverride=i}getOptimizedGeometry(){return this._geometryOverride}getCentroid(t){return n(new o,this._geometryOverride,t.hasZ,t.hasM)}}class a{constructor(t,e){this.featureData=t,this.bounds=e}}class h{constructor(){this._tileBounds=new Map,this.events=new t,this.featureAdapter=m.shared}get usedMemory(){return e+e*this._tileBounds.size}addTile(t){const{featureCount:e}=t;if(0===e)return;const i=new r(9,e=>t.getBounds(e)),s=new Array;for(let r=0;r<e;++r)s[r]=r;i.load(s),this._tileBounds.set(t.id,new a(t,i)),this.events.emit(\"changed\")}removeTile(t){this._tileBounds.delete(t),this.events.emit(\"changed\")}clear(){this._tileBounds.clear(),this.events.emit(\"changed\")}forEach(t){for(const{featureData:e,bounds:i}of this._tileBounds.values())i.all(i=>{e.getEnabled(i)&&t(new u(i,e))})}forEachInBounds(t,e){g.minX=t[0],g.minY=t[1],g.maxX=t[2],g.maxY=t[3];for(const{featureData:i,bounds:r}of this._tileBounds.values())r.search(g,t=>{i.getEnabled(t)&&e(new u(t,i))})}forEachBounds(t,e){for(const i of t)e(i.getBoundingBox())}getFullExtent(t){let e=1/0,i=1/0,r=-1/0,s=-1/0;for(const{bounds:n}of this._tileBounds.values()){const{minX:t,minY:o,maxX:u,maxY:d}=n.toJSON();e=Math.min(e,t),i=Math.min(i,o),r=Math.min(r,u),s=Math.min(s,d)}return{xmin:e,ymin:i,xmax:r,ymax:s,spatialReference:t}}}class m{static{this.shared=new m}getObjectId(t){return t.getObjectId()}getAttribute(t,e){return t.getAttribute(e)}getAttributeAsTimestamp(t,e){return t.getAttributeAsTimestamp(e)}getAttributes(t){return t.getAttributes()}getGeometry(t){return t.getOptimizedGeometry()}getCentroid(t,e){return t.getCentroid(e)}cloneWithGeometry(t,e){return t.cloneWithGeometry(e)}}const g=new s;export{u as FeatureHandle,h as TiledFeatureStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{baseArrayMemory as e,baseObjectMemory as t,estimateNumberMemory as s}from\"../../../../../core/memoryEstimations.js\";class n{constructor(n,a,r){this.descriptor=n,this._pages=a,this._pageSize=r;const i=e+a.reduce((e,{usedMemory:t})=>e+t,0),d=3*s;this.usedMemory=t+i+d,this.featureCount=a.reduce((e,t)=>e+t.featureCount,0)}get id(){return this.descriptor.id}getObjectId(e){const{pageIndex:t,featurePageIndex:s}=this._translateIndex(e);return this._pages[t].getObjectId(s)}getAttribute(e,t){const{pageIndex:s,featurePageIndex:n}=this._translateIndex(e);return this._pages[s].getAttribute(n,t)}getAttributeAsTimestamp(e,t){const{pageIndex:s,featurePageIndex:n}=this._translateIndex(e);return this._pages[s].getAttributeAsTimestamp(n,t)}getAttributes(e){const{pageIndex:t,featurePageIndex:s}=this._translateIndex(e);return this._pages[t].getAttributes(s)}getCoordinates(e,t,s){const{pageIndex:n,featurePageIndex:a}=this._translateIndex(e);this._pages[n].getCoordinates(a,t,s)}getOptimizedGeometry(e){const{pageIndex:t,featurePageIndex:s}=this._translateIndex(e);return this._pages[t].getOptimizedGeometry(s)}getCentroid(e,t){const{pageIndex:s,featurePageIndex:n}=this._translateIndex(e);return this._pages[s].getCentroid(n,t)}getBounds(e){const{pageIndex:t,featurePageIndex:s}=this._translateIndex(e);return this._pages[t].getBounds(s)}getBoundingBox(e){const{pageIndex:t,featurePageIndex:s}=this._translateIndex(e);return this._pages[t].getBoundingBox(s)}getObjectIdsArray(e,t=this._allFeatureIndices(),s=0){let n=s;for(const{page:a,indices:r}of this._batchPageIndices(t))n=a.getObjectIdsArray(e,r,n);return n}getCoordinatesArray(e,t=this._allFeatureIndices(),s=0){let n=s;for(const{page:a,indices:r}of this._batchPageIndices(t))n=a.getCoordinatesArray(e,r,n);return n}*objectIds(e=this._allFeatureIndices()){for(const{page:t,indices:s}of this._batchPageIndices(e))for(const e of t.objectIds(s))yield e}*_allFeatureIndices(){const{featureCount:e}=this;for(let t=0;t<e;++t)yield t}_translateIndex(e){const{_pageSize:t}=this;return{pageIndex:Math.floor(e/t),featurePageIndex:e%t}}*_batchPageIndices(e){const t=new Array;{let s=0,n=new Array;for(const a of e){const{pageIndex:e,featurePageIndex:r}=this._translateIndex(a);s!==e&&(0!==n.length&&t.push({pageIndex:s,indices:n}),s=e,n=[]),n.push(r)}0!==n.length&&t.push({pageIndex:s,indices:n})}const{_pages:s}=this;for(const{pageIndex:n,indices:a}of t)yield{page:s[n],indices:a}}}export{n as Tile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/Error.js\";import t from\"../../../../../../core/pbf.js\";import{create as r}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{BBox as s}from\"../../../../../../core/libs/rbush/PooledRBush.js\";import{fromValues as n}from\"../../../../../../geometry/support/aaBoundingBox.js\";import{normalizeTransform as o}from\"../../../../../../geometry/support/quantizationUtils.js\";import i from\"../../../../../../layers/graphics/OptimizedGeometry.js\";import a from\"../../../../../../layers/support/FieldsIndex.js\";import{parseField as d,parseTransform as c}from\"../../../../../../rest/query/operations/pbfFeatureServiceParser.js\";class u{constructor(e){this._reader=new t(new Uint8Array(e),new DataView(e)),this._index=g(this._reader)}get featureCount(){return this._index.featureIndices.length}get exceededTransferLimit(){return this._index.exceededTransferLimit}get usedMemory(){return this._reader.usedMemory}getObjectId(e){return this.getAttribute(e,this._index.objectIdFieldName)}getAttribute(e,t){const{_index:{fieldsIndex:r,attributeIndices:s}}=this,n=r.get(t)?.index;if(null==n)return;const o=s[e*r.fields.length+n],i=this._reader;return i.move(o),m(i)}getAttributeAsTimestamp(e,t){const r=this.getAttribute(e,t);return\"string\"==typeof r?new Date(r).getTime():\"number\"==typeof r||null==r?r:null}getAttributes(e){const{_index:{fieldsIndex:t,attributeIndices:r}}=this,s=e*t.fields.length,n=this._reader,o={};for(const i of t.fields){const e=r[s+i.index];n.move(e),o[i.name]=m(n)}return o}getCoordinates(e,t,r=0){const s=this._reader,{transform:n,featureIndices:o}=this._index,{scale:i,translate:a}=n;s.move(o[e]),this._readCoordinates(i,a,t,r)}getOptimizedGeometry(e){const t=r();return this.getCoordinates(e,t),new i([],t)}getCentroid(e,{hasZ:t,hasM:r}){this.getCoordinates(e,p);const[s,n,o]=p,a=[s,n];return t&&(a[3]=o),r&&(a[t?4:3]=0),new i([],a)}getBounds(e){this.getCoordinates(e,p);const[t,r]=p,n=new s;return n.minX=t,n.minY=r,n.maxX=t,n.maxY=r,n}getBoundingBox(e){this.getCoordinates(e,p);const[t,r,s]=p;return n(t,r,s,t,r,s)}getObjectIdsArray(e,t=this._allFeatureIndices(),r=0){const s=this._reader,{objectIdFieldName:n,attributeIndices:o,fieldsIndex:i}=this._index,a=i.get(n).index,d=i.fields.length;for(const c of t){const t=o[c*d+a];s.move(t),e[r++]=m(s)}return r}getCoordinatesArray(e,t=this._allFeatureIndices(),r=0){const s=this._reader,{transform:n,featureIndices:o}=this._index,{scale:i,translate:a}=n;for(const d of t){const t=o[d];s.move(t),r=this._readCoordinates(i,a,e,r)}return r}*objectIds(e=this._allFeatureIndices()){const t=this._reader,{objectIdFieldName:r,attributeIndices:s,fieldsIndex:n}=this._index,o=n.get(r).index,i=n.fields.length;for(const a of e){const e=s[a*i+o];t.move(e),yield m(t)}}*_allFeatureIndices(){const{featureCount:e}=this;for(let t=0;t<e;++t)yield t}_readCoordinates([e,t,r],[s,n,o],i,a){const d=2,c=3,u=this._reader,g=u.getLength(),l=u.pos()+g;for(;u.pos()<l&&u.next();)switch(u.tag()){case d:{const d=u.getLength(),g=u.pos()+d;for(;u.pos()<g&&u.next();)if(u.tag()===c)u.getUInt32(),i[a++]=s+e*u.getSInt64(),i[a++]=n+t*u.getSInt64(),i[a++]=o+r*u.getSInt64();else u.skip();break}default:u.skip()}return a}}function g(e){const t=2;for(;e.next();){if(e.tag()===t)return l(e.getMessage());e.skip()}h()}function l(e){const t=1;for(;e.next();){if(e.tag()===t)return f(e.getMessage());e.skip()}h()}function f(e){const t=9,r=12,s=13,n=15,i=7,u=0,g=10,l=1,f=1;let m,p,x=!1,I=!1,b=0;const _=new Array,w=new Array,y=new Array;for(;e.next();)switch(e.tag()){case f:p=e.getString();break;case i:e.getEnum()!==u&&h();break;case t:x=e.getBool()??!1;break;case r:m=o(e.processMessage(c));break;case s:{const t=e.processMessage(d);t.index=b++,_.push(t);break}case n:{w.push(e.pos());const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r&&e.next();)if(e.tag()===l)y.push(e.pos()),e.skip();else e.skip();break}case g:I=e.getBool()??!1;break;default:e.skip()}const j=new a(_);return null!=m&&I&&null!=p&&j.has(p)||h(),{transform:m,exceededTransferLimit:x,fieldsIndex:j,objectIdFieldName:p,featureIndices:w,attributeIndices:y}}function h(){const t=new e(\"pbf-parsing-failed\",\"Error while parsing PBF\",new Error);throw console.error(t),t}function m(e){const t=1,r=2,s=3,n=4,o=5,i=6,a=7,d=8,c=9,u=e.getLength(),g=e.pos()+u;for(;e.pos()<g&&e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case n:return e.getSInt32();case o:return e.getUInt32();case i:return e.getInt64();case a:return e.getUInt64();case d:return e.getSInt64();case c:return e.getBool();default:return e.skip(),null}return null}const p=r();export{u as PBFPointFeatureSetView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e}from\"../../../../../../core/promiseUtils.js\";import{toExtent as t}from\"../../../../../../geometry/support/aaBoundingRect.js\";import{executeQueryPBFBuffer as r}from\"../../../../../../rest/query/operations/query.js\";import{Tile as o}from\"../Tile.js\";import{PBFPointFeatureSetView as s}from\"../featureSet/PBFPointFeatureSetView.js\";const i=8e3,a=4,n=4;class c{constructor(e,t,r,o,s){this.spatialReference=e,this.url=r,this.objectIdField=o,this.capabilities=s;const{supportsMaxRecordCountFactor:n,maxRecordCount:c}=this.capabilities.query,u=n?a:1,p=(c??i)*u;this._pageSize=Math.min(i,p);const l=t.clone();l.cacheHint=!0,l.resultType=\"tile\",l.outSpatialReference=e,l.returnGeometry=!0,l.returnZ=!0,l.maxRecordCountFactor=u,l.num=this._pageSize,l.outFields=[o],this._baseQuery=l}async fetch(r,s){const{spatialReference:i,_pageSize:a}=this,c=t(r.extent,i),u=this._baseQuery.clone();u.geometry=c;const p=new Array;let l=0,h=!1,m=1;for(;!h;){const t=[];for(let e=0;e<m;++e)t.push(this._fetchPage(u,l++,s));const r=await Promise.all(t);e(s);for(const e of r){const t=0!==e.featureCount;h||=!e.exceededTransferLimit||!t,t&&p.push(e)}m=Math.min(m+1,n)}return new o(r,p,a)}async _fetchPage(t,o,i){const a=t.clone();a.start=o*this._pageSize;const n=(await r(this.url,a,{signal:i})).data;return e(i),new s(n)}}export{c as Tile3DFetcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{copy as e,invert as r,transpose as t}from\"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{getContinuousIndexArray as a}from\"../../../../../../geometry/support/Indices.js\";import{PipelineCommand as i}from\"../PipelineCommand.js\";import{generateId as s}from\"../utils.js\";import{BoundingInfo as o}from\"../../../../webgl-engine/lib/BoundingInfo.js\";import{DefaultMaterial as d}from\"../../../../webgl-engine/materials/DefaultMaterial.js\";import{HUDMaterial as m}from\"../../../../webgl-engine/materials/HUDMaterial.js\";class f{constructor(e,r){this._mainThreadDelegate=r,this._bufferWriters=new Map,this.globalViewingMode=1===e}createRenderCommandBuffer(e=[],r=[]){return{commands:e,transferList:r}}mergeRenderCommandBuffers(e){const r=this.createRenderCommandBuffer();for(const t of e)null!=t&&(r.commands.push(...t.commands),r.transferList.push(...t.transferList));return r}async createTexture(e){const{data:r,parameters:t}=e();return await this._mainThreadDelegate.createTexture(r,t)}async releaseTexture(e){const r=this._destroyTexture(e);return new i(this,r,[])}_destroyTexture(e){return{commands:[{id:\"destroy-texture\",textureId:e}],transferList:[]}}async createMaterial(e){const{type:r,parameters:t}=e,n=s(\"material\");let a,i;switch(r){case\"default\":a=new d(e.parameters,{spherical:this.globalViewingMode}),i={type:r,materialId:n,parameters:e.parameters};break;case\"hud\":a=new m(t,this.globalViewingMode),i={type:r,materialId:n,parameters:e.parameters}}return this._bufferWriters.set(n,a.createBufferWriter()),await this._mainThreadDelegate.createMaterial(i),n}destroyMaterial(e){return{commands:[{id:\"destroy-material\",materialId:e}],transferList:[]}}updateMaterial(e){return{commands:[{...e,id:\"update-material\"}],transferList:[]}}async createDirectRenderer(e){return await this._mainThreadDelegate.createDirectRenderer(e),e}async destroyDirectRenderer(e){await this._mainThreadDelegate.destroyDirectRenderer(e)}addDirectRendererGeometry(e,r,t,n){const{materialId:a}=r;if(null==this._bufferWriters.get(a))throw new Error(`no bufferwriter found for material ${a}`);const{renderGeometryBuffer:i,renderGeometryBufferItems:s}=this.createRenderGeometryBuffer(r,t,n);return this.addDirectRendererGeometryBuffer(a,e,i,s,t)}updateDirectRendererGeometry(e,r,t,n){const{materialId:a}=r;if(null==this._bufferWriters.get(a))throw new Error(`no bufferwriter found for material ${a}`);const{renderGeometryBuffer:i,renderGeometryBufferItems:s}=this.createRenderGeometryBuffer(r,t,n);return this.updateDirectRendererGeometryBuffer(a,e,i,s,t)}addDirectRendererGeometryBuffer(e,r,t,n,a){const{objectIds:i,visibilities:s}=n;return{commands:[{id:\"add-direct-renderer-geometry-buffer\",rendererId:e,groupId:r,renderGeometryBuffer:t,renderGeometryBufferItems:n,localOrigin:a}],transferList:[t.data,i.buffer,s.buffer]}}updateDirectRendererGeometryBuffer(e,r,t,n,a){const{objectIds:i,visibilities:s}=n;return{commands:[{id:\"update-direct-renderer-geometry-buffer\",rendererId:e,groupId:r,renderGeometryBuffer:t,renderGeometryBufferItems:n,localOrigin:a}],transferList:[t.data,i.buffer,s.buffer]}}removeDirectRendererGeometryBuffer(e,r){return{commands:[{id:\"remove-direct-renderer-geometry-buffer\",rendererId:e,groupId:r}],transferList:[]}}async createLodRenderer(e){const r=s(\"lod-renderer\"),t=new Set,n={levels:e.levels.map(e=>({components:e.components.map(e=>{const r=e.attributes.get(\"position\");if(!r||0===r.indices.length)throw new Error(\"positions attribute expected\");const n=3,i=a(r.indices.length/n),s=new o(i,n,r);if(null==this._bufferWriters.get(e.materialId))throw new Error(\"writer not found\");const{renderGeometryBuffer:d}=this.createRenderGeometryBuffer(e,null);t.add(d.data);return{materialId:e.materialId,renderGeometryBuffer:d,boundingInfo:{bbMax:s.bbMax,bbMin:s.bbMin}}}),minScreenSpaceRadius:e.minScreenSpaceRadius}))};return await this._mainThreadDelegate.createLodRenderer(r,n,Array.from(t)),r}destroyLodRenderer(e){return{commands:[{id:\"destroy-lod-renderer\",rendererId:e}],transferList:[]}}addLodInstances(e,r,t){return{commands:[{id:\"add-lod-instances\",rendererId:e,groupId:r,data:t}],transferList:[t.featureIds.buffer,t.globalTransforms.buffer,t.localTransforms.buffer,t.visibility.buffer]}}removeLodInstances(e,r){return{commands:[{id:\"remove-lod-instances\",rendererId:e,groupId:r}],transferList:[]}}updateLodInstancesData(e,r,t){return{commands:[{id:\"update-lod-instance-data\",rendererId:e,groupId:r,globalTransforms:t}],transferList:[t.buffer]}}updateVisibility(e,r,t){return{commands:[{id:\"update-visibility\",rendererId:e,groupId:r,visibility:t}],transferList:[t.buffer]}}async dispatchRenderCommands(e){0!==e.commands.length&&await this._mainThreadDelegate.executeRenderCommands(e)}createRenderGeometryBuffer(n,a,i){const{materialId:s,visibilities:o,objectIds:d}=n,m=this._bufferWriters.get(s);if(null==m)throw new Error(\"no registered bufferWriter for material found\");let f=null;if(n.transformation&&a)e(u,n.transformation),u[12]-=a[0],u[13]-=a[1],u[14]-=a[2],f=u;else{if(a)throw new Error(\"not implemented\");n.transformation&&(f=n.transformation)}let b=null;f&&(r(l,u),t(l,l),b=l);const y=n.attributes,h=m.elementCount(y),p=i?m.instanceLayout:m.layout;if(!p)throw new Error(\"Missing layout\");const g=p.stride/4;h>Math.floor(c/g)&&console.warn(\"geometry with very large number of elements encountered\");const I=p.createBuffer(h),w=0,B=m.write(f,b,y,n.olidColor,I,w);if(null==B)throw new Error(\"Bufferwriter.write does not provide item information.\");if(o.length!==B.numItems||d.length!==B.numItems)throw new Error(\"Unexpected mismatch between number of RenderGeometryBufferItems and provided objectIds/visibility flags.\");return{renderGeometryBuffer:{data:I.buffer,elementCount:h},renderGeometryBufferItems:{objectIds:d,visibilities:o,ranges:{numVertices:B.numVerticesPerItem,numItems:B.numItems}}}}async setBaseInstance(e,r){await this._mainThreadDelegate.setBaseInstance(e,r)}}const u=n(),l=n(),c=16777216/4;export{f as RenderCommandContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{initializeProjection as t}from\"../projectionUtils.js\";import{projectVectorToVector as e}from\"./projectVectorToVector.js\";function o(r,t,o){return!!e(r,t,i,o.spatialReference)&&(o.x=i[0],o.y=i[1],o.z=i[2],!0)}async function c(r,e,c,i){return await t(e,c.spatialReference,null,i),o(r,e,c)}const i=r();export{o as projectVectorToPoint,c as projectVectorToPointAsync};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{copy as t}from\"../../core/libs/gl-matrix-2/math/mat4.js\";import{j as e,d as n,n as o,i as r,f as i}from\"../../chunks/vec32.js\";import{create as u}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as a}from\"../ellipsoidUtils.js\";import s from\"../SpatialReference.js\";import{getSphericalPCPF as c}from\"../spatialReferenceEllipsoidUtils.js\";import{f as l,b as f}from\"../../chunks/boundedPlane.js\";import{f as p,s as v}from\"../../chunks/sphere.js\";function m(t){const{value:e,operations:n}=t;return{operations:n,value:n.create(e)}}function d(t,e,n){return t.operations.setExtent(t.value,e,n.value),n}function h(t,e){return t.operations.getExtent(t.value,e),e}function j(t){return{operations:t,value:t.create()}}function x(t,e,n=j(t)){return n.operations=t,t.copy(e,n.value),n}function A(t){return x(v,p(0,0,0,a(t).radius))}const b=2**50;function g(){return x(f,l([0,0,0],[b,0,0],[0,b,0]))}function P(t,e,n){return t.operations.axisAt(t.value,e,2,n)}function R(t,e,n,o){return t.operations.axisAt(t.value,e,n,o)}function S(t,e,n){return t.operations.intersectRay(t.value,e,n)}function k(t,e,n){return t.operations.closestPoint(t.value,e,n)}function y(t,e,n){return t.operations.intersectRayClosestSilhouette(t.value,e,n)}function E(t,e,n){return t.operations.closestPointOnSilhouette(t.value,e,n)}function C(t,e){return t.operations.distanceToSilhouette(t.value,e)}function U(t,e){return t.operations.altitudeAt(t.value,e)}function G(t,e,n,o){return t.operations.setAltitudeAt(t.value,e,n,o)}function O(n,o,r,i){return o!==i&&t(i,o),e(q,i[12],i[13],i[14]),G(n,q,r,q),i[12]=q[0],i[13]=q[1],i[14]=q[2],i}function T(t,e,n){return t.operations.elevate(t.value,e,n.value)}const q=u();function w(t,e,n,o,r){return r[0]=i(t,e),r[1]=i(t,n),r[2]=i(t,o),r}function z(t,e,i,u,a){n(i,t),n(D,e),o(D,D),r(u,D,i),r(a,u,i)}function B(t,e){return t?c(e):e.isGeographic?s.PlateCarree:e}const D=u();export{U as altitudeAt,R as axisAt,k as closestPoint,E as closestPointOnSilhouette,z as coordinateSystemFromOneAxisAndNormalVector,m as create,j as createFromOperations,A as createGlobal,g as createLocal,C as distanceToSilhouette,T as elevate,x as fromValues,h as getExtent,S as intersectRay,y as intersectRayClosestSilhouette,P as normalAt,B as renderSRFromViewSR,G as setAltitudeAt,O as setAltitudeOfTransformation,d as setExtent,w as vectorCoordinates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{rad2deg as t}from\"../../../core/mathUtils.js\";import{getMetersPerUnitForSR as e,getMetersPerCartesianUnitForSR as o}from\"../../../core/unitUtils.js\";import{set as r}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{d as i}from\"../../../chunks/vec32.js\";import{getReferenceEllipsoid as s}from\"../../../geometry/ellipsoidUtils.js\";import{getSphericalPCPF as n}from\"../../../geometry/spatialReferenceEllipsoidUtils.js\";import{projectPointToVector as a}from\"../../../geometry/projection/projectPointToVector.js\";import{projectVectorToPoint as m}from\"../../../geometry/projection/projectVectorToPoint.js\";import{projectVectorToVector as c}from\"../../../geometry/projection/projectVectorToVector.js\";import{create as l}from\"../../../geometry/support/aaBoundingRect.js\";import{create as p,setExtent as d,getExtent as h,altitudeAt as u,setAltitudeAt as y,setAltitudeOfTransformation as f,normalAt as g,axisAt as S,elevate as j,intersectRayClosestSilhouette as _,intersectRay as P,createGlobal as w,createLocal as A}from\"../../../geometry/support/coordinateSystem.js\";import{intersectRay as C}from\"../../../geometry/support/plane.js\";import{angleAroundAxis as R}from\"../../../geometry/support/vector.js\";import{sv3d as M}from\"../../../geometry/support/vectorStacks.js\";import{isDehydratedPoint as U}from\"../../../layers/graphics/dehydratedFeatureUtils.js\";class v{constructor(t,e,o,r){this.viewingMode=t,this.spatialReference=e,this.unitInMeters=o,this._coordinateSystem=r,this._tmpCoordinateSystem=p(r),this.referenceEllipsoid=s(e),this.sphericalPCPF=n(e)}set extent(t){t&&d(this._coordinateSystem,t,this._coordinateSystem)}get extent(){return h(this._coordinateSystem,l())}getAltitude(t){return u(this._coordinateSystem,t)}setAltitude(t,e,o=t){return y(this._coordinateSystem,o,e,t)}setAltitudeOfTransformation(t,e){f(this._coordinateSystem,e,t,e)}worldUpAtPosition(t,e){return g(this._coordinateSystem,t,e)}worldBasisAtPosition(t,e,o){return S(this._coordinateSystem,t,e,o)}basisMatrixAtPosition(t,e){const o=this.worldBasisAtPosition(t,0,M.get()),i=this.worldBasisAtPosition(t,1,M.get()),s=this.worldBasisAtPosition(t,2,M.get());return r(e,o[0],o[1],o[2],0,i[0],i[1],i[2],0,s[0],s[1],s[2],0,0,0,0,1),e}headingAtPosition(e,o){const r=this.worldUpAtPosition(e,M.get()),i=this.worldBasisAtPosition(e,1,M.get()),s=R(o,i,r);return t(s)}intersectManifoldClosestSilhouette(t,e,o){return j(this._coordinateSystem,e,this._tmpCoordinateSystem),_(this._tmpCoordinateSystem,t,o),o}intersectManifold(t,e,o){j(this._coordinateSystem,e,this._tmpCoordinateSystem);const r=M.get();return P(this._tmpCoordinateSystem,t,r)?i(o,r):null}intersectInfiniteManifold(t,e,o){if(1===this.viewingMode)return this.intersectManifold(t,e,o);j(this._coordinateSystem,e,this._tmpCoordinateSystem);const r=this._tmpCoordinateSystem.value,s=M.get();return C(r.plane,t,s)?i(o,s):null}toRenderCoords(t,e,o){return U(t)?a(t,e,this.spatialReference):c(t,e,o,this.spatialReference)}fromRenderCoords(t,e,o=null){return U(e)?(null!=o&&(e.spatialReference=o),m(t,this.spatialReference,e)?e:null):c(t,this.spatialReference,e,o)?e:null}static create(t,o){switch(t){case 2:return new v(2,o,e(o),A());case 1:return new v(1,o,1,w(o))}}static renderUnitScaleFactor(t,e){return o(t)/o(e)}}export{v as RenderCoordsHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__addDisposableResource as e,__disposeResources as t,__decorate as r}from\"tslib\";import{EventedAccessor as a}from\"../../../../../core/Evented.js\";import{throwIfAborted as n}from\"../../../../../core/promiseUtils.js\";import{watch as i,initial as s}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import c from\"../../../../../geometry/Extent.js\";import{initializeProjection as d,project as m}from\"../../../../../geometry/projectionUtils.js\";import u from\"../../../../../geometry/SpatialReference.js\";import{QueryEngine as h}from\"../../../../../layers/graphics/data/QueryEngine.js\";import y from\"../../../../../rest/support/Query.js\";import{FeatureProcessingContext as p}from\"./FeatureProcessingContext.js\";import{PipelineCommand as f}from\"./PipelineCommand.js\";import{Tile3DManager as _}from\"./Tile3DManager.js\";import{TileLocks as C}from\"./TileLocks.js\";import{TiledFeatureStore as w}from\"./featureSet/TiledFeatureStore.js\";import{Tile3DFetcher as g}from\"./fetching/Tile3DFetcher.js\";import{RenderCommandContext as x}from\"./rendering/RenderCommandContext.js\";import{RenderCoordsHelper as v}from\"../../../support/RenderCoordsHelper.js\";let R=class extends a{constructor(){super(...arguments),this.remoteClient=null,this._featureStore=new w,this._tileLocks=new C,this._tileManager=null,this._renderer=null,this._fetcher=null,this._queryEngine=null,this._defaultQueryJSON=null,this._mainThreadDelegate=null,this._viewSpatialReference=null,this._renderCommandContext=null,this._context=null}get updating(){return this._tileManager.updating}destroy(){this._featureStore.clear(),this._tileManager?.destroy()}async setup({viewSpatialReference:e,renderSpatialReference:t,viewingMode:r,layerInfo:a,layerViewInfo:n}){const o=u.fromJSON(e);this._viewSpatialReference=o;const l=u.fromJSON(t);this._fetcher=new g(this._viewSpatialReference,y.fromJSON(a.baseQuery),a.url,a.objectIdField,a.capabilities),this._queryEngine=new h({hasZ:!0,hasM:!1,geometryType:\"esriGeometryPoint\",featureIdInfo:{type:\"object-id\",fieldName:a.objectIdField},fieldsIndex:a.fieldIndex,availableFields:[a.objectIdField],spatialReference:e,featureStore:this._featureStore,timeInfo:a.timeInfo}),this._mainThreadDelegate={createTexture:async(e,t)=>{const r={data:e,parameters:t};return await this.remoteClient.invoke(\"createTexture\",r,{transferList:[e.buffer]})},releaseTexture:async e=>{const t={uid:e};await this.remoteClient.invoke(\"releaseTexture\",t)},createMaterial:async e=>{const t={materialJSON:e};await this.remoteClient.invoke(\"createMaterial\",t)},destroyMaterial:async e=>{const t={materialId:e};await this.remoteClient.invoke(\"destroyMaterial\",t)},createDirectRenderer:async e=>{const t={materialId:e};await this.remoteClient.invoke(\"createDirectRenderer\",t)},destroyDirectRenderer:async e=>{const t={materialId:e};await this.remoteClient.invoke(\"destroyDirectRenderer\",t)},createLodRenderer:async(e,t,r)=>{const a={rendererId:e,lodRenderGeometry:t};await this.remoteClient.invoke(\"createLoDRenderer\",a,{transferList:r})},destroyLodRenderer:async e=>{const t={rendererId:e};await this.remoteClient.invoke(\"destroyLoDRenderer\",t)},executeRenderCommands:async e=>{const t={commands:e.commands};await this.remoteClient.invoke(\"dispatchRenderCommands\",t,{transferList:e.transferList})},applyElevationAlignmentTo:async e=>{const t={mapPoints:e};return await this.remoteClient.invoke(\"applyElevationAlignment\",t,{transferList:[e.buffer]})},setBaseInstance:async(e,t)=>{const r={rendererId:e,baseInstance:t};await this.remoteClient.invoke(\"setBaseInstance\",r,{transferList:null!=t?[t.data]:void 0})}};const f=v.create(r,l),C=new x(r,this._mainThreadDelegate);this._renderCommandContext=C;const w=new p(o,l,this._mainThreadDelegate,f,C,a,n);this._context=w,this._renderer=w.symbolRendererFactory.createSymbolRendererFromJSON(a.renderer),this._defaultQueryJSON=new y({outSpatialReference:o}).toJSON();let R=null;if(null!=a.fullExtent){const e=c.fromJSON(a.fullExtent);await d(e.spatialReference,o),R=m(e,o)}return this._tileManager=new _({loadTile:(e,t)=>this._fetcher.fetch(e,t),createAddCommand:(e,t)=>this._createAddFeatureDataCommand(e,t),createRemoveCommand:e=>this._createRemoveFeatureDataCommand(e),createUpdateCommand:(e,t)=>this._createUpdateFeatureDataVisibilityCommand(e,t),tileLocks:this._tileLocks,extent:R}),this.addHandles(i(()=>this.updating,e=>{this.emit(\"notify-updating\",{updating:e})}),s),null!=this._renderer&&await this._renderer.load(),j}async executeQuery(e,t){return{result:await this._queryEngine.executeQuery(this._ensureQuery(e),t)}}async executeQueryForIds(e,t){const r=await this._queryEngine.executeQueryForIdSet(this._ensureQuery(e),t);return{result:Array.from(r)}}async executeQueryForCount(e,t){return{result:await this._queryEngine.executeQueryForCount(this._ensureQuery(e),t)}}async executeQueryForExtent(e,t){return{result:await this._queryEngine.executeQueryForExtent(this._ensureQuery(e),t)}}async executeQueryForLatestObservations(e,t){return{result:await this._queryEngine.executeQueryForLatestObservations(this._ensureQuery(e),t)}}async executeAttributeBinsQuery(e,t){return{result:await this._queryEngine.executeAttributeBinsQuery(e,t)}}onTileTreeChange(e){return this._tileManager.onTileTreeChange(e),Promise.resolve(j)}async onElevationChange(e){return j}async onLayerViewOpacityChange(e){const{_context:t,_renderer:r}=this;if(t.layerViewInfo.fullOpacity=e,null==r)return j;const a=await r.createUpdateLayerViewOpacityCommand(e);return await a.execute(),j}async onRendererChange(r){const{_context:a}=this,n=a.symbolRendererFactory.createSymbolRendererFromJSON(r);await n.load();const i=this._renderer;this._renderer=n;const s=[...this._tileManager.loadedTiles()],o=s.map(e=>e.tileId);{const r={stack:[],error:void 0,hasError:!1};try{e(r,await this._tileLocks.lock(o),!1);const t=s.flatMap(e=>[i.createRemoveCommand(e.id),n.createAddCommand(e)]),l=await Promise.all(t),c=a.joinPipelineCommands(l);await c.execute()}catch(c){r.error=c,r.hasError=!0}finally{t(r)}}const l=await i.createDestroyCommand();return await l.execute(),j}async _createAddFeatureDataCommand(e,t){const r=this._featureStore,a=this._renderer;let i;return i=null!=a?await a.createAddCommand(e):f.create(this._renderCommandContext),n(t),i.appendPipelineStateCommand(()=>{r.addTile(e)}),i}async _createRemoveFeatureDataCommand(e){const t=this._featureStore,r=this._renderer;let a;return a=null!=r?await r.createRemoveCommand(e):f.create(this._renderCommandContext),a.appendPipelineStateCommand(()=>{t.removeTile(e)}),a}async _createUpdateFeatureDataVisibilityCommand(e,t){const r=this._renderer;let a;return a=null!=r?await r.createUpdateVisibilityCommand(e):f.create(this._renderCommandContext),n(t),a}_ensureQuery(e){return e??this._defaultQueryJSON}};r([o()],R.prototype,\"updating\",null),R=r([l(\"esri.views.3d.layers.graphics.pipeline.Feature3DPipelineWorker\")],R);const S=R,j={result:void 0};export{S as default};\n"],"names":["e","n","t","r","o","m","a","c","i","f","u","h$3","y","_","p","s","l","d","h","g","x","w","C","I","e$2","e$1","v$2","b","j","T","v","P","r$1","a$2","m$3","s$1","has","v$1","d$1","a$1","h$2","m$2","c$1","B","A","R","S","U","G","O","q","M"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAIA,MAAMA,GAAC;AAAA,EAAC,YAAY,GAAEC,GAAEC,GAAE;AAAC,SAAK,uBAAqB,GAAE,KAAK,sBAAoBD,GAAE,KAAK,wBAAsBC;AAAA,EAAC;AAAA,EAAC,OAAO,GAAE;AAAC,SAAK,qBAAqB,EAAE,mBAAmB,GAAE,KAAK,4BAA4B,EAAE,qBAAqB;AAAA,EAAC;AAAA,EAAC,qBAAqB,GAAE;AAAC,SAAK,oBAAoB,SAAS,KAAK,GAAG,EAAE,QAAQ,GAAE,KAAK,oBAAoB,aAAa,KAAK,GAAG,EAAE,YAAY;AAAA,EAAC;AAAA,EAAC,2BAA2B,GAAE;AAAC,SAAK,sBAAsB,KAAK,CAAC;AAAA,EAAC;AAAA,EAAC,4BAA4B,GAAE;AAAC,eAAUD,KAAK,EAAE,MAAK,2BAA2BA,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,UAAS;AAAC,eAAU,KAAK,KAAK,sBAAsB,GAAC;AAAG,UAAM,KAAK,qBAAqB,uBAAuB,KAAK,mBAAmB;AAAA,EAAC;AAAA,EAAC,OAAO,OAAOA,GAAE,IAAE,CAAA,GAAG;AAAC,WAAO,IAAID,GAAEC,GAAEA,EAAE,0BAAyB,GAAG,CAAC;AAAA,EAAC;AAAC;AAAC,SAASA,GAAED,GAAE;AAAC,SAAOA,EAAE,WAAN,IAAoB,OAAYA,EAAE,OAAO,CAAC,GAAEC,OAAK,EAAE,OAAOA,CAAC,GAAE,EAAE;AAAC;ACA1iB,SAASC,KAAG;AAAC,SAAO,IAAIC,GAAE,EAAC,UAAS,IAAIH,GAAE,EAAC,OAAM,IAAII,EAAE,KAAK,EAAC,CAAC,EAAC,CAAC;AAAC;AAAC,SAASH,KAAG;AAAC,SAAO,IAAII;AAAC;ACAM,SAASJ,GAAEE,GAAE;AAAC,QAAK,EAAC,cAAa,EAAC,IAAEA;AAAE,MAAO,MAAJ,EAAM,QAAO,IAAI;AAAY,QAAM,IAAE,IAAI,YAAY,CAAC;AAAE,SAAOA,EAAE,kBAAkB,CAAC,GAAE;AAAC;AAAC,SAASG,EAAEH,GAAE;AAAC,QAAK,EAAC,cAAa,EAAC,IAAEA;AAAE,MAAO,MAAJ,EAAM,QAAO,IAAI;AAAa,QAAM,IAAE,IAAI,aAAa,IAAE,CAAC;AAAE,SAAOA,EAAE,oBAAoB,CAAC,GAAE;AAAC;AAA2F,SAASI,GAAEJ,GAAED,GAAE;AAAC,QAAME,IAAED,EAAE,SAAO,GAAEF,IAAEC,EAAE,sBAAqBI,IAAEJ,EAAE,wBAAuBM,IAAE,IAAI,aAAa,IAAEJ,CAAC;AAAE,MAAG,CAACJ,GAAEG,GAAEF,GAAE,GAAEO,GAAEF,GAAE,GAAEF,CAAC,EAAE,OAAM,IAAI,MAAM,+BAA+B;AAAE,SAAOI;AAAC;AAAC,SAASC,GAAET,GAAEC,GAAE;AAAC,QAAMK,IAAEL,EAAE,sBAAqBO,IAAEP,EAAE,wBAAuB,EAAC,QAAOM,EAAC,IAAEP,GAAES,IAAEL,GAAEG,CAAC,GAAEG,IAAEP;AAAI,SAAOD,EAAE,CAACO,EAAE,CAAC,GAAEA,EAAE,CAAC,GAAE,CAAC,GAAEH,GAAEI,GAAEF,CAAC,GAAEE;AAAC;ACAt7B,SAASV,GAAEA,GAAE;AAAC,QAAMC,IAAE,oBAAI;AAAI,aAAS,CAAC,GAAE,CAAC,KAAID,EAAE,CAAAC,EAAE,IAAI,GAAE,EAAC,GAAG,GAAE,SAAQG,GAAE,EAAE,OAAO,EAAC,CAAC;AAAE,SAAOH;AAAC;ACA41B,IAAAU,KAAA,MAAO;AAAA,EAAC,YAAY,GAAE,GAAE;AAAC,SAAK,WAAS,MAAK,KAAK,eAAa,MAAK,KAAK,UAAQ,IAAG,KAAK,UAAQ,IAAG,KAAK,kBAAgB,MAAK,KAAK,iBAAe,MAAK,KAAK,cAAY,MAAK,KAAK,WAAS,GAAE,KAAK,eAAa;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,OAAM;AAAC,WAAa,KAAK,mBAAX,SAA6B,KAAK,kBAAgB,KAAK,UAAS,KAAK;AAAA,EAAe;AAAA,EAAC,WAAU;AAAC,SAAK,iBAAe;AAAA,EAAI;AAAA,EAAC,MAAM,QAAO;AAAC,UAAM,IAAE,KAAK,SAAS,sBAAqB,IAAE,MAAM,EAAE,cAAc,MAAIC,GAAE,QAAQ,CAAC;AAAE,SAAK,iBAAe;AAAE,UAAM,IAAE,EAAC,gBAAeN,GAAE,QAAO,eAAc,IAAG,eAAc,IAAG,OAAM,KAAK,cAAa,GAAG,cAAa,KAAK,oBAAmB,aAAY,GAAE,0BAAyBO,IAAE,WAAU,GAAE,8BAA6B,IAAG,sCAAqCC,GAAE,QAAQ,EAAC,GAAEN,IAAE,IAAI,WAAW,CAAC,GAAEP,IAAE,GAAEG,IAAE;AAAI,IAAAI,EAAE,CAAC,IAAEP,GAAEO,EAAE,CAAC,IAAEP,GAAEO,EAAE,CAAC,IAAEP,GAAEO,EAAE,CAAC,IAAEJ,GAAEI,EAAE,CAAC,IAAEJ,GAAEI,EAAE,CAAC,IAAEP,GAAEO,EAAE,CAAC,IAAEJ,GAAEI,EAAE,CAAC,IAAEJ,GAAE,KAAK,cAAY,MAAM,EAAE,eAAe,EAAC,MAAK,OAAM,YAAW,EAAC,CAAC,GAAE,MAAM,EAAE,qBAAqB,KAAK,WAAW,GAAE,MAAM,EAAE,gBAAgB,KAAK,aAAY,EAAC,MAAKI,EAAE,QAAO,cAAa,EAAC,CAAC,GAAE,KAAK,UAAQ;AAAA,EAAE;AAAA,EAAC,MAAM,iBAAiB,GAAE;AAAC,UAAK,EAAC,aAAY,GAAE,UAAS,EAAC,IAAE,MAAK,EAAC,sBAAqBA,EAAC,IAAE;AAAE,QAAS,KAAN,KAAQ,OAAM,IAAI,MAAM,kCAAkC;AAAE,UAAMP,IAAE,MAAM,KAAK,gBAAgB,CAAC;AAAE,QAASA,KAAN,KAAQ,QAAO,EAAE;AAAwB,UAAMG,IAAEW,GAAE,GAAE,CAAC;AAAO,WAAO,EAAE,sBAAsBP,EAAE,0BAA0B,EAAE,IAAGP,GAAEG,GAArE,EAAwE,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,gBAAgB,GAAE;AAAC,UAAK,EAAC,aAAYD,GAAE,UAASK,EAAC,IAAE,MAAK,EAAC,oBAAmB,EAAC,IAAEA,GAAE,EAAC,cAAaJ,EAAC,IAAE;AAAE,QAAOA,MAAJ,KAAaD,KAAN,KAAQ,QAAO;AAAK,UAAMG,IAAED,GAAE,CAAC,GAAEW,IAAET,EAAE,CAAC,GAAEQ,IAAE,MAAM,EAAE,0BAA0BC,CAAC,GAAEJ,IAAEK,GAAEF,GAAEP,CAAC,GAAEM,IAAE,IAAI,aAAa,CAAC,GAAE,GAAE,CAAC,CAAC,GAAED,IAAE,IAAI,aAAa,CAAC,KAAI,KAAI,KAAI,GAAG,CAAC,GAAEK,IAAE,IAAI,aAAa,CAAC,IAAG,EAAE,CAAC,GAAE,IAAE,IAAI,aAAa,CAAC,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEC,IAAE,IAAI,aAAa,CAAC,CAAC,CAAC,GAAEC,IAAE,IAAI,YAAYhB,CAAC;AAAE,aAAQF,IAAE,GAAEA,IAAEE,GAAE,EAAEF,EAAE,CAAAkB,EAAElB,CAAC,IAAEA;AAAE,UAAMmB,IAAE,IAAI,YAAYjB,CAAC;AAAE,aAAQF,IAAE,GAAEA,IAAEE,GAAE,EAAEF,EAAE,CAAAmB,EAAEnB,CAAC,IAAE;AAAE,UAAM,IAAE,CAAC,CAAC,YAAW,IAAIoB,EAAEV,GAAEQ,GAAE,GAAE,EAAE,CAAC,GAAE,CAAC,UAAS,IAAIE,EAAER,GAAEO,GAAE,GAAE,EAAE,CAAC,GAAE,CAAC,SAAQ,IAAIC,EAAET,GAAEQ,GAAE,GAAE,EAAE,CAAC,GAAE,CAAC,YAAW,IAAIC,EAAEH,GAAEE,GAAE,GAAE,EAAE,CAAC,GAAE,CAAC,QAAO,IAAIC,EAAEJ,GAAEG,GAAE,GAAE,EAAE,CAAC,GAAE,CAAC,2BAA0B,IAAIC,EAAE,GAAED,GAAE,GAAE,EAAE,CAAC,CAAC,GAAEE,IAAE,IAAI,WAAWnB,CAAC;AAAE,aAAE,mBAAmBmB,CAAC,GAAQ,EAAC,YAAWb,GAAE,CAAC,GAAE,WAAU,QAAO,gBAAeR,EAAC,GAAG,YAAWC,GAAE,WAAUG,GAAE,cAAaiB,EAAC;AAAA,EAAC;AAAA,EAAC,MAAM,oBAAoB,GAAE;AAAC,UAAK,EAAC,aAAY,GAAE,UAAS,EAAC,IAAE,MAAKf,IAAE,EAAE;AAAqB,WAAa,KAAN,OAAQ,EAAE,sBAAqB,IAAG,EAAE,sBAAsBA,EAAE,mCAAmC,GAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,8BAA8B,GAAE;AAAC,UAAK,EAAC,aAAY,GAAE,UAAS,EAAC,IAAE,MAAKA,IAAE,EAAE;AAAqB,QAAS,KAAN,KAAQ,QAAO,EAAE;AAAwB,UAAMP,IAAE,IAAI,WAAW,EAAE,YAAY;AAAE,WAAO,EAAE,mBAAmBA,CAAC,GAAE,EAAE,sBAAsBO,EAAE,iBAAiB,GAAE,EAAE,IAAGP,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,oCAAoC,GAAE;AAAC,UAAK,EAAC,UAAS,GAAE,aAAY,EAAC,IAAE,MAAKO,IAAE,EAAE;AAAqB,WAAa,KAAN,OAAQ,EAAE,0BAAwB,EAAE,sBAAsBA,EAAE,eAAe,EAAC,MAAK,OAAM,YAAW,GAAE,YAAW,EAAC,OAAM,KAAK,cAAa,GAAG,cAAa,KAAK,iBAAgB,EAAE,EAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,6BAA6B,GAAE;AAAC,UAAK,EAAC,aAAY,GAAE,UAAS,EAAC,IAAE,MAAK,EAAC,sBAAqBA,EAAC,IAAE,GAAE,EAAC,cAAaP,GAAE,IAAGG,EAAC,IAAE;AAAE,QAAS,KAAN,QAAaH,MAAJ,EAAM,QAAO,EAAE,sBAAqB;AAAG,UAAMK,IAAE,MAAM,KAAK,gBAAgB,CAAC;AAAE,QAASA,KAAN,KAAQ,QAAO,EAAE,sBAAqB;AAAG,UAAM,IAAES,GAAE,GAAE,CAAC;AAAO,WAAO,EAAE,sBAAsBP,EAAE,6BAA6BJ,GAAEE,GAAE,GAArE,EAAwE,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,uBAAsB;AAAC,UAAK,EAAC,gBAAe,GAAE,UAAS,EAAC,IAAE,MAAK,IAAE,EAAE;AAAqB,QAAIE;AAAE,WAAOA,IAAQ,KAAN,OAAQ,MAAM,EAAE,eAAe,CAAC,IAAEQ,EAAE,OAAO,CAAC,GAAER,EAAE,2BAA2B,MAAI,KAAK,SAAQ,CAAE,GAAEA;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,UAAMN,IAAE,KAAK,iBAAgB,GAAGC,IAAE,KAAK,cAAaK,IAAEL,GAAG,SAAS;AAAM,QAASK,KAAN,MAAQ;AAAC,YAAML,IAAEH,EAAE,UAAUQ,CAAC,GAAEP,IAAEO,EAAE,IAAEN;AAAE,aAAM,CAACC,EAAE,CAAC,GAAEA,EAAE,CAAC,GAAEA,EAAE,CAAC,GAAEF,CAAC;AAAA,IAAC;AAAC,WAAM,CAAC,GAAE,GAAE,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,QAAGQ,GAAE,KAAK,cAAa,CAAE,EAAE,QAAOY;AAAE,UAAM,IAAQ,KAAK,cAAa,KAAxB,MAA2B,IAAE,KAAK,cAAc,UAAU;AAAM,WAAO,KAAK,4BAA4B,GAAE,EAAC,mBAAkB,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,WAAO,KAAK,SAAS,cAAc;AAAA,EAAW;AAAA,EAAC,oBAAoB,GAAE,IAAED,IAAE;AAAC,UAAM,IAAE,KAAK,UAAQ,IAAE,KAAK,iBAAgB;AAAG,WAAO,IAAE,IAAE,EAAE,IAAE,EAAE,oBAAkB,IAAE;AAAA,EAAC;AAAA,EAAC,4BAA4BlB,GAAEM,IAAEY,IAAE;AAAC,UAAMnB,IAAE,KAAK,oBAAoBC,GAAEM,CAAC,GAAEF,IAAQJ,KAAN,OAAQF,EAAE,UAAUE,CAAC,IAAEC;AAAE,WAAOC,GAAEE,GAAEL,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,WAAOkB,GAAE,KAAK,YAAY;AAAA,EAAC;AAAC;AAAC,SAASV,GAAET,GAAE;AAAC,SAAaA,KAAN,SAAoBA,MAAV,WAAmBA,MAAN;AAAQ;AAAC,SAASmB,GAAEnB,GAAE;AAAC,SAAOA,EAAE,UAAU,OAAK,OAAKA,EAAE,UAAU,aAAWC;AAAC;AAAC,MAAMmB,KAAE,EAAC,mBAAkB,GAAE,GAAEC,KAAEb;ACA/vK,IAAAgB,KAAA,MAAO;AAAA,EAAC,YAAY,GAAEpB,GAAE;AAAC,SAAK,UAAQ,IAAG,KAAK,kBAAgB,MAAK,KAAK,WAAS,MAAK,KAAK,UAAQ,MAAK,KAAK,wBAAsB,CAAA,GAAG,KAAK,WAASA,GAAE,KAAK,UAAQ;AAAA,EAAC;AAAA,EAAC,WAAU;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,OAAM;AAAC,WAAa,KAAK,mBAAX,SAA6B,KAAK,kBAAgB,KAAK,MAAK,IAAI,KAAK;AAAA,EAAe;AAAA,EAAC,MAAM,QAAO;AAAC,UAAK,EAAC,UAAS,GAAE,SAAQA,GAAE,uBAAsBF,EAAC,IAAE,MAAKa,IAAE,CAAA;AAAG,eAAU,KAAKX,EAAE,cAAa;AAAC,YAAMA,IAAE,EAAE,sBAAsB,oCAAoC,CAAC;AAAE,MAAMA,KAAN,SAAUW,EAAE,KAAKX,EAAE,KAAI,CAAE,GAAEF,EAAE,KAAKE,CAAC;AAAA,IAAE;AAAC,UAAM,QAAQ,IAAIW,CAAC,GAAE,KAAK,UAAQ;AAAA,EAAE;AAAA,EAAC,MAAM,uBAAsB;AAAC,UAAK,EAAC,UAAS,GAAE,uBAAsBX,EAAC,IAAE,MAAKF,IAAE,CAAA;AAAG,eAAU,KAAKE,EAAE,CAAAF,EAAE,KAAK,EAAE,qBAAoB,CAAE;AAAE,UAAMa,IAAE,EAAE,qBAAqB,MAAM,QAAQ,IAAIb,CAAC,CAAC;AAAE,WAAOa,EAAE,2BAA2B,MAAI,KAAK,SAAQ,CAAE,GAAEA;AAAA,EAAC;AAAA,EAAC,MAAM,iBAAiB,GAAE;AAAC,UAAK,EAAC,UAASX,GAAE,uBAAsBF,EAAC,IAAE,MAAKa,IAAE,CAAA;AAAG,eAAU,KAAKb,EAAE,CAAAa,EAAE,KAAK,EAAE,iBAAiB,CAAC,CAAC;AAAE,WAAOX,EAAE,qBAAqB,MAAM,QAAQ,IAAIW,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,oBAAoB,GAAE;AAAC,UAAK,EAAC,UAASX,GAAE,uBAAsBF,EAAC,IAAE,MAAKa,IAAE,CAAA;AAAG,eAAU,KAAKb,EAAE,CAAAa,EAAE,KAAK,EAAE,oBAAoB,CAAC,CAAC;AAAE,WAAOX,EAAE,qBAAqB,MAAM,QAAQ,IAAIW,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,8BAA8B,GAAE;AAAC,UAAK,EAAC,UAASX,GAAE,uBAAsBF,EAAC,IAAE,MAAKa,IAAE,CAAA;AAAG,eAAU,KAAKb,EAAE,CAAAa,EAAE,KAAK,EAAE,8BAA8B,CAAC,CAAC;AAAE,WAAOX,EAAE,qBAAqB,MAAM,QAAQ,IAAIW,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,oCAAoC,GAAE;AAAC,UAAK,EAAC,UAASX,GAAE,uBAAsBF,EAAC,IAAE,MAAKa,IAAE,CAAA;AAAG,eAAU,KAAKb,EAAE,CAAAa,EAAE,KAAK,EAAE,oCAAoC,CAAC,CAAC;AAAE,WAAOX,EAAE,qBAAqB,MAAM,QAAQ,IAAIW,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,6BAA6B,GAAE;AAAC,UAAK,EAAC,UAASX,GAAE,uBAAsBF,EAAC,IAAE,MAAKa,IAAE,CAAA;AAAG,eAAU,KAAKb,EAAE,CAAAa,EAAE,KAAK,EAAE,6BAA6B,CAAC,CAAC;AAAE,WAAOX,EAAE,qBAAqB,MAAM,QAAQ,IAAIW,CAAC,CAAC;AAAA,EAAC;AAAC,GCAxvDU,KAAA,MAAO;AAAA,EAAC,YAAY,GAAE,GAAE;AAAC,SAAK,UAAQ,MAAK,KAAK,eAAa,oBAAI,OAAI,KAAK,UAAQ,IAAG,KAAK,kBAAgB,MAAK,KAAK,YAAU,MAAK,KAAK,WAAS,GAAE,KAAK,YAAU;AAAA,EAAC;AAAA,EAAC,MAAM,OAAM;AAAC,WAAa,KAAK,mBAAX,SAA6B,KAAK,kBAAgB,KAAK,MAAK,IAAI,KAAK;AAAA,EAAe;AAAA,EAAC,MAAM,QAAO;AAAC,UAAK,EAAC,WAAU,GAAE,UAAS,EAAC,IAAE;AAAK,SAAK,UAAQ,EAAE,sBAAsB,+BAA+B,EAAE,MAAM,GAAE,KAAK,UAAQ;AAAA,EAAE;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,MAAM,iBAAiB,GAAE;AAAC,UAAM,IAAE,KAAK,UAASnB,IAAE,MAAM,KAAK,iBAAgB,GAAG,IAAQA,KAAN,OAAQ,EAAE,sBAAqB,IAAG,MAAMA,EAAE,iBAAiB,CAAC;AAAE,WAAO,EAAE,2BAA2B,MAAI,KAAK,aAAa,IAAI,EAAE,IAAG,CAAC,CAAC,GAAE;AAAA,EAAC;AAAA,EAAC,MAAM,oBAAoB,GAAE;AAAC,UAAM,IAAE,KAAK,UAASA,IAAE,MAAM,KAAK,iBAAgB,GAAG,IAAQA,KAAN,OAAQ,EAAE,sBAAqB,IAAG,MAAMA,EAAE,oBAAoB,CAAC;AAAE,WAAO,EAAE,2BAA2B,MAAI,KAAK,aAAa,OAAO,CAAC,CAAC,GAAE;AAAA,EAAC;AAAA,EAAC,MAAM,8BAA8B,GAAE;AAAC,UAAM,IAAE,KAAK,UAASA,IAAE,MAAM,KAAK,iBAAgB;AAAG,WAAaA,KAAN,OAAQ,EAAE,sBAAqB,IAAG,MAAMA,EAAE,8BAA8B,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,oCAAoC,GAAE;AAAC,UAAM,IAAE,KAAK,UAASA,IAAE,MAAM,KAAK,iBAAgB;AAAG,WAAaA,KAAN,OAAQ,EAAE,sBAAqB,IAAG,MAAMA,EAAE,oCAAoC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,+BAA8B;AAAC,UAAK,EAAC,cAAa,GAAE,UAAS,EAAC,IAAE,MAAKA,IAAE,MAAM,KAAK,iBAAgB;AAAG,QAASA,KAAN,KAAQ,QAAO,EAAE,sBAAqB;AAAG,UAAM,IAAE,CAAA;AAAG,eAAUE,KAAK,EAAE,OAAM,EAAG,GAAE,KAAKF,EAAE,6BAA6BE,CAAC,CAAC;AAAE,UAAMJ,IAAE,MAAM,QAAQ,IAAI,CAAC;AAAE,WAAO,EAAE,qBAAqBA,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,uBAAsB;AAAC,UAAK,EAAC,SAAQ,GAAE,UAAS,GAAE,cAAaE,EAAC,IAAE;AAAK,QAAG,CAAC,EAAE,QAAO,EAAE,sBAAqB;AAAG,UAAM,IAAE,CAAA;AAAG,eAAUE,KAAKF,EAAE,KAAI,EAAG,GAAE,KAAK,KAAK,oBAAoBE,CAAC,CAAC;AAAE,MAAE,KAAK,EAAE,qBAAoB,CAAE;AAAE,UAAMJ,IAAE,MAAM,QAAQ,IAAI,CAAC;AAAE,WAAO,EAAE,qBAAqBA,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,mBAAkB;AAAC,UAAM,IAAE,KAAK;AAAQ,WAAO,KAAG,EAAE,UAAQ,MAAM,EAAE,KAAI,GAAG,KAAG;AAAA,EAAI;AAAC;ACAjkD,SAASE,GAAEJ,GAAEI,GAAE;AAAC,QAAMF,IAAE,CAACF,GAAE,GAAEM,IAAE,QAAM,EAAC,QAAON,EAAE,IAAI,CAAAA,MAAG;AAAC,UAAME,IAAEJ,GAAE,EAAEE,EAAE,WAAW,CAAC;AAAE,WAAAM,KAAGO,GAAEX,CAAC,GAAQ,EAAC,YAAW,CAAC,EAAC,YAAWA,GAAE,WAAU,QAAO,gBAAe,MAAK,YAAWE,GAAE,cAAa,IAAI,WAAW,CAAC,CAAC,CAAC,GAAE,WAAU,IAAI,YAAY,CAAC,EAAE,CAAC,EAAC,CAAC,GAAE,sBAAqBJ,EAAE,qBAAoB;AAAA,EAAC,CAAC,EAAC;AAAG,UAAOA,GAAC;AAAA,IAAE,KAAI;AAAO,aAAOE,EAAED,IAAE,CAAAH,MAAGQ,GAAE,GAAE,KAAGR,GAAE,EAAE,GAAE,EAAE;AAAA,IAAE,KAAI;AAAS,aAAOI,EAAE,CAAC,EAAC,aAAY,GAAE,sBAAqB,EAAC,GAAE,EAAC,aAAY,GAAE,sBAAqB,EAAC,GAAE,EAAC,aAAY,GAAE,sBAAqB,GAAE,GAAE,EAAC,aAAY,GAAE,sBAAqB,GAAE,GAAE,EAAC,aAAY,GAAE,sBAAqB,IAAG,CAAC,GAAE,CAAAJ,MAAGC,GAAE,KAAGD,CAAI,CAAC;AAAA,IAAE,KAAI;AAAA,IAAO,KAAI;AAAA,IAAgB,KAAI;AAAA,IAAW,KAAI;AAAA,IAAc,KAAI;AAAU,YAAM,IAAI,MAAM,iBAAiB;AAAA,IAAE;AAAQ;AAAA,EAAM;AAAC;AAAC,SAASe,GAAEf,GAAE;AAAC,QAAME,IAAEF,GAAEC,IAAEC,EAAE,IAAI,UAAU,EAAE,MAAKM,IAAEN,EAAE,IAAI,QAAQ,EAAE;AAAK,MAAGM,GAAE;AAAC,UAAMN,IAAEE,GAAEJ,GAAE,QAAQ,EAAE;AAAK,aAAQA,IAAE,GAAEA,IAAEQ,EAAE,QAAOR,KAAG,GAAE;AAAC,YAAMC,IAAEO,EAAER,IAAE,CAAC;AAAE,MAAAE,EAAEF,IAAE,CAAC,IAAE,CAACQ,EAAER,IAAE,CAAC,GAAEE,EAAEF,IAAE,CAAC,IAAEC;AAAA,IAAC;AAAA,EAAC;AAAC,MAAGA,GAAE;AAAC,UAAMC,IAAEE,GAAEJ,GAAE,UAAU,EAAE;AAAK,aAAQA,IAAE,GAAEA,IAAEC,EAAE,QAAOD,KAAG,GAAE;AAAC,YAAMQ,IAAEP,EAAED,IAAE,CAAC;AAAE,MAAAE,EAAEF,IAAE,CAAC,IAAE,CAACC,EAAED,IAAE,CAAC,GAAEE,EAAEF,IAAE,CAAC,IAAEQ;AAAA,IAAC;AAAA,EAAC;AAAC;AAAC,SAASJ,GAAEJ,GAAEC,GAAE;AAAC,MAAIO,IAAER,EAAE,IAAIC,CAAC;AAAE,SAAOO,KAAG,CAACA,EAAE,cAAYA,IAAE,EAAC,GAAGA,GAAE,WAAU,IAAG,MAAKN,GAAEM,EAAE,IAAI,EAAC,GAAER,EAAE,IAAIC,GAAEO,CAAC,IAAGA;AAAC;AAAC,MAAML,KAAE,CAAC,EAAC,aAAY,GAAE,sBAAqB,EAAC,GAAE,EAAC,aAAY,IAAG,sBAAqB,EAAC,GAAE,EAAC,aAAY,IAAG,sBAAqB,GAAE,CAAC;ACAvI,IAAAuB,KAAA,MAAO;AAAA,EAAC,YAAY,GAAE,GAAE;AAAC,SAAK,UAAQ,IAAG,KAAK,kBAAgB,MAAK,KAAK,uBAAqB,MAAK,KAAK,iBAAe,MAAK,KAAK,WAAS,MAAK,KAAK,eAAa,MAAK,KAAK,aAAW,MAAK,KAAK,WAAS,GAAE,KAAK,eAAa;AAAA,EAAC;AAAA,EAAC,WAAU;AAAC,SAAK,iBAAe,MAAK,KAAK,uBAAqB;AAAA,EAAI;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,eAAc;AAAC,WAAa,KAAK,cAAX;AAAA,EAAqB;AAAA,EAAC,OAAM;AAAC,WAAa,KAAK,mBAAX,SAA6B,KAAK,kBAAgB,KAAK,UAAS,KAAK;AAAA,EAAe;AAAA,EAAC,MAAM,QAAO;AAAC,UAAM,IAAE,KAAK,SAAS,sBAAqB,IAAE,EAAC,+BAA8B,IAAG,mBAAkB,IAAG,aAAY,GAAE,GAAE,IAAE,KAAK;AAAmB,QAAIpB,IAAE,EAAC,QAAO,EAAE,+BAA8B,aAAY,IAAG,YAAWc,IAAE,SAAQZ,GAAE,SAAQA,GAAE,eAAc,EAAE,mBAAkB,aAAY,EAAE,aAAY,cAAa,GAAE,4BAA2B,IAAG,uBAAsB,CAAA,EAAE;AAAE,QAAGF,EAAE,gBAAcF,IAAEE,EAAE,YAAU,IAAG,KAAK,cAAa;AAAC,YAAMN,IAAE,IAAI2B;AAAE,MAAA3B,EAAE,eAAa,GAAEM,IAAE,EAAC,GAAGA,GAAE,UAASe,GAAEF,GAAEnB,CAAC,CAAC,EAAC;AAAA,IAAC;AAAC,UAAMC,IAAE,MAAM,EAAE,eAAe,EAAC,MAAK,WAAU,YAAWK,EAAC,CAAC,GAAE,IAAE,KAAK,aAAa;AAAS,SAAK,aAAW,KAAGY,GAAE,GAAG,SAAS,IAAE,EAAE,YAAUD;AAAE,UAAMD,IAAEM,GAAE,KAAK,YAAWrB,CAAC;AAAE,SAAK,iBAAe,MAAM,EAAE,kBAAkBe,CAAC,GAAE,KAAK,uBAAqBf,GAAE,KAAK,UAAQ;AAAA,EAAE;AAAA,EAAC,MAAM,uBAAsB;AAAC,UAAK,EAAC,gBAAe,GAAE,sBAAqB,GAAE,UAAS,EAAC,IAAE,MAAKO,IAAE,EAAE,sBAAqB,IAAE,CAAA;AAAG,WAAa,KAAN,QAAS,EAAE,KAAKA,EAAE,mBAAmB,CAAC,CAAC,GAAQ,KAAN,QAAS,EAAE,KAAKA,EAAE,gBAAgB,CAAC,CAAC,GAAE,IAAII,EAAEJ,GAAEA,EAAE,0BAA0B,CAAC,GAAE,CAAC,MAAI,KAAK,SAAQ,CAAE,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,iBAAiB,GAAE;AAAC,UAAM,IAAE,KAAK,UAAS,EAAC,sBAAqB,GAAE,oBAAmBA,EAAC,IAAE;AAAE,QAAS,KAAK,kBAAX,KAA0B,OAAM,IAAI,MAAM,yCAAyC;AAAE,UAAK,EAAC,cAAaP,EAAC,IAAE;AAAE,QAAOA,MAAJ,EAAM,QAAO,EAAE,sBAAqB;AAAG,UAAMG,IAAE,KAAK,cAAaW,IAAE,KAAK,cAAYE,IAAEP,IAAEM,GAAET,GAAEQ,CAAC,CAAC,GAAEG,IAAEZ,GAAED,GAAEK,CAAC,CAAC,GAAEE,IAAEN,GAAEQ,GAAEI,GAAE,EAAC,aAAYd,GAAE,OAAM,KAAI,OAAM,MAAK,QAAO,KAAI,CAAC,CAAC,GAAEkB,IAAE,IAAI,aAAa,KAAGrB,CAAC,GAAE0B,IAAE,IAAI,aAAa,KAAG1B,CAAC,GAAEkB,IAAEV,EAAE,CAAC,GAAEW,IAAE,MAAMZ,EAAE,0BAA0BW,CAAC;AAAE,aAAQb,IAAE,GAAEA,IAAEL,GAAE,EAAEK,GAAE;AAAC,YAAMN,IAAEM,GAAEJ,IAAEkB,EAAE,IAAEd,IAAE,CAAC,GAAEH,KAAEiB,EAAE,IAAEd,IAAE,CAAC,GAAEE,KAAEY,EAAE,IAAEd,IAAE,CAAC,GAAEL,KAAE,KAAK,wBAAwBC,GAAEC,IAAEK,IAAE,KAAK,SAAS,sBAAqBoB,EAAC,GAAExB,KAAE,KAAK,uBAAuBQ,GAAEM,GAAEW,EAAC;AAAE,WAAK,0BAA0BP,GAAEtB,GAAEI,EAAC,GAAE,KAAK,0BAA0BuB,GAAE3B,GAAEC,EAAC;AAAA,IAAC;AAAC,UAAM6B,IAAEjB,GAAE,CAAC,GAAEQ,IAAE,IAAI,WAAWpB,CAAC;AAAE,MAAE,mBAAmBoB,CAAC;AAAE,UAAMU,IAAE,EAAC,YAAW,IAAI,YAAYD,CAAC,GAAE,YAAWT,GAAE,iBAAgBC,GAAE,kBAAiBK,EAAC;AAAE,WAAO,EAAE,sBAAsB,EAAE,gBAAgB,KAAK,gBAAe,EAAE,IAAGI,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,oBAAoB,GAAE;AAAC,UAAK,EAAC,UAAS,GAAE,gBAAe,EAAC,IAAE,MAAKvB,IAAE,EAAE;AAAqB,WAAa,KAAN,OAAQ,EAAE,sBAAqB,IAAG,EAAE,sBAAsBA,EAAE,mBAAmB,GAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,8BAA8B,GAAE;AAAC,UAAK,EAAC,gBAAe,GAAE,UAAS,EAAC,IAAE,MAAKA,IAAE,EAAE;AAAqB,QAAS,KAAN,KAAQ,QAAO,EAAE,sBAAqB;AAAG,UAAM,IAAE,IAAI,WAAW,EAAE,YAAY;AAAE,WAAO,EAAE,mBAAmB,CAAC,GAAE,EAAE,sBAAsBA,EAAE,iBAAiB,GAAE,EAAE,IAAG,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,oCAAoC,GAAE;AAAC,UAAK,EAAC,UAAS,EAAC,IAAE,MAAK,IAAE,EAAE,sBAAqBA,IAAE,KAAK;AAAqB,QAASA,KAAN,KAAQ,QAAO,EAAE;AAAwB,UAAM,IAAE,KAAK;AAAmB,QAAIP,IAAE,EAAC,cAAa,EAAC;AAAE,QAAG,KAAK,cAAa;AAAC,YAAMD,IAAE,IAAI2B;AAAE,MAAA3B,EAAE,eAAa,GAAEC,IAAE,EAAC,GAAGA,GAAE,UAASoB,GAAEF,GAAEnB,CAAC,CAAC,EAAC;AAAA,IAAC;AAAC,WAAO,EAAE,sBAAsB,EAAE,eAAe,EAAC,MAAK,WAAU,YAAWQ,GAAE,YAAWP,EAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,6BAA6B,GAAE;AAAC,UAAK,EAAC,UAAS,GAAE,gBAAe,EAAC,IAAE,MAAK,EAAC,sBAAqBO,GAAE,oBAAmB,EAAC,IAAE,GAAE,EAAC,cAAaP,GAAE,IAAGG,EAAC,IAAE;AAAE,QAAS,KAAN,QAAaH,MAAJ,EAAM,QAAO,EAAE,sBAAqB;AAAG,UAAMc,IAAE,IAAI,aAAa,KAAGd,CAAC,GAAEe,IAAEP,EAAE,CAAC,GAAEJ,IAAE,MAAM,EAAE,0BAA0BW,CAAC;AAAE,aAAQC,IAAE,GAAEA,IAAEhB,GAAE,EAAEgB,GAAE;AAAC,YAAMjB,IAAEiB,GAAEf,IAAEG,EAAE,IAAEY,IAAE,CAAC,GAAEd,IAAEE,EAAE,IAAEY,IAAE,CAAC,GAAET,IAAEH,EAAE,IAAEY,IAAE,CAAC,GAAEX,IAAE,KAAK,wBAAwBJ,GAAEC,GAAEK,GAAE,KAAK,SAAS,sBAAqBoB,EAAC;AAAE,WAAK,0BAA0Bb,GAAEf,GAAEM,CAAC;AAAA,IAAC;AAAC,WAAO,EAAE,sBAAsBE,EAAE,uBAAuB,GAAEJ,GAAEW,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0B,GAAE,GAAE,GAAE;AAAC,QAAIP,IAAE,KAAG;AAAE,aAAQ,IAAE,GAAE,IAAE,IAAG,IAAI,GAAEA,GAAG,IAAE,EAAE,CAAC;AAAA,EAAC;AAAA,EAAC,wBAAwB,GAAE,GAAE,GAAEA,GAAE,GAAE;AAAC,WAAOuB,EAAE,CAAC,IAAE,GAAEA,EAAE,CAAC,IAAE,GAAEA,EAAE,CAAC,IAAE,GAAEhB,GAAEP,GAAEuB,GAAE,GAAE,KAAK,SAAS,sBAAsB,GAAE;AAAA,EAAC;AAAA,EAAC,uBAAuB7B,GAAEC,GAAEK,GAAE;AAAC,WAAOR,GAAEQ,CAAC,GAAE,KAAK,kBAAkBN,GAAEC,GAAEK,CAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,kBAAkB,GAAEL,GAAEK,GAAE;AAAC,UAAMF,IAAEI,GAAE,GAAE,GAAEP,GAAE,KAAK,SAAS,mBAAmB,YAAY;AAAE,IAAIG,EAAE,CAAC,MAAP,KAAcA,EAAE,CAAC,MAAP,KAAcA,EAAE,CAAC,MAAP,KAAUJ,GAAEM,GAAEA,GAAEF,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,WAAO,KAAK,SAAS,cAAc;AAAA,EAAW;AAAC;AAAC,SAASe,GAAErB,GAAE;AAAC,SAAOA,IAAE,IAAE;AAAC;AAAC,MAAM+B,IAAE9B,EAAC,GAAG4B,KAAE1B,EAAC,GAAGyB,KAAEzB,EAAC;SCA9tK,MAAO;AAAA,EAAC,YAAYD,GAAEF,GAAE;AAAC,SAAK,WAAS,IAAI,SAAM,KAAK,2BAAyB,oBAAI,OAAI,KAAK,UAAQ,IAAG,KAAK,kBAAgB,MAAK,KAAK,YAAU,MAAK,KAAK,WAASA,GAAE,KAAK,YAAUE;AAAA,EAAC;AAAA,EAAC,MAAM,OAAM;AAAC,WAAa,KAAK,mBAAX,SAA6B,KAAK,kBAAgB,KAAK,UAAS,KAAK;AAAA,EAAe;AAAA,EAAC,MAAM,QAAO;AAAC,SAAK,SAAS,CAAC,IAAE,IAAIE,GAAEH,GAAC,GAAG,KAAK,QAAQ,GAAE,KAAK,SAAS,CAAC,IAAE,IAAIO,GAAEF,GAAC,GAAG,KAAK,QAAQ,GAAE,KAAK,UAAQ;AAAA,EAAE;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,MAAM,iBAAiBJ,GAAE;AAAC,UAAMF,IAAE,KAAK,UAASC,IAAE,KAAK,WAAWC,CAAC,GAAEI,IAAE,MAAM,QAAQ,IAAIL,EAAE,IAAI,OAAM,EAAC,OAAMC,GAAE,UAASF,EAAC,MAAmD,OAAtC,MAAM,KAAK,iBAAiBE,CAAC,IAAkB,iBAAiBF,CAAC,CAAG,CAAC,GAAEI,IAAEJ,EAAE,qBAAqBM,CAAC;AAAE,WAAOF,EAAE,2BAA2B,MAAI,KAAK,yBAAyB,IAAIF,EAAE,IAAGD,CAAC,CAAC,GAAEG;AAAA,EAAC;AAAA,EAAC,MAAM,oBAAoB,GAAE;AAAC,UAAK,EAAC,0BAAyBH,GAAE,UAASK,EAAC,IAAE,MAAKF,IAAEE,EAAE,sBAAqBE,IAAEP,EAAE,IAAI,CAAC;AAAE,QAASO,KAAN,KAAQ,QAAO,IAAIN,EAAEE,GAAEA,EAAE,0BAAyB,GAAG,CAAA,CAAE;AAAE,UAAM,IAAE,MAAM,QAAQ,IAAII,EAAE,IAAI,OAAM,EAAC,OAAMN,GAAE,UAASF,EAAC,MAA6C,MAAhC,KAAK,iBAAiBE,CAAC,GAAkB,oBAAoBF,EAAE,EAAE,CAAG,CAAC,GAAEG,IAAEG,EAAE,qBAAqB,CAAC;AAAE,WAAOH,EAAE,2BAA2B,MAAIF,EAAE,OAAO,CAAC,CAAC,GAAEE;AAAA,EAAC;AAAA,EAAC,MAAM,8BAA8B,GAAE;AAAC,UAAK,EAAC,0BAAyBF,GAAE,UAASK,EAAC,IAAE,MAAKF,IAAEE,EAAE,sBAAqBE,IAAEP,EAAE,IAAI,EAAE,EAAE;AAAE,QAASO,KAAN,KAAQ,QAAO,IAAIN,EAAEE,GAAEA,EAAE,0BAAyB,GAAG,CAAA,CAAE;AAAE,UAAM,IAAE,MAAM,QAAQ,IAAII,EAAE,IAAI,OAAM,EAAC,OAAMN,GAAE,UAASF,EAAC,MAA6C,MAAhC,KAAK,iBAAiBE,CAAC,GAAkB,8BAA8BF,CAAC,CAAG,CAAC;AAAE,WAAOM,EAAE,qBAAqB,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,oCAAoCJ,GAAE;AAAC,UAAMF,IAAE,KAAK,UAASC,IAAE;AAAG,aAAQG,IAAE,GAAEA,IAAE,KAAK,SAAS,QAAO,EAAEA,GAAE;AAAC,YAAMJ,IAAE,KAAK,SAASI,CAAC;AAAE,MAAMJ,KAAN,QAASA,EAAE,UAAQC,EAAE,KAAKD,EAAE,oCAAoCE,CAAC,CAAC;AAAA,IAAC;AAAC,UAAMI,IAAE,MAAM,QAAQ,IAAIL,CAAC;AAAE,WAAOD,EAAE,qBAAqBM,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,+BAA8B;AAAC,UAAK,EAAC,0BAAyBJ,GAAE,UAASF,EAAC,IAAE,MAAKC,IAAE,CAAA;AAAG,eAAUG,KAAKF,EAAE,OAAM,GAAG;AAAC,YAAMA,IAAEE,EAAE,IAAI,OAAM,EAAC,OAAMF,GAAE,UAASF,EAAC,MAA6C,MAAhC,KAAK,iBAAiBE,CAAC,GAAkB,6BAA6BF,CAAC,CAAG;AAAE,MAAAC,EAAE,KAAK,GAAGC,CAAC;AAAA,IAAC;AAAC,UAAMI,IAAE,MAAM,QAAQ,IAAIL,CAAC;AAAE,WAAOD,EAAE,qBAAqBM,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,uBAAsB;AAAC,UAAK,EAAC,0BAAyBJ,GAAE,UAASF,EAAC,IAAE,MAAKC,IAAE,CAAA;AAAG,eAAUG,KAAKF,EAAE,KAAI,EAAG,CAAAD,EAAE,KAAK,KAAK,oBAAoBG,CAAC,CAAC;AAAE,eAAUA,KAAK,KAAK,SAAS,CAAAH,EAAE,KAAKG,EAAE,qBAAoB,CAAE;AAAE,UAAME,IAAE,MAAM,QAAQ,IAAIL,CAAC;AAAE,WAAOD,EAAE,qBAAqBM,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,iBAAiBJ,GAAE;AAAC,QAASA,KAAN,KAAQ,QAAO;AAAK,UAAMF,IAAE,KAAK,SAASE,CAAC;AAAE,WAAOF,KAAGA,EAAE,UAAQ,MAAMA,EAAE,QAAOA,KAAG;AAAA,EAAI;AAAA,EAAC,iBAAiBE,GAAE;AAAC,QAASA,KAAN,KAAQ,QAAO;AAAK,UAAMF,IAAE,KAAK,SAASE,CAAC;AAAE,WAAaF,KAAN,QAASA,EAAE,SAAOA,IAAE;AAAA,EAAI;AAAA,EAAC,WAAWE,GAAE;AAAC,UAAMD,IAAED,GAAEE,CAAC;AAAE,QAASD,KAAN,KAAQ,OAAM,IAAI,MAAM,2BAA2B;AAAE,UAAK,EAAC,cAAaK,EAAC,IAAEJ,GAAEE,IAAE,CAAC,CAAA,GAAG,CAAA,CAAE;AAAE,aAAQJ,IAAE,GAAEA,IAAEM,GAAE,EAAEN;AAAG,MAAAI,EAAEH,EAAED,CAAC,IAAE,CAAC,EAAE,KAAKA,CAAC;AAAE,WAAOI,EAAE,IAAI,CAACJ,GAAEC,MAAI,IAAIE,GAAEF,GAAEC,EAAE,OAAO,IAAI,YAAYF,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAAE,MAAGA,EAAE,SAAS,eAAa,CAAC;AAAA,EAAC;AAAC,GAAA8B,KAAC,MAAO;AAAA,EAAC,YAAY9B,GAAEF,GAAE;AAAC,SAAK,QAAME,GAAE,KAAK,WAASF;AAAA,EAAC;AAAC,GCAxqFiC,KAAA,MAAO;AAAA,EAAC,YAAY,GAAE9B,GAAED,GAAEE,GAAEH,GAAEO,GAAEO,GAAE;AAAC,SAAK,uBAAqB,GAAE,KAAK,yBAAuBZ,GAAE,KAAK,qBAAmBD,GAAE,KAAK,qBAAmBE,GAAE,KAAK,uBAAqBH,GAAE,KAAK,YAAUO,GAAE,KAAK,gBAAcO,GAAE,KAAK,wBAAsB,IAAIV,GAAE,IAAI;AAAA,EAAC;AAAA,EAAC,sBAAsB,IAAE,KAAK,qBAAqB,0BAAyB,GAAG,IAAE,IAAG;AAAC,WAAO,IAAIF,EAAE,KAAK,sBAAqB,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAqB,GAAE;AAAC,WAAO,EAAE,WAAN,IAAoB,KAAK,sBAAqB,IAAU,EAAE,OAAO,CAAAH,MAASA,KAAN,IAAO,EAAE,OAAO,CAACA,GAAE,OAAKA,EAAE,OAAO,CAAC,GAAEA,EAAE;AAAA,EAAC;AAAC,GAAAkC,KAAC,MAAO;AAAA,EAAC,YAAY,GAAE;AAAC,SAAK,UAAQ;AAAA,EAAC;AAAA,EAAC,6BAA6B/B,GAAE;AAAC,UAAM,IAAEH,GAAEG,KAAGa,EAAC,KAAG;AAAO,QAAG,CAAC,EAAE,OAAM,IAAI,MAAM,2BAA2B;AAAE,UAAMZ,IAAE,EAAE;AAAK,YAAOA,GAAC;AAAA,MAAE,KAAI;AAAS,eAAO,IAAII,GAAE,GAAE,KAAK,OAAO;AAAA,MAAE,KAAI;AAAe,eAAO,IAAIO,GAAE,GAAE,KAAK,OAAO;AAAA,MAAE;AAAQ,eAAO,QAAQ,KAAK,mDAAmDX,CAAC,EAAE,GAAE,KAAK,6BAA6BY,EAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,+BAA+B,GAAE;AAAC,UAAMb,IAAE,GAAG;AAAK,YAAOA;MAAG,KAAI;AAAW,eAAO,IAAIF,GAAE,GAAE,KAAK,OAAO;AAAA,MAAE,KAAI;AAAA,MAAiB,KAAI;AAAgB,eAAO,IAAIG,GAAEF,MAAI,KAAK,OAAO;AAAA,MAAE;AAAQ,eAAO,QAAQ,KAAK,iDAAiDC,CAAC,EAAE,GAAE;AAAA,IAAI;AAAA,EAAC;AAAA,EAAC,oCAAoC,GAAE;AAAC,UAAMA,IAAE,EAAE;AAAK,WAAeA,MAAT,SAAW,IAAIC,GAAE,GAAE,KAAK,OAAO,KAAG,QAAQ,KAAK,sDAAsDD,CAAC,EAAE,GAAE;AAAA,EAAK;AAAC;AAAC,MAAMa,KAAE,EAAC,MAAK,SAAQ;ACAptD,SAASb,EAAED,IAAE,IAAG;AAAC,SAAM,GAAGA,CAAC,GAAGF,GAAC,CAAE;AAAE;ACA/D,IAAAmC,KAAA,MAAMpB,GAAC;AAAA,EAAC,YAAYb,GAAEa,GAAE;AAAC,SAAK,UAAQb,GAAE,KAAK,iBAAea,GAAE,KAAK,KAAGf,EAAE,qBAAqBE,EAAE,EAAE,GAAG;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAM;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAM;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,eAAe;AAAA,EAAM;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,QAAQ,aAAWA,IAAE,KAAK,eAAe;AAAA,EAAU;AAAA,EAAC,IAAI,iBAAgB;AAAC,eAAUA,KAAK,KAAK,eAAe,KAAG,CAAC,KAAK,QAAQ,WAAWA,CAAC,EAAE,QAAM;AAAG,WAAM;AAAA,EAAE;AAAA,EAAC,YAAYA,GAAE;AAAC,WAAO,KAAK,QAAQ,YAAY,KAAK,eAAeA,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,aAAaA,GAAEF,GAAE;AAAC,WAAO,KAAK,QAAQ,aAAa,KAAK,eAAeE,CAAC,GAAEF,CAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBE,GAAEF,GAAE;AAAC,WAAO,KAAK,QAAQ,aAAa,KAAK,eAAeE,CAAC,GAAEF,CAAC;AAAA,EAAC;AAAA,EAAC,cAAcE,GAAE;AAAC,WAAO,KAAK,QAAQ,cAAc,KAAK,eAAeA,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,GAAEF,GAAEe,GAAE;AAAC,WAAO,KAAK,QAAQ,eAAe,KAAK,eAAeb,CAAC,GAAEF,GAAEe,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBb,GAAE;AAAC,WAAO,KAAK,QAAQ,qBAAqB,KAAK,eAAeA,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,YAAYA,GAAEF,GAAE;AAAC,WAAO,KAAK,QAAQ,YAAY,KAAK,eAAeE,CAAC,GAAEF,CAAC;AAAA,EAAC;AAAA,EAAC,UAAUE,GAAE;AAAC,WAAO,KAAK,QAAQ,UAAU,KAAK,eAAeA,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,GAAE;AAAC,WAAO,KAAK,QAAQ,eAAe,KAAK,eAAeA,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBA,GAAEF,GAAEe,GAAE;AAAC,WAAO,KAAK,QAAQ,kBAAkBb,GAAE,KAAK,mBAAmBF,CAAC,GAAEe,CAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBb,GAAEF,GAAEe,GAAE;AAAC,WAAO,KAAK,QAAQ,oBAAoBb,GAAE,KAAK,mBAAmBF,CAAC,GAAEe,CAAC;AAAA,EAAC;AAAA,EAAC,UAAUb,GAAE;AAAC,WAAO,KAAK,QAAQ,UAAU,KAAK,mBAAmBA,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,OAAOA,GAAE;AAAC,UAAK,EAAC,gBAAeF,EAAC,IAAE,MAAK,IAAE,IAAI,YAAYE,EAAE,MAAM;AAAE,aAAQa,IAAE,GAAEA,IAAE,EAAE,QAAO,EAAEA,EAAE,GAAEA,CAAC,IAAEf,EAAEE,EAAEa,CAAC,CAAC;AAAE,WAAO,IAAIA,GAAE,KAAK,SAAQ,CAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBb,GAAE;AAAC,QAAOA,EAAE,SAAN,EAAW;AAAO,UAAK,EAAC,cAAaF,EAAC,IAAE,MAAKe,IAAE,IAAI;AAAM,aAAQZ,IAAE,GAAEA,IAAEH,GAAE,EAAEG,EAAE,MAAK,WAAWA,CAAC,KAAGD,EAAE,IAAI,KAAK,YAAYC,CAAC,CAAC,KAAGY,EAAE,KAAKZ,CAAC;AAAE,QAAOY,EAAE,WAAN,EAAa,YAAUZ,KAAKY,EAAE,MAAK,WAAWZ,GAAE,EAAE;AAAA,EAAC;AAAA,EAAC,WAAWD,GAAEF,GAAE;AAAC,SAAK,QAAQ,WAAW,KAAK,eAAeE,CAAC,GAAEF,CAAC;AAAA,EAAC;AAAA,EAAC,WAAWE,GAAE;AAAC,WAAO,KAAK,QAAQ,WAAW,KAAK,eAAeA,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,YAAW;AAAC,UAAK,EAAC,gBAAeA,GAAE,SAAQF,EAAC,IAAE;AAAK,eAAUe,KAAKb,EAAE,CAAAF,EAAE,WAAWe,GAAE,EAAE;AAAA,EAAC;AAAA,EAAC,mBAAmBb,GAAEF,GAAEe,GAAE;AAAC,WAAO,KAAK,QAAQ,mBAAmBb,GAAE,KAAK,mBAAmBF,CAAC,GAAEe,CAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBb,GAAE;AAAC,WAAO,KAAK,QAAQ,iBAAiB,KAAK,mBAAmBA,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,CAAC,mBAAmBA,GAAE;AAAC,UAAK,EAAC,gBAAeF,EAAC,IAAE;AAAK,QAASE,KAAN,KAAQ,YAAUa,KAAKb,EAAE,OAAMF,EAAEe,CAAC;AAAA,QAAO,QAAMf;AAAA,EAAC;AAAC;ACAlnE,MAAMe,GAAC;AAAA,EAAC,YAAYb,GAAE;AAAC,SAAK,QAAMA,GAAE,KAAK,KAAGC,EAAE,eAAeD,EAAE,EAAE,GAAG,GAAE,KAAK,WAAS,IAAI,MAAMA,EAAE,YAAY,EAAE,KAAK,EAAE;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK,MAAM;AAAA,EAAE;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,MAAM;AAAA,EAAY;AAAA,EAAC,IAAI,aAAY;AAAC,WAAOA,IAAEF,GAAE,KAAK,EAAE;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK,MAAM,WAAW;AAAA,EAAM;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAO,KAAK,SAAS,MAAM,CAAAE,MAAGA,CAAC;AAAA,EAAC;AAAA,EAAC,YAAYA,GAAE;AAAC,WAAO,KAAK,MAAM,YAAYA,CAAC;AAAA,EAAC;AAAA,EAAC,aAAaA,GAAEF,GAAE;AAAC,WAAO,KAAK,MAAM,aAAaE,GAAEF,CAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBE,GAAEF,GAAE;AAAC,WAAO,KAAK,MAAM,aAAaE,GAAEF,CAAC;AAAA,EAAC;AAAA,EAAC,cAAcE,GAAE;AAAC,WAAO,KAAK,MAAM,cAAcA,CAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,GAAEF,GAAE,GAAE;AAAC,WAAO,KAAK,MAAM,eAAeE,GAAEF,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBE,GAAE;AAAC,WAAO,KAAK,MAAM,qBAAqBA,CAAC;AAAA,EAAC;AAAA,EAAC,YAAYA,GAAEF,GAAE;AAAC,WAAO,KAAK,MAAM,YAAYE,GAAEF,CAAC;AAAA,EAAC;AAAA,EAAC,UAAUE,GAAE;AAAC,WAAO,KAAK,MAAM,UAAUA,CAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,GAAE;AAAC,WAAO,KAAK,MAAM,eAAeA,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBA,GAAEF,GAAE,GAAE;AAAC,WAAO,KAAK,MAAM,kBAAkBE,GAAEF,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBE,GAAEF,GAAE,GAAE;AAAC,WAAO,KAAK,MAAM,oBAAoBE,GAAEF,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,UAAUE,GAAE;AAAC,WAAO,KAAK,MAAM,UAAUA,CAAC;AAAA,EAAC;AAAA,EAAC,OAAOA,GAAE;AAAC,WAAO,IAAIM,GAAE,MAAKN,CAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBA,GAAE;AAAC,QAAOA,EAAE,SAAN,EAAW;AAAO,UAAK,EAAC,UAASF,EAAC,IAAE,MAAK,IAAE,IAAI;AAAM,eAAUQ,KAAK,KAAK,mBAAkB,EAAG,CAAAR,EAAEQ,CAAC,KAAGN,EAAE,IAAI,KAAK,YAAYM,CAAC,CAAC,KAAG,EAAE,KAAKA,CAAC;AAAE,QAAO,EAAE,WAAN,EAAa,YAAUA,KAAK,EAAE,CAAAR,EAAEQ,CAAC,IAAE;AAAA,EAAE;AAAA,EAAC,WAAWN,GAAEF,GAAE;AAAC,SAAK,SAASE,CAAC,IAAEF;AAAA,EAAC;AAAA,EAAC,WAAWE,GAAE;AAAC,WAAO,KAAK,SAASA,CAAC;AAAA,EAAC;AAAA,EAAC,YAAW;AAAC,SAAK,SAAS,KAAK,EAAE;AAAA,EAAC;AAAA,EAAC,mBAAmBA,GAAEF,IAAE,KAAK,mBAAkB,GAAG,IAAE,GAAE;AAAC,UAAK,EAAC,UAASQ,EAAC,IAAE;AAAK,eAAUO,KAAKf,EAAE,CAAAE,EAAE,GAAG,IAAE,OAAOM,EAAEO,CAAC,CAAC;AAAE,WAAO;AAAA,EAAC;AAAA,EAAC,CAAC,iBAAiBb,IAAE,KAAK,mBAAkB,GAAG;AAAC,UAAK,EAAC,UAASF,EAAC,IAAE;AAAK,eAAU,KAAKE,EAAE,CAAAF,EAAE,CAAC,MAAI,MAAM,KAAK,YAAY,CAAC;AAAA,EAAE;AAAA,EAAC,CAAC,qBAAoB;AAAC,UAAK,EAAC,cAAaE,EAAC,IAAE;AAAK,aAAQF,IAAE,GAAEA,IAAEE,GAAE,EAAEF,EAAE,OAAMA;AAAA,EAAC;AAAC;ACAx4B,IAAIa,IAAE,cAAcT,GAAC;AAAA,EAAC,YAAYF,GAAE;AAAC,UAAMA,CAAC,GAAE,KAAK,SAAO,MAAK,KAAK,eAAa,IAAIc,MAAE,KAAK,UAAQ,IAAIA,MAAE,KAAK,mBAAiB,IAAG,KAAK,uBAAqB,MAAK,KAAK,kBAAgB,IAAI;AAAA,EAAK;AAAA,EAAC,UAAS;AAAC,SAAK,aAAa,MAAK,GAAG,KAAK,QAAQ,MAAK;AAAA,EAAE;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK,oBAAkB,EAAE,KAAK,sBAAsB,YAAU;AAAA,EAAE;AAAA,EAAC,IAAI,gBAAe;AAAC,UAAK,EAAC,QAAOd,EAAC,IAAE;AAAK,WAAaA,KAAN,OAAQ,OAAKO,GAAEP,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,UAAMA,IAAE,IAAI,SAAM,IAAE,KAAK,SAAQa,IAAE,KAAK;AAAa,eAAUX,KAAK,EAAE,OAAM,EAAG,CAAMW,EAAE,IAAIX,EAAE,EAAE,GAAG,eAAnB,QAAgCF,EAAE,KAAKE,CAAC;AAAE,WAAOF;AAAA,EAAC;AAAA,EAAC,iBAAiB,EAAC,OAAMA,EAAC,GAAE;AAAC,SAAK,kBAAgBA,GAAE,KAAK,mBAAkB;AAAA,EAAE;AAAA,EAAC,qBAAoB;AAAC,QAAG,KAAK,iBAAiB;AAAO,SAAK,mBAAiB;AAAG,UAAMA,IAAE,KAAK,sBAAqB,IAAEM,GAAE,YAAS;AAAC,UAAG;AAAC,cAAMD,GAAE,MAAIL,GAAG,YAAU,EAAE,GAAE,MAAMe,GAAC,GAAG,KAAK,mBAAiB,IAAG,MAAM,KAAK,kBAAiB;AAAA,MAAE,UAAC;AAAQ,aAAK,yBAAuB,MAAI,KAAK,uBAAqB;AAAA,MAAK;AAAA,IAAC,CAAC;AAAE,SAAK,uBAAqB;AAAA,EAAC;AAAA,EAAC,MAAM,oBAAmB;AAAC,UAAMf,IAAE,KAAK,iBAAgB,IAAE,KAAK,cAAaa,IAAE,IAAI;AAAM,eAAUL,KAAKR,EAAE,GAAE,IAAIQ,EAAE,EAAE,KAAGK,EAAE,KAAKL,CAAC;AAAE,UAAMN,IAAE,IAAI;AAAM,eAAUM,KAAK,EAAE,OAAM,GAAG;AAAC,YAAK,EAAC,IAAGV,EAAC,IAAEU;AAAE,MAAAR,EAAE,MAAM,CAAAA,MAAGA,EAAE,OAAKF,CAAC,KAAGI,EAAE,KAAKM,EAAE,UAAU;AAAA,IAAC;AAAC,UAAMJ,IAAE,KAAK,cAAa,EAAC,eAAcE,EAAC,IAAE,MAAKL,IAAQK,KAAN,OAAQO,EAAE,OAAO,CAAAb,MAAG,CAACA,EAAE,UAAQY,GAAEN,GAAEN,EAAE,MAAM,CAAC,IAAEa,GAAEd,IAAE,KAAK,SAAQ,IAAE,IAAI;AAAM,eAAS,EAAC,IAAGS,EAAC,KAAIN,EAAE,CAAAH,EAAE,OAAOS,CAAC;AAAE,eAAUA,KAAKP,EAAE,CAAAF,EAAE,IAAIS,EAAE,IAAGA,CAAC;AAAE,UAAMH,IAAE,KAAK;AAAc,eAAUG,KAAKN,GAAE;AAAC,YAAK,EAAC,IAAGF,EAAC,IAAEQ;AAAE,UAAGH,EAAE,KAAK,CAAAL,MAAGmB,EAAEnB,GAAEQ,CAAC,KAAGW,EAAEX,GAAER,CAAC,CAAC,EAAE;AAAS,YAAMF,IAAEM,EAAE,IAAIJ,CAAC;AAAE,MAAMF,KAAN,QAAS,EAAE,KAAK,KAAK,YAAYA,CAAC,CAAC;AAAA,IAAC;AAAC,eAAUU,KAAKP,EAAE,GAAE,KAAK,KAAK,SAASO,CAAC,CAAC;AAAE,UAAMO,IAAE,MAAM,QAAQ,WAAW,CAAC;AAAE,eAAUP,KAAKO,EAAE,CAAaP,EAAE,WAAf,cAAuB,QAAQ,MAAMA,EAAE,MAAM;AAAA,EAAC;AAAA,EAAC,YAAYR,GAAE;AAAC,eAAU,KAAK,KAAK,aAAa,OAAM,GAAG;AAAC,YAAMa,IAAE,EAAE;AAAY,MAAMA,KAAN,QAASb,EAAEa,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,CAAC,cAAa;AAAC,eAAUb,KAAK,KAAK,aAAa,OAAM,GAAG;AAAC,YAAM,IAAEA,EAAE;AAAY,MAAM,KAAN,SAAU,MAAM;AAAA,IAAE;AAAA,EAAC;AAAA,EAAC,MAAM,YAAYa,GAAE;AAAC,IAAAA,EAAE,SAAS,MAAK,GAAG,KAAK,aAAa,OAAOA,EAAE,EAAE,GAAE,KAAK,UAAS;AAAG,UAAK,EAAC,aAAYX,EAAC,IAAEW;AAAE,QAASX,KAAN,MAAQ;AAAC,YAAMW,IAAE,EAAC,OAAM,CAAA,GAAG,OAAM,QAAO,UAAS,GAAE;AAAE,UAAG;AAACb,QAAAA,EAAEa,GAAE,MAAM,KAAK,UAAU,KAAK,CAACX,EAAE,MAAM,CAAC,GAAE,EAAE,GAA+C,OAArC,MAAM,KAAK,oBAAoBA,EAAE,EAAE,IAAW,QAAO;AAAA,MAAG,SAAOE,GAAE;AAAC,QAAAS,EAAE,QAAMT,GAAES,EAAE,WAAS;AAAA,MAAE,UAAC;AAAQf,QAAAA,EAAEe,CAAC;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,MAAM,SAASb,GAAE;AAAC,UAAK,EAAC,cAAa,EAAC,IAAE,MAAKa,IAAE,EAAE,IAAIb,EAAE,EAAE;AAAE,QAASa,KAAN;AAAS,aAAG,CAACc,EAAEd,CAAC,KAAGA,EAAE,YAAY,iBAAe,UAAcA,EAAE,YAAY,UAAS,GAAG,KAAK,MAAM,KAAK,YAAYA,CAAC;AAAE,UAAMX,IAAE,IAAI0B,GAAE5B,GAAEM,GAAE,OAAMR,MAAG;AAAC,YAAMe,IAAE,MAAM,KAAK,SAASb,GAAEF,CAAC;AAAE,aAAOG,EAAEH,CAAC,GAAE,IAAIY,GAAEG,CAAC;AAAA,IAAC,CAAC,CAAC;AAAE,SAAK,aAAa,IAAIX,EAAE,IAAGA,CAAC;AAAE,QAAG;AAAC,YAAMA,EAAE,SAAS;AAAA,IAAO,SAAOE,GAAE;AAAC,aAAO,KAAKL,GAAEK,CAAC;AAAA,IAAC;AAACa,IAAAA,GAAEf,CAAC,GAAE,MAAM,KAAK,YAAYA,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,YAAYW,GAAE;AAAC,UAAMX,IAAE,EAAC,OAAM,CAAA,GAAG,OAAM,QAAO,UAAS,GAAE;AAAE,QAAG;AAAC,YAAK,EAAC,SAAQJ,GAAE,cAAaQ,GAAE,eAAcL,EAAC,IAAE,MAAKF,IAAEc,EAAE,YAAWC,IAAE,IAAI,SAAMT,IAAE,IAAI,SAAMU,IAAE,IAAI,SAAMP,IAAE,oBAAI;AAAI,iBAAUR,KAAKM,EAAE,OAAM,GAAG;AAAC,YAAGN,MAAIa,EAAE;AAAS,cAAK,EAAC,YAAWX,GAAE,IAAGE,EAAC,IAAEJ;AAAE,YAAG,EAAEF,EAAE,IAAIM,CAAC,KAAGH,EAAE,KAAK,CAAAD,MAAGmB,EAAEnB,GAAEE,CAAC,KAAGiB,EAAEjB,GAAEF,CAAC,CAAC,IAAG;AAAC,UAAAM,EAAE,OAAOF,CAAC,GAAEJ,EAAE,SAAS,MAAK;AAAG,gBAAK,EAAC,aAAYF,EAAC,IAAEE;AAAE,UAAMF,KAAN,QAASgB,EAAE,KAAKhB,CAAC;AAAE;AAAA,QAAQ;AAAC,YAAG6B,EAAE3B,CAAC,GAAE;AAAC,cAAGmB,EAAEpB,GAAEG,CAAC,GAAE;AAAC,kBAAMJ,IAAEE,EAAE;AAAY,uBAAUA,KAAKF,EAAE,UAAS,EAAG,CAAAU,EAAE,IAAIR,CAAC;AAAA,UAAC;AAAC,cAAGmB,EAAEjB,GAAEH,CAAC,GAAE;AAAC,kBAAK,EAAC,aAAYD,EAAC,IAAEE;AAAE,YAAAK,EAAE,KAAKP,CAAC;AAAA,UAAC;AAAA,QAAC;AAAA,MAAC;AAAC,MAAAU,EAAE,OAAK,MAAIK,EAAE,YAAY,iBAAiBL,CAAC,GAAE,KAAK,iBAAiBK,EAAE,aAAYL,CAAC,IAAG,KAAK,UAAS,GAAGO,EAAE,KAAKF,EAAE,WAAW;AAAE,YAAMG,IAAE,CAAC,GAAGD,GAAE,GAAGD,GAAE,GAAGT,CAAC,EAAE,IAAI,CAAAL,MAAGA,EAAE,MAAM;AAAuC,UAArCA,EAAEE,GAAE,MAAM,KAAK,UAAU,KAAKc,CAAC,GAAE,EAAE,GAASX,EAAE,WAAN,GAAa;AAAC,cAAML,IAAEa,EAAE,aAAYf,IAAE,IAAI,IAAIE,EAAE,UAAS,CAAE;AAAE,mBAAUa,KAAKR,EAAE,CAAAQ,EAAE,iBAAiBf,CAAC,GAAE,KAAK,iBAAiBe,GAAEf,CAAC;AAAA,MAAC;AAAC,YAAMS,IAAEO,EAAE,IAAI,CAAAd,MAAG,KAAK,oBAAoBA,EAAE,EAAE,CAAC,GAAEY,IAAEG,EAAE,IAAI,CAAAf,MAAG,KAAK,iBAAiBA,CAAC,CAAC,GAAEU,IAAEL,EAAE,IAAI,CAAAL,MAAG,KAAK,oBAAoBA,CAAC,CAAC,GAAEW,IAAE,MAAM,QAAQ,IAAI,CAAC,GAAGJ,GAAE,GAAGK,GAAE,GAAGF,CAAC,CAAC;AAAmB,YAAfP,GAAEQ,EAAE,OAAOP,EAAC,CAAC,GAAW,QAAO;AAAA,IAAG,SAAOE,GAAE;AAAC,MAAAJ,EAAE,QAAMI,GAAEJ,EAAE,WAAS;AAAA,IAAE,UAAC;AAAQJ,MAAAA,EAAEI,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,YAAW;AAAC,QAAG,CAACgC,GAAI,qCAAqC,EAAE;AAAO,UAAMlC,IAAE,IAAI;AAAM,eAAU,KAAK,KAAK,aAAa,OAAM,GAAG;AAAC,UAAG,CAAC2B,EAAE,CAAC,EAAE;AAAS,YAAK,EAAC,aAAYd,EAAC,IAAE;AAAE,MAAAb,EAAE,KAAK,EAAC,aAAYa,GAAE,WAAU,IAAI,IAAIA,EAAE,iBAAgB,CAAE,EAAC,CAAC;AAAA,IAAC;AAAC,aAAQ,IAAE,GAAE,IAAEb,EAAE,QAAO,EAAE,GAAE;AAAC,YAAK,EAAC,aAAYa,GAAE,WAAUX,EAAC,IAAEF,EAAE,CAAC;AAAE,eAAQI,IAAE,IAAE,GAAEA,IAAEJ,EAAE,QAAO,EAAEI,GAAE;AAAC,cAAK,EAAC,aAAYN,GAAE,WAAUQ,EAAC,IAAEN,EAAEI,CAAC;AAAE,mBAAUJ,KAAKM,EAAE,KAAGJ,EAAE,IAAIF,CAAC,EAAE,OAAM,IAAI,MAAM,GAAGa,EAAE,EAAE,QAAQf,EAAE,EAAE,iBAAiBE,CAAC,GAAG;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBA,GAAE,GAAE;AAAC,QAAGkC,GAAI,qCAAqC;AAAE,iBAAUrB,KAAKb,EAAE,iBAAgB,EAAG,KAAG,EAAE,IAAIa,CAAC,EAAE,OAAM,IAAI,MAAM,oBAAoBA,CAAC,SAASb,EAAE,EAAE,GAAG;AAAA;AAAA,EAAC;AAAC;AAAE,SAASmB,EAAE,EAAC,KAAI,CAACnB,GAAE,GAAEa,CAAC,EAAC,GAAE,EAAC,KAAI,CAACX,GAAEE,GAAEE,CAAC,EAAC,GAAE;AAAC,QAAML,IAAEC,IAAEF;AAAE,SAAOC,KAAG,KAAG,MAAIG,KAAGH,KAAGY,MAAIP,KAAGL;AAAC;AAACY,EAAE,CAACL,EAAC,CAAE,GAAEG,EAAE,WAAU,YAAW,IAAI,GAAEE,EAAE,CAACL,EAAE,EAAC,eAAc,GAAE,CAAC,CAAC,GAAEG,EAAE,WAAU,YAAW,MAAM,GAAEE,EAAE,CAACL,EAAE,EAAC,eAAc,GAAE,CAAC,CAAC,GAAEG,EAAE,WAAU,oBAAmB,MAAM,GAAEE,EAAE,CAACL,EAAE,EAAC,eAAc,GAAE,CAAC,CAAC,GAAEG,EAAE,WAAU,uBAAsB,MAAM,GAAEE,EAAE,CAACL,EAAE,EAAC,eAAc,GAAE,CAAC,CAAC,GAAEG,EAAE,WAAU,uBAAsB,MAAM,GAAEE,EAAE,CAACL,EAAE,EAAC,eAAc,GAAE,CAAC,CAAC,GAAEG,EAAE,WAAU,aAAY,MAAM,GAAEE,EAAE,CAACL,EAAC,CAAE,GAAEG,EAAE,WAAU,UAAS,MAAM,GAAEE,EAAE,CAACL,EAAC,CAAE,GAAEG,EAAE,WAAU,iBAAgB,IAAI,GAAEE,EAAE,CAACL,EAAC,CAAE,GAAEG,EAAE,WAAU,iBAAgB,IAAI,GAAEE,EAAE,CAACL,EAAC,CAAE,GAAEG,EAAE,WAAU,oBAAmB,MAAM,GAAEE,EAAE,CAACL,EAAC,CAAE,GAAEG,EAAE,WAAU,wBAAuB,MAAM,GAAEA,IAAEE,EAAE,CAACG,GAAE,sDAAsD,CAAC,GAAEL,CAAC;AAAC,IAAAwB,KAAC,MAAO;AAAA,EAAC,YAAYnC,GAAEF,GAAE;AAAC,SAAK,aAAWE,GAAE,KAAK,WAASF;AAAA,EAAC;AAAA,EAAC,IAAI,KAAI;AAAC,WAAO,KAAK,WAAW;AAAA,EAAE;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,SAAS;AAAA,EAAK;AAAC;AAAC,SAAS6B,EAAE3B,GAAE;AAAC,SAAaA,EAAE,eAAR;AAAmB;AAAC,SAASiB,GAAEjB,GAAE;AAAC,MAAG,CAAC2B,EAAE3B,CAAC,EAAE,OAAM,IAAI;AAAK;ACA53L,MAAMF,GAAC;AAAA,EAAC,cAAa;AAAC,SAAK,mBAAiB,oBAAI;AAAA,EAAG;AAAA,EAAC,MAAM,KAAK,GAAE;AAAC,UAAK,EAAC,kBAAiBQ,EAAC,IAAE,MAAKQ,IAAE,EAAE,IAAI,CAAAZ,MAAGI,EAAE,IAAIJ,CAAC,CAAC,EAAE,OAAOA,EAAC,GAAEG,IAAE,QAAQ,WAAWS,CAAC,GAAE,IAAED,GAAC,GAAGd,IAAEC,GAAE,MAAI,EAAE,QAAO,CAAE,GAAEG,IAAE,EAAE,QAAQ,QAAQ,MAAI;AAAC,iBAAUD,KAAK,EAAE,CAAAI,EAAE,IAAIJ,CAAC,MAAIC,KAAGG,EAAE,OAAOJ,CAAC;AAAA,IAAC,CAAC;AAAE,eAAUA,KAAK,EAAE,CAAAI,EAAE,IAAIJ,GAAEC,CAAC;AAAE,WAAO,MAAME,GAAEJ,GAAEF,CAAC;AAAA,EAAC;AAAC;SCAnF,MAAO;AAAA,EAAC,YAAYC,GAAEF,GAAE;AAAC,SAAK,SAAOE,GAAE,KAAK,QAAMF;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,WAAOA,IAAEQ;AAAAA,EAAC;AAAA,EAAC,cAAa;AAAC,WAAO,KAAK,MAAM,YAAY,KAAK,MAAM;AAAA,EAAC;AAAA,EAAC,aAAaN,GAAE;AAAC,WAAO,KAAK,MAAM,aAAa,KAAK,QAAOA,CAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBA,GAAE;AAAC,WAAO,KAAK,MAAM,wBAAwB,KAAK,QAAOA,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,WAAO,KAAK,MAAM,cAAc,KAAK,MAAM;AAAA,EAAC;AAAA,EAAC,uBAAsB;AAAC,WAAO,KAAK,MAAM,qBAAqB,KAAK,MAAM;AAAA,EAAC;AAAA,EAAC,YAAYA,GAAE;AAAC,WAAO,KAAK,MAAM,YAAY,KAAK,QAAOA,CAAC;AAAA,EAAC;AAAA,EAAC,YAAW;AAAC,WAAO,KAAK,MAAM,UAAU,KAAK,MAAM;AAAA,EAAC;AAAA,EAAC,iBAAgB;AAAC,WAAO,KAAK,MAAM,eAAe,KAAK,MAAM;AAAA,EAAC;AAAA,EAAC,kBAAkBA,GAAE;AAAC,WAAO,IAAIe,GAAE,KAAK,QAAO,KAAK,OAAMf,CAAC;AAAA,EAAC;AAAC,GAAAoC,KAAC,cAAgB5B,GAAC;AAAA,EAAC,YAAYR,GAAEF,GAAEQ,GAAE;AAAC,UAAMN,GAAEF,CAAC,GAAE,KAAK,oBAAkBQ;AAAA,EAAC;AAAA,EAAC,uBAAsB;AAAC,WAAO,KAAK;AAAA,EAAiB;AAAA,EAAC,YAAYN,GAAE;AAAC,WAAOD,GAAE,IAAIG,KAAE,KAAK,mBAAkBF,EAAE,MAAKA,EAAE,IAAI;AAAA,EAAC;AAAC,GAAAqC,KAAC,MAAO;AAAA,EAAC,YAAYrC,GAAEF,GAAE;AAAC,SAAK,cAAYE,GAAE,KAAK,SAAOF;AAAA,EAAC;AAAC,GAAAwC,KAAC,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,cAAY,oBAAI,OAAI,KAAK,SAAO,IAAItC,MAAE,KAAK,iBAAeG,GAAE;AAAA,EAAM;AAAA,EAAC,IAAI,aAAY;AAAC,WAAOL,IAAEA,IAAE,KAAK,YAAY;AAAA,EAAI;AAAA,EAAC,QAAQE,GAAE;AAAC,UAAK,EAAC,cAAaF,EAAC,IAAEE;AAAE,QAAOF,MAAJ,EAAM;AAAO,UAAMQ,IAAE,IAAIL,GAAE,GAAE,CAAAH,MAAGE,EAAE,UAAUF,CAAC,CAAC,GAAEe,IAAE,IAAI;AAAM,aAAQZ,IAAE,GAAEA,IAAEH,GAAE,EAAEG,EAAE,CAAAY,EAAEZ,CAAC,IAAEA;AAAE,IAAAK,EAAE,KAAKO,CAAC,GAAE,KAAK,YAAY,IAAIb,EAAE,IAAG,IAAII,GAAEJ,GAAEM,CAAC,CAAC,GAAE,KAAK,OAAO,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,WAAWN,GAAE;AAAC,SAAK,YAAY,OAAOA,CAAC,GAAE,KAAK,OAAO,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,QAAO;AAAC,SAAK,YAAY,MAAK,GAAG,KAAK,OAAO,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,QAAQA,GAAE;AAAC,eAAS,EAAC,aAAYF,GAAE,QAAOQ,EAAC,KAAI,KAAK,YAAY,OAAM,EAAG,CAAAA,EAAE,IAAI,CAAAA,MAAG;AAAC,MAAAR,EAAE,WAAWQ,CAAC,KAAGN,EAAE,IAAIQ,GAAEF,GAAER,CAAC,CAAC;AAAA,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBE,GAAEF,GAAE;AAACmB,IAAAA,EAAE,OAAKjB,EAAE,CAAC,GAAEiB,EAAE,OAAKjB,EAAE,CAAC,GAAEiB,EAAE,OAAKjB,EAAE,CAAC,GAAEiB,EAAE,OAAKjB,EAAE,CAAC;AAAE,eAAS,EAAC,aAAYM,GAAE,QAAOL,EAAC,KAAI,KAAK,YAAY,OAAM,EAAG,CAAAA,EAAE,OAAOgB,GAAE,CAAAjB,MAAG;AAAC,MAAAM,EAAE,WAAWN,CAAC,KAAGF,EAAE,IAAIU,GAAER,GAAEM,CAAC,CAAC;AAAA,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,cAAcN,GAAEF,GAAE;AAAC,eAAUQ,KAAKN,EAAE,CAAAF,EAAEQ,EAAE,eAAc,CAAE;AAAA,EAAC;AAAA,EAAC,cAAcN,GAAE;AAAC,QAAIF,IAAE,OAAIQ,IAAE,OAAIL,IAAE,QAAKY,IAAE;AAAK,eAAS,EAAC,QAAOd,EAAC,KAAI,KAAK,YAAY,OAAM,GAAG;AAAC,YAAK,EAAC,MAAKC,GAAE,MAAKE,GAAE,MAAKM,GAAE,MAAKO,EAAC,IAAEhB,EAAE,OAAM;AAAG,MAAAD,IAAE,KAAK,IAAIA,GAAEE,CAAC,GAAEM,IAAE,KAAK,IAAIA,GAAEJ,CAAC,GAAED,IAAE,KAAK,IAAIA,GAAEO,CAAC,GAAEK,IAAE,KAAK,IAAIA,GAAEE,CAAC;AAAA,IAAC;AAAC,WAAM,EAAC,MAAKjB,GAAE,MAAKQ,GAAE,MAAKL,GAAE,MAAKY,GAAE,kBAAiBb,EAAC;AAAA,EAAC;AAAC,GAAAuC,KAAC,MAAMpC,GAAC;AAAA,EAAC;AAAO,SAAK,SAAO,IAAIA;AAAA,EAAC;AAAA,EAAC,YAAYH,GAAE;AAAC,WAAOA,EAAE,YAAW;AAAA,EAAE;AAAA,EAAC,aAAaA,GAAEF,GAAE;AAAC,WAAOE,EAAE,aAAaF,CAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBE,GAAEF,GAAE;AAAC,WAAOE,EAAE,wBAAwBF,CAAC;AAAA,EAAC;AAAA,EAAC,cAAcE,GAAE;AAAC,WAAOA,EAAE,cAAa;AAAA,EAAE;AAAA,EAAC,YAAYA,GAAE;AAAC,WAAOA,EAAE,qBAAoB;AAAA,EAAE;AAAA,EAAC,YAAYA,GAAEF,GAAE;AAAC,WAAOE,EAAE,YAAYF,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBE,GAAEF,GAAE;AAAC,WAAOE,EAAE,kBAAkBF,CAAC;AAAA,EAAC;AAAC;AAAC,MAAMmB,IAAE,IAAIJ;SCAlnF,MAAO;AAAA,EAAC,YAAYd,GAAEK,GAAE,GAAE;AAAC,SAAK,aAAWL,GAAE,KAAK,SAAOK,GAAE,KAAK,YAAU;AAAE,UAAME,IAAER,KAAEM,EAAE,OAAO,CAACN,GAAE,EAAC,YAAWE,EAAC,MAAIF,IAAEE,GAAE,CAAC,GAAEe,IAAE,IAAEF;AAAE,SAAK,aAAWb,IAAEM,IAAES,GAAE,KAAK,eAAaX,EAAE,OAAO,CAACN,GAAEE,MAAIF,IAAEE,EAAE,cAAa,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,KAAI;AAAC,WAAO,KAAK,WAAW;AAAA,EAAE;AAAA,EAAC,YAAY,GAAE;AAAC,UAAK,EAAC,WAAU,GAAE,kBAAiBa,EAAC,IAAE,KAAK,gBAAgB,CAAC;AAAE,WAAO,KAAK,OAAO,CAAC,EAAE,YAAYA,CAAC;AAAA,EAAC;AAAA,EAAC,aAAa,GAAE,GAAE;AAAC,UAAK,EAAC,WAAUA,GAAE,kBAAiB,EAAC,IAAE,KAAK,gBAAgB,CAAC;AAAE,WAAO,KAAK,OAAOA,CAAC,EAAE,aAAa,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,wBAAwB,GAAE,GAAE;AAAC,UAAK,EAAC,WAAUA,GAAE,kBAAiB,EAAC,IAAE,KAAK,gBAAgB,CAAC;AAAE,WAAO,KAAK,OAAOA,CAAC,EAAE,wBAAwB,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,cAAc,GAAE;AAAC,UAAK,EAAC,WAAU,GAAE,kBAAiBA,EAAC,IAAE,KAAK,gBAAgB,CAAC;AAAE,WAAO,KAAK,OAAO,CAAC,EAAE,cAAcA,CAAC;AAAA,EAAC;AAAA,EAAC,eAAe,GAAE,GAAEA,GAAE;AAAC,UAAK,EAAC,WAAU,GAAE,kBAAiB,EAAC,IAAE,KAAK,gBAAgB,CAAC;AAAE,SAAK,OAAO,CAAC,EAAE,eAAe,GAAE,GAAEA,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAqB,GAAE;AAAC,UAAK,EAAC,WAAU,GAAE,kBAAiBA,EAAC,IAAE,KAAK,gBAAgB,CAAC;AAAE,WAAO,KAAK,OAAO,CAAC,EAAE,qBAAqBA,CAAC;AAAA,EAAC;AAAA,EAAC,YAAY,GAAE,GAAE;AAAC,UAAK,EAAC,WAAUA,GAAE,kBAAiB,EAAC,IAAE,KAAK,gBAAgB,CAAC;AAAE,WAAO,KAAK,OAAOA,CAAC,EAAE,YAAY,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,UAAU,GAAE;AAAC,UAAK,EAAC,WAAU,GAAE,kBAAiBA,EAAC,IAAE,KAAK,gBAAgB,CAAC;AAAE,WAAO,KAAK,OAAO,CAAC,EAAE,UAAUA,CAAC;AAAA,EAAC;AAAA,EAAC,eAAe,GAAE;AAAC,UAAK,EAAC,WAAU,GAAE,kBAAiBA,EAAC,IAAE,KAAK,gBAAgB,CAAC;AAAE,WAAO,KAAK,OAAO,CAAC,EAAE,eAAeA,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkB,GAAE,IAAE,KAAK,mBAAkB,GAAGA,IAAE,GAAE;AAAC,QAAI,IAAEA;AAAE,eAAS,EAAC,MAAK,GAAE,SAAQZ,EAAC,KAAI,KAAK,kBAAkB,CAAC,EAAE,KAAE,EAAE,kBAAkB,GAAEA,GAAE,CAAC;AAAE,WAAO;AAAA,EAAC;AAAA,EAAC,oBAAoB,GAAE,IAAE,KAAK,mBAAkB,GAAGY,IAAE,GAAE;AAAC,QAAI,IAAEA;AAAE,eAAS,EAAC,MAAK,GAAE,SAAQZ,EAAC,KAAI,KAAK,kBAAkB,CAAC,EAAE,KAAE,EAAE,oBAAoB,GAAEA,GAAE,CAAC;AAAE,WAAO;AAAA,EAAC;AAAA,EAAC,CAAC,UAAU,IAAE,KAAK,mBAAkB,GAAG;AAAC,eAAS,EAAC,MAAK,GAAE,SAAQY,EAAC,KAAI,KAAK,kBAAkB,CAAC,EAAE,YAAUf,KAAK,EAAE,UAAUe,CAAC,EAAE,OAAMf;AAAA,EAAC;AAAA,EAAC,CAAC,qBAAoB;AAAC,UAAK,EAAC,cAAa,EAAC,IAAE;AAAK,aAAQ,IAAE,GAAE,IAAE,GAAE,EAAE,EAAE,OAAM;AAAA,EAAC;AAAA,EAAC,gBAAgB,GAAE;AAAC,UAAK,EAAC,WAAU,EAAC,IAAE;AAAK,WAAM,EAAC,WAAU,KAAK,MAAM,IAAE,CAAC,GAAE,kBAAiB,IAAE,EAAC;AAAA,EAAC;AAAA,EAAC,CAAC,kBAAkB,GAAE;AAAC,UAAM,IAAE,IAAI;AAAM;AAAC,UAAIe,IAAE,GAAEd,IAAE,IAAI;AAAM,iBAAUK,KAAK,GAAE;AAAC,cAAK,EAAC,WAAUN,GAAE,kBAAiBG,EAAC,IAAE,KAAK,gBAAgBG,CAAC;AAAE,QAAAS,MAAIf,MAAQC,EAAE,WAAN,KAAc,EAAE,KAAK,EAAC,WAAUc,GAAE,SAAQd,EAAC,CAAC,GAAEc,IAAEf,GAAEC,IAAE,CAAA,IAAIA,EAAE,KAAKE,CAAC;AAAA,MAAC;AAAC,MAAIF,EAAE,WAAN,KAAc,EAAE,KAAK,EAAC,WAAUc,GAAE,SAAQd,EAAC,CAAC;AAAA,IAAC;AAAC,UAAK,EAAC,QAAOc,EAAC,IAAE;AAAK,eAAS,EAAC,WAAU,GAAE,SAAQ,EAAC,KAAI,EAAE,OAAK,EAAC,MAAKA,EAAE,CAAC,GAAE,SAAQ,EAAC;AAAA,EAAC;AAAC,QCAztD,MAAO;AAAA,EAAC,YAAY,GAAE;AAAC,SAAK,UAAQ,IAAIb,GAAE,IAAI,WAAW,CAAC,GAAE,IAAI,SAAS,CAAC,CAAC,GAAE,KAAK,SAAOiB,GAAE,KAAK,OAAO;AAAA,EAAC;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,OAAO,eAAe;AAAA,EAAM;AAAA,EAAC,IAAI,wBAAuB;AAAC,WAAO,KAAK,OAAO;AAAA,EAAqB;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAU;AAAA,EAAC,YAAY,GAAE;AAAC,WAAO,KAAK,aAAa,GAAE,KAAK,OAAO,iBAAiB;AAAA,EAAC;AAAA,EAAC,aAAa,GAAE,GAAE;AAAC,UAAK,EAAC,QAAO,EAAC,aAAY,GAAE,kBAAiBJ,EAAC,EAAC,IAAE,MAAKd,IAAE,EAAE,IAAI,CAAC,GAAG;AAAM,QAASA,KAAN,KAAQ;AAAO,UAAMG,IAAEW,EAAE,IAAE,EAAE,OAAO,SAAOd,CAAC,GAAEO,IAAE,KAAK;AAAQ,WAAOA,EAAE,KAAKJ,CAAC,GAAEC,EAAEG,CAAC;AAAA,EAAC;AAAA,EAAC,wBAAwB,GAAE,GAAE;AAAC,UAAM,IAAE,KAAK,aAAa,GAAE,CAAC;AAAE,WAAgB,OAAO,KAAjB,WAAmB,IAAI,KAAK,CAAC,EAAE,YAAoB,OAAO,KAAjB,YAA0B,KAAN,OAAQ,IAAE;AAAA,EAAI;AAAA,EAAC,cAAc,GAAE;AAAC,UAAK,EAAC,QAAO,EAAC,aAAY,GAAE,kBAAiB,EAAC,EAAC,IAAE,MAAKO,IAAE,IAAE,EAAE,OAAO,QAAOd,IAAE,KAAK,SAAQG,IAAE,CAAA;AAAG,eAAUI,KAAK,EAAE,QAAO;AAAC,YAAMR,IAAE,EAAEe,IAAEP,EAAE,KAAK;AAAE,MAAAP,EAAE,KAAKD,CAAC,GAAEI,EAAEI,EAAE,IAAI,IAAEH,EAAEJ,CAAC;AAAA,IAAC;AAAC,WAAOG;AAAA,EAAC;AAAA,EAAC,eAAe,GAAE,GAAE,IAAE,GAAE;AAAC,UAAMW,IAAE,KAAK,SAAQ,EAAC,WAAUd,GAAE,gBAAeG,EAAC,IAAE,KAAK,QAAO,EAAC,OAAMI,GAAE,WAAUF,EAAC,IAAEL;AAAE,IAAAc,EAAE,KAAKX,EAAE,CAAC,CAAC,GAAE,KAAK,iBAAiBI,GAAEF,GAAE,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAqB,GAAE;AAAC,UAAM,IAAEH;AAAI,WAAO,KAAK,eAAe,GAAE,CAAC,GAAE,IAAIK,EAAE,CAAA,GAAG,CAAC;AAAA,EAAC;AAAA,EAAC,YAAY,GAAE,EAAC,MAAK,GAAE,MAAK,EAAC,GAAE;AAAC,SAAK,eAAe,GAAEM,CAAC;AAAE,UAAK,CAACC,GAAEd,GAAEG,CAAC,IAAEU,GAAER,IAAE,CAACS,GAAEd,CAAC;AAAE,WAAO,MAAIK,EAAE,CAAC,IAAEF,IAAG,MAAIE,EAAE,IAAE,IAAE,CAAC,IAAE,IAAG,IAAIE,EAAE,CAAA,GAAGF,CAAC;AAAA,EAAC;AAAA,EAAC,UAAU,GAAE;AAAC,SAAK,eAAe,GAAEQ,CAAC;AAAE,UAAK,CAAC,GAAE,CAAC,IAAEA,GAAE,IAAE,IAAIC;AAAE,WAAO,EAAE,OAAK,GAAE,EAAE,OAAK,GAAE,EAAE,OAAK,GAAE,EAAE,OAAK,GAAE;AAAA,EAAC;AAAA,EAAC,eAAe,GAAE;AAAC,SAAK,eAAe,GAAED,CAAC;AAAE,UAAK,CAAC,GAAE,GAAEC,CAAC,IAAED;AAAE,WAAOb,GAAE,GAAE,GAAEc,GAAE,GAAE,GAAEA,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkB,GAAE,IAAE,KAAK,mBAAkB,GAAG,IAAE,GAAE;AAAC,UAAMA,IAAE,KAAK,SAAQ,EAAC,mBAAkBd,GAAE,kBAAiBG,GAAE,aAAYI,EAAC,IAAE,KAAK,QAAOF,IAAEE,EAAE,IAAIP,CAAC,EAAE,OAAMgB,IAAET,EAAE,OAAO;AAAO,eAAUD,KAAK,GAAE;AAAC,YAAML,IAAEE,EAAEG,IAAEU,IAAEX,CAAC;AAAE,MAAAS,EAAE,KAAKb,CAAC,GAAE,EAAE,GAAG,IAAEG,EAAEU,CAAC;AAAA,IAAC;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,oBAAoB,GAAE,IAAE,KAAK,sBAAqB,IAAE,GAAE;AAAC,UAAMA,IAAE,KAAK,SAAQ,EAAC,WAAUd,GAAE,gBAAeG,EAAC,IAAE,KAAK,QAAO,EAAC,OAAMI,GAAE,WAAUF,EAAC,IAAEL;AAAE,eAAUgB,KAAK,GAAE;AAAC,YAAMf,IAAEE,EAAEa,CAAC;AAAE,MAAAF,EAAE,KAAKb,CAAC,GAAE,IAAE,KAAK,iBAAiBM,GAAEF,GAAE,GAAE,CAAC;AAAA,IAAC;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,CAAC,UAAU,IAAE,KAAK,mBAAkB,GAAG;AAAC,UAAM,IAAE,KAAK,SAAQ,EAAC,mBAAkB,GAAE,kBAAiBS,GAAE,aAAYd,EAAC,IAAE,KAAK,QAAOG,IAAEH,EAAE,IAAI,CAAC,EAAE,OAAMO,IAAEP,EAAE,OAAO;AAAO,eAAUK,KAAK,GAAE;AAAC,YAAMN,IAAEe,EAAET,IAAEE,IAAEJ,CAAC;AAAE,QAAE,KAAKJ,CAAC,GAAE,MAAMK,EAAE,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,CAAC,qBAAoB;AAAC,UAAK,EAAC,cAAa,EAAC,IAAE;AAAK,aAAQ,IAAE,GAAE,IAAE,GAAE,EAAE,EAAE,OAAM;AAAA,EAAC;AAAA,EAAC,iBAAiB,CAAC,GAAE,GAAE,CAAC,GAAE,CAACU,GAAEd,GAAEG,CAAC,GAAEI,GAAEF,GAAE;AAAC,UAAcI,IAAE,KAAK,SAAQS,IAAET,EAAE,UAAS,GAAGM,IAAEN,EAAE,IAAG,IAAGS;AAAE,WAAKT,EAAE,IAAG,IAAGM,KAAGN,EAAE,KAAI,IAAI,SAAOA,EAAE,IAAG,GAAE;AAAA,MAAE,KAAK,GAAE;AAAC,cAAMO,IAAEP,EAAE,aAAY,IAAEA,EAAE,QAAMO;AAAE,eAAKP,EAAE,IAAG,IAAG,KAAGA,EAAE,KAAI,IAAI,CAAGA,EAAE,IAAG,MAAK,KAAEA,EAAE,UAAS,GAAGF,EAAEF,GAAG,IAAES,IAAE,IAAEL,EAAE,UAAS,GAAGF,EAAEF,GAAG,IAAEL,IAAE,IAAES,EAAE,aAAYF,EAAEF,GAAG,IAAEF,IAAE,IAAEM,EAAE,UAAS,KAAQA,EAAE;AAAO;AAAA,MAAK;AAAA,MAAC;AAAQ,QAAAA,EAAE,KAAI;AAAA,IAAE;AAAC,WAAOJ;AAAA,EAAC;AAAC;AAAC,SAASa,GAAEnB,GAAE;AAAW,SAAKA,EAAE,UAAQ;AAAC,QAAGA,EAAE,IAAG,MAAK,EAAE,QAAOgB,GAAEhB,EAAE,WAAU,CAAE;AAAE,IAAAA,EAAE;EAAM;AAACkB,EAAAA;AAAG;AAAC,SAASF,GAAEhB,GAAE;AAAW,SAAKA,EAAE,KAAI,KAAI;AAAC,QAAGA,EAAE,IAAG,MAAK,EAAE,QAAOS,GAAET,EAAE,WAAU,CAAE;AAAE,IAAAA,EAAE,KAAI;AAAA,EAAE;AAACkB,EAAAA,EAAC;AAAE;AAAC,SAAST,GAAET,GAAE;AAA+C,MAAIK,GAAES,GAAEM,IAAE,IAAGG,IAAE,IAAGI,IAAE;AAAE,QAAMd,IAAE,IAAI,SAAMQ,IAAE,IAAI,SAAMT,IAAE,IAAI;AAAM,SAAKZ,EAAE,KAAI,IAAI,SAAOA,EAAE,IAAG,GAAE;AAAA,IAAE,KAAK;AAAE,MAAAc,IAAEd,EAAE,UAAS;AAAG;AAAA,IAAM,KAAK;AAAE,MAAAA,EAAE,QAAO,MAAK,KAAGkB,EAAC;AAAG;AAAA,IAAM,KAAK;AAAE,MAAAE,IAAEpB,EAAE,QAAO,KAAI;AAAG;AAAA,IAAM,KAAK;AAAE,MAAAK,IAAED,GAAEJ,EAAE,eAAeO,EAAC,CAAC;AAAE;AAAA,IAAM,KAAK,IAAE;AAAC,YAAML,IAAEF,EAAE,eAAeiB,EAAC;AAAE,MAAAf,EAAE,QAAMyB,KAAId,EAAE,KAAKX,CAAC;AAAE;AAAA,IAAK;AAAA,IAAC,KAAK,IAAE;AAAC,MAAAmB,EAAE,KAAKrB,EAAE,IAAG,CAAE;AAAE,YAAME,IAAEF,EAAE,UAAS,GAAGG,IAAEH,EAAE,IAAG,IAAGE;AAAE,aAAKF,EAAE,IAAG,IAAGG,KAAGH,EAAE,KAAI,IAAI,CAAGA,EAAE,IAAG,MAAK,KAAEY,EAAE,KAAKZ,EAAE,IAAG,CAAE,GAAEA,EAAE,KAAI;AAAiB;AAAA,IAAK;AAAA,IAAC,KAAK;AAAE,MAAAuB,IAAEvB,EAAE,aAAW;AAAG;AAAA,IAAM;AAAQ,MAAAA,EAAE,KAAI;AAAA,EAAE;AAAC,QAAM4B,IAAE,IAAItB,GAAEO,CAAC;AAAE,SAAaR,KAAN,QAASkB,KAAST,KAAN,QAASc,EAAE,IAAId,CAAC,KAAGI,KAAI,EAAC,WAAUb,GAAE,uBAAsBe,GAAE,aAAYQ,GAAE,mBAAkBd,GAAE,gBAAeO,GAAE,kBAAiBT,EAAC;AAAC;AAAC,SAASM,IAAG;AAAC,QAAMhB,IAAE,IAAIF,GAAE,sBAAqB,2BAA0B,IAAI,OAAK;AAAE,QAAM,QAAQ,MAAME,CAAC,GAAEA;AAAC;AAAC,SAASG,EAAEL,GAAE;AAAC,QAA0C,IAAEA,EAAE,UAAS,GAAGmB,IAAEnB,EAAE,IAAG,IAAG;AAAE,SAAKA,EAAE,IAAG,IAAGmB,KAAGnB,EAAE,KAAI,IAAI,SAAOA,EAAE,IAAG,GAAE;AAAA,IAAE,KAAK;AAAE,aAAOA,EAAE;IAAY,KAAK;AAAE,aAAOA,EAAE,SAAQ;AAAA,IAAG,KAAK;AAAE,aAAOA,EAAE,UAAS;AAAA,IAAG,KAAK;AAAE,aAAOA,EAAE,UAAS;AAAA,IAAG,KAAK;AAAE,aAAOA,EAAE,UAAS;AAAA,IAAG,KAAK;AAAE,aAAOA,EAAE;IAAW,KAAK;AAAE,aAAOA,EAAE,UAAS;AAAA,IAAG,KAAK;AAAE,aAAOA,EAAE,UAAS;AAAA,IAAG,KAAK;AAAE,aAAOA,EAAE,QAAO;AAAA,IAAG;AAAQ,aAAOA,EAAE,KAAI,GAAG;AAAA,EAAI;AAAC,SAAO;AAAI;AAAC,MAAMc,IAAEX,EAAC,GCAhrIK,KAAE,KAAIF,KAAE,GAAEL,KAAE;AAAC,IAAAyC,KAAC,MAAO;AAAA,EAAC,YAAY,GAAE,GAAE,GAAEtC,GAAEW,GAAE;AAAC,SAAK,mBAAiB,GAAE,KAAK,MAAI,GAAE,KAAK,gBAAcX,GAAE,KAAK,eAAaW;AAAE,UAAK,EAAC,8BAA6Bd,GAAE,gBAAeM,EAAC,IAAE,KAAK,aAAa,OAAMG,IAAET,IAAEK,KAAE,GAAEQ,KAAGP,KAAGC,MAAGE;AAAE,SAAK,YAAU,KAAK,IAAIF,IAAEM,CAAC;AAAE,UAAME,IAAE,EAAE,MAAK;AAAG,IAAAA,EAAE,YAAU,IAAGA,EAAE,aAAW,QAAOA,EAAE,sBAAoB,GAAEA,EAAE,iBAAe,IAAGA,EAAE,UAAQ,IAAGA,EAAE,uBAAqBN,GAAEM,EAAE,MAAI,KAAK,WAAUA,EAAE,YAAU,CAACZ,CAAC,GAAE,KAAK,aAAWY;AAAA,EAAC;AAAA,EAAC,MAAM,MAAMb,GAAEY,GAAE;AAAC,UAAK,EAAC,kBAAiBP,GAAE,WAAUF,EAAC,IAAE,MAAKC,IAAEL,GAAEC,EAAE,QAAOK,CAAC,GAAEE,IAAE,KAAK,WAAW,MAAK;AAAG,IAAAA,EAAE,WAASH;AAAE,UAAMO,IAAE,IAAI;AAAM,QAAI,IAAE,GAAEI,IAAE,IAAGb,IAAE;AAAE,WAAK,CAACa,KAAG;AAAC,YAAMhB,IAAE,CAAA;AAAG,eAAQF,IAAE,GAAEA,IAAEK,GAAE,EAAEL,EAAE,CAAAE,EAAE,KAAK,KAAK,WAAWQ,GAAE,KAAIK,CAAC,CAAC;AAAE,YAAMZ,IAAE,MAAM,QAAQ,IAAID,CAAC;AAAEF,MAAAA,EAAEe,CAAC;AAAE,iBAAUf,KAAKG,GAAE;AAAC,cAAMD,IAAMF,EAAE,iBAAN;AAAmB,QAAAkB,MAAI,CAAClB,EAAE,yBAAuB,CAACE,GAAEA,KAAGY,EAAE,KAAKd,CAAC;AAAA,MAAC;AAAC,MAAAK,IAAE,KAAK,IAAIA,IAAE,GAAEJ,EAAC;AAAA,IAAC;AAAC,WAAO,IAAIG,GAAED,GAAEW,GAAER,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,WAAWJ,GAAEE,GAAEI,GAAE;AAAC,UAAMF,IAAEJ,EAAE,MAAK;AAAG,IAAAI,EAAE,QAAMF,IAAE,KAAK;AAAU,UAAMH,KAAG,MAAME,GAAE,KAAK,KAAIG,GAAE,EAAC,QAAOE,EAAC,CAAC,GAAG;AAAK,WAAOR,EAAEQ,CAAC,GAAE,IAAIO,GAAEd,CAAC;AAAA,EAAC;AAAC;ACA/rB,MAAMQ,GAAC;AAAA,EAAC,YAAY,GAAEN,GAAE;AAAC,SAAK,sBAAoBA,GAAE,KAAK,iBAAe,oBAAI,OAAI,KAAK,oBAAsB,MAAJ;AAAA,EAAK;AAAA,EAAC,0BAA0B,IAAE,IAAGA,IAAE,CAAA,GAAG;AAAC,WAAM,EAAC,UAAS,GAAE,cAAaA,EAAC;AAAA,EAAC;AAAA,EAAC,0BAA0B,GAAE;AAAC,UAAMA,IAAE,KAAK,0BAAyB;AAAG,eAAUD,KAAK,EAAE,CAAMA,KAAN,SAAUC,EAAE,SAAS,KAAK,GAAGD,EAAE,QAAQ,GAAEC,EAAE,aAAa,KAAK,GAAGD,EAAE,YAAY;AAAG,WAAOC;AAAA,EAAC;AAAA,EAAC,MAAM,cAAc,GAAE;AAAC,UAAK,EAAC,MAAKA,GAAE,YAAWD,EAAC,IAAE,EAAC;AAAG,WAAO,MAAM,KAAK,oBAAoB,cAAcC,GAAED,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,eAAe,GAAE;AAAC,UAAMC,IAAE,KAAK,gBAAgB,CAAC;AAAE,WAAO,IAAIK,EAAE,MAAKL,GAAE,EAAE;AAAA,EAAC;AAAA,EAAC,gBAAgB,GAAE;AAAC,WAAM,EAAC,UAAS,CAAC,EAAC,IAAG,mBAAkB,WAAU,EAAC,CAAC,GAAE,cAAa,CAAA,EAAE;AAAA,EAAC;AAAA,EAAC,MAAM,eAAe,GAAE;AAAC,UAAK,EAAC,MAAKA,GAAE,YAAWD,EAAC,IAAE,GAAE,IAAEa,EAAE,UAAU;AAAE,QAAI,GAAEP;AAAE,YAAOL,GAAC;AAAA,MAAE,KAAI;AAAU,YAAE,IAAIc,GAAE,EAAE,YAAW,EAAC,WAAU,KAAK,kBAAiB,CAAC,GAAET,IAAE,EAAC,MAAKL,GAAE,YAAW,GAAE,YAAW,EAAE,WAAU;AAAE;AAAA,MAAM,KAAI;AAAM,YAAE,IAAIE,GAAEH,GAAE,KAAK,iBAAiB,GAAEM,IAAE,EAAC,MAAKL,GAAE,YAAW,GAAE,YAAW,EAAE,WAAU;AAAA,IAAC;AAAC,WAAO,KAAK,eAAe,IAAI,GAAE,EAAE,mBAAkB,CAAE,GAAE,MAAM,KAAK,oBAAoB,eAAeK,CAAC,GAAE;AAAA,EAAC;AAAA,EAAC,gBAAgB,GAAE;AAAC,WAAM,EAAC,UAAS,CAAC,EAAC,IAAG,oBAAmB,YAAW,EAAC,CAAC,GAAE,cAAa,CAAA,EAAE;AAAA,EAAC;AAAA,EAAC,eAAe,GAAE;AAAC,WAAM,EAAC,UAAS,CAAC,EAAC,GAAG,GAAE,IAAG,kBAAiB,CAAC,GAAE,cAAa,CAAA,EAAE;AAAA,EAAC;AAAA,EAAC,MAAM,qBAAqB,GAAE;AAAC,WAAO,MAAM,KAAK,oBAAoB,qBAAqB,CAAC,GAAE;AAAA,EAAC;AAAA,EAAC,MAAM,sBAAsB,GAAE;AAAC,UAAM,KAAK,oBAAoB,sBAAsB,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0B,GAAEL,GAAED,GAAE,GAAE;AAAC,UAAK,EAAC,YAAW,EAAC,IAAEC;AAAE,QAAS,KAAK,eAAe,IAAI,CAAC,KAA/B,KAAiC,OAAM,IAAI,MAAM,sCAAsC,CAAC,EAAE;AAAE,UAAK,EAAC,sBAAqBK,GAAE,2BAA0BO,EAAC,IAAE,KAAK,2BAA2BZ,GAAED,GAAE,CAAC;AAAE,WAAO,KAAK,gCAAgC,GAAE,GAAEM,GAAEO,GAAEb,CAAC;AAAA,EAAC;AAAA,EAAC,6BAA6B,GAAEC,GAAED,GAAE,GAAE;AAAC,UAAK,EAAC,YAAW,EAAC,IAAEC;AAAE,QAAS,KAAK,eAAe,IAAI,CAAC,KAA/B,KAAiC,OAAM,IAAI,MAAM,sCAAsC,CAAC,EAAE;AAAE,UAAK,EAAC,sBAAqBK,GAAE,2BAA0BO,EAAC,IAAE,KAAK,2BAA2BZ,GAAED,GAAE,CAAC;AAAE,WAAO,KAAK,mCAAmC,GAAE,GAAEM,GAAEO,GAAEb,CAAC;AAAA,EAAC;AAAA,EAAC,gCAAgC,GAAEC,GAAED,GAAE,GAAE,GAAE;AAAC,UAAK,EAAC,WAAUM,GAAE,cAAaO,EAAC,IAAE;AAAE,WAAM,EAAC,UAAS,CAAC,EAAC,IAAG,uCAAsC,YAAW,GAAE,SAAQZ,GAAE,sBAAqBD,GAAE,2BAA0B,GAAE,aAAY,EAAC,CAAC,GAAE,cAAa,CAACA,EAAE,MAAKM,EAAE,QAAOO,EAAE,MAAM,EAAC;AAAA,EAAC;AAAA,EAAC,mCAAmC,GAAEZ,GAAED,GAAE,GAAE,GAAE;AAAC,UAAK,EAAC,WAAUM,GAAE,cAAaO,EAAC,IAAE;AAAE,WAAM,EAAC,UAAS,CAAC,EAAC,IAAG,0CAAyC,YAAW,GAAE,SAAQZ,GAAE,sBAAqBD,GAAE,2BAA0B,GAAE,aAAY,EAAC,CAAC,GAAE,cAAa,CAACA,EAAE,MAAKM,EAAE,QAAOO,EAAE,MAAM,EAAC;AAAA,EAAC;AAAA,EAAC,mCAAmC,GAAEZ,GAAE;AAAC,WAAM,EAAC,UAAS,CAAC,EAAC,IAAG,0CAAyC,YAAW,GAAE,SAAQA,EAAC,CAAC,GAAE,cAAa,GAAE;AAAA,EAAC;AAAA,EAAC,MAAM,kBAAkB,GAAE;AAAC,UAAMA,IAAEY,EAAE,cAAc,GAAEb,IAAE,oBAAI,OAAI,IAAE,EAAC,QAAO,EAAE,OAAO,IAAI,CAAAF,OAAI,EAAC,YAAWA,EAAE,WAAW,IAAI,CAAAA,MAAG;AAAC,YAAMG,IAAEH,EAAE,WAAW,IAAI,UAAU;AAAE,UAAG,CAACG,KAAOA,EAAE,QAAQ,WAAd,EAAqB,OAAM,IAAI,MAAM,8BAA8B;AAAE,YAAMF,IAAE,GAAEO,IAAEF,GAAEH,EAAE,QAAQ,SAAOF,CAAC,GAAEc,IAAE,IAAIX,GAAEI,GAAEP,GAAEE,CAAC;AAAE,UAAS,KAAK,eAAe,IAAIH,EAAE,UAAU,KAA1C,KAA4C,OAAM,IAAI,MAAM,kBAAkB;AAAE,YAAK,EAAC,sBAAqBiB,EAAC,IAAE,KAAK,2BAA2BjB,GAAE,IAAI;AAAE,aAAAE,EAAE,IAAIe,EAAE,IAAI,GAAQ,EAAC,YAAWjB,EAAE,YAAW,sBAAqBiB,GAAE,cAAa,EAAC,OAAMF,EAAE,OAAM,OAAMA,EAAE,MAAK,EAAC;AAAA,IAAC,CAAC,GAAE,sBAAqBf,EAAE,qBAAoB,EAAE,EAAC;AAAE,WAAO,MAAM,KAAK,oBAAoB,kBAAkBG,GAAE,GAAE,MAAM,KAAKD,CAAC,CAAC,GAAEC;AAAAA,EAAC;AAAA,EAAC,mBAAmB,GAAE;AAAC,WAAM,EAAC,UAAS,CAAC,EAAC,IAAG,wBAAuB,YAAW,EAAC,CAAC,GAAE,cAAa,GAAE;AAAA,EAAC;AAAA,EAAC,gBAAgB,GAAEA,GAAED,GAAE;AAAC,WAAM,EAAC,UAAS,CAAC,EAAC,IAAG,qBAAoB,YAAW,GAAE,SAAQC,GAAE,MAAKD,EAAC,CAAC,GAAE,cAAa,CAACA,EAAE,WAAW,QAAOA,EAAE,iBAAiB,QAAOA,EAAE,gBAAgB,QAAOA,EAAE,WAAW,MAAM,EAAC;AAAA,EAAC;AAAA,EAAC,mBAAmB,GAAEC,GAAE;AAAC,WAAM,EAAC,UAAS,CAAC,EAAC,IAAG,wBAAuB,YAAW,GAAE,SAAQA,EAAC,CAAC,GAAE,cAAa,CAAA,EAAE;AAAA,EAAC;AAAA,EAAC,uBAAuB,GAAEA,GAAED,GAAE;AAAC,WAAM,EAAC,UAAS,CAAC,EAAC,IAAG,4BAA2B,YAAW,GAAE,SAAQC,GAAE,kBAAiBD,EAAC,CAAC,GAAE,cAAa,CAACA,EAAE,MAAM,EAAC;AAAA,EAAC;AAAA,EAAC,iBAAiB,GAAEC,GAAED,GAAE;AAAC,WAAM,EAAC,UAAS,CAAC,EAAC,IAAG,qBAAoB,YAAW,GAAE,SAAQC,GAAE,YAAWD,EAAC,CAAC,GAAE,cAAa,CAACA,EAAE,MAAM,EAAC;AAAA,EAAC;AAAA,EAAC,MAAM,uBAAuB,GAAE;AAAC,IAAI,EAAE,SAAS,WAAf,KAAuB,MAAM,KAAK,oBAAoB,sBAAsB,CAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BD,GAAEK,GAAEE,GAAE;AAAC,UAAK,EAAC,YAAWO,GAAE,cAAaX,GAAE,WAAUa,EAAC,IAAEhB,GAAEI,IAAE,KAAK,eAAe,IAAIU,CAAC;AAAE,QAASV,KAAN,KAAQ,OAAM,IAAI,MAAM,+CAA+C;AAAE,QAAII,IAAE;AAAK,QAAGR,EAAE,kBAAgBK,EAAEN,CAAAA,GAAEU,GAAET,EAAE,cAAc,GAAES,EAAE,EAAE,KAAGJ,EAAE,CAAC,GAAEI,EAAE,EAAE,KAAGJ,EAAE,CAAC,GAAEI,EAAE,EAAE,KAAGJ,EAAE,CAAC,GAAEG,IAAEC;AAAA,SAAM;AAAC,UAAGJ,EAAE,OAAM,IAAI,MAAM,iBAAiB;AAAE,MAAAL,EAAE,mBAAiBQ,IAAER,EAAE;AAAA,IAAe;AAAC,QAAI0B,IAAE;AAAK,IAAAlB,MAAIN,GAAEa,GAAEN,CAAC,GAAER,GAAEc,GAAEA,CAAC,GAAEW,IAAEX;AAAG,UAAMJ,IAAEX,EAAE,YAAWiB,IAAEb,EAAE,aAAaO,CAAC,GAAEE,IAAEN,IAAEH,EAAE,iBAAeA,EAAE;AAAO,QAAG,CAACS,EAAE,OAAM,IAAI,MAAM,gBAAgB;AAAE,UAAMK,IAAEL,EAAE,SAAO;AAAE,IAAAI,IAAE,KAAK,MAAMX,KAAEY,CAAC,KAAG,QAAQ,KAAK,yDAAyD;AAAE,UAAMI,IAAET,EAAE,aAAaI,CAAC,GAAEG,IAAE,GAAEsB,IAAEtC,EAAE,MAAMI,GAAEkB,GAAEf,GAAEX,EAAE,WAAUsB,GAAEF,CAAC;AAAE,QAASsB,KAAN,KAAQ,OAAM,IAAI,MAAM,uDAAuD;AAAE,QAAGvC,EAAE,WAASuC,EAAE,YAAU1B,EAAE,WAAS0B,EAAE,SAAS,OAAM,IAAI,MAAM,0GAA0G;AAAE,WAAM,EAAC,sBAAqB,EAAC,MAAKpB,EAAE,QAAO,cAAaL,EAAC,GAAE,2BAA0B,EAAC,WAAUD,GAAE,cAAab,GAAE,QAAO,EAAC,aAAYuC,EAAE,oBAAmB,UAASA,EAAE,SAAQ,EAAC,EAAC;AAAA,EAAC;AAAA,EAAC,MAAM,gBAAgB,GAAExC,GAAE;AAAC,UAAM,KAAK,oBAAoB,gBAAgB,GAAEA,CAAC;AAAA,EAAC;AAAC;AAAC,MAAMO,IAAET,KAAIe,IAAEf,EAAC,GAAGM,KAAE,WAAS;ACA9rL,SAASH,GAAED,GAAED,GAAEE,GAAE;AAAC,SAAM,CAAC,CAACJ,EAAEG,GAAED,GAAEM,GAAEJ,EAAE,gBAAgB,MAAIA,EAAE,IAAEI,EAAE,CAAC,GAAEJ,EAAE,IAAEI,EAAE,CAAC,GAAEJ,EAAE,IAAEI,EAAE,CAAC,GAAE;AAAG;AAAgF,MAAMA,IAAEL,EAAC;ACA4G,SAASE,GAAEH,GAAE;AAAC,QAAK,EAAC,OAAM,GAAE,YAAWD,EAAC,IAAEC;AAAE,SAAM,EAAC,YAAWD,GAAE,OAAMA,EAAE,OAAO,CAAC,EAAC;AAAC;AAAC,SAASgB,GAAEf,GAAE,GAAED,GAAE;AAAC,SAAOC,EAAE,WAAW,UAAUA,EAAE,OAAM,GAAED,EAAE,KAAK,GAAEA;AAAC;AAAC,SAASiB,GAAEhB,GAAE,GAAE;AAAC,SAAOA,EAAE,WAAW,UAAUA,EAAE,OAAM,CAAC,GAAE;AAAC;AAAC,SAAS0B,GAAE1B,GAAE;AAAC,SAAM,EAAC,YAAWA,GAAE,OAAMA,EAAE,OAAM,EAAE;AAAC;AAAC,SAASkB,GAAElB,GAAE,GAAED,IAAE2B,GAAE1B,CAAC,GAAE;AAAC,SAAOD,EAAE,aAAWC,GAAEA,EAAE,KAAK,GAAED,EAAE,KAAK,GAAEA;AAAC;AAAC,SAAS2C,GAAE1C,GAAE;AAAC,SAAOkB,GAAEU,IAAEhB,GAAE,GAAE,GAAE,GAAER,GAAEJ,CAAC,EAAE,MAAM,CAAC;AAAC;AAAC,MAAMyB,KAAE,KAAG;AAAG,SAASR,KAAG;AAAC,SAAOC,GAAEX,IAAEO,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAACW,IAAE,GAAE,CAAC,GAAE,CAAC,GAAEA,IAAE,CAAC,CAAC,CAAC;AAAC;AAAC,SAASI,GAAE7B,GAAE,GAAED,GAAE;AAAC,SAAOC,EAAE,WAAW,OAAOA,EAAE,OAAM,GAAE,GAAED,CAAC;AAAC;AAAC,SAAS4C,GAAE3C,GAAE,GAAED,GAAEG,GAAE;AAAC,SAAOF,EAAE,WAAW,OAAOA,EAAE,OAAM,GAAED,GAAEG,CAAC;AAAC;AAAC,SAAS0C,GAAE5C,GAAE,GAAED,GAAE;AAAC,SAAOC,EAAE,WAAW,aAAaA,EAAE,OAAM,GAAED,CAAC;AAAC;AAAiE,SAASW,GAAEV,GAAE,GAAED,GAAE;AAAC,SAAOC,EAAE,WAAW,8BAA8BA,EAAE,OAAM,GAAED,CAAC;AAAC;AAAiJ,SAAS8C,GAAE7C,GAAE,GAAE;AAAC,SAAOA,EAAE,WAAW,WAAWA,EAAE,OAAM,CAAC;AAAC;AAAC,SAAS8C,GAAE9C,GAAE,GAAED,GAAEG,GAAE;AAAC,SAAOF,EAAE,WAAW,cAAcA,EAAE,OAAM,GAAED,GAAEG,CAAC;AAAC;AAAC,SAAS6C,GAAEhD,GAAEG,GAAED,GAAEK,GAAE;AAAC,SAAOJ,MAAII,KAAGN,GAAEM,GAAEJ,CAAC,GAAEJ,GAAEkD,GAAE1C,EAAE,EAAE,GAAEA,EAAE,EAAE,GAAEA,EAAE,EAAE,CAAC,GAAEwC,GAAE/C,GAAEiD,GAAE/C,GAAE+C,CAAC,GAAE1C,EAAE,EAAE,IAAE0C,EAAE,CAAC,GAAE1C,EAAE,EAAE,IAAE0C,EAAE,CAAC,GAAE1C,EAAE,EAAE,IAAE0C,EAAE,CAAC,GAAE1C;AAAC;AAAC,SAASqB,EAAE3B,GAAE,GAAED,GAAE;AAAC,SAAOC,EAAE,WAAW,QAAQA,EAAE,OAAM,GAAED,EAAE,KAAK;AAAC;AAAC,MAAMiD,IAAExC,EAAC;ACA/V,MAAMoB,EAAC;AAAA,EAAC,YAAY5B,GAAEF,GAAEI,GAAED,GAAE;AAAC,SAAK,cAAYD,GAAE,KAAK,mBAAiBF,GAAE,KAAK,eAAaI,GAAE,KAAK,oBAAkBD,GAAE,KAAK,uBAAqBW,GAAEX,CAAC,GAAE,KAAK,qBAAmBY,GAAEf,CAAC,GAAE,KAAK,gBAAcC,GAAED,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,OAAOE,GAAE;AAAC,IAAAA,KAAGe,GAAE,KAAK,mBAAkBf,GAAE,KAAK,iBAAiB;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAOgB,GAAE,KAAK,mBAAkBF,GAAC,CAAE;AAAA,EAAC;AAAA,EAAC,YAAYd,GAAE;AAAC,WAAOQ,GAAE,KAAK,mBAAkBR,CAAC;AAAA,EAAC;AAAA,EAAC,YAAYA,GAAEF,GAAEI,IAAEF,GAAE;AAAC,WAAOU,GAAE,KAAK,mBAAkBR,GAAEJ,GAAEE,CAAC;AAAA,EAAC;AAAA,EAAC,4BAA4BA,GAAEF,GAAE;AAACS,IAAAA,GAAE,KAAK,mBAAkBT,GAAEE,GAAEF,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBE,GAAEF,GAAE;AAAC,WAAOmB,GAAE,KAAK,mBAAkBjB,GAAEF,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBE,GAAEF,GAAEI,GAAE;AAAC,WAAO0C,GAAE,KAAK,mBAAkB5C,GAAEF,GAAEI,CAAC;AAAA,EAAC;AAAA,EAAC,sBAAsBF,GAAEF,GAAE;AAAC,UAAMI,IAAE,KAAK,qBAAqBF,GAAE,GAAEiD,EAAE,KAAK,GAAE3C,IAAE,KAAK,qBAAqBN,GAAE,GAAEiD,EAAE,IAAG,CAAE,GAAEpC,IAAE,KAAK,qBAAqBb,GAAE,GAAEiD,EAAE,IAAG,CAAE;AAAE,WAAOhD,GAAEH,GAAEI,EAAE,CAAC,GAAEA,EAAE,CAAC,GAAEA,EAAE,CAAC,GAAE,GAAEI,EAAE,CAAC,GAAEA,EAAE,CAAC,GAAEA,EAAE,CAAC,GAAE,GAAEO,EAAE,CAAC,GAAEA,EAAE,CAAC,GAAEA,EAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,GAAEf;AAAA,EAAC;AAAA,EAAC,kBAAkB,GAAEI,GAAE;AAAC,UAAM,IAAE,KAAK,kBAAkB,GAAE+C,EAAE,KAAK,GAAE3C,IAAE,KAAK,qBAAqB,GAAE,GAAE2C,EAAE,IAAG,CAAE,GAAEpC,IAAE8B,GAAEzC,GAAEI,GAAE,CAAC;AAAE,WAAON,GAAEa,CAAC;AAAA,EAAC;AAAA,EAAC,mCAAmCb,GAAEF,GAAEI,GAAE;AAAC,WAAOwB,EAAE,KAAK,mBAAkB5B,GAAE,KAAK,oBAAoB,GAAEa,GAAE,KAAK,sBAAqBX,GAAEE,CAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,kBAAkBF,GAAEF,GAAEI,GAAE;AAACwB,IAAAA,EAAE,KAAK,mBAAkB5B,GAAE,KAAK,oBAAoB;AAAE,UAAMG,IAAEgD,EAAE,IAAG;AAAG,WAAOpB,GAAE,KAAK,sBAAqB7B,GAAEC,CAAC,IAAEK,GAAEJ,GAAED,CAAC,IAAE;AAAA,EAAI;AAAA,EAAC,0BAA0BD,GAAEF,GAAEI,GAAE;AAAC,QAAO,KAAK,gBAAT,EAAqB,QAAO,KAAK,kBAAkBF,GAAEF,GAAEI,CAAC;AAAEwB,IAAAA,EAAE,KAAK,mBAAkB5B,GAAE,KAAK,oBAAoB;AAAE,UAAMG,IAAE,KAAK,qBAAqB,OAAMY,IAAEoC,EAAE,IAAG;AAAG,WAAO7B,GAAEnB,EAAE,OAAMD,GAAEa,CAAC,IAAEP,GAAEJ,GAAEW,CAAC,IAAE;AAAA,EAAI;AAAA,EAAC,eAAeb,GAAEF,GAAEI,GAAE;AAAC,WAAO2C,GAAE7C,CAAC,IAAEI,GAAEJ,GAAEF,GAAE,KAAK,gBAAgB,IAAEO,EAAEL,GAAEF,GAAEI,GAAE,KAAK,gBAAgB;AAAA,EAAC;AAAA,EAAC,iBAAiBF,GAAEF,GAAEI,IAAE,MAAK;AAAC,WAAO2C,GAAE/C,CAAC,KAASI,KAAN,SAAUJ,EAAE,mBAAiBI,IAAGC,GAAEH,GAAE,KAAK,kBAAiBF,CAAC,IAAEA,IAAE,QAAMO,EAAEL,GAAE,KAAK,kBAAiBF,GAAEI,CAAC,IAAEJ,IAAE;AAAA,EAAI;AAAA,EAAC,OAAO,OAAOE,GAAEE,GAAE;AAAC,YAAOF,GAAC;AAAA,MAAE,KAAK;AAAE,eAAO,IAAI4B,EAAE,GAAE1B,GAAEJ,GAAEI,CAAC,GAAEwC,IAAG;AAAA,MAAE,KAAK;AAAE,eAAO,IAAId,EAAE,GAAE1B,GAAE,GAAEiB,GAAEjB,CAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,OAAO,sBAAsBF,GAAEF,GAAE;AAAC,WAAOI,GAAEF,CAAC,IAAEE,GAAEJ,CAAC;AAAA,EAAC;AAAC;ACAlyD,IAAI6C,IAAE,cAAcvC,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,eAAa,MAAK,KAAK,gBAAc,IAAIe,MAAE,KAAK,aAAW,IAAIC,MAAE,KAAK,eAAa,MAAK,KAAK,YAAU,MAAK,KAAK,WAAS,MAAK,KAAK,eAAa,MAAK,KAAK,oBAAkB,MAAK,KAAK,sBAAoB,MAAK,KAAK,wBAAsB,MAAK,KAAK,wBAAsB,MAAK,KAAK,WAAS;AAAA,EAAI;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK,aAAa;AAAA,EAAQ;AAAA,EAAC,UAAS;AAAC,SAAK,cAAc,MAAK,GAAG,KAAK,cAAc,QAAO;AAAA,EAAE;AAAA,EAAC,MAAM,MAAM,EAAC,sBAAqBtB,GAAE,wBAAuBE,GAAE,aAAYC,GAAE,WAAUG,GAAE,eAAc,EAAC,GAAE;AAAC,UAAMF,IAAEM,GAAE,SAASV,CAAC;AAAE,SAAK,wBAAsBI;AAAE,UAAMY,IAAEN,GAAE,SAASR,CAAC;AAAE,SAAK,WAAS,IAAIiB,GAAE,KAAK,uBAAsBP,GAAE,SAASN,EAAE,SAAS,GAAEA,EAAE,KAAIA,EAAE,eAAcA,EAAE,YAAY,GAAE,KAAK,eAAa,IAAIY,GAAE,EAAC,MAAK,IAAG,MAAK,IAAG,cAAa,qBAAoB,eAAc,EAAC,MAAK,aAAY,WAAUZ,EAAE,cAAa,GAAE,aAAYA,EAAE,YAAW,iBAAgB,CAACA,EAAE,aAAa,GAAE,kBAAiBN,GAAE,cAAa,KAAK,eAAc,UAASM,EAAE,SAAQ,CAAC,GAAE,KAAK,sBAAoB,EAAC,eAAc,OAAMN,GAAEE,MAAI;AAAC,YAAMC,IAAE,EAAC,MAAKH,GAAE,YAAWE,EAAC;AAAE,aAAO,MAAM,KAAK,aAAa,OAAO,iBAAgBC,GAAE,EAAC,cAAa,CAACH,EAAE,MAAM,EAAC,CAAC;AAAA,IAAC,GAAE,gBAAe,OAAMA,MAAG;AAAC,YAAME,IAAE,EAAC,KAAIF,EAAC;AAAE,YAAM,KAAK,aAAa,OAAO,kBAAiBE,CAAC;AAAA,IAAC,GAAE,gBAAe,OAAMF,MAAG;AAAC,YAAME,IAAE,EAAC,cAAaF,EAAC;AAAE,YAAM,KAAK,aAAa,OAAO,kBAAiBE,CAAC;AAAA,IAAC,GAAE,iBAAgB,OAAMF,MAAG;AAAC,YAAME,IAAE,EAAC,YAAWF,EAAC;AAAE,YAAM,KAAK,aAAa,OAAO,mBAAkBE,CAAC;AAAA,IAAC,GAAE,sBAAqB,OAAMF,MAAG;AAAC,YAAME,IAAE,EAAC,YAAWF,EAAC;AAAE,YAAM,KAAK,aAAa,OAAO,wBAAuBE,CAAC;AAAA,IAAC,GAAE,uBAAsB,OAAMF,MAAG;AAAC,YAAME,IAAE,EAAC,YAAWF,EAAC;AAAE,YAAM,KAAK,aAAa,OAAO,yBAAwBE,CAAC;AAAA,IAAC,GAAE,mBAAkB,OAAMF,GAAEE,GAAEC,MAAI;AAAC,YAAMG,IAAE,EAAC,YAAWN,GAAE,mBAAkBE,EAAC;AAAE,YAAM,KAAK,aAAa,OAAO,qBAAoBI,GAAE,EAAC,cAAaH,EAAC,CAAC;AAAA,IAAC,GAAE,oBAAmB,OAAMH,MAAG;AAAC,YAAME,IAAE,EAAC,YAAWF,EAAC;AAAE,YAAM,KAAK,aAAa,OAAO,sBAAqBE,CAAC;AAAA,IAAC,GAAE,uBAAsB,OAAMF,MAAG;AAAC,YAAME,IAAE,EAAC,UAASF,EAAE,SAAQ;AAAE,YAAM,KAAK,aAAa,OAAO,0BAAyBE,GAAE,EAAC,cAAaF,EAAE,aAAY,CAAC;AAAA,IAAC,GAAE,2BAA0B,OAAMA,MAAG;AAAC,YAAME,IAAE,EAAC,WAAUF,EAAC;AAAE,aAAO,MAAM,KAAK,aAAa,OAAO,2BAA0BE,GAAE,EAAC,cAAa,CAACF,EAAE,MAAM,EAAC,CAAC;AAAA,IAAC,GAAE,iBAAgB,OAAMA,GAAEE,MAAI;AAAC,YAAMC,IAAE,EAAC,YAAWH,GAAE,cAAaE,EAAC;AAAE,YAAM,KAAK,aAAa,OAAO,mBAAkBC,GAAE,EAAC,cAAmBD,KAAN,OAAQ,CAACA,EAAE,IAAI,IAAE,OAAM,CAAC;AAAA,IAAC,EAAC;AAAE,UAAMO,IAAEqB,EAAE,OAAO3B,GAAEa,CAAC,GAAEM,IAAE,IAAIF,GAAEjB,GAAE,KAAK,mBAAmB;AAAE,SAAK,wBAAsBmB;AAAE,UAAMD,IAAE,IAAIP,GAAEV,GAAEY,GAAE,KAAK,qBAAoBP,GAAEa,GAAEhB,GAAE,CAAC;AAAE,SAAK,WAASe,GAAE,KAAK,YAAUA,EAAE,sBAAsB,6BAA6Bf,EAAE,QAAQ,GAAE,KAAK,oBAAkB,IAAIM,GAAE,EAAC,qBAAoBR,EAAC,CAAC,EAAE,OAAM;AAAG,QAAIyC,IAAE;AAAK,QAASvC,EAAE,cAAR,MAAmB;AAAC,YAAMN,IAAEO,GAAE,SAASD,EAAE,UAAU;AAAE,YAAMW,GAAEjB,EAAE,kBAAiBI,CAAC,GAAEyC,IAAExC,GAAEL,GAAEI,CAAC;AAAA,IAAC;AAAC,WAAO,KAAK,eAAa,IAAIS,EAAE,EAAC,UAAS,CAACb,GAAEE,MAAI,KAAK,SAAS,MAAMF,GAAEE,CAAC,GAAE,kBAAiB,CAACF,GAAEE,MAAI,KAAK,6BAA6BF,GAAEE,CAAC,GAAE,qBAAoB,CAAAF,MAAG,KAAK,gCAAgCA,CAAC,GAAE,qBAAoB,CAACA,GAAEE,MAAI,KAAK,0CAA0CF,GAAEE,CAAC,GAAE,WAAU,KAAK,YAAW,QAAO2C,EAAC,CAAC,GAAE,KAAK,WAAWrC,GAAE,MAAI,KAAK,UAAS,CAAAR,MAAG;AAAC,WAAK,KAAK,mBAAkB,EAAC,UAASA,EAAC,CAAC;AAAA,IAAC,CAAC,GAAEe,EAAC,GAAQ,KAAK,aAAX,QAAsB,MAAM,KAAK,UAAU,KAAI,GAAGa;AAAA,EAAC;AAAA,EAAC,MAAM,aAAa5B,GAAEE,GAAE;AAAC,WAAM,EAAC,QAAO,MAAM,KAAK,aAAa,aAAa,KAAK,aAAaF,CAAC,GAAEE,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,MAAM,mBAAmBF,GAAEE,GAAE;AAAC,UAAMC,IAAE,MAAM,KAAK,aAAa,qBAAqB,KAAK,aAAaH,CAAC,GAAEE,CAAC;AAAE,WAAM,EAAC,QAAO,MAAM,KAAKC,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,MAAM,qBAAqBH,GAAEE,GAAE;AAAC,WAAM,EAAC,QAAO,MAAM,KAAK,aAAa,qBAAqB,KAAK,aAAaF,CAAC,GAAEE,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,MAAM,sBAAsBF,GAAEE,GAAE;AAAC,WAAM,EAAC,QAAO,MAAM,KAAK,aAAa,sBAAsB,KAAK,aAAaF,CAAC,GAAEE,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,MAAM,kCAAkCF,GAAEE,GAAE;AAAC,WAAM,EAAC,QAAO,MAAM,KAAK,aAAa,kCAAkC,KAAK,aAAaF,CAAC,GAAEE,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,MAAM,0BAA0BF,GAAEE,GAAE;AAAC,WAAM,EAAC,QAAO,MAAM,KAAK,aAAa,0BAA0BF,GAAEE,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBF,GAAE;AAAC,WAAO,KAAK,aAAa,iBAAiBA,CAAC,GAAE,QAAQ,QAAQ4B,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,kBAAkB5B,GAAE;AAAC,WAAO4B;AAAA,EAAC;AAAA,EAAC,MAAM,yBAAyB5B,GAAE;AAAC,UAAK,EAAC,UAASE,GAAE,WAAUC,EAAC,IAAE;AAAK,WAAGD,EAAE,cAAc,cAAYF,GAAQG,KAAN,QAA+E,OAAtD,MAAMA,EAAE,oCAAoCH,CAAC,GAAiB,QAAO,GAAG4B;AAAA,EAAC;AAAA,EAAC,MAAM,iBAAiBzB,GAAE;AAAC,UAAK,EAAC,UAASG,EAAC,IAAE,MAAKL,IAAEK,EAAE,sBAAsB,6BAA6BH,CAAC;AAAE,UAAMF,EAAE,KAAI;AAAG,UAAMO,IAAE,KAAK;AAAU,SAAK,YAAUP;AAAE,UAAMc,IAAE,CAAC,GAAG,KAAK,aAAa,YAAW,CAAE,GAAEX,IAAEW,EAAE,IAAI,CAAAf,MAAGA,EAAE,MAAM;AAAE;AAAC,YAAMG,IAAE,EAAC,OAAM,CAAA,GAAG,OAAM,QAAO,UAAS,GAAE;AAAE,UAAG;AAACH,QAAAA,EAAEG,GAAE,MAAM,KAAK,WAAW,KAAKC,CAAC,GAAE,EAAE;AAAE,cAAMF,IAAEa,EAAE,QAAQ,CAAAf,MAAG,CAACQ,EAAE,oBAAoBR,EAAE,EAAE,GAAEC,EAAE,iBAAiBD,CAAC,CAAC,CAAC,GAAEgB,IAAE,MAAM,QAAQ,IAAId,CAAC;AAA8B,cAA1BI,EAAE,qBAAqBU,CAAC,EAAU;MAAS,SAAOT,GAAE;AAAC,QAAAJ,EAAE,QAAMI,GAAEJ,EAAE,WAAS;AAAA,MAAE,UAAC;AAAQD,QAAAA,EAAEC,CAAC;AAAA,MAAC;AAAA,IAAC;AAAwC,WAAO,OAAtC,MAAMK,EAAE,qBAAoB,GAAkB,QAAO,GAAGoB;AAAA,EAAC;AAAA,EAAC,MAAM,6BAA6B5B,GAAEE,GAAE;AAAC,UAAMC,IAAE,KAAK,eAAcG,IAAE,KAAK;AAAU,QAAIE;AAAE,WAAOA,IAAQF,KAAN,OAAQ,MAAMA,EAAE,iBAAiBN,CAAC,IAAES,EAAE,OAAO,KAAK,qBAAqB,GAAER,EAAEC,CAAC,GAAEM,EAAE,2BAA2B,MAAI;AAAC,MAAAL,EAAE,QAAQH,CAAC;AAAA,IAAC,CAAC,GAAEQ;AAAA,EAAC;AAAA,EAAC,MAAM,gCAAgCR,GAAE;AAAC,UAAME,IAAE,KAAK,eAAcC,IAAE,KAAK;AAAU,QAAIG;AAAE,WAAOA,IAAQH,KAAN,OAAQ,MAAMA,EAAE,oBAAoBH,CAAC,IAAES,EAAE,OAAO,KAAK,qBAAqB,GAAEH,EAAE,2BAA2B,MAAI;AAAC,MAAAJ,EAAE,WAAWF,CAAC;AAAA,IAAC,CAAC,GAAEM;AAAA,EAAC;AAAA,EAAC,MAAM,0CAA0CN,GAAEE,GAAE;AAAC,UAAMC,IAAE,KAAK;AAAU,QAAIG;AAAE,WAAOA,IAAQH,KAAN,OAAQ,MAAMA,EAAE,8BAA8BH,CAAC,IAAES,EAAE,OAAO,KAAK,qBAAqB,GAAER,EAAEC,CAAC,GAAEI;AAAA,EAAC;AAAA,EAAC,aAAaN,GAAE;AAAC,WAAOA,KAAG,KAAK;AAAA,EAAiB;AAAC;AAAEG,EAAE,CAACC,EAAC,CAAE,GAAEyC,EAAE,WAAU,YAAW,IAAI,GAAEA,IAAE1C,EAAE,CAACa,GAAE,gEAAgE,CAAC,GAAE6B,CAAC;AAAO,MAACC,KAAED,GAAEjB,IAAE,EAAC,QAAO,OAAM;","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]}