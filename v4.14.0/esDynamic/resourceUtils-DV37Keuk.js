import{al as u}from"./main-CSjwO60s.js";class i{constructor(n){this.data=n,this.type="encoded-mesh-texture",this.encoding="image/ktx2"}}function l(t){return t?.type==="encoded-mesh-texture"}async function p(t){const n=new Blob([t]),a=await n.text();return JSON.parse(a)}async function L(t,n){if(n==="image/ktx2")return new i(t);const a=new Blob([t],{type:n});let r=URL.createObjectURL(a);switch(n){case"image/jpeg":r+="#.jpg";break;case"image/png":r+="#.png"}const e=new Image;if(u("esri-iPhone"))return new Promise((d,m)=>{const o=()=>{c(),d(e)},s=g=>{c(),m(g)},c=()=>{URL.revokeObjectURL(r),e.removeEventListener("load",o),e.removeEventListener("error",s)};e.addEventListener("load",o),e.addEventListener("error",s),e.src=r});try{e.src=r,await e.decode()}catch{console.warn("Failed decoding HTMLImageElement")}return URL.revokeObjectURL(r),e}export{i as e,p as n,L as r,l as t};
