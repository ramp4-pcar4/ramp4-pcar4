{"version":3,"file":"utils-CRANtbnc.js","sources":["../../node_modules/@arcgis/core/rest/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../config.js\";import{id as n}from\"../kernel.js\";import{clone as r}from\"../core/lang.js\";import{urlToObject as e}from\"../core/urlUtils.js\";import{supportsApiKey as i,getApiKey as o}from\"../support/apiKeyUtils.js\";function s(t,n){return n?{...n,query:{...t,...n.query}}:{query:t}}function f(t){return\"string\"==typeof t?e(t):r(t)}function u(t,n,r){const e={};for(const i in t){if(\"declaredClass\"===i)continue;const o=t[i];if(null!=o&&\"function\"!=typeof o)if(Array.isArray(o))e[i]=o.map(t=>u(t));else if(\"object\"==typeof o)if(o.toJSON){const t=o.toJSON(r?.[i]);e[i]=n?t:JSON.stringify(t)}else e[i]=n?o:JSON.stringify(o);else e[i]=o}return e}function c(t,r){return t?r&&i(t)?r:o(t)??n?.findCredential(t)?.token:null}async function a(r,e,i){const o=c(r,e);if(o)return o;!n&&t.request.useIdentity&&await import(\"../identity/IdentityManager.js\");const s=await n.getCredential(r,i);return s?.token}export{s as asValidOptions,u as encode,c as findToken,a as getToken,f as parseUrl};\n"],"names":["s","t","n","f","e","r","u","i","o","c","a"],"mappings":";AAIkO,SAASA,EAAEC,GAAEC,GAAE;AAAC,SAAOA,IAAE,EAAC,GAAGA,GAAE,OAAM,EAAC,GAAGD,GAAE,GAAGC,EAAE,MAAK,EAAC,IAAE,EAAC,OAAMD,EAAC;AAAC;AAAC,SAASE,EAAEF,GAAE;AAAC,SAAgB,OAAOA,KAAjB,WAAmBG,EAAEH,CAAC,IAAEI,EAAEJ,CAAC;AAAC;AAAC,SAASK,EAAEL,GAAEC,GAAEG,GAAE;AAAC,QAAMD,IAAE;AAAG,aAAUG,KAAKN,GAAE;AAAC,QAAqBM,MAAlB,gBAAoB;AAAS,UAAMC,IAAEP,EAAEM,CAAC;AAAE,QAASC,KAAN,QAAqB,OAAOA,KAAnB,WAAqB,KAAG,MAAM,QAAQA,CAAC,EAAE,CAAAJ,EAAEG,CAAC,IAAEC,EAAE,IAAI,CAAAP,MAAGK,EAAEL,CAAC,CAAC;AAAA,aAAoB,OAAOO,KAAjB,SAAmB,KAAGA,EAAE,QAAO;AAAC,YAAMP,IAAEO,EAAE,OAAOH,IAAIE,CAAC,CAAC;AAAE,MAAAH,EAAEG,CAAC,IAAEL,IAAED,IAAE,KAAK,UAAUA,CAAC;AAAA,IAAC,MAAM,CAAAG,EAAEG,CAAC,IAAEL,IAAEM,IAAE,KAAK,UAAUA,CAAC;AAAA,QAAO,CAAAJ,EAAEG,CAAC,IAAEC;AAAA,EAAC;AAAC,SAAOJ;AAAC;AAAC,SAASK,EAAER,GAAEI,GAAE;AAAC,SAAOJ,IAAEI,KAAGE,EAAEN,CAAC,IAAEI,IAAEG,EAAEP,CAAC,KAAGC,GAAG,eAAeD,CAAC,GAAG,QAAM;AAAI;AAAC,eAAeS,EAAEL,GAAE,GAAEE,GAAE;AAAC,QAAMC,IAAEC,EAAEJ,GAAE,CAAC;AAAE,SAAGG,MAAW,CAACN,KAAGD,EAAE,QAAQ,eAAa,MAAM,OAAO,+BAAgC,IAAU,MAAMC,EAAE,cAAcG,GAAEE,CAAC,IAAY;AAAK;","x_google_ignoreList":[0]}