function s(e,n,i){return n.flatten(({sublayers:r})=>r).length!==e.length?!0:!!e.some(r=>r.originIdOf("minScale")>i||r.originIdOf("maxScale")>i||r.originIdOf("renderer")>i||r.originIdOf("labelingInfo")>i||r.originIdOf("opacity")>i||r.originIdOf("labelsVisible")>i||r.originIdOf("source")>i)||!l(e,n)}function f(e,n,i){return!!e.some(r=>{const t=r.source,o=!t||t.type==="map-layer"&&t.mapLayerId===r.id&&(t.gdbVersion==null||t.gdbVersion===i);r.commitProperty("renderer"),r.commitProperty("labelingInfo"),r.commitProperty("opacity"),r.commitProperty("labelsVisible"),r.commitProperty("orderBy");const a=r.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1;return!o||r.originIdOf("renderer")>2||r.originIdOf("labelingInfo")>2||r.originIdOf("opacity")>2||r.originIdOf("labelsVisible")>2||a&&r.originIdOf("orderBy")>2})||!l(e,n)}function l(e,n){if(!e?.length||n==null)return!0;const i=n.slice().reverse().flatten(({sublayers:o})=>o&&o.toArray().reverse()).map(o=>o.id).toArray();if(e.length>i.length)return!1;let r=0;const t=i.length;for(const{id:o}of e){for(;r<t&&i[r]!==o;)r++;if(r>=t)return!1}return!0}function c(e){return!!e&&e.some(n=>n.minScale!=null||n.layerDefinition?.minScale!=null)}export{f as e,c as n,s as r};
