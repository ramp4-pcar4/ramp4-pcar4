import{c9 as A,O as b,N as D}from"./main-CSjwO60s.js";const k=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function d(t){return t instanceof D}function g(t){return t instanceof b?Object.keys(t.items):d(t)?A(t).keys():t?Object.keys(t):[]}function y(t,e){return t instanceof b?t.items[e]:t[e]}function O(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}function c(t){return t?t.declaredClass:null}function V(t,e){const n=t.diff;if(n&&typeof n=="function")return n(t,e);const f=g(t),i=g(e);if(f.length===0&&i.length===0)return;if(!f.length||!i.length||O(t,e))return{type:"complete",oldValue:t,newValue:e};const a=i.filter(o=>!f.includes(o)),w=f.filter(o=>!i.includes(o)),m=f.filter(o=>i.includes(o)&&y(t,o)!==y(e,o)).concat(a,w).sort(),h=c(t);if(h&&k.has(h)&&m.length)return{type:"complete",oldValue:t,newValue:e};let p;const j=d(t)&&d(e);for(const o of m){const r=y(t,o),l=y(e,o);let u;if((j||typeof r!="function"&&typeof l!="function")&&r!==l&&(r!=null||l!=null)){if(n&&n[o]&&typeof n[o]=="function")u=n[o]?.(r,l);else if(r instanceof Date&&l instanceof Date){if(r.getTime()===l.getTime())continue;u={type:"complete",oldValue:r,newValue:l}}else u=typeof r=="object"&&typeof l=="object"&&c(r)===c(l)?V(r,l):{type:"complete",oldValue:r,newValue:l};u!=null&&(p!=null?p.diff[o]=u:p={type:"partial",diff:{[o]:u}})}}return p}function S(t,e){if(t==null)return!1;const n=e.split(".");let f=t;for(const i of n){if(f.type==="complete")return!0;if(f.type!=="partial")return!1;{const a=f.diff[i];if(!a)return!1;f=a}}return!0}function C(t,e){if(typeof t!="function"&&typeof e!="function"&&(t!=null||e!=null))return t==null||e==null||typeof t=="object"&&typeof e=="object"&&c(t)!==c(e)?{type:"complete",oldValue:t,newValue:e}:V(t,e)}function s(t){if(t==null)return!0;switch(t.type){case"complete":return!1;case"collection":{const e=t;for(const n of e.added)if(!s(n))return!1;for(const n of e.removed)if(!s(n))return!1;for(const n of e.changed)if(!s(n))return!1;return!0}case"partial":for(const e in t.diff)if(!s(t.diff[e]))return!1;return!0}}export{s as d,S as p,C as y};
