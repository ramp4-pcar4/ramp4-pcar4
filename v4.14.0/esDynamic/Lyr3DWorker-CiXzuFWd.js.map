{"version":3,"file":"Lyr3DWorker-CiXzuFWd.js","sources":["../../node_modules/@arcgis/core/libs/lyr3d/Lyr3DModule.js","../../node_modules/@arcgis/core/views/3d/layers/Lyr3DWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as t}from\"../../assets.js\";function n(){return new Promise(t=>import(\"../../chunks/lyr3DMain.js\").then(t=>t.l).then(({default:n})=>{const e=n({locateFile:i,onRuntimeInitialized:()=>t(e)})})).catch(t=>{throw t})}function e(){return new Promise(t=>import(\"../../chunks/lyr3DWorker.js\").then(t=>t.l).then(({default:n})=>{const e=n({locateFile:i,onRuntimeInitialized:()=>t(e)})})).catch(t=>{throw t})}function i(n){return t(`esri/libs/lyr3d/${n}`)}export{n as loadLyr3DMainWASM,e as loadLyr3DWorkerWASM};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{loadLyr3DWorkerWASM as s}from\"../../../libs/lyr3d/Lyr3DModule.js\";let t,e;async function n(s){await o();const t={status:1,error:\"\",jobDescJson:\"\",data:new Uint8Array(0),missingInputUrls:[]};if(s.inputs.length<1)return{result:t,transferList:[]};const n={ptrs:[],sizes:[]};for(const o of s.inputs){const s=e._malloc(o.byteLength);new Uint8Array(e.HEAPU8.buffer,s,o.byteLength).set(new Uint8Array(o)),n.ptrs.push(s),n.sizes.push(o.byteLength)}const r=e.process(s.jobDescJson,s.id,n,s.isMissingResourceCase);t.status=r.status,t.missingInputUrls=r.missingInputUrls.slice();const i=0===r.status&&r.data,a=2===t.status&&t.missingInputUrls.length>0;t.jobDescJson=r.jobDescJson.slice(),t.error=r.error.slice(),i?t.data=r.data.slice():a&&(t.originalInputs=s.inputs.slice());for(let o=0;o<n.ptrs.length;++o)e._free(n.ptrs[o]);const u=[];if(i)u.push(t.data.buffer);else if(a)for(const e of s.inputs)u.push(e);return{result:t,transferList:u}}async function r(s){await o(),e.add_spatial_reference_info(s.sr,s.isGCS,s.toMetersXY,s.toMetersZ)}function i(){e&&(e.uninitialize_lyr3d_worker_wasm(),e=null)}function o(){return e?Promise.resolve():(t||(t=s().then(s=>{e=s,e.initialize_lyr3d_worker_wasm(),t=null})),t)}export{r as addSpatialReferenceInfo,i as destroyWasm,o as initialize,n as process};\n"],"names":["e","t","n","i","s","o","r","a","u"],"mappings":";AAIsO,SAASA,IAAG;AAAC,SAAO,IAAI,QAAQ,OAAG,OAAO,2BAA6B,EAAE,KAAK,CAAAC,MAAGA,EAAE,CAAC,EAAE,KAAK,CAAC,EAAC,SAAQC,EAAC,MAAI;AAAC,UAAMF,IAAEE,EAAE,EAAC,YAAWC,GAAE,sBAAqB,MAAI,EAAEH,CAAC,EAAC,CAAC;AAAA,EAAC,CAAC,CAAC,EAAE,MAAM,OAAG;AAAC,UAAM;AAAA,EAAC,CAAC;AAAC;AAAC,SAASG,EAAED,GAAE;AAAC,SAAOD,EAAE,mBAAmBC,CAAC,EAAE;AAAC;ACArY,IAAID,GAAE;AAAE,eAAeC,EAAEE,GAAE;AAAC,QAAMC,EAAC;AAAG,QAAMJ,IAAE,EAAC,QAAO,GAAE,OAAM,IAAG,aAAY,IAAG,MAAK,IAAI,WAAW,CAAC,GAAE,kBAAiB,CAAA,EAAE;AAAE,MAAGG,EAAE,OAAO,SAAO,EAAE,QAAM,EAAC,QAAOH,GAAE,cAAa,CAAA,EAAE;AAAE,QAAMC,IAAE,EAAC,MAAK,CAAA,GAAG,OAAM,CAAA,EAAE;AAAE,aAAUG,KAAKD,EAAE,QAAO;AAAC,UAAMA,IAAE,EAAE,QAAQC,EAAE,UAAU;AAAE,QAAI,WAAW,EAAE,OAAO,QAAOD,GAAEC,EAAE,UAAU,EAAE,IAAI,IAAI,WAAWA,CAAC,CAAC,GAAEH,EAAE,KAAK,KAAKE,CAAC,GAAEF,EAAE,MAAM,KAAKG,EAAE,UAAU;AAAA,EAAC;AAAC,QAAMC,IAAE,EAAE,QAAQF,EAAE,aAAYA,EAAE,IAAGF,GAAEE,EAAE,qBAAqB;AAAE,EAAAH,EAAE,SAAOK,EAAE,QAAOL,EAAE,mBAAiBK,EAAE,iBAAiB,MAAK;AAAG,QAAMH,IAAMG,EAAE,WAAN,KAAcA,EAAE,MAAKC,IAAMN,EAAE,WAAN,KAAcA,EAAE,iBAAiB,SAAO;AAAE,EAAAA,EAAE,cAAYK,EAAE,YAAY,MAAK,GAAGL,EAAE,QAAMK,EAAE,MAAM,MAAK,GAAGH,IAAEF,EAAE,OAAKK,EAAE,KAAK,MAAK,IAAGC,MAAIN,EAAE,iBAAeG,EAAE,OAAO,MAAK;AAAI,WAAQC,IAAE,GAAEA,IAAEH,EAAE,KAAK,QAAO,EAAEG,EAAE,GAAE,MAAMH,EAAE,KAAKG,CAAC,CAAC;AAAE,QAAMG,IAAE,CAAA;AAAG,MAAGL,EAAE,CAAAK,EAAE,KAAKP,EAAE,KAAK,MAAM;AAAA,WAAUM,EAAE,YAAUP,KAAKI,EAAE,OAAO,CAAAI,EAAE,KAAKR,CAAC;AAAE,SAAM,EAAC,QAAOC,GAAE,cAAaO,EAAC;AAAC;AAAC,eAAeF,EAAEF,GAAE;AAAC,QAAMC,EAAC,GAAG,EAAE,2BAA2BD,EAAE,IAAGA,EAAE,OAAMA,EAAE,YAAWA,EAAE,SAAS;AAAC;AAAC,SAASD,IAAG;AAAC,QAAI,EAAE,+BAA8B,GAAG,IAAE;AAAK;AAAC,SAASE,IAAG;AAAC,SAAO,IAAE,QAAQ,QAAO,KAAIJ,MAAIA,IAAEG,EAAC,EAAG,KAAK,CAAAA,MAAG;AAAC,QAAEA,GAAE,EAAE,6BAA4B,GAAGH,IAAE;AAAA,EAAI,CAAC,IAAGA;AAAE;","x_google_ignoreList":[0,1]}