import{hu as l,G as S,_ as p,Y as O,c9 as u,hv as w,hw as N,bp as g,dg as m,N as v,hx as J,hy as E}from"./main-CSjwO60s.js";class _{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(l),this._values=new Map,this.multipleOriginsSupported=!0}clone(r){const i=new _,t=this._originStores[0];t&&t.forEach((s,e)=>{i.set(e,S(s),0)});for(let s=2;s<l;s++){const e=this._originStores[s];e&&e.forEach((o,n)=>{r&&r.has(n)||i.set(n,S(o),s)})}return i}get(r,i){const t=i===void 0?this._values:this._originStores[i];return t?t.get(r):void 0}keys(r){const i=r==null?this._values:this._originStores[r];return i?[...i.keys()]:[]}set(r,i,t=7){let s=this._originStores[t];if(s||(s=new Map,this._originStores[t]=s),s.set(r,i),!this._values.has(r)||this._propertyOriginMap.get(r)<=t){const e=this._values.get(r);return this._values.set(r,i),this._propertyOriginMap.set(r,t),e!==i}return!1}delete(r,i=7){const t=this._originStores[i];if(!t)return;const s=t.get(r);if(t.delete(r),this._values.has(r)&&this._propertyOriginMap.get(r)===i){this._values.delete(r);for(let e=i-1;e>=0;e--){const o=this._originStores[e];if(o&&o.has(r)){this._values.set(r,o.get(r)),this._propertyOriginMap.set(r,e);break}}}return s}has(r,i){const t=i===void 0?this._values:this._originStores[i];return!!t&&t.has(r)}revert(r,i){for(;i>0&&!this.has(r,i);)--i;const t=this._originStores[i],s=t?.get(r),e=this._values.get(r);return this._values.set(r,s),this._propertyOriginMap.set(r,i),e!==s}originOf(r){return this._propertyOriginMap.get(r)||0}isAtOrigin(r,i){return this.has(r,i)&&this.originOf(r)===i}isBelowOrigin(r,i){return!this.has(r)||this.originOf(r)<i}forEach(r){this._values.forEach(r)}}const d=h=>{const r=h;let i=class extends r{constructor(...t){super(...t);const s=u(this),e=s.store,o=new _;s.store=o,w(s,e,o)}read(t,s){N(this,t,s)}getAtOrigin(t,s){const e=f(this),o=g(s);if(typeof t=="string")return e.get(t,o);const n={};return t.forEach(a=>{n[a]=e.get(a,o)}),n}originOf(t){return m(this.originIdOf(t))}originIdOf(t){return f(this).originOf(t)}revert(t,s){const e=f(this),o=g(s),n=u(this);let a;a=typeof t=="string"?t==="*"?e.keys(o):[t]:t,a.forEach(c=>{n.invalidate(c),e.revert(c,o),n.commit(c)})}};return i=p([O("esri.core.ReadOnlyMultiOriginJSONSupport")],i),i};function f(h){return u(h).store}d(v);const k=h=>{const r=h;let i=class extends r{constructor(...t){super(...t)}clear(t,s="user"){u(this).clearOrigin(t,g(s))}write(t,s){return J(this,t=t||{},s),t}setAtOrigin(t,s,e){u(this).setAtOrigin(t,s,g(e))}removeOrigin(t){const s=y(this),e=g(t),o=s.keys(e);for(const n of o)s.originOf(n)===e&&s.set(n,s.get(n,e),7)}updateOrigin(t,s){const e=y(this),o=g(s),n=E(this,t);for(let a=o+1;a<l;++a)e.delete(t,a);e.set(t,n,o)}toJSON(t){return this.write({},t)}};return i=p([O("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],i),i.prototype.toJSON.isDefaultToJSON=!0,i};function y(h){return u(h).store}const M=h=>{const r=k(d(h));let i=class extends r{};return i=p([O("esri.core.MultiOriginJSONSupport")],i),i},A=M(v);export{M as l,A as m};
