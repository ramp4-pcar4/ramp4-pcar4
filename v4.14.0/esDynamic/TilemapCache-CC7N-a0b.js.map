{"version":3,"file":"TilemapCache-CC7N-a0b.js","sources":["../../node_modules/@arcgis/core/geometry/support/UintArray.js","../../node_modules/@arcgis/core/layers/support/Tilemap.js","../../node_modules/@arcgis/core/layers/support/TilemapCache.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{nativeArrayMaxSize as r}from\"../../core/typedArrayUtil.js\";function n(n,e=!1){return n<=r?e?new Array(n).fill(0):new Array(n):new Uint32Array(n)}function e(r,n,e){return Array.isArray(r)?r.slice(n,n+e):r.subarray(n,n+e)}export{n as newUintArray,e as uintSubArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import i from\"../../core/Error.js\";import{clone as e}from\"../../core/lang.js\";import{estimateNumberArrayMemory as a}from\"../../core/memoryEstimations.js\";import{newUintArray as o}from\"../../geometry/support/UintArray.js\";class l{constructor(t){s(t);const{location:i,data:l}=t;this.location=Object.freeze(e(i));const r=this.location.width,n=this.location.height;let h=!0,c=!0;const m=Math.ceil(r*n/32),f=o(m);let w=0;for(let e=0;e<l.length;e++){const t=e%32;l[e]?(c=!1,f[w]|=1<<t):h=!1,31===t&&++w}c?(this._availability=\"unavailable\",this.byteSize=40):h?(this._availability=\"available\",this.byteSize=40):(this._availability=f,this.byteSize=40+a(f))}getAvailability(t,i){if(\"unavailable\"===this._availability||\"available\"===this._availability)return this._availability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%32,o=e>>5,l=this._availability;return o<0||o>l.length?\"unknown\":l[o]&1<<a?\"available\":\"unavailable\"}static fromDefinition(e,a){const o=e.service.request||t,{row:r,col:s,width:h,height:c}=e,m={query:{f:\"json\"}};return a=a?{...m,...a}:m,o(n(e),a).then(t=>t.data).catch(t=>{if(422===t?.details?.httpStatus)return{location:{top:r,left:s,width:h,height:c},valid:!0,data:new Array(h*c).fill(0)};throw t}).then(t=>{if(t.location&&(t.location.top!==r||t.location.left!==s||t.location.width!==h||t.location.height!==c))throw new i(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:r,left:s,width:h,height:c}});return l.fromJSON(t)})}static fromJSON(t){return Object.freeze(new l(t))}}function r(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(t.service.tileServers?.length){const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}else i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;const e=t.service.query;return e&&(i=`${i}?${e}`),i}function s(t){if(!t?.location)throw new i(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new i(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new i(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new i(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new i(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}export{l as Tilemap,r as tilemapDefinitionId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import r from\"../../core/Error.js\";import{makeHandle as s}from\"../../core/handleUtils.js\";import\"../../core/has.js\";import{LRUCache as l}from\"../../core/LRUCache.js\";import o from\"../../core/PooledArray.js\";import{isAbortError as a,isAborted as n,onAbort as c,createAbortError as h}from\"../../core/promiseUtils.js\";import{watch as p,initial as m}from\"../../core/reactiveUtils.js\";import{waitTicks as f}from\"../../core/scheduling.js\";import{objectToQuery as u}from\"../../core/urlUtils.js\";import{property as v}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as y}from\"../../core/accessorSupport/decorators/subclass.js\";import{TileKey as d}from\"./TileKey.js\";import{Tilemap as _,tilemapDefinitionId as b}from\"./Tilemap.js\";var g;function w(e,t,i){return new r(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})}let j=class extends i{static{g=this}constructor(e){super(e),this._pendingTilemapRequests={},this.request=t,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new l(2097152),this.addHandles(p(()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]},()=>this._initializeTilemapDefinition(),m))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(w(e,t,i)):this._fetchTilemap(e,t,i,r).catch(e=>e).then(r=>{if(r instanceof _){const s=r.getAvailability(t,i);if(\"unavailable\"===s)throw w(e,t,i);return s}if(a(r))throw r;return\"unknown\"})}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,s).catch(e=>{if(a(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,s);throw e});return this._fetchAvailabilityUpsamplePrefetch(e,t,i,s,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,l){if(!this._prefetchingEnabled)return;const o=`prefetch-${e}-${t}-${i}`;if(this.hasHandles(o))return;const a=new AbortController;l.then(()=>a.abort(),()=>a.abort());let c=!1;const h=s(()=>{c||(c=!0,a.abort())});if(this.addHandles(h,o),await f(10,a.signal).catch(()=>{}),c||(c=!0,this.removeHandles(o)),n(a))return;const p=new d(e,t,i),m={...r,signal:a.signal},u=this.layer.tileInfo;for(let s=0;g._prefetches.length<g._maxPrefetch&&u.upsampleTile(p);++s){const e=this.fetchAvailability(p.level,p.row,p.col,m);g._prefetches.push(e);const t=()=>{g._prefetches.removeUnordered(e)};e.then(t,t)}}static{this._maxPrefetch=4}static{this._prefetches=new o({initialSize:g._maxPrefetch})}static cleanupTilemapCache(){this._prefetches.prune()}_fetchTilemap(e,t,i,s){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new r(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,l);if(o)return Promise.resolve(o);const a=s?.signal;return s={...s,signal:null},new Promise((e,t)=>{c(a,()=>t(h()));const i=b(l);let r=this._pendingTilemapRequests[i];if(!r){r=_.fromDefinition(l,s).then(e=>(this._tilemapCache.put(i,e,e.byteSize),e));const e=()=>{delete this._pendingTilemapRequests[i]};this._pendingTilemapRequests[i]=r,r.then(e,e)}r.then(e,t)})}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:u({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=b(r);return this._tilemapCache.get(s)}get test(){}};e([v({constructOnly:!0})],j.prototype,\"layer\",void 0),e([v({constructOnly:!0})],j.prototype,\"minLOD\",void 0),e([v({constructOnly:!0})],j.prototype,\"maxLOD\",void 0),e([v({constructOnly:!0})],j.prototype,\"request\",void 0),e([v({constructOnly:!0})],j.prototype,\"size\",void 0),j=g=e([y(\"esri.layers.support.TilemapCache\")],j);export{j as TilemapCache};\n"],"names":["n","e","r","l","s","i","h","c","m","f","o","w","t","a","g","j","p","_","d","u","b","v","y"],"mappings":"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","x_google_ignoreList":[0,1,2]}