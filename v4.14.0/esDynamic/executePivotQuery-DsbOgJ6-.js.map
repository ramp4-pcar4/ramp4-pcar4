{"version":3,"file":"executePivotQuery-DsbOgJ6-.js","sources":["../../node_modules/@arcgis/core/rest/query/operations/queryPivot.js","../../node_modules/@arcgis/core/rest/query/executePivotQuery.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../request.js\";import{urlToObject as o,join as r}from\"../../../core/urlUtils.js\";import{normalizeCentralMeridian as i}from\"../../../geometry/support/normalizeUtils.js\";import{mapParameters as e}from\"../../operations/urlUtils.js\";import{queryLikeToQueryStringParameters as s}from\"./queryUtils.js\";function n(t){const o=s(t),r=o.outPivots;if(r?.length){for(const t of r)\"Pivot\"===t.pivotType&&t.pivotParameters.outStatistic?t.pivotParameters.outStatistic=JSON.stringify(t.pivotParameters.outStatistic):\"Unpivot\"===t.pivotType&&(t.unPivotParameters.sourceFields=t.unPivotParameters.sourceFields.join(\",\"));o.outPivots=JSON.stringify(r)}return o}async function u(t,o,r){return await a(t,o,r)}async function a(s,u,a={}){const m=\"string\"==typeof s?o(s):s,p=u.geometry?[u.geometry]:[],l=await i(p,null,{signal:a.signal}),c=l?.[0];null!=c&&((u=u.clone()).geometry=c);const y=e({...m.query,f:\"json\",...n(u)});return t(r(m.path,\"queryPivot\"),{...a,query:{...y,...a.query}})}export{u as executePivotQuery,n as queryToQueryStringParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{parseUrl as o}from\"../utils.js\";import{executePivotQuery as r}from\"./operations/queryPivot.js\";import t from\"../support/FeatureSet.js\";import e from\"../support/PivotQuery.js\";async function i(i,s,m){const p=o(i),u={...m},{data:a}=await r(p,e.from(s),u);return t.fromJSON(a)}export{i as executePivotQuery};\n"],"names":["n","t","o","s","r","u","a","m","p","l","i","c","y","e"],"mappings":";;;;;;AAI4T,SAASA,EAAEC,GAAE;AAAC,QAAMC,IAAEC,EAAEF,CAAC,GAAEG,IAAEF,EAAE;AAAU,MAAGE,GAAG,QAAO;AAAC,eAAUH,KAAKG,EAAE,CAAUH,EAAE,cAAZ,WAAuBA,EAAE,gBAAgB,eAAaA,EAAE,gBAAgB,eAAa,KAAK,UAAUA,EAAE,gBAAgB,YAAY,IAAcA,EAAE,cAAd,cAA0BA,EAAE,kBAAkB,eAAaA,EAAE,kBAAkB,aAAa,KAAK,GAAG;AAAG,IAAAC,EAAE,YAAU,KAAK,UAAUE,CAAC;AAAA,EAAC;AAAC,SAAOF;AAAC;AAAC,eAAeG,EAAEJ,GAAEC,GAAE,GAAE;AAAC,SAAO,MAAMI,EAAEL,GAAEC,GAAE,CAAC;AAAC;AAAC,eAAeI,EAAEH,GAAEE,GAAEC,IAAE,CAAA,GAAG;AAAC,QAAMC,IAAY,OAAOJ,KAAjB,WAAmBD,EAAEC,CAAC,IAAEA,GAAEK,IAAEH,EAAE,WAAS,CAACA,EAAE,QAAQ,IAAE,CAAA,GAAGI,IAAE,MAAMC,EAAEF,GAAE,MAAK,EAAC,QAAOF,EAAE,OAAM,CAAC,GAAEK,IAAEF,IAAI,CAAC;AAAE,EAAME,KAAN,UAAWN,IAAEA,EAAE,MAAK,GAAI,WAASM;AAAG,QAAMC,IAAEC,EAAE,EAAC,GAAGN,EAAE,OAAM,GAAE,QAAO,GAAGP,EAAEK,CAAC,EAAC,CAAC;AAAE,SAAOJ,EAAEG,EAAEG,EAAE,MAAK,YAAY,GAAE,EAAC,GAAGD,GAAE,OAAM,EAAC,GAAGM,GAAE,GAAGN,EAAE,MAAK,EAAC,CAAC;AAAC;ACAjyB,eAAeI,EAAE,GAAEP,GAAEI,GAAE;AAAC,QAAMC,IAAEN,EAAE,CAAC,GAAEG,IAAE,EAAC,GAAGE,EAAC,GAAE,EAAC,MAAKD,EAAC,IAAE,MAAMF,EAAEI,GAAEK,EAAE,KAAKV,CAAC,GAAEE,CAAC;AAAE,SAAOJ,EAAE,SAASK,CAAC;AAAC;","x_google_ignoreList":[0,1]}