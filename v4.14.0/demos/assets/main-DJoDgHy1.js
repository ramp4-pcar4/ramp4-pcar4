const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./request-BDomYOKm.js","./preload-helper-DMGCcr4D.js","./IdentityManager-CNbm6ZNU.js","./intl-CnfmQOd0.js","./messages-DyY-tQe4.js","./jsxFactory-JatJKb6K.js","./uuid-Oe6SV2kF.js","./sanitizerUtils-BSv1Bmu5.js","./jsxFactory-CQED0rIl.css","./modeUtils-BSBMAsDr.js","./substitute-DiZpM09e.js","./QueueProcessor-BD2VAaPk.js","./Queue-DaUDwAqr.js","./ReactiveMap-BYk_uDwQ.js","./signal-BaW-Bcbs.js","./WhereClauseCache-Bo9dD1hU.js","./LRUCache-BDIlOjQb.js","./MemCache-BowPj2eG.js","./WhereClause-CMuZq8Ec.js","./TimeOnly-C4vTLsm4.js","./enum-B0fLylYH.js","./UnknownTimeZone-CmfUgiPa.js","./arcadeUtils-DAWsfcCb.js","./arcade-CLiSuS0j.js","./arcadeEnvironment-Caqy6s60.js","./Dictionary-BLWcCqH8.js","./ImmutableArray-BPVd6ESQ.js","./shared-C-3So-8q.js","./Field-BjIZIuuv.js","./fieldType-B3Jc2rgt.js","./number-DPpiKR9R.js","./Feature-DpnJhVbZ.js","./featureConversionUtils-B0UBwPuJ.js","./OptimizedFeature-C_Me_p-Z.js","./memoryEstimations-DnGGRmy9.js","./OptimizedGeometry-BgrwHKJJ.js","./OptimizedFeatureSet-BR8EEvDc.js","./FieldsIndex-pyQ0ASj3.js","./timeZoneUtils-BrpHPCVl.js","./aiServices-BL1Qs7Ym.js","./commonProperties-DHiB1uzW.js","./utils-D__exs9p.js","./streamLayerUtils-DFlbJ4P1.js","./unitConversion-WL2Dz3sp.js","./isImageryGraphicOrigin-Ccuhb4eK.js","./isImageryTileGraphicOrigin-ZR-gBf9D.js","./rasterFieldUtils-BqX11y4y.js","./batchExec-M7ek6aNZ.js","./PortalItem-B-8c8jqB.js","./Basemap-BFyOB0Rp.js","./loadAll-hnbBtwwH.js","./asyncUtils-dxk0lkVi.js","./isBasemap-Cp_8tW2x.js","./writeUtils-DBc3tS8S.js","./ElevationLayer-T-HYP3ty.js","./MultiOriginJSONSupport-BAKDgU3-.js","./HeightModelInfo-BekXgrjo.js","./ArcGISCachedService-DAUAFS_R.js","./TileInfo-DegUOq3T.js","./TileKey-DU6UZ795.js","./TileInfoTilemapCache-oQmkE0PU.js","./TilemapCache-DsxvDIQs.js","./ArcGISService-DjmdB-yQ.js","./OperationalLayer-nu6RWOvW.js","./layerContainerType-CSXZNpHb.js","./ElevationInfo-rZECiOfs.js","./lengthUtils-DTCBAnCf.js","./PortalLayer-rqzYQvJy.js","./portalItemUtils-DWjov5Bm.js","./projectionUtils-BnZegCzy.js","./projectBuffer-CvUxwxfU.js","./zscale-uj2q40qk.js","./WorkerHandle-DpkcSKKE.js","./workers-CWYjgPpO.js","./webStyleSymbolUtils-DGK3k14S.js","./devEnvironmentUtils-8WtPGj6h.js","./styleUtils-Bz_FA9wX.js","./webStyleAcceptedFormats-CG7ZQ6BV.js","./portalLayers-BJi5c2jV.js","./associatedFeatureServiceUtils-CohT-zgs.js","./fetchService-CQOjS1is.js","./loadUtils-DkM0EgUk.js","./lazyLayerLoader-Bb43g-68.js","./arcgisLayers-Bg8ybu1t.js","./Map-Br1QeWbT.js","./CollectionFlattener-CzSZFt48.js","./persistable-BGWdn635.js","./MD5-MtSiOt06.js","./multiOriginJSONSupportUtils-C0wm8_Yw.js","./resourceExtension-m0TuurRk.js","./PolygonCollection-wkLiFARR.js","./editableLayers-C0xHqn3u.js","./mat4f32-Djp3mnm5.js","./mat4-2MTFrsuN.js","./TablesMixin-CS114ckI.js","./MapView-BULM8_Zy.js","./Texture-C3mjBkZn.js","./Cyclical-CcbL6dUf.js","./enums-DQOO6RKE.js","./GraphicsCollection-CL3D25Q2.js","./UpdatingHandles-B-5OkGd0.js","./utils-CjSTERX-.js","./Version-C6XZCcoI.js","./Query-BDCdTeKY.js","./projectionUtils-SE88fSyt.js","./vec2f64-Cgb6qxNH.js","./mat2d-CaJtLH6t.js","./mat2df64-DJ_RMjZ3.js","./normalizeUtils-CoGHxVg9.js","./normalizeUtilsCommon-CbZwzlMS.js","./utils-CuKrfAwA.js","./mat2df32-Dpt2CT5P.js","./vec2f32-CaVKkSa6.js","./Scheduler-BvhG-7pC.js","./debugFlags-XlpYn9IJ.js","./a11yUtils-CquyW-1D.js","./vec32-Cug0iGhu.js","./unitBezier-B1N-tmtC.js","./Tile-lNhn9c1z.js","./TileKey-BHebyRpW.js","./arcadeUtils-62jCBeLc.js","./quickselect-QQC62dOK.js","./definitions-Bxxl7NsE.js","./imageUtils-ef5rRdDI.js","./capabilities-Bi6C4OG6.js","./ColorBackground-CUPAqB-h.js","./FeatureLayer-CTp8Vv0w.js","./FormTemplate-DU-sgoKP.js","./GraphicOrigin-BRleIVAQ.js","./editsZScale-DarO4RTS.js","./queryZScale-BoaDrqkw.js","./FeatureSet-CWEQnvg_.js","./APIKeyMixin-B-P53AyQ.js","./BlendLayer-CyNfx66v.js","./jsonUtils-CstQvJeQ.js","./parser-BnRWC6yN.js","./CustomParametersMixin-K8Pf5MFb.js","./DisplayFilteredLayer-Bt0hivJQ.js","./scaleUtils-BIpak6C4.js","./displayFilterUtils-Bk1VJ2r-.js","./EditBusLayer-DqTfeTra.js","./FeatureEffectLayer-C55DeoBt.js","./FeatureEffect-CPVCO-m3.js","./FeatureFilter-CWgxAbmp.js","./FeatureLayerBase-D70xFKuG.js","./labelingInfo-Bj6lLLJC.js","./SimpleRenderer-NsbqIOrU.js","./commonProperties-Ck_wGj36.js","./colorRamps-DW3enE7O.js","./ColorStop-DbnRkCet.js","./visualVariableUtils-CeC-FImk.js","./UniqueValueRenderer-3sERMAnY.js","./diffUtils-rhP3e9jP.js","./RendererLegendOptions-UgMlxOFt.js","./RelationshipQuery-CP7hXzlU.js","./NormalizationBinParametersMixin-BUaoJb9b.js","./labelUtils-7211NO83.js","./LayerFloorInfo-gdsY1m5O.js","./multiLayerServiceUtils-BguCziIl.js","./Relationship-B38fTHYd.js","./serviceCapabilitiesUtils-BtLwTIpT.js","./infoFor3D-DhzudQro.js","./FeatureReductionLayer-6XPORU11.js","./FeatureReductionSelection-DBPUy4cd.js","./jsonUtils-Cgq4AutP.js","./typeUtils-cy23zBkK.js","./ClassBreaksRenderer-Dfg3Oq9d.js","./DictionaryScriptEvaluator-Bf9dsvEz.js","./ArcadeExpression-BIezPmSx.js","./utils-DQaLv0i_.js","./defaultCIMValues-XI-Li77m.js","./heatmapUtils-8W-DVcny.js","./vec42-C8IJxs4z.js","./vec4f64-DPb6J-GU.js","./OrderedLayer-BUkPCQZK.js","./OrderByInfo-CQ5aOuv9.js","./RefreshableLayer-DouxAJn2.js","./ScaleRangeLayer-B5DeYT7P.js","./TemporalLayer-1-H51Jdn.js","./TimeInfo-CS51GmlV.js","./TrackableLayer-wMQ1gEAY.js","./FeatureTemplate-C99vD_Nj.js","./FeatureType-BS20Jvin.js","./fieldProperties-qklV4TG0.js","./TitleCreator-B2My4xte.js","./versionUtils-Ds8mYfYk.js","./styleUtils-B9AeELJG.js","./popupUtils-DsiRb_u0.js","./GraphicsLayer-DyM81qeL.js","./ImageryLayer-CHctXDaz.js","./datasetUtils-DIOBqpZd.js","./RasterJobHandlerMixin-Cqr8ZWWA.js","./RasterSymbolizer-CVB9x02A.js","./PixelBlock-B8-GSmwb.js","./pixelRangeUtils-BvOub3JO.js","./_commonjsHelpers-DCkdB7M8.js","./vectorFieldUtils-CGggfdZc.js","./colorUtils-DQh96YDI.js","./utils-Bw2S51du.js","./cimSymbolUtils-C1-1ehAO.js","./ClassBreaksDefinition-BM6xzBRk.js","./dataUtils-C9IVBVoT.js","./imageBitmapUtils-BodPNt9X.js","./RasterPresetRendererMixin-CaUDhoDO.js","./executeForIds-5ioM9Fro.js","./query-Dwngo8tS.js","./pbfQueryUtils-BiJt-OYn.js","./pbf-DpDvbBlf.js","./executeQueryJSON-C-oSGTyM.js","./elevationInfoUtils-DDBvXGGl.js","./ImageryTileLayer-B5Cxr_R0.js","./xmlUtilities-b5C1JscS.js","./RawBlockCache-gORQseTN.js","./rasterProjectionHelper-C8d84i4B.js","./clipUtils-DY2uI9pM.js","./rasterFunctionHelper-C0wV6KQT.js","./GCSShiftTransform-BcLcdJj1.js","./MapImageLayer-DtBOrOs2.js","./SublayersOwner-BiEaDLTh.js","./QueryTask-BBYG49Wb.js","./executeQueryPBF-wi78HhP1.js","./sublayerUtils-BEQnBRaB.js","./ExportImageParameters-09KA5x9F.js","./floorFilterUtils-DKzVzLpH.js","./OpenStreetMapLayer-Q6Vd8gQq.js","./WebTileLayer-DOH0dTNy.js","./TileLayer-B-uiujhm.js","./VectorTileLayer-Cv1-5Sai.js","./jsonContext-Cm6TNku5.js","./StyleRepository-D5-ZPPEg.js","./constants-BHYAGdRm.js","./GeometryUtils-Cz6toMQB.js","./VertexAttributeLocations-BfZbt_DV.js","./VertexElementDescriptor-BLyltQyJ.js","./WMSLayer-CZKnxZGK.js","./crsUtils-DAndLU68.js","./ExportWMSImageParameters-5CafLPYt.js","./arcade-BlCUiTml.js","./query-CkVDi-ge.js","./AttachmentInfo-D2jRek_I.js","./executeAttributeBinsQuery-BOVyCCBk.js","./AttributeBinsFeatureSet-cVGtuH8p.js","./AttributeBinsQuery-DJqI5kPt.js","./queryUtils-50Xc8yYa.js","./FixedIntervalBinParameters-D-QsTkIC.js","./executeForTopCount-DFQAMBlA.js","./queryTopFeatures-EEwdJr01.js","./TopFeaturesQuery-CGZxcE-B.js","./executeForTopExtents-HohliM_5.js","./executeForTopIds-jOJEpDnP.js","./executeRelationshipQuery-BPoa2X8e.js","./executeTopFeaturesQuery-DsDr-kqx.js","./shp.min-CRz8ZI-c.js","./_commonjs-dynamic-modules-TDtrdbi3.js","./jszip.min-BBpOK5F0.js","./index-B3BZ72w-.js","./index-C0BV8b1p.css","./index-CxEGeVlk.js","./screen.vue_vue_type_script_setup_true_lang-Bv3rkg66.js","./screen-BiLbuIF4.css","./index-Ce9tBuzf.js","./index-465Vy0zO.js","./index-C3Mt9piA.css","./index-DLMZ_fLQ.js","./hilight-defs-CqXQYtIh.js","./index-KtbunTJY.js","./dynamic-import-helper-BheWnx7M.js","./draw-store-B_Xm3QQg.js","./SketchViewModel-Cj8uEiXG.js","./projectVectorToVector-CKUUwHjx.js","./projectPointToVector-DRrpaIHi.js","./geodesicUtils-B3wsgxFJ.js","./plane-ZGj-8_WI.js","./vectorStacks-BbylamMy.js","./quatf64-aQ5IuZRd.js","./sphere-Dgp7tg6C.js","./quantityUtils-m4o856R2.js","./geodeticLengthOperator-D9IB3V30.js","./geodeticCurveType-CirnHLSB.js","./earcut-D9gy186-.js","./triangle-BpZbkAPp.js","./lineSegment-gD1fcp9j.js","./spatialReferenceEllipsoidUtils-CJ_KWh8h.js","./layerViewUtils-tCQ5DBJc.js","./drapedUtils-D9FV6pde.js","./utils-BQBvadb7.js","./widget-DO5zAVY-.js","./index-99ofyQZj.js","./fabric-DaTMe7mc.js","./index-DLqo_zDY.js","./index-Ds0ewBjN.js","./index-BfPHtsi5.js","./index-DE48e6Ex.js","./index-W6O3fER0.js","./index-JafQLYBz.js","./index-B_bAzBF5.js","./screen.vue_vue_type_script_setup_true_lang-yOrsqs7m.js","./index-BqXZrRWK.js","./index-W08AUv0w.js","./index-BSPsVkSh.js","./index-DIT4PWn_.js","./table-state-manager-BeyhKYxv.js","./index-D07Q-i4s.js","./index--515-2B_.js","./index-BXMIr9OO.js","./index-BwAXAEN2.css","./index-BuPWtDcf.js","./index-fFSjcElI.js","./index-CKfVQw8Q.js","./index-B1Kchh1v.css","./index-CCTkw3vx.js","./index-OaQff5ua.js","./index-DIdexwBC.js","./index-D7CqKU0-.css","./index-CgpBVJFS.js","./index-D-3-S-HY.css","./index-DXLCyk7F.js","./index-Dti23dwS.css","./index-DubMVldr.js","./index-DEej3XWI.js","./index-1gLqjDMe.js","./index-y60zY6YE.css","./index-Dwmp7y_0.js","./screen-CbMCXXCT.js","./screen-45yl_Usf.js","./screen-G8lp0Bdf.css","./screen-DkWDc3CQ.js","./screen-DIBBK_Ao.js","./screen-CwbtZ41W.css","./screen-CI4dhu5W.js","./screen-CUdJ9vbD.css","./screen-CZsiwtTT.js","./marked.esm-DmSrlTiT.js","./screen-DcX-wckC.css","./screen-BngKvYc5.js","./vue.esm-bundler-DyOW8Ado.js","./screen-ClE_JYXg.css","./screen-Chv78eAG.js","./screen-CnLtuWZe.js","./screen-CkXxljnt.css","./screen-rPpJDqhW.js","./toggle-switch-control-BTSNlN1U.js","./toggle-switch-control-TJXJxWh9.css","./screen-DMJifmlo.css","./screen-BIhVUndh.js","./screen-BusTg7z-.css"])))=>i.map(i=>d[i]);
import{_ as ve}from"./preload-helper-DMGCcr4D.js";var ma=(e=>(e.BLOB="blob",e.DATE="date",e.DOUBLE="double",e.GEOMETRY="geometry",e.GLOBAL_ID="global-id",e.GUID="guid",e.INTEGER="integer",e.LONG="long",e.OID="oid",e.RASTER="raster",e.SINGLE="single",e.SMALL_INTEGER="small-integer",e.STRING="string",e.XML="xml",e))(ma||{}),ra=(e=>(e.CIRCLE="circle",e.CROSS="cross",e.DIAMOND="diamond",e.ICON="icon",e.PATH="path",e.SQUARE="square",e.TRIANGLE="triangle",e.X="x",e))(ra||{}),os=(e=>(e.DASH="dash",e.DASHDOT="dash-dot",e.DASHDOTDOT="short-dash-dot-dot",e.DOT="dot",e.LONGDASH="long-dash",e.LONGDASHDOT="long-dash-dot",e.LONGDASHDOTDOT="long-dash-dot-dot",e.NONE="none",e.NULL="none",e.SHORTDASH="short-dash",e.SHORTDASHDOT="short-dash-dot",e.SHORTDASHDOTDOT="short-dash-dot-dot",e.SHORTDOT="short-dot",e.SOLID="solid",e))(os||{}),BC=(e=>(e.BEVEL="bevel",e.MITER="miter",e.ROUND="round",e))(BC||{}),VC=(e=>(e.ROUND="round",e.BUTT="butt",e.SQUARE="square",e))(VC||{}),GC=(e=>(e.BDIAG="backward-diagonal",e.CROSS="cross",e.DIAG_CROSS="diagonal-cross",e.FDIAG="forward-diagonal",e.HORIZONTAL="horizontal",e.NONE="none",e.NULL="none",e.SOLID="solid",e.VERTICAL="vertical",e))(GC||{}),Ke=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e.LINEARRING="LinearRing",e.EXTENT="Extent",e.NONE="None",e.UNKNOWN="Unknown",e))(Ke||{}),l1=(e=>(e.Simple="simple",e.Unique="uniqueValue",e.ClassBreaks="classBreaks",e.Unknown="unknown",e))(l1||{}),Ce=(e=>(e.FEATURE="esri-feature",e.MAPIMAGE="esri-map-image",e.TILE="esri-tile",e.VECTORTILE="esri-vector-tile",e.IMAGERY="esri-imagery",e.IMAGERYTILE="esri-imagery-tile",e.GRAPHIC="esri-graphic",e.WMS="ogc-wms",e.WFS="ogc-wfs",e.GEOJSON="file-geojson",e.GEOJSONZIPPED="file-zip-geojson",e.CSV="file-csv",e.SHAPEFILE="file-shape",e.FLATGEOBUF="file-fgb",e.FLATGEOBUFZIPPED="file-zip-fgb",e.OSM="osm-tile",e.DATACSV="data-csv",e.DATAJSON="data-json",e.DATATABLE="data-esri-table",e.UNKNOWN="unknown",e.SUBLAYER="sublayer",e))(Ce||{}),Qi=(e=>(e.FEATURE="feature",e.GRAPHIC="graphic",e.IMAGERY="imagery",e.IMAGERYTILE="imagery-tile",e.MAPIMAGE="map-image",e.NOLAYER="no-layer",e.OSM="osm-tile",e.TILE="tile",e.UNKNOWN="unknown",e.VECTORTILE="vector-tile",e.WMS="wms",e))(Qi||{}),li=(e=>(e.ESRI_FEATURE="esriFeature",e.ESRI_RASTER="esriRaster",e.ESRI_TILE="esriTile",e.OSM_TILE="osmTile",e.OGC_RASTER="ogcRaster",e.UNKNOWN="unknown",e))(li||{}),yr=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e))(yr||{}),Yr=(e=>(e.GEOMETRIC="geometric",e.SYMBOLIC="symbolic",e.HYBRID="hybrid",e.NONE="none",e))(Yr||{}),Xt=(e=>(e.NEW="new",e.INITIATING="initiating",e.INITIATED="initiated",e.TERMINATING="terminating",e.TERMINATED="terminated",e))(Xt||{}),vr=(e=>(e.NEW="new",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error",e))(vr||{}),ps=(e=>(e.NOT_LOADED="not-loaded",e.NOT_VISUAL="not-visual",e.REFRESH="refresh",e.UP_TO_DATE="up-to-date",e))(ps||{}),$h=(e=>(e.ESRI="esri",e.TEXT="text",e.IMAGE="image",e.HTML="html",e.XML="xml",e.JSON="json",e.UNKNOWN="unknown",e))($h||{}),Mi=(e=>(e.SYMBOL="symbol",e.GRID="grid",e.EXTENT="extent",e.INITIAL="initial",e.API="api",e.PERMANENT="permanent",e))(Mi||{}),Sr=(e=>(e.BoundaryZoom="boundaryZoom",e.Datatable="datatable",e.Identify="identify",e.Metadata="metadata",e.Opacity="opacity",e.Refresh="refresh",e.Reload="reload",e.Remove="remove",e.Settings="settings",e.Symbology="symbology",e.Visibility="visibility",e))(Sr||{});class Hn{attributes;geometry;style;id;constructor(t,r,i){this.geometry=t,r?this.id=r:this.id=Qc.sharedUtils.generateUUID(),i?this.attributes=i:this.attributes={}}_hover;get hover(){return this._hover}set hover(t){t&&this._hover&&this._hover.id!==t.id&&this.removeHover(),this._hover=t}removeHover(){this._hover&&(this._hover=void 0)}}const mg={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function sj(e){return!!mg[e]||!!mg[e.toLowerCase()]}function qC(e){return mg[e]??mg[e.toLowerCase()]}function Pbe(e){return[...qC(e)]}function Wb(e,t,r){r<0&&++r,r>1&&--r;const i=6*r;return i<1?e+(t-e)*i:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function nj(e,t,r,i=1){const s=(e%360+360)%360/360,n=r<=.5?r*(t+1):r+t-r*t,o=2*r-n;return[Math.round(255*Wb(o,n,s+1/3)),Math.round(255*Wb(o,n,s)),Math.round(255*Wb(o,n,s-1/3)),i]}function Nbe(e){const t=e.length>5,r=t?8:4,i=(1<<r)-1,s=t?1:17,n=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return n&&(l=o&i,o>>=r,a[3]=s*l/255),l=o&i,o>>=r,a[2]=s*l,l=o&i,o>>=r,a[1]=s*l,l=o&i,o>>=r,a[0]=s*l,a}function zC(e){if(!e.startsWith("#")||isNaN(+`0x${e.slice(1)}`))return null;switch(e.length){case 4:case 5:{const t=parseInt(e.slice(1,2),16),r=parseInt(e.slice(2,3),16),i=parseInt(e.slice(3,4),16),s=e.length===4?15:parseInt(e.slice(4),16);return[t+16*t,r+16*r,i+16*i,(s+16*s)/255]}case 7:case 9:return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),(e.length===7?255:parseInt(e.slice(7),16))/255];default:return null}}function HC(e){const t=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(t){const r=t[2].split(/\s*,\s*/),i=t[1];if(i==="rgb"&&r.length===3||i==="rgba"&&r.length===4){if(r[0].endsWith("%")){const s=r.map(n=>2.56*parseFloat(n));return r.length===4&&(s[3]=parseFloat(r[3])),WT(s)}return WT(r.map(s=>parseFloat(s)))}if(i==="hsl"&&r.length===3||i==="hsla"&&r.length===4)return nj(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3]??"1"))}return null}function WT(e){return e[0]=Mh(e[0]),e[1]=Mh(e[1]),e[2]=Mh(e[2]),e[3]=e.length===4?YC(e[3]):1,e}function WC(e){let t=sj(e)?qC(e):null;return t??=HC(e),t??=zC(e),t}function Lbe(e){const t=WC(e);return t!=null?[t[0]/255,t[1]/255,t[2]/255,t[3]]:null}function YC(e){return JC(e,0,1)}function Mh(e){return Math.round(JC(e,0,255))}function JC(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}const KC=2.2,oj=1/KC;function kbe(e){return e**KC}function Rbe(e){return e**oj}const YT=new Float32Array(1);function Dbe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function $m(e,t,r){return Math.min(Math.max(e,t),r)}function Fbe(e){return!(e&e-1)}function Ube(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function aj(e,t,r){return e+(t-e)*r}function jbe(e,t,r,i,s){return aj(i,s,(e-t)/(r-t))}function Bbe(e){return e*Math.PI/180}function Vbe(e){return 180*e/Math.PI}function Gbe(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function qbe(e){return Math.acos($m(e,-1,1))}function zbe(e){return Math.asin($m(e,-1,1))}function El(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}function Hbe(e,t,r=1e-6){return!El(e,t,r)&&e>t}function Wbe(e,t,r=1e-6){return!El(e,t,r)&&e<t}function Ybe(e,t,r=1e-6){return El(e,t,r)||e>t}const yg=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function S_(e){return yg.setFloat64(0,e),yg.getBigInt64(0)}function lj(e){return yg.setBigInt64(0,e),yg.getFloat64(0)}const h0=1000000n,cj=ZC(1);function ZC(e){const t=S_(e=Math.abs(e)),r=lj(t<=h0?h0:t-h0);return Math.abs(e-r)}function Jbe(e,t,r=cj){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(r!=null&&ZC(Math.min(Math.abs(e),Math.abs(t)))<r)return Math.abs(e-t)<=r;const i=S_(e),s=S_(t);return i<0!=s<0?!1:!((i<s?s-i:i-s)>h0)}function XC(e,t,r=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const i=Math.abs(e-t),s=Math.abs(e),n=Math.abs(t);if(e===0||t===0||s<1e-12&&n<1e-12){if(i>.01*r)return!1}else if(i/(s+n)>r)return!1;return!0}function Kbe(e){return QC(Math.max(-JT,Math.min(e,JT)))}function QC(e){return YT[0]=e,YT[0]}function Zbe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],i=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(El(t,1)&&El(r,1)&&El(i,1))}function Xbe(e,t){return(e%t+t)%t}const JT=QC(34028234663852886e22);function Qbe(e,t,r){if(r===void 0||+r==0)return Math[e](t);if(t=+t,r=+r,isNaN(t)||typeof r!="number"||r%1!=0)return NaN;let i=t.toString().split("e");return i=(t=Math[e](+(i[0]+"e"+(i[1]?+i[1]-r:-r)))).toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+r:r))}let bl;const fi=globalThis;function ee(e){return typeof bl[e]=="function"?bl[e]=bl[e](fi):bl[e]}bl=fi.dojoConfig?.has||fi.esriConfig?.has?{...fi.dojoConfig?.has,...fi.esriConfig?.has}:{},ee.add=(e,t,r,i)=>{(i||bl[e]===void 0)&&(bl[e]=t),r&&ee(e)},ee.cache=bl,ee.add("big-integer-warning-enabled",!0),ee.add("esri-deprecation-warnings",!0),ee.add("esri-tests-disable-screenshots",!1),ee.add("esri-tests-use-full-window",!1),ee.add("esri-tests-post-to-influx",!0),ee.add("esri-cim-animations-enable-status","enabled"),ee.add("esri-cim-animations-spotlight",!1),ee.add("esri-cim-animations-freeze-time",!1),(()=>{ee.add("host-webworker",fi.WorkerGlobalScope!==void 0&&self instanceof fi.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(ee.add("host-browser",e),ee.add("host-node",!(typeof fi.process!="object"||!fi.process.versions?.node||!fi.process.versions.v8)),ee.add("dom",e),ee("host-browser")){const t=navigator,r=t.userAgent,i=t.appVersion,s=parseFloat(i);if(ee.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),ee.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),ee.add("khtml",i.includes("Konqueror")?s:void 0),ee.add("edge",parseFloat(r.split("Edge/")[1])||void 0),ee.add("opr",parseFloat(r.split("OPR/")[1])||void 0),ee.add("webkit",!ee("wp")&&!ee("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),ee.add("chrome",!ee("edge")&&!ee("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),ee.add("android",!ee("wp")&&parseFloat(r.split("Android ")[1])||void 0),ee.add("safari",!i.includes("Safari")||ee("wp")||ee("chrome")||ee("android")||ee("edge")||ee("opr")?void 0:parseFloat(i.split("Version/")[1])),ee.add("mac",i.includes("Macintosh")),!ee("wp")&&/(iPhone|iPod|iPad)/.test(r)){const n=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));ee.add(n,a),ee.add("ios",a)}ee("webkit")||(!r.includes("Gecko")||ee("wp")||ee("khtml")||ee("edge")||ee.add("mozilla",s),ee("mozilla")&&ee.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(fi.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&ee.add("esri-mobile",t),r&&ee.add("esri-iPhone",r),ee.add("esri-geolocation",!!navigator.geolocation)}ee.add("esri-wasm","WebAssembly"in fi),ee.add("esri-performance-mode-frames-between-render",20),ee.add("esri-force-performance-mode",!1),ee.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in fi,t=fi.crossOriginIsolated===!1;return e&&!t}),ee.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),ee.add("esri-atomics","Atomics"in fi),ee.add("esri-workers","Worker"in fi),ee.add("web-feat:cache","caches"in fi),ee.add("esri-workers-arraybuffer-transfer",!ee("safari")||Number(ee("safari"))>=12),ee.add("workers-pool-size",8),ee.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ee.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ee.add("featurelayer-fast-triangulation-enabled",!0),ee.add("featurelayer-animation-enabled",!0),ee.add("featurelayer-snapshot-enabled",!0),ee.add("featurelayer-snapshot-initial-tolerance",0),ee.add("featurelayer-snapshot-point-min-threshold",8e4),ee.add("featurelayer-snapshot-point-max-threshold",4e5),ee.add("featurelayer-snapshot-multipoint-min-threshold",2e4),ee.add("featurelayer-snapshot-multipoint-max-threshold",1e5),ee.add("featurelayer-snapshot-polygon-min-threshold",2e3),ee.add("featurelayer-snapshot-polygon-max-threshold",2e3),ee.add("featurelayer-snapshot-polyline-min-threshold",2e3),ee.add("featurelayer-snapshot-polyline-max-threshold",2e3),ee.add("featurelayer-snapshot-max-vertex-count",25e4),ee.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!0),ee.add("featurelayer-snapshot-concurrency",4),ee.add("featurelayer-snapshot-coverage",.1),ee.add("featurelayer-query-max-depth",4),ee.add("featurelayer-query-pausing-enabled",!1),ee.add("featurelayer-query-tile-concurrency",4),ee.add("featurelayer-query-tile-max-features",6e5),ee.add("featurelayer-advanced-symbols",!1),ee.add("featurelayer-pbf",!0),ee.add("featurelayer-pbf-statistics",!1),ee.add("feature-layers-workers",!0),ee.add("feature-polyline-generalization-factor",1),ee.add("parquetlayer-full-query-feature-count",2e4),ee.add("parquetlayer-hittest-max-feature-count",1),ee.add("parquetlayer-persistence-enabled",!1),ee.add("mapview-transitions-duration",200),ee.add("mapview-essential-goto-duration",200),ee.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),ee.add("mapserver-pbf-version-support",10.81),ee.add("mapservice-popup-identify-max-tolerance",20),ee.add("request-queue-concurrency-hosted",16),ee.add("request-queue-concurrency-non-hosted",4),ee.add("curve-densification-coarse-segments",128),ee.add("curve-densification-max-segments",2e3),ee.add("curve-densification-min-segments",3),ee.add("curve-densification-pixel-deviation",.5),ee.add("view-readyState-waiting-delay",1e3),ee.add("gradient-depth-bias",.01),ee.add("gradient-depth-epsilon",1e-8),ee.add("enable-feature:esri-compress-textures",!0),ee("host-webworker")||ee("host-browser")&&(ee.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),ee.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function e2e(e){}function t2e(e){return()=>e}function r2e(e){return e}let uj=class vc{static{this._m=2147483647}static{this._a=48271}static{this._c=0}constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*vc._m}getInt(){return this._seed=(vc._a*this._seed+vc._c)%vc._m,this._seed}getFloat(){return this.getInt()/(vc._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const i=r-t;return t+this.getInt()/vc._m*i}};const hj=1.5,i2e=1/hj,s2e=.5;function n2e(e,t){if(!t)return e;for(const r of t)e.push(r);return e}function e5(e){return e}function fj(e,t=e5){if(!e||e.length===0)return;let r=e[0],i=t(r);for(let s=1;s<e.length;++s){const n=e[s],o=Number(t(n));o>i&&(i=o,r=n)}return r}function o2e(e,t=e5){return fj(e,r=>-t(r))}function a2e(e,t){return t?e.filter((r,i,s)=>s.findIndex(t.bind(null,r))===i):Array.from(new Set(e))}function dj(e,t,r,i,s,n,o){if(e==null&&i==null)return!0;t=Math.max(0,t),s=Math.max(0,s),r=Math.max(0,r<0?(e?.length??0)+r:r),n=Math.max(0,n<0?(i?.length??0)+n:n);const a=r-t;if(e==null||i==null||a!==n-s)return!1;if(o){for(let l=0;l<a;l++)if(!o(e[t+l],i[s+l]))return!1}else for(let l=0;l<a;l++)if(e[t+l]!==i[s+l])return!1;return!0}function c1(e,t,r){return dj(e,0,e?.length??0,t,0,t?.length??0,r)}function l2e(){return(e,t)=>{if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}}function c2e(e,t,r){let i,s;return r?(i=t.filter(n=>!e.some(o=>r(o,n))),s=e.filter(n=>!t.some(o=>r(o,n)))):(i=t.filter(n=>!e.includes(n)),s=e.filter(n=>!t.includes(n))),{added:i,removed:s}}function u2e(e){return e&&typeof e.length=="number"}function h2e(e,t){const r=e.length;if(r===0)return[];const i=[];for(let s=0;s<r;s+=t)i.push(e.slice(s,s+t));return i}let t5=class{constructor(){this.last=0}};const r5=new t5;function E_(e,t,r,i){i=i||r5;const s=Math.max(0,i.last-10);for(let o=s;o<r;++o)if(e[o]===t)return i.last=o,o;const n=Math.min(s,r);for(let o=0;o<n;++o)if(e[o]===t)return i.last=o,o;return-1}function d2e(e,t,r,i){const s=e.length,n=E_(e,t,s,i);if(n!==-1)return e[n]=e[s-1],e.pop(),t}const _n=new Set;function pj(e,t,r=e.length,i=t.length,s,n){if(i===0||r===0)return r;_n.clear();for(let a=0;a<i;++a)_n.add(t[a]);s=s||r5;const o=Math.max(0,s.last-10);for(let a=o;a<r;++a)if(_n.has(e[a])&&(n?.push(e[a]),_n.delete(e[a]),e[a]=e[r-1],--r,--a,_n.size===0||r===0))return _n.clear(),r;for(let a=0;a<o;++a)if(_n.has(e[a])&&(n?.push(e[a]),_n.delete(e[a]),e[a]=e[r-1],--r,--a,_n.size===0||r===0))return _n.clear(),r;return _n.clear(),r}function p2e(e,t){let r=0;for(let i=0;i<e.length;++i){const s=e[i];t(s,i)&&(e[r]=s,r++)}return e.length=r,e}function m2e(e,t,r){const i=e.length;if(t>=i)return e.slice();const s=i5(r),n=new Set,o=[];for(;o.length<t;){const a=Math.floor(s()*i);n.has(a)||(n.add(a),o.push(e[a]))}return o}function i5(e){return e?(KT.seed=e,()=>KT.getFloat()):Math.random}const KT=new uj;function y2e(e,t){if(!e)return e;const r=i5(t);for(let i=e.length-1;i>0;i--){const s=Math.floor(r()*(i+1)),n=e[i];e[i]=e[s],e[s]=n}return e}function mj(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function yj(e,t){return e!=null}const g2e=[];function v2e(e){return e instanceof ArrayBuffer}function FS(e){return e?.constructor?.name==="Int8Array"}function s5(e){return e?.constructor?.name==="Uint8Array"}function n5(e){return e?.constructor?.name==="Uint8ClampedArray"}function US(e){return e?.constructor?.name==="Int16Array"}function o5(e){return e?.constructor?.name==="Uint16Array"}function jS(e){return e?.constructor?.name==="Int32Array"}function a5(e){return e?.constructor?.name==="Uint32Array"}function gj(e){return e?.constructor?.name==="Float16Array"}function u1(e){return e?.constructor?.name==="Float32Array"}function h1(e){return e?.constructor?.name==="Float64Array"}function vj(e){return"buffer"in e}const l5=1024;function b2e(e){return h1(e)||u1(e)||jS(e)||US(e)||FS(e)}function _2e(e){return h1(e)||u1(e)}function w2e(e){return h1(e)?179769e303:gj(e)?65504:u1(e)?3402823e32:a5(e)?4294967295:o5(e)?65535:s5(e)||n5(e)?255:jS(e)?2147483647:US(e)?32767:FS(e)?127:256}const x2e=-32768,S2e=-2147483648;function E2e(e){return e}function A2e(e,t){let r;for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function ge(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=f5(e);if(t!=null)return t;if(c5(e))return e.clone();if(u5(e))return e.map(ge);if(h5(e))throw new Error("Trying to clone an unclonable Accessor instance");const r={};for(const i of Object.getOwnPropertyNames(e))r[i]=ge(e[i]);return r}function A_(e,t){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const r=f5(e);if(r!=null)return r;if(u5(e)){let s=!0;const n=e.map(o=>{const a=A_(o,t);return o!=null&&a==null&&(s=!1),a});return s?n:null}if(c5(e))return e.clone(t);if(e instanceof File||e instanceof Blob)return e;if(h5(e))return null;const i=new(Object.getPrototypeOf(e)).constructor;for(const s of Object.getOwnPropertyNames(e)){const n=e[s],o=A_(n);if(n!=null&&o==null)return null;i[s]=o}return i}function c5(e){return typeof e.clone=="function"}function u5(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function h5(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function ZT(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function f5(e){if(FS(e)||s5(e)||n5(e)||US(e)||o5(e)||jS(e)||a5(e)||u1(e)||h1(e))return e.slice();if(e instanceof Date)return new Date(e);if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,i]of e)t.set(r,ge(i));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(ge(r));return t}return null}function BS(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function bj(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&c1(e,t):e instanceof Set?t instanceof Set&&wj(e,t):e instanceof Map?t instanceof Map&&xj(e,t):!!ZT(e)&&ZT(t)&&_j(e,t))}function _j(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const i of r)if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}function wj(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function xj(e,t){if(e.size!==t.size)return!1;for(const[r,i]of e){const s=t.get(r);if(s!==i||s===void 0&&!t.has(r))return!1}return!0}function Sj(e,t,r=!1){return p5(e,t,r)}function VS(e,t){if(t!=null)return t[e]||d5(e.split("."),!1,t)}function bu(e,t,r){const i=e.split("."),s=i.pop(),n=d5(i,!0,r);n&&s&&(n[s]=t)}function XT(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const r=t;if(e.length!==r.length)return!0;for(let i=0;i<e.length;i++)if(XT(e[i],r[i]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in e)if(XT(e[r],t[r]))return!0;return!1}return e!==t}function d5(e,t,r){let i=r;for(const s of e){if(i==null)return;if(!(s in i)){if(!t)return;i[s]={}}i=i[s]}return i}function p5(e,t,r){return t?Object.keys(t).reduce((i,s)=>{if(s==="__proto__")return i;let n=i[s],o=t[s];return n===o?i:n===void 0?(i[s]=ge(o),i):(Array.isArray(o)||Array.isArray(i)?(n=n?Array.isArray(n)?i[s]=n.slice():i[s]=[n]:i[s]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach(a=>{n.includes(a)||n.push(a)}):i[s]=o.slice())):o&&typeof o=="object"?i[s]=p5(n,o,r):i.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(i[s]=o),i)},e||{}):e}function T2e(e,t){for(const r of Object.entries(e))if(t===r[1])return r[0]}function $2e(e,t){return Object.values(e).includes(t)}const yt={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(Sj(yt,globalThis.esriConfig,!0),delete yt.has),!yt.assetsPath){{const e="4.34";yt.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}yt.defaultAssetsPath=yt.assetsPath}const Ej=/\{([^}]+)\}/g;function QT(e){return e??""}function m5(e,t){return t?e.replaceAll(Ej,typeof t=="object"?(r,i)=>QT(VS(i,t)):(r,i)=>QT(t(i))):e}function M2e(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>t?.includes(r)?r:`\\${r}`)}function y5(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}let e$;function I2e(e){return e$??=new DOMParser,e$.parseFromString(e||"","text/html").body.innerText||""}function O2e(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function C2e(e,...t){let r=e[0];for(let i=0;i<t.length;++i)r+=t[i]+e[i+1];return r}const t$={info:0,warn:1,error:2,none:3};let Ft=class Os{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Os._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=Os.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,Os._loggers.get(t)||new Os({module:t})}static{this._loggers=new Map}static{this._tickCounter=0}static{this._tickCounterScheduled=!1}static{this._throttlingDisabled=!1}_log(t,r,...i){if(this._matchLevel(t)){if(r!=="always"&&!Os._throttlingDisabled){const s=Tj(i),n=this._loggedMessages[t].get(s);if(r==="once"&&n!=null||r==="oncePerTick"&&n&&n>=Os._tickCounter)return;this._loggedMessages[t].set(s,Os._tickCounter),Os._scheduleTickCounterIncrement()}for(const s of yt.log.interceptors)if(s(t,this.module,...i))return;this._inheritedWriter()(t,this.module,...i)}}_parentWithMember(t,r){let i=this;for(;i!=null;){const s=i[t];if(s!=null)return s;i=i.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",Aj)}_matchLevel(t){const r=yt.log.level||"warn";return t$[this._parentWithMember("level",r)]<=t$[t]}static _scheduleTickCounterIncrement(){Os._tickCounterScheduled||(Os._tickCounterScheduled=!0,Promise.resolve().then(()=>{Os._tickCounter++,Os._tickCounterScheduled=!1}))}};function Aj(e,t,...r){console[e](`[${t}]`,...r)}function Tj(...e){return y5(JSON.stringify(e,(r,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]"))}function P2e(e,t){for(const r of e.values())if(t(r))return!0;return!1}function N2e(e,t){for(const r of e.values())if(!t(r))return!1;return!0}function L2e(e,t){for(const r of e.values())if(t(r))return r;return null}function g5(e,t,r){const i=e.get(t);if(i!==void 0)return i;const s=r();return e.set(t,s),s}function k2e(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}const jc=()=>Ft.getLogger("esri.core.accessorSupport.ensureTypes");function $j(e){if(e==null)return e;const t=new Date(e);return isNaN(t.getTime())?(jc().error("Accessor#set",`Invalid date value: '${e}', falling back to current date`),new Date):t}function Mj(e){return e==null?e:!!e}function Ij(e){return e==null?e:e.toString()}function f1(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function GS(e){return e==null?e:Math.round(parseFloat(e))}function Oj(e){return null}function Cj(e,t){return r=>{let i=e(r);return t.step!=null&&(i=Math.round(i/t.step)*t.step),t.min!=null&&(i=Math.max(t.min,i)),t.max!=null&&(i=Math.min(t.max,i)),i}}function v5(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function gg(e,t){return t!=null&&e&&!(t instanceof e)}function b5(e){return e&&"isCollection"in e}function r$(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Pj(e,t){if(!t?.constructor||!b5(t.constructor))return T_(e,t)?t:new e(t);const r=r$(e.prototype.itemType),i=r$(t.constructor.prototype.itemType);return r?i?r===i?t:r.prototype.isPrototypeOf(i.prototype)?new e(t):(T_(e,t),t):new e(t):t}function T_(e,t){return!!v5(t)&&(jc().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+d1(e)+"'"),!0)}function Nj(e,t){return t==null?t:b5(e)?Pj(e,t):gg(e,t)?T_(e,t)?t:new e(t):t}function d1(e){return e?.prototype?.declaredClass||"unknown"}const Lj=new WeakMap;function kj(e){switch(e){case Number:return t=>f1(t);case _r:return GS;case Boolean:return Mj;case String:return Ij;case Date:return $j;case qS:return Oj;default:return g5(Lj,e,()=>Nj.bind(null,e))}}function Wn(e,t){const r=kj(e);return arguments.length===1?r:r(t)}function $p(e,t,r){return arguments.length===1?$p.bind(null,e):t&&(Array.isArray(t)?t.map(i=>e(i,r)):[e(t,r)])}function Rj(e,t){return arguments.length===1?$p(r=>Wn(e,r)):$p(r=>Wn(e,r),t)}function _5(e,t,r){return t!==0&&Array.isArray(r)?r.map(i=>_5(e,t-1,i)):e(r)}function vg(e,t,r){if(arguments.length===2)return n=>vg(e,t,n);if(!r)return r;r=_5(e,t,r);let i=t,s=r;for(;i>0&&Array.isArray(s);)i--,s=s[0];if(s!==void 0)for(let n=0;n<i;n++)r=[r];return r}function Dj(e,t,r){return arguments.length===2?vg(i=>Wn(e,i),t):vg(i=>Wn(e,i),t,r)}function w5(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function $_(e,t){if(arguments.length===2)return $_(e).call(null,t);const r=new Set,i=e.filter(a=>typeof a!="function"),s=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let n=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,u=c==="string"||c==="number";return u&&(r.has(a)||s.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&s.some(d=>!gg(d,a))?a:(u&&i.length?(n||(n=i.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),jc().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof a=="object"&&s.length?(o||(o=s.map(d=>d1(d)).join(", ")),jc().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):jc().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function zh(e,t){if(arguments.length===2)return zh(e).call(null,t);const r={},i=[],s=[];for(const l in e.typeMap){const c=e.typeMap[l];r[l]=Wn(c),i.push(d1(c)),s.push(l)}const n=()=>`'${i.join("', '")}'`,o=()=>`'${s.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!gg(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,u=r[c];if(!u)return jc().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!gg(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!v5(l)){const d={};for(const p in l)p!==e.key&&(d[p]=l[p]);return u(d)}return u(l)}}let _r=class{},qS=class{};const F2e={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Fj(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function x5(e){switch(e.type){case"native":return Wn(e.value);case"array":return $p(x5(e.value));case"one-of":return Uj(e);default:return null}}function Uj(e){let t=null;return(r,i)=>I_(r,e)?r:(t==null&&(t=M_(e)),jc().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),i&&(i.valid=!1),null)}function M_(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case _r:return"integer";case Date:return"date";case qS:return"null";default:return d1(e.value)}case"array":return`array of ${M_(e.value)}`;case"one-of":{const t=e.values.map(r=>M_(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function I_(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case _r:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case qS:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!I_(r,t.value));case"one-of":return t.values.some(r=>I_(e,r))}}function yy(e){return $m(GS(e),0,255)}function gy(e,t){const r=e.toString(16).padStart(2,"0");return t?r.slice(0,1):r}let xt=class Ks{static blendColors(t,r,i,s=new Ks){return s.r=Math.round(t.r+(r.r-t.r)*i),s.g=Math.round(t.g+(r.g-t.g)*i),s.b=Math.round(t.b+(r.b-t.b)*i),s.a=t.a+(r.a-t.a)*i,s._sanitize()}static fromRgb(t,r){const i=HC(t);return i?Ks.fromArray(i,r):null}static fromHex(t,r=new Ks){const i=zC(t);return i?Ks.fromArray(i,r):null}static fromArray(t,r=new Ks){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const i=WC(t);return i?Ks.fromArray(i,r):null}static fromJSON(t){return t!=null?new Ks([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t,r){return t==null?null:(r??=[0,0,0,0],r[0]=t.r/255,r[1]=t.g/255,r[2]=t.b/255,r[3]=t.a!=null?t.a:1,r)}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Ks.fromString(t,this):Array.isArray(t)?Ks.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Ks||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=t?.capitalize??!1,i=t?.digits??6,s=i===3||i===4,n=i===4||i===8,o=`#${gy(this.r,s)}${gy(this.g,s)}${gy(this.b,s)}${n?gy(Math.round(255*this.a),s):""}`;return r?o.toUpperCase():o}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=0){const r=yy(this.r),i=yy(this.g),s=yy(this.b);return t===0||this.a!==1?[r,i,s,yy(255*this.a)]:[r,i,s]}clone(){return new Ks(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Mh(this.r),this.g=Mh(this.g),this.b=Mh(this.b),this.a=YC(this.a),this}_set(t,r,i,s){this.r=t,this.g=r,this.b=i,this.a=s}};xt.prototype.declaredClass="esri.Color";const jj={remove:()=>{}};function kr(e){return e?{remove(){e&&(e(),e=void 0)}}:jj}function S5(e){e.forEach(t=>t?.remove())}function U2e(e){S5(e),e.length=0}function zS(e){return kr(()=>S5(e))}function j2e(e){return kr(()=>e()?.remove())}function Bj(e){return kr(()=>e?.abort())}function B2e(e){return kr(e!=null?()=>e.destroy():void 0)}function Vj(e){return typeof e=="object"&&!!e&&"remove"in e&&typeof e.remove=="function"}function V2e(e){Vj(e)&&e.remove()}function G2e(e){return{[Symbol.dispose](){e.remove()}}}function HS(e){return Gj(e)||E5(e)}function Gj(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function E5(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function A5(e,t,r){if(!HS(e))throw new TypeError("target is not a Evented or EventTarget object");return E5(e)?qj(e,t,r):e.on(t,r)}function qj(e,t,r,i){if(Array.isArray(t)){const s=t.slice();for(const n of s)e.addEventListener(n,r,i);return kr(()=>{for(const n of s)e.removeEventListener(n,r,i)})}return e.addEventListener(t,r,i),kr(()=>e.removeEventListener(t,r,i))}function T5(e,t,r){if(!HS(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const i=A5(e,t,s=>{i.remove(),r.call(e,s)});return i}function zj(e,t){if(e==null)throw new Error(t??"value is None")}function f0(e){return e?.destroy(),null}function q2e(e){return e?.dispose(),null}function Mm(e){return e?.remove(),null}function Hj(e){return e?.abort(),null}function z2e(e){return e?.release(),null}function H2e(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}function Wj(e,t){let r;return e.some((i,s)=>(r=t(i,s),r!=null)),r??void 0}function Yj(e){return{setTimeout:(t,r)=>{const i=e.setTimeout(t,r);return kr(()=>e.clearTimeout(i))}}}const Jj=Yj(globalThis);function Kj(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,i)=>i===""?"$":(VS(i,t)??"").toString())}let $5=class{constructor(t,r,i=void 0){this.name=t,this.details=i,this.message=(r&&Kj(r,i))??""}toString(){return"["+this.name+"]: "+this.message}},ft=class M5 extends $5{constructor(t,r,i){super(t,r,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return ge(r)}catch{return"[object]"}}))}}catch(t){throw Ft.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new M5(t.name,t.message,t.details)}};ft.prototype.type="error";function Ts(e="Aborted"){return new ft("AbortError",e)}function Mp(e,t="Aborted"){if(Nl(e))throw Ts(t)}function p1(e){return e instanceof AbortSignal?e:e?.signal??void 0}function Nl(e){const t=p1(e);return t!=null&&t.aborted}function Zj(e){if(If(e))throw e}function Y2e(e){if(!If(e))throw e}function Hh(e,t){const r=p1(e);if(r!=null){if(!r.aborted)return T5(r,"abort",()=>t());t()}}function Xj(e,t){const r=p1(e);if(r!=null)return Mp(r),T5(r,"abort",()=>t(Ts()))}function J2e(e,t){return p1(t)==null?e:new Promise((r,i)=>{let s=Hh(t,()=>i(Ts()));const n=()=>{s=Mm(s)};e.then(n,n),e.then(r,i)})}function If(e){return e?.name==="AbortError"}async function K2e(e){try{return await e}catch(t){if(!If(t))throw t;return}}async function Qj(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),i=r.map(o=>e[o]),s=await Qj(i),n={};return r.map((o,a)=>n[o]=s[a]),n}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(i,s)=>{const n=r[s];return n.status==="fulfilled"?{promise:i,value:n.value}:{promise:i,error:n.reason}}))}async function Z2e(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function X2e(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function eB(e,t=void 0,r){const i=new AbortController;return Hh(r,()=>i.abort()),new Promise((s,n)=>{let o=setTimeout(()=>{o=0,s(t)},e);Hh(i,()=>{o&&(clearTimeout(o),n(Ts()))})})}function Q2e(e,t,r,i){const s=r&&"abort"in r?r:null;i!=null||s||(i=r);let n=setTimeout(()=>{n=0,s?.abort()},t);const o=()=>i||new ft("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(a=>{if(n===0)throw o();return clearTimeout(n),a},a=>{throw clearTimeout(n),n===0?o():a})}function e_e(e,t){const r=new AbortController,i=setTimeout(()=>r.abort(),t);return Hh(e,()=>{r.abort(),clearTimeout(i)}),{...e,signal:r.signal}}function I5(e){return e&&typeof e.then=="function"}function i$(e){return I5(e)?e:Promise.resolve(e)}function t_e(e,t=-1){let r,i,s,n,o=null;const a=(...l)=>{if(r){i=l,n&&n.reject(Ts()),n=Ip();const p=n.promise;if(o){const y=o;o=null,y.abort()}return p}if(s=n||Ip(),n=null,t>0){const p=new AbortController;r=i$(e(...l,p.signal));const y=r;eB(t).then(()=>{r===y&&(n?p.abort():o=p)})}else r=1,r=i$(e(...l));const c=()=>{const p=i;i=s=r=o=null,p!=null&&a(...p)},u=r,d=s;return u.then(c,c),u.then(d.resolve,d.reject),d.promise};return a}function Ip(){let e,t;const r=new Promise((s,n)=>{e=s,t=n}),i=s=>{e(s)};return i.resolve=s=>e(s),i.reject=s=>t(s),i.timeout=(s,n)=>Jj.setTimeout(()=>i.reject(n),s),i.promise=r,i}function r_e(e,t){t.then(e.resolve,e.reject)}async function i_e(e){await Promise.resolve(),Mp(e)}function tB(e){return e?.release&&typeof e.release=="function"}function rB(e){return e?.acquire&&typeof e.acquire=="function"}let m1=class O_{constructor(t,r,i,s=1,n=0){this._creator=t,this._acquireFunction=r,this._releaseFunction=i,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let o=0;o<n;o++)this._pool[o]=this._creator();this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let r;if(O_.test.disabled)r=this._creator();else{if(this._pool.length===0){const i=this.allocationSize;for(let s=0;s<i;s++)this._pool[s]=this._creator()}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):rB(r)&&r.acquire(...t),r}release(t){t&&!O_.test.disabled&&(this._releaseFunction?this._releaseFunction(t):tB(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const i=this._pool[r];this._dispose(i)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}static{this.test={disabled:!!ee("esri-tests-disable-memory-pools")}}};function iB(e){e.length=0}let sl=class{constructor(t=50,r=50){this._pool=new m1(()=>[],void 0,iB,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return Yb.acquire()}static release(t){return Yb.release(t)}static prune(){Yb.prune()}};const Yb=new sl(100);let sB=class extends m1{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const vy=[];function O5(e){vy.push(e),vy.length===1&&queueMicrotask(()=>{const t=vy.slice();vy.length=0;for(const r of t)r()})}let C5=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};const bg=(e,t,r,i)=>{let s=t,n=t;const o=r>>>1,a=e[s-1];for(;n<=o;){n=s<<1,n<r&&i(e[n-1],e[n])<0&&++n;const l=e[n-1];if(i(l,a)<=0)break;e[s-1]=l,s=n}e[s-1]=a},P5=(e,t)=>e<t?-1:e>t?1:0;function nB(e,t,r,i){r===void 0&&(r=e.length),i===void 0&&(i=P5);for(let n=r>>>1;n>t;n--)bg(e,n,r,i);const s=t+1;for(let n=r-1;n>t;n--){const o=e[t];e[t]=e[n],e[n]=o,bg(e,s,n,i)}}function*oB(e,t,r,i){r===void 0&&(r=e.length),i===void 0&&(i=P5);for(let n=r>>>1;n>t;n--)bg(e,n,r,i),yield;const s=t+1;for(let n=r-1;n>t;n--){const o=e[t];e[t]=e[n],e[n]=o,bg(e,s,n,i),yield}}const aB=1.5,lB=1.1;let N5=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new t5,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>s$(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let i=0;i<this._length;i++){const s=this.data[i];t(s)&&r.push(s)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const i=this.data.indexOf(t,r);return i!==-1&&i<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let i=0;i<r;i++)this.data[this._length++]=t[i]}fill(t,r){for(let i=0;i<r;i++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,s$(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=E_(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(E_(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,i){this.length=pj(this.data,t,this.length,r,this._hint,i),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const i=this.data[t];this.data[t]=this.data[r],this.data[r]=i}sort(t){nB(this.data,0,this.length,t)}iterableSort(t){return oB(this.data,0,this.length,t)}some(t,r){for(let i=0;i<this.length;++i)if(t.call(r,this.data[i],i,this.data))return!0;return!1}find(t,r){const{data:i,length:s}=this;for(let n=0;n<s;++n)if(t.call(r,i[n]))return i[n]}filterInPlace(t,r){let i=0;for(let s=0;s<this._length;++s){const n=this.data[s];t.call(r,n,s,this.data)&&(this.data[s]=this.data[i],this.data[i]=n,i++)}if(this._deallocator)for(let s=i;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=i,this._shrink(),this}forAll(t,r){const{data:i,length:s}=this;for(let n=0;n<s;++n)t.call(r,i[n],n,i)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){const i=new Array(this.length);for(let s=0;s<this.length;++s)i[s]=t.call(r,this.data[s],s,this.data);return i}reduce(t,r){let i=r;for(let s=0;s<this.length;++s)i=t(i,this.data[s],s,this.data);return i}has(t){const r=this.length,i=this.data;for(let s=0;s<r;++s)if(i[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function s$(e){e.data.length>aB*e.length&&(e.data.length=Math.floor(e.length*lB))}function l_e(e){return e}function c_e(e){return 1e3*e}function u_e(e){return e}function h_e(e){return .001*e}let cB=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},uB=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},C_=0;const Jf={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},P_=["prepare","preRender","render","postRender","update","finish"],N_=[],eu=new N5;let hB=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,L5()}};function fB(){Bc!=null&&(cancelAnimationFrame(Bc),Bc=requestAnimationFrame(WS))}function L5(){Bc==null&&(C_=performance.now(),Bc=requestAnimationFrame(WS))}const _g={frameTasks:eu,willDispatch:!1,clearFrameTasks:dB,dispatch:D5,executeFrameTasks:pB,reschedule:fB};function k5(e){const t=new uB(e);return N_.push(t),_g.willDispatch||(_g.willDispatch=!0,O5(D5)),t}function m_e(e){const t=new cB(e);return eu.push(t),L5(),new hB(t)}let Bc=null;function dB(e=!1){eu.forAll(t=>{t.removed=!0}),e&&R5()}function WS(){const e=performance.now();Bc=null,Bc=eu.some(r=>!r.paused&&!r.removed)?requestAnimationFrame(WS):null,_g.executeFrameTasks(e)}function pB(e){const t=e-C_;C_=e;const r=1e3/60,i=Math.max(0,t-r);Jf.time=e,Jf.frameDuration=r-i;for(let s=0;s<P_.length;s++){const n=performance.now(),o=P_[s];eu.forAll(a=>{a.paused||a.removed||(s===0&&a.ticks++,a.phases[o]&&(Jf.elapsedFrameTime=performance.now()-e,Jf.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,Jf)))}),gB[s].push(performance.now()-n)}R5(),vB.push(performance.now()-e)}const by=new N5;function R5(){eu.forAll(e=>{e.removed&&by.push(e)}),eu.removeUnorderedMany(by.data,by.length),by.clear()}function D5(){for(;N_.length;){const e=N_.shift();e.isActive&&e.callback()}_g.willDispatch=!1}function mB(e=1,t){const r=Ip(),i=()=>{Nl(t)?r.reject(Ts()):e===0?r():(--e,O5(()=>i()))};return i(),r.promise}function yB(e){return mB(1,e)}async function y_e(e){await yB(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const gB=P_.map(e=>new C5(e)),vB=new C5("total");function bB(e,t){for(const r of e.values())if(t(r))return!0;return!1}function n$(e,t){if(!t)return e;for(const r of t)r!=null&&e.add(r);return e}function g_e(e,t){return t!=null&&e.add(t),e}function YS(e,t){const r=new Set;return n$(r,e),n$(r,t),r}function _B(e,t){const r=new Set;for(const i of t)e.has(i)&&r.add(i);return r}function v_e(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function b_e(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function wB(e,t){const r=new Set(e);for(const i of t)r.delete(i);return r}function __e(e,t){return wB(YS(e,t),_B(e,t))}let xB=0;function d0(){return++xB}function Ll(e){return e.__accessor__??null}function SB(e,t){return e?.metadata?.[t]!=null}function p0(e,t,r){return r?wg(e,t,{policy:r,path:""}):wg(e,t,null)}function wg(e,t,r){return t?Object.keys(t).reduce((i,s)=>{const n=s;if(n==="__proto__")return i;let o=null,a="merge";if(r&&(o=r.path?`${r.path}.${s}`:s,a=r.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(i[n]))return i[n]=t[n],i;if(i[n]===void 0)return i[n]=ge(t[n]),i;let l=i[n],c=t[n];if(l===c)return i;if(Array.isArray(c)||Array.isArray(i))l=l?Array.isArray(l)?i[n]=l.slice():i[n]=[l]:i[n]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(u=>{l.includes(u)||l.push(u)}));else if(c&&typeof c=="object")if(r){const u=r.path;r.path=o,i[n]=wg(l,c,r),r.path=u}else i[n]=wg(l,c,null);else i.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(i[n]=c);return i},e||{}):e}function F5(e){return Array.isArray(e)?e:e.split(".")}function o$(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function EB(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...o$(r));return t}return o$(e)}function U5(e,t,r,i){const s=EB(t);if(s.length!==1){const n=s.map(o=>i(e,o,r));return zS(n)}return i(e,s[0],r)}function j5(e,t){const r=e.endsWith("?")?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const i=Ll(t);return SB(i,r)?i.get(r):t[r]}function B5(e,t,r){if(e==null)return e;const i=j5(t[r],e);return!i&&r<t.length-1?void 0:r===t.length-1?i:B5(i,t,r+1)}function Im(e,t,r=0){return typeof t!="string"||t.includes(".")?B5(e,F5(t),r):j5(t,e)}function Wh(e,t){return Im(e,t)}function a$(e,t){return Im(t,e)!==void 0}const ks={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4},Yt={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let y1=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const xg=new y1,yd=[];let Gd=xg;function ze(e){Gd.onAccessed(e)}let m0=!1,y0=!1;function Ia(e,t,r){if(m0)return JS(e,t,r);let i=null;return V5(e),i=t.call(r),G5(),i}function AB(e,t){return Ia(xg,e,t)}function JS(e,t,r){const i=m0;m0=!0,V5(e);let s=null;try{s=t.call(r)}catch(n){y0&&Ft.getLogger("esri.core.accessorSupport.tracking").error(n)}return G5(),m0=i,s}function V5(e){Gd=e,yd.push(e)}function G5(){const e=yd.length;if(e>1){const t=yd.pop();Gd=yd[e-2],t.onTrackingEnd()}else if(e===1){const t=yd.pop();Gd=xg,t.onTrackingEnd()}else Gd=xg}function q5(e,t){if(t.flags&Yt.DepTrackingInitialized)return;t.flags|=Yt.DepTrackingInitialized;const r=y0;y0=!1,t.flags&Yt.AutoTracked?JS(t.trackingTarget,t.metadata.get,e):z5(e,t),y0=r}const TB=[];function z5(e,t){t.flags&Yt.ExplicitlyTracking||(t.flags|=Yt.ExplicitlyTracking,JS(t.trackingTarget,()=>{const r=t.metadata.dependsOn||TB;for(const i of r)if(typeof i!="string"||i.includes(".")){const s=F5(i);for(let n=0,o=e;n<s.length&&o!=null&&typeof o=="object";++n)o=l$(o,s[n],n!==s.length-1)}else l$(e,i,!1)}),t.flags&=-129)}function l$(e,t,r){const i=t.endsWith("?")?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const n=parseInt(i,10);if(!isNaN(n))return Array.isArray(e)?e[n]:e.at(n)}const s=Ll(e);if(s){const n=s.propertiesByName.get(i);n&&(ze(n),q5(e,n))}return r?e[i]:void 0}let g1=class extends y1{constructor(t){super(new $B(t)),this._observer&&c$.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&c$.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},$B=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=MB}};const c$=new FinalizationRegistry(e=>{e.deref()?.destroy()});function MB(){}let Ih=!1;const Sg=[];function H5(e,t){let r=new g1(n),i=null,s=!1;function n(){if(!r||s)return;if(Ih)return void Y5(n);const a=i;r.clear(),Ih=!0,s=!0,i=Ia(r,e),s=!1,Ih=!1,t(i,a),J5()}function o(){r&&(r.destroy(),r=null,i=null)}return s=!0,i=Ia(r,e),s=!1,kr(o)}function W5(e,t){let r=new g1(s),i=null;function s(){t(i,o)}function n(){r&&(r.destroy(),r=null),i=null}function o(){return r?(r.clear(),i=Ia(r,e),i):null}return o(),kr(n)}function E_e(e,t){let r=!1,i=!1;const s=!!t?.sync;let n=new g1(()=>{r||i||(i=!0,s?o():queueMicrotask(o))});function o(){i=!1,n&&!r&&(Ih?Y5(o):(n.clear(),Ih=!0,r=!0,Ia(n,e),r=!1,Ih=!1,J5()))}function a(){n&&(n.destroy(),n=null)}return r=!0,Ia(n,e),r=!1,kr(a)}function Y5(e){Sg.includes(e)||Sg.unshift(e)}function J5(){for(;Sg.length;)Sg.pop()()}let KS=class K5{constructor(){this.uid=d0(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static{this.pool=new sB(()=>new K5)}static acquireUntracked(t,r,i,s,n){return this.pool.acquire(0,t,r,i,s,n,BS)}static acquireTracked(t,r,i,s){return this.pool.acquire(1,t,r,i,null,null,s)}notify(t,r){this.type===0?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,i,s,n,o,a){this.uid=d0(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=i,this.getValue=s,this.target=n,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=d0(),this.removed=!0}};const g0=new sl,Ta=new Set;let Eg;function Ag(e){Ta.delete(e),Ta.add(e),IB()}function IB(){Eg||(Eg=k5(PB))}function OB(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function CB(e){for(const t of Ta.values())t.target===e&&(t.removed=!0)}function PB(){let e=10;for(;Eg&&e--;){Eg=null;const t=NB(),r=g0.acquire();for(const i of t){const s=i.uid;OB(i),s===i.uid&&i.removed&&r.push(i)}for(const i of Ta)i.removed&&(r.push(i),Ta.delete(i));for(const i of r)KS.pool.release(i);g0.release(r),g0.release(t),L_.forEach(i=>i())}}function NB(){const e=g0.acquire();e.length=Ta.size;let t=0;for(const r of Ta)e[t]=r,++t;return Ta.clear(),e}const L_=new Set;function A_e(e){return L_.add(e),kr(()=>L_.delete(e))}function LB(e,t,r){let i=U5(e,t,r,(s,n,o)=>{let a,l,c=W5(()=>Im(s,n),(u,d)=>{s.__accessor__?.lifecycle===ks.DESTROYED||a&&a.uid!==l?i.remove():(a||(a=KS.acquireUntracked(u,o,d,s,n),l=a.uid),Ag(a))});return kr(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,Ag(a)),a=null),i=c=null})});return i}function kB(e,t,r){const i=U5(e,t,r,(s,n,o)=>{let a=!1;return H5(()=>Im(s,n),(l,c)=>{s.__accessor__.lifecycle!==ks.DESTROYED?a||(a=!0,BS(c,l)||o.call(s,l,c,n,s),a=!1):i.remove()})});return i}function RB(e,t,r,i=!1){return e.__accessor__&&e.__accessor__.lifecycle!==ks.DESTROYED?i?kB(e,t,r):LB(e,t,r):kr()}function DB(e,t,r){let i,s,n=W5(e,(o,a)=>{i&&i.uid!==s?n.remove():(i||(i=KS.acquireTracked(o,t,a,r),s=i.uid),Ag(i))});return kr(()=>{n.remove(),i&&(i.uid!==s||i.removed||(i.removed=!0,Ag(i)),i=null),n=null})}function FB(e,t,r){let i=!1;return H5(e,(s,n)=>{i||(i=!0,r(n,s)||t(s,n),i=!1)})}function UB(e,t,r=!1,i=bj){return r?FB(e,t,i):DB(e,t,i)}function T_e(e){return bB(Ta,t=>t.oldValue===e)}function Zr(e,t,r={}){return ZS(e,t,r,X5)}function k_(e,t,r={}){return ZS(e,t,r,Q5)}function ZS(e,t,r={},i){let s=null;const n=r.once?(o,a)=>{i(o)&&(Mm(s),t(o,a))}:(o,a)=>{i(o)&&t(o,a)};if(s=UB(e,n,r.sync,r.equals),r.initial){const o=e();n(o,o)}return s}function Z5(e,t,r,i={}){let s=null,n=null,o=null;function a(){s&&n&&(n.remove(),i.onListenerRemove?.(s),s=null,n=null)}function l(u){i.once&&i.once&&Mm(o),r(u)}const c=Zr(e,(u,d)=>{a(),HS(u)&&(s=u,n=A5(u,t,l),i.onListenerAdd?.(u))},{sync:i.sync,initial:!0});return o=kr(()=>{c.remove(),a()}),o}function $_e(e,t){return jB(e,Q5,t)}function jB(e,t,r){if(Nl(r))return Promise.reject(Ts());const i=e();if(t?.(i))return Promise.resolve(i);let s=null;function n(){s=Mm(s)}return new Promise((o,a)=>{s=zS([Hh(r,()=>{n(),a(Ts())}),ZS(e,l=>{n(),o(l)},{sync:!1,once:!0},t??X5)])})}function X5(e){return!0}function Q5(e){return!!e}function M_e(e,t,r={}){let i=!1;const s=Zr(e,(n,o)=>{i||t(n,o)},r);return{remove(){s.remove()},pause(){i=!0},resume(){i=!1}}}const BB={sync:!0},Jb={initial:!0},I_e={sync:!0,initial:!0};function g(e,t,r,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(n=(s<3?o(n):s>3?o(t,r,n):o(t,r))||n);return s>3&&n&&Object.defineProperty(t,r,n),n}function O_e(e,t){return function(r,i){t(r,i,e)}}function C_e(e,t,r,i){function s(n){return n instanceof r?n:new r(function(o){o(n)})}return new(r||(r=Promise))(function(n,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}function P_e(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],r&&(s=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t}var VB=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function N_e(e){function t(n){e.error=e.hasError?new VB(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var r,i=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&i===1)return i=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var n=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(n).then(s,function(o){return t(o),s()})}else i|=1}catch(o){t(o)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Of(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const i in t)t[i]=ge(t[i]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function v1(e,t){const r=Of(e);let i=r[t];return i||(i=r[t]={}),i}function GB(e,t){return p0(e,t,zB)}const qB=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function zB(e){return qB.test(e)?"replace":"merge"}function Tg(e,t,r){if(e&&t)if(typeof t=="object")for(const i of Object.getOwnPropertyNames(t))Tg(e,i,t[i]);else{if(t.includes(".")){const s=t.split("."),n=s.splice(-1,1)[0];return void Tg(Wh(e,s),n,r)}const i=e.__accessor__;i!=null&&HB(t,i),e[t]=r}}function HB(e,t){if(ee("esri-unknown-property-errors")&&!WB(e,t))throw new ft("set:unknown-property",YB(e,t))}function WB(e,t){return t.metadata[e]!=null}function YB(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}function A(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(t,r),s=v1(t,r);i&&(i.get||i.set?(s.get=i.get||s.get,s.set=i.set||s.set):"value"in i&&("value"in e&&Ft.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=i.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const n=e.aliasOf;if(n){const l=typeof n=="string"?n:n.source,c=typeof n=="string"?null:n.overridable===!0;let u;s.dependsOn=[l],s.get=function(){let d=Wh(this,l);if(typeof d=="function"){u||(u=l.split(".").slice(0,-1).join("."));const p=Wh(this,u);p&&(d=d.bind(p))}return d},s.readOnly||(s.set=c?function(d){this._override(r,d)}:function(d){Tg(this,l,d)})}const o=e.type,a=e.types;if(!s.cast){let l;o?l=JB(o):a&&(l=Array.isArray(a)?$p(zh(a[0])):zh(a)),e.cast=KB(e.cast,l)}GB(s,e),e.range&&(s.cast=Cj(s.cast,e.range))}}function e6(e,t,r){const i=v1(e,r);i.json||(i.json={});let s=i.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function JB(e){let t=0,r=e;if(Fj(e))return x5(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const i=r;if(w5(i))return t===0?$_(i):vg($_(i),t);if(t===1)return Rj(i);if(t>1)return Dj(i,t);const s=e;return s.from?s.from:Wn(s)}function KB(e,t){if(e||t)return e?t?(r,i)=>t(e(r,i),i):e:t}const t6=Symbol("Accessor-beforeDestroy");function ZB(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const i in r)if(t[i]){const s=t[i];r[i].forEach(n=>{t[n]=s}),delete t[i]}}}let Op=class extends $5{constructor(t,r,i){super(t,r,i)}};Op.prototype.type="warning";function r6(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}function XB(e,t){return XS(e,"any",t?.origin)}function $g(e,t){return XS(e,"read",t?.origin)}function i6(e,t){return XS(e,"write",t?.origin)}function XS(e,t,r){let i=e?.json;if(i?.origins&&r){let s;s=r==="link-chart"?i.origins[r]&&(t==="any"||t in i.origins[r])?i.origins[r]:i.origins["web-map"]:i.origins[r],s&&(t==="any"||t in s)&&(i=s)}return i}const R_=()=>Ft.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function u$(e,t,r){e&&(!r&&!t.read||t.read?.reader||t.read?.enabled===!1||tV(e)&&bu("read.reader",s6(e),t))}function s6(e){const t=e.ndimArray??0;if(t>1)return eV(e);if(t===1)return h$(e);if("type"in e&&o6(e.type)){const r=e.type.prototype?.itemType?.Type,i=h$(typeof r=="function"?{type:r}:{types:r});return(s,n,o)=>{const a=i(s,n,o);return a&&new e.type(a)}}return QS(e)}function QS(e){return"type"in e?QB(e.type):rV(e.types)}function QB(e){return e.prototype.read?(t,r,i)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void R_().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const n=new e;return n.read(t,i),n}:e.fromJSON}function n6(e,t,r,i){return i!==0&&Array.isArray(t)?t.map(s=>n6(e,s,r,i-1)):e(t,void 0,r)}function eV(e){const t=QS(e),r=n6.bind(null,t),i=e.ndimArray??0;return(s,n,o)=>{if(s==null)return s;s=r(s,o,i);let a=i,l=s;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)s=[s];return s}}function h$(e){const t=QS(e);return(r,i,s)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const a of r){const l=t(a,void 0,s);l!==void 0&&o.push(l)}return o}const n=t(r,void 0,s);return n!==void 0?[n]:void 0}}function o6(e){if(!r6(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?eE(t.Type):a6(t.Type))}function tV(e){return"types"in e?a6(e.types):eE(e.type)}function eE(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||o6(e))}function a6(e){for(const t in e.typeMap)if(!eE(e.typeMap[t]))return!1;return!0}function rV(e){let t=null;const r=e.errorContext??"type",i=e.validate;return(s,n,o)=>{if(s==null)return s;const a=typeof s;if(a!=="object")return void R_().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=sV(e));const l=e.key;if(typeof l!="string")return;const c=s[iV(l,t,o)],u=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!u){const p=`Type '${c||"unknown"}' is not supported`;return o?.messages&&s&&o.messages.push(new Op(`${r}:unsupported`,p,{definition:s,context:o})),void R_().error(p)}const d=new u;return d.read(s,o),i?i(d):d}}function iV(e,t,r){const i=Object.values(t)[0],s=Of(i.prototype)[e],n=$g(s,r),o=n?.read?.source;return o&&typeof o=="string"?o:e}function sV(e){const t={};for(const r in e.typeMap){const i=e.typeMap[r],s=Of(i.prototype);if(typeof e.key=="function")continue;const n=s[e.key];if(!n)continue;if(n.json?.type&&Array.isArray(n.json.type)&&n.json.type.length===1&&typeof n.json.type[0]=="string"){t[n.json.type[0]]=i;continue}const o=n.json?.write;if(!o?.writer){t[r]=i;continue}const a=o.target,l=typeof a=="string"?a:e.key,c={};o.writer(r,c,l),c[l]&&(t[c[l]]=i)}return t}function nV(e){if(e.json||(e.json={}),d$(e.json),p$(e.json),f$(e.json),e.json.origins)for(const t in e.json.origins)d$(e.json.origins[t]),p$(e.json.origins[t]),f$(e.json.origins[t]);return!0}function f$(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function d$(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function p$(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function m$(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;e&&(r===1||"type"in e&&r6(e.type))?t.write.writer=cV:r>1?t.write.writer=uV(r):t.types?Array.isArray(t.types)?t.write.writer=aV(t.types[0]):t.write.writer=oV(t.types):t.write.writer=Cp}function oV(e){return(t,r,i,s)=>t?l6(t,e,s)?Cp(t,r,i,s):void 0:Cp(t,r,i,s)}function l6(e,t,r){for(const i in t.typeMap)if(e instanceof t.typeMap[i])return!0;if(r?.messages){const i=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new ft(`${i}:unsupported`,s,{definition:e,context:r})),Ft.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function aV(e){return(t,r,i,s)=>!t||!Array.isArray(t)?Cp(t,r,i,s):Cp(t.filter(n=>l6(n,e,s)),r,i,s)}function Cp(e,t,r,i){bu(r,Mg(e,i),t)}function Mg(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?lV(e):e}function lV(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function cV(e,t,r,i){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(n=>Mg(n,i)),typeof s.toArray=="function"&&(s=s.toArray())):s=[Mg(e,i)],bu(r,s,t)}function c6(e,t,r){return r!==0&&Array.isArray(e)?e.map(i=>c6(i,t,r-1)):Mg(e,t)}function uV(e){return(t,r,i,s)=>{let n;if(t===null)n=null;else{n=c6(t,s,e);let o=e,a=n;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)n=[n]}bu(i,n,r)}}function hV(e){const t=fV(e);if(e.json.origins)for(const r in e.json.origins){const i=e.json.origins[r],s=i.types?dV(i):t;u$(s,i,!1),i.types&&!i.write&&e.json.write?.enabled&&(i.write={...e.json.write}),m$(s,i)}u$(t,e.json,!0),m$(t,e.json)}function fV(e){return e.json.types?D_(e.json):e.type?u6(e):D_(e)}function dV(e){return e.type?u6(e):D_(e)}function u6(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!w5(r);)r=r[0],t++;return{type:r,ndimArray:t}}function D_(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function pV(e){nV(e)&&(ZB(e),hV(e))}const Kb=new Set,Zb=new Set;function ie(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,yV(t);const r=[],i=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!Kb.has(s.initialize)&&(Kb.add(s.initialize),r.push(s.initialize)),s.hasOwnProperty("destroy")&&!Zb.has(s.destroy)&&(Zb.add(s.destroy),i.push(s.destroy)),s=Object.getPrototypeOf(s);Kb.clear(),Zb.clear();const n=class extends t{constructor(...a){if(super(...a),this.constructor===n&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),i.length){let l=!1;const c=this[t6];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){this.__accessor__.lifecycle=ks.DESTROYING,l=!0,c.call(this);for(let u=0;u<i.length;u++)i[u].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=Of(t.prototype),n.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:o,configurable:!0}),n}}function mV(e,t){return t.get==null?function(){const r=this.__accessor__,i=r.propertiesByName.get(e);if(i===void 0)return;r.mutable&&ze(i);const s=r.store;return s.has(e)?s.get(e):i.metadata.value}:function(){const r=this.__accessor__,i=r.propertiesByName.get(e);if(i!==void 0)return i.getComputed(r)}}function yV(e){const t=e.prototype,r=Of(t),i={};for(const s of Object.getOwnPropertyNames(r)){const n=r[s];pV(n),i[s]={enumerable:!0,configurable:!0,get:mV(s,n),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&n.readOnly?y$("read-only",s):a.lifecycle===ks.CONSTRUCTED&&n.constructOnly?y$("construct-only",s):void a.set(s,o)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,i)}const y$=(e,t)=>{Ft.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)},g$=new WeakMap;function gV(e,t,r=!1){const i=` DEPRECATED - ${t}`;if(!r)return void e.warn(i);let s=g$.get(e);s||(s=new Set,g$.set(e,s)),s.has(t)||(s.add(t),e.warn(i))}const Ig="https://www.esriurl.com/";function k_e(e,t,r,i={}){ee("esri-deprecation-warnings")&&kl(e,`This widget is deprecated. Use the ${t} component instead.`,{see:[`${t} component reference: ${Ig}${r}/`,`Esri's move to web components: ${Ig}components-transition-plan/`],replacement:`<${r}></${r}>`,warnOnce:!0,...i})}function R_e(e,t,r,i={}){ee("esri-deprecation-warnings")&&kl(e,`This view model is deprecated. Use the ${t} component directly instead.`,{see:[`${t} component reference: ${Ig}${r}/`,`Esri's move to web components: ${Ig}components-transition-plan/`],replacement:`<${r}></${r}>`,warnOnce:!0,...i})}function D_e(e,t,r={}){ee("esri-deprecation-warnings")&&kl(e,`Module: ${t}`,r)}function h6(e,t,r={}){if(ee("esri-deprecation-warnings")){const{moduleName:i}=r;kl(e,`Function: ${(i?i+"::":"")+t+"()"}`,r)}}function v$(e,t,r={}){if(ee("esri-deprecation-warnings")){const{moduleName:i}=r;kl(e,`Property: ${(i?i+"::":"")+t}`,r)}}function vV(e,t,r={}){ee("esri-deprecation-warnings")&&kl(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...r})}function kl(e,t,r={}){if(ee("esri-deprecation-warnings")){const{replacement:i,version:s,see:n,warnOnce:o}=r;let a=t;if(i&&(a+=`
	 Replacement: ${i}`),s&&(a+=`
	 Version: ${s}`),n)if(Array.isArray(n)){a+=`
	 See for more details:`;for(const l of n)a+=`
		${l}`}else a+=`
	 See ${n} for more details.`;gV(e,a,o)}}function F_e(e){const t=[];return function*(){yield*t;let r,i=t.length;for(;!(r=e.next()).done;)for(t.push(r.value),yield r.value;++i<t.length;)yield t[i]}}function U_e(e,t){for(const r of e)if(r!=null&&t(r))return r}function b$(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let tE=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(b$(t)){const i=this._getOrCreateGroup(r);for(const s of t)w$(s)&&i.push(s)}else w$(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(i=>i.forEach(t));else{const i=this._getGroup(t);i&&r&&i.forEach(r)}}has(t){return this._groups.has(_y(t))}remove(t){if(typeof t!="string"&&b$(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(_$(this._getGroup(t)),this._groups.delete(_y(t)),this):this}removeAll(){return this._groups.forEach(_$),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(_y(t),r),r}_getGroup(t){return this._groups.get(_y(t))}};function _y(e){return e||"_default_"}function _$(e){for(const t of e)t instanceof tE?t.removeAll():t.remove()}function w$(e){return e!=null&&(!!e.remove||e instanceof tE)}let bV=class{constructor(t,r){this._observers=t,this._observer=r}remove(){mj(this._observers,this._observer)}},f6=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return _V;this._observers==null&&(this._observers=[]);const r=this._observers;let i=!1,s=!1;const n=r.length;for(let o=0;o<n;++o){const a=r[o];if(a.destroyed)s=!0;else if(a===t){i=!0;break}}return i||(r.push(t),s&&this._removeDestroyedObservers()),new bV(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let i=0;for(let s=0;s<r;++s){for(;s+i<r&&t[s+i].destroyed;)++i;if(i>0){if(!(s+i<r))break;t[s]=t[s+i]}}t.length=r-i}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const _V=kr();let x$=class extends f6{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this.trackingTarget=new y1(this),this.flags=0,this.flags=Yt.Dirty|(r.nonNullable?Yt.NonNullable:0)|(r.hasOwnProperty("value")?Yt.HasDefaultValue:0)|(r.get===void 0?Yt.DepTrackingInitialized:0)|(r.dependsOn===void 0?Yt.AutoTracked:0)}destroy(){this.flags&Yt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&ze(this);const r=t.store,i=this.propertyName,s=this.flags,n=r.get(i);if(s&Yt.Computing||~s&Yt.Dirty&&r.has(i))return n;this.flags|=Yt.Computing;const o=t.host;let a;s&Yt.AutoTracked?a=Ia(this.trackingTarget,this.metadata.get,o):(z5(o,this),a=this.metadata.get.call(o)),this.flags|=Yt.DepTrackingInitialized,r.set(i,a,1);const l=r.get(i);return l===n?this.flags&=-2:AB(this.commit,this),this.flags&=-5,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&Yt.Overridden&&(this.flags|=Yt.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const i of r)i.onCommitted()}}};const q_e=8;function d6(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"link-chart":return 6;case"user":return 7;default:return null}}function F_(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"link-chart";case 7:return"user"}}function wV(e){return F_(e)}let xV=class p6{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new p6;return this._values.forEach((i,s)=>{t&&t.has(s)||r.set(s,ge(i))}),r}get(t){return this._values.get(t)}originOf(){return 7}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}isAtOrigin(t,r){return this.has(t)}isBelowOrigin(t,r){return!this.has(t)}forEach(t){this._values.forEach(t)}};function Ru(e,t,r){return e!==void 0}function S$(e,t,r,i){return e!==void 0&&(!(r==null&&e.flags&Yt.NonNullable)||(i.lifecycle,!1))}let SV=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=ks.INITIALIZING,this.store=new xV,this.mutable=!0,this._origin=7;const r=this.host.constructor.__accessorMetadata__;for(const i in r){const s=new x$(i,r[i]);this.propertiesByName.set(i,s)}this.metadata=r}initialize(){this.lifecycle=ks.CONSTRUCTING}constructed(){this.lifecycle=ks.CONSTRUCTED}destroy(){this.lifecycle=ks.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==ks.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(!Ru(r))return;if(r.metadata.get)return r.getComputed(this);this.mutable&&ze(r);const i=this.store;return i.has(t)?i.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const i=this.propertiesByName.get(t);if(i!==void 0&&i.flags&Yt.HasDefaultValue)return"defaults"}return F_(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(Ru(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const i=this.propertiesByName.get(t);Ru(i)&&this._internalSet(i,r)}getDependsInfo(t,r,i){const s=this.propertiesByName.get(r);if(!Ru(s))return"";const n=new y1,o=Ia(n,()=>s.metadata.get?.call(t));let a=`${i}${t.declaredClass.split(".").pop()}.${r}: ${o}
`;const l=n.accessed??new Set;if(l.size===0)return a;i+="  ";for(const c of l)c instanceof x$&&(a+=`${i}${c.propertyName}: undefined
`);return a}setAtOrigin(t,r,i){const s=this.propertiesByName.get(t);if(Ru(s))return this._setAtOrigin(s,r,i)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&Yt.Overridden)}clearOrigin(t,r){const i=this.store,s=this.propertiesByName.get(t);if(!Ru(s))return;const n=i.isAtOrigin(t,r)&&!(s.flags&Yt.Overridden);i.delete(t,r),n&&s.notifyChange()}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&Yt.Overridden&&(r.flags&=-3,r.notifyChange())}override(t,r){const i=this.propertiesByName.get(t);if(!S$(i,t,r,this))return;const s=i.metadata.cast;if(s){const n=this._cast(s,r),{valid:o,value:a}=n;if(Xb.release(n),!o)return;r=a}i.flags|=Yt.Overridden,this._internalSet(i,r)}set(t,r){const i=this.propertiesByName.get(t);if(!S$(i,t,r,this))return;const s=i.metadata.cast;if(s){const o=this._cast(s,r),{valid:a,value:l}=o;if(Xb.release(o),!a)return;r=l}const n=i.metadata.set;n?n.call(this.host,r):this._internalSet(i,r)}setDefaultOrigin(t){this._origin=d6(t)}getDefaultOrigin(){return F_(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const i=this.lifecycle!==ks.INITIALIZING?this._origin:0;this._setAtOrigin(t,r,i)}_setAtOrigin(t,r,i){const s=this.store,n=t.propertyName;if(s.isAtOrigin(n,i)&&BS(r,s.get(n))&&~t.flags&Yt.Overridden)return;const o=s.isBelowOrigin(n,i)||s.isAtOrigin(n,i);o&&t.invalidate(),s.set(n,r,i),o&&t.commit(),q5(this.host,t)}_cast(t,r){const i=Xb.acquire();return i.valid=!0,i.value=r,t&&(i.value=t.call(this.host,r,i)),i}},EV=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const Xb=new m1(()=>new EV);let AV;function TV(){return AV}var E$,A$;function $V(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Ua=Symbol("Accessor-Handles"),Qb=Symbol("Accessor-Initialized");let ai=class v0{static{E$=Ua,A$=Qb}static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:i,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const n=this;class o extends n{constructor(...l){super(...l),this.inherited=null,s&&s.apply(this,l)}}Of(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...c){const u=this.inherited;let d;this.inherited=function(...p){if(n.prototype[a])return n.prototype[a].apply(this,p)};try{d=l.apply(this,c)}catch(p){throw this.inherited=u,p}return this.inherited=u,d}:t[a]}for(const a in r){const l=$V(r[a]);A(l)(o.prototype,a)}return ie(i)(o)}static freeze(t){return t instanceof v0?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof v0?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[E$]=null,this[A$]=!1,this.constructor===v0)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new SV(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[Qb]=!0}initialize(){}[t6](){this[Ua]=f0(this[Ua])}destroy(){this.destroyed||(CB(this),this.__accessor__.destroy(),TV()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[Qb]}get destroyed(){return this.__accessor__?.lifecycle===ks.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===ks.DESTROYING||!1}commitProperty(t){Wh(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return Tg(this,t,r),this}watch(t,r,i){return h6(Ft.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),RB(this,t,r,i)}addHandles(t,r){if(this.destroyed){const i=Array.isArray(t)?t:[t];for(const s of i)s.remove();return}(this[Ua]??=new tE).add(t,r)}removeHandles(t){this[Ua]?.remove(t)}removeAllHandles(){this[Ua]?.removeAll()}removeHandlesReference(t){this[Ua]?.removeReference(t)}hasHandles(t){return this[Ua]?.has(t)===!0}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}},MV=class m6{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new m6;return this._values.forEach((i,s)=>{t&&t.has(s)||r.set(s,ge(i.value),i.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const i=this._values.get(t);return r==null||i?.origin===r?i?.value:void 0}originOf(t){return this._values.get(t)?.origin??7}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(i=>this._values.get(i)?.origin===t)}set(t,r,i){if((i=this._normalizeOrigin(i))===0){const s=this._values.get(t);if(s?.origin!=null&&s.origin>i)return}this._values.set(t,new IV(r,i))}delete(t,r){(r=this._normalizeOrigin(r))!=null&&this._values.get(t)?.origin!==r||this._values.delete(t)}has(t,r){return(r=this._normalizeOrigin(r))!=null?this._values.get(t)?.origin===r:this._values.has(t)}isAtOrigin(t,r){return r=this._normalizeOrigin(r),this.has(t,r)&&this.originOf(t)===r}isBelowOrigin(t,r){return r=this._normalizeOrigin(r),!this.has(t)||this.originOf(t)<r}forEach(t){this._values.forEach(({value:r},i)=>t(r,i))}_normalizeOrigin(t){if(t!=null)return t===0?t:7}},IV=class{constructor(t,r){this.value=t,this.origin=r}};function OV(e,t,r){t.keys().forEach(s=>{r.set(s,t.get(s),0)});const i=e.metadata;Object.keys(i).forEach(s=>{e.internalGet(s)&&r.set(s,e.internalGet(s),0)})}function CV(e,t,r){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const i=e.read.source;if(typeof i=="string"){if(i===t||i.includes(".")&&i.startsWith(t)&&a$(i,r))return!0}else for(const s of i)if(s===t||s.includes(".")&&s.startsWith(t)&&a$(s,r))return!0;return!1}function PV(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function NV(e,t,r,i,s){let n=$g(t[r],s);PV(n)&&(e[r]=!0);for(const o of Object.getOwnPropertyNames(t))n=$g(t[o],s),CV(n,r,i)&&(e[o]=!0)}function LV(e,t,r,i){const s=r.metadata,n=XB(s[t],i),o=n?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,i):o;a!==void 0&&r.set(t,a)}const y6={origin:"service"};function kV(e,t,r=y6){if(!t||typeof t!="object")return;const i=Ll(e),s=i.metadata,n={};for(const o of Object.getOwnPropertyNames(t))NV(n,s,o,t,r);i.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(n)){const a=$g(s[o],r).read,l=a?.source;let c;c=l&&typeof l=="string"?Im(t,l):t[o],a?.reader&&(c=a.reader.call(e,c,t,r)),c!==void 0&&i.set(o,c)}if(!r||!r.ignoreDefaults){i.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(s))n[o]||LV(e,o,i,r)}i.setDefaultOrigin("user")}function Y_e(e,t,r,i=y6){const s={...i,messages:[]};r(s),s.messages?.forEach(n=>{n.type!=="warning"||e.loaded?i?.messages&&i.messages.push(n):e.loadWarnings.push(n)})}function RV(e,t,r,i,s){const n={};return t.write?.writer?.call(e,i,n,r,s),n}function g6(e,t,r,i,s,n){if(!i?.write)return!1;const o=Wh(e,r);if(!s&&i.write.overridePolicy){const a=i.write.overridePolicy.call(e,o,r,n??void 0);a!==void 0&&(s=a)}if(s||(s=i.write),!s||s.enabled===!1||s.layerContainerTypes&&n?.layerContainerType&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((o===null&&!s.allowNull&&!s.writerEnsuresNonNull||o===void 0)&&s.isRequired){const a=new ft("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return a&&n?.messages?n.messages.push(a):a&&!n&&Ft.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===0)&&DV(e,r,n,i,o)||!s.ignoreOrigin&&n?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<d6(n.origin))}function DV(e,t,r,i,s){const n=i.default;if(n===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const o=n.call(e,t,r??void 0);return c1(o,s)}return!1}return n===s}function J_e(e,t,r,i){const s=Ll(e),n=s.metadata,o=i6(n[t],i);return!!o&&g6(e,s,t,o,r,i)}function FV(e,t,r){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return p0(t,e.toJSON(r));const i=Ll(e),s=i.metadata;for(const n in s){const o=i6(s[n],r);if(!g6(e,i,n,o,void 0,r))continue;const a=Wh(e,n),l=RV(e,o,o.write&&typeof o.write.target=="string"?o.write.target:n,a,r);Object.keys(l).length>0&&(t=p0(t,l),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>p0(t,l,()=>"replace-arrays"))),r?.writtenProperties&&r.writtenProperties.push({target:e,propName:n,oldOrigin:wV(i.store.originOf(n)),newOrigin:r.origin}))}return t}const v6=e=>{const t=e;let r=class extends t{constructor(...i){super(...i);const s=Ll(this),n=s.store,o=new MV;s.store=o,OV(s,n,o)}read(i,s){kV(this,i,s)}write(i,s){return FV(this,i??{},s)}toJSON(i){return this.write({},i)}static fromJSON(i,s){return UV.call(this,i,s)}};return r=g([ie("esri.core.JSONSupport")],r),r.prototype.toJSON.isDefaultToJSON=!0,r};function UV(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}const Xe=v6(ai);function Mr(e,t,r){let i,s;return t===void 0||Array.isArray(t)?(s=e,r=t,i=[void 0]):(s=t,i=Array.isArray(e)?e:[e]),(n,o)=>{const a=n.constructor.prototype;i.forEach(l=>{const c=e6(n,l,s);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],r&&(c.read.source=(c.read.source||[]).concat(r))})}}let Do=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=jV(t),this.apiValues=T$(this._apiToJSON),this.jsonValues=T$(this._jsonToAPI),this.read=i=>this.fromJSON(i),this.write=(i,s,n)=>{const o=this.toJSON(i);o!==void 0&&bu(n,o,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function jV(e){const t={};for(const r in e)t[e[r]]=r;return t}function T$(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}function to(){return function(e,t){return new Do(e,{ignoreUnknown:!0,...t})}}let rE=class{constructor(t,r,i,s,n,o){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=i,this.atmosphereHeight=s,this.scaleHeight=n;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Yn=new rE(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),Pp=new rE(3396190,1/169.8944472236118,23e4,6e4,.111),b1=new rE(1737400,0,0,0,0);function Og(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}const BV=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,VV={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function $$(e){const t=e?.match(BV);if(!t)return null;const[,r,i,s]=t;if(!r)return null;let n=null,o=null,a=null;const{devext:l,qaext:c,www:u}=VV;if(i)if(n=r,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=u);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=u);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:n}}function b6(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function _6(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,i=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):i.test(e)&&(e=e.replace(i,"https://qaext.arcgis.com")),e}function GV(e){const t=atob(e),r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r.buffer}function qV(e){const t=new Uint8Array(e);let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return btoa(r)}const zV=()=>Ft.getLogger("esri.core.urlUtils"),Cf=yt.request,M$="esri/config: esriConfig.request.proxyUrl is not set.",w6=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,x6=/^\s*http:/i,HV=/^\s*https:/i,WV=/^\s*file:/i,S6=/:\d+$/,YV=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,JV=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),KV=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Oh=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(JV);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(KV),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const wy={},ZV=new Oh(yt.applicationUrl);let Li=ZV;const XV=QV();let iE=XV;const sE=()=>Li,Q_e=()=>iE;function QV(){const e=Li.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${Li.scheme}://${Li.host}${Li.port!=null?`:${Li.port}`:""}`}${t}`}function ro(e){if(!e)return null;const t={path:null,query:null},r=new Oh(e),i=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.slice(0,i),t.query=nE(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.slice(0,t.path.length-(r.fragment.length+1)))),t}function nE(e){const t=e.split("&"),r={};for(const i of t){if(!i)continue;const s=i.indexOf("=");let n,o;s<0?(n=decodeURIComponent(i),o=""):(n=decodeURIComponent(i.slice(0,s)),o=decodeURIComponent(i.slice(s+1)));let a=r[n];typeof a=="string"&&(a=r[n]=[a]),Array.isArray(a)?a.push(o):r[n]=o}return r}function Np(e,t){return e?Object.keys(e).map(r=>{const i=e[r];if(i==null)return"";const s=encodeURIComponent(r)+"=",n=t?.[r];return n?s+encodeURIComponent(n(i)):Array.isArray(i)?i.map(o=>Og(o)?s+encodeURIComponent(JSON.stringify(o)):s+encodeURIComponent(o)).join("&"):Og(i)?s+encodeURIComponent(JSON.stringify(i)):s+encodeURIComponent(i)}).filter(r=>r).join("&"):""}function E6(e=!1){let t,r=Cf.proxyUrl;if(typeof e=="string"){t=nG(e);const i=_1(e);i&&(r=i.proxyUrl)}else t=!!e;if(!r)throw zV().warn(M$),new ft("urlUtils:proxy-not-set",M$);return t&&U_()&&(r=uE(r)),ro(r)}function ewe(e,t=!1){const r=_1(e);let i,s;if(r){const n=oE(r.proxyUrl);i=n.path,s=n.query?nE(n.query):null}else if(t){const n=E6(e);i=n.path,s=n.query}if(i){const n=ro(e);e=i+"?"+n.path;const o=Np({...s,...n.query});o&&(e=`${e}?${o}`)}return e}const Kf={path:"",query:""};function oE(e){const t=e.indexOf("?");return t!==-1?(Kf.path=e.slice(0,t),Kf.query=e.slice(t+1)):(Kf.path=e,Kf.query=null),Kf}function A6(e){return e=(e=Pg(e=uG(e=oE(e).path),!0)).toLowerCase()}function eG(e){const t={proxyUrl:e.proxyUrl,urlPrefix:A6(e.urlPrefix)},r=Cf.proxyRules,i=t.urlPrefix;let s=r.length;for(let n=0;n<r.length;n++){const o=r[n].urlPrefix;if(i.startsWith(o)){if(i.length===o.length)return-1;s=n;break}o.startsWith(i)&&(s=n+1)}return r.splice(s,0,t),s}function _1(e){const t=Cf.proxyRules,r=A6(e);for(let i=0;i<t.length;i++)if(r.startsWith(t[i].urlPrefix))return t[i]}function twe(e,t){if(!e||!t)return!1;e=Cg(e),t=Cg(t);const r=$$(e),i=$$(t);return r!=null&&i!=null?r.portalHostname===i.portalHostname:r==null&&i==null&&tu(e,t,!0)}function tG(e,t){return e=Cg(e),t=Cg(t),Pg(e)===Pg(t)}function Cg(e){const t=(e=Al(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function I$(e,t=Cf.interceptors){const r=i=>i instanceof RegExp?i.test(e):typeof i=="string"?e.startsWith(i):i==null;if(t){for(const i of t)if(Array.isArray(i.urls)){if(i.urls.some(r))return i}else if(r(i.urls))return i}return null}function tu(e,t,r=!1){if(!e||!t)return!1;const i=B_(e),s=B_(t);return!(!r&&i.scheme!==s.scheme)&&i.host!=null&&s.host!=null&&i.host.toLowerCase()===s.host.toLowerCase()&&i.port===s.port}function aE(e){if(typeof e=="string"){if(!Bn(e))return!0;e=B_(e)}if(tu(e,Li))return!0;const t=Cf.trustedServers||[];for(let r=0;r<t.length;r++){const i=rG(t[r]);for(let s=0;s<i.length;s++)if(tu(e,i[s]))return!0}return!1}function rG(e){return wy[e]||(cE(e)||ql(e)?wy[e]=[new Oh(Om(e))]:wy[e]=[new Oh(`http://${e}`),new Oh(`https://${e}`)]),wy[e]}function Om(e,t=iE,r){return ql(e)?r?.preserveProtocolRelative?e:Li.scheme==="http"&&Li.authority===js(e).slice(2)?`http:${e}`:`https:${e}`:cE(e)?e:w1(e.startsWith("/")?cG(t):t,e)}function T6(e,t=iE,r){if(e==null||!Bn(e))return e;const i=Al(e),s=i.toLowerCase(),n=Al(t).toLowerCase().replace(/\/+$/,""),o=r?Al(r).toLowerCase().replace(/\/+$/,""):null;if(o&&!n.startsWith(o))return e;const a=(d,p,y)=>(y=d.indexOf(p,y))===-1?d.length:y;let l=a(s,"/",s.indexOf("//")+2),c=-1;for(;s.slice(0,l+1)===n.slice(0,l)+"/"&&(c=l+1,l!==s.length);)l=a(s,"/",l+1);if(c===-1||o&&c<o.length)return e;e=i.slice(c);const u=n.slice(c-1).replaceAll(/[^/]+/g,"").length;if(u>0)for(let d=0;d<u;d++)e=`../${e}`;else e=`./${e}`;return e}function Al(e){return e=dG(e=fG(e=hG(e=Om(e=e.trim()))))}function w1(...e){const t=e.filter(yj);if(!t?.length)return;const r=[];if(Bn(t[0])){const s=t[0],n=s.indexOf("//");n!==-1&&(r.push(s.slice(0,n+1)),aG(t[0])&&(r[0]+="/"),t[0]=s.slice(n+2))}else t[0].startsWith("/")&&r.push("");const i=t.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<i.length;s++){const n=i[s];n===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!n&&s===i.length-1||n&&(n!=="."||r.length===0))&&r.push(n)}return r.join("/")}function js(e,t=!1){if(e==null||lE(e)||Pf(e))return null;let r=e.indexOf("://");if(r===-1&&ql(e))r=2;else{if(r===-1)return null;r+=3}const i=e.indexOf("/",r);return i!==-1&&(e=e.slice(0,i)),t&&(e=Pg(e,!0)),e}function Bn(e){return ql(e)||cE(e)}function lE(e){return e!=null&&e.startsWith("blob:")}function Pf(e){return e!=null&&e.startsWith("data:")}function iG(e){const t=Lp(e);return t?.isBase64?GV(t.data):null}function rwe(e){return qV(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const sG=/^data:(.*?)(;base64)?,(.*)$/;function Lp(e){const t=e.match(sG);if(!t)return null;const[,r,i,s]=t;return{mediaType:r,isBase64:!!i,data:s}}function $6(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function iwe(e){return(await fetch(e)).blob()}function swe(e){const t=iG(e);if(!t)return null;const r=Lp(e);return new Blob([t],{type:r.mediaType})}function ql(e){return e!=null&&e.startsWith("/")&&e[1]==="/"}function cE(e){return e!=null&&w6.test(e)}function nG(e){return e!=null&&HV.test(e)||Li.scheme==="https"&&ql(e)}function oG(e){return e!=null&&x6.test(e)||Li.scheme==="http"&&ql(e)}function aG(e){return e!=null&&WV.test(e)}function uE(e){return ql(e)?`https:${e}`:e.replace(x6,"https:")}function lG(){return Li.scheme==="http"}function U_(){return Li.scheme==="https"}function Pg(e,t=!1){return ql(e)?e.slice(2):(e=e.replace(w6,""),t&&e.length>1&&e.startsWith("/")&&e[1]==="/"&&(e=e.slice(2)),e)}function cG(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function nwe(e){let t=0;if(Bn(e)){const i=e.indexOf("//");i!==-1&&(t=i+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function owe(e,t){if(!e)return"";const r=ro(e).path.replace(/\/+$/,""),i=r.slice(r.lastIndexOf("/")+1);if(!t?.length)return i;const s=new RegExp(`\\.(${t.join("|")})$`,"i");return i.replace(s,"")}function uG(e){return e.endsWith("/")?e:`${e}/`}function M6(e){return e.replace(/\/+$/,"")}function hG(e){if(/^https?:\/\//i.test(e)){const t=oE(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function fG(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function dG(e){const t=Cf.httpsDomains;if(!oG(e))return e;const r=e.indexOf("/",7);let i;if(i=r===-1?e:e.slice(0,r),i=i.toLowerCase().slice(7),S6.test(i)){if(!i.endsWith(":80"))return e;i=i.slice(0,-3),e=e.replace(":80","")}return lG()&&i===Li.authority&&!YV.test(e)||(U_()&&i===Li.authority||t&&t.some(s=>i===s||i.endsWith(`.${s}`))||U_()&&!_1(e))&&(e=uE(e)),e}function j_(e,t,r){if(!(t&&r&&e&&Bn(e)))return e;const i=e.indexOf("//"),s=e.indexOf("/",i+2),n=e.indexOf(":",i+2),o=Math.min(s<0?e.length:s,n<0?e.length:n);return e.slice(i+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,i+2)}${r}${e.slice(o)}`}function pG(e,t){const r=new URL(e);return r.host=t,r.port&&!S6.test(t)&&(r.port=""),r.toString()}function awe(e){return new URL(e).host}function B_(e){return typeof e=="string"?new Oh(Om(e)):(e.scheme||(e.scheme=Li.scheme),e)}function lwe(e){return yG.test(e)}function I6(e,t){const r=ro(e),i=Object.keys(r.query||{});return i.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),r.path}function mG(e,t,r){const i=ro(e),s=i.query||{};return s[t]=String(r),`${i.path}?${Np(s)}`}function e2(e,t){if(!t)return e;const r=ro(e),i=r.query||{};for(const[n,o]of Object.entries(t))o!=null&&(i[n]=o);const s=Np(i);return s?`${r.path}?${s}`:r.path}function cwe(e){if(e==null)return null;const t=e.match(O6);return t?t[2]:null}function O$(e){if(e==null)return null;const t=e.match(O6);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function uwe(e){return typeof e=="string"?Lp(e)??{data:e}:new Promise((t,r)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(Lp(i.result)),i.onerror=s=>r(s)})}const O6=/([^.]*)\.([^/]*)$/,yG=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const gG="4.34";let Jt,vG=gG;function hwe(e){Jt=e}function fwe(e){const t=Jt?.findCredential(e);return t?.token?mG(e,"token",t.token):e}vG="4.34.8",ee("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),ee("host-webworker");function Cm(e,t){const r=t?.url?.path;if(e&&r&&(e=Om(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const i=T6(e,t.portalItem.itemUrl);i!=null&&i.startsWith(bG)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(i).path)}return(e=V_(e,t?.portal))&&S1.test(e)?P6(e):e}function x1(e,t,r=0){if((e=e&&S1.test(e)?N6(e):e)==null)return e;!Bn(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let i=Om(e);if(t){const s=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(s){const n=V_(s,t.portal),o=V_(i,t.portal);i=T6(o,n,n),i!=null&&i!==o&&i!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=C6(i,t?.portal),Bn(i)&&(i=Al(i)),t?.resources&&t?.portalItem&&!Bn(i)&&!Pf(i)&&r===0&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(i),compress:!1}),i}function hE(e,t,r){return Cm(e,r)}function Yh(e,t,r,i){const s=x1(e,i);s!==void 0&&(t[r]=s)}const S1=/\/items\/([^/]+)\/resources\/(.*)/,bG="./resources/";function _G(e){return(e?.match(S1)??null)?.[1]??null}function wG(e){const t=e?.match(S1)??null;if(t==null)return null;const r=t[2],i=r.lastIndexOf("/");if(i===-1){const{path:o,extension:a}=O$(r);return{prefix:null,filename:o,extension:a}}const{path:s,extension:n}=O$(r.slice(i+1));return{prefix:r.slice(0,i),filename:s,extension:n}}function C6(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?j_(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function V_(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,i=sE();return tu(i,`${i.scheme}://${r}`)?j_(e,t.portalHostname,r):j_(e,r,t.portalHostname)}function P6(e){if(!e)return e||null;let t=e;return t&&Jt&&!Jt.findCredential(t)&&(t=_6(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function N6(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Jt&&!Jt.findCredential(t)&&(t=_6(t)),t}const dwe=Object.freeze(Object.defineProperty({__proto__:null,ensureMainOnlineDomain:C6,fromCDNUrl:N6,fromJSON:Cm,itemIdFromResourceUrl:_G,prefixAndFilenameFromResourceUrl:wG,read:hE,toCDNUrl:P6,toJSON:x1,write:Yh},Symbol.toStringTag,{value:"Module"})),L6={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},k6=Object.values(L6),R6=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${k6.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),xG=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${k6.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),SG=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function pwe(e){return R6.test(e)}function E1(e){if(e==null)return null;const t=ro(e),r=t?.path.match(R6)||t?.path.match(xG);if(!r)return null;const[,i,s,n,o]=r,a=s.indexOf("/");return{title:D6(a!==-1?s.slice(a+1):s),serverType:L6[n.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:i}}}function EG(e){const t=ro(e).path.match(SG);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function D6(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function mwe(e,t){const r=[];if(e){const i=E1(e);i!=null&&i.title&&r.push(i.title)}if(t){const i=D6(t);r.push(i)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function C$(e){let t=js(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(t)))}function ywe(e,t){return e&&M6(I6(e,t))}function gwe(e){let{url:t}=e;if(!t)return{url:t};t=I6(t,e.logger);const r=ro(t),i=E1(r.path);let s;if(i!=null)i.sublayer!=null&&e.layer.layerId==null&&(s=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const n=EG(r.path);n!=null&&(t=n.serviceUrl,s=n.sublayerId)}return{url:M6(t),layerId:s}}function vwe(e,t,r,i,s){Yh(t,i,"url",s),i.url&&e.layerId!=null&&(i.url=w1(i.url,r,e.layerId.toString()))}function bwe(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),i=t.includes("/mapserver/wmsserver"),s=t.includes("/imageserver/wmsserver"),n=t.includes("/wmsserver");return r&&(i||s||n)}const AG=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function F6(e){if(!U6(e))return null;const t=i=>i instanceof RegExp?i.test(e):typeof i=="string"&&e.startsWith(i),r=yt.apiKeys;if(Array.isArray(r.scopes)){for(const i of r.scopes)if(Array.isArray(i.urls)){if(i.urls.some(t))return i.token}else if(t(i.urls))return i.token}return r.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(e)?r.basemapStyles:yt.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(e)?yt.apiKey:null}function P$(){return yt.apiKey!=null||yt.apiKeys.basemapStyles!=null}function TG(e,t){return t?U6(e):F6(e)!=null}function U6(e){const t=js(e,!0);return!!t&&!AG.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function $G(e,t,r=!1,i){return new Promise((s,n)=>{if(Nl(i))return void n(N$());let o=()=>{c(),n(new Error(`Unable to load ${t}`))},a=async()=>{const u=e;try{await u.decode()}catch{}c(),s(u)},l=()=>{if(!e)return;const u=e;c(),u.src="",n(N$())};const c=()=>{e&&(e.removeEventListener("error",o),e.removeEventListener("load",a),o=null,a=null,e=null,i?.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t))};i?.addEventListener("abort",l),e.addEventListener("error",o),e.addEventListener("load",a)})}function N$(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const j6="Timeout exceeded";function MG(){return new Error(j6)}function _we(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===j6}function IG(e){yt.request.crossOriginNoCorsDomains||(yt.request.crossOriginNoCorsDomains={});const t=yt.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[js(r)??""]=0:(t[js("http://"+r)??""]=0,t[js("https://"+r)??""]=0)}function OG(e){const t=yt.request.crossOriginNoCorsDomains;if(t){let r=js(e);if(r)return r=r.toLowerCase(),!tu(r,sE())&&t[r]<Date.now()-36e5}return!1}async function CG(e){const t=ro(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const r=yt.request.crossOriginNoCorsDomains,i=js(e);r&&i&&(r[i.toLowerCase()]=Date.now())}const G_=new Map;function PG(e,t){const r=t?.preferredHost;if(!r||tu(e,`https://${r}`,!0))return;const i=E1(e);if(!i||i.serverType!=="FeatureServer"||b6(e))return;const s=i.url.path.toLowerCase();G_.has(s)||G_.set(s,r)}function L$(e){const t=E1(e)?.url.path.toLowerCase();if(!t)return e;const r=G_.get(t);return r?pG(e,r):e}async function Pr(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=nE(t.query.toString().replaceAll("+"," ")));const r=Pf(e),i=lE(e);i||r||(e=Al(e));const s={url:e,requestOptions:{...t}},n=y=>({data:y,getAllHeaders:Jh,getHeader:Jh,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),o=I$(e,sn.internalInterceptors);if(o){const y=await R$(o,s);if(y!=null)return n(y)}let a=I$(e);if(a){const y=await R$(a,s);if(y!=null)return n(y);a.after||a.error||(a=null)}if(e=s.url,(t=s.requestOptions).responseType==="image"&&(ee("host-webworker")||ee("host-node")))throw Vn("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(t.method==="head"){if(t.body)throw Vn("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(r||i)throw Vn("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await DG(),Ng)return Ng.execute(e,t);const l=new AbortController,c=Hh(t,()=>l.abort()),u={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:s,redoRequest:!1,useIdentity:sn.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=t.useRequestQueue?VG(u):z_(u),p=await d.finally(()=>c?.remove());return a?.after?.(p),p}let Ng,B6=!1;const sn=yt.request,V6="FormData"in globalThis,NG=new Set([499,498,403,401]),LG=new Set(["COM_0056","COM_0057","SB_0008"]),kG=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Jh=()=>null,Lg=Symbol();function RG(e){const t=js(e);t&&!Pr._corsServers.includes(t)&&Pr._corsServers.push(t)}function k$(e){const t=js(e);return!t||t.endsWith(".arcgis.com")||Pr._corsServers.includes(t)||aE(t)}function Vn(e,t,r,i){let s;const n={url:r.url,requestOptions:r.requestOptions,getAllHeaders:Jh,getHeader:Jh,ssl:!1};if(t instanceof ft)return t.details?(t.details=ge(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=n,t;if(t){const o=i&&(()=>Array.from(i.headers)),a=i&&(u=>i.headers.get(u)),l=i?.status,c=t.message;c&&(s=c),o&&a&&(n.getAllHeaders=o,n.getHeader=a),n.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,n.subCode=t.subcode,n.messageCode=t.messageCode,typeof t.details=="string"?(n.messages=[t.details],s??=t.details):(n.messages=t.details,s??=n.messages?.[0]),n.raw=Lg in t?t[Lg]:t}return s??="Error",If(t)?Ts():new ft(e,s,n)}async function DG(){ee("host-webworker")&&(!Ng&&globalThis.invokeStaticMessage?Ng=await ve(()=>import("./request-BDomYOKm.js"),__vite__mapDeps([0,1]),import.meta.url):B6=!0)}async function q_(){Jt||await ve(()=>import("./IdentityManager-CNbm6ZNU.js"),__vite__mapDeps([2,1,3,4,5,6,7,8,9,10]),import.meta.url)}async function FG(e){const t=e.params.url,r=e.params.requestOptions,i=e.controller.signal,s=r.body;let n=null,o=null;if(V6&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(o=s),e.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},keepalive:r.keepAlive??!1,method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:sn.priority,redirect:"follow",signal:i},(n||o)&&(e.fetchOptions.body=n||o),(B6||r.authMode==="anonymous")&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query?.token||n?.get("token")),!e.hasToken){const a=F6(t);a&&(r.query??={},r.query.token=a,e.hasToken=!0)}if(e.useIdentity&&!e.hasToken&&!e.credential&&!e.credentialToken&&!G6(t)&&!Nl(i)){let a;r.authMode==="immediate"?(await q_(),a=await Jt.getCredential(t,{signal:i})):r.authMode==="no-prompt"?(await q_(),a=await Jt.getCredential(t,{prompt:!1,signal:i}).catch(()=>{})):Jt&&(a=Jt.findCredential(t)),a&&(e.credential=a,e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function G6(e){return kG.some(t=>t.test(e))}async function UG(e){let t=e.params.url,r=L$(t);const i=e.params.requestOptions,s=e.fetchOptions??{},n=lE(t)||Pf(t),o=i.responseType||"json",a=n?0:i.timeout!=null?i.timeout:sn.timeout;let l=!1;if(!n){e.useSSL&&(t=uE(t));let y={...i.query};e.credentialToken&&(y.token=e.credentialToken);let v=Np(y);ee("esri-url-encodes-apostrophe")&&(v=v.replaceAll("'","%27"));const b=r.length+1+v.length;let S;l=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||b>sn.maxUrlLength;const w=i.useProxy||!!_1(t);if(w){const T=E6(t);S=T.path,!l&&S.length+1+b>sn.maxUrlLength&&(l=!0),T.query&&(y={...T.query,...y})}if(s.method==="HEAD"&&(l||w)){if(l)throw b>sn.maxUrlLength?Vn("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Vn("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(w)throw Vn("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}l?(s.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=e2(t,y):(s.body=Np(y),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):t=e2(t,y),w&&(e.useProxy=!0,t=`${S}?${t}`),y.token&&V6&&s.body instanceof FormData&&!b6(t)&&s.body.set("token",y.token),i.hasOwnProperty("withCredentials")?e.withCredentials=i.withCredentials:tu(t,sE())||(aE(t)||Jt&&Jt.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(s.credentials="include",OG(t)&&await CG(l?e2(t,y):t)),r=L$(t)}let c,u,d=0,p=!1;a>0&&(d=setTimeout(()=>{p=!0,e.controller.abort()},a));try{if(i.responseType==="native-request-init")u=s,u.url=r,i.signal?u.signal=i.signal:delete u.signal;else if(i.responseType!=="image"||s.cache!=="default"||s.keepalive||s.method!=="GET"||l||jG(i.headers)||!n&&!e.useProxy&&sn.proxyUrl&&!k$(t)){if(Pr._beforeFetch&&await Pr._beforeFetch(t,s),c=await fetch(r,s),Pr._afterFetch&&await Pr._afterFetch(c),e.useProxy||RG(t),i.responseType==="native")u=c;else if(s.method!=="HEAD")if(c.ok){switch(o){case"array-buffer":u=await c.arrayBuffer();break;case"blob":case"image":u=await c.blob();break;default:u=await c.text()}if(d&&(clearTimeout(d),d=0),o==="json"||o==="xml"||o==="document")if(u)switch(o){case"json":u=JSON.parse(u);break;case"xml":u=D$(u,"application/xml");break;case"document":u=D$(u,"text/html")}else u=null;if(u){if(o==="array-buffer"||o==="blob"){const y=c.headers.get("Content-Type");if(y&&/application\/json|text\/plain/i.test(y)&&u[o==="blob"?"size":"byteLength"]<=750)try{const v=await new Response(u).json();v.error&&(u=v)}catch{}}o==="image"&&u instanceof Blob&&(u=await F$(URL.createObjectURL(u),e,!0))}}else{u=await c.text();try{u=JSON.parse(u)}catch{}}}else u=await F$(r,e)}catch(y){if(y.name==="AbortError")throw p?MG():Ts("Request canceled");if(!(!c&&y instanceof TypeError&&sn.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||k$(t))throw y;e.redoRequest=!0,eG({proxyUrl:sn.proxyUrl,urlPrefix:js(t)??""})}finally{d&&clearTimeout(d)}return[c,u]}async function R$(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,i;try{i=await e.before(t)}catch(s){r=Vn("request:interceptor",s,t)}if((i instanceof Error||i instanceof ft)&&(r=Vn("request:interceptor",i,t)),r)throw e.error&&e.error(r),r;return i}}function jG(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function D$(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}Pr._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Pr._beforeFetch=void 0,Pr._afterFetch=void 0;const BG=new Map;async function VG(e){const t=qG(e.params.url);if(!t)return z_(e);const{QueueProcessor:r}=await ve(()=>import("./QueueProcessor-BD2VAaPk.js"),__vite__mapDeps([11,12,13,14,1]),import.meta.url);return g5(BG,t.origin,()=>{const s=t.isHosted?ee("request-queue-concurrency-hosted"):ee("request-queue-concurrency-non-hosted");return new r({concurrency:s,process:n=>{if(Nl(n.params.requestOptions))throw Vn("",Ts("Request canceled"),n.params);return z_(n)}})}).push(e)}async function z_(e){let t,r;await FG(e);try{do[t,r]=await UG(e);while(!await GG(e,t,r))}catch(n){const o=Vn("request:server",n,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const i=e.params.url;if(r)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!e.hasToken&&!e.credentialToken&&r.user?.username&&!aE(i)){const n=js(i,!0);n&&sn.trustedServers.push(n)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&IG(r.authorizedCrossOriginNoCorsDomains)}else(e.params.requestOptions.responseType||"json")==="json"&&PG(i,r);const s=e.credential;if(s&&Jt){let o=Jt.findServerInfo(s.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=Jt.findCredential(o,s.userId);a&&Jt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:r,getAllHeaders:t?()=>Array.from(t.headers):Jh,getHeader:t?n=>t.headers.get(n):Jh,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function GG(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const i=e.params.requestOptions;if(!t||i.responseType==="native"||i.responseType==="native-request-init")return!0;let s,n;if(r&&(r.error&&typeof r.error=="object"?s=r.error:r.status==="error"&&Array.isArray(r.messages)&&(s={...r},s[Lg]=r,s.details=r.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[Lg]=r,s;let o,a=null;s&&(n=Number(s.code),a=s.hasOwnProperty("subcode")?Number(s.subcode):null,o=s.messageCode,o=o?.toUpperCase());const l=i.authMode;if(n===403&&(a===4||s.message?.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||n===498)&&n!==void 0&&NG.has(n)&&!G6(e.params.url)&&(n!==403||(!o||!LG.has(o))&&(a==null||a===2&&e.credentialToken))){await q_();try{const c=await Jt.getCredential(e.params.url,{error:Vn("request:server",s,e.params),credential:e.credential,prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;s=c}}if(s)throw s;return!0}function F$(e,t,r=!1){const i=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=sn.priority,s.src=e,$G(s,e,r,i)}function qG(e){let t,r;return typeof e=="string"?(t=js(e,!0),r=C$(e)):(t=e.origin,r=C$(e.toString())),t==null?null:{origin:t,isHosted:r}}function zG(e){if(!yt.assetsPath)throw Ft.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ft("assets:path-not-set","config.assetsPath is not set");return w1(yt.assetsPath,e)}let t2,z=null;function HG(){return!!z}function WG(){return!!ee("esri-wasm")}function YG(){return t2||(t2=ve(async()=>{const{default:e}=await import("./pe-wasm-B87Q3u4k.js");return{default:e}},[],import.meta.url).then(({default:e})=>e({locateFile:t=>zG(`esri/geometry/support/${t}`)})).then(e=>{J6(e)}),t2)}const b0={geogToProj(e,t,r){z.ensureCache.prepare();const i=ru(r),s=r===i,n=z.ensureFloat64(i),o=z._pe_geog_to_proj(z.getPointer(e),t,n);return o&&Rl(r,t,n,s),o},projGeog(e,t,r,i){switch(i){case cr.PE_TRANSFORM_P_TO_G:return b0.projToGeog(e,t,r);case cr.PE_TRANSFORM_G_TO_P:return b0.geogToProj(e,t,r)}return 0},projToGeog:(e,t,r)=>b0.projToGeogCenter(e,t,r,0),projToGeogCenter(e,t,r,i){z.ensureCache.prepare();const s=ru(r),n=r===s,o=z.ensureFloat64(s),a=z._pe_proj_to_geog_center(z.getPointer(e),t,o,i);return a&&Rl(r,t,o,n),a}};let cr=class dt{static init(){dt.PE_BUFFER_MAX=z.PeDefs.prototype.PE_BUFFER_MAX,dt.PE_NAME_MAX=z.PeDefs.prototype.PE_NAME_MAX,dt.PE_MGRS_MAX=z.PeDefs.prototype.PE_MGRS_MAX,dt.PE_USNG_MAX=z.PeDefs.prototype.PE_USNG_MAX,dt.PE_DD_MAX=z.PeDefs.prototype.PE_DD_MAX,dt.PE_DDM_MAX=z.PeDefs.prototype.PE_DDM_MAX,dt.PE_DMS_MAX=z.PeDefs.prototype.PE_DMS_MAX,dt.PE_UTM_MAX=z.PeDefs.prototype.PE_UTM_MAX,dt.PE_PARM_MAX=z.PeDefs.prototype.PE_PARM_MAX,dt.PE_TYPE_NONE=z.PeDefs.prototype.PE_TYPE_NONE,dt.PE_TYPE_GEOGCS=z.PeDefs.prototype.PE_TYPE_GEOGCS,dt.PE_TYPE_PROJCS=z.PeDefs.prototype.PE_TYPE_PROJCS,dt.PE_TYPE_GEOGTRAN=z.PeDefs.prototype.PE_TYPE_GEOGTRAN,dt.PE_TYPE_COORDSYS=z.PeDefs.prototype.PE_TYPE_COORDSYS,dt.PE_TYPE_UNIT=z.PeDefs.prototype.PE_TYPE_UNIT,dt.PE_TYPE_LINUNIT=z.PeDefs.prototype.PE_TYPE_LINUNIT,dt.PE_STR_OPTS_NONE=z.PeDefs.prototype.PE_STR_OPTS_NONE,dt.PE_STR_AUTH_NONE=z.PeDefs.prototype.PE_STR_AUTH_NONE,dt.PE_STR_AUTH_TOP=z.PeDefs.prototype.PE_STR_AUTH_TOP,dt.PE_STR_NAME_CANON=z.PeDefs.prototype.PE_STR_NAME_CANON,dt.PE_STR_FMT_WKT=z.PeDefs.prototype.PE_STR_FMT_WKT,dt.PE_STR_FMT_WKT2=z.PeDefs.prototype.PE_STR_FMT_WKT2,dt.PE_PARM_X0=z.PeDefs.prototype.PE_PARM_X0,dt.PE_PARM_ND=z.PeDefs.prototype.PE_PARM_ND,dt.PE_TRANSFORM_1_TO_2=z.PeDefs.prototype.PE_TRANSFORM_1_TO_2,dt.PE_TRANSFORM_2_TO_1=z.PeDefs.prototype.PE_TRANSFORM_2_TO_1,dt.PE_TRANSFORM_P_TO_G=z.PeDefs.prototype.PE_TRANSFORM_P_TO_G,dt.PE_TRANSFORM_G_TO_P=z.PeDefs.prototype.PE_TRANSFORM_G_TO_P,dt.PE_HORIZON_RECT=z.PeDefs.prototype.PE_HORIZON_RECT,dt.PE_HORIZON_POLY=z.PeDefs.prototype.PE_HORIZON_POLY,dt.PE_HORIZON_LINE=z.PeDefs.prototype.PE_HORIZON_LINE,dt.PE_HORIZON_DELTA=z.PeDefs.prototype.PE_HORIZON_DELTA}},q6=null;const U$={},j$={},B$=e=>{const t=e.getType();switch(t){case cr.PE_TYPE_GEOGCS:e=z.castObject(e,z.PeGeogcs);break;case cr.PE_TYPE_PROJCS:e=z.castObject(e,z.PeProjcs);break;case cr.PE_TYPE_GEOGTRAN:e=z.castObject(e,z.PeGeogtran);break;default:t&cr.PE_TYPE_UNIT&&(e=z.castObject(e,z.PeUnit))}return e},Yu={initialize(){z.PeFactory.prototype.initialize(null)},coordsys:e=>Yu.factoryByType(cr.PE_TYPE_COORDSYS,e),factoryByType(e,t){let r=null,i=U$[e];if(i||(i={},U$[e]=i),i.hasOwnProperty(String(t))&&(r=i[t],z.compare(r,z.NULL)&&(r=null)),!r){const s=z.PeFactory.prototype.factoryByType(e,t);z.compare(s,z.NULL)||(r=B$(s),i[t]=r)}return r},fromString(e,t){let r=null,i=j$[e];if(i||(i={},j$[e]=i),i.hasOwnProperty(t)&&(r=i[t],z.compare(r,z.NULL)&&(r=null)),!r){const s=z.PeFactory.prototype.fromString(e,t);z.compare(s,z.NULL)||(r=B$(s),i[t]=r)}return r},geogcs:e=>Yu.factoryByType(cr.PE_TYPE_GEOGCS,e),geogtran:e=>Yu.factoryByType(cr.PE_TYPE_GEOGTRAN,e),getCode:e=>z.PeFactory.prototype.getCode(e),projcs:e=>Yu.factoryByType(cr.PE_TYPE_PROJCS,e),unit:e=>Yu.factoryByType(cr.PE_TYPE_UNIT,e)};let V$,z6=null;const fE={PE_GTLIST_OPTS_COMMON:0,init(){fE.PE_GTLIST_OPTS_COMMON=z.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,V$=z._pe_getPeGTlistExtendedEntrySize()},getGTlist(e,t,r,i,s,n){let o=null;const a=new z.PeInteger(n);try{const l=z.PeGTlistExtended.prototype.getGTlist(e,t,r,i,s,a);if((n=a.val)&&(o=[l],n>1)){const c=z.getPointer(l);for(let u=1;u<n;u++)o.push(z.wrapPointer(c+V$*u,z.PeGTlistExtendedEntry))}}finally{z.destroy(a)}return o}},JG={destroy(e){if(e?.length){for(const t of e)$n(t),t.getEntries().forEach(r=>{$n(r);const i=r.getGeogtran();$n(i),i.getParameters().forEach($n),[i.getGeogcs1(),i.getGeogcs2()].forEach(s=>{$n(s);const n=s.getDatum();$n(n),$n(n.getSpheroid()),$n(s.getPrimem()),$n(s.getUnit())})});z.PeGTlistExtendedEntry.prototype.Delete(e[0])}}},KG={geogToGeog(e,t,r,i,s){z.ensureCache.prepare();const n=ru(r),o=r===n,a=z.ensureFloat64(n);let l=0;i&&(l=z.ensureFloat64(i));const c=z._pe_geog_to_geog(z.getPointer(e),t,a,l,s);return c&&Rl(r,t,a,o),c}},ZG={geodesicCoordinate(e,t,r,i,s,n,o,a){z.PeLineType.prototype.geodesic_coordinate(e,t,r,i,s,n,o,a)},geodeticCoordinate(e,t,r,i,s,n,o,a,l){z.PeLineType.prototype.geodetic_coordinate(e,t,r,i,s,n,o,a,l)},geodeticDistance(e,t,r,i,s,n,o,a,l,c){z.PeLineType.prototype.geodetic_distance(e,t,r,i,s,n,o,a,l,c)},greatEllipticDistance(e,t,r,i,s,n,o,a,l){z.PeLineType.prototype.great_elliptic_distance(e,t,r,i,s,n,o,a,l)}},XG={phiToEta:(e,t)=>z.PeMath.prototype.phi_to_eta(e,t),etaToPhi:(e,t)=>z.PeMath.prototype.eta_to_phi(e,t),phiToPhig:(e,t)=>z.PeMath.prototype.phi_to_phig(e,t),q:(e,t,r)=>z.PeMath.prototype.q(e,t,r),q90:(e,t)=>z.PeMath.prototype.q90(e,t)},r2=(e,t,r,i,s,n)=>{let o,a;switch(z.ensureCache.prepare(),e){case"dd":o=z._pe_geog_to_dd,a=cr.PE_DD_MAX;break;case"ddm":o=z._pe_geog_to_ddm,a=cr.PE_DDM_MAX;break;case"dms":o=z._pe_geog_to_dms,a=cr.PE_DMS_MAX}let l=0;t&&(l=z.getPointer(t));const c=ru(i),u=z.ensureFloat64(c),d=A1(r,a),p=o(l,r,u,s,z.ensureInt32(d));if(p)for(let y=0;y<r;y++)n[y]=z.UTF8ToString(d[y]);return p},i2=(e,t,r,i,s)=>{let n;switch(z.ensureCache.prepare(),e){case"dd":n=z._pe_dd_to_geog;break;case"ddm":n=z._pe_ddm_to_geog;break;case"dms":n=z._pe_dms_to_geog}let o=0;t&&(o=z.getPointer(t));const a=i.map(d=>z.ensureString(d)),l=z.ensureInt32(a),c=z.ensureFloat64(new Array(2*r)),u=n(o,r,l,c);return u&&Rl(s,r,c),u},QG={geogToDms:(e,t,r,i,s)=>r2("dms",e,t,r,i,s),dmsToGeog:(e,t,r,i)=>i2("dms",e,t,r,i),geogToDdm:(e,t,r,i,s)=>r2("ddm",e,t,r,i,s),ddmToGeog:(e,t,r,i)=>i2("ddm",e,t,r,i),geogToDd:(e,t,r,i,s)=>r2("dd",e,t,r,i,s),ddToGeog:(e,t,r,i)=>i2("dd",e,t,r,i)};let H6=class Ju{static init(){Ju.PE_MGRS_STYLE_NEW=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,Ju.PE_MGRS_STYLE_OLD=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,Ju.PE_MGRS_STYLE_AUTO=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,Ju.PE_MGRS_180_ZONE_1_PLUS=z.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,Ju.PE_MGRS_ADD_SPACES=z.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}static geogToMgrsExtended(t,r,i,s,n,o,a){z.ensureCache.prepare();let l=0;t&&(l=z.getPointer(t));const c=ru(i),u=z.ensureFloat64(c),d=A1(r,cr.PE_MGRS_MAX),p=z.ensureInt32(d),y=z._pe_geog_to_mgrs_extended(l,r,u,s,n,o,p);if(y)for(let v=0;v<r;v++)a[v]=z.UTF8ToString(d[v]);return y}static mgrsToGeogExtended(t,r,i,s,n){z.ensureCache.prepare();let o=0;t&&(o=z.getPointer(t));const a=i.map(d=>z.ensureString(d)),l=z.ensureInt32(a),c=z.ensureFloat64(new Array(2*r)),u=z._pe_mgrs_to_geog_extended(o,r,l,s,c);return u&&Rl(n,r,c),u}};const eq={geogToUsng(e,t,r,i,s,n,o){z.ensureCache.prepare();let a=0;e&&(a=z.getPointer(e));const l=ru(r),c=z.ensureFloat64(l),u=A1(t,cr.PE_MGRS_MAX),d=z.ensureInt32(u),p=z._pe_geog_to_usng(a,t,c,i,s,n,d);if(p)for(let y=0;y<t;y++)o[y]=z.UTF8ToString(u[y]);return p},usngToGeog(e,t,r,i){z.ensureCache.prepare();let s=0;e&&(s=z.getPointer(e));const n=r.map(c=>z.ensureString(c)),o=z.ensureInt32(n),a=z.ensureFloat64(new Array(2*t)),l=z._pe_usng_to_geog(s,t,o,a);return l&&Rl(i,t,a),l}};let W6=class _0{static init(){_0.PE_UTM_OPTS_NONE=z.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,_0.PE_UTM_OPTS_ADD_SPACES=z.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,_0.PE_UTM_OPTS_NS=z.PeNotationUtm.prototype.PE_UTM_OPTS_NS}static geogToUtm(t,r,i,s,n){z.ensureCache.prepare();let o=0;t&&(o=z.getPointer(t));const a=ru(i),l=z.ensureFloat64(a),c=A1(r,cr.PE_UTM_MAX),u=z.ensureInt32(c),d=z._pe_geog_to_utm(o,r,l,s,u);if(d)for(let p=0;p<r;p++)n[p]=z.UTF8ToString(c[p]);return d}static utmToGeog(t,r,i,s,n){z.ensureCache.prepare();let o=0;t&&(o=z.getPointer(t));const a=i.map(d=>z.ensureString(d)),l=z.ensureInt32(a),c=z.ensureFloat64(new Array(2*r)),u=z._pe_utm_to_geog(o,r,l,s,c);return u&&Rl(n,r,c),u}},Y6=class ia{static{this.cache=new Map}static init(){ia.PE_PCSINFO_OPTION_NONE=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,ia.PE_PCSINFO_OPTION_DOMAIN=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,ia.PE_POLE_OUTSIDE_BOUNDARY=z.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,ia.PE_POLE_POINT=z.PePCSInfo.prototype.PE_POLE_POINT}static generate(t,r=ia.PE_PCSINFO_OPTION_DOMAIN){let i=null,s=null;return ia.cache.has(t)&&(s=ia.cache.get(t),s[r]&&(i=s[r])),i||(i=z.PePCSInfo.prototype.generate(t,r),s||(s=[],ia.cache.set(t,s)),s[r]=i),i}};const tq={versionString:()=>z.PeVersion.prototype.version_string()};function J6(e){function t(n,o,a){n[o]=a(n[o])}z=e,cr.init(),fE.init(),H6.init(),W6.init(),Y6.init(),q6=class extends z.PeDouble{constructor(n=NaN){super(n)}destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}},z6=class extends z.PeGCSExtent{destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}};const r=[z.PeAngunit,z.PeDatum,z.PeGeogcs,z.PeGeogtran,z.PeObject,z.PeParameter,z.PePrimem,z.PeProjcs,z.PeSpheroid,z.PeUnit];for(const n of r)t(n.prototype,"getName",o=>function(){return o.call(this,new Array(cr.PE_NAME_MAX))});for(const n of[z.PeGeogtran,z.PeProjcs])t(n.prototype,"getParameters",o=>function(){const a=new Array(cr.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const u=z.getValue(l,"*");a[c]=u?z.wrapPointer(u,z.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(z.PeHorizon.prototype,"getCoord",n=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return Rl(l,a,n.call(this),o),l}),t(z.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const o=z._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=n.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=this.getSteps();if(c>1){const u=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(u+o*d,z.PeGTlistExtendedGTs))}}return a}});const i=z._pe_getPeHorizonSize(),s=n=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(n))return o.get(n);let a=null;const l=n.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=l.getNump();if(c>1){const u=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(u+i*d,z.PeHorizon))}}return o.set(n,a),a};t(z.PeProjcs.prototype,"horizonGcsGenerate",s),t(z.PeProjcs.prototype,"horizonPcsGenerate",s),z.PeObject.prototype.toString=function(n=cr.PE_STR_OPTS_NONE){z.ensureCache.prepare();const o=z.getPointer(this),a=z.ensureInt8(new Array(cr.PE_BUFFER_MAX));return z.UTF8ToString(z._pe_object_to_string_ext(o,n,a))},z.PeGeogcs.prototype.destroy=function(){this.Delete(),$n(this),this.ptr=0},z.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},z.PeProjcs.prototype.destroy=function(){this.Delete(),$n(this),this.ptr=0},z.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function $n(e){if(!e)return;const t=z.getClass(e);if(!t)return;const r=z.getCache(t);if(!r)return;const i=z.getPointer(e);i&&delete r[i]}function A1(e,t){const r=[],i=new Array(t);for(let s=0;s<e;s++)r.push(z.ensureInt8(i));return r}function ru(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function Rl(e,t,r,i=!1){if(i)for(let s=0;s<2*t;s++)e[s]=z.getValue(r+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=e.length===0;for(let n=0;n<t;n++)s&&(e[n]=new Array(2)),e[n][0]=z.getValue(r,"double"),e[n][1]=z.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}const wwe=Object.freeze(Object.defineProperty({__proto__:null,PeCSTransformations:b0,PeDefs:cr,get PeDouble(){return q6},PeFactory:Yu,get PeGCSExtent(){return z6},PeGTTransformations:KG,PeGTlistExtended:fE,PeGTlistExtendedEntry:JG,PeLineType:ZG,PeMath:XG,PeNotationDms:QG,PeNotationMgrs:H6,PeNotationUsng:eq,PeNotationUtm:W6,PePCSInfo:Y6,PeVersion:tq,_init:J6,get _pe(){return z},isLoaded:HG,isSupported:WG,load:YG},Symbol.toStringTag,{value:"Module"}));let h;const I={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(h=2e3;h<=2045;h++)I[h]=0;for(h=2056;h<=2065;h++)I[h]=0;for(h=2067;h<=2135;h++)I[h]=0;for(h=2137;h<=2154;h++)I[h]=0;for(h=2161;h<=2170;h++)I[h]=0;for(h=2172;h<=2193;h++)I[h]=0;for(h=2195;h<=2198;h++)I[h]=0;for(h=2200;h<=2203;h++)I[h]=0;for(h=2205;h<=2217;h++)I[h]=0;for(h=2222;h<=2224;h++)I[h]=1;for(h=2225;h<=2250;h++)I[h]=2;for(h=2251;h<=2253;h++)I[h]=1;for(h=2257;h<=2264;h++)I[h]=2;for(h=2274;h<=2279;h++)I[h]=2;for(h=2280;h<=2282;h++)I[h]=1;for(h=2283;h<=2289;h++)I[h]=2;for(h=2290;h<=2292;h++)I[h]=0;for(h=2308;h<=2313;h++)I[h]=0;for(h=2315;h<=2491;h++)I[h]=0;for(h=2494;h<=2866;h++)I[h]=0;for(h=2867;h<=2869;h++)I[h]=1;for(h=2870;h<=2888;h++)I[h]=2;for(h=2891;h<=2895;h++)I[h]=2;for(h=2896;h<=2898;h++)I[h]=1;for(h=2902;h<=2908;h++)I[h]=2;for(h=2915;h<=2920;h++)I[h]=2;for(h=2921;h<=2923;h++)I[h]=1;for(h=2924;h<=2930;h++)I[h]=2;for(h=2931;h<=2962;h++)I[h]=0;for(h=2964;h<=2968;h++)I[h]=2;for(h=2969;h<=2973;h++)I[h]=0;for(h=2975;h<=2991;h++)I[h]=0;for(h=2995;h<=3051;h++)I[h]=0;for(h=3054;h<=3079;h++)I[h]=0;for(h=3081;h<=3088;h++)I[h]=0;for(h=3092;h<=3101;h++)I[h]=0;for(h=3106;h<=3138;h++)I[h]=0;for(h=3146;h<=3151;h++)I[h]=0;for(h=3153;h<=3166;h++)I[h]=0;for(h=3168;h<=3172;h++)I[h]=0;for(h=3174;h<=3203;h++)I[h]=0;for(h=3294;h<=3358;h++)I[h]=0;for(h=3367;h<=3403;h++)I[h]=0;for(h=3408;h<=3416;h++)I[h]=0;for(h=3417;h<=3438;h++)I[h]=2;for(h=3441;h<=3446;h++)I[h]=2;for(h=3447;h<=3450;h++)I[h]=0;for(h=3451;h<=3459;h++)I[h]=2;for(h=3460;h<=3478;h++)I[h]=0;for(h=3554;h<=3559;h++)I[h]=0;for(h=3560;h<=3570;h++)I[h]=2;for(h=3571;h<=3581;h++)I[h]=0;for(h=3594;h<=3597;h++)I[h]=0;for(h=3601;h<=3604;h++)I[h]=0;for(h=3637;h<=3639;h++)I[h]=0;for(h=3665;h<=3667;h++)I[h]=0;for(h=3693;h<=3695;h++)I[h]=0;for(h=3701;h<=3727;h++)I[h]=0;for(h=3728;h<=3739;h++)I[h]=2;for(h=3740;h<=3751;h++)I[h]=0;for(h=3753;h<=3760;h++)I[h]=2;for(h=3761;h<=3773;h++)I[h]=0;for(h=3775;h<=3777;h++)I[h]=0;for(h=3779;h<=3781;h++)I[h]=0;for(h=3783;h<=3785;h++)I[h]=0;for(h=3788;h<=3791;h++)I[h]=0;for(h=3797;h<=3802;h++)I[h]=0;for(h=3814;h<=3816;h++)I[h]=0;for(h=3825;h<=3829;h++)I[h]=0;for(h=3832;h<=3841;h++)I[h]=0;for(h=3844;h<=3852;h++)I[h]=0;for(h=3873;h<=3885;h++)I[h]=0;for(h=3890;h<=3893;h++)I[h]=0;for(h=3907;h<=3912;h++)I[h]=0;for(h=3942;h<=3950;h++)I[h]=0;for(h=3968;h<=3970;h++)I[h]=0;for(h=3973;h<=3976;h++)I[h]=0;for(h=3986;h<=3989;h++)I[h]=0;for(h=3994;h<=3997;h++)I[h]=0;for(h=4048;h<=4051;h++)I[h]=0;for(h=4056;h<=4063;h++)I[h]=0;for(h=4093;h<=4096;h++)I[h]=0;for(h=4390;h<=4398;h++)I[h]=0;for(h=4399;h<=4413;h++)I[h]=2;for(h=4418;h<=4433;h++)I[h]=2;for(h=4455;h<=4457;h++)I[h]=2;for(h=4484;h<=4489;h++)I[h]=0;for(h=4491;h<=4554;h++)I[h]=0;for(h=4568;h<=4589;h++)I[h]=0;for(h=4652;h<=4656;h++)I[h]=0;for(h=4766;h<=4800;h++)I[h]=0;for(h=5014;h<=5016;h++)I[h]=0;for(h=5069;h<=5072;h++)I[h]=0;for(h=5105;h<=5130;h++)I[h]=0;for(h=5167;h<=5188;h++)I[h]=0;for(h=5253;h<=5259;h++)I[h]=0;for(h=5269;h<=5275;h++)I[h]=0;for(h=5292;h<=5311;h++)I[h]=0;for(h=5329;h<=5331;h++)I[h]=0;for(h=5343;h<=5349;h++)I[h]=0;for(h=5355;h<=5357;h++)I[h]=0;for(h=5387;h<=5389;h++)I[h]=0;for(h=5459;h<=5463;h++)I[h]=0;for(h=5479;h<=5482;h++)I[h]=0;for(h=5518;h<=5520;h++)I[h]=0;for(h=5530;h<=5539;h++)I[h]=0;for(h=5550;h<=5552;h++)I[h]=0;for(h=5562;h<=5583;h++)I[h]=0;for(h=5623;h<=5625;h++)I[h]=2;for(h=5631;h<=5639;h++)I[h]=0;for(h=5649;h<=5653;h++)I[h]=0;for(h=5663;h<=5680;h++)I[h]=0;for(h=5682;h<=5685;h++)I[h]=0;for(h=5875;h<=5877;h++)I[h]=0;for(h=5896;h<=5899;h++)I[h]=0;for(h=5921;h<=5940;h++)I[h]=0;for(h=6050;h<=6125;h++)I[h]=0;for(h=6244;h<=6275;h++)I[h]=0;for(h=6328;h<=6348;h++)I[h]=0;for(h=6350;h<=6356;h++)I[h]=0;for(h=6366;h<=6372;h++)I[h]=0;for(h=6381;h<=6387;h++)I[h]=0;for(h=6393;h<=6404;h++)I[h]=0;for(h=6480;h<=6483;h++)I[h]=0;for(h=6511;h<=6514;h++)I[h]=0;for(h=6579;h<=6581;h++)I[h]=0;for(h=6619;h<=6624;h++)I[h]=0;for(h=6625;h<=6627;h++)I[h]=2;for(h=6628;h<=6632;h++)I[h]=0;for(h=6634;h<=6637;h++)I[h]=0;for(h=6669;h<=6692;h++)I[h]=0;for(h=6707;h<=6709;h++)I[h]=0;for(h=6720;h<=6723;h++)I[h]=0;for(h=6732;h<=6738;h++)I[h]=0;for(h=6931;h<=6933;h++)I[h]=0;for(h=6956;h<=6959;h++)I[h]=0;for(h=7005;h<=7007;h++)I[h]=0;for(h=7057;h<=7070;h++)I[h]=2;for(h=7074;h<=7082;h++)I[h]=0;for(h=7109;h<=7118;h++)I[h]=0;for(h=7119;h<=7127;h++)I[h]=1;for(h=7374;h<=7376;h++)I[h]=0;for(h=7528;h<=7586;h++)I[h]=0;for(h=7587;h<=7645;h++)I[h]=2;for(h=7692;h<=7696;h++)I[h]=0;for(h=7755;h<=7787;h++)I[h]=0;for(h=7791;h<=7795;h++)I[h]=0;for(h=7799;h<=7801;h++)I[h]=0;for(h=7803;h<=7805;h++)I[h]=0;for(h=7825;h<=7831;h++)I[h]=0;for(h=7845;h<=7859;h++)I[h]=0;for(h=8013;h<=8032;h++)I[h]=0;for(h=8065;h<=8068;h++)I[h]=1;for(h=8518;h<=8529;h++)I[h]=2;for(h=8533;h<=8536;h++)I[h]=2;for(h=8538;h<=8540;h++)I[h]=2;for(h=8677;h<=8679;h++)I[h]=0;for(h=8836;h<=8840;h++)I[h]=0;for(h=8857;h<=8859;h++)I[h]=0;for(h=8908;h<=8910;h++)I[h]=0;for(h=9154;h<=9159;h++)I[h]=0;for(h=9205;h<=9218;h++)I[h]=0;for(h=9271;h<=9273;h++)I[h]=0;for(h=9295;h<=9297;h++)I[h]=0;for(h=9356;h<=9360;h++)I[h]=0;for(h=9404;h<=9407;h++)I[h]=0;for(h=9476;h<=9482;h++)I[h]=0;for(h=9487;h<=9494;h++)I[h]=0;for(h=9697;h<=9699;h++)I[h]=0;for(h=9821;h<=9865;h++)I[h]=0;for(h=10285;h<=10291;h++)I[h]=0;for(h=10314;h<=10317;h++)I[h]=0;for(h=10448;h<=10465;h++)I[h]=0;for(h=10726;h<=10729;h++)I[h]=0;for(h=10731;h<=10733;h++)I[h]=0;for(h=11114;h<=11118;h++)I[h]=0;for(h=20004;h<=20032;h++)I[h]=0;for(h=20047;h<=20049;h++)I[h]=0;for(h=20062;h<=20092;h++)I[h]=0;for(h=20135;h<=20138;h++)I[h]=0;for(h=20248;h<=20258;h++)I[h]=0;for(h=20348;h<=20358;h++)I[h]=0;for(h=20436;h<=20440;h++)I[h]=0;for(h=20822;h<=20824;h++)I[h]=0;for(h=20904;h<=20932;h++)I[h]=0;for(h=20934;h<=20936;h++)I[h]=0;for(h=21004;h<=21032;h++)I[h]=0;for(h=21035;h<=21037;h++)I[h]=0;for(h=21095;h<=21097;h++)I[h]=0;for(h=21148;h<=21150;h++)I[h]=0;for(h=21207;h<=21264;h++)I[h]=0;for(h=21307;h<=21364;h++)I[h]=0;for(h=21413;h<=21423;h++)I[h]=0;for(h=21453;h<=21463;h++)I[h]=0;for(h=21473;h<=21483;h++)I[h]=0;for(h=21780;h<=21782;h++)I[h]=0;for(h=21891;h<=21894;h++)I[h]=0;for(h=21896;h<=21899;h++)I[h]=0;for(h=22171;h<=22177;h++)I[h]=0;for(h=22181;h<=22187;h++)I[h]=0;for(h=22191;h<=22197;h++)I[h]=0;for(h=22207;h<=22222;h++)I[h]=0;for(h=22229;h<=22232;h++)I[h]=0;for(h=22234;h<=22236;h++)I[h]=0;for(h=22243;h<=22250;h++)I[h]=0;for(h=22262;h<=22265;h++)I[h]=0;for(h=22307;h<=22322;h++)I[h]=0;for(h=22348;h<=22357;h++)I[h]=0;for(h=22407;h<=22422;h++)I[h]=0;for(h=22462;h<=22465;h++)I[h]=0;for(h=22521;h<=22525;h++)I[h]=0;for(h=22607;h<=22622;h++)I[h]=0;for(h=22641;h<=22646;h++)I[h]=0;for(h=22648;h<=22657;h++)I[h]=0;for(h=22707;h<=22722;h++)I[h]=0;for(h=22762;h<=22765;h++)I[h]=0;for(h=22807;h<=22822;h++)I[h]=0;for(h=22991;h<=22994;h++)I[h]=0;for(h=23028;h<=23038;h++)I[h]=0;for(h=23301;h<=23333;h++)I[h]=2;for(h=23830;h<=23853;h++)I[h]=0;for(h=23866;h<=23872;h++)I[h]=0;for(h=23877;h<=23884;h++)I[h]=0;for(h=23886;h<=23894;h++)I[h]=0;for(h=23946;h<=23948;h++)I[h]=0;for(h=24311;h<=24313;h++)I[h]=0;for(h=24342;h<=24347;h++)I[h]=0;for(h=24370;h<=24374;h++)I[h]=10;for(h=24375;h<=24381;h++)I[h]=0;for(h=24718;h<=24721;h++)I[h]=0;for(h=24817;h<=24821;h++)I[h]=0;for(h=24877;h<=24882;h++)I[h]=0;for(h=24891;h<=24893;h++)I[h]=0;for(h=25391;h<=25395;h++)I[h]=0;for(h=25828;h<=25838;h++)I[h]=0;for(h=26191;h<=26195;h++)I[h]=0;for(h=26391;h<=26393;h++)I[h]=0;for(h=26701;h<=26722;h++)I[h]=0;for(h=26729;h<=26799;h++)I[h]=2;for(h=26801;h<=26803;h++)I[h]=2;for(h=26811;h<=26813;h++)I[h]=2;for(h=26847;h<=26870;h++)I[h]=2;for(h=26891;h<=26899;h++)I[h]=0;for(h=26901;h<=26923;h++)I[h]=0;for(h=26929;h<=26946;h++)I[h]=0;for(h=26948;h<=26998;h++)I[h]=0;for(h=27037;h<=27040;h++)I[h]=0;for(h=27205;h<=27232;h++)I[h]=0;for(h=27258;h<=27260;h++)I[h]=0;for(h=27391;h<=27398;h++)I[h]=0;for(h=27561;h<=27564;h++)I[h]=0;for(h=27571;h<=27574;h++)I[h]=0;for(h=27581;h<=27584;h++)I[h]=0;for(h=27591;h<=27594;h++)I[h]=0;for(h=27700;h<=27707;h++)I[h]=0;for(h=28191;h<=28193;h++)I[h]=0;for(h=28348;h<=28358;h++)I[h]=0;for(h=28402;h<=28432;h++)I[h]=0;for(h=28462;h<=28492;h++)I[h]=0;for(h=29118;h<=29122;h++)I[h]=0;for(h=29168;h<=29172;h++)I[h]=0;for(h=29177;h<=29185;h++)I[h]=0;for(h=29187;h<=29195;h++)I[h]=0;for(h=29900;h<=29903;h++)I[h]=0;for(h=30161;h<=30179;h++)I[h]=0;for(h=30491;h<=30494;h++)I[h]=0;for(h=30729;h<=30732;h++)I[h]=0;for(h=31251;h<=31259;h++)I[h]=0;for(h=31265;h<=31268;h++)I[h]=0;for(h=31275;h<=31279;h++)I[h]=0;for(h=31281;h<=31297;h++)I[h]=0;for(h=31461;h<=31469;h++)I[h]=0;for(h=31491;h<=31495;h++)I[h]=0;for(h=31917;h<=31922;h++)I[h]=0;for(h=31965;h<=32e3;h++)I[h]=0;for(h=32001;h<=32003;h++)I[h]=2;for(h=32005;h<=32031;h++)I[h]=2;for(h=32033;h<=32060;h++)I[h]=2;for(h=32064;h<=32067;h++)I[h]=2;for(h=32074;h<=32077;h++)I[h]=2;for(h=32081;h<=32086;h++)I[h]=0;for(h=32107;h<=32130;h++)I[h]=0;for(h=32133;h<=32159;h++)I[h]=0;for(h=32164;h<=32167;h++)I[h]=2;for(h=32180;h<=32199;h++)I[h]=0;for(h=32201;h<=32260;h++)I[h]=0;for(h=32301;h<=32360;h++)I[h]=0;for(h=32401;h<=32460;h++)I[h]=0;for(h=32501;h<=32560;h++)I[h]=0;for(h=32601;h<=32662;h++)I[h]=0;for(h=32664;h<=32667;h++)I[h]=2;for(h=32701;h<=32761;h++)I[h]=0;for(h=53001;h<=53004;h++)I[h]=0;for(h=53008;h<=53019;h++)I[h]=0;for(h=53021;h<=53032;h++)I[h]=0;for(h=53034;h<=53037;h++)I[h]=0;for(h=53042;h<=53046;h++)I[h]=0;for(h=53074;h<=53080;h++)I[h]=0;for(h=54001;h<=54004;h++)I[h]=0;for(h=54008;h<=54019;h++)I[h]=0;for(h=54021;h<=54032;h++)I[h]=0;for(h=54034;h<=54037;h++)I[h]=0;for(h=54042;h<=54046;h++)I[h]=0;for(h=54048;h<=54053;h++)I[h]=0;for(h=54074;h<=54080;h++)I[h]=0;for(h=54090;h<=54096;h++)I[h]=0;for(h=54098;h<=54101;h++)I[h]=0;for(h=65161;h<=65163;h++)I[h]=0;for(h=102001;h<=102040;h++)I[h]=0;for(h=102042;h<=102063;h++)I[h]=0;for(h=102065;h<=102067;h++)I[h]=0;for(h=102070;h<=102117;h++)I[h]=0;for(h=102122;h<=102216;h++)I[h]=0;for(h=102221;h<=102377;h++)I[h]=0;for(h=102382;h<=102388;h++)I[h]=0;for(h=102389;h<=102398;h++)I[h]=2;for(h=102399;h<=102444;h++)I[h]=0;for(h=102445;h<=102447;h++)I[h]=2;for(h=102448;h<=102458;h++)I[h]=0;for(h=102459;h<=102468;h++)I[h]=2;for(h=102469;h<=102499;h++)I[h]=0;for(h=102500;h<=102519;h++)I[h]=1;for(h=102520;h<=102524;h++)I[h]=0;for(h=102525;h<=102529;h++)I[h]=2;for(h=102530;h<=102588;h++)I[h]=0;for(h=102590;h<=102598;h++)I[h]=0;for(h=102601;h<=102603;h++)I[h]=0;for(h=102605;h<=102628;h++)I[h]=0;for(h=102629;h<=102646;h++)I[h]=2;for(h=102648;h<=102700;h++)I[h]=2;for(h=102701;h<=102703;h++)I[h]=0;for(h=102707;h<=102730;h++)I[h]=2;for(h=102733;h<=102758;h++)I[h]=2;for(h=102767;h<=102900;h++)I[h]=0;for(h=102901;h<=102933;h++)I[h]=2;for(h=102934;h<=102950;h++)I[h]=13;for(h=102951;h<=102963;h++)I[h]=0;for(h=102965;h<=102969;h++)I[h]=0;for(h=102971;h<=102973;h++)I[h]=0;for(h=102975;h<=102989;h++)I[h]=0;for(h=102990;h<=102992;h++)I[h]=1;for(h=102997;h<=103002;h++)I[h]=0;for(h=103003;h<=103008;h++)I[h]=2;for(h=103009;h<=103011;h++)I[h]=0;for(h=103012;h<=103014;h++)I[h]=2;for(h=103019;h<=103021;h++)I[h]=0;for(h=103022;h<=103024;h++)I[h]=2;for(h=103029;h<=103031;h++)I[h]=0;for(h=103032;h<=103034;h++)I[h]=2;for(h=103065;h<=103068;h++)I[h]=0;for(h=103074;h<=103076;h++)I[h]=0;for(h=103077;h<=103079;h++)I[h]=1;for(h=103080;h<=103082;h++)I[h]=0;for(h=103083;h<=103085;h++)I[h]=2;for(h=103090;h<=103093;h++)I[h]=0;for(h=103097;h<=103099;h++)I[h]=0;for(h=103100;h<=103102;h++)I[h]=2;for(h=103107;h<=103109;h++)I[h]=0;for(h=103110;h<=103112;h++)I[h]=2;for(h=103113;h<=103116;h++)I[h]=0;for(h=103117;h<=103120;h++)I[h]=2;for(h=103153;h<=103157;h++)I[h]=0;for(h=103158;h<=103162;h++)I[h]=2;for(h=103163;h<=103165;h++)I[h]=0;for(h=103166;h<=103168;h++)I[h]=1;for(h=103169;h<=103171;h++)I[h]=2;for(h=103186;h<=103188;h++)I[h]=0;for(h=103189;h<=103191;h++)I[h]=2;for(h=103192;h<=103195;h++)I[h]=0;for(h=103196;h<=103199;h++)I[h]=2;for(h=103200;h<=103224;h++)I[h]=0;for(h=103225;h<=103227;h++)I[h]=1;for(h=103232;h<=103237;h++)I[h]=0;for(h=103238;h<=103243;h++)I[h]=2;for(h=103244;h<=103246;h++)I[h]=0;for(h=103247;h<=103249;h++)I[h]=2;for(h=103254;h<=103256;h++)I[h]=0;for(h=103257;h<=103259;h++)I[h]=2;for(h=103264;h<=103266;h++)I[h]=0;for(h=103267;h<=103269;h++)I[h]=2;for(h=103300;h<=103375;h++)I[h]=0;for(h=103381;h<=103383;h++)I[h]=0;for(h=103384;h<=103386;h++)I[h]=1;for(h=103387;h<=103389;h++)I[h]=0;for(h=103390;h<=103392;h++)I[h]=2;for(h=103397;h<=103399;h++)I[h]=0;for(h=103400;h<=103471;h++)I[h]=2;for(h=103476;h<=103478;h++)I[h]=0;for(h=103479;h<=103481;h++)I[h]=2;for(h=103486;h<=103488;h++)I[h]=0;for(h=103489;h<=103491;h++)I[h]=2;for(h=103492;h<=103495;h++)I[h]=0;for(h=103496;h<=103499;h++)I[h]=2;for(h=103528;h<=103543;h++)I[h]=0;for(h=103544;h<=103548;h++)I[h]=2;for(h=103549;h<=103551;h++)I[h]=0;for(h=103552;h<=103554;h++)I[h]=1;for(h=103555;h<=103557;h++)I[h]=2;for(h=103558;h<=103560;h++)I[h]=0;for(h=103571;h<=103573;h++)I[h]=0;for(h=103574;h<=103576;h++)I[h]=2;for(h=103577;h<=103580;h++)I[h]=0;for(h=103581;h<=103583;h++)I[h]=2;for(h=103595;h<=103694;h++)I[h]=0;for(h=103696;h<=103699;h++)I[h]=0;for(h=103700;h<=103793;h++)I[h]=2;for(h=103794;h<=103890;h++)I[h]=0;for(h=103891;h<=103896;h++)I[h]=2;for(h=103900;h<=103971;h++)I[h]=2;for(h=103972;h<=103977;h++)I[h]=0;for(h=112e3;h<=112101;h++)I[h]=0;const K6=[102100,102113,3857,3785,900913],rq=[104905,104971],iq=[104903],sq=[4326,...K6,...rq,...iq],kp=[-20037508342788905e-9,20037508342788905e-9],H_=[-20037508342787e-6,20037508342787e-6],s2={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:kp,origin:H_,dx:1e-5},Z6={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:kp,origin:H_,dx:1e-5},102100:s2,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:kp,origin:H_,dx:1e-5},3857:s2,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:s2,104903:{wkTemplate:'GEOGCS["GCS_Moon_2000",DATUM["D_Moon_2000",SPHEROID["Moon_2000_IAU_IAG",1737400,0,AUTHORITY["ESRI","107903"]],AUTHORITY["ESRI","106903"]],PRIMEM["Reference_Meridian",0,AUTHORITY["ESRI","108900"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["ESRI","104903"]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function iu(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const r=e.wkid,i=t.wkid;if(r!=null||i!=null){if(r===i||su(e)&&su(t))return!0;const o=e.latestWkid;if(o!=null&&i===o)return!0;const a=t.latestWkid;return a!=null&&r===a}let s,n;return e.wkt2&&t.wkt2?(s=e.wkt2,n=t.wkt2):e.wkt&&t.wkt&&(s=e.wkt,n=t.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function qd(e){const t=e?.wkid;return t!=null&&t>=2e3&&Z6[t]||null}function xwe(e){if(!e)return;const{wkid:t,vcsWkid:r}=e;if(t)return r?JSON.stringify({wkid:t,vcsWkid:r}):String(t);const i=e.wkt||e.wkt2;return JSON.stringify(i?r?{wkt:i,vcsWkid:r}:{wkt:i}:{})}function Pm(e){if(!X6(e))return!1;const{wkid:t}=e;if(t)return I[t]==null;const r=e.wkt2||e.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)}function nq(e){return!(oq(e)||aq(e))}function kg(e){return e?.wkid===4326}function Swe(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function Ewe(e){return e?.wkid===4490}function su(e){const t=e?.wkid;return t!=null&&t>=2e3&&K6.includes(t)}function Awe(e){return e?.wkid===32662}function T1(e){return e===104971||e===104905}function oq(e){return T1(e?.wkid)}function $1(e){return e===104903}function aq(e){return $1(e?.wkid)}function lq(e){const t=e?.wkid;return t!=null&&t>=2e3&&sq.includes(t)}function X6(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const Q6={wkid:4326,wkt:m5(Z6[4326].wkTemplate,{Central_Meridian:"0.0"})},eP={wkid:102100,latestWkid:3857},cq={wkid:32662};function dE(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const uq=dE(Yn),tP=dE(Pp),rP=dE(b1),Twe={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Yn.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},hq=tP.wkt.toUpperCase(),fq=rP.wkt.toUpperCase();function dq(e){if(e!=null&&X6(e)){const t=e.wkid,r=e.wkt2??e.wkt;if(T1(t))return Pp;const i=r?.toUpperCase();if(r&&i===hq)return Pp;if($1(t)||i&&i===fq)return b1}return Yn}function $we(e){return T1(e)?Pp:$1(e)?b1:Yn}function pq(e){return iu(e,uq)}function Mwe(e){return pq(e)||iu(e,tP)||iu(e,rP)}const Iwe=39.37,mq=Yn.radius*Math.PI/200,iP=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Kh=I,sP=/UNIT\[([^\]]+)]/i,yq=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),gq=to()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),wn=e=>e*e,ja=e=>e*e*e,Rp={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:wn(.001)},"square-centimeters":{inBaseUnits:wn(.01)},"square-decimeters":{inBaseUnits:wn(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:wn(1e3)},"square-inches":{inBaseUnits:wn(.0254)},"square-feet":{inBaseUnits:wn(.3048)},"square-yards":{inBaseUnits:wn(.9144)},"square-miles":{inBaseUnits:wn(1609.344)},"square-nautical-miles":{inBaseUnits:wn(1852)},"square-us-feet":{inBaseUnits:wn(1200/3937)},acres:{inBaseUnits:.0015625*wn(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*ja(.001)},"cubic-centimeters":{inBaseUnits:1e3*ja(.01)},"cubic-decimeters":{inBaseUnits:1e3*ja(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*ja(1e3)},"cubic-inches":{inBaseUnits:1e3*ja(.0254)},"cubic-feet":{inBaseUnits:1e3*ja(.3048)},"cubic-yards":{inBaseUnits:1e3*ja(.9144)},"cubic-miles":{inBaseUnits:1e3*ja(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},vq=(()=>{const e={};for(const t in Rp)for(const r in Rp[t].units)e[r]=t;return e})();function bq(e,t,r){return e*Rp[r].units[t].inBaseUnits}function _q(e,t,r){return e/Rp[r].units[t].inBaseUnits}const wq=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],xq=["metric","imperial"],nP=[...xq,...wq],Sq=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function W_(e){const t=vq[e];if(!t)throw new Error("unknown type");return t}function G$(e,t=null){return t=t||W_(e),Rp[t].baseUnit===e}function Jn(e,t,r){if(t===r)return e;const i=W_(t);if(i!==W_(r))throw new Error("incompatible units");const s=G$(t,i)?e:bq(e,t,i);return G$(r,i)?s:_q(s,r,i)}function Owe(e,t,r,i=!1){if(!i&&Pm(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=_u(t);return s!==r&&(e=s?Jn(e,s,r):Jn(e*=Nf(t),"meters",r)),e}function Cwe(e,t,r,i=!1){if(!i&&Pm(r))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=_u(r);return t!==s&&(e=s?Jn(e,t,s):Jn(e,t,"meters")/Nf(r)),e}function Eq(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function Pwe(e){return Eq(e)}function Nwe(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function Lwe(e,t,r){switch(r){case"metric":return Aq(e,t);case"imperial":return $q(e,t);default:return r}}function kwe(e,t,r){switch(r){case"metric":return Tq(e,t);case"imperial":return Mq(e,t);default:return r}}function Aq(e,t){const r=Jn(e,t,"meters");return Math.abs(r)<3e3?"meters":"kilometers"}function Tq(e,t){const r=Jn(e,t,"meters");return Math.abs(r)<1e5?"meters":"kilometers"}function $q(e,t){const r=Jn(e,t,"feet");return Math.abs(r)<1e3?"feet":"miles"}function Mq(e,t){const r=Jn(e,t,"feet");return Math.abs(r)<1e5?"feet":"miles"}function Rwe(e,t){const r=Jn(e,t,"square-meters");return Math.abs(r)<3e6?"square-meters":"square-kilometers"}function Dwe(e,t){const r=Jn(e,t,"square-feet");return Math.abs(r)<1e6?"square-feet":"square-miles"}function Fwe(e,t,r){return Jn(e,t,"meters")/(r*Math.PI/180)}function oP(e){return gq.fromJSON(e.toLowerCase())||null}function Uwe(e){if(e!=null&&!nq(e))return 1;const t=Nf(e);return t>1e5?1:t}function Iq(e){return Nf(e)>=dq(e).metersPerDegree?"meters":_u(e)}function Nf(e,t=Yn.metersPerDegree){return Oq(e,!0)??t}function Oq(e,t=!1){const r=e?.wkid??null,i=e?.wkt2??e?.wkt??null;let s=null;if(r){if(T1(r))return Pp.metersPerDegree;if($1(r))return b1.metersPerDegree;s=Kh.values[Kh[r]],!s&&t&&yq.has(r)&&(s=mq)}else i&&(cP(i)?s=q$(iP.exec(i),s):lP(i)&&(s=q$(sP.exec(i),s)));return s}function jwe(e){return Pm(e)?1:Nf(e)}function q$(e,t){return e?.[1]?aP(e[1]):t}function aP(e){return parseFloat(e.split(",")[1])}function _u(e){const t=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let i=null;if(t)i=Kh.units[Kh[t]];else if(r){const s=cP(r)?iP:lP(r)?sP:null;if(s){const n=s.exec(r);n?.[1]&&(i=Pq(n[1]))}}return i!=null?oP(i):null}function Bwe(e){const t=_u(e);return t!=null&&nP.includes(t)?t:null}function Vwe(e){const t=Iq(e);return t!=null&&nP.includes(t)?t:null}function Gwe(e){const t=_u(e);return t==null?null:Sq.get(t)}function lP(e){return/^GEOCCS/i.test(e)}function cP(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const Cq=1e-7;function Pq(e){let r=/[\\"']([^\\"']+)/.exec(e)?.[1];if(!r||!oP(r)){const i=aP(e);r=null;const s=Kh.values;for(let n=0;n<s.length;++n)if(Math.abs(i-s[n])<Cq){r=Kh.units[n];break}}return r}function qwe(e){const t=_u(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const Nq={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Lq={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},kq={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},zwe=to()(Nq),Hwe=to()(Lq),Wwe=to()(kq);function Gt(e,t,r){let i,s;return t===void 0?(s=e,i=[void 0]):typeof t!="string"?(s=e,i=[void 0],r=t):(s=t,i=Array.isArray(e)?e:[e]),(n,o)=>{const a=n.constructor.prototype;for(const l of i){const c=e6(n,l,s);c.write&&typeof c.write=="object"||(c.write={}),r&&(c.write.target=r),c.write.writer=a[o]}}}var ho;let Ge=class extends Xe{static{ho=this}static{this.GCS_NAD_1927=null}static{this.WGS84=null}static{this.WebMercator=null}static{this.PlateCarree=null}static fromJSON(t){if(!t)return null;if(t?.wkid===102100)return ho.WebMercator;if(t?.wkid===4326)return ho.WGS84;const r=new ho;return r.read(t),r}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return kg(this)}get isWebMercator(){return su(this)}get isGeographic(){return Pm(this)}get isWrappable(){return lq(this)}get metersPerUnit(){return Nf(this)}get unit(){return _u(this)||(this.isGeographic?"degrees":null)}writeWkt(t,r){this.wkid||(r.wkt=t)}clone(){if(this===ho.WGS84)return new ho(Q6);if(this===ho.WebMercator)return new ho(eP);const t=new ho;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(t.wkt=this.wkt),this.wkt2!=null&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=ge(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:r,referenceServiceName:i}=t.imageCoordinateSystem,{geodataXform:s}=t.imageCoordinateSystem,n=this.imageCoordinateSystem;return r==null||s?JSON.stringify(n)===JSON.stringify(t.imageCoordinateSystem):i?n.id===r&&n.referenceServiceName===i:n.id===r}return iu(this,t)}toJSON(t){return this.write(void 0,t)}};g([A({readOnly:!0})],Ge.prototype,"isWGS84",null),g([A({readOnly:!0})],Ge.prototype,"isWebMercator",null),g([A({readOnly:!0})],Ge.prototype,"isGeographic",null),g([A({readOnly:!0})],Ge.prototype,"isWrappable",null),g([A({type:_r,json:{write:!0}})],Ge.prototype,"latestWkid",void 0),g([A({readOnly:!0})],Ge.prototype,"metersPerUnit",null),g([A({readOnly:!0})],Ge.prototype,"unit",null),g([A({type:_r,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Ge.prototype,"wkid",void 0),g([A({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Ge.prototype,"wkt",void 0),g([Gt("wkt"),Gt("web-scene","wkt")],Ge.prototype,"writeWkt",null),g([A({type:String,json:{write:!1}})],Ge.prototype,"wkt2",void 0),g([A({type:_r,json:{write:!0}})],Ge.prototype,"vcsWkid",void 0),g([A({type:_r,json:{write:!0}})],Ge.prototype,"latestVcsWkid",void 0),g([A()],Ge.prototype,"imageCoordinateSystem",void 0),Ge=ho=g([ie("esri.geometry.SpatialReference")],Ge),Ge.prototype.toJSON.isDefaultToJSON=!0,Ge.GCS_NAD_1927=ai.freeze(new Ge({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Ge.WGS84=ai.freeze(new Ge(Q6)),Ge.WebMercator=ai.freeze(new Ge(eP)),Ge.PlateCarree=ai.freeze(new Ge(cq));let Ti=class extends Xe{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Ge.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof Ge)return t;if(t!=null){const i=new Ge;return i.read(t,r),i}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};g([A()],Ti.prototype,"type",void 0),g([A({readOnly:!0})],Ti.prototype,"cache",null),g([A({readOnly:!0})],Ti.prototype,"extent",null),g([A({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ti.prototype,"hasM",void 0),g([A({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ti.prototype,"hasZ",void 0),g([A({type:Ge,json:{write:!0},value:Ge.WGS84})],Ti.prototype,"spatialReference",void 0),g([Mr("spatialReference")],Ti.prototype,"readSpatialReference",null),Ti=g([ie("esri.geometry.Geometry")],Ti);const Rq=Object.prototype.toString;function Dq(e){const t="__accessorMetadata__"in e?Wn(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Fq.apply(this,r)}}function Fq(e,t,r,i){v1(e,t).cast=i}function Uq(e){return(t,r)=>{v1(t,e).cast=t[r]}}function Nm(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&Rq.call(e[0])==="[object Function]"?Dq(e[0]):e.length===1&&typeof e[0]=="string"?Uq(e[0]):void 0}function Dp(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new ft("internal:mesh","Mesh geometries are not supported for this operation")}function Kwe(e){e.forEach(Dp)}const jq=57.29577951308232,Bq=.017453292519943;function z$(e){return e*jq}function H$(e){return e*Bq}function Zwe(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Yn.radius))}function Y_(e){return e.wkid!=null||e.wkt!=null}const n2=[0,0];function Rg(e,t,r,i,s){const n=e,o=s;if(o.spatialReference=r,"x"in n&&"x"in o)[o.x,o.y]=t(n.x,n.y,n2,i);else if("xmin"in n&&"xmin"in o)[o.xmin,o.ymin]=t(n.xmin,n.ymin,n2,i),[o.xmax,o.ymax]=t(n.xmax,n.ymax,n2,i);else if("paths"in n&&"paths"in o||"rings"in n&&"rings"in o){const a="paths"in n?n.paths:n.rings,l=[];let c;for(let u=0;u<a.length;u++){const d=a[u];c=[],l.push(c);for(let p=0;p<d.length;p++)c.push(t(d[p][0],d[p][1],[0,0],i)),d[p].length>2&&c[p].push(d[p][2]),d[p].length>3&&c[p].push(d[p][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in n&&"points"in o){const a=n.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],i),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return s}function w0(e,t){const r=e&&(Y_(e)?e:e.spatialReference),i=t&&(Y_(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!i)&&(!!iu(i,r)||su(i)&&kg(r)||su(r)&&kg(i))}function uP(e,t){if(e==null)return null;const r=e.spatialReference,i=t&&(Y_(t)?t:t.spatialReference);return w0(r,i)?iu(r,i)?ge(e):su(i)?Rg(e,ch,Ge.WebMercator,!1,ge(e)):kg(i)?Rg(e,M1,Ge.WGS84,!1,ge(e)):null:null}function ch(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const i=H$(t);return r[0]=H$(e)*Yn.radius,r[1]=Yn.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),r}function M1(e,t,r=[0,0],i=!1){if(e===kp[0])r[0]=-180;else if(e===kp[1])r[0]=180;else{const s=z$(e/Yn.radius);r[0]=i?s:s-360*Math.floor((s+180)/360)}return r[1]=z$(Math.PI/2-2*Math.atan(Math.exp(-t/Yn.radius))),r}function o2(e,t=!1,r=ge(e)){return Dp(e),Dp(r),Rg(e,ch,Ge.WebMercator,t,r)}function xy(e,t=!1,r=ge(e)){return Dp(e),Dp(r),Rg(e,M1,Ge.WGS84,t,r)}function Vq(e,t){const r=e.x-t.x,i=e.y-t.y,s=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(r*r+i*i+s*s)}function Gq(e){return hP(e,fP)?.[0]??null}function qq(e){return hP(e,fP)?.[1]??null}function hP({x:e,y:t,spatialReference:r},i=[0,0]){if(r){if(su(r))return M1(e,t,i);if(Pm(r))return i[0]=e,i[1]=t,i}return null}const fP=[0,0];var x0;const a2=[0,0];function W$(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let ut=x0=class extends Ti{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",ai.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,i,s){let n;if(Array.isArray(e))n=e,s=t,e=n[0],t=n[1],r=n[2],i=n[3];else if(e&&typeof e=="object"){if(n=e,e=n.x!=null?n.x:n.longitude,t=n.y!=null?n.y:n.latitude,r=n.z,i=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new Ge(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)Ft.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)Ft.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&s?.isWebMercator){const a=ch(n.longitude,n.latitude,a2);e=a[0],t=a[1]}}}else W$(r)?(s=r,r=null):W$(i)&&(s=i,i=null);const o={x:e,y:t};return o.x==null&&o.y!=null?Ft.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&Ft.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(o.spatialReference=s),r!=null&&(o.z=r),i!=null&&(o.m=i),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return qq(this)}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",ch(r,e,a2)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return Gq(this)}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",ch(e,t,a2)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new x0;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return x0.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:i,m:s,spatialReference:n}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:u}=e;if(!n.equals(u))if(n.isWebMercator&&u.isWGS84)[l,c]=ch(l,c),u=n;else{if(!n.isWGS84||!u.isWebMercator)return!1;[l,c]=M1(l,c),u=n}return t===l&&r===c&&i===o&&s===a&&n.wkid===u.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=qd(this.spatialReference);if(!e)return this;let t=this.x;const[r,i]=e.valid,s=2*i;let n;return t>i?(n=Math.ceil(Math.abs(t-i)/s),t-=n*s):t<r&&(n=Math.ceil(Math.abs(t-r)/s),t+=n*s),this._set("x",t),this}distance(e){return Vq(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};g([A({readOnly:!0})],ut.prototype,"cache",null),g([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ut.prototype,"hasM",null),g([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ut.prototype,"hasZ",null),g([A({type:Number})],ut.prototype,"latitude",null),g([A({type:Number})],ut.prototype,"longitude",null),g([A({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Nm(e=>isNaN(e)?e:f1(e))],ut.prototype,"x",void 0),g([Gt("x")],ut.prototype,"writeX",null),g([Mr("x")],ut.prototype,"readX",null),g([A({type:Number,json:{write:!0}})],ut.prototype,"y",void 0),g([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ut.prototype,"z",void 0),g([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],ut.prototype,"m",void 0),ut=x0=g([ie("esri.geometry.Point")],ut),ut.prototype.toJSON.isDefaultToJSON=!0;const l2=[0,0];function dP(e,t){return t!=null&&Ui(e,t.x,t.y,t.z)}function Xwe(e,t){if(!t.points?.length)return!1;for(const r of t.points)if(!Zh(e,r))return!1;return!0}function zq(e,t){const{xmin:r,ymin:i,zmin:s,xmax:n,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Ui(e,r,i,s)&&Ui(e,r,o,s)&&Ui(e,n,o,s)&&Ui(e,n,i,s)&&Ui(e,r,i,a)&&Ui(e,r,o,a)&&Ui(e,n,o,a)&&Ui(e,n,i,a):Ui(e,r,i)&&Ui(e,r,o)&&Ui(e,n,o)&&Ui(e,n,i)}function Zh(e,t){return Ui(e,t[0],t[1])}function Hq(e,t){return Ui(e,t[0],t[1],t[2])}function Ui(e,t,r,i){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(i==null||!e.hasZ||i>=e.zmin&&i<=e.zmax)}function Wq(e,t){return l2[1]=t.y,l2[0]=t.x,Yq(e,l2)}function Yq(e,t){return pP(e.rings,t)}function pP(e,t){if(!e||e.length<1)return!1;if(Jq(e))return Y$(!1,e,t);let r=!1;for(let i=0,s=e.length;i<s;i++)r=Y$(r,e[i],t);return r}function Jq(e){return!Array.isArray(e[0][0])}function Y$(e,t,r){const[i,s]=r;let n=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[c,u]=t[a],[d,p]=t[o];(u<s&&p>=s||p<s&&u>=s)&&c+(s-u)/(p-u)*(d-c)<i&&(n=!n)}return n}function Kq(e,t){return dP(e,t)}function Zq(e,t){const r=e.hasZ&&t.hasZ;let i,s,n;if(e.xmin<=t.xmin){if(i=t.xmin,e.xmax<i)return!1}else if(i=e.xmin,t.xmax<i)return!1;if(e.ymin<=t.ymin){if(s=t.ymin,e.ymax<s)return!1}else if(s=e.ymin,t.ymax<s)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(n=t.zmin,e.zmax<n)return!1}else if(n=e.zmin,t.zmax<n)return!1}return!0}function Xq(e,t){const{points:r,hasZ:i}=t,s=i?Hq:Zh;for(const n of r)if(s(e,n))return!0;return!1}const nu=[0,0],ou=[0,0],au=[0,0],lu=[0,0],Qq=[nu,ou,au,lu],mP=[[au,nu],[nu,ou],[ou,lu],[lu,au]];function ez(e,t){return tz(e,t.rings)}function tz(e,t){nu[0]=e.xmin,nu[1]=e.ymax,ou[0]=e.xmax,ou[1]=e.ymax,au[0]=e.xmin,au[1]=e.ymin,lu[0]=e.xmax,lu[1]=e.ymin;for(const r of Qq)if(pP(t,r))return!0;for(const r of t){if(!r.length)continue;let i=r[0];if(Zh(e,i))return!0;for(let s=1;s<r.length;s++){const n=r[s];if(Zh(e,n)||yP(i,n,mP))return!0;i=n}}return!1}function rz(e,t){nu[0]=e.xmin,nu[1]=e.ymax,ou[0]=e.xmax,ou[1]=e.ymax,au[0]=e.xmin,au[1]=e.ymin,lu[0]=e.xmax,lu[1]=e.ymin;const r=t.paths;for(const i of r){if(!r.length)continue;let s=i[0];if(Zh(e,s))return!0;for(let n=1;n<i.length;n++){const o=i[n];if(Zh(e,o)||yP(s,o,mP))return!0;s=o}}return!1}const ii=[0,0];function iz(e){for(let t=0;t<e.length;t++){const r=e[t];for(let s=0;s<r.length-1;s++){const n=r[s],o=r[s+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],u=e[a][l+1];if(J_(n,o,c,u,ii)&&!(ii[0]===n[0]&&ii[1]===n[1]||ii[0]===c[0]&&ii[1]===c[1]||ii[0]===o[0]&&ii[1]===o[1]||ii[0]===u[0]&&ii[1]===u[1]))return!0}}const i=r.length;if(!(i<=4))for(let s=0;s<i-3;s++){let n=i-1;s===0&&(n=i-2);const o=r[s],a=r[s+1];for(let l=s+2;l<n;l++){const c=r[l],u=r[l+1];if(J_(o,a,c,u,ii)&&!(ii[0]===o[0]&&ii[1]===o[1]||ii[0]===c[0]&&ii[1]===c[1]||ii[0]===a[0]&&ii[1]===a[1]||ii[0]===u[0]&&ii[1]===u[1]))return!0}}}return!1}function yP(e,t,r){for(let i=0;i<r.length;i++)if(J_(e,t,r[i][0],r[i][1]))return!0;return!1}function J_(e,t,r,i,s){const[n,o]=e,[a,l]=t,[c,u]=r,[d,p]=i,y=d-c,v=n-c,b=a-n,S=p-u,w=o-u,T=l-o,x=S*b-y*T;if(x===0)return!1;const _=(y*w-S*v)/x,$=(b*w-T*v)/x;return _>=0&&_<=1&&$>=0&&$<=1&&(s&&(s[0]=n+_*(a-n),s[1]=o+_*(l-o)),!0)}function sz(e){switch(e){case"esriGeometryEnvelope":case"extent":return Zq;case"esriGeometryMultipoint":case"multipoint":return Xq;case"esriGeometryPoint":case"point":return Kq;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return ez;case"esriGeometryPolyline":case"polyline":return rz}}var An;function nz(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Ba(e,t,r){return t==null?r:r==null?t:e(t,r)}let mt=An=class extends Ti{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,i,s){return nz(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Ge.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:i,spatialReference:s??Ge.WGS84}}static fromPoint(e){return new An({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new ut({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new An;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&w0(t,r)&&(e=t.isWebMercator?o2(e):xy(e,!0)),e.type==="point"?dP(this,e):e.type==="extent"&&zq(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&w0(t,r)&&(e=t.isWebMercator?o2(e):xy(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,i=this.height*t;if(this.xmin+=r,this.ymin+=i,this.xmax-=r,this.ymax-=i,this.hasZ){const s=(this.zmax-this.zmin)*t;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*t;this.mmin+=s,this.mmax-=s}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!iu(t,r)&&w0(t,r)&&(e=t.isWebMercator?o2(e):xy(e,!0)),sz(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ba(Math.min,this.zmin,e.zmin),this.zmax=Ba(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ba(Math.min,this.mmin,e.mmin),this.mmax=Ba(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ba(Math.max,this.zmin,e.zmin),this.zmax=Ba(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ba(Math.max,this.mmin,e.mmin),this.mmax=Ba(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=qd(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const i=t.isWebMercator?xy(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(i.x=c2(i.x,e).x),this.spatialReference=new Ge(m5((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null;const[r,i]=e.valid,s=this.xmin,n=this.xmax;return s>=r&&s<=i&&n>=r&&n<=i||(t=this.center),t}_normalize(e,t,r){const i=this.spatialReference;if(!i)return this;const s=r??qd(i);if(s==null)return this;const n=this._getParts(s).map(l=>l.extent);if(n.length<2)return n[0]||this;if(n.length>2)return e?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(e)return this._shiftCM(s);if(t)return n;let o=!0,a=!0;return n.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:n.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const u=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(u)}if(a){const u=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(u)}return c}),hasZ:o,hasM:a,spatialReference:i}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:s,ymax:n,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let u;e=e||qd(o);const[d,p]=e.valid;u=c2(this.xmin,e);const y=u.x,v=u.frameId;u=c2(this.xmax,e);const b=u.x,S=u.frameId,w=y===b&&a>0;if(a>2*p){const T=new An(l<c?y:b,s,p,n,o),x=new An(d,s,l<c?b:y,n,o),_=new An(0,s,p,n,o),$=new An(d,s,0,n,o),M=[],N=[];T.contains(_)&&M.push(v),T.contains($)&&N.push(v),x.contains(_)&&M.push(S),x.contains($)&&N.push(S);for(let C=v+1;C<S;C++)M.push(C),N.push(C);t.push({extent:T,frameIds:[v]},{extent:x,frameIds:[S]},{extent:_,frameIds:M},{extent:$,frameIds:N})}else y>b||w?t.push({extent:new An(y,s,p,n,o),frameIds:[v]},{extent:new An(d,s,b,n,o),frameIds:[S]}):t.push({extent:new An(y,s,b,n,o),frameIds:[v]});this.cache._parts=t}const r=this.hasZ,i=this.hasM;if(r||i){const s={};r&&(s.zmin=this.zmin,s.zmax=this.zmax),i&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(s)}return t}};function c2(e,t){const[r,i]=t.valid,s=2*i;let n,o=0;return e>i?(n=Math.ceil(Math.abs(e-i)/s),e-=n*s,o=n):e<r&&(n=Math.ceil(Math.abs(e-r)/s),e+=n*s,o=-n),{x:e,frameId:o}}g([A({readOnly:!0})],mt.prototype,"cache",null),g([A({readOnly:!0})],mt.prototype,"center",null),g([A({readOnly:!0})],mt.prototype,"extent",null),g([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],mt.prototype,"hasM",null),g([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],mt.prototype,"hasZ",null),g([A({readOnly:!0})],mt.prototype,"height",null),g([A({readOnly:!0})],mt.prototype,"width",null),g([A({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],mt.prototype,"xmin",void 0),g([A({type:Number,json:{write:!0}})],mt.prototype,"ymin",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},read:e=>e??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],mt.prototype,"mmin",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],mt.prototype,"zmin",void 0),g([A({type:Number,json:{write:!0}})],mt.prototype,"xmax",void 0),g([A({type:Number,json:{write:!0}})],mt.prototype,"ymax",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},read:e=>e??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],mt.prototype,"mmax",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],mt.prototype,"zmax",void 0),mt=An=g([ie("esri.geometry.Extent")],mt),mt.prototype.toJSON.isDefaultToJSON=!0;function Lf(e=cz){return[e[0],e[1],e[2],e[3]]}function gP(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function oz(e,t,r,i,s=Lf()){return s[0]=e,s[1]=t,s[2]=r,s[3]=i,s}function Qwe(e,t=Lf()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function exe(e,t,r=new mt){return r.xmin=e[0],r.ymin=e[1],r.xmax=e[2],r.ymax=e[3],r.spatialReference=t,r}function an(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function az(e,t){t<e[0]&&(e[0]=t),t>e[2]&&(e[2]=t)}function lz(e,t){t<e[1]&&(e[1]=t),t>e[3]&&(e[3]=t)}function txe(e,t,r){if(t!=null)if("length"in t)Z_(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else gP(r,e)}function rxe(e,t,r=e){const i=t.length;let s=e[0],n=e[1],o=e[2],a=e[3];for(let l=0;l<i;l++){const c=t[l];s=Math.min(s,c[0]),n=Math.min(n,c[1]),o=Math.max(o,c[0]),a=Math.max(a,c[1])}return r[0]=s,r[1]=n,r[2]=o,r[3]=a,r}function ixe(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function vP(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function bP(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function sxe(e){return vP(e)*bP(e)}function nxe(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function oxe(e){const t=vP(e),r=bP(e);return Math.sqrt(t*t+r*r)}function axe(e,t){return!!e&&K_(e,t.x,t.y)}function K_(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function lxe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function cxe(e,t,r){return Math.max(t[0],e[0])-r<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-r<=Math.min(t[3],e[3])}function uxe(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function hxe(e,t,r,i){return i??=e,i[0]=e[0]+t,i[1]=e[1]+r,i[2]=e[2]+t,i[3]=e[3]+r,i}function fxe(e,t,r=e){return r[0]=e[0]-t,r[1]=e[1]-t,r[2]=e[2]+t,r[3]=e[3]+t,r}function dxe(e){return e?gP(e,J$):Lf(J$)}function Z_(e){return e!=null&&e.length===4}function pxe(e,t){return Z_(e)&&Z_(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const J$=[1/0,1/0,-1/0,-1/0],cz=[0,0,0,0];let pE=1e-6;function I1(){return pE}function uz(e){pE=e}const _P=Math.random,hz=Math.PI/180,fz=180/Math.PI;function dz(e){return e*hz}function pz(e){return e*fz}function mz(e,t){return Math.abs(e-t)<=pE*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:_P,equals:mz,getEpsilon:I1,setEpsilon:uz,toDegree:pz,toRadian:dz},Symbol.toStringTag,{value:"Module"}));function yz(e,t){return e[0]=t[0],e[1]=t[1],e}function gz(e,t,r){return e[0]=t,e[1]=r,e}function vz(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function wP(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function xP(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function SP(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function bz(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function _z(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function wz(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function xz(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function Sz(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function Ez(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function Az(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e}function EP(e,t){const r=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(r*r+i*i)}function mE(e,t){const r=t[0]-e[0],i=t[1]-e[1];return r*r+i*i}function AP(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function TP(e){const t=e[0],r=e[1];return t*t+r*r}function Tz(e,t){return e[0]=-t[0],e[1]=-t[1],e}function $z(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function Mz(e,t){const r=t[0],i=t[1];let s=r*r+i*i;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s),e}function Iz(e,t){return e[0]*t[0]+e[1]*t[1]}function Oz(e,t,r){const i=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=i,e}function Cz(e,t,r,i){const s=t[0],n=t[1];return e[0]=s+i*(r[0]-s),e[1]=n+i*(r[1]-n),e}function Pz(e,t=1){const r=2*_P()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function Nz(e,t,r){const i=t[0],s=t[1];return e[0]=r[0]*i+r[2]*s,e[1]=r[1]*i+r[3]*s,e}function Lz(e,t,r){const i=t[0],s=t[1];return e[0]=r[0]*i+r[2]*s+r[4],e[1]=r[1]*i+r[3]*s+r[5],e}function S0(e,t,r){const i=t[0],s=t[1];return e[0]=r[0]*i+r[3]*s+r[6],e[1]=r[1]*i+r[4]*s+r[7],e}function kz(e,t,r){const i=t[0],s=t[1];return e[0]=r[0]*i+r[4]*s+r[12],e[1]=r[1]*i+r[5]*s+r[13],e}function Rz(e,t,r,i){const s=t[0]-r[0],n=t[1]-r[1],o=Math.sin(i),a=Math.cos(i);return e[0]=s*a-n*o+r[0],e[1]=s*o+n*a+r[1],e}function Dz(e,t){const r=e[0],i=e[1],s=t[0],n=t[1];let o=r*r+i*i;o>0&&(o=1/Math.sqrt(o));let a=s*s+n*n;a>0&&(a=1/Math.sqrt(a));const l=(r*s+i*n)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function Fz(e){return"vec2("+e[0]+", "+e[1]+")"}function Uz(e,t){return e[0]===t[0]&&e[1]===t[1]}function jz(e,t){const r=e[0],i=e[1],s=t[0],n=t[1],o=I1();return Math.abs(r-s)<=o*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-n)<=o*Math.max(1,Math.abs(i),Math.abs(n))}function Bz(e,t,r,i,s){let n=t[0]-r[0],o=t[1]-r[1];const a=(i[0]*n+i[1]*o)*(s-1);return n=i[0]*a,o=i[1]*a,e[0]=t[0]+n,e[1]=t[1]+o,e}const Vz=AP,Gz=wP,qz=xP,zz=SP,Hz=EP,Wz=mE,Yz=TP;Object.freeze(Object.defineProperty({__proto__:null,add:vz,angle:Dz,ceil:bz,copy:yz,cross:Oz,dist:Hz,distance:EP,div:zz,divide:SP,dot:Iz,equals:jz,exactEquals:Uz,floor:_z,inverse:$z,len:Vz,length:AP,lerp:Cz,max:xz,min:wz,mul:qz,multiply:xP,negate:Tz,normalize:Mz,projectAndScale:Bz,random:Pz,rotate:Rz,round:Sz,scale:Ez,scaleAndAdd:Az,set:gz,sqrDist:Wz,sqrLen:Yz,squaredDistance:mE,squaredLength:TP,str:Fz,sub:Gz,subtract:wP,transformMat2:Nz,transformMat2d:Lz,transformMat3:S0,transformMat4:kz},Symbol.toStringTag,{value:"Module"}));function ya(e,t,r,i){return e[0]=t[0]*(1-i)+r[0]*i,e[1]=t[1]*(1-i)+r[1]*i,e}function Ji(e,t){return mE(e,t)}function mxe(e,t,r){const i=Ji(t,r);if(i===0)return Ji(t,e);const s=(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0]);return s*s/i}function Jz(e,t,r,i,s){const[n,o]=t,[a,l]=r,[c,u]=i,[d,p]=s,y=(n-a)*(u-p)-(o-l)*(c-d);if(y===0)return null;const v=(n*l-o*a)*(c-d)-(n-a)*(c*p-u*d),b=(n*l-o*a)*(u-p)-(o-l)*(c*p-u*d);return e[0]=v/y,e[1]=b/y,e}const Nn=2*Math.PI;function Vc(e,t){const r=Math.atan2(e,t);return r<0?r+Nn:r}function $P(e){return Math.abs(e)%Nn}function K$(e){const t=$P(e);return t<Math.PI?t:Nn-t}function O1(e,t){return{min:Math.min(e,t),max:Math.max(e,t)}}function MP(e,t,r,i){if(El($P(e-t),0))return r?[e,e]:[e,i?e-Nn:e+Nn];const[s,n]=i?[e-Nn,e]:[e,e+Nn];return[e,Lm({min:s,max:n},t)]}function Lm({min:e,max:t},r){let i;return i=t-r,i>=Nn?(i-=i%Nn,r+i):(i=r-e,i>=Nn?(i-=i%Nn,r-i):r)}function Kz(e,t){const r=Lm(e,t);return r>e.min&&r<e.max?r:K$(r-e.min)<K$(r-e.max)?e.min:e.max}function IP(e,t,r,i=10){return t.map(s=>{let n=s;for(let o=0;o<i;o++){const[a,l,c,u,d,p]=r(n),y=e[0]-a,v=e[1]-l,b=-c,S=-u;n+=-(2*y*b+2*v*S)/(2*b*b+2*y*-d+2*S*S+2*v*-p||1e-6)}return n})}const Zz=[0,0];function OP(e){const t=1-e,r=t*t,i=e*e;return[r*t,3*e*r,3*i*t,i*e]}function X_(e,t,r,i,s){const[n,o,a,l]=OP(s);return[e[0]*n+t[0]*o+r[0]*a+i[0]*l,e[1]*n+t[1]*o+r[1]*a+i[1]*l]}function Z$(e,t,r,i,s){const[n,o,a,l]=OP(s);return e*n+t*o+r*a+i*l}function yxe(e,t,r){const i=e,[s,n,o]=t.b;return X_(i,n,o,s,r)}function Xz(e,t,r){const i=e,[s,n,o]=t.b,a=ya([0,0],i,n,r),l=ya(Zz,n,o,r),c=ya([0,0],o,s,r),u=ya([0,0],a,l,r),d=ya([0,0],l,c,r);return[{b:[ya([],u,d,r),a,u]},{b:[[...s],d,c]}]}function gxe(e,t,r){const i=e,[s,n,o]=t.b,a=IP(r,[.1,.5,.9],d=>{const p=1-d,[y,v]=X_(i,n,o,s,d);return[y,v,3*p*p*(n[0]-i[0])+6*p*d*(o[0]-n[0])+3*d*d*(s[0]-o[0]),3*p*p*(n[1]-i[1])+6*p*d*(o[1]-n[1])+3*d*d*(s[1]-o[1]),6*p*(o[0]-2*n[0]+i[0])+6*d*(s[0]-2*o[0]+n[0]),6*p*(o[1]-2*n[1]+i[1])+6*d*(s[1]-2*o[1]+n[1])]}).map(d=>Math.min(1,Math.max(0,d)));a.push(0,1);let l=1/0;const c=a.map(d=>{const p=X_(i,n,o,s,d),[y,v]=p,b=r[0]-y,S=r[1]-v,w=Math.sqrt(b*b+S*S);return l=Math.min(w,l),{t:d,curvePoint:p,distance:w}}),u=[];for(const d of c){const{t:p,distance:y}=d;XC(y,l)&&!u.some(({t:v})=>El(v,p))&&u.push(d)}return u}function Qz(e,t,r){const i=t,[s,n,o]=r.b;if(an(e,i),an(e,s),K_(e,n[0],n[1])&&K_(e,o[0],o[1]))return e;for(const a of X$(i[0],n[0],o[0],s[0]))a>0&&a<1&&az(e,Z$(i[0],n[0],o[0],s[0],a));for(const a of X$(i[1],n[1],o[1],s[1]))a>0&&a<1&&lz(e,Z$(i[1],n[1],o[1],s[1],a));return e}function X$(e,t,r,i){const s=3*(3*(t-r)-e+i),n=6*(e-2*t+r),o=3*(t-e);if(s===0)return n!==0?[-o/n]:[];const a=Math.sqrt(n*n-4*s*o);return[(-n+a)/(2*s),(-n-a)/(2*s)]}function vxe(e,t,r){let s=0,n=[t];for(let o=0;o<16;o++){let a=e;const l=[];for(const u of n)l.push(...Xz(a,u,.5)),a=u.b[0];n=l,a=e,s=0;let c=0;for(const u of n){const[d,p,y]=u.b,v=Math.sqrt(Ji(a,d));s+=(v+(Math.sqrt(Ji(a,p))+Math.sqrt(Ji(p,y))+Math.sqrt(Ji(y,d))))/2,c+=v,a=d}if(s-c<r)return s}return s}function eH(e,t,r){const[i,s]=e,[n,o]=t,[a,l]=r,[c,u]=[n-i,o-s];let d=c*(a-i)+u*(l-s);d/=c**2+u**2,d=$m(d,0,1);const p=ya([0,0],e,t,d);return{t:d,curvePoint:p,distance:Math.sqrt(Ji(p,r))}}let CP=class{constructor(t,r,i,s,n,o){this.cx=t,this.cy=r,this.radius=i,this.thetaStart=s,this.thetaEnd=n,this.isInvalid=o}get startPoint(){const{cx:t,cy:r,radius:i,thetaStart:s}=this;return[t+i*Math.cos(s),r+i*Math.sin(s)]}get endPoint(){const{cx:t,cy:r,radius:i,thetaEnd:s}=this;return[t+i*Math.cos(s),r+i*Math.sin(s)]}};function Dg(e,t){const{cx:r,cy:i,radius:s}=e;return[r+s*Math.cos(t),i+s*Math.sin(t)]}function E0(e,t){if(e.isInvalid)return ya([0,0],e.startPoint,e.endPoint,t);const{thetaStart:r,thetaEnd:i}=e;return Dg(e,r*(1-t)+i*t)}function _xe(e,t){if(e.isInvalid)return eH(e.startPoint,e.endPoint,t);const{cx:r,cy:i,thetaStart:s,thetaEnd:n}=e,[o,a]=t,l=Kz(O1(s,n),Math.atan2(a-i,o-r)),c=Dg(e,l);return{t:(l-s)/(n-s),curvePoint:c,distance:Math.sqrt(Ji(t,c))}}function Q$(e,t){if(t.isInvalid)return an(e,t.startPoint),an(e,t.endPoint),e;const{cx:r,cy:i,radius:s,thetaStart:n,thetaEnd:o}=t;an(e,Dg(t,n)),an(e,Dg(t,o));const a=O1(n,o),l=Math.PI/2;let c=0;for(const u of[[r+s,i],[r,i+s],[r-s,i],[r,i-s]])c=Lm(a,c),c>a.min&&c<a.max&&an(e,u),c+=l;return e}function wxe(e){if(e.isInvalid)return 2*e.radius;const{radius:t,thetaStart:r,thetaEnd:i}=e;return t*Math.abs(i-r)}function tH(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function rH(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function zd(e,t,r,i,s,n,o,a,l,c){return e[0]=t,e[1]=r,e[2]=i,e[3]=s,e[4]=n,e[5]=o,e[6]=a,e[7]=l,e[8]=c,e}function iH(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function PP(e,t){if(e===t){const r=t[1],i=t[2],s=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=i,e[7]=s}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function NP(e,t){const r=t[0],i=t[1],s=t[2],n=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=u*o-a*c,p=-u*n+a*l,y=c*n-o*l;let v=r*d+i*p+s*y;return v?(v=1/v,e[0]=d*v,e[1]=(-u*i+s*c)*v,e[2]=(a*i-s*o)*v,e[3]=p*v,e[4]=(u*r-s*l)*v,e[5]=(-a*r+s*n)*v,e[6]=y*v,e[7]=(-c*r+i*l)*v,e[8]=(o*r-i*n)*v,e):null}function sH(e,t){const r=t[0],i=t[1],s=t[2],n=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8];return e[0]=o*u-a*c,e[1]=s*c-i*u,e[2]=i*a-s*o,e[3]=a*l-n*u,e[4]=r*u-s*l,e[5]=s*n-r*a,e[6]=n*c-o*l,e[7]=i*l-r*c,e[8]=r*o-i*n,e}function A0(e){const t=e[0],r=e[1],i=e[2],s=e[3],n=e[4],o=e[5],a=e[6],l=e[7],c=e[8];return t*(c*n-o*l)+r*(-c*s+o*a)+i*(l*s-n*a)}function Fg(e,t,r){const i=t[0],s=t[1],n=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],p=r[0],y=r[1],v=r[2],b=r[3],S=r[4],w=r[5],T=r[6],x=r[7],_=r[8];return e[0]=p*i+y*o+v*c,e[1]=p*s+y*a+v*u,e[2]=p*n+y*l+v*d,e[3]=b*i+S*o+w*c,e[4]=b*s+S*a+w*u,e[5]=b*n+S*l+w*d,e[6]=T*i+x*o+_*c,e[7]=T*s+x*a+_*u,e[8]=T*n+x*l+_*d,e}function nH(e,t,r){const i=t[0],s=t[1],n=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],p=r[0],y=r[1];return e[0]=i,e[1]=s,e[2]=n,e[3]=o,e[4]=a,e[5]=l,e[6]=p*i+y*o+c,e[7]=p*s+y*a+u,e[8]=p*n+y*l+d,e}function oH(e,t,r){const i=t[0],s=t[1],n=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],p=Math.sin(r),y=Math.cos(r);return e[0]=y*i+p*o,e[1]=y*s+p*a,e[2]=y*n+p*l,e[3]=y*o-p*i,e[4]=y*a-p*s,e[5]=y*l-p*n,e[6]=c,e[7]=u,e[8]=d,e}function aH(e,t,r){const i=r[0],s=r[1],n=r[2];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=s*t[3],e[4]=s*t[4],e[5]=s*t[5],e[6]=n*t[6],e[7]=n*t[7],e[8]=n*t[8],e}function lH(e,t,r){const i=r[0],s=r[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=s*t[3],e[4]=s*t[4],e[5]=s*t[5],e}function cH(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function uH(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=-r,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function hH(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function fH(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function dH(e,t){const r=t[0],i=t[1],s=t[2],n=t[3],o=r+r,a=i+i,l=s+s,c=r*o,u=i*o,d=i*a,p=s*o,y=s*a,v=s*l,b=n*o,S=n*a,w=n*l;return e[0]=1-d-v,e[3]=u-w,e[6]=p+S,e[1]=u+w,e[4]=1-c-v,e[7]=y-b,e[2]=p-S,e[5]=y+b,e[8]=1-c-d,e}function pH(e,t){const r=t[0],i=t[1],s=t[2],n=t[4],o=t[5],a=t[6],l=t[8],c=t[9],u=t[10],d=u*o-a*c,p=-u*n+a*l,y=c*n-o*l,v=r*d+i*p+s*y;if(!v)return null;const b=1/v;return e[0]=d*b,e[1]=(-u*i+s*c)*b,e[2]=(a*i-s*o)*b,e[3]=p*b,e[4]=(u*r-s*l)*b,e[5]=(-a*r+s*n)*b,e[6]=y*b,e[7]=(-c*r+i*l)*b,e[8]=(o*r-i*n)*b,e}function mH(e,t){const r=t[0],i=t[1],s=t[2],n=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],p=t[10],y=t[11],v=t[12],b=t[13],S=t[14],w=t[15],T=r*a-i*o,x=r*l-s*o,_=r*c-n*o,$=i*l-s*a,M=i*c-n*a,N=s*c-n*l,C=u*b-d*v,P=u*S-p*v,k=u*w-y*v,V=d*S-p*b,U=d*w-y*b,j=p*w-y*S;let Y=T*j-x*U+_*V+$*k-M*P+N*C;return Y?(Y=1/Y,e[0]=(a*j-l*U+c*V)*Y,e[1]=(l*k-o*j-c*P)*Y,e[2]=(o*U-a*k+c*C)*Y,e[3]=(s*U-i*j-n*V)*Y,e[4]=(r*j-s*k+n*P)*Y,e[5]=(i*k-r*U-n*C)*Y,e[6]=(b*N-S*M+w*$)*Y,e[7]=(S*_-v*N-w*x)*Y,e[8]=(v*M-b*_+w*T)*Y,e):null}function yH(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function gH(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function vH(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function bH(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function LP(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function _H(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function wH(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e}function xH(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function SH(e,t){const r=e[0],i=e[1],s=e[2],n=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=t[0],p=t[1],y=t[2],v=t[3],b=t[4],S=t[5],w=t[6],T=t[7],x=t[8],_=I1();return Math.abs(r-d)<=_*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-p)<=_*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(s-y)<=_*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(n-v)<=_*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(o-b)<=_*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-S)<=_*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(l-w)<=_*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(c-T)<=_*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(u-x)<=_*Math.max(1,Math.abs(u),Math.abs(x))}function EH(e){const t=I1(),r=e[0],i=e[1],s=e[2],n=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return Math.abs(1-(r*r+n*n+l*l))<=t&&Math.abs(1-(i*i+o*o+c*c))<=t&&Math.abs(1-(s*s+a*a+u*u))<=t}const AH=Fg,TH=LP;Object.freeze(Object.defineProperty({__proto__:null,add:bH,adjoint:sH,copy:rH,determinant:A0,equals:SH,exactEquals:xH,frob:vH,fromMat2d:fH,fromMat4:tH,fromQuat:dH,fromRotation:uH,fromScaling:hH,fromTranslation:cH,identity:iH,invert:NP,isOrthoNormal:EH,mul:AH,multiply:Fg,multiplyScalar:_H,multiplyScalarAndAdd:wH,normalFromMat4:mH,normalFromMat4Legacy:pH,projection:yH,rotate:oH,scale:aH,scaleByVec2:lH,set:zd,str:gH,sub:TH,subtract:LP,translate:nH,transpose:PP},Symbol.toStringTag,{value:"Module"}));function wu(){return[1,0,0,0,1,0,0,0,1]}function $H(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function MH(e,t,r,i,s,n,o,a,l){return[e,t,r,i,s,n,o,a,l]}const IH=wu();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:IH,clone:$H,create:wu,fromValues:MH},Symbol.toStringTag,{value:"Module"}));const Du=wu();function OH(e,t,r){const[i,s]=e,[n,o]=t,[a,l]=r;zd(Du,i,n,a,s,o,l,1,1,1);const c=A0(Du),u=4*c/(Ji(e,t)+Ji(t,r)+Ji(r,e));if(!isFinite(u)||Math.abs(u)<1e-8)return null;const d=i**2+s**2,p=n**2+o**2,y=a**2+l**2;zd(Du,d,p,y,s,o,l,1,1,1);const v=A0(Du);return zd(Du,d,p,y,i,n,a,1,1,1),[v/c*.5,A0(Du)/c*-.5]}function kP(e,t){const[r,i]=t.c,s=OH(e,i,r),n=s==null,o=s??ya([],e,r,.5),[a,l]=e,[c,u]=i,[d,p]=r,[y,v]=o,b=a-y,S=l-v,w=Math.sqrt(b*b+S*S),T=Vc(l-v,a-y),x=Vc(u-v,c-y);let _=Vc(p-v,d-y);return(x-T)*(_-x)<0&&(_+=2*Math.sign(T-_)*Math.PI),new CP(y,v,w,T,_,n)}function xxe(e,t,r){const i=E0(e,r/2),s=E0(e,r),n=E0(e,(r+1)/2);return[{c:[s,i]},{c:[[...t.c[0]],n]}]}function Sxe(e,t){const[r]=t.c,{cx:i,cy:s,thetaStart:n,thetaEnd:o,radius:a,isInvalid:l}=kP(e,t);return{a:[r,[i,s],Math.abs(o-n)<Math.PI?1:0,n>o?1:0,l?n:0,a,l?0:1]}}function Exe(e){return"curveRings"in e&&!!e.curveRings?.length||"curvePaths"in e&&!!e.curvePaths?.length}function Axe(e){return"curveRings"in e?e.curveRings:e.curvePaths}function yE(e){return"b"in e}function gE(e){return"c"in e}function C1(e){return Array.isArray(e)}function Txe(e){return"a"in e}function RP(e){return"a"in e&&e.a.length===4}function CH(e){return"a"in e&&e.a.length===7}function u2(e){return C1(e)?e:yE(e)?e.b[0]:gE(e)?e.c[0]:e.a[0]}function PH(e){if(yE(e)){const[t,r,i]=e.b;return{b:[[...t],[...r],[...i]]}}if(gE(e)){const[t,r]=e.c;return{c:[[...t],[...r]]}}if(C1(e))return[...e];if(RP(e)){const[t,r,i,s]=e.a;return{a:[[...t],[...r],i,s]}}if(CH(e)){const[t,r,i,s,n,o,a]=e.a;return{a:[[...t],[...r],i,s,n,o,a]}}return e}function NH(e,t){const[r,i,s,n]=t.a,[o,a]=e,[l,c]=r,[u,d]=i,p=o-u,y=a-d,v=Math.sqrt(p*p+y*y),b=l-u,S=c-d,w=Math.sqrt(b*b+S*S),T=v===0||w===0||!XC(v,w),x=v,[_,$]=MP(Vc(a-d,o-u),Math.atan2(c-d,l-u),s,n);return new CP(u,d,x,_,$,T)}function $xe(e,t,r){const{cx:i,cy:s,thetaStart:n,thetaEnd:o}=e,[a,l,c,u]=t.a,d=n*(1-r)+o*r;return[{a:[E0(e,r),[i,s],Math.abs(d-n)<Math.PI?1:0,u]},{a:[[...a],[i,s],Math.abs(o-d)<Math.PI?1:0,u]}]}let LH=class{constructor(t,r,i,s,n,o,a,l,c){this.cx=t,this.cy=r,this.a=i,this.b=s,this.cosR=n,this.sinR=o,this.u1=a,this.u2=l,this.isInvalid=c}};function vE(e,t){const[r,i,s,n,o,a,l]=t.a,[c,u]=e,[d,p]=r,[y,v]=i,b=a*l,S=Math.cos(o),w=Math.sin(o),[T,x]=MP(Vc(1/b*(u-v)*S-1/b*(c-y)*w,1/a*(u-v)*w+1/a*(c-y)*S),Math.atan2(1/b*(p-v)*S-1/b*(d-y)*w,1/a*(p-v)*w+1/a*(d-y)*S),s,n);return new LH(y,v,a,b,S,w,T,x,a===0||b===0)}function Fp(e,t){const{a:r,b:i,cosR:s,sinR:n,cx:o,cy:a}=e,l=Math.cos(t),c=Math.sin(t);return[r*l*s-i*c*n+o,r*l*n+i*c*s+a]}function Ku(e,t){const{u1:r,u2:i}=e;return Fp(e,r*(1-t)+i*t)}function Ixe(e,t,r){if(r<0||r>1)return[];if(r===0||r===1)return[PH(t)];const[i,[s,n],o,a,l,c,u]=t.a,{u1:d,u2:p}=e,y=d*(1-r)+p*r;return[{a:[[...Ku(e,r)],[s,n],Math.abs(y-d)<Math.PI?1:0,a,l,c,u]},{a:[[...i],[s,n],Math.abs(p-y)<Math.PI?1:0,a,l,c,u]}]}function Oxe(e,t){const{a:r,b:i,cosR:s,sinR:n,u1:o,u2:a}=e,l=Math.PI/6,c=IP(t,[1*l,2*l,4*l,5*l,7*l,8*l,10*l,11*l],b=>{const S=Math.cos(b),w=Math.sin(b),[T,x]=Fp(e,b);return[T,x,-r*s*w-i*n*S,-r*n*w+i*s*S,-r*s*S+i*n*w,-r*n*S-i*s*w]}),u=O1(o,a),d=new Set(c.map(b=>Lm(u,b)).filter(b=>b>u.min&&b<u.max));d.add(o),d.add(a);let p,y,v=1/0;for(const b of d){const S=Fp(e,b),[w,T]=S,x=t[0]-w,_=t[1]-T,$=x*x+_*_;$<v&&(p=(b-o)/(a-o),y=S,v=$)}return{t:p,curvePoint:y,distance:Math.sqrt(v)}}function kH(e,t,r){const i=vE(t,r),{a:s,b:n,u1:o,u2:a,cosR:l,sinR:c,isInvalid:u}=i,d=r.a[0];if(an(e,t),an(e,d),u)return e;const p=Math.atan2(-n*c,s*l),y=p+Math.PI,v=Math.atan2(n*l,s*c),b=v+Math.PI,S=O1(o,a);for(const w of[p,y,v,b].map(T=>Lm(S,T)))w>S.min&&w<S.max&&an(e,Fp(i,w));return e}function Cxe(e,t,r){const[i,s,n,o,a,l,c]=t.a,u=vE(e,t),{u1:d,u2:p,isInvalid:y}=u,v=p-d;if(y)return Math.sqrt(Ji(e,i));const b=14,S=[0,0];let w=0,T=[Ku(u,0),Ku(u,.25),Ku(u,.5),Ku(u,.75),Ku(u,1)];for(let x=0;x<b;x++){const _=T.length-1,$=v/(2*_),M=[];for(let C=0;C<_;C++)M.push(T[C]),M.push(Fp(u,d+(2*C+1)*$));M.push(T[T.length-1]),T=M,w=0;let N=0;for(let C=1;C<T.length;C++){const P=T[C-1],k=T[C];if(w+=Math.sqrt(Ji(P,k)),C>1){const V=T[C-2],U=Jz(S,V,P,s,k);N+=U?Math.sqrt(Ji(P,U)):Math.abs(k[0]-P[0])+Math.abs(k[1]-P[1])}else N+=w}if(N-w<r)return w}return w}const e4=wu(),Sy=wu(),t4=wu(),Va=wu();function Pxe(e,t,r){const[i,s,n,o,a,l,c]=t.a,u=vE(e,t),{cosR:d,sinR:p,a:y,b:v,cx:b,cy:S}=u,w=S0([0,0],i,r),T=S0([0,0],s,r),x=r[0]*r[4]<0?1-o:o;{const _=y*y*p*p+v*v*d*d,$=2*(v*v-y*y)*p*d,M=y*y*d*d+v*v*p*p,N=-2*_*b-$*S,C=-$*b-2*M*S;zd(e4,_,$/2,N/2,$/2,M,C/2,N/2,C/2,_*b*b+$*b*S+M*S*S-y*y*v*v)}if(NP(Sy,r),Sy==null){const _=S0([0,0],e,r);return{a:[w,T,n,o,Vc(w[1],w[0]),Math.sqrt(Ji(w,_))/2,0]}}PP(t4,Sy),Fg(Va,Fg(Va,t4,e4),Sy);{const _=Va[0],$=2*Va[1],M=Va[4],N=2*Va[2],C=2*Va[5],P=$*$-4*_*M,k=2*(_*C*C+M*N*N-$*N*C+P*Va[8]),V=Math.sqrt((_-M)**2+$*$),U=-Math.sqrt(k*(_+M+V))/P,j=-Math.sqrt(k*(_+M-V))/P;return{a:[w,T,n,x,.5*Vc(-$,M-_),U,j/U]}}}function RH(e,t,r){if(C1(r))return an(e,t),an(e,r),e;if(yE(r))return Qz(e,t,r);if(gE(r)){const i=kP(t,r);return Q$(e,i)}if(RP(r)){const i=NH(t,r);return Q$(e,i)}return kH(e,t,r)}function DP(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function FP(e){return e.points!==void 0}function UP(e){return e.x!==void 0&&e.y!==void 0}function jP(e){return e.paths!==void 0}function BP(e){return e.rings!==void 0}function VP(e){function t(r,i){return r==null?i:i==null?r:e(r,i)}return t}const _l=VP(Math.min),wl=VP(Math.max);function Nxe(e,t){return jP(t)?Xh(e,t.curvePaths??t.paths,!1,!1)??e:BP(t)?Xh(e,t.curveRings??t.rings,!1,!1)??e:FP(t)?bE(e,t.points,!1,!1,!1,!1):DP(t)?GP(e,t):(UP(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function Lxe(e){let t,r,i,s;for(e.reset(),t=i=1/0,r=s=-1/0;e.nextPath();){const n=DH(e);t=Math.min(n[0],t),i=Math.min(n[1],i),r=Math.max(n[2],r),s=Math.max(n[3],s)}return Lf([t,i,r,s])}function DH(e){let t,r,i,s;for(t=i=1/0,r=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),i=Math.min(e.y,i),r=Math.max(e.x,r),s=Math.max(e.y,s);return Lf([t,i,r,s])}function kxe(e,t){return jP(t)?Xh(e,t.curvePaths??t.paths,!0,!1)??e:BP(t)?Xh(e,t.curveRings??t.rings,!0,!1)??e:FP(t)?bE(e,t.points,!0,!1,!0,!1):DP(t)?GP(e,t,!0,!1,!0,!1):(UP(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Xh(e,t,r,i){const s=r?3:2;if(!t.length||!t[0].length)return null;let n,o,a,l,[c,u]=u2(t[0][0]),d=c,p=u;for(let y=0;y<t.length;y++){const v=t[y];for(let b=0;b<v.length;b++){const S=u2(v[b]),[w,T]=S;if(c=_l(c,w),u=_l(u,T),d=wl(d,w),p=wl(p,T),r&&S.length>2){const M=S[2];n=_l(n,M),o=wl(o,M)}if(i&&S.length>s){const M=S[s];a=_l(n,M),l=wl(o,M)}const x=v[b];if(C1(x)||b<1)continue;const _=u2(v[b-1]),$=oz(c,u,d,p);[c,u,d,p]=RH($,_,x)}}return r?i?(e[0]=c,e[1]=u,e[2]=n,e[3]=a,e[4]=d,e[5]=p,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=u,e[2]=n,e[3]=d,e[4]=p,e[5]=o,e.length=6,e):i?(e[0]=c,e[1]=u,e[2]=a,e[3]=d,e[4]=p,e[5]=l,e.length=6,e):(e[0]=c,e[1]=u,e[2]=d,e[3]=p,e.length=4,e)}function GP(e,t,r,i,s,n){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let u=t.zmin,d=t.zmax,p=t.mmin,y=t.mmax;return s?(u=u||0,d=d||0,n?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=u,e[3]=p,e[4]=a,e[5]=c,e[6]=d,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=u,e[3]=a,e[4]=c,e[5]=d,e)):n?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=p,e[3]=a,e[4]=c,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function bE(e,t,r,i,s,n){const o=r?3:2,a=i&&n,l=r&&s;if(!t.length||!t[0].length)return null;let c,u,d,p,[y,v]=t[0],[b,S]=t[0];for(let w=0;w<t.length;w++){const T=t[w],[x,_]=T;if(y=_l(y,x),v=_l(v,_),b=wl(b,x),S=wl(S,_),l&&T.length>2){const $=T[2];c=_l(c,$),u=wl(u,$)}if(a&&T.length>o){const $=T[o];d=_l(c,$),p=wl(u,$)}}return s?(c=c||0,u=u||0,n?(d=d||0,p=p||0,e[0]=y,e[1]=v,e[2]=c,e[3]=d,e[4]=b,e[5]=S,e[6]=u,e[7]=p,e):(e[0]=y,e[1]=v,e[2]=c,e[3]=b,e[4]=S,e[5]=u,e)):n?(d=d||0,p=p||0,e[0]=y,e[1]=v,e[2]=d,e[3]=b,e[4]=S,e[5]=p,e):(e[0]=y,e[1]=v,e[2]=b,e[3]=S,e)}function FH(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function UH(e){return e.points!==void 0}function jH(e){return e.x!==void 0&&e.y!==void 0}function BH(e){return e.paths!==void 0}function VH(e){return e.rings!==void 0}const _E=[];function qP(e,t,r,i){return{xmin:e,ymin:t,xmax:r,ymax:i}}function zP(e,t,r,i,s,n){return{xmin:e,ymin:t,zmin:r,xmax:i,ymax:s,zmax:n}}function HP(e,t,r,i,s,n){return{xmin:e,ymin:t,mmin:r,xmax:i,ymax:s,mmax:n}}function WP(e,t,r,i,s,n,o,a){return{xmin:e,ymin:t,zmin:r,mmin:i,xmax:s,ymax:n,zmax:o,mmax:a}}function wE(e,t=!1,r=!1){return t?r?WP(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):zP(e[0],e[1],e[2],e[3],e[4],e[5]):r?HP(e[0],e[1],e[2],e[3],e[4],e[5]):qP(e[0],e[1],e[2],e[3])}function Rxe(e){return e?FH(e)?e:jH(e)?GH(e):VH(e)?JP(e):BH(e)?KP(e):UH(e)?YP(e):null:null}function YP(e){const{hasZ:t,hasM:r,points:i}=e,s=bE(_E,i,t??!1,r??!1,t??!1,r??!1);return s?wE(s,t,r):null}function GH(e){const{x:t,y:r,z:i,m:s}=e,n=s!=null;return i!=null?n?WP(t,r,i,s,t,r,i,s):zP(t,r,i,t,r,i):n?HP(t,r,s,t,r,s):qP(t,r,t,r)}function JP(e){const{hasZ:t,hasM:r,rings:i,curveRings:s}=e,n=Xh(_E,s??i,t??!1,r??!1);return n?wE(n,t,r):null}function KP(e){const{hasZ:t,hasM:r,paths:i,curvePaths:s}=e,n=Xh(_E,s??i,t??!1,r??!1);return n?wE(n,t,r):null}function Qh(e,t,r=!1){let{hasM:i,hasZ:s}=e;Array.isArray(t)?t.length!==4||i||s?t.length===3&&r&&!i?(s=!0,i=!1):t.length===3&&i&&s&&(i=!1,s=!1):(i=!0,s=!0):(s=!s&&t.hasZ&&(!i||t.hasM),i=!i&&t.hasM&&(!s||t.hasZ)),e.hasZ=s,e.hasM=i}var Q_;function qH(e){if(!e)return;let{points:t,hasM:r,hasZ:i,spatialReference:s}=e;switch(t??=[],t?.at(0)?.length){case 4:i??=!0,r??=!0;break;case 3:i??=r!==!0,r??=!i;break;default:i??=!1,r??=!1}return s??=Ge.WGS84,{...e,hasM:r,hasZ:i,points:t,spatialReference:s}}let Mn=Q_=class extends Ti{constructor(e){super(qH(e)),this.points=[],this.type="multipoint"}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=YP(this);return e?new mt({...e,spatialReference:this.spatialReference}):null}writePoints(e,t){t.points=ge(this.points)}clone(){const{points:e,spatialReference:t,hasM:r,hasZ:i}=this;return new Q_({points:ge(e),spatialReference:t.clone(),hasM:r,hasZ:i})}addPoint(e){return Qh(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(r.z=t[2],i=3),this.hasM&&(r.m=t[i]),new ut(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new ut(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Qh(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};g([A({readOnly:!0})],Mn.prototype,"cache",null),g([A({readOnly:!0})],Mn.prototype,"extent",null),g([A({type:[[Number]],json:{write:{isRequired:!0}}})],Mn.prototype,"points",void 0),g([Gt("points")],Mn.prototype,"writePoints",null),Mn=Q_=g([ie("esri.geometry.Multipoint")],Mn),Mn.prototype.toJSON.isDefaultToJSON=!0;function Dxe(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function zH(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}function Fxe(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,r=e.hasM;if(e.type==="point")return r&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:r?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.map(i=>[i]);if(e.type==="extent"){const i=e.clone().normalize();if(!i)return null;let s=!1,n=!1;return i.forEach(o=>{o.hasZ&&(s=!0),o.hasM&&(n=!0)}),i.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(s&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(n&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a})}return null}function P1(e,t){const r=t[0]-e[0],i=t[1]-e[1];if(e.length>2&&t.length>2){const s=e[2]-t[2];return Math.sqrt(r*r+i*i+s*s)}return Math.sqrt(r*r+i*i)}function ZP(e,t,r){const i=e[0]+r*(t[0]-e[0]),s=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[i,s,e[2]+r*(t[2]-e[2])]:[i,s]}function Uxe(e,t,r,i){return HH(e,t,r[i],r[i+1])}function HH(e,t,r,i){const[s,n]=t,[o,a]=r,[l,c]=i,u=l-o,d=c-a,p=u*u+d*d,y=(s-o)*u+(n-a)*d,v=Math.min(1,Math.max(0,y/p));return e[0]=o+u*v,e[1]=a+d*v,e}function jxe(e,t,r,i,s,n){let o=r,a=i,l=s-o,c=n-a;if(l!==0||c!==0){const u=((e-o)*l+(t-a)*c)/(l*l+c*c);u>1?(o=s,a=n):u>0&&(o+=l*u,a+=c*u)}return l=e-o,c=t-a,l*l+c*c}function XP(e,t){return ZP(e,t,.5)}function Bxe(e){const t=e.length;let r=0;for(let i=0;i<t-1;++i)r+=P1(e[i],e[i+1]);return r}function Vxe(e,t){if(t<=0)return e[0];const r=e.length;let i=0;for(let s=0;s<r-1;++s){const n=P1(e[s],e[s+1]);if(t-i<n){const o=(t-i)/n;return ZP(e[s],e[s+1],o)}i+=n}return e[r-1]}function QP(e,t=0,r=1){let i=0;const s=e.length;let n=e[0];for(let o=1;o<s;o++){const a=e[o];i+=(a[t]-n[t])*(a[r]+n[r]),n=a}if(eN(e)){const o=e[0];i+=(o[t]-n[t])*(o[r]+n[r])}return i>=0}function eN(e){const t=e.length;return t>0&&!c1(e[0],e[t-1])}function Gxe(e){"rings"in e&&(WH(e),YH(e))}function WH(e){if("rings"in e)for(const t of e.rings)eN(t)&&t.push(t[0].slice())}function YH(e){if(!("rings"in e)||e.rings.length===0||QP(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function qxe(e){return e.type!=="polygon"&&e.type!=="polyline"||JH(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function JH(e,t){const r=qd(t);if(!r)return;const i=r.valid[0],s=r.valid[1],n=s-i;for(const o of e){let a=1/0,l=-1/0;for(const u of o){const d=KH(u[0],i,s);a=Math.min(a,d),l=Math.max(l,d),u[0]=d}const c=l-a;n-c<c&&o.forEach(u=>{u[0]<0&&(u[0]+=n)})}}function KH(e,t,r){const i=r-t;return e<t?r-(t-e)%i:e>r?t+(e-t)%i:e}function zxe(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[r,i]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return r.length===i.length&&r.every((s,n)=>s.length===i[n].length)}function Hxe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function ZH(e){return QH(e.rings,e.hasZ??!1)}function XH(e){const t=ZH(e);if(!t)return null;const{hasZ:r,spatialReference:i}=e,[s,n,o]=t;return isNaN(s)||isNaN(n)||r&&isNaN(o)?null:{x:s,y:n,z:r?o:void 0,spatialReference:i}}function QH(e,t){if(!e?.length)return null;const r=[],i=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,o=e.length;n<o;n++){const a=tN(e[n],t,s);a&&i.push(a)}if(i.sort((n,o)=>{let a=n[2]-o[2];return a===0&&t&&(a=n[4]-o[4]),a}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],t&&(r[2]=i[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||t&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){const n=e[0]&&e[0].length?eW(e[0],t):null;if(!n)return null;r[0]=n[0],r[1]=n[1],t&&n.length>2&&(r[2]=n[2])}return r}function tN(e,t,r){let i=0,s=0,n=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,u=e.length&&t?e[0][2]:0;for(let p=0;p<e.length;p++){const y=e[p],v=e[(p+1)%e.length],[b,S,w]=y,T=b-l,x=S-c,[_,$,M]=v,N=_-l,C=$-c,P=T*C-N*x;if(o+=P,i+=(T+N)*P,s+=(x+C)*P,t&&y.length>2&&v.length>2){const k=w-u,V=M-u,U=T*V-N*k;n+=(k+V)*U,a+=U}b<r[0]&&(r[0]=b),b>r[1]&&(r[1]=b),S<r[2]&&(r[2]=S),S>r[3]&&(r[3]=S),t&&(w<r[4]&&(r[4]=w),w>r[5]&&(r[5]=w))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[i/(6*o)+l,s/(6*o)+c,o];return t&&(r[4]===r[5]||a===0?(d[3]=(r[4]+r[5])/2,d[4]=0):(d[3]=n/(6*a)+u,d[4]=a)),d}function Wxe(e,t){let r=0,i=0,s=0;e.nextPoint();const n=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[u,d]=l,p=u-n,y=d-o,[v,b]=c,S=v-n,w=b-o,T=p*w-S*y;s+=T,r+=(p+S)*T,i+=(y+w)*T,u<t[0]&&(t[0]=u),u>t[1]&&(t[1]=u),d<t[2]&&(t[2]=d),d>t[3]&&(t[3]=d)}return s>0&&(s*=-1),s?(s*=.5,[r/(6*s)+n,i/(6*s)+o,s]):null}function eW(e,t){const r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const u=e[l],d=e[l+1];if(u&&d){r[0]=u[0],r[1]=u[1],i[0]=d[0],i[1]=d[1],t&&u.length>2&&d.length>2&&(r[2]=u[2],i[2]=d[2]);const p=P1(r,i);if(p){s+=p;const y=XP(u,d);n+=p*y[0],o+=p*y[1],t&&y.length>2&&(a+=p*y[2])}}}return s>0?t?[n/s,o/s,a/s]:[n/s,o/s]:e.length?e[0]:null}function tW(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const i=[],s=[],n=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=tN(zH(e),e.hasZ,n);o&&s.push(o)}if(s.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),s.length&&(i[0]=s[0][0],i[1]=s[0][1],t&&(i[2]=s[0][3]),(i[0]<n[0]||i[0]>n[1]||i[1]<n[2]||i[1]>n[3]||t&&(i[2]<n[4]||i[2]>n[5]))&&(i.length=0)),!i.length){e.reset(),e.nextPath();const o=e.pathSize?rW(e):null;if(!o)return null;i[0]=o[0],i[1]=o[1],t&&o.length>2&&(i[2]=o[2])}return i}function rW(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,u=e.z;for(;e.nextPoint();){const d=e.x,p=e.y,y=e.z;r[0]=l,r[1]=c,i[0]=d,i[1]=p,t&&(r[2]=u,i[2]=y);const v=P1(r,i);if(v){s+=v;const b=XP(r,i);n+=v*b[0],o+=v*b[1],t&&b.length>2&&(a+=v*b[2])}l=d,c=p,u=y}}return s>0?t?[n/s,o/s,a/s]:[n/s,o/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const iW=1e-6;function Yxe(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<iW){const s=tW(e);return s?[s[0],s[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const i=[e.x,e.y];for(e.reset();e.nextPath();)nW(r,i,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=i[0],r[1]+=i[1],r}const sW=1/3;function nW(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const i=r.x,s=r.y;r.nextPoint();let n,o=r.x-i,a=r.y-s,l=0,c=0;for(;r.nextPoint();)l=r.x-i,c=r.y-s,n=.5*sW*(l*a-c*o),e[0]+=n*(o+l),e[1]+=n*(a+c),o=l,a=c;const u=r.getCurrentRingArea(),d=[i,s];return d[0]-=t[0],d[1]-=t[1],d[0]*=u,d[1]*=u,e[0]+=d[0],e[1]+=d[1],e}var T0;function r4(e){return!Array.isArray(e[0])}function oW(e){return typeof e[0]?.[0]=="number"}function aW(e){if(!e)return;let{rings:t,hasM:r,hasZ:i,spatialReference:s}=e;switch(t??=[],oW(t)&&(t=[t]),t[0]?.[0]?.length){case 4:i??=!0,r??=!0;break;case 3:i??=r!==!0,r??=!i;break;default:i??=!1,r??=!1}return s??=Ge.WGS84,{...e,hasM:r,hasZ:i,rings:t,spatialReference:s}}let ni=T0=class extends Ti{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:r}=e;let i=!1,s=!1;for(const o of t)o.hasZ&&(i=!0),o.hasM&&(s=!0);const n={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(s&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:r};return i&&(n.hasZ=!0),s&&(n.hasM=!0),new T0(n)}constructor(e){super(aW(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){v$(Ft.getLogger(this),"centroid",{replacement:"Please use centroidOperator.execute() instead.",version:"4.34",warnOnce:!0});const e=XH(this);return e?ut.fromJSON(e):null}writeCurveRings(e,t){t.curveRings=ge(e)}get extent(){const e=JP(this),{spatialReference:t}=this;return e?new mt({...e,spatialReference:t}):null}get isSelfIntersecting(){return v$(Ft.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),iz(this.rings)}writeRings(e,t){t.rings=ge(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(r4(e)){const i=[];for(let s=0,n=e.length;s<n;s++)i[s]=e[s].toArray();t[r]=i}else t[r]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new T0;return e.spatialReference=this.spatialReference,e.rings=ge(this.rings),e.curveRings=ge(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const i=([s,n,o,a],[l,c,u,d])=>s===l&&n===c&&(o==null&&u==null||o===u)&&(a==null&&d==null||a===d);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],o=e.rings[s];if(!c1(n,o,i))return!1}return!0}contains(e){if(!e)return!1;const t=uP(e,this.spatialReference);return Wq(this,t??e)}isClockwise(e){const t=r4(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e;return QP(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],i=this.hasZ,s=this.hasM;return i&&!s?new ut(r[0],r[1],r[2],void 0,this.spatialReference):s&&!i?new ut(r[0],r[1],void 0,r[2],this.spatialReference):i&&s?new ut(r[0],r[1],r[2],r[3],this.spatialReference):new ut(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Qh(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new ut(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,i=t.map(s=>new ut(s,r));return this.notifyChange("rings"),i}setPoint(e,t,r){return this._validateInputs(e,t)?(Qh(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const i=this.rings[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([A({readOnly:!0})],ni.prototype,"cache",null),g([A({readOnly:!0})],ni.prototype,"centroid",null),g([A({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],ni.prototype,"curveRings",void 0),g([Gt("curveRings")],ni.prototype,"writeCurveRings",null),g([A({readOnly:!0})],ni.prototype,"extent",null),g([A({readOnly:!0})],ni.prototype,"isSelfIntersecting",null),g([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],ni.prototype,"rings",void 0),g([Gt("rings")],ni.prototype,"writeRings",null),ni=T0=g([ie("esri.geometry.Polygon")],ni),ni.prototype.toJSON.isDefaultToJSON=!0;var ew;function lW(e){return!Array.isArray(e[0])}function cW(e){return typeof e[0]?.[0]=="number"}function uW(e){if(!e)return;let{paths:t,hasM:r,hasZ:i,spatialReference:s}=e;switch(t??=[],cW(t)&&(t=[t]),t[0]?.[0]?.length){case 4:i??=!0,r??=!0;break;case 3:i??=r!==!0,r??=!i;break;default:i??=!1,r??=!1}return s??=Ge.WGS84,{...e,hasM:r,hasZ:i,paths:t,spatialReference:s}}let us=ew=class extends Ti{constructor(e){super(uW(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=ge(e)}get extent(){const e=KP(this),{spatialReference:t}=this;return e?new mt({...e,spatialReference:t}):null}writePaths(e,t){t.paths=ge(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(lW(e)){const i=[];for(let s=0,n=e.length;s<n;s++)i[s]=e[s].toArray();t[r]=i}else t[r]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new ew;return e.spatialReference=this.spatialReference,e.paths=ge(this.paths),e.curvePaths=ge(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],i=this.hasZ,s=this.hasM;return i&&!s?new ut(r[0],r[1],r[2],void 0,this.spatialReference):s&&!i?new ut(r[0],r[1],void 0,r[2],this.spatialReference):i&&s?new ut(r[0],r[1],r[2],r[3],this.spatialReference):new ut(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Qh(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,i=t.map(s=>new ut(s,r));return this.notifyChange("paths"),i}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new ut(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(Qh(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const i=this.paths[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([A({readOnly:!0})],us.prototype,"cache",null),g([A({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],us.prototype,"curvePaths",void 0),g([Gt("curvePaths")],us.prototype,"writeCurvePaths",null),g([A({readOnly:!0})],us.prototype,"extent",null),g([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],us.prototype,"paths",void 0),g([Gt("paths")],us.prototype,"writePaths",null),us=ew=g([ie("esri.geometry.Polyline")],us),us.prototype.toJSON.isDefaultToJSON=!0;function rN(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function iN(e){return e.points!==void 0}function sN(e){return e.x!==void 0&&e.y!==void 0}function nN(e){return e.paths!==void 0||e.curvePaths!==void 0}function oN(e){return e.rings!==void 0||e.curveRings!==void 0}function xE(e){return e==null?null:e instanceof Ti?e:sN(e)?ut.fromJSON(e):nN(e)?us.fromJSON(e):oN(e)?ni.fromJSON(e):iN(e)?Mn.fromJSON(e):rN(e)?mt.fromJSON(e):null}function Jxe(e){return e?sN(e)?"esriGeometryPoint":nN(e)?"esriGeometryPolyline":oN(e)?"esriGeometryPolygon":rN(e)?"esriGeometryEnvelope":iN(e)?"esriGeometryMultipoint":null:null}const hW={esriGeometryPoint:ut,esriGeometryPolyline:us,esriGeometryPolygon:ni,esriGeometryEnvelope:mt,esriGeometryMultipoint:Mn,esriGeometryMultiPatch:ni};function Kxe(e){return e&&hW[e]||null}const fW=Symbol("ClonableMixin"),Ms=e=>{var t;const r=e;let i=class extends r{constructor(){super(...arguments),this[t]=!0}static{t=fW}clone(s){const n=Ll(this);zj(n,"unable to clone instance of non-accessor class");const o=n.metadata,a=n.store,l={},c=new Map;for(const d in o){const p=o[d],y=a?.originOf(d),v=p.clonable;if(p.readOnly||v===!1||y!==7&&y!==0&&y!==5&&y!==4)continue;const b=this[d];let S=null;if(typeof v=="function")S=v(b,s);else if(v==="reference")S=b;else if(S=A_(b,s),b!=null&&S==null)continue;y===0?c.set(d,S):l[d]=S}const u=new(Object.getPrototypeOf(this)).constructor(l);if(c.size){const d=Ll(u)?.store;if(d)for(const[p,y]of c)d.set(p,y,0)}return u}};return i=g([ie("esri.core.Clonable")],i),i},Zxe=Ms(ai),SE=e=>{const t=e;class r extends t{constructor(){super(...arguments),this._listenersMap=null}clearEvents(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clearEvents()}emit(s,n){let o=this._listenersMap?.get(s);if(!o)return!1;let a=!1;for(const l of o.slice()){const c="deref"in l?l.deref():l;c?c?.call(this,n):a=!0}return a&&(o=o.filter(l=>!("deref"in l)||l.deref()!=null),this._listenersMap.set(s,o)),o.length>0}on(s,n){if(Array.isArray(s)){const a=s.map(l=>this.on(l,n));return zS(a)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(s)||[];return o.push(n),this._listenersMap.set(s,o),kr(()=>{const a=this._listenersMap?.get(s),l=a?.indexOf(n)??-1;l>=0&&a.splice(l,1)})}once(s,n){const o=this.on(s,a=>{o.remove(),("deref"in n?n.deref():n)?.call(null,a)});return o}hasEventListener(s){const n=this._listenersMap?.get(s);return n!=null&&n.length>0}}return r},dW=SE(class{}),Xxe=dW,pW=SE(ai);function mW(e){return(t,r)=>{t[r]=e}}let aN=class extends f6{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const i of r)i.onInvalidated(),i.onCommitted()}}};var sa;let yW=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},gW=class{constructor(t,r,i,s,n){this.target=t,this.added=r,this.removed=i,this.start=s,this.deleteCount=n}};const Hs=new m1(()=>new yW,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function i4(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function h2(e){return e?e instanceof nl?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function f2(e){if(e?.length)return e[0]}function vW(e,t,r,i){const s=Math.min(e.length-r,t.length-i);let n=0;for(;n<s&&e[r+n]===t[i+n];)n++;return n}function lN(e,t,r,i){t&&t.forEach((s,n,o)=>{e.push(s),lN(e,r.call(i,s,n,o),r,i)})}const Ga=new Set,qa=new Set,za=new Set,d2=new Map;let bW=0,nl=sa=class extends pW{static ofType(e){if(!e)return sa;if(d2.has(e))return d2.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const i in e.typeMap){const s=e.typeMap[i].prototype.declaredClass;t?t+=` | ${s}`:t=s}let r=class extends sa{};return g([mW({Type:e,ensureType:typeof e=="function"?Wn(e):zh(e)})],r.prototype,"itemType",void 0),r=g([ie(`esri.core.Collection<${t}>`)],r),d2.set(e,r),r}static isCollection(e){return e!=null&&e instanceof sa}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new aN,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:bW++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof sa?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),super.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return ze(this._observable),this._items}set items(e){this._emitBeforeChanges(1)||(this._splice(0,this.length,h2(e)),this._emitAfterChanges(1))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:super.hasEventListener(e))}on(e,t){if(this.destroyed)return kr();if(e==="change"){const r=this._chgListeners,i={removed:!1,callback:t};return r.push(i),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),kr(()=>{i.removed=!0,r.splice(r.indexOf(i),1)})}return super.on(e,t)}once(e,t){const r="deref"in t?()=>t.deref():()=>t,i=this.on(e,s=>{r()?.call(null,s),i.remove()});return i}add(e,t){if(ze(this._observable),this._emitBeforeChanges(1))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(1),this}addMany(e,t=this._items.length){if(ze(this._observable),!e?.length)return this;if(this._emitBeforeChanges(1))return this;const r=this.getNextIndex(t);return this._splice(r,0,h2(e)),this._emitAfterChanges(1),this}at(e){if(ze(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(ze(this._observable),!this.length||this._emitBeforeChanges(2))return[];const e=this._removeAllRaw();return this._emitAfterChanges(2),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return ze(this._observable),this._createNewInstance({items:this._items.map(ge)})}concat(...e){ze(this._observable);const t=e.map(h2);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(ze(this._observable),!this.length||this._emitBeforeChanges(2))return;const r=this._splice(0,this.length),i=r.length;for(let s=0;s<i;s++)e.call(t,r[s],s,r);this._emitAfterChanges(2)}destroyAll(){this.drain(i4)}destroyMany(e){const t=this.removeMany(e);return t.forEach(i4),t}every(e,t){return ze(this._observable),this._items.every(e,t)}filter(e,t){ze(this._observable);const r=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:r})}find(e,t){return ze(this._observable),this._items.find(e,t)}findIndex(e,t){return ze(this._observable),this._items.findIndex(e,t)}flatten(e,t){ze(this._observable);const r=[];return lN(r,this,e,t),new sa(r)}forEach(e,t){return ze(this._observable),this._items.forEach(e,t)}getItemAt(e){return ze(this._observable),this._items[e]}getNextIndex(e){ze(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return ze(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return ze(this._observable),this._items.indexOf(e,t)}join(e=","){return ze(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return ze(this._observable),this._items.lastIndexOf(e,t)}map(e,t){ze(this._observable);const r=this._items.map(e,t);return new sa({items:r})}reorder(e,t=this.length-1){ze(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(4))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(4)}return e}}pop(){if(ze(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=f2(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}push(...e){return ze(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,e),this._emitAfterChanges(1)),this.length}reduce(e,t){ze(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){ze(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return ze(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(ze(this._observable),e<0||e>=this.length||this._emitBeforeChanges(2))return;const t=f2(this._splice(e,1));return this._emitAfterChanges(2),t}removeMany(e){if(ze(this._observable),!e?.length||this._emitBeforeChanges(2))return[];const t=e instanceof sa?e.toArray():e,r=this._items,i=[],s=t.length;for(let n=0;n<s;n++){const o=t[n],a=r.indexOf(o);if(a>-1){const l=1+vW(t,r,n+1,a+1),c=this._splice(a,l);c&&c.length>0&&i.push.apply(i,c),n+=l-1}}return this._emitAfterChanges(2),i}reverse(){if(ze(this._observable),this._emitBeforeChanges(4))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(4),this}shift(){if(ze(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=f2(this._splice(0,1));return this._emitAfterChanges(2),e}slice(e=0,t=this.length){return ze(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return ze(this._observable),this._items.some(e,t)}sort(e){if(ze(this._observable),!this.length||this._emitBeforeChanges(4)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(4),this}_requiresSort(e=(t,r)=>t===r?0:t<r?-1:1){const t=this.length-1;for(let r=0;r<t;r++)if(e(this.items[r],this.items[r+1])>0)return!0;return!1}splice(e,t,...r){ze(this._observable),arguments.length===1&&(t=this.length),t??=0;const i=(t?2:0)|(r.length?1:0);if(this._emitBeforeChanges(i))return[];const s=this._splice(e,t,r)||[];return this._emitAfterChanges(i),s}toArray(){return ze(this._observable),this._items.slice()}toJSON(e){return ze(this._observable),this.toArray().map(t=>Og(t)?t.toJSON(e):t)}toLocaleString(){return ze(this._observable),this._items.toLocaleString()}toString(){return ze(this._observable),this._items.toString()}unshift(...e){return ze(this._observable),!e.length||this._emitBeforeChanges(1)||(this._splice(0,0,e),this._emitAfterChanges(1)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const i=this._items,s=this.itemType;let n,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=k5(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=i.splice(e,t),this.hasEventListener("before-remove")){const a=Hs.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)n=o[l],a.reset(n),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),i.splice(e,0,n),e+=1,l-=1,c-=1);Hs.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Hs.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);Hs.release(a)}}if(r?.length){if(s){const u=[];for(const d of r){const p=s.ensureType(d);p==null&&d!=null||u.push(p)}r=u}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(a||l){const u=Hs.acquire();u.target=this,u.cancellable=!0;const d=Hs.acquire();d.target=this,d.cancellable=!1;for(const p of r)a?(u.reset(p),this.emit("before-add",u),u.defaultPrevented||(c?i.push(p):i.splice(e++,0,p),this._set("length",i.length),l&&(d.reset(p),this.emit("after-add",d)))):(c?i.push(p):i.splice(e++,0,p),this._set("length",i.length),d.reset(p),this.emit("after-add",d));Hs.release(d),Hs.release(u)}else{if(c)for(const u of r)i.push(u);else i.splice(e,0,...r);this._set("length",i.length)}}if((r?.length||o?.length)&&this._notifyChangeEvent(r,o),this.hasEventListener("after-splice")){const a=new gW(this,r,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=Hs.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,Hs.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Hs.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Hs.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;Ga.clear(),qa.clear(),za.clear();for(const{added:l,removed:c}of r){if(l)if(za.size===0&&qa.size===0)for(const u of l)Ga.add(u);else for(const u of l)qa.has(u)?(za.add(u),qa.delete(u)):za.has(u)||Ga.add(u);if(c)if(za.size===0&&Ga.size===0)for(const u of c)qa.add(u);else for(const u of c)Ga.has(u)?Ga.delete(u):(za.delete(u),qa.add(u))}const i=sl.acquire();Ga.forEach(l=>{i.push(l)});const s=sl.acquire();qa.forEach(l=>{s.push(l)});const n=this._items,o=t.items,a=sl.acquire();if(za.forEach(l=>{o.indexOf(l)!==n.indexOf(l)&&a.push(l)}),t.listeners&&(i.length||s.length||a.length)){const l={target:this,added:i,removed:s,moved:a},c=t.listeners.length;for(let u=0;u<c;u++){const d=t.listeners[u];d.removed||d.callback.call(this,l)}}sl.release(i),sl.release(s),sl.release(a)}Ga.clear(),qa.clear(),za.clear()}};g([A()],nl.prototype,"_updating",void 0),g([A()],nl.prototype,"length",void 0),g([A()],nl.prototype,"items",null),g([A({readOnly:!0})],nl.prototype,"updating",null),nl=sa=g([ie("esri.core.Collection")],nl);const Mt=nl;let p2;async function _W(){return p2==null&&(p2=ve(()=>import("./WhereClauseCache-Bo9dD1hU.js"),__vite__mapDeps([15,16,17,18,19,20,21,1]),import.meta.url).then(e=>new e.WhereClauseCache(500,500))),p2}async function wW(e,t){const r=await _W(),i=r.get(e,t);if(i==null)throw r.getError(e,t);return i}function rSe(e,t){return e||=null,t||=null,e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function iSe(e,t){return e||=null,t||=null,e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function sSe(e,t){return t.length===0?null:`${e} IN (${xW(t)})`}function xW(e){return e.map(t=>typeof t=="string"?SW(t):t).join(",")}function SW(e){return`'${e.replaceAll("'","''")}'`}function nSe(e){return typeof e=="number"}function oSe(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function aSe(e){return typeof e=="boolean"}function km(e){return typeof e=="string"||e instanceof String}function EW(e){return e==null||km(e)}function lSe(e){return Array.isArray(e)}function cSe(e){return e?.declaredClass==="esri.Graphic"}function uSe(e){return e instanceof Date}class xu extends Error{}class AW extends xu{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class TW extends xu{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class $W extends xu{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class uh extends xu{}class cN extends xu{constructor(t){super(`Invalid unit ${t}`)}}class Ii extends xu{}class Ha extends xu{constructor(){super("Zone is an abstract class")}}const _e="numeric",Kn="short",Bs="long",Ug={year:_e,month:_e,day:_e},uN={year:_e,month:Kn,day:_e},MW={year:_e,month:Kn,day:_e,weekday:Kn},hN={year:_e,month:Bs,day:_e},fN={year:_e,month:Bs,day:_e,weekday:Bs},dN={hour:_e,minute:_e},pN={hour:_e,minute:_e,second:_e},mN={hour:_e,minute:_e,second:_e,timeZoneName:Kn},yN={hour:_e,minute:_e,second:_e,timeZoneName:Bs},gN={hour:_e,minute:_e,hourCycle:"h23"},vN={hour:_e,minute:_e,second:_e,hourCycle:"h23"},bN={hour:_e,minute:_e,second:_e,hourCycle:"h23",timeZoneName:Kn},_N={hour:_e,minute:_e,second:_e,hourCycle:"h23",timeZoneName:Bs},wN={year:_e,month:_e,day:_e,hour:_e,minute:_e},xN={year:_e,month:_e,day:_e,hour:_e,minute:_e,second:_e},SN={year:_e,month:Kn,day:_e,hour:_e,minute:_e},EN={year:_e,month:Kn,day:_e,hour:_e,minute:_e,second:_e},IW={year:_e,month:Kn,day:_e,weekday:Kn,hour:_e,minute:_e},AN={year:_e,month:Bs,day:_e,hour:_e,minute:_e,timeZoneName:Kn},TN={year:_e,month:Bs,day:_e,hour:_e,minute:_e,second:_e,timeZoneName:Kn},$N={year:_e,month:Bs,day:_e,weekday:Bs,hour:_e,minute:_e,timeZoneName:Bs},MN={year:_e,month:Bs,day:_e,weekday:Bs,hour:_e,minute:_e,second:_e,timeZoneName:Bs};class Rm{get type(){throw new Ha}get name(){throw new Ha}get ianaName(){return this.name}get isUniversal(){throw new Ha}offsetName(t,r){throw new Ha}formatOffset(t,r){throw new Ha}offset(t){throw new Ha}equals(t){throw new Ha}get isValid(){throw new Ha}}let m2=null;class N1 extends Rm{static get instance(){return m2===null&&(m2=new N1),m2}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return UN(t,r,i)}formatOffset(t,r){return Hd(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}const tw=new Map;function OW(e){let t=tw.get(e);return t===void 0&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),tw.set(e,t)),t}const CW={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function PW(e,t){const r=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,n,o,a,l,c,u]=i;return[o,s,n,a,l,c,u]}function NW(e,t){const r=e.formatToParts(t),i=[];for(let s=0;s<r.length;s++){const{type:n,value:o}=r[s],a=CW[n];n==="era"?i[a]=o:Be(a)||(i[a]=parseInt(o,10))}return i}const y2=new Map;class Zn extends Rm{static create(t){let r=y2.get(t);return r===void 0&&y2.set(t,r=new Zn(t)),r}static resetCache(){y2.clear(),tw.clear()}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Zn.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return UN(t,r,i,this.name)}formatOffset(t,r){return Hd(this.offset(t),r)}offset(t){if(!this.valid)return NaN;const r=new Date(t);if(isNaN(r))return NaN;const i=OW(this.name);let[s,n,o,a,l,c,u]=i.formatToParts?NW(i,r):PW(i,r);a==="BC"&&(s=-Math.abs(s)+1);const p=k1({year:s,month:n,day:o,hour:l===24?0:l,minute:c,second:u,millisecond:0});let y=+r;const v=y%1e3;return y-=v>=0?v:1e3+v,(p-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let s4={};function LW(e,t={}){const r=JSON.stringify([e,t]);let i=s4[r];return i||(i=new Intl.ListFormat(e,t),s4[r]=i),i}const rw=new Map;function iw(e,t={}){const r=JSON.stringify([e,t]);let i=rw.get(r);return i===void 0&&(i=new Intl.DateTimeFormat(e,t),rw.set(r,i)),i}const sw=new Map;function kW(e,t={}){const r=JSON.stringify([e,t]);let i=sw.get(r);return i===void 0&&(i=new Intl.NumberFormat(e,t),sw.set(r,i)),i}const nw=new Map;function RW(e,t={}){const{base:r,...i}=t,s=JSON.stringify([e,i]);let n=nw.get(s);return n===void 0&&(n=new Intl.RelativeTimeFormat(e,t),nw.set(s,n)),n}let gd=null;function DW(){return gd||(gd=new Intl.DateTimeFormat().resolvedOptions().locale,gd)}const ow=new Map;function IN(e){let t=ow.get(e);return t===void 0&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),ow.set(e,t)),t}const aw=new Map;function FW(e){let t=aw.get(e);if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in t||(t={...ON,...t}),aw.set(e,t)}return t}function UW(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let i,s;try{i=iw(e).resolvedOptions(),s=e}catch{const l=e.substring(0,r);i=iw(l).resolvedOptions(),s=l}const{numberingSystem:n,calendar:o}=i;return[s,n,o]}}function jW(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function BW(e){const t=[];for(let r=1;r<=12;r++){const i=Re.utc(2009,r,1);t.push(e(i))}return t}function VW(e){const t=[];for(let r=1;r<=7;r++){const i=Re.utc(2016,11,13+r);t.push(e(i))}return t}function Ey(e,t,r,i){const s=e.listingMode();return s==="error"?null:s==="en"?r(t):i(t)}function GW(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||IN(e.locale).numberingSystem==="latn"}class qW{constructor(t,r,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:s,floor:n,...o}=i;if(!r||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=kW(t,a)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):ME(t,3);return jr(r,this.padTo)}}}class zW{constructor(t,r,i){this.opts=i,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&Zn.create(a).valid?(s=a,this.dt=t):(s="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=iw(r,n)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:i}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class HW{constructor(t,r,i){this.opts={style:"long",...i},!r&&DN()&&(this.rtf=RW(t,i))}format(t,r){return this.rtf?this.rtf.format(t,r):pY(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const ON={firstDay:1,minimalDays:4,weekend:[6,7]};class Tt{static fromOpts(t){return Tt.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,i,s,n=!1){const o=t||gr.defaultLocale,a=o||(n?"en-US":DW()),l=r||gr.defaultNumberingSystem,c=i||gr.defaultOutputCalendar,u=cw(s)||gr.defaultWeekSettings;return new Tt(a,l,c,u,o)}static resetCache(){gd=null,rw.clear(),sw.clear(),nw.clear(),ow.clear(),aw.clear()}static fromObject({locale:t,numberingSystem:r,outputCalendar:i,weekSettings:s}={}){return Tt.create(t,r,i,s)}constructor(t,r,i,s,n){const[o,a,l]=UW(t);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=i||l||null,this.weekSettings=s,this.intl=jW(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=GW(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Tt.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,cw(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return Ey(this,t,VN,()=>{const i=this.intl==="ja"||this.intl.startsWith("ja-");r&=!i;const s=r?{month:t,day:"numeric"}:{month:t},n=r?"format":"standalone";if(!this.monthsCache[n][t]){const o=i?a=>this.dtFormatter(a,s).format():a=>this.extract(a,s,"month");this.monthsCache[n][t]=BW(o)}return this.monthsCache[n][t]})}weekdays(t,r=!1){return Ey(this,t,zN,()=>{const i=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=r?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=VW(n=>this.extract(n,i,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return Ey(this,void 0,()=>HN,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Re.utc(2016,11,13,9),Re.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Ey(this,t,WN,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[Re.utc(-40,1,1),Re.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[t]})}extract(t,r,i){const s=this.dtFormatter(t,r),n=s.formatToParts(),o=n.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(t={}){return new qW(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new zW(t,this.intl,r)}relFormatter(t={}){return new HW(this.intl,this.isEnglish(),t)}listFormatter(t={}){return LW(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||IN(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:FN()?FW(this.locale):ON}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let g2=null;class Ki extends Rm{static get utcInstance(){return g2===null&&(g2=new Ki(0)),g2}static instance(t){return t===0?Ki.utcInstance:new Ki(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Ki(R1(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Hd(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Hd(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return Hd(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class WW extends Rm{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function pl(e,t){if(Be(e)||e===null)return t;if(e instanceof Rm)return e;if(QW(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?N1.instance:r==="utc"||r==="gmt"?Ki.utcInstance:Ki.parseSpecifier(r)||Zn.create(e)}else return Tl(e)?Ki.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new WW(e)}const EE={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},n4={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},YW=EE.hanidec.replace(/[\[|\]]/g,"").split("");function JW(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);if(e[r].search(EE.hanidec)!==-1)t+=YW.indexOf(e[r]);else for(const s in n4){const[n,o]=n4[s];i>=n&&i<=o&&(t+=i-n)}}return parseInt(t,10)}else return t}const lw=new Map;function KW(){lw.clear()}function xn({numberingSystem:e},t=""){const r=e||"latn";let i=lw.get(r);i===void 0&&(i=new Map,lw.set(r,i));let s=i.get(t);return s===void 0&&(s=new RegExp(`${EE[r]}${t}`),i.set(t,s)),s}let o4=()=>Date.now(),a4="system",l4=null,c4=null,u4=null,h4=60,f4,d4=null;class gr{static get now(){return o4}static set now(t){o4=t}static set defaultZone(t){a4=t}static get defaultZone(){return pl(a4,N1.instance)}static get defaultLocale(){return l4}static set defaultLocale(t){l4=t}static get defaultNumberingSystem(){return c4}static set defaultNumberingSystem(t){c4=t}static get defaultOutputCalendar(){return u4}static set defaultOutputCalendar(t){u4=t}static get defaultWeekSettings(){return d4}static set defaultWeekSettings(t){d4=cw(t)}static get twoDigitCutoffYear(){return h4}static set twoDigitCutoffYear(t){h4=t%100}static get throwOnInvalid(){return f4}static set throwOnInvalid(t){f4=t}static resetCaches(){Tt.resetCache(),Zn.resetCache(),Re.resetCache(),KW()}}class Ln{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const CN=[0,31,59,90,120,151,181,212,243,273,304,334],PN=[0,31,60,91,121,152,182,213,244,274,305,335];function ln(e,t){return new Ln("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function AE(e,t,r){const i=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const s=i.getUTCDay();return s===0?7:s}function NN(e,t,r){return r+(Dm(e)?PN:CN)[t-1]}function LN(e,t){const r=Dm(e)?PN:CN,i=r.findIndex(n=>n<t),s=t-r[i];return{month:i+1,day:s}}function TE(e,t){return(e-t+7)%7+1}function jg(e,t=4,r=1){const{year:i,month:s,day:n}=e,o=NN(i,s,n),a=TE(AE(i,s,n),r);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=i-1,l=Up(c,t,r)):l>Up(i,t,r)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...D1(e)}}function p4(e,t=4,r=1){const{weekYear:i,weekNumber:s,weekday:n}=e,o=TE(AE(i,1,t),r),a=Ch(i);let l=s*7+n-o-7+t,c;l<1?(c=i-1,l+=Ch(c)):l>a?(c=i+1,l-=Ch(i)):c=i;const{month:u,day:d}=LN(c,l);return{year:c,month:u,day:d,...D1(e)}}function v2(e){const{year:t,month:r,day:i}=e,s=NN(t,r,i);return{year:t,ordinal:s,...D1(e)}}function m4(e){const{year:t,ordinal:r}=e,{month:i,day:s}=LN(t,r);return{year:t,month:i,day:s,...D1(e)}}function y4(e,t){if(!Be(e.localWeekday)||!Be(e.localWeekNumber)||!Be(e.localWeekYear)){if(!Be(e.weekday)||!Be(e.weekNumber)||!Be(e.weekYear))throw new uh("Cannot mix locale-based week fields with ISO-based week fields");return Be(e.localWeekday)||(e.weekday=e.localWeekday),Be(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Be(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function ZW(e,t=4,r=1){const i=L1(e.weekYear),s=cn(e.weekNumber,1,Up(e.weekYear,t,r)),n=cn(e.weekday,1,7);return i?s?n?!1:ln("weekday",e.weekday):ln("week",e.weekNumber):ln("weekYear",e.weekYear)}function XW(e){const t=L1(e.year),r=cn(e.ordinal,1,Ch(e.year));return t?r?!1:ln("ordinal",e.ordinal):ln("year",e.year)}function kN(e){const t=L1(e.year),r=cn(e.month,1,12),i=cn(e.day,1,Bg(e.year,e.month));return t?r?i?!1:ln("day",e.day):ln("month",e.month):ln("year",e.year)}function RN(e){const{hour:t,minute:r,second:i,millisecond:s}=e,n=cn(t,0,23)||t===24&&r===0&&i===0&&s===0,o=cn(r,0,59),a=cn(i,0,59),l=cn(s,0,999);return n?o?a?l?!1:ln("millisecond",s):ln("second",i):ln("minute",r):ln("hour",t)}function Be(e){return typeof e>"u"}function Tl(e){return typeof e=="number"}function L1(e){return typeof e=="number"&&e%1===0}function QW(e){return typeof e=="string"}function eY(e){return Object.prototype.toString.call(e)==="[object Date]"}function DN(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function FN(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function tY(e){return Array.isArray(e)?e:[e]}function g4(e,t,r){if(e.length!==0)return e.reduce((i,s)=>{const n=[t(s),s];return i&&r(i[0],n[0])===i[0]?i:n},null)[1]}function rY(e,t){return t.reduce((r,i)=>(r[i]=e[i],r),{})}function ef(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cw(e){if(e==null)return null;if(typeof e!="object")throw new Ii("Week settings must be an object");if(!cn(e.firstDay,1,7)||!cn(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!cn(t,1,7)))throw new Ii("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function cn(e,t,r){return L1(e)&&e>=t&&e<=r}function iY(e,t){return e-t*Math.floor(e/t)}function jr(e,t=2){const r=e<0;let i;return r?i="-"+(""+-e).padStart(t,"0"):i=(""+e).padStart(t,"0"),i}function ol(e){if(!(Be(e)||e===null||e===""))return parseInt(e,10)}function cc(e){if(!(Be(e)||e===null||e===""))return parseFloat(e)}function $E(e){if(!(Be(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function ME(e,t,r="round"){const i=10**t;switch(r){case"expand":return e>0?Math.ceil(e*i)/i:Math.floor(e*i)/i;case"trunc":return Math.trunc(e*i)/i;case"round":return Math.round(e*i)/i;case"floor":return Math.floor(e*i)/i;case"ceil":return Math.ceil(e*i)/i;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function Dm(e){return e%4===0&&(e%100!==0||e%400===0)}function Ch(e){return Dm(e)?366:365}function Bg(e,t){const r=iY(t-1,12)+1,i=e+(t-r)/12;return r===2?Dm(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function k1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function v4(e,t,r){return-TE(AE(e,1,t),r)+t-1}function Up(e,t=4,r=1){const i=v4(e,t,r),s=v4(e+1,t,r);return(Ch(e)-i+s)/7}function uw(e){return e>99?e:e>gr.twoDigitCutoffYear?1900+e:2e3+e}function UN(e,t,r,i=null){const s=new Date(e),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(n.timeZone=i);const o={timeZoneName:t,...n},a=new Intl.DateTimeFormat(r,o).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function R1(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const i=parseInt(t,10)||0,s=r<0||Object.is(r,-0)?-i:i;return r*60+s}function jN(e){const t=Number(e);if(typeof e=="boolean"||e===""||!Number.isFinite(t))throw new Ii(`Invalid unit value ${e}`);return t}function Vg(e,t){const r={};for(const i in e)if(ef(e,i)){const s=e[i];if(s==null)continue;r[t(i)]=jN(s)}return r}function Hd(e,t){const r=Math.trunc(Math.abs(e/60)),i=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${jr(r,2)}:${jr(i,2)}`;case"narrow":return`${s}${r}${i>0?`:${i}`:""}`;case"techie":return`${s}${jr(r,2)}${jr(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function D1(e){return rY(e,["hour","minute","second","millisecond"])}const sY=["January","February","March","April","May","June","July","August","September","October","November","December"],BN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nY=["J","F","M","A","M","J","J","A","S","O","N","D"];function VN(e){switch(e){case"narrow":return[...nY];case"short":return[...BN];case"long":return[...sY];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const GN=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],qN=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],oY=["M","T","W","T","F","S","S"];function zN(e){switch(e){case"narrow":return[...oY];case"short":return[...qN];case"long":return[...GN];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const HN=["AM","PM"],aY=["Before Christ","Anno Domini"],lY=["BC","AD"],cY=["B","A"];function WN(e){switch(e){case"narrow":return[...cY];case"short":return[...lY];case"long":return[...aY];default:return null}}function uY(e){return HN[e.hour<12?0:1]}function hY(e,t){return zN(t)[e.weekday-1]}function fY(e,t){return VN(t)[e.month-1]}function dY(e,t){return WN(t)[e.year<0?0:1]}function pY(e,t,r="always",i=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&n){const d=e==="days";switch(t){case 1:return d?"tomorrow":`next ${s[e][0]}`;case-1:return d?"yesterday":`last ${s[e][0]}`;case 0:return d?"today":`this ${s[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=s[e],u=i?l?c[1]:c[2]||c[1]:l?s[e][0]:e;return o?`${a} ${u} ago`:`in ${a} ${u}`}function b4(e,t){let r="";for(const i of e)i.literal?r+=i.val:r+=t(i.val);return r}const mY={D:Ug,DD:uN,DDD:hN,DDDD:fN,t:dN,tt:pN,ttt:mN,tttt:yN,T:gN,TT:vN,TTT:bN,TTTT:_N,f:wN,ff:SN,fff:AN,ffff:$N,F:xN,FF:EN,FFF:TN,FFFF:MN};class ki{static create(t,r={}){return new ki(t,r)}static parseFormat(t){let r=null,i="",s=!1;const n=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?((i.length>0||s)&&n.push({literal:s||/^\s+$/.test(i),val:i===""?"'":i}),r=null,i="",s=!s):s||a===r?i+=a:(i.length>0&&n.push({literal:/^\s+$/.test(i),val:i}),i=a,r=a)}return i.length>0&&n.push({literal:s||/^\s+$/.test(i),val:i}),n}static macroTokenToFormatOpts(t){return mY[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0,i=void 0){if(this.opts.forceSimple)return jr(t,r);const s={...this.opts};return r>0&&(s.padTo=r),i&&(s.signDisplay=i),this.loc.numberFormatter(s).format(t)}formatDateTimeFromString(t,r){const i=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(y,v)=>this.loc.extract(t,y,v),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>i?uY(t):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,v)=>i?fY(t,y):n(v?{month:y}:{month:y,day:"numeric"},"month"),c=(y,v)=>i?hY(t,y):n(v?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),u=y=>{const v=ki.macroTokenToFormatOpts(y);return v?this.formatWithSystemDefault(t,v):y},d=y=>i?dY(t,y):n({era:y},"era"),p=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return s?n({day:"numeric"},"day"):this.num(t.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(t.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(t.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return u(y)}};return b4(ki.parseFormat(r),p)}formatDurationFromString(t,r){const i=this.opts.signMode==="negativeLargestOnly"?-1:1,s=u=>{switch(u[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},n=(u,d)=>p=>{const y=s(p);if(y){const v=d.isNegativeDuration&&y!==d.largestUnit?i:1;let b;return this.opts.signMode==="negativeLargestOnly"&&y!==d.largestUnit?b="never":this.opts.signMode==="all"?b="always":b="auto",this.num(u.get(y)*v,p.length,b)}else return p},o=ki.parseFormat(r),a=o.reduce((u,{literal:d,val:p})=>d?u:u.concat(p),[]),l=t.shiftTo(...a.map(s).filter(u=>u)),c={isNegativeDuration:l<0,largestUnit:Object.keys(l.values)[0]};return b4(o,n(l,c))}}const YN=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function kf(...e){const t=e.reduce((r,i)=>r+i.source,"");return RegExp(`^${t}$`)}function Rf(...e){return t=>e.reduce(([r,i,s],n)=>{const[o,a,l]=n(t,s);return[{...r,...o},a||i,l]},[{},null,1]).slice(0,2)}function Df(e,...t){if(e==null)return[null,null];for(const[r,i]of t){const s=r.exec(e);if(s)return i(s)}return[null,null]}function JN(...e){return(t,r)=>{const i={};let s;for(s=0;s<e.length;s++)i[e[s]]=ol(t[r+s]);return[i,null,r+s]}}const KN=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,yY=`(?:${KN.source}?(?:\\[(${YN.source})\\])?)?`,IE=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ZN=RegExp(`${IE.source}${yY}`),OE=RegExp(`(?:[Tt]${ZN.source})?`),gY=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,vY=/(\d{4})-?W(\d\d)(?:-?(\d))?/,bY=/(\d{4})-?(\d{3})/,_Y=JN("weekYear","weekNumber","weekDay"),wY=JN("year","ordinal"),xY=/(\d{4})-(\d\d)-(\d\d)/,XN=RegExp(`${IE.source} ?(?:${KN.source}|(${YN.source}))?`),SY=RegExp(`(?: ${XN.source})?`);function Ph(e,t,r){const i=e[t];return Be(i)?r:ol(i)}function EY(e,t){return[{year:Ph(e,t),month:Ph(e,t+1,1),day:Ph(e,t+2,1)},null,t+3]}function Ff(e,t){return[{hours:Ph(e,t,0),minutes:Ph(e,t+1,0),seconds:Ph(e,t+2,0),milliseconds:$E(e[t+3])},null,t+4]}function Fm(e,t){const r=!e[t]&&!e[t+1],i=R1(e[t+1],e[t+2]),s=r?null:Ki.instance(i);return[{},s,t+3]}function Um(e,t){const r=e[t]?Zn.create(e[t]):null;return[{},r,t+1]}const AY=RegExp(`^T?${IE.source}$`),TY=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function $Y(e){const[t,r,i,s,n,o,a,l,c]=e,u=t[0]==="-",d=l&&l[0]==="-",p=(y,v=!1)=>y!==void 0&&(v||y&&u)?-y:y;return[{years:p(cc(r)),months:p(cc(i)),weeks:p(cc(s)),days:p(cc(n)),hours:p(cc(o)),minutes:p(cc(a)),seconds:p(cc(l),l==="-0"),milliseconds:p($E(c),d)}]}const MY={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function CE(e,t,r,i,s,n,o){const a={year:t.length===2?uw(ol(t)):ol(t),month:BN.indexOf(r)+1,day:ol(i),hour:ol(s),minute:ol(n)};return o&&(a.second=ol(o)),e&&(a.weekday=e.length>3?GN.indexOf(e)+1:qN.indexOf(e)+1),a}const IY=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function OY(e){const[,t,r,i,s,n,o,a,l,c,u,d]=e,p=CE(t,s,i,r,n,o,a);let y;return l?y=MY[l]:c?y=0:y=R1(u,d),[p,new Ki(y)]}function CY(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const PY=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,NY=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,LY=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function _4(e){const[,t,r,i,s,n,o,a]=e;return[CE(t,s,i,r,n,o,a),Ki.utcInstance]}function kY(e){const[,t,r,i,s,n,o,a]=e;return[CE(t,a,r,i,s,n,o),Ki.utcInstance]}const RY=kf(gY,OE),DY=kf(vY,OE),FY=kf(bY,OE),UY=kf(ZN),QN=Rf(EY,Ff,Fm,Um),jY=Rf(_Y,Ff,Fm,Um),BY=Rf(wY,Ff,Fm,Um),VY=Rf(Ff,Fm,Um);function GY(e){return Df(e,[RY,QN],[DY,jY],[FY,BY],[UY,VY])}function qY(e){return Df(CY(e),[IY,OY])}function zY(e){return Df(e,[PY,_4],[NY,_4],[LY,kY])}function HY(e){return Df(e,[TY,$Y])}const WY=Rf(Ff);function YY(e){return Df(e,[AY,WY])}const JY=kf(xY,SY),KY=kf(XN),ZY=Rf(Ff,Fm,Um);function XY(e){return Df(e,[JY,QN],[KY,ZY])}const w4="Invalid Duration",eL={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},QY={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...eL},Ws=146097/400,Fu=146097/4800,eJ={years:{quarters:4,months:12,weeks:Ws/7,days:Ws,hours:Ws*24,minutes:Ws*24*60,seconds:Ws*24*60*60,milliseconds:Ws*24*60*60*1e3},quarters:{months:3,weeks:Ws/28,days:Ws/4,hours:Ws*24/4,minutes:Ws*24*60/4,seconds:Ws*24*60*60/4,milliseconds:Ws*24*60*60*1e3/4},months:{weeks:Fu/7,days:Fu,hours:Fu*24,minutes:Fu*24*60,seconds:Fu*24*60*60,milliseconds:Fu*24*60*60*1e3},...eL},Lc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],tJ=Lc.slice(0).reverse();function Yo(e,t,r=!1){const i={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new pt(i)}function tL(e,t){let r=t.milliseconds??0;for(const i of tJ.slice(1))t[i]&&(r+=t[i]*e[i].milliseconds);return r}function x4(e,t){const r=tL(e,t)<0?-1:1;Lc.reduceRight((i,s)=>{if(Be(t[s]))return i;if(i){const n=t[i]*r,o=e[s][i],a=Math.floor(n/o);t[s]+=a*r,t[i]-=a*o*r}return s},null),Lc.reduce((i,s)=>{if(Be(t[s]))return i;if(i){const n=t[i]%1;t[i]-=n,t[s]+=n*e[i][s]}return s},null)}function S4(e){const t={};for(const[r,i]of Object.entries(e))i!==0&&(t[r]=i);return t}class pt{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let i=r?eJ:QY;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||Tt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,r){return pt.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new Ii(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new pt({values:Vg(t,pt.normalizeUnit),loc:Tt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(Tl(t))return pt.fromMillis(t);if(pt.isDuration(t))return t;if(typeof t=="object")return pt.fromObject(t);throw new Ii(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[i]=HY(t);return i?pt.fromObject(i,r):pt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[i]=YY(t);return i?pt.fromObject(i,r):pt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new Ii("need to specify a reason the Duration is invalid");const i=t instanceof Ln?t:new Ln(t,r);if(gr.throwOnInvalid)throw new $W(i);return new pt({invalid:i})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new cN(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const i={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?ki.create(this.loc,i).formatDurationFromString(this,t):w4}toHuman(t={}){if(!this.isValid)return w4;const r=t.showZeros!==!1,i=Lc.map(s=>{const n=this.values[s];return Be(n)||n===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:s.slice(0,-1)}).format(n)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=ME(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Re.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?tL(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=pt.fromDurationLike(t),i={};for(const s of Lc)(ef(r.values,s)||ef(this.values,s))&&(i[s]=r.get(s)+this.get(s));return Yo(this,{values:i},!0)}minus(t){if(!this.isValid)return this;const r=pt.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const i of Object.keys(this.values))r[i]=jN(t(this.values[i],i));return Yo(this,{values:r},!0)}get(t){return this[pt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...Vg(t,pt.normalizeUnit)};return Yo(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:i,matrix:s}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:s,conversionAccuracy:i};return Yo(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return x4(this.matrix,t),Yo(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=S4(this.normalize().shiftToAll().toObject());return Yo(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>pt.normalizeUnit(o));const r={},i={},s=this.toObject();let n;for(const o of Lc)if(t.indexOf(o)>=0){n=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;Tl(s[o])&&(a+=s[o]);const l=Math.trunc(a);r[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else Tl(s[o])&&(i[o]=s[o]);for(const o in i)i[o]!==0&&(r[n]+=o===n?i[o]:i[o]/this.matrix[n][o]);return x4(this.matrix,r),Yo(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Yo(this,{values:t},!0)}removeZeros(){if(!this.isValid)return this;const t=S4(this.values);return Yo(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(i,s){return i===void 0||i===0?s===void 0||s===0:i===s}for(const i of Lc)if(!r(this.values[i],t.values[i]))return!1;return!0}}const Uu="Invalid Interval";function rJ(e,t){return!e||!e.isValid?mr.invalid("missing or invalid start"):!t||!t.isValid?mr.invalid("missing or invalid end"):t<e?mr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class mr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new Ii("need to specify a reason the Interval is invalid");const i=t instanceof Ln?t:new Ln(t,r);if(gr.throwOnInvalid)throw new TW(i);return new mr({invalid:i})}static fromDateTimes(t,r){const i=Zf(t),s=Zf(r),n=rJ(i,s);return n??new mr({start:i,end:s})}static after(t,r){const i=pt.fromDurationLike(r),s=Zf(t);return mr.fromDateTimes(s,s.plus(i))}static before(t,r){const i=pt.fromDurationLike(r),s=Zf(t);return mr.fromDateTimes(s.minus(i),s)}static fromISO(t,r){const[i,s]=(t||"").split("/",2);if(i&&s){let n,o;try{n=Re.fromISO(i,r),o=n.isValid}catch{o=!1}let a,l;try{a=Re.fromISO(s,r),l=a.isValid}catch{l=!1}if(o&&l)return mr.fromDateTimes(n,a);if(o){const c=pt.fromISO(s,r);if(c.isValid)return mr.after(n,c)}else if(l){const c=pt.fromISO(i,r);if(c.isValid)return mr.before(a,c)}}return mr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const i=this.start.startOf(t,r);let s;return r?.useLocaleWeeks?s=this.end.reconfigure({locale:i.locale}):s=this.end,s=s.startOf(t,r),Math.floor(s.diff(i,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?mr.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(Zf).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s}=this,n=0;for(;s<this.e;){const o=r[n]||this.e,a=+o>+this.e?this.e:o;i.push(mr.fromDateTimes(s,a)),s=a,n+=1}return i}splitBy(t){const r=pt.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:i}=this,s=1,n;const o=[];for(;i<this.e;){const a=this.start.plus(r.mapUnits(l=>l*s));n=+a>+this.e?this.e:a,o.push(mr.fromDateTimes(i,n)),i=n,s+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return r>=i?null:mr.fromDateTimes(r,i)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return mr.fromDateTimes(r,i)}static merge(t){const[r,i]=t.sort((s,n)=>s.s-n.s).reduce(([s,n],o)=>n?n.overlaps(o)||n.abutsStart(o)?[s,n.union(o)]:[s.concat([n]),o]:[s,o],[[],null]);return i&&r.push(i),r}static xor(t){let r=null,i=0;const s=[],n=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...n),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?r=l.time:(r&&+r!=+l.time&&s.push(mr.fromDateTimes(r,l.time)),r=null);return mr.merge(s)}difference(...t){return mr.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Uu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Ug,r={}){return this.isValid?ki.create(this.s.loc.clone(r),t).formatInterval(this):Uu}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Uu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Uu}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Uu}toFormat(t,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:Uu}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):pt.invalid(this.invalidReason)}mapEndpoints(t){return mr.fromDateTimes(t(this.s),t(this.e))}}class Ay{static hasDST(t=gr.defaultZone){const r=Re.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return Zn.isValidZone(t)}static normalizeZone(t){return pl(t,gr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||Tt.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||Tt.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||Tt.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:i=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Tt.create(r,i,n)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Tt.create(r,i,n)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:i=null,locObj:s=null}={}){return(s||Tt.create(r,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:s=null}={}){return(s||Tt.create(r,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Tt.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return Tt.create(r,null,"gregory").eras(t)}static features(){return{relative:DN(),localeWeek:FN()}}}function E4(e,t){const r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=r(t)-r(e);return Math.floor(pt.fromMillis(i).as("days"))}function iJ(e,t,r){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const u=E4(l,c);return(u-u%7)/7}],["days",E4]],s={},n=e;let o,a;for(const[l,c]of i)r.indexOf(l)>=0&&(o=l,s[l]=c(e,t),a=n.plus(s),a>t?(s[l]--,e=n.plus(s),e>t&&(a=e,s[l]--,e=n.plus(s))):e=a);return[e,s,a,o]}function sJ(e,t,r,i){let[s,n,o,a]=iJ(e,t,r);const l=t-s,c=r.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<t&&(o=s.plus({[a]:1})),o!==s&&(n[a]=(n[a]||0)+l/(o-s)));const u=pt.fromObject(n,i);return c.length>0?pt.fromMillis(l,i).shiftTo(...c).plus(u):u}const nJ="missing Intl.DateTimeFormat.formatToParts support";function bt(e,t=r=>r){return{regex:e,deser:([r])=>t(JW(r))}}const oJ="",rL=`[ ${oJ}]`,iL=new RegExp(rL,"g");function aJ(e){return e.replace(/\./g,"\\.?").replace(iL,rL)}function A4(e){return e.replace(/\./g,"").replace(iL," ").toLowerCase()}function Sn(e,t){return e===null?null:{regex:RegExp(e.map(aJ).join("|")),deser:([r])=>e.findIndex(i=>A4(r)===A4(i))+t}}function T4(e,t){return{regex:e,deser:([,r,i])=>R1(r,i),groups:t}}function Ty(e){return{regex:e,deser:([t])=>t}}function lJ(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function cJ(e,t){const r=xn(t),i=xn(t,"{2}"),s=xn(t,"{3}"),n=xn(t,"{4}"),o=xn(t,"{6}"),a=xn(t,"{1,2}"),l=xn(t,"{1,3}"),c=xn(t,"{1,6}"),u=xn(t,"{1,9}"),d=xn(t,"{2,4}"),p=xn(t,"{4,6}"),y=S=>({regex:RegExp(lJ(S.val)),deser:([w])=>w,literal:!0}),b=(S=>{if(e.literal)return y(S);switch(S.val){case"G":return Sn(t.eras("short"),0);case"GG":return Sn(t.eras("long"),0);case"y":return bt(c);case"yy":return bt(d,uw);case"yyyy":return bt(n);case"yyyyy":return bt(p);case"yyyyyy":return bt(o);case"M":return bt(a);case"MM":return bt(i);case"MMM":return Sn(t.months("short",!0),1);case"MMMM":return Sn(t.months("long",!0),1);case"L":return bt(a);case"LL":return bt(i);case"LLL":return Sn(t.months("short",!1),1);case"LLLL":return Sn(t.months("long",!1),1);case"d":return bt(a);case"dd":return bt(i);case"o":return bt(l);case"ooo":return bt(s);case"HH":return bt(i);case"H":return bt(a);case"hh":return bt(i);case"h":return bt(a);case"mm":return bt(i);case"m":return bt(a);case"q":return bt(a);case"qq":return bt(i);case"s":return bt(a);case"ss":return bt(i);case"S":return bt(l);case"SSS":return bt(s);case"u":return Ty(u);case"uu":return Ty(a);case"uuu":return bt(r);case"a":return Sn(t.meridiems(),0);case"kkkk":return bt(n);case"kk":return bt(d,uw);case"W":return bt(a);case"WW":return bt(i);case"E":case"c":return bt(r);case"EEE":return Sn(t.weekdays("short",!1),1);case"EEEE":return Sn(t.weekdays("long",!1),1);case"ccc":return Sn(t.weekdays("short",!0),1);case"cccc":return Sn(t.weekdays("long",!0),1);case"Z":case"ZZ":return T4(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return T4(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return Ty(/[a-z_+-/]{1,256}?/i);case" ":return Ty(/[^\S\n\r]/);default:return y(S)}})(e)||{invalidReason:nJ};return b.token=e,b}const uJ={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function hJ(e,t,r){const{type:i,value:s}=e;if(i==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const n=t[i];let o=i;i==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let a=uJ[o];if(typeof a=="object"&&(a=a[n]),a)return{literal:!1,val:a}}function fJ(e){return[`^${e.map(r=>r.regex).reduce((r,i)=>`${r}(${i.source})`,"")}$`,e]}function dJ(e,t,r){const i=e.match(t);if(i){const s={};let n=1;for(const o in r)if(ef(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(i.slice(n,n+l))),n+=l}return[i,s]}else return[i,{}]}function pJ(e){const t=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,i;return Be(e.z)||(r=Zn.create(e.z)),Be(e.Z)||(r||(r=new Ki(e.Z)),i=e.Z),Be(e.q)||(e.M=(e.q-1)*3+1),Be(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Be(e.u)||(e.S=$E(e.u)),[Object.keys(e).reduce((n,o)=>{const a=t(o);return a&&(n[a]=e[o]),n},{}),r,i]}let b2=null;function mJ(){return b2||(b2=Re.fromMillis(1555555555555)),b2}function yJ(e,t){if(e.literal)return e;const r=ki.macroTokenToFormatOpts(e.val),i=aL(r,t);return i==null||i.includes(void 0)?e:i}function sL(e,t){return Array.prototype.concat(...e.map(r=>yJ(r,t)))}class nL{constructor(t,r){if(this.locale=t,this.format=r,this.tokens=sL(ki.parseFormat(r),t),this.units=this.tokens.map(i=>cJ(i,t)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,s]=fJ(this.units);this.regex=RegExp(i,"i"),this.handlers=s}}explainFromTokens(t){if(this.isValid){const[r,i]=dJ(t,this.regex,this.handlers),[s,n,o]=i?pJ(i):[null,null,void 0];if(ef(i,"a")&&ef(i,"H"))throw new uh("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:i,result:s,zone:n,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function oL(e,t,r){return new nL(e,r).explainFromTokens(t)}function gJ(e,t,r){const{result:i,zone:s,specificOffset:n,invalidReason:o}=oL(e,t,r);return[i,s,n,o]}function aL(e,t){if(!e)return null;const i=ki.create(t,e).dtFormatter(mJ()),s=i.formatToParts(),n=i.resolvedOptions();return s.map(o=>hJ(o,e,n))}const _2="Invalid DateTime",$4=864e13;function vd(e){return new Ln("unsupported zone",`the zone "${e.name}" is not supported`)}function w2(e){return e.weekData===null&&(e.weekData=jg(e.c)),e.weekData}function x2(e){return e.localWeekData===null&&(e.localWeekData=jg(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function uc(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Re({...r,...t,old:r})}function lL(e,t,r){let i=e-t*60*1e3;const s=r.offset(i);if(t===s)return[i,t];i-=(s-t)*60*1e3;const n=r.offset(i);return s===n?[i,s]:[e-Math.min(s,n)*60*1e3,Math.max(s,n)]}function $y(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function $0(e,t,r){return lL(k1(e),t,r)}function M4(e,t){const r=e.o,i=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,n={...e.c,year:i,month:s,day:Math.min(e.c.day,Bg(i,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=pt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=k1(n);let[l,c]=lL(a,r,e.zone);return o!==0&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function ju(e,t,r,i,s,n){const{setZone:o,zone:a}=r;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=Re.fromObject(e,{...r,zone:l,specificOffset:n});return o?c:c.setZone(a)}else return Re.invalid(new Ln("unparsable",`the input "${s}" can't be parsed as ${i}`))}function My(e,t,r=!0){return e.isValid?ki.create(Tt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function S2(e,t,r){const i=e.c.year>9999||e.c.year<0;let s="";if(i&&e.c.year>=0&&(s+="+"),s+=jr(e.c.year,i?6:4),r==="year")return s;if(t){if(s+="-",s+=jr(e.c.month),r==="month")return s;s+="-"}else if(s+=jr(e.c.month),r==="month")return s;return s+=jr(e.c.day),s}function I4(e,t,r,i,s,n,o){let a=!r||e.c.millisecond!==0||e.c.second!==0,l="";switch(o){case"day":case"month":case"year":break;default:if(l+=jr(e.c.hour),o==="hour")break;if(t){if(l+=":",l+=jr(e.c.minute),o==="minute")break;a&&(l+=":",l+=jr(e.c.second))}else{if(l+=jr(e.c.minute),o==="minute")break;a&&(l+=jr(e.c.second))}if(o==="second")break;a&&(!i||e.c.millisecond!==0)&&(l+=".",l+=jr(e.c.millisecond,3))}return s&&(e.isOffsetFixed&&e.offset===0&&!n?l+="Z":e.o<0?(l+="-",l+=jr(Math.trunc(-e.o/60)),l+=":",l+=jr(Math.trunc(-e.o%60))):(l+="+",l+=jr(Math.trunc(e.o/60)),l+=":",l+=jr(Math.trunc(e.o%60)))),n&&(l+="["+e.zone.ianaName+"]"),l}const cL={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},vJ={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},bJ={ordinal:1,hour:0,minute:0,second:0,millisecond:0},M0=["year","month","day","hour","minute","second","millisecond"],_J=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],wJ=["year","ordinal","hour","minute","second","millisecond"];function I0(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new cN(e);return t}function O4(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return I0(e)}}function xJ(e){if(bd===void 0&&(bd=gr.now()),e.type!=="iana")return e.offset(bd);const t=e.name;let r=hw.get(t);return r===void 0&&(r=e.offset(bd),hw.set(t,r)),r}function C4(e,t){const r=pl(t.zone,gr.defaultZone);if(!r.isValid)return Re.invalid(vd(r));const i=Tt.fromObject(t);let s,n;if(Be(e.year))s=gr.now();else{for(const l of M0)Be(e[l])&&(e[l]=cL[l]);const o=kN(e)||RN(e);if(o)return Re.invalid(o);const a=xJ(r);[s,n]=$0(e,a,r)}return new Re({ts:s,zone:r,loc:i,o:n})}function P4(e,t,r){const i=Be(r.round)?!0:r.round,s=Be(r.rounding)?"trunc":r.rounding,n=(a,l)=>(a=ME(a,i||r.calendary?0:2,r.calendary?"round":s),t.loc.clone(r).relFormatter(r).format(a,l)),o=a=>r.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(r.unit)return n(o(r.unit),r.unit);for(const a of r.units){const l=o(a);if(Math.abs(l)>=1)return n(l,a)}return n(e>t?-0:0,r.units[r.units.length-1])}function N4(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}let bd;const hw=new Map;class Re{constructor(t){const r=t.zone||gr.defaultZone;let i=t.invalid||(Number.isNaN(t.ts)?new Ln("invalid input"):null)||(r.isValid?null:vd(r));this.ts=Be(t.ts)?gr.now():t.ts;let s=null,n=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[s,n]=[t.old.c,t.old.o];else{const a=Tl(t.o)&&!t.old?t.o:r.offset(this.ts);s=$y(this.ts,a),i=Number.isNaN(s.year)?new Ln("invalid input"):null,s=i?null:s,n=i?null:a}this._zone=r,this.loc=t.loc||Tt.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new Re({})}static local(){const[t,r]=N4(arguments),[i,s,n,o,a,l,c]=r;return C4({year:i,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,r]=N4(arguments),[i,s,n,o,a,l,c]=r;return t.zone=Ki.utcInstance,C4({year:i,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,r={}){const i=eY(t)?t.valueOf():NaN;if(Number.isNaN(i))return Re.invalid("invalid input");const s=pl(r.zone,gr.defaultZone);return s.isValid?new Re({ts:i,zone:s,loc:Tt.fromObject(r)}):Re.invalid(vd(s))}static fromMillis(t,r={}){if(Tl(t))return t<-$4||t>$4?Re.invalid("Timestamp out of range"):new Re({ts:t,zone:pl(r.zone,gr.defaultZone),loc:Tt.fromObject(r)});throw new Ii(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(Tl(t))return new Re({ts:t*1e3,zone:pl(r.zone,gr.defaultZone),loc:Tt.fromObject(r)});throw new Ii("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const i=pl(r.zone,gr.defaultZone);if(!i.isValid)return Re.invalid(vd(i));const s=Tt.fromObject(r),n=Vg(t,O4),{minDaysInFirstWeek:o,startOfWeek:a}=y4(n,s),l=gr.now(),c=Be(r.specificOffset)?i.offset(l):r.specificOffset,u=!Be(n.ordinal),d=!Be(n.year),p=!Be(n.month)||!Be(n.day),y=d||p,v=n.weekYear||n.weekNumber;if((y||u)&&v)throw new uh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&u)throw new uh("Can't mix ordinal dates with month/day");const b=v||n.weekday&&!y;let S,w,T=$y(l,c);b?(S=_J,w=vJ,T=jg(T,o,a)):u?(S=wJ,w=bJ,T=v2(T)):(S=M0,w=cL);let x=!1;for(const k of S){const V=n[k];Be(V)?x?n[k]=w[k]:n[k]=T[k]:x=!0}const _=b?ZW(n,o,a):u?XW(n):kN(n),$=_||RN(n);if($)return Re.invalid($);const M=b?p4(n,o,a):u?m4(n):n,[N,C]=$0(M,c,i),P=new Re({ts:N,zone:i,o:C,loc:s});return n.weekday&&y&&t.weekday!==P.weekday?Re.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${P.toISO()}`):P.isValid?P:Re.invalid(P.invalid)}static fromISO(t,r={}){const[i,s]=GY(t);return ju(i,s,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[i,s]=qY(t);return ju(i,s,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[i,s]=zY(t);return ju(i,s,r,"HTTP",r)}static fromFormat(t,r,i={}){if(Be(t)||Be(r))throw new Ii("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=i,o=Tt.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[a,l,c,u]=gJ(o,t,r);return u?Re.invalid(u):ju(a,l,i,`format ${r}`,t,c)}static fromString(t,r,i={}){return Re.fromFormat(t,r,i)}static fromSQL(t,r={}){const[i,s]=XY(t);return ju(i,s,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new Ii("need to specify a reason the DateTime is invalid");const i=t instanceof Ln?t:new Ln(t,r);if(gr.throwOnInvalid)throw new AW(i);return new Re({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const i=aL(t,Tt.fromObject(r));return i?i.map(s=>s?s.val:null).join(""):null}static expandFormat(t,r={}){return sL(ki.parseFormat(t),Tt.fromObject(r)).map(s=>s.val).join("")}static resetCache(){bd=void 0,hw.clear()}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?w2(this).weekYear:NaN}get weekNumber(){return this.isValid?w2(this).weekNumber:NaN}get weekday(){return this.isValid?w2(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?x2(this).weekday:NaN}get localWeekNumber(){return this.isValid?x2(this).weekNumber:NaN}get localWeekYear(){return this.isValid?x2(this).weekYear:NaN}get ordinal(){return this.isValid?v2(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ay.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ay.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ay.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ay.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,i=k1(this.c),s=this.zone.offset(i-t),n=this.zone.offset(i+t),o=this.zone.offset(i-s*r),a=this.zone.offset(i-n*r);if(o===a)return[this];const l=i-o*r,c=i-a*r,u=$y(l,o),d=$y(c,a);return u.hour===d.hour&&u.minute===d.minute&&u.second===d.second&&u.millisecond===d.millisecond?[uc(this,{ts:l}),uc(this,{ts:c})]:[this]}get isInLeapYear(){return Dm(this.year)}get daysInMonth(){return Bg(this.year,this.month)}get daysInYear(){return this.isValid?Ch(this.year):NaN}get weeksInWeekYear(){return this.isValid?Up(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Up(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:i,calendar:s}=ki.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:i,outputCalendar:s}}toUTC(t=0,r={}){return this.setZone(Ki.instance(t),r)}toLocal(){return this.setZone(gr.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:i=!1}={}){if(t=pl(t,gr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(r||i){const n=t.offset(this.ts),o=this.toObject();[s]=$0(o,n,t)}return uc(this,{ts:s,zone:t})}else return Re.invalid(vd(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:i}={}){const s=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:i});return uc(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=Vg(t,O4),{minDaysInFirstWeek:i,startOfWeek:s}=y4(r,this.loc),n=!Be(r.weekYear)||!Be(r.weekNumber)||!Be(r.weekday),o=!Be(r.ordinal),a=!Be(r.year),l=!Be(r.month)||!Be(r.day),c=a||l,u=r.weekYear||r.weekNumber;if((c||o)&&u)throw new uh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new uh("Can't mix ordinal dates with month/day");let d;n?d=p4({...jg(this.c,i,s),...r},i,s):Be(r.ordinal)?(d={...this.toObject(),...r},Be(r.day)&&(d.day=Math.min(Bg(d.year,d.month),d.day))):d=m4({...v2(this.c),...r});const[p,y]=$0(d,this.o,this.zone);return uc(this,{ts:p,o:y})}plus(t){if(!this.isValid)return this;const r=pt.fromDurationLike(t);return uc(this,M4(this,r))}minus(t){if(!this.isValid)return this;const r=pt.fromDurationLike(t).negate();return uc(this,M4(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const i={},s=pt.normalizeUnit(t);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(s==="weeks")if(r){const n=this.loc.getStartOfWeek(),{weekday:o}=this;o<n&&(i.weekNumber=this.weekNumber-1),i.weekday=n}else i.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);i.month=(n-1)*3+1}return this.set(i)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?ki.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):_2}toLocaleString(t=Ug,r={}){return this.isValid?ki.create(this.loc.clone(r),t).formatDateTime(this):_2}toLocaleParts(t={}){return this.isValid?ki.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:i=!1,includeOffset:s=!0,extendedZone:n=!1,precision:o="milliseconds"}={}){if(!this.isValid)return null;o=I0(o);const a=t==="extended";let l=S2(this,a,o);return M0.indexOf(o)>=3&&(l+="T"),l+=I4(this,a,r,i,s,n,o),l}toISODate({format:t="extended",precision:r="day"}={}){return this.isValid?S2(this,t==="extended",I0(r)):null}toISOWeekDate(){return My(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:i=!0,includePrefix:s=!1,extendedZone:n=!1,format:o="extended",precision:a="milliseconds"}={}){return this.isValid?(a=I0(a),(s&&M0.indexOf(a)>=3?"T":"")+I4(this,o==="extended",r,t,i,n,a)):null}toRFC2822(){return My(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return My(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?S2(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:i=!0}={}){let s="HH:mm:ss.SSS";return(r||t)&&(i&&(s+=" "),r?s+="z":t&&(s+="ZZ")),My(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():_2}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",i={}){if(!this.isValid||!t.isValid)return pt.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...i},n=tY(r).map(pt.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=sJ(a,l,n,s);return o?c.negate():c}diffNow(t="milliseconds",r={}){return this.diff(Re.now(),t,r)}until(t){return this.isValid?mr.fromDateTimes(this,t):this}hasSame(t,r,i){if(!this.isValid)return!1;const s=t.valueOf(),n=this.setZone(t.zone,{keepLocalTime:!0});return n.startOf(r,i)<=s&&s<=n.endOf(r,i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||Re.fromObject({},{zone:this.zone}),i=t.padding?this<r?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=t.unit;return Array.isArray(t.unit)&&(s=t.unit,n=void 0),P4(r,this.plus(i),{...t,numeric:"always",units:s,unit:n})}toRelativeCalendar(t={}){return this.isValid?P4(t.base||Re.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Re.isDateTime))throw new Ii("min requires all arguments be DateTimes");return g4(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(Re.isDateTime))throw new Ii("max requires all arguments be DateTimes");return g4(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,i={}){const{locale:s=null,numberingSystem:n=null}=i,o=Tt.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return oL(o,t,r)}static fromStringExplain(t,r,i={}){return Re.fromFormatExplain(t,r,i)}static buildFormatParser(t,r={}){const{locale:i=null,numberingSystem:s=null}=r,n=Tt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return new nL(n,t)}static fromFormatParser(t,r,i={}){if(Be(t)||Be(r))throw new Ii("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=i,o=Tt.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!o.equals(r.locale))throw new Ii(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${r.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:u}=r.explainFromTokens(t);return u?Re.invalid(u):ju(a,l,i,`format ${r.format}`,t,c)}static get DATE_SHORT(){return Ug}static get DATE_MED(){return uN}static get DATE_MED_WITH_WEEKDAY(){return MW}static get DATE_FULL(){return hN}static get DATE_HUGE(){return fN}static get TIME_SIMPLE(){return dN}static get TIME_WITH_SECONDS(){return pN}static get TIME_WITH_SHORT_OFFSET(){return mN}static get TIME_WITH_LONG_OFFSET(){return yN}static get TIME_24_SIMPLE(){return gN}static get TIME_24_WITH_SECONDS(){return vN}static get TIME_24_WITH_SHORT_OFFSET(){return bN}static get TIME_24_WITH_LONG_OFFSET(){return _N}static get DATETIME_SHORT(){return wN}static get DATETIME_SHORT_WITH_SECONDS(){return xN}static get DATETIME_MED(){return SN}static get DATETIME_MED_WITH_SECONDS(){return EN}static get DATETIME_MED_WITH_WEEKDAY(){return IW}static get DATETIME_FULL(){return AN}static get DATETIME_FULL_WITH_SECONDS(){return TN}static get DATETIME_HUGE(){return $N}static get DATETIME_HUGE_WITH_SECONDS(){return MN}}function Zf(e){if(Re.isDateTime(e))return e;if(e&&e.valueOf&&Tl(e.valueOf()))return Re.fromJSDate(e);if(e&&typeof e=="object")return Re.fromObject(e);throw new Ii(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const SJ="HH:mm",EJ="HH:mm:ss",AJ="HH:mm:ss.SSS",TJ=[AJ,EJ,SJ,"TT"],$J="yyyy-MM-dd";function L4(e){if(!e||!km(e))return null;const t=Re.fromFormat(e,$J);return t.isValid?t:null}function k4(e){return e&&km(e)?Wj(TJ,t=>{const r=Re.fromFormat(e,t);return r.isValid?r:null})??null:null}function R4(e){if(!e||!km(e))return null;const t=Re.fromISO(e);return t.isValid?t:null}const uL=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function MJ(e){return e!=null&&uL.has(e.type)}function hL(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function fL(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function dL(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const IJ=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);YS(uL,IJ);function hSe(e,t){const r=e?.domain;if(!r||r.type!=="range")return;const i="range"in r?r.range[0]:r.minValue,s="range"in r?r.range[1]:r.maxValue,n=MJ(e);return hL(e)||dL(e)||fL(e)?{...OJ(e,s,i),isInteger:n}:{min:i!=null&&typeof i=="number"?i:null,max:s!=null&&typeof s=="number"?s:null,rawMin:i,rawMax:s,isInteger:n}}function OJ(e,t,r){return hL(e)?{min:L4(r)?.toMillis(),max:L4(t)?.toMillis(),rawMin:r,rawMax:t}:dL(e)?{min:k4(r)?.toMillis(),max:k4(t)?.toMillis(),rawMin:r,rawMax:t}:fL(e)?{min:R4(r)?.toMillis(),max:R4(t)?.toMillis(),rawMin:r,rawMax:t}:{max:null,min:null}}function CJ(e){if(!e)return;const t=e.match(PJ);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const PJ=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-z_][a-z0-9_]*))$/i;function fSe(e){return e.match(NJ)?.[1]?.replaceAll("\\'","'")??null}const NJ=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let E2;function LJ(){return E2||(E2=(async()=>{const[e,t,r]=await Promise.all([ve(()=>import("./arcadeUtils-DAWsfcCb.js"),__vite__mapDeps([22,23,1,24,20,25,19,21,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,18,42,43,6,44,45,46]),import.meta.url),ve(()=>import("./batchExec-M7ek6aNZ.js"),__vite__mapDeps([47,11,12,13,14,1]),import.meta.url),ve(()=>import("./aiServices-BL1Qs7Ym.js").then(i=>i.a),__vite__mapDeps([39,21,25,19,20,26,27,28,29,30,40,24,41,1]),import.meta.url)]);return{arcade:e.arcade,arcadeUtils:e,batchExec:t,aiServices:r,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel,Pixel:e.Pixel}})()),E2}const kJ=/^([0-9_])/,RJ=/[^a-z0-9_\u0080-\uffff]+/gi;function dSe(e){return e==null?null:e.trim().replaceAll(RJ,"_").replace(kJ,"F$1")||null}const DJ=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],FJ=["field","normalizationField"];function pSe(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(D4(DJ,r,t),"visualVariables"in r&&r.visualVariables)for(const i of r.visualVariables)D4(FJ,i,t)}}function D4(e,t,r){if(e)for(const i of e){const s=VS(i,t),n=s&&typeof s!="function"&&r.get(s);n&&bu(i,n.name,t)}}function mSe(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const r=t.get(e.startField),i=t.get(e.endField);e.startField=r?.name??null,e.endField=i?.name??null}else{const r=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=r?.name??null,e.endTimeField=i?.name??null}}const A2=new Set;function PE(e,t){return e&&t?(A2.clear(),jp(A2,e,t),Array.from(A2).sort()):[]}function jp(e,t,r){if(r)if(t?.fields?.length)if(r.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of r)Bp(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const i of r)i!=null&&e.add(i)}}function Bp(e,t,r){if(typeof r=="string")if(t){const i=t.get(r);i&&e.add(i.name)}else e.add(r)}function ySe(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}function gSe(e,t,r=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const i=PE(e,t);return i.length/e.fields.length>=r?["*"]:i}async function cu(e,t,r,i){if(!i)return;const s=CJ(i);if(s)Bp(e,t,s);else{const{arcadeUtils:n}=await LJ(),o=n.extractFieldNames(i,r?.partitions??t?.fields?.map(a=>a.name));for(const a of o)Bp(e,r?.index??t,a)}}async function NE(e,t,r){if(r&&r!=="1=1"){const i=await wW(r,t);if(!i.isStandardized)throw new ft("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});jp(e,t,i.fieldNames)}}function vSe({displayField:e,fields:t}){return e||(t?.length?UJ(t):null)}function UJ(e){return T2(e,"name-or-title")||T2(e,"unique-identifier")||T2(e,"type-or-category")||jJ(e)}function jJ(e){for(const t of e){if(!t?.name)continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function T2(e,t){for(const r of e)if(r?.valueType&&r.valueType===t)return r.name;return null}async function bSe(e,t){if(!t)return;const r=t.elevationInfo?.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function BJ(e,t,r){r.onStatisticExpression?cu(e,t,null,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function _Se(e,t,r){if(!t||!r||!("fields"in r))return;const i=[],s=r.popupTemplate;i.push(pL(e,t,s)),r.fields&&i.push(...r.fields.map(async n=>BJ(e,t.fieldsIndex,n))),await Promise.all(i)}async function wSe(e,t){const{fieldsIndex:r,trackInfo:i}=t;if(!t||!i||!r)return;const s=[i.latestObservations.renderer?.collectRequiredFields(e,r),i.previousObservations.renderer?.collectRequiredFields(e,r),i.trackLines.renderer?.collectRequiredFields(e,r)];i.popupTemplate&&s.push(pL(e,t,i.popupTemplate));for(const n of[i.latestObservations.labelingInfo,i.previousObservations.labelingInfo,i.trackLines.labelingInfo])if(n)for(const o of n)s.push(gL(e,r,o));await Promise.all(s)}async function pL(e,t,r){const i=[];r?.expressionInfos&&i.push(...r.expressionInfos.map(n=>cu(e,t.fieldsIndex,null,n.expression)));const s=r?.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&i.push(cu(e,t.fieldsIndex,null,n.expressionInfo.expression));await Promise.all(i)}async function xSe(e,t,r){t&&(t.timeInfo&&r?.timeExtent&&jp(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&jp(e,t.fieldsIndex,[t.floorInfo.floorField]),r?.where!=null&&await NE(e,t.fieldsIndex,r.where))}async function SSe(e,t,r){t&&r&&await Promise.all(r.map(i=>VJ(e,t,i)))}async function VJ(e,t,r){t&&r&&(r.valueExpression?await cu(e,t.fieldsIndex,null,r.valueExpression):r.field&&Bp(e,t.fieldsIndex,r.field))}function ESe(e){return e?PE(e.fieldsIndex,mL(e)):[]}function GJ(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?PE(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function ASe(e,t,r){if(!t||!r)return;const i=t.fieldsIndex;await Promise.all(r.filters.map(s=>NE(e,i,s.where)))}const qJ=new Set(["oid","global-id","guid"]),zJ=new Set(["oid","global-id"]),HJ=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function WJ(e){const t=new Set;yL(e).forEach(i=>t.add(i)),GJ(e).forEach(i=>t.add(i.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(i=>t.add(i.toLowerCase())),Object.values(r.transformFieldRoles).forEach(i=>t.add(i.toLowerCase()))),Array.from(t)}function mL(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:i,editDateField:s,editorField:n}=t;return[r,i,s,n].filter(Boolean)}function yL(e){return mL(e).map(t=>t.toLowerCase())}function TSe(e,t){return e.editable&&!qJ.has(e.type)&&!yL(t).includes(e.name?.toLowerCase()??"")}function $Se(e,t){const r=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&r===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&r===t.globalIdField.toLowerCase()||WJ(t).includes(r)||zJ.has(e.type)||HJ.some(i=>i.test(r)))}async function MSe(e,t){const{labelingInfo:r,fieldsIndex:i}=t;r?.length&&await Promise.all(r.map(s=>gL(e,i,s)))}async function gL(e,t,r){if(!r)return;const i=r.getLabelExpression(),s=r.where;if(i.type==="arcade")await cu(e,t,null,i.expression);else{const n=i.expression.match(/{[^}]*}/g);n&&n.forEach(o=>{Bp(e,t,o.slice(1,-1))})}await NE(e,t,s)}function ISe(e){const t=e.defaultValue;return t!==void 0&&bL(e,t)?t:e.nullable?null:void 0}function OSe(e){const t=typeof e=="string"?{type:e}:e;return iK(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function vL(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function YJ(e){return e===null||vL(e)}function JJ(e){return e===null||Number.isInteger(e)}function KJ(){return!0}function bL(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?JJ:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?YJ:vL;break;case"string":case"esriFieldTypeString":r=e.nullable?EW:km;break;default:r=KJ}return arguments.length===1?r:r(t)}const ZJ=["integer","small-integer","big-integer","long"],XJ=["single","double"],QJ=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],eK=["esriFieldTypeSingle","esriFieldTypeDouble"],_L=new Set([...ZJ,...QJ]),tK=new Set([...XJ,...eK]),rK=YS(_L,tK);function CSe(e){return e!=null&&_L.has(e.type)}function wL(e){return e!=null&&rK.has(e.type)}function iK(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function sK(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function nK(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function oK(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function aK(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function PSe(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function NSe(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function LSe(e,t){return lK(e,t)===null}function kSe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function lK(e,t){return e==null||e.nullable&&t===null?null:bL(e,t)?wL(e)&&!cK(e.type,Number(t))?"numeric-range-validation-error::out-of-range":null:"type-validation-error::invalid-type"}function cK(e,t){const r=typeof e=="string"?xL(e):e;if(!r)return!1;const i=r.min,s=r.max;return r.isInteger?Number.isInteger(t)&&t>=i&&t<=s:t>=i&&t<=s}function xL(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return uK;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return hK;case"esriFieldTypeBigInteger":case"big-integer":return fK;case"esriFieldTypeSingle":case"single":return dK;case"esriFieldTypeDouble":case"double":return pK}}const uK={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},hK={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},fK={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Iy=(2-2**-23)*2**127,dK={min:-Iy,max:Iy,isInteger:!1,rawMin:-Iy,rawMax:Iy},pK={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function RSe(e,t,r){switch(e){case"domain-validation-error::invalid-coded-value":return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case"domain-validation-error::value-out-of-range":return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case"type-validation-error::invalid-type":return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case"numeric-range-validation-error::out-of-range":{const{min:i,max:s}=xL(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${i} to ${s}`}}}function DSe(e,t){return!mK(e,t,null)}function mK(e,t,r){if(!e?.attributes||!t)return!0;const i=new Set(Object.keys(e.attributes));let s=!1;for(const n of t)if(!i.has(n)&&(s=!0,r==null))break;return s}function FSe(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function yK(e){const t=e?.match(/{[^}]+}/g);return t?t.map(r=>r.slice(1,-1).split(":")[0].trim()):[]}let O0=class extends Xe{constructor(t){super(t),this.type=null}};g([A({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],O0.prototype,"type",void 0),O0=g([ie("esri.popup.content.Content")],O0);const Na=O0,Oy=new Do({asc:"ascending",desc:"descending"});let _d=class extends Ms(Xe){constructor(t){super(t),this.field=null,this.order="ascending"}};g([A({type:String,json:{write:!0}})],_d.prototype,"field",void 0),g([A({type:Oy.apiValues,json:{type:Oy.jsonValues,read:Oy.read,write:Oy.write}})],_d.prototype,"order",void 0),_d=g([ie("esri.popup.support.AttachmentsOrderByInfo")],_d);const gK=_d;let fo=class extends Ms(Na){constructor(t){super(t),this.attachmentKeywords=null,this.attachmentTypes=null,this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};g([A({type:[String],json:{write:!0}})],fo.prototype,"attachmentKeywords",void 0),g([A({type:[["application","audio","image","model","text","video"]],json:{write:!0}})],fo.prototype,"attachmentTypes",void 0),g([A({type:String,json:{write:!0}})],fo.prototype,"description",void 0),g([A({type:["auto","preview","list"],json:{write:!0}})],fo.prototype,"displayType",void 0),g([A({type:[gK],json:{write:!0}})],fo.prototype,"orderByFields",void 0),g([A({type:String,json:{write:!0}})],fo.prototype,"title",void 0),g([A({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],fo.prototype,"type",void 0),fo=g([ie("esri.popup.content.AttachmentsContent")],fo);const Vp=fo;var fw;let bc=fw=class extends Na{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new fw({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ge(this.outFields):null})}};g([A()],bc.prototype,"creator",void 0),g([A()],bc.prototype,"destroyer",void 0),g([A()],bc.prototype,"outFields",void 0),g([A({type:["custom"],readOnly:!0})],bc.prototype,"type",void 0),bc=fw=g([ie("esri.popup.content.CustomContent")],bc);const vK=bc;var dw;let Zu=dw=class extends Xe{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new dw({title:this.title,expression:this.expression})}};g([A({type:String,json:{write:!0}})],Zu.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],Zu.prototype,"expression",void 0),g([A({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Zu.prototype,"returnType",void 0),Zu=dw=g([ie("esri.popup.ElementExpressionInfo")],Zu);const bK=Zu;var pw;let wd=pw=class extends Na{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new pw({expressionInfo:this.expressionInfo?.clone()})}};g([A({type:bK,json:{write:!0}})],wd.prototype,"expressionInfo",void 0),g([A({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],wd.prototype,"type",void 0),wd=pw=g([ie("esri.popup.content.ExpressionContent")],wd);const F1=wd;function at(e,t={}){const r=e instanceof Do?e:new Do(e,t),{alwaysWriteDefaults:i,default:s,ignoreUnknown:n=!0,name:o,nonNullable:a,readOnly:l=!1}=t;return A({type:n?r.apiValues:String,json:{type:r.jsonValues,default:s,name:o,read:!l&&{reader:r.read},write:{writer:r.write,alwaysWriteDefaults:i}},nonNullable:a,readOnly:l})}let C0=class extends Ms(Xe){constructor(t){super(t),this.type=null}};g([A({type:["date-time","number"],nonNullable:!0,readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],C0.prototype,"type",void 0),C0=g([ie("esri.layers.support.FieldFormat")],C0);const LE=C0,SL="auto";let na=class extends LE{constructor(t){super(t),this.dateStyle=null,this.hour12=SL,this.month=null,this.timeStyle=null,this.type="date-time",this.year=null}};g([A({type:["full","long","medium","short"],json:{write:!0}})],na.prototype,"dateStyle",void 0),g([A({type:["always","auto","never"],nonNullable:!0,json:{default:SL,write:!0}})],na.prototype,"hour12",void 0),g([A({type:["long","short"],json:{write:!0}})],na.prototype,"month",void 0),g([A({type:["full","long","medium","short"],json:{write:!0}})],na.prototype,"timeStyle",void 0),g([A({type:["date-time"]})],na.prototype,"type",void 0),g([A({type:["numeric"],json:{write:!0}})],na.prototype,"year",void 0),na=g([ie("esri.layers.support.DateTimeFieldFormat")],na);const Gc=na,F4={min:0,max:20},EL=2,AL=0,TL="decimal",$L="auto";let Za=class extends LE{constructor(t){super(t),this.maximumFractionDigits=EL,this.minimumFractionDigits=AL,this.style=TL,this.type="number",this.useGrouping=$L}};g([A({type:_r,nonNullable:!0,range:F4,json:{default:EL,write:!0}})],Za.prototype,"maximumFractionDigits",void 0),g([A({type:_r,nonNullable:!0,range:F4,json:{default:AL,write:!0}})],Za.prototype,"minimumFractionDigits",void 0),g([A({type:["decimal"],nonNullable:!0,json:{default:TL,write:!0}})],Za.prototype,"style",void 0),g([A({type:["number"]})],Za.prototype,"type",void 0),g([A({type:["always","auto","never"],nonNullable:!0,json:{default:$L,write:!0}})],Za.prototype,"useGrouping",void 0),Za=g([ie("esri.layers.support.NumberFieldFormat")],Za);const Gg=Za;let Wd;const _K=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,mw=globalThis.document?.documentElement;function ML(){const e=mw?.getAttribute("lang"),t=globalThis.navigator?.language;return _K??e??t??"en"}function Nh(){return Wd===void 0&&(Wd=ML()),Wd}const wK=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function xK(e=Nh()){return IL(e)?.language}function SK(e=Nh()){const t=IL(e);return t?.language&&t?.extlang?e.replace(`${t.language}-`,""):e}function IL(e=Nh()){return wK.exec(e)?.groups}const P0=[];function zSe(e){return P0.push(e),kr(()=>{P0.splice(P0.indexOf(e),1)})}const N0=[];function EK(e){return N0.push(e),kr(()=>N0.splice(N0.indexOf(e),1))}function U4(){const e=ML();Wd!==e&&([...N0].forEach(t=>t(e)),Wd=e,[...P0].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",U4),mw&&new MutationObserver(()=>{U4()}).observe(mw,{attributeFilter:["lang"]});const tf="system",AK="unknown",kE="UTC",TK=Intl.DateTimeFormat().resolvedOptions().timeZone,$K={dateStyle:void 0,year:void 0,month:void 0,day:void 0,weekday:void 0},MK={timeStyle:void 0,hour12:void 0,hourCycle:void 0,hour:void 0,minute:void 0,second:void 0},OL={timeZone:kE},ao={year:"numeric",month:"numeric",day:"numeric"},Xf={year:"numeric",month:"long",day:"numeric"},Qf={year:"numeric",month:"short",day:"numeric"},ed={year:"numeric",month:"long",weekday:"long",day:"numeric"},al={hour:"numeric",minute:"numeric"},_c={...al,second:"numeric"},CL={hourCycle:"h23"},td={...al,...CL},rd={..._c,...CL},PL={"short-date":ao,"short-date-short-time":{...ao,...al},"short-date-short-time-24":{...ao,...td},"short-date-long-time":{...ao,..._c},"short-date-long-time-24":{...ao,...rd},"short-date-le":ao,"short-date-le-short-time":{...ao,...al},"short-date-le-short-time-24":{...ao,...td},"short-date-le-long-time":{...ao,..._c},"short-date-le-long-time-24":{...ao,...rd},"long-month-day-year":Xf,"long-month-day-year-short-time":{...Xf,...al},"long-month-day-year-short-time-24":{...Xf,...td},"long-month-day-year-long-time":{...Xf,..._c},"long-month-day-year-long-time-24":{...Xf,...rd},"day-short-month-year":Qf,"day-short-month-year-short-time":{...Qf,...al},"day-short-month-year-short-time-24":{...Qf,...td},"day-short-month-year-long-time":{...Qf,..._c},"day-short-month-year-long-time-24":{...Qf,...rd},"long-date":ed,"long-date-short-time":{...ed,...al},"long-date-short-time-24":{...ed,...td},"long-date-long-time":{...ed,..._c},"long-date-long-time-24":{...ed,...rd},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":al,"long-time":_c},IK=to()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),NL={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},OK=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),CK=OK.find(({type:e})=>e==="month")?.value.toLowerCase();function LL(){const e=xK();return(e&&NL[e])??SK()}CK!=="mart"&&(NL.bs="sr-Latn-CS");let yw=new WeakMap;const U1=PL["short-date-short-time"];function PK(e){let t=yw.get(e);if(!t){const r=LL(),i=DE(e.timeZone??tf),s={...e,timeZone:i};t=new Intl.DateTimeFormat(r,s),yw.set(e,t)}return t}function HSe(e){return PL[e]}function WSe(e){const{dateStyle:t,timeStyle:r,hour12:i,year:s,month:n}=e,o={};return t?o.dateStyle=t:s&&(o.year=s,o.month=n||void 0),r&&!o.year&&(o.timeStyle=r,o.hour12=i==="auto"?void 0:i==="always"),o}function RE(e,t=U1){return PK(t).format(e)}function YSe(e,t=U1){return RE(new Date(e),{...t,...OL,...MK})}function JSe(e,t=U1){return RE(new Date(`1970-01-01T${e}Z`),{...t,...OL,...$K})}function KSe(e,t=U1){if(t.timeZone)return RE(new Date(e),t);const r=Re.fromISO(e,{setZone:!0}),i=r.offset===0?kE:t.timeZone,s={...t,timeZone:i};return r.toLocaleString(s,{locale:LL()})}function DE(e){switch(e){case tf:return TK;case AK:return kE;default:return e}}EK(()=>{yw=new WeakMap});let Xu=class extends Ms(Xe){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};g([at(IK)],Xu.prototype,"dateFormat",void 0),g([A({type:Boolean,json:{write:!0}})],Xu.prototype,"digitSeparator",void 0),g([A({type:_r,json:{write:!0}})],Xu.prototype,"places",void 0),Xu=g([ie("esri.popup.support.FieldInfoFormat")],Xu);const Uf=Xu,NK={base:LE,key:"type",errorContext:"field-configuration-field-format",typeMap:{"date-time":Gc,number:Gg}};function XSe(e,t){const{format:r}=e;return t&&j1(t)?r?kL(r,t):L0(t,{hour12:"always",useGrouping:"always"}):null}function kL(e,t){const{dateFormat:r}=e;if(!t)return r?B4(e):j4(e);if(!j1(t))return;const i={hour12:"always"};switch(t.type){case"integer":case"small-integer":case"big-integer":case"long":return RL(e);case"single":case"double":return j4(e);case"date":case"timestamp-offset":return r?B4(e):L0(t,i);case"date-only":return r?LK(e):L0(t);case"time-only":return r?kK(e):L0(t,i)}}function j1(e){return wL(e)||sK(e)||nK(e)||aK(e)||oK(e)}function RL(e){return new Gg({useGrouping:e.digitSeparator?"always":"never"})}function j4(e){const t=RL(e),{places:r}=e;return t.minimumFractionDigits=r??0,t.maximumFractionDigits=r??2,t}function B4(e){return new Gc({dateStyle:DL(e),year:BL(e),month:UL(e),timeStyle:jL(e),hour12:FL(e)})}function LK(e){return new Gc({dateStyle:DL(e),year:BL(e),month:UL(e)})}function kK(e){return new Gc({timeStyle:jL(e),hour12:FL(e)})}function DL(e){const{dateFormat:t}=e;return t?t.startsWith("short-date")?"short":t.startsWith("day-short-month-year")?"medium":t.startsWith("long-month-day-year")?"long":t.startsWith("long-date")?"full":null:null}function FL(e){return e.dateFormat?.endsWith("-24")?"never":"always"}function UL(e){switch(e.dateFormat){case"short-month-year":return"short";case"long-month-year":return"long";default:return null}}function jL(e){const{dateFormat:t}=e;return t?t.includes("short-time")?"short":t.includes("long-time")?"medium":null:null}function BL(e){switch(e.dateFormat){case"short-month-year":case"long-month-year":case"year":return"numeric";default:return null}}function RK(e,t){const r=e.type==="number",i=e.type==="date-time";if(!t)return r?V4(e):i?G4(e):null;if(j1(t))switch(t.type){case"integer":case"small-integer":case"big-integer":case"long":return r?VL(e):null;case"single":case"double":return r?V4(e):null;case"date":case"timestamp-offset":return i?G4(e):null;case"date-only":return i?DK(e):null;case"time-only":return i?FK(e):null}}function VL(e){return new Uf({digitSeparator:e.useGrouping!=="never"})}function V4(e){const t=VL(e);return t.places=e.maximumFractionDigits,t}function G4(e){let t;const r=GL(e),i=qL(e),s=e.hour12==="never"?"24":null,n=e.year==="numeric"?"year":null,o=zL(e);return r&&i&&s?t=`${r}-${i}-${s}`:r&&i?t=`${r}-${i}`:r?t=r:n&&o?t=`${o}-${n}`:n&&(t=n),t?new Uf({dateFormat:t}):null}function DK(e){let t;const r=GL(e),i=e.year==="numeric"?"year":null,s=zL(e);return r?t=r:i&&s?t=`${s}-${i}`:i&&(t=i),t?new Uf({dateFormat:t}):null}function FK(e){let t;const r=qL(e),i=e.hour12==="never"?"24":null;return r&&i?t=`short-date-${r}-${i}`:r&&(t=`short-date-${r}`),t?new Uf({dateFormat:t}):null}function GL(e){switch(e.dateStyle){case"short":return"short-date";case"medium":return"day-short-month-year";case"long":return"long-month-day-year";case"full":return"long-date";default:return}}function qL(e){return e.timeStyle&&(e.timeStyle==="short"?"short-time":"long-time")}function zL(e){switch(e.month){case"short":return"short-month";case"long":return"long-month";default:return}}function L0(e,t){if(!j1(e))return;const r=t?.useGrouping??"auto",i=t?.hour12??"auto";switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return new Gg({minimumFractionDigits:0,maximumFractionDigits:0,useGrouping:r});case"single":case"double":return new Gg({minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:r});case"date":case"timestamp-offset":return new Gc({dateStyle:"short",timeStyle:"short",hour12:i});case"date-only":return new Gc({dateStyle:"short"});case"time-only":return new Gc({timeStyle:"short",hour12:i})}}let Cs=class extends Ms(Xe){constructor(t){super(t),this.fieldName=null,this.isEditable=!0,this.label=null,this.statisticType=null,this.stringFieldOption="text-box",this.tooltip=null,this.visible=!0}set fieldFormat(t){this._set("fieldFormat",t),this._set("format",t?RK(t):null)}set format(t){this._set("format",t),this._set("fieldFormat",t?kL(t):null)}readFormat(t,r){if(!r.fieldFormat)return t?Uf.fromJSON(t):null}clone(){const t=super.clone();return t._set("format",this.format?.clone()),t._set("fieldFormat",this.fieldFormat?.clone()),t}};g([A({value:null,clonable:!1,types:NK,json:{write:{overridePolicy(e,t,r){const{fieldName:i}=this;return{enabled:!!i&&!i.startsWith("expression/")&&!i.startsWith("relationships/")&&!!r?.writeFieldFormat}}}}})],Cs.prototype,"fieldFormat",null),g([A({type:String,json:{write:!0}})],Cs.prototype,"fieldName",void 0),g([A({value:null,clonable:!1,type:Uf,json:{write:!0}})],Cs.prototype,"format",null),g([Mr("format")],Cs.prototype,"readFormat",null),g([A({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Cs.prototype,"isEditable",void 0),g([A({type:String,json:{write:!0}})],Cs.prototype,"label",void 0),g([A({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Cs.prototype,"statisticType",void 0),g([at(new Do({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Cs.prototype,"stringFieldOption",void 0),g([A({type:String,json:{write:!0}})],Cs.prototype,"tooltip",void 0),g([A({type:Boolean,json:{write:!0}})],Cs.prototype,"visible",void 0),Cs=g([ie("esri.popup.FieldInfo")],Cs);const HL=Cs;var gw;let Xa=gw=class extends Na{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}clone(){return new gw(ge({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};g([A({type:Object,json:{write:!0}})],Xa.prototype,"attributes",void 0),g([A({type:String,json:{write:!0}})],Xa.prototype,"description",void 0),g([A({type:[HL],json:{write:!0}})],Xa.prototype,"fieldInfos",void 0),g([A({type:String,json:{write:!0}})],Xa.prototype,"title",void 0),g([A({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Xa.prototype,"type",void 0),Xa=gw=g([ie("esri.popup.content.FieldsContent")],Xa);const Gp=Xa;let wc=class extends Xe{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};g([A({type:String,json:{write:!0}})],wc.prototype,"altText",void 0),g([A({type:String,json:{write:!0}})],wc.prototype,"caption",void 0),g([A({type:String,json:{write:!0}})],wc.prototype,"title",void 0),g([A({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],wc.prototype,"type",void 0),wc=g([ie("esri.popup.content.mixins.MediaInfo")],wc);const FE=wc;var vw;let xc=vw=class extends ai{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new vw({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};g([A()],xc.prototype,"color",void 0),g([A()],xc.prototype,"fieldName",void 0),g([A()],xc.prototype,"tooltip",void 0),g([A()],xc.prototype,"value",void 0),xc=vw=g([ie("esri.popup.content.support.ChartMediaInfoValueSeries")],xc);const UK=xc;var bw;let Qa=bw=class extends Xe{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new bw({colors:ge(this.colors),fields:ge(this.fields),normalizeField:this.normalizeField,series:ge(this.series),tooltipField:this.tooltipField})}};g([A({type:[xt],json:{type:[[_r]],write:!0}})],Qa.prototype,"colors",void 0),g([A({type:[String],json:{write:{isRequired:!0}}})],Qa.prototype,"fields",void 0),g([A({type:String,json:{write:!0}})],Qa.prototype,"normalizeField",void 0),g([A({type:[UK],json:{read:!1}})],Qa.prototype,"series",void 0),g([A({type:String,json:{write:!0}})],Qa.prototype,"tooltipField",void 0),Qa=bw=g([ie("esri.popup.content.support.ChartMediaInfoValue")],Qa);const jK=Qa;let xd=class extends FE{constructor(t){super(t),this.type=null,this.value=void 0}};g([A({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],xd.prototype,"type",void 0),g([A({type:jK,json:{write:{isRequired:!0}}})],xd.prototype,"value",void 0),xd=g([ie("esri.popup.content.mixins.ChartMediaInfo")],xd);const B1=xd,V1=to()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var _w;let k0=_w=class extends B1{constructor(e){super(e),this.type="bar-chart"}clone(){return new _w({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:V1.write,isRequired:!0}}})],k0.prototype,"type",void 0),k0=_w=g([ie("esri.popup.content.BarChartMediaInfo")],k0);const WL=k0;var ww;let R0=ww=class extends B1{constructor(e){super(e),this.type="column-chart"}clone(){return new ww({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:V1.write,isRequired:!0}}})],R0.prototype,"type",void 0),R0=ww=g([ie("esri.popup.content.ColumnChartMediaInfo")],R0);const YL=R0;var xw;let Sd=xw=class extends Xe{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new xw({linkURL:this.linkURL,sourceURL:this.sourceURL})}};g([A({type:String,json:{write:!0}})],Sd.prototype,"linkURL",void 0),g([A({type:String,json:{write:{isRequired:!0}}})],Sd.prototype,"sourceURL",void 0),Sd=xw=g([ie("esri.popup.content.support.ImageMediaInfoValue")],Sd);const BK=Sd;var Sw;let Qu=Sw=class extends FE{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new Sw({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};g([A({type:Number,json:{write:!0}})],Qu.prototype,"refreshInterval",void 0),g([A({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Qu.prototype,"type",void 0),g([A({type:BK,json:{write:{isRequired:!0}}})],Qu.prototype,"value",void 0),Qu=Sw=g([ie("esri.popup.content.ImageMediaInfo")],Qu);const JL=Qu;var Ew;let D0=Ew=class extends B1{constructor(e){super(e),this.type="line-chart"}clone(){return new Ew({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:V1.write,isRequired:!0}}})],D0.prototype,"type",void 0),D0=Ew=g([ie("esri.popup.content.LineChartMediaInfo")],D0);const KL=D0;var Aw;let F0=Aw=class extends B1{constructor(e){super(e),this.type="pie-chart"}clone(){return new Aw({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:V1.write,isRequired:!0}}})],F0.prototype,"type",void 0),F0=Aw=g([ie("esri.popup.content.PieChartMediaInfo")],F0);const ZL=F0,Tw={base:FE,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":WL,"column-chart":YL,"line-chart":KL,"pie-chart":ZL,image:JL}};var $w;let Tn=$w=class extends Na{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?JL.fromJSON(t):t.type==="barchart"?WL.fromJSON(t):t.type==="columnchart"?YL.fromJSON(t):t.type==="linechart"?KL.fromJSON(t):t.type==="piechart"?ZL.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new $w(ge({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};g([A()],Tn.prototype,"activeMediaInfoIndex",void 0),g([A({type:Object,json:{write:!0}})],Tn.prototype,"attributes",void 0),g([A({type:String,json:{write:!0}})],Tn.prototype,"description",void 0),g([A({types:[Tw]})],Tn.prototype,"mediaInfos",void 0),g([Mr("mediaInfos")],Tn.prototype,"readMediaInfos",null),g([Gt("mediaInfos")],Tn.prototype,"writeMediaInfos",null),g([A({type:String,json:{write:!0}})],Tn.prototype,"title",void 0),g([A({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Tn.prototype,"type",void 0),Tn=$w=g([ie("esri.popup.content.MediaContent")],Tn);const qp=Tn;var Mw;let Ed=Mw=class extends Xe{constructor(e){super(e),this.field=null,this.order=null}clone(){return new Mw({field:this.field,order:this.order})}};g([A({type:String,json:{write:!0}})],Ed.prototype,"field",void 0),g([A({type:["asc","desc"],json:{write:!0}})],Ed.prototype,"order",void 0),Ed=Mw=g([ie("esri.popup.support.RelatedRecordsInfoFieldOrder")],Ed);const XL=Ed;let po=class extends Ms(Na){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};g([A({type:String,json:{write:!0}})],po.prototype,"description",void 0),g([A({type:Number,json:{type:_r,write:!0}})],po.prototype,"displayCount",void 0),g([A({type:["list"],json:{write:{isRequired:!0}}})],po.prototype,"displayType",void 0),g([A({type:[XL],json:{write:!0}})],po.prototype,"orderByFields",void 0),g([A({type:Number,json:{type:_r,write:{isRequired:!0}}})],po.prototype,"relationshipId",void 0),g([A({type:String,json:{write:!0}})],po.prototype,"title",void 0),g([A({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],po.prototype,"type",void 0),po=g([ie("esri.popup.content.RelationshipContent")],po);const zp=po;var Iw;let Ad=Iw=class extends Na{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new Iw({text:this.text})}};g([A({type:String,json:{write:!0}})],Ad.prototype,"text",void 0),g([A({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ad.prototype,"type",void 0),Ad=Iw=g([ie("esri.popup.content.TextContent")],Ad);const Hp=Ad;let oa=class extends Ms(Xe){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};g([A({type:String,json:{write:!0}})],oa.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],oa.prototype,"description",void 0),g([A({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],oa.prototype,"type",void 0),g([A({type:Number,json:{type:_r,write:!0}})],oa.prototype,"associatedNetworkSourceId",void 0),g([A({type:Number,json:{type:_r,write:!0}})],oa.prototype,"associatedAssetGroup",void 0),g([A({type:Number,json:{type:_r,write:!0}})],oa.prototype,"associatedAssetType",void 0),oa=g([ie("esri.popup.support.UtilityNetworkAssociationType")],oa);const VK=oa;let el=class extends Ms(Na){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};g([A({type:String,json:{write:!0}})],el.prototype,"description",void 0),g([A({type:Number,json:{type:_r,write:!0}})],el.prototype,"displayCount",void 0),g([A({type:String,json:{write:!0}})],el.prototype,"title",void 0),g([A({type:[VK],json:{write:!0}})],el.prototype,"associationTypes",void 0),g([at({utilityNetworkAssociations:"utility-network-associations"})],el.prototype,"type",void 0),el=g([ie("esri.popup.content.UtilityNetworkAssociationsContent")],el);const UE=el,GK={base:null,key:"type",typeMap:{attachment:Vp,media:qp,text:Hp,expression:F1,field:Gp,relationship:zp,utilityNetworkAssociations:UE}},qK={base:null,key:"type",typeMap:{attachment:Vp,media:qp,text:Hp,expression:F1,field:Gp,relationship:zp}};var Ow;let Sc=Ow=class extends Xe{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new Ow({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};g([A({type:String,json:{write:!0}})],Sc.prototype,"name",void 0),g([A({type:String,json:{write:!0}})],Sc.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],Sc.prototype,"expression",void 0),g([A({type:["string","number"],json:{write:!0}})],Sc.prototype,"returnType",void 0),Sc=Ow=g([ie("esri.popup.ExpressionInfo")],Sc);const zK=Sc;var Cw;let Td=Cw=class extends Xe{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new Cw({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};g([A({type:Boolean,json:{write:!0}})],Td.prototype,"returnTopmostRaster",void 0),g([A({type:Boolean,json:{write:!0}})],Td.prototype,"showNoDataRecords",void 0),Td=Cw=g([ie("esri.popup.LayerOptions")],Td);const HK=Td;var Pw;let $d=Pw=class extends Xe{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new Pw({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ge(this.orderByFields):null})}};g([A({type:Boolean,json:{write:!0}})],$d.prototype,"showRelatedRecords",void 0),g([A({type:[XL],json:{write:!0}})],$d.prototype,"orderByFields",void 0),$d=Pw=g([ie("esri.popup.RelatedRecordsInfo")],$d);const q4=$d;let QL=0;const jE=e=>{const t=e;let r=class extends t{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+QL++})}};return r=g([ie("esri.core.Identifiable")],r),r},nEe=e=>{const t=e;let r=class extends t{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:QL++})}};return r=g([ie("esri.core.Identifiable.NumericIdentifiable")],r),r};jE(class{});var Nw;let Zs=Nw=class extends jE(ai){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Nw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};g([A()],Zs.prototype,"active",void 0),g([A()],Zs.prototype,"className",void 0),g([A()],Zs.prototype,"disabled",void 0),g([A()],Zs.prototype,"icon",void 0),g([A()],Zs.prototype,"id",void 0),g([A()],Zs.prototype,"indicator",void 0),g([A()],Zs.prototype,"title",void 0),g([A()],Zs.prototype,"type",void 0),g([A()],Zs.prototype,"visible",void 0),Zs=Nw=g([ie("esri.support.actions.ActionBase")],Zs);const BE=Zs;var Lw;let U0=Lw=class extends BE{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new Lw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};g([A()],U0.prototype,"image",void 0),U0=Lw=g([ie("esri.support.actions.ActionButton")],U0);const WK=U0;var kw;let Md=kw=class extends BE{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new kw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};g([A()],Md.prototype,"image",void 0),g([A()],Md.prototype,"value",void 0),Md=kw=g([ie("esri.support.actions.ActionToggle")],Md);const YK=Md,id="relationships/",z4="expression/",JK=Mt.ofType({key:"type",defaultKeyValue:"button",base:BE,typeMap:{button:WK,toggle:YK}}),KK={base:Na,key:"type",typeMap:{media:qp,custom:vK,text:Hp,attachments:Vp,fields:Gp,expression:F1,relationship:zp,utilityNetworkAssociations:UE}},ek=new Set(["attachments","fields","media","text","expression","relationship"]),ZK=new Set([...ek,"utility-network-associations"]);let Fr=class extends Ms(Xe){constructor(t){super(t),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(r=>zh(KK,r)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||I5(t)?t:(Ft.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,r){const{popupElements:i}=r;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,i):this._readPopupInfo(r)}writeWebSceneContent(t,r,i,s){this._writePopupTemplateContent(t,r,s)}writeWebMapContent(t,r,i,s){this._writePopupTemplateContent(t,r,s)}writeFieldInfos(t,r,i,s){const{content:n}=this,o=Array.isArray(n)?n:null,{writeFieldFormat:a,...l}=s||{};if(t){const c=o?o.filter(d=>d.type==="fields"):[],u=c.length&&c.every(d=>d.fieldInfos?.length);r.fieldInfos=t.filter(Boolean).map(d=>{const p=d.toJSON(l);return u&&(p.visible=!1),p})}if(o)for(const c of o)c.type==="fields"&&this._writeFieldsContent(c,r,l)}writeLayerOptions(t,r,i,s){r[i]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(s)}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r,i){const s=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,i,[...s,...this._getContentExpressionInfos(this.content,s)]),jp(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t,r){const i=new Set;return await this.collectRequiredFields(i,t,r),[...i].sort()}_writePopupTemplateContent(t,r,i){typeof t!="string"?Array.isArray(t)&&(r.popupElements=t.filter(s=>i?.origin==="web-scene"?ek.has(s.type):ZK.has(s.type)).map(s=>s?.toJSON(i)),r.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(r):s.type==="media"?this._writeMediaContent(s,r):s.type==="text"?this._writeTextContent(s,r):s.type==="relationship"&&this._writeRelationshipContent(s,r)})):r.description=t}_writeFieldsContent(t,r,i){const s=t.fieldInfos;if(!Array.isArray(s)||!s.length)return;const n=r.fieldInfos;if(Array.isArray(n))for(const o of s){const a=n.find(l=>l.fieldName?.toLowerCase()===o.fieldName?.toLowerCase());a?a.visible=!0:n.push(o.toJSON(i))}else r.fieldInfos=s.map(o=>o.toJSON(i))}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){const i=t.orderByFields?.map(n=>this._toFieldOrderJSON(n,t.relationshipId))||[],s=[...r.relatedRecordsInfo?.orderByFields||[],...i];r.relatedRecordsInfo={showRelatedRecords:!0,...s?.length&&{orderByFields:s}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const i=ge(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...i]:r.mediaInfos=i}_readPopupInfoElements(t,r,i){const s={description:!1,mediaInfos:!1};return i.map(n=>n.type==="media"?(n.mediaInfos||!r||s.mediaInfos||(n.mediaInfos=r,s.mediaInfos=!0),qp.fromJSON(n)):n.type==="text"?(n.text||!t||s.description||(n.text=t,s.description=!0),Hp.fromJSON(n)):n.type==="attachments"?Vp.fromJSON(n):n.type==="fields"?Gp.fromJSON(n):n.type==="expression"?F1.fromJSON(n):n.type==="relationship"?zp.fromJSON(n):n.type==="utilityNetworkAssociations"?UE.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:r,order:i}=t;if(!r?.startsWith(id))return null;const s=r.replace(id,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),o=s[1];return!Number.isNaN(n)&&o?zp.fromJSON({relationshipId:n,orderByFields:[{field:o,order:i}]}):null}_toFieldOrderJSON(t,r){const{order:i,field:s}=t;return{field:`${id}${r}/${s}`,order:i}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:i,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];t?n.push(new Hp({text:t})):n.push(new Gp),Array.isArray(r)&&r.length&&n.push(qp.fromJSON({mediaInfos:r})),i&&n.push(Vp.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=s;return o&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&n.push(c)}),n.length?n:t}_getContentElementFields(t){const r=t?.type;if(r==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(r==="custom")return t.outFields||[];if(r==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(r==="media"){const i=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...i.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return r==="text"?this._extractFieldNames(t.text):r==="relationship"||r==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:r,title:i,value:s}=t,n=s||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:u}=n,d=[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(c),...this._extractFieldNames(u),...o??[]];return a&&d.push(a),l&&d.push(l),d}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((i,s)=>[...i,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],r):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((r,i)=>[...r,...this._getContentElementFields(i)],[]):[]}async _collectExpressionInfoFields(t,r,i,s){s&&await Promise.all(s.map(n=>cu(t,r,i,n.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:r,visible:i})=>!(i!==void 0&&!i||!r||r.startsWith(id)||r.startsWith(z4))).map(r=>r.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((r,i)=>[...r,...this._getActionFields(i)],[]):[]}_getActionFields(t){const{className:r,title:i,type:s}=t,n=s==="button"||s==="toggle"?t.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(n)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return yK(t).filter(r=>!(r.startsWith(id)||r.startsWith(z4)))}};g([A({type:JK})],Fr.prototype,"actions",void 0),g([A()],Fr.prototype,"content",void 0),g([Nm("content")],Fr.prototype,"castContent",null),g([Mr("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Fr.prototype,"readContent",null),g([Gt("web-scene","content",{popupElements:{type:Mt.ofType(qK)},showAttachments:{type:Boolean},mediaInfos:{type:Mt.ofType(Tw)},description:{type:String},relatedRecordsInfo:{type:q4}})],Fr.prototype,"writeWebSceneContent",null),g([Gt("content",{popupElements:{type:Mt.ofType(GK)},showAttachments:{type:Boolean},mediaInfos:{type:Mt.ofType(Tw)},description:{type:String},relatedRecordsInfo:{type:q4}})],Fr.prototype,"writeWebMapContent",null),g([A({type:[zK],json:{write:!0}})],Fr.prototype,"expressionInfos",void 0),g([A({type:[HL]})],Fr.prototype,"fieldInfos",void 0),g([Gt("fieldInfos")],Fr.prototype,"writeFieldInfos",null),g([A({type:HK})],Fr.prototype,"layerOptions",void 0),g([Gt("layerOptions")],Fr.prototype,"writeLayerOptions",null),g([A({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Fr.prototype,"lastEditInfoEnabled",void 0),g([A()],Fr.prototype,"outFields",void 0),g([A()],Fr.prototype,"overwriteActions",void 0),g([A()],Fr.prototype,"returnGeometry",void 0),g([A({json:{type:String}})],Fr.prototype,"title",void 0),g([Gt("title")],Fr.prototype,"writeTitle",null),Fr=g([ie("esri.PopupTemplate")],Fr);const XK=Fr,aEe=to()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),lEe=to()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),QK={base:Ti,key:"type",typeMap:{extent:mt,multipoint:Mn,point:ut,polyline:us,polygon:ni}};function cEe(e){return e.type==="point"}function uEe(e){return e.type==="multipoint"}function hEe(e){return e.type==="polygon"}function fEe(e){return e.type==="polyline"}const tk=Symbol("idFieldsProviderSymbol");function eZ(e){return!!e&&tk in e}function H4(e){return eZ(e)?e[tk]:void 0}const rk=Symbol("popupProvider");function dEe(e){return typeof e=="object"&&e!==null&&"popupEnabled"in e&&"popupTemplate"in e}function tZ(e){return!!e&&rk in e}function rZ(e){return tZ(e)?e[rk]:null}function pEe(e,t){switch(t.type){case"object-id":case"unique-id-simple":return e.attributes[t.fieldName];case"unique-id-composite":{const r=[];for(const i of t.fieldNames)r.push(e.attributes[i]??null);return JSON.stringify(r)}}}function W4(e,t){if("uniqueIdFields"in t&&t.uniqueIdFields?.length){if(t.uniqueIdFields.length===1)return e.attributes?.[t.uniqueIdFields[0]];const r=t.uniqueIdFields.map(i=>e.attributes?.[i]);return JSON.stringify(r)}return"objectIdField"in t&&t.objectIdField?e.attributes?.[t.objectIdField]:null}const Y4=new Do({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let iZ=0,Ir=class extends Xe{constructor(t){super(t),this.id="sym"+iZ++,this.type=null,this.color=new xt([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};g([A({type:Y4.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Y4.write,isRequired:!0}}})],Ir.prototype,"type",void 0),g([A({type:xt,json:{write:{allowNull:!0}}})],Ir.prototype,"color",void 0),g([Mr("color")],Ir.prototype,"readColor",null),Ir=g([ie("esri.symbols.Symbol")],Ir);var Rw;let fs=Rw=class extends Ir{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const i=r.map(s=>{const n=s.valueExpressionInfo;return n?cu(e,t,null,n.expression):null});await Promise.all(i)}}}clone(){return new Rw({data:ge(this.data)})}hash(){return y5(JSON.stringify(this.data)).toString()}};g([A({json:{write:!1}})],fs.prototype,"color",void 0),g([A({json:{write:!0}})],fs.prototype,"data",void 0),g([Mr("data",["symbol"])],fs.prototype,"readData",null),g([Gt("data",{})],fs.prototype,"writeData",null),g([at({CIMSymbolReference:"cim"},{readOnly:!0})],fs.prototype,"type",void 0),fs=Rw=g([ie("esri.symbols.CIMSymbol")],fs);function sZ(e,t,r=Mt){return t||(t=new r),t===e||t.destroyed||(t.removeAll(),oZ(e)?t.addMany(e):e&&t.add(e)),t}function nZ(e){return e}function oZ(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}let aZ=class{constructor(){this._resolver=Ip(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===1}isRejected(){return this._status===2}isFulfilled(){return this._status!==0}abort(){this._resolver.reject(Ts())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Ip(),r=[...this._resolvingPromises,t.promise],i=this._allPromise=Promise.all(r);i.then(()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==i||If(s)||this._resolver.reject(s)}),t.resolve()}};const lZ=e=>{const t=e;let r=class extends t{constructor(...i){super(...i),this._promiseProps=new aZ,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,s){return this._promiseProps.promise.then(()=>this).then(i,s)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}addResolvingTask(i){i&&!this._promiseProps.isFulfilled()&&(this.addHandles(Bj(i)),this._promiseProps.addResolvingPromise(i.promise))}};return r=g([ie("esri.core.Promise")],r),r},cZ=lZ(ai),uZ="not-loaded",hZ="loading",fZ="failed",J4="loaded",dZ=e=>{const t=e;let r=class extends t{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(s=>{const n=this.load.bind(this);this.load=o=>{const a=new Promise((l,c)=>{const u=Xj(o,c);this.destroyed&&c(new ft("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(l,c).finally(()=>{u&&u.remove()})});if(this.loadStatus===uZ){this._set("loadStatus",hZ);const l=this._loadController=new AbortController;n({signal:l.signal})}return s(),a}})),this.when(()=>{this._set("loadStatus",J4),this._loadController=null},s=>{this.destroyed||(this._set("loadStatus",fZ),this._set("loadError",s),this._loadController=null)})}destroy(){this._loadController&&(this._loadController=Hj(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===J4}get loadWarnings(){return this._get("loadWarnings")}load(i){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new ft("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return g([A({readOnly:!0})],r.prototype,"loaded",null),g([A({readOnly:!0})],r.prototype,"loadError",void 0),g([A({clonable:!1})],r.prototype,"loadStatus",void 0),g([A({type:[Op],readOnly:!0})],r.prototype,"loadWarnings",null),r=g([ie("esri.core.Loadable")],r),r},ik=dZ(cZ);function gEe(e){return!(!e||!e.load)}let Cy;function pZ(e){return Cy&&!Cy.destroyed||(Cy=e()),Cy}var Dw;const mZ=new Do({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Ar=Dw=class extends ai{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new Dw({categories:this.categories?ge(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let i="";if(this.extent){const o=uP(this.extent,Ge.WGS84);o!=null&&(i=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let s=this.query;!this.disableExtraQuery&&e.extraQuery&&(s="("+s+")"+e.extraQuery);const n={categories:r,bbox:i,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(o=>mZ.toJSON(o.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...t,...n}}}};g([A()],Ar.prototype,"categories",void 0),g([A()],Ar.prototype,"disableExtraQuery",void 0),g([A({type:mt})],Ar.prototype,"extent",void 0),g([A()],Ar.prototype,"filter",void 0),g([A()],Ar.prototype,"num",void 0),g([A()],Ar.prototype,"query",void 0),g([A()],Ar.prototype,"sortField",void 0),g([A()],Ar.prototype,"sortOrder",null),g([A()],Ar.prototype,"start",void 0),Ar=Dw=g([ie("esri.portal.PortalQueryParams")],Ar);var Fw;let pr=Fw=class extends Xe{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new ft("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new Fw({sourceJSON:e});return t.read(e),t}queryItems(e,t){let r=Wn(Ar,e);const i=this.portal;return parseFloat(i.currentVersion)>5?(r=r||new Ar,i.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new Ar,r.query="group:"+this.id+(r.query?" "+r.query:""),i.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then(i=>{const s=i.contentCategorySetsGroupQuery;if(s){const n=new Ar({disableExtraQuery:!0,num:1,query:s});return r.queryGroups(n,t)}throw new ft("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const s=i.results[0],n=new Ar({num:1,query:`typekeywords:"${e}"`});return s.queryItems(n,t)}throw new ft("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",t).then(s=>{const n=s?.categorySchema;return n?.length?n:[]}):[])}};g([A()],pr.prototype,"access",void 0),g([A({type:Date})],pr.prototype,"created",void 0),g([A()],pr.prototype,"description",void 0),g([A()],pr.prototype,"id",void 0),g([A()],pr.prototype,"isInvitationOnly",void 0),g([A({type:Date})],pr.prototype,"modified",void 0),g([A()],pr.prototype,"owner",void 0),g([A()],pr.prototype,"portal",void 0),g([A()],pr.prototype,"snippet",void 0),g([A()],pr.prototype,"sortField",void 0),g([A()],pr.prototype,"sortOrder",void 0),g([A()],pr.prototype,"sourceJSON",void 0),g([A()],pr.prototype,"tags",void 0),g([A()],pr.prototype,"thumbnail",void 0),g([A({readOnly:!0})],pr.prototype,"thumbnailUrl",null),g([A()],pr.prototype,"title",void 0),g([A({readOnly:!0})],pr.prototype,"url",null),pr=Fw=g([ie("esri.portal.PortalGroup")],pr);let Ec=class extends ai{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};g([A()],Ec.prototype,"nextQueryParams",void 0),g([A()],Ec.prototype,"queryParams",void 0),g([A()],Ec.prototype,"results",void 0),g([A()],Ec.prototype,"total",void 0),Ec=g([ie("esri.portal.PortalQueryResult")],Ec);let aa=class extends Xe{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ft("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};g([A({type:Date})],aa.prototype,"created",void 0),g([A()],aa.prototype,"id",void 0),g([A()],aa.prototype,"portal",void 0),g([A()],aa.prototype,"title",void 0),g([A({readOnly:!0})],aa.prototype,"url",null),g([A()],aa.prototype,"username",void 0),aa=g([ie("esri.portal.PortalFolder")],aa);var Uw;let Pt=Uw=class extends Xe{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.id}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.id}`:null}addItem(e){const t=e&&e.item,r=e?.data,i=e?.folder,s={method:"post"};t&&(s.query=t.createPostQuery(),r!=null&&(typeof r=="string"?s.query.text=r:typeof r=="object"&&(s.query.text=JSON.stringify(r))));let n=this.userContentUrl;return i&&(n+="/"+(typeof i=="string"?i:i.id)),this.portal.request(n+"/addItem",s).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let r=this.userContentUrl;e.ownerFolder&&(r+="/"+e.ownerFolder);const i=t?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${e.id}/delete`,{method:"post",query:i}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const r=this.userContentUrl+"/deleteItems",i=[],s=e.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:t}},o=await this.portal.request(r,n);for(const a of o.results){const l=e.find(d=>a.itemId===d.id),c=a.success;let u=null;c?(l.id=null,l.portal=null):a.error&&(u=new ft("portal:delete-item-failed",a.error.message,a.error)),i.push({item:l,success:c,error:u})}}return i}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(i=>{const s=aa.fromJSON(i);return s.portal=this.portal,s}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const i=pr.fromJSON(r);return i.portal=this.portal,i}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:r}=await ve(()=>import("./PortalItem-B-8c8jqB.js"),__vite__mapDeps([48,1]),import.meta.url),i={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},s=await this.portal.request(t,{query:i});let n;return s?.items?(n=s.items.map(o=>{const a=r.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(n.map(o=>o.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new pr({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new ft("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const r=this.userContentUrl,i=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(r+`/items/${e.id}/restore`,{method:"post",query:i})}toJSON(){throw new ft("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new Uw({sourceJSON:e});return t.read(e),t}};g([A()],Pt.prototype,"access",void 0),g([A({type:Date})],Pt.prototype,"created",void 0),g([A()],Pt.prototype,"culture",void 0),g([A()],Pt.prototype,"description",void 0),g([A()],Pt.prototype,"email",void 0),g([A()],Pt.prototype,"favGroupId",void 0),g([A()],Pt.prototype,"fullName",void 0),g([A()],Pt.prototype,"id",void 0),g([A({type:Date})],Pt.prototype,"modified",void 0),g([A()],Pt.prototype,"orgId",void 0),g([A()],Pt.prototype,"portal",void 0),g([A()],Pt.prototype,"preferredView",void 0),g([A()],Pt.prototype,"privileges",void 0),g([A()],Pt.prototype,"region",void 0),g([A()],Pt.prototype,"role",void 0),g([A()],Pt.prototype,"roleId",void 0),g([A()],Pt.prototype,"sourceJSON",void 0),g([A()],Pt.prototype,"thumbnail",void 0),g([A({readOnly:!0})],Pt.prototype,"thumbnailUrl",null),g([A()],Pt.prototype,"units",void 0),g([A({readOnly:!0})],Pt.prototype,"userContentUrl",null),g([A({readOnly:!0})],Pt.prototype,"url",null),g([A()],Pt.prototype,"username",void 0),g([A()],Pt.prototype,"userLicenseTypeId",void 0),g([A()],Pt.prototype,"userType",void 0),Pt=Uw=g([ie("esri.portal.PortalUser")],Pt);var Ps;let sd;const K4={PortalGroup:()=>Promise.resolve({default:pr}),PortalItem:()=>ve(()=>import("./PortalItem-B-8c8jqB.js"),__vite__mapDeps([48,1]),import.meta.url),PortalUser:()=>Promise.resolve({default:Pt})};let de=class extends v6(ik){static{Ps=this}static{this.AUTH_MODE_ANONYMOUS="anonymous"}static{this.AUTH_MODE_AUTO="auto"}static{this.AUTH_MODE_IMMEDIATE="immediate"}static{this.AUTH_MODE_NO_PROMPT="no-prompt"}constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.g3DTilesGalleryGroupQuery=null,this.g3dTilesEnabled=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=yt.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){Z4.unregister(this),this.defaultBasemap=f0(this.defaultBasemap),this.defaultDevBasemap=f0(this.defaultDevBasemap),this.defaultVectorBasemap=f0(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Mm(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const r of t)yt.request.trustedServers.includes(r)||yt.request.trustedServers.push(r);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const t=this.user?.orgId,r=!t||this.canSearchPublic;return this.id&&!r?` AND orgid:${this.id}`:null}get hasAPIKey(){return TG(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get loaded(){return super.loaded}get restUrl(){let t=this.url;if(t){const r=t.indexOf("/sharing");t=r>0?t.slice(0,r):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,r=this.thumbnail;return t&&r?this._normalizeSSL(t+"/portals/self/resources/"+r):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let r=null;return t&&(r=Pt.fromJSON(t),r.portal=this),r}load(t){const r=ve(async()=>{const{default:i}=await import("./Basemap-BFyOB0Rp.js").then(s=>s.B);return{default:i}},__vite__mapDeps([49,1,50,51,48,4,3,52,53]),import.meta.url).then(({default:i})=>{Mp(t),sd=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(i=>{if(!this.hasAPIKey&&Jt){const s=Jt;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==Ps.AUTH_MODE_AUTO&&this.authMode!==Ps.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=s.on("credential-create",yZ(new WeakRef(this))),Z4.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(r),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),r=(await ve(async()=>{const{default:i}=await import("./ElevationLayer-T-HYP3ty.js");return{default:i}},__vite__mapDeps([54,1,55,56,57,58,59,60,61,16,17,34,62,63,64,65,66,67,51,48,68,69,70,71,72,73,12,3,4]),import.meta.url)).default;return t?t.map(i=>new r({id:i.id,url:i.url})):[]}async fetchBasemaps(t,r){const i=await this._fetchBasemaps(t,r);if(r?.include3d===!0&&this.use3dBasemaps!==!1){const s=await this._fetchBasemaps3D(t,r);i.unshift(...s)}return i}async fetchDefault3DBasemap(t){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const r=new Ar;r.query=this.default3DBasemapQuery,r.disableExtraQuery=!0;const i=(await this.queryItems(r,t)).results.find(s=>s.type==="Web Scene");return i?new sd({portalItem:i}):null}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(r=>r.categorySchema):Nl(t)?Promise.reject(Ts()):Promise.resolve([])}async fetchClassificationSchema(t){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",t).then(r=>r.classificationSchema):null}fetchFeaturedGroups(t){const r=this.featuredGroups,i=new Ar({num:100,sortField:"title"});if(r?.length){const s=[];for(const n of r)s.push(`(title:"${n.title}" AND owner:${n.owner})`);return i.query=s.join(" OR "),this.queryGroups(i,t).then(n=>n.results)}return Nl(t)?Promise.reject(Ts()):Promise.resolve([])}fetchRegions(t){const r=this.user?.culture||this.culture||Nh();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:r}})}fetchSettings(t){const r=this.user?.culture||this.culture||Nh();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:r}})}static getDefault(){return pZ(()=>new Ps)}queryGroups(t,r){return this.queryPortal("/community/groups",t,"PortalGroup",r)}queryItems(t,r){return this.queryPortal("/search",t,"PortalItem",r)}queryUsers(t,r){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",r)}fetchSelf(t=this.authMode,r=!1,i){const s=this.restUrl+"/portals/self",n={authMode:t,query:{culture:Nh().toLowerCase()},withCredentials:!0,...i};return n.authMode==="auto"&&(n.authMode="no-prompt"),r&&(n.query.default=!0),this.request(s,n)}queryPortal(t,r,i,s){const n=Wn(Ar,r),o=a=>this.request(this.restUrl+t,{...n.toRequestOptions(this),...s}).then(l=>{const c=n.clone();return c.start=l.nextStart,new Ec({nextQueryParams:c,queryParams:n,total:l.total,results:Ps._resultsToTypedArray(a,{portal:this},l,s)})}).then(l=>Promise.all(l.results.map(c=>typeof c.when=="function"?c.when():l)).then(()=>l,c=>(Zj(c),l)));return i&&K4[i]?K4[i]().then(({default:a})=>(Mp(s),o(a))):o()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new ft("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===Ps.AUTH_MODE_ANONYMOUS||this.authMode===Ps.AUTH_MODE_NO_PROMPT&&!Jt)return Promise.reject(new ft("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=r=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(r||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=r,this.fetchSelf("immediate"))):this.user&&this.credential===r?null:(this.credential=r,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return Jt?Jt.getCredential(this.restUrl,{prompt:this.authMode!==Ps.AUTH_MODE_NO_PROMPT}).then(r=>t(r)):t(this.credential)}normalizeUrl(t){const r=this.credential?.token;return this._normalizeSSL(r?t+(t.includes("?")?"&":"?")+"token="+r:t)}requestToTypedArray(t,r,i){return this.request(t,r).then(s=>{const n=Ps._resultsToTypedArray(i,{portal:this},s);return Promise.all(n.map(o=>typeof o.when=="function"?o.when():s)).then(()=>n,()=>n)})}request(t,r={}){const i={f:"json",...r.query},{authMode:s=this.authMode===Ps.AUTH_MODE_ANONYMOUS||this.authMode===Ps.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:n=null,cacheBust:o=!1,method:a="auto",responseType:l="json",signal:c}=r,u={authMode:s,body:n,cacheBust:o,method:a,query:i,responseType:l,timeout:0,signal:c};return r.withCredentials&&(u.withCredentials=!0),Pr(this._normalizeSSL(t),u).then(d=>d.data)}toJSON(){throw new ft("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new Ps({sourceJSON:t})}_getHelperService(t){const r=this.helperServices?.[t];if(!r)throw new ft("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return r}async _fetchBasemaps(t,r){const i=new Ar;i.query=t||(P$()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const s=await this.queryGroups(i,r);if(!s.total)return[];const n=s.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=n.sortField||"name",i.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(i,r);return o.total?o.results.filter(a=>a.type==="Web Map").map(a=>new sd({portalItem:a})):[]}async _fetchBasemaps3D(t,r){const i=t||this.basemapGalleryGroupQuery3D;if(!i)return[];if(P$())return[];const s=new Ar({query:i,disableExtraQuery:!0}),n=await this.queryGroups(s,r);if(!n.total)return[];const o=n.results[0];s.num=100,s.query='type:"Web Scene"',s.sortField=o.sortField||"name",s.sortOrder=o.sortOrder||"desc";const a=await o.queryItems(s,r);return a.total?a.results.filter(l=>l.type==="Web Scene").map(l=>new sd({portalItem:l})):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const r=sd.fromJSON(t);return r.portalItem={portal:this},r}return null}static _resultsToTypedArray(t,r,i,s){let n;if(i){const o=s!=null?s.signal:null;n=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(t||r)&&(n=n.map(a=>{const l=Object.assign(t?t.fromJSON(a):a,r);return typeof l.load=="function"&&l.load(o),l}))}else n=[];return n}};g([A()],de.prototype,"access",void 0),g([A()],de.prototype,"allSSL",void 0),g([A()],de.prototype,"authMode",void 0),g([A()],de.prototype,"authorizedCrossOriginDomains",void 0),g([Mr("authorizedCrossOriginDomains")],de.prototype,"readAuthorizedCrossOriginDomains",null),g([A()],de.prototype,"basemapGalleryGroupQuery",void 0),g([A({json:{name:"3DBasemapGalleryGroupQuery"}})],de.prototype,"basemapGalleryGroupQuery3D",void 0),g([A({json:{name:"g3DTilesGalleryGroupQuery"}})],de.prototype,"g3DTilesGalleryGroupQuery",void 0),g([A({json:{name:"g3dTilesEnabled"}})],de.prototype,"g3dTilesEnabled",void 0),g([A()],de.prototype,"bingKey",void 0),g([A()],de.prototype,"canListApps",void 0),g([A()],de.prototype,"canListData",void 0),g([A()],de.prototype,"canListPreProvisionedItems",void 0),g([A()],de.prototype,"canProvisionDirectPurchase",void 0),g([A()],de.prototype,"canSearchPublic",void 0),g([A()],de.prototype,"canShareBingPublic",void 0),g([A()],de.prototype,"canSharePublic",void 0),g([A()],de.prototype,"canSignInArcGIS",void 0),g([A()],de.prototype,"canSignInIDP",void 0),g([A()],de.prototype,"colorSetsGroupQuery",void 0),g([A()],de.prototype,"commentsEnabled",void 0),g([A({type:Date})],de.prototype,"created",void 0),g([A()],de.prototype,"credential",void 0),g([A()],de.prototype,"culture",void 0),g([A()],de.prototype,"currentVersion",void 0),g([A()],de.prototype,"customBaseUrl",void 0),g([A()],de.prototype,"default3DBasemapQuery",void 0),g([A()],de.prototype,"defaultBasemap",void 0),g([Mr("defaultBasemap")],de.prototype,"readDefaultBasemap",null),g([A()],de.prototype,"defaultDevBasemap",void 0),g([Mr("defaultDevBasemap")],de.prototype,"readDefaultDevBasemap",null),g([A({type:mt})],de.prototype,"defaultExtent",void 0),g([A()],de.prototype,"defaultVectorBasemap",void 0),g([Mr("defaultVectorBasemap")],de.prototype,"readDefaultVectorBasemap",null),g([A()],de.prototype,"description",void 0),g([A()],de.prototype,"devBasemapGalleryGroupQuery",void 0),g([A()],de.prototype,"eueiEnabled",void 0),g([A({readOnly:!0})],de.prototype,"extraQuery",null),g([A()],de.prototype,"featuredGroups",void 0),g([A()],de.prototype,"featuredItemsGroupQuery",void 0),g([A()],de.prototype,"galleryTemplatesGroupQuery",void 0),g([A()],de.prototype,"layoutGroupQuery",void 0),g([A()],de.prototype,"livingAtlasGroupQuery",void 0),g([A({readOnly:!0})],de.prototype,"hasAPIKey",null),g([A()],de.prototype,"hasCategorySchema",void 0),g([A()],de.prototype,"hasClassificationSchema",void 0),g([A()],de.prototype,"helpBase",void 0),g([A()],de.prototype,"helperServices",void 0),g([A()],de.prototype,"helpMap",void 0),g([A()],de.prototype,"homePageFeaturedContent",void 0),g([A()],de.prototype,"homePageFeaturedContentCount",void 0),g([A()],de.prototype,"httpPort",void 0),g([A()],de.prototype,"httpsPort",void 0),g([A()],de.prototype,"id",void 0),g([A()],de.prototype,"ipCntryCode",void 0),g([A({readOnly:!0})],de.prototype,"isOrganization",null),g([A()],de.prototype,"isPortal",void 0),g([A()],de.prototype,"isReadOnly",void 0),g([A({readOnly:!0})],de.prototype,"itemPageUrl",null),g([A()],de.prototype,"layerTemplatesGroupQuery",void 0),g([A()],de.prototype,"maxTokenExpirationMinutes",void 0),g([A({type:Date})],de.prototype,"modified",void 0),g([A()],de.prototype,"name",void 0),g([A()],de.prototype,"portalHostname",void 0),g([A()],de.prototype,"portalMode",void 0),g([A()],de.prototype,"portalProperties",void 0),g([A()],de.prototype,"region",void 0),g([A()],de.prototype,"recycleBinEnabled",void 0),g([A({readOnly:!0})],de.prototype,"restUrl",null),g([A()],de.prototype,"rotatorPanels",void 0),g([A()],de.prototype,"showHomePageDescription",void 0),g([A()],de.prototype,"sourceJSON",void 0),g([A()],de.prototype,"staticImagesUrl",void 0),g([A({json:{name:"2DStylesGroupQuery"}})],de.prototype,"stylesGroupQuery2d",void 0),g([A({json:{name:"stylesGroupQuery"}})],de.prototype,"stylesGroupQuery3d",void 0),g([A()],de.prototype,"supportsHostedServices",void 0),g([A()],de.prototype,"symbolSetsGroupQuery",void 0),g([A()],de.prototype,"templatesGroupQuery",void 0),g([A()],de.prototype,"thumbnail",void 0),g([A({readOnly:!0})],de.prototype,"thumbnailUrl",null),g([A()],de.prototype,"units",void 0),g([A()],de.prototype,"url",void 0),g([A()],de.prototype,"urlKey",void 0),g([Mr("urlKey")],de.prototype,"readUrlKey",null),g([A()],de.prototype,"user",void 0),g([Mr("user")],de.prototype,"readUser",null),g([A()],de.prototype,"use3dBasemaps",void 0),g([A()],de.prototype,"useDefault3dBasemap",void 0),g([A()],de.prototype,"useStandardizedQuery",void 0),g([A()],de.prototype,"useVectorBasemaps",void 0),g([A()],de.prototype,"vectorBasemapGalleryGroupQuery",void 0),de=Ps=g([ie("esri.portal.Portal")],de);const Z4=new FinalizationRegistry(e=>{e.remove()});function yZ(e){const t=Jt;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let Yi=class extends Xe{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,i){t||(r[i]=t)}};g([A({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Yi.prototype,"enabled",void 0),g([Gt("enabled")],Yi.prototype,"writeEnabled",null),g([A({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Yi.prototype,"type",void 0),Yi=g([ie("esri.symbols.Symbol3DLayer")],Yi);const gZ=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,vZ="screenUtils.toPt: input not recognized!",sk=96;function xEe(e){return e?e/72*sk:0}function Fo(e){return e?72*e/sk:0}function rr(e){if(typeof e=="string"){const t=e.match(gZ);if(t){const r=Number(t[1]),i=t[3]&&t[3].toLowerCase(),s=e.startsWith("-"),n=i==="px"?Fo(r):r;return s?-n:n}return console.warn(vZ),null}return e}function bZ(e=0,t=0){return{x:e,y:t}}function SEe(e){return e?bZ(e.x,e.y):null}function EEe(e=0,t=0){return[e,t]}function AEe(e=0,t=0,r=0){return[e,t,r]}function TEe(e){return e}function $Ee(e){return e}function MEe(e){return e}function IEe(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function _Z(e){const t=GS(100*(1-e));return Math.max(0,Math.min(t,100))}function wZ(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function xZ(e,t){const r=t.transparency!=null?wZ(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new xt([i[0]||0,i[1]||0,i[2]||0,r]):null}function SZ(e,t){t.color=e.toJSON().slice(0,3);const r=_Z(e.a);r!==0&&(t.transparency=r)}function zl(e){return{type:xt,nonNullable:e?.nonNullable,json:{type:[_r],default:null,read:{source:["color","transparency"],reader:xZ},write:{target:{color:{type:[_r],isRequired:e?.colorRequiredOnWrite},transparency:{type:_r}},writer:SZ}}}}const Uo={type:Number,cast:rr,json:{write:!0}};function OEe(e){return e==="emissive"?0:1}let Ac=class extends Xe{constructor(t){super(t),this.color=new xt([0,0,0,1]),this.extensionLength=0,this.size=Fo(1)}clone(){}cloneProperties(){return{color:ge(this.color),size:this.size,extensionLength:this.extensionLength}}};g([A({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Ac.prototype,"type",void 0),g([A(zl({colorRequiredOnWrite:!0}))],Ac.prototype,"color",void 0),g([A({...Uo,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Ac.prototype,"extensionLength",void 0),g([A(Uo)],Ac.prototype,"size",void 0),Ac=g([ie("esri.symbols.edges.Edges3D")],Ac);const VE=Ac;var jw;let j0=jw=class extends VE{constructor(e){super(e),this.type="sketch"}clone(){return new jw(this.cloneProperties())}};g([at({sketch:"sketch"},{readOnly:!0})],j0.prototype,"type",void 0),j0=jw=g([ie("esri.symbols.edges.SketchEdges3D")],j0);const EZ=j0;var Bw;let B0=Bw=class extends VE{constructor(e){super(e),this.type="solid"}clone(){return new Bw(this.cloneProperties())}};g([at({solid:"solid"},{readOnly:!0})],B0.prototype,"type",void 0),B0=Bw=g([ie("esri.symbols.edges.SolidEdges3D")],B0);const nk=B0,ok={types:{key:"type",base:VE,typeMap:{solid:nk,sketch:EZ}},json:{write:!0}};var Vw;let hh=Vw=class extends Xe{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const e={strength:this.strength,source:this.source};return new Vw(e)}};g([A({json:{write:!1}})],hh.prototype,"strength",void 0),g([A({json:{write:!1}})],hh.prototype,"source",void 0),hh=Vw=g([ie("esri.symbols.support.Symbol3DEmissive")],hh);var Gw;let Fs=Gw=class extends Xe{constructor(e){super(e),this.color=null,this.emissive=new hh({source:"emissive"})}clone(){const e={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new Gw(e)}};g([A(zl())],Fs.prototype,"color",void 0),g([A({type:hh,json:{write:!1}})],Fs.prototype,"emissive",void 0),Fs=Gw=g([ie("esri.symbols.support.Symbol3DMaterial")],Fs);var qw;let ua=class extends Yi{static{qw=this}constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new qw({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};g([at({Extrude:"extrude"},{readOnly:!0})],ua.prototype,"type",void 0),g([A({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],ua.prototype,"size",void 0),g([A({type:Fs,json:{write:!0}})],ua.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ua.prototype,"castShadows",void 0),g([A(ok)],ua.prototype,"edges",void 0),ua=qw=g([ie("esri.symbols.ExtrudeSymbol3DLayer")],ua);let Yd=class extends Xe{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Yd.prototype,"type",void 0),Yd=g([ie("esri.symbols.patterns.LinePattern3D")],Yd);const AZ=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var zw;const TZ=to()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let kc=zw=class extends Yd{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new zw(e)}};g([A({type:["style"],json:{write:{isRequired:!0}}})],kc.prototype,"type",void 0),g([at(TZ),A({type:AZ,json:{write:{isRequired:!0}}})],kc.prototype,"style",void 0),kc=zw=g([ie("esri.symbols.patterns.LineStylePattern3D")],kc);let Jd=class extends Xe{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Jd.prototype,"type",void 0),Jd=g([ie("esri.symbols.patterns.Pattern3D")],Jd);const $Z=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Hw;let fh=Hw=class extends Jd{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new Hw({style:this.style})}};g([A({type:["style"],json:{write:{isRequired:!0}}})],fh.prototype,"type",void 0),g([A({type:$Z,json:{read:!0,write:{isRequired:!0}}})],fh.prototype,"style",void 0),fh=Hw=g([ie("esri.symbols.patterns.StylePattern3D")],fh);const MZ={types:{key:"type",base:Jd,typeMap:{style:fh}},json:{write:!0}},ak={types:{key:"type",base:Yd,typeMap:{style:kc}},json:{write:!0}},Kd=new xt("white"),IZ=new xt([255,255,255,0]);function OZ(e){return e.r===0&&e.g===0&&e.b===0}var Ww;let Zd=Ww=class extends Fs{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new Ww(e)}};g([at({multiply:"multiply",replace:"replace",tint:"tint"})],Zd.prototype,"colorMixMode",void 0),Zd=Ww=g([ie("esri.symbols.support.Symbol3DFillMaterial")],Zd);function GE(){return[0,0,0]}function CZ(e){return[e[0],e[1],e[2]]}function jf(e,t,r){return[e,t,r]}function PZ(e,t,r){return[e,t,r]}function NZ(e,t=GE()){const r=Math.min(3,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function lk(){return GE()}function ck(){return jf(1,1,1)}function uk(){return jf(1,0,0)}function hk(){return jf(0,1,0)}function fk(){return jf(0,0,1)}const LZ=lk(),kZ=ck(),RZ=uk(),DZ=hk(),FZ=fk();Object.freeze(Object.defineProperty({__proto__:null,ONES:kZ,UNIT_X:RZ,UNIT_Y:DZ,UNIT_Z:FZ,ZEROS:LZ,clone:CZ,create:GE,freeze:PZ,fromArray:NZ,fromValues:jf,ones:ck,unitX:uk,unitY:hk,unitZ:fk,zeros:lk},Symbol.toStringTag,{value:"Module"}));function qE(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function UZ(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function jZ(e,t,r,i,s,n,o,a,l,c,u,d,p,y,v,b){return[e,t,r,i,s,n,o,a,l,c,u,d,p,y,v,b]}const BZ=qE();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:BZ,clone:UZ,create:qE,fromValues:jZ},Symbol.toStringTag,{value:"Module"}));function VZ(e){return e<=l5?new Array(e).fill(0):new Float64Array(e)}function kEe(e){return(vj(e)?e.byteLength/8:e.length)<=l5?Array.from(e):new Float64Array(e)}function REe(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)}function DEe(e){return[...e]}function FEe(e){const t=qE();for(let r=0;r<16;++r)t[r]=e[r];return t}function jm(e=HZ){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function zE(e,t,r,i,s,n,o=jm()){return o[0]=e,o[1]=t,o[2]=r,o[3]=i,o[4]=s,o[5]=n,o}function UEe(e,t=jm()){return GZ(e,0,e.length/3,t)}function GZ(e,t,r,i=jm()){return dk(i,Yw),qZ(i,e,t,r),i}function jEe(e,t=VZ(24)){const[r,i,s,n,o,a]=e;return t[0]=r,t[1]=i,t[2]=s,t[3]=r,t[4]=i,t[5]=a,t[6]=r,t[7]=o,t[8]=s,t[9]=r,t[10]=o,t[11]=a,t[12]=n,t[13]=i,t[14]=s,t[15]=n,t[16]=i,t[17]=a,t[18]=n,t[19]=o,t[20]=s,t[21]=n,t[22]=o,t[23]=a,t}function BEe(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new mt(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function VEe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function GEe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function qEe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function qZ(e,t,r=0,i=t.length/3){let s=e[0],n=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let u=0;u<i;u++)s=Math.min(s,t[r+3*u]),n=Math.min(n,t[r+3*u+1]),o=Math.min(o,t[r+3*u+2]),a=Math.max(a,t[r+3*u]),l=Math.max(l,t[r+3*u+1]),c=Math.max(c,t[r+3*u+2]);e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function zEe(e,t,r){const i=t.length;let s=e[0],n=e[1],o=e[2],a=e[3],l=e[4],c=e[5];if(r)for(let u=0;u<i;u++){const d=t[u];s=Math.min(s,d[0]),n=Math.min(n,d[1]),o=Math.min(o,d[2]),a=Math.max(a,d[0]),l=Math.max(l,d[1]),c=Math.max(c,d[2])}else for(let u=0;u<i;u++){const d=t[u];s=Math.min(s,d[0]),n=Math.min(n,d[1]),a=Math.max(a,d[0]),l=Math.max(l,d[1])}e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function HEe(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function Bm(e){return e[0]>=e[3]?0:e[3]-e[0]}function Vm(e){return e[1]>=e[4]?0:e[4]-e[1]}function Gm(e){return e[2]>=e[5]?0:e[5]-e[2]}function WEe(e){const t=Bm(e),r=Gm(e),i=Vm(e);return Math.sqrt(t*t+r*r+i*i)}function YEe(e,t=[0,0,0]){return t[0]=e[0]+Bm(e)/2,t[1]=e[1]+Vm(e)/2,t[2]=e[2]+Gm(e)/2,t}function JEe(e,t=[0,0,0]){return t[0]=Bm(e),t[1]=Vm(e),t[2]=Gm(e),t}function KEe(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function zZ(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function ZEe(e,t){return t==null||zZ(e,t)}function XEe(e,t,r,i,s=e){return s[0]=e[0]+t,s[1]=e[1]+r,s[2]=e[2]+i,s[3]=e[3]+t,s[4]=e[4]+r,s[5]=e[5]+i,s}function QEe(e,t,r=e){const i=e[0]+Bm(e)/2,s=e[1]+Vm(e)/2,n=e[2]+Gm(e)/2;return r[0]=i+(e[0]-i)*t,r[1]=s+(e[1]-s)*t,r[2]=n+(e[2]-n)*t,r[3]=i+(e[3]-i)*t,r[4]=s+(e[4]-s)*t,r[5]=n+(e[5]-n)*t,r}function e3e(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function t3e(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function r3e(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function dk(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function i3e(e){return e?dk(e,Yw):jm(Yw)}function s3e(e,t=Lf()){return t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function n3e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function o3e(e,t,r,i,s){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=i,e[4]=s,e[5]=Number.POSITIVE_INFINITY,e}function X4(e){return e.length===6}function a3e(e){return Bm(e)===0&&Vm(e)===0&&Gm(e)===0}function l3e(e,t,r){if(e==null||t==null)return e===t;if(!X4(e)||!X4(t))return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}const Yw=[1/0,1/0,1/0,-1/0,-1/0,-1/0],HZ=[0,0,0,0,0,0];jm();function c3e(e,{isPrimitive:t,width:r,depth:i,height:s}){const n=t?10:1;if(r==null&&s==null&&i==null)return[n*e[0],n*e[1],n*e[2]];const o=jf(r,i,s);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*a);return o}const WZ=zE(-.5,-.5,-.5,.5,.5,.5),YZ=zE(-.5,-.5,0,.5,.5,1),JZ=zE(-.5,-.5,0,.5,.5,.5);function u3e(e){switch(e){case"sphere":case"cube":case"diamond":return WZ;case"cylinder":case"cone":case"inverted-cone":return YZ;case"tetrahedron":return JZ;default:return}}const HE=["butt","square","round"],KZ=[...HE,"none"],pk=["miter","bevel","round"];var Jw;let Tc=Jw=class extends Xe{constructor(e){super(e),this.color=new xt([0,0,0,1]),this.size=Fo(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Jw(e)}};g([A(zl({colorRequiredOnWrite:!0}))],Tc.prototype,"color",void 0),g([A({...Uo,json:{write:{isRequired:!0}}})],Tc.prototype,"size",void 0),g([A(ak)],Tc.prototype,"pattern",void 0),g([A({type:HE,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Tc.prototype,"patternCap",void 0),Tc=Jw=g([ie("esri.symbols.support.Symbol3DOutline")],Tc);var V0;let qi=class extends Yi{static{V0=this}constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new V0(t)}static fromSimpleFillSymbol(t){const r=t.outline&&t.outline.style&&t.outline.style!=="solid"?new kc({style:t.outline.style}):null,i={size:t.outline?.width??0,color:(t.outline?.color??Kd).clone(),pattern:r};return r&&t.outline?.cap&&(i.patternCap=t.outline.cap),new V0({material:new Zd({color:(t.color??IZ).clone()}),pattern:t.style&&t.style!=="solid"?new fh({style:t.style}):null,outline:i})}};g([at({Fill:"fill"},{readOnly:!0})],qi.prototype,"type",void 0),g([A({type:Zd,json:{write:!0}})],qi.prototype,"material",void 0),g([A(MZ)],qi.prototype,"pattern",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],qi.prototype,"castShadows",void 0),g([A({type:Tc,json:{write:!0}})],qi.prototype,"outline",void 0),g([A(ok)],qi.prototype,"edges",void 0),qi=V0=g([ie("esri.symbols.FillSymbol3DLayer")],qi);var Kw;const ZZ=to()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let $c=Kw=class extends Xe{constructor(e){super(e)}readHref(e,t,r){return e?Cm(e,r):t.dataURI}writeHref(e,t,r,i){e&&(Pf(e)?t.dataURI=e:(t.href=x1(e,i),Bn(t.href)&&(t.href=Al(t.href))))}clone(){return new Kw({href:this.href,primitive:this.primitive})}equals(e){return e.primitive===this.primitive&&e.href===this.href}};g([A({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],$c.prototype,"href",void 0),g([Mr("href")],$c.prototype,"readHref",null),g([Gt("href",{href:{type:String},dataURI:{type:String}})],$c.prototype,"writeHref",null),g([at(ZZ)],$c.prototype,"primitive",void 0),$c=Kw=g([ie("esri.symbols.support.IconSymbol3DLayerResource")],$c);const f3e="circle";let G0=class extends Ms(Xe){constructor(t){super(t),this.mode="hidden"}equals(t){return this.mode===t.mode}};g([A({type:["adaptive","hidden","visible"],json:{write:{isRequired:!0}}})],G0.prototype,"mode",void 0),G0=g([ie("esri.symbols.support.OccludedVisibility")],G0);const mk=G0;var Zw;let dh=Zw=class extends ai{constructor(e){super(e),this.x=0,this.y=0}clone(){return new Zw({x:this.x,y:this.y})}equals(e){return e.x===this.x&&e.y===this.y}};g([A({type:Number})],dh.prototype,"x",void 0),g([A({type:Number})],dh.prototype,"y",void 0),dh=Zw=g([ie("esri.symbols.support.Symbol3DAnchorPosition2D")],dh);var Xw;let Id=Xw=class extends Xe{constructor(e){super(e),this.color=new xt([0,0,0,1]),this.size=Fo(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new Xw(e)}equals(e){return e.size===this.size&&(this.color==null?e.color==null:this.color.equals(e.color))}};g([A(zl({colorRequiredOnWrite:!0}))],Id.prototype,"color",void 0),g([A({...Uo,json:{write:{isRequired:!0}}})],Id.prototype,"size",void 0),Id=Xw=g([ie("esri.symbols.support.Symbol3DIconOutline")],Id);var eh;let oi=class extends Yi{static{eh=this}constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0,this.occludedVisibility=null}clone(){return new eh({anchor:this.anchor,anchorPosition:ge(this.anchorPosition),enabled:this.enabled,material:ge(this.material),outline:ge(this.outline),resource:ge(this.resource),angle:this.angle,size:this.size,occludedVisibility:ge(this.occludedVisibility)})}static fromSimpleMarkerSymbol(t){const r=t.color||Kd,i=Q4(t),s=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||Kd).clone()}:null;return new eh({size:t.size,angle:t.angle,resource:{primitive:QZ(()=>Ft.getLogger(this.prototype),t.style)},material:{color:r},outline:s,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(t){const r=!t.color||OZ(t.color)?Kd:t.color,i=Q4(t);return new eh({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:r.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(t){return new eh({resource:{href:$6({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};function Q4(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,i=eM(e.xoffset),s=eM(e.yoffset);return(i||s)&&t&&r?{x:-i/t,y:s/r}:null}function eM(e){return isFinite(e)?e:0}g([A({type:Fs,json:{write:!0}})],oi.prototype,"material",void 0),g([A({type:$c,json:{write:!0}})],oi.prototype,"resource",void 0),g([at({Icon:"icon"},{readOnly:!0})],oi.prototype,"type",void 0),g([A({...Uo,json:{write:{isRequired:!0}}})],oi.prototype,"size",void 0),g([at({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],oi.prototype,"anchor",void 0),g([A({type:dh,json:{type:[Number],read:{reader:e=>new dh({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],oi.prototype,"anchorPosition",void 0),g([A({type:Id,json:{write:!0}})],oi.prototype,"outline",void 0),g([A({type:Number,json:{write:!0,default:0}})],oi.prototype,"angle",void 0),g([A({type:mk})],oi.prototype,"occludedVisibility",void 0),oi=eh=g([ie("esri.symbols.IconSymbol3DLayer")],oi);const XZ={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function QZ(e,t){return XZ[t]||(e().warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const eX=["begin","end","begin-end"],yk=["arrow","circle","square","diamond","cross","x"];let ga=class extends Ms(Xe){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],ga.prototype,"type",void 0),g([A({type:eX,json:{default:"begin-end",write:!0}})],ga.prototype,"placement",void 0),g([A({type:yk,json:{default:"arrow",write:!0}})],ga.prototype,"style",void 0),g([A({type:xt,json:{type:[_r],default:null,write:!0}})],ga.prototype,"color",void 0),ga=g([ie("esri.symbols.LineStyleMarker3D")],ga);var q0;let Vi=class extends Yi{static{q0=this}constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Fo(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new q0(t)}static fromSimpleLineSymbol(t){const r={enabled:!0,size:t.width??Fo(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new kc({style:t.style}):null,material:new Fs({color:(t.color||Kd).clone()}),marker:t.marker?new ga({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new q0(r)}};g([A({type:Fs,json:{write:!0}})],Vi.prototype,"material",void 0),g([at({Line:"line"},{readOnly:!0})],Vi.prototype,"type",void 0),g([A({type:pk,json:{write:!0,default:"miter"}})],Vi.prototype,"join",void 0),g([A({type:HE,json:{write:!0,default:"butt"}})],Vi.prototype,"cap",void 0),g([A({...Uo,json:{write:{isRequired:!0}}})],Vi.prototype,"size",void 0),g([A(ak)],Vi.prototype,"pattern",void 0),g([A({types:{key:"type",base:ga,typeMap:{style:ga}},json:{write:!0}})],Vi.prototype,"marker",void 0),Vi=q0=g([ie("esri.symbols.LineSymbol3DLayer")],Vi);var Qw;const tX=to()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Od=Qw=class extends Xe{clone(){return new Qw({href:this.href,primitive:this.primitive})}};g([A({type:String,json:{read:hE,write:Yh}})],Od.prototype,"href",void 0),g([at(tX)],Od.prototype,"primitive",void 0),Od=Qw=g([ie("esri.symbols.support.ObjectSymbol3DLayerResource")],Od);const g3e="sphere";var ex;let Pc=ex=class extends ai{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new ex({x:this.x,y:this.y,z:this.z})}};g([A({type:Number})],Pc.prototype,"x",void 0),g([A({type:Number})],Pc.prototype,"y",void 0),g([A({type:Number})],Pc.prototype,"z",void 0),Pc=ex=g([ie("esri.symbols.support.Symbol3DAnchorPosition3D")],Pc);var tx;let si=class extends Yi{static{tx=this}constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new tx({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};g([A({type:Fs,json:{write:!0}})],si.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],si.prototype,"castShadows",void 0),g([A({type:Od,json:{write:!0}})],si.prototype,"resource",void 0),g([at({Object:"object"},{readOnly:!0})],si.prototype,"type",void 0),g([A({type:Number,json:{write:!0}})],si.prototype,"width",void 0),g([A({type:Number,json:{write:!0}})],si.prototype,"height",void 0),g([A({type:Number,json:{write:!0}})],si.prototype,"depth",void 0),g([at({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],si.prototype,"anchor",void 0),g([A({type:Pc,json:{type:[Number],read:{reader:e=>new Pc({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],si.prototype,"anchorPosition",void 0),g([A({type:Number,json:{write:!0}})],si.prototype,"heading",void 0),g([A({type:Number,json:{write:!0}})],si.prototype,"tilt",void 0),g([A({type:Number,json:{write:!0}})],si.prototype,"roll",void 0),g([A({readOnly:!0})],si.prototype,"isPrimitive",null),si=tx=g([ie("esri.symbols.ObjectSymbol3DLayer")],si);var rx;let di=class extends Yi{static{rx=this}constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,r){return t??(r.height==null&&r.size!=null?r.size:void 0)}readHeight(t,r){return t??(r.width==null&&r.size!=null?r.size:void 0)}clone(){return new rx({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};g([A({type:Fs,json:{write:!0}})],di.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],di.prototype,"castShadows",void 0),g([at({Path:"path"},{readOnly:!0})],di.prototype,"type",void 0),g([A({type:["circle","quad"],nonNullable:!0,json:{write:!0,default:"circle"}})],di.prototype,"profile",void 0),g([A({type:pk,nonNullable:!0,json:{write:!0,default:"miter"}})],di.prototype,"join",void 0),g([A({type:KZ,nonNullable:!0,json:{write:!0,default:"butt"}})],di.prototype,"cap",void 0),g([A({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],di.prototype,"width",void 0),g([Mr("width",["width","size","height"])],di.prototype,"readWidth",null),g([A({type:Number,json:{write:!0}})],di.prototype,"height",void 0),g([Mr("height",["height","size","width"])],di.prototype,"readHeight",null),g([A({type:["center","bottom","top"],nonNullable:!0,json:{write:!0,default:"center"}})],di.prototype,"anchor",void 0),g([A({type:["heading","all"],nonNullable:!0,json:{write:!0,default:"all"}})],di.prototype,"profileRotation",void 0),di=rx=g([ie("esri.symbols.PathSymbol3DLayer")],di);const rX=["none","underline","line-through"],iX=["normal","italic","oblique"],sX=["normal","lighter","bold","bolder"],gk={type:Number,cast:e=>{const t=f1(e);return t===0?1:$m(t,.1,4)},nonNullable:!0},nX=["left","right","center"],oX=["baseline","top","middle","bottom"],vk={type:nX,nonNullable:!0},bk={type:oX,nonNullable:!0},_3e=8;var ix;let tn=ix=class extends Xe{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return rr(e)}clone(){return new ix({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};g([A({type:rX,json:{default:"none",write:!0}})],tn.prototype,"decoration",void 0),g([A({type:String,json:{write:!0}})],tn.prototype,"family",void 0),g([A({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],tn.prototype,"size",void 0),g([Nm("size")],tn.prototype,"castSize",null),g([A({type:iX,json:{default:"normal",write:!0}})],tn.prototype,"style",void 0),g([A({type:sX,json:{default:"normal",write:!0}})],tn.prototype,"weight",void 0),tn=ix=g([ie("esri.symbols.Font")],tn);var sx;let ph=sx=class extends Xe{constructor(){super(...arguments),this.color=new xt([0,0,0,1]),this.size=0}clone(){const e={color:ge(this.color),size:this.size};return new sx(e)}};g([A(zl())],ph.prototype,"color",void 0),g([A(Uo)],ph.prototype,"size",void 0),ph=sx=g([ie("esri.symbols.support.Symbol3DHalo")],ph);let Xd=class extends Ms(Xe){constructor(t){super(t),this.color=null}};g([A(zl())],Xd.prototype,"color",void 0),Xd=g([ie("esri.symbols.support.Symbol3DTextBackground")],Xd);var z0;let Ur=class extends Yi{static{z0=this}constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline",this.occludedVisibility=null}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,r,i,s){const n={...s,textSymbol3D:!0};r.font=t.write({},n),delete r.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new z0({enabled:this.enabled,font:ge(this.font),halo:ge(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ge(this.background),occludedVisibility:ge(this.occludedVisibility)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new z0({font:t.font!=null?t.font.clone():new tn,halo:aX(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new Fs({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new Xd({color:t.backgroundColor.clone()}):null})}};function aX(e,t){return e&&t!=null&&t>0?new ph({color:ge(e),size:t}):null}g([A({type:tn,json:{write:!0}})],Ur.prototype,"font",null),g([Gt("font")],Ur.prototype,"writeFont",null),g([A({type:ph,json:{write:!0}})],Ur.prototype,"halo",void 0),g([A({...vk,json:{default:"center",write:!0}})],Ur.prototype,"horizontalAlignment",void 0),g([A({...gk,json:{default:1,write:!0}})],Ur.prototype,"lineHeight",void 0),g([A({type:Fs,json:{write:!0}})],Ur.prototype,"material",void 0),g([A({type:Xd,json:{write:!0}})],Ur.prototype,"background",void 0),g([A(Uo)],Ur.prototype,"size",null),g([A({type:String,json:{write:!0}})],Ur.prototype,"text",void 0),g([at({Text:"text"},{readOnly:!0})],Ur.prototype,"type",void 0),g([A({...bk,json:{default:"baseline",write:!0}})],Ur.prototype,"verticalAlignment",void 0),g([A({type:mk})],Ur.prototype,"occludedVisibility",void 0),Ur=z0=g([ie("esri.symbols.TextSymbol3DLayer")],Ur);var nx;let ha=class extends Yi{static{nx=this}constructor(t){super(t),this.color=ox.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new nx({color:this.color.clone(),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};g([A({type:xt,nonNullable:!0,json:{type:[_r],write:(e,t,r)=>t[r]=e.toArray(1),default:()=>ox.clone(),defaultEquals:e=>e.toCss(!0)===ox.toCss(!0)}})],ha.prototype,"color",void 0),g([at({Water:"water"},{readOnly:!0})],ha.prototype,"type",void 0),g([A({type:["small","medium","large"],json:{write:!0,default:"medium"}})],ha.prototype,"waterbodySize",void 0),g([A({type:Number,json:{write:!0,default:null}})],ha.prototype,"waveDirection",void 0),g([A({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],ha.prototype,"waveStrength",void 0),ha=nx=g([ie("esri.symbols.WaterSymbol3DLayer")],ha);const ox=new xt([0,119,190]);var ax;let va=ax=class extends ai{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new ax({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};g([A({type:String})],va.prototype,"name",void 0),g([A({type:String})],va.prototype,"styleUrl",void 0),g([A({type:String})],va.prototype,"styleName",void 0),g([A({type:de})],va.prototype,"portal",void 0),va=ax=g([ie("esri.symbols.support.StyleOrigin")],va);var lx;let Qd=lx=class extends ai{constructor(){super(...arguments),this.url=""}clone(){return new lx({url:this.url})}};g([A({type:String})],Qd.prototype,"url",void 0),Qd=lx=g([ie("esri.symbols.support.Thumbnail")],Qd);const _k={icon:oi,object:si,line:Vi,path:di,fill:qi,extrude:ua,text:Ur,water:ha},lX=Mt.ofType({base:Yi,key:"type",typeMap:_k,errorContext:"symbol-layer"});let hs=class extends Ir{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=r?.type,s=i||Mt;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&Ft.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){sZ(t,this._get("symbolLayers"))}readStyleOrigin(t,r,i){if(t.styleUrl&&t.name){const s=Cm(t.styleUrl,i);return new va({styleUrl:s,name:t.name})}if(t.styleName&&t.name)return new va({portal:i?.portal||de.getDefault(),styleName:t.styleName,name:t.name});i?.messages&&i.messages.push(new Op("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:t}))}writeStyleOrigin(t,r,i,s){if(t.styleUrl&&t.name){let n=x1(t.styleUrl,s);Bn(n)&&(n=Al(n)),r.styleOrigin={styleUrl:n,name:t.name}}else t.styleName&&t.name&&(t.portal&&s?.portal&&!tG(t.portal.restUrl,s.portal.restUrl)?s?.messages&&s.messages.push(new Op("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Yi||t&&_k[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};g([A({json:{read:!1,write:!1}})],hs.prototype,"color",null),g([A({type:lX,nonNullable:!0,json:{write:!0}}),Nm(nZ)],hs.prototype,"symbolLayers",null),g([A({type:va})],hs.prototype,"styleOrigin",void 0),g([Mr("styleOrigin")],hs.prototype,"readStyleOrigin",null),g([Gt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],hs.prototype,"writeStyleOrigin",null),g([A({type:Qd,json:{read:!1}})],hs.prototype,"thumbnail",void 0),g([A({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],hs.prototype,"type",void 0),hs=g([ie("esri.symbols.Symbol3D")],hs);let mh=class extends Xe{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};g([A({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],mh.prototype,"type",void 0),g([A({readOnly:!0})],mh.prototype,"visible",void 0),mh=g([ie("esri.symbols.callouts.Callout3D")],mh);var cx;let H0=cx=class extends Xe{constructor(e){super(e),this.color=new xt("white")}clone(){return new cx({color:ge(this.color)})}};g([A(zl({colorRequiredOnWrite:!0}))],H0.prototype,"color",void 0),H0=cx=g([ie("esri.symbols.callouts.LineCallout3DBorder")],H0);const cX=H0;var ux;let fa=ux=class extends mh{constructor(e){super(e),this.type="line",this.color=new xt([0,0,0,1]),this.size=Fo(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new ux({color:ge(this.color),size:this.size,border:ge(this.border)})}};g([at({line:"line"})],fa.prototype,"type",void 0),g([A(zl({colorRequiredOnWrite:!0}))],fa.prototype,"color",void 0),g([A({...Uo,json:{write:{isRequired:!0}}})],fa.prototype,"size",void 0),g([A({type:cX,json:{write:!0}})],fa.prototype,"border",void 0),g([A({readOnly:!0})],fa.prototype,"visible",null),fa=ux=g([ie("esri.symbols.callouts.LineCallout3D")],fa);function WE(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function wk(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!WE(e)}function T3e(e){return e.type==="point-3d"||e.type==="label-3d"}function $3e(e){return e.horizontalAlignment==="center"}const xk={types:{key:"type",base:mh,typeMap:{line:fa}},json:{write:!0}};var hx;let ml=hx=class extends Xe{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new hx({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};g([A({...Uo,json:{write:{isRequired:!0}}})],ml.prototype,"screenLength",void 0),g([A({type:Number,nonNullable:!0,json:{write:!0,default:0}})],ml.prototype,"minWorldLength",void 0),g([A({type:Number,json:{write:!0}})],ml.prototype,"maxWorldLength",void 0),ml=hx=g([ie("esri.symbols.support.Symbol3DVerticalOffset")],ml);var W0;const Sk=Mt.ofType({base:null,key:"type",typeMap:{text:Ur}});let In=W0=class extends hs{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Sk,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return wk(this)}hasVisibleVerticalOffset(){return WE(this)}clone(){return new W0({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail),callout:ge(this.callout),verticalOffset:ge(this.verticalOffset)})}static fromTextSymbol(e){return new W0({symbolLayers:new Mt([Ur.fromTextSymbol(e)])})}};g([A({type:ml,json:{write:!0}})],In.prototype,"verticalOffset",void 0),g([A(xk)],In.prototype,"callout",void 0),g([A({json:{read:!1,write:!1}})],In.prototype,"styleOrigin",void 0),g([A({type:Sk})],In.prototype,"symbolLayers",void 0),g([at({LabelSymbol3D:"label-3d"},{readOnly:!0})],In.prototype,"type",void 0),In=W0=g([ie("esri.symbols.LabelSymbol3D")],In);var Y0;const Ek=Mt.ofType({base:null,key:"type",typeMap:{line:Vi,path:di}}),uX=Mt.ofType({base:null,key:"type",typeMap:{line:Vi,path:di}});let kn=Y0=class extends hs{constructor(e){super(e),this.symbolLayers=new Ek,this.type="line-3d"}clone(){return new Y0({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleLineSymbol(e){return new Y0({symbolLayers:new Mt([Vi.fromSimpleLineSymbol(e)])})}};g([A({type:Ek,json:{type:uX}})],kn.prototype,"symbolLayers",void 0),g([at({LineSymbol3D:"line-3d"},{readOnly:!0})],kn.prototype,"type",void 0),kn=Y0=g([ie("esri.symbols.LineSymbol3D")],kn);var J0;const Ak=Mt.ofType({base:null,key:"type",typeMap:{fill:qi}});let Aa=J0=class extends hs{constructor(e){super(e),this.symbolLayers=new Ak,this.type="mesh-3d"}clone(){return new J0({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleFillSymbol(e){return new J0({symbolLayers:new Mt([qi.fromSimpleFillSymbol(e)])})}};g([A({type:Ak})],Aa.prototype,"symbolLayers",void 0),g([at({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Aa.prototype,"type",void 0),Aa=J0=g([ie("esri.symbols.MeshSymbol3D")],Aa);let Cd=class extends Ir{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};g([at({esriSLS:"simple-line"},{readOnly:!0})],Cd.prototype,"type",void 0),g([A({type:Number,cast:rr,json:{write:!0}})],Cd.prototype,"width",void 0),Cd=g([ie("esri.symbols.LineSymbol")],Cd);var fx;let mo=fx=class extends Xe{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,i){t[r]=i?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,i){i?.origin==="web-map"||(t[r]=e)}clone(){return new fx({color:ge(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};g([A({type:["begin","end","begin-end"],json:{write:!0}})],mo.prototype,"placement",void 0),g([at({"line-marker":"line-marker"},{readOnly:!0}),A({json:{origins:{"web-map":{write:!1}}}})],mo.prototype,"type",void 0),g([A({type:yk})],mo.prototype,"style",void 0),g([Gt("style")],mo.prototype,"writeStyle",null),g([A({type:xt,value:null,json:{write:{allowNull:!0}}})],mo.prototype,"color",null),g([Mr("color")],mo.prototype,"readColor",null),g([Gt("color")],mo.prototype,"writeColor",null),mo=fx=g([ie("esri.symbols.LineSymbolMarker")],mo);const hX=mo;var dx;const $2=new Do({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Wr=dx=class extends Cd{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,i,s,n){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),r!=null&&(o.width=rr(r)),i!=null&&(o.cap=i),s!=null&&(o.join=s),n!=null&&(o.miterLimit=rr(n)),o}clone(){return new dx({color:ge(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};g([at({esriSLS:"simple-line"},{readOnly:!0})],Wr.prototype,"type",void 0),g([A({type:$2.apiValues,json:{read:$2.read,write:$2.write}})],Wr.prototype,"style",void 0),g([A({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],Wr.prototype,"cap",void 0),g([A({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],Wr.prototype,"join",void 0),g([A({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":hX}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Wr.prototype,"marker",void 0),g([A({type:Number,json:{read:!1,write:!1}})],Wr.prototype,"miterLimit",void 0),Wr=dx=g([ie("esri.symbols.SimpleLineSymbol")],Wr);let yh=class extends Ir{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};g([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Wr}},json:{default:null,write:!0}})],yh.prototype,"outline",void 0),g([A({type:["simple-fill","picture-fill"],readOnly:!0})],yh.prototype,"type",void 0),yh=g([ie("esri.symbols.FillSymbol")],yh);function fX(e,t,r){return t.imageData?$6({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):Tk(t.url,r)}function Tk(e,t){if(!Bn(e)){const r=pX(t);if(r)return w1(r,"images",e)}return Cm(e,t)}function dX(e,t,r,i){if(Pf(e)){const s=Lp(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,r&&r.imageData===t.imageData&&r.url&&Yh(r.url,t,"url",i)}else Yh(e,t,"url",i)}const $k={json:{read:{source:["imageData","url"],reader:fX},write:{writer(e,t,r,i){dX(e,t,this.source,i)}}}},Mk={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const i={};return t.imageData&&(i.imageData=t.imageData),t.contentType&&(i.contentType=t.contentType),t.url&&(i.url=Tk(t.url,r)),i}}}};function pX(e){if(!e)return null;const{origin:t,layer:r}=e;if(t!=="service"&&t!=="portal-item")return null;const i=r?.type;return i==="feature"||i==="stream"?r.parsedUrl?.path:i==="map-image"||i==="tile"?e.url?.path:null}var px;let ls=px=class extends yh{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t&&(s.outline=t),r!=null&&(s.width=rr(r)),i!=null&&(s.height=rr(i)),s}clone(){const e=new px({color:ge(this.color),height:this.height,outline:ge(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};g([at({esriPFS:"picture-fill"},{readOnly:!0})],ls.prototype,"type",void 0),g([A($k)],ls.prototype,"url",void 0),g([A({type:Number,json:{write:!0}})],ls.prototype,"xscale",void 0),g([A({type:Number,json:{write:!0}})],ls.prototype,"yscale",void 0),g([A({type:Number,cast:rr,json:{write:!0}})],ls.prototype,"width",void 0),g([A({type:Number,cast:rr,json:{write:!0}})],ls.prototype,"height",void 0),g([A({type:Number,cast:rr,json:{write:!0}})],ls.prototype,"xoffset",void 0),g([A({type:Number,cast:rr,json:{write:!0}})],ls.prototype,"yoffset",void 0),g([A(Mk)],ls.prototype,"source",void 0),ls=px=g([ie("esri.symbols.PictureFillSymbol")],ls);let da=class extends Ir{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};g([A({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],da.prototype,"angle",void 0),g([A({type:["simple-marker","picture-marker"],readOnly:!0})],da.prototype,"type",void 0),g([A({type:Number,cast:rr,json:{write:!0}})],da.prototype,"xoffset",void 0),g([A({type:Number,cast:rr,json:{write:!0}})],da.prototype,"yoffset",void 0),g([A({cast:e=>e==="auto"?e:f1(rr(e)),json:{write:!0}})],da.prototype,"size",void 0),da=g([ie("esri.symbols.MarkerSymbol")],da);var mx;let Ei=mx=class extends da{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t!=null&&(i.width=rr(t)),r!=null&&(i.height=rr(r)),i}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new mx({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};g([A({json:{write:!1}})],Ei.prototype,"color",void 0),g([at({esriPMS:"picture-marker"},{readOnly:!0})],Ei.prototype,"type",void 0),g([A($k)],Ei.prototype,"url",void 0),g([A(Mk)],Ei.prototype,"source",void 0),g([A({type:Number,cast:rr,json:{write:!0}})],Ei.prototype,"height",void 0),g([Mr("height",["height","size"])],Ei.prototype,"readHeight",null),g([A({type:Number,cast:rr,json:{write:!0}})],Ei.prototype,"width",void 0),g([A({json:{write:!1}})],Ei.prototype,"size",void 0),Ei=mx=g([ie("esri.symbols.PictureMarkerSymbol")],Ei);var Mc;const Ik=Mt.ofType({base:null,key:"type",typeMap:{icon:oi,object:si,text:Ur}});let zi=Mc=class extends hs{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new Ik,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return wk(this)}hasVisibleVerticalOffset(){return WE(this)}clone(){return new Mc({verticalOffset:ge(this.verticalOffset),callout:ge(this.callout),styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Mc({symbolLayers:new Mt([oi.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new Mc({symbolLayers:new Mt([oi.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const r=e.data.symbol;return new Mc(r?.callout?{symbolLayers:new Mt([oi.fromCIMSymbol(e)]),callout:new fa({size:.5,color:new xt([0,0,0])}),verticalOffset:new ml({screenLength:40})}:{symbolLayers:new Mt([oi.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new Mc({symbolLayers:new Mt([Ur.fromTextSymbol(e)])})}};g([A({type:ml,json:{write:!0}})],zi.prototype,"verticalOffset",void 0),g([A(xk)],zi.prototype,"callout",void 0),g([A({type:Ik,json:{origins:{"web-scene":{write:!0}}}})],zi.prototype,"symbolLayers",void 0),g([at({PointSymbol3D:"point-3d"},{readOnly:!0})],zi.prototype,"type",void 0),zi=Mc=g([ie("esri.symbols.PointSymbol3D")],zi);var Pd;const Ok=Mt.ofType({base:null,key:"type",typeMap:{extrude:ua,fill:qi,icon:oi,line:Vi,object:si,text:Ur,water:ha}});let Rn=Pd=class extends hs{constructor(e){super(e),this.symbolLayers=new Ok,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&kl(Ft.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&kl(Ft.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(Z5(()=>this.symbolLayers,"after-add",({item:t})=>e(t),BB))}clone(){return new Pd({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromJSON(e){const t=new Pd;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const r=t.symbolLayers.at(0),i=t.symbolLayers.at(1);!i.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:i.size,color:i.material!=null?i.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Pd({symbolLayers:new Mt([qi.fromSimpleFillSymbol(e)])})}};g([A({type:Ok,json:{write:!0}})],Rn.prototype,"symbolLayers",void 0),g([at({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Rn.prototype,"type",void 0),Rn=Pd=g([ie("esri.symbols.PolygonSymbol3D")],Rn);var yx;const M2=new Do({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Rs=yx=class extends yh{constructor(...e){super(...e),this.color=new xt([0,0,0,.25]),this.outline=new Wr,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t&&(i.outline=t),r&&(i.color=r),i}clone(){return new yx({color:ge(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};g([A()],Rs.prototype,"color",void 0),g([A()],Rs.prototype,"outline",void 0),g([at({esriSFS:"simple-fill"},{readOnly:!0})],Rs.prototype,"type",void 0),g([A({type:M2.apiValues,json:{read:M2.read,write:M2.write}})],Rs.prototype,"style",void 0),Rs=yx=g([ie("esri.symbols.SimpleFillSymbol")],Rs);var gx;const I2=new Do({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Hr=gx=class extends da{constructor(...e){super(...e),this.color=new xt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Wr}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t!=null&&(s.size=rr(t)),r&&(s.outline=r),i&&(s.color=i),s}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new gx({angle:this.angle,color:ge(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};g([A()],Hr.prototype,"color",void 0),g([Gt("color")],Hr.prototype,"writeColor",null),g([at({esriSMS:"simple-marker"},{readOnly:!0})],Hr.prototype,"type",void 0),g([A()],Hr.prototype,"size",void 0),g([A({type:I2.apiValues,json:{read:I2.read,write:I2.write}})],Hr.prototype,"style",void 0),g([A({type:String,json:{write:!0}})],Hr.prototype,"path",null),g([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Wr}},json:{default:null,write:!0}})],Hr.prototype,"outline",void 0),Hr=gx=g([ie("esri.symbols.SimpleMarkerSymbol")],Hr);var vx;let St=vx=class extends Ir{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new tn,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.text=e),t&&(i.font=t),r&&(i.color=r),i}writeLineWidth(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}castLineWidth(e){return rr(e)}writeLineHeight(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}clone(){return new vx({angle:this.angle,backgroundColor:ge(this.backgroundColor),borderLineColor:ge(this.borderLineColor),borderLineSize:this.borderLineSize,color:ge(this.color),font:this.font&&this.font.clone(),haloColor:ge(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};g([A({type:xt,json:{write:!0}})],St.prototype,"backgroundColor",void 0),g([A({type:xt,json:{write:!0}})],St.prototype,"borderLineColor",void 0),g([A({type:Number,json:{write:!0},cast:rr})],St.prototype,"borderLineSize",void 0),g([A({type:tn,json:{write:!0}})],St.prototype,"font",void 0),g([A({...vk,json:{write:!0}})],St.prototype,"horizontalAlignment",void 0),g([A({type:Boolean,json:{write:!0}})],St.prototype,"kerning",void 0),g([A({type:xt,json:{write:!0}})],St.prototype,"haloColor",void 0),g([A({type:Number,cast:rr,json:{write:!0}})],St.prototype,"haloSize",void 0),g([A({type:Boolean,json:{write:!0}})],St.prototype,"rightToLeft",void 0),g([A({type:Boolean,json:{write:!0}})],St.prototype,"rotated",void 0),g([A({type:String,json:{write:!0}})],St.prototype,"text",void 0),g([at({esriTS:"text"},{readOnly:!0})],St.prototype,"type",void 0),g([A({...bk,json:{write:!0}})],St.prototype,"verticalAlignment",void 0),g([A({type:Number,cast:rr,json:{write:!0}})],St.prototype,"xoffset",void 0),g([A({type:Number,cast:rr,json:{write:!0}})],St.prototype,"yoffset",void 0),g([A({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],St.prototype,"angle",void 0),g([A({type:Number,json:{write:!0}})],St.prototype,"width",void 0),g([A({type:Number})],St.prototype,"lineWidth",void 0),g([Gt("lineWidth")],St.prototype,"writeLineWidth",null),g([Nm("lineWidth")],St.prototype,"castLineWidth",null),g([A(gk)],St.prototype,"lineHeight",void 0),g([Gt("lineHeight")],St.prototype,"writeLineHeight",null),St=vx=g([ie("esri.symbols.TextSymbol")],St);var bx;let Ai=bx=class extends Ir{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:de.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new bx({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol(e)}async fetchCIMSymbol(e){h6(Ft.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const t=await this._fetchSymbol({...e,acceptedFormats:["cim"]});if(t?.type!=="cim")throw new ft("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,r=t?this._fetchCacheKey:null;if(t!=null){const o=r&&t.get(r);if(o)return o.clone()}const{resolveWebStyleSymbol:i}=await ve(()=>import("./webStyleSymbolUtils-DGK3k14S.js"),__vite__mapDeps([74,75,76,77,1]),import.meta.url);Mp(e);const s=i(this,{portal:this.portal},e);s.catch(o=>{Ft.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const n=await s;return t?.set(r,n.clone()),n}};g([A({json:{write:!1}})],Ai.prototype,"color",void 0),g([A({type:String,json:{write:!0}})],Ai.prototype,"styleName",void 0),g([A({type:de,json:{write:!1}})],Ai.prototype,"portal",void 0),g([A({type:String,json:{read:hE,write:Yh}})],Ai.prototype,"styleUrl",void 0),g([A({type:Qd,json:{read:!1}})],Ai.prototype,"thumbnail",void 0),g([A({type:String,json:{write:!0}})],Ai.prototype,"name",void 0),g([at({styleSymbolReference:"web-style"},{readOnly:!0})],Ai.prototype,"type",void 0),g([A()],Ai.prototype,"_fetchCacheKey",null),Ai=bx=g([ie("esri.symbols.WebStyleSymbol")],Ai);function C3e(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Ck(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const YE={base:Ir,key:"type",typeMap:{"simple-fill":Rs,"picture-fill":ls,"picture-marker":Ei,"simple-line":Wr,"simple-marker":Hr,text:St,"label-3d":In,"line-3d":kn,"mesh-3d":Aa,"point-3d":zi,"polygon-3d":Rn,"web-style":Ai,cim:fs},errorContext:"symbol"},P3e={base:Ir,key:"type",typeMap:{"picture-marker":Ei,"simple-marker":Hr,"point-3d":zi,cim:fs},errorContext:"symbol"},N3e={base:Ir,key:"type",typeMap:{"simple-line":Wr,"line-3d":kn,cim:fs},errorContext:"symbol"},L3e={base:Ir,key:"type",typeMap:{"simple-fill":Rs,"picture-fill":ls,"polygon-3d":Rn,cim:fs},errorContext:"symbol"},k3e={base:Ir,key:"type",typeMap:{"picture-marker":Ei,"simple-marker":Hr,text:St,"web-style":Ai,cim:fs},errorContext:"symbol"},mX=s6({types:YE}),R3e={base:Ir,key:"type",typeMap:{"simple-fill":Rs,"picture-fill":ls,"picture-marker":Ei,"simple-line":Wr,"simple-marker":Hr,text:St,"line-3d":kn,"mesh-3d":Aa,"point-3d":zi,"polygon-3d":Rn,"web-style":Ai,cim:fs},errorContext:"symbol"},D3e={base:Ir,key:"type",typeMap:{text:St,"label-3d":In},errorContext:"symbol"},F3e={base:Ir,key:"type",typeMap:{"line-3d":kn,"mesh-3d":Aa,"point-3d":zi,"polygon-3d":Rn,"web-style":Ai,cim:fs},errorContext:"symbol"},U3e={base:Ir,key:"type",typeMap:{"label-3d":In},errorContext:"symbol"},j3e=zh(YE);var _x;function yX(e){if(!e)return null;const t={};for(const r in e){const i=xE(e[r]);i&&(t[r]=i)}return Object.keys(t).length!==0?t:null}function gX(e){if(e==null)return null;const t={};for(const r in e){const i=e[r];i&&(t[r]=i.toJSON())}return Object.keys(t).length!==0?t:null}let is=class extends Ms(Xe){static{_x=this}constructor(t){super(t),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:d0(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&vV(Ft.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(t){const r=this._get("aggregateGeometries");JSON.stringify(r)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const r=this._get("attributes");r!==t&&(this._set("attributes",t),this._notifyLayer("attributes",r,t))}set geometry(t){const r=this._get("geometry");r!==t&&(this._set("geometry",t),t?.type!=="mesh"&&this._notifyLayer("geometry",r,t))}set popupTemplate(t){const r=this._get("popupTemplate");r!==t&&(this._set("popupTemplate",t),this._notifyLayer("popupTemplate",r,t))}set symbol(t){const r=this._get("symbol");r!==t&&(this._set("symbol",t),this._notifyLayer("symbol",r,t))}get version(){return this._version}set visible(t){const r=this._get("visible");r!==t&&(this._set("visible",t),this._notifyLayer("visible",r,t))}cloneShallow(){return new _x({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;const r=rZ(this.origin);if(r)return r.popupTemplate??(t?r.defaultPopupTemplate:null)??null;const i=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const s of[i,this.sourceLayer,this.layer])if(s&&typeof s=="object"){if("popupTemplate"in s&&s.popupTemplate)return s.popupTemplate;if(t&&"defaultPopupTemplate"in s&&s.defaultPopupTemplate!=null)return s.defaultPopupTemplate}return null}getAttribute(t){return this.attributes?.[t]}setAttribute(t,r){if(this.attributes){const i=this.getAttribute(t);this.attributes[t]=r,this._notifyLayer("attributes",i,r,t)}else this.attributes={[t]:r}}getObjectId(){const t=H4(this.origin);if(t)return W4(this,t);const r=this.sourceLayer??this.layer;return r?W4(this,r):null}getGlobalId(){const t=H4(this.origin);if(t?.globalIdField)return this.getAttribute(t.globalIdField);const r=this.sourceLayer??this.layer;return r&&"globalIdField"in r&&r.globalIdField?this.getAttribute(r.globalIdField):null}toJSON(){return{aggregateGeometries:gX(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:Og(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(t={}){const{geometry:r}=this;if(r?.type==="mesh"){const i={origin:r.origin,transform:r.transform};this._notifyLayer("origin-transform",i,i,t.action)}}_notifyLayer(t,r,i,s){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:t,oldValue:r,newValue:i};t==="origin-transform"&&(n.action=s),t==="attributes"&&(n.attributeName=s),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([k_(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:t,origin:r})=>{this._lastMeshTransform.localMatrix===t&&this._lastMeshTransform.origin===r||(this._lastMeshTransform.localMatrix=t,this._lastMeshTransform.origin=r,this.notifyMeshTransformChanged())}),k_(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const t=this.geometry;t?.type==="mesh"&&t.vertexSpace.origin?(this._lastMeshTransform.localMatrix=t.transform?.localMatrix,this._lastMeshTransform.origin=t.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(t,r)=>t===r,sync:!0})])}};g([A({value:null,json:{read:yX}})],is.prototype,"aggregateGeometries",null),g([A({value:null})],is.prototype,"attributes",null),g([A({value:null,types:QK,json:{read:xE}})],is.prototype,"geometry",null),g([A({type:Boolean})],is.prototype,"isAggregate",void 0),g([A({clonable:!1})],is.prototype,"layer",void 0),g([A({clonable:"reference"})],is.prototype,"origin",void 0),g([A({type:XK,value:null})],is.prototype,"popupTemplate",null),g([A({clonable:"reference"})],is.prototype,"sourceLayer",void 0),g([A({value:null,types:YE})],is.prototype,"symbol",null),g([A({clonable:!1,json:{read:!1,write:!1}})],is.prototype,"_version",void 0),g([A({type:Boolean,value:!0})],is.prototype,"visible",null),is=_x=g([ie("esri.Graphic")],is);async function vX(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await ve(async()=>{const{fromItem:i}=await import("./portalLayers-BJi5c2jV.js");return{fromItem:i}},__vite__mapDeps([78,79,48,1,80,81,82,68,69,70,71]),import.meta.url);try{return await r(t)}catch(i){const s=t?.portalItem,n=s?.id||"unset",o=s?.portal?.url||yt.portalUrl;throw Ft.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+n+"')",i),i}}const tM={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function O2(e,t,r,i=tf){const s=new Zn(DE(i)),n=Re.fromJSDate(e,{zone:s}),o=r==="decades"||r==="centuries"?"year":Pk(r);return r==="decades"&&(t*=10),r==="centuries"&&(t*=100),n.plus({[o]:t}).toJSDate()}function V3e(e,t,r="milliseconds"){const i=e.getTime(),s=bX(t,r,"milliseconds");return new Date(i+s)}function rM(e,t,r=tf){const i=new Zn(DE(r)),s=Re.fromJSDate(e,{zone:i});if(t==="decades"||t==="centuries"){const o=s.startOf("year"),{year:a}=o,l=a-a%(t==="decades"?10:100);return o.set({year:l}).toJSDate()}const n=Pk(t);return s.startOf(n).toJSDate()}function bX(e,t,r){return e===0?0:e*tM[t]/tM[r]}function G3e(e,t){return e&&t?e.intersection(t):e||t}function Pk(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var Xs;let Ns=class extends Xe{static{Xs=this}static get allTime(){return iM}static get empty(){return _X}static fromArray(t){return new Xs({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,r){return r.end!=null?new Date(r.end):null}writeEnd(t,r){r.end=t?.getTime()??null}get isAllTime(){return this.equals(Xs.allTime)}get isEmpty(){return this.equals(Xs.empty)}readStart(t,r){return r.start!=null?new Date(r.start):null}writeStart(t,r){r.start=t?.getTime()??null}clone(){return new Xs({end:this.end,start:this.start})}equals(t){if(!t)return!1;const r=this.start?.getTime()??this.start,i=this.end?.getTime()??this.end,s=t.start?.getTime()??t.start,n=t.end?.getTime()??t.end;return r===s&&i===n}expandTo(t,r=tf){if(this.isEmpty||this.isAllTime)return this.clone();let i=this.start;i&&(i=rM(i,t,r));let s=this.end;if(s){const n=rM(s,t,r);s=s.getTime()===n.getTime()?n:O2(n,1,t,r)}return new Xs({start:i,end:s})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return Xs.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const r=this.start?.getTime()??-1/0,i=this.end?.getTime()??1/0,s=t.start?.getTime()??-1/0,n=t.end?.getTime()??1/0;let o,a;return s>=r&&s<=i?o=s:r>=s&&r<=n&&(o=r),i>=s&&i<=n?a=i:n>=r&&n<=i&&(a=n),o==null||a==null||isNaN(o)||isNaN(a)?Xs.empty:new Xs({start:o===-1/0?null:new Date(o),end:a===1/0?null:new Date(a)})}offset(t,r,i=tf){if(this.isEmpty||this.isAllTime)return this.clone();const s=new Xs,{start:n,end:o}=this;return n!=null&&(s.start=O2(n,t,r,i)),o!=null&&(s.end=O2(o,t,r,i)),s}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return iM.clone();const r=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,i=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new Xs({start:r,end:i})}};g([A({type:Date,json:{write:{allowNull:!0}}})],Ns.prototype,"end",void 0),g([Mr("end")],Ns.prototype,"readEnd",null),g([Gt("end")],Ns.prototype,"writeEnd",null),g([A({readOnly:!0,json:{read:!1}})],Ns.prototype,"isAllTime",null),g([A({readOnly:!0,json:{read:!1}})],Ns.prototype,"isEmpty",null),g([A({type:Date,json:{write:{allowNull:!0}}})],Ns.prototype,"start",void 0),g([Mr("start")],Ns.prototype,"readStart",null),g([Gt("start")],Ns.prototype,"writeStart",null),Ns=Xs=g([ie("esri.time.TimeExtent")],Ns);const iM=new Ns,_X=new Ns({start:void 0,end:void 0});let wX=0,xr=class extends SE(jE(ik)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new mt(-180,-90,180,90,Ge.WGS84),this.id=Date.now().toString(16)+"-layer-"+wX++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Ge.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=typeof t=="string"?{url:t}:t;return(await ve(async()=>{const{fromUrl:i}=await import("./arcgisLayers-Bg8ybu1t.js");return{fromUrl:i}},__vite__mapDeps([83,1,79,48,80,82]),import.meta.url)).fromUrl(r)}static fromPortalItem(t){return vX(t)}initialize(){this.when().catch(t=>{If(t)||Ft.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const{parent:t}=this;t&&(this.parent=null,t.removeChildLayer?.(this))}get effectiveVisible(){return this.visible&&(this.parent?.effectiveVisible??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){const{parent:t}=this;t&&(t.removeChildLayer?.(this),this.parent=null)}get parsedUrl(){return ro(this.url)}createLayerView(t,r){return Promise.reject(new ft("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Pr(t,{query:{f:"json"},responseType:"json"})).data;throw new ft("layer:no-attribution-data","Layer does not have attribution data")}};g([A({type:String})],xr.prototype,"attributionDataUrl",void 0),g([A({readOnly:!0})],xr.prototype,"effectiveVisible",null),g([A({type:mt})],xr.prototype,"fullExtent",void 0),g([A({readOnly:!0})],xr.prototype,"hasAttributionData",null),g([A({type:String,clonable:!1})],xr.prototype,"id",void 0),g([A({type:Boolean,nonNullable:!0})],xr.prototype,"legendEnabled",void 0),g([A({type:["show","hide","hide-children"]})],xr.prototype,"listMode",void 0),g([A({type:Number,range:{min:0,max:1},nonNullable:!0})],xr.prototype,"opacity",void 0),g([A({clonable:!1})],xr.prototype,"parent",void 0),g([A({readOnly:!0})],xr.prototype,"parsedUrl",null),g([A({type:Boolean,readOnly:!0})],xr.prototype,"persistenceEnabled",void 0),g([A({type:Boolean})],xr.prototype,"popupEnabled",void 0),g([A({type:Boolean})],xr.prototype,"attributionVisible",void 0),g([A({type:Ge})],xr.prototype,"spatialReference",void 0),g([A({type:String})],xr.prototype,"title",void 0),g([A({readOnly:!0,json:{read:!1}})],xr.prototype,"type",void 0),g([A()],xr.prototype,"url",void 0),g([A({type:Ns})],xr.prototype,"visibilityTimeExtent",void 0),g([A({type:Boolean,nonNullable:!0})],xr.prototype,"visible",void 0),xr=g([ie("esri.layers.Layer")],xr);function xX(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function H3e(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="graphics"}function W3e(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="map-image"}function Y3e(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="map-notes"&&"sublayers"in e}function J3e(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph"&&"layers"in e}function K3e(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph-sublayer"}function Z3e(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="link-chart"&&"layers"in e}function X3e(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function Q3e(e){return e?.type==="subtype-sublayer"}const eAe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function sM(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function tAe(e){return e.type==="integrated-mesh"||e.type==="integrated-mesh-3dtiles"}function rAe(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function iAe(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}function SX(e){return e?.type==="feature"&&e.source?.type==="feature-layer"}function sAe(e){return xX(e)&&SX(e)}async function nAe(e,t){const r=Jt?.findServerInfo(e);if(r?.currentVersion!=null)return r.owningSystemUrl||null;const i=e.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const s=`${e.slice(0,i)}/rest/info`,n=t!=null?t.signal:null,{data:o}=await Pr(s,{query:{f:"json"},responseType:"json",signal:n});return o?.owningSystemUrl||null}function EX(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function oAe(e){return EX(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function AX(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"knowledge-graph-sublayer":return!0;default:return!1}}function aAe(e){return!!AX(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}function TX(e,t){return null}function lAe(e){return null}function $X(e){return!e||e.type==="Feature Service"&&!e.sourceUrl}function cAe(e,t){!t||!$X(e)||TX(e.url)}const JE=[252,146,31,255],MX=[153,153,153,255],IX={type:"esriSMS",style:"esriSMSCircle",size:6,color:JE,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},OX={type:"esriSLS",style:"esriSLSSolid",width:.75,color:JE},CX={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},PX={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},NX={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},LX={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},kX={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},Nk=Hr.fromJSON(IX),Lk=Wr.fromJSON(OX),kk=Rs.fromJSON(CX),uAe=St.fromJSON(PX);function hAe(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return Nk;case"polyline":return Lk;case"polygon":case"extent":return kk}return null}const fAe=Hr.fromJSON(NX),dAe=Wr.fromJSON(LX),pAe=Rs.fromJSON(kX),RX=zi.fromSimpleMarkerSymbol(Nk),DX=kn.fromSimpleLineSymbol(Lk),FX=Rn.fromSimpleFillSymbol(kk),UX=new Aa({symbolLayers:new Mt([new qi({material:{color:JE},edges:new nk({size:Fo(1),color:new xt(MX)})})])}),jX=new kn({symbolLayers:new Mt([new Vi({material:{color:new xt([0,0,0])},size:Fo(1)})])}),BX=new Rn({symbolLayers:new Mt([new qi({outline:{color:new xt([0,0,0]),size:Fo(1)}})])});function mAe(e){if(e==null)return null;switch(e.type){case"mesh":return UX;case"point":case"multipoint":return RX;case"polyline":return DX;case"polygon":case"extent":return FX}return null}const nM="#useCIMFallbackSymbology()",Bu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function VX(e,t=Bu){if(!e)return{symbol:null};const{retainId:r=Bu.retainId,ignoreDrivers:i=Bu.ignoreDrivers,hasLabelingContext:s=Bu.hasLabelingContext,retainCIM:n=Bu.retainCIM,cimFallbackEnabled:o=Bu.cimFallbackEnabled}=t;let a=null;if(Ck(e))a=e.clone();else if(e.type==="web-style")a=e.clone();else if(e.type==="cim"){const l=e.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=n?e.clone():zi.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(a=jX.clone(),t?.logWarning?.(nM,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=BX.clone(),t?.logWarning?.(nM,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new ft("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Wr)a=kn.fromSimpleLineSymbol(e);else if(e instanceof Hr)a=zi.fromSimpleMarkerSymbol(e);else if(e instanceof Ei)a=zi.fromPictureMarkerSymbol(e);else if(e instanceof Rs)a=t.geometryType&&t.geometryType==="mesh"?Aa.fromSimpleFillSymbol(e):Rn.fromSimpleFillSymbol(e);else{if(!(e instanceof St))return{error:new ft("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=s?In.fromTextSymbol(e):zi.fromTextSymbol(e)}return r&&a&&a.type!=="cim"&&(a.id=e.id),!i||a.type==="cim"||a instanceof Ai||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function yAe(e,t,r,i){const s=Rk(e,{},{context:i,isLabelSymbol:!1});s!=null&&bu(r,s,t)}function gAe(e,t,r,i){const s=Rk(e,{},{context:i,isLabelSymbol:!0});s!=null&&(t[r]=s)}function oM(e){return Ck(e)||e instanceof Ai}function GX(e){return e?.type==="polygon-3d"||e?.type==="line-3d"}function Rk(e,t,r){if(e==null)return null;const{context:i,isLabelSymbol:s}=r,n=i?.origin,o=i?.messages;if(n==="web-scene"&&!oM(e)){const a=VX(e,{retainCIM:!0,hasLabelingContext:s});return a.symbol!=null?a.symbol.write(t,i):(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:i,error:a.error})),null)}return sM(i?.layer)&&GX(e)?(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${i?.layer?.declaredClass}'.`,{symbol:e,context:i})),null):(n==="web-map"||n==="portal-item"&&!sM(i?.layer))&&oM(e)?(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:i})),null):e.write(t,i)}function KE(e,t){return mX(e,null,t)}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const K0=globalThis,ZE=K0.ShadowRoot&&(K0.ShadyCSS===void 0||K0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,XE=Symbol(),aM=new WeakMap;let Dk=class{constructor(t,r,i){if(this._$cssResult$=!0,i!==XE)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=r}get styleSheet(){let t=this.o;const r=this.t;if(ZE&&t===void 0){const i=r!==void 0&&r.length===1;i&&(t=aM.get(r)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&aM.set(r,t))}return t}toString(){return this.cssText}};const qX=e=>new Dk(typeof e=="string"?e:e+"",void 0,XE),Fk=(e,...t)=>{const r=e.length===1?e[0]:t.reduce((i,s,n)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[n+1],e[0]);return new Dk(r,e,XE)},zX=(e,t)=>{if(ZE)e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of t){const i=document.createElement("style"),s=K0.litNonce;s!==void 0&&i.setAttribute("nonce",s),i.textContent=r.cssText,e.appendChild(i)}},lM=ZE?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(const i of t.cssRules)r+=i.cssText;return qX(r)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:HX,defineProperty:WX,getOwnPropertyDescriptor:YX,getOwnPropertyNames:JX,getOwnPropertySymbols:KX,getPrototypeOf:ZX}=Object,G1=globalThis,cM=G1.trustedTypes,XX=cM?cM.emptyScript:"",QX=G1.reactiveElementPolyfillSupport,ep=(e,t)=>e,wx={toAttribute(e,t){switch(t){case Boolean:e=e?XX:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},QE=(e,t)=>!HX(e,t),uM={attribute:!0,type:String,converter:wx,reflect:!1,useDefault:!1,hasChanged:QE};Symbol.metadata??=Symbol("metadata"),G1.litPropertyMetadata??=new WeakMap;let th=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,r=uM){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(t,r),!r.noAccessor){const i=Symbol(),s=this.getPropertyDescriptor(t,i,r);s!==void 0&&WX(this.prototype,t,s)}}static getPropertyDescriptor(t,r,i){const{get:s,set:n}=YX(this.prototype,t)??{get(){return this[r]},set(o){this[r]=o}};return{get:s,set(o){const a=s?.call(this);n?.call(this,o),this.requestUpdate(t,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??uM}static _$Ei(){if(this.hasOwnProperty(ep("elementProperties")))return;const t=ZX(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(ep("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(ep("properties"))){const r=this.properties,i=[...JX(r),...KX(r)];for(const s of i)this.createProperty(s,r[s])}const t=this[Symbol.metadata];if(t!==null){const r=litPropertyMetadata.get(t);if(r!==void 0)for(const[i,s]of r)this.elementProperties.set(i,s)}this._$Eh=new Map;for(const[r,i]of this.elementProperties){const s=this._$Eu(r,i);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const r=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const s of i)r.unshift(lM(s))}else t!==void 0&&r.push(lM(t));return r}static _$Eu(t,r){const i=r.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,r=this.constructor.elementProperties;for(const i of r.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return zX(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,r,i){this._$AK(t,i)}_$ET(t,r){const i=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,i);if(s!==void 0&&i.reflect===!0){const n=(i.converter?.toAttribute!==void 0?i.converter:wx).toAttribute(r,i.type);this._$Em=t,n==null?this.removeAttribute(s):this.setAttribute(s,n),this._$Em=null}}_$AK(t,r){const i=this.constructor,s=i._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const n=i.getPropertyOptions(s),o=typeof n.converter=="function"?{fromAttribute:n.converter}:n.converter?.fromAttribute!==void 0?n.converter:wx;this._$Em=s;const a=o.fromAttribute(r,n.type);this[s]=a??this._$Ej?.get(s)??a,this._$Em=null}}requestUpdate(t,r,i){if(t!==void 0){const s=this.constructor,n=this[t];if(i??=s.getPropertyOptions(t),!((i.hasChanged??QE)(n,r)||i.useDefault&&i.reflect&&n===this._$Ej?.get(t)&&!this.hasAttribute(s._$Eu(t,i))))return;this.C(t,r,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,r,{useDefault:i,reflect:s,wrapped:n},o){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,o??r??this[t]),n!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||i||(r=void 0),this._$AL.set(t,r)),s===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,n]of this._$Ep)this[s]=n;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,n]of i){const{wrapped:o}=n,a=this[s];o!==!0||this._$AL.has(s)||a===void 0||this.C(s,void 0,n,a)}}let t=!1;const r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),this._$EO?.forEach(i=>i.hostUpdate?.()),this.update(r)):this._$EM()}catch(i){throw t=!1,this._$EM(),i}t&&this._$AE(r)}willUpdate(t){}_$AE(t){this._$EO?.forEach(r=>r.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(r=>this._$ET(r,this[r])),this._$EM()}updated(t){}firstUpdated(t){}};th.elementStyles=[],th.shadowRootOptions={mode:"open"},th[ep("elementProperties")]=new Map,th[ep("finalized")]=new Map,QX?.({ReactiveElement:th}),(G1.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e3=globalThis,qg=e3.trustedTypes,hM=qg?qg.createPolicy("lit-html",{createHTML:e=>e}):void 0,Uk="$lit$",yl=`lit$${Math.random().toFixed(9).slice(2)}$`,jk="?"+yl,eQ=`<${jk}>`,uu=document,Wp=()=>uu.createComment(""),Yp=e=>e===null||typeof e!="object"&&typeof e!="function",t3=Array.isArray,tQ=e=>t3(e)||typeof e?.[Symbol.iterator]=="function",C2=`[ 	
\f\r]`,nd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,fM=/-->/g,dM=/>/g,hc=RegExp(`>|${C2}(?:([^\\s"'>=/]+)(${C2}*=${C2}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),pM=/'/g,mM=/"/g,Bk=/^(?:script|style|textarea|title)$/i,Vk=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),od=Vk(1),_Ae=Vk(2),Dl=Symbol.for("lit-noChange"),er=Symbol.for("lit-nothing"),yM=new WeakMap,Rc=uu.createTreeWalker(uu,129);function Gk(e,t){if(!t3(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return hM!==void 0?hM.createHTML(t):t}const rQ=(e,t)=>{const r=e.length-1,i=[];let s,n=t===2?"<svg>":t===3?"<math>":"",o=nd;for(let a=0;a<r;a++){const l=e[a];let c,u,d=-1,p=0;for(;p<l.length&&(o.lastIndex=p,u=o.exec(l),u!==null);)p=o.lastIndex,o===nd?u[1]==="!--"?o=fM:u[1]!==void 0?o=dM:u[2]!==void 0?(Bk.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=hc):u[3]!==void 0&&(o=hc):o===hc?u[0]===">"?(o=s??nd,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,c=u[1],o=u[3]===void 0?hc:u[3]==='"'?mM:pM):o===mM||o===pM?o=hc:o===fM||o===dM?o=nd:(o=hc,s=void 0);const y=o===hc&&e[a+1].startsWith("/>")?" ":"";n+=o===nd?l+eQ:d>=0?(i.push(c),l.slice(0,d)+Uk+l.slice(d)+yl+y):l+yl+(d===-2?a:y)}return[Gk(e,n+(e[r]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),i]};class Jp{constructor({strings:t,_$litType$:r},i){let s;this.parts=[];let n=0,o=0;const a=t.length-1,l=this.parts,[c,u]=rQ(t,r);if(this.el=Jp.createElement(c,i),Rc.currentNode=this.el.content,r===2||r===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=Rc.nextNode())!==null&&l.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(Uk)){const p=u[o++],y=s.getAttribute(d).split(yl),v=/([.?@])?(.*)/.exec(p);l.push({type:1,index:n,name:v[2],strings:y,ctor:v[1]==="."?sQ:v[1]==="?"?nQ:v[1]==="@"?oQ:q1}),s.removeAttribute(d)}else d.startsWith(yl)&&(l.push({type:6,index:n}),s.removeAttribute(d));if(Bk.test(s.tagName)){const d=s.textContent.split(yl),p=d.length-1;if(p>0){s.textContent=qg?qg.emptyScript:"";for(let y=0;y<p;y++)s.append(d[y],Wp()),Rc.nextNode(),l.push({type:2,index:++n});s.append(d[p],Wp())}}}else if(s.nodeType===8)if(s.data===jk)l.push({type:2,index:n});else{let d=-1;for(;(d=s.data.indexOf(yl,d+1))!==-1;)l.push({type:7,index:n}),d+=yl.length-1}n++}}static createElement(t,r){const i=uu.createElement("template");return i.innerHTML=t,i}}function rf(e,t,r=e,i){if(t===Dl)return t;let s=i!==void 0?r._$Co?.[i]:r._$Cl;const n=Yp(t)?void 0:t._$litDirective$;return s?.constructor!==n&&(s?._$AO?.(!1),n===void 0?s=void 0:(s=new n(e),s._$AT(e,r,i)),i!==void 0?(r._$Co??=[])[i]=s:r._$Cl=s),s!==void 0&&(t=rf(e,s._$AS(e,t.values),s,i)),t}let iQ=class{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:r},parts:i}=this._$AD,s=(t?.creationScope??uu).importNode(r,!0);Rc.currentNode=s;let n=Rc.nextNode(),o=0,a=0,l=i[0];for(;l!==void 0;){if(o===l.index){let c;l.type===2?c=new Bf(n,n.nextSibling,this,t):l.type===1?c=new l.ctor(n,l.name,l.strings,this,t):l.type===6&&(c=new aQ(n,this,t)),this._$AV.push(c),l=i[++a]}o!==l?.index&&(n=Rc.nextNode(),o++)}return Rc.currentNode=uu,s}p(t){let r=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,r),r+=i.strings.length-2):i._$AI(t[r])),r++}};class Bf{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,r,i,s){this.type=2,this._$AH=er,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=i,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&t?.nodeType===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=rf(this,t,r),Yp(t)?t===er||t==null||t===""?(this._$AH!==er&&this._$AR(),this._$AH=er):t!==this._$AH&&t!==Dl&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):tQ(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==er&&Yp(this._$AH)?this._$AA.nextSibling.data=t:this.T(uu.createTextNode(t)),this._$AH=t}$(t){const{values:r,_$litType$:i}=t,s=typeof i=="number"?this._$AC(t):(i.el===void 0&&(i.el=Jp.createElement(Gk(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===s)this._$AH.p(r);else{const n=new iQ(s,this),o=n.u(this.options);n.p(r),this.T(o),this._$AH=n}}_$AC(t){let r=yM.get(t.strings);return r===void 0&&yM.set(t.strings,r=new Jp(t)),r}k(t){t3(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let i,s=0;for(const n of t)s===r.length?r.push(i=new Bf(this.O(Wp()),this.O(Wp()),this,this.options)):i=r[s],i._$AI(n),s++;s<r.length&&(this._$AR(i&&i._$AB.nextSibling,s),r.length=s)}_$AR(t=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}let q1=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,r,i,s,n){this.type=1,this._$AH=er,this._$AN=void 0,this.element=t,this.name=r,this._$AM=s,this.options=n,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=er}_$AI(t,r=this,i,s){const n=this.strings;let o=!1;if(n===void 0)t=rf(this,t,r,0),o=!Yp(t)||t!==this._$AH&&t!==Dl,o&&(this._$AH=t);else{const a=t;let l,c;for(t=n[0],l=0;l<n.length-1;l++)c=rf(this,a[i+l],r,l),c===Dl&&(c=this._$AH[l]),o||=!Yp(c)||c!==this._$AH[l],c===er?t=er:t!==er&&(t+=(c??"")+n[l+1]),this._$AH[l]=c}o&&!s&&this.j(t)}j(t){t===er?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},sQ=class extends q1{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===er?void 0:t}},nQ=class extends q1{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==er)}};class oQ extends q1{constructor(t,r,i,s,n){super(t,r,i,s,n),this.type=5}_$AI(t,r=this){if((t=rf(this,t,r,0)??er)===Dl)return;const i=this._$AH,s=t===er&&i!==er||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,n=t!==er&&(i===er||s);s&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class aQ{constructor(t,r,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){rf(this,t)}}const lQ={I:Bf},cQ=e3.litHtmlPolyfillSupport;cQ?.(Jp,Bf),(e3.litHtmlVersions??=[]).push("3.3.1");const uQ=(e,t,r)=>{const i=r?.renderBefore??t;let s=i._$litPart$;if(s===void 0){const n=r?.renderBefore??null;i._$litPart$=s=new Bf(t.insertBefore(Wp(),n),n,void 0,r??{})}return s._$AI(e),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const r3=globalThis;let Lh=class extends th{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=uQ(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Dl}};Lh._$litElement$=!0,Lh.finalized=!0,r3.litElementHydrateSupport?.({LitElement:Lh});const hQ=r3.litElementPolyfillSupport;hQ?.({LitElement:Lh});(r3.litElementVersions??=[]).push("4.2.1");const ar=(e,t,...r)=>{try{return e?.call(t,...r)}catch(i){console.error(i,e)}},xx=async(e,t,...r)=>{try{return await e?.call(t,...r)}catch(i){console.error(i,e)}},i3=Symbol.for("controller"),fQ=e=>typeof e=="object"&&e!==null&&(i3 in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e),dQ=e=>typeof e?.then=="function",TAe=e=>e.M.length;let Nd;const gh=e=>{Nd!==e&&(Nd=e,queueMicrotask(()=>Nd===e?Nd=void 0:0))},Vf=e=>Nd;let Ic=[];const qk=e=>{if(e===void 0){Ic=[];return}const t=Ic.indexOf(e);Ic=t===-1?[...Ic,e]:Ic.slice(0,t+1),queueMicrotask(()=>Ic=[])},zk=()=>Ic;let vh;const pQ=e=>{vh!==e&&(vh=e,queueMicrotask(()=>vh===e?vh=void 0:0))},mQ=()=>{const e=vh;return vh=void 0,e},yQ=async(e,t)=>{const r=s3(e);if(r===void 0)return e;if(await r.ready,typeof t=="function"){const i=r.watchExports(s=>t(s,i))}return r.exports},gQ=async e=>{const t=s3(e);return await t.ready,t},s3=e=>{const r=Vf().manager.X(e);if(r!==void 0)return r;if(fQ(e))return e;const i=mQ();if(i!==void 0)return i};let Sx=!1;const vQ=e=>{Sx=!0;try{return e()}finally{Sx=!1}};class Kp{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}const bQ=(e,t)=>{const r=t/_Q;let i=0;const s=setInterval(()=>{i+=r,i>=t&&(clearInterval(s),e())},r);return s},_Q=4,wQ=(e,t,r)=>{const i=Object.keys(e),s=i.length;bh===void 0&&queueMicrotask(z1),bh??=new Map;let n=bh.get(e);return n===void 0&&(n={callbacks:[],keyCount:s},bh.set(e,n)),n.keyCount!==s&&(n.callbacks.forEach(o=>o(i)),n.callbacks=[],n.keyCount=s),n.callbacks.push(o=>{const a=c=>ar(t,null,c),l=o[s];l===void 0?a(void 0):e[l]===r?a(l):a(void 0)}),r};let bh;const z1=()=>{bh?.forEach(({callbacks:e},t)=>{const r=Object.keys(t);e.forEach(i=>i(r))}),bh=void 0},Hk=(e,t,r)=>{const i=e.manager;return i.V!==er&&i.V!==r&&i.S(void 0,void 0),i.T.length===0&&queueMicrotask(()=>i.S(void 0,void 0)),i.V=r,i.T.push((s,n)=>ar(t,void 0,r===n?s:void 0)),r},n3=(e=[Vf(),...zk()],t,r)=>{const i=Array.isArray(e)?e:[e];let s=i.length+1;const n=o=>{s-=1,o!==void 0&&(s=Math.min(s,0)),s===0&&t(o)};i.forEach(o=>wQ(o,a=>n(a===void 0?void 0:{key:a,host:o,isReactive:!1}),r));for(const o of i)if("manager"in o&&o.manager.component===o){Hk(o,a=>n(a===void 0?void 0:{key:a,host:o,isReactive:!0}),r);break}return r},o3=(e="",t={},r=Vf())=>{const i={emit:s=>{e===""&&z1();const n=new CustomEvent(e,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...t});return r.el.dispatchEvent(n),n}};return e===""&&n3(void 0,s=>e=s.key,i),i},P2=o3.bind(null,"");var Wk;Wk=i3;class a3{constructor(t){this.#e=[],this.#t=[],this.#r=[],this.#i=[],this.#s=[],this.#l=[],this.#c=[],this.#f=[],this.#u=[],this.#h=!1,this.P=new Kp,this.connectedCalled=!1,this.loadedCalled=!1,this[Wk]=!0,this.#a=[];const r=this,i=t??Vf();r.#n=i,r.ready=r.P.promise,r.#o=vM(r),r.component=i,r.#n.addController(r),r.#n.manager===void 0||(qk(r),queueMicrotask(()=>r.catchUpLifecycle()))}#e;#t;#r;#i;#s;#l;#c;#f;#u;#h;#n;catchUpLifecycle(){const{manager:t}=this.#n;t.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),t.#h&&this.triggerLoad().then(()=>t.loadedCalled&&this.triggerLoaded()).catch(console.error)}#o;get exports(){return this.#o}set exports(t){const r=this.#o;r!==t&&(this.#o=t,this.#a.forEach(ar),this.connectedCalled&&this.O!==!1&&this.#n.requestUpdate(this.O,r)),this.P.resolve(t)}setProvisionalExports(t,r=!0){this.#o=r?vM(t):t,this.#a.forEach(ar)}#a;watchExports(t){const r=()=>t(this.#o);return this.#a.push(r),()=>void this.#a.splice(this.#a.indexOf(r),1)}get use(){return gh(this.#n),yQ}get useRef(){return gh(this.#n),gQ}get useRefSync(){return gh(this.#n),s3}controllerRemoved(){this.#n.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(t){this.#e.push(t)}onDisconnected(t){this.#t.push(t)}onLoad(t){this.#r.push(t)}onLoaded(t){this.#i.push(t)}onUpdate(t){this.#s.push(t)}onUpdated(t){this.#l.push(t)}onDestroy(t){this.#c.push(t)}onLifecycle(t){this.#f.push(t),this.connectedCalled&&this.#n.el.isConnected&&this.#d(t)}triggerConnected(){const t=this;t.hostConnected&&ar(t.hostConnected,t),t.#e.forEach(ar),t.triggerLifecycle(),t.connectedCalled=!0}triggerDisconnected(){const t=this;t.hostDisconnected&&ar(t.hostDisconnected,t),t.#t.forEach(ar),t.#u.forEach(ar),t.#u=[]}async triggerLoad(){if(this.#h)return;this.#h=!0;const t=this;t.hostLoad&&await xx(t.hostLoad,t),this.#r.length>0&&await Promise.allSettled(this.#r.map(xx)),this.P.resolve(this.#o)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&ar(this.hostLoaded,this),this.#i.forEach(ar),this.loadedCalled=!0)}triggerUpdate(t){this.hostUpdate&&ar(this.hostUpdate,this,t),this.#s.forEach(gM,t)}triggerUpdated(t){this.hostUpdated&&ar(this.hostUpdated,this,t),this.#l.forEach(gM,t)}triggerDestroy(){this.hostDestroy&&ar(this.hostDestroy,this),this.#c.forEach(ar)}triggerLifecycle(){this.hostLifecycle&&this.#d(()=>this.hostLifecycle()),this.#f.forEach(this.#d,this)}#d(t){gh(this.#n);const r=ar(t);(Array.isArray(r)?r:[r]).forEach(s=>{typeof s=="function"?this.#u.push(s):typeof s=="object"&&typeof s.remove=="function"&&this.#u.push(s.remove)})}}function gM(e){ar(e,void 0,this)}const l3=a3,vM=e=>{if(typeof e!="object"&&typeof e!="function"||e===null)return e;const t={get(i,s,n){if(!((s==="exports"||s==="_exports")&&s in i&&i[s]===r)&&(s in i||s in Promise.prototype||typeof s=="symbol"))return typeof i=="function"?i[s]:Reflect.get(i,s,n)}},r=new Proxy(e,t);return r},xQ=e=>e.replace(SQ,(t,r)=>`${r===0?"":"-"}${t.toLowerCase()}`),SQ=/[A-Z]+(?![a-z])|[A-Z]/gu,EQ=1,AQ=2,TQ=4,$Q=8,MQ=16,IQ=32,OQ=64,Yk=e=>{let t=e;for(;t=t.parentNode??t.host;)if(t?.constructor?.lumina){const r=t;return r.manager?.loadedCalled||(r.J??r._offspring).push(e),(r.I??r._postLoad).promise}return!1},bM={};function Jk(){}const Z0=Object.defineProperty,CQ=globalThis.HTMLElement??Jk;class $Ae extends CQ{constructor(){super(),this.#t={},this.#r=[],this.I=new Kp,this.H=new Kp,this.J=[];const t=this,r=t.constructor;t._offspring=t.J,t._postLoad=t.I,r.C?.forEach(i=>{Object.hasOwn(t,i)&&(t.#t[i]=t[i],delete t[i])}),r.A?t.#i({a:r.A}):r.B.then(async i=>{await r.K.p,t.#i(await(i.default?.then(s=>typeof s=="function"?{a:s}:s)??i))}).catch(i=>{t.H.reject(i),setTimeout(()=>{throw i})})}static{this.lumina=!0}static F(){for(const t of this.C??[])Z0(this.prototype,t,{configurable:!0,enumerable:!0,get(){return this.#t[t]},set(r){this.#t[t]=r}});for(const t of this.E??[])Z0(this.prototype,t,{async value(...r){return this.#e||await this.H.promise,await this.#e[t](...r)},configurable:!0});for(const t of this.D??[])Z0(this.prototype,t,{value(...r){return this.#e[t](...r)},configurable:!0})}#e;#t;#r;get manager(){return this.#e?.manager}attributeChangedCallback(t,r,i){this.#e?.attributeChangedCallback(t,r,i),this.#e||this.#r.push(t)}connectedCallback(){this.#e?this.#e.connectedCallback?.():queueMicrotask(()=>this.G=Yk(this))}disconnectedCallback(){this.#e?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}#i(t){const r=this.constructor,i=r.L,s=this.#t,n=Object.values(t).find(d=>d.L===i),o=`${i}--lazy`;let a=n;for(;a&&!Object.hasOwn(a,"lumina");)a=Object.getPrototypeOf(a);NQ(a),!r.A&&(r.A=n,customElements.define(o,n)),n.N=this;const c=document.createElement(o);n.N=void 0,this.#e=c,this.#t=c,this.#r.forEach(d=>c.attributeChangedCallback(d,null,this.getAttribute(d))),Object.entries(s).forEach(PQ,c);const u=this.isConnected;(u||this.G)&&(c.connectedCallback?.(),u||c.disconnectedCallback())}addController(){}requestUpdate(){this.#e?.requestUpdate()}}function PQ([e,t]){this[e]=t}const NQ=e=>{const t=e.prototype,r=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(s,n){r.setAttribute.call(this.el,s,n)},t.removeAttribute=function(s){r.removeAttribute.call(this.el,s)},Z0(t,"isConnected",{get(){return Reflect.get(r,"isConnected",this.el)}}))};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const c3={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},u3=e=>(...t)=>({_$litDirective$:e,values:t});let h3=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,r,i){this._$Ct=t,this._$AM=r,this._$Ci=i}_$AS(t,r){return this.update(t,r)}update(t,r){return this.render(...r)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const LQ=u3(class extends h3{constructor(e){if(super(e),e.type!==c3.ATTRIBUTE||e.name!=="class"||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in t)t[i]&&!this.nt?.has(i)&&this.st.add(i);return this.render(t)}const r=e.element.classList;for(const i of this.st)i in t||(r.remove(i),this.st.delete(i));for(const i in t){const s=!!t[i];s===this.st.has(i)||this.nt?.has(i)||(s?(r.add(i),this.st.add(i)):(r.remove(i),this.st.delete(i)))}return Dl}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Kk="important",kQ=" !"+Kk,RQ=u3(class extends h3{constructor(e){if(super(e),e.type!==c3.ATTRIBUTE||e.name!=="style"||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,r)=>{const i=e[r];return i==null?t:t+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(e,[t]){const{style:r}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const i of this.ft)t[i]==null&&(this.ft.delete(i),i.includes("-")?r.removeProperty(i):r[i]=null);for(const i in t){const s=t[i];if(s!=null){this.ft.add(i);const n=typeof s=="string"&&s.endsWith(kQ);i.includes("-")||n?r.setProperty(i,n?s.slice(0,-11):s,n?Kk:""):r[i]=s}}return Dl}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:DQ}=lQ,FQ=e=>e.strings===void 0,_M=()=>document.createComment(""),IAe=(e,t,r)=>{const i=e._$AA.parentNode,s=t===void 0?e._$AB:t._$AA;if(r===void 0){const n=i.insertBefore(_M(),s),o=i.insertBefore(_M(),s);r=new DQ(n,o,e,e.options)}else{const n=r._$AB.nextSibling,o=r._$AM,a=o!==e;if(a){let l;r._$AQ?.(e),r._$AM=e,r._$AP!==void 0&&(l=e._$AU)!==o._$AU&&r._$AP(l)}if(n!==s||a){let l=r._$AA;for(;l!==n;){const c=l.nextSibling;i.insertBefore(l,s),l=c}}}return r},OAe=(e,t,r=e)=>(e._$AI(t,r),e),UQ={},CAe=(e,t=UQ)=>e._$AH=t,PAe=e=>e._$AH,NAe=e=>{e._$AR(),e._$AA.remove()};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tp=(e,t)=>{const r=e._$AN;if(r===void 0)return!1;for(const i of r)i._$AO?.(t,!1),tp(i,t);return!0},zg=e=>{let t,r;do{if((t=e._$AM)===void 0)break;r=t._$AN,r.delete(e),e=t}while(r?.size===0)},Zk=e=>{for(let t;t=e._$AM;e=t){let r=t._$AN;if(r===void 0)t._$AN=r=new Set;else if(r.has(e))break;r.add(e),VQ(t)}};function jQ(e){this._$AN!==void 0?(zg(this),this._$AM=e,Zk(this)):this._$AM=e}function BQ(e,t=!1,r=0){const i=this._$AH,s=this._$AN;if(s!==void 0&&s.size!==0)if(t)if(Array.isArray(i))for(let n=r;n<i.length;n++)tp(i[n],!1),zg(i[n]);else i!=null&&(tp(i,!1),zg(i));else tp(this,e)}const VQ=e=>{e.type==c3.CHILD&&(e._$AP??=BQ,e._$AQ??=jQ)};let GQ=class extends h3{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,r,i){super._$AT(t,r,i),Zk(this),this.isConnected=t._$AU}_$AO(t,r=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),r&&(tp(this,t),zg(this))}setValue(t){if(FQ(this._$Ct))this._$Ct._$AI(t,this);else{const r=[...this._$Ct._$AH];r[this._$Ci]=t,this._$Ct._$AI(r,this,0)}}disconnected(){}reconnected(){}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const qQ=()=>new zQ;let zQ=class{};const N2=new WeakMap,HQ=u3(class extends GQ{render(e){return er}update(e,[t]){const r=t!==this.G;return r&&this.G!==void 0&&this.rt(void 0),(r||this.lt!==this.ct)&&(this.G=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),er}rt(e){if(this.isConnected||(e=void 0),typeof this.G=="function"){const t=this.ht??globalThis;let r=N2.get(t);r===void 0&&(r=new WeakMap,N2.set(t,r)),r.get(this.G)!==void 0&&this.G.call(this.ht,void 0),r.set(this.G,e),e!==void 0&&this.G.call(this.ht,e)}else this.G.value=e}get lt(){return typeof this.G=="function"?N2.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});class WQ extends l3{constructor(t){super(t),this.destroyed=!1,this.R=!1,this.V=er,this.T=[],this.#r=new WeakMap,this.#t=t,this.exports=void 0,this.hasDestroy=Ex in t&&typeof t.destroy=="function",Lh.prototype.addController.call(t,{hostConnected:()=>{if(this.destroyed){const r=t.el.localName;throw t.el.remove(),new Error(`The ${r} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${Ex} prop.`)}this.#e!==void 0&&clearTimeout(this.#e),z1();for(const r of t.M)"triggerConnected"in r?r.triggerConnected():ar(r.hostConnected,r)},hostDisconnected:()=>{for(const r of t.M)"triggerDisconnected"in r?r.triggerDisconnected():ar(r.hostDisconnected,r);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const r of t.M)"triggerUpdate"in r?r.triggerUpdate(this.Q):ar(r.hostUpdate,r,this.Q)},hostUpdated:()=>{for(const r of t.M)"triggerUpdated"in r?r.triggerUpdated(this.Q):ar(r.hostUpdated,r,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),gh(t)}#e;#t;async destroy(){if(!this.destroyed){this.#t.el.isConnected&&(this.hasDestroy=!1,this.#t.el.remove()),this.#e=void 0,this.destroyed=!0;for(const t of this.#t.M)"triggerDestroy"in t?t.triggerDestroy():ar(t.hostDestroy,t);this.#t.M.splice(0)}}U(){if(this.#e!==void 0&&clearTimeout(this.#e),!this.#t.el.isConnected&&!this.#t.autoDestroyDisabled){const t=()=>void this.#t.destroy();this.#e=bQ(t,YQ)}}S(t,r){const i=this.T;this.V=er,this.T=[],i.forEach(s=>s(t,r))}#r;W(t,r){(typeof r=="object"&&r!==null||typeof r=="function")&&this.#r.set(r,t)}X(t){if(typeof t=="object"&&t!==null||typeof t=="function")return this.#r.get(t)}}let YQ=1e3;const Ex="autoDestroyDisabled";class f3 extends Lh{constructor(){super(),this.M=[],this.manager=new WQ(this);const t=this,r=t.constructor,i=r.N,s=r.K.o,n=f3.prototype.shouldUpdate;t.#i=i?.H??new Kp,t.I=i?.I??new Kp,t.J=i?.J??[],t._offspring=t.J,t._postLoad=t.I,t.el=i??t,t.#r=t.enableUpdating,t.enableUpdating=Jk,t.shouldUpdate!==n&&(t.#t=t.shouldUpdate,t.shouldUpdate=n),s&&(t.#e=new Map,r.elementProperties.forEach((o,a)=>t.#e.set(a,s())))}static finalizeStyles(t){const r=super.finalizeStyles(t),i=this.shadowRootOptions===bM;return this.K?.commonStyles===void 0||i?r:[this.K.commonStyles,...r]}static createProperty(t,r){const i=typeof r=="number"?r:Array.isArray(r)?r[0]:0,s=Array.isArray(r)?r[1]:void 0,n=s?.hasChanged??QE,o={attribute:i&EQ&&typeof t=="string"?xQ(t):!1,reflect:!!(i&AQ),type:i&TQ?Boolean:i&$Q?Number:void 0,state:!!(i&MQ),readOnly:!!(i&IQ),noAccessor:!!(i&OQ),c:!1,...s,hasChanged(a,l){const c=n(a,l);return o.c=c,c}};super.createProperty(t,o)}static getPropertyDescriptor(t,r,i){const s=this.K,n=super.getPropertyDescriptor(t,r,i);return i.d=n,{...n,get(){return s.t?.(this.#e.get(t)),n.get?.call(this)},set(o){const a=this.manager;if(i.readOnly&&!Sx&&(a.R||a.connectedCalled))throw Error(`Cannot assign to read-only property "${t}" of ${this.el.localName}. Trying to assign "${o}"`);n.set.call(this,o??void 0),i.c&&this.#e?.get(t)?.notify(),a.T.length>0&&(z1(),a?.S(t,o))}}}static{this.lumina=!0}#e;#t;#r;#i;#s;connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const t=this.constructor.K.c?.(()=>this.requestUpdate());this.#s=t;const r=!this.manager.connectedCalled;super.connectedCallback(),r?queueMicrotask(()=>this.#c().catch(i=>{this.#i.reject(i),setTimeout(()=>{throw i})})):t&&this.requestUpdate()}#l(t){try{this.#s.clear(),this.constructor.K.r(this.#s,()=>super.update(t))}catch(r){throw this.#s.clear(),r}}disconnectedCallback(){super.disconnectedCallback(),this.#s?.destroy(),this.#s=void 0}createRenderRoot(){const t=this.el.shadowRoot,r=this.constructor,i=r.shadowRootOptions,n=t??(i===bM?this.el:this.el.attachShadow(i));if(this.isConnected){const o=n.getRootNode();o.adoptedStyleSheets=[...o.adoptedStyleSheets,...r.elementStyles.map(a=>"styleSheet"in a?a.styleSheet:a)]}return n}async#c(){const t=this.el.G??Yk(this.el);t&&await t;const r=[];for(const s of this.M)"triggerLoad"in s?r.push(s.triggerLoad()):r.push(xx(s.hostLoad,s));await Promise.all(r),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(s=>s.has(Ex)&&this.manager.U()),this.#r(!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const i=this.J.filter(s=>!s.manager?.loadedCalled);i.length&&await Promise.allSettled(i.map(async s=>await s.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const s of this.M)"triggerLoaded"in s?s.triggerLoaded():ar(s.hostLoaded,s);this.loaded?.(),this.#i.resolve()}shouldUpdate(t){return this.manager.Q=t,this.#t?.(t)??!0}update(t){this.#s?this.#l(t):super.update(t)}listen(t,r,i){const s=r?.bind(this)??r;this.manager.onLifecycle(()=>(this.el.addEventListener(t,s,i),()=>this.el.removeEventListener(t,s,i)))}listenOn(t,r,i,s){const n=i?.bind(this)??i;this.manager.onLifecycle(()=>(t.addEventListener(r,n,s),()=>t.removeEventListener(r,n,s)))}async componentOnReady(){return await this.#i.promise,this}addController(t){this.M.push(t),!(i3 in t)&&this.renderRoot&&this.el.isConnected&&t.hostConnected?.()}removeController(t){this.M.splice(this.M.indexOf(t),1),t.controllerRemoved?.()}}const JQ=e=>{let t;const r=s=>{t=new URL(s,globalThis.location?.href||void 0).href},i={...e,getAssetPath(s){const n=new URL(s,t);return n.origin!==globalThis.location?.origin?n.href:n.pathname},setAssetPath:r,customElement(s,n){n.K=i,n.L=s,customElements.get(s)||customElements.define(s,n)}};return r(e.defaultAssetPath),i},Vu=e=>typeof e=="object"&&e!=null?LQ(e):e,wM=e=>typeof e=="object"&&e!=null?RQ(e):e,KQ=er;function RAe(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}const DAe={toAttribute:e=>e===!0?"":e===!1?null:e};function Xk(){return new aN}function ZQ(e){return new g1(e)}function Qk(e){ze(e)}function XQ(e,t){return Ia(e,t)}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const QQ=Fk`:host{display:block;box-sizing:border-box;*,*:before,*:after{box-sizing:inherit}}:host([hidden]){display:none}:host(:not(arcgis-basemap-gallery-item,arcgis-layer-list-item,arcgis-print-custom-text-elements,arcgis-print-dpi-input,arcgis-print-export-button,arcgis-print-exported-link,arcgis-print-exports-panel,arcgis-print-format-select,arcgis-print-layout-advanced-options,arcgis-print-layout-panel,arcgis-print-main-panel,arcgis-print-map-only-advanced-options,arcgis-print-map-only-panel,arcgis-print-out-spatial-reference-input,arcgis-print-preview-input,arcgis-print-scale-section,arcgis-print-template-select,arcgis-print-template-selector,arcgis-labeled-switch,arcgis-measurement-content,arcgis-version-management-service-item,arcgis-version-management-version-item,arcgis-version-management-version-list,arcgis-version-management-version-properties,arcgis-video-player-action-bar,arcgis-video-player-actions-group,arcgis-video-player-controls-group,arcgis-video-player-metadata,arcgis-video-player-settings,arcgis-video-player-slider)){font-family:var(--calcite-font-family)}`,qm=JQ({defaultAssetPath:"https://js.arcgis.com/4.34/map-components/",hydratedAttribute:"hydrated",commonStyles:QQ}),{customElement:eee,getAssetPath:tee,setAssetPath:FAe}=qm;qm.t=Qk;qm.o=Xk;qm.c=ZQ;qm.r=XQ;const L2=(...e)=>{const t=[];for(let i=0;i<e.length;i++){const s=e[i];if(typeof s=="string")t.push(s);else if(Array.isArray(s))t.push.apply(t,s);else if(typeof s=="object")for(const n in s)s[n]&&t.push(n)}const r=t.join(" ");return t.length=0,r},ree=(e,t)=>{let r=e;for(;r;){if(r===t)return!0;if(!r.parentNode)return!1;r.parentNode instanceof ShadowRoot?r=r.parentNode.host:r=r.parentNode}return!1},iee=(e,t,r)=>{const i=see(t).subscribe;return i(s=>{s.some(o=>ree(e,o.target))&&r()})},k2={},see=e=>{const t=e.join(","),r=k2[t];if(r!==void 0)return r;const i=new Set,s=new MutationObserver(o=>i.forEach(a=>a(o)));globalThis.document&&s.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const n={subscribe:o=>(i.add(o),()=>{i.delete(o),i.size===0&&(s.disconnect(),k2[t]=void 0)})};return k2[t]=n,n},eR=(e,t)=>{let r=e;for(;r;){const i=r.closest?.(t);if(i)return i;const s=r.getRootNode?.();if(s===globalThis.document)return;r=s.host}};function UAe(e){const t=eR(e,".calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto");return t?.classList.contains("calcite-mode-dark")||t?.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const nee=(e,t,r)=>eR(e,`[${t}]`)?.getAttribute(t)??r;let X0=class extends Xe{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};g([A({readOnly:!0})],X0.prototype,"version",null),X0=g([ie("esri.views.layers.support.ClipArea")],X0);var Ax;let wo=Ax=class extends X0{constructor(e){super(e),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new Ax({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};g([A({type:[Number,String],json:{write:!0}})],wo.prototype,"left",void 0),g([A({type:[Number,String],json:{write:!0}})],wo.prototype,"right",void 0),g([A({type:[Number,String],json:{write:!0}})],wo.prototype,"top",void 0),g([A({type:[Number,String],json:{write:!0}})],wo.prototype,"bottom",void 0),wo=Ax=g([ie("esri.views.layers.support.ClipRect")],wo);function oee(e,t){const r=10**t;return Math.round(e*r)/r}const Py={left:0,right:0,top:0,bottom:0};let ss=class extends ai{constructor(t){super(t),this._leadingClips=new Map,this._trailingClips=new Map,this.direction="horizontal",this.leadingLayers=new Mt,this.max=100,this.min=0,this.precision=4,this.step=.5,this.stepMultiplier=10,this.trailingLayers=new Mt,this.view=null}initialize(){this.addHandles([Zr(()=>[this.view,this.view?.ready,this.position,this.direction],()=>this._clipLayers(),Jb),Zr(()=>this.leadingLayers.toArray(),()=>this._clipLeadingLayers(),Jb),Zr(()=>this.trailingLayers.toArray(),()=>this._clipTrailingLayers(),Jb)])}destroy(){this._removeExistingClips()}get position(){return 25}set position(t){const{precision:r,min:i,max:s}=this;this._set("position",oee(Math.max(Math.min(t,s),i),r))}get state(){return this.view?.ready?"ready":"disabled"}_clipLayers(){this._clipLeadingLayers(),this._clipTrailingLayers()}_clipLeadingLayers(){this._removeClips("leading");const{leadingLayers:t}=this;t.forEach(r=>this._clipLayer({layer:r,type:"leading"}))}_clipTrailingLayers(){this._removeClips("trailing");const{trailingLayers:t}=this;t.forEach(r=>this._clipLayer({layer:r,type:"trailing"}))}async _getLayerView(t){const{view:r}=this;if(!t||!r)return null;const i=await r.whenLayerView(t);return"clips"in i?i:null}_getVerticalClipRect(t){const{position:r}=this;return t==="leading"?new wo({...Py,bottom:100-r+"%"}):t==="trailing"?new wo({...Py,top:`${r}%`}):null}_getHorizontalClipRect(t){const{position:r}=this;return t==="leading"?new wo({...Py,right:100-r+"%"}):t==="trailing"?new wo({...Py,left:`${r}%`}):null}_getClipRect(t){const{direction:r}=this;return r==="vertical"?this._getVerticalClipRect(t):r==="horizontal"?this._getHorizontalClipRect(t):null}async _clipLayer(t){const{_leadingClips:r,_trailingClips:i}=this,{layer:s,type:n}=t,o=n==="trailing"?i:n==="leading"?r:null,a=await this._getLayerView(s);if(!(a&&"clips"in a&&o&&a.hasOwnProperty("clips")))return;const l=o.get(a);l&&a.clips.remove(l);const c=this._getClipRect(n);c&&(o.set(a,c),a.clips.add(c))}_removeClips(t){const{_leadingClips:r,_trailingClips:i}=this,s=t==="trailing"?i:t==="leading"?r:null;s&&(s.forEach((n,o)=>{o&&o.hasOwnProperty("clips")&&o.clips.remove(n)}),s.clear())}_removeExistingClips(){this._removeClips("leading"),this._removeClips("trailing")}};g([A()],ss.prototype,"direction",void 0),g([A({type:Mt,nonNullable:!0})],ss.prototype,"leadingLayers",void 0),g([A({readOnly:!0})],ss.prototype,"max",void 0),g([A({readOnly:!0})],ss.prototype,"min",void 0),g([A()],ss.prototype,"position",null),g([A()],ss.prototype,"precision",void 0),g([A({readOnly:!0})],ss.prototype,"state",null),g([A()],ss.prototype,"step",void 0),g([A()],ss.prototype,"stepMultiplier",void 0),g([A({type:Mt,nonNullable:!0})],ss.prototype,"trailingLayers",void 0),g([A()],ss.prototype,"view",void 0),ss=g([ie("esri.widgets.Swipe.SwipeViewModel")],ss);const aee=ss,tR=e=>(...t)=>{const r=zk(),i=new e(...t),s=i.exports;qk(r.at(-1));const n=i.component.manager;n.W(i,s),i.watchExports(n.W.bind(n,i)),pQ(i);const o=[i.component,...r].reverse();return n3(o,a=>a===void 0?void 0:lee(i,a,s),s)},lee=(e,{host:t,key:r,isReactive:i},s)=>{const n=t,o=n[r]!==e.exports,a=n[r]!==s,l=s!==e.exports;if(o&&!a&&l&&(n[r]=e.exports),t===e.component){if(i){const d=e.component.manager;a&&d.W(e,n[r]),e.onUpdate(p=>{if(p.has(r)){const y=n[r];y!==e.exports&&d.W(e,y)}})}e.O=i?void 0:r}const u=e.component.constructor.elementProperties.get(r)?.readOnly;e.watchExports(()=>{n[r]!==e.exports&&(u?vQ(()=>{n[r]=e.exports}):n[r]=e.exports)})},cee="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),uee=new Set(cee),Hg="en",hee={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},fee=async(e,t,r="")=>{const i=`${t}/${r}`,s=`${i}${e}.json`;return R2[s]??(R2[s]=rR(e,i)),await R2[s]},R2={},rR=async(e,t)=>{const r=`${t}${e}.json`;try{const i=await fetch(r);if(i.ok)return await i.json()}catch(i){return console.error(i),{}}return e===Hg?{}:await rR(Hg,t)},iR=e=>{const t=nee(e,"lang",globalThis.navigator?.language||Hg);return{lang:t,t9nLocale:sR(t)}},sR=e=>{const[t,r]=e.split("-"),i=t.toLowerCase();let s=i;return r&&(s=`${i}-${r.toUpperCase()}`),s=hee[s]??s,uee.has(s)?s:r?sR(i):Hg},dee=(e,t,r,i)=>{let s;const n=()=>pee(e,t(),i).then(o=>{(s?.lang!==o.lang||s.t9nLocale!==o.t9nLocale||s.t9nStrings!==o.t9nStrings)&&r(o),s=o}).catch(console.error);return queueMicrotask(n),iee(e,["lang"],n)},pee=async(e,t,r=e.localName.split("-").slice(1).join("-"))=>{const{lang:i,t9nLocale:s}=iR(e),n=`${t}/${r}/t9n`,a=r===null?{}:await fee(s,n,"messages.");return{lang:i,t9nLocale:s,t9nStrings:a}},mee=e=>nR(void 0,e),BAe=e=>t=>nR(t,e);class yee extends a3{constructor(t,r){super(t);const i=this.exports;try{gh(this.component);const s=r(this.component,this),n=this.exports!==i;if(dQ(s)){n||this.setProvisionalExports(s);const o=s.then(a=>{this.exports=a,super.catchUpLifecycle()}).catch(a=>{this.P.reject(a),console.error(a)});this.onLoad(async()=>await o)}else(!n||s!==void 0)&&(this.exports=s),queueMicrotask(()=>super.catchUpLifecycle())}catch(s){this.P.reject(s),console.error(s)}}catchUpLifecycle(){}}const nR=tR(yee),VAe=(e,t)=>new gee(e,t);class gee extends a3{#e;#t;#r;constructor(t,r){super(),this.#t=t,this.#r=r,this.#e=new MutationObserver(i=>{i.forEach(s=>{t.includes(s.attributeName)&&r.call(this.component,this.component.el.getAttribute(s.attributeName),s.oldValue,s.attributeName)})})}hostConnected(){this.#t.forEach(t=>{this.component.el.hasAttribute(t)&&this.#r.call(this.component,null,this.component.el.getAttribute(t),t)}),this.#e.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this.#t})}hostDisconnected(){this.#e.disconnect()}}const vee=e=>(t={})=>mee((r,i)=>{const s=iR(r.el),n={_lang:s.lang,_t9nLocale:s.t9nLocale,_loading:!0},o=r;i.onLifecycle(()=>dee(r.el,()=>e("./assets"),({t9nLocale:l,t9nStrings:c,lang:u})=>{const d={...c,_lang:u,_t9nLocale:l,_loading:!1};i.exports=d;const p=c.componentLabel;typeof p=="string"&&"label"in r&&r.label==null&&(r.label??=p),a(o.messageOverrides)},t.name));const a=l=>{const c=i.exports,u=c._original??c,d=oR(u,l);l&&(d._original=u),i.exports=d};return"messageOverrides"in o&&i.onUpdate(l=>{l.has("messageOverrides")&&a(o.messageOverrides)}),t.blocking?(i.setProvisionalExports(n,!1),i.ready):n}),oR=(e,t)=>{if(!t)return e;const r={...e};return Object.entries(t).forEach(([i,s])=>{typeof s=="object"?r[i]=oR(e[i],s):r[i]=s??e[i]}),r},bee=e=>wee,_ee="arcgisPropertyChange",wee=(...e)=>{const t=Vf(),r=o3(_ee,void 0,t);let i=!0;return t.manager.onUpdated(s=>{if(i||!t.el.isConnected){i=!1;return}for(const n of e)s.has(n)&&r.emit({name:n})}),r};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const xee=vee(tee),GAe=(e,t)=>{const i=Vf().manager;i.onLoaded(()=>i.onLifecycle(()=>Z5(e,t,s.emit)));const s=o3();return s};class See extends l3{constructor(t,r){super(t),this.Y=new Map,this.A=void 0,this.#t=Xk();const i=this;i.#r=r,i.Z(),i.setProvisionalExports(Eee(t,new WeakRef(i),t.M.length-1,i.instance,i.Y),!1),Hk(t,s=>{if(s){const n=Zr(()=>t[s],o=>{if(o===i.instance)return;const a=i.instance;i.exports=o,i.instance=o,i.Y.forEach((l,c)=>t.requestUpdate(l,a[c])),i.#e&&a.destroy(),i.#e=!1},{sync:!0});i.onDestroy(n.remove)}},i.exports)}#e;#t;#r;get exports(){return Qk(this.#t),super.exports}set exports(t){super.exports=t,this.#t.notify()}Z(){const t=this;t.instance="prototype"in t.#r&&"declaredClass"in t.#r.prototype?new t.#r:t.#r(),t.#e=!0}hostConnected(){this.exports=this.instance}hostDestroy(){this.#e&&this.instance.destroy?.()}}const Eee=(e,t,r,i,s)=>new Proxy(i,{get:(n,o)=>{const a=n[o];if(typeof o=="symbol"||s.has(o))return a;const l=e.M[r];return l.A=o,n3(e,c=>{if(l.A=void 0,c!==void 0){const u=c.key;s.set(o,u);const d=e.constructor.getPropertyOptions(u),p=o!==u&&u.toLowerCase().includes("disable");Aee(t,d,o,u,p),d.i===void 0&&Tee(d,r,o,p)}},a)}}),Aee=(e,t,r,i,s,n)=>n=Zr(()=>{const o=e.deref();return o===void 0||o.component.manager.destroyed?n=n.remove():o.exports[r]},(o,a)=>{if(!n)return;e.deref().component?.requestUpdate(i,s?!a:a),t.c=!1},{sync:!0}),Tee=(e,t,r,i)=>{e.d.get=function(){const s=this.M[t]?.exports[r];return i?!s:s},e.d.set=function(s){const n=this.M[t];n.A!==r&&(n.exports[r]=i?!s:s)}},qAe=e=>e.Y;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const $ee={"top-left":"top-left","top-right":"top-right","bottom-left":"bottom-left","bottom-right":"bottom-right","bottom-leading":"bottom-start","bottom-trailing":"bottom-end","top-leading":"top-start","top-trailing":"top-end"},Mee=["manual"];function Ny(e){e.el.childElem&&(e.el.childElem.ownedBy=e.el),e.position&&Mee.includes(e.position)?e.el.removeAttribute("slot"):e.position&&(e.el.slot=$ee[e.position]);const t=Iee(e);if(!t){const r=Nee(e);if(!r){aR(e);return}return SM(r,e,!0),r}return Oee(t,e.el.parent)||(e.el.parent=t,t.localName==="arcgis-expand"?Cee(t,e):t.localName==="arcgis-placement"?Pee(t,e):SM(t,e,!1)),t}function Iee({el:e}){for(let t=e.parentElement;t;t=t?.parentElement??null){if(xM.has(t.localName))return t;if("ownedBy"in t&&t.ownedBy instanceof HTMLElement&&xM.has(t.ownedBy.localName))return t.ownedBy}}const xM=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function Oee(e,t){if(e!==t)return!1;const r=e.localName;return r==="arcgis-expand"||r==="arcgis-placement"}function H1(e,t,r="arcgisReady"){const i=e;if(i.view)t(i.view);else{let s=function(n){n.target===e&&(H1(e,t,r),e.removeEventListener(r,s))};e.addEventListener(r,s)}}const Cee=(e,t)=>H1(e,r=>{const i=d3(t);t.el.shadowRoot?e.content=t.el:t.el.childElem&&e.content!=null&&i.append(t.el.childElem),t.el.view=r}),Pee=(e,t)=>H1(e,r=>{const i=d3(t);t.el.childElem&&i.append(t.el.childElem),t.el.view=r}),SM=(e,t,r)=>H1(e,i=>{r&&aR(t),t.el.view=i,t.referenceElement=e},"arcgisViewReadyChange");function aR(e){e.el.childElem&&d3(e).append(e.el.childElem)}function d3(e){return e.el.shadowRoot??e.el}function Nee(e,t){const r=e.referenceElement;if(typeof r!="string")return r??void 0;const i=r.includes("#")||r.includes(".")||r.includes("["),s=e.el.getRootNode();return(i?void 0:s.querySelector(`#${r}`))??s.querySelector(r)??void 0}class Lee extends l3{#e;constructor(t){super(t),this.setProvisionalExports(void 0)}hostConnected(){this.component.manager.loadedCalled&&Ny(this.component)}hostLoad(){this.component.manager.destroyed}hostLoaded(){const{el:t}=this.component,r=t.shadowRoot?.firstElementChild??t.firstElementChild??void 0;t.childElem??=r,this.#e=k_(()=>this.component.view!=null,()=>{this.component.arcgisReady.emit()},{once:!0,initial:!0,sync:!0}),t.isConnected&&Ny(this.component)}hostDisconnected(){typeof this.component.el.childElem=="object"&&this.component.view?.ui?.remove(this.component.el.childElem),this.#e?.remove()}hostUpdate(t){t.has("position")&&this.component.el.childElem!=null&&typeof this.component.position=="string"&&Ny(this.component),t.has("referenceElement")&&Ny(this.component)}}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const kee=(e,t)=>r=>Dee(r,e);let Ree=class extends See{#e=void 0;constructor(t,r){super(t,r),new Lee(this.component)}hostLoad(){this.#e=Zr(()=>this.component.el.view,t=>{this.instance.view=t,this.instance.map=t?.map},{sync:!0,initial:!0})}hostDestroy(){this.#e?.remove(),super.hostDestroy()}};const Dee=tR(Ree);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const EM={disabled:"esri-disabled",widget:"esri-widget"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const AM={dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const Fee=Fk`:host{position:absolute;margin:0;background:transparent!important;padding:0;width:100%;height:100%;overflow:hidden;user-select:none;--arcgis-internal-swipe-handle-color-background: var(--calcite-color-background);--arcgis-internal-swipe-divider-color-background: var(--calcite-color-background)}.arcgis-swipe{width:100%;height:100%;overflow:hidden;user-select:none}.arcgis-swipe,.arcgis-ui .arcgis-swipe{pointer-events:none!important}.arcgis-swipe__container{position:absolute;z-index:1;margin:0;outline:0;border:0;padding:0;overflow:hidden;pointer-events:auto;touch-action:none;outline-color:transparent}.arcgis-swipe--horizontal .arcgis-swipe__container{margin-left:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:col-resize;height:100%}.arcgis-swipe--vertical .arcgis-swipe__container{margin-top:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:row-resize;width:100%}.arcgis-swipe--disabled .arcgis-swipe__container{cursor:default;pointer-events:none}.arcgis-swipe__divider{position:absolute;background-color:var(--arcgis-internal-swipe-divider-color-background)}.arcgis-swipe--horizontal .arcgis-swipe__divider{top:0;left:calc(var(--calcite-spacing-xxxl) / 2);margin-left:calc(var(--calcite-border-width-lg) * .5 * -1);border-right:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-left:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:var(--calcite-border-width-lg);height:100%}.arcgis-swipe--vertical .arcgis-swipe__divider{top:calc(var(--calcite-spacing-xxxl) / 2);left:0;margin-top:calc(var(--calcite-border-width-lg) * .5 * -1);border-top:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-bottom:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:100%;height:var(--calcite-border-width-lg)}.arcgis-swipe__handle{display:flex;position:relative;align-items:center;justify-content:center;border:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-radius:var(--calcite-corner-radius-round);background-color:var(--arcgis-internal-swipe-handle-color-background);width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl);color:var(--calcite-color-text-3)}.arcgis-swipe__handle--hidden{visibility:hidden}.arcgis-swipe--vertical .arcgis-swipe__handle{rotate:90deg}.arcgis-swipe__handle-icon{position:relative;z-index:2}.arcgis-swipe__handle-icon:before{content:"|||";color:inherit}.arcgis-swipe--horizontal .arcgis-swipe__handle{top:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe--vertical .arcgis-swipe__handle{left:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe__container:focus .arcgis-swipe__handle,.arcgis-swipe__container:focus .arcgis-swipe__divider{outline:inset 2px var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.arcgis-swipe__container:focus .arcgis-swipe__handle{outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}`,Jo="arcgis-swipe",lo={base:Jo,baseDisabled:`${Jo}--disabled`,vertical:`${Jo}--vertical`,horizontal:`${Jo}--horizontal`,container:`${Jo}__container`,divider:`${Jo}__divider`,handle:`${Jo}__handle`,handleHidden:`${Jo}__handle--hidden`,handleIcon:`${Jo}__handle-icon`},Uee=kee(aee);let jee=class extends f3{constructor(){super(...arguments),this._container=null,this._containerRef=qQ(),this._swiping=!1,this._swipePositionChanged=!1,this.messages=xee({}),this._pointerOffset=0,this.viewModel=Uee(this),this._onContainerPointerDown=t=>{t.preventDefault();const{_container:r}=this;r&&document.activeElement!==this.el&&r.focus(),this._swiping=!0,this._calculatePointerOffset(t)},this.view=this.viewModel.view,this.autoDestroyDisabled=!1,this.direction=this.viewModel.direction,this.disabled=!1,this.hideDivider=!1,this.hideHandle=!1,this.icon="compare",this.label=this.messages.componentLabel,this.leadingLayers=this.viewModel.leadingLayers,this.swipePosition=this.viewModel.position,this.state=this.viewModel.state,this.trailingLayers=this.viewModel.trailingLayers,this.arcgisPropertyChange=bee()("state"),this.arcgisReady=P2(),this.arcgisSwipeChange=P2(),this.arcgisSwipeInput=P2()}static{this.properties={view:0,autoDestroyDisabled:5,direction:3,disabled:7,hideDivider:7,hideHandle:7,icon:1,label:1,leadingLayers:0,messageOverrides:0,position:3,swipePosition:9,referenceElement:1,state:3,trailingLayers:0}}static{this.styles=Fee}async destroy(){await this.manager.destroy()}loaded(){this.listenOn(document,"pointermove",this._onContainerPointerMove),this.listenOn(document,"pointerup",this._onContainerPointerUp)}_calculatePointerOffset(t){const{direction:r}=this,i=this._containerRef.value,s=(r==="vertical"?i.clientHeight:i.clientWidth)/2,n=i.getBoundingClientRect(),o=t.clientX-n.left,a=t.clientY-n.top;this._pointerOffset=r==="vertical"?a-s:o-s}_onContainerPointerUp(t){this._swiping&&(t.preventDefault(),this._swipePositionChanged&&(this.arcgisSwipeChange.emit(),this._swipePositionChanged=!1),this._swiping=!1)}_onContainerPointerMove(t){if(!this._swiping)return;t.preventDefault();const{_pointerOffset:r,el:i,direction:s}=this,{clientX:n,clientY:o}=t,{top:a,left:l,width:c,height:u}=i.getBoundingClientRect(),d=s==="vertical"?u:c,p=(s==="vertical"?o-a-r:n-l-r)/d*100;this.swipePosition!==p&&(this.swipePosition=p,this._swipePositionChanged=!0,this.arcgisSwipeInput.emit())}_getKeyPosition(t){const{key:r}=t,{swipePosition:i}=this,{max:s,min:n,step:o,stepMultiplier:a,direction:l}=this.viewModel,c=o*a;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].includes(r)&&(t.preventDefault(),t.stopPropagation()),l==="vertical"?r==="ArrowDown"||r==="ArrowRight":r==="ArrowUp"||r==="ArrowRight"){const u=t.shiftKey?c:o;return i+u}if(l==="vertical"?r==="ArrowUp"||r==="ArrowLeft":r==="ArrowDown"||r==="ArrowLeft"){const u=t.shiftKey?c:o;return i-u}return r==="Home"?n:r==="End"?s:(l==="vertical"?r==="PageDown":r==="PageUp")?i+c:(l==="vertical"?r==="PageUp":r==="PageDown")?i-c:null}_onContainerKeyDown(t){const r=this._getKeyPosition(t);typeof r=="number"&&this.swipePosition!==r&&(this.swipePosition=r,this.arcgisSwipeInput.emit(),this.arcgisSwipeChange.emit())}render(){const{state:t,direction:r}=this.viewModel,i=t==="disabled"||this.disabled,s={[EM.disabled]:i,[lo.baseDisabled]:i,[lo.vertical]:r==="vertical",[lo.horizontal]:r==="horizontal"};return od`<div class=${Vu(L2(lo.base,EM.widget,s))}>${t==="disabled"?null:this._renderContainer()}</div>`}_renderHandle(){const{direction:t}=this.viewModel,{hideHandle:r}=this,i={[AM.dragHorizontal]:t==="vertical",[AM.dragVertical]:t==="horizontal"},s=L2(lo.handle,!!r&&lo.handleHidden);return od`<div class=${Vu(s)} role=presentation><span aria-hidden=true class=${Vu(L2(lo.handleIcon,i))}></span></div>`}_renderDivider(){return this.hideDivider?null:od`<div class=${Vu(lo.divider)} role=presentation></div>`}_renderContent(){return[this._renderDivider(),this._renderHandle()]}_renderContainer(){const{disabled:t,viewModel:r}=this,{max:i,min:s,direction:n,position:o}=r,a=this.label??this.messages.dragLabel??"",l=`${o}%`,c={top:n==="vertical"?l:void 0,left:n==="vertical"?void 0:l},u=this._renderContent();return t?od`<div class=${Vu(lo.container)} role=presentation style=${wM(c)}>${u}</div>`:od`<div @pointerdown=${this._onContainerPointerDown} .ariaLabel=${a} .ariaOrientation=${n} .ariaValueMax=${`${i}`} .ariaValueMin=${`${s}`} .ariaValueNow=${`${o}`} .ariaValueText=${l} class=${Vu(lo.container)} @keydown=${this._onContainerKeyDown} role=slider style=${wM(c)} tabindex=0 title=${a??KQ} touch-action=none ${HQ(this._containerRef)}>${u}</div>`}};eee("arcgis-swipe",jee);class gt{static async Basemap(t){const r=await ve(()=>import("./Basemap-BFyOB0Rp.js").then(i=>i.B),__vite__mapDeps([49,1,50,51,48,4,3,52,53]),import.meta.url);return Reflect.construct(r.default,[t])}static async Map(t){const r=await ve(()=>import("./Map-Br1QeWbT.js").then(i=>i.M),__vite__mapDeps([84,49,1,50,51,48,4,3,52,53,85,6,86,87,88,89,90,69,70,71,91,92,93,94]),import.meta.url);return Reflect.construct(r.default,[t])}static async MapView(t){const r=await ve(()=>import("./MapView-BULM8_Zy.js").then(i=>i.M),__vite__mapDeps([95,1,96,97,98,85,73,12,3,4,99,69,70,71,58,59,5,6,7,8,100,51,101,14,102,84,49,50,48,52,53,86,87,88,89,90,91,92,93,94,56,38,13,103,28,29,104,105,106,107,108,109,41,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,9,125]),import.meta.url);return Reflect.construct(r.default,[t])}static async FeatureLayer(t){const r=await ve(()=>import("./FeatureLayer-CTp8Vv0w.js"),__vite__mapDeps([126,1,55,64,127,28,29,128,73,12,3,4,129,130,71,131,132,62,133,134,135,92,93,136,137,138,6,139,140,141,142,143,103,144,56,63,65,66,38,145,51,146,147,148,149,150,151,152,153,76,154,155,156,157,158,159,160,161,68,69,70,162,163,164,165,166,16,17,167,102,37,21,168,19,20,169,170,171,172,173,87,174,175,67,48,176,177,178,179,180,181,182,183,184,7,185,186,187]),import.meta.url);return Reflect.construct(r.default,[t])}static async GraphicsLayer(t){const r=await ve(()=>import("./GraphicsLayer-DyM81qeL.js"),__vite__mapDeps([188,99,133,64,134,135,92,93,177,65,66,1]),import.meta.url);return Reflect.construct(r.default,[t])}static async ImageryLayer(t){const r=await ve(()=>import("./ImageryLayer-CHctXDaz.js"),__vite__mapDeps([189,1,55,128,44,63,64,65,66,190,191,166,147,148,149,150,153,151,152,76,192,193,194,195,196,197,172,173,73,12,3,4,28,29,108,97,109,41,110,198,51,134,135,92,93,199,169,170,16,17,200,201,37,21,38,202,46,103,131,203,204,205,206,207,34,35,33,36,130,71,208,62,133,136,67,48,68,69,70,176,177,178,179,185,209,187]),import.meta.url);return Reflect.construct(r.default,[t])}static async ImageryTileLayer(t){const r=await ve(()=>import("./ImageryTileLayer-B5Cxr_R0.js"),__vite__mapDeps([210,1,55,128,45,62,133,64,134,135,92,93,136,211,63,65,66,190,191,166,147,148,149,150,153,151,152,76,192,193,194,195,196,197,172,173,73,12,3,4,28,29,108,97,109,41,110,198,51,199,169,170,16,17,200,201,58,59,11,13,14,212,213,69,70,71,214,131,215,67,48,68,203,176,177,178,179,38,46,216,61,34,209,187]),import.meta.url);return Reflect.construct(r.default,[t])}static async MapImageLayer(t){const r=await ve(()=>import("./MapImageLayer-DtBOrOs2.js"),__vite__mapDeps([217,1,50,51,55,138,132,218,102,63,64,65,66,68,69,70,71,85,128,219,161,103,28,29,41,204,205,108,97,109,110,206,207,34,35,33,36,130,220,32,131,208,174,175,145,6,146,147,148,149,150,151,152,153,76,154,155,156,182,181,37,21,38,157,159,160,165,166,16,17,167,168,19,20,169,170,171,172,173,187,221,62,133,134,135,92,93,136,67,48,176,177,178,179,222,223,202,185]),import.meta.url);return Reflect.construct(r.default,[t])}static async OpenStreetMapLayer(t){const r=await ve(()=>import("./OpenStreetMapLayer-Q6Vd8gQq.js"),__vite__mapDeps([224,225,55,133,64,134,135,92,93,63,65,66,67,1,51,48,68,69,70,71,176,177,202,58,59]),import.meta.url);return Reflect.construct(r.default,[t])}static async TileLayer(t){const r=await ve(()=>import("./TileLayer-B-uiujhm.js"),__vite__mapDeps([226,50,51,55,132,57,58,59,60,61,16,17,34,218,102,63,64,65,66,68,69,1,70,71,85,128,219,161,103,28,29,41,204,205,108,97,109,110,206,207,35,33,36,130,220,32,131,208,174,175,145,6,146,147,148,149,150,151,152,153,76,154,155,156,182,181,37,21,38,157,159,160,165,166,167,168,19,20,169,170,171,172,173,187,221,62,133,134,135,92,93,136,67,48,176,177,202]),import.meta.url);return Reflect.construct(r.default,[t])}static async VectorTileLayer(t){const r=await ve(()=>import("./VectorTileLayer-Cv1-5Sai.js"),__vite__mapDeps([227,51,55,132,57,58,59,60,61,16,17,34,62,133,64,134,135,92,93,136,63,65,66,67,1,48,68,69,70,71,176,177,119,228,229,230,231,98,232,233,197,172,173,117,122,124]),import.meta.url);return Reflect.construct(r.default,[t])}static async WMSLayer(t){const r=await ve(()=>import("./WMSLayer-CZKnxZGK.js"),__vite__mapDeps([234,85,55,7,138,133,64,134,135,92,93,63,65,66,67,1,51,48,68,69,70,71,176,177,178,179,38,235,236,202]),import.meta.url);return Reflect.construct(r.default,[t])}static async ArcadeExecutor(t,r){const{createArcadeExecutor:i}=await ve(async()=>{const{createArcadeExecutor:s}=await import("./arcade-BlCUiTml.js");return{createArcadeExecutor:s}},__vite__mapDeps([237,19,20,21,24,26,126,1,55,64,127,28,29,128,73,12,3,4,129,130,71,131,132,62,133,134,135,92,93,136,137,138,6,139,140,141,142,143,103,144,56,63,65,66,38,145,51,146,147,148,149,150,151,152,153,76,154,155,156,157,158,159,160,161,68,69,70,162,163,164,165,166,16,17,167,102,37,168,169,170,171,172,173,87,174,175,67,48,176,177,178,179,180,181,182,183,184,7,185,186,187]),import.meta.url);return await i(t,r)}static async ColorBackground(t){const r=await ve(()=>import("./ColorBackground-CUPAqB-h.js"),__vite__mapDeps([125,1]),import.meta.url);return Reflect.construct(r.default,[t])}static async FeatureFilter(t){const r=await ve(()=>import("./FeatureFilter-CWgxAbmp.js"),__vite__mapDeps([143,103,28,29,1]),import.meta.url);return Reflect.construct(r.default,[t])}static async FieldFromJson(t){return(await ve(()=>import("./Field-BjIZIuuv.js").then(i=>i.F),__vite__mapDeps([28,29]),import.meta.url)).default.fromJSON(t)}static async Query(){const t=await ve(()=>import("./Query-BDCdTeKY.js").then(r=>r.Q),__vite__mapDeps([103,28,29]),import.meta.url);return Reflect.construct(t.default,[])}static async QueryByIds(t,r,i){const{executeForIds:s}=await ve(async()=>{const{executeForIds:n}=await import("./query-CkVDi-ge.js");return{executeForIds:n}},__vite__mapDeps([238,239,154,103,28,29,240,41,1,108,97,109,110,205,206,207,34,35,33,36,130,71,241,131,242,243,69,70,244,155,38,204,220,32,245,246,247,248,249,208,250,251]),import.meta.url);return s(t,r,i)}static async RendererFromJson(t){const{fromJSON:r}=await ve(async()=>{const{fromJSON:i}=await import("./jsonUtils-Cgq4AutP.js");return{fromJSON:i}},__vite__mapDeps([164,165,166,147,148,149,150,66,153,1,16,17,167,102,37,21,38,168,19,20,169,170,171,172,173,146,151,152,76]),import.meta.url);return r(t)}}class je{wkid;latestWkid;wkt;constructor(t,r){typeof t=="string"?this.wkt=t:(this.wkid=t,this.latestWkid=r)}isEqual(t){return!!(this.isWebMercator()&&t.isWebMercator()||this.wkid&&t.wkid&&this.wkid===t.wkid||this.wkt&&t.wkt&&this.wkt===t.wkt||this.latestWkid&&t.latestWkid&&this.latestWkid===t.latestWkid)}clone(){const t=new je("");return t.latestWkid=this.latestWkid,t.wkid=this.wkid,t.wkt=this.wkt,t}lean(){const t={};return this.wkt?t.wkt=this.wkt:(t.wkid=this.wkid,this.latestWkid&&(t.latestWkid=this.latestWkid)),t}isWebMercator(){const t=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&t.includes(this.wkid)||this.latestWkid&&t.includes(this.latestWkid))}static latLongSR(){return new je(4326)}static fromConfig(t){if(t.wkt)return new je(t.wkt);if(t.wkid)return new je(t.wkid,t.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(t){return t?t instanceof je?t.clone():typeof t=="string"&&t.startsWith("EPSG:")?new je(parseInt(t.substring(5).trim())):new je(t):je.latLongSR()}static fromESRI(t){if(t.wkt)return new je(t.wkt);{const r=t.toJSON().latestWkid,i=new je(t.wkid);return r&&(i.latestWkid=r),i}}toESRI(){return new Ge(this.lean())}static fromGeoJSON(t){const r=je.parseGeoJsonCrs(t);return r.substring(0,5)==="EPSG:"?new je(parseInt(r.slice(5))):new je(r)}static parseGeoJsonCrs(t){if(t){if(t.type==="name"){const r=/urn:ogc:def:crs:EPSG::(\d+)/,i=t.properties.name,s=i.match(r);if(s)return"EPSG:"+s[1];if(i.substring(0,7)!=="urn:ogc")return i}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",t),"EPSG:4326"}toGeoJSON(){const t={type:"name",properties:{name:""}};return this.wkt?t.properties.name=this.wkt:t.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),t}}class Su{sr;id;constructor(t,r){this.id=t?t.toString():"",this.sr=je.parseSR(r)}get type(){return Ke.UNKNOWN}childIdGenerator(t){return`${this.id}-${t}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Ke.NONE||this.type===Ke.UNKNOWN}geoJsonFactory(t,r){const i={type:t,coordinates:r};return this.sr&&(i.crs=this.sr.toGeoJSON()),i}}class Hl extends Su{constructor(){super("no_geometry")}get type(){return Ke.NONE}}let Zi=class Ld extends Su{rawArray;constructor(t,r,i,s){super(t,r.sr||i),s?this.rawArray=r.slice():this.rawArray=Ld.parseXY(r)}get type(){return Ke.POINT}get x(){return this.rawArray[0]}set x(t){this.rawArray[0]=t}get y(){return this.rawArray[1]}set y(t){this.rawArray[1]=t}toArray(){return this.rawArray.slice()}static parseXY(t){let r;if(Array.isArray(t)&&t.length===2)r=t;else{if(t instanceof Ld)return t.toArray();r=[t.x,t.y]}if(isNaN(r[0])||isNaN(r[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(r[0]),parseFloat(r[1])]}static fromESRI(t,r){return new Ld(r,[t.x,t.y],je.fromESRI(t.spatialReference),!0)}toESRI(){return new ut({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new Ld(r,t.coordinates,je.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(yr.POINT,this.toArray())}};class vs extends Su{rawArray;constructor(t,r,i,s){super(t,r.sr||i),s?this.rawArray=vs.arrayDeepCopy(r):r instanceof vs?this.rawArray=r.toArray():this.rawArray=vs.parsePointSet(r)}get pointArray(){return this.rawArray.map((t,r)=>new Zi(this.childIdGenerator(r),t,this.sr,!0))}getAt(t){return new Zi(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,r){this.rawArray[r]=Zi.parseXY(t)}get length(){return this.rawArray.length}toArray(){return vs.arrayDeepCopy(this.rawArray)}static parsePointSet(t){if(Array.isArray(t)){if(t.length===0)throw new Error("no verticies provided");return t.map(r=>Zi.parseXY(r))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(t){return t.map(r=>r.slice())}}class kh extends vs{constructor(t,r,i,s){super(t,r,i,s)}get type(){return Ke.MULTIPOINT}static fromESRI(t,r){return new kh(r,t.points,je.fromESRI(t.spatialReference),!0)}toESRI(){return new Mn({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new kh(r,t.coordinates,je.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(yr.MULTIPOINT,this.toArray())}}class $l extends vs{constructor(t,r,i,s){if(super(t,r,i,s),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Ke.LINESTRING}static fromESRI(t,r){return new $l(r,t.paths[0],je.fromESRI(t.spatialReference),!0)}toESRI(){return new us({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new $l(r,t.coordinates,je.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(yr.LINESTRING,this.toArray())}}class On extends Su{rawArray;constructor(t,r,i,s){if(super(t,r.sr||i),s)this.rawArray=On.arrayDeepCopy(r);else if(r instanceof On)this.rawArray=r.toArray();else if(r instanceof vs)this.rawArray=[r.toArray()];else if(Array.isArray(r)){if(r.length===0)throw new Error("no lines provided");this.rawArray=r.map(n=>vs.parsePointSet(n))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((t,r)=>new $l(this.childIdGenerator(r),t,this.sr,!0))}getAt(t){return new $l(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,r){this.rawArray[r]=vs.parsePointSet(t)}get length(){return this.rawArray.length}get type(){return Ke.MULTILINESTRING}toArray(){return On.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(t){return t.map(r=>r.map(i=>i.slice()))}static fromESRI(t,r){return new On(r,t.paths,je.fromESRI(t.spatialReference),!0)}toESRI(){return new us({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new On(r,t.coordinates,je.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(yr.MULTILINESTRING,this.toArray())}}class qc extends vs{constructor(t,r,i,s){if(super(t,r,i,s),qc.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Ke.LINEARRING}updateAt(t,r){const i=this.length-1;r===0?super.updateAt(t,i):r===i&&super.updateAt(t,0),super.updateAt(t,r)}static closeRing(t){const r=t[0],i=t[t.length-1];(r[0]!==i[0]||r[1]!==i[1])&&t.push(r.slice())}static fromESRI(t,r){return new qc(r,t.rings[0],je.fromESRI(t.spatialReference),!0)}toESRI(){return new ni({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new qc(r,t.coordinates,je.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(yr.POLYGON,[this.toArray()])}}class Ci extends Su{rawArray;constructor(t,r,i,s){super(t,r.sr||i),s?this.rawArray=Ci.arrayDeepCopy(r):this.rawArray=Ci.parsePolygon(r)}addLinearRings(t){t.forEach(r=>this.rawArray.push(r.toArray()))}get ringArray(){return this.rawArray.map((t,r)=>new qc(this.childIdGenerator(r),t,this.sr,!0))}get type(){return Ke.POLYGON}toArray(){return Ci.arrayDeepCopy(this.rawArray)}static parsePolygon(t){let r=[];if(t instanceof Ci)return t.toArray();if(t instanceof On)r=t.toArray();else if(t instanceof vs)r=[t.toArray()];else if(Array.isArray(t)){if(t.length===0)throw new Error("no rings provided");r=t.map(i=>vs.parsePointSet(i))}else throw new Error("invalid input format for parsePolygon");return r.forEach(i=>qc.closeRing(i)),r}static arrayDeepCopy(t){return t.map(r=>r.map(i=>i.slice()))}static fromESRI(t,r){return new Ci(r,t.rings,je.fromESRI(t.spatialReference),!0)}toESRI(){return new ni({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new Ci(r,t.coordinates,je.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(yr.POLYGON,this.toArray())}}class ba extends Su{rawArray;constructor(t,r,i,s){super(t,r.sr||i),s?this.rawArray=ba.arrayDeepCopy(r):this.rawArray=ba.parseMultiPolygon(r)}addPolygon(t){this.rawArray.push(t.toArray())}get polygonArray(){return this.rawArray.map((t,r)=>new Ci(this.childIdGenerator(r),t,this.sr,!0))}get type(){return Ke.MULTIPOLYGON}toArray(){return ba.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(t){if(t instanceof ba)return t.toArray();if(t instanceof Ci)return[t.toArray()];if(t instanceof On||t instanceof vs)return[Ci.parsePolygon(t)];if(Array.isArray(t)){if(t.length===0)throw new Error("no polygons provided");return t.map(r=>Ci.parsePolygon(r))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(t){return t.map(r=>r.map(i=>i.map(s=>s.slice())))}static fromESRI(t,r){return new ba(r,[t.rings],je.fromESRI(t.spatialReference),!0)}toESRI(){const t=[];return this.toArray().forEach(r=>{r.forEach(i=>t.push(i))}),new ni({rings:t,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new ba(r,t.coordinates,je.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(yr.MULTIPOLYGON,this.toArray())}}class Qt extends Su{rawMin;rawMax;constructor(t,r,i,s){super(t,r.sr||s),this.rawMin=Zi.parseXY(r),this.rawMax=Zi.parseXY(i)}get type(){return Ke.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new Zi(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(t){return Qt.fromESRI(this.toESRI().expand(t),`${this.id}-expanded`)}clone(){return new Qt(this.id,this.rawMin,this.rawMax,this.sr)}contains(t){return this.sr.isEqual(t.sr)?this.xmin<=t.x&&this.xmax>=t.x&&this.ymin<=t.y&&this.ymax>=t.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new Ci(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(t,r,i,s,n,o){return new Qt(t,[r,i],[s,n],o)}static fromConfig(t,r){return new Qt(t,[r.xmin,r.ymin],[r.xmax,r.ymax],je.fromConfig(r.spatialReference))}isEqual(t){return t?this.xmin===t.xmin&&this.ymin===t.ymin&&this.xmax===t.xmax&&this.ymax===t.ymax:!1}static fromESRI(t,r){return Qt.fromParams(r,t.xmin,t.ymin,t.xmax,t.ymax,je.fromESRI(t.spatialReference))}toESRI(){return new mt({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(t,r){return Qt.fromESRI(mt.fromJSON(t),r)}static fromGeoJSON(t,r){if(t.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const i=t.coordinates[0].slice(),s=i.slice();return[1,2,3].forEach(n=>{[0,1].forEach(o=>{const a=t.coordinates[n];i[o]>a[o]&&(i[o]=a[o]),s[o]<a[o]&&(s[o]=a[o])})}),new Qt(r,i,s,je.fromGeoJSON(t.crs))}toGeoJSON(){return this.geoJsonFactory(yr.POLYGON,this.toPolygonArray())}}class Oa{c;constructor(t){if(!t){this.c=[0,0,0,1];return}if(Array.isArray(t)){const r=t.length;if(r<3||r>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=t.map((i,s)=>s===3?i:parseInt(i)),r===3&&this.c.push(1)}else if(typeof t=="string"){const r=t.substring(0,1)==="#"?t.substring(1):t;this.c=[0,2,4,6].map(i=>{const s=r.substring(i,i+2);return Oa.hexToInt(s)})}else this.c=[t.r,t.g,t.b,t.a??1];this.c.forEach((r,i)=>{r<0&&(console.error("Negative value passed to colour"),this.c[i]=0),r>255&&(console.error("Rotund value passed to colour"),this.c[i]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const t=this.rgba;return t[3]=t[3]*255,`#${t.map(r=>Oa.intToHex(r)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new xt(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(t){return t.length===0?255:parseInt(t,16)}static intToHex(t){const r=t.toString(16);return r.length===1?`0${r}`:r}}class _a{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(t){if(!(typeof t>"u"))if(typeof t=="string"){let r;const i=t.length;if(i===0)return;const s=t.substring(i-2);return s==="px"?r=parseFloat(t.substring(0,i-2))*1.333333:s==="pt"?r=parseFloat(t.substring(0,i-2)):r=parseFloat(t),r}else return t}}class xl extends _a{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(t){if(t=t||{style:ra.CIRCLE},super(),this._style=t.style||ra.CIRCLE,t.style===ra.ICON){const r=t;this._icon=r.icon||"",this._height=_a.convToPoints(r.height)||16.5,this._width=_a.convToPoints(r.width)||16.5,this._size=0,this._colour=new Oa,this._outline=new Io,this._path=""}else{const r=t;this._size=_a.convToPoints(r.size)||12,this._colour=new Oa(r.colour??"#ffffff40"),this._outline=new Io(r.outline),this._path=this._style===ra.PATH&&r.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=_a.convToPoints(t.xOffset)||0,this._yOffset=_a.convToPoints(t.yOffset)||0,this._angle=t.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(t){this._style===ra.ICON!==t&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const t={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===ra.ICON?{...t,icon:this.icon,width:this.width,height:this.height}:{...t,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let t;return this.styleType===ra.ICON?xl.isImageUrl(this.icon)?(t=new Ei,t.url=this.icon,t.width=this.width,t.height=this.height,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new Hr,t.color=new xt(this.colour.rgba),t.size=this.width,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new Hr,t.color=new xt(this.colour.rgba),t.size=this.size,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle,t.path=this.path,t.style=this.styleType,t.outline=this.outline.toESRI()),t}static fromESRI(t){const r={xOffset:t.xoffset,yOffset:t.yoffset,angle:t.angle};if(t.type==="simple-marker"){const i=r;i.style=t.style,i.colour=t.color.toRgba(),i.size=t.size,i.path=t.path,i.outline=Io.fromESRI(t.outline).toOptions()}else{const i=r;i.style=ra.ICON,i.width=t.width,i.height=t.height,i.icon=t.url}return new xl(r)}static fromArcServer(t){return xl.fromESRI(KE(t))}static isImageUrl(t){return!!t.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!t.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class Io extends _a{_style;_width;_miter;_cap;_join;_colour;constructor(t){t=t||{},super(),this._style=t.style||os.SOLID;const r=_a.convToPoints(t.width);this._width=typeof r>"u"||r<0?.75:r,this._colour=new Oa(t.colour),this._miter=t.miter??2,this._cap=t.cap||VC.ROUND,this._join=t.join||BC.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const t=new Wr;return t.width=this.width,t.color=this.colour.toESRI(),t.style=this.styleType,t.cap=this.cap,t.miterLimit=this.miter,t.join=this.join,t}static fromESRI(t){const r={width:t.width,colour:t.color.toRgba(),style:t.style};return new Io(r)}static fromArcServer(t){return Io.fromESRI(KE(t))}}class Zp extends _a{_outlineStyle;_fillColour;_fillStyle;constructor(t){super(),t=t||{},t.fill||(t.fill={}),this._fillColour=new Oa(t.fill.colour),this._fillStyle=t.fill.style||GC.SOLID,this._outlineStyle=new Io(t.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const t=this.outline.toESRI(),r=new xt(this.fillColour.rgba),i=new Rs;return i.style=this.fillStyleType,i.color=r,i.outline=t,i}static fromESRI(t){const r={fill:{colour:t.color.toRgba(),style:t.style},outline:Io.fromESRI(t.outline).toOptions()};return new Zp(r)}static fromArcServer(t){return Zp.fromESRI(KE(t))}}class Bee{Extent=Qt;Graphic=Hn;LineString=$l;LineStyle=Io;LinearRing=qc;MultiLineString=On;MultiPoint=kh;MultiPolygon=ba;Point=Zi;PointStyle=xl;Polygon=Ci;PolygonStyle=Zp;SpatialReference=je;esriMapClickToRamp(t,r){return{mapPoint:Zi.fromESRI(t.mapPoint,r),screenX:t.x,screenY:t.y,button:t.button,input:t.native.pointerType,clickTime:t.timestamp}}esriMapMouseToRamp(t){return{screenX:t.x,screenY:t.y,button:t.button,moveTime:t.timestamp}}geomRampToEsri(t){return t.toESRI()}geomEsriToRamp(t,r){switch(t.type){case"point":return Zi.fromESRI(t,r);case"polyline":{const i=t;return i.paths.length===1?$l.fromESRI(i,r):On.fromESRI(i,r)}case"polygon":return Ci.fromESRI(t,r);case"extent":return Qt.fromESRI(t,r);case"multipoint":return kh.fromESRI(t,r);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomGeoJsonToRamp(t,r){switch(t.type){case yr.POINT:return Zi.fromGeoJSON(t,r);case yr.LINESTRING:return $l.fromGeoJSON(t,r);case yr.POLYGON:return Ci.fromGeoJSON(t,r);case yr.MULTIPOINT:return kh.fromGeoJSON(t,r);case yr.MULTILINESTRING:return On.fromGeoJSON(t,r);case yr.MULTIPOLYGON:return ba.fromGeoJSON(t,r);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomRampToGeoJson(t){return t.toGeoJSON()}graphicRampToGeoJson(t){const r={},i={type:"Feature",geometry:this.geomRampToGeoJson(t.geometry),properties:r};return Object.keys(t.attributes).forEach(s=>i.properties[s]=t.attributes[s]),i}graphicGeoJsonToRamp(t,r){if(t.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const i=this.geomGeoJsonToRamp(t.geometry,r),s={};return Object.keys(t.properties.forEach(o=>s[o]=t.properties[o])),new Hn(i,"",s)}graphicRampToEsri(t){const r={attributes:{},id:t.id};return r.geometry=this.geomRampToEsri(t.geometry),Object.keys(t.attributes).forEach(i=>r.attributes[i]=t.attributes[i]),t.style&&(r.symbol=this.styleRampToEsri(t.style)),new is(r)}styleRampToEsri(t){return t.toESRI()}styleEsriToRamp(t){switch(t.type){case"picture-marker":case"simple-marker":return xl.fromESRI(t);case"simple-line":return Io.fromESRI(t);case"simple-fill":return Zp.fromESRI(t);default:return console.error(`Unsupported ESRI symbol type encountered: ${t.type}`),new xl}}serverGeomTypeToRampGeomType(t){if(!t)return Ke.NONE;switch(t){case"esriGeometryPolygon":return Ke.POLYGON;case"esriGeometryPolyline":return Ke.LINESTRING;case"esriGeometryPoint":return Ke.POINT;case"esriGeometryMultipoint":return Ke.MULTIPOINT;case"esriGeometryEnvelope":return Ke.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${t}`),Ke.UNKNOWN}}clientGeomTypeToRampGeomType(t){if(!t)return Ke.NONE;switch(t){case"polygon":return Ke.POLYGON;case"polyline":return Ke.LINESTRING;case"point":return Ke.POINT;case"multipoint":return Ke.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${t}`),Ke.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(t){switch(t){case yr.POINT:return"point";case yr.LINESTRING:case yr.MULTILINESTRING:return"polyline";case yr.POLYGON:case yr.MULTIPOLYGON:return"polygon";case yr.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${t}`)}}isImageUrl(t){return xl.isImageUrl(t)}}class Wg{layerIdx;name;children;uid;isRoot;constructor(t,r,i="",s=!0){this.layerIdx=t,this.name=i,this.isRoot=s,this.children=[],this.uid=r}findChildByUid(t){if(this.uid===t)return this;{let r;return this.children.some(i=>r=i.findChildByUid(t)),r}}findChildByIdx(t){if(this.layerIdx===t)return this;{let r;return this.children.some(i=>r=i.findChildByIdx(t)),r}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class lR{minScale;maxScale;constructor(t=0,r=0){this.minScale=t,this.maxScale=r}isOffScale(t){const r={offScale:!1,zoomIn:!1};return t<this.maxScale&&this.maxScale!==0?(r.offScale=!0,r.zoomIn=!1):t>this.minScale&&this.minScale!==0&&(r.offScale=!0,r.zoomIn=!0),r}}class cR{sql;cache;extent;constructor(t="",r=""){this.sql={[Mi.PERMANENT]:t,[Mi.INITIAL]:r},this.extent=void 0,this.cache={}}sqlActiveFilters(t=[]){const r=this.sql,i=Object.keys(r).filter(s=>r[s]);return t.length===0?i:i.filter(s=>t.indexOf(s)===-1)}isActive(){return this.sqlActiveFilters([Mi.PERMANENT]).length>0}getCombinedSql(t=[]){const r=this.sqlActiveFilters(t),i=r.length;return i===0?"":i===1?this.sql[r[0]]:r.map(s=>`(${this.sql[s]})`).join(" AND ")}setSql(t,r){t===Mi.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[t]=r,this.clearCacheSet(t))}getSql(t){return this.sql[t]||""}setExtent(t){t.isEqual(this.extent)||(this.extent=t,this.clearCacheSet(Mi.EXTENT))}getCacheKey(t,r){return`_cache$${t.sort().join("$")}${r?"$"+Mi.EXTENT:""}$`}getCache(t,r){const i=this.getCacheKey(t,r);return this.cache[i]}setCache(t,r,i){const s=this.getCacheKey(r,i);this.cache[s]=t}cacheActiveKeys(){const t=this.cache;return Object.keys(t).filter(r=>t[r])}clearAllCaches(){this.cache={}}clearCacheSet(t){this.cacheActiveKeys().forEach(r=>{r.indexOf(`$${t}$`)>-1&&delete this.cache[r]})}clearAll(){this.sql={[Mi.PERMANENT]:this.sql[Mi.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class Xp{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(t,r,i=void 0,s=void 0){this.id=t,this.sr=r.sr.clone(),this._defaultExtent=r.clone(),this._fullExtent=i?.clone(),this._maximumExtent=s?.clone(),i&&!i.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${i.sr}`),s&&!s.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${s.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(t){this._defaultExtent=t.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(t){this._fullExtent=t.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(t){this._maximumExtent=t.clone()}static fromConfig(t){return new Xp(t.id,Qt.fromConfig(`${t.id}-extent-default`,t.default),t.full!==void 0?Qt.fromConfig(`${t.id}-extent-full`,t.full):void 0,t.maximum!==void 0?Qt.fromConfig(`${t.id}-extent-maximum`,t.maximum):void 0)}clone(){return new Xp(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class Nr{realPromise;resolveMe(t){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((t,r)=>{this.resolveMe=i=>{t(i)},this.rejectMe=r})}}var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vee(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var D2,TM;function Gee(){if(TM)return D2;TM=1;var e=function(T){return t(T)&&!r(T)};function t(w){return!!w&&typeof w=="object"}function r(w){var T=Object.prototype.toString.call(w);return T==="[object RegExp]"||T==="[object Date]"||n(w)}var i=typeof Symbol=="function"&&Symbol.for,s=i?Symbol.for("react.element"):60103;function n(w){return w.$$typeof===s}function o(w){return Array.isArray(w)?[]:{}}function a(w,T){return T.clone!==!1&&T.isMergeableObject(w)?b(o(w),w,T):w}function l(w,T,x){return w.concat(T).map(function(_){return a(_,x)})}function c(w,T){if(!T.customMerge)return b;var x=T.customMerge(w);return typeof x=="function"?x:b}function u(w){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(w).filter(function(T){return Object.propertyIsEnumerable.call(w,T)}):[]}function d(w){return Object.keys(w).concat(u(w))}function p(w,T){try{return T in w}catch{return!1}}function y(w,T){return p(w,T)&&!(Object.hasOwnProperty.call(w,T)&&Object.propertyIsEnumerable.call(w,T))}function v(w,T,x){var _={};return x.isMergeableObject(w)&&d(w).forEach(function($){_[$]=a(w[$],x)}),d(T).forEach(function($){y(w,$)||(p(w,$)&&x.isMergeableObject(T[$])?_[$]=c($,x)(w[$],T[$],x):_[$]=a(T[$],x))}),_}function b(w,T,x){x=x||{},x.arrayMerge=x.arrayMerge||l,x.isMergeableObject=x.isMergeableObject||e,x.cloneUnlessOtherwiseSpecified=a;var _=Array.isArray(T),$=Array.isArray(w),M=_===$;return M?_?x.arrayMerge(w,T,x):v(w,T,x):a(T,x)}b.all=function(T,x){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(_,$){return b(_,$,x)},{})};var S=b;return D2=S,D2}var qee=Gee();const uR=W1(qee);class zee{generateUUID(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const i=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(r==="x"?i:i&3|8).toString(16)})}convertImageToCanvas(t,r,i=!0){const s=r??document.createElement("canvas"),n=document.createElement("img");i&&(n.crossOrigin="anonymous");const o=new Promise((a,l)=>{n.addEventListener("load",()=>{s.width=n.width,s.height=n.height,s.getContext("2d")?.drawImage(n,0,0),a(s)}),n.addEventListener("error",c=>l(c))});return n.src=t,o}async convertImagetoDataURL(t,r="image/png"){return t.startsWith("data")?t:this.convertImageToCanvas(t).then(i=>i.toDataURL(r)).catch(i=>(console.error("Failed to load crossorigin image",t,i),t))}parseUrlIndex(t){const r={rootUrl:t,index:0},i=/\/(\d+)\/?$/,s=t.match(i);if(s){const n=s[1];r.index=isNaN(parseInt(n))?void 0:parseInt(n),r.rootUrl=t.substr(0,t.length-s[0].length)}else console.warn("Cannot extract layer index from url "+t);return r}controlAvailable(t,r){return r?.disabledControls?.includes(t)?!1:r?.controls?r?.controls?.includes(t):!0}}class Yg{_url;_base;_query;_queryMap={};constructor(t){this._url=t,[this._base,this._query]=t.split("?").concat(""),this._queryMap=this._query.split("&").reduce((r,i)=>{const[s,n]=i.split("=");return r[s]=n,r},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(t){const r=uR.all([{},this.queryMap,t]);return`${this.base}${Object.entries(r).filter(([,s])=>s!==void 0).map(([s,n],o)=>`${o===0?"?":""}${s}=${n}`).join("&")}`}}/* @preserve
* @terraformer/spatial - v2.1.2 - MIT
* Copyright (c) 2012-2024 Environmental Systems Research Institute, Inc.
* Wed May 15 2024 14:35:51 GMT-0700 (Pacific Daylight Time)
*/var rp=6378137,Hee=57.29577951308232,Wee=.017453292519943,Yee={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},F2=function(t){return t*Hee},U2=function(t){return t*Wee},Jee=function(t){var r=t[0],i=t[1];return[F2(r/rp)-Math.floor((F2(r/rp)+180)/360)*360,F2(Math.PI/2-2*Math.atan(Math.exp(-1*i/rp)))]},Kee=function(t){var r=t[0],i=Math.max(Math.min(t[1],89.99999),-89.99999);return[U2(r)*rp,rp/2*Math.log((1+Math.sin(U2(i)))/(1-Math.sin(U2(i))))]};function Tx(e){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tx(e)}var Zee=function e(t,r){for(var i=0;i<t.length;i++)typeof t[i][0]=="number"&&(t[i]=r(t[i])),Tx(t[i])==="object"&&(t[i]=e(t[i],r));return t},Xee=function e(t,r,i){if(t.type==="Point")t.coordinates=r(t.coordinates);else if(t.type==="Feature")t.geometry=e(t.geometry,r,!0);else if(t.type==="FeatureCollection")for(var s=0;s<t.features.length;s++)t.features[s]=e(t.features[s],r,!0);else if(t.type==="GeometryCollection")for(var n=0;n<t.geometries.length;n++)t.geometries[n]=e(t.geometries[n],r,!0);else t.coordinates=Zee(t.coordinates,r);return i||r===Kee&&(t.crs=Yee),r===Jee&&delete t.crs,t};function Qee(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var hu=1,fu=2,Rh=3,ete=4,$x=5,$M=6378137,tte=6356752314e-3,MM=.0066943799901413165,ip=484813681109536e-20,fe=Math.PI/2,rte=.16666666666666666,ite=.04722222222222222,ste=.022156084656084655,we=1e-10,mi=.017453292519943295,Eo=57.29577951308232,Et=Math.PI/4,Qp=Math.PI*2,Tr=3.14159265359,Is={};Is.greenwich=0;Is.lisbon=-9.131906111111;Is.paris=2.337229166667;Is.bogota=-74.080916666667;Is.madrid=-3.687938888889;Is.rome=12.452333333333;Is.bern=7.439583333333;Is.jakarta=106.807719444444;Is.ferro=-17.666666666667;Is.brussels=4.367975;Is.stockholm=18.058277777778;Is.athens=23.7163375;Is.oslo=10.722916666667;const nte={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var IM=/[\s_\-\/\(\)]/g;function Fl(e,t){if(e[t])return e[t];for(var r=Object.keys(e),i=t.toLowerCase().replace(IM,""),s=-1,n,o;++s<r.length;)if(n=r[s],o=n.toLowerCase().replace(IM,""),o===i)return e[n]}function Mx(e){var t={},r=e.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),i,s,n,o={proj:"projName",datum:"datumCode",rf:function(a){t.rf=parseFloat(a)},lat_0:function(a){t.lat0=a*mi},lat_1:function(a){t.lat1=a*mi},lat_2:function(a){t.lat2=a*mi},lat_ts:function(a){t.lat_ts=a*mi},lon_0:function(a){t.long0=a*mi},lon_1:function(a){t.long1=a*mi},lon_2:function(a){t.long2=a*mi},alpha:function(a){t.alpha=parseFloat(a)*mi},gamma:function(a){t.rectified_grid_angle=parseFloat(a)},lonc:function(a){t.longc=a*mi},x_0:function(a){t.x0=parseFloat(a)},y_0:function(a){t.y0=parseFloat(a)},k_0:function(a){t.k0=parseFloat(a)},k:function(a){t.k0=parseFloat(a)},a:function(a){t.a=parseFloat(a)},b:function(a){t.b=parseFloat(a)},r:function(a){t.a=t.b=parseFloat(a)},r_a:function(){t.R_A=!0},zone:function(a){t.zone=parseInt(a,10)},south:function(){t.utmSouth=!0},towgs84:function(a){t.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){t.to_meter=parseFloat(a)},units:function(a){t.units=a;var l=Fl(nte,a);l&&(t.to_meter=l.to_meter)},from_greenwich:function(a){t.from_greenwich=a*mi},pm:function(a){var l=Fl(Is,a);t.from_greenwich=(l||parseFloat(a))*mi},nadgrids:function(a){a==="@null"?t.datumCode="none":t.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(t.axis=a)},approx:function(){t.approx=!0}};for(i in r)s=r[i],i in o?(n=o[i],typeof n=="function"?n(s):t[n]=s):t[i]=s;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var em=1,hR=2,fR=3,Jg=4,dR=5,p3=-1,ote=/\s/,ate=/[A-Za-z]/,lte=/[A-Za-z84_]/,Y1=/[,\]]/,pR=/[\d\.E\-\+]/;function La(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=em}La.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==Jg)for(;ote.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case em:return this.neutral(e);case hR:return this.keyword(e);case Jg:return this.quoted(e);case dR:return this.afterquote(e);case fR:return this.number(e);case p3:return}};La.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=Jg;return}if(Y1.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};La.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=em;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=em,this.currentObject=this.stack.pop(),this.currentObject||(this.state=p3);return}};La.prototype.number=function(e){if(pR.test(e)){this.word+=e;return}if(Y1.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};La.prototype.quoted=function(e){if(e==='"'){this.state=dR;return}this.word+=e};La.prototype.keyword=function(e){if(lte.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=em;return}if(Y1.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};La.prototype.neutral=function(e){if(ate.test(e)){this.word=e,this.state=hR;return}if(e==='"'){this.word="",this.state=Jg;return}if(pR.test(e)){this.word=e,this.state=fR;return}if(Y1.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};La.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===p3)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function cte(e){var t=new La(e);return t.output()}function OM(e,t,r){Array.isArray(t)&&(r.unshift(t),t=null);var i=t?{}:e,s=r.reduce(function(n,o){return _h(o,n),n},i);t&&(e[t]=s)}function _h(e,t){if(!Array.isArray(e)){t[e]=!0;return}var r=e.shift();if(r==="PARAMETER"&&(r=e.shift()),e.length===1){if(Array.isArray(e[0])){t[r]={},_h(e[0],t[r]);return}t[r]=e[0];return}if(!e.length){t[r]=!0;return}if(r==="TOWGS84"){t[r]=e;return}if(r==="AXIS"){r in t||(t[r]=[]),t[r].push(e);return}Array.isArray(r)||(t[r]={});var i;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[r]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&_h(e[2],t[r]);return;case"SPHEROID":case"ELLIPSOID":t[r]={name:e[0],a:e[1],rf:e[2]},e.length===4&&_h(e[3],t[r]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],OM(t,r,e);return;default:for(i=-1;++i<e.length;)if(!Array.isArray(e[i]))return _h(e,t[r]);return OM(t,r,e)}}var ute=.017453292519943295;function hte(e,t){var r=t[0],i=t[1];!(r in e)&&i in e&&(e[r]=e[i],t.length===3&&(e[r]=t[2](e[r])))}function co(e){return e*ute}function fte(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",r=0,i=e.AXIS.length;r<i;++r){var s=[e.AXIS[r][0].toLowerCase(),e.AXIS[r][1].toLowerCase()];s[0].indexOf("north")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="north"?t+="n":s[0].indexOf("south")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="south"?t+="s":s[0].indexOf("east")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="east"?t+="e":(s[0].indexOf("west")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var n=e.GEOGCS;e.type==="GEOGCS"&&(n=e),n&&(n.DATUM?e.datumCode=n.DATUM.name.toLowerCase():e.datumCode=n.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(e.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=n.DATUM.SPHEROID.a,e.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(e.datum_params=n.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function o(c){var u=e.to_meter||1;return c*u}var a=function(c){return hte(e,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",co],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",co],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",co],["lat0","latitude_of_origin",co],["lat0","standard_parallel_1",co],["lat1","standard_parallel_1",co],["lat2","standard_parallel_2",co],["azimuth","Azimuth"],["alpha","azimuth",co],["srsCode","name"]];l.forEach(a),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=co(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=co(e.lat0>0?90:-90))}function mR(e){var t=cte(e),r=t.shift(),i=t.shift();t.unshift(["name",i]),t.unshift(["type",r]);var s={};return _h(t,s),fte(s),s}function Bi(e){var t=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?Bi[e]=Mx(arguments[1]):Bi[e]=mR(arguments[1]):Bi[e]=r}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(i){Array.isArray(i)?Bi.apply(t,i):Bi(i)});if(typeof e=="string"){if(e in Bi)return Bi[e]}else"EPSG"in e?Bi["EPSG:"+e.EPSG]=e:"ESRI"in e?Bi["ESRI:"+e.ESRI]=e:"IAU2000"in e?Bi["IAU2000:"+e.IAU2000]=e:console.log(e);return}}Qee(Bi);function dte(e){return typeof e=="string"}function pte(e){return e in Bi}var mte=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function yte(e){return mte.some(function(t){return e.indexOf(t)>-1})}var gte=["3857","900913","3785","102113"];function vte(e){var t=Fl(e,"authority");if(t){var r=Fl(t,"epsg");return r&&gte.indexOf(r)>-1}}function bte(e){var t=Fl(e,"extension");if(t)return Fl(t,"proj4")}function _te(e){return e[0]==="+"}function wte(e){if(dte(e)){if(pte(e))return Bi[e];if(yte(e)){var t=mR(e);if(vte(t))return Bi["EPSG:3857"];var r=bte(t);return r?Mx(r):t}if(_te(e))return Mx(e)}else return e}function CM(e,t){e=e||{};var r,i;if(!t)return e;for(i in t)r=t[i],r!==void 0&&(e[i]=r);return e}function jo(e,t,r){var i=e*t;return r/Math.sqrt(1-i*i)}function zm(e){return e<0?-1:1}function Se(e){return Math.abs(e)<=Tr?e:e-zm(e)*Qp}function Gn(e,t,r){var i=e*r,s=.5*e;return i=Math.pow((1-i)/(1+i),s),Math.tan(.5*(fe-t))/i}function tm(e,t){for(var r=.5*e,i,s,n=fe-2*Math.atan(t),o=0;o<=15;o++)if(i=e*Math.sin(n),s=fe-2*Math.atan(t*Math.pow((1-i)/(1+i),r))-n,n+=s,Math.abs(s)<=1e-10)return n;return-9999}function xte(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=jo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Ste(e){var t=e.x,r=e.y;if(r*Eo>90&&r*Eo<-90&&t*Eo>180&&t*Eo<-180)return null;var i,s;if(Math.abs(Math.abs(r)-fe)<=we)return null;if(this.sphere)i=this.x0+this.a*this.k0*Se(t-this.long0),s=this.y0+this.a*this.k0*Math.log(Math.tan(Et+.5*r));else{var n=Math.sin(r),o=Gn(this.e,r,n);i=this.x0+this.a*this.k0*Se(t-this.long0),s=this.y0-this.a*this.k0*Math.log(o)}return e.x=i,e.y=s,e}function Ete(e){var t=e.x-this.x0,r=e.y-this.y0,i,s;if(this.sphere)s=fe-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var n=Math.exp(-r/(this.a*this.k0));if(s=tm(this.e,n),s===-9999)return null}return i=Se(this.long0+t/(this.a*this.k0)),e.x=i,e.y=s,e}var Ate=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const Tte={init:xte,forward:Ste,inverse:Ete,names:Ate};function $te(){}function PM(e){return e}var Mte=["longlat","identity"];const Ite={init:$te,forward:PM,inverse:PM,names:Mte};var Ote=[Tte,Ite],Q0={},Kg=[];function yR(e,t){var r=Kg.length;return e.names?(Kg[r]=e,e.names.forEach(function(i){Q0[i.toLowerCase()]=r}),this):(console.log(t),!0)}function Cte(e){if(!e)return!1;var t=e.toLowerCase();if(typeof Q0[t]<"u"&&Kg[Q0[t]])return Kg[Q0[t]]}function Pte(){Ote.forEach(yR)}const Nte={start:Pte,add:yR,get:Cte};var We={};We.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};We.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};We.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};We.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};We.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};We.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};We.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};We.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};We.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};We.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};We.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};We.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};We.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};We.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};We.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};We.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};We.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};We.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};We.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};We.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};We.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};We.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};We.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};We.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};We.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};We.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};We.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};We.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};We.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};We.hough={a:6378270,rf:297,ellipseName:"Hough"};We.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};We.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};We.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};We.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};We.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};We.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};We.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};We.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};We.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};We.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};We.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};We.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var Lte=We.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};We.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function kte(e,t,r,i){var s=e*e,n=t*t,o=(s-n)/s,a=0;i?(e*=1-o*(rte+o*(ite+o*ste)),s=e*e,o=0):a=Math.sqrt(o);var l=(s-n)/n;return{es:o,e:a,ep2:l}}function Rte(e,t,r,i,s){if(!e){var n=Fl(We,i);n||(n=Lte),e=n.a,t=n.b,r=n.rf}return r&&!t&&(t=(1-1/r)*e),(r===0||Math.abs(e-t)<we)&&(s=!0,t=e),{a:e,b:t,rf:r,sphere:s}}var ti={};ti.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};ti.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};ti.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};ti.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};ti.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};ti.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};ti.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};ti.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};ti.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};ti.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};ti.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};ti.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};ti.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};ti.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};ti.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};ti.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};ti.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};ti.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function Dte(e,t,r,i,s,n,o){var a={};return e===void 0||e==="none"?a.datum_type=$x:a.datum_type=ete,t&&(a.datum_params=t.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=hu),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=fu,a.datum_params[3]*=ip,a.datum_params[4]*=ip,a.datum_params[5]*=ip,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=Rh,a.grids=o),a.a=r,a.b=i,a.es=s,a.ep2=n,a}var gR={};function Fte(e,t){var r=new DataView(t),i=Bte(r),s=Vte(r,i),n=Gte(r,s,i),o={header:s,subgrids:n};return gR[e]=o,o}function Ute(e){if(e===void 0)return null;var t=e.split(",");return t.map(jte)}function jte(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:gR[e]||null,isNull:!1}}function wh(e){return e/3600*Math.PI/180}function Bte(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Vte(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:Ix(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function Ix(e,t,r){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,r)))}function Gte(e,t,r){for(var i=176,s=[],n=0;n<t.nSubgrids;n++){var o=zte(e,i,r),a=Hte(e,i,o,r),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);s.push({ll:[wh(o.lowerLongitude),wh(o.lowerLatitude)],del:[wh(o.longitudeInterval),wh(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:qte(a)}),i+=176+o.gridNodeCount*16}return s}function qte(e){return e.map(function(t){return[wh(t.longitudeShift),wh(t.latitudeShift)]})}function zte(e,t,r){return{name:Ix(e,t+8,t+16).trim(),parent:Ix(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,r),upperLatitude:e.getFloat64(t+88,r),lowerLongitude:e.getFloat64(t+104,r),upperLongitude:e.getFloat64(t+120,r),latitudeInterval:e.getFloat64(t+136,r),longitudeInterval:e.getFloat64(t+152,r),gridNodeCount:e.getInt32(t+168,r)}}function Hte(e,t,r,i){for(var s=t+176,n=16,o=[],a=0;a<r.gridNodeCount;a++){var l={latitudeShift:e.getFloat32(s+a*n,i),longitudeShift:e.getFloat32(s+a*n+4,i),latitudeAccuracy:e.getFloat32(s+a*n+8,i),longitudeAccuracy:e.getFloat32(s+a*n+12,i)};o.push(l)}return o}function Oo(e,t){if(!(this instanceof Oo))return new Oo(e);t=t||function(c){if(c)throw c};var r=wte(e);if(typeof r!="object"){t("Could not parse to valid json: "+e);return}var i=Oo.projections.get(r.projName);if(!i){t("Could not get projection name from: "+e);return}if(r.datumCode&&r.datumCode!=="none"){var s=Fl(ti,r.datumCode);s&&(r.datum_params=r.datum_params||(s.towgs84?s.towgs84.split(","):null),r.ellps=s.ellipse,r.datumName=s.datumName?s.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var n=Rte(r.a,r.b,r.rf,r.ellps,r.sphere),o=kte(n.a,n.b,n.rf,r.R_A),a=Ute(r.nadgrids),l=r.datum||Dte(r.datumCode,r.datum_params,n.a,n.b,o.es,o.ep2,a);CM(this,r),CM(this,i),this.a=n.a,this.b=n.b,this.rf=n.rf,this.sphere=n.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),t(null,this)}Oo.projections=Nte;Oo.projections.start();function Wte(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===hu?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===fu?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function vR(e,t,r){var i=e.x,s=e.y,n=e.z?e.z:0,o,a,l,c;if(s<-fe&&s>-1.001*fe)s=-fe;else if(s>fe&&s<1.001*fe)s=fe;else{if(s<-fe)return{x:-1/0,y:-1/0,z:e.z};if(s>fe)return{x:1/0,y:1/0,z:e.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(s),c=Math.cos(s),l=a*a,o=r/Math.sqrt(1-t*l),{x:(o+n)*c*Math.cos(i),y:(o+n)*c*Math.sin(i),z:(o*(1-t)+n)*a}}function bR(e,t,r,i){var s=1e-12,n=s*s,o=30,a,l,c,u,d,p,y,v,b,S,w,T,x,_=e.x,$=e.y,M=e.z?e.z:0,N,C,P;if(a=Math.sqrt(_*_+$*$),l=Math.sqrt(_*_+$*$+M*M),a/r<s){if(N=0,l/r<s)return C=fe,P=-i,{x:e.x,y:e.y,z:e.z}}else N=Math.atan2($,_);c=M/l,u=a/l,d=1/Math.sqrt(1-t*(2-t)*u*u),v=u*(1-t)*d,b=c*d,x=0;do x++,y=r/Math.sqrt(1-t*b*b),P=a*v+M*b-y*(1-t*b*b),p=t*y/(y+P),d=1/Math.sqrt(1-p*(2-p)*u*u),S=u*(1-p)*d,w=c*d,T=w*v-S*b,v=S,b=w;while(T*T>n&&x<o);return C=Math.atan(w/Math.abs(S)),{x:N,y:C,z:P}}function Yte(e,t,r){if(t===hu)return{x:e.x+r[0],y:e.y+r[1],z:e.z+r[2]};if(t===fu){var i=r[0],s=r[1],n=r[2],o=r[3],a=r[4],l=r[5],c=r[6];return{x:c*(e.x-l*e.y+a*e.z)+i,y:c*(l*e.x+e.y-o*e.z)+s,z:c*(-a*e.x+o*e.y+e.z)+n}}}function Jte(e,t,r){if(t===hu)return{x:e.x-r[0],y:e.y-r[1],z:e.z-r[2]};if(t===fu){var i=r[0],s=r[1],n=r[2],o=r[3],a=r[4],l=r[5],c=r[6],u=(e.x-i)/c,d=(e.y-s)/c,p=(e.z-n)/c;return{x:u+l*d-a*p,y:-l*u+d+o*p,z:a*u-o*d+p}}}function ky(e){return e===hu||e===fu}function Kte(e,t,r){if(Wte(e,t)||e.datum_type===$x||t.datum_type===$x)return r;var i=e.a,s=e.es;if(e.datum_type===Rh){var n=NM(e,!1,r);if(n!==0)return;i=$M,s=MM}var o=t.a,a=t.b,l=t.es;if(t.datum_type===Rh&&(o=$M,a=tte,l=MM),s===l&&i===o&&!ky(e.datum_type)&&!ky(t.datum_type))return r;if(r=vR(r,s,i),ky(e.datum_type)&&(r=Yte(r,e.datum_type,e.datum_params)),ky(t.datum_type)&&(r=Jte(r,t.datum_type,t.datum_params)),r=bR(r,l,o,a),t.datum_type===Rh){var c=NM(t,!0,r);if(c!==0)return}return r}function NM(e,t,r){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-r.x,y:r.y},s={x:Number.NaN,y:Number.NaN},n=[];e:for(var o=0;o<e.grids.length;o++){var a=e.grids[o];if(n.push(a.name),a.isNull){s=i;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,u=l.length;c<u;c++){var d=l[c],p=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-p,v=d.ll[1]-p,b=d.ll[0]+(d.lim[0]-1)*d.del[0]+p,S=d.ll[1]+(d.lim[1]-1)*d.del[1]+p;if(!(v>i.y||y>i.x||S<i.y||b<i.x)&&(s=Zte(i,t,d),!isNaN(s.x)))break e}}return isNaN(s.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*Eo+" "+i.y*Eo+" tried: '"+n+"'"),-1):(r.x=-s.x,r.y=s.y,0)}function Zte(e,t,r){var i={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return i;var s={x:e.x,y:e.y};s.x-=r.ll[0],s.y-=r.ll[1],s.x=Se(s.x-Math.PI)+Math.PI;var n=LM(s,r);if(t){if(isNaN(n.x))return i;n.x=s.x-n.x,n.y=s.y-n.y;var o=9,a=1e-12,l,c;do{if(c=LM(n,r),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:s.x-(c.x+n.x),y:s.y-(c.y+n.y)},n.x+=l.x,n.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=Se(n.x+r.ll[0]),i.y=n.y+r.ll[1]}else isNaN(n.x)||(i.x=e.x+n.x,i.y=e.y+n.y);return i}function LM(e,t){var r={x:e.x/t.del[0],y:e.y/t.del[1]},i={x:Math.floor(r.x),y:Math.floor(r.y)},s={x:r.x-1*i.x,y:r.y-1*i.y},n={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=t.lim[0]||i.y<0||i.y>=t.lim[1])return n;o=i.y*t.lim[0]+i.x;var a={x:t.cvs[o][0],y:t.cvs[o][1]};o++;var l={x:t.cvs[o][0],y:t.cvs[o][1]};o+=t.lim[0];var c={x:t.cvs[o][0],y:t.cvs[o][1]};o--;var u={x:t.cvs[o][0],y:t.cvs[o][1]},d=s.x*s.y,p=s.x*(1-s.y),y=(1-s.x)*(1-s.y),v=(1-s.x)*s.y;return n.x=y*a.x+p*l.x+v*u.x+d*c.x,n.y=y*a.y+p*l.y+v*u.y+d*c.y,n}function kM(e,t,r){var i=r.x,s=r.y,n=r.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(t&&l===2&&r.z===void 0))switch(l===0?(o=i,"ew".indexOf(e.axis[l])!==-1?a="x":a="y"):l===1?(o=s,"ns".indexOf(e.axis[l])!==-1?a="y":a="x"):(o=n,a="z"),e.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":r[a]!==void 0&&(c.z=o);break;case"d":r[a]!==void 0&&(c.z=-o);break;default:return null}return c}function _R(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function Xte(e){RM(e.x),RM(e.y)}function RM(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function Qte(e,t){return(e.datum.datum_type===hu||e.datum.datum_type===fu||e.datum.datum_type===Rh)&&t.datumCode!=="WGS84"||(t.datum.datum_type===hu||t.datum.datum_type===fu||t.datum.datum_type===Rh)&&e.datumCode!=="WGS84"}function Zg(e,t,r,i){var s;Array.isArray(r)?r=_R(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var n=r.z!==void 0;if(Xte(r),e.datum&&t.datum&&Qte(e,t)&&(s=new Oo("WGS84"),r=Zg(e,s,r,i),e=s),i&&e.axis!=="enu"&&(r=kM(e,!1,r)),e.projName==="longlat")r={x:r.x*mi,y:r.y*mi,z:r.z||0};else if(e.to_meter&&(r={x:r.x*e.to_meter,y:r.y*e.to_meter,z:r.z||0}),r=e.inverse(r),!r)return;if(e.from_greenwich&&(r.x+=e.from_greenwich),r=Kte(e.datum,t.datum,r),!!r)return t.from_greenwich&&(r={x:r.x-t.from_greenwich,y:r.y,z:r.z||0}),t.projName==="longlat"?r={x:r.x*Eo,y:r.y*Eo,z:r.z||0}:(r=t.forward(r),t.to_meter&&(r={x:r.x/t.to_meter,y:r.y/t.to_meter,z:r.z||0})),i&&t.axis!=="enu"?kM(t,!0,r):(r&&!n&&delete r.z,r)}var DM=Oo("WGS84");function j2(e,t,r,i){var s,n,o;return Array.isArray(r)?(s=Zg(e,t,r,i)||{x:NaN,y:NaN},r.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof s.z=="number"?[s.x,s.y,s.z].concat(r.slice(3)):[s.x,s.y,r[2]].concat(r.slice(3)):[s.x,s.y].concat(r.slice(2)):[s.x,s.y]):(n=Zg(e,t,r,i),o=Object.keys(r),o.length===2||o.forEach(function(a){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;n[a]=r[a]}),n)}function FM(e){return e instanceof Oo?e:e.oProj?e.oProj:Oo(e)}function Dt(e,t,r){e=FM(e);var i=!1,s;return typeof t>"u"?(t=e,e=DM,i=!0):(typeof t.x<"u"||Array.isArray(t))&&(r=t,t=e,e=DM,i=!0),t=FM(t),r?j2(e,t,r):(s={forward:function(n,o){return j2(e,t,n,o)},inverse:function(n,o){return j2(t,e,n,o)}},i&&(s.oProj=t),s)}var UM=6,wR="AJSAJS",xR="AFAFAF",xh=65,as=73,Qs=79,kd=86,Rd=90;const ere={forward:SR,inverse:tre,toPoint:ER};function SR(e,t){return t=t||5,sre(rre({lat:e[1],lon:e[0]}),t)}function tre(e){var t=m3(TR(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function ER(e){var t=m3(TR(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function B2(e){return e*(Math.PI/180)}function jM(e){return 180*(e/Math.PI)}function rre(e){var t=e.lat,r=e.lon,i=6378137,s=.00669438,n=.9996,o,a,l,c,u,d,p,y=B2(t),v=B2(r),b,S;S=Math.floor((r+180)/6)+1,r===180&&(S=60),t>=56&&t<64&&r>=3&&r<12&&(S=32),t>=72&&t<84&&(r>=0&&r<9?S=31:r>=9&&r<21?S=33:r>=21&&r<33?S=35:r>=33&&r<42&&(S=37)),o=(S-1)*6-180+3,b=B2(o),a=s/(1-s),l=i/Math.sqrt(1-s*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),u=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(v-b),p=i*((1-s/4-3*s*s/64-5*s*s*s/256)*y-(3*s/8+3*s*s/32+45*s*s*s/1024)*Math.sin(2*y)+(15*s*s/256+45*s*s*s/1024)*Math.sin(4*y)-35*s*s*s/3072*Math.sin(6*y));var w=n*l*(d+(1-c+u)*d*d*d/6+(5-18*c+c*c+72*u-58*a)*d*d*d*d*d/120)+5e5,T=n*(p+l*Math.tan(y)*(d*d/2+(5-c+9*u+4*u*u)*d*d*d*d/24+(61-58*c+c*c+600*u-330*a)*d*d*d*d*d*d/720));return t<0&&(T+=1e7),{northing:Math.round(T),easting:Math.round(w),zoneNumber:S,zoneLetter:ire(t)}}function m3(e){var t=e.northing,r=e.easting,i=e.zoneLetter,s=e.zoneNumber;if(s<0||s>60)return null;var n=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),u,d,p,y,v,b,S,w,T,x=r-5e5,_=t;i<"N"&&(_-=1e7),S=(s-1)*6-180+3,l=a/(1-a),b=_/n,w=b/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),T=w+(3*c/2-27*c*c*c/32)*Math.sin(2*w)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*w)+151*c*c*c/96*Math.sin(6*w),u=o/Math.sqrt(1-a*Math.sin(T)*Math.sin(T)),d=Math.tan(T)*Math.tan(T),p=l*Math.cos(T)*Math.cos(T),y=o*(1-a)/Math.pow(1-a*Math.sin(T)*Math.sin(T),1.5),v=x/(u*n);var $=T-u*Math.tan(T)/y*(v*v/2-(5+3*d+10*p-4*p*p-9*l)*v*v*v*v/24+(61+90*d+298*p+45*d*d-252*l-3*p*p)*v*v*v*v*v*v/720);$=jM($);var M=(v-(1+2*d+p)*v*v*v/6+(5-2*p+28*d-3*p*p+8*l+24*d*d)*v*v*v*v*v/120)/Math.cos(T);M=S+jM(M);var N;if(e.accuracy){var C=m3({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});N={top:C.lat,right:C.lon,bottom:$,left:M}}else N={lat:$,lon:M};return N}function ire(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function sre(e,t){var r="00000"+e.easting,i="00000"+e.northing;return e.zoneNumber+e.zoneLetter+nre(e.easting,e.northing,e.zoneNumber)+r.substr(r.length-5,t)+i.substr(i.length-5,t)}function nre(e,t,r){var i=AR(r),s=Math.floor(e/1e5),n=Math.floor(t/1e5)%20;return ore(s,n,i)}function AR(e){var t=e%UM;return t===0&&(t=UM),t}function ore(e,t,r){var i=r-1,s=wR.charCodeAt(i),n=xR.charCodeAt(i),o=s+e-1,a=n+t,l=!1;o>Rd&&(o=o-Rd+xh-1,l=!0),(o===as||s<as&&o>as||(o>as||s<as)&&l)&&o++,(o===Qs||s<Qs&&o>Qs||(o>Qs||s<Qs)&&l)&&(o++,o===as&&o++),o>Rd&&(o=o-Rd+xh-1),a>kd?(a=a-kd+xh-1,l=!0):l=!1,(a===as||n<as&&a>as||(a>as||n<as)&&l)&&a++,(a===Qs||n<Qs&&a>Qs||(a>Qs||n<Qs)&&l)&&(a++,a===as&&a++),a>kd&&(a=a-kd+xh-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function TR(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,r=null,i="",s,n=0;!/[A-Z]/.test(s=e.charAt(n));){if(n>=2)throw"MGRSPoint bad conversion from: "+e;i+=s,n++}var o=parseInt(i,10);if(n===0||n+3>t)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(n++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+e;r=e.substring(n,n+=2);for(var l=AR(o),c=are(r.charAt(0),l),u=lre(r.charAt(1),l);u<cre(a);)u+=2e6;var d=t-n;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var p=d/2,y=0,v=0,b,S,w,T,x;return p>0&&(b=1e5/Math.pow(10,p),S=e.substring(n,n+p),y=parseFloat(S)*b,w=e.substring(n+p),v=parseFloat(w)*b),T=y+c,x=v+u,{easting:T,northing:x,zoneLetter:a,zoneNumber:o,accuracy:b}}function are(e,t){for(var r=wR.charCodeAt(t-1),i=1e5,s=!1;r!==e.charCodeAt(0);){if(r++,r===as&&r++,r===Qs&&r++,r>Rd){if(s)throw"Bad character: "+e;r=xh,s=!0}i+=1e5}return i}function lre(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var r=xR.charCodeAt(t-1),i=0,s=!1;r!==e.charCodeAt(0);){if(r++,r===as&&r++,r===Qs&&r++,r>kd){if(s)throw"Bad character: "+e;r=xh,s=!0}i+=1e5}return i}function cre(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function sf(e,t,r){if(!(this instanceof sf))return new sf(e,t,r);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var i=e.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=e,this.y=t,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}sf.fromMGRS=function(e){return new sf(ER(e))};sf.prototype.toMGRS=function(e){return SR([this.x,this.y],e)};var ure=1,hre=.25,BM=.046875,VM=.01953125,GM=.01068115234375,fre=.75,dre=.46875,pre=.013020833333333334,mre=.007120768229166667,yre=.3645833333333333,gre=.005696614583333333,vre=.3076171875;function y3(e){var t=[];t[0]=ure-e*(hre+e*(BM+e*(VM+e*GM))),t[1]=e*(fre-e*(BM+e*(VM+e*GM)));var r=e*e;return t[2]=r*(dre-e*(pre+e*mre)),r*=e,t[3]=r*(yre-e*gre),t[4]=r*e*vre,t}function Gf(e,t,r,i){return r*=t,t*=t,i[0]*e-r*(i[1]+t*(i[2]+t*(i[3]+t*i[4])))}var bre=20;function g3(e,t,r){for(var i=1/(1-t),s=e,n=bre;n;--n){var o=Math.sin(s),a=1-t*o*o;if(a=(Gf(s,o,Math.cos(s),r)-e)*(a*Math.sqrt(a))*i,s-=a,Math.abs(a)<we)return s}return s}function _re(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=y3(this.es),this.ml0=Gf(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function wre(e){var t=e.x,r=e.y,i=Se(t-this.long0),s,n,o,a=Math.sin(r),l=Math.cos(r);if(this.es){var u=l*i,d=Math.pow(u,2),p=this.ep2*Math.pow(l,2),y=Math.pow(p,2),v=Math.abs(l)>we?Math.tan(r):0,b=Math.pow(v,2),S=Math.pow(b,2);s=1-this.es*Math.pow(a,2),u=u/Math.sqrt(s);var w=Gf(r,a,l,this.en);n=this.a*(this.k0*u*(1+d/6*(1-b+p+d/20*(5-18*b+S+14*p-58*b*p+d/42*(61+179*S-S*b-479*b)))))+this.x0,o=this.a*(this.k0*(w-this.ml0+a*i*u/2*(1+d/12*(5-b+9*p+4*y+d/30*(61+S-58*b+270*p-330*b*p+d/56*(1385+543*S-S*b-3111*b))))))+this.y0}else{var c=l*Math.sin(i);if(Math.abs(Math.abs(c)-1)<we)return 93;if(n=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(o),c>=1){if(c-1>we)return 93;o=0}else o=Math.acos(o);r<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return e.x=n,e.y=o,e}function xre(e){var t,r,i,s,n=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,r=g3(t,this.es,this.en),Math.abs(r)<fe){var d=Math.sin(r),p=Math.cos(r),y=Math.abs(p)>we?Math.tan(r):0,v=this.ep2*Math.pow(p,2),b=Math.pow(v,2),S=Math.pow(y,2),w=Math.pow(S,2);t=1-this.es*Math.pow(d,2);var T=n*Math.sqrt(t)/this.k0,x=Math.pow(T,2);t=t*y,i=r-t*x/(1-this.es)*.5*(1-x/12*(5+3*S-9*v*S+v-4*b-x/30*(61+90*S-252*v*S+45*w+46*v-x/56*(1385+3633*S+4095*w+1574*w*S)))),s=Se(this.long0+T*(1-x/6*(1+2*S+v-x/20*(5+28*S+24*w+8*v*S+6*v-x/42*(61+662*S+1320*w+720*w*S))))/p)}else i=fe*zm(o),s=0;else{var a=Math.exp(n/this.k0),l=.5*(a-1/a),c=this.lat0+o/this.k0,u=Math.cos(c);t=Math.sqrt((1-Math.pow(u,2))/(1+Math.pow(l,2))),i=Math.asin(t),o<0&&(i=-i),l===0&&u===0?s=0:s=Se(Math.atan2(l,u)+this.long0)}return e.x=s,e.y=i,e}var Sre=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const eg={init:_re,forward:wre,inverse:xre,names:Sre};function $R(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function ms(e,t){e=Math.abs(e),t=Math.abs(t);var r=Math.max(e,t),i=Math.min(e,t)/(r||1);return r*Math.sqrt(1+Math.pow(i,2))}function Ere(e){var t=1+e,r=t-1;return r===0?e:e*Math.log(t)/r}function Are(e){var t=Math.abs(e);return t=Ere(t*(1+t/(ms(1,t)+1))),e<0?-t:t}function v3(e,t){for(var r=2*Math.cos(2*t),i=e.length-1,s=e[i],n=0,o;--i>=0;)o=-n+r*s+e[i],n=s,s=o;return t+o*Math.sin(2*t)}function Tre(e,t){for(var r=2*Math.cos(t),i=e.length-1,s=e[i],n=0,o;--i>=0;)o=-n+r*s+e[i],n=s,s=o;return Math.sin(t)*o}function $re(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function MR(e,t,r){for(var i=Math.sin(t),s=Math.cos(t),n=$R(r),o=$re(r),a=2*s*o,l=-2*i*n,c=e.length-1,u=e[c],d=0,p=0,y=0,v,b;--c>=0;)v=p,b=d,p=u,d=y,u=-v+a*p-l*d+e[c],y=-b+l*p+a*d;return a=i*o,l=s*n,[a*u-l*y,a*y+l*u]}function Mre(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(eg.init.apply(this),this.forward=eg.forward,this.inverse=eg.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),r=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),r=r*t,this.cgb[1]=r*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=r*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),r=r*t,this.cgb[2]=r*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=r*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),r=r*t,this.cgb[3]=r*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=r*(1237/630+t*(-12/5+t*(-24832/14175))),r=r*t,this.cgb[4]=r*(4174/315+t*(-144838/6237)),this.cbg[4]=r*(-734/315+t*(109598/31185)),r=r*t,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=r*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=r*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),r=r*t,this.utg[2]=r*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=r*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),r=r*t,this.utg[3]=r*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=r*(49561/161280+t*(-179/168+t*(6601661/7257600))),r=r*t,this.utg[4]=r*(-4583/161280+t*(108847/3991680)),this.gtu[4]=r*(34729/80640+t*(-3418889/1995840)),r=r*t,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var i=v3(this.cbg,this.lat0);this.Zb=-this.Qn*(i+Tre(this.gtu,2*i))}function Ire(e){var t=Se(e.x-this.long0),r=e.y;r=v3(this.cbg,r);var i=Math.sin(r),s=Math.cos(r),n=Math.sin(t),o=Math.cos(t);r=Math.atan2(i,o*s),t=Math.atan2(n*s,ms(i,s*o)),t=Are(Math.tan(t));var a=MR(this.gtu,2*r,2*t);r=r+a[0],t=t+a[1];var l,c;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*r+this.Zb)+this.y0):(l=1/0,c=1/0),e.x=l,e.y=c,e}function Ore(e){var t=(e.x-this.x0)*(1/this.a),r=(e.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,t=t/this.Qn;var i,s;if(Math.abs(t)<=2.623395162778){var n=MR(this.utg,2*r,2*t);r=r+n[0],t=t+n[1],t=Math.atan($R(t));var o=Math.sin(r),a=Math.cos(r),l=Math.sin(t),c=Math.cos(t);r=Math.atan2(o*c,ms(l,c*a)),t=Math.atan2(l,c*a),i=Se(t+this.long0),s=v3(this.cgb,r)}else i=1/0,s=1/0;return e.x=i,e.y=s,e}var Cre=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const tg={init:Mre,forward:Ire,inverse:Ore,names:Cre};function Pre(e,t){if(e===void 0){if(e=Math.floor((Se(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var Nre="etmerc";function Lre(){var e=Pre(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*mi,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,tg.init.apply(this),this.forward=tg.forward,this.inverse=tg.inverse}var kre=["Universal Transverse Mercator System","utm"];const Rre={init:Lre,names:kre,dependsOn:Nre};function b3(e,t){return Math.pow((1-e)/(1+e),t)}var Dre=20;function Fre(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Et)/(Math.pow(Math.tan(.5*this.lat0+Et),this.C)*b3(this.e*e,this.ratexp))}function Ure(e){var t=e.x,r=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+Et),this.C)*b3(this.e*Math.sin(r),this.ratexp))-fe,e.x=this.C*t,e}function jre(e){for(var t=1e-14,r=e.x/this.C,i=e.y,s=Math.pow(Math.tan(.5*i+Et)/this.K,1/this.C),n=Dre;n>0&&(i=2*Math.atan(s*b3(this.e*Math.sin(e.y),-.5*this.e))-fe,!(Math.abs(i-e.y)<t));--n)e.y=i;return n?(e.x=r,e.y=i,e):null}const _3={init:Fre,forward:Ure,inverse:jre};function Bre(){_3.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Vre(e){var t,r,i,s;return e.x=Se(e.x-this.long0),_3.forward.apply(this,[e]),t=Math.sin(e.y),r=Math.cos(e.y),i=Math.cos(e.x),s=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*r*i),e.x=s*r*Math.sin(e.x),e.y=s*(this.cosc0*t-this.sinc0*r*i),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Gre(e){var t,r,i,s,n;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,n=ms(e.x,e.y)){var o=2*Math.atan2(n,this.R2);t=Math.sin(o),r=Math.cos(o),s=Math.asin(r*this.sinc0+e.y*t*this.cosc0/n),i=Math.atan2(e.x*t,n*this.cosc0*r-e.y*this.sinc0*t)}else s=this.phic0,i=0;return e.x=i,e.y=s,_3.inverse.apply(this,[e]),e.x=Se(e.x+this.long0),e}var qre=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const zre={init:Bre,forward:Vre,inverse:Gre,names:qre};function Hre(e,t,r){return t*=r,Math.tan(.5*(fe+e))*Math.pow((1-t)/(1+t),.5*r)}function Wre(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=we&&(this.k0=.5*(1+zm(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=we&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=we&&Math.abs(Math.cos(this.lat_ts))>we&&(this.k0=.5*this.cons*jo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Gn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=jo(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-fe,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Yre(e){var t=e.x,r=e.y,i=Math.sin(r),s=Math.cos(r),n,o,a,l,c,u,d=Se(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=we&&Math.abs(r+this.lat0)<=we?(e.x=NaN,e.y=NaN,e):this.sphere?(n=2*this.k0/(1+this.sinlat0*i+this.coslat0*s*Math.cos(d)),e.x=this.a*n*s*Math.sin(d)+this.x0,e.y=this.a*n*(this.coslat0*i-this.sinlat0*s*Math.cos(d))+this.y0,e):(o=2*Math.atan(this.ssfn_(r,i,this.e))-fe,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=we?(c=Gn(this.e,r*this.con,this.con*i),u=2*this.a*this.k0*c/this.cons,e.x=this.x0+u*Math.sin(t-this.long0),e.y=this.y0-this.con*u*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<we?(n=2*this.a*this.k0/(1+l*Math.cos(d)),e.y=n*a):(n=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),e.y=n*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),e.x=n*l*Math.sin(d)+this.x0,e))}function Jre(e){e.x-=this.x0,e.y-=this.y0;var t,r,i,s,n,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,r=this.lat0,o<=we?(e.x=t,e.y=r,e):(r=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<we?this.lat0>0?t=Se(this.long0+Math.atan2(e.x,-1*e.y)):t=Se(this.long0+Math.atan2(e.x,e.y)):t=Se(this.long0+Math.atan2(e.x*Math.sin(a),o*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=r,e)}else if(Math.abs(this.coslat0)<=we){if(o<=we)return r=this.lat0,t=this.long0,e.x=t,e.y=r,e;e.x*=this.con,e.y*=this.con,i=o*this.cons/(2*this.a*this.k0),r=this.con*tm(this.e,i),t=this.con*Se(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else s=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=we?n=this.X0:(n=Math.asin(Math.cos(s)*this.sinX0+e.y*Math.sin(s)*this.cosX0/o),t=Se(this.long0+Math.atan2(e.x*Math.sin(s),o*this.cosX0*Math.cos(s)-e.y*this.sinX0*Math.sin(s)))),r=-1*tm(this.e,Math.tan(.5*(fe+n)));return e.x=t,e.y=r,e}var Kre=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const Zre={init:Wre,forward:Yre,inverse:Jre,names:Kre,ssfn_:Hre};function Xre(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),r=this.a,i=this.rf,s=1/i,n=2*s-Math.pow(s,2),o=this.e=Math.sqrt(n);this.R=this.k0*r*Math.sqrt(1-n)/(1-n*Math.pow(t,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+o*t)/(1-o*t));this.K=a-this.alpha*l+this.alpha*o/2*c}function Qre(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),i=-this.alpha*(t+r)+this.K,s=2*(Math.atan(Math.exp(i))-Math.PI/4),n=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(n))),a=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(n));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*o+this.x0,e}function eie(e){for(var t=e.x-this.x0,r=e.y-this.y0,i=t/this.R,s=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(s))),a=this.lambda0+o/this.alpha,l=0,c=n,u=-1e3,d=0;Math.abs(c-u)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e}var tie=["somerc"];const rie={init:Xre,forward:Qre,inverse:eie,names:tie};var rh=1e-7;function iie(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(r)!==-1}function sie(){var e,t,r,i,s,n,o,a,l,c,u=0,d,p=0,y=0,v=0,b=0,S=0,w=0;this.no_off=iie(this),this.no_rot="no_rot"in this;var T=!1;"alpha"in this&&(T=!0);var x=!1;if("rectified_grid_angle"in this&&(x=!0),T&&(w=this.alpha),x&&(u=this.rectified_grid_angle*mi),T||x)p=this.longc;else if(y=this.long1,b=this.lat1,v=this.long2,S=this.lat2,Math.abs(b-S)<=rh||(e=Math.abs(b))<=rh||Math.abs(e-fe)<=rh||Math.abs(Math.abs(this.lat0)-fe)<=rh||Math.abs(Math.abs(S)-fe)<=rh)throw new Error;var _=1-this.es;t=Math.sqrt(_),Math.abs(this.lat0)>we?(a=Math.sin(this.lat0),r=Math.cos(this.lat0),e=1-this.es*a*a,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/_),this.A=this.B*this.k0*t/e,i=this.B*t/(r*Math.sqrt(e)),s=i*i-1,s<=0?s=0:(s=Math.sqrt(s),this.lat0<0&&(s=-s)),this.E=s+=i,this.E*=Math.pow(Gn(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=i=s=1),T||x?(T?(d=Math.asin(Math.sin(w)/i),x||(u=w)):(d=u,w=Math.asin(i*Math.sin(d))),this.lam0=p-Math.asin(.5*(s-1/s)*Math.tan(d))/this.B):(n=Math.pow(Gn(this.e,b,Math.sin(b)),this.B),o=Math.pow(Gn(this.e,S,Math.sin(S)),this.B),s=this.E/n,l=(o-n)/(o+n),c=this.E*this.E,c=(c-o*n)/(c+o*n),e=y-v,e<-Math.pi?v-=Qp:e>Math.pi&&(v+=Qp),this.lam0=Se(.5*(y+v)-Math.atan(c*Math.tan(.5*this.B*(y-v))/l)/this.B),d=Math.atan(2*Math.sin(this.B*Se(y-this.lam0))/(s-1/s)),u=w=Math.asin(i*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(u),this.cosrot=Math.cos(u),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(w))),this.lat0<0&&(this.u_0=-this.u_0)),s=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(Et-s)),this.v_pole_s=this.ArB*Math.log(Math.tan(Et+s))}function nie(e){var t={},r,i,s,n,o,a,l,c;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-fe)>we){if(o=this.E/Math.pow(Gn(this.e,e.y,Math.sin(e.y)),this.B),a=1/o,r=.5*(o-a),i=.5*(o+a),n=Math.sin(this.B*e.x),s=(r*this.singam-n*this.cosgam)/i,Math.abs(Math.abs(s)-1)<we)throw new Error;c=.5*this.ArB*Math.log((1-s)/(1+s)),a=Math.cos(this.B*e.x),Math.abs(a)<rh?l=this.A*e.x:l=this.ArB*Math.atan2(r*this.cosgam+n*this.singam,a)}else c=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=c):(l-=this.u_0,t.x=c*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-c*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function oie(e){var t,r,i,s,n,o,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(r=e.y,t=e.x):(r=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*r),s=.5*(i-1/i),n=.5*(i+1/i),o=Math.sin(this.BrA*t),a=(o*this.cosgam+s*this.singam)/n,Math.abs(Math.abs(a)-1)<we)l.x=0,l.y=a<0?-fe:fe;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=tm(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(s*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var aie=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const lie={init:sie,forward:nie,inverse:oie,names:aie};function cie(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<we)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),r=Math.cos(this.lat1),i=jo(this.e,t,r),s=Gn(this.e,this.lat1,t),n=Math.sin(this.lat2),o=Math.cos(this.lat2),a=jo(this.e,n,o),l=Gn(this.e,this.lat2,n),c=Gn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>we?this.ns=Math.log(i/a)/Math.log(s/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=i/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function uie(e){var t=e.x,r=e.y;Math.abs(2*Math.abs(r)-Math.PI)<=we&&(r=zm(r)*(fe-2*we));var i=Math.abs(Math.abs(r)-fe),s,n;if(i>we)s=Gn(this.e,r,Math.sin(r)),n=this.a*this.f0*Math.pow(s,this.ns);else{if(i=r*this.ns,i<=0)return null;n=0}var o=this.ns*Se(t-this.long0);return e.x=this.k0*(n*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-n*Math.cos(o))+this.y0,e}function hie(e){var t,r,i,s,n,o=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+a*a),r=1):(t=-Math.sqrt(o*o+a*a),r=-1);var l=0;if(t!==0&&(l=Math.atan2(r*o,r*a)),t!==0||this.ns>0){if(r=1/this.ns,i=Math.pow(t/(this.a*this.f0),r),s=tm(this.e,i),s===-9999)return null}else s=-fe;return n=Se(l/this.ns+this.long0),e.x=n,e.y=s,e}var fie=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const die={init:cie,forward:uie,inverse:hie,names:fie};function pie(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function mie(e){var t,r,i,s,n,o,a,l=e.x,c=e.y,u=Se(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),i=-u*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(s)),o=this.n*n,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),e.y=a*Math.cos(o)/1,e.x=a*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function yie(e){var t,r,i,s,n,o,a,l,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),n=Math.atan2(e.y,e.x),s=n/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(s)),r=Math.asin(Math.cos(i)*Math.sin(s)/Math.cos(t)),e.x=this.long0-r/this.alfa,a=t,l=0;var u=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(l=1),a=e.y,u+=1;while(l===0&&u<15);return u>=15?null:e}var gie=["Krovak","krovak"];const vie={init:pie,forward:mie,inverse:yie,names:gie};function Xi(e,t,r,i,s){return e*s-t*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)}function Hm(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function Wm(e){return .375*e*(1+.25*e*(1+.46875*e))}function Ym(e){return .05859375*e*e*(1+.75*e)}function Jm(e){return e*e*e*(35/3072)}function nf(e,t,r){var i=t*r;return e/Math.sqrt(1-i*i)}function Wl(e){return Math.abs(e)<fe?e:e-zm(e)*Math.PI}function Xg(e,t,r,i,s){var n,o;n=e/t;for(var a=0;a<15;a++)if(o=(e-(t*n-r*Math.sin(2*n)+i*Math.sin(4*n)-s*Math.sin(6*n)))/(t-2*r*Math.cos(2*n)+4*i*Math.cos(4*n)-6*s*Math.cos(6*n)),n+=o,Math.abs(o)<=1e-10)return n;return NaN}function bie(){this.sphere||(this.e0=Hm(this.es),this.e1=Wm(this.es),this.e2=Ym(this.es),this.e3=Jm(this.es),this.ml0=this.a*Xi(this.e0,this.e1,this.e2,this.e3,this.lat0))}function _ie(e){var t,r,i=e.x,s=e.y;if(i=Se(i-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(s)*Math.sin(i)),r=this.a*(Math.atan2(Math.tan(s),Math.cos(i))-this.lat0);else{var n=Math.sin(s),o=Math.cos(s),a=nf(this.a,this.e,n),l=Math.tan(s)*Math.tan(s),c=i*Math.cos(s),u=c*c,d=this.es*o*o/(1-this.es),p=this.a*Xi(this.e0,this.e1,this.e2,this.e3,s);t=a*c*(1-u*l*(1/6-(8-l+8*d)*u/120)),r=p-this.ml0+a*n/o*u*(.5+(5-l+6*d)*u/24)}return e.x=t+this.x0,e.y=r+this.y0,e}function wie(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,r=e.y/this.a,i,s;if(this.sphere){var n=r+this.lat0;i=Math.asin(Math.sin(n)*Math.cos(t)),s=Math.atan2(Math.tan(t),Math.cos(n))}else{var o=this.ml0/this.a+r,a=Xg(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-fe)<=we)return e.x=this.long0,e.y=fe,r<0&&(e.y*=-1),e;var l=nf(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(a),2),d=t*this.a/l,p=d*d;i=a-l*Math.tan(a)/c*d*d*(.5-(1+3*u)*d*d/24),s=d*(1-p*(u/3+(1+3*u)*u*p/15))/Math.cos(a)}return e.x=Se(s+this.long0),e.y=Wl(i),e}var xie=["Cassini","Cassini_Soldner","cass"];const Sie={init:bie,forward:_ie,inverse:wie,names:xie};function Ml(e,t){var r;return e>1e-7?(r=e*t,(1-e*e)*(t/(1-r*r)-.5/e*Math.log((1-r)/(1+r)))):2*t}var Eie=1,Aie=2,Tie=3,$ie=4;function Mie(){var e=Math.abs(this.lat0);if(Math.abs(e-fe)<we?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<we?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=Ml(this.e,1),this.mmf=.5/(1-this.es),this.apa=Die(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Ml(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Iie(e){var t,r,i,s,n,o,a,l,c,u,d=e.x,p=e.y;if(d=Se(d-this.long0),this.sphere){if(n=Math.sin(p),u=Math.cos(p),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+u*i:1+this.sinph0*n+this.cosph0*u*i,r<=we)return null;r=Math.sqrt(2/r),t=r*u*Math.sin(d),r*=this.mode===this.EQUIT?n:this.cosph0*n-this.sinph0*u*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(p+this.lat0)<we)return null;r=Et-p*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),t=r*Math.sin(d),r*=i}}else{switch(a=0,l=0,c=0,i=Math.cos(d),s=Math.sin(d),n=Math.sin(p),o=Ml(this.e,n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=fe+p,o=this.qp-o;break;case this.S_POLE:c=p-fe,o=this.qp+o;break}if(Math.abs(c)<we)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?r=this.ymf*c*(this.cosb1*a-this.sinb1*l*i):r=(c=Math.sqrt(2/(1+l*i)))*a*this.ymf,t=this.xmf*c*l*s;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(c=Math.sqrt(o))*s,r=i*(this.mode===this.S_POLE?c:-c)):t=r=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*r+this.y0,e}function Oie(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,r=e.y/this.a,i,s,n,o,a,l,c;if(this.sphere){var u=0,d,p=0;if(d=Math.sqrt(t*t+r*r),s=d*.5,s>1)return null;switch(s=2*Math.asin(s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(s),u=Math.cos(s)),this.mode){case this.EQUIT:s=Math.abs(d)<=we?0:Math.asin(r*p/d),t*=p,r=u*d;break;case this.OBLIQ:s=Math.abs(d)<=we?this.lat0:Math.asin(u*this.sinph0+r*p*this.cosph0/d),t*=p*this.cosph0,r=(u-Math.sin(s)*this.sinph0)*d;break;case this.N_POLE:r=-r,s=fe-s;break;case this.S_POLE:s-=fe;break}i=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,r)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,r*=this.dd,l=Math.sqrt(t*t+r*r),l<we)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*l/this.rq),n=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(c=n*this.sinb1+r*o*this.cosb1/l,a=this.qp*c,r=l*this.cosb1*n-r*this.sinb1*o):(c=r*o/l,a=this.qp*c,r=l*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),a=t*t+r*r,!a)return e.x=this.long0,e.y=this.lat0,e;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}i=Math.atan2(t,r),s=Fie(Math.asin(c),this.apa)}return e.x=Se(this.long0+i),e.y=s,e}var Cie=.3333333333333333,Pie=.17222222222222222,Nie=.10257936507936508,Lie=.06388888888888888,kie=.0664021164021164,Rie=.016415012942191543;function Die(e){var t,r=[];return r[0]=e*Cie,t=e*e,r[0]+=t*Pie,r[1]=t*Lie,t*=e,r[0]+=t*Nie,r[1]+=t*kie,r[2]=t*Rie,r}function Fie(e,t){var r=e+e;return e+t[0]*Math.sin(r)+t[1]*Math.sin(r+r)+t[2]*Math.sin(r+r+r)}var Uie=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const jie={init:Mie,forward:Iie,inverse:Oie,names:Uie,S_POLE:Eie,N_POLE:Aie,EQUIT:Tie,OBLIQ:$ie};function Ul(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function Bie(){Math.abs(this.lat1+this.lat2)<we||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=jo(this.e3,this.sin_po,this.cos_po),this.qs1=Ml(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=jo(this.e3,this.sin_po,this.cos_po),this.qs2=Ml(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ml(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>we?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Vie(e){var t=e.x,r=e.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var i=Ml(this.e3,this.sin_phi),s=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,n=this.ns0*Se(t-this.long0),o=s*Math.sin(n)+this.x0,a=this.rh-s*Math.cos(n)+this.y0;return e.x=o,e.y=a,e}function Gie(e){var t,r,i,s,n,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),i=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),i=-1),s=0,t!==0&&(s=Math.atan2(i*e.x,i*e.y)),i=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(r=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,r)),n=Se(s/this.ns0+this.long0),e.x=n,e.y=o,e}function qie(e,t){var r,i,s,n,o,a=Ul(.5*t);if(e<we)return a;for(var l=e*e,c=1;c<=25;c++)if(r=Math.sin(a),i=Math.cos(a),s=e*r,n=1-s*s,o=.5*n*n/i*(t/(1-l)-r/n+.5/e*Math.log((1-s)/(1+s))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var zie=["Albers_Conic_Equal_Area","Albers","aea"];const Hie={init:Bie,forward:Vie,inverse:Gie,names:zie,phi1z:qie};function Wie(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Yie(e){var t,r,i,s,n,o,a,l,c=e.x,u=e.y;return i=Se(c-this.long0),t=Math.sin(u),r=Math.cos(u),s=Math.cos(i),o=this.sin_p14*t+this.cos_p14*r*s,n=1,o>0||Math.abs(o)<=we?(a=this.x0+this.a*n*r*Math.sin(i)/o,l=this.y0+this.a*n*(this.cos_p14*t-this.sin_p14*r*s)/o):(a=this.x0+this.infinity_dist*r*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*r*s)),e.x=a,e.y=l,e}function Jie(e){var t,r,i,s,n,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(s=Math.atan2(t,this.rc),r=Math.sin(s),i=Math.cos(s),o=Ul(i*this.sin_p14+e.y*r*this.cos_p14/t),n=Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r),n=Se(this.long0+n)):(o=this.phic0,n=0),e.x=n,e.y=o,e}var Kie=["gnom"];const Zie={init:Wie,forward:Yie,inverse:Jie,names:Kie};function Xie(e,t){var r=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-r)<1e-6)return t<0?-1*fe:fe;for(var i=Math.asin(.5*t),s,n,o,a,l=0;l<30;l++)if(n=Math.sin(i),o=Math.cos(i),a=e*n,s=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-n/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),i+=s,Math.abs(s)<=1e-10)return i;return NaN}function Qie(){this.sphere||(this.k0=jo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function ese(e){var t=e.x,r=e.y,i,s,n=Se(t-this.long0);if(this.sphere)i=this.x0+this.a*n*Math.cos(this.lat_ts),s=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var o=Ml(this.e,Math.sin(r));i=this.x0+this.a*this.k0*n,s=this.y0+this.a*o*.5/this.k0}return e.x=i,e.y=s,e}function tse(e){e.x-=this.x0,e.y-=this.y0;var t,r;return this.sphere?(t=Se(this.long0+e.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(r=Xie(this.e,2*e.y*this.k0/this.a),t=Se(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=r,e}var rse=["cea"];const ise={init:Qie,forward:ese,inverse:tse,names:rse};function sse(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function nse(e){var t=e.x,r=e.y,i=Se(t-this.long0),s=Wl(r-this.lat0);return e.x=this.x0+this.a*i*this.rc,e.y=this.y0+this.a*s,e}function ose(e){var t=e.x,r=e.y;return e.x=Se(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Wl(this.lat0+(r-this.y0)/this.a),e}var ase=["Equirectangular","Equidistant_Cylindrical","eqc"];const lse={init:sse,forward:nse,inverse:ose,names:ase};var qM=20;function cse(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Hm(this.es),this.e1=Wm(this.es),this.e2=Ym(this.es),this.e3=Jm(this.es),this.ml0=this.a*Xi(this.e0,this.e1,this.e2,this.e3,this.lat0)}function use(e){var t=e.x,r=e.y,i,s,n,o=Se(t-this.long0);if(n=o*Math.sin(r),this.sphere)Math.abs(r)<=we?(i=this.a*o,s=-1*this.a*this.lat0):(i=this.a*Math.sin(n)/Math.tan(r),s=this.a*(Wl(r-this.lat0)+(1-Math.cos(n))/Math.tan(r)));else if(Math.abs(r)<=we)i=this.a*o,s=-1*this.ml0;else{var a=nf(this.a,this.e,Math.sin(r))/Math.tan(r);i=a*Math.sin(n),s=this.a*Xi(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*(1-Math.cos(n))}return e.x=i+this.x0,e.y=s+this.y0,e}function hse(e){var t,r,i,s,n,o,a,l,c;if(i=e.x-this.x0,s=e.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=we)t=Se(i/this.a+this.long0),r=0;else{o=this.lat0+s/this.a,a=i*i/this.a/this.a+o*o,l=o;var u;for(n=qM;n;--n)if(u=Math.tan(l),c=-1*(o*(l*u+1)-l-.5*(l*l+a)*u)/((l-o)/u-1),l+=c,Math.abs(c)<=we){r=l;break}t=Se(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(r))}else if(Math.abs(s+this.ml0)<=we)r=0,t=Se(this.long0+i/this.a);else{o=(this.ml0+s)/this.a,a=i*i/this.a/this.a+o*o,l=o;var d,p,y,v,b;for(n=qM;n;--n)if(b=this.e*Math.sin(l),d=Math.sqrt(1-b*b)*Math.tan(l),p=this.a*Xi(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),v=p/this.a,c=(o*(d*v+1)-v-.5*d*(v*v+a))/(this.es*Math.sin(2*l)*(v*v+a-2*o*v)/(4*d)+(o-v)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=we){r=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),t=Se(this.long0+Math.asin(i*d/this.a)/Math.sin(r))}return e.x=t,e.y=r,e}var fse=["Polyconic","poly"];const dse={init:cse,forward:use,inverse:hse,names:fse};function pse(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function mse(e){var t,r=e.x,i=e.y,s=i-this.lat0,n=r-this.long0,o=s/ip*1e-5,a=n,l=1,c=0;for(t=1;t<=10;t++)l=l*o,c=c+this.A[t]*l;var u=c,d=a,p=1,y=0,v,b,S=0,w=0;for(t=1;t<=6;t++)v=p*u-y*d,b=y*u+p*d,p=v,y=b,S=S+this.B_re[t]*p-this.B_im[t]*y,w=w+this.B_im[t]*p+this.B_re[t]*y;return e.x=w*this.a+this.x0,e.y=S*this.a+this.y0,e}function yse(e){var t,r=e.x,i=e.y,s=r-this.x0,n=i-this.y0,o=n/this.a,a=s/this.a,l=1,c=0,u,d,p=0,y=0;for(t=1;t<=6;t++)u=l*o-c*a,d=c*o+l*a,l=u,c=d,p=p+this.C_re[t]*l-this.C_im[t]*c,y=y+this.C_im[t]*l+this.C_re[t]*c;for(var v=0;v<this.iterations;v++){var b=p,S=y,w,T,x=o,_=a;for(t=2;t<=6;t++)w=b*p-S*y,T=S*p+b*y,b=w,S=T,x=x+(t-1)*(this.B_re[t]*b-this.B_im[t]*S),_=_+(t-1)*(this.B_im[t]*b+this.B_re[t]*S);b=1,S=0;var $=this.B_re[1],M=this.B_im[1];for(t=2;t<=6;t++)w=b*p-S*y,T=S*p+b*y,b=w,S=T,$=$+t*(this.B_re[t]*b-this.B_im[t]*S),M=M+t*(this.B_im[t]*b+this.B_re[t]*S);var N=$*$+M*M;p=(x*$+_*M)/N,y=(_*$-x*M)/N}var C=p,P=y,k=1,V=0;for(t=1;t<=9;t++)k=k*C,V=V+this.D[t]*k;var U=this.lat0+V*ip*1e5,j=this.long0+P;return e.x=j,e.y=U,e}var gse=["New_Zealand_Map_Grid","nzmg"];const vse={init:pse,forward:mse,inverse:yse,names:gse};function bse(){}function _se(e){var t=e.x,r=e.y,i=Se(t-this.long0),s=this.x0+this.a*i,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return e.x=s,e.y=n,e}function wse(e){e.x-=this.x0,e.y-=this.y0;var t=Se(this.long0+e.x/this.a),r=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=r,e}var xse=["Miller_Cylindrical","mill"];const Sse={init:bse,forward:_se,inverse:wse,names:xse};var Ese=20;function Ase(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=y3(this.es)}function Tse(e){var t,r,i=e.x,s=e.y;if(i=Se(i-this.long0),this.sphere){if(!this.m)s=this.n!==1?Math.asin(this.n*Math.sin(s)):s;else for(var n=this.n*Math.sin(s),o=Ese;o;--o){var a=(this.m*s+Math.sin(s)-n)/(this.m+Math.cos(s));if(s-=a,Math.abs(a)<we)break}t=this.a*this.C_x*i*(this.m+Math.cos(s)),r=this.a*this.C_y*s}else{var l=Math.sin(s),c=Math.cos(s);r=this.a*Gf(s,l,c,this.en),t=this.a*i*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=r,e}function $se(e){var t,r,i,s;return e.x-=this.x0,i=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(t))),this.m?t=Ul((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=Ul(Math.sin(t)/this.n)),i=Se(i+this.long0),t=Wl(t)):(t=g3(e.y/this.a,this.es,this.en),s=Math.abs(t),s<fe?(s=Math.sin(t),r=this.long0+e.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(t)),i=Se(r)):s-we<fe&&(i=this.long0)),e.x=i,e.y=t,e}var Mse=["Sinusoidal","sinu"];const Ise={init:Ase,forward:Tse,inverse:$se,names:Mse};function Ose(){}function Cse(e){for(var t=e.x,r=e.y,i=Se(t-this.long0),s=r,n=Math.PI*Math.sin(r);;){var o=-(s+Math.sin(s)-n)/(1+Math.cos(s));if(s+=o,Math.abs(o)<we)break}s/=2,Math.PI/2-Math.abs(r)<we&&(i=0);var a=.900316316158*this.a*i*Math.cos(s)+this.x0,l=1.4142135623731*this.a*Math.sin(s)+this.y0;return e.x=a,e.y=l,e}function Pse(e){var t,r;e.x-=this.x0,e.y-=this.y0,r=e.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),t=Math.asin(r);var i=Se(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),r=(2*t+Math.sin(2*t))/Math.PI,Math.abs(r)>1&&(r=1);var s=Math.asin(r);return e.x=i,e.y=s,e}var Nse=["Mollweide","moll"];const Lse={init:Ose,forward:Cse,inverse:Pse,names:Nse};function kse(){Math.abs(this.lat1+this.lat2)<we||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Hm(this.es),this.e1=Wm(this.es),this.e2=Ym(this.es),this.e3=Jm(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=jo(this.e,this.sinphi,this.cosphi),this.ml1=Xi(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<we?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=jo(this.e,this.sinphi,this.cosphi),this.ml2=Xi(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Xi(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Rse(e){var t=e.x,r=e.y,i;if(this.sphere)i=this.a*(this.g-r);else{var s=Xi(this.e0,this.e1,this.e2,this.e3,r);i=this.a*(this.g-s)}var n=this.ns*Se(t-this.long0),o=this.x0+i*Math.sin(n),a=this.y0+this.rh-i*Math.cos(n);return e.x=o,e.y=a,e}function Dse(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,r,i,s;this.ns>=0?(r=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(r=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var n=0;if(r!==0&&(n=Math.atan2(t*e.x,t*e.y)),this.sphere)return s=Se(this.long0+n/this.ns),i=Wl(this.g-r/this.a),e.x=s,e.y=i,e;var o=this.g-r/this.a;return i=Xg(o,this.e0,this.e1,this.e2,this.e3),s=Se(this.long0+n/this.ns),e.x=s,e.y=i,e}var Fse=["Equidistant_Conic","eqdc"];const Use={init:kse,forward:Rse,inverse:Dse,names:Fse};function jse(){this.R=this.a}function Bse(e){var t=e.x,r=e.y,i=Se(t-this.long0),s,n;Math.abs(r)<=we&&(s=this.x0+this.R*i,n=this.y0);var o=Ul(2*Math.abs(r/Math.PI));(Math.abs(i)<=we||Math.abs(Math.abs(r)-fe)<=we)&&(s=this.x0,r>=0?n=this.y0+Math.PI*this.R*Math.tan(.5*o):n=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,c=Math.sin(o),u=Math.cos(o),d=u/(c+u-1),p=d*d,y=d*(2/c-1),v=y*y,b=Math.PI*this.R*(a*(d-v)+Math.sqrt(l*(d-v)*(d-v)-(v+l)*(p-v)))/(v+l);i<0&&(b=-b),s=this.x0+b;var S=l+d;return b=Math.PI*this.R*(y*S-a*Math.sqrt((v+l)*(l+1)-S*S))/(v+l),r>=0?n=this.y0+b:n=this.y0-b,e.x=s,e.y=n,e}function Vse(e){var t,r,i,s,n,o,a,l,c,u,d,p,y;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,i=e.x/d,s=e.y/d,n=i*i+s*s,o=-Math.abs(s)*(1+n),a=o-2*s*s+i*i,l=-2*o+1+2*s*s+n*n,y=s*s/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,u=2*Math.sqrt(-c/3),d=3*y/c/u,Math.abs(d)>1&&(d>=0?d=1:d=-1),p=Math.acos(d)/3,e.y>=0?r=(-u*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:r=-(-u*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<we?t=this.long0:t=Se(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(i*i-s*s)+n*n))/2/i),e.x=t,e.y=r,e}var Gse=["Van_der_Grinten_I","VanDerGrinten","vandg"];const qse={init:jse,forward:Bse,inverse:Vse,names:Gse};function zse(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Hse(e){var t=e.x,r=e.y,i=Math.sin(e.y),s=Math.cos(e.y),n=Se(t-this.long0),o,a,l,c,u,d,p,y,v,b,S,w,T,x,_,$,M,N,C,P,k,V,U;return this.sphere?Math.abs(this.sin_p12-1)<=we?(e.x=this.x0+this.a*(fe-r)*Math.sin(n),e.y=this.y0-this.a*(fe-r)*Math.cos(n),e):Math.abs(this.sin_p12+1)<=we?(e.x=this.x0+this.a*(fe+r)*Math.sin(n),e.y=this.y0+this.a*(fe+r)*Math.cos(n),e):(N=this.sin_p12*i+this.cos_p12*s*Math.cos(n),$=Math.acos(N),M=$?$/Math.sin($):1,e.x=this.x0+this.a*M*s*Math.sin(n),e.y=this.y0+this.a*M*(this.cos_p12*i-this.sin_p12*s*Math.cos(n)),e):(o=Hm(this.es),a=Wm(this.es),l=Ym(this.es),c=Jm(this.es),Math.abs(this.sin_p12-1)<=we?(u=this.a*Xi(o,a,l,c,fe),d=this.a*Xi(o,a,l,c,r),e.x=this.x0+(u-d)*Math.sin(n),e.y=this.y0-(u-d)*Math.cos(n),e):Math.abs(this.sin_p12+1)<=we?(u=this.a*Xi(o,a,l,c,fe),d=this.a*Xi(o,a,l,c,r),e.x=this.x0+(u+d)*Math.sin(n),e.y=this.y0+(u+d)*Math.cos(n),e):(p=i/s,y=nf(this.a,this.e,this.sin_p12),v=nf(this.a,this.e,i),b=Math.atan((1-this.es)*p+this.es*y*this.sin_p12/(v*s)),S=Math.atan2(Math.sin(n),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(n)),S===0?C=Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(S)-Math.PI)<=we?C=-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):C=Math.asin(Math.sin(n)*Math.cos(b)/Math.sin(S)),w=this.e*this.sin_p12/Math.sqrt(1-this.es),T=this.e*this.cos_p12*Math.cos(S)/Math.sqrt(1-this.es),x=w*T,_=T*T,P=C*C,k=P*C,V=k*C,U=V*C,$=y*C*(1-P*_*(1-_)/6+k/8*x*(1-2*_)+V/120*(_*(4-7*_)-3*w*w*(1-7*_))-U/48*x),e.x=this.x0+$*Math.sin(S),e.y=this.y0+$*Math.cos(S),e))}function Wse(e){e.x-=this.x0,e.y-=this.y0;var t,r,i,s,n,o,a,l,c,u,d,p,y,v,b,S,w,T,x,_,$,M,N,C;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*fe*this.a?void 0:(r=t/this.a,i=Math.sin(r),s=Math.cos(r),n=this.long0,Math.abs(t)<=we?o=this.lat0:(o=Ul(s*this.sin_p12+e.y*i*this.cos_p12/t),a=Math.abs(this.lat0)-fe,Math.abs(a)<=we?this.lat0>=0?n=Se(this.long0+Math.atan2(e.x,-e.y)):n=Se(this.long0-Math.atan2(-e.x,e.y)):n=Se(this.long0+Math.atan2(e.x*i,t*this.cos_p12*s-e.y*this.sin_p12*i))),e.x=n,e.y=o,e)):(l=Hm(this.es),c=Wm(this.es),u=Ym(this.es),d=Jm(this.es),Math.abs(this.sin_p12-1)<=we?(p=this.a*Xi(l,c,u,d,fe),t=Math.sqrt(e.x*e.x+e.y*e.y),y=p-t,o=Xg(y/this.a,l,c,u,d),n=Se(this.long0+Math.atan2(e.x,-1*e.y)),e.x=n,e.y=o,e):Math.abs(this.sin_p12+1)<=we?(p=this.a*Xi(l,c,u,d,fe),t=Math.sqrt(e.x*e.x+e.y*e.y),y=t-p,o=Xg(y/this.a,l,c,u,d),n=Se(this.long0+Math.atan2(e.x,e.y)),e.x=n,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),S=Math.atan2(e.x,e.y),v=nf(this.a,this.e,this.sin_p12),w=Math.cos(S),T=this.e*this.cos_p12*w,x=-T*T/(1-this.es),_=3*this.es*(1-x)*this.sin_p12*this.cos_p12*w/(1-this.es),$=t/v,M=$-x*(1+x)*Math.pow($,3)/6-_*(1+3*x)*Math.pow($,4)/24,N=1-x*M*M/2-$*M*M*M/6,b=Math.asin(this.sin_p12*Math.cos(M)+this.cos_p12*Math.sin(M)*w),n=Se(this.long0+Math.asin(Math.sin(S)*Math.sin(M)/Math.cos(b))),C=Math.sin(b),o=Math.atan2((C-this.es*N*this.sin_p12)*Math.tan(b),C*(1-this.es)),e.x=n,e.y=o,e))}var Yse=["Azimuthal_Equidistant","aeqd"];const Jse={init:zse,forward:Hse,inverse:Wse,names:Yse};function Kse(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Zse(e){var t,r,i,s,n,o,a,l,c=e.x,u=e.y;return i=Se(c-this.long0),t=Math.sin(u),r=Math.cos(u),s=Math.cos(i),o=this.sin_p14*t+this.cos_p14*r*s,n=1,(o>0||Math.abs(o)<=we)&&(a=this.a*n*r*Math.sin(i),l=this.y0+this.a*n*(this.cos_p14*t-this.sin_p14*r*s)),e.x=a,e.y=l,e}function Xse(e){var t,r,i,s,n,o,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),r=Ul(t/this.a),i=Math.sin(r),s=Math.cos(r),o=this.long0,Math.abs(t)<=we?(a=this.lat0,e.x=o,e.y=a,e):(a=Ul(s*this.sin_p14+e.y*i*this.cos_p14/t),n=Math.abs(this.lat0)-fe,Math.abs(n)<=we?(this.lat0>=0?o=Se(this.long0+Math.atan2(e.x,-e.y)):o=Se(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=a,e):(o=Se(this.long0+Math.atan2(e.x*i,t*this.cos_p14*s-e.y*this.sin_p14*i)),e.x=o,e.y=a,e))}var Qse=["ortho"];const ene={init:Kse,forward:Zse,inverse:Xse,names:Qse};var lr={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},At={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function tne(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=fe-Et/2?this.face=lr.TOP:this.lat0<=-(fe-Et/2)?this.face=lr.BOTTOM:Math.abs(this.long0)<=Et?this.face=lr.FRONT:Math.abs(this.long0)<=fe+Et?this.face=this.long0>0?lr.RIGHT:lr.LEFT:this.face=lr.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function rne(e){var t={x:0,y:0},r,i,s,n,o,a,l={value:0};if(e.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):r=e.y,i=e.x,this.face===lr.TOP)n=fe-r,i>=Et&&i<=fe+Et?(l.value=At.AREA_0,s=i-fe):i>fe+Et||i<=-(fe+Et)?(l.value=At.AREA_1,s=i>0?i-Tr:i+Tr):i>-(fe+Et)&&i<=-Et?(l.value=At.AREA_2,s=i+fe):(l.value=At.AREA_3,s=i);else if(this.face===lr.BOTTOM)n=fe+r,i>=Et&&i<=fe+Et?(l.value=At.AREA_0,s=-i+fe):i<Et&&i>=-Et?(l.value=At.AREA_1,s=-i):i<-Et&&i>=-(fe+Et)?(l.value=At.AREA_2,s=-i-fe):(l.value=At.AREA_3,s=i>0?-i+Tr:-i-Tr);else{var c,u,d,p,y,v,b;this.face===lr.RIGHT?i=Dh(i,+fe):this.face===lr.BACK?i=Dh(i,+Tr):this.face===lr.LEFT&&(i=Dh(i,-fe)),p=Math.sin(r),y=Math.cos(r),v=Math.sin(i),b=Math.cos(i),c=y*b,u=y*v,d=p,this.face===lr.FRONT?(n=Math.acos(c),s=Ry(n,d,u,l)):this.face===lr.RIGHT?(n=Math.acos(u),s=Ry(n,d,-c,l)):this.face===lr.BACK?(n=Math.acos(-c),s=Ry(n,d,-u,l)):this.face===lr.LEFT?(n=Math.acos(-u),s=Ry(n,d,c,l)):(n=s=0,l.value=At.AREA_0)}return a=Math.atan(12/Tr*(s+Math.acos(Math.sin(s)*Math.cos(Et))-fe)),o=Math.sqrt((1-Math.cos(n))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(s))))),l.value===At.AREA_1?a+=fe:l.value===At.AREA_2?a+=Tr:l.value===At.AREA_3&&(a+=1.5*Tr),t.x=o*Math.cos(a),t.y=o*Math.sin(a),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function ine(e){var t={lam:0,phi:0},r,i,s,n,o,a,l,c,u,d={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,i=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),r=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?d.value=At.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(d.value=At.AREA_1,r-=fe):e.x<0&&-e.x>=Math.abs(e.y)?(d.value=At.AREA_2,r=r<0?r+Tr:r-Tr):(d.value=At.AREA_3,r+=fe),u=Tr/12*Math.tan(r),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(o),s=Math.cos(r),n=Math.tan(i),l=1-s*s*n*n*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===lr.TOP)c=Math.acos(l),t.phi=fe-c,d.value===At.AREA_0?t.lam=a+fe:d.value===At.AREA_1?t.lam=a<0?a+Tr:a-Tr:d.value===At.AREA_2?t.lam=a-fe:t.lam=a;else if(this.face===lr.BOTTOM)c=Math.acos(l),t.phi=c-fe,d.value===At.AREA_0?t.lam=-a+fe:d.value===At.AREA_1?t.lam=-a:d.value===At.AREA_2?t.lam=-a-fe:t.lam=a<0?-a-Tr:-a+Tr;else{var p,y,v;p=l,u=p*p,u>=1?v=0:v=Math.sqrt(1-u)*Math.sin(a),u+=v*v,u>=1?y=0:y=Math.sqrt(1-u),d.value===At.AREA_1?(u=y,y=-v,v=u):d.value===At.AREA_2?(y=-y,v=-v):d.value===At.AREA_3&&(u=y,y=v,v=-u),this.face===lr.RIGHT?(u=p,p=-y,y=u):this.face===lr.BACK?(p=-p,y=-y):this.face===lr.LEFT&&(u=p,p=y,y=-u),t.phi=Math.acos(-v)-fe,t.lam=Math.atan2(y,p),this.face===lr.RIGHT?t.lam=Dh(t.lam,-fe):this.face===lr.BACK?t.lam=Dh(t.lam,-Tr):this.face===lr.LEFT&&(t.lam=Dh(t.lam,+fe))}if(this.es!==0){var b,S,w;b=t.phi<0?1:0,S=Math.tan(t.phi),w=this.b/Math.sqrt(S*S+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-w*w)/(this.one_minus_f*w)),b&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function Ry(e,t,r,i){var s;return e<we?(i.value=At.AREA_0,s=0):(s=Math.atan2(t,r),Math.abs(s)<=Et?i.value=At.AREA_0:s>Et&&s<=fe+Et?(i.value=At.AREA_1,s-=fe):s>fe+Et||s<=-(fe+Et)?(i.value=At.AREA_2,s=s>=0?s-Tr:s+Tr):(i.value=At.AREA_3,s+=fe)),s}function Dh(e,t){var r=e+t;return r<-Tr?r+=Qp:r>+Tr&&(r-=Qp),r}var sne=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const nne={init:tne,forward:rne,inverse:ine,names:sne};var Ox=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Dd=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],IR=.8487,OR=1.3523,CR=Eo/5,one=1/CR,Sh=18,Qg=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},ane=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function lne(e,t,r,i){for(var s=t;i;--i){var n=e(s);if(s-=n,Math.abs(n)<r)break}return s}function cne(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function une(e){var t=Se(e.x-this.long0),r=Math.abs(e.y),i=Math.floor(r*CR);i<0?i=0:i>=Sh&&(i=Sh-1),r=Eo*(r-one*i);var s={x:Qg(Ox[i],r)*t,y:Qg(Dd[i],r)};return e.y<0&&(s.y=-s.y),s.x=s.x*this.a*IR+this.x0,s.y=s.y*this.a*OR+this.y0,s}function hne(e){var t={x:(e.x-this.x0)/(this.a*IR),y:Math.abs(e.y-this.y0)/(this.a*OR)};if(t.y>=1)t.x/=Ox[Sh][0],t.y=e.y<0?-fe:fe;else{var r=Math.floor(t.y*Sh);for(r<0?r=0:r>=Sh&&(r=Sh-1);;)if(Dd[r][0]>t.y)--r;else if(Dd[r+1][0]<=t.y)++r;else break;var i=Dd[r],s=5*(t.y-i[0])/(Dd[r+1][0]-i[0]);s=lne(function(n){return(Qg(i,n)-t.y)/ane(i,n)},s,we,100),t.x/=Qg(Ox[r],s),t.y=(5*r+s)*mi,e.y<0&&(t.y=-t.y)}return t.x=Se(t.x+this.long0),t}var fne=["Robinson","robin"];const dne={init:cne,forward:une,inverse:hne,names:fne};function pne(){this.name="geocent"}function mne(e){var t=vR(e,this.es,this.a);return t}function yne(e){var t=bR(e,this.es,this.a,this.b);return t}var gne=["Geocentric","geocentric","geocent","Geocent"];const vne={init:pne,forward:mne,inverse:yne,names:gne};var Oi={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},ad={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function bne(){if(Object.keys(ad).forEach(function(r){if(typeof this[r]>"u")this[r]=ad[r].def;else{if(ad[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);ad[r].num&&(this[r]=parseFloat(this[r]))}ad[r].degrees&&(this[r]=this[r]*mi)}.bind(this)),Math.abs(Math.abs(this.lat0)-fe)<we?this.mode=this.lat0<0?Oi.S_POLE:Oi.N_POLE:Math.abs(this.lat0)<we?this.mode=Oi.EQUIT:(this.mode=Oi.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function _ne(e){e.x-=this.long0;var t=Math.sin(e.y),r=Math.cos(e.y),i=Math.cos(e.x),s,n;switch(this.mode){case Oi.OBLIQ:n=this.sinph0*t+this.cosph0*r*i;break;case Oi.EQUIT:n=r*i;break;case Oi.S_POLE:n=-t;break;case Oi.N_POLE:n=t;break}switch(n=this.pn1/(this.p-n),s=n*r*Math.sin(e.x),this.mode){case Oi.OBLIQ:n*=this.cosph0*t-this.sinph0*r*i;break;case Oi.EQUIT:n*=t;break;case Oi.N_POLE:n*=-(r*i);break;case Oi.S_POLE:n*=r*i;break}var o,a;return o=n*this.cg+s*this.sg,a=1/(o*this.sw*this.h1+this.cw),s=(s*this.cg-n*this.sg)*this.cw*a,n=o*a,e.x=s*this.a,e.y=n*this.a,e}function wne(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},r,i,s;s=1/(this.pn1-e.y*this.sw),r=this.pn1*e.x*s,i=this.pn1*e.y*this.cw*s,e.x=r*this.cg+i*this.sg,e.y=i*this.cg-r*this.sg;var n=ms(e.x,e.y);if(Math.abs(n)<we)t.x=0,t.y=e.y;else{var o,a;switch(a=1-n*n*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/n+n/this.pn1),o=Math.sqrt(1-a*a),this.mode){case Oi.OBLIQ:t.y=Math.asin(o*this.sinph0+e.y*a*this.cosph0/n),e.y=(o-this.sinph0*Math.sin(t.y))*n,e.x*=a*this.cosph0;break;case Oi.EQUIT:t.y=Math.asin(e.y*a/n),e.y=o*n,e.x*=a;break;case Oi.N_POLE:t.y=Math.asin(o),e.y=-e.y;break;case Oi.S_POLE:t.y=-Math.asin(o);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var xne=["Tilted_Perspective","tpers"];const Sne={init:bne,forward:_ne,inverse:wne,names:xne};function Ene(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function Ane(e){var t=e.x,r=e.y,i,s,n,o;if(t=t-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var a=this.radius_p/ms(this.radius_p*Math.cos(r),Math.sin(r));if(s=a*Math.cos(t)*Math.cos(r),n=a*Math.sin(t)*Math.cos(r),o=a*Math.sin(r),(this.radius_g-s)*s-n*n-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;i=this.radius_g-s,this.flip_axis?(e.x=this.radius_g_1*Math.atan(n/ms(o,i)),e.y=this.radius_g_1*Math.atan(o/i)):(e.x=this.radius_g_1*Math.atan(n/i),e.y=this.radius_g_1*Math.atan(o/ms(n,i)))}else this.shape==="sphere"&&(i=Math.cos(r),s=Math.cos(t)*i,n=Math.sin(t)*i,o=Math.sin(r),i=this.radius_g-s,this.flip_axis?(e.x=this.radius_g_1*Math.atan(n/ms(o,i)),e.y=this.radius_g_1*Math.atan(o/i)):(e.x=this.radius_g_1*Math.atan(n/i),e.y=this.radius_g_1*Math.atan(o/ms(n,i))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function Tne(e){var t=-1,r=0,i=0,s,n,o,a;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(e.y/this.radius_g_1),r=Math.tan(e.x/this.radius_g_1)*ms(1,i)):(r=Math.tan(e.x/this.radius_g_1),i=Math.tan(e.y/this.radius_g_1)*ms(1,r));var l=i/this.radius_p;if(s=r*r+l*l+t*t,n=2*this.radius_g*t,o=n*n-4*s*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-n-Math.sqrt(o))/(2*s),t=this.radius_g+a*t,r*=a,i*=a,e.x=Math.atan2(r,t),e.y=Math.atan(i*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(e.y/this.radius_g_1),r=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+i*i)):(r=Math.tan(e.x/this.radius_g_1),i=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+r*r)),s=r*r+i*i+t*t,n=2*this.radius_g*t,o=n*n-4*s*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-n-Math.sqrt(o))/(2*s),t=this.radius_g+a*t,r*=a,i*=a,e.x=Math.atan2(r,t),e.y=Math.atan(i*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var $ne=["Geostationary Satellite View","Geostationary_Satellite","geos"];const Mne={init:Ene,forward:Ane,inverse:Tne,names:$ne};var sp=1.340264,np=-.081106,op=893e-6,ap=.003796,ev=Math.sqrt(3)/2;function Ine(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function One(e){var t=Se(e.x-this.long0),r=e.y,i=Math.asin(ev*Math.sin(r)),s=i*i,n=s*s*s;return e.x=t*Math.cos(i)/(ev*(sp+3*np*s+n*(7*op+9*ap*s))),e.y=i*(sp+np*s+n*(op+ap*s)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Cne(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,r=12,i=e.y,s,n,o,a,l,c;for(c=0;c<r&&(s=i*i,n=s*s*s,o=i*(sp+np*s+n*(op+ap*s))-e.y,a=sp+3*np*s+n*(7*op+9*ap*s),i-=l=o/a,!(Math.abs(l)<t));++c);return s=i*i,n=s*s*s,e.x=ev*e.x*(sp+3*np*s+n*(7*op+9*ap*s))/Math.cos(i),e.y=Math.asin(Math.sin(i)/ev),e.x=Se(e.x+this.long0),e}var Pne=["eqearth","Equal Earth","Equal_Earth"];const Nne={init:Ine,forward:One,inverse:Cne,names:Pne};var rm=1e-10;function Lne(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<rm)throw new Error;this.es?(this.en=y3(this.es),this.m1=Gf(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Rne,this.forward=kne):(Math.abs(this.phi1)+rm>=fe?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=Fne,this.forward=Dne)}function kne(e){var t=Se(e.x-(this.long0||0)),r=e.y,i,s,n;return i=this.am1+this.m1-Gf(r,s=Math.sin(r),n=Math.cos(r),this.en),s=n*t/(i*Math.sqrt(1-this.es*s*s)),e.x=i*Math.sin(s),e.y=this.am1-i*Math.cos(s),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function Rne(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,r,i,s;if(r=ms(e.x,e.y=this.am1-e.y),s=g3(this.am1+this.m1-r,this.es,this.en),(t=Math.abs(s))<fe)t=Math.sin(s),i=r*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(s);else if(Math.abs(t-fe)<=rm)i=0;else throw new Error;return e.x=Se(i+(this.long0||0)),e.y=Wl(s),e}function Dne(e){var t=Se(e.x-(this.long0||0)),r=e.y,i,s;return s=this.cphi1+this.phi1-r,Math.abs(s)>rm?(e.x=s*Math.sin(i=t*Math.cos(r)/s),e.y=this.cphi1-s*Math.cos(i)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function Fne(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,r,i=ms(e.x,e.y=this.cphi1-e.y);if(r=this.cphi1+this.phi1-i,Math.abs(r)>fe)throw new Error;return Math.abs(Math.abs(r)-fe)<=rm?t=0:t=i*Math.atan2(e.x,e.y)/Math.cos(r),e.x=Se(t+(this.long0||0)),e.y=Wl(r),e}var Une=["bonne","Bonne (Werner lat_1=90)"];const jne={init:Lne,names:Une};function Bne(e){e.Proj.projections.add(eg),e.Proj.projections.add(tg),e.Proj.projections.add(Rre),e.Proj.projections.add(zre),e.Proj.projections.add(Zre),e.Proj.projections.add(rie),e.Proj.projections.add(lie),e.Proj.projections.add(die),e.Proj.projections.add(vie),e.Proj.projections.add(Sie),e.Proj.projections.add(jie),e.Proj.projections.add(Hie),e.Proj.projections.add(Zie),e.Proj.projections.add(ise),e.Proj.projections.add(lse),e.Proj.projections.add(dse),e.Proj.projections.add(vse),e.Proj.projections.add(Sse),e.Proj.projections.add(Ise),e.Proj.projections.add(Lse),e.Proj.projections.add(Use),e.Proj.projections.add(qse),e.Proj.projections.add(Jse),e.Proj.projections.add(ene),e.Proj.projections.add(nne),e.Proj.projections.add(dne),e.Proj.projections.add(vne),e.Proj.projections.add(Sne),e.Proj.projections.add(Mne),e.Proj.projections.add(Nne),e.Proj.projections.add(jne)}Dt.defaultDatum="WGS84";Dt.Proj=Oo;Dt.WGS84=new Dt.Proj("WGS84");Dt.Point=sf;Dt.toPoint=_R;Dt.defs=Bi;Dt.nadgrid=Fte;Dt.transform=Zg;Dt.mgrs=ere;Dt.version="__VERSION__";Bne(Dt);const Vne="EPSG:4326";class Gne{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Dt.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Dt.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Dt.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Dt.defs("EPSG:102100",Dt.defs("EPSG:3857")),Dt.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Dt.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let t=1;for(;t<=60;){const r=t<10?`0${t}`:t;Dt.defs(`EPSG:326${r}`,`+proj=utm +zone=${t} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),t++}}addProjection(t,r){t=typeof t=="number"?`EPSG:${t}`:t,Dt.defs(t,r)}defaultEpsgLookup(t){const r=/urn:ogc:def:crs:EPSG::(\d+)/,i=/EPSG:(\d+)/,s=String(t).match(r)||String(t).match(i)||[];if(s.length<2)throw new Error("Invalid code provided.");return new Promise((n,o)=>{const a=`https://epsg.io/${s[1]}.proj4`;Pr(a,{responseType:"text"}).then(u=>{u.data?n(u.data):o()},u=>{o(u)})})}epsgLookup(t){return this.espgWorker(t)}setEpsgLookup(t){this.espgWorker=t}normalizeProj(t){if(typeof t=="object"){if(t.wkid)return"EPSG:"+t.wkid;if(t.wkt)return t.wkt}else{if(typeof t=="number")return"EPSG:"+t;if(typeof t=="string")return t}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(t){let r,i="";try{r=this.normalizeProj(t)}catch{return!1}if(!r.startsWith("EPSG:"))return!0;typeof t=="object"&&t.latestWkid&&(i=this.normalizeProj(t.latestWkid));const s=(l,c)=>{l!==c&&Dt.defs(c,Dt.defs(l))};if(Dt.defs(r))return!0;if(i&&Dt.defs(i))return s(i,r),!0;const n=async l=>{try{const c=await this.epsgLookup(l);return c===null||c===""?!1:(Dt.defs(l,c),!0)}catch{return!1}};return await(i?n(i):Promise.resolve(!1))?(s(i,r),!0):n(r)}async checkProjBomber(t){if(t.length>0){const r=t.pop();if(await this.checkProj(r))return this.checkProjBomber(t);throw console.error("Unable to parse or locate projection information for this item:",r),new Error("Could not find projection information, see console for details")}}async projectGeoJson(t,r,i){let s,n;if(r?s=this.normalizeProj(r):s=je.parseGeoJsonCrs(t.crs),i?n=this.normalizeProj(i):n=Vne,n===s)return t;await this.checkProjBomber([s,n]);const o=Dt(s,n).forward;return Xee(t,o)}async projectGeometry(t,r){if(r.type===Ke.EXTENT)return this.projectExtent(t,r);await this.checkProjBomber([t,r.sr]);const i=r.toGeoJSON(),s=await this.projectGeoJson(i,this.normalizeProj(r.sr),this.normalizeProj(t)),n=Qc.geom.geomGeoJsonToRamp(s,r.id);return n.sr=je.parseSR(t),n}async projectExtent(t,r){const i=(b,S,w)=>{if(w===0)return[b,S];const T=[(b[0]+S[0])/2,(b[1]+S[1])/2];if(w===1)return[b,T,S];if(w>1){const x=i(b,T,w-1),_=i(T,S,w-1);return x.concat(_.slice(1))}return[[]]},s=r.toPolygonArray().pop()||[];let n=[];[0,1,2,3].map(b=>i(s[b],s[b+1],3).slice(1)).forEach(b=>n=n.concat(b));const o=new Ci("warpy",[n],r.sr,!0),a=await this.projectGeometry(t,o),l=a.toArray().pop()||[],c=l.map(b=>b[0]),u=l.map(b=>b[1]),d=Math.min.apply(null,c),p=Math.max.apply(null,c),y=Math.min.apply(null,u),v=Math.max.apply(null,u);return Qt.fromParams(r.id+"_projected",d,y,p,v,a.sr)}}class qne{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new Gne,this.geom=new Bee,this.sharedUtils=new zee}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(t){const r=i=>i.map(s=>({level:s[0],resolution:s[1],scale:s[2]}));if(t===this.DEFAULT_LAMBERT)return r([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(t===this.DEFAULT_MERCATOR)return r([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${t}`)}}class Dr{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(t){this.$iApi=t}}function zne(e){return typeof e=="function"&&e.render&&typeof e.render=="function"}function Hne(e){const t=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof e=="object"&&!e.functional&&t.some(r=>e[r]!==void 0)}function PR(e){return typeof e=="object"&&Object.keys(e).every(t=>typeof t=="string")&&Object.values(e).every(t=>t instanceof HTMLElement)}function Wne(e){return typeof e=="object"&&e.default!==void 0}var Dy={exports:{}},zM;function Yne(){if(zM)return Dy.exports;zM=1;function e(){}return e.prototype={on:function(t,r,i){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:r,ctx:i}),this},once:function(t,r,i){var s=this;function n(){s.off(t,n),r.apply(i,arguments)}return n._=r,this.on(t,n,i)},emit:function(t){var r=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),s=0,n=i.length;for(s;s<n;s++)i[s].fn.apply(i[s].ctx,r);return this},off:function(t,r){var i=this.e||(this.e={}),s=i[t],n=[];if(s&&r)for(var o=0,a=s.length;o<a;o++)s[o].fn!==r&&s[o].fn._!==r&&n.push(s[o]);return n.length?i[t]=n:delete i[t],this}},Dy.exports=e,Dy.exports.TinyEmitter=e,Dy.exports}var Jne=Yne();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qs(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const nt={},Fh=[],yi=()=>{},Fd=()=>!1,Eu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),w3=e=>e.startsWith("onUpdate:"),ot=Object.assign,x3=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Kne=Object.prototype.hasOwnProperty,_t=(e,t)=>Kne.call(e,t),Ee=Array.isArray,Uh=e=>qf(e)==="[object Map]",Au=e=>qf(e)==="[object Set]",HM=e=>qf(e)==="[object Date]",Zne=e=>qf(e)==="[object RegExp]",De=e=>typeof e=="function",Je=e=>typeof e=="string",$s=e=>typeof e=="symbol",Nt=e=>e!==null&&typeof e=="object",S3=e=>(Nt(e)||De(e))&&De(e.then)&&De(e.catch),NR=Object.prototype.toString,qf=e=>NR.call(e),Xne=e=>qf(e).slice(8,-1),J1=e=>qf(e)==="[object Object]",E3=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Il=qs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qne=qs("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),K1=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},eoe=/-(\w)/g,zt=K1(e=>e.replace(eoe,(t,r)=>r?r.toUpperCase():"")),toe=/\B([A-Z])/g,ys=K1(e=>e.replace(toe,"-$1").toLowerCase()),Yl=K1(e=>e.charAt(0).toUpperCase()+e.slice(1)),zc=K1(e=>e?`on${Yl(e)}`:""),Hi=(e,t)=>!Object.is(e,t),jh=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},LR=(e,t,r,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:r})},tv=e=>{const t=parseFloat(e);return isNaN(t)?e:t},rv=e=>{const t=Je(e)?Number(e):NaN;return isNaN(t)?e:t};let WM;const Z1=()=>WM||(WM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function roe(e,t){return e+JSON.stringify(t,(r,i)=>typeof i=="function"?i.toString():i)}const ioe="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",soe=qs(ioe);function Jl(e){if(Ee(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],s=Je(i)?kR(i):Jl(i);if(s)for(const n in s)t[n]=s[n]}return t}else if(Je(e)||Nt(e))return e}const noe=/;(?![^(]*\))/g,ooe=/:([^]+)/,aoe=/\/\*[^]*?\*\//g;function kR(e){const t={};return e.replace(aoe,"").split(noe).forEach(r=>{if(r){const i=r.split(ooe);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ur(e){let t="";if(Je(e))t=e;else if(Ee(e))for(let r=0;r<e.length;r++){const i=ur(e[r]);i&&(t+=i+" ")}else if(Nt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function RR(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Je(t)&&(e.class=ur(t)),r&&(e.style=Jl(r)),e}const loe="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",coe="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",uoe="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",hoe="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",foe=qs(loe),doe=qs(coe),poe=qs(uoe),moe=qs(hoe),yoe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",goe=qs(yoe);function DR(e){return!!e||e===""}function voe(e,t){if(e.length!==t.length)return!1;let r=!0;for(let i=0;r&&i<e.length;i++)r=jl(e[i],t[i]);return r}function jl(e,t){if(e===t)return!0;let r=HM(e),i=HM(t);if(r||i)return r&&i?e.getTime()===t.getTime():!1;if(r=$s(e),i=$s(t),r||i)return e===t;if(r=Ee(e),i=Ee(t),r||i)return r&&i?voe(e,t):!1;if(r=Nt(e),i=Nt(t),r||i){if(!r||!i)return!1;const s=Object.keys(e).length,n=Object.keys(t).length;if(s!==n)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!jl(e[o],t[o]))return!1}}return String(e)===String(t)}function X1(e,t){return e.findIndex(r=>jl(r,t))}const FR=e=>!!(e&&e.__v_isRef===!0),$t=e=>Je(e)?e:e==null?"":Ee(e)||Nt(e)&&(e.toString===NR||!De(e.toString))?FR(e)?$t(e.value):JSON.stringify(e,UR,2):String(e),UR=(e,t)=>FR(t)?UR(e,t.value):Uh(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,s],n)=>(r[V2(i,n)+" =>"]=s,r),{})}:Au(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>V2(r))}:$s(t)?V2(t):Nt(t)&&!Ee(t)&&!J1(t)?String(t):t,V2=(e,t="")=>{var r;return $s(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gi;class Q1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Gi,!t&&Gi&&(this.index=(Gi.scopes||(Gi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Gi;try{return Gi=this,t()}finally{Gi=r}}}on(){Gi=this}off(){Gi=this.parent}stop(t){if(this._active){this._active=!1;let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(this.effects.length=0,r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Km(e){return new Q1(e)}function eb(){return Gi}function A3(e,t=!1){Gi&&Gi.cleanups.push(e)}let Bt;const G2=new WeakSet;class of{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Gi&&Gi.active&&Gi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,G2.has(this)&&(G2.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||BR(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,YM(this),VR(this);const t=Bt,r=qn;Bt=this,qn=!0;try{return this.fn()}finally{GR(this),Bt=t,qn=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)M3(t);this.deps=this.depsTail=void 0,YM(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?G2.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cx(this)&&this.run()}get dirty(){return Cx(this)}}let jR=0,lp,cp;function BR(e,t=!1){if(e.flags|=8,t){e.next=cp,cp=e;return}e.next=lp,lp=e}function T3(){jR++}function $3(){if(--jR>0)return;if(cp){let t=cp;for(cp=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;lp;){let t=lp;for(lp=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=r}}if(e)throw e}function VR(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function GR(e){let t,r=e.depsTail,i=r;for(;i;){const s=i.prevDep;i.version===-1?(i===r&&(r=s),M3(i),boe(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}e.deps=t,e.depsTail=r}function Cx(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(qR(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function qR(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===im))return;e.globalVersion=im;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Cx(e)){e.flags&=-3;return}const r=Bt,i=qn;Bt=e,qn=!0;try{VR(e);const s=e.fn(e._value);(t.version===0||Hi(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Bt=r,qn=i,GR(e),e.flags&=-3}}function M3(e,t=!1){const{dep:r,prevSub:i,nextSub:s}=e;if(i&&(i.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=i,e.nextSub=void 0),r.subs===e&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let n=r.computed.deps;n;n=n.nextDep)M3(n,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function boe(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}function zR(e,t){e.effect instanceof of&&(e=e.effect.fn);const r=new of(e);t&&ot(r,t);try{r.run()}catch(s){throw r.stop(),s}const i=r.run.bind(r);return i.effect=r,i}function HR(e){e.effect.stop()}let qn=!0;const WR=[];function Kl(){WR.push(qn),qn=!1}function Zl(){const e=WR.pop();qn=e===void 0?!0:e}function YM(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Bt;Bt=void 0;try{t()}finally{Bt=r}}}let im=0;class _oe{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class tb{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Bt||!qn||Bt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Bt)r=this.activeLink=new _oe(Bt,this),Bt.deps?(r.prevDep=Bt.depsTail,Bt.depsTail.nextDep=r,Bt.depsTail=r):Bt.deps=Bt.depsTail=r,YR(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Bt.depsTail,r.nextDep=void 0,Bt.depsTail.nextDep=r,Bt.depsTail=r,Bt.deps===r&&(Bt.deps=i)}return r}trigger(t){this.version++,im++,this.notify(t)}notify(t){T3();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{$3()}}}function YR(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)YR(i)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const iv=new WeakMap,Hc=Symbol(""),Px=Symbol(""),sm=Symbol("");function Pi(e,t,r){if(qn&&Bt){let i=iv.get(e);i||iv.set(e,i=new Map);let s=i.get(r);s||(i.set(r,s=new tb),s.map=i,s.key=r),s.track()}}function wa(e,t,r,i,s,n){const o=iv.get(e);if(!o){im++;return}const a=l=>{l&&l.trigger()};if(T3(),t==="clear")o.forEach(a);else{const l=Ee(e),c=l&&E3(r);if(l&&r==="length"){const u=Number(i);o.forEach((d,p)=>{(p==="length"||p===sm||!$s(p)&&p>=u)&&a(d)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(sm)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Hc)),Uh(e)&&a(o.get(Px)));break;case"delete":l||(a(o.get(Hc)),Uh(e)&&a(o.get(Px)));break;case"set":Uh(e)&&a(o.get(Hc));break}}$3()}function woe(e,t){const r=iv.get(e);return r&&r.get(t)}function Gu(e){const t=Ve(e);return t===e?t:(Pi(t,"iterate",sm),ws(e)?t:t.map(Ni))}function rb(e){return Pi(e=Ve(e),"iterate",sm),e}const xoe={__proto__:null,[Symbol.iterator](){return q2(this,Symbol.iterator,Ni)},concat(...e){return Gu(this).concat(...e.map(t=>Ee(t)?Gu(t):t))},entries(){return q2(this,"entries",e=>(e[1]=Ni(e[1]),e))},every(e,t){return Ko(this,"every",e,t,void 0,arguments)},filter(e,t){return Ko(this,"filter",e,t,r=>r.map(Ni),arguments)},find(e,t){return Ko(this,"find",e,t,Ni,arguments)},findIndex(e,t){return Ko(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ko(this,"findLast",e,t,Ni,arguments)},findLastIndex(e,t){return Ko(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ko(this,"forEach",e,t,void 0,arguments)},includes(...e){return z2(this,"includes",e)},indexOf(...e){return z2(this,"indexOf",e)},join(e){return Gu(this).join(e)},lastIndexOf(...e){return z2(this,"lastIndexOf",e)},map(e,t){return Ko(this,"map",e,t,void 0,arguments)},pop(){return ld(this,"pop")},push(...e){return ld(this,"push",e)},reduce(e,...t){return JM(this,"reduce",e,t)},reduceRight(e,...t){return JM(this,"reduceRight",e,t)},shift(){return ld(this,"shift")},some(e,t){return Ko(this,"some",e,t,void 0,arguments)},splice(...e){return ld(this,"splice",e)},toReversed(){return Gu(this).toReversed()},toSorted(e){return Gu(this).toSorted(e)},toSpliced(...e){return Gu(this).toSpliced(...e)},unshift(...e){return ld(this,"unshift",e)},values(){return q2(this,"values",Ni)}};function q2(e,t,r){const i=rb(e),s=i[t]();return i!==e&&!ws(e)&&(s._next=s.next,s.next=()=>{const n=s._next();return n.value&&(n.value=r(n.value)),n}),s}const Soe=Array.prototype;function Ko(e,t,r,i,s,n){const o=rb(e),a=o!==e&&!ws(e),l=o[t];if(l!==Soe[t]){const d=l.apply(e,n);return a?Ni(d):d}let c=r;o!==e&&(a?c=function(d,p){return r.call(this,Ni(d),p,e)}:r.length>2&&(c=function(d,p){return r.call(this,d,p,e)}));const u=l.call(o,c,i);return a&&s?s(u):u}function JM(e,t,r,i){const s=rb(e);let n=r;return s!==e&&(ws(e)?r.length>3&&(n=function(o,a,l){return r.call(this,o,a,l,e)}):n=function(o,a,l){return r.call(this,o,Ni(a),l,e)}),s[t](n,...i)}function z2(e,t,r){const i=Ve(e);Pi(i,"iterate",sm);const s=i[t](...r);return(s===-1||s===!1)&&Zm(r[0])?(r[0]=Ve(r[0]),i[t](...r)):s}function ld(e,t,r=[]){Kl(),T3();const i=Ve(e)[t].apply(e,r);return $3(),Zl(),i}const Eoe=qs("__proto__,__v_isRef,__isVue"),JR=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($s));function Aoe(e){$s(e)||(e=String(e));const t=Ve(this);return Pi(t,"has",e),t.hasOwnProperty(e)}class KR{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,i){if(r==="__v_skip")return t.__v_skip;const s=this._isReadonly,n=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return n;if(r==="__v_raw")return i===(s?n?r8:t8:n?e8:QR).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=Ee(t);if(!s){let l;if(o&&(l=xoe[r]))return l;if(r==="hasOwnProperty")return Aoe}const a=Reflect.get(t,r,ht(t)?t:i);return($s(r)?JR.has(r):Eoe(r))||(s||Pi(t,"get",r),n)?a:ht(a)?o&&E3(r)?a:a.value:Nt(a)?s?sb(a):ui(a):a}}class ZR extends KR{constructor(t=!1){super(!1,t)}set(t,r,i,s){let n=t[r];if(!this._isShallow){const l=Ca(n);if(!ws(i)&&!Ca(i)&&(n=Ve(n),i=Ve(i)),!Ee(t)&&ht(n)&&!ht(i))return l?!1:(n.value=i,!0)}const o=Ee(t)&&E3(r)?Number(r)<t.length:_t(t,r),a=Reflect.set(t,r,i,ht(t)?t:s);return t===Ve(s)&&(o?Hi(i,n)&&wa(t,"set",r,i):wa(t,"add",r,i)),a}deleteProperty(t,r){const i=_t(t,r);t[r];const s=Reflect.deleteProperty(t,r);return s&&i&&wa(t,"delete",r,void 0),s}has(t,r){const i=Reflect.has(t,r);return(!$s(r)||!JR.has(r))&&Pi(t,"has",r),i}ownKeys(t){return Pi(t,"iterate",Ee(t)?"length":Hc),Reflect.ownKeys(t)}}class XR extends KR{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const Toe=new ZR,$oe=new XR,Moe=new ZR(!0),Ioe=new XR(!0),Nx=e=>e,Fy=e=>Reflect.getPrototypeOf(e);function Ooe(e,t,r){return function(...i){const s=this.__v_raw,n=Ve(s),o=Uh(n),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...i),u=r?Nx:t?Lx:Ni;return!t&&Pi(n,"iterate",l?Px:Hc),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[u(d[0]),u(d[1])]:u(d),done:p}},[Symbol.iterator](){return this}}}}function Uy(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Coe(e,t){const r={get(s){const n=this.__v_raw,o=Ve(n),a=Ve(s);e||(Hi(s,a)&&Pi(o,"get",s),Pi(o,"get",a));const{has:l}=Fy(o),c=t?Nx:e?Lx:Ni;if(l.call(o,s))return c(n.get(s));if(l.call(o,a))return c(n.get(a));n!==o&&n.get(s)},get size(){const s=this.__v_raw;return!e&&Pi(Ve(s),"iterate",Hc),Reflect.get(s,"size",s)},has(s){const n=this.__v_raw,o=Ve(n),a=Ve(s);return e||(Hi(s,a)&&Pi(o,"has",s),Pi(o,"has",a)),s===a?n.has(s):n.has(s)||n.has(a)},forEach(s,n){const o=this,a=o.__v_raw,l=Ve(a),c=t?Nx:e?Lx:Ni;return!e&&Pi(l,"iterate",Hc),a.forEach((u,d)=>s.call(n,c(u),c(d),o))}};return ot(r,e?{add:Uy("add"),set:Uy("set"),delete:Uy("delete"),clear:Uy("clear")}:{add(s){!t&&!ws(s)&&!Ca(s)&&(s=Ve(s));const n=Ve(this);return Fy(n).has.call(n,s)||(n.add(s),wa(n,"add",s,s)),this},set(s,n){!t&&!ws(n)&&!Ca(n)&&(n=Ve(n));const o=Ve(this),{has:a,get:l}=Fy(o);let c=a.call(o,s);c||(s=Ve(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,n),c?Hi(n,u)&&wa(o,"set",s,n):wa(o,"add",s,n),this},delete(s){const n=Ve(this),{has:o,get:a}=Fy(n);let l=o.call(n,s);l||(s=Ve(s),l=o.call(n,s)),a&&a.call(n,s);const c=n.delete(s);return l&&wa(n,"delete",s,void 0),c},clear(){const s=Ve(this),n=s.size!==0,o=s.clear();return n&&wa(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=Ooe(s,e,t)}),r}function ib(e,t){const r=Coe(e,t);return(i,s,n)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(_t(r,s)&&s in i?r:i,s,n)}const Poe={get:ib(!1,!1)},Noe={get:ib(!1,!0)},Loe={get:ib(!0,!1)},koe={get:ib(!0,!0)},QR=new WeakMap,e8=new WeakMap,t8=new WeakMap,r8=new WeakMap;function Roe(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Doe(e){return e.__v_skip||!Object.isExtensible(e)?0:Roe(Xne(e))}function ui(e){return Ca(e)?e:nb(e,!1,Toe,Poe,QR)}function I3(e){return nb(e,!1,Moe,Noe,e8)}function sb(e){return nb(e,!0,$oe,Loe,t8)}function i8(e){return nb(e,!0,Ioe,koe,r8)}function nb(e,t,r,i,s){if(!Nt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=s.get(e);if(n)return n;const o=Doe(e);if(o===0)return e;const a=new Proxy(e,o===2?i:r);return s.set(e,a),a}function _s(e){return Ca(e)?_s(e.__v_raw):!!(e&&e.__v_isReactive)}function Ca(e){return!!(e&&e.__v_isReadonly)}function ws(e){return!!(e&&e.__v_isShallow)}function Zm(e){return e?!!e.__v_raw:!1}function Ve(e){const t=e&&e.__v_raw;return t?Ve(t):e}function ir(e){return!_t(e,"__v_skip")&&Object.isExtensible(e)&&LR(e,"__v_skip",!0),e}const Ni=e=>Nt(e)?ui(e):e,Lx=e=>Nt(e)?sb(e):e;function ht(e){return e?e.__v_isRef===!0:!1}function X(e){return s8(e,!1)}function zf(e){return s8(e,!0)}function s8(e,t){return ht(e)?e:new Foe(e,t)}class Foe{constructor(t,r){this.dep=new tb,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Ve(t),this._value=r?t:Ni(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,i=this.__v_isShallow||ws(t)||Ca(t);t=i?t:Ve(t),Hi(t,r)&&(this._rawValue=t,this._value=i?t:Ni(t),this.dep.trigger())}}function n8(e){e.dep&&e.dep.trigger()}function Me(e){return ht(e)?e.value:e}function o8(e){return De(e)?e():Me(e)}const Uoe={get:(e,t,r)=>t==="__v_raw"?e:Me(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const s=e[t];return ht(s)&&!ht(r)?(s.value=r,!0):Reflect.set(e,t,r,i)}};function ob(e){return _s(e)?e:new Proxy(e,Uoe)}class joe{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new tb,{get:i,set:s}=t(r.track.bind(r),r.trigger.bind(r));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function O3(e){return new joe(e)}function C3(e){const t=Ee(e)?new Array(e.length):{};for(const r in e)t[r]=a8(e,r);return t}class Boe{constructor(t,r,i){this._object=t,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return woe(Ve(this._object),this._key)}}class Voe{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function P3(e,t,r){return ht(e)?e:De(e)?new Voe(e):Nt(e)&&arguments.length>1?a8(e,t,r):X(e)}function a8(e,t,r){const i=e[t];return ht(i)?i:new Boe(e,t,r)}class Goe{constructor(t,r,i){this.fn=t,this.setter=r,this._value=void 0,this.dep=new tb(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=im-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Bt!==this)return BR(this,!0),!0}get value(){const t=this.dep.track();return qR(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function qoe(e,t,r=!1){let i,s;return De(e)?i=e:(i=e.get,s=e.set),new Goe(i,s,r)}const l8={GET:"get",HAS:"has",ITERATE:"iterate"},c8={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},jy={},sv=new WeakMap;let ll;function u8(){return ll}function N3(e,t=!1,r=ll){if(r){let i=sv.get(r);i||sv.set(r,i=[]),i.push(e)}}function zoe(e,t,r=nt){const{immediate:i,deep:s,once:n,scheduler:o,augmentJob:a,call:l}=r,c=_=>s?_:ws(_)||s===!1||s===0?xa(_,1):xa(_);let u,d,p,y,v=!1,b=!1;if(ht(e)?(d=()=>e.value,v=ws(e)):_s(e)?(d=()=>c(e),v=!0):Ee(e)?(b=!0,v=e.some(_=>_s(_)||ws(_)),d=()=>e.map(_=>{if(ht(_))return _.value;if(_s(_))return c(_);if(De(_))return l?l(_,2):_()})):De(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){Kl();try{p()}finally{Zl()}}const _=ll;ll=u;try{return l?l(e,3,[y]):e(y)}finally{ll=_}}:d=yi,t&&s){const _=d,$=s===!0?1/0:s;d=()=>xa(_(),$)}const S=eb(),w=()=>{u.stop(),S&&S.active&&x3(S.effects,u)};if(n&&t){const _=t;t=(...$)=>{_(...$),w()}}let T=b?new Array(e.length).fill(jy):jy;const x=_=>{if(!(!(u.flags&1)||!u.dirty&&!_))if(t){const $=u.run();if(s||v||(b?$.some((M,N)=>Hi(M,T[N])):Hi($,T))){p&&p();const M=ll;ll=u;try{const N=[$,T===jy?void 0:b&&T[0]===jy?[]:T,y];l?l(t,3,N):t(...N),T=$}finally{ll=M}}}else u.run()};return a&&a(x),u=new of(d),u.scheduler=o?()=>o(x,!1):x,y=_=>N3(_,!1,u),p=u.onStop=()=>{const _=sv.get(u);if(_){if(l)l(_,4);else for(const $ of _)$();sv.delete(u)}},t?i?x(!0):T=u.run():o?o(x.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function xa(e,t=1/0,r){if(t<=0||!Nt(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,ht(e))xa(e.value,t,r);else if(Ee(e))for(let i=0;i<e.length;i++)xa(e[i],t,r);else if(Au(e)||Uh(e))e.forEach(i=>{xa(i,t,r)});else if(J1(e)){for(const i in e)xa(e[i],t,r);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&xa(e[i],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const h8=[];function Hoe(e){h8.push(e)}function Woe(){h8.pop()}function f8(e,t){}const d8={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},Yoe={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Tu(e,t,r,i){try{return i?e(...i):e()}catch(s){Xl(s,t,r)}}function Vs(e,t,r,i){if(De(e)){const s=Tu(e,t,r,i);return s&&S3(s)&&s.catch(n=>{Xl(n,t,r)}),s}if(Ee(e)){const s=[];for(let n=0;n<e.length;n++)s.push(Vs(e[n],t,r,i));return s}}function Xl(e,t,r,i=!0){const s=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||nt;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(n){Kl(),Tu(n,null,10,[e,l,c]),Zl();return}}Joe(e,r,s,i,o)}function Joe(e,t,r,i=!0,s=!1){if(s)throw e;console.error(e)}const Wi=[];let go=-1;const Bh=[];let cl=null,ih=0;const p8=Promise.resolve();let nv=null;function io(e){const t=nv||p8;return e?t.then(this?e.bind(this):e):t}function Koe(e){let t=go+1,r=Wi.length;for(;t<r;){const i=t+r>>>1,s=Wi[i],n=nm(s);n<e||n===e&&s.flags&2?t=i+1:r=i}return t}function L3(e){if(!(e.flags&1)){const t=nm(e),r=Wi[Wi.length-1];!r||!(e.flags&2)&&t>=nm(r)?Wi.push(e):Wi.splice(Koe(t),0,e),e.flags|=1,m8()}}function m8(){nv||(nv=p8.then(y8))}function af(e){Ee(e)?Bh.push(...e):cl&&e.id===-1?cl.splice(ih+1,0,e):e.flags&1||(Bh.push(e),e.flags|=1),m8()}function KM(e,t,r=go+1){for(;r<Wi.length;r++){const i=Wi[r];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Wi.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function ov(e){if(Bh.length){const t=[...new Set(Bh)].sort((r,i)=>nm(r)-nm(i));if(Bh.length=0,cl){cl.push(...t);return}for(cl=t,ih=0;ih<cl.length;ih++){const r=cl[ih];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}cl=null,ih=0}}const nm=e=>e.id==null?e.flags&2?-1:1/0:e.id;function y8(e){try{for(go=0;go<Wi.length;go++){const t=Wi[go];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Tu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;go<Wi.length;go++){const t=Wi[go];t&&(t.flags&=-2)}go=-1,Wi.length=0,ov(),nv=null,(Wi.length||Bh.length)&&y8()}}let sh,By=[];function g8(e,t){var r,i;sh=e,sh?(sh.enabled=!0,By.forEach(({event:s,args:n})=>sh.emit(s,...n)),By=[]):typeof window<"u"&&window.HTMLElement&&!((i=(r=window.navigator)==null?void 0:r.userAgent)!=null&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(n=>{g8(n,t)}),setTimeout(()=>{sh||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,By=[])},3e3)):By=[]}let Xr=null,ab=null;function om(e){const t=Xr;return Xr=e,ab=e&&e.type.__scopeId||null,t}function v8(e){ab=e}function b8(){ab=null}const _8=e=>Rr;function Rr(e,t=Xr,r){if(!t||e._n)return e;const i=(...s)=>{i._d&&hv(-1);const n=om(t);let o;try{o=e(...s)}finally{om(n),i._d&&hv(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function It(e,t){if(Xr===null)return e;const r=ty(Xr),i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[n,o,a,l=nt]=t[s];n&&(De(n)&&(n={mounted:n,updated:n}),n.deep&&xa(o),i.push({dir:n,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function _o(e,t,r,i){const s=e.dirs,n=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];n&&(a.oldValue=n[o].value);let l=a.dir[i];l&&(Kl(),Vs(l,r,8,[e.el,a,e,t]),Zl())}}const w8=Symbol("_vte"),x8=e=>e.__isTeleport,up=e=>e&&(e.disabled||e.disabled===""),ZM=e=>e&&(e.defer||e.defer===""),XM=e=>typeof SVGElement<"u"&&e instanceof SVGElement,QM=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,kx=(e,t)=>{const r=e&&e.to;return Je(r)?t?t(r):null:r},S8={name:"Teleport",__isTeleport:!0,process(e,t,r,i,s,n,o,a,l,c){const{mc:u,pc:d,pbc:p,o:{insert:y,querySelector:v,createText:b,createComment:S}}=c,w=up(t.props);let{shapeFlag:T,children:x,dynamicChildren:_}=t;if(e==null){const $=t.el=b(""),M=t.anchor=b("");y($,r,i),y(M,r,i);const N=(P,k)=>{T&16&&(s&&s.isCE&&(s.ce._teleportTarget=P),u(x,P,k,s,n,o,a,l))},C=()=>{const P=t.target=kx(t.props,v),k=E8(P,t,b,y);P&&(o!=="svg"&&XM(P)?o="svg":o!=="mathml"&&QM(P)&&(o="mathml"),w||(N(P,k),rg(t,!1)))};w&&(N(r,M),rg(t,!0)),ZM(t.props)?zr(()=>{C(),t.el.__isMounted=!0},n):C()}else{if(ZM(t.props)&&!e.el.__isMounted){zr(()=>{S8.process(e,t,r,i,s,n,o,a,l,c),delete e.el.__isMounted},n);return}t.el=e.el,t.targetStart=e.targetStart;const $=t.anchor=e.anchor,M=t.target=e.target,N=t.targetAnchor=e.targetAnchor,C=up(e.props),P=C?r:M,k=C?$:N;if(o==="svg"||XM(M)?o="svg":(o==="mathml"||QM(M))&&(o="mathml"),_?(p(e.dynamicChildren,_,P,s,n,o,a),tA(e,t,!0)):l||d(e,t,P,k,s,n,o,a,!1),w)C?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Vy(t,r,$,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const V=t.target=kx(t.props,v);V&&Vy(t,V,null,c,0)}else C&&Vy(t,M,N,c,1);rg(t,w)}},remove(e,t,r,{um:i,o:{remove:s}},n){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:p}=e;if(d&&(s(c),s(u)),n&&s(l),o&16){const y=n||!up(p);for(let v=0;v<a.length;v++){const b=a[v];i(b,t,r,y,!!b.dynamicChildren)}}},move:Vy,hydrate:Zoe};function Vy(e,t,r,{o:{insert:i},m:s},n=2){n===0&&i(e.targetAnchor,t,r);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=e,d=n===2;if(d&&i(o,t,r),(!d||up(u))&&l&16)for(let p=0;p<c.length;p++)s(c[p],t,r,2);d&&i(a,t,r)}function Zoe(e,t,r,i,s,n,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const p=t.target=kx(t.props,l);if(p){const y=up(t.props),v=p._lpa||p.firstChild;if(t.shapeFlag&16)if(y)t.anchor=d(o(e),t,a(e),r,i,s,n),t.targetStart=v,t.targetAnchor=v&&o(v);else{t.anchor=o(e);let b=v;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")t.targetStart=b;else if(b.data==="teleport anchor"){t.targetAnchor=b,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}b=o(b)}t.targetAnchor||E8(p,t,u,c),d(v&&o(v),t,p,r,i,s,n)}rg(t,y)}return t.anchor&&o(t.anchor)}const k3=S8;function rg(e,t){const r=e.ctx;if(r&&r.ut){let i,s;for(t?(i=e.el,s=e.anchor):(i=e.targetStart,s=e.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",r.uid),i=i.nextSibling;r.ut()}}function E8(e,t,r,i){const s=t.targetStart=r(""),n=t.targetAnchor=r("");return s[w8]=n,e&&(i(s,e),i(n,e)),n}const ul=Symbol("_leaveCb"),Gy=Symbol("_enterCb");function lb(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vi(()=>{e.isMounted=!0}),so(()=>{e.isUnmounting=!0}),e}const Ys=[Function,Array],cb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ys,onEnter:Ys,onAfterEnter:Ys,onEnterCancelled:Ys,onBeforeLeave:Ys,onLeave:Ys,onAfterLeave:Ys,onLeaveCancelled:Ys,onBeforeAppear:Ys,onAppear:Ys,onAfterAppear:Ys,onAppearCancelled:Ys},A8=e=>{const t=e.subTree;return t.component?A8(t.component):t},Xoe={name:"BaseTransition",props:cb,setup(e,{slots:t}){const r=Vr(),i=lb();return()=>{const s=t.default&&Xm(t.default(),!0);if(!s||!s.length)return;const n=T8(s),o=Ve(e),{mode:a}=o;if(i.isLeaving)return H2(n);const l=eI(n);if(!l)return H2(n);let c=du(l,o,i,r,d=>c=d);l.type!==Or&&Bo(l,c);let u=r.subTree&&eI(r.subTree);if(u&&u.type!==Or&&!Cn(l,u)&&A8(r).type!==Or){let d=du(u,o,i,r);if(Bo(u,d),a==="out-in"&&l.type!==Or)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,u=void 0},H2(n);a==="in-out"&&l.type!==Or?d.delayLeave=(p,y,v)=>{const b=$8(i,u);b[String(u.key)]=u,p[ul]=()=>{y(),p[ul]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return n}}};function T8(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==Or){t=r;break}}return t}const R3=Xoe;function $8(e,t){const{leavingVNodes:r}=e;let i=r.get(t.type);return i||(i=Object.create(null),r.set(t.type,i)),i}function du(e,t,r,i,s){const{appear:n,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:p,onLeave:y,onAfterLeave:v,onLeaveCancelled:b,onBeforeAppear:S,onAppear:w,onAfterAppear:T,onAppearCancelled:x}=t,_=String(e.key),$=$8(r,e),M=(P,k)=>{P&&Vs(P,i,9,k)},N=(P,k)=>{const V=k[1];M(P,k),Ee(P)?P.every(U=>U.length<=1)&&V():P.length<=1&&V()},C={mode:o,persisted:a,beforeEnter(P){let k=l;if(!r.isMounted)if(n)k=S||l;else return;P[ul]&&P[ul](!0);const V=$[_];V&&Cn(e,V)&&V.el[ul]&&V.el[ul](),M(k,[P])},enter(P){let k=c,V=u,U=d;if(!r.isMounted)if(n)k=w||c,V=T||u,U=x||d;else return;let j=!1;const Y=P[Gy]=f=>{j||(j=!0,f?M(U,[P]):M(V,[P]),C.delayedLeave&&C.delayedLeave(),P[Gy]=void 0)};k?N(k,[P,Y]):Y()},leave(P,k){const V=String(e.key);if(P[Gy]&&P[Gy](!0),r.isUnmounting)return k();M(p,[P]);let U=!1;const j=P[ul]=Y=>{U||(U=!0,k(),Y?M(b,[P]):M(v,[P]),P[ul]=void 0,$[V]===e&&delete $[V])};$[V]=e,y?N(y,[P,j]):j()},clone(P){const k=du(P,t,r,i,s);return s&&s(k),k}};return C}function H2(e){if(Qm(e))return e=Qn(e),e.children=null,e}function eI(e){if(!Qm(e))return x8(e.type)&&e.children?T8(e.children):e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&De(r.default))return r.default()}}function Bo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Bo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Xm(e,t=!1,r){let i=[],s=0;for(let n=0;n<e.length;n++){let o=e[n];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:n);o.type===kt?(o.patchFlag&128&&s++,i=i.concat(Xm(o.children,t,a))):(t||o.type!==Or)&&i.push(a!=null?Qn(o,{key:a}):o)}if(s>1)for(let n=0;n<i.length;n++)i[n].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function st(e,t){return De(e)?ot({name:e.name},t,{setup:e}):e}function M8(){const e=Vr();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function D3(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function av(e){const t=Vr(),r=zf(null);if(t){const s=t.refs===nt?t.refs={}:t.refs;Object.defineProperty(s,e,{enumerable:!0,get:()=>r.value,set:n=>r.value=n})}return r}function am(e,t,r,i,s=!1){if(Ee(e)){e.forEach((v,b)=>am(v,t&&(Ee(t)?t[b]:t),r,i,s));return}if(Ol(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&am(e,t,r,i.component.subTree);return}const n=i.shapeFlag&4?ty(i.component):i.el,o=s?null:n,{i:a,r:l}=e,c=t&&t.r,u=a.refs===nt?a.refs={}:a.refs,d=a.setupState,p=Ve(d),y=d===nt?()=>!1:v=>_t(p,v);if(c!=null&&c!==l&&(Je(c)?(u[c]=null,y(c)&&(d[c]=null)):ht(c)&&(c.value=null)),De(l))Tu(l,a,12,[o,u]);else{const v=Je(l),b=ht(l);if(v||b){const S=()=>{if(e.f){const w=v?y(l)?d[l]:u[l]:l.value;s?Ee(w)&&x3(w,n):Ee(w)?w.includes(n)||w.push(n):v?(u[l]=[n],y(l)&&(d[l]=u[l])):(l.value=[n],e.k&&(u[e.k]=l.value))}else v?(u[l]=o,y(l)&&(d[l]=o)):b&&(l.value=o,e.k&&(u[e.k]=o))};o?(S.id=-1,zr(S,r)):S()}}}let tI=!1;const qu=()=>{tI||(console.error("Hydration completed but contains mismatches."),tI=!0)},Qoe=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",eae=e=>e.namespaceURI.includes("MathML"),qy=e=>{if(e.nodeType===1){if(Qoe(e))return"svg";if(eae(e))return"mathml"}},Eh=e=>e.nodeType===8;function tae(e){const{mt:t,p:r,o:{patchProp:i,createText:s,nextSibling:n,parentNode:o,remove:a,insert:l,createComment:c}}=e,u=(x,_)=>{if(!_.hasChildNodes()){r(null,x,_),ov(),_._vnode=x;return}d(_.firstChild,x,null,null,null),ov(),_._vnode=x},d=(x,_,$,M,N,C=!1)=>{C=C||!!_.dynamicChildren;const P=Eh(x)&&x.data==="[",k=()=>b(x,_,$,M,N,P),{type:V,ref:U,shapeFlag:j,patchFlag:Y}=_;let f=x.nodeType;_.el=x,Y===-2&&(C=!1,_.dynamicChildren=null);let m=null;switch(V){case Co:f!==3?_.children===""?(l(_.el=s(""),o(x),x),m=x):m=k():(x.data!==_.children&&(qu(),x.data=_.children),m=n(x));break;case Or:T(x)?(m=n(x),w(_.el=x.content.firstChild,x,$)):f!==8||P?m=k():m=n(x);break;case Cl:if(P&&(x=n(x),f=x.nodeType),f===1||f===3){m=x;const E=!_.children.length;for(let O=0;O<_.staticCount;O++)E&&(_.children+=m.nodeType===1?m.outerHTML:m.data),O===_.staticCount-1&&(_.anchor=m),m=n(m);return P?n(m):m}else k();break;case kt:P?m=v(x,_,$,M,N,C):m=k();break;default:if(j&1)(f!==1||_.type.toLowerCase()!==x.tagName.toLowerCase())&&!T(x)?m=k():m=p(x,_,$,M,N,C);else if(j&6){_.slotScopeIds=N;const E=o(x);if(P?m=S(x):Eh(x)&&x.data==="teleport start"?m=S(x,x.data,"teleport end"):m=n(x),t(_,E,null,$,M,qy(E),C),Ol(_)&&!_.type.__asyncResolved){let O;P?(O=Ze(kt),O.anchor=m?m.previousSibling:E.lastChild):O=x.nodeType===3?Po(""):Ze("div"),O.el=x,_.component.subTree=O}}else j&64?f!==8?m=k():m=_.type.hydrate(x,_,$,M,N,C,e,y):j&128&&(m=_.type.hydrate(x,_,$,M,qy(o(x)),N,C,e,d))}return U!=null&&am(U,null,M,_),m},p=(x,_,$,M,N,C)=>{C=C||!!_.dynamicChildren;const{type:P,props:k,patchFlag:V,shapeFlag:U,dirs:j,transition:Y}=_,f=P==="input"||P==="option";if(f||V!==-1){j&&_o(_,null,$,"created");let m=!1;if(T(x)){m=u9(null,Y)&&$&&$.vnode.props&&$.vnode.props.appear;const O=x.content.firstChild;m&&Y.beforeEnter(O),w(O,x,$),_.el=x=O}if(U&16&&!(k&&(k.innerHTML||k.textContent))){let O=y(x.firstChild,_,x,$,M,N,C);for(;O;){zy(x,1)||qu();const G=O;O=O.nextSibling,a(G)}}else if(U&8){let O=_.children;O[0]===`
`&&(x.tagName==="PRE"||x.tagName==="TEXTAREA")&&(O=O.slice(1)),x.textContent!==O&&(zy(x,0)||qu(),x.textContent=_.children)}if(k){if(f||!C||V&48){const O=x.tagName.includes("-");for(const G in k)(f&&(G.endsWith("value")||G==="indeterminate")||Eu(G)&&!Il(G)||G[0]==="."||O)&&i(x,G,null,k[G],void 0,$)}else if(k.onClick)i(x,"onClick",null,k.onClick,void 0,$);else if(V&4&&_s(k.style))for(const O in k.style)k.style[O]}let E;(E=k&&k.onVnodeBeforeMount)&&cs(E,$,_),j&&_o(_,null,$,"beforeMount"),((E=k&&k.onVnodeMounted)||j||m)&&_9(()=>{E&&cs(E,$,_),m&&Y.enter(x),j&&_o(_,null,$,"mounted")},M)}return x.nextSibling},y=(x,_,$,M,N,C,P)=>{P=P||!!_.dynamicChildren;const k=_.children,V=k.length;for(let U=0;U<V;U++){const j=P?k[U]:k[U]=ds(k[U]),Y=j.type===Co;x?(Y&&!P&&U+1<V&&ds(k[U+1]).type===Co&&(l(s(x.data.slice(j.children.length)),$,n(x)),x.data=j.children),x=d(x,j,M,N,C,P)):Y&&!j.children?l(j.el=s(""),$):(zy($,1)||qu(),r(null,j,$,null,M,N,qy($),C))}return x},v=(x,_,$,M,N,C)=>{const{slotScopeIds:P}=_;P&&(N=N?N.concat(P):P);const k=o(x),V=y(n(x),_,k,$,M,N,C);return V&&Eh(V)&&V.data==="]"?n(_.anchor=V):(qu(),l(_.anchor=c("]"),k,V),V)},b=(x,_,$,M,N,C)=>{if(zy(x.parentElement,1)||qu(),_.el=null,C){const V=S(x);for(;;){const U=n(x);if(U&&U!==V)a(U);else break}}const P=n(x),k=o(x);return a(x),r(null,_,k,P,$,M,qy(k),N),$&&($.vnode.el=_.el,pb($,_.el)),P},S=(x,_="[",$="]")=>{let M=0;for(;x;)if(x=n(x),x&&Eh(x)&&(x.data===_&&M++,x.data===$)){if(M===0)return n(x);M--}return x},w=(x,_,$)=>{const M=_.parentNode;M&&M.replaceChild(x,_);let N=$;for(;N;)N.vnode.el===_&&(N.vnode.el=N.subTree.el=x),N=N.parent},T=x=>x.nodeType===1&&x.tagName==="TEMPLATE";return[u,d]}const rI="data-allow-mismatch",rae={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function zy(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(rI);)e=e.parentElement;const r=e&&e.getAttribute(rI);if(r==null)return!1;if(r==="")return!0;{const i=r.split(",");return t===0&&i.includes("children")?!0:r.split(",").includes(rae[t])}}const iae=Z1().requestIdleCallback||(e=>setTimeout(e,1)),sae=Z1().cancelIdleCallback||(e=>clearTimeout(e)),I8=(e=1e4)=>t=>{const r=iae(t,{timeout:e});return()=>sae(r)};function nae(e){const{top:t,left:r,bottom:i,right:s}=e.getBoundingClientRect(),{innerHeight:n,innerWidth:o}=window;return(t>0&&t<n||i>0&&i<n)&&(r>0&&r<o||s>0&&s<o)}const O8=e=>(t,r)=>{const i=new IntersectionObserver(s=>{for(const n of s)if(n.isIntersecting){i.disconnect(),t();break}},e);return r(s=>{if(s instanceof Element){if(nae(s))return t(),i.disconnect(),!1;i.observe(s)}}),()=>i.disconnect()},C8=e=>t=>{if(e){const r=matchMedia(e);if(r.matches)t();else return r.addEventListener("change",t,{once:!0}),()=>r.removeEventListener("change",t)}},P8=(e=[])=>(t,r)=>{Je(e)&&(e=[e]);let i=!1;const s=o=>{i||(i=!0,n(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},n=()=>{r(o=>{for(const a of e)o.removeEventListener(a,s)})};return r(o=>{for(const a of e)o.addEventListener(a,s,{once:!0})}),n};function oae(e,t){if(Eh(e)&&e.data==="["){let r=1,i=e.nextSibling;for(;i;){if(i.nodeType===1){if(t(i)===!1)break}else if(Eh(i))if(i.data==="]"){if(--r===0)break}else i.data==="["&&r++;i=i.nextSibling}}else t(e)}const Ol=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function F3(e){De(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:i,delay:s=200,hydrate:n,timeout:o,suspensible:a=!0,onError:l}=e;let c=null,u,d=0;const p=()=>(d++,c=null,y()),y=()=>{let v;return c||(v=c=t().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((S,w)=>{l(b,()=>S(p()),()=>w(b),d+1)});throw b}).then(b=>v!==c&&c?c:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),u=b,b)))};return st({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(v,b,S){const w=n?()=>{const T=n(S,x=>oae(v,x));T&&(b.bum||(b.bum=[])).push(T)}:S;u?w():y().then(()=>!b.isUnmounted&&w())},get __asyncResolved(){return u},setup(){const v=Kr;if(D3(v),u)return()=>W2(u,v);const b=x=>{c=null,Xl(x,v,13,!i)};if(a&&v.suspense||lf)return y().then(x=>()=>W2(x,v)).catch(x=>(b(x),()=>i?Ze(i,{error:x}):null));const S=X(!1),w=X(),T=X(!!s);return s&&setTimeout(()=>{T.value=!1},s),o!=null&&setTimeout(()=>{if(!S.value&&!w.value){const x=new Error(`Async component timed out after ${o}ms.`);b(x),w.value=x}},o),y().then(()=>{S.value=!0,v.parent&&Qm(v.parent.vnode)&&v.parent.update()}).catch(x=>{b(x),w.value=x}),()=>{if(S.value&&u)return W2(u,v);if(w.value&&i)return Ze(i,{error:w.value});if(r&&!T.value)return Ze(r)}}})}function W2(e,t){const{ref:r,props:i,children:s,ce:n}=t.vnode,o=Ze(e,i,s);return o.ref=r,o.ce=n,delete t.vnode.ce,o}const Qm=e=>e.type.__isKeepAlive,aae={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=Vr(),i=r.ctx;if(!i.renderer)return()=>{const T=t.default&&t.default();return T&&T.length===1?T[0]:T};const s=new Map,n=new Set;let o=null;const a=r.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=i,p=d("div");i.activate=(T,x,_,$,M)=>{const N=T.component;c(T,x,_,0,a),l(N.vnode,T,x,_,N,a,$,T.slotScopeIds,M),zr(()=>{N.isDeactivated=!1,N.a&&jh(N.a);const C=T.props&&T.props.onVnodeMounted;C&&cs(C,N.parent,T)},a)},i.deactivate=T=>{const x=T.component;cv(x.m),cv(x.a),c(T,p,null,1,a),zr(()=>{x.da&&jh(x.da);const _=T.props&&T.props.onVnodeUnmounted;_&&cs(_,x.parent,T),x.isDeactivated=!0},a)};function y(T){Y2(T),u(T,r,a,!0)}function v(T){s.forEach((x,_)=>{const $=Hx(x.type);$&&!T($)&&b(_)})}function b(T){const x=s.get(T);x&&(!o||!Cn(x,o))?y(x):o&&Y2(o),s.delete(T),n.delete(T)}Qr(()=>[e.include,e.exclude],([T,x])=>{T&&v(_=>Ud(T,_)),x&&v(_=>!Ud(x,_))},{flush:"post",deep:!0});let S=null;const w=()=>{S!=null&&(uv(r.subTree.type)?zr(()=>{s.set(S,Hy(r.subTree))},r.subTree.suspense):s.set(S,Hy(r.subTree)))};return vi(w),Hf(w),so(()=>{s.forEach(T=>{const{subTree:x,suspense:_}=r,$=Hy(x);if(T.type===$.type&&T.key===$.key){Y2($);const M=$.component.da;M&&zr(M,_);return}y(T)})}),()=>{if(S=null,!t.default)return o=null;const T=t.default(),x=T[0];if(T.length>1)return o=null,T;if(!Xn(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return o=null,x;let _=Hy(x);if(_.type===Or)return o=null,_;const $=_.type,M=Hx(Ol(_)?_.type.__asyncResolved||{}:$),{include:N,exclude:C,max:P}=e;if(N&&(!M||!Ud(N,M))||C&&M&&Ud(C,M))return _.shapeFlag&=-257,o=_,x;const k=_.key==null?$:_.key,V=s.get(k);return _.el&&(_=Qn(_),x.shapeFlag&128&&(x.ssContent=_)),S=k,V?(_.el=V.el,_.component=V.component,_.transition&&Bo(_,_.transition),_.shapeFlag|=512,n.delete(k),n.add(k)):(n.add(k),P&&n.size>parseInt(P,10)&&b(n.values().next().value)),_.shapeFlag|=256,o=_,uv(x.type)?x:_}}},N8=aae;function Ud(e,t){return Ee(e)?e.some(r=>Ud(r,t)):Je(e)?e.split(",").includes(t):Zne(e)?(e.lastIndex=0,e.test(t)):!1}function U3(e,t){L8(e,"a",t)}function j3(e,t){L8(e,"da",t)}function L8(e,t,r=Kr){const i=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(ub(t,i,r),r){let s=r.parent;for(;s&&s.parent;)Qm(s.parent.vnode)&&lae(i,t,r,s),s=s.parent}}function lae(e,t,r,i){const s=ub(t,e,i,!0);$u(()=>{x3(i[t],s)},r)}function Y2(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Hy(e){return e.shapeFlag&128?e.ssContent:e}function ub(e,t,r=Kr,i=!1){if(r){const s=r[e]||(r[e]=[]),n=t.__weh||(t.__weh=(...o)=>{Kl();const a=mu(r),l=Vs(t,r,e,o);return a(),Zl(),l});return i?s.unshift(n):s.push(n),n}}const ka=e=>(t,r=Kr)=>{(!lf||e==="sp")&&ub(e,(...i)=>t(...i),r)},hb=ka("bm"),vi=ka("m"),fb=ka("bu"),Hf=ka("u"),so=ka("bum"),$u=ka("um"),B3=ka("sp"),V3=ka("rtg"),G3=ka("rtc");function q3(e,t=Kr){ub("ec",e,t)}const z3="components",cae="directives";function $r(e,t){return W3(z3,e,!0,t)||e}const k8=Symbol.for("v-ndc");function H3(e){return Je(e)?W3(z3,e,!1)||e:e||k8}function Ot(e){return W3(cae,e)}function W3(e,t,r=!0,i=!1){const s=Xr||Kr;if(s){const n=s.type;if(e===z3){const a=Hx(n,!1);if(a&&(a===t||a===zt(t)||a===Yl(zt(t))))return n}const o=iI(s[e]||n[e],t)||iI(s.appContext[e],t);return!o&&i?n:o}}function iI(e,t){return e&&(e[t]||e[zt(t)]||e[Yl(zt(t))])}function Ql(e,t,r,i){let s;const n=r&&r[i],o=Ee(e);if(o||Je(e)){const a=o&&_s(e);let l=!1;a&&(l=!ws(e),e=rb(e)),s=new Array(e.length);for(let c=0,u=e.length;c<u;c++)s[c]=t(l?Ni(e[c]):e[c],c,void 0,n&&n[c])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,n&&n[a])}else if(Nt(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,n&&n[l]));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=t(e[u],u,l,n&&n[l])}}else s=[];return r&&(r[i]=s),s}function R8(e,t){for(let r=0;r<t.length;r++){const i=t[r];if(Ee(i))for(let s=0;s<i.length;s++)e[i[s].name]=i[s].fn;else i&&(e[i.name]=i.key?(...s)=>{const n=i.fn(...s);return n&&(n.key=i.key),n}:i.fn)}return e}function Dn(e,t,r={},i,s){if(Xr.ce||Xr.parent&&Ol(Xr.parent)&&Xr.parent.ce)return t!=="default"&&(r.name=t),he(),qt(kt,null,[Ze("slot",r,i&&i())],64);let n=e[t];n&&n._c&&(n._d=!1),he();const o=n&&Y3(n(r)),a=r.key||o&&o.key,l=qt(kt,{key:(a&&!$s(a)?a:`_${t}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&e._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),n&&n._c&&(n._d=!0),l}function Y3(e){return e.some(t=>Xn(t)?!(t.type===Or||t.type===kt&&!Y3(t.children)):!0)?e:null}function D8(e,t){const r={};for(const i in e)r[t&&/[A-Z]/.test(i)?`on:${i}`:zc(i)]=e[i];return r}const Rx=e=>e?$9(e)?ty(e):Rx(e.parent):null,hp=ot(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Rx(e.parent),$root:e=>Rx(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>J3(e),$forceUpdate:e=>e.f||(e.f=()=>{L3(e.update)}),$nextTick:e=>e.n||(e.n=io.bind(e.proxy)),$watch:e=>Aae.bind(e)}),J2=(e,t)=>e!==nt&&!e.__isScriptSetup&&_t(e,t),Dx={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:i,data:s,props:n,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return i[t];case 2:return s[t];case 4:return r[t];case 3:return n[t]}else{if(J2(i,t))return o[t]=1,i[t];if(s!==nt&&_t(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&_t(c,t))return o[t]=3,n[t];if(r!==nt&&_t(r,t))return o[t]=4,r[t];Fx&&(o[t]=0)}}const u=hp[t];let d,p;if(u)return t==="$attrs"&&Pi(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(r!==nt&&_t(r,t))return o[t]=4,r[t];if(p=l.config.globalProperties,_t(p,t))return p[t]},set({_:e},t,r){const{data:i,setupState:s,ctx:n}=e;return J2(s,t)?(s[t]=r,!0):i!==nt&&_t(i,t)?(i[t]=r,!0):_t(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:s,propsOptions:n}},o){let a;return!!r[o]||e!==nt&&_t(e,o)||J2(t,o)||(a=n[0])&&_t(a,o)||_t(i,o)||_t(hp,o)||_t(s.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:_t(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},uae=ot({},Dx,{get(e,t){if(t!==Symbol.unscopables)return Dx.get(e,t,e)},has(e,t){return t[0]!=="_"&&!soe(t)}});function F8(){return null}function U8(){return null}function j8(e){}function B8(e){}function V8(){return null}function G8(){}function q8(e,t){return null}function z8(){return W8().slots}function H8(){return W8().attrs}function W8(){const e=Vr();return e.setupContext||(e.setupContext=C9(e))}function lm(e){return Ee(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function Y8(e,t){const r=lm(e);for(const i in t){if(i.startsWith("__skip"))continue;let s=r[i];s?Ee(s)||De(s)?s=r[i]={type:s,default:t[i]}:s.default=t[i]:s===null&&(s=r[i]={default:t[i]}),s&&t[`__skip_${i}`]&&(s.skipFactory=!0)}return r}function J8(e,t){return!e||!t?e||t:Ee(e)&&Ee(t)?e.concat(t):ot({},lm(e),lm(t))}function K8(e,t){const r={};for(const i in e)t.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>e[i]});return r}function Z8(e){const t=Vr();let r=e();return Gx(),S3(r)&&(r=r.catch(i=>{throw mu(t),i})),[r,()=>mu(t)]}let Fx=!0;function hae(e){const t=J3(e),r=e.proxy,i=e.ctx;Fx=!1,t.beforeCreate&&sI(t.beforeCreate,e,"bc");const{data:s,computed:n,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:p,beforeUpdate:y,updated:v,activated:b,deactivated:S,beforeDestroy:w,beforeUnmount:T,destroyed:x,unmounted:_,render:$,renderTracked:M,renderTriggered:N,errorCaptured:C,serverPrefetch:P,expose:k,inheritAttrs:V,components:U,directives:j,filters:Y}=t;if(c&&fae(c,i,null),o)for(const E in o){const O=o[E];De(O)&&(i[E]=O.bind(r))}if(s){const E=s.call(r,r);Nt(E)&&(e.data=ui(E))}if(Fx=!0,n)for(const E in n){const O=n[E],G=De(O)?O.bind(r,r):De(O.get)?O.get.bind(r,r):yi,J=!De(O)&&De(O.set)?O.set.bind(r):yi,me=et({get:G,set:J});Object.defineProperty(i,E,{enumerable:!0,configurable:!0,get:()=>me.value,set:ue=>me.value=ue})}if(a)for(const E in a)X8(a[E],i,r,E);if(l){const E=De(l)?l.call(r):l;Reflect.ownKeys(E).forEach(O=>{K3(O,E[O])})}u&&sI(u,e,"c");function m(E,O){Ee(O)?O.forEach(G=>E(G.bind(r))):O&&E(O.bind(r))}if(m(hb,d),m(vi,p),m(fb,y),m(Hf,v),m(U3,b),m(j3,S),m(q3,C),m(G3,M),m(V3,N),m(so,T),m($u,_),m(B3,P),Ee(k))if(k.length){const E=e.exposed||(e.exposed={});k.forEach(O=>{Object.defineProperty(E,O,{get:()=>r[O],set:G=>r[O]=G})})}else e.exposed||(e.exposed={});$&&e.render===yi&&(e.render=$),V!=null&&(e.inheritAttrs=V),U&&(e.components=U),j&&(e.directives=j),P&&D3(e)}function fae(e,t,r=yi){Ee(e)&&(e=Ux(e));for(const i in e){const s=e[i];let n;Nt(s)?"default"in s?n=Br(s.from||i,s.default,!0):n=Br(s.from||i):n=Br(s),ht(n)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>n.value,set:o=>n.value=o}):t[i]=n}}function sI(e,t,r){Vs(Ee(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function X8(e,t,r,i){let s=i.includes(".")?p9(r,i):()=>r[i];if(Je(e)){const n=t[e];De(n)&&Qr(s,n)}else if(De(e))Qr(s,e.bind(r));else if(Nt(e))if(Ee(e))e.forEach(n=>X8(n,t,r,i));else{const n=De(e.handler)?e.handler.bind(r):t[e.handler];De(n)&&Qr(s,n,e)}}function J3(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:s,optionsCache:n,config:{optionMergeStrategies:o}}=e.appContext,a=n.get(t);let l;return a?l=a:!s.length&&!r&&!i?l=t:(l={},s.length&&s.forEach(c=>lv(l,c,o,!0)),lv(l,t,o)),Nt(t)&&n.set(t,l),l}function lv(e,t,r,i=!1){const{mixins:s,extends:n}=t;n&&lv(e,n,r,!0),s&&s.forEach(o=>lv(e,o,r,!0));for(const o in t)if(!(i&&o==="expose")){const a=dae[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const dae={data:nI,props:oI,emits:oI,methods:jd,computed:jd,beforeCreate:Fi,created:Fi,beforeMount:Fi,mounted:Fi,beforeUpdate:Fi,updated:Fi,beforeDestroy:Fi,beforeUnmount:Fi,destroyed:Fi,unmounted:Fi,activated:Fi,deactivated:Fi,errorCaptured:Fi,serverPrefetch:Fi,components:jd,directives:jd,watch:mae,provide:nI,inject:pae};function nI(e,t){return t?e?function(){return ot(De(e)?e.call(this,this):e,De(t)?t.call(this,this):t)}:t:e}function pae(e,t){return jd(Ux(e),Ux(t))}function Ux(e){if(Ee(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Fi(e,t){return e?[...new Set([].concat(e,t))]:t}function jd(e,t){return e?ot(Object.create(null),e,t):t}function oI(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:ot(Object.create(null),lm(e),lm(t??{})):t}function mae(e,t){if(!e)return t;if(!t)return e;const r=ot(Object.create(null),e);for(const i in t)r[i]=Fi(e[i],t[i]);return r}function Q8(){return{app:null,config:{isNativeTag:Fd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yae=0;function gae(e,t){return function(i,s=null){De(i)||(i=ot({},i)),s!=null&&!Nt(s)&&(s=null);const n=Q8(),o=new WeakSet,a=[];let l=!1;const c=n.app={_uid:yae++,_component:i,_props:s,_container:null,_context:n,_instance:null,version:cA,get config(){return n.config},set config(u){},use(u,...d){return o.has(u)||(u&&De(u.install)?(o.add(u),u.install(c,...d)):De(u)&&(o.add(u),u(c,...d))),c},mixin(u){return n.mixins.includes(u)||n.mixins.push(u),c},component(u,d){return d?(n.components[u]=d,c):n.components[u]},directive(u,d){return d?(n.directives[u]=d,c):n.directives[u]},mount(u,d,p){if(!l){const y=c._ceVNode||Ze(i,s);return y.appContext=n,p===!0?p="svg":p===!1&&(p=void 0),d&&t?t(y,u):e(y,u,p),l=!0,c._container=u,u.__vue_app__=c,ty(y.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Vs(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return n.provides[u]=d,c},runWithContext(u){const d=Wc;Wc=c;try{return u()}finally{Wc=d}}};return c}}let Wc=null;function K3(e,t){if(Kr){let r=Kr.provides;const i=Kr.parent&&Kr.parent.provides;i===r&&(r=Kr.provides=Object.create(i)),r[e]=t}}function Br(e,t,r=!1){const i=Kr||Xr;if(i||Wc){const s=Wc?Wc._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return r&&De(t)?t.call(i&&i.proxy):t}}function Z3(){return!!(Kr||Xr||Wc)}const e9={},t9=()=>Object.create(e9),r9=e=>Object.getPrototypeOf(e)===e9;function vae(e,t,r,i=!1){const s={},n=t9();e.propsDefaults=Object.create(null),i9(e,t,s,n);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);r?e.props=i?s:I3(s):e.type.props?e.props=s:e.props=n,e.attrs=n}function bae(e,t,r,i){const{props:s,attrs:n,vnode:{patchFlag:o}}=e,a=Ve(s),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let p=u[d];if(db(e.emitsOptions,p))continue;const y=t[p];if(l)if(_t(n,p))y!==n[p]&&(n[p]=y,c=!0);else{const v=zt(p);s[v]=jx(l,a,v,y,e,!1)}else y!==n[p]&&(n[p]=y,c=!0)}}}else{i9(e,t,s,n)&&(c=!0);let u;for(const d in a)(!t||!_t(t,d)&&((u=ys(d))===d||!_t(t,u)))&&(l?r&&(r[d]!==void 0||r[u]!==void 0)&&(s[d]=jx(l,a,d,void 0,e,!0)):delete s[d]);if(n!==a)for(const d in n)(!t||!_t(t,d))&&(delete n[d],c=!0)}c&&wa(e.attrs,"set","")}function i9(e,t,r,i){const[s,n]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Il(l))continue;const c=t[l];let u;s&&_t(s,u=zt(l))?!n||!n.includes(u)?r[u]=c:(a||(a={}))[u]=c:db(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(n){const l=Ve(r),c=a||nt;for(let u=0;u<n.length;u++){const d=n[u];r[d]=jx(s,l,d,c[d],e,!_t(c,d))}}return o}function jx(e,t,r,i,s,n){const o=e[r];if(o!=null){const a=_t(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&De(l)){const{propsDefaults:c}=s;if(r in c)i=c[r];else{const u=mu(s);i=c[r]=l.call(null,t),u()}}else i=l;s.ce&&s.ce._setProp(r,i)}o[0]&&(n&&!a?i=!1:o[1]&&(i===""||i===ys(r))&&(i=!0))}return i}const _ae=new WeakMap;function s9(e,t,r=!1){const i=r?_ae:t.propsCache,s=i.get(e);if(s)return s;const n=e.props,o={},a=[];let l=!1;if(!De(e)){const u=d=>{l=!0;const[p,y]=s9(d,t,!0);ot(o,p),y&&a.push(...y)};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!n&&!l)return Nt(e)&&i.set(e,Fh),Fh;if(Ee(n))for(let u=0;u<n.length;u++){const d=zt(n[u]);aI(d)&&(o[d]=nt)}else if(n)for(const u in n){const d=zt(u);if(aI(d)){const p=n[u],y=o[d]=Ee(p)||De(p)?{type:p}:ot({},p),v=y.type;let b=!1,S=!0;if(Ee(v))for(let w=0;w<v.length;++w){const T=v[w],x=De(T)&&T.name;if(x==="Boolean"){b=!0;break}else x==="String"&&(S=!1)}else b=De(v)&&v.name==="Boolean";y[0]=b,y[1]=S,(b||_t(y,"default"))&&a.push(d)}}const c=[o,a];return Nt(e)&&i.set(e,c),c}function aI(e){return e[0]!=="$"&&!Il(e)}const n9=e=>e[0]==="_"||e==="$stable",X3=e=>Ee(e)?e.map(ds):[ds(e)],wae=(e,t,r)=>{if(t._n)return t;const i=Rr((...s)=>X3(t(...s)),r);return i._c=!1,i},o9=(e,t,r)=>{const i=e._ctx;for(const s in e){if(n9(s))continue;const n=e[s];if(De(n))t[s]=wae(s,n,i);else if(n!=null){const o=X3(n);t[s]=()=>o}}},a9=(e,t)=>{const r=X3(t);e.slots.default=()=>r},l9=(e,t,r)=>{for(const i in t)(r||i!=="_")&&(e[i]=t[i])},xae=(e,t,r)=>{const i=e.slots=t9();if(e.vnode.shapeFlag&32){const s=t._;s?(l9(i,t,r),r&&LR(i,"_",s,!0)):o9(t,i)}else t&&a9(e,t)},Sae=(e,t,r)=>{const{vnode:i,slots:s}=e;let n=!0,o=nt;if(i.shapeFlag&32){const a=t._;a?r&&a===1?n=!1:l9(s,t,r):(n=!t.$stable,o9(t,s)),o=t}else t&&(a9(e,t),o={default:1});if(n)for(const a in s)!n9(a)&&o[a]==null&&delete s[a]},zr=_9;function Q3(e){return c9(e)}function eA(e){return c9(e,tae)}function c9(e,t){const r=Z1();r.__VUE__=!0;const{insert:i,remove:s,patchProp:n,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:p,setScopeId:y=yi,insertStaticContent:v}=e,b=(B,F,W,ae=null,te=null,ce=null,ye=void 0,L=null,R=!!F.dynamicChildren)=>{if(B===F)return;B&&!Cn(B,F)&&(ae=Ht(B),ue(B,te,ce,!0),B=null),F.patchFlag===-2&&(R=!1,F.dynamicChildren=null);const{type:q,ref:re,shapeFlag:se}=F;switch(q){case Co:S(B,F,W,ae);break;case Or:w(B,F,W,ae);break;case Cl:B==null&&T(F,W,ae,ye);break;case kt:U(B,F,W,ae,te,ce,ye,L,R);break;default:se&1?$(B,F,W,ae,te,ce,ye,L,R):se&6?j(B,F,W,ae,te,ce,ye,L,R):(se&64||se&128)&&q.process(B,F,W,ae,te,ce,ye,L,R,Ut)}re!=null&&te&&am(re,B&&B.ref,ce,F||B,!F)},S=(B,F,W,ae)=>{if(B==null)i(F.el=a(F.children),W,ae);else{const te=F.el=B.el;F.children!==B.children&&c(te,F.children)}},w=(B,F,W,ae)=>{B==null?i(F.el=l(F.children||""),W,ae):F.el=B.el},T=(B,F,W,ae)=>{[B.el,B.anchor]=v(B.children,F,W,ae,B.el,B.anchor)},x=({el:B,anchor:F},W,ae)=>{let te;for(;B&&B!==F;)te=p(B),i(B,W,ae),B=te;i(F,W,ae)},_=({el:B,anchor:F})=>{let W;for(;B&&B!==F;)W=p(B),s(B),B=W;s(F)},$=(B,F,W,ae,te,ce,ye,L,R)=>{F.type==="svg"?ye="svg":F.type==="math"&&(ye="mathml"),B==null?M(F,W,ae,te,ce,ye,L,R):P(B,F,te,ce,ye,L,R)},M=(B,F,W,ae,te,ce,ye,L)=>{let R,q;const{props:re,shapeFlag:se,transition:ne,dirs:H}=B;if(R=B.el=o(B.type,ce,re&&re.is,re),se&8?u(R,B.children):se&16&&C(B.children,R,null,ae,te,K2(B,ce),ye,L),H&&_o(B,null,ae,"created"),N(R,B,B.scopeId,ye,ae),re){for(const Ae in re)Ae!=="value"&&!Il(Ae)&&n(R,Ae,null,re[Ae],ce,ae);"value"in re&&n(R,"value",null,re.value,ce),(q=re.onVnodeBeforeMount)&&cs(q,ae,B)}H&&_o(B,null,ae,"beforeMount");const Z=u9(te,ne);Z&&ne.beforeEnter(R),i(R,F,W),((q=re&&re.onVnodeMounted)||Z||H)&&zr(()=>{q&&cs(q,ae,B),Z&&ne.enter(R),H&&_o(B,null,ae,"mounted")},te)},N=(B,F,W,ae,te)=>{if(W&&y(B,W),ae)for(let ce=0;ce<ae.length;ce++)y(B,ae[ce]);if(te){let ce=te.subTree;if(F===ce||uv(ce.type)&&(ce.ssContent===F||ce.ssFallback===F)){const ye=te.vnode;N(B,ye,ye.scopeId,ye.slotScopeIds,te.parent)}}},C=(B,F,W,ae,te,ce,ye,L,R=0)=>{for(let q=R;q<B.length;q++){const re=B[q]=L?hl(B[q]):ds(B[q]);b(null,re,F,W,ae,te,ce,ye,L)}},P=(B,F,W,ae,te,ce,ye)=>{const L=F.el=B.el;let{patchFlag:R,dynamicChildren:q,dirs:re}=F;R|=B.patchFlag&16;const se=B.props||nt,ne=F.props||nt;let H;if(W&&fc(W,!1),(H=ne.onVnodeBeforeUpdate)&&cs(H,W,F,B),re&&_o(F,B,W,"beforeUpdate"),W&&fc(W,!0),(se.innerHTML&&ne.innerHTML==null||se.textContent&&ne.textContent==null)&&u(L,""),q?k(B.dynamicChildren,q,L,W,ae,K2(F,te),ce):ye||O(B,F,L,null,W,ae,K2(F,te),ce,!1),R>0){if(R&16)V(L,se,ne,W,te);else if(R&2&&se.class!==ne.class&&n(L,"class",null,ne.class,te),R&4&&n(L,"style",se.style,ne.style,te),R&8){const Z=F.dynamicProps;for(let Ae=0;Ae<Z.length;Ae++){const Le=Z[Ae],jt=se[Le],Wt=ne[Le];(Wt!==jt||Le==="value")&&n(L,Le,jt,Wt,te,W)}}R&1&&B.children!==F.children&&u(L,F.children)}else!ye&&q==null&&V(L,se,ne,W,te);((H=ne.onVnodeUpdated)||re)&&zr(()=>{H&&cs(H,W,F,B),re&&_o(F,B,W,"updated")},ae)},k=(B,F,W,ae,te,ce,ye)=>{for(let L=0;L<F.length;L++){const R=B[L],q=F[L],re=R.el&&(R.type===kt||!Cn(R,q)||R.shapeFlag&70)?d(R.el):W;b(R,q,re,null,ae,te,ce,ye,!0)}},V=(B,F,W,ae,te)=>{if(F!==W){if(F!==nt)for(const ce in F)!Il(ce)&&!(ce in W)&&n(B,ce,F[ce],null,te,ae);for(const ce in W){if(Il(ce))continue;const ye=W[ce],L=F[ce];ye!==L&&ce!=="value"&&n(B,ce,L,ye,te,ae)}"value"in W&&n(B,"value",F.value,W.value,te)}},U=(B,F,W,ae,te,ce,ye,L,R)=>{const q=F.el=B?B.el:a(""),re=F.anchor=B?B.anchor:a("");let{patchFlag:se,dynamicChildren:ne,slotScopeIds:H}=F;H&&(L=L?L.concat(H):H),B==null?(i(q,W,ae),i(re,W,ae),C(F.children||[],W,re,te,ce,ye,L,R)):se>0&&se&64&&ne&&B.dynamicChildren?(k(B.dynamicChildren,ne,W,te,ce,ye,L),(F.key!=null||te&&F===te.subTree)&&tA(B,F,!0)):O(B,F,W,re,te,ce,ye,L,R)},j=(B,F,W,ae,te,ce,ye,L,R)=>{F.slotScopeIds=L,B==null?F.shapeFlag&512?te.ctx.activate(F,W,ae,ye,R):Y(F,W,ae,te,ce,ye,R):f(B,F,R)},Y=(B,F,W,ae,te,ce,ye)=>{const L=B.component=T9(B,ae,te);if(Qm(B)&&(L.ctx.renderer=Ut),M9(L,!1,ye),L.asyncDep){if(te&&te.registerDep(L,m,ye),!B.el){const R=L.subTree=Ze(Or);w(null,R,F,W)}}else m(L,B,F,W,te,ce,ye)},f=(B,F,W)=>{const ae=F.component=B.component;if(Oae(B,F,W))if(ae.asyncDep&&!ae.asyncResolved){E(ae,F,W);return}else ae.next=F,ae.update();else F.el=B.el,ae.vnode=F},m=(B,F,W,ae,te,ce,ye)=>{const L=()=>{if(B.isMounted){let{next:se,bu:ne,u:H,parent:Z,vnode:Ae}=B;{const Gr=h9(B);if(Gr){se&&(se.el=Ae.el,E(B,se,ye)),Gr.asyncDep.then(()=>{B.isUnmounted||L()});return}}let Le=se,jt;fc(B,!1),se?(se.el=Ae.el,E(B,se,ye)):se=Ae,ne&&jh(ne),(jt=se.props&&se.props.onVnodeBeforeUpdate)&&cs(jt,Z,se,Ae),fc(B,!0);const Wt=ig(B),fr=B.subTree;B.subTree=Wt,b(fr,Wt,d(fr.el),Ht(fr),B,te,ce),se.el=Wt.el,Le===null&&pb(B,Wt.el),H&&zr(H,te),(jt=se.props&&se.props.onVnodeUpdated)&&zr(()=>cs(jt,Z,se,Ae),te)}else{let se;const{el:ne,props:H}=F,{bm:Z,m:Ae,parent:Le,root:jt,type:Wt}=B,fr=Ol(F);if(fc(B,!1),Z&&jh(Z),!fr&&(se=H&&H.onVnodeBeforeMount)&&cs(se,Le,F),fc(B,!0),ne&&ri){const Gr=()=>{B.subTree=ig(B),ri(ne,B.subTree,B,te,null)};fr&&Wt.__asyncHydrate?Wt.__asyncHydrate(ne,B,Gr):Gr()}else{jt.ce&&jt.ce._injectChildStyle(Wt);const Gr=B.subTree=ig(B);b(null,Gr,W,ae,B,te,ce),F.el=Gr.el}if(Ae&&zr(Ae,te),!fr&&(se=H&&H.onVnodeMounted)){const Gr=F;zr(()=>cs(se,Le,Gr),te)}(F.shapeFlag&256||Le&&Ol(Le.vnode)&&Le.vnode.shapeFlag&256)&&B.a&&zr(B.a,te),B.isMounted=!0,F=W=ae=null}};B.scope.on();const R=B.effect=new of(L);B.scope.off();const q=B.update=R.run.bind(R),re=B.job=R.runIfDirty.bind(R);re.i=B,re.id=B.uid,R.scheduler=()=>L3(re),fc(B,!0),q()},E=(B,F,W)=>{F.component=B;const ae=B.vnode.props;B.vnode=F,B.next=null,bae(B,F.props,ae,W),Sae(B,F.children,W),Kl(),KM(B),Zl()},O=(B,F,W,ae,te,ce,ye,L,R=!1)=>{const q=B&&B.children,re=B?B.shapeFlag:0,se=F.children,{patchFlag:ne,shapeFlag:H}=F;if(ne>0){if(ne&128){J(q,se,W,ae,te,ce,ye,L,R);return}else if(ne&256){G(q,se,W,ae,te,ce,ye,L,R);return}}H&8?(re&16&&lt(q,te,ce),se!==q&&u(W,se)):re&16?H&16?J(q,se,W,ae,te,ce,ye,L,R):lt(q,te,ce,!0):(re&8&&u(W,""),H&16&&C(se,W,ae,te,ce,ye,L,R))},G=(B,F,W,ae,te,ce,ye,L,R)=>{B=B||Fh,F=F||Fh;const q=B.length,re=F.length,se=Math.min(q,re);let ne;for(ne=0;ne<se;ne++){const H=F[ne]=R?hl(F[ne]):ds(F[ne]);b(B[ne],H,W,null,te,ce,ye,L,R)}q>re?lt(B,te,ce,!0,!1,se):C(F,W,ae,te,ce,ye,L,R,se)},J=(B,F,W,ae,te,ce,ye,L,R)=>{let q=0;const re=F.length;let se=B.length-1,ne=re-1;for(;q<=se&&q<=ne;){const H=B[q],Z=F[q]=R?hl(F[q]):ds(F[q]);if(Cn(H,Z))b(H,Z,W,null,te,ce,ye,L,R);else break;q++}for(;q<=se&&q<=ne;){const H=B[se],Z=F[ne]=R?hl(F[ne]):ds(F[ne]);if(Cn(H,Z))b(H,Z,W,null,te,ce,ye,L,R);else break;se--,ne--}if(q>se){if(q<=ne){const H=ne+1,Z=H<re?F[H].el:ae;for(;q<=ne;)b(null,F[q]=R?hl(F[q]):ds(F[q]),W,Z,te,ce,ye,L,R),q++}}else if(q>ne)for(;q<=se;)ue(B[q],te,ce,!0),q++;else{const H=q,Z=q,Ae=new Map;for(q=Z;q<=ne;q++){const Ie=F[q]=R?hl(F[q]):ds(F[q]);Ie.key!=null&&Ae.set(Ie.key,q)}let Le,jt=0;const Wt=ne-Z+1;let fr=!1,Gr=0;const Q=new Array(Wt);for(q=0;q<Wt;q++)Q[q]=0;for(q=H;q<=se;q++){const Ie=B[q];if(jt>=Wt){ue(Ie,te,ce,!0);continue}let Ye;if(Ie.key!=null)Ye=Ae.get(Ie.key);else for(Le=Z;Le<=ne;Le++)if(Q[Le-Z]===0&&Cn(Ie,F[Le])){Ye=Le;break}Ye===void 0?ue(Ie,te,ce,!0):(Q[Ye-Z]=q+1,Ye>=Gr?Gr=Ye:fr=!0,b(Ie,F[Ye],W,null,te,ce,ye,L,R),jt++)}const Te=fr?Eae(Q):Fh;for(Le=Te.length-1,q=Wt-1;q>=0;q--){const Ie=Z+q,Ye=F[Ie],Qe=Ie+1<re?F[Ie+1].el:ae;Q[q]===0?b(null,Ye,W,Qe,te,ce,ye,L,R):fr&&(Le<0||q!==Te[Le]?me(Ye,W,Qe,2):Le--)}}},me=(B,F,W,ae,te=null)=>{const{el:ce,type:ye,transition:L,children:R,shapeFlag:q}=B;if(q&6){me(B.component.subTree,F,W,ae);return}if(q&128){B.suspense.move(F,W,ae);return}if(q&64){ye.move(B,F,W,Ut);return}if(ye===kt){i(ce,F,W);for(let se=0;se<R.length;se++)me(R[se],F,W,ae);i(B.anchor,F,W);return}if(ye===Cl){x(B,F,W);return}if(ae!==2&&q&1&&L)if(ae===0)L.beforeEnter(ce),i(ce,F,W),zr(()=>L.enter(ce),te);else{const{leave:se,delayLeave:ne,afterLeave:H}=L,Z=()=>i(ce,F,W),Ae=()=>{se(ce,()=>{Z(),H&&H()})};ne?ne(ce,Z,Ae):Ae()}else i(ce,F,W)},ue=(B,F,W,ae=!1,te=!1)=>{const{type:ce,props:ye,ref:L,children:R,dynamicChildren:q,shapeFlag:re,patchFlag:se,dirs:ne,cacheIndex:H}=B;if(se===-2&&(te=!1),L!=null&&am(L,null,W,B,!0),H!=null&&(F.renderCache[H]=void 0),re&256){F.ctx.deactivate(B);return}const Z=re&1&&ne,Ae=!Ol(B);let Le;if(Ae&&(Le=ye&&ye.onVnodeBeforeUnmount)&&cs(Le,F,B),re&6)qe(B.component,W,ae);else{if(re&128){B.suspense.unmount(W,ae);return}Z&&_o(B,null,F,"beforeUnmount"),re&64?B.type.remove(B,F,W,Ut,ae):q&&!q.hasOnce&&(ce!==kt||se>0&&se&64)?lt(q,F,W,!1,!0):(ce===kt&&se&384||!te&&re&16)&&lt(R,F,W),ae&&$e(B)}(Ae&&(Le=ye&&ye.onVnodeUnmounted)||Z)&&zr(()=>{Le&&cs(Le,F,B),Z&&_o(B,null,F,"unmounted")},W)},$e=B=>{const{type:F,el:W,anchor:ae,transition:te}=B;if(F===kt){Ue(W,ae);return}if(F===Cl){_(B);return}const ce=()=>{s(W),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(B.shapeFlag&1&&te&&!te.persisted){const{leave:ye,delayLeave:L}=te,R=()=>ye(W,ce);L?L(B.el,ce,R):R()}else ce()},Ue=(B,F)=>{let W;for(;B!==F;)W=p(B),s(B),B=W;s(F)},qe=(B,F,W)=>{const{bum:ae,scope:te,job:ce,subTree:ye,um:L,m:R,a:q}=B;cv(R),cv(q),ae&&jh(ae),te.stop(),ce&&(ce.flags|=8,ue(ye,B,F,W)),L&&zr(L,F),zr(()=>{B.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},lt=(B,F,W,ae=!1,te=!1,ce=0)=>{for(let ye=ce;ye<B.length;ye++)ue(B[ye],F,W,ae,te)},Ht=B=>{if(B.shapeFlag&6)return Ht(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const F=p(B.anchor||B.el),W=F&&F[w8];return W?p(W):F};let Ct=!1;const wr=(B,F,W)=>{B==null?F._vnode&&ue(F._vnode,null,null,!0):b(F._vnode||null,B,F,null,null,null,W),F._vnode=B,Ct||(Ct=!0,KM(),ov(),Ct=!1)},Ut={p:b,um:ue,m:me,r:$e,mt:Y,mc:C,pc:O,pbc:k,n:Ht,o:e};let or,ri;return t&&([or,ri]=t(Ut)),{render:wr,hydrate:or,createApp:gae(wr,or)}}function K2({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function fc({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function u9(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function tA(e,t,r=!1){const i=e.children,s=t.children;if(Ee(i)&&Ee(s))for(let n=0;n<i.length;n++){const o=i[n];let a=s[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[n]=hl(s[n]),a.el=o.el),!r&&a.patchFlag!==-2&&tA(o,a)),a.type===Co&&(a.el=o.el)}}function Eae(e){const t=e.slice(),r=[0];let i,s,n,o,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(s=r[r.length-1],e[s]<c){t[i]=s,r.push(i);continue}for(n=0,o=r.length-1;n<o;)a=n+o>>1,e[r[a]]<c?n=a+1:o=a;c<e[r[n]]&&(n>0&&(t[i]=r[n-1]),r[n]=i)}}for(n=r.length,o=r[n-1];n-- >0;)r[n]=o,o=t[o];return r}function h9(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:h9(t)}function cv(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const rA=Symbol.for("v-scx"),iA=()=>Br(rA);function f9(e,t){return ey(e,null,t)}function d9(e,t){return ey(e,null,{flush:"post"})}function sA(e,t){return ey(e,null,{flush:"sync"})}function Qr(e,t,r){return ey(e,t,r)}function ey(e,t,r=nt){const{immediate:i,deep:s,flush:n,once:o}=r,a=ot({},r),l=t&&i||!t&&n!=="post";let c;if(lf){if(n==="sync"){const y=iA();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=yi,y.resume=yi,y.pause=yi,y}}const u=Kr;a.call=(y,v,b)=>Vs(y,u,v,b);let d=!1;n==="post"?a.scheduler=y=>{zr(y,u&&u.suspense)}:n!=="sync"&&(d=!0,a.scheduler=(y,v)=>{v?y():L3(y)}),a.augmentJob=y=>{t&&(y.flags|=4),d&&(y.flags|=2,u&&(y.id=u.uid,y.i=u))};const p=zoe(e,t,a);return lf&&(c?c.push(p):l&&p()),p}function Aae(e,t,r){const i=this.proxy,s=Je(e)?e.includes(".")?p9(i,e):()=>i[e]:e.bind(i,i);let n;De(t)?n=t:(n=t.handler,r=t);const o=mu(this),a=ey(s,n.bind(i),r);return o(),a}function p9(e,t){const r=t.split(".");return()=>{let i=e;for(let s=0;s<r.length&&i;s++)i=i[r[s]];return i}}function m9(e,t,r=nt){const i=Vr(),s=zt(t),n=ys(t),o=y9(e,s),a=O3((l,c)=>{let u,d=nt,p;return sA(()=>{const y=e[s];Hi(u,y)&&(u=y,c())}),{get(){return l(),r.get?r.get(u):u},set(y){const v=r.set?r.set(y):y;if(!Hi(v,u)&&!(d!==nt&&Hi(y,d)))return;const b=i.vnode.props;b&&(t in b||s in b||n in b)&&(`onUpdate:${t}`in b||`onUpdate:${s}`in b||`onUpdate:${n}`in b)||(u=y,c()),i.emit(`update:${t}`,v),Hi(y,v)&&Hi(y,d)&&!Hi(v,p)&&c(),d=y,p=v}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||nt:a,done:!1}:{done:!0}}}},a}const y9=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${zt(t)}Modifiers`]||e[`${ys(t)}Modifiers`];function Tae(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||nt;let s=r;const n=t.startsWith("update:"),o=n&&y9(i,t.slice(7));o&&(o.trim&&(s=r.map(u=>Je(u)?u.trim():u)),o.number&&(s=r.map(tv)));let a,l=i[a=zc(t)]||i[a=zc(zt(t))];!l&&n&&(l=i[a=zc(ys(t))]),l&&Vs(l,e,6,s);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Vs(c,e,6,s)}}function g9(e,t,r=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const n=e.emits;let o={},a=!1;if(!De(e)){const l=c=>{const u=g9(c,t,!0);u&&(a=!0,ot(o,u))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!n&&!a?(Nt(e)&&i.set(e,null),null):(Ee(n)?n.forEach(l=>o[l]=null):ot(o,n),Nt(e)&&i.set(e,o),o)}function db(e,t){return!e||!Eu(t)?!1:(t=t.slice(2).replace(/Once$/,""),_t(e,t[0].toLowerCase()+t.slice(1))||_t(e,ys(t))||_t(e,t))}function ig(e){const{type:t,vnode:r,proxy:i,withProxy:s,propsOptions:[n],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:p,setupState:y,ctx:v,inheritAttrs:b}=e,S=om(e);let w,T;try{if(r.shapeFlag&4){const _=s||i,$=_;w=ds(c.call($,_,u,d,y,p,v)),T=a}else{const _=t;w=ds(_.length>1?_(d,{attrs:a,slots:o,emit:l}):_(d,null)),T=t.props?a:Mae(a)}}catch(_){fp.length=0,Xl(_,e,1),w=Ze(Or)}let x=w;if(T&&b!==!1){const _=Object.keys(T),{shapeFlag:$}=x;_.length&&$&7&&(n&&_.some(w3)&&(T=Iae(T,n)),x=Qn(x,T,!1,!0))}return r.dirs&&(x=Qn(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(r.dirs):r.dirs),r.transition&&Bo(x,r.transition),w=x,om(S),w}function $ae(e,t=!0){let r;for(let i=0;i<e.length;i++){const s=e[i];if(Xn(s)){if(s.type!==Or||s.children==="v-if"){if(r)return;r=s}}else return}return r}const Mae=e=>{let t;for(const r in e)(r==="class"||r==="style"||Eu(r))&&((t||(t={}))[r]=e[r]);return t},Iae=(e,t)=>{const r={};for(const i in e)(!w3(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r};function Oae(e,t,r){const{props:i,children:s,component:n}=e,{props:o,children:a,patchFlag:l}=t,c=n.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?lI(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const p=u[d];if(o[p]!==i[p]&&!db(c,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?lI(i,o,c):!0:!!o;return!1}function lI(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const n=i[s];if(t[n]!==e[n]&&!db(r,n))return!0}return!1}function pb({vnode:e,parent:t},r){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=r,t=t.parent;else break}}const uv=e=>e.__isSuspense;let Bx=0;const Cae={name:"Suspense",__isSuspense:!0,process(e,t,r,i,s,n,o,a,l,c){if(e==null)Pae(t,r,i,s,n,o,a,l,c);else{if(n&&n.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}Nae(e,t,r,i,s,o,a,l,c)}},hydrate:Lae,normalize:kae},v9=Cae;function cm(e,t){const r=e.props&&e.props[t];De(r)&&r()}function Pae(e,t,r,i,s,n,o,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),p=e.suspense=b9(e,s,i,t,d,r,n,o,a,l);c(null,p.pendingBranch=e.ssContent,d,null,i,p,n,o),p.deps>0?(cm(e,"onPending"),cm(e,"onFallback"),c(null,e.ssFallback,t,r,i,null,n,o),Vh(p,e.ssFallback)):p.resolve(!1,!0)}function Nae(e,t,r,i,s,n,o,a,{p:l,um:c,o:{createElement:u}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const p=t.ssContent,y=t.ssFallback,{activeBranch:v,pendingBranch:b,isInFallback:S,isHydrating:w}=d;if(b)d.pendingBranch=p,Cn(p,b)?(l(b,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():S&&(w||(l(v,y,r,i,s,null,n,o,a),Vh(d,y)))):(d.pendingId=Bx++,w?(d.isHydrating=!1,d.activeBranch=b):c(b,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),S?(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():(l(v,y,r,i,s,null,n,o,a),Vh(d,y))):v&&Cn(p,v)?(l(v,p,r,i,s,d,n,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0&&d.resolve()));else if(v&&Cn(p,v))l(v,p,r,i,s,d,n,o,a),Vh(d,p);else if(cm(t,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=Bx++,l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0)d.resolve();else{const{timeout:T,pendingId:x}=d;T>0?setTimeout(()=>{d.pendingId===x&&d.fallback(y)},T):T===0&&d.fallback(y)}}function b9(e,t,r,i,s,n,o,a,l,c,u=!1){const{p:d,m:p,um:y,n:v,o:{parentNode:b,remove:S}}=c;let w;const T=Rae(e);T&&t&&t.pendingBranch&&(w=t.pendingId,t.deps++);const x=e.props?rv(e.props.timeout):void 0,_=n,$={vnode:e,parent:t,parentComponent:r,namespace:o,container:i,hiddenContainer:s,deps:0,pendingId:Bx++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(M=!1,N=!1){const{vnode:C,activeBranch:P,pendingBranch:k,pendingId:V,effects:U,parentComponent:j,container:Y}=$;let f=!1;$.isHydrating?$.isHydrating=!1:M||(f=P&&k.transition&&k.transition.mode==="out-in",f&&(P.transition.afterLeave=()=>{V===$.pendingId&&(p(k,Y,n===_?v(P):n,0),af(U))}),P&&(b(P.el)===Y&&(n=v(P)),y(P,j,$,!0)),f||p(k,Y,n,0)),Vh($,k),$.pendingBranch=null,$.isInFallback=!1;let m=$.parent,E=!1;for(;m;){if(m.pendingBranch){m.effects.push(...U),E=!0;break}m=m.parent}!E&&!f&&af(U),$.effects=[],T&&t&&t.pendingBranch&&w===t.pendingId&&(t.deps--,t.deps===0&&!N&&t.resolve()),cm(C,"onResolve")},fallback(M){if(!$.pendingBranch)return;const{vnode:N,activeBranch:C,parentComponent:P,container:k,namespace:V}=$;cm(N,"onFallback");const U=v(C),j=()=>{$.isInFallback&&(d(null,M,k,U,P,null,V,a,l),Vh($,M))},Y=M.transition&&M.transition.mode==="out-in";Y&&(C.transition.afterLeave=j),$.isInFallback=!0,y(C,P,null,!0),Y||j()},move(M,N,C){$.activeBranch&&p($.activeBranch,M,N,C),$.container=M},next(){return $.activeBranch&&v($.activeBranch)},registerDep(M,N,C){const P=!!$.pendingBranch;P&&$.deps++;const k=M.vnode.el;M.asyncDep.catch(V=>{Xl(V,M,0)}).then(V=>{if(M.isUnmounted||$.isUnmounted||$.pendingId!==M.suspenseId)return;M.asyncResolved=!0;const{vnode:U}=M;qx(M,V,!1),k&&(U.el=k);const j=!k&&M.subTree.el;N(M,U,b(k||M.subTree.el),k?null:v(M.subTree),$,o,C),j&&S(j),pb(M,U.el),P&&--$.deps===0&&$.resolve()})},unmount(M,N){$.isUnmounted=!0,$.activeBranch&&y($.activeBranch,r,M,N),$.pendingBranch&&y($.pendingBranch,r,M,N)}};return $}function Lae(e,t,r,i,s,n,o,a,l){const c=t.suspense=b9(t,i,r,e.parentNode,document.createElement("div"),null,s,n,o,a,!0),u=l(e,c.pendingBranch=t.ssContent,r,c,n,o);return c.deps===0&&c.resolve(!1,!0),u}function kae(e){const{shapeFlag:t,children:r}=e,i=t&32;e.ssContent=cI(i?r.default:r),e.ssFallback=i?cI(r.fallback):Ze(Or)}function cI(e){let t;if(De(e)){const r=pu&&e._c;r&&(e._d=!1,he()),e=e(),r&&(e._d=!0,t=Ri,w9())}return Ee(e)&&(e=$ae(e)),e=ds(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function _9(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):af(e)}function Vh(e,t){e.activeBranch=t;const{vnode:r,parentComponent:i}=e;let s=t.el;for(;!s&&t.component;)t=t.component.subTree,s=t.el;r.el=s,i&&i.subTree===r&&(i.vnode.el=s,pb(i,s))}function Rae(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const kt=Symbol.for("v-fgt"),Co=Symbol.for("v-txt"),Or=Symbol.for("v-cmt"),Cl=Symbol.for("v-stc"),fp=[];let Ri=null;function he(e=!1){fp.push(Ri=e?null:[])}function w9(){fp.pop(),Ri=fp[fp.length-1]||null}let pu=1;function hv(e,t=!1){pu+=e,e<0&&Ri&&t&&(Ri.hasOnce=!0)}function x9(e){return e.dynamicChildren=pu>0?Ri||Fh:null,w9(),pu>0&&Ri&&Ri.push(e),e}function be(e,t,r,i,s,n){return x9(oe(e,t,r,i,s,n,!0))}function qt(e,t,r,i,s){return x9(Ze(e,t,r,i,s,!0))}function Xn(e){return e?e.__v_isVNode===!0:!1}function Cn(e,t){return e.type===t.type&&e.key===t.key}function S9(e){}const E9=({key:e})=>e??null,sg=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Je(e)||ht(e)||De(e)?{i:Xr,r:e,k:t,f:!!r}:e:null);function oe(e,t=null,r=null,i=0,s=null,n=e===kt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&E9(t),ref:t&&sg(t),scopeId:ab,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Xr};return a?(oA(l,r),n&128&&e.normalize(l)):r&&(l.shapeFlag|=Je(r)?8:16),pu>0&&!o&&Ri&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&Ri.push(l),l}const Ze=Dae;function Dae(e,t=null,r=null,i=0,s=null,n=!1){if((!e||e===k8)&&(e=Or),Xn(e)){const a=Qn(e,t,!0);return r&&oA(a,r),pu>0&&!n&&Ri&&(a.shapeFlag&6?Ri[Ri.indexOf(e)]=a:Ri.push(a)),a.patchFlag=-2,a}if(Vae(e)&&(e=e.__vccOpts),t){t=nA(t);let{class:a,style:l}=t;a&&!Je(a)&&(t.class=ur(a)),Nt(l)&&(Zm(l)&&!Ee(l)&&(l=ot({},l)),t.style=Jl(l))}const o=Je(e)?1:uv(e)?128:x8(e)?64:Nt(e)?4:De(e)?2:0;return oe(e,t,r,i,s,o,n,!0)}function nA(e){return e?Zm(e)||r9(e)?ot({},e):e:null}function Qn(e,t,r=!1,i=!1){const{props:s,ref:n,patchFlag:o,children:a,transition:l}=e,c=t?mb(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&E9(c),ref:t&&t.ref?r&&n?Ee(n)?n.concat(sg(t)):[n,sg(t)]:sg(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==kt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Qn(e.ssContent),ssFallback:e.ssFallback&&Qn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&Bo(u,l.clone(u)),u}function Po(e=" ",t=0){return Ze(Co,null,e,t)}function A9(e,t){const r=Ze(Cl,null,e);return r.staticCount=t,r}function Lt(e="",t=!1){return t?(he(),qt(Or,null,e)):Ze(Or,null,e)}function ds(e){return e==null||typeof e=="boolean"?Ze(Or):Ee(e)?Ze(kt,null,e.slice()):Xn(e)?hl(e):Ze(Co,null,String(e))}function hl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Qn(e)}function oA(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ee(t))r=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),oA(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!r9(t)?t._ctx=Xr:s===3&&Xr&&(Xr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else De(t)?(t={default:t,_ctx:Xr},r=32):(t=String(t),i&64?(r=16,t=[Po(t)]):r=8);e.children=t,e.shapeFlag|=r}function mb(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=ur([t.class,i.class]));else if(s==="style")t.style=Jl([t.style,i.style]);else if(Eu(s)){const n=t[s],o=i[s];o&&n!==o&&!(Ee(n)&&n.includes(o))&&(t[s]=n?[].concat(n,o):o)}else s!==""&&(t[s]=i[s])}return t}function cs(e,t,r,i=null){Vs(e,t,7,[r,i])}const Fae=Q8();let Uae=0;function T9(e,t,r){const i=e.type,s=(t?t.appContext:e.appContext)||Fae,n={uid:Uae++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Q1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:s9(i,s),emitsOptions:g9(i,s),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:i.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=Tae.bind(null,n),e.ce&&e.ce(n),n}let Kr=null;const Vr=()=>Kr||Xr;let fv,Vx;{const e=Z1(),t=(r,i)=>{let s;return(s=e[r])||(s=e[r]=[]),s.push(i),n=>{s.length>1?s.forEach(o=>o(n)):s[0](n)}};fv=t("__VUE_INSTANCE_SETTERS__",r=>Kr=r),Vx=t("__VUE_SSR_SETTERS__",r=>lf=r)}const mu=e=>{const t=Kr;return fv(e),e.scope.on(),()=>{e.scope.off(),fv(t)}},Gx=()=>{Kr&&Kr.scope.off(),fv(null)};function $9(e){return e.vnode.shapeFlag&4}let lf=!1;function M9(e,t=!1,r=!1){t&&Vx(t);const{props:i,children:s}=e.vnode,n=$9(e);vae(e,i,n,t),xae(e,s,r);const o=n?jae(e,t):void 0;return t&&Vx(!1),o}function jae(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Dx);const{setup:i}=r;if(i){Kl();const s=e.setupContext=i.length>1?C9(e):null,n=mu(e),o=Tu(i,e,0,[e.props,s]),a=S3(o);if(Zl(),n(),(a||e.sp)&&!Ol(e)&&D3(e),a){if(o.then(Gx,Gx),t)return o.then(l=>{qx(e,l,t)}).catch(l=>{Xl(l,e,0)});e.asyncDep=o}else qx(e,o,t)}else O9(e,t)}function qx(e,t,r){De(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Nt(t)&&(e.setupState=ob(t)),O9(e,r)}let dv,zx;function aA(e){dv=e,zx=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,uae))}}const I9=()=>!dv;function O9(e,t,r){const i=e.type;if(!e.render){if(!t&&dv&&!i.render){const s=i.template||J3(e).template;if(s){const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,c=ot(ot({isCustomElement:n,delimiters:a},o),l);i.render=dv(s,c)}}e.render=i.render||yi,zx&&zx(e)}{const s=mu(e);Kl();try{hae(e)}finally{Zl(),s()}}}const Bae={get(e,t){return Pi(e,"get",""),e[t]}};function C9(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Bae),slots:e.slots,emit:e.emit,expose:t}}function ty(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ob(ir(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in hp)return hp[r](e)},has(t,r){return r in t||r in hp}})):e.proxy}function Hx(e,t=!0){return De(e)?e.displayName||e.name:e.name||t&&e.__name}function Vae(e){return De(e)&&"__vccOpts"in e}const et=(e,t)=>qoe(e,t,lf);function un(e,t,r){const i=arguments.length;return i===2?Nt(t)&&!Ee(t)?Xn(t)?Ze(e,null,[t]):Ze(e,t):Ze(e,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Xn(r)&&(r=[r]),Ze(e,t,r))}function P9(){}function N9(e,t,r,i){const s=r[i];if(s&&lA(s,e))return s;const n=t();return n.memo=e.slice(),n.cacheIndex=i,r[i]=n}function lA(e,t){const r=e.memo;if(r.length!=t.length)return!1;for(let i=0;i<r.length;i++)if(Hi(r[i],t[i]))return!1;return pu>0&&Ri&&Ri.push(e),!0}const cA="3.5.13",L9=yi,k9=Yoe,R9=sh,D9=g8,Gae={createComponentInstance:T9,setupComponent:M9,renderComponentRoot:ig,setCurrentRenderingInstance:om,isVNode:Xn,normalizeVNode:ds,getComponentPublicInstance:ty,ensureValidVNode:Y3,pushWarningContext:Hoe,popWarningContext:Woe},F9=Gae,U9=null,j9=null,B9=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wx;const uI=typeof window<"u"&&window.trustedTypes;if(uI)try{Wx=uI.createPolicy("vue",{createHTML:e=>e})}catch{}const V9=Wx?e=>Wx.createHTML(e):e=>e,qae="http://www.w3.org/2000/svg",zae="http://www.w3.org/1998/Math/MathML",pa=typeof document<"u"?document:null,hI=pa&&pa.createElement("template"),Hae={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const s=t==="svg"?pa.createElementNS(qae,e):t==="mathml"?pa.createElementNS(zae,e):r?pa.createElement(e,{is:r}):pa.createElement(e);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>pa.createTextNode(e),createComment:e=>pa.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pa.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,i,s,n){const o=r?r.previousSibling:t.lastChild;if(s&&(s===n||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===n||!(s=s.nextSibling)););else{hI.innerHTML=V9(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=hI.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Wa="transition",cd="animation",cf=Symbol("_vtc"),G9={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},q9=ot({},cb,G9),Wae=e=>(e.displayName="Transition",e.props=q9,e),yb=Wae((e,{slots:t})=>un(R3,z9(e),t)),dc=(e,t=[])=>{Ee(e)?e.forEach(r=>r(...t)):e&&e(...t)},fI=e=>e?Ee(e)?e.some(t=>t.length>1):e.length>1:!1;function z9(e){const t={};for(const U in e)U in G9||(t[U]=e[U]);if(e.css===!1)return t;const{name:r="v",type:i,duration:s,enterFromClass:n=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=n,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:y=`${r}-leave-to`}=e,v=Yae(s),b=v&&v[0],S=v&&v[1],{onBeforeEnter:w,onEnter:T,onEnterCancelled:x,onLeave:_,onLeaveCancelled:$,onBeforeAppear:M=w,onAppear:N=T,onAppearCancelled:C=x}=t,P=(U,j,Y,f)=>{U._enterCancelled=f,tl(U,j?u:a),tl(U,j?c:o),Y&&Y()},k=(U,j)=>{U._isLeaving=!1,tl(U,d),tl(U,y),tl(U,p),j&&j()},V=U=>(j,Y)=>{const f=U?N:T,m=()=>P(j,U,Y);dc(f,[j,m]),dI(()=>{tl(j,U?l:n),yo(j,U?u:a),fI(f)||pI(j,i,b,m)})};return ot(t,{onBeforeEnter(U){dc(w,[U]),yo(U,n),yo(U,o)},onBeforeAppear(U){dc(M,[U]),yo(U,l),yo(U,c)},onEnter:V(!1),onAppear:V(!0),onLeave(U,j){U._isLeaving=!0;const Y=()=>k(U,j);yo(U,d),U._enterCancelled?(yo(U,p),Yx()):(Yx(),yo(U,p)),dI(()=>{U._isLeaving&&(tl(U,d),yo(U,y),fI(_)||pI(U,i,S,Y))}),dc(_,[U,Y])},onEnterCancelled(U){P(U,!1,void 0,!0),dc(x,[U])},onAppearCancelled(U){P(U,!0,void 0,!0),dc(C,[U])},onLeaveCancelled(U){k(U),dc($,[U])}})}function Yae(e){if(e==null)return null;if(Nt(e))return[Z2(e.enter),Z2(e.leave)];{const t=Z2(e);return[t,t]}}function Z2(e){return rv(e)}function yo(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[cf]||(e[cf]=new Set)).add(t)}function tl(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const r=e[cf];r&&(r.delete(t),r.size||(e[cf]=void 0))}function dI(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Jae=0;function pI(e,t,r,i){const s=e._endId=++Jae,n=()=>{s===e._endId&&i()};if(r!=null)return setTimeout(n,r);const{type:o,timeout:a,propCount:l}=H9(e,t);if(!o)return i();const c=o+"end";let u=0;const d=()=>{e.removeEventListener(c,p),n()},p=y=>{y.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),e.addEventListener(c,p)}function H9(e,t){const r=window.getComputedStyle(e),i=v=>(r[v]||"").split(", "),s=i(`${Wa}Delay`),n=i(`${Wa}Duration`),o=mI(s,n),a=i(`${cd}Delay`),l=i(`${cd}Duration`),c=mI(a,l);let u=null,d=0,p=0;t===Wa?o>0&&(u=Wa,d=o,p=n.length):t===cd?c>0&&(u=cd,d=c,p=l.length):(d=Math.max(o,c),u=d>0?o>c?Wa:cd:null,p=u?u===Wa?n.length:l.length:0);const y=u===Wa&&/\b(transform|all)(,|$)/.test(i(`${Wa}Property`).toString());return{type:u,timeout:d,propCount:p,hasTransform:y}}function mI(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,i)=>yI(r)+yI(e[i])))}function yI(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Yx(){return document.body.offsetHeight}function Kae(e,t,r){const i=e[cf];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const pv=Symbol("_vod"),W9=Symbol("_vsh"),gb={beforeMount(e,{value:t},{transition:r}){e[pv]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):ud(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(e),ud(e,!0),i.enter(e)):i.leave(e,()=>{ud(e,!1)}):ud(e,t))},beforeUnmount(e,{value:t}){ud(e,t)}};function ud(e,t){e.style.display=t?e[pv]:"none",e[W9]=!t}function Zae(){gb.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Y9=Symbol("");function uA(e){const t=Vr();if(!t)return;const r=t.ut=(s=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(n=>mv(n,s))},i=()=>{const s=e(t.proxy);t.ce?mv(t.ce,s):Jx(t.subTree,s),r(s)};fb(()=>{af(i)}),vi(()=>{Qr(i,yi,{flush:"post"});const s=new MutationObserver(i);s.observe(t.subTree.el.parentNode,{childList:!0}),$u(()=>s.disconnect())})}function Jx(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Jx(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)mv(e.el,t);else if(e.type===kt)e.children.forEach(r=>Jx(r,t));else if(e.type===Cl){let{el:r,anchor:i}=e;for(;r&&(mv(r,t),r!==i);)r=r.nextSibling}}function mv(e,t){if(e.nodeType===1){const r=e.style;let i="";for(const s in t)r.setProperty(`--${s}`,t[s]),i+=`--${s}: ${t[s]};`;r[Y9]=i}}const Xae=/(^|;)\s*display\s*:/;function Qae(e,t,r){const i=e.style,s=Je(r);let n=!1;if(r&&!s){if(t)if(Je(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&ng(i,a,"")}else for(const o in t)r[o]==null&&ng(i,o,"");for(const o in r)o==="display"&&(n=!0),ng(i,o,r[o])}else if(s){if(t!==r){const o=i[Y9];o&&(r+=";"+o),i.cssText=r,n=Xae.test(r)}}else t&&e.removeAttribute("style");pv in e&&(e[pv]=n?i.display:"",e[W9]&&(i.display="none"))}const gI=/\s*!important$/;function ng(e,t,r){if(Ee(r))r.forEach(i=>ng(e,t,i));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=ele(e,t);gI.test(r)?e.setProperty(ys(i),r.replace(gI,""),"important"):e[i]=r}}const vI=["Webkit","Moz","ms"],X2={};function ele(e,t){const r=X2[t];if(r)return r;let i=zt(t);if(i!=="filter"&&i in e)return X2[t]=i;i=Yl(i);for(let s=0;s<vI.length;s++){const n=vI[s]+i;if(n in e)return X2[t]=n}return t}const bI="http://www.w3.org/1999/xlink";function _I(e,t,r,i,s,n=goe(t)){i&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(bI,t.slice(6,t.length)):e.setAttributeNS(bI,t,r):r==null||n&&!DR(r)?e.removeAttribute(t):e.setAttribute(t,n?"":$s(r)?String(r):r)}function wI(e,t,r,i,s){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?V9(r):r);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=DR(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(s||t)}function Sa(e,t,r,i){e.addEventListener(t,r,i)}function tle(e,t,r,i){e.removeEventListener(t,r,i)}const xI=Symbol("_vei");function rle(e,t,r,i,s=null){const n=e[xI]||(e[xI]={}),o=n[t];if(i&&o)o.value=i;else{const[a,l]=ile(t);if(i){const c=n[t]=ole(i,s);Sa(e,a,c,l)}else o&&(tle(e,a,o,l),n[t]=void 0)}}const SI=/(?:Once|Passive|Capture)$/;function ile(e){let t;if(SI.test(e)){t={};let i;for(;i=e.match(SI);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ys(e.slice(2)),t]}let Q2=0;const sle=Promise.resolve(),nle=()=>Q2||(sle.then(()=>Q2=0),Q2=Date.now());function ole(e,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Vs(ale(i,r.value),t,5,[i])};return r.value=e,r.attached=nle(),r}function ale(e,t){if(Ee(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const EI=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,lle=(e,t,r,i,s,n)=>{const o=s==="svg";t==="class"?Kae(e,i,o):t==="style"?Qae(e,r,i):Eu(t)?w3(t)||rle(e,t,r,i,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):cle(e,t,i,o))?(wI(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&_I(e,t,i,o,n,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Je(i))?wI(e,zt(t),i,n,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),_I(e,t,i,o))};function cle(e,t,r,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&EI(t)&&De(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return EI(t)&&Je(r)?!1:t in e}const AI={};/*! #__NO_SIDE_EFFECTS__ */function hA(e,t,r){const i=st(e,t);J1(i)&&ot(i,t);class s extends ry{constructor(o){super(i,o,r)}}return s.def=i,s}/*! #__NO_SIDE_EFFECTS__ */const J9=(e,t)=>hA(e,t,yA),ule=typeof HTMLElement<"u"?HTMLElement:class{};class ry extends ule{constructor(t,r={},i=Vl){super(),this._def=t,this._props=r,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==Vl?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof ry){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,io(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(i,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:o}=i;let a;if(n&&!Ee(n))for(const l in n){const c=n[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=rv(this._props[l])),(a||(a=Object.create(null)))[zt(l)]=!0)}this._numberProps=a,s&&this._resolveProps(i),this.shadowRoot&&this._applyStyles(o),this._mount(i)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(i=>t(this._def=i,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const i in r)_t(this,i)||Object.defineProperty(this,i,{get:()=>Me(r[i])})}_resolveProps(t){const{props:r}=t,i=Ee(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s]);for(const s of i.map(zt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(n){this._setProp(s,n,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const r=this.hasAttribute(t);let i=r?this.getAttribute(t):AI;const s=zt(t);r&&this._numberProps&&this._numberProps[s]&&(i=rv(i)),this._setProp(s,i,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,r,i=!0,s=!1){if(r!==this._props[t]&&(r===AI?delete this._props[t]:(this._props[t]=r,t==="key"&&this._app&&(this._app._ceVNode.key=r)),s&&this._instance&&this._update(),i)){const n=this._ob;n&&n.disconnect(),r===!0?this.setAttribute(ys(t),""):typeof r=="string"||typeof r=="number"?this.setAttribute(ys(t),r+""):r||this.removeAttribute(ys(t)),n&&n.observe(this,{attributes:!0})}}_update(){Gh(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const r=Ze(this._def,ot(t,this._props));return this._instance||(r.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const s=(n,o)=>{this.dispatchEvent(new CustomEvent(n,J1(o[0])?ot({detail:o},o[0]):{detail:o}))};i.emit=(n,...o)=>{s(n,o),ys(n)!==n&&s(ys(n),o)},this._setParent()}),r}_applyStyles(t,r){if(!t)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const i=this._nonce;for(let s=t.length-1;s>=0;s--){const n=document.createElement("style");i&&n.setAttribute("nonce",i),n.textContent=t[s],this.shadowRoot.prepend(n)}}_parseSlots(){const t=this._slots={};let r;for(;r=this.firstChild;){const i=r.nodeType===1&&r.getAttribute("slot")||"default";(t[i]||(t[i]=[])).push(r),this.removeChild(r)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),r=this._instance.type.__scopeId;for(let i=0;i<t.length;i++){const s=t[i],n=s.getAttribute("name")||"default",o=this._slots[n],a=s.parentNode;if(o)for(const l of o){if(r&&l.nodeType===1){const c=r+"-s",u=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=u.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function fA(e){const t=Vr(),r=t&&t.ce;return r||null}function K9(){const e=fA();return e&&e.shadowRoot}function Z9(e="$style"){{const t=Vr();if(!t)return nt;const r=t.type.__cssModules;if(!r)return nt;const i=r[e];return i||nt}}const X9=new WeakMap,Q9=new WeakMap,yv=Symbol("_moveCb"),TI=Symbol("_enterCb"),hle=e=>(delete e.props.mode,e),fle=hle({name:"TransitionGroup",props:ot({},q9,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Vr(),i=lb();let s,n;return Hf(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!yle(s[0].el,r.vnode.el,o))return;s.forEach(dle),s.forEach(ple);const a=s.filter(mle);Yx(),a.forEach(l=>{const c=l.el,u=c.style;yo(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[yv]=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",d),c[yv]=null,tl(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Ve(e),a=z9(o);let l=o.tag||kt;if(s=[],n)for(let c=0;c<n.length;c++){const u=n[c];u.el&&u.el instanceof Element&&(s.push(u),Bo(u,du(u,a,i,r)),X9.set(u,u.el.getBoundingClientRect()))}n=t.default?Xm(t.default()):[];for(let c=0;c<n.length;c++){const u=n[c];u.key!=null&&Bo(u,du(u,a,i,r))}return Ze(l,null,n)}}}),vb=fle;function dle(e){const t=e.el;t[yv]&&t[yv](),t[TI]&&t[TI]()}function ple(e){Q9.set(e,e.el.getBoundingClientRect())}function mle(e){const t=X9.get(e),r=Q9.get(e),i=t.left-r.left,s=t.top-r.top;if(i||s){const n=e.el.style;return n.transform=n.webkitTransform=`translate(${i}px,${s}px)`,n.transitionDuration="0s",e}}function yle(e,t,r){const i=e.cloneNode(),s=e[cf];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(i);const{hasTransform:o}=H9(i);return n.removeChild(i),o}const Bl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ee(t)?r=>jh(t,r):t};function gle(e){e.target.composing=!0}function $I(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const fn=Symbol("_assign"),um={created(e,{modifiers:{lazy:t,trim:r,number:i}},s){e[fn]=Bl(s);const n=i||s.props&&s.props.type==="number";Sa(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;r&&(a=a.trim()),n&&(a=tv(a)),e[fn](a)}),r&&Sa(e,"change",()=>{e.value=e.value.trim()}),t||(Sa(e,"compositionstart",gle),Sa(e,"compositionend",$I),Sa(e,"change",$I))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:i,trim:s,number:n}},o){if(e[fn]=Bl(o),e.composing)return;const a=(n||e.type==="number")&&!/^0\d/.test(e.value)?tv(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===r||s&&e.value.trim()===l)||(e.value=l))}},bb={deep:!0,created(e,t,r){e[fn]=Bl(r),Sa(e,"change",()=>{const i=e._modelValue,s=uf(e),n=e.checked,o=e[fn];if(Ee(i)){const a=X1(i,s),l=a!==-1;if(n&&!l)o(i.concat(s));else if(!n&&l){const c=[...i];c.splice(a,1),o(c)}}else if(Au(i)){const a=new Set(i);n?a.add(s):a.delete(s),o(a)}else o(e7(e,n))})},mounted:MI,beforeUpdate(e,t,r){e[fn]=Bl(r),MI(e,t,r)}};function MI(e,{value:t,oldValue:r},i){e._modelValue=t;let s;if(Ee(t))s=X1(t,i.props.value)>-1;else if(Au(t))s=t.has(i.props.value);else{if(t===r)return;s=jl(t,e7(e,!0))}e.checked!==s&&(e.checked=s)}const _b={created(e,{value:t},r){e.checked=jl(t,r.props.value),e[fn]=Bl(r),Sa(e,"change",()=>{e[fn](uf(e))})},beforeUpdate(e,{value:t,oldValue:r},i){e[fn]=Bl(i),t!==r&&(e.checked=jl(t,i.props.value))}},dA={deep:!0,created(e,{value:t,modifiers:{number:r}},i){const s=Au(t);Sa(e,"change",()=>{const n=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?tv(uf(o)):uf(o));e[fn](e.multiple?s?new Set(n):n:n[0]),e._assigning=!0,io(()=>{e._assigning=!1})}),e[fn]=Bl(i)},mounted(e,{value:t}){II(e,t)},beforeUpdate(e,t,r){e[fn]=Bl(r)},updated(e,{value:t}){e._assigning||II(e,t)}};function II(e,t){const r=e.multiple,i=Ee(t);if(!(r&&!i&&!Au(t))){for(let s=0,n=e.options.length;s<n;s++){const o=e.options[s],a=uf(o);if(r)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=X1(t,a)>-1}else o.selected=t.has(a);else if(jl(uf(o),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function uf(e){return"_value"in e?e._value:e.value}function e7(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const pA={created(e,t,r){Wy(e,t,r,null,"created")},mounted(e,t,r){Wy(e,t,r,null,"mounted")},beforeUpdate(e,t,r,i){Wy(e,t,r,i,"beforeUpdate")},updated(e,t,r,i){Wy(e,t,r,i,"updated")}};function t7(e,t){switch(e){case"SELECT":return dA;case"TEXTAREA":return um;default:switch(t){case"checkbox":return bb;case"radio":return _b;default:return um}}}function Wy(e,t,r,i,s){const o=t7(e.tagName,r.props&&r.props.type)[s];o&&o(e,t,r,i)}function vle(){um.getSSRProps=({value:e})=>({value:e}),_b.getSSRProps=({value:e},t)=>{if(t.props&&jl(t.props.value,e))return{checked:!0}},bb.getSSRProps=({value:e},t)=>{if(Ee(e)){if(t.props&&X1(e,t.props.value)>-1)return{checked:!0}}else if(Au(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},pA.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const r=t7(t.type.toUpperCase(),t.props&&t.props.type);if(r.getSSRProps)return r.getSSRProps(e,t)}}const ble=["ctrl","shift","alt","meta"],_le={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ble.some(r=>e[`${r}Key`]&&!t.includes(r))},iy=(e,t)=>{const r=e._withMods||(e._withMods={}),i=t.join(".");return r[i]||(r[i]=(s,...n)=>{for(let o=0;o<t.length;o++){const a=_le[t[o]];if(a&&a(s,t))return}return e(s,...n)})},wle={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},mA=(e,t)=>{const r=e._withKeys||(e._withKeys={}),i=t.join(".");return r[i]||(r[i]=s=>{if(!("key"in s))return;const n=ys(s.key);if(t.some(o=>o===n||wle[o]===n))return e(s)})},r7=ot({patchProp:lle},Hae);let dp,OI=!1;function i7(){return dp||(dp=Q3(r7))}function s7(){return dp=OI?dp:eA(r7),OI=!0,dp}const Gh=(...e)=>{i7().render(...e)},n7=(...e)=>{s7().hydrate(...e)},Vl=(...e)=>{const t=i7().createApp(...e),{mount:r}=t;return t.mount=i=>{const s=a7(i);if(!s)return;const n=t._component;!De(n)&&!n.render&&!n.template&&(n.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,o7(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t},yA=(...e)=>{const t=s7().createApp(...e),{mount:r}=t;return t.mount=i=>{const s=a7(i);if(s)return r(s,!0,o7(s))},t};function o7(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function a7(e){return Je(e)?document.querySelector(e):e}let CI=!1;const l7=()=>{CI||(CI=!0,vle(),Zae())},xle=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:R3,BaseTransitionPropsValidators:cb,Comment:Or,DeprecationTypes:B9,EffectScope:Q1,ErrorCodes:d8,ErrorTypeStrings:k9,Fragment:kt,KeepAlive:N8,ReactiveEffect:of,Static:Cl,Suspense:v9,Teleport:k3,Text:Co,TrackOpTypes:l8,Transition:yb,TransitionGroup:vb,TriggerOpTypes:c8,VueElement:ry,assertNumber:f8,callWithAsyncErrorHandling:Vs,callWithErrorHandling:Tu,camelize:zt,capitalize:Yl,cloneVNode:Qn,compatUtils:j9,computed:et,createApp:Vl,createBlock:qt,createCommentVNode:Lt,createElementBlock:be,createElementVNode:oe,createHydrationRenderer:eA,createPropsRestProxy:K8,createRenderer:Q3,createSSRApp:yA,createSlots:R8,createStaticVNode:A9,createTextVNode:Po,createVNode:Ze,customRef:O3,defineAsyncComponent:F3,defineComponent:st,defineCustomElement:hA,defineEmits:U8,defineExpose:j8,defineModel:G8,defineOptions:B8,defineProps:F8,defineSSRCustomElement:J9,defineSlots:V8,devtools:R9,effect:zR,effectScope:Km,getCurrentInstance:Vr,getCurrentScope:eb,getCurrentWatcher:u8,getTransitionRawChildren:Xm,guardReactiveProps:nA,h:un,handleError:Xl,hasInjectionContext:Z3,hydrate:n7,hydrateOnIdle:I8,hydrateOnInteraction:P8,hydrateOnMediaQuery:C8,hydrateOnVisible:O8,initCustomFormatter:P9,initDirectivesForSSR:l7,inject:Br,isMemoSame:lA,isProxy:Zm,isReactive:_s,isReadonly:Ca,isRef:ht,isRuntimeOnly:I9,isShallow:ws,isVNode:Xn,markRaw:ir,mergeDefaults:Y8,mergeModels:J8,mergeProps:mb,nextTick:io,normalizeClass:ur,normalizeProps:RR,normalizeStyle:Jl,onActivated:U3,onBeforeMount:hb,onBeforeUnmount:so,onBeforeUpdate:fb,onDeactivated:j3,onErrorCaptured:q3,onMounted:vi,onRenderTracked:G3,onRenderTriggered:V3,onScopeDispose:A3,onServerPrefetch:B3,onUnmounted:$u,onUpdated:Hf,onWatcherCleanup:N3,openBlock:he,popScopeId:b8,provide:K3,proxyRefs:ob,pushScopeId:v8,queuePostFlushCb:af,reactive:ui,readonly:sb,ref:X,registerRuntimeCompiler:aA,render:Gh,renderList:Ql,renderSlot:Dn,resolveComponent:$r,resolveDirective:Ot,resolveDynamicComponent:H3,resolveFilter:U9,resolveTransitionHooks:du,setBlockTracking:hv,setDevtoolsHook:D9,setTransitionHooks:Bo,shallowReactive:I3,shallowReadonly:i8,shallowRef:zf,ssrContextKey:rA,ssrUtils:F9,stop:HR,toDisplayString:$t,toHandlerKey:zc,toHandlers:D8,toRaw:Ve,toRef:P3,toRefs:C3,toValue:o8,transformVNodeArgs:S9,triggerRef:n8,unref:Me,useAttrs:H8,useCssModule:Z9,useCssVars:uA,useHost:fA,useId:M8,useModel:m9,useSSRContext:iA,useShadowRoot:K9,useSlots:z8,useTemplateRef:av,useTransitionState:lb,vModelCheckbox:bb,vModelDynamic:pA,vModelRadio:_b,vModelSelect:dA,vModelText:um,vShow:gb,version:cA,warn:L9,watch:Qr,watchEffect:f9,watchPostEffect:d9,watchSyncEffect:sA,withAsyncContext:Z8,withCtx:Rr,withDefaults:q8,withDirectives:It,withKeys:mA,withMemo:N9,withModifiers:iy,withScopeId:_8},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const hm=Symbol(""),pp=Symbol(""),gA=Symbol(""),gv=Symbol(""),c7=Symbol(""),yu=Symbol(""),u7=Symbol(""),h7=Symbol(""),vA=Symbol(""),bA=Symbol(""),sy=Symbol(""),_A=Symbol(""),f7=Symbol(""),wA=Symbol(""),xA=Symbol(""),SA=Symbol(""),EA=Symbol(""),AA=Symbol(""),TA=Symbol(""),d7=Symbol(""),p7=Symbol(""),wb=Symbol(""),vv=Symbol(""),$A=Symbol(""),MA=Symbol(""),fm=Symbol(""),ny=Symbol(""),IA=Symbol(""),Kx=Symbol(""),Sle=Symbol(""),Zx=Symbol(""),bv=Symbol(""),Ele=Symbol(""),Ale=Symbol(""),OA=Symbol(""),Tle=Symbol(""),$le=Symbol(""),CA=Symbol(""),m7=Symbol(""),hf={[hm]:"Fragment",[pp]:"Teleport",[gA]:"Suspense",[gv]:"KeepAlive",[c7]:"BaseTransition",[yu]:"openBlock",[u7]:"createBlock",[h7]:"createElementBlock",[vA]:"createVNode",[bA]:"createElementVNode",[sy]:"createCommentVNode",[_A]:"createTextVNode",[f7]:"createStaticVNode",[wA]:"resolveComponent",[xA]:"resolveDynamicComponent",[SA]:"resolveDirective",[EA]:"resolveFilter",[AA]:"withDirectives",[TA]:"renderList",[d7]:"renderSlot",[p7]:"createSlots",[wb]:"toDisplayString",[vv]:"mergeProps",[$A]:"normalizeClass",[MA]:"normalizeStyle",[fm]:"normalizeProps",[ny]:"guardReactiveProps",[IA]:"toHandlers",[Kx]:"camelize",[Sle]:"capitalize",[Zx]:"toHandlerKey",[bv]:"setBlockTracking",[Ele]:"pushScopeId",[Ale]:"popScopeId",[OA]:"withCtx",[Tle]:"unref",[$le]:"isRef",[CA]:"withMemo",[m7]:"isMemoSame"};function Mle(e){Object.getOwnPropertySymbols(e).forEach(t=>{hf[t]=e[t]})}const zs={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Ile(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:zs}}function dm(e,t,r,i,s,n,o,a=!1,l=!1,c=!1,u=zs){return e&&(a?(e.helper(yu),e.helper(pf(e.inSSR,c))):e.helper(df(e.inSSR,c)),o&&e.helper(AA)),{type:13,tag:t,props:r,children:i,patchFlag:s,dynamicProps:n,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function Yc(e,t=zs){return{type:17,loc:t,elements:e}}function hn(e,t=zs){return{type:15,loc:t,properties:e}}function Lr(e,t){return{type:16,loc:zs,key:Je(e)?tt(e,!0):e,value:t}}function tt(e,t=!1,r=zs,i=0){return{type:4,loc:r,content:e,isStatic:t,constType:t?3:i}}function zn(e,t=zs){return{type:8,loc:t,children:e}}function Jr(e,t=[],r=zs){return{type:14,loc:r,callee:e,arguments:t}}function ff(e,t=void 0,r=!1,i=!1,s=zs){return{type:18,params:e,returns:t,newline:r,isSlot:i,loc:s}}function Xx(e,t,r,i=!0){return{type:19,test:e,consequent:t,alternate:r,newline:i,loc:zs}}function Ole(e,t,r=!1,i=!1){return{type:20,index:e,value:t,needPauseTracking:r,inVOnce:i,needArraySpread:!1,loc:zs}}function Cle(e){return{type:21,body:e,loc:zs}}function df(e,t){return e||t?vA:bA}function pf(e,t){return e||t?u7:h7}function PA(e,{helper:t,removeHelper:r,inSSR:i}){e.isBlock||(e.isBlock=!0,r(df(i,e.isComponent)),t(yu),t(pf(i,e.isComponent)))}const PI=new Uint8Array([123,123]),NI=new Uint8Array([125,125]);function LI(e){return e>=97&&e<=122||e>=65&&e<=90}function Ls(e){return e===32||e===10||e===9||e===12||e===13}function Ya(e){return e===47||e===62||Ls(e)}function _v(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}const _i={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let Ple=class{constructor(t,r){this.stack=t,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=PI,this.delimiterClose=NI,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=PI,this.delimiterClose=NI}getPos(t){let r=1,i=t+1;for(let s=this.newlines.length-1;s>=0;s--){const n=this.newlines[s];if(t>n){r=s+2,i=t-n;break}}return{column:i,line:r,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?Ya(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||Ls(t)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const i=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=i}this.sectionStart=r+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===_i.TitleEnd||this.currentSequence===_i.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===_i.Cdata[this.sequenceIndex]?++this.sequenceIndex===_i.Cdata.length&&(this.state=28,this.currentSequence=_i.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===_i.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,r){this.enterRCDATA(t,r),this.state=31}enterRCDATA(t,r){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=r}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):LI(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Ya(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Ya(t)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(_v("</"+r),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){Ls(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=LI(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||Ls(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Ls(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Ls(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Ya(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Ya(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Ya(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Ya(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Ya(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):Ls(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):Ls(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,r){(t===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){Ls(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=_i.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===_i.ScriptEnd[3]?this.startSpecial(_i.ScriptEnd,4):t===_i.StyleEnd[3]?this.startSpecial(_i.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===_i.TitleEnd[3]?this.startSpecial(_i.TitleEnd,4):t===_i.TextareaEnd[3]?this.startSpecial(_i.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===_i.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,r){}};function kI(e,{compatConfig:t}){const r=t&&t[e];return e==="MODE"?r||3:r}function Jc(e,t){const r=kI("MODE",t),i=kI(e,t);return r===3?i===!0:i!==!1}function pm(e,t,r,...i){return Jc(e,t)}function NA(e){throw e}function y7(e){}function tr(e,t,r,i){const s=`https://vuejs.org/error-reference/#compiler-${e}`,n=new SyntaxError(String(s));return n.code=e,n.loc=t,n}const bs=e=>e.type===4&&e.isStatic;function g7(e){switch(e){case"Teleport":case"teleport":return pp;case"Suspense":case"suspense":return gA;case"KeepAlive":case"keep-alive":return gv;case"BaseTransition":case"base-transition":return c7}}const Nle=/^\d|[^\$\w\xA0-\uFFFF]/,LA=e=>!Nle.test(e),Lle=/[A-Za-z_$\xA0-\uFFFF]/,kle=/[\.\?\w$\xA0-\uFFFF]/,Rle=/\s+[.[]\s*|\s*[.[]\s+/g,v7=e=>e.type===4?e.content:e.loc.source,Dle=e=>{const t=v7(e).trim().replace(Rle,a=>a.trim());let r=0,i=[],s=0,n=0,o=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(r){case 0:if(l==="[")i.push(r),r=1,s++;else if(l==="(")i.push(r),r=2,n++;else if(!(a===0?Lle:kle).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(i.push(r),r=3,o=l):l==="["?s++:l==="]"&&(--s||(r=i.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")i.push(r),r=3,o=l;else if(l==="(")n++;else if(l===")"){if(a===t.length-1)return!1;--n||(r=i.pop())}break;case 3:l===o&&(r=i.pop(),o=null);break}}return!s&&!n},b7=Dle,Fle=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Ule=e=>Fle.test(v7(e)),jle=Ule;function nn(e,t,r=!1){for(let i=0;i<e.props.length;i++){const s=e.props[i];if(s.type===7&&(r||s.exp)&&(Je(t)?s.name===t:t.test(s.name)))return s}}function xb(e,t,r=!1,i=!1){for(let s=0;s<e.props.length;s++){const n=e.props[s];if(n.type===6){if(r)continue;if(n.name===t&&(n.value||i))return n}else if(n.name==="bind"&&(n.exp||i)&&Dc(n.arg,t))return n}}function Dc(e,t){return!!(e&&bs(e)&&e.content===t)}function Ble(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function e_(e){return e.type===5||e.type===2}function Vle(e){return e.type===7&&e.name==="slot"}function wv(e){return e.type===1&&e.tagType===3}function xv(e){return e.type===1&&e.tagType===2}const Gle=new Set([fm,ny]);function _7(e,t=[]){if(e&&!Je(e)&&e.type===14){const r=e.callee;if(!Je(r)&&Gle.has(r))return _7(e.arguments[0],t.concat(e))}return[e,t]}function Sv(e,t,r){let i,s=e.type===13?e.props:e.arguments[2],n=[],o;if(s&&!Je(s)&&s.type===14){const a=_7(s);s=a[0],n=a[1],o=n[n.length-1]}if(s==null||Je(s))i=hn([t]);else if(s.type===14){const a=s.arguments[0];!Je(a)&&a.type===15?RI(t,a)||a.properties.unshift(t):s.callee===IA?i=Jr(r.helper(vv),[hn([t]),s]):s.arguments.unshift(hn([t])),!i&&(i=s)}else s.type===15?(RI(t,s)||s.properties.unshift(t),i=s):(i=Jr(r.helper(vv),[hn([t]),s]),o&&o.callee===ny&&(o=n[n.length-2]));e.type===13?o?o.arguments[0]=i:e.props=i:o?o.arguments[0]=i:e.arguments[2]=i}function RI(e,t){let r=!1;if(e.key.type===4){const i=e.key.content;r=t.properties.some(s=>s.key.type===4&&s.key.content===i)}return r}function mm(e,t){return`_${t}_${e.replace(/[^\w]/g,(r,i)=>r==="-"?"_":e.charCodeAt(i).toString())}`}function qle(e){return e.type===14&&e.callee===CA?e.arguments[1].returns:e}const zle=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,w7={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Fd,isPreTag:Fd,isIgnoreNewlineTag:Fd,isCustomElement:Fd,onError:NA,onWarn:y7,comments:!1,prefixIdentifiers:!1};let wt=w7,ym=null,$a="",$i=null,ct=null,ns="",la=-1,Oc=-1,kA=0,fl=!1,Qx=null;const Zt=[],br=new Ple(Zt,{onerr:Zo,ontext(e,t){Yy(pi(e,t),e,t)},ontextentity(e,t,r){Yy(e,t,r)},oninterpolation(e,t){if(fl)return Yy(pi(e,t),e,t);let r=e+br.delimiterOpen.length,i=t-br.delimiterClose.length;for(;Ls($a.charCodeAt(r));)r++;for(;Ls($a.charCodeAt(i-1));)i--;let s=pi(r,i);s.includes("&")&&(s=wt.decodeEntities(s,!1)),eS({type:5,content:ag(s,!1,Er(r,i)),loc:Er(e,t)})},onopentagname(e,t){const r=pi(e,t);$i={type:1,tag:r,ns:wt.getNamespace(r,Zt[0],wt.ns),tagType:0,props:[],children:[],loc:Er(e-1,t),codegenNode:void 0}},onopentagend(e){FI(e)},onclosetag(e,t){const r=pi(e,t);if(!wt.isVoidTag(r)){let i=!1;for(let s=0;s<Zt.length;s++)if(Zt[s].tag.toLowerCase()===r.toLowerCase()){i=!0,s>0&&Zo(24,Zt[0].loc.start.offset);for(let o=0;o<=s;o++){const a=Zt.shift();og(a,t,o<s)}break}i||Zo(23,x7(e,60))}},onselfclosingtag(e){const t=$i.tag;$i.isSelfClosing=!0,FI(e),Zt[0]&&Zt[0].tag===t&&og(Zt.shift(),e)},onattribname(e,t){ct={type:6,name:pi(e,t),nameLoc:Er(e,t),value:void 0,loc:Er(e)}},ondirname(e,t){const r=pi(e,t),i=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!fl&&i===""&&Zo(26,e),fl||i==="")ct={type:6,name:r,nameLoc:Er(e,t),value:void 0,loc:Er(e)};else if(ct={type:7,name:i,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[tt("prop")]:[],loc:Er(e)},i==="pre"){fl=br.inVPre=!0,Qx=$i;const s=$i.props;for(let n=0;n<s.length;n++)s[n].type===7&&(s[n]=rce(s[n]))}},ondirarg(e,t){if(e===t)return;const r=pi(e,t);if(fl)ct.name+=r,Fc(ct.nameLoc,t);else{const i=r[0]!=="[";ct.arg=ag(i?r:r.slice(1,-1),i,Er(e,t),i?3:0)}},ondirmodifier(e,t){const r=pi(e,t);if(fl)ct.name+="."+r,Fc(ct.nameLoc,t);else if(ct.name==="slot"){const i=ct.arg;i&&(i.content+="."+r,Fc(i.loc,t))}else{const i=tt(r,!0,Er(e,t));ct.modifiers.push(i)}},onattribdata(e,t){ns+=pi(e,t),la<0&&(la=e),Oc=t},onattribentity(e,t,r){ns+=e,la<0&&(la=t),Oc=r},onattribnameend(e){const t=ct.loc.start.offset,r=pi(t,e);ct.type===7&&(ct.rawName=r),$i.props.some(i=>(i.type===7?i.rawName:i.name)===r)&&Zo(2,t)},onattribend(e,t){if($i&&ct){if(Fc(ct.loc,t),e!==0)if(ns.includes("&")&&(ns=wt.decodeEntities(ns,!0)),ct.type===6)ct.name==="class"&&(ns=E7(ns).trim()),e===1&&!ns&&Zo(13,t),ct.value={type:2,content:ns,loc:e===1?Er(la,Oc):Er(la-1,Oc+1)},br.inSFCRoot&&$i.tag==="template"&&ct.name==="lang"&&ns&&ns!=="html"&&br.enterRCDATA(_v("</template"),0);else{let r=0;ct.exp=ag(ns,!1,Er(la,Oc),0,r),ct.name==="for"&&(ct.forParseResult=Wle(ct.exp));let i=-1;ct.name==="bind"&&(i=ct.modifiers.findIndex(s=>s.content==="sync"))>-1&&pm("COMPILER_V_BIND_SYNC",wt,ct.loc,ct.rawName)&&(ct.name="model",ct.modifiers.splice(i,1))}(ct.type!==7||ct.name!=="pre")&&$i.props.push(ct)}ns="",la=Oc=-1},oncomment(e,t){wt.comments&&eS({type:3,content:pi(e,t),loc:Er(e-4,t+3)})},onend(){const e=$a.length;for(let t=0;t<Zt.length;t++)og(Zt[t],e-1),Zo(24,Zt[t].loc.start.offset)},oncdata(e,t){Zt[0].ns!==0?Yy(pi(e,t),e,t):Zo(1,e-9)},onprocessinginstruction(e){(Zt[0]?Zt[0].ns:wt.ns)===0&&Zo(21,e-1)}}),DI=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Hle=/^\(|\)$/g;function Wle(e){const t=e.loc,r=e.content,i=r.match(zle);if(!i)return;const[,s,n]=i,o=(d,p,y=!1)=>{const v=t.start.offset+p,b=v+d.length;return ag(d,!1,Er(v,b),0,y?1:0)},a={source:o(n.trim(),r.indexOf(n,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=s.trim().replace(Hle,"").trim();const c=s.indexOf(l),u=l.match(DI);if(u){l=l.replace(DI,"").trim();const d=u[1].trim();let p;if(d&&(p=r.indexOf(d,c+l.length),a.key=o(d,p,!0)),u[2]){const y=u[2].trim();y&&(a.index=o(y,r.indexOf(y,a.key?p+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function pi(e,t){return $a.slice(e,t)}function FI(e){br.inSFCRoot&&($i.innerLoc=Er(e+1,e+1)),eS($i);const{tag:t,ns:r}=$i;r===0&&wt.isPreTag(t)&&kA++,wt.isVoidTag(t)?og($i,e):(Zt.unshift($i),(r===1||r===2)&&(br.inXML=!0)),$i=null}function Yy(e,t,r){{const n=Zt[0]&&Zt[0].tag;n!=="script"&&n!=="style"&&e.includes("&")&&(e=wt.decodeEntities(e,!1))}const i=Zt[0]||ym,s=i.children[i.children.length-1];s&&s.type===2?(s.content+=e,Fc(s.loc,r)):i.children.push({type:2,content:e,loc:Er(t,r)})}function og(e,t,r=!1){r?Fc(e.loc,x7(t,60)):Fc(e.loc,Yle(t,62)+1),br.inSFCRoot&&(e.children.length?e.innerLoc.end=ot({},e.children[e.children.length-1].loc.end):e.innerLoc.end=ot({},e.innerLoc.start),e.innerLoc.source=pi(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:i,ns:s,children:n}=e;if(fl||(i==="slot"?e.tagType=2:UI(e)?e.tagType=3:Kle(e)&&(e.tagType=1)),br.inRCDATA||(e.children=S7(n)),s===0&&wt.isIgnoreNewlineTag(i)){const o=n[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}s===0&&wt.isPreTag(i)&&kA--,Qx===e&&(fl=br.inVPre=!1,Qx=null),br.inXML&&(Zt[0]?Zt[0].ns:wt.ns)===0&&(br.inXML=!1);{const o=e.props;if(!br.inSFCRoot&&Jc("COMPILER_NATIVE_TEMPLATE",wt)&&e.tag==="template"&&!UI(e)){const l=Zt[0]||ym,c=l.children.indexOf(e);l.children.splice(c,1,...e.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&pm("COMPILER_INLINE_TEMPLATE",wt,a.loc)&&e.children.length&&(a.value={type:2,content:pi(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function Yle(e,t){let r=e;for(;$a.charCodeAt(r)!==t&&r<$a.length-1;)r++;return r}function x7(e,t){let r=e;for(;$a.charCodeAt(r)!==t&&r>=0;)r--;return r}const Jle=new Set(["if","else","else-if","for","slot"]);function UI({tag:e,props:t}){if(e==="template"){for(let r=0;r<t.length;r++)if(t[r].type===7&&Jle.has(t[r].name))return!0}return!1}function Kle({tag:e,props:t}){if(wt.isCustomElement(e))return!1;if(e==="component"||Zle(e.charCodeAt(0))||g7(e)||wt.isBuiltInComponent&&wt.isBuiltInComponent(e)||wt.isNativeTag&&!wt.isNativeTag(e))return!0;for(let r=0;r<t.length;r++){const i=t[r];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(pm("COMPILER_IS_ON_ELEMENT",wt,i.loc))return!0}}else if(i.name==="bind"&&Dc(i.arg,"is")&&pm("COMPILER_IS_ON_ELEMENT",wt,i.loc))return!0}return!1}function Zle(e){return e>64&&e<91}const Xle=/\r\n/g;function S7(e,t){const r=wt.whitespace!=="preserve";let i=!1;for(let s=0;s<e.length;s++){const n=e[s];if(n.type===2)if(kA)n.content=n.content.replace(Xle,`
`);else if(Qle(n.content)){const o=e[s-1]&&e[s-1].type,a=e[s+1]&&e[s+1].type;!o||!a||r&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&ece(n.content)))?(i=!0,e[s]=null):n.content=" "}else r&&(n.content=E7(n.content))}return i?e.filter(Boolean):e}function Qle(e){for(let t=0;t<e.length;t++)if(!Ls(e.charCodeAt(t)))return!1;return!0}function ece(e){for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r===10||r===13)return!0}return!1}function E7(e){let t="",r=!1;for(let i=0;i<e.length;i++)Ls(e.charCodeAt(i))?r||(t+=" ",r=!0):(t+=e[i],r=!1);return t}function eS(e){(Zt[0]||ym).children.push(e)}function Er(e,t){return{start:br.getPos(e),end:t==null?t:br.getPos(t),source:t==null?t:pi(e,t)}}function tce(e){return Er(e.start.offset,e.end.offset)}function Fc(e,t){e.end=br.getPos(t),e.source=pi(e.start.offset,t)}function rce(e){const t={type:6,name:e.rawName,nameLoc:Er(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const r=e.exp.loc;r.end.offset<e.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),t.value={type:2,content:e.exp.content,loc:r}}return t}function ag(e,t=!1,r,i=0,s=0){return tt(e,t,r,i)}function Zo(e,t,r){wt.onError(tr(e,Er(t,t)))}function ice(){br.reset(),$i=null,ct=null,ns="",la=-1,Oc=-1,Zt.length=0}function sce(e,t){if(ice(),$a=e,wt=ot({},w7),t){let s;for(s in t)t[s]!=null&&(wt[s]=t[s])}br.mode=wt.parseMode==="html"?1:wt.parseMode==="sfc"?2:0,br.inXML=wt.ns===1||wt.ns===2;const r=t&&t.delimiters;r&&(br.delimiterOpen=_v(r[0]),br.delimiterClose=_v(r[1]));const i=ym=Ile([],e);return br.parse($a),i.loc=Er(0,e.length),i.children=S7(i.children),ym=null,i}function nce(e,t){lg(e,void 0,t,A7(e,e.children[0]))}function A7(e,t){const{children:r}=e;return r.length===1&&t.type===1&&!xv(t)}function lg(e,t,r,i=!1,s=!1){const{children:n}=e,o=[];for(let u=0;u<n.length;u++){const d=n[u];if(d.type===1&&d.tagType===0){const p=i?0:Us(d,r);if(p>0){if(p>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const v=y.patchFlag;if((v===void 0||v===512||v===1)&&$7(d,r)>=2){const b=M7(d);b&&(y.props=r.hoist(b))}y.dynamicProps&&(y.dynamicProps=r.hoist(y.dynamicProps))}}}else if(d.type===12&&(i?0:Us(d,r))>=2){o.push(d);continue}if(d.type===1){const p=d.tagType===1;p&&r.scopes.vSlot++,lg(d,e,r,!1,s),p&&r.scopes.vSlot--}else if(d.type===11)lg(d,e,r,d.children.length===1,!0);else if(d.type===9)for(let p=0;p<d.branches.length;p++)lg(d.branches[p],e,r,d.branches[p].children.length===1,s)}let a=!1;if(o.length===n.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Ee(e.codegenNode.children))e.codegenNode.children=l(Yc(e.codegenNode.children)),a=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Ee(e.codegenNode.children)&&e.codegenNode.children.type===15){const u=c(e.codegenNode,"default");u&&(u.returns=l(Yc(u.returns)),a=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Ee(t.codegenNode.children)&&t.codegenNode.children.type===15){const u=nn(e,"slot",!0),d=u&&u.arg&&c(t.codegenNode,u.arg);d&&(d.returns=l(Yc(d.returns)),a=!0)}}if(!a)for(const u of o)u.codegenNode=r.cache(u.codegenNode);function l(u){const d=r.cache(u);return s&&r.hmr&&(d.needArraySpread=!0),d}function c(u,d){if(u.children&&!Ee(u.children)&&u.children.type===15){const p=u.children.properties.find(y=>y.key===d||y.key.content===d);return p&&p.value}}o.length&&r.transformHoist&&r.transformHoist(n,r,e)}function Us(e,t){const{constantCache:r}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const i=r.get(e);if(i!==void 0)return i;const s=e.codegenNode;if(s.type!==13||s.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(s.patchFlag===void 0){let o=3;const a=$7(e,t);if(a===0)return r.set(e,0),0;a<o&&(o=a);for(let l=0;l<e.children.length;l++){const c=Us(e.children[l],t);if(c===0)return r.set(e,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const u=Us(c.exp,t);if(u===0)return r.set(e,0),0;u<o&&(o=u)}}if(s.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return r.set(e,0),0;t.removeHelper(yu),t.removeHelper(pf(t.inSSR,s.isComponent)),s.isBlock=!1,t.helper(df(t.inSSR,s.isComponent))}return r.set(e,o),o}else return r.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Us(e.content,t);case 4:return e.constType;case 8:let n=3;for(let o=0;o<e.children.length;o++){const a=e.children[o];if(Je(a)||$s(a))continue;const l=Us(a,t);if(l===0)return 0;l<n&&(n=l)}return n;case 20:return 2;default:return 0}}const oce=new Set([$A,MA,fm,ny]);function T7(e,t){if(e.type===14&&!Je(e.callee)&&oce.has(e.callee)){const r=e.arguments[0];if(r.type===4)return Us(r,t);if(r.type===14)return T7(r,t)}return 0}function $7(e,t){let r=3;const i=M7(e);if(i&&i.type===15){const{properties:s}=i;for(let n=0;n<s.length;n++){const{key:o,value:a}=s[n],l=Us(o,t);if(l===0)return l;l<r&&(r=l);let c;if(a.type===4?c=Us(a,t):a.type===14?c=T7(a,t):c=0,c===0)return c;c<r&&(r=c)}}return r}function M7(e){const t=e.codegenNode;if(t.type===13)return t.props}function ace(e,{filename:t="",prefixIdentifiers:r=!1,hoistStatic:i=!1,hmr:s=!1,cacheHandlers:n=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=yi,isCustomElement:u=yi,expressionPlugins:d=[],scopeId:p=null,slotted:y=!0,ssr:v=!1,inSSR:b=!1,ssrCssVars:S="",bindingMetadata:w=nt,inline:T=!1,isTS:x=!1,onError:_=NA,onWarn:$=y7,compatConfig:M}){const N=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),C={filename:t,selfName:N&&Yl(zt(N[1])),prefixIdentifiers:r,hoistStatic:i,hmr:s,cacheHandlers:n,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:u,expressionPlugins:d,scopeId:p,slotted:y,ssr:v,inSSR:b,ssrCssVars:S,bindingMetadata:w,inline:T,isTS:x,onError:_,onWarn:$,compatConfig:M,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(P){const k=C.helpers.get(P)||0;return C.helpers.set(P,k+1),P},removeHelper(P){const k=C.helpers.get(P);if(k){const V=k-1;V?C.helpers.set(P,V):C.helpers.delete(P)}},helperString(P){return`_${hf[C.helper(P)]}`},replaceNode(P){C.parent.children[C.childIndex]=C.currentNode=P},removeNode(P){const k=C.parent.children,V=P?k.indexOf(P):C.currentNode?C.childIndex:-1;!P||P===C.currentNode?(C.currentNode=null,C.onNodeRemoved()):C.childIndex>V&&(C.childIndex--,C.onNodeRemoved()),C.parent.children.splice(V,1)},onNodeRemoved:yi,addIdentifiers(P){},removeIdentifiers(P){},hoist(P){Je(P)&&(P=tt(P)),C.hoists.push(P);const k=tt(`_hoisted_${C.hoists.length}`,!1,P.loc,2);return k.hoisted=P,k},cache(P,k=!1,V=!1){const U=Ole(C.cached.length,P,k,V);return C.cached.push(U),U}};return C.filters=new Set,C}function lce(e,t){const r=ace(e,t);Sb(e,r),t.hoistStatic&&nce(e,r),t.ssr||cce(e,r),e.helpers=new Set([...r.helpers.keys()]),e.components=[...r.components],e.directives=[...r.directives],e.imports=r.imports,e.hoists=r.hoists,e.temps=r.temps,e.cached=r.cached,e.transformed=!0,e.filters=[...r.filters]}function cce(e,t){const{helper:r}=t,{children:i}=e;if(i.length===1){const s=i[0];if(A7(e,s)&&s.codegenNode){const n=s.codegenNode;n.type===13&&PA(n,t),e.codegenNode=n}else e.codegenNode=s}else if(i.length>1){let s=64;e.codegenNode=dm(t,r(hm),void 0,e.children,s,void 0,void 0,!0,void 0,!1)}}function uce(e,t){let r=0;const i=()=>{r--};for(;r<e.children.length;r++){const s=e.children[r];Je(s)||(t.grandParent=t.parent,t.parent=e,t.childIndex=r,t.onNodeRemoved=i,Sb(s,t))}}function Sb(e,t){t.currentNode=e;const{nodeTransforms:r}=t,i=[];for(let n=0;n<r.length;n++){const o=r[n](e,t);if(o&&(Ee(o)?i.push(...o):i.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(sy);break;case 5:t.ssr||t.helper(wb);break;case 9:for(let n=0;n<e.branches.length;n++)Sb(e.branches[n],t);break;case 10:case 11:case 1:case 0:uce(e,t);break}t.currentNode=e;let s=i.length;for(;s--;)i[s]()}function I7(e,t){const r=Je(e)?i=>i===e:i=>e.test(i);return(i,s)=>{if(i.type===1){const{props:n}=i;if(i.tagType===3&&n.some(Vle))return;const o=[];for(let a=0;a<n.length;a++){const l=n[a];if(l.type===7&&r(l.name)){n.splice(a,1),a--;const c=t(i,l,s);c&&o.push(c)}}return o}}}const Eb="/*@__PURE__*/",O7=e=>`${hf[e]}: _${hf[e]}`;function hce(e,{mode:t="function",prefixIdentifiers:r=t==="module",sourceMap:i=!1,filename:s="template.vue.html",scopeId:n=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:d=!1,inSSR:p=!1}){const y={mode:t,prefixIdentifiers:r,sourceMap:i,filename:s,scopeId:n,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:d,inSSR:p,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${hf[b]}`},push(b,S=-2,w){y.code+=b},indent(){v(++y.indentLevel)},deindent(b=!1){b?--y.indentLevel:v(--y.indentLevel)},newline(){v(y.indentLevel)}};function v(b){y.push(`
`+"  ".repeat(b),0)}return y}function fce(e,t={}){const r=hce(e,t);t.onContextCreated&&t.onContextCreated(r);const{mode:i,push:s,prefixIdentifiers:n,indent:o,deindent:a,newline:l,scopeId:c,ssr:u}=r,d=Array.from(e.helpers),p=d.length>0,y=!n&&i!=="module";dce(e,r);const b=u?"ssrRender":"render",w=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${b}(${w}) {`),o(),y&&(s("with (_ctx) {"),o(),p&&(s(`const { ${d.map(O7).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(t_(e.components,"component",r),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(t_(e.directives,"directive",r),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),t_(e.filters,"filter",r),l()),e.temps>0){s("let ");for(let T=0;T<e.temps;T++)s(`${T>0?", ":""}_temp${T}`)}return(e.components.length||e.directives.length||e.temps)&&(s(`
`,0),l()),u||s("return "),e.codegenNode?Di(e.codegenNode,r):s("null"),y&&(a(),s("}")),a(),s("}"),{ast:e,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function dce(e,t){const{ssr:r,prefixIdentifiers:i,push:s,newline:n,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,u=Array.from(e.helpers);if(u.length>0&&(s(`const _Vue = ${c}
`,-1),e.hoists.length)){const d=[vA,bA,sy,_A,f7].filter(p=>u.includes(p)).map(O7).join(", ");s(`const { ${d} } = _Vue
`,-1)}pce(e.hoists,t),n(),s("return ")}function t_(e,t,{helper:r,push:i,newline:s,isTS:n}){const o=r(t==="filter"?EA:t==="component"?wA:SA);for(let a=0;a<e.length;a++){let l=e[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),i(`const ${mm(l,t)} = ${o}(${JSON.stringify(l)}${c?", true":""})${n?"!":""}`),a<e.length-1&&s()}}function pce(e,t){if(!e.length)return;t.pure=!0;const{push:r,newline:i}=t;i();for(let s=0;s<e.length;s++){const n=e[s];n&&(r(`const _hoisted_${s+1} = `),Di(n,t),i())}t.pure=!1}function RA(e,t){const r=e.length>3||!1;t.push("["),r&&t.indent(),oy(e,t,r),r&&t.deindent(),t.push("]")}function oy(e,t,r=!1,i=!0){const{push:s,newline:n}=t;for(let o=0;o<e.length;o++){const a=e[o];Je(a)?s(a,-3):Ee(a)?RA(a,t):Di(a,t),o<e.length-1&&(r?(i&&s(","),n()):i&&s(", "))}}function Di(e,t){if(Je(e)){t.push(e,-3);return}if($s(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Di(e.codegenNode,t);break;case 2:mce(e,t);break;case 4:C7(e,t);break;case 5:yce(e,t);break;case 12:Di(e.codegenNode,t);break;case 8:P7(e,t);break;case 3:vce(e,t);break;case 13:bce(e,t);break;case 14:wce(e,t);break;case 15:xce(e,t);break;case 17:Sce(e,t);break;case 18:Ece(e,t);break;case 19:Ace(e,t);break;case 20:Tce(e,t);break;case 21:oy(e.body,t,!0,!1);break}}function mce(e,t){t.push(JSON.stringify(e.content),-3,e)}function C7(e,t){const{content:r,isStatic:i}=e;t.push(i?JSON.stringify(r):r,-3,e)}function yce(e,t){const{push:r,helper:i,pure:s}=t;s&&r(Eb),r(`${i(wb)}(`),Di(e.content,t),r(")")}function P7(e,t){for(let r=0;r<e.children.length;r++){const i=e.children[r];Je(i)?t.push(i,-3):Di(i,t)}}function gce(e,t){const{push:r}=t;if(e.type===8)r("["),P7(e,t),r("]");else if(e.isStatic){const i=LA(e.content)?e.content:JSON.stringify(e.content);r(i,-2,e)}else r(`[${e.content}]`,-3,e)}function vce(e,t){const{push:r,helper:i,pure:s}=t;s&&r(Eb),r(`${i(sy)}(${JSON.stringify(e.content)})`,-3,e)}function bce(e,t){const{push:r,helper:i,pure:s}=t,{tag:n,props:o,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:d,disableTracking:p,isComponent:y}=e;let v;l&&(v=String(l)),u&&r(i(AA)+"("),d&&r(`(${i(yu)}(${p?"true":""}), `),s&&r(Eb);const b=d?pf(t.inSSR,y):df(t.inSSR,y);r(i(b)+"(",-2,e),oy(_ce([n,o,a,v,c]),t),r(")"),d&&r(")"),u&&(r(", "),Di(u,t),r(")"))}function _ce(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(r=>r||"null")}function wce(e,t){const{push:r,helper:i,pure:s}=t,n=Je(e.callee)?e.callee:i(e.callee);s&&r(Eb),r(n+"(",-2,e),oy(e.arguments,t),r(")")}function xce(e,t){const{push:r,indent:i,deindent:s,newline:n}=t,{properties:o}=e;if(!o.length){r("{}",-2,e);return}const a=o.length>1||!1;r(a?"{":"{ "),a&&i();for(let l=0;l<o.length;l++){const{key:c,value:u}=o[l];gce(c,t),r(": "),Di(u,t),l<o.length-1&&(r(","),n())}a&&s(),r(a?"}":" }")}function Sce(e,t){RA(e.elements,t)}function Ece(e,t){const{push:r,indent:i,deindent:s}=t,{params:n,returns:o,body:a,newline:l,isSlot:c}=e;c&&r(`_${hf[OA]}(`),r("(",-2,e),Ee(n)?oy(n,t):n&&Di(n,t),r(") => "),(l||a)&&(r("{"),i()),o?(l&&r("return "),Ee(o)?RA(o,t):Di(o,t)):a&&Di(a,t),(l||a)&&(s(),r("}")),c&&(e.isNonScopedSlot&&r(", undefined, true"),r(")"))}function Ace(e,t){const{test:r,consequent:i,alternate:s,newline:n}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(r.type===4){const d=!LA(r.content);d&&o("("),C7(r,t),d&&o(")")}else o("("),Di(r,t),o(")");n&&a(),t.indentLevel++,n||o(" "),o("? "),Di(i,t),t.indentLevel--,n&&c(),n||o(" "),o(": ");const u=s.type===19;u||t.indentLevel++,Di(s,t),u||t.indentLevel--,n&&l(!0)}function Tce(e,t){const{push:r,helper:i,indent:s,deindent:n,newline:o}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&r("[...("),r(`_cache[${e.index}] || (`),a&&(s(),r(`${i(bv)}(-1`),e.inVOnce&&r(", true"),r("),"),o(),r("(")),r(`_cache[${e.index}] = `),Di(e.value,t),a&&(r(`).cacheIndex = ${e.index},`),o(),r(`${i(bv)}(1),`),o(),r(`_cache[${e.index}]`),n()),r(")"),l&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const $ce=I7(/^(if|else|else-if)$/,(e,t,r)=>Mce(e,t,r,(i,s,n)=>{const o=r.parent.children;let a=o.indexOf(i),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(n)i.codegenNode=BI(s,l,r);else{const c=Ice(i.codegenNode);c.alternate=BI(s,l+i.branches.length-1,r)}}}));function Mce(e,t,r,i){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const s=t.exp?t.exp.loc:e.loc;r.onError(tr(28,t.loc)),t.exp=tt("true",!1,s)}if(t.name==="if"){const s=jI(e,t),n={type:9,loc:tce(e.loc),branches:[s]};if(r.replaceNode(n),i)return i(n,s,!0)}else{const s=r.parent.children;let n=s.indexOf(e);for(;n-->=-1;){const o=s[n];if(o&&o.type===3){r.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){r.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&r.onError(tr(30,e.loc)),r.removeNode();const a=jI(e,t);o.branches.push(a);const l=i&&i(o,a,!1);Sb(a,r),l&&l(),r.currentNode=null}else r.onError(tr(30,e.loc));break}}}function jI(e,t){const r=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:r&&!nn(e,"for")?e.children:[e],userKey:xb(e,"key"),isTemplateIf:r}}function BI(e,t,r){return e.condition?Xx(e.condition,VI(e,t,r),Jr(r.helper(sy),['""',"true"])):VI(e,t,r)}function VI(e,t,r){const{helper:i}=r,s=Lr("key",tt(`${t}`,!1,zs,2)),{children:n}=e,o=n[0];if(n.length!==1||o.type!==1)if(n.length===1&&o.type===11){const l=o.codegenNode;return Sv(l,s,r),l}else return dm(r,i(hm),hn([s]),n,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=o.codegenNode,c=qle(l);return c.type===13&&PA(c,r),Sv(c,s,r),l}}function Ice(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const Oce=(e,t,r)=>{const{modifiers:i,loc:s}=e,n=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(n.type!==4||!n.isStatic)return r.onError(tr(52,n.loc)),{props:[Lr(n,tt("",!0,s))]};N7(e),o=e.exp}return n.type!==4?(n.children.unshift("("),n.children.push(') || ""')):n.isStatic||(n.content=`${n.content} || ""`),i.some(a=>a.content==="camel")&&(n.type===4?n.isStatic?n.content=zt(n.content):n.content=`${r.helperString(Kx)}(${n.content})`:(n.children.unshift(`${r.helperString(Kx)}(`),n.children.push(")"))),r.inSSR||(i.some(a=>a.content==="prop")&&GI(n,"."),i.some(a=>a.content==="attr")&&GI(n,"^")),{props:[Lr(n,o)]}},N7=(e,t)=>{const r=e.arg,i=zt(r.content);e.exp=tt(i,!1,r.loc)},GI=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Cce=I7("for",(e,t,r)=>{const{helper:i,removeHelper:s}=r;return Pce(e,t,r,n=>{const o=Jr(i(TA),[n.source]),a=wv(e),l=nn(e,"memo"),c=xb(e,"key",!1,!0);c&&c.type===7&&!c.exp&&N7(c);let d=c&&(c.type===6?c.value?tt(c.value.content,!0):void 0:c.exp);const p=c&&d?Lr("key",d):null,y=n.source.type===4&&n.source.constType>0,v=y?64:c?128:256;return n.codegenNode=dm(r,i(hm),void 0,o,v,void 0,void 0,!0,!y,!1,e.loc),()=>{let b;const{children:S}=n,w=S.length!==1||S[0].type!==1,T=xv(e)?e:a&&e.children.length===1&&xv(e.children[0])?e.children[0]:null;if(T?(b=T.codegenNode,a&&p&&Sv(b,p,r)):w?b=dm(r,i(hm),p?hn([p]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(b=S[0].codegenNode,a&&p&&Sv(b,p,r),b.isBlock!==!y&&(b.isBlock?(s(yu),s(pf(r.inSSR,b.isComponent))):s(df(r.inSSR,b.isComponent))),b.isBlock=!y,b.isBlock?(i(yu),i(pf(r.inSSR,b.isComponent))):i(df(r.inSSR,b.isComponent))),l){const x=ff(tS(n.parseResult,[tt("_cached")]));x.body=Cle([zn(["const _memo = (",l.exp,")"]),zn(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${r.helperString(m7)}(_cached, _memo)) return _cached`]),zn(["const _item = ",b]),tt("_item.memo = _memo"),tt("return _item")]),o.arguments.push(x,tt("_cache"),tt(String(r.cached.length))),r.cached.push(null)}else o.arguments.push(ff(tS(n.parseResult),b,!0))}})});function Pce(e,t,r,i){if(!t.exp){r.onError(tr(31,t.loc));return}const s=t.forParseResult;if(!s){r.onError(tr(32,t.loc));return}L7(s);const{addIdentifiers:n,removeIdentifiers:o,scopes:a}=r,{source:l,value:c,key:u,index:d}=s,p={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:d,parseResult:s,children:wv(e)?e.children:[e]};r.replaceNode(p),a.vFor++;const y=i&&i(p);return()=>{a.vFor--,y&&y()}}function L7(e,t){e.finalized||(e.finalized=!0)}function tS({value:e,key:t,index:r},i=[]){return Nce([e,t,r,...i])}function Nce(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((r,i)=>r||tt("_".repeat(i+1),!1))}const qI=tt("undefined",!1),Lce=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const r=nn(e,"slot");if(r)return r.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},kce=(e,t,r,i)=>ff(e,r,!1,!0,r.length?r[0].loc:i);function Rce(e,t,r=kce){t.helper(OA);const{children:i,loc:s}=e,n=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=nn(e,"slot",!0);if(l){const{arg:S,exp:w}=l;S&&!bs(S)&&(a=!0),n.push(Lr(S||tt("default",!0),r(w,void 0,i,s)))}let c=!1,u=!1;const d=[],p=new Set;let y=0;for(let S=0;S<i.length;S++){const w=i[S];let T;if(!wv(w)||!(T=nn(w,"slot",!0))){w.type!==3&&d.push(w);continue}if(l){t.onError(tr(37,T.loc));break}c=!0;const{children:x,loc:_}=w,{arg:$=tt("default",!0),exp:M,loc:N}=T;let C;bs($)?C=$?$.content:"default":a=!0;const P=nn(w,"for"),k=r(M,P,x,_);let V,U;if(V=nn(w,"if"))a=!0,o.push(Xx(V.exp,Jy($,k,y++),qI));else if(U=nn(w,/^else(-if)?$/,!0)){let j=S,Y;for(;j--&&(Y=i[j],Y.type===3););if(Y&&wv(Y)&&nn(Y,/^(else-)?if$/)){let f=o[o.length-1];for(;f.alternate.type===19;)f=f.alternate;f.alternate=U.exp?Xx(U.exp,Jy($,k,y++),qI):Jy($,k,y++)}else t.onError(tr(30,U.loc))}else if(P){a=!0;const j=P.forParseResult;j?(L7(j),o.push(Jr(t.helper(TA),[j.source,ff(tS(j),Jy($,k),!0)]))):t.onError(tr(32,P.loc))}else{if(C){if(p.has(C)){t.onError(tr(38,N));continue}p.add(C),C==="default"&&(u=!0)}n.push(Lr($,k))}}if(!l){const S=(w,T)=>{const x=r(w,void 0,T,s);return t.compatConfig&&(x.isNonScopedSlot=!0),Lr("default",x)};c?d.length&&d.some(w=>k7(w))&&(u?t.onError(tr(39,d[0].loc)):n.push(S(void 0,d))):n.push(S(void 0,i))}const v=a?2:cg(e.children)?3:1;let b=hn(n.concat(Lr("_",tt(v+"",!1))),s);return o.length&&(b=Jr(t.helper(p7),[b,Yc(o)])),{slots:b,hasDynamicSlots:a}}function Jy(e,t,r){const i=[Lr("name",e),Lr("fn",t)];return r!=null&&i.push(Lr("key",tt(String(r),!0))),hn(i)}function cg(e){for(let t=0;t<e.length;t++){const r=e[t];switch(r.type){case 1:if(r.tagType===2||cg(r.children))return!0;break;case 9:if(cg(r.branches))return!0;break;case 10:case 11:if(cg(r.children))return!0;break}}return!1}function k7(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():k7(e.content)}const R7=new WeakMap,Dce=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:i,props:s}=e,n=e.tagType===1;let o=n?Fce(e,t):`"${i}"`;const a=Nt(o)&&o.callee===xA;let l,c,u=0,d,p,y,v=a||o===pp||o===gA||!n&&(i==="svg"||i==="foreignObject"||i==="math");if(s.length>0){const b=D7(e,t,void 0,n,a);l=b.props,u=b.patchFlag,p=b.dynamicPropNames;const S=b.directives;y=S&&S.length?Yc(S.map(w=>jce(w,t))):void 0,b.shouldUseBlock&&(v=!0)}if(e.children.length>0)if(o===gv&&(v=!0,u|=1024),n&&o!==pp&&o!==gv){const{slots:S,hasDynamicSlots:w}=Rce(e,t);c=S,w&&(u|=1024)}else if(e.children.length===1&&o!==pp){const S=e.children[0],w=S.type,T=w===5||w===8;T&&Us(S,t)===0&&(u|=1),T||w===2?c=S:c=e.children}else c=e.children;p&&p.length&&(d=Bce(p)),e.codegenNode=dm(t,o,l,c,u===0?void 0:u,d,y,!!v,!1,n,e.loc)};function Fce(e,t,r=!1){let{tag:i}=e;const s=rS(i),n=xb(e,"is",!1,!0);if(n)if(s||Jc("COMPILER_IS_ON_ELEMENT",t)){let a;if(n.type===6?a=n.value&&tt(n.value.content,!0):(a=n.exp,a||(a=tt("is",!1,n.arg.loc))),a)return Jr(t.helper(xA),[a])}else n.type===6&&n.value.content.startsWith("vue:")&&(i=n.value.content.slice(4));const o=g7(i)||t.isBuiltInComponent(i);return o?(r||t.helper(o),o):(t.helper(wA),t.components.add(i),mm(i,"component"))}function D7(e,t,r=e.props,i,s,n=!1){const{tag:o,loc:a,children:l}=e;let c=[];const u=[],d=[],p=l.length>0;let y=!1,v=0,b=!1,S=!1,w=!1,T=!1,x=!1,_=!1;const $=[],M=k=>{c.length&&(u.push(hn(zI(c),a)),c=[]),k&&u.push(k)},N=()=>{t.scopes.vFor>0&&c.push(Lr(tt("ref_for",!0),tt("true")))},C=({key:k,value:V})=>{if(bs(k)){const U=k.content,j=Eu(U);if(j&&(!i||s)&&U.toLowerCase()!=="onclick"&&U!=="onUpdate:modelValue"&&!Il(U)&&(T=!0),j&&Il(U)&&(_=!0),j&&V.type===14&&(V=V.arguments[0]),V.type===20||(V.type===4||V.type===8)&&Us(V,t)>0)return;U==="ref"?b=!0:U==="class"?S=!0:U==="style"?w=!0:U!=="key"&&!$.includes(U)&&$.push(U),i&&(U==="class"||U==="style")&&!$.includes(U)&&$.push(U)}else x=!0};for(let k=0;k<r.length;k++){const V=r[k];if(V.type===6){const{loc:U,name:j,nameLoc:Y,value:f}=V;let m=!0;if(j==="ref"&&(b=!0,N()),j==="is"&&(rS(o)||f&&f.content.startsWith("vue:")||Jc("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(Lr(tt(j,!0,Y),tt(f?f.content:"",m,f?f.loc:U)))}else{const{name:U,arg:j,exp:Y,loc:f,modifiers:m}=V,E=U==="bind",O=U==="on";if(U==="slot"){i||t.onError(tr(40,f));continue}if(U==="once"||U==="memo"||U==="is"||E&&Dc(j,"is")&&(rS(o)||Jc("COMPILER_IS_ON_ELEMENT",t))||O&&n)continue;if((E&&Dc(j,"key")||O&&p&&Dc(j,"vue:before-update"))&&(y=!0),E&&Dc(j,"ref")&&N(),!j&&(E||O)){if(x=!0,Y)if(E){if(N(),M(),Jc("COMPILER_V_BIND_OBJECT_ORDER",t)){u.unshift(Y);continue}u.push(Y)}else M({type:14,loc:f,callee:t.helper(IA),arguments:i?[Y]:[Y,"true"]});else t.onError(tr(E?34:35,f));continue}E&&m.some(J=>J.content==="prop")&&(v|=32);const G=t.directiveTransforms[U];if(G){const{props:J,needRuntime:me}=G(V,e,t);!n&&J.forEach(C),O&&j&&!bs(j)?M(hn(J,a)):c.push(...J),me&&(d.push(V),$s(me)&&R7.set(V,me))}else Qne(U)||(d.push(V),p&&(y=!0))}}let P;if(u.length?(M(),u.length>1?P=Jr(t.helper(vv),u,a):P=u[0]):c.length&&(P=hn(zI(c),a)),x?v|=16:(S&&!i&&(v|=2),w&&!i&&(v|=4),$.length&&(v|=8),T&&(v|=32)),!y&&(v===0||v===32)&&(b||_||d.length>0)&&(v|=512),!t.inSSR&&P)switch(P.type){case 15:let k=-1,V=-1,U=!1;for(let f=0;f<P.properties.length;f++){const m=P.properties[f].key;bs(m)?m.content==="class"?k=f:m.content==="style"&&(V=f):m.isHandlerKey||(U=!0)}const j=P.properties[k],Y=P.properties[V];U?P=Jr(t.helper(fm),[P]):(j&&!bs(j.value)&&(j.value=Jr(t.helper($A),[j.value])),Y&&(w||Y.value.type===4&&Y.value.content.trim()[0]==="["||Y.value.type===17)&&(Y.value=Jr(t.helper(MA),[Y.value])));break;case 14:break;default:P=Jr(t.helper(fm),[Jr(t.helper(ny),[P])]);break}return{props:P,directives:d,patchFlag:v,dynamicPropNames:$,shouldUseBlock:y}}function zI(e){const t=new Map,r=[];for(let i=0;i<e.length;i++){const s=e[i];if(s.key.type===8||!s.key.isStatic){r.push(s);continue}const n=s.key.content,o=t.get(n);o?(n==="style"||n==="class"||Eu(n))&&Uce(o,s):(t.set(n,s),r.push(s))}return r}function Uce(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Yc([e.value,t.value],e.loc)}function jce(e,t){const r=[],i=R7.get(e);i?r.push(t.helperString(i)):(t.helper(SA),t.directives.add(e.name),r.push(mm(e.name,"directive")));const{loc:s}=e;if(e.exp&&r.push(e.exp),e.arg&&(e.exp||r.push("void 0"),r.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||r.push("void 0"),r.push("void 0"));const n=tt("true",!1,s);r.push(hn(e.modifiers.map(o=>Lr(o,n)),s))}return Yc(r,e.loc)}function Bce(e){let t="[";for(let r=0,i=e.length;r<i;r++)t+=JSON.stringify(e[r]),r<i-1&&(t+=", ");return t+"]"}function rS(e){return e==="component"||e==="Component"}const Vce=(e,t)=>{if(xv(e)){const{children:r,loc:i}=e,{slotName:s,slotProps:n}=Gce(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;n&&(o[2]=n,a=3),r.length&&(o[3]=ff([],r,!1,!1,i),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=Jr(t.helper(d7),o,i)}};function Gce(e,t){let r='"default"',i;const s=[];for(let n=0;n<e.props.length;n++){const o=e.props[n];if(o.type===6)o.value&&(o.name==="name"?r=JSON.stringify(o.value.content):(o.name=zt(o.name),s.push(o)));else if(o.name==="bind"&&Dc(o.arg,"name")){if(o.exp)r=o.exp;else if(o.arg&&o.arg.type===4){const a=zt(o.arg.content);r=o.exp=tt(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&bs(o.arg)&&(o.arg.content=zt(o.arg.content)),s.push(o)}if(s.length>0){const{props:n,directives:o}=D7(e,t,s,!1,!1);i=n,o.length&&t.onError(tr(36,o[0].loc))}return{slotName:r,slotProps:i}}const F7=(e,t,r,i)=>{const{loc:s,modifiers:n,arg:o}=e;!e.exp&&!n.length&&r.onError(tr(35,s));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?zc(zt(d)):`on:${d}`;a=tt(p,!0,o.loc)}else a=zn([`${r.helperString(Zx)}(`,o,")"]);else a=o,a.children.unshift(`${r.helperString(Zx)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=r.cacheHandlers&&!l&&!r.inVOnce;if(l){const d=b7(l),p=!(d||jle(l)),y=l.content.includes(";");(p||c&&d)&&(l=zn([`${p?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let u={props:[Lr(a,l||tt("() => {}",!1,s))]};return i&&(u=i(u)),c&&(u.props[0].value=r.cache(u.props[0].value)),u.props.forEach(d=>d.key.isHandlerKey=!0),u},qce=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const r=e.children;let i,s=!1;for(let n=0;n<r.length;n++){const o=r[n];if(e_(o)){s=!0;for(let a=n+1;a<r.length;a++){const l=r[a];if(e_(l))i||(i=r[n]=zn([o],o.loc)),i.children.push(" + ",l),r.splice(a,1),a--;else{i=void 0;break}}}}if(!(!s||r.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(n=>n.type===7&&!t.directiveTransforms[n.name])&&e.tag!=="template")))for(let n=0;n<r.length;n++){const o=r[n];if(e_(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&Us(o,t)===0&&a.push("1"),r[n]={type:12,content:o,loc:o.loc,codegenNode:Jr(t.helper(_A),a)}}}}},HI=new WeakSet,zce=(e,t)=>{if(e.type===1&&nn(e,"once",!0))return HI.has(e)||t.inVOnce||t.inSSR?void 0:(HI.add(e),t.inVOnce=!0,t.helper(bv),()=>{t.inVOnce=!1;const r=t.currentNode;r.codegenNode&&(r.codegenNode=t.cache(r.codegenNode,!0,!0))})},U7=(e,t,r)=>{const{exp:i,arg:s}=e;if(!i)return r.onError(tr(41,e.loc)),Ky();const n=i.loc.source.trim(),o=i.type===4?i.content:n,a=r.bindingMetadata[n];if(a==="props"||a==="props-aliased")return r.onError(tr(44,i.loc)),Ky();if(!o.trim()||!b7(i))return r.onError(tr(42,i.loc)),Ky();const l=s||tt("modelValue",!0),c=s?bs(s)?`onUpdate:${zt(s.content)}`:zn(['"onUpdate:" + ',s]):"onUpdate:modelValue";let u;const d=r.isTS?"($event: any)":"$event";u=zn([`${d} => ((`,i,") = $event)"]);const p=[Lr(l,e.exp),Lr(c,u)];if(e.modifiers.length&&t.tagType===1){const y=e.modifiers.map(b=>b.content).map(b=>(LA(b)?b:JSON.stringify(b))+": true").join(", "),v=s?bs(s)?`${s.content}Modifiers`:zn([s,' + "Modifiers"']):"modelModifiers";p.push(Lr(v,tt(`{ ${y} }`,!1,e.loc,2)))}return Ky(p)};function Ky(e=[]){return{props:e}}const Hce=/[\w).+\-_$\]]/,Wce=(e,t)=>{Jc("COMPILER_FILTERS",t)&&(e.type===5?Ev(e.content,t):e.type===1&&e.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&Ev(r.exp,t)}))};function Ev(e,t){if(e.type===4)WI(e,t);else for(let r=0;r<e.children.length;r++){const i=e.children[r];typeof i=="object"&&(i.type===4?WI(i,t):i.type===8?Ev(e,t):i.type===5&&Ev(i.content,t))}}function WI(e,t){const r=e.content;let i=!1,s=!1,n=!1,o=!1,a=0,l=0,c=0,u=0,d,p,y,v,b=[];for(y=0;y<r.length;y++)if(p=d,d=r.charCodeAt(y),i)d===39&&p!==92&&(i=!1);else if(s)d===34&&p!==92&&(s=!1);else if(n)d===96&&p!==92&&(n=!1);else if(o)d===47&&p!==92&&(o=!1);else if(d===124&&r.charCodeAt(y+1)!==124&&r.charCodeAt(y-1)!==124&&!a&&!l&&!c)v===void 0?(u=y+1,v=r.slice(0,y).trim()):S();else{switch(d){case 34:s=!0;break;case 39:i=!0;break;case 96:n=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let w=y-1,T;for(;w>=0&&(T=r.charAt(w),T===" ");w--);(!T||!Hce.test(T))&&(o=!0)}}v===void 0?v=r.slice(0,y).trim():u!==0&&S();function S(){b.push(r.slice(u,y).trim()),u=y+1}if(b.length){for(y=0;y<b.length;y++)v=Yce(v,b[y],t);e.content=v,e.ast=void 0}}function Yce(e,t,r){r.helper(EA);const i=t.indexOf("(");if(i<0)return r.filters.add(t),`${mm(t,"filter")}(${e})`;{const s=t.slice(0,i),n=t.slice(i+1);return r.filters.add(s),`${mm(s,"filter")}(${e}${n!==")"?","+n:n}`}}const YI=new WeakSet,Jce=(e,t)=>{if(e.type===1){const r=nn(e,"memo");return!r||YI.has(e)?void 0:(YI.add(e),()=>{const i=e.codegenNode||t.currentNode.codegenNode;i&&i.type===13&&(e.tagType!==1&&PA(i,t),e.codegenNode=Jr(t.helper(CA),[r.exp,ff(void 0,i),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function Kce(e){return[[zce,$ce,Jce,Cce,Wce,Vce,Dce,Lce,qce],{on:F7,bind:Oce,model:U7}]}function Zce(e,t={}){const r=t.onError||NA,i=t.mode==="module";t.prefixIdentifiers===!0?r(tr(47)):i&&r(tr(48));const s=!1;t.cacheHandlers&&r(tr(49)),t.scopeId&&!i&&r(tr(50));const n=ot({},t,{prefixIdentifiers:s}),o=Je(e)?sce(e,n):e,[a,l]=Kce();return lce(o,ot({},n,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:ot({},l,t.directiveTransforms||{})})),fce(o,n)}const Xce=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const j7=Symbol(""),B7=Symbol(""),V7=Symbol(""),G7=Symbol(""),iS=Symbol(""),q7=Symbol(""),z7=Symbol(""),H7=Symbol(""),W7=Symbol(""),Y7=Symbol("");Mle({[j7]:"vModelRadio",[B7]:"vModelCheckbox",[V7]:"vModelText",[G7]:"vModelSelect",[iS]:"vModelDynamic",[q7]:"withModifiers",[z7]:"withKeys",[H7]:"vShow",[W7]:"Transition",[Y7]:"TransitionGroup"});let zu;function Qce(e,t=!1){return zu||(zu=document.createElement("div")),t?(zu.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,zu.children[0].getAttribute("foo")):(zu.innerHTML=e,zu.textContent)}const eue={parseMode:"html",isVoidTag:moe,isNativeTag:e=>foe(e)||doe(e)||poe(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:Qce,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return W7;if(e==="TransitionGroup"||e==="transition-group")return Y7},getNamespace(e,t,r){let i=t?t.ns:r;if(t&&i===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(i=0);else t&&i===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(i=0);if(i===0){if(e==="svg")return 1;if(e==="math")return 2}return i}},tue=e=>{e.type===1&&e.props.forEach((t,r)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[r]={type:7,name:"bind",arg:tt("style",!0,t.loc),exp:rue(t.value.content,t.loc),modifiers:[],loc:t.loc})})},rue=(e,t)=>{const r=kR(e);return tt(JSON.stringify(r),!1,t,3)};function Pl(e,t){return tr(e,t)}const iue=(e,t,r)=>{const{exp:i,loc:s}=e;return i||r.onError(Pl(53,s)),t.children.length&&(r.onError(Pl(54,s)),t.children.length=0),{props:[Lr(tt("innerHTML",!0,s),i||tt("",!0))]}},sue=(e,t,r)=>{const{exp:i,loc:s}=e;return i||r.onError(Pl(55,s)),t.children.length&&(r.onError(Pl(56,s)),t.children.length=0),{props:[Lr(tt("textContent",!0),i?Us(i,r)>0?i:Jr(r.helperString(wb),[i],s):tt("",!0))]}},nue=(e,t,r)=>{const i=U7(e,t,r);if(!i.props.length||t.tagType===1)return i;e.arg&&r.onError(Pl(58,e.arg.loc));const{tag:s}=t,n=r.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||n){let o=V7,a=!1;if(s==="input"||n){const l=xb(t,"type");if(l){if(l.type===7)o=iS;else if(l.value)switch(l.value.content){case"radio":o=j7;break;case"checkbox":o=B7;break;case"file":a=!0,r.onError(Pl(59,e.loc));break}}else Ble(t)&&(o=iS)}else s==="select"&&(o=G7);a||(i.needRuntime=r.helper(o))}else r.onError(Pl(57,e.loc));return i.props=i.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),i},oue=qs("passive,once,capture"),aue=qs("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),lue=qs("left,right"),J7=qs("onkeyup,onkeydown,onkeypress"),cue=(e,t,r,i)=>{const s=[],n=[],o=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&pm("COMPILER_V_ON_NATIVE",r)||oue(l)?o.push(l):lue(l)?bs(e)?J7(e.content.toLowerCase())?s.push(l):n.push(l):(s.push(l),n.push(l)):aue(l)?n.push(l):s.push(l)}return{keyModifiers:s,nonKeyModifiers:n,eventOptionModifiers:o}},JI=(e,t)=>bs(e)&&e.content.toLowerCase()==="onclick"?tt(t,!0):e.type!==4?zn(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,uue=(e,t,r)=>F7(e,t,r,i=>{const{modifiers:s}=e;if(!s.length)return i;let{key:n,value:o}=i.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=cue(n,s,r,e.loc);if(l.includes("right")&&(n=JI(n,"onContextmenu")),l.includes("middle")&&(n=JI(n,"onMouseup")),l.length&&(o=Jr(r.helper(q7),[o,JSON.stringify(l)])),a.length&&(!bs(n)||J7(n.content.toLowerCase()))&&(o=Jr(r.helper(z7),[o,JSON.stringify(a)])),c.length){const u=c.map(Yl).join("");n=bs(n)?tt(`${n.content}${u}`,!0):zn(["(",n,`) + "${u}"`])}return{props:[Lr(n,o)]}}),hue=(e,t,r)=>{const{exp:i,loc:s}=e;return i||r.onError(Pl(61,s)),{props:[],needRuntime:r.helper(H7)}},fue=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},due=[tue],pue={cloak:Xce,html:iue,text:sue,model:nue,on:uue,show:hue};function mue(e,t={}){return Zce(e,ot({},eue,t,{nodeTransforms:[fue,...due,...t.nodeTransforms||[]],directiveTransforms:ot({},pue,t.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const KI=Object.create(null);function K7(e,t){if(!Je(e))if(e.nodeType)e=e.innerHTML;else return yi;const r=roe(e,t),i=KI[r];if(i)return i;if(e[0]==="#"){const a=document.querySelector(e);e=a?a.innerHTML:""}const s=ot({hoistStatic:!0,onError:void 0,onWarn:yi},t);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=a=>!!customElements.get(a));const{code:n}=mue(e,s),o=new Function("Vue",n)(xle);return o._rc=!0,KI[r]=o}aA(K7);const YAe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:R3,BaseTransitionPropsValidators:cb,Comment:Or,DeprecationTypes:B9,EffectScope:Q1,ErrorCodes:d8,ErrorTypeStrings:k9,Fragment:kt,KeepAlive:N8,ReactiveEffect:of,Static:Cl,Suspense:v9,Teleport:k3,Text:Co,TrackOpTypes:l8,Transition:yb,TransitionGroup:vb,TriggerOpTypes:c8,VueElement:ry,assertNumber:f8,callWithAsyncErrorHandling:Vs,callWithErrorHandling:Tu,camelize:zt,capitalize:Yl,cloneVNode:Qn,compatUtils:j9,compile:K7,computed:et,createApp:Vl,createBlock:qt,createCommentVNode:Lt,createElementBlock:be,createElementVNode:oe,createHydrationRenderer:eA,createPropsRestProxy:K8,createRenderer:Q3,createSSRApp:yA,createSlots:R8,createStaticVNode:A9,createTextVNode:Po,createVNode:Ze,customRef:O3,defineAsyncComponent:F3,defineComponent:st,defineCustomElement:hA,defineEmits:U8,defineExpose:j8,defineModel:G8,defineOptions:B8,defineProps:F8,defineSSRCustomElement:J9,defineSlots:V8,devtools:R9,effect:zR,effectScope:Km,getCurrentInstance:Vr,getCurrentScope:eb,getCurrentWatcher:u8,getTransitionRawChildren:Xm,guardReactiveProps:nA,h:un,handleError:Xl,hasInjectionContext:Z3,hydrate:n7,hydrateOnIdle:I8,hydrateOnInteraction:P8,hydrateOnMediaQuery:C8,hydrateOnVisible:O8,initCustomFormatter:P9,initDirectivesForSSR:l7,inject:Br,isMemoSame:lA,isProxy:Zm,isReactive:_s,isReadonly:Ca,isRef:ht,isRuntimeOnly:I9,isShallow:ws,isVNode:Xn,markRaw:ir,mergeDefaults:Y8,mergeModels:J8,mergeProps:mb,nextTick:io,normalizeClass:ur,normalizeProps:RR,normalizeStyle:Jl,onActivated:U3,onBeforeMount:hb,onBeforeUnmount:so,onBeforeUpdate:fb,onDeactivated:j3,onErrorCaptured:q3,onMounted:vi,onRenderTracked:G3,onRenderTriggered:V3,onScopeDispose:A3,onServerPrefetch:B3,onUnmounted:$u,onUpdated:Hf,onWatcherCleanup:N3,openBlock:he,popScopeId:b8,provide:K3,proxyRefs:ob,pushScopeId:v8,queuePostFlushCb:af,reactive:ui,readonly:sb,ref:X,registerRuntimeCompiler:aA,render:Gh,renderList:Ql,renderSlot:Dn,resolveComponent:$r,resolveDirective:Ot,resolveDynamicComponent:H3,resolveFilter:U9,resolveTransitionHooks:du,setBlockTracking:hv,setDevtoolsHook:D9,setTransitionHooks:Bo,shallowReactive:I3,shallowReadonly:i8,shallowRef:zf,ssrContextKey:rA,ssrUtils:F9,stop:HR,toDisplayString:$t,toHandlerKey:zc,toHandlers:D8,toRaw:Ve,toRef:P3,toRefs:C3,toValue:o8,transformVNodeArgs:S9,triggerRef:n8,unref:Me,useAttrs:H8,useCssModule:Z9,useCssVars:uA,useHost:fA,useId:M8,useModel:m9,useSSRContext:iA,useShadowRoot:K9,useSlots:z8,useTemplateRef:av,useTransitionState:lb,vModelCheckbox:bb,vModelDynamic:pA,vModelRadio:_b,vModelSelect:dA,vModelText:um,vShow:gb,version:cA,warn:L9,watch:Qr,watchEffect:f9,watchPostEffect:d9,watchSyncEffect:sA,withAsyncContext:Z8,withCtx:Rr,withDefaults:q8,withDirectives:It,withKeys:mA,withMemo:N9,withModifiers:iy,withScopeId:_8},Symbol.toStringTag,{value:"Module"}));/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Z7;const Ab=e=>Z7=e,X7=Symbol();function sS(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var mp;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(mp||(mp={}));function yue(){const e=Km(!0),t=e.run(()=>X({}));let r=[],i=[];const s=ir({install(n){Ab(s),s._a=n,n.provide(X7,s),n.config.globalProperties.$pinia=s,i.forEach(o=>r.push(o)),i=[]},use(n){return this._a?r.push(n):i.push(n),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return s}const Q7=()=>{};function ZI(e,t,r,i=Q7){e.push(t);const s=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i())};return!r&&eb()&&A3(s),s}function Hu(e,...t){e.slice().forEach(r=>{r(...t)})}const gue=e=>e();function nS(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,i)=>e.set(i,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],s=e[r];sS(s)&&sS(i)&&e.hasOwnProperty(r)&&!ht(i)&&!_s(i)?e[r]=nS(s,i):e[r]=i}return e}const vue=Symbol();function bue(e){return!sS(e)||!e.hasOwnProperty(vue)}const{assign:rl}=Object;function _ue(e){return!!(ht(e)&&e.effect)}function wue(e,t,r,i){const{state:s,actions:n,getters:o}=t,a=r.state.value[e];let l;function c(){a||(r.state.value[e]=s?s():{});const u=C3(r.state.value[e]);return rl(u,n,Object.keys(o||{}).reduce((d,p)=>(d[p]=ir(et(()=>{Ab(r);const y=r._s.get(e);return o[p].call(y,y)})),d),{}))}return l=eD(e,c,t,r,i,!0),l}function eD(e,t,r={},i,s,n){let o;const a=rl({actions:{}},r),l={deep:!0};let c,u,d=[],p=[],y;const v=i.state.value[e];!n&&!v&&(i.state.value[e]={}),X({});let b;function S(C){let P;c=u=!1,typeof C=="function"?(C(i.state.value[e]),P={type:mp.patchFunction,storeId:e,events:y}):(nS(i.state.value[e],C),P={type:mp.patchObject,payload:C,storeId:e,events:y});const k=b=Symbol();io().then(()=>{b===k&&(c=!0)}),u=!0,Hu(d,P,i.state.value[e])}const w=n?function(){const{state:P}=r,k=P?P():{};this.$patch(V=>{rl(V,k)})}:Q7;function T(){o.stop(),d=[],p=[],i._s.delete(e)}function x(C,P){return function(){Ab(i);const k=Array.from(arguments),V=[],U=[];function j(m){V.push(m)}function Y(m){U.push(m)}Hu(p,{args:k,name:C,store:$,after:j,onError:Y});let f;try{f=P.apply(this&&this.$id===e?this:$,k)}catch(m){throw Hu(U,m),m}return f instanceof Promise?f.then(m=>(Hu(V,m),m)).catch(m=>(Hu(U,m),Promise.reject(m))):(Hu(V,f),f)}}const _={_p:i,$id:e,$onAction:ZI.bind(null,p),$patch:S,$reset:w,$subscribe(C,P={}){const k=ZI(d,C,P.detached,()=>V()),V=o.run(()=>Qr(()=>i.state.value[e],U=>{(P.flush==="sync"?u:c)&&C({storeId:e,type:mp.direct,events:y},U)},rl({},l,P)));return k},$dispose:T},$=ui(_);i._s.set(e,$);const N=(i._a&&i._a.runWithContext||gue)(()=>i._e.run(()=>(o=Km()).run(t)));for(const C in N){const P=N[C];if(ht(P)&&!_ue(P)||_s(P))n||(v&&bue(P)&&(ht(P)?P.value=v[C]:nS(P,v[C])),i.state.value[e][C]=P);else if(typeof P=="function"){const k=x(C,P);N[C]=k,a.actions[C]=P}}return rl($,N),rl(Ve($),N),Object.defineProperty($,"$state",{get:()=>i.state.value[e],set:C=>{S(P=>{rl(P,C)})}}),i._p.forEach(C=>{rl($,o.run(()=>C({store:$,app:i._a,pinia:i,options:a})))}),v&&n&&r.hydrate&&r.hydrate($.$state,v),c=!0,u=!0,$}function sr(e,t,r){let i,s;const n=typeof t=="function";typeof e=="string"?(i=e,s=n?r:t):(s=e,i=e.id);function o(a,l){const c=Z3();return a=a||(c?Br(X7,null):null),a&&Ab(a),a=Z7,a._s.has(i)||(n?eD(i,t,s,a):wue(i,s,a)),a._s.get(i)}return o.$id=i,o}function xue(e){{e=Ve(e);const t={};for(const r in e){const i=e[r];(ht(i)||_s(i))&&(t[r]=P3(e,r))}return t}}const Av=sr("appbar",()=>{const e=X({}),t=X([]),r=X([]),i=et(()=>t.value.map(o=>o.map(a=>e.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function s(o){r.value.includes(o)||r.value.push(o)}function n(o){const a=r.value.indexOf(o);a!==-1&&r.value.splice(a,1),o in e.value&&delete e.value[o],t.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:e,order:t,temporary:r,visible:i,addTempButton:s,removeButton:n}}),oS=sr("grid",()=>{const e=X({}),t=X(),r=X();function i(a){e.value={...e.value,[a.id]:a}}function s(a){e.value[a]!==void 0&&delete e.value[a]}function n(a){return Object.keys(e.value).find(l=>e.value[l].layerIds.includes(a))}function o(a,l){e.value[a].layerIds=e.value[a].layerIds.filter(c=>c!==l)}return{grids:e,panel:t,currentId:r,addGrid:i,removeGrid:s,getGridId:n,removeLayer:o}});function gl(e,t,r,i){var s,n=!1,o=0;function a(){s&&clearTimeout(s)}function l(){a(),n=!0}typeof t!="boolean"&&(i=r,r=t,t=void 0);function c(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];var y=this,v=Date.now()-o;if(n)return;function b(){o=Date.now(),r.apply(y,d)}function S(){s=void 0}i&&!s&&b(),a(),i===void 0&&v>e?b():t!==!0&&(s=setTimeout(i?S:b,i===void 0?e-v:e))}return c.cancel=l,c}function Tv(e,t,r){return r===void 0?gl(e,t,!1):gl(e,r,t!==!1)}const Sl=sr("map-caption",()=>{const e=X({text:{},logo:{}}),t=X({}),r=X({}),i=X({});function s(o){o!==void 0?t.value.isImperialScale=o:t.value.isImperialScale=!t.value.isImperialScale}function n(o){e.value.text.value=o.text.value,e.value.text.disabled=o.text.disabled,e.value.logo.altText=o.logo.altText,e.value.logo.link=o.logo.link,e.value.logo.value=o.logo.value,e.value.logo.disabled=o.logo.disabled}return{attribution:e,scale:t,coords:r,langtoggle:i,toggleScale:s,setAttribution:n}}),r_=(e,t)=>{const r=[...e];for(;r.length>0;){const i=r.shift();if(t(i))return i;i&&r.push(...i.sublayers)}},Ao=sr("layer",()=>{const e=X([]),t=X([]),r=X([]);function i(d){return r_(e.value,p=>p?.uid===d)}function s(d){return r_(e.value,p=>p?.id===d)}function n(d){return r_(e.value,p=>p!==void 0&&(p.id===d||p.uid===d))}function o(d){t.value=[...t.value,d]}function a(d,p=void 0){e.value=[...e.value,d],d.mapLayer&&((p===void 0||p<0)&&(console.error("Map layer added to store with invalid index!"),p=r.value.length),r.value.splice(p,0,d.id),r.value=[...r.value])}function l(d,p){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(p<0){console.error("Negative index passed to layer store reorder");return}p>=r.value.length&&(p=r.value.length-1);const y=r.value.findIndex(v=>v===d.id);y!==-1&&y!==p&&(r.value.splice(y,1),r.value.splice(p,0,d.id),r.value=[...r.value])}function c(d){const p=e.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(e.value=p,d.mapLayer){const y=r.value.filter(v=>v!==d.id);r.value=y}}function u(d){const p=t.value.filter(y=>y.id!==d);t.value=p}return{layers:e,mapOrder:r,layerConfigs:t,getLayerByUid:i,getLayerById:s,getLayerByAny:n,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:u}}),gs=sr("config",()=>{const e=X({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),t=X([]),r=X(),i=X({}),s=X({});function n(c){if(i.value[s.value[c]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return i.value[s.value[c]]}function o(c){const u={...e.value,...c};if(e.value=u,Array.isArray(e.value.layers)){const d=Ao();d.layerConfigs=[...d.layerConfigs,e.value.layers]}}function a(c,u){i.value[u]=c,s.value[u]=u}function l(c,u){const d=c.configs,p=Object.keys(d);if(p.length){const y=p[0];u.forEach(v=>{const b=p.includes(v)?v:y;i.value[v]=d[b],s.value[v]=b})}else console.error("Nothingburger config set was registered",c)}return{activeBasemapConfig:r,config:e,registeredConfigs:i,registeredLangs:s,startingFixtures:t,getActiveConfig:n,newConfig:o,registerAllConfigs:l,registerConfig:a}}),tD=sr("details",()=>{const e=X([]),t=X({}),r=X({}),i=X(),s=X(0),n=X(0),o=X(!0),a=X();function l(u){const d=e.value.findIndex(p=>p.uid===u.uid);d!==-1&&e.value.splice(d,1)}function c(u){t.value={...t.value,[u.id]:u}}return{payload:e,properties:t,defaultTemplates:r,currentFeatureId:i,activeGreedy:s,lastHilight:n,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),rn=sr("fixture",()=>{const e=X({}),t=X({});function r(o){return o.map(a=>t.value[a].getPromise())}function i(o){if(e.value={...e.value,[o.id]:ir(o)},o.id in t.value)t.value[o.id].resolveMe(ir(o));else{const a=new Nr;a.resolveMe(ir(o)),t.value={...t.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function s(o){delete e.value[o.id],e.value={...e.value},delete t.value[o.id],t.value={...t.value},typeof o.removed=="function"&&o.removed()}function n(o){t.value={...t.value,[o]:new Nr}}return{items:e,loadPromises:t,getLoadPromises:r,addFixture:i,removeFixture:s,addLoadPromise:n}});var Oe=(e=>(e.APPBAR_BUTTON_CLICK="appbar/click",e.COMPONENT="ramp/component",e.CONFIG_CHANGE="config/configchanged",e.DETAILS_TOGGLE="details/toggle",e.FILTER_CHANGE="filter/change",e.FIXTURE_ADDED="fixture/added",e.FIXTURE_REMOVED="fixture/removed",e.GRID_TOGGLE="grid/toggle",e.HELP_TOGGLE="help/toggle",e.LANG_CHANGE="lang/change",e.LAYER_DRAWSTATECHANGE="layer/drawstatechange",e.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",e.LAYER_LAYERSTATECHANGE="layer/layerstatechange",e.LAYER_OPACITYCHANGE="layer/opacitychange",e.LAYER_REGISTERED="layer/registered",e.LAYER_RELOAD_END="layer/reloadend",e.LAYER_RELOAD_START="layer/reloadstart",e.LAYER_REMOVE="layer/remove",e.LAYER_VISIBILITYCHANGE="layer/visibilitychange",e.MAP_BASEMAPCHANGE="map/basemapchanged",e.MAP_BLUR="map/blur",e.MAP_CLICK="map/click",e.MAP_CREATED="map/created",e.MAP_DESTROYED="map/destroyed",e.MAP_DOUBLECLICK="map/doubleclick",e.MAP_EXTENTCHANGE="map/extentchanged",e.MAP_FOCUS="map/focus",e.MAP_GRAPHICHIT="map/graphichit",e.MAP_IDENTIFY="map/identify",e.MAP_KEYDOWN="map/keydown",e.MAP_KEYUP="map/keyup",e.MAP_MOUSEDOWN="map/mousedown",e.MAP_MOUSELEAVE="map/mouseleave",e.MAP_MOUSEMOVE="map/mousemove",e.MAP_MOUSEMOVE_END="map/mousemoveend",e.MAP_MOUSEMOVE_START="map/mousemovestart",e.MAP_REFRESH_END="map/refreshend",e.MAP_REFRESH_START="map/refreshstart",e.MAP_REORDER="map/reorder",e.MAP_RESIZED="map/resized",e.MAP_SCALECHANGE="map/scalechanged",e.MAP_START="map/start",e.METADATA_TOGGLE="metadata/toggle",e.PANEL_CLOSED="panel/closed",e.PANEL_MINIMIZED="panel/minimized",e.PANEL_OPENED="panel/opened",e.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",e.RAMP_RELOAD="ramp/reload",e.REORDER_TOGGLE="reorder/toggle",e.SETTINGS_TOGGLE="settings/toggle",e.USER_LAYER_ADDED="user/layeradded",e.WIZARD_TOGGLE="wizard/toggle",e))(Oe||{}),aS=(e=>(e.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",e.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",e.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",e.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",e.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",e.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",e.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",e.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",e.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",e.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",e.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",e.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",e.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",e.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",e.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",e.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",e.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",e.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",e.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",e.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",e.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",e.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",e.MAP_MOUSEDOWN_UPDATES_MAPTIP="ramp_map_mousedown_updates_maptip",e.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",e.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",e.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",e.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",e.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",e.TOGGLE_DETAILS="ramp_toggle_details",e.TOGGLE_GRID="ramp_toggle_grid",e.TOGGLE_HELP="ramp_toggle_help",e.TOGGLE_METADATA="ramp_toggle_metadata",e.TOGGLE_REORDER="ramp_toggle_reorder",e.TOGGLE_SETTINGS="ramp_toggle_settings",e.TOGGLE_WIZARD="ramp_toggle_wizard",e))(aS||{});class Sue{eventName;handlerName;handlerFunc;constructor(t,r,i){this.eventName=t,this.handlerName=r,this.handlerFunc=i}}class Eue extends Dr{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(t){super(t),this._eventBus=new Jne.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(Oe).filter(r=>typeof r=="string"&&r.indexOf("/")>-1)}findHandler(t){return this._eventRegister.find(r=>r.handlerName===t)}handlerNamer(t){return this._funCounter++,t.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(t){(Array.isArray(t)?t:[t]).forEach(i=>{this._nameRegister.indexOf(i)===-1&&this._nameRegister.push(i)})}eventNames(){return this._nameRegister.slice()}on(t,r,i=""){if(this.findHandler(i))throw new Error("Duplicate handler name registration: "+i);i||(i=this.handlerNamer(t));const s=new Sue(t,i,r);return this._eventRegister.push(s),this._eventBus.on(t,r),i}off(t){const r=this.findHandler(t);r&&(this._eventRegister.splice(this._eventRegister.indexOf(r),1),this._eventBus.off(r.eventName,r.handlerFunc))}offAll(t=""){this.activeHandlers(t).forEach(i=>this.off(i))}removeDefaultEvents(){Object.values(aS).forEach(t=>{this.off(t)})}emit(t,...r){this._eventBus.emit(t,...r)}once(t,r,i=""){i||(i=this.handlerNamer(t));const s=(...n)=>{r(...n),this.off(i)};return this.on(t,s,i)}activeHandlers(t=""){return t===""?this._eventRegister.map(r=>r.handlerName):this._eventRegister.filter(r=>r.eventName===t).map(r=>r.handlerName)}addDefaultEvents(t){return(!Array.isArray(t)||t.length===0)&&(t=Object.values(aS)),t.map(r=>this.defaultHandlerFactory(r))}defaultHandlerFactory(t){let r;switch(t){case"ramp_layer_error_updates_legend":r=i=>{if(i.layer.layerState===vr.ERROR){const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(i.layer)}},this.$iApi.event.on("layer/layerstatechange",r,t);break;case"ramp_layer_register_binds_legend":r=i=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(i)},this.$iApi.event.on("layer/registered",r,t);break;case"ramp_layer_reload_end_binds_legend":r=i=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(i)},this.$iApi.event.on("layer/reloadend",r,t);break;case"ramp_layer_reload_start_updates_legend":r=i=>{if(!i.isSublayer){const s=this.$iApi.fixture.get("legend");s&&s.reloadLayerItem(i.uid)}},this.$iApi.event.on("layer/reloadstart",r,t);break;case"ramp_layer_remove_checks_grid":r=i=>{if(this.$iApi.fixture.get("grid")){const s=oS(this.$vApp.$pinia),n=s.getGridId(i.id);if(n===void 0)return;if(s.removeLayer(n,i.id),s.grids[n].layerIds.length===0){s.removeGrid(n);const o=s.currentId;if(n===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),s.currentId=void 0}}}},this.$iApi.event.on("layer/remove",r,t);break;case"ramp_layer_remove_updates_details":r=i=>{const s=tD(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&s.removeLayer(i)},this.$iApi.event.on("layer/remove",r,t);break;case"ramp_layer_remove_updates_legend":r=i=>{const s=this.$iApi.fixture.get("legend");s&&(s.removeLayerItem(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:i.name})))},this.$iApi.event.on("layer/remove",r,t);break;case"ramp_layer_useradd_updates_legend":r=i=>{const s=this.$iApi.fixture.get("legend");s&&s.addLayerItem(i)},this.$iApi.event.on("user/layeradded",r,t);break;case"ramp_map_basemap_checks_tile_proj":r=i=>{i.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(s=>s.dataFormat===li.ESRI_TILE&&s.schemaLocked).forEach(s=>{s.checkProj()})},this.$iApi.event.on("map/basemapchanged",r,t);break;case"ramp_map_basemap_updates_map_attribs":r=()=>{this.$iApi.geo.map.caption.updateAttribution(gs(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",r,t);break;case"ramp_map_blur_updates_key_handler":r=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",r,t);break;case"ramp_map_click_runs_identify":r=i=>{i.button===0&&this.$iApi.geo.map.runIdentify(i)},this.on("map/click",r,t);break;case"ramp_map_created_initializes_fixtures":r=()=>{const i=rn(this.$vApp.$pinia).items;Object.keys(i).forEach(s=>{i[s].initialized?.()})},this.$iApi.geo.map.created&&r(),this.$iApi.event.on("map/created",r,t);break;case"ramp_map_created_updates_map_attribs":r=()=>{this.$iApi.geo.map.caption.updateAttribution(gs(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&r(),this.$iApi.event.on("map/created",r,t);break;case"ramp_map_extent_updates_maptip":r=()=>{if(this.$iApi.geo.map.keysActive){const i=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(i)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",gl(50,!0,()=>r()),t);break;case"ramp_map_graphichit_creates_maptip":r=i=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(i)},this.$iApi.event.on("map/graphichit",r,t);break;case"ramp_map_identify_opens_identify_results":r=i=>{const s=this.$iApi.fixture.get("details");s&&s.openDetails(i.results)},this.on("map/identify",r,t);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",gl(50,()=>{const i=Sl(this.$vApp.$pinia);i.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(n=>{i.coords={formattedString:n}})}),t);break;case"ramp_map_keydown_updates_key_handler":r=i=>{this.$iApi.geo.map.mapKeyDown(i)},this.$iApi.event.on("map/keydown",r,t);break;case"ramp_map_keyup_updates_key_handler":r=i=>{this.$iApi.geo.map.mapKeyUp(i)},this.$iApi.event.on("map/keyup",r,t);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",gl(50,i=>{const s=Sl(this.$vApp.$pinia);s.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(i)).then(o=>{s.coords={formattedString:o}})}),t);break;case"ramp_map_mouse_updates_maptip":r=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousemove",gl(50,i=>r(i)),t);break;case"ramp_map_mousedown_updates_maptip":r=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousedown",gl(50,i=>{const s={screenX:i.offsetX,screenY:i.offsetY,button:i.button,moveTime:0};r(s)}),t);break;case"ramp_map_mouseleave_removes_maptip":r=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",r);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",Tv(100,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",Tv(300,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_panel_close_updates_appbar":r=i=>{const s=Av(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!s.order.flat().find(n=>n===i.id)&&s.removeButton(i.id)},this.on("panel/closed",r,t);break;case"ramp_panel_open_updates_appbar":r=i=>{const s=Av(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!i.teleport||i.teleport?.showAppbarButton)&&!s.order.flat().find(n=>n===i.id)&&s.addTempButton(i.id)},this.on("panel/opened",r,t);break;case"ramp_toggle_details":r=(i,s)=>{const n=this.$iApi.fixture.get("details");n&&n.toggleFeature(i,s)},this.$iApi.event.on("details/toggle",r,t);break;case"ramp_toggle_grid":r=(i,s)=>{const n=this.$iApi.fixture.get("grid");n&&n.toggleGrid(i.id,s)},this.$iApi.event.on("grid/toggle",r,t);break;case"ramp_toggle_help":r=i=>{const s=this.$iApi.fixture.get("help");s&&s.toggleHelp(i)},this.$iApi.event.on("help/toggle",r,t);break;case"ramp_toggle_metadata":r=(i,s)=>{const n=this.$iApi.fixture.get("metadata");n&&n.toggleMetadata(i,s)},this.$iApi.event.on("metadata/toggle",r,t);break;case"ramp_toggle_reorder":r=i=>{const s=this.$iApi.fixture.get("layer-reorder");s&&s.toggleLayerReorder(i)},this.$iApi.event.on("reorder/toggle",r,t);break;case"ramp_toggle_settings":r=(i,s)=>{const n=this.$iApi.fixture.get("settings");n&&n.toggleSettings(i,s)},this.$iApi.event.on("settings/toggle",r,t);break;case"ramp_toggle_wizard":r=i=>{const s=this.$iApi.fixture.get("wizard");s&&s.toggleWizard(i)},this.$iApi.event.on("wizard/toggle",r,t);break;default:return console.error(`Unrecognized default event handler name encountered: ${t}`),`ERROR_NOT_REGISTERED__${t}`}return t}}/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Aue(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const $v=typeof window<"u",ec=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Tue=(e,t,r)=>$ue({l:e,k:t,s:r}),$ue=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Cr=e=>typeof e=="number"&&isFinite(e),Mue=e=>iD(e)==="[object Date]",Gl=e=>iD(e)==="[object RegExp]",Tb=e=>He(e)&&Object.keys(e).length===0,gi=Object.assign,Iue=Object.create,Rt=(e=null)=>Iue(e);let XI;const Ea=()=>XI||(XI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Rt());function QI(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function eO(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Oue(e){return e=e.replace(/(\w+)\s*=\s*"([^"]*)"/g,(i,s,n)=>`${s}="${eO(n)}"`),e=e.replace(/(\w+)\s*=\s*'([^']*)'/g,(i,s,n)=>`${s}='${eO(n)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(e)&&(e=e.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(i=>{e=e.replace(i,"$1javascript&#58;")}),e}const Cue=Object.prototype.hasOwnProperty;function Fn(e,t){return Cue.call(e,t)}const Kt=Array.isArray,Vt=e=>typeof e=="function",xe=e=>typeof e=="string",it=e=>typeof e=="boolean",vt=e=>e!==null&&typeof e=="object",Pue=e=>vt(e)&&Vt(e.then)&&Vt(e.catch),rD=Object.prototype.toString,iD=e=>rD.call(e),He=e=>{if(!vt(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},Nue=e=>e==null?"":Kt(e)||He(e)&&e.toString===rD?JSON.stringify(e,null,2):String(e);function Lue(e,t=""){return e.reduce((r,i,s)=>s===0?r+i:r+t+i,"")}function $b(e){let t=e;return()=>++t}const Zy=e=>!vt(e)||Kt(e);function ug(e,t){if(Zy(e)||Zy(t))throw new Error("Invalid value");const r=[{src:e,des:t}];for(;r.length;){const{src:i,des:s}=r.pop();Object.keys(i).forEach(n=>{n!=="__proto__"&&(vt(i[n])&&!vt(s[n])&&(s[n]=Array.isArray(i[n])?[]:Rt()),Zy(s[n])||Zy(i[n])?s[n]=i[n]:r.push({src:i[n],des:s[n]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function kue(e,t,r){return{line:e,column:t,offset:r}}function Mv(e,t,r){return{start:e,end:t}}const Rue=/\{([0-9a-zA-Z]+)\}/g;function sD(e,...t){return t.length===1&&Due(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(Rue,(r,i)=>t.hasOwnProperty(i)?t[i]:"")}const nD=Object.assign,tO=e=>typeof e=="string",Due=e=>e!==null&&typeof e=="object";function oD(e,t=""){return e.reduce((r,i,s)=>s===0?r+i:r+t+i,"")}const DA={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Fue={[DA.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function Uue(e,t,...r){const i=sD(Fue[e],...r||[]),s={message:String(i),code:e};return t&&(s.location=t),s}const Fe={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},jue={[Fe.EXPECTED_TOKEN]:"Expected token: '{0}'",[Fe.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Fe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Fe.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Fe.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Fe.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Fe.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Fe.EMPTY_PLACEHOLDER]:"Empty placeholder",[Fe.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Fe.INVALID_LINKED_FORMAT]:"Invalid linked format",[Fe.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Fe.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Fe.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Fe.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Fe.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Fe.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Wf(e,t,r={}){const{domain:i,messages:s,args:n}=r,o=sD((s||jue)[e]||"",...n||[]),a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=i,a}function Bue(e){throw e}const Xo=" ",Vue="\r",ji=`
`,Gue="\u2028",que="\u2029";function zue(e){const t=e;let r=0,i=1,s=1,n=0;const o=N=>t[N]===Vue&&t[N+1]===ji,a=N=>t[N]===ji,l=N=>t[N]===que,c=N=>t[N]===Gue,u=N=>o(N)||a(N)||l(N)||c(N),d=()=>r,p=()=>i,y=()=>s,v=()=>n,b=N=>o(N)||l(N)||c(N)?ji:t[N],S=()=>b(r),w=()=>b(r+n);function T(){return n=0,u(r)&&(i++,s=0),o(r)&&r++,r++,s++,t[r]}function x(){return o(r+n)&&n++,n++,t[r+n]}function _(){r=0,i=1,s=1,n=0}function $(N=0){n=N}function M(){const N=r+n;for(;N!==r;)T();n=0}return{index:d,line:p,column:y,peekOffset:v,charAt:b,currentChar:S,currentPeek:w,next:T,peek:x,reset:_,resetPeek:$,skipToPeek:M}}const Ja=void 0,Hue=".",rO="'",Wue="tokenizer";function Yue(e,t={}){const r=t.location!==!1,i=zue(e),s=()=>i.index(),n=()=>kue(i.line(),i.column(),i.index()),o=n(),a=s(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function d(L,R,q,...re){const se=c();if(R.column+=q,R.offset+=q,u){const ne=r?Mv(se.startLoc,R):null,H=Wf(L,ne,{domain:Wue,args:re});u(H)}}function p(L,R,q){L.endLoc=n(),L.currentType=R;const re={type:R};return r&&(re.loc=Mv(L.startLoc,L.endLoc)),q!=null&&(re.value=q),re}const y=L=>p(L,14);function v(L,R){return L.currentChar()===R?(L.next(),R):(d(Fe.EXPECTED_TOKEN,n(),0,R),"")}function b(L){let R="";for(;L.currentPeek()===Xo||L.currentPeek()===ji;)R+=L.currentPeek(),L.peek();return R}function S(L){const R=b(L);return L.skipToPeek(),R}function w(L){if(L===Ja)return!1;const R=L.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R===95}function T(L){if(L===Ja)return!1;const R=L.charCodeAt(0);return R>=48&&R<=57}function x(L,R){const{currentType:q}=R;if(q!==2)return!1;b(L);const re=w(L.currentPeek());return L.resetPeek(),re}function _(L,R){const{currentType:q}=R;if(q!==2)return!1;b(L);const re=L.currentPeek()==="-"?L.peek():L.currentPeek(),se=T(re);return L.resetPeek(),se}function $(L,R){const{currentType:q}=R;if(q!==2)return!1;b(L);const re=L.currentPeek()===rO;return L.resetPeek(),re}function M(L,R){const{currentType:q}=R;if(q!==8)return!1;b(L);const re=L.currentPeek()===".";return L.resetPeek(),re}function N(L,R){const{currentType:q}=R;if(q!==9)return!1;b(L);const re=w(L.currentPeek());return L.resetPeek(),re}function C(L,R){const{currentType:q}=R;if(!(q===8||q===12))return!1;b(L);const re=L.currentPeek()===":";return L.resetPeek(),re}function P(L,R){const{currentType:q}=R;if(q!==10)return!1;const re=()=>{const ne=L.currentPeek();return ne==="{"?w(L.peek()):ne==="@"||ne==="%"||ne==="|"||ne===":"||ne==="."||ne===Xo||!ne?!1:ne===ji?(L.peek(),re()):U(L,!1)},se=re();return L.resetPeek(),se}function k(L){b(L);const R=L.currentPeek()==="|";return L.resetPeek(),R}function V(L){const R=b(L),q=L.currentPeek()==="%"&&L.peek()==="{";return L.resetPeek(),{isModulo:q,hasSpace:R.length>0}}function U(L,R=!0){const q=(se=!1,ne="",H=!1)=>{const Z=L.currentPeek();return Z==="{"?ne==="%"?!1:se:Z==="@"||!Z?ne==="%"?!0:se:Z==="%"?(L.peek(),q(se,"%",!0)):Z==="|"?ne==="%"||H?!0:!(ne===Xo||ne===ji):Z===Xo?(L.peek(),q(!0,Xo,H)):Z===ji?(L.peek(),q(!0,ji,H)):!0},re=q();return R&&L.resetPeek(),re}function j(L,R){const q=L.currentChar();return q===Ja?Ja:R(q)?(L.next(),q):null}function Y(L){const R=L.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||R===95||R===36}function f(L){return j(L,Y)}function m(L){const R=L.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||R===95||R===36||R===45}function E(L){return j(L,m)}function O(L){const R=L.charCodeAt(0);return R>=48&&R<=57}function G(L){return j(L,O)}function J(L){const R=L.charCodeAt(0);return R>=48&&R<=57||R>=65&&R<=70||R>=97&&R<=102}function me(L){return j(L,J)}function ue(L){let R="",q="";for(;R=G(L);)q+=R;return q}function $e(L){S(L);const R=L.currentChar();return R!=="%"&&d(Fe.EXPECTED_TOKEN,n(),0,R),L.next(),"%"}function Ue(L){let R="";for(;;){const q=L.currentChar();if(q==="{"||q==="}"||q==="@"||q==="|"||!q)break;if(q==="%")if(U(L))R+=q,L.next();else break;else if(q===Xo||q===ji)if(U(L))R+=q,L.next();else{if(k(L))break;R+=q,L.next()}else R+=q,L.next()}return R}function qe(L){S(L);let R="",q="";for(;R=E(L);)q+=R;return L.currentChar()===Ja&&d(Fe.UNTERMINATED_CLOSING_BRACE,n(),0),q}function lt(L){S(L);let R="";return L.currentChar()==="-"?(L.next(),R+=`-${ue(L)}`):R+=ue(L),L.currentChar()===Ja&&d(Fe.UNTERMINATED_CLOSING_BRACE,n(),0),R}function Ht(L){return L!==rO&&L!==ji}function Ct(L){S(L),v(L,"'");let R="",q="";for(;R=j(L,Ht);)R==="\\"?q+=wr(L):q+=R;const re=L.currentChar();return re===ji||re===Ja?(d(Fe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,n(),0),re===ji&&(L.next(),v(L,"'")),q):(v(L,"'"),q)}function wr(L){const R=L.currentChar();switch(R){case"\\":case"'":return L.next(),`\\${R}`;case"u":return Ut(L,R,4);case"U":return Ut(L,R,6);default:return d(Fe.UNKNOWN_ESCAPE_SEQUENCE,n(),0,R),""}}function Ut(L,R,q){v(L,R);let re="";for(let se=0;se<q;se++){const ne=me(L);if(!ne){d(Fe.INVALID_UNICODE_ESCAPE_SEQUENCE,n(),0,`\\${R}${re}${L.currentChar()}`);break}re+=ne}return`\\${R}${re}`}function or(L){return L!=="{"&&L!=="}"&&L!==Xo&&L!==ji}function ri(L){S(L);let R="",q="";for(;R=j(L,or);)q+=R;return q}function B(L){let R="",q="";for(;R=f(L);)q+=R;return q}function F(L){const R=q=>{const re=L.currentChar();return re==="{"||re==="%"||re==="@"||re==="|"||re==="("||re===")"||!re||re===Xo?q:(q+=re,L.next(),R(q))};return R("")}function W(L){S(L);const R=v(L,"|");return S(L),R}function ae(L,R){let q=null;switch(L.currentChar()){case"{":return R.braceNest>=1&&d(Fe.NOT_ALLOW_NEST_PLACEHOLDER,n(),0),L.next(),q=p(R,2,"{"),S(L),R.braceNest++,q;case"}":return R.braceNest>0&&R.currentType===2&&d(Fe.EMPTY_PLACEHOLDER,n(),0),L.next(),q=p(R,3,"}"),R.braceNest--,R.braceNest>0&&S(L),R.inLinked&&R.braceNest===0&&(R.inLinked=!1),q;case"@":return R.braceNest>0&&d(Fe.UNTERMINATED_CLOSING_BRACE,n(),0),q=te(L,R)||y(R),R.braceNest=0,q;default:{let se=!0,ne=!0,H=!0;if(k(L))return R.braceNest>0&&d(Fe.UNTERMINATED_CLOSING_BRACE,n(),0),q=p(R,1,W(L)),R.braceNest=0,R.inLinked=!1,q;if(R.braceNest>0&&(R.currentType===5||R.currentType===6||R.currentType===7))return d(Fe.UNTERMINATED_CLOSING_BRACE,n(),0),R.braceNest=0,ce(L,R);if(se=x(L,R))return q=p(R,5,qe(L)),S(L),q;if(ne=_(L,R))return q=p(R,6,lt(L)),S(L),q;if(H=$(L,R))return q=p(R,7,Ct(L)),S(L),q;if(!se&&!ne&&!H)return q=p(R,13,ri(L)),d(Fe.INVALID_TOKEN_IN_PLACEHOLDER,n(),0,q.value),S(L),q;break}}return q}function te(L,R){const{currentType:q}=R;let re=null;const se=L.currentChar();switch((q===8||q===9||q===12||q===10)&&(se===ji||se===Xo)&&d(Fe.INVALID_LINKED_FORMAT,n(),0),se){case"@":return L.next(),re=p(R,8,"@"),R.inLinked=!0,re;case".":return S(L),L.next(),p(R,9,".");case":":return S(L),L.next(),p(R,10,":");default:return k(L)?(re=p(R,1,W(L)),R.braceNest=0,R.inLinked=!1,re):M(L,R)||C(L,R)?(S(L),te(L,R)):N(L,R)?(S(L),p(R,12,B(L))):P(L,R)?(S(L),se==="{"?ae(L,R)||re:p(R,11,F(L))):(q===8&&d(Fe.INVALID_LINKED_FORMAT,n(),0),R.braceNest=0,R.inLinked=!1,ce(L,R))}}function ce(L,R){let q={type:14};if(R.braceNest>0)return ae(L,R)||y(R);if(R.inLinked)return te(L,R)||y(R);switch(L.currentChar()){case"{":return ae(L,R)||y(R);case"}":return d(Fe.UNBALANCED_CLOSING_BRACE,n(),0),L.next(),p(R,3,"}");case"@":return te(L,R)||y(R);default:{if(k(L))return q=p(R,1,W(L)),R.braceNest=0,R.inLinked=!1,q;const{isModulo:se,hasSpace:ne}=V(L);if(se)return ne?p(R,0,Ue(L)):p(R,4,$e(L));if(U(L))return p(R,0,Ue(L));break}}return q}function ye(){const{currentType:L,offset:R,startLoc:q,endLoc:re}=l;return l.lastType=L,l.lastOffset=R,l.lastStartLoc=q,l.lastEndLoc=re,l.offset=s(),l.startLoc=n(),i.currentChar()===Ja?p(l,14):ce(i,l)}return{nextToken:ye,currentOffset:s,currentPosition:n,context:c}}const Jue="parser",Kue=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Zue(e,t,r){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(t||r,16);return i<=55295||i>=57344?String.fromCodePoint(i):""}}}function Xue(e={}){const t=e.location!==!1,{onError:r,onWarn:i}=e;function s(x,_,$,M,...N){const C=x.currentPosition();if(C.offset+=M,C.column+=M,r){const P=t?Mv($,C):null,k=Wf(_,P,{domain:Jue,args:N});r(k)}}function n(x,_,$,M,...N){const C=x.currentPosition();if(C.offset+=M,C.column+=M,i){const P=t?Mv($,C):null;i(Uue(_,P,N))}}function o(x,_,$){const M={type:x};return t&&(M.start=_,M.end=_,M.loc={start:$,end:$}),M}function a(x,_,$,M){t&&(x.end=_,x.loc&&(x.loc.end=$))}function l(x,_){const $=x.context(),M=o(3,$.offset,$.startLoc);return M.value=_,a(M,x.currentOffset(),x.currentPosition()),M}function c(x,_){const $=x.context(),{lastOffset:M,lastStartLoc:N}=$,C=o(5,M,N);return C.index=parseInt(_,10),x.nextToken(),a(C,x.currentOffset(),x.currentPosition()),C}function u(x,_,$){const M=x.context(),{lastOffset:N,lastStartLoc:C}=M,P=o(4,N,C);return P.key=_,$===!0&&(P.modulo=!0),x.nextToken(),a(P,x.currentOffset(),x.currentPosition()),P}function d(x,_){const $=x.context(),{lastOffset:M,lastStartLoc:N}=$,C=o(9,M,N);return C.value=_.replace(Kue,Zue),x.nextToken(),a(C,x.currentOffset(),x.currentPosition()),C}function p(x){const _=x.nextToken(),$=x.context(),{lastOffset:M,lastStartLoc:N}=$,C=o(8,M,N);return _.type!==12?(s(x,Fe.UNEXPECTED_EMPTY_LINKED_MODIFIER,$.lastStartLoc,0),C.value="",a(C,M,N),{nextConsumeToken:_,node:C}):(_.value==null&&s(x,Fe.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,En(_)),C.value=_.value||"",a(C,x.currentOffset(),x.currentPosition()),{node:C})}function y(x,_){const $=x.context(),M=o(7,$.offset,$.startLoc);return M.value=_,a(M,x.currentOffset(),x.currentPosition()),M}function v(x){const _=x.context(),$=o(6,_.offset,_.startLoc);let M=x.nextToken();if(M.type===9){const N=p(x);$.modifier=N.node,M=N.nextConsumeToken||x.nextToken()}switch(M.type!==10&&s(x,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,En(M)),M=x.nextToken(),M.type===2&&(M=x.nextToken()),M.type){case 11:M.value==null&&s(x,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,En(M)),$.key=y(x,M.value||"");break;case 5:M.value==null&&s(x,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,En(M)),$.key=u(x,M.value||"");break;case 6:M.value==null&&s(x,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,En(M)),$.key=c(x,M.value||"");break;case 7:M.value==null&&s(x,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,En(M)),$.key=d(x,M.value||"");break;default:{s(x,Fe.UNEXPECTED_EMPTY_LINKED_KEY,_.lastStartLoc,0);const N=x.context(),C=o(7,N.offset,N.startLoc);return C.value="",a(C,N.offset,N.startLoc),$.key=C,a($,N.offset,N.startLoc),{nextConsumeToken:M,node:$}}}return a($,x.currentOffset(),x.currentPosition()),{node:$}}function b(x){const _=x.context(),$=_.currentType===1?x.currentOffset():_.offset,M=_.currentType===1?_.endLoc:_.startLoc,N=o(2,$,M);N.items=[];let C=null,P=null;do{const U=C||x.nextToken();switch(C=null,U.type){case 0:U.value==null&&s(x,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,En(U)),N.items.push(l(x,U.value||""));break;case 6:U.value==null&&s(x,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,En(U)),N.items.push(c(x,U.value||""));break;case 4:P=!0;break;case 5:U.value==null&&s(x,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,En(U)),N.items.push(u(x,U.value||"",!!P)),P&&(n(x,DA.USE_MODULO_SYNTAX,_.lastStartLoc,0,En(U)),P=null);break;case 7:U.value==null&&s(x,Fe.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,En(U)),N.items.push(d(x,U.value||""));break;case 8:{const j=v(x);N.items.push(j.node),C=j.nextConsumeToken||null;break}}}while(_.currentType!==14&&_.currentType!==1);const k=_.currentType===1?_.lastOffset:x.currentOffset(),V=_.currentType===1?_.lastEndLoc:x.currentPosition();return a(N,k,V),N}function S(x,_,$,M){const N=x.context();let C=M.items.length===0;const P=o(1,_,$);P.cases=[],P.cases.push(M);do{const k=b(x);C||(C=k.items.length===0),P.cases.push(k)}while(N.currentType!==14);return C&&s(x,Fe.MUST_HAVE_MESSAGES_IN_PLURAL,$,0),a(P,x.currentOffset(),x.currentPosition()),P}function w(x){const _=x.context(),{offset:$,startLoc:M}=_,N=b(x);return _.currentType===14?N:S(x,$,M,N)}function T(x){const _=Yue(x,nD({},e)),$=_.context(),M=o(0,$.offset,$.startLoc);return t&&M.loc&&(M.loc.source=x),M.body=w(_),e.onCacheKey&&(M.cacheKey=e.onCacheKey(x)),$.currentType!==14&&s(_,Fe.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,x[$.offset]||""),a(M,_.currentOffset(),_.currentPosition()),M}return{parse:T}}function En(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function Que(e,t={}){const r={ast:e,helpers:new Set};return{context:()=>r,helper:n=>(r.helpers.add(n),n)}}function iO(e,t){for(let r=0;r<e.length;r++)FA(e[r],t)}function FA(e,t){switch(e.type){case 1:iO(e.cases,t),t.helper("plural");break;case 2:iO(e.items,t);break;case 6:{FA(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function ehe(e,t={}){const r=Que(e);r.helper("normalize"),e.body&&FA(e.body,r);const i=r.context();e.helpers=Array.from(i.helpers)}function the(e){const t=e.body;return t.type===2?sO(t):t.cases.forEach(r=>sO(r)),e}function sO(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let r=0;r<e.items.length;r++){const i=e.items[r];if(!(i.type===3||i.type===9)||i.value==null)break;t.push(i.value)}if(t.length===e.items.length){e.static=oD(t);for(let r=0;r<e.items.length;r++){const i=e.items[r];(i.type===3||i.type===9)&&delete i.value}}}}const rhe="minifier";function nh(e){switch(e.t=e.type,e.type){case 0:{const t=e;nh(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,r=t.cases;for(let i=0;i<r.length;i++)nh(r[i]);t.c=r,delete t.cases;break}case 2:{const t=e,r=t.items;for(let i=0;i<r.length;i++)nh(r[i]);t.i=r,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;nh(t.key),t.k=t.key,delete t.key,t.modifier&&(nh(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw Wf(Fe.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:rhe,args:[e.type]})}delete e.type}const ihe="parser";function she(e,t){const{filename:r,breakLineCode:i,needIndent:s}=t,n=t.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};n&&e.loc&&(o.source=e.loc.source);const a=()=>o;function l(b,S){o.code+=b}function c(b,S=!0){const w=S?i:"";l(s?w+"  ".repeat(b):w)}function u(b=!0){const S=++o.indentLevel;b&&c(S)}function d(b=!0){const S=--o.indentLevel;b&&c(S)}function p(){c(o.indentLevel)}return{context:a,push:l,indent:u,deindent:d,newline:p,helper:b=>`_${b}`,needIndent:()=>o.needIndent}}function nhe(e,t){const{helper:r}=e;e.push(`${r("linked")}(`),mf(e,t.key),t.modifier?(e.push(", "),mf(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function ohe(e,t){const{helper:r,needIndent:i}=e;e.push(`${r("normalize")}([`),e.indent(i());const s=t.items.length;for(let n=0;n<s&&(mf(e,t.items[n]),n!==s-1);n++)e.push(", ");e.deindent(i()),e.push("])")}function ahe(e,t){const{helper:r,needIndent:i}=e;if(t.cases.length>1){e.push(`${r("plural")}([`),e.indent(i());const s=t.cases.length;for(let n=0;n<s&&(mf(e,t.cases[n]),n!==s-1);n++)e.push(", ");e.deindent(i()),e.push("])")}}function lhe(e,t){t.body?mf(e,t.body):e.push("null")}function mf(e,t){const{helper:r}=e;switch(t.type){case 0:lhe(e,t);break;case 1:ahe(e,t);break;case 2:ohe(e,t);break;case 6:nhe(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${r("interpolate")}(${r("list")}(${t.index}))`,t);break;case 4:e.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Wf(Fe.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:ihe,args:[t.type]})}}const che=(e,t={})=>{const r=tO(t.mode)?t.mode:"normal",i=tO(t.filename)?t.filename:"message.intl";t.sourceMap;const s=t.breakLineCode!=null?t.breakLineCode:r==="arrow"?";":`
`,n=t.needIndent?t.needIndent:r!=="arrow",o=e.helpers||[],a=she(e,{filename:i,breakLineCode:s,needIndent:n});a.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(n),o.length>0&&(a.push(`const { ${oD(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),mf(a,e),a.deindent(n),a.push("}"),delete e.helpers;const{code:l,map:c}=a.context();return{ast:e,code:l,map:c?c.toJSON():void 0}};function uhe(e,t={}){const r=nD({},t),i=!!r.jit,s=!!r.minify,n=r.optimize==null?!0:r.optimize,a=Xue(r).parse(e);return i?(n&&the(a),s&&nh(a),{ast:a,code:""}):(ehe(a,r),che(a,r))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function hhe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ea().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ea().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ea().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function No(e){return vt(e)&&UA(e)===0&&(Fn(e,"b")||Fn(e,"body"))}const aD=["b","body"];function fhe(e){return tc(e,aD)}const lD=["c","cases"];function dhe(e){return tc(e,lD,[])}const cD=["s","static"];function phe(e){return tc(e,cD)}const uD=["i","items"];function mhe(e){return tc(e,uD,[])}const hD=["t","type"];function UA(e){return tc(e,hD)}const fD=["v","value"];function Xy(e,t){const r=tc(e,fD);if(r!=null)return r;throw gm(t)}const dD=["m","modifier"];function yhe(e){return tc(e,dD)}const pD=["k","key"];function ghe(e){const t=tc(e,pD);if(t)return t;throw gm(6)}function tc(e,t,r){for(let i=0;i<t.length;i++){const s=t[i];if(Fn(e,s)&&e[s]!=null)return e[s]}return r}const mD=[...aD,...lD,...cD,...uD,...pD,...dD,...fD,...hD];function gm(e){return new Error(`unhandled node type: ${e}`)}const rc=[];rc[0]={w:[0],i:[3,0],"[":[4],o:[7]};rc[1]={w:[1],".":[2],"[":[4],o:[7]};rc[2]={w:[2],i:[3,0],0:[3,0]};rc[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};rc[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};rc[5]={"'":[4,0],o:8,l:[5,0]};rc[6]={'"':[4,0],o:8,l:[6,0]};const vhe=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function bhe(e){return vhe.test(e)}function _he(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function whe(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function xhe(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:bhe(t)?_he(t):"*"+t}function She(e){const t=[];let r=-1,i=0,s=0,n,o,a,l,c,u,d;const p=[];p[0]=()=>{o===void 0?o=a:o+=a},p[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},p[2]=()=>{p[0](),s++},p[3]=()=>{if(s>0)s--,i=4,p[0]();else{if(s=0,o===void 0||(o=xhe(o),o===!1))return!1;p[1]()}};function y(){const v=e[r+1];if(i===5&&v==="'"||i===6&&v==='"')return r++,a="\\"+v,p[0](),!0}for(;i!==null;)if(r++,n=e[r],!(n==="\\"&&y())){if(l=whe(n),d=rc[i],c=d[l]||d.l||8,c===8||(i=c[0],c[1]!==void 0&&(u=p[c[1]],u&&(a=n,u()===!1))))return;if(i===7)return t}}const nO=new Map;function Ehe(e,t){return vt(e)?e[t]:null}function Ahe(e,t){if(!vt(e))return null;let r=nO.get(t);if(r||(r=She(t),r&&nO.set(t,r)),!r)return null;const i=r.length;let s=e,n=0;for(;n<i;){const o=r[n];if(mD.includes(o)&&No(s))return null;const a=s[o];if(a===void 0||Vt(s))return null;s=a,n++}return s}const The=e=>e,$he=e=>"",Mhe="text",Ihe=e=>e.length===0?"":Lue(e),Ohe=Nue;function oO(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Che(e){const t=Cr(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Cr(e.named.count)||Cr(e.named.n))?Cr(e.named.count)?e.named.count:Cr(e.named.n)?e.named.n:t:t}function Phe(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Nhe(e={}){const t=e.locale,r=Che(e),i=vt(e.pluralRules)&&xe(t)&&Vt(e.pluralRules[t])?e.pluralRules[t]:oO,s=vt(e.pluralRules)&&xe(t)&&Vt(e.pluralRules[t])?oO:void 0,n=w=>w[i(r,w.length,s)],o=e.list||[],a=w=>o[w],l=e.named||Rt();Cr(e.pluralIndex)&&Phe(r,l);const c=w=>l[w];function u(w){const T=Vt(e.messages)?e.messages(w):vt(e.messages)?e.messages[w]:!1;return T||(e.parent?e.parent.message(w):$he)}const d=w=>e.modifiers?e.modifiers[w]:The,p=He(e.processor)&&Vt(e.processor.normalize)?e.processor.normalize:Ihe,y=He(e.processor)&&Vt(e.processor.interpolate)?e.processor.interpolate:Ohe,v=He(e.processor)&&xe(e.processor.type)?e.processor.type:Mhe,S={list:a,named:c,plural:n,linked:(w,...T)=>{const[x,_]=T;let $="text",M="";T.length===1?vt(x)?(M=x.modifier||M,$=x.type||$):xe(x)&&(M=x||M):T.length===2&&(xe(x)&&(M=x||M),xe(_)&&($=_||$));const N=u(w)(S),C=$==="vnode"&&Kt(N)&&M?N[0]:N;return M?d(M)(C,$):C},message:u,type:v,interpolate:y,normalize:p,values:gi(Rt(),o,l)};return S}let vm=null;function Lhe(e){vm=e}function khe(e,t,r){vm&&vm.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:r})}const Rhe=Dhe("function:translate");function Dhe(e){return t=>vm&&vm.emit(e,t)}const Fhe=DA.__EXTEND_POINT__,pc=$b(Fhe),Uhe={FALLBACK_TO_TRANSLATE:pc(),CANNOT_FORMAT_NUMBER:pc(),FALLBACK_TO_NUMBER_FORMAT:pc(),CANNOT_FORMAT_DATE:pc(),FALLBACK_TO_DATE_FORMAT:pc(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:pc(),__EXTEND_POINT__:pc()},yD=Fe.__EXTEND_POINT__,mc=$b(yD),Un={INVALID_ARGUMENT:yD,INVALID_DATE_ARGUMENT:mc(),INVALID_ISO_DATE_ARGUMENT:mc(),NOT_SUPPORT_NON_STRING_MESSAGE:mc(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:mc(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:mc(),NOT_SUPPORT_LOCALE_TYPE:mc(),__EXTEND_POINT__:mc()};function To(e){return Wf(e,null,void 0)}function jA(e,t){return t.locale!=null?aO(t.locale):aO(e.locale)}let i_;function aO(e){if(xe(e))return e;if(Vt(e)){if(e.resolvedOnce&&i_!=null)return i_;if(e.constructor.name==="Function"){const t=e();if(Pue(t))throw To(Un.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return i_=t}else throw To(Un.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw To(Un.NOT_SUPPORT_LOCALE_TYPE)}function jhe(e,t,r){return[...new Set([r,...Kt(t)?t:vt(t)?Object.keys(t):xe(t)?[t]:[r]])]}function gD(e,t,r){const i=xe(r)?r:yf,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let n=s.__localeChainCache.get(i);if(!n){n=[];let o=[r];for(;Kt(o);)o=lO(n,o,t);const a=Kt(t)||!He(t)?t:t.default?t.default:null;o=xe(a)?[a]:a,Kt(o)&&lO(n,o,!1),s.__localeChainCache.set(i,n)}return n}function lO(e,t,r){let i=!0;for(let s=0;s<t.length&&it(i);s++){const n=t[s];xe(n)&&(i=Bhe(e,t[s],r))}return i}function Bhe(e,t,r){let i;const s=t.split("-");do{const n=s.join("-");i=Vhe(e,n,r),s.splice(-1,1)}while(s.length&&i===!0);return i}function Vhe(e,t,r){let i=!1;if(!e.includes(t)&&(i=!0,t)){i=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(Kt(r)||He(r))&&r[s]&&(i=r[s])}return i}const Ghe="9.14.5",Mb=-1,yf="en-US",cO="",uO=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function qhe(){return{upper:(e,t)=>t==="text"&&xe(e)?e.toUpperCase():t==="vnode"&&vt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&xe(e)?e.toLowerCase():t==="vnode"&&vt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&xe(e)?uO(e):t==="vnode"&&vt(e)&&"__v_isVNode"in e?uO(e.children):e}}let vD;function hO(e){vD=e}let bD;function zhe(e){bD=e}let _D;function Hhe(e){_D=e}let wD=null;const Whe=e=>{wD=e},Yhe=()=>wD;let xD=null;const fO=e=>{xD=e},Jhe=()=>xD;let dO=0;function Khe(e={}){const t=Vt(e.onWarn)?e.onWarn:Aue,r=xe(e.version)?e.version:Ghe,i=xe(e.locale)||Vt(e.locale)?e.locale:yf,s=Vt(i)?yf:i,n=Kt(e.fallbackLocale)||He(e.fallbackLocale)||xe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,o=He(e.messages)?e.messages:s_(s),a=He(e.datetimeFormats)?e.datetimeFormats:s_(s),l=He(e.numberFormats)?e.numberFormats:s_(s),c=gi(Rt(),e.modifiers,qhe()),u=e.pluralRules||Rt(),d=Vt(e.missing)?e.missing:null,p=it(e.missingWarn)||Gl(e.missingWarn)?e.missingWarn:!0,y=it(e.fallbackWarn)||Gl(e.fallbackWarn)?e.fallbackWarn:!0,v=!!e.fallbackFormat,b=!!e.unresolving,S=Vt(e.postTranslation)?e.postTranslation:null,w=He(e.processor)?e.processor:null,T=it(e.warnHtmlMessage)?e.warnHtmlMessage:!0,x=!!e.escapeParameter,_=Vt(e.messageCompiler)?e.messageCompiler:vD,$=Vt(e.messageResolver)?e.messageResolver:bD||Ehe,M=Vt(e.localeFallbacker)?e.localeFallbacker:_D||jhe,N=vt(e.fallbackContext)?e.fallbackContext:void 0,C=e,P=vt(C.__datetimeFormatters)?C.__datetimeFormatters:new Map,k=vt(C.__numberFormatters)?C.__numberFormatters:new Map,V=vt(C.__meta)?C.__meta:{};dO++;const U={version:r,cid:dO,locale:i,fallbackLocale:n,messages:o,modifiers:c,pluralRules:u,missing:d,missingWarn:p,fallbackWarn:y,fallbackFormat:v,unresolving:b,postTranslation:S,processor:w,warnHtmlMessage:T,escapeParameter:x,messageCompiler:_,messageResolver:$,localeFallbacker:M,fallbackContext:N,onWarn:t,__meta:V};return U.datetimeFormats=a,U.numberFormats=l,U.__datetimeFormatters=P,U.__numberFormatters=k,__INTLIFY_PROD_DEVTOOLS__&&khe(U,r,V),U}const s_=e=>({[e]:Rt()});function BA(e,t,r,i,s){const{missing:n,onWarn:o}=e;if(n!==null){const a=n(e,r,t,s);return xe(a)?a:t}else return t}function hd(e,t,r){const i=e;i.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}function Zhe(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Xhe(e,t){const r=t.indexOf(e);if(r===-1)return!1;for(let i=r+1;i<t.length;i++)if(Zhe(e,t[i]))return!0;return!1}function n_(e){return r=>Qhe(r,e)}function Qhe(e,t){const r=fhe(t);if(r==null)throw gm(0);if(UA(r)===1){const n=dhe(r);return e.plural(n.reduce((o,a)=>[...o,pO(e,a)],[]))}else return pO(e,r)}function pO(e,t){const r=phe(t);if(r!=null)return e.type==="text"?r:e.normalize([r]);{const i=mhe(t).reduce((s,n)=>[...s,lS(e,n)],[]);return e.normalize(i)}}function lS(e,t){const r=UA(t);switch(r){case 3:return Xy(t,r);case 9:return Xy(t,r);case 4:{const i=t;if(Fn(i,"k")&&i.k)return e.interpolate(e.named(i.k));if(Fn(i,"key")&&i.key)return e.interpolate(e.named(i.key));throw gm(r)}case 5:{const i=t;if(Fn(i,"i")&&Cr(i.i))return e.interpolate(e.list(i.i));if(Fn(i,"index")&&Cr(i.index))return e.interpolate(e.list(i.index));throw gm(r)}case 6:{const i=t,s=yhe(i),n=ghe(i);return e.linked(lS(e,n),s?lS(e,s):void 0,e.type)}case 7:return Xy(t,r);case 8:return Xy(t,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const SD=e=>e;let Ah=Rt();function ED(e,t={}){let r=!1;const i=t.onError||Bue;return t.onError=s=>{r=!0,i(s)},{...uhe(e,t),detectError:r}}const efe=(e,t)=>{if(!xe(e))throw To(Un.NOT_SUPPORT_NON_STRING_MESSAGE);{it(t.warnHtmlMessage)&&t.warnHtmlMessage;const i=(t.onCacheKey||SD)(e),s=Ah[i];if(s)return s;const{code:n,detectError:o}=ED(e,t),a=new Function(`return ${n}`)();return o?a:Ah[i]=a}};function tfe(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&xe(e)){it(t.warnHtmlMessage)&&t.warnHtmlMessage;const i=(t.onCacheKey||SD)(e),s=Ah[i];if(s)return s;const{ast:n,detectError:o}=ED(e,{...t,location:!1,jit:!0}),a=n_(n);return o?a:Ah[i]=a}else{const r=e.cacheKey;if(r){const i=Ah[r];return i||(Ah[r]=n_(e))}else return n_(e)}}const mO=()=>"",on=e=>Vt(e);function yO(e,...t){const{fallbackFormat:r,postTranslation:i,unresolving:s,messageCompiler:n,fallbackLocale:o,messages:a}=e,[l,c]=cS(...t),u=it(c.missingWarn)?c.missingWarn:e.missingWarn,d=it(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,p=it(c.escapeParameter)?c.escapeParameter:e.escapeParameter,y=!!c.resolvedMessage,v=xe(c.default)||it(c.default)?it(c.default)?n?l:()=>l:c.default:r?n?l:()=>l:"",b=r||v!=="",S=jA(e,c);p&&rfe(c);let[w,T,x]=y?[l,S,a[S]||Rt()]:AD(e,l,S,o,d,u),_=w,$=l;if(!y&&!(xe(_)||No(_)||on(_))&&b&&(_=v,$=_),!y&&(!(xe(_)||No(_)||on(_))||!xe(T)))return s?Mb:l;let M=!1;const N=()=>{M=!0},C=on(_)?_:TD(e,l,T,_,$,N);if(M)return _;const P=nfe(e,T,x,c),k=Nhe(P),V=ife(e,C,k);let U=i?i(V,l):V;if(p&&xe(U)&&(U=Oue(U)),__INTLIFY_PROD_DEVTOOLS__){const j={timestamp:Date.now(),key:xe(l)?l:on(_)?_.key:"",locale:T||(on(_)?_.locale:""),format:xe(_)?_:on(_)?_.source:"",message:U};j.meta=gi({},e.__meta,Yhe()||{}),Rhe(j)}return U}function rfe(e){Kt(e.list)?e.list=e.list.map(t=>xe(t)?QI(t):t):vt(e.named)&&Object.keys(e.named).forEach(t=>{xe(e.named[t])&&(e.named[t]=QI(e.named[t]))})}function AD(e,t,r,i,s,n){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=e,u=c(e,i,r);let d=Rt(),p,y=null;const v="translate";for(let b=0;b<u.length&&(p=u[b],d=o[p]||Rt(),(y=l(d,t))===null&&(y=d[t]),!(xe(y)||No(y)||on(y)));b++)if(!Xhe(p,u)){const S=BA(e,t,p,n,v);S!==t&&(y=S)}return[y,p,d]}function TD(e,t,r,i,s,n){const{messageCompiler:o,warnHtmlMessage:a}=e;if(on(i)){const c=i;return c.locale=c.locale||r,c.key=c.key||t,c}if(o==null){const c=()=>i;return c.locale=r,c.key=t,c}const l=o(i,sfe(e,r,s,i,a,n));return l.locale=r,l.key=t,l.source=i,l}function ife(e,t,r){return t(r)}function cS(...e){const[t,r,i]=e,s=Rt();if(!xe(t)&&!Cr(t)&&!on(t)&&!No(t))throw To(Un.INVALID_ARGUMENT);const n=Cr(t)?String(t):(on(t),t);return Cr(r)?s.plural=r:xe(r)?s.default=r:He(r)&&!Tb(r)?s.named=r:Kt(r)&&(s.list=r),Cr(i)?s.plural=i:xe(i)?s.default=i:He(i)&&gi(s,i),[n,s]}function sfe(e,t,r,i,s,n){return{locale:t,key:r,warnHtmlMessage:s,onError:o=>{throw n&&n(o),o},onCacheKey:o=>Tue(t,r,o)}}function nfe(e,t,r,i){const{modifiers:s,pluralRules:n,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=e,p={locale:t,modifiers:s,pluralRules:n,messages:y=>{let v=o(r,y);if(v==null&&u){const[,,b]=AD(u,y,t,a,l,c);v=o(b,y)}if(xe(v)||No(v)){let b=!1;const w=TD(e,y,t,v,y,()=>{b=!0});return b?mO:w}else return on(v)?v:mO}};return e.processor&&(p.processor=e.processor),i.list&&(p.list=i.list),i.named&&(p.named=i.named),Cr(i.plural)&&(p.pluralIndex=i.plural),p}function gO(e,...t){const{datetimeFormats:r,unresolving:i,fallbackLocale:s,onWarn:n,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[l,c,u,d]=uS(...t),p=it(u.missingWarn)?u.missingWarn:e.missingWarn;it(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const y=!!u.part,v=jA(e,u),b=o(e,s,v);if(!xe(l)||l==="")return new Intl.DateTimeFormat(v,d).format(c);let S={},w,T=null;const x="datetime format";for(let M=0;M<b.length&&(w=b[M],S=r[w]||{},T=S[l],!He(T));M++)BA(e,l,w,p,x);if(!He(T)||!xe(w))return i?Mb:l;let _=`${w}__${l}`;Tb(d)||(_=`${_}__${JSON.stringify(d)}`);let $=a.get(_);return $||($=new Intl.DateTimeFormat(w,gi({},T,d)),a.set(_,$)),y?$.formatToParts(c):$.format(c)}const $D=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function uS(...e){const[t,r,i,s]=e,n=Rt();let o=Rt(),a;if(xe(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw To(Un.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw To(Un.INVALID_ISO_DATE_ARGUMENT)}}else if(Mue(t)){if(isNaN(t.getTime()))throw To(Un.INVALID_DATE_ARGUMENT);a=t}else if(Cr(t))a=t;else throw To(Un.INVALID_ARGUMENT);return xe(r)?n.key=r:He(r)&&Object.keys(r).forEach(l=>{$D.includes(l)?o[l]=r[l]:n[l]=r[l]}),xe(i)?n.locale=i:He(i)&&(o=i),He(s)&&(o=s),[n.key||"",a,n,o]}function vO(e,t,r){const i=e;for(const s in r){const n=`${t}__${s}`;i.__datetimeFormatters.has(n)&&i.__datetimeFormatters.delete(n)}}function bO(e,...t){const{numberFormats:r,unresolving:i,fallbackLocale:s,onWarn:n,localeFallbacker:o}=e,{__numberFormatters:a}=e,[l,c,u,d]=hS(...t),p=it(u.missingWarn)?u.missingWarn:e.missingWarn;it(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const y=!!u.part,v=jA(e,u),b=o(e,s,v);if(!xe(l)||l==="")return new Intl.NumberFormat(v,d).format(c);let S={},w,T=null;const x="number format";for(let M=0;M<b.length&&(w=b[M],S=r[w]||{},T=S[l],!He(T));M++)BA(e,l,w,p,x);if(!He(T)||!xe(w))return i?Mb:l;let _=`${w}__${l}`;Tb(d)||(_=`${_}__${JSON.stringify(d)}`);let $=a.get(_);return $||($=new Intl.NumberFormat(w,gi({},T,d)),a.set(_,$)),y?$.formatToParts(c):$.format(c)}const MD=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function hS(...e){const[t,r,i,s]=e,n=Rt();let o=Rt();if(!Cr(t))throw To(Un.INVALID_ARGUMENT);const a=t;return xe(r)?n.key=r:He(r)&&Object.keys(r).forEach(l=>{MD.includes(l)?o[l]=r[l]:n[l]=r[l]}),xe(i)?n.locale=i:He(i)&&(o=i),He(s)&&(o=s),[n.key||"",a,n,o]}function _O(e,t,r){const i=e;for(const s in r){const n=`${t}__${s}`;i.__numberFormatters.has(n)&&i.__numberFormatters.delete(n)}}hhe();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const ofe="9.14.5";function afe(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ea().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ea().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ea().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ea().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ea().__INTLIFY_PROD_DEVTOOLS__=!1)}const lfe=Uhe.__EXTEND_POINT__,Qo=$b(lfe);Qo(),Qo(),Qo(),Qo(),Qo(),Qo(),Qo(),Qo(),Qo();const ID=Un.__EXTEND_POINT__,rs=$b(ID),ei={UNEXPECTED_RETURN_TYPE:ID,INVALID_ARGUMENT:rs(),MUST_BE_CALL_SETUP_TOP:rs(),NOT_INSTALLED:rs(),NOT_AVAILABLE_IN_LEGACY_MODE:rs(),REQUIRED_VALUE:rs(),INVALID_VALUE:rs(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:rs(),NOT_INSTALLED_WITH_PROVIDE:rs(),UNEXPECTED_ERROR:rs(),NOT_COMPATIBLE_LEGACY_VUE_I18N:rs(),BRIDGE_SUPPORT_VUE_2_ONLY:rs(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:rs(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:rs(),__EXTEND_POINT__:rs()};function ci(e,...t){return Wf(e,null,void 0)}const fS=ec("__translateVNode"),dS=ec("__datetimeParts"),pS=ec("__numberParts"),OD=ec("__setPluralRules"),CD=ec("__injectWithOption"),mS=ec("__dispose");function bm(e){if(!vt(e)||No(e))return e;for(const t in e)if(Fn(e,t))if(!t.includes("."))vt(e[t])&&bm(e[t]);else{const r=t.split("."),i=r.length-1;let s=e,n=!1;for(let o=0;o<i;o++){if(r[o]==="__proto__")throw new Error(`unsafe key: ${r[o]}`);if(r[o]in s||(s[r[o]]=Rt()),!vt(s[r[o]])){n=!0;break}s=s[r[o]]}if(n||(No(s)?mD.includes(r[i])||delete e[t]:(s[r[i]]=e[t],delete e[t])),!No(s)){const o=s[r[i]];vt(o)&&bm(o)}}return e}function Ib(e,t){const{messages:r,__i18n:i,messageResolver:s,flatJson:n}=t,o=He(r)?r:Kt(i)?Rt():{[e]:Rt()};if(Kt(i)&&i.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Rt(),ug(c,o[l])):ug(c,o)}else xe(a)&&ug(JSON.parse(a),o)}),s==null&&n)for(const a in o)Fn(o,a)&&bm(o[a]);return o}function PD(e){return e.type}function ND(e,t,r){let i=vt(t.messages)?t.messages:Rt();"__i18nGlobal"in r&&(i=Ib(e.locale.value,{messages:i,__i18n:r.__i18nGlobal}));const s=Object.keys(i);s.length&&s.forEach(n=>{e.mergeLocaleMessage(n,i[n])});{if(vt(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(vt(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function wO(e){return Ze(Co,null,e,0)}const xO="__INTLIFY_META__",SO=()=>[],cfe=()=>!1;let EO=0;function AO(e){return(t,r,i,s)=>e(r,i,Vr()||void 0,s)}const ufe=()=>{const e=Vr();let t=null;return e&&(t=PD(e)[xO])?{[xO]:t}:null};function VA(e={},t){const{__root:r,__injectWithOption:i}=e,s=r===void 0,n=e.flatJson,o=$v?X:zf,a=!!e.translateExistCompatible;let l=it(e.inheritLocale)?e.inheritLocale:!0;const c=o(r&&l?r.locale.value:xe(e.locale)?e.locale:yf),u=o(r&&l?r.fallbackLocale.value:xe(e.fallbackLocale)||Kt(e.fallbackLocale)||He(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:c.value),d=o(Ib(c.value,e)),p=o(He(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),y=o(He(e.numberFormats)?e.numberFormats:{[c.value]:{}});let v=r?r.missingWarn:it(e.missingWarn)||Gl(e.missingWarn)?e.missingWarn:!0,b=r?r.fallbackWarn:it(e.fallbackWarn)||Gl(e.fallbackWarn)?e.fallbackWarn:!0,S=r?r.fallbackRoot:it(e.fallbackRoot)?e.fallbackRoot:!0,w=!!e.fallbackFormat,T=Vt(e.missing)?e.missing:null,x=Vt(e.missing)?AO(e.missing):null,_=Vt(e.postTranslation)?e.postTranslation:null,$=r?r.warnHtmlMessage:it(e.warnHtmlMessage)?e.warnHtmlMessage:!0,M=!!e.escapeParameter;const N=r?r.modifiers:He(e.modifiers)?e.modifiers:{};let C=e.pluralRules||r&&r.pluralRules,P;P=(()=>{s&&fO(null);const H={version:ofe,locale:c.value,fallbackLocale:u.value,messages:d.value,modifiers:N,pluralRules:C,missing:x===null?void 0:x,missingWarn:v,fallbackWarn:b,fallbackFormat:w,unresolving:!0,postTranslation:_===null?void 0:_,warnHtmlMessage:$,escapeParameter:M,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};H.datetimeFormats=p.value,H.numberFormats=y.value,H.__datetimeFormatters=He(P)?P.__datetimeFormatters:void 0,H.__numberFormatters=He(P)?P.__numberFormatters:void 0;const Z=Khe(H);return s&&fO(Z),Z})(),hd(P,c.value,u.value);function V(){return[c.value,u.value,d.value,p.value,y.value]}const U=et({get:()=>c.value,set:H=>{c.value=H,P.locale=c.value}}),j=et({get:()=>u.value,set:H=>{u.value=H,P.fallbackLocale=u.value,hd(P,c.value,H)}}),Y=et(()=>d.value),f=et(()=>p.value),m=et(()=>y.value);function E(){return Vt(_)?_:null}function O(H){_=H,P.postTranslation=H}function G(){return T}function J(H){H!==null&&(x=AO(H)),T=H,P.missing=x}const me=(H,Z,Ae,Le,jt,Wt)=>{V();let fr;try{__INTLIFY_PROD_DEVTOOLS__,s||(P.fallbackContext=r?Jhe():void 0),fr=H(P)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(P.fallbackContext=void 0)}if(Ae!=="translate exists"&&Cr(fr)&&fr===Mb||Ae==="translate exists"&&!fr){const[Gr,Q]=Z();return r&&S?Le(r):jt(Gr)}else{if(Wt(fr))return fr;throw ci(ei.UNEXPECTED_RETURN_TYPE)}};function ue(...H){return me(Z=>Reflect.apply(yO,null,[Z,...H]),()=>cS(...H),"translate",Z=>Reflect.apply(Z.t,Z,[...H]),Z=>Z,Z=>xe(Z))}function $e(...H){const[Z,Ae,Le]=H;if(Le&&!vt(Le))throw ci(ei.INVALID_ARGUMENT);return ue(Z,Ae,gi({resolvedMessage:!0},Le||{}))}function Ue(...H){return me(Z=>Reflect.apply(gO,null,[Z,...H]),()=>uS(...H),"datetime format",Z=>Reflect.apply(Z.d,Z,[...H]),()=>cO,Z=>xe(Z))}function qe(...H){return me(Z=>Reflect.apply(bO,null,[Z,...H]),()=>hS(...H),"number format",Z=>Reflect.apply(Z.n,Z,[...H]),()=>cO,Z=>xe(Z))}function lt(H){return H.map(Z=>xe(Z)||Cr(Z)||it(Z)?wO(String(Z)):Z)}const Ct={normalize:lt,interpolate:H=>H,type:"vnode"};function wr(...H){return me(Z=>{let Ae;const Le=Z;try{Le.processor=Ct,Ae=Reflect.apply(yO,null,[Le,...H])}finally{Le.processor=null}return Ae},()=>cS(...H),"translate",Z=>Z[fS](...H),Z=>[wO(Z)],Z=>Kt(Z))}function Ut(...H){return me(Z=>Reflect.apply(bO,null,[Z,...H]),()=>hS(...H),"number format",Z=>Z[pS](...H),SO,Z=>xe(Z)||Kt(Z))}function or(...H){return me(Z=>Reflect.apply(gO,null,[Z,...H]),()=>uS(...H),"datetime format",Z=>Z[dS](...H),SO,Z=>xe(Z)||Kt(Z))}function ri(H){C=H,P.pluralRules=C}function B(H,Z){return me(()=>{if(!H)return!1;const Ae=xe(Z)?Z:c.value,Le=ae(Ae),jt=P.messageResolver(Le,H);return a?jt!=null:No(jt)||on(jt)||xe(jt)},()=>[H],"translate exists",Ae=>Reflect.apply(Ae.te,Ae,[H,Z]),cfe,Ae=>it(Ae))}function F(H){let Z=null;const Ae=gD(P,u.value,c.value);for(let Le=0;Le<Ae.length;Le++){const jt=d.value[Ae[Le]]||{},Wt=P.messageResolver(jt,H);if(Wt!=null){Z=Wt;break}}return Z}function W(H){const Z=F(H);return Z??(r?r.tm(H)||{}:{})}function ae(H){return d.value[H]||{}}function te(H,Z){if(n){const Ae={[H]:Z};for(const Le in Ae)Fn(Ae,Le)&&bm(Ae[Le]);Z=Ae[H]}d.value[H]=Z,P.messages=d.value}function ce(H,Z){d.value[H]=d.value[H]||{};const Ae={[H]:Z};if(n)for(const Le in Ae)Fn(Ae,Le)&&bm(Ae[Le]);Z=Ae[H],ug(Z,d.value[H]),P.messages=d.value}function ye(H){return p.value[H]||{}}function L(H,Z){p.value[H]=Z,P.datetimeFormats=p.value,vO(P,H,Z)}function R(H,Z){p.value[H]=gi(p.value[H]||{},Z),P.datetimeFormats=p.value,vO(P,H,Z)}function q(H){return y.value[H]||{}}function re(H,Z){y.value[H]=Z,P.numberFormats=y.value,_O(P,H,Z)}function se(H,Z){y.value[H]=gi(y.value[H]||{},Z),P.numberFormats=y.value,_O(P,H,Z)}EO++,r&&$v&&(Qr(r.locale,H=>{l&&(c.value=H,P.locale=H,hd(P,c.value,u.value))}),Qr(r.fallbackLocale,H=>{l&&(u.value=H,P.fallbackLocale=H,hd(P,c.value,u.value))}));const ne={id:EO,locale:U,fallbackLocale:j,get inheritLocale(){return l},set inheritLocale(H){l=H,H&&r&&(c.value=r.locale.value,u.value=r.fallbackLocale.value,hd(P,c.value,u.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:Y,get modifiers(){return N},get pluralRules(){return C||{}},get isGlobal(){return s},get missingWarn(){return v},set missingWarn(H){v=H,P.missingWarn=v},get fallbackWarn(){return b},set fallbackWarn(H){b=H,P.fallbackWarn=b},get fallbackRoot(){return S},set fallbackRoot(H){S=H},get fallbackFormat(){return w},set fallbackFormat(H){w=H,P.fallbackFormat=w},get warnHtmlMessage(){return $},set warnHtmlMessage(H){$=H,P.warnHtmlMessage=H},get escapeParameter(){return M},set escapeParameter(H){M=H,P.escapeParameter=H},t:ue,getLocaleMessage:ae,setLocaleMessage:te,mergeLocaleMessage:ce,getPostTranslationHandler:E,setPostTranslationHandler:O,getMissingHandler:G,setMissingHandler:J,[OD]:ri};return ne.datetimeFormats=f,ne.numberFormats=m,ne.rt=$e,ne.te=B,ne.tm=W,ne.d=Ue,ne.n=qe,ne.getDateTimeFormat=ye,ne.setDateTimeFormat=L,ne.mergeDateTimeFormat=R,ne.getNumberFormat=q,ne.setNumberFormat=re,ne.mergeNumberFormat=se,ne[CD]=i,ne[fS]=wr,ne[dS]=or,ne[pS]=Ut,ne}function hfe(e){const t=xe(e.locale)?e.locale:yf,r=xe(e.fallbackLocale)||Kt(e.fallbackLocale)||He(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,i=Vt(e.missing)?e.missing:void 0,s=it(e.silentTranslationWarn)||Gl(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,n=it(e.silentFallbackWarn)||Gl(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=it(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=He(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,u=Vt(e.postTranslation)?e.postTranslation:void 0,d=xe(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,y=it(e.sync)?e.sync:!0;let v=e.messages;if(He(e.sharedMessages)){const M=e.sharedMessages;v=Object.keys(M).reduce((C,P)=>{const k=C[P]||(C[P]={});return gi(k,M[P]),C},v||{})}const{__i18n:b,__root:S,__injectWithOption:w}=e,T=e.datetimeFormats,x=e.numberFormats,_=e.flatJson,$=e.translateExistCompatible;return{locale:t,fallbackLocale:r,messages:v,flatJson:_,datetimeFormats:T,numberFormats:x,missing:i,missingWarn:s,fallbackWarn:n,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:d,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:y,translateExistCompatible:$,__i18n:b,__root:S,__injectWithOption:w}}function yS(e={},t){{const r=VA(hfe(e)),{__extender:i}=e,s={id:r.id,get locale(){return r.locale.value},set locale(n){r.locale.value=n},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(n){r.fallbackLocale.value=n},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(n){},get missing(){return r.getMissingHandler()},set missing(n){r.setMissingHandler(n)},get silentTranslationWarn(){return it(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(n){r.missingWarn=it(n)?!n:n},get silentFallbackWarn(){return it(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(n){r.fallbackWarn=it(n)?!n:n},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(n){r.fallbackFormat=n},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(n){r.setPostTranslationHandler(n)},get sync(){return r.inheritLocale},set sync(n){r.inheritLocale=n},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){r.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(n){r.escapeParameter=n},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(n){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...n){const[o,a,l]=n,c={};let u=null,d=null;if(!xe(o))throw ci(ei.INVALID_ARGUMENT);const p=o;return xe(a)?c.locale=a:Kt(a)?u=a:He(a)&&(d=a),Kt(l)?u=l:He(l)&&(d=l),Reflect.apply(r.t,r,[p,u||d||{},c])},rt(...n){return Reflect.apply(r.rt,r,[...n])},tc(...n){const[o,a,l]=n,c={plural:1};let u=null,d=null;if(!xe(o))throw ci(ei.INVALID_ARGUMENT);const p=o;return xe(a)?c.locale=a:Cr(a)?c.plural=a:Kt(a)?u=a:He(a)&&(d=a),xe(l)?c.locale=l:Kt(l)?u=l:He(l)&&(d=l),Reflect.apply(r.t,r,[p,u||d||{},c])},te(n,o){return r.te(n,o)},tm(n){return r.tm(n)},getLocaleMessage(n){return r.getLocaleMessage(n)},setLocaleMessage(n,o){r.setLocaleMessage(n,o)},mergeLocaleMessage(n,o){r.mergeLocaleMessage(n,o)},d(...n){return Reflect.apply(r.d,r,[...n])},getDateTimeFormat(n){return r.getDateTimeFormat(n)},setDateTimeFormat(n,o){r.setDateTimeFormat(n,o)},mergeDateTimeFormat(n,o){r.mergeDateTimeFormat(n,o)},n(...n){return Reflect.apply(r.n,r,[...n])},getNumberFormat(n){return r.getNumberFormat(n)},setNumberFormat(n,o){r.setNumberFormat(n,o)},mergeNumberFormat(n,o){r.mergeNumberFormat(n,o)},getChoiceIndex(n,o){return-1}};return s.__extender=i,s}}const GA={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function ffe({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((i,s)=>[...i,...s.type===kt?s.children:[s]],[]):t.reduce((r,i)=>{const s=e[i];return s&&(r[i]=s()),r},Rt())}function LD(e){return kt}const dfe=st({name:"i18n-t",props:gi({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Cr(e)||!isNaN(e)}},GA),setup(e,t){const{slots:r,attrs:i}=t,s=e.i18n||nr({useScope:e.scope,__useComponent:!0});return()=>{const n=Object.keys(r).filter(d=>d!=="_"),o=Rt();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=xe(e.plural)?+e.plural:e.plural);const a=ffe(t,n),l=s[fS](e.keypath,a,o),c=gi(Rt(),i),u=xe(e.tag)||vt(e.tag)?e.tag:LD();return un(u,c,l)}}}),TO=dfe;function pfe(e){return Kt(e)&&!xe(e[0])}function kD(e,t,r,i){const{slots:s,attrs:n}=t;return()=>{const o={part:!0};let a=Rt();e.locale&&(o.locale=e.locale),xe(e.format)?o.key=e.format:vt(e.format)&&(xe(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((p,y)=>r.includes(y)?gi(Rt(),p,{[y]:e.format[y]}):p,Rt()));const l=i(e.value,o,a);let c=[o.key];Kt(l)?c=l.map((p,y)=>{const v=s[p.type],b=v?v({[p.type]:p.value,index:y,parts:l}):[p.value];return pfe(b)&&(b[0].key=`${p.type}-${y}`),b}):xe(l)&&(c=[l]);const u=gi(Rt(),n),d=xe(e.tag)||vt(e.tag)?e.tag:LD();return un(d,u,c)}}const mfe=st({name:"i18n-n",props:gi({value:{type:Number,required:!0},format:{type:[String,Object]}},GA),setup(e,t){const r=e.i18n||nr({useScope:e.scope,__useComponent:!0});return kD(e,t,MD,(...i)=>r[pS](...i))}}),$O=mfe,yfe=st({name:"i18n-d",props:gi({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},GA),setup(e,t){const r=e.i18n||nr({useScope:e.scope,__useComponent:!0});return kD(e,t,$D,(...i)=>r[dS](...i))}}),MO=yfe;function gfe(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const i=r.__getInstance(t);return i!=null?i.__composer:e.global.__composer}}function vfe(e){const t=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw ci(ei.UNEXPECTED_ERROR);const u=gfe(e,a.$),d=IO(c);return[Reflect.apply(u.t,u,[...OO(d)]),u]};return{created:(o,a)=>{const[l,c]=t(a);$v&&e.global===c&&(o.__i18nWatcher=Qr(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{$v&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=IO(a);o.textContent=Reflect.apply(l.t,l,[...OO(c)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function IO(e){if(xe(e))return{path:e};if(He(e)){if(!("path"in e))throw ci(ei.REQUIRED_VALUE,"path");return e}else throw ci(ei.INVALID_VALUE)}function OO(e){const{path:t,locale:r,args:i,choice:s,plural:n}=e,o={},a=i||{};return xe(r)&&(o.locale=r),Cr(s)&&(o.plural=s),Cr(n)&&(o.plural=n),[t,a,o]}function bfe(e,t,...r){const i=He(r[0])?r[0]:{},s=!!i.useI18nComponentName;(it(i.globalInstall)?i.globalInstall:!0)&&([s?"i18n":TO.name,"I18nT"].forEach(o=>e.component(o,TO)),[$O.name,"I18nN"].forEach(o=>e.component(o,$O)),[MO.name,"I18nD"].forEach(o=>e.component(o,MO))),e.directive("t",vfe(t))}function _fe(e,t,r){return{beforeCreate(){const i=Vr();if(!i)throw ci(ei.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const n=s.i18n;if(s.__i18n&&(n.__i18n=s.__i18n),n.__root=t,this===this.$root)this.$i18n=CO(e,n);else{n.__injectWithOption=!0,n.__extender=r.__vueI18nExtend,this.$i18n=yS(n);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=CO(e,s);else{this.$i18n=yS({__i18n:s.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:t});const n=this.$i18n;n.__extender&&(n.__disposer=n.__extender(this.$i18n))}else this.$i18n=e;s.__i18nGlobal&&ND(t,s,s),this.$t=(...n)=>this.$i18n.t(...n),this.$rt=(...n)=>this.$i18n.rt(...n),this.$tc=(...n)=>this.$i18n.tc(...n),this.$te=(n,o)=>this.$i18n.te(n,o),this.$d=(...n)=>this.$i18n.d(...n),this.$n=(...n)=>this.$i18n.n(...n),this.$tm=n=>this.$i18n.tm(n),r.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=Vr();if(!i)throw ci(ei.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),r.__deleteInstance(i),delete this.$i18n}}}function CO(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[OD](t.pluralizationRules||e.pluralizationRules);const r=Ib(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(r).forEach(i=>e.mergeLocaleMessage(i,r[i])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(i=>e.mergeDateTimeFormat(i,t.datetimeFormats[i])),t.numberFormats&&Object.keys(t.numberFormats).forEach(i=>e.mergeNumberFormat(i,t.numberFormats[i])),e}const wfe=ec("global-vue-i18n");function xfe(e={},t){const r=__VUE_I18N_LEGACY_API__&&it(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,i=it(e.globalInjection)?e.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&r?!!e.allowComposition:!0,n=new Map,[o,a]=Sfe(e,r),l=ec("");function c(p){return n.get(p)||null}function u(p,y){n.set(p,y)}function d(p){n.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return s},async install(y,...v){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,p),He(v[0])){const w=v[0];p.__composerExtend=w.__composerExtend,p.__vueI18nExtend=w.__vueI18nExtend}let b=null;!r&&i&&(b=Pfe(y,p.global)),__VUE_I18N_FULL_INSTALL__&&bfe(y,p,...v),__VUE_I18N_LEGACY_API__&&r&&y.mixin(_fe(a,a.__composer,p));const S=y.unmount;y.unmount=()=>{b&&b(),p.dispose(),S()}},get global(){return a},dispose(){o.stop()},__instances:n,__getInstance:c,__setInstance:u,__deleteInstance:d};return p}}function nr(e={}){const t=Vr();if(t==null)throw ci(ei.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw ci(ei.NOT_INSTALLED);const r=Efe(t),i=Tfe(r),s=PD(t),n=Afe(e,s);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!e.__useComponent){if(!r.allowComposition)throw ci(ei.NOT_AVAILABLE_IN_LEGACY_MODE);return Ofe(t,n,i,e)}if(n==="global")return ND(i,e,s),i;if(n==="parent"){let l=$fe(r,t,e.__useComponent);return l==null&&(l=i),l}const o=r;let a=o.__getInstance(t);if(a==null){const l=gi({},e);"__i18n"in s&&(l.__i18n=s.__i18n),i&&(l.__root=i),a=VA(l),o.__composerExtend&&(a[mS]=o.__composerExtend(a)),Ife(o,t,a),o.__setInstance(t,a)}return a}function Sfe(e,t,r){const i=Km();{const s=__VUE_I18N_LEGACY_API__&&t?i.run(()=>yS(e)):i.run(()=>VA(e));if(s==null)throw ci(ei.UNEXPECTED_ERROR);return[i,s]}}function Efe(e){{const t=Br(e.isCE?wfe:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw ci(e.isCE?ei.NOT_INSTALLED_WITH_PROVIDE:ei.UNEXPECTED_ERROR);return t}}function Afe(e,t){return Tb(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Tfe(e){return e.mode==="composition"?e.global:e.global.__composer}function $fe(e,t,r=!1){let i=null;const s=t.root;let n=Mfe(t,r);for(;n!=null;){const o=e;if(e.mode==="composition")i=o.__getInstance(n);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(n);a!=null&&(i=a.__composer,r&&i&&!i[CD]&&(i=null))}if(i!=null||s===n)break;n=n.parent}return i}function Mfe(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Ife(e,t,r){vi(()=>{},t),$u(()=>{const i=r;e.__deleteInstance(t);const s=i[mS];s&&(s(),delete i[mS])},t)}function Ofe(e,t,r,i={}){const s=t==="local",n=zf(null);if(s&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw ci(ei.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=it(i.inheritLocale)?i.inheritLocale:!xe(i.locale),a=X(!s||o?r.locale.value:xe(i.locale)?i.locale:yf),l=X(!s||o?r.fallbackLocale.value:xe(i.fallbackLocale)||Kt(i.fallbackLocale)||He(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:a.value),c=X(Ib(a.value,i)),u=X(He(i.datetimeFormats)?i.datetimeFormats:{[a.value]:{}}),d=X(He(i.numberFormats)?i.numberFormats:{[a.value]:{}}),p=s?r.missingWarn:it(i.missingWarn)||Gl(i.missingWarn)?i.missingWarn:!0,y=s?r.fallbackWarn:it(i.fallbackWarn)||Gl(i.fallbackWarn)?i.fallbackWarn:!0,v=s?r.fallbackRoot:it(i.fallbackRoot)?i.fallbackRoot:!0,b=!!i.fallbackFormat,S=Vt(i.missing)?i.missing:null,w=Vt(i.postTranslation)?i.postTranslation:null,T=s?r.warnHtmlMessage:it(i.warnHtmlMessage)?i.warnHtmlMessage:!0,x=!!i.escapeParameter,_=s?r.modifiers:He(i.modifiers)?i.modifiers:{},$=i.pluralRules||s&&r.pluralRules;function M(){return[a.value,l.value,c.value,u.value,d.value]}const N=et({get:()=>n.value?n.value.locale.value:a.value,set:F=>{n.value&&(n.value.locale.value=F),a.value=F}}),C=et({get:()=>n.value?n.value.fallbackLocale.value:l.value,set:F=>{n.value&&(n.value.fallbackLocale.value=F),l.value=F}}),P=et(()=>n.value?n.value.messages.value:c.value),k=et(()=>u.value),V=et(()=>d.value);function U(){return n.value?n.value.getPostTranslationHandler():w}function j(F){n.value&&n.value.setPostTranslationHandler(F)}function Y(){return n.value?n.value.getMissingHandler():S}function f(F){n.value&&n.value.setMissingHandler(F)}function m(F){return M(),F()}function E(...F){return n.value?m(()=>Reflect.apply(n.value.t,null,[...F])):m(()=>"")}function O(...F){return n.value?Reflect.apply(n.value.rt,null,[...F]):""}function G(...F){return n.value?m(()=>Reflect.apply(n.value.d,null,[...F])):m(()=>"")}function J(...F){return n.value?m(()=>Reflect.apply(n.value.n,null,[...F])):m(()=>"")}function me(F){return n.value?n.value.tm(F):{}}function ue(F,W){return n.value?n.value.te(F,W):!1}function $e(F){return n.value?n.value.getLocaleMessage(F):{}}function Ue(F,W){n.value&&(n.value.setLocaleMessage(F,W),c.value[F]=W)}function qe(F,W){n.value&&n.value.mergeLocaleMessage(F,W)}function lt(F){return n.value?n.value.getDateTimeFormat(F):{}}function Ht(F,W){n.value&&(n.value.setDateTimeFormat(F,W),u.value[F]=W)}function Ct(F,W){n.value&&n.value.mergeDateTimeFormat(F,W)}function wr(F){return n.value?n.value.getNumberFormat(F):{}}function Ut(F,W){n.value&&(n.value.setNumberFormat(F,W),d.value[F]=W)}function or(F,W){n.value&&n.value.mergeNumberFormat(F,W)}const ri={get id(){return n.value?n.value.id:-1},locale:N,fallbackLocale:C,messages:P,datetimeFormats:k,numberFormats:V,get inheritLocale(){return n.value?n.value.inheritLocale:o},set inheritLocale(F){n.value&&(n.value.inheritLocale=F)},get availableLocales(){return n.value?n.value.availableLocales:Object.keys(c.value)},get modifiers(){return n.value?n.value.modifiers:_},get pluralRules(){return n.value?n.value.pluralRules:$},get isGlobal(){return n.value?n.value.isGlobal:!1},get missingWarn(){return n.value?n.value.missingWarn:p},set missingWarn(F){n.value&&(n.value.missingWarn=F)},get fallbackWarn(){return n.value?n.value.fallbackWarn:y},set fallbackWarn(F){n.value&&(n.value.missingWarn=F)},get fallbackRoot(){return n.value?n.value.fallbackRoot:v},set fallbackRoot(F){n.value&&(n.value.fallbackRoot=F)},get fallbackFormat(){return n.value?n.value.fallbackFormat:b},set fallbackFormat(F){n.value&&(n.value.fallbackFormat=F)},get warnHtmlMessage(){return n.value?n.value.warnHtmlMessage:T},set warnHtmlMessage(F){n.value&&(n.value.warnHtmlMessage=F)},get escapeParameter(){return n.value?n.value.escapeParameter:x},set escapeParameter(F){n.value&&(n.value.escapeParameter=F)},t:E,getPostTranslationHandler:U,setPostTranslationHandler:j,getMissingHandler:Y,setMissingHandler:f,rt:O,d:G,n:J,tm:me,te:ue,getLocaleMessage:$e,setLocaleMessage:Ue,mergeLocaleMessage:qe,getDateTimeFormat:lt,setDateTimeFormat:Ht,mergeDateTimeFormat:Ct,getNumberFormat:wr,setNumberFormat:Ut,mergeNumberFormat:or};function B(F){F.locale.value=a.value,F.fallbackLocale.value=l.value,Object.keys(c.value).forEach(W=>{F.mergeLocaleMessage(W,c.value[W])}),Object.keys(u.value).forEach(W=>{F.mergeDateTimeFormat(W,u.value[W])}),Object.keys(d.value).forEach(W=>{F.mergeNumberFormat(W,d.value[W])}),F.escapeParameter=x,F.fallbackFormat=b,F.fallbackRoot=v,F.fallbackWarn=y,F.missingWarn=p,F.warnHtmlMessage=T}return hb(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw ci(ei.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const F=n.value=e.proxy.$i18n.__composer;t==="global"?(a.value=F.locale.value,l.value=F.fallbackLocale.value,c.value=F.messages.value,u.value=F.datetimeFormats.value,d.value=F.numberFormats.value):s&&B(F)}),ri}const Cfe=["locale","fallbackLocale","availableLocales"],PO=["t","rt","d","n","tm","te"];function Pfe(e,t){const r=Object.create(null);return Cfe.forEach(s=>{const n=Object.getOwnPropertyDescriptor(t,s);if(!n)throw ci(ei.UNEXPECTED_ERROR);const o=ht(n.value)?{get(){return n.value.value},set(a){n.value.value=a}}:{get(){return n.get&&n.get()}};Object.defineProperty(r,s,o)}),e.config.globalProperties.$i18n=r,PO.forEach(s=>{const n=Object.getOwnPropertyDescriptor(t,s);if(!n||!n.value)throw ci(ei.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${s}`,n)}),()=>{delete e.config.globalProperties.$i18n,PO.forEach(s=>{delete e.config.globalProperties[`$${s}`]})}}afe();__INTLIFY_JIT_COMPILATION__?hO(tfe):hO(efe);zhe(Ahe);Hhe(gD);if(__INTLIFY_PROD_DEVTOOLS__){const e=Ea();e.__INTLIFY__=!0,Lhe(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Nfe={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","ramp.reload":"Reload RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.keyboardNav":"Press the key 'S' then 'H' to view available keyboard shortcuts","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Franais","map.language.curr":"current","map.export":"export map","map.layerSwipe.drag":"Drag and slide to move","map.layerSwipe.label":"Layer swipe","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"franais","lang-native":"Franais","ramp.about.open":"Ouvrir  propos de PCAR","ramp.about":" propos de PCAR","ramp.reload":"Recharger PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous dplacer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un lment de la liste est slectionn, vous pouvez appuyer sur  Espace  ou  Entre  pour cliquer sur l'lment. Vous pouvez galement vous dplacer au sein de l'lment de la liste au moyen de la touche  Tab .","keyboardInstructions.map":"Lorsque la carte est slectionne, utilisez le pav curseur pour vous dplacer et appuyez sur  Entre   pour slectionner un point.","keyboardInstructions.keyboardNav":"Appuyez sur la touche  S  puis  H  pour afficher les raccourcis clavier disponibles","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer  l'chelle mtrique","map.toggleScaleToImperial":"Passer  l'chelle impriale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Franais","map.language.curr":"actuel","map.export":"exporter la carte","map.layerSwipe.drag":"Faites glisser et glissez pour dplacer","map.layerSwipe.label":"Glissement de calque","notifications.open":"Ouvrir la fentre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"Dvelopper","notifications.controls.collapse":"Rduire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entre ou sur la barre d'espacement pour accder au panneau","panels.controls.close":"Fermer","panels.controls.pin":"pingler","panels.controls.unpin":"Dspingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"Rduire","panels.controls.expand":"Dvelopper","panels.controls.collapse":"Rduire","panels.controls.moveRight":"Aller  droite","panels.controls.moveLeft":"Aller  gauche","panels.controls.items":"Utilisez les touches flches pour naviguer entre les lments","panels.alert.open":"Fentre {name} ouverte","panels.alert.close":"Fentre {name} ferme","panels.alert.minimize":"Fentre {name} rduite","layer.error":"chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que prvu","layer.longdraw":"{id} prend plus de temps que prvu  extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont t dsactivs pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement dsactiv.","layer.noexportmap":"La tentative dajouter {name} comme couche dimagerie cartographique a choue car elle na pu tre activ pour ce service","caption.attributionDefaultText":"Propuls par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},NO="en",Lfe={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function kfe(){return xfe({legacy:!1,locale:document.documentElement.getAttribute("lang")||NO,fallbackLocale:NO,globalInjection:!0,messages:Nfe,numberFormats:Lfe})}var o_={exports:{}};/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/var LO;function Rfe(){return LO||(LO=1,function(e){(function(){var t=typeof window<"u"&&typeof window.document<"u"?window.document:{},r=e.exports,i=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,u={};l<c;l++)if(o=a[l],o&&o[1]in t){for(l=0;l<o.length;l++)u[a[0][l]]=o[l];return u}return!1}(),s={change:i.fullscreenchange,error:i.fullscreenerror},n={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||t.documentElement;var u=o[i.requestFullscreen]();u instanceof Promise&&u.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=t[i.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=s[o];l&&t.addEventListener(l,a,!1)},off:function(o,a){var l=s[o];l&&t.removeEventListener(l,a,!1)},raw:i};if(!i){r?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(n,{isFullscreen:{get:function(){return!!t[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[i.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!t[i.fullscreenEnabled]}}}),r?e.exports=n:window.screenfull=n})()}(o_)),o_.exports}var Dfe=Rfe();const uo=W1(Dfe);var Bd={exports:{}};Bd.exports;var kO;function Ffe(){return kO||(kO=1,function(e,t){var r=200,i="__lodash_hash_undefined__",s=9007199254740991,n="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object GeneratorFunction]",p="[object Map]",y="[object Number]",v="[object Object]",b="[object Promise]",S="[object RegExp]",w="[object Set]",T="[object String]",x="[object Symbol]",_="[object WeakMap]",$="[object ArrayBuffer]",M="[object DataView]",N="[object Float32Array]",C="[object Float64Array]",P="[object Int8Array]",k="[object Int16Array]",V="[object Int32Array]",U="[object Uint8Array]",j="[object Uint8ClampedArray]",Y="[object Uint16Array]",f="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,E=/\w*$/,O=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,J={};J[n]=J[o]=J[$]=J[M]=J[a]=J[l]=J[N]=J[C]=J[P]=J[k]=J[V]=J[p]=J[y]=J[v]=J[S]=J[w]=J[T]=J[x]=J[U]=J[j]=J[Y]=J[f]=!0,J[c]=J[u]=J[_]=!1;var me=typeof Ly=="object"&&Ly&&Ly.Object===Object&&Ly,ue=typeof self=="object"&&self&&self.Object===Object&&self,$e=me||ue||Function("return this")(),Ue=t&&!t.nodeType&&t,qe=Ue&&!0&&e&&!e.nodeType&&e,lt=qe&&qe.exports===Ue;function Ht(D,K){return D.set(K[0],K[1]),D}function Ct(D,K){return D.add(K),D}function wr(D,K){for(var le=-1,Pe=D?D.length:0;++le<Pe&&K(D[le],le,D)!==!1;);return D}function Ut(D,K){for(var le=-1,Pe=K.length,hi=D.length;++le<Pe;)D[hi+le]=K[le];return D}function or(D,K,le,Pe){for(var hi=-1,es=D?D.length:0;++hi<es;)le=K(le,D[hi],hi,D);return le}function ri(D,K){for(var le=-1,Pe=Array(D);++le<D;)Pe[le]=K(le);return Pe}function B(D,K){return D?.[K]}function F(D){var K=!1;if(D!=null&&typeof D.toString!="function")try{K=!!(D+"")}catch{}return K}function W(D){var K=-1,le=Array(D.size);return D.forEach(function(Pe,hi){le[++K]=[hi,Pe]}),le}function ae(D,K){return function(le){return D(K(le))}}function te(D){var K=-1,le=Array(D.size);return D.forEach(function(Pe){le[++K]=Pe}),le}var ce=Array.prototype,ye=Function.prototype,L=Object.prototype,R=$e["__core-js_shared__"],q=function(){var D=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),re=ye.toString,se=L.hasOwnProperty,ne=L.toString,H=RegExp("^"+re.call(se).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=lt?$e.Buffer:void 0,Ae=$e.Symbol,Le=$e.Uint8Array,jt=ae(Object.getPrototypeOf,Object),Wt=Object.create,fr=L.propertyIsEnumerable,Gr=ce.splice,Q=Object.getOwnPropertySymbols,Te=Z?Z.isBuffer:void 0,Ie=ae(Object.keys,Object),Ye=Lu($e,"DataView"),Qe=Lu($e,"Map"),qr=Lu($e,"Promise"),bi=Lu($e,"Set"),oo=Lu($e,"WeakMap"),Da=Lu(Object,"create"),zo=lc(Ye),Yf=lc(Qe),Ou=lc(qr),Fa=lc(bi),Bb=lc(oo),Cu=Ae?Ae.prototype:void 0,nc=Cu?Cu.valueOf:void 0;function oc(D){var K=-1,le=D?D.length:0;for(this.clear();++K<le;){var Pe=D[K];this.set(Pe[0],Pe[1])}}function aU(){this.__data__=Da?Da(null):{}}function lU(D){return this.has(D)&&delete this.__data__[D]}function cU(D){var K=this.__data__;if(Da){var le=K[D];return le===i?void 0:le}return se.call(K,D)?K[D]:void 0}function uU(D){var K=this.__data__;return Da?K[D]!==void 0:se.call(K,D)}function hU(D,K){var le=this.__data__;return le[D]=Da&&K===void 0?i:K,this}oc.prototype.clear=aU,oc.prototype.delete=lU,oc.prototype.get=cU,oc.prototype.has=uU,oc.prototype.set=hU;function Ho(D){var K=-1,le=D?D.length:0;for(this.clear();++K<le;){var Pe=D[K];this.set(Pe[0],Pe[1])}}function fU(){this.__data__=[]}function dU(D){var K=this.__data__,le=fy(K,D);if(le<0)return!1;var Pe=K.length-1;return le==Pe?K.pop():Gr.call(K,le,1),!0}function pU(D){var K=this.__data__,le=fy(K,D);return le<0?void 0:K[le][1]}function mU(D){return fy(this.__data__,D)>-1}function yU(D,K){var le=this.__data__,Pe=fy(le,D);return Pe<0?le.push([D,K]):le[Pe][1]=K,this}Ho.prototype.clear=fU,Ho.prototype.delete=dU,Ho.prototype.get=pU,Ho.prototype.has=mU,Ho.prototype.set=yU;function Pu(D){var K=-1,le=D?D.length:0;for(this.clear();++K<le;){var Pe=D[K];this.set(Pe[0],Pe[1])}}function gU(){this.__data__={hash:new oc,map:new(Qe||Ho),string:new oc}}function vU(D){return dy(this,D).delete(D)}function bU(D){return dy(this,D).get(D)}function _U(D){return dy(this,D).has(D)}function wU(D,K){return dy(this,D).set(D,K),this}Pu.prototype.clear=gU,Pu.prototype.delete=vU,Pu.prototype.get=bU,Pu.prototype.has=_U,Pu.prototype.set=wU;function Nu(D){this.__data__=new Ho(D)}function xU(){this.__data__=new Ho}function SU(D){return this.__data__.delete(D)}function EU(D){return this.__data__.get(D)}function AU(D){return this.__data__.has(D)}function TU(D,K){var le=this.__data__;if(le instanceof Ho){var Pe=le.__data__;if(!Qe||Pe.length<r-1)return Pe.push([D,K]),this;le=this.__data__=new Pu(Pe)}return le.set(D,K),this}Nu.prototype.clear=xU,Nu.prototype.delete=SU,Nu.prototype.get=EU,Nu.prototype.has=AU,Nu.prototype.set=TU;function $U(D,K){var le=qb(D)||ZU(D)?ri(D.length,String):[],Pe=le.length,hi=!!Pe;for(var es in D)se.call(D,es)&&!(hi&&(es=="length"||WU(es,Pe)))&&le.push(es);return le}function RT(D,K,le){var Pe=D[K];(!(se.call(D,K)&&jT(Pe,le))||le===void 0&&!(K in D))&&(D[K]=le)}function fy(D,K){for(var le=D.length;le--;)if(jT(D[le][0],K))return le;return-1}function MU(D,K){return D&&DT(K,zb(K),D)}function Vb(D,K,le,Pe,hi,es,Wo){var ts;if(Pe&&(ts=es?Pe(D,hi,es,Wo):Pe(D)),ts!==void 0)return ts;if(!py(D))return D;var GT=qb(D);if(GT){if(ts=qU(D),!K)return BU(D,ts)}else{var ku=ac(D),qT=ku==u||ku==d;if(QU(D))return LU(D,K);if(ku==v||ku==n||qT&&!es){if(F(D))return es?D:{};if(ts=zU(qT?{}:D),!K)return VU(D,MU(ts,D))}else{if(!J[ku])return es?D:{};ts=HU(D,ku,Vb,K)}}Wo||(Wo=new Nu);var zT=Wo.get(D);if(zT)return zT;if(Wo.set(D,ts),!GT)var HT=le?GU(D):zb(D);return wr(HT||D,function(Hb,my){HT&&(my=Hb,Hb=D[my]),RT(ts,my,Vb(Hb,K,le,Pe,my,D,Wo))}),ts}function IU(D){return py(D)?Wt(D):{}}function OU(D,K,le){var Pe=K(D);return qb(D)?Pe:Ut(Pe,le(D))}function CU(D){return ne.call(D)}function PU(D){if(!py(D)||JU(D))return!1;var K=VT(D)||F(D)?H:O;return K.test(lc(D))}function NU(D){if(!UT(D))return Ie(D);var K=[];for(var le in Object(D))se.call(D,le)&&le!="constructor"&&K.push(le);return K}function LU(D,K){if(K)return D.slice();var le=new D.constructor(D.length);return D.copy(le),le}function Gb(D){var K=new D.constructor(D.byteLength);return new Le(K).set(new Le(D)),K}function kU(D,K){var le=K?Gb(D.buffer):D.buffer;return new D.constructor(le,D.byteOffset,D.byteLength)}function RU(D,K,le){var Pe=K?le(W(D),!0):W(D);return or(Pe,Ht,new D.constructor)}function DU(D){var K=new D.constructor(D.source,E.exec(D));return K.lastIndex=D.lastIndex,K}function FU(D,K,le){var Pe=K?le(te(D),!0):te(D);return or(Pe,Ct,new D.constructor)}function UU(D){return nc?Object(nc.call(D)):{}}function jU(D,K){var le=K?Gb(D.buffer):D.buffer;return new D.constructor(le,D.byteOffset,D.length)}function BU(D,K){var le=-1,Pe=D.length;for(K||(K=Array(Pe));++le<Pe;)K[le]=D[le];return K}function DT(D,K,le,Pe){le||(le={});for(var hi=-1,es=K.length;++hi<es;){var Wo=K[hi],ts=void 0;RT(le,Wo,ts===void 0?D[Wo]:ts)}return le}function VU(D,K){return DT(D,FT(D),K)}function GU(D){return OU(D,zb,FT)}function dy(D,K){var le=D.__data__;return YU(K)?le[typeof K=="string"?"string":"hash"]:le.map}function Lu(D,K){var le=B(D,K);return PU(le)?le:void 0}var FT=Q?ae(Q,Object):rj,ac=CU;(Ye&&ac(new Ye(new ArrayBuffer(1)))!=M||Qe&&ac(new Qe)!=p||qr&&ac(qr.resolve())!=b||bi&&ac(new bi)!=w||oo&&ac(new oo)!=_)&&(ac=function(D){var K=ne.call(D),le=K==v?D.constructor:void 0,Pe=le?lc(le):void 0;if(Pe)switch(Pe){case zo:return M;case Yf:return p;case Ou:return b;case Fa:return w;case Bb:return _}return K});function qU(D){var K=D.length,le=D.constructor(K);return K&&typeof D[0]=="string"&&se.call(D,"index")&&(le.index=D.index,le.input=D.input),le}function zU(D){return typeof D.constructor=="function"&&!UT(D)?IU(jt(D)):{}}function HU(D,K,le,Pe){var hi=D.constructor;switch(K){case $:return Gb(D);case a:case l:return new hi(+D);case M:return kU(D,Pe);case N:case C:case P:case k:case V:case U:case j:case Y:case f:return jU(D,Pe);case p:return RU(D,Pe,le);case y:case T:return new hi(D);case S:return DU(D);case w:return FU(D,Pe,le);case x:return UU(D)}}function WU(D,K){return K=K??s,!!K&&(typeof D=="number"||G.test(D))&&D>-1&&D%1==0&&D<K}function YU(D){var K=typeof D;return K=="string"||K=="number"||K=="symbol"||K=="boolean"?D!=="__proto__":D===null}function JU(D){return!!q&&q in D}function UT(D){var K=D&&D.constructor,le=typeof K=="function"&&K.prototype||L;return D===le}function lc(D){if(D!=null){try{return re.call(D)}catch{}try{return D+""}catch{}}return""}function KU(D){return Vb(D,!0,!0)}function jT(D,K){return D===K||D!==D&&K!==K}function ZU(D){return XU(D)&&se.call(D,"callee")&&(!fr.call(D,"callee")||ne.call(D)==n)}var qb=Array.isArray;function BT(D){return D!=null&&ej(D.length)&&!VT(D)}function XU(D){return tj(D)&&BT(D)}var QU=Te||ij;function VT(D){var K=py(D)?ne.call(D):"";return K==u||K==d}function ej(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=s}function py(D){var K=typeof D;return!!D&&(K=="object"||K=="function")}function tj(D){return!!D&&typeof D=="object"}function zb(D){return BT(D)?$U(D):NU(D)}function rj(){return[]}function ij(){return!1}e.exports=KU}(Bd,Bd.exports)),Bd.exports}var Ufe=Ffe();const RO=W1(Ufe),Iv=sr("maptip",()=>{const e=X(void 0),t=X(void 0),r=X("");function i(o){e.value=o}function s(o){t.value=o}function n(o){r.value=o}return{maptipInstance:e,maptipPoint:t,content:r,setMaptipInstance:i,setMaptipPoint:s,setMaptipContent:n}}),jfe=st({__name:"esri-map",setup(e){const t=Iv(),r=Br("iApi"),i=et(()=>t.maptipPoint),s=et(()=>t.maptipInstance),n=et(()=>t.content),o=ui([]),a=X(!1);o.push(Qr(i,()=>{if(i.value){const c=r.geo.map.getPixelWidth()/2,u=0,d=r.geo.map.mapPointToScreenPoint(i.value),p=d.screenX-c,y=u-d.screenY;s.value.setProps({offset:a.value?[p,y+25]:[p,y]}),n.value&&n.value!==""&&s.value.show()}else s.value.hide()})),o.push(Qr(n,c=>{c&&c!==""&&i?(s.value.setContent(c),s.value.show()):s.value.hide()})),so(()=>{o.forEach(c=>c())});const l=()=>{r.geo.map.setMouseFocus()};return(c,u)=>{const d=Ot("tippy");return It((he(),be("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:l,onTouchstart:u[0]||(u[0]=p=>a.value=!0),onTouchend:u[1]||(u[1]=p=>a.value=!1),onKeydown:u[2]||(u[2]=mA(iy(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[d,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var RD={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},qA={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Bfe=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Ov={CSS:{},springs:{}};function $o(e,t,r){return Math.min(Math.max(e,t),r)}function yp(e,t){return e.indexOf(t)>-1}function a_(e,t){return e.apply(null,t)}var ke={arr:function(e){return Array.isArray(e)},obj:function(e){return yp(Object.prototype.toString.call(e),"Object")},pth:function(e){return ke.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||ke.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return ke.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return ke.hex(e)||ke.rgb(e)||ke.hsl(e)},key:function(e){return!RD.hasOwnProperty(e)&&!qA.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function DD(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(r){return parseFloat(r)}):[]}function FD(e,t){var r=DD(e),i=$o(ke.und(r[0])?1:r[0],.1,100),s=$o(ke.und(r[1])?100:r[1],.1,100),n=$o(ke.und(r[2])?10:r[2],.1,100),o=$o(ke.und(r[3])?0:r[3],.1,100),a=Math.sqrt(s/i),l=n/(2*Math.sqrt(s*i)),c=l<1?a*Math.sqrt(1-l*l):0,u=1,d=l<1?(l*a+-o)/c:-o+a;function p(v){var b=t?t*v/1e3:v;return l<1?b=Math.exp(-b*l*a)*(u*Math.cos(c*b)+d*Math.sin(c*b)):b=(u+d*b)*Math.exp(-b*a),v===0||v===1?v:1-b}function y(){var v=Ov.springs[e];if(v)return v;for(var b=1/6,S=0,w=0;;)if(S+=b,p(S)===1){if(w++,w>=16)break}else w=0;var T=S*b*1e3;return Ov.springs[e]=T,T}return t?p:y}function Vfe(e){return e===void 0&&(e=10),function(t){return Math.ceil($o(t,1e-6,1)*e)*(1/e)}}var Gfe=function(){var e=11,t=1/(e-1);function r(u,d){return 1-3*d+3*u}function i(u,d){return 3*d-6*u}function s(u){return 3*u}function n(u,d,p){return((r(d,p)*u+i(d,p))*u+s(d))*u}function o(u,d,p){return 3*r(d,p)*u*u+2*i(d,p)*u+s(d)}function a(u,d,p,y,v){var b,S,w=0;do S=d+(p-d)/2,b=n(S,y,v)-u,b>0?p=S:d=S;while(Math.abs(b)>1e-7&&++w<10);return S}function l(u,d,p,y){for(var v=0;v<4;++v){var b=o(d,p,y);if(b===0)return d;var S=n(d,p,y)-u;d-=S/b}return d}function c(u,d,p,y){if(!(0<=u&&u<=1&&0<=p&&p<=1))return;var v=new Float32Array(e);if(u!==d||p!==y)for(var b=0;b<e;++b)v[b]=n(b*t,u,p);function S(w){for(var T=0,x=1,_=e-1;x!==_&&v[x]<=w;++x)T+=t;--x;var $=(w-v[x])/(v[x+1]-v[x]),M=T+$*t,N=o(M,u,p);return N>=.001?l(w,M,u,p):N===0?M:a(w,T,T+t,u,p)}return function(w){return u===d&&p===y||w===0||w===1?w:n(S(w),d,y)}}return c}(),UD=function(){var e={linear:function(){return function(i){return i}}},t={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var s,n=4;i<((s=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((s*3-2)/22-i,2)}},Elastic:function(i,s){i===void 0&&(i=1),s===void 0&&(s=.5);var n=$o(i,1,10),o=$o(s,.1,2);return function(a){return a===0||a===1?a:-n*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/n))*(Math.PI*2)/o)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(i,s){t[i]=function(){return function(n){return Math.pow(n,s+2)}}}),Object.keys(t).forEach(function(i){var s=t[i];e["easeIn"+i]=s,e["easeOut"+i]=function(n,o){return function(a){return 1-s(n,o)(1-a)}},e["easeInOut"+i]=function(n,o){return function(a){return a<.5?s(n,o)(a*2)/2:1-s(n,o)(a*-2+2)/2}},e["easeOutIn"+i]=function(n,o){return function(a){return a<.5?(1-s(n,o)(1-a*2))/2:(s(n,o)(a*2-1)+1)/2}}}),e}();function zA(e,t){if(ke.fnc(e))return e;var r=e.split("(")[0],i=UD[r],s=DD(e);switch(r){case"spring":return FD(e,t);case"cubicBezier":return a_(Gfe,s);case"steps":return a_(Vfe,s);default:return a_(i,s)}}function jD(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function Ob(e,t){for(var r=e.length,i=arguments.length>=2?arguments[1]:void 0,s=[],n=0;n<r;n++)if(n in e){var o=e[n];t.call(i,o,n,e)&&s.push(o)}return s}function Cb(e){return e.reduce(function(t,r){return t.concat(ke.arr(r)?Cb(r):r)},[])}function DO(e){return ke.arr(e)?e:(ke.str(e)&&(e=jD(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function HA(e,t){return e.some(function(r){return r===t})}function WA(e){var t={};for(var r in e)t[r]=e[r];return t}function gS(e,t){var r=WA(e);for(var i in e)r[i]=t.hasOwnProperty(i)?t[i]:e[i];return r}function Pb(e,t){var r=WA(e);for(var i in t)r[i]=ke.und(e[i])?t[i]:e[i];return r}function qfe(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function zfe(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=e.replace(t,function(a,l,c,u){return l+l+c+c+u+u}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),s=parseInt(i[1],16),n=parseInt(i[2],16),o=parseInt(i[3],16);return"rgba("+s+","+n+","+o+",1)"}function Hfe(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),r=parseInt(t[1],10)/360,i=parseInt(t[2],10)/100,s=parseInt(t[3],10)/100,n=t[4]||1;function o(p,y,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?p+(y-p)*6*v:v<1/2?y:v<2/3?p+(y-p)*(2/3-v)*6:p}var a,l,c;if(i==0)a=l=c=s;else{var u=s<.5?s*(1+i):s+i-s*i,d=2*s-u;a=o(d,u,r+1/3),l=o(d,u,r),c=o(d,u,r-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+n+")"}function Wfe(e){if(ke.rgb(e))return qfe(e);if(ke.hex(e))return zfe(e);if(ke.hsl(e))return Hfe(e)}function Ma(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function Yfe(e){if(yp(e,"translate")||e==="perspective")return"px";if(yp(e,"rotate")||yp(e,"skew"))return"deg"}function vS(e,t){return ke.fnc(e)?e(t.target,t.id,t.total):e}function Mo(e,t){return e.getAttribute(t)}function YA(e,t,r){var i=Ma(t);if(HA([r,"deg","rad","turn"],i))return t;var s=Ov.CSS[t+r];if(!ke.und(s))return s;var n=100,o=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=n+r;var l=n/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(t);return Ov.CSS[t+r]=c,c}function BD(e,t,r){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return r?YA(e,s,r):s}}function JA(e,t){if(ke.dom(e)&&!ke.inp(e)&&(!ke.nil(Mo(e,t))||ke.svg(e)&&e[t]))return"attribute";if(ke.dom(e)&&HA(Bfe,t))return"transform";if(ke.dom(e)&&t!=="transform"&&BD(e,t))return"css";if(e[t]!=null)return"object"}function VD(e){if(ke.dom(e)){for(var t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map,s;s=r.exec(t);)i.set(s[1],s[2]);return i}}function Jfe(e,t,r,i){var s=yp(t,"scale")?1:0+Yfe(t),n=VD(e).get(t)||s;return r&&(r.transforms.list.set(t,n),r.transforms.last=t),i?YA(e,n,i):n}function KA(e,t,r,i){switch(JA(e,t)){case"transform":return Jfe(e,t,i,r);case"css":return BD(e,t,r);case"attribute":return Mo(e,t);default:return e[t]||0}}function ZA(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var i=Ma(e)||0,s=parseFloat(t),n=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return s+n+i;case"-":return s-n+i;case"*":return s*n+i}}function GD(e,t){if(ke.col(e))return Wfe(e);if(/\s/g.test(e))return e;var r=Ma(e),i=r?e.substr(0,e.length-r.length):e;return t?i+t:i}function XA(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Kfe(e){return Math.PI*2*Mo(e,"r")}function Zfe(e){return Mo(e,"width")*2+Mo(e,"height")*2}function Xfe(e){return XA({x:Mo(e,"x1"),y:Mo(e,"y1")},{x:Mo(e,"x2"),y:Mo(e,"y2")})}function qD(e){for(var t=e.points,r=0,i,s=0;s<t.numberOfItems;s++){var n=t.getItem(s);s>0&&(r+=XA(i,n)),i=n}return r}function Qfe(e){var t=e.points;return qD(e)+XA(t.getItem(t.numberOfItems-1),t.getItem(0))}function zD(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return Kfe(e);case"rect":return Zfe(e);case"line":return Xfe(e);case"polyline":return qD(e);case"polygon":return Qfe(e)}}function ede(e){var t=zD(e);return e.setAttribute("stroke-dasharray",t),t}function tde(e){for(var t=e.parentNode;ke.svg(t)&&ke.svg(t.parentNode);)t=t.parentNode;return t}function HD(e,t){var r=t||{},i=r.el||tde(e),s=i.getBoundingClientRect(),n=Mo(i,"viewBox"),o=s.width,a=s.height,l=r.viewBox||(n?n.split(" "):[0,0,o,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function rde(e,t){var r=ke.str(e)?jD(e)[0]:e,i=t||100;return function(s){return{property:s,el:r,svg:HD(r),totalLength:zD(r)*(i/100)}}}function ide(e,t,r){function i(u){u===void 0&&(u=0);var d=t+u>=1?t+u:0;return e.el.getPointAtLength(d)}var s=HD(e.el,e.svg),n=i(),o=i(-1),a=i(1),l=r?1:s.w/s.vW,c=r?1:s.h/s.vH;switch(e.property){case"x":return(n.x-s.x)*l;case"y":return(n.y-s.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function FO(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=GD(ke.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(r)?i.match(r).map(Number):[0],strings:ke.str(e)||t?i.split(r):[]}}function QA(e){var t=e?Cb(ke.arr(e)?e.map(DO):DO(e)):[];return Ob(t,function(r,i,s){return s.indexOf(r)===i})}function WD(e){var t=QA(e);return t.map(function(r,i){return{target:r,id:i,total:t.length,transforms:{list:VD(r)}}})}function sde(e,t){var r=WA(t);if(/^spring/.test(r.easing)&&(r.duration=FD(r.easing)),ke.arr(e)){var i=e.length,s=i===2&&!ke.obj(e[0]);s?e={value:e}:ke.fnc(t.duration)||(r.duration=t.duration/i)}var n=ke.arr(e)?e:[e];return n.map(function(o,a){var l=ke.obj(o)&&!ke.pth(o)?o:{value:o};return ke.und(l.delay)&&(l.delay=a?0:t.delay),ke.und(l.endDelay)&&(l.endDelay=a===n.length-1?t.endDelay:0),l}).map(function(o){return Pb(o,r)})}function nde(e){for(var t=Ob(Cb(e.map(function(n){return Object.keys(n)})),function(n){return ke.key(n)}).reduce(function(n,o){return n.indexOf(o)<0&&n.push(o),n},[]),r={},i=function(n){var o=t[n];r[o]=e.map(function(a){var l={};for(var c in a)ke.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},s=0;s<t.length;s++)i(s);return r}function ode(e,t){var r=[],i=t.keyframes;i&&(t=Pb(nde(i),t));for(var s in t)ke.key(s)&&r.push({name:s,tweens:sde(t[s],e)});return r}function ade(e,t){var r={};for(var i in e){var s=vS(e[i],t);ke.arr(s)&&(s=s.map(function(n){return vS(n,t)}),s.length===1&&(s=s[0])),r[i]=s}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function lde(e,t){var r;return e.tweens.map(function(i){var s=ade(i,t),n=s.value,o=ke.arr(n)?n[1]:n,a=Ma(o),l=KA(t.target,e.name,a,t),c=r?r.to.original:l,u=ke.arr(n)?n[0]:c,d=Ma(u)||Ma(l),p=a||d;return ke.und(o)&&(o=c),s.from=FO(u,p),s.to=FO(ZA(o,u),p),s.start=r?r.end:0,s.end=s.start+s.delay+s.duration+s.endDelay,s.easing=zA(s.easing,s.duration),s.isPath=ke.pth(n),s.isPathTargetInsideSVG=s.isPath&&ke.svg(t.target),s.isColor=ke.col(s.from.original),s.isColor&&(s.round=1),r=s,s})}var YD={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,i,s){if(i.list.set(t,r),t===i.last||s){var n="";i.list.forEach(function(o,a){n+=a+"("+o+") "}),e.style.transform=n}}};function JD(e,t){var r=WD(e);r.forEach(function(i){for(var s in t){var n=vS(t[s],i),o=i.target,a=Ma(n),l=KA(o,s,a,i),c=a||Ma(l),u=ZA(GD(n,c),l),d=JA(o,s);YD[d](o,s,u,i.transforms,!0)}})}function cde(e,t){var r=JA(e.target,t.name);if(r){var i=lde(t,e),s=i[i.length-1];return{type:r,property:t.name,animatable:e,tweens:i,duration:s.end,delay:i[0].delay,endDelay:s.endDelay}}}function ude(e,t){return Ob(Cb(e.map(function(r){return t.map(function(i){return cde(r,i)})})),function(r){return!ke.und(r)})}function KD(e,t){var r=e.length,i=function(n){return n.timelineOffset?n.timelineOffset:0},s={};return s.duration=r?Math.max.apply(Math,e.map(function(n){return i(n)+n.duration})):t.duration,s.delay=r?Math.min.apply(Math,e.map(function(n){return i(n)+n.delay})):t.delay,s.endDelay=r?s.duration-Math.max.apply(Math,e.map(function(n){return i(n)+n.duration-n.endDelay})):t.endDelay,s}var UO=0;function hde(e){var t=gS(RD,e),r=gS(qA,e),i=ode(r,e),s=WD(e.targets),n=ude(s,i),o=KD(n,r),a=UO;return UO++,Pb(t,{id:a,children:[],animatables:s,animations:n,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var Pn=[],ZD=function(){var e;function t(){!e&&(!jO()||!hr.suspendWhenDocumentHidden)&&Pn.length>0&&(e=requestAnimationFrame(r))}function r(s){for(var n=Pn.length,o=0;o<n;){var a=Pn[o];a.paused?(Pn.splice(o,1),n--):(a.tick(s),o++)}e=o>0?requestAnimationFrame(r):void 0}function i(){hr.suspendWhenDocumentHidden&&(jO()?e=cancelAnimationFrame(e):(Pn.forEach(function(s){return s._onDocumentVisibility()}),ZD()))}return typeof document<"u"&&document.addEventListener("visibilitychange",i),t}();function jO(){return!!document&&document.hidden}function hr(e){e===void 0&&(e={});var t=0,r=0,i=0,s,n=0,o=null;function a(T){var x=window.Promise&&new Promise(function(_){return o=_});return T.finished=x,x}var l=hde(e);a(l);function c(){var T=l.direction;T!=="alternate"&&(l.direction=T!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,s.forEach(function(x){return x.reversed=l.reversed})}function u(T){return l.reversed?l.duration-T:T}function d(){t=0,r=u(l.currentTime)*(1/hr.speed)}function p(T,x){x&&x.seek(T-x.timelineOffset)}function y(T){if(l.reversePlayback)for(var _=n;_--;)p(T,s[_]);else for(var x=0;x<n;x++)p(T,s[x])}function v(T){for(var x=0,_=l.animations,$=_.length;x<$;){var M=_[x],N=M.animatable,C=M.tweens,P=C.length-1,k=C[P];P&&(k=Ob(C,function(lt){return T<lt.end})[0]||k);for(var V=$o(T-k.start-k.delay,0,k.duration)/k.duration,U=isNaN(V)?1:k.easing(V),j=k.to.strings,Y=k.round,f=[],m=k.to.numbers.length,E=void 0,O=0;O<m;O++){var G=void 0,J=k.to.numbers[O],me=k.from.numbers[O]||0;k.isPath?G=ide(k.value,U*J,k.isPathTargetInsideSVG):G=me+U*(J-me),Y&&(k.isColor&&O>2||(G=Math.round(G*Y)/Y)),f.push(G)}var ue=j.length;if(!ue)E=f[0];else{E=j[0];for(var $e=0;$e<ue;$e++){j[$e];var Ue=j[$e+1],qe=f[$e];isNaN(qe)||(Ue?E+=qe+Ue:E+=qe+" ")}}YD[M.type](N.target,M.property,E,N.transforms),M.currentValue=E,x++}}function b(T){l[T]&&!l.passThrough&&l[T](l)}function S(){l.remaining&&l.remaining!==!0&&l.remaining--}function w(T){var x=l.duration,_=l.delay,$=x-l.endDelay,M=u(T);l.progress=$o(M/x*100,0,100),l.reversePlayback=M<l.currentTime,s&&y(M),!l.began&&l.currentTime>0&&(l.began=!0,b("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,b("loopBegin")),M<=_&&l.currentTime!==0&&v(0),(M>=$&&l.currentTime!==x||!x)&&v(x),M>_&&M<$?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,b("changeBegin")),b("change"),v(M)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,b("changeComplete")),l.currentTime=$o(M,0,x),l.began&&b("update"),T>=x&&(r=0,S(),l.remaining?(t=i,b("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,b("loopComplete"),b("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var T=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=T==="reverse",l.remaining=l.loop,s=l.children,n=s.length;for(var x=n;x--;)l.children[x].reset();(l.reversed&&l.loop!==!0||T==="alternate"&&l.loop===1)&&l.remaining++,v(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(T,x){return JD(T,x),l},l.tick=function(T){i=T,t||(t=i),w((i+(r-t))*hr.speed)},l.seek=function(T){w(u(T))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Pn.push(l),d(),ZD())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(T){var x=QA(T);XD(x,l)},l.reset(),l.autoplay&&l.play(),l}function BO(e,t){for(var r=t.length;r--;)HA(e,t[r].animatable.target)&&t.splice(r,1)}function XD(e,t){var r=t.animations,i=t.children;BO(e,r);for(var s=i.length;s--;){var n=i[s],o=n.animations;BO(e,o),!o.length&&!n.children.length&&i.splice(s,1)}!r.length&&!i.length&&t.pause()}function fde(e){for(var t=QA(e),r=Pn.length;r--;){var i=Pn[r];XD(t,i)}}function dde(e,t){t===void 0&&(t={});var r=t.direction||"normal",i=t.easing?zA(t.easing):null,s=t.grid,n=t.axis,o=t.from||0,a=o==="first",l=o==="center",c=o==="last",u=ke.arr(e),d=parseFloat(u?e[0]:e),p=u?parseFloat(e[1]):0,y=Ma(u?e[1]:e)||0,v=t.start||0+(u?d:0),b=[],S=0;return function(w,T,x){if(a&&(o=0),l&&(o=(x-1)/2),c&&(o=x-1),!b.length){for(var _=0;_<x;_++){if(!s)b.push(Math.abs(o-_));else{var $=l?(s[0]-1)/2:o%s[0],M=l?(s[1]-1)/2:Math.floor(o/s[0]),N=_%s[0],C=Math.floor(_/s[0]),P=$-N,k=M-C,V=Math.sqrt(P*P+k*k);n==="x"&&(V=-P),n==="y"&&(V=-k),b.push(V)}S=Math.max.apply(Math,b)}i&&(b=b.map(function(j){return i(j/S)*S})),r==="reverse"&&(b=b.map(function(j){return n?j<0?j*-1:-j:Math.abs(S-j)}))}var U=u?(p-d)/S:d;return v+U*(Math.round(b[T]*100)/100)+y}}function pde(e){e===void 0&&(e={});var t=hr(e);return t.duration=0,t.add=function(r,i){var s=Pn.indexOf(t),n=t.children;s>-1&&Pn.splice(s,1);function o(p){p.passThrough=!0}for(var a=0;a<n.length;a++)o(n[a]);var l=Pb(r,gS(qA,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=ke.und(i)?c:ZA(i,c),o(t),t.seek(l.timelineOffset);var u=hr(l);o(u),n.push(u);var d=KD(n,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}hr.version="3.2.1";hr.speed=1;hr.suspendWhenDocumentHidden=!0;hr.running=Pn;hr.remove=fde;hr.get=KA;hr.set=JD;hr.convertPx=YA;hr.path=rde;hr.setDashoffset=ede;hr.stagger=dde;hr.timeline=pde;hr.easing=zA;hr.penner=UD;hr.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const mde={xs:200,sm:576,md:768,lg:960};class QD{resizeObserver;constructor(t){this.resizeObserver=new ResizeObserver(r=>{r.length&&window.requestAnimationFrame(()=>{r.forEach(i=>{const s=i.target.dataset.breakpoints,n=s?JSON.parse(s):t??mde;Object.keys(n).forEach(o=>{const a=n[o];i.contentRect.width>=a?i.target.classList.add(o):i.target.classList.remove(o)})})})})}observe(t){this.resizeObserver?.observe(t)}}const yde=["data-cy"],eF=st({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(e){const t=X(null),r=e,i=X(!1);vi(()=>{r.panel.teleport&&new QD({xs:0,sm:461,...r.panel.teleport.breakpoints}).observe(t.value)});const s=(l,c,u)=>{if(i.value)return c();hr({targets:l,opacity:{value:u,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},n=(l,c)=>{s(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(i.value=r.panel.isScreenLoaded(r.panel.route.screen),t.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{s(l,c,[0,1])};return(l,c)=>{const u=Ot("focus-container");return he(),be("div",{class:ur(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",e.panel.expanded?"flex-grow max-w-full":""]),style:Jl(e.panel.style),"data-cy":e.panel.id,ref_key:"componentEl",ref:t},[Ze(yb,{onBeforeLeave:o,onLeave:a,onEnter:n},{default:Rr(()=>[It((he(),qt(H3(e.panel.route.screen),mb({class:"h-full"},e.panel.route.props,{panel:e.panel}),null,16,["panel"])),[[u]])]),_:1})],14,yde)}}}),gu=sr("panel",()=>{const e=X(void 0),t=X(void 0),r=X(0),i=X(0),s=X(!1),n=X(!0),o=X({}),a=X({}),l=X([]),c=X([]),u=X([]),d=X(1),p=et(()=>i.value);function y(j){return j==="xs"&&u.value.length>0?[u.value.slice().pop()]:u.value}function v(j){const Y=[];return j.forEach(f=>{f in a.value&&Y.push(a.value[f].getPromise())}),Y}function b(j){C(j),M(),t.value=void 0}function S(j){P(j),M()}function w(j,Y){k(j,Y),M()}function T(j){V(j),M()}function x(j){d.value=j}function _(j){r.value=j,M()}function $(j){s.value=j}function M(){let j=r.value;const Y=[],f=350,m=12,E=600;for(let O=l.value.length-1;O>=0;O--){const G=l.value[O];let J=G.width||f;if(s.value?J=j:J+=m,G.id==="grid"&&(J=Math.max(Math.min(J,j),E)),(j>=J&&!s.value||Y.length===0)&&(j-=J,Y.unshift(G)),G.id==="grid"&&j<E)break}if(e.value&&!Y.includes(e.value)&&!s.value){let O;for(let ue=0;ue<Y.length-1&&j<(e.value.width||f)+m;ue++)O=Y.shift(),j+=O.width||f;j>=(e.value.width||f)?Y.unshift(e.value):t.value||(O=Y.shift(),Y.unshift(e.value));const G=l.value.indexOf(e.value),J=l.value.indexOf(O),me=l.value.slice();J>-1&&(me.splice(G,1),me.splice(J,0,e.value)),l.value=me}i.value=j,u.value=Y}function N(j){if(o.value={...o.value,[j.id]:j},j.id in a.value)a.value[j.id].resolveMe(j);else{const Y=new Nr;Y.resolveMe(j),a.value={...a.value,[j.id]:Y}}}function C(j){j.teleport?c.value=[...c.value,j]:(l.value=[...l.value,j],t.value=j)}function P(j){if(j.teleport){const Y=c.value.indexOf(j);Y!==-1&&(c.value=[...c.value.slice(0,Y),...c.value.slice(Y+1)])}else{const Y=l.value.indexOf(j);Y!==-1&&(l.value=[...l.value.slice(0,Y),...l.value.slice(Y+1)])}}function k(j,Y){const f=l.value.indexOf(j),m=Y==="right"?1:-1;u.value.includes(l.value[f+m])&&([l.value[f],l.value[f+m]]=[l.value[f+m],l.value[f]])}function V(j){o.value[j.id]!==void 0&&delete o.value[j.id],a.value[j.id]!==void 0&&delete a.value[j.id];const Y=u.value.indexOf(j);Y!==-1&&(u.value=[...u.value.slice(0,Y),...u.value.slice(Y+1)]),e.value&&e.value.id==j.id&&(e.value=void 0)}function U(j){a.value={...a.value,[j]:new Nr}}return{items:o,regPromises:a,orderedItems:l,pinned:e,priority:t,visible:u,opacity:d,stackWidth:r,remWidth:i,mobileView:s,reorderable:n,teleported:c,getRemainingWidth:p,getVisible:y,getRegPromises:v,openPanel:b,closePanel:S,movePanel:w,removePanel:T,setOpacity:x,setStackWidth:_,setMobileView:$,updateVisible:M,registerPanel:N,addRegPromise:U}}),gde=st({__name:"panel-stack",setup(e){uA(u=>({"1fa2f422":s.value}));const t=gu(),r=Br("iApi"),i=X(),s=et(()=>t.opacity),n=et(()=>t.mobileView);vi(()=>{new ResizeObserver(d=>{const p=!(r.$vApp.$root?.$refs["app-size"]).classList.contains("sm");n.value!==p&&(t.mobileView=p,r.event.emit(Oe.RAMP_MOBILEVIEW_CHANGE,p)),t.setStackWidth(d[0].contentRect.width)}).observe(i.value?.$el)});const o=u=>t.getVisible(u),a=(u,d)=>{c(u,d,[[6,0],[0,1]])},l=(u,d)=>{const[p,y]=[u.children[0].getBoundingClientRect(),u.parentElement.getBoundingClientRect()];u.style.width=`${p.width}px`,u.style.height=`${p.height}px`,u.style.left=`${p.left-y.left}px`,u.style.position="absolute",c(u,d,[[0,-6],[1,0]])},c=(u,d,p)=>{hr({targets:u,duration:300,translateY:{value:p[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:p[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:d})};return(u,d)=>(he(),qt(vb,{onEnter:a,onLeave:l,name:"panel-container",tag:"div",ref_key:"el",ref:i,class:"panel-container"},{default:Rr(()=>[(he(!0),be(kt,null,Ql(o(Me(r).screenSize),p=>(he(),qt(eF,{key:`${p.id}`,panel:p},null,8,["panel"]))),128))]),_:1},512))}}),Ra=(e,t)=>{const r=e.__vccOpts||e;for(const[i,s]of t)r[i]=s;return r},vde=Ra(gde,[["__scopeId","data-v-ca958595"]]);var xs="top",yn="bottom",gn="right",Ss="left",eT="auto",ay=[xs,yn,gn,Ss],gf="start",_m="end",bde="clippingParents",tF="viewport",fd="popper",_de="reference",VO=ay.reduce(function(e,t){return e.concat([t+"-"+gf,t+"-"+_m])},[]),rF=[].concat(ay,[eT]).reduce(function(e,t){return e.concat([t,t+"-"+gf,t+"-"+_m])},[]),wde="beforeRead",xde="read",Sde="afterRead",Ede="beforeMain",Ade="main",Tde="afterMain",$de="beforeWrite",Mde="write",Ide="afterWrite",Ode=[wde,xde,Sde,Ede,Ade,Tde,$de,Mde,Ide];function Vo(e){return e?(e.nodeName||"").toLowerCase():null}function Gs(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vu(e){var t=Gs(e).Element;return e instanceof t||e instanceof Element}function dn(e){var t=Gs(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function tT(e){if(typeof ShadowRoot>"u")return!1;var t=Gs(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Cde(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var i=t.styles[r]||{},s=t.attributes[r]||{},n=t.elements[r];!dn(n)||!Vo(n)||(Object.assign(n.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function Pde(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],n=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:r[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!dn(s)||!Vo(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}const Nde={name:"applyStyles",enabled:!0,phase:"write",fn:Cde,effect:Pde,requires:["computeStyles"]};function Lo(e){return e.split("-")[0]}var Kc=Math.max,Cv=Math.min,vf=Math.round;function bS(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function iF(){return!/^((?!chrome|android).)*safari/i.test(bS())}function bf(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=e.getBoundingClientRect(),s=1,n=1;t&&dn(e)&&(s=e.offsetWidth>0&&vf(i.width)/e.offsetWidth||1,n=e.offsetHeight>0&&vf(i.height)/e.offsetHeight||1);var o=vu(e)?Gs(e):window,a=o.visualViewport,l=!iF()&&r,c=(i.left+(l&&a?a.offsetLeft:0))/s,u=(i.top+(l&&a?a.offsetTop:0))/n,d=i.width/s,p=i.height/n;return{width:d,height:p,top:u,right:c+d,bottom:u+p,left:c,x:c,y:u}}function rT(e){var t=bf(e),r=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:i}}function sF(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&tT(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Pa(e){return Gs(e).getComputedStyle(e)}function Lde(e){return["table","td","th"].indexOf(Vo(e))>=0}function ic(e){return((vu(e)?e.ownerDocument:e.document)||window.document).documentElement}function Nb(e){return Vo(e)==="html"?e:e.assignedSlot||e.parentNode||(tT(e)?e.host:null)||ic(e)}function GO(e){return!dn(e)||Pa(e).position==="fixed"?null:e.offsetParent}function kde(e){var t=/firefox/i.test(bS()),r=/Trident/i.test(bS());if(r&&dn(e)){var i=Pa(e);if(i.position==="fixed")return null}var s=Nb(e);for(tT(s)&&(s=s.host);dn(s)&&["html","body"].indexOf(Vo(s))<0;){var n=Pa(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function ly(e){for(var t=Gs(e),r=GO(e);r&&Lde(r)&&Pa(r).position==="static";)r=GO(r);return r&&(Vo(r)==="html"||Vo(r)==="body"&&Pa(r).position==="static")?t:r||kde(e)||t}function iT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function gp(e,t,r){return Kc(e,Cv(t,r))}function Rde(e,t,r){var i=gp(e,t,r);return i>r?r:i}function nF(){return{top:0,right:0,bottom:0,left:0}}function oF(e){return Object.assign({},nF(),e)}function aF(e,t){return t.reduce(function(r,i){return r[i]=e,r},{})}var Dde=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,oF(typeof t!="number"?t:aF(t,ay))};function Fde(e){var t,r=e.state,i=e.name,s=e.options,n=r.elements.arrow,o=r.modifiersData.popperOffsets,a=Lo(r.placement),l=iT(a),c=[Ss,gn].indexOf(a)>=0,u=c?"height":"width";if(!(!n||!o)){var d=Dde(s.padding,r),p=rT(n),y=l==="y"?xs:Ss,v=l==="y"?yn:gn,b=r.rects.reference[u]+r.rects.reference[l]-o[l]-r.rects.popper[u],S=o[l]-r.rects.reference[l],w=ly(n),T=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,x=b/2-S/2,_=d[y],$=T-p[u]-d[v],M=T/2-p[u]/2+x,N=gp(_,M,$),C=l;r.modifiersData[i]=(t={},t[C]=N,t.centerOffset=N-M,t)}}function Ude(e){var t=e.state,r=e.options,i=r.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||sF(t.elements.popper,s)&&(t.elements.arrow=s))}const jde={name:"arrow",enabled:!0,phase:"main",fn:Fde,effect:Ude,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _f(e){return e.split("-")[1]}var Bde={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vde(e,t){var r=e.x,i=e.y,s=t.devicePixelRatio||1;return{x:vf(r*s)/s||0,y:vf(i*s)/s||0}}function qO(e){var t,r=e.popper,i=e.popperRect,s=e.placement,n=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=o.x,y=p===void 0?0:p,v=o.y,b=v===void 0?0:v,S=typeof u=="function"?u({x:y,y:b}):{x:y,y:b};y=S.x,b=S.y;var w=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),x=Ss,_=xs,$=window;if(c){var M=ly(r),N="clientHeight",C="clientWidth";if(M===Gs(r)&&(M=ic(r),Pa(M).position!=="static"&&a==="absolute"&&(N="scrollHeight",C="scrollWidth")),M=M,s===xs||(s===Ss||s===gn)&&n===_m){_=yn;var P=d&&M===$&&$.visualViewport?$.visualViewport.height:M[N];b-=P-i.height,b*=l?1:-1}if(s===Ss||(s===xs||s===yn)&&n===_m){x=gn;var k=d&&M===$&&$.visualViewport?$.visualViewport.width:M[C];y-=k-i.width,y*=l?1:-1}}var V=Object.assign({position:a},c&&Bde),U=u===!0?Vde({x:y,y:b},Gs(r)):{x:y,y:b};if(y=U.x,b=U.y,l){var j;return Object.assign({},V,(j={},j[_]=T?"0":"",j[x]=w?"0":"",j.transform=($.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",j))}return Object.assign({},V,(t={},t[_]=T?b+"px":"",t[x]=w?y+"px":"",t.transform="",t))}function Gde(e){var t=e.state,r=e.options,i=r.gpuAcceleration,s=i===void 0?!0:i,n=r.adaptive,o=n===void 0?!0:n,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:Lo(t.placement),variation:_f(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,qO(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,qO(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const qde={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Gde,data:{}};var Qy={passive:!0};function zde(e){var t=e.state,r=e.instance,i=e.options,s=i.scroll,n=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=Gs(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(u){u.addEventListener("scroll",r.update,Qy)}),a&&l.addEventListener("resize",r.update,Qy),function(){n&&c.forEach(function(u){u.removeEventListener("scroll",r.update,Qy)}),a&&l.removeEventListener("resize",r.update,Qy)}}const Hde={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zde,data:{}};var Wde={left:"right",right:"left",bottom:"top",top:"bottom"};function hg(e){return e.replace(/left|right|bottom|top/g,function(t){return Wde[t]})}var Yde={start:"end",end:"start"};function zO(e){return e.replace(/start|end/g,function(t){return Yde[t]})}function sT(e){var t=Gs(e),r=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:r,scrollTop:i}}function nT(e){return bf(ic(e)).left+sT(e).scrollLeft}function Jde(e,t){var r=Gs(e),i=ic(e),s=r.visualViewport,n=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){n=s.width,o=s.height;var c=iF();(c||!c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:n,height:o,x:a+nT(e),y:l}}function Kde(e){var t,r=ic(e),i=sT(e),s=(t=e.ownerDocument)==null?void 0:t.body,n=Kc(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Kc(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+nT(e),l=-i.scrollTop;return Pa(s||r).direction==="rtl"&&(a+=Kc(r.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function oT(e){var t=Pa(e),r=t.overflow,i=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+i)}function lF(e){return["html","body","#document"].indexOf(Vo(e))>=0?e.ownerDocument.body:dn(e)&&oT(e)?e:lF(Nb(e))}function vp(e,t){var r;t===void 0&&(t=[]);var i=lF(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),n=Gs(i),o=s?[n].concat(n.visualViewport||[],oT(i)?i:[]):i,a=t.concat(o);return s?a:a.concat(vp(Nb(o)))}function _S(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Zde(e,t){var r=bf(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function HO(e,t,r){return t===tF?_S(Jde(e,r)):vu(t)?Zde(t,r):_S(Kde(ic(e)))}function Xde(e){var t=vp(Nb(e)),r=["absolute","fixed"].indexOf(Pa(e).position)>=0,i=r&&dn(e)?ly(e):e;return vu(i)?t.filter(function(s){return vu(s)&&sF(s,i)&&Vo(s)!=="body"}):[]}function Qde(e,t,r,i){var s=t==="clippingParents"?Xde(e):[].concat(t),n=[].concat(s,[r]),o=n[0],a=n.reduce(function(l,c){var u=HO(e,c,i);return l.top=Kc(u.top,l.top),l.right=Cv(u.right,l.right),l.bottom=Cv(u.bottom,l.bottom),l.left=Kc(u.left,l.left),l},HO(e,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function cF(e){var t=e.reference,r=e.element,i=e.placement,s=i?Lo(i):null,n=i?_f(i):null,o=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,l;switch(s){case xs:l={x:o,y:t.y-r.height};break;case yn:l={x:o,y:t.y+t.height};break;case gn:l={x:t.x+t.width,y:a};break;case Ss:l={x:t.x-r.width,y:a};break;default:l={x:t.x,y:t.y}}var c=s?iT(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(n){case gf:l[c]=l[c]-(t[u]/2-r[u]/2);break;case _m:l[c]=l[c]+(t[u]/2-r[u]/2);break}}return l}function wf(e,t){t===void 0&&(t={});var r=t,i=r.placement,s=i===void 0?e.placement:i,n=r.strategy,o=n===void 0?e.strategy:n,a=r.boundary,l=a===void 0?bde:a,c=r.rootBoundary,u=c===void 0?tF:c,d=r.elementContext,p=d===void 0?fd:d,y=r.altBoundary,v=y===void 0?!1:y,b=r.padding,S=b===void 0?0:b,w=oF(typeof S!="number"?S:aF(S,ay)),T=p===fd?_de:fd,x=e.rects.popper,_=e.elements[v?T:p],$=Qde(vu(_)?_:_.contextElement||ic(e.elements.popper),l,u,o),M=bf(e.elements.reference),N=cF({reference:M,element:x,placement:s}),C=_S(Object.assign({},x,N)),P=p===fd?C:M,k={top:$.top-P.top+w.top,bottom:P.bottom-$.bottom+w.bottom,left:$.left-P.left+w.left,right:P.right-$.right+w.right},V=e.modifiersData.offset;if(p===fd&&V){var U=V[s];Object.keys(k).forEach(function(j){var Y=[gn,yn].indexOf(j)>=0?1:-1,f=[xs,yn].indexOf(j)>=0?"y":"x";k[j]+=U[f]*Y})}return k}function epe(e,t){t===void 0&&(t={});var r=t,i=r.placement,s=r.boundary,n=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?rF:l,u=_f(i),d=u?a?VO:VO.filter(function(v){return _f(v)===u}):ay,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,b){return v[b]=wf(e,{placement:b,boundary:s,rootBoundary:n,padding:o})[Lo(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function tpe(e){if(Lo(e)===eT)return[];var t=hg(e);return[zO(e),t,zO(t)]}function rpe(e){var t=e.state,r=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var s=r.mainAxis,n=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,u=r.boundary,d=r.rootBoundary,p=r.altBoundary,y=r.flipVariations,v=y===void 0?!0:y,b=r.allowedAutoPlacements,S=t.options.placement,w=Lo(S),T=w===S,x=l||(T||!v?[hg(S)]:tpe(S)),_=[S].concat(x).reduce(function(Ue,qe){return Ue.concat(Lo(qe)===eT?epe(t,{placement:qe,boundary:u,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:b}):qe)},[]),$=t.rects.reference,M=t.rects.popper,N=new Map,C=!0,P=_[0],k=0;k<_.length;k++){var V=_[k],U=Lo(V),j=_f(V)===gf,Y=[xs,yn].indexOf(U)>=0,f=Y?"width":"height",m=wf(t,{placement:V,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),E=Y?j?gn:Ss:j?yn:xs;$[f]>M[f]&&(E=hg(E));var O=hg(E),G=[];if(n&&G.push(m[U]<=0),a&&G.push(m[E]<=0,m[O]<=0),G.every(function(Ue){return Ue})){P=V,C=!1;break}N.set(V,G)}if(C)for(var J=v?3:1,me=function(qe){var lt=_.find(function(Ht){var Ct=N.get(Ht);if(Ct)return Ct.slice(0,qe).every(function(wr){return wr})});if(lt)return P=lt,"break"},ue=J;ue>0;ue--){var $e=me(ue);if($e==="break")break}t.placement!==P&&(t.modifiersData[i]._skip=!0,t.placement=P,t.reset=!0)}}const ipe={name:"flip",enabled:!0,phase:"main",fn:rpe,requiresIfExists:["offset"],data:{_skip:!1}};function WO(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function YO(e){return[xs,gn,yn,Ss].some(function(t){return e[t]>=0})}function spe(e){var t=e.state,r=e.name,i=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,o=wf(t,{elementContext:"reference"}),a=wf(t,{altBoundary:!0}),l=WO(o,i),c=WO(a,s,n),u=YO(l),d=YO(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const npe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:spe};function ope(e,t,r){var i=Lo(e),s=[Ss,xs].indexOf(i)>=0?-1:1,n=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[Ss,gn].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function ape(e){var t=e.state,r=e.options,i=e.name,s=r.offset,n=s===void 0?[0,0]:s,o=rF.reduce(function(u,d){return u[d]=ope(d,t.rects,n),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=o}const lpe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ape};function cpe(e){var t=e.state,r=e.name;t.modifiersData[r]=cF({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const upe={name:"popperOffsets",enabled:!0,phase:"read",fn:cpe,data:{}};function hpe(e){return e==="x"?"y":"x"}function fpe(e){var t=e.state,r=e.options,i=e.name,s=r.mainAxis,n=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,d=r.padding,p=r.tether,y=p===void 0?!0:p,v=r.tetherOffset,b=v===void 0?0:v,S=wf(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),w=Lo(t.placement),T=_f(t.placement),x=!T,_=iT(w),$=hpe(_),M=t.modifiersData.popperOffsets,N=t.rects.reference,C=t.rects.popper,P=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,k=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(M){if(n){var j,Y=_==="y"?xs:Ss,f=_==="y"?yn:gn,m=_==="y"?"height":"width",E=M[_],O=E+S[Y],G=E-S[f],J=y?-C[m]/2:0,me=T===gf?N[m]:C[m],ue=T===gf?-C[m]:-N[m],$e=t.elements.arrow,Ue=y&&$e?rT($e):{width:0,height:0},qe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:nF(),lt=qe[Y],Ht=qe[f],Ct=gp(0,N[m],Ue[m]),wr=x?N[m]/2-J-Ct-lt-k.mainAxis:me-Ct-lt-k.mainAxis,Ut=x?-N[m]/2+J+Ct+Ht+k.mainAxis:ue+Ct+Ht+k.mainAxis,or=t.elements.arrow&&ly(t.elements.arrow),ri=or?_==="y"?or.clientTop||0:or.clientLeft||0:0,B=(j=V?.[_])!=null?j:0,F=E+wr-B-ri,W=E+Ut-B,ae=gp(y?Cv(O,F):O,E,y?Kc(G,W):G);M[_]=ae,U[_]=ae-E}if(a){var te,ce=_==="x"?xs:Ss,ye=_==="x"?yn:gn,L=M[$],R=$==="y"?"height":"width",q=L+S[ce],re=L-S[ye],se=[xs,Ss].indexOf(w)!==-1,ne=(te=V?.[$])!=null?te:0,H=se?q:L-N[R]-C[R]-ne+k.altAxis,Z=se?L+N[R]+C[R]-ne-k.altAxis:re,Ae=y&&se?Rde(H,L,Z):gp(y?H:q,L,y?Z:re);M[$]=Ae,U[$]=Ae-L}t.modifiersData[i]=U}}const dpe={name:"preventOverflow",enabled:!0,phase:"main",fn:fpe,requiresIfExists:["offset"]};function ppe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function mpe(e){return e===Gs(e)||!dn(e)?sT(e):ppe(e)}function ype(e){var t=e.getBoundingClientRect(),r=vf(t.width)/e.offsetWidth||1,i=vf(t.height)/e.offsetHeight||1;return r!==1||i!==1}function gpe(e,t,r){r===void 0&&(r=!1);var i=dn(t),s=dn(t)&&ype(t),n=ic(t),o=bf(e,s,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((Vo(t)!=="body"||oT(n))&&(a=mpe(t)),dn(t)?(l=bf(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):n&&(l.x=nT(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function vpe(e){var t=new Map,r=new Set,i=[];e.forEach(function(n){t.set(n.name,n)});function s(n){r.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=t.get(a);l&&s(l)}}),i.push(n)}return e.forEach(function(n){r.has(n.name)||s(n)}),i}function bpe(e){var t=vpe(e);return Ode.reduce(function(r,i){return r.concat(t.filter(function(s){return s.phase===i}))},[])}function _pe(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function wpe(e){var t=e.reduce(function(r,i){var s=r[i.name];return r[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,r},{});return Object.keys(t).map(function(r){return t[r]})}var JO={placement:"bottom",modifiers:[],strategy:"absolute"};function KO(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function xpe(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,i=r===void 0?[]:r,s=t.defaultOptions,n=s===void 0?JO:s;return function(a,l,c){c===void 0&&(c=n);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},JO,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:u,setOptions:function(w){var T=typeof w=="function"?w(u.options):w;b(),u.options=Object.assign({},n,u.options,T),u.scrollParents={reference:vu(a)?vp(a):a.contextElement?vp(a.contextElement):[],popper:vp(l)};var x=bpe(wpe([].concat(i,u.options.modifiers)));return u.orderedModifiers=x.filter(function(_){return _.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var w=u.elements,T=w.reference,x=w.popper;if(KO(T,x)){u.rects={reference:gpe(T,ly(x),u.options.strategy==="fixed"),popper:rT(x)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(k){return u.modifiersData[k.name]=Object.assign({},k.data)});for(var _=0;_<u.orderedModifiers.length;_++){if(u.reset===!0){u.reset=!1,_=-1;continue}var $=u.orderedModifiers[_],M=$.fn,N=$.options,C=N===void 0?{}:N,P=$.name;typeof M=="function"&&(u=M({state:u,options:C,name:P,instance:y})||u)}}}},update:_pe(function(){return new Promise(function(S){y.forceUpdate(),S(u)})}),destroy:function(){b(),p=!0}};if(!KO(a,l))return y;y.setOptions(c).then(function(S){!p&&c.onFirstUpdate&&c.onFirstUpdate(S)});function v(){u.orderedModifiers.forEach(function(S){var w=S.name,T=S.options,x=T===void 0?{}:T,_=S.effect;if(typeof _=="function"){var $=_({state:u,name:w,instance:y,options:x}),M=function(){};d.push($||M)}})}function b(){d.forEach(function(S){return S()}),d=[]}return y}}var Spe=[Hde,upe,qde,Nde,lpe,ipe,dpe,jde,npe],Epe=xpe({defaultModifiers:Spe});const Ape=["content","aria-label"],aT=st({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(e){const t=X(!1),r=X(null),i=ui([]),s=X(),n=X(),o=X(),a=e;i.push(Qr(t,()=>{r.value.update()}));const l=()=>{t.value=!t.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:t.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},u=()=>{o.value._tippy.hide()};return vi(()=>{window.addEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{t.value=!1}),window.addEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",u),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",u),io(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:p}){const{bottom:y}=wf(p);y>0?(p.styles.popper.overflowY=y>100?"auto":void 0,p.styles.popper.overflowX="hidden",p.styles.popper.height=`${p.rects.popper.height-y-8}px`):p.styles.popper.height="auto"}};o.value&&n.value&&(r.value=Epe(o.value,n.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),so(()=>{i.forEach(d=>d()),window.removeEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{t.value=!1}),window.removeEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",u),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",u),t.value=!1}),(d,p)=>{const y=Ot("tippy");return he(),be("div",{ref_key:"el",ref:s},[It((he(),be("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:e.tooltip,"aria-label":e.ariaLabel?String(e.ariaLabel):String(e.tooltip),ref_key:"dropdownTrigger",ref:o},[Dn(d.$slots,"header")],8,Ape)),[[y,{placement:e.tooltipPlacement,theme:e.tooltipTheme,animation:e.tooltipAnimation,trigger:"manual"}]]),It(oe("div",{onClick:p[0]||(p[0]=v=>r.value.update()),class:ur(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":e.centered}]),ref_key:"dropdown",ref:n},[Dn(d.$slots,"default",{close:()=>t.value=!t.value})],2),[[gb,t.value]])],512)}}}),ko=sr("notification",()=>{const e=X([]),t=X({}),r=et(()=>e.value.length>=99?99:e.value.length);function i(c){e.value=[c,...e.value]}function s(c){if(e.value.includes(c)){const u=e.value.indexOf(c);c instanceof uF&&l(c),u>-1&&e.value.splice(u,1)}}function n(c){t.value[c.id]=c}function o(c,u){t.value[c]&&(t.value[c].messageList.push(u),e.value.includes(t.value[c])||(e.value=[t.value[c],...e.value]))}function a(){Object.values(t.value).forEach(c=>l(c)),e.value=[]}function l(c){const u=e.value.indexOf(c);u>-1&&e.value.splice(u,1),c.messageList=[]}return{notificationStack:e,groups:t,notificationNumber:r,showNotification:i,removeNotification:s,registerGroup:n,addToGroup:o,clearAll:a}}),Tpe={class:"h-full flex flex-col"},$pe={class:"w-full flex mb-6"},Mpe=["content","aria-label"],Ipe=st({__name:"screen",props:{panel:{type:Object,required:!0}},setup(e){const t=ko(),{t:r}=nr(),i=et(()=>t.notificationNumber),s=()=>t.clearAll();return(n,o)=>{const a=$r("panel-screen"),l=Ot("tippy");return he(),qt(a,{panel:e.panel},{header:Rr(()=>[Po($t(Me(r)("notifications.title")),1)]),content:Rr(()=>[oe("div",Tpe,[oe("div",$pe,[It((he(),be("button",{type:"button",onClick:s,class:ur(["p-4 ml-auto",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Me(r)("notifications.controls.clearAll"),"aria-label":Me(r)("notifications.controls.clearAll")},o[0]||(o[0]=[oe("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[oe("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),oe("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),oe("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),oe("path",{d:"M22 22l-5 -5"}),oe("path",{d:"M17 22l5 -5"})],-1)]),10,Mpe)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Ze(hF,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var pn=(e=>(e.ERROR="error",e.INFO="info",e.WARNING="warning",e))(pn||{});class Ope extends Dr{notificationStore;constructor(t){super(t),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":ir(Ipe)},alertName:"notifications.title"}}),this.notificationStore=ko(this.$vApp.$pinia)}show(t,r){this.notificationStore.showNotification({type:t,message:r})}addGroup(t,r,i){if(this.getGroup(t))throw new Error("Duplicate notification group id registration: "+t);const s=new uF(this.$iApi,t,r,i);return this.notificationStore.registerGroup(s),s}getGroup(t){return this.notificationStore.groups[t]}}class uF extends Dr{notificationStore=ko(this.$vApp.$pinia);id;message;type;messageList=[];constructor(t,r,i,s){super(t),this.id=r,this.type=i,this.message=s}show(t){this.notificationStore.addToGroup(this.id,t)}}const Cpe=["content"],Ppe={class:"flex items-center text-left"},Npe={class:"select-text cursor-text"},Lpe=["content","aria-label"],kpe={key:0,class:"text-left"},Rpe=st({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(e){const t=ko(),{t:r}=nr(),i=e,s=X(!1),n=ui({[pn.WARNING]:"",[pn.INFO]:"",[pn.ERROR]:""}),o=l=>{t.removeNotification(l)},a=()=>{if(!i.notification.messageList)return!1};return(l,c)=>{const u=Ot("tippy");return It((he(),be("li",{class:ur(["flex-col default-focus-style p-4",e.notification.messageList?"cursor-pointer":""]),content:Me(r)(s.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>s.value=!s.value)},[oe("div",Ppe,[oe("span",null,[Po($t(n[e.notification.type])+" ",1),oe("span",Npe,$t(e.notification.message),1)]),c[4]||(c[4]=oe("span",{class:"flex-grow"},null,-1)),e.notification.messageList?(he(),be("div",{key:0,class:ur(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":s.value}])},c[2]||(c[2]=[oe("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[oe("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Lt("",!0),It((he(),be("button",{type:"button",onClick:c[0]||(c[0]=iy(d=>o(e.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:Me(r)("notifications.controls.dismiss"),"aria-label":Me(r)("notifications.controls.dismiss")},c[3]||(c[3]=[oe("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[oe("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,Lpe)),[[u,{theme:"ramp4",animation:"scale"}]])]),e.notification.messageList&&s.value?(he(),be("div",kpe,[(he(!0),be(kt,null,Ql(e.notification.messageList,(d,p)=>(he(),be("p",{key:e.notification.id+d+p},$t(d),1))),128))])):Lt("",!0)],10,Cpe)),[[u,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),Dpe=["content"],Fpe={key:0,class:"w-full border-b border-black"},Upe={key:1,class:"flex flex-col items-center h-full"},hF=st({__name:"notification-list",setup(e){const t=ko(),{t:r}=nr(),i=X(),s=()=>{i.value._tippy.hide()},n=a=>{a.key==="Tab"&&i.value?.matches(":focus")&&i.value._tippy.show()};vi(()=>{i.value?.addEventListener("blur",s),i.value?.addEventListener("keyup",n)}),so(()=>{i.value?.removeEventListener("blur",s),i.value?.removeEventListener("keyup",n)});const o=et(()=>t.notificationStack);return(a,l)=>{const c=Ot("focus-item"),u=Ot("focus-list"),d=Ot("tippy");return he(),be("div",null,[o.value.length>0?It((he(),be("ul",{key:0,content:Me(r)("panels.controls.items"),ref_key:"el",ref:i,class:"h-full overflow-y-auto"},[(he(!0),be(kt,null,Ql(o.value,(p,y)=>(he(),be(kt,{key:p.message+y},[y>0?(he(),be("div",Fpe)):Lt("",!0),It(Ze(Rpe,{class:ur([p.type]),notification:p},null,8,["class","notification"]),[[c]])],64))),128))],8,Dpe)),[[u],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(he(),be("div",Upe,[l[0]||(l[0]=oe("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[oe("path",{d:"M0 0h24v24H0z",fill:"none"}),oe("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),oe("span",null,$t(Me(r)("notifications.empty")),1),l[2]||(l[2]=oe("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),jpe={class:"flex items-center hover:text-white"},Bpe=["aria-label"],Vpe={key:0,class:"number rounded-full w-18 text-white"},Gpe={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},qpe={class:"pb-8 border-b border-gray-600"},zpe={class:"absolute flex right-3 top-3"},Hpe=["content","aria-label"],Wpe=st({__name:"caption-button",setup(e){const t=ko(),{t:r}=nr(),i=et(()=>t.notificationNumber),s=()=>t.clearAll();return(n,o)=>{const a=$r("close"),l=Ot("tippy");return he(),qt(aT,{position:"top-start",tooltip:Me(r)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:Rr(()=>[oe("div",jpe,[(he(),be("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":Me(r)("notifications.open")},o[0]||(o[0]=[oe("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,Bpe)),i.value&&i.value>0?(he(),be("span",Vpe,$t(i.value),1)):Lt("",!0)])]),default:Rr(c=>[oe("div",Gpe,[oe("div",null,[oe("h4",qpe,$t(Me(r)("notifications.title")),1),oe("div",zpe,[It((he(),be("button",{type:"button",onClick:s,class:ur(["p-4 mr-6",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Me(r)("notifications.controls.clearAll"),"aria-label":Me(r)("notifications.controls.clearAll")},o[1]||(o[1]=[oe("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[oe("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),oe("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),oe("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),oe("path",{d:"M22 22l-5 -5"}),oe("path",{d:"M17 22l5 -5"})],-1)]),10,Hpe)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Ze(a,{onClick:c.close},null,8,["onClick"])])]),Ze(hF,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),Ype=Ra(Wpe,[["__scopeId","data-v-77b1750c"]]),Jpe={class:"flex hover:text-white"},Kpe=["aria-label"],Zpe={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},Xpe=["aria-label","content"],Qpe={class:"pb-8 border-b border-gray-600 mb-10"},eme={class:"absolute right-5 top-5"},tme={class:"select-text"},rme={class:"font-bold cursor-text"},ime={class:"text-sm cursor-text"},sme={class:"font-bold cursor-text"},nme={class:"ml-5 cursor-text"},ome=st({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(e){const{t}=nr(),r=Br("iApi"),i=()=>{r.reload()},s=et(()=>`${md.major}.${md.minor}.${md.patch}`),n=et(()=>md.hash.slice(0,9)),o=et(()=>{const a=new Date(md.timestamp);if(isNaN(a.getTime()))return["dev mode","no date"];{const l=c=>c<10?"0"+c.toString():c.toString();return[`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,`${a.getHours()}:${l(a.getMinutes())}:${l(a.getSeconds())}`]}});return(a,l)=>{const c=$r("close"),u=$r("dropdown-menu"),d=Ot("tippy"),p=Ot("focus-item");return It((he(),qt(u,{class:"pointer-events-auto sm:flex",position:e.position,tooltip:Me(t)("ramp.about"),tooltipPlacement:e.position},{header:Rr(()=>[oe("div",Jpe,[(he(),be("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":Me(t)("ramp.about.open")},l[0]||(l[0]=[oe("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,Kpe))])]),default:Rr(y=>[oe("div",Zpe,[oe("div",null,[It((he(),be("button",{class:"absolute left-5 top-5 text-gray-500 hover:text-black focus:text-black p-8",onClick:i,"aria-label":Me(t)("ramp.reload"),content:Me(t)("ramp.reload")},l[1]||(l[1]=[oe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[oe("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)]),8,Xpe)),[[d,{placement:"bottom-start",theme:"ramp4",animation:"scale"}]]),oe("h4",Qpe,$t(Me(t)("ramp.about")),1),oe("div",eme,[Ze(c,{onClick:y.close},null,8,["onClick"])]),oe("div",tme,[oe("div",null,[oe("span",rme,$t(s.value),1),oe("span",ime," ["+$t(n.value)+"] ",1)]),oe("div",null,[oe("span",sme,$t(o.value[0]),1),oe("span",nme,$t(o.value[1]),1)]),l[2]||(l[2]=oe("div",{class:"mt-5"},[oe("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[oe("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),Po(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[p]])}}}),ame=Ra(ome,[["__scopeId","data-v-bfefdf86"]]),lme="S",cme="__HELP__",fF=sr("keyboardnav",()=>{const e=X(),t=X({}),r=X(!1),i=X([]),s=X(),n=X("idle"),o=["H","?"];function a(){const C="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(const P of C)if(!t.value[P]&&!o.includes(P))return P}function l(C,P){let k=C.toUpperCase();if(o.includes(k)||t.value[k]){const V=a();V?k=V:console.error("No available keyboard namespace letters")}if(!P.handler)for(const V of P.keys)V.handler||console.error(`Keyboardnav registration for ${k} requires handlers for all keys or a parent handler`);return t.value[k]=P,k}function c(C){r.value!==C&&(r.value=C)}function u(C){e.value===C&&(e.value=void 0),delete t.value[C]}function d(C,P,k){if(C){if(C==="clear"){b({event:P,suppressHandler:!0});return}if(C==="reset"){const V=k??N.activeNamespace??N.keyChain[1];if(!V){b({suppressHandler:!0});return}S([lme,V]),x(void 0),_("awaitAction"),N.activeNamespace=V}}}function p(C,P,k){e.value=C,!k?.suppressHandler&&t.value[C]?.activeHandler?.(N,P)}function y(C,P){e.value&&!P?.suppressHandler&&t.value[e.value]?.deactiveHandler?.(N,C),e.value=void 0}function v(C,P){const k=e.value;if(!k)return;const V=t.value[k];if(!V)return;if(V.handler){const Y=V.handler(N,P,C);return d(Y,P,k),{namespace:k,key:C,chainAction:Y??void 0}}const U=V.keys.find(Y=>Y.key===C);if(!U)return;const j=U.handler?.(N,P);return d(j,P,k),{namespace:k,key:U.key,chainAction:j??void 0}}function b(C){y(C?.event,{suppressHandler:C?.suppressHandler}),C?.preserveChain||(i.value=[]),C?.preserveLastAction||(s.value=void 0),n.value="idle"}function S(C){i.value=[...C]}function w(C){i.value=[...i.value,C]}function T(){if(!i.value.length)return;const C=[...i.value],P=C.pop();return i.value=C,P}function x(C){s.value=C}function _(C){n.value=C}function $(C){y(C?.event,{suppressHandler:!0}),n.value="complete"}const M={activeNamespace:e,namespaces:t,helpVisible:r,keyChain:i,lastAction:s,chainState:n,register:l,unregister:u,activate:p,deactivate:y,trigger:v,setHelpVisible:c,resetChain:b,setChain:S,appendKey:w,popChain:T,setLastAction:x,setChainState:_,finalizeChain:$},N=M;return M}),ume={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},hme={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},fme=["href","aria-label"],dme=["src","alt"],pme={key:1,class:"relative ml-10 top-2 text-sm sm:text-base font-mono flex items-center gap-2","aria-live":"polite"},mme={class:"chain-content"},yme={class:"chain-keys"},gme={key:0,class:"chain-cursor"},vme={key:1,class:"chain-options"},bme={key:0},_me={key:2,class:"relative ml-10 top-2 text-sm sm:text-base"},wme={class:"flex min-w-fit justify-end"},xme={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},Sme=["aria-pressed","aria-label","content"],Eme={class:"relative top-1 text-sm sm:text-base"},Ame={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},Tme=["onClick"],$me={key:0,class:"sr-only"},Mme=st({__name:"map-caption",setup(e){const t=Sl(),r=fF(),i=gs(),{t:s}=nr(),n=Br("iApi"),o=et(()=>t.scale),a=et(()=>t.attribution),l=et(()=>t.coords),c=et(()=>t.langtoggle),u=et(()=>i.config.map),{keyChain:d,lastAction:p,chainState:y,namespaces:v,activeNamespace:b}=xue(r),S=et(()=>{if(!d.value.length)return;const N=d.value.join(" "),C=y.value==="awaitNamespace"||y.value==="awaitAction";let P;const k=p.value;if(k)if(k.namespace===cme)P=s("keyboardnav.chain.help");else{const U=`keyboardnav.key.${k.namespace}.${k.key}`,j=s(U);j!==U&&(P=j)}let V;if(y.value==="awaitNamespace"){const U=`H - ${s("keyboardnav.chain.help")}`,j=Object.keys(v.value).map(f=>{const m=`keyboardnav.ns.${f}`,E=s(m);return`${f} - ${E===m?f:E}`});V=`[${[U,...j].join(", ")}]`}else if(y.value==="awaitAction"){const U=b.value??d.value[1],j=U?v.value[U]:void 0;j&&j.keys?.length&&(V=`[${j.keys.map(f=>{const m=`keyboardnav.key.${U}.${f.key}`,E=s(m),O=E===m?f.key:E;return`${f.key} - ${O}`}).join(", ")}]`)}return{keys:N,options:V,description:P,cursor:C&&!!V}}),w=X([]),T=ui([]);T.push(Qr(u,N=>{N&&n.geo.map.caption.createCaption(u.value?.caption)})),so(()=>{T.forEach(N=>N())}),Hf(()=>{io(()=>{n.$i18n.locale.value&&w.value.length==0&&(w.value=n.$i18n.availableLocales)})});const x=()=>a.value?.logo?.link&&a.value?.logo?.value&&!a.value?.logo?.disabled,_=N=>{n.$i18n.locale.value!=N&&n.setLanguage(N)},$=()=>{t.toggleScale(),n.geo.map.caption.updateScale()},M=(N=!1)=>s(N?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(N,C)=>{const P=$r("dropdown-menu"),k=Ot("truncate"),V=Ot("tippy");return he(),be("div",ume,[Ze(ame,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Ze(Ype,{class:"sm:block display-none"}),x()?(he(),be("span",hme,[oe("a",{class:"pointer-events-auto cursor-pointer",href:a.value?.logo.link,target:"_blank","aria-label":a.value?.logo.altText},[oe("img",{class:"object-contain h-18 sm:h-26",src:a.value?.logo.value,alt:a.value?.logo.altText},null,8,dme)],8,fme)])):Lt("",!0),S.value?(he(),be("span",pme,[oe("span",mme,[C[0]||(C[0]=oe("span",{class:"chain-colon"},":",-1)),oe("span",yme,$t(S.value.keys),1),S.value.cursor?(he(),be("span",gme,"_")):Lt("",!0),S.value.options?(he(),be("span",vme,$t(S.value.options),1)):Lt("",!0)]),S.value.description?(he(),be("span",bme,"- "+$t(S.value.description)+"...",1)):Lt("",!0)])):a.value?.text.disabled?Lt("",!0):It((he(),be("span",_me,[Po($t(a.value?.text.value),1)])),[[k,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),C[1]||(C[1]=oe("span",{class:"flex-grow w-15"},null,-1)),oe("div",wme,[l.value?.disabled?Lt("",!0):It((he(),be("div",xme,[Po($t(l.value?.formattedString),1)])),[[k,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),o.value?.disabled?Lt("",!0):It((he(),be("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:$,"aria-pressed":o.value?.isImperialScale,"aria-label":`
                    ${o.value?.label} - ${M(o.value?.isImperialScale)}
                `,content:M(o.value?.isImperialScale)},[oe("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:Jl({width:o.value?.width})},null,4),oe("span",Eme,$t(o.value?.label),1)],8,Sme)),[[V,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),c.value?.disabled?Lt("",!0):(he(),qt(P,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:Me(s)("map.changeLanguage"),ariaLabel:`${Me(s)("map.language.short")} - ${Me(s)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:Rr(()=>[oe("span",Ame,$t(Me(s)("map.language.short")),1)]),default:Rr(()=>[(he(!0),be(kt,null,Ql(w.value,(U,j)=>(he(),be("a",{key:`${U}-${j}`,class:ur(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":U===Me(n).$i18n.locale.value}]),href:"javascript:;",onClick:Y=>_(U)},[Po($t(Me(s)("map.language."+U))+" ",1),U===Me(n).$i18n.locale.value?(he(),be("span",$me,$t(Me(s)("map.language.curr")),1)):Lt("",!0)],10,Tme))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),Ime=["content","aria-label"],Ome={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},Cme=st({__name:"floating-button",setup(e){const t=ko(),r=Br("iApi"),{t:i}=nr(),s=et(()=>t.notificationNumber);return(n,o)=>{const a=Ot("tippy");return It((he(),be("button",{type:"button",onClick:o[0]||(o[0]=l=>Me(r).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:Me(i)("notifications.title"),"aria-label":Me(i)("notifications.title")},[o[1]||(o[1]=oe("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[oe("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),s.value&&s.value>0?(he(),be("span",Ome,$t(s.value),1)):Lt("",!0)],8,Ime)),[[a]])}}}),Pme=Ra(Cme,[["__scopeId","data-v-db7ed22c"]]),Nme={class:"flex items-center mb-20"},Lme={class:"text-xl"},kme=st({__name:"keyboard-instructions",setup(e){const t=Br("iApi"),{t:r}=nr(),i=X(!1),s=X(["app","lists","map","keyboardNav"]),n=X([]),o=X(null),a=X(null);vi(()=>{n.value.push(t.event.on("openKeyboardInstructions",()=>{i.value=!0,io(()=>{o.value.focus()})}))}),so(()=>{n.value.forEach(c=>t.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),i.value=!1)};return(c,u)=>{const d=$r("close");return i.value?(he(),be("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:u[3]||(u[3]=p=>i.value=!1),onKeydown:l},[oe("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col keyboard-instructions-modal-content",onClick:u[2]||(u[2]=iy(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[oe("div",Nme,[oe("h2",Lme,$t(Me(r)("keyboardInstructions.title")),1),Ze(d,{class:"ml-auto",onClick:u[0]||(u[0]=p=>i.value=!1)})]),(he(!0),be(kt,null,Ql(s.value,p=>(he(),be("p",{class:"whitespace-pre-line pb-10",key:p},$t(Me(r)(`keyboardInstructions.${p}`)),1))),128)),oe("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:u[1]||(u[1]=p=>i.value=!1),ref_key:"lastEl",ref:a},$t(Me(r)("keyboardInstructions.OK")),513)],512)],32)):Lt("",!0)}}}),oh=sr("instance",()=>({started:X(!1)})),Rme={class:"h-full relative"},Dme={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},Fme={class:"absolute top-8 w-full flex justify-center"},Ume={key:1,class:"w-full h-full"},jme=st({__name:"shell",setup(e){const t=Br("iApi"),r=oh(),i=rn(),s=gu(),{t:n}=nr(),o=et(()=>i.items.appbar),a=()=>{t.event.emit("openKeyboardInstructions")},l=()=>s.teleported;return(c,u)=>(he(),be("div",Rme,[oe("div",Dme,[u[0]||(u[0]=oe("div",{class:"sr-only screen-reader-alert"},null,-1)),oe("div",Fme,[oe("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},$t(Me(n)("keyboardInstructions.open")),1)]),Ze(kme,{class:"keyboard-instructions-modal"}),Ze(vde,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Lt("",!0):(he(),qt(Pme,{key:0})),Ze(Mme,{class:"z-30"})]),Me(r).started?(he(),qt(jfe,{key:0})):(he(),be("div",Ume,u[1]||(u[1]=[oe("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(he(!0),be(kt,null,Ql(l(),d=>(he(),qt(k3,{to:d.teleport?.target,key:d.id},[(he(),qt(eF,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),Bme=Ra(jme,[["__scopeId","data-v-60f43222"]]);/*!
  * vue-tippy v6.4.4
  * (c) 2024 
  * @license MIT
  */var Es="top",vn="bottom",bn="right",As="left",lT="auto",cy=[Es,vn,bn,As],xf="start",wm="end",Vme="clippingParents",dF="viewport",dd="popper",Gme="reference",ZO=cy.reduce(function(e,t){return e.concat([t+"-"+xf,t+"-"+wm])},[]),pF=[].concat(cy,[lT]).reduce(function(e,t){return e.concat([t,t+"-"+xf,t+"-"+wm])},[]),qme="beforeRead",zme="read",Hme="afterRead",Wme="beforeMain",Yme="main",Jme="afterMain",Kme="beforeWrite",Zme="write",Xme="afterWrite",Qme=[qme,zme,Hme,Wme,Yme,Jme,Kme,Zme,Xme];function Go(e){return e?(e.nodeName||"").toLowerCase():null}function no(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Sf(e){var t=no(e).Element;return e instanceof t||e instanceof Element}function mn(e){var t=no(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function mF(e){if(typeof ShadowRoot>"u")return!1;var t=no(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function eye(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var i=t.styles[r]||{},s=t.attributes[r]||{},n=t.elements[r];!mn(n)||!Go(n)||(Object.assign(n.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function tye(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],n=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:r[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!mn(s)||!Go(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}var yF={name:"applyStyles",enabled:!0,phase:"write",fn:eye,effect:tye,requires:["computeStyles"]};function Ro(e){return e.split("-")[0]}var Zc=Math.max,Pv=Math.min,Ef=Math.round;function Af(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),i=1,s=1;if(mn(e)&&t){var n=e.offsetHeight,o=e.offsetWidth;o>0&&(i=Ef(r.width)/o||1),n>0&&(s=Ef(r.height)/n||1)}return{width:r.width/i,height:r.height/s,top:r.top/s,right:r.right/i,bottom:r.bottom/s,left:r.left/i,x:r.left/i,y:r.top/s}}function cT(e){var t=Af(e),r=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:i}}function gF(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&mF(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function qo(e){return no(e).getComputedStyle(e)}function rye(e){return["table","td","th"].indexOf(Go(e))>=0}function sc(e){return((Sf(e)?e.ownerDocument:e.document)||window.document).documentElement}function Lb(e){return Go(e)==="html"?e:e.assignedSlot||e.parentNode||(mF(e)?e.host:null)||sc(e)}function XO(e){return!mn(e)||qo(e).position==="fixed"?null:e.offsetParent}function iye(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&mn(e)){var i=qo(e);if(i.position==="fixed")return null}for(var s=Lb(e);mn(s)&&["html","body"].indexOf(Go(s))<0;){var n=qo(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function uy(e){for(var t=no(e),r=XO(e);r&&rye(r)&&qo(r).position==="static";)r=XO(r);return r&&(Go(r)==="html"||Go(r)==="body"&&qo(r).position==="static")?t:r||iye(e)||t}function uT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function bp(e,t,r){return Zc(e,Pv(t,r))}function sye(e,t,r){var i=bp(e,t,r);return i>r?r:i}function vF(){return{top:0,right:0,bottom:0,left:0}}function bF(e){return Object.assign({},vF(),e)}function _F(e,t){return t.reduce(function(r,i){return r[i]=e,r},{})}var nye=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,bF(typeof t!="number"?t:_F(t,cy))};function oye(e){var t,r=e.state,i=e.name,s=e.options,n=r.elements.arrow,o=r.modifiersData.popperOffsets,a=Ro(r.placement),l=uT(a),c=[As,bn].indexOf(a)>=0,u=c?"height":"width";if(!(!n||!o)){var d=nye(s.padding,r),p=cT(n),y=l==="y"?Es:As,v=l==="y"?vn:bn,b=r.rects.reference[u]+r.rects.reference[l]-o[l]-r.rects.popper[u],S=o[l]-r.rects.reference[l],w=uy(n),T=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,x=b/2-S/2,_=d[y],$=T-p[u]-d[v],M=T/2-p[u]/2+x,N=bp(_,M,$),C=l;r.modifiersData[i]=(t={},t[C]=N,t.centerOffset=N-M,t)}}function aye(e){var t=e.state,r=e.options,i=r.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||gF(t.elements.popper,s)&&(t.elements.arrow=s))}var lye={name:"arrow",enabled:!0,phase:"main",fn:oye,effect:aye,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Tf(e){return e.split("-")[1]}var cye={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uye(e){var t=e.x,r=e.y,i=window,s=i.devicePixelRatio||1;return{x:Ef(t*s)/s||0,y:Ef(r*s)/s||0}}function QO(e){var t,r=e.popper,i=e.popperRect,s=e.placement,n=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=u===!0?uye(o):typeof u=="function"?u(o):o,y=p.x,v=y===void 0?0:y,b=p.y,S=b===void 0?0:b,w=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),x=As,_=Es,$=window;if(c){var M=uy(r),N="clientHeight",C="clientWidth";if(M===no(r)&&(M=sc(r),qo(M).position!=="static"&&a==="absolute"&&(N="scrollHeight",C="scrollWidth")),M=M,s===Es||(s===As||s===bn)&&n===wm){_=vn;var P=d&&$.visualViewport?$.visualViewport.height:M[N];S-=P-i.height,S*=l?1:-1}if(s===As||(s===Es||s===vn)&&n===wm){x=bn;var k=d&&$.visualViewport?$.visualViewport.width:M[C];v-=k-i.width,v*=l?1:-1}}var V=Object.assign({position:a},c&&cye);if(l){var U;return Object.assign({},V,(U={},U[_]=T?"0":"",U[x]=w?"0":"",U.transform=($.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",U))}return Object.assign({},V,(t={},t[_]=T?S+"px":"",t[x]=w?v+"px":"",t.transform="",t))}function hye(e){var t=e.state,r=e.options,i=r.gpuAcceleration,s=i===void 0?!0:i,n=r.adaptive,o=n===void 0?!0:n,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:Ro(t.placement),variation:Tf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,QO(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,QO(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var fye={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:hye,data:{}},e0={passive:!0};function dye(e){var t=e.state,r=e.instance,i=e.options,s=i.scroll,n=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=no(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(u){u.addEventListener("scroll",r.update,e0)}),a&&l.addEventListener("resize",r.update,e0),function(){n&&c.forEach(function(u){u.removeEventListener("scroll",r.update,e0)}),a&&l.removeEventListener("resize",r.update,e0)}}var pye={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dye,data:{}},mye={left:"right",right:"left",bottom:"top",top:"bottom"};function fg(e){return e.replace(/left|right|bottom|top/g,function(t){return mye[t]})}var yye={start:"end",end:"start"};function eC(e){return e.replace(/start|end/g,function(t){return yye[t]})}function hT(e){var t=no(e),r=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:r,scrollTop:i}}function fT(e){return Af(sc(e)).left+hT(e).scrollLeft}function gye(e){var t=no(e),r=sc(e),i=t.visualViewport,s=r.clientWidth,n=r.clientHeight,o=0,a=0;return i&&(s=i.width,n=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:s,height:n,x:o+fT(e),y:a}}function vye(e){var t,r=sc(e),i=hT(e),s=(t=e.ownerDocument)==null?void 0:t.body,n=Zc(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Zc(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+fT(e),l=-i.scrollTop;return qo(s||r).direction==="rtl"&&(a+=Zc(r.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function dT(e){var t=qo(e),r=t.overflow,i=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+i)}function wF(e){return["html","body","#document"].indexOf(Go(e))>=0?e.ownerDocument.body:mn(e)&&dT(e)?e:wF(Lb(e))}function _p(e,t){var r;t===void 0&&(t=[]);var i=wF(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),n=no(i),o=s?[n].concat(n.visualViewport||[],dT(i)?i:[]):i,a=t.concat(o);return s?a:a.concat(_p(Lb(o)))}function wS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function bye(e){var t=Af(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function tC(e,t){return t===dF?wS(gye(e)):Sf(t)?bye(t):wS(vye(sc(e)))}function _ye(e){var t=_p(Lb(e)),r=["absolute","fixed"].indexOf(qo(e).position)>=0,i=r&&mn(e)?uy(e):e;return Sf(i)?t.filter(function(s){return Sf(s)&&gF(s,i)&&Go(s)!=="body"&&(r?qo(s).position!=="static":!0)}):[]}function wye(e,t,r){var i=t==="clippingParents"?_ye(e):[].concat(t),s=[].concat(i,[r]),n=s[0],o=s.reduce(function(a,l){var c=tC(e,l);return a.top=Zc(c.top,a.top),a.right=Pv(c.right,a.right),a.bottom=Pv(c.bottom,a.bottom),a.left=Zc(c.left,a.left),a},tC(e,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function xF(e){var t=e.reference,r=e.element,i=e.placement,s=i?Ro(i):null,n=i?Tf(i):null,o=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,l;switch(s){case Es:l={x:o,y:t.y-r.height};break;case vn:l={x:o,y:t.y+t.height};break;case bn:l={x:t.x+t.width,y:a};break;case As:l={x:t.x-r.width,y:a};break;default:l={x:t.x,y:t.y}}var c=s?uT(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(n){case xf:l[c]=l[c]-(t[u]/2-r[u]/2);break;case wm:l[c]=l[c]+(t[u]/2-r[u]/2);break}}return l}function xm(e,t){t===void 0&&(t={});var r=t,i=r.placement,s=i===void 0?e.placement:i,n=r.boundary,o=n===void 0?Vme:n,a=r.rootBoundary,l=a===void 0?dF:a,c=r.elementContext,u=c===void 0?dd:c,d=r.altBoundary,p=d===void 0?!1:d,y=r.padding,v=y===void 0?0:y,b=bF(typeof v!="number"?v:_F(v,cy)),S=u===dd?Gme:dd,w=e.rects.popper,T=e.elements[p?S:u],x=wye(Sf(T)?T:T.contextElement||sc(e.elements.popper),o,l),_=Af(e.elements.reference),$=xF({reference:_,element:w,placement:s}),M=wS(Object.assign({},w,$)),N=u===dd?M:_,C={top:x.top-N.top+b.top,bottom:N.bottom-x.bottom+b.bottom,left:x.left-N.left+b.left,right:N.right-x.right+b.right},P=e.modifiersData.offset;if(u===dd&&P){var k=P[s];Object.keys(C).forEach(function(V){var U=[bn,vn].indexOf(V)>=0?1:-1,j=[Es,vn].indexOf(V)>=0?"y":"x";C[V]+=k[j]*U})}return C}function xye(e,t){t===void 0&&(t={});var r=t,i=r.placement,s=r.boundary,n=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?pF:l,u=Tf(i),d=u?a?ZO:ZO.filter(function(v){return Tf(v)===u}):cy,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,b){return v[b]=xm(e,{placement:b,boundary:s,rootBoundary:n,padding:o})[Ro(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function Sye(e){if(Ro(e)===lT)return[];var t=fg(e);return[eC(e),t,eC(t)]}function Eye(e){var t=e.state,r=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var s=r.mainAxis,n=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,u=r.boundary,d=r.rootBoundary,p=r.altBoundary,y=r.flipVariations,v=y===void 0?!0:y,b=r.allowedAutoPlacements,S=t.options.placement,w=Ro(S),T=w===S,x=l||(T||!v?[fg(S)]:Sye(S)),_=[S].concat(x).reduce(function(Ue,qe){return Ue.concat(Ro(qe)===lT?xye(t,{placement:qe,boundary:u,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:b}):qe)},[]),$=t.rects.reference,M=t.rects.popper,N=new Map,C=!0,P=_[0],k=0;k<_.length;k++){var V=_[k],U=Ro(V),j=Tf(V)===xf,Y=[Es,vn].indexOf(U)>=0,f=Y?"width":"height",m=xm(t,{placement:V,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),E=Y?j?bn:As:j?vn:Es;$[f]>M[f]&&(E=fg(E));var O=fg(E),G=[];if(n&&G.push(m[U]<=0),a&&G.push(m[E]<=0,m[O]<=0),G.every(function(Ue){return Ue})){P=V,C=!1;break}N.set(V,G)}if(C)for(var J=v?3:1,me=function(qe){var lt=_.find(function(Ht){var Ct=N.get(Ht);if(Ct)return Ct.slice(0,qe).every(function(wr){return wr})});if(lt)return P=lt,"break"},ue=J;ue>0;ue--){var $e=me(ue);if($e==="break")break}t.placement!==P&&(t.modifiersData[i]._skip=!0,t.placement=P,t.reset=!0)}}var Aye={name:"flip",enabled:!0,phase:"main",fn:Eye,requiresIfExists:["offset"],data:{_skip:!1}};function rC(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function iC(e){return[Es,bn,vn,As].some(function(t){return e[t]>=0})}function Tye(e){var t=e.state,r=e.name,i=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,o=xm(t,{elementContext:"reference"}),a=xm(t,{altBoundary:!0}),l=rC(o,i),c=rC(a,s,n),u=iC(l),d=iC(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var $ye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Tye};function Mye(e,t,r){var i=Ro(e),s=[As,Es].indexOf(i)>=0?-1:1,n=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[As,bn].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Iye(e){var t=e.state,r=e.options,i=e.name,s=r.offset,n=s===void 0?[0,0]:s,o=pF.reduce(function(u,d){return u[d]=Mye(d,t.rects,n),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=o}var Oye={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Iye};function Cye(e){var t=e.state,r=e.name;t.modifiersData[r]=xF({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var Pye={name:"popperOffsets",enabled:!0,phase:"read",fn:Cye,data:{}};function Nye(e){return e==="x"?"y":"x"}function Lye(e){var t=e.state,r=e.options,i=e.name,s=r.mainAxis,n=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,d=r.padding,p=r.tether,y=p===void 0?!0:p,v=r.tetherOffset,b=v===void 0?0:v,S=xm(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),w=Ro(t.placement),T=Tf(t.placement),x=!T,_=uT(w),$=Nye(_),M=t.modifiersData.popperOffsets,N=t.rects.reference,C=t.rects.popper,P=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,k=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(M){if(n){var j,Y=_==="y"?Es:As,f=_==="y"?vn:bn,m=_==="y"?"height":"width",E=M[_],O=E+S[Y],G=E-S[f],J=y?-C[m]/2:0,me=T===xf?N[m]:C[m],ue=T===xf?-C[m]:-N[m],$e=t.elements.arrow,Ue=y&&$e?cT($e):{width:0,height:0},qe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:vF(),lt=qe[Y],Ht=qe[f],Ct=bp(0,N[m],Ue[m]),wr=x?N[m]/2-J-Ct-lt-k.mainAxis:me-Ct-lt-k.mainAxis,Ut=x?-N[m]/2+J+Ct+Ht+k.mainAxis:ue+Ct+Ht+k.mainAxis,or=t.elements.arrow&&uy(t.elements.arrow),ri=or?_==="y"?or.clientTop||0:or.clientLeft||0:0,B=(j=V?.[_])!=null?j:0,F=E+wr-B-ri,W=E+Ut-B,ae=bp(y?Pv(O,F):O,E,y?Zc(G,W):G);M[_]=ae,U[_]=ae-E}if(a){var te,ce=_==="x"?Es:As,ye=_==="x"?vn:bn,L=M[$],R=$==="y"?"height":"width",q=L+S[ce],re=L-S[ye],se=[Es,As].indexOf(w)!==-1,ne=(te=V?.[$])!=null?te:0,H=se?q:L-N[R]-C[R]-ne+k.altAxis,Z=se?L+N[R]+C[R]-ne-k.altAxis:re,Ae=y&&se?sye(H,L,Z):bp(y?H:q,L,y?Z:re);M[$]=Ae,U[$]=Ae-L}t.modifiersData[i]=U}}var kye={name:"preventOverflow",enabled:!0,phase:"main",fn:Lye,requiresIfExists:["offset"]};function Rye(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Dye(e){return e===no(e)||!mn(e)?hT(e):Rye(e)}function Fye(e){var t=e.getBoundingClientRect(),r=Ef(t.width)/e.offsetWidth||1,i=Ef(t.height)/e.offsetHeight||1;return r!==1||i!==1}function Uye(e,t,r){r===void 0&&(r=!1);var i=mn(t),s=mn(t)&&Fye(t),n=sc(t),o=Af(e,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((Go(t)!=="body"||dT(n))&&(a=Dye(t)),mn(t)?(l=Af(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):n&&(l.x=fT(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function jye(e){var t=new Map,r=new Set,i=[];e.forEach(function(n){t.set(n.name,n)});function s(n){r.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=t.get(a);l&&s(l)}}),i.push(n)}return e.forEach(function(n){r.has(n.name)||s(n)}),i}function Bye(e){var t=jye(e);return Qme.reduce(function(r,i){return r.concat(t.filter(function(s){return s.phase===i}))},[])}function Vye(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Gye(e){var t=e.reduce(function(r,i){var s=r[i.name];return r[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,r},{});return Object.keys(t).map(function(r){return t[r]})}var sC={placement:"bottom",modifiers:[],strategy:"absolute"};function nC(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function qye(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,i=r===void 0?[]:r,s=t.defaultOptions,n=s===void 0?sC:s;return function(a,l,c){c===void 0&&(c=n);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},sC,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:u,setOptions:function(w){var T=typeof w=="function"?w(u.options):w;b(),u.options=Object.assign({},n,u.options,T),u.scrollParents={reference:Sf(a)?_p(a):a.contextElement?_p(a.contextElement):[],popper:_p(l)};var x=Bye(Gye([].concat(i,u.options.modifiers)));return u.orderedModifiers=x.filter(function(_){return _.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var w=u.elements,T=w.reference,x=w.popper;if(nC(T,x)){u.rects={reference:Uye(T,uy(x),u.options.strategy==="fixed"),popper:cT(x)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(k){return u.modifiersData[k.name]=Object.assign({},k.data)});for(var _=0;_<u.orderedModifiers.length;_++){if(u.reset===!0){u.reset=!1,_=-1;continue}var $=u.orderedModifiers[_],M=$.fn,N=$.options,C=N===void 0?{}:N,P=$.name;typeof M=="function"&&(u=M({state:u,options:C,name:P,instance:y})||u)}}}},update:Vye(function(){return new Promise(function(S){y.forceUpdate(),S(u)})}),destroy:function(){b(),p=!0}};if(!nC(a,l))return y;y.setOptions(c).then(function(S){!p&&c.onFirstUpdate&&c.onFirstUpdate(S)});function v(){u.orderedModifiers.forEach(function(S){var w=S.name,T=S.options,x=T===void 0?{}:T,_=S.effect;if(typeof _=="function"){var $=_({state:u,name:w,instance:y,options:x}),M=function(){};d.push($||M)}})}function b(){d.forEach(function(S){return S()}),d=[]}return y}}var zye=[pye,Pye,fye,yF,Oye,Aye,kye,lye,$ye],Hye=qye({defaultModifiers:zye}),Wye="tippy-box",SF="tippy-content",EF="tippy-backdrop",AF="tippy-arrow",TF="tippy-svg-arrow",Cc={passive:!0,capture:!0},$F=function(){return document.body};function l_(e,t,r){if(Array.isArray(e)){var i=e[t];return i??(Array.isArray(r)?r[t]:r)}return e}function pT(e,t){var r={}.toString.call(e);return r.indexOf("[object")===0&&r.indexOf(t+"]")>-1}function MF(e,t){return typeof e=="function"?e.apply(void 0,t):e}function oC(e,t){if(t===0)return e;var r;return function(i){clearTimeout(r),r=setTimeout(function(){e(i)},t)}}function Yye(e,t){var r=Object.assign({},e);return t.forEach(function(i){delete r[i]}),r}function Jye(e){return e.split(/\s+/).filter(Boolean)}function Nc(e){return[].concat(e)}function aC(e,t){e.indexOf(t)===-1&&e.push(t)}function Kye(e){return e.filter(function(t,r){return e.indexOf(t)===r})}function IF(e){return e.split("-")[0]}function $f(e){return[].slice.call(e)}function lC(e){return Object.keys(e).reduce(function(t,r){return e[r]!==void 0&&(t[r]=e[r]),t},{})}function Xc(){return document.createElement("div")}function kb(e){return["Element","Fragment"].some(function(t){return pT(e,t)})}function Zye(e){return pT(e,"NodeList")}function mT(e){return pT(e,"MouseEvent")}function Xye(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function Qye(e){return kb(e)?[e]:Zye(e)?$f(e):Array.isArray(e)?e:$f(document.querySelectorAll(e))}function c_(e,t){e.forEach(function(r){r&&(r.style.transitionDuration=t+"ms")})}function Sm(e,t){e.forEach(function(r){r&&r.setAttribute("data-state",t)})}function OF(e){var t,r=Nc(e),i=r[0];return i!=null&&(t=i.ownerDocument)!=null&&t.body?i.ownerDocument:document}function e0e(e,t){var r=t.clientX,i=t.clientY;return e.every(function(s){var n=s.popperRect,o=s.popperState,a=s.props,l=a.interactiveBorder,c=IF(o.placement),u=o.modifiersData.offset;if(!u)return!0;var d=c==="bottom"?u.top.y:0,p=c==="top"?u.bottom.y:0,y=c==="right"?u.left.x:0,v=c==="left"?u.right.x:0,b=n.top-i+d>l,S=i-n.bottom-p>l,w=n.left-r+y>l,T=r-n.right-v>l;return b||S||w||T})}function u_(e,t,r){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){e[i](s,r)})}function cC(e,t){for(var r=t;r;){var i;if(e.contains(r))return!0;r=r.getRootNode==null||(i=r.getRootNode())==null?void 0:i.host}return!1}var xo={isTouch:!1},uC=0;function t0e(){xo.isTouch||(xo.isTouch=!0,window.performance&&document.addEventListener("mousemove",CF))}function CF(){var e=performance.now();e-uC<20&&(xo.isTouch=!1,document.removeEventListener("mousemove",CF)),uC=e}function r0e(){var e=document.activeElement;if(Xye(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function i0e(){document.addEventListener("touchstart",t0e,Cc),window.addEventListener("blur",r0e)}var s0e=typeof window<"u"&&typeof document<"u",n0e=s0e?!!window.msCrypto:!1,o0e={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},a0e={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},jn=Object.assign({appendTo:$F,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},o0e,a0e),l0e=Object.keys(jn),c0e=function(t){var r=Object.keys(t);r.forEach(function(i){jn[i]=t[i]})};function PF(e){var t=e.plugins||[],r=t.reduce(function(i,s){var n=s.name,o=s.defaultValue;if(n){var a;i[n]=e[n]!==void 0?e[n]:(a=jn[n])!=null?a:o}return i},{});return Object.assign({},e,r)}function u0e(e,t){var r=t?Object.keys(PF(Object.assign({},jn,{plugins:t}))):l0e,i=r.reduce(function(s,n){var o=(e.getAttribute("data-tippy-"+n)||"").trim();if(!o)return s;if(n==="content")s[n]=o;else try{s[n]=JSON.parse(o)}catch{s[n]=o}return s},{});return i}function hC(e,t){var r=Object.assign({},t,{content:MF(t.content,[e])},t.ignoreAttributes?{}:u0e(e,t.plugins));return r.aria=Object.assign({},jn.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?t.interactive:r.aria.expanded,content:r.aria.content==="auto"?t.interactive?null:"describedby":r.aria.content},r}var h0e=function(){return"innerHTML"};function xS(e,t){e[h0e()]=t}function fC(e){var t=Xc();return e===!0?t.className=AF:(t.className=TF,kb(e)?t.appendChild(e):xS(t,e)),t}function dC(e,t){kb(t.content)?(xS(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?xS(e,t.content):e.textContent=t.content)}function Nv(e){var t=e.firstElementChild,r=$f(t.children);return{box:t,content:r.find(function(i){return i.classList.contains(SF)}),arrow:r.find(function(i){return i.classList.contains(AF)||i.classList.contains(TF)}),backdrop:r.find(function(i){return i.classList.contains(EF)})}}function NF(e){var t=Xc(),r=Xc();r.className=Wye,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var i=Xc();i.className=SF,i.setAttribute("data-state","hidden"),dC(i,e.props),t.appendChild(r),r.appendChild(i),s(e.props,e.props);function s(n,o){var a=Nv(t),l=a.box,c=a.content,u=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(n.content!==o.content||n.allowHTML!==o.allowHTML)&&dC(c,e.props),o.arrow?u?n.arrow!==o.arrow&&(l.removeChild(u),l.appendChild(fC(o.arrow))):l.appendChild(fC(o.arrow)):u&&l.removeChild(u)}return{popper:t,onUpdate:s}}NF.$$tippy=!0;var f0e=1,t0=[],h_=[];function d0e(e,t){var r=hC(e,Object.assign({},jn,PF(lC(t)))),i,s,n,o=!1,a=!1,l=!1,c=!1,u,d,p,y=[],v=oC(F,r.interactiveDebounce),b,S=f0e++,w=null,T=Kye(r.plugins),x={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:S,reference:e,popper:Xc(),popperInstance:w,props:r,state:x,plugins:T,clearDelayTimeouts:H,setProps:Z,setContent:Ae,show:Le,hide:jt,hideWithInteractivity:Wt,enable:se,disable:ne,unmount:fr,destroy:Gr};if(!r.render)return _;var $=r.render(_),M=$.popper,N=$.onUpdate;M.setAttribute("data-tippy-root",""),M.id="tippy-"+_.id,_.popper=M,e._tippy=_,M._tippy=_;var C=T.map(function(Q){return Q.fn(_)}),P=e.hasAttribute("aria-expanded");return or(),J(),E(),O("onCreate",[_]),r.showOnCreate&&q(),M.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),M.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&Y().addEventListener("mousemove",v)}),_;function k(){var Q=_.props.touch;return Array.isArray(Q)?Q:[Q,0]}function V(){return k()[0]==="hold"}function U(){var Q;return!!((Q=_.props.render)!=null&&Q.$$tippy)}function j(){return b||e}function Y(){var Q=j().parentNode;return Q?OF(Q):document}function f(){return Nv(M)}function m(Q){return _.state.isMounted&&!_.state.isVisible||xo.isTouch||u&&u.type==="focus"?0:l_(_.props.delay,Q?0:1,jn.delay)}function E(Q){Q===void 0&&(Q=!1),M.style.pointerEvents=_.props.interactive&&!Q?"":"none",M.style.zIndex=""+_.props.zIndex}function O(Q,Te,Ie){if(Ie===void 0&&(Ie=!0),C.forEach(function(Qe){Qe[Q]&&Qe[Q].apply(Qe,Te)}),Ie){var Ye;(Ye=_.props)[Q].apply(Ye,Te)}}function G(){var Q=_.props.aria;if(Q.content){var Te="aria-"+Q.content,Ie=M.id,Ye=Nc(_.props.triggerTarget||e);Ye.forEach(function(Qe){var qr=Qe.getAttribute(Te);if(_.state.isVisible)Qe.setAttribute(Te,qr?qr+" "+Ie:Ie);else{var bi=qr&&qr.replace(Ie,"").trim();bi?Qe.setAttribute(Te,bi):Qe.removeAttribute(Te)}})}}function J(){if(!(P||!_.props.aria.expanded)){var Q=Nc(_.props.triggerTarget||e);Q.forEach(function(Te){_.props.interactive?Te.setAttribute("aria-expanded",_.state.isVisible&&Te===j()?"true":"false"):Te.removeAttribute("aria-expanded")})}}function me(){Y().removeEventListener("mousemove",v),t0=t0.filter(function(Q){return Q!==v})}function ue(Q){if(!(xo.isTouch&&(l||Q.type==="mousedown"))){var Te=Q.composedPath&&Q.composedPath()[0]||Q.target;if(!(_.props.interactive&&cC(M,Te))){if(Nc(_.props.triggerTarget||e).some(function(Ie){return cC(Ie,Te)})){if(xo.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else O("onClickOutside",[_,Q]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),a=!0,setTimeout(function(){a=!1}),_.state.isMounted||lt())}}}function $e(){l=!0}function Ue(){l=!1}function qe(){var Q=Y();Q.addEventListener("mousedown",ue,!0),Q.addEventListener("touchend",ue,Cc),Q.addEventListener("touchstart",Ue,Cc),Q.addEventListener("touchmove",$e,Cc)}function lt(){var Q=Y();Q.removeEventListener("mousedown",ue,!0),Q.removeEventListener("touchend",ue,Cc),Q.removeEventListener("touchstart",Ue,Cc),Q.removeEventListener("touchmove",$e,Cc)}function Ht(Q,Te){wr(Q,function(){!_.state.isVisible&&M.parentNode&&M.parentNode.contains(M)&&Te()})}function Ct(Q,Te){wr(Q,Te)}function wr(Q,Te){var Ie=f().box;function Ye(Qe){Qe.target===Ie&&(u_(Ie,"remove",Ye),Te())}if(Q===0)return Te();u_(Ie,"remove",d),u_(Ie,"add",Ye),d=Ye}function Ut(Q,Te,Ie){Ie===void 0&&(Ie=!1);var Ye=Nc(_.props.triggerTarget||e);Ye.forEach(function(Qe){Qe.addEventListener(Q,Te,Ie),y.push({node:Qe,eventType:Q,handler:Te,options:Ie})})}function or(){V()&&(Ut("touchstart",B,{passive:!0}),Ut("touchend",W,{passive:!0})),Jye(_.props.trigger).forEach(function(Q){if(Q!=="manual")switch(Ut(Q,B),Q){case"mouseenter":Ut("mouseleave",W);break;case"focus":Ut(n0e?"focusout":"blur",ae);break;case"focusin":Ut("focusout",ae);break}})}function ri(){y.forEach(function(Q){var Te=Q.node,Ie=Q.eventType,Ye=Q.handler,Qe=Q.options;Te.removeEventListener(Ie,Ye,Qe)}),y=[]}function B(Q){var Te,Ie=!1;if(!(!_.state.isEnabled||te(Q)||a)){var Ye=((Te=u)==null?void 0:Te.type)==="focus";u=Q,b=Q.currentTarget,J(),!_.state.isVisible&&mT(Q)&&t0.forEach(function(Qe){return Qe(Q)}),Q.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||o)&&_.props.hideOnClick!==!1&&_.state.isVisible?Ie=!0:q(Q),Q.type==="click"&&(o=!Ie),Ie&&!Ye&&re(Q)}}function F(Q){var Te=Q.target,Ie=j().contains(Te)||M.contains(Te);if(!(Q.type==="mousemove"&&Ie)){var Ye=R().concat(M).map(function(Qe){var qr,bi=Qe._tippy,oo=(qr=bi.popperInstance)==null?void 0:qr.state;return oo?{popperRect:Qe.getBoundingClientRect(),popperState:oo,props:r}:null}).filter(Boolean);e0e(Ye,Q)&&(me(),re(Q))}}function W(Q){var Te=te(Q)||_.props.trigger.indexOf("click")>=0&&o;if(!Te){if(_.props.interactive){_.hideWithInteractivity(Q);return}re(Q)}}function ae(Q){_.props.trigger.indexOf("focusin")<0&&Q.target!==j()||_.props.interactive&&Q.relatedTarget&&M.contains(Q.relatedTarget)||re(Q)}function te(Q){return xo.isTouch?V()!==Q.type.indexOf("touch")>=0:!1}function ce(){ye();var Q=_.props,Te=Q.popperOptions,Ie=Q.placement,Ye=Q.offset,Qe=Q.getReferenceClientRect,qr=Q.moveTransition,bi=U()?Nv(M).arrow:null,oo=Qe?{getBoundingClientRect:Qe,contextElement:Qe.contextElement||j()}:e,Da={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ou){var Fa=Ou.state;if(U()){var Bb=f(),Cu=Bb.box;["placement","reference-hidden","escaped"].forEach(function(nc){nc==="placement"?Cu.setAttribute("data-placement",Fa.placement):Fa.attributes.popper["data-popper-"+nc]?Cu.setAttribute("data-"+nc,""):Cu.removeAttribute("data-"+nc)}),Fa.attributes.popper={}}}},zo=[{name:"offset",options:{offset:Ye}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!qr}},Da];U()&&bi&&zo.push({name:"arrow",options:{element:bi,padding:3}}),zo.push.apply(zo,Te?.modifiers||[]),_.popperInstance=Hye(oo,M,Object.assign({},Te,{placement:Ie,onFirstUpdate:p,modifiers:zo}))}function ye(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function L(){var Q=_.props.appendTo,Te,Ie=j();_.props.interactive&&Q===$F||Q==="parent"?Te=Ie.parentNode:Te=MF(Q,[Ie]),Te.contains(M)||Te.appendChild(M),_.state.isMounted=!0,ce()}function R(){return $f(M.querySelectorAll("[data-tippy-root]"))}function q(Q){_.clearDelayTimeouts(),Q&&O("onTrigger",[_,Q]),qe();var Te=m(!0),Ie=k(),Ye=Ie[0],Qe=Ie[1];xo.isTouch&&Ye==="hold"&&Qe&&(Te=Qe),Te?i=setTimeout(function(){_.show()},Te):_.show()}function re(Q){if(_.clearDelayTimeouts(),O("onUntrigger",[_,Q]),!_.state.isVisible){lt();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Q.type)>=0&&o)){var Te=m(!1);Te?s=setTimeout(function(){_.state.isVisible&&_.hide()},Te):n=requestAnimationFrame(function(){_.hide()})}}function se(){_.state.isEnabled=!0}function ne(){_.hide(),_.state.isEnabled=!1}function H(){clearTimeout(i),clearTimeout(s),cancelAnimationFrame(n)}function Z(Q){if(!_.state.isDestroyed){O("onBeforeUpdate",[_,Q]),ri();var Te=_.props,Ie=hC(e,Object.assign({},Te,lC(Q),{ignoreAttributes:!0}));_.props=Ie,or(),Te.interactiveDebounce!==Ie.interactiveDebounce&&(me(),v=oC(F,Ie.interactiveDebounce)),Te.triggerTarget&&!Ie.triggerTarget?Nc(Te.triggerTarget).forEach(function(Ye){Ye.removeAttribute("aria-expanded")}):Ie.triggerTarget&&e.removeAttribute("aria-expanded"),J(),E(),N&&N(Te,Ie),_.popperInstance&&(ce(),R().forEach(function(Ye){requestAnimationFrame(Ye._tippy.popperInstance.forceUpdate)})),O("onAfterUpdate",[_,Q])}}function Ae(Q){_.setProps({content:Q})}function Le(){var Q=_.state.isVisible,Te=_.state.isDestroyed,Ie=!_.state.isEnabled,Ye=xo.isTouch&&!_.props.touch,Qe=l_(_.props.duration,0,jn.duration);if(!(Q||Te||Ie||Ye)&&!j().hasAttribute("disabled")&&(O("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,U()&&(M.style.visibility="visible"),E(),qe(),_.state.isMounted||(M.style.transition="none"),U()){var qr=f(),bi=qr.box,oo=qr.content;c_([bi,oo],0)}p=function(){var zo;if(!(!_.state.isVisible||c)){if(c=!0,M.offsetHeight,M.style.transition=_.props.moveTransition,U()&&_.props.animation){var Yf=f(),Ou=Yf.box,Fa=Yf.content;c_([Ou,Fa],Qe),Sm([Ou,Fa],"visible")}G(),J(),aC(h_,_),(zo=_.popperInstance)==null||zo.forceUpdate(),O("onMount",[_]),_.props.animation&&U()&&Ct(Qe,function(){_.state.isShown=!0,O("onShown",[_])})}},L()}}function jt(){var Q=!_.state.isVisible,Te=_.state.isDestroyed,Ie=!_.state.isEnabled,Ye=l_(_.props.duration,1,jn.duration);if(!(Q||Te||Ie)&&(O("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,c=!1,o=!1,U()&&(M.style.visibility="hidden"),me(),lt(),E(!0),U()){var Qe=f(),qr=Qe.box,bi=Qe.content;_.props.animation&&(c_([qr,bi],Ye),Sm([qr,bi],"hidden"))}G(),J(),_.props.animation?U()&&Ht(Ye,_.unmount):_.unmount()}}function Wt(Q){Y().addEventListener("mousemove",v),aC(t0,v),v(Q)}function fr(){_.state.isVisible&&_.hide(),_.state.isMounted&&(ye(),R().forEach(function(Q){Q._tippy.unmount()}),M.parentNode&&M.parentNode.removeChild(M),h_=h_.filter(function(Q){return Q!==_}),_.state.isMounted=!1,O("onHidden",[_]))}function Gr(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),ri(),delete e._tippy,_.state.isDestroyed=!0,O("onDestroy",[_]))}}function Ne(e,t){t===void 0&&(t={});var r=jn.plugins.concat(t.plugins||[]);i0e();var i=Object.assign({},t,{plugins:r}),s=Qye(e),n=s.reduce(function(o,a){var l=a&&d0e(a,i);return l&&o.push(l),o},[]);return kb(e)?n[0]:n}Ne.defaultProps=jn;Ne.setDefaultProps=c0e;Ne.currentInput=xo;var p0e=Object.assign({},yF,{effect:function(t){var r=t.state,i={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,i.popper),r.styles=i,r.elements.arrow&&Object.assign(r.elements.arrow.style,i.arrow)}}),m0e=function(t,r){var i;r===void 0&&(r={});var s=t,n=[],o=[],a,l=r.overrides,c=[],u=!1;function d(){o=s.map(function(_){return Nc(_.props.triggerTarget||_.reference)}).reduce(function(_,$){return _.concat($)},[])}function p(){n=s.map(function(_){return _.reference})}function y(_){s.forEach(function($){_?$.enable():$.disable()})}function v(_){return s.map(function($){var M=$.setProps;return $.setProps=function(N){M(N),$.reference===a&&_.setProps(N)},function(){$.setProps=M}})}function b(_,$){var M=o.indexOf($);if($!==a){a=$;var N=(l||[]).concat("content").reduce(function(C,P){return C[P]=s[M].props[P],C},{});_.setProps(Object.assign({},N,{getReferenceClientRect:typeof N.getReferenceClientRect=="function"?N.getReferenceClientRect:function(){var C;return(C=n[M])==null?void 0:C.getBoundingClientRect()}}))}}y(!1),p(),d();var S={fn:function(){return{onDestroy:function(){y(!0)},onHidden:function(){a=null},onClickOutside:function(M){M.props.showOnCreate&&!u&&(u=!0,a=null)},onShow:function(M){M.props.showOnCreate&&!u&&(u=!0,b(M,n[0]))},onTrigger:function(M,N){b(M,N.currentTarget)}}}},w=Ne(Xc(),Object.assign({},Yye(r,["overrides"]),{plugins:[S].concat(r.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},r.popperOptions,{modifiers:[].concat(((i=r.popperOptions)==null?void 0:i.modifiers)||[],[p0e])})})),T=w.show;w.show=function(_){if(T(),!a&&_==null)return b(w,n[0]);if(!(a&&_==null)){if(typeof _=="number")return n[_]&&b(w,n[_]);if(s.indexOf(_)>=0){var $=_.reference;return b(w,$)}if(n.indexOf(_)>=0)return b(w,_)}},w.showNext=function(){var _=n[0];if(!a)return w.show(0);var $=n.indexOf(a);w.show(n[$+1]||_)},w.showPrevious=function(){var _=n[n.length-1];if(!a)return w.show(_);var $=n.indexOf(a),M=n[$-1]||_;w.show(M)};var x=w.setProps;return w.setProps=function(_){l=_.overrides||l,x(_)},w.setInstances=function(_){y(!0),c.forEach(function($){return $()}),s=_,y(!1),p(),d(),c=v(w),w.setProps({triggerTarget:o})},c=v(w),w},y0e={name:"animateFill",defaultValue:!1,fn:function(t){var r;if(!((r=t.props.render)!=null&&r.$$tippy))return{};var i=Nv(t.popper),s=i.box,n=i.content,o=t.props.animateFill?g0e():null;return{onCreate:function(){o&&(s.insertBefore(o,s.firstElementChild),s.setAttribute("data-animatefill",""),s.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=s.style.transitionDuration,c=Number(l.replace("ms",""));n.style.transitionDelay=Math.round(c/10)+"ms",o.style.transitionDuration=l,Sm([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&Sm([o],"hidden")}}}};function g0e(){var e=Xc();return e.className=EF,Sm([e],"hidden"),e}var SS={clientX:0,clientY:0},r0=[];function LF(e){var t=e.clientX,r=e.clientY;SS={clientX:t,clientY:r}}function v0e(e){e.addEventListener("mousemove",LF)}function b0e(e){e.removeEventListener("mousemove",LF)}var _0e={name:"followCursor",defaultValue:!1,fn:function(t){var r=t.reference,i=OF(t.props.triggerTarget||r),s=!1,n=!1,o=!0,a=t.props;function l(){return t.props.followCursor==="initial"&&t.state.isVisible}function c(){i.addEventListener("mousemove",p)}function u(){i.removeEventListener("mousemove",p)}function d(){s=!0,t.setProps({getReferenceClientRect:null}),s=!1}function p(b){var S=b.target?r.contains(b.target):!0,w=t.props.followCursor,T=b.clientX,x=b.clientY,_=r.getBoundingClientRect(),$=T-_.left,M=x-_.top;(S||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var C=r.getBoundingClientRect(),P=T,k=x;w==="initial"&&(P=C.left+$,k=C.top+M);var V=w==="horizontal"?C.top:k,U=w==="vertical"?C.right:P,j=w==="horizontal"?C.bottom:k,Y=w==="vertical"?C.left:P;return{width:U-Y,height:j-V,top:V,right:U,bottom:j,left:Y}}})}function y(){t.props.followCursor&&(r0.push({instance:t,doc:i}),v0e(i))}function v(){r0=r0.filter(function(b){return b.instance!==t}),r0.filter(function(b){return b.doc===i}).length===0&&b0e(i)}return{onCreate:y,onDestroy:v,onBeforeUpdate:function(){a=t.props},onAfterUpdate:function(S,w){var T=w.followCursor;s||T!==void 0&&a.followCursor!==T&&(v(),T?(y(),t.state.isMounted&&!n&&!l()&&c()):(u(),d()))},onMount:function(){t.props.followCursor&&!n&&(o&&(p(SS),o=!1),l()||c())},onTrigger:function(S,w){mT(w)&&(SS={clientX:w.clientX,clientY:w.clientY}),n=w.type==="focus"},onHidden:function(){t.props.followCursor&&(d(),u(),o=!0)}}}};function w0e(e,t){var r;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((((r=e.popperOptions)==null?void 0:r.modifiers)||[]).filter(function(i){var s=i.name;return s!==t.name}),[t])})}}var x0e={name:"inlinePositioning",defaultValue:!1,fn:function(t){var r=t.reference;function i(){return!!t.props.inlinePositioning}var s,n=-1,o=!1,a=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(y){var v=y.state;i()&&(a.indexOf(v.placement)!==-1&&(a=[]),s!==v.placement&&a.indexOf(v.placement)===-1&&(a.push(v.placement),t.setProps({getReferenceClientRect:function(){return c(v.placement)}})),s=v.placement)}};function c(p){return S0e(IF(p),r.getBoundingClientRect(),$f(r.getClientRects()),n)}function u(p){o=!0,t.setProps(p),o=!1}function d(){o||u(w0e(t.props,l))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(y,v){if(mT(v)){var b=$f(t.reference.getClientRects()),S=b.find(function(T){return T.left-2<=v.clientX&&T.right+2>=v.clientX&&T.top-2<=v.clientY&&T.bottom+2>=v.clientY}),w=b.indexOf(S);n=w>-1?w:n}},onHidden:function(){n=-1}}}};function S0e(e,t,r,i){if(r.length<2||e===null)return t;if(r.length===2&&i>=0&&r[0].left>r[1].right)return r[i]||t;switch(e){case"top":case"bottom":{var s=r[0],n=r[r.length-1],o=e==="top",a=s.top,l=n.bottom,c=o?s.left:n.left,u=o?s.right:n.right,d=u-c,p=l-a;return{top:a,bottom:l,left:c,right:u,width:d,height:p}}case"left":case"right":{var y=Math.min.apply(Math,r.map(function(M){return M.left})),v=Math.max.apply(Math,r.map(function(M){return M.right})),b=r.filter(function(M){return e==="left"?M.left===y:M.right===v}),S=b[0].top,w=b[b.length-1].bottom,T=y,x=v,_=x-T,$=w-S;return{top:S,bottom:w,left:T,right:x,width:_,height:$}}default:return t}}var E0e={name:"sticky",defaultValue:!1,fn:function(t){var r=t.reference,i=t.popper;function s(){return t.popperInstance?t.popperInstance.state.elements.reference:r}function n(c){return t.props.sticky===!0||t.props.sticky===c}var o=null,a=null;function l(){var c=n("reference")?s().getBoundingClientRect():null,u=n("popper")?i.getBoundingClientRect():null;(c&&pC(o,c)||u&&pC(a,u))&&t.popperInstance&&t.popperInstance.update(),o=c,a=u,t.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){t.props.sticky&&l()}}}};function pC(e,t){return e&&t?e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left:!0}Ne.setDefaultProps({render:NF});Ne.setDefaultProps({onShow:e=>{if(!e.props.content)return!1}});function yT(e,t={},r={mount:!0,appName:"Tippy"}){r=Object.assign({mount:!0,appName:"Tippy"},r);const i=Vr(),s=X(),n=X({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=zf();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=N=>{let C,P=ht(N)?N.value:N;return Xn(P)?(o.value||(o.value=Vl({name:r.appName,setup:()=>()=>ht(N)?N.value:N}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),C=()=>l()):typeof P=="object"?(o.value||(o.value=Vl({name:r.appName,setup:()=>()=>un(ht(N)?N.value:N)}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),C=()=>l()):C=P,C},u=N=>{let C={};return ht(N)?C=N.value||{}:_s(N)?C={...N}:C={...N},C.content&&(C.content=c(C.content)),C.triggerTarget&&(C.triggerTarget=ht(C.triggerTarget)?C.triggerTarget.value:C.triggerTarget),(!C.plugins||!Array.isArray(C.plugins))&&(C.plugins=[]),C.plugins=C.plugins.filter(P=>P.name!=="vueTippyReactiveState"),C.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){n.value.isEnabled=!0},onMount(){n.value.isMounted=!0},onShow(){n.value.isMounted=!0,n.value.isVisible=!0},onShown(){n.value.isShown=!0},onHide(){n.value.isMounted=!1,n.value.isVisible=!1},onHidden(){n.value.isShown=!1},onUnmounted(){n.value.isMounted=!1},onDestroy(){n.value.isDestroyed=!0}})}),C},d=()=>{s.value&&s.value.setProps(u(t))},p=()=>{!s.value||!t.content||s.value.setContent(c(t.content))},y=N=>{var C;(C=s.value)===null||C===void 0||C.setContent(c(N))},v=N=>{var C;(C=s.value)===null||C===void 0||C.setProps(u(N))},b=()=>{var N;s.value&&(s.value.destroy(),s.value=void 0),a=null,(N=o.value)===null||N===void 0||N.unmount(),o.value=void 0},S=()=>{var N;(N=s.value)===null||N===void 0||N.show()},w=()=>{var N;(N=s.value)===null||N===void 0||N.hide()},T=()=>{var N;(N=s.value)===null||N===void 0||N.disable(),n.value.isEnabled=!1},x=()=>{var N;(N=s.value)===null||N===void 0||N.enable(),n.value.isEnabled=!0},_=()=>{var N;(N=s.value)===null||N===void 0||N.unmount()},$=()=>{if(!e)return;let N=ht(e)?e.value:e;typeof N=="function"&&(N=N()),N&&(s.value=Ne(N,u(t)),N.$tippy=M)},M={tippy:s,refresh:d,refreshContent:p,setContent:y,setProps:v,destroy:b,hide:w,show:S,disable:T,enable:x,unmount:_,mount:$,state:n};return r.mount&&(i?i.isMounted?$():vi($):$()),i&&$u(()=>{b()}),ht(t)||_s(t)?Qr(t,d,{immediate:!1}):ht(t.content)&&Qr(t.content,p,{immediate:!1}),M}function A0e(e,t){const r=X();return vi(()=>{const s=(Array.isArray(e)?e.map(n=>n.value):typeof e=="function"?e():e.value).map(n=>n instanceof Element?n._tippy:n).filter(Boolean);r.value=m0e(s,t?{allowHTML:!0,...t}:{allowHTML:!0})}),{singleton:r}}function T0e(e){return typeof e=="function"?e():Me(e)}function $0e(e){var t,r;const i=T0e(e);return(r=(t=i)===null||t===void 0?void 0:t.$el)!==null&&r!==void 0?r:i}const M0e=st({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Ne.defaultProps.appendTo},aria:{default:()=>Ne.defaultProps.aria},delay:{default:()=>Ne.defaultProps.delay},duration:{default:()=>Ne.defaultProps.duration},getReferenceClientRect:{default:()=>Ne.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Ne.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Ne.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Ne.defaultProps.interactive},interactiveBorder:{default:()=>Ne.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Ne.defaultProps.interactiveDebounce},moveTransition:{default:()=>Ne.defaultProps.moveTransition},offset:{default:()=>Ne.defaultProps.offset},onAfterUpdate:{default:()=>Ne.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Ne.defaultProps.onBeforeUpdate},onCreate:{default:()=>Ne.defaultProps.onCreate},onDestroy:{default:()=>Ne.defaultProps.onDestroy},onHidden:{default:()=>Ne.defaultProps.onHidden},onHide:{default:()=>Ne.defaultProps.onHide},onMount:{default:()=>Ne.defaultProps.onMount},onShow:{default:()=>Ne.defaultProps.onShow},onShown:{default:()=>Ne.defaultProps.onShown},onTrigger:{default:()=>Ne.defaultProps.onTrigger},onUntrigger:{default:()=>Ne.defaultProps.onUntrigger},onClickOutside:{default:()=>Ne.defaultProps.onClickOutside},placement:{default:()=>Ne.defaultProps.placement},plugins:{default:()=>Ne.defaultProps.plugins},popperOptions:{default:()=>Ne.defaultProps.popperOptions},render:{default:()=>Ne.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Ne.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Ne.defaultProps.touch},trigger:{default:()=>Ne.defaultProps.trigger},triggerTarget:{default:()=>Ne.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Ne.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Ne.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Ne.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Ne.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Ne.defaultProps.allowHTML},animation:{default:()=>Ne.defaultProps.animation},arrow:{default:()=>Ne.defaultProps.arrow},content:{default:()=>Ne.defaultProps.content},inertia:{default:()=>Ne.defaultProps.inertia},maxWidth:{default:()=>Ne.defaultProps.maxWidth},role:{default:()=>Ne.defaultProps.role},theme:{default:()=>Ne.defaultProps.theme},zIndex:{default:()=>Ne.defaultProps.zIndex}},emits:["state"],setup(e,{slots:t,emit:r,expose:i}){const s=X(),n=X(),o=X(),a=X(!1),l=()=>{let y={...e};for(const v of["to","tag","contentTag","contentClass"])y.hasOwnProperty(v)&&delete y[v];return y};let c=()=>$0e(s);e.to&&(typeof Element<"u"&&e.to instanceof Element?c=()=>e.to:e.to==="parent"?c=()=>{let y=s.value;return y||(y=s.value=n.value.parentElement),y}:(typeof e.to=="string"||e.to instanceof String)&&(c=()=>document.querySelector(e.to)));const u=yT(c,l());let d=t.content;!d&&e.to==="parent"&&(d=t.default),vi(()=>{a.value=!0,io(()=>{d&&u.setContent(()=>o.value)})}),Qr(u.state,()=>{r("state",Me(u.state))},{immediate:!0,deep:!0}),Qr(()=>e,()=>{u.setProps(l()),d&&u.setContent(()=>o.value)},{deep:!0});let p=ui({elem:s,contentElem:o,mounted:a,...u});return i(p),()=>{const y=(typeof e.contentTag=="string",e.contentTag),v=d?un(y,{ref:o,style:{display:a.value?"inherit":"none"},class:e.contentClass},d(p)):null;if(e.to==="parent"){const w=[];if(!s.value){const T=un("span",{ref:n,"data-v-tippy":"",style:{display:"none"}});w.push(T)}return v&&w.push(v),w}const b=t.default?t.default(p):[];if(!e.tag){const w=un(b[0],{ref:s,"data-v-tippy":""});return v?[w,v]:w}const S=(typeof e.tag=="string",e.tag);return un(S,{ref:s,"data-v-tippy":""},v?[b,v]:b)}}}),I0e=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let ES={};Object.keys(Ne.defaultProps).forEach(e=>{I0e.includes(e)?ES[e]={type:Boolean,default:function(){return Ne.defaultProps[e]}}:ES[e]={default:function(){return Ne.defaultProps[e]}}});const O0e=st({props:ES,setup(e){const t=X([]),{singleton:r}=A0e(t,e);return{instances:t,singleton:r}},mounted(){var e;const r=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(r).map(i=>i._tippy).filter(Boolean),(e=this.singleton)===null||e===void 0||e.setInstances(this.instances)},render(){let e=this.$slots.default?this.$slots.default():[];return un(()=>e)}}),C0e={mounted(e,t,r){const i=typeof t.value=="string"?{content:t.value}:t.value||{},s=Object.keys(t.modifiers||{}),n=s.find(a=>a!=="arrow"),o=s.findIndex(a=>a==="arrow")!==-1;n&&(i.placement=i.placement||n),o&&(i.arrow=i.arrow!==void 0?i.arrow:!0),r.props&&r.props.onTippyShow&&(i.onShow=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),r.props&&r.props.onTippyShown&&(i.onShown=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),r.props&&r.props.onTippyHidden&&(i.onHidden=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),r.props&&r.props.onTippyHide&&(i.onHide=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),r.props&&r.props.onTippyMount&&(i.onMount=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),e.getAttribute("title")&&!i.content&&(i.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!i.content&&(i.content=e.getAttribute("content")),yT(e,i)},unmounted(e){e.$tippy?e.$tippy.destroy():e._tippy&&e._tippy.destroy()},updated(e,t){const r=typeof t.value=="string"?{content:t.value}:t.value||{};e.getAttribute("title")&&!r.content&&(r.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!r.content&&(r.content=e.getAttribute("content")),e.$tippy?e.$tippy.setProps(r||{}):e._tippy&&e._tippy.setProps(r||{})}},P0e={install(e,t={}){Ne.setDefaultProps(t.defaultProps||{}),e.directive(t.directive||"tippy",C0e),e.component(t.component||"tippy",M0e),e.component(t.componentSingleton||"tippy-singleton",O0e)}},kF=Ne.setDefaultProps;kF({ignoreAttributes:!0,plugins:[E0e,x0e,_0e,y0e]});const N0e=st({name:"App",components:{Shell:Bme},setup(){const e=Vr();vi(()=>{new QD().observe(e?.proxy?.$refs["app-size"]),kF({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),L0e=["lang"],k0e={class:"h-full",ref:"app-size"};function R0e(e,t,r,i,s,n){const o=$r("shell");return he(),be("div",{class:"ramp-app ramp-styles animation-enabled",lang:e.$i18n.locale},[oe("div",k0e,[Ze(o)],512)],8,L0e)}const D0e=Ra(N0e,[["render",R0e]]),So="focus-list",yc="focus-item",F0e="focus-icon",U0e="focus-container",qh=`[${So}],[${U0e}]`,i0="truncate-text",s0="show-truncate",Th="focused",AS=`button,input,select,a,textarea,[contenteditable],[${So}],[${F0e}],[tabIndex]`,j0e={mounted(e,t){+e.getAttribute("tabindex")<=0&&e.setAttribute("tabindex","0"),e.toggleAttribute(So,!0),new B0e(e,t.value)},updated(e){RF(e)}};function RF(e){e.querySelectorAll(AS).forEach(r=>{if(r.closest(qh)===e||r.closest(qh)===r&&r.parentElement.closest(qh)===e)if(r.closest(`[${So}],.${Th}`).classList.contains(Th))r.setAttribute("tabindex","0");else{r.setAttribute("tabindex","-1");return}})}class B0e{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(t,r){this.element=t,this.highlightedItem=this.element,this.isHorizontal=r==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const i=this;t.addEventListener("keydown",function(s){i.onKeydown(s)}),t.addEventListener("focus",function(){i.onFocus()}),t.addEventListener("blur",function(){i.onBlur()}),t.addEventListener("mousedown",function(){i.onMousedown()}),t.addEventListener("touchstart",function(){i.onTouchstart()}),t.addEventListener("refocusLegendItem",s=>{const o=s.detail.focusItem;i.element.focus(),i.focusItem(o),this.highlightedItem=o}),document.addEventListener("click",function(s){s.target&&t.contains(s.target)?i.onClick(s):i.defocusItem(i.highlightedItem)})}setTabIndex(t,r=this.element){r.querySelectorAll(AS).forEach(s=>{(t===-1||s.closest(qh)===this.element||s.closest(qh)===s&&s.parentElement.closest(qh)===this.element||s.closest(`[${So}],.${Th}`).classList.contains(Th))&&s.setAttribute("tabindex",t.toString())})}defocusItem(t){t.classList.remove(Th),this.setTabIndex(-1,t),t._tippy&&t._tippy.hide(),t.getAttribute(yc)===s0&&t.querySelector(`[${i0}]`)?._tippy?.hide()}focusItem(t){t.classList.add(Th),this.setAriaActiveDescendant(t),this.setTabIndex(0,t),t.scrollIntoView({block:"nearest"}),t._tippy&&!this.isTapped&&t._tippy.show(),t.getAttribute(yc)===s0&&t.querySelector(`[${i0}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(t){this.element.setAttribute("aria-activedescendant",t.getAttribute("id"))}shiftHighlight(t,r=!1){if(this.defocusItem(this.highlightedItem),r)if(this.highlightedItem===this.element)this.highlightedItem=t[t.length-1];else{const i=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[i-1]||t[t.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=t[0];else{const i=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[i+1]||t[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(t){const r=this,i=Array.prototype.filter.call(this.element.querySelectorAll(`[${yc}]`),s=>s.closest(`[${So}]`)===r.element&&!!s.offsetParent);if(i.length!==0)switch(t.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(i,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(i);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(i,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(i);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":t.target===this.element&&this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.highlightedItem.click());break;case"Tab":const s=this.highlightedItem.querySelectorAll(AS).length===0,n=this.element.isEqualNode(t.target);this.highlightedItem!==this.element&&n&&(s&&this.defocusItem(this.highlightedItem),t.shiftKey&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(t){this.defocusItem(this.highlightedItem);let r=t.target;if(!r.hasAttribute(So))for(;r.parentElement.closest(`[${So}]`)!==this.element;)r=r.parentElement.closest(`[${So}]`);this.highlightedItem=r.closest(`[${yc}]`)||r.closest(`[${So}]`)||this.highlightedItem,r.hasAttribute(`${yc}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(yc)===s0&&this.highlightedItem.querySelector(`[${i0}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),RF(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(yc)===s0&&this.highlightedItem.querySelector(`[${i0}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const mC="focus-item",V0e={beforeMount(e,t){e.hasAttribute("id")||e.setAttribute("id",G0e()),t.value?e.setAttribute(mC,t.value):e.toggleAttribute(mC,!0)}};function G0e(){let e;do e="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(e)!==null);return e}const gT="focus-container",DF="focus-list",q0e="focus-icon",f_=`[${DF}],[${gT}]`,yC=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${DF}],[${gT}],[${q0e}],[tabIndex]`;let d_=[];const z0e={mounted(e){[...document.querySelectorAll(".inner-shell")].some(r=>r.contains(e))&&d_.push(new H0e(e))},beforeUnmount(e){d_=d_.filter(t=>t.element===e?(t.removeEventListeners(),!1):!0)}};class H0e{element;constructor(t){this.element=t,this.element.toggleAttribute(gT,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const r=this;this.element.addEventListener("keypress",function(i){r.onKeypress(i)}),this.element.addEventListener("click",function(){r.onClick()}),this.element.addEventListener("focusout",function(i){r.onFocusOut(i)}),this.element.addEventListener("focus",function(){r.onFocus()})}removeEventListeners(){const t=this;this.element.removeEventListener("keypress",function(r){t.onKeypress(r)}),this.element.removeEventListener("click",function(){t.onClick()}),this.element.removeEventListener("focusout",function(r){t.onFocusOut(r)}),this.element.removeEventListener("focus",function(){t.onFocus()})}onKeypress(t){t.target===this.element&&(t.key==="Enter"||t.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(t){this.element.contains(t.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){if(this.element.contains(document.activeElement))return;Array.prototype.filter.call(this.element.querySelectorAll(yC),()=>!0).forEach(r=>{r.tabIndex=-1})}enableTabbing(){let t;return Array.prototype.map.call(this.element.querySelectorAll(yC),r=>{(r.closest(f_)===this.element||r.closest(f_)===r&&r.parentElement.closest(f_)===this.element)&&r.offsetParent&&(r.tabIndex=0,t===void 0&&(t=r))}),t}}const W0e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Y0e="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",TS="numeric",$S="ascii",MS="alpha",wp="asciinumeric",Vd="alphanumeric",IS="domain",FF="emoji",J0e="scheme",K0e="slashscheme",p_="whitespace";function Z0e(e,t){return e in t||(t[e]=[]),t[e]}function Uc(e,t,r){t[TS]&&(t[wp]=!0,t[Vd]=!0),t[$S]&&(t[wp]=!0,t[MS]=!0),t[wp]&&(t[Vd]=!0),t[MS]&&(t[Vd]=!0),t[Vd]&&(t[IS]=!0),t[FF]&&(t[IS]=!0);for(const i in t){const s=Z0e(i,r);s.indexOf(e)<0&&s.push(e)}}function X0e(e,t){const r={};for(const i in t)t[i].indexOf(e)>=0&&(r[i]=!0);return r}function Ds(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Ds.groups={};Ds.prototype={accepts(){return!!this.t},go(e){const t=this,r=t.j[e];if(r)return r;for(let i=0;i<t.jr.length;i++){const s=t.jr[i][0],n=t.jr[i][1];if(n&&s.test(e))return n}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,r,i){for(let s=0;s<e.length;s++)this.tt(e[s],t,r,i)},tr(e,t,r,i){i=i||Ds.groups;let s;return t&&t.j?s=t:(s=new Ds(t),r&&i&&Uc(t,r,i)),this.jr.push([e,s]),s},ts(e,t,r,i){let s=this;const n=e.length;if(!n)return s;for(let o=0;o<n-1;o++)s=s.tt(e[o]);return s.tt(e[n-1],t,r,i)},tt(e,t,r,i){i=i||Ds.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const n=t;let o,a=s.go(e);if(a?(o=new Ds,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Ds,n){if(i)if(o.t&&typeof o.t=="string"){const l=Object.assign(X0e(o.t,i),r);Uc(n,l,i)}else r&&Uc(n,r,i);o.t=n}return s.j[e]=o,o}};const rt=(e,t,r,i,s)=>e.ta(t,r,i,s),dr=(e,t,r,i,s)=>e.tr(t,r,i,s),gC=(e,t,r,i,s)=>e.ts(t,r,i,s),pe=(e,t,r,i,s)=>e.tt(t,r,i,s),ca="WORD",OS="UWORD",UF="ASCIINUMERICAL",jF="ALPHANUMERICAL",Em="LOCALHOST",CS="TLD",PS="UTLD",dg="SCHEME",ah="SLASH_SCHEME",vT="NUM",NS="WS",bT="NL",xp="OPENBRACE",Sp="CLOSEBRACE",Lv="OPENBRACKET",kv="CLOSEBRACKET",Rv="OPENPAREN",Dv="CLOSEPAREN",Fv="OPENANGLEBRACKET",Uv="CLOSEANGLEBRACKET",jv="FULLWIDTHLEFTPAREN",Bv="FULLWIDTHRIGHTPAREN",Vv="LEFTCORNERBRACKET",Gv="RIGHTCORNERBRACKET",qv="LEFTWHITECORNERBRACKET",zv="RIGHTWHITECORNERBRACKET",Hv="FULLWIDTHLESSTHAN",Wv="FULLWIDTHGREATERTHAN",Yv="AMPERSAND",Jv="APOSTROPHE",Kv="ASTERISK",dl="AT",Zv="BACKSLASH",Xv="BACKTICK",Qv="CARET",vl="COLON",_T="COMMA",e1="DOLLAR",vo="DOT",t1="EQUALS",wT="EXCLAMATION",en="HYPHEN",Ep="PERCENT",r1="PIPE",i1="PLUS",s1="POUND",Ap="QUERY",xT="QUOTE",BF="FULLWIDTHMIDDLEDOT",ST="SEMI",bo="SLASH",Tp="TILDE",n1="UNDERSCORE",VF="EMOJI",o1="SYM";var GF=Object.freeze({__proto__:null,ALPHANUMERICAL:jF,AMPERSAND:Yv,APOSTROPHE:Jv,ASCIINUMERICAL:UF,ASTERISK:Kv,AT:dl,BACKSLASH:Zv,BACKTICK:Xv,CARET:Qv,CLOSEANGLEBRACKET:Uv,CLOSEBRACE:Sp,CLOSEBRACKET:kv,CLOSEPAREN:Dv,COLON:vl,COMMA:_T,DOLLAR:e1,DOT:vo,EMOJI:VF,EQUALS:t1,EXCLAMATION:wT,FULLWIDTHGREATERTHAN:Wv,FULLWIDTHLEFTPAREN:jv,FULLWIDTHLESSTHAN:Hv,FULLWIDTHMIDDLEDOT:BF,FULLWIDTHRIGHTPAREN:Bv,HYPHEN:en,LEFTCORNERBRACKET:Vv,LEFTWHITECORNERBRACKET:qv,LOCALHOST:Em,NL:bT,NUM:vT,OPENANGLEBRACKET:Fv,OPENBRACE:xp,OPENBRACKET:Lv,OPENPAREN:Rv,PERCENT:Ep,PIPE:r1,PLUS:i1,POUND:s1,QUERY:Ap,QUOTE:xT,RIGHTCORNERBRACKET:Gv,RIGHTWHITECORNERBRACKET:zv,SCHEME:dg,SEMI:ST,SLASH:bo,SLASH_SCHEME:ah,SYM:o1,TILDE:Tp,TLD:CS,UNDERSCORE:n1,UTLD:PS,UWORD:OS,WORD:ca,WS:NS});const ea=/[a-z]/,pd=/\p{L}/u,m_=/\p{Emoji}/u,ta=/\d/,y_=/\s/,vC="\r",g_=`
`,Q0e="",ege="",v_="";let n0=null,o0=null;function tge(e=[]){const t={};Ds.groups=t;const r=new Ds;n0==null&&(n0=bC(W0e)),o0==null&&(o0=bC(Y0e)),pe(r,"'",Jv),pe(r,"{",xp),pe(r,"}",Sp),pe(r,"[",Lv),pe(r,"]",kv),pe(r,"(",Rv),pe(r,")",Dv),pe(r,"<",Fv),pe(r,">",Uv),pe(r,"",jv),pe(r,"",Bv),pe(r,"",Vv),pe(r,"",Gv),pe(r,"",qv),pe(r,"",zv),pe(r,"",Hv),pe(r,"",Wv),pe(r,"&",Yv),pe(r,"*",Kv),pe(r,"@",dl),pe(r,"`",Xv),pe(r,"^",Qv),pe(r,":",vl),pe(r,",",_T),pe(r,"$",e1),pe(r,".",vo),pe(r,"=",t1),pe(r,"!",wT),pe(r,"-",en),pe(r,"%",Ep),pe(r,"|",r1),pe(r,"+",i1),pe(r,"#",s1),pe(r,"?",Ap),pe(r,'"',xT),pe(r,"/",bo),pe(r,";",ST),pe(r,"~",Tp),pe(r,"_",n1),pe(r,"\\",Zv),pe(r,"",BF);const i=dr(r,ta,vT,{[TS]:!0});dr(i,ta,i);const s=dr(i,ea,UF,{[wp]:!0}),n=dr(i,pd,jF,{[Vd]:!0}),o=dr(r,ea,ca,{[$S]:!0});dr(o,ta,s),dr(o,ea,o),dr(s,ta,s),dr(s,ea,s);const a=dr(r,pd,OS,{[MS]:!0});dr(a,ea),dr(a,ta,n),dr(a,pd,a),dr(n,ta,n),dr(n,ea),dr(n,pd,n);const l=pe(r,g_,bT,{[p_]:!0}),c=pe(r,vC,NS,{[p_]:!0}),u=dr(r,y_,NS,{[p_]:!0});pe(r,v_,u),pe(c,g_,l),pe(c,v_,u),dr(c,y_,u),pe(u,vC),pe(u,g_),dr(u,y_,u),pe(u,v_,u);const d=dr(r,m_,VF,{[FF]:!0});pe(d,"#"),dr(d,m_,d),pe(d,Q0e,d);const p=pe(d,ege);pe(p,"#"),dr(p,m_,d);const y=[[ea,o],[ta,s]],v=[[ea,null],[pd,a],[ta,n]];for(let b=0;b<n0.length;b++)Ka(r,n0[b],CS,ca,y);for(let b=0;b<o0.length;b++)Ka(r,o0[b],PS,OS,v);Uc(CS,{tld:!0,ascii:!0},t),Uc(PS,{utld:!0,alpha:!0},t),Ka(r,"file",dg,ca,y),Ka(r,"mailto",dg,ca,y),Ka(r,"http",ah,ca,y),Ka(r,"https",ah,ca,y),Ka(r,"ftp",ah,ca,y),Ka(r,"ftps",ah,ca,y),Uc(dg,{scheme:!0,ascii:!0},t),Uc(ah,{slashscheme:!0,ascii:!0},t),e=e.sort((b,S)=>b[0]>S[0]?1:-1);for(let b=0;b<e.length;b++){const S=e[b][0],T=e[b][1]?{[J0e]:!0}:{[K0e]:!0};S.indexOf("-")>=0?T[IS]=!0:ea.test(S)?ta.test(S)?T[wp]=!0:T[$S]=!0:T[TS]=!0,gC(r,S,S,T)}return gC(r,"localhost",Em,{ascii:!0}),r.jd=new Ds(o1),{start:r,tokens:Object.assign({groups:t},GF)}}function qF(e,t){const r=rge(t.replace(/[A-Z]/g,a=>a.toLowerCase())),i=r.length,s=[];let n=0,o=0;for(;o<i;){let a=e,l=null,c=0,u=null,d=-1,p=-1;for(;o<i&&(l=a.go(r[o]));)a=l,a.accepts()?(d=0,p=0,u=a):d>=0&&(d+=r[o].length,p++),c+=r[o].length,n+=r[o].length,o++;n-=d,o-=p,c-=d,s.push({t:u.t,v:t.slice(n-c,n),s:n-c,e:n})}return s}function rge(e){const t=[],r=e.length;let i=0;for(;i<r;){let s=e.charCodeAt(i),n,o=s<55296||s>56319||i+1===r||(n=e.charCodeAt(i+1))<56320||n>57343?e[i]:e.slice(i,i+2);t.push(o),i+=o.length}return t}function Ka(e,t,r,i,s){let n;const o=t.length;for(let a=0;a<o-1;a++){const l=t[a];e.j[l]?n=e.j[l]:(n=new Ds(i),n.jr=s.slice(),e.j[l]=n),e=n}return n=new Ds(r),n.jr=s.slice(),e.j[t[o-1]]=n,n}function bC(e){const t=[],r=[];let i=0,s="0123456789";for(;i<e.length;){let n=0;for(;s.indexOf(e[i+n])>=0;)n++;if(n>0){t.push(r.join(""));for(let o=parseInt(e.substring(i,i+n),10);o>0;o--)r.pop();i+=n}else r.push(e[i]),i++}return t}const Am={defaultProtocol:"http",events:null,format:_C,formatHref:_C,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ET(e,t=null){let r=Object.assign({},Am);e&&(r=Object.assign(r,e instanceof ET?e.o:e));const i=r.ignoreTags,s=[];for(let n=0;n<i.length;n++)s.push(i[n].toUpperCase());this.o=r,t&&(this.defaultRender=t),this.ignoreTags=s}ET.prototype={o:Am,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,r){const i=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=r.t in s?s[r.t]:Am[e],typeof s=="function"&&i&&(s=s(t,r))):typeof s=="function"&&i&&(s=s(t,r.t,r)),s)},getObj(e,t,r){let i=this.o[e];return typeof i=="function"&&t!=null&&(i=i(t,r.t,r)),i},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function _C(e){return e}function zF(e,t){this.t="token",this.v=e,this.tk=t}zF.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),r=e.get("truncate",t,this),i=e.get("format",t,this);return r&&i.length>r?i.substring(0,r)+"":i},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Am.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,r=this.toHref(e.get("defaultProtocol")),i=e.get("formatHref",r,this),s=e.get("tagName",r,t),n=this.toFormattedString(e),o={},a=e.get("className",r,t),l=e.get("target",r,t),c=e.get("rel",r,t),u=e.getObj("attributes",r,t),d=e.getObj("events",r,t);return o.href=i,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Object.assign(o,u),{tagName:s,attributes:o,content:n,eventListeners:d}}};function Rb(e,t){class r extends zF{constructor(s,n){super(s,n),this.t=e}}for(const i in t)r.prototype[i]=t[i];return r.t=e,r}const wC=Rb("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),xC=Rb("text"),ige=Rb("nl"),a0=Rb("url",{isLink:!0,toHref(e=Am.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Em&&e[1].t===vl}}),Js=e=>new Ds(e);function sge({groups:e}){const t=e.domain.concat([Yv,Kv,dl,Zv,Xv,Qv,e1,t1,en,vT,Ep,r1,i1,s1,bo,o1,Tp,n1]),r=[Jv,vl,_T,vo,wT,Ep,Ap,xT,ST,Fv,Uv,xp,Sp,kv,Lv,Rv,Dv,jv,Bv,Vv,Gv,qv,zv,Hv,Wv],i=[Yv,Jv,Kv,Zv,Xv,Qv,e1,t1,en,xp,Sp,Ep,r1,i1,s1,Ap,bo,o1,Tp,n1],s=Js(),n=pe(s,Tp);rt(n,i,n),rt(n,e.domain,n);const o=Js(),a=Js(),l=Js();rt(s,e.domain,o),rt(s,e.scheme,a),rt(s,e.slashscheme,l),rt(o,i,n),rt(o,e.domain,o);const c=pe(o,dl);pe(n,dl,c),pe(a,dl,c),pe(l,dl,c);const u=pe(n,vo);rt(u,i,n),rt(u,e.domain,n);const d=Js();rt(c,e.domain,d),rt(d,e.domain,d);const p=pe(d,vo);rt(p,e.domain,d);const y=Js(wC);rt(p,e.tld,y),rt(p,e.utld,y),pe(c,Em,y);const v=pe(d,en);pe(v,en,v),rt(v,e.domain,d),rt(y,e.domain,d),pe(y,vo,p),pe(y,en,v);const b=pe(y,vl);rt(b,e.numeric,wC);const S=pe(o,en),w=pe(o,vo);pe(S,en,S),rt(S,e.domain,o),rt(w,i,n),rt(w,e.domain,o);const T=Js(a0);rt(w,e.tld,T),rt(w,e.utld,T),rt(T,e.domain,o),rt(T,i,n),pe(T,vo,w),pe(T,en,S),pe(T,dl,c);const x=pe(T,vl),_=Js(a0);rt(x,e.numeric,_);const $=Js(a0),M=Js();rt($,t,$),rt($,r,M),rt(M,t,$),rt(M,r,M),pe(T,bo,$),pe(_,bo,$);const N=pe(a,vl),C=pe(l,vl),P=pe(C,bo),k=pe(P,bo);rt(a,e.domain,o),pe(a,vo,w),pe(a,en,S),rt(l,e.domain,o),pe(l,vo,w),pe(l,en,S),rt(N,e.domain,$),pe(N,bo,$),pe(N,Ap,$),rt(k,e.domain,$),rt(k,t,$),pe(k,bo,$);const V=[[xp,Sp],[Lv,kv],[Rv,Dv],[Fv,Uv],[jv,Bv],[Vv,Gv],[qv,zv],[Hv,Wv]];for(let U=0;U<V.length;U++){const[j,Y]=V[U],f=pe($,j);pe(M,j,f),pe(f,Y,$);const m=Js(a0);rt(f,t,m);const E=Js();rt(f,r),rt(m,t,m),rt(m,r,E),rt(E,t,m),rt(E,r,E),pe(m,Y,$),pe(E,Y,$)}return pe(s,Em,T),pe(s,bT,ige),{start:s,tokens:GF}}function nge(e,t,r){let i=r.length,s=0,n=[],o=[];for(;s<i;){let a=e,l=null,c=null,u=0,d=null,p=-1;for(;s<i&&!(l=a.go(r[s].t));)o.push(r[s++]);for(;s<i&&(c=l||a.go(r[s].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,s++,u++;if(p<0)s-=u,s<i&&(o.push(r[s]),s++);else{o.length>0&&(n.push(b_(xC,t,o)),o=[]),s-=p,u-=p;const y=d.t,v=r.slice(s-u,s);n.push(b_(y,t,v))}}return o.length>0&&n.push(b_(xC,t,o)),n}function b_(e,t,r){const i=r[0].s,s=r[r.length-1].e,n=t.slice(i,s);return new e(n,r)}const Si={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function oge(){Si.scanner=tge(Si.customSchemes);for(let e=0;e<Si.tokenQueue.length;e++)Si.tokenQueue[e][1]({scanner:Si.scanner});Si.parser=sge(Si.scanner.tokens);for(let e=0;e<Si.pluginQueue.length;e++)Si.pluginQueue[e][1]({scanner:Si.scanner,parser:Si.parser});return Si.initialized=!0,Si}function HF(e){return Si.initialized||oge(),nge(Si.parser.start,e,qF(Si.scanner.start,e))}HF.scan=qF;var age={amp:"&",gt:">",lt:"<",nbsp:"",quot:'"'},lge=/^#[xX]([A-Fa-f0-9]+)$/,cge=/^#([0-9]+)$/,uge=/^([A-Za-z0-9]+)$/,hge=function(){function e(t){this.named=t}return e.prototype.parse=function(t){if(t){var r=t.match(lge);if(r)return String.fromCharCode(parseInt(r[1],16));if(r=t.match(cge),r)return String.fromCharCode(parseInt(r[1],10));if(r=t.match(uge),r)return this.named[r[1]]||"&"+r[1]+";"}},e}(),fge=/[\t\n\f ]/,dge=/[A-Za-z]/,pge=/\r\n?/g;function wi(e){return fge.test(e)}function SC(e){return dge.test(e)}function mge(e){return e.replace(pge,`
`)}var yge=function(){function e(t,r,i){i===void 0&&(i="precompile"),this.delegate=t,this.entityParser=r,this.mode=i,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var s=this.peek();if(s==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&s===`
`){var n=this.tagNameBuffer.toLowerCase();(n==="pre"||n==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var s=this.peek(),n=this.tagNameBuffer;s==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):s==="&"&&n!=="script"&&n!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(s))},tagOpen:function(){var s=this.consume();s==="!"?this.transitionTo("markupDeclarationOpen"):s==="/"?this.transitionTo("endTagOpen"):(s==="@"||s===":"||SC(s))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(s))},markupDeclarationOpen:function(){var s=this.consume();if(s==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();n==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var s=this.consume();wi(s)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var s=this.consume();wi(s)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase()))},doctypeName:function(){var s=this.consume();wi(s)?this.transitionTo("afterDoctypeName"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase())},afterDoctypeName:function(){var s=this.consume();if(!wi(s))if(s===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=n.toUpperCase()==="PUBLIC",a=n.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var s=this.peek();wi(s)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):s==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):s==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):s===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},doctypePublicIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},afterDoctypePublicIdentifier:function(){var s=this.consume();wi(s)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var s=this.consume();wi(s)||(s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},doctypeSystemIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},afterDoctypeSystemIdentifier:function(){var s=this.consume();wi(s)||s===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var s=this.consume();s==="-"?this.transitionTo("commentStartDash"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(s),this.transitionTo("comment"))},commentStartDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var s=this.consume();s==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(s)},commentEndDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+s),this.transitionTo("comment"))},commentEnd:function(){var s=this.consume();s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+s),this.transitionTo("comment"))},tagName:function(){var s=this.consume();wi(s)?this.transitionTo("beforeAttributeName"):s==="/"?this.transitionTo("selfClosingStartTag"):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(s)},endTagName:function(){var s=this.consume();wi(s)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):s==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(s)},beforeAttributeName:function(){var s=this.peek();if(wi(s)){this.consume();return}else s==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var s=this.peek();wi(s)?(this.transitionTo("afterAttributeName"),this.consume()):s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==='"'||s==="'"||s==="<"?(this.delegate.reportSyntaxError(s+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(s)):(this.consume(),this.delegate.appendToAttributeName(s))},afterAttributeName:function(){var s=this.peek();if(wi(s)){this.consume();return}else s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s))},beforeAttributeValue:function(){var s=this.peek();wi(s)?this.consume():s==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(s))},attributeValueDoubleQuoted:function(){var s=this.consume();s==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueSingleQuoted:function(){var s=this.consume();s==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueUnquoted:function(){var s=this.peek();wi(s)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):s===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(s))},afterAttributeValueQuoted:function(){var s=this.peek();wi(s)?(this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var s=this.peek();s===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var s=this.consume();(s==="@"||s===":"||SC(s))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(s))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(t){this.state=t},e.prototype.tokenize=function(t){this.reset(),this.tokenizePart(t),this.tokenizeEOF()},e.prototype.tokenizePart=function(t){for(this.input+=mge(t);this.index<this.input.length;){var r=this.states[this.state];if(r!==void 0)r.call(this);else throw new Error("unhandled state "+this.state)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var t=this.peek();return this.index++,t===`
`?(this.line++,this.column=0):this.column++,t},e.prototype.consumeCharRef=function(){var t=this.input.indexOf(";",this.index);if(t!==-1){var r=this.input.slice(this.index,t),i=this.entityParser.parse(r);if(i){for(var s=r.length;s;)this.consume(),s--;return this.consume(),i}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(t){this.tagNameBuffer+=t,this.delegate.appendToTagName(t)},e.prototype.isIgnoredEndTag=function(){var t=this.tagNameBuffer;return t==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||t==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||t==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},e}(),gge=function(){function e(t,r){r===void 0&&(r={}),this.options=r,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new yge(this,t,r.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(t){return this.tokens=[],this.tokenizer.tokenize(t),this.tokens},e.prototype.tokenizePart=function(t){return this.tokens=[],this.tokenizer.tokenizePart(t),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var t=this.token;if(t===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return t;for(var r=0;r<arguments.length;r++)if(t.type===arguments[r])return t;throw new Error("token type was unexpectedly "+t.type)},e.prototype.push=function(t){this.token=t,this.tokens.push(t)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(t){this.current("Doctype").name+=t},e.prototype.appendToDoctypePublicIdentifier=function(t){var r=this.current("Doctype");r.publicIdentifier===void 0?r.publicIdentifier=t:r.publicIdentifier+=t},e.prototype.appendToDoctypeSystemIdentifier=function(t){var r=this.current("Doctype");r.systemIdentifier===void 0?r.systemIdentifier=t:r.systemIdentifier+=t},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(t){this.current("Chars").chars+=t},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(t){this.current("Comment").chars+=t},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(t){this.current("StartTag","EndTag").tagName+=t},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(t){this.currentAttribute()[0]+=t},e.prototype.beginAttributeValue=function(t){this.currentAttribute()[2]=t},e.prototype.appendToAttributeValue=function(t){this.currentAttribute()[1]+=t},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(t){this.current().syntaxError=t},e}();function vge(e,t){var r=new gge(new hge(age),t);return r.tokenize(e)}const WF="LinkifyResult",a1="StartTag",YF="EndTag",LS="Chars",bge="Comment",_ge="Doctype";function wge(e,t){t===void 0&&(t={});const r=vge(e),i=[],s=[],n=new ET(t,Ege);for(let o=0;o<r.length;o++){const a=r[o];if(a.type===a1){i.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||n.ignoreTags.indexOf(l)>=0))continue;let u=i.length;Sge(l,r,++o,i),o+=i.length-u-1}else if(a.type!==LS)i.push(a);else{const l=xge(a.chars,n);i.push.apply(i,l)}}for(let o=0;o<i.length;o++){const a=i[o];switch(a.type){case WF:s.push(a.rendered);break;case a1:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+Tge(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",s.push(l);break}case YF:s.push(`</${a.tagName}>`);break;case LS:s.push(kS(a.chars));break;case bge:s.push(`<!--${kS(a.chars)}-->`);break;case _ge:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",s.push(l);break}}}return s.join("")}function xge(e,t){const r=HF(e),i=[];for(let s=0;s<r.length;s++){const n=r[s];n.t==="nl"&&t.get("nl2br")?i.push({type:a1,tagName:"br",attributes:[],selfClosing:!0}):!n.isLink||!t.check(n)?i.push({type:LS,chars:n.toString()}):i.push({type:WF,rendered:t.render(n)})}return i}function Sge(e,t,r,i){let s=1;for(;r<t.length&&s>0;){let n=t[r];n.type===a1&&n.tagName.toUpperCase()===e?s++:n.type===YF&&n.tagName.toUpperCase()===e&&s--,i.push(n),r++}return i}function Ege(e){let{tagName:t,attributes:r,content:i}=e;return`<${t} ${Age(r)}>${kS(i)}</${t}>`}function kS(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function JF(e){return e.replace(/"/g,"&quot;")}function Age(e){const t=[];for(const r in e){const i=e[r]+"";t.push(`${r}="${JF(i)}"`)}return t.join(" ")}function Tge(e){const t=[];for(let r=0;r<e.length;r++){const i=e[r][0],s=e[r][1]+"";t.push(`${i}="${JF(s)}"`)}return t}const $ge="truncate-text",Mge="truncate-trigger",Ige={beforeMount(e,t){!e.classList.contains("truncate")&&!t.value?.noTruncateClass&&e.classList.add("truncate"),e.toggleAttribute($ge,!0)},mounted(e,t){let r;t.value&&t.value.externalTrigger&&(r=e.closest(`[${Mge}]`)),yT(e,{content:EC(e.textContent),onShow:Oge,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:r,...t.value?.options||{}})},updated(e,t){e._tippy&&(e._tippy.setContent(EC(e.textContent)),t.value&&t.value.options&&e._tippy.setProps(t.value.options))},unmounted(e){e._tippy&&e._tippy.destroy()}};function Oge(e){if(!(e.reference.clientWidth<e.reference.scrollWidth||e.reference.clientHeight<e.reference.scrollHeight))return!1}const Cge=e=>{const t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[<>"']/g,r=>t[r])};function EC(e){if(e===null)return"";const t=Cge(e);let r=wge(t,{target:"_blank",validate:{url:i=>/^https?:\/\//.test(i)}});return r=`<div style='word-break: break-word;'>${r}</div>`,r}const Pge=["content"],Nge={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},Lge={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},kge={key:1},Rge={key:0,class:"flex"},Dge=["innerHTML"],Fge={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},Uge=st({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(e,{expose:t}){const{t:r}=nr(),i=gu(),s=Av(),n=Br("iApi"),o=av("el"),a=av("contentEl"),l=X();t({el:o});const c=e,u=et(()=>n.fixture.get("appbar")?s.temporary:[]),d=et(()=>i.mobileView),p=et(()=>i.reorderable),y=w=>w.scrollHeight>w.clientHeight,v=()=>!d.value&&!c.panel.teleport,b=w=>{c.panel.move(w),w==="left"&&io(()=>{(o.value?.querySelector(".move-left")).focus()})},S=et(()=>c.screenId?c.panel.screens[c.screenId][n.$i18n.locale.value??"en"]:null);return vi(()=>{o.value?.addEventListener("blur",()=>{o.value?._tippy?.hide()}),o.value?.addEventListener("keyup",w=>{w.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),so(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",w=>{w.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(w,T)=>{const x=$r("back"),_=$r("panel-options-menu"),$=$r("left"),M=$r("right"),N=$r("pin"),C=$r("expand"),P=$r("minimize"),k=$r("close"),V=Ot("truncate"),U=Ot("focus-item"),j=Ot("tippy");return It((he(),be("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${Me(r)(e.panel.alertName)+". "+Me(r)("panels.access")}</div>`,ref_key:"el",ref:o},[e.header?(he(),be("header",Nge,[Ze(x,{class:ur(e.panel.teleport?"display-none":"block sm:display-none"),onClick:T[0]||(T[0]=Y=>e.panel.close())},null,8,["class"]),It((he(),be("h2",Lge,[w.$slots.header?Dn(w.$slots,"header",{key:0}):(he(),be("div",kge,$t(Me(r)(e.panel.alertName)),1))])),[[V]]),w.$slots.controls?(he(),qt(_,{key:0},{default:Rr(()=>[Dn(w.$slots,"controls")]),_:3})):Lt("",!0),oe("div",{class:ur(e.panel.teleport?"flex":"display-none sm:flex")},[e.panel.teleport?Lt("",!0):(he(),be("div",Rge,[p.value?(he(),qt($,{key:0,onClick:T[1]||(T[1]=Y=>b("left")),active:!e.panel.isLeftMostPanel},null,8,["active"])):Lt("",!0),p.value?(he(),qt(M,{key:1,onClick:T[2]||(T[2]=Y=>b("right")),active:!e.panel.isRightMostPanel},null,8,["active"])):Lt("",!0),Ze(N,{onClick:T[3]||(T[3]=Y=>e.panel.pin()),active:e.panel.isPinned},null,8,["active"]),e.panel.controls&&e.panel.controls.expand?(he(),qt(C,{key:2,onClick:T[4]||(T[4]=Y=>e.panel.expand()),active:e.panel.expanded},null,8,["active"])):Lt("",!0)])),e.panel.button&&u.value?.includes(e.panel.id)?(he(),qt(P,{key:1,onClick:T[5]||(T[5]=Y=>e.panel.minimize())})):Lt("",!0),Ze(k,{onClick:T[6]||(T[6]=Y=>e.panel.close())})],2)])):Lt("",!0),e.content?(he(),be("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[w.$slots.content?Dn(w.$slots,"content",{key:0}):S.value?(he(),be("div",{key:1,innerHTML:S.value.innerHTML},null,8,Dge)):Lt("",!0)],512)):Lt("",!0),e.footer?It((he(),be("div",Fge,[Dn(w.$slots,"footer")])),[[U]]):Lt("",!0)],8,Pge)),[[j,{trigger:"manual",touch:!1,onShow:v,allowHTML:!0,maxWidth:e.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),jge={class:"relative"},Bge=["content","aria-label"],Vge=["transform"],Gge=st({__name:"pin",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const s=Ot("tippy");return he(),be("div",jge,[It((he(),be("button",{type:"button",class:ur(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Me(t)(e.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":Me(t)(e.active?"panels.controls.unpin":"panels.controls.pin")},[(he(),be("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${e.active?30:0})`},i[0]||(i[0]=[oe("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,Vge))],10,Bge)),[[s,{placement:"bottom",hideOnClick:!1}]])])}}}),qge={class:"relative"},zge=["content","aria-label"],Hge=st({__name:"close",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const s=Ot("tippy");return he(),be("div",qge,[It((he(),be("button",{type:"button",class:ur(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Me(t)("panels.controls.close"),"aria-label":Me(t)("panels.controls.close")},i[0]||(i[0]=[oe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[oe("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,zge)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Wge={class:"relative"},Yge=["content","aria-label"],Jge=st({__name:"back",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const s=Ot("tippy");return he(),be("div",Wge,[It((he(),be("button",{type:"button",class:ur(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Me(t)("panels.controls.back"),"aria-label":Me(t)("panels.controls.back")},i[0]||(i[0]=[oe("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[oe("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,Yge)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Kge={class:"w-32 h-32"},Zge=["content","aria-label"],Xge={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},Qge={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},eve=st({__name:"expand",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const s=Ot("tippy");return he(),be("div",Kge,[It((he(),be("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:Me(t)(`panels.controls.${e.active?"collapse":"expand"}`),"aria-label":Me(t)(`panels.controls.${e.active?"collapse":"expand"}`)},[e.active?(he(),be("svg",Qge,i[1]||(i[1]=[oe("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),oe("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),oe("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),oe("path",{d:"M4 12h16v2H4z"},null,-1)]))):(he(),be("svg",Xge,i[0]||(i[0]=[oe("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),oe("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),oe("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,Zge)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),tve={class:"relative"},rve=["content","aria-label"],ive=st({__name:"minimize",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const s=Ot("tippy");return he(),be("div",tve,[It((he(),be("button",{type:"button",class:ur(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":e.active}]),content:Me(t)("panels.controls.minimize"),"aria-label":Me(t)("panels.controls.minimize")},i[0]||(i[0]=[oe("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[oe("path",{d:"M0 0h24v24H0V0z",fill:"none"}),oe("path",{d:"M6 19h12v2H6z"})],-1)]),10,rve)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),sve={class:"relative"},nve=["content","aria-label"],ove=st({__name:"right",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const s=Ot("tippy");return he(),be("div",sve,[It((he(),be("button",{type:"button",class:ur(["p-8",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Me(t)("panels.controls.moveRight"),"aria-label":Me(t)("panels.controls.moveRight")},i[0]||(i[0]=[oe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[oe("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,nve)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),ave={class:"relative"},lve=["content","aria-label"],cve=st({__name:"left",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const s=Ot("tippy");return he(),be("div",ave,[It((he(),be("button",{type:"button",class:ur(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Me(t)("panels.controls.moveLeft"),"aria-label":Me(t)("panels.controls.moveLeft")},i[0]||(i[0]=[oe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[oe("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,lve)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),uve=st({__name:"panel-options-menu",setup(e){const{t}=nr();return(r,i)=>(he(),qt(aT,{class:"flex",tooltip:Me(t)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:Rr(()=>i[0]||(i[0]=[oe("div",{class:"p-6"},[oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[oe("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:Rr(()=>[Dn(r.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),hve=Ra(uve,[["__scopeId","data-v-5a275ac2"]]),fve={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},dve={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},pve=st({__name:"fullscreen-nav",setup(e){const{t}=nr(),r=Br("iApi"),i=()=>{r.toggleFullscreen()};return(s,n)=>{const o=$r("mapnav-button");return he(),qt(o,{onClickFunction:i,tooltip:Me(t)("mapnav.fullscreen")},{default:Rr(()=>[Me(r).isFullscreen?(he(),be("svg",fve,n[0]||(n[0]=[oe("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),oe("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(he(),be("svg",dve,n[1]||(n[1]=[oe("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),oe("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),mve=st({__name:"geolocator-nav",setup(e){const{t}=nr(),r=Br("iApi");let i=ui([]);const s=async()=>{if(i.length)n(i);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?r.notify.show(pn.ERROR,t("mapnav.geolocator.error.permission")):r.notify.show(pn.ERROR,t("mapnav.geolocator.error.internal"))});a&&(i=[a.coords.longitude,a.coords.latitude],n(i))}},n=a=>{const l=new Zi("geolocation",a,je.latLongSR(),!0);r.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=$r("mapnav-button");return he(),qt(c,{onClickFunction:s,tooltip:Me(t)("mapnav.geolocator")},{default:Rr(()=>l[0]||(l[0]=[oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[oe("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),yve=st({__name:"home-nav",setup(e){const{t}=nr(),r=Br("iApi"),i=()=>{const s=r.geo.map.getExtentSet();r.geo.map.zoomMapTo(s.fullExtent)};return(s,n)=>{const o=$r("mapnav-button");return he(),qt(o,{onClickFunction:i,tooltip:Me(t)("mapnav.home")},{default:Rr(()=>n[0]||(n[0]=[oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[oe("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),oe("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),gve={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},vve=["content","aria-label"],bve=st({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1},showOutline:{type:Boolean,default:!1}},setup(e){return(t,r)=>{const i=Ot("focus-item"),s=Ot("tippy");return he(),be("div",gve,[It((he(),be("button",{type:"button",class:ur(["w-full h-full default-focus-style",[e.showOutline?"focus:outline focus:outline-2 focus:outline-blue-400 focus:absolute focus:z-50":"focus:outline-none"]]),onClick:r[0]||(r[0]=n=>e.onClickFunction()),content:e.tooltip,"aria-label":typeof e.tooltip=="string"?e.tooltip:""},[Dn(t.$slots,"default")],10,vve)),[[i],[s,{placement:"left"}]])])}}}),_ve={class:"relative",tabindex:"-1"},wve=["aria-label","content"],xve=st({__name:"button",props:{onClickFunction:{type:Function,required:!0},buttonId:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){const t=Br("iApi"),r=e,i=()=>t.event.emit(Oe.APPBAR_BUTTON_CLICK,r.buttonId);return(s,n)=>{const o=Ot("focus-item"),a=Ot("tippy");return he(),be("div",_ve,[It((he(),be("button",{type:"button",class:"py-6 w-full h-full",onClick:n[0]||(n[0]=()=>{e.onClickFunction(),i()}),"aria-label":String(e.tooltip),content:`<div style='word-break: break-word;'>${e.tooltip}</div>`},[Dn(s.$slots,"default",{},void 0,!0)],8,wve)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),Sve=Ra(xve,[["__scopeId","data-v-397fda05"]]),Eve=sr("areas-of-interest",()=>({areas:X([])})),Ave=sr("export",()=>{const e=X({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),t=X("");function r(i){if(e.value[i.name]!==void 0){const s=e.value[i.name];e.value[i.name]=i.selected!==void 0?i.selected:!s}}return{componentSelectedState:e,fileName:t,toggleSelected:r}}),Tve=sr("extentguard",()=>{const e=X(!1);function t(l){e.value=l}const r=X(!1);function i(l){r.value=l}const s=X(!1);function n(l){s.value=l}const o=X([]);function a(l){o.value=l}return{active:e,setActive:t,enforcing:r,setEnforcing:i,alwaysOn:s,setAlwaysOn:n,extentSetIds:o,setExtentSetIds:a}}),hy=function e(t){function r(s,n,o){var a,l={};if(Array.isArray(s))return s.concat(n);for(a in s)l[o?a.toLowerCase():a]=s[a];for(a in n){var c=o?a.toLowerCase():a,u=n[a];l[c]=c in l&&typeof u=="object"?r(l[c],u,c=="headers"):u}return l}function i(s,n,o,a,l){var c=typeof s!="string"?(n=s).url:s,u={config:n},d=r(t,n),p={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(p.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),p["content-type"]="application/json");try{p[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:r(d.headers,p,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var v in y)typeof y[v]!="function"&&(u[v]=y[v]);return d.responseType=="stream"?(u.data=y.body,u):y[d.responseType||"text"]().then(function(b){u.data=b,u.data=JSON.parse(b)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?u:Promise.reject(u)})})}return t=t||{},i.request=i,i.get=function(s,n){return i(s,n,"get")},i.delete=function(s,n){return i(s,n,"delete")},i.head=function(s,n){return i(s,n,"head")},i.options=function(s,n){return i(s,n,"options")},i.post=function(s,n,o){return i(s,o,"post",n)},i.put=function(s,n,o){return i(s,o,"put",n)},i.patch=function(s,n,o){return i(s,o,"patch",n)},i.all=Promise.all.bind(Promise),i.spread=function(s){return s.apply.bind(s,s)},i.CancelToken=typeof AbortController=="function"?AbortController:Object,i.defaults=t,i.create=e,i}(),$ve={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,Y:60},Mve={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class Ive{provinceList=[];listFetched=!1;constructor(t){hy.get(t).then(r=>{this.provinceList=r.data.definitions.map(s=>{const n=parseInt(s.code);return{code:n,abbr:Mve[n],name:s.description}});const i={code:-1,abbr:"...",name:"..."};this.provinceList.push(i),this.provinceList.sort((s,n)=>s.name>n.name?1:-1),this.listFetched=!0})}codeToProvince(t){return this.provinceList.find(r=>r.code===t)}nameToProvince(t){return this.provinceList.find(r=>r.name===t)}abbrToProvince(t){return this.provinceList.find(r=>r.abbr===t)}fsaToProvince(t){let r;const i=t.toUpperCase(),s=i.substring(0,1);return s==="X"?i==="X0A"||i==="X0B"||i==="X0C"?r=62:r=61:r=$ve[s],this.codeToProvince(r)}}function Ove(e){return new Ive(e)}const l0={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"Rgion De Tri D'Acheminement",NTS:"Systme National De Rfrence Cartographique",COORD:"Latitude/Longitude",SCALE:"chelle"}};class Cve{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(t,r){hy.get(r).then(i=>{i.data.definitions.forEach(s=>{l0[t][s.code]=s.term.split(`${s.code}-`)[1]}),Object.keys(l0[t]).forEach(s=>{this.allTypes[s]=l0[t][s],this.validTypes[s]=l0[t][s]}),this.typesFetched=!0})}filterValidTypes(t){if(this.filterComplete)return this.validTypes;if(t=typeof t=="string"?[t]:t,t&&t.length>0)for(const r of t)delete this.validTypes[r];return this.filterComplete=!0,this.validTypes}}function Pve(e,t){return new Cve(e,t)}function eo(e,t){return e.then(function(r){return[null,r]}).catch(function(r){return[r,void 0]})}class c0{config;query;failedServs=[];results=[];constructor(t,r=""){this.query=r,this.config=t}addResult(t){Array.isArray(t)?this.results=this.results.concat(t):this.results.push(t)}}async function Nve(e,t){let r,i;const s=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,n=/^\d{2,3}[A-P]/,o=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;return s.test(t)&&!e.disabledSearchTypes.includes("LAT/LNG")?(i=t.slice(0,-1),r=new c0(e,i),await Dve(r)):o.test(t)&&!e.disabledSearchTypes.includes("FSA")?(i=t.substring(0,3).toUpperCase(),r=new c0(e,i),await Fve(r)):n.test(t)&&!e.disabledSearchTypes.includes("NTS")?(i=t.substring(0,6).toUpperCase(),r=new c0(e,i),await Uve(r)):(i=encodeURIComponent(t.trim()),r=new c0(e,i),await jve(r)),e.customSources.length&&await Lve(r,e.customSources),r}const AT=async e=>{const[t,r]=await eo(hy.get(e));return t?(console.error("Request error from "+e),console.error(t),Promise.reject("Could not load results from remote service.")):r.data},Db=(e,t,r)=>[e+r,t-r,e-r,t+r],TT=(e,t,r,i)=>{let s="";const n=e.config;return t?s=n.geoLocateUrl+"?q="+e.query:(r&&i?s=`${n.geoNameUrl}?lat=${r}&lon=${i}&num=${n.maxResults}`:s=`${n.geoNameUrl}?q=${e.query}&num=${n.maxResults}`,n.categories.length>0&&(s+=`&concise=${n.categories.join(",")}`),n.officialOnly&&(s+="&category=O")),s},KF=(e,t)=>t.filter(r=>e.types.validTypes[r.concise.code]).map(r=>({name:r.name,flav:"nme",bbox:r.bbox,type:e.types.allTypes[r.concise.code],position:[r.longitude,r.latitude],location:{city:r.location,province:e.provinces.codeToProvince(parseInt(r.province.code))},order:e.sortOrder.indexOf(r.concise.code)>=0?e.sortOrder.indexOf(r.concise.code):e.sortOrder.length})),Lve=async(e,t)=>{const i=(await Promise.all(t.map(s=>s.onSearch(e.query)))).flat();e.addResult(i)},$T=async e=>{const[t,r]=await eo(AT(TT(e,!0)));return t?(console.error("Geolocation service failed"),e.failedServs.push("geolocation"),[]):r},kve=async e=>{const[t,r]=await eo(AT(TT(e,!1)));let i;t?(console.error("GeoName service targeting Name failed"),e.failedServs.push("geoname"),i=[]):i=r.items,e.addResult(KF(e.config,i))},Rve=async(e,t,r)=>{const[i,s]=await eo(AT(TT(e,!1,t,r)));let n;i?(console.error("GeoName service targeting Lat Lon failed"),e.failedServs.push("geoname"),n=[]):n=s.items,e.addResult(KF(e.config,n))},Dve=async e=>{const t=e.query.split(/[\s|,|;|]/).filter(n=>!isNaN(n)&&n!=="").map(n=>parseFloat(n)),r=t[0],i=t[1],s={name:`${r},${i}`,flav:"llg",location:{},type:"Latitude/Longitude",position:[i,r],bbox:Db(i,r,.015),order:-1};await Rve(e,r,i),e.addResult(s)},Fve=async e=>{const t=e.config,r=await $T(e);if(r.length){const s=r[0].geometry.coordinates,n=s[1],o=s[0],a={name:e.query,flav:"fsa",bbox:Db(o,n,.03),type:t.types.allTypes.FSA,position:[o,n],location:{province:t.provinces.fsaToProvince(e.query)},order:-1};e.addResult(a)}},Uve=async e=>{const t=e.config,r=await $T(e);if(r.length){const i=r[0],s=i.title.split(" "),n=s.shift()||"",o=s.join(" "),a=i.geometry.coordinates,l=a[1],c=a[0],u={name:n,flav:"nts",bbox:i.bbox??Db(c,l,.03),type:t.types.allTypes.NTS,position:[c,l],location:{city:o},order:-1};e.addResult(u)}},jve=async e=>{const t=e.config;if(await kve(e),t.categories.length===0||t.categories.includes("ADDR")){const r=await $T(e),i=t.sortOrder.indexOf("ADDR"),s=i>=0?i:t.sortOrder.length,n=r.filter(o=>o.type?.includes("Street")).map(o=>{const[a,l,c]=o.title.split(", "),u=o.geometry.coordinates,d=u[1],p=u[0];return{name:a,flav:"add",bbox:Db(p,d,.002),type:t.types.allTypes.ADDRESS,position:[p,d],location:{city:l.split(" Of ").pop(),province:t.provinces.nameToProvince(c)},order:s}});e.addResult(n)}},Bve="~FSA~",AC="https://geogratis.gc.ca/services/geolocation/@{language}/locate",TC="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",$C="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",MC="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json";class IC{config;constructor(t,r){let i,s,n,o;const a=r?.serviceUrls;a?(i=a.geoLocation?a.geoLocation:AC,s=a.geoNames?a.geoNames:TC,n=a.geoProvince?a.geoProvince:$C,o=a.geoTypes?a.geoTypes:MC):(i=AC,s=TC,n=$C,o=MC),i=i.replace("@{language}",t),s=s.replace("@{language}",t),n=n.replace("@{language}",t),o=o.replace("@{language}",t);let l="";const c=r?.fsaBoundaries;if(c&&c.serviceUrl){const w=c.keyField||"CFSAUID";l=`${c.serviceUrl}/query/?where=${w}%3D'${Bve}'&outFields=${w}&returnGeometry=true&f=json`}const u=r?.settings;let d,p,y,v,b,S;u?(d=u.categories?u.categories:[],p=u.sortOrder?u.sortOrder:[],y=u.disabledSearchTypes?u.disabledSearchTypes:[],v=u.maxResults>0?u.maxResults:100,b=!!u.officialOnly):(d=[],p=[],y=[],v=100,b=!1),S=r?.customSources??[],S=S.map(w=>({...w,onSearch:async T=>{const x=w.data??[],$=ZF().cleanVal(T).replace("*","");return x.filter(M=>M.name.toLowerCase().includes($)).map(M=>({name:M.name,type:w.catName,bbox:M.bbox,flav:"nme",position:[0,0],location:{province:this.config.provinces.abbrToProvince(M.prov),city:M.city},order:p.indexOf(w.code)>=0?p.indexOf(w.code):p.length}))}})),this.config={language:t,geoNameUrl:s,geoLocateUrl:i,fsaUrl:l,types:Pve(t,o),provinces:Ove(n),categories:d,sortOrder:p,disabledSearchTypes:y,maxResults:v,officialOnly:b,customSources:S},this.config.types.filterValidTypes(r?.excludeTypes),this._typeList=[],this._excludedTypes=r?.excludeTypes||[]}get typeList(){return this._typeList}set typeList(t){this._typeList=t}levenshteinDistance(t,r){r=r.toLowerCase().trim(),t=decodeURI(t.toLowerCase().replace("*",""));const i=[];for(let s=0;s<=r.length;s++){i[s]=[s];for(let n=1;n<=t.length;n++)i[s][n]=s===0?n:Math.min(i[s][n-1]+1,i[s-1][n]+.2,i[s-1][n-1]+(t[n-1]===r[s-1]?0:1))}return i[r.length][t.length]}async query(t){const r=await Nve(this.config,t.toUpperCase()),i=this.config.sortOrder.length,s=r.results.filter(l=>l.order<i),n=r.results.filter(l=>l.order>=i);s.sort((l,c)=>l.order-c.order);const o=this.config.maxResults;let a;return s.length>=o?a=s.slice(0,o):(n.forEach(l=>l.order=this.levenshteinDistance(r.query,l.name)),n.sort((l,c)=>l.order-c.order),a=s.concat(n.slice(0,o-s.length))),{results:a,failedServs:r.failedServs}}fetchProvinces(){return new Promise(t=>{const r=setInterval(()=>{this.config.provinces.listFetched&&(clearInterval(r),t(this.config.provinces.provinceList))},100)})}fetchTypes(){return new Promise(t=>{const r=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(r);const i=[],s={code:-1,name:"..."};i.push(s);const n=this.config.types.allTypes;for(const o in n)this._excludedTypes.includes(o)||i.push({code:o,name:n[o]});this.config.customSources.length&&this.config.customSources.forEach(o=>{i.some(a=>a.code===o.code)||i.push({code:o.code,name:o.catName})}),this.typeList=i,t(this.typeList)}},100)})}}function OC(e,t,r){if(e&&t.extent){const i=t.extent;r=r.filter(s=>s.bbox[0]<=i.xmax&&s.bbox[1]<=i.ymax&&s.bbox[2]>=i.xmin&&s.bbox[3]>=i.ymin)}return t.province&&t.province!=="..."&&(r=r.filter(i=>i.location.province?.name&&i.location.province.name===t.province)),t.type&&t.type!=="..."&&(r=r.filter(i=>i.type===t.type)),r}const ZF=sr("geosearch",()=>{const e=X(new IC("en",void 0)),t=X({type:"",province:"",extent:void 0}),r=X(!1),i=X(""),s=X(""),n=X(""),o=X([]),a=X([]),l=X(!1),c=X([]),u=et(()=>e.value.fetchProvinces().then(_=>(_.sort(($,M)=>$.name.localeCompare(M.name,void 0,{sensitivity:"case"})),_))),d=et(()=>new Promise(_=>{e.value.fetchTypes().then($=>{$.sort((M,N)=>M.name.localeCompare(N.name,void 0,{sensitivity:"case"})),_($)})}));function p(_,$){e.value=new IC(_,$)}function y(_){return _.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function v(_){l.value=!0;const $=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!$)o.value=[],a.value=[],l.value=!1;else if($&&$!==n.value||_){const M=setInterval(()=>{e.value.config.provinces.listFetched&&e.value.config.types.typesFetched&&(clearInterval(M),e.value.query(`${$}*`).then(N=>{c.value=N.failedServs,n.value=$,a.value=N.results;const C=OC(r.value,t.value,a.value);o.value=C||[],l.value=!1}))},250)}else{const M=OC(r.value,t.value,a.value);o.value=M||[],l.value=!1}}function b(_){t.value.province=typeof _.province>"u"?"":_.province,v(_.forceReRun)}function S(_){t.value.type=typeof _.type>"u"?"":_.type,v(_.forceReRun)}function w(_){n.value=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),i.value=_,v()}function T(_){const $={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""};_=y(_),s.value=Array.from(_).map(M=>Object.keys($).includes(M)?"["+M+$[M]+"]":M.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function x(_){if(_.visible!==void 0&&(r.value=_.visible),_.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");t.value.extent=_.extent,v()}return{GSservice:e,queryParams:t,resultsVisible:r,searchVal:i,searchRegex:s,lastSearchVal:n,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:u,getTypes:d,initService:p,runQuery:v,setProvince:b,setType:S,setSearchTerm:w,setSearchRegex:T,setMapExtent:x,cleanVal:y}}),Vve=sr("help",()=>({location:X("./help/")}));var XF=(e=>(e.Visibility="visibilityButton",e.Expand="expandButton",e))(XF||{}),RS=(e=>(e.Item="item",e.Placeholder="placeholder",e.Error="error",e))(RS||{});class QF extends Dr{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(t,r,i){super(t),this._uid=Qc.sharedUtils.generateUUID(),this._name=r.name,this._type=r.type??"placeholder",this._parent=i,this._children=[],this._loadPromise=new Nr,this._hidden=r.hidden??!1,this._expanded=r.expanded??!0,this._visibility=!0,this._exclusive=r.exclusive??!1,this._controls=r.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=r.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(t){this._name=t}get type(){return this._type}get children(){return this._children}set children(t){this._children=t}get parent(){return this._parent}set parent(t){this._parent=t}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(t){return this._disabledControls?.includes(t)?!1:this._controls?.includes(t)}setControl(t,r){r&&this._disabledControls?.includes(t)?(this._disabledControls=this._disabledControls.filter(i=>i!==t),this._controls?.push(t)):!r&&this._controls?.includes(t)&&(this._controls=this._controls.filter(i=>i!==t),this._disabledControls?.push(t))}toggleHidden(t){this._hidden=t??!this.hidden}toggleExpanded(t){this._expanded=t??!this.expanded}toggleVisibility(t,r=!0){if(this.visibility!==t){if(this._visibility=t??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof il)||this._lastVisible.layerControlAvailable(Sr.Visibility)))this._lastVisible.toggleVisibility(!0);else{const i=this.children.find(s=>!(s instanceof il)||s.layerControlAvailable(Sr.Visibility));i&&i.toggleVisibility(!0)}else this._lastVisible=this.children.find(i=>i.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&r&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(r=>r.visibility&&r!==this&&r.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(t){this instanceof il&&!this.layerControlAvailable(Sr.Visibility)||(this.exclusive?t.visibility?(this.children.forEach(r=>{r.uid!==t.uid&&r.toggleVisibility(!1,!1)}),this._lastVisible=t,this._visibility=!0,this instanceof il&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof il&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=t):this.children.some(r=>r.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(r=>r.visibility),this instanceof il&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof il&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const t={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},r=[];return this.children.forEach(i=>{r.push(i.getConfig())}),this.exclusive?t.exclusiveVisibility=r:t.children=r,t}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new Nr}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class il extends QF{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(t,r,i){if(super(t,r,i),this._type=RS.Placeholder,this._layerId=r.layerId,this._layerIdx=r.sublayerIndex,this._isSublayer=r.sublayerIndex!==void 0,this._layerControls=r.layerControls??[],this._origLayerControls=r.layerControls,this._layerDisabledControls=r.disabledLayerControls??[],this._origLayerDisabledControls=r.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=r.symbologyExpanded||!1,r.coverIcon&&(this._coverIcon=r.coverIcon),r.description&&(this._description=r.description),this._symbologyRenderStyle=r.symbologyRenderStyle??"icons",this._customSymbology=!!r.symbologyStack,this._symbologyStack=r.symbologyStack?.map(s=>({uid:this.$iApi.geo.shared.generateUUID(),label:s.text,definitionClause:s.sqlQuery,imgUrl:s.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=r.maxLines&&[1,2,3,4,5,6].includes(r.maxLines)?r.maxLines:void 0,!this._name){const s=this.$iApi.getConfig()?.layers;if(s&&Array.isArray(s)){const n=s.find(o=>o.id===this._layerId);if(n)if(this._isSublayer){if(n.sublayers&&Array.isArray(n.sublayers)){const o=n.sublayers.find(a=>a.index===this._layerIdx);o&&o.name&&(this._name=o.name)}}else n.name&&(this._name=n.name)}}}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(t){this._layer=t,this._layerId=t.id,this._layerIdx=t.isSublayer?t.layerIdx:void 0,this._layerUid=t.uid,this._name=this._name||t.name,this._symbologyStack=this._customSymbology?this._symbologyStack:t.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(t){this._layerOffscale=t}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(t){this._layerRedrawing=t}get coverIcon(){return this._coverIcon}set coverIcon(t){this._coverIcon=t}get description(){return this._description}set description(t){this._description=t}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(t){this._treeGrown=t}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(t){this._symbologyRenderStyle=t}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(t){this._symbologyStack=t}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const t={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...t}}toggleVisibility(t,r=!0,i=!1){if(!(!this.layerControlAvailable(Sr.Visibility)&&!i)&&(super.toggleVisibility(t,r),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const s=this._symbologyStack.some(n=>n.lastVisbility);this._symbologyStack.forEach(n=>{s||(n.lastVisbility=!0),n.visibility=this.visibility?n.lastVisbility:!1})}}toggleSymbology(t){return this._symbologyExpanded=t??!this._symbologyExpanded,this._symbologyExpanded}clickSymbologyByIndex(t,r){const i=this._symbologyStack[t].uid;this.clickSymbology(i,r)}symbolsVisible(){return this.symbologyStack.some(t=>t.visibility)}clickSymbology(t,r){if(!this.symbolsVisible()&&r?(this.setSymbologyVisibility(void 0,!1),this.setSymbologyVisibility(t,!0),this.toggleVisibility(!0)):this.setSymbologyVisibility(t,r),this.symbolsVisible()||this.toggleVisibility(!1),this.layer?.supportsFeatures){const i=this.symbologyStack.filter(n=>n.lastVisbility===!0).map(n=>n.definitionClause||"");let s="";i.length===0?s="1=2":i.length<this.symbologyStack.length&&(s=i.join(" OR ")),this.layer.setSqlFilter(Mi.SYMBOL,s)}}setSymbologyVisibility(t,r){this._symbologyStack.some(i=>((t===void 0||i.uid===t)&&(i.visibility=r,i.lastVisbility=r),t!==void 0&&i.uid===t))}load(t){const r=t instanceof OT?t:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);r&&(this.layer=r,this._layerRedrawing=r.mapLayer&&r.drawState!==ps.UP_TO_DATE,r.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:r.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),r.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(Oe.LAYER_VISIBILITYCHANGE,i=>{i.layer.uid===this.layer.uid&&this._type===RS.Item&&this.toggleVisibility(i.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(Oe.LAYER_DRAWSTATECHANGE,i=>{this.layer.uid===i.layer.uid&&(i.layer.drawState===ps.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=i.layer.drawState===ps.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?r.isOffscale():!1,this.handlers.push(this.$iApi.event.on(Oe.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(t){return this._layerDisabledControls?.includes(t)?!1:!!this._layerControls?.includes(t)}updateLayerControls(){const t=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=t?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=t?.disabledControls??[])}}var Gve=(e=>(e.Title="title",e.Text="text",e.Image="image",e.Markdown="markdown",e.Template="template",e))(Gve||{});class CC extends QF{_infoType;_content;constructor(t,r,i){super(t,r,i),this._infoType=r.infoType??"title",this._content=r.content??"",r.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(r.infoType||r.content)&&(this._controls=r.controls?.slice()??[XF.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(t){this._content=t}getConfig(){const t={infoType:this._infoType,content:this._content};return{...super.getConfig(),...t}}}const qve=sr("legend",()=>{const e=X(),t=X([]),r=X([]),i=X(!0),s=X(3);function n(l){if(l.parent===void 0)t.value.push(l.item);else{if(!(l.item instanceof CC)&&!(l.item instanceof il)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=u=>(u=u.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),u.forEach(d=>{d.children=c(d.children)}),u=u.filter(d=>!(d instanceof CC&&!d.children.length&&d.content==="")),u);t.value=c(t.value)}function a(l){if(l.oldItem.parent===void 0){const c=t.value,u=c.indexOf(l.oldItem);u>-1&&(t.value[u]=l.newItem),t.value=c}else{const c=l.oldItem.parent.children,u=c.indexOf(l.oldItem);u>-1&&(c[u]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:e,multilineItems:i,maxLines:s,children:t,headerControls:r,addItem:n,removeItem:o,replaceItem:a}}),zve=sr("mapnav",()=>{const e=X({}),t=X([]);function r(i){i in e.value&&delete e.value[i];const s=t.value.indexOf(i);s!==-1&&t.value.splice(s,1)}return{items:e,order:t,removeItem:r}}),Hve=sr("metadata",()=>{const e=X(""),t=X({type:"LineString",coordinates:[]});return{status:e,response:t}}),Wve=sr("northarrow",()=>{const e=X(""),t=X("");return{arrowIcon:e,poleIcon:t}}),Yve=sr("overviewmap",()=>{const e=X({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),t=X({}),r=X(!0),i=X(1.5),s=X("#FF0000"),n=X(1),o=X("#000000"),a=X(.25);function l(c){e.value.initialBasemapId=c}return{mapConfig:e,basemaps:t,startMinimized:r,expandFactor:i,borderColour:s,borderWidth:n,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),Jve=sr("scrollguard",()=>{const e=X(!1);function t(r){e.value=r}return{enabled:e,setEnabled:t}});var xi=(e=>(e[e.UPLOAD=0]="UPLOAD",e[e.FORMAT=1]="FORMAT",e[e.CONFIGURE=2]="CONFIGURE",e))(xi||{});const Kve=sr("wizard",()=>{const e={id:"Placeholder",layerType:Ce.UNKNOWN,url:""},t=X(),r=X(""),i=X(""),s=X(!0),n=X(null),o=X({config:e,configOptions:[]}),a=X(xi.UPLOAD);function l(c){switch(a.value){case xi.UPLOAD:c===xi.UPLOAD?r.value="":c===xi.FORMAT&&(a.value=xi.FORMAT);break;case xi.FORMAT:c===xi.UPLOAD?(n.value&&(r.value="",n.value=null),i.value="",a.value=xi.UPLOAD):c===xi.CONFIGURE&&(a.value=xi.CONFIGURE);break;case xi.CONFIGURE:c===xi.UPLOAD?(r.value="",i.value="",n.value=null,s.value=!0,o.value={config:e,configOptions:[]},a.value=xi.UPLOAD):c===xi.FORMAT&&(o.value={config:e,configOptions:[]},s.value=!0,a.value=xi.FORMAT);break}}return{layerSource:t,url:r,typeSelection:i,nested:s,fileData:n,layerInfo:o,currStep:a,goToStep:l}});class Zve{fixture;panel;event;geo;notify;dev;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(t,r,i){this.event=new Eue(this);const s=Xve(t,this);this.$vApp=s.app,this.$element=s.element,this.$i18n=s.i18n,this.$rootEl=s.app.$root?.$el,this.fixture=new mbe(this),this.panel=new ybe(this),this.geo=new dbe(this),this.dev=new xbe(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new Ope(this),this._isFullscreen=uo.isEnabled&&!!this.$vApp.$root&&uo.isFullscreen&&uo.element===this.$vApp.$root.$el,uo.isEnabled&&uo.onchange(()=>{this._isFullscreen=uo.isEnabled&&!!this.$vApp.$root&&uo.isFullscreen&&uo.element===this.$vApp.$root.$el}),this.initialize(!0,r,i)}initialize(t,r,i){const s=gs(this.$vApp.$pinia),n=gu(this.$vApp.$pinia),o=Iv(this.$vApp.$pinia);if(r?.configs!==void 0){const l=Object.keys(this.$i18n.messages.value);s.registerAllConfigs(r,l);const c=s.registeredConfigs[s.registeredLangs[this.$i18n.locale.value]];s.newConfig(c),s.activeBasemapConfig=c.map.basemaps.find(v=>v.id===c.map.initialBasemapId);const u=setInterval(()=>{const v=this.$vApp.$el.querySelector("#esriMap");v&&(clearInterval(u),this.geo.map.createMap(c.map,v).then(()=>{if(v._tippy.hide(0),o.setMaptipInstance(v._tippy),c.layers&&c.layers.length>0){let b=0;c.layers.forEach(S=>{const w=this.geo.layer.createLayer(S);this.geo.map.addLayer(w,b).catch(()=>{}),w.mapLayer&&b++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const v=c.panels.open.map(b=>b.id);this.panel.isRegistered(v).then(()=>{c.panels?.open?.forEach(b=>{this.panel.open({id:b.id,screen:b.screen}),b.pin&&this.panel.pin(b.id)})})}n.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},p=c.system?.zoomIcon||"globe",y=d[p]||p;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=v=>this.ui.suppressNumberLocalization?v.toString():this.$i18n.n(v,"number"),this.ui.escapeHtml=v=>{const b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return v.replace(/[<>"']/g,S=>b[S])},this.ui.isPlainText=v=>typeof v=="string"?!this.containsValidHtml(v)&&!this.representsObject(v):!1}i||(i={});const a=oh(this.$vApp.$pinia);i?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(Oe.MAP_START)),t&&(i.loadDefaultFixtures!==!1||r?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(r?.startingFixtures):t||this.fixture.restore(),i.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reloadWorker(t,r){const i=oh(this.$vApp.$pinia),s=ko(this.$vApp.$pinia),n=gs(this.$vApp.$pinia),o=rn(this.$vApp.$pinia),a=Ao(this.$vApp.$pinia),l=oS(this.$vApp.$pinia),c=!!t;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(d=>{l.removeGrid(d)}),i.started=!1,this.geo.map.destroyMap(),a.$reset(),r?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),c||(t=JSON.parse(JSON.stringify({startingFixtures:n.startingFixtures,configs:n.registeredConfigs}))),s.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,t,r),c&&this.event.emit(Oe.CONFIG_CHANGE,this.getConfig())}reload(t,r){this.reloadWorker(t,r),this.event.emit(Oe.RAMP_RELOAD)}component(t,r){if(r){const i=this.$element.component(t,r);return this.event.emit(Oe.COMPONENT,t),i}return this.$element.component(t)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const t=this.$vApp.$root.$refs["app-size"].classList;return t.contains("lg")?"lg":t.contains("md")?"md":t.contains("sm")?"sm":"xs"}getConfig(){const t=gs(this.$vApp.$pinia);return JSON.parse(JSON.stringify(t.getActiveConfig(this.language)))}useStore(t){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","keyboardnav","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(t)&&!this.fixture.exists(t)))switch(t){case"appbar":return Av(this.$vApp.$pinia);case"areas-of-interest":return Eve(this.$vApp.$pinia);case"details":return tD(this.$vApp.$pinia);case"export":return Ave(this.$vApp.$pinia);case"extentguard":return Tve(this.$vApp.$pinia);case"geosearch":return ZF(this.$vApp.$pinia);case"grid":return oS(this.$vApp.$pinia);case"help":return Vve(this.$vApp.$pinia);case"keyboardnav":return fF(this.$vApp.$pinia);case"legend":return qve(this.$vApp.$pinia);case"mapnav":return zve(this.$vApp.$pinia);case"metadata":return Hve(this.$vApp.$pinia);case"northarrow":return Wve(this.$vApp.$pinia);case"overviewmap":return Yve(this.$vApp.$pinia);case"scrollguard":return Jve(this.$vApp.$pinia);case"wizard":return Kve(this.$vApp.$pinia);case"config":return gs(this.$vApp.$pinia);case"fixture":return rn(this.$vApp.$pinia);case"instance":return oh(this.$vApp.$pinia);case"layer":return Ao(this.$vApp.$pinia);case"map-caption":return Sl(this.$vApp.$pinia);case"maptip":return Iv(this.$vApp.$pinia);case"notification":return ko(this.$vApp.$pinia);case"panel":return gu(this.$vApp.$pinia);default:console.error(`The store ${t} does not exist.`);return}}setLanguage(t){if(this.$i18n.locale.value===t)return;const r=gs(this.$vApp.$pinia),i=ko(this.$vApp.$pinia),s=r.registeredLangs;Object.keys(r.registeredConfigs).length===1&&i.clearAll();const n=this.$i18n.locale.value;this.$i18n.locale.value=t;const o=this.getConfig();s[n]!==s[t]&&(this.reloadWorker(),this.event.emit(Oe.CONFIG_CHANGE,o)),this.event.emit(Oe.LANG_CHANGE,{oldLang:n,newLang:t})}get language(){return this.$vApp.$i18n.locale}get keyboardNav(){return this.fixture.get("keyboardnav")}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){uo.isEnabled&&uo.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return oh(this.$vApp.$pinia).started}updateAlert(t){const r=this.$vApp.$el.querySelector(".screen-reader-alert");r.childNodes.length>0&&(r.innerHTML="");const i=document.createElement("span");i.setAttribute("role","alert");const s=document.createTextNode(t);i.appendChild(s),r.insertBefore(i,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const t=oh(this.$vApp.$pinia);!t.started&&this.startRequired?(this.event.emit(Oe.MAP_START),t.started=!0):t.started&&console.warn("start has already been called")}containsValidHtml(t){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(t)}representsObject(t){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(t)}}function Xve(e,t){const r=yue();r.use(({store:o})=>{const a=RO(o.$state);o.$reset=()=>o.$patch(RO(a))});const i=kfe(),s=Vl(D0e).use(i).use(P0e,{directive:"tippy",component:"tippy"}).use(r);s.directive("focus-container",z0e),s.directive("focus-list",j0e),s.directive("focus-item",V0e),s.directive("truncate",Ige),s.component("panel-screen",Uge),s.component("pin",Gge),s.component("close",Hge),s.component("back",Jge),s.component("expand",eve),s.component("panel-options-menu",hve),s.component("dropdown-menu",aT),s.component("minimize",ive),s.component("right",ove),s.component("left",cve),s.component("fullscreen-nav-button",pve),s.component("geolocator-nav-button",mve),s.component("home-nav-button",yve),s.component("mapnav-button",bve),s.component("appbar-button",Sve),s.component("transition",yb),s.component("transition-group",vb),s.config.globalProperties.$iApi=t,s.config.globalProperties.$pinia=r,s.config.idPrefix=`ramp-${e.id||Qc.sharedUtils.generateUUID()}`,s.provide("iApi",t);const n=s.mount(e);return{element:s,app:n,i18n:i.global}}class MT{esriBasemap;config;createErr=!1;constructor(t){this.config=t}static async create(t){const r=new MT(t),i=t.layers.map(o=>{const a={url:o.url,opacity:o.opacity};if(o.layerType===Ce.TILE)return gt.TileLayer(a);if(o.layerType===Ce.VECTORTILE)return gt.VectorTileLayer(a);if(o.layerType===Ce.MAPIMAGE)return gt.MapImageLayer(a);if(o.layerType===Ce.OSM)return gt.OpenStreetMapLayer(a);throw new Error(`Unsupported layer type provided to basemap config: ${o.layerType}`)}),n=(await Promise.allSettled(i)).filter(o=>o.status==="rejected"?(console.error(o.reason),r.createErr=!0,!1):!0).map(o=>{if(o.status==="fulfilled")return o.value;throw new Error("TS is fun")});return r.esriBasemap=await gt.Basemap({baseLayers:n,title:t.name||"",id:t.id}),r}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(t){this.config.name=t||""}get description(){return this.config.description}set description(t){this.config.description=t||""}get altText(){return this.config.altText}set altText(t){this.config.altText=t||""}get attribution(){return this.config.attribution}set attribution(t){this.config.attribution=t}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class Qve extends Dr{esriMap;_basemapStore;created=!1;name;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(t,r=""){super(t),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new Nr,this.handlers=[],this.pointZoomScale=5e4,this.name=r}noMapErr(){console.error(`Attempted to manipulate the ${this.name} map before calling createMap()`),console.trace()}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(t,r){const i=l=>{this.$iApi.notify.show(pn.ERROR,this.$iApi.$i18n.t("layer.error",{id:l.name}))},s=t.basemaps.map(l=>MT.create(l)),o=(await Promise.all(s)).filter(l=>(l.createErr&&i(l),l.esriBasemap.baseLayers.length>0));o.forEach(l=>{l.esriBasemap.baseLayers.forEach(c=>{Zr(()=>c.loadStatus,()=>{c.loadStatus==="loaded"?this.trackFirstBasemap=!1:c.loadStatus==="failed"&&(i(l),this.trackFirstBasemap&&this.recoverBasemap(l.tileSchemaId))})})}),this._basemapStore=o,t.labelsDefault&&(this.labelsDefault.visible=t.labelsDefault.visible);const a={};this.esriMap=ir(await gt.Map(a)),this.pointZoomScale=t.pointZoomScale&&t.pointZoomScale>0?t.pointZoomScale:5e4,this._targetDiv=r,this.createMapView(t.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(t=>t.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(t,r){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(t,r)}async createMapView(t){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new Nr,this.created=!1,this.handlers.forEach(t=>t.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(t){const r=this._basemapStore.find(i=>i.id===t);if(r)return r;throw new Error(`Invalid basemap id requested: ${t}`)}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const r=typeof t=="string"?await this.findBasemap(t):t,i=this.esriMap.basemap?.id||"";r.esriBasemap.id!==i&&(this.esriMap.basemap=Ve(r.esriBasemap))}async setBasemap(t){return this.abstractError(),!1}async recoverBasemap(t){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap?.id??void 0;this.noMapErr()}geomToMapSR(t){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(t.sr)?Promise.resolve(t):this.$iApi.geo.proj.projectGeometry(this._rampSR,t)}async zoomMapTo(t,r,i=!0,s=200,n="ease"){if(this.esriView){if(t.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(t),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Ke.POINT&&(a.scale=r||this.pointZoomScale);const l={animate:i,duration:s,easing:n};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?Qt.fromESRI(this.esriView.extent):(this.noMapErr(),Qt.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),Xp.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),je.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(t){return t>0?(this.pointZoomScale=t,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${t}.`),!1)}}class e1e extends Dr{maptipStore;constructor(t){super(t),this.maptipStore=Iv(this.$vApp.$pinia)}#e=void 0;#t=void 0;async checkAtCoord(t){this.#t=t;const r=await this.$iApi.geo.map.getGraphicAtCoord(t);if(this.#t!==t)return;if(!r){this.clear(),this.maptipStore.maptipInstance.disable();return}const i=this.$iApi.geo.layer.getLayer(r.layerId);if(i?.geomType!=Ke.POLYGON&&this.#e&&this.#e.layerId===r.layerId&&this.#e.oid===r.oid&&this.#e.layerIdx===r.layerIdx)return;if(this.clear(),this.#e=r,!i){console.error(`graphic hit test returned non-existent layer id: ${r.layerId}`);return}if(!i.hovertips)return;const s=await i.getIcon(r.oid),n=await i.getGraphic(r.oid,{getAttribs:!0});this.maptipStore.maptipInstance.enable(),this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(t)),this.$iApi.event.emit(Oe.MAP_GRAPHICHIT,{layer:i,graphicHit:r,attributes:n.attributes,icon:s,screenPoint:t})}generateDefaultMaptip(t){this.setContent(`<div class="flex items-center space-x-5"><span>${t.icon}</span><span class="line-clamp-3">${t.layer.tooltipValue(t.attributes)}</span></div>`)}clear(){this.#e=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(t){this.maptipStore.setMaptipPoint(t)}setContent(t){this.maptipStore.setMaptipContent(t)}}class t1e extends Dr{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(t){super(t),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(t){if(!t)return;const r=Sl(this.$vApp.$pinia);if(r.coords.disabled=!1,r.scale.disabled=!1,r.scale.isImperialScale=!1,t.mapCoords)if(t.mapCoords.disabled)r.coords.disabled=!0;else{const i=t.mapCoords.formatter;i!==void 0&&this.setPointFormatter(i)}if(t.scaleBar)if(t.scaleBar.disabled)r.scale.disabled=!0;else{const i=t.scaleBar.imperialScale;i!==void 0&&(r.toggleScale(i),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}r.langtoggle={disabled:t?.langToggle?.disabled??!1}}updateAttribution(t){const r={value:this.$iApi.$i18n.t("caption.attributionDefaultText")},i={altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},s={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(t?(t.logo?t.logo.disabled?s.logo.disabled=!0:(s.logo.altText=t.logo.altText||i.altText,s.logo.link=t.logo.link||i.link,s.logo.value=t.logo.value||i.value):(s.logo.altText=i.altText,s.logo.link=i.link,s.logo.value=i.value),t.text?t.text.disabled?s.text.disabled=!0:s.text.value=t.text.value||r.value:s.text.value=r.value,Sl(this.$vApp.$pinia).setAttribution(s)):(s.logo.altText=i.altText,s.logo.link=i.link,s.logo.value=i.value,s.text.value=r.value),!t||t.text?.disabled||!t.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let n="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap;if(l){const c=l.baseLayers.map(u=>new Promise(d=>{let p=0;const y=o/a,v=setInterval(function(){u.loaded&&!u.loadError?(clearInterval(v),d(u)):p>y&&(clearInterval(v),d(null)),p++},a)})).toArray();Promise.all(c).then(u=>{n=u.filter(p=>p?.copyright).map(p=>p.copyright).join(" | "),s.text.value=n||s.text.value||r.value,Sl(this.$vApp.$pinia).setAttribution(s)})}}}updateScale(){const t=Sl(this.$vApp.$pinia),r=t.scale;if(r?.disabled)return;const i=r?.isImperialScale||!1,s=this.scaleHelper().find(n=>n.isImperialScale===i)??{units:"error",pixels:1,distance:1};t.scale={width:`${s.pixels}px`,label:`${this.$iApi.$i18n.n(s.distance,"number")}${s.units}`,isImperialScale:i}}async formatPoint(t){return t?await this.pointFormatter(t):""}setPointFormatter(t){if(typeof t=="string"){if(!(t in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${t}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[t]}else this.pointFormatter=t}scaleHelper(){const t=window.innerWidth>600?70:35,r=this.$iApi.geo.map.getResolution(),i=[],s=r*t,n=1609.34,o=3.28084,a=s>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(i.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),s>1e3){const u=r*t/(c?n:1e3),d=Math.round(u).toString().length,p=Math.pow(10,d-1);i[l].distance=Math.ceil(u/p)*p,i[l].pixels=i[l].distance*(c?n:1e3)/r}else i[l].distance=Math.ceil(c?s*o:s),i[l].pixels=s/r}return i}wrapValue(t,r,i){return((t-r)%(i-r)+(i-r))%(i-r)+r}async formatLatLongDMS(t){const r=await this.$iApi.geo.proj.projectGeometry(4326,t),i=this.wrapValue(r.y,-90,90),s=this.wrapValue(r.x,-180,180),n="",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.floor(Math.abs((i-o)*60)),l=Math.floor((Math.abs(i)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(s))*(s<0?-1:1),u=Math.floor(Math.abs((s-c)*60)),d=Math.floor((Math.abs(s)-Math.abs(c)-u/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${n} ${this.$iApi.$i18n.n(u,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDDM(t){const r=await this.$iApi.geo.proj.projectGeometry(4326,t),i=this.wrapValue(r.y,-90,90),s=this.wrapValue(r.x,-180,180),n="",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.abs((i-o)*60),l=Math.floor(Math.abs(s))*(s<0?-1:1),c=Math.abs((s-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${n} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDD(t){const r=await this.$iApi.geo.proj.projectGeometry(4326,t),i=this.wrapValue(r.y,-90,90),s=this.wrapValue(r.x,-180,180),n="",o=Math.abs(i),a=Math.abs(s);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatMercator(t){const r=await this.$iApi.geo.proj.projectGeometry(102100,t);return`${this.$iApi.$i18n.n(Math.floor(r.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(r.y),"number")} m`}async formatLambert(t){const r=await this.$iApi.geo.proj.projectGeometry(3978,t);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(r.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>r.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(r.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(r.y>0?"north":"south"))}`}async formatUTM(t){const r=await this.$iApi.geo.proj.projectGeometry(4326,t),i=this.wrapValue(r.y,-90,90),s=this.wrapValue(r.x,-180,180),n=Math.ceil((s+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+n),t);return`${this.$iApi.$i18n.n(n,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(t){const r=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),t);return`${this.$iApi.$i18n.n(r.x,"number")} | ${this.$iApi.$i18n.n(r.y,"number")}`}}class r1e extends Qve{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:12e3,load:12e3,fail:9e4};constructor(t){super(t,"main"),this.maptip=new e1e(t),this.caption=new t1e(t),this.mapMouseThrottle=0}async createMap(t,r){this.setMapMouseThrottle(t.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=t.layerTimeDefault?.expectedDrawTime??12e3,this.layerDefaultTimes.load=t.layerTimeDefault?.expectedLoadTime??12e3,this.layerDefaultTimes.fail=t.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(t,r),this.viewPromise.then(()=>{this.$iApi.event.emit(Oe.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(t=>t.uid).forEach(t=>this.removeLayer(t)),super.destroyMap(),this.$iApi.event.emit(Oe.MAP_DESTROYED)}async createMapView(t){const i=gs(this.$vApp.$pinia).config.map;if(!i)throw new Error("Attempted to create map view without a map config");const s=(typeof t=="string"?await this.findBasemap(t):t)||await this.findBasemap(i.initialBasemapId),n=i.tileSchemas.find(l=>l.id===s.tileSchemaId);if(!n)throw new Error(`Could not find tile schema for the given basemap id: ${s.id}`);const o=i.extentSets.find(l=>l.id===n.extentSetId);if(!o)throw new Error(`Could not find extent set with the given id: ${n.extentSetId}`);this._rampExtentSet=Xp.fromConfig(o),this._rampSR=this._rampExtentSet.sr.clone();const a=i.lodSets.find(l=>l.id===n.lodSetId);if(!a)throw new Error(`Could not find lod set with the given id: ${n.lodSetId}`);this.esriView=ir(await gt.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:a.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:s.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:Zr(()=>this.esriView.extent,l=>{if(l){const c=this.$iApi.geo.geom.geomEsriToRamp(l,"map_extent_event");this.$iApi.event.emit(Oe.MAP_EXTENTCHANGE,c),this.$iApi.event.emit(Oe.FILTER_CHANGE,{extent:c,filterKey:Mi.EXTENT})}})}),this.handlers.push({type:"scale",handler:Zr(()=>this.esriView.scale,l=>{this.$iApi.event.emit(Oe.MAP_SCALECHANGE,l)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",l=>{this.$iApi.event.emit(Oe.MAP_RESIZED,{height:l.height,width:l.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",l=>{this.$iApi.event.emit(Oe.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",l=>{this.$iApi.event.emit(Oe.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",Tv(100,!0,l=>{this.$iApi.event.emit(Oe.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",Tv(100,l=>{this.$iApi.event.emit(Oe.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",l=>{setTimeout(()=>{this.$iApi.event.emit(Oe.MAP_MOUSELEAVE,l.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",l=>{this.$iApi.event.emit(Oe.MAP_MOUSEDOWN,l.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",l=>{this.$iApi.event.emit(Oe.MAP_KEYDOWN,l.native),l.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",l=>{this.$iApi.event.emit(Oe.MAP_KEYUP,l.native),l.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",l=>{this.$iApi.event.emit(Oe.MAP_FOCUS,l.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",l=>{this.$iApi.event.emit(Oe.MAP_BLUR,l.native)})}),this.esriView.container?this.esriView.container.addEventListener("touchmove",l=>{l.preventDefault()}):console.error("ESRI Map View is missing its container"),Zr(()=>this.esriView.fatalError,()=>{const l=new IntersectionObserver(c=>{c.forEach(u=>{u.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),l.disconnect())})});l.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(s),n.recoveryBasemap?.basemapId){const l=n.recoveryBasemap.timeout??8e3;l>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(n.id)},l)}})}destroyMapView(){this.esriView?.container?.removeEventListener("touchmove",t=>{t.preventDefault()}),super.destroyMapView()}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const r=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Ve(r.esriBasemap);const i=gs(this.$vApp.$pinia);i.activeBasemapConfig=r.config}async setBasemap(t){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const r=gs(this.$vApp.$pinia),i=await this.findBasemap(t),n=r.activeBasemapConfig.tileSchemaId!==i.tileSchemaId;if(n){const o=this.getExtent().center(),a=this.getScale();this._viewPromise=new Nr,this.created=!1,this.$iApi.event.emit(Oe.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(i),await this.viewPromise.then(()=>{this.$iApi.event.emit(Oe.MAP_REFRESH_END),this.$iApi.event.emit(Oe.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:n});const l=this.findClosestScale(a);this.$iApi.geo.proj.projectGeometry(this._rampSR,o).then(c=>this.zoomMapTo(c,l,!1))})}else{await this.applyBasemap(i);const o=await gt.ColorBackground({color:new Oa(i.backgroundColour).toESRI()});this.esriView.background=o,this.$iApi.event.emit(Oe.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:n})}return n}async recoverBasemap(t){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const i=gs(this.$vApp.$pinia).config.map;if(i){const s=i.tileSchemas.find(n=>n.id===t);if(s?.recoveryBasemap?.basemapId){const n=await this.findBasemap(s.recoveryBasemap.basemapId);await this.applyBasemap(n)}}}addLayer(t,r=void 0){return new Promise((i,s)=>{if(this.esriMap||(this.noMapErr(),s()),t.initiationState!==Xt.INITIATING&&t.initiationState!==Xt.INITIATED&&t.layerState!==vr.ERROR&&t.initiate(),t.mapLayer&&r===void 0){const c=this.$iApi.geo.layer.layerOrderIds();if(t.isCosmetic)r=c.length;else{const u=this.$iApi.geo.layer.allLayers();let d=!0;for(let p=c.length-1;p>=0&&d;p--){const y=u.find(v=>v.id===c[p]);y&&!y.isCosmetic&&(r=p+1,d=!1)}d&&(r=0)}}Ao(this.$vApp.$pinia).addLayer(t,r),this.$iApi.event.emit(Oe.LAYER_REGISTERED,t);const o=Date.now();let a=0;const l=setInterval(()=>{a+=250,a>=t.expectedTime.fail||t.layerState===vr.ERROR?(clearInterval(l),t.lastCancel<o&&console.error(`Failed to add layer: ${t.id}.`),s()):t.initiationState===Xt.INITIATED&&(t.esriLayer||!t.mapLayer)&&(clearInterval(l),t.mapLayer?this.insertToEsriMap(t):t.onLoad(),i())},250)})}insertToEsriMap(t){let r=0;const i=this.$iApi.geo.layer.getLayerPosition(t.id)??-1;if(i>0){const s=this.$iApi.geo.layer.layerOrderIds(),n=this.$iApi.geo.layer.allLayers();for(let o=i-1;o>-1;o--){const a=s[o],l=n.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){r=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}i>-1&&this.esriMap?.add(t.esriLayer,r)}reorder(t,r,i=!1){if(r<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(t.isSublayer&&(t=t.parentLayer),!t.mapLayer){console.error("Attempted to reorder a data layer");return}const s=this.$iApi.geo.layer.allLayers();let n=this.$iApi.geo.layer.layerOrderIds();if(i){if(t.isCosmetic)return;if(r>0){const l=n.filter(c=>{const u=s.find(d=>d.id===c);return u?!u.isCosmetic:(console.error("Layer reorder had critical error"),!1)});r>=l.length&&(console.error("non-cosmetic reorder index was too high"),r=l.length-1),r=n.indexOf(l[r])}}else r>=n.length&&(console.error("reorder index was too high"),r=n.length-1);const o=n.indexOf(t.id);if(o===r)return;if(Ao(this.$vApp.$pinia).reorderLayer(t,r),t.esriLayer&&this.esriMap.layers.indexOf(t.esriLayer)>-1){let l=0;if(r>0){n=this.$iApi.geo.layer.layerOrderIds();for(let c=r-1;c>-1;c--){const u=n[c],d=s.find(p=>p.id===u);if(d&&d.esriLayer){const p=this.esriMap.layers.indexOf(d.esriLayer);if(p>-1){const y=r<o?1:0;l=p+y;break}}else d||console.error("Layer reorder had critical error")}}this.esriMap.reorder(t.esriLayer,l)}this.$iApi.event.emit(Oe.MAP_REORDER,{layer:t,newIndex:r})}removeSublayer(t){let r,i;if(typeof t=="string")r=t,i=this.$iApi.geo.layer.getLayer(r);else{if(!t.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${t}`);r=t.uid,i=t}if(!i)throw new Error("Sublayer could not be found for removal.");i.visibility=!1,i.isRemoved=!0,this.$iApi.event.emit(Oe.LAYER_REMOVE,t),i.parentLayer?.sublayers.every(s=>s.isRemoved)&&this.removeLayer(i.parentLayer)}removeLayer(t){if(!this.esriMap){this.noMapErr();return}let r;if(t instanceof OT?r=t:r=this.$iApi.geo.layer.getLayer(t),!r)throw new Error("Layer could not be found for removal.");if(r.isSublayer){this.removeSublayer(r);return}r.supportsSublayers&&r.sublayers.forEach(s=>{s.isRemoved||this.removeSublayer(s)});const i=Ao(this.$vApp.$pinia);i.removeLayer(r),i.removeLayerConfig(r.id),r.removeEsriLayer(),r.initiationState===Xt.INITIATED&&r.terminate(),r.isRemoved=!0,this.$iApi.event.emit(Oe.LAYER_REMOVE,r)}setMapMouseThrottle(t){if(t<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=t;const r=this.handlers.findIndex(i=>i.type==="pointer-move");if(r!==-1){const i=this.handlers[r];this.handlers.splice(r,1),i.handler.remove()}return r!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return gl(this.mapMouseThrottle,t=>{this.$iApi.event.emit(Oe.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(t))})}async zoomToLevel(t){if(this.esriView)return this.esriView.goTo({zoom:t});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(t){if(!this.esriView){this.noMapErr();return}const r=t.isOffScale(this.getScale());if(!r.offScale)return;const i=this.esriView.constraints.lods;if(!i)return this.zoomMapTo(this.getExtent().center(),(r.zoomIn,t.minScale));const s=r.zoomIn?i:[...i].reverse(),n=s.find(o=>r.zoomIn?o.scale<t.minScale:o.scale>t.maxScale)||s[s.length-1];return this.zoomToLevel(n.level)}findClosestScale(t){const r=this.esriView?.constraints.lods;if(!r)return t;const i=r.map(n=>Math.abs(n.scale-t)),s=i.indexOf(Math.min(...i));return r[s].scale}async takeScreenshot(t){if(this.esriView)return t.quality||(t.quality=1),t.format||(t.format="png"),this.esriView.takeScreenshot(t);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(t){return this.esriView?Zi.fromESRI(this.esriView.toMap({x:t.screenX,y:t.screenY}),"mappoint"):(this.noMapErr(),new Zi("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(t){if(this.esriView){const r=this.esriView.toScreen(t.toESRI());return{screenX:r.x,screenY:r.y}}else return this.noMapErr(),{screenX:1,screenY:1}}async symbolIdentify(t,r){await this.viewPromise;const s=(await this.esriView.hitTest({x:t,y:r})).results.filter(o=>o.type==="graphic").map(async o=>{const a=o.layer;if(o.graphic.isAggregate===!0){const l=await this.esriView.whenLayerView(a),c=l.createQuery();return c.aggregateIds=[o.graphic.getObjectId()],(await l.queryFeatures(c)).features.map(d=>({layerId:a.id,layerIdx:0,oid:d.getObjectId()}))}else return{layerId:a.id,layerIdx:0,oid:o.graphic.getObjectId()}});return(await Promise.all(s)).flat()}runIdentify(t){const r=this.$iApi.geo.layer.allLayersOnMap(!1).filter(u=>u.canIdentify());let i;if(t instanceof Zi){const u=this.mapPointToScreenPoint(t);i={mapPoint:t,screenX:u.screenX,screenY:u.screenY,button:0,input:"mouse",clickTime:Date.now()}}else i=t;const s=this.$iApi.fixture.get("draw");if(s&&this.esriView&&(s.store.activeTool||s.store.selectedGraphicId!==null))return{click:i,results:[]};if(r===void 0)return{click:i,results:[]};let n=Promise.resolve([]);r.some(u=>u.identifyMode===Yr.HYBRID||u.identifyMode===Yr.SYMBOLIC)&&(n=this.symbolIdentify(i.screenX,i.screenY));const o={geometry:i.mapPoint,hitTest:n},a=r.filter(u=>u.supportsIdentify).map(u=>(o.tolerance=i.input=="touch"?u.touchTolerance:u.mouseTolerance,u.runIdentify(o))).flat(),l=Date.now();a.forEach(u=>{u.requestTime=l});const c={results:a,click:i};return this.$iApi.event.emit(Oe.MAP_IDENTIFY,c),c}async getGraphicAtCoord(t){if(!this.esriView){this.noMapErr();return}const r=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===Ce.GRAPHIC);if(r.length===0)return;const i=await this.esriView.hitTest({x:t.screenX,y:t.screenY});if(i.results.length===0)return;const s=i.results.filter(l=>l.type==="graphic");let n,o;const a=new Set;if(s.some(l=>{if(!l.layer||a.has(l.layer.id))return!1;const c=r.find(u=>u.id===l.layer.id);return c?(c.isCosmetic||c.layerType===Ce.GRAPHIC||l.graphic.isAggregate||(n=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),n&&o)return{oid:o.getObjectId(),layerId:n.id,layerIdx:n.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(t){const r=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this._activeKeys.some(s=>r.includes(s))||this.keyPan()):r.includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this.keyZoom(t)):t.key==="Enter"?this.runIdentify(this.getExtent().center()):t.key==="Tab"&&this._activeKeys.push(t.key)}mapKeyUp(t){const r=["=","-"];this._activeKeys.includes(t.key)&&!r.includes(t.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this._activeKeys.some(i=>r.includes(i))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(t=>!["Control","Shift"].includes(t)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(t){clearInterval(this._panInterval),t.key==="="?await this.zoomIn():t.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const t=this.getExtent().center(),r=this.mapPointToScreenPoint(t),i=this.screenPointToMapPoint({screenX:r.screenX+5,screenY:r.screenY+5}),s=Math.abs(i.x-t.x),n=Math.abs(i.y-t.y);let o=0,a=0,l=1;for(let u=0;u<this._activeKeys.length;++u)switch(this._activeKeys[u]){case"ArrowLeft":o-=s;break;case"ArrowRight":o+=s;break;case"ArrowUp":a+=n;break;case"ArrowDown":a-=n;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{t.x+=l*o,t.y+=l*a,this.zoomMapTo(t,c,!1)},25)}}const i1e={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},s1e={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},n1e={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},o1e={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},a1e={circlePoint:i1e,solidLine:s1e,outlinedPoly:n1e,boundingBoxPoly:o1e};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var l1e=function(t,r){for(var i=0;i<t.length;i++)if(t[i]!==r[i])return!1;return!0},PC=function(t){return l1e(t[0],t[t.length-1])||t.push(t[0]),t},NC=function(t){var r=0,i=0,s=t.length,n=t[i],o;for(i;i<s-1;i++)o=t[i+1],r+=(o[0]-n[0])*(o[1]+n[1]),n=o;return r>=0},c1e=function(t){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return r},eU=function(t){var r=[],i=t.slice(0),s=PC(i.shift().slice(0));if(s.length>=4){NC(s)||s.reverse(),r.push(s);for(var n=0;n<i.length;n++){var o=PC(i[n].slice(0));o.length>=4&&(NC(o)&&o.reverse(),r.push(o))}}return r},u1e=function(t){for(var r=[],i=0;i<t.length;i++)for(var s=eU(t[i]),n=s.length-1;n>=0;n--){var o=s[n].slice(0);r.push(o)}return r},h1e=function e(t,r){r=r||"OBJECTID";var i={wkid:4326},s={},n;switch(t.type){case"Point":s.x=t.coordinates[0],s.y=t.coordinates[1],t.coordinates[2]!=null&&(s.z=t.coordinates[2]),s.spatialReference=i;break;case"MultiPoint":s.points=t.coordinates.slice(0),t.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"LineString":s.paths=[t.coordinates.slice(0)],t.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"MultiLineString":s.paths=t.coordinates.slice(0),t.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"Polygon":s.rings=eU(t.coordinates.slice(0)),t.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"MultiPolygon":s.rings=u1e(t.coordinates.slice(0)),t.coordinates[0][0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"Feature":t.geometry&&(s.geometry=e(t.geometry,r)),s.attributes=t.properties?c1e(t.properties):{},t.id&&(s.attributes[r]=t.id);break;case"FeatureCollection":for(s=[],n=0;n<t.features.length;n++)s.push(e(t.features[n],r));break;case"GeometryCollection":for(s=[],n=0;n<t.geometries.length;n++)s.push(e(t.geometries[n],r));break}return s};function tU(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+"]"}).join(",")+"}")}function f1e(e,t){var r=tU(e);return function(i,s){return t(r(i),s,e)}}function d1e(e){var t=Object.create(null),r=[];return e.forEach(function(i){for(var s in i)s in t||r.push(t[s]=s)}),r}function IT(e){var t=new RegExp('["'+e+`
]`),r=e.charCodeAt(0);function i(c,u){var d,p,y=s(c,function(v,b){if(d)return d(v,b-1);p=v,d=u?f1e(v,u):tU(v)});return y.columns=p,y}function s(c,u){var d={},p={},y=[],v=c.length,b=0,S=0,w,T;function x(){if(b>=v)return p;if(T)return T=!1,d;var $=b,M;if(c.charCodeAt($)===34){for(var N=$;N++<v;)if(c.charCodeAt(N)===34){if(c.charCodeAt(N+1)!==34)break;++N}return b=N+2,M=c.charCodeAt(N+1),M===13?(T=!0,c.charCodeAt(N+2)===10&&++b):M===10&&(T=!0),c.slice($+1,N).replace(/""/g,'"')}for(;b<v;){var C=1;if(M=c.charCodeAt(b++),M===10)T=!0;else if(M===13)T=!0,c.charCodeAt(b)===10&&(++b,++C);else if(M!==r)continue;return c.slice($,b-C)}return c.slice($)}for(;(w=x())!==p;){for(var _=[];w!==d&&w!==p;)_.push(w),w=x();u&&(_=u(_,S++))==null||y.push(_)}return y}function n(c,u){return u==null&&(u=d1e(c)),[u.map(l).join(e)].concat(c.map(function(d){return u.map(function(p){return l(d[p])}).join(e)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(e)}function l(c){return c==null?"":t.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:i,parseRows:s,format:n,formatRows:o}}var Fb=IT(","),p1e=Fb.parse,m1e=Fb.parseRows,y1e=Fb.format,g1e=Fb.formatRows,Ub=IT("	"),v1e=Ub.parse,b1e=Ub.parseRows,_1e=Ub.format,w1e=Ub.formatRows;const x1e=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:y1e,csvFormatRows:g1e,csvParse:p1e,csvParseRows:m1e,dsvFormat:IT,tsvFormat:_1e,tsvFormatRows:w1e,tsvParse:v1e,tsvParseRows:b1e},Symbol.toStringTag,{value:"Module"})),S1e=Vee(x1e);var gc={exports:{}},LC;function E1e(){if(LC)return gc.exports;LC=1,gc.exports=e,gc.exports.pair=n,gc.exports.format=r,gc.exports.formatPair=t,gc.exports.coordToDMS=i;function e(a,l){var c=s(a,l);return c===null?null:c.val}function t(a){return r(a.lat,"lat")+" "+r(a.lon,"lon")}function r(a,l){var c=i(a,l);return c.whole+" "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function i(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",u=c[a>=0?0:1],d=Math.abs(a),p=Math.floor(d),y=d-p,v=y*60,b=Math.floor(v),S=Math.floor((v-b)*60);return{whole:p,minutes:b,seconds:S,dir:u}}function s(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\|\]?[0-9.]+)[]?\s*(?:([0-9.]+)[']\s*)?(?:([0-9.]+)(?:''|"||)\s*)?([NSEW])?/,u=a.match(c);if(!u)return null;var d=u[0],p;if(u[1]&&u[5]?(p=u[1],d=d.slice(0,-1)):p=u[1]||u[5],p&&l.indexOf(p)===-1)return null;var y=u[2]?parseFloat(u[2]):0,v=u[3]?parseFloat(u[3])/60:0,b=u[4]?parseFloat(u[4])/3600:0,S=y<0?-1:1;return(p==="S"||p==="W")&&(S*=-1),{val:(Math.abs(y)+v+b)*S,dim:p,matched:d,remain:a.slice(d.length)}}function n(a,l){a=a.trim();var c=s(a,l);if(!c)return null;a=c.remain.trim();var u=s(a,l);return!u||u.remain?null:c.dim?o(c.val,u.val,c.dim):[c.val,u.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return gc.exports}var __,kC;function A1e(){if(kC)return __;kC=1;var e=S1e,t=E1e(),r=/(Lat)(itude)?/gi,i=/(L)(on|ng)(gitude)?/i;function s(S,w){var T,x,_;for(var $ in S)x=$.match(w),x&&(!T||x[0].length/$.length>_)&&(_=x[0].length/$.length,T=$);return T}function n(S){return s(S,r)}function o(S){return s(S,i)}function a(S){return!!S.match(r)}function l(S){return!!S.match(i)}function c(S){return typeof S=="object"?Object.keys(S).length:0}function u(S){var w=[",",";","	","|"],T=[];return w.forEach(function(x){var _=e.dsvFormat(x).parse(S);if(_.length>=1){for(var $=c(_[0]),M=0;M<_.length;M++)if(c(_[M])!==$)return;T.push({delimiter:x,arity:Object.keys(_[0]).length})}}),T.length?T.sort(function(x,_){return _.arity-x.arity})[0].delimiter:null}function d(S){return delete S.columns,S}function p(S){var w=u(S);return w?d(e.dsvFormat(w).parse(S)):null}function y(S,w,T){T||(T=w,w={}),w.delimiter=w.delimiter||",";var x=w.latfield||"",_=w.lonfield||"",$=w.crs||"",M=[],N={type:"FeatureCollection",features:M};if($!==""&&(N.crs={type:"name",properties:{name:$}}),w.delimiter==="auto"&&typeof S=="string"&&(w.delimiter=u(S),!w.delimiter)){T({type:"Error",message:"Could not autodetect delimiter"});return}var C=w.numericFields?w.numericFields.split(","):null,P=typeof S=="string"?e.dsvFormat(w.delimiter).parse(S,function(O){if(C)for(var G in O)C.includes(G)&&(O[G]=+O[G]);return O}):S;if(!P.length){T(null,N);return}var k=[],V;x||(x=n(P[0])),_||(_=o(P[0]));var U=!x||!_;if(U){for(V=0;V<P.length;V++)M.push({type:"Feature",properties:P[V],geometry:null});T(k.length?k:null,N);return}for(V=0;V<P.length;V++)if(P[V][_]!==void 0&&P[V][x]!==void 0){var j=P[V][_],Y=P[V][x],f,m,E;E=t(j,"EW"),E&&(j=E),E=t(Y,"NS"),E&&(Y=E),f=parseFloat(j),m=parseFloat(Y),isNaN(f)||isNaN(m)?k.push({message:"A row contained an invalid value for latitude or longitude",row:P[V],index:V}):(w.includeLatLon||(delete P[V][_],delete P[V][x]),M.push({type:"Feature",properties:P[V],geometry:{type:"Point",coordinates:[parseFloat(f),parseFloat(m)]}}))}T(k.length?k:null,N)}function v(S){for(var w=S.features,T={type:"Feature",geometry:{type:"LineString",coordinates:[]}},x=0;x<w.length;x++)T.geometry.coordinates.push(w[x].geometry.coordinates);return T.properties=w.reduce(function(_,$){for(var M in $.properties)_[M]||(_[M]=[]),_[M].push($.properties[M]);return _},{}),{type:"FeatureCollection",features:[T]}}function b(S){for(var w=S.features,T={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},x=0;x<w.length;x++)T.geometry.coordinates[0].push(w[x].geometry.coordinates);return T.properties=w.reduce(function(_,$){for(var M in $.properties)_[M]||(_[M]=[]),_[M].push($.properties[M]);return _},{}),{type:"FeatureCollection",features:[T]}}return __={isLon:l,isLat:a,guessLatHeader:n,guessLonHeader:o,csv:e.csvParse,tsv:e.tsvParse,dsv:e,auto:p,csv2geojson:y,toLine:v,toPolygon:b},__}var w_=A1e();const T1e={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function $1e(e){if(e.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let t=!0,r=!0;for(let i=0;i<e.features.length;i++){const s=e.features[i];Object.assign(s.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in s&&typeof s.id<"u"&&(s.properties.ID_FILE=s.id,t=!1),"OBJECTID"in s.properties&&(s.properties.OBJECTID_FILE=s.properties.OBJECTID,delete s.properties.OBJECTID,r=!1),s.id=i+1}if(t)for(let i=0;i<e.features.length;i++)delete e.features[i].properties.ID_FILE;if(r)for(let i=0;i<e.features.length;i++)delete e.features[i].properties.OBJECTID_FILE}function M1e(e,t){const r=i=>i.indexOf(" ")>-1;t.fields?.forEach(i=>{if(i.name&&r(i.name)){const s=i.name;let n,o="_",a;do n=s.replace(/ /g,o),a=t.fields?.find(l=>l.name===n),a&&(o+="_");while(a);i.alias=s,i.name=n;for(let l=0;l<e.features.length;l++){const c=e.features[l];c.properties[n]=c.properties[s],delete c.properties[s]}}})}function I1e(e,t){const r=e.features[t].geometry.geometries;if(r.length===1)e.features[t].geometry={type:r[0].type,coordinates:r[0].coordinates};else{const i=r.map(s=>s.coordinates);e.features[t].geometry={type:`Multi${r[0].type}`,coordinates:i}}}function O1e(e){return e==="MultiLineString"?"LineString":e==="MultiPolygon"?"Polygon":e}class C1e extends Dr{async fetchFileData(t,r){const i=await hy.get(t,{responseType:"arrayBuffer"});switch(r){case Ce.GEOJSON:case Ce.DATAJSON:return JSON.parse(this.arbToStr(i.data));case Ce.SHAPEFILE:case Ce.GEOJSONZIPPED:case Ce.FLATGEOBUF:case Ce.FLATGEOBUFZIPPED:return i.data;case Ce.CSV:case Ce.DATACSV:return this.arbToStr(i.data);default:console.error(`Unsupported file type passed to fetchFileData- '${r}'`)}}extractGeoJsonFields(t){if(t.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let r="";for(let o=0;o<t.features.length;o++){const a=t.features[o];if(a.geometry.type==="GeometryCollection"){const u=a.geometry.geometries;if(u===void 0||u.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const d=u[0].type;for(let p=0;p<u.length;p++)if(u[p].type!==d)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");I1e(t,o)}const c=O1e(a.geometry.type);if(r==="")r=c;else if(r!==c)throw new Error("GeoJSON file contains multiple geometry types")}const i=Object.keys(t.features[0].properties).map(o=>({name:o,type:"string"}));let s=0;const n=Object.keys(t.features[0].properties);for(;s<t.features.length;){const o=t.features[s];if(o.properties&&Object.keys(o.properties).filter(a=>n.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=i.findIndex(u=>u.name===a);i[c]={name:a,type:this.inferType(l)},n.splice(n.indexOf(a),1)}}),n.length===0)break;s++}return i}extractCsvFields(t,r=","){return w_.dsv.dsvFormat(r).parseRows(t)[0].map(s=>({name:s,type:ma.STRING}))}filterCsvLatLonFields(t,r=","){const i=w_.dsv.dsvFormat(r).parseRows(t),s=i[0],n={lat:JSON.parse(JSON.stringify(s)),lon:JSON.parse(JSON.stringify(s))};for(let o=0;o<s.length;o++)for(let a=1;a<i.length;a++){const l=Number(i[a][o]),c=n.lat.indexOf(s[o]),u=n.lon.indexOf(s[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&n.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&u!==-1&&n.lon.splice(u,1),c===-1&&u===-1)break}return n}async geoJsonToEsriJson(t,r){let i,s="",n;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:ma.OID}]};$1e(t);const a=t.features[0].geometry.type,l=T1e[a],c=JSON.parse(JSON.stringify(a1e[l]));if(r){if(r.sourceProjection&&(s=this.$iApi.geo.proj.normalizeProj(r.sourceProjection)),r.targetSR)i=r.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");r.layerId?n=r.layerId:n=this.$iApi.geo.shared.generateUUID(),r.colour&&(c.renderer.symbol.color=new Oa(r.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");s||(s=je.parseGeoJsonCrs(t.crs)),o.renderer=await gt.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(r.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(t).filter(b=>r.fieldMetadata?.fieldInfo?.find(S=>S.name===b.name)):this.extractGeoJsonFields(t)),r.fieldMetadata?.enforceOrder&&r.fieldMetadata?.fieldInfo&&r.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,r.fieldMetadata?.fieldInfo)),M1e(t,o);const u=this.$iApi.geo.proj.normalizeProj(i);if(r){if(r.latField){const b=o.fields.find(S=>S.name===r.latField||S.alias===r.latField);b&&(b.type=ma.DOUBLE)}if(r.lonField){const b=o.fields.find(S=>S.name===r.lonField||S.alias===r.lonField);b&&(b.type=ma.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([s,i]);const d=je.parseSR(i).toESRI();await this.$iApi.geo.proj.projectGeoJson(t,s,u);const p=h1e(t,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(b=>b.name);for(let b=0;b<p.length;b++){const S=p[b];S.geometry.spatialReference=d,S.geometry.type=o.geometryType,Object.keys(S.attributes).forEach(w=>{y.includes(w)?(Array.isArray(S.attributes[w])||typeof S.attributes[w]=="object")&&S.attributes[w]!=null&&(S.attributes[w]=JSON.stringify(S.attributes[w])):delete S.attributes[w]})}return(r.fieldMetadata?.fieldInfo&&r.fieldMetadata?.fieldInfo.length>0?r.fieldMetadata.fieldInfo.filter(b=>b.trim&&y.includes(b.name)).map(b=>b.name):[]).forEach(b=>{for(let S=0;S<p.length;S++){const w=p[S].attributes;typeof w[b]=="string"&&(w[b]=w[b].trim())}}),o.source=p,o.spatialReference=d,o.id=n,o}async csvToGeoJson(t,r){const i={latfield:"Lat",lonfield:"Long",delimiter:","};return r&&(r.latfield&&(i.latfield=r.latfield),r.lonfield&&(i.lonfield=r.lonfield),r.delimiter&&(i.delimiter=r.delimiter)),new Promise((s,n)=>{w_.csv2geojson(t,i,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),n(o)):(a.features.map(l=>{l.properties[i.lonfield]=l.geometry.coordinates[0],l.properties[i.latfield]=l.geometry.coordinates[1]}),s(a))})})}async shapefileToGeoJson(t){return(await ve(()=>import("./shp.min-CRz8ZI-c.js").then(i=>i.s),__vite__mapDeps([252,253]),import.meta.url)).default(t)}fgbToGeoJson(t,r){return ve(async()=>{const{geojson:s}=await import("./flatgeobuf-B3uq3Mri.js");return{geojson:s}},[],import.meta.url).then(({geojson:s})=>new Promise(n=>{let o=!1,a=null;const l=s.deserialize(new Uint8Array(t),void 0,d=>{a=d.crs,o=!0});let c=0;const u=setInterval(()=>{if(l&&o){clearInterval(u);let d;a&&(a.code&&a.code!==4326&&a.org==="EPSG"?d=new je(a.code):a.wkt?d=new je(a.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",a)),d&&(l.crs=d.toGeoJSON()),n(l)}else c+=60,c>r&&(clearInterval(u),n({}))},60)}))}inferType(t){return typeof t=="number"?ma.DOUBLE:ma.STRING}rawDataJsonParser(t,r=!1){let i;return typeof t=="string"?i=JSON.parse(t):r?i=structuredClone(t):i=t,i}async unzipSingleFile(t){const r=await ve(()=>import("./jszip.min-BBpOK5F0.js").then(o=>o.j),__vite__mapDeps([254,253]),import.meta.url),s=await new r.default().loadAsync(t),n=Object.keys(s.files)[0];if(n&&s.file(n))return await s.file(n).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(t){if(t.rawData&&t.rawData instanceof ArrayBuffer)return t.rawData;if(t.url)return this.$iApi.geo.layer.files.fetchFileData(t.url,t.layerType);throw new Error(`${t.layerType} config contains no url or invalid/missing raw data`)}arbToStr(t){return new TextDecoder("utf-8").decode(new Uint8Array(t))}}const P1e=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");class N1e extends Dr{async loadWfsData(t,r=-1,i=0,s=1e3,n={type:"FeatureCollection",features:[]},o=!1){let a={offset:i.toString(),limit:s.toString()};r===-1&&(a={resulttype:"hits"});const c=new Yg(t).updateQuery(a),[u,d]=await eo(hy.get(c));if(!d)return console.error(`WFS data failed to load for ${t}`,u),Promise.reject(u);const p=d.data;if(r===-1)return r=d.data.numberMatched,this.loadWfsData(t,r,i,s,n,o);if(n.features=n.features.concat(p.features),p.features.length<r-i){const y=Math.min(s,r-i-p.features.length);return this.loadWfsData(c,r,p.features.length+i,y,n,o)}else return o&&n.features.length>0&&n.features[0].geometry.type===yr.POINT&&n.features.forEach(y=>{const v=y.geometry.coordinates;y.properties.rvInternalCoordX=v[0],y.properties.rvInternalCoordY=v[1]}),n}reversedAxisWKIDs(){return P1e}parseCapabilities(t){const r=()=>{let o=t;if(t.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new Yg(t.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return Pr(o,{responseType:"xml"}).then(a=>a.data)},i=new Promise(o=>{r().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(r())})}),s=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,u=l.Title;let d=l.Style;const p=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(v=>{const b=v.Name;if(p.push(b),v.LegendURL){const w=v.LegendURL.OnlineResource["@_xlink:href"];y[b]=w.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:u,queryable:l["@_queryable"]==="1",layers:s(l),allStyles:p,styleToURL:y,currentStyle:p[0]}})):[]},n=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return ve(async()=>{const{XMLParser:o}=await import("./fxp-rjvO85py.js").then(a=>a.f);return{XMLParser:o}},[],import.meta.url).then(({XMLParser:o})=>i.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},u=new o(c).parse(l);if("ServiceExceptionReport"in u)return console.error(u.ServiceExceptionReport.ServiceException),[];const d=u.WMS_Capabilities.Capability;return{layers:s(d),queryTypes:n(d.Request.GetFeatureInfo)}}))}}class Tm{static makeRawItem(t,r){const i=Promise.resolve();return ui({format:t,data:r,started:!0,loaded:!0,loading:i,load(){return i}})}static makeOidItem(t,r){const i=new Nr,s={format:$h.ESRI,data:void 0,started:!1,loaded:!1,loading:i.getPromise(),async load(){if(!this.started){this.started=!0;const n=await r.getGraphic(t,{getAttribs:!0});this.data=n.attributes,this.loaded=!0,i.resolveMe()}return i.getPromise()}};return ui(s)}}class L1e extends Dr{files;ogc;constructor(t){super(t),this.files=new C1e(t),this.ogc=new N1e(t)}createLayer(t){let r;switch(t.layerType){case Ce.FEATURE:r=G1e;break;case Ce.MAPIMAGE:r=q1e;break;case Ce.GRAPHIC:r=R1e;break;case Ce.TILE:r=J1e;break;case Ce.WFS:r=X1e;break;case Ce.DATATABLE:r=ebe;break;case Ce.WMS:r=Z1e;break;case Ce.GEOJSON:r=D1e;break;case Ce.GEOJSONZIPPED:r=j1e;break;case Ce.VECTORTILE:r=K1e;break;case Ce.FLATGEOBUFZIPPED:r=V1e;break;case Ce.CSV:r=U1e;break;case Ce.DATAJSON:r=Q1e;break;case Ce.IMAGERY:r=W1e;break;case Ce.IMAGERYTILE:r=Y1e;break;case Ce.SHAPEFILE:r=F1e;break;case Ce.FLATGEOBUF:r=B1e;break;case Ce.OSM:r=H1e;break;default:throw new Error("Unsupported Layer Type "+t.layerType)}return new r(t,this.$iApi)}sublayerId(t,r){return`${t}-${r}`}getLayer(t){return Ao(this.$vApp.$pinia).getLayerByAny(t)}getSublayer(t,r){const i=Ao(this.$vApp.$pinia).getLayerById(t);if(i&&i.supportsSublayers&&r<i.sublayers.length)return i.sublayers[r]}async awaitLayer(t,r=!1){let i=this.getLayer(t);if(!i){const s=new Nr;let n=0;const o=300,a=setInterval(()=>{n+=o;const l=this.getLayer(t);if(l)clearInterval(a),s.resolveMe(l);else if(n>8e3){clearInterval(a);const c=setInterval(()=>{const u=this.getLayer(t);u&&(clearInterval(c),s.resolveMe(u))},1500)}},o);i=await s.getPromise()}return r&&await i.viewPromise(),i}async awaitSublayer(t,r){return this.awaitLayer(this.sublayerId(t,r))}getLayerPosition(t){const r=this.getLayer(t);if(r&&r.mapLayer){const i=r.isSublayer?r.parentLayer.id:r.id,s=this.layerOrderIds().findIndex(n=>n===i);return s===-1?void 0:s}else return}layerOrderIds(){return Ao(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return Ao(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(t=>t.layerState!==vr.ERROR&&t.initiationState===Xt.INITIATED)}allLayersOnMap(t=!0){const r=this.allLayers().filter(i=>i.mapLayer&&i.initiationState===Xt.INITIATED);if(t){const i=this.layerOrderIds(),s=new Map(i.map((n,o)=>[n,o]));r.sort((n,o)=>s.get(n.id)-s.get(o.id))}return r}allDataLayers(){return this.allLayers().filter(t=>!t.mapLayer&&t.initiationState===Xt.INITIATED)}allErrorLayers(){return this.allLayers().filter(t=>t.layerState===vr.ERROR)}allInitiatingLayers(){return this.allLayers().filter(t=>t.initiationState===Xt.INITIATING)}getLayerControls(t){const r=this.getLayer(t);if(!r)return;const i=r.config.controls?.slice()??[Sr.BoundaryZoom,Sr.Datatable,Sr.Identify,Sr.Metadata,Sr.Opacity,Sr.Refresh,Sr.Reload,Sr.Remove,Sr.Settings,Sr.Symbology,Sr.Visibility],s=[];return r.supportsFeatures||s.push(Sr.Datatable),r.extent===void 0&&s.push(Sr.BoundaryZoom),(r.config?.metadata||(r.isSublayer?r.parentLayer?.config?.metadata:{})||{}).url||s.push(Sr.Metadata),!r.mapLayer&&!r.config.controls?.includes(Sr.Settings)&&s.push(Sr.Settings),s.forEach(o=>{const a=i?.indexOf(o)??-1;a!==-1&&i?.splice(a,1)}),{controls:i,disabledControls:r.config.disabledControls??[]}}async loadLayerMetadata(t){if(!t.trim())throw new Error("url missing on layer server metadata request.");const[r,i]=await eo(Pr(t,{query:{f:"json"}}));if(!i)throw console.error(`Service metadata load error: ${t}`,r),new Error(`Service metadata load error: ${t}`);if(!i.data)throw console.error(`Service metadata load error: ${t}`),new Error(`Service metadata load error: ${t}`);const s=i.data,n={geometryType:Ke.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:li.UNKNOWN,mapLayer:!0};if(n.name=s.name||"",n.currentVersion=s.currentVersion||-1,n.minScale=s.effectiveMinScale||s.minScale||0,n.maxScale=s.effectiveMaxScale||s.maxScale||0,n.extent=s.extent?Qt.fromArcServer(s.extent,"layer_extent"):void 0,n.defaultVisibility=s.defaultVisibility??!0,n.canModifyLayer=s.canModifyLayer??!0,s.type==="Feature Layer"||s.type==="Table"){if(n.dataFormat=li.ESRI_FEATURE,n.displayField=s.displayField||"",Array.isArray(s.fields)){const o=await Promise.all(s.fields.map(l=>gt.FieldFromJson(l)));n.fields=o.map(l=>({name:l.name,alias:l.alias,type:l.type,length:l.length})),o.every(l=>l.type==="oid"?(n.objectIdField=l.name,!1):!0)&&(n.objectIdField=s.objectIdField||(console.error(`Encountered service with no OID defined: ${t}`),"")),s.type==="Feature Layer"?(n.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(s.geometryType),s.drawingInfo?.renderer&&(n.renderer=await gt.RendererFromJson(s.drawingInfo.renderer)),s.sourceSpatialReference&&(n.sourceSR=je.fromConfig(s.sourceSpatialReference))):n.mapLayer=!1}}else n.dataFormat=li.ESRI_RASTER;return n}async loadFeatureCount(t,r=""){if(!t)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const i={query:{f:"json",where:r||"1=1",returnCountOnly:!0,returnGeometry:!1}},[s,n]=await eo(Pr(`${t}/query`,i));return n?n.data?Number.isInteger(n.data.count)?n.data.count:(console.error(`Funny result (${n.data.count}) during feature count: ${t}`),0):(console.error(`Unable to load feature count: ${t}`),0):(console.error(`Feature count request unsuccessful: ${t}`,s),0)}}class OT extends Dr{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;get nameArcade(){return""}async setNameArcade(t){}tooltipField;get tooltipArcade(){return""}async setTooltipArcade(t){}oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;isSystem;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(t,r){super(r),this.config=t,this.id="",this.uid="",this.name="error",this.layerState=vr.NEW,this.drawState=ps.NOT_LOADED,this.initiationState=Xt.NEW,this.layerIdx=-1,this.layerFormat=Qi.UNKNOWN,this.layerType=Ce.UNKNOWN,this.dataFormat=li.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=Yr.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.tooltipField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.isSystem=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Ke.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}viewPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new Wg(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return je.latLongSR()}get visibility(){return!1}set visibility(t){}get opacity(){return 0}set opacity(t){}get scaleSet(){return new lR}set scaleSet(t){}isOffscale(t=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(t){}get touchTolerance(){return 0}set touchTolerance(t){}get drawOrder(){return[]}canIdentify(){return!1}nameValue(t){return""}tooltipValue(t){return""}runIdentify(t){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,r){return Promise.resolve(new Hn(new Hl))}getIcon(t){return Promise.resolve("")}getSqlFilter(t){return""}setSqlFilter(t,r){}applySqlFilter(t=[]){}getFilterOIDs(t=[],r=void 0){return Promise.resolve(void 0)}getGraphicExtent(t){return Promise.resolve(Qt.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(t){if(!this.isSublayer&&t)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=t}get sublayers(){return this._sublayers}onLoad(){}onError(t=!0){}updateLayerState(t,r=!1){}updateDrawState(t){}updateInitiationState(t){}uidToIdx(t){if(t===this.uid)return-1;{const r=this._sublayers.findIndex(i=>i?.uid===t);if(r===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${t}]`);return r}}getSublayer(t){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let r;if(typeof t=="string"?r=this.uidToIdx(t):r=t,this._sublayers[r]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${t}]`);return this._sublayers[r]}controlAvailable(t){const r=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(t,r)}}class rU extends OT{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;nameArcadeFormula;nameArcadeExecutor;tooltipArcadeFormula;tooltipArcadeExecutor;constructor(t,r){super(t,r),this.name=t.name||"",this.geomType=Ke.NONE,this.dataFormat=li.UNKNOWN,this.layerType=Ce.UNKNOWN,this.layerFormat=Qi.UNKNOWN;const i=r.geo.map.layerDefaultTimes;this.expectedTime.draw=t.expectedDrawTime??i.draw,this.expectedTime.load=t.expectedLoadTime??i.load,this.expectedTime.fail=t.maxLoadTime||i.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=t,this.id=t.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isSystem=t.system||!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=Yr.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=vr.NEW,this.initiationState=Xt.NEW,this.drawState=ps.NOT_LOADED,this.loadDefProm=new Nr,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.nameArcadeFormula="",this.tooltipArcadeFormula="",this.layerTree=new Wg(0,this.uid,this.name,!0)}updateInitiationState(t){this.initiationState=t,this.$iApi.event.emit(Oe.LAYER_INITIATIONSTATECHANGE,{state:t,layer:this})}updateLayerState(t,r=!1){this.layerState=t,this.$iApi.event.emit(Oe.LAYER_LAYERSTATECHANGE,{state:t,layer:this,userCancel:r})}updateDrawState(t){this.drawState=t,t===ps.REFRESH?this.startTimer("draw"):t===ps.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(Oe.LAYER_DRAWSTATECHANGE,{state:t,layer:this})}async initiate(){this.updateInitiationState(Xt.INITIATING),this.startTimer("load");const t=n=>{this.layerState!==vr.ERROR&&(console.error(n),this.onError())},r=Date.now(),i=setTimeout(()=>{r>this.lastCancel&&(this.lastCancel=Date.now(),t("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[s]=await eo(this.onInitiate());clearTimeout(i),r>this.lastCancel&&(this.drawState!==ps.UP_TO_DATE&&this.startTimer("draw"),s?t(`Init error on layer id: ${this.id} . ${s.message}`):this.updateInitiationState(Xt.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===Xt.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(Xt.TERMINATING),await Promise.all(this.sublayers.map(t=>t.terminate())),this.loadDefProm=new Nr,this.loadPromDone=!1,this.updateLayerState(vr.NEW),this.updateDrawState(ps.NOT_LOADED),this.updateInitiationState(Xt.TERMINATED)}onLoad(){const t=Date.now();let r=!1;const i=setTimeout(()=>{r=!0,this.onError()},this.expectedTime.fail);try{const s=this.onLoadActions();Promise.all(s).then(()=>{clearTimeout(i),r?this.visibility=!1:(this.stopTimer("load"),t>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new Nr),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onLoad()),this.updateLayerState(vr.LOADED)))}).catch(()=>{clearTimeout(i),this.onError()})}catch(s){console.error("Encountered error on layer load: ",s),clearTimeout(i),this.onError()}}onError(t=!0){this.layerState!==vr.ERROR&&(this.initiationState===Xt.INITIATING&&this.updateInitiationState(Xt.NEW),this.loadPromDone&&(this.loadDefProm=new Nr),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(r=>r.onError(t)),t&&this.$iApi.notify.show(pn.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(vr.ERROR,!t))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===Xt.NEW||this.initiationState===Xt.TERMINATING||this.initiationState===Xt.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===vr.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,r){return this.stubError(),Promise.resolve(new Hn(new Hl))}getIcon(t){return this.stubError(),Promise.resolve("")}getSqlFilter(t){return this.stubError(),""}setSqlFilter(t,r){this.stubError()}getFilterOIDs(t=[],r=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(t){return this.stubError(),Promise.resolve(Qt.fromParams("fake",0,0,0,0))}applySqlFilter(t=[]){this.stubError()}setCustomParameter(t,r,i=!0){this.stubError()}startTimer(t){this.stopTimer(t),this.expectedTime[t]>0&&(this.timers[t]=window.setTimeout(()=>this.$iApi.notify.show(pn.WARNING,this.$iApi.$i18n.t(`layer.long${t}`,{id:this.name||this.id})),this.expectedTime[t]))}stopTimer(t){this.timers[t]&&(clearTimeout(this.timers[t]),this.timers[t]=void 0)}async arcadeGenerator(t){const r={variables:[{name:"$attr",type:"dictionary",properties:this.fields.map(i=>{const s=this.$iApi.geo.attributes.fieldTypeToArcade(i.type);return s?{name:i.name,type:s}:(console.error(`Encountered field type with no arcade support: ${i.type} [${i.name}]`),s)}).filter(i=>!!i)}]};return gt.ArcadeExecutor(t,r)}get nameArcade(){return this.nameArcadeFormula}async setNameArcade(t){this.supportsFeatures?t.trim()===""?(this.nameArcadeFormula="",this.nameArcadeExecutor=void 0):(this.nameArcadeFormula=t,this.nameArcadeExecutor=await this.arcadeGenerator(t)):console.error("Attempted to set a name arcade function on a layer that doesn't support it.")}async nameInitializer(t,r=""){if(this.supportsFeatures){const i=(t?.nameArcade||"").trim();i&&await this.setNameArcade(i),this.nameField=(t?.nameField||"").trim()||r||this.oidField}else console.error("Attempted to init a name field on an unsupported layer.")}nameValue(t){if(t)if(this.nameArcade){const r={$attr:t};return this.nameArcadeExecutor?.execute(r)??"Arcade Error"}else return this.nameField?t[this.nameField]??"Name Field Error":"";else return""}get tooltipArcade(){return this.tooltipArcadeFormula}async setTooltipArcade(t){this.supportsFeatures?t.trim()===""?(this.tooltipArcadeFormula="",this.tooltipArcadeExecutor=void 0):(this.tooltipArcadeFormula=t,this.tooltipArcadeExecutor=await this.arcadeGenerator(t)):console.error("Attempted to set a tooltip arcade function on a layer that doesn't support it.")}async tooltipInitializer(t){if(this.supportsFeatures){const r=(t?.tooltipArcade||"").trim();r&&await this.setTooltipArcade(r),this.tooltipField=(t?.tooltipField||"").trim()}else console.error("Attempted to init a tooltip field on an unsupported layer.")}tooltipValue(t){if(t)if(this.tooltipArcade){const r={$attr:t};return this.tooltipArcadeExecutor?.execute(r)??"Arcade Error"}else return this.tooltipField?t[this.tooltipField]??this.nameValue(t):this.nameValue(t);else return""}}class Mu extends rU{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(t,r){super(t,r),this._scaleSet=new lR,this._mouseTolerance=t.mouseTolerance!=null?t.mouseTolerance:5,this._touchTolerance=t.touchTolerance!=null?t.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=t.cosmetic||!1,this.extent=t.extent?Qt.fromConfig(`${this.id}_extent`,t.extent):void 0,this.viewDefProm=new Nr,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(Zr(()=>this.esriLayer.visible,t=>{this.$iApi.event.emit(Oe.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this})})),this.esriWatches.push(Zr(()=>this.esriLayer.opacity,t=>{this.$iApi.event.emit(Oe.LAYER_OPACITYCHANGE,{opacity:t,layer:this})})),this.esriWatches.push(Zr(()=>this.esriLayer.loadStatus,t=>{const r={"not-loaded":vr.LOADING,loading:vr.LOADING,loaded:vr.LOADED,failed:vr.ERROR};t==="loaded"?this.onLoad():t==="failed"?this.onError():this.updateLayerState(r[t])})),this.esriLayer.on("layerview-create",t=>{this.esriView=ir(t.layerView),this.esriWatches.push(Zr(()=>t.layerView.updating,r=>{this.updateDrawState(r?ps.REFRESH:ps.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(t=>t.initiate())}async terminate(){this.esriWatches.forEach(t=>t.remove()),this.esriWatches=[],this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new Nr}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const t=Date.now();if(this.$iApi.event.emit(Oe.LAYER_RELOAD_START,this),this.sublayers.forEach(r=>this.$iApi.event.emit(Oe.LAYER_RELOAD_START,r)),await this.terminate(),await this.initiate(),!(this.lastCancel>t)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(Oe.LAYER_RELOAD_END,this),this.sublayers.forEach(r=>this.$iApi.event.emit(Oe.LAYER_RELOAD_END,r))}}makeEsriLayerConfig(t){return{id:t.id,url:t.url,opacity:t?.state?.opacity??1,visible:t?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(r=>r.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const t=super.onLoadActions();this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify);const r=this.$iApi.geo.proj.checkProj(this.getSR()).then(i=>i?Promise.resolve():Promise.reject());return t.push(r),t}viewPromise(){return this.viewDefProm.getPromise()}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(t){this._scaleSet=t}isOffscale(t=void 0){let r;if(typeof t>"u")if(this.mapCheck())r=this.$iApi.geo.map.getScale();else return!1;else r=t;return this.scaleSet.isOffScale(r).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=t}get touchTolerance(){return this._touchTolerance}set touchTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=t}get layerExists(){return this.initiationState===Xt.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(t){this.layerExists?this.esriLayer.visible=t:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(t=>t.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(t){this.layerExists?this.esriLayer.opacity=t:this.noLayerErr()}getSR(){return this.esriLayer?je.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),je.latLongSR())}}class CT extends Mu{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(t,r){super(t,r),this.supportsIdentify=!0,this.geomType=Ke.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new cR(t.permanentFilteredQuery||"",t.initialFilteredQuery||""),this.hovertips=t.state?.hovertips??!0,this.attribs=new sU}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}async loadLayerMetadata(t={}){if(!this.serviceUrl)return;const r=Date.now(),i=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(r<this.lastCancel))if(this.geomType=i.geometryType,this.attribs.quickCache=new oU(this.geomType),this.scaleSet.minScale=i.minScale,this.scaleSet.maxScale=i.maxScale,this.dataFormat=i.dataFormat,this.extent=this.extent??i.extent,this._serverVisibility=i.defaultVisibility,this.origRampConfig.name||(this.name=i.name??this.id),this.dataFormat===li.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===Ce.SUBLAYER?i.canModifyLayer:!0,this.fields=i.fields,this.nameField=i.displayField,this.oidField=i.objectIdField,this.sourceSR=i.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const s=t&&t.customRenderer&&t.customRenderer.type?t.customRenderer:i.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(s,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const n={supportsLimit:(i.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(Mi.PERMANENT)};this.attribs.attLoader=new nU(this.$iApi,n)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(t=>t.trim).map(t=>t.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,r){let i={},s=new Hl;const n=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(r.getAttribs||r.getStyle){const u=this.attribs.quickCache.getAttribs(t);if(u)i=u;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();i=d.features[d.oidIndex[t]]}else o=!0}if(r.getGeom){l=n.getScale();const u=this.attribs.quickCache.getGeom(t,l);if(u)s=u;else if(this.layerType===Ce.FEATURE){await this.viewPromise(),this.esriView.updating&&await new Promise(y=>{const v=Zr(()=>this.esriView.updating,b=>{b||(v.remove(),y())})});const d=await gt.Query();d.objectIds=[t],d.returnGeometry=!0;const p=await this.esriView.queryFeatures(d);if(p.features.length){const y=p.features[0],v=this.$iApi.geo.geom.geomEsriToRamp(y.geometry);this.attribs.quickCache.setGeom(t,v,l),s=v}else a=!0}else a=!0}if(o||a){const u={oid:t,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(u.mapSR=n.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(u.maxOffset=n.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(u);a&&(this.attribs.quickCache.setGeom(t,d.geometry,l),s=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(t)>"u")&&(this.attribs.quickCache.setAttribs(t,d.attributes),o&&(i=d.attributes))}const c=new Hn(s,"",r.getAttribs?i:void 0);if(r.getStyle){const u=Ve(this.renderer.getGraphicSymbol(i));c.style=this.$iApi.geo.geom.styleEsriToRamp(u)}return c}async getIcon(t){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const r=await this.getGraphic(t,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(r.attributes||{},this.renderer)}setSqlFilter(t,r){const i=this.filter.getSql(t);if(r===i)return;this.filter.setSql(t,r),this.$iApi.event.emit(Oe.FILTER_CHANGE,{uid:this.uid,filterKey:t});const s=`${this.uid}-${t}-${r}`;this._lastFilterUpdate=s,setTimeout(()=>{this._lastFilterUpdate===s&&this.applySqlFilter()},100)}applySqlFilter(t=[]){throw new Error(`attempted to apply sql filter ${t} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[],r=void 0){const i=this.filter.getCombinedSql(t),s=!!r;if(!(i||s))return;r&&this.filter.setExtent(r);const n=this.filter.sqlActiveFilters(t);let o=this.filter.getCache(n,s);if(!o){const a={filterGeometry:r,filterSql:i,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,n,s)}return o}queryOIDs(t){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const r={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(r)}async queryFeaturesDiscrete(t){const r=await this.queryOIDs(t),i={getGeom:!!t.includeGeometry,getAttribs:!0};return r.map(s=>({oid:s,graphic:this.getGraphic(s,i)}))}async queryFeatures(t){const r=await this.queryFeaturesDiscrete(t);return Promise.all(r.map(i=>i.graphic))}configDrawOrder(t,r){Array.isArray(t.drawOrder)&&t.drawOrder.length>0&&(r.orderBy=t.drawOrder.map(i=>{const s=i.ascending??!0?"ascending":"descending";return i.field?{field:i.field,order:s}:{valueExpression:i.arcade,order:s}}),this._drawOrder=t.drawOrder.slice())}}class k1e extends Mu{constructor(t,r){super(t,r),this.dataFormat=li.ESRI_FEATURE,this.layerFormat=Qi.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}getGraphicCount(){return this._graphics.length}getLocalGraphic(t){return this._graphics.find(r=>r.id===t)}getEsriGraphic(t){return this.esriLayer?.graphics.find(r=>r.id===t)}get graphics(){return this._graphics.slice()}async addGraphic(t){if(!this.layerExists){this.noLayerErr();return}let r;t instanceof Array?r=t:r=[t];const i=r.filter(l=>this._graphics.findIndex(u=>u.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),s=this.$iApi.geo.map.getSR(),n=i.map(l=>this.$iApi.geo.proj.projectGeometry(s,l.geometry)),o=await Promise.all(n),a=i.map((l,c)=>{const u=new Hn(o[c],l.id,l.attributes);return u.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(u)});this.esriLayer.addMany(a)}removeGraphic(t){if(!this.layerExists){this.noLayerErr();return}if(typeof t>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let r;Array.isArray(t)?r=t:r=[t],r.map(s=>typeof s=="string"?s:s.id).forEach(s=>{const n=this.esriLayer.graphics.findIndex(a=>a.id===s);n>-1&&this.esriLayer.graphics.removeAt(n);const o=this._graphics.findIndex(a=>a.id===s);o>-1&&this._graphics.splice(o,1)})}}class R1e extends k1e{constructor(t,r){super(t,r),this.layerType=Ce.GRAPHIC}async onInitiate(){this.esriLayer=ir(await gt.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(ps.UP_TO_DATE),t}}class Iu extends CT{esriJson;sourceGeoJson;constructor(t,r){super(t,r),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=li.ESRI_FEATURE,this.layerFormat=Qi.FEATURE,this.layerIdx=0,t.identifyMode&&t.identifyMode!==Yr.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Yr.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const t={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,t),this.esriLayer=ir(await gt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(t){const r=super.makeEsriLayerConfig(t),i="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(n=>{r[n]=this.esriJson[n]}),this.origRampConfig.nameField?r.displayField=this.$iApi.geo.attributes.fieldValidator(r.fields,this.origRampConfig.nameField)||i:r.displayField=i,r.outFields=["*"],delete r.url,this.configDrawOrder(t,r),t.geomClustering&&(r.featureReduction=t.geomClustering),r}onLoadActions(){const t=super.onLoadActions(),r=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await gt.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),await this.nameInitializer({nameArcade:this.origRampConfig.nameArcade},this.nameField);const i=this.origRampConfig.tooltipField?this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField):"";await this.tooltipInitializer({tooltipArcade:this.origRampConfig.tooltipArcade,tooltipField:i}),this.featureCount=this.esriLayer?.source.length||0};return t.push(r()),t.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(t).then(()=>{this.applySqlFilter()}),t}runIdentify(t){if(!this.canIdentify())return[];const r=new Nr,i=ui({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[],a=[];if(this.identifyMode===Yr.HYBRID||this.identifyMode===Yr.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Ke.POLYGON&&t.geometry.type===Ke.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):l.filterGeometry=t.geometry,l.filterSql=this.getCombinedSqlFilter(),n=this.queryFeatures(l).then(c=>{o=c})}return t.hitTest&&(this.identifyMode===Yr.HYBRID||this.identifyMode===Yr.SYMBOLIC)&&(s=n.then(async()=>{const l=await t.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(u=>c.oid===u.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([s,n]).then(()=>{o.forEach(l=>{i.items.push(Tm.makeRawItem($h.ESRI,l.attributes))}),a.forEach(l=>{i.items.push(Tm.makeOidItem(l,this))}),i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}extractLayerMetadata(){const t=this.esriLayer;if(!t)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(t.geometryType),this.scaleSet.minScale=t.minScale||0,this.scaleSet.maxScale=t.maxScale||0,this.extent=this.extent??Qt.fromESRI(t.fullExtent,this.id+"_extent");const r=ir(t.fields.slice());this.fields=r.map(s=>({name:s.name,alias:s.alias,type:s.type,length:s.length})),this.nameField=t.displayField,this.oidField=t.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(t.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const i={sourceGraphics:t.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new ibe(this.$iApi,i)}async getGraphic(t,r){let i;if(!r.getGeom&&this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();i=new Hn(new Hl,"",s.features[s.oidIndex[t]])}else{const s={filterOIDs:[t],includeGeometry:!!r.getGeom},n=await this.queryFeatures(s);if(n.length===0)throw new Error(`Could not find object id ${t}`);n.length!==1&&console.warn("did not get a single result on a query for a specific object id"),i=n[0]}if(r.getStyle){const s=Ve(this.renderer.getGraphicSymbol(i.attributes));i.style=this.$iApi.geo.geom.styleEsriToRamp(s)}return i}async queryFeatures(t){const r={layer:this,...t};return this.$iApi.geo.query.geoJsonQuery(r)}async queryOIDs(t){const r={layer:this,...t};return(await this.$iApi.geo.query.geoJsonQuery(r)).map(s=>s.attributes?s.attributes[this.oidField]:-1)}applySqlFilter(t=[]){if(!this.esriView){this.noLayerErr();return}const r=this.filter.getCombinedSql(t);gt.FeatureFilter({where:r}).then(i=>{Ve(this.esriView).filter=i})}}class D1e extends Iu{constructor(t,r){super(t,r),this.layerType=Ce.GEOJSON}async onInitiate(){let t;const r=Date.now();if(this.origRampConfig.rawData)t=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");r>this.lastCancel&&(this.sourceGeoJson=t,await super.onInitiate())}}class F1e extends Iu{constructor(t,r){super(t,r),this.layerType=Ce.SHAPEFILE}async onInitiate(){const t=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.shapefileToGeoJson(r);t>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class U1e extends Iu{constructor(t,r){super(t,r),this.layerType=Ce.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let t;const r=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")t=this.origRampConfig.rawData;else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(r>this.lastCancel){const i=await this.$iApi.geo.layer.files.csvToGeoJson(t,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});r>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class j1e extends Iu{constructor(t,r){super(t,r),this.layerType=Ce.GEOJSONZIPPED}async onInitiate(){const t=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(r);t>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(i)),await super.onInitiate())}}}class B1e extends Iu{constructor(t,r){super(t,r),this.layerType=Ce.FLATGEOBUF}async onInitiate(){const t=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.fgbToGeoJson(r,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class V1e extends Iu{constructor(t,r){super(t,r),this.layerType=Ce.FLATGEOBUFZIPPED}async onInitiate(){const t=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(r);if(t>this.lastCancel){const s=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}}}class G1e extends CT{constructor(t,r){super(t,r),this.dataFormat=li.ESRI_FEATURE,this.supportsIdentify=!0,this.layerType=Ce.FEATURE,this.layerFormat=Qi.FEATURE,t.identifyMode&&t.identifyMode!==Yr.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Yr.HYBRID}async onInitiate(){ir(this.esriLayer=await gt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const r=super.makeEsriLayerConfig(t);return(t.initialFilteredQuery||t.permanentFilteredQuery)&&(r.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(t,r),t.geomClustering&&(r.featureReduction=t.geomClustering),r}onLoadActions(){const t=Date.now(),r=super.onLoadActions(),i=this.esriLayer.parsedUrl.path,n=this.$iApi.geo.shared.parseUrlIndex(i).index||0;this.layerIdx=n,this.serviceUrl=i;const o=async()=>{let l;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const c=await gt.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=c,l={customRenderer:c}}else l={};await this.loadLayerMetadata(l),t>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()),await this.nameInitializer(this.origRampConfig,this.nameField),await this.tooltipInitializer(this.origRampConfig))},a=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Mi.PERMANENT)).then(l=>{t>this.lastCancel&&(this.featureCount=l)});return this.layerTree.layerIdx=n,r.push(a,o()),r}runIdentify(t){if(!this.canIdentify())return[];const r=new Nr,i=ui({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[];if(this.identifyMode===Yr.HYBRID||this.identifyMode===Yr.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Ke.POLYGON&&t.geometry.type===Ke.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):a.filterGeometry=t.geometry,a.filterSql=this.getCombinedSqlFilter(),n=this.queryOIDs(a).then(l=>{o=l})}return t.hitTest&&(this.identifyMode===Yr.HYBRID||this.identifyMode===Yr.SYMBOLIC)&&(s=n.then(async()=>{(await t.hitTest).filter(l=>l.layerId===this.id&&o.findIndex(c=>l.oid===c)===-1).forEach(l=>{o.push(l.oid)})})),Promise.all([s,n]).then(()=>{o.forEach(a=>{i.items.push(Tm.makeOidItem(a,this))}),i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}applySqlFilter(t=[]){if(this.layerExists){const r=this.filter.getCombinedSql(t);this.esriLayer.definitionExpression=r}else this.noLayerErr()}getGraphicExtent(t){return new Promise((r,i)=>{if(!this.layerExists)this.noLayerErr(),i();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),i();else{const s=this.attribs.quickCache.getExtent(t);s?r(s):this.esriLayer.queryExtent({objectIds:[t],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(n=>{const o=Qt.fromESRI(n.extent);this.attribs.quickCache.setExtent(t,o),r(o)}).catch(()=>{console.error(`Extent querying failed for ${t}.`),i()})}})}}class q1e extends Mu{isDynamic;origState;constructor(t,r){super(t,r),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=Ce.MAPIMAGE,this.layerFormat=Qi.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=Yr.GEOMETRIC}async onInitiate(){this.esriLayer=ir(await gt.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const r=super.makeEsriLayerConfig(t);return this.origState={visibility:r.visible,opacity:r.opacity},r.visible=!1,t.imageFormat&&(r.imageFormat=t.imageFormat),r}onLoadActions(){const t=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),t;const r=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(pn.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??Qt.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const i=l=>{const c=this.esriLayer?.allSublayers.find(u=>u.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},s={};this.origRampConfig.sublayers.forEach(l=>{s[l.index||0]=l});const n=[],o=(l,c)=>{const u=l.id,d=s[u];if(l.sublayers&&l.sublayers.length>0){const p=(d?d.name:"")||l.title||"",y=new Wg(u,"",p,!1);c.findChildByIdx(u)||c.children.push(y),l.sublayers.reverse().forEach(v=>{o(v,y)})}else{this._sublayers[u]||(this._sublayers[u]=new z1e({id:this.$iApi.geo.layer.sublayerId(this.id,u),index:u,layerType:Ce.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const p=this._sublayers[u];if(p.isRemoved)return;if(p.name=d?.name||l.title||"",n.push(p),!c.children.map(y=>y.layerIdx).includes(u)){const y=new Wg(u,p.uid,p.name,!1);c.children.push(y)}p.esriWatches.push(Zr(()=>l.visible,()=>{this.$iApi.event.emit(Oe.LAYER_VISIBILITYCHANGE,{visibility:p.visibility,layer:p}),p.parentLayer?.checkVisibility()}),Zr(()=>l.opacity,y=>{this.$iApi.event.emit(Oe.LAYER_OPACITYCHANGE,{opacity:y,layer:p})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=i(l.index||0);o(c,this.layerTree)}});const a=n.map(async l=>{const c=i(l.layerIdx),u=s[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),r<this.lastCancel)return;const d={};if(l.esriSubLayer&&u?.customRenderer?.type){const y=await gt.RendererFromJson(u.customRenderer);l.esriSubLayer.renderer=y,d.customRenderer=y}if(await l.loadLayerMetadata(d),r<this.lastCancel)return;const p=s[l.layerIdx];if(p?(l.visibility=l.isRemoved?!1:p.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=p.state?.opacity??this.origState.opacity??1,this.$iApi.geo.attributes.applyFieldMetadata(l,p.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(pn.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim(),await l.nameInitializer(p,l.nameField);const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(Mi.PERMANENT));r>this.lastCancel&&(l.featureCount=y)}});return t.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!n.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,t}updateLayerState(t,r=!1){super.updateLayerState(t,r),this.sublayers.forEach(i=>i.updateLayerState(t,r))}updateDrawState(t){super.updateDrawState(t),this.sublayers.forEach(r=>r.updateDrawState(t))}runIdentify(t){if(!this.canIdentify())return[];t.sublayerIds&&(t.sublayerIds=t.sublayerIds.map(s=>typeof s=="number"?this.layerTree?.findChildByIdx(s)?.uid:s));const r=t.sublayerIds?this._sublayers.filter(s=>t.sublayerIds?.includes(s.uid)):this._sublayers.filter(s=>s.canIdentify());if(r.length===0)return[];let i;return t.geometry.type===Ke.POINT&&(i=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance)),r.map(s=>{const n=new Nr,o={},a=ui({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:s.uid,layerId:s.id,requestTime:Date.now()});return s.geomType!==Ke.POLYGON&&i?o.filterGeometry=i:o.filterGeometry=t.geometry,o.filterSql=s.getCombinedSqlFilter(),o.sourceSR=s.sourceSR,s.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(Tm.makeOidItem(c,s))}),a.loaded=!0,n.resolveMe()}).catch(()=>{a.errored=!0,n.resolveMe()}),a})}}class z1e extends CT{constructor(t,r,i){if(super(t,r),this.layerType=Ce.SUBLAYER,this.layerFormat=Qi.MAPIMAGE,this.isSublayer=!0,this.layerIdx=t.index,this.parentLayer=i,this.isSystem=i.isSystem,this.dataFormat=li.ESRI_FEATURE,this.supportsFeatures=!0,this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!i.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(i),(t.initialFilteredQuery||t.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(t){if(!t.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=ir(t.esriLayer.allSublayers.find(r=>r.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=Xt.INITIATED;const t=this.labelVizOverride();t!==void 0&&(this.labelVisibility=t)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===Xt.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(t){this.layerExists?this.esriSubLayer.visible=t:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(t){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=t}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(t){this.layerExists?this.parentLayer.mouseTolerance=t:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(t){this.layerExists?this.parentLayer.touchTolerance=t:this.noLayerErr()}applySqlFilter(t=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const r=this.filter.getCombinedSql(t);this.esriSubLayer.definitionExpression=r}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const t=this._parentLayer?.esriLayer?.spatialReference;return t?je.fromESRI(t):je.latLongSR()}else return this.noLayerErr(),je.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(t){this.layerExists?this.esriSubLayer.labelsVisible=t:this.noLayerErr()}labelVizOverride(){let t=this.origRampConfig.labels?.visible;if(t!==void 0||(t=this.$iApi.geo.map.labelsDefault?.visible,t!==void 0))return t}}class H1e extends Mu{constructor(t,r){super(t,r),this.supportsIdentify=!1,this.layerType=Ce.OSM,this.layerFormat=Qi.OSM,this.dataFormat=li.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=ir(await gt.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const r=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),i={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:r.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(i),t}}class W1e extends Mu{constructor(t,r){super(t,r),this.supportsIdentify=!1,this.layerType=Ce.IMAGERY,this.layerFormat=Qi.IMAGERY,this.dataFormat=li.ESRI_RASTER}async onInitiate(){this.esriLayer=ir(await gt.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const r=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{r>this.lastCancel&&(this.legend=s)});return t.push(i),t}}class PT extends Mu{schemaLocked=!0;constructor(t,r){super(t,r),this.supportsIdentify=!1,this.dataFormat=li.ESRI_TILE}onLoadActions(){const t=super.onLoadActions();return this.layerTree.name=this.name,this.schemaLocked&&t.push(this.checkProj()),t}async checkProj(){const t=this.getSR(),i=this.$iApi.geo.map.getSR().isEqual(t),s=()=>this.$iApi.notify.show(pn.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id}));if(this.layerState===vr.LOADED&&!i)s(),this.onError();else if(this.layerState===vr.ERROR&&i)this.reload();else if(this.layerState!==vr.ERROR&&!i)return s(),Promise.reject()}}class Y1e extends PT{constructor(t,r){super(t,r),this.layerType=Ce.IMAGERYTILE,this.layerFormat=Qi.IMAGERYTILE,this.schemaLocked=!1}async onInitiate(){this.esriLayer=ir(await gt.ImageryTileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}}class J1e extends PT{constructor(t,r){super(t,r),this.layerType=Ce.TILE,this.layerFormat=Qi.TILE}async onInitiate(){this.esriLayer=ir(await gt.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions(),r=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{r>this.lastCancel&&(this.legend=s)});return t.push(i),t}}class K1e extends PT{constructor(t,r){super(t,r),this.layerType=Ce.VECTORTILE,this.layerFormat=Qi.VECTORTILE}async onInitiate(){this.esriLayer=ir(await gt.VectorTileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}}class Z1e extends Mu{sublayerNames;mimeType;constructor(t,r){super(t,r),this.supportsIdentify=!0,this.layerType=Ce.WMS,this.layerFormat=Qi.WMS,this.mimeType=t.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=li.OGC_RASTER,this.identifyMode=Yr.GEOMETRIC}async onInitiate(){this.esriLayer=ir(await gt.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const r=super.makeEsriLayerConfig(t),i=t.sublayers;this.sublayerNames=i.map(n=>n.id||"error_no_wms_id");const s=i.map(n=>n.currentStyle).join();return r.customParameters={styles:s},t.url.indexOf("/geomet")!==-1&&(r.customParameters.layers=i[0].id),r}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const r=i=>{let s=!1;return i.forEach(n=>{this.sublayerNames.indexOf(n.name)>-1||n.sublayers&&n.sublayers.length>0&&r(n.sublayers)?s=!0:n.visible=!1}),s};return this.layerExists?r(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),t}canIdentify(){return super.canIdentify()}runIdentify(t){if(t.geometry.type!==Ke.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const r=new Nr,i=ui({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,t.geometry,this.mimeType).then(s=>{if(s){let n=!0,o;typeof s!="string"?o=$h.JSON:s.indexOf("Search returned no results")===-1&&s!==""?o=$h.TEXT:(n=!1,o=$h.UNKNOWN),n&&i.items.push(Tm.makeRawItem(o,s))}i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}setCustomParameter(t,r,i=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[t]=r,i&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(t,r,i){const s=this.$iApi.geo.map,n=this.esriLayer;if(!s.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!n)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=s.getExtent(),c=n.spatialReferences,u=t.join(","),d=s.esriView.toScreen(r.toESRI()),p=Math.floor(d.x),y=Math.floor(d.y),b={"application/json":"json","text/html":"text","text/plain":"text"}[i]||"text",S=s.getSR();S.wkid?o=S.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(S.latestWkid&&c.indexOf(S.latestWkid)>-1?o=S.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),n.version==="1.3"||n.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:p,J:y,STYLES:"",FORMAT:n.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:p,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const w={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:n.version,WIDTH:s.getPixelWidth(),HEIGHT:s.getPixelHeight(),QUERY_LAYERS:u,LAYERS:u,INFO_FORMAT:i},T=n.customLayerParameters;return T&&Object.keys(T).forEach(x=>{x.toLowerCase()!=="styles"&&(w[x]=T[x])}),Object.keys(w).forEach(x=>a[x]=w[x]),Pr(n.url.split("?")[0],{query:a,responseType:b})}getLegendUrls(t){if(!this.layerExists)return this.noLayerErr(),[];const r=new Map;this.esriLayer.allSublayers.forEach(s=>{s.visible&&(s.legendUrl&&this.origRampConfig.sublayers?.forEach(n=>{if(n.id&&n.currentStyle&&n.id===s.name){const o=new Yg(s.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==n.currentStyle&&(s.legendUrl=o.updateQuery({STYLE:n.currentStyle}))}}),r.set(s.name,s.legendUrl))});const i=t.map(s=>s.styleLegends&&s.currentStyle?s.styleLegends.find(n=>n.name===s.currentStyle).url:void 0);return i.forEach((s,n)=>{s||(i[n]=r.get(t[n].id))}),i}getWMSLayerTitle(t){if(!this.esriLayer)return"";let r;return this.esriLayer.allSublayers.some(i=>i.name===t?(r=i.title,!0):!1),r||""}loadSymbology(){const t=Date.now(),r=this.config.sublayers,i=this.getLegendUrls(r.map(s=>({id:s.id,styleLegends:s.styleLegends,currentStyle:s.currentStyle}))).map((s,n)=>{const o=r[n].name||this.getWMSLayerTitle(r[n].id)||r[n].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(s).then(l=>{t>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=i}}class X1e extends Iu{constructor(t,r){super(t,r),this.layerType=Ce.WFS}async onInitiate(){const t=Date.now(),r=new Yg(this.config.url),{offset:i,limit:s}=r.queryMap,n=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(i)||0,parseInt(s)||1e3,void 0,this.config.xyInAttribs);t>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}class iU extends rU{sourceJson;attribs;_visibility;constructor(t,r){super(t,r),this.dataFormat=li.ESRI_FEATURE,this.layerFormat=Qi.NOLAYER,this.drawState=ps.NOT_VISUAL,this.attribs=new sU,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=t.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const t=this.sourceJson;if(t.data.length===0||t.fields.length===0)throw new Error("Data layer with no columns or now rows.");const r=t.fields.slice(),i=t.data[0].slice(),s=/ /gi;this.fields=r.map((c,u)=>{let d="",p=c;c.indexOf(" ")>-1&&(d=c,p=c.trim().replace(s,"-"),t.fields[u]=p);const y=this.$iApi.geo.layer.files.inferType(i[u]);return{name:p,alias:d,type:y,length:y===ma.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:ma.OID}),t.fields.push(this.oidField),t.data.forEach((c,u)=>c.push(u+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const n={batchSize:-1,sourceDataJson:t,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new sbe(this.$iApi,n),await this.attribs.attLoader.getAttribs(),this.featureCount=t.data.length;const o=this.origRampConfig.nameField,l={nameField:o?this.$iApi.geo.attributes.fieldValidator(this.fields,o):"",nameArcade:this.origRampConfig.nameArcade};await this.nameInitializer(l,""),this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(Oe.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==vr.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(Oe.LAYER_RELOAD_END,this)},300)}onLoadActions(){const t=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(r=>{this.legend[0].svgcode=r})}],t}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,r){let i={};if(this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();i=s.features[s.oidIndex[t]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Hn(new Hl,"",i)}async getIcon(t){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(t=[],r=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,this.$iApi.event.emit(Oe.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this}))}}class Q1e extends iU{constructor(t,r){super(t,r),this.layerType=Ce.DATAJSON}async onInitiate(){const t=Date.now();let r;if(this.origRampConfig.rawData)r=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)r=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");t>this.lastCancel&&(this.sourceJson=r,await super.onInitiate())}}class ebe extends iU{filter;serviceUrl;constructor(t,r){super(t,r),this.layerType=Ce.DATATABLE,this.serviceUrl=t.url,this.filter=new cR(t.permanentFilteredQuery||"",t.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const t=super.onLoadActions(),r=Date.now(),s=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,n=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(a=>{if(r<this.lastCancel)return;this.name||(this.name=a.name),this.layerTree.name=this.name,this.oidField=a.objectIdField,this.fields=a.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.nameInitializer(this.origRampConfig,a.displayField);const l={supportsLimit:(a.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(Mi.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new nU(this.$iApi,l),this.attribs.quickCache=new oU(this.geomType)}),o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Mi.PERMANENT)).then(a=>{r>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=s,t.push(n,o),t}async getGraphic(t){let r={};const i=this.attribs.quickCache.getAttribs(t);if(i)r=i;else if(this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();r=n.features[n.oidIndex[t]]}else{const n={oid:t,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},o=await this.$iApi.geo.attributes.loadSingleFeature(n);this.attribs.quickCache.setAttribs(t,o.attributes),r=o.attributes}return new Hn(new Hl,"",r)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(t,r){const i=this.filter.getSql(t);r!==i&&(this.filter.setSql(t,r),this.$iApi.event.emit(Oe.FILTER_CHANGE,{uid:this.uid,filterKey:t}))}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[]){const r=this.filter.getCombinedSql(t);if(!r)return;const i=this.filter.sqlActiveFilters(t);let s=this.filter.getCache(i,!1);if(!s){const n={filterSql:r,includeGeometry:!1};s=this.queryOIDs(n),this.filter.setCache(s,i,!1)}return s}queryOIDs(t){const r={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(r)}async queryFeaturesDiscrete(t){return(await this.queryOIDs(t)).map(i=>({oid:i,graphic:this.getGraphic(i)}))}async queryFeatures(t){const r=await this.queryFeaturesDiscrete(t);return Promise.all(r.map(i=>i.graphic))}}const tbe=new Map([["integer","number"],["small-integer","number"],["big-integer","number"],["single","number"],["double","number"],["long","number"],["oid","number"],["string","text"],["geometry","geometry"],["date","date"]]);class rbe extends Dr{oidIndexer(t,r){t.features.forEach((i,s)=>{t.oidIndex[i[r]]=s})}async arcGisBatchLoad(t,r){if(r.loadAbortFlag)return[];const i=t.permanentFilter?` AND ${t.permanentFilter}`:"",s={query:{where:`${t.oidField}>${t.maxId}${i}`,outFields:t.attribs,orderByFields:t.oidField,returnGeometry:"false",f:"json"}},[n,o]=await eo(Pr(t.serviceUrl+"/query",s));if(!o)return console.error(`ArcGIS batch load error: ${t.serviceUrl}`,n),Promise.reject(new Error(`ArcGIS batch load error: ${t.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){r.loadedCount+=l;let c;if(t.supportsLimit?c=o.data.exceededTransferLimit:(t.batchSize===-1&&(t.batchSize=l),c=l>=t.batchSize),a=this.trimFeatureSetAttributes(a,t.fieldsToTrim??[]),c){t.maxId=a[l-1].attributes[t.oidField];const u=await this.arcGisBatchLoad(t,r);return r.loadAbortFlag?[]:a.concat(u)}else return r.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(t,r){t.maxId=-1,t.batchSize=-1;const s={features:(await this.arcGisBatchLoad(t,r)).map(n=>n.attributes),oidIndex:{}};return this.oidIndexer(s,t.oidField),r.loadIsDone=!0,s}async loadGraphicsAttributes(t,r){if(!t.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const s={features:t.sourceGraphics.map(n=>Ve(n).attributes).toArray(),oidIndex:{}};return this.oidIndexer(s,t.oidField),r.loadIsDone=!0,r.loadedCount=s.features.length,s}async loadCompactJsonAttributes(t,r){if(!t.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const i=t.sourceDataJson.fields,s=t.fieldsToTrim??[],o={features:t.sourceDataJson.data.map(a=>{const l={};return a.forEach((c,u)=>{l[i[u]]=typeof c=="string"&&s.includes(i[u])?c.trim():c}),l}),oidIndex:{}};return this.oidIndexer(o,t.oidField),r.loadIsDone=!0,r.loadedCount=o.features.length,t.sourceDataJson=void 0,o}async loadSingleFeature(t){const r={query:{f:"json",objectIds:t.oid,returnGeometry:t.includeGeometry,outFields:t.attribs}};typeof t.maxOffset<"u"&&(r.query.maxAllowableOffset=t.maxOffset),typeof t.mapSR<"u"&&(r.query.outSR=t.mapSR),typeof t.geometryPrecision<"u"&&t.geometryPrecision>=0&&(r.query.geometryPrecision=t.geometryPrecision);const[i,s]=await eo(Pr(t.serviceUrl+"/query",r));if(!s)return console.error(`ArcGIS single feature load error: ${t.serviceUrl}`,i),Promise.reject(new Error(`ArcGIS single feature load error: ${t.serviceUrl}`));if(!s.data||!s.data.features)return console.error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`));const n=s.data.features;if(n.length>0){let o;const a=this.trimFeatureSetAttributes([n[0]],t.fieldsToTrim??[])[0];if(t.includeGeometry){a.geometry.spatialReference=s.data.spatialReference;const l=xE(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new Hl;return new Hn(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`))}trimFeatureSetAttributes(t,r){return r.forEach(i=>{t.forEach(s=>{typeof s.attributes[i]=="string"&&(s.attributes[i]=s.attributes[i].trim())})}),t}orderFields(t,r){const i=(n,o)=>n.findIndex(a=>a.name===o),s=(n,o)=>{const a=i(r,n.name),l=i(r,o.name);return a===-1&&l===-1?i(t,n.name)-i(t,o.name):a===-1?1:l===-1?-1:a-l};return t.slice().sort(s)}applyFieldMetadata(t,r=void 0){if(!r||!r.fieldInfo){t.fieldList="*";return}const i=r.fieldInfo.filter(s=>s.trim).map(s=>s.name);if(t.fields.forEach(s=>{i.includes(s.name)&&(s.trim=!0)}),r?.enforceOrder&&r?.fieldInfo&&r?.fieldInfo.length>0&&(t.fields=this.orderFields(t.fields,r.fieldInfo),t.fieldList=r.fieldInfo.map(s=>s.name).join(",")),r.exclusiveFields){r.fieldInfo.find(n=>n.name===t.oidField)||r.fieldInfo.push({name:t.oidField}),t.fieldList=r.fieldInfo.map(n=>n.name).join(",");const s=r.fieldInfo;t.fields=t.fields.filter(n=>s.find(o=>o.name===n.name))}else t.fieldList="*";r.fieldInfo.forEach(s=>{if(s.alias){const n=t.fields.find(o=>o.name===s.name);n&&(n.alias=s.alias)}})}fieldValidator(t,r){if(t.findIndex(i=>i.name===r)===-1){const i=t.find(s=>s.alias===r);return i?i.name:(console.warn(`Cannot find name field in layer field list: ${r}`),"")}else return r}async generateTabularAttributes(t,r){return r.attLoader.tabularAttributesCache||(r.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(t,r)),r.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(t,r){if(t.dataFormat===li.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const i=await r.attLoader.getAttribs();if(!i.features||i.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const s=t.fields.filter(o=>Object.prototype.hasOwnProperty.call(i.features[0],Ve(o).name)).map(o=>({data:Ve(o).name,title:Ve(o).alias||Ve(o).name})),n=i.features.map(o=>{const a=uR({},o);return a.rvInteractive="",a.rvSymbol=t.getIcon(o[t.oidField]),a.rvUid=t.uid,a});return s.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);n.forEach(c=>{c[l]=a})}}),{columns:s,rows:n,fields:t.fields,oidField:t.oidField}}fieldTypeToArcade(t){return tbe.get(t)}}class sU{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(t){this._attribLoader=t}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(t){this._quickCache=t}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class RC{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class NT extends Dr{aac;loadPromise;details;tabularAttributesCache;constructor(t,r){super(t),this.aac=new RC,this.details=r}updateFieldList(t){this.details.attribs=t}updateFieldsToTrim(t){this.details.fieldsToTrim=t}getAttribs(){return this.loadPromise||(this.aac=new RC,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class nU extends NT{constructor(t,r){super(t,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class ibe extends NT{constructor(t,r){super(t,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class sbe extends NT{constructor(t,r){super(t,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class oU{attribs;geoms;extents;isPoint;constructor(t){this.attribs={},this.geoms={},this.extents={},this.isPoint=t===Ke.POINT||t===Ke.MULTIPOINT}getScaleStore(t){return this.geoms[t]||(this.geoms[t]={}),this.geoms[t]}getGeomStore(t=void 0){if(this.isPoint)return this.geoms;if(typeof t>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(t)}getAttribs(t){return this.attribs[t]}setAttribs(t,r){this.attribs[t]=r}getGeom(t,r=void 0){return this.getGeomStore(r)[t]}setGeom(t,r,i=void 0){const s=this.getGeomStore(i);s[t]=r}getExtent(t){return this.extents[t]}setExtent(t,r){this.extents[t]=r}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class LT{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(t,r,i=!1){this.innerRenderer=t,this.symbolUnits=[],this.falseRenderer=i,this.type=l1.Unknown}makeSearchParams(t){return t}searchRenderer(t){const r=this.makeSearchParams(t),i=this.symbolUnits.find(n=>n.match(r));if(i)return i;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${r}`);const s=new jb(this);return s.svgCode="",s}getGraphicIcon(t){return this.searchRenderer(t).svgCode}getGraphicSymbol(t){return this.searchRenderer(t).symbol}getFieldDelimiter(t,r){let i="'";if(!r||r.length===0)return i;const s=r.find(n=>n.name===t);return s&&s.type&&s.type!=="string"&&(i=""),i}cleanFieldName(t,r){if(!t)return t;let i=r.find(s=>s.name===t);if(i)return t;{const s=t.toLowerCase();return i=r.find(n=>n.name.toLowerCase()===s),i?i.name:t}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(r=>r.definitionClause).join(" OR ")}))`}}class jb{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(t){this.parent=t,this.symbol=new Hr}match(t){return!!t}}class nbe extends LT{constructor(t,r){super(t,r),this.type=l1.Simple;const i=new jb(this);i.label=t.label||"",i.symbol=t.symbol,i.definitionClause="",this.symbolUnits.push(i)}}class obe extends LT{delim;keyFields;constructor(t,r,i=!1){super(t,r,i),this.type=l1.Unique,this.delim=t.fieldDelimiter||", ";const s=o=>o.replace(/'/g,"''");this.keyFields=[t.field,t.field2,t.field3].filter(o=>o).map(o=>this.cleanFieldName(o,r));const n=this.keyFields.map(o=>this.getFieldDelimiter(o,r));if(t.uniqueValueInfos.forEach(o=>{const a=new DC(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((u,d)=>l[d]==="<Null>"?`${u} IS NULL`:`${u} = ${n[d]}${s(l[d])}${n[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),t.defaultSymbol){const o=new DC(this,"");o.isDefault=!0,o.label=t.defaultLabel||"",o.symbol=t.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(t){return this.keyFields.map(r=>{let i=t[r]===null?"":t[r];return typeof i!="string"&&(i=i.toString()),i}).join(this.delim)}}class DC extends jb{matchValue;constructor(t,r){super(t),typeof r=="number"?this.matchValue=r.toString():this.matchValue=r}match(t){return this.matchValue===t}}class abe extends LT{valField;constructor(t,r,i=!1){if(super(t,r,i),this.valField=this.cleanFieldName(t.field,r),t.classBreakInfos.forEach((s,n)=>{const o=n===0,a=new FC(this,s.minValue,s.maxValue,o);a.label=s.label||"",a.symbol=s.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${s.minValue} AND ${this.valField} <= ${s.maxValue})`),this.symbolUnits.push(a)}),t.defaultSymbol){const s=new FC(this,0,0,!1);s.isDefault=!0,s.label=t.defaultLabel||"",s.symbol=t.defaultSymbol,s.definitionClause=this.makeElseClause(),this.defaultUnit=s}}makeSearchParams(t){return parseFloat(t[this.valField])}}class FC extends jb{minValue;maxValue;firstBreak;constructor(t,r,i,s){super(t),this.minValue=r,this.maxValue=i,this.firstBreak=s}match(t){return this.minValue===this.maxValue?this.maxValue===t:this.firstBreak?this.minValue<=t&&this.maxValue>=t:this.minValue<t&&this.maxValue>=t}}var pg={exports:{}};/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.7.1
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)
*/var lbe=pg.exports,UC;function cbe(){return UC||(UC=1,function(e,t){(function(r,i){e.exports=r.document?i(r,r.document):function(s){return i(s,s.document)}})(typeof window<"u"?window:lbe,function(r,i){var s=typeof this<"u"?this:r,n=s.SVG=function(f){if(n.supported)return f=new n.Doc(f),n.parser.draw||n.prepare(),f};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.com/svgjs",n.supported=function(){return!!i.createElementNS&&!!i.createElementNS(n.ns,"svg").createSVGRect}(),!n.supported)return!1;n.did=1e3,n.eid=function(f){return"Svgjs"+S(f)+n.did++},n.create=function(f){var m=i.createElementNS(this.ns,f);return m.setAttribute("id",this.eid(f)),m},n.extend=function(){var f,m,E,O;for(f=[].slice.call(arguments),m=f.pop(),O=f.length-1;O>=0;O--)if(f[O])for(E in m)f[O].prototype[E]=m[E];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(f){var m=typeof f.create=="function"?f.create:function(){this.constructor.call(this,n.create(f.create))};return f.inherit&&(m.prototype=new f.inherit),f.extend&&n.extend(m,f.extend),f.construct&&n.extend(f.parent||n.Container,f.construct),m},n.adopt=function(f){if(!f)return null;if(f.instance)return f.instance;var m;return f.nodeName=="svg"?m=f.parentNode instanceof r.SVGElement?new n.Nested:new n.Doc:f.nodeName=="linearGradient"?m=new n.Gradient("linear"):f.nodeName=="radialGradient"?m=new n.Gradient("radial"):n[S(f.nodeName)]?m=new n[S(f.nodeName)]:m=new n.Element(f),m.type=f.nodeName,m.node=f,f.instance=m,m instanceof n.Doc&&m.namespace().defs(),m.setData(JSON.parse(f.getAttribute("svgjs:data"))||{}),m},n.prepare=function(){var f=i.getElementsByTagName("body")[0],m=(f?new n.Doc(f):n.adopt(i.documentElement).nested()).size(2,0);n.parser={body:f||i.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},i.addEventListener("DOMContentLoaded",function(){n.parser.draw||n.prepare()},!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(f,m){var E,O=f.length,G=[];for(E=0;E<O;E++)G.push(m(f[E]));return G},filter:function(f,m){var E,O=f.length,G=[];for(E=0;E<O;E++)m(f[E])&&G.push(f[E]);return G},radians:function(f){return f%360*Math.PI/180},degrees:function(f){return f*180/Math.PI%360},filterSVGElements:function(f){return this.filter(f,function(m){return m instanceof r.SVGElement})}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(f){var m;this.r=0,this.g=0,this.b=0,f&&(typeof f=="string"?n.regex.isRgb.test(f)?(m=n.regex.rgb.exec(f.replace(n.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):n.regex.isHex.test(f)&&(m=n.regex.hex.exec(w(f)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof f=="object"&&(this.r=f.r,this.g=f.g,this.b=f.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+T(this.r)+T(this.g)+T(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(f){return this.destination=new n.Color(f),this},at:function(f){return this.destination?(f=f<0?0:f>1?1:f,new n.Color({r:~~(this.r+(this.destination.r-this.r)*f),g:~~(this.g+(this.destination.g-this.g)*f),b:~~(this.b+(this.destination.b-this.b)*f)})):this}}),n.Color.test=function(f){return f+="",n.regex.isHex.test(f)||n.regex.isRgb.test(f)},n.Color.isRgb=function(f){return f&&typeof f.r=="number"&&typeof f.g=="number"&&typeof f.b=="number"},n.Color.isColor=function(f){return n.Color.isRgb(f)||n.Color.test(f)},n.Array=function(f,m){f=(f||[]).valueOf(),f.length==0&&m&&(f=m.valueOf()),this.value=this.parse(f)},n.extend(n.Array,{morph:function(f){if(this.destination=this.parse(f),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],E=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(E);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var f=0,m=this.value.length,E=[];f<m;f++)E.indexOf(this.value[f])==-1&&E.push(this.value[f]);return this.value=E},at:function(f){if(!this.destination)return this;for(var m=0,E=this.value.length,O=[];m<E;m++)O.push(this.value[m]+(this.destination[m]-this.value[m])*f);return new n.Array(O)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(f){return f=f.valueOf(),Array.isArray(f)?f:this.split(f)},split:function(f){return f.trim().split(n.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var f=new this.constructor;return f.value=p(this.value),f}}),n.PointArray=function(f,m){n.Array.call(this,f,m||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray,n.extend(n.PointArray,{toString:function(){for(var f=0,m=this.value.length,E=[];f<m;f++)E.push(this.value[f].join(","));return E.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(f){if(!this.destination)return this;for(var m=0,E=this.value.length,O=[];m<E;m++)O.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*f,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*f]);return new n.PointArray(O)},parse:function(f){var m=[];if(f=f.valueOf(),Array.isArray(f)){if(Array.isArray(f[0]))return f.map(function(G){return G.slice()});if(f[0].x!=null)return f.map(function(G){return[G.x,G.y]})}else f=f.trim().split(n.regex.delimiter).map(parseFloat);f.length%2!==0&&f.pop();for(var E=0,O=f.length;E<O;E=E+2)m.push([f[E],f[E+1]]);return m},move:function(f,m){var E=this.bbox();if(f-=E.x,m-=E.y,!isNaN(f)&&!isNaN(m))for(var O=this.value.length-1;O>=0;O--)this.value[O]=[this.value[O][0]+f,this.value[O][1]+m];return this},size:function(f,m){var E,O=this.bbox();for(E=this.value.length-1;E>=0;E--)O.width&&(this.value[E][0]=(this.value[E][0]-O.x)*f/O.width+O.x),O.height&&(this.value[E][1]=(this.value[E][1]-O.y)*m/O.height+O.y);return this},bbox:function(){return n.parser.poly.setAttribute("points",this.toString()),n.parser.poly.getBBox()}});for(var o={M:function(f,m,E){return m.x=E.x=f[0],m.y=E.y=f[1],["M",m.x,m.y]},L:function(f,m){return m.x=f[0],m.y=f[1],["L",f[0],f[1]]},H:function(f,m){return m.x=f[0],["H",f[0]]},V:function(f,m){return m.y=f[0],["V",f[0]]},C:function(f,m){return m.x=f[4],m.y=f[5],["C",f[0],f[1],f[2],f[3],f[4],f[5]]},S:function(f,m){return m.x=f[2],m.y=f[3],["S",f[0],f[1],f[2],f[3]]},Q:function(f,m){return m.x=f[2],m.y=f[3],["Q",f[0],f[1],f[2],f[3]]},T:function(f,m){return m.x=f[0],m.y=f[1],["T",f[0],f[1]]},Z:function(f,m,E){return m.x=E.x,m.y=E.y,["Z"]},A:function(f,m){return m.x=f[5],m.y=f[6],["A",f[0],f[1],f[2],f[3],f[4],f[5],f[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(f){return function(m,E,O){if(f=="H")m[0]=m[0]+E.x;else if(f=="V")m[0]=m[0]+E.y;else if(f=="A")m[5]=m[5]+E.x,m[6]=m[6]+E.y;else for(var G=0,J=m.length;G<J;++G)m[G]=m[G]+(G%2?E.y:E.x);return o[f](m,E,O)}}(a[l].toUpperCase());n.PathArray=function(f,m){n.Array.call(this,f,m||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return C(this.value)},move:function(f,m){var E=this.bbox();if(f-=E.x,m-=E.y,!isNaN(f)&&!isNaN(m))for(var O,G=this.value.length-1;G>=0;G--)O=this.value[G][0],O=="M"||O=="L"||O=="T"?(this.value[G][1]+=f,this.value[G][2]+=m):O=="H"?this.value[G][1]+=f:O=="V"?this.value[G][1]+=m:O=="C"||O=="S"||O=="Q"?(this.value[G][1]+=f,this.value[G][2]+=m,this.value[G][3]+=f,this.value[G][4]+=m,O=="C"&&(this.value[G][5]+=f,this.value[G][6]+=m)):O=="A"&&(this.value[G][6]+=f,this.value[G][7]+=m);return this},size:function(f,m){var E,O,G=this.bbox();for(E=this.value.length-1;E>=0;E--)O=this.value[E][0],O=="M"||O=="L"||O=="T"?(this.value[E][1]=(this.value[E][1]-G.x)*f/G.width+G.x,this.value[E][2]=(this.value[E][2]-G.y)*m/G.height+G.y):O=="H"?this.value[E][1]=(this.value[E][1]-G.x)*f/G.width+G.x:O=="V"?this.value[E][1]=(this.value[E][1]-G.y)*m/G.height+G.y:O=="C"||O=="S"||O=="Q"?(this.value[E][1]=(this.value[E][1]-G.x)*f/G.width+G.x,this.value[E][2]=(this.value[E][2]-G.y)*m/G.height+G.y,this.value[E][3]=(this.value[E][3]-G.x)*f/G.width+G.x,this.value[E][4]=(this.value[E][4]-G.y)*m/G.height+G.y,O=="C"&&(this.value[E][5]=(this.value[E][5]-G.x)*f/G.width+G.x,this.value[E][6]=(this.value[E][6]-G.y)*m/G.height+G.y)):O=="A"&&(this.value[E][1]=this.value[E][1]*f/G.width,this.value[E][2]=this.value[E][2]*m/G.height,this.value[E][6]=(this.value[E][6]-G.x)*f/G.width+G.x,this.value[E][7]=(this.value[E][7]-G.y)*m/G.height+G.y);return this},equalCommands:function(f){var m,E,O;for(f=new n.PathArray(f),O=this.value.length===f.value.length,m=0,E=this.value.length;O&&m<E;m++)O=this.value[m][0]===f.value[m][0];return O},morph:function(f){return f=new n.PathArray(f),this.equalCommands(f)?this.destination=f:this.destination=null,this},at:function(f){if(!this.destination)return this;var m=this.value,E=this.destination.value,O=[],G=new n.PathArray,J,me,ue,$e;for(J=0,me=m.length;J<me;J++){for(O[J]=[m[J][0]],ue=1,$e=m[J].length;ue<$e;ue++)O[J][ue]=m[J][ue]+(E[J][ue]-m[J][ue])*f;O[J][0]==="A"&&(O[J][4]=+(O[J][4]!=0),O[J][5]=+(O[J][5]!=0))}return G.value=O,G},parse:function(f){if(f instanceof n.PathArray)return f.valueOf();var m,O,E={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof f=="string"?f=f.replace(n.regex.numbersWithDots,d).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):f=f.reduce(function($e,Ue){return[].concat.call($e,Ue)},[]);var O=[],G=new n.Point,J=new n.Point,me=0,ue=f.length;do n.regex.isPathLetter.test(f[me])?(m=f[me],++me):m=="M"?m="L":m=="m"&&(m="l"),O.push(o[m].call(null,f.slice(me,me=me+E[m.toUpperCase()]).map(parseFloat),G,J));while(ue>me);return O},bbox:function(){return n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(f,m){this.value=0,this.unit=m||"",typeof f=="number"?this.value=isNaN(f)?0:isFinite(f)?f:f<0?-34e37:34e37:typeof f=="string"?(m=f.match(n.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):f instanceof n.Number&&(this.value=f.valueOf(),this.unit=f.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(f){return f=new n.Number(f),new n.Number(this+f,this.unit||f.unit)},minus:function(f){return f=new n.Number(f),new n.Number(this-f,this.unit||f.unit)},times:function(f){return f=new n.Number(f),new n.Number(this*f,this.unit||f.unit)},divide:function(f){return f=new n.Number(f),new n.Number(this/f,this.unit||f.unit)},to:function(f){var m=new n.Number(this);return typeof f=="string"&&(m.unit=f),m},morph:function(f){return this.destination=new n.Number(f),f.relative&&(this.destination.value+=this.value),this},at:function(f){return this.destination?new n.Number(this.destination).minus(this).times(f).plus(this):this}}}),n.Element=n.invent({create:function(f){this._stroke=n.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=f)&&(this.type=f.nodeName,this.node.instance=this,this._events=f._events||{},this._stroke=f.getAttribute("stroke")||this._stroke)},extend:{x:function(f){return this.attr("x",f)},y:function(f){return this.attr("y",f)},cx:function(f){return f==null?this.x()+this.width()/2:this.x(f-this.width()/2)},cy:function(f){return f==null?this.y()+this.height()/2:this.y(f-this.height()/2)},move:function(f,m){return this.x(f).y(m)},center:function(f,m){return this.cx(f).cy(m)},width:function(f){return this.attr("width",f)},height:function(f){return this.attr("height",f)},size:function(f,m){var E=x(this,f,m);return this.width(new n.Number(E.width)).height(new n.Number(E.height))},clone:function(f){this.writeDataToDom();var m=P(this.node.cloneNode(!0));return f?f.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(f){return this.after(f).remove(),f},addTo:function(f){return f.put(this)},putIn:function(f){return f.add(this)},id:function(f){return this.attr("id",f)},inside:function(f,m){var E=this.bbox();return f>E.x&&m>E.y&&f<E.x+E.width&&m<E.y+E.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var f=this.attr("class");return f==null?[]:f.trim().split(n.regex.delimiter)},hasClass:function(f){return this.classes().indexOf(f)!=-1},addClass:function(f){if(!this.hasClass(f)){var m=this.classes();m.push(f),this.attr("class",m.join(" "))}return this},removeClass:function(f){return this.hasClass(f)&&this.attr("class",this.classes().filter(function(m){return m!=f}).join(" ")),this},toggleClass:function(f){return this.hasClass(f)?this.removeClass(f):this.addClass(f)},reference:function(f){return n.get(this.attr(f))},parent:function(f){var m=this;if(!m.node.parentNode)return null;if(m=n.adopt(m.node.parentNode),!f)return m;for(;m&&m.node instanceof r.SVGElement;){if(typeof f=="string"?m.matches(f):m instanceof f)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=n.adopt(m.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(f){var m=[],E=this;do{if(E=E.parent(f),!E||!E.node)break;m.push(E)}while(E.parent);return m},matches:function(f){return v(this.node,f)},native:function(){return this.node},svg:function(f){var m=i.createElement("svg");if(f&&this instanceof n.Parent){m.innerHTML="<svg>"+f.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var E=0,O=m.firstChild.childNodes.length;E<O;E++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(f=i.createElement("svg")),this.writeDataToDom(),f.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var f=this.each?this:this.lines();f.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(f){return this.dom=f,this},is:function(f){return y(this,f)}}}),n.easing={"-":function(f){return f},"<>":function(f){return-Math.cos(f*Math.PI)/2+.5},">":function(f){return Math.sin(f*Math.PI/2)},"<":function(f){return-Math.cos(f*Math.PI/2)+1}},n.morph=function(f){return function(m,E){return new n.MorphObj(m,E).at(f)}},n.Situation=n.invent({create:function(f){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(f.duration).valueOf(),this.delay=new n.Number(f.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=f.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(f){this._target=f,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(f,m,E){typeof f=="object"&&(m=f.ease,E=f.delay,f=f.duration);var O=new n.Situation({duration:f||1e3,delay:E||0,ease:n.easing[m||"-"]||m});return this.queue(O),this},delay:function(f){var m=new n.Situation({duration:f,delay:0,ease:n.easing["-"]});return this.queue(m)},target:function(f){return f&&f instanceof n.Element?(this._target=f,this):this._target},timeToAbsPos:function(f){return(f-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(f){return this.situation.duration/this._speed*f+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=r.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){r.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(f){return(typeof f=="function"||f instanceof n.Situation)&&this.situations.push(f),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var f,m,E,O=this.situation;if(O.init)return this;for(f in O.animations)for(E=this.target()[f](),Array.isArray(E)||(E=[E]),Array.isArray(O.animations[f])||(O.animations[f]=[O.animations[f]]),m=E.length;m--;)O.animations[f][m]instanceof n.Number&&(E[m]=new n.Number(E[m])),O.animations[f][m]=E[m].morph(O.animations[f][m]);for(f in O.attrs)O.attrs[f]=new n.MorphObj(this.target().attr(f),O.attrs[f]);for(f in O.styles)O.styles[f]=new n.MorphObj(this.target().style(f),O.styles[f]);return O.initialTransformation=this.target().matrixify(),O.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(f,m){var E=this.active;return this.active=!1,m&&this.clearQueue(),f&&this.situation&&(!E&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var f=this.situation;this.stop(),this.situation=f,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(f,m){var E=this.situation.duration/this._speed;return this.absPos=f,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*E,this.situation.finish=this.situation.start+E,this.step(!0)},speed:function(f){return f===0?this.pause():f?(this._speed=f,this.at(this.absPos,!0)):this._speed},loop:function(f,m){var E=this.last();return E.loops=f??!0,E.loop=0,m&&(E.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(f){var m=this.last();return typeof f>"u"?m.reversed=!m.reversed:m.reversed=f,this},progress:function(f){return f?this.situation.ease(this.pos):this.pos},after:function(f){var m=this.last(),E=function O(G){G.detail.situation==m&&(f.call(this,m),this.off("finished.fx",O))};return this.target().on("finished.fx",E),this._callStart()},during:function(f){var m=this.last(),E=function(O){O.detail.situation==m&&f.call(this,O.detail.pos,n.morph(O.detail.pos),O.detail.eased,m)};return this.target().off("during.fx",E).on("during.fx",E),this.after(function(){this.off("during.fx",E)}),this._callStart()},afterAll:function(f){var m=function E(O){f.call(this),this.off("allfinished.fx",E)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(f){var m=function(E){f.call(this,E.detail.pos,n.morph(E.detail.pos),E.detail.eased,E.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(f,m,E){return this.last()[E||"animations"][f]=m,this._callStart()},step:function(f){if(f||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,E,O;m=Math.max(this.absPos,0),E=Math.floor(m),this.situation.loops===!0||E<this.situation.loops?(this.pos=m-E,O=this.situation.loop,this.situation.loop=E):(this.absPos=this.situation.loops,this.pos=1,O=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-O)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var G=this.situation.ease(this.pos);for(var J in this.situation.once)J>this.lastPos&&J<=G&&(this.situation.once[J].call(this.target(),this.pos,G),delete this.situation.once[J]);return this.active&&this.target().fire("during",{pos:this.pos,eased:G,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=G,this):this},eachAt:function(){var f,m,E,O=this,G=this.target(),J=this.situation;for(f in J.animations)E=[].concat(J.animations[f]).map(function(ue){return typeof ue!="string"&&ue.at?ue.at(J.ease(O.pos),O.pos):ue}),G[f].apply(G,E);for(f in J.attrs)E=[f].concat(J.attrs[f]).map(function(ue){return typeof ue!="string"&&ue.at?ue.at(J.ease(O.pos),O.pos):ue}),G.attr.apply(G,E);for(f in J.styles)E=[f].concat(J.styles[f]).map(function(ue){return typeof ue!="string"&&ue.at?ue.at(J.ease(O.pos),O.pos):ue}),G.style.apply(G,E);if(J.transforms.length){for(E=J.initialTransformation,f=0,m=J.transforms.length;f<m;f++){var me=J.transforms[f];if(me instanceof n.Matrix){me.relative?E=E.multiply(new n.Matrix().morph(me).at(J.ease(this.pos))):E=E.morph(me).at(J.ease(this.pos));continue}me.relative||me.undo(E.extract()),E=E.multiply(me.at(J.ease(this.pos)))}G.matrix(E)}return this},once:function(f,m,E){var O=this.last();return E||(f=O.ease(f)),O.once[f]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(f,m,E){return(this.fx||(this.fx=new n.FX(this))).animate(f,m,E)},delay:function(f){return(this.fx||(this.fx=new n.FX(this))).delay(f)},stop:function(f,m){return this.fx&&this.fx.stop(f,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(f){if(this.fx){if(f==null)return this.fx.speed();this.fx.speed(f)}return this}}}),n.MorphObj=n.invent({create:function(f,m){if(n.Color.isColor(m))return new n.Color(f).morph(m);if(n.regex.delimiter.test(f))return n.regex.pathLetters.test(f)?new n.PathArray(f).morph(m):new n.Array(f).morph(m);if(n.regex.numberAndUnit.test(m))return new n.Number(f).morph(m);this.value=f,this.destination=m},extend:{at:function(f,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(f,m,E){if(typeof f=="object")for(var O in f)this.attr(O,f[O]);else this.add(f,m,"attrs");return this},style:function(f,m){if(typeof f=="object")for(var E in f)this.style(E,f[E]);else this.add(f,m,"styles");return this},x:function(f,m){if(this.target()instanceof n.G)return this.transform({x:f},m),this;var E=new n.Number(f);return E.relative=m,this.add("x",E)},y:function(f,m){if(this.target()instanceof n.G)return this.transform({y:f},m),this;var E=new n.Number(f);return E.relative=m,this.add("y",E)},cx:function(f){return this.add("cx",new n.Number(f))},cy:function(f){return this.add("cy",new n.Number(f))},move:function(f,m){return this.x(f).y(m)},center:function(f,m){return this.cx(f).cy(m)},size:function(f,m){if(this.target()instanceof n.Text)this.attr("font-size",f);else{var E;(!f||!m)&&(E=this.target().bbox()),f||(f=E.width/E.height*m),m||(m=E.height/E.width*f),this.add("width",new n.Number(f)).add("height",new n.Number(m))}return this},width:function(f){return this.add("width",new n.Number(f))},height:function(f){return this.add("height",new n.Number(f))},plot:function(f,m,E,O){return arguments.length==4?this.plot([f,m,E,O]):this.add("plot",new(this.target()).morphArray(f))},leading:function(f){return this.target().leading?this.add("leading",new n.Number(f)):this},viewbox:function(f,m,E,O){return this.target()instanceof n.Container&&this.add("viewbox",new n.ViewBox(f,m,E,O)),this},update:function(f){if(this.target()instanceof n.Stop){if(typeof f=="number"||f instanceof n.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});f.opacity!=null&&this.attr("stop-opacity",f.opacity),f.color!=null&&this.attr("stop-color",f.color),f.offset!=null&&this.attr("offset",f.offset)}return this}}),n.Box=n.invent({create:function(f,m,E,O){if(typeof f=="object"&&!(f instanceof n.Element))return n.Box.call(this,f.left!=null?f.left:f.x,f.top!=null?f.top:f.y,f.width,f.height);arguments.length==4&&(this.x=f,this.y=m,this.width=E,this.height=O),k(this)},extend:{merge:function(f){var m=new this.constructor;return m.x=Math.min(this.x,f.x),m.y=Math.min(this.y,f.y),m.width=Math.max(this.x+this.width,f.x+f.width)-m.x,m.height=Math.max(this.y+this.height,f.y+f.height)-m.y,k(m)},transform:function(f){var m=1/0,E=-1/0,O=1/0,G=-1/0,J,me=[new n.Point(this.x,this.y),new n.Point(this.x2,this.y),new n.Point(this.x,this.y2),new n.Point(this.x2,this.y2)];return me.forEach(function(ue){ue=ue.transform(f),m=Math.min(m,ue.x),E=Math.max(E,ue.x),O=Math.min(O,ue.y),G=Math.max(G,ue.y)}),J=new this.constructor,J.x=m,J.width=E-m,J.y=O,J.height=G-O,k(J),J}}}),n.BBox=n.invent({create:function(f){if(n.Box.apply(this,[].slice.call(arguments)),f instanceof n.Element){var m;try{if(i.documentElement.contains){if(!i.documentElement.contains(f.node))throw new Exception("Element not in the dom")}else{for(var E=f.node;E.parentNode;)E=E.parentNode;if(E!=i)throw new Exception("Element not in the dom")}m=f.node.getBBox()}catch{if(f instanceof n.Shape){var O=f.clone(n.parser.draw.instance).show();m=O.node.getBBox(),O.remove()}else m={x:f.node.clientLeft,y:f.node.clientTop,width:f.node.clientWidth,height:f.node.clientHeight}}n.Box.call(this,m)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.extend(n.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),n.RBox=n.invent({create:function(f){n.Box.apply(this,[].slice.call(arguments)),f instanceof n.Element&&n.Box.call(this,f.node.getBoundingClientRect())},inherit:n.Box,parent:n.Element,extend:{addOffset:function(){return this.x+=r.pageXOffset,this.y+=r.pageYOffset,this}},construct:{rbox:function(f){return f?new n.RBox(this).transform(f.screenCTM().inverse()):new n.RBox(this).addOffset()}}}),n.RBox.prototype.constructor=n.RBox,n.Matrix=n.invent({create:function(f){var m,E=$([1,0,0,1,0,0]);for(f=f instanceof n.Element?f.matrixify():typeof f=="string"?$(f.split(n.regex.delimiter).map(parseFloat)):arguments.length==6?$([].slice.call(arguments)):Array.isArray(f)?$(f):typeof f=="object"?f:E,m=j.length-1;m>=0;--m)this[j[m]]=f[j[m]]!=null?f[j[m]]:E[j[m]]},extend:{extract:function(){var f=_(this,0,1),m=_(this,1,0),E=180/Math.PI*Math.atan2(f.y,f.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(E*Math.PI/180)+this.f*Math.sin(E*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(E*Math.PI/180)+this.e*Math.sin(-E*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-E,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:E,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(f){return this.destination=new n.Matrix(f),this},at:function(f){if(!this.destination)return this;var m=new n.Matrix({a:this.a+(this.destination.a-this.a)*f,b:this.b+(this.destination.b-this.b)*f,c:this.c+(this.destination.c-this.c)*f,d:this.d+(this.destination.d-this.d)*f,e:this.e+(this.destination.e-this.e)*f,f:this.f+(this.destination.f-this.f)*f});return m},multiply:function(f){return new n.Matrix(this.native().multiply(M(f).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(f,m){return new n.Matrix(this.native().translate(f||0,m||0))},scale:function(f,m,E,O){return arguments.length==1?m=f:arguments.length==3&&(O=E,E=m,m=f),this.around(E,O,new n.Matrix(f,0,0,m,0,0))},rotate:function(f,m,E){return f=n.utils.radians(f),this.around(m,E,new n.Matrix(Math.cos(f),Math.sin(f),-Math.sin(f),Math.cos(f),0,0))},flip:function(f,m){return f=="x"?this.scale(-1,1,m,0):f=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,f,m??f)},skew:function(f,m,E,O){return arguments.length==1?m=f:arguments.length==3&&(O=E,E=m,m=f),f=n.utils.radians(f),m=n.utils.radians(m),this.around(E,O,new n.Matrix(1,Math.tan(m),Math.tan(f),1,0,0))},skewX:function(f,m,E){return this.skew(f,0,m,E)},skewY:function(f,m,E){return this.skew(0,f,m,E)},around:function(f,m,E){return this.multiply(new n.Matrix(1,0,0,1,f||0,m||0)).multiply(E).multiply(new n.Matrix(1,0,0,1,-f||0,-m||0))},native:function(){for(var f=n.parser.native.createSVGMatrix(),m=j.length-1;m>=0;m--)f[j[m]]=this[j[m]];return f},toString:function(){return"matrix("+U(this.a)+","+U(this.b)+","+U(this.c)+","+U(this.d)+","+U(this.e)+","+U(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var f=this.rect(1,1),m=f.node.getScreenCTM();return f.remove(),new n.Matrix(m)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(f,m){var E,O={x:0,y:0};E=Array.isArray(f)?{x:f[0],y:f[1]}:typeof f=="object"?{x:f.x,y:f.y}:f!=null?{x:f,y:m??f}:O,this.x=E.x,this.y=E.y},extend:{clone:function(){return new n.Point(this)},morph:function(f,m){return this.destination=new n.Point(f,m),this},at:function(f){if(!this.destination)return this;var m=new n.Point({x:this.x+(this.destination.x-this.x)*f,y:this.y+(this.destination.y-this.y)*f});return m},native:function(){var f=n.parser.native.createSVGPoint();return f.x=this.x,f.y=this.y,f},transform:function(f){return new n.Point(this.native().matrixTransform(f.native()))}}}),n.extend(n.Element,{point:function(f,m){return new n.Point(f,m).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(f,m,E){if(f==null){for(f={},m=this.node.attributes,E=m.length-1;E>=0;E--)f[m[E].nodeName]=n.regex.isNumber.test(m[E].nodeValue)?parseFloat(m[E].nodeValue):m[E].nodeValue;return f}else if(typeof f=="object")for(m in f)this.attr(m,f[m]);else if(m===null)this.node.removeAttribute(f);else{if(m==null)return m=this.node.getAttribute(f),m==null?n.defaults.attrs[f]:n.regex.isNumber.test(m)?parseFloat(m):m;f=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):f=="stroke"&&(this._stroke=m),(f=="fill"||f=="stroke")&&(n.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof n.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new n.Number(m):n.Color.isColor(m)?m=new n.Color(m):Array.isArray(m)&&(m=new n.Array(m)),f=="leading"?this.leading&&this.leading(m):typeof E=="string"?this.node.setAttributeNS(E,f,m.toString()):this.node.setAttribute(f,m.toString()),this.rebuild&&(f=="font-size"||f=="x")&&this.rebuild(f,m)}return this}}),n.extend(n.Element,{transform:function(f,m){var E=this,O,G;if(typeof f!="object")return O=new n.Matrix(E).extract(),typeof f=="string"?O[f]:O;if(O=new n.Matrix(E),m=!!m||!!f.relative,f.a!=null)O=m?O.multiply(new n.Matrix(f)):new n.Matrix(f);else if(f.rotation!=null)N(f,E),O=m?O.rotate(f.rotation,f.cx,f.cy):O.rotate(f.rotation-O.extract().rotation,f.cx,f.cy);else if(f.scale!=null||f.scaleX!=null||f.scaleY!=null){if(N(f,E),f.scaleX=f.scale!=null?f.scale:f.scaleX!=null?f.scaleX:1,f.scaleY=f.scale!=null?f.scale:f.scaleY!=null?f.scaleY:1,!m){var J=O.extract();f.scaleX=f.scaleX*1/J.scaleX,f.scaleY=f.scaleY*1/J.scaleY}O=O.scale(f.scaleX,f.scaleY,f.cx,f.cy)}else if(f.skew!=null||f.skewX!=null||f.skewY!=null){if(N(f,E),f.skewX=f.skew!=null?f.skew:f.skewX!=null?f.skewX:0,f.skewY=f.skew!=null?f.skew:f.skewY!=null?f.skewY:0,!m){var J=O.extract();O=O.multiply(new n.Matrix().skew(J.skewX,J.skewY,f.cx,f.cy).inverse())}O=O.skew(f.skewX,f.skewY,f.cx,f.cy)}else f.flip?(f.flip=="x"||f.flip=="y"?f.offset=f.offset==null?E.bbox()["c"+f.flip]:f.offset:f.offset==null?(G=E.bbox(),f.flip=G.cx,f.offset=G.cy):f.flip=f.offset,O=new n.Matrix().flip(f.flip,f.offset)):(f.x!=null||f.y!=null)&&(m?O=O.translate(f.x,f.y):(f.x!=null&&(O.e=f.x),f.y!=null&&(O.f=f.y)));return this.attr("transform",O)}}),n.extend(n.FX,{transform:function(f,m){var E=this.target(),O,G;return typeof f!="object"?(O=new n.Matrix(E).extract(),typeof f=="string"?O[f]:O):(m=!!m||!!f.relative,f.a!=null?O=new n.Matrix(f):f.rotation!=null?(N(f,E),O=new n.Rotate(f.rotation,f.cx,f.cy)):f.scale!=null||f.scaleX!=null||f.scaleY!=null?(N(f,E),f.scaleX=f.scale!=null?f.scale:f.scaleX!=null?f.scaleX:1,f.scaleY=f.scale!=null?f.scale:f.scaleY!=null?f.scaleY:1,O=new n.Scale(f.scaleX,f.scaleY,f.cx,f.cy)):f.skewX!=null||f.skewY!=null?(N(f,E),f.skewX=f.skewX!=null?f.skewX:0,f.skewY=f.skewY!=null?f.skewY:0,O=new n.Skew(f.skewX,f.skewY,f.cx,f.cy)):f.flip?(f.flip=="x"||f.flip=="y"?f.offset=f.offset==null?E.bbox()["c"+f.flip]:f.offset:f.offset==null?(G=E.bbox(),f.flip=G.cx,f.offset=G.cy):f.flip=f.offset,O=new n.Matrix().flip(f.flip,f.offset)):(f.x!=null||f.y!=null)&&(O=new n.Translate(f.x,f.y)),O?(O.relative=m,this.last().transforms.push(O),this._callStart()):this)}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var f=(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map(function(m){var E=m.trim().split("(");return[E[0],E[1].split(n.regex.delimiter).map(function(O){return parseFloat(O)})]}).reduce(function(m,E){return E[0]=="matrix"?m.multiply($(E[1])):m[E[0]].apply(m,E[1])},new n.Matrix);return f},toParent:function(f){if(this==f)return this;var m=this.screenCTM(),E=f.screenCTM().inverse();return this.addTo(f).untransform().transform(E.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(f,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(f))for(var E=0,O=this.arguments.length;E<O;++E)this[this.arguments[E]]=f[E];else if(typeof f=="object")for(var E=0,O=this.arguments.length;E<O;++E)this[this.arguments[E]]=f[this.arguments[E]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(f){for(var m=[],E=0,O=this.arguments.length;E<O;++E)m.push(this[this.arguments[E]]);var G=this._undo||new n.Matrix;return G=new n.Matrix().morph(n.Matrix.prototype[this.method].apply(G,m)).at(f),this.inversed?G.inverse():G},undo:function(f){for(var m=0,E=this.arguments.length;m<E;++m)f[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:f[this.arguments[m]];return f.cx=this.cx,f.cy=this.cy,this._undo=new n[S(this.method)](f,!0).at(1),this}}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(f,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.Rotate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(f,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(f){var m=new n.Matrix().rotate(new n.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(f),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(f){return this._undo=f,this}}}),n.Scale=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(f,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),n.Skew=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(f,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),n.extend(n.Element,{style:function(f,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof f=="object")for(m in f)this.style(m,f[m]);else if(n.regex.isCss.test(f))for(f=f.split(/\s*;\s*/).filter(function(E){return!!E}).map(function(E){return E.split(/\s*:\s*/)});m=f.pop();)this.style(m[0],m[1]);else return this.node.style[b(f)];else this.node.style[b(f)]=m===null||n.regex.isBlank.test(m)?"":m;return this}}),n.Parent=n.invent({create:function(f){this.constructor.call(this,f)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),function(f){return n.adopt(f)})},add:function(f,m){return m==null?this.node.appendChild(f.node):f.node!=this.node.childNodes[m]&&this.node.insertBefore(f.node,this.node.childNodes[m]),this},put:function(f,m){return this.add(f,m),f},has:function(f){return this.index(f)>=0},index:function(f){return[].slice.call(this.node.childNodes).indexOf(f.node)},get:function(f){return n.adopt(this.node.childNodes[f])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(f,m){var E,O,G=this.children();for(E=0,O=G.length;E<O;E++)G[E]instanceof n.Element&&f.apply(G[E],[E,G]),m&&G[E]instanceof n.Container&&G[E].each(f,m);return this},removeElement:function(f){return this.node.removeChild(f.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(f,m){return m===0||this instanceof n.Defs||this.node==n.parser.draw?this:(f=f||(this instanceof n.Doc?this:this.parent(n.Parent)),m=m||1/0,this.each(function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(f,m-1):this.toParent(f)}),this.node.firstChild||this.remove(),this)},flatten:function(f,m){return this.ungroup(f,m)}}),n.Container=n.invent({create:function(f){this.constructor.call(this,f)},inherit:n.Parent}),n.ViewBox=n.invent({create:function(f){var m=[0,0,0,0],E,O,G,J,me,ue,$e,Ue=1,qe=1,lt=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(f instanceof n.Element){for(ue=f,$e=f,me=(f.attr("viewBox")||"").match(lt),f.bbox,G=new n.Number(f.width()),J=new n.Number(f.height());G.unit=="%";)Ue*=G.value,G=new n.Number(ue instanceof n.Doc?ue.parent().offsetWidth:ue.parent().width()),ue=ue.parent();for(;J.unit=="%";)qe*=J.value,J=new n.Number($e instanceof n.Doc?$e.parent().offsetHeight:$e.parent().height()),$e=$e.parent();this.x=0,this.y=0,this.width=G*Ue,this.height=J*qe,this.zoom=1,me&&(E=parseFloat(me[0]),O=parseFloat(me[1]),G=parseFloat(me[2]),J=parseFloat(me[3]),this.zoom=this.width/this.height>G/J?this.height/J:this.width/G,this.x=E,this.y=O,this.width=G,this.height=J)}else f=typeof f=="string"?f.match(lt).map(function(Ht){return parseFloat(Ht)}):Array.isArray(f)?f:typeof f=="object"?[f.x,f.y,f.width,f.height]:arguments.length==4?[].slice.call(arguments):m,this.x=f[0],this.y=f[1],this.width=f[2],this.height=f[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(f,m,E,O){return this.destination=new n.ViewBox(f,m,E,O),this},at:function(f){return this.destination?new n.ViewBox([this.x+(this.destination.x-this.x)*f,this.y+(this.destination.y-this.y)*f,this.width+(this.destination.width-this.width)*f,this.height+(this.destination.height-this.height)*f]):this}},parent:n.Container,construct:{viewbox:function(f,m,E,O){return arguments.length==0?new n.ViewBox(this):this.attr("viewBox",new n.ViewBox(f,m,E,O))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(f){n.Element.prototype[f]=function(m){return m==null?n.off(this,f):n.on(this,f,m),this}}),n.listenerId=0,n.on=function(f,m,E,O,G){var J=E.bind(O||f),me=f instanceof n.Element?f.node:f;me.instance=me.instance||{_events:{}};var ue=me.instance._events;E._svgjsListenerId||(E._svgjsListenerId=++n.listenerId),m.split(n.regex.delimiter).forEach(function($e){var Ue=$e.split(".")[0],qe=$e.split(".")[1]||"*";ue[Ue]=ue[Ue]||{},ue[Ue][qe]=ue[Ue][qe]||{},ue[Ue][qe][E._svgjsListenerId]=J,me.addEventListener(Ue,J,G||!1)})},n.off=function(f,m,E,O){var G=f instanceof n.Element?f.node:f;if(G.instance&&!(typeof E=="function"&&(E=E._svgjsListenerId,!E))){var J=G.instance._events;(m||"").split(n.regex.delimiter).forEach(function(me){var ue=me&&me.split(".")[0],$e=me&&me.split(".")[1],Ue,qe;if(E)J[ue]&&J[ue][$e||"*"]&&(G.removeEventListener(ue,J[ue][$e||"*"][E],O||!1),delete J[ue][$e||"*"][E]);else if(ue&&$e){if(J[ue]&&J[ue][$e]){for(qe in J[ue][$e])n.off(G,[ue,$e].join("."),qe);delete J[ue][$e]}}else if($e)for(me in J)for(Ue in J[me])$e===Ue&&n.off(G,[me,$e].join("."));else if(ue){if(J[ue]){for(Ue in J[ue])n.off(G,[ue,Ue].join("."));delete J[ue]}}else{for(me in J)n.off(G,me);G.instance._events={}}})}},n.extend(n.Element,{on:function(f,m,E,O){return n.on(this,f,m,E,O),this},off:function(f,m){return n.off(this.node,f,m),this},fire:function(f,m){return f instanceof r.Event?this.node.dispatchEvent(f):this.node.dispatchEvent(f=new n.CustomEvent(f,{detail:m,cancelable:!0})),this._event=f,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(f){return f==null?this.transform("x"):this.transform({x:f-this.x()},!0)},y:function(f){return f==null?this.transform("y"):this.transform({y:f-this.y()},!0)},cx:function(f){return f==null?this.gbox().cx:this.x(f-this.gbox().width/2)},cy:function(f){return f==null?this.gbox().cy:this.y(f-this.gbox().height/2)},gbox:function(){var f=this.bbox(),m=this.transform();return f.x+=m.x,f.x2+=m.x,f.cx+=m.x,f.y+=m.y,f.y2+=m.y,f.cy+=m.y,f}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(f){f&&(f=typeof f=="string"?i.getElementById(f):f,f.nodeName=="svg"?this.constructor.call(this,f):(this.constructor.call(this,n.create("svg")),f.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){if(!this._defs){var f;(f=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(f):this._defs=new n.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var f=this.node.getScreenCTM();return f&&this.style("left",-f.e%1+"px").style("top",-f.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw.parentNode||this.node.appendChild(n.parser.draw),this},clone:function(f){this.writeDataToDom();var m=this.node,E=P(m.cloneNode(!0));return f?(f.node||f).appendChild(E.node):m.parentNode.insertBefore(E.node,m.nextSibling),E}}}),n.extend(n.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var f=this.position()+1,m=this.parent();return m.removeElement(this).add(this,f),m instanceof n.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var f=this.position();return f>0&&this.parent().removeElement(this).add(this,f-1),this},front:function(){var f=this.parent();return f.node.appendChild(this.node),f instanceof n.Doc&&f.node.appendChild(f.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(f){f.remove();var m=this.position();return this.parent().add(f,m),this},after:function(f){f.remove();var m=this.position();return this.parent().add(f,m+1),this}}),n.Mask=n.invent({create:function(){this.constructor.call(this,n.create("mask")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var f=this.targets.length-1;f>=0;f--)this.targets[f]&&this.targets[f].unmask();return this.targets=[],n.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new n.Mask)}}}),n.extend(n.Element,{maskWith:function(f){return this.masker=f instanceof n.Mask?f:this.parent().mask().add(f),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),n.ClipPath=n.invent({create:function(){this.constructor.call(this,n.create("clipPath")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var f=this.targets.length-1;f>=0;f--)this.targets[f]&&this.targets[f].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new n.ClipPath)}}}),n.extend(n.Element,{clipWith:function(f){return this.clipper=f instanceof n.ClipPath?f:this.parent().clip().add(f),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),n.Gradient=n.invent({create:function(f){this.constructor.call(this,n.create(f+"Gradient")),this.type=f},inherit:n.Container,extend:{at:function(f,m,E){return this.put(new n.Stop).update(f,m,E)},update:function(f){return this.clear(),typeof f=="function"&&f.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(f,m,E){return f=="transform"&&(f="gradientTransform"),n.Container.prototype.attr.call(this,f,m,E)}},construct:{gradient:function(f,m){return this.defs().gradient(f,m)}}}),n.extend(n.Gradient,n.FX,{from:function(f,m){return(this._target||this).type=="radial"?this.attr({fx:new n.Number(f),fy:new n.Number(m)}):this.attr({x1:new n.Number(f),y1:new n.Number(m)})},to:function(f,m){return(this._target||this).type=="radial"?this.attr({cx:new n.Number(f),cy:new n.Number(m)}):this.attr({x2:new n.Number(f),y2:new n.Number(m)})}}),n.extend(n.Defs,{gradient:function(f,m){return this.put(new n.Gradient(f)).update(m)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(f){return(typeof f=="number"||f instanceof n.Number)&&(f={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),f.opacity!=null&&this.attr("stop-opacity",f.opacity),f.color!=null&&this.attr("stop-color",f.color),f.offset!=null&&this.attr("offset",new n.Number(f.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(f){return this.clear(),typeof f=="function"&&f.call(this,this),this},toString:function(){return this.fill()},attr:function(f,m,E){return f=="transform"&&(f="patternTransform"),n.Container.prototype.attr.call(this,f,m,E)}},construct:{pattern:function(f,m,E){return this.defs().pattern(f,m,E)}}}),n.extend(n.Defs,{pattern:function(f,m,E){return this.put(new n.Pattern).update(E).attr({x:0,y:0,width:f,height:m,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(f){this.constructor.call(this,f)},inherit:n.Element}),n.Bare=n.invent({create:function(f,m){if(this.constructor.call(this,n.create(f)),m)for(var E in m.prototype)typeof m.prototype[E]=="function"&&(this[E]=m.prototype[E])},inherit:n.Element,extend:{words:function(f){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(i.createTextNode(f)),this}}}),n.extend(n.Parent,{element:function(f,m){return this.put(new n.Bare(f,m))}}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(f,m){return this.attr("href",(m||"")+"#"+f,n.xlink)}},construct:{use:function(f,m){return this.put(new n.Use).element(f,m)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(f,m){return this.put(new n.Rect).size(f,m)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(f){return this.put(new n.Circle).rx(new n.Number(f).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(f){return this.attr("r",f)},ry:function(f){return this.rx(f)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(f,m){return this.put(new n.Ellipse).size(f,m).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(f){return this.attr("rx",f)},ry:function(f){return this.attr("ry",f)}}),n.extend(n.Circle,n.Ellipse,{x:function(f){return f==null?this.cx()-this.rx():this.cx(f+this.rx())},y:function(f){return f==null?this.cy()-this.ry():this.cy(f+this.ry())},cx:function(f){return f==null?this.attr("cx"):this.attr("cx",f)},cy:function(f){return f==null?this.attr("cy"):this.attr("cy",f)},width:function(f){return f==null?this.rx()*2:this.rx(new n.Number(f).divide(2))},height:function(f){return f==null?this.ry()*2:this.ry(new n.Number(f).divide(2))},size:function(f,m){var E=x(this,f,m);return this.rx(new n.Number(E.width).divide(2)).ry(new n.Number(E.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(f,m,E,O){return f==null?this.array():(typeof m<"u"?f={x1:f,y1:m,x2:E,y2:O}:f=new n.PointArray(f).toLine(),this.attr(f))},move:function(f,m){return this.attr(this.array().move(f,m).toLine())},size:function(f,m){var E=x(this,f,m);return this.attr(this.array().size(E.width,E.height).toLine())}},construct:{line:function(f,m,E,O){return n.Line.prototype.plot.apply(this.put(new n.Line),f!=null?[f,m,E,O]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(f){return this.put(new n.Polyline).plot(f||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(f){return this.put(new n.Polygon).plot(f||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(f){return f==null?this.array():this.clear().attr("points",typeof f=="string"?f:this._array=new n.PointArray(f))},clear:function(){return delete this._array,this},move:function(f,m){return this.attr("points",this.array().move(f,m))},size:function(f,m){var E=x(this,f,m);return this.attr("points",this.array().size(E.width,E.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(f){return f==null?this.bbox().x:this.move(f,this.bbox().y)},y:function(f){return f==null?this.bbox().y:this.move(this.bbox().x,f)},width:function(f){var m=this.bbox();return f==null?m.width:this.size(f,m.height)},height:function(f){var m=this.bbox();return f==null?m.height:this.size(m.width,f)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(f){return f==null?this.array():this.clear().attr("d",typeof f=="string"?f:this._array=new n.PathArray(f))},clear:function(){return delete this._array,this},move:function(f,m){return this.attr("d",this.array().move(f,m))},x:function(f){return f==null?this.bbox().x:this.move(f,this.bbox().y)},y:function(f){return f==null?this.bbox().y:this.move(this.bbox().x,f)},size:function(f,m){var E=x(this,f,m);return this.attr("d",this.array().size(E.width,E.height))},width:function(f){return f==null?this.bbox().width:this.size(f,this.bbox().height)},height:function(f){return f==null?this.bbox().height:this.size(this.bbox().width,f)}},construct:{path:function(f){return this.put(new n.Path).plot(f||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(f){if(!f)return this;var m=this,E=new r.Image;return n.on(E,"load",function(){n.off(E);var O=m.parent(n.Pattern);O!==null&&(m.width()==0&&m.height()==0&&m.size(E.width,E.height),O&&O.width()==0&&O.height()==0&&O.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:E.width,height:E.height,ratio:E.width/E.height,url:f}))}),n.on(E,"error",function(O){n.off(E),typeof m._error=="function"&&m._error.call(m,O)}),this.attr("href",E.src=this.src=f,n.xlink)},loaded:function(f){return this._loaded=f,this},error:function(f){return this._error=f,this}},construct:{image:function(f,m,E){return this.put(new n.Image).load(f).size(m||0,E||m||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(f){return f==null?this.attr("x"):this.attr("x",f)},y:function(f){var m=this.attr("y"),E=typeof m=="number"?m-this.bbox().y:0;return f==null?typeof m=="number"?m-E:m:this.attr("y",typeof f.valueOf()=="number"?f+E:f)},cx:function(f){return f==null?this.bbox().cx:this.x(f-this.bbox().width/2)},cy:function(f){return f==null?this.bbox().cy:this.y(f-this.bbox().height/2)},text:function(f){if(typeof f>"u"){for(var f="",m=this.node.childNodes,E=0,O=m.length;E<O;++E)E!=0&&m[E].nodeType!=3&&n.adopt(m[E]).dom.newLined==!0&&(f+=`
`),f+=m[E].textContent;return f}if(this.clear().build(!0),typeof f=="function")f.call(this,this);else{f=f.split(`
`);for(var E=0,G=f.length;E<G;E++)this.tspan(f[E]).newLine()}return this.build(!1).rebuild()},size:function(f){return this.attr("font-size",f).rebuild()},leading:function(f){return f==null?this.dom.leading:(this.dom.leading=new n.Number(f),this.rebuild())},lines:function(){var f=(this.textPath&&this.textPath()||this).node,m=n.utils.map(n.utils.filterSVGElements(f.childNodes),function(E){return n.adopt(E)});return new n.Set(m)},rebuild:function(f){if(typeof f=="boolean"&&(this._rebuild=f),this._rebuild){var m=this,E=0,O=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?E+=O:(this.attr("dy",O+E),E=0))}),this.fire("rebuild")}return this},build:function(f){return this._build=!!f,this},setData:function(f){return this.dom=f,this.dom.leading=new n.Number(f.leading||1.3),this}},construct:{text:function(f){return this.put(new n.Text).text(f)},plain:function(f){return this.put(new n.Text).plain(f)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(f){return f==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof f=="function"?f.call(this,this):this.plain(f),this)},dx:function(f){return this.attr("dx",f)},dy:function(f){return this.attr("dy",f)},newLine:function(){var f=this.parent(n.Text);return this.dom.newLined=!0,this.dy(f.dom.leading*f.attr("font-size")).attr("x",f.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(f){return this._build===!1&&this.clear(),this.node.appendChild(i.createTextNode(f)),this},tspan:function(f){var m=(this.textPath&&this.textPath()||this).node,E=new n.Tspan;return this._build===!1&&this.clear(),m.appendChild(E.node),E.text(f)},clear:function(){for(var f=(this.textPath&&this.textPath()||this).node;f.hasChildNodes();)f.removeChild(f.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,path:function(f){for(var m=new n.TextPath,E=this.doc().defs().path(f);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+E,n.xlink),this},array:function(){var f=this.track();return f?f.array():null},plot:function(f){var m=this.track(),E=null;return m&&(E=m.plot(f)),f==null?E:this},track:function(){var f=this.textPath();if(f)return f.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}}),n.A=n.invent({create:"a",inherit:n.Container,extend:{to:function(f){return this.attr("href",f,n.xlink)},show:function(f){return this.attr("show",f,n.xlink)},target:function(f){return this.attr("target",f)}},construct:{link:function(f){return this.put(new n.A).to(f)}}}),n.extend(n.Element,{linkTo:function(f){var m=new n.A;return typeof f=="function"?f.call(m,m):m.to(f),this.parent().put(m).put(this)}}),n.Marker=n.invent({create:"marker",inherit:n.Container,extend:{width:function(f){return this.attr("markerWidth",f)},height:function(f){return this.attr("markerHeight",f)},ref:function(f,m){return this.attr("refX",f).attr("refY",m)},update:function(f){return this.clear(),typeof f=="function"&&f.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(f,m,E){return this.defs().marker(f,m,E)}}}),n.extend(n.Defs,{marker:function(f,m,E){return this.put(new n.Marker).size(f,m).ref(f/2,m/2).viewbox(0,0,f,m).attr("orient","auto").update(E)}}),n.extend(n.Line,n.Polyline,n.Polygon,n.Path,{marker:function(f,m,E,O){var G=["marker"];return f!="all"&&G.push(f),G=G.join("-"),f=arguments[1]instanceof n.Marker?arguments[1]:this.doc().marker(m,E,O),this.attr(G,f)}});var u={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(f,m){return m=="color"?f:f+"-"+m}};["fill","stroke"].forEach(function(f){var m,E={};E[f]=function(O){if(typeof O>"u")return this;if(typeof O=="string"||n.Color.isRgb(O)||O&&typeof O.fill=="function")this.attr(f,O);else for(m=u[f].length-1;m>=0;m--)O[u[f][m]]!=null&&this.attr(u.prefix(f,u[f][m]),O[u[f][m]]);return this},n.extend(n.Element,n.FX,E)}),n.extend(n.Element,n.FX,{rotate:function(f,m,E){return this.transform({rotation:f,cx:m,cy:E})},skew:function(f,m,E,O){return arguments.length==1||arguments.length==3?this.transform({skew:f,cx:m,cy:E}):this.transform({skewX:f,skewY:m,cx:E,cy:O})},scale:function(f,m,E,O){return arguments.length==1||arguments.length==3?this.transform({scale:f,cx:m,cy:E}):this.transform({scaleX:f,scaleY:m,cx:E,cy:O})},translate:function(f,m){return this.transform({x:f,y:m})},flip:function(f,m){return m=typeof f=="number"?f:m,this.transform({flip:f||"both",offset:m})},matrix:function(f){return this.attr("transform",new n.Matrix(arguments.length==6?[].slice.call(arguments):f))},opacity:function(f){return this.attr("opacity",f)},dx:function(f){return this.x(new n.Number(f).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(f){return this.y(new n.Number(f).plus(this instanceof n.FX?0:this.y()),!0)},dmove:function(f,m){return this.dx(f).dy(m)}}),n.extend(n.Rect,n.Ellipse,n.Circle,n.Gradient,n.FX,{radius:function(f,m){var E=(this._target||this).type;return E=="radial"||E=="circle"?this.attr("r",new n.Number(f)):this.rx(f).ry(m??f)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(f){return this.node.getPointAtLength(f)}}),n.extend(n.Parent,n.Text,n.Tspan,n.FX,{font:function(f,m){if(typeof f=="object")for(m in f)this.font(m,f[m]);return f=="leading"?this.leading(m):f=="anchor"?this.attr("text-anchor",m):f=="size"||f=="family"||f=="weight"||f=="stretch"||f=="variant"||f=="style"?this.attr("font-"+f,m):this.attr(f,m)}}),n.Set=n.invent({create:function(f){f instanceof n.Set?this.members=f.members.slice():Array.isArray(f)?this.members=f:this.clear()},extend:{add:function(){var f,m,E=[].slice.call(arguments);for(f=0,m=E.length;f<m;f++)this.members.push(E[f]);return this},remove:function(f){var m=this.index(f);return m>-1&&this.members.splice(m,1),this},each:function(f){for(var m=0,E=this.members.length;m<E;m++)f.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(f){return this.index(f)>=0},index:function(f){return this.members.indexOf(f)},get:function(f){return this.members[f]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new n.RBox;var f=this.members[0].rbox(this.members[0].doc());return this.each(function(){f=f.merge(this.rbox(this.doc()))}),f}},construct:{set:function(f){return new n.Set(f)}}}),n.FX.Set=n.invent({create:function(f){this.set=f}}),n.Set.inherit=function(){var f,m=[];for(var f in n.Shape.prototype)typeof n.Shape.prototype[f]=="function"&&typeof n.Set.prototype[f]!="function"&&m.push(f);m.forEach(function(E){n.Set.prototype[E]=function(){for(var O=0,G=this.members.length;O<G;O++)this.members[O]&&typeof this.members[O][E]=="function"&&this.members[O][E].apply(this.members[O],arguments);return E=="animate"?this.fx||(this.fx=new n.FX.Set(this)):this}}),m=[];for(var f in n.FX.prototype)typeof n.FX.prototype[f]=="function"&&typeof n.FX.Set.prototype[f]!="function"&&m.push(f);m.forEach(function(E){n.FX.Set.prototype[E]=function(){for(var O=0,G=this.set.members.length;O<G;O++)this.set.members[O].fx[E].apply(this.set.members[O].fx,arguments);return this}})},n.extend(n.Element,{data:function(f,m,E){if(typeof f=="object")for(m in f)this.data(m,f[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+f))}catch{return this.attr("data-"+f)}else this.attr("data-"+f,m===null?null:E===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),n.extend(n.Element,{remember:function(f,m){if(typeof arguments[0]=="object")for(var m in f)this.remember(m,f[m]);else{if(arguments.length==1)return this.memory()[f];this.memory()[f]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var f=arguments.length-1;f>=0;f--)delete this.memory()[arguments[f]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(f){var m=i.getElementById(V(f)||f);return n.adopt(m)},n.select=function(f,m){return new n.Set(n.utils.map((m||i).querySelectorAll(f),function(E){return n.adopt(E)}))},n.extend(n.Parent,{select:function(f){return n.select(f,this.node)}});function d(f,m,E,O){return E+O.replace(n.regex.dots," .")}function p(f){for(var m=f.slice(0),E=m.length;E--;)Array.isArray(m[E])&&(m[E]=p(m[E]));return m}function y(f,m){return f instanceof m}function v(f,m){return(f.matches||f.matchesSelector||f.msMatchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector).call(f,m)}function b(f){return f.toLowerCase().replace(/-(.)/g,function(m,E){return E.toUpperCase()})}function S(f){return f.charAt(0).toUpperCase()+f.slice(1)}function w(f){return f.length==4?["#",f.substring(1,2),f.substring(1,2),f.substring(2,3),f.substring(2,3),f.substring(3,4),f.substring(3,4)].join(""):f}function T(f){var m=f.toString(16);return m.length==1?"0"+m:m}function x(f,m,E){if(m==null||E==null){var O=f.bbox();m==null?m=O.width/O.height*E:E==null&&(E=O.height/O.width*m)}return{width:m,height:E}}function _(f,m,E){return{x:m*f.a+E*f.c+0,y:m*f.b+E*f.d+0}}function $(f){return{a:f[0],b:f[1],c:f[2],d:f[3],e:f[4],f:f[5]}}function M(f){return f instanceof n.Matrix||(f=new n.Matrix(f)),f}function N(f,m){f.cx=f.cx==null?m.bbox().cx:f.cx,f.cy=f.cy==null?m.bbox().cy:f.cy}function C(f){for(var m=0,E=f.length,O="";m<E;m++)O+=f[m][0],f[m][1]!=null&&(O+=f[m][1],f[m][2]!=null&&(O+=" ",O+=f[m][2],f[m][3]!=null&&(O+=" ",O+=f[m][3],O+=" ",O+=f[m][4],f[m][5]!=null&&(O+=" ",O+=f[m][5],O+=" ",O+=f[m][6],f[m][7]!=null&&(O+=" ",O+=f[m][7])))));return O+" "}function P(f){for(var m=f.childNodes.length-1;m>=0;m--)f.childNodes[m]instanceof r.SVGElement&&P(f.childNodes[m]);return n.adopt(f).id(n.eid(f.nodeName))}function k(f){return f.x==null&&(f.x=0,f.y=0,f.width=0,f.height=0),f.w=f.width,f.h=f.height,f.x2=f.x+f.width,f.y2=f.y+f.height,f.cx=f.x+f.width/2,f.cy=f.y+f.height/2,f}function V(f){var m=(f||"").toString().match(n.regex.reference);if(m)return m[1]}function U(f){return Math.abs(f)>1e-37?f:0}var j="abcdef".split("");if(typeof r.CustomEvent!="function"){var Y=function(f,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var E=i.createEvent("CustomEvent");return E.initCustomEvent(f,m.bubbles,m.cancelable,m.detail),E};Y.prototype=r.Event.prototype,n.CustomEvent=Y}else n.CustomEvent=r.CustomEvent;return function(f){for(var m=0,E=["moz","webkit"],O=0;O<E.length&&!r.requestAnimationFrame;++O)f.requestAnimationFrame=f[E[O]+"RequestAnimationFrame"],f.cancelAnimationFrame=f[E[O]+"CancelAnimationFrame"]||f[E[O]+"CancelRequestAnimationFrame"];f.requestAnimationFrame=f.requestAnimationFrame||function(G){var J=new Date().getTime(),me=Math.max(0,16-(J-m)),ue=f.setTimeout(function(){G(J+me)},me);return m=J+me,ue},f.cancelAnimationFrame=f.cancelAnimationFrame||f.clearTimeout}(r),n})}(pg)),pg.exports}var ube=cbe();const Wu=W1(ube);class hbe extends Dr{constructor(t){super(t)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(t,r){return r.getGraphicIcon(t)}getGraphicSymbol(t,r){return r.getGraphicSymbol(t)}makeRenderer(t,r,i=!1){switch(t.type){case this.SIMPLE:return new nbe(t,r);case this.CLASS_BREAKS:return new abe(t,r,i);case this.UNIQUE_VALUE:return new obe(t,r,i);default:throw new Error(`Unknown renderer type encountered - ${t.type}`)}}async generateWMSSymbology(t){const r=Wu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),i={svgcode:"",imgHeight:"",imgWidth:""};if(t){const s=await this.renderSymbologyImage(t);if(s){i.svgcode=s;const n=document.createElement("span");n.innerHTML=s;const o=n.firstElementChild?.lastElementChild;i.imgHeight=o?.getAttribute("height")||"",i.imgWidth=o?.getAttribute("width")||""}else i.svgcode=r.svg()}else i.svgcode=r.svg();return i}listToSymbology(t,r){return r.map(({text:s,image:n})=>{const o={name:s,image:n,svgcode:""};return t(n).then(a=>{o.svgcode=a}),o})}listToIconSymbology(t){return this.listToSymbology(this.renderSymbologyIcon,t)}listToImageSymbology(t){return this.listToSymbology(this.renderSymbologyImage,t)}async renderSymbologyImage(t,r=null){r===null&&(r=Wu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const i=await this.$iApi.geo.shared.convertImagetoDataURL(t);if(i===t)return"";const{loader:s}=await this.svgDrawImage(r,i);return r.viewbox(0,0,s.width,s.height),r.svg()}async renderSymbologyIcon(t,r=null){if(r===null){const n=document.createElement("div");n.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(n),r=Wu(n).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const i=await this.$iApi.geo.shared.convertImagetoDataURL(t),{image:s}=await this.svgDrawImage(r,i);return s.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(s,this.CONTENT_IMAGE_SIZE),r.svg()}generatePlaceholderSymbology(t,r="#000"){const i=Wu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return i.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(r),i.text(t[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(t[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:t,svgcode:i.svg()}}async generateBlankSymbology(){return Wu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(t){const r=this,i=1.33333,s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s);const n=Wu(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:v,path:b}){return n.path(b).size(v*i)},circle({size:v}){return n.circle(v*i)},cross({size:v}){return n.path("M 0,10 L 20,10 M 10,0 L 10,20").size(v*i)},x({size:v}){return n.path("M 0,0 L 20,20 M 20,0 L 0,20").size(v*i)},triangle({size:v}){return n.path("M 20,20 L 10,0 0,20 Z").size(v*i)},diamond({size:v}){return n.path("M 20,10 L 10,0 0,10 10,20 Z").size(v*i)},square({size:v}){return n.path("M 0,0 20,0 20,20 0,20 Z").size(v*i)}},a={[os.SOLID]:"none",[os.NONE]:"none",[os.DASH]:"5.333,4",[os.DOT]:"1.333,4",[os.DASHDOT]:"5.333,4,1.333,4",[os.LONGDASH]:"10.666,4",[os.LONGDASHDOT]:"10.666,4,1.333,4",[os.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[os.SHORTDOT]:"1.333,1.333",[os.SHORTDASH]:"5.333,1.333",[os.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[os.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},u={solid:v=>({color:v.colour,opacity:v.opacity}),none:()=>"transparent",horizontal:(v,b)=>n.pattern(5,5,w=>w.line(0,5/2,5,5/2)).stroke(b),vertical:(v,b)=>n.pattern(5,5,w=>w.line(5/2,0,5/2,5)).stroke(b),"forward-diagonal":(v,b)=>n.pattern(5,5,w=>{w.line(0,0,5,5).stroke(b),w.line(0,0,5,5).move(0,5).stroke(b),w.line(0,0,5,5).move(5,0).stroke(b)}),"backward-diagonal":(v,b)=>n.pattern(5,5,w=>{w.line(5,0,0,5).stroke(b),w.line(5,0,0,5).move(5/2,5/2).stroke(b),w.line(5,0,0,5).move(-5/2,-5/2).stroke(b)}),cross:(v,b)=>n.pattern(5,5,w=>{w.line(5/2,0,5/2,5).stroke(b),w.line(0,5/2,5,5/2).stroke(b)}),"diagonal-cross":(v,b)=>n.pattern(7,7,w=>{w.line(0,0,7,7).stroke(b),w.line(7,0,0,7).stroke(b)})},d={"simple-marker"(){const v=y(t.color);t.outline=t.outline||c;const b=y(t.outline.color),S=p({color:b.colour,opacity:b.opacity,width:t.outline.width,dasharray:a[t.outline.style]}),w=o[t.style](t).fill({color:v.colour,opacity:v.opacity}).stroke(S).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).rotate(t.angle||0);r.fitInto(w,r.CONTENT_SIZE)},"simple-line"(){const v=y(t.color),b=p({color:v.colour,opacity:v.opacity,width:t.width,linecap:"butt",dasharray:a[t.style]}),S=r.CONTENT_PADDING,w=r.CONTAINER_SIZE-r.CONTENT_PADDING;n.line(S,S,w,w).stroke(b)},esriCLS(){this["simple-line"]()},"simple-fill"(){const v=y(t.color),b=p({color:v.colour,opacity:v.opacity}),S=u[t.style](v,b);t.outline=t.outline||c;const w=y(t.outline.color),T=p({color:w.colour,opacity:w.opacity,width:t.outline.width,linecap:"butt",dasharray:a[t.outline.style]});n.rect(r.CONTENT_SIZE,r.CONTENT_SIZE).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).fill(S).stroke(T)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const v=t.imageData?`data:${t.contentType};base64,${t.imageData}`:t.url,b=t.width*t.xscale,S=t.height*t.yscale;t.outline=t.outline||c;const w=y(t.outline.color),T=p({color:w.colour,opacity:w.opacity,width:t.outline.width,dasharray:a[t.outline.style]});return r.$iApi.geo.shared.convertImagetoDataURL(v).then(_=>{const $=n.pattern(b,S,M=>M.image(_,b,S));n.rect(r.CONTENT_SIZE,r.CONTENT_SIZE).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).fill($).stroke(T)})},"picture-marker"(){const v=t.source,b=v&&v.imageData?`data:${v.contentType};base64,${v.imageData}`:t.url;return r.$iApi.geo.shared.convertImagetoDataURL(b).then(w=>r.svgDrawImage(n,w)).then(({image:w})=>{w.center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).rotate(t.angle||0),r.fitInto(w,r.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[t.type]()),document.body.removeChild(s),n.svg()}catch(v){return console.error(v),this.generateBlankSymbology()}function p(v){return Object.assign({},l,v)}function y(v){return v?{colour:`rgb(${v.r},${v.g},${v.b})`,opacity:v.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(t,r,i=0,s=0,n=!0){return new Promise((o,a)=>{const l=t.image(r,i,s,n).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(t,r){const i=t.node.getBoundingClientRect(),s=r/Math.max(i.width,i.height);s<1&&t.scale(s)}rendererToLegend(t){let r;const i=t.symbolUnits.slice(0);if(t.defaultUnit&&i.push(t.defaultUnit),t.falseRenderer)r=i.map(s=>[s]);else{const s=new Map;i.forEach(n=>{const o=s.get(n.label);o?o.push(n):s.set(n.label,[n])}),r=[],s.forEach(n=>r.push(n))}return r.map(s=>{const n=s[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:n.label||"",definitionClause:s.length===1?n.definitionClause:`(${s.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(n.symbol).then(a=>{o.svgcode=a,s.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(t){if(!t)throw new Error("Legend server request is missing the required url.");const r={query:{f:"json"}},i={layers:[]},[s,n]=await eo(Pr(`${t}/legend`,r));return n?n.data?n.data:(console.error(`Error loading legend data for ${t}`),i):(console.error(`Error loading legend for ${t}`,s),i)}async mapServerLegendToRenderer(t,r){const i=t.layers.find(n=>n.layerId===r);let s;if(typeof i<"u"){s={type:"uniqueValue",field:"fakefield",uniqueValueInfos:i.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const n=await gt.RendererFromJson(s);return this.makeRenderer(n,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(t){const r=t.layers.map(n=>n.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),i={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...r)},s=await gt.RendererFromJson(i);return this.makeRenderer(s,[],!0)}async mapServerToLocalLegend(t,r=void 0){const i=await this.getMapServerLegend(t);let s,n;return typeof r>"u"?(n=0,s=await this.mapServerLegendToRendererAll(i)):(n=parseInt(r),s=await this.mapServerLegendToRenderer(i,n)),this.rendererToLegend(s)}}class fbe extends Dr{constructor(t){super(t)}async arcGisServerQueryIds(t){if(!(t.filterGeometry||t.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const r=await gt.Query();r.returnGeometry=!1,t.filterSql&&(r.where=t.filterSql),t.filterGeometry&&(r.geometry=await this.queryGeometryHelper(t.filterGeometry,!1,this.$iApi.geo.map.getScale(),t.sourceSR),r.spatialRelationship="intersects");const i=await gt.QueryByIds(t.url,r);return Array.isArray(i)?i:[]}async geoJsonQuery(t){const r=await gt.Query();if(r.returnGeometry=!!t.includeGeometry,r.outFields=["*"],t.filterGeometry&&(r.geometry=await this.queryGeometryHelper(t.filterGeometry,!0),r.spatialRelationship="intersects"),t.filterSql&&(r.where=t.filterSql),t.filterOIDs&&(r.objectIds=t.filterOIDs),await t.layer.loadPromise(),!t.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await t.layer.esriLayer.queryFeatures(r)).features.map((s,n)=>{let o;return r.returnGeometry?o=this.$iApi.geo.geom.geomEsriToRamp(s.geometry,`queryResult${n}`):o=new Hl,new Hn(o,"",s.attributes)})}async queryGeometryHelper(t,r,i,s){return!r&&t.type===Ke.EXTENT&&s&&!s.isEqual(t.sr)&&!(i&&i>2e7&&t.sr.wkid===3978&&s.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(s,t)).toESRI():t.toESRI()}makeClickBuffer(t,r=5){const i=this.$iApi.geo.map,s=i.getExtent(),n=r*(s.xmax-s.xmin)/i.getPixelWidth();return new Qt("ze_buffer",[t.x-n,t.y-n],[t.x+n,t.y+n],t.sr)}}class dbe extends Dr{attributes;geom;layer;map;proj;query;shared;symbology;constructor(t){super(t),this.geom=Qc.geom,this.proj=Qc.proj,this.shared=Qc.sharedUtils,this.map=new r1e(t),this.layer=new L1e(t),this.attributes=new rbe(t),this.query=new fbe(t),this.symbology=new hbe(t),Array.isArray(yt.request.interceptors)||(yt.request.interceptors=[]),yt.request.interceptors.push({before:r=>{r.url.includes("?blankTile=false")&&(r.url=r.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(t){yt.request.proxyUrl=t}get proxy(){return yt.request.proxyUrl||""}}const pbe=Object.assign({"../fixtures/appbar/index.ts":()=>ve(()=>import("./index-B3BZ72w-.js"),__vite__mapDeps([255,1,256]),import.meta.url),"../fixtures/areas-of-interest/index.ts":()=>ve(()=>import("./index-CxEGeVlk.js"),__vite__mapDeps([257,258,259,1]),import.meta.url),"../fixtures/basemap/index.ts":()=>ve(()=>import("./index-Ce9tBuzf.js"),__vite__mapDeps([260,1]),import.meta.url),"../fixtures/crosshairs/index.ts":()=>ve(()=>import("./index-465Vy0zO.js"),__vite__mapDeps([261,1,262]),import.meta.url),"../fixtures/details/index.ts":()=>ve(()=>import("./index-DLMZ_fLQ.js"),__vite__mapDeps([263,1,264]),import.meta.url),"../fixtures/draw/index.ts":()=>ve(()=>import("./index-KtbunTJY.js").then(e=>e.a),__vite__mapDeps([265,1,266,267,188,99,133,64,134,135,92,93,177,65,66,3,4,268,100,69,70,71,91,101,12,14,102,51,209,269,270,116,103,28,29,105,172,173,271,272,273,274,275,276,277,278,279,280,281,282,5,6,7,8,283,284,285,286,10]),import.meta.url),"../fixtures/export-footnote/index.ts":()=>ve(()=>import("./index-99ofyQZj.js"),__vite__mapDeps([287,288,1]),import.meta.url),"../fixtures/export-legend/index.ts":()=>ve(()=>import("./index-DLqo_zDY.js"),__vite__mapDeps([289,288,1]),import.meta.url),"../fixtures/export-map/index.ts":()=>ve(()=>import("./index-Ds0ewBjN.js"),__vite__mapDeps([290,288,1]),import.meta.url),"../fixtures/export-northarrow/index.ts":()=>ve(()=>import("./index-BfPHtsi5.js"),__vite__mapDeps([291,288,1]),import.meta.url),"../fixtures/export-scalebar/index.ts":()=>ve(()=>import("./index-DE48e6Ex.js"),__vite__mapDeps([292,288,1]),import.meta.url),"../fixtures/export-timestamp/index.ts":()=>ve(()=>import("./index-W6O3fER0.js"),__vite__mapDeps([293,288,1]),import.meta.url),"../fixtures/export-title/index.ts":()=>ve(()=>import("./index-JafQLYBz.js"),__vite__mapDeps([294,288,1]),import.meta.url),"../fixtures/export/index.ts":()=>ve(()=>import("./index-B_bAzBF5.js"),__vite__mapDeps([295,1,296]),import.meta.url),"../fixtures/extentguard/index.ts":()=>ve(()=>import("./index-BqXZrRWK.js"),__vite__mapDeps([297,1]),import.meta.url),"../fixtures/gazebo/index.ts":()=>ve(()=>import("./index-W08AUv0w.js"),__vite__mapDeps([298,1]),import.meta.url),"../fixtures/geosearch/index.ts":()=>ve(()=>import("./index-BSPsVkSh.js"),__vite__mapDeps([299,1]),import.meta.url),"../fixtures/grid/index.ts":()=>ve(()=>import("./index-DIT4PWn_.js"),__vite__mapDeps([300,1,301]),import.meta.url),"../fixtures/help/index.ts":()=>ve(()=>import("./index-D07Q-i4s.js"),__vite__mapDeps([302,1]),import.meta.url),"../fixtures/hilight/index.ts":()=>ve(()=>import("./index--515-2B_.js"),__vite__mapDeps([303,264,1]),import.meta.url),"../fixtures/keyboardnav/index.ts":()=>ve(()=>import("./index-BXMIr9OO.js"),__vite__mapDeps([304,1,305]),import.meta.url),"../fixtures/layer-reorder/index.ts":()=>ve(()=>import("./index-BuPWtDcf.js"),__vite__mapDeps([306,1]),import.meta.url),"../fixtures/legend/index.ts":()=>ve(()=>import("./index-fFSjcElI.js"),__vite__mapDeps([307,1]),import.meta.url),"../fixtures/mapnav/index.ts":()=>ve(()=>import("./index-CKfVQw8Q.js"),__vite__mapDeps([308,1,267,309]),import.meta.url),"../fixtures/metadata/index.ts":()=>ve(()=>import("./index-CCTkw3vx.js"),__vite__mapDeps([310,1]),import.meta.url),"../fixtures/northarrow/index.ts":()=>ve(()=>import("./index-OaQff5ua.js"),__vite__mapDeps([311,1]),import.meta.url),"../fixtures/overviewmap/index.ts":()=>ve(()=>import("./index-DIdexwBC.js"),__vite__mapDeps([312,1,313]),import.meta.url),"../fixtures/panguard/index.ts":()=>ve(()=>import("./index-CgpBVJFS.js"),__vite__mapDeps([314,1,315]),import.meta.url),"../fixtures/scrollguard/index.ts":()=>ve(()=>import("./index-DXLCyk7F.js"),__vite__mapDeps([316,1,317]),import.meta.url),"../fixtures/settings/index.ts":()=>ve(()=>import("./index-DubMVldr.js"),__vite__mapDeps([318,1]),import.meta.url),"../fixtures/snowman/index.ts":()=>ve(()=>import("./index-DEej3XWI.js"),__vite__mapDeps([319,1]),import.meta.url),"../fixtures/swipe/index.ts":()=>ve(()=>import("./index-1gLqjDMe.js"),__vite__mapDeps([320,1,321]),import.meta.url),"../fixtures/wizard/index.ts":()=>ve(()=>import("./index-Dwmp7y_0.js"),__vite__mapDeps([322,1]),import.meta.url)});class mbe extends Dr{constructor(t){super(t)}exists(t){return t in rn(this.$vApp.$pinia).items}async add(t,r){let i;if(t in rn(this.$vApp.$pinia).items)return this.get(t);if(r){if(typeof r!="function")throw new Error("malformed fixture constructor");i=kT.updateBaseToInstance(new r,t,this.$iApi)}else{const s=(await pbe[`../fixtures/${t}/index.ts`]()).default;i=new s(t,this.$iApi)}return rn(this.$vApp.$pinia).addFixture(i),this.$iApi.event.emit(Oe.FIXTURE_ADDED,i),this.$iApi.geo.map.created&&i.initialized?.(),i}remove(t){const r=this.get(t);if(!r)throw new Error(`Could not find fixture ${t} for removal`);return rn(this.$vApp.$pinia).removeFixture(r),this.$iApi.event.emit(Oe.FIXTURE_REMOVED,r),r}flush(){const t=rn(this.$vApp.$pinia);Object.keys(t.items).forEach(i=>{const s=this.get(i);s?.persist&&typeof s?.removed=="function"?s.removed():s&&this.remove(i)})}restore(){const t=rn(this.$vApp.$pinia);Object.keys(t.items).forEach(i=>{const s=t.items[i];typeof s.added=="function"&&s.added(),this.$iApi.geo.map.created&&typeof s.initialized=="function"&&s.initialized()})}get(t){const r=[];typeof t=="string"?r.push(t):Array.isArray(t)?r.push(...t):r.push(t.id);const i=r.map(s=>{const n=rn(this.$vApp.$pinia).items[s];if(n)return n});return i.length===1?i[0]:i}isLoaded(t){const r=rn(this.$vApp.$pinia),i=Array.isArray(t)?t:[t];i.forEach(n=>{r.loadPromises[n]===void 0&&r.addLoadPromise(n)});const s=r.getLoadPromises(i);return Array.isArray(t)?Promise.all(s):s[0]}addDefaultFixtures(t){Array.isArray(t)||(t=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const r=gs(this.$vApp.$pinia);return r.startingFixtures=t,Promise.all(t.map(i=>this.add(i)))}}class kT extends Dr{static updateBaseToInstance(t,r,i){const s=new kT(r,i);return Object.defineProperties(t,{id:{value:r},$iApi:{value:i},persist:{value:t.persist??!0},$vApp:{get(){return s.$vApp}},remove:{value:s.remove},extend:{value:s.extend},config:{get(){return s.config}},mount:{value:s.mount}}),t}id;persist;constructor(t,r){super(r),this.id=t,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(t,r={}){const i=st({extends:t,iApi:this.$iApi,data(){return{...r}}}),s=Vl(i),{el:n}=this.mount(i,{props:{...r.propsData},app:s});return n}mount(t,{props:r,children:i,element:s,app:n}={}){let o=s,a=un(t,r,i);return n&&n._context&&(a.appContext=n._context),o||(o=document.createElement("div")),Gh(a,o),{vNode:a,destroy:()=>{o&&Gh(null,o),o=null,a=null},el:o}}get config(){return gs(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(t){return this.getLayerFixtureConfigs()[t]}getLayerFixtureConfigs(){const t={},r=(i,s=void 0)=>{if(i.fixtures&&i.fixtures[this.id]!==void 0){let n=i.id;s!==void 0&&(n=this.$iApi.geo.layer.sublayerId(s.id,i.index)),t[n]=i.fixtures[this.id]}i.sublayers&&i.sublayers.forEach(n=>r(n,i))};return this.$iApi.geo.layer.allLayers().forEach(i=>r(i.config)),t}handlePanelWidths(t){if(this.config?.panelWidth){const r={};if(typeof this.config.panelWidth=="number")t.forEach(i=>{r[i]=this.config.panelWidth});else{this.config.panelWidth.default&&t.forEach(i=>{r[i]=this.config.panelWidth.default});for(const i in this.config.panelWidth)i!="default"&&(r[i]=this.config.panelWidth[i])}for(const i in r){const s=this.$iApi.panel.get(i);this.$iApi.panel.setStyle(s,{"flex-basis":`${r[i]}px`})}}}handlePanelTeleports(t){if(this.config?.panelTeleport){const r=gu(this.$vApp.$pinia),i=!!this.config.panelTeleport.target;t.forEach(s=>{r.items[s].teleport=i?this.config.panelTeleport:this.config.panelTeleport[s],r.items[s].style.width="100%"})}}}class ybe extends Dr{panelStore=gu(this.$vApp.$pinia);updateHTML(t,r,i){const s=this.get(t),n=i?s.screens[i]:Object.values(s.screens)[0];if(PR(n))for(const o in r)n[o].innerHTML=r[o]instanceof HTMLElement?r[o].outerHTML:r[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(t){for(const i in t.content)if(typeof t.content[i]=="string"){const s=document.createElement("div");s.innerHTML=t.content[i],t.content[i]=s}const r={};return r[t.id]={screens:{},style:t.style??{width:"350px"},alertName:t.alertName},r[t.id].screens[t.id]=t.content,r}registerHTML(t){const r=this.get(t.id);if(r)return console.error("Panel already exist"),r;const i=this.registerHTMLConfig(t),s={i18n:{messages:t.i18nMap}};return this.register(i,s)}register(t,r){const i=gbe(t)?{[t.id]:t.config}:t;if(r){const n=r.i18n||{},o=this.$iApi.$i18n;Object.entries(n.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(n.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(n.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const s=Object.entries(i).reduce((n,[o,a])=>(n.push(new u0(this.$iApi,o,a)),n),[]);return s.forEach(n=>this.panelStore.registerPanel(n)),s.length===1?s[0]:s.reduce((n,o)=>(n[o.id]=o,n),{})}async isRegistered(t){const r=Array.isArray(t)?t:[t];r.forEach(s=>{this.panelStore.regPromises[s]===void 0&&this.panelStore.addRegPromise(s)});const i=this.panelStore.getRegPromises(r);return Array.isArray(t)?Promise.all(i):i[0]}allRegistered(){return Object.keys(this.panelStore.items)}remove(t){const r=this.get(t);r&&(r.isOpen&&this.close(r),this.panelStore.removePanel(r))}get(t){const r=typeof t=="string"?t:t.id;return this.panelStore.items[r]}open(t){let r,i,s;if(typeof t=="string"||t instanceof u0?r=this.get(t):(r=this.get(t.id),{screen:i,props:s}=t),!r)return r;if(r.isOpen&&!r.isVisible)r.minimize();else if(r.isOpen)return r;return i||(r.route&&!s?{screen:i,props:s}=r.route:i=Object.keys(r.screens).pop()),this.show(r,{screen:i,props:s})?(this.panelStore.openPanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Oe.PANEL_OPENED,r)):console.error(`Failed to open ${r.id} panel.`),r}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(t){const r=this.get(t);if(!r)return r;const s=this.visible.slice().indexOf(r),n=this.$vApp.$el.querySelector("[focus-container]");return r.isPinned&&r.pin(!1),this.panelStore.closePanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Oe.PANEL_CLOSED,r),this.$vApp.$nextTick(()=>{const o=s>0?this.visible[s-1]:this.visible[0];o?this.focus(o):n?.focus()}),r}minimize(t){const r=this.get(t);return r&&(r.isPinned&&r.pin(!1),this.panelStore.closePanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Oe.PANEL_MINIMIZED,r),r)}move(t,r){const i=this.get(t);return i&&(this.panelStore.movePanel(i,r),i)}toggle(t,r){let i;return typeof t=="string"||t instanceof u0?i=this.get(t):i=this.get(t.id),i&&(r=typeof r<"u"?r:!i.isVisible,r!==i.isVisible?r?this.open(t):this.close(i):i)}toggleMinimize(t,r){let i;return typeof t=="string"||t instanceof u0?i=this.get(t):i=this.get(t.id),i&&(r=typeof r<"u"?r:!i.isVisible,r!==i.isVisible?r?this.open(i):this.minimize(i):i)}pin(t,r){const i=this.get(t);return!i||(r=typeof r<"u"?r:!i.isPinned,!i.isPinned&&!r)||(this.panelStore.pinned=r?i:void 0),i}get pinned(){return this.panelStore.pinned||void 0}show(t,r){const i=this.get(t);if(!i)return i;if(i.screens[r.screen]){if(i.screens[r.screen]?.props){const s=Object.keys(i.screens[r.screen]?.props).filter(o=>o!=="panel"),n=r.props?Object.keys(r.props):[];for(let o=0;o<s.length;o++)if(!n.includes(s[o])&&i.screens[r.screen].props[s[o]].required)return}return r.screen in this.$element._context.components||i.registerScreen(r.screen),i.teleport&&(r.props={header:!!i.teleport?.showHeader,...r.props}),this.panelStore.items[i.id].route=r,i}}setStyle(t,r,i=!1){const s=this.get(t);return s&&(this.panelStore.items[s.id].style=i?r:{...s.style,...r},s)}expand(t,r){const i=this.get(t);return i&&(this.panelStore.items[i.id].expanded=r!==void 0?r:!i.expanded,i)}focus(t){const r=this.get(t);if(!r)return;this.$vApp.$el.querySelector(`.panel-container [data-cy="${r.id}"] [focus-container], .panel-container [data-cy="${r.id}"] [focus-list]`)?.focus()}}function gbe(e){return e.id!==void 0&&typeof e.id=="string"&&e.config!==void 0}const vbe={};function bbe(e,t){const r=$r("panel-screen");return he(),qt(r,{header:!1,class:"screen-spinner"},{content:Rr(()=>t[0]||(t[0]=[oe("div",{class:"loader"},null,-1)])),_:1})}const _be=Ra(vbe,[["render",bbe],["__scopeId","data-v-d6b3771a"]]),wbe=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>ve(()=>import("./screen-CbMCXXCT.js"),__vite__mapDeps([323,258,259,1]),import.meta.url),"../fixtures/basemap/screen.vue":()=>ve(()=>import("./screen-45yl_Usf.js"),__vite__mapDeps([324,1,325]),import.meta.url),"../fixtures/export/screen.vue":()=>ve(()=>import("./screen-DkWDc3CQ.js"),__vite__mapDeps([326,296,1]),import.meta.url),"../fixtures/geosearch/screen.vue":()=>ve(()=>import("./screen-DIBBK_Ao.js"),__vite__mapDeps([327,1,328]),import.meta.url),"../fixtures/grid/screen.vue":()=>ve(()=>import("./screen-CI4dhu5W.js"),__vite__mapDeps([329,301,1,330]),import.meta.url),"../fixtures/help/screen.vue":()=>ve(()=>import("./screen-CZsiwtTT.js"),__vite__mapDeps([331,332,1,333]),import.meta.url),"../fixtures/layer-reorder/screen.vue":()=>ve(()=>import("./screen-BngKvYc5.js"),__vite__mapDeps([334,335,1,336]),import.meta.url),"../fixtures/legend/screen.vue":()=>ve(()=>import("./screen-Chv78eAG.js"),__vite__mapDeps([337,1]),import.meta.url),"../fixtures/metadata/screen.vue":()=>ve(()=>import("./screen-CnLtuWZe.js"),__vite__mapDeps([338,332,1,339]),import.meta.url),"../fixtures/settings/screen.vue":()=>ve(()=>import("./screen-rPpJDqhW.js"),__vite__mapDeps([340,335,341,342,1,343]),import.meta.url),"../fixtures/wizard/screen.vue":()=>ve(()=>import("./screen-BIhVUndh.js"),__vite__mapDeps([344,335,1,345]),import.meta.url)});class u0 extends Dr{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(t){return this.loadedScreens.indexOf(t)!==-1}registerScreen(t){const r=this.screens[t];let i;if(Hne(r)||zne(r))i=r,this.loadedScreens.push(t);else if(PR(r))i={template:`<panel-screen :panel="this" :screenId="'${t}'">
                           </panel-screen>`};else{let s;typeof r=="string"?s=wbe[`../fixtures/${r}`]():s=r();const n=new Promise((o,a)=>{s.then(l=>{this.loadedScreens.push(t),o(Wne(l)?l.default:l)}),s.catch(l=>a(l))});i=F3({loader:()=>n,loadingComponent:_be,delay:200})}this.$iApi.$element.component(t,i)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(t,r,i){if(super(t),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:r,style:{},expanded:!1,controls:{expand:!1,...i.controls},...i},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(t){return typeof t>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof t=="string"?{screen:t}:t}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(t){return this.$iApi.panel.move(this,t),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const t of this.$iApi.panel.visible)if(!t.teleport)return this.id===t.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let t=this.$iApi.panel.visible.length-1;t>=0;t--)if(!this.$iApi.panel.visible[t].teleport)return this.id===this.$iApi.panel.visible[t].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(t){return typeof t>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof t=="boolean"?t!==this.isOpen&&this.$iApi.panel.toggle(this,t):this.$iApi.panel.toggle({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}toggleMinimize(t){return typeof t>"u"||typeof t=="boolean"?this.$iApi.panel.toggleMinimize(this,t):this.$iApi.panel.toggleMinimize({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}pin(t){return t=typeof t<"u"?t:!this.isPinned,this.$iApi.panel.pin(this,t),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(t){const r=typeof t=="string"?{screen:t}:t;return this.route=r,this.$iApi.panel.show(this,r),this}setStyles(t,r=!1){return this.$iApi.panel.setStyle(this,t,r),this}expand(t){return this.$iApi.panel.expand(this,t),this}}class xbe extends Dr{constructor(t){super(t)}async easyLayer(t,r){const i=this.$iApi.geo.layer.createLayer(t);await this.$iApi.geo.map.addLayer(i);const s=this.$iApi.fixture.get("legend");return s&&(r?s.addItem(r):await s.addLayerItem(i)),i}}function Sbe(e){const t={};(Array.isArray(e)?e:[e]).forEach(o=>{o.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),o.language="en");const a=Ebe(o);t[o.language]=a});const i=Object.entries(t).map(o=>{const a=o[1].fixturesEnabled;return delete o[1].fixturesEnabled,a});let s=!1;const n=i.reduce((o,a)=>o.filter(l=>{const c=a.includes(l);return s=s||!c,c}));return s&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),n.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:n,configs:t}}function Ebe(e){const t={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return $be(e.services,t),Abe(e.map,t),Mbe(e.ui,t),e.plugins&&Ibe(e.plugins,t),t}function Abe(e,t){if(e.layers&&e.layers.forEach(r=>{t.layers.unshift(Tbe(r))}),e.initialBasemapId&&(t.map.initialBasemapId=e.initialBasemapId),e.components){if(e.components.geoSearch&&(e.components.geoSearch.enabled&&t.fixturesEnabled.push("geosearch"),typeof e.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof e.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),e.components.overviewMap&&e.components.overviewMap.enabled&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.startMinimized=!e.components.overviewMap.initiallyExpanded,t.fixtures.overviewmap.expandFactor=e.components.overviewMap.expandFactor??1.5),e.components.northArrow&&e.components.northArrow.enabled){const r={};e.components.northArrow.arrowIcon&&(r.arrowIcon=e.components.northArrow.arrowIcon),e.components.northArrow.poleIcon&&(r.poleIcon=e.components.northArrow.poleIcon),r&&(t.fixtures.northarrow=r,t.fixturesEnabled.push("northarrow"))}if(e.components.scaleBar&&e.components.scaleBar.enabled){switch(t.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:e?.components?.scaleBar?.scalebarUnit==="english"||e?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},e.components?.mouseInfo?.spatialReference?.wkid){case 4326:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:t.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:t.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}e.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}e.components.basemap&&e.components.basemap.enabled&&t.fixturesEnabled.push("basemap")}e.extentSets&&(t.map.extentSets=[],e.extentSets.forEach(r=>{const i={id:r.id,default:{xmin:r.default.xmin,xmax:r.default.xmax,ymin:r.default.ymin,ymax:r.default.ymax,spatialReference:r.spatialReference}};r.full&&(i.full={xmin:r.full.xmin,xmax:r.full.xmax,ymin:r.full.ymin,ymax:r.full.ymax,spatialReference:r.spatialReference}),r.maximum&&(i.maximum={xmin:r.maximum.xmin,xmax:r.maximum.xmax,ymin:r.maximum.ymin,ymax:r.maximum.ymax,spatialReference:r.spatialReference}),t.map.extentSets.push(i)})),e.lodSets&&(t.map.lodSets=e.lodSets),e.tileSchemas&&(t.map.tileSchemas=[],e.tileSchemas.forEach(r=>{const i={id:r.id,name:r.name,extentSetId:r.extentSetId,lodSetId:r.lodSetId,thumbnailTileUrls:[],hasNorthPole:r.hasNorthPole||!1};r.overviewUrl&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.basemaps[r.id]={id:r.overviewUrl.id||`overviewmap-basemap-${r.id}`,tileSchemaId:r.id,layers:[{id:r.overviewUrl.id||`overviewmap-basemap-${r.id}-0`,layerType:r.overviewUrl.layerType==="esriDynamic"?Ce.MAPIMAGE:Ce.TILE,url:r.overviewUrl.url,opacity:r.overviewUrl.opacity??1}]}),t.map.tileSchemas.push(i)})),e.baseMaps&&(t.map.basemaps=[],e.baseMaps.forEach(r=>{const i={id:r.id,tileSchemaId:r.tileSchemaId,name:r.name,description:r.description,altText:r.altText,thumbnailUrl:r.thumbnailUrl,layers:[]};r.attribution&&(i.attribution={text:{},logo:{}},r.attribution.text&&(i.attribution.text.disabled=!r.attribution.text.enabled,i.attribution.text.value=r.attribution.text.value),r.attribution.logo&&(i.attribution.logo.disabled=!r.attribution.logo.enabled,i.attribution.logo.altText=r.attribution.logo.altText,i.attribution.logo.value=r.attribution.logo.value,i.attribution.logo.link=r.attribution.logo.link)),r.layers.forEach((s,n)=>{const o={id:s.id||`${r.id}-${n}`,layerType:s.layerType==="esriDynamic"?Ce.MAPIMAGE:Ce.TILE,url:s.url,opacity:s.opacity??1};i.layers.push(o)}),t.map.basemaps.push(i)})),e.legend&&(t.fixturesEnabled.push("legend"),e.legend.type==="autopopulate"?(t.fixtures.legend={root:{name:"I'm root",children:[]}},t.layers&&t.layers.toReversed().forEach(r=>{if(r.type==="esri-map-image"||r.type==="ogc-wms"){const i={name:r.name??`${r.id} Group`,children:[]};r.sublayers.forEach(s=>{const n={layerId:r.id};s.name&&(n.name=s.name),s.controls&&(n.controls=s.controls),s.disabledControls&&(n.disabledControls=s.disabledControls),r.type==="esri-map-image"?n.sublayerIndex=s.index:(n.sublayerId=s.id,console.warn(`sublayerId property defined in legend entry ${n.layerId} is currently not supported.`)),i.children.push(n)}),t.fixtures.legend.root.children.push(i)}else{const i={layerId:r.id};r.controls&&(i.controls=r.controls),r.disabledControls&&(i.disabledControls=r.disabledControls),t.fixtures.legend.root.children.push(i)}})):t.fixtures.legend={root:DS(e.legend.root)})}function DS(e){const t={name:e.name,children:[]};typeof e.hidden<"u"&&(t.hidden=e.hidden),typeof e.expanded<"u"&&(t.expanded=e.expanded);const r=["identify","opacity","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=Mf(e.controls,r),e.controls.includes("visibility")&&t.controls.push("visibilityButton"),(e.controls.length!==1||e.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),t.controls.push("expandButton")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=Mf(e.disabledControls,r),e.disabledControls.includes("visibility")&&t.disabledControls.push("visibilityButton"),(e.disabledControls.length!==1||e.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),e.children.forEach(i=>{if(i.layerId)t.children.push(jC(i));else if(i.infoType)i.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`):(t.children.push({infoType:i.infoType,content:i.content}),typeof i.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`));else if(i.exclusiveVisibility){const s={name:"Visibility Set",children:[],exclusive:!0};typeof i.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`),i.exclusiveVisibility.forEach(n=>{n.layerId?s.children.push(jC(n)):s.children.push(DS(n))}),t.children.push(s)}else t.children.push(DS(i))}),t}function jC(e){const t=e,r=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.layerControls=Mf(e.controls,r),t.layerControls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledLayerControls=Mf(e.disabledControls,r)),e.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),delete t.controlledIds),e.entryIndex&&(t.sublayerIndex=e.entryIndex,delete e.entryIndex),e.entryId&&console.warn(`entryId property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),t}function Tbe(e){const t=x_(e);switch(t.id=e.id,t.url=e.url,e.refreshInterval&&(t.refreshInterval=e.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),e.expectedResponseTime&&(t.expectedLoadTime=e.expectedResponseTime),e.metadataUrl&&(t.metadata={url:e.metadataUrl}),e.catalogueUrl&&(t.catalogueUrl=e.catalogueUrl),typeof e.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.tooltipField&&(t.tooltipField=e.tooltipField),e.tolerance&&(t.mouseTolerance=e.tolerance,e.layerType==="esriDynamic"&&(t.touchTolerance=e.tolerance+10)),e.customRenderer&&(t.customRenderer=e.customRenderer),e.layerType){case"esriDynamic":t.layerType="esri-map-image",typeof e.singleEntryCollapse<"u"&&(t.singleEntryCollapse=e.singleEntryCollapse),e.imageFormat&&(t.imageFormat=e.imageFormat),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(r=>{const i=x_(r);i.index=r.index,t.sublayers.push(i)}));break;case"esriFeature":t.layerType="esri-feature",e.fileType&&(t.layerType=e.fileType==="shapefile"?"file-shape":`file-${e.fileType}`,e.colour&&(t.colour=e.colour),e.latField&&(t.latField=e.latField),e.longField&&(t.longField=e.longField));break;case"ogcWfs":t.layerType="ogc-wfs",e.colour&&(t.colour=e.colour),typeof e.xyInAttribs<"u"&&(t.xyInAttribs=e.xyInAttribs);break;case"ogcWms":t.layerType="ogc-wms",e.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.featureInfoMimeType&&(e.featureInfoMimeType==="text/html;fgpv=summary"?t.featureInfoMimeType="text/html":t.featureInfoMimeType=e.featureInfoMimeType),e.legendMimeType&&console.warn(`legendMimeType property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(r=>{const i=x_(r);i.id=r.id,r.currentStyle&&(i.currentStyle=r.currentStyle,console.warn(`currentStyle property provided in layer entry ${r.id} of layer ${e.id} is currently not supported.`)),r.allStyles&&console.warn(`allStyles property provided in layer entry ${r.id} of layer ${e.id} cannot be mapped and will be skipped.`),t.sublayers.push(i)}));break;case"esriImage":t.layerType="esri-imagery";break;case"esriTile":t.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${e.layerType}`)}return e.details&&console.warn(`Details config provided in layer ${e.id} cannot be mapped and will be skipped.`),t}function x_(e){const t={};e.name&&(t.name=e.name),e.nameField&&(t.nameField=e.nameField),e.extent&&(t.extent=e.extent);const r=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=Mf(e.controls,r),t.controls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=Mf(e.disabledControls,r)),e.state&&(t.state={opacity:e.state.opacity??1,visibility:e.state.visibility??!0,identify:e.state.query??!0,hovertips:e.state.hovertips??!0},typeof e.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`)),typeof e.stateOnly<"u"&&(t.cosmetic=e.stateOnly),e.initialFilteredQuery&&(t.initialFilteredQuery=e.initialFilteredQuery),Obe(e,t),(typeof e.toggleSymbology<"u"||e.table)&&(t.fixtures={},typeof e.toggleSymbology<"u"&&(t.fixtures.legend={toggleSymbology:e.toggleSymbology}),e.table&&(t.fixtures.grid={},e.table.title&&(t.fixtures.grid.title=e.table.title),e.table.description&&console.warn(`description property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.search&&(e.table.search.enabled&&(t.fixtures.grid.search=e.table.search.enabled),e.table.search.value&&(t.fixtures.grid.searchFilter=e.table.search.value)),typeof e.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.applyMap<"u"&&(t.fixtures.grid.applyMap=e.table.applyMap),typeof e.table.showFilter<"u"&&(t.fixtures.grid.showFilter=e.table.showFilter),typeof e.table.filterByExtent<"u"&&(t.fixtures.grid.filterByExtent=e.table.filterByExtent),typeof e.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.columns&&(t.fixtures.grid.columns=[],e.table.columns.forEach(i=>{const s={field:i.data};i.title&&(s.title=i.title),i.description&&console.warn(`description property provided in column property in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof i.visible<"u"&&(s.visible=i.visible),i.width&&(s.width=i.width),i.sort&&(s.sort=i.sort),typeof i.searchable<"u"&&(s.searchable=i.searchable),i.filter&&(s.filter=i.filter),t.fixtures.grid.columns.push(s)})))),t}function Mf(e,t){const r=[];return e.forEach(i=>{t.includes("identify")&&i==="query"?r.push("identify"):t.includes("datatable")&&i==="data"?r.push("datatable"):t.includes(i)?r.push(i):console.warn(`Ignored invalid control: ${i}`)}),r}function $be(e,t){if(!e)return;e.search&&(t.fixtures.geosearch={},t.fixtures.geosearch.serviceUrls={geoNames:e.search.serviceUrls.geoNames,geoLocation:e.search.serviceUrls.geoLocation,geoProvince:e.search.serviceUrls.provinces,geoTypes:e.search.serviceUrls.types},e.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),e.search.settings&&(t.fixtures.geosearch.settings=e.search.settings),e.search.disabledSearches&&(t.fixtures.geosearch.settings.disabledSearchTypes=e.search.disabledSearches.filter(i=>i!=="SCALE"))),e.export&&(t.fixtures.export||(t.fixtures.export={},t.fixturesEnabled.push("export")),e.export.title&&(t.fixtures.export.title={selected:e.export.title.isSelected??!0,selectable:e.export.title.isSelectable??!0,value:e.export.title.value??"RAMP-Map / PCAR-Carte"}),e.export.map&&(t.fixtures.export.map={selected:e.export.map.isSelected??!0,selectable:e.export.map.isSelectable??!0},e.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),e.export.mapElements&&(t.fixtures.export.mapElements={selected:e.export.mapElements.isSelected??!0,selectable:e.export.mapElements.isSelectable??!0},e.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),e.export.legend&&(t.fixtures.export.legend={selected:e.export.legend.isSelected??!0,selectable:e.export.legend.isSelectable??!0},e.export.legend.columnWidth&&(t.fixtures.export.legend.columnWidth=e.export.legend.columnWidth),e.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),e.export.footnote&&(t.fixtures.export.footnote={selected:e.export.footnote.isSelected??!0,selectable:e.export.footnote.isSelectable??!0,value:e.export.footnote.value??""}),e.export.timestamp&&(t.fixtures.export.timestamp={selected:e.export.timestamp.isSelected??!0,selectable:e.export.timestamp.isSelectable??!0},e.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),e.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof e.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),e.proxyUrl&&(t.system.proxyUrl=e.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(i=>{typeof e[i]<"u"&&console.warn(`${i} property provided in services config cannot be mapped and will be skipped.`)})}function Mbe(e,t){if(e.navBar){t.fixtures.mapnav={zoomOption:e.navBar.zoom||"buttons",items:[]};const s=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];e.navBar.extra.forEach(n=>{const o=n.toLowerCase();s.includes(o)?t.fixtures.mapnav.items.push(o):console.warn(`Ignored invalid mapnav item: ${n}`)}),t.fixturesEnabled.push("mapnav")}if(e.help&&(t.fixtures.help={location:e.help.folderName&&e.help.folderName!=="default"?`./${e.help.folderName}`:"./help",panelWidth:350},t.fixturesEnabled.push("help")),e.legend){const s=["groupToggle","visibilityToggle"];e.legend.reorderable&&s.push("layerReorder"),e.legend.allowImport&&s.push("wizard"),t.fixtures.legend?t.fixtures.legend.headerControls=s:(t.fixturesEnabled.push("legend"),t.fixtures.legend={headerControls:s,root:{}}),e.legend.isOpen&&e.legend.isOpen.large&&t.panels.open.push({id:"legend"})}t.fixtures.appbar={items:[]},t.fixturesEnabled.push("appbar");const r=["layers","basemap","export","help","geoSearch"];e.appBar?(e.appBar.layers!==!1&&(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")),e.appBar.geoSearch!==!1&&t.fixturesEnabled.includes("geosearch")&&t.fixtures.appbar.items.push("geosearch"),e.appBar.basemap!==!1&&t.fixtures.appbar.items.push("basemap")):(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend"),t.fixtures.appbar.items.push("geosearch"),t.fixtures.appbar.items.push("basemap")),e.sideMenu&&e.sideMenu.items&&e.sideMenu.items.length>0&&e.sideMenu.items.forEach(s=>{s.forEach(n=>{n==="layers"&&!t.fixtures.appbar.items.includes("legend")?(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")):n!=="layers"&&r.includes(n)&&!t.fixtures.appbar.items.includes(n.toLowerCase())&&(t.fixtures.appbar.items.push(n.toLowerCase()),(n.toLowerCase()==="help"||n.toLowerCase()==="export"&&!t.fixturesEnabled.includes(n.toLowerCase()))&&t.fixturesEnabled.push(n.toLowerCase()))})}),e.tableIsOpen&&e.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(s=>{typeof e[s]<"u"&&console.warn(`${s} property provided in services config cannot be mapped and will be skipped.`)})}function Ibe(e,t){e.areasOfInterest.enable&&(t.fixturesEnabled.includes("areas-of-interest")||t.fixturesEnabled.push("areas-of-interest"),e.areasOfInterest.areas&&(t.fixtures["areas-of-interest"]={areas:e.areasOfInterest.areas.map(r=>({title:`${r["title-en-CA"]} / ${r["title-fr-CA"]}`,thumbnail:r.thumbnailUrl,altText:r.altText??"",description:r.description??"",extent:{xmin:r.xmin,xmax:r.xmax,ymin:r.ymin,ymax:r.ymax,spatialReference:{wkid:r.wkid}}}))}))}function Obe(e,t){const r=e.outfields&&e.outfields!=="*";if(!r&&!e.fieldMetadata)return;const i={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};e.fieldMetadata?(i.fieldInfo=e.fieldMetadata.map(s=>{const n={name:s.data};return s.alias&&(n.alias=s.alias),n}),r&&(e.outfields.split(",").map(n=>n.trim()).forEach(n=>{i.fieldInfo.findIndex(o=>o.name===n)===-1&&i.fieldInfo.push({name:n})}),i.exclusiveFields=!0)):r&&(i.fieldInfo=e.outfields.split(",").map(s=>({name:s.trim()})),i.exclusiveFields=!0),t.fieldMetadata=i}var lh={major:"4",minor:"14",patch:"0",timestamp:"Thu Nov 20 15:49:20 2025 -0500",hash:"962d8a7b7a4b18c601fdd19b43218ee07020dc1b"};console.info(`RAMP v${lh.major}.${lh.minor}.${lh.patch} [${lh.hash.slice(0,9)}] (Built on ${new Date(lh.timestamp.toString()).toLocaleString()})`);const md=lh;function JAe(e){return Sbe(e)}const KAe=(e,t,r)=>new Zve(e,t,r),Qc=new qne;export{Ip as $,k5 as A,xy as B,I5 as C,Ge as D,Uwe as E,kT as F,gEe as G,Pr as H,ro as I,rAe as J,TX as K,ge as L,de as M,lV as N,Mt as O,Qj as P,lAe as Q,nwe as R,Ck as S,iu as T,Mwe as U,ai as V,cAe as W,Hj as X,A as Y,ie as Z,g as _,Hh as a,zj as a$,Xe as a0,to as a1,oP as a2,Iq as a3,Op as a4,d2e as a5,Gt as a6,Mr as a7,ywe as a8,f0 as a9,I1 as aA,GE as aB,_P as aC,W_ as aD,Pm as aE,su as aF,Nj as aG,us as aH,ni as aI,CZ as aJ,$m as aK,Twe as aL,tP as aM,rP as aN,uq as aO,T1 as aP,$1 as aQ,Do as aR,Zi as aS,Vee as aT,YAe as aU,Zn as aV,Rm as aW,sN as aX,oN as aY,nN as aZ,iN as a_,Mp as aa,If as ab,yt as ac,nAe as ad,twe as ae,tG as af,Al as ag,Pt as ah,i_e as ai,kr as aj,mj as ak,Lf as al,ee as am,vj as an,Jn as ao,Fwe as ap,Yn as aq,sr as ar,X as as,ui as at,xr as au,bu as av,Zr as aw,k_ as ax,Z5 as ay,BB as az,RE as b,Uf as b$,pEe as b0,X4 as b1,o3e as b2,oz as b3,sK as b4,wL as b5,PSe as b6,NSe as b7,ISe as b8,kE as b9,v6 as bA,m1 as bB,xt as bC,Lp as bD,GV as bE,Kxe as bF,Jxe as bG,Ns as bH,mSe as bI,Ms as bJ,PE as bK,yj as bL,DSe as bM,yK as bN,LJ as bO,C$ as bP,s6 as bQ,is as bR,xE as bS,QK as bT,XK as bU,HL as bV,$Se as bW,TSe as bX,vSe as bY,Gp as bZ,Vp as b_,AK as ba,Ki as bb,g5 as bc,aK as bd,Og as be,dSe as bf,Re as bg,Nh as bh,M2e as bi,F6 as bj,U6 as bk,r_e as bl,E_e as bm,e6 as bn,v1 as bo,x1 as bp,d6 as bq,Bn as br,_G as bs,lE as bt,hE as bu,wG as bv,w1 as bw,iwe as bx,cwe as by,dwe as bz,KAe as c,qE as c$,FSe as c0,vwe as c1,gwe as c2,at as c3,El as c4,Nf as c5,Iwe as c6,Hbe as c7,Wbe as c8,iSe as c9,Nm as cA,kl as cB,Wn as cC,JAe as cD,vee as cE,od as cF,Vu as cG,Fk as cH,f3 as cI,qQ as cJ,HQ as cK,u3 as cL,h3 as cM,er as cN,CAe as cO,_Ae as cP,wM as cQ,P2 as cR,ESe as cS,X2e as cT,jf as cU,wu as cV,IX as cW,OX as cX,CX as cY,c1 as cZ,NZ as c_,Ybe as ca,Ll as cb,xEe as cc,Fo as cd,tf as ce,_r as cf,uj as cg,Xbe as ch,qd as ci,mt as cj,Bbe as ck,y2e as cl,i5 as cm,ut as cn,Yu as co,cr as cp,Y6 as cq,b0 as cr,KG as cs,t_e as ct,xwe as cu,rSe as cv,J2e as cw,Np as cx,pwe as cy,Om as cz,Xj as d,KC as d$,aAe as d0,oAe as d1,LSe as d2,kg as d3,RZ as d4,DZ as d5,FZ as d6,Vbe as d7,Wr as d8,Ir as d9,oK as dA,Zxe as dB,T5 as dC,rN as dD,Nxe as dE,WH as dF,uP as dG,Q6 as dH,lK as dI,RSe as dJ,X6 as dK,kSe as dL,iK as dM,U_e as dN,F_e as dO,nG as dP,tu as dQ,uE as dR,aEe as dS,OSe as dT,YG as dU,wwe as dV,HG as dW,Mn as dX,$X as dY,Dbe as dZ,l5 as d_,Hr as da,Ei as db,Rs as dc,e2 as dd,jm as de,Yw as df,kxe as dg,VEe as dh,l3e as di,F_ as dj,Xxe as dk,n3e as dl,dxe as dm,N5 as dn,E_ as dp,r2e as dq,t5 as dr,lq as ds,tM as dt,WSe as du,HSe as dv,KSe as dw,JSe as dx,YSe as dy,nK as dz,Ts as e,o2 as e$,Kbe as e0,y5 as e1,nSe as e2,qbe as e3,u1 as e4,h1 as e5,s5 as e6,o5 as e7,a5 as e8,u2e as e9,Mq as eA,Rwe as eB,Dwe as eC,qwe as eD,q2e as eE,jE as eF,lZ as eG,pW as eH,Bu as eI,VX as eJ,BAe as eK,DAe as eL,KQ as eM,V2e as eN,Nl as eO,K2e as eP,B2e as eQ,RAe as eR,zG as eS,g3e as eT,f3e as eU,cSe as eV,aSe as eW,km as eX,Ti as eY,lSe as eZ,uSe as e_,Ra as ea,be as eb,he as ec,oe as ed,wP as ee,Oz as ef,fs as eg,Fxe as eh,Xh as ei,nxe as ej,u2 as ek,Exe as el,C1 as em,yE as en,gE as eo,Sxe as ep,Pxe as eq,Dz as er,MH as es,Rz as et,AH as eu,P_e as ev,N_e as ew,Aq as ex,$q as ey,Tq as ez,aN as f,f1 as f$,Axe as f0,RP as f1,kP as f2,NH as f3,ya as f4,X_ as f5,mxe as f6,Ji as f7,vE as f8,Ku as f9,gu as fA,Ave as fB,et as fC,It as fD,qt as fE,$r as fF,Me as fG,Rr as fH,Ql as fI,kt as fJ,Ot as fK,ur as fL,$t as fM,av as fN,Tv as fO,hb as fP,Qr as fQ,vi as fR,Br as fS,so as fT,Lt as fU,Po as fV,Tve as fW,Oe as fX,Qt as fY,Ze as fZ,F3 as f_,l_e as fa,sAe as fb,XSe as fc,sZ as fd,nZ as fe,Jb as ff,I_e as fg,c2e as fh,iAe as fi,JEe as fj,u3e as fk,ewe as fl,fwe as fm,Owe as fn,Cwe as fo,_3e as fp,Z2e as fq,Bj as fr,xK as fs,SK as ft,EK as fu,Ar as fv,mW as fw,Vwe as fx,st as fy,nr as fz,Qc as g,Dp as g$,Ij as g0,j3e as g1,cu as g2,Bp as g3,e2e as g4,JT as g5,C3e as g6,Fs as g7,kZ as g8,Oh as g9,d0 as gA,i3e as gB,zEe as gC,rxe as gD,Dxe as gE,Lxe as gF,DH as gG,Wxe as gH,HH as gI,J_ as gJ,v2e as gK,dk as gL,GEe as gM,NE as gN,hAe as gO,IEe as gP,mE as gQ,EEe as gR,Oq as gS,yq as gT,cP as gU,REe as gV,kEe as gW,VZ as gX,QP as gY,X3e as gZ,xX as g_,uG as ga,ql as gb,jxe as gc,w0 as gd,ch as ge,M1 as gf,Rxe as gg,_u as gh,D_e as gi,mwe as gj,D6 as gk,jwe as gl,uwe as gm,ik as gn,eB as go,XH as gp,mH as gq,Zbe as gr,tH as gs,Zwe as gt,Ewe as gu,oq as gv,aq as gw,Jbe as gx,BZ as gy,nq as gz,EG as h,Fg as h$,J$ as h0,fxe as h1,vP as h2,bP as h3,O2 as h4,exe as h5,zS as h6,tE as h7,A5 as h8,bZ as h9,Wh as hA,mB as hB,H2e as hC,O5 as hD,oS as hE,Hve as hF,I as hG,i$ as hH,C5 as hI,p2e as hJ,bX as hK,F2e as hL,bwe as hM,J_e as hN,Ly as hO,W1 as hP,FQ as hQ,LZ as hR,PZ as hS,dH as hT,aH as hU,dq as hV,St as hW,txe as hX,pxe as hY,gz as hZ,PP as h_,YE as ha,c3 as hb,PAe as hc,OAe as hd,IAe as he,NAe as hf,Dl as hg,z2e as hh,Eve as hi,ir as hj,Av as hk,zve as hl,T6 as hm,P6 as hn,Pf as ho,A2e as hp,Pp as hq,b1 as hr,pq as hs,Awe as ht,zbe as hu,c5 as hv,q_e as hw,OV as hx,kV as hy,FV as hz,Ft as i,S2e as i$,sH as i0,zd as i1,Qwe as i2,Ube as i3,FEe as i4,DEe as i5,K_ as i6,JH as i7,qxe as i8,qve as i9,Vve as iA,CC as iB,il as iC,QF as iD,OT as iE,Ce as iF,Wve as iG,gs as iH,ra as iI,Hn as iJ,xl as iK,Jl as iL,um as iM,Dr as iN,hy as iO,Yg as iP,Kve as iQ,C3 as iR,Dn as iS,mb as iT,P3 as iU,rk as iV,Nk as iW,Lk as iX,US as iY,x2e as iZ,jS as i_,gb as ia,dW as ib,iH as ic,nH as id,oH as ie,nE as ig,gG as ih,O_e as ii,dz as ij,_2e as ik,w2e as il,b2e as im,iG as io,tD as ip,Tm as iq,Kwe as ir,mA as is,iy as it,qC as iu,Nbe as iv,sj as iw,Pbe as ix,nj as iy,ZF as iz,ze as j,E0 as j$,tk as j0,Yh as j1,pSe as j2,SE as j3,$_e as j4,I2e as j5,zE as j6,qEe as j7,BEe as j8,lEe as j9,CSe as jA,EX as jB,uAe as jC,gAe as jD,U3e as jE,D3e as jF,sM as jG,Ai as jH,Sj as jI,P2e as jJ,_6 as jK,Zq as jL,sz as jM,dP as jN,Xwe as jO,kk as jP,$we as jQ,YS as jR,b_e as jS,v_e as jT,wB as jU,_B as jV,lxe as jW,sxe as jX,g_e as jY,Q3e as jZ,K3e as j_,yz as ja,$G as jb,rr as jc,X0 as jd,h6 as je,wo as jf,lH as jg,Y2e as jh,pP as ji,ez as jj,c_e as jk,u_e as jl,Rbe as jm,fF as jn,xue as jo,io as jp,lme as jq,cme as jr,yb as js,ht as jt,zwe as ju,Hwe as jv,awe as jw,pG as jx,wW as jy,R3e as jz,bj as k,L0 as k$,XP as k0,yxe as k1,uEe as k2,hEe as k3,fEe as k4,Ixe as k5,$xe as k6,xxe as k7,Xz as k8,Txe as k9,Az as kA,Cz as kB,QH as kC,gP as kD,dAe as kE,pAe as kF,fAe as kG,jp as kH,Qve as kI,Yve as kJ,gt as kK,Zp as kL,MT as kM,Bve as kN,eo as kO,AT as kP,Ci as kQ,je as kR,wge as kS,oSe as kT,GS as kU,un as kV,hP as kW,$2e as kX,dZ as kY,NK as kZ,j1 as k_,CH as ka,M_e as kb,Gxe as kc,cEe as kd,Vc as ke,Gc as kf,rwe as kg,b6 as kh,_1 as ki,hwe as kj,k1e as kk,J1e as kl,R1e as km,Jve as kn,JP as ko,ZH as kp,Hxe as kq,p1 as kr,_we as ks,v$ as kt,yAe as ku,a2e as kv,uxe as kw,EP as kx,Iz as ky,TP as kz,Mm as l,Bz as l$,RK as l0,_Z as l1,k3e as l2,aj as l3,zi as l4,fa as l5,ml as l6,Ur as l7,cX as l8,T2e as l9,Gve as lA,H3 as lB,Xt as lC,jEe as lD,UEe as lE,HZ as lF,C_e as lG,qS as lH,Y_e as lI,zh as lJ,gl as lK,vr as lL,Bwe as lM,Swe as lN,dj as lO,vG as lP,I$ as lQ,sB as lR,A_e as lS,T_e as lT,IB as lU,Lbe as lV,cH as lW,wz as lX,xz as lY,vz as lZ,Ez as l_,UZ as la,t2e as lb,wZ as lc,P$ as ld,bB as le,sl as lf,n5 as lg,Q_e as lh,M6 as li,eP as lj,$$ as lk,C6 as ll,ySe as lm,k_e as ln,Qbe as lo,NP as lp,jbe as lq,nEe as lr,swe as ls,zK as lt,Ve as lu,Sr as lv,Ao as lw,XF as lx,RS as ly,A9 as lz,uR as m,Z3e as m$,wf as m0,Epe as m1,ko as m2,Vr as m3,Hf as m4,ame as m5,Ke as m6,K3 as m7,q3 as m8,xi as m9,pz as mA,V3e as mB,oi as mC,si as mD,c3e as mE,yB as mF,G2e as mG,h_e as mH,KH as mI,h2e as mJ,o2e as mK,kwe as mL,Lwe as mM,S5 as mN,E2e as mO,XL as mP,VK as mQ,n$ as mR,QG as mS,eq as mT,W6 as mU,H6 as mV,Nwe as mW,Pwe as mX,Eq as mY,SEe as mZ,J3e as m_,M8 as ma,jz as mb,Mz as mc,S0 as md,zxe as me,JQ as mf,y_e as mg,g1 as mh,Ia as mi,HS as mj,zSe as mk,fSe as ml,F3e as mm,Rn as mn,ok as mo,P3e as mp,N3e as mq,L3e as mr,hSe as ms,DE as mt,Q2e as mu,m2e as mv,k2e as mw,Lz as mx,Gz as my,VAe as mz,Zj as n,Gwe as n$,Y3e as n0,H3e as n1,n2e as n2,YK as n3,WK as n4,BE as n5,tR as n6,See as n7,Lee as n8,qAe as n9,zH as nA,Bxe as nB,tW as nC,Yxe as nD,an as nE,oxe as nF,tn as nG,Wwe as nH,Cj as nI,m_e as nJ,lwe as nK,uH as nL,Hz as nM,hxe as nN,Tz as nO,ck as nP,N2e as nQ,cxe as nR,gK as nS,UK as nT,qp as nU,Hp as nV,bK as nW,O2e as nX,G3e as nY,AP as nZ,Uz as n_,Eee as na,TAe as nb,Hk as nc,GAe as nd,bee as ne,eee as nf,$u as ng,Gh as nh,dA as ni,$h as nj,u0 as nk,ma as nl,pn as nm,Mi as nn,Nr as no,sSe as np,rZ as nq,MSe as nr,bSe as ns,xSe as nt,_Se as nu,SSe as nv,wSe as nw,ASe as nx,XT as ny,gSe as nz,Jt as o,MEe as o$,Aa as o0,qi as o1,tAe as o2,U2e as o3,hj as o4,s2e as o5,i2e as o6,IH as o7,Fbe as o8,gj as o9,$3e as oA,T3e as oB,g2e as oC,HEe as oD,ixe as oE,s3e as oF,L2e as oG,dEe as oH,In as oI,mAe as oJ,eH as oK,gxe as oL,_xe as oM,Oxe as oN,vxe as oO,wxe as oP,Cxe as oQ,PH as oR,ZEe as oS,dh as oT,qZ as oU,kbe as oV,OEe as oW,WEe as oX,Gbe as oY,Nz as oZ,GZ as o_,l2e as oa,t3e as ob,r3e as oc,pH as od,lk as oe,EW as of,AEe as og,e_e as oh,__e as oi,W3e as oj,Jj as ok,cZ as ol,Uxe as om,Wq as on,Vq as oo,b$ as op,R_e as oq,Vxe as or,Bm as os,Vm as ot,Gm as ou,a3e as ov,YEe as ow,XEe as ox,KEe as oy,C2e as oz,E1 as p,QEe as p0,$Ee as p1,TEe as p2,axe as p3,j2e as p4,e3e as p5,jZ as p6,owe as q,m5 as r,ft as s,VS as t,UAe as u,Cm as v,eAe as w,KE as x,Qd as y,va as z};
