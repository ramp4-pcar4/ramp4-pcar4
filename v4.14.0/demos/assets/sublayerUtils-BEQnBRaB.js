function f(o,r,n){return r.flatten(({sublayers:i})=>i).length!==o.length?!0:!!o.some(i=>i.originIdOf("minScale")>n||i.originIdOf("maxScale")>n||i.originIdOf("renderer")>n||i.originIdOf("labelingInfo")>n||i.originIdOf("opacity")>n||i.originIdOf("labelsVisible")>n||i.originIdOf("source")>n)||!l(o,r)}function s(o,r,n){return!!o.some(e=>{const i=e.source,t=!i||i.type==="map-layer"&&i.mapLayerId===e.id&&(i.gdbVersion==null||i.gdbVersion===n);e.commitProperty("renderer"),e.commitProperty("labelingInfo"),e.commitProperty("opacity"),e.commitProperty("labelsVisible"),e.commitProperty("orderBy");const a=e.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1;return!t||e.originIdOf("renderer")>2||e.originIdOf("labelingInfo")>2||e.originIdOf("opacity")>2||e.originIdOf("labelsVisible")>2||a&&e.originIdOf("orderBy")>2})||!l(o,r)}function l(o,r){if(!o?.length||r==null)return!0;const n=r.slice().reverse().flatten(({sublayers:t})=>t&&t.toArray().reverse()).map(t=>t.id).toArray();if(o.length>n.length)return!1;let e=0;const i=n.length;for(const{id:t}of o){for(;e<i&&n[e]!==t;)e++;if(e>=i)return!1}return!0}function c(o){return!!o&&o.some(r=>r.minScale!=null||r.layerDefinition?.minScale!=null)}export{s as e,c as n,f as r};
