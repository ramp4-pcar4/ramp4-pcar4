{"version":3,"file":"flatgeobuf-Dd2813h3.js","sources":["../../node_modules/flatbuffers/mjs/utils.js","../../node_modules/flatbuffers/mjs/encoding.js","../../node_modules/flatbuffers/mjs/byte-buffer.js","../../node_modules/flatbuffers/mjs/builder.js","../../node_modules/slice-source/empty.js","../../node_modules/slice-source/cancel.js","../../node_modules/slice-source/concat.js","../../node_modules/slice-source/read.js","../../node_modules/slice-source/slice.js","../../node_modules/slice-source/index.js","../../node_modules/flatgeobuf/lib/mjs/flat-geobuf/column-type.js","../../node_modules/flatgeobuf/lib/mjs/flat-geobuf/column.js","../../node_modules/flatgeobuf/lib/mjs/flat-geobuf/crs.js","../../node_modules/flatgeobuf/lib/mjs/flat-geobuf/geometry-type.js","../../node_modules/flatgeobuf/lib/mjs/flat-geobuf/header.js","../../node_modules/flatgeobuf/lib/mjs/flat-geobuf/geometry.js","../../node_modules/flatgeobuf/lib/mjs/flat-geobuf/feature.js","../../node_modules/flatgeobuf/lib/mjs/header-meta.js","../../node_modules/flatgeobuf/lib/mjs/generic/geometry.js","../../node_modules/flatgeobuf/lib/mjs/generic/feature.js","../../node_modules/@repeaterjs/repeater/repeater.js","../../node_modules/flatgeobuf/lib/mjs/config.js","../../node_modules/flatgeobuf/lib/mjs/packedrtree.js","../../node_modules/flatgeobuf/lib/mjs/constants.js","../../node_modules/flatgeobuf/lib/mjs/http-reader.js","../../node_modules/flatgeobuf/lib/mjs/generic/header.js","../../node_modules/flatgeobuf/lib/mjs/generic/featurecollection.js","../../node_modules/ol/proj/Units.js","../../node_modules/ol/proj/Projection.js","../../node_modules/ol/proj/epsg3857.js","../../node_modules/ol/proj/epsg4326.js","../../node_modules/ol/proj/transforms.js","../../node_modules/ol/proj.js","../../node_modules/flatgeobuf/lib/mjs/geojson/geometry.js","../../node_modules/flatgeobuf/lib/mjs/geojson/feature.js","../../node_modules/flatgeobuf/lib/mjs/geojson/featurecollection.js","../../node_modules/flatgeobuf/lib/mjs/geojson.js"],"sourcesContent":["export const int32 = new Int32Array(2);\nexport const float32 = new Float32Array(int32.buffer);\nexport const float64 = new Float64Array(int32.buffer);\nexport const isLittleEndian = new Uint16Array(new Uint8Array([1, 0]).buffer)[0] === 1;\n","export var Encoding;\n(function (Encoding) {\n    Encoding[Encoding[\"UTF8_BYTES\"] = 1] = \"UTF8_BYTES\";\n    Encoding[Encoding[\"UTF16_STRING\"] = 2] = \"UTF16_STRING\";\n})(Encoding || (Encoding = {}));\n","import { FILE_IDENTIFIER_LENGTH, SIZEOF_INT } from \"./constants.js\";\nimport { int32, isLittleEndian, float32, float64 } from \"./utils.js\";\nimport { Encoding } from \"./encoding.js\";\nexport class ByteBuffer {\n    /**\n     * Create a new ByteBuffer with a given array of bytes (`Uint8Array`)\n     */\n    constructor(bytes_) {\n        this.bytes_ = bytes_;\n        this.position_ = 0;\n        this.text_decoder_ = new TextDecoder();\n    }\n    /**\n     * Create and allocate a new ByteBuffer with a given size.\n     */\n    static allocate(byte_size) {\n        return new ByteBuffer(new Uint8Array(byte_size));\n    }\n    clear() {\n        this.position_ = 0;\n    }\n    /**\n     * Get the underlying `Uint8Array`.\n     */\n    bytes() {\n        return this.bytes_;\n    }\n    /**\n     * Get the buffer's position.\n     */\n    position() {\n        return this.position_;\n    }\n    /**\n     * Set the buffer's position.\n     */\n    setPosition(position) {\n        this.position_ = position;\n    }\n    /**\n     * Get the buffer's capacity.\n     */\n    capacity() {\n        return this.bytes_.length;\n    }\n    readInt8(offset) {\n        return this.readUint8(offset) << 24 >> 24;\n    }\n    readUint8(offset) {\n        return this.bytes_[offset];\n    }\n    readInt16(offset) {\n        return this.readUint16(offset) << 16 >> 16;\n    }\n    readUint16(offset) {\n        return this.bytes_[offset] | this.bytes_[offset + 1] << 8;\n    }\n    readInt32(offset) {\n        return this.bytes_[offset] | this.bytes_[offset + 1] << 8 | this.bytes_[offset + 2] << 16 | this.bytes_[offset + 3] << 24;\n    }\n    readUint32(offset) {\n        return this.readInt32(offset) >>> 0;\n    }\n    readInt64(offset) {\n        return BigInt.asIntN(64, BigInt(this.readUint32(offset)) + (BigInt(this.readUint32(offset + 4)) << BigInt(32)));\n    }\n    readUint64(offset) {\n        return BigInt.asUintN(64, BigInt(this.readUint32(offset)) + (BigInt(this.readUint32(offset + 4)) << BigInt(32)));\n    }\n    readFloat32(offset) {\n        int32[0] = this.readInt32(offset);\n        return float32[0];\n    }\n    readFloat64(offset) {\n        int32[isLittleEndian ? 0 : 1] = this.readInt32(offset);\n        int32[isLittleEndian ? 1 : 0] = this.readInt32(offset + 4);\n        return float64[0];\n    }\n    writeInt8(offset, value) {\n        this.bytes_[offset] = value;\n    }\n    writeUint8(offset, value) {\n        this.bytes_[offset] = value;\n    }\n    writeInt16(offset, value) {\n        this.bytes_[offset] = value;\n        this.bytes_[offset + 1] = value >> 8;\n    }\n    writeUint16(offset, value) {\n        this.bytes_[offset] = value;\n        this.bytes_[offset + 1] = value >> 8;\n    }\n    writeInt32(offset, value) {\n        this.bytes_[offset] = value;\n        this.bytes_[offset + 1] = value >> 8;\n        this.bytes_[offset + 2] = value >> 16;\n        this.bytes_[offset + 3] = value >> 24;\n    }\n    writeUint32(offset, value) {\n        this.bytes_[offset] = value;\n        this.bytes_[offset + 1] = value >> 8;\n        this.bytes_[offset + 2] = value >> 16;\n        this.bytes_[offset + 3] = value >> 24;\n    }\n    writeInt64(offset, value) {\n        this.writeInt32(offset, Number(BigInt.asIntN(32, value)));\n        this.writeInt32(offset + 4, Number(BigInt.asIntN(32, value >> BigInt(32))));\n    }\n    writeUint64(offset, value) {\n        this.writeUint32(offset, Number(BigInt.asUintN(32, value)));\n        this.writeUint32(offset + 4, Number(BigInt.asUintN(32, value >> BigInt(32))));\n    }\n    writeFloat32(offset, value) {\n        float32[0] = value;\n        this.writeInt32(offset, int32[0]);\n    }\n    writeFloat64(offset, value) {\n        float64[0] = value;\n        this.writeInt32(offset, int32[isLittleEndian ? 0 : 1]);\n        this.writeInt32(offset + 4, int32[isLittleEndian ? 1 : 0]);\n    }\n    /**\n     * Return the file identifier.   Behavior is undefined for FlatBuffers whose\n     * schema does not include a file_identifier (likely points at padding or the\n     * start of a the root vtable).\n     */\n    getBufferIdentifier() {\n        if (this.bytes_.length < this.position_ + SIZEOF_INT +\n            FILE_IDENTIFIER_LENGTH) {\n            throw new Error('FlatBuffers: ByteBuffer is too short to contain an identifier.');\n        }\n        let result = \"\";\n        for (let i = 0; i < FILE_IDENTIFIER_LENGTH; i++) {\n            result += String.fromCharCode(this.readInt8(this.position_ + SIZEOF_INT + i));\n        }\n        return result;\n    }\n    /**\n     * Look up a field in the vtable, return an offset into the object, or 0 if the\n     * field is not present.\n     */\n    __offset(bb_pos, vtable_offset) {\n        const vtable = bb_pos - this.readInt32(bb_pos);\n        return vtable_offset < this.readInt16(vtable) ? this.readInt16(vtable + vtable_offset) : 0;\n    }\n    /**\n     * Initialize any Table-derived type to point to the union at the given offset.\n     */\n    __union(t, offset) {\n        t.bb_pos = offset + this.readInt32(offset);\n        t.bb = this;\n        return t;\n    }\n    /**\n     * Create a JavaScript string from UTF-8 data stored inside the FlatBuffer.\n     * This allocates a new string and converts to wide chars upon each access.\n     *\n     * To avoid the conversion to string, pass Encoding.UTF8_BYTES as the\n     * \"optionalEncoding\" argument. This is useful for avoiding conversion when\n     * the data will just be packaged back up in another FlatBuffer later on.\n     *\n     * @param offset\n     * @param opt_encoding Defaults to UTF16_STRING\n     */\n    __string(offset, opt_encoding) {\n        offset += this.readInt32(offset);\n        const length = this.readInt32(offset);\n        offset += SIZEOF_INT;\n        const utf8bytes = this.bytes_.subarray(offset, offset + length);\n        if (opt_encoding === Encoding.UTF8_BYTES)\n            return utf8bytes;\n        else\n            return this.text_decoder_.decode(utf8bytes);\n    }\n    /**\n     * Handle unions that can contain string as its member, if a Table-derived type then initialize it,\n     * if a string then return a new one\n     *\n     * WARNING: strings are immutable in JS so we can't change the string that the user gave us, this\n     * makes the behaviour of __union_with_string different compared to __union\n     */\n    __union_with_string(o, offset) {\n        if (typeof o === 'string') {\n            return this.__string(offset);\n        }\n        return this.__union(o, offset);\n    }\n    /**\n     * Retrieve the relative offset stored at \"offset\"\n     */\n    __indirect(offset) {\n        return offset + this.readInt32(offset);\n    }\n    /**\n     * Get the start of data of a vector whose offset is stored at \"offset\" in this object.\n     */\n    __vector(offset) {\n        return offset + this.readInt32(offset) + SIZEOF_INT; // data starts after the length\n    }\n    /**\n     * Get the length of a vector whose offset is stored at \"offset\" in this object.\n     */\n    __vector_len(offset) {\n        return this.readInt32(offset + this.readInt32(offset));\n    }\n    __has_identifier(ident) {\n        if (ident.length != FILE_IDENTIFIER_LENGTH) {\n            throw new Error('FlatBuffers: file identifier must be length ' +\n                FILE_IDENTIFIER_LENGTH);\n        }\n        for (let i = 0; i < FILE_IDENTIFIER_LENGTH; i++) {\n            if (ident.charCodeAt(i) != this.readInt8(this.position() + SIZEOF_INT + i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * A helper function for generating list for obj api\n     */\n    createScalarList(listAccessor, listLength) {\n        const ret = [];\n        for (let i = 0; i < listLength; ++i) {\n            const val = listAccessor(i);\n            if (val !== null) {\n                ret.push(val);\n            }\n        }\n        return ret;\n    }\n    /**\n     * A helper function for generating list for obj api\n     * @param listAccessor function that accepts an index and return data at that index\n     * @param listLength listLength\n     * @param res result list\n     */\n    createObjList(listAccessor, listLength) {\n        const ret = [];\n        for (let i = 0; i < listLength; ++i) {\n            const val = listAccessor(i);\n            if (val !== null) {\n                ret.push(val.unpack());\n            }\n        }\n        return ret;\n    }\n}\n","import { ByteBuffer } from \"./byte-buffer.js\";\nimport { SIZEOF_SHORT, SIZE_PREFIX_LENGTH, SIZEOF_INT, FILE_IDENTIFIER_LENGTH } from \"./constants.js\";\nexport class Builder {\n    /**\n     * Create a FlatBufferBuilder.\n     */\n    constructor(opt_initial_size) {\n        /** Minimum alignment encountered so far. */\n        this.minalign = 1;\n        /** The vtable for the current table. */\n        this.vtable = null;\n        /** The amount of fields we're actually using. */\n        this.vtable_in_use = 0;\n        /** Whether we are currently serializing a table. */\n        this.isNested = false;\n        /** Starting offset of the current struct/table. */\n        this.object_start = 0;\n        /** List of offsets of all vtables. */\n        this.vtables = [];\n        /** For the current vector being built. */\n        this.vector_num_elems = 0;\n        /** False omits default values from the serialized data */\n        this.force_defaults = false;\n        this.string_maps = null;\n        this.text_encoder = new TextEncoder();\n        let initial_size;\n        if (!opt_initial_size) {\n            initial_size = 1024;\n        }\n        else {\n            initial_size = opt_initial_size;\n        }\n        /**\n         * @type {ByteBuffer}\n         * @private\n         */\n        this.bb = ByteBuffer.allocate(initial_size);\n        this.space = initial_size;\n    }\n    clear() {\n        this.bb.clear();\n        this.space = this.bb.capacity();\n        this.minalign = 1;\n        this.vtable = null;\n        this.vtable_in_use = 0;\n        this.isNested = false;\n        this.object_start = 0;\n        this.vtables = [];\n        this.vector_num_elems = 0;\n        this.force_defaults = false;\n        this.string_maps = null;\n    }\n    /**\n     * In order to save space, fields that are set to their default value\n     * don't get serialized into the buffer. Forcing defaults provides a\n     * way to manually disable this optimization.\n     *\n     * @param forceDefaults true always serializes default values\n     */\n    forceDefaults(forceDefaults) {\n        this.force_defaults = forceDefaults;\n    }\n    /**\n     * Get the ByteBuffer representing the FlatBuffer. Only call this after you've\n     * called finish(). The actual data starts at the ByteBuffer's current position,\n     * not necessarily at 0.\n     */\n    dataBuffer() {\n        return this.bb;\n    }\n    /**\n     * Get the bytes representing the FlatBuffer. Only call this after you've\n     * called finish().\n     */\n    asUint8Array() {\n        return this.bb.bytes().subarray(this.bb.position(), this.bb.position() + this.offset());\n    }\n    /**\n     * Prepare to write an element of `size` after `additional_bytes` have been\n     * written, e.g. if you write a string, you need to align such the int length\n     * field is aligned to 4 bytes, and the string data follows it directly. If all\n     * you need to do is alignment, `additional_bytes` will be 0.\n     *\n     * @param size This is the of the new element to write\n     * @param additional_bytes The padding size\n     */\n    prep(size, additional_bytes) {\n        // Track the biggest thing we've ever aligned to.\n        if (size > this.minalign) {\n            this.minalign = size;\n        }\n        // Find the amount of alignment needed such that `size` is properly\n        // aligned after `additional_bytes`\n        const align_size = ((~(this.bb.capacity() - this.space + additional_bytes)) + 1) & (size - 1);\n        // Reallocate the buffer if needed.\n        while (this.space < align_size + size + additional_bytes) {\n            const old_buf_size = this.bb.capacity();\n            this.bb = Builder.growByteBuffer(this.bb);\n            this.space += this.bb.capacity() - old_buf_size;\n        }\n        this.pad(align_size);\n    }\n    pad(byte_size) {\n        for (let i = 0; i < byte_size; i++) {\n            this.bb.writeInt8(--this.space, 0);\n        }\n    }\n    writeInt8(value) {\n        this.bb.writeInt8(this.space -= 1, value);\n    }\n    writeInt16(value) {\n        this.bb.writeInt16(this.space -= 2, value);\n    }\n    writeInt32(value) {\n        this.bb.writeInt32(this.space -= 4, value);\n    }\n    writeInt64(value) {\n        this.bb.writeInt64(this.space -= 8, value);\n    }\n    writeFloat32(value) {\n        this.bb.writeFloat32(this.space -= 4, value);\n    }\n    writeFloat64(value) {\n        this.bb.writeFloat64(this.space -= 8, value);\n    }\n    /**\n     * Add an `int8` to the buffer, properly aligned, and grows the buffer (if necessary).\n     * @param value The `int8` to add the buffer.\n     */\n    addInt8(value) {\n        this.prep(1, 0);\n        this.writeInt8(value);\n    }\n    /**\n     * Add an `int16` to the buffer, properly aligned, and grows the buffer (if necessary).\n     * @param value The `int16` to add the buffer.\n     */\n    addInt16(value) {\n        this.prep(2, 0);\n        this.writeInt16(value);\n    }\n    /**\n     * Add an `int32` to the buffer, properly aligned, and grows the buffer (if necessary).\n     * @param value The `int32` to add the buffer.\n     */\n    addInt32(value) {\n        this.prep(4, 0);\n        this.writeInt32(value);\n    }\n    /**\n     * Add an `int64` to the buffer, properly aligned, and grows the buffer (if necessary).\n     * @param value The `int64` to add the buffer.\n     */\n    addInt64(value) {\n        this.prep(8, 0);\n        this.writeInt64(value);\n    }\n    /**\n     * Add a `float32` to the buffer, properly aligned, and grows the buffer (if necessary).\n     * @param value The `float32` to add the buffer.\n     */\n    addFloat32(value) {\n        this.prep(4, 0);\n        this.writeFloat32(value);\n    }\n    /**\n     * Add a `float64` to the buffer, properly aligned, and grows the buffer (if necessary).\n     * @param value The `float64` to add the buffer.\n     */\n    addFloat64(value) {\n        this.prep(8, 0);\n        this.writeFloat64(value);\n    }\n    addFieldInt8(voffset, value, defaultValue) {\n        if (this.force_defaults || value != defaultValue) {\n            this.addInt8(value);\n            this.slot(voffset);\n        }\n    }\n    addFieldInt16(voffset, value, defaultValue) {\n        if (this.force_defaults || value != defaultValue) {\n            this.addInt16(value);\n            this.slot(voffset);\n        }\n    }\n    addFieldInt32(voffset, value, defaultValue) {\n        if (this.force_defaults || value != defaultValue) {\n            this.addInt32(value);\n            this.slot(voffset);\n        }\n    }\n    addFieldInt64(voffset, value, defaultValue) {\n        if (this.force_defaults || value !== defaultValue) {\n            this.addInt64(value);\n            this.slot(voffset);\n        }\n    }\n    addFieldFloat32(voffset, value, defaultValue) {\n        if (this.force_defaults || value != defaultValue) {\n            this.addFloat32(value);\n            this.slot(voffset);\n        }\n    }\n    addFieldFloat64(voffset, value, defaultValue) {\n        if (this.force_defaults || value != defaultValue) {\n            this.addFloat64(value);\n            this.slot(voffset);\n        }\n    }\n    addFieldOffset(voffset, value, defaultValue) {\n        if (this.force_defaults || value != defaultValue) {\n            this.addOffset(value);\n            this.slot(voffset);\n        }\n    }\n    /**\n     * Structs are stored inline, so nothing additional is being added. `d` is always 0.\n     */\n    addFieldStruct(voffset, value, defaultValue) {\n        if (value != defaultValue) {\n            this.nested(value);\n            this.slot(voffset);\n        }\n    }\n    /**\n     * Structures are always stored inline, they need to be created right\n     * where they're used.  You'll get this assertion failure if you\n     * created it elsewhere.\n     */\n    nested(obj) {\n        if (obj != this.offset()) {\n            throw new TypeError('FlatBuffers: struct must be serialized inline.');\n        }\n    }\n    /**\n     * Should not be creating any other object, string or vector\n     * while an object is being constructed\n     */\n    notNested() {\n        if (this.isNested) {\n            throw new TypeError('FlatBuffers: object serialization must not be nested.');\n        }\n    }\n    /**\n     * Set the current vtable at `voffset` to the current location in the buffer.\n     */\n    slot(voffset) {\n        if (this.vtable !== null)\n            this.vtable[voffset] = this.offset();\n    }\n    /**\n     * @returns Offset relative to the end of the buffer.\n     */\n    offset() {\n        return this.bb.capacity() - this.space;\n    }\n    /**\n     * Doubles the size of the backing ByteBuffer and copies the old data towards\n     * the end of the new buffer (since we build the buffer backwards).\n     *\n     * @param bb The current buffer with the existing data\n     * @returns A new byte buffer with the old data copied\n     * to it. The data is located at the end of the buffer.\n     *\n     * uint8Array.set() formally takes {Array<number>|ArrayBufferView}, so to pass\n     * it a uint8Array we need to suppress the type check:\n     * @suppress {checkTypes}\n     */\n    static growByteBuffer(bb) {\n        const old_buf_size = bb.capacity();\n        // Ensure we don't grow beyond what fits in an int.\n        if (old_buf_size & 0xC0000000) {\n            throw new Error('FlatBuffers: cannot grow buffer beyond 2 gigabytes.');\n        }\n        const new_buf_size = old_buf_size << 1;\n        const nbb = ByteBuffer.allocate(new_buf_size);\n        nbb.setPosition(new_buf_size - old_buf_size);\n        nbb.bytes().set(bb.bytes(), new_buf_size - old_buf_size);\n        return nbb;\n    }\n    /**\n     * Adds on offset, relative to where it will be written.\n     *\n     * @param offset The offset to add.\n     */\n    addOffset(offset) {\n        this.prep(SIZEOF_INT, 0); // Ensure alignment is already done.\n        this.writeInt32(this.offset() - offset + SIZEOF_INT);\n    }\n    /**\n     * Start encoding a new object in the buffer.  Users will not usually need to\n     * call this directly. The FlatBuffers compiler will generate helper methods\n     * that call this method internally.\n     */\n    startObject(numfields) {\n        this.notNested();\n        if (this.vtable == null) {\n            this.vtable = [];\n        }\n        this.vtable_in_use = numfields;\n        for (let i = 0; i < numfields; i++) {\n            this.vtable[i] = 0; // This will push additional elements as needed\n        }\n        this.isNested = true;\n        this.object_start = this.offset();\n    }\n    /**\n     * Finish off writing the object that is under construction.\n     *\n     * @returns The offset to the object inside `dataBuffer`\n     */\n    endObject() {\n        if (this.vtable == null || !this.isNested) {\n            throw new Error('FlatBuffers: endObject called without startObject');\n        }\n        this.addInt32(0);\n        const vtableloc = this.offset();\n        // Trim trailing zeroes.\n        let i = this.vtable_in_use - 1;\n        // eslint-disable-next-line no-empty\n        for (; i >= 0 && this.vtable[i] == 0; i--) { }\n        const trimmed_size = i + 1;\n        // Write out the current vtable.\n        for (; i >= 0; i--) {\n            // Offset relative to the start of the table.\n            this.addInt16(this.vtable[i] != 0 ? vtableloc - this.vtable[i] : 0);\n        }\n        const standard_fields = 2; // The fields below:\n        this.addInt16(vtableloc - this.object_start);\n        const len = (trimmed_size + standard_fields) * SIZEOF_SHORT;\n        this.addInt16(len);\n        // Search for an existing vtable that matches the current one.\n        let existing_vtable = 0;\n        const vt1 = this.space;\n        outer_loop: for (i = 0; i < this.vtables.length; i++) {\n            const vt2 = this.bb.capacity() - this.vtables[i];\n            if (len == this.bb.readInt16(vt2)) {\n                for (let j = SIZEOF_SHORT; j < len; j += SIZEOF_SHORT) {\n                    if (this.bb.readInt16(vt1 + j) != this.bb.readInt16(vt2 + j)) {\n                        continue outer_loop;\n                    }\n                }\n                existing_vtable = this.vtables[i];\n                break;\n            }\n        }\n        if (existing_vtable) {\n            // Found a match:\n            // Remove the current vtable.\n            this.space = this.bb.capacity() - vtableloc;\n            // Point table to existing vtable.\n            this.bb.writeInt32(this.space, existing_vtable - vtableloc);\n        }\n        else {\n            // No match:\n            // Add the location of the current vtable to the list of vtables.\n            this.vtables.push(this.offset());\n            // Point table to current vtable.\n            this.bb.writeInt32(this.bb.capacity() - vtableloc, this.offset() - vtableloc);\n        }\n        this.isNested = false;\n        return vtableloc;\n    }\n    /**\n     * Finalize a buffer, poiting to the given `root_table`.\n     */\n    finish(root_table, opt_file_identifier, opt_size_prefix) {\n        const size_prefix = opt_size_prefix ? SIZE_PREFIX_LENGTH : 0;\n        if (opt_file_identifier) {\n            const file_identifier = opt_file_identifier;\n            this.prep(this.minalign, SIZEOF_INT +\n                FILE_IDENTIFIER_LENGTH + size_prefix);\n            if (file_identifier.length != FILE_IDENTIFIER_LENGTH) {\n                throw new TypeError('FlatBuffers: file identifier must be length ' +\n                    FILE_IDENTIFIER_LENGTH);\n            }\n            for (let i = FILE_IDENTIFIER_LENGTH - 1; i >= 0; i--) {\n                this.writeInt8(file_identifier.charCodeAt(i));\n            }\n        }\n        this.prep(this.minalign, SIZEOF_INT + size_prefix);\n        this.addOffset(root_table);\n        if (size_prefix) {\n            this.addInt32(this.bb.capacity() - this.space);\n        }\n        this.bb.setPosition(this.space);\n    }\n    /**\n     * Finalize a size prefixed buffer, pointing to the given `root_table`.\n     */\n    finishSizePrefixed(root_table, opt_file_identifier) {\n        this.finish(root_table, opt_file_identifier, true);\n    }\n    /**\n     * This checks a required field has been set in a given table that has\n     * just been constructed.\n     */\n    requiredField(table, field) {\n        const table_start = this.bb.capacity() - table;\n        const vtable_start = table_start - this.bb.readInt32(table_start);\n        const ok = field < this.bb.readInt16(vtable_start) &&\n            this.bb.readInt16(vtable_start + field) != 0;\n        // If this fails, the caller will show what field needs to be set.\n        if (!ok) {\n            throw new TypeError('FlatBuffers: field ' + field + ' must be set');\n        }\n    }\n    /**\n     * Start a new array/vector of objects.  Users usually will not call\n     * this directly. The FlatBuffers compiler will create a start/end\n     * method for vector types in generated code.\n     *\n     * @param elem_size The size of each element in the array\n     * @param num_elems The number of elements in the array\n     * @param alignment The alignment of the array\n     */\n    startVector(elem_size, num_elems, alignment) {\n        this.notNested();\n        this.vector_num_elems = num_elems;\n        this.prep(SIZEOF_INT, elem_size * num_elems);\n        this.prep(alignment, elem_size * num_elems); // Just in case alignment > int.\n    }\n    /**\n     * Finish off the creation of an array and all its elements. The array must be\n     * created with `startVector`.\n     *\n     * @returns The offset at which the newly created array\n     * starts.\n     */\n    endVector() {\n        this.writeInt32(this.vector_num_elems);\n        return this.offset();\n    }\n    /**\n     * Encode the string `s` in the buffer using UTF-8. If the string passed has\n     * already been seen, we return the offset of the already written string\n     *\n     * @param s The string to encode\n     * @return The offset in the buffer where the encoded string starts\n     */\n    createSharedString(s) {\n        if (!s) {\n            return 0;\n        }\n        if (!this.string_maps) {\n            this.string_maps = new Map();\n        }\n        if (this.string_maps.has(s)) {\n            return this.string_maps.get(s);\n        }\n        const offset = this.createString(s);\n        this.string_maps.set(s, offset);\n        return offset;\n    }\n    /**\n     * Encode the string `s` in the buffer using UTF-8. If a Uint8Array is passed\n     * instead of a string, it is assumed to contain valid UTF-8 encoded data.\n     *\n     * @param s The string to encode\n     * @return The offset in the buffer where the encoded string starts\n     */\n    createString(s) {\n        if (s === null || s === undefined) {\n            return 0;\n        }\n        let utf8;\n        if (s instanceof Uint8Array) {\n            utf8 = s;\n        }\n        else {\n            utf8 = this.text_encoder.encode(s);\n        }\n        this.addInt8(0);\n        this.startVector(1, utf8.length, 1);\n        this.bb.setPosition(this.space -= utf8.length);\n        this.bb.bytes().set(utf8, this.space);\n        return this.endVector();\n    }\n    /**\n     * Create a byte vector.\n     *\n     * @param v The bytes to add\n     * @returns The offset in the buffer where the byte vector starts\n     */\n    createByteVector(v) {\n        if (v === null || v === undefined) {\n            return 0;\n        }\n        this.startVector(1, v.length, 1);\n        this.bb.setPosition(this.space -= v.length);\n        this.bb.bytes().set(v, this.space);\n        return this.endVector();\n    }\n    /**\n     * A helper function to pack an object\n     *\n     * @returns offset of obj\n     */\n    createObjectOffset(obj) {\n        if (obj === null) {\n            return 0;\n        }\n        if (typeof obj === 'string') {\n            return this.createString(obj);\n        }\n        else {\n            return obj.pack(this);\n        }\n    }\n    /**\n     * A helper function to pack a list of object\n     *\n     * @returns list of offsets of each non null object\n     */\n    createObjectOffsetList(list) {\n        const ret = [];\n        for (let i = 0; i < list.length; ++i) {\n            const val = list[i];\n            if (val !== null) {\n                ret.push(this.createObjectOffset(val));\n            }\n            else {\n                throw new TypeError('FlatBuffers: Argument for createObjectOffsetList cannot contain null.');\n            }\n        }\n        return ret;\n    }\n    createStructOffsetList(list, startFunc) {\n        startFunc(this, list.length);\n        this.createObjectOffsetList(list.slice().reverse());\n        return this.endVector();\n    }\n}\n","export default new Uint8Array(0);\n","export default function() {\n  return this._source.cancel();\n}\n","export default function concat(a, b) {\n  if (!a.length) return b;\n  if (!b.length) return a;\n  var c = new Uint8Array(a.length + b.length);\n  c.set(a);\n  c.set(b, a.length);\n  return c;\n}\n","import concat from \"./concat\";\nimport empty from \"./empty\";\n\nexport default function() {\n  var that = this, array = that._array.subarray(that._index);\n  return that._source.read().then(function(result) {\n    that._array = empty;\n    that._index = 0;\n    return result.done ? (array.length > 0\n        ? {done: false, value: array}\n        : {done: true, value: undefined})\n        : {done: false, value: concat(array, result.value)};\n  });\n}\n","import empty from \"./empty\";\n\nexport default function(length) {\n  if ((length |= 0) < 0) throw new Error(\"invalid length\");\n  var that = this, index = this._array.length - this._index;\n\n  // If the request fits within the remaining buffer, resolve it immediately.\n  if (this._index + length <= this._array.length) {\n    return Promise.resolve(this._array.subarray(this._index, this._index += length));\n  }\n\n  // Otherwise, read chunks repeatedly until the request is fulfilled.\n  var array = new Uint8Array(length);\n  array.set(this._array.subarray(this._index));\n  return (function read() {\n    return that._source.read().then(function(result) {\n\n      // When done, it’s possible the request wasn’t fully fullfilled!\n      // If so, the pre-allocated array is too big and needs slicing.\n      if (result.done) {\n        that._array = empty;\n        that._index = 0;\n        return index > 0 ? array.subarray(0, index) : null;\n      }\n\n      // If this chunk fulfills the request, return the resulting array.\n      if (index + result.value.length >= length) {\n        that._array = result.value;\n        that._index = length - index;\n        array.set(result.value.subarray(0, length - index), index);\n        return array;\n      }\n\n      // Otherwise copy this chunk into the array, then read the next chunk.\n      array.set(result.value, index);\n      index += result.value.length;\n      return read();\n    });\n  })();\n}\n","import empty from \"./empty\";\nimport slice_cancel from \"./cancel\";\nimport slice_read from \"./read\";\nimport slice_slice from \"./slice\";\n\nexport default function slice(source) {\n  return typeof source.slice === \"function\" ? source :\n      new SliceSource(typeof source.read === \"function\" ? source\n          : source.getReader());\n}\n\nfunction SliceSource(source) {\n  this._source = source;\n  this._array = empty;\n  this._index = 0;\n}\n\nSliceSource.prototype.read = slice_read;\nSliceSource.prototype.slice = slice_slice;\nSliceSource.prototype.cancel = slice_cancel;\n","var o;export var ColumnType;(o=ColumnType||(ColumnType={}))[o.Byte=0]=\"Byte\",o[o.UByte=1]=\"UByte\",o[o.Bool=2]=\"Bool\",o[o.Short=3]=\"Short\",o[o.UShort=4]=\"UShort\",o[o.Int=5]=\"Int\",o[o.UInt=6]=\"UInt\",o[o.Long=7]=\"Long\",o[o.ULong=8]=\"ULong\",o[o.Float=9]=\"Float\",o[o.Double=10]=\"Double\",o[o.String=11]=\"String\",o[o.Json=12]=\"Json\",o[o.DateTime=13]=\"DateTime\",o[o.Binary=14]=\"Binary\";\n//# sourceMappingURL=column-type.js.map","import*as t from\"flatbuffers\";import{ColumnType as s}from\"../flat-geobuf/column-type.js\";export class Column{bb=null;bb_pos=0;__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsColumn(t,s){return(s||new Column).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsColumn(s,i){return s.setPosition(s.position()+t.SIZE_PREFIX_LENGTH),(i||new Column).__init(s.readInt32(s.position())+s.position(),s)}name(t){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,t):null}type(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):s.Byte}title(t){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__string(this.bb_pos+s,t):null}description(t){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.__string(this.bb_pos+s,t):null}width(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb_pos+t):-1}precision(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt32(this.bb_pos+t):-1}scale(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):-1}nullable(){let t=this.bb.__offset(this.bb_pos,18);return!t||!!this.bb.readInt8(this.bb_pos+t)}unique(){let t=this.bb.__offset(this.bb_pos,20);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}primaryKey(){let t=this.bb.__offset(this.bb_pos,22);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}metadata(t){let s=this.bb.__offset(this.bb_pos,24);return s?this.bb.__string(this.bb_pos+s,t):null}static startColumn(t){t.startObject(11)}static addName(t,s){t.addFieldOffset(0,s,0)}static addType(t,i){t.addFieldInt8(1,i,s.Byte)}static addTitle(t,s){t.addFieldOffset(2,s,0)}static addDescription(t,s){t.addFieldOffset(3,s,0)}static addWidth(t,s){t.addFieldInt32(4,s,-1)}static addPrecision(t,s){t.addFieldInt32(5,s,-1)}static addScale(t,s){t.addFieldInt32(6,s,-1)}static addNullable(t,s){t.addFieldInt8(7,+s,1)}static addUnique(t,s){t.addFieldInt8(8,+s,0)}static addPrimaryKey(t,s){t.addFieldInt8(9,+s,0)}static addMetadata(t,s){t.addFieldOffset(10,s,0)}static endColumn(t){let s=t.endObject();return t.requiredField(s,4),s}static createColumn(t,s,i,e,b,d,n,a,o,l,r,_){return Column.startColumn(t),Column.addName(t,s),Column.addType(t,i),Column.addTitle(t,e),Column.addDescription(t,b),Column.addWidth(t,d),Column.addPrecision(t,n),Column.addScale(t,a),Column.addNullable(t,o),Column.addUnique(t,l),Column.addPrimaryKey(t,r),Column.addMetadata(t,_),Column.endColumn(t)}}\n//# sourceMappingURL=column.js.map","import*as t from\"flatbuffers\";export class Crs{bb=null;bb_pos=0;__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsCrs(t,s){return(s||new Crs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCrs(s,i){return s.setPosition(s.position()+t.SIZE_PREFIX_LENGTH),(i||new Crs).__init(s.readInt32(s.position())+s.position(),s)}org(t){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,t):null}code(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}name(t){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__string(this.bb_pos+s,t):null}description(t){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.__string(this.bb_pos+s,t):null}wkt(t){let s=this.bb.__offset(this.bb_pos,12);return s?this.bb.__string(this.bb_pos+s,t):null}codeString(t){let s=this.bb.__offset(this.bb_pos,14);return s?this.bb.__string(this.bb_pos+s,t):null}static startCrs(t){t.startObject(6)}static addOrg(t,s){t.addFieldOffset(0,s,0)}static addCode(t,s){t.addFieldInt32(1,s,0)}static addName(t,s){t.addFieldOffset(2,s,0)}static addDescription(t,s){t.addFieldOffset(3,s,0)}static addWkt(t,s){t.addFieldOffset(4,s,0)}static addCodeString(t,s){t.addFieldOffset(5,s,0)}static endCrs(t){return t.endObject()}static createCrs(t,s,i,e,r,b,d){return Crs.startCrs(t),Crs.addOrg(t,s),Crs.addCode(t,i),Crs.addName(t,e),Crs.addDescription(t,r),Crs.addWkt(t,b),Crs.addCodeString(t,d),Crs.endCrs(t)}}\n//# sourceMappingURL=crs.js.map","var e;export var GeometryType;(e=GeometryType||(GeometryType={}))[e.Unknown=0]=\"Unknown\",e[e.Point=1]=\"Point\",e[e.LineString=2]=\"LineString\",e[e.Polygon=3]=\"Polygon\",e[e.MultiPoint=4]=\"MultiPoint\",e[e.MultiLineString=5]=\"MultiLineString\",e[e.MultiPolygon=6]=\"MultiPolygon\",e[e.GeometryCollection=7]=\"GeometryCollection\",e[e.CircularString=8]=\"CircularString\",e[e.CompoundCurve=9]=\"CompoundCurve\",e[e.CurvePolygon=10]=\"CurvePolygon\",e[e.MultiCurve=11]=\"MultiCurve\",e[e.MultiSurface=12]=\"MultiSurface\",e[e.Curve=13]=\"Curve\",e[e.Surface=14]=\"Surface\",e[e.PolyhedralSurface=15]=\"PolyhedralSurface\",e[e.TIN=16]=\"TIN\",e[e.Triangle=17]=\"Triangle\";\n//# sourceMappingURL=geometry-type.js.map","import*as t from\"flatbuffers\";import{Column as s}from\"../flat-geobuf/column.js\";import{Crs as e}from\"../flat-geobuf/crs.js\";import{GeometryType as i}from\"../flat-geobuf/geometry-type.js\";export class Header{bb=null;bb_pos=0;__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsHeader(t,s){return(s||new Header).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsHeader(s,e){return s.setPosition(s.position()+t.SIZE_PREFIX_LENGTH),(e||new Header).__init(s.readInt32(s.position())+s.position(),s)}name(t){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,t):null}envelope(t){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readFloat64(this.bb.__vector(this.bb_pos+s)+8*t):0}envelopeLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}envelopeArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}geometryType(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):i.Unknown}hasZ(){let t=this.bb.__offset(this.bb_pos,10);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}hasM(){let t=this.bb.__offset(this.bb_pos,12);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}hasT(){let t=this.bb.__offset(this.bb_pos,14);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}hasTm(){let t=this.bb.__offset(this.bb_pos,16);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}columns(t,e){let i=this.bb.__offset(this.bb_pos,18);return i?(e||new s).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}columnsLength(){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}featuresCount(){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readUint64(this.bb_pos+t):BigInt(\"0\")}indexNodeSize(){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readUint16(this.bb_pos+t):16}crs(t){let s=this.bb.__offset(this.bb_pos,24);return s?(t||new e).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}title(t){let s=this.bb.__offset(this.bb_pos,26);return s?this.bb.__string(this.bb_pos+s,t):null}description(t){let s=this.bb.__offset(this.bb_pos,28);return s?this.bb.__string(this.bb_pos+s,t):null}metadata(t){let s=this.bb.__offset(this.bb_pos,30);return s?this.bb.__string(this.bb_pos+s,t):null}static startHeader(t){t.startObject(14)}static addName(t,s){t.addFieldOffset(0,s,0)}static addEnvelope(t,s){t.addFieldOffset(1,s,0)}static createEnvelopeVector(t,s){t.startVector(8,s.length,8);for(let e=s.length-1;e>=0;e--)t.addFloat64(s[e]);return t.endVector()}static startEnvelopeVector(t,s){t.startVector(8,s,8)}static addGeometryType(t,s){t.addFieldInt8(2,s,i.Unknown)}static addHasZ(t,s){t.addFieldInt8(3,+s,0)}static addHasM(t,s){t.addFieldInt8(4,+s,0)}static addHasT(t,s){t.addFieldInt8(5,+s,0)}static addHasTm(t,s){t.addFieldInt8(6,+s,0)}static addColumns(t,s){t.addFieldOffset(7,s,0)}static createColumnsVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startColumnsVector(t,s){t.startVector(4,s,4)}static addFeaturesCount(t,s){t.addFieldInt64(8,s,BigInt(\"0\"))}static addIndexNodeSize(t,s){t.addFieldInt16(9,s,16)}static addCrs(t,s){t.addFieldOffset(10,s,0)}static addTitle(t,s){t.addFieldOffset(11,s,0)}static addDescription(t,s){t.addFieldOffset(12,s,0)}static addMetadata(t,s){t.addFieldOffset(13,s,0)}static endHeader(t){return t.endObject()}static finishHeaderBuffer(t,s){t.finish(s)}static finishSizePrefixedHeaderBuffer(t,s){t.finish(s,void 0,!0)}}\n//# sourceMappingURL=header.js.map","import*as t from\"flatbuffers\";import{GeometryType as e}from\"../flat-geobuf/geometry-type.js\";export class Geometry{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsGeometry(t,e){return(e||new Geometry).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsGeometry(e,s){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(s||new Geometry).__init(e.readInt32(e.position())+e.position(),e)}ends(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+4*t):0}endsLength(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}endsArray(){let t=this.bb.__offset(this.bb_pos,4);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}xy(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}xyLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}xyArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}z(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}zLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}zArray(){let t=this.bb.__offset(this.bb_pos,8);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}m(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}mLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}mArray(){let t=this.bb.__offset(this.bb_pos,10);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}t(t){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}tLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}tArray(){let t=this.bb.__offset(this.bb_pos,12);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}tm(t){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readUint64(this.bb.__vector(this.bb_pos+e)+8*t):BigInt(0)}tmLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}type(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readUint8(this.bb_pos+t):e.Unknown}parts(t,e){let s=this.bb.__offset(this.bb_pos,18);return s?(e||new Geometry).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+4*t),this.bb):null}partsLength(){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startGeometry(t){t.startObject(8)}static addEnds(t,e){t.addFieldOffset(0,e,0)}static createEndsVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addInt32(e[s]);return t.endVector()}static startEndsVector(t,e){t.startVector(4,e,4)}static addXy(t,e){t.addFieldOffset(1,e,0)}static createXyVector(t,e){t.startVector(8,e.length,8);for(let s=e.length-1;s>=0;s--)t.addFloat64(e[s]);return t.endVector()}static startXyVector(t,e){t.startVector(8,e,8)}static addZ(t,e){t.addFieldOffset(2,e,0)}static createZVector(t,e){t.startVector(8,e.length,8);for(let s=e.length-1;s>=0;s--)t.addFloat64(e[s]);return t.endVector()}static startZVector(t,e){t.startVector(8,e,8)}static addM(t,e){t.addFieldOffset(3,e,0)}static createMVector(t,e){t.startVector(8,e.length,8);for(let s=e.length-1;s>=0;s--)t.addFloat64(e[s]);return t.endVector()}static startMVector(t,e){t.startVector(8,e,8)}static addT(t,e){t.addFieldOffset(4,e,0)}static createTVector(t,e){t.startVector(8,e.length,8);for(let s=e.length-1;s>=0;s--)t.addFloat64(e[s]);return t.endVector()}static startTVector(t,e){t.startVector(8,e,8)}static addTm(t,e){t.addFieldOffset(5,e,0)}static createTmVector(t,e){t.startVector(8,e.length,8);for(let s=e.length-1;s>=0;s--)t.addInt64(e[s]);return t.endVector()}static startTmVector(t,e){t.startVector(8,e,8)}static addType(t,s){t.addFieldInt8(6,s,e.Unknown)}static addParts(t,e){t.addFieldOffset(7,e,0)}static createPartsVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startPartsVector(t,e){t.startVector(4,e,4)}static endGeometry(t){return t.endObject()}static createGeometry(t,e,s,b,r,o,i,_,h){return Geometry.startGeometry(t),Geometry.addEnds(t,e),Geometry.addXy(t,s),Geometry.addZ(t,b),Geometry.addM(t,r),Geometry.addT(t,o),Geometry.addTm(t,i),Geometry.addType(t,_),Geometry.addParts(t,h),Geometry.endGeometry(t)}}\n//# sourceMappingURL=geometry.js.map","import*as t from\"flatbuffers\";import{Column as e}from\"../flat-geobuf/column.js\";import{Geometry as s}from\"../flat-geobuf/geometry.js\";export class Feature{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFeature(t,e){return(e||new Feature).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFeature(e,s){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(s||new Feature).__init(e.readInt32(e.position())+e.position(),e)}geometry(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new s).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}properties(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}propertiesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}propertiesArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}columns(t,s){let r=this.bb.__offset(this.bb_pos,8);return r?(s||new e).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}columnsLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFeature(t){t.startObject(3)}static addGeometry(t,e){t.addFieldOffset(0,e,0)}static addProperties(t,e){t.addFieldOffset(1,e,0)}static createPropertiesVector(t,e){t.startVector(1,e.length,1);for(let s=e.length-1;s>=0;s--)t.addInt8(e[s]);return t.endVector()}static startPropertiesVector(t,e){t.startVector(1,e,1)}static addColumns(t,e){t.addFieldOffset(2,e,0)}static createColumnsVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startColumnsVector(t,e){t.startVector(4,e,4)}static endFeature(t){return t.endObject()}static finishFeatureBuffer(t,e){t.finish(e)}static finishSizePrefixedFeatureBuffer(t,e){t.finish(e,void 0,!0)}static createFeature(t,e,s,r){return Feature.startFeature(t),Feature.addGeometry(t,e),Feature.addProperties(t,s),Feature.addColumns(t,r),Feature.endFeature(t)}}\n//# sourceMappingURL=feature.js.map","import{Header as e}from\"./flat-geobuf/header.js\";export function fromByteBuffer(t){let r=e.getRootAsHeader(t),i=r.featuresCount(),n=r.indexNodeSize(),o=[];for(let e=0;e<r.columnsLength();e++){let t=r.columns(e);if(!t)throw Error(\"Column unexpectedly missing\");if(!t.name())throw Error(\"Column name unexpectedly missing\");o.push({name:t.name(),type:t.type(),title:t.title(),description:t.description(),width:t.width(),precision:t.precision(),scale:t.scale(),nullable:t.nullable(),unique:t.unique(),primary_key:t.primaryKey()})}let l=r.crs(),s=l?{org:l.org(),code:l.code(),name:l.name(),description:l.description(),wkt:l.wkt(),code_string:l.codeString()}:null;return{geometryType:r.geometryType(),columns:o,envelope:null,featuresCount:Number(i),indexNodeSize:n,crs:s,title:r.title(),description:r.description(),metadata:r.metadata()}}\n//# sourceMappingURL=header-meta.js.map","import{GeometryType as e}from\"../flat-geobuf/geometry-type.js\";import{Geometry as t}from\"../flat-geobuf/geometry.js\";export function buildGeometry(e,o){let r,n;let{xy:a,z:l,ends:s,parts:d,type:i}=o;if(d){let o=d.map(t=>buildGeometry(e,t)),r=t.createPartsVector(e,o);return t.startGeometry(e),t.addParts(e,r),t.addType(e,i),t.endGeometry(e)}let y=t.createXyVector(e,a);return l&&(r=t.createZVector(e,l)),s&&(n=t.createEndsVector(e,s)),t.startGeometry(e),n&&t.addEnds(e,n),t.addXy(e,y),r&&t.addZ(e,r),t.addType(e,i),t.endGeometry(e)}export function flat(e,t,o){if(0!==e.length){if(Array.isArray(e[0]))for(let r of e)flat(r,t,o);else 2===e.length?t.push(...e):(t.push(e[0],e[1]),o.push(e[2]))}}export function parseGeometry(t,o){let r,n,a;let l=o;if(l===e.Unknown&&(l=toGeometryType(t.getType())),l===e.MultiLineString){t.getFlatCoordinates&&(r=t.getFlatCoordinates());let e=t.getEnds();e.length>1&&(n=e.map(e=>e>>1))}else if(l===e.Polygon){t.getFlatCoordinates&&(r=t.getFlatCoordinates());let e=t.getEnds();e.length>1&&(n=e.map(e=>e>>1))}else l===e.MultiPolygon?a=t.getPolygons().map(t=>parseGeometry(t,e.Polygon)):t.getFlatCoordinates&&(r=t.getFlatCoordinates());return{xy:r,ends:n,type:l,parts:a}}export function pairFlatCoordinates(e,t){let o=[];for(let r=0;r<e.length;r+=2){let n=[e[r],e[r+1]];t&&n.push(t[r>>1]),o.push(n)}return o}export function toGeometryType(t){return t?e[t]:e.Unknown}\n//# sourceMappingURL=geometry.js.map","import*as e from\"flatbuffers\";import{ColumnType as t}from\"../flat-geobuf/column-type.js\";import{Feature as r}from\"../flat-geobuf/feature.js\";import{buildGeometry as a}from\"./geometry.js\";let n=new TextEncoder,o=new TextDecoder;export function fromFeature(e,t,r,a,n){let o=r.columns;return n(e,a(t.geometry(),r.geometryType),parseProperties(t,o))}export function buildFeature(o,s,i){let l=i.columns,c=new e.Builder,g=0,b=1024,f=new Uint8Array(1024),u=new DataView(f.buffer),p=function(e){if(g+e<b)return;let t=new Uint8Array(b=Math.max(b+e,2*b));t.set(f),u=new DataView((f=t).buffer)};if(l)for(let e=0;e<l.length;e++){let r=l[e],a=s[r.name];if(null!==a)switch(p(2),u.setUint16(g,e,!0),g+=2,r.type){case t.Bool:p(1),u.setUint8(g,a),g+=1;break;case t.Short:p(2),u.setInt16(g,a,!0),g+=2;break;case t.UShort:p(2),u.setUint16(g,a,!0),g+=2;break;case t.Int:p(4),u.setInt32(g,a,!0),g+=4;break;case t.UInt:p(4),u.setUint32(g,a,!0),g+=4;break;case t.Long:p(8),u.setBigInt64(g,BigInt(a),!0),g+=8;break;case t.Float:p(4),u.setFloat32(g,a,!0),g+=4;break;case t.Double:p(8),u.setFloat64(g,a,!0),g+=8;break;case t.DateTime:case t.String:{let e=n.encode(a);p(4),u.setUint32(g,e.length,!0),g+=4,p(e.length),f.set(e,g),g+=e.length;break}case t.Json:{let e=n.encode(JSON.stringify(a));p(4),u.setUint32(g,e.length,!0),g+=4,p(e.length),f.set(e,g),g+=e.length;break}default:throw Error(\"Unknown type \"+r.type)}}let k=0;g>0&&(k=r.createPropertiesVector(c,f.slice(0,g)));let U=a(c,o);r.startFeature(c),r.addGeometry(c,U),k&&r.addProperties(c,k);let m=r.endFeature(c);return c.finishSizePrefixed(m),c.asUint8Array()}export function parseProperties(e,r){let a={};if(!r||0===r.length)return a;let n=e.propertiesArray();if(!n)return a;let s=new DataView(n.buffer,n.byteOffset),i=e.propertiesLength(),l=0;for(;l<i;){let e=s.getUint16(l,!0);l+=2;let i=r[e],c=i.name;switch(i.type){case t.Bool:a[c]=!!s.getUint8(l),l+=1;break;case t.Byte:a[c]=s.getInt8(l),l+=1;break;case t.UByte:a[c]=s.getUint8(l),l+=1;break;case t.Short:a[c]=s.getInt16(l,!0),l+=2;break;case t.UShort:a[c]=s.getUint16(l,!0),l+=2;break;case t.Int:a[c]=s.getInt32(l,!0),l+=4;break;case t.UInt:a[c]=s.getUint32(l,!0),l+=4;break;case t.Long:a[c]=Number(s.getBigInt64(l,!0)),l+=8;break;case t.ULong:a[c]=Number(s.getBigUint64(l,!0)),l+=8;break;case t.Float:a[c]=s.getFloat32(l,!0),l+=4;break;case t.Double:a[c]=s.getFloat64(l,!0),l+=8;break;case t.DateTime:case t.String:{let e=s.getUint32(l,!0);l+=4,a[c]=o.decode(n.subarray(l,l+e)),l+=e;break}case t.Json:{let e=s.getUint32(l,!0);l+=4;let t=o.decode(n.subarray(l,l+e));a[c]=JSON.parse(t),l+=e;break}default:throw Error(\"Unknown type \"+i.type)}}return a}\n//# sourceMappingURL=feature.js.map","/// <reference types=\"./repeater.d.ts\" />\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\n\n/** An error subclass which is thrown when there are too many pending push or next operations on a single repeater. */\r\nvar RepeaterOverflowError = /** @class */ (function (_super) {\r\n    __extends(RepeaterOverflowError, _super);\r\n    function RepeaterOverflowError(message) {\r\n        var _this = _super.call(this, message) || this;\r\n        Object.defineProperty(_this, \"name\", {\r\n            value: \"RepeaterOverflowError\",\r\n            enumerable: false,\r\n        });\r\n        if (typeof Object.setPrototypeOf === \"function\") {\r\n            Object.setPrototypeOf(_this, _this.constructor.prototype);\r\n        }\r\n        else {\r\n            _this.__proto__ = _this.constructor.prototype;\r\n        }\r\n        if (typeof Error.captureStackTrace === \"function\") {\r\n            Error.captureStackTrace(_this, _this.constructor);\r\n        }\r\n        return _this;\r\n    }\r\n    return RepeaterOverflowError;\r\n}(Error));\r\n/** A buffer which allows you to push a set amount of values to the repeater without pushes waiting or throwing errors. */\r\nvar FixedBuffer = /** @class */ (function () {\r\n    function FixedBuffer(capacity) {\r\n        if (capacity < 0) {\r\n            throw new RangeError(\"Capacity may not be less than 0\");\r\n        }\r\n        this._c = capacity;\r\n        this._q = [];\r\n    }\r\n    Object.defineProperty(FixedBuffer.prototype, \"empty\", {\r\n        get: function () {\r\n            return this._q.length === 0;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FixedBuffer.prototype, \"full\", {\r\n        get: function () {\r\n            return this._q.length >= this._c;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    FixedBuffer.prototype.add = function (value) {\r\n        if (this.full) {\r\n            throw new Error(\"Buffer full\");\r\n        }\r\n        else {\r\n            this._q.push(value);\r\n        }\r\n    };\r\n    FixedBuffer.prototype.remove = function () {\r\n        if (this.empty) {\r\n            throw new Error(\"Buffer empty\");\r\n        }\r\n        return this._q.shift();\r\n    };\r\n    return FixedBuffer;\r\n}());\r\n// TODO: Use a circular buffer here.\r\n/** Sliding buffers allow you to push a set amount of values to the repeater without pushes waiting or throwing errors. If the number of values exceeds the capacity set in the constructor, the buffer will discard the earliest values added. */\r\nvar SlidingBuffer = /** @class */ (function () {\r\n    function SlidingBuffer(capacity) {\r\n        if (capacity < 1) {\r\n            throw new RangeError(\"Capacity may not be less than 1\");\r\n        }\r\n        this._c = capacity;\r\n        this._q = [];\r\n    }\r\n    Object.defineProperty(SlidingBuffer.prototype, \"empty\", {\r\n        get: function () {\r\n            return this._q.length === 0;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SlidingBuffer.prototype, \"full\", {\r\n        get: function () {\r\n            return false;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    SlidingBuffer.prototype.add = function (value) {\r\n        while (this._q.length >= this._c) {\r\n            this._q.shift();\r\n        }\r\n        this._q.push(value);\r\n    };\r\n    SlidingBuffer.prototype.remove = function () {\r\n        if (this.empty) {\r\n            throw new Error(\"Buffer empty\");\r\n        }\r\n        return this._q.shift();\r\n    };\r\n    return SlidingBuffer;\r\n}());\r\n/** Dropping buffers allow you to push a set amount of values to the repeater without the push function waiting or throwing errors. If the number of values exceeds the capacity set in the constructor, the buffer will discard the latest values added. */\r\nvar DroppingBuffer = /** @class */ (function () {\r\n    function DroppingBuffer(capacity) {\r\n        if (capacity < 1) {\r\n            throw new RangeError(\"Capacity may not be less than 1\");\r\n        }\r\n        this._c = capacity;\r\n        this._q = [];\r\n    }\r\n    Object.defineProperty(DroppingBuffer.prototype, \"empty\", {\r\n        get: function () {\r\n            return this._q.length === 0;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DroppingBuffer.prototype, \"full\", {\r\n        get: function () {\r\n            return false;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    DroppingBuffer.prototype.add = function (value) {\r\n        if (this._q.length < this._c) {\r\n            this._q.push(value);\r\n        }\r\n    };\r\n    DroppingBuffer.prototype.remove = function () {\r\n        if (this.empty) {\r\n            throw new Error(\"Buffer empty\");\r\n        }\r\n        return this._q.shift();\r\n    };\r\n    return DroppingBuffer;\r\n}());\r\n/** Makes sure promise-likes don’t cause unhandled rejections. */\r\nfunction swallow(value) {\r\n    if (value != null && typeof value.then === \"function\") {\r\n        value.then(NOOP, NOOP);\r\n    }\r\n}\r\n/*** REPEATER STATES ***/\r\n/** The following is an enumeration of all possible repeater states. These states are ordered, and a repeater may only advance to higher states. */\r\n/** The initial state of the repeater. */\r\nvar Initial = 0;\r\n/** Repeaters advance to this state the first time the next method is called on the repeater. */\r\nvar Started = 1;\r\n/** Repeaters advance to this state when the stop function is called. */\r\nvar Stopped = 2;\r\n/** Repeaters advance to this state when there are no values left to be pulled from the repeater. */\r\nvar Done = 3;\r\n/** Repeaters advance to this state if an error is thrown into the repeater. */\r\nvar Rejected = 4;\r\n/** The maximum number of push or next operations which may exist on a single repeater. */\r\nvar MAX_QUEUE_LENGTH = 1024;\r\nvar NOOP = function () { };\r\n/** A helper function used to mimic the behavior of async generators where the final iteration is consumed. */\r\nfunction consumeExecution(r) {\r\n    var err = r.err;\r\n    var execution = Promise.resolve(r.execution).then(function (value) {\r\n        if (err != null) {\r\n            throw err;\r\n        }\r\n        return value;\r\n    });\r\n    r.err = undefined;\r\n    r.execution = execution.then(function () { return undefined; }, function () { return undefined; });\r\n    return r.pending === undefined ? execution : r.pending.then(function () { return execution; });\r\n}\r\n/** A helper function for building iterations from values. Promises are unwrapped, so that iterations never have their value property set to a promise. */\r\nfunction createIteration(r, value) {\r\n    var done = r.state >= Done;\r\n    return Promise.resolve(value).then(function (value) {\r\n        if (!done && r.state >= Rejected) {\r\n            return consumeExecution(r).then(function (value) { return ({\r\n                value: value,\r\n                done: true,\r\n            }); });\r\n        }\r\n        return { value: value, done: done };\r\n    });\r\n}\r\n/**\r\n * This function is bound and passed to the executor as the stop argument.\r\n *\r\n * Advances state to Stopped.\r\n */\r\nfunction stop(r, err) {\r\n    var e_1, _a;\r\n    if (r.state >= Stopped) {\r\n        return;\r\n    }\r\n    r.state = Stopped;\r\n    r.onnext();\r\n    r.onstop();\r\n    if (r.err == null) {\r\n        r.err = err;\r\n    }\r\n    if (r.pushes.length === 0 &&\r\n        (typeof r.buffer === \"undefined\" || r.buffer.empty)) {\r\n        finish(r);\r\n    }\r\n    else {\r\n        try {\r\n            for (var _b = __values(r.pushes), _d = _b.next(); !_d.done; _d = _b.next()) {\r\n                var push_1 = _d.value;\r\n                push_1.resolve();\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_d && !_d.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    }\r\n}\r\n/**\r\n * The difference between stopping a repeater vs finishing a repeater is that stopping a repeater allows next to continue to drain values from the push queue and buffer, while finishing a repeater will clear all pending values and end iteration immediately. Once, a repeater is finished, all iterations will have the done property set to true.\r\n *\r\n * Advances state to Done.\r\n */\r\nfunction finish(r) {\r\n    var e_2, _a;\r\n    if (r.state >= Done) {\r\n        return;\r\n    }\r\n    if (r.state < Stopped) {\r\n        stop(r);\r\n    }\r\n    r.state = Done;\r\n    r.buffer = undefined;\r\n    try {\r\n        for (var _b = __values(r.nexts), _d = _b.next(); !_d.done; _d = _b.next()) {\r\n            var next = _d.value;\r\n            var execution = r.pending === undefined\r\n                ? consumeExecution(r)\r\n                : r.pending.then(function () { return consumeExecution(r); });\r\n            next.resolve(createIteration(r, execution));\r\n        }\r\n    }\r\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n    finally {\r\n        try {\r\n            if (_d && !_d.done && (_a = _b.return)) _a.call(_b);\r\n        }\r\n        finally { if (e_2) throw e_2.error; }\r\n    }\r\n    r.pushes = [];\r\n    r.nexts = [];\r\n}\r\n/**\r\n * Called when a promise passed to push rejects, or when a push call is unhandled.\r\n *\r\n * Advances state to Rejected.\r\n */\r\nfunction reject(r) {\r\n    if (r.state >= Rejected) {\r\n        return;\r\n    }\r\n    if (r.state < Done) {\r\n        finish(r);\r\n    }\r\n    r.state = Rejected;\r\n}\r\n/** This function is bound and passed to the executor as the push argument. */\r\nfunction push(r, value) {\r\n    swallow(value);\r\n    if (r.pushes.length >= MAX_QUEUE_LENGTH) {\r\n        throw new RepeaterOverflowError(\"No more than \" + MAX_QUEUE_LENGTH + \" pending calls to push are allowed on a single repeater.\");\r\n    }\r\n    else if (r.state >= Stopped) {\r\n        return Promise.resolve(undefined);\r\n    }\r\n    var valueP = r.pending === undefined\r\n        ? Promise.resolve(value)\r\n        : r.pending.then(function () { return value; });\r\n    valueP = valueP.catch(function (err) {\r\n        if (r.state < Stopped) {\r\n            r.err = err;\r\n        }\r\n        reject(r);\r\n        return undefined; // void :(\r\n    });\r\n    var nextP;\r\n    if (r.nexts.length) {\r\n        var next_1 = r.nexts.shift();\r\n        next_1.resolve(createIteration(r, valueP));\r\n        if (r.nexts.length) {\r\n            nextP = Promise.resolve(r.nexts[0].value);\r\n        }\r\n        else if (typeof r.buffer !== \"undefined\" && !r.buffer.full) {\r\n            nextP = Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            nextP = new Promise(function (resolve) { return (r.onnext = resolve); });\r\n        }\r\n    }\r\n    else if (typeof r.buffer !== \"undefined\" && !r.buffer.full) {\r\n        r.buffer.add(valueP);\r\n        nextP = Promise.resolve(undefined);\r\n    }\r\n    else {\r\n        nextP = new Promise(function (resolve) { return r.pushes.push({ resolve: resolve, value: valueP }); });\r\n    }\r\n    // If an error is thrown into the repeater via the next or throw methods, we give the repeater a chance to handle this by rejecting the promise returned from push. If the push call is not immediately handled we throw the next iteration of the repeater.\r\n    // To check that the promise returned from push is floating, we modify the then and catch methods of the returned promise so that they flip the floating flag. The push function actually does not return a promise, because modern engines do not call the then and catch methods on native promises. By making next a plain old javascript object, we ensure that the then and catch methods will be called.\r\n    var floating = true;\r\n    var next = {};\r\n    var unhandled = nextP.catch(function (err) {\r\n        if (floating) {\r\n            throw err;\r\n        }\r\n        return undefined; // void :(\r\n    });\r\n    next.then = function (onfulfilled, onrejected) {\r\n        floating = false;\r\n        return Promise.prototype.then.call(nextP, onfulfilled, onrejected);\r\n    };\r\n    next.catch = function (onrejected) {\r\n        floating = false;\r\n        return Promise.prototype.catch.call(nextP, onrejected);\r\n    };\r\n    next.finally = nextP.finally.bind(nextP);\r\n    r.pending = valueP\r\n        .then(function () { return unhandled; })\r\n        .catch(function (err) {\r\n        r.err = err;\r\n        reject(r);\r\n    });\r\n    return next;\r\n}\r\n/**\r\n * Creates the stop callable promise which is passed to the executor\r\n */\r\nfunction createStop(r) {\r\n    var stop1 = stop.bind(null, r);\r\n    var stopP = new Promise(function (resolve) { return (r.onstop = resolve); });\r\n    stop1.then = stopP.then.bind(stopP);\r\n    stop1.catch = stopP.catch.bind(stopP);\r\n    stop1.finally = stopP.finally.bind(stopP);\r\n    return stop1;\r\n}\r\n/**\r\n * Calls the executor passed into the constructor. This function is called the first time the next method is called on the repeater.\r\n *\r\n * Advances state to Started.\r\n */\r\nfunction execute(r) {\r\n    if (r.state >= Started) {\r\n        return;\r\n    }\r\n    r.state = Started;\r\n    var push1 = push.bind(null, r);\r\n    var stop1 = createStop(r);\r\n    r.execution = new Promise(function (resolve) { return resolve(r.executor(push1, stop1)); });\r\n    // TODO: We should consider stopping all repeaters when the executor settles.\r\n    r.execution.catch(function () { return stop(r); });\r\n}\r\nvar records = new WeakMap();\r\n// NOTE: While repeaters implement and are assignable to the AsyncGenerator interface, and you can use the types interchangeably, we don’t use typescript’s implements syntax here because this would make supporting earlier versions of typescript trickier. This is because TypeScript version 3.6 changed the iterator types by adding the TReturn and TNext type parameters.\r\nvar Repeater = /** @class */ (function () {\r\n    function Repeater(executor, buffer) {\r\n        records.set(this, {\r\n            executor: executor,\r\n            buffer: buffer,\r\n            err: undefined,\r\n            state: Initial,\r\n            pushes: [],\r\n            nexts: [],\r\n            pending: undefined,\r\n            execution: undefined,\r\n            onnext: NOOP,\r\n            onstop: NOOP,\r\n        });\r\n    }\r\n    Repeater.prototype.next = function (value) {\r\n        swallow(value);\r\n        var r = records.get(this);\r\n        if (r === undefined) {\r\n            throw new Error(\"WeakMap error\");\r\n        }\r\n        if (r.nexts.length >= MAX_QUEUE_LENGTH) {\r\n            throw new RepeaterOverflowError(\"No more than \" + MAX_QUEUE_LENGTH + \" pending calls to next are allowed on a single repeater.\");\r\n        }\r\n        if (r.state <= Initial) {\r\n            execute(r);\r\n        }\r\n        r.onnext(value);\r\n        if (typeof r.buffer !== \"undefined\" && !r.buffer.empty) {\r\n            var result = createIteration(r, r.buffer.remove());\r\n            if (r.pushes.length) {\r\n                var push_2 = r.pushes.shift();\r\n                r.buffer.add(push_2.value);\r\n                r.onnext = push_2.resolve;\r\n            }\r\n            return result;\r\n        }\r\n        else if (r.pushes.length) {\r\n            var push_3 = r.pushes.shift();\r\n            r.onnext = push_3.resolve;\r\n            return createIteration(r, push_3.value);\r\n        }\r\n        else if (r.state >= Stopped) {\r\n            finish(r);\r\n            return createIteration(r, consumeExecution(r));\r\n        }\r\n        return new Promise(function (resolve) { return r.nexts.push({ resolve: resolve, value: value }); });\r\n    };\r\n    Repeater.prototype.return = function (value) {\r\n        swallow(value);\r\n        var r = records.get(this);\r\n        if (r === undefined) {\r\n            throw new Error(\"WeakMap error\");\r\n        }\r\n        finish(r);\r\n        // We override the execution because return should always return the value passed in.\r\n        r.execution = Promise.resolve(r.execution).then(function () { return value; });\r\n        return createIteration(r, consumeExecution(r));\r\n    };\r\n    Repeater.prototype.throw = function (err) {\r\n        var r = records.get(this);\r\n        if (r === undefined) {\r\n            throw new Error(\"WeakMap error\");\r\n        }\r\n        if (r.state <= Initial ||\r\n            r.state >= Stopped ||\r\n            (typeof r.buffer !== \"undefined\" && !r.buffer.empty)) {\r\n            finish(r);\r\n            // If r.err is already set, that mean the repeater has already produced an error, so we throw that error rather than the error passed in, because doing so might be more informative for the caller.\r\n            if (r.err == null) {\r\n                r.err = err;\r\n            }\r\n            return createIteration(r, consumeExecution(r));\r\n        }\r\n        return this.next(Promise.reject(err));\r\n    };\r\n    Repeater.prototype[Symbol.asyncIterator] = function () {\r\n        return this;\r\n    };\r\n    // TODO: Remove these static methods from the class.\r\n    Repeater.race = race;\r\n    Repeater.merge = merge;\r\n    Repeater.zip = zip;\r\n    Repeater.latest = latest;\r\n    return Repeater;\r\n}());\r\n/*** COMBINATOR FUNCTIONS ***/\r\n// TODO: move these combinators to their own file.\r\nfunction getIterators(values, options) {\r\n    var e_3, _a;\r\n    var iters = [];\r\n    var _loop_1 = function (value) {\r\n        if (value != null && typeof value[Symbol.asyncIterator] === \"function\") {\r\n            iters.push(value[Symbol.asyncIterator]());\r\n        }\r\n        else if (value != null && typeof value[Symbol.iterator] === \"function\") {\r\n            iters.push(value[Symbol.iterator]());\r\n        }\r\n        else {\r\n            iters.push((function valueToAsyncIterator() {\r\n                return __asyncGenerator(this, arguments, function valueToAsyncIterator_1() {\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                if (!options.yieldValues) return [3 /*break*/, 3];\r\n                                return [4 /*yield*/, __await(value)];\r\n                            case 1: return [4 /*yield*/, _a.sent()];\r\n                            case 2:\r\n                                _a.sent();\r\n                                _a.label = 3;\r\n                            case 3:\r\n                                if (!options.returnValues) return [3 /*break*/, 5];\r\n                                return [4 /*yield*/, __await(value)];\r\n                            case 4: return [2 /*return*/, _a.sent()];\r\n                            case 5: return [2 /*return*/];\r\n                        }\r\n                    });\r\n                });\r\n            })());\r\n        }\r\n    };\r\n    try {\r\n        for (var values_1 = __values(values), values_1_1 = values_1.next(); !values_1_1.done; values_1_1 = values_1.next()) {\r\n            var value = values_1_1.value;\r\n            _loop_1(value);\r\n        }\r\n    }\r\n    catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n    finally {\r\n        try {\r\n            if (values_1_1 && !values_1_1.done && (_a = values_1.return)) _a.call(values_1);\r\n        }\r\n        finally { if (e_3) throw e_3.error; }\r\n    }\r\n    return iters;\r\n}\r\n// NOTE: whenever you see any variables called `advance` or `advances`, know that it is a hack to get around the fact that `Promise.race` leaks memory. These variables are intended to be set to the resolve function of a promise which is constructed and awaited as an alternative to Promise.race. For more information, see this comment in the Node.js issue tracker: https://github.com/nodejs/node/issues/17469#issuecomment-685216777.\r\nfunction race(contenders) {\r\n    var _this = this;\r\n    var iters = getIterators(contenders, { returnValues: true });\r\n    return new Repeater(function (push, stop) { return __awaiter(_this, void 0, void 0, function () {\r\n        var advance, stopped, finalIteration, iteration, i_1, _loop_2;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!iters.length) {\r\n                        stop();\r\n                        return [2 /*return*/];\r\n                    }\r\n                    stopped = false;\r\n                    stop.then(function () {\r\n                        advance();\r\n                        stopped = true;\r\n                    });\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, , 5, 7]);\r\n                    iteration = void 0;\r\n                    i_1 = 0;\r\n                    _loop_2 = function () {\r\n                        var j, iters_1, iters_1_1, iter;\r\n                        var e_4, _a;\r\n                        return __generator(this, function (_b) {\r\n                            switch (_b.label) {\r\n                                case 0:\r\n                                    j = i_1;\r\n                                    try {\r\n                                        for (iters_1 = (e_4 = void 0, __values(iters)), iters_1_1 = iters_1.next(); !iters_1_1.done; iters_1_1 = iters_1.next()) {\r\n                                            iter = iters_1_1.value;\r\n                                            Promise.resolve(iter.next()).then(function (iteration) {\r\n                                                if (iteration.done) {\r\n                                                    stop();\r\n                                                    if (finalIteration === undefined) {\r\n                                                        finalIteration = iteration;\r\n                                                    }\r\n                                                }\r\n                                                else if (i_1 === j) {\r\n                                                    // This iterator has won, advance i and resolve the promise.\r\n                                                    i_1++;\r\n                                                    advance(iteration);\r\n                                                }\r\n                                            }, function (err) { return stop(err); });\r\n                                        }\r\n                                    }\r\n                                    catch (e_4_1) { e_4 = { error: e_4_1 }; }\r\n                                    finally {\r\n                                        try {\r\n                                            if (iters_1_1 && !iters_1_1.done && (_a = iters_1.return)) _a.call(iters_1);\r\n                                        }\r\n                                        finally { if (e_4) throw e_4.error; }\r\n                                    }\r\n                                    return [4 /*yield*/, new Promise(function (resolve) { return (advance = resolve); })];\r\n                                case 1:\r\n                                    iteration = _b.sent();\r\n                                    if (!(iteration !== undefined)) return [3 /*break*/, 3];\r\n                                    return [4 /*yield*/, push(iteration.value)];\r\n                                case 2:\r\n                                    _b.sent();\r\n                                    _b.label = 3;\r\n                                case 3: return [2 /*return*/];\r\n                            }\r\n                        });\r\n                    };\r\n                    _a.label = 2;\r\n                case 2:\r\n                    if (!!stopped) return [3 /*break*/, 4];\r\n                    return [5 /*yield**/, _loop_2()];\r\n                case 3:\r\n                    _a.sent();\r\n                    return [3 /*break*/, 2];\r\n                case 4: return [2 /*return*/, finalIteration && finalIteration.value];\r\n                case 5:\r\n                    stop();\r\n                    return [4 /*yield*/, Promise.race(iters.map(function (iter) { return iter.return && iter.return(); }))];\r\n                case 6:\r\n                    _a.sent();\r\n                    return [7 /*endfinally*/];\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nfunction merge(contenders) {\r\n    var _this = this;\r\n    var iters = getIterators(contenders, { yieldValues: true });\r\n    return new Repeater(function (push, stop) { return __awaiter(_this, void 0, void 0, function () {\r\n        var advances, stopped, finalIteration;\r\n        var _this = this;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!iters.length) {\r\n                        stop();\r\n                        return [2 /*return*/];\r\n                    }\r\n                    advances = [];\r\n                    stopped = false;\r\n                    stop.then(function () {\r\n                        var e_5, _a;\r\n                        stopped = true;\r\n                        try {\r\n                            for (var advances_1 = __values(advances), advances_1_1 = advances_1.next(); !advances_1_1.done; advances_1_1 = advances_1.next()) {\r\n                                var advance = advances_1_1.value;\r\n                                advance();\r\n                            }\r\n                        }\r\n                        catch (e_5_1) { e_5 = { error: e_5_1 }; }\r\n                        finally {\r\n                            try {\r\n                                if (advances_1_1 && !advances_1_1.done && (_a = advances_1.return)) _a.call(advances_1);\r\n                            }\r\n                            finally { if (e_5) throw e_5.error; }\r\n                        }\r\n                    });\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, , 3, 4]);\r\n                    return [4 /*yield*/, Promise.all(iters.map(function (iter, i) { return __awaiter(_this, void 0, void 0, function () {\r\n                            var iteration, _a;\r\n                            return __generator(this, function (_b) {\r\n                                switch (_b.label) {\r\n                                    case 0:\r\n                                        _b.trys.push([0, , 6, 9]);\r\n                                        _b.label = 1;\r\n                                    case 1:\r\n                                        if (!!stopped) return [3 /*break*/, 5];\r\n                                        Promise.resolve(iter.next()).then(function (iteration) { return advances[i](iteration); }, function (err) { return stop(err); });\r\n                                        return [4 /*yield*/, new Promise(function (resolve) {\r\n                                                advances[i] = resolve;\r\n                                            })];\r\n                                    case 2:\r\n                                        iteration = _b.sent();\r\n                                        if (!(iteration !== undefined)) return [3 /*break*/, 4];\r\n                                        if (iteration.done) {\r\n                                            finalIteration = iteration;\r\n                                            return [2 /*return*/];\r\n                                        }\r\n                                        return [4 /*yield*/, push(iteration.value)];\r\n                                    case 3:\r\n                                        _b.sent();\r\n                                        _b.label = 4;\r\n                                    case 4: return [3 /*break*/, 1];\r\n                                    case 5: return [3 /*break*/, 9];\r\n                                    case 6:\r\n                                        _a = iter.return;\r\n                                        if (!_a) return [3 /*break*/, 8];\r\n                                        return [4 /*yield*/, iter.return()];\r\n                                    case 7:\r\n                                        _a = (_b.sent());\r\n                                        _b.label = 8;\r\n                                    case 8:\r\n                                        return [7 /*endfinally*/];\r\n                                    case 9: return [2 /*return*/];\r\n                                }\r\n                            });\r\n                        }); }))];\r\n                case 2:\r\n                    _a.sent();\r\n                    return [2 /*return*/, finalIteration && finalIteration.value];\r\n                case 3:\r\n                    stop();\r\n                    return [7 /*endfinally*/];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nfunction zip(contenders) {\r\n    var _this = this;\r\n    var iters = getIterators(contenders, { returnValues: true });\r\n    return new Repeater(function (push, stop) { return __awaiter(_this, void 0, void 0, function () {\r\n        var advance, stopped, iterations, values;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!iters.length) {\r\n                        stop();\r\n                        return [2 /*return*/, []];\r\n                    }\r\n                    stopped = false;\r\n                    stop.then(function () {\r\n                        advance();\r\n                        stopped = true;\r\n                    });\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, , 6, 8]);\r\n                    _a.label = 2;\r\n                case 2:\r\n                    if (!!stopped) return [3 /*break*/, 5];\r\n                    Promise.all(iters.map(function (iter) { return iter.next(); })).then(function (iterations) { return advance(iterations); }, function (err) { return stop(err); });\r\n                    return [4 /*yield*/, new Promise(function (resolve) { return (advance = resolve); })];\r\n                case 3:\r\n                    iterations = _a.sent();\r\n                    if (iterations === undefined) {\r\n                        return [2 /*return*/];\r\n                    }\r\n                    values = iterations.map(function (iteration) { return iteration.value; });\r\n                    if (iterations.some(function (iteration) { return iteration.done; })) {\r\n                        return [2 /*return*/, values];\r\n                    }\r\n                    return [4 /*yield*/, push(values)];\r\n                case 4:\r\n                    _a.sent();\r\n                    return [3 /*break*/, 2];\r\n                case 5: return [3 /*break*/, 8];\r\n                case 6:\r\n                    stop();\r\n                    return [4 /*yield*/, Promise.all(iters.map(function (iter) { return iter.return && iter.return(); }))];\r\n                case 7:\r\n                    _a.sent();\r\n                    return [7 /*endfinally*/];\r\n                case 8: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nfunction latest(contenders) {\r\n    var _this = this;\r\n    var iters = getIterators(contenders, {\r\n        yieldValues: true,\r\n        returnValues: true,\r\n    });\r\n    return new Repeater(function (push, stop) { return __awaiter(_this, void 0, void 0, function () {\r\n        var advance, advances, stopped, iterations_1, values_2;\r\n        var _this = this;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!iters.length) {\r\n                        stop();\r\n                        return [2 /*return*/, []];\r\n                    }\r\n                    advances = [];\r\n                    stopped = false;\r\n                    stop.then(function () {\r\n                        var e_6, _a;\r\n                        advance();\r\n                        try {\r\n                            for (var advances_2 = __values(advances), advances_2_1 = advances_2.next(); !advances_2_1.done; advances_2_1 = advances_2.next()) {\r\n                                var advance1 = advances_2_1.value;\r\n                                advance1();\r\n                            }\r\n                        }\r\n                        catch (e_6_1) { e_6 = { error: e_6_1 }; }\r\n                        finally {\r\n                            try {\r\n                                if (advances_2_1 && !advances_2_1.done && (_a = advances_2.return)) _a.call(advances_2);\r\n                            }\r\n                            finally { if (e_6) throw e_6.error; }\r\n                        }\r\n                        stopped = true;\r\n                    });\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, , 5, 7]);\r\n                    Promise.all(iters.map(function (iter) { return iter.next(); })).then(function (iterations) { return advance(iterations); }, function (err) { return stop(err); });\r\n                    return [4 /*yield*/, new Promise(function (resolve) { return (advance = resolve); })];\r\n                case 2:\r\n                    iterations_1 = _a.sent();\r\n                    if (iterations_1 === undefined) {\r\n                        return [2 /*return*/];\r\n                    }\r\n                    values_2 = iterations_1.map(function (iteration) { return iteration.value; });\r\n                    if (iterations_1.every(function (iteration) { return iteration.done; })) {\r\n                        return [2 /*return*/, values_2];\r\n                    }\r\n                    // We continuously yield and mutate the same values array so we shallow copy it each time it is pushed.\r\n                    return [4 /*yield*/, push(values_2.slice())];\r\n                case 3:\r\n                    // We continuously yield and mutate the same values array so we shallow copy it each time it is pushed.\r\n                    _a.sent();\r\n                    return [4 /*yield*/, Promise.all(iters.map(function (iter, i) { return __awaiter(_this, void 0, void 0, function () {\r\n                            var iteration;\r\n                            return __generator(this, function (_a) {\r\n                                switch (_a.label) {\r\n                                    case 0:\r\n                                        if (iterations_1[i].done) {\r\n                                            return [2 /*return*/, iterations_1[i].value];\r\n                                        }\r\n                                        _a.label = 1;\r\n                                    case 1:\r\n                                        if (!!stopped) return [3 /*break*/, 4];\r\n                                        Promise.resolve(iter.next()).then(function (iteration) { return advances[i](iteration); }, function (err) { return stop(err); });\r\n                                        return [4 /*yield*/, new Promise(function (resolve) { return (advances[i] = resolve); })];\r\n                                    case 2:\r\n                                        iteration = _a.sent();\r\n                                        if (iteration === undefined) {\r\n                                            return [2 /*return*/, iterations_1[i].value];\r\n                                        }\r\n                                        else if (iteration.done) {\r\n                                            return [2 /*return*/, iteration.value];\r\n                                        }\r\n                                        values_2[i] = iteration.value;\r\n                                        return [4 /*yield*/, push(values_2.slice())];\r\n                                    case 3:\r\n                                        _a.sent();\r\n                                        return [3 /*break*/, 1];\r\n                                    case 4: return [2 /*return*/];\r\n                                }\r\n                            });\r\n                        }); }))];\r\n                case 4: return [2 /*return*/, _a.sent()];\r\n                case 5:\r\n                    stop();\r\n                    return [4 /*yield*/, Promise.all(iters.map(function (iter) { return iter.return && iter.return(); }))];\r\n                case 6:\r\n                    _a.sent();\r\n                    return [7 /*endfinally*/];\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n}\n\nexport { DroppingBuffer, FixedBuffer, MAX_QUEUE_LENGTH, Repeater, RepeaterOverflowError, SlidingBuffer };\n//# sourceMappingURL=repeater.js.map\n","export default class e{static global=new e;_extraRequestThreshold=262144;extraRequestThreshold(){return this._extraRequestThreshold}setExtraRequestThreshold(e){if(e<0)throw Error(\"extraRequestThreshold cannot be negative\");this._extraRequestThreshold=e}}\n//# sourceMappingURL=config.js.map","import e from\"./config.js\";export const NODE_ITEM_BYTE_LEN=40;export const NODE_ITEM_LEN=40;export const DEFAULT_NODE_SIZE=16;export function calcTreeSize(e,t){t=Math.min(Math.max(+t,2),65535);let l=e,n=l;do n+=l=Math.ceil(l/t);while(1!==l)return 40*n}export function generateLevelBounds(e,t){if(t<2)throw Error(\"Node size must be at least 2\");if(0===e)throw Error(\"Number of items must be greater than 0\");let l=e,n=l,o=[l];do n+=l=Math.ceil(l/t),o.push(l);while(1!==l)let r=[];for(let e of(l=n,o))r.push(l-e),l-=e;let i=[];for(let e=0;e<o.length;e++)i.push([r[e],r[e]+o[e]]);return i}export async function*streamSearch(t,l,n,o){class r{_level;nodes;constructor(e,t){this._level=t,this.nodes=e}level(){return this._level}startNodeIdx(){return this.nodes[0]}endNodeIdx(){return this.nodes[1]}extendEndNodeIdx(e){this.nodes[1]=e}toString(){return`[NodeRange level: ${this._level}, nodes: ${this.nodes[0]}-${this.nodes[1]}]`}}let{minX:i,minY:s,maxX:d,maxY:u}=n,h=generateLevelBounds(t,l),a=h[0][0],N=[new r([0,1],h.length-1)];for(;0!=N.length;){let n=N.shift(),c=n.startNodeIdx(),g=c>=a,f=(()=>{let[,e]=h[n.level()],t=Math.min(n.endNodeIdx()+l,e);return g&&t<e?t+1:t})(),x=f-c,v=new DataView(await o(40*c,40*x));for(let l=c;l<f;l++){let o=l-c,h=40*o;if(d<v.getFloat64(h+0,!0)||u<v.getFloat64(h+8,!0)||i>v.getFloat64(h+16,!0)||s>v.getFloat64(h+24,!0))continue;let f=v.getBigUint64(h+32,!0);if(g){let e=(()=>{if(!(l<t-1))return null;{let e=(o+1)*40;return v.getBigUint64(e+32,!0)-f}})(),n=l-a;yield[Number(f),n,Number(e)];continue}let x=e.global.extraRequestThreshold()/40,m=N[N.length-1];if(void 0!==m&&m.level()==n.level()-1&&f<m.endNodeIdx()+x){m.extendEndNodeIdx(Number(f));continue}let E=(()=>{let e=n.level()-1;return new r([Number(f),Number(f)+1],e)})();void 0!==m&&(m.level(),E.level()),N.push(E)}}}\n//# sourceMappingURL=packedrtree.js.map","export const magicbytes=new Uint8Array([102,103,98,3,102,103,98,0]);export const SIZE_PREFIX_LEN=4;\n//# sourceMappingURL=constants.js.map","import*as e from\"flatbuffers\";import{Repeater as t}from\"@repeaterjs/repeater\";import{calcTreeSize as r,DEFAULT_NODE_SIZE as a,NODE_ITEM_BYTE_LEN as n,streamSearch as s}from\"./packedrtree.js\";import{magicbytes as i,SIZE_PREFIX_LEN as h}from\"./constants.js\";import o from\"./config.js\";import{fromByteBuffer as l}from\"./header-meta.js\";import{Feature as f}from\"./flat-geobuf/feature.js\";export class HttpReader{headerClient;header;headerLength;indexLength;nocache;constructor(e,t,r,a,n){this.headerClient=e,this.header=t,this.headerLength=r,this.indexLength=a,this.nocache=n}static async open(t,s){let h;let o=new u(t,s),f=2024+(()=>{let e;let t=0;for(e=0;e<3;e++)t+=a**e*n;return t})();if(!new Uint8Array(await o.getRange(0,8,f,\"header\")).subarray(0,3).every((e,t)=>i[t]===e))throw Error(\"Not a FlatGeobuf file\");if((h=new DataView(await o.getRange(8,4,f,\"header\")).getUint32(0,!0))>10485760||h<8)throw Error(\"Invalid header size\");let d=await o.getRange(12,h,f,\"header\"),g=l(new e.ByteBuffer(new Uint8Array(d))),c=r(g.featuresCount,g.indexNodeSize);return new HttpReader(o,g,h,c,s)}async *selectBbox(e){let r=this.lengthBeforeTree(),a=this.headerClient,n=async function(e,t){return a.getRange(r+e,t,0,\"index\")},i=[],h=[];for await(let t of s(this.header.featuresCount,this.header.indexNodeSize,e,n)){let[e,r]=t,[,,a]=t;if(a||(a=4),0==h.length){h.push([e,a,r]);continue}let n=h[h.length-1];e-(n[0]+n[1])>o.global.extraRequestThreshold()&&(i.push(h),h=[]),h.push([e,a,r])}this.headerClient.logUsage(\"header+index\"),h.length>0&&i.push(h);let l=i.flatMap(e=>this.readFeatureBatch(e,this.nocache));yield*t.merge(l)}lengthBeforeTree(){return i.length+h+this.headerLength}lengthBeforeFeatures(){return this.lengthBeforeTree()+this.indexLength}buildFeatureClient(e){return new u(this.headerClient.httpClient,e)}async *readFeatureBatch(e,t){let[r]=e[0],[a,n]=e[e.length-1],s=this.buildFeatureClient(t),i=a+n-r;for(let[t,,r]of e){let e=await this.readFeature(s,t,i);yield{id:r,feature:e},i=0}s.logUsage(\"feature\")}async readFeature(t,r,a){let n;let s=r+this.lengthBeforeFeatures();n=new DataView(await t.getRange(s,4,a,\"feature length\")).getUint32(0,!0);let i=new Uint8Array(await t.getRange(s+4,n,a,\"feature data\")),o=new Uint8Array(n+h);o.set(i,h);let l=new e.ByteBuffer(o);return l.setPosition(h),f.getRootAsFeature(l)}}class u{httpClient;bytesEverUsed=0;bytesEverFetched=0;buffer=new ArrayBuffer(0);head=0;constructor(e,t){if(\"string\"==typeof e)this.httpClient=new d(e,t);else if(e instanceof d)this.httpClient=e;else throw Error(\"Unknown source \")}async getRange(e,t,r,a){this.bytesEverUsed+=t;let n=e-this.head,s=n+t;if(n>=0&&s<=this.buffer.byteLength)return this.buffer.slice(n,s);let i=Math.max(t,r);return this.bytesEverFetched+=i,this.buffer=await this.httpClient.getRange(e,i,a),this.head=e,this.buffer.slice(0,t)}logUsage(e){e.split(\" \")[0],(100*this.bytesEverUsed/this.bytesEverFetched).toFixed(2)}}class d{url;nocache;requestsEverMade=0;bytesEverRequested=0;constructor(e,t){this.url=e,this.nocache=t}async getRange(e,t,r){this.requestsEverMade+=1,this.bytesEverRequested+=t;let a={Range:`bytes=${e}-${e+t-1}`};return this.nocache&&(a[\"Cache-Control\"]=\"no-cache, no-store\"),(await fetch(this.url,{headers:a})).arrayBuffer()}}\n//# sourceMappingURL=http-reader.js.map","import{GeometryType as e}from\"../flat-geobuf/geometry-type.js\";import{toGeometryType as o}from\"../generic/geometry.js\";export function inferGeometryType(t){let r;for(let f of t){if(r===e.Unknown)break;let t=f.getGeometry?o(f.getGeometry().getType()):o(f.geometry.type);void 0===r?r=t:r!==t&&(r=e.Unknown)}if(void 0===r)throw Error(\"Could not infer geometry type for collection of features.\");return r}\n//# sourceMappingURL=header.js.map","import*as e from\"flatbuffers\";import t from\"slice-source\";import{Header as r}from\"../flat-geobuf/header.js\";import{Column as n}from\"../flat-geobuf/column.js\";import{ColumnType as o}from\"../flat-geobuf/column-type.js\";import{Feature as a}from\"../flat-geobuf/feature.js\";import{fromByteBuffer as i}from\"../header-meta.js\";import{buildFeature as l}from\"./feature.js\";import{HttpReader as u}from\"../http-reader.js\";import{calcTreeSize as f}from\"../packedrtree.js\";import{parseGeometry as s}from\"./geometry.js\";import{magicbytes as m,SIZE_PREFIX_LEN as d}from\"../constants.js\";import{inferGeometryType as p}from\"./header.js\";import{Crs as y}from\"../flat-geobuf/crs.js\";export function serialize(e){let t=function(e){let t=e[0],r=t.getProperties?t.getProperties():{},n=null;return r&&(n=Object.keys(r).filter(e=>\"geometry\"!==e).map(e=>mapColumn(r,e))),{geometryType:p(e),columns:n,envelope:null,featuresCount:e.length,indexNodeSize:0,crs:null,title:null,description:null,metadata:null}}(e),r=buildHeader(t),n=e.map(e=>{if(!e.getGeometry)throw Error(\"Missing getGeometry implementation\");if(!e.getProperties)throw Error(\"Missing getProperties implementation\");return l(s(e.getGeometry(),t.geometryType),e.getProperties(),t)}),o=n.map(e=>e.length).reduce((e,t)=>e+t),a=new Uint8Array(m.length+r.length+o);a.set(r,m.length);let i=m.length+r.length;for(let e of n)a.set(e,i),i+=e.length;return a.set(m),a}export function deserialize(t,r,n){if(!t.subarray(0,3).every((e,t)=>m[t]===e))throw Error(\"Not a FlatGeobuf file\");let o=new e.ByteBuffer(t),l=o.readUint32(m.length);o.setPosition(m.length+d);let u=i(o);n&&n(u);let s=m.length+d+l,{indexNodeSize:p,featuresCount:y}=u;p>0&&(s+=f(y,p));let g=[];for(;s<o.capacity();){let e=o.readUint32(s);o.setPosition(s+d);let t=a.getRootAsFeature(o);g.push(r(g.length,t,u)),s+=d+e}return g}export async function*deserializeStream(r,n,o){let a;let l=t(r),u=async e=>await l.slice(e),s=new Uint8Array(await u(8,\"magic bytes\"));if(!s.subarray(0,3).every((e,t)=>m[t]===e))throw Error(\"Not a FlatGeobuf file\");s=new Uint8Array(await u(4,\"header length\"));let d=new e.ByteBuffer(s),p=d.readUint32(0);s=new Uint8Array(await u(p,\"header data\"));let y=i(d=new e.ByteBuffer(s));o&&o(y);let{indexNodeSize:c,featuresCount:h}=y;if(c>0){let e=f(h,c);await u(e,\"entire index, w/o rect\")}let w=0;for(;a=await g(u,y,n,w++);)yield a}export async function*deserializeFiltered(e,t,r,n,o=!1){let a=await u.open(e,o);for await(let e of(n&&n(a.header),a.selectBbox(t)))yield r(e.id,e.feature,a.header)}async function g(t,r,n,o){let i=new Uint8Array(await t(4,\"feature length\"));if(0===i.byteLength)return;let l=new e.ByteBuffer(i),u=l.readUint32(0);i=new Uint8Array(await t(u,\"feature data\"));let f=new Uint8Array(u+4);return f.set(i,4),(l=new e.ByteBuffer(f)).setPosition(d),n(o,a.getRootAsFeature(l),r)}export function buildHeader(t,o=0){let a;let i=new e.Builder,l=0;t.columns&&(l=r.createColumnsVector(i,t.columns.map(e=>(function(e,t){let r=e.createString(t.name);return n.startColumn(e),n.addName(e,r),n.addType(e,t.type),n.endColumn(e)})(i,e))));let u=i.createString(\"L1\");o&&(y.startCrs(i),y.addCode(i,o),a=y.endCrs(i)),r.startHeader(i),a&&r.addCrs(i,a),r.addFeaturesCount(i,BigInt(t.featuresCount)),r.addGeometryType(i,t.geometryType),r.addIndexNodeSize(i,0),l&&r.addColumns(i,l),r.addName(i,u);let f=r.endHeader(i);return i.finishSizePrefixed(f),i.asUint8Array()}export function mapColumn(e,t){return{name:t,type:function(e){if(\"boolean\"==typeof e)return o.Bool;if(\"number\"==typeof e)return e%1==0?o.Int:o.Double;if(\"string\"==typeof e||null===e)return o.String;if(\"object\"==typeof e)return o.Json;throw Error(`Unknown type (value '${e}')`)}(e[t]),title:null,description:null,width:-1,precision:-1,scale:-1,nullable:!0,unique:!1,primary_key:!1}}\n//# sourceMappingURL=featurecollection.js.map","/**\n * @module ol/proj/Units\n */\n\n/**\n * @typedef {'radians' | 'degrees' | 'ft' | 'm' | 'pixels' | 'tile-pixels' | 'us-ft'} Units\n * Projection units.\n */\n\n/**\n * See http://duff.ess.washington.edu/data/raster/drg/docs/geotiff.txt\n * @type {Object<number, Units>}\n */\nconst unitByCode = {\n  '9001': 'm',\n  '9002': 'ft',\n  '9003': 'us-ft',\n  '9101': 'radians',\n  '9102': 'degrees',\n};\n\n/**\n * @param {number} code Unit code.\n * @return {Units} Units.\n */\nexport function fromCode(code) {\n  return unitByCode[code];\n}\n\n/**\n * @typedef {Object} MetersPerUnitLookup\n * @property {number} radians Radians\n * @property {number} degrees Degrees\n * @property {number} ft  Feet\n * @property {number} m Meters\n * @property {number} us-ft US feet\n */\n\n/**\n * Meters per unit lookup table.\n * @const\n * @type {MetersPerUnitLookup}\n * @api\n */\nexport const METERS_PER_UNIT = {\n  // use the radius of the Normal sphere\n  'radians': 6370997 / (2 * Math.PI),\n  'degrees': (2 * Math.PI * 6370997) / 360,\n  'ft': 0.3048,\n  'm': 1,\n  'us-ft': 1200 / 3937,\n};\n","/**\n * @module ol/proj/Projection\n */\nimport {METERS_PER_UNIT} from './Units.js';\n\n/**\n * @typedef {Object} Options\n * @property {string} code The SRS identifier code, e.g. `EPSG:4326`.\n * @property {import(\"./Units.js\").Units} [units] Units. Required unless a\n * proj4 projection is defined for `code`.\n * @property {import(\"../extent.js\").Extent} [extent] The validity extent for the SRS.\n * @property {string} [axisOrientation='enu'] The axis orientation as specified in Proj4.\n * @property {boolean} [global=false] Whether the projection is valid for the whole globe.\n * @property {number} [metersPerUnit] The meters per unit for the SRS.\n * If not provided, the `units` are used to get the meters per unit from the {@link METERS_PER_UNIT}\n * lookup table.\n * @property {import(\"../extent.js\").Extent} [worldExtent] The world extent for the SRS.\n * @property {function(number, import(\"../coordinate.js\").Coordinate):number} [getPointResolution]\n * Function to determine resolution at a point. The function is called with a\n * `number` view resolution and a {@link module:ol/coordinate~Coordinate} as arguments, and returns\n * the `number` resolution in projection units at the passed coordinate. If this is `undefined`,\n * the default {@link module:ol/proj.getPointResolution} function will be used.\n */\n\n/**\n * @classdesc\n * Projection definition class. One of these is created for each projection\n * supported in the application and stored in the {@link module:ol/proj} namespace.\n * You can use these in applications, but this is not required, as API params\n * and options use {@link module:ol/proj~ProjectionLike} which means the simple string\n * code will suffice.\n *\n * You can use {@link module:ol/proj.get} to retrieve the object for a particular\n * projection.\n *\n * The library includes definitions for `EPSG:4326` and `EPSG:3857`, together\n * with the following aliases:\n * * `EPSG:4326`: CRS:84, urn:ogc:def:crs:EPSG:6.6:4326,\n *     urn:ogc:def:crs:OGC:1.3:CRS84, urn:ogc:def:crs:OGC:2:84,\n *     http://www.opengis.net/gml/srs/epsg.xml#4326,\n *     urn:x-ogc:def:crs:EPSG:4326\n * * `EPSG:3857`: EPSG:102100, EPSG:102113, EPSG:900913,\n *     urn:ogc:def:crs:EPSG:6.18:3:3857,\n *     http://www.opengis.net/gml/srs/epsg.xml#3857\n *\n * If you use [proj4js](https://github.com/proj4js/proj4js), aliases can\n * be added using `proj4.defs()`. After all required projection definitions are\n * added, call the {@link module:ol/proj/proj4.register} function.\n *\n * @api\n */\nclass Projection {\n  /**\n   * @param {Options} options Projection options.\n   */\n  constructor(options) {\n    /**\n     * @private\n     * @type {string}\n     */\n    this.code_ = options.code;\n\n    /**\n     * Units of projected coordinates. When set to `TILE_PIXELS`, a\n     * `this.extent_` and `this.worldExtent_` must be configured properly for each\n     * tile.\n     * @private\n     * @type {import(\"./Units.js\").Units}\n     */\n    this.units_ = /** @type {import(\"./Units.js\").Units} */ (options.units);\n\n    /**\n     * Validity extent of the projection in projected coordinates. For projections\n     * with `TILE_PIXELS` units, this is the extent of the tile in\n     * tile pixel space.\n     * @private\n     * @type {import(\"../extent.js\").Extent}\n     */\n    this.extent_ = options.extent !== undefined ? options.extent : null;\n\n    /**\n     * Extent of the world in EPSG:4326. For projections with\n     * `TILE_PIXELS` units, this is the extent of the tile in\n     * projected coordinate space.\n     * @private\n     * @type {import(\"../extent.js\").Extent}\n     */\n    this.worldExtent_ =\n      options.worldExtent !== undefined ? options.worldExtent : null;\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.axisOrientation_ =\n      options.axisOrientation !== undefined ? options.axisOrientation : 'enu';\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.global_ = options.global !== undefined ? options.global : false;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.canWrapX_ = !!(this.global_ && this.extent_);\n\n    /**\n     * @private\n     * @type {function(number, import(\"../coordinate.js\").Coordinate):number|undefined}\n     */\n    this.getPointResolutionFunc_ = options.getPointResolution;\n\n    /**\n     * @private\n     * @type {import(\"../tilegrid/TileGrid.js\").default}\n     */\n    this.defaultTileGrid_ = null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.metersPerUnit_ = options.metersPerUnit;\n  }\n\n  /**\n   * @return {boolean} The projection is suitable for wrapping the x-axis\n   */\n  canWrapX() {\n    return this.canWrapX_;\n  }\n\n  /**\n   * Get the code for this projection, e.g. 'EPSG:4326'.\n   * @return {string} Code.\n   * @api\n   */\n  getCode() {\n    return this.code_;\n  }\n\n  /**\n   * Get the validity extent for this projection.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   * @api\n   */\n  getExtent() {\n    return this.extent_;\n  }\n\n  /**\n   * Get the units of this projection.\n   * @return {import(\"./Units.js\").Units} Units.\n   * @api\n   */\n  getUnits() {\n    return this.units_;\n  }\n\n  /**\n   * Get the amount of meters per unit of this projection.  If the projection is\n   * not configured with `metersPerUnit` or a units identifier, the return is\n   * `undefined`.\n   * @return {number|undefined} Meters.\n   * @api\n   */\n  getMetersPerUnit() {\n    return this.metersPerUnit_ || METERS_PER_UNIT[this.units_];\n  }\n\n  /**\n   * Get the world extent for this projection.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   * @api\n   */\n  getWorldExtent() {\n    return this.worldExtent_;\n  }\n\n  /**\n   * Get the axis orientation of this projection.\n   * Example values are:\n   * enu - the default easting, northing, elevation.\n   * neu - northing, easting, up - useful for \"lat/long\" geographic coordinates,\n   *     or south orientated transverse mercator.\n   * wnu - westing, northing, up - some planetary coordinate systems have\n   *     \"west positive\" coordinate systems\n   * @return {string} Axis orientation.\n   * @api\n   */\n  getAxisOrientation() {\n    return this.axisOrientation_;\n  }\n\n  /**\n   * Is this projection a global projection which spans the whole world?\n   * @return {boolean} Whether the projection is global.\n   * @api\n   */\n  isGlobal() {\n    return this.global_;\n  }\n\n  /**\n   * Set if the projection is a global projection which spans the whole world\n   * @param {boolean} global Whether the projection is global.\n   * @api\n   */\n  setGlobal(global) {\n    this.global_ = global;\n    this.canWrapX_ = !!(global && this.extent_);\n  }\n\n  /**\n   * @return {import(\"../tilegrid/TileGrid.js\").default} The default tile grid.\n   */\n  getDefaultTileGrid() {\n    return this.defaultTileGrid_;\n  }\n\n  /**\n   * @param {import(\"../tilegrid/TileGrid.js\").default} tileGrid The default tile grid.\n   */\n  setDefaultTileGrid(tileGrid) {\n    this.defaultTileGrid_ = tileGrid;\n  }\n\n  /**\n   * Set the validity extent for this projection.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @api\n   */\n  setExtent(extent) {\n    this.extent_ = extent;\n    this.canWrapX_ = !!(this.global_ && extent);\n  }\n\n  /**\n   * Set the world extent for this projection.\n   * @param {import(\"../extent.js\").Extent} worldExtent World extent\n   *     [minlon, minlat, maxlon, maxlat].\n   * @api\n   */\n  setWorldExtent(worldExtent) {\n    this.worldExtent_ = worldExtent;\n  }\n\n  /**\n   * Set the getPointResolution function (see {@link module:ol/proj.getPointResolution}\n   * for this projection.\n   * @param {function(number, import(\"../coordinate.js\").Coordinate):number} func Function\n   * @api\n   */\n  setGetPointResolution(func) {\n    this.getPointResolutionFunc_ = func;\n  }\n\n  /**\n   * Get the custom point resolution function for this projection (if set).\n   * @return {function(number, import(\"../coordinate.js\").Coordinate):number|undefined} The custom point\n   * resolution function (if set).\n   */\n  getPointResolutionFunc() {\n    return this.getPointResolutionFunc_;\n  }\n}\n\nexport default Projection;\n","/**\n * @module ol/proj/epsg3857\n */\nimport Projection from './Projection.js';\n\n/**\n * Radius of WGS84 sphere\n *\n * @const\n * @type {number}\n */\nexport const RADIUS = 6378137;\n\n/**\n * @const\n * @type {number}\n */\nexport const HALF_SIZE = Math.PI * RADIUS;\n\n/**\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport const EXTENT = [-HALF_SIZE, -HALF_SIZE, HALF_SIZE, HALF_SIZE];\n\n/**\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport const WORLD_EXTENT = [-180, -85, 180, 85];\n\n/**\n * Maximum safe value in y direction\n * @const\n * @type {number}\n */\nexport const MAX_SAFE_Y = RADIUS * Math.log(Math.tan(Math.PI / 2));\n\n/**\n * @classdesc\n * Projection object for web/spherical Mercator (EPSG:3857).\n */\nclass EPSG3857Projection extends Projection {\n  /**\n   * @param {string} code Code.\n   */\n  constructor(code) {\n    super({\n      code: code,\n      units: 'm',\n      extent: EXTENT,\n      global: true,\n      worldExtent: WORLD_EXTENT,\n      getPointResolution: function (resolution, point) {\n        return resolution / Math.cosh(point[1] / RADIUS);\n      },\n    });\n  }\n}\n\n/**\n * Projections equal to EPSG:3857.\n *\n * @const\n * @type {Array<import(\"./Projection.js\").default>}\n */\nexport const PROJECTIONS = [\n  new EPSG3857Projection('EPSG:3857'),\n  new EPSG3857Projection('EPSG:102100'),\n  new EPSG3857Projection('EPSG:102113'),\n  new EPSG3857Projection('EPSG:900913'),\n  new EPSG3857Projection('http://www.opengis.net/def/crs/EPSG/0/3857'),\n  new EPSG3857Projection('http://www.opengis.net/gml/srs/epsg.xml#3857'),\n];\n\n/**\n * Transformation from EPSG:4326 to EPSG:3857.\n *\n * @param {Array<number>} input Input array of coordinate values.\n * @param {Array<number>} [output] Output array of coordinate values.\n * @param {number} [dimension] Dimension (default is `2`).\n * @param {number} [stride] Stride (default is `dimension`).\n * @return {Array<number>} Output array of coordinate values.\n */\nexport function fromEPSG4326(input, output, dimension, stride) {\n  const length = input.length;\n  dimension = dimension > 1 ? dimension : 2;\n  stride = stride ?? dimension;\n  if (output === undefined) {\n    if (dimension > 2) {\n      // preserve values beyond second dimension\n      output = input.slice();\n    } else {\n      output = new Array(length);\n    }\n  }\n  for (let i = 0; i < length; i += stride) {\n    output[i] = (HALF_SIZE * input[i]) / 180;\n    let y = RADIUS * Math.log(Math.tan((Math.PI * (+input[i + 1] + 90)) / 360));\n    if (y > MAX_SAFE_Y) {\n      y = MAX_SAFE_Y;\n    } else if (y < -MAX_SAFE_Y) {\n      y = -MAX_SAFE_Y;\n    }\n    output[i + 1] = y;\n  }\n  return output;\n}\n\n/**\n * Transformation from EPSG:3857 to EPSG:4326.\n *\n * @param {Array<number>} input Input array of coordinate values.\n * @param {Array<number>} [output] Output array of coordinate values.\n * @param {number} [dimension] Dimension (default is `2`).\n * @param {number} [stride] Stride (default is `dimension`).\n * @return {Array<number>} Output array of coordinate values.\n */\nexport function toEPSG4326(input, output, dimension, stride) {\n  const length = input.length;\n  dimension = dimension > 1 ? dimension : 2;\n  stride = stride ?? dimension;\n  if (output === undefined) {\n    if (dimension > 2) {\n      // preserve values beyond second dimension\n      output = input.slice();\n    } else {\n      output = new Array(length);\n    }\n  }\n  for (let i = 0; i < length; i += stride) {\n    output[i] = (180 * input[i]) / HALF_SIZE;\n    output[i + 1] =\n      (360 * Math.atan(Math.exp(input[i + 1] / RADIUS))) / Math.PI - 90;\n  }\n  return output;\n}\n","/**\n * @module ol/proj/epsg4326\n */\nimport Projection from './Projection.js';\n\n/**\n * Semi-major radius of the WGS84 ellipsoid.\n *\n * @const\n * @type {number}\n */\nexport const RADIUS = 6378137;\n\n/**\n * Extent of the EPSG:4326 projection which is the whole world.\n *\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport const EXTENT = [-180, -90, 180, 90];\n\n/**\n * @const\n * @type {number}\n */\nexport const METERS_PER_UNIT = (Math.PI * RADIUS) / 180;\n\n/**\n * @classdesc\n * Projection object for WGS84 geographic coordinates (EPSG:4326).\n *\n * Note that OpenLayers does not strictly comply with the EPSG definition.\n * The EPSG registry defines 4326 as a CRS for Latitude,Longitude (y,x).\n * OpenLayers treats EPSG:4326 as a pseudo-projection, with x,y coordinates.\n */\nclass EPSG4326Projection extends Projection {\n  /**\n   * @param {string} code Code.\n   * @param {string} [axisOrientation] Axis orientation.\n   */\n  constructor(code, axisOrientation) {\n    super({\n      code: code,\n      units: 'degrees',\n      extent: EXTENT,\n      axisOrientation: axisOrientation,\n      global: true,\n      metersPerUnit: METERS_PER_UNIT,\n      worldExtent: EXTENT,\n    });\n  }\n}\n\n/**\n * Projections equal to EPSG:4326.\n *\n * @const\n * @type {Array<import(\"./Projection.js\").default>}\n */\nexport const PROJECTIONS = [\n  new EPSG4326Projection('CRS:84'),\n  new EPSG4326Projection('EPSG:4326', 'neu'),\n  new EPSG4326Projection('urn:ogc:def:crs:OGC:1.3:CRS84'),\n  new EPSG4326Projection('urn:ogc:def:crs:OGC:2:84'),\n  new EPSG4326Projection('http://www.opengis.net/def/crs/OGC/1.3/CRS84'),\n  new EPSG4326Projection('http://www.opengis.net/gml/srs/epsg.xml#4326', 'neu'),\n  new EPSG4326Projection('http://www.opengis.net/def/crs/EPSG/0/4326', 'neu'),\n];\n","/**\n * @module ol/proj/transforms\n */\nimport {isEmpty} from '../obj.js';\n\n/**\n * @private\n * @type {!Object<string, Object<string, import(\"../proj.js\").TransformFunction>>}\n */\nlet transforms = {};\n\n/**\n * Clear the transform cache.\n */\nexport function clear() {\n  transforms = {};\n}\n\n/**\n * Registers a conversion function to convert coordinates from the source\n * projection to the destination projection.\n *\n * @param {import(\"./Projection.js\").default} source Source.\n * @param {import(\"./Projection.js\").default} destination Destination.\n * @param {import(\"../proj.js\").TransformFunction} transformFn Transform.\n */\nexport function add(source, destination, transformFn) {\n  const sourceCode = source.getCode();\n  const destinationCode = destination.getCode();\n  if (!(sourceCode in transforms)) {\n    transforms[sourceCode] = {};\n  }\n  transforms[sourceCode][destinationCode] = transformFn;\n}\n\n/**\n * Unregisters the conversion function to convert coordinates from the source\n * projection to the destination projection.  This method is used to clean up\n * cached transforms during testing.\n *\n * @param {import(\"./Projection.js\").default} source Source projection.\n * @param {import(\"./Projection.js\").default} destination Destination projection.\n * @return {import(\"../proj.js\").TransformFunction} transformFn The unregistered transform.\n */\nexport function remove(source, destination) {\n  const sourceCode = source.getCode();\n  const destinationCode = destination.getCode();\n  const transform = transforms[sourceCode][destinationCode];\n  delete transforms[sourceCode][destinationCode];\n  if (isEmpty(transforms[sourceCode])) {\n    delete transforms[sourceCode];\n  }\n  return transform;\n}\n\n/**\n * Get a transform given a source code and a destination code.\n * @param {string} sourceCode The code for the source projection.\n * @param {string} destinationCode The code for the destination projection.\n * @return {import(\"../proj.js\").TransformFunction|undefined} The transform function (if found).\n */\nexport function get(sourceCode, destinationCode) {\n  let transform;\n  if (sourceCode in transforms && destinationCode in transforms[sourceCode]) {\n    transform = transforms[sourceCode][destinationCode];\n  }\n  return transform;\n}\n","/**\n * @module ol/proj\n */\n\n/**\n * The ol/proj module stores:\n * * a list of {@link module:ol/proj/Projection~Projection}\n * objects, one for each projection supported by the application\n * * a list of transform functions needed to convert coordinates in one projection\n * into another.\n *\n * The static functions are the methods used to maintain these.\n * Each transform function can handle not only simple coordinate pairs, but also\n * large arrays of coordinates such as vector geometries.\n *\n * When loaded, the library adds projection objects for EPSG:4326 (WGS84\n * geographic coordinates) and EPSG:3857 (Web or Spherical Mercator, as used\n * for example by Bing Maps or OpenStreetMap), together with the relevant\n * transform functions.\n *\n * Additional transforms may be added by using the http://proj4js.org/\n * library (version 2.2 or later). You can use the full build supplied by\n * Proj4js, or create a custom build to support those projections you need; see\n * the Proj4js website for how to do this. You also need the Proj4js definitions\n * for the required projections. These definitions can be obtained from\n * https://epsg.io/, and are a JS function, so can be loaded in a script\n * tag (as in the examples) or pasted into your application.\n *\n * After all required projection definitions are added to proj4's registry (by\n * using `proj4.defs()`), simply call `register(proj4)` from the `ol/proj/proj4`\n * package. Existing transforms are not changed by this function. See\n * examples/wms-image-custom-proj for an example of this.\n *\n * Additional projection definitions can be registered with `proj4.defs()` any\n * time. Just make sure to call `register(proj4)` again; for example, with user-supplied data where you don't\n * know in advance what projections are needed, you can initially load minimal\n * support and then load whichever are requested.\n *\n * Note that Proj4js does not support projection extents. If you want to add\n * one for creating default tile grids, you can add it after the Projection\n * object has been created with `setExtent`, for example,\n * `get('EPSG:1234').setExtent(extent)`.\n *\n * In addition to Proj4js support, any transform functions can be added with\n * {@link module:ol/proj.addCoordinateTransforms}. To use this, you must first create\n * a {@link module:ol/proj/Projection~Projection} object for the new projection and add it with\n * {@link module:ol/proj.addProjection}. You can then add the forward and inverse\n * functions with {@link module:ol/proj.addCoordinateTransforms}. See\n * examples/wms-custom-proj for an example of this.\n *\n * Note that if no transforms are needed and you only need to define the\n * projection, just add a {@link module:ol/proj/Projection~Projection} with\n * {@link module:ol/proj.addProjection}. See examples/wms-no-proj for an example of\n * this.\n */\nimport Projection from './proj/Projection.js';\nimport {\n  PROJECTIONS as EPSG3857_PROJECTIONS,\n  fromEPSG4326,\n  toEPSG4326,\n} from './proj/epsg3857.js';\nimport {PROJECTIONS as EPSG4326_PROJECTIONS} from './proj/epsg4326.js';\nimport {METERS_PER_UNIT} from './proj/Units.js';\nimport {\n  add as addProj,\n  clear as clearProj,\n  get as getProj,\n} from './proj/projections.js';\nimport {\n  add as addTransformFunc,\n  clear as clearTransformFuncs,\n  get as getTransformFunc,\n} from './proj/transforms.js';\nimport {applyTransform, getWidth} from './extent.js';\nimport {clamp, modulo} from './math.js';\nimport {equals, getWorldsAway} from './coordinate.js';\nimport {getDistance} from './sphere.js';\nimport {warn} from './console.js';\n\n/**\n * A projection as {@link module:ol/proj/Projection~Projection}, SRS identifier\n * string or undefined.\n * @typedef {Projection|string|undefined} ProjectionLike\n * @api\n */\n\n/**\n * A transform function accepts an array of input coordinate values, an optional\n * output array, and an optional dimension (default should be 2).  The function\n * transforms the input coordinate values, populates the output array, and\n * returns the output array.\n *\n * @typedef {function(Array<number>, Array<number>=, number=, number=): Array<number>} TransformFunction\n * @api\n */\n\nexport {METERS_PER_UNIT};\n\nexport {Projection};\n\nlet showCoordinateWarning = true;\n\n/**\n * @param {boolean} [disable = true] Disable console info about `useGeographic()`\n */\nexport function disableCoordinateWarning(disable) {\n  const hide = disable === undefined ? true : disable;\n  showCoordinateWarning = !hide;\n}\n\n/**\n * @param {Array<number>} input Input coordinate array.\n * @param {Array<number>} [output] Output array of coordinate values.\n * @return {Array<number>} Output coordinate array (new array, same coordinate\n *     values).\n */\nexport function cloneTransform(input, output) {\n  if (output !== undefined) {\n    for (let i = 0, ii = input.length; i < ii; ++i) {\n      output[i] = input[i];\n    }\n    output = output;\n  } else {\n    output = input.slice();\n  }\n  return output;\n}\n\n/**\n * @param {Array<number>} input Input coordinate array.\n * @param {Array<number>} [output] Output array of coordinate values.\n * @return {Array<number>} Input coordinate array (same array as input).\n */\nexport function identityTransform(input, output) {\n  if (output !== undefined && input !== output) {\n    for (let i = 0, ii = input.length; i < ii; ++i) {\n      output[i] = input[i];\n    }\n    input = output;\n  }\n  return input;\n}\n\n/**\n * Add a Projection object to the list of supported projections that can be\n * looked up by their code.\n *\n * @param {Projection} projection Projection instance.\n * @api\n */\nexport function addProjection(projection) {\n  addProj(projection.getCode(), projection);\n  addTransformFunc(projection, projection, cloneTransform);\n}\n\n/**\n * @param {Array<Projection>} projections Projections.\n */\nexport function addProjections(projections) {\n  projections.forEach(addProjection);\n}\n\n/**\n * Fetches a Projection object for the code specified.\n *\n * @param {ProjectionLike} projectionLike Either a code string which is\n *     a combination of authority and identifier such as \"EPSG:4326\", or an\n *     existing projection object, or undefined.\n * @return {Projection|null} Projection object, or null if not in list.\n * @api\n */\nexport function get(projectionLike) {\n  return typeof projectionLike === 'string'\n    ? getProj(/** @type {string} */ (projectionLike))\n    : /** @type {Projection} */ (projectionLike) || null;\n}\n\n/**\n * Get the resolution of the point in degrees or distance units.\n * For projections with degrees as the unit this will simply return the\n * provided resolution. For other projections the point resolution is\n * by default estimated by transforming the `point` pixel to EPSG:4326,\n * measuring its width and height on the normal sphere,\n * and taking the average of the width and height.\n * A custom function can be provided for a specific projection, either\n * by setting the `getPointResolution` option in the\n * {@link module:ol/proj/Projection~Projection} constructor or by using\n * {@link module:ol/proj/Projection~Projection#setGetPointResolution} to change an existing\n * projection object.\n * @param {ProjectionLike} projection The projection.\n * @param {number} resolution Nominal resolution in projection units.\n * @param {import(\"./coordinate.js\").Coordinate} point Point to find adjusted resolution at.\n * @param {import(\"./proj/Units.js\").Units} [units] Units to get the point resolution in.\n * Default is the projection's units.\n * @return {number} Point resolution.\n * @api\n */\nexport function getPointResolution(projection, resolution, point, units) {\n  projection = get(projection);\n  let pointResolution;\n  const getter = projection.getPointResolutionFunc();\n  if (getter) {\n    pointResolution = getter(resolution, point);\n    if (units && units !== projection.getUnits()) {\n      const metersPerUnit = projection.getMetersPerUnit();\n      if (metersPerUnit) {\n        pointResolution =\n          (pointResolution * metersPerUnit) / METERS_PER_UNIT[units];\n      }\n    }\n  } else {\n    const projUnits = projection.getUnits();\n    if ((projUnits == 'degrees' && !units) || units == 'degrees') {\n      pointResolution = resolution;\n    } else {\n      // Estimate point resolution by transforming the center pixel to EPSG:4326,\n      // measuring its width and height on the normal sphere, and taking the\n      // average of the width and height.\n      const toEPSG4326 = getTransformFromProjections(\n        projection,\n        get('EPSG:4326'),\n      );\n      if (toEPSG4326 === identityTransform && projUnits !== 'degrees') {\n        // no transform is available\n        pointResolution = resolution * projection.getMetersPerUnit();\n      } else {\n        let vertices = [\n          point[0] - resolution / 2,\n          point[1],\n          point[0] + resolution / 2,\n          point[1],\n          point[0],\n          point[1] - resolution / 2,\n          point[0],\n          point[1] + resolution / 2,\n        ];\n        vertices = toEPSG4326(vertices, vertices, 2);\n        const width = getDistance(vertices.slice(0, 2), vertices.slice(2, 4));\n        const height = getDistance(vertices.slice(4, 6), vertices.slice(6, 8));\n        pointResolution = (width + height) / 2;\n      }\n      const metersPerUnit = units\n        ? METERS_PER_UNIT[units]\n        : projection.getMetersPerUnit();\n      if (metersPerUnit !== undefined) {\n        pointResolution /= metersPerUnit;\n      }\n    }\n  }\n  return pointResolution;\n}\n\n/**\n * Registers transformation functions that don't alter coordinates. Those allow\n * to transform between projections with equal meaning.\n *\n * @param {Array<Projection>} projections Projections.\n * @api\n */\nexport function addEquivalentProjections(projections) {\n  addProjections(projections);\n  projections.forEach(function (source) {\n    projections.forEach(function (destination) {\n      if (source !== destination) {\n        addTransformFunc(source, destination, cloneTransform);\n      }\n    });\n  });\n}\n\n/**\n * Registers transformation functions to convert coordinates in any projection\n * in projection1 to any projection in projection2.\n *\n * @param {Array<Projection>} projections1 Projections with equal\n *     meaning.\n * @param {Array<Projection>} projections2 Projections with equal\n *     meaning.\n * @param {TransformFunction} forwardTransform Transformation from any\n *   projection in projection1 to any projection in projection2.\n * @param {TransformFunction} inverseTransform Transform from any projection\n *   in projection2 to any projection in projection1..\n */\nexport function addEquivalentTransforms(\n  projections1,\n  projections2,\n  forwardTransform,\n  inverseTransform,\n) {\n  projections1.forEach(function (projection1) {\n    projections2.forEach(function (projection2) {\n      addTransformFunc(projection1, projection2, forwardTransform);\n      addTransformFunc(projection2, projection1, inverseTransform);\n    });\n  });\n}\n\n/**\n * Clear all cached projections and transforms.\n */\nexport function clearAllProjections() {\n  clearProj();\n  clearTransformFuncs();\n}\n\n/**\n * @param {Projection|string|undefined} projection Projection.\n * @param {string} defaultCode Default code.\n * @return {Projection} Projection.\n */\nexport function createProjection(projection, defaultCode) {\n  if (!projection) {\n    return get(defaultCode);\n  }\n  if (typeof projection === 'string') {\n    return get(projection);\n  }\n  return /** @type {Projection} */ (projection);\n}\n\n/**\n * Creates a {@link module:ol/proj~TransformFunction} from a simple 2D coordinate transform\n * function.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} coordTransform Coordinate\n *     transform.\n * @return {TransformFunction} Transform function.\n */\nexport function createTransformFromCoordinateTransform(coordTransform) {\n  return (\n    /**\n     * @param {Array<number>} input Input.\n     * @param {Array<number>} [output] Output.\n     * @param {number} [dimension] Dimensions that should be transformed.\n     * @param {number} [stride] Stride.\n     * @return {Array<number>} Output.\n     */\n    function (input, output, dimension, stride) {\n      const length = input.length;\n      dimension = dimension !== undefined ? dimension : 2;\n      stride = stride ?? dimension;\n      output = output !== undefined ? output : new Array(length);\n      for (let i = 0; i < length; i += stride) {\n        const point = coordTransform(input.slice(i, i + dimension));\n        const pointLength = point.length;\n        for (let j = 0, jj = stride; j < jj; ++j) {\n          output[i + j] = j >= pointLength ? input[i + j] : point[j];\n        }\n      }\n      return output;\n    }\n  );\n}\n\n/**\n * Registers coordinate transform functions to convert coordinates between the\n * source projection and the destination projection.\n * The forward and inverse functions convert coordinate pairs; this function\n * converts these into the functions used internally which also handle\n * extents and coordinate arrays.\n *\n * @param {ProjectionLike} source Source projection.\n * @param {ProjectionLike} destination Destination projection.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} forward The forward transform\n *     function (that is, from the source projection to the destination\n *     projection) that takes a {@link module:ol/coordinate~Coordinate} as argument and returns\n *     the transformed {@link module:ol/coordinate~Coordinate}.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} inverse The inverse transform\n *     function (that is, from the destination projection to the source\n *     projection) that takes a {@link module:ol/coordinate~Coordinate} as argument and returns\n *     the transformed {@link module:ol/coordinate~Coordinate}. If the transform function can only\n *     transform less dimensions than the input coordinate, it is supposeed to return a coordinate\n *     with only the length it can transform. The other dimensions will be taken unchanged from the\n *     source.\n * @api\n */\nexport function addCoordinateTransforms(source, destination, forward, inverse) {\n  const sourceProj = get(source);\n  const destProj = get(destination);\n  addTransformFunc(\n    sourceProj,\n    destProj,\n    createTransformFromCoordinateTransform(forward),\n  );\n  addTransformFunc(\n    destProj,\n    sourceProj,\n    createTransformFromCoordinateTransform(inverse),\n  );\n}\n\n/**\n * Transforms a coordinate from longitude/latitude to a different projection.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate as longitude and latitude, i.e.\n *     an array with longitude as 1st and latitude as 2nd element.\n * @param {ProjectionLike} [projection] Target projection. The\n *     default is Web Mercator, i.e. 'EPSG:3857'.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate projected to the target projection.\n * @api\n */\nexport function fromLonLat(coordinate, projection) {\n  disableCoordinateWarning();\n  return transform(\n    coordinate,\n    'EPSG:4326',\n    projection !== undefined ? projection : 'EPSG:3857',\n  );\n}\n\n/**\n * Transforms a coordinate to longitude/latitude.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Projected coordinate.\n * @param {ProjectionLike} [projection] Projection of the coordinate.\n *     The default is Web Mercator, i.e. 'EPSG:3857'.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate as longitude and latitude, i.e. an array\n *     with longitude as 1st and latitude as 2nd element.\n * @api\n */\nexport function toLonLat(coordinate, projection) {\n  const lonLat = transform(\n    coordinate,\n    projection !== undefined ? projection : 'EPSG:3857',\n    'EPSG:4326',\n  );\n  const lon = lonLat[0];\n  if (lon < -180 || lon > 180) {\n    lonLat[0] = modulo(lon + 180, 360) - 180;\n  }\n  return lonLat;\n}\n\n/**\n * Checks if two projections are the same, that is every coordinate in one\n * projection does represent the same geographic point as the same coordinate in\n * the other projection.\n *\n * @param {Projection} projection1 Projection 1.\n * @param {Projection} projection2 Projection 2.\n * @return {boolean} Equivalent.\n * @api\n */\nexport function equivalent(projection1, projection2) {\n  if (projection1 === projection2) {\n    return true;\n  }\n  const equalUnits = projection1.getUnits() === projection2.getUnits();\n  if (projection1.getCode() === projection2.getCode()) {\n    return equalUnits;\n  }\n  const transformFunc = getTransformFromProjections(projection1, projection2);\n  return transformFunc === cloneTransform && equalUnits;\n}\n\n/**\n * Searches in the list of transform functions for the function for converting\n * coordinates from the source projection to the destination projection.\n *\n * @param {Projection} sourceProjection Source Projection object.\n * @param {Projection} destinationProjection Destination Projection\n *     object.\n * @return {TransformFunction} Transform function.\n */\nexport function getTransformFromProjections(\n  sourceProjection,\n  destinationProjection,\n) {\n  const sourceCode = sourceProjection.getCode();\n  const destinationCode = destinationProjection.getCode();\n  let transformFunc = getTransformFunc(sourceCode, destinationCode);\n  if (!transformFunc) {\n    transformFunc = identityTransform;\n  }\n  return transformFunc;\n}\n\n/**\n * Given the projection-like objects, searches for a transformation\n * function to convert a coordinates array from the source projection to the\n * destination projection.\n *\n * @param {ProjectionLike} source Source.\n * @param {ProjectionLike} destination Destination.\n * @return {TransformFunction} Transform function.\n * @api\n */\nexport function getTransform(source, destination) {\n  const sourceProjection = get(source);\n  const destinationProjection = get(destination);\n  return getTransformFromProjections(sourceProjection, destinationProjection);\n}\n\n/**\n * Transforms a coordinate from source projection to destination projection.\n * This returns a new coordinate (and does not modify the original).\n *\n * See {@link module:ol/proj.transformExtent} for extent transformation.\n * See the transform method of {@link module:ol/geom/Geometry~Geometry} and its\n * subclasses for geometry transforms.\n *\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {ProjectionLike} source Source projection-like.\n * @param {ProjectionLike} destination Destination projection-like.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n * @api\n */\nexport function transform(coordinate, source, destination) {\n  const transformFunc = getTransform(source, destination);\n  return transformFunc(coordinate, undefined, coordinate.length);\n}\n\n/**\n * Transforms an extent from source projection to destination projection.  This\n * returns a new extent (and does not modify the original).\n *\n * @param {import(\"./extent.js\").Extent} extent The extent to transform.\n * @param {ProjectionLike} source Source projection-like.\n * @param {ProjectionLike} destination Destination projection-like.\n * @param {number} [stops] Number of stops per side used for the transform.\n * By default only the corners are used.\n * @return {import(\"./extent.js\").Extent} The transformed extent.\n * @api\n */\nexport function transformExtent(extent, source, destination, stops) {\n  const transformFunc = getTransform(source, destination);\n  return applyTransform(extent, transformFunc, undefined, stops);\n}\n\n/**\n * Transforms the given point to the destination projection.\n *\n * @param {import(\"./coordinate.js\").Coordinate} point Point.\n * @param {Projection} sourceProjection Source projection.\n * @param {Projection} destinationProjection Destination projection.\n * @return {import(\"./coordinate.js\").Coordinate} Point.\n */\nexport function transformWithProjections(\n  point,\n  sourceProjection,\n  destinationProjection,\n) {\n  const transformFunc = getTransformFromProjections(\n    sourceProjection,\n    destinationProjection,\n  );\n  return transformFunc(point);\n}\n\n/**\n * @type {Projection|null}\n */\nlet userProjection = null;\n\n/**\n * Set the projection for coordinates supplied from and returned by API methods.\n * This includes all API methods except for those interacting with tile grids,\n * plus {@link import(\"./Map.js\").FrameState} and {@link import(\"./View.js\").State}.\n * @param {ProjectionLike} projection The user projection.\n * @api\n */\nexport function setUserProjection(projection) {\n  userProjection = get(projection);\n}\n\n/**\n * Clear the user projection if set.\n * @api\n */\nexport function clearUserProjection() {\n  userProjection = null;\n}\n\n/**\n * Get the projection for coordinates supplied from and returned by API methods.\n * @return {Projection|null} The user projection (or null if not set).\n * @api\n */\nexport function getUserProjection() {\n  return userProjection;\n}\n\n/**\n * Use geographic coordinates (WGS-84 datum) in API methods.\n * This includes all API methods except for those interacting with tile grids,\n * plus {@link import(\"./Map.js\").FrameState} and {@link import(\"./View.js\").State}.\n * @api\n */\nexport function useGeographic() {\n  setUserProjection('EPSG:4326');\n}\n\n/**\n * Return a coordinate transformed into the user projection.  If no user projection\n * is set, the original coordinate is returned.\n * @param {Array<number>} coordinate Input coordinate.\n * @param {ProjectionLike} sourceProjection The input coordinate projection.\n * @return {Array<number>} The input coordinate in the user projection.\n */\nexport function toUserCoordinate(coordinate, sourceProjection) {\n  if (!userProjection) {\n    return coordinate;\n  }\n  return transform(coordinate, sourceProjection, userProjection);\n}\n\n/**\n * Return a coordinate transformed from the user projection.  If no user projection\n * is set, the original coordinate is returned.\n * @param {Array<number>} coordinate Input coordinate.\n * @param {ProjectionLike} destProjection The destination projection.\n * @return {Array<number>} The input coordinate transformed.\n */\nexport function fromUserCoordinate(coordinate, destProjection) {\n  if (!userProjection) {\n    if (\n      showCoordinateWarning &&\n      !equals(coordinate, [0, 0]) &&\n      coordinate[0] >= -180 &&\n      coordinate[0] <= 180 &&\n      coordinate[1] >= -90 &&\n      coordinate[1] <= 90\n    ) {\n      showCoordinateWarning = false;\n      warn(\n        'Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.',\n      );\n    }\n    return coordinate;\n  }\n  return transform(coordinate, userProjection, destProjection);\n}\n\n/**\n * Return an extent transformed into the user projection.  If no user projection\n * is set, the original extent is returned.\n * @param {import(\"./extent.js\").Extent} extent Input extent.\n * @param {ProjectionLike} sourceProjection The input extent projection.\n * @return {import(\"./extent.js\").Extent} The input extent in the user projection.\n */\nexport function toUserExtent(extent, sourceProjection) {\n  if (!userProjection) {\n    return extent;\n  }\n  return transformExtent(extent, sourceProjection, userProjection);\n}\n\n/**\n * Return an extent transformed from the user projection.  If no user projection\n * is set, the original extent is returned.\n * @param {import(\"./extent.js\").Extent} extent Input extent.\n * @param {ProjectionLike} destProjection The destination projection.\n * @return {import(\"./extent.js\").Extent} The input extent transformed.\n */\nexport function fromUserExtent(extent, destProjection) {\n  if (!userProjection) {\n    return extent;\n  }\n  return transformExtent(extent, userProjection, destProjection);\n}\n\n/**\n * Return the resolution in user projection units per pixel. If no user projection\n * is set, or source or user projection are missing units, the original resolution\n * is returned.\n * @param {number} resolution Resolution in input projection units per pixel.\n * @param {ProjectionLike} sourceProjection The input projection.\n * @return {number} Resolution in user projection units per pixel.\n */\nexport function toUserResolution(resolution, sourceProjection) {\n  if (!userProjection) {\n    return resolution;\n  }\n  const sourceMetersPerUnit = get(sourceProjection).getMetersPerUnit();\n  const userMetersPerUnit = userProjection.getMetersPerUnit();\n  return sourceMetersPerUnit && userMetersPerUnit\n    ? (resolution * sourceMetersPerUnit) / userMetersPerUnit\n    : resolution;\n}\n\n/**\n * Return the resolution in user projection units per pixel. If no user projection\n * is set, or source or user projection are missing units, the original resolution\n * is returned.\n * @param {number} resolution Resolution in user projection units per pixel.\n * @param {ProjectionLike} destProjection The destination projection.\n * @return {number} Resolution in destination projection units per pixel.\n */\nexport function fromUserResolution(resolution, destProjection) {\n  if (!userProjection) {\n    return resolution;\n  }\n  const destMetersPerUnit = get(destProjection).getMetersPerUnit();\n  const userMetersPerUnit = userProjection.getMetersPerUnit();\n  return destMetersPerUnit && userMetersPerUnit\n    ? (resolution * userMetersPerUnit) / destMetersPerUnit\n    : resolution;\n}\n\n/**\n * Creates a safe coordinate transform function from a coordinate transform function.\n * \"Safe\" means that it can handle wrapping of x-coordinates for global projections,\n * and that coordinates exceeding the source projection validity extent's range will be\n * clamped to the validity range.\n * @param {Projection} sourceProj Source projection.\n * @param {Projection} destProj Destination projection.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} transform Transform function (source to destination).\n * @return {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} Safe transform function (source to destination).\n */\nexport function createSafeCoordinateTransform(sourceProj, destProj, transform) {\n  return function (coord) {\n    let transformed, worldsAway;\n    if (sourceProj.canWrapX()) {\n      const sourceExtent = sourceProj.getExtent();\n      const sourceExtentWidth = getWidth(sourceExtent);\n      coord = coord.slice(0);\n      worldsAway = getWorldsAway(coord, sourceProj, sourceExtentWidth);\n      if (worldsAway) {\n        // Move x to the real world\n        coord[0] = coord[0] - worldsAway * sourceExtentWidth;\n      }\n      coord[0] = clamp(coord[0], sourceExtent[0], sourceExtent[2]);\n      coord[1] = clamp(coord[1], sourceExtent[1], sourceExtent[3]);\n      transformed = transform(coord);\n    } else {\n      transformed = transform(coord);\n    }\n    if (worldsAway && destProj.canWrapX()) {\n      // Move transformed coordinate back to the offset world\n      transformed[0] += worldsAway * getWidth(destProj.getExtent());\n    }\n    return transformed;\n  };\n}\n\n/**\n * Add transforms to and from EPSG:4326 and EPSG:3857.  This function is called\n * by when this module is executed and should only need to be called again after\n * `clearAllProjections()` is called (e.g. in tests).\n */\nexport function addCommon() {\n  // Add transformations that don't alter coordinates to convert within set of\n  // projections with equal meaning.\n  addEquivalentProjections(EPSG3857_PROJECTIONS);\n  addEquivalentProjections(EPSG4326_PROJECTIONS);\n  // Add transformations to convert EPSG:4326 like coordinates to EPSG:3857 like\n  // coordinates and back.\n  addEquivalentTransforms(\n    EPSG4326_PROJECTIONS,\n    EPSG3857_PROJECTIONS,\n    fromEPSG4326,\n    toEPSG4326,\n  );\n}\n\naddCommon();\n","import{GeometryType as e}from\"../flat-geobuf/geometry-type.js\";import{flat as t,pairFlatCoordinates as r,toGeometryType as o}from\"../generic/geometry.js\";export function parseGeometry(e){let r,n;let i=e.coordinates,l=[],a=[],p=o(e.type),s=0;switch(e.type){case\"Point\":case\"MultiPoint\":case\"LineString\":t(i,l,a);break;case\"MultiLineString\":case\"Polygon\":t(i,l,a),i.length>1&&(r=i.map(e=>s+=e.length));break;case\"MultiPolygon\":n=i.map(e=>({type:\"Polygon\",coordinates:e})).map(parseGeometry)}return{xy:l,z:a.length>0?a:void 0,ends:r,type:p,parts:n}}export function parseGC(e){let t=o(e.type),r=[];for(let t=0;t<e.geometries.length;t++){let o=e.geometries[t];\"GeometryCollection\"===o.type?r.push(parseGC(o)):r.push(parseGeometry(o))}return{type:t,parts:r}}export function fromGeometry(t,o){let n=o;if(n===e.Unknown&&(n=t.type()),n===e.GeometryCollection){let r=[];for(let e=0;e<t.partsLength();e++){let o=t.parts(e),n=o.type();r.push(fromGeometry(o,n))}return{type:e[n],geometries:r}}if(n===e.MultiPolygon){let r=[];for(let o=0;o<t.partsLength();o++)r.push(fromGeometry(t.parts(o),e.Polygon));return{type:e[n],coordinates:r.map(e=>e.coordinates)}}let i=function(t,o){let n=t.xyArray(),i=t.zArray();switch(o){case e.Point:{let e=Array.from(n);return i&&e.push(i[0]),e}case e.MultiPoint:case e.LineString:return r(n,i);case e.MultiLineString:case e.Polygon:return function(e,t,o){let n;if(!o||0===o.length)return[r(e,t)];let i=0,l=Array.from(o).map(t=>e.slice(i,i=t<<1));return t&&(i=0,n=Array.from(o).map(e=>t.slice(i,i=e))),l.map((e,t)=>r(e,n?n[t]:void 0))}(n,i,t.endsArray())}}(t,n);return{type:e[n],coordinates:i}}\n//# sourceMappingURL=geometry.js.map","import{fromGeometry as e}from\"./geometry.js\";import{parseProperties as r}from\"../generic/feature.js\";export function fromFeature(t,o,m){let p=m.columns;return{type:\"Feature\",id:t,geometry:e(o.geometry(),m.geometryType),properties:r(o,p)}}\n//# sourceMappingURL=feature.js.map","import{fromFeature as e}from\"./feature.js\";import{parseGeometry as t,parseGC as r}from\"./geometry.js\";import{buildHeader as n,deserialize as o,deserializeStream as i,deserializeFiltered as l,mapColumn as s}from\"../generic/featurecollection.js\";import{buildFeature as a}from\"../generic/feature.js\";import{magicbytes as u}from\"../constants.js\";import{inferGeometryType as m}from\"../generic/header.js\";export function serialize(e,o=0){let i=function(e){let t=e.features[0].properties,r=null;return t&&(r=Object.keys(t).map(e=>s(t,e))),{geometryType:m(e.features),columns:r,envelope:null,featuresCount:e.features.length,indexNodeSize:0,crs:null,title:null,description:null,metadata:null}}(e),l=n(i,o),f=e.features.map(e=>a(\"GeometryCollection\"===e.geometry.type?r(e.geometry):t(e.geometry),e.properties,i)),p=f.map(e=>e.length).reduce((e,t)=>e+t),c=new Uint8Array(u.length+l.length+p);c.set(l,u.length);let g=u.length+l.length;for(let e of f)c.set(e,g),g+=e.length;return c.set(u),c}export function deserialize(t,r){return{type:\"FeatureCollection\",features:o(t,e,r)}}export function deserializeStream(t,r){return i(t,e,r)}export function deserializeFiltered(t,r,n,o=!1){return l(t,r,e,n,o)}\n//# sourceMappingURL=featurecollection.js.map","import{deserialize as e,deserializeStream as i,deserializeFiltered as r,serialize as a}from\"./geojson/featurecollection.js\";export function serialize(e,i=0){return a(e,i)}export function deserialize(a,t,s,n=!1){return a instanceof Uint8Array?e(a,s):a instanceof ReadableStream?i(a,s):r(a,t,s,n)}\n//# sourceMappingURL=geojson.js.map"],"names":["int32","float32","float64","isLittleEndian","Encoding","ByteBuffer","bytes_","byte_size","position","offset","value","result","i","bb_pos","vtable_offset","vtable","opt_encoding","length","utf8bytes","o","ident","listAccessor","listLength","ret","val","Builder","opt_initial_size","initial_size","forceDefaults","size","additional_bytes","align_size","old_buf_size","voffset","defaultValue","obj","bb","new_buf_size","nbb","numfields","vtableloc","trimmed_size","standard_fields","len","existing_vtable","vt1","outer_loop","vt2","j","root_table","opt_file_identifier","opt_size_prefix","size_prefix","file_identifier","table","field","table_start","vtable_start","elem_size","num_elems","alignment","s","utf8","v","list","startFunc","empty","slice_cancel","concat","a","b","c","slice_read","that","array","slice_slice","index","read","slice","source","SliceSource","ColumnType","Column","t.SIZE_PREFIX_LENGTH","e","d","n","l","r","_","Crs","GeometryType","Header","Geometry","h","Feature","fromByteBuffer","t","buildGeometry","y","flat","pairFlatCoordinates","toGeometryType","buildFeature","e.Builder","g","f","u","p","k","U","m","parseProperties","extendStatics","__extends","__","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","reject","fulfilled","step","rejected","__generator","body","verb","op","__values","__await","__asyncGenerator","q","resume","settle","fulfill","RepeaterOverflowError","_super","message","_this","FixedBuffer","capacity","SlidingBuffer","DroppingBuffer","swallow","NOOP","Initial","Started","Stopped","Done","Rejected","MAX_QUEUE_LENGTH","consumeExecution","err","execution","createIteration","done","stop","e_1","_a","finish","_b","_d","push_1","e_1_1","e_2","next","e_2_1","push","valueP","nextP","next_1","floating","unhandled","onfulfilled","onrejected","createStop","stop1","stopP","execute","push1","records","Repeater","executor","buffer","push_2","push_3","race","merge","zip","latest","getIterators","values","options","e_3","iters","_loop_1","values_1","values_1_1","e_3_1","contenders","advance","stopped","finalIteration","iteration","i_1","_loop_2","iters_1","iters_1_1","iter","e_4","e_4_1","advances","e_5","advances_1","advances_1_1","e_5_1","iterations","iterations_1","values_2","e_6","advances_2","advances_2_1","advance1","e_6_1","NODE_ITEM_BYTE_LEN","DEFAULT_NODE_SIZE","calcTreeSize","generateLevelBounds","streamSearch","N","x","E","magicbytes","SIZE_PREFIX_LEN","HttpReader","e.ByteBuffer","inferGeometryType","deserialize","deserializeStream","w","deserializeFiltered","buildHeader","mapColumn","METERS_PER_UNIT","Projection","global","tileGrid","extent","worldExtent","func","RADIUS","HALF_SIZE","EXTENT","WORLD_EXTENT","MAX_SAFE_Y","EPSG3857Projection","code","resolution","point","PROJECTIONS","fromEPSG4326","input","output","dimension","stride","toEPSG4326","EPSG4326Projection","axisOrientation","transforms","add","destination","transformFn","sourceCode","destinationCode","cloneTransform","ii","addProjection","projection","addProj","addTransformFunc","addProjections","projections","addEquivalentProjections","addEquivalentTransforms","projections1","projections2","forwardTransform","inverseTransform","projection1","projection2","addCommon","EPSG3857_PROJECTIONS","EPSG4326_PROJECTIONS","parseGeometry","parseGC","fromGeometry","fromFeature","serialize"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]}