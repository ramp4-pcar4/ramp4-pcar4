import{ct as p,cu as E,cv as T,cw as _,cx as h,cy as O,cz as i,cA as C,cB as d}from"./main-DCIX61zy.js";function w(t,a,e="nearest",n=!1){const s=!(n&&a.pixelType==="u8"),o=s?T.FLOAT:T.UNSIGNED_BYTE,u=a.pixels==null||a.pixels.length===0?null:s?a.getAsRGBAFloat():a.getAsRGBA(),c=t.capabilities.textureFloatLinear,r=new p;return r.width=a.width,r.height=a.height,r.internalFormat=s?E.RGBA32F:C.RGBA,r.samplingMode=!c||e!=="bilinear"&&e!=="cubic"?_.NEAREST:_.LINEAR,r.dataType=o,r.wrapMode=h.CLAMP_TO_EDGE,new O(t,r,u)}function b(t,a){const{spacing:e,offsets:n,coefficients:s,size:[o,u]}=a,c=e[0]>1,r=new p;r.width=c?4*o:o,r.height=u,r.internalFormat=E.RGBA32F,r.dataType=T.FLOAT,r.samplingMode=_.NEAREST,r.wrapMode=h.CLAMP_TO_EDGE;const l=new Float32Array(c?o*u*16:2*n.length);if(c&&s!=null)for(let f=0,m=0;f<s.length;f++)l[m++]=s[f],f%3==2&&(l[m++]=1);else for(let f=0;f<u;f++)for(let m=0;m<o;m++){const g=4*(f*o+m),A=2*(m*u+f);l[g]=n[A],l[g+1]=n[A+1],l[g+3]=n[A]===-1?0:1}return new O(t,r,l)}function M(t,a){const e=new p;return e.internalFormat=C.RGBA,e.width=a.length/4,e.height=1,e.samplingMode=_.NEAREST,e.wrapMode=h.CLAMP_TO_EDGE,new O(t,e,a)}function U(t,a,e,n=1,s=!0){return{u_flipY:s,u_applyTransform:!!t,u_opacity:n,u_transformSpacing:t?t.spacing:d,u_transformGridSize:t?t.size:d,u_targetImageSize:a,u_srcImageSize:e}}function x(t,a){return{u_colormapOffset:a||0,u_colormapMaxIndex:t?t.length/4-1:0}}function F(t,a){return{u_scale:t,u_offset:a}}function L(t){return{u_bandCount:t.bandCount,u_minOutput:t.outMin,u_maxOutput:t.outMax,u_minCutOff:t.minCutOff,u_maxCutOff:t.maxCutOff,u_factor:t.factor,u_useGamma:t.useGamma,u_gamma:t.gamma,u_gammaCorrection:t.gammaCorrection}}function V(t){return{u_hillshadeType:t.hillshadeType,u_sinZcosAs:t.sinZcosAs,u_sinZsinAs:t.sinZsinAs,u_cosZs:t.cosZs,u_weights:t.weights,u_factor:t.factor,u_minValue:t.minValue,u_maxValue:t.maxValue}}function G(t,a){const e=t.gl,n=a.glName,s=new Map;if(n==null)return s;const o=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);let u;for(let c=0;c<o;c++)u=e.getActiveUniform(n,c),u&&s.set(u.name,{location:e.getUniformLocation(n,u.name),info:u});return s}function k(t,a,e){Object.keys(e).forEach(n=>{const s=a.get(n)||a.get(n+"[0]");s&&B(t,n,e[n],s)})}function v(t,a,e,n){e.length===n.length&&(n.some(s=>s==null)||e.some(s=>s==null)||e.forEach((s,o)=>{a.setUniform1i(s,o),t.bindTexture(n[o],o)}))}function B(t,a,e,n){if(n===null||e==null)return!1;const{info:s}=n;switch(s.type){case i.FLOAT:s.size>1?t.setUniform1fv(a,e):t.setUniform1f(a,e);break;case i.FLOAT_VEC2:t.setUniform2fv(a,e);break;case i.FLOAT_VEC3:t.setUniform3fv(a,e);break;case i.FLOAT_VEC4:t.setUniform4fv(a,e);break;case i.FLOAT_MAT3:t.setUniformMatrix3fv(a,e);break;case i.FLOAT_MAT4:t.setUniformMatrix4fv(a,e);break;case i.INT:s.size>1?t.setUniform1iv(a,e):t.setUniform1i(a,e);break;case i.BOOL:t.setUniform1i(a,e?1:0);break;case i.INT_VEC2:case i.BOOL_VEC2:t.setUniform2iv(a,e);break;case i.INT_VEC3:case i.BOOL_VEC3:t.setUniform3iv(a,e);break;case i.INT_VEC4:case i.BOOL_VEC4:t.setUniform4iv(a,e);break;default:return!1}return!0}export{V as A,v as O,G as T,x as _,b as c,w as f,F as g,k as h,U as l,M as m,L as p};
