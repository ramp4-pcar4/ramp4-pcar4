{"version":3,"file":"drapedUtils-Bj2xRBlq.js","sources":["../../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../../node_modules/@arcgis/core/views/support/drapedUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const o=t[r].size;\"number\"==typeof o&&(e+=o,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t?.stops?.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:o}=e;return(n(r,t)+n(o,t))/2}));let o=0;const s=r.length;if(0===s)return t;for(let n=0;n<s;n++)o+=r[n];const f=Math.floor(o/s);return Math.max(f,t)}function o(e){const n=e?.renderer,o=e?.pointerType,s=\"touch\"===o?9:6;if(!n)return s;const f=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(f,n.symbol);if(\"unique-value\"===n.type){let e=f;return n.uniqueValueInfos?.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=f;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return\"dot-density\"===n.type||n.type,f}export{o as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{getMetersPerUnitForSR as e}from\"../../core/unitUtils.js\";import{calculateTolerance as t}from\"../../renderers/support/clickToleranceUtils.js\";import n from\"../../geometry/Extent.js\";function r(t,r,i,a=new n){let o=0;if(\"2d\"===i.type)o=r*(i.resolution??0);else if(\"3d\"===i.type){const n=i.overlayPixelSizeInMapUnits(t),a=i.basemapSpatialReference;o=null==a||a.equals(i.spatialReference)?r*n:e(a)/e(i.spatialReference)}const s=t.x-o,l=t.y-o,m=t.x+o,p=t.y+o,{spatialReference:c}=i;return a.xmin=Math.min(s,m),a.ymin=Math.min(l,p),a.xmax=Math.max(s,m),a.ymax=Math.max(l,p),a.spatialReference=c,a}function i(e,n,i){const o=i.toMap(e);if(null==o)return!1;return r(o,t(),i,a).intersects(n)}const a=new n;export{r as createQueryGeometry,i as intersectsDrapedGeometry};\n"],"names":["t","e","n","r","o","f","s","i","a","l","m","p","c"],"mappings":"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","x_google_ignoreList":[0,1]}