import{e as W}from"./mat3f64-Dh9_zhFu.js";import{e as x}from"./quatf64-C16JxGFv.js";import{a9 as A,aa as Y,ab as Z,ac as $,ad as w,ae as B,af as C,ag as D,ah as F,ai as G,aj as H,ak as J,al as K,am as P,an as Q,ao as U,ap as V,aq as j,ar as tt}from"./main-DCIX61zy.js";function nt(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function b(t,n,e){e*=.5;const r=Math.sin(e);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(e),t}function _(t,n){const e=2*Math.acos(n[3]),r=Math.sin(e/2);return r>A()?(t[0]=n[0]/r,t[1]=n[1]/r,t[2]=n[2]/r):(t[0]=1,t[1]=0,t[2]=0),e}function y(t,n,e){const r=n[0],s=n[1],c=n[2],u=n[3],i=e[0],a=e[1],h=e[2],M=e[3];return t[0]=r*M+u*i+s*h-c*a,t[1]=s*M+u*a+c*i-r*h,t[2]=c*M+u*h+r*a-s*i,t[3]=u*M-r*i-s*a-c*h,t}function rt(t,n,e){e*=.5;const r=n[0],s=n[1],c=n[2],u=n[3],i=Math.sin(e),a=Math.cos(e);return t[0]=r*a+u*i,t[1]=s*a+c*i,t[2]=c*a-s*i,t[3]=u*a-r*i,t}function st(t,n,e){e*=.5;const r=n[0],s=n[1],c=n[2],u=n[3],i=Math.sin(e),a=Math.cos(e);return t[0]=r*a-c*i,t[1]=s*a+u*i,t[2]=c*a+r*i,t[3]=u*a-s*i,t}function et(t,n,e){e*=.5;const r=n[0],s=n[1],c=n[2],u=n[3],i=Math.sin(e),a=Math.cos(e);return t[0]=r*a+s*i,t[1]=s*a-r*i,t[2]=c*a+u*i,t[3]=u*a-c*i,t}function ct(t,n){const e=n[0],r=n[1],s=n[2];return t[0]=e,t[1]=r,t[2]=s,t[3]=Math.sqrt(Math.abs(1-e*e-r*r-s*s)),t}function g(t,n,e,r){const s=n[0],c=n[1],u=n[2],i=n[3];let a,h,M,l,o,m=e[0],p=e[1],q=e[2],d=e[3];return h=s*m+c*p+u*q+i*d,h<0&&(h=-h,m=-m,p=-p,q=-q,d=-d),1-h>A()?(a=Math.acos(h),M=Math.sin(a),l=Math.sin((1-r)*a)/M,o=Math.sin(r*a)/M):(l=1-r,o=r),t[0]=l*s+o*m,t[1]=l*c+o*p,t[2]=l*u+o*q,t[3]=l*i+o*d,t}function ut(t){const n=tt,e=n(),r=n(),s=n(),c=Math.sqrt(1-e),u=Math.sqrt(e);return t[0]=c*Math.sin(2*Math.PI*r),t[1]=c*Math.cos(2*Math.PI*r),t[2]=u*Math.sin(2*Math.PI*s),t[3]=u*Math.cos(2*Math.PI*s),t}function v(t,n){const e=n[0],r=n[1],s=n[2],c=n[3],u=e*e+r*r+s*s+c*c,i=u?1/u:0;return t[0]=-e*i,t[1]=-r*i,t[2]=-s*i,t[3]=c*i,t}function L(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function O(t,n){const e=n[0]+n[4]+n[8];let r;if(e>0)r=Math.sqrt(e+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{let s=0;n[4]>n[0]&&(s=1),n[8]>n[3*s+s]&&(s=2);const c=(s+1)%3,u=(s+2)%3;r=Math.sqrt(n[3*s+s]-n[3*c+c]-n[3*u+u]+1),t[s]=.5*r,r=.5/r,t[3]=(n[3*c+u]-n[3*u+c])*r,t[c]=(n[3*c+s]+n[3*s+c])*r,t[u]=(n[3*u+s]+n[3*s+u])*r}return t}function T(t,n,e,r){const s=.5*Math.PI/180;n*=s,e*=s,r*=s;const c=Math.sin(n),u=Math.cos(n),i=Math.sin(e),a=Math.cos(e),h=Math.sin(r),M=Math.cos(r);return t[0]=c*a*M-u*i*h,t[1]=u*i*M+c*a*h,t[2]=u*a*h-c*i*M,t[3]=u*a*M+c*i*h,t}function it(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}const at=Y,z=Z,ht=$,Mt=y,ft=w,lt=B,ot=C,E=D,mt=E,S=F,pt=S,I=G,X=H,qt=J;function k(t,n,e){const r=K(n,e);return r<-.999999?(P(f,dt,n),Q(f)<1e-6&&P(f,gt,n),U(f,f),b(t,f,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(P(f,n,e),t[0]=f[0],t[1]=f[1],t[2]=f[2],t[3]=1+r,I(t,t))}const f=V(),dt=j(1,0,0),gt=j(0,1,0);function Pt(t,n,e,r,s,c){return g(N,n,s,c),g(R,e,r,c),g(t,N,R,2*c*(1-c)),t}const N=x(),R=x();function bt(t,n,e,r){const s=yt;return s[0]=e[0],s[3]=e[1],s[6]=e[2],s[1]=r[0],s[4]=r[1],s[7]=r[2],s[2]=-n[0],s[5]=-n[1],s[8]=-n[2],I(t,O(t,s))}const yt=W();Object.freeze(Object.defineProperty({__proto__:null,add:ht,calculateW:ct,conjugate:L,copy:at,dot:lt,equals:qt,exactEquals:X,fromEuler:T,fromMat3:O,getAxisAngle:_,identity:nt,invert:v,len:mt,length:E,lerp:ot,mul:Mt,multiply:y,normalize:I,random:ut,rotateX:rt,rotateY:st,rotateZ:et,rotationTo:k,scale:ft,set:z,setAxes:bt,setAxisAngle:b,slerp:g,sqlerp:Pt,sqrLen:pt,squaredLength:S,str:it},Symbol.toStringTag,{value:"Module"}));export{v as L,X as N,L as O,k as R,T,z as X,b,_ as v,y as x};
