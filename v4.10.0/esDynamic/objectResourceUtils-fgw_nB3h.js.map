{"version":3,"file":"objectResourceUtils-fgw_nB3h.js","sources":["../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/geometryDataUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateID.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js","../../node_modules/@arcgis/core/views/3d/glTF/internal/TextureTransformUtils.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/ProcessedObjectResource.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/wosrLoader.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/objectResourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{i as t,g as e,h as n,F as r}from\"../../../../chunks/vec32.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{areaPoints3d as s}from\"../../../../geometry/support/triangle.js\";function i(r,o){if(!r)return!1;const{size:i,data:c,indices:f}=r;t(o,0,0,0),t(m,0,0,0);let g=0,d=0;for(let p=0;p<f.length-2;p+=3){const r=f[p]*i,h=f[p+1]*i,j=f[p+2]*i;t(a,c[r],c[r+1],c[r+2]),t(l,c[h],c[h+1],c[h+2]),t(u,c[j],c[j+1],c[j+2]);const z=s(a,l,u);z?(e(a,a,l),e(a,a,u),n(a,a,1/3*z),e(o,o,a),g+=z):(e(m,m,a),e(m,m,l),e(m,m,u),d+=3)}return(0!==d||0!==g)&&(0!==g?(n(o,o,1/g),!0):0!==d&&(n(o,m,1/d),!0))}function c(e,r){if(!e)return!1;const{size:o,data:s,indices:i}=e;t(r,0,0,0);let c=-1,f=0;for(let t=0;t<i.length;t++){const e=i[t]*o;c!==e&&(r[0]+=s[e],r[1]+=s[e+1],r[2]+=s[e+2],f++),c=e}return f>1&&n(r,r,1/f),f>0}function f(o,s,i){if(!o)return!1;t(i,0,0,0),t(m,0,0,0);let c=0,f=0;const{size:u,data:g,indices:d}=o,p=d.length-1,h=p+(s?2:0);for(let t=0;t<h;t+=2){const o=t<p?t+1:0,s=d[t<p?t:p]*u,h=d[o]*u;a[0]=g[s],a[1]=g[s+1],a[2]=g[s+2],l[0]=g[h],l[1]=g[h+1],l[2]=g[h+2],n(a,e(a,a,l),.5);const j=r(a,l);j>0?(e(i,i,n(a,a,j)),c+=j):0===c&&(e(m,m,a),f++)}return 0!==c?(n(i,i,1/c),!0):0!==f&&(n(i,m,1/f),!0)}const a=o(),l=o(),u=o(),m=o();export{f as computeAttachmentOriginLines,c as computeAttachmentOriginPoints,i as computeAttachmentOriginTriangles};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{generateUID as s}from\"../../../../core/uid.js\";import{Object3DState as t}from\"./basicInterfaces.js\";class c{constructor(){this.uid=s()}}class r extends c{constructor(s){super(),this.highlightGroupName=s,this.channel=t.Highlight}}class e extends c{constructor(){super(...arguments),this.channel=t.MaskOccludee}}export{r as Object3DHighlightStateID,e as Object3DOccludeeStateID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{IDENTITY as t,clone as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as e}from\"../../../../chunks/vec32.js\";import{compactIndices as s,getContinuousIndexArray as n}from\"../../../../geometry/support/Indices.js\";import{cloneAttributeData as r}from\"./AttributeArray.js\";import{BoundingInfo as h}from\"./BoundingInfo.js\";import{ContentObject as o}from\"./ContentObject.js\";import{ContentObjectType as u}from\"./ContentObjectType.js\";import{computeAttachmentOriginTriangles as g,computeAttachmentOriginLines as a,computeAttachmentOriginPoints as l}from\"./geometryDataUtils.js\";import{Object3DHighlightStateID as c}from\"./Object3DStateID.js\";import{assert as m}from\"./Util.js\";import{VertexAttribute as d}from\"./VertexAttribute.js\";class p extends o{constructor(t,i,e=null,n=u.Mesh,r=null,h=-1){super(),this.material=t,this.mapPositions=e,this.type=n,this.objectAndLayerIdColor=r,this.edgeIndicesLength=h,this.highlights=new Set,this._highlightGroupCounts=new Map,this.visible=!0,this._attributes=new Map,this._boundingInfo=null;for(const[o,u]of i)this._attributes.set(o,{...u,indices:s(u.indices)}),o===d.POSITION&&(this.edgeIndicesLength=this.edgeIndicesLength<0?this._attributes.get(o).indices.length:this.edgeIndicesLength)}instantiate(t={}){const i=new p(t.material||this.material,[],this.mapPositions,this.type,this.objectAndLayerIdColor,this.edgeIndicesLength);return this._attributes.forEach(((t,e)=>{t.exclusive=!1,i._attributes.set(e,t)})),i._boundingInfo=this._boundingInfo,i.transformation=t.transformation||this.transformation,i}get attributes(){return this._attributes}getMutableAttribute(t){let i=this._attributes.get(t);return i&&!i.exclusive&&(i={...i,exclusive:!0,data:r(i.data)},this._attributes.set(t,i)),i}setAttributeData(t,i){const e=this._attributes.get(t);e&&this._attributes.set(t,{...e,exclusive:!0,data:i})}get indexCount(){const t=this._attributes.values().next().value.indices;return t?.length??0}get faceCount(){return this.indexCount/3}get boundingInfo(){return null==this._boundingInfo&&(this._boundingInfo=this._calculateBoundingInfo()),this._boundingInfo}computeAttachmentOrigin(t){return!!(this.type===u.Mesh?this._computeAttachmentOriginTriangles(t):this.type===u.Line?this._computeAttachmentOriginLines(t):this._computeAttachmentOriginPoints(t))&&(null!=this._transformation&&e(t,t,this._transformation),!0)}_computeAttachmentOriginTriangles(t){const i=this.attributes.get(d.POSITION);return g(i,t)}_computeAttachmentOriginLines(t){const i=this.attributes.get(d.POSITION);return a(i,f(this.material.parameters,i),t)}_computeAttachmentOriginPoints(t){const i=this.attributes.get(d.POSITION);return l(i,t)}invalidateBoundingInfo(){this._boundingInfo=null}_calculateBoundingInfo(){const t=this.attributes.get(d.POSITION);if(!t||0===t.indices.length)return null;const i=this.type===u.Mesh?3:1;m(t.indices.length%i==0,\"Indexing error: \"+t.indices.length+\" not divisible by \"+i);const e=n(t.indices.length/i);return new h(e,i,t)}get transformation(){return this._transformation??t}set transformation(e){this._transformation=e&&e!==t?i(e):null}get highlightGroups(){return this._highlightGroupCounts}get hasHighlights(){return this._highlightGroupCounts.size>0}foreachHighlightGroup(t){this._highlightGroupCounts.forEach(((i,e)=>t(e)))}allocateIdAndHighlight(t){const i=new c(t);return this.addHighlight(i)}addHighlight(t){this.highlights.add(t);const{highlightGroupName:i}=t,e=(this._highlightGroupCounts.get(i)??0)+1;return this._highlightGroupCounts.set(i,e),t}removeHighlight(t){if(this.highlights.delete(t)){const{highlightGroupName:i}=t,e=this._highlightGroupCounts.get(i)??0;e<=1?this._highlightGroupCounts.delete(i):this._highlightGroupCounts.set(i,e-1)}}}function f(t,i){return!(!(\"isClosed\"in t)||!t.isClosed)&&i.indices.length>2}export{p as Geometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{fromValues as t,create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{ZEROS as r,ONES as l}from\"../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{multiply as i}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";function s(s){if(null==s)return null;const a=null!=s.offset?s.offset:r,n=null!=s.rotation?s.rotation:0,e=null!=s.scale?s.scale:l,f=t(1,0,0,0,1,0,a[0],a[1],1),c=t(Math.cos(n),-Math.sin(n),0,Math.sin(n),Math.cos(n),0,0,0,1),m=t(e[0],0,0,0,e[1],0,0,0,1),u=o();return i(u,c,m),i(u,f,u),u}export{s as getTransformMatrix};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass s{constructor(){this.geometries=new Array,this.materials=new Array,this.textures=new Array}}class t{constructor(t,e,r){this.name=t,this.lodThreshold=e,this.pivotOffset=r,this.stageResources=new s,this.numberOfVertices=0}}export{t as ProcessedObjectResource,s as ProcessedObjectStageResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{result as t}from\"../../../../core/asyncUtils.js\";import{estimateNestedObjectSize as r}from\"../../../../core/byteSizeEstimations.js\";import n from\"../../../../core/Error.js\";import s from\"../../../../core/Logger.js\";import{NestedMap as a}from\"../../../../core/NestedMap.js\";import{throwIfAbortError as o}from\"../../../../core/promiseUtils.js\";import{Version as i}from\"../../../../core/Version.js\";import{fromArray as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as u,expandWithVec3 as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{getContinuousIndexArray as m}from\"../../../../geometry/support/Indices.js\";import{requestImage as p}from\"../../../../support/requestImageUtils.js\";import{Attribute as f}from\"../../webgl-engine/lib/Attribute.js\";import{CullFaceOptions as d,AlphaDiscardMode as g}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as y}from\"../../webgl-engine/lib/Geometry.js\";import{Texture as b}from\"../../webgl-engine/lib/Texture.js\";import{VertexAttribute as w}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as x}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{TextureWrapMode as h}from\"../../../webgl/enums.js\";const v=()=>s.getLogger(\"esri.views.3d.layers.graphics.objectResourceUtils\");async function A(e,t){const n=await j(e,t),s=await E(n.textureDefinitions??{},t);let a=0;for(const r in s)if(s.hasOwnProperty(r)){const e=s[r];a+=e?.image?e.image.width*e.image.height*4:0}return{resource:n,textures:s,size:a+r(n)}}async function j(r,n){const s=n?.streamDataRequester;if(s)return I(r,s,n);const a=await t(e(r,n));if(!0===a.ok)return a.value.data;o(a.error),P(a.error)}async function I(e,r,n){const s=await t(r.request(e,\"json\",n));if(!0===s.ok)return s.value;o(s.error),P(s.error.details.url)}function P(e){throw new n(\"\",`Request for object resource failed: ${e}`)}function M(e){const t=e.params,r=t.topology;let n=!0;switch(t.vertexAttributes||(v().warn(\"Geometry must specify vertex attributes\"),n=!1),t.topology){case\"PerAttributeArray\":break;case\"Indexed\":case null:case void 0:{const e=t.faces;if(e){if(t.vertexAttributes)for(const r in t.vertexAttributes){const t=e[r];t?.values?(null!=t.valueType&&\"UInt32\"!==t.valueType&&(v().warn(`Unsupported indexed geometry indices type '${t.valueType}', only UInt32 is currently supported`),n=!1),null!=t.valuesPerElement&&1!==t.valuesPerElement&&(v().warn(`Unsupported indexed geometry values per element '${t.valuesPerElement}', only 1 is currently supported`),n=!1)):(v().warn(`Indexed geometry does not specify face indices for '${r}' attribute`),n=!1)}}else v().warn(\"Indexed geometries must specify faces\"),n=!1;break}default:v().warn(`Unsupported topology '${r}'`),n=!1}e.params.material||(v().warn(\"Geometry requires material\"),n=!1);const s=e.params.vertexAttributes;for(const a in s){s[a].values||(v().warn(\"Geometries with externally defined attributes are not yet supported\"),n=!1)}return n}function T(e,t){const r=new Array,n=new Array,s=new Array,o=new a,u=e.resource,c=i.parse(u.version||\"1.0\",\"wosr\");q.validate(c);const p=u.model.name,g=u.model.geometries,h=u.materialDefinitions??{},v=e.textures;let A=0;const j=new Map;for(let a=0;a<g.length;a++){const e=g[a];if(!M(e))continue;const i=k(e),u=e.params.vertexAttributes,c=[],p=t=>{if(\"PerAttributeArray\"===e.params.topology)return null;const r=e.params.faces;for(const e in r)if(e===t)return r[e].values;return null},I=u[w.POSITION],P=I.values.length/I.valuesPerElement;for(const t in u){const e=u[t],r=e.values,n=p(t)??m(P);c.push([t,new f(r,n,e.valuesPerElement,!0)])}const T=i.texture,U=v&&v[T];if(U&&!j.has(T)){const{image:e,parameters:t}=U,r=new b(e,t);n.push(r),j.set(T,r)}const E=j.get(T),q=E?E.id:void 0,R=i.material;let B=o.get(R,T);if(null==B){const e=h[R.slice(R.lastIndexOf(\"/\")+1)].params;1===e.transparency&&(e.transparency=0);const r=U&&U.alphaChannelUsage,n=e.transparency>0||\"transparency\"===r||\"maskAndTransparency\"===r,s=U?O(U.alphaChannelUsage):void 0,a={ambient:l(e.diffuse),diffuse:l(e.diffuse),opacity:1-(e.transparency||0),transparent:n,textureAlphaMode:s,textureAlphaCutoff:.33,textureId:q,initTextureTransparent:!0,doubleSided:!0,cullFace:d.None,colorMixMode:e.externalColorMixMode||\"tint\",textureAlphaPremultiplied:U?.parameters.preMultiplyAlpha??!1};t?.materialParameters&&Object.assign(a,t.materialParameters),B=new x(a,t),o.set(R,T,B)}s.push(B);const C=new y(B,c);A+=c.find((e=>e[0]===w.POSITION))?.[1]?.indices.length??0,r.push(C)}return{engineResources:[{name:p,stageResources:{textures:n,materials:s,geometries:r},pivotOffset:u.model.pivotOffset,numberOfVertices:A,lodThreshold:null}],referenceBoundingBox:U(r)}}function U(e){const t=u();return e.forEach((e=>{const r=e.boundingInfo;null!=r&&(c(t,r.bbMin),c(t,r.bbMax))})),t}async function E(e,t){const r=new Array;for(const a in e){const n=e[a],s=n.images[0].data;if(!s){v().warn(\"Externally referenced texture data is not yet supported\");continue}const o=n.encoding+\";base64,\"+s,i=\"/textureDefinitions/\"+a,l=\"rgba\"===n.channels?n.alphaChannelUsage||\"transparency\":\"none\",u={noUnpackFlip:!0,wrap:{s:h.REPEAT,t:h.REPEAT},preMultiplyAlpha:O(l)!==g.Opaque},c=t?.disableTextures?Promise.resolve(null):p(o,t);r.push(c.then((e=>({refId:i,image:e,parameters:u,alphaChannelUsage:l}))))}const n=await Promise.all(r),s={};for(const a of n)s[a.refId]=a;return s}function O(e){switch(e){case\"mask\":return g.Mask;case\"maskAndTransparency\":return g.MaskBlend;case\"none\":return g.Opaque;default:return g.Blend}}function k(e){const t=e.params;return{id:1,material:t.material,texture:t.texture,region:t.texture}}const q=new i(1,2,\"wosr\");export{E as createTextureResources,A as load,T as processLoadResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{adjustStaticAGOUrl as e}from\"../../../../core/devEnvironmentUtils.js\";import{hasScaling as t}from\"../../../../core/mathUtils.js\";import{normalFromMat4 as r,fromMat4 as o}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{invert as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ONES as a}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{t as l,d as u,E as c,l as m,n as f,m as d}from\"../../../../chunks/vec32.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as g,expandWithVec3 as x}from\"../../../../geometry/support/aaBoundingBox.js\";import{newFloatArray as b}from\"../../../../geometry/support/FloatArray.js\";import{BufferViewVec4f as h,BufferViewVec4u8 as T,BufferViewVec4u16 as y,BufferViewVec3f as w,BufferViewVec3u8 as v,BufferViewVec3u16 as R}from\"../../../../geometry/support/buffer/BufferView.js\";import{t as j,b as B,n as M,f as S}from\"../../../../chunks/vec3.js\";import{t as F,b as A}from\"../../../../chunks/vec4.js\";import{a as E}from\"../../../../chunks/vec2.js\";import{c as O}from\"../../../../chunks/vec33.js\";import{a as C}from\"../../../../chunks/vec43.js\";import{DefaultLoadingContext as L}from\"../../glTF/DefaultLoadingContext.js\";import{convertPrimitiveToTriangles as I}from\"../../glTF/internal/indexUtils.js\";import{isEncodedMeshTexture as N}from\"../../glTF/internal/resourceUtils.js\";import{getTransformMatrix as k}from\"../../glTF/internal/TextureTransformUtils.js\";import{ProcessedObjectResource as P}from\"./ProcessedObjectResource.js\";import{load as U,processLoadResult as V}from\"./wosrLoader.js\";import{NormalType as _}from\"../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{Attribute as D}from\"../../webgl-engine/lib/Attribute.js\";import{AlphaDiscardMode as G,DepthTestFunction as q,CullFaceOptions as W}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as H}from\"../../webgl-engine/lib/Geometry.js\";import{Texture as $}from\"../../webgl-engine/lib/Texture.js\";import{VertexAttribute as z}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as K}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{colorGamma as Q}from\"../../webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js\";import{esriSymbologyMRRFactors as J,advancedMRRFactors as X,useSchematicPBR as Y,schematicMRRFactors as Z}from\"../../webgl-engine/materials/pbrUtils.js\";async function ee(t,r){const o=te(e(t));if(\"wosr\"===o.fileType){const e=await(r.cache?r.cache.loadWOSR(o.url,r):U(o.url,r)),{engineResources:t,referenceBoundingBox:s}=V(e,r);return{lods:t,referenceBoundingBox:s,isEsriSymbolResource:!1,isWosr:!0}}let s;if(r.cache)s=await r.cache.loadGLTF(o.url,r,!!r.usePBR);else{const{loadGLTF:e}=await import(\"../../glTF/loader.js\");s=await e(new L(r.streamDataRequester),o.url,r,r.usePBR)}const i=s.model.meta?.ESRI_proxyEllipsoid,n=s.meta.isEsriSymbolResource&&null!=i&&\"EsriRealisticTreesStyle\"===s.meta.ESRI_webstyle;n&&!s.customMeta.esriTreeRendering&&(s.customMeta.esriTreeRendering=!0,ae(s,i));const a=!!r.usePBR,l=s.meta.isEsriSymbolResource?{usePBR:a,isSchematic:!1,treeRendering:n,mrrFactors:J}:{usePBR:a,isSchematic:!1,treeRendering:!1,mrrFactors:X},u={...r.materialParameters,treeRendering:n},{engineResources:c,referenceBoundingBox:m}=re(s,l,u,r,o.specifiedLodIndex);return{lods:c,referenceBoundingBox:m,isEsriSymbolResource:s.meta.isEsriSymbolResource,isWosr:!1}}function te(e){const t=e.match(/(.*\\.(gltf|glb))(\\?lod=([0-9]+))?$/);if(t)return{fileType:\"gltf\",url:t[1],specifiedLodIndex:null!=t[4]?Number(t[4]):null};return e.match(/(.*\\.(json|json\\.gz))$/)?{fileType:\"wosr\",url:e,specifiedLodIndex:null}:{fileType:\"unknown\",url:e,specifiedLodIndex:null}}function re(e,t,r,o,s){const i=e.model,n=new Array,a=new Map,l=new Map,u=i.lods.length,c=g();return i.lods.forEach(((e,m)=>{const f=!0===o.skipHighLods&&(u>1&&0===m||u>3&&1===m)||!1===o.skipHighLods&&null!=s&&m!==s;if(f&&0!==m)return;const d=new P(e.name,e.lodThreshold,[0,0,0]);e.parts.forEach((e=>{const s=f?new K({},o):oe(i,e,d,t,r,a,l,o),{geometry:n,vertexCount:u}=se(e,s??new K({},o)),p=n.boundingInfo;null!=p&&0===m&&(x(c,p.bbMin),x(c,p.bbMax)),null!=s&&(d.stageResources.geometries.push(n),d.numberOfVertices+=u)})),f||n.push(d)})),{engineResources:n,referenceBoundingBox:c}}function oe(e,t,r,o,s,i,n,l){const u=t.material+(t.attributes.normal?\"_normal\":\"\")+(t.attributes.color?\"_color\":\"\")+(t.attributes.texCoord0?\"_texCoord0\":\"\")+(t.attributes.tangent?\"_tangent\":\"\"),c=e.materials.get(t.material),m=null!=t.attributes.texCoord0,f=null!=t.attributes.normal;if(null==c)return null;const d=ne(c.alphaMode);if(!i.has(u)){if(m){const t=(t,r=!1)=>{if(null!=t&&!n.has(t)){const o=e.textures.get(t);if(null!=o){const e=o.data;n.set(t,new $(N(e)?e.data:e,{...o.parameters,preMultiplyAlpha:!N(e)&&r,encoding:N(e)&&null!=e.encoding?e.encoding:void 0}))}}};t(c.textureColor,d!==G.Opaque),t(c.textureNormal),t(c.textureOcclusion),t(c.textureEmissive),t(c.textureMetallicRoughness)}const r=c.color[0]**(1/Q),p=c.color[1]**(1/Q),g=c.color[2]**(1/Q),x=c.emissiveFactor[0]**(1/Q),b=c.emissiveFactor[1]**(1/Q),h=c.emissiveFactor[2]**(1/Q),T=null!=c.textureColor&&m?n.get(c.textureColor):null,y=Y({normalTexture:c.textureNormal,metallicRoughnessTexture:c.textureMetallicRoughness,metallicFactor:c.metallicFactor,roughnessFactor:c.roughnessFactor,emissiveTexture:c.textureEmissive,emissiveFactor:c.emissiveFactor,occlusionTexture:c.textureOcclusion}),w=null!=c.normalTextureTransform?.scale?c.normalTextureTransform?.scale:a;i.set(u,new K({...o,transparent:d===G.Blend,customDepthTest:q.Lequal,textureAlphaMode:d,textureAlphaCutoff:c.alphaCutoff,diffuse:[r,p,g],ambient:[r,p,g],opacity:c.opacity,doubleSided:c.doubleSided,doubleSidedType:\"winding-order\",cullFace:c.doubleSided?W.None:W.Back,hasVertexColors:!!t.attributes.color,hasVertexTangents:!!t.attributes.tangent,normalType:f?_.Attribute:_.ScreenDerivative,castShadows:!0,receiveShadows:c.receiveShadows,receiveAmbientOcclusion:c.receiveAmbientOcclustion,textureId:null!=T?T.id:void 0,colorMixMode:c.colorMixMode,normalTextureId:null!=c.textureNormal&&m?n.get(c.textureNormal).id:void 0,textureAlphaPremultiplied:null!=T&&!!T.parameters.preMultiplyAlpha,occlusionTextureId:null!=c.textureOcclusion&&m?n.get(c.textureOcclusion).id:void 0,emissiveTextureId:null!=c.textureEmissive&&m?n.get(c.textureEmissive).id:void 0,metallicRoughnessTextureId:null!=c.textureMetallicRoughness&&m?n.get(c.textureMetallicRoughness).id:void 0,emissiveFactor:[x,b,h],mrrFactors:y?Z:[c.metallicFactor,c.roughnessFactor,o.mrrFactors[2]],isSchematic:y,colorTextureTransformMatrix:k(c.colorTextureTransform),normalTextureTransformMatrix:k(c.normalTextureTransform),scale:[w[0],w[1]],occlusionTextureTransformMatrix:k(c.occlusionTextureTransform),emissiveTextureTransformMatrix:k(c.emissiveTextureTransform),metallicRoughnessTextureTransformMatrix:k(c.metallicRoughnessTextureTransform),...s},l))}const p=i.get(u);if(r.stageResources.materials.push(p),m){const e=e=>{null!=e&&r.stageResources.textures.push(n.get(e))};e(c.textureColor),e(c.textureNormal),e(c.textureOcclusion),e(c.textureEmissive),e(c.textureMetallicRoughness)}return p}function se(e,s){const i=e.attributes.position.count,n=I(e.indices||i,e.primitiveType),a=b(3*i),{typedBuffer:l,typedBufferStride:u}=e.attributes.position;j(a,l,e.transform,3,u);const c=[[z.POSITION,new D(a,n,3,!0)]];if(null!=e.attributes.normal){const o=b(3*i),{typedBuffer:s,typedBufferStride:a}=e.attributes.normal;r(ie,e.transform),B(o,s,ie,3,a),t(ie)&&M(o,o),c.push([z.NORMAL,new D(o,n,3,!0)])}if(null!=e.attributes.tangent){const r=b(4*i),{typedBuffer:s,typedBufferStride:a}=e.attributes.tangent;o(ie,e.transform),F(r,s,ie,4,a),t(ie)&&M(r,r,4),c.push([z.TANGENT,new D(r,n,4,!0)])}if(null!=e.attributes.texCoord0){const t=b(2*i),{typedBuffer:r,typedBufferStride:o}=e.attributes.texCoord0;E(t,r,2,o),c.push([z.UV0,new D(t,n,2,!0)])}const m=e.attributes.color;if(null!=m){const t=new Uint8Array(4*i);4===m.elementCount?m instanceof h?A(t,m,255):m instanceof T?C(t,m):m instanceof y&&A(t,m,1/256):(t.fill(255),m instanceof w?S(t,m.typedBuffer,255,4,m.typedBufferStride):e.attributes.color instanceof v?O(t,m.typedBuffer,4,e.attributes.color.typedBufferStride):e.attributes.color instanceof R&&S(t,m.typedBuffer,1/256,4,m.typedBufferStride)),c.push([z.COLOR,new D(t,n,4,!0)])}return{geometry:new H(s,c),vertexCount:i}}const ie=s();function ne(e){switch(e){case\"BLEND\":return G.Blend;case\"MASK\":return G.Mask;case\"OPAQUE\":case null:case void 0:return G.Opaque}}function ae(e,t){for(let r=0;r<e.model.lods.length;++r){const o=e.model.lods[r];for(const s of o.parts){const o=s.attributes.normal;if(null==o)return;const a=s.attributes.position,g=a.count,x=p(),b=p(),h=p(),y=new Uint8Array(4*g),v=new Float64Array(3*g),R=i(n(),s.transform);let j=0,B=0;for(let i=0;i<g;i++){a.getVec(i,b),o.getVec(i,x),l(b,b,s.transform),u(h,b,t.center),c(h,h,t.radius);const n=h[2],p=m(h),g=Math.min(.45+.55*p*p,1);c(h,h,t.radius),null!==R&&l(h,h,R),f(h,h),r+1!==e.model.lods.length&&e.model.lods.length>1&&d(h,h,x,n>-1?.2:Math.min(-4*n-3.8,1)),v[j]=h[0],v[j+1]=h[1],v[j+2]=h[2],j+=3,y[B]=255*g,y[B+1]=255*g,y[B+2]=255*g,y[B+3]=255,B+=4}s.attributes.normal=new w(v),s.attributes.color=new T(y)}}}export{ee as fetch,te as parseUrl};\n"],"names":["i","r","o","c","f","t","m","g","d","p","h","j","a","l","u","z","s","e","n","v","A","E","I","P","M","T","q","k","w","U","b","R","B","O","x","C","y","ee","te","V","L","ae","J","X","re","K","oe","se","ne","$","N","G","Q","Y","W","_","Z","D","ie","F","S","H"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}