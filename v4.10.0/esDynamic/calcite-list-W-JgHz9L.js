import{cV as Qt,cW as te,cR as v,cX as Nn,eZ as lt,e$ as jn}from"./main-DCIX61zy.js";import{s as st,t as Rn}from"./dom-N58V0tYi.js";import{u as Ie,I as Ce}from"./interactive-XU74NapU.js";import{c as Hn}from"./observers-tBXut0i3.js";import{M as Xn}from"./resources4-Bi43yZeq.js";import{u as zn,a as Bn}from"./utils3-Cq3ulHLR.js";import{s as xe,a as De,c as Ae}from"./loadable-CnW_ULGP.js";import{u as Te,s as _e,c as ke,d as Le}from"./t9n-B7zlVVF4.js";import{c as Pe,d as Oe,n as Fe}from"./locale-Dj-q8Iw4.js";import{S as Me,i as ee,r as Yn,b as ne,f as Wn,a as Un,c as Ne,d as je}from"./debounce-27Hmkkyg.js";import{d as Re}from"./icon-Dh3ZJmTl.js";import{a as He,b as Xe,d as ze}from"./input2-D2uZVfdD.js";import{d as Gn}from"./loader-HhR8XX0c.js";import{d as qn}from"./scrim-JscukiZn.js";function Be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Be(Object(n),!0).forEach(function(i){Vn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Nt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nt=function(e){return typeof e}:Nt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(t)}function Vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(){return V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},V.apply(this,arguments)}function $n(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,o;for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function Zn(t,e){if(t==null)return{};var n=$n(t,e),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)i=o[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var Kn="1.15.3";function $(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Z=$(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ct=$(/Edge/i),Ye=$(/firefox/i),xt=$(/safari/i)&&!$(/chrome/i)&&!$(/android/i),We=$(/iP(ad|od|hone)/i),Ue=$(/chrome/i)&&$(/android/i),Ge={capture:!1,passive:!1};function E(t,e,n){t.addEventListener(e,n,!Z&&Ge)}function b(t,e,n){t.removeEventListener(e,n,!Z&&Ge)}function jt(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function qe(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function X(t,e,n,i){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&jt(t,e):jt(t,e))||i&&t===n)return t;if(t===n)break}while(t=qe(t))}return null}var Ve=/\s+/g;function j(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(Ve," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(Ve," ")}}function f(t,e,n){var i=t&&t.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=n+(typeof n=="string"?"":"px")}}function pt(t,e){var n="";if(typeof t=="string")n=t;else do{var i=f(t,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function $e(t,e,n){if(t){var i=t.getElementsByTagName(e),a=0,o=i.length;if(n)for(;a<o;a++)n(i[a],a);return i}return[]}function W(){var t=document.scrollingElement;return t||document.documentElement}function A(t,e,n,i,a){if(!(!t.getBoundingClientRect&&t!==window)){var o,r,s,l,c,h,u;if(t!==window&&t.parentNode&&t!==W()?(o=t.getBoundingClientRect(),r=o.top,s=o.left,l=o.bottom,c=o.right,h=o.height,u=o.width):(r=0,s=0,l=window.innerHeight,c=window.innerWidth,h=window.innerHeight,u=window.innerWidth),(e||n)&&t!==window&&(a=a||t.parentNode,!Z))do if(a&&a.getBoundingClientRect&&(f(a,"transform")!=="none"||n&&f(a,"position")!=="static")){var y=a.getBoundingClientRect();r-=y.top+parseInt(f(a,"border-top-width")),s-=y.left+parseInt(f(a,"border-left-width")),l=r+o.height,c=s+o.width;break}while(a=a.parentNode);if(i&&t!==window){var m=pt(a||t),w=m&&m.a,S=m&&m.d;m&&(r/=S,s/=w,u/=w,h/=S,l=r+h,c=s+u)}return{top:r,left:s,bottom:l,right:c,width:u,height:h}}}function Ze(t,e,n){for(var i=Q(t,!0),a=A(t)[e];i;){var o=A(i)[n],r=void 0;if(r=a>=o,!r)return i;if(i===W())break;i=Q(i,!1)}return!1}function gt(t,e,n,i){for(var a=0,o=0,r=t.children;o<r.length;){if(r[o].style.display!=="none"&&r[o]!==p.ghost&&(i||r[o]!==p.dragged)&&X(r[o],n.draggable,t,!1)){if(a===e)return r[o];a++}o++}return null}function ie(t,e){for(var n=t.lastElementChild;n&&(n===p.ghost||f(n,"display")==="none"||e&&!jt(n,e));)n=n.previousElementSibling;return n||null}function H(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==p.clone&&(!e||jt(t,e))&&n++;return n}function Ke(t){var e=0,n=0,i=W();if(t)do{var a=pt(t),o=a.a,r=a.d;e+=t.scrollLeft*o,n+=t.scrollTop*r}while(t!==i&&(t=t.parentNode));return[e,n]}function Jn(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n)}return-1}function Q(t,e){if(!t||!t.getBoundingClientRect)return W();var n=t,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=f(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return W();if(i||e)return n;i=!0}}while(n=n.parentNode);return W()}function Qn(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ae(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Dt;function Je(t,e){return function(){if(!Dt){var n=arguments,i=this;n.length===1?t.call(i,n[0]):t.apply(i,n),Dt=setTimeout(function(){Dt=void 0},e)}}}function ti(){clearTimeout(Dt),Dt=void 0}function Qe(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function tn(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function en(t,e,n){var i={};return Array.from(t.children).forEach(function(a){var o,r,s,l;if(!(!X(a,e.draggable,t,!1)||a.animated||a===n)){var c=A(a);i.left=Math.min((o=i.left)!==null&&o!==void 0?o:1/0,c.left),i.top=Math.min((r=i.top)!==null&&r!==void 0?r:1/0,c.top),i.right=Math.max((s=i.right)!==null&&s!==void 0?s:-1/0,c.right),i.bottom=Math.max((l=i.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var F="Sortable"+new Date().getTime();function ei(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(f(i,"display")==="none"||i===p.ghost)){t.push({target:i,rect:A(i)});var a=Y({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=pt(i,!0);o&&(a.top-=o.f,a.left-=o.e)}i.fromRect=a}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(Jn(t,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var a=!1,o=0;t.forEach(function(r){var s=0,l=r.target,c=l.fromRect,h=A(l),u=l.prevFromRect,y=l.prevToRect,m=r.rect,w=pt(l,!0);w&&(h.top-=w.f,h.left-=w.e),l.toRect=h,l.thisAnimationDuration&&ae(u,h)&&!ae(c,h)&&(m.top-h.top)/(m.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(s=ii(m,u,y,i.options)),ae(h,c)||(l.prevFromRect=c,l.prevToRect=h,s||(s=i.options.animation),i.animate(l,m,h,s)),s&&(a=!0,o=Math.max(o,s),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},s),l.thisAnimationDuration=s)}),clearTimeout(e),a?e=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),t=[]},animate:function(n,i,a,o){if(o){f(n,"transition",""),f(n,"transform","");var r=pt(this.el),s=r&&r.a,l=r&&r.d,c=(i.left-a.left)/(s||1),h=(i.top-a.top)/(l||1);n.animatingX=!!c,n.animatingY=!!h,f(n,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=ni(n),f(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),f(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){f(n,"transition",""),f(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function ni(t){return t.offsetWidth}function ii(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var mt=[],oe={initializeByDefault:!0},At={mount:function(t){for(var e in oe)oe.hasOwnProperty(e)&&!(e in t)&&(t[e]=oe[e]);mt.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),mt.push(t)},pluginEvent:function(t,e,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var a=t+"Global";mt.forEach(function(o){e[o.pluginName]&&(e[o.pluginName][a]&&e[o.pluginName][a](Y({sortable:e},n)),e.options[o.pluginName]&&e[o.pluginName][t]&&e[o.pluginName][t](Y({sortable:e},n)))})},initializePlugins:function(t,e,n,i){mt.forEach(function(r){var s=r.pluginName;if(!(!t.options[s]&&!r.initializeByDefault)){var l=new r(t,e,t.options);l.sortable=t,l.options=t.options,t[s]=l,V(n,l.defaults)}});for(var a in t.options)if(t.options.hasOwnProperty(a)){var o=this.modifyOption(t,a,t.options[a]);typeof o<"u"&&(t.options[a]=o)}},getEventProperties:function(t,e){var n={};return mt.forEach(function(i){typeof i.eventProperties=="function"&&V(n,i.eventProperties.call(e[i.pluginName],t))}),n},modifyOption:function(t,e,n){var i;return mt.forEach(function(a){t[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[e]=="function"&&(i=a.optionListeners[e].call(t[a.pluginName],n))}),i}};function ai(t){var e=t.sortable,n=t.rootEl,i=t.name,a=t.targetEl,o=t.cloneEl,r=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,h=t.oldDraggableIndex,u=t.newDraggableIndex,y=t.originalEvent,m=t.putSortable,w=t.extraEventProperties;if(e=e||n&&n[F],!!e){var S,U=e.options,P="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Z&&!Ct?S=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(i,!0,!0)),S.to=r||n,S.from=s||n,S.item=a||n,S.clone=o,S.oldIndex=l,S.newIndex=c,S.oldDraggableIndex=h,S.newDraggableIndex=u,S.originalEvent=y,S.pullMode=m?m.lastPutMode:void 0;var G=Y(Y({},w),At.getEventProperties(i,e));for(var k in G)S[k]=G[k];n&&n.dispatchEvent(S),U[P]&&U[P].call(e,S)}}var oi=["evt"],M=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,a=Zn(n,oi);At.pluginEvent.bind(p)(t,e,Y({dragEl:d,parentEl:D,ghostEl:g,rootEl:C,nextEl:ct,lastDownEl:Rt,cloneEl:x,cloneHidden:tt,dragStarted:_t,putSortable:_,activeSortable:p.active,originalEvent:i,oldIndex:vt,oldDraggableIndex:Tt,newIndex:R,newDraggableIndex:et,hideGhostForTarget:cn,unhideGhostForTarget:dn,cloneNowHidden:function(){tt=!0},cloneNowShown:function(){tt=!1},dispatchSortableEvent:function(o){O({sortable:e,name:o,originalEvent:i})}},a))};function O(t){ai(Y({putSortable:_,cloneEl:x,targetEl:d,rootEl:C,oldIndex:vt,oldDraggableIndex:Tt,newIndex:R,newDraggableIndex:et},t))}var d,D,g,C,ct,Rt,x,tt,vt,R,Tt,et,Ht,_,bt=!1,Xt=!1,zt=[],dt,z,re,le,nn,an,_t,yt,kt,Lt=!1,Bt=!1,Yt,L,se=[],ce=!1,Wt=[],Ut=typeof document<"u",Gt=We,on=Ct||Z?"cssFloat":"float",ri=Ut&&!Ue&&!We&&"draggable"in document.createElement("div"),rn=function(){if(Ut){if(Z)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),ln=function(t,e){var n=f(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=gt(t,0,e),o=gt(t,1,e),r=a&&f(a),s=o&&f(o),l=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+A(a).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+A(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&r.float&&r.float!=="none"){var h=r.float==="left"?"left":"right";return o&&(s.clear==="both"||s.clear===h)?"vertical":"horizontal"}return a&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||l>=i&&n[on]==="none"||o&&n[on]==="none"&&l+c>i)?"vertical":"horizontal"},li=function(t,e,n){var i=n?t.left:t.top,a=n?t.right:t.bottom,o=n?t.width:t.height,r=n?e.left:e.top,s=n?e.right:e.bottom,l=n?e.width:e.height;return i===r||a===s||i+o/2===r+l/2},si=function(t,e){var n;return zt.some(function(i){var a=i[F].options.emptyInsertThreshold;if(!(!a||ie(i))){var o=A(i),r=t>=o.left-a&&t<=o.right+a,s=e>=o.top-a&&e<=o.bottom+a;if(r&&s)return n=i}}),n},sn=function(t){function e(a,o){return function(r,s,l,c){var h=r.options.group.name&&s.options.group.name&&r.options.group.name===s.options.group.name;if(a==null&&(o||h))return!0;if(a==null||a===!1)return!1;if(o&&a==="clone")return a;if(typeof a=="function")return e(a(r,s,l,c),o)(r,s,l,c);var u=(o?r:s).options.group.name;return a===!0||typeof a=="string"&&a===u||a.join&&a.indexOf(u)>-1}}var n={},i=t.group;(!i||Nt(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},cn=function(){!rn&&g&&f(g,"display","none")},dn=function(){!rn&&g&&f(g,"display","")};Ut&&!Ue&&document.addEventListener("click",function(t){if(Xt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Xt=!1,!1},!0);var ht=function(t){if(d){t=t.touches?t.touches[0]:t;var e=si(t.clientX,t.clientY);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[F]._onDragOver(n)}}},ci=function(t){d&&d.parentNode[F]._isOutsideThisEl(t.target)};function p(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=V({},e),t[F]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ln(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,r){o.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&!xt,emptyInsertThreshold:5};At.initializePlugins(this,t,n);for(var i in n)!(i in e)&&(e[i]=n[i]);sn(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:ri,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?E(t,"pointerdown",this._onTapStart):(E(t,"mousedown",this._onTapStart),E(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(E(t,"dragover",this),E(t,"dragenter",this)),zt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),V(this,ei())}p.prototype={constructor:p,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(yt=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,d):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,i=this.options,a=i.preventOnFilter,o=t.type,r=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(r||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=i.filter;if(vi(n),!d&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||i.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&xt&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=X(s,i.draggable,n,!1),!(s&&s.animated)&&Rt!==s)){if(vt=H(s),Tt=H(s,i.draggable),typeof c=="function"){if(c.call(this,t,s,this)){O({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),M("filter",e,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=X(l,h.trim(),n,!1),h)return O({sortable:e,rootEl:h,name:"filter",targetEl:s,fromEl:n,toEl:n}),M("filter",e,{evt:t}),!0}),c)){a&&t.cancelable&&t.preventDefault();return}i.handle&&!X(l,i.handle,n,!1)||this._prepareDragStart(t,r,s)}}},_prepareDragStart:function(t,e,n){var i=this,a=i.el,o=i.options,r=a.ownerDocument,s;if(n&&!d&&n.parentNode===a){var l=A(n);if(C=a,d=n,D=d.parentNode,ct=d.nextSibling,Rt=n,Ht=o.group,p.dragged=d,dt={target:d,clientX:(e||t).clientX,clientY:(e||t).clientY},nn=dt.clientX-l.left,an=dt.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,d.style["will-change"]="all",s=function(){if(M("delayEnded",i,{evt:t}),p.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Ye&&i.nativeDraggable&&(d.draggable=!0),i._triggerDragStart(t,e),O({sortable:i,name:"choose",originalEvent:t}),j(d,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){$e(d,c.trim(),de)}),E(r,"dragover",ht),E(r,"mousemove",ht),E(r,"touchmove",ht),E(r,"mouseup",i._onDrop),E(r,"touchend",i._onDrop),E(r,"touchcancel",i._onDrop),Ye&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),M("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Ct||Z))){if(p.eventCanceled){this._onDrop();return}E(r,"mouseup",i._disableDelayedDrag),E(r,"touchend",i._disableDelayedDrag),E(r,"touchcancel",i._disableDelayedDrag),E(r,"mousemove",i._delayedDragTouchMoveHandler),E(r,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&E(r,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,o.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&de(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;b(t,"mouseup",this._disableDelayedDrag),b(t,"touchend",this._disableDelayedDrag),b(t,"touchcancel",this._disableDelayedDrag),b(t,"mousemove",this._delayedDragTouchMoveHandler),b(t,"touchmove",this._delayedDragTouchMoveHandler),b(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?E(document,"pointermove",this._onTouchMove):e?E(document,"touchmove",this._onTouchMove):E(document,"mousemove",this._onTouchMove):(E(d,"dragend",this),E(C,"dragstart",this._onDragStart));try{document.selection?Vt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(bt=!1,C&&d){M("dragStarted",this,{evt:e}),this.nativeDraggable&&E(document,"dragover",ci);var n=this.options;!t&&j(d,n.dragClass,!1),j(d,n.ghostClass,!0),p.active=this,t&&this._appendGhost(),O({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(z){this._lastX=z.clientX,this._lastY=z.clientY,cn();for(var t=document.elementFromPoint(z.clientX,z.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(z.clientX,z.clientY),t!==e);)e=t;if(d.parentNode[F]._isOutsideThisEl(t),e)do{if(e[F]){var n=void 0;if(n=e[F]._onDragOver({clientX:z.clientX,clientY:z.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=qe(e));dn()}},_onTouchMove:function(t){if(dt){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,a=t.touches?t.touches[0]:t,o=g&&pt(g,!0),r=g&&o&&o.a,s=g&&o&&o.d,l=Gt&&L&&Ke(L),c=(a.clientX-dt.clientX+i.x)/(r||1)+(l?l[0]-se[0]:0)/(r||1),h=(a.clientY-dt.clientY+i.y)/(s||1)+(l?l[1]-se[1]:0)/(s||1);if(!p.active&&!bt){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(g){o?(o.e+=c-(re||0),o.f+=h-(le||0)):o={a:1,b:0,c:0,d:1,e:c,f:h};var u="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");f(g,"webkitTransform",u),f(g,"mozTransform",u),f(g,"msTransform",u),f(g,"transform",u),re=c,le=h,z=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!g){var t=this.options.fallbackOnBody?document.body:C,e=A(d,!0,Gt,!0,t),n=this.options;if(Gt){for(L=t;f(L,"position")==="static"&&f(L,"transform")==="none"&&L!==document;)L=L.parentNode;L!==document.body&&L!==document.documentElement?(L===document&&(L=W()),e.top+=L.scrollTop,e.left+=L.scrollLeft):L=W(),se=Ke(L)}g=d.cloneNode(!0),j(g,n.ghostClass,!1),j(g,n.fallbackClass,!0),j(g,n.dragClass,!0),f(g,"transition",""),f(g,"transform",""),f(g,"box-sizing","border-box"),f(g,"margin",0),f(g,"top",e.top),f(g,"left",e.left),f(g,"width",e.width),f(g,"height",e.height),f(g,"opacity","0.8"),f(g,"position",Gt?"absolute":"fixed"),f(g,"zIndex","100000"),f(g,"pointerEvents","none"),p.ghost=g,t.appendChild(g),f(g,"transform-origin",nn/parseInt(g.style.width)*100+"% "+an/parseInt(g.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,a=n.options;if(M("dragStart",this,{evt:t}),p.eventCanceled){this._onDrop();return}M("setupClone",this),p.eventCanceled||(x=tn(d),x.removeAttribute("id"),x.draggable=!1,x.style["will-change"]="",this._hideClone(),j(x,this.options.chosenClass,!1),p.clone=x),n.cloneId=Vt(function(){M("clone",n),!p.eventCanceled&&(n.options.removeCloneOnHide||C.insertBefore(x,d),n._hideClone(),O({sortable:n,name:"clone"}))}),!e&&j(d,a.dragClass,!0),e?(Xt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(b(document,"mouseup",n._onDrop),b(document,"touchend",n._onDrop),b(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(n,i,d)),E(document,"drop",n),f(d,"transform","translateZ(0)")),bt=!0,n._dragStartId=Vt(n._dragStarted.bind(n,e,t)),E(document,"selectstart",n),_t=!0,xt&&f(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,n=t.target,i,a,o,r=this.options,s=r.group,l=p.active,c=Ht===s,h=r.sort,u=_||l,y,m=this,w=!1;if(ce)return;function S(It,Fn){M(It,m,Y({evt:t,isOwner:c,axis:y?"vertical":"horizontal",revert:o,dragRect:i,targetRect:a,canSort:h,fromSortable:u,target:n,completed:P,onMove:function(we,Mn){return qt(C,e,d,i,we,A(we),t,Mn)},changed:G},Fn))}function U(){S("dragOverAnimationCapture"),m.captureAnimationState(),m!==u&&u.captureAnimationState()}function P(It){return S("dragOverCompleted",{insertion:It}),It&&(c?l._hideClone():l._showClone(m),m!==u&&(j(d,_?_.options.ghostClass:l.options.ghostClass,!1),j(d,r.ghostClass,!0)),_!==m&&m!==p.active?_=m:m===p.active&&_&&(_=null),u===m&&(m._ignoreWhileAnimating=n),m.animateAll(function(){S("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(n===d&&!d.animated||n===e&&!n.animated)&&(yt=null),!r.dragoverBubble&&!t.rootEl&&n!==document&&(d.parentNode[F]._isOutsideThisEl(t.target),!It&&ht(t)),!r.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),w=!0}function G(){R=H(d),et=H(d,r.draggable),O({sortable:m,name:"change",toEl:e,newIndex:R,newDraggableIndex:et,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=X(n,r.draggable,e,!0),S("dragOver"),p.eventCanceled)return w;if(d.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||m._ignoreWhileAnimating===n)return P(!1);if(Xt=!1,l&&!r.disabled&&(c?h||(o=D!==C):_===this||(this.lastPutMode=Ht.checkPull(this,l,d,t))&&s.checkPut(this,l,d,t))){if(y=this._getDirection(t,n)==="vertical",i=A(d),S("dragOverValid"),p.eventCanceled)return w;if(o)return D=C,U(),this._hideClone(),S("revert"),p.eventCanceled||(ct?C.insertBefore(d,ct):C.appendChild(d)),P(!0);var k=ie(e,r.draggable);if(!k||fi(t,y,this)&&!k.animated){if(k===d)return P(!1);if(k&&e===t.target&&(n=k),n&&(a=A(n)),qt(C,e,d,i,n,a,t,!!n)!==!1)return U(),k&&k.nextSibling?e.insertBefore(d,k.nextSibling):e.appendChild(d),D=e,G(),P(!0)}else if(k&&ui(t,y,this)){var it=gt(e,0,r,!0);if(it===d)return P(!1);if(n=it,a=A(n),qt(C,e,d,i,n,a,t,!1)!==!1)return U(),e.insertBefore(d,it),D=e,G(),P(!0)}else if(n.parentNode===e){a=A(n);var B=0,at,wt=d.parentNode!==e,ut=!li(d.animated&&d.toRect||i,n.animated&&n.toRect||a,y),N=y?"top":"left",K=Ze(n,"top","top")||Ze(d,"top","top"),Mt=K?K.scrollTop:void 0;yt!==n&&(at=a[N],Lt=!1,Bt=!ut&&r.invertSwap||wt),B=pi(t,n,a,y,ut?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,Bt,yt===n);var q;if(B!==0){var ft=H(d);do ft-=B,q=D.children[ft];while(q&&(f(q,"display")==="none"||q===g))}if(B===0||q===n)return P(!1);yt=n,kt=B;var ot=n.nextElementSibling,J=!1;J=B===1;var rt=qt(C,e,d,i,n,a,t,J);if(rt!==!1)return(rt===1||rt===-1)&&(J=rt===1),ce=!0,setTimeout(hi,30),U(),J&&!ot?e.appendChild(d):n.parentNode.insertBefore(d,J?ot:n),K&&Qe(K,0,Mt-K.scrollTop),D=d.parentNode,at!==void 0&&!Bt&&(Yt=Math.abs(at-A(n)[N])),G(),P(!0)}if(e.contains(d))return P(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",ht),b(document,"mousemove",ht),b(document,"touchmove",ht)},_offUpEvents:function(){var t=this.el.ownerDocument;b(t,"mouseup",this._onDrop),b(t,"touchend",this._onDrop),b(t,"pointerup",this._onDrop),b(t,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;if(R=H(d),et=H(d,n.draggable),M("drop",this,{evt:t}),D=d&&d.parentNode,R=H(d),et=H(d,n.draggable),p.eventCanceled){this._nulling();return}bt=!1,Bt=!1,Lt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),he(this.cloneId),he(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),xt&&f(document.body,"user-select",""),f(d,"transform",""),t&&(_t&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),g&&g.parentNode&&g.parentNode.removeChild(g),(C===D||_&&_.lastPutMode!=="clone")&&x&&x.parentNode&&x.parentNode.removeChild(x),d&&(this.nativeDraggable&&b(d,"dragend",this),de(d),d.style["will-change"]="",_t&&!bt&&j(d,_?_.options.ghostClass:this.options.ghostClass,!1),j(d,this.options.chosenClass,!1),O({sortable:this,name:"unchoose",toEl:D,newIndex:null,newDraggableIndex:null,originalEvent:t}),C!==D?(R>=0&&(O({rootEl:D,name:"add",toEl:D,fromEl:C,originalEvent:t}),O({sortable:this,name:"remove",toEl:D,originalEvent:t}),O({rootEl:D,name:"sort",toEl:D,fromEl:C,originalEvent:t}),O({sortable:this,name:"sort",toEl:D,originalEvent:t})),_&&_.save()):R!==vt&&R>=0&&(O({sortable:this,name:"update",toEl:D,originalEvent:t}),O({sortable:this,name:"sort",toEl:D,originalEvent:t})),p.active&&((R==null||R===-1)&&(R=vt,et=Tt),O({sortable:this,name:"end",toEl:D,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){M("nulling",this),C=d=D=g=ct=x=Rt=tt=dt=z=_t=R=et=vt=Tt=yt=kt=_=Ht=p.dragged=p.ghost=p.clone=p.active=null,Wt.forEach(function(t){t.checked=!0}),Wt.length=re=le=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":d&&(this._onDragOver(t),di(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,n=this.el.children,i=0,a=n.length,o=this.options;i<a;i++)e=n[i],X(e,o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||mi(e));return t},sort:function(t,e){var n={},i=this.el;this.toArray().forEach(function(a,o){var r=i.children[o];X(r,this.options.draggable,i,!1)&&(n[a]=r)},this),e&&this.captureAnimationState(),t.forEach(function(a){n[a]&&(i.removeChild(n[a]),i.appendChild(n[a]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return X(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(e===void 0)return n[t];var i=At.modifyOption(this,t,e);typeof i<"u"?n[t]=i:n[t]=e,t==="group"&&sn(n)},destroy:function(){M("destroy",this);var t=this.el;t[F]=null,b(t,"mousedown",this._onTapStart),b(t,"touchstart",this._onTapStart),b(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(t,"dragover",this),b(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),zt.splice(zt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!tt){if(M("hideClone",this),p.eventCanceled)return;f(x,"display","none"),this.options.removeCloneOnHide&&x.parentNode&&x.parentNode.removeChild(x),tt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(tt){if(M("showClone",this),p.eventCanceled)return;d.parentNode==C&&!this.options.group.revertClone?C.insertBefore(x,d):ct?C.insertBefore(x,ct):C.appendChild(x),this.options.group.revertClone&&this.animate(d,x),f(x,"display",""),tt=!1}}};function di(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function qt(t,e,n,i,a,o,r,s){var l,c=t[F],h=c.options.onMove,u;return window.CustomEvent&&!Z&&!Ct?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=a||e,l.relatedRect=o||A(e),l.willInsertAfter=s,l.originalEvent=r,t.dispatchEvent(l),h&&(u=h.call(c,l,r)),u}function de(t){t.draggable=!1}function hi(){ce=!1}function ui(t,e,n){var i=A(gt(n.el,0,n.options,!0)),a=en(n.el,n.options,g),o=10;return e?t.clientX<a.left-o||t.clientY<i.top&&t.clientX<i.right:t.clientY<a.top-o||t.clientY<i.bottom&&t.clientX<i.left}function fi(t,e,n){var i=A(ie(n.el,n.options.draggable)),a=en(n.el,n.options,g),o=10;return e?t.clientX>a.right+o||t.clientY>i.bottom&&t.clientX>i.left:t.clientY>a.bottom+o||t.clientX>i.right&&t.clientY>i.top}function pi(t,e,n,i,a,o,r,s){var l=i?t.clientY:t.clientX,c=i?n.height:n.width,h=i?n.top:n.left,u=i?n.bottom:n.right,y=!1;if(!r){if(s&&Yt<c*a){if(!Lt&&(kt===1?l>h+c*o/2:l<u-c*o/2)&&(Lt=!0),Lt)y=!0;else if(kt===1?l<h+Yt:l>u-Yt)return-kt}else if(l>h+c*(1-a)/2&&l<u-c*(1-a)/2)return gi(e)}return y=y||r,y&&(l<h+c*o/2||l>u-c*o/2)?l>h+c/2?1:-1:0}function gi(t){return H(d)<H(t)?1:-1}function mi(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function vi(t){Wt.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&Wt.push(i)}}function Vt(t){return setTimeout(t,0)}function he(t){return clearTimeout(t)}Ut&&E(document,"touchmove",function(t){(p.active||bt)&&t.cancelable&&t.preventDefault()}),p.utils={on:E,off:b,css:f,find:$e,is:function(t,e){return!!X(t,e,t,!1)},extend:Qn,throttle:Je,closest:X,toggleClass:j,clone:tn,index:H,nextTick:Vt,cancelNextTick:he,detectDirection:ln,getChild:gt,expando:F},p.get=function(t){return t[F]},p.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(p.utils=Y(Y({},p.utils),i.utils)),At.mount(i)})},p.create=function(t,e){return new p(t,e)},p.version=Kn;var T=[],Pt,ue,fe=!1,pe,ge,$t,Ot;function bi(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(e){var n=e.originalEvent;this.sortable.nativeDraggable?E(document,"dragover",this._handleAutoScroll):this.options.supportPointer?E(document,"pointermove",this._handleFallbackAutoScroll):n.touches?E(document,"touchmove",this._handleFallbackAutoScroll):E(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var n=e.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),hn(),Zt(),ti()},nulling:function(){$t=ue=Pt=fe=Ot=pe=ge=null,T.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,n){var i=this,a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(a,o);if($t=e,n||this.options.forceAutoScrollFallback||Ct||Z||xt){me(e,this.options,r,n);var s=Q(r,!0);fe&&(!Ot||a!==pe||o!==ge)&&(Ot&&hn(),Ot=setInterval(function(){var l=Q(document.elementFromPoint(a,o),!0);l!==s&&(s=l,Zt()),me(e,i.options,l,n)},10),pe=a,ge=o)}else{if(!this.options.bubbleScroll||Q(r,!0)===W()){Zt();return}me(e,this.options,Q(r,!1),!1)}}},V(t,{pluginName:"scroll",initializeByDefault:!0})}function Zt(){T.forEach(function(t){clearInterval(t.pid)}),T=[]}function hn(){clearInterval(Ot)}var me=Je(function(t,e,n,i){if(e.scroll){var a=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,r=e.scrollSensitivity,s=e.scrollSpeed,l=W(),c=!1,h;ue!==n&&(ue=n,Zt(),Pt=e.scroll,h=e.scrollFn,Pt===!0&&(Pt=Q(n,!0)));var u=0,y=Pt;do{var m=y,w=A(m),S=w.top,U=w.bottom,P=w.left,G=w.right,k=w.width,it=w.height,B=void 0,at=void 0,wt=m.scrollWidth,ut=m.scrollHeight,N=f(m),K=m.scrollLeft,Mt=m.scrollTop;m===l?(B=k<wt&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),at=it<ut&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):(B=k<wt&&(N.overflowX==="auto"||N.overflowX==="scroll"),at=it<ut&&(N.overflowY==="auto"||N.overflowY==="scroll"));var q=B&&(Math.abs(G-a)<=r&&K+k<wt)-(Math.abs(P-a)<=r&&!!K),ft=at&&(Math.abs(U-o)<=r&&Mt+it<ut)-(Math.abs(S-o)<=r&&!!Mt);if(!T[u])for(var ot=0;ot<=u;ot++)T[ot]||(T[ot]={});(T[u].vx!=q||T[u].vy!=ft||T[u].el!==m)&&(T[u].el=m,T[u].vx=q,T[u].vy=ft,clearInterval(T[u].pid),(q!=0||ft!=0)&&(c=!0,T[u].pid=setInterval(function(){i&&this.layer===0&&p.active._onTouchMove($t);var J=T[this.layer].vy?T[this.layer].vy*s:0,rt=T[this.layer].vx?T[this.layer].vx*s:0;typeof h=="function"&&h.call(p.dragged.parentNode[F],rt,J,t,$t,T[this.layer].el)!=="continue"||Qe(T[this.layer].el,rt,J)}.bind({layer:u}),24))),u++}while(e.bubbleScroll&&y!==l&&(y=Q(y,!1)));fe=c}},30),un=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,a=t.activeSortable,o=t.dispatchSortableEvent,r=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var l=n||a;r();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,h=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(h)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function ve(){}ve.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=gt(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:un},V(ve,{pluginName:"revertOnSpill"});function be(){}be.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,i=n||this.sortable;i.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),i.animateAll()},drop:un},V(be,{pluginName:"removeOnSpill"}),p.mount(new bi),p.mount(be,ve);const Kt=new Set,yi={ghostClass:"calcite-sortable--ghost",chosenClass:"calcite-sortable--chosen",dragClass:"calcite-sortable--drag",fallbackClass:"calcite-sortable--fallback"};function Ei(t){if(pn(t))return;fn(t),Kt.add(t);const e="id",{group:n,handleSelector:i,dragSelector:a}=t;t.sortable=p.create(t.el,{dataIdAttr:e,...yi,...!!a&&{draggable:a},...!!n&&{group:{name:n,...!!t.canPull&&{pull:(o,r,s,{newIndex:l,oldIndex:c})=>t.canPull({toEl:o.el,fromEl:r.el,dragEl:s,newIndex:l,oldIndex:c})},...!!t.canPut&&{put:(o,r,s,{newIndex:l,oldIndex:c})=>t.canPut({toEl:o.el,fromEl:r.el,dragEl:s,newIndex:l,oldIndex:c})}}},handle:i,filter:`${i}[disabled]`,onStart:({from:o,item:r,to:s,newIndex:l,oldIndex:c})=>{ye.active=!0,Si(),t.onDragStart({fromEl:o,dragEl:r,toEl:s,newIndex:l,oldIndex:c})},onEnd:({from:o,item:r,to:s,newIndex:l,oldIndex:c})=>{ye.active=!1,wi(),t.onDragEnd({fromEl:o,dragEl:r,toEl:s,newIndex:l,oldIndex:c})},onSort:({from:o,item:r,to:s,newIndex:l,oldIndex:c})=>{t.onDragSort({fromEl:o,dragEl:r,toEl:s,newIndex:l,oldIndex:c})}})}function fn(t){pn(t)||(Kt.delete(t),t.sortable?.destroy(),t.sortable=null)}const ye={active:!1};function pn(t){return t.dragEnabled&&ye.active}function Si(){Array.from(Kt).forEach(t=>t.onGlobalDragStart())}function wi(){Array.from(Kt).forEach(t=>t.onGlobalDragEnd())}const Et={container:"container",actionsStart:"actions-start",contentStart:"content-start",content:"content",contentEnd:"content-end",actionsEnd:"actions-end"},St={actionsStart:"actions-start",contentStart:"content-start",contentEnd:"content-end",actionsEnd:"actions-end"},Ii=":host([disabled]) .content{cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) .content *,:host([disabled]) .content ::slotted(*){pointer-events:none}:host{display:flex;flex:1 1 0%;flex-direction:column}.container{display:flex;flex:1 1 auto;align-items:stretch;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2)}.content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;padding-inline:var(--calcite-stack-padding-inline, 0.75rem);padding-block:var(--calcite-stack-padding-block, 0.5rem)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:0 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:0.75rem;align-self:center}.actions-start,.actions-end,.content-start,.content-end{display:flex;align-items:center}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}:host([hidden]){display:none}[hidden]{display:none}",Ci=Ii,xi=Qt(class extends te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.handleActionsStartSlotChange=t=>{this.hasActionsStart=st(t)},this.handleActionsEndSlotChange=t=>{this.hasActionsEnd=st(t)},this.handleContentStartSlotChange=t=>{this.hasContentStart=st(t)},this.handleContentEndSlotChange=t=>{this.hasContentEnd=st(t)},this.disabled=!1,this.hasActionsStart=!1,this.hasActionsEnd=!1,this.hasContentStart=!1,this.hasContentEnd=!1}renderActionsStart(){const{hasActionsStart:t}=this;return v("div",{class:Et.actionsStart,hidden:!t,key:"actions-start-container"},v("slot",{name:St.actionsStart,onSlotchange:this.handleActionsStartSlotChange}))}renderActionsEnd(){const{hasActionsEnd:t}=this;return v("div",{class:Et.actionsEnd,hidden:!t,key:"actions-end-container"},v("slot",{name:St.actionsEnd,onSlotchange:this.handleActionsEndSlotChange}))}renderContentStart(){const{hasContentStart:t}=this;return v("div",{class:Et.contentStart,hidden:!t},v("slot",{name:St.contentStart,onSlotchange:this.handleContentStartSlotChange}))}renderDefaultContent(){return v("div",{class:Et.content},v("slot",null))}renderContentEnd(){const{hasContentEnd:t}=this;return v("div",{class:Et.contentEnd,hidden:!t},v("slot",{name:St.contentEnd,onSlotchange:this.handleContentEndSlotChange}))}render(){return v(Nn,{key:"97f052828720d715fd3b11a4b0e77fa085127796"},v("div",{key:"5351cc20a8a437763894fef35ecc7a7240cb7c46",class:Et.container},this.renderActionsStart(),this.renderContentStart(),this.renderDefaultContent(),this.renderContentEnd(),this.renderActionsEnd()))}static get style(){return Ci}},[1,"calcite-stack",{disabled:[516],hasActionsStart:[32],hasActionsEnd:[32],hasContentStart:[32],hasContentEnd:[32]}]);function gn(){typeof customElements>"u"||["calcite-stack"].forEach(t=>{switch(t){case"calcite-stack":customElements.get(t)||customElements.define(t,xi);break}})}gn();function Di(t,e){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=e(t[n],n,t);return a}var Ai=Array.isArray;const mn=Ai;var Ti=1/0,vn=Me?Me.prototype:void 0,bn=vn?vn.toString:void 0;function yn(t){if(typeof t=="string")return t;if(mn(t))return Di(t,yn)+"";if(Un(t))return bn?bn.call(t):"";var e=t+"";return e=="0"&&1/t==-Ti?"-0":e}function _i(t){return t}var ki="[object AsyncFunction]",Li="[object Function]",Pi="[object GeneratorFunction]",Oi="[object Proxy]";function Fi(t){if(!Ne(t))return!1;var e=ne(t);return e==Li||e==Pi||e==ki||e==Oi}var Mi=9007199254740991,Ni=/^(?:0|[1-9]\d*)$/;function ji(t,e){var n=typeof t;return e=e??Mi,!!e&&(n=="number"||n!="symbol"&&Ni.test(t))&&t>-1&&t%1==0&&t<e}var Ri=9007199254740991;function En(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ri}function Hi(t){return t!=null&&En(t.length)&&!Fi(t)}var Xi=Object.prototype;function zi(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Xi;return t===n}function Bi(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var Yi="[object Arguments]";function Sn(t){return ee(t)&&ne(t)==Yi}var wn=Object.prototype,Wi=wn.hasOwnProperty,Ui=wn.propertyIsEnumerable,Gi=Sn(function(){return arguments}())?Sn:function(t){return ee(t)&&Wi.call(t,"callee")&&!Ui.call(t,"callee")};const qi=Gi;function Vi(){return!1}var In=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cn=In&&typeof module=="object"&&module&&!module.nodeType&&module,$i=Cn&&Cn.exports===In,xn=$i?Yn.Buffer:void 0,Zi=xn?xn.isBuffer:void 0,Ki=Zi||Vi;const Ji=Ki;var Qi="[object Arguments]",ta="[object Array]",ea="[object Boolean]",na="[object Date]",ia="[object Error]",aa="[object Function]",oa="[object Map]",ra="[object Number]",la="[object Object]",sa="[object RegExp]",ca="[object Set]",da="[object String]",ha="[object WeakMap]",ua="[object ArrayBuffer]",fa="[object DataView]",pa="[object Float32Array]",ga="[object Float64Array]",ma="[object Int8Array]",va="[object Int16Array]",ba="[object Int32Array]",ya="[object Uint8Array]",Ea="[object Uint8ClampedArray]",Sa="[object Uint16Array]",wa="[object Uint32Array]",I={};I[pa]=I[ga]=I[ma]=I[va]=I[ba]=I[ya]=I[Ea]=I[Sa]=I[wa]=!0,I[Qi]=I[ta]=I[ua]=I[ea]=I[fa]=I[na]=I[ia]=I[aa]=I[oa]=I[ra]=I[la]=I[sa]=I[ca]=I[da]=I[ha]=!1;function Ia(t){return ee(t)&&En(t.length)&&!!I[ne(t)]}function Ca(t){return function(e){return t(e)}}var Dn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ft=Dn&&typeof module=="object"&&module&&!module.nodeType&&module,xa=Ft&&Ft.exports===Dn,Ee=xa&&Wn.process,Da=function(){try{var t=Ft&&Ft.require&&Ft.require("util").types;return t||Ee&&Ee.binding&&Ee.binding("util")}catch{}}();const An=Da;var Tn=An&&An.isTypedArray,Aa=Tn?Ca(Tn):Ia;const Ta=Aa;function _a(t,e){var n=mn(t),i=!n&&qi(t),a=!n&&!i&&Ji(t),o=!n&&!i&&!a&&Ta(t),r=n||i||a||o,s=r?Bi(t.length,String):[],l=s.length;for(var c in t)r&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ji(c,l))||s.push(c);return s}function ka(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var La=Object.prototype,Pa=La.hasOwnProperty;function Oa(t){if(!Ne(t))return ka(t);var e=zi(t),n=[];for(var i in t)i=="constructor"&&(e||!Pa.call(t,i))||n.push(i);return n}function Fa(t){return Hi(t)?_a(t):Oa(t)}function Ma(t){return t==null?"":yn(t)}function Na(t){return function(e,n,i){for(var a=-1,o=Object(e),r=i(e),s=r.length;s--;){var l=r[++a];if(n(o[l],l,o)===!1)break}return e}}var ja=Na();const Ra=ja;function Ha(t){return typeof t=="function"?t:_i}var _n=/[\\^$.*+?()[\]{}|]/g,Xa=RegExp(_n.source);function za(t){return t=Ma(t),t&&Xa.test(t)?t.replace(_n,"\\$&"):t}function Ba(t,e){return t==null?t:Ra(t,Ha(e),Fa)}const kn=(t,e,n)=>{const i=za(e),a=new RegExp(i,"i");t.length===0&&console.warn(`No data was passed to the filter function.
    The data argument should be an array of objects`);const o=(r,s,l)=>{if(r?.constant||r?.filterDisabled)return!0;let c=!1;return Ba(r,(h,u)=>{typeof h=="function"||h==null||l&&!l.includes(u)||(Array.isArray(h)||typeof h=="object"&&h!==null?o(h,s)&&(c=!0):s.test(h)&&(c=!0))}),c};return t.filter(r=>o(r,a,n))},Ya={container:"container",searchIcon:"search-icon"},Wa={search:"search",close:"x"},Ua=":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;inline-size:100%;padding:0.5rem}label{position:relative;margin-inline:0.25rem;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}input[type=text]{margin-block-end:0.25rem;inline-size:100%;border-style:none;background-color:transparent;padding-block:0.25rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-color-text-1);padding-inline-end:0.25rem;padding-inline-start:1.5rem;transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{inline-size:100%}.search-icon{position:absolute;display:flex;color:var(--calcite-color-text-2);inset-inline-start:0;transition:inset-inline-start var(--calcite-animation-timing), inset-inline-end var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-color-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:flex;cursor:pointer;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-color-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-color-text-1)}:host([hidden]){display:none}[hidden]{display:none}",Ga=Ua,qa=Qt(class extends te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteFilterChange=lt(this,"calciteFilterChange",6),this.filterDebounced=je((t,e=!1,n)=>this.updateFiltered(kn(this.items??[],t,this.filterProps),e,n),jn.filter),this.inputHandler=t=>{const e=t.target;this.value=e.value,this.filterDebounced(e.value,!0)},this.keyDownHandler=t=>{t.defaultPrevented||(t.key==="Escape"&&(this.clear(),t.preventDefault()),t.key==="Enter"&&t.preventDefault())},this.clear=()=>{this.value="",this.filterDebounced("",!0),this.setFocus()},this.items=[],this.disabled=!1,this.filteredItems=[],this.filterProps=void 0,this.placeholder=void 0,this.scale="m",this.value="",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}watchItemsHandler(){this.filterDebounced(this.value)}filterPropsHandler(){this.filterDebounced(this.value)}onMessagesChange(){}valueHandler(t){this.filterDebounced(t)}effectiveLocaleChange(){Te(this,this.effectiveLocale)}async componentWillLoad(){xe(this),this.updateFiltered(kn(this.items??[],this.value,this.filterProps)),await _e(this)}connectedCallback(){Pe(this),ke(this)}componentDidRender(){Ie(this)}disconnectedCallback(){Oe(this),Le(this),this.filterDebounced.cancel()}componentDidLoad(){De(this)}async filter(t=this.value){return new Promise(e=>{this.value=t,this.filterDebounced(t,!1,e)})}async setFocus(){return await Ae(this),this.textInput?.setFocus()}updateFiltered(t,e=!1,n){this.filteredItems=t,e&&this.calciteFilterChange.emit(),n?.()}render(){const{disabled:t,scale:e}=this;return v(Ce,{key:"c4a624e52409ed90839b506f5d99ab623767260e",disabled:t},v("div",{key:"1f2ef99156489719dd2f938bc5ce8a05185866bf",class:Ya.container},v("label",{key:"6fe8c6cf73f554908be38299263d23380a4ed089"},v("calcite-input",{key:"6765e00d208d6898221540769865d84aa1c64974",clearable:!0,disabled:t,icon:Wa.search,label:this.messages.label,messageOverrides:{clear:this.messages.clear},onCalciteInputInput:this.inputHandler,onKeyDown:this.keyDownHandler,placeholder:this.placeholder,ref:n=>{this.textInput=n},scale:e,type:"text",value:this.value}))))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{items:["watchItemsHandler"],filterProps:["filterPropsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Ga}},[17,"calcite-filter",{items:[16],disabled:[516],filteredItems:[1040],filterProps:[16],placeholder:[1],scale:[513],value:[1025],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],filter:[64],setFocus:[64]},void 0,{items:["watchItemsHandler"],filterProps:["filterPropsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}]);function Ln(){typeof customElements>"u"||["calcite-filter","calcite-icon","calcite-input","calcite-input-message","calcite-progress"].forEach(t=>{switch(t){case"calcite-filter":customElements.get(t)||customElements.define(t,qa);break;case"calcite-icon":customElements.get(t)||Re();break;case"calcite-input":customElements.get(t)||ze();break;case"calcite-input-message":customElements.get(t)||Xe();break;case"calcite-progress":customElements.get(t)||He();break}})}Ln();const nt={container:"container",table:"table",scrim:"scrim",stack:"stack",tableContainer:"table-container",sticky:"sticky-pos",assistiveText:"assistive-text"},Va=0,Se={filterNoResults:"filter-no-results",filterActionsStart:"filter-actions-start",filterActionsEnd:"filter-actions-end"},$a=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{position:relative}.table-container{box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;background-color:transparent}.table-container *{box-sizing:border-box}.table{inline-size:100%;border-collapse:collapse}.stack{--calcite-stack-padding-inline:0;--calcite-stack-padding-block:0}.sticky-pos{position:sticky;inset-block-start:0px;z-index:var(--calcite-z-index-sticky);background-color:var(--calcite-color-foreground-1)}.sticky-pos th{padding:0px}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}",Za=$a,Jt="calcite-list-item",Ka="calcite-list-item-group, calcite-list-item",Pn=Qt(class extends te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteListChange=lt(this,"calciteListChange",6),this.calciteListDragEnd=lt(this,"calciteListDragEnd",6),this.calciteListDragStart=lt(this,"calciteListDragStart",6),this.calciteListFilter=lt(this,"calciteListFilter",6),this.calciteListOrderChange=lt(this,"calciteListOrderChange",6),this.calciteInternalListDefaultSlotChange=lt(this,"calciteInternalListDefaultSlotChange",6),this.dragSelector=Jt,this.focusableItems=[],this.handleSelector="calcite-handle",this.listItems=[],this.mutationObserver=Hn("mutation",()=>this.updateListItems({performFilter:!0})),this.visibleItems=[],this.handleDefaultSlotChange=t=>{zn(Bn(t.target)),this.parentListEl&&this.calciteInternalListDefaultSlotChange.emit()},this.handleFilterActionsStartSlotChange=t=>{this.hasFilterActionsStart=st(t)},this.handleFilterActionsEndSlotChange=t=>{this.hasFilterActionsEnd=st(t)},this.handleFilterNoResultsSlotChange=t=>{this.hasFilterNoResults=st(t)},this.setActiveListItem=()=>{const{focusableItems:t}=this;t.some(e=>e.active)||t[0]&&(t[0].active=!0)},this.updateSelectedItems=(t=!1)=>{this.selectedItems=this.visibleItems.filter(e=>e.selected),t&&this.calciteListChange.emit()},this.borderItems=()=>{const t=this.visibleItems.filter(e=>!e.filterHidden&&this.allParentListItemsOpen(e));t.forEach(e=>e.bordered=e!==t[t.length-1])},this.updateFilteredItems=(t=!1)=>{const{visibleItems:e,filteredData:n,filterText:i}=this,a=n.map(l=>l.value),o=e?.filter(l=>e.every(c=>c===l||!l.contains(c))),r=e.filter(l=>!i||a.includes(l.value))||[],s=new WeakSet;o.forEach(l=>this.filterElements({el:l,filteredItems:r,visibleParents:s})),this.filteredItems=r,t&&this.calciteListFilter.emit()},this.setFilterEl=t=>{this.filterEl=t,this.performFilter()},this.handleFilterChange=t=>{t.stopPropagation();const{value:e}=t.currentTarget;this.filterText=e,this.updateFilteredData(!0)},this.getItemData=()=>this.listItems.map(t=>({label:t.label,description:t.description,metadata:t.metadata,value:t.value})),this.updateListItems=je(t=>{const e=t?.emitFilterChange??!1,n=t?.performFilter??!1,{selectionAppearance:i,selectionMode:a,dragEnabled:o,el:r,filterEl:s,filterEnabled:l}=this,c=Array.from(this.el.querySelectorAll(Jt));if(c.forEach(h=>{h.selectionAppearance=i,h.selectionMode=a,h.closest("calcite-list")===r&&(h.dragHandle=o)}),this.parentListEl){this.setUpSorting();return}this.listItems=c,l&&n&&(this.dataForFilter=this.getItemData(),s&&(s.items=this.dataForFilter,this.filterAndUpdateData())),this.visibleItems=this.listItems.filter(h=>!h.closed&&!h.hidden),this.updateFilteredItems(e),this.borderItems(),this.focusableItems=this.filteredItems.filter(h=>!h.disabled),this.setActiveListItem(),this.updateSelectedItems(),this.setUpSorting()},Va),this.focusRow=t=>{const{focusableItems:e}=this;t&&(e.forEach(n=>n.active=n===t),t.setFocus())},this.isNavigable=t=>{const e=t.parentElement?.closest(Jt);return e?e.open&&this.isNavigable(e):!0},this.handleListKeydown=t=>{if(t.defaultPrevented||this.parentListEl)return;const{key:e}=t,n=this.focusableItems.filter(a=>this.isNavigable(a)),i=n.findIndex(a=>a.active);if(e==="ArrowDown"){t.preventDefault();const a=t.target===this.filterEl?0:i+1;n[a]&&this.focusRow(n[a])}else if(e==="ArrowUp"){if(t.preventDefault(),i===0&&this.filterEnabled){this.filterEl?.setFocus();return}const a=i-1;n[a]&&this.focusRow(n[a])}else if(e==="Home"){t.preventDefault();const a=n[0];a&&this.focusRow(a)}else if(e==="End"){t.preventDefault();const a=n[n.length-1];a&&this.focusRow(a)}},this.disabled=!1,this.canPull=void 0,this.canPut=void 0,this.dragEnabled=!1,this.group=void 0,this.filterEnabled=!1,this.filteredItems=[],this.filteredData=[],this.filterPlaceholder=void 0,this.filterText=void 0,this.label=void 0,this.loading=!1,this.filterProps=void 0,this.messageOverrides=void 0,this.messages=void 0,this.numberingSystem=void 0,this.openable=!1,this.selectedItems=[],this.selectionMode="none",this.selectionAppearance="icon",this.effectiveLocale="",this.defaultMessages=void 0,this.assistiveText=void 0,this.dataForFilter=[],this.hasFilterActionsEnd=!1,this.hasFilterActionsStart=!1,this.hasFilterNoResults=!1}async handleFilterTextChange(){this.performFilter()}async handleFilterPropsChange(){this.performFilter()}onMessagesChange(){}handleListItemChange(){this.updateListItems({performFilter:!0})}handleCalciteListItemToggle(t){this.parentListEl||(t.stopPropagation(),this.borderItems())}handleCalciteInternalFocusPreviousItem(t){if(this.parentListEl)return;t.stopPropagation();const{focusableItems:e}=this,n=e.findIndex(i=>i.active)-1;e[n]&&this.focusRow(e[n])}handleCalciteInternalListItemActive(t){if(this.parentListEl)return;t.stopPropagation();const e=t.target,{listItems:n}=this;n.forEach(i=>{i.active=i===e})}handleCalciteListItemSelect(){this.parentListEl||this.updateSelectedItems(!0)}handleCalciteInternalAssistiveTextChange(t){this.assistiveText=t.detail.message,t.stopPropagation()}handleCalciteHandleNudge(t){this.parentListEl||this.handleNudgeEvent(t)}handleCalciteInternalListItemSelect(t){if(this.parentListEl)return;t.stopPropagation();const e=t.target,{listItems:n,selectionMode:i}=this;e.selected&&(i==="single"||i==="single-persist")&&n.forEach(a=>a.selected=a===e),this.updateSelectedItems()}handleCalciteInternalListItemSelectMultiple(t){if(this.parentListEl)return;t.stopPropagation();const{target:e,detail:n}=t,{focusableItems:i,lastSelectedInfo:a}=this,o=e;if(n.selectMultiple&&a){const r=i.indexOf(o),s=i.indexOf(a.selectedItem),l=Math.min(s,r),c=Math.max(s,r);i.slice(l,c+1).forEach(h=>h.selected=a.selected)}else this.lastSelectedInfo={selectedItem:o,selected:o.selected}}handleCalciteInternalListItemChange(t){this.parentListEl||(t.stopPropagation(),this.updateListItems())}handleCalciteInternalListItemGroupDefaultSlotChange(t){t.stopPropagation()}connectedCallback(){Pe(this),ke(this),this.connectObserver(),this.updateListItems({performFilter:!0}),this.setUpSorting(),this.setParentList()}async componentWillLoad(){xe(this),await _e(this)}componentDidRender(){Ie(this)}componentDidLoad(){De(this)}disconnectedCallback(){this.disconnectObserver(),fn(this),Oe(this),Le(this)}effectiveLocaleChange(){Te(this,this.effectiveLocale)}async setFocus(){return await Ae(this),this.filterEnabled?this.filterEl?.setFocus():this.focusableItems.find(t=>t.active)?.setFocus()}render(){const{loading:t,label:e,disabled:n,dataForFilter:i,filterEnabled:a,filterPlaceholder:o,filterText:r,filteredItems:s,hasFilterActionsStart:l,hasFilterActionsEnd:c,hasFilterNoResults:h,filterProps:u}=this;return v(Ce,{key:"c3139afe4fe7c7462578a51a4578971c97473167",disabled:this.disabled},v("div",{key:"5e99dc8b479c35609c5f0318723b3da84ec23ef4",class:nt.container},this.dragEnabled?v("span",{"aria-live":"assertive",class:nt.assistiveText},this.assistiveText):null,this.renderItemAriaLive(),t?v("calcite-scrim",{class:nt.scrim,loading:t}):null,v("table",{key:"a31ba050d3141351e491141365e8244ed3ca5303","aria-busy":Rn(t),"aria-label":e||"",class:nt.table,onKeyDown:this.handleListKeydown,role:"treegrid"},a||l||c?v("thead",{class:nt.sticky},v("tr",null,v("th",{colSpan:Xn},v("calcite-stack",{class:nt.stack},v("slot",{name:Se.filterActionsStart,onSlotchange:this.handleFilterActionsStartSlotChange,slot:St.actionsStart}),v("calcite-filter",{"aria-label":o,disabled:n,filterProps:u,items:i,onCalciteFilterChange:this.handleFilterChange,placeholder:o,ref:this.setFilterEl,value:r}),v("slot",{name:Se.filterActionsEnd,onSlotchange:this.handleFilterActionsEndSlotChange,slot:St.actionsEnd}))))):null,v("tbody",{key:"3ed1b8d9a4387c3ea0f4ff38e5388be35b32d89b",class:nt.tableContainer},v("slot",{key:"712562533b4609749cbff0968bd0a9e77d99758e",onSlotchange:this.handleDefaultSlotChange}))),v("div",{key:"3ff977013e0ca0d58229e1305dca702000d91a99","aria-live":"polite","data-test-id":"no-results-container",hidden:!(h&&a&&r&&!s.length)},v("slot",{key:"7c2bf6389c8b5f4b6f617950e4068baf6b1dc358",name:Se.filterNoResults,onSlotchange:this.handleFilterNoResultsSlotChange}))))}renderItemAriaLive(){const{messages:t,filteredItems:e,parentListEl:n,effectiveLocale:i,numberingSystem:a,filterEnabled:o,filterText:r,filteredData:s}=this;return Fe.numberFormatOptions={locale:i,numberingSystem:a},n?null:v("div",{"aria-live":"polite",class:nt.assistiveText},o&&r&&s?.length?v("div",{key:"aria-filter-enabled"},t.filterEnabled):null,v("div",{key:"aria-item-count"},t.total.replace("{count}",Fe.localize(e.length.toString()))),e.length?v("ol",{key:"aria-item-list"},e.map(l=>v("li",null,l.label))):null)}connectObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}disconnectObserver(){this.mutationObserver?.disconnect()}setUpSorting(){const{dragEnabled:t}=this;t&&Ei(this)}onGlobalDragStart(){this.disconnectObserver()}onGlobalDragEnd(){this.connectObserver()}onDragEnd(t){this.calciteListDragEnd.emit(t)}onDragStart(t){this.calciteListDragStart.emit(t)}onDragSort(t){this.setParentList(),this.updateListItems(),this.calciteListOrderChange.emit(t)}setParentList(){this.parentListEl=this.el.parentElement?.closest("calcite-list")}filterElements({el:t,filteredItems:e,visibleParents:n}){const i=!n.has(t)&&!e.includes(t);t.filterHidden=i;const a=t.parentElement.closest(Ka);a&&(i||n.add(a),this.filterElements({el:a,filteredItems:e,visibleParents:n}))}allParentListItemsOpen(t){const e=t.parentElement?.closest(Jt);if(e){if(!e.open)return!1}else return!0;return this.allParentListItemsOpen(e)}updateFilteredData(t=!1){const{filterEl:e}=this;e&&(e.filteredItems&&(this.filteredData=e.filteredItems),this.updateListItems({emitFilterChange:t}))}async filterAndUpdateData(){await this.filterEl?.filter(this.filterText),this.updateFilteredData()}performFilter(){const{filterEl:t,filterText:e,filterProps:n}=this;t&&(t.value=e,t.filterProps=n,this.filterAndUpdateData())}handleNudgeEvent(t){const{handleSelector:e,dragSelector:n}=this,{direction:i}=t.detail,a=t.composedPath(),o=a.find(w=>w?.tagName&&w.matches(e)),r=a.find(w=>w?.tagName&&w.matches(n)),s=r?.parentElement;if(!s)return;const{filteredItems:l}=this,c=l.filter(w=>w.parentElement===s),h=c.length-1,u=c.indexOf(r);let y;i==="up"?y=u===0?h:u-1:y=u===h?0:u+1,this.disconnectObserver(),o.blurUnselectDisabled=!0;const m=i==="up"&&y!==h||i==="down"&&y===0?c[y]:c[y].nextSibling;s.insertBefore(r,m),this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:r,fromEl:s,toEl:s,newIndex:y,oldIndex:u}),o.setFocus().then(()=>o.blurUnselectDisabled=!1)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{filterText:["handleFilterTextChange"],filterProps:["handleFilterPropsChange"],messageOverrides:["onMessagesChange"],filterEnabled:["handleListItemChange"],group:["handleListItemChange"],dragEnabled:["handleListItemChange"],selectionMode:["handleListItemChange"],selectionAppearance:["handleListItemChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Za}},[1,"calcite-list",{disabled:[516],canPull:[16],canPut:[16],dragEnabled:[516,"drag-enabled"],group:[513],filterEnabled:[516,"filter-enabled"],filteredItems:[1040],filteredData:[1040],filterPlaceholder:[513,"filter-placeholder"],filterText:[1537,"filter-text"],label:[1],loading:[516],filterProps:[16],messageOverrides:[1040],messages:[1040],numberingSystem:[1,"numbering-system"],openable:[4],selectedItems:[1040],selectionMode:[513,"selection-mode"],selectionAppearance:[513,"selection-appearance"],effectiveLocale:[32],defaultMessages:[32],assistiveText:[32],dataForFilter:[32],hasFilterActionsEnd:[32],hasFilterActionsStart:[32],hasFilterNoResults:[32],setFocus:[64]},[[0,"calciteInternalListItemToggle","handleCalciteListItemToggle"],[0,"calciteInternalFocusPreviousItem","handleCalciteInternalFocusPreviousItem"],[0,"calciteInternalListItemActive","handleCalciteInternalListItemActive"],[0,"calciteListItemSelect","handleCalciteListItemSelect"],[0,"calciteInternalAssistiveTextChange","handleCalciteInternalAssistiveTextChange"],[0,"calciteHandleNudge","handleCalciteHandleNudge"],[0,"calciteInternalListItemSelect","handleCalciteInternalListItemSelect"],[0,"calciteInternalListItemSelectMultiple","handleCalciteInternalListItemSelectMultiple"],[0,"calciteInternalListItemChange","handleCalciteInternalListItemChange"],[0,"calciteInternalListItemGroupDefaultSlotChange","handleCalciteInternalListItemGroupDefaultSlotChange"]],{filterText:["handleFilterTextChange"],filterProps:["handleFilterPropsChange"],messageOverrides:["onMessagesChange"],filterEnabled:["handleListItemChange"],group:["handleListItemChange"],dragEnabled:["handleListItemChange"],selectionMode:["handleListItemChange"],selectionAppearance:["handleListItemChange"],effectiveLocale:["effectiveLocaleChange"]}]);function On(){typeof customElements>"u"||["calcite-list","calcite-filter","calcite-icon","calcite-input","calcite-input-message","calcite-loader","calcite-progress","calcite-scrim","calcite-stack"].forEach(t=>{switch(t){case"calcite-list":customElements.get(t)||customElements.define(t,Pn);break;case"calcite-filter":customElements.get(t)||Ln();break;case"calcite-icon":customElements.get(t)||Re();break;case"calcite-input":customElements.get(t)||ze();break;case"calcite-input-message":customElements.get(t)||Xe();break;case"calcite-loader":customElements.get(t)||Gn();break;case"calcite-progress":customElements.get(t)||He();break;case"calcite-scrim":customElements.get(t)||qn();break;case"calcite-stack":customElements.get(t)||gn();break}})}On();const Ja=Pn,Qa=On;export{Ja as CalciteList,Qa as defineCustomElement};
