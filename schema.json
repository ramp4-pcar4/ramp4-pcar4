{
    "$schema": "http://json-schema.org/draft/2019-09/schema#",
    "title": "RAMP4 Config Schema",
    "type": "object",
    "version": 4.0,
    "unevaluatedProperties": false,
    "$defs": {
        "help": {
            "type": "object",
            "description": "Specifies details for the Help section.",
            "properties": {
                "folderName": {
                    "type": "string",
                    "default": "default",
                    "description": "Help folder name within the help directory which contains the help content and images. Markdown files must be named for the language they support, e.g. en.md, fr.md"
                },
                "panelWidth": {
                    "type": "number",
                    "default": 350,
                    "description": "Help panel width in pixels"
                }
            },
            "required": ["folderName"],
            "additionalProperties": false
        },
        "northarrow": {
            "type": "object",
            "description": "Provides configuration to the northarrow fixture.",
            "properties": {
                "arrowIcon": {
                    "type": "string",
                    "default": "",
                    "description": "The graphical icon url/data url of the north arrow."
                },
                "poleIcon": {
                    "type": "string",
                    "default": "",
                    "description": "The graphical icon url/data url of the north pole that replaces north arrow when it's on north pole"
                }
            },
            "required": ["arrowIcon", "poleIcon"],
            "additionalProperties": false
        },
        "overviewmap": {
            "type": "object",
            "description": "Provides the configuration to the overviewmap fixture",
            "properties": {
                "basemaps": {
                    "type": "object",
                    "description": "Key-value dictionary where the key is the tile schema id and the value is a basemap. Can provide an overriding basemap for each tile schema in the main map config.",
                    "additionalProperties": {
                        "type": "object",
                        "$ref": "#/$defs/basemap"
                    }
                },
                "startMinimized": {
                    "type": "boolean",
                    "default": true,
                    "description": "Initial state of the overviewmap"
                },
                "expandFactor": {
                    "type": "number",
                    "default": 1.5,
                    "description": "The ratio of the overview map's extent size compared to the main map's extent size"
                }
            }
        },
        "scrollguard": {
            "type": "object",
            "description": "Provides the configuration to the scrollguard fixture",
            "properties": {
                "enabled": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if the scrollguard should be active"
                }
            }
        },
        "appbar": {
            "type": "object",
            "description": "Provides configuration to the appbar fixture. If not supplied, the default appbar controls are displayed.",
            "properties": {
                "items": {
                    "type": "array",
                    "default": ["legend", "geosearch", "basemap"],
                    "description": "Items that are displayed on the appbar, such as buttons linked to map components, formatters, images, etc.",
                    "items": {
                        "oneOf": [
                            {
                                "type": "string",
                                "default": "",
                                "description": "Specifies a panel ID to create a linked button for."
                            },
                            {
                                "type": "object",
                                "description": "Specifies an appbar component with possibility of custom options.",
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "description": "Id of the appbar component."
                                    },
                                    "options": {
                                        "type": "object",
                                        "description": "Optional additional properties to customize the appbar component.",
                                        "additionalProperties": true
                                    }
                                }
                            },
                            {
                                "type": "array",
                                "description": "A sub array of appbar items.",
                                "items": {
                                    "oneOf": [
                                        {
                                            "type": "string",
                                            "default": "",
                                            "description": "Specifies a panel ID to create a linked button for."
                                        },
                                        {
                                            "type": "object",
                                            "description": "Specifies an appbar component with possibility of custom options.",
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "description": "Id of the appbar component."
                                                },
                                                "options": {
                                                    "type": "object",
                                                    "description": "Optional additional properties to customize the appbar component.",
                                                    "additionalProperties": true
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        ]
                    },
                    "minItems": 1
                }
            },
            "required": ["items"],
            "additionalProperties": false
        },
        "details": {
            "type": "object",
            "description": "Provides layer-specific configuration to the details fixture.",
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Display name of the identified layer"
                },
                "template": {
                    "type": "string",
                    "description": "Custom Vue component to render as details template"
                }
            },
            "required": ["template"],
            "additionalProperties": false
        },
        "geosearch": {
            "type": "object",
            "description": "Provides configuration to the geosearch fixture.",
            "properties": {
                "serviceUrls": {
                    "type": "object",
                    "properties": {
                        "geoNames": {
                            "type": "string",
                            "default": "https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",
                            "description": "Endpoint url for geoNames service."
                        },
                        "geoLocation": {
                            "type": "string",
                            "default": "https://geogratis.gc.ca/services/geolocation/@{language}/locate",
                            "description": "Endpoint url for geoLocation service."
                        },
                        "geoProvince": {
                            "type": "string",
                            "default": "https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",
                            "description": "Endpoint url for provinces service."
                        },
                        "geoTypes": {
                            "type": "string",
                            "default": "https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json",
                            "description": "Endpoint url for types service."
                        }
                    },
                    "description": "Set of urls for lookup services. Aligns with GeoGratis APIs."
                },
                "settings": {
                    "type": "object",
                    "properties": {
                        "categories": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [],
                            "description": "Filter the search results based on the type of the geographical names. Allowed values can be found here (if using the Canadian GeoNames Search Service API): http://geogratis.gc.ca/services/geoname/en/codes/concise."
                        },
                        "sortOrder": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [],
                            "description": "The sort order of the defined 'categories'. Any missing categories are appended to the bottom of the sorted list. The results can still be sorted through this option even if there are no categories being filtered."
                        },
                        "maxResults": {
                            "type": "number",
                            "default": 100,
                            "description": "The maximum number of results to return per request. The Canadian GeoNames Search Service API has a 1000 search limit which will be used as an upper limit of results returned unless another service is being used with a higher limit. The default is 100 results."
                        },
                        "officialOnly": {
                            "type": "boolean",
                            "default": false,
                            "description": "Whether to return only official names for the geographic names. Default is false which will return both official names and formerly official names."
                        }
                    }
                }
            },
            "unevaluatedProperties": false
        },
        "legend": {
            "type": "object",
            "description": "Provides configuration to the legend fixture.",
            "properties": {
                "headerControls": {
                    "$ref": "legendHeaderControls",
                    "default": [
                        "wizard",
                        "layerReorder",
                        "groupToggle",
                        "visibilityToggle"
                    ]
                },
                "isOpen": {
                    "type": "boolean",
                    "default": false,
                    "description": "Specifies whether legend panel is open by default."
                },
                "isPinned": {
                    "type": "boolean",
                    "default": true,
                    "description": "Specifies whether legend panel is pinned by default."
                },
                "panelWidth": {
                    "$ref": "#/$defs/panelWidth"
                },
                "root": {
                    "$ref": "#/$defs/entryGroup"
                }
            },
            "required": ["root"],
            "unevaluatedProperties": false
        },
        "panelWidth": {
            "type": ["number", "object"],
            "description": "Determines the width of provided panels. If a number, then defaults all panels for the fixture to the number."
        },
        "entryGroup": {
            "type": "object",
            "description": "A legend group element that can contain child elements to form a nested legend structure.",
            "properties": {
                "name": {
                    "type": "string",
                    "default": "",
                    "description": "Title of the legend group."
                },
                "hidden": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates that the legend group will be hidden from the UI."
                },
                "expanded": {
                    "type": "boolean",
                    "default": true,
                    "description": "Specifies if legend group is expanded by default."
                },
                "controls": {
                    "$ref": "#/$defs/legendGroupControls",
                    "default": ["visibility"]
                },
                "disabledControls": {
                    "$ref": "#/$defs/legendGroupControls",
                    "default": []
                },
                "children": {
                    "type": "array",
                    "items": {
                        "oneOf": [
                            {
                                "$ref": "#/$defs/entry"
                            },
                            {
                                "$ref": "#/$defs/entryGroup"
                            },
                            {
                                "$ref": "#/$defs/infoSection"
                            },
                            {
                                "$ref": "#/$defs/visibilitySet"
                            }
                        ]
                    },
                    "minItems": 1
                }
            },
            "required": ["name", "children"],
            "unevaluatedProperties": false
        },
        "legendHeaderControls": {
            "type": "array",
            "description": "All possible controls to show in the legend header.",
            "items": {
                "type": "string",
                "enum": [
                    "groupToggle",
                    "layerReorder",
                    "visibilityToggle",
                    "wizard"
                ]
            },
            "uniqueItems": true
        },
        "legendGroupControls": {
            "type": "array",
            "description": "All possible controls to be enabled/disabled on a legend group.",
            "items": {
                "type": "string",
                "enum": [
                    "identify",
                    "opacity",
                    "reload",
                    "remove",
                    "settings",
                    "symbology",
                    "visibility"
                ]
            },
            "uniqueItems": true
        },
        "layerControls": {
            "type": "array",
            "description": "All possible controls to be enabled/disabled on a single legend entry.",
            "items": {
                "type": "string",
                "enum": [
                    "boundaryZoom",
                    "datatable",
                    "identify",
                    "metadata",
                    "opacity",
                    "refresh",
                    "reload",
                    "remove",
                    "settings",
                    "symbology",
                    "visibility"
                ]
            },
            "uniqueItems": true
        },
        "entry": {
            "type": "object",
            "description": "A single entry legend element.",
            "properties": {
                "layerId": {
                    "type": "string",
                    "description": "Link to a layer defined in the layers section of config."
                },
                "name": {
                    "type": "string",
                    "description": "Title of the legend entry."
                },
                "hidden": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates that the legend block will be hidden from the UI and all its controls will be inaccessible to the user."
                },
                "controlledIds": {
                    "type": "array",
                    "default": [],
                    "description": "List of additional layer ids which controlled by this layer.",
                    "items": {
                        "type": "string"
                    }
                },
                "sublayerIndex": {
                    "type": "integer",
                    "default": 0,
                    "description": "Index of the 'sublayer' in the case of a map image layer."
                },
                "sublayerId": {
                    "type": "string",
                    "default": 0,
                    "description": "Id of the 'sublayer' in the case of an OGC WMS layer."
                },
                "coverIcon": {
                    "type": "string",
                    "default": "",
                    "description": "An optional icon used to represent the layer."
                },
                "description": {
                    "type": "string",
                    "default": "",
                    "description": "Optional description displayed above the symbology stack on mouse hover."
                },
                "controls": {
                    "$ref": "#/$defs/layerControls"
                },
                "disabledControls": {
                    "$ref": "#/$defs/layerControls",
                    "default": []
                },
                "symbologyStack": {
                    "$ref": "#/$defs/symbologyStack"
                },
                "symbologyRenderStyle": {
                    "type": "string",
                    "enum": ["icons", "images"],
                    "default": "icons",
                    "description": "An optional style, describes how the symbology stack should be rendered."
                },
                "symbologyExpanded": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if symbology stack is expand by default"
                }
            },
            "required": ["layerId"],
            "unevaluatedProperties": false
        },
        "symbologyStack": {
            "type": "array",
            "description": "A collection of image-label pairings making up a layer's symbology stack.",
            "items": {
                "type": "object",
                "properties": {
                    "image": {
                        "type": "string",
                        "default": "",
                        "description": "Either a data URI or a URL to a source that supports CORS headers."
                    },
                    "text": {
                        "type": "string",
                        "default": "",
                        "description": "Description of a layer feature."
                    },
                    "sqlQuery": {
                        "type": "string",
                        "default": "",
                        "description": "An SQL where clause by which the map and datatable attributes can be filtered. All the query results for the symbologyStack should cover all attributes for that layer."
                    }
                },
                "required": ["image", "text"],
                "additionalProperties": false
            },
            "minItems": 1
        },
        "infoSection": {
            "type": "object",
            "description": "Static content that can be added to a legend.",
            "properties": {
                "infoType": {
                    "type": "string",
                    "enum": ["title", "image", "text"],
                    "default": "title",
                    "description": "Type of info content."
                },
                "content": {
                    "type": "string",
                    "description": "Actual content of the section - description of title/text or URL to image file."
                }
            },
            "required": ["infoType", "content"],
            "additionalProperties": false
        },
        "visibilitySet": {
            "type": "object",
            "description": "A visibility set legend element with only one child element visible at all times.",
            "properties": {
                "collapse": {
                    "type": "boolean",
                    "default": false,
                    "description": "Renders a visiblity set as a single legend entry."
                },
                "exclusiveVisibility": {
                    "type": "array",
                    "description": "A list of legend elements forming the visibility set.",
                    "items": {
                        "oneOf": [
                            {
                                "$ref": "#/$defs/entryGroup"
                            },
                            {
                                "$ref": "#/$defs/entry"
                            }
                        ]
                    },
                    "minItems": 1
                }
            },
            "required": ["exclusiveVisibility"],
            "unevaluatedProperties": false
        },
        "mapnav": {
            "type": "object",
            "description": "Provides configuration to the map navigation bar fixture. If not supplied the default mapnav buttons are shown.",
            "properties": {
                "zoomOption": {
                    "type": "string",
                    "enum": ["all", "buttons", "slider"],
                    "default": "buttons",
                    "description": "Specifies between zoom buttons or zoom sliders."
                },
                "items": {
                    "type": "array",
                    "default": [
                        "fullscreen",
                        "help",
                        "home",
                        "geolocator",
                        "basemap"
                    ],
                    "description": "Map navigation buttons displayed on mapnav.",
                    "items": {
                        "type": "string",
                        "enum": [
                            "geolocator",
                            "zoom",
                            "home",
                            "basemap",
                            "help",
                            "fullscreen",
                            "geosearch",
                            "legend"
                        ]
                    },
                    "uniqueItems": true
                }
            },
            "unevaluatedProperties": false
        },
        "exportComponent": {
            "type": "object",
            "description": "Provides configuration for an export fixture component. If not supplied the default config used.",
            "properties": {
                "selected": {
                    "type": "boolean",
                    "description": "Indicates if this component is selected.",
                    "default": true
                },
                "selectable": {
                    "type": "boolean",
                    "description": "Indicates if this component is selectable.",
                    "default": true
                }
            }
        },
        "export": {
            "type": "object",
            "description": "Provides configuration to the export fixture. If not supplied the default config used.",
            "properties": {
                "title": {
                    "type": "object",
                    "description": "Configuration for the title.",
                    "allOf": [
                        {
                            "$ref": "#/$defs/exportComponent"
                        }
                    ],
                    "properties": {
                        "value": {
                            "type": "string",
                            "default": "RAMP-Map / PCAR-Carte",
                            "description": "The value of the title text."
                        }
                    },
                    "requried": ["value"]
                },
                "map": {
                    "type": "object",
                    "description": "Configuration for map.",
                    "$ref": "#/$defs/exportComponent"
                },
                "mapElements": {
                    "type": "object",
                    "description": "Configuration for the north arrow and scale bar.",
                    "$ref": "#/$defs/exportComponent"
                },
                "legend": {
                    "type": "object",
                    "description": "Configuration for the legend.",
                    "allOf": [
                        {
                            "$ref": "#/$defs/exportComponent"
                        }
                    ],
                    "properties": {
                        "columnWidth": {
                            "type": "number",
                            "default": "",
                            "description": "Value in pixels to be used as the column width for the exported legend."
                        }
                    }
                },
                "footnote": {
                    "type": "object",
                    "description": "Configuration for the footnote.",
                    "allOf": [
                        {
                            "$ref": "#/$defs/exportComponent"
                        }
                    ],
                    "properties": {
                        "value": {
                            "type": "string",
                            "default": "",
                            "description": "The value of the footnote text."
                        }
                    },
                    "requried": ["value"]
                },
                "timestamp": {
                    "type": "object",
                    "description": "Configuration for the timestamp.",
                    "$ref": "#/$defs/exportComponent"
                },
                "fileName": {
                    "type": "string",
                    "description": "The filename of the exported image."
                },
                "panelWidth": {
                    "$ref": "#/$defs/panelWidth"
                }
            }
        },
        "layerList": {
            "type": "array",
            "description": "List of defined layers to be displayed, added to the map in the same order it appears in this list.",
            "items": {
                "oneOf": [
                    {
                        "$ref": "#/$defs/basicLayer"
                    },
                    {
                        "$ref": "#/$defs/mapImageLayer"
                    },
                    {
                        "$ref": "#/$defs/featureLayer"
                    },
                    {
                        "$ref": "#/$defs/fileLayer"
                    },
                    {
                        "$ref": "#/$defs/wfsLayer"
                    },
                    {
                        "$ref": "#/$defs/wmsLayer"
                    },
                    {
                        "$ref": "#/$defs/osmLayer"
                    }
                ]
            },
            "minItems": 0
        },
        "drawOrder": {
            "type": "array",
            "description": "Attribute fields used to control drawing order on the map for vector features. Note ESRI currently only supports one field.",
            "items": {
                "type": "object",
                "description": "Draw order for one attribute field.",
                "properties": {
                    "field": {
                        "type": "string",
                        "description": "Layer field name contianing the value to order by."
                    },
                    "ascending": {
                        "type": "boolean",
                        "description": "Direction to order in. True means smaller values are on top of larger values. False is the opposite."
                    }
                },
                "additionalProperties": false,
                "required": ["field", "ascending"]
            }
        },
        "basicLayer": {
            "type": "object",
            "description": "Properties describing a generic layer type that can represent an ESRI tile/image layer.",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Identification of the layer for referencing within the viewer (does not relate directly to any external service)."
                },
                "name": {
                    "type": "string",
                    "default": "",
                    "description": "Display name of the layer."
                },
                "url": {
                    "type": "string",
                    "default": "",
                    "description": "Service endpoint of the layer. It should match the type provided in layerType."
                },
                "refreshInterval": {
                    "type": "number",
                    "default": 0,
                    "description": "The automatic refresh interval of the layer in minutes. Maximum interval is 100 minutes. Currently not supported."
                },
                "expectedResponseTime": {
                    "type": "number",
                    "default": 4000,
                    "description": "The time span after which a 'slow-to-respond' notification is shown for any loading or refreshing layer."
                },
                "metadata": {
                    "$ref": "#/$defs/layerMetadata"
                },
                "catalogueUrl": {
                    "type": "string",
                    "default": null,
                    "description": "Catalogue url of the layer service."
                },
                "layerType": {
                    "type": "string",
                    "enum": ["esri-imagery", "esri-tile"],
                    "description": "Service type shorthand for basic layers."
                },
                "extent": {
                    "$ref": "#/$defs/extentWithReference"
                },
                "controls": {
                    "$ref": "#/$defs/layerControls",
                    "default": [
                        "datatable",
                        "opacity",
                        "visibility",
                        "identify",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "symbology"
                    ]
                },
                "disabledControls": {
                    "$ref": "#/$defs/layerControls",
                    "default": []
                },
                "state": {
                    "$ref": "#/$defs/initialLayerSettings"
                },
                "cosmetic": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if this layer is a cosmetic supporting layer which will not be considered for general user interaction."
                }
            },
            "required": ["id", "layerType", "url"],
            "unevaluatedProperties": false
        },
        "osmLayer": {
            "type": "object",
            "description": "Properties describing an OpenStreetMap layer.",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Identification of the layer for referencing within the viewer (does not relate directly to any external service)."
                },
                "name": {
                    "type": "string",
                    "default": "",
                    "description": "Display name of the layer."
                },
                "expectedResponseTime": {
                    "type": "number",
                    "default": 4000,
                    "description": "The time span after which a 'slow-to-respond' notification is shown for any loading or refreshing layer."
                },
                "metadata": {
                    "$ref": "#/$defs/layerMetadata"
                },
                "layerType": {
                    "type": "string",
                    "enum": ["osm-tile"],
                    "description": "Service type shorthand for OpenStreetMap layers."
                },
                "extent": {
                    "$ref": "#/$defs/extentWithReference"
                },
                "controls": {
                    "$ref": "#/$defs/layerControls",
                    "default": [
                        "opacity",
                        "visibility",
                        "metadata",
                        "boundaryZoom",
                        "reload",
                        "remove",
                        "settings"
                    ]
                },
                "disabledControls": {
                    "$ref": "#/$defs/layerControls",
                    "default": []
                },
                "state": {
                    "$ref": "#/$defs/initialLayerSettings"
                },
                "cosmetic": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if this layer is a cosmetic supporting layer which will not be considered for general user interaction."
                }
            },
            "required": ["id", "layerType"],
            "unevaluatedProperties": false
        },
        "mapImageLayer": {
            "type": "object",
            "description": "Properties describing a map image Layer which is rendered as a group by default.",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Identification of the layer for referencing within the viewer (does not relate directly to any external service)."
                },
                "name": {
                    "type": "string",
                    "default": "",
                    "description": "The display name of the layer. If not present, the viewer will make an attempt to scrape this information."
                },
                "url": {
                    "type": "string",
                    "default": "",
                    "description": "The service endpoint of the layer. It should match the type provided in layerType."
                },
                "refreshInterval": {
                    "type": "number",
                    "default": 0,
                    "description": "The automatic refresh interval of the layer in minutes. Maximum interval is 100 minutes. Currently not supported."
                },
                "expectedResponseTime": {
                    "type": "number",
                    "default": 4000,
                    "description": "The time span after which a 'slow-to-respond' notification is shown for any loading or refreshing layer."
                },
                "metadata": {
                    "$ref": "#/$defs/layerMetadata"
                },
                "catalogueUrl": {
                    "type": "string",
                    "default": null,
                    "description": "Catalogue url of the layer service."
                },
                "layerType": {
                    "type": "string",
                    "enum": ["esri-map-image"],
                    "default": "esri-map-image",
                    "description": "Service type shorthand for map image layers."
                },
                "singleEntryCollapse": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates that the map image layer with a single layer entry should be rendered without the root group."
                },
                "sublayers": {
                    "type": "array",
                    "description": "Layer entries rendered as part of the map image layer group.",
                    "items": {
                        "$ref": "#/$defs/mapImageSublayer"
                    },
                    "minItems": 1
                },
                "tolerance": {
                    "type": "number",
                    "default": 5,
                    "description": "Specifies the tolerance in pixels when determining if a feature was clicked. Should be non-negative integer"
                },
                "extent": {
                    "$ref": "#/$defs/extentWithReference"
                },
                "controls": {
                    "$ref": "#/$defs/layerControls",
                    "default": [
                        "opacity",
                        "visibility",
                        "identify",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "symbology"
                    ]
                },
                "disabledControls": {
                    "$ref": "#/$defs/layerControls",
                    "default": []
                },
                "state": {
                    "$ref": "#/$defs/initialLayerSettings"
                },
                "imageFormat": {
                    "type": "string",
                    "enum": [
                        "png",
                        "png8",
                        "png24",
                        "png32",
                        "jpg",
                        "pdf",
                        "bmp",
                        "gif",
                        "svg"
                    ],
                    "default": "png32",
                    "description": "The format of the layer image output."
                },
                "fixtures": {
                    "$ref": "#/$defs/layerFixtureConfig"
                }
            },
            "required": ["id", "layerType", "sublayers", "url"],
            "unevaluatedProperties": false
        },
        "mapImageSublayer": {
            "type": "object",
            "description": "A child entry of a map image layer.",
            "properties": {
                "index": {
                    "type": "number",
                    "description": "Index of the layer in the map service."
                },
                "name": {
                    "type": "string",
                    "default": "",
                    "description": "A descriptive name for the layer, can override the name coming from the service."
                },
                "nameField": {
                    "type": "string",
                    "default": "",
                    "description": "The display field of the layer. If it is not present the viewer will make an attempt to scrape this information."
                },
                "extent": {
                    "$ref": "#/$defs/extentWithReference"
                },
                "controls": {
                    "$ref": "#/$defs/layerControls",
                    "default": [
                        "datatable",
                        "opacity",
                        "visibility",
                        "identify",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "symbology"
                    ]
                },
                "disabledControls": {
                    "$ref": "#/$defs/layerControls",
                    "default": []
                },
                "state": {
                    "$ref": "#/$defs/initialLayerSettings"
                },
                "stateOnly": {
                    "type": "boolean",
                    "default": false,
                    "description": "A flag indicating this entry is only for state tracking (i.e. it should not be displayed on the UI and all of the controls will be ignored, but the layer itself will be displayed on the map with the given state settings)."
                },
                "customRenderer": {
                    "type": "object",
                    "description": "Optional renderer object to apply to the layer. Follows ESRI ArcGIS Server json convention.",
                    "additionalProperties": true
                },
                "fieldMetadata": {
                    "type": "object",
                    "description": "Specifies options for the fields of a layer.",
                    "properties": {
                        "fieldInfo": {
                            "type": "array",
                            "description": "Specifies field info for layer.",
                            "items": {
                                "$ref": "#/$defs/fieldMetadataEntry"
                            }
                        },
                        "exclusiveFields": {
                            "type": "boolean",
                            "default": false,
                            "description": "If true, only fields in fieldInfo are downloaded. Otherwise, download all fields."
                        }
                    }
                },
                "fixtures": {
                    "$ref": "#/$defs/layerFixtureConfig"
                }
            },
            "required": ["index"],
            "unevaluatedProperties": false
        },
        "featureLayer": {
            "type": "object",
            "description": "Properties describing an ESRI Feature Layer.",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Identification of the layer for referencing within the viewer (does not relate directly to any external service)."
                },
                "name": {
                    "type": "string",
                    "default": "",
                    "description": "Display name of the layer."
                },
                "nameField": {
                    "type": "string",
                    "default": "",
                    "description": "Display field of the layer."
                },
                "tooltipField": {
                    "type": "string",
                    "default": "",
                    "description": "The field to be used for tooltips. If not present, the viewer will use nameField (if provided)."
                },
                "url": {
                    "type": "string",
                    "default": "",
                    "description": "The service endpoint of the layer. It should match the type provided in layerType."
                },
                "refreshInterval": {
                    "type": "number",
                    "default": 0,
                    "description": "Automatic refresh interval of the layer in minutes. Maximum interval is 100 minutes. Currently not supported."
                },
                "expectedResponseTime": {
                    "type": "number",
                    "default": 4000,
                    "description": "The time span after which a 'slow-to-respond' notification is shown for any loading or refreshing layer."
                },
                "metadata": {
                    "$ref": "#/$defs/layerMetadata"
                },
                "catalogueUrl": {
                    "type": "string",
                    "default": null,
                    "description": "Catalogue url of the layer service."
                },
                "layerType": {
                    "type": "string",
                    "enum": ["esri-feature"],
                    "description": "Service type shorthand for feature layers."
                },
                "tolerance": {
                    "type": "number",
                    "default": 5,
                    "description": "Specifies the tolerance in pixels when determining if a feature was clicked. Should be non-negative integer"
                },
                "extent": {
                    "$ref": "#/$defs/extentWithReference"
                },
                "controls": {
                    "$ref": "#/$defs/layerControls",
                    "default": [
                        "datatable",
                        "opacity",
                        "visibility",
                        "identify",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "symbology"
                    ]
                },
                "disabledControls": {
                    "$ref": "#/$defs/layerControls",
                    "default": []
                },
                "state": {
                    "$ref": "#/$defs/initialLayerSettings"
                },
                "customRenderer": {
                    "type": "object",
                    "description": "Optional renderer object to apply to the layer. Follows ESRI ArcGIS Server json convention.",
                    "additionalProperties": true
                },
                "fieldMetadata": {
                    "type": "array",
                    "description": "Specifies options for the fields of a layer.",
                    "items": {
                        "$ref": "#/$defs/fieldMetadataEntry"
                    }
                },
                "initialFilteredQuery": {
                    "type": "string",
                    "description": "Initial filter query to be applied to the layer."
                },
                "fixtures": {
                    "$ref": "#/$defs/layerFixtureConfig"
                },
                "drawOrder": {
                    "$ref": "#/$defs/drawOrder",
                    "default": []
                },
                "identifyMode": {
                    "type": "string",
                    "description": "Determines how features should be identified. By geometry, by symbol, or both.",
                    "default": "hybrid",
                    "enum": ["geometric", "symbolic", "hybrid"]
                }
            },
            "required": ["id", "layerType", "url"],
            "additionalProperties": false
        },
        "fileLayer": {
            "type": "object",
            "description": "Properties describing a file layer (implemented in an ESRI feature layer).",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Identification of the layer for referencing within the viewer (does not relate directly to any external service)"
                },
                "name": {
                    "type": "string",
                    "default": "",
                    "description": "Display name of the layer."
                },
                "nameField": {
                    "type": "string",
                    "default": "",
                    "description": "Display field of the layer. If not present, the viewer will make an attempt to find the first valid field."
                },
                "tooltipField": {
                    "type": "string",
                    "default": "",
                    "description": "The field to be used for tooltips. If not present, the viewer will use nameField (if provided)."
                },
                "url": {
                    "type": "string",
                    "default": "",
                    "description": "Url path to the file.  It should match the type provided in layerType."
                },
                "colour": {
                    "type": "string",
                    "default": "",
                    "description": "Hex code representing the layer symbology colour."
                },
                "expectedResponseTime": {
                    "type": "number",
                    "default": 4000,
                    "description": "The time span after which a 'slow-to-respond' notification is shown for any loading or refreshing layer."
                },
                "layerType": {
                    "type": "string",
                    "enum": ["file-geojson", "file-csv", "file-shape"],
                    "description": "Service type shorthand for file layers."
                },
                "latField": {
                    "type": "string",
                    "description": "The latitude field of the layer (only for CSVs)."
                },
                "longField": {
                    "type": "string",
                    "description": "The longitude field of the layer (only for CSVs)."
                },
                "tolerance": {
                    "type": "number",
                    "default": 5,
                    "description": "Specifies the tolerance in pixels when determining if a feature was clicked. Should be non-negative integer"
                },
                "extent": {
                    "$ref": "#/$defs/extentWithReference"
                },
                "controls": {
                    "$ref": "#/$defs/layerControls",
                    "default": [
                        "datatable",
                        "opacity",
                        "visibility",
                        "identify",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "symbology"
                    ]
                },
                "disabledControls": {
                    "$ref": "#/$defs/layerControls",
                    "default": []
                },
                "state": {
                    "$ref": "#/$defs/initialLayerSettings"
                },
                "customRenderer": {
                    "type": "object",
                    "description": "Optional renderer object to apply to the layer. Follows ESRI ArcGIS Server json convention.",
                    "additionalProperties": true
                },
                "fieldMetadata": {
                    "type": "array",
                    "description": "Specifies options for the fields of a layer.",
                    "items": {
                        "$ref": "#/$defs/fieldMetadataEntry"
                    }
                },
                "fixtures": {
                    "$ref": "#/$defs/layerFixtureConfig"
                },
                "drawOrder": {
                    "$ref": "#/$defs/drawOrder",
                    "default": []
                },
                "identifyMode": {
                    "type": "string",
                    "description": "Determines how features should be identified. By geometry, by symbol, or both.",
                    "default": "hybrid",
                    "enum": ["geometric", "symbolic", "hybrid"]
                }
            },
            "required": ["id", "layerType", "url"],
            "additionalProperties": false
        },
        "wfsLayer": {
            "type": "object",
            "description": "Properties describing a WFS layer (also an ESRI feature layer).",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Identification of the layer for referencing within the viewer (does not relate directly to any external service)."
                },
                "name": {
                    "type": "string",
                    "default": "",
                    "description": "Display name of the layer. If not present, the viewer will make an attempt to scrape this information."
                },
                "nameField": {
                    "type": "string",
                    "default": "",
                    "description": "Display field of the layer. If not present, the viewer will make an attempt to scrape this information."
                },
                "tooltipField": {
                    "type": "string",
                    "default": "",
                    "description": "The field to be used for tooltips. If not present, the viewer will use nameField (if provided)."
                },
                "url": {
                    "type": "string",
                    "default": "",
                    "description": "The service endpoint of the layer. It should match the type provided in layerType."
                },
                "expectedResponseTime": {
                    "type": "number",
                    "default": 4000,
                    "description": "The time span after which a 'slow-to-respond' notification is shown for any loading or refreshing layer."
                },
                "colour": {
                    "type": "string",
                    "description": "The hex code representing the layer symbology colour."
                },
                "layerType": {
                    "type": "string",
                    "enum": ["ogc-wfs"],
                    "default": "ogc-wfs",
                    "description": "Service type shorthand for WFS layers."
                },
                "tolerance": {
                    "type": "number",
                    "default": 5,
                    "description": "Specifies the tolerance in pixels when determining if a feature was clicked. Should be non-negative integer"
                },
                "extent": {
                    "$ref": "#/$defs/extentWithReference"
                },
                "controls": {
                    "$ref": "#/$defs/layerControls",
                    "default": [
                        "datatable",
                        "opacity",
                        "visibility",
                        "identify",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "symbology"
                    ]
                },
                "disabledControls": {
                    "$ref": "#/$defs/layerControls",
                    "default": []
                },
                "state": {
                    "$ref": "#/$defs/initialLayerSettings"
                },
                "xyInAttribs": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if the point co-ords should be copied to the feature attributes. Ignored for lines and polygons."
                },
                "customRenderer": {
                    "type": "object",
                    "description": "Optional renderer object to apply to the layer. Follows ESRI ArcGIS Server json convention.",
                    "additionalProperties": true
                },
                "fieldMetadata": {
                    "type": "array",
                    "description": "Specifies options for the fields of a layer.",
                    "items": {
                        "$ref": "#/$defs/fieldMetadataEntry"
                    }
                },
                "fixtures": {
                    "$ref": "#/$defs/layerFixtureConfig"
                },
                "drawOrder": {
                    "$ref": "#/$defs/drawOrder",
                    "default": []
                },
                "identifyMode": {
                    "type": "string",
                    "description": "Determines how features should be identified. By geometry, by symbol, or both.",
                    "default": "hybrid",
                    "enum": ["geometric", "symbolic", "hybrid"]
                }
            },
            "required": ["id", "layerType", "url"],
            "additionalProperties": false
        },
        "wmsLayer": {
            "type": "object",
            "description": "Properties describing a WMS layer.",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Identification of the layer for referencing within the viewer (does not relate directly to any external service)."
                },
                "name": {
                    "type": "string",
                    "default": "",
                    "description": "Display name of the layer. If not present, the viewer will make an attempt to scrape this information."
                },
                "url": {
                    "type": "string",
                    "default": "",
                    "description": "Service endpoint of the layer. It should match the type provided in layerType."
                },
                "refreshInterval": {
                    "type": "number",
                    "default": 0,
                    "description": "Automatic refresh interval of the layer in minutes. Maximum interval is 100 minutes. Currently not supported."
                },
                "expectedResponseTime": {
                    "type": "number",
                    "default": 4000,
                    "description": "The time span after which a 'slow-to-respond' notification is shown for any loading or refreshing layer."
                },
                "metadata": {
                    "$ref": "#/$defs/layerMetadata"
                },
                "catalogueUrl": {
                    "type": "string",
                    "default": null,
                    "description": "Catalogue url of the layer service."
                },
                "sublayers": {
                    "type": "array",
                    "description": "Layer entries rendered as part of the WMS legend block.",
                    "items": {
                        "$ref": "#/$defs/wmsSublayer"
                    },
                    "minItems": 1
                },
                "layerType": {
                    "type": "string",
                    "enum": ["ogc-wms"],
                    "default": "ogc-wms",
                    "description": "Service type shorthand for WMS layers."
                },
                "featureInfoMimeType": {
                    "type": "string",
                    "enum": ["text/html", "text/plain", "application/json"],
                    "description": "Specifies if GetFeatureInfo should be enabled for this WMS and indicates the format that should be requested."
                },
                "extent": {
                    "$ref": "#/$defs/extentWithReference"
                },
                "controls": {
                    "$ref": "#/$defs/layerControls",
                    "default": [
                        "opacity",
                        "visibility",
                        "identify",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "symbology"
                    ]
                },
                "disabledControls": {
                    "$ref": "#/$defs/layerControls",
                    "default": []
                },
                "state": {
                    "$ref": "#/$defs/initialLayerSettings"
                }
            },
            "required": ["id", "layerType", "sublayers", "url"],
            "unevaluatedProperties": false
        },
        "wmsSublayer": {
            "type": "object",
            "description": "A child entry of a WMS layer.",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Identification of the layer entry in the WMS."
                },
                "name": {
                    "type": "string",
                    "default": "",
                    "description": "A descriptive name for the layer. To be used in the legend."
                },
                "styleLegends": {
                    "type": "array",
                    "description": "List of map of all styles to legend graphic URL for layer entry in the WMS. Overrides the URLs from the WMS service. Mappings to non-default styles are currently not supported.",
                    "items": {
                        "type": "object",
                        "properties": {
                            "name": {
                                "type": "string",
                                "description": "The name of the style."
                            },
                            "url": {
                                "type": "string",
                                "description": "The URL to the legend graphic."
                            }
                        }
                    }
                },
                "currentStyle": {
                    "type": "string",
                    "default": "",
                    "description": "Current style for the layer entry in the WMS. Currently not supported."
                },
                "controls": {
                    "$ref": "#/$defs/layerControls",
                    "default": [
                        "opacity",
                        "visibility",
                        "identify",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "symbology"
                    ]
                },
                "disabledControls": {
                    "$ref": "#/$defs/layerControls",
                    "default": []
                },
                "state": {
                    "$ref": "#/$defs/initialLayerSettings"
                }
            },
            "required": ["id"],
            "unevaluatedProperties": false
        },
        "layerFixtureConfig": {
            "type": "object",
            "description": "Fixture configuration that is specific to a layer.",
            "properties": {
                "details": {
                    "$ref": "#/$defs/details"
                },
                "grid": {
                    "$ref": "#/$defs/grid"
                },
                "legend": {
                    "type": "object",
                    "description": "Layer-specific legend configuration",
                    "properties": {
                        "toggleSymbology": {
                            "type": "boolean",
                            "default": true,
                            "description": "Allows individual symbols to have visibility toggled on/off."
                        }
                    }
                },
                "settings": {
                    "type": "object",
                    "description": "Layer-specific settings configuration",
                    "properties": {
                        "controls": {
                            "$ref": "#/$defs/layerControls"
                        },
                        "disabledControls": {
                            "$ref": "#/$defs/layerControls",
                            "default": []
                        }
                    }
                }
            }
        },
        "layerMetadata": {
            "type": "object",
            "description": "Metadata link and name of the layer service.",
            "properties": {
                "url": {
                    "type": "string",
                    "description": "Metadata url of the layer service."
                },
                "name": {
                    "type": "string",
                    "description": "Name to be displayed as the header of the metadata panel."
                }
            },
            "required": ["url"],
            "additionalProperties": false
        },
        "fieldMetadataEntry": {
            "type": "object",
            "description": "Specifies field info for layer.",
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Specifies the field name to use to link to the identifier. Must exist in the layer."
                },
                "alias": {
                    "type": "string",
                    "default": "",
                    "description": "Specifies the field title. If missing, attempts to use the service alias, then defaults to the field name."
                }
            },
            "required": ["name"]
        },
        "initialLayerSettings": {
            "type": "object",
            "description": "Default initial layer configuration.",
            "properties": {
                "opacity": {
                    "type": "number",
                    "default": 1,
                    "description": "Initial opacity value of layer."
                },
                "visibility": {
                    "type": "boolean",
                    "default": true,
                    "description": "Initial visibility of layer on map."
                },
                "identify": {
                    "type": "boolean",
                    "default": true,
                    "description": "Specifies whether or not to allow identify requests."
                },
                "hovertips": {
                    "type": "boolean",
                    "default": true,
                    "description": "Specifies whether or not to disable hovertips."
                }
            },
            "additionalProperties": false
        },
        "grid": {
            "type": "object",
            "description": "Configuration for the datatable.",
            "properties": {
                "title": {
                    "type": "string",
                    "default": "",
                    "description": "Title of the datatable."
                },
                "isOpen": {
                    "type": "boolean",
                    "default": false,
                    "description": "Specifies if this table component should be open/closed on initial load."
                },
                "columns": {
                    "type": "array",
                    "description": "An array to specify how the columns (properties) of the table are defined. If a column is not present in the array, it is treated as disabled.",
                    "items": {
                        "$ref": "#/$defs/column"
                    }
                },
                "search": {
                    "type": "object",
                    "description": "Configures the datatable global search functionality.",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "description": "Whether global search is enabled by default.",
                            "default": true
                        },
                        "value": {
                            "type": "string",
                            "default": null,
                            "description": "Specifies the default filter to apply to a table (for global search)."
                        }
                    },
                    "additionalProperties": false
                },
                "showFilter": {
                    "type": "boolean",
                    "default": true,
                    "description": "Specifies if the column filters are displayed on table load."
                },
                "applyMap": {
                    "type": "boolean",
                    "default": false,
                    "description": "Specifies if column filters are applied to the map by default."
                },
                "filterByExtent": {
                    "type": "boolean",
                    "default": false,
                    "description": "Specifies if the table should filter rows by extent by default."
                },
                "panelWidth": {
                    "$ref": "#/$defs/panelWidth"
                }
            },
            "unevaluatedProperties": false
        },
        "column": {
            "type": "object",
            "description": "Specifies column properties. The ordering of columns in the table header is the same as the order they appear in this array.",
            "allOf": [
                {
                    "$ref": "#/$defs/fieldMetadataEntry"
                }
            ],
            "properties": {
                "title": {
                    "type": "string",
                    "default": "",
                    "description": "Column title, uses the layer column name or alias if missing."
                },
                "visible": {
                    "type": "boolean",
                    "default": true,
                    "description": "Specifies if column is visible by default."
                },
                "width": {
                    "type": "number",
                    "default": 100,
                    "description": "Specifies the column width. The minimum and default column width is set to 100px."
                },
                "sort": {
                    "type": "string",
                    "enum": ["asc", "desc"],
                    "default": "asc",
                    "description": "Specifies if column requires to be sorted, either in ascending or descending order."
                },
                "searchable": {
                    "type": "boolean",
                    "default": true,
                    "description": "Specifies if column can be filtered."
                },
                "filter": {
                    "$ref": "#/$defs/filter"
                }
            },
            "unevaluatedProperties": false
        },
        "filter": {
            "type": "object",
            "description": "Specifies the filter properties for a column.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": ["string", "number", "date", "selector"],
                    "default": "string",
                    "description": "Specifies the filter type to use for a column. Defaults to being filtered as a string."
                },
                "value": {
                    "type": "string",
                    "default": null,
                    "description": "Specifies the filter value."
                },
                "static": {
                    "type": "boolean",
                    "default": false,
                    "description": "Specifies if filter is modifiable."
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        "tileSchema": {
            "type": "object",
            "description": "A unique combination of an LOD and an extent set (each basemap must fit into a tile schema).",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "A unique id identifying a tile schema (combination of an extent set and a zoom scale)."
                },
                "name": {
                    "type": "string",
                    "default": "",
                    "description": "The name to display in the basemap selector for the set of basemaps referencing this schema."
                },
                "extentSetId": {
                    "type": "string",
                    "description": "Identification link to extent set data defined in map.extentSets."
                },
                "lodSetId": {
                    "type": "string",
                    "description": "Identification link to lod set data defined in map.lodSets."
                },
                "thumbnailTileUrls": {
                    "type": "array",
                    "description": "The list of two horizontally-adjacent tile URLs used to create the basemap thumbnail. URLs take the form of '/tile/<LOD_ID>/<VERTICAL_TILE_INDEX>/<HORIZONTAL_TILE_INDEX>'.",
                    "items": {
                        "type": "string"
                    },
                    "minItems": 2
                },
                "hasNorthPole": {
                    "type": "boolean",
                    "description": "Indicates if this tile schema shows the north pole."
                }
            },
            "required": ["id", "name", "default", "extentSetId", "lodSetId"],
            "additionalProperties": false
        },
        "basemap": {
            "type": "object",
            "description": "Properties of a basemap to be displayed in the basemap selector panel.",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "A unique identifier for the basemap."
                },
                "name": {
                    "type": "string",
                    "default": "",
                    "description": "Name of the basemap used for labeling."
                },
                "description": {
                    "type": "string",
                    "default": "",
                    "description": "Description of the basemap. Becomes visible when basemap selector is expanded."
                },
                "altText": {
                    "type": "string",
                    "default": "",
                    "description": "Alt text for the basemap thumbnail image."
                },
                "thumbnailUrl": {
                    "type": "string",
                    "default": null,
                    "description": "Path to image file to display in the basemap selector."
                },
                "tileSchemaId": {
                    "type": "string",
                    "description": "The tile schema associated with this basemap."
                },
                "layers": {
                    "type": "array",
                    "description": "A set of URLs which should be composited to form a basemap entry.",
                    "items": {
                        "type": "object",
                        "properties": {
                            "id": {
                                "type": "string",
                                "description": "Base layer's id"
                            },
                            "layerType": {
                                "type": "string",
                                "description": "Base layer's type",
                                "enum": [
                                    "esri-map-image",
                                    "esri-tile",
                                    "osm-tile"
                                ]
                            },
                            "url": {
                                "type": "string",
                                "description": "Base layer's url"
                            },
                            "opacity": {
                                "type": "number",
                                "description": "Base layer's opacity",
                                "default": 1
                            }
                        },
                        "required": ["id", "layerType", "url"]
                    },
                    "minItems": 1
                },
                "attribution": {
                    "$ref": "#/$defs/attribution"
                }
            },
            "required": [
                "id",
                "name",
                "description",
                "layers",
                "altText",
                "tileSchemaId"
            ],
            "unevaluatedProperties": false
        },
        "attribution": {
            "type": "object",
            "description": "Custom attribution and logo for associated basemap when selected.",
            "properties": {
                "text": {
                    "type": "object",
                    "properties": {
                        "disabled": {
                            "type": "boolean",
                            "default": false,
                            "description": "Specifies if basemap attribution text is disabled."
                        },
                        "value": {
                            "type": "string",
                            "default": "",
                            "description": "Contains the attribution value. If empty, it will use copyright text from the server."
                        }
                    }
                },
                "logo": {
                    "type": "object",
                    "properties": {
                        "disabled": {
                            "type": "boolean",
                            "default": false,
                            "description": "Specifies if basemap attribution logo is disabled."
                        },
                        "altText": {
                            "type": "string",
                            "default": "",
                            "description": "Alternate text for the image."
                        },
                        "value": {
                            "type": "string",
                            "default": "",
                            "description": "URL for the image."
                        },
                        "link": {
                            "type": "string",
                            "default": "",
                            "description": "URL to go to when clicked."
                        }
                    }
                }
            },
            "required": ["text", "logo"],
            "unevaluatedProperties": false
        },
        "extentSet": {
            "type": "object",
            "description": "Configuration for all required extent properties.",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Identification for extent set that is mainly referenced by a tile schema."
                },
                "default": {
                    "$ref": "#/$defs/extent",
                    "description": "The default (starting) extent."
                },
                "full": {
                    "$ref": "#/$defs/extent",
                    "description": "The full extent; default will be used if not supplied."
                },
                "maximum": {
                    "$ref": "#/$defs/extent",
                    "description": "The maximum extent; full or default extents will be used if not supplied."
                }
            },
            "required": ["id", "default"],
            "unevaluatedProperties": false
        },
        "extent": {
            "type": "object",
            "description": "Map extent defined by min/max xy-coordinates.",
            "properties": {
                "xmin": {
                    "type": "number"
                },
                "ymin": {
                    "type": "number"
                },
                "xmax": {
                    "type": "number"
                },
                "ymax": {
                    "type": "number"
                }
            },
            "required": ["xmin", "ymin", "xmax", "ymax"],
            "additionalProperties": false
        },
        "extentWithReference": {
            "type": "object",
            "description": "Map extent defined by min/max xy-coordinates and spatial reference.",
            "properties": {
                "xmin": {
                    "type": "number"
                },
                "ymin": {
                    "type": "number"
                },
                "xmax": {
                    "type": "number"
                },
                "ymax": {
                    "type": "number"
                },
                "spatialReference": {
                    "$ref": "#/$defs/spatialReference"
                }
            },
            "required": ["xmin", "ymin", "xmax", "ymax"],
            "unevaluatedProperties": false
        },
        "spatialReference": {
            "type": "object",
            "description": "Spatial reference properties to help define map projection.",
            "properties": {
                "wkid": {
                    "type": "number",
                    "description": "A well known ESRI id denoting a projection."
                },
                "latestWkid": {
                    "type": "number",
                    "description": "A well known ESRI id denoting a projection."
                },
                "wkt": {
                    "type": "string",
                    "description": "A well known type projection definition."
                }
            },
            "anyOf": [
                {
                    "required": ["wkid"]
                },
                {
                    "required": ["latestWkid"]
                },
                {
                    "required": ["wkt"]
                }
            ],
            "unevaluatedProperties": false
        },
        "lodSet": {
            "type": "object",
            "description": "Details for a specific tile schema.",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Identification for a lod set that is mainly referenced by a tile schema."
                },
                "lods": {
                    "type": "array",
                    "description": "Level of details for a tile schema (i.e., zoom scales).",
                    "items": {
                        "type": "object",
                        "properties": {
                            "level": {
                                "type": "number"
                            },
                            "resolution": {
                                "type": "number"
                            },
                            "scale": {
                                "type": "number"
                            }
                        },
                        "required": ["level", "resolution", "scale"]
                    }
                }
            },
            "required": ["id", "lods"],
            "unevaluatedProperties": false
        }
    },
    "properties": {
        "version": {
            "type": "string",
            "enum": ["4.0"],
            "description": "The schema version used to validate the configuration file. The schema should enumerate the list of versions accepted by this version of the viewer."
        },
        "fixtures": {
            "type": "object",
            "description": "Optional configuration for required map fixtures. TODO: fixtures may not exist so cannot enforce fixtures in config file",
            "properties": {
                "legend": {
                    "$ref": "#/$defs/legend",
                    "default": {
                        "isOpen": false,
                        "root": {}
                    },
                    "description": "Provides configuration to legend. If not supplied, a blank legend is displayed."
                },
                "appbar": {
                    "$ref": "#/$defs/appbar",
                    "default": {
                        "items": ["legend", "geosearch", "basemap"]
                    },
                    "description": "Provides configuration to the appbar. If not supplied, default appbar controls are displayed."
                },
                "mapnav": {
                    "$ref": "#/$defs/mapnav",
                    "default": {
                        "zoom": "buttons",
                        "items": [
                            "fullscreen",
                            "home",
                            "geolocator",
                            "help",
                            "basemap"
                        ]
                    },
                    "description": "Provides configuration to the appbar. If not supplied, default appbar controls are displayed."
                },
                "geosearch": {
                    "$ref": "#/$defs/geosearch",
                    "default": {
                        "serviceUrls": {
                            "geoNames": "https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",
                            "geoLocation": "https://geogratis.gc.ca/services/geolocation/@{language}/locate",
                            "geoProvince": "https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",
                            "geoTypes": "https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json"
                        }
                    },
                    "description": "Provides configuration to geosearch. If not supplied, default geosearch services are used."
                },
                "details": {
                    "description": "Provides default template configuration to the details fixture. If not supplied, RAMP default templates wil be used.",
                    "type": "object",
                    "properties": {
                        "templates": {
                            "type": "object",
                            "description": "Specifies a custom Vue component to render as the default details template for each identify result format.",
                            "propertyNames": {
                                "enum": [
                                    "esri",
                                    "text",
                                    "image",
                                    "html",
                                    "xml",
                                    "json"
                                ]
                            },
                            "additionalProperties": {
                                "type": "string"
                            }
                        },
                        "panelWidth": {
                            "$ref": "#/$defs/panelWidth"
                        }
                    },
                    "required": ["templates"]
                },
                "help": {
                    "$ref": "#/$defs/help",
                    "default": {
                        "folderName": "default",
                        "panelWidth": {
                            "$ref": "#/$defs/panelWidth"
                        }
                    },
                    "description": "Specifies details for the Help section"
                },
                "northarrow": {
                    "$ref": "#/$defs/northarrow",
                    "default": {
                        "arrowIcon": "",
                        "poleIcon": ""
                    },
                    "description": "Provides configuration to the north arrow and pole marker"
                },
                "overviewmap": {
                    "$ref": "#/$defs/overviewmap",
                    "description": "Provides the configuration to the overviewmap fixture"
                },
                "scrollguard": {
                    "$ref": "#/$defs/scrollguard",
                    "description": "Provides the configuration to the scrollguard fixture"
                }
            },
            "unevaluatedProperties": false
        },
        "layers": {
            "$ref": "#/$defs/layerList",
            "default": [],
            "description": "Layer list in the order which they should be added to the map. Defaults to no layers."
        },
        "map": {
            "type": "object",
            "description": "Configuration of core map properties.",
            "properties": {
                "tileSchemas": {
                    "type": "array",
                    "description": "Combinations of LOD and extent sets for the map.",
                    "items": {
                        "$ref": "#/$defs/tileSchema"
                    },
                    "minItems": 1
                },
                "extentSets": {
                    "type": "array",
                    "description": "The default, full and maximum extents of the map.",
                    "items": {
                        "$ref": "#/$defs/extentSet"
                    }
                },
                "lodSets": {
                    "type": "array",
                    "description": "The levels of detail (zoom scales) available for the map.",
                    "items": {
                        "$ref": "#/$defs/lodSet"
                    }
                },
                "initialBasemapId": {
                    "type": "string",
                    "description": "Initial basemap to load. If not supplied, viewer will select a default basemap."
                },
                "basemaps": {
                    "type": "array",
                    "description": "A list of basemaps to be made available via the basemap selector.",
                    "items": {
                        "$ref": "#/$defs/basemap"
                    },
                    "minItems": 1
                },
                "caption": {
                    "type": "object",
                    "description": "Configuration for the components in the map caption bar",
                    "properties": {
                        "mapCoords": {
                            "type": "object",
                            "description": "Configuration for mouse/crosshairs co-ords",
                            "properties": {
                                "disabled": {
                                    "type": "boolean",
                                    "default": false
                                },
                                "formatter": {
                                    "type": "string",
                                    "description": "ID of the initial mouse point formatter",
                                    "default": "LAT_LONG_DMS",
                                    "enum": [
                                        "LAT_LONG_DMS",
                                        "LAT_LONG_DD",
                                        "LAT_LONG_DDM",
                                        "WEB_MERCATOR",
                                        "CANADA_ATLAS_LAMBERT",
                                        "UTM",
                                        "BASEMAP"
                                    ]
                                }
                            }
                        },
                        "scaleBar": {
                            "type": "object",
                            "description": "Configuration for the scale bar",
                            "properties": {
                                "disabled": {
                                    "type": "boolean",
                                    "default": false
                                },
                                "imperialScale": {
                                    "type": "boolean",
                                    "description": "Use imperial scale distance units",
                                    "default": false
                                }
                            }
                        }
                    },
                    "required": ["mapCoords", "scaleBar"]
                },
                "pointZoomScale": {
                    "type": "number",
                    "default": 50000,
                    "minimum": 1,
                    "description": "The zoom level when zooming to a point feature (e.g. when using the zoom button in the datagrid). Should be a positive integer."
                },
                "mapMouseThrottle": {
                    "type": "number",
                    "default": 0,
                    "minimum": 0,
                    "description": "The amount of throttling (in milliseconds) to be used for the map mouse move event. A value of 0 means no throttle."
                }
            },
            "required": ["tileSchemas", "baseMaps"],
            "unevaluatedProperties": false
        },
        "system": {
            "type": "object",
            "description": "Configuration of ramp system properties.",
            "properties": {
                "proxyUrl": {
                    "type": "string",
                    "description": "An optional proxy to be used for dealing with same-origin issues.  URL must either be a relative path on the same server or an absolute path on a server which sets CORS headers. Applies only to map services."
                },
                "animate": {
                    "type": "boolean",
                    "description": "Will enable visual animation when using the site, such as control transitions.",
                    "default": true
                }
            },
            "required": [],
            "unevaluatedProperties": false
        }
    },
    "required": ["version"]
}
