{"version":3,"file":"SceneLayerSnappingSourceWorker-DN_k1kcf.js","sources":["../../node_modules/@arcgis/core/geometry/support/clipRay.js","../../node_modules/@arcgis/core/geometry/support/frustum.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Octree.js","../../node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils.js","../../node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ObjectStack as r}from\"../../core/ObjectStack.js\";import{l as c,g as n,h as t}from\"../../chunks/vec32.js\";import{create as o,copy as e,fromValues as u}from\"./ray.js\";function a(r){return r?{ray:o(r.ray),c0:r.c0,c1:r.c1}:{ray:o(),c0:0,c1:Number.MAX_VALUE}}function i(r,c,n){const t=A.get();return t.ray=r,t.c0=c,t.c1=n,t}function s(r,c=a()){return f(r.ray,r.c0,r.c1,c)}function f(r,c,n,t=a()){return e(r,t.ray),t.c0=c,t.c1=n,t}function y(r,c=a()){return e(r,c.ray),c.c0=0,c.c1=Number.MAX_VALUE,c}function m(r,n,t=a()){const o=c(r.vector);return u(r.origin,n,t.ray),t.c0=0,t.c1=o,t}function p(r,c){return j(r,r.c0,c)}function g(r,c){return j(r,r.c1,c)}function j(r,c,o){return n(o,r.ray.origin,t(o,r.ray.direction,c))}const A=new r((()=>a()));export{s as copy,a as create,m as fromLineSegmentAndDirection,y as fromRay,f as fromValues,j as getAt,g as getEnd,p as getStart,i as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ObjectStack as T}from\"../../core/ObjectStack.js\";import{multiply as _,invert as O}from\"../../core/libs/gl-matrix-2/math/mat4.js\";import{s as R}from\"../../chunks/vec32.js\";import{create as t}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{t as r}from\"../../chunks/vec42.js\";import{fromValues as A}from\"../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{create as E,fromRay as F,fromLineSegmentAndDirection as o}from\"./clipRay.js\";import{create as n,copy as e,fromPoints as c,clipInfinite as f,signedDistance as i,clip as B}from\"./plane.js\";import{sm4d as M,sv4d as G}from\"./vectorStacks.js\";function H(T){return T?[n(T[0]),n(T[1]),n(T[2]),n(T[3]),n(T[4]),n(T[5])]:[n(),n(),n(),n(),n(),n()]}function I(){return[t(),t(),t(),t(),t(),t(),t(),t()]}function N(T,_){for(let O=0;O<b;O++)e(T[O],_[O]);return T}function L(T,t,A,E=y){const F=_(M.get(),t,T);O(F,F);for(let _=0;_<h;++_){const T=r(G.get(),k[_],F);R(E[_],T[0]/T[3],T[1]/T[3],T[2]/T[3])}P(A,E)}function P(T,_){c(_[g.FAR_BOTTOM_LEFT],_[g.NEAR_BOTTOM_LEFT],_[g.NEAR_TOP_LEFT],T[j.LEFT]),c(_[g.NEAR_BOTTOM_RIGHT],_[g.FAR_BOTTOM_RIGHT],_[g.FAR_TOP_RIGHT],T[j.RIGHT]),c(_[g.FAR_BOTTOM_LEFT],_[g.FAR_BOTTOM_RIGHT],_[g.NEAR_BOTTOM_RIGHT],T[j.BOTTOM]),c(_[g.NEAR_TOP_LEFT],_[g.NEAR_TOP_RIGHT],_[g.FAR_TOP_RIGHT],T[j.TOP]),c(_[g.NEAR_BOTTOM_LEFT],_[g.NEAR_BOTTOM_RIGHT],_[g.NEAR_TOP_RIGHT],T[j.NEAR]),c(_[g.FAR_BOTTOM_RIGHT],_[g.FAR_BOTTOM_LEFT],_[g.FAR_TOP_LEFT],T[j.FAR])}function s(T,_){for(let O=0;O<b;O++){const R=T[O];if(R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]>=_[3])return!1}return!0}function u(T,_){return p(T,F(_,x.get()))}function m(T,_){for(let O=0;O<b;O++){const R=T[O];if(!f(R,_))return!1}return!0}function a(T,_,O){return p(T,o(_,O,x.get()))}function l(T,_){for(let O=0;O<b;O++){if(i(T[O],_)>0)return!1}return!0}function p(T,_){for(let O=0;O<b;O++)if(!B(T[O],_))return!1;return!0}var j,g;!function(T){T[T.LEFT=0]=\"LEFT\",T[T.RIGHT=1]=\"RIGHT\",T[T.BOTTOM=2]=\"BOTTOM\",T[T.TOP=3]=\"TOP\",T[T.NEAR=4]=\"NEAR\",T[T.FAR=5]=\"FAR\"}(j||(j={})),function(T){T[T.NEAR_BOTTOM_LEFT=0]=\"NEAR_BOTTOM_LEFT\",T[T.NEAR_BOTTOM_RIGHT=1]=\"NEAR_BOTTOM_RIGHT\",T[T.NEAR_TOP_RIGHT=2]=\"NEAR_TOP_RIGHT\",T[T.NEAR_TOP_LEFT=3]=\"NEAR_TOP_LEFT\",T[T.FAR_BOTTOM_LEFT=4]=\"FAR_BOTTOM_LEFT\",T[T.FAR_BOTTOM_RIGHT=5]=\"FAR_BOTTOM_RIGHT\",T[T.FAR_TOP_RIGHT=6]=\"FAR_TOP_RIGHT\",T[T.FAR_TOP_LEFT=7]=\"FAR_TOP_LEFT\"}(g||(g={}));const v={bottom:[g.FAR_BOTTOM_RIGHT,g.NEAR_BOTTOM_RIGHT,g.NEAR_BOTTOM_LEFT,g.FAR_BOTTOM_LEFT],near:[g.NEAR_BOTTOM_LEFT,g.NEAR_BOTTOM_RIGHT,g.NEAR_TOP_RIGHT,g.NEAR_TOP_LEFT],far:[g.FAR_BOTTOM_RIGHT,g.FAR_BOTTOM_LEFT,g.FAR_TOP_LEFT,g.FAR_TOP_RIGHT],right:[g.NEAR_BOTTOM_RIGHT,g.FAR_BOTTOM_RIGHT,g.FAR_TOP_RIGHT,g.NEAR_TOP_RIGHT],left:[g.FAR_BOTTOM_LEFT,g.NEAR_BOTTOM_LEFT,g.NEAR_TOP_LEFT,g.FAR_TOP_LEFT],top:[g.FAR_TOP_LEFT,g.NEAR_TOP_LEFT,g.NEAR_TOP_RIGHT,g.FAR_TOP_RIGHT]},b=6,h=8,k=[A(-1,-1,-1,1),A(1,-1,-1,1),A(1,1,-1,1),A(-1,1,-1,1),A(-1,-1,1,1),A(1,-1,1,1),A(1,1,1,1),A(-1,1,1,1)],x=new T(E),y=I();export{j as PlaneIndex,g as PointIndex,P as computePlanes,N as copy,H as create,I as createPoints,L as fromMatrix,m as intersectClipRay,a as intersectsLineSegment,l as intersectsPoint,u as intersectsRay,s as intersectsSphere,b as numPlanes,h as numPoints,v as planePointIndices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/ObjectPool.js\";import t from\"../../../../core/PooledArray.js\";import{h as o,g as n,a as i,c as s,m as r}from\"../../../../chunks/vec32.js\";import{create as h,fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{intersectsSphere as d}from\"../../../../geometry/support/frustum.js\";import{wrap as l}from\"../../../../geometry/support/ray.js\";import{a as u,g as c,b as f,j as m,c as _}from\"../../../../chunks/sphere.js\";import{rayBoxTest as p}from\"./Util.js\";class b{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(e,t){this.objectToBoundingSphere=e,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._root=new g,this._objectCount=0,t&&(void 0!==t.maximumObjectsPerNode&&(this._maximumObjectsPerNode=t.maximumObjectsPerNode),void 0!==t.maximumDepth&&(this._maximumDepth=t.maximumDepth))}destroy(){this._degenerateObjects.clear(),g.clearPool(),B[0]=null,P.prune(),H.prune()}add(e,t=e.length){this._objectCount+=t,this._grow(e,t);const o=g.acquire();for(let n=0;n<t;n++){const t=e[n];this._isDegenerate(t)?this._degenerateObjects.add(t):(o.init(this._root),this._add(t,o))}g.release(o)}remove(e,t=null){this._objectCount-=e.length;const o=g.acquire();for(const n of e){const e=t??u(this.objectToBoundingSphere(n),w);E(e[3])?(o.init(this._root),this._remove(n,e,o)):this._degenerateObjects.delete(n)}g.release(o),this._shrink()}update(e,t){if(!E(t[3])&&this._isDegenerate(e))return;const o=R(e);this.remove(o,t),this.add(o)}forEachAlongRay(e,t,o){const n=l(e,t);this._forEachNode(this._root,(e=>{if(!this._intersectsNode(n,e))return!1;const t=e.node;return t.terminals.forAll((e=>{this._intersectsObject(n,e)&&o(e)})),null!==t.residents&&t.residents.forAll((e=>{this._intersectsObject(n,e)&&o(e)})),!0}))}forEachAlongRayWithVerticalOffset(e,t,o,n){const i=l(e,t);this._forEachNode(this._root,(e=>{if(!this._intersectsNodeWithOffset(i,e,n))return!1;const t=e.node;return t.terminals.forAll((e=>{this._intersectsObjectWithOffset(i,e,n)&&o(e)})),null!==t.residents&&t.residents.forAll((e=>{this._intersectsObjectWithOffset(i,e,n)&&o(e)})),!0}))}forEach(e){this._forEachNode(this._root,(t=>{const o=t.node;return o.terminals.forAll(e),null!==o.residents&&o.residents.forAll(e),!0})),this._degenerateObjects.forEach(e)}forEachDegenerateObject(e){this._degenerateObjects.forEach(e)}findClosest(e,t,i,s=(()=>!0),r=1/0){let h=1/0,a=1/0,l=null;const u=T(e,t),f=o=>{if(--r,!s(o))return;const n=this.objectToBoundingSphere(o);if(!d(i,n))return;const u=z(e,t,c(n)),f=u-n[3],m=u+n[3];f<h&&(h=f,a=m,l=o)};return this._forEachNodeDepthOrdered(this._root,(s=>{if(r<=0||!d(i,s.bounds))return!1;o(v,u,s.halfSize),n(v,v,c(s.bounds));if(z(e,t,v)>a)return!1;const h=s.node;return h.terminals.forAll((e=>f(e))),null!==h.residents&&h.residents.forAll((e=>f(e))),!0}),e,t),l}forEachInDepthRange(e,t,i,s,r,h,a){let l=-1/0,u=1/0;const f={setRange:e=>{i===b.DepthOrder.FRONT_TO_BACK?(l=Math.max(l,e.near),u=Math.min(u,e.far)):(l=Math.max(l,-e.far),u=Math.min(u,-e.near))}};f.setRange(s);const m=z(t,i,e),_=T(t,i),p=T(t,-i),g=e=>{if(!a(e))return;const o=this.objectToBoundingSphere(e),n=c(o),s=z(t,i,n)-m,_=s-o[3],p=s+o[3];_>u||p<l||!d(h,o)||r(e,f)};this._forEachNodeDepthOrdered(this._root,(e=>{if(!d(h,e.bounds))return!1;o(v,_,e.halfSize),n(v,v,c(e.bounds));if(z(t,i,v)-m>u)return!1;o(v,p,e.halfSize),n(v,v,c(e.bounds));if(z(t,i,v)-m<l)return!1;const s=e.node;return s.terminals.forAll((e=>g(e))),null!==s.residents&&s.residents.forAll((e=>g(e))),!0}),t,i)}forEachNode(e){this._forEachNode(this._root,(t=>e(t.node,t.bounds,t.halfSize,t.depth)))}forEachNeighbor(e,t){const o=f(t),n=c(t),s=t=>{const s=this.objectToBoundingSphere(t),r=f(s),h=o+r;return!(i(c(s),n)-h*h<=0)||e(t)};let r=!0;const h=e=>{r&&(r=s(e))};this._forEachNode(this._root,(e=>{const t=f(e.bounds),s=o+t;if(i(c(e.bounds),n)-s*s>0)return!1;const a=e.node;return a.terminals.forAll(h),r&&null!==a.residents&&a.residents.forAll(h),r})),r&&this.forEachDegenerateObject(h)}_intersectsNode(e,t){return j(c(t.bounds),2*-t.halfSize,C),j(c(t.bounds),2*t.halfSize,y),p(e.origin,e.direction,C,y)}_intersectsNodeWithOffset(e,t,o){return j(c(t.bounds),2*-t.halfSize,C),j(c(t.bounds),2*t.halfSize,y),o.applyToMinMax(C,y),p(e.origin,e.direction,C,y)}_intersectsObject(e,t){const o=this.objectToBoundingSphere(t);return!(o[3]>0)||m(o,e)}_intersectsObjectWithOffset(e,t,o){const n=this.objectToBoundingSphere(t);return!(n[3]>0)||m(o.applyToBoundingSphere(n),e)}_forEachNode(e,t){let o=g.acquire().init(e);const n=[o];for(;0!==n.length;){if(o=n.pop(),t(o)&&!o.isLeaf())for(let e=0;e<o.node.children.length;e++){o.node.children[e]&&n.push(g.acquire().init(o).advance(e))}g.release(o)}}_forEachNodeDepthOrdered(e,t,o,n=b.DepthOrder.FRONT_TO_BACK){let i=g.acquire().init(e);const s=[i];for(N(o,n,K);0!==s.length;){if(i=s.pop(),t(i)&&!i.isLeaf())for(let e=7;e>=0;--e){const t=K[e];i.node.children[t]&&s.push(g.acquire().init(i).advance(t))}g.release(i)}}_remove(e,t,o){P.clear();const n=o.advanceTo(t,((e,t)=>{P.push(e.node),P.push(t)}))?o.node.terminals:o.node.residents;if(n.removeUnordered(e),0===n.length)for(let i=P.length-2;i>=0;i-=2){const e=P.data[i],t=P.data[i+1];if(!this._purge(e,t))break}}_nodeIsEmpty(e){if(0!==e.terminals.length)return!1;if(null!==e.residents)return 0===e.residents.length;for(let t=0;t<e.children.length;t++)if(e.children[t])return!1;return!0}_purge(e,o){return o>=0&&(e.children[o]=null),!!this._nodeIsEmpty(e)&&(null===e.residents&&(e.residents=new t({shrink:!0})),!0)}_add(e,t){t.advanceTo(this.objectToBoundingSphere(e))?t.node.terminals.push(e):(t.node.residents.push(e),t.node.residents.length>this._maximumObjectsPerNode&&t.depth<this._maximumDepth&&this._split(t))}_split(e){const t=e.node.residents;e.node.residents=null;for(let o=0;o<t.length;o++){const n=g.acquire().init(e);this._add(t.at(o),n),g.release(n)}}_grow(e,t){if(0!==t&&(x(e,t,(e=>this.objectToBoundingSphere(e)),q),E(q[3])&&!this._fitsInsideTree(q)))if(this._nodeIsEmpty(this._root.node))u(q,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize();else{const e=this._rootBoundsForRootAsSubNode(q);this._placingRootViolatesMaxDepth(e)?this._rebuildTree(q,e):this._growRootAsSubNode(e),g.release(e)}}_rebuildTree(e,t){s(c(k),c(t.bounds)),k[3]=t.halfSize,x([e,k],2,(e=>e),I);const o=g.acquire().init(this._root);this._root.initFrom(null,I,I[3]),this._root.increaseHalfSize(1.25),this._forEachNode(o,(e=>(this.add(e.node.terminals.data,e.node.terminals.length),null!==e.node.residents&&this.add(e.node.residents.data,e.node.residents.length),!0))),g.release(o)}_placingRootViolatesMaxDepth(e){const t=Math.log(e.halfSize/this._root.halfSize)*Math.LOG2E;let o=0;return this._forEachNode(this._root,(e=>(o=Math.max(o,e.depth),o+t<=this._maximumDepth))),o+t>this._maximumDepth}_rootBoundsForRootAsSubNode(e){const t=e[3],o=e;let n=-1/0;const i=this._root.bounds,s=this._root.halfSize;for(let h=0;h<3;h++){const e=i[h]-s-(o[h]-t),r=o[h]+t-(i[h]+s),a=Math.max(0,Math.ceil(e/(2*s))),d=Math.max(0,Math.ceil(r/(2*s)))+1,l=2**Math.ceil(Math.log(a+d)*Math.LOG2E);n=Math.max(n,l),L[h].min=a,L[h].max=d}for(let h=0;h<3;h++){let e=L[h].min,t=L[h].max;const o=(n-(e+t))/2;e+=Math.ceil(o),t+=Math.floor(o);const r=i[h]-s-e*s*2;F[h]=r+(t+e)*s}const r=n*s;return F[3]=r*A,g.acquire().initFrom(null,F,r,0)}_growRootAsSubNode(e){const t=this._root.node;s(c(q),c(this._root.bounds)),q[3]=this._root.halfSize,this._root.init(e),e.advanceTo(q,null,!0),e.node.children=t.children,e.node.residents=t.residents,e.node.terminals=t.terminals}_shrink(){for(;;){const e=this._findShrinkIndex();if(-1===e)break;this._root.advance(e),this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let e=null;const t=this._root.node.children;let o=0,n=0;for(;n<t.length&&null==e;)o=n++,e=t[o];for(;n<t.length;)if(t[n++])return-1;return o}_isDegenerate(e){return!E(this.objectToBoundingSphere(e)[3])}_fitsInsideTree(e){const t=this._root.bounds,o=this._root.halfSize;return e[3]<=o&&e[0]>=t[0]-o&&e[0]<=t[0]+o&&e[1]>=t[1]-o&&e[1]<=t[1]+o&&e[2]>=t[2]-o&&e[2]<=t[2]+o}toJSON(){const{maximumDepth:e,maximumObjectsPerNode:t,_objectCount:o}=this,n=this._nodeToJSON(this._root.node);return{maximumDepth:e,maximumObjectsPerNode:t,objectCount:o,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:n}}}_nodeToJSON(e){const t=e.children.map((e=>e?this._nodeToJSON(e):null)),o=e.residents?.map((e=>this.objectToBoundingSphere(e))),n=e.terminals?.map((e=>this.objectToBoundingSphere(e)));return{children:t,residents:o,terminals:n}}static fromJSON(e){const t=new b((e=>e),{maximumDepth:e.maximumDepth,maximumObjectsPerNode:e.maximumObjectsPerNode});return t._objectCount=e.objectCount,t._root.initFrom(e.root.node,e.root.bounds,e.root.halfSize,e.root.depth),t}}class g{constructor(){this.bounds=_(),this.halfSize=0,this.initFrom(null,null,0,0)}init(e){return this.initFrom(e.node,e.bounds,e.halfSize,e.depth)}initFrom(e,t,o,n=this.depth){return this.node=null!=e?e:g.createEmptyNode(),t&&u(t,this.bounds),this.halfSize=o,this.depth=n,this}increaseHalfSize(e){this.halfSize*=e,this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*A}advance(e){let t=this.node.children[e];t||(t=g.createEmptyNode(),this.node.children[e]=t),this.node=t,this.halfSize/=2,this.depth++;const o=M[e];return this.bounds[0]+=o[0]*this.halfSize,this.bounds[1]+=o[1]*this.halfSize,this.bounds[2]+=o[2]*this.halfSize,this.updateBoundsRadiusFromHalfSize(),this}advanceTo(e,t,o=!1){for(;;){if(this.isTerminalFor(e))return t&&t(this,-1),!0;if(this.isLeaf()){if(!o)return t&&t(this,-1),!1;this.node.residents=null}const n=this._childIndex(e);t&&t(this,n),this.advance(n)}}isLeaf(){return null!=this.node.residents}isTerminalFor(e){return e[3]>this.halfSize/2}_childIndex(e){const t=this.bounds;return(t[0]<e[0]?1:0)+(t[1]<e[1]?2:0)+(t[2]<e[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new t({shrink:!0}),residents:new t({shrink:!0})}}static acquire(){return g._pool.acquire()}static release(e){g._pool.release(e)}static clearPool(){g._pool.prune()}}function S(e,t){e[0]=Math.min(e[0],t[0]-t[3]),e[1]=Math.min(e[1],t[1]-t[3]),e[2]=Math.min(e[2],t[2]-t[3])}function O(e,t){e[0]=Math.max(e[0],t[0]+t[3]),e[1]=Math.max(e[1],t[1]+t[3]),e[2]=Math.max(e[2],t[2]+t[3])}function j(e,t,o){o[0]=e[0]+t,o[1]=e[1]+t,o[2]=e[2]+t}function x(e,t,o,n){if(1===t){const t=o(e[0]);u(t,n)}else{C[0]=1/0,C[1]=1/0,C[2]=1/0,y[0]=-1/0,y[1]=-1/0,y[2]=-1/0;for(let n=0;n<t;n++){const t=o(e[n]);E(t[3])&&(S(C,t),O(y,t))}r(c(n),C,y,.5),n[3]=Math.max(y[0]-C[0],y[1]-C[1],y[2]-C[2])/2}}function N(e,t,o){if(!H.length)for(let n=0;n<8;++n)H.push({index:0,distance:0});for(let n=0;n<8;++n){const o=M[n];H.data[n].index=n,H.data[n].distance=z(e,t,o)}H.sort(((e,t)=>e.distance-t.distance));for(let n=0;n<8;++n)o[n]=H.data[n].index}function T(e,t){let o,n=1/0;for(let i=0;i<8;++i){const s=z(e,t,D[i]);s<n&&(n=s,o=D[i])}return o}function z(e,t,o){return t*(e[0]*o[0]+e[1]*o[1]+e[2]*o[2])}function E(e){return!isNaN(e)&&e!==-1/0&&e!==1/0&&e>0}g._pool=new e(g),function(e){var t;(t=e.DepthOrder||(e.DepthOrder={}))[t.FRONT_TO_BACK=1]=\"FRONT_TO_BACK\",t[t.BACK_TO_FRONT=-1]=\"BACK_TO_FRONT\"}(b||(b={}));const M=[a(-1,-1,-1),a(1,-1,-1),a(-1,1,-1),a(1,1,-1),a(-1,-1,1),a(1,-1,1),a(-1,1,1),a(1,1,1)],D=[a(-1,-1,-1),a(-1,-1,1),a(-1,1,-1),a(-1,1,1),a(1,-1,-1),a(1,-1,1),a(1,1,-1),a(1,1,1)],A=Math.sqrt(3),B=[null];function R(e){return B[0]=e,B}const F=_(),v=h(),C=h(),y=h(),P=new t,w=_(),q=_(),k=_(),I=_(),L=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],H=new t,K=[0,0,0,0,0,0,0,0],W=b;export{W as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{r as s,q as r,g as o}from\"../../../../../chunks/vec32.js\";import{c,g as n}from\"../../../../../chunks/sphere.js\";const t=1e3;function e(t,e,a){const m=c(),p=n(m);return s(p,p,t,.5),s(p,p,e,.5),m[3]=r(p,t),o(p,p,a),m}export{e as boundsFromEdge,t as maxCandidateCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/has.js\";import\"../../../../../core/RandomLCG.js\";import\"../../../../../core/Error.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{g as s,q as n}from\"../../../../../chunks/vec32.js\";import{create as i,clone as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as d,fromPoints as c,projectPoint as a}from\"../../../../../geometry/support/lineSegment.js\";import{g as p,n as m}from\"../../../../../chunks/sphere.js\";import h from\"../../../../3d/webgl-engine/lib/Octree.js\";import{extractComponentsEdgeLocationsLayout as u}from\"../../../../3d/webgl-engine/lib/edgeRendering/edgeProcessing.js\";import{maxCandidateCount as g,boundsFromEdge as l}from\"./sceneLayerSnappingUtils.js\";let _=class{constructor(){this._idToComponent=new Map,this._components=new h((e=>e.bounds)),this._edges=new h((e=>e.bounds)),this._tmpLineSegment=d(),this._tmpP1=i(),this._tmpP2=i(),this._tmpP3=i(),this.remoteClient=null}async fetchCandidates(e,o){await Promise.resolve(),t(o),await this._ensureEdgeLocations(e,o);const s=[];return this._edges.forEachNeighbor((t=>(this._addCandidates(e,t,s),s.length<g)),e.bounds),{result:{candidates:s}}}async _ensureEdgeLocations(e,t){const o=[];if(this._components.forEachNeighbor((e=>{if(null==e.info){const{id:t,uid:s}=e;o.push({id:t,uid:s})}return!0}),e.bounds),!o.length)return;const s={components:o},n=await this.remoteClient.invoke(\"fetchAllEdgeLocations\",s,t??{});for(const i of n.components)this._setFetchEdgeLocations(i)}async add(e){const t=new b(e.id,e.bounds);return this._idToComponent.set(t.id,t),this._components.add([t]),{result:{}}}async remove(e){const t=this._idToComponent.get(e.id);if(t){const e=[];this._edges.forEachNeighbor((o=>(o.component===t&&e.push(o),!0)),t.bounds),this._edges.remove(e),this._components.remove([t]),this._idToComponent.delete(t.id)}return{result:{}}}_setFetchEdgeLocations(e){const t=this._idToComponent.get(e.id);if(null==t||e.uid!==t.uid)return;const o=u.createView(e.locations),s=new Array(o.count),n=i(),r=i();for(let i=0;i<o.count;i++){o.position0.getVec(i,n),o.position1.getVec(i,r);const d=l(n,r,e.origin),c=new j(t,i,d);s[i]=c}this._edges.add(s);const{objectIds:d,origin:c}=e;t.info={locations:o,objectIds:d,origin:c}}_addCandidates(e,t,o){const{info:n}=t.component,{origin:i,objectIds:r}=n,d=n.locations,c=d.position0.getVec(t.index,this._tmpP1),a=d.position1.getVec(t.index,this._tmpP2);s(c,c,i),s(a,a,i);const p=r[d.componentIndex.get(t.index)];this._addEdgeCandidate(e,p,c,a,o),this._addVertexCandidate(e,p,c,o),this._addVertexCandidate(e,p,a,o)}_addEdgeCandidate(e,t,o,s,i){if(!e.returnEdge)return;const d=p(e.bounds),h=c(o,s,this._tmpLineSegment),u=a(h,d,this._tmpP3);m(e.bounds,u)&&i.push({type:\"edge\",objectId:t,target:r(u),distance:n(d,u),start:r(o),end:r(s)})}_addVertexCandidate(e,t,o,s){if(!e.returnVertex||!m(e.bounds,o))return;const i=p(e.bounds);s.push({type:\"vertex\",objectId:t,target:r(o),distance:n(i,o)})}};_=e([o(\"esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker\")],_);const f=_;class b{constructor(e,t){this.id=e,this.bounds=t,this.info=null,this.uid=++b.uid}}b.uid=0;class j{constructor(e,t,o){this.component=e,this.index=t,this.bounds=o}}export{f as default};\n"],"names":["a","r","o","s","T","_","O","b","R","j","g","E","b$1","e","t","B","P","H","n","u","w","l","i","d","z","c","f","v","h","m","p","C","y","N","K","x","q","I","L","F","A","M","S","D","W"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}