{"version":3,"file":"index-ChodFxP9.js","sources":["../../src/fixtures/basemap/nav-button.vue","../../src/fixtures/basemap/lang/lang.csv?raw","../../src/fixtures/basemap/index.ts"],"sourcesContent":["<template>\n    <mapnav-button :onClickFunction=\"togglePanel\" :tooltip=\"t('basemap.title')\">\n        <svg class=\"fill-current w-32 h-20\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path\n                d=\"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z\"\n            />\n        </svg>\n    </mapnav-button>\n</template>\n\n<script setup lang=\"ts\">\nimport type { InstanceAPI } from '@/api';\nimport { inject } from 'vue';\nimport { useI18n } from 'vue-i18n';\n\nconst { t } = useI18n();\nconst iApi = inject<InstanceAPI>('iApi');\n\nconst togglePanel = () => iApi?.panel.toggle('basemap');\n</script>\n\n<style lang=\"scss\" scoped></style>\n","export default \"key,enValue,enValid,frValue,frValid\\nbasemap.select,Select basemap,1,SÃ©lectionner la carte de base,1\\nbasemap.title,Basemap,1,Carte de base,1\"","import { markRaw } from 'vue';\nimport BasemapScreenV from './screen.vue';\nimport { FixtureInstance } from '@/api';\nimport BasemapNavButtonV from './nav-button.vue';\nimport messages from './lang/lang.csv?raw';\nimport { useAppbarStore } from '../appbar/store';\nimport { useMapnavStore } from '../mapnav/store';\n\nclass BasemapFixture extends FixtureInstance {\n    added() {\n        // console.log(`[fixture] ${this.id} added`);\n\n        this.$iApi.component('basemap-nav-button', BasemapNavButtonV);\n\n        this.$iApi.panel.register(\n            {\n                id: 'basemap',\n                config: {\n                    screens: { 'basemap-component': markRaw(BasemapScreenV) },\n                    button: {\n                        tooltip: 'basemap.title',\n                        icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\" /></svg>'\n                    },\n                    alertName: 'basemap.title'\n                }\n            },\n            { i18n: { messages } }\n        );\n\n        this.handlePanelTeleports(['basemap']);\n    }\n\n    removed() {\n        // console.log(`[fixture] ${this.id} removed`);\n\n        if (this.$iApi.fixture.exists('appbar')) {\n            const appbarStore = useAppbarStore(this.$vApp.$pinia);\n            appbarStore.removeButton('basemap');\n        }\n        if (this.$iApi.fixture.exists('mapnav')) {\n            const mapnavStore = useMapnavStore(this.$vApp.$pinia);\n            mapnavStore.removeItem('basemap');\n        }\n\n        this.$iApi.panel.remove('basemap');\n    }\n}\n\nexport default BasemapFixture;\n"],"names":["t","useI18n","iApi","inject","togglePanel","messages","BasemapFixture","FixtureInstance","BasemapNavButtonV","markRaw","BasemapScreenV","useAppbarStore","useMapnavStore"],"mappings":";;;;;AAgBM,UAAA,EAAE,GAAAA,MAAMC,KACRC,IAAOC,EAAoB,MAAM,GAEjCC,IAAc,MAAMF,GAAM,MAAM,OAAO,SAAS;;;;;;;;;;;;;;;;;;;;;;;;ICnBvCG,IAAA,EAAC,IAAK,EAAC,kBAAiB,kBAAiB,iBAAgB,UAAS,GAAE,IAAK,EAAC,kBAAiB,iCAAgC,iBAAgB,gBAAe,EAAC;ACQ1K,MAAMC,UAAuBC,EAAgB;AAAA,EACzC,QAAQ;AAGC,SAAA,MAAM,UAAU,sBAAsBC,CAAiB,GAE5D,KAAK,MAAM,MAAM;AAAA,MACb;AAAA,QACI,IAAI;AAAA,QACJ,QAAQ;AAAA,UACJ,SAAS,EAAE,qBAAqBC,EAAQC,CAAc,EAAE;AAAA,UACxD,QAAQ;AAAA,YACJ,SAAS;AAAA,YACT,MAAM;AAAA,UACV;AAAA,UACA,WAAW;AAAA,QACf;AAAA,MACJ;AAAA,MACA,EAAE,MAAM,EAAE,UAAAL,IAAW;AAAA,IAAA,GAGpB,KAAA,qBAAqB,CAAC,SAAS,CAAC;AAAA,EACzC;AAAA,EAEA,UAAU;AAGN,IAAI,KAAK,MAAM,QAAQ,OAAO,QAAQ,KACdM,EAAe,KAAK,MAAM,MAAM,EACxC,aAAa,SAAS,GAElC,KAAK,MAAM,QAAQ,OAAO,QAAQ,KACdC,EAAe,KAAK,MAAM,MAAM,EACxC,WAAW,SAAS,GAG/B,KAAA,MAAM,MAAM,OAAO,SAAS;AAAA,EACrC;AACJ;"}