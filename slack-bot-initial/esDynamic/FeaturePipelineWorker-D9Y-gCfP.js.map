{"version":3,"file":"FeaturePipelineWorker-D9Y-gCfP.js","sources":["../../node_modules/@arcgis/core/views/2d/layers/features/PipelineConnectionHandlers.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MultiTileMeshData.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/MeshFactory.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/Matcher.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/DictionaryMatcher.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/IntervalMatcher.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/LabelMatcher.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/MapMatcher.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/createMatcher.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/FeatureMeshFactory.js","../../node_modules/@arcgis/core/views/2d/layers/features/ProcessorTileMessageQueue.js","../../node_modules/@arcgis/core/views/2d/layers/features/aggregation/ComputedAggregateField.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/AProcessorStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/AAggregateStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceMessage.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/BinningStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/aggregation/AccumulatedStatistics.js","../../node_modules/@arcgis/core/views/2d/layers/features/aggregation/GridCell.js","../../node_modules/@arcgis/core/views/2d/layers/features/aggregation/GridSpatialIndex.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/support/WithDisplayId.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/ClusterStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/FeatureSpatialIndex.js","../../node_modules/@arcgis/core/geohash/GeohashTree.js","../../node_modules/@arcgis/core/views/2d/layers/features/aggregation/GeohashSpatialIndex.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderIndirect.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/ASourceChunk.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/OverrideChunk.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/FeatureUpdateStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/Processor.js","../../node_modules/@arcgis/core/views/2d/layers/features/FeatureStoreStatistics.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceQueryInfo.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/StreamMessenger.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ALoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/support/queryAdapters.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/AFetchLoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ATileLoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/DrillDownTileSourceChunk.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/DrillDownTileLoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/PagedTileSourceChunk.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/PagedTileLoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/FeatureSnapshotSourceChunk.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/SnapshotLoadStrategy.js","../../node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/StreamFeatureStore.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/StreamSourceChunk.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/StreamLoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/SourceChunkStore.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSource.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureTileSubscription.js","../../node_modules/@arcgis/core/views/2d/layers/features/FeaturePipelineWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this._client=e,this.layerView=this._client.createInvokeProxy(\"\",{ignoreConnectionErrors:!0}),this.container=this._client.createInvokeProxy(\"container\",{ignoreConnectionErrors:!0}),this.eventLog=this._client.createInvokeProxy(\"eventLog\",{ignoreConnectionErrors:!0})}}export{e as PipelineConnectionHandlers};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../tiling/TileInfoView.js\";import e from\"../../../tiling/TileKey.js\";import\"../../../tiling/TileQueue.js\";import\"../../../tiling/TileStrategy.js\";import{tileSize as s}from\"../definitions.js\";import{MeshData as t}from\"./MeshData.js\";import{getPow2NeighborKey as r}from\"../../../layers/features/support/tileUtils.js\";const i=1,n=2,h=4,o=8,c=16,a=32,l=64,f=128;function u(e){switch(e){case i:case o:case a:return-1;case n:case l:return 0;case h:case c:case f:return 1}}function m(e){switch(e){case i:case n:case h:return-1;case o:case c:return 0;case a:case l:case f:return 1}}const _=i|o|a,d=h|c|f,p=i|n|h,y=a|l|f;class g{constructor(e,s,r,i=0){this.tileKey=e,this._bufferingEnabled=s,this._sizeHint=i,this._meshes={self:new t(this.id,this._sizeHint),neighbors:new Array},this._currentRecordOverlaps=0,this._currentEntityOverlaps=0,this._copyBufferedDataIntoSelf=r&&this._bufferingEnabled&&0===e.level}get id(){return this.tileKey.id}vertexCount(){return this._meshes.self.vertexCount()}indexCount(){return this._meshes.self.indexCount()}indexEnsureSize(e){this._meshes.self.indexEnsureSize(e)}entityStart(e,s=e){this._currentEntityOverlaps=0,this._meshes.self.entityStart(e,s)}entityRecordCount(){return this._meshes.self.entityRecordCount()}entityEnd(){if(this._meshes.self.entityEnd(),this._bufferingEnabled){if(this._copyBufferedDataIntoSelf)return;for(let e=0;e<8;e++){const s=1<<e;!!(this._currentEntityOverlaps&s)&&this._meshes.neighbors[e].entityEnd()}}}recordStart(e,s,t){this._currentRecordOverlaps=0,this._meshes.self.recordStart(e,s,t)}recordEnd(e=0){const s=this._meshes.self.recordEnd(this._currentRecordOverlaps);return s&&0!==this._currentRecordOverlaps?(this._copyIntoNeighbors(),this._currentEntityOverlaps|=this._currentRecordOverlaps,!0):s}recordBounds(e,s,t,r){this._bufferingEnabled&&this._addOverlap(e,s,t,r)}recordCount(){return this._meshes.self.recordCount()}metricStart(e){this._meshes.self.metricStart(e)}metricBoxWrite(e){this._meshes.self.metricBoxWrite(e)}metricEnd(){this._meshes.self.metricEnd()}vertexWrite(e){this._meshes.self.vertexWrite(e)}vertexWriteF32(e){this._meshes.self.vertexWriteF32(e)}vertexWriteRegion(e){this._meshes.self.vertexWriteRegion(e)}indexWrite(e){this._meshes.self.indexWrite(e)}serialize(s){const t={message:[],transferList:[]},i=this._meshes.self.serialize();return t.message.push({tileId:this.tileKey.id,...i.message}),t.transferList.push(...i.transferList),this._meshes.neighbors.forEach(((i,n)=>{const h=i.serialize(),o=1<<n,c=u(o),a=m(o),l=r(new e(this.tileKey),c,a,s);t.message.push({tileId:l.id,...h.message}),t.transferList.push(...h.transferList)})),t}_addOverlap(e,t,r,i){const n=Math.min(s/2,r),h=Math.min(s/2,i),o=255^((e<0+n?d:e>=s-n?_:d|_)|(t<0+h?y:t>=s-h?p:y|p));this._currentRecordOverlaps|=o}_copyIntoNeighbors(){for(let e=0;e<8;e++){const r=1<<e;if(!!(this._currentRecordOverlaps&r)){if(this._copyBufferedDataIntoSelf){const e=-u(r)*s,t=-m(r)*s;this._meshes.self.copyLast(e,t);continue}if(!this._meshes.neighbors[e]){const s=Math.floor(this._sizeHint/16);this._meshes.neighbors[e]=new t(r,s)}const i=this._meshes.neighbors[e],n=-u(r)*s,h=-m(r)*s;i.copyLastFrom(this._meshes.self,n,h)}}}}export{g as MultiTileMeshData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass s{}export{s as AMeshFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{createMeshWriterGroupFromSchema as t}from\"../shaderGraph/techniques/mesh/createMeshWriter.js\";class e{constructor(){this._defaultResult=null,this._backgroundFillResult=null}static async from(s,r,l,u){const n=new e;return n.setDefault(await t(s,r,l.meshes,u)),n}size(){return 1}getDefault(){return this._defaultResult}setDefault(t){this._defaultResult=t}getBackgroundFill(){return this._backgroundFillResult}setBackgroundFill(t){this._backgroundFillResult=t}match(t,e){const s=this.doMatch(t,e)||this.getDefault();if(s&&s.length>0){const t=this.getBackgroundFill();if(t)return[...t,...s]}return s}getSortKey(t,e){return 0}doMatch(t,e){return null}async fetchResources(t,e){}}export{e as FeatureMatcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{createMeshWriterGroupFromSchema as t}from\"../shaderGraph/techniques/mesh/createMeshWriter.js\";import{FeatureMatcher as e}from\"./Matcher.js\";class s extends e{static async fromDictionaryRenderer(t,e,r){return new s(t,e,r)}constructor(t,e,s){super(),this._storage=t,this._schema=e,this._viewParams=s,this._hashToGroup=new Map}get fieldMap(){return this._schema.fieldMap}async fetchResources(t,e){const s=e.getCursor(),r=[];for(;s.next();)r.push(this._updateMeshWriterGroup(t,s));await Promise.all(r)}match(t,e){const s=t.getAttributeHash();return this._hashToGroup.get(s)}async _updateMeshWriterGroup(e,s){const r=s.readLegacyFeatureForDisplay(),a=s.getAttributeHash();if(this._hashToGroup.has(a))return;this._hashToGroup.set(a,null);const h=await e.fetchDictionaryResourceImmediate({type:\"dictionary-request\",feature:r});if(!h)return;const i=await t(this._storage,e,h.meshes,this._viewParams);this._hashToGroup.set(a,i)}}export{s as DictionaryMatcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{createMeshWriterGroupFromSchema as t}from\"../shaderGraph/techniques/mesh/createMeshWriter.js\";import{FeatureMatcher as e}from\"./Matcher.js\";class s extends e{constructor(t,e){super(),this._intervals=[],this._isMaxInclusive=e,this._field=t}static async fromIntervalSchema(e,i,a,r){const n=await e.createComputedField(a),l=new s(n,a.isMaxInclusive);await Promise.all(a.intervals.map((async s=>{const a=await t(e,i,s.meshes,r);l.add(s,a)})));const c=await t(e,i,a.defaultSymbol,r);l.setDefault(c);const u=await t(e,i,a.backgroundFill,r);return l.setBackgroundFill(u),l}add(t,e){this._intervals.push({interval:t,result:e}),this._intervals.sort(((t,e)=>t.interval.min-e.interval.min))}size(){return super.size()+this._intervals.length}doMatch(t,e){const s=this._field?.read(t,e);if(null==s||isNaN(s)||s===1/0||s===-1/0)return null;for(let i=0;i<this._intervals.length;i++){const{interval:t,result:e}=this._intervals[i],a=s>=t.min,r=this._isMaxInclusive?s<=t.max:s<t.max;if(a&&r)return e}return null}}export{s as IntervalMatcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{createMeshWriterGroupFromSchema as e}from\"../shaderGraph/techniques/mesh/createMeshWriter.js\";import{FeatureMatcher as a}from\"./Matcher.js\";class s extends a{static async fromLabelSchema(a,r,t,l){const c=t.classes.map((async s=>{const t=await e(a,r,s.meshes,l);return{minScale:s.minScale,maxScale:s.maxScale,meshes:t,expression:null,where:await a.createWhereClause(s.where)}})),i=await Promise.all(c);return new s(i)}constructor(e){super(),this._labels=e}match(e,a){if(!this._labels.length)return null;const s=this._getLabels(a.$view.scale),r=[];for(const t of s)t.where&&!t.where(e)||r.push(...t.meshes);return r}_getLabels(e){return this._labels.filter((a=>this._validForTileScale(a,e)))}_validForTileScale(e,a){const s=a-a/4,r=a+a/2;return(!e.minScale||e.minScale>=s)&&(!e.maxScale||e.maxScale<=r)}}export{s as LabelMatcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{createMeshWriterGroupFromSchema as e}from\"../shaderGraph/techniques/mesh/createMeshWriter.js\";import{FeatureMatcher as t}from\"./Matcher.js\";class l extends t{constructor(e,t){super(),this._defaultSymbolSortKey=0,this._nullResult=null,this._resultsMap=new Map,this._fields=[],this._fields=e,this._separator=t||\"\"}static async fromMatcherSchema(t,s,r,i){const u=r.expression?[t.createComputedField({expression:r.expression})]:[r.field?t.createComputedField({field:r.field}):null,r.field2?t.createComputedField({field:r.field2}):null,r.field3?t.createComputedField({field:r.field3}):null],a=(await Promise.all(u)).filter((e=>!!e)),o=new l(a,r.fieldDelimiter),n=await e(t,s,r.defaultSymbol,i);o.setDefault(n);const d=await e(t,s,r.backgroundFill,i);return o.setBackgroundFill(d),await Promise.all(r.map.map((async(l,r)=>{const u=await e(t,s,l.symbol,i);\"<Null>\"===l.value?o.setNullResult(u):o.add(l.value,u,r+1)}))),o}setNullResult(e){this._nullResult=e}getSortKey(e,t){const l=this._getValueFromFields(e,t);if(null==l||\"\"===l||\"<Null>\"===l)return 0;const s=this._resultsMap.get(l.toString());return s?s.sortKey:this._defaultSymbolSortKey}add(e,t,l){this._resultsMap.set(e.toString(),{meshWriters:t,sortKey:l}),this._defaultSymbolSortKey=Math.max(this._defaultSymbolSortKey,l+1)}size(){return super.size()+this._resultsMap.size}doMatch(e,t){const l=this._getValueFromFields(e,t);if(null!==this._nullResult&&(null==l||\"\"===l||\"<Null>\"===l))return this._nullResult;if(null==l)return null;const s=l.toString();return this._resultsMap.get(s)?.meshWriters}_getValueFromFields(e,t){const l=[];for(const s of this._fields){const r=s.read(e,t);null==r||\"\"===r?l.push(\"<Null>\"):l.push(r)}return l.join(this._separator)}}export{l as MapMatcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{DictionaryMatcher as e}from\"./DictionaryMatcher.js\";import{IntervalMatcher as t}from\"./IntervalMatcher.js\";import{LabelMatcher as r}from\"./LabelMatcher.js\";import{MapMatcher as s}from\"./MapMatcher.js\";import{FeatureMatcher as a}from\"./Matcher.js\";async function c(c,u,i,h){switch(i.type){case\"simple\":case\"heatmap\":case\"dot-density\":case\"pie-chart\":return a.from(c,u,i,h);case\"interval\":return t.fromIntervalSchema(c,u,i,h);case\"dictionary\":return e.fromDictionaryRenderer(c,i,h);case\"label\":return r.fromLabelSchema(c,u,i,h);case\"map\":return s.fromMatcherSchema(c,u,i,h);case\"subtype\":return n.fromSubtypes(c,u,i,h);case\"cluster\":return o.fromClusterSchema(c,u,i,h);default:throw new Error(\"Impl\")}}class n extends a{constructor(e,t){super(),this._subMatchers=e,this._subtypeField=t}static async fromSubtypes(e,t,r,s){const a=new Map,o=[];for(const n in r.renderers){const u=parseInt(n,10),i=c(e,t,r.renderers[n],s).then((e=>a.set(u,e)));o.push(i)}return await Promise.all(o),new n(a,r.subtypeField)}match(e,t){const r=e.readAttribute(this._subtypeField),s=this._subMatchers.get(r);return s?s.match(e,t):null}}class o extends a{static async fromClusterSchema(e,t,r,s){const[a,n]=await Promise.all([c(e,t,r.feature,s),c(e,t,r.cluster,s)]);return new o(a,n)}constructor(e,t){super(),this._featureMatcher=e,this._clusterMatcher=t}match(e,t){return 1===e.readAttribute(\"cluster_count\")?this._featureMatcher.match(e,t):this._clusterMatcher.match(e,t)}}export{o as ClusterMatcher,n as SubtypeMatcher,c as createMatcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{AMeshFactory as e}from\"./MeshFactory.js\";import{createMatcher as t}from\"../../util/createMatcher.js\";class s extends e{static async create(e,o,r,c){const i=await t(e,o,r.symbology,c),a=r.labels?await t(e,o,r.labels,c):null;return new s(i,a)}constructor(e,t){super(),this._symbology=e,this._labels=t}destroy(){}async enqueueMatcherRequests(e,t){await Promise.all([this._symbology.fetchResources(e,t),this._labels?.fetchResources(e,t)])}enqueueWriterRequests(e,t,s){const o=this._symbology.match(t,s);if(o){for(const r of o)r.enqueueRequest(e,t,s);if(this._labels){const o=this._labels.match(t,s);if(!o)return;for(const r of o)r.enqueueRequest(e,t,s)}}}write(e,t,s,o,r){const c=this._symbology.match(s,o);if(!c)return;for(const i of c)i.write(e,t,s,o,r);if(e.entityRecordCount()>=1&&this._labels){const i=this._labels.match(s,o);if(!i)return;for(const a of i)a.setReferences(c),a.write(e,t,s,o,r)}}getSortKey(e,t){return this._symbology.getSortKey(e,t)}}export{s as FeatureMeshFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{QueueProcessor as s}from\"../../../support/QueueProcessor.js\";class e{constructor(e){this._outstandingMessages=[],this._queue=new s({concurrency:e.concurrency,process:s=>e.process(s)})}async push(s){if(s.end)return await Promise.all(this._outstandingMessages),await this._queue.push(s),void(this._outstandingMessages=[]);const e=this._queue.push(s);return this._outstandingMessages.push(e),e}}export{e as ProcessorTileMessageQueue};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{DictionaryValue as t}from\"../support/DictionaryValue.js\";class s{static async create(i,e){if(\"count\"===e.statisticType){const i=new t(1);return new s(e.name,e.alias,e.type,e.statisticType,i)}const a=await i.createComputedField({expression:e.onStatisticExpression?.expression,field:e.onStatisticField});return new s(e.name,e.alias,e.type,e.statisticType,a)}constructor(t,s,i,e,a){this.name=t,this.alias=s,this.type=i,this.statisticType=e,this.computed=a}}export{s as ComputedAggregateField};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.subscription=t,this.handledChunks=new Set}destroy(){}}class e{constructor(t,e){this._source=t,this._attributeStore=e,this._sendStates=new Map}destroy(){}get enablePixelBuffering(){return!0}onSubscribe(t){const e=this.createState(t);this._sendStates.set(t.key.id,e),this.updateChunks()}onUnsubscribe(t){this._sendStates.get(t.key.id)?.destroy(),this._sendStates.delete(t.key.id)}invalidate(){const t=Array.from(this._sendStates.values());this._sendStates.clear();for(const e of t)e.destroy(),this.onSubscribe(e.subscription)}invalidateAttributeData(){}getFeatureObjectIdsForAggregate(t){throw new Error(\"InternalError: AggregateId lookup not supported\")}getDisplayIds(t){return this.displayMap(t,(t=>t),(t=>t))}getDisplayAndObjectIds(t){return this.displayMap(t,(t=>t),((t,e,s)=>[t,s]))}afterUpdateChunks(){}}export{e as AProcessorStrategy,t as ASendState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Evented.js\";import{create as t}from\"../../../../../geometry/support/aaBoundingBox.js\";import{getBoundsOptimizedGeometry as r}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{optimizedFeatureQueryEngineAdapter as a}from\"../../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";import{QueryEngine as s}from\"../../../../../layers/graphics/data/QueryEngine.js\";import{AProcessorStrategy as o}from\"./AProcessorStrategy.js\";class i extends o{constructor(t,r,s,o){super(t,r),this.spatialReference=s,this.aggregateFields=o,this.events=new e,this.featureAdapter=a}get aggregateQueryEngine(){return this._aggregateQueryEngine||(this._aggregateQueryEngine=new s({featureStore:this,fieldsIndex:this._metadata.fieldsIndex,geometryType:this._metadata.geometryType,objectIdField:this._metadata.objectIdField,spatialReference:this.spatialReference})),this._aggregateQueryEngine}removeChunks(e){}forEach(e){return this.forEachAggregateWorldSpace(e)}forEachInBounds(e,t){}forEachBounds(e,a){const s=t();for(const t of e){const e=r(s,t.geometry,!1,!1);e&&a(e)}}}export{i as AAggregateStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i,t,s,r){this.subscription=e,this.reader=i,this.clear=t,this.end=s,this.debugInfo=r,this.type=\"append\"}get id(){return this.subscription.tile.id}createMessage(e,i,t){return{type:\"append\",clear:this.clear,id:this.id,append:e,end:this.end,debugInfo:this.debugInfo,subscriptionVesrion:this.subscription.version,version:i,attributeEpoch:t}}}class i{constructor(e,i,t,s,r){this.subscription=e,this.reader=i,this.remove=t,this.end=s,this.debugInfo=r,this.type=\"update\"}get id(){return this.subscription.tile.id}createMessage(e,i,t){return{type:\"update\",id:this.id,modify:e,debugInfo:this.debugInfo,remove:this.remove,version:i,subscriptionVesrion:this.subscription.version,end:this.end,attributeEpoch:t}}}export{e as FeatureTileAppendMessage,i as FeatureTileUpdateMessage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{convertFromFeatures as e,convertFromFeatureSet as t,getQuantizedArea as r}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{hasGeometry as s}from\"../../../../../layers/graphics/OptimizedFeature.js\";import i from\"../../../../../layers/support/FieldsIndex.js\";import{FeatureSetReader as n}from\"./FeatureSetReader.js\";class u extends n{static fromFeatures(t,r){const{objectIdField:s,geometryType:i}=r,n=e([],t,i,!1,!1,s);for(let e=0;e<n.length;e++)n[e].displayId=t[e].displayId;return u.fromOptimizedFeatures(n,r)}static fromFeatureSet(e,r){const s=t(e,r.objectIdField);return u.fromOptimizedFeatureSet(s,r)}static fromOptimizedFeatureSet(e,t){const r=u.fromOptimizedFeatures(e.features,t);return r._exceededTransferLimit=e.exceededTransferLimit,r._transform=e.transform,r._fieldsIndex=new i(e.fields),r}static fromOptimizedFeatures(e,t,r){const s=new u(e,t);return s._fieldsIndex=t.fieldsIndex,s._transform=r,s}static empty(e){return new u([],e)}constructor(e,t){super(t),this._exceededTransferLimit=!1,this._featureIndex=-1,this._fieldsIndex=null,this._geometryType=t.geometryType,this._features=e}get fields(){return this._fieldsIndex}get geometryType(){return this._geometryType}get hasFeatures(){return!!this._features.length}get hasNext(){return this._featureIndex+1<this._features.length}get exceededTransferLimit(){return this._exceededTransferLimit}get hasZ(){return!1}get hasM(){return!1}get _current(){return this._features[this._featureIndex]}removeIds(e){const t=new Set(e);this._features=this._features.filter((e=>!(null!=e.objectId&&t.has(e.objectId))))}getSize(){return this._features.length}getCursor(){return this.copy()}getInTransform(){return this._transform}getAttributeHash(){let e=\"\";for(const t in this._current.attributes)e+=this._current.attributes[t];return e}getIndex(){return this._featureIndex}setIndex(e){this._featureIndex=e}getObjectId(){return this._current?.objectId}getDisplayId(){return this._current.displayId}setDisplayId(e){this._current.displayId=e}copy(){const e=new u(this._features,this.metadata);return this.copyInto(e),e}next(){for(;++this._featureIndex<this._features.length&&!this._getExists(););return this._featureIndex<this._features.length}readGeometryArea(){return s(this._current)?r(this._current.geometry,2):0}_readX(){return s(this._current)?this._current.geometry.coords[0]:0}_readY(){return s(this._current)?this._current.geometry.coords[1]:0}_readGeometry(){return s(this._current)?this._current.geometry??null:null}_readServerCentroid(){return this._current.centroid}_readAttribute(e,t){if(!this._fieldsIndex){const t=this._current.attributes[e];if(void 0!==t)return t;const r=e.toLowerCase();for(const e in this._current.attributes)if(e.toLowerCase()===r)return this._current.attributes[e];return}const r=this._fieldsIndex.get(e);if(!r)return;let s=this._current.attributes[r.name];return null==s?s:(\"esriFieldTypeTimestampOffset\"===this.fields.get(e)?.type&&(s=this.parseTimestampOffset(s)),t&&this.fields.isDateField(e)?new Date(s):s)}_readAttributes(){return this._current.attributes}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._transform=this._transform,e._fieldsIndex=this._fieldsIndex}}export{u as FeatureSetReaderJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../../../geometry.js\";import{getGeohashBounds as e}from\"../../../../../geohash/geohashUtils.js\";import{unquantizeOptimizedGeometry as t,convertToFeature as s}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as r}from\"../../../../../layers/graphics/OptimizedFeature.js\";import{checkProjectionSupport as o}from\"../../../../../layers/graphics/data/projectionSupport.js\";import{ComputedAggregateField as a}from\"../aggregation/ComputedAggregateField.js\";import{AAggregateStrategy as i}from\"./AAggregateStrategy.js\";import{ASendState as n}from\"./AProcessorStrategy.js\";import{FeatureTileAppendMessage as l,FeatureTileUpdateMessage as d}from\"../sources/FeatureSourceMessage.js\";import{ComputedAttributeStorage as c}from\"../support/ComputedAttributeStorage.js\";import u from\"../support/FeatureFilter.js\";import{FeatureMetadata as p}from\"../support/FeatureMetadata.js\";import{FeatureSetReaderJSON as f}from\"../support/FeatureSetReaderJSON.js\";import h from\"../../../tiling/TileKey.js\";import m from\"../../../../../geometry/SpatialReference.js\";class g extends n{constructor(e,t){super(e),this.bins=new Map,this.done=!1,this._store=t}reset(){this.destroy(),this.bins.clear(),this.done=!1,this.handledChunks.clear()}destroy(){const e=this.subscription.tile.key.level;for(const t of this.bins.values()){const s=t.cachedFeature?.objectId;null!=s&&this._store.releaseDisplayIdForObjectId(`${s}.${e}`)}}*featuresWorldSpace(){for(const e of this.bins.values()){const s=e.cachedFeature;if(s){const e=s.clone();e.geometry&&t(e.geometry,e.geometry,!1,!1,this.subscription.tile.transform),yield e}}}getGeohashBounds(t,s){const r=this.subscription.tile;return e(r.extent,r.resolution,s,t)}}class y extends i{static async create(e,t,s,r,i){const n=new c({spatialReference:t}),l=e.fixedBinLevel,d=await Promise.all(e.fields.map((async e=>a.create(n,e)))),p=e.featureFilter?await u.create({geometryType:s.metadata.geometryType,hasM:!1,hasZ:!1,timeInfo:s.metadata.timeInfo,fieldsIndex:s.metadata.fieldsIndex,spatialReference:t,filterJSON:e.featureFilter}):null;return await o(t,m.WGS84),new y({fields:d,geohashLevel:l,spatialReference:t,featureFilter:p,timeZone:i},e.fields,s,r)}constructor(e,t,s,r){super(s,r,e.spatialReference,e.fields),this._indexOptions=e,this._metadata=new p({geometryType:\"esriGeometryPolygon\",objectIdField:\"aggregateId\",fields:t,globalIdField:null,spatialReference:s.metadata.spatialReference,subtypeField:null,subtypes:null,timeInfo:null,timeReferenceUnknownClient:null,typeIdField:null,types:null})}createState(e){return new g(e,this._attributeStore)}async*applyOverride(e){for(const t of this._sendStates.values()){t.reset();const e=new l(t.subscription,f.empty(this._source.metadata),!0,!1,{});yield e}}displayMap(e,t,s){const r=new Map(e.map((e=>[t(e),e]))),o=[];for(const a of this._sendStates.values())for(const e of a.featuresWorldSpace()){const{objectId:t,displayId:a}=e,i=r.get(t);if(null!=i){const e=s(a,i,t);o.push(e),r.delete(t)}}return o}getDisplayFeatures(e){const t=new Set(e),r=new Set,o=[];for(const a of this._sendStates.values())for(const e of a.featuresWorldSpace())t.has(e.displayId)&&!r.has(e.objectId)&&(e.geometry&&o.push({...s(e,this._metadata.geometryType,!1,!1),displayId:e.displayId}),r.add(e.objectId));return{features:[],aggregates:o}}getFeatureObjectIdsForAggregate(e){for(const t of this._sendStates.values())for(const s of t.bins.values())if(s.id===e)return Array.from(s.objectIds);return[]}async*updateChunks(){if(this._source.chunks().length)for(const e of this._sendStates.values())yield*this._update(e,this._source)}forEachAggregateWorldSpace(e){for(const t of this._sendStates.values())for(const s of t.featuresWorldSpace())e(s)}async*_update(e,t){const{handledChunks:s,subscription:o,bins:a}=e,{spatialReference:i,geohashLevel:n}=this._indexOptions,l=o.tile;if(e.done)return;for(const r of t.chunks()){if(s.has(r.chunkId))continue;s.add(r.chunkId);const t=r.queryInfo;if(\"tileId\"in t){const e=new h(t.tileId);if(e.level!==l.level||e.world!==l.key.world)continue}const o=r.getGeohashIndex(this._indexOptions),d=e.getGeohashBounds(i,n);null!=d&&o.putBins(a,d)}const c=[],u=o.tile.transform,p=o.tile.key.level;for(const d of a.values()){if(d.cachedFeature)d.cachedFeature.attributes=d.getAttributes();else{const e=d.getGeometry(this.spatialReference,u),t=new r(e,d.getAttributes(),null);e||(t.centroid=d.getGeometryCentroid(this.spatialReference,u)),t.objectId=d.id,t.displayId=this._attributeStore.createDisplayIdForObjectId(`${t.objectId}.${p}`),d.cachedFeature=t}c.push(d.cachedFeature)}this.events.emit(\"changed\"),e.done=!t.updateTracking.updating;const m=f.fromOptimizedFeatures(c,this._metadata,u),g=m.getCursor(),y=e.subscription.tile.createArcadeEvaluationOptions(this._indexOptions.timeZone);for(;g.next();)this._attributeStore.setAttributeData(g.getDisplayId(),g,y);const b=new d(e.subscription,m,[],e.done,{});yield b}}export{g as BinningState,y as BinningStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isBadArcadeResult as t}from\"../../../arcade/callExpressionWithCursor.js\";const e=Math.PI/180;class s{static create(t){return new s(t.map((t=>i(t))))}constructor(t){this._statistics=t}values(){return this._statistics.values()}insert(t,e){for(const s of this._statistics)s.insert(t,e)}merge(t){for(let e=0;e<this._statistics.length;e++){const s=this._statistics[e],i=t._statistics[e];if(s.field.name!==i.field.name)throw new Error(\"InternalError: Tried to merge incompatible statistics\");s.merge(i)}}clone(){return new s(this._statistics.map((t=>t.clone())))}}function i(t){switch(t.statisticType){case\"min\":return new r(t);case\"max\":return new u(t);case\"avg\":return new c(t);case\"avg_angle\":return new h(t);case\"sum\":case\"count\":return new a(t);case\"mode\":return new o(t)}}class n{constructor(t){this.field=t}insert(e,s){if(!this.field.computed)return;const i=this.field.computed.read(e,s);t(i)||this._insertValue(i)}}class r extends n{constructor(){super(...arguments),this.type=\"min\",this.value=Number.MAX_VALUE}_insertValue(t){this.value=Math.min(this.value,t)}merge(t){this.value=Math.min(this.value,t.value)}clone(){const t=new r(this.field);return t.value=this.value,t}}class u extends n{constructor(){super(...arguments),this.type=\"max\",this.value=Number.MIN_VALUE}_insertValue(t){this.value=Math.max(this.value,t)}merge(t){this.value=Math.max(this.value,t.value)}clone(){const t=new u(this.field);return t.value=this.value,t}}class a extends n{constructor(){super(...arguments),this.type=\"sum\",this.value=0}_insertValue(t){this.value+=t}merge(t){this.value+=t.value}clone(){const t=new a(this.field);return t.value=this.value,t}}class c extends n{constructor(){super(...arguments),this.type=\"avg\",this._total=0,this._count=0}get value(){return this._total/this._count}_insertValue(t){this._total+=t,this._count+=1}merge(t){this._total+=t._total,this._count+=t._count}clone(){const t=new c(this.field);return t._total=this._total,t._count=this._count,t}}class h extends n{constructor(){super(...arguments),this.type=\"avg_angle\",this._x=0,this._y=0,this._count=0}get value(){const t=this._x/this._count,e=this._y/this._count,s=180/Math.PI;return Math.atan2(e,t)*s}_insertValue(t){this._x=this._x+Math.cos(t*e),this._y=this._y+Math.sin(t*e),this._count+=1}merge(t){this._x+=t._x,this._y+=t._y,this._count+=t._count}clone(){const t=new h(this.field);return t._x=this._x,t._y=this._y,t._count=this._count,t}}class o extends n{constructor(){super(...arguments),this._frequencies=new Map}get value(){let t,e=0;for(const[s,i]of this._frequencies.entries())i>e&&(e=i,t=s);return t}_insertValue(t){const e=this._frequencies.get(t);null!=e?this._frequencies.set(t,e+1):this._frequencies.set(t,1)}merge(t){for(const[e,s]of t._frequencies.entries()){const t=this._frequencies.get(e);null!=t?this._frequencies.set(e,t+s):this._frequencies.set(e,s)}}clone(){const t=new o(this.field);return t._frequencies=new Map(this._frequencies),t}}export{s as AccumulatedStatistics};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{quantizeX as t,quantizeY as r,quantizeOptimizedGeometry as e}from\"../../../../../layers/graphics/featureConversionUtils.js\";import s from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{AccumulatedStatistics as i}from\"./AccumulatedStatistics.js\";class o{static createId(t,r){return`${t}.${r}`}static create(t,r,e,s){return new o(t,r,i.create(e),s)}constructor(t,r,e,s){this.gridX=t,this.gridY=r,this._statistics=e,this._worldUnitsPerCell=s,this._count=0,this._xWorldTotal=0,this._yWorldTotal=0,this._objectIds=new Set}get id(){return o.createId(this.gridX,this.gridY)}get count(){return this._count}get statistics(){return this._statistics}get objectIds(){return this._objectIds}get firstObjectId(){return this._objectIds.values().next().value}get centroidXWorld(){return this._xWorldTotal/this._count}get centroidYWorld(){return this._yWorldTotal/this._count}clone(){const t=new o(this.gridX,this.gridY,this._statistics.clone(),this._worldUnitsPerCell);return t._count=this._count,t._xWorldTotal=this._xWorldTotal,t._yWorldTotal=this._yWorldTotal,t._firstFeatureAttributes=this._firstFeatureAttributes,t._objectIds=new Set(this._objectIds),t}insert(t,r,e,s){0===this._count?this._firstFeatureAttributes=t.readAttributes():this._firstFeatureAttributes=null,this._count+=1,this._xWorldTotal+=e,this._yWorldTotal+=s,this._statistics.insert(t,r),this._objectIds.add(t.getObjectId())}merge(t){if(0!==t._count){this._count+=t._count,this._firstFeatureAttributes=t._firstFeatureAttributes,this._xWorldTotal+=t._xWorldTotal,this._yWorldTotal+=t._yWorldTotal,this._statistics.merge(t._statistics);for(const r of t._objectIds.values())this._objectIds.add(r)}}getCentroidX(r){return null==r?this.centroidXWorld:t(r,this.centroidXWorld)}getCentroidY(t){return null==t?this.centroidYWorld:r(t,this.centroidYWorld)}getCentroid(t){const r=new s([],[this.centroidXWorld,this.centroidYWorld]);if(null!=t){const i=new s;return e(i,r,!1,!1,\"esriGeometryPoint\",t)}return r}getGeometricCentroid(t){const r=this.gridX*this._worldUnitsPerCell+.5*this._worldUnitsPerCell,i=this.gridY*this._worldUnitsPerCell+.5*this._worldUnitsPerCell,o=new s([],[r,i]);if(null!=t){const r=new s;return e(r,o,!1,!1,\"esriGeometryPoint\",t)}return o}getAttributes(){const t={aggregateId:this.id};for(const r of this._statistics.values())t[r.field.name]=r.value;return null!=this._firstFeatureAttributes?{...t,...this._firstFeatureAttributes}:t}}export{o as GridCell};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e,inchesPerMeter as t}from\"../../../../../core/unitUtils.js\";import{tileSize as i}from\"../../../engine/webgl/definitions.js\";import{GridCell as s}from\"./GridCell.js\";const o=96;function l(i,s){return e(i)*t*o/s}class r{constructor(e){this._options=e,this._cells=new Map,this._pixelsPerMapUnit=l(e.spatialReference,e.scale)}insert(e,t){const i=e.getCursor(),s={$view:{scale:this._options.scale,timeZone:this._options.timeZone}};for(;i.next();)this._insertFeature(i,s,t)}putCellsInBounds(e,t){const[i,s,o,l]=t,r=Math.floor(i*this._pixelsPerMapUnit/this._options.cellSize),n=Math.floor(s*this._pixelsPerMapUnit/this._options.cellSize),c=Math.ceil(o*this._pixelsPerMapUnit/this._options.cellSize),p=Math.ceil(l*this._pixelsPerMapUnit/this._options.cellSize);for(let a=n;a<=p;a++)for(let t=r;t<=c;t++){const i=`${t}.${a}`,s=this._cells.get(i);if(!s)continue;const o=e.get(s.id);o?s&&!e.has(s.id)&&o.merge(s):e.set(s.id,s.clone())}}putCells(e){for(const t of this._cells.values()){const i=e.get(t.id);i?i.merge(t):e.set(t.id,t.clone())}}_insertFeature(e,t,s){const{featureFilter:o}=this._options;if(null!==o&&!o.check(e))return;let l=0,r=0;if(\"esriGeometryPoint\"===e.geometryType)l=e.readXWorldSpace(),r=e.readYWorldSpace();else{if(s){const t=e.readCentroidForDisplay();if(null==t)return;const[s,o]=t.coords;if(s<0||s>i||o<0||o>i)return}const t=e.readCentroidWorldSpace();if(null==t)return;l=t.coords[0],r=t.coords[1]}const n=l*this._pixelsPerMapUnit,c=r*this._pixelsPerMapUnit,p=Math.floor(n/this._options.cellSize),a=Math.floor(c/this._options.cellSize);this._getCellOrCreate(p,a).insert(e,t,l,r)}_getCellOrCreate(e,t){const i=s.createId(e,t);let o=this._cells.get(i);if(!o){const l=1*this._options.cellSize/this._pixelsPerMapUnit;o=s.create(e,t,this._options.fields,l),this._cells.set(i,o)}return o}}export{r as GridSpatialIndex,l as pixelsPerMapUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass s{constructor(s,t){this.inner=s,this.displayId=t}}export{s as WithDisplayId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{convertToFeature as e}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as t}from\"../../../../../layers/graphics/OptimizedFeature.js\";import s from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{tileSize as i}from\"../../../engine/webgl/definitions.js\";import{ComputedAggregateField as r}from\"../aggregation/ComputedAggregateField.js\";import{GridCell as n}from\"../aggregation/GridCell.js\";import{pixelsPerMapUnit as a}from\"../aggregation/GridSpatialIndex.js\";import{AAggregateStrategy as l}from\"./AAggregateStrategy.js\";import{ASendState as o}from\"./AProcessorStrategy.js\";import{WithDisplayId as d}from\"./support/WithDisplayId.js\";import{FeatureTileAppendMessage as c}from\"../sources/FeatureSourceMessage.js\";import{ComputedAttributeStorage as u}from\"../support/ComputedAttributeStorage.js\";import h from\"../support/FeatureFilter.js\";import{FeatureMetadata as p}from\"../support/FeatureMetadata.js\";import{FeatureSetReaderJSON as f}from\"../support/FeatureSetReaderJSON.js\";import g from\"../../../tiling/TileKey.js\";const _=128;class m extends o{constructor(e){super(e),this.didSend=!1,this.done=!1}}class y{constructor(e,t,s,i,r){this._level=e,this._scale=t,this._indexOptions=s,this._clusterRadius=i,this._store=r,this._cells=new Map,this._handledChunks=new Set,this._statistics=new Map,this._clusters=new Map}destroy(){this._clearClusters()}_clearClusters(){for(const e of this._clusters.values())this._store.releaseDisplayIdForObjectId(e.inner.id);this._clusters.clear()}*aggregatesWorldSpace(){for(const e of this._clusters.values()){const s=e.inner.getCentroid(null),i=new t(s,e.inner.getAttributes(),null);i.objectId=e.inner.id,i.displayId=e.displayId,yield i}}clusters(){return this._clusters.values()}updateChunks(e,t){let s=!1;for(const a of e){const e=a.queryInfo;if(\"tileId\"in e){if(new g(e.tileId).level!==this._level)continue}if(!this._handledChunks.has(a.normalizedChunkId)){this._handledChunks.add(a.normalizedChunkId),s=!0;a.getGridIndex({...this._indexOptions,scale:this._scale}).putCells(this._cells)}}const i={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0},r=a(this._indexOptions.spatialReference,this._scale),n=this._indexOptions.cellSize;for(const{subscription:a}of t){const e=a.tile.bounds,t=Math.floor(e[0]*r/n),s=Math.floor(e[1]*r/n),l=Math.ceil(e[2]*r/n),o=Math.ceil(e[3]*r/n);i.xMin=Math.min(i.xMin,t),i.yMin=Math.min(i.yMin,s),i.xMax=Math.max(i.xMax,l),i.yMax=Math.max(i.yMax,o)}return null!=this._lastCellBounds&&i.xMin===this._lastCellBounds.xMin&&i.yMin===this._lastCellBounds.yMin&&i.yMin===this._lastCellBounds.yMin&&i.yMax===this._lastCellBounds.yMax||(s=!0,this._lastCellBounds=i),s&&this._clusterCells(i),s}async updateStatistics(e){let t=!1;for(const s of this._clusters.values())s.inner.count>1&&(t=this._updateAggregateStatistics(this._statistics,s.inner)||t);if(t){const t=Array.from(this._statistics.entries()).map((([e,t])=>({fieldName:e,minValue:t.minValue,maxValue:t.maxValue})));await e.container.updateStatistics(this._level,t)}}createAggregateFeatures(e,r){const n=e.subscription,a=[],l=n.tile.transform;for(const o of this._clusters.values()){let e=o.inner.getCentroidX(l);const r=o.inner.getCentroidY(l),d=n.tile.lod,c=d.wrap?d.worldSize[0]:null,u=1===o.inner.count?o.inner.firstObjectId:o.inner.id,h=o.displayId;if(null!=c)if(1===c){const n=new s([],[e,r]),l=new t(n,o.inner.getAttributes(),null);l.geometry.coords[0]-=i,l.objectId=u,l.displayId=h,a.push(l);const d=new s([],[e,r]),c=new t(d,o.inner.getAttributes(),null);c.geometry.coords[0]+=i,c.objectId=u,c.displayId=h,a.push(c)}else e>i+i/2?e-=c*i:e<-i/2&&(e+=c*i);if(e<i+_&&e>=-_&&r<i+_&&r>=-_){const i=new s([],[e,r]),n=new t(i,o.inner.getAttributes(),null);n.objectId=u,n.displayId=h,a.push(n)}}return f.fromOptimizedFeatures(a,r,n.tile.transform)}_clusterCells(e){let t=Array.from(this._cells.values());t=t.sort(((e,t)=>t.count-e.count));const s=[];for(const n of this._clusters.values())s.push(n.inner.id);this._clusters.clear();const i=this._clusterRadius*(1/a(this._indexOptions.spatialReference,this._scale)),r=1+this._clusterRadius/this._indexOptions.cellSize,l=new Set;for(const a of t){if(l.has(a.id))continue;if(a.gridX<e.xMin||a.gridX>e.xMax||a.gridY<e.yMin||a.gridY>e.yMax)continue;const t=this._store.createDisplayIdForObjectId(a.id),s=new d(a.clone(),t);l.add(a.id),this._clusters.set(a.id,s);const o=a.centroidXWorld,c=a.centroidYWorld;for(let e=a.gridY-r;e<=a.gridY+r;e++)for(let t=a.gridX-r;t<=a.gridX+r;t++){if(e===a.gridY&&t===a.gridX)continue;const r=this._cells.get(n.createId(t,e));if(!r||l.has(r.id))continue;const d=Math.abs(r.centroidXWorld-o),u=Math.abs(r.centroidYWorld-c);d<i&&u<i&&(s.inner.merge(r),l.add(r.id))}}for(const n of s)this._store.releaseDisplayIdForObjectId(n)}_updateAggregateStatistics(e,t){let s=!1;for(const i of t.statistics.values()){if(\"esriFieldTypeString\"===i.field.type)continue;const t=i.value,r=i.field,n=e.get(r.name);if(n){const{minValue:e,maxValue:i}=n,r=Math.min(n.minValue,t),a=Math.max(n.maxValue,t);e===r&&i===a||(n.minValue=r,n.maxValue=a,s=!0)}else e.set(r.name,{minValue:t,maxValue:t}),s=!0}return s}}class S extends l{static async create(e,t,s,i,n,a){const l=new u({spatialReference:s}),o={fields:await Promise.all(t.fields.map((async e=>r.create(l,e)))),spatialReference:s,featureFilter:t.featureFilter?await h.create({geometryType:i.metadata.geometryType,hasM:!1,hasZ:!1,timeInfo:i.metadata.timeInfo,fieldsIndex:i.metadata.fieldsIndex,spatialReference:s,filterJSON:t.featureFilter}):null,cellSize:t.clusterRadius/4,timeZone:a};return new S(e,t.clusterRadius,o,t.fields,i,n)}constructor(e,t,s,i,r,n){super(r,n,s.spatialReference,s.fields),this._connection=e,this._clusterRadius=t,this._indexOptions=s,this._cellsPerScale=new Map,this._metadata=new p({geometryType:\"esriGeometryPoint\",objectIdField:\"aggregateId\",fields:[...i,...this._source.metadata.fieldsIndex.fields,{name:\"aggregateId\",alias:\"aggregateId\",type:\"esriFieldTypeOID\"}],globalIdField:null,spatialReference:r.metadata.spatialReference,subtypeField:null,subtypes:null,timeInfo:null,timeReferenceUnknownClient:null,typeIdField:null,types:null})}get enablePixelBuffering(){return!1}invalidate(){super.invalidate();for(const e of this._cellsPerScale.values())e.destroy();this._cellsPerScale.clear()}onSubscribe(e){super.onSubscribe(e),this._requiredLevel=e.tile.level,this._requiredScale=e.tile.scale}createState(e){return new m(e)}async*applyOverride(e){for(const t of this._cellsPerScale.values())t.destroy();this._cellsPerScale.clear();for(const t of this._sendStates.values())t.done=!1}displayMap(e,t,s){const i=new Map(e.map((e=>[t(e),e]))),r=[],n=this._getClusterState(this._requiredLevel,this._requiredScale);for(const a of n.clusters()){const e=i.get(a.inner.id);if(null==e){if(1===a.inner.count){const e=i.get(a.inner.firstObjectId);if(null!=e){const t=s(a.displayId,e,a.inner.firstObjectId);r.push(t),i.delete(a.inner.firstObjectId)}}}else{const t=s(a.displayId,e,a.inner.id);r.push(t),i.delete(a.inner.id)}}return r}getDisplayFeatures(t){const s=new Set(t),i=new Set,r=[],n=[],a=this._getClusterState(this._requiredLevel,this._requiredScale);for(const l of a.aggregatesWorldSpace())if(s.has(l.displayId)&&!i.has(l.displayId)){const t=e(l,this._metadata.geometryType,!1,!1);if(i.add(l.displayId),1===t.attributes.cluster_count){r.push({...t,displayId:l.displayId});continue}n.push({...t,displayId:l.displayId})}return{features:r,aggregates:n}}getFeatureObjectIdsForAggregate(e){const t=this._getClusterState(this._requiredLevel,this._requiredScale);for(const s of t.clusters())if(s.inner.id===e)return Array.from(s.inner.objectIds);return[]}async*updateChunks(){const e=this._source.chunks();if(!e.length)return;const t=this._getClusterState(this._requiredLevel,this._requiredScale),s=Array.from(this._sendStates.values()).filter((e=>e.subscription.tile.level===this._requiredLevel));if(t.updateChunks(e,s)||!this._source.updateTracking.updating)for(const n of s)n.subscription.tile.level===this._requiredLevel&&(n.didSend=!1,n.done=!1);const i=Array.from(this._sendStates.values()).filter((e=>e.done)).map((e=>e.subscription.tile.key)),r=new Set(i);for(const n of this._sendStates.values()){if(this._source.updateTracking.updating){if(i.some((e=>e.containsChild(n.subscription.tile.key))))continue;if(n.subscription.tile.key.getChildKeys().every((e=>r.has(e))))continue}n.didSend||n.subscription.tile.level!==this._requiredLevel||(n.didSend=!0,yield*this._update(n,t,this._source))}await t.updateStatistics(this._connection)}forEachAggregateWorldSpace(e){if(null==this._requiredLevel||null==this._requiredScale)return;const t=this._getClusterState(this._requiredLevel,this._requiredScale);for(const s of t.aggregatesWorldSpace())e(s)}_getClusterState(e,t){if(null==e||null==t)throw new Error(\"InternalError: Level and scale must be defined\");let s=this._cellsPerScale.get(t);return s||(s=new y(e,t,this._indexOptions,this._clusterRadius,this._attributeStore),this._cellsPerScale.set(t,s)),s}async*_update(e,t,s){if(e.done)return;const i=t.createAggregateFeatures(e,this._metadata);this.events.emit(\"changed\"),e.done=!s.updateTracking.updating;const r=i.getCursor(),n=e.subscription.tile.createArcadeEvaluationOptions(this._indexOptions.timeZone);for(;r.next();)this._attributeStore.setAttributeData(r.getDisplayId(),r,n);const a=new c(e.subscription,i,!0,e.done,{});yield a}}export{m as ClusterState,S as ClusterStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{r as n}from\"../../../../chunks/rbush.js\";import{create as s}from\"../../../../geometry/support/aaBoundingBox.js\";class t{static fromReader(o){const e=[],r=o.copy(),a=s();for(;r.next();){r.getBounds(a)&&e.push(r.getIndex())}const i=n(9,(n=>(r.setIndex(n),{minX:r.getBoundsXMin(),minY:r.getBoundsYMin(),maxX:r.getBoundsXMax(),maxY:r.getBoundsYMax()})));return i.load(e),new t(i)}constructor(n){this._index=n}search(n){const s={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]};return this._index.search(s)}}export{t as FeatureSpatialIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{decodeGeohashXY as t}from\"./geohashUtils.js\";import e from\"../geometry/SpatialReference.js\";import{convertFromPolygon as s,quantizeOptimizedGeometry as o,convertFromPoint as i}from\"../layers/graphics/featureConversionUtils.js\";import r from\"../layers/graphics/OptimizedGeometry.js\";import{project as h}from\"../layers/graphics/data/projectionSupport.js\";import{AccumulatedStatistics as n}from\"../views/2d/layers/features/aggregation/AccumulatedStatistics.js\";class a{static create(t,e,s,o){const i=n.create(t),r=new Array(32);for(let h=0;h<r.length;h++)r[h]=null;return new a(i,e,s,o,r)}constructor(t,e,s,o,i){this._statistics=t,this.xNode=e,this.yNode=s,this.depth=o,this.children=i,this._objectIds=new Set,this._count=0,this._xWorldTotal=0,this._yWorldTotal=0,this._xGeohashTotal=0,this._yGeohashTotal=0,this.next=null}get id(){return`${this.xNode}.${this.yNode}`}get objectIds(){return this._objectIds}clone(){const t=new a(this._statistics.clone(),this.xNode,this.yNode,this.depth,this.children);return t._count=this._count,t._xWorldTotal=this._xWorldTotal,t._yWorldTotal=this._yWorldTotal,t._xGeohashTotal=this._xGeohashTotal,t._yGeohashTotal=this._yGeohashTotal,t.next=this.next,t.cachedFeature=this.cachedFeature,t._objectIds=new Set(this._objectIds),t}insert(t,e,s,o,i,r){this._count+=1,this._xWorldTotal+=e,this._yWorldTotal+=s,this._xGeohashTotal+=o,this._yGeohashTotal+=i,this._statistics.insert(t,r),this._objectIds.add(t.getObjectId())}merge(t){if(0!==t._count){this._count+=t._count,this._xWorldTotal+=t._xWorldTotal,this._yWorldTotal+=t._yWorldTotal,this._xGeohashTotal+=t._xWorldTotal,this._yGeohashTotal+=t._yWorldTotal,this._statistics.merge(t._statistics);for(const e of t._objectIds.values())this._objectIds.add(e)}}getGeometry(t,i){const n=this._getLngLatBounds(),[a,l,c,d]=n,_=h({rings:[[[a,l],[a,d],[c,d],[c,l],[a,l]]]},e.WGS84,t),u=s(new r,_,!1,!1);if(null!=i){return o(new r,u,!1,!1,\"esriGeometryPolygon\",i,!1,!1)}return u}getGeometryCentroid(t,s){const n=this._getLngLatBounds(),[a,l,c,d]=n,_=h({x:(a+c)/2,y:(l+d)/2},e.WGS84,t),u=i(new r,_);if(null!=s){return o(new r,u,!1,!1,\"esriGeometryPoint\",s,!1,!1)}return u}getAttributes(){const t={aggregateId:this.id};for(const e of this._statistics.values())t[e.field.name]=e.value;return t.aggregateCount=this._count,t}_getLngLatBounds(){const e=this.depth,s=Math.ceil(e/2),o=Math.floor(e/2),i=30-(3*s+2*o),r=30-(2*s+3*o),h=this.xNode<<i,n=this.yNode<<r;return t({geohashX:h,geohashY:n},this.depth)}}class l{constructor(t){this._fields=t,this._root=a.create(this._fields,0,0,0)}destroy(){}insert(t,e,s,o,i,r,h){let n=this._root,l=0,c=0,d=0;for(;null!==n;){if(n.insert(t,e,s,o,i,h),l>=r)return;const _=Math.ceil((l+1)/2),u=Math.floor((l+1)/2),g=1-l%2,x=30-(3*_+2*u),y=30-(2*_+3*u),f=(o&7*g+3*(1-g)<<x)>>x,m=(i&3*g+7*(1-g)<<y)>>y,T=f+m*(8*g+4*(1-g));c=c<<3*g+2*(1-g)|f,d=d<<2*g+3*(1-g)|m,null==n.children[T]&&(n.children[T]=a.create(this._fields,c,d,l+1)),l+=1,n=n.children[T]}}putBins(t,e){for(const s of this.getNodes(e)){const e=t.get(s.id);e?e.merge(s):t.set(s.id,s.clone())}}getNodes(t){const e=[],{geohashBounds:s,level:o}=t;let i=this._root;for(;null!==i;){const t=i.depth,r=i.xNode,h=i.yNode;if(t>=o){e.push(i),i=i.next;continue}const n=Math.ceil((t+1)/2),a=Math.floor((t+1)/2),l=1-t%2,c=30-(3*n+2*a),d=30-(2*n+3*a),_=~((1<<c)-1),u=~((1<<d)-1),g=(s.xLL&_)>>c,x=(s.yLL&u)>>d,y=(s.xTR&_)>>c,f=(s.yTR&u)>>d,m=r<<3*l+2*(1-l),T=h<<2*l+3*(1-l),p=m+8*l+4*(1-l),G=T+4*l+8*(1-l),j=Math.max(m,g),W=Math.max(T,x),N=Math.min(p,y),b=Math.min(G,f);let w=null,I=null;for(let e=W;e<=b;e++)for(let t=j;t<=N;t++){const s=t-m+(e-T)*(8*l+4*(1-l)),o=i.children[s];o&&(w||(w=o,w.next=i.next),I&&(I.next=o),I=o,o.next=i.next)}i=w||i.next}return e}}export{a as GeohashCell,l as GeohashTree};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{GeohashTree as e}from\"../../../../../geohash/GeohashTree.js\";import{getGeohash as t}from\"../../../../../geohash/geohashUtils.js\";import{tileSize as r}from\"../../../engine/webgl/definitions.js\";class o{constructor(t){this._options=t,this._tree=new e(t.fields)}insert(e,t){const r=e.getCursor(),o={$view:{scale:0,timeZone:this._options.timeZone}};for(;r.next();)this._insertFeature(r,o,t)}putBins(e,t){this._tree.putBins(e,t)}_insertFeature(e,o,s){const{featureFilter:i,geohashLevel:n,spatialReference:a}=this._options;if(null!==i&&!i.check(e))return;let l=0,c=0;if(\"esriGeometryPoint\"===e.geometryType)l=e.readXWorldSpace(),c=e.readYWorldSpace();else{if(s){const t=e.readCentroidForDisplay();if(null==t)return;const[o,s]=t.coords;if(o<0||o>r||s<0||s>r)return}const t=e.readCentroidWorldSpace();if(null==t)return;l=t.coords[0],c=t.coords[1]}const h=t(l,c,n,a);h&&this._tree.insert(e,l,c,h[0],h[1],n,o)}}export{o as GeohashSpatialIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{quantizeOptimizedGeometry as e,convertToGeometry as r}from\"../../../../../layers/graphics/featureConversionUtils.js\";import t from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{FeatureSetReader as s}from\"./FeatureSetReader.js\";class a extends s{static from(e,r){return new a(e.copy(),r)}constructor(e,r){super(e.metadata),this._currentIndex=-1,this._displayTranslationX=0,this._displayTranslationY=0,this._displayScaleX=1,this._displayScaleY=1,this._reader=e,this._indices=r,this._isPoint=\"esriGeometryPoint\"===e.geometryType}setTransformForDisplay(e){const r=this._reader.getInTransform();if(null==r){const[r,t]=e.scale,[s,a]=e.translate;return this._displayTranslationX=-s/r,this._displayScaleX=1/r,this._displayTranslationY=a/t,this._displayScaleY=1/-t,void(this._displayTransform=e)}const[t,s]=r.scale,[a,i]=r.translate,[d,n]=e.scale,[o,l]=e.translate;if(this._displayScaleX=t/d,this._displayTranslationX=(a-o)/d,this._displayScaleY=s/n,this._displayTranslationY=(-i+l)/n,!this._isPoint&&r)throw new Error(\"InternalError: Relative transformations not supported for non-point features\");this._displayTransform=e}getInTransform(){return this._reader.getInTransform()}get fields(){return this._reader.fields}get hasNext(){return this._currentIndex+1<this._indices.length}getSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const e=new a(this._reader.copy(),this._indices);return e._currentIndex=this._currentIndex,e._displayTransform=this._displayTransform,e._displayTranslationX=this._displayTranslationX,e._displayTranslationY=this._displayTranslationY,e._displayScaleX=this._displayScaleX,e._displayScaleY=this._displayScaleY,e}get contextTimeZone(){return this._reader.contextTimeZone}set contextTimeZone(e){this._reader.contextTimeZone=e}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}next(){for(;this._nextIndex()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}readXForDisplay(){return this._reader.readXForDisplay()*this._displayScaleX+this._displayTranslationX}readYForDisplay(){return this._reader.readYForDisplay()*this._displayScaleY+this._displayTranslationY}readGeometryForDisplay(){const r=this._reader.readGeometryForDisplay();if(!this._displayTransform)return r;const s=new t;return e(s,r,this.hasZ,this.hasM,this.geometryType,this._displayTransform),s.deltaDecode()}readCentroidForDisplay(){const e=this._reader.readCentroidForDisplay()?.clone();if(e){const[r,t]=e.coords;e.coords[0]=r*this._displayScaleX+this._displayTranslationX,e.coords[1]=t*this._displayScaleY+this._displayTranslationY}return e}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}readAttribute(e,r=!1){return this._reader.readAttribute(e,r)}readAttributes(){return this._reader.readAttributes()}joinAttributes(e){return this._reader.joinAttributes(e)}getBounds(e){return this._reader.getBounds(e)}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(e){return this._reader.setDisplayId(e)}setIndex(e){return this._reader.setIndex(e)}getIndex(){return this._reader.getIndex()}readXWorldSpace(){return this._reader.readXWorldSpace()}readYWorldSpace(){return this._reader.readYWorldSpace()}_readX(){return this._reader.readXForDisplay()}_readY(){return this._reader.readYForDisplay()}_readServerCentroid(){return this._reader._readServerCentroid()}readLegacyFeatureForDisplay(){const e=this.readCentroidForDisplay();return{attributes:this.readAttributes(),geometry:this.readLegacyGeometryForDisplay(),centroid:(e&&{x:e.coords[0],y:e.coords[1]})??null}}readLegacyGeometryForDisplay(){const e=this.readGeometryForDisplay();return r(e,this.geometryType,!1,!1)}readGeometryArea(){return this._reader.readGeometryArea()}readGeometryWorldSpace(){return this._reader.readGeometryWorldSpace()}_readGeometry(){return this._reader._readGeometry()}_readAttribute(e,r){throw new Error(\"Error: Should not be called. Underlying _reader should be used instead\")}_readAttributes(){throw new Error(\"Error: Should not be called. Underlying _reader should be used instead\")}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(e){return this.readAttribute(e,!0)}hasField(e){return this._reader.hasField(e)}setField(e,r){return this._reader.setField(e,r)}keys(){return this._reader.keys()}castToText(e=!1){return this._reader.castToText(e)}}export{a as FeatureSetReaderIndirect};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{FeatureSpatialIndex as e}from\"../../../FeatureSpatialIndex.js\";import{GeohashSpatialIndex as t}from\"../../../aggregation/GeohashSpatialIndex.js\";import{GridSpatialIndex as i}from\"../../../aggregation/GridSpatialIndex.js\";import{FeatureSetReaderIndirect as s}from\"../../../support/FeatureSetReaderIndirect.js\";class r{size(){return this.reader.getSize()}get fields(){return this.reader.fields}invalidate(){this._geohashIndex=null,this._geohashIndexHash=null,this._spatialIndex=null,this._gridIndex=null,this._gridIndexHash=null}queryFeaturesInBounds(e){const t=this._getSpatialIndex().search(e);return s.from(this.reader,t)}getGeohashIndex(e){const i=JSON.stringify(e);return i!==this._geohashIndexHash&&(this._geohashIndexHash=i,this._geohashIndex=new t(e),this._geohashIndex.insert(this.reader,this.isTiled)),this._geohashIndex}getGridIndex(e){const t=JSON.stringify(e);return t!==this._gridIndexHash&&(this._gridIndexHash=t,this._gridIndex=new i(e),this._gridIndex.insert(this.reader,this.isTiled)),this._gridIndex}_getSpatialIndex(){return this._spatialIndex||(this._spatialIndex=e.fromReader(this.reader)),this._spatialIndex}}export{r as ASourceChunk};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";import{FeatureSetReaderJSON as r}from\"../../../support/FeatureSetReaderJSON.js\";class t extends e{constructor(e){super(),this.metadata=e,this.chunkId=\"override\",this.normalizedChunkId=\"override\",this.removed=new Set,this.overridenIds=new Set,this._features=[]}get reader(){return r.fromOptimizedFeatures(this._features,this.metadata)}get queryInfo(){return{}}get first(){return!1}get end(){return!1}get isTiled(){return!1}applyOverrides(e){super.invalidate();const{reader:r,removed:t}=e,s=[],d=new Set,o=r.getCursor(),i=new Set(t);for(this.overridenIds.clear();o.next();){const e=o.readOptimizedFeatureWorldSpace(),r=e.objectId;s.push(e),d.add(r),this.overridenIds.add(r),this.removed.delete(r)}for(const n of this._features){const e=n.objectId;i.has(e)||d.has(e)||(s.push(n),this.overridenIds.add(e))}this._features=s;for(const n of d.values())this.removed.delete(n);for(const n of t)this.removed.add(n),this.overridenIds.add(n)}getTileReader(e){if(!this._features.length)return null;const r=this.queryFeaturesInBounds(e.bounds);return r.setTransformForDisplay(e.transform),r}}export{t as OverrideChunk};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ASendState as e,AProcessorStrategy as t}from\"./AProcessorStrategy.js\";import{FeatureTileUpdateMessage as s,FeatureTileAppendMessage as r}from\"../sources/FeatureSourceMessage.js\";import{OverrideChunk as n}from\"../sources/strategies/chunks/OverrideChunk.js\";class a extends e{}class o extends t{constructor(e,t,s){super(e,t),this._timeZone=s,this.handledChunks=new Set,this.handledChunksForIdCreation=new Set,this.handledChunksForAttributeData=new Set,this._streamLayerDeferredObjectIdsToRemove=[]}destroy(){super.destroy();for(const e of this._source.chunks())this._cleanupChunkIds(e)}invalidateAttributeData(){this.handledChunksForAttributeData.clear()}onSubscribe(e){super.onSubscribe(e),this._evalOptions=e.tile.createArcadeEvaluationOptions(this._timeZone)}createState(e){return new a(e)}get aggregateQueryEngine(){return null}displayMap(e,t,s){const r=new Map(e.map((e=>[t(e),e]))),n=[];for(const a of this._source.chunks()){const e=a.reader.getCursor();for(;e.next();){const t=e.getObjectId(),a=e.getDisplayId(),o=r.get(t);if(null!=o){const e=s(a,o,t);n.push(e),r.delete(t)}}}return n}getDisplayFeatures(e){const t=new Set(e),s=new Set,r=[];for(const n of this._source.chunks()){const e=n.reader.getCursor();for(;e.next();){const n=e.getObjectId(),a=e.getDisplayId();t.has(a)&&!s.has(n)&&(r.push({...e.readLegacyFeatureWorldSpace(),displayId:a}),s.add(n))}}return{features:r,aggregates:[]}}async*applyOverride(e){const t=[],r=e.reader.getCursor();for(;r.next();){const e=r.getObjectId();t.push(e);const s=this._attributeStore.createDisplayIdForObjectId(e);r.setDisplayId(s),this._attributeStore.setAttributeData(s,r,this._evalOptions)}const a=this.getDisplayIds(t),o=this.getDisplayIds(e.removed),d=new n(this._source.metadata);d.applyOverrides(e),this.handledChunks.add(d.chunkId),this.handledChunksForAttributeData.add(d.chunkId),this.handledChunksForIdCreation.add(d.chunkId);for(const n of this._sendStates.values())n.handledChunks.add(d.chunkId),yield new s(n.subscription,null,a,!1,d.queryInfo);for(const n of this._sendStates.values()){const e=d.getTileReader(n.subscription.tile);yield new s(n.subscription,e,o,!1,d.queryInfo)}for(const s of e.removed)this._attributeStore.releaseDisplayIdForObjectId(s)}async*updateChunks(){if(this._source.chunks().length){await this._updateAttributeData();for(const e of this._sendStates.values())yield*this._update(e)}}removeChunks(e){for(const t of e)this.handledChunks.delete(t.chunkId),this.handledChunksForAttributeData.delete(t.chunkId),this._cleanupChunkIds(t)}afterUpdateChunks(){for(const e of this._streamLayerDeferredObjectIdsToRemove)this._attributeStore.releaseDisplayIdForObjectId(e);this._streamLayerDeferredObjectIdsToRemove=[]}_cleanupChunkIds(e){if(this.handledChunksForIdCreation.has(e.chunkId)){const t=e.reader.getCursor();for(;t.next();){const e=t.getObjectId();this._source.isStream?this._streamLayerDeferredObjectIdsToRemove.push(e):this._attributeStore.releaseDisplayIdForObjectId(e)}this.handledChunksForIdCreation.delete(e.chunkId)}}async _updateAttributeData(){for(const e of this._source.chunks()){const{chunkId:t,reader:s}=e;if(!this.handledChunksForIdCreation.has(t)){this.handledChunksForIdCreation.add(t);const e=s.getCursor();for(;e.next();){const t=this._attributeStore.createDisplayIdForObjectId(e.getObjectId());e.setDisplayId(t)}}}for(const e of this._source.chunks())if(!this.handledChunksForAttributeData.has(e.chunkId)){this.handledChunksForAttributeData.add(e.chunkId);const t=e.reader.getCursor();for(;t.next();){const e=t.getDisplayId();this._attributeStore.setAttributeData(e,t,this._evalOptions)}}}*_update(e){const{subscription:t,handledChunks:s}=e;for(const n of this._source.chunks()){const{chunkId:a}=n;if(s.has(a))continue;s.add(a);const o=n.getTileReader(t.tile);o&&(yield new r(e.subscription,o,!1,n.end,n.queryInfo))}}}export{a as DefaultSendState,o as FeatureUpdateStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{ignoreAbortErrors as e,throwIfNotAbortError as s,throwIfAborted as r}from\"../../../../core/promiseUtils.js\";import{diff as i,hasDiff as a}from\"../../../../core/accessorSupport/diffUtils.js\";import o from\"../../../../geometry/SpatialReference.js\";import{MultiTileMeshData as n}from\"../../engine/webgl/mesh/MultiTileMeshData.js\";import{FeatureMeshFactory as c}from\"../../engine/webgl/mesh/factories/FeatureMeshFactory.js\";import{ResourceProxy as h}from\"../../engine/webgl/mesh/factories/ResourceProxy.js\";import{ProcessorTileMessageQueue as u}from\"./ProcessorTileMessageQueue.js\";import{BinningStrategy as g}from\"./processor/BinningStrategy.js\";import{ClusterStrategy as d}from\"./processor/ClusterStrategy.js\";import{FeatureUpdateStrategy as y}from\"./processor/FeatureUpdateStrategy.js\";import{AttributeStore as p}from\"./support/AttributeStore.js\";import{ComputedAttributeStorage as _}from\"./support/ComputedAttributeStorage.js\";class l{constructor(t,s){this._connection=t,this._source=s,this._version=1,this._proxy=new h({fetch:(t,e)=>this._connection.layerView.fetch(t,e),fetchDictionary:(t,e)=>this._connection.layerView.fetchDictionary(t,e)}),this._attributeStore=new p({isLocal:!1,update:t=>e(this._connection.container.updateAttributeView(t))})}destroy(){this._proxy.destory(),this._strategy?.destroy(),this._attributeStore.destroy()}get aggregateQueryEngine(){return this._strategy?.aggregateQueryEngine}getDisplayFeatures(t){return this._strategy?this._strategy.getDisplayFeatures(t):{features:[],aggregates:[]}}getFeatureObjectIdsForAggregate(t){return this._strategy?this._strategy.getFeatureObjectIdsForAggregate(t):[]}onSubscribe(t){this._strategy?.onSubscribe(t)}onUnsubscribe(t){this._strategy?.onUnsubscribe(t)}async update(t,e,s,r,n){const h=t.processor,u=i(this._schema,h);if(!u&&!r)return;has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] SymbolProcessor.update`,{changes:u,schema:h}),this._schema=h;const g=o.fromJSON(t.source.mutable.dataFilter.outSpatialReference),d=new _({fields:this._source.metadata.fieldsIndex,spatialReference:g});return await this._attributeStore.update(h.storage,d,this._source.metadata,g,e),this._strategy?.invalidateAttributeData(),r||a(u,\"mesh\")?(a(u,\"mesh.strategy\")&&await this._updateStrategy(h.mesh.strategy,g,n,h.mesh.timeZone),this._updateSortKey(d,\"sortKey\"in h.mesh?h.mesh.sortKey:null),(a(u,\"mesh.factory\")||\"dictionary\"===h.mesh.factory.symbology.type)&&(this._factory=await c.create(d,this._proxy,h.mesh.factory,s)),this._invalidate(),this._version=e,this._connection.container.updateRenderState(this._version)):void 0}async applyOverride(t){if(!this._strategy)return;const e=this._strategy.applyOverride(t);for await(const r of e)try{await this._process(r)}catch(s){}this._source.applyOverride(t)}async updateChunks(){await this._doUpdateChunks(),this._strategy?.afterUpdateChunks()}async removeChunks(t){this._strategy?.removeChunks(t),this._attributeStore.incrementDisplayIdGeneration()}updateHighlight({highlights:t}){if(!this._strategy)return void this._attributeStore.setHighlight(t.map((({objectId:t,highlightFlags:e})=>({objectId:t,highlightFlags:e,displayId:-1}))),t);const e=this._strategy.displayMap(t,(({objectId:t})=>t),((t,{highlightFlags:e},s)=>({objectId:s,displayId:t,highlightFlags:e})));this._attributeStore.setHighlight(e,t)}async _doUpdateChunks(){if(!this._strategy)return;const t=this._strategy.updateChunks(),e=[],r=new Map;for await(const a of t){let t=r.get(a.id);null==t&&(t=new u({concurrency:16,process:t=>this._process(t)}),r.set(a.id,t));const i=t.push(a).catch((t=>s(t)));e.push(i)}try{await Promise.all(e)}catch(i){}has(\"esri-2d-update-debug\")&&console.log(\"SendUpdates\"),await this._attributeStore.sendUpdates(),has(\"esri-2d-update-debug\")&&console.log(\"SendUpdates.await\")}async _updateStrategy(t,e,s,r){switch(this._strategy?.destroy(),t.type){case\"feature\":this._strategy=new y(this._source,this._attributeStore,r);break;case\"binning\":this._strategy=await g.create(t,e,this._source,this._attributeStore,r);break;case\"cluster\":this._strategy=await d.create(this._connection,t,e,this._source,this._attributeStore,r)}for(const i of s)this._strategy.onSubscribe(i)}async _updateSortKey(e,s){if(this._sortInfo=t(this._sortInfo?.computed),null!=s){const t=s.byRenderer?null:await e.createComputedField(s);this._sortInfo={...s,computed:t}}}_invalidate(){this._strategy&&this._strategy.invalidate()}async _process(t){const e=t.subscription;if(has(\"esri-2d-update-debug\")){const s=e.tile;console.debug(`Version[${this._version}] Tile[${s.key.id}, end=${t.end}] Processor._process`)}await this._fetchResources(t),r(e.signal);const s=await this._write(t,e.tile.createArcadeEvaluationOptions(this._schema.mesh.timeZone)),i=e.tile.tileInfoView.tileInfo.isWrappable,{message:a,transferList:o}=s.serialize(i),n=t.createMessage(a,this._version,this._attributeStore.epoch);if(r(e.signal),this._connection.container.onMessage(n,{signal:e.signal,transferList:o}),this._attributeStore.sendUpdates(),has(\"esri-2d-update-debug\")){const s=e.tile;console.debug(`Version[${this._version}] Tile[${s.key.id}, end=${t.end}] Processor._process.await`)}}async _fetchResources(t){await this._fetchMatcherResources(t),await this._fetchWriterResources(t)}async _fetchMatcherResources(t){if(t.reader)return this._factory.enqueueMatcherRequests(this._proxy,t.reader)}async _fetchWriterResources(t){if(!t.reader)return;const e=t.reader.getCursor(),s=t.subscription.tile.createArcadeEvaluationOptions(this._schema.mesh.timeZone);for(;e.next();)this._factory.enqueueWriterRequests(this._proxy,e,s);await this._proxy.fetchEnqueuedResources()}async _write(t,e){const s=t.subscription.tile,r=t.reader?.getCursor(),i=r?.getSize()??0,a=s.tileInfoView.tileInfo.isWrappable,o=new n(s.key,this._strategy.enablePixelBuffering,a,i);if(!r)return o;const c=s.createArcadeEvaluationOptions(this._schema.mesh.timeZone);for(;r.next();){const t=this._getSortKeyValue(r,e);o.entityStart(r.getDisplayId(),t),this._factory.write(o,this._proxy,r,c,s.level),o.entityEnd()}return o}_getSortKeyValue(t,e){if(!this._sortInfo)return 0;const{computed:s,order:r,byRenderer:i}=this._sortInfo,a=i?this._factory.getSortKey(t,e):s?.read(t,e);return null==a||isNaN(a)?0:a*(\"asc\"===r?-1:1)}}export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass t{static from(e){let n=0,r=0,o=0;return e.forEach((t=>{const e=t._readGeometry();e&&(r+=e.isPoint?1:e.lengths.reduce(((t,e)=>t+e),0),o+=e.isPoint?1:e.lengths.length,n+=1)})),new t(n,r,o)}constructor(t,e,n){this.featureCount=t,this.vertexCount=e,this.ringCount=n}toJSON(){return{featureCount:this.featureCount,ringCount:this.featureCount,vertexCount:this.featureCount}}}export{t as FeatureStoreStatistics};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../TimeExtent.js\";import has from\"../../../../../core/has.js\";import t from\"../../../../../geometry/SpatialReference.js\";import{isHostedAgolService as r}from\"../../../../../layers/support/arcgisLayerUrl.js\";import i from\"../../../../../rest/support/Query.js\";const a=4;function o(i,a){const{service:o}=i,s=o.orderByFields??a.objectIdField+\" ASC\",n=o.source,u={returnCentroid:!(null!==n&&\"object\"==typeof n&&\"path\"in n&&r(n.path))&&\"esriGeometryPolygon\"===a.geometryType,returnGeometry:!0,timeReferenceUnknownClient:a.timeReferenceUnknownClient??void 0,outSpatialReference:t.fromJSON(i.mutable.dataFilter.outSpatialReference),orderByFields:[s],where:i.mutable.dataFilter.definitionExpression??\"1=1\",outFields:i.mutable.availableFields};if(\"feature\"===i.type){const{gdbVersion:t,historicMoment:r,timeExtent:a}=i.mutable.dataFilter;return{...u,gdbVersion:t,historicMoment:r?new Date(r):null,timeExtent:a?e.fromJSON(a):null,outFields:i.mutable.availableFields}}return u}class s{static fromSchema(e,t){return new s(o(e,t),e.mutable.dataFilter.customParameters,t.geometryType,e.service.queryMetadata.capabilities)}constructor(e,t,r,i){this._queryParams=e,this._customParameters=t,this._geometryType=r,this._capabilities=i}get pageSize(){if(null==this._capabilities)throw new Error(\"InternalError: Service does not support paged queries\");const{query:e}=this._capabilities,t=e.supportsMaxRecordCountFactor?a:null,r=(e.maxRecordCount??8e3)*(t??1);return Math.min(8e3,r)}updateFields(e){this._queryParams.outFields=e}createPatchFieldsQuery(e,t){const r=e.clone();if(\"*\"===this._queryParams.outFields[0]){if(\"*\"===(r.outFields??[])[0])return null;r.outFields=this._queryParams.outFields}else{const e=new Set(this._queryParams.outFields),i=[];for(const r of e)t.hasField(r)||i.push(r);if(0===i.length)return null;r.outFields=i}return r.returnGeometry=!1,r.returnCentroid=!1,r.quantizationParameters=null,r.cacheHint=!0,{inner:r,customParameters:this._customParameters}}createQuery(e={}){if(!this._queryParams)throw new Error(\"InternalError: queryInfo should be defined\");return{inner:new i({...this._queryParams,...e}),customParameters:this._customParameters}}createTileQuery(e,t){if(null==this._capabilities)throw new Error(\"InternalError: Service does not support tile queries\");const r=this.createQuery(t),i=r.inner;return i.quantizationParameters=t.quantizationParameters??e.getQuantizationParameters(),i.resultType=\"tile\",i.geometry=e.extent,this._capabilities.query.supportsQuantization?\"esriGeometryPolyline\"===this._geometryType&&(i.maxAllowableOffset=e.resolution*has(\"feature-polyline-generalization-factor\")):\"esriGeometryPolyline\"!==this._geometryType&&\"esriGeometryPolygon\"!==this._geometryType||(i.maxAllowableOffset=e.resolution,\"esriGeometryPolyline\"===this._geometryType&&(i.maxAllowableOffset*=has(\"feature-polyline-generalization-factor\"))),i.defaultSpatialReferenceEnabled=this._capabilities.query.supportsDefaultSpatialReference,i.compactGeometryEnabled=this._capabilities.query.supportsCompactGeometry,this._capabilities.query.supportsMaxRecordCountFactor&&(i.maxRecordCountFactor=a),r}createPagedTileQuery(e,t){const r=this.pageSize;return this.createTileQuery(e,{start:r*t,num:r,returnExceededLimitFeatures:!0})}createPagedQuery(e){const t=this.pageSize;return this.createQuery({start:t*e,num:t,returnExceededLimitFeatures:!0,maxRecordCountFactor:a})}}export{s as FeatureSourceQueryInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{watch as s}from\"../../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";const o=2500;let a=class extends t{constructor(e){super(),this._connection=e,this._enabledEventTypes=new Set,this._updateInfo={websocket:0,client:0},this._lastTime=performance.now(),this.addHandles([s((()=>this._strategy?.connectionStatus??\"disconnected\"),(e=>{this._layerView.setProperty({propertyName:\"pipelineConnectionStatus\",value:e})}),{initial:!0}),s((()=>this._strategy?.errorString||null),(e=>this._layerView.setProperty({propertyName:\"pipelineErrorString\",value:e})),{initial:!0})])}destroy(){this._strategy=null,this.removeAllHandles()}get _layerView(){return this._connection.layerView}set strategy(e){null==this._strategy&&this._resetUpdateInfo(performance.now());const t=\"event-handles\";this.removeHandles(t),null!=e&&this.addHandles([e.events.on(\"data-received\",(e=>this._onFeature(e))),e.events.on(\"message-received\",(e=>this._onWebSocketMessage(e))),e.events.on(\"features-updated\",(e=>this._onUpdate(e))),e.events.on(\"tick\",(()=>this._onTick()))],t),this._strategy=e}updateCustomParameters(e){null!=e&&this._strategy?.updateCustomParameters(e)}sendMessageToSocket(e){this._strategy?.sendMessageToSocket(e)}sendMessageToClient(e){this._strategy?.sendMessageToClient(e)}enableEvent(e,t){t?this._enabledEventTypes.add(e):this._enabledEventTypes.delete(e)}disconnect(){this._strategy?.disconnect()}connect(){this._strategy?.connect()}clear(){this._strategy?.clear()}_onWebSocketMessage(e){this._enabledEventTypes.has(\"message-received\")&&this._layerView.emitEvent({name:\"message-received\",event:e})}_onFeature(e){this._updateInfo.websocket++,this._enabledEventTypes.has(\"data-received\")&&this._layerView.emitEvent({name:\"data-received\",event:{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry}})}_onUpdate(e){this._updateInfo.client+=e}_onTick(){const e=performance.now(),t=e-this._lastTime;if(t>o){const s=Math.round(this._updateInfo.client/(t/1e3)),n=Math.round(this._updateInfo.websocket/(t/1e3));this._resetUpdateInfo(e),this._layerView.emitEvent({name:\"update-rate\",event:{client:s,websocket:n}})}}_resetUpdateInfo(e){this._lastTime=e,this._updateInfo.client=0,this._updateInfo.websocket=0}};e([n()],a.prototype,\"_strategy\",void 0),a=e([r(\"esri.views.2d.layers.features.sources.StreamMessenger\")],a);export{a as StreamMessenger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass r{constructor(r){this._store=r,this._controller=new AbortController}destroy(){this._controller.abort()}get _options(){return{signal:this._controller.signal}}async queryOverride(r){throw new Error(\"InternalError: LoadStrategy does not support fetching\")}}export{r as ALoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import t from\"../../../../../layers/support/FieldsIndex.js\";import{parseField as s,parseTransform as r}from\"../../../../../rest/query/operations/pbfFeatureServiceParser.js\";const n=268435455;class o{constructor(){this.hasFeatures=!1,this.exceededTransferLimit=!1,this.fieldCount=0,this.featureCount=0,this.objectIdFieldIndex=0,this.vertexCount=0,this.offsets={attributes:new Array,geometry:new Array},this.centroid=new Array}}function a(a,i,c=!1){const f=1,d=3,u=9,g=12,l=13,p=15,h=a.asUnsafe(),b=h.pos(),w=new o;let m=0,y=0;const k=1,x=2,I=4,L=3;let A=null,F=null,C=null,S=!1;const j=[];for(;h.next();)switch(h.tag()){case f:A=h.getString();break;case d:F=h.getString();break;case g:C=h.processMessage(r);break;case u:if(w.exceededTransferLimit=h.getBool(),w.exceededTransferLimit){w.offsets.geometry=c?new Float64Array(8e3):new Int32Array(8e3),w.centroid=c?new Float64Array(16e3):new Int32Array(16e3);for(let e=0;e<w.centroid.length;e++)w.centroid[e]=n}break;case l:{const e=h.processMessage(s);e.index=m++,j.push(e);break}case p:{const e=h.getLength(),t=h.pos()+e;if(!w.exceededTransferLimit){const e=w.offsets.geometry,t=w.centroid;e.push(0),t.push(n),t.push(n)}!S&&w.exceededTransferLimit&&(S=!0,w.offsets.attributes=c?new Float64Array(8e3*m):new Uint32Array(8e3*m));let s=y*m;for(;h.pos()<t&&h.next();)switch(h.tag()){case k:{if(S)w.offsets.attributes[s++]=h.pos();else{w.offsets.attributes.push(h.pos())}const e=h.getLength();h.skipLen(e);break}case x:if(i){const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case L:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();w.centroid[2*y]=e,w.centroid[2*y+1]=t;break}default:h.skip()}}else{w.offsets.geometry[y]=h.pos();const e=h.getLength();w.vertexCount+=e,h.skipLen(e)}break;case I:{const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case L:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();w.centroid[2*y]=e,w.centroid[2*y+1]=t;break}default:h.skip()}break}default:h.skip()}y++,w.hasFeatures=!0;break}default:h.skip()}const U=A||F;if(!U)throw new e(\"FeatureSet has no objectId or globalId field name\");return w.fields=new t(j),w.featureCount=y,w.fieldCount=m,w.objectIdFieldIndex=w.fields.get(U)?.index,w.transform=C,w.displayIds=new Uint32Array(w.featureCount),w.groupIds=new Uint16Array(w.featureCount),h.move(b),w}export{o as FeatureSetHeader,a as parseHeader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import t from\"../../../../../core/Logger.js\";import{assertIsSome as r}from\"../../../../../core/maybe.js\";import s from\"../../../../../core/pbf.js\";import n from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{FeatureSetCache as a}from\"./FeatureSetCache.js\";import{FeatureSetReader as i}from\"./FeatureSetReader.js\";import{parseHeader as h}from\"./FeatureSetReaderPBFHeader.js\";const o=!0,d=268435455,u=128,c=128e3,g={small:{delta:new Int32Array(u),decoded:new Int32Array(u)},large:{delta:new Int32Array(c),decoded:new Int32Array(c)}};function _(e){return e<=g.small.delta.length?g.small:(e<=g.large.delta.length||(g.large.delta=new Int32Array(Math.round(1.25*e)),g.large.decoded=new Int32Array(Math.round(1.25*e))),g.large)}function f(r){try{const e=2,t=new s(new Uint8Array(r),new DataView(r));for(;t.next();){if(t.tag()===e)return l(t.getMessage());t.skip()}}catch(n){const r=new e(\"query:parsing-pbf\",\"Error while parsing FeatureSet PBF payload\",{error:n});t.getLogger(\"esri.view.2d.layers.features.support.FeatureSetReaderPBF\").error(r)}return null}function l(e){const t=1;for(;e.next();){if(e.tag()===t)return e.getMessage();e.skip()}return null}function I(e){const t=1,r=2,s=3,n=4,a=5,i=6,h=7,o=8,d=9,u=e.getLength(),c=e.pos()+u;for(;e.pos()<c&&e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case n:return e.getSInt32();case a:return e.getUInt32();case i:return e.getInt64();case h:return e.getUInt64();case o:return e.getSInt64();case d:return e.getBool();default:return e.skip(),null}return null}function p(e,t,r,s,n,a){return.5*Math.abs(e*s+r*a+n*t-e*a-r*t-n*s)}function y(e,t,r,s){return 0===e*s-r*t&&e*r+t*s>0}class m extends i{static fromBuffer(e,t,r=!1){const s=t.geometryType,n=f(e),a=h(n,\"esriGeometryPoint\"===s,r);return new m(n,a,t)}constructor(e,t,r){super(r),this._hasNext=!1,this._isPoints=!1,this._featureIndex=-1,this._featureOffset=0,this._cache={area:0,unquantGeometry:void 0,geometry:void 0,centroid:void 0,legacyFeature:void 0,optFeature:void 0},this._parseCaches=new Array,this._geometryType=r.geometryType,this._reader=e,this._header=t,this._hasNext=t.hasFeatures,this._isPoints=\"esriGeometryPoint\"===r.geometryType}get _size(){return this._header.featureCount}get fields(){return this._header.fields}get geometryType(){return this._geometryType}get hasZ(){return!1}get hasM(){return!1}get hasFeatures(){return this._header.hasFeatures}get hasNext(){return this._hasNext}get exceededTransferLimit(){return this._header.exceededTransferLimit}getSize(){return this._size}getInTransform(){return this._header.transform}getCursor(){return this.copy()}getIndex(){return this._featureIndex}setIndex(e){this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0,this._featureIndex=e}getAttributeHash(){let e=\"\";for(const t of this._header.fields.fields)e+=this._readAttributeAtIndex(t.index)+\".\";return e}getObjectId(){return this._readAttributeAtIndex(this._header.objectIdFieldIndex)}getDisplayId(){return this._header.displayIds[this._featureIndex]}setDisplayId(e){this._header.displayIds[this._featureIndex]=e}readGeometryArea(){return this._cache.area||this._readGeometry(!0),this._cache.area}copy(){const e=this._reader.clone(),t=new m(e,this._header,this.metadata);return this.copyInto(t),t}next(){for(this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0;++this._featureIndex<this._size&&!this._getExists(););return this._featureIndex<this._size}_readX(){return this._header.centroid[2*this._featureIndex]}_readY(){return this._header.centroid[2*this._featureIndex+1]}_readServerCentroid(){const e=this._header.centroid[2*this._featureIndex],t=this._header.centroid[2*this._featureIndex+1];return e===d?null:new n([],[e,t])}_readGeometry(e=!1){if(void 0===this._cache.geometry){let r=null;if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===d)return null;const e=this._header.centroid[2*this._featureIndex],t=this._header.centroid[2*this._featureIndex+1];r=new n([],[e,t])}else{const s=this._header.offsets.geometry[this._featureIndex],n=this._reader;if(0===s)return null;n.move(s);try{r=e?this._parseGeometryForDisplay(n):this._parseGeometry(n)}catch(t){return console.error(\"Failed to parse geometry!\",t),null}}return 0===r?.coords.length&&(r=null),this._cache.geometry=r,r}return this._cache.geometry}_readAttribute(e,t){const r=this._header.fields.get(e);if(null==r)return;let s=this._readAttributeAtIndex(r.index);\"esriFieldTypeTimestampOffset\"===this.fields.get(e)?.type&&(s=this.parseTimestampOffset(s));const n=this._header.fields.isDateField(r.name);return t?null==s?s:n?new Date(s):s:s}_readAttributes(){const e={};for(const t of this._header.fields.fields)e[t.name]=this._readAttributeAtIndex(t.index);return e}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._featureOffset=this._featureOffset,e._hasNext=this._hasNext,e._parseCaches=this._parseCaches}_readAttributeAtIndex(e){let t=this._parseCaches[e];if(t||(t=new a(this.getSize()),this._parseCaches[e]=t),t.has(this._featureIndex))return t.get(this._featureIndex);const r=this._header.offsets.attributes[this._featureIndex*this._header.fieldCount+e],s=this._reader;s.move(r);const n=I(s);return t.set(this._featureIndex,n),n}_readGeometryDeltaDecoded(e=!1){if(void 0===this._cache.unquantGeometry){const t=this._readGeometry(e);if(!t)return this._cache.unquantGeometry=void 0,null;if(!this.getInTransform())return this._cache.unquantGeometry=t,t;const r=_(t.coords.length).decoded,s=t.clone(r),n=s.coords;let a=0;for(const e of s.lengths){for(let t=1;t<e;t++){const e=2*(a+t),r=2*(a+t-1);n[e]+=n[r],n[e+1]+=n[r+1]}a+=e}return this._cache.unquantGeometry=s,s}return this._cache.unquantGeometry}_parseGeometry(e){const t=2,r=3,s=e.asUnsafe(),a=s.getLength(),i=s.pos()+a,h=[],o=[];for(;s.pos()<i&&s.next();)switch(s.tag()){case t:{const e=s.getUInt32(),t=s.pos()+e;for(;s.pos()<t;)o.push(s.getUInt32());break}case r:{const e=s.getUInt32(),t=s.pos()+e;for(h.push(s.getSInt64()),h.push(s.getSInt64()),this.hasZ&&s.getSInt64(),this.hasM&&s.getSInt64();s.pos()<t;)h.push(s.getSInt64()),h.push(s.getSInt64()),this.hasZ&&s.getSInt64(),this.hasM&&s.getSInt64();break}default:s.skip()}return new n(o,h)}_parseGeometryForDisplay(e){const t=2,s=3,a=e.asUnsafe(),i=a.getLength(),h=a.pos()+i,d=[],u=[];let c=0,g=0,f=null,l=0;const I=\"esriGeometryPolygon\"===this.geometryType;for(;a.pos()<h&&a.next();)switch(a.tag()){case t:{const e=a.getUInt32(),t=a.pos()+e;for(;a.pos()<t;){const e=a.getUInt32();d.push(e),c+=e}f=_(2*c).delta;break}case s:{a.getUInt32();const e=2+(this.hasZ?1:0)+(this.hasM?1:0);r(f);for(const t of d)if(g+e*t>f.length)for(let e=0;e<t;e++)a.getSInt32(),a.getSInt32(),this.hasZ&&a.getSInt32(),this.hasM&&a.getSInt32();else if(I&&o){const e=this.getAreaSimplificationThreshold(t,this._header.vertexCount);let r=2,s=1;const n=!1;let i=a.getSInt32(),h=a.getSInt32();f[g++]=i,f[g++]=h,this.hasZ&&a.getSInt32(),this.hasM&&a.getSInt32();let o=a.getSInt32(),d=a.getSInt32();for(this.hasZ&&a.getSInt32(),this.hasM&&a.getSInt32();r<t;){let t=a.getSInt32(),n=a.getSInt32();this.hasZ&&a.getSInt32(),this.hasM&&a.getSInt32();const u=i+o,c=h+d;p(i,h,u,c,u+t,c+n)>=e?(l+=-.5*(u-i)*(c+h),s>1&&y(f[g-2],f[g-1],o,d)?(f[g-2]+=o,f[g-1]+=d):(f[g++]=o,f[g++]=d,s++),i=u,h=c):(t+=o,n+=d),o=t,d=n,r++}s<3||n?g-=2*s:(l+=-.5*(i+o-i)*(h+d+h),y(f[g-2],f[g-1],o,d)?(f[g-2]+=o,f[g-1]+=d,u.push(s)):(f[g++]=o,f[g++]=d,u.push(++s)))}else{let e=0,r=a.getSInt32(),s=a.getSInt32();this.hasZ&&a.getSInt32(),this.hasM&&a.getSInt32(),f[g++]=r,f[g++]=s,e+=1;for(let n=1;n<t;n++){const t=a.getSInt32(),i=a.getSInt32(),h=r+t,o=s+i;l+=-.5*(h-r)*(o+s),this.hasZ&&a.getSInt32(),this.hasM&&a.getSInt32(),n>2&&y(f[g-2],f[g-1],t,i)?(f[g-2]+=t,f[g-1]+=i):(f[g++]=t,f[g++]=i,e+=1),r=h,s=o}u.push(e)}break}default:a.skip()}return this._cache.area=l,u.length?new n(u,f):null}}export{m as FeatureSetReaderPBF};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../../../core/has.js\";import e from\"../../../../../../../core/workers/Connection.js\";import{toQuantizationTransform as t}from\"../../../../../../../geometry/support/quantizationUtils.js\";import{convertFromFeatureSet as a,quantizeOptimizedFeatureSet as r}from\"../../../../../../../layers/graphics/featureConversionUtils.js\";import{queryOptimizedFeatureSet as s}from\"../../../../../../../layers/ogc/ogcFeatureUtils.js\";import{executeQueryPBFBuffer as i,executeQuery as o}from\"../../../../../../../rest/query/operations/query.js\";import{FeatureSetReaderJSON as n}from\"../../../support/FeatureSetReaderJSON.js\";import{FeatureSetReaderPBF as u}from\"../../../support/FeatureSetReaderPBF.js\";class c{constructor(e,t){this.service=e,this._metadata=t}destroy(){}}function m(e,t){switch(e.type){case\"memory\":return new l(e,t);case\"ogc\":return new f(e,t);case\"feature-service\":return e.queryMetadata.capabilities.query.supportsFormatPBF&&has(\"featurelayer-pbf\")?new y(e,t):new d(e,t)}}async function p(t){const a=new e;return await a.open(t,{}),a}class l extends c{constructor(e,t){super(e,t),this._portsOpen=p(e.source).then((e=>this.client=e))}destroy(){this.client.close(),this.client=null}async executeQuery(e,t){await this._portsOpen;const a=await this.client.invoke(\"queryFeatures\",e.toJSON(),t);return n.fromFeatureSet(a,this._metadata)}}class y extends c{async executeQuery(e,t){const{data:a}=await i(this.service.source,e,t),r=!e.quantizationParameters;return u.fromBuffer(a,this._metadata,r)}}class d extends c{async executeQuery(e,s){const{source:i,queryMetadata:u}=this.service,c=u.capabilities;if(null!=e.quantizationParameters&&!c.query.supportsQuantization){const u=e.clone(),c=t(u.quantizationParameters);u.quantizationParameters=null;const{data:m}=await o(i,u,this._metadata.spatialReference,s),p=a(m,this._metadata.objectIdField);return r(c,p),n.fromOptimizedFeatureSet(p,this._metadata)}const{data:m}=await o(i,e,this._metadata.spatialReference,s);return\"esriGeometryPoint\"===this._metadata.geometryType&&(m.features=m.features?.filter((e=>{if(null!=e.geometry){const t=e.geometry;return Number.isFinite(t.x)&&Number.isFinite(t.y)}return!0}))),n.fromFeatureSet(m,this._metadata)}}class f extends c{async executeQuery(e,a){const{capabilities:i}=this.service.queryMetadata;if(e.quantizationParameters&&!i.query.supportsQuantization){const i=e.clone(),o=t(i.quantizationParameters);i.quantizationParameters=null;const u=await s(this.service.source,e,a);return r(o,u),n.fromOptimizedFeatureSet(u,this._metadata)}const o=await s(this.service.source,e,a);return n.fromOptimizedFeatureSet(o,this._metadata)}}export{c as SourceAdapter,m as createQueryAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/Error.js\";import t from\"../../../../../../rest/support/Query.js\";import{ALoadStrategy as r}from\"./ALoadStrategy.js\";import{createQueryAdapter as s}from\"./support/queryAdapters.js\";import{FeatureSetReaderJSON as o}from\"../../support/FeatureSetReaderJSON.js\";import{QueueProcessor as n}from\"../../../../../support/QueueProcessor.js\";class a extends r{constructor(e,t,r,o,a){super(r),this._serviceInfo=e,this._queryInfo=t,this._metadata=o,this._eventLog=a,this._queue=new n({concurrency:16,process:async e=>{const t={signal:e.options?.signal,query:e.query.customParameters};return this._adapter.executeQuery(e.query.inner,t)}}),this._adapter=s(e,o)}async updateFields(r){this._queryInfo.updateFields(r);const s=Array.from(this._store.chunks()).map((async e=>{const r=t.fromJSON(e.queryInfo.queryJSON);if(r)try{return await this._tryUpdateFields(e.reader,r),null}catch(s){return s}})),o=(await Promise.all(s)).filter((e=>e));if(o.length)throw new e(\"featurelayer-query\",\"Encountered errors when downloading fields\",{errors:o})}async queryOverride({edits:e}){const t=[],r=[];for(const o of e.removed)null!=o.objectId&&-1!==o.objectId?t.push(o.objectId):r.push(o.globalId);r.length&&t.push(...this._mapGlobalIdsToObjectIds(r));const s=e.addOrModified.map((({objectId:e})=>e));let n;if(s.length){const e=this._queryInfo.createQuery({objectIds:s});n=await this._fetch(e)}else n=o.empty(this._metadata);return{reader:n,removed:t}}_mapGlobalIdsToObjectIds(e){const t=new Set(e),r=this._metadata.globalIdField;if(null==r)throw new Error(\"InternalError: Recieved an edit with globalIds, but not supported by the service\");const s=[];return this._store.forEachUnsafe((e=>{const o=e.readAttribute(r);t.has(o)&&s.push(e.getObjectId())})),s}async _fetch(e,t){const r=await this._enqueue(e,t);return await this._tryUpdateFields(r,e.inner),r}async _tryUpdateFields(e,t){const r=this._queryInfo.createPatchFieldsQuery(t,e);if(!r)return;const s=await this._enqueue(r,this._options);e.joinAttributes(s)}async _enqueue(e,t){return this._eventLog.onEvent({type:\"fetchStart\"}),this._queue.push({query:e,options:t}).finally((()=>{this._eventLog.onEvent({type:\"fetchEnd\",done:0===this._queue.length})}))}}export{a as AFetchLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../../core/has.js\";import{AFetchLoadStrategy as e}from\"./AFetchLoadStrategy.js\";class s extends e{constructor(){super(...arguments),this._chunksById=new Map}unload(e){this._removeChunks(e.tile)}_addChunk(e){const s=e.tile.id;this._chunksById.has(s)||this._chunksById.set(s,[]);const t=e.size();(t||e.first||e.end)&&(has(\"esri-2d-update-debug\")&&console.debug(`Chunk[${e.chunkId}] ATileLoadStrategy.addChunk [count=${t}]`),this._chunksById.get(s).push(e),this._store.insert(e))}_removeChunks(e){const s=this._chunksById.get(e.key.id)??[];for(const t of s)has(\"esri-2d-update-debug\")&&console.debug(`Tile[${e.key.id}] Chunk[${t.chunkId}] ATileLoadStrategy.removeChunk`),this._store.remove(t);this._chunksById.delete(e.key.id)}}export{s as ATileLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";class i extends e{constructor(e,i,t,r,s,h){super(),this._reader=e,this._queryJSON=i,this._tile=t,this._sourceTile=r,this._sourceTileDepth=s,this._end=h,this.chunkId=`${this._tile.key.id}.${this._sourceTile?.key.id}${this._end?\"e\":\"\"}`,this.normalizedChunkId=`${this._tile.key.normalizedId}.${this._sourceTile?.key.normalizedId}${this._end?\"e\":\"\"}`}get queryInfo(){return{type:\"drill-down-tile\",chunkId:this.chunkId,tileId:this._tile.key.id,queryJSON:this._queryJSON,sourceTileDepth:this._sourceTileDepth,sourceTileId:this._sourceTile?.key.id,size:this.size(),end:this.end}}get first(){return 0===this._sourceTileDepth}get reader(){return this._reader}get end(){return this._end}get tile(){return this._tile}get isTiled(){return!0}getTileReader(e){return this._tile.key.id===e.key.id?this.reader:null}}export{i as DrillDownTileSourceChunk};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../../core/has.js\";import{throwIfAborted as t,onAbort as e}from\"../../../../../../core/promiseUtils.js\";import{ATileLoadStrategy as s}from\"./ATileLoadStrategy.js\";import{DrillDownTileSourceChunk as o}from\"./chunks/DrillDownTileSourceChunk.js\";import{FeatureSetReaderJSON as i}from\"../../support/FeatureSetReaderJSON.js\";class r{constructor(t,s){this.subscription=t,this._tileIdToResult=new Map,this._controller=new AbortController,e(t.options,(()=>this._controller.abort())),e(s,(()=>this._controller.abort()))}get(t){return this._tileIdToResult.get(t)}set(t,e){this._tileIdToResult.set(t,e)}get options(){return{signal:this._controller.signal}}}class n extends s{constructor(){super(...arguments),this._loadStates=new Map}get about(){return{willQueryAllFeatures:!1,willQueryFullResolutionGeometry:!1}}async load(e){this._loadStates.has(e.key.id)||this._loadStates.set(e.key.id,new r(e,this._options));const s=this._loadStates.get(e.key.id);let n;try{for await(const i of this._fetchChunkInfos(s,e.tile,0)){const{queryJSON:s,reader:r,sourceTile:n,sourceTileDepth:l,tile:a}=i,u=new o(r,s,a,n,l,!1);t(e.options),this._addChunk(u)}}catch(a){n=a}const l=new o(i.empty(this._metadata),null,e.tile,null,-1,!0);if(this._addChunk(l),n)throw n}unload(t){super.unload(t),this._loadStates.delete(t.key.id)}async*_fetchChunkInfos(t,e,s){let o=t.get(e.id);const i=!!o;if(o||(o=await this._fetchChunkInfo(t,e,s),t.set(e.id,o)),o.reader.exceededTransferLimit&&s<has(\"featurelayer-query-max-depth\"))for(const r of e.createChildTiles())yield*this._fetchChunkInfos(t,r,s+1);else i||(yield o)}async _fetchChunkInfo(t,e,s){const o=t.subscription.tile.getQuantizationParameters(),i=this._queryInfo.createTileQuery(e,{returnExceededLimitFeatures:!1,quantizationParameters:o});return{reader:await this._fetch(i,t.subscription.options),queryJSON:i.inner.toJSON(),tile:t.subscription.tile,sourceTile:e,sourceTileDepth:s}}}export{n as DrillDownTileLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";class t extends e{constructor(e,t,i,r,s){super(),this._reader=e,this._queryJSON=t,this._tile=i,this._page=r,this._end=s,this.chunkId=`${this._tile.key.id}.${this._page}${this.end?\"e\":\"\"}`,this.normalizedChunkId=`${this._tile.key.normalizedId}.${this._page}${this.end?\"e\":\"\"}`}get queryInfo(){return{type:\"paged-tile\",chunkId:this.chunkId,tileId:this._tile.key.id,queryJSON:this._queryJSON,page:this._page,size:this.size(),end:this.end}}get reader(){return this._reader}get first(){return 0===this._page}get end(){return this._end}get page(){return this._page}get tile(){return this._tile}get isTiled(){return!0}getTileReader(e){return this._tile.key.id===e.key.id?this.reader:null}}export{t as PagedTileSourceChunk};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isAborted as t,throwIfAborted as e,onAbort as o}from\"../../../../../../core/promiseUtils.js\";import{ATileLoadStrategy as s}from\"./ATileLoadStrategy.js\";import{PagedTileSourceChunk as r}from\"./chunks/PagedTileSourceChunk.js\";import{FeatureSetReaderJSON as i}from\"../../support/FeatureSetReaderJSON.js\";class n{constructor(t,e){this.subscription=t,this._pages=new Set,this._controller=new AbortController,this._done=!1,o(t.options,(()=>this._controller.abort())),o(e,(()=>this._controller.abort()))}resetAbortController(){this._controller=new AbortController}get pageStart(){let t=-1;for(const e of this._pages.values())t=Math.max(t,e);return t+1}get done(){return this._done}get options(){return{signal:this._controller.signal}}add(t,e){this._pages.add(t),this._done=this._done||e}}class a extends s{constructor(){super(...arguments),this._loadStates=new Map}get about(){return{willQueryAllFeatures:!1,willQueryFullResolutionGeometry:!1}}async load(e){this._loadStates.has(e.key.id)||this._loadStates.set(e.key.id,new n(e,this._options));const o=this._loadStates.get(e.key.id);let s;o.resetAbortController();try{await this._fetchPages(o)}catch(l){s=l}const a=new r(i.empty(this._metadata),null,e.tile,-1,!0);if(t(o.options)||this._addChunk(a),s)throw s}unload(t){super.unload(t),this._loadStates.delete(t.key.id)}async _fetchPages(t){const o=4,s=20;let r=0,i=t.pageStart,n=1;for(;r<s&&!t.done;){const s=[];for(let e=0;e<n;e++)s.push(this._fetchChunk(t,i++));const a=await Promise.all(s);for(const o of a)(0!==o.size()||o.first)&&(t.add(o.page,!o.reader.exceededTransferLimit),e(t.options),this._addChunk(o));r++,n=Math.min(n+1,o)}}async _fetchChunk(t,e){const o=t.subscription.tile,s=this._queryInfo.createPagedTileQuery(o,e),i=await this._fetch(s,t.options);return new r(i,s.inner.toJSON(),o,e,!1)}}export{a as PagedTileLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";class t extends e{constructor(e,t,r,s){super(),this._reader=e,this._queryJSON=t,this._page=r,this._end=s,this.chunkId=`${this._page}${this.end?\"e\":\"\"}`,this.normalizedChunkId=this.chunkId}get reader(){return this._reader}get first(){return 0===this._page}get end(){return this._end}get queryInfo(){return{type:\"snapshot\",chunkId:this.chunkId,queryJSON:this._queryJSON,page:this._page,size:this.size(),end:this.end}}get isTiled(){return!1}getTileReader(e){const t=this.queryFeaturesInBounds(e.bounds);return t.setTransformForDisplay(e.transform),t}}export{t as FeatureSnapshotSourceChunk};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../../core/Error.js\";import{throwIfAborted as e}from\"../../../../../../core/promiseUtils.js\";import r from\"../../../../../../core/RandomLCG.js\";import{AFetchLoadStrategy as o}from\"./AFetchLoadStrategy.js\";import{FeatureSnapshotSourceChunk as s}from\"./chunks/FeatureSnapshotSourceChunk.js\";import{FeatureSetReaderJSON as n}from\"../../support/FeatureSetReaderJSON.js\";class a extends o{constructor(t,e,o,s,n,a){super(t,e,o,n,a),this._random=new r(1e3),this._featureCount=s}get about(){return{willQueryAllFeatures:!0,willQueryFullResolutionGeometry:!0}}load(t){return null==this._promise&&(this._promise=this._downloadPages(this._featureCount)),this._promise}unload(t){}async _downloadPages(e){const r=Math.ceil(e/this._queryInfo.pageSize),o=Array.from({length:r},((t,e)=>e)).sort(((t,e)=>this._random.getInt()-this._random.getInt())),a=await Promise.all(o.map((t=>this._downloadPage(t)))),i=new s(n.empty(this._metadata),null,-1,!0);this._store.insert(i);const u=a.filter((t=>t));if(u.length)throw new t(\"featurelayer-query\",\"Encountered errors when downloading data\",{errors:u})}async _downloadPage(t){try{const r=this._queryInfo.createPagedQuery(t),o=await this._fetch(r,this._options),n=new s(o,r.inner.toJSON(),t,!1);return e(this._options),this._store.insert(n),null}catch(r){return r}}}export{a as SnapshotLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/CircularArray.js\";import{clamp as e}from\"../../../core/mathUtils.js\";const s=\"__esri_stream_id__\",i=\"__esri_timestamp__\",r=1e3;class o{constructor(t,e,i,r,o=128){this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=i,this._purgeOptions=r,this.store=t,this.objectIdField=e,this.purgeInterval=o,this._useGeneratedIds=this.objectIdField===s}removeById(t){this._removed.push(t)}removeByTrackId(t){const e=this._trackIdToObservations.get(t);if(e)for(const s of e.entries)this._removed.push(s)}add(s){if(this._useGeneratedIds){const t=this._nextId();s.attributes[this.objectIdField]=t,s.objectId=t}else s.objectId=s.attributes[this.objectIdField];const i=s.objectId;if(this._addOrUpdated.set(i,s),this._maxAge=Math.max(this._maxAge,s.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return null==this._trackIdLessObservations&&(this._trackIdLessObservations=new t(1e5)),void this._trackIdLessObservations.enqueue(i);const o=s.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(o)){const s=null!=this._purgeOptions?.maxObservations?this._purgeOptions.maxObservations:r,i=e(s,0,r);this._trackIdToObservations.set(o,new t(i))}const d=this._trackIdToObservations.get(o),a=d?.enqueue(i);null!=a&&(this._addOrUpdated.has(a)?this._addOrUpdated.delete(a):this._removed.push(a))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now();s-this._lastPurge>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const r=[];if(null!=e)for(const i of e){const t=this.store.removeById(i);null!=t&&r.push(t)}const o=[];if(null!=t){const r=new Set(e??[]);for(const e of t)r.has(e.objectId)||(e.attributes[i]=s,this.store.add(e),o.push(e))}return!(!o.length&&!r?.length)&&(this.store.update(o,r),!0)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;null!=e&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=s.dequeue();this._removed.push(t),e--}if(null!=this._trackIdLessObservations){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();null!=t&&this._removed.push(t)}}}}_purgeByAge(t){const e=this._timeInfo?.startTimeField;if(!t.age||!e)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach((t=>{t.attributes[e]<i&&this._removed.push(t.objectId)}))}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[i]<s&&this._removed.push(t.objectId)}))}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)}))}}export{o as StreamFeatureManager,s as defaultStreamIdField,i as esriTimestamp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../../chunks/tslib.es6.js\";import o from\"../../../../../core/Accessor.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let s=class extends o{constructor(r){super(r)}get connectionStatus(){return this.connection?.connectionStatus}get errorString(){return this.connection?.errorString}};r([t()],s.prototype,\"connection\",void 0),r([t()],s.prototype,\"connectionStatus\",null),r([t()],s.prototype,\"errorString\",null),s=r([e(\"esri.views.2d.layers.features.sources.StreamConnectionState\")],s);export{s as StreamConnectionState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{FeatureSetReaderJSON as e}from\"../support/FeatureSetReaderJSON.js\";class t{constructor(e,t){this._metadata=e,this._onUpdate=t,this._objectIdToFeature=new Map}get size(){return this._objectIdToFeature.size}get reader(){return e.fromFeatures([...this._objectIdToFeature.values()],this._metadata)}add(e){this._objectIdToFeature.set(e.objectId,e)}forEach(e){this._objectIdToFeature.forEach(e)}removeById(e){const t=this._objectIdToFeature.get(e);return t?(this._objectIdToFeature.delete(e),t):null}clear(){this._objectIdToFeature=new Map}update(e,t){this._onUpdate(e?.length??0)}}export{t as StreamFeatureStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";class r extends e{constructor(e){super(),this._reader=e,this.chunkId=\"stream-chunk\",this.normalizedChunkId=\"stream-chunk\"}get reader(){return this._reader}get first(){return!0}get end(){return!0}get queryInfo(){return{type:\"stream\",chunkId:this.chunkId,size:this.size(),end:this.end}}get isTiled(){return!1}getTileReader(e){const r=this.queryFeaturesInBounds(e.bounds);return r.setTransformForDisplay(e.transform),r}}export{r as StreamSourceChunk};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/Evented.js\";import{handlesGroup as t}from\"../../../../../../core/handleUtils.js\";import\"../../../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../../../core/maybe.js\";import{StreamFeatureManager as n}from\"../../../../../../layers/graphics/data/StreamFeatureManager.js\";import{createConnection as o}from\"../../../../../../layers/graphics/sources/connections/createConnection.js\";import{StreamConnectionState as i}from\"../StreamConnectionState.js\";import{StreamFeatureStore as r}from\"../StreamFeatureStore.js\";import{ALoadStrategy as a}from\"./ALoadStrategy.js\";import{StreamSourceChunk as c}from\"./chunks/StreamSourceChunk.js\";class h extends a{constructor(t,s,o,a,c){super(o),this._service=t,this._dataFilter=s,this._streamOptions=a,this._metadata=c,this._connectionState=new i,this._forceRefresh=!1,this.events=new e;const{objectIdField:h,timeInfo:m}=this._metadata,{purgeOptions:d}=s;this._stagingStore=new r(this._metadata,(e=>this.events.emit(\"features-updated\",e))),this._manager=new n(this._stagingStore,h,m,d),this.connect()}destroy(){super.destroy(),this.disconnect()}get about(){return{willQueryAllFeatures:!1,willQueryFullResolutionGeometry:!1}}get connectionStatus(){return this._connectionState.connectionStatus}get errorString(){return this._connectionState?.errorString}async refresh(){const e=null!=this._chunk;this._manager.checkForUpdates()||!e||this._forceRefresh?(this._chunk&&this._store.remove(this._chunk),this._forceRefresh=!1,this._chunk=new c(this._stagingStore.reader),this._store.insert(this._chunk),this.events.emit(\"tick\")):this.events.emit(\"tick\")}async updateFields(e){throw new Error(\"Updating available fields not supported for StreamLayer\")}async load(e){}unload(e){}disconnect(){this._connection=s(this._connection),this._connectionState.connection=null,this._handlesGroup?.remove()}connect(){if(null!=this._connection)return;const{geometryType:e,spatialReference:s}=this._metadata,{maxReconnectionAttempts:n,maxReconnectionInterval:i,geometryDefinition:r,definitionExpression:a,customParameters:c}=this._dataFilter;this._connection=o(this._service.source,s,this._streamOptions.outSR,e,a,r,n,i,c),this._handlesGroup=t([this._connection.on(\"data-received\",(e=>this._onFeature(e))),this._connection.on(\"message-received\",(e=>this._onWebSocketMessage(e)))]),this._connectionState.connection=this._connection}clear(){this._manager.checkForUpdates(),this._stagingStore.clear(),this._forceRefresh=!0}updateCustomParameters(e){this._connection?.updateCustomParameters(e)}sendMessageToSocket(e){this._connection?.sendMessageToSocket(e)}sendMessageToClient(e){this._connection?.sendMessageToClient(e)}_onWebSocketMessage(e){if(\"type\"in e)switch(e.type){case\"delete\":if(e.objectIds)for(const t of e.objectIds)this._manager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this._manager.removeByTrackId(t);break;case\"clear\":this.clear()}this.events.emit(\"message-received\",e)}_onFeature(e){try{this._manager.add(e),this.events.emit(\"data-received\",e)}catch(t){}}}export{h as StreamLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../../core/Evented.js\";import has from\"../../../../../../../core/has.js\";import{create as s}from\"../../../../../../../geometry/support/aaBoundingBox.js\";import{FeatureStoreQueryAdapter as o}from\"../../../FeatureStoreQueryAdapter.js\";import{OverrideChunk as r}from\"./OverrideChunk.js\";class n{constructor(s){this._onChange=s,this._chunks=new Map,this._chunksToRemove=[],this.events=new e,this.featureAdapter=new o}destroy(){this.clear()}clear(){for(const e of this._chunks.values())this._chunksToRemove.push(e);this._chunks.clear(),null!=this._overrideChunk&&this._chunksToRemove.push(this._overrideChunk),this._overrideChunk=null}*chunks(){this._overrideChunk&&(yield this._overrideChunk),yield*this._chunks.values()}insert(e){has(\"esri-2d-update-debug\")&&console.debug(`Chunk[${e.chunkId}] SourceChunkStore.insert`),this._overrideChunk?.overridenIds.size&&e.reader.removeIds(this._overrideChunk.overridenIds),this._chunks.set(e.chunkId,e),this.events.emit(\"changed\"),this._onChange()}remove(e){has(\"esri-2d-update-debug\")&&console.debug(`Chunk[${e.chunkId}] SourceChunkStore.remove`),this._chunks.delete(e.chunkId),this._chunksToRemove.push(e)}cleanupRemovedChunks(){const e=this._chunksToRemove;return this._chunksToRemove=[],e}applyOverrides(e,s){null==this._overrideChunk&&(this._overrideChunk=new r(s)),this._overrideChunk.applyOverrides(e);for(const o of this._chunks.values())o.reader.removeIds(this._overrideChunk.overridenIds),o.invalidate()}forEach(e){const s=new Set;for(const o of this.chunks()){const r=o.reader.getCursor();for(;r.next();){const o=r.getObjectId();s.has(o)||(e(r.copy()),s.add(o))}}}forEachUnsafe(e){const s=new Set;for(const o of this.chunks()){const r=o.reader.getCursor();for(;r.next();){const o=r.getObjectId();s.has(o)||(e(r),s.add(o))}}}forEachInBounds(e,s){const o=new Set;for(const r of this.chunks()){const n=r.queryFeaturesInBounds(e);for(;n.next();){const e=n.getObjectId();o.has(e)||(s(n.copy()),o.add(e))}}}forEachBounds(e,o){const r=s();for(const s of e){s.getBounds(r)&&o(r)}}}export{n as FeatureSourceChunkStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../request.js\";import has from\"../../../../../core/has.js\";import{ignoreAbortErrors as t,throwIfNotAbortError as s}from\"../../../../../core/promiseUtils.js\";import{diff as r,hasRootDiffOnly as a,hasRootDiff as i}from\"../../../../../core/accessorSupport/diffUtils.js\";import{QueryEngine as n}from\"../../../../../layers/graphics/data/QueryEngine.js\";import{executeQueryForCount as o}from\"../../../../../rest/query/operations/query.js\";import{FeatureStoreStatistics as h}from\"../FeatureStoreStatistics.js\";import{FeatureSourceQueryInfo as d}from\"./FeatureSourceQueryInfo.js\";import{StreamMessenger as u}from\"./StreamMessenger.js\";import{DrillDownTileLoadStrategy as c}from\"./strategies/DrillDownTileLoadStrategy.js\";import{PagedTileLoadStrategy as _}from\"./strategies/PagedTileLoadStrategy.js\";import{SnapshotLoadStrategy as g}from\"./strategies/SnapshotLoadStrategy.js\";import{StreamLoadStrategy as m}from\"./strategies/StreamLoadStrategy.js\";import{FeatureSourceChunkStore as l}from\"./strategies/chunks/SourceChunkStore.js\";import{FeatureMetadata as p}from\"../support/FeatureMetadata.js\";import{UpdateTracking2D as y}from\"../../support/UpdateTracking2D.js\";class v{constructor(e,t,s,r){this._aggregateAdapter=e,this._subscriptions=t,this._onChange=s,this._connection=r,this._updateTracking=new y({debugName:\"FeatureSource\"}),this._didInvalidateData=!1,this._store=new l(this._onChange)}destroy(){this._strategy?.destroy(),this._store.destroy(),this._streamMessenger?.destroy()}get _eventLog(){return this._connection.eventLog}get metadata(){if(!this._metadata)throw new Error(\"InternalError: Metadata not defined. Was update called?\");return this._metadata}get service(){return this._schema.service}get store(){return this._store}get streamMessenger(){return null==this._streamMessenger&&this._initStreamMessenger(),this._streamMessenger}get statistics(){return h.from(this._store)}get updateTracking(){return this._updateTracking}get queryEngine(){if(!this._queryEngine){if(!this._schema)return null;const{dataFilter:e}=this._schema.mutable,t=this._schema.mutable.availableFields,s=this._metadata;this._queryEngine=new n({featureStore:this._store,fieldsIndex:s.fieldsIndex,geometryType:s.geometryType,objectIdField:s.objectIdField,hasM:!1,hasZ:!1,spatialReference:e.outSpatialReference,cacheSpatialQueries:!0,aggregateAdapter:this._aggregateAdapter,timeInfo:s.timeInfo,definitionExpression:e.definitionExpression,availableFields:t})}return this._queryEngine}get isStream(){return\"stream\"===this._schema.type}chunks(){return Array.from(this._store.chunks())}cleanupRemovedChunks(){return this._store.cleanupRemovedChunks()}onSubscribe(e){this._eventLog.onEvent({type:\"subscribe\",tile:e.tile.id});const t=this._strategy?.load(e);t&&(t.then((()=>this._eventLog.onEvent({type:\"loaded\",tile:e.tile.id}))).catch((t=>this._eventLog.onEvent({type:\"error\",tile:e.tile.id,error:t}))),this._updateTracking.addPromise(t))}onResume(e){this._updateTracking.addPromise(t(this._strategy?.load(e)))}onUnsubscribe(e){this._eventLog.onEvent({type:\"unsubscribe\",tile:e.tile.id}),this._strategy?.unload(e)}getOverride(e){return this._updateTracking.addPromise(this._doGetOverride(e))}applyOverride(e){this._didInvalidateData=!0,this._store.applyOverrides(e,this.metadata)}async update(e,t){const s=e.source,n=r(this._schema?.mutable,s.mutable);if(!n)return!1;if(has(\"esri-2d-update-debug\")&&console.debug(`Version[${t}] FeatureSource.update`,{changes:n}),this._schema=s,this._metadata=new p(this._schema.service.metadata),this._queryEngine?.destroy(),this._queryEngine=null,\"feature\"===this._schema.type&&null!=this._schema.service.queryMetadata.lastEditDate&&(this._lastEditDate=this._schema.service.queryMetadata.lastEditDate),null==this._streamMessenger&&\"stream\"===this._schema.type&&this._initStreamMessenger(),a(n,\"sourceRefreshVersion\")&&this._strategy?.refresh)return await this._strategy.refresh(),!0;if(\"feature\"===s.type&&a(n,\"availableFields\")){if(await this._queryLastEditDateChanged()||this._didInvalidateData)this._didInvalidateData=!1,await this._updateStrategy(t);else{this._eventLog.onEvent({type:\"updateFieldsStart\"});try{await this._strategy.updateFields(s.mutable.availableFields),this._eventLog.onEvent({type:\"updateFieldsEnd\"})}catch(o){this._eventLog.onEvent({type:\"updateFieldsError\",error:o})}}return!1}return!(!i(n,\"dataFilter\")&&!i(n,\"sourceRefreshVersion\"))&&(await this._updateStrategy(t),!0)}_initStreamMessenger(){null==this._streamMessenger&&(this._streamMessenger=new u(this._connection))}async _doGetOverride(e){return this._strategy.queryOverride(e)}async _queryLastEditDateChanged(){if(null==this._lastEditDate)return!1;const t=this._schema.service.source,s={...t.query,f:\"json\"},r=(await e(t.path,{query:s,responseType:\"json\"})).data.editingInfo.lastEditDate;return r!==this._lastEditDate&&(this._lastEditDate=r,!0)}async _createStrategy(){const e=this.service,t=\"isSourceHosted\"in e&&e.isSourceHosted,s=Array.isArray(e.source),r=e.source&&\"collection\"in e.source,a=t||s||r;if(\"stream\"===this._schema.type){const e=new m(this._schema.service,this._schema.mutable.dataFilter,this._store,{outSR:this._schema.mutable.dataFilter.outSpatialReference},this.metadata);return this._streamMessenger.strategy=e,e}const i=d.fromSchema(this._schema,this._metadata),n=await this._supportSnapshotMode(this._schema,i);return n?new g(this._schema.service,i,this._store,n.featureCount,this.metadata,this._eventLog):a?new _(this._schema.service,i,this._store,this.metadata,this._eventLog):new c(this._schema.service,i,this._store,this.metadata,this._eventLog)}async _updateStrategy(e){const t=await this._createStrategy();this._eventLog.onEvent({type:\"updateStrategyStart\",about:t.about});const r=!!this._strategy;this._store.clear(),this._strategy?.destroy(),this._strategy=t,has(\"esri-2d-update-debug\")&&console.debug(`Version[${e}] FeatureSource.updateStrategy`,{strategy:t});const a=Array.from(this._subscriptions.values());if(!a.length)return void this._eventLog.onEvent({type:\"updateStrategyEnd\"});const i=Promise.all(a.map((e=>this._strategy.load(e).then((()=>this._eventLog.onEvent({type:\"loaded\",tile:e.tile.id}))).catch((t=>this._eventLog.onEvent({type:\"error\",tile:e.tile.id,error:t}))))));this._updateTracking.addPromise(i);try{r&&await i}catch(n){s(n)}this._eventLog.onEvent({type:\"updateStrategyEnd\"}),has(\"esri-2d-update-debug\")&&console.debug(`Version[${e}] FeatureSource.updateStrategyEnd`,{strategy:t})}async _supportSnapshotMode(e,t){const{queryMetadata:s}=e.service,r=s.snapshotInfo;if(!r||!r.supportsSnapshotMinThreshold||!r.snapshotCountThresholds)return null;const a=e.service.source,i=t.createQuery();i.inner.orderByFields=[],i.inner.returnGeometry=!1;const n=(await o(a,i.inner,{query:i.customParameters})).data.count,{min:h,max:d}=r.snapshotCountThresholds;return n<=h||r.supportsSnapshotMaxThreshold&&n<d?{featureCount:n}:null}}export{v as FeatureSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{createResolver as e}from\"../../../../../core/promiseUtils.js\";class r{constructor(r,s){this._handles=new t,this._abortController=new AbortController,this._resolver=e(),this._isDone=!1,this._aborted=!1,this.tile=r,this._version=s,this._handles.add([])}destroy(){this.pause(),this._handles.destroy()}get key(){return this.tile.key}get version(){return this._version}set version(t){this._version=t}get signal(){return this._abortController.signal}get options(){return{signal:this._abortController.signal}}get done(){return this._resolver.promise}get isDone(){return this._isDone}resolve(){this._isDone=!0,this._resolver.resolve()}get paused(){return this._aborted}resume(){this._abortController=new AbortController,this._aborted=!1}pause(){this._aborted||(this._aborted=!0,this._abortController.abort())}}export{r as FeatureTileSubscription};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{handlesGroup as t}from\"../../../../core/handleUtils.js\";import has from\"../../../../core/has.js\";import{nextTick as s}from\"../../../../core/nextTick.js\";import{throwIfNotAbortError as i,createResolver as r}from\"../../../../core/promiseUtils.js\";import o from\"../../../../core/RandomLCG.js\";import{watch as n}from\"../../../../core/reactiveUtils.js\";import{pt2px as u}from\"../../../../core/screenUtils.js\";import a from\"../../../../layers/support/TileInfo.js\";import d from\"../../tiling/TileInfoView.js\";import\"../../tiling/TileKey.js\";import\"../../tiling/TileQueue.js\";import\"../../tiling/TileStrategy.js\";import{tileSize as c}from\"../../engine/webgl/definitions.js\";import{PipelineConnectionHandlers as p}from\"./PipelineConnectionHandlers.js\";import h from\"./Processor.js\";import{FeatureSource as l}from\"./sources/FeatureSource.js\";import{FeatureTileSubscription as g}from\"./sources/FeatureTileSubscription.js\";import{Tile as _}from\"./support/Tile.js\";class f{constructor(e){this.edit=e,this.resolver=r()}}class b{constructor(e,t){this.schema=e,this.version=t,this.resolver=r()}}class m{constructor(){this._aggregateAdapter={getFeatureObjectIds:e=>this._processor.getFeatureObjectIdsForAggregate(e)},this._subscriptions=new Map,this._updateRequested=!1,this._updateSubscriptionRequests=[],this._updateHighlightRequests=[]}destroy(){this._subscriptions.clear(),this._processor.destroy(),this._source.destroy(),this._handles.remove(),this._editState=null,this._tileInfoView=null}onDetach(){this.destroy(),this._initialize(this._connection)}_initialize(e){this._source=new l(this._aggregateAdapter,this._subscriptions,(()=>this._requestUpdate()),e),this._processor=new h(e,this._source),this._handles=t([n((()=>this._source.updateTracking.updating),(()=>{this._requestUpdate(),this._connection.layerView.setUpdating({data:this._source.updateTracking.updating,pipeline:!0})}))])}set remoteClient(e){this._connection=new p(e),this._initialize(this._connection)}get features(){const t=this._source.queryEngine;if(!t)throw new e(\"no-queryEngine\",\"No query engine defined\");return t}get aggregates(){const t=this._processor.aggregateQueryEngine;if(!t)throw new e(\"no-queryEngine\",\"No aggregate query engine defined\");return t}get processor(){return this._processor}get streamMessenger(){return this._source.streamMessenger}getDisplayFeatures(e){return this._processor.getDisplayFeatures(e)}async updateSchema(e,t){return has(\"esri-2d-update-debug\")&&this._updateSchemaState&&console.error(\"InternalError: Schema already updating\"),this._updateSchemaState=new b(e,t),this._requestUpdate(),this._updateSchemaState.resolver.promise}updateSubscriptions(e){this._updateSubscriptionRequests.push(e),this._requestUpdate()}updateHighlight(e){this._updateHighlightRequests.push(e),this._requestUpdate()}async onEdits(t){if(null!=this._editState)throw new e(\"InternalError - Already processing an edit\");this._editState=new f(t);const s=this._editState.resolver.promise;return this._requestUpdate(),s}queryStatistics(){return this._source.statistics.toJSON()}async queryVisibleFeatures(e,t){return this.features.executeQuery(e,t)}async queryHeatmapStatistics(e){const t=Math.round(u(e.radius));let s=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const r=\"string\"==typeof e.fieldOffset,o=e.fieldOffset??0,n=Array.from(this._subscriptions.values()),a=this._source.chunks(),d=t**2,p=3/(Math.PI*d),h=2*t,l=Math.ceil(c/h);for(const u of n){const t=u.tile,n=new Float64Array(l*l);for(const s of a){const i=s.getTileReader(t);if(!i)continue;const u=i.getCursor();for(;u.next();){let t=1;if(null!=e.field){const s=u.readAttribute(e.field);t=r?-1*+s:+s+o}const s=u.readXForDisplay()/h,i=u.readYForDisplay()/h,a=Math.floor(s),c=Math.floor(i);if(a<0||c<0||a>=l||c>=l)continue;const g=((.5+a-s)*h)**2+((.5+c-i)*h)**2;if(g>d)continue;const _=t*(p*(1-g/d)**2);n[c+a*l]+=_}}for(let e=0;e<n.length;e++)s=Math.min(s,n[e]),i=Math.max(i,n[e])}return{max:i,min:s}}async getSampleFeatures(e){const t=this._source.chunks();if(t.reduce(((e,t)=>e+t.size()),0)<=e.minFeatureCount){if(!this._source.updateTracking.updating){const e=[];return this._source.store.forEachUnsafe((t=>e.push(t.readLegacyFeatureWorldSpace()))),e}return null}const s=new Set,i=[],r=t.map((e=>e.reader.getCursor())),n=new o,u=3*e.sampleSize;for(let o=0;o<u&&i.length<e.sampleSize;o++){const e=r[n.getIntRange(0,t.length-1)];if(0===e.getSize())continue;const o=n.getIntRange(0,e.getSize()-1);e.setIndex(o);const u=e.getObjectId();s.has(u)||(s.add(u),i.push(e.readLegacyFeatureWorldSpace()))}return i.length>=e.sampleSize?i:null}_requestUpdate(){this._updateRequested||(this._updateRequested=!0,s((()=>this._scheduleNextUpdate())))}_scheduleNextUpdate(){this._updateRequested&&(this._ongoingUpdate||(this._ongoingUpdate=this._doUpdate().finally((()=>{this._ongoingUpdate=null,this._scheduleNextUpdate()})),this._updateRequested=!1))}_subscribe(e){const t=e.tileId;if(this._subscriptions.has(t)){const s=this._subscriptions.get(t);return void(s.paused&&(has(\"esri-2d-update-debug\")&&console.debug(`Tile[${t}] Pipeline.resume`),s.resume(),s.version=e.version,this._source.onResume(s)))}has(\"esri-2d-update-debug\")&&console.debug(`Tile[${t}] Pipeline.subscribe`);const s=new _(this._tileInfoView,t),i=new g(s,e.version);this._subscriptions.set(t,i),this._source.onSubscribe(i),this._processor.onSubscribe(i)}_unsubscribe(e){const t=this._subscriptions.get(e);t&&(has(\"esri-2d-update-debug\")&&console.debug(`Tile[${e}] Pipeline.unsubscribe`),this._source.onUnsubscribe(t),this._processor.onUnsubscribe(t),this._subscriptions.delete(t.key.id),t.destroy())}_pauseSubscription(e){const t=this._subscriptions.get(e);t&&(has(\"esri-2d-update-debug\")&&console.debug(`Tile[${e}] Pipeline.pause`),t.pause())}async _doUpdate(){if(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline._doUpdateStart\"),await this._connection.layerView.setUpdating({data:this._source.updateTracking.updating,pipeline:!0}),this._updateSubscriptionRequests.length){const e=this._updateSubscriptionRequests;this._updateSubscriptionRequests=[];for(const t of e)this._doUpdateSubscriptions(t)}const e=this._updateSchemaState;if(this._updateSchemaState=null,null!=e){const{schema:t,version:s}=e;await this._doUpdateSchema(t,s)}const t=this._editState;if(this._editState=null,null!=t){has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.applyEditOverride\",t.edit);const e=await this._source.getOverride(t.edit);await this._processor.applyOverride(e),has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.endEditOverride\",t.edit)}if(this._updateHighlightRequests.length){const e=this._updateHighlightRequests;this._updateHighlightRequests=[];for(const t of e)this._processor.updateHighlight(t)}const s=this._source.cleanupRemovedChunks();this._processor.removeChunks(s);try{this._subscriptions.size&&(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.updateChunksStart\"),await this._processor.updateChunks(),has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.updateChunksEnd\"))}catch(r){i(r)}null!=t&&t.resolver.resolve(),null!=e&&e.resolver.resolve(),this._updateRequested?(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline._doUpdateEnd [updateRequested=true]\"),await this._connection.layerView.setUpdating({data:this._source.updateTracking.updating,pipeline:!0})):(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline._doUpdateEnd [updateRequested=false, After flush]\"),await this._connection.layerView.setUpdating({data:this._source.updateTracking.updating,pipeline:this._updateRequested}))}async _doUpdateSchema(e,t){if(has(\"esri-2d-update-debug\")&&console.debug(`Version[${t}] Pipeline.updateStart`,{schema:e}),!this._tileInfoView){const t=a.fromJSON(e.source.tileInfoJSON);this._tileInfoView=new d(t)}const s={tileInfo:this._tileInfoView?.tileInfo};try{const i=await this._source.update(e,t),r=Array.from(this._subscriptions.values());await this._processor.update(e,t,s,i,r)}catch(i){console.error(i)}has(\"esri-2d-update-debug\")&&console.debug(`Version[${t}] Pipeline.updateEnd`)}_doUpdateSubscriptions(e){if(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.updateSubscriptions\",e),!this._tileInfoView){const t=a.fromJSON(e.tileInfoJSON);this._tileInfoView=new d(t)}for(const t of e.subscribe)this._subscribe(t);for(const t of e.unsubscribe)this._unsubscribe(t);if(has(\"featurelayer-query-pausing-enabled\"))for(const t of e.pause)this._pauseSubscription(t)}}export{m as default};\n"],"names":["e$5","i","n","h","o","c","a","l","f","u","e","m","_","d","p","y","g$2","s","r","t","s$b","e$4","s$9","s$8","l$5","n$5","o$a","s$7","s$6","e$2","i$4","g$1","y$3","g","s$5","n$4","r$7","u$1","a$9","c$2","h$1","o$9","o$8","r$6","y$2","S","t$5","x","T","G","j","W","N","b","w","I","o$6","a$7","t$4","a$6","o$5","has","t$3","s$3","o$2","k","L","A","F","C","U","m$2","f$1","a$2","i$1","r$3","n$2","n$1","a$1","t$1","v"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53]}