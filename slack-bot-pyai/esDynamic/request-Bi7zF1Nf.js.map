{"version":3,"file":"request-Bi7zF1Nf.js","sources":["../../node_modules/@arcgis/core/core/workers/request.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport t from\"../Error.js\";function e(e,s){let a=s.responseType;a?\"array-buffer\"!==a&&\"blob\"!==a&&\"json\"!==a&&\"native\"!==a&&\"native-request-init\"!==a&&\"text\"!==a&&(a=\"text\"):a=\"json\",s.responseType=a;const r=s.signal;return delete s.signal,globalThis.invokeStaticMessage(\"request\",{url:e,options:s},{signal:r}).then((async n=>{let o,i,l,u,c;if(n.data)if(n.data instanceof ArrayBuffer){if(!(\"json\"!==a&&\"text\"!==a&&\"blob\"!==a||(o=new Blob([n.data]),\"json\"!==a&&\"text\"!==a||(u=await o.text(),\"json\"!==a)))){try{i=JSON.parse(u||null)}catch(p){const a={...p,url:e,requestOptions:s};throw new t(\"request:server\",p.message,a)}if(i.error){const a={...i.error,url:e,requestOptions:s};throw new t(\"request:server\",i.error.message,a)}}}else\"native\"===a&&(n.data.signal=r,l=await fetch(n.data.url,n.data),n.httpStatus=l.status);switch(a){case\"blob\":c=o;break;case\"json\":c=i;break;case\"native\":c=l;break;case\"text\":c=u;break;default:c=n.data}return{data:c,httpStatus:n.httpStatus,requestOptions:s,ssl:n.ssl,url:e}}))}export{e as execute};\n"],"names":["e","s","a","r","n","o","i","c","p","t"],"mappings":";AAI2B,SAASA,EAAEA,GAAEC,GAAE;AAAC,MAAIC,IAAED,EAAE;AAAa,EAAAC,IAAmBA,MAAjB,kBAA6BA,MAAT,UAAqBA,MAAT,UAAuBA,MAAX,YAAsCA,MAAxB,yBAAoCA,MAAT,WAAaA,IAAE,UAAQA,IAAE,QAAOD,EAAE,eAAaC;AAAE,QAAMC,IAAEF,EAAE;AAAO,SAAO,OAAOA,EAAE,QAAO,WAAW,oBAAoB,WAAU,EAAC,KAAID,GAAE,SAAQC,EAAC,GAAE,EAAC,QAAOE,EAAC,CAAC,EAAE,KAAM,OAAMC,MAAG;AAAC,QAAIC,GAAEC,GAAE,GAAE,GAAEC;AAAE,QAAGH,EAAE,KAAK,KAAGA,EAAE,gBAAgB;AAAa,UAAG,EAAWF,MAAT,UAAqBA,MAAT,UAAqBA,MAAT,WAAaG,IAAE,IAAI,KAAK,CAACD,EAAE,IAAI,CAAC,GAAWF,MAAT,UAAqBA,MAAT,WAAa,IAAE,MAAMG,EAAE,QAAgBH,MAAT,WAAc;AAAC,YAAG;AAAC,UAAAI,IAAE,KAAK,MAAM,KAAG,IAAI;AAAA,QAAC,SAAOE,GAAE;AAAC,gBAAMN,IAAE,EAAC,GAAGM,GAAE,KAAIR,GAAE,gBAAeC,EAAC;AAAE,gBAAM,IAAIQ,EAAE,kBAAiBD,EAAE,SAAQN,CAAC;AAAA,QAAC;AAAC,YAAGI,EAAE,OAAM;AAAC,gBAAMJ,IAAE,EAAC,GAAGI,EAAE,OAAM,KAAIN,GAAE,gBAAeC,EAAC;AAAE,gBAAM,IAAIQ,EAAE,kBAAiBH,EAAE,MAAM,SAAQJ,CAAC;AAAA,QAAC;AAAA,MAAC;AAAA,UAAM,CAAWA,MAAX,aAAeE,EAAE,KAAK,SAAOD,GAAE,IAAE,MAAM,MAAMC,EAAE,KAAK,KAAIA,EAAE,IAAI,GAAEA,EAAE,aAAW,EAAE;AAAQ,YAAOF,GAAC;AAAA,MAAE,KAAI;AAAO,QAAAK,IAAEF;AAAE;AAAA,MAAM,KAAI;AAAO,QAAAE,IAAED;AAAE;AAAA,MAAM,KAAI;AAAS,QAAAC,IAAE;AAAE;AAAA,MAAM,KAAI;AAAO,QAAAA,IAAE;AAAE;AAAA,MAAM;AAAQ,QAAAA,IAAEH,EAAE;AAAA,IAAI;AAAC,WAAM,EAAC,MAAKG,GAAE,YAAWH,EAAE,YAAW,gBAAeH,GAAE,KAAIG,EAAE,KAAI,KAAIJ,EAAC;AAAA,EAAC,CAAG;AAAA;","x_google_ignoreList":[0]}