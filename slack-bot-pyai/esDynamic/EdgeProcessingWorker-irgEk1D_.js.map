{"version":3,"file":"EdgeProcessingWorker-irgEk1D_.js","sources":["../../node_modules/@arcgis/core/views/3d/support/buffer/workerHelper.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{PackedLayout as e,InterleavedLayout as r}from\"./InterleavedLayout.js\";function u(r,u){return u.push(r.buffer),{buffer:r.buffer,layout:new e(r.layout)}}function t(e){return new r(e.layout).createView(e.buffer)}export{u as packInterleavedBuffer,t as unpackInterleavedBuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{packInterleavedBuffer as e}from\"../../../support/buffer/workerHelper.js\";import{EdgeInputBufferLayout as t}from\"./bufferLayouts.js\";import{extractEdges as n}from\"./edgePreprocessing.js\";import{extract as s,extractEdgeInformation as r,extractEdgeLocationsLayout as i,extractComponentsEdgeLocationsLayout as a}from\"./edgeProcessing.js\";class o{async extract(e){const t=c(e),n=s(t),r=[t.data.buffer];return{result:l(n,r),transferList:r}}async extractComponentsEdgeLocations(t){const s=c(t),i=r(s.data,s.skipDeduplicate,s.indices,s.indicesLength),a=n(i,p,g),o=[];return{result:e(a.regular.instancesData,o),transferList:o}}async extractEdgeLocations(t){const s=c(t),i=r(s.data,s.skipDeduplicate,s.indices,s.indicesLength),a=n(i,f,g),o=[];return{result:e(a.regular.instancesData,o),transferList:o}}}function c(e){return{data:t.createView(e.dataBuffer),indices:\"Uint32Array\"===e.indicesType?new Uint32Array(e.indices):\"Uint16Array\"===e.indicesType?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function l(t,n){n.push(t.regular.lodInfo.lengths.buffer),n.push(t.silhouette.lodInfo.lengths.buffer);return{regular:{instancesData:e(t.regular.instancesData,n),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:e(t.silhouette.instancesData,n),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}class u{allocate(e){return i.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}}class d{allocate(e){return a.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}const f=new u,p=new d,g={allocate:()=>null,write:()=>{},trim:()=>null};export{o as default};\n"],"names":["u","r","e","o","t","c","n","s","l","i","a","p","g","f","d"],"mappings":"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","x_google_ignoreList":[0,1]}