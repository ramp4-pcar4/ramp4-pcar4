import { a as n$2, n as n$3, m as m$4 } from './TimeOnly-D8cMS1Ew.js';
import { aa as r$2, ic as DateTime, ie as Zone, id as t$2, ll as i$1, lm as r$3, aD as o$3, V as has, ig as FixedOffsetZone } from './main-48Jy8Lgr.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
var t$1;!function(e){e.InvalidFunctionParameters="InvalidFunctionParameters",e.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",e.UnsupportedSqlFunction="UnsupportedSqlFunction",e.UnsupportedOperator="UnsupportedOperator",e.UnsupportedSyntax="UnsupportedSyntax",e.UnsupportedIsRhs="UnsupportedIsRhs",e.UnsupportedIsLhs="UnsupportedIsLhs",e.InvalidDataType="InvalidDataType",e.CannotCastValue="CannotCastValue",e.FunctionNotRecognized="FunctionNotRecognized",e.InvalidTime="InvalidTime",e.InvalidParameterCount="InvalidParameterCount",e.InvalidTimeStamp="InvalidTimeStamp",e.InvalidDate="InvalidDate",e.InvalidOperator="InvalidOperator",e.IllegalInterval="IllegalInterval",e.YearMonthIntervals="YearMonthIntervals",e.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",e.MissingStatisticParameters="MissingStatisticParameters";}(t$1||(t$1={}));const a={[t$1.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[t$1.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[t$1.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[t$1.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[t$1.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[t$1.UnsupportedOperator]:"Unsupported operator - {operator}",[t$1.UnsupportedSyntax]:"Unsupported syntax - {node}",[t$1.UnsupportedSqlFunction]:"Sql function not found = {function}",[t$1.InvalidDataType]:"Invalid sql data type",[t$1.InvalidDate]:"Invalid date encountered",[t$1.InvalidOperator]:"Invalid operator encountered",[t$1.InvalidTime]:"Invalid time encountered",[t$1.IllegalInterval]:"Illegal interval",[t$1.FunctionNotRecognized]:"Function not recognized",[t$1.InvalidTimeStamp]:"Invalid timestamp encountered",[t$1.InvalidParameterCount]:"Invalid parameter count for call to {name}",[t$1.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[t$1.YearMonthIntervals]:"Year-Month Intervals not supported",[t$1.CannotCastValue]:"Cannot cast value to the required data type"};let n$1 = class n extends Error{constructor(t,r){super(r$2(a[t],r)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,n);}};var r$1;!function(e){e.NeverReach="NeverReach",e.NotImplemented="NotImplemented",e.Cancelled="Cancelled",e.InvalidStatResponse="InvalidStatResponse",e.InvalidRequest="InvalidRequest",e.RequestFailed="RequestFailed",e.MissingFeatures="MissingFeatures",e.AggregationFieldNotFound="AggregationFieldNotFound",e.DataElementsNotFound="DataElementsNotFound";}(r$1||(r$1={}));const o$2={[r$1.Cancelled]:"Cancelled",[r$1.InvalidStatResponse]:"Invalid statistics response from service",[r$1.InvalidRequest]:"Invalid request",[r$1.RequestFailed]:"Request failed - {reason}",[r$1.MissingFeatures]:"Missing features",[r$1.AggregationFieldNotFound]:"Aggregation field not found",[r$1.DataElementsNotFound]:"Data elements not found on service",[r$1.NeverReach]:"Encountered unreachable logic",[r$1.NotImplemented]:"Not implemented"};let s$2 = class s extends Error{constructor(t,a){super(r$2(o$2[t],a)),this.declaredRootClass="esri.arcade.featureset.support.featureseterror",Error.captureStackTrace&&Error.captureStackTrace(this,s);}};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
function e$1(t){return Number.isNaN(t)||0===t?t:Math.trunc(t)}class r{constructor(t){this._timeStampOffset=t,this._date=null;}toDateTime(){return this._date??=DateTime.fromISO(this._timeStampOffset,{setZone:!0}),this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return e$1(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return e$1(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return r.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(e){return new r(DateTime.fromJSDate(e).toISO({includeOffset:!0}))}static fromDateTime(t){return new r(t.toISO({includeOffset:!0}))}static fromParts(t,e,i=0,a=0,o=0,n=0,s=0,m=!1,u=0,f=0){const S=`${t.toString().padStart(4,"0")}-${e.toString().padStart(2,"0")}-${i.toString().padStart(2,"0")}`;let d="";n<10&&(d="0");let h=`${a.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}:${d+n.toString()}`;0!==s&&(h+="."+s.toString().padStart(3,"0"));const l=`${m?"-":"+"}${u.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`;return new r(S+"T"+h+l)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let t=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return t&&(t=t.replace(".000","")),t}toSQLWithKeyword(){return `timestamp '${this.toSQLValue()}'`}addMilliseconds(t){const e=this.toDateTime().plus(t);return r.fromDateTime(e)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
function u$2(t,a){const e=m$3[t.toLowerCase()];if(null==e)throw new n$1(t$1.FunctionNotRecognized);if(a.length<e.minParams||a.length>e.maxParams)throw new n$1(t$1.InvalidParameterCount,{name:t.toUpperCase()});return e.evaluate(a)}function o$1(n,l){const t=m$3[n.toLowerCase()];return null!=t&&l>=t.minParams&&l<=t.maxParams}const m$3={min:{minParams:1,maxParams:1,evaluate:n=>f$1(n[0],"min")},max:{minParams:1,maxParams:1,evaluate:n=>f$1(n[0],"max")},avg:{minParams:1,maxParams:1,evaluate:n=>i(n[0])},sum:{minParams:1,maxParams:1,evaluate:n=>c$1(n[0])},stddev:{minParams:1,maxParams:1,evaluate:n=>g$2(n[0])},count:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:n[0].length},var:{minParams:1,maxParams:1,evaluate:n=>P$2(n[0])}};function i(t){if(null===t)return null;let a=0,e=0;for(let r=0;r<t.length;r++){const u=t[r];if(null!==u){if(!s$1(u))throw new n$1(t$1.InvalidValueForAggregateFunction);e++,a+=u;}}return 0===e?null:a/t.length}function s$1(n){return "number"==typeof n}function f$1(n,l){if(null===n)return null;let u=null,o=null;for(const m of n){let n=m;n=m instanceof n$2||m instanceof n$3?m.toNumber():m instanceof DateTime?m.toMillis():m instanceof r?m.toMilliseconds():m,(null===u||"max"===l&&null!==o&&null!==n&&o<=n||"min"===l&&null!==o&&null!==n&&o>=n)&&(u=m,o=n);}return u}function c$1(t){if(null===t)return null;let a=0;for(let e=0;e<t.length;e++){const r=t[e];if(null!==r){if(!s$1(r))throw new n$1(t$1.InvalidValueForAggregateFunction);a+=r;}}return a}function g$2(n){if(null===n)return null;const l=P$2(n);return null===l?null:Math.sqrt(l)}function P$2(t){if(null===t)return null;if(0===(t=t.filter((n=>null!==n))).length)return null;const a=i(t);if(null===a)return null;let e=0;for(const r of t){if(!s$1(r))throw new n$1(t$1.InvalidValueForAggregateFunction);e+=(a-r)**2;}return e/(t.length-1)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
class s{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0;}static _fixDefaults(s){if(null!==s.precision||null!==s.secondary)throw new n$1(t$1.PrimarySecondaryQualifiers)}static _parseSecondsComponent(e,t){if(t.includes(".")){const s=t.split(".");e.second=parseFloat(s[0]),e.millis=parseInt(s[1],10);}else e.second=parseFloat(t);}static createFromMilliseconds(e){const t=new s;return t.second=e/1e3,t}static createFromValueAndQualifier(r,a,l){let o=null;const n=new s;if(n.op="-"===l?"-":"+","interval-period"===a.type){s._fixDefaults(a);const l=new RegExp("^[0-9]{1,}$");if("year"===a.period||"month"===a.period)throw new n$1(t$1.YearMonthIntervals);if("second"===a.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(r))throw new n$1(t$1.IllegalInterval);s._parseSecondsComponent(n,r);}else {if(!l.test(r))throw new n$1(t$1.IllegalInterval);n[a.period]=parseFloat(r);}}else {if(s._fixDefaults(a.start),s._fixDefaults(a.end),"year"===a.start.period||"month"===a.start.period||"year"===a.end.period||"month"===a.end.period)throw new n$1(t$1.YearMonthIntervals);switch(a.start.period){case"day":switch(a.end.period){case"hour":if(o=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!o.test(r))throw new n$1(t$1.IllegalInterval);n[a.start.period]=parseFloat(r.split(" ")[0]),n[a.end.period]=parseFloat(r.split(" ")[1]);break;case"minute":if(o=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!o.test(r))throw new n$1(t$1.IllegalInterval);{n[a.start.period]=parseFloat(r.split(" ")[0]);const e=r.split(" ")[1].split(":");n.hour=parseFloat(e[0]),n.minute=parseFloat(e[1]);}break;case"second":if(o=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!o.test(r))throw new n$1(t$1.IllegalInterval);{n[a.start.period]=parseFloat(r.split(" ")[0]);const e=r.split(" ")[1].split(":");n.hour=parseFloat(e[0]),n.minute=parseFloat(e[1]),s._parseSecondsComponent(n,e[2]);}break;default:throw new n$1(t$1.IllegalInterval)}break;case"hour":switch(a.end.period){case"minute":if(o=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!o.test(r))throw new n$1(t$1.IllegalInterval);n.hour=parseFloat(r.split(":")[0]),n.minute=parseFloat(r.split(":")[1]);break;case"second":if(o=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!o.test(r))throw new n$1(t$1.IllegalInterval);{const e=r.split(":");n.hour=parseFloat(e[0]),n.minute=parseFloat(e[1]),s._parseSecondsComponent(n,e[2]);}break;default:throw new n$1(t$1.IllegalInterval)}break;case"minute":if("second"!==a.end.period)throw new n$1(t$1.IllegalInterval);if(o=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!o.test(r))throw new n$1(t$1.IllegalInterval);{const e=r.split(":");n.minute=parseFloat(e[0]),s._parseSecondsComponent(n,e[1]);}break;default:throw new n$1(t$1.IllegalInterval)}}return n}valueInMilliseconds(){return ("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
const l$1=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,d$2=/^(\d{1,2}):(\d{1,2})$/,c=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,u$1=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,m$2=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,I$3=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,w$3=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,h$2=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function T$3(n,e){if(e instanceof Zone)return e===t$2.instance?DateTime.fromMillis(n.getTime(),{zone:t$2.instance}):DateTime.fromJSDate(n,{zone:e});switch(e){case"system":case"local":case null:return DateTime.fromJSDate(n);default:return "unknown"===e?.toLowerCase()?DateTime.fromMillis(n.getTime(),{zone:t$2.instance}):DateTime.fromJSDate(n,{zone:e})}}function v$3(n){return "number"==typeof n}function y$2(n){return "string"==typeof n||n instanceof String}function S$1(n){return n instanceof s}function x$4(n){return n instanceof Date}function j$3(n){return n instanceof DateTime}function $$1(n){return n instanceof n$2}function z$2(n){return n instanceof n$3}function D$3(n){return n instanceof r}function O$3(t){let r=l$1.exec(t);if(null!==r){const[,t,a,s]=r,i=n$3.fromParts(parseInt(t,10),parseInt(a,10),parseInt(s,10),0);if(null!==i)return i;throw new n$1(t$1.InvalidTime)}if(r=d$2.exec(t),null!==r){const[,t,a]=r,s=n$3.fromParts(parseInt(t,10),parseInt(a,10),0,0);if(null!==s)return s;throw new n$1(t$1.InvalidTime)}if(r=c.exec(t),null!==r){const[,t,a,s,i]=r,f=n$3.fromParts(parseInt(t,10),parseInt(a,10),parseInt(s,10),parseInt(i,10));if(null!==f)return f;throw new n$1(t$1.InvalidTime)}throw new n$1(t$1.InvalidTime)}function P$1(t,r$1,o=!1){let s=m$2.exec(t);if(null!==s){const[,t,a,o,f,l,d,c]=s,u=DateTime.fromObject({year:parseInt(t,10),month:parseInt(a,10),day:parseInt(o,10),hour:parseInt(f,10),minute:parseInt(l,10),second:parseInt(d,10),millisecond:c?parseInt(c.replace(".",""),10):0},{zone:i$1(r$1)});if(!1===u.isValid)throw new n$1(t$1.InvalidTimeStamp);return u}if(s=I$3.exec(t),null!==s){const[,t,r$1,o,i,f,p,l,d,c,u]=s,m=r.fromParts(parseInt(t,10),parseInt(r$1,10),parseInt(o,10),parseInt(i,10),parseInt(f,10),parseInt(p,10),l?parseInt(l.replace(".",""),10):0,"-"===d,parseInt(c,10),parseInt(u,10));if(!1===m.isValid)throw new n$1(t$1.InvalidTimeStamp);return m}if(s=w$3.exec(t),null!==s){const[,t,r$1,o,i,f,p,l,d]=s,c=r.fromParts(parseInt(t,10),parseInt(r$1,10),parseInt(o,10),parseInt(i,10),parseInt(f,10),0,0,"-"===p,parseInt(l,10),parseInt(d,10));if(!1===c.isValid)throw new n$1(t$1.InvalidTimeStamp);return c}if(s=h$2.exec(t),null!==s){const[,t,a,o,f,l]=s,d=DateTime.fromObject({year:parseInt(t,10),month:parseInt(a,10),day:parseInt(o,10),hour:parseInt(f,10),minute:parseInt(l,10),second:0},{zone:i$1(r$1)});if(!1===d.isValid)throw new n$1(t$1.InvalidTimeStamp);return d}if(s=u$1.exec(t),null!==s){const[,t,a,o]=s,f=DateTime.fromObject({year:parseInt(t,10),month:parseInt(a,10),day:parseInt(o,10),hour:0,minute:0,second:0},{zone:i$1(r$1)});if(!1===f.isValid)throw new n$1(t$1.InvalidTimeStamp);return f}throw new n$1(t$1.InvalidTimeStamp)}function V$2(r,a){const o=u$1.exec(r);if(null===o)try{return P$1(r,a)}catch{throw new n$1(t$1.InvalidDate)}const[,s,i,f]=o,p=n$2.fromParts(parseInt(s,10),parseInt(i,10),parseInt(f,10));if(null===p)throw new n$1(t$1.InvalidDate);return p}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
const l=321408e5,w$2=26784e5,p$2=864e5,d$1=36e5,m$1=6e4;function h$1(r){return !!j$3(r)||!!D$3(r)}function O$2(r){return !!j$3(r)||(!!$$1(r)||(!!D$3(r)||!!z$2(r)))}function v$2(o){if(j$3(o))return o.toMillis();if($$1(o))return o.toNumber();if(D$3(o))return o.toMilliseconds();throw new n$1(t$1.InvalidDataType)}function I$2(l,w,p,d){if(null==l||null==w)return null;if(v$3(l)){if(v$3(w))return D$2(l,w,p);if(y$2(w))return T$2(l,w,p);if(O$2(w))throw new n$1(t$1.InvalidOperator);if($$1(w))throw new n$1(t$1.InvalidOperator)}else if(y$2(l)){if(v$3(w))return M$2(l,w,p);if(y$2(w))return z$1(l,w,p);if(j$3(w))throw new n$1(t$1.InvalidOperator);if($$1(w))throw new n$1(t$1.InvalidOperator);if(z$2(w))throw new n$1(t$1.InvalidOperator);if(D$3(w))throw new n$1(t$1.InvalidOperator)}else if(j$3(l)){if(h$1(w)){if(l instanceof DateTime&&r$3(l.zone)){if(w instanceof DateTime&&!1===r$3(w.zone))return j$2(l,w,p);if(w instanceof r)return j$2(l,w,p)}else if(w instanceof DateTime&&r$3(w.zone)){if(l instanceof DateTime&&!1===r$3(l.zone))return j$2(l,w,p);if(l instanceof r)return j$2(l,w,p)}return D$2(v$2(l),v$2(w),p)}if(y$2(w))throw new n$1(t$1.InvalidOperator);if($$1(w))return N$1(l,w,p);if(z$2(w))throw new n$1(t$1.InvalidOperator);if(v$3(w))throw new n$1(t$1.InvalidOperator)}else if($$1(l)){if(D$3(w))return b$2(l,w,p);if(j$3(w))return x$3(l,w,p);if(y$2(w))throw new n$1(t$1.InvalidOperator);if($$1(w))return D$2(l.toNumber(),w.toNumber(),p);if(z$2(w))throw new n$1(t$1.InvalidOperator);if(v$3(w))throw new n$1(t$1.InvalidOperator)}else if(z$2(l)){if(z$2(w))return D$2(l.toNumber(),w.toNumber(),p);if(y$2(w))throw new n$1(t$1.InvalidOperator);if(v$3(w))throw new n$1(t$1.InvalidOperator);if($$1(w))throw new n$1(t$1.InvalidOperator);if(h$1(w))throw new n$1(t$1.InvalidOperator)}else if(D$3(l)){if(h$1(w))return w instanceof DateTime&&r$3(w.zone)?j$2(l,w,p):D$2(v$2(l),v$2(w),p);if(y$2(w))throw new n$1(t$1.InvalidOperator);if($$1(w))return y$1(l,w,p);if(z$2(w))throw new n$1(t$1.InvalidOperator);if(v$3(w))throw new n$1(t$1.InvalidOperator)}switch(p){case"<>":return l!==w;case"=":return l===w;case">":return l>w;case"<":return l<w;case">=":return l>=w;case"<=":return l<=w}}function D$2(r,e,t){switch(t){case"<>":return r!==e;case"=":return r===e;case">":return r>e;case"<":return r<e;case">=":return r>=e;case"<=":return r<=e}}function T$2(r,e,t){const n=parseFloat(e);if(!isNaN(n))return D$2(r,n,t);const i=r.toString();switch(t){case"<>":return i!==e;case"=":return i===e;case">":return i>e;case"<":return i<e;case">=":return i>=e;case"<=":return i<=e}}function M$2(r,e,t){const n=parseFloat(r);if(!isNaN(n))return D$2(n,e,t);const i=e.toString();switch(t){case"<>":return r!==i;case"=":return r===i;case">":return r>i;case"<":return r<i;case">=":return r>=i;case"<=":return r<=i}}function z$1(r,e,t){switch(t){case"<>":return r!==e;case"=":return r===e;case">":return r>e;case"<":return r<e;case">=":return r>=e;case"<=":return r<=e}}function N$1(r,e,t){const n=e.toDateTimeLuxon(r.zone);return D$2((r=r.startOf("day")).toMillis(),n.toMillis(),t)}function y$1(r,e,t){const n=e.toDateTimeLuxon(r.toDateTime().zone);return D$2((r=r.startOfDay()).toMilliseconds(),n.toMillis(),t)}function x$3(r,e,t){const n=r.toDateTimeLuxon(e.zone);return e=e.startOf("day"),D$2(n.toMillis(),e.toMillis(),t)}function b$2(r,e,t){const n=r.toDateTimeLuxon(e.toDateTime().zone);return e=e.startOfDay(),D$2(n.toMillis(),e.toMilliseconds(),t)}function j$2(r$1,e,t){r$1 instanceof r&&(r$1=r$1.toDateTime()),e instanceof r&&(e=e.toDateTime());const n=L$2(r$1),i=L$2(e);switch(t){case"<>":return n!==i;case"=":return n===i;case">":return n>i;case"<":return n<i;case">=":return n>=i;case"<=":return n<=i}}function L$2(r){return r.year*l+r.month*w$2+r.day*p$2+r.hour*d$1+r.minute*m$1+1e3*r.second+r.millisecond}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
function w$1(e,t,r){const l=T$1[e.toLowerCase()];if(null==l)throw new n$1(t$1.FunctionNotRecognized);if(t.length<l.minParams||t.length>l.maxParams)throw new n$1(t$1.InvalidParameterCount,{name:e.toUpperCase()});return l.evaluate(t,r)}function C$2(a,n){const e=T$1[a.toLowerCase()];return null!=e&&n>=e.minParams&&n<=e.maxParams}function p$1(a){return "string"==typeof a||a instanceof String}function g$1(a){return !x$4(a)&&(!$$1(a)&&(!j$3(a)&&(!z$2(a)&&!D$3(a))))}function x$2(a){return $$1(a)||z$2(a)?a.toString():D$3(a)?a.toSQLValue():j$3(a)?0===a.millisecond?a.toFormat("yyyy-LL-dd HH:mm:ss"):a.toSQL({includeOffset:!1}):x$4(a)?x$2(DateTime.fromJSDate(a)):a.toString()}function E$2(e){if(x$4(e))return n$2.fromDateJS(e);if(j$3(e))return n$2.fromParts(e.year,e.month,e.day);if($$1(e))return e;if(z$2(e))throw new n$1(t$1.CannotCastValue);if(D$3(e)){if(null===n$2.fromParts(e.year,e.month,e.day))throw new n$1(t$1.CannotCastValue)}if(p$1(e)){const a=n$2.fromReader(e);if(null!==a&&a.isValid)return a}throw new n$1(t$1.CannotCastValue)}function M$1(e,t,r){if(x$4(e))return T$3(e,t);if(j$3(e))return e;if($$1(e))return e.toDateTimeLuxon("unknown");if(z$2(e))throw new n$1(t$1.CannotCastValue);if(D$3(e))return e;if(p$1(e))return P$1(e,"unknown",r);throw new n$1(t$1.CannotCastValue)}function v$1(e){if(x$4(e))return n$3.fromDateJS(e);if(j$3(e))return n$3.fromDateTime(e);if($$1(e))throw new n$1(t$1.CannotCastValue);if(z$2(e))return e;if(D$3(e))return n$3.fromSqlTimeStampOffset(e);if(p$1(e))return O$3(e);throw new n$1(t$1.CannotCastValue)}const T$1={extract:{minParams:2,maxParams:2,evaluate:([e,t])=>{if(null==t)return null;if(x$4(t))switch(e.toUpperCase()){case"SECOND":return t.getSeconds();case"MINUTE":return t.getMinutes();case"HOUR":return t.getHours();case"DAY":return t.getDate();case"MONTH":return t.getMonth()+1;case"YEAR":return t.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0}else if(j$3(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour;case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new n$1(t$1.InvalidFunctionParameters,{function:"EXTRACT"})}else if($$1(t))switch(e.toUpperCase()){case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new n$1(t$1.InvalidFunctionParameters,{function:"EXTRACT"})}else if(z$2(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour}else if(D$3(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour;case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":return t.timezoneOffsetHour;case"TIMEZONE_MINUTE":return t.timezoneOffsetMinutes}throw new n$1(t$1.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:a=>{if(2===a.length){const[n,e]=a;return null==n||null==e?null:n.toString().substring(e-1)}if(3===a.length){const[n,e,t]=a;return null==n||null==e||null==t?null:t<=0?"":n.toString().substring(e-1,e+t-1)}}},position:{minParams:2,maxParams:2,evaluate:([a,n])=>null==a||null==n?null:n.indexOf(a)+1},trim:{minParams:2,maxParams:3,evaluate:t=>{const r=3===t.length,l=r?t[1]:" ",s=r?t[2]:t[1];if(null==l||null==s)return null;const u=`(${o$3(l)})`;switch(t[0]){case"BOTH":return s.replaceAll(new RegExp(`^${u}*|${u}*$`,"g"),"");case"LEADING":return s.replaceAll(new RegExp(`^${u}*`,"g"),"");case"TRAILING":return s.replaceAll(new RegExp(`${u}*$`,"g"),"")}throw new n$1(t$1.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.abs(a[0])},ceiling:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.ceil(a[0])},floor:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.floor(a[0])},log:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.log(a[0])},log10:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.log(a[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.sin(a[0])},cos:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.cos(a[0])},tan:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.tan(a[0])},asin:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.asin(a[0])},acos:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.acos(a[0])},atan:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.atan(a[0])},sign:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:a[0]>0?1:a[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:a=>null==a[0]||null==a[1]?null:a[0]**a[1]},mod:{minParams:2,maxParams:2,evaluate:a=>null==a[0]||null==a[1]?null:a[0]%a[1]},round:{minParams:1,maxParams:2,evaluate:a=>{const n=a[0],e=2===a.length?10**a[1]:1;return null==n?null:Math.round(n*e)/e}},truncate:{minParams:1,maxParams:2,evaluate:a=>null==a[0]?null:1===a.length?parseInt(a[0].toFixed(0),10):parseFloat(a[0].toFixed(a[1]))},char_length:{minParams:1,maxParams:1,evaluate:a=>p$1(a[0])?a[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:a=>{let n="";for(let e=0;e<a.length;e++){if(null==a[e])return null;n+=a[e].toString();}return n}},lower:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:a[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:a[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:a=>{for(const n of a)if(null!==n)return n;return null}},cosh:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.cosh(a[0])},sinh:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.sinh(a[0])},tanh:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.tanh(a[0])},nullif:{minParams:2,maxParams:2,evaluate:(a,n)=>I$2(a[0],a[1],"=")?null:a[0]},cast:{minParams:2,maxParams:2,evaluate:(e,t)=>{const r=e[0],l=e[1];if(null===r)return null;switch(l.type){case"integer":{if(!g$1(r))throw new n$1(t$1.CannotCastValue);const e=parseInt(r,10);if(isNaN(e))throw new n$1(t$1.CannotCastValue);return e}case"smallint":{if(!g$1(r))throw new n$1(t$1.CannotCastValue);const e=parseInt(r,10);if(isNaN(e))throw new n$1(t$1.CannotCastValue);if(e>32767||e<-32767)throw new n$1(t$1.CannotCastValue);return e}case"float":case"real":{if(!g$1(r))throw new n$1(t$1.CannotCastValue);const e=parseFloat(r);if(isNaN(e))throw new n$1(t$1.CannotCastValue);return e}case"time":return v$1(r);case"date":return E$2(r);case"timestamp":return M$1(r,t,!0===l.withtimezone);case"varchar":{const e=x$2(r);if(e.length>l.size)throw new n$1(t$1.CannotCastValue);return e}default:throw new n$1(t$1.InvalidDataType)}}}};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
function d(u,d,sn,un){if("||"===u)return w$1("concat",[d,sn],un);if(null===d||null===sn)return null;if(v$3(d)){if(v$3(sn))return f(d,sn,u);if(S$1(sn))return M(d,sn,u);if(z$2(sn))return U$1();if($$1(sn))return q$1();if(D$3(sn))return N();if(j$3(sn))return z();if(y$2(sn))return C$1(d,sn,u);throw new n$1(t$1.InvalidOperator)}if($$1(d)){if(v$3(sn))return x(d,sn,u);if(S$1(sn))return T(d,sn,u);if(z$2(sn))return E$1();if($$1(sn))return B(d,sn,u);if(D$3(sn))return A$1(d,sn,u);if(j$3(sn))return k$1(d,sn,u);if(y$2(sn))return _();throw new n$1(t$1.InvalidOperator)}if(z$2(d)){if(v$3(sn))return L$1(d,sn,u);if(S$1(sn))return p(d,sn,u);if(z$2(sn))return W();if($$1(sn))return R();if(D$3(sn))return V$1();if(j$3(sn))return Q();if(y$2(sn))return nn();throw new n$1(t$1.InvalidOperator)}if(S$1(d)){if(v$3(sn))return m(d,sn,u);if(S$1(sn))return O$1(d,sn,u);if(z$2(sn))return v(d,sn,u);if($$1(sn))return I$1(d,sn,u);if(D$3(sn))return h(d,sn,u);if(j$3(sn))return w(d,sn,u);if(y$2(sn))return P();throw new n$1(t$1.InvalidOperator)}if(j$3(d)){if(v$3(sn))return y(d,sn,u);if(S$1(sn))return D$1(d,sn,u);if(z$2(sn))return $();if($$1(sn))return Y(d,sn,u);if(D$3(sn))return Z$1(d,sn,u);if(j$3(sn))return X(d,sn,u);if(y$2(sn))return rn();throw new n$1(t$1.InvalidOperator)}if(D$3(d)){if(v$3(sn))return j$1(d,sn,u);if(S$1(sn))return F$1(d,sn,u);if(z$2(sn))return G();if($$1(sn))return H(d,sn,u);if(D$3(sn))return K(d,sn,u);if(j$3(sn))return J(d,sn,u);if(y$2(sn))return en();throw new n$1(t$1.InvalidOperator)}if(y$2(d)){if(v$3(sn))return S(d,sn,u);if(S$1(sn))return b$1();if(z$2(sn))return tn();if($$1(sn))return on();if(D$3(sn))return ln();if(j$3(sn))return an();if(y$2(sn))return g(d,sn,u);throw new n$1(t$1.InvalidOperator)}throw new n$1(t$1.InvalidOperator)}function f(e,i,t){switch(t){case"+":return e+i;case"-":return e-i;case"*":return e*i;case"/":return e/i}throw new n$1(t$1.InvalidOperator)}function w(e,i,t){switch(t){case"+":return i.plus({milliseconds:e.valueInMilliseconds()});case"-":return e.valueInMilliseconds()-i.toMillis()}throw new n$1(t$1.InvalidOperator)}function v(e,i,t){if("+"===t)return i.plus("milliseconds",e.valueInMilliseconds());throw new n$1(t$1.InvalidOperator)}function I$1(e,i,t){if("+"===t)return i.plus("milliseconds",e.valueInMilliseconds());throw new n$1(t$1.InvalidOperator)}function p(e,i,t){switch(t){case"+":return e.plus("milliseconds",i.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*i.valueInMilliseconds())}throw new n$1(t$1.InvalidOperator)}function h(e,i,t){if("+"===t)return i.addMilliseconds(e.valueInMilliseconds());throw new n$1(t$1.InvalidOperator)}function O$1(e,i,t){switch(t){case"+":return s.createFromMilliseconds(e.valueInMilliseconds()+i.valueInMilliseconds());case"-":return s.createFromMilliseconds(e.valueInMilliseconds()-i.valueInMilliseconds());case"*":return s.createFromMilliseconds(e.valueInMilliseconds()*i.valueInMilliseconds());case"/":return s.createFromMilliseconds(e.valueInMilliseconds()/i.valueInMilliseconds())}throw new n$1(t$1.InvalidOperator)}function m(e,i,t){switch(t){case"+":return s.createFromMilliseconds(e.valueInMilliseconds()+i);case"-":return s.createFromMilliseconds(e.valueInMilliseconds()-i);case"*":return s.createFromMilliseconds(e.valueInMilliseconds()*i);case"/":return s.createFromMilliseconds(e.valueInMilliseconds()/i)}throw new n$1(t$1.InvalidOperator)}function M(e,i,t){switch(t){case"+":return s.createFromMilliseconds(e+i.valueInMilliseconds());case"-":return s.createFromMilliseconds(e-i.valueInMilliseconds());case"*":return s.createFromMilliseconds(e*i.valueInMilliseconds());case"/":return s.createFromMilliseconds(e/i.valueInMilliseconds())}throw new n$1(t$1.InvalidOperator)}function T(e,i,t){switch(t){case"+":return e.plus("milliseconds",i.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*i.valueInMilliseconds())}throw new n$1(t$1.InvalidOperator)}function D$1(e,i,t){switch(t){case"+":return e.plus({milliseconds:i.valueInMilliseconds()});case"-":return e.minus({milliseconds:i.valueInMilliseconds()})}throw new n$1(t$1.InvalidOperator)}function F$1(e,i,t){switch(t){case"+":return e.addMilliseconds(i.valueInMilliseconds());case"-":return e.addMilliseconds(-1*i.valueInMilliseconds())}throw new n$1(t$1.InvalidOperator)}function y(e,i,t){const o=1e3*i*24*60*60;switch(t){case"+":return e.plus({milliseconds:o});case"-":return e.minus({milliseconds:o})}throw new n$1(t$1.InvalidOperator)}function x(e,i,t){const o=1e3*i*24*60*60;switch(t){case"+":return e.plus("milliseconds",o);case"-":return e.plus("milliseconds",-1*o)}throw new n$1(t$1.InvalidOperator)}function L$1(e,i,t){const o=1e3*i*24*60*60;switch(t){case"+":return e.plus("milliseconds",o);case"-":return e.plus("milliseconds",-1*o)}throw new n$1(t$1.InvalidOperator)}function z(e,i,t){throw new n$1(t$1.InvalidOperator)}function j$1(e,i,t){const o=1e3*i*24*60*60;switch(t){case"+":return e.addMilliseconds(o);case"-":return e.addMilliseconds(-1*o)}throw new n$1(t$1.InvalidOperator)}function N(e,i,t){throw new n$1(t$1.InvalidOperator)}function U$1(e,i,t){throw new n$1(t$1.InvalidOperator)}function q$1(e,i,t){throw new n$1(t$1.InvalidOperator)}function C$1(e,i,t){const o=parseFloat(i);if(isNaN(o))throw new n$1(t$1.InvalidOperator);return f(e,o,t)}function S(e,i,t){const o=parseFloat(e);if(isNaN(o))throw new n$1(t$1.InvalidOperator);return f(o,i,t)}function g(e,i,t){if("+"===t)return e+i;throw new n$1(t$1.InvalidOperator)}function P(e,i,t){throw new n$1(t$1.InvalidOperator)}function b$1(e,i,t){throw new n$1(t$1.InvalidOperator)}function k$1(e,i,t){if("-"===t)return e.toDateTimeLuxon(i.zone).diff(i).as("days");throw new n$1(t$1.InvalidOperator)}function A$1(e,i,t){if("-"===t)return e.toDateTimeLuxon(i.toDateTime().zone).diff(i.toDateTime()).as("days");throw new n$1(t$1.InvalidOperator)}function B(e,i,t){if("-"===t)return e.toDateTimeLuxon("UTC").diff(i.toDateTimeLuxon("UTC")).as("days");throw new n$1(t$1.InvalidOperator)}function E$1(e,i,t){throw new n$1(t$1.InvalidOperator)}function G(e,i,t){throw new n$1(t$1.InvalidOperator)}function H(e,i,t){if("-"===t)return e.toDateTime().diff(i.toDateTimeLuxon(e.toDateTime().zone)).as("days");throw new n$1(t$1.InvalidOperator)}function J(e,i,t){if("-"===t)return e.toDateTime().diff(i).as("days");throw new n$1(t$1.InvalidOperator)}function K(e,i,t){if("-"===t)return e.toDateTime().diff(i.toDateTime()).as("days");throw new n$1(t$1.InvalidOperator)}function Q(e,i,t){throw new n$1(t$1.InvalidOperator)}function R(e,i,t){throw new n$1(t$1.InvalidOperator)}function V$1(e,i,t){throw new n$1(t$1.InvalidOperator)}function W(e,i,t){throw new n$1(t$1.InvalidOperator)}function X(e,i,t){if("-"===t)return e.diff(i).as("days");throw new n$1(t$1.InvalidOperator)}function Y(e,i,t){if("-"===t)return e.diff(i.toDateTimeLuxon(e.zone)).as("days");throw new n$1(t$1.InvalidOperator)}function Z$1(e,i,t){if("-"===t)return e.diff(i.toDateTime()).as("days");throw new n$1(t$1.InvalidOperator)}function $(e,i,t){throw new n$1(t$1.InvalidOperator)}function _(e,i,t){throw new n$1(t$1.InvalidOperator)}function nn(e,i,t){throw new n$1(t$1.InvalidOperator)}function rn(e,i,t){throw new n$1(t$1.InvalidOperator)}function en(e,i,t){throw new n$1(t$1.InvalidOperator)}function tn(e,i,t){throw new n$1(t$1.InvalidOperator)}function on(e,i,t){throw new n$1(t$1.InvalidOperator)}function an(e,i,t){throw new n$1(t$1.InvalidOperator)}function ln(e,i,t){throw new n$1(t$1.InvalidOperator)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
var t,n,e={exports:{}};n=function(){function r(r,t){function n(){this.constructor=r;}n.prototype=t.prototype,r.prototype=new n;}function t(r,n,e,u){var o=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(o,t.prototype),o.expected=n,o.found=e,o.location=u,o.name="SyntaxError",o}function n(r,t,n){return n=n||" ",r.length>t?r:(t-=r.length,r+(n+=n.repeat(t)).slice(0,t))}function e(r,n){var e,u={},o=(n=void 0!==n?n:{}).grammarSource,i={start:Bu},a=Bu,s="!",c="=",f=">=",l=">",v="<=",p="<>",d="<",h="!=",y="+",b="-",A="||",C="*",g="/",m="@",E="'",L="N'",T="''",w=".",x="null",N="true",I="false",O="in",R="is",S="like",F="escape",M="not",H="and",U="or",$="between",_="from",D="for",j="substring",Z="extract",z="trim",P="position",B="timestamp",G="date",V="time",W="leading",Y="trailing",k="both",q="cast",K="as",X="integer",J="smallint",Q="float",rr="real",tr="varchar",nr="to",er="interval",ur="year",or="timezone_hour",ir="timezone_minute",ar="month",sr="day",cr="hour",fr="minute",lr="second",vr="case",pr="end",dr="when",hr="then",yr="else",br=",",Ar="(",Cr=")",gr="`",mr=/^[A-Za-z_\x80-\uFFFF]/,Er=/^[A-Za-z0-9_]/,Lr=/^[A-Za-z0-9_.\x80-\uFFFF]/,Tr=/^["]/,wr=/^[^']/,xr=/^[0-9]/,Nr=/^[eE]/,Ir=/^[+\-]/,Or=/^[ \t\n\r]/,Rr=/^[^`]/,Sr=Uu("!",!1),Fr=Uu("=",!1),Mr=Uu(">=",!1),Hr=Uu(">",!1),Ur=Uu("<=",!1),$r=Uu("<>",!1),_r=Uu("<",!1),Dr=Uu("!=",!1),jr=Uu("+",!1),Zr=Uu("-",!1),zr=Uu("||",!1),Pr=Uu("*",!1),Br=Uu("/",!1),Gr=$u([["A","Z"],["a","z"],"_",["","￿"]],!1,!1),Vr=$u([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Wr=$u([["A","Z"],["a","z"],["0","9"],"_",".",["","￿"]],!1,!1),Yr=$u(['"'],!1,!1),kr=Uu("@",!1),qr=Uu("'",!1),Kr=Uu("N'",!1),Xr=Uu("''",!1),Jr=$u(["'"],!0,!1),Qr=Uu(".",!1),rt=$u([["0","9"]],!1,!1),tt=$u(["e","E"],!1,!1),nt=$u(["+","-"],!1,!1),et=Uu("NULL",!0),ut=Uu("TRUE",!0),ot=Uu("FALSE",!0),it=Uu("IN",!0),at=Uu("IS",!0),st=Uu("LIKE",!0),ct=Uu("ESCAPE",!0),ft=Uu("NOT",!0),lt=Uu("AND",!0),vt=Uu("OR",!0),pt=Uu("BETWEEN",!0),dt=Uu("FROM",!0),ht=Uu("FOR",!0),yt=Uu("SUBSTRING",!0),bt=Uu("EXTRACT",!0),At=Uu("TRIM",!0),Ct=Uu("POSITION",!0),gt=Uu("TIMESTAMP",!0),mt=Uu("DATE",!0),Et=Uu("TIME",!0),Lt=Uu("LEADING",!0),Tt=Uu("TRAILING",!0),wt=Uu("BOTH",!0),xt=Uu("CAST",!0),Nt=Uu("AS",!0),It=Uu("INTEGER",!0),Ot=Uu("SMALLINT",!0),Rt=Uu("FLOAT",!0),St=Uu("REAL",!0),Ft=Uu("VARCHAR",!0),Mt=Uu("TO",!0),Ht=Uu("INTERVAL",!0),Ut=Uu("YEAR",!0),$t=Uu("TIMEZONE_HOUR",!0),_t=Uu("TIMEZONE_MINUTE",!0),Dt=Uu("MONTH",!0),jt=Uu("DAY",!0),Zt=Uu("HOUR",!0),zt=Uu("MINUTE",!0),Pt=Uu("SECOND",!0),Bt=Uu("CASE",!0),Gt=Uu("END",!0),Vt=Uu("WHEN",!0),Wt=Uu("THEN",!0),Yt=Uu("ELSE",!0),kt=Uu(",",!1),qt=Uu("(",!1),Kt=Uu(")",!1),Xt=$u([" ","\t","\n","\r"],!1,!1),Jt=Uu("`",!1),Qt=$u(["`"],!0,!1),rn=function(r){return r},tn=function(r,t){var n={type:"expression-list"},e=ca(r,t);return n.value=e,n},nn=function(r,t){return fa(r,t)},en=function(r,t){return fa(r,t)},un=function(r){return ia("NOT",r)},on=function(r,t){return ""==t||null==t||null==t?r:"arithmetic"==t.type?fa(r,t.tail):aa(t.op,r,t.right,t.escape)},an=function(r){return {type:"arithmetic",tail:r}},sn=function(r,t){return {op:r+"NOT",right:t}},cn=function(r,t){return {op:r,right:t}},fn=function(r,t,n){return {op:"NOT"+r,right:{type:"expression-list",value:[t,n]}}},ln=function(r,t,n){return {op:r,right:{type:"expression-list",value:[t,n]}}},vn=function(r){return r[0]+" "+r[2]},pn=function(r){return r[0]+" "+r[2]},dn=function(r,t,n){return {op:r,right:t,escape:n.value}},hn=function(r,t){return {op:r,right:t,escape:""}},yn=function(r,t){return {op:r,right:t}},bn=function(r){return {op:r,right:{type:"expression-list",value:[]}}},An=function(r,t){return {op:r,right:t}},Cn=function(r,t){return fa(r,t)},gn=function(r,t){return fa(r,t)},mn=function(r){return r.paren=!0,r},En=function(r){return /^CURRENT_DATE$/i.test(r)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(r)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:r}},Ln=function(r){return {type:"column-reference",table:"",column:r,delimited:!0}},Tn=function(r){return r},wn=function(r,t){return r+t.join("")},xn=function(r,t){return r+t.join("")},Nn=function(r){return r},In=function(r){return r.join("")},On=function(){return '"'},Rn=function(r){return {type:"parameter",value:r[1]}},Sn=function(r,t){return {type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:r},t]}}},Fn=function(r,t,n){return {type:"function",name:"substring",args:{type:"expression-list",value:n?[r,t,n[2]]:[r,t]}}},Mn=function(r,t){return {type:"function",name:"cast",args:{type:"expression-list",value:[r,t]}}},Hn=function(){return {type:"data-type",value:{type:"integer"}}},Un=function(){return {type:"data-type",value:{type:"smallint"}}},$n=function(){return {type:"data-type",value:{type:"float"}}},_n=function(){return {type:"data-type",value:{type:"real"}}},Dn=function(){return {type:"data-type",value:{type:"date"}}},jn=function(){return {type:"data-type",value:{type:"timestamp"}}},Zn=function(){return {type:"data-type",value:{type:"time"}}},zn=function(r){return {type:"data-type",value:{type:"varchar",size:parseInt(r)}}},Pn=function(r,t,n){return {type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:r??"BOTH"},t,n]}}},Bn=function(r,t){return {type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:r??"BOTH"},t]}}},Gn=function(r,t){return {type:"function",name:"position",args:{type:"expression-list",value:[r,t]}}},Vn=function(r,t){return {type:"function",name:r,args:t||{type:"expression-list",value:[]}}},Wn=function(r){return "string"===r.type&&la(r.value),{type:"timestamp",value:r.value}},Yn=function(r){return "string"===r.type&&va(r.value),{type:"time",value:r.value}},kn=function(r,t,n){return {type:"interval",value:t,qualifier:n,op:r}},qn=function(r,t){return {type:"interval",value:r,qualifier:t,op:""}},Kn=function(r,t){return {type:"interval-qualifier",start:r,end:t}},Xn=function(r,t){return {type:"interval-period",period:r.value,precision:t,secondary:null}},Jn=function(r){return {type:"interval-period",period:r.value,precision:null,secondary:null}},Qn=function(r){return {type:"interval-period",period:r.value,precision:null,secondary:null}},re=function(r,t){return {type:"interval-period",period:"second",precision:r,secondary:t}},te=function(r){return {type:"interval-period",period:"second",precision:r,secondary:null}},ne=function(){return {type:"interval-period",period:"second",precision:null,secondary:null}},ee=function(r,t){return {type:"interval-period",period:r.value,precision:t,secondary:null}},ue=function(r){return {type:"interval-period",period:r.value,precision:null,secondary:null}},oe=function(r,t){return {type:"interval-period",period:"second",precision:r,secondary:t}},ie=function(r){return {type:"interval-period",period:"second",precision:r,secondary:null}},ae=function(){return {type:"interval-period",period:"second",precision:null,secondary:null}},se=function(){return {type:"string",value:"day"}},ce=function(){return {type:"string",value:"hour"}},fe=function(){return {type:"string",value:"minute"}},le=function(){return {type:"string",value:"month"}},ve=function(){return {type:"string",value:"year"}},pe=function(r){return parseFloat(r)},de=function(r){return parseFloat(r)},he=function(r){return "string"===r.type&&pa(r.value),{type:"date",value:r.value}},ye=function(){return {type:"null",value:null}},be=function(){return {type:"boolean",value:!0}},Ae=function(){return {type:"boolean",value:!1}},Ce=function(){return "'"},ge=function(r){return {type:"string",value:r.join("")}},me=function(r,t){return {type:"case-expression",format:"simple",operand:r,clauses:t,else:null}},Ee=function(r,t,n){return {type:"case-expression",format:"simple",operand:r,clauses:t,else:n.value}},Le=function(r){return {type:"case-expression",format:"searched",clauses:r,else:null}},Te=function(r,t){return {type:"case-expression",format:"searched",clauses:r,else:t.value}},we=function(r,t){return {type:"when-clause",operand:r,value:t}},xe=function(r,t){return {type:"when-clause",operand:r,value:t}},Ne=function(r){return {type:"else-clause",value:r}},Ie=function(r){return {type:"number",value:r}},Oe=function(r,t,n){return parseFloat(r+t+n)},Re=function(r,t){return parseFloat(r+t)},Se=function(r,t){return parseFloat(r+t)},Fe=function(r){return parseFloat(r)},Me=function(r,t){return r[0]+t},He=function(r){return "."+(null!=r?r:"")},Ue=function(r,t){return r+t},$e=function(r){return r.join("")},_e=function(r,t){return "e"+(null===t?"":t)},De=function(){return "IN"},je=function(){return "IS"},Ze=function(){return "LIKE"},ze=function(){return "ESCAPE"},Pe=function(){return "NOT"},Be=function(){return "AND"},Ge=function(){return "OR"},Ve=function(){return "BETWEEN"},We=function(){return "FROM"},Ye=function(){return "FOR"},ke=function(){return "SUBSTRING"},qe=function(){return "EXTRACT"},Ke=function(){return "TRIM"},Xe=function(){return "POSITION"},Je=function(){return "TIMESTAMP"},Qe=function(){return "DATE"},ru=function(){return "TIME"},tu=function(){return "LEADING"},nu=function(){return "TRAILING"},eu=function(){return "BOTH"},uu=function(){return "CAST"},ou=function(){return "AS"},iu=function(){return "INTEGER"},au=function(){return "SMALLINT"},su=function(){return "FLOAT"},cu=function(){return "REAL"},fu=function(){return "VARCHAR"},lu=function(){return "TO"},vu=function(){return "INTERVAL"},pu=function(){return "YEAR"},du=function(){return "TIMEZONE_HOUR"},hu=function(){return "TIMEZONE_MINUTE"},yu=function(){return "MONTH"},bu=function(){return "DAY"},Au=function(){return "HOUR"},Cu=function(){return "MINUTE"},gu=function(){return "SECOND"},mu=function(){return "CASE"},Eu=function(){return "END"},Lu=function(){return "WHEN"},Tu=function(){return "THEN"},wu=function(){return "ELSE"},xu=function(r){return r},Nu=function(r){return r.join("")},Iu=0,Ou=0,Ru=[{line:1,column:1}],Su=0,Fu=[],Mu=0;if("startRule"in n){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');a=i[n.startRule];}function Hu(r,t){throw zu(r,t=void 0!==t?t:ju(Ou,Iu))}function Uu(r,t){return {type:"literal",text:r,ignoreCase:t}}function $u(r,t,n){return {type:"class",parts:r,inverted:t,ignoreCase:n}}function _u(){return {type:"end"}}function Du(t){var n,e=Ru[t];if(e)return e;for(n=t-1;!Ru[n];)n--;for(e={line:(e=Ru[n]).line,column:e.column};n<t;)10===r.charCodeAt(n)?(e.line++,e.column=1):e.column++,n++;return Ru[t]=e,e}function ju(r,t,n){var e=Du(r),u=Du(t),i={source:o,start:{offset:r,line:e.line,column:e.column},end:{offset:t,line:u.line,column:u.column}};return i}function Zu(r){Iu<Su||(Iu>Su&&(Su=Iu,Fu=[]),Fu.push(r));}function zu(r,n){return new t(r,null,null,n)}function Pu(r,n,e){return new t(t.buildMessage(r,n),r,n,e)}function Bu(){var r,t;return r=Iu,ea(),(t=Vu())!==u?(ea(),Ou=r,r=rn(t)):(Iu=r,r=u),r}function Gu(){var r,t,n,e,o,i,a,s;if(r=Iu,(t=Vu())!==u){for(n=[],e=Iu,o=ea(),(i=ra())!==u?(a=ea(),(s=Vu())!==u?e=o=[o,i,a,s]:(Iu=e,e=u)):(Iu=e,e=u);e!==u;)n.push(e),e=Iu,o=ea(),(i=ra())!==u?(a=ea(),(s=Vu())!==u?e=o=[o,i,a,s]:(Iu=e,e=u)):(Iu=e,e=u);Ou=r,r=tn(t,n);}else Iu=r,r=u;return r}function Vu(){var r,t,n,e,o,i,a,s;if(r=Iu,(t=Wu())!==u){for(n=[],e=Iu,o=ea(),(i=Ai())!==u?(a=ea(),(s=Wu())!==u?e=o=[o,i,a,s]:(Iu=e,e=u)):(Iu=e,e=u);e!==u;)n.push(e),e=Iu,o=ea(),(i=Ai())!==u?(a=ea(),(s=Wu())!==u?e=o=[o,i,a,s]:(Iu=e,e=u)):(Iu=e,e=u);Ou=r,r=nn(t,n);}else Iu=r,r=u;return r}function Wu(){var r,t,n,e,o,i,a,s;if(r=Iu,(t=Yu())!==u){for(n=[],e=Iu,o=ea(),(i=bi())!==u?(a=ea(),(s=Yu())!==u?e=o=[o,i,a,s]:(Iu=e,e=u)):(Iu=e,e=u);e!==u;)n.push(e),e=Iu,o=ea(),(i=bi())!==u?(a=ea(),(s=Yu())!==u?e=o=[o,i,a,s]:(Iu=e,e=u)):(Iu=e,e=u);Ou=r,r=en(t,n);}else Iu=r,r=u;return r}function Yu(){var t,n,e,o,i;return t=Iu,(n=yi())===u&&(n=Iu,33===r.charCodeAt(Iu)?(e=s,Iu++):(e=u,0===Mu&&Zu(Sr)),e!==u?(o=Iu,Mu++,61===r.charCodeAt(Iu)?(i=c,Iu++):(i=u,0===Mu&&Zu(Fr)),Mu--,i===u?o=void 0:(Iu=o,o=u),o!==u?n=e=[e,o]:(Iu=n,n=u)):(Iu=n,n=u)),n!==u?(e=ea(),(o=Yu())!==u?(Ou=t,t=un(o)):(Iu=t,t=u)):(Iu=t,t=u),t===u&&(t=ku()),t}function ku(){var r,t,n;return r=Iu,(t=uo())!==u?(ea(),(n=qu())===u&&(n=null),Ou=r,r=on(t,n)):(Iu=r,r=u),r}function qu(){var r;return (r=Ku())===u&&(r=eo())===u&&(r=Qu())===u&&(r=Ju())===u&&(r=no()),r}function Ku(){var r,t,n,e,o,i,a;if(r=Iu,t=[],n=Iu,e=ea(),(o=Xu())!==u?(i=ea(),(a=uo())!==u?n=e=[e,o,i,a]:(Iu=n,n=u)):(Iu=n,n=u),n!==u)for(;n!==u;)t.push(n),n=Iu,e=ea(),(o=Xu())!==u?(i=ea(),(a=uo())!==u?n=e=[e,o,i,a]:(Iu=n,n=u)):(Iu=n,n=u);else t=u;return t!==u&&(Ou=r,t=an(t)),r=t}function Xu(){var t;return r.substr(Iu,2)===f?(t=f,Iu+=2):(t=u,0===Mu&&Zu(Mr)),t===u&&(62===r.charCodeAt(Iu)?(t=l,Iu++):(t=u,0===Mu&&Zu(Hr)),t===u&&(r.substr(Iu,2)===v?(t=v,Iu+=2):(t=u,0===Mu&&Zu(Ur)),t===u&&(r.substr(Iu,2)===p?(t=p,Iu+=2):(t=u,0===Mu&&Zu($r)),t===u&&(60===r.charCodeAt(Iu)?(t=d,Iu++):(t=u,0===Mu&&Zu(_r)),t===u&&(61===r.charCodeAt(Iu)?(t=c,Iu++):(t=u,0===Mu&&Zu(Fr)),t===u&&(r.substr(Iu,2)===h?(t=h,Iu+=2):(t=u,0===Mu&&Zu(Dr)))))))),t}function Ju(){var r,t,n,e;return r=Iu,(t=pi())!==u?(ea(),(n=yi())!==u?(ea(),(e=uo())!==u?(Ou=r,r=sn(t,e)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Iu,(t=pi())!==u?(ea(),(n=uo())!==u?(Ou=r,r=cn(t,n)):(Iu=r,r=u)):(Iu=r,r=u)),r}function Qu(){var r,t,n,e,o,i;return r=Iu,(t=yi())!==u?(ea(),(n=Ci())!==u?(ea(),(e=uo())!==u?(ea(),(o=bi())!==u?(ea(),(i=uo())!==u?(Ou=r,r=fn(n,e,i)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Iu,(t=Ci())!==u?(ea(),(n=uo())!==u?(ea(),(e=bi())!==u?(ea(),(o=uo())!==u?(Ou=r,r=ln(t,n,o)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)),r}function ro(){var r,t,n,e,o;return r=Iu,t=Iu,(n=yi())!==u?(e=ea(),(o=di())!==u?t=n=[n,e,o]:(Iu=t,t=u)):(Iu=t,t=u),t!==u&&(Ou=r,t=vn(t)),(r=t)===u&&(r=di()),r}function to(){var r,t,n,e,o;return r=Iu,t=Iu,(n=yi())!==u?(e=ea(),(o=vi())!==u?t=n=[n,e,o]:(Iu=t,t=u)):(Iu=t,t=u),t!==u&&(Ou=r,t=pn(t)),(r=t)===u&&(r=vi()),r}function no(){var r,t,n,e;return r=Iu,(t=ro())!==u?(ea(),(n=Yo())!==u?(ea(),hi()!==u?(ea(),(e=ko())!==u?(Ou=r,r=dn(t,n,e)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Iu,(t=ro())!==u?(ea(),(n=Yo())!==u?(Ou=r,r=hn(t,n)):(Iu=r,r=u)):(Iu=r,r=u)),r}function eo(){var r,t,n,e;return r=Iu,(t=to())!==u?(ea(),(n=ta())!==u?(ea(),(e=Gu())!==u?(ea(),na()!==u?(Ou=r,r=yn(t,e)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Iu,(t=to())!==u?(ea(),(n=ta())!==u?(ea(),(e=na())!==u?(Ou=r,r=bn(t)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Iu,(t=to())!==u?(ea(),(n=Lo())!==u?(Ou=r,r=An(t,n)):(Iu=r,r=u)):(Iu=r,r=u))),r}function uo(){var r,t,n,e,o,i,a,s;if(r=Iu,(t=io())!==u){for(n=[],e=Iu,o=ea(),(i=oo())!==u?(a=ea(),(s=io())!==u?e=o=[o,i,a,s]:(Iu=e,e=u)):(Iu=e,e=u);e!==u;)n.push(e),e=Iu,o=ea(),(i=oo())!==u?(a=ea(),(s=io())!==u?e=o=[o,i,a,s]:(Iu=e,e=u)):(Iu=e,e=u);Ou=r,r=Cn(t,n);}else Iu=r,r=u;return r}function oo(){var t;return 43===r.charCodeAt(Iu)?(t=y,Iu++):(t=u,0===Mu&&Zu(jr)),t===u&&(45===r.charCodeAt(Iu)?(t=b,Iu++):(t=u,0===Mu&&Zu(Zr)),t===u&&(r.substr(Iu,2)===A?(t=A,Iu+=2):(t=u,0===Mu&&Zu(zr)))),t}function io(){var r,t,n,e,o,i,a,s;if(r=Iu,(t=so())!==u){for(n=[],e=Iu,o=ea(),(i=ao())!==u?(a=ea(),(s=so())!==u?e=o=[o,i,a,s]:(Iu=e,e=u)):(Iu=e,e=u);e!==u;)n.push(e),e=Iu,o=ea(),(i=ao())!==u?(a=ea(),(s=so())!==u?e=o=[o,i,a,s]:(Iu=e,e=u)):(Iu=e,e=u);Ou=r,r=gn(t,n);}else Iu=r,r=u;return r}function ao(){var t;return 42===r.charCodeAt(Iu)?(t=C,Iu++):(t=u,0===Mu&&Zu(Pr)),t===u&&(47===r.charCodeAt(Iu)?(t=g,Iu++):(t=u,0===Mu&&Zu(Br))),t}function so(){var r,t;return (r=Mo())===u&&(r=To())===u&&(r=wo())===u&&(r=Io())===u&&(r=Ro())===u&&(r=xo())===u&&(r=So())===u&&(r=qo())===u&&(r=co())===u&&(r=Lo())===u&&(r=Iu,ta()!==u?(ea(),(t=Vu())!==u?(ea(),na()!==u?(Ou=r,r=mn(t)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)),r}function co(){var r,t;return r=Iu,(t=fo())!==u&&(Ou=r,t=En(t)),(r=t)===u&&(r=Iu,(t=bo())!==u&&(Ou=r,t=Ln(t)),r=t),r}function fo(){var r,t;return r=Iu,(t=lo())!==u&&(Ou=r,t=Tn(t)),r=t}function lo(){var r,t,n,e;if(r=Iu,(t=po())!==u){for(n=[],e=yo();e!==u;)n.push(e),e=yo();Ou=r,r=wn(t,n);}else Iu=r,r=u;return r}function vo(){var r,t,n,e;if(r=Iu,(t=po())!==u){for(n=[],e=ho();e!==u;)n.push(e),e=ho();Ou=r,r=xn(t,n);}else Iu=r,r=u;return r}function po(){var t;return mr.test(r.charAt(Iu))?(t=r.charAt(Iu),Iu++):(t=u,0===Mu&&Zu(Gr)),t}function ho(){var t;return Er.test(r.charAt(Iu))?(t=r.charAt(Iu),Iu++):(t=u,0===Mu&&Zu(Vr)),t}function yo(){var t;return Lr.test(r.charAt(Iu))?(t=r.charAt(Iu),Iu++):(t=u,0===Mu&&Zu(Wr)),t}function bo(){var r,t;return r=Iu,Eo()!==u?(t=Ao(),Eo()!==u?(Ou=r,r=Nn(t)):(Iu=r,r=u)):(Iu=r,r=u),r}function Ao(){var r,t,n;for(r=Iu,t=[],n=Co();n!==u;)t.push(n),n=Co();return Ou=r,r=t=In(t)}function Co(){var r;return (r=mo())===u&&(r=go()),r}function go(){var r;return r=Iu,Eo()!==u&&Eo()!==u?(Ou=r,r=On()):(Iu=r,r=u),r}function mo(){var t;return Lr.test(r.charAt(Iu))?(t=r.charAt(Iu),Iu++):(t=u,0===Mu&&Zu(Wr)),t}function Eo(){var t;return Tr.test(r.charAt(Iu))?(t=r.charAt(Iu),Iu++):(t=u,0===Mu&&Zu(Yr)),t}function Lo(){var t,n,e,o;return t=Iu,n=Iu,64===r.charCodeAt(Iu)?(e=m,Iu++):(e=u,0===Mu&&Zu(kr)),e!==u&&(o=vo())!==u?n=e=[e,o]:(Iu=n,n=u),n!==u&&(Ou=t,n=Rn(n)),t=n}function To(){var r,t,n;return r=Iu,Li()!==u?(ea(),ta()!==u?(ea(),(t=Fo())!==u?(ea(),gi()!==u?(ea(),(n=Vu())!==u?(ea(),na()!==u?(Ou=r,r=Sn(t,n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r}function wo(){var r,t,n,e,o,i,a;return r=Iu,Ei()!==u?(ea(),ta()!==u?(ea(),(t=Vu())!==u?(ea(),gi()!==u?(ea(),(n=Vu())!==u?(ea(),e=Iu,(o=mi())!==u?(i=ea(),(a=Vu())!==u?e=o=[o,i,a,ea()]:(Iu=e,e=u)):(Iu=e,e=u),e===u&&(e=null),(o=na())!==u?(Ou=r,r=Fn(t,n,e)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r}function xo(){var r,t,n;return r=Iu,Fi()!==u?(ea(),ta()!==u?(ea(),(t=Vu())!==u?(ea(),Mi()!==u?(ea(),(n=No())!==u?(ea(),na()!==u?(Ou=r,r=Mn(t,n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r}function No(){var r,t,n;return r=Iu,(t=Hi())!==u&&(Ou=r,t=Hn()),(r=t)===u&&(r=Iu,(t=Ui())!==u&&(Ou=r,t=Un()),(r=t)===u&&(r=Iu,(t=$i())!==u&&(Ou=r,t=$n()),(r=t)===u&&(r=Iu,(t=_i())!==u&&(Ou=r,t=_n()),(r=t)===u&&(r=Iu,(t=Ni())!==u&&(Ou=r,t=Dn()),(r=t)===u&&(r=Iu,(t=xi())!==u&&(Ou=r,t=jn()),(r=t)===u&&(r=Iu,(t=Ii())!==u&&(Ou=r,t=Zn()),(r=t)===u&&(r=Iu,(t=Di())!==u?(ea(),ta()!==u?(ea(),(n=ii())!==u?(ea(),na()!==u?(Ou=r,r=zn(n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)))))))),r}function Io(){var r,t,n,e;return r=Iu,Ti()!==u?(ea(),ta()!==u?(ea(),(t=Oo())===u&&(t=null),ea(),(n=Vu())!==u?(ea(),gi()!==u?(ea(),(e=Vu())!==u?(ea(),na()!==u?(Ou=r,r=Pn(t,n,e)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Iu,Ti()!==u?(ea(),ta()!==u?(ea(),(t=Oo())===u&&(t=null),ea(),(n=Vu())!==u?(ea(),na()!==u?(Ou=r,r=Bn(t,n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)),r}function Oo(){var r;return (r=Oi())===u&&(r=Ri())===u&&(r=Si()),r}function Ro(){var r,t,n;return r=Iu,wi()!==u?(ea(),ta()!==u?(ea(),(t=Vu())!==u?(ea(),vi()!==u?(ea(),(n=Vu())!==u?(ea(),na()!==u?(Ou=r,r=Gn(t,n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r}function So(){var r,t,n;return r=Iu,(t=oa())!==u?(ea(),ta()!==u?(ea(),(n=Gu())===u&&(n=null),ea(),na()!==u?(Ou=r,r=Vn(t,n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r}function Fo(){var r;return (r=zi())===u&&(r=Gi())===u&&(r=Vi())===u&&(r=Wi())===u&&(r=Yi())===u&&(r=ki())===u&&(r=Pi())===u&&(r=Bi()),r}function Mo(){var r;return (r=ko())===u&&(r=ti())===u&&(r=Wo())===u&&(r=Vo())===u&&(r=Go())===u&&(r=Ho())===u&&(r=$o())===u&&(r=Uo()),r}function Ho(){var r,t;return r=Iu,xi()!==u?(ea(),(t=Yo())!==u?(Ou=r,r=Wn(t)):(Iu=r,r=u)):(Iu=r,r=u),r}function Uo(){var r,t;return r=Iu,Ii()!==u?(ea(),(t=Yo())!==u?(Ou=r,r=Yn(t)):(Iu=r,r=u)):(Iu=r,r=u),r}function $o(){var t,n,e,o;return t=Iu,Zi()!==u?(ea(),45===r.charCodeAt(Iu)?(n=b,Iu++):(n=u,0===Mu&&Zu(Zr)),n===u&&(43===r.charCodeAt(Iu)?(n=y,Iu++):(n=u,0===Mu&&Zu(jr))),n!==u?(ea(),(e=Yo())!==u?(ea(),(o=_o())!==u?(Ou=t,t=kn(n,e,o)):(Iu=t,t=u)):(Iu=t,t=u)):(Iu=t,t=u)):(Iu=t,t=u),t===u&&(t=Iu,Zi()!==u?(ea(),(n=Yo())!==u?(ea(),(e=_o())!==u?(Ou=t,t=qn(n,e)):(Iu=t,t=u)):(Iu=t,t=u)):(Iu=t,t=u)),t}function _o(){var r,t,n;return r=Iu,(t=Do())!==u?(ea(),ji()!==u?(ea(),(n=jo())!==u?(Ou=r,r=Kn(t,n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Zo()),r}function Do(){var r,t,n;return r=Iu,(t=zo())!==u?(ea(),ta()!==u?(ea(),(n=Bo())!==u?(ea(),na()!==u?(Ou=r,r=Xn(t,n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Iu,(t=zo())!==u&&(Ou=r,t=Jn(t)),r=t),r}function jo(){var r,t,n,e;return r=Iu,(t=zo())!==u&&(Ou=r,t=Qn(t)),(r=t)===u&&(r=Iu,(t=ki())!==u?(ea(),ta()!==u?(ea(),(n=Bo())!==u?(ea(),ra()!==u?(ea(),(e=Po())!==u?(ea(),na()!==u?(Ou=r,r=re(n,e)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Iu,(t=ki())!==u?(ea(),ta()!==u?(ea(),(n=Bo())!==u?(ea(),na()!==u?(Ou=r,r=te(n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Iu,(t=ki())!==u&&(Ou=r,t=ne()),r=t))),r}function Zo(){var r,t,n,e;return r=Iu,(t=zo())!==u?(ea(),ta()!==u?(ea(),(n=Po())!==u?(ea(),na()!==u?(Ou=r,r=ee(t,n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Iu,(t=zo())!==u&&(Ou=r,t=ue(t)),(r=t)===u&&(r=Iu,(t=ki())!==u?(ea(),ta()!==u?(ea(),(n=Bo())!==u?(ea(),ra()!==u?(ea(),(e=Po())!==u?(ea(),na()!==u?(Ou=r,r=oe(n,e)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Iu,(t=ki())!==u?(ea(),ta()!==u?(ea(),(n=Po())!==u?(ea(),na()!==u?(Ou=r,r=ie(n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r===u&&(r=Iu,(t=ki())!==u&&(Ou=r,t=ae()),r=t)))),r}function zo(){var r,t;return r=Iu,(t=Vi())!==u&&(Ou=r,t=se()),(r=t)===u&&(r=Iu,(t=Wi())!==u&&(Ou=r,t=ce()),(r=t)===u&&(r=Iu,(t=Yi())!==u&&(Ou=r,t=fe()),(r=t)===u&&(r=Iu,(t=Gi())!==u&&(Ou=r,t=le()),(r=t)===u&&(r=Iu,(t=zi())!==u&&(Ou=r,t=ve()),r=t)))),r}function Po(){var r,t;return r=Iu,(t=ii())!==u&&(Ou=r,t=pe(t)),r=t}function Bo(){var r,t;return r=Iu,(t=ii())!==u&&(Ou=r,t=de(t)),r=t}function Go(){var r,t;return r=Iu,Ni()!==u?(ea(),(t=Yo())!==u?(Ou=r,r=he(t)):(Iu=r,r=u)):(Iu=r,r=u),r}function Vo(){var r,t;return r=Iu,(t=ci())!==u&&(Ou=r,t=ye()),r=t}function Wo(){var r,t;return r=Iu,(t=fi())!==u&&(Ou=r,t=be()),(r=t)===u&&(r=Iu,(t=li())!==u&&(Ou=r,t=Ae()),r=t),r}function Yo(){var r;return (r=ko())===u&&(r=Lo()),r}function ko(){var t,n,e,o,i;if(t=Iu,39===r.charCodeAt(Iu)?(n=E,Iu++):(n=u,0===Mu&&Zu(qr)),n===u&&(r.substr(Iu,2)===L?(n=L,Iu+=2):(n=u,0===Mu&&Zu(Kr))),n!==u){for(e=[],o=Iu,r.substr(Iu,2)===T?(i=T,Iu+=2):(i=u,0===Mu&&Zu(Xr)),i!==u&&(Ou=o,i=Ce()),(o=i)===u&&(wr.test(r.charAt(Iu))?(o=r.charAt(Iu),Iu++):(o=u,0===Mu&&Zu(Jr)));o!==u;)e.push(o),o=Iu,r.substr(Iu,2)===T?(i=T,Iu+=2):(i=u,0===Mu&&Zu(Xr)),i!==u&&(Ou=o,i=Ce()),(o=i)===u&&(wr.test(r.charAt(Iu))?(o=r.charAt(Iu),Iu++):(o=u,0===Mu&&Zu(Jr)));39===r.charCodeAt(Iu)?(o=E,Iu++):(o=u,0===Mu&&Zu(qr)),o!==u?(Ou=t,t=ge(e)):(Iu=t,t=u);}else Iu=t,t=u;return t}function qo(){var r;return (r=Ko())===u&&(r=Xo()),r}function Ko(){var r,t,n,e,o;if(r=Iu,qi()!==u)if(ea(),(t=Vu())!==u){for(ea(),n=[],e=Qo();e!==u;)n.push(e),e=Qo();e=ea(),(o=Ki())!==u?(Ou=r,r=me(t,n)):(Iu=r,r=u);}else Iu=r,r=u;else Iu=r,r=u;if(r===u)if(r=Iu,qi()!==u)if(ea(),(t=Vu())!==u){for(ea(),n=[],e=Qo();e!==u;)n.push(e),e=Qo();e=ea(),(o=ri())!==u?(ea(),Ki()!==u?(Ou=r,r=Ee(t,n,o)):(Iu=r,r=u)):(Iu=r,r=u);}else Iu=r,r=u;else Iu=r,r=u;return r}function Xo(){var r,t,n,e;if(r=Iu,qi()!==u){for(ea(),t=[],n=Jo();n!==u;)t.push(n),n=Jo();n=ea(),(e=Ki())!==u?(Ou=r,r=Le(t)):(Iu=r,r=u);}else Iu=r,r=u;if(r===u)if(r=Iu,qi()!==u){for(ea(),t=[],n=Jo();n!==u;)t.push(n),n=Jo();n=ea(),(e=ri())!==u?(ea(),Ki()!==u?(Ou=r,r=Te(t,e)):(Iu=r,r=u)):(Iu=r,r=u);}else Iu=r,r=u;return r}function Jo(){var r,t,n;return r=Iu,Xi()!==u?(ea(),(t=Vu())!==u?(ea(),Ji()!==u?(ea(),(n=Vu())!==u?(Ou=r,r=we(t,n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r}function Qo(){var r,t,n;return r=Iu,Xi()!==u?(ea(),(t=Vu())!==u?(ea(),Ji()!==u?(ea(),(n=Vu())!==u?(Ou=r,r=xe(t,n)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u)):(Iu=r,r=u),r}function ri(){var r,t;return r=Iu,Qi()!==u?(ea(),(t=Vu())!==u?(Ou=r,r=Ne(t)):(Iu=r,r=u)):(Iu=r,r=u),r}function ti(){var r,t,n,e;return r=Iu,(t=ni())!==u?(n=Iu,Mu++,e=po(),Mu--,e===u?n=void 0:(Iu=n,n=u),n!==u?(Ou=r,r=Ie(t)):(Iu=r,r=u)):(Iu=r,r=u),r}function ni(){var r,t,n,e;return r=Iu,(t=ei())!==u&&(n=ui())!==u&&(e=oi())!==u?(Ou=r,r=Oe(t,n,e)):(Iu=r,r=u),r===u&&(r=Iu,(t=ei())!==u&&(n=ui())!==u?(Ou=r,r=Re(t,n)):(Iu=r,r=u),r===u&&(r=Iu,(t=ei())!==u&&(n=oi())!==u?(Ou=r,r=Se(t,n)):(Iu=r,r=u),r===u&&(r=Iu,(t=ei())!==u&&(Ou=r,t=Fe(t)),r=t))),r}function ei(){var t,n,e;return (t=ii())===u&&(t=Iu,45===r.charCodeAt(Iu)?(n=b,Iu++):(n=u,0===Mu&&Zu(Zr)),n===u&&(43===r.charCodeAt(Iu)?(n=y,Iu++):(n=u,0===Mu&&Zu(jr))),n!==u&&(e=ii())!==u?(Ou=t,t=Me(n,e)):(Iu=t,t=u)),t}function ui(){var t,n,e;return t=Iu,46===r.charCodeAt(Iu)?(n=w,Iu++):(n=u,0===Mu&&Zu(Qr)),n!==u?((e=ii())===u&&(e=null),Ou=t,t=He(e)):(Iu=t,t=u),t}function oi(){var r,t,n;return r=Iu,(t=si())!==u&&(n=ii())!==u?(Ou=r,r=Ue(t,n)):(Iu=r,r=u),r}function ii(){var r,t,n;if(r=Iu,t=[],(n=ai())!==u)for(;n!==u;)t.push(n),n=ai();else t=u;return t!==u&&(Ou=r,t=$e(t)),r=t}function ai(){var t;return xr.test(r.charAt(Iu))?(t=r.charAt(Iu),Iu++):(t=u,0===Mu&&Zu(rt)),t}function si(){var t,n,e;return t=Iu,Nr.test(r.charAt(Iu))?(n=r.charAt(Iu),Iu++):(n=u,0===Mu&&Zu(tt)),n!==u?(Ir.test(r.charAt(Iu))?(e=r.charAt(Iu),Iu++):(e=u,0===Mu&&Zu(nt)),e===u&&(e=null),Ou=t,t=_e(n,e)):(Iu=t,t=u),t}function ci(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===x?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(et)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?t=n=[n,e]:(Iu=t,t=u)):(Iu=t,t=u),t}function fi(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===N?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(ut)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?t=n=[n,e]:(Iu=t,t=u)):(Iu=t,t=u),t}function li(){var t,n,e,o;return t=Iu,r.substr(Iu,5).toLowerCase()===I?(n=r.substr(Iu,5),Iu+=5):(n=u,0===Mu&&Zu(ot)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?t=n=[n,e]:(Iu=t,t=u)):(Iu=t,t=u),t}function vi(){var t,n,e,o;return t=Iu,r.substr(Iu,2).toLowerCase()===O?(n=r.substr(Iu,2),Iu+=2):(n=u,0===Mu&&Zu(it)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=De()):(Iu=t,t=u)):(Iu=t,t=u),t}function pi(){var t,n,e,o;return t=Iu,r.substr(Iu,2).toLowerCase()===R?(n=r.substr(Iu,2),Iu+=2):(n=u,0===Mu&&Zu(at)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=je()):(Iu=t,t=u)):(Iu=t,t=u),t}function di(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===S?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(st)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Ze()):(Iu=t,t=u)):(Iu=t,t=u),t}function hi(){var t,n,e,o;return t=Iu,r.substr(Iu,6).toLowerCase()===F?(n=r.substr(Iu,6),Iu+=6):(n=u,0===Mu&&Zu(ct)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=ze()):(Iu=t,t=u)):(Iu=t,t=u),t}function yi(){var t,n,e,o;return t=Iu,r.substr(Iu,3).toLowerCase()===M?(n=r.substr(Iu,3),Iu+=3):(n=u,0===Mu&&Zu(ft)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Pe()):(Iu=t,t=u)):(Iu=t,t=u),t}function bi(){var t,n,e,o;return t=Iu,r.substr(Iu,3).toLowerCase()===H?(n=r.substr(Iu,3),Iu+=3):(n=u,0===Mu&&Zu(lt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Be()):(Iu=t,t=u)):(Iu=t,t=u),t}function Ai(){var t,n,e,o;return t=Iu,r.substr(Iu,2).toLowerCase()===U?(n=r.substr(Iu,2),Iu+=2):(n=u,0===Mu&&Zu(vt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Ge()):(Iu=t,t=u)):(Iu=t,t=u),t}function Ci(){var t,n,e,o;return t=Iu,r.substr(Iu,7).toLowerCase()===$?(n=r.substr(Iu,7),Iu+=7):(n=u,0===Mu&&Zu(pt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Ve()):(Iu=t,t=u)):(Iu=t,t=u),t}function gi(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===_?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(dt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=We()):(Iu=t,t=u)):(Iu=t,t=u),t}function mi(){var t,n,e,o;return t=Iu,r.substr(Iu,3).toLowerCase()===D?(n=r.substr(Iu,3),Iu+=3):(n=u,0===Mu&&Zu(ht)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Ye()):(Iu=t,t=u)):(Iu=t,t=u),t}function Ei(){var t,n,e,o;return t=Iu,r.substr(Iu,9).toLowerCase()===j?(n=r.substr(Iu,9),Iu+=9):(n=u,0===Mu&&Zu(yt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=ke()):(Iu=t,t=u)):(Iu=t,t=u),t}function Li(){var t,n,e,o;return t=Iu,r.substr(Iu,7).toLowerCase()===Z?(n=r.substr(Iu,7),Iu+=7):(n=u,0===Mu&&Zu(bt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=qe()):(Iu=t,t=u)):(Iu=t,t=u),t}function Ti(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===z?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(At)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Ke()):(Iu=t,t=u)):(Iu=t,t=u),t}function wi(){var t,n,e,o;return t=Iu,r.substr(Iu,8).toLowerCase()===P?(n=r.substr(Iu,8),Iu+=8):(n=u,0===Mu&&Zu(Ct)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Xe()):(Iu=t,t=u)):(Iu=t,t=u),t}function xi(){var t,n,e,o;return t=Iu,r.substr(Iu,9).toLowerCase()===B?(n=r.substr(Iu,9),Iu+=9):(n=u,0===Mu&&Zu(gt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Je()):(Iu=t,t=u)):(Iu=t,t=u),t}function Ni(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===G?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(mt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Qe()):(Iu=t,t=u)):(Iu=t,t=u),t}function Ii(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===V?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(Et)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=ru()):(Iu=t,t=u)):(Iu=t,t=u),t}function Oi(){var t,n,e,o;return t=Iu,r.substr(Iu,7).toLowerCase()===W?(n=r.substr(Iu,7),Iu+=7):(n=u,0===Mu&&Zu(Lt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=tu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Ri(){var t,n,e,o;return t=Iu,r.substr(Iu,8).toLowerCase()===Y?(n=r.substr(Iu,8),Iu+=8):(n=u,0===Mu&&Zu(Tt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=nu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Si(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===k?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(wt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=eu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Fi(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===q?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(xt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=uu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Mi(){var t,n,e,o;return t=Iu,r.substr(Iu,2).toLowerCase()===K?(n=r.substr(Iu,2),Iu+=2):(n=u,0===Mu&&Zu(Nt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=ou()):(Iu=t,t=u)):(Iu=t,t=u),t}function Hi(){var t,n,e,o;return t=Iu,r.substr(Iu,7).toLowerCase()===X?(n=r.substr(Iu,7),Iu+=7):(n=u,0===Mu&&Zu(It)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=iu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Ui(){var t,n,e,o;return t=Iu,r.substr(Iu,8).toLowerCase()===J?(n=r.substr(Iu,8),Iu+=8):(n=u,0===Mu&&Zu(Ot)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=au()):(Iu=t,t=u)):(Iu=t,t=u),t}function $i(){var t,n,e,o;return t=Iu,r.substr(Iu,5).toLowerCase()===Q?(n=r.substr(Iu,5),Iu+=5):(n=u,0===Mu&&Zu(Rt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=su()):(Iu=t,t=u)):(Iu=t,t=u),t}function _i(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===rr?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(St)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=cu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Di(){var t,n,e,o;return t=Iu,r.substr(Iu,7).toLowerCase()===tr?(n=r.substr(Iu,7),Iu+=7):(n=u,0===Mu&&Zu(Ft)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=fu()):(Iu=t,t=u)):(Iu=t,t=u),t}function ji(){var t,n,e,o;return t=Iu,r.substr(Iu,2).toLowerCase()===nr?(n=r.substr(Iu,2),Iu+=2):(n=u,0===Mu&&Zu(Mt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=lu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Zi(){var t,n,e,o;return t=Iu,r.substr(Iu,8).toLowerCase()===er?(n=r.substr(Iu,8),Iu+=8):(n=u,0===Mu&&Zu(Ht)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=vu()):(Iu=t,t=u)):(Iu=t,t=u),t}function zi(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===ur?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(Ut)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=pu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Pi(){var t,n,e,o;return t=Iu,r.substr(Iu,13).toLowerCase()===or?(n=r.substr(Iu,13),Iu+=13):(n=u,0===Mu&&Zu($t)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=du()):(Iu=t,t=u)):(Iu=t,t=u),t}function Bi(){var t,n,e,o;return t=Iu,r.substr(Iu,15).toLowerCase()===ir?(n=r.substr(Iu,15),Iu+=15):(n=u,0===Mu&&Zu(_t)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=hu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Gi(){var t,n,e,o;return t=Iu,r.substr(Iu,5).toLowerCase()===ar?(n=r.substr(Iu,5),Iu+=5):(n=u,0===Mu&&Zu(Dt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=yu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Vi(){var t,n,e,o;return t=Iu,r.substr(Iu,3).toLowerCase()===sr?(n=r.substr(Iu,3),Iu+=3):(n=u,0===Mu&&Zu(jt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=bu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Wi(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===cr?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(Zt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Au()):(Iu=t,t=u)):(Iu=t,t=u),t}function Yi(){var t,n,e,o;return t=Iu,r.substr(Iu,6).toLowerCase()===fr?(n=r.substr(Iu,6),Iu+=6):(n=u,0===Mu&&Zu(zt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Cu()):(Iu=t,t=u)):(Iu=t,t=u),t}function ki(){var t,n,e,o;return t=Iu,r.substr(Iu,6).toLowerCase()===lr?(n=r.substr(Iu,6),Iu+=6):(n=u,0===Mu&&Zu(Pt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=gu()):(Iu=t,t=u)):(Iu=t,t=u),t}function qi(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===vr?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(Bt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=mu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Ki(){var t,n,e,o;return t=Iu,r.substr(Iu,3).toLowerCase()===pr?(n=r.substr(Iu,3),Iu+=3):(n=u,0===Mu&&Zu(Gt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Eu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Xi(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===dr?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(Vt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Lu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Ji(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===hr?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(Wt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=Tu()):(Iu=t,t=u)):(Iu=t,t=u),t}function Qi(){var t,n,e,o;return t=Iu,r.substr(Iu,4).toLowerCase()===yr?(n=r.substr(Iu,4),Iu+=4):(n=u,0===Mu&&Zu(Yt)),n!==u?(e=Iu,Mu++,o=ho(),Mu--,o===u?e=void 0:(Iu=e,e=u),e!==u?(Ou=t,t=wu()):(Iu=t,t=u)):(Iu=t,t=u),t}function ra(){var t;return 44===r.charCodeAt(Iu)?(t=br,Iu++):(t=u,0===Mu&&Zu(kt)),t}function ta(){var t;return 40===r.charCodeAt(Iu)?(t=Ar,Iu++):(t=u,0===Mu&&Zu(qt)),t}function na(){var t;return 41===r.charCodeAt(Iu)?(t=Cr,Iu++):(t=u,0===Mu&&Zu(Kt)),t}function ea(){var r,t;for(r=[],t=ua();t!==u;)r.push(t),t=ua();return r}function ua(){var t;return Or.test(r.charAt(Iu))?(t=r.charAt(Iu),Iu++):(t=u,0===Mu&&Zu(Xt)),t}function oa(){var t,n,e,o;if(t=Iu,(n=vo())!==u&&(Ou=t,n=xu(n)),(t=n)===u)if(t=Iu,96===r.charCodeAt(Iu)?(n=gr,Iu++):(n=u,0===Mu&&Zu(Jt)),n!==u){if(e=[],Rr.test(r.charAt(Iu))?(o=r.charAt(Iu),Iu++):(o=u,0===Mu&&Zu(Qt)),o!==u)for(;o!==u;)e.push(o),Rr.test(r.charAt(Iu))?(o=r.charAt(Iu),Iu++):(o=u,0===Mu&&Zu(Qt));else e=u;e!==u?(96===r.charCodeAt(Iu)?(o=gr,Iu++):(o=u,0===Mu&&Zu(Jt)),o!==u?(Ou=t,t=Nu(e)):(Iu=t,t=u)):(Iu=t,t=u);}else Iu=t,t=u;return t}function ia(r,t){return {type:"unary-expression",operator:r,expr:t}}function aa(r,t,n,e){var u={type:"binary-expression",operator:r,left:t,right:n};return void 0!==e&&(u.escape=e),u}function sa(r,t){for(var n=[r],e=0;e<t.length;e++)n.push(t[e][3]);return n}function ca(r,t,n){return sa(r,t)}function fa(r,t){for(var n=r,e=0;e<t.length;e++)n=aa(t[e][1],n,t[e][3]);return n}function la(r){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(r)&&Hu("Timestamp literal is invalid");}function va(r){!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(r)&&Hu("Time literal is invalid");}function pa(r){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(r)&&Hu("Date literal is invalid");}if((e=a())!==u&&Iu===r.length)return e;throw e!==u&&Iu<r.length&&Zu(_u()),Pu(Fu,Su<r.length?r.charAt(Su):null,Su<r.length?ju(Su,Su+1):ju(Su,Su))}return r(t,Error),t.prototype.format=function(r){var t="Error: "+this.message;if(this.location){var e,u=null;for(e=0;e<r.length;e++)if(r[e].source===this.location.source){u=r[e].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,i=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(o):o,a=this.location.source+":"+i.line+":"+i.column;if(u){var s=this.location.end,c=n("",i.line.toString().length," "),f=u[o.line-1],l=(o.line===s.line?s.column:f.length+1)-o.column||1;t+="\n --\x3e "+a+"\n"+c+" |\n"+i.line+" | "+f+"\n"+c+" | "+n("",o.column-1," ")+n("",l,"^");}else t+="\n at "+a;}return t},t.buildMessage=function(r,t){var n={literal:function(r){return '"'+u(r.text)+'"'},class:function(r){var t=r.parts.map((function(r){return Array.isArray(r)?o(r[0])+"-"+o(r[1]):o(r)}));return "["+(r.inverted?"^":"")+t.join("")+"]"},any:function(){return "any character"},end:function(){return "end of input"},other:function(r){return r.description}};function e(r){return r.charCodeAt(0).toString(16).toUpperCase()}function u(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return "\\x0"+e(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return "\\x"+e(r)}))}function o(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return "\\x0"+e(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return "\\x"+e(r)}))}function i(r){return n[r.type](r)}function a(r){var t,n,e=r.map(i);if(e.sort(),e.length>0){for(t=1,n=1;t<e.length;t++)e[t-1]!==e[t]&&(e[n]=e[t],n++);e.length=n;}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}function s(r){return r?'"'+u(r)+'"':"end of input"}return "Expected "+a(r)+" but "+s(t)+" found."},{SyntaxError:t,parse:e}},(t=e).exports&&(t.exports=n());var u=e.exports;class o{static parse(r){return u.parse(r)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
const A=new Set(["current_timestamp","current_date","current_time"]);class I{static makeBool(e){return O(e)}static featureValue(e,t,a,r){return C(e,t,a,r)}static equalsNull(e){return null===e}static applyLike(e,t,a){return j(e,t,a)}static ensureArray(e){return F(e)}static applyIn(e,t){return E(e,t)}static currentDate(e){return n$2.fromNow(e)}static makeSqlInterval(e,t,a){return s.createFromValueAndQualifier(e,t,a)}static convertInterval(e){return e instanceof s?e.valueInMilliseconds():e}static currentTimestamp(e){return T$3(new Date,e)}static compare(e,t,a,r){return I$2(t,a,e)}static calculate(e,t,a,r){return d(e,t,a,r)}static evaluateTime(e){return O$3(e)}static evaluateTimestamp(e,t,a){return P$1(e,t,a)}static evaluateDate(e,t){return V$2(e,t)}static evaluateFunction(e,t,a){return w$1(e,t,a)}static lookup(e,t){const a=t[e];return void 0===a?null:a}static between(e,t,a){return null==e||null==t[0]||null==t[1]?null:I$2(e,t[0],">=")&&I$2(e,t[1],"<=")}static notbetween(e,t,a){return null==e||null==t[0]||null==t[1]?null:I$2(e,t[0],"<")||I$2(e,t[1],">")}static ternaryNot(e){return b(e)}static ternaryAnd(e,t){return D(e,t)}static ternaryOr(e,t){return k(e,t)}}let x$1 = class x{constructor(e,t,a="UTC"){this.fieldsIndex=t,this.timeZone=a,this.parameters={},this._hasDateFunctions=void 0,this.parseTree=o.parse(e);const{isStandardized:r,isAggregate:s,referencedFieldNames:i}=this._extractExpressionInfo(t);this._referencedFieldNames=i,this.isStandardized=r,this.isAggregate=s;}static convertValueToStorageFormat(e,t=null){if(null===t)return x$4(e)?e.getTime():j$3(e)?e.toMillis():D$3(e)?e.toStorageFormat():z$2(e)?e.toStorageString():$$1(e)?e.toStorageFormat():e;switch(t){case"date":return x$4(e)?e.getTime():j$3(e)?e.toMillis():D$3(e)?e.toMilliseconds():$$1(e)?e.toNumber():e;case"date-only":return x$4(e)?n$2.fromDateJS(e).toString():D$3(e)?n$2.fromSqlTimeStampOffset(e).toString():j$3(e)?n$2.fromDateTime(e).toString():e;case"time-only":return x$4(e)?n$3.fromDateJS(e).toStorageString():j$3(e)?n$3.fromDateTime(e).toStorageString():D$3(e)?n$3.fromSqlTimeStampOffset(e).toStorageString():z$2(e)?e.toStorageString():e;case"timestamp-offset":if(x$4(e))return r.fromJSDate(e).toStorageFormat();if(j$3(e))return r.fromDateTime(e).toStorageFormat();if(D$3(e))return e.toStorageFormat()}return e}static create(e,t,a="UTC"){return new x(e,t,a)}get fieldNames(){return this._referencedFieldNames}testSet(e,t=U){return !!this._evaluateNode(this.parseTree,null,t,e)}calculateValue(e,t=U){const a=this._evaluateNode(this.parseTree,e,t,null);return a instanceof s?a.valueInMilliseconds()/864e5:a}calculateValueCompiled(e,t=U){return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone):has("esri-csp-restrictions")?this.calculateValue(e,t):(this._compileMe(),this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone))}testFeature(e,t=U){return !!this._evaluateNode(this.parseTree,e,t,null)}testFeatureCompiled(e,t=U){return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone):has("esri-csp-restrictions")?this.testFeature(e,t):(this._compileMe(),!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,(e=>{"current-time"===e.type?this._hasDateFunctions=!0:"function"===e.type&&(this._hasDateFunctions=this._hasDateFunctions||A.has(e.name.toLowerCase()));}))),this._hasDateFunctions}getFunctions(){const e=new Set;return this._visitAll(this.parseTree,(t=>{"function"===t.type&&e.add(t.name.toLowerCase());})),Array.from(e)}getExpressions(){const e=new Map;return this._visitAll(this.parseTree,(t=>{if("function"===t.type){const a=t.name.toLowerCase(),r=t.args.value[0];if("column-reference"===r.type){const t=r.column,s=`${a}-${t}`;e.has(s)||e.set(s,{aggregateType:a,field:t});}}})),[...e.values()]}getVariables(){const e=new Set;return this._visitAll(this.parseTree,(t=>{"parameter"===t.type&&e.add(t.value.toLowerCase());})),Array.from(e)}_compileMe(){const e="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone",e).bind(I);}_extractExpressionInfo(e){const t=[],a=new Set;let s=!0,i=!1;return this._visitAll(this.parseTree,(n=>{switch(n.type){case"column-reference":{const r=e?.get(n.column);let s,i;r?s=i=r.name??"":(i=n.column,s=i.toLowerCase()),a.has(s)||(a.add(s),t.push(i)),n.column=i;break}case"function":{const{name:e,args:t}=n,a=t.value.length;s&&(s=C$2(e,a)),!1===i&&(i=o$1(e,a));break}}})),{referencedFieldNames:Array.from(t),isStandardized:s,isAggregate:i}}_visitAll(e,t){if(null!=e)switch(t(e),e.type){case"when-clause":this._visitAll(e.operand,t),this._visitAll(e.value,t);break;case"case-expression":for(const a of e.clauses)this._visitAll(a,t);"simple"===e.format&&this._visitAll(e.operand,t),null!==e.else&&this._visitAll(e.else,t);break;case"expression-list":for(const a of e.value)this._visitAll(a,t);break;case"unary-expression":this._visitAll(e.expr,t);break;case"binary-expression":this._visitAll(e.left,t),this._visitAll(e.right,t);break;case"function":this._visitAll(e.args,t);}}evaluateNodeToJavaScript(e){switch(e.type){case"interval":return "this.makeSqlInterval("+this.evaluateNodeToJavaScript(e.value)+", "+JSON.stringify(e.qualifier)+","+JSON.stringify(e.op)+")";case"case-expression":{let t="";if("simple"===e.format){const a=this.evaluateNodeToJavaScript(e.operand);t="( ";for(let r=0;r<e.clauses.length;r++)t+=" (this.compare('=',"+a+","+this.evaluateNodeToJavaScript(e.clauses[r].operand)+") ? ("+this.evaluateNodeToJavaScript(e.clauses[r].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )";}else {t="( ";for(let a=0;a<e.clauses.length;a++)t+=" this.makeBool("+this.evaluateNodeToJavaScript(e.clauses[a].operand)+")===true ? ("+this.evaluateNodeToJavaScript(e.clauses[a].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )";}return t}case"parameter":return "this.lookup("+JSON.stringify(e.value.toLowerCase())+",lookups)";case"expression-list":{let t="[";for(const a of e.value)"["!==t&&(t+=","),t+=this.evaluateNodeToJavaScript(a);return t+="]",t}case"unary-expression":return "this.ternaryNot("+this.evaluateNodeToJavaScript(e.expr)+")";case"binary-expression":switch(e.operator){case"AND":return "this.ternaryAnd("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"OR":return "this.ternaryOr("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"IS":if("null"!==e.right.type)throw new n$1(t$1.UnsupportedIsRhs);return "this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")";case"ISNOT":if("null"!==e.right.type)throw new n$1(t$1.UnsupportedIsRhs);return "(!(this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")))";case"IN":return "this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+"))";case"NOT IN":return "this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+")))";case"BETWEEN":return "this.between("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"NOTBETWEEN":return "this.notbetween("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"LIKE":return "this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+")";case"NOT LIKE":return "this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return "this.compare("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"*":case"-":case"+":case"/":case"||":return "this.calculate("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)"}throw new n$1(t$1.UnsupportedOperator,{operator:e.operator});case"null":case"boolean":case"string":case"number":return JSON.stringify(e.value);case"time":return "this.evaluateTime(JSON.stringify(node.value))";case"date":return "this.evaluateDate(JSON.stringify(node.value), 'unknown')";case"timestamp":return "this.evaluateTimestamp(JSON.stringify(node.value), 'unknown')";case"current-time":return "date"===e.mode?"this.currentDate(timeZone)":"this.currentTimestamp(timeZone)";case"column-reference":return "this.featureValue(feature,"+JSON.stringify(e.column)+",fieldsIndex,attributeAdapter)";case"function":return "this.evaluateFunction("+JSON.stringify(e.name)+","+this.evaluateNodeToJavaScript(e.args)+", timeZone)"}throw new n$1(t$1.UnsupportedSyntax,{node:e.type})}_evaluateNode(u,c,h,p){let g;switch(u.type){case"interval":{const e=this._evaluateNode(u.value,c,h,p);return s.createFromValueAndQualifier(e,u.qualifier,u.op)}case"case-expression":if("simple"===u.format){const e=this._evaluateNode(u.operand,c,h,p);for(let t=0;t<u.clauses.length;t++)if(I$2(e,this._evaluateNode(u.clauses[t].operand,c,h,p),"=",this.timeZone))return this._evaluateNode(u.clauses[t].value,c,h,p);if(null!==u.else)return this._evaluateNode(u.else,c,h,p)}else {for(let e=0;e<u.clauses.length;e++)if(O(this._evaluateNode(u.clauses[e].operand,c,h,p)))return this._evaluateNode(u.clauses[e].value,c,h,p);if(null!==u.else)return this._evaluateNode(u.else,c,h,p)}return null;case"parameter":return g=this.parameters[u.value.toLowerCase()],x$4(g)?DateTime.fromJSDate(g):g instanceof m$4?g.toDateTime():g;case"expression-list":{const e=[];for(const t of u.value)e.push(this._evaluateNode(t,c,h,p));return e}case"unary-expression":return b(this._evaluateNode(u.expr,c,h,p));case"binary-expression":switch(u.operator){case"AND":return D(this._evaluateNode(u.left,c,h,p),this._evaluateNode(u.right,c,h,p));case"OR":return k(this._evaluateNode(u.left,c,h,p),this._evaluateNode(u.right,c,h,p));case"IS":if("null"!==u.right.type)throw new n$1(t$1.UnsupportedIsRhs);return null===this._evaluateNode(u.left,c,h,p);case"ISNOT":if("null"!==u.right.type)throw new n$1(t$1.UnsupportedIsRhs);return null!==this._evaluateNode(u.left,c,h,p);case"IN":{const e=F(this._evaluateNode(u.right,c,h,p));return E(this._evaluateNode(u.left,c,h,p),e)}case"NOT IN":{const e=F(this._evaluateNode(u.right,c,h,p));return b(E(this._evaluateNode(u.left,c,h,p),e))}case"BETWEEN":{const e=this._evaluateNode(u.left,c,h,p),t=this._evaluateNode(u.right,c,h,p);return null==e||null==t[0]||null==t[1]?null:I$2(e,t[0],">=",this.timeZone)&&I$2(e,t[1],"<=",this.timeZone)}case"NOTBETWEEN":{const e=this._evaluateNode(u.left,c,h,p),t=this._evaluateNode(u.right,c,h,p);return null==e||null==t[0]||null==t[1]?null:I$2(e,t[0],"<",this.timeZone)||I$2(e,t[1],">",this.timeZone)}case"LIKE":return j(this._evaluateNode(u.left,c,h,p),this._evaluateNode(u.right,c,h,p),u.escape);case"NOT LIKE":return b(j(this._evaluateNode(u.left,c,h,p),this._evaluateNode(u.right,c,h,p),u.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return I$2(this._evaluateNode(u.left,c,h,p),this._evaluateNode(u.right,c,h,p),u.operator,this.timeZone);case"-":case"+":case"*":case"/":case"||":return d(u.operator,this._evaluateNode(u.left,c,h,p),this._evaluateNode(u.right,c,h,p),this.timeZone)}case"null":case"boolean":case"string":case"number":return u.value;case"date":return u.parsedValue??=V$2(u.value,"unknown"),u.parsedValue;case"timestamp":return u.parsedValue??=P$1(u.value,"unknown"),u.parsedValue;case"time":return O$3(u.value);case"current-time":return "date"===u.mode?n$2.fromNow(this.timeZone):T$3(new Date,this.timeZone);case"column-reference":return C(c,u.column,this.fieldsIndex,h);case"data-type":return u.value;case"function":{if(this.isAggregate&&o$1(u.name,u.args.value.length)){const e=[];for(const t of u.args?.value||[]){const a=[];for(const e of p||[])a.push(this._evaluateNode(t,e,h,null));e.push(a);}return u$2(u.name,e)}const e=this._evaluateNode(u.args,c,h,p);return w$1(u.name,e,this.timeZone)}}throw new n$1(t$1.UnsupportedSyntax,{node:u.type})}};function O(e){return !0===e}function F(e){return Array.isArray(e)?e:[e]}function b(e){return null!==e?!0!==e:null}function D(e,t){return null!=e&&null!=t?!0===e&&!0===t:!1!==e&&!1!==t&&null}function k(e,t){return null!=e&&null!=t?!0===e||!0===t:!0===e||!0===t||null}function E(e,t){if(null==e)return null;let a=!1;for(const r of t)if(null==r)a=null;else if(e===r){a=!0;break}return a}const Z="-[]/{}()*+?.\\^$|";var V;function L(e,t){const a=t;let r="",s=V.Normal;for(let i=0;i<e.length;i++){const t=e.charAt(i);switch(s){case V.Normal:t===a?s=V.Escaped:Z.includes(t)?r+="\\"+t:r+="%"===t?".*":"_"===t?".":t;break;case V.Escaped:Z.includes(t)?r+="\\"+t:r+=t,s=V.Normal;}}return new RegExp("^"+r+"$","m")}function j(e,t,a){if(null==e)return null;return L(t,a).test(e)}function q(e){return e&&"object"==typeof e.attributes}function C(e,t,a,r$1){const s=r$1.getAttribute(e,t),n=a?.get(t);return null==s||"esriFieldTypeDate"!==n?.type&&"date"!==n?.type?null==s||"esriFieldTypeDateOnly"!==n?.type&&"date-only"!==n?.type?null==s||"esriFieldTypeTimeOnly"!==n?.type&&"time-only"!==n?.type?null==s||"esriFieldTypeTimestampOffset"!==n?.type&&"timestamp-offset"!==n?.type?s:new r(s):n$3.fromReader(s):n$2.fromReader(s):T$3(new Date(s),a?.getLuxonTimeZone(n.name)??FixedOffsetZone.utcInstance)}!function(e){e[e.Normal=0]="Normal",e[e.Escaped=1]="Escaped";}(V||(V={}));const U={getAttribute:(e,t)=>(q(e)?e.attributes:e)[t]};

const WhereClause = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	WhereClause: x$1,
	defaultAttributeAdapter: U
}, Symbol.toStringTag, { value: 'Module' }));

export { WhereClause as W, r$1 as a, n$1 as n, r, s$2 as s, t$1 as t, x$1 as x };
