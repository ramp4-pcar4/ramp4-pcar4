{"version":3,"file":"CollectionFlattener-DSoQ3JvH.js","sources":["../../node_modules/@arcgis/core/core/CollectionFlattener.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import o from\"./Collection.js\";import{sync as e}from\"./reactiveUtils.js\";import{property as s}from\"./accessorSupport/decorators/property.js\";import{subclass as i}from\"./accessorSupport/decorators/subclass.js\";import{autorun as r}from\"./accessorSupport/trackingUtils.js\";let l=class extends o{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(r((()=>this._refresh()),e))}destroy(){this.getCollections=null}_refresh(){const t=null!=this.getCollections?this.getCollections():null;if(null==t)return void this.removeAll();let o=0;for(const e of t)null!=e&&(o=this._processCollection(o,e));this.splice(o,this.length)}_createNewInstance(t){return new o(t)}_processCollection(t,o){if(!o)return t;const e=this.itemFilterFunction??(t=>!!t);for(const s of o)if(s){if(e(s)){const o=this.indexOf(s,t);o>=0?o!==t&&this.reorder(s,t):this.add(s,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(s);if(Array.isArray(o))for(const e of o)t=this._processCollection(t,e);else t=this._processCollection(t,o)}}return t}};t([s()],l.prototype,\"getCollections\",void 0),t([s()],l.prototype,\"getChildrenFunction\",void 0),t([s()],l.prototype,\"itemFilterFunction\",void 0),l=t([i(\"esri.core.CollectionFlattener\")],l);const n=l;export{n as default};\n"],"names":["l","o","t","r","e","s","i","n"],"mappings":";AAIyT,IAAIA,IAAE,cAAcC,EAAC;AAAA,EAAC,YAAYC,GAAE;AAAC,UAAMA,CAAC,GAAE,KAAK,iBAAe;AAAA,EAAI;AAAA,EAAC,aAAY;AAAC,SAAK,WAAWC,EAAG,MAAI,KAAK,SAAQ,GAAIC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,iBAAe;AAAA,EAAI;AAAA,EAAC,WAAU;AAAC,UAAMF,IAAQ,KAAK,kBAAX,OAA0B,KAAK,mBAAiB;AAAK,QAASA,KAAN,KAAQ,QAAO,KAAK,KAAK;AAAY,QAAI,IAAE;AAAE,eAAUE,KAAKF,EAAE,CAAME,KAAN,SAAU,IAAE,KAAK,mBAAmB,GAAEA,CAAC;AAAG,SAAK,OAAO,GAAE,KAAK,MAAM;AAAA,EAAC;AAAA,EAAC,mBAAmBF,GAAE;AAAC,WAAO,IAAID,EAAEC,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBA,GAAE,GAAE;AAAC,QAAG,CAAC,EAAE,QAAOA;AAAE,UAAME,IAAE,KAAK,uBAAqB,OAAG,CAAC,CAAC;AAAG,eAAUC,KAAK,EAAE,KAAGA,GAAE;AAAC,UAAGD,EAAEC,CAAC,GAAE;AAAC,cAAMJ,IAAE,KAAK,QAAQI,GAAEH,CAAC;AAAE,QAAAD,KAAG,IAAEA,MAAIC,KAAG,KAAK,QAAQG,GAAEH,CAAC,IAAE,KAAK,IAAIG,GAAEH,CAAC,GAAE,EAAEA;AAAA,MAAC;AAAC,UAAG,KAAK,qBAAoB;AAAC,cAAMD,IAAE,KAAK,oBAAoBI,CAAC;AAAE,YAAG,MAAM,QAAQJ,CAAC,EAAE,YAAUG,KAAKH,EAAE,CAAAC,IAAE,KAAK,mBAAmBA,GAAEE,CAAC;AAAA,YAAO,CAAAF,IAAE,KAAK,mBAAmBA,GAAED,CAAC;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOC;AAAA,EAAC;AAAC;AAAEA,EAAE,CAACG,EAAC,CAAE,GAAEL,EAAE,WAAU,kBAAiB,MAAM,GAAEE,EAAE,CAACG,EAAC,CAAE,GAAEL,EAAE,WAAU,uBAAsB,MAAM,GAAEE,EAAE,CAACG,GAAG,GAAEL,EAAE,WAAU,sBAAqB,MAAM,GAAEA,IAAEE,EAAE,CAACI,EAAE,+BAA+B,CAAC,GAAEN,CAAC;AAAO,MAACO,IAAEP;","x_google_ignoreList":[0]}