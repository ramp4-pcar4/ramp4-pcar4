{"version":3,"file":"toggle-switch-control-DSgwu-dP.js","sources":["../../node_modules/@vueform/toggle/dist/toggle.js","../../src/components/controls/toggle-switch-control.vue"],"sourcesContent":["import{toRefs as e,computed as l,openBlock as a,createElementBlock as d,mergeProps as n,withKeys as t,withModifiers as u,withDirectives as i,createElementVNode as c,vShow as r,normalizeClass as o,renderSlot as s,createCommentVNode as g}from\"vue\";var b={name:\"Toggle\",emits:[\"input\",\"update:modelValue\",\"change\"],props:{...{value:{validator:function(e){return e=>-1!==[\"number\",\"string\",\"boolean\"].indexOf(typeof e)||null==e},required:!1},modelValue:{validator:function(e){return e=>-1!==[\"number\",\"string\",\"boolean\"].indexOf(typeof e)||null==e},required:!1}},id:{type:[String,Number],required:!1,default:\"toggle\"},name:{type:[String,Number],required:!1,default:\"toggle\"},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},falseValue:{type:[String,Number,Boolean],required:!1,default:!1},trueValue:{type:[String,Number,Boolean],required:!1,default:!0},onLabel:{type:[String,Object],required:!1,default:\"\"},offLabel:{type:[String,Object],required:!1,default:\"\"},classes:{type:Object,required:!1,default:()=>({})},labelledby:{type:String,required:!1},describedby:{type:String,required:!1},aria:{required:!1,type:Object,default:()=>({})}},setup(a,d){const n=function(a,d,n){const{value:t,modelValue:u,falseValue:i,trueValue:c,disabled:r}=e(a),o=u&&void 0!==u.value?u:t,s=l((()=>o.value===c.value)),g=e=>{d.emit(\"input\",e),d.emit(\"update:modelValue\",e),d.emit(\"change\",e)},b=()=>{g(c.value)},f=()=>{g(i.value)};return-1!==[null,void 0,!1,0,\"0\",\"off\"].indexOf(o.value)&&-1===[i.value,c.value].indexOf(o.value)&&f(),-1!==[!0,1,\"1\",\"on\"].indexOf(o.value)&&-1===[i.value,c.value].indexOf(o.value)&&b(),{externalValue:o,checked:s,update:g,check:b,uncheck:f,handleInput:e=>{g(e.target.checked?c.value:i.value)},handleClick:()=>{r.value||(s.value?f():b())}}}(a,d),t=function(a,d,n){const{trueValue:t,falseValue:u,onLabel:i,offLabel:c}=e(a),r=n.checked,o=n.update;return{label:l((()=>{let e=r.value?i.value:c.value;return e||(e=\"&nbsp;\"),e})),toggle:()=>{o(r.value?u.value:t.value)},on:()=>{o(t.value)},off:()=>{o(u.value)}}}(a,0,{checked:n.checked,update:n.update}),u=function(a,d,n){const t=e(a),u=t.disabled,i=n.checked,c=l((()=>({container:\"toggle-container\",toggle:\"toggle\",toggleOn:\"toggle-on\",toggleOff:\"toggle-off\",toggleOnDisabled:\"toggle-on-disabled\",toggleOffDisabled:\"toggle-off-disabled\",handle:\"toggle-handle\",handleOn:\"toggle-handle-on\",handleOff:\"toggle-handle-off\",handleOnDisabled:\"toggle-handle-on-disabled\",handleOffDisabled:\"toggle-handle-off-disabled\",label:\"toggle-label\",...t.classes.value})));return{classList:l((()=>({container:c.value.container,toggle:[c.value.toggle,u.value?i.value?c.value.toggleOnDisabled:c.value.toggleOffDisabled:i.value?c.value.toggleOn:c.value.toggleOff],handle:[c.value.handle,u.value?i.value?c.value.handleOnDisabled:c.value.handleOffDisabled:i.value?c.value.handleOn:c.value.handleOff],label:c.value.label})))}}(a,0,{checked:n.checked}),i=function(l,a,d){const{disabled:n}=e(l),t=d.check,u=d.uncheck,i=d.checked;return{handleSpace:()=>{n.value||(i.value?u():t())}}}(a,0,{check:n.check,uncheck:n.uncheck,checked:n.checked});return{...n,...u,...t,...i}}};const f=[\"tabindex\",\"aria-checked\",\"aria-describedby\",\"aria-labelledby\"],h=[\"id\",\"name\",\"value\",\"checked\",\"disabled\"],v=[\"innerHTML\"],p=[\"checked\"];b.render=function(e,l,b,k,y,O){return a(),d(\"div\",n({class:e.classList.container,tabindex:b.disabled?void 0:0,\"aria-checked\":e.checked,\"aria-describedby\":b.describedby,\"aria-labelledby\":b.labelledby,role:\"switch\"},b.aria,{onKeypress:l[1]||(l[1]=t(u(((...l)=>e.handleSpace&&e.handleSpace(...l)),[\"prevent\"]),[\"space\"]))}),[i(c(\"input\",{type:\"checkbox\",id:b.id,name:b.name,value:b.trueValue,checked:e.checked,disabled:b.disabled},null,8,h),[[r,!1]]),c(\"div\",{class:o(e.classList.toggle),onClick:l[0]||(l[0]=(...l)=>e.handleClick&&e.handleClick(...l))},[c(\"span\",{class:o(e.classList.handle)},null,2),s(e.$slots,\"label\",{checked:e.checked,classList:e.classList},(()=>[c(\"span\",{class:o(e.classList.label),innerHTML:e.label},null,10,v)])),b.required?(a(),d(\"input\",{key:0,type:\"checkbox\",style:{appearance:\"none\",height:\"1px\",margin:\"0\",padding:\"0\",fontSize:\"0\",background:\"transparent\",position:\"absolute\",width:\"100%\",bottom:\"0\",outline:\"none\"},checked:e.checked,\"aria-hidden\":\"true\",tabindex:\"-1\",required:\"\"},null,8,p)):g(\"v-if\",!0)],2)],16,f)},b.__file=\"src/Toggle.vue\";export{b as default};\n","<template>\n    <!-- Visibility -->\n    <div class=\"flex flex-row rv-label\">\n        <div class=\"flex items-center\">\n            <div v-html=\"icon\" class=\"p-8 pl-0\"></div>\n            {{ name }}\n        </div>\n        <div class=\"flex-1\"></div>\n        <div ref=\"toggleWrapper\">\n            <toggle\n                @change=\"(value: any) => emit('toggled', value)\"\n                @keyup.enter.capture.stop=\"handleKeyup\"\n                @keyup.space.capture.stop=\"handleKeyup\"\n                :disabled=\"isDisabled\"\n                :key=\"toggleKey\"\n                v-model=\"isOn\"\n                :classes=\"{\n                    container:\n                        'inline-block rounded-full outline-none focus:ring focus:ring-blue-500 focus:ring-opacity-30',\n                    toggle: 'flex w-40 h-15 rounded-full relative cursor-pointer transition items-center box-content border-2 text-xs leading-none',\n                    toggleOn: 'bg-blue-500 border-blue-500 justify-start text-white',\n                    toggleOff: 'bg-gray-200 border-gray-200 justify-end text-gray-700',\n                    toggleOnDisabled: 'bg-gray-300 border-gray-300 justify-start text-gray-400 cursor-not-allowed',\n                    toggleOffDisabled: 'bg-gray-200 border-gray-200 justify-end text-gray-400 cursor-not-allowed',\n                    handle: 'inline-block bg-white w-15 h-15 top-0 rounded-full absolute transition-all',\n                    handleOn: 'left-full transform -translate-x-full',\n                    handleOff: 'left-0',\n                    handleOnDisabled: 'bg-gray-100 left-full transform -translate-x-full',\n                    handleOffDisabled: 'bg-gray-100 left-0',\n                    label: 'text-center w-8 border-box whitespace-nowrap select-none'\n                }\"\n            />\n        </div>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onBeforeUnmount, reactive, ref, toRef, watch } from 'vue';\nimport Toggle from '@vueform/toggle';\nimport type { PropType } from 'vue';\n\nconst emit = defineEmits(['toggled']);\n\nconst props = defineProps({\n    config: {\n        type: Object as PropType<{ value: boolean; disabled?: boolean }>,\n        required: true\n    },\n    name: String,\n    icon: String,\n    ariaLabel: String\n});\n\nconst isOn = ref<boolean>(props.config.value);\nconst isDisabled = ref<boolean>(!!props.config.disabled);\nconst toggleKey = ref<number>(0); // this key forces Vue to rerender Toggle\nconst watchers = reactive<Array<() => void>>([]);\nconst toggleWrapper = ref<HTMLElement | null>(null);\n\nwatchers.push(\n    watch(\n        toRef(props, 'config'),\n        (nConf: any, oConf: any) => {\n            isOn.value = nConf.value;\n            isDisabled.value = !!nConf.disabled;\n            // The Toggle component has a bug where if doesn't update its css classes when the disabled property changes.\n            // The :key binding on the Toggle template is incremented if disabled changes, forcing a rerender\n            toggleKey.value += isDisabled.value !== oConf.disabled ? 1 : 0;\n        },\n        { deep: true }\n    ),\n    watch(toggleWrapper, newValue => {\n        if (newValue) {\n            addAriaLabel();\n        }\n    })\n);\n\nconst handleKeyup = () => {\n    if (!isDisabled.value) {\n        isOn.value = !isOn.value;\n        emit('toggled', isOn.value);\n    }\n};\n\nconst addAriaLabel = () => {\n    if (toggleWrapper.value) {\n        const checkbox = toggleWrapper.value.querySelector('input[type=\"checkbox\"]');\n        if (checkbox && props.ariaLabel) {\n            checkbox.setAttribute('aria-label', props.ariaLabel);\n        }\n    }\n};\n\nonBeforeUnmount(() => {\n    watchers.forEach(unwatch => unwatch());\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.rv-label {\n    @apply flex items-center;\n}\n</style>\n"],"names":["b","e","a","d","n","t","u","i","c","r","o","s","l","g","f","h","v","p","k","y","O","emit","__emit","props","__props","isOn","ref","isDisabled","toggleKey","watchers","reactive","toggleWrapper","watch","toRef","nConf","oConf","newValue","addAriaLabel","handleKeyup","checkbox","onBeforeUnmount","unwatch"],"mappings":"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","x_google_ignoreList":[0]}