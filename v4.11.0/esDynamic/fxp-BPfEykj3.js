function lt(A,P){for(var b=0;b<P.length;b++){const w=P[b];if(typeof w!="string"&&!Array.isArray(w)){for(const I in w)if(I!=="default"&&!(I in A)){const f=Object.getOwnPropertyDescriptor(w,I);f&&Object.defineProperty(A,I,f.get?f:{enumerable:!0,get:()=>w[I]})}}}return Object.freeze(Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}))}var F={},z={},W;function D(){return W||(W=1,function(A){const P=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",b=P+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",w="["+P+"]["+b+"]*",I=new RegExp("^"+w+"$"),f=function(i,a){const e=[];let t=a.exec(i);for(;t;){const p=[];p.startIndex=a.lastIndex-t[0].length;const u=t.length;for(let y=0;y<u;y++)p.push(t[y]);e.push(p),t=a.exec(i)}return e},o=function(i){const a=I.exec(i);return!(a===null||typeof a>"u")};A.isExist=function(i){return typeof i<"u"},A.isEmptyObject=function(i){return Object.keys(i).length===0},A.merge=function(i,a,e){if(a){const t=Object.keys(a),p=t.length;for(let u=0;u<p;u++)e==="strict"?i[t[u]]=[a[t[u]]]:i[t[u]]=a[t[u]]}},A.getValue=function(i){return A.isExist(i)?i:""},A.isName=o,A.getAllMatches=f,A.nameRegexp=w}(z)),z}var J;function H(){if(J)return F;J=1;const A=D(),P={allowBooleanAttributes:!1,unpairedTags:[]};F.validate=function(r,l){l=Object.assign({},P,l);const m=[];let s=!1,c=!1;r[0]==="\uFEFF"&&(r=r.substr(1));for(let n=0;n<r.length;n++)if(r[n]==="<"&&r[n+1]==="?"){if(n+=2,n=w(r,n),n.err)return n}else if(r[n]==="<"){let x=n;if(n++,r[n]==="!"){n=I(r,n);continue}else{let g=!1;r[n]==="/"&&(g=!0,n++);let h="";for(;n<r.length&&r[n]!==">"&&r[n]!==" "&&r[n]!=="	"&&r[n]!==`
`&&r[n]!=="\r";n++)h+=r[n];if(h=h.trim(),h[h.length-1]==="/"&&(h=h.substring(0,h.length-1),n--),!v(h)){let E;return h.trim().length===0?E="Invalid space after '<'.":E="Tag '"+h+"' is an invalid name.",u("InvalidTag",E,T(r,n))}const N=i(r,n);if(N===!1)return u("InvalidAttr","Attributes for '"+h+"' have open quote.",T(r,n));let d=N.value;if(n=N.index,d[d.length-1]==="/"){const E=n-d.length;d=d.substring(0,d.length-1);const O=e(d,l);if(O===!0)s=!0;else return u(O.err.code,O.err.msg,T(r,E+O.err.line))}else if(g)if(N.tagClosed){if(d.trim().length>0)return u("InvalidTag","Closing tag '"+h+"' can't have attributes or invalid starting.",T(r,x));{const E=m.pop();if(h!==E.tagName){let O=T(r,E.tagStartPos);return u("InvalidTag","Expected closing tag '"+E.tagName+"' (opened in line "+O.line+", col "+O.col+") instead of closing tag '"+h+"'.",T(r,x))}m.length==0&&(c=!0)}}else return u("InvalidTag","Closing tag '"+h+"' doesn't have proper closing.",T(r,n));else{const E=e(d,l);if(E!==!0)return u(E.err.code,E.err.msg,T(r,n-d.length+E.err.line));if(c===!0)return u("InvalidXml","Multiple possible root nodes found.",T(r,n));l.unpairedTags.indexOf(h)!==-1||m.push({tagName:h,tagStartPos:x}),s=!0}for(n++;n<r.length;n++)if(r[n]==="<")if(r[n+1]==="!"){n++,n=I(r,n);continue}else if(r[n+1]==="?"){if(n=w(r,++n),n.err)return n}else break;else if(r[n]==="&"){const E=p(r,n);if(E==-1)return u("InvalidChar","char '&' is not expected.",T(r,n));n=E}else if(c===!0&&!b(r[n]))return u("InvalidXml","Extra text at the end",T(r,n));r[n]==="<"&&n--}}else{if(b(r[n]))continue;return u("InvalidChar","char '"+r[n]+"' is not expected.",T(r,n))}if(s){if(m.length==1)return u("InvalidTag","Unclosed tag '"+m[0].tagName+"'.",T(r,m[0].tagStartPos));if(m.length>0)return u("InvalidXml","Invalid '"+JSON.stringify(m.map(n=>n.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return u("InvalidXml","Start tag expected.",1);return!0};function b(r){return r===" "||r==="	"||r===`
`||r==="\r"}function w(r,l){const m=l;for(;l<r.length;l++)if(r[l]=="?"||r[l]==" "){const s=r.substr(m,l-m);if(l>5&&s==="xml")return u("InvalidXml","XML declaration allowed only at the start of the document.",T(r,l));if(r[l]=="?"&&r[l+1]==">"){l++;break}else continue}return l}function I(r,l){if(r.length>l+5&&r[l+1]==="-"&&r[l+2]==="-"){for(l+=3;l<r.length;l++)if(r[l]==="-"&&r[l+1]==="-"&&r[l+2]===">"){l+=2;break}}else if(r.length>l+8&&r[l+1]==="D"&&r[l+2]==="O"&&r[l+3]==="C"&&r[l+4]==="T"&&r[l+5]==="Y"&&r[l+6]==="P"&&r[l+7]==="E"){let m=1;for(l+=8;l<r.length;l++)if(r[l]==="<")m++;else if(r[l]===">"&&(m--,m===0))break}else if(r.length>l+9&&r[l+1]==="["&&r[l+2]==="C"&&r[l+3]==="D"&&r[l+4]==="A"&&r[l+5]==="T"&&r[l+6]==="A"&&r[l+7]==="["){for(l+=8;l<r.length;l++)if(r[l]==="]"&&r[l+1]==="]"&&r[l+2]===">"){l+=2;break}}return l}const f='"',o="'";function i(r,l){let m="",s="",c=!1;for(;l<r.length;l++){if(r[l]===f||r[l]===o)s===""?s=r[l]:s!==r[l]||(s="");else if(r[l]===">"&&s===""){c=!0;break}m+=r[l]}return s!==""?!1:{value:m,index:l,tagClosed:c}}const a=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function e(r,l){const m=A.getAllMatches(r,a),s={};for(let c=0;c<m.length;c++){if(m[c][1].length===0)return u("InvalidAttr","Attribute '"+m[c][2]+"' has no space in starting.",C(m[c]));if(m[c][3]!==void 0&&m[c][4]===void 0)return u("InvalidAttr","Attribute '"+m[c][2]+"' is without value.",C(m[c]));if(m[c][3]===void 0&&!l.allowBooleanAttributes)return u("InvalidAttr","boolean attribute '"+m[c][2]+"' is not allowed.",C(m[c]));const n=m[c][2];if(!y(n))return u("InvalidAttr","Attribute '"+n+"' is an invalid name.",C(m[c]));if(!s.hasOwnProperty(n))s[n]=1;else return u("InvalidAttr","Attribute '"+n+"' is repeated.",C(m[c]))}return!0}function t(r,l){let m=/\d/;for(r[l]==="x"&&(l++,m=/[\da-fA-F]/);l<r.length;l++){if(r[l]===";")return l;if(!r[l].match(m))break}return-1}function p(r,l){if(l++,r[l]===";")return-1;if(r[l]==="#")return l++,t(r,l);let m=0;for(;l<r.length;l++,m++)if(!(r[l].match(/\w/)&&m<20)){if(r[l]===";")break;return-1}return l}function u(r,l,m){return{err:{code:r,msg:l,line:m.line||m,col:m.col}}}function y(r){return A.isName(r)}function v(r){return A.isName(r)}function T(r,l){const m=r.substring(0,l).split(/\r?\n/);return{line:m.length,col:m[m.length-1].length+1}}function C(r){return r.startIndex+r[1].length}return F}var k={},K;function ut(){if(K)return k;K=1;const A={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(b,w){return w},attributeValueProcessor:function(b,w){return w},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(b,w,I){return b}},P=function(b){return Object.assign({},A,b)};return k.buildOptions=P,k.defaultOptions=A,k}var M,Q;function ht(){if(Q)return M;Q=1;class A{constructor(b){this.tagname=b,this.child=[],this[":@"]={}}add(b,w){b==="__proto__"&&(b="#__proto__"),this.child.push({[b]:w})}addChild(b){b.tagname==="__proto__"&&(b.tagname="#__proto__"),b[":@"]&&Object.keys(b[":@"]).length>0?this.child.push({[b.tagname]:b.child,":@":b[":@"]}):this.child.push({[b.tagname]:b.child})}}return M=A,M}var L,tt;function ct(){if(tt)return L;tt=1;const A=D();function P(e,t){const p={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let u=1,y=!1,v=!1,T="";for(;t<e.length;t++)if(e[t]==="<"&&!v){if(y&&I(e,t))t+=7,[entityName,val,t]=b(e,t+1),val.indexOf("&")===-1&&(p[a(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(y&&f(e,t))t+=8;else if(y&&o(e,t))t+=8;else if(y&&i(e,t))t+=9;else if(w)v=!0;else throw new Error("Invalid DOCTYPE");u++,T=""}else if(e[t]===">"){if(v?e[t-1]==="-"&&e[t-2]==="-"&&(v=!1,u--):u--,u===0)break}else e[t]==="["?y=!0:T+=e[t];if(u!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:p,i:t}}function b(e,t){let p="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)p+=e[t];if(p=p.trim(),p.indexOf(" ")!==-1)throw new Error("External entites are not supported");const u=e[t++];let y="";for(;t<e.length&&e[t]!==u;t++)y+=e[t];return[p,y,t]}function w(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function I(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function f(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function o(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function i(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function a(e){if(A.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}return L=P,L}var B,et;function pt(){if(et)return B;et=1;const A=/^[-+]?0x[a-fA-F0-9]+$/,P=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const b={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function w(f,o={}){if(o=Object.assign({},b,o),!f||typeof f!="string")return f;let i=f.trim();if(o.skipLike!==void 0&&o.skipLike.test(i))return f;if(o.hex&&A.test(i))return Number.parseInt(i,16);{const a=P.exec(i);if(a){const e=a[1],t=a[2];let p=I(a[3]);const u=a[4]||a[6];if(!o.leadingZeros&&t.length>0&&e&&i[2]!=="."||!o.leadingZeros&&t.length>0&&!e&&i[1]!==".")return f;{const y=Number(i),v=""+y;return v.search(/[eE]/)!==-1||u?o.eNotation?y:f:i.indexOf(".")!==-1?v==="0"&&p===""||v===p||e&&v==="-"+p?y:f:t?p===v||e+p===v?y:f:i===v||i===e+v?y:f}}else return f}}function I(f){return f&&f.indexOf(".")!==-1&&(f=f.replace(/0+$/,""),f==="."?f="0":f[0]==="."?f="0"+f:f[f.length-1]==="."&&(f=f.substr(0,f.length-1))),f}return B=w,B}var R,nt;function dt(){if(nt)return R;nt=1;const A=D(),P=ht(),b=ct(),w=pt();"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,A.nameRegexp);class I{constructor(c){this.options=c,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=f,this.parseXml=t,this.parseTextData=o,this.resolveNameSpace=i,this.buildAttributesMap=e,this.isItStopNode=v,this.replaceEntitiesValue=u,this.readStopNodeData=l,this.saveTextToParentTag=y,this.addChild=p}}function f(s){const c=Object.keys(s);for(let n=0;n<c.length;n++){const x=c[n];this.lastEntities[x]={regex:new RegExp("&"+x+";","g"),val:s[x]}}}function o(s,c,n,x,g,h,N){if(s!==void 0&&(this.options.trimValues&&!x&&(s=s.trim()),s.length>0)){N||(s=this.replaceEntitiesValue(s));const d=this.options.tagValueProcessor(c,s,n,g,h);return d==null?s:typeof d!=typeof s||d!==s?d:this.options.trimValues?m(s,this.options.parseTagValue,this.options.numberParseOptions):s.trim()===s?m(s,this.options.parseTagValue,this.options.numberParseOptions):s}}function i(s){if(this.options.removeNSPrefix){const c=s.split(":"),n=s.charAt(0)==="/"?"/":"";if(c[0]==="xmlns")return"";c.length===2&&(s=n+c[1])}return s}const a=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function e(s,c,n){if(!this.options.ignoreAttributes&&typeof s=="string"){const x=A.getAllMatches(s,a),g=x.length,h={};for(let N=0;N<g;N++){const d=this.resolveNameSpace(x[N][1]);let E=x[N][4],O=this.options.attributeNamePrefix+d;if(d.length)if(this.options.transformAttributeName&&(O=this.options.transformAttributeName(O)),O==="__proto__"&&(O="#__proto__"),E!==void 0){this.options.trimValues&&(E=E.trim()),E=this.replaceEntitiesValue(E);const S=this.options.attributeValueProcessor(d,E,c);S==null?h[O]=E:typeof S!=typeof E||S!==E?h[O]=S:h[O]=m(E,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(h[O]=!0)}if(!Object.keys(h).length)return;if(this.options.attributesGroupName){const N={};return N[this.options.attributesGroupName]=h,N}return h}}const t=function(s){s=s.replace(/\r\n?/g,`
`);const c=new P("!xml");let n=c,x="",g="";for(let h=0;h<s.length;h++)if(s[h]==="<")if(s[h+1]==="/"){const N=C(s,">",h,"Closing Tag is not closed.");let d=s.substring(h+2,N).trim();if(this.options.removeNSPrefix){const S=d.indexOf(":");S!==-1&&(d=d.substr(S+1))}this.options.transformTagName&&(d=this.options.transformTagName(d)),n&&(x=this.saveTextToParentTag(x,n,g));const E=g.substring(g.lastIndexOf(".")+1);if(d&&this.options.unpairedTags.indexOf(d)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${d}>`);let O=0;E&&this.options.unpairedTags.indexOf(E)!==-1?(O=g.lastIndexOf(".",g.lastIndexOf(".")-1),this.tagsNodeStack.pop()):O=g.lastIndexOf("."),g=g.substring(0,O),n=this.tagsNodeStack.pop(),x="",h=N}else if(s[h+1]==="?"){let N=r(s,h,!1,"?>");if(!N)throw new Error("Pi Tag is not closed.");if(x=this.saveTextToParentTag(x,n,g),!(this.options.ignoreDeclaration&&N.tagName==="?xml"||this.options.ignorePiTags)){const d=new P(N.tagName);d.add(this.options.textNodeName,""),N.tagName!==N.tagExp&&N.attrExpPresent&&(d[":@"]=this.buildAttributesMap(N.tagExp,g,N.tagName)),this.addChild(n,d,g)}h=N.closeIndex+1}else if(s.substr(h+1,3)==="!--"){const N=C(s,"-->",h+4,"Comment is not closed.");if(this.options.commentPropName){const d=s.substring(h+4,N-2);x=this.saveTextToParentTag(x,n,g),n.add(this.options.commentPropName,[{[this.options.textNodeName]:d}])}h=N}else if(s.substr(h+1,2)==="!D"){const N=b(s,h);this.docTypeEntities=N.entities,h=N.i}else if(s.substr(h+1,2)==="!["){const N=C(s,"]]>",h,"CDATA is not closed.")-2,d=s.substring(h+9,N);if(x=this.saveTextToParentTag(x,n,g),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:d}]);else{let E=this.parseTextData(d,n.tagname,g,!0,!1,!0);E==null&&(E=""),n.add(this.options.textNodeName,E)}h=N+2}else{let N=r(s,h,this.options.removeNSPrefix),d=N.tagName;const E=N.rawTagName;let O=N.tagExp,S=N.attrExpPresent,V=N.closeIndex;this.options.transformTagName&&(d=this.options.transformTagName(d)),n&&x&&n.tagname!=="!xml"&&(x=this.saveTextToParentTag(x,n,g,!1));const q=n;if(q&&this.options.unpairedTags.indexOf(q.tagname)!==-1&&(n=this.tagsNodeStack.pop(),g=g.substring(0,g.lastIndexOf("."))),d!==c.tagname&&(g+=g?"."+d:d),this.isItStopNode(this.options.stopNodes,g,d)){let j="";if(O.length>0&&O.lastIndexOf("/")===O.length-1)h=N.closeIndex;else if(this.options.unpairedTags.indexOf(d)!==-1)h=N.closeIndex;else{const $=this.readStopNodeData(s,E,V+1);if(!$)throw new Error(`Unexpected end of ${E}`);h=$.i,j=$.tagContent}const _=new P(d);d!==O&&S&&(_[":@"]=this.buildAttributesMap(O,g,d)),j&&(j=this.parseTextData(j,d,g,!0,S,!0,!0)),g=g.substr(0,g.lastIndexOf(".")),_.add(this.options.textNodeName,j),this.addChild(n,_,g)}else{if(O.length>0&&O.lastIndexOf("/")===O.length-1){d[d.length-1]==="/"?(d=d.substr(0,d.length-1),g=g.substr(0,g.length-1),O=d):O=O.substr(0,O.length-1),this.options.transformTagName&&(d=this.options.transformTagName(d));const j=new P(d);d!==O&&S&&(j[":@"]=this.buildAttributesMap(O,g,d)),this.addChild(n,j,g),g=g.substr(0,g.lastIndexOf("."))}else{const j=new P(d);this.tagsNodeStack.push(n),d!==O&&S&&(j[":@"]=this.buildAttributesMap(O,g,d)),this.addChild(n,j,g),n=j}x="",h=V}}else x+=s[h];return c.child};function p(s,c,n){const x=this.options.updateTag(c.tagname,n,c[":@"]);x===!1||(typeof x=="string"&&(c.tagname=x),s.addChild(c))}const u=function(s){if(this.options.processEntities){for(let c in this.docTypeEntities){const n=this.docTypeEntities[c];s=s.replace(n.regx,n.val)}for(let c in this.lastEntities){const n=this.lastEntities[c];s=s.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let c in this.htmlEntities){const n=this.htmlEntities[c];s=s.replace(n.regex,n.val)}s=s.replace(this.ampEntity.regex,this.ampEntity.val)}return s};function y(s,c,n,x){return s&&(x===void 0&&(x=Object.keys(c.child).length===0),s=this.parseTextData(s,c.tagname,n,!1,c[":@"]?Object.keys(c[":@"]).length!==0:!1,x),s!==void 0&&s!==""&&c.add(this.options.textNodeName,s),s=""),s}function v(s,c,n){const x="*."+n;for(const g in s){const h=s[g];if(x===h||c===h)return!0}return!1}function T(s,c,n=">"){let x,g="";for(let h=c;h<s.length;h++){let N=s[h];if(x)N===x&&(x="");else if(N==='"'||N==="'")x=N;else if(N===n[0])if(n[1]){if(s[h+1]===n[1])return{data:g,index:h}}else return{data:g,index:h};else N==="	"&&(N=" ");g+=N}}function C(s,c,n,x){const g=s.indexOf(c,n);if(g===-1)throw new Error(x);return g+c.length-1}function r(s,c,n,x=">"){const g=T(s,c+1,x);if(!g)return;let h=g.data;const N=g.index,d=h.search(/\s/);let E=h,O=!0;d!==-1&&(E=h.substr(0,d).replace(/\s\s*$/,""),h=h.substr(d+1));const S=E;if(n){const V=E.indexOf(":");V!==-1&&(E=E.substr(V+1),O=E!==g.data.substr(V+1))}return{tagName:E,tagExp:h,closeIndex:N,attrExpPresent:O,rawTagName:S}}function l(s,c,n){const x=n;let g=1;for(;n<s.length;n++)if(s[n]==="<")if(s[n+1]==="/"){const h=C(s,">",n,`${c} is not closed`);if(s.substring(n+2,h).trim()===c&&(g--,g===0))return{tagContent:s.substring(x,n),i:h};n=h}else if(s[n+1]==="?")n=C(s,"?>",n+1,"StopNode is not closed.");else if(s.substr(n+1,3)==="!--")n=C(s,"-->",n+3,"StopNode is not closed.");else if(s.substr(n+1,2)==="![")n=C(s,"]]>",n,"StopNode is not closed.")-2;else{const h=r(s,n,">");h&&((h&&h.tagName)===c&&h.tagExp[h.tagExp.length-1]!=="/"&&g++,n=h.closeIndex)}}function m(s,c,n){if(c&&typeof s=="string"){const x=s.trim();return x==="true"?!0:x==="false"?!1:w(s,n)}else return A.isExist(s)?s:""}return R=I,R}var X={},it;function gt(){if(it)return X;it=1;function A(f,o){return P(f,o)}function P(f,o,i){let a;const e={};for(let t=0;t<f.length;t++){const p=f[t],u=b(p);let y="";if(i===void 0?y=u:y=i+"."+u,u===o.textNodeName)a===void 0?a=p[u]:a+=""+p[u];else{if(u===void 0)continue;if(p[u]){let v=P(p[u],o,y);const T=I(v,o);p[":@"]?w(v,p[":@"],y,o):Object.keys(v).length===1&&v[o.textNodeName]!==void 0&&!o.alwaysCreateTextNode?v=v[o.textNodeName]:Object.keys(v).length===0&&(o.alwaysCreateTextNode?v[o.textNodeName]="":v=""),e[u]!==void 0&&e.hasOwnProperty(u)?(Array.isArray(e[u])||(e[u]=[e[u]]),e[u].push(v)):o.isArray(u,y,T)?e[u]=[v]:e[u]=v}}}return typeof a=="string"?a.length>0&&(e[o.textNodeName]=a):a!==void 0&&(e[o.textNodeName]=a),e}function b(f){const o=Object.keys(f);for(let i=0;i<o.length;i++){const a=o[i];if(a!==":@")return a}}function w(f,o,i,a){if(o){const e=Object.keys(o),t=e.length;for(let p=0;p<t;p++){const u=e[p];a.isArray(u,i+"."+u,!0,!0)?f[u]=[o[u]]:f[u]=o[u]}}}function I(f,o){const{textNodeName:i}=o,a=Object.keys(f).length;return!!(a===0||a===1&&(f[i]||typeof f[i]=="boolean"||f[i]===0))}return X.prettify=A,X}var G,rt;function ft(){if(rt)return G;rt=1;const{buildOptions:A}=ut(),P=dt(),{prettify:b}=gt(),w=H();class I{constructor(o){this.externalEntities={},this.options=A(o)}parse(o,i){if(typeof o!="string")if(o.toString)o=o.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(i){i===!0&&(i={});const t=w.validate(o,i);if(t!==!0)throw Error(`${t.err.msg}:${t.err.line}:${t.err.col}`)}const a=new P(this.options);a.addExternalEntities(this.externalEntities);const e=a.parseXml(o);return this.options.preserveOrder||e===void 0?e:b(e,this.options)}addEntity(o,i){if(i.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(o.indexOf("&")!==-1||o.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(i==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[o]=i}}return G=I,G}var U,st;function mt(){if(st)return U;st=1;const A=`
`;function P(i,a){let e="";return a.format&&a.indentBy.length>0&&(e=A),b(i,a,"",e)}function b(i,a,e,t){let p="",u=!1;for(let y=0;y<i.length;y++){const v=i[y],T=w(v);if(T===void 0)continue;let C="";if(e.length===0?C=T:C=`${e}.${T}`,T===a.textNodeName){let c=v[T];f(C,a)||(c=a.tagValueProcessor(T,c),c=o(c,a)),u&&(p+=t),p+=c,u=!1;continue}else if(T===a.cdataPropName){u&&(p+=t),p+=`<![CDATA[${v[T][0][a.textNodeName]}]]>`,u=!1;continue}else if(T===a.commentPropName){p+=t+`<!--${v[T][0][a.textNodeName]}-->`,u=!0;continue}else if(T[0]==="?"){const c=I(v[":@"],a),n=T==="?xml"?"":t;let x=v[T][0][a.textNodeName];x=x.length!==0?" "+x:"",p+=n+`<${T}${x}${c}?>`,u=!0;continue}let r=t;r!==""&&(r+=a.indentBy);const l=I(v[":@"],a),m=t+`<${T}${l}`,s=b(v[T],a,C,r);a.unpairedTags.indexOf(T)!==-1?a.suppressUnpairedNode?p+=m+">":p+=m+"/>":(!s||s.length===0)&&a.suppressEmptyNode?p+=m+"/>":s&&s.endsWith(">")?p+=m+`>${s}${t}</${T}>`:(p+=m+">",s&&t!==""&&(s.includes("/>")||s.includes("</"))?p+=t+a.indentBy+s+t:p+=s,p+=`</${T}>`),u=!0}return p}function w(i){const a=Object.keys(i);for(let e=0;e<a.length;e++){const t=a[e];if(i.hasOwnProperty(t)&&t!==":@")return t}}function I(i,a){let e="";if(i&&!a.ignoreAttributes)for(let t in i){if(!i.hasOwnProperty(t))continue;let p=a.attributeValueProcessor(t,i[t]);p=o(p,a),p===!0&&a.suppressBooleanAttributes?e+=` ${t.substr(a.attributeNamePrefix.length)}`:e+=` ${t.substr(a.attributeNamePrefix.length)}="${p}"`}return e}function f(i,a){i=i.substr(0,i.length-a.textNodeName.length-1);let e=i.substr(i.lastIndexOf(".")+1);for(let t in a.stopNodes)if(a.stopNodes[t]===i||a.stopNodes[t]==="*."+e)return!0;return!1}function o(i,a){if(i&&i.length>0&&a.processEntities)for(let e=0;e<a.entities.length;e++){const t=a.entities[e];i=i.replace(t.regex,t.val)}return i}return U=P,U}var Y,ot;function xt(){if(ot)return Y;ot=1;const A=mt(),P={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,i){return i},attributeValueProcessor:function(o,i){return i},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function b(o){this.options=Object.assign({},P,o),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=f),this.processTextOrObjNode=w,this.options.format?(this.indentate=I,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}b.prototype.build=function(o){return this.options.preserveOrder?A(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0).val)},b.prototype.j2x=function(o,i){let a="",e="";for(let t in o)if(Object.prototype.hasOwnProperty.call(o,t))if(typeof o[t]>"u")this.isAttribute(t)&&(e+="");else if(o[t]===null)this.isAttribute(t)?e+="":t[0]==="?"?e+=this.indentate(i)+"<"+t+"?"+this.tagEndChar:e+=this.indentate(i)+"<"+t+"/"+this.tagEndChar;else if(o[t]instanceof Date)e+=this.buildTextValNode(o[t],t,"",i);else if(typeof o[t]!="object"){const p=this.isAttribute(t);if(p)a+=this.buildAttrPairStr(p,""+o[t]);else if(t===this.options.textNodeName){let u=this.options.tagValueProcessor(t,""+o[t]);e+=this.replaceEntitiesValue(u)}else e+=this.buildTextValNode(o[t],t,"",i)}else if(Array.isArray(o[t])){const p=o[t].length;let u="";for(let y=0;y<p;y++){const v=o[t][y];typeof v>"u"||(v===null?t[0]==="?"?e+=this.indentate(i)+"<"+t+"?"+this.tagEndChar:e+=this.indentate(i)+"<"+t+"/"+this.tagEndChar:typeof v=="object"?this.options.oneListGroup?u+=this.j2x(v,i+1).val:u+=this.processTextOrObjNode(v,t,i):u+=this.buildTextValNode(v,t,"",i))}this.options.oneListGroup&&(u=this.buildObjectNode(u,t,"",i)),e+=u}else if(this.options.attributesGroupName&&t===this.options.attributesGroupName){const p=Object.keys(o[t]),u=p.length;for(let y=0;y<u;y++)a+=this.buildAttrPairStr(p[y],""+o[t][p[y]])}else e+=this.processTextOrObjNode(o[t],t,i);return{attrStr:a,val:e}},b.prototype.buildAttrPairStr=function(o,i){return i=this.options.attributeValueProcessor(o,""+i),i=this.replaceEntitiesValue(i),this.options.suppressBooleanAttributes&&i==="true"?" "+o:" "+o+'="'+i+'"'};function w(o,i,a){const e=this.j2x(o,a+1);return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],i,e.attrStr,a):this.buildObjectNode(e.val,i,e.attrStr,a)}b.prototype.buildObjectNode=function(o,i,a,e){if(o==="")return i[0]==="?"?this.indentate(e)+"<"+i+a+"?"+this.tagEndChar:this.indentate(e)+"<"+i+a+this.closeTag(i)+this.tagEndChar;{let t="</"+i+this.tagEndChar,p="";return i[0]==="?"&&(p="?",t=""),(a||a==="")&&o.indexOf("<")===-1?this.indentate(e)+"<"+i+a+p+">"+o+t:this.options.commentPropName!==!1&&i===this.options.commentPropName&&p.length===0?this.indentate(e)+`<!--${o}-->`+this.newLine:this.indentate(e)+"<"+i+a+p+this.tagEndChar+o+this.indentate(e)+t}},b.prototype.closeTag=function(o){let i="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(i="/"):this.options.suppressEmptyNode?i="/":i=`></${o}`,i},b.prototype.buildTextValNode=function(o,i,a,e){if(this.options.cdataPropName!==!1&&i===this.options.cdataPropName)return this.indentate(e)+`<![CDATA[${o}]]>`+this.newLine;if(this.options.commentPropName!==!1&&i===this.options.commentPropName)return this.indentate(e)+`<!--${o}-->`+this.newLine;if(i[0]==="?")return this.indentate(e)+"<"+i+a+"?"+this.tagEndChar;{let t=this.options.tagValueProcessor(i,o);return t=this.replaceEntitiesValue(t),t===""?this.indentate(e)+"<"+i+a+this.closeTag(i)+this.tagEndChar:this.indentate(e)+"<"+i+a+">"+t+"</"+i+this.tagEndChar}},b.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let i=0;i<this.options.entities.length;i++){const a=this.options.entities[i];o=o.replace(a.regex,a.val)}return o};function I(o){return this.options.indentBy.repeat(o)}function f(o){return o.startsWith(this.options.attributeNamePrefix)&&o!==this.options.textNodeName?o.substr(this.attrPrefixLen):!1}return Y=b,Y}var Z,at;function Nt(){if(at)return Z;at=1;const A=H(),P=ft(),b=xt();return Z={XMLParser:P,XMLValidator:A,XMLBuilder:b},Z}var bt=Nt();const vt=lt({__proto__:null},[bt]);export{vt as f};
