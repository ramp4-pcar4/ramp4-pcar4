{"version":3,"file":"visualVariableUtils-Bg1hxwMd.js","sources":["../../node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import a from\"../../../Graphic.js\";import{neverReached as i}from\"../../../core/compilerUtils.js\";import n from\"../../../core/Logger.js\";import{meterIn as t}from\"../../support/lengthUtils.js\";import{isSizeVariable as r,isValidNumber as s,TransformationType as l,InputValueType as o}from\"./sizeVariableUtils.js\";const c=()=>n.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),u=e=>c().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),f=()=>c().error(\"Use of arcade expressions requires an arcade context\"),p=new a,d=Math.PI,v=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;function m(a,i,n){const t=\"visualVariables\"in a&&a.visualVariables?a.visualVariables.find((e=>\"color\"===e.type)):a;if(!t)return;if(\"esri.renderers.visualVariables.ColorVariable\"!==t.declaredClass)return void u(\"ColorVariable\");const r=\"number\"==typeof i,s=r?null:i,l=s?.attributes;let o=r?i:null;const c=t.field,{ipData:p,hasExpression:d}=t.cache;let v=t.cache.compiledFunc;if(!c&&!d){const e=t.stops;return e&&e[0]&&e[0].color}if(\"number\"!=typeof o)if(d){if(null==n?.arcade)return void f();const e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},a=n.arcade.arcadeUtils,i=a.getViewInfo(e),r=a.createExecContext(s,i,n.timeZone);if(!v){const e=a.createSyntaxTree(t.valueExpression);v=a.createFunction(e),t.cache.compiledFunc=v}o=a.executeFunction(v,r)}else l&&(o=l[c]);const m=t.normalizationField,b=null!=l&&null!=m?parseFloat(l[m]):void 0;if(null!=o&&(!m||r||!isNaN(b)&&0!==b)){isNaN(b)||r||(o/=b);const a=U(o,p);if(a){const i=a[0],r=a[1],s=i===r?t.stops[i].color:e.blendColors(t.stops[i].color,t.stops[r].color,a[2],null!=n?n.color:void 0);return new e(s)}}}function b(e,a,i){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"opacity\"===e.type)):e;if(!n)return;if(\"esri.renderers.visualVariables.OpacityVariable\"!==n.declaredClass)return void u(\"OpacityVariable\");const t=\"number\"==typeof a,r=t?null:a,s=r?.attributes;let l=t?a:null;const o=n.field,{ipData:c,hasExpression:p}=n.cache;let d=n.cache.compiledFunc;if(!o&&!p){const e=n.stops;return e&&e[0]&&e[0].opacity}if(\"number\"!=typeof l)if(p){if(null==i?.arcade)return void f();const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,t=a.getViewInfo(e),s=a.createExecContext(r,t,i.timeZone);if(!d){const e=a.createSyntaxTree(n.valueExpression);d=a.createFunction(e),n.cache.compiledFunc=d}l=a.executeFunction(d,s)}else s&&(l=s[o]);const v=n.normalizationField,m=null!=s&&null!=v?parseFloat(s[v]):void 0;if(null!=l&&(!v||t||!isNaN(m)&&0!==m)){isNaN(m)||t||(l/=m);const e=U(l,c);if(e){const a=e[0],i=e[1];if(a===i)return n.stops[a].opacity;{const t=n.stops[a].opacity;return t+(n.stops[i].opacity-t)*e[2]}}}}function h(e,a,i){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"rotation\"===e.type)):e;if(!n)return;if(\"esri.renderers.visualVariables.RotationVariable\"!==n.declaredClass)return void u(\"RotationVariable\");const t=n.axis||\"heading\",r=\"heading\"===t&&\"arithmetic\"===n.rotationType?90:0,s=\"heading\"===t&&\"arithmetic\"===n.rotationType?-1:1,l=\"number\"==typeof a?null:a,o=l?.attributes,c=n.field,{hasExpression:p}=n.cache;let d=n.cache.compiledFunc,v=0;if(!c&&!p)return v;if(p){if(null==i?.arcade)return void f();const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,t=a.getViewInfo(e),r=a.createExecContext(l,t,i.timeZone);if(!d){const e=a.createSyntaxTree(n.valueExpression);d=a.createFunction(e),n.cache.compiledFunc=d}v=a.executeFunction(d,r)}else o&&(v=o[c]||0);return v=\"number\"!=typeof v||isNaN(v)?null:r+s*v,v}function V(e,a,i){const n=\"number\"==typeof a,t=n?null:a,r=t?.attributes;let l=n?a:null;const{isScaleDriven:c}=e.cache;let u=e.cache.compiledFunc;if(c){const a=null!=i?i.scale:void 0,n=null!=i?i.view:void 0;l=null==a||\"3d\"===n?x(e):a}else if(!n)switch(e.inputValueType){case o.Expression:{if(null==i?.arcade)return void f();const a={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},n=i.arcade.arcadeUtils,r=n.getViewInfo(a),s=n.createExecContext(t,r,i.timeZone);if(!u){const a=n.createSyntaxTree(e.valueExpression);u=n.createFunction(a),e.cache.compiledFunc=u}l=n.executeFunction(u,s);break}case o.Field:r&&(l=r[e.field]);break;case o.Unknown:l=null}if(!s(l))return null;if(n||!e.normalizationField)return l;const p=r?parseFloat(r[e.normalizationField]):null;return s(p)&&0!==p?l/p:null}function x(e){let a=null,i=null;const n=e.stops;return n?(a=n[0].value,i=n[n.length-1].value):(a=e.minDataValue||0,i=e.maxDataValue||0),(a+i)/2}function y(e,a,i){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"size\"===e.type)):e;if(!n)return;if(\"esri.renderers.visualVariables.SizeVariable\"!==n.declaredClass)return void u(\"SizeVariable\");const t=k(V(n,a,i),n,a,i,n.cache.ipData);return null==t||isNaN(t)?0:t}function g(e,a,i){return null==e?null:r(e)?y(e,a,i):s(e)?e:null}function w(e,a,i){return s(i)&&e>i?i:s(a)&&e<a?a:e}function z(e,a,i,n){return e+((g(a.minSize,i,n)||a.minDataValue)??0)}function F(e,a,i){const n=e.stops;let t=n?.length&&n[0].size;return null==t&&(t=e.minSize),g(t,a,i)}function S(e,a,i,n){const t=(e-a.minDataValue)/(a.maxDataValue-a.minDataValue),r=g(a.minSize,i,n),s=g(a.maxSize,i,n),l=null!=n?n.shape:void 0;if(e<=a.minDataValue)return r;if(e>=a.maxDataValue)return s;if(null==r||null==s)return null;if(\"area\"===a.scaleBy&&l){const e=\"circle\"===l,a=e?d*(r/2)**2:r*r,i=a+t*((e?d*(s/2)**2:s*s)-a);return e?2*Math.sqrt(i/d):Math.sqrt(i)}return r+t*(s-r)}function E(e,a,i,n){const t=null!=n?n.shape:void 0,r=e/a.minDataValue,s=g(a.minSize,i,n),l=g(a.maxSize,i,n);let o=null;return o=\"circle\"===t?2*Math.sqrt(r*(s/2)**2):\"square\"===t||\"diamond\"===t||\"image\"===t?Math.sqrt(r*s**2):r*s,w(o,s,l)}function C(e,a,i,n,t){const[r,s,l]=U(e,t);if(r===s)return g(a.stops?.[r].size,i,n);{const e=g(a.stops?.[r].size,i,n);return e+(g(a.stops?.[s].size,i,n)-e)*l}}function D(e,a,i,n){const r=(n?.resolution??1)*t[a.valueUnit],s=g(a.minSize,i,n),l=g(a.maxSize,i,n),{valueRepresentation:o}=a;let c=null;return c=\"area\"===o?2*Math.sqrt(e/d)/r:\"radius\"===o||\"distance\"===o?2*e/r:e/r,w(c,s,l)}function M(e){return e}function k(e,a,i,n,t){switch(a.transformationType){case l.Additive:return z(e,a,i,n);case l.Constant:return F(a,i,n);case l.ClampedLinear:return S(e,a,i,n);case l.Proportional:return E(e,a,i,n);case l.Stops:return C(e,a,i,n,t);case l.RealWorldSize:return D(e,a,i,n);case l.Identity:return M(e);case l.Unknown:return null}}function N(e,a,i){const{isScaleDriven:n}=e.cache;if(!(n&&\"3d\"===i||a))return null;const t={scale:a,view:i};let r=g(e.minSize,p,t),s=g(e.maxSize,p,t);if(null!=r||null!=s){if(r>s){const e=s;s=r,r=e}return{minSize:r,maxSize:s}}}function R(e,a,i){if(!e.visualVariables)return;const n=[],t=[],r=[],s=[],l=[];for(const o of e.visualVariables)switch(o.type){case\"color\":t.push(o);break;case\"opacity\":r.push(o);break;case\"rotation\":l.push(o);break;case\"size\":s.push(o)}return t.forEach((e=>{const t=m(e,a,i);n.push({variable:e,value:t})})),r.forEach((e=>{const t=b(e,a,i);n.push({variable:e,value:t})})),l.forEach((e=>{const t=h(e,a,i);n.push({variable:e,value:t})})),s.forEach((e=>{const t=y(e,a,i);n.push({variable:e,value:t})})),n.filter((e=>null!=e.value))}function U(e,a){if(!a)return;let i=0,n=a.length-1;return a.some(((a,t)=>e<a?(n=t,!0):(i=t,!1))),[i,n,(e-a[i])/(a[n]-a[i])]}function T(e,a,n){const t=[\"proportional\",\"proportional\",\"proportional\"];for(const r of e){const e=r.useSymbolValue?\"symbol-value\":y(r,a,n);switch(r.axis){case\"width\":t[0]=e;break;case\"depth\":t[1]=e;break;case\"height\":t[2]=e;break;case\"width-and-depth\":t[0]=e,t[1]=e;break;case\"all\":case void 0:case null:t[0]=e,t[1]=e,t[2]=e;break;default:i(r.axis)}}return t}export{T as getAllSizes,m as getColor,b as getOpacity,h as getRotationAngle,y as getSize,k as getSizeForValue,g as getSizeFromNumberOrVariable,N as getSizeRangeAtScale,R as getVisualVariableValues,v as viewScaleRE};\n"],"names":["c","n","u","e","f","a","d","v","m","i","t","s","l","p","r","b","U","o","h","V","x","y","k","g","w","z","F","S","E","C","D","T"],"mappings":"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","x_google_ignoreList":[0]}