{"version":3,"file":"FeatureCommandQueue-nsvpQ7ud.js","sources":["../../node_modules/@arcgis/core/symbols/cim/animationDebugFlags.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/utils.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/Technique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/meshing/definitions.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/meshing/Mesh.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/meshing/SimpleMesh.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/AnimationUniformInfo.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/VisualVariableRotation.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/AnimatedShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/enums.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/AnimatedMarkerShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/FeatureTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/AnimatedTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/AnimatedMarkerTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/dotDensity/DotDensityPointShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/dotDensity/DotDensityPolygonShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/dotDensity/DotDensityResources.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/dotDensity/DotDensityTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/ComplexFillTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/line/utils.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/ComplexOutlineFillTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/FillTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/OutlineFillTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/PatternFillTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/PatternOutlineFillTechnique.js","../../node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/heatmap/HeatmapResources.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/heatmapUtils.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/HeatmapAccumulateShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/HeatmapResolveShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/heatmap/HeatmapTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/text/TextShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/labels/LabelTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/line/LineTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/TexturedLineShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/line/TexturedLineTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/markers/MarkerShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/markers/MarkerTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/GLSLShaderModule.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/pieChart/PieChartShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/pieChart/PieChartTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/text/TextTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/TechniqueRegistry.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/schemaUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/VisualVariablesSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/symbols/utils.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/symbols/ComplexSymbolSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/StorageSchema.js","../../node_modules/@arcgis/core/views/2d/layers/support/FeatureCommandQueue.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport has from\"../../core/has.js\";class e{get forceStaticPath(){return\"disabled\"===has(\"esri-cim-animations-enable-status\")}get forceAnimatedPath(){return\"forced\"===has(\"esri-cim-animations-enable-status\")}get freezeGlobalTime(){const e=has(\"esri-cim-animations-freeze-time\");return e??!1}get spotlightAnimatedSymbols(){return!!has(\"esri-cim-animations-spotlight\")}get forceGlobalTimeOrigin(){return!1!==has(\"esri-cim-animations-freeze-time\")}}const t=new e;export{t as animationDebugFlags};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction o(o){return o.locationsMap}const t={color:{write:[!0,!0,!0,!0],blendMode:\"composite\"},depth:!1,stencil:!1};export{o as getLocations,t as simplePipelineState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as s}from\"../../enums.js\";class t{constructor(){this.drawPhase=s.MAP|s.HITTEST|s.HIGHLIGHT|s.DEBUG}startup(){}shutdown(s){}}export{t as Technique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{DataType as N}from\"../../../../webgl/enums.js\";const T={[N.BYTE]:1,[N.UNSIGNED_BYTE]:1,[N.SHORT]:2,[N.UNSIGNED_SHORT]:2,[N.HALF_FLOAT]:2,[N.INT]:4,[N.UNSIGNED_INT]:4,[N.FLOAT]:4};export{T as dataSizeInBytes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{dataSizeInBytes as t}from\"./definitions.js\";import{BufferObject as e}from\"../../../../webgl/BufferObject.js\";import{Usage as r,DataType as s}from\"../../../../webgl/enums.js\";import{VertexArrayObject as n}from\"../../../../webgl/VertexArrayObject.js\";import{VertexElementDescriptor as o}from\"../../../../webgl/VertexElementDescriptor.js\";class i{constructor(t,i){this._boundPart=null,this.vertexBuffers=new Map;for(const[s,n]of Object.entries(i.vertex)){const o=e.createVertex(t,r.STATIC_DRAW,n);this.vertexBuffers.set(s,o)}const a=new Map;for(const[s,n]of Object.entries(i.index??{})){const o=e.createIndex(t,r.STATIC_DRAW,n);a.set(s,o)}this.groups=[];for(const e of i.groups){let r;if(null!=e.index){if(!i.index?.[e.index])throw new Error(\"No index data.\");const{BYTES_PER_ELEMENT:t}=i.index[e.index];2===t?r=s.UNSIGNED_SHORT:4===t&&(r=s.UNSIGNED_INT)}const d=null!=e.index?a.get(e.index):null,u=new Map,c=new Map;for(const t of e.attributes){const{name:e,count:r,type:s,offset:n,normalized:i,divisor:a,stride:d,vertex:f,location:l}=t;let p=c.get(f);p||(p=[],c.set(f,p));const h=new o(e,r,s,n,d,i,a);p.push(h),u.set(e,l)}const f=new n(t,u,c,this.vertexBuffers,d);this.groups.push({...e,vertexArray:f,locations:u,layout:c,indexing:r})}this.parts=i.parts}bind(t,e){this._boundPart=e;const{group:r}=this.parts[this._boundPart],{vertexArray:s}=this.groups[r];t.bindVAO(s)}draw(e){if(null==this._boundPart)throw new Error(\"Mesh.bind() has not been called.\");const{start:r,count:s}=this.parts[this._boundPart],{group:n}=this.parts[this._boundPart],{indexing:o,primitive:i}=this.groups[n];o?e.drawElements(i,s,o,r*t[o]):e.drawArrays(i,r,s)}unbind(t){this._boundPart=null,t.bindVAO(null)}destroy(){for(const{vertexArray:t}of this.groups)t.dispose()}}export{i as Mesh};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{dataSizeInBytes as t}from\"./definitions.js\";import{Mesh as e}from\"./Mesh.js\";import{DataType as i,PrimitiveType as r}from\"../../../../webgl/enums.js\";const n={position:{type:i.SHORT,count:2}};class o extends e{static create(e,i,r){const n=[];let{stride:s}=i;if(null==s){s=0;for(const[e,{count:r,type:n,offset:o}]of Object.entries(i.layout)){if(null!=o)throw new Error(\"Stride cannot be computed automatically when attribute offsets are supplied explicitly.\");s+=r*t[n]}}let a=0;for(const[o,{count:f,offset:d,type:m,normalized:x}]of Object.entries(i.layout)){null!=d&&(a=d);const e=r.get(o);if(null==e)throw new Error(\"Locations must be specified at mesh initialization.\");const i={name:o,location:e,vertex:\"vertexData\",count:f,type:m,offset:a,stride:s,divisor:0,normalized:null!=x&&x};n.push(i),a+=f*t[m]}const l={attributes:n,primitive:i.primitive};null!=i.index&&(l.index=\"indexData\");let{count:u}=i;if(null==u&&(u=i.index?i.index.length:i.vertex.byteLength/s,Math.floor(u)!==u))throw new Error(`The byte length of vertex data must be an exact multiple of the stride, which is ${s}.`);const c={start:0,count:u,group:0,primitive:i.primitive},p={vertex:{vertexData:i.vertex},parts:[c],groups:[l]};return null!=i.index&&(p.index={indexData:i.index}),new o(e,p,i.layout)}static fromVertexStream(t,e){return o.create(t,{primitive:r.TRIANGLE_STRIP,vertex:new Uint16Array(e),layout:n},new Map([[\"position\",0]]))}constructor(t,e,i){super(t,e),this._spec=i}bind(t,e=0){super.bind(t,e)}}export{o as SimpleMesh};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../../../chunks/tslib.es6.js\";import{UniformGroup as t,uniform as e}from\"../../GraphShaderModule.js\";import{Float as p,Vec2 as i,Sampler2D as r,Mat3 as a}from\"../../graph/glsl.js\";class d extends t{}o([e(p)],d.prototype,\"globalTime\",void 0),o([e(i)],d.prototype,\"animationTextureSize\",void 0),o([e(r)],d.prototype,\"animationTexture\",void 0),o([e(a)],d.prototype,\"toScreen\",void 0),o([e(a)],d.prototype,\"toNdc\",void 0),o([e(p)],d.prototype,\"mapRotation\",void 0),o([e(p)],d.prototype,\"pixelRatio\",void 0);export{d as AnimationUniformInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../chunks/tslib.es6.js\";import{UniformGroup as e,uniform as r}from\"../../GraphShaderModule.js\";import{ifElse as o,sin as i,cos as n,Mat4 as s,Float as l,Mat3 as m,equal as a}from\"../../graph/glsl.js\";import{cDegToRad as p,RotationType as u}from\"./constants.js\";import{isNan as g}from\"./utils.js\";class d extends e{getVVRotationMat4(t){return o(g(t),s.identity(),(()=>{const e=this.getNormalizedAngle(t).multiply(p),r=i(e),o=n(e);return new s(o,r,0,0,r.multiply(new l(-1)),o,0,0,0,0,1,0,0,0,0,1)}))}getVVRotationMat3(t){return o(g(t),m.identity(),(()=>{const e=this.getNormalizedAngle(t).multiply(p),r=i(e),o=n(e);return new m(o,r,0,r.multiply(new l(-1)),o,0,0,0,1)}))}getNormalizedAngle(t){const e=a(this.rotationType,new l(u.Arithmatic));return o(e,new l(90).subtract(t),t)}}t([r(l)],d.prototype,\"rotationType\",void 0);export{d as VisualVariableRotation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../../../../chunks/tslib.es6.js\";import{animationDebugFlags as t}from\"../../../../../../../symbols/cim/animationDebugFlags.js\";import{generateVirtualMachineSource as o}from\"../../../animations/instructions.js\";import{location as e,uniform as r,option as a}from\"../../GraphShaderModule.js\";import{sin as s,cos as l,Float as n,Mat3 as m,Vec3 as u,lessThanEqual as p,cond as d,ifElse as c,equal as y,texture2D as f,clamp as h,abs as S,Vec2 as b,block as g,Vec4 as V}from\"../../graph/glsl.js\";import{AnimationUniformInfo as v}from\"./AnimationUniformInfo.js\";import{FeatureVertexInput as w,FeatureFragmentInput as x,AFeatureShader as j}from\"../shaders/AFeatureShader.js\";import{softEdgeRatio as z}from\"../shaders/constants.js\";import{MosaicInfo as T}from\"../shaders/MosaicInfo.js\";import{rgba2float as _}from\"../shaders/utils.js\";import{VisualVariableColor as I}from\"../shaders/VisualVariableColor.js\";import{VisualVariableOpacity as C}from\"../shaders/VisualVariableOpacity.js\";import{VisualVariableRotation as O}from\"../shaders/VisualVariableRotation.js\";import{VisualVariableSizeMinMaxValue as M}from\"../shaders/VisualVariableSizeMinMaxValue.js\";import{VisualVariableSizeScaleStops as P}from\"../shaders/VisualVariableSizeScaleStops.js\";import{VisualVariableSizeStops as D}from\"../shaders/VisualVariableSizeStops.js\";import{VisualVariableSizeUnitValue as F}from\"../shaders/VisualVariableSizeUnitValue.js\";import{getVisualVariableAngle as R}from\"../shaders/vvUtils.js\";class A extends w{}i([e(3,V)],A.prototype,\"animationPointerAndBaseSizeAndReferenceSize\",void 0),i([e(4,b)],A.prototype,\"zoomRange\",void 0);class L extends x{}class U extends j{_getScreenPosition(i){const{pos:t,translation:o,rotation:e,scale:r,offset:a,id:p,vvScale:d}=i,c=R(this,p).multiply(Math.PI/180),y=o.x.multiply(4/3),f=o.y.multiply(-1).multiply(4/3),h=s(e.subtract(c)),S=l(e.subtract(c)),b=new n(0),g=new n(1),{pixelRatio:V}=this.animationInfo,v=new m(g,b,b,b,g,b,y.multiply(V),f.multiply(V),g),w=new m(S,h.multiply(-1),b,h,S,b,0,0,g),x=r.multiply(d).multiply(V).multiply(4/3),j=w.multiply(x),z=this.animationInfo.toScreen.multiply(new u(t,1)),T=v.multiply(z).xy,_=j.multiply(new u(a,0)).xy;return T.add(_)}_clip(i,o){let e=super.clip(i,o);const r=p(this._getLocalTimeOrigin(i),new n(0));return t.forceGlobalTimeOrigin||(e=e.add(d([r,()=>new n(2)],[!0,()=>new n(0)]))),e}_getLocalTimeOrigin(i){return this.storage.getLocalTimeOrigin(i)}_toNdc(i){return this.animationInfo.toNdc.multiply(new u(i,1)).xy}_getEvalParams(i,t){const{globalTime:o,animationTextureSize:e,animationTexture:r}=this.animationInfo;return{globalTime:o,localTimeOrigin:this._getLocalTimeOrigin(i.id),animationTextureSize:e,animationTexture:r,pixelDimensions:t}}_getColor(i,t){return c(y(t.isSDF,new n(1)),this._getSDFColor(i,t),this._getSpriteColor(i,t))}_getSpriteColor(i,t){return f(this.mosaicInfo.texture,i).multiply(t.color)}_getSDFColor(i,t){const o=f(this.mosaicInfo.texture,i),e=new n(.5).subtract(_(o)).multiply(t.distanceToPx).multiply(z),r=h(new n(.5).subtract(e),new n(0),new n(1)),a=t.color.multiply(r),s=t.outlineSize.multiply(.5),l=S(e).subtract(s),m=h(new n(.5).subtract(l),new n(0),new n(1)),u=t.outlineColor.multiply(m);return new n(1).subtract(u.a).multiply(a).add(u)}}function E(i,t,e){const r=i.add(new b(t,0)),a=f(e.animationTexture,r.add(.5).divide(e.animationTextureSize)).xy;return i=i.add(a),g({animationPointer:i,...e},V,null,(i=>{const{out:t}=i;if(!t)throw new Error(\"out is null\");return o({...i,out:t})}))}i([r(T)],U.prototype,\"mosaicInfo\",void 0),i([r(v)],U.prototype,\"animationInfo\",void 0),i([a(I)],U.prototype,\"visualVariableColor\",void 0),i([a(C)],U.prototype,\"visualVariableOpacity\",void 0),i([a(M)],U.prototype,\"visualVariableSizeMinMaxValue\",void 0),i([a(P)],U.prototype,\"visualVariableSizeScaleStops\",void 0),i([a(D)],U.prototype,\"visualVariableSizeStops\",void 0),i([a(F)],U.prototype,\"visualVariableSizeUnitValue\",void 0),i([a(O)],U.prototype,\"visualVariableRotation\",void 0);export{L as AAnimatedFragmentInput,U as AAnimatedShader,A as AAnimatedVertexInput,E as getValue};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar o;!function(o){o[o.transform=0]=\"transform\",o[o.fromColor=1]=\"fromColor\",o[o.toColor=2]=\"toColor\",o[o.colorMix=3]=\"colorMix\",o[o.toOpacity=4]=\"toOpacity\",o[o.opacityMix=5]=\"opacityMix\"}(o||(o={}));export{o as AnimationParamIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{animationDebugFlags as i}from\"../../../../../../../symbols/cim/animationDebugFlags.js\";import{location as s,ComputeVertexInput as o,input as r}from\"../../GraphShaderModule.js\";import{cond as l,Float as a,equal as n,Mat2 as d,cos as m,sin as u,Vec4 as p,or as h,Bool as c,mix as x,Mat3 as y,ifElse as v,lessThan as f,Vec3 as w,distance as b,greaterThan as S,Vec2 as g,negate as z,step as P}from\"../../graph/glsl.js\";import{AAnimatedVertexInput as _,AAnimatedFragmentInput as V,AAnimatedShader as C,getValue as N}from\"./AnimatedShader.js\";import{AnimationParamIndex as M}from\"./enums.js\";import{MarkerConstants as k}from\"../markers/markerConstants.js\";import{c256ToRad as D}from\"../shaders/constants.js\";import{distPointTriangle as j,xyToBarycentric as F,inTriangle as R,failHittest as U}from\"../shaders/hittestUtils.js\";import{getBit as T,getBitBool as q}from\"../shaders/utils.js\";import{getVisualVariableSize as A,getVisualVariableColor as I,getVisualVariableOpacity as O}from\"../shaders/vvUtils.js\";class W extends _{}t([s(5,g)],W.prototype,\"offset\",void 0),t([s(6,g)],W.prototype,\"uv\",void 0),t([s(7,p)],W.prototype,\"sizing\",void 0),t([s(8,a)],W.prototype,\"angle\",void 0);class B extends o{}t([s(12,g)],B.prototype,\"offsetNextVertex1\",void 0),t([s(13,g)],B.prototype,\"offsetNextVertex2\",void 0),t([s(14,g)],B.prototype,\"textureUVNextVertex1\",void 0),t([s(15,g)],B.prototype,\"textureUVNextVertex2\",void 0);class E extends V{}function G(t,e,i,s){return e.multiply(t.x).add(i.multiply(t.y)).add(s.multiply(t.z))}class H extends C{constructor(){super(...arguments),this.computeAttributes={offset:[\"offsetNextVertex1\",\"offsetNextVertex2\"],uv:[\"textureUVNextVertex1\",\"textureUVNextVertex2\"]}}_vertexPreamble(t){const{id:e,pos:i,offset:s,animationPointerAndBaseSizeAndReferenceSize:o,uv:r,sizing:p,angle:h}=t,c=o.xy,x=o.z,y=o.w,v=p.xy,f=p.z,w=T(t.bitset,k.bitset.isStroke),b=p.w,S=T(t.bitset,k.bitset.scaleSymbolsProportionally),g=this._getEvalParams(t,v),z=N(c,M.transform,g),P=l([n(T(t.bitset,k.bitset.isMapAligned),new a(1)),this.view.rotation.divide(180).multiply(Math.PI)],[!0,new a(0)]),_=new d(m(P),u(P.multiply(-1)),u(P),m(P)).multiply(z.xy),V=z.z.subtract(P).subtract(h.multiply(D)),C=z.w,j=T(t.bitset,k.bitset.isSDF),F=A(this,e,new a(y)).divide(new a(y));return{baseSize:x,animationPointer:c,strokeWidth:f,isOutline:w,unscaledDistanceToPx:b,scaleSymbolsProportionally:S,isSDF:j,position:this._getScreenPosition({id:e,pos:i,offset:s,referenceSize:y,translation:_,rotation:V,scale:C,vvScale:F}),uv:r,evalParams:g,vvScale:F,scale:C}}vertex(t,e){const{position:i,animationPointer:s,evalParams:o,isOutline:r,unscaledDistanceToPx:l,vvScale:n,uv:d,strokeWidth:m,scaleSymbolsProportionally:u,scale:v,isSDF:f,baseSize:w}=this._vertexPreamble(t),b=this._toNdc(i);let S=N(s,M.fromColor,o);S=new p(S.rgb.multiply(S.a),S.a);let g=N(s,M.toColor,o);g=new p(g.rgb.multiply(g.a),g.a);let z=N(s,M.colorMix,o);z=new p(z.rgb.multiply(z.a),z.a);const P=N(s,M.toOpacity,o).a,_=N(s,M.opacityMix,o).a,V=I(this,t.id,S,h(q(t.bitset,k.bitset.colorLocked),new c(r))),C=x(V,g,z),D=O(this,t.id),j=x(D,P,_),F=C.multiply(j),R=this.clip(t.id,t.zoomRange),U=l.multiply(n);return{glPosition:new p(b,R,1),uv:d.divide(this.mosaicInfo.size),color:F.multiply(new a(1).subtract(r)),outlineColor:F.multiply(r),distanceToPx:U,strokeWidth:m.multiply(x(new a(1),v,u)),isOutline:r,isSDF:f,...this.maybeRunHittest(t,e,{pos:t.pos,size:w,sizeCorrection:new a(1),isMapAligned:new a(1),vvRotationMat3:new y(1,0,0,0,1,0,0,0,1),placementMat3:new y(1,0,0,0,1,0,0,0,1),outlineSize:new a(1),distanceToPx:U,isSDF:f})}}fragment(t){let e=this._getColor(t.uv,{color:t.color,distanceToPx:t.distanceToPx,isSDF:t.isSDF,outlineColor:t.outlineColor,outlineSize:t.strokeWidth});return i.spotlightAnimatedSymbols&&(e=e.add(new p(0,.3,0,.3))),this.getFragmentOutput(e,t)}hittest(t,e,i){return v(f(i.size,this.hittestRequest.smallSymbolSizeThreshold),this._hittestSmallMarker(t,e,i),this._hittestMarker(t,e,i))}_hittestSmallMarker(t,e,i){const{position:s,distance:o,smallSymbolDistance:r}=this.hittestRequest,l=o.subtract(r),{viewMat3:a,tileMat3:n}=this.view,d=a.multiply(n).multiply(new w(i.pos,1)).xy,m=i.size.multiply(.5);return b(d,s).subtract(m).add(l)}_hittestMarker(t,e,i){const s=this._vertexPreamble({...t}).position,o=this._vertexPreamble({...t,offset:e.offsetNextVertex1,uv:e.textureUVNextVertex1}).position,r=this._vertexPreamble({...t,offset:e.offsetNextVertex2,uv:e.textureUVNextVertex2}).position,l=this.hittestRequest.position,a=this.hittestRequest.distance,n=j(l,s,o,r);return v(S(n,a),n,this._hittestSamples(s,o,r,t,e,i))}_hittestSamples(t,e,i,s,o,r){const{outlineSize:l,isSDF:n,distanceToPx:d}=r,m=this.hittestRequest.position,u=this.hittestRequest.distance,h=F(m.add(new g(z(u),z(u))),t,e,i),c=F(m.add(new g(0,z(u))),t,e,i),x=F(m.add(new g(u,z(u))),t,e,i),y=F(m.add(new g(z(u),0)),t,e,i),v=F(m,t,e,i),f=F(m.add(new g(u,0)),t,e,i),w=F(m.add(new g(z(u),u)),t,e,i),b=F(m.add(new g(0,u)),t,e,i),S=F(m.add(new g(u,u)),t,e,i),_=s.uv.divide(this.mosaicInfo.size),V=o.textureUVNextVertex1.divide(this.mosaicInfo.size),C=o.textureUVNextVertex2.divide(this.mosaicInfo.size),N={color:new p(1,1,1,1),outlineSize:l,outlineColor:new p(1,1,1,1),isSDF:n,distanceToPx:d};let M=new a(0);return M=M.add(R(h).multiply(this._getColor(G(h,_,V,C),N).a)),M=M.add(R(c).multiply(this._getColor(G(c,_,V,C),N).a)),M=M.add(R(x).multiply(this._getColor(G(x,_,V,C),N).a)),M=M.add(R(y).multiply(this._getColor(G(y,_,V,C),N).a)),M=M.add(R(v).multiply(this._getColor(G(v,_,V,C),N).a)),M=M.add(R(f).multiply(this._getColor(G(f,_,V,C),N).a)),M=M.add(R(w).multiply(this._getColor(G(w,_,V,C),N).a)),M=M.add(R(b).multiply(this._getColor(G(b,_,V,C),N).a)),M=M.add(R(S).multiply(this._getColor(G(S,_,V,C),N).a)),P(M,new a(.05)).multiply(U(this.hittestRequest))}}t([e(0,r(W)),e(1,r(B))],H.prototype,\"vertex\",null),t([e(0,r(E))],H.prototype,\"fragment\",null);export{E as AnimatedMarkerFragmentInput,H as AnimatedMarkerShader,W as AnimatedMarkerVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FeatureSymbologyDrawOrder as s}from\"../../enums.js\";import{Technique as o}from\"./Technique.js\";class t extends o{constructor(){super(...arguments),this.symbologyPlane=s.FILL,this._input=null}}export{t as FeatureTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{invert as e,multiply as t}from\"../../../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as r}from\"../../../../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{animationDebugFlags as i}from\"../../../../../../../symbols/cim/animationDebugFlags.js\";import{FeatureTechnique as a}from\"../FeatureTechnique.js\";import{resolveDynamicUniforms as o,getFeatureUniforms as s,getSelectionDefines as n,getFeaturePipelineState as m}from\"../featureTechniqueUtils.js\";class u extends a{render(a,u){const{context:f,painter:c}=a,{target:l}=u,{freezeGlobalTime:p}=i,g=0,x=c.textureManager.animationStore.getTexture(f,g),d=[2/a.state.size[0],0,0,0,-2/a.state.size[1],0,-1,1,1],h=Array.from(e(r(),d)),b=Array.from(t(r(),h,l.transforms.displayViewScreenMat3)),T=u.instance.getInput();c.setShader({shader:this.shaders.geometry,uniforms:{...o(a,u.target,T.uniforms),...s(a,u.target),mosaicInfo:c.textureManager.getMosaicInfo(f,u.textureKey,!0),animationInfo:{globalTime:!1===p?a.time/1e3:p,animationTextureSize:[x.descriptor.width,x.descriptor.height],animationTexture:{unit:6,texture:x},toScreen:b,toNdc:d,mapRotation:a.state.rotation,pixelRatio:a.state.pixelRatio}},defines:{...n(a)},optionalAttributes:{zoomRange:!0},useComputeBuffer:!0}),c.setPipelineState({...m(a)}),c.submitDraw(a,u),!1===p&&l.requestRender()}}export{u as AnimatedTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{TechniqueType as e}from\"../TechniqueType.js\";import{AnimatedMarkerShader as r}from\"./AnimatedMarkerShader.js\";import{AnimatedTechnique as t}from\"./AnimatedTechnique.js\";class s extends t{constructor(){super(...arguments),this.type=e.AnimatedMarker,this.shaders={geometry:new r}}}export{s as AnimatedMarkerTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t,a as o}from\"../../../../../../../chunks/tslib.es6.js\";import{tileSize as e}from\"../../../definitions.js\";import{VertexInput as i,location as s,UniformGroup as r,uniform as d,GraphShaderModule as n,FragmentOutput as a,input as l}from\"../../GraphShaderModule.js\";import{Mat3 as p,Vec3 as m,texture2D as c,max as y,Float as v,step as w,Vec4 as u,length as h,smoothstep as x,Vec2 as g,Sampler2D as f}from\"../../graph/glsl.js\";import{FeatureFragmentInput as S}from\"../shaders/AFeatureShader.js\";import{ViewInfo as j}from\"../shaders/ViewInfo.js\";class z extends i{}t([s(0,g)],z.prototype,\"pos\",void 0);class F extends S{}class R extends r{}t([d(v)],R.prototype,\"dotSize\",void 0);class b extends r{}t([d(f)],b.prototype,\"locations\",void 0),t([d(v)],b.prototype,\"pixelRatio\",void 0),t([d(v)],b.prototype,\"tileZoomFactor\",void 0);const P=1e-6;class C extends n{vertex(t){const o=new p(1,0,0,0,-1,0,0,1,1).multiply(new m(t.pos.xy.divide(e),1)),i=c(this.draw.locations,o.xy),s=y(this.instance.dotSize.divide(2),new v(1));let r=new v(0);r=r.add(w(i.a,new v(P)).multiply(2));let d=s.add(this.instance.dotSize);const n=this.view.displayViewScreenMat3.multiply(new m(t.pos.add(.5),1)),a=new u(n.xy,r,1),l=this.instance.dotSize.divide(d),h=new v(-1).divide(s.divide(d));return d=d.multiply(this.draw.pixelRatio.multiply(this.draw.tileZoomFactor)),{glPosition:a,glPointSize:d,color:i,ratio:l,invEdgeRatio:h}}fragment(t){const o=h(t.glPointCoord.subtract(.5)).multiply(2),e=x(new v(0),new v(1),t.invEdgeRatio.multiply(o.subtract(t.ratio)).add(1)),i=new a;return i.glFragColor=t.color.multiply(e),i}}t([d(R)],C.prototype,\"instance\",void 0),t([d(b)],C.prototype,\"draw\",void 0),t([d(j)],C.prototype,\"view\",void 0),t([o(0,l(z))],C.prototype,\"vertex\",null),t([o(0,l(F))],C.prototype,\"fragment\",null);export{b as DotDensityPointDrawUniforms,F as DotDensityPointFragmentInput,R as DotDensityPointInstanceUniforms,C as DotDensityPointShader,z as DotDensityPointVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{tileSize as o}from\"../../../definitions.js\";import{uniform as s,location as i,UniformGroup as r,define as l,FragmentOutput as d,input as a}from\"../../GraphShaderModule.js\";import{FixedArray as n,Vec4 as p,Mat3 as h,Vec3 as c,texture2D as u,Mat4 as m,step as y,Float as v,dot as w,max as x,Sampler2D as f}from\"../../graph/glsl.js\";import{FeatureVertexInput as g,FeatureFragmentInput as A,AFeatureShader as T}from\"../shaders/AFeatureShader.js\";import{failHittest as b}from\"../shaders/hittestUtils.js\";import{max4 as j}from\"../shaders/utils.js\";class D extends g{}t([i(3,v)],D.prototype,\"inverseArea\",void 0);class C extends A{}class V extends r{}t([s(n.ofType(p,2))],V.prototype,\"isActive\",void 0),t([s(n.ofType(p,8))],V.prototype,\"colors\",void 0),t([s(v)],V.prototype,\"dotValue\",void 0);class F extends r{}t([s(f)],F.prototype,\"dotTexture0\",void 0),t([s(f)],F.prototype,\"dotTexture1\",void 0),t([s(v)],F.prototype,\"tileZoomFactor\",void 0),t([s(v)],F.prototype,\"pixelRatio\",void 0),t([s(v)],F.prototype,\"tileDotsOverArea\",void 0);class _ extends T{_dotThreshold(t,e,o){return t.divide(e).divide(o)}vertex(t){const e=new h(2/o,0,0,0,-2/o,0,-1,1,1).multiply(new c(t.pos,1)),s=this.clip(t.id),i=new p(e.xy,s,1),r=this.storage.getVVData(t.id).multiply(this.instance.isActive.get(0)).multiply(t.inverseArea),l=this.storage.getDataDrivenData0(t.id).multiply(this.instance.isActive.get(1)).multiply(t.inverseArea),d=this.draw.tileZoomFactor.multiply(o).divide(this.draw.pixelRatio),a=this._dotThreshold(r,this.instance.dotValue,this.draw.tileDotsOverArea),n=this._dotThreshold(l,this.instance.dotValue,this.draw.tileDotsOverArea),u=t.pos.add(.5).divide(d);return{glPosition:i,color:new p(0,0,0,0),textureCoords:u,thresholds0:a,thresholds1:n}}fragment(t){const e=new d,o=u(this.draw.dotTexture0,t.textureCoords),s=u(this.draw.dotTexture1,t.textureCoords),i=t.thresholds0.subtract(o),r=t.thresholds1.subtract(s);let l;const a=m.fromColumns(this.instance.colors[0],this.instance.colors[1],this.instance.colors[2],this.instance.colors[3]),n=m.fromColumns(this.instance.colors[4],this.instance.colors[5],this.instance.colors[6],this.instance.colors[7]);if(this.blending){const t=y(new v(0),i),e=y(new v(0),r),o=w(t,i).add(w(e,r)),s=y(o,new v(0)),d=new v(1).subtract(s),p=o.add(s),h=i.multiply(t).divide(p),c=r.multiply(e).divide(p),u=a.multiply(h).add(n.multiply(c));l=d.multiply(u)}else{const t=x(j(i),j(r)),e=y(t,new v(0)),o=new v(1).subtract(e),s=y(t,i),d=y(t,r),p=a.multiply(s).add(n.multiply(d));l=o.multiply(p)}return e.glFragColor=l,e}hittest(t){return b(this.hittestRequest)}}t([l],_.prototype,\"blending\",void 0),t([s(V)],_.prototype,\"instance\",void 0),t([s(F)],_.prototype,\"draw\",void 0),t([e(0,a(D))],_.prototype,\"vertex\",null),t([e(0,a(A))],_.prototype,\"fragment\",null);export{F as DotDensityPolygonDrawUniforms,C as DotDensityPolygonFragmentInput,V as DotDensityPolygonInstanceUniforms,_ as DotDensityPolygonShader,D as DotDensityPolygonVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../../../core/RandomLCG.js\";import{tileSize as e}from\"../../../definitions.js\";import{SimpleMesh as s}from\"../../../meshing/SimpleMesh.js\";import{DataType as o,TextureSamplingMode as r,TextureWrapMode as i,RenderbufferFormat as n,PrimitiveType as h,PixelType as d}from\"../../../../../../webgl/enums.js\";import{FramebufferObject as u}from\"../../../../../../webgl/FramebufferObject.js\";import{Renderbuffer as l}from\"../../../../../../webgl/Renderbuffer.js\";import{RenderbufferDescriptor as _}from\"../../../../../../webgl/RenderbufferDescriptor.js\";import{Texture as T}from\"../../../../../../webgl/Texture.js\";import{TextureDescriptor as m}from\"../../../../../../webgl/TextureDescriptor.js\";const p={pos:{count:2,type:o.UNSIGNED_SHORT}};class f{constructor(){this._dotTextureSize=0,this._dotTextures=null,this._dotMesh=null}destroy(){this._disposeTextures(),this._dotFBO&&this._dotFBO.dispose(),this._dotMesh&&this._dotMesh.destroy()}getFBO(t){if(null==this._dotFBO){const s=e,o=e,h=new m(s,o);h.samplingMode=r.NEAREST,h.wrapMode=i.CLAMP_TO_EDGE;const d=new l(t,new _(n.DEPTH_STENCIL,s,o));this._dotFBO=new u(t,h,d)}return this._dotFBO}getDotDensityMesh(t,o){if(null==this._dotMesh){const r=e,i=r*r,n=2,d=new Int16Array(i*n);for(let t=0;t<r;t++)for(let e=0;e<r;e++)d[n*(e+t*r)]=e,d[n*(e+t*r)+1]=t;this._dotMesh=s.create(t,{primitive:h.POINTS,vertex:d,count:i,layout:p},o)}return this._dotMesh}getDotDensityTextures(e,s,o){if(this._dotTextureSize===s&&this._seed===o||(this._disposeTextures(),this._dotTextureSize=s,this._seed=o),null===this._dotTextures){const r=new t(o);this._dotTextures=[this._allocDotDensityTexture(e,s,r),this._allocDotDensityTexture(e,s,r)]}return this._dotTextures}_disposeTextures(){if(this._dotTextures){for(let t=0;t<this._dotTextures.length;t++)this._dotTextures[t].dispose();this._dotTextures=null}}_allocDotDensityTexture(t,e,s){const o=new Float32Array(e*e*4);for(let r=0;r<o.length;r++)o[r]=s.getFloat();const i=new m;return i.dataType=d.FLOAT,i.samplingMode=r.NEAREST,i.width=e,i.height=e,new T(t,i,o)}}export{f as DotDensityResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{tileSize as e,textureBindingRenderer0 as t,textureBindingRenderer1 as i}from\"../../../definitions.js\";import{getLocations as o}from\"../../utils.js\";import{FeatureTechnique as r}from\"../FeatureTechnique.js\";import{isHighlight as s,isHittest as n,getFeatureUniforms as a,getSelectionDefines as l,getFeaturePipelineState as d,getViewUniforms as u}from\"../featureTechniqueUtils.js\";import{TechniqueType as c}from\"../TechniqueType.js\";import{DotDensityPointShader as p}from\"./DotDensityPointShader.js\";import{DotDensityPolygonShader as h}from\"./DotDensityPolygonShader.js\";import{DotDensityResources as m}from\"./DotDensityResources.js\";import{FillShader as f}from\"../shaders/FillShader.js\";import{FramebufferBit as w}from\"../../../../../../webgl/enums.js\";class g extends r{constructor(){super(...arguments),this.type=c.DotDensity,this.shaders={polygon:new h,point:new p,fill:new f},this._resources=new Map}render(e,t){s(e)||n(e)?this._renderPolygons(e,t):this._renderDotDensity(e,t)}_renderPolygons(e,t){const{painter:i}=e;i.setShader({shader:this.shaders.fill,uniforms:{...a(e,t.target),visualVariableColor:null,visualVariableOpacity:null},defines:{...l(e)},optionalAttributes:{zoomRange:!1},useComputeBuffer:n(e)}),i.setPipelineState(d(e)),i.submitDraw(e,t)}_renderDotDensity(r,s){const{context:n,painter:c,requiredLevel:p}=r,h=s.instance.getInput().uniforms,m=this._getOrCreateResourcesRecord(n),f=m.getDotDensityTextures(n,e,h.seed),g=1/2**(p-s.target.key.level),x=e,D=x*window.devicePixelRatio*x*window.devicePixelRatio,y=1/g*(1/g),b=h.dotScale?r.state.scale/h.dotScale:1,R=h.dotValue*b*y;c.setShader({shader:this.shaders.polygon,uniforms:{...a(r,s.target),instance:{isActive:h.isActive,colors:h.colors,dotValue:Math.max(1,R)},draw:{dotTexture0:{unit:t,texture:f[0]},dotTexture1:{unit:i,texture:f[1]},tileZoomFactor:g,pixelRatio:window.devicePixelRatio,tileDotsOverArea:D/(e*window.devicePixelRatio*e*window.devicePixelRatio)}},defines:{...l(r),blending:h.blending},optionalAttributes:{},useComputeBuffer:!1});const v=n.getViewport();n.setViewport(0,0,e,e);const P=n.getBoundFramebufferObject(),S=m.getFBO(n);n.bindFramebuffer(S),n.setClearColor(0,0,0,0),n.clear(w.COLOR),c.setPipelineState({color:{write:[!0,!0,!0,!0],blendMode:\"composite\"},depth:!1,stencil:!1}),c.updatePipelineState(n),c.submitDraw(r,s),n.bindFramebuffer(P),n.setViewport(v.x,v.y,v.width,v.height);const j=m.getFBO(n).colorTexture,_={shader:this.shaders.point,uniforms:{view:u(r,s.target),instance:{dotSize:h.dotSize},draw:{locations:{unit:t,texture:j},tileZoomFactor:1,pixelRatio:window.devicePixelRatio}},defines:{...l(r)},optionalAttributes:{},useComputeBuffer:!1};c.setPipelineState(d(r)),c.submitDrawMesh(n,_,m.getDotDensityMesh(n,o(this.shaders.point)))}shutdown(e){super.shutdown(e),this._resources.get(e)?.destroy(),this._resources.delete(e)}_getOrCreateResourcesRecord(e){let t=this._resources.get(e);return null==t&&(t=new m,this._resources.set(e,t)),t}}export{g as DotDensityTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FeatureTechnique as e}from\"../FeatureTechnique.js\";import{resolveDynamicUniforms as t,getFeatureUniforms as r,getLocalTileOffset as s,getSelectionDefines as o,isHittest as i,getFeaturePipelineState as a}from\"../featureTechniqueUtils.js\";import{TechniqueType as n}from\"../TechniqueType.js\";import{ComplexFillShader as u}from\"../shaders/ComplexFillShader.js\";class m extends e{constructor(){super(...arguments),this.type=n.ComplexFill,this.shaders={geometry:new u}}render(e,n){const{context:u,painter:m}=e,p=n.instance.getInput();m.setShader({shader:this.shaders.geometry,uniforms:{...t(e,n.target,p.uniforms),...r(e,n.target),mosaicInfo:m.textureManager.getMosaicInfo(u,n.textureKey),localTileOffset:s(n.target)},defines:{...o(e)},optionalAttributes:p.optionalAttributes,useComputeBuffer:i(e)}),m.setPipelineState(a(e)),m.submitDraw(e,n)}}export{m as ComplexFillTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction n(n){const t=1/n;return{antialiasing:t,blur:0+t}}export{n as getAntialiasingControls};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FeatureTechnique as e}from\"../FeatureTechnique.js\";import{resolveDynamicUniforms as t,getFeatureUniforms as r,getLocalTileOffset as i,getSelectionDefines as s,isHittest as o,getFeaturePipelineState as n}from\"../featureTechniqueUtils.js\";import{TechniqueType as a}from\"../TechniqueType.js\";import{getAntialiasingControls as l}from\"../line/utils.js\";import{ComplexOutlineFillShader as u}from\"../shaders/ComplexOutlineFillShader.js\";class m extends e{constructor(){super(...arguments),this.type=a.ComplexOutlineFill,this.shaders={geometry:new u}}render(e,a){const{context:u,painter:m,pixelRatio:p}=e,f=a.instance.getInput();m.setShader({shader:this.shaders.geometry,uniforms:{...t(e,a.target,f.uniforms),...r(e,a.target),antialiasingControls:l(p),mosaicInfo:m.textureManager.getMosaicInfo(u,a.textureKey),localTileOffset:i(a.target)},defines:{...s(e)},optionalAttributes:f.optionalAttributes,useComputeBuffer:o(e)}),m.setPipelineState(n(e)),m.submitDraw(e,a)}}export{m as ComplexOutlineFillTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FeatureTechnique as e}from\"../FeatureTechnique.js\";import{resolveDynamicUniforms as t,getFeatureUniforms as r,getSelectionDefines as s,isHittest as i,getFeaturePipelineState as o}from\"../featureTechniqueUtils.js\";import{TechniqueType as n}from\"../TechniqueType.js\";import{FillShader as a}from\"../shaders/FillShader.js\";class u extends e{constructor(){super(...arguments),this.type=n.Fill,this.shaders={geometry:new a}}render(e,n){const{painter:a}=e,u=n.instance.getInput();a.setShader({shader:this.shaders.geometry,uniforms:{...t(e,n.target,u.uniforms),...r(e,n.target)},defines:s(e),optionalAttributes:u.optionalAttributes,useComputeBuffer:i(e)}),a.setPipelineState(o(e)),a.submitDraw(e,n)}}export{u as FillTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FeatureTechnique as e}from\"../FeatureTechnique.js\";import{resolveDynamicUniforms as t,getFeatureUniforms as r,getSelectionDefines as i,isHittest as s,getFeaturePipelineState as o}from\"../featureTechniqueUtils.js\";import{TechniqueType as n}from\"../TechniqueType.js\";import{getAntialiasingControls as a}from\"../line/utils.js\";import{OutlineFillShader as u}from\"../shaders/OutlineFillShader.js\";class l extends e{constructor(){super(...arguments),this.type=n.OutlineFill,this.shaders={geometry:new u}}render(e,n){const{painter:u,pixelRatio:l}=e,m=n.instance.getInput();u.setShader({shader:this.shaders.geometry,uniforms:{...t(e,n.target,m.uniforms),...r(e,n.target),antialiasingControls:a(l)},defines:{...i(e)},optionalAttributes:m.optionalAttributes,useComputeBuffer:s(e)}),u.setPipelineState(o(e)),u.submitDraw(e,n)}}export{l as OutlineFillTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FeatureTechnique as e}from\"../FeatureTechnique.js\";import{resolveDynamicUniforms as t,getFeatureUniforms as r,getLocalTileOffset as s,getSelectionDefines as i,isHittest as o,getFeaturePipelineState as a}from\"../featureTechniqueUtils.js\";import{TechniqueType as n}from\"../TechniqueType.js\";import{PatternFillShader as u}from\"../shaders/PatternFillShader.js\";class m extends e{constructor(){super(...arguments),this.type=n.PatternFill,this.shaders={geometry:new u}}render(e,n){const{context:u,painter:m}=e,f=n.instance.getInput();m.setShader({shader:this.shaders.geometry,uniforms:{...t(e,n.target,f.uniforms),...r(e,n.target),mosaicInfo:m.textureManager.getMosaicInfo(u,n.textureKey),localTileOffset:s(n.target)},defines:{...i(e)},optionalAttributes:f.optionalAttributes,useComputeBuffer:o(e)}),m.setPipelineState(a(e)),m.submitDraw(e,n)}}export{m as PatternFillTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FeatureTechnique as e}from\"../FeatureTechnique.js\";import{resolveDynamicUniforms as t,getFeatureUniforms as r,getLocalTileOffset as i,getSelectionDefines as s,isHittest as o,getFeaturePipelineState as n}from\"../featureTechniqueUtils.js\";import{TechniqueType as a}from\"../TechniqueType.js\";import{getAntialiasingControls as u}from\"../line/utils.js\";import{PatternOutlineFillShader as l}from\"../shaders/PatternOutlineFillShader.js\";class m extends e{constructor(){super(...arguments),this.type=a.PatternOutlineFill,this.shaders={geometry:new l}}render(e,a){const{context:l,painter:m,pixelRatio:p}=e,f=a.instance.getInput();m.setShader({shader:this.shaders.geometry,uniforms:{...t(e,a.target,f.uniforms),...r(e,a.target),antialiasingControls:u(p),mosaicInfo:m.textureManager.getMosaicInfo(l,a.textureKey),localTileOffset:i(a.target)},defines:{...s(e)},optionalAttributes:f.optionalAttributes,useComputeBuffer:o(e)}),m.setPipelineState(n(e)),m.submitDraw(e,a)}}export{m as PatternOutlineFillTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{PixelType as t,TextureSamplingMode as r,PixelFormat as o,SizedPixelFormat as a}from\"./enums.js\";class l{constructor(e,t,r,o){this.dataType=e,this.samplingMode=t,this.pixelFormat=r,this.internalFormat=o}}function n(n,i){const{textureFloatLinear:s,colorBufferFloat:f}=n.capabilities,u=f?.textureFloat,_=f?.textureHalfFloat,c=f?.floatBlend,m=n.driverTest.floatBufferBlend.result;if(!u&&!_)throw new e(\"heatmap:missing-color-buffer-float\",\"HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.\");if(!(c&&m||_))throw new e(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float.\"+(m?\"\":\" This device claims support for EXT_float_blend, but does not actually support it.\"));const p=u&&c&&m,d=_,R=s,h=!!f?.R32F,b=!!f?.R16F;if(p&&R)return R||i.warnOnce(\"Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced.\"),new l(t.FLOAT,R?r.LINEAR:r.NEAREST,h?o.RED:o.RGBA,h?a.R32F:o.RGBA);if(d)return new l(t.HALF_FLOAT,r.LINEAR,b?o.RED:o.RGBA,b?a.R16F:o.RGBA);throw new e(\"heatmap:missing-hardware-support\",\"HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.\")}const i=new l(t.HALF_FLOAT,r.NEAREST,o.RGBA,o.RGBA);export{l as HeatmapTextureConfiguration,i as fallBackHeatmapConfiguration,n as loadHeatmapTextureConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../../core/Logger.js\";import{disposeMaybe as r}from\"../../../../../../../core/maybe.js\";import{PixelType as t,TextureWrapMode as a,RenderbufferFormat as i}from\"../../../../../../webgl/enums.js\";import{FramebufferObject as s}from\"../../../../../../webgl/FramebufferObject.js\";import{loadHeatmapTextureConfiguration as u}from\"../../../../../../webgl/heatmapTextureUtils.js\";import{RenderbufferDescriptor as l}from\"../../../../../../webgl/RenderbufferDescriptor.js\";import{Texture as o}from\"../../../../../../webgl/Texture.js\";import{TextureDescriptor as n}from\"../../../../../../webgl/TextureDescriptor.js\";const m=()=>e.getLogger(\"esri.views.2d.engine.webgl.shaderGraph.techniques.heatmap.HeatmapResources\");class f{destroy(){this._accumulateFramebuffer=r(this._accumulateFramebuffer),this._resolveGradientTexture=r(this._resolveGradientTexture),this._prevGradientHash=null,this._qualityProfile=null}get initialized(){return null!=this._accumulateFramebuffer&&null!=this._resolveGradientTexture}get accumulateFramebuffer(){return this._accumulateFramebuffer}get resolveGradientTexture(){return this._resolveGradientTexture}loadQualityProfile(e){if(null==this._qualityProfile){const r=u(e,m());this._qualityProfile={...r,defines:{usesHalfFloatPrecision:r.dataType!==t.FLOAT}}}return this._qualityProfile}ensureAccumulateFBO(e,r,t){if(null==this._accumulateFramebuffer){const{dataType:u,samplingMode:o,pixelFormat:m,internalFormat:f}=this.loadQualityProfile(e),h=new n(r,t);h.pixelFormat=m,h.internalFormat=f,h.dataType=u,h.samplingMode=o,h.wrapMode=a.CLAMP_TO_EDGE;const c=new l(i.DEPTH_STENCIL,r,t);this._accumulateFramebuffer=new s(e,h,c)}else{const{width:e,height:a}=this._accumulateFramebuffer;e===r&&a===t||this._accumulateFramebuffer.resize(r,t)}return this._accumulateFramebuffer}ensureResolveGradientTexture(e,r,t){if(null==this._resolveGradientTexture){const r=new n;r.wrapMode=a.CLAMP_TO_EDGE,this._resolveGradientTexture=new o(e,r)}else this._prevGradientHash!==r&&(this._resolveGradientTexture.resize(t.length/4,1),this._resolveGradientTexture.setData(t),this._prevGradientHash=r);return this._resolveGradientTexture}}export{f as HeatmapResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction n(n){return n?.25:1}export{n as getHeatmapCompressionFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{location as s,uniform as i,define as o,UniformGroup as l,input as r}from\"../../GraphShaderModule.js\";import{Float as p,Vec3 as a,Vec4 as n,length as u,step as m,Vec2 as d}from\"../../graph/glsl.js\";import{FeatureVertexInput as y,FeatureFragmentInput as f,AFeatureShader as h}from\"./AFeatureShader.js\";import{getHeatmapCompressionFactor as c}from\"./heatmapUtils.js\";import{hittestMarker as w}from\"./hittestUtils.js\";class v extends y{}t([s(5,d)],v.prototype,\"offset\",void 0);class x extends f{}class g extends l{}t([i(p)],g.prototype,\"radius\",void 0),t([i(p)],g.prototype,\"isFieldActive\",void 0);class F extends h{constructor(){super(...arguments),this.usesHalfFloatPrecision=!1}vertex(t){const{radius:e,isFieldActive:s}=this.kernelControls,i=t.offset,o=s.multiply(this.storage.getVVData(t.id).x).add(new p(1).subtract(s)),l=this.view.displayViewScreenMat3.multiply(new a(t.pos,1)).add(this.view.displayViewMat3.multiply(new a(i,0)).multiply(e)),r=this.clip(t.id);return{glPosition:new n(l.xy,r,1),offset:i,fieldValue:o,color:new n(0),...this.maybeRunHittest(t,{},null)}}fragment(t){const{offset:e,fieldValue:s}=t,i=u(e),o=m(i,new p(1)),l=new p(1).subtract(i.multiply(i)),r=l.multiply(l),a=o.multiply(r).multiply(s).multiply(new p(c(this.usesHalfFloatPrecision)));return this.getFragmentOutput(new n(a),t)}hittest(t){const{viewMat3:e,tileMat3:s}=this.view,i=e.multiply(s).multiply(new a(t.pos,1));return w(i.xy,this.kernelControls.radius,this.hittestRequest.position)}}t([o],F.prototype,\"usesHalfFloatPrecision\",void 0),t([i(g)],F.prototype,\"kernelControls\",void 0),t([e(0,r(v))],F.prototype,\"vertex\",null),t([e(0,r(x))],F.prototype,\"fragment\",null);export{x as HeatmapAccumulateFragmentInput,F as HeatmapAccumulateShader,v as HeatmapAccumulateVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{VertexInput as o,location as r,FragmentInput as s,UniformGroup as i,uniform as n,GraphShaderModule as a,define as l,FragmentOutput as p,input as u}from\"../../GraphShaderModule.js\";import{Vec4 as d,texture2D as m,Float as c,Vec2 as y,Sampler2D as v}from\"../../graph/glsl.js\";import{getHeatmapCompressionFactor as g}from\"./heatmapUtils.js\";class x extends o{}t([r(0,y)],x.prototype,\"position\",void 0);class f extends s{}class h extends i{}t([n(v)],h.prototype,\"texture\",void 0),t([n(y)],h.prototype,\"minAndInvRange\",void 0),t([n(c)],h.prototype,\"normalization\",void 0);class w extends i{}t([n(v)],w.prototype,\"texture\",void 0);class b extends a{constructor(){super(...arguments),this.usesHalfFloatPrecision=!1}vertex(t){return{glPosition:new d(t.position.multiply(2).subtract(1),1,1),uv:t.position}}fragment(t){const{accumulatedDensity:e,gradient:o}=this;let r=m(e.texture,t.uv).r.divide(new c(g(this.usesHalfFloatPrecision)));r=r.multiply(e.normalization),r=r.subtract(e.minAndInvRange.x).multiply(e.minAndInvRange.y);const s=m(o.texture,new y(r,.5)),i=new p;return i.glFragColor=new d(s.rgb.multiply(s.a),s.a),i}}t([l],b.prototype,\"usesHalfFloatPrecision\",void 0),t([n(h)],b.prototype,\"accumulatedDensity\",void 0),t([n(w)],b.prototype,\"gradient\",void 0),t([e(0,u(x))],b.prototype,\"vertex\",null),t([e(0,u(f))],b.prototype,\"fragment\",null);export{h as AccumulatedDensity,w as Gradient,f as HeatmapResolveFragmentInput,b as HeatmapResolveShader,x as HeatmapResolveVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"../../../enums.js\";import{FeatureTechnique as t}from\"../FeatureTechnique.js\";import{isHittest as r,getFeatureUniforms as s,getSelectionDefines as i}from\"../featureTechniqueUtils.js\";import{TechniqueType as n}from\"../TechniqueType.js\";import{HeatmapResources as o}from\"./HeatmapResources.js\";import{HeatmapAccumulateShader as u}from\"../shaders/HeatmapAccumulateShader.js\";import{HeatmapResolveShader as a}from\"../shaders/HeatmapResolveShader.js\";import{CompareFunction as d,StencilOperation as l,FramebufferBit as h,TextureSamplingMode as c}from\"../../../../../../webgl/enums.js\";class p extends t{constructor(){super(...arguments),this.type=n.Heatmap,this.drawPhase=e.MAP|e.HITTEST|e.DEBUG,this.shaders={accumulate:new u,resolve:new a},this._isBound=!1,this._resources=new Map}shutdown(e){super.shutdown(e),this._resources.get(e)?.destroy(),this._resources.delete(e),this._prevFBO=null,this._unbind()}render(e,t){const{context:n,painter:o,state:u}=e,a=t.instance.getInput(),{isFieldActive:d}=a.uniforms,l=this._getOrCreateResourcesRecord(n),h=l.loadQualityProfile(n);r(e)||this._bind(e,l,a),o.setShader({shader:this.shaders.accumulate,uniforms:{...s(e,t.target),kernelControls:{radius:g(a,u),isFieldActive:d?1:0}},defines:{...i(e),...h.defines},optionalAttributes:{},useComputeBuffer:r(e)});const c=r(e)?w:_;o.setPipelineState(c),o.submitDraw(e,t)}getStencilReference(e){return f(e)}renderResolvePass(e,t){if(r(e))return;const{context:s,painter:i}=e,n=this._resources.get(s);if(null==this._prevFBO||null==this._prevViewport||!n?.initialized)return;const{defines:o}=n.loadQualityProfile(s),{minDensity:u,maxDensity:a,radius:d}=t.getInput().uniforms,l=8,h=9,c=n.accumulateFramebuffer,p=n.resolveGradientTexture,m={shader:this.shaders.resolve,uniforms:{accumulatedDensity:{texture:{unit:l,texture:c.colorTexture},minAndInvRange:[u,1/(a-u)],normalization:3/(d*d*Math.PI)},gradient:{texture:{unit:h,texture:p}}},defines:o,optionalAttributes:{},useComputeBuffer:!1};s.bindFramebuffer(this._prevFBO),s.setViewport(0,0,this._prevViewport.width,this._prevViewport.height),s.bindTexture(c.colorTexture,l),s.bindTexture(p,h),i.setPipelineState(b),i.submitDrawMesh(s,m,i.quadMesh),this._unbind()}_getOrCreateResourcesRecord(e){let t=this._resources.get(e);return null==t&&(t=new o,this._resources.set(e,t)),t}_unbind(){this._prevFBO=null,this._prevViewport=null,this._isBound=!1}_bind(e,t,r){if(this._isBound)return;const{context:s,state:i,pixelRatio:n}=e,o=s.getBoundFramebufferObject(),u=s.getViewport();this._prevFBO=o,this._prevViewport=u;const{gradient:a,gradientHash:d}=r.uniforms;t.ensureResolveGradientTexture(s,d,a);const{width:l,height:p}=u,f=m(g(r,i),n),_=l*f,w=p*f,b=t.ensureAccumulateFBO(s,_,w);s.blitFramebuffer(o,b,0,0,o.width,o.height,0,0,b.width,b.height,h.STENCIL,c.NEAREST),s.bindFramebuffer(b),s.setViewport(0,0,b.width,b.height),s.setColorMask(!0,!0,!0,!0),s.setClearColor(0,0,0,0),s.clear(h.COLOR),this._isBound=!0}}function m(e,t){const r=t>1.5?.25:.5;return e<1/(2*r)?1:r}function f(e){return e.key.level+1}const _={color:{write:[!0,!0,!0,!0],blendMode:\"additive\"},depth:!1,stencil:{write:!1,test:{ref:f,compare:d.GEQUAL,mask:255,op:{fail:l.KEEP,zFail:l.KEEP,zPass:l.REPLACE}}}},w={..._,stencil:!1},b={color:{write:[!0,!0,!0,!0],blendMode:\"composite\"},depth:!1,stencil:!1};function g(e,t){const{referenceScale:r,radius:s}=e.uniforms;return s*(0!==r?r/t.scale:1)}export{p as HeatmapTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{minMaxZoomPrecisionFactor as i,labelPlacementOffsetPadding as o}from\"../../../definitions.js\";import{location as s,option as l,uniform as a,define as r,ComputeVertexInput as n,input as p}from\"../../GraphShaderModule.js\";import{abs as d,min as u,Float as y,floor as m,step as c,Vec3 as f,Mat3 as h,Vec2 as v,or as b,equal as w,greaterThan as x,Bool as V,Vec4 as S,texture2D as g,smoothstep as z,ifElse as j,Int as R,bitRShift as C,bitAnd as O}from\"../../graph/glsl.js\";import{FeatureVertexInput as M,FeatureFragmentInput as L,AFeatureShader as A}from\"../shaders/AFeatureShader.js\";import{bitsetTextIsBackground as H,sdfFontSize as P,bitsetTextIsMapAligned as N,maxSdfDistance as U}from\"../shaders/constants.js\";import{distPointTriangle as _,failHittest as k}from\"../shaders/hittestUtils.js\";import{MosaicInfo as T}from\"../shaders/MosaicInfo.js\";import{getBit as I}from\"../shaders/utils.js\";import{VisualVariableColor as D}from\"../shaders/VisualVariableColor.js\";import{VisualVariableOpacity as B}from\"../shaders/VisualVariableOpacity.js\";import{VisualVariableRotation as q}from\"../shaders/VisualVariableRotation.js\";import{VisualVariableSizeMinMaxValue as E}from\"../shaders/VisualVariableSizeMinMaxValue.js\";import{VisualVariableSizeScaleStops as F}from\"../shaders/VisualVariableSizeScaleStops.js\";import{VisualVariableSizeStops as W}from\"../shaders/VisualVariableSizeStops.js\";import{VisualVariableSizeUnitValue as G}from\"../shaders/VisualVariableSizeUnitValue.js\";import{getVisualVariableSize as Z,getVisualVariableRotation as J}from\"../shaders/vvUtils.js\";const K=360/254;var Q;!function(t){t[t.Color=0]=\"Color\",t[t.Outline=1]=\"Outline\",t[t.Halo=2]=\"Halo\"}(Q||(Q={}));class X extends M{}t([s(3,S)],X.prototype,\"color\",void 0),t([s(4,v)],X.prototype,\"offset\",void 0),t([s(5,v)],X.prototype,\"textureUV\",void 0),t([s(6,y)],X.prototype,\"fontSize\",void 0),t([s(7,y)],X.prototype,\"referenceSize\",void 0),t([s(8,S)],X.prototype,\"outlineColor\",void 0),t([s(9,S)],X.prototype,\"haloColor\",void 0),t([s(10,v)],X.prototype,\"outlineAndHaloSize\",void 0),t([s(11,v)],X.prototype,\"zoomRange\",void 0),t([s(12,y)],X.prototype,\"clipAngle\",void 0),t([s(13,S)],X.prototype,\"referenceSymbol\",void 0);class Y extends n{}t([s(14,v)],Y.prototype,\"offsetNextVertex1\",void 0),t([s(15,v)],Y.prototype,\"offsetNextVertex2\",void 0);class $ extends L{}class tt extends A{constructor(){super(...arguments),this.computeAttributes={offset:[\"offsetNextVertex1\",\"offsetNextVertex2\"]},this.textRenderPassType=Q.Color,this.isBackgroundPass=!1,this.isLabel=!1}clipLabel(t,e,o){const s=e.multiply(K),l=d(this.view.rotation.subtract(s)),a=u(new y(360).subtract(l),l);let r=new y(0);const n=m(this.view.currentZoom.multiply(i)).divide(i),p=t.x,f=t.y,h=new y(1).subtract(c(p,n)).multiply(2),v=c(new y(90),a).multiply(2),b=new y(2).multiply(new y(1).subtract(c(n,f)));return r=r.add(o.multiply(h)),r=r.add(o.multiply(v)),r=r.add(b),r}vertex(t,e){const i=I(t.bitset,H),s=new y(1).subtract(i);let l=t.fontSize,a=l.divide(P);const r=this.textRenderPassType===Q.Outline?t.outlineColor:this.textRenderPassType===Q.Halo?t.haloColor:this._getVertexColor(t),n=this.isLabel?this.storage.getLabelVisibility(t.id):new y(1),p=this.isLabel?r.multiply(n):r,d=this.view.displayViewScreenMat3.multiply(new f(t.pos,1));let u=t.offset,m=new y(1),c=h.identity(),g=new v(0);if(this.isLabel){if(!t.referenceSymbol)throw new Error(\"InternalError: Optional attribute 'referenceSymbol' expected for labels\");const e=t.referenceSymbol,i=e.xy,s=e.z,l=this._unpackDirection(e.w),a=Z(this,t.id,s).divide(2),r=l.multiply(a.add(o));g=i.add(r),u=u.add(g)}else{m=Z(this,t.id,t.referenceSize).divide(t.referenceSize),l=l.multiply(m),a=a.multiply(m),u=u.multiply(m),c=J(this,t.id),u=c.multiply(new f(u,0)).xy}const z=I(t.bitset,N),j=this._getViewRotationMatrix(z).multiply(new f(u,0));let R=this.isLabel?this.clipLabel(t.zoomRange,t.clipAngle,z):this.clip(t.id,t.zoomRange);R=this.isBackgroundPass?R.add(s.multiply(2)):R.add(i.multiply(2));const C=this.isLabel?b(x(R,new y(1)),w(n,new y(0))):new V(!1),O=new S(d.xy.add(j.xy),R,1),M=t.textureUV.divide(this.mosaicInfo.size);let L=new y(0);if(this.textRenderPassType===Q.Outline){w(t.outlineAndHaloSize.x,new y(0))&&(R=R.add(new y(2)));L=new y(t.outlineAndHaloSize.x).divide(a).divide(U)}if(this.textRenderPassType===Q.Halo){const e=t.outlineAndHaloSize.x,i=new y(t.outlineAndHaloSize.y);w(i,new y(0))&&(R=R.add(new y(2)));L=i.add(e).divide(a).divide(U)}return{glPosition:O,color:p,size:a,textureUV:M,antialiasingWidth:new y(.105*P).divide(l).divide(this.view.pixelRatio),outlineDistanceOffset:L,...this.maybeRunHittest(t,e,{vvSizeAdjustment:m,vvRotation:c,labelOffset:g,labelClipped:C})}}_getViewRotationMatrix(t){const e=this.view.displayViewMat3,i=this.view.displayMat3,o=new y(1).subtract(t);return e.multiply(t).add(i.multiply(o))}fragment(t){const e=new y(2/8),i=new y(1).subtract(e),o=g(this.mosaicInfo.texture,t.textureUV).a;let s=i.subtract(t.outlineDistanceOffset);this.highlight&&(s=s.divide(2));const l=t.antialiasingWidth,a=z(s.subtract(l),s.add(l),o);return this.getFragmentOutput(t.color.multiply(a),t)}hittest(t,e,{vvSizeAdjustment:i,vvRotation:o,labelOffset:s,labelClipped:l}){let a,r,n;this.isLabel?(a=new f(t.offset.add(s),0),r=new f(e.offsetNextVertex1.add(s),0),n=new f(e.offsetNextVertex2.add(s),0)):(a=o.multiply(new f(t.offset.multiply(i),0)),r=o.multiply(new f(e.offsetNextVertex1.multiply(i),0)),n=o.multiply(new f(e.offsetNextVertex2.multiply(i),0)));const{viewMat3:p,tileMat3:d}=this.view,u=p.multiply(d).multiply(new f(t.pos,1)),y=u.add(d.multiply(a)).xy,m=u.add(d.multiply(r)).xy,c=u.add(d.multiply(n)).xy,h=_(this.hittestRequest.position,y.xy,m.xy,c.xy);return this.isLabel?j(l,k(this.hittestRequest),h):h}_unpackDirection(t){const e=new R(t),i=C(e,new R(2)),o=O(e,new R(3));return new v(new y(i).subtract(1),new y(o).subtract(1))}_getVertexColor(t){let e=t.color;if(this.visualVariableColor){const i=this.storage.getColorValue(t.id);e=this.visualVariableColor.getColor(i,t.color,new V(!1))}if(this.visualVariableOpacity){const i=this.storage.getOpacityValue(t.id),o=this.visualVariableOpacity.getOpacity(i);e=e.multiply(o)}return e}}t([l(D)],tt.prototype,\"visualVariableColor\",void 0),t([l(B)],tt.prototype,\"visualVariableOpacity\",void 0),t([l(q)],tt.prototype,\"visualVariableRotation\",void 0),t([l(E)],tt.prototype,\"visualVariableSizeMinMaxValue\",void 0),t([l(F)],tt.prototype,\"visualVariableSizeScaleStops\",void 0),t([l(W)],tt.prototype,\"visualVariableSizeStops\",void 0),t([l(G)],tt.prototype,\"visualVariableSizeUnitValue\",void 0),t([a(T)],tt.prototype,\"mosaicInfo\",void 0),t([r],tt.prototype,\"textRenderPassType\",void 0),t([r],tt.prototype,\"isBackgroundPass\",void 0),t([r],tt.prototype,\"isLabel\",void 0),t([e(0,p(X)),e(1,p(Y))],tt.prototype,\"vertex\",null),t([e(0,p($))],tt.prototype,\"fragment\",null);export{$ as TextFragmentInput,Q as TextRenderPassType,tt as TextShader,X as TextVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e,FeatureSymbologyDrawOrder as t}from\"../../../enums.js\";import{FeatureTechnique as s}from\"../FeatureTechnique.js\";import{getSelectionDefines as r,getFeaturePipelineState as a,resolveDynamicUniforms as i,getFeatureUniforms as o,isHittest as n}from\"../featureTechniqueUtils.js\";import{TechniqueType as u}from\"../TechniqueType.js\";import{TextShader as m,TextRenderPassType as p}from\"../text/TextShader.js\";class d extends s{constructor(){super(...arguments),this.type=u.Label,this.shaders={geometry:new m},this.drawPhase=e.LABEL|e.LABEL_ALPHA|e.HITTEST,this.symbologyPlane=t.TEXT}render(e,t){const{context:s,painter:u}=e,m=r(e),d={...a(e)},h=t.instance.getInput(),l={shader:this.shaders.geometry,uniforms:{...i(e,t.target,h.uniforms),...o(e,t.target),mosaicInfo:u.textureManager.getMosaicInfo(s,t.textureKey)},defines:{...m,textRenderPassType:p.Color,isBackgroundPass:!0,isLabel:!0},optionalAttributes:h.optionalAttributes,useComputeBuffer:n(e)};u.setShader(l),u.setPipelineState(d),u.submitDraw(e,t),u.setShader({...l,defines:{...m,textRenderPassType:p.Halo,isBackgroundPass:!1,isLabel:!0}}),u.setPipelineState(d),u.submitDraw(e,t),u.setShader({...l,defines:{...m,textRenderPassType:p.Color,isBackgroundPass:!1,isLabel:!0}}),u.setPipelineState(d),u.submitDraw(e,t)}}export{d as LabelTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FeatureSymbologyDrawOrder as e}from\"../../../enums.js\";import{FeatureTechnique as t}from\"../FeatureTechnique.js\";import{resolveDynamicUniforms as s,getFeatureUniforms as r,getSelectionDefines as i,isHittest as o,getFeaturePipelineState as n}from\"../featureTechniqueUtils.js\";import{TechniqueType as a}from\"../TechniqueType.js\";import{getAntialiasingControls as m}from\"./utils.js\";import{LineShader as u}from\"../shaders/LineShader.js\";class p extends t{constructor(){super(...arguments),this.type=a.Line,this.shaders={geometry:new u},this.symbologyPlane=e.LINE}render(e,t){const{painter:a,pixelRatio:u}=e,p=t.instance.getInput();a.setShader({shader:this.shaders.geometry,uniforms:{...s(e,t.target,p.uniforms),...r(e,t.target),antialiasingControls:m(u)},defines:{...i(e)},optionalAttributes:p.optionalAttributes,useComputeBuffer:o(e)}),a.setPipelineState(n(e)),a.submitDraw(e,t)}}export{p as LineTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{pt2px as i}from\"../../../../../../../core/screenUtils.js\";import{dashSdfRasterizationScale as o,dashSdfDistanceNormalization as s}from\"../../../../../../../symbols/cim/constants.js\";import{location as a,uniform as l,input as n}from\"../../GraphShaderModule.js\";import{max as r,Float as p,fract as m,mix as c,Vec2 as u,texture2D as d,cond as y,equal as h,sqrt as f,pow as w,clamp as b,Vec4 as g,ifElse as x,greaterThan as v,dot as D}from\"../../graph/glsl.js\";import{BaseHittestVertexInput as j}from\"./AFeatureShader.js\";import{bitsetLineScaleDash as S,bitsetLineIsSdf as A,bitsetGenericConsiderAlphaOnly as z}from\"./constants.js\";import{LineVertexInput as F,LineFragmentInput as _,LineShader as T,getLineVertexData as I,getLineAntialiasing as L}from\"./LineShader.js\";import{MosaicInfo as C}from\"./MosaicInfo.js\";import{getBit as O,rgba2float as P}from\"./utils.js\";class W extends F{}t([a(9,p)],W.prototype,\"accumulatedDistance\",void 0),t([a(10,u)],W.prototype,\"segmentDirection\",void 0),t([a(11,p)],W.prototype,\"offsetAlongLine\",void 0),t([a(12,p)],W.prototype,\"capType\",void 0),t([a(13,g)],W.prototype,\"tlbr\",void 0);class R extends _{}class H extends T{_getDistanceRatio(t,e){const o=O(t.bitset,S);return o.multiply(r(e,new p(.25)).multiply(new p(2))).add(new p(1).subtract(o).multiply(i(1)))}_getSDFAlpha(t){const{halfWidth:e,normal:i,tlbr:a,patternSize:l,accumulatedDistance:n,offsetAlongLine:x,dashToPx:v,capType:D}=t,j=l.x.divide(o).multiply(v),S=m(n.add(x).divide(j)),A=c(a.xy,a.zw,new u(S,.5)),z=P(d(this.mosaicInfo.texture,A)).multiply(2).subtract(1).multiply(s).multiply(v),F=i.y.multiply(e),_=y([h(D,new p(1)),z.subtract(e)],[h(D,new p(2)),f(w(r(z,new p(0)),new p(2)).add(F.multiply(F))).subtract(e)],[!0,z]),T=b(new p(.25).subtract(_),new p(0),new p(1));return new g(T)}_getPatternColor(t){const{halfWidth:e,normal:i,color:o,accumulatedDistance:s,patternSize:a,sampleAlphaOnly:l,tlbr:n}=t,r=a.y.multiply(new p(2).multiply(e).divide(a.x)),y=m(s.divide(r)),h=new p(.5).multiply(i.y).add(new p(.5)),f=c(n.xy,n.zw,new u(h,y));let w=d(this.mosaicInfo.texture,f);return null!=this.visualVariableColor&&(w=x(v(l,new p(.5)),new g(o.a),o)),w}vertex(t,e){const{segmentDirection:i,tlbr:o,bitset:s}=t,a=I(this,t),l=t.accumulatedDistance.divide(this.view.displayZoomFactor).add(D(i,a.scaledOffset)),n=new u(o.z.subtract(o.x),o.w.subtract(o.y)),r=o.divide(this.mosaicInfo.size.xyxy),m=O(s,A),c=O(s,z),d=x(v(m,new p(.5)),this._getDistanceRatio(t,a.scaledHalfWidth),new p(1));return{...a,tlbr:r,patternSize:n,accumulatedDistance:l,isSDF:m,sampleAlphaOnly:c,dashToPx:d,offsetAlongLine:t.offsetAlongLine,capType:t.capType,...this.maybeRunHittest(t,e,a.halfWidth)}}fragment(t){const{color:e,opacity:i,isSDF:o}=t,s=L(t,this.antialiasingControls.blur),a=x(v(o,new p(.5)),this._getSDFAlpha(t),this._getPatternColor(t)),l=e.multiply(i).multiply(s).multiply(a);return this.getFragmentOutput(l,t)}}t([l(C)],H.prototype,\"mosaicInfo\",void 0),t([e(0,n(W)),e(1,n(j))],H.prototype,\"vertex\",null);export{R as TexturedLineFragmentInput,H as TexturedLineShader,W as TexturedLineVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FeatureSymbologyDrawOrder as e}from\"../../../enums.js\";import{FeatureTechnique as t}from\"../FeatureTechnique.js\";import{resolveDynamicUniforms as r,getFeatureUniforms as s,getSelectionDefines as i,isHittest as o,getFeaturePipelineState as n}from\"../featureTechniqueUtils.js\";import{TechniqueType as a}from\"../TechniqueType.js\";import{getAntialiasingControls as u}from\"./utils.js\";import{TexturedLineShader as m}from\"../shaders/TexturedLineShader.js\";class p extends t{constructor(){super(...arguments),this.type=a.TexturedLine,this.shaders={geometry:new m},this.symbologyPlane=e.LINE}render(e,t){const{context:a,painter:m,pixelRatio:p}=e,f=t.instance.getInput();m.setShader({shader:this.shaders.geometry,uniforms:{...r(e,t.target,f.uniforms),...s(e,t.target),antialiasingControls:u(p),mosaicInfo:m.textureManager.getMosaicInfo(a,t.textureKey)},defines:{...i(e)},optionalAttributes:f.optionalAttributes,useComputeBuffer:o(e)}),m.setPipelineState(n(e)),m.submitDraw(e,t)}}export{p as TexturedLineTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{location as i,option as o,uniform as s,ComputeVertexInput as l,input as r}from\"../../GraphShaderModule.js\";import{Vec3 as a,min as p,max as n,Float as u,Mat3 as d,Vec4 as m,ifElse as y,lessThan as h,equal as c,texture2D as x,clamp as v,abs as f,mix as V,distance as w,greaterThan as S,Vec2 as b,negate as g,step as C}from\"../../graph/glsl.js\";import{MarkerConstants as z}from\"./markerConstants.js\";import{FeatureVertexInput as M,FeatureFragmentInput as _,AFeatureShader as j}from\"../shaders/AFeatureShader.js\";import{c256ToRad as R,softEdgeRatio as U}from\"../shaders/constants.js\";import{distPointTriangle as N,xyToBarycentric as D,inTriangle as F,failHittest as I}from\"../shaders/hittestUtils.js\";import{MosaicInfo as O}from\"../shaders/MosaicInfo.js\";import{getBit as k,getBitBool as q,rgba2float as A}from\"../shaders/utils.js\";import{VisualVariableColor as P}from\"../shaders/VisualVariableColor.js\";import{VisualVariableOpacity as T}from\"../shaders/VisualVariableOpacity.js\";import{VisualVariableRotation as G}from\"../shaders/VisualVariableRotation.js\";import{VisualVariableSizeMinMaxValue as H}from\"../shaders/VisualVariableSizeMinMaxValue.js\";import{VisualVariableSizeScaleStops as L}from\"../shaders/VisualVariableSizeScaleStops.js\";import{VisualVariableSizeStops as B}from\"../shaders/VisualVariableSizeStops.js\";import{VisualVariableSizeUnitValue as E}from\"../shaders/VisualVariableSizeUnitValue.js\";import{getVisualVariableOpacity as J,getVisualVariableColor as K,getVisualVariableSize as Q,getVisualVariableRotation as W}from\"../shaders/vvUtils.js\";class X extends M{}t([i(3,m)],X.prototype,\"color\",void 0),t([i(4,m)],X.prototype,\"outlineColor\",void 0),t([i(5,b)],X.prototype,\"offset\",void 0),t([i(6,b)],X.prototype,\"textureUV\",void 0),t([i(7,m)],X.prototype,\"sizing\",void 0),t([i(8,u)],X.prototype,\"placementAngle\",void 0),t([i(9,u)],X.prototype,\"sdfDecodeCoeff\",void 0),t([i(10,b)],X.prototype,\"zoomRange\",void 0);class Y extends l{}t([i(12,b)],Y.prototype,\"offsetNextVertex1\",void 0),t([i(13,b)],Y.prototype,\"offsetNextVertex2\",void 0),t([i(14,b)],Y.prototype,\"textureUVNextVertex1\",void 0),t([i(15,b)],Y.prototype,\"textureUVNextVertex2\",void 0);class Z extends _{}function $(t,e,i,o){return e.multiply(t.x).add(i.multiply(t.y)).add(o.multiply(t.z))}function tt(t){return t.multiply(t).divide(128)}class et extends j{constructor(){super(...arguments),this.computeAttributes={offset:[\"offsetNextVertex1\",\"offsetNextVertex2\"],textureUV:[\"textureUVNextVertex1\",\"textureUVNextVertex2\"]}}vertex(t,e){const i=tt(t.sizing.x),o=tt(t.sizing.y),s=tt(t.sizing.z),l=t.placementAngle,r=k(t.bitset,z.bitset.isSDF),y=k(t.bitset,z.bitset.isMapAligned),h=k(t.bitset,z.bitset.scaleSymbolsProportionally),c=q(t.bitset,z.bitset.colorLocked),x=J(this,t.id),v=K(this,t.id,t.color,c).multiply(x),f=this.view.displayViewScreenMat3.multiply(new a(t.pos.xy,1)),V=Q(this,t.id,s).divide(s),w=i.multiply(V),S=t.offset.xy.multiply(V);let b=o.multiply(h.multiply(V.subtract(1)).add(1));b=p(b,n(w.subtract(.99),new u(0)));const g=n(b,new u(1)),C=p(b,new u(1)),M=d.fromRotation(l.multiply(R)),_=W(this,t.id),j=this._getViewRotationMatrix(y).multiply(_).multiply(M).multiply(new a(S.xy,0)),U=this.clip(t.id,t.zoomRange),N=new m(f.xy.add(j.xy),U,1),D=t.textureUV.divide(this.mosaicInfo.size),F=t.outlineColor.multiply(C),I=k(t.bitset,z.bitset.overrideOutlineColor),O=t.sdfDecodeCoeff.multiply(w);return{glPosition:N,color:v,textureUV:D,outlineColor:F,outlineSize:g,distanceToPx:O,isSDF:r,overrideOutlineColor:I,...this.maybeRunHittest(t,e,{pos:t.pos,size:w,sizeCorrection:V,isMapAligned:y,vvRotationMat3:_,placementMat3:M,outlineSize:g,distanceToPx:O,isSDF:r})}}fragment(t){const e=this._getColor(t.textureUV,t);return this.getFragmentOutput(e,t)}hittest(t,e,i){return y(h(i.size,this.hittestRequest.smallSymbolSizeThreshold),this._hittestSmallMarker(t,e,i),this._hittestMarker(t,e,i))}_getViewRotationMatrix(t){const e=this.view.displayViewMat3,i=this.view.displayMat3,o=new u(1).subtract(t);return e.multiply(t).add(i.multiply(o))}_getViewScreenMatrix(t){const e=this.view.viewMat3.multiply(this.view.tileMat3),i=this.view.tileMat3,o=new u(1).subtract(t);return e.multiply(t).add(i.multiply(o))}_getColor(t,e){return y(c(e.isSDF,new u(1)),this._getSDFColor(t,e),this._getSpriteColor(t,e))}_getSpriteColor(t,e){return x(this.mosaicInfo.texture,t).multiply(e.color)}_getSDFColor(t,e){const i=x(this.mosaicInfo.texture,t),o=new u(.5).subtract(A(i)).multiply(e.distanceToPx).multiply(U),s=v(new u(.5).subtract(o),new u(0),new u(1)),l=e.color.multiply(s);let r=e.outlineSize;this.highlight&&(r=n(r,e.overrideOutlineColor.multiply(4)));const a=r.multiply(.5),p=f(o).subtract(a),d=v(new u(.5).subtract(p),new u(0),new u(1)),m=V(e.outlineColor,e.color,e.overrideOutlineColor).multiply(d);return new u(1).subtract(m.a).multiply(l).add(m)}_hittestSmallMarker(t,e,i){const{position:o,distance:s,smallSymbolDistance:l}=this.hittestRequest,r=s.subtract(l),{viewMat3:p,tileMat3:n}=this.view,u=p.multiply(n).multiply(new a(i.pos,1)).xy,d=i.size.multiply(.5);return w(u,o).subtract(d).add(r)}_hittestMarker(t,e,i){const{pos:o,sizeCorrection:s,isMapAligned:l}=i,r=new a(t.offset.multiply(s),0),p=new a(e.offsetNextVertex1.multiply(s),0),n=new a(e.offsetNextVertex2.multiply(s),0),{viewMat3:u,tileMat3:d}=this.view,m=u.multiply(d).multiply(new a(o,1)),h=this._getViewScreenMatrix(l).multiply(i.vvRotationMat3).multiply(i.placementMat3),c=m.add(h.multiply(r)).xy,x=m.add(h.multiply(p)).xy,v=m.add(h.multiply(n)).xy,f=this.hittestRequest.position,V=this.hittestRequest.distance,w=N(f,c,x,v);return y(S(w,V),w,this._hittestSamples(c,x,v,t,e,i))}_hittestSamples(t,e,i,o,s,l){const{outlineSize:r,isSDF:a,distanceToPx:p}=l,n=this.hittestRequest.position,d=this.hittestRequest.distance,y=D(n.add(new b(g(d),g(d))),t,e,i),h=D(n.add(new b(0,g(d))),t,e,i),c=D(n.add(new b(d,g(d))),t,e,i),x=D(n.add(new b(g(d),0)),t,e,i),v=D(n,t,e,i),f=D(n.add(new b(d,0)),t,e,i),V=D(n.add(new b(g(d),d)),t,e,i),w=D(n.add(new b(0,d)),t,e,i),S=D(n.add(new b(d,d)),t,e,i),z=o.textureUV.divide(this.mosaicInfo.size),M=s.textureUVNextVertex1.divide(this.mosaicInfo.size),_=s.textureUVNextVertex2.divide(this.mosaicInfo.size),j={color:new m(1),outlineColor:new m(1),overrideOutlineColor:new u(1),outlineSize:r,distanceToPx:p,isSDF:a};let R=new u(0);return R=R.add(F(y).multiply(this._getColor($(y,z,M,_),j).a)),R=R.add(F(h).multiply(this._getColor($(h,z,M,_),j).a)),R=R.add(F(c).multiply(this._getColor($(c,z,M,_),j).a)),R=R.add(F(x).multiply(this._getColor($(x,z,M,_),j).a)),R=R.add(F(v).multiply(this._getColor($(v,z,M,_),j).a)),R=R.add(F(f).multiply(this._getColor($(f,z,M,_),j).a)),R=R.add(F(V).multiply(this._getColor($(V,z,M,_),j).a)),R=R.add(F(w).multiply(this._getColor($(w,z,M,_),j).a)),R=R.add(F(S).multiply(this._getColor($(S,z,M,_),j).a)),C(R,new u(.05)).multiply(I(this.hittestRequest))}}t([o(P)],et.prototype,\"visualVariableColor\",void 0),t([o(T)],et.prototype,\"visualVariableOpacity\",void 0),t([o(G)],et.prototype,\"visualVariableRotation\",void 0),t([o(H)],et.prototype,\"visualVariableSizeMinMaxValue\",void 0),t([o(L)],et.prototype,\"visualVariableSizeScaleStops\",void 0),t([o(B)],et.prototype,\"visualVariableSizeStops\",void 0),t([o(E)],et.prototype,\"visualVariableSizeUnitValue\",void 0),t([s(O)],et.prototype,\"mosaicInfo\",void 0),t([e(0,r(X)),e(1,r(Y))],et.prototype,\"vertex\",null),t([e(0,r(Z))],et.prototype,\"fragment\",null);export{Z as MarkerFragmentInput,et as MarkerShader,X as MarkerVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FeatureSymbologyDrawOrder as e}from\"../../../enums.js\";import{FeatureTechnique as t}from\"../FeatureTechnique.js\";import{resolveDynamicUniforms as r,getFeatureUniforms as s,getSelectionDefines as o,isHittest as i,getFeaturePipelineState as n}from\"../featureTechniqueUtils.js\";import{TechniqueType as a}from\"../TechniqueType.js\";import{MarkerShader as m}from\"./MarkerShader.js\";class u extends t{constructor(){super(...arguments),this.type=a.Marker,this.shaders={geometry:new m},this.symbologyPlane=e.MARKER}render(e,t){const{context:a,painter:m}=e,u=t.instance.getInput();m.setShader({shader:this.shaders.geometry,uniforms:{...r(e,t.target,u.uniforms),...s(e,t.target),mosaicInfo:m.textureManager.getMosaicInfo(a,t.textureKey,!0)},defines:{...o(e)},optionalAttributes:u.optionalAttributes,useComputeBuffer:i(e)}),m.setPipelineState(n(e)),m.submitDraw(e,t)}}export{u as MarkerTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{numericHash as t}from\"../../../../../core/string.js\";import{TypedShaderProgram as e}from\"./typed/TypedShaderProgram.js\";class o{constructor(){this.computeAttributes={}}get locationsMap(){const t=new Map;for(const e in this.locations)t.set(e,this.locations[e].index);return t}get optionPropertyKeys(){if(!this._optionPropertyKeys){const t=new Set(Object.keys(this.options));this._optionPropertyKeys=t}return this._optionPropertyKeys}get _transformFeedbackBindings(){return[]}get locationInfo(){if(!this._locationInfo){const e=this.locationsMap,o=Array.from(e.entries()).map((([t,e])=>`${t}.${e}`)).join(\".\"),n=t(o);this._locationInfo={hash:n,locations:e,computeAttributeMap:this.computeAttributes}}return this._locationInfo}get renamedLocationsMap(){const t=new Map;for(const[e,o]of this.locationsMap.entries())t.set(\"a_\"+e,o);return t}getShaderKey(t,e,o){return`${Object.keys(t).map((e=>`${e}.${t[e]}`)).join(\".\")}.${Object.keys(o).filter((t=>o[t])).map((t=>`${t}_${o[t].toString()}`)).join(\".\")}.${Object.keys(e).filter((t=>this.optionPropertyKeys.has(t))).join(\".\")}`}getProgram(t,o,n,r){let i=\"\",s=\"\";for(const e in n)if(n[e]){const t=\"boolean\"==typeof n[e]?`#define ${e}\\n`:`#define ${e} ${n[e]}\\n`;i+=t,s+=t}return i+=this.vertexShader,s+=this.fragmentShader,new e(i,s,this.renamedLocationsMap,this.locationInfo,this._getUniformBindings(o),this._transformFeedbackBindings)}_getUniformBindings(t){const e=[];for(const o in this.required){const t=this.required[o];e.push({uniformHydrated:null,shaderModulePath:o,uniformName:o,uniformType:t.type,uniformArrayElementType:n(t),uniformArrayLength:r(t)})}for(const o in t){const i=this.options[o];if(t[o])for(const t in i){const s=i[t];e.push({uniformHydrated:null,shaderModulePath:`${o}.${t}`,uniformName:t,uniformType:s.type,uniformArrayElementType:n(s),uniformArrayLength:r(s)})}}return e}}const n=t=>\"array\"===t.type?t.elementType?.type:void 0,r=t=>\"array\"===t.type?t.size:void 0;export{o as GLSLShaderModule};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{GLSLShaderModule as e}from\"../../GLSLShaderModule.js\";import{Float as i,FixedArray as t,Vec4 as a,Vec2 as o,Vec3 as s,Sampler2D as r,Mat3 as l}from\"../../graph/glsl.js\";import{resolveIncludes as n}from\"../../../shaders/sources/resolver.js\";const p={hittestDist:i,hittestPos:o},y={filterFlags:r,animation:r,visualVariableData:r,dataDriven0:r,dataDriven1:r,dataDriven2:r,gpgpu:r,size:i},d={displayViewScreenMat3:l,displayViewMat3:l,displayMat3:l,viewMat3:l,tileMat3:l,displayZoomFactor:i,requiredZoomFactor:i,tileOffset:o,currentScale:i,currentZoom:i,metersPerSRUnit:i};class u extends e{constructor(){super(...arguments),this.vertexShader=n(\"materials/pie/pie.vert\"),this.fragmentShader=n(\"materials/pie/pie.frag\"),this.required={...y,...d,outlineWidth:i,colors:t,defaultColor:a,othersColor:a,outlineColor:a,donutRatio:i,sectorThreshold:i},this.options={hittestUniforms:p,visualVariableSizeMinMaxValue:{minMaxValueAndSize:a},visualVariableSizeScaleStops:{sizes:{...t.ofType(i,8),type:\"array\",elementType:i,size:8},values:{...t.ofType(i,8),type:\"array\",elementType:i,size:8}},visualVariableSizeStops:{sizes:{...t.ofType(i,8),type:\"array\",elementType:i,size:8},values:{...t.ofType(i,8),type:\"array\",elementType:i,size:8}},visualVariableSizeUnitValue:{unitValueToPixelsRatio:i},visualVariableOpacity:{opacities:{...t.ofType(i,8),type:\"array\",elementType:i,size:8},opacityValues:{...t.ofType(i,8),type:\"array\",elementType:i,size:8}}},this.locations={pos:{index:0,type:o},id:{index:1,type:s},bitset:{index:2,type:i},offset:{index:3,type:o},texCoords:{index:4,type:o},size:{index:5,type:o},referenceSize:{index:6,type:i},zoomRange:{index:7,type:o}},this.defines={VV_SIZE_MIN_MAX_VALUE:\"boolean\",VV_SIZE_SCALE_STOPS:\"boolean\",VV_SIZE_FIELD_STOPS:\"boolean\",VV_SIZE_UNIT_VALUE:\"boolean\",VV_OPACITY:\"boolean\",HITTEST:\"boolean\",numberOfFields:\"number\",highlight:\"boolean\",inside:\"boolean\",outside:\"boolean\"}}setNumberOfFields(e){this.required.colors={...t.ofType(a,e),type:\"array\",elementType:a,size:e}}}export{u as PieChartShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FeatureSymbologyDrawOrder as e}from\"../../../enums.js\";import{FeatureTechnique as t}from\"../FeatureTechnique.js\";import{isHittest as s,getFeatureUniforms as i,getSelectionDefines as r,resolveDynamicUniforms as a,getFeaturePipelineState as o}from\"../featureTechniqueUtils.js\";import{TechniqueType as u}from\"../TechniqueType.js\";import{PieChartShader as n}from\"./PieChartShader.js\";class h extends t{constructor(){super(...arguments),this.type=u.PieChart,this.shaders={geometry:new n},this.symbologyPlane=e.MARKER}render(e,t){const{painter:u}=e,{instance:n,target:h}=t,m=this.shaders.geometry,l=n.getInput(),f=l.uniforms.numberOfFields,S=s(e),V=i(e,h),d=r(e);m.setNumberOfFields(f),u.setShader({shader:m,uniforms:{...a(e,t.target,l.uniforms.shader),...V.storage,...V.view,hittestUniforms:V.hittestRequest?{hittestDist:V.hittestRequest?.distance,hittestPos:V.hittestRequest?.position}:null},defines:{VV_SIZE_MIN_MAX_VALUE:!!l.uniforms.shader.visualVariableSizeMinMaxValue,VV_SIZE_SCALE_STOPS:!!l.uniforms.shader.visualVariableSizeScaleStops,VV_SIZE_FIELD_STOPS:!!l.uniforms.shader.visualVariableSizeStops,VV_SIZE_UNIT_VALUE:!!l.uniforms.shader.visualVariableSizeUnitValue,VV_OPACITY:!!l.uniforms.shader.visualVariableOpacity,HITTEST:S,highlight:V.highlight?1:0,...d,numberOfFields:f},optionalAttributes:{},useComputeBuffer:S}),u.setPipelineState(o(e)),u.submitDraw(e,t)}}export{h as PieChartTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FeatureSymbologyDrawOrder as e}from\"../../../enums.js\";import{FeatureTechnique as s}from\"../FeatureTechnique.js\";import{getSelectionDefines as t,resolveDynamicUniforms as r,getFeatureUniforms as a,isHittest as i,getFeaturePipelineState as o}from\"../featureTechniqueUtils.js\";import{TechniqueType as n}from\"../TechniqueType.js\";import{TextShader as u,TextRenderPassType as d}from\"./TextShader.js\";class m extends s{constructor(){super(...arguments),this.type=n.Text,this.shaders={geometry:new u},this.symbologyPlane=e.TEXT}render(e,s){const{context:n,painter:u}=e,m=t(e),p=s.instance.getInput(),f={shader:this.shaders.geometry,uniforms:{...r(e,s.target,p.uniforms),...a(e,s.target),mosaicInfo:u.textureManager.getMosaicInfo(n,s.textureKey)},defines:{...m,isBackgroundPass:!0,isLabel:!1,textRenderPassType:d.Color},optionalAttributes:p.optionalAttributes,useComputeBuffer:i(e)};u.setShader(f),u.setPipelineState(o(e)),u.submitDraw(e,s),u.setShader({...f,defines:{...m,isBackgroundPass:!1,isLabel:!1,textRenderPassType:d.Halo}}),u.submitDraw(e,s),u.setShader({...f,defines:{...m,isBackgroundPass:!1,isLabel:!1,textRenderPassType:d.Outline}}),u.submitDraw(e,s),u.setShader({...f,defines:{...m,isBackgroundPass:!1,isLabel:!1,textRenderPassType:d.Color}}),u.submitDraw(e,s)}}export{m as TextTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{AnimatedMarkerTechnique as e}from\"./animated/AnimatedMarkerTechnique.js\";import{DotDensityTechnique as i}from\"./dotDensity/DotDensityTechnique.js\";import{ComplexFillTechnique as n}from\"./fill/ComplexFillTechnique.js\";import{ComplexOutlineFillTechnique as t}from\"./fill/ComplexOutlineFillTechnique.js\";import{FillTechnique as l}from\"./fill/FillTechnique.js\";import{OutlineFillTechnique as r}from\"./fill/OutlineFillTechnique.js\";import{PatternFillTechnique as o}from\"./fill/PatternFillTechnique.js\";import{PatternOutlineFillTechnique as m}from\"./fill/PatternOutlineFillTechnique.js\";import{HeatmapTechnique as p}from\"./heatmap/HeatmapTechnique.js\";import{LabelTechnique as a}from\"./labels/LabelTechnique.js\";import{LineTechnique as u}from\"./line/LineTechnique.js\";import{TexturedLineTechnique as f}from\"./line/TexturedLineTechnique.js\";import{MarkerTechnique as s}from\"./markers/MarkerTechnique.js\";import{PieChartTechnique as c}from\"./pieChart/PieChartTechnique.js\";import{TextTechnique as h}from\"./text/TextTechnique.js\";const T={fill:new l,patternFill:new o,complexFill:new n,outlineFill:new r,patternOutlineFill:new m,complexOutlineFill:new t,marker:new s,pieChart:new c,line:new u,texturedLine:new f,text:new h,label:new a,heatmap:new p,dotDensity:new i,animatedMarker:new e};function w(){for(const e in T){T[e].startup()}}function j(e){for(const i in T){T[i].shutdown(e)}}export{T as Techniques,j as shutdown,w as startup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction n(n,t){const r=n.slice(0,t),e=t-r.length;for(let o=0;o<e;o++){const n=r[r.length-1];r.push(n)}return r}function t(n){if(!n)return[0,0,0,0];const{r:t,g:r,b:e,a:o}=n;return[t*(o/255),r*(o/255),e*(o/255),o]}export{n as padStops,t as premultiplyColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import o from\"../../../../../core/Logger.js\";import{toPt as r}from\"../../../../../core/screenUtils.js\";import{getWebGLCapabilities as t}from\"../../../../webgl/capabilities.js\";const l=8,s=l-2,n=()=>o.getLogger(\"esri.views.2d.layers.features.support.rendererUtils\");function u(e){return e.map((e=>a(e)?i(e.clone()):e))}function a(e){return(\"size\"===e.type||\"color\"===e.type||\"opacity\"===e.type)&&null!=e.stops}function i(e){return e.stops=b(e.type,e.stops??[]),e}function p(e,o,r){return(1-r)*e+r*o}function c(e,o){const[t,...l]=o,n=l.pop(),u=l[0].value,a=l[l.length-1].value,i=(a-u)/s,c=[];for(let s=u;s<a;s+=i){let t=0;for(;s>=l[t].value;)t++;const n=l[t],u=o[t-1],a=s-u.value,i=n.value===u.value?1:a/(n.value-u.value);if(\"color\"===e){const e=l[t],r=o[t-1],n=e.color.clone();n.r=p(r.color.r,n.r,i),n.g=p(r.color.g,n.g,i),n.b=p(r.color.b,n.b,i),n.a=p(r.color.a,n.a,i),c.push({value:s,color:n,label:e.label})}else if(\"size\"===e){const e=l[t],n=o[t-1],u=r(e.size),a=p(r(n.size),u,i);c.push({value:s,size:a,label:e.label})}else{const e=l[t],r=p(o[t-1].opacity,e.opacity,i);c.push({value:s,opacity:r,label:e.label})}}return[t,...c,n]}function f(e){const[o,...r]=e,t=r.pop();for(;r.length>s;){let e=0,o=0;for(let t=1;t<r.length;t++){const l=r[t-1],s=r[t],n=Math.abs(s.value-l.value);n>o&&(o=n,e=t)}r.splice(e,1)}return[o,...r,t]}function b(e,o){return o.length<=l?o:(n().warn(`Found ${o.length} Visual Variable stops, but MapView only supports ${l}. Displayed stops will be simplified.`),o.length>2*l?c(e,o):f(o))}function g(){const{supportsColorBufferFloat:e,supportsColorBufferFloatBlend:o,supportsColorBufferHalfFloat:r}=t();return e&&o||r}function m(o){if(!o)return!0;switch(o.type){case\"dot-density\":break;case\"heatmap\":if(!g()){const o=t(),r=[\"supportsColorBufferFloat\",\"supportsColorBufferFloatBlend\",\"supportsColorBufferHalfFloat\"].filter((e=>!o[e])).join(\", \");return n().errorOnce(new e(\"webgl-missing-extension\",`Missing WebGL2 requirements for Heatmap: ${r}`)),!1}}return!0}export{m as isRendererSupported,u as simplifyVisualVariables};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../../../core/has.js\";import{pt2px as e}from\"../../../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as a}from\"../../../../../../core/unitUtils.js\";import{meterIn as i}from\"../../../../../../renderers/support/lengthUtils.js\";import{nanMagicNumber as l}from\"../../../../engine/webgl/definitions.js\";import{RotationType as s}from\"../../../../engine/webgl/shaderGraph/techniques/shaders/constants.js\";import{padStops as t,premultiplyColor as r}from\"./schemaUtils.js\";import{simplifyVisualVariables as n}from\"../../support/rendererUtils.js\";const u=1.25,o=128,c=128;function p(e){if(!e.stops?.length)return null;const a=e.stops.sort(((e,a)=>e.value-a.value)),i=t(a,8),l=i.map((({value:e})=>e)),s=i.map((({color:e})=>r(e)));return{values:l,colors:s}}function v(e){if(!e.stops?.length)return null;const a=e.stops.sort(((e,a)=>e.value-a.value)),i=t(a,8);return{opacityValues:i.map((({value:e})=>e)),opacities:i.map((({opacity:e})=>e))}}function V(e){return{rotationType:\"geographic\"===e.rotationType?s.Geographic:s.Arithmatic}}function f(a){if(!a.stops?.length)return null;if(a.stops.some((e=>e.useMaxValue||e.useMinValue)))return(i,s)=>{const r=i.statisticsByLevel.get(s.key.level),n=a.stops.map((i=>({value:i.useMaxValue?r?.get(a.field)?.maxValue??0:i.useMinValue?r?.get(a.field)?.minValue??0:i.value,size:i.size?e(i.size):l}))).sort(((e,a)=>e.value-a.value)),u=t(n,8);return{values:u.map((({value:e})=>e)),sizes:u.map((({size:e})=>e))}};const i=a.stops.sort(((e,a)=>e.value-a.value)),s=t(i,8);return{values:s.map((({value:e})=>e)),sizes:s.map((({size:a})=>e(a)))}}function m(a){if(!a.stops?.length)return null;const i=a.stops.sort(((e,a)=>e.value-a.value)),l=t(i,8);return{values:l.map((({value:e})=>e)),sizes:l.map((({size:a})=>e(a)))}}function S(e){return l=>{const{state:s}=l;return{unitValueToPixelsRatio:a(s.spatialReference)/i[e.valueUnit??\"meters\"]/s.resolution}}}function b(e,a){const i=a.length;if(e<a[0].value||1===i)return a[0].size;for(let l=1;l<i;l++)if(e<a[l].value){const i=(e-a[l-1].value)/(a[l].value-a[l-1].value);return a[l-1].size+i*(a[l].size-a[l-1].size)}return a[i-1].size}function z(a){const{minDataValue:i,maxDataValue:l,minSize:s,maxSize:t}=a;if(\"object\"==typeof s&&\"object\"==typeof t)return(a,r)=>{const n=a.state.scale,u=e(b(n,s.stops)),o=e(b(n,t.stops));return{minMaxValueAndSize:[i,l,u,o]}};if(\"object\"==typeof s||\"object\"==typeof t)throw new Error(\"InternalError: Found a partial VisualVariableSizeMinMaxValue\");return{minMaxValueAndSize:[i,l,e(s),e(t)]}}const x={visualVariableColor:null,visualVariableOpacity:null,visualVariableRotation:null,visualVariableSizeStops:null,visualVariableSizeScaleStops:null,visualVariableSizeOutlineScaleStops:null,visualVariableSizeUnitValue:null,visualVariableSizeMinMaxValue:null};function h(e,a=c,i=u){if(e.visualVariableSizeMinMaxValue)return e.visualVariableSizeMinMaxValue instanceof Function?o:Math.max(e.visualVariableSizeMinMaxValue.minMaxValueAndSize[3]*i,a);if(e.visualVariableSizeScaleStops){if(e.visualVariableSizeScaleStops instanceof Function)return o;const l=e.visualVariableSizeScaleStops.sizes;return Math.max(l[l.length-1]*i,a)}if(e.visualVariableSizeStops){if(e.visualVariableSizeStops instanceof Function)return o;const l=e.visualVariableSizeStops.sizes;return Math.max(l[l.length-1]*i,a)}return e.visualVariableSizeUnitValue?2*o:0}function M(e){const a={...x};if(!e||!(\"visualVariables\"in e)||!e.visualVariables)return a;for(const i of n(e.visualVariables))switch(i.type){case\"color\":a.visualVariableColor=p(i);break;case\"opacity\":a.visualVariableOpacity=v(i);break;case\"rotation\":a.visualVariableRotation=V(i);break;case\"size\":switch(y(i)){case\"field-stops\":a.visualVariableSizeStops=f(i);break;case\"scale-stops\":\"outline\"===i.target?a.visualVariableSizeOutlineScaleStops=f(i):a.visualVariableSizeScaleStops=f(i);break;case\"min-max\":a.visualVariableSizeMinMaxValue=z(i);break;case\"unit-value\":a.visualVariableSizeUnitValue=S(i)}break}return a}function y(e){return\"number\"==typeof e.minDataValue&&\"number\"==typeof e.maxDataValue&&null!=e.minSize&&null!=e.maxSize?\"min-max\":\"$view.scale\"===e?.valueExpression&&Array.isArray(e.stops)?\"scale-stops\":null==e.field&&\"$view.scale\"===e?.valueExpression||!(Array.isArray(e.stops)||\"levels\"in e&&e.levels)?null!=e.field||\"$view.scale\"!==e?.valueExpression?\"unit-value\":null:\"field-stops\"}export{p as createVisualVariableColor,v as createVisualVariableOpacity,V as createVisualVariableRotation,z as createVisualVariableSizeMinMaxValue,m as createVisualVariableSizeScaleStops,f as createVisualVariableSizeStops,S as createVisualVariableSizeUnitValue,M as createVisualVariableUniforms,h as getMaxSizeVVSize,x as noVisualVariables};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction a(a){return!!(a.visualVariableSizeMinMaxValue||a.visualVariableSizeScaleStops||a.visualVariableSizeStops||a.visualVariableSizeUnitValue||a.visualVariableSizeOutlineScaleStops)}function i(a){return!!a.visualVariableRotation}export{i as hasRotationVVUniform,a as hasSizeVVUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{CIMSymbolHelper as e}from\"../../../../../../../symbols/cim/CIMSymbolHelper.js\";import{defaultCIMValues as a}from\"../../../../../../../symbols/cim/defaultCIMValues.js\";import{Alignment as i}from\"../../../../../../../symbols/cim/enums.js\";import{Techniques as l}from\"../../../../../engine/webgl/shaderGraph/techniques/TechniqueRegistry.js\";import{noVisualVariables as o,getMaxSizeVVSize as r}from\"../VisualVariablesSchema.js\";import{hasSizeVVUniform as t}from\"./utils.js\";function n(e){return e.minScale||e.maxScale?{minScale:e.minScale??0,maxScale:e.maxScale??0}:null}function s(e){if(null==e)return null;if(Array.isArray(e)){const[a,i,l,o]=e;return[a,i,l,255*o]}return\"string\"==typeof e?e:{...e,defaultValue:s(e?.defaultValue)}}async function c(a,i){const{cimResourceManager:l,cimAnalyzer:o,scaleExpression:r}=i.schemaOptions;await Promise.all(e.fetchResources(a.symbol,l,[]));const t=o.analyzeSymbolReference(a,!1),s={scaleInfo:n(a),scaleExpression:r},c=[];for(const e of t)switch(e.type){case\"marker\":c.push(...f(e,i,s));break;case\"fill\":c.push(...b(e,i,s));break;case\"line\":c.push(...z(e,i,s));break;case\"text\":c.push(...d(e,i,s))}return c}function f(e,a,i){const{uniforms:r,schemaOptions:t}=a,{store:n}=t,s=e.isOutline?{...o,visualVariableSizeScaleStops:r.visualVariableSizeOutlineScaleStops}:{visualVariableColor:r.visualVariableColor,visualVariableOpacity:r.visualVariableOpacity,visualVariableSizeMinMaxValue:r.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:r.visualVariableSizeScaleStops,visualVariableSizeStops:r.visualVariableSizeStops,visualVariableSizeUnitValue:r.visualVariableSizeUnitValue,visualVariableRotation:r.visualVariableRotation};if(e.animationParams){return u(n.ensureInstance(l.animatedMarker,{uniforms:s,optionalAttributes:{zoomRange:!0}}),e,o,i)}return m(n.ensureInstance(l.marker,{uniforms:s,optionalAttributes:{zoomRange:!!i.scaleInfo}}),e,r,i)}function u(e,a,l,o){if(!a.animationParams)return[];return[e.createMeshInfo({pixelDimensions:a.pixelDimensions,texelDimensions:a.texelDimensions,effects:a.effects?{type:\"cim-effect-infos\",effectInfos:a.effects}:null,sprite:a.spriteRasterizationParam,animations:a.animationParams,scaleInfo:o.scaleInfo,scaleSymbolsProportionally:a.scaleSymbolsProportionally,strokeWidth:a.outlineWidth,isMapAligned:a.alignment===i.MAP,colorLocked:a.colorLocked,isStroke:a.isStroke,baseSize:a.baseSize,referenceSize:a.referenceSize,angleToLine:!!a.markerPlacement&&(a.markerPlacement.placement&&\"angleToLine\"in a.markerPlacement.placement&&a.markerPlacement.placement.angleToLine),sizeRatio:a.sizeRatio})]}function m(e,i,l,{scaleInfo:o,scaleExpression:n}){const c=t(l);return[e.createMeshInfo({size:i.size,scaleX:i.scaleX,anchorX:i.anchorPoint.x,anchorY:i.anchorPoint.y,angle:i.rotation,color:s(i.color)??[0,0,0,0],colorLocked:i.colorLocked,frameHeight:i.frameHeight,widthRatio:i.widthRatio,scaleInfo:o,offsetX:i.offsetX,offsetY:i.offsetY,outlineColor:s(i.outlineColor)??[0,0,0,0],outlineSize:i.outlineWidth,referenceSize:i.referenceSize||a.CIMVectorMarker.size,rotateClockwise:i.rotateClockwise,scaleFactor:n??1,sizeRatio:i.sizeRatio,alignment:i.alignment,isAbsoluteAnchorPoint:i.isAbsoluteAnchorPoint,scaleSymbolsProportionally:i.scaleSymbolsProportionally,sprite:i.spriteRasterizationParam,hasSizeVV:c,placement:i.markerPlacement,effects:i.effects?{type:\"cim-effect-infos\",effectInfos:i.effects}:null,transforms:i.transform,minPixelBuffer:r(l)})]}function p(e,a,i){const{uniforms:o,schemaOptions:r}=a,{store:t}=r;return S(t.ensureInstance(l.fill,{uniforms:{visualVariableColor:e.colorLocked?null:o.visualVariableColor,visualVariableOpacity:o.visualVariableOpacity},optionalAttributes:{zoomRange:!!i.scaleInfo}}),e,i)}function S(e,a,{scaleInfo:i}){return[e.createMeshInfo({color:s(a.color)??[0,0,0,0],scaleInfo:i,effects:a.effects?{type:\"cim-effect-infos\",effectInfos:a.effects}:null})]}function b(e,a,i){if(!e.spriteRasterizationParam)return p(e,a,i);const{uniforms:o,schemaOptions:r}=a,{store:t}=r;return V(t.ensureInstance(l.complexFill,{uniforms:{visualVariableColor:e.colorLocked?null:o.visualVariableColor,visualVariableOpacity:o.visualVariableOpacity},optionalAttributes:{zoomRange:!!i.scaleInfo}}),e,null!=o.visualVariableColor,i)}function V(e,a,i,{scaleInfo:l}){if(!a.spriteRasterizationParam)throw new Error(\"InternalError: Sprite should always be defined\");const o=!!a.hasUnresolvedReplacementColor&&(!i||a.colorLocked),r=a.sampleAlphaOnly&&!o,t=a.spriteRasterizationParam;return[e.createMeshInfo({color:s(a.color)??[0,0,0,0],height:a.height,aspectRatio:a.scaleX,offsetX:a.offsetX,offsetY:a.offsetY,scaleX:1,scaleY:1,angle:a.angle,applyRandomOffset:a.applyRandomOffset,sampleAlphaOnly:r,scaleProportionally:\"CIMHatchFill\"===t.resource.type,sprite:t,scaleInfo:l,effects:a.effects?{type:\"cim-effect-infos\",effectInfos:a.effects}:null})]}function z(e,a,i){const{uniforms:r,schemaOptions:t}=a,{store:n}=t,s=e.isOutline?{...o,visualVariableSizeScaleStops:r.visualVariableSizeOutlineScaleStops}:{visualVariableColor:e.colorLocked?null:r.visualVariableColor,visualVariableOpacity:r.visualVariableOpacity,visualVariableSizeMinMaxValue:r.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:r.visualVariableSizeScaleStops,visualVariableSizeStops:r.visualVariableSizeStops,visualVariableSizeUnitValue:r.visualVariableSizeUnitValue},c={uniforms:s,optionalAttributes:{zoomRange:!!i.scaleInfo}},f=!!(s.visualVariableSizeMinMaxValue||s.visualVariableSizeScaleStops||s.visualVariableSizeStops||s.visualVariableSizeUnitValue);if(!e.spriteRasterizationParam){return v(n.ensureInstance(l.line,c),e,f,i)}return y(n.ensureInstance(l.texturedLine,c),e,f,i)}function h(e,a,{scaleInfo:i}){return{color:s(e.color)??[0,0,0,0],width:e.width,referenceWidth:e.referenceWidth,capType:e.cap,joinType:e.join,miterLimit:e.miterLimit,scaleInfo:i,hasSizeVV:a,effects:e.effects?{type:\"cim-effect-infos\",effectInfos:e.effects}:null}}function v(e,a,i,l){if(a.spriteRasterizationParam)throw new Error(\"InternalError: Sprite should not be defined\");const o=h(a,i,l);return[e.createMeshInfo(o)]}function y(e,a,i,l){const{spriteRasterizationParam:o,scaleDash:r,sampleAlphaOnly:t}=a;if(!o)throw new Error(\"InternalError: Sprite should be defined\");return[e.createMeshInfo({...h(a,i,l),offsetAlongLine:a.offsetAlongLine??0,shouldScaleDash:r??!1,shouldSampleAlphaOnly:t,isSDF:\"CIMPictureStroke\"!==o.resource.type,sprite:o})]}function d(e,a,i){const{uniforms:o,schemaOptions:r}=a,{store:t}=r;return I(t.ensureInstance(l.text,{uniforms:{visualVariableColor:e.colorLocked?null:o.visualVariableColor,visualVariableOpacity:o.visualVariableOpacity,visualVariableRotation:o.visualVariableRotation,visualVariableSizeMinMaxValue:o.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:o.visualVariableSizeScaleStops,visualVariableSizeStops:o.visualVariableSizeStops,visualVariableSizeUnitValue:o.visualVariableSizeUnitValue},optionalAttributes:{zoomRange:!!i.scaleInfo,referenceSymbol:!1,clipAngle:!1}}),e,o,i)}function I(e,a,i,{scaleInfo:l,scaleExpression:o}){return[e.createMeshInfo({boxBackgroundColor:s(a.backgroundColor),boxBorderLineColor:s(a.borderLineColor),boxBorderLineSize:a.borderLineWidth??0,color:s(a.color)??[0,0,0,0],offsetX:a.offsetX,offsetY:a.offsetY,postAngle:a.angle,fontSize:a.size,referenceSize:a.referenceSize,decoration:a.decoration,haloColor:s(a.haloColor)??[0,0,0,0],haloSize:a.haloSize??0,outlineColor:s(a.outlineColor)??[0,0,0,0],outlineSize:a.outlineSize,lineWidth:a.lineWidth||512,lineHeightRatio:1,horizontalAlignment:a.horizontalAlignment??\"center\",verticalAlignment:a.verticalAlignment??\"baseline\",useCIMAngleBehavior:!1,glyphs:a.textRasterizationParam,scaleInfo:l,effects:a.effects?{type:\"cim-effect-infos\",effectInfos:a.effects}:null,placement:a.markerPlacement,transforms:a.transform,scaleFactor:o??1,minPixelBuffer:r(i),repeatLabel:null,repeatLabelDistance:null,allowOverrun:null,labelPosition:null})]}export{u as createAnimatedMarkerMeshInfos,V as createComplexFillMeshInfos,m as createComplexMarkerMeshInfos,S as createComplexSimpleFillMeshInfos,v as createComplexSimpleLineMeshInfos,c as createComplexSymbolInstances,I as createComplexTextMeshInfos,y as createComplexTexturedLineMeshInfos,n as getScaleInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../../../core/arrayUtils.js\";import{VVBinding as i}from\"../../../../engine/webgl/enums.js\";import{simplifyVisualVariables as n}from\"../../support/rendererUtils.js\";import{getWebGLCapabilities as r}from\"../../../../../webgl/capabilities.js\";function t(e,i){return{type:\"simple\",filters:i,capabilities:{maxTextureSize:r().maxTextureSize},bindings:a(e)}}function s(e){switch(e){case\"opacity\":return i.OPACITY;case\"color\":return i.COLOR;case\"rotation\":return i.ROTATION;case\"size\":return i.SIZE;default:return null}}function a(e){if(!e)return[];switch(e.type){case\"simple\":case\"class-breaks\":case\"unique-value\":case\"dictionary\":return c(e);case\"dot-density\":return o(e);case\"pie-chart\":return l(e);case\"heatmap\":return u(e)}}function o(e){const i=[];for(const n of e.attributes)i.push({binding:i.length,expression:n.valueExpression,field:n.field});return i}function l(e){const i=c(e);let n=4;for(const r of e.attributes)i.push({binding:n++,expression:r.valueExpression,field:r.field});return i}function u({valueExpression:e,field:i}){return e||i?[{binding:0,expression:e,field:i}]:[]}function c(i){if(!(\"visualVariables\"in i)||!i.visualVariables?.length)return[];return n(i.visualVariables).map((e=>x(e))).filter(e)}function p(e){return\"$view.scale\"===e.valueExpression?null:{binding:s(e.type),field:e.field,normalizationField:e.normalizationField,expression:e.valueExpression,valueRepresentation:e.valueRepresentation}}function f(e){return{binding:s(e.type),field:e.field,normalizationField:e.normalizationField,expression:e.valueExpression}}function d(e){return{binding:s(e.type),field:e.field,normalizationField:e.normalizationField,expression:e.valueExpression}}function m(e){return{binding:s(e.type),expression:e.valueExpression,field:e.field}}function x(e){switch(e.type){case\"size\":return p(e);case\"color\":return f(e);case\"opacity\":return d(e);case\"rotation\":return m(e)}}export{o as createDotDensityBindings,u as createHeatmapBindings,l as createPieChartBindings,t as createStorageSchema,c as createVVBindings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ignoreAbortErrors as e}from\"../../../../core/promiseUtils.js\";import{UpdateTracking2D as s}from\"./UpdateTracking2D.js\";import{QueueProcessor as r}from\"../../../support/QueueProcessor.js\";class t{constructor(e){this.updateTracking=new s({debugName:\"FeatureCommandQueue\"}),this._queueProcessor=new r({concurrency:1,process:e.process})}destroy(){this.updateTracking.destroy(),this._queueProcessor.destroy(),this.clear()}clear(){this._queueProcessor.clear()}async push(s){return e(this.updateTracking.addPromise(this._doPush(s)))}async _doPush(e){const s=this._queueProcessor,r=s.last();switch(e.type){case\"update\":case\"highlight\":if(r?.type===e.type)return;return s.push(e);case\"edit-by-id\":case\"edit-by-feature\":return s.push(e)}}}export{t as default};\n"],"names":["e","has","t","o","t$4","s","T","N","i$2","i","n","r","a","d","u","c","f","l","p","h","o$4","m","d$5","g","A","w","V","b","L","x","U","j","R","y","S","v","z","_","E","I","C","M","P","D","F","O","W$1","W","B","G","H$1","k","q","H","u$7","s$3","z$2","F$2","b$5","V$2","F$1","_$1","f$7","m$9","m$8","u$6","l$3","m$7","m$6","l$2","x$3","g$2","f$5","w$2","p$7","K","Q","X","Y$1","Y","$$1","tt$1","Z","J","tt","$","d$3","p$6","p$5","et","u$5","o$2","u$4","h$2","m$3"],"mappings":";;;;;;;;;;;;;;;;;;AAImC,MAAMA,GAAC;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAmBC,GAAI,mCAAmC,MAApD;AAAA,EAAqD;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAiBA,GAAI,mCAAmC,MAAlD;AAAA,EAAmD;AAAA,EAAC,IAAI,mBAAkB;AAAgD,WAAvCA,GAAI,iCAAiC,KAAY;AAAA,EAAE;AAAA,EAAC,IAAI,2BAA0B;AAAC,WAAM,CAAC,CAACA,GAAI,+BAA+B;AAAA,EAAC;AAAA,EAAC,IAAI,wBAAuB;AAAC,WAAWA,GAAI,iCAAiC,MAA1C;AAAA,EAA2C;AAAC;AAAM,MAACC,KAAE,IAAIF;ACAzc,SAASG,GAAEA,GAAE;AAAC,SAAOA,EAAE;AAAY;AAAM,MAACD,KAAE,EAAC,OAAM,EAAC,OAAM,CAAC,IAAG,IAAG,IAAG,EAAE,GAAE,WAAU,YAAW,GAAE,OAAM,IAAG,SAAQ,GAAE;ACApE,IAAAE,KAAA,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,YAAUC,GAAE,MAAIA,GAAE,UAAQA,GAAE,YAAUA,GAAE;AAAA,EAAK;AAAA,EAAC,UAAS;AAAA,EAAE;AAAA,EAAA,SAASA,GAAE;AAAA,EAAE;AAAA;ACAzF,MAAMC,KAAE,EAAC,CAACC,GAAE,IAAI,GAAE,GAAE,CAACA,GAAE,aAAa,GAAE,GAAE,CAACA,GAAE,KAAK,GAAE,GAAE,CAACA,GAAE,cAAc,GAAE,GAAE,CAACA,GAAE,UAAU,GAAE,GAAE,CAACA,GAAE,GAAG,GAAE,GAAE,CAACA,GAAE,YAAY,GAAE,GAAE,CAACA,GAAE,KAAK,GAAE,EAAC;ACA+J,IAAAC,KAAA,MAAO;AAAA,EAAC,YAAYN,GAAEO,GAAE;AAAC,SAAK,aAAW,MAAK,KAAK,gBAAc,oBAAI;AAAI,eAAS,CAACJ,GAAEK,CAAC,KAAI,OAAO,QAAQD,EAAE,MAAM,GAAE;AAAC,YAAMN,IAAEH,GAAE,aAAaE,GAAES,GAAE,aAAYD,CAAC;AAAE,WAAK,cAAc,IAAIL,GAAEF,CAAC;AAAA,IAAC;AAAC,UAAMS,IAAE,oBAAI;AAAI,eAAS,CAACP,GAAEK,CAAC,KAAI,OAAO,QAAQD,EAAE,SAAO,CAAE,CAAA,GAAE;AAAC,YAAMN,IAAEH,GAAE,YAAYE,GAAES,GAAE,aAAYD,CAAC;AAAE,MAAAE,EAAE,IAAIP,GAAEF,CAAC;AAAA,IAAC;AAAC,SAAK,SAAO,CAAA;AAAG,eAAUH,KAAKS,EAAE,QAAO;AAAC,UAAI;AAAE,UAAST,EAAE,SAAR,MAAc;AAAC,YAAG,CAACS,EAAE,QAAQT,EAAE,KAAK,EAAE,OAAM,IAAI,MAAM,gBAAgB;AAAE,cAAK,EAAC,mBAAkBE,EAAC,IAAEO,EAAE,MAAMT,EAAE,KAAK;AAAE,QAAIE,MAAJ,IAAM,IAAEG,GAAE,iBAAmBH,MAAJ,MAAQ,IAAEG,GAAE;AAAA,MAAa;AAAC,YAAMQ,IAAQb,EAAE,SAAR,OAAcY,EAAE,IAAIZ,EAAE,KAAK,IAAE,MAAKc,IAAE,oBAAI,OAAIC,IAAE,oBAAI;AAAI,iBAAUb,KAAKF,EAAE,YAAW;AAAC,cAAK,EAAC,MAAKA,GAAE,OAAMW,GAAE,MAAKN,GAAE,QAAOK,GAAE,YAAWD,GAAE,SAAQG,GAAE,QAAOC,GAAE,QAAOG,GAAE,UAASC,EAAC,IAAEf;AAAE,YAAIgB,IAAEH,EAAE,IAAIC,CAAC;AAAE,QAAAE,MAAIA,IAAE,CAAA,GAAGH,EAAE,IAAIC,GAAEE,CAAC;AAAG,cAAMC,IAAE,IAAIhB,GAAEH,GAAEW,GAAEN,GAAEK,GAAEG,GAAEJ,GAAEG,CAAC;AAAE,QAAAM,EAAE,KAAKC,CAAC,GAAEL,EAAE,IAAId,GAAEiB,CAAC;AAAA,MAAC;AAAC,YAAMD,IAAE,IAAIN,GAAER,GAAEY,GAAEC,GAAE,KAAK,eAAcF,CAAC;AAAE,WAAK,OAAO,KAAK,EAAC,GAAGb,GAAE,aAAYgB,GAAE,WAAUF,GAAE,QAAOC,GAAE,UAAS,EAAC,CAAC;AAAA,IAAC;AAAC,SAAK,QAAMN,EAAE;AAAA,EAAK;AAAA,EAAC,KAAKP,GAAEF,GAAE;AAAC,SAAK,aAAWA;AAAE,UAAK,EAAC,OAAMW,EAAC,IAAE,KAAK,MAAM,KAAK,UAAU,GAAE,EAAC,aAAYN,EAAC,IAAE,KAAK,OAAOM,CAAC;AAAE,IAAAT,EAAE,QAAQG,CAAC;AAAA,EAAC;AAAA,EAAC,KAAK,GAAE;AAAC,QAAS,KAAK,cAAX,KAAsB,OAAM,IAAI,MAAM,kCAAkC;AAAE,UAAK,EAAC,OAAMM,GAAE,OAAMN,EAAC,IAAE,KAAK,MAAM,KAAK,UAAU,GAAE,EAAC,OAAMK,EAAC,IAAE,KAAK,MAAM,KAAK,UAAU,GAAE,EAAC,UAASP,GAAE,WAAUM,EAAC,IAAE,KAAK,OAAOC,CAAC;AAAE,IAAAP,IAAE,EAAE,aAAaM,GAAEJ,GAAEF,GAAEQ,IAAET,GAAEC,CAAC,CAAC,IAAE,EAAE,WAAWM,GAAEE,GAAEN,CAAC;AAAA,EAAC;AAAA,EAAC,OAAOH,GAAE;AAAC,SAAK,aAAW,MAAKA,EAAE,QAAQ,IAAI;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,eAAS,EAAC,aAAYA,EAAC,KAAI,KAAK,OAAO,CAAAA,EAAE;EAAS;AAAC;ACAvjD,MAAMQ,KAAE,EAAC,UAAS,EAAC,MAAKD,GAAE,OAAM,OAAM,EAAC,EAAC;AAAE,IAAAW,KAAA,MAAMjB,WAAUH,GAAC;AAAA,EAAC,OAAO,OAAO,GAAES,GAAEE,GAAE;AAAC,UAAMD,IAAE,CAAE;AAAC,QAAG,EAAC,QAAOL,EAAC,IAAEI;AAAE,QAASJ,KAAN,MAAQ;AAAC,MAAAA,IAAE;AAAE,iBAAS,CAACL,GAAE,EAAC,OAAMW,GAAE,MAAKD,GAAE,QAAOP,EAAC,CAAC,KAAI,OAAO,QAAQM,EAAE,MAAM,GAAE;AAAC,YAASN,KAAN,KAAQ,OAAM,IAAI,MAAM,yFAAyF;AAAE,QAAAE,KAAGM,IAAET,GAAEQ,CAAC;AAAA,MAAC;AAAA,IAAC;AAAC,QAAI,IAAE;AAAE,eAAS,CAACP,GAAE,EAAC,OAAM,GAAE,QAAOU,GAAE,MAAKQ,GAAE,YAAW,EAAC,CAAC,KAAI,OAAO,QAAQZ,EAAE,MAAM,GAAE;AAAC,MAAMI,KAAN,SAAU,IAAEA;AAAG,YAAMb,IAAEW,EAAE,IAAIR,CAAC;AAAE,UAASH,KAAN,KAAQ,OAAM,IAAI,MAAM,qDAAqD;AAAE,YAAMS,IAAE,EAAC,MAAKN,GAAE,UAASH,GAAE,QAAO,cAAa,OAAM,GAAE,MAAKqB,GAAE,QAAO,GAAE,QAAOhB,GAAE,SAAQ,GAAE,YAAiB,KAAN,QAAS,EAAC;AAAE,MAAAK,EAAE,KAAKD,CAAC,GAAE,KAAG,IAAEP,GAAEmB,CAAC;AAAA,IAAC;AAAC,UAAM,IAAE,EAAC,YAAWX,GAAE,WAAUD,EAAE,UAAS;AAAE,IAAMA,EAAE,SAAR,SAAgB,EAAE,QAAM;AAAa,QAAG,EAAC,OAAM,EAAC,IAAEA;AAAE,QAAS,KAAN,SAAU,IAAEA,EAAE,QAAMA,EAAE,MAAM,SAAOA,EAAE,OAAO,aAAWJ,GAAE,KAAK,MAAM,CAAC,MAAI,GAAG,OAAM,IAAI,MAAM,oFAAoFA,CAAC,GAAG;AAAE,UAAMU,IAAE,EAAC,OAAM,GAAE,OAAM,GAAE,OAAM,GAAE,WAAUN,EAAE,UAAS,GAAES,IAAE,EAAC,QAAO,EAAC,YAAWT,EAAE,OAAM,GAAE,OAAM,CAACM,CAAC,GAAE,QAAO,CAAC,CAAC,EAAC;AAAE,WAAaN,EAAE,SAAR,SAAgBS,EAAE,QAAM,EAAC,WAAUT,EAAE,MAAK,IAAG,IAAIN,GAAE,GAAEe,GAAET,EAAE,MAAM;AAAA,EAAC;AAAA,EAAC,OAAO,iBAAiBP,GAAEF,GAAE;AAAC,WAAOG,GAAE,OAAOD,GAAE,EAAC,WAAUS,GAAE,gBAAe,QAAO,IAAI,YAAYX,CAAC,GAAE,QAAOU,GAAC,GAAE,oBAAI,IAAI,CAAC,CAAC,YAAW,CAAC,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,YAAYR,GAAEF,GAAE,GAAE;AAAC,UAAME,GAAEF,CAAC,GAAE,KAAK,QAAM;AAAA,EAAC;AAAA,EAAC,KAAKE,GAAEF,IAAE,GAAE;AAAC,UAAM,KAAKE,GAAEF,CAAC;AAAA,EAAC;AAAC,GCA1vCsB,KAAA,cAAgBpB,GAAC;AAAA;AAAEC,EAAE,CAACH,EAAEkB,CAAC,CAAC,GAAEL,GAAE,WAAU,cAAa,MAAM,GAAEV,EAAE,CAACH,EAAES,CAAC,CAAC,GAAEI,GAAE,WAAU,wBAAuB,MAAM,GAAEV,EAAE,CAACH,EAAEW,CAAC,CAAC,GAAEE,GAAE,WAAU,oBAAmB,MAAM,GAAEV,EAAE,CAACH,EAAEY,CAAC,CAAC,GAAEC,GAAE,WAAU,YAAW,MAAM,GAAEV,EAAE,CAACH,EAAEY,CAAC,CAAC,GAAEC,GAAE,WAAU,SAAQ,MAAM,GAAEV,EAAE,CAACH,EAAEkB,CAAC,CAAC,GAAEL,GAAE,WAAU,eAAc,MAAM,GAAEV,EAAE,CAACH,EAAEkB,CAAC,CAAC,GAAEL,GAAE,WAAU,cAAa,MAAM;SCAvM,cAAgBb,GAAC;AAAA,EAAC,kBAAkBE,GAAE;AAAC,WAAOC,EAAEoB,GAAErB,CAAC,GAAEG,GAAE,SAAQ,GAAI,MAAI;AAAC,YAAML,IAAE,KAAK,mBAAmBE,CAAC,EAAE,SAASgB,EAAC,GAAEP,IAAEF,GAAET,CAAC,GAAE,IAAEU,GAAEV,CAAC;AAAE,aAAO,IAAIK,GAAE,GAAEM,GAAE,GAAE,GAAEA,EAAE,SAAS,IAAIM,EAAE,EAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC;AAAA,IAAC,CAAC;AAAA,EAAE;AAAA,EAAC,kBAAkBf,GAAE;AAAC,WAAOC,EAAEoB,GAAErB,CAAC,GAAEmB,EAAE,SAAQ,GAAI,MAAI;AAAC,YAAMrB,IAAE,KAAK,mBAAmBE,CAAC,EAAE,SAASgB,EAAC,GAAEP,IAAEF,GAAET,CAAC,GAAE,IAAEU,GAAEV,CAAC;AAAE,aAAO,IAAIqB,EAAE,GAAEV,GAAE,GAAEA,EAAE,SAAS,IAAIM,EAAE,EAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC;AAAA,IAAC,CAAC;AAAA,EAAE;AAAA,EAAC,mBAAmBf,GAAE;AAAC,UAAMF,IAAEY,GAAE,KAAK,cAAa,IAAIK,EAAEH,GAAE,UAAU,CAAC;AAAE,WAAOX,EAAEH,GAAE,IAAIiB,EAAE,EAAE,EAAE,SAASf,CAAC,GAAEA,CAAC;AAAA,EAAC;AAAC;AAACA,EAAE,CAACS,EAAEM,CAAC,CAAC,GAAEJ,GAAE,WAAU,gBAAe,MAAM;ACA6nB,MAAMW,WAAUC,GAAC;AAAA;AAAEhB,EAAE,CAACT,EAAE,GAAE0B,CAAC,CAAC,GAAEF,GAAE,WAAU,+CAA8C,MAAM,GAAEf,EAAE,CAACT,EAAE,GAAE2B,CAAC,CAAC,GAAEH,GAAE,WAAU,aAAY,MAAM;AAAE,MAAMI,WAAUC,GAAC;AAAE;AAAA,MAAMC,WAAUC,GAAC;AAAA,EAAC,mBAAmBtB,GAAE;AAAC,UAAK,EAAC,KAAI,GAAE,aAAYN,GAAE,UAASH,GAAE,OAAM,GAAE,QAAO,GAAE,IAAGkB,GAAE,SAAQL,EAAC,IAAEJ,GAAEM,IAAEiB,GAAE,MAAKd,CAAC,EAAE,SAAS,KAAK,KAAG,GAAG,GAAEe,IAAE9B,EAAE,EAAE,SAAS,IAAE,CAAC,GAAEa,IAAEb,EAAE,EAAE,SAAS,EAAE,EAAE,SAAS,IAAE,CAAC,GAAEgB,IAAEd,GAAEL,EAAE,SAASe,CAAC,CAAC,GAAEmB,IAAEjB,GAAEjB,EAAE,SAASe,CAAC,CAAC,GAAEY,IAAE,IAAIjB,EAAE,CAAC,GAAEa,IAAE,IAAIb,EAAE,CAAC,GAAE,EAAC,YAAWgB,EAAC,IAAE,KAAK,eAAcS,IAAE,IAAId,EAAEE,GAAEI,GAAEA,GAAEA,GAAEJ,GAAEI,GAAEM,EAAE,SAASP,CAAC,GAAEV,EAAE,SAASU,CAAC,GAAEH,CAAC,GAAEE,IAAE,IAAIJ,EAAEa,GAAEf,EAAE,SAAS,EAAE,GAAEQ,GAAER,GAAEe,GAAEP,GAAE,GAAE,GAAEJ,CAAC,GAAEM,IAAE,EAAE,SAAShB,CAAC,EAAE,SAASa,CAAC,EAAE,SAAS,IAAE,CAAC,GAAEK,IAAEN,EAAE,SAASI,CAAC,GAAEO,IAAE,KAAK,cAAc,SAAS,SAAS,IAAItB,EAAE,GAAE,CAAC,CAAC,GAAER,IAAE6B,EAAE,SAASC,CAAC,EAAE,IAAGC,IAAEN,EAAE,SAAS,IAAIjB,EAAE,GAAE,CAAC,CAAC,EAAE;AAAG,WAAOR,EAAE,IAAI+B,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM5B,GAAEN,GAAE;AAAC,QAAIH,IAAE,MAAM,KAAKS,GAAEN,CAAC;AAAE,UAAMQ,IAAEO,GAAE,KAAK,oBAAoBT,CAAC,GAAE,IAAIC,EAAE,CAAC,CAAC;AAAE,WAAOR,GAAE,0BAAwBF,IAAEA,EAAE,IAAIa,GAAE,CAACF,GAAE,MAAI,IAAID,EAAE,CAAC,CAAC,GAAE,CAAC,IAAG,MAAI,IAAIA,EAAE,CAAC,CAAC,CAAC,CAAC,IAAGV;AAAA,EAAC;AAAA,EAAC,oBAAoBS,GAAE;AAAC,WAAO,KAAK,QAAQ,mBAAmBA,CAAC;AAAA,EAAC;AAAA,EAAC,OAAOA,GAAE;AAAC,WAAO,KAAK,cAAc,MAAM,SAAS,IAAIK,EAAEL,GAAE,CAAC,CAAC,EAAE;AAAA,EAAE;AAAA,EAAC,eAAeA,GAAE,GAAE;AAAC,UAAK,EAAC,YAAWN,GAAE,sBAAqBH,GAAE,kBAAiB,EAAC,IAAE,KAAK;AAAc,WAAM,EAAC,YAAWG,GAAE,iBAAgB,KAAK,oBAAoBM,EAAE,EAAE,GAAE,sBAAqBT,GAAE,kBAAiB,GAAE,iBAAgB,EAAC;AAAA,EAAC;AAAA,EAAC,UAAUS,GAAE,GAAE;AAAC,WAAOM,EAAEkB,GAAE,EAAE,OAAM,IAAIvB,EAAE,CAAC,CAAC,GAAE,KAAK,aAAaD,GAAE,CAAC,GAAE,KAAK,gBAAgBA,GAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBA,GAAE,GAAE;AAAC,WAAOO,EAAE,KAAK,WAAW,SAAQP,CAAC,EAAE,SAAS,EAAE,KAAK;AAAA,EAAC;AAAA,EAAC,aAAaA,GAAE,GAAE;AAAC,UAAMN,IAAEa,EAAE,KAAK,WAAW,SAAQP,CAAC,GAAET,IAAE,IAAIU,EAAE,GAAE,EAAE,SAAS2B,GAAElC,CAAC,CAAC,EAAE,SAAS,EAAE,YAAY,EAAE,SAASiC,EAAC,GAAE,IAAEjB,GAAE,IAAIT,EAAE,GAAE,EAAE,SAASV,CAAC,GAAE,IAAIU,EAAE,CAAC,GAAE,IAAIA,EAAE,CAAC,CAAC,GAAE,IAAE,EAAE,MAAM,SAAS,CAAC,GAAEL,IAAE,EAAE,YAAY,SAAS,GAAE,GAAEY,IAAEiB,GAAElC,CAAC,EAAE,SAASK,CAAC,GAAE,IAAEc,GAAE,IAAIT,EAAE,GAAE,EAAE,SAASO,CAAC,GAAE,IAAIP,EAAE,CAAC,GAAE,IAAIA,EAAE,CAAC,CAAC,GAAEI,IAAE,EAAE,aAAa,SAAS,CAAC;AAAE,WAAO,IAAIJ,EAAE,CAAC,EAAE,SAASI,EAAE,CAAC,EAAE,SAAS,CAAC,EAAE,IAAIA,CAAC;AAAA,EAAC;AAAC;AAAC,SAASwB,GAAE7B,GAAEP,GAAEF,GAAE;AAAC,QAAMW,IAAEF,EAAE,IAAI,IAAIkB,EAAEzB,GAAE,CAAC,CAAC,GAAEU,IAAEI,EAAEhB,EAAE,kBAAiBW,EAAE,IAAI,GAAE,EAAE,OAAOX,EAAE,oBAAoB,CAAC,EAAE;AAAG,SAAOS,IAAEA,EAAE,IAAIG,CAAC,GAAEW,GAAE,EAAC,kBAAiBd,GAAE,GAAGT,EAAC,GAAE0B,GAAE,MAAM,CAAAjB,MAAG;AAAC,UAAK,EAAC,KAAIP,EAAC,IAAEO;AAAE,QAAG,CAACP,EAAE,OAAM,IAAI,MAAM,aAAa;AAAE,WAAOC,GAAE,EAAC,GAAGM,GAAE,KAAIP,EAAC,CAAC;AAAA,EAAC,CAAG;AAAA;AAACO,EAAE,CAACE,EAAEL,EAAC,CAAC,GAAEwB,GAAE,WAAU,cAAa,MAAM,GAAErB,EAAE,CAACE,EAAEwB,EAAC,CAAC,GAAEL,GAAE,WAAU,iBAAgB,MAAM,GAAErB,EAAE,CAACG,EAAE2B,EAAC,CAAC,GAAET,GAAE,WAAU,uBAAsB,MAAM,GAAErB,EAAE,CAACG,EAAE4B,EAAC,CAAC,GAAEV,GAAE,WAAU,yBAAwB,MAAM,GAAErB,EAAE,CAACG,EAAE6B,EAAC,CAAC,GAAEX,GAAE,WAAU,iCAAgC,MAAM,GAAErB,EAAE,CAACG,EAAE8B,EAAC,CAAC,GAAEZ,GAAE,WAAU,gCAA+B,MAAM,GAAErB,EAAE,CAACG,EAAE+B,EAAC,CAAC,GAAEb,GAAE,WAAU,2BAA0B,MAAM,GAAErB,EAAE,CAACG,EAAEgC,EAAC,CAAC,GAAEd,GAAE,WAAU,+BAA8B,MAAM,GAAErB,EAAE,CAACG,EAAEiC,EAAC,CAAC,GAAEf,GAAE,WAAU,0BAAyB,MAAM;ACA/4H,IAAI3B;AAAAA,CAAG,SAASA,GAAE;AAAC,EAAAA,EAAEA,EAAE,YAAU,CAAC,IAAE,aAAYA,EAAEA,EAAE,YAAU,CAAC,IAAE,aAAYA,EAAEA,EAAE,UAAQ,CAAC,IAAE,WAAUA,EAAEA,EAAE,WAAS,CAAC,IAAE,YAAWA,EAAEA,EAAE,YAAU,CAAC,IAAE,aAAYA,EAAEA,EAAE,aAAW,CAAC,IAAE;AAAY,GAAEA,OAAIA,KAAE,CAAA,EAAG;ACA42B,IAAA2C,KAAA,cAAgBT,GAAC;AAAA;AAAEnC,EAAE,CAACG,EAAE,GAAEkB,CAAC,CAAC,GAAEwB,GAAE,WAAU,UAAS,MAAM,GAAE7C,EAAE,CAACG,EAAE,GAAEkB,CAAC,CAAC,GAAEwB,GAAE,WAAU,MAAK,MAAM,GAAE7C,EAAE,CAACG,EAAE,GAAEa,CAAC,CAAC,GAAE6B,GAAE,WAAU,UAAS,MAAM,GAAE7C,EAAE,CAACG,EAAE,GAAEO,CAAC,CAAC,GAAEmC,GAAE,WAAU,SAAQ,MAAM;AAAE,MAAMC,WAAU7C,GAAC;;AAAED,EAAE,CAACG,EAAE,IAAGkB,CAAC,CAAC,GAAEyB,GAAE,WAAU,qBAAoB,MAAM,GAAE9C,EAAE,CAACG,EAAE,IAAGkB,CAAC,CAAC,GAAEyB,GAAE,WAAU,qBAAoB,MAAM,GAAE9C,EAAE,CAACG,EAAE,IAAGkB,CAAC,CAAC,GAAEyB,GAAE,WAAU,wBAAuB,MAAM,GAAE9C,EAAE,CAACG,EAAE,IAAGkB,CAAC,CAAC,GAAEyB,GAAE,WAAU,wBAAuB,MAAM;AAAE,MAAMV,WAAUZ,GAAC;;AAAE,SAASuB,GAAE/C,GAAE,GAAEO,GAAEJ,GAAE;AAAC,SAAO,EAAE,SAASH,EAAE,CAAC,EAAE,IAAIO,EAAE,SAASP,EAAE,CAAC,CAAC,EAAE,IAAIG,EAAE,SAASH,EAAE,CAAC,CAAC;AAAC;AAAA,IAAAgD,KAAC,cAAgBV,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,oBAAkB,EAAC,QAAO,CAAC,qBAAoB,mBAAmB,GAAE,IAAG,CAAC,wBAAuB,sBAAsB,EAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBtC,GAAE;AAAC,UAAK,EAAC,IAAGF,GAAE,KAAI,GAAE,QAAOK,GAAE,6CAA4CF,GAAE,IAAGQ,GAAE,QAAOO,GAAE,OAAMC,EAAC,IAAEjB,GAAEa,IAAEZ,EAAE,IAAG0B,IAAE1B,EAAE,GAAE8B,IAAE9B,EAAE,GAAEgC,IAAEjB,EAAE,IAAGF,IAAEE,EAAE,GAAEO,IAAEnB,EAAEJ,EAAE,QAAOiD,GAAE,OAAO,QAAQ,GAAExB,IAAET,EAAE,GAAEgB,IAAE5B,EAAEJ,EAAE,QAAOiD,GAAE,OAAO,0BAA0B,GAAE,IAAE,KAAK,eAAejD,GAAEiC,CAAC,GAAEC,IAAE7B,GAAEQ,GAAE0B,GAAE,WAAU,CAAC,GAAEC,IAAEzB,GAAE,CAACP,GAAEJ,EAAEJ,EAAE,QAAOiD,GAAE,OAAO,YAAY,GAAE,IAAIvC,EAAE,CAAC,CAAC,GAAE,KAAK,KAAK,SAAS,OAAO,GAAG,EAAE,SAAS,KAAK,EAAE,CAAC,GAAE,CAAC,IAAG,IAAIA,EAAE,CAAC,CAAC,CAAC,GAAEyB,IAAE,IAAIxB,GAAEQ,GAAEqB,CAAC,GAAE5B,GAAE4B,EAAE,SAAS,EAAE,CAAC,GAAE5B,GAAE4B,CAAC,GAAErB,GAAEqB,CAAC,CAAC,EAAE,SAASN,EAAE,EAAE,GAAEV,IAAEU,EAAE,EAAE,SAASM,CAAC,EAAE,SAASvB,EAAE,SAASwB,EAAC,CAAC,GAAEH,IAAEJ,EAAE,GAAEL,IAAEzB,EAAEJ,EAAE,QAAOiD,GAAE,OAAO,KAAK,GAAEP,IAAEpB,GAAE,MAAKxB,GAAE,IAAIY,EAAEqB,CAAC,CAAC,EAAE,OAAO,IAAIrB,EAAEqB,CAAC,CAAC;AAAE,WAAM,EAAC,UAASJ,GAAE,kBAAiBd,GAAE,aAAYC,GAAE,WAAUS,GAAE,sBAAqBE,GAAE,4BAA2BO,GAAE,OAAMH,GAAE,UAAS,KAAK,mBAAmB,EAAC,IAAG/B,GAAE,KAAI,GAAE,QAAOK,GAAE,eAAc4B,GAAE,aAAYI,GAAE,UAASX,GAAE,OAAMc,GAAE,SAAQI,EAAC,CAAC,GAAE,IAAGjC,GAAE,YAAW,GAAE,SAAQiC,GAAE,OAAMJ,EAAC;AAAA,EAAC;AAAA,EAAC,OAAOtC,GAAEF,GAAE;AAAC,UAAK,EAAC,UAAS,GAAE,kBAAiBK,GAAE,YAAWF,GAAE,WAAUQ,GAAE,sBAAqB,GAAE,SAAQD,GAAE,IAAGG,GAAE,aAAYQ,GAAE,4BAA2BP,GAAE,OAAMqB,GAAE,OAAMnB,GAAE,UAASS,EAAC,IAAE,KAAK,gBAAgBvB,CAAC,GAAEyB,IAAE,KAAK,OAAO,CAAC;AAAE,QAAIO,IAAE3B,GAAEF,GAAEoC,GAAE,WAAUtC,CAAC;AAAE,IAAA+B,IAAE,IAAIhB,EAAEgB,EAAE,IAAI,SAASA,EAAE,CAAC,GAAEA,EAAE,CAAC;AAAE,QAAI,IAAE3B,GAAEF,GAAEoC,GAAE,SAAQtC,CAAC;AAAE,QAAE,IAAIe,EAAE,EAAE,IAAI,SAAS,EAAE,CAAC,GAAE,EAAE,CAAC;AAAE,QAAIkB,IAAE7B,GAAEF,GAAEoC,GAAE,UAAStC,CAAC;AAAE,IAAAiC,IAAE,IAAIlB,EAAEkB,EAAE,IAAI,SAASA,EAAE,CAAC,GAAEA,EAAE,CAAC;AAAE,UAAMM,IAAEnC,GAAEF,GAAEoC,GAAE,WAAUtC,CAAC,EAAE,GAAEkC,IAAE9B,GAAEF,GAAEoC,GAAE,YAAWtC,CAAC,EAAE,GAAEuB,IAAEa,GAAE,MAAKrC,EAAE,IAAGgC,GAAEf,GAAEiC,GAAElD,EAAE,QAAOiD,GAAE,OAAO,WAAW,GAAE,IAAIpC,GAAEJ,CAAC,CAAC,CAAC,GAAE6B,IAAEX,GAAEH,GAAE,GAAEU,CAAC,GAAEO,IAAEE,GAAE,MAAK3C,EAAE,EAAE,GAAE6B,IAAEF,GAAEc,GAAED,GAAEL,CAAC,GAAEO,IAAEJ,EAAE,SAAST,CAAC,GAAEC,KAAE,KAAK,KAAK9B,EAAE,IAAGA,EAAE,SAAS,GAAE4B,KAAE,EAAE,SAASpB,CAAC;AAAE,WAAM,EAAC,YAAW,IAAIQ,EAAES,GAAEK,IAAE,CAAC,GAAE,IAAGnB,EAAE,OAAO,KAAK,WAAW,IAAI,GAAE,OAAM+B,EAAE,SAAS,IAAIhC,EAAE,CAAC,EAAE,SAASD,CAAC,CAAC,GAAE,cAAaiC,EAAE,SAASjC,CAAC,GAAE,cAAamB,IAAE,aAAYT,EAAE,SAASQ,GAAE,IAAIjB,EAAE,CAAC,GAAEuB,GAAErB,CAAC,CAAC,GAAE,WAAUH,GAAE,OAAMK,GAAE,GAAG,KAAK,gBAAgBd,GAAEF,GAAE,EAAC,KAAIE,EAAE,KAAI,MAAKuB,GAAE,gBAAe,IAAIb,EAAE,CAAC,GAAE,cAAa,IAAIA,EAAE,CAAC,GAAE,gBAAe,IAAIqB,EAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,GAAE,eAAc,IAAIA,EAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,GAAE,aAAY,IAAIrB,EAAE,CAAC,GAAE,cAAakB,IAAE,OAAMd,EAAC,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,SAASd,GAAE;AAAC,QAAIF,IAAE,KAAK,UAAUE,EAAE,IAAG,EAAC,OAAMA,EAAE,OAAM,cAAaA,EAAE,cAAa,OAAMA,EAAE,OAAM,cAAaA,EAAE,cAAa,aAAYA,EAAE,YAAW,CAAC;AAAE,WAAOO,GAAE,6BAA2BT,IAAEA,EAAE,IAAI,IAAIkB,EAAE,GAAE,KAAG,GAAE,GAAE,CAAC,IAAG,KAAK,kBAAkBlB,GAAEE,CAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,GAAEF,GAAE,GAAE;AAAC,WAAOmC,EAAEnB,GAAE,EAAE,MAAK,KAAK,eAAe,wBAAwB,GAAE,KAAK,oBAAoBd,GAAEF,GAAE,CAAC,GAAE,KAAK,eAAeE,GAAEF,GAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBE,GAAEF,GAAE,GAAE;AAAC,UAAK,EAAC,UAASK,GAAE,UAASF,GAAE,qBAAoBQ,EAAC,IAAE,KAAK,gBAAe,IAAER,EAAE,SAASQ,CAAC,GAAE,EAAC,UAASC,GAAE,UAASF,EAAC,IAAE,KAAK,MAAKG,IAAED,EAAE,SAASF,CAAC,EAAE,SAAS,IAAIe,EAAE,EAAE,KAAI,CAAC,CAAC,EAAE,IAAGJ,IAAE,EAAE,KAAK,SAAS,GAAE;AAAE,WAAOM,GAAEd,GAAER,CAAC,EAAE,SAASgB,CAAC,EAAE,IAAI,CAAC;AAAA,EAAC;AAAA,EAAC,eAAenB,GAAEF,GAAE,GAAE;AAAC,UAAMK,IAAE,KAAK,gBAAgB,EAAC,GAAGH,EAAC,CAAC,EAAE,UAASC,IAAE,KAAK,gBAAgB,EAAC,GAAGD,GAAE,QAAOF,EAAE,mBAAkB,IAAGA,EAAE,qBAAoB,CAAC,EAAE,UAASW,IAAE,KAAK,gBAAgB,EAAC,GAAGT,GAAE,QAAOF,EAAE,mBAAkB,IAAGA,EAAE,qBAAoB,CAAC,EAAE,UAAS,IAAE,KAAK,eAAe,UAASY,IAAE,KAAK,eAAe,UAASF,IAAEqB,GAAE,GAAE1B,GAAEF,GAAEQ,CAAC;AAAE,WAAOwB,EAAED,GAAExB,GAAEE,CAAC,GAAEF,GAAE,KAAK,gBAAgBL,GAAEF,GAAEQ,GAAET,GAAEF,GAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBE,GAAEF,GAAE,GAAEK,GAAEF,GAAEQ,GAAE;AAAC,UAAK,EAAC,aAAY,GAAE,OAAMD,GAAE,cAAaG,EAAC,IAAEF,GAAEU,IAAE,KAAK,eAAe,UAASP,IAAE,KAAK,eAAe,UAASK,IAAEyB,EAAEvB,EAAE,IAAI,IAAIE,EAAEa,GAAEtB,CAAC,GAAEsB,GAAEtB,CAAC,CAAC,CAAC,GAAEZ,GAAEF,GAAE,CAAC,GAAEe,IAAE6B,EAAEvB,EAAE,IAAI,IAAIE,EAAE,GAAEa,GAAEtB,CAAC,CAAC,CAAC,GAAEZ,GAAEF,GAAE,CAAC,GAAE6B,IAAEe,EAAEvB,EAAE,IAAI,IAAIE,EAAET,GAAEsB,GAAEtB,CAAC,CAAC,CAAC,GAAEZ,GAAEF,GAAE,CAAC,GAAEiC,IAAEW,EAAEvB,EAAE,IAAI,IAAIE,EAAEa,GAAEtB,CAAC,GAAE,CAAC,CAAC,GAAEZ,GAAEF,GAAE,CAAC,GAAE,IAAE4C,EAAEvB,GAAEnB,GAAEF,GAAE,CAAC,GAAEgB,IAAE4B,EAAEvB,EAAE,IAAI,IAAIE,EAAET,GAAE,CAAC,CAAC,GAAEZ,GAAEF,GAAE,CAAC,GAAEyB,IAAEmB,EAAEvB,EAAE,IAAI,IAAIE,EAAEa,GAAEtB,CAAC,GAAEA,CAAC,CAAC,GAAEZ,GAAEF,GAAE,CAAC,GAAE2B,IAAEiB,EAAEvB,EAAE,IAAI,IAAIE,EAAE,GAAET,CAAC,CAAC,GAAEZ,GAAEF,GAAE,CAAC,GAAEkC,IAAEU,EAAEvB,EAAE,IAAI,IAAIE,EAAET,GAAEA,CAAC,CAAC,GAAEZ,GAAEF,GAAE,CAAC,GAAE,IAAEK,EAAE,GAAG,OAAO,KAAK,WAAW,IAAI,GAAEqB,IAAEvB,EAAE,qBAAqB,OAAO,KAAK,WAAW,IAAI,GAAEqC,IAAErC,EAAE,qBAAqB,OAAO,KAAK,WAAW,IAAI,GAAEI,IAAE,EAAC,OAAM,IAAIW,EAAE,GAAE,GAAE,GAAE,CAAC,GAAE,aAAY,GAAE,cAAa,IAAIA,EAAE,GAAE,GAAE,GAAE,CAAC,GAAE,OAAMR,GAAE,cAAaG,EAAC;AAAE,QAAI4B,IAAE,IAAI7B,EAAE,CAAC;AAAE,WAAO6B,IAAEA,EAAE,IAAIT,EAAEb,CAAC,EAAE,SAAS,KAAK,UAAU8B,GAAE9B,GAAE,GAAEO,GAAEc,CAAC,GAAEjC,CAAC,EAAE,CAAC,CAAC,GAAEkC,IAAEA,EAAE,IAAIT,EAAEjB,CAAC,EAAE,SAAS,KAAK,UAAUkC,GAAElC,GAAE,GAAEW,GAAEc,CAAC,GAAEjC,CAAC,EAAE,CAAC,CAAC,GAAEkC,IAAEA,EAAE,IAAIT,EAAEH,CAAC,EAAE,SAAS,KAAK,UAAUoB,GAAEpB,GAAE,GAAEH,GAAEc,CAAC,GAAEjC,CAAC,EAAE,CAAC,CAAC,GAAEkC,IAAEA,EAAE,IAAIT,EAAEC,CAAC,EAAE,SAAS,KAAK,UAAUgB,GAAEhB,GAAE,GAAEP,GAAEc,CAAC,GAAEjC,CAAC,EAAE,CAAC,CAAC,GAAEkC,IAAEA,EAAE,IAAIT,EAAE,CAAC,EAAE,SAAS,KAAK,UAAUiB,GAAE,GAAE,GAAEvB,GAAEc,CAAC,GAAEjC,CAAC,EAAE,CAAC,CAAC,GAAEkC,IAAEA,EAAE,IAAIT,EAAEhB,CAAC,EAAE,SAAS,KAAK,UAAUiC,GAAEjC,GAAE,GAAEU,GAAEc,CAAC,GAAEjC,CAAC,EAAE,CAAC,CAAC,GAAEkC,IAAEA,EAAE,IAAIT,EAAEP,CAAC,EAAE,SAAS,KAAK,UAAUwB,GAAExB,GAAE,GAAEC,GAAEc,CAAC,GAAEjC,CAAC,EAAE,CAAC,CAAC,GAAEkC,IAAEA,EAAE,IAAIT,EAAEL,CAAC,EAAE,SAAS,KAAK,UAAUsB,GAAEtB,GAAE,GAAED,GAAEc,CAAC,GAAEjC,CAAC,EAAE,CAAC,CAAC,GAAEkC,IAAEA,EAAE,IAAIT,EAAEE,CAAC,EAAE,SAAS,KAAK,UAAUe,GAAEf,GAAE,GAAER,GAAEc,CAAC,GAAEjC,CAAC,EAAE,CAAC,CAAC,GAAEmC,EAAED,GAAE,IAAI7B,EAAE,IAAG,CAAC,EAAE,SAASkB,GAAE,KAAK,cAAc,CAAC;AAAA,EAAC;AAAC;AAAC5B,EAAE,CAACF,EAAE,GAAEW,EAAEoC,EAAC,CAAC,GAAE/C,EAAE,GAAEW,EAAEqC,EAAC,CAAC,CAAC,GAAEK,GAAE,WAAU,UAAS,IAAI,GAAEnD,EAAE,CAACF,EAAE,GAAEW,EAAE2B,EAAC,CAAC,CAAC,GAAEe,GAAE,WAAU,YAAW,IAAI;QCAntL,cAAgBlD,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,iBAAeE,GAAE,MAAK,KAAK,SAAO;AAAA,EAAI;AAAC,GCA6RiD,KAAA,cAAgB1C,EAAC;AAAA,EAAC,OAAOA,GAAEE,GAAE;AAAC,UAAK,EAAC,SAAQE,GAAE,SAAQD,EAAC,IAAEH,GAAE,EAAC,QAAOK,EAAC,IAAEH,GAAE,EAAC,kBAAiBI,EAAC,IAAET,IAAEc,IAAE,GAAEM,IAAEd,EAAE,eAAe,eAAe,WAAWC,GAAEO,CAAC,GAAEV,IAAE,CAAC,IAAED,EAAE,MAAM,KAAK,CAAC,GAAE,GAAE,GAAE,GAAE,KAAGA,EAAE,MAAM,KAAK,CAAC,GAAE,GAAE,IAAG,GAAE,CAAC,GAAEO,IAAE,MAAM,KAAKnB,GAAEW,MAAIE,CAAC,CAAC,GAAEc,IAAE,MAAM,KAAKzB,GAAES,GAAC,GAAGQ,GAAEF,EAAE,WAAW,qBAAqB,CAAC,GAAEX,IAAEQ,EAAE,SAAS,SAAQ;AAAG,IAAAC,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGZ,EAAES,GAAEE,EAAE,QAAOR,EAAE,QAAQ,GAAE,GAAGD,EAAEO,GAAEE,EAAE,MAAM,GAAE,YAAWC,EAAE,eAAe,cAAcC,GAAEF,EAAE,YAAW,EAAE,GAAE,eAAc,EAAC,YAAgBI,MAAL,KAAON,EAAE,OAAK,MAAIM,GAAE,sBAAqB,CAACW,EAAE,WAAW,OAAMA,EAAE,WAAW,MAAM,GAAE,kBAAiB,EAAC,MAAK,GAAE,SAAQA,EAAC,GAAE,UAASF,GAAE,OAAMd,GAAE,aAAYD,EAAE,MAAM,UAAS,YAAWA,EAAE,MAAM,WAAU,EAAC,GAAE,SAAQ,EAAC,GAAGF,EAAEE,CAAC,EAAC,GAAE,oBAAmB,EAAC,WAAU,GAAE,GAAE,kBAAiB,GAAE,CAAC,GAAEG,EAAE,iBAAiB,EAAC,GAAGM,EAAET,CAAC,EAAC,CAAC,GAAEG,EAAE,WAAWH,GAAEE,CAAC,GAAOI,MAAL,MAAQD,EAAE;EAAe;AAAC,GCA3nCsC,KAAA,cAAgBrD,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKF,EAAE,gBAAe,KAAK,UAAQ,EAAC,UAAS,IAAIW,KAAC;AAAA,EAAC;AAAC,GCA6Q6C,KAAA,cAAgB/C,GAAC;AAAA;AAAEP,EAAE,CAACG,EAAE,GAAEkB,CAAC,CAAC,GAAEa,GAAE,WAAU,OAAM,MAAM;AAAE,IAAAqB,KAAA,cAAgBvB,GAAC;AAAA;AAAE,MAAMF,WAAUrB,GAAC;AAAA;AAAET,EAAE,CAACW,EAAEsB,CAAC,CAAC,GAAEH,GAAE,WAAU,WAAU,MAAM;AAAE,IAAA0B,KAAA,cAAgB/C,GAAC;AAAET;AAAAA,EAAE,CAACW,EAAEG,CAAC,CAAC,GAAEW,GAAE,WAAU,aAAY,MAAM,GAAEzB,EAAE,CAACW,EAAEsB,CAAC,CAAC,GAAER,GAAE,WAAU,cAAa,MAAM,GAAEzB,EAAE,CAACW,EAAEsB,CAAC,CAAC,GAAER,GAAE,WAAU,kBAAiB,MAAM;AAAE,MAAMe,KAAE;AAAK,MAAMF,WAAU9B,GAAC;AAAA,EAAC,OAAOR,GAAE;AAAC,UAAMC,IAAE,IAAIe,EAAE,GAAE,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,CAAC,EAAE,SAAS,IAAIG,EAAEnB,EAAE,IAAI,GAAG,OAAOF,CAAC,GAAE,CAAC,CAAC,GAAE,IAAEe,EAAE,KAAK,KAAK,WAAUZ,EAAE,EAAE,GAAEE,IAAE4B,GAAE,KAAK,SAAS,QAAQ,OAAO,CAAC,GAAE,IAAIE,EAAE,CAAC,CAAC;AAAE,QAAI,IAAE,IAAIA,EAAE,CAAC;AAAE,QAAE,EAAE,IAAIV,EAAE,EAAE,GAAE,IAAIU,EAAEO,EAAC,CAAC,EAAE,SAAS,CAAC,CAAC;AAAE,QAAI7B,IAAER,EAAE,IAAI,KAAK,SAAS,OAAO;AAAE,UAAMK,IAAE,KAAK,KAAK,sBAAsB,SAAS,IAAIW,EAAEnB,EAAE,IAAI,IAAI,GAAE,GAAE,CAAC,CAAC,GAAEU,IAAE,IAAIE,EAAEJ,EAAE,IAAG,GAAE,CAAC,GAAEO,IAAE,KAAK,SAAS,QAAQ,OAAOJ,CAAC,GAAEM,IAAE,IAAIgB,EAAE,EAAE,EAAE,OAAO9B,EAAE,OAAOQ,CAAC,CAAC;AAAE,WAAOA,IAAEA,EAAE,SAAS,KAAK,KAAK,WAAW,SAAS,KAAK,KAAK,cAAc,CAAC,GAAE,EAAC,YAAWD,GAAE,aAAYC,GAAE,OAAM,GAAE,OAAMI,GAAE,cAAaE,EAAC;AAAA,EAAC;AAAA,EAAC,SAASjB,GAAE;AAAC,UAAMC,IAAEgB,GAAEjB,EAAE,aAAa,SAAS,GAAE,CAAC,EAAE,SAAS,CAAC,GAAEF,IAAE6B,GAAE,IAAIM,EAAE,CAAC,GAAE,IAAIA,EAAE,CAAC,GAAEjC,EAAE,aAAa,SAASC,EAAE,SAASD,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC,GAAEO,IAAE,IAAIG;AAAE,WAAOH,EAAE,cAAYP,EAAE,MAAM,SAASF,CAAC,GAAES;AAAA,EAAC;AAAC;AAACP,EAAE,CAACW,EAAEmB,EAAC,CAAC,GAAEQ,GAAE,WAAU,YAAW,MAAM,GAAEtC,EAAE,CAACW,EAAEc,EAAC,CAAC,GAAEa,GAAE,WAAU,QAAO,MAAM,GAAEtC,EAAE,CAACW,EAAEkB,EAAC,CAAC,GAAES,GAAE,WAAU,QAAO,MAAM,GAAEtC,EAAE,CAACC,EAAE,GAAEc,EAAEmB,EAAC,CAAC,CAAC,GAAEI,GAAE,WAAU,UAAS,IAAI,GAAEtC,EAAE,CAACC,EAAE,GAAEc,EAAE2B,EAAC,CAAC,CAAC,GAAEJ,GAAE,WAAU,YAAW,IAAI;ACAppC,MAAMG,WAAUpB,GAAC;AAAErB;AAAAA,EAAE,CAACO,EAAE,GAAE0B,CAAC,CAAC,GAAEQ,GAAE,WAAU,eAAc,MAAM;AAAC,IAAAgB,KAAoB,cAAgBhD,GAAC;;AAAET,EAAE,CAACG,EAAEK,GAAE,OAAOQ,GAAE,CAAC,CAAC,CAAC,GAAEQ,GAAE,WAAU,YAAW,MAAM,GAAExB,EAAE,CAACG,EAAEK,GAAE,OAAOQ,GAAE,CAAC,CAAC,CAAC,GAAEQ,GAAE,WAAU,UAAS,MAAM,GAAExB,EAAE,CAACG,EAAE8B,CAAC,CAAC,GAAET,GAAE,WAAU,YAAW,MAAM;AAAE,IAAAkC,KAAA,cAAgBjD,GAAC;AAAA;AAAET,EAAE,CAACG,EAAEW,CAAC,CAAC,GAAE4B,GAAE,WAAU,eAAc,MAAM,GAAE1C,EAAE,CAACG,EAAEW,CAAC,CAAC,GAAE4B,GAAE,WAAU,eAAc,MAAM,GAAE1C,EAAE,CAACG,EAAE8B,CAAC,CAAC,GAAES,GAAE,WAAU,kBAAiB,MAAM,GAAE1C,EAAE,CAACG,EAAE8B,CAAC,CAAC,GAAES,GAAE,WAAU,cAAa,MAAM,GAAE1C,EAAE,CAACG,EAAE8B,CAAC,CAAC,GAAES,GAAE,WAAU,oBAAmB,MAAM;AAAC,IAAAiB,KAAC,cAAgBvD,GAAC;AAAA,EAAC,cAAcJ,GAAEF,GAAEG,GAAE;AAAC,WAAOD,EAAE,OAAOF,CAAC,EAAE,OAAOG,CAAC;AAAA,EAAC;AAAA,EAAC,OAAOD,GAAE;AAAC,UAAMF,IAAE,IAAImB,EAAE,IAAEhB,GAAE,GAAE,GAAE,GAAE,KAAGA,GAAE,GAAE,IAAG,GAAE,CAAC,EAAE,SAAS,IAAIY,EAAEb,EAAE,KAAI,CAAC,CAAC,GAAEG,IAAE,KAAK,KAAKH,EAAE,EAAE,GAAEO,IAAE,IAAIS,EAAElB,EAAE,IAAGK,GAAE,CAAC,GAAE,IAAE,KAAK,QAAQ,UAAUH,EAAE,EAAE,EAAE,SAAS,KAAK,SAAS,SAAS,IAAI,CAAC,CAAC,EAAE,SAASA,EAAE,WAAW,GAAEe,IAAE,KAAK,QAAQ,mBAAmBf,EAAE,EAAE,EAAE,SAAS,KAAK,SAAS,SAAS,IAAI,CAAC,CAAC,EAAE,SAASA,EAAE,WAAW,GAAEW,IAAE,KAAK,KAAK,eAAe,SAASV,CAAC,EAAE,OAAO,KAAK,KAAK,UAAU,GAAES,IAAE,KAAK,cAAc,GAAE,KAAK,SAAS,UAAS,KAAK,KAAK,gBAAgB,GAAEF,IAAE,KAAK,cAAcO,GAAE,KAAK,SAAS,UAAS,KAAK,KAAK,gBAAgB,GAAEH,IAAEZ,EAAE,IAAI,IAAI,GAAE,EAAE,OAAOW,CAAC;AAAE,WAAM,EAAC,YAAWJ,GAAE,OAAM,IAAIS,EAAE,GAAE,GAAE,GAAE,CAAC,GAAE,eAAcJ,GAAE,aAAYF,GAAE,aAAYF,EAAC;AAAA,EAAC;AAAA,EAAC,SAASR,GAAE;AAAC,UAAMF,IAAE,IAAIa,MAAEV,IAAEW,EAAE,KAAK,KAAK,aAAYZ,EAAE,aAAa,GAAEG,IAAES,EAAE,KAAK,KAAK,aAAYZ,EAAE,aAAa,GAAEO,IAAEP,EAAE,YAAY,SAASC,CAAC,GAAEQ,IAAET,EAAE,YAAY,SAASG,CAAC;AAAE,QAAI;AAAE,UAAMO,IAAES,GAAE,YAAY,KAAK,SAAS,OAAO,CAAC,GAAE,KAAK,SAAS,OAAO,CAAC,GAAE,KAAK,SAAS,OAAO,CAAC,GAAE,KAAK,SAAS,OAAO,CAAC,CAAC,GAAEX,IAAEW,GAAE,YAAY,KAAK,SAAS,OAAO,CAAC,GAAE,KAAK,SAAS,OAAO,CAAC,GAAE,KAAK,SAAS,OAAO,CAAC,GAAE,KAAK,SAAS,OAAO,CAAC,CAAC;AAAE,QAAG,KAAK,UAAS;AAAC,YAAMnB,IAAE+B,EAAE,IAAIE,EAAE,CAAC,GAAE1B,CAAC,GAAET,IAAEiC,EAAE,IAAIE,EAAE,CAAC,GAAExB,CAAC,GAAER,IAAEsB,GAAEvB,GAAEO,CAAC,EAAE,IAAIgB,GAAEzB,GAAEW,CAAC,CAAC,GAAEN,IAAE4B,EAAE9B,GAAE,IAAIgC,EAAE,CAAC,CAAC,GAAEtB,IAAE,IAAIsB,EAAE,CAAC,EAAE,SAAS9B,CAAC,GAAEa,IAAEf,EAAE,IAAIE,CAAC,GAAEc,IAAEV,EAAE,SAASP,CAAC,EAAE,OAAOgB,CAAC,GAAEH,IAAEJ,EAAE,SAASX,CAAC,EAAE,OAAOkB,CAAC,GAAEJ,IAAEF,EAAE,SAASO,CAAC,EAAE,IAAIT,EAAE,SAASK,CAAC,CAAC;AAAE,UAAEF,EAAE,SAASC,CAAC;AAAA,IAAC,OAAK;AAAC,YAAMZ,IAAE2B,GAAEE,GAAEtB,CAAC,GAAEsB,GAAEpB,CAAC,CAAC,GAAEX,IAAEiC,EAAE/B,GAAE,IAAIiC,EAAE,CAAC,CAAC,GAAEhC,IAAE,IAAIgC,EAAE,CAAC,EAAE,SAASnC,CAAC,GAAEK,IAAE4B,EAAE/B,GAAEO,CAAC,GAAEI,IAAEoB,EAAE/B,GAAES,CAAC,GAAEO,IAAEN,EAAE,SAASP,CAAC,EAAE,IAAIK,EAAE,SAASG,CAAC,CAAC;AAAE,UAAEV,EAAE,SAASe,CAAC;AAAA,IAAC;AAAC,WAAOlB,EAAE,cAAY,GAAEA;AAAA,EAAC;AAAA,EAAC,QAAQE,GAAE;AAAC,WAAOyB,GAAE,KAAK,cAAc;AAAA,EAAC;AAAC;AAACzB,EAAE,CAACe,EAAC,GAAEoB,GAAE,WAAU,YAAW,MAAM,GAAEnC,EAAE,CAACG,EAAEqB,EAAC,CAAC,GAAEW,GAAE,WAAU,YAAW,MAAM,GAAEnC,EAAE,CAACG,EAAEuC,EAAC,CAAC,GAAEP,GAAE,WAAU,QAAO,MAAM,GAAEnC,EAAE,CAACF,EAAE,GAAEY,EAAE+B,EAAC,CAAC,CAAC,GAAEN,GAAE,WAAU,UAAS,IAAI,GAAEnC,EAAE,CAACF,EAAE,GAAEY,EAAEY,EAAC,CAAC,CAAC,GAAEa,GAAE,WAAU,YAAW,IAAI;ACA7kE,MAAMnB,KAAE,EAAC,KAAI,EAAC,OAAM,GAAE,MAAKf,GAAE,eAAc,EAAC;AAAC,IAAA2D,KAAC,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,kBAAgB,GAAE,KAAK,eAAa,MAAK,KAAK,WAAS;AAAA,EAAI;AAAA,EAAC,UAAS;AAAC,SAAK,iBAAkB,GAAC,KAAK,WAAS,KAAK,QAAQ,QAAO,GAAG,KAAK,YAAU,KAAK,SAAS,QAAO;AAAA,EAAE;AAAA,EAAC,OAAO5D,GAAE;AAAC,QAAS,KAAK,WAAX,MAAmB;AAAC,YAAMG,IAAEL,GAAEG,IAAEH,GAAEmB,IAAE,IAAIE,GAAEhB,GAAEF,CAAC;AAAE,MAAAgB,EAAE,eAAaR,GAAE,SAAQQ,EAAE,WAASV,GAAE;AAAc,YAAMI,IAAE,IAAII,GAAEf,GAAE,IAAImC,GAAE3B,GAAE,eAAcL,GAAEF,CAAC,CAAC;AAAE,WAAK,UAAQ,IAAIW,GAAEZ,GAAEiB,GAAEN,CAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,kBAAkBX,GAAEC,GAAE;AAAC,QAAS,KAAK,YAAX,MAAoB;AAAC,YAAMQ,IAAEX,GAAES,IAAEE,IAAEA,GAAED,IAAE,GAAEG,IAAE,IAAI,WAAWJ,IAAEC,CAAC;AAAE,eAAQR,IAAE,GAAEA,IAAES,GAAET,IAAI,UAAQF,IAAE,GAAEA,IAAEW,GAAEX,IAAI,CAAAa,EAAEH,KAAGV,IAAEE,IAAES,EAAE,IAAEX,GAAEa,EAAEH,KAAGV,IAAEE,IAAES,KAAG,CAAC,IAAET;AAAE,WAAK,WAASG,GAAE,OAAOH,GAAE,EAAC,WAAUiB,GAAE,QAAO,QAAON,GAAE,OAAMJ,GAAE,QAAOS,GAAC,GAAEf,CAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAA,EAAC,sBAAsB,GAAEE,GAAEF,GAAE;AAAC,QAAG,KAAK,oBAAkBE,KAAG,KAAK,UAAQF,MAAI,KAAK,iBAAgB,GAAG,KAAK,kBAAgBE,GAAE,KAAK,QAAMF,IAAU,KAAK,iBAAZ,MAAyB;AAAC,YAAMQ,IAAE,IAAIT,GAAEC,CAAC;AAAE,WAAK,eAAa,CAAC,KAAK,wBAAwB,GAAEE,GAAEM,CAAC,GAAE,KAAK,wBAAwB,GAAEN,GAAEM,CAAC,CAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAY;AAAA,EAAC,mBAAkB;AAAC,QAAG,KAAK,cAAa;AAAC,eAAQT,IAAE,GAAEA,IAAE,KAAK,aAAa,QAAOA,IAAI,MAAK,aAAaA,CAAC,EAAE,QAAO;AAAG,WAAK,eAAa;AAAA,IAAI;AAAA,EAAC;AAAA,EAAC,wBAAwBA,GAAEF,GAAEK,GAAE;AAAC,UAAM,IAAE,IAAI,aAAaL,IAAEA,IAAE,CAAC;AAAE,aAAQW,IAAE,GAAEA,IAAE,EAAE,QAAOA,IAAI,GAAEA,CAAC,IAAEN,EAAE,SAAU;AAAC,UAAMI,IAAE,IAAIY;AAAE,WAAOZ,EAAE,WAASI,GAAE,OAAMJ,EAAE,eAAaE,GAAE,SAAQF,EAAE,QAAMT,GAAES,EAAE,SAAOT,GAAE,IAAIM,GAAEJ,GAAEO,GAAE,CAAC;AAAA,EAAC;AAAC,QCApxC,cAAgBE,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKI,EAAE,YAAW,KAAK,UAAQ,EAAC,SAAQ,IAAII,MAAE,OAAM,IAAID,MAAE,MAAK,IAAIF,KAAC,GAAE,KAAK,aAAW,oBAAI;AAAA,EAAG;AAAA,EAAC,OAAO,GAAE,GAAE;AAACX,IAAAA,GAAE,CAAC,KAAGK,EAAE,CAAC,IAAE,KAAK,gBAAgB,GAAE,CAAC,IAAE,KAAK,kBAAkB,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgB,GAAE,GAAE;AAAC,UAAK,EAAC,SAAQ,EAAC,IAAE;AAAE,MAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,MAAK,UAAS,EAAC,GAAGE,EAAE,GAAE,EAAE,MAAM,GAAE,qBAAoB,MAAK,uBAAsB,KAAI,GAAE,SAAQ,EAAC,GAAGK,EAAE,CAAC,EAAC,GAAE,oBAAmB,EAAC,WAAU,GAAE,GAAE,kBAAiBP,EAAE,CAAC,EAAC,CAAC,GAAE,EAAE,iBAAiBG,EAAE,CAAC,CAAC,GAAE,EAAE,WAAW,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBF,GAAEN,GAAE;AAAC,UAAK,EAAC,SAAQK,GAAE,SAAQK,GAAE,eAAcG,EAAC,IAAEP,GAAEQ,IAAEd,EAAE,SAAS,WAAW,UAASgB,IAAE,KAAK,4BAA4BX,CAAC,GAAEM,IAAEK,EAAE,sBAAsBX,GAAEV,GAAEmB,EAAE,IAAI,GAAEI,IAAE,IAAE,MAAIL,IAAEb,EAAE,OAAO,IAAI,QAAOwB,IAAE7B,GAAE2C,IAAEd,IAAE,OAAO,mBAAiBA,IAAE,OAAO,kBAAiBI,IAAE,IAAEV,KAAG,IAAEA,IAAGI,IAAER,EAAE,WAASR,EAAE,MAAM,QAAMQ,EAAE,WAAS,GAAEa,IAAEb,EAAE,WAASQ,IAAEM;AAAE,IAAAlB,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,SAAQ,UAAS,EAAC,GAAGH,EAAED,GAAEN,EAAE,MAAM,GAAE,UAAS,EAAC,UAASc,EAAE,UAAS,QAAOA,EAAE,QAAO,UAAS,KAAK,IAAI,GAAEa,CAAC,EAAC,GAAE,MAAK,EAAC,aAAY,EAAC,MAAK9B,IAAE,SAAQc,EAAE,CAAC,EAAC,GAAE,aAAY,EAAC,MAAKP,IAAE,SAAQO,EAAE,CAAC,EAAC,GAAE,gBAAeO,GAAE,YAAW,OAAO,kBAAiB,kBAAiBoB,KAAG3C,IAAE,OAAO,mBAAiBA,IAAE,OAAO,kBAAiB,EAAC,GAAE,SAAQ,EAAC,GAAGiB,EAAEN,CAAC,GAAE,UAASQ,EAAE,SAAQ,GAAE,oBAAmB,CAAA,GAAG,kBAAiB,GAAE,CAAC;AAAE,UAAMgB,IAAEzB,EAAE,YAAa;AAAC,IAAAA,EAAE,YAAY,GAAE,GAAEV,GAAEA,CAAC;AAAE,UAAM0C,IAAEhC,EAAE,6BAA4BwB,IAAEb,EAAE,OAAOX,CAAC;AAAE,IAAAA,EAAE,gBAAgBwB,CAAC,GAAExB,EAAE,cAAc,GAAE,GAAE,GAAE,CAAC,GAAEA,EAAE,MAAMe,GAAE,KAAK,GAAEV,EAAE,iBAAiB,EAAC,OAAM,EAAC,OAAM,CAAC,IAAG,IAAG,IAAG,EAAE,GAAE,WAAU,YAAW,GAAE,OAAM,IAAG,SAAQ,GAAE,CAAC,GAAEA,EAAE,oBAAoBL,CAAC,GAAEK,EAAE,WAAWJ,GAAEN,CAAC,GAAEK,EAAE,gBAAgBgC,CAAC,GAAEhC,EAAE,YAAYyB,EAAE,GAAEA,EAAE,GAAEA,EAAE,OAAMA,EAAE,MAAM;AAAE,UAAMJ,IAAEV,EAAE,OAAOX,CAAC,EAAE,cAAa2B,IAAE,EAAC,QAAO,KAAK,QAAQ,OAAM,UAAS,EAAC,MAAKvB,GAAEH,GAAEN,EAAE,MAAM,GAAE,UAAS,EAAC,SAAQc,EAAE,QAAO,GAAE,MAAK,EAAC,WAAU,EAAC,MAAKjB,IAAE,SAAQ6B,EAAC,GAAE,gBAAe,GAAE,YAAW,OAAO,iBAAgB,EAAC,GAAE,SAAQ,EAAC,GAAGd,EAAEN,CAAC,EAAC,GAAE,oBAAmB,CAAA,GAAG,kBAAiB,GAAE;AAAE,IAAAI,EAAE,iBAAiBF,EAAEF,CAAC,CAAC,GAAEI,EAAE,eAAeL,GAAE2B,GAAEhB,EAAE,kBAAkBX,GAAEP,GAAE,KAAK,QAAQ,KAAK,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,SAAS,GAAE;AAAC,UAAM,SAAS,CAAC,GAAE,KAAK,WAAW,IAAI,CAAC,GAAG,QAAS,GAAC,KAAK,WAAW,OAAO,CAAC;AAAA,EAAC;AAAA,EAAC,4BAA4B,GAAE;AAAC,QAAI,IAAE,KAAK,WAAW,IAAI,CAAC;AAAE,WAAa,KAAN,SAAU,IAAE,IAAIkB,MAAE,KAAK,WAAW,IAAI,GAAE,CAAC,IAAG;AAAA,EAAC;AAAC,GCAjhF0C,KAAA,cAAgB/D,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKU,EAAE,aAAY,KAAK,UAAQ,EAAC,UAAS,IAAII,KAAC;AAAA,EAAC;AAAA,EAAC,OAAO,GAAEJ,GAAE;AAAC,UAAK,EAAC,SAAQI,GAAE,SAAQO,EAAC,IAAE,GAAEH,IAAER,EAAE,SAAS;AAAW,IAAAW,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGnB,EAAE,GAAEQ,EAAE,QAAOQ,EAAE,QAAQ,GAAE,GAAGP,EAAE,GAAED,EAAE,MAAM,GAAE,YAAWW,EAAE,eAAe,cAAcP,GAAEJ,EAAE,UAAU,GAAE,iBAAgBL,GAAEK,EAAE,MAAM,EAAC,GAAE,SAAQ,EAAC,GAAGP,EAAE,CAAC,EAAC,GAAE,oBAAmBe,EAAE,oBAAmB,kBAAiBT,EAAE,CAAC,EAAC,CAAC,GAAEY,EAAE,iBAAiBT,EAAE,CAAC,CAAC,GAAES,EAAE,WAAW,GAAEX,CAAC;AAAA,EAAC;AAAC;ACA50B,SAASA,GAAEA,GAAE;AAAC,QAAMR,IAAE,IAAEQ;AAAE,SAAM,EAAC,cAAaR,GAAE,MAAK,IAAEA,EAAC;AAAC;ACA4X,IAAA8D,KAAA,cAAgBhE,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKY,EAAE,oBAAmB,KAAK,UAAQ,EAAC,UAAS,IAAIE,KAAC;AAAA,EAAC;AAAA,EAAC,OAAO,GAAEF,GAAE;AAAC,UAAK,EAAC,SAAQE,GAAE,SAAQO,GAAE,YAAWH,EAAC,IAAE,GAAEF,IAAEJ,EAAE,SAAS,SAAQ;AAAG,IAAAS,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGnB,EAAE,GAAEU,EAAE,QAAOI,EAAE,QAAQ,GAAE,GAAGL,EAAE,GAAEC,EAAE,MAAM,GAAE,sBAAqBK,GAAEC,CAAC,GAAE,YAAWG,EAAE,eAAe,cAAcP,GAAEF,EAAE,UAAU,GAAE,iBAAgBH,GAAEG,EAAE,MAAM,EAAC,GAAE,SAAQ,EAAC,GAAGP,EAAE,CAAC,EAAC,GAAE,oBAAmBW,EAAE,oBAAmB,kBAAiBb,EAAE,CAAC,EAAC,CAAC,GAAEkB,EAAE,iBAAiBX,EAAE,CAAC,CAAC,GAAEW,EAAE,WAAW,GAAET,CAAC;AAAA,EAAC;AAAC,GCA7nBqD,KAAA,cAAgBjE,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKU,EAAE,MAAK,KAAK,UAAQ,EAAC,UAAS,IAAIE,KAAC;AAAA,EAAC;AAAA,EAAC,OAAO,GAAEF,GAAE;AAAC,UAAK,EAAC,SAAQE,EAAC,IAAE,GAAEE,IAAEJ,EAAE,SAAS,SAAU;AAAC,IAAAE,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGV,EAAE,GAAEQ,EAAE,QAAOI,EAAE,QAAQ,GAAE,GAAGH,EAAE,GAAED,EAAE,MAAM,EAAC,GAAE,SAAQL,EAAE,CAAC,GAAE,oBAAmBS,EAAE,oBAAmB,kBAAiBL,EAAE,CAAC,EAAC,CAAC,GAAEG,EAAE,iBAAiBT,EAAE,CAAC,CAAC,GAAES,EAAE,WAAW,GAAEF,CAAC;AAAA,EAAC;AAAC,GCA3SwD,KAAA,cAAgBlE,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKU,EAAE,aAAY,KAAK,UAAQ,EAAC,UAAS,IAAII,KAAC;AAAA,EAAC;AAAA,EAAC,OAAO,GAAEJ,GAAE;AAAC,UAAK,EAAC,SAAQI,GAAE,YAAWG,EAAC,IAAE,GAAEI,IAAEX,EAAE,SAAS,SAAU;AAAC,IAAAI,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGZ,EAAE,GAAEQ,EAAE,QAAOW,EAAE,QAAQ,GAAE,GAAGV,EAAE,GAAED,EAAE,MAAM,GAAE,sBAAqBE,GAAEK,CAAC,EAAC,GAAE,SAAQ,EAAC,GAAGR,EAAE,CAAC,EAAC,GAAE,oBAAmBY,EAAE,oBAAmB,kBAAiBhB,EAAE,CAAC,EAAC,CAAC,GAAES,EAAE,iBAAiBX,EAAE,CAAC,CAAC,GAAEW,EAAE,WAAW,GAAEJ,CAAC;AAAA,EAAC;AAAC,GCA1cyD,KAAA,cAAgBnE,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKU,EAAE,aAAY,KAAK,UAAQ,EAAC,UAAS,IAAII,KAAC;AAAA,EAAC;AAAA,EAAC,OAAO,GAAEJ,GAAE;AAAC,UAAK,EAAC,SAAQI,GAAE,SAAQO,EAAC,IAAE,GAAEL,IAAEN,EAAE,SAAS;AAAW,IAAAW,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGnB,EAAE,GAAEQ,EAAE,QAAOM,EAAE,QAAQ,GAAE,GAAGL,EAAE,GAAED,EAAE,MAAM,GAAE,YAAWW,EAAE,eAAe,cAAcP,GAAEJ,EAAE,UAAU,GAAE,iBAAgBL,GAAEK,EAAE,MAAM,EAAC,GAAE,SAAQ,EAAC,GAAGD,EAAE,CAAC,EAAC,GAAE,oBAAmBO,EAAE,oBAAmB,kBAAiBb,EAAE,CAAC,EAAC,CAAC,GAAEkB,EAAE,iBAAiBT,EAAE,CAAC,CAAC,GAAES,EAAE,WAAW,GAAEX,CAAC;AAAA,EAAC;AAAC,GCAvZ0D,KAAA,cAAgBpE,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKY,EAAE,oBAAmB,KAAK,UAAQ,EAAC,UAAS,IAAIK,KAAC;AAAA,EAAC;AAAA,EAAC,OAAO,GAAEL,GAAE;AAAC,UAAK,EAAC,SAAQK,GAAE,SAAQI,GAAE,YAAWH,EAAC,IAAE,GAAEF,IAAEJ,EAAE,SAAS,SAAQ;AAAG,IAAAS,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGnB,EAAE,GAAEU,EAAE,QAAOI,EAAE,QAAQ,GAAE,GAAGL,EAAE,GAAEC,EAAE,MAAM,GAAE,sBAAqBE,GAAEI,CAAC,GAAE,YAAWG,EAAE,eAAe,cAAcJ,GAAEL,EAAE,UAAU,GAAE,iBAAgBH,GAAEG,EAAE,MAAM,EAAC,GAAE,SAAQ,EAAC,GAAGP,EAAE,CAAC,EAAC,GAAE,oBAAmBW,EAAE,oBAAmB,kBAAiBb,EAAE,CAAC,EAAC,CAAC,GAAEkB,EAAE,iBAAiBX,EAAE,CAAC,CAAC,GAAEW,EAAE,WAAW,GAAET,CAAC;AAAA,EAAC;AAAC,GCAzzByD,KAAA,MAAO;AAAA,EAAC,YAAY,GAAE,GAAE1D,GAAE,GAAE;AAAC,SAAK,WAAS,GAAE,KAAK,eAAa,GAAE,KAAK,cAAYA,GAAE,KAAK,iBAAe;AAAA,EAAC;AAAC;AAAC,SAASD,GAAEA,GAAED,GAAE;AAAC,QAAK,EAAC,oBAAmBJ,GAAE,kBAAiBW,EAAC,IAAEN,EAAE,cAAaI,IAAEE,GAAG,cAAaqB,IAAErB,GAAG,kBAAiBD,IAAEC,GAAG,YAAWK,IAAEX,EAAE,WAAW,iBAAiB;AAAO,MAAG,CAACI,KAAG,CAACuB,EAAE,OAAM,IAAIrC,GAAE,sCAAqC,iIAAiI;AAAE,MAAG,EAAEe,KAAGM,KAAGgB,GAAG,OAAM,IAAIrC,GAAE,+BAA8B,kGAAgGqB,IAAE,KAAG,qFAAqF;AAAE,QAAMH,IAAEJ,KAAGC,KAAGM,GAAER,IAAEwB,GAAEL,IAAE3B,GAAEc,IAAE,CAAC,CAACH,GAAG,MAAKW,IAAE,CAAC,CAACX,GAAG;AAAK,MAAGE,KAAGc,EAAE,QAAOA,KAAGvB,EAAE,SAAS,mFAAmF,GAAE,IAAIQ,GAAEf,GAAE,OAAM8B,IAAErB,GAAE,SAAOA,GAAE,SAAQQ,IAAEhB,GAAE,MAAIA,GAAE,MAAKgB,IAAEP,GAAE,OAAKT,GAAE,IAAI;AAAE,MAAGU,EAAE,QAAO,IAAII,GAAEf,GAAE,YAAWS,GAAE,QAAOgB,IAAExB,GAAE,MAAIA,GAAE,MAAKwB,IAAEf,GAAE,OAAKT,GAAE,IAAI;AAAE,QAAM,IAAIH,GAAE,oCAAmC,8GAA8G;AAAC;AAAS,IAAIiB,GAAEf,GAAE,YAAWS,GAAE,SAAQR,GAAE,MAAKA,GAAE,IAAI;ACAxtB,MAAMkB,KAAE,MAAIrB,GAAE,UAAU,4EAA4E;SAAE,MAAO;AAAA,EAAC,UAAS;AAAC,SAAK,yBAAuBW,GAAE,KAAK,sBAAsB,GAAE,KAAK,0BAAwBA,GAAE,KAAK,uBAAuB,GAAE,KAAK,oBAAkB,MAAK,KAAK,kBAAgB;AAAA,EAAI;AAAA,EAAC,IAAI,cAAa;AAAC,WAAa,KAAK,0BAAX,QAAyC,KAAK,2BAAX;AAAA,EAAkC;AAAA,EAAC,IAAI,wBAAuB;AAAC,WAAO,KAAK;AAAA,EAAsB;AAAA,EAAC,IAAI,yBAAwB;AAAC,WAAO,KAAK;AAAA,EAAuB;AAAA,EAAC,mBAAmB,GAAE;AAAC,QAAS,KAAK,mBAAX,MAA2B;AAAC,YAAMA,IAAEG,GAAE,GAAEO,GAAC,CAAE;AAAE,WAAK,kBAAgB,EAAC,GAAGV,GAAE,SAAQ,EAAC,wBAAuBA,EAAE,aAAWT,GAAE,MAAK,EAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAe;AAAA,EAAC,oBAAoB,GAAES,GAAET,GAAE;AAAC,QAAS,KAAK,0BAAX,MAAkC;AAAC,YAAK,EAAC,UAASY,GAAE,cAAaX,GAAE,aAAYkB,GAAE,gBAAeL,EAAC,IAAE,KAAK,mBAAmB,CAAC,GAAEG,IAAE,IAAIT,GAAEC,GAAET,CAAC;AAAE,MAAAiB,EAAE,cAAYE,GAAEF,EAAE,iBAAeH,GAAEG,EAAE,WAASL,GAAEK,EAAE,eAAahB,GAAEgB,EAAE,WAASP,GAAE;AAAc,YAAMG,IAAE,IAAIE,GAAER,GAAE,eAAcE,GAAET,CAAC;AAAE,WAAK,yBAAuB,IAAIG,GAAE,GAAEc,GAAEJ,CAAC;AAAA,IAAC,OAAK;AAAC,YAAK,EAAC,OAAMf,GAAE,QAAOY,EAAC,IAAE,KAAK;AAAuB,MAAAZ,MAAIW,KAAGC,MAAIV,KAAG,KAAK,uBAAuB,OAAOS,GAAET,CAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAsB;AAAA,EAAC,6BAA6B,GAAES,GAAET,GAAE;AAAC,QAAS,KAAK,2BAAX,MAAmC;AAAC,YAAMS,IAAE,IAAID;AAAE,MAAAC,EAAE,WAASC,GAAE,eAAc,KAAK,0BAAwB,IAAIT,GAAE,GAAEQ,CAAC;AAAA,IAAC,MAAM,MAAK,sBAAoBA,MAAI,KAAK,wBAAwB,OAAOT,EAAE,SAAO,GAAE,CAAC,GAAE,KAAK,wBAAwB,QAAQA,CAAC,GAAE,KAAK,oBAAkBS;AAAG,WAAO,KAAK;AAAA,EAAuB;AAAC;ACA5mE,SAASD,GAAEA,GAAE;AAAC,SAAOA,IAAE,OAAI;AAAC;SCA6c,cAAgBuB,GAAC;AAAE/B;AAAAA,EAAE,CAACG,EAAE,GAAEQ,CAAC,CAAC,GAAEsB,GAAE,WAAU,UAAS,MAAM;AAAC,IAAAmC,KAAC,cAAgBtD,GAAC;AAAE,GAAAuD,KAAA,cAAgBtD,GAAC;AAAA;AAAEf,EAAE,CAACO,EAAES,CAAC,CAAC,GAAEK,GAAE,WAAU,UAAS,MAAM,GAAErB,EAAE,CAACO,EAAES,CAAC,CAAC,GAAEK,GAAE,WAAU,iBAAgB,MAAM;AAAE,MAAMqB,WAAUzB,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,yBAAuB;AAAA,EAAE;AAAA,EAAC,OAAOjB,GAAE;AAAC,UAAK,EAAC,QAAOF,GAAE,eAAcK,EAAC,IAAE,KAAK,gBAAeI,IAAEP,EAAE,QAAOC,IAAEE,EAAE,SAAS,KAAK,QAAQ,UAAUH,EAAE,EAAE,EAAE,CAAC,EAAE,IAAI,IAAIgB,EAAE,CAAC,EAAE,SAASb,CAAC,CAAC,GAAEY,IAAE,KAAK,KAAK,sBAAsB,SAAS,IAAIL,EAAEV,EAAE,KAAI,CAAC,CAAC,EAAE,IAAI,KAAK,KAAK,gBAAgB,SAAS,IAAIU,EAAEH,GAAE,CAAC,CAAC,EAAE,SAAST,CAAC,CAAC,GAAEW,IAAE,KAAK,KAAKT,EAAE,EAAE;AAAE,WAAM,EAAC,YAAW,IAAIQ,EAAEO,EAAE,IAAGN,GAAE,CAAC,GAAE,QAAOF,GAAE,YAAWN,GAAE,OAAM,IAAIO,EAAE,CAAC,GAAE,GAAG,KAAK,gBAAgBR,GAAE,CAAE,GAAC,IAAI,EAAC;AAAA,EAAC;AAAA,EAAC,SAASA,GAAE;AAAC,UAAK,EAAC,QAAOF,GAAE,YAAWK,EAAC,IAAEH,GAAEO,IAAEK,GAAEd,CAAC,GAAEG,IAAEkB,EAAEZ,GAAE,IAAIS,EAAE,CAAC,CAAC,GAAED,IAAE,IAAIC,EAAE,CAAC,EAAE,SAAST,EAAE,SAASA,CAAC,CAAC,GAAEE,IAAEM,EAAE,SAASA,CAAC,GAAEL,IAAET,EAAE,SAASQ,CAAC,EAAE,SAASN,CAAC,EAAE,SAAS,IAAIa,EAAEH,GAAE,KAAK,sBAAsB,CAAC,CAAC;AAAE,WAAO,KAAK,kBAAkB,IAAIL,EAAEE,CAAC,GAAEV,CAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,GAAE;AAAC,UAAK,EAAC,UAASF,GAAE,UAASK,EAAC,IAAE,KAAK,MAAKI,IAAET,EAAE,SAASK,CAAC,EAAE,SAAS,IAAIO,EAAEV,EAAE,KAAI,CAAC,CAAC;AAAE,WAAOuB,GAAEhB,EAAE,IAAG,KAAK,eAAe,QAAO,KAAK,eAAe,QAAQ;AAAA,EAAC;AAAC;AAACP,EAAE,CAACC,EAAC,GAAEyC,GAAE,WAAU,0BAAyB,MAAM,GAAE1C,EAAE,CAACO,EAAEc,EAAC,CAAC,GAAEqB,GAAE,WAAU,kBAAiB,MAAM,GAAE1C,EAAE,CAACF,EAAE,GAAEW,EAAEwB,EAAC,CAAC,CAAC,GAAES,GAAE,WAAU,UAAS,IAAI,GAAE1C,EAAE,CAACF,EAAE,GAAEW,EAAEkB,EAAC,CAAC,CAAC,GAAEe,GAAE,WAAU,YAAW,IAAI;SCA5xC,cAAgBzC,GAAC;AAAA;AAAED,EAAE,CAACS,EAAE,GAAEsB,CAAC,CAAC,GAAEJ,GAAE,WAAU,YAAW,MAAM;AAAE,IAAA2C,KAAA,cAAgBnE,GAAC;QAAE,cAAgBI,GAAC;AAAEP;AAAAA,EAAE,CAACQ,EAAEyB,CAAC,CAAC,GAAEhB,GAAE,WAAU,WAAU,MAAM,GAAEjB,EAAE,CAACQ,EAAEuB,CAAC,CAAC,GAAEd,GAAE,WAAU,kBAAiB,MAAM,GAAEjB,EAAE,CAACQ,EAAEK,CAAC,CAAC,GAAEI,GAAE,WAAU,iBAAgB,MAAM;AAAE,IAAAsD,KAAA,cAAgBhE,GAAC;AAAEP;AAAAA,EAAE,CAACQ,EAAEyB,CAAC,CAAC,GAAEV,GAAE,WAAU,WAAU,MAAM;SAAE,cAAgBb,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,yBAAuB;AAAA,EAAE;AAAA,EAAC,OAAOV,GAAE;AAAC,WAAM,EAAC,YAAW,IAAIW,EAAEX,EAAE,SAAS,SAAS,CAAC,EAAE,SAAS,CAAC,GAAE,GAAE,CAAC,GAAE,IAAGA,EAAE,SAAQ;AAAA,EAAC;AAAA,EAAC,SAASA,GAAE;AAAC,UAAK,EAAC,oBAAmBF,GAAE,UAASG,EAAC,IAAE;AAAK,QAAIQ,IAAEU,EAAErB,EAAE,SAAQE,EAAE,EAAE,EAAE,EAAE,OAAO,IAAIa,EAAEQ,GAAE,KAAK,sBAAsB,CAAC,CAAC;AAAE,IAAAZ,IAAEA,EAAE,SAASX,EAAE,aAAa,GAAEW,IAAEA,EAAE,SAASX,EAAE,eAAe,CAAC,EAAE,SAASA,EAAE,eAAe,CAAC;AAAE,UAAMK,IAAEgB,EAAElB,EAAE,SAAQ,IAAI8B,EAAEtB,GAAE,GAAE,CAAC,GAAEF,IAAE,IAAIS;AAAE,WAAOT,EAAE,cAAY,IAAII,EAAER,EAAE,IAAI,SAASA,EAAE,CAAC,GAAEA,EAAE,CAAC,GAAEI;AAAA,EAAC;AAAC;AAACP,EAAE,CAACe,EAAC,GAAEU,GAAE,WAAU,0BAAyB,MAAM,GAAEzB,EAAE,CAACQ,EAAES,EAAC,CAAC,GAAEQ,GAAE,WAAU,sBAAqB,MAAM,GAAEzB,EAAE,CAACQ,EAAEe,EAAC,CAAC,GAAEE,GAAE,WAAU,YAAW,MAAM,GAAEzB,EAAE,CAACF,EAAE,GAAEc,EAAEe,EAAC,CAAC,CAAC,GAAEF,GAAE,WAAU,UAAS,IAAI,GAAEzB,EAAE,CAACF,EAAE,GAAEc,EAAEE,EAAC,CAAC,CAAC,GAAEW,GAAE,WAAU,YAAW,IAAI;ACAlyB,IAAA+C,KAAA,cAAgBxE,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKQ,EAAE,SAAQ,KAAK,YAAUV,GAAE,MAAIA,GAAE,UAAQA,GAAE,OAAM,KAAK,UAAQ,EAAC,YAAW,IAAIc,MAAE,SAAQ,IAAIF,KAAC,GAAE,KAAK,WAAS,IAAG,KAAK,aAAW,oBAAI;AAAA,EAAG;AAAA,EAAC,SAAS,GAAE;AAAC,UAAM,SAAS,CAAC,GAAE,KAAK,WAAW,IAAI,CAAC,GAAG,QAAO,GAAG,KAAK,WAAW,OAAO,CAAC,GAAE,KAAK,WAAS,MAAK,KAAK,QAAO;AAAA,EAAE;AAAA,EAAC,OAAO,GAAE,GAAE;AAAC,UAAK,EAAC,SAAQF,GAAE,SAAQ,GAAE,OAAMI,EAAC,IAAE,GAAE,IAAE,EAAE,SAAS,SAAQ,GAAG,EAAC,eAAcD,EAAC,IAAE,EAAE,UAASI,IAAE,KAAK,4BAA4BP,CAAC,GAAES,IAAEF,EAAE,mBAAmBP,CAAC;AAAEC,IAAAA,EAAE,CAAC,KAAG,KAAK,MAAM,GAAEM,GAAE,CAAC,GAAE,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,YAAW,UAAS,EAAC,GAAGZ,EAAE,GAAE,EAAE,MAAM,GAAE,gBAAe,EAAC,QAAOkB,GAAE,GAAET,CAAC,GAAE,eAAcD,IAAE,IAAE,EAAC,EAAC,GAAE,SAAQ,EAAC,GAAGJ,EAAE,CAAC,GAAE,GAAGU,EAAE,QAAO,GAAE,oBAAmB,CAAE,GAAC,kBAAiBR,EAAE,CAAC,EAAC,CAAC;AAAE,UAAM,IAAEA,EAAE,CAAC,IAAEc,KAAEY;AAAE,MAAE,iBAAiB,CAAC,GAAE,EAAE,WAAW,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,oBAAoB,GAAE;AAAC,WAAOrB,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkB,GAAE,GAAE;AAAC,QAAGL,EAAE,CAAC,EAAE;AAAO,UAAK,EAAC,SAAQN,GAAE,SAAQI,EAAC,IAAE,GAAEC,IAAE,KAAK,WAAW,IAAIL,CAAC;AAAE,QAAS,KAAK,YAAX,QAA2B,KAAK,iBAAX,QAA0B,CAACK,GAAG,YAAY;AAAO,UAAK,EAAC,SAAQP,EAAC,IAAEO,EAAE,mBAAmBL,CAAC,GAAE,EAAC,YAAWS,GAAE,YAAWF,GAAE,QAAOC,EAAC,IAAE,EAAE,SAAQ,EAAG,UAASI,IAAE,GAAEE,IAAE,GAAEJ,IAAEL,EAAE,uBAAsBQ,IAAER,EAAE,wBAAuBW,IAAE,EAAC,QAAO,KAAK,QAAQ,SAAQ,UAAS,EAAC,oBAAmB,EAAC,SAAQ,EAAC,MAAKJ,GAAE,SAAQF,EAAE,aAAY,GAAE,gBAAe,CAACD,GAAE,KAAGF,IAAEE,EAAE,GAAE,eAAc,KAAGD,IAAEA,IAAE,KAAK,IAAG,GAAE,UAAS,EAAC,SAAQ,EAAC,MAAKM,GAAE,SAAQD,EAAC,EAAC,EAAC,GAAE,SAAQf,GAAE,oBAAmB,CAAE,GAAC,kBAAiB,GAAE;AAAE,IAAAE,EAAE,gBAAgB,KAAK,QAAQ,GAAEA,EAAE,YAAY,GAAE,GAAE,KAAK,cAAc,OAAM,KAAK,cAAc,MAAM,GAAEA,EAAE,YAAYU,EAAE,cAAaE,CAAC,GAAEZ,EAAE,YAAYa,GAAEC,CAAC,GAAEV,EAAE,iBAAiBkB,EAAC,GAAElB,EAAE,eAAeJ,GAAEgB,GAAEZ,EAAE,QAAQ,GAAE,KAAK,QAAS;AAAA,EAAA;AAAA,EAAC,4BAA4B,GAAE;AAAC,QAAI,IAAE,KAAK,WAAW,IAAI,CAAC;AAAE,WAAa,KAAN,SAAU,IAAE,IAAIN,MAAE,KAAK,WAAW,IAAI,GAAE,CAAC,IAAG;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,WAAS,MAAK,KAAK,gBAAc,MAAK,KAAK,WAAS;AAAA,EAAE;AAAA,EAAC,MAAM,GAAE,GAAEQ,GAAE;AAAC,QAAG,KAAK,SAAS;AAAO,UAAK,EAAC,SAAQN,GAAE,OAAMI,GAAE,YAAWC,EAAC,IAAE,GAAEP,IAAEE,EAAE,0BAA2B,GAAC,IAAEA,EAAE,YAAa;AAAC,SAAK,WAASF,GAAE,KAAK,gBAAc;AAAE,UAAK,EAAC,UAASS,GAAE,cAAaC,EAAC,IAAEF,EAAE;AAAS,MAAE,6BAA6BN,GAAEQ,GAAED,CAAC;AAAE,UAAK,EAAC,OAAMK,GAAE,QAAOC,EAAC,IAAE,GAAEF,IAAEK,GAAEE,GAAEZ,GAAEF,CAAC,GAAEC,CAAC,GAAE2B,IAAEpB,IAAED,GAAES,IAAEP,IAAEF,GAAEW,IAAE,EAAE,oBAAoBtB,GAAEgC,GAAEZ,CAAC;AAAE,IAAApB,EAAE,gBAAgBF,GAAEwB,GAAE,GAAE,GAAExB,EAAE,OAAMA,EAAE,QAAO,GAAE,GAAEwB,EAAE,OAAMA,EAAE,QAAOR,GAAE,SAAQJ,GAAE,OAAO,GAAEV,EAAE,gBAAgBsB,CAAC,GAAEtB,EAAE,YAAY,GAAE,GAAEsB,EAAE,OAAMA,EAAE,MAAM,GAAEtB,EAAE,aAAa,IAAG,IAAG,IAAG,EAAE,GAAEA,EAAE,cAAc,GAAE,GAAE,GAAE,CAAC,GAAEA,EAAE,MAAMc,GAAE,KAAK,GAAE,KAAK,WAAS;AAAA,EAAE;AAAC;AAAC,SAASE,GAAErB,GAAEE,GAAE;AAAC,QAAMS,IAAET,IAAE,MAAI,OAAI;AAAG,SAAOF,IAAE,KAAG,IAAEW,KAAG,IAAEA;AAAC;AAAC,SAASK,GAAEhB,GAAE;AAAC,SAAOA,EAAE,IAAI,QAAM;AAAC;AAAC,MAAMqC,KAAE,EAAC,OAAM,EAAC,OAAM,CAAC,IAAG,IAAG,IAAG,EAAE,GAAE,WAAU,WAAU,GAAE,OAAM,IAAG,SAAQ,EAAC,OAAM,IAAG,MAAK,EAAC,KAAIrB,IAAE,SAAQH,GAAE,QAAO,MAAK,KAAI,IAAG,EAAC,MAAKI,GAAE,MAAK,OAAMA,GAAE,MAAK,OAAMA,GAAE,QAAO,EAAC,EAAC,EAAC,GAAEQ,KAAE,EAAC,GAAGY,IAAE,SAAQ,GAAE,GAAEV,KAAE,EAAC,OAAM,EAAC,OAAM,CAAC,IAAG,IAAG,IAAG,EAAE,GAAE,WAAU,YAAW,GAAE,OAAM,IAAG,SAAQ,GAAE;AAAE,SAASJ,GAAEvB,GAAEE,GAAE;AAAC,QAAK,EAAC,gBAAeS,GAAE,QAAON,EAAC,IAAEL,EAAE;AAAS,SAAOK,KAAOM,MAAJ,IAAMA,IAAET,EAAE,QAAM;AAAE;ACA1uD,MAAMyE,KAAE,MAAI;AAAI,IAAIC;AAAA,CAAG,SAAS1E,GAAE;AAAC,EAAAA,EAAEA,EAAE,QAAM,CAAC,IAAE,SAAQA,EAAEA,EAAE,UAAQ,CAAC,IAAE,WAAUA,EAAEA,EAAE,OAAK,CAAC,IAAE;AAAM,GAAE0E,MAAIA,IAAE,CAAA,EAAG;SAAE,cAAgBnC,GAAC;AAAEvC;AAAAA,EAAE,CAACG,EAAE,GAAE6B,CAAC,CAAC,GAAE2C,GAAE,WAAU,SAAQ,MAAM,GAAE3E,EAAE,CAACG,EAAE,GAAE8B,CAAC,CAAC,GAAE0C,GAAE,WAAU,UAAS,MAAM,GAAE3E,EAAE,CAACG,EAAE,GAAE8B,CAAC,CAAC,GAAE0C,GAAE,WAAU,aAAY,MAAM,GAAE3E,EAAE,CAACG,EAAE,GAAE4B,CAAC,CAAC,GAAE4C,GAAE,WAAU,YAAW,MAAM,GAAE3E,EAAE,CAACG,EAAE,GAAE4B,CAAC,CAAC,GAAE4C,GAAE,WAAU,iBAAgB,MAAM,GAAE3E,EAAE,CAACG,EAAE,GAAE6B,CAAC,CAAC,GAAE2C,GAAE,WAAU,gBAAe,MAAM,GAAE3E,EAAE,CAACG,EAAE,GAAE6B,CAAC,CAAC,GAAE2C,GAAE,WAAU,aAAY,MAAM,GAAE3E,EAAE,CAACG,EAAE,IAAG8B,CAAC,CAAC,GAAE0C,GAAE,WAAU,sBAAqB,MAAM,GAAE3E,EAAE,CAACG,EAAE,IAAG8B,CAAC,CAAC,GAAE0C,GAAE,WAAU,aAAY,MAAM,GAAE3E,EAAE,CAACG,EAAE,IAAG4B,CAAC,CAAC,GAAE4C,GAAE,WAAU,aAAY,MAAM,GAAE3E,EAAE,CAACG,EAAE,IAAG6B,CAAC,CAAC,GAAE2C,GAAE,WAAU,mBAAkB,MAAM;AAAE,IAAAC,KAAA,cAAgBpE,GAAC;AAAA;AAAER,EAAE,CAACG,EAAE,IAAG8B,CAAC,CAAC,GAAE4C,GAAE,WAAU,qBAAoB,MAAM,GAAE7E,EAAE,CAACG,EAAE,IAAG8B,CAAC,CAAC,GAAE4C,GAAE,WAAU,qBAAoB,MAAM;AAAE,IAAAC,KAAA,cAAgBpD,GAAC;AAAE,GAAAqD,IAAA,cAAiBzD,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,oBAAkB,EAAC,QAAO,CAAC,qBAAoB,mBAAmB,EAAC,GAAE,KAAK,qBAAmBoD,EAAE,OAAM,KAAK,mBAAiB,IAAG,KAAK,UAAQ;AAAA,EAAE;AAAA,EAAC,UAAU1E,GAAEF,GAAEG,GAAE;AAAC,UAAME,IAAEL,EAAE,SAAS2E,EAAC,GAAE1D,IAAEJ,GAAE,KAAK,KAAK,SAAS,SAASR,CAAC,CAAC,GAAE,IAAES,GAAE,IAAImB,EAAE,GAAG,EAAE,SAAShB,CAAC,GAAEA,CAAC;AAAE,QAAIN,IAAE,IAAIsB,EAAE,CAAC;AAAE,UAAMvB,IAAEW,GAAE,KAAK,KAAK,YAAY,SAASZ,EAAC,CAAC,EAAE,OAAOA,EAAC,GAAES,IAAEhB,EAAE,GAAEc,IAAEd,EAAE,GAAEiB,IAAE,IAAIc,EAAE,CAAC,EAAE,SAASlB,EAAEG,GAAER,CAAC,CAAC,EAAE,SAAS,CAAC,GAAEyB,IAAEpB,EAAE,IAAIkB,EAAE,EAAE,GAAE,CAAC,EAAE,SAAS,CAAC,GAAEN,IAAE,IAAIM,EAAE,CAAC,EAAE,SAAS,IAAIA,EAAE,CAAC,EAAE,SAASlB,EAAEL,GAAEM,CAAC,CAAC,CAAC;AAAE,WAAOL,IAAEA,EAAE,IAAIR,EAAE,SAASgB,CAAC,CAAC,GAAER,IAAEA,EAAE,IAAIR,EAAE,SAASgC,CAAC,CAAC,GAAExB,IAAEA,EAAE,IAAIgB,CAAC,GAAEhB;AAAA,EAAC;AAAA,EAAC,OAAOT,GAAEF,GAAE;AAAC,UAAM,IAAEuC,EAAErC,EAAE,QAAOmD,EAAC,GAAEhD,IAAE,IAAI4B,EAAE,CAAC,EAAE,SAAS,CAAC;AAAE,QAAIhB,IAAEf,EAAE,UAAS,IAAEe,EAAE,OAAOyB,EAAC;AAAE,UAAM/B,IAAE,KAAK,uBAAqBiE,EAAE,UAAQ1E,EAAE,eAAa,KAAK,uBAAqB0E,EAAE,OAAK1E,EAAE,YAAU,KAAK,gBAAgBA,CAAC,GAAEQ,IAAE,KAAK,UAAQ,KAAK,QAAQ,mBAAmBR,EAAE,EAAE,IAAE,IAAI+B,EAAE,CAAC,GAAEf,IAAE,KAAK,UAAQP,EAAE,SAASD,CAAC,IAAEC,GAAEE,IAAE,KAAK,KAAK,sBAAsB,SAAS,IAAIG,EAAEd,EAAE,KAAI,CAAC,CAAC;AAAE,QAAIY,IAAEZ,EAAE,QAAOmB,IAAE,IAAIY,EAAE,CAAC,GAAElB,IAAEI,EAAE,SAAQ,GAAGI,IAAE,IAAIY,EAAE,CAAC;AAAE,QAAG,KAAK,SAAQ;AAAC,UAAG,CAACjC,EAAE,gBAAgB,OAAM,IAAI,MAAM,yEAAyE;AAAE,YAAMF,IAAEE,EAAE,iBAAgBO,IAAET,EAAE,IAAGK,IAAEL,EAAE,GAAEiB,IAAE,KAAK,iBAAiBjB,EAAE,CAAC,GAAEY,KAAEsE,GAAE,MAAKhF,EAAE,IAAGG,CAAC,EAAE,OAAO,CAAC,GAAEM,KAAEM,EAAE,SAASL,GAAE,IAAIT,EAAC,CAAC;AAAE,MAAAoB,IAAEd,EAAE,IAAIE,EAAC,GAAEG,IAAEA,EAAE,IAAIS,CAAC;AAAA,IAAC;AAAM,MAAAF,IAAE6D,GAAE,MAAKhF,EAAE,IAAGA,EAAE,aAAa,EAAE,OAAOA,EAAE,aAAa,GAAEe,IAAEA,EAAE,SAASI,CAAC,GAAE,IAAE,EAAE,SAASA,CAAC,GAAEP,IAAEA,EAAE,SAASO,CAAC,GAAEN,IAAEoE,GAAE,MAAKjF,EAAE,EAAE,GAAEY,IAAEC,EAAE,SAAS,IAAIC,EAAEF,GAAE,CAAC,CAAC,EAAE;AAAG,UAAMsB,IAAEG,EAAErC,EAAE,QAAOK,EAAC,GAAEwB,IAAE,KAAK,uBAAuBK,CAAC,EAAE,SAAS,IAAIpB,EAAEF,GAAE,CAAC,CAAC;AAAE,QAAIkB,IAAE,KAAK,UAAQ,KAAK,UAAU9B,EAAE,WAAUA,EAAE,WAAUkC,CAAC,IAAE,KAAK,KAAKlC,EAAE,IAAGA,EAAE,SAAS;AAAE,IAAA8B,IAAE,KAAK,mBAAiBA,EAAE,IAAI3B,EAAE,SAAS,CAAC,CAAC,IAAE2B,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;AAAE,UAAMQ,IAAE,KAAK,UAAQb,GAAEE,GAAEG,GAAE,IAAIC,EAAE,CAAC,CAAC,GAAER,GAAEf,GAAE,IAAIuB,EAAE,CAAC,CAAC,CAAC,IAAE,IAAIP,GAAE,EAAE,GAAEmB,IAAE,IAAIX,EAAErB,EAAE,GAAG,IAAIkB,EAAE,EAAE,GAAEC,GAAE,CAAC,GAAES,IAAEvC,EAAE,UAAU,OAAO,KAAK,WAAW,IAAI;AAAE,QAAI0B,IAAE,IAAIK,EAAE,CAAC;AAAsJ,QAAjJ,KAAK,uBAAqB2C,EAAE,YAASnD,GAAEvB,EAAE,mBAAmB,GAAE,IAAI+B,EAAE,CAAC,CAAC,MAAID,IAAEA,EAAE,IAAI,IAAIC,EAAE,CAAC,CAAC,IAAGL,IAAE,IAAIK,EAAE/B,EAAE,mBAAmB,CAAC,EAAE,OAAO,CAAC,EAAE,OAAO4B,EAAC,IAAK,KAAK,uBAAqB8C,EAAE,MAAK;AAAC,YAAM5E,IAAEE,EAAE,mBAAmB,GAAEO,IAAE,IAAIwB,EAAE/B,EAAE,mBAAmB,CAAC;AAAEuB,MAAAA,GAAEhB,GAAE,IAAIwB,EAAE,CAAC,CAAC,MAAID,IAAEA,EAAE,IAAI,IAAIC,EAAE,CAAC,CAAC,IAAGL,IAAEnB,EAAE,IAAIT,CAAC,EAAE,OAAO,CAAC,EAAE,OAAO8B,EAAC;AAAA,IAAC;AAAC,WAAM,EAAC,YAAWe,GAAE,OAAM3B,GAAE,MAAK,GAAE,WAAUuB,GAAE,mBAAkB,IAAIR,EAAE,QAAKS,EAAC,EAAE,OAAOzB,CAAC,EAAE,OAAO,KAAK,KAAK,UAAU,GAAE,uBAAsBW,GAAE,GAAG,KAAK,gBAAgB1B,GAAEF,GAAE,EAAC,kBAAiBqB,GAAE,YAAWN,GAAE,aAAYQ,GAAE,cAAaiB,EAAC,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,uBAAuBtC,GAAE;AAAC,UAAMF,IAAE,KAAK,KAAK,iBAAgB,IAAE,KAAK,KAAK,aAAY,IAAE,IAAIiC,EAAE,CAAC,EAAE,SAAS/B,CAAC;AAAE,WAAOF,EAAE,SAASE,CAAC,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,SAASA,GAAE;AAAC,UAAMF,IAAE,IAAIiC,EAAE,IAAG,GAAE,IAAE,IAAIA,EAAE,CAAC,EAAE,SAASjC,CAAC,GAAE,IAAEuB,EAAE,KAAK,WAAW,SAAQrB,EAAE,SAAS,EAAE;AAAE,QAAIG,IAAE,EAAE,SAASH,EAAE,qBAAqB;AAAE,SAAK,cAAYG,IAAEA,EAAE,OAAO,CAAC;AAAG,UAAMY,IAAEf,EAAE,mBAAkBU,IAAEwB,GAAE/B,EAAE,SAASY,CAAC,GAAEZ,EAAE,IAAIY,CAAC,GAAE,CAAC;AAAE,WAAO,KAAK,kBAAkBf,EAAE,MAAM,SAASU,CAAC,GAAEV,CAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,GAAEF,GAAE,EAAC,kBAAiB,GAAE,YAAW,GAAE,aAAYK,GAAE,cAAaY,EAAC,GAAE;AAAC,QAAIL,GAAED,GAAED;AAAE,SAAK,WAASE,IAAE,IAAII,EAAEd,EAAE,OAAO,IAAIG,CAAC,GAAE,CAAC,GAAEM,IAAE,IAAIK,EAAEhB,EAAE,kBAAkB,IAAIK,CAAC,GAAE,CAAC,GAAEK,IAAE,IAAIM,EAAEhB,EAAE,kBAAkB,IAAIK,CAAC,GAAE,CAAC,MAAIO,IAAE,EAAE,SAAS,IAAII,EAAEd,EAAE,OAAO,SAAS,CAAC,GAAE,CAAC,CAAC,GAAES,IAAE,EAAE,SAAS,IAAIK,EAAEhB,EAAE,kBAAkB,SAAS,CAAC,GAAE,CAAC,CAAC,GAAEU,IAAE,EAAE,SAAS,IAAIM,EAAEhB,EAAE,kBAAkB,SAAS,CAAC,GAAE,CAAC,CAAC;AAAG,UAAK,EAAC,UAASkB,GAAE,UAAS,EAAC,IAAE,KAAK,MAAKJ,IAAEI,EAAE,SAAS,CAAC,EAAE,SAAS,IAAIF,EAAEd,EAAE,KAAI,CAAC,CAAC,GAAE,IAAEY,EAAE,IAAI,EAAE,SAASF,CAAC,CAAC,EAAE,IAAGS,IAAEP,EAAE,IAAI,EAAE,SAASH,CAAC,CAAC,EAAE,IAAGI,IAAED,EAAE,IAAI,EAAE,SAASJ,CAAC,CAAC,EAAE,IAAGS,IAAEkB,GAAE,KAAK,eAAe,UAAS,EAAE,IAAGhB,EAAE,IAAGN,EAAE,EAAE;AAAE,WAAO,KAAK,UAAQgB,EAAEd,GAAEkC,GAAE,KAAK,cAAc,GAAEhC,CAAC,IAAEA;AAAA,EAAC;AAAA,EAAC,iBAAiBjB,GAAE;AAAC,UAAMF,IAAE,IAAIgC,GAAE9B,CAAC,GAAE,IAAEsC,GAAExC,GAAE,IAAIgC,GAAE,CAAC,CAAC,GAAE,IAAEa,GAAE7C,GAAE,IAAIgC,GAAE,CAAC,CAAC;AAAE,WAAO,IAAIG,EAAE,IAAIF,EAAE,CAAC,EAAE,SAAS,CAAC,GAAE,IAAIA,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgB/B,GAAE;AAAC,QAAIF,IAAEE,EAAE;AAAM,QAAG,KAAK,qBAAoB;AAAC,YAAM,IAAE,KAAK,QAAQ,cAAcA,EAAE,EAAE;AAAE,MAAAF,IAAE,KAAK,oBAAoB,SAAS,GAAEE,EAAE,OAAM,IAAIwB,GAAE,EAAE,CAAC;AAAA,IAAC;AAAC,QAAG,KAAK,uBAAsB;AAAC,YAAM,IAAE,KAAK,QAAQ,gBAAgBxB,EAAE,EAAE,GAAE,IAAE,KAAK,sBAAsB,WAAW,CAAC;AAAE,MAAAF,IAAEA,EAAE,SAAS,CAAC;AAAA,IAAC;AAAC,WAAOA;AAAA,EAAC;AAAC;AAACE,EAAE,CAACe,EAAE0B,EAAC,CAAC,GAAEyC,EAAG,WAAU,uBAAsB,MAAM,GAAElF,EAAE,CAACe,EAAE+B,EAAC,CAAC,GAAEoC,EAAG,WAAU,yBAAwB,MAAM,GAAElF,EAAE,CAACe,EAAEmC,EAAC,CAAC,GAAEgC,EAAG,WAAU,0BAAyB,MAAM,GAAElF,EAAE,CAACe,EAAEqB,EAAC,CAAC,GAAE8C,EAAG,WAAU,iCAAgC,MAAM,GAAElF,EAAE,CAACe,EAAE2B,EAAC,CAAC,GAAEwC,EAAG,WAAU,gCAA+B,MAAM,GAAElF,EAAE,CAACe,EAAE8B,EAAC,CAAC,GAAEqC,EAAG,WAAU,2BAA0B,MAAM,GAAElF,EAAE,CAACe,EAAEgC,EAAC,CAAC,GAAEmC,EAAG,WAAU,+BAA8B,MAAM,GAAElF,EAAE,CAACU,EAAEN,EAAC,CAAC,GAAE8E,EAAG,WAAU,cAAa,MAAM,GAAElF,EAAE,CAACS,EAAC,GAAEyE,EAAG,WAAU,sBAAqB,MAAM,GAAElF,EAAE,CAACS,EAAC,GAAEyE,EAAG,WAAU,oBAAmB,MAAM,GAAElF,EAAE,CAACS,EAAC,GAAEyE,EAAG,WAAU,WAAU,MAAM,GAAElF,EAAE,CAACF,EAAE,GAAEkB,EAAE2D,EAAC,CAAC,GAAE7E,EAAE,GAAEkB,EAAE6D,EAAC,CAAC,CAAC,GAAEK,EAAG,WAAU,UAAS,IAAI,GAAElF,EAAE,CAACF,EAAE,GAAEkB,EAAEmE,EAAC,CAAC,CAAC,GAAED,EAAG,WAAU,YAAW,IAAI;ACApzM,IAAAE,KAAA,cAAgBjF,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKS,EAAE,OAAM,KAAK,UAAQ,EAAC,UAAS,IAAIO,IAAC,GAAE,KAAK,YAAUrB,GAAE,QAAMA,GAAE,cAAYA,GAAE,SAAQ,KAAK,iBAAeE,GAAE;AAAA,EAAI;AAAA,EAAC,OAAO,GAAE,GAAE;AAAC,UAAK,EAAC,SAAQG,GAAE,SAAQS,EAAC,IAAE,GAAEO,IAAEV,EAAE,CAAC,GAAEE,IAAE,EAAC,GAAGD,EAAE,CAAC,EAAC,GAAEO,IAAE,EAAE,SAAS,SAAQ,GAAGF,IAAE,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGR,EAAE,GAAE,EAAE,QAAOU,EAAE,QAAQ,GAAE,GAAGhB,EAAE,GAAE,EAAE,MAAM,GAAE,YAAWW,EAAE,eAAe,cAAcT,GAAE,EAAE,UAAU,EAAC,GAAE,SAAQ,EAAC,GAAGgB,GAAE,oBAAmBH,EAAE,OAAM,kBAAiB,IAAG,SAAQ,GAAE,GAAE,oBAAmBC,EAAE,oBAAmB,kBAAiBT,EAAE,CAAC,EAAC;AAAE,IAAAI,EAAE,UAAUG,CAAC,GAAEH,EAAE,iBAAiBD,CAAC,GAAEC,EAAE,WAAW,GAAE,CAAC,GAAEA,EAAE,UAAU,EAAC,GAAGG,GAAE,SAAQ,EAAC,GAAGI,GAAE,oBAAmBH,EAAE,MAAK,kBAAiB,IAAG,SAAQ,GAAE,EAAC,CAAC,GAAEJ,EAAE,iBAAiBD,CAAC,GAAEC,EAAE,WAAW,GAAE,CAAC,GAAEA,EAAE,UAAU,EAAC,GAAGG,GAAE,SAAQ,EAAC,GAAGI,GAAE,oBAAmBH,EAAE,OAAM,kBAAiB,IAAG,SAAQ,GAAE,EAAC,CAAC,GAAEJ,EAAE,iBAAiBD,CAAC,GAAEC,EAAE,WAAW,GAAE,CAAC;AAAA,EAAC;AAAC,GCA90ByE,KAAA,cAAgBrF,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKU,EAAE,MAAK,KAAK,UAAQ,EAAC,UAAS,IAAIE,KAAC,GAAE,KAAK,iBAAed,GAAE;AAAA,EAAI;AAAA,EAAC,OAAO,GAAE,GAAE;AAAC,UAAK,EAAC,SAAQY,GAAE,YAAWE,EAAC,IAAE,GAAEI,IAAE,EAAE,SAAS,SAAU;AAAC,IAAAN,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGP,EAAE,GAAE,EAAE,QAAOa,EAAE,QAAQ,GAAE,GAAGP,EAAE,GAAE,EAAE,MAAM,GAAE,sBAAqBU,GAAEP,CAAC,EAAC,GAAE,SAAQ,EAAC,GAAGL,EAAE,CAAC,EAAC,GAAE,oBAAmBS,EAAE,oBAAmB,kBAAiBf,EAAE,CAAC,EAAC,CAAC,GAAES,EAAE,iBAAiBF,EAAE,CAAC,CAAC,GAAEE,EAAE,WAAW,GAAE,CAAC;AAAA,EAAC;AAAC;ACAqD,MAAMmC,WAAUH,GAAC;AAAE1C;AAAAA,EAAE,CAACU,EAAE,GAAEM,CAAC,CAAC,GAAE6B,GAAE,WAAU,uBAAsB,MAAM,GAAE7C,EAAE,CAACU,EAAE,IAAGE,CAAC,CAAC,GAAEiC,GAAE,WAAU,oBAAmB,MAAM,GAAE7C,EAAE,CAACU,EAAE,IAAGM,CAAC,CAAC,GAAE6B,GAAE,WAAU,mBAAkB,MAAM,GAAE7C,EAAE,CAACU,EAAE,IAAGM,CAAC,CAAC,GAAE6B,GAAE,WAAU,WAAU,MAAM,GAAE7C,EAAE,CAACU,EAAE,IAAGW,CAAC,CAAC,GAAEwB,GAAE,WAAU,QAAO,MAAM;AAAqB,MAAMM,WAAU/C,GAAC;AAAA,EAAC,kBAAkBJ,GAAEF,GAAE;AAAC,UAAMG,IAAE0C,EAAE3C,EAAE,QAAOgC,EAAC;AAAE,WAAO/B,EAAE,SAASQ,GAAEX,GAAE,IAAIkB,EAAE,IAAG,CAAC,EAAE,SAAS,IAAIA,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,IAAIA,EAAE,CAAC,EAAE,SAASf,CAAC,EAAE,SAASM,GAAE,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,aAAaP,GAAE;AAAC,UAAK,EAAC,WAAUF,GAAE,QAAO,GAAE,MAAKY,GAAE,aAAYK,GAAE,qBAAoBP,GAAE,iBAAgBmB,GAAE,UAASM,GAAE,SAAQQ,EAAC,IAAEzC,GAAE6B,IAAEd,EAAE,EAAE,OAAOd,EAAC,EAAE,SAASgC,CAAC,GAAED,IAAEb,GAAEX,EAAE,IAAImB,CAAC,EAAE,OAAOE,CAAC,CAAC,GAAEP,IAAET,GAAEH,EAAE,IAAGA,EAAE,IAAG,IAAIE,EAAEoB,GAAE,GAAE,CAAC,GAAEE,IAAEM,GAAE7B,EAAE,KAAK,WAAW,SAAQW,CAAC,CAAC,EAAE,SAAS,CAAC,EAAE,SAAS,CAAC,EAAE,SAASnB,EAAC,EAAE,SAAS8B,CAAC,GAAES,IAAE,EAAE,EAAE,SAAS5C,CAAC,GAAEqC,IAAEJ,GAAE,CAACd,GAAEwB,GAAE,IAAIzB,EAAE,CAAC,CAAC,GAAEkB,EAAE,SAASpC,CAAC,CAAC,GAAE,CAACmB,GAAEwB,GAAE,IAAIzB,EAAE,CAAC,CAAC,GAAEF,GAAES,GAAEd,GAAEyB,GAAE,IAAIlB,EAAE,CAAC,CAAC,GAAE,IAAIA,EAAE,CAAC,CAAC,EAAE,IAAI0B,EAAE,SAASA,CAAC,CAAC,CAAC,EAAE,SAAS5C,CAAC,CAAC,GAAE,CAAC,IAAGoC,CAAC,CAAC,GAAE9B,IAAEqB,GAAE,IAAIT,EAAE,IAAG,EAAE,SAASmB,CAAC,GAAE,IAAInB,EAAE,CAAC,GAAE,IAAIA,EAAE,CAAC,CAAC;AAAE,WAAO,IAAIK,EAAEjB,CAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBJ,GAAE;AAAC,UAAK,EAAC,WAAUF,GAAE,QAAO,GAAE,OAAM,GAAE,qBAAoBK,GAAE,aAAY,GAAE,iBAAgB,GAAE,MAAKK,EAAC,IAAER,GAAES,IAAE,EAAE,EAAE,SAAS,IAAIO,EAAE,CAAC,EAAE,SAASlB,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC,GAAEiC,IAAEZ,GAAEhB,EAAE,OAAOM,CAAC,CAAC,GAAEQ,IAAE,IAAID,EAAE,GAAE,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,IAAIA,EAAE,GAAE,CAAC,GAAE,IAAEH,GAAEL,EAAE,IAAGA,EAAE,IAAG,IAAII,EAAEK,GAAEc,CAAC,CAAC;AAAE,QAAIR,IAAEZ,EAAE,KAAK,WAAW,SAAQ,CAAC;AAAE,WAAa,KAAK,uBAAX,SAAiCY,IAAEI,EAAEM,GAAE,GAAE,IAAIjB,EAAE,GAAE,CAAC,GAAE,IAAIK,EAAE,EAAE,CAAC,GAAE,CAAC,IAAGE;AAAA,EAAC;AAAA,EAAC,OAAOvB,GAAEF,GAAE;AAAC,UAAK,EAAC,kBAAiB,GAAE,MAAK,GAAE,QAAOK,EAAC,IAAEH,GAAE,IAAEqC,GAAE,MAAKrC,CAAC,GAAE,IAAEA,EAAE,oBAAoB,OAAO,KAAK,KAAK,iBAAiB,EAAE,IAAIyC,GAAE,GAAE,EAAE,YAAY,CAAC,GAAEjC,IAAE,IAAII,EAAE,EAAE,EAAE,SAAS,EAAE,CAAC,GAAE,EAAE,EAAE,SAAS,EAAE,CAAC,CAAC,GAAEH,IAAE,EAAE,OAAO,KAAK,WAAW,KAAK,IAAI,GAAEU,IAAEwB,EAAExC,GAAEmB,EAAC,GAAET,IAAE8B,EAAExC,GAAE+B,EAAC,GAAEvB,IAAEgB,EAAEM,GAAEd,GAAE,IAAIH,EAAE,GAAE,CAAC,GAAE,KAAK,kBAAkBhB,GAAE,EAAE,eAAe,GAAE,IAAIgB,EAAE,CAAC,CAAC;AAAE,WAAM,EAAC,GAAG,GAAE,MAAKP,GAAE,aAAYD,GAAE,qBAAoB,GAAE,OAAMW,GAAE,iBAAgBN,GAAE,UAASF,GAAE,iBAAgBX,EAAE,iBAAgB,SAAQA,EAAE,SAAQ,GAAG,KAAK,gBAAgBA,GAAEF,GAAE,EAAE,SAAS,EAAC;AAAA,EAAC;AAAA,EAAC,SAASE,GAAE;AAAC,UAAK,EAAC,OAAMF,GAAE,SAAQ,GAAE,OAAM,EAAC,IAAEE,GAAEG,IAAEuB,GAAE1B,GAAE,KAAK,qBAAqB,IAAI,GAAE,IAAE2B,EAAEM,GAAE,GAAE,IAAIjB,EAAE,GAAE,CAAC,GAAE,KAAK,aAAahB,CAAC,GAAE,KAAK,iBAAiBA,CAAC,CAAC,GAAE,IAAEF,EAAE,SAAS,CAAC,EAAE,SAASK,CAAC,EAAE,SAAS,CAAC;AAAE,WAAO,KAAK,kBAAkB,GAAEH,CAAC;AAAA,EAAC;AAAC;AAACA,EAAE,CAACe,EAAEuB,EAAC,CAAC,GAAEa,GAAE,WAAU,cAAa,MAAM,GAAEnD,EAAE,CAACF,EAAE,GAAEU,EAAEqC,EAAC,CAAC,GAAE/C,EAAE,GAAEU,EAAEqB,EAAC,CAAC,CAAC,GAAEsB,GAAE,WAAU,UAAS,IAAI;ACAhiF,IAAAmC,KAAA,cAAgBtF,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKU,EAAE,cAAa,KAAK,UAAQ,EAAC,UAAS,IAAIS,KAAC,GAAE,KAAK,iBAAerB,GAAE;AAAA,EAAI;AAAA,EAAC,OAAO,GAAE,GAAE;AAAC,UAAK,EAAC,SAAQY,GAAE,SAAQS,GAAE,YAAWH,EAAC,IAAE,GAAEF,IAAE,EAAE,SAAS;AAAW,IAAAK,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGV,EAAE,GAAE,EAAE,QAAOK,EAAE,QAAQ,GAAE,GAAGX,EAAE,GAAE,EAAE,MAAM,GAAE,sBAAqBS,GAAEI,CAAC,GAAE,YAAWG,EAAE,eAAe,cAAcT,GAAE,EAAE,UAAU,EAAC,GAAE,SAAQ,EAAC,GAAGH,EAAE,CAAC,EAAC,GAAE,oBAAmBO,EAAE,oBAAmB,kBAAiBb,EAAE,CAAC,EAAC,CAAC,GAAEkB,EAAE,iBAAiBX,EAAE,CAAC,CAAC,GAAEW,EAAE,WAAW,GAAE,CAAC;AAAA,EAAC;AAAC;ACA+oB,MAAMwD,WAAUpC,GAAC;AAAEvC;AAAAA,EAAE,CAACO,EAAE,GAAEY,CAAC,CAAC,GAAEwD,GAAE,WAAU,SAAQ,MAAM,GAAE3E,EAAE,CAACO,EAAE,GAAEY,CAAC,CAAC,GAAEwD,GAAE,WAAU,gBAAe,MAAM,GAAE3E,EAAE,CAACO,EAAE,GAAEkB,CAAC,CAAC,GAAEkD,GAAE,WAAU,UAAS,MAAM,GAAE3E,EAAE,CAACO,EAAE,GAAEkB,CAAC,CAAC,GAAEkD,GAAE,WAAU,aAAY,MAAM,GAAE3E,EAAE,CAACO,EAAE,GAAEY,CAAC,CAAC,GAAEwD,GAAE,WAAU,UAAS,MAAM,GAAE3E,EAAE,CAACO,EAAE,GAAEK,CAAC,CAAC,GAAE+D,GAAE,WAAU,kBAAiB,MAAM,GAAE3E,EAAE,CAACO,EAAE,GAAEK,CAAC,CAAC,GAAE+D,GAAE,WAAU,kBAAiB,MAAM,GAAE3E,EAAE,CAACO,EAAE,IAAGkB,CAAC,CAAC,GAAEkD,GAAE,WAAU,aAAY,MAAM;AAAE,MAAME,WAAU9D,GAAC;AAAA;AAAEf,EAAE,CAACO,EAAE,IAAGkB,CAAC,CAAC,GAAEoD,GAAE,WAAU,qBAAoB,MAAM,GAAE7E,EAAE,CAACO,EAAE,IAAGkB,CAAC,CAAC,GAAEoD,GAAE,WAAU,qBAAoB,MAAM,GAAE7E,EAAE,CAACO,EAAE,IAAGkB,CAAC,CAAC,GAAEoD,GAAE,WAAU,wBAAuB,MAAM,GAAE7E,EAAE,CAACO,EAAE,IAAGkB,CAAC,CAAC,GAAEoD,GAAE,WAAU,wBAAuB,MAAM;AAAE,MAAMG,WAAU7C,GAAC;AAAA;AAAE,SAASgD,GAAEnF,GAAE,GAAEO,GAAEN,GAAE;AAAC,SAAO,EAAE,SAASD,EAAE,CAAC,EAAE,IAAIO,EAAE,SAASP,EAAE,CAAC,CAAC,EAAE,IAAIC,EAAE,SAASD,EAAE,CAAC,CAAC;AAAC;AAAC,SAASkF,GAAGlF,GAAE;AAAC,SAAOA,EAAE,SAASA,CAAC,EAAE,OAAO,GAAG;AAAC;AAAC,MAAMuF,WAAW1D,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,oBAAkB,EAAC,QAAO,CAAC,qBAAoB,mBAAmB,GAAE,WAAU,CAAC,wBAAuB,sBAAsB,EAAC;AAAA,EAAC;AAAA,EAAC,OAAO7B,GAAEF,GAAE;AAAC,UAAM,IAAEoF,GAAGlF,EAAE,OAAO,CAAC,GAAE,IAAEkF,GAAGlF,EAAE,OAAO,CAAC,GAAEG,IAAE+E,GAAGlF,EAAE,OAAO,CAAC,GAAEe,IAAEf,EAAE,gBAAeS,IAAEwC,EAAEjD,EAAE,QAAOkC,GAAE,OAAO,KAAK,GAAEH,IAAEkB,EAAEjD,EAAE,QAAOkC,GAAE,OAAO,YAAY,GAAEjB,IAAEgC,EAAEjD,EAAE,QAAOkC,GAAE,OAAO,0BAA0B,GAAE,IAAEgB,GAAElD,EAAE,QAAOkC,GAAE,OAAO,WAAW,GAAEP,IAAEsD,GAAE,MAAKjF,EAAE,EAAE,GAAEiC,IAAEwC,GAAE,MAAKzE,EAAE,IAAGA,EAAE,OAAM,CAAC,EAAE,SAAS2B,CAAC,GAAEb,IAAE,KAAK,KAAK,sBAAsB,SAAS,IAAIJ,EAAEV,EAAE,IAAI,IAAG,CAAC,CAAC,GAAEwB,IAAEkD,GAAE,MAAK1E,EAAE,IAAGG,CAAC,EAAE,OAAOA,CAAC,GAAEoB,IAAE,EAAE,SAASC,CAAC,GAAEQ,IAAEhC,EAAE,OAAO,GAAG,SAASwB,CAAC;AAAE,QAAIC,IAAE,EAAE,SAASR,EAAE,SAASO,EAAE,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;AAAE,IAAAC,IAAET,GAAES,GAAEjB,GAAEe,EAAE,SAAS,IAAG,GAAE,IAAIX,EAAE,CAAC,CAAC,CAAC;AAAE,UAAMS,IAAEb,GAAEiB,GAAE,IAAIb,EAAE,CAAC,CAAC,GAAE0B,IAAEtB,GAAES,GAAE,IAAIb,EAAE,CAAC,CAAC,GAAE2B,IAAE5B,EAAE,aAAaI,EAAE,SAASe,EAAC,CAAC,GAAE,IAAEe,GAAE,MAAK7C,EAAE,EAAE,GAAE6B,IAAE,KAAK,uBAAuBE,CAAC,EAAE,SAAS,CAAC,EAAE,SAASQ,CAAC,EAAE,SAAS,IAAI7B,EAAEsB,EAAE,IAAG,CAAC,CAAC,GAAEJ,IAAE,KAAK,KAAK5B,EAAE,IAAGA,EAAE,SAAS,GAAEK,IAAE,IAAIc,EAAEL,EAAE,GAAG,IAAIe,EAAE,EAAE,GAAED,GAAE,CAAC,GAAEa,IAAEzC,EAAE,UAAU,OAAO,KAAK,WAAW,IAAI,GAAE0C,KAAE1C,EAAE,aAAa,SAASsC,CAAC,GAAED,KAAEY,EAAEjD,EAAE,QAAOkC,GAAE,OAAO,oBAAoB,GAAES,KAAE3C,EAAE,eAAe,SAASuB,CAAC;AAAE,WAAM,EAAC,YAAWlB,GAAE,OAAM4B,GAAE,WAAUQ,GAAE,cAAaC,IAAE,aAAYrB,GAAE,cAAasB,IAAE,OAAMlC,GAAE,sBAAqB4B,IAAE,GAAG,KAAK,gBAAgBrC,GAAEF,GAAE,EAAC,KAAIE,EAAE,KAAI,MAAKuB,GAAE,gBAAeC,GAAE,cAAaO,GAAE,gBAAe,GAAE,eAAcQ,GAAE,aAAYlB,GAAE,cAAasB,IAAE,OAAMlC,EAAC,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,SAAST,GAAE;AAAC,UAAMF,IAAE,KAAK,UAAUE,EAAE,WAAUA,CAAC;AAAE,WAAO,KAAK,kBAAkBF,GAAEE,CAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,GAAEF,GAAE,GAAE;AAAC,WAAOiC,EAAEd,GAAE,EAAE,MAAK,KAAK,eAAe,wBAAwB,GAAE,KAAK,oBAAoBjB,GAAEF,GAAE,CAAC,GAAE,KAAK,eAAeE,GAAEF,GAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,uBAAuBE,GAAE;AAAC,UAAMF,IAAE,KAAK,KAAK,iBAAgB,IAAE,KAAK,KAAK,aAAY,IAAE,IAAIc,EAAE,CAAC,EAAE,SAASZ,CAAC;AAAE,WAAOF,EAAE,SAASE,CAAC,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBA,GAAE;AAAC,UAAMF,IAAE,KAAK,KAAK,SAAS,SAAS,KAAK,KAAK,QAAQ,GAAE,IAAE,KAAK,KAAK,UAAS,IAAE,IAAIc,EAAE,CAAC,EAAE,SAASZ,CAAC;AAAE,WAAOF,EAAE,SAASE,CAAC,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAUA,GAAEF,GAAE;AAAC,WAAOiC,EAAElB,GAAEf,EAAE,OAAM,IAAIc,EAAE,CAAC,CAAC,GAAE,KAAK,aAAaZ,GAAEF,CAAC,GAAE,KAAK,gBAAgBE,GAAEF,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBE,GAAEF,GAAE;AAAC,WAAO6B,EAAE,KAAK,WAAW,SAAQ3B,CAAC,EAAE,SAASF,EAAE,KAAK;AAAA,EAAC;AAAA,EAAC,aAAaE,GAAEF,GAAE;AAAC,UAAM,IAAE6B,EAAE,KAAK,WAAW,SAAQ3B,CAAC,GAAE,IAAE,IAAIY,EAAE,GAAE,EAAE,SAASU,GAAE,CAAC,CAAC,EAAE,SAASxB,EAAE,YAAY,EAAE,SAAS8B,EAAC,GAAEzB,IAAE8B,GAAE,IAAIrB,EAAE,GAAE,EAAE,SAAS,CAAC,GAAE,IAAIA,EAAE,CAAC,GAAE,IAAIA,EAAE,CAAC,CAAC,GAAEG,IAAEjB,EAAE,MAAM,SAASK,CAAC;AAAE,QAAIM,IAAEX,EAAE;AAAY,SAAK,cAAYW,IAAED,GAAEC,GAAEX,EAAE,qBAAqB,SAAS,CAAC,CAAC;AAAG,UAAMY,IAAED,EAAE,SAAS,GAAE,GAAEO,IAAEF,GAAE,CAAC,EAAE,SAASJ,CAAC,GAAEC,IAAEsB,GAAE,IAAIrB,EAAE,GAAE,EAAE,SAASI,CAAC,GAAE,IAAIJ,EAAE,CAAC,GAAE,IAAIA,EAAE,CAAC,CAAC,GAAEO,IAAEK,GAAE1B,EAAE,cAAaA,EAAE,OAAMA,EAAE,oBAAoB,EAAE,SAASa,CAAC;AAAE,WAAO,IAAIC,EAAE,CAAC,EAAE,SAASO,EAAE,CAAC,EAAE,SAASJ,CAAC,EAAE,IAAII,CAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBnB,GAAEF,GAAE,GAAE;AAAC,UAAK,EAAC,UAAS,GAAE,UAASK,GAAE,qBAAoBY,EAAC,IAAE,KAAK,gBAAeN,IAAEN,EAAE,SAASY,CAAC,GAAE,EAAC,UAASC,GAAE,UAASR,EAAC,IAAE,KAAK,MAAKI,IAAEI,EAAE,SAASR,CAAC,EAAE,SAAS,IAAIE,EAAE,EAAE,KAAI,CAAC,CAAC,EAAE,IAAG,IAAE,EAAE,KAAK,SAAS,GAAE;AAAE,WAAOa,GAAEX,GAAE,CAAC,EAAE,SAAS,CAAC,EAAE,IAAIH,CAAC;AAAA,EAAC;AAAA,EAAC,eAAeT,GAAEF,GAAE,GAAE;AAAC,UAAK,EAAC,KAAI,GAAE,gBAAeK,GAAE,cAAaY,EAAC,IAAE,GAAEN,IAAE,IAAIC,EAAEV,EAAE,OAAO,SAASG,CAAC,GAAE,CAAC,GAAEa,IAAE,IAAIN,EAAEZ,EAAE,kBAAkB,SAASK,CAAC,GAAE,CAAC,GAAEK,IAAE,IAAIE,EAAEZ,EAAE,kBAAkB,SAASK,CAAC,GAAE,CAAC,GAAE,EAAC,UAASS,GAAE,UAAS,EAAC,IAAE,KAAK,MAAKO,IAAEP,EAAE,SAAS,CAAC,EAAE,SAAS,IAAIF,EAAE,GAAE,CAAC,CAAC,GAAEO,IAAE,KAAK,qBAAqBF,CAAC,EAAE,SAAS,EAAE,cAAc,EAAE,SAAS,EAAE,aAAa,GAAEF,IAAEM,EAAE,IAAIF,EAAE,SAASR,CAAC,CAAC,EAAE,IAAG,IAAEU,EAAE,IAAIF,EAAE,SAASD,CAAC,CAAC,EAAE,IAAG,IAAEG,EAAE,IAAIF,EAAE,SAAST,CAAC,CAAC,EAAE,IAAGM,IAAE,KAAK,eAAe,UAASU,IAAE,KAAK,eAAe,UAASD,IAAElB,GAAES,GAAED,GAAE,GAAE,CAAC;AAAE,WAAOkB,EAAEC,GAAET,GAAEC,CAAC,GAAED,GAAE,KAAK,gBAAgBV,GAAE,GAAE,GAAEb,GAAEF,GAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBE,GAAEF,GAAE,GAAE,GAAEK,GAAEY,GAAE;AAAC,UAAK,EAAC,aAAYN,GAAE,OAAMC,GAAE,cAAaM,EAAC,IAAED,GAAEP,IAAE,KAAK,eAAe,UAAS,IAAE,KAAK,eAAe,UAASuB,IAAEU,EAAEjC,EAAE,IAAI,IAAIiB,EAAEJ,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,CAAC,GAAErB,GAAEF,GAAE,CAAC,GAAEmB,IAAEwB,EAAEjC,EAAE,IAAI,IAAIiB,EAAE,GAAEJ,GAAE,CAAC,CAAC,CAAC,GAAErB,GAAEF,GAAE,CAAC,GAAEe,IAAE4B,EAAEjC,EAAE,IAAI,IAAIiB,EAAE,GAAEJ,GAAE,CAAC,CAAC,CAAC,GAAErB,GAAEF,GAAE,CAAC,GAAE,IAAE2C,EAAEjC,EAAE,IAAI,IAAIiB,EAAEJ,GAAE,CAAC,GAAE,CAAC,CAAC,GAAErB,GAAEF,GAAE,CAAC,GAAE,IAAE2C,EAAEjC,GAAER,GAAEF,GAAE,CAAC,GAAEgB,IAAE2B,EAAEjC,EAAE,IAAI,IAAIiB,EAAE,GAAE,CAAC,CAAC,GAAEzB,GAAEF,GAAE,CAAC,GAAE0B,IAAEiB,EAAEjC,EAAE,IAAI,IAAIiB,EAAEJ,GAAE,CAAC,GAAE,CAAC,CAAC,GAAErB,GAAEF,GAAE,CAAC,GAAEyB,IAAEkB,EAAEjC,EAAE,IAAI,IAAIiB,EAAE,GAAE,CAAC,CAAC,GAAEzB,GAAEF,GAAE,CAAC,GAAEkC,IAAES,EAAEjC,EAAE,IAAI,IAAIiB,EAAE,GAAE,CAAC,CAAC,GAAEzB,GAAEF,GAAE,CAAC,GAAEoC,IAAE,EAAE,UAAU,OAAO,KAAK,WAAW,IAAI,GAAEK,IAAEpC,EAAE,qBAAqB,OAAO,KAAK,WAAW,IAAI,GAAEgC,IAAEhC,EAAE,qBAAqB,OAAO,KAAK,WAAW,IAAI,GAAE0B,IAAE,EAAC,OAAM,IAAIV,EAAE,CAAC,GAAE,cAAa,IAAIA,EAAE,CAAC,GAAE,sBAAqB,IAAIP,EAAE,CAAC,GAAE,aAAYH,GAAE,cAAaO,GAAE,OAAMN,EAAC;AAAE,QAAIoB,IAAE,IAAIlB,EAAE,CAAC;AAAE,WAAOkB,IAAEA,EAAE,IAAIY,EAAEX,CAAC,EAAE,SAAS,KAAK,UAAUoD,GAAEpD,GAAEG,GAAEK,GAAEJ,CAAC,GAAEN,CAAC,EAAE,CAAC,CAAC,GAAEC,IAAEA,EAAE,IAAIY,EAAEzB,CAAC,EAAE,SAAS,KAAK,UAAUkE,GAAElE,GAAEiB,GAAEK,GAAEJ,CAAC,GAAEN,CAAC,EAAE,CAAC,CAAC,GAAEC,IAAEA,EAAE,IAAIY,EAAE7B,CAAC,EAAE,SAAS,KAAK,UAAUsE,GAAEtE,GAAEqB,GAAEK,GAAEJ,CAAC,GAAEN,CAAC,EAAE,CAAC,CAAC,GAAEC,IAAEA,EAAE,IAAIY,EAAE,CAAC,EAAE,SAAS,KAAK,UAAUyC,GAAE,GAAEjD,GAAEK,GAAEJ,CAAC,GAAEN,CAAC,EAAE,CAAC,CAAC,GAAEC,IAAEA,EAAE,IAAIY,EAAE,CAAC,EAAE,SAAS,KAAK,UAAUyC,GAAE,GAAEjD,GAAEK,GAAEJ,CAAC,GAAEN,CAAC,EAAE,CAAC,CAAC,GAAEC,IAAEA,EAAE,IAAIY,EAAE5B,CAAC,EAAE,SAAS,KAAK,UAAUqE,GAAErE,GAAEoB,GAAEK,GAAEJ,CAAC,GAAEN,CAAC,EAAE,CAAC,CAAC,GAAEC,IAAEA,EAAE,IAAIY,EAAElB,CAAC,EAAE,SAAS,KAAK,UAAU2D,GAAE3D,GAAEU,GAAEK,GAAEJ,CAAC,GAAEN,CAAC,EAAE,CAAC,CAAC,GAAEC,IAAEA,EAAE,IAAIY,EAAEnB,CAAC,EAAE,SAAS,KAAK,UAAU4D,GAAE5D,GAAEW,GAAEK,GAAEJ,CAAC,GAAEN,CAAC,EAAE,CAAC,CAAC,GAAEC,IAAEA,EAAE,IAAIY,EAAEV,CAAC,EAAE,SAAS,KAAK,UAAUmD,GAAEnD,GAAEE,GAAEK,GAAEJ,CAAC,GAAEN,CAAC,EAAE,CAAC,CAAC,GAAES,EAAER,GAAE,IAAIlB,EAAE,IAAG,CAAC,EAAE,SAASyB,GAAE,KAAK,cAAc,CAAC;AAAA,EAAC;AAAC;AAACrC,EAAE,CAACC,EAAEuC,EAAC,CAAC,GAAE+C,GAAG,WAAU,uBAAsB,MAAM,GAAEvF,EAAE,CAACC,EAAEG,EAAC,CAAC,GAAEmF,GAAG,WAAU,yBAAwB,MAAM,GAAEvF,EAAE,CAACC,EAAE8C,EAAC,CAAC,GAAEwC,GAAG,WAAU,0BAAyB,MAAM,GAAEvF,EAAE,CAACC,EAAEkD,EAAC,CAAC,GAAEoC,GAAG,WAAU,iCAAgC,MAAM,GAAEvF,EAAE,CAACC,EAAEyB,EAAC,CAAC,GAAE6D,GAAG,WAAU,gCAA+B,MAAM,GAAEvF,EAAE,CAACC,EAAE6C,EAAC,CAAC,GAAEyC,GAAG,WAAU,2BAA0B,MAAM,GAAEvF,EAAE,CAACC,EAAEmC,EAAC,CAAC,GAAEmD,GAAG,WAAU,+BAA8B,MAAM,GAAEvF,EAAE,CAACG,EAAEwC,EAAC,CAAC,GAAE4C,GAAG,WAAU,cAAa,MAAM,GAAEvF,EAAE,CAACF,EAAE,GAAEW,EAAEkE,EAAC,CAAC,GAAE7E,EAAE,GAAEW,EAAEoE,EAAC,CAAC,CAAC,GAAEU,GAAG,WAAU,UAAS,IAAI,GAAEvF,EAAE,CAACF,EAAE,GAAEW,EAAEuE,EAAC,CAAC,CAAC,GAAEO,GAAG,WAAU,YAAW,IAAI;ACAh5N,IAAAC,KAAA,cAAgBxF,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKU,EAAE,QAAO,KAAK,UAAQ,EAAC,UAAS,IAAIS,KAAC,GAAE,KAAK,iBAAerB,GAAE;AAAA,EAAM;AAAA,EAAC,OAAO,GAAE,GAAE;AAAC,UAAK,EAAC,SAAQY,GAAE,SAAQS,EAAC,IAAE,GAAEP,IAAE,EAAE,SAAS,SAAQ;AAAG,IAAAO,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGV,EAAE,GAAE,EAAE,QAAOG,EAAE,QAAQ,GAAE,GAAGT,EAAE,GAAE,EAAE,MAAM,GAAE,YAAWgB,EAAE,eAAe,cAAcT,GAAE,EAAE,YAAW,EAAE,EAAC,GAAE,SAAQ,EAAC,GAAGT,EAAE,CAAC,EAAC,GAAE,oBAAmBW,EAAE,oBAAmB,kBAAiBL,EAAE,CAAC,EAAC,CAAC,GAAEY,EAAE,iBAAiBX,EAAE,CAAC,CAAC,GAAEW,EAAE,WAAW,GAAE,CAAC;AAAA,EAAC;AAAC,GCA/tBsE,KAAA,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,oBAAkB,CAAA;AAAA,EAAE;AAAA,EAAC,IAAI,eAAc;AAAC,UAAMzF,IAAE,oBAAI;AAAI,eAAUF,KAAK,KAAK,UAAU,CAAAE,EAAE,IAAIF,GAAE,KAAK,UAAUA,CAAC,EAAE,KAAK;AAAE,WAAOE;AAAA,EAAC;AAAA,EAAC,IAAI,qBAAoB;AAAC,QAAG,CAAC,KAAK,qBAAoB;AAAC,YAAMA,IAAE,IAAI,IAAI,OAAO,KAAK,KAAK,OAAO,CAAC;AAAE,WAAK,sBAAoBA;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAmB;AAAA,EAAC,IAAI,6BAA4B;AAAC,WAAM;EAAE;AAAA,EAAC,IAAI,eAAc;AAAC,QAAG,CAAC,KAAK,eAAc;AAAC,YAAM,IAAE,KAAK,cAAaC,IAAE,MAAM,KAAK,EAAE,QAAO,CAAE,EAAE,IAAK,CAAC,CAACD,GAAEF,CAAC,MAAI,GAAGE,CAAC,IAAIF,CAAC,IAAK,KAAK,GAAG,GAAEU,IAAER,GAAEC,CAAC;AAAE,WAAK,gBAAc,EAAC,MAAKO,GAAE,WAAU,GAAE,qBAAoB,KAAK,kBAAiB;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAa;AAAA,EAAC,IAAI,sBAAqB;AAAC,UAAMR,IAAE,oBAAI;AAAI,eAAS,CAACF,GAAEG,CAAC,KAAI,KAAK,aAAa,QAAS,EAAC,CAAAD,EAAE,IAAI,OAAKF,GAAEG,CAAC;AAAE,WAAOD;AAAA,EAAC;AAAA,EAAC,aAAaA,GAAEF,GAAEG,GAAE;AAAC,WAAM,GAAG,OAAO,KAAKD,CAAC,EAAE,IAAK,CAAAF,MAAG,GAAGA,CAAC,IAAIE,EAAEF,CAAC,CAAC,EAAI,EAAC,KAAK,GAAG,CAAC,IAAI,OAAO,KAAKG,CAAC,EAAE,OAAQ,CAAAD,MAAGC,EAAED,CAAC,GAAI,IAAK,CAAAA,MAAG,GAAGA,CAAC,IAAIC,EAAED,CAAC,EAAE,SAAU,CAAA,EAAI,EAAC,KAAK,GAAG,CAAC,IAAI,OAAO,KAAKF,CAAC,EAAE,OAAQ,CAAAE,MAAG,KAAK,mBAAmB,IAAIA,CAAC,CAAG,EAAC,KAAK,GAAG,CAAC;AAAA,EAAE;AAAA,EAAC,WAAWA,GAAEC,GAAEO,GAAEC,GAAE;AAAC,QAAIF,IAAE,IAAGJ,IAAE;AAAG,eAAUL,KAAKU,EAAE,KAAGA,EAAEV,CAAC,GAAE;AAAC,YAAME,IAAa,OAAOQ,EAAEV,CAAC,KAArB,YAAuB,WAAWA,CAAC;AAAA,IAAK,WAAWA,CAAC,IAAIU,EAAEV,CAAC,CAAC;AAAA;AAAK,MAAAS,KAAGP,GAAEG,KAAGH;AAAA,IAAC;AAAC,WAAOO,KAAG,KAAK,cAAaJ,KAAG,KAAK,gBAAe,IAAIL,GAAES,GAAEJ,GAAE,KAAK,qBAAoB,KAAK,cAAa,KAAK,oBAAoBF,CAAC,GAAE,KAAK,0BAA0B;AAAA,EAAC;AAAA,EAAC,oBAAoBD,GAAE;AAAC,UAAMF,IAAE,CAAA;AAAG,eAAUG,KAAK,KAAK,UAAS;AAAC,YAAMD,IAAE,KAAK,SAASC,CAAC;AAAE,MAAAH,EAAE,KAAK,EAAC,iBAAgB,MAAK,kBAAiBG,GAAE,aAAYA,GAAE,aAAYD,EAAE,MAAK,yBAAwBQ,GAAER,CAAC,GAAE,oBAAmBS,GAAET,CAAC,EAAC,CAAC;AAAA,IAAC;AAAC,eAAUC,KAAKD,GAAE;AAAC,YAAMO,IAAE,KAAK,QAAQN,CAAC;AAAE,UAAGD,EAAEC,CAAC,EAAE,YAAUD,KAAKO,GAAE;AAAC,cAAMJ,IAAEI,EAAEP,CAAC;AAAE,QAAAF,EAAE,KAAK,EAAC,iBAAgB,MAAK,kBAAiB,GAAGG,CAAC,IAAID,CAAC,IAAG,aAAYA,GAAE,aAAYG,EAAE,MAAK,yBAAwBK,GAAEL,CAAC,GAAE,oBAAmBM,GAAEN,CAAC,EAAC,CAAC;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOL;AAAA,EAAC;AAAC;AAAC,MAAMU,KAAE,CAAAR,MAAaA,EAAE,SAAZ,UAAiBA,EAAE,aAAa,OAAK,QAAOS,KAAE,CAAAT,MAAaA,EAAE,SAAZ,UAAiBA,EAAE,OAAK,QCA/oDgB,KAAE,EAAC,aAAYT,GAAE,YAAWN,EAAC,GAAE8B,KAAE,EAAC,aAAYtB,GAAE,WAAUA,GAAE,oBAAmBA,GAAE,aAAYA,GAAE,aAAYA,GAAE,aAAYA,GAAE,OAAMA,GAAE,MAAKF,EAAC,GAAEI,KAAE,EAAC,uBAAsBI,GAAE,iBAAgBA,GAAE,aAAYA,GAAE,UAASA,GAAE,UAASA,GAAE,mBAAkBR,GAAE,oBAAmBA,GAAE,YAAWN,GAAE,cAAaM,GAAE,aAAYA,GAAE,iBAAgBA,EAAC;AAAE,IAAAmF,KAAA,cAAgB5F,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,eAAaU,GAAE,wBAAwB,GAAE,KAAK,iBAAeA,GAAE,wBAAwB,GAAE,KAAK,WAAS,EAAC,GAAGuB,IAAE,GAAGpB,IAAE,cAAaJ,GAAE,QAAOP,IAAE,cAAaU,GAAE,aAAYA,GAAE,cAAaA,GAAE,YAAWH,GAAE,iBAAgBA,EAAC,GAAE,KAAK,UAAQ,EAAC,iBAAgBS,IAAE,+BAA8B,EAAC,oBAAmBN,EAAC,GAAE,8BAA6B,EAAC,OAAM,EAAC,GAAGV,GAAE,OAAOO,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC,GAAE,QAAO,EAAC,GAAGP,GAAE,OAAOO,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC,EAAC,GAAE,yBAAwB,EAAC,OAAM,EAAC,GAAGP,GAAE,OAAOO,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC,GAAE,QAAO,EAAC,GAAGP,GAAE,OAAOO,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC,EAAC,GAAE,6BAA4B,EAAC,wBAAuBA,EAAC,GAAE,uBAAsB,EAAC,WAAU,EAAC,GAAGP,GAAE,OAAOO,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC,GAAE,eAAc,EAAC,GAAGP,GAAE,OAAOO,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC,EAAC,EAAC,GAAE,KAAK,YAAU,EAAC,KAAI,EAAC,OAAM,GAAE,MAAKN,EAAC,GAAE,IAAG,EAAC,OAAM,GAAE,MAAKE,EAAC,GAAE,QAAO,EAAC,OAAM,GAAE,MAAKI,EAAC,GAAE,QAAO,EAAC,OAAM,GAAE,MAAKN,EAAC,GAAE,WAAU,EAAC,OAAM,GAAE,MAAKA,EAAC,GAAE,MAAK,EAAC,OAAM,GAAE,MAAKA,EAAC,GAAE,eAAc,EAAC,OAAM,GAAE,MAAKM,EAAC,GAAE,WAAU,EAAC,OAAM,GAAE,MAAKN,EAAC,EAAC,GAAE,KAAK,UAAQ,EAAC,uBAAsB,WAAU,qBAAoB,WAAU,qBAAoB,WAAU,oBAAmB,WAAU,YAAW,WAAU,SAAQ,WAAU,gBAAe,UAAS,WAAU,WAAU,QAAO,WAAU,SAAQ,UAAS;AAAA,EAAC;AAAA,EAAC,kBAAkB,GAAE;AAAC,SAAK,SAAS,SAAO,EAAC,GAAGD,GAAE,OAAOU,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC;AAAA,EAAC;AAAC,GCA3kDiF,KAAA,cAAgB3F,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKY,EAAE,UAAS,KAAK,UAAQ,EAAC,UAAS,IAAIJ,KAAC,GAAE,KAAK,iBAAeV,GAAE;AAAA,EAAM;AAAA,EAAC,OAAO,GAAE,GAAE;AAAC,UAAK,EAAC,SAAQc,EAAC,IAAE,GAAE,EAAC,UAASJ,GAAE,QAAOS,EAAC,IAAE,GAAEE,IAAE,KAAK,QAAQ,UAAS,IAAEX,EAAE,SAAQ,GAAGM,IAAE,EAAE,SAAS,gBAAekB,IAAE7B,EAAE,CAAC,GAAEqB,IAAEjB,EAAE,GAAEU,CAAC,GAAE,IAAER,EAAE,CAAC;AAAE,IAAAU,EAAE,kBAAkBL,CAAC,GAAEF,EAAE,UAAU,EAAC,QAAOO,GAAE,UAAS,EAAC,GAAGT,EAAE,GAAE,EAAE,QAAO,EAAE,SAAS,MAAM,GAAE,GAAGc,EAAE,SAAQ,GAAGA,EAAE,MAAK,iBAAgBA,EAAE,iBAAe,EAAC,aAAYA,EAAE,gBAAgB,UAAS,YAAWA,EAAE,gBAAgB,SAAQ,IAAE,KAAI,GAAE,SAAQ,EAAC,uBAAsB,CAAC,CAAC,EAAE,SAAS,OAAO,+BAA8B,qBAAoB,CAAC,CAAC,EAAE,SAAS,OAAO,8BAA6B,qBAAoB,CAAC,CAAC,EAAE,SAAS,OAAO,yBAAwB,oBAAmB,CAAC,CAAC,EAAE,SAAS,OAAO,6BAA4B,YAAW,CAAC,CAAC,EAAE,SAAS,OAAO,uBAAsB,SAAQQ,GAAE,WAAUR,EAAE,YAAU,IAAE,GAAE,GAAG,GAAE,gBAAeV,EAAC,GAAE,oBAAmB,CAAA,GAAG,kBAAiBkB,EAAC,CAAC,GAAEpB,EAAE,iBAAiBX,EAAE,CAAC,CAAC,GAAEW,EAAE,WAAW,GAAE,CAAC;AAAA,EAAC;AAAC,GCA38BgF,KAAA,cAAgBzF,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKK,EAAE,MAAK,KAAK,UAAQ,EAAC,UAAS,IAAII,IAAC,GAAE,KAAK,iBAAed,GAAE;AAAA,EAAI;AAAA,EAAC,OAAO,GAAEK,GAAE;AAAC,UAAK,EAAC,SAAQK,GAAE,SAAQI,EAAC,IAAE,GAAEO,IAAEnB,EAAE,CAAC,GAAEgB,IAAEb,EAAE,SAAS,SAAQ,GAAGW,IAAE,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGL,EAAE,GAAEN,EAAE,QAAOa,EAAE,QAAQ,GAAE,GAAGN,EAAE,GAAEP,EAAE,MAAM,GAAE,YAAWS,EAAE,eAAe,cAAcJ,GAAEL,EAAE,UAAU,EAAC,GAAE,SAAQ,EAAC,GAAGgB,GAAE,kBAAiB,IAAG,SAAQ,IAAG,oBAAmBR,EAAE,MAAK,GAAE,oBAAmBK,EAAE,oBAAmB,kBAAiBT,EAAE,CAAC,EAAC;AAAE,IAAAK,EAAE,UAAUE,CAAC,GAAEF,EAAE,iBAAiBX,EAAE,CAAC,CAAC,GAAEW,EAAE,WAAW,GAAET,CAAC,GAAES,EAAE,UAAU,EAAC,GAAGE,GAAE,SAAQ,EAAC,GAAGK,GAAE,kBAAiB,IAAG,SAAQ,IAAG,oBAAmBR,EAAE,KAAI,EAAC,CAAC,GAAEC,EAAE,WAAW,GAAET,CAAC,GAAES,EAAE,UAAU,EAAC,GAAGE,GAAE,SAAQ,EAAC,GAAGK,GAAE,kBAAiB,IAAG,SAAQ,IAAG,oBAAmBR,EAAE,QAAO,EAAC,CAAC,GAAEC,EAAE,WAAW,GAAET,CAAC,GAAES,EAAE,UAAU,EAAC,GAAGE,GAAE,SAAQ,EAAC,GAAGK,GAAE,kBAAiB,IAAG,SAAQ,IAAG,oBAAmBR,EAAE,MAAK,EAAC,CAAC,GAAEC,EAAE,WAAW,GAAET,CAAC;AAAA,EAAC;AAAC;ACAlP,MAACC,KAAE,EAAC,MAAK,IAAIW,MAAE,aAAY,IAAId,MAAE,aAAY,IAAIO,MAAE,aAAY,IAAIC,MAAE,oBAAmB,IAAIU,MAAE,oBAAmB,IAAInB,MAAE,QAAO,IAAIG,MAAE,UAAS,IAAIU,MAAE,MAAK,IAAID,MAAE,cAAa,IAAIE,MAAE,MAAK,IAAIG,MAAE,OAAM,IAAIP,MAAE,SAAQ,IAAIM,MAAE,YAAW,IAAIT,MAAE,gBAAe,IAAIT,KAAC;AAAE,SAASyB,KAAG;AAAC,aAAUzB,KAAKM;AAAG,IAAAA,GAAEN,CAAC,EAAE,QAAO;AAAG;AAAC,SAAS+B,GAAE/B,GAAE;AAAC,aAAUS,KAAKH;AAAG,IAAAA,GAAEG,CAAC,EAAE,SAAST,CAAC;AAAE;ACAt2C,SAASU,GAAEA,GAAER,GAAE;AAAC,QAAMS,IAAED,EAAE,MAAM,GAAER,CAAC,GAAEF,IAAEE,IAAES,EAAE;AAAO,WAAQ,IAAE,GAAE,IAAEX,GAAE,KAAI;AAAC,UAAMU,IAAEC,EAAEA,EAAE,SAAO,CAAC;AAAE,IAAAA,EAAE,KAAKD,CAAC;AAAA,EAAC;AAAC,SAAOC;AAAC;AAAC,SAAST,GAAEQ,GAAE;AAAC,MAAG,CAACA,EAAE,QAAM,CAAC,GAAE,GAAE,GAAE,CAAC;AAAE,QAAK,EAAC,GAAER,GAAE,GAAES,GAAE,GAAEX,GAAE,GAAE,EAAC,IAAEU;AAAE,SAAM,CAACR,KAAG,IAAE,MAAKS,KAAG,IAAE,MAAKX,KAAG,IAAE,MAAK,CAAC;AAAC;ACAQ,MAAMiB,KAAE,GAAEZ,KAAEY,KAAE,GAAEP,KAAE,MAAIP,GAAE,UAAU,qDAAqD;AAAE,SAASW,GAAEd,GAAE;AAAC,SAAOA,EAAE,IAAK,OAAGY,GAAE,CAAC,IAAEH,GAAE,EAAE,OAAO,IAAE,CAAC;AAAE;AAAC,SAASG,GAAEZ,GAAE;AAAC,UAAgBA,EAAE,SAAX,UAA2BA,EAAE,SAAZ,WAA8BA,EAAE,SAAd,cAA2BA,EAAE,SAAR;AAAa;AAAC,SAASS,GAAET,GAAE;AAAC,SAAOA,EAAE,QAAM2B,GAAE3B,EAAE,MAAKA,EAAE,SAAO,EAAE,GAAEA;AAAC;AAAC,SAASkB,GAAElB,GAAEG,GAAEQ,GAAE;AAAC,UAAO,IAAEA,KAAGX,IAAEW,IAAER;AAAC;AAAC,SAASY,GAAEf,GAAEG,GAAE;AAAC,QAAK,CAAC,GAAE,GAAGc,CAAC,IAAEd,GAAEO,IAAEO,EAAE,IAAK,GAACH,IAAEG,EAAE,CAAC,EAAE,OAAM,IAAEA,EAAEA,EAAE,SAAO,CAAC,EAAE,OAAMR,KAAG,IAAEK,KAAGT,IAAEU,IAAE,CAAE;AAAC,WAAQV,IAAES,GAAET,IAAE,GAAEA,KAAGI,GAAE;AAAC,QAAIP,IAAE;AAAE,WAAKG,KAAGY,EAAEf,CAAC,EAAE,QAAO,CAAAA;AAAI,UAAMQ,IAAEO,EAAEf,CAAC,GAAEY,IAAEX,EAAED,IAAE,CAAC,GAAEU,IAAEP,IAAES,EAAE,OAAML,IAAEC,EAAE,UAAQI,EAAE,QAAM,IAAEF,KAAGF,EAAE,QAAMI,EAAE;AAAO,QAAad,MAAV,SAAY;AAAC,YAAMA,IAAEiB,EAAEf,CAAC,GAAES,IAAER,EAAED,IAAE,CAAC,GAAEQ,IAAEV,EAAE,MAAM;AAAQ,MAAAU,EAAE,IAAEQ,GAAEP,EAAE,MAAM,GAAED,EAAE,GAAED,CAAC,GAAEC,EAAE,IAAEQ,GAAEP,EAAE,MAAM,GAAED,EAAE,GAAED,CAAC,GAAEC,EAAE,IAAEQ,GAAEP,EAAE,MAAM,GAAED,EAAE,GAAED,CAAC,GAAEC,EAAE,IAAEQ,GAAEP,EAAE,MAAM,GAAED,EAAE,GAAED,CAAC,GAAEM,EAAE,KAAK,EAAC,OAAMV,GAAE,OAAMK,GAAE,OAAMV,EAAE,MAAK,CAAC;AAAA,IAAC,WAAkBA,MAAT,QAAW;AAAC,YAAMA,IAAEiB,EAAEf,CAAC,GAAEQ,IAAEP,EAAED,IAAE,CAAC,GAAEY,IAAEH,GAAEX,EAAE,IAAI,GAAEY,IAAEM,GAAEP,GAAED,EAAE,IAAI,GAAEI,GAAEL,CAAC;AAAE,MAAAM,EAAE,KAAK,EAAC,OAAMV,GAAE,MAAKO,GAAE,OAAMZ,EAAE,MAAK,CAAC;AAAA,IAAC,OAAK;AAAC,YAAMA,IAAEiB,EAAEf,CAAC,GAAES,IAAEO,GAAEf,EAAED,IAAE,CAAC,EAAE,SAAQF,EAAE,SAAQS,CAAC;AAAE,MAAAM,EAAE,KAAK,EAAC,OAAMV,GAAE,SAAQM,GAAE,OAAMX,EAAE,MAAK,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC,SAAM,CAAC,GAAE,GAAGe,GAAEL,CAAC;AAAC;AAAC,SAASM,GAAEhB,GAAE;AAAC,QAAK,CAACG,GAAE,GAAGQ,CAAC,IAAEX,GAAEE,IAAES,EAAE,IAAG;AAAG,SAAKA,EAAE,SAAON,MAAG;AAAC,QAAIL,IAAE,GAAEG,IAAE;AAAE,aAAQD,IAAE,GAAEA,IAAES,EAAE,QAAOT,KAAI;AAAC,YAAM,IAAES,EAAET,IAAE,CAAC,GAAEG,IAAEM,EAAET,CAAC,GAAEQ,IAAE,KAAK,IAAIL,EAAE,QAAM,EAAE,KAAK;AAAE,MAAAK,IAAEP,MAAIA,IAAEO,GAAEV,IAAEE;AAAA,IAAE;AAAC,IAAAS,EAAE,OAAOX,GAAE,CAAC;AAAA,EAAC;AAAC,SAAM,CAACG,GAAE,GAAGQ,GAAET,CAAC;AAAC;AAAC,SAASyB,GAAE3B,GAAEG,GAAE;AAAC,SAAOA,EAAE,UAAQc,KAAEd,KAAGO,GAAC,EAAG,KAAK,SAASP,EAAE,MAAM,qDAAqDc,EAAC,uCAAuC,GAAEd,EAAE,SAAO,IAAEc,KAAEF,GAAEf,GAAEG,CAAC,IAAEa,GAAEb,CAAC;AAAE;AAAC,SAASoB,KAAG;AAAC,QAAK,EAAC,0BAAyBvB,GAAE,+BAA8BG,GAAE,8BAA6BQ,EAAC,IAAET;AAAI,SAAOF,KAAGG,KAAGQ;AAAC;AAAC,SAASU,GAAElB,GAAE;AAAC,MAAG,CAACA,EAAE,QAAM;AAAG,UAAOA,EAAE,MAAM;AAAA,IAAA,KAAI;AAAc;AAAA,IAAM,KAAI;AAAU,UAAG,CAACoB,GAAC,GAAG;AAAC,cAAMpB,IAAED,GAAG,GAACS,IAAE,CAAC,4BAA2B,iCAAgC,8BAA8B,EAAE,OAAQ,CAAAX,MAAG,CAACG,EAAEH,CAAC,CAAG,EAAC,KAAK,IAAI;AAAE,eAAOU,KAAI,UAAU,IAAIV,GAAE,2BAA0B,4CAA4CW,CAAC,EAAE,CAAC,GAAE;AAAA,MAAE;AAAA,EAAC;AAAC,SAAM;AAAE;ACAn7C,MAAMG,KAAE,MAAKX,KAAE,KAAIY,KAAE;AAAI,SAASG,GAAElB,GAAE;AAAC,MAAG,CAACA,EAAE,OAAO,OAAO,QAAO;AAAK,QAAMY,IAAEZ,EAAE,MAAM,KAAM,CAACA,GAAE,MAAIA,EAAE,QAAM,EAAE,KAAO,GAACS,IAAEP,GAAEU,GAAE,CAAC,GAAEK,IAAER,EAAE,IAAK,CAAC,EAAC,OAAMT,EAAC,MAAIA,CAAG,GAACK,IAAEI,EAAE,IAAK,CAAC,EAAC,OAAMT,EAAC,MAAIW,GAAEX,CAAC,CAAG;AAAC,SAAM,EAAC,QAAOiB,GAAE,QAAOZ,EAAC;AAAC;AAAC,SAAS8B,GAAEnC,GAAE;AAAC,MAAG,CAACA,EAAE,OAAO,OAAO,QAAO;AAAK,QAAMY,IAAEZ,EAAE,MAAM,KAAM,CAACA,GAAEY,MAAIZ,EAAE,QAAMY,EAAE,KAAO,GAACH,IAAEP,GAAEU,GAAE,CAAC;AAAE,SAAM,EAAC,eAAcH,EAAE,IAAK,CAAC,EAAC,OAAMT,EAAC,MAAIA,CAAC,GAAG,WAAUS,EAAE,IAAK,CAAC,EAAC,SAAQT,EAAC,MAAIA,CAAG,EAAA;AAAC;AAAC,SAAS0B,GAAE1B,GAAE;AAAC,SAAM,EAAC,cAA4BA,EAAE,iBAAjB,eAA8BK,GAAE,aAAWA,GAAE,WAAU;AAAC;AAAC,SAASW,GAAEJ,GAAE;AAAC,MAAG,CAACA,EAAE,OAAO,OAAO,QAAO;AAAK,MAAGA,EAAE,MAAM,KAAM,CAAAZ,MAAGA,EAAE,eAAaA,EAAE,WAAW,EAAG,QAAM,CAAC,GAAEK,MAAI;AAAC,UAAM,IAAE,EAAE,kBAAkB,IAAIA,EAAE,IAAI,KAAK,GAAEK,IAAEE,EAAE,MAAM,IAAK,CAAAH,OAAI,EAAC,OAAMA,EAAE,cAAY,GAAG,IAAIG,EAAE,KAAK,GAAG,YAAU,IAAEH,EAAE,cAAY,GAAG,IAAIG,EAAE,KAAK,GAAG,YAAU,IAAEH,EAAE,OAAM,MAAKA,EAAE,OAAKT,GAAES,EAAE,IAAI,IAAEQ,GAAC,EAAE,EAAG,KAAM,CAACjB,GAAEY,MAAIZ,EAAE,QAAMY,EAAE,KAAO,GAACE,IAAEZ,GAAEQ,GAAE,CAAC;AAAE,WAAM,EAAC,QAAOI,EAAE,IAAK,CAAC,EAAC,OAAMd,EAAC,MAAIA,CAAG,GAAC,OAAMc,EAAE,IAAK,CAAC,EAAC,MAAKd,EAAC,MAAIA,GAAG;AAAA,EAAC;AAAE,QAAMS,IAAEG,EAAE,MAAM,KAAM,CAACZ,GAAEY,MAAIZ,EAAE,QAAMY,EAAE,KAAO,GAACP,IAAEH,GAAEO,GAAE,CAAC;AAAE,SAAM,EAAC,QAAOJ,EAAE,IAAK,CAAC,EAAC,OAAML,EAAC,MAAIA,CAAG,GAAC,OAAMK,EAAE,IAAK,CAAC,EAAC,MAAKO,EAAC,MAAIZ,GAAEY,CAAC,CAAG,EAAA;AAAC;AAA8K,SAASsB,GAAElC,GAAE;AAAC,SAAO,CAAAiB,MAAG;AAAC,UAAK,EAAC,OAAMZ,EAAC,IAAEY;AAAE,WAAM,EAAC,wBAAuBL,GAAEP,EAAE,gBAAgB,IAAEI,GAAET,EAAE,aAAW,QAAQ,IAAEK,EAAE,WAAU;AAAA,EAAC;AAAC;AAAC,SAASsB,GAAE3B,GAAEY,GAAE;AAAC,QAAMH,IAAEG,EAAE;AAAO,MAAGZ,IAAEY,EAAE,CAAC,EAAE,SAAWH,MAAJ,EAAM,QAAOG,EAAE,CAAC,EAAE;AAAK,WAAQK,IAAE,GAAEA,IAAER,GAAEQ,IAAI,KAAGjB,IAAEY,EAAEK,CAAC,EAAE,OAAM;AAAC,UAAMR,KAAGT,IAAEY,EAAEK,IAAE,CAAC,EAAE,UAAQL,EAAEK,CAAC,EAAE,QAAML,EAAEK,IAAE,CAAC,EAAE;AAAO,WAAOL,EAAEK,IAAE,CAAC,EAAE,OAAKR,KAAGG,EAAEK,CAAC,EAAE,OAAKL,EAAEK,IAAE,CAAC,EAAE;AAAA,EAAK;AAAC,SAAOL,EAAEH,IAAE,CAAC,EAAE;AAAI;AAAC,SAAS2B,GAAExB,GAAE;AAAC,QAAK,EAAC,cAAaH,GAAE,cAAaQ,GAAE,SAAQZ,GAAE,SAAQH,EAAC,IAAEU;AAAE,MAAa,OAAOP,KAAjB,YAA8B,OAAOH,KAAjB,SAAmB,QAAM,CAACU,GAAED,MAAI;AAAC,UAAMD,IAAEE,EAAE,MAAM,OAAM,IAAEZ,GAAE2B,GAAEjB,GAAEL,EAAE,KAAK,CAAC,GAAEF,IAAEH,GAAE2B,GAAEjB,GAAER,EAAE,KAAK,CAAC;AAAE,WAAM,EAAC,oBAAmB,CAACO,GAAEQ,GAAE,GAAEd,CAAC,EAAC;AAAA,EAAC;AAAE,MAAa,OAAOE,KAAjB,YAA8B,OAAOH,KAAjB,SAAmB,OAAM,IAAI,MAAM,8DAA8D;AAAE,SAAM,EAAC,oBAAmB,CAACO,GAAEQ,GAAEjB,GAAEK,CAAC,GAAEL,GAAEE,CAAC,CAAC,EAAC;AAAC;AAAM,MAAC2B,KAAE,EAAC,qBAAoB,MAAK,uBAAsB,MAAK,wBAAuB,MAAK,yBAAwB,MAAK,8BAA6B,MAAK,qCAAoC,MAAK,6BAA4B,MAAK,+BAA8B,KAAI;AAAE,SAASV,GAAEnB,GAAEY,IAAEG,IAAEN,IAAEK,IAAE;AAAC,MAAGd,EAAE,8BAA8B,QAAOA,EAAE,yCAAyC,WAASG,KAAE,KAAK,IAAIH,EAAE,8BAA8B,mBAAmB,CAAC,IAAES,GAAEG,CAAC;AAAE,MAAGZ,EAAE,8BAA6B;AAAC,QAAGA,EAAE,wCAAwC,SAAS,QAAOG;AAAE,UAAMc,IAAEjB,EAAE,6BAA6B;AAAM,WAAO,KAAK,IAAIiB,EAAEA,EAAE,SAAO,CAAC,IAAER,GAAEG,CAAC;AAAA,EAAC;AAAC,MAAGZ,EAAE,yBAAwB;AAAC,QAAGA,EAAE,mCAAmC,SAAS,QAAOG;AAAE,UAAMc,IAAEjB,EAAE,wBAAwB;AAAM,WAAO,KAAK,IAAIiB,EAAEA,EAAE,SAAO,CAAC,IAAER,GAAEG,CAAC;AAAA,EAAC;AAAC,SAAOZ,EAAE,8BAA4B,IAAEG,KAAE;AAAC;AAAC,SAASsC,GAAEzC,GAAE;AAAC,QAAMY,IAAE,EAAC,GAAGiB,GAAC;AAAE,MAAG,CAAC7B,KAAG,EAAE,qBAAoBA,MAAI,CAACA,EAAE,gBAAgB,QAAOY;AAAE,aAAUH,KAAKC,GAAEV,EAAE,eAAe,EAAE,SAAOS,EAAE,MAAM;AAAA,IAAA,KAAI;AAAQ,MAAAG,EAAE,sBAAoBM,GAAET,CAAC;AAAE;AAAA,IAAM,KAAI;AAAU,MAAAG,EAAE,wBAAsBuB,GAAE1B,CAAC;AAAE;AAAA,IAAM,KAAI;AAAW,MAAAG,EAAE,yBAAuBc,GAAEjB,CAAC;AAAE;AAAA,IAAM,KAAI;AAAO,cAAOwB,GAAExB,CAAC;QAAG,KAAI;AAAc,UAAAG,EAAE,0BAAwBI,GAAEP,CAAC;AAAE;AAAA,QAAM,KAAI;AAAc,UAAYA,EAAE,WAAd,YAAqBG,EAAE,sCAAoCI,GAAEP,CAAC,IAAEG,EAAE,+BAA6BI,GAAEP,CAAC;AAAE;AAAA,QAAM,KAAI;AAAU,UAAAG,EAAE,gCAA8BwB,GAAE3B,CAAC;AAAE;AAAA,QAAM,KAAI;AAAa,UAAAG,EAAE,8BAA4BsB,GAAEzB,CAAC;AAAA,MAAC;AAAC;AAAA,EAAK;AAAC,SAAOG;AAAC;AAAC,SAASqB,GAAEjC,GAAE;AAAC,SAAgB,OAAOA,EAAE,gBAAnB,YAA2C,OAAOA,EAAE,gBAAnB,YAAuCA,EAAE,WAAR,QAAuBA,EAAE,WAAR,OAAgB,YAA0BA,GAAG,oBAAnB,iBAAoC,MAAM,QAAQA,EAAE,KAAK,IAAE,gBAAoBA,EAAE,SAAR,QAA+BA,GAAG,oBAAnB,iBAAoC,EAAE,MAAM,QAAQA,EAAE,KAAK,KAAG,YAAWA,KAAGA,EAAE,UAAcA,EAAE,SAAR,QAA+BA,GAAG,oBAAnB,gBAAmC,eAAa,OAAK;AAAa;ACAnvI,SAASY,GAAEA,GAAE;AAAC,SAAM,CAAC,EAAEA,EAAE,iCAA+BA,EAAE,gCAA8BA,EAAE,2BAAyBA,EAAE,+BAA6BA,EAAE;AAAoC;AAAC,SAASH,GAAEG,GAAE;AAAC,SAAM,CAAC,CAACA,EAAE;AAAsB;ACAsP,SAASF,GAAEV,GAAE;AAAC,SAAOA,EAAE,YAAUA,EAAE,WAAS,EAAC,UAASA,EAAE,YAAU,GAAE,UAASA,EAAE,YAAU,EAAC,IAAE;AAAI;AAAC,SAASK,GAAEL,GAAE;AAAC,MAASA,KAAN,KAAQ,QAAO;AAAK,MAAG,MAAM,QAAQA,CAAC,GAAE;AAAC,UAAK,CAACY,GAAEH,GAAEQ,GAAE,CAAC,IAAEjB;AAAE,WAAM,CAACY,GAAEH,GAAEQ,GAAE,MAAI,CAAC;AAAA,EAAC;AAAC,SAAgB,OAAOjB,KAAjB,WAAmBA,IAAE,EAAC,GAAGA,GAAE,cAAaK,GAAEL,GAAG,YAAY,EAAC;AAAC;AAAC,eAAee,GAAEH,GAAEH,GAAE;AAAC,QAAK,EAAC,oBAAmBQ,GAAE,aAAYd,GAAE,iBAAgBQ,EAAC,IAAEF,EAAE;AAAc,QAAM,QAAQ,IAAIT,GAAE,eAAeY,EAAE,QAAOK,GAAE,CAAA,CAAE,CAAC;AAAE,QAAMf,IAAEC,EAAE,uBAAuBS,GAAE,EAAE,GAAEP,IAAE,EAAC,WAAUK,GAAEE,CAAC,GAAE,iBAAgBD,EAAC,GAAEI,IAAE,CAAA;AAAG,aAAUf,KAAKE,EAAE,SAAOF,EAAE,MAAM;AAAA,IAAA,KAAI;AAAS,MAAAe,EAAE,KAAK,GAAGC,GAAEhB,GAAES,GAAEJ,CAAC,CAAC;AAAE;AAAA,IAAM,KAAI;AAAO,MAAAU,EAAE,KAAK,GAAGY,GAAE3B,GAAES,GAAEJ,CAAC,CAAC;AAAE;AAAA,IAAM,KAAI;AAAO,MAAAU,EAAE,KAAK,GAAGqB,GAAEpC,GAAES,GAAEJ,CAAC,CAAC;AAAE;AAAA,IAAM,KAAI;AAAO,MAAAU,EAAE,KAAK,GAAGF,GAAEb,GAAES,GAAEJ,CAAC,CAAC;AAAA,EAAC;AAAC,SAAOU;AAAC;AAAC,SAASC,GAAEhB,GAAEY,GAAEH,GAAE;AAAC,QAAK,EAAC,UAASE,GAAE,eAAcT,EAAC,IAAEU,GAAE,EAAC,OAAMF,EAAC,IAAER,GAAEG,IAAEL,EAAE,YAAU,EAAC,GAAGG,IAAE,8BAA6BQ,EAAE,oCAAmC,IAAE,EAAC,qBAAoBA,EAAE,qBAAoB,uBAAsBA,EAAE,uBAAsB,+BAA8BA,EAAE,+BAA8B,8BAA6BA,EAAE,8BAA6B,yBAAwBA,EAAE,yBAAwB,6BAA4BA,EAAE,6BAA4B,wBAAuBA,EAAE,uBAAsB;AAAE,SAAGX,EAAE,kBAAwBc,GAAEJ,EAAE,eAAeO,GAAE,gBAAe,EAAC,UAASZ,GAAE,oBAAmB,EAAC,WAAU,GAAE,EAAC,CAAC,GAAEL,GAAEG,IAAEM,CAAC,IAASY,GAAEX,EAAE,eAAeO,GAAE,QAAO,EAAC,UAASZ,GAAE,oBAAmB,EAAC,WAAU,CAAC,CAACI,EAAE,UAAS,EAAC,CAAC,GAAET,GAAEW,GAAEF,CAAC;AAAC;AAAC,SAASK,GAAEd,GAAEY,GAAEK,GAAEd,GAAE;AAAC,SAAIS,EAAE,kBAA+B,CAACZ,EAAE,eAAe,EAAC,iBAAgBY,EAAE,iBAAgB,iBAAgBA,EAAE,iBAAgB,SAAQA,EAAE,UAAQ,EAAC,MAAK,oBAAmB,aAAYA,EAAE,QAAO,IAAE,MAAK,QAAOA,EAAE,0BAAyB,YAAWA,EAAE,iBAAgB,WAAUT,EAAE,WAAU,4BAA2BS,EAAE,4BAA2B,aAAYA,EAAE,cAAa,cAAaA,EAAE,cAAYH,GAAE,KAAI,aAAYG,EAAE,aAAY,UAASA,EAAE,UAAS,UAASA,EAAE,UAAS,eAAcA,EAAE,eAAc,aAAY,CAAC,CAACA,EAAE,mBAAkBA,EAAE,gBAAgB,aAAW,iBAAgBA,EAAE,gBAAgB,aAAWA,EAAE,gBAAgB,UAAU,aAAa,WAAUA,EAAE,UAAS,CAAC,CAAC,IAA5nB,CAAA;AAA6nB;AAAC,SAASS,GAAErB,GAAES,GAAEQ,GAAE,EAAC,WAAUd,GAAE,iBAAgBO,EAAC,GAAE;AAAC,QAAMK,IAAEb,GAAEe,CAAC;AAAE,SAAM,CAACjB,EAAE,eAAe,EAAC,MAAKS,EAAE,MAAK,QAAOA,EAAE,QAAO,SAAQA,EAAE,YAAY,GAAE,SAAQA,EAAE,YAAY,GAAE,OAAMA,EAAE,UAAS,OAAMJ,GAAEI,EAAE,KAAK,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,aAAYA,EAAE,aAAY,aAAYA,EAAE,aAAY,YAAWA,EAAE,YAAW,WAAUN,GAAE,SAAQM,EAAE,SAAQ,SAAQA,EAAE,SAAQ,cAAaJ,GAAEI,EAAE,YAAY,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,aAAYA,EAAE,cAAa,eAAcA,EAAE,iBAAeG,GAAE,gBAAgB,MAAK,iBAAgBH,EAAE,iBAAgB,aAAYC,KAAG,GAAE,WAAUD,EAAE,WAAU,WAAUA,EAAE,WAAU,uBAAsBA,EAAE,uBAAsB,4BAA2BA,EAAE,4BAA2B,QAAOA,EAAE,0BAAyB,WAAUM,GAAE,WAAUN,EAAE,iBAAgB,SAAQA,EAAE,UAAQ,EAAC,MAAK,oBAAmB,aAAYA,EAAE,QAAO,IAAE,MAAK,YAAWA,EAAE,WAAU,gBAAeE,GAAEM,CAAC,EAAC,CAAC,CAAC;AAAC;AAAC,SAASC,GAAElB,GAAEY,GAAEH,GAAE;AAAC,QAAK,EAAC,UAASN,GAAE,eAAcQ,EAAC,IAAEC,GAAE,EAAC,OAAMV,EAAC,IAAES;AAAE,SAAOuB,GAAEhC,EAAE,eAAee,GAAE,MAAK,EAAC,UAAS,EAAC,qBAAoBjB,EAAE,cAAY,OAAKG,EAAE,qBAAoB,uBAAsBA,EAAE,sBAAqB,GAAE,oBAAmB,EAAC,WAAU,CAAC,CAACM,EAAE,UAAS,EAAC,CAAC,GAAET,GAAES,CAAC;AAAC;AAAC,SAASyB,GAAElC,GAAEY,GAAE,EAAC,WAAUH,EAAC,GAAE;AAAC,SAAM,CAACT,EAAE,eAAe,EAAC,OAAMK,GAAEO,EAAE,KAAK,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,WAAUH,GAAE,SAAQG,EAAE,UAAQ,EAAC,MAAK,oBAAmB,aAAYA,EAAE,QAAO,IAAE,KAAI,CAAC,CAAC;AAAC;AAAC,SAASe,GAAE3B,GAAEY,GAAEH,GAAE;AAAC,MAAG,CAACT,EAAE,yBAAyB,QAAOkB,GAAElB,GAAEY,GAAEH,CAAC;AAAE,QAAK,EAAC,UAASN,GAAE,eAAcQ,EAAC,IAAEC,GAAE,EAAC,OAAMV,EAAC,IAAES;AAAE,SAAOe,GAAExB,EAAE,eAAee,GAAE,aAAY,EAAC,UAAS,EAAC,qBAAoBjB,EAAE,cAAY,OAAKG,EAAE,qBAAoB,uBAAsBA,EAAE,sBAAqB,GAAE,oBAAmB,EAAC,WAAU,CAAC,CAACM,EAAE,UAAS,EAAC,CAAC,GAAET,GAAQG,EAAE,uBAAR,MAA4BM,CAAC;AAAC;AAAC,SAASiB,GAAE1B,GAAEY,GAAEH,GAAE,EAAC,WAAUQ,EAAC,GAAE;AAAC,MAAG,CAACL,EAAE,yBAAyB,OAAM,IAAI,MAAM,gDAAgD;AAAE,QAAM,IAAE,CAAC,CAACA,EAAE,kCAAgC,CAACH,KAAGG,EAAE,cAAa,IAAEA,EAAE,mBAAiB,CAAC,GAAEV,IAAEU,EAAE;AAAyB,SAAM,CAACZ,EAAE,eAAe,EAAC,OAAMK,GAAEO,EAAE,KAAK,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,QAAOA,EAAE,QAAO,aAAYA,EAAE,QAAO,SAAQA,EAAE,SAAQ,SAAQA,EAAE,SAAQ,QAAO,GAAE,QAAO,GAAE,OAAMA,EAAE,OAAM,mBAAkBA,EAAE,mBAAkB,iBAAgB,GAAE,qBAAqCV,EAAE,SAAS,SAA5B,gBAAiC,QAAOA,GAAE,WAAUe,GAAE,SAAQL,EAAE,UAAQ,EAAC,MAAK,oBAAmB,aAAYA,EAAE,QAAO,IAAE,KAAI,CAAC,CAAC;AAAC;AAAC,SAASwB,GAAEpC,GAAEY,GAAEH,GAAE;AAAC,QAAK,EAAC,UAASE,GAAE,eAAcT,EAAC,IAAEU,GAAE,EAAC,OAAMF,EAAC,IAAER,GAAEG,IAAEL,EAAE,YAAU,EAAC,GAAGG,IAAE,8BAA6BQ,EAAE,oCAAmC,IAAE,EAAC,qBAAoBX,EAAE,cAAY,OAAKW,EAAE,qBAAoB,uBAAsBA,EAAE,uBAAsB,+BAA8BA,EAAE,+BAA8B,8BAA6BA,EAAE,8BAA6B,yBAAwBA,EAAE,yBAAwB,6BAA4BA,EAAE,4BAA2B,GAAEI,IAAE,EAAC,UAASV,GAAE,oBAAmB,EAAC,WAAU,CAAC,CAACI,EAAE,UAAS,EAAC,GAAEO,IAAE,CAAC,EAAEX,EAAE,iCAA+BA,EAAE,gCAA8BA,EAAE,2BAAyBA,EAAE;AAA6B,SAAIL,EAAE,2BAA4EiC,GAAEvB,EAAE,eAAeO,GAAE,cAAaF,CAAC,GAAEf,GAAEgB,GAAEP,CAAC,IAArF0B,GAAEzB,EAAE,eAAeO,GAAE,MAAKF,CAAC,GAAEf,GAAEgB,GAAEP,CAAC;AAAoD;AAAC,SAASU,GAAEnB,GAAEY,GAAE,EAAC,WAAUH,EAAC,GAAE;AAAC,SAAM,EAAC,OAAMJ,GAAEL,EAAE,KAAK,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,OAAMA,EAAE,OAAM,gBAAeA,EAAE,gBAAe,SAAQA,EAAE,KAAI,UAASA,EAAE,MAAK,YAAWA,EAAE,YAAW,WAAUS,GAAE,WAAUG,GAAE,SAAQZ,EAAE,UAAQ,EAAC,MAAK,oBAAmB,aAAYA,EAAE,QAAO,IAAE,KAAI;AAAC;AAAC,SAASmC,GAAEnC,GAAEY,GAAEH,GAAEQ,GAAE;AAAC,MAAGL,EAAE,yBAAyB,OAAM,IAAI,MAAM,6CAA6C;AAAE,QAAM,IAAEO,GAAEP,GAAEH,GAAEQ,CAAC;AAAE,SAAM,CAACjB,EAAE,eAAe,CAAC,CAAC;AAAC;AAAC,SAASiC,GAAEjC,GAAEY,GAAEH,GAAEQ,GAAE;AAAC,QAAK,EAAC,0BAAyB,GAAE,WAAU,GAAE,iBAAgBf,EAAC,IAAEU;AAAE,MAAG,CAAC,EAAE,OAAM,IAAI,MAAM,yCAAyC;AAAE,SAAM,CAACZ,EAAE,eAAe,EAAC,GAAGmB,GAAEP,GAAEH,GAAEQ,CAAC,GAAE,iBAAgBL,EAAE,mBAAiB,GAAE,iBAAgB,KAAG,IAAG,uBAAsBV,GAAE,OAA2B,EAAE,SAAS,SAAhC,oBAAqC,QAAO,EAAC,CAAC,CAAC;AAAC;AAAC,SAASW,GAAEb,GAAEY,GAAEH,GAAE;AAAC,QAAK,EAAC,UAASN,GAAE,eAAcQ,EAAC,IAAEC,GAAE,EAAC,OAAMV,EAAC,IAAES;AAAE,SAAO4B,GAAErC,EAAE,eAAee,GAAE,MAAK,EAAC,UAAS,EAAC,qBAAoBjB,EAAE,cAAY,OAAKG,EAAE,qBAAoB,uBAAsBA,EAAE,uBAAsB,wBAAuBA,EAAE,wBAAuB,+BAA8BA,EAAE,+BAA8B,8BAA6BA,EAAE,8BAA6B,yBAAwBA,EAAE,yBAAwB,6BAA4BA,EAAE,4BAA2B,GAAE,oBAAmB,EAAC,WAAU,CAAC,CAACM,EAAE,WAAU,iBAAgB,IAAG,WAAU,GAAE,EAAC,CAAC,GAAET,GAAEG,GAAEM,CAAC;AAAC;AAAC,SAAS8B,GAAEvC,GAAEY,GAAEH,GAAE,EAAC,WAAUQ,GAAE,iBAAgB,EAAC,GAAE;AAAC,SAAM,CAACjB,EAAE,eAAe,EAAC,oBAAmBK,GAAEO,EAAE,eAAe,GAAE,oBAAmBP,GAAEO,EAAE,eAAe,GAAE,mBAAkBA,EAAE,mBAAiB,GAAE,OAAMP,GAAEO,EAAE,KAAK,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,SAAQA,EAAE,SAAQ,SAAQA,EAAE,SAAQ,WAAUA,EAAE,OAAM,UAASA,EAAE,MAAK,eAAcA,EAAE,eAAc,YAAWA,EAAE,YAAW,WAAUP,GAAEO,EAAE,SAAS,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,UAASA,EAAE,YAAU,GAAE,cAAaP,GAAEO,EAAE,YAAY,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,aAAYA,EAAE,aAAY,WAAUA,EAAE,aAAW,KAAI,iBAAgB,GAAE,qBAAoBA,EAAE,uBAAqB,UAAS,mBAAkBA,EAAE,qBAAmB,YAAW,qBAAoB,IAAG,QAAOA,EAAE,wBAAuB,WAAUK,GAAE,SAAQL,EAAE,UAAQ,EAAC,MAAK,oBAAmB,aAAYA,EAAE,QAAO,IAAE,MAAK,WAAUA,EAAE,iBAAgB,YAAWA,EAAE,WAAU,aAAY,KAAG,GAAE,gBAAeD,GAAEF,CAAC,GAAE,aAAY,MAAK,qBAAoB,MAAK,cAAa,MAAK,eAAc,KAAI,CAAC,CAAC;AAAC;ACAz7O,SAASP,GAAEF,GAAES,GAAE;AAAC,SAAM,EAAC,MAAK,UAAS,SAAQA,GAAE,cAAa,EAAC,gBAAeE,GAAC,EAAG,eAAc,GAAE,UAASC,GAAEZ,CAAC,EAAC;AAAC;AAAC,SAASK,GAAEL,GAAE;AAAC,UAAOA,GAAC;AAAA,IAAE,KAAI;AAAU,aAAOS,GAAE;AAAA,IAAQ,KAAI;AAAQ,aAAOA,GAAE;AAAA,IAAM,KAAI;AAAW,aAAOA,GAAE;AAAA,IAAS,KAAI;AAAO,aAAOA,GAAE;AAAA,IAAK;AAAQ,aAAO;AAAA,EAAI;AAAC;AAAC,SAASG,GAAEZ,GAAE;AAAC,MAAG,CAACA,EAAE,QAAM,CAAA;AAAG,UAAOA,EAAE,MAAM;AAAA,IAAA,KAAI;AAAA,IAAS,KAAI;AAAA,IAAe,KAAI;AAAA,IAAe,KAAI;AAAa,aAAOe,GAAEf,CAAC;AAAA,IAAE,KAAI;AAAc,aAAOG,GAAEH,CAAC;AAAA,IAAE,KAAI;AAAY,aAAOiB,GAAEjB,CAAC;AAAA,IAAE,KAAI;AAAU,aAAOc,GAAEd,CAAC;AAAA,EAAC;AAAC;AAAC,SAASG,GAAEH,GAAE;AAAC,QAAMS,IAAE,CAAE;AAAC,aAAUC,KAAKV,EAAE,WAAW,CAAAS,EAAE,KAAK,EAAC,SAAQA,EAAE,QAAO,YAAWC,EAAE,iBAAgB,OAAMA,EAAE,MAAK,CAAC;AAAE,SAAOD;AAAC;AAAC,SAASQ,GAAEjB,GAAE;AAAC,QAAMS,IAAEM,GAAEf,CAAC;AAAE,MAAIU,IAAE;AAAE,aAAUC,KAAKX,EAAE,WAAW,CAAAS,EAAE,KAAK,EAAC,SAAQC,KAAI,YAAWC,EAAE,iBAAgB,OAAMA,EAAE,MAAK,CAAC;AAAE,SAAOF;AAAC;AAAC,SAASK,GAAE,EAAC,iBAAgBd,GAAE,OAAMS,EAAC,GAAE;AAAC,SAAOT,KAAGS,IAAE,CAAC,EAAC,SAAQ,GAAE,YAAWT,GAAE,OAAMS,EAAC,CAAC,IAAE,CAAE;AAAA;AAAC,SAASM,GAAEN,GAAE;AAAC,SAAG,EAAE,qBAAoBA,MAAI,CAACA,EAAE,iBAAiB,SAAa,CAAE,IAAQC,GAAED,EAAE,eAAe,EAAE,IAAK,OAAGoB,GAAE,CAAC,CAAG,EAAC,OAAO7B,EAAC;AAAC;AAAC,SAASkB,GAAElB,GAAE;AAAC,SAAsBA,EAAE,oBAAlB,gBAAkC,OAAK,EAAC,SAAQK,GAAEL,EAAE,IAAI,GAAE,OAAMA,EAAE,OAAM,oBAAmBA,EAAE,oBAAmB,YAAWA,EAAE,iBAAgB,qBAAoBA,EAAE,oBAAmB;AAAC;AAAC,SAASgB,GAAEhB,GAAE;AAAC,SAAM,EAAC,SAAQK,GAAEL,EAAE,IAAI,GAAE,OAAMA,EAAE,OAAM,oBAAmBA,EAAE,oBAAmB,YAAWA,EAAE,gBAAe;AAAC;AAAC,SAASa,GAAEb,GAAE;AAAC,SAAM,EAAC,SAAQK,GAAEL,EAAE,IAAI,GAAE,OAAMA,EAAE,OAAM,oBAAmBA,EAAE,oBAAmB,YAAWA,EAAE,gBAAe;AAAC;AAAC,SAASqB,GAAErB,GAAE;AAAC,SAAM,EAAC,SAAQK,GAAEL,EAAE,IAAI,GAAE,YAAWA,EAAE,iBAAgB,OAAMA,EAAE,MAAK;AAAC;AAAC,SAAS6B,GAAE7B,GAAE;AAAC,UAAOA,EAAE,MAAI;AAAA,IAAE,KAAI;AAAO,aAAOkB,GAAElB,CAAC;AAAA,IAAE,KAAI;AAAQ,aAAOgB,GAAEhB,CAAC;AAAA,IAAE,KAAI;AAAU,aAAOa,GAAEb,CAAC;AAAA,IAAE,KAAI;AAAW,aAAOqB,GAAErB,CAAC;AAAA,EAAC;AAAC;ACAjrD,MAAME,GAAC;AAAA,EAAC,YAAY,GAAE;AAAC,SAAK,iBAAe,IAAIG,GAAE,EAAC,WAAU,sBAAqB,CAAC,GAAE,KAAK,kBAAgB,IAAIM,GAAE,EAAC,aAAY,GAAE,SAAQ,EAAE,QAAO,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,eAAe,QAAS,GAAC,KAAK,gBAAgB,WAAU,KAAK;EAAO;AAAA,EAAC,QAAO;AAAC,SAAK,gBAAgB;EAAO;AAAA,EAAC,MAAM,KAAKN,GAAE;AAAC,WAAOL,GAAE,KAAK,eAAe,WAAW,KAAK,QAAQK,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,QAAQ,GAAE;AAAC,UAAMA,IAAE,KAAK,iBAAgBM,IAAEN,EAAE;AAAO,YAAO,EAAE,MAAM;AAAA,MAAA,KAAI;AAAA,MAAS,KAAI;AAAY,eAAGM,GAAG,SAAO,EAAE,OAAK,SAAcN,EAAE,KAAK,CAAC;AAAA,MAAE,KAAI;AAAA,MAAa,KAAI;AAAkB,eAAOA,EAAE,KAAK,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC;","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49]}