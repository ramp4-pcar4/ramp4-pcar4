const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./request-D1KFIyc-.js","./preload-helper-ExcqyqRp.js","./IdentityManager-BB_2BJK_.js","./themeUtils-aGG8mCu-.js","./uuid-Cl5lrJ4c.js","./substitute-CnvKqniT.js","./pe-wasm-Bm91CMb3.js","./_commonjsHelpers-DCkdB7M8.js","./WhereClause-5geEOfvX.js","./TimeOnly-Bhgd7sly.js","./UnknownTimeZone-BbXWTWnn.js","./arcadeUtils-46P448ty.js","./languageUtils-CfpQWHTf.js","./ImmutableArray-BPVd6ESQ.js","./shared-gmOm2hpn.js","./Field-DlKE1Mj8.js","./fieldType-CmjutMKi.js","./number-Byz85fYL.js","./Query-BotaYlLX.js","./TimeExtent-LauUhoJg.js","./featureConversionUtils-J97qUbG1.js","./OptimizedFeature-CIptWNVu.js","./OptimizedFeatureSet-Blu9Ckm7.js","./FieldsIndex-Ba_LhL6O.js","./PortalItem-CUJ-aEPg.js","./Basemap-CKvCwA3Y.js","./loadAll-DWz3Z_IT.js","./writeUtils-CZ7Hqggo.js","./ElevationLayer-Cf8pjjlE.js","./MultiOriginJSONSupport-B6J-W59E.js","./HeightModelInfo-D_2KbXxu.js","./Layer-Bmiqc_vS.js","./ArcGISCachedService-MBB3Ep7s.js","./TileInfo-DQRGzhYz.js","./TileKey-DZd6gJy7.js","./TileInfoTilemapCache-CiiHUO3f.js","./TilemapCache-BNgC96t2.js","./ByteSizeUnit-BsxeN7wM.js","./LRUCache-iH9TkhNf.js","./ArcGISService-BlFEeojs.js","./arcgisLayerUrl-Bgq-0hIo.js","./OperationalLayer-Ced0SM8k.js","./commonProperties-DUIuHWjS.js","./ElevationInfo-BeK7kpCR.js","./lengthUtils-yTwjD6q3.js","./PortalLayer-asxaaElk.js","./portalItemUtils-BrITqBoP.js","./projection-uWASLutg.js","./projectBuffer-DohnbaJT.js","./workers-yoQEo-M6.js","./webStyleSymbolUtils-C8GjXbMg.js","./devEnvironmentUtils-8WtPGj6h.js","./styleUtils-BpR5Pli9.js","./Map-DCaZ_vUZ.js","./compilerUtils-DO1ngQxB.js","./CollectionFlattener-DWiW_AsH.js","./mat4f32-DcsiF_Rp.js","./mat4-gnzTYV35.js","./common-DQOJ18NT.js","./TablesMixin-riTapQBG.js","./MapView-CdjwNzsS.js","./Cyclical-D0JMPWrU.js","./UpdatingHandles-D_EiszAW.js","./signal-zY6W4EHa.js","./GraphicsCollection-CYDNLo0g.js","./ReactiveMap-Ca83jZgf.js","./ViewingMode-HRfKv6NR.js","./vec2f64-B7N_6o8F.js","./vec2-DGVIkCvT.js","./Tile-M056j5jm.js","./TileKey-CSuPgwP2.js","./QueueProcessor-Bh2G5ga1.js","./quickselect-QQC62dOK.js","./normalizeUtils-Bz4pPiym.js","./normalizeUtilsCommon-BDljxOu-.js","./utils-BZ-awri-.js","./utils-RBj55bRD.js","./mat3-XZDRtl20.js","./vec2f32-BbH2jxlN.js","./unitBezier-BX6NeAEr.js","./Scheduler-G3vNetIw.js","./vec32-CjC8RzUk.js","./definitions-C0Jy3zs7.js","./enums-Dk3osxpS.js","./Texture-B26cOnGq.js","./imageUtils-DlC2iV_P.js","./capabilities-A2uoe7dc.js","./Version-DnrwVW-G.js","./ColorBackground-DJxFZezX.js","./FeatureLayer-bvc3Htb9.js","./UniqueValueRenderer-_2Kx4xvv.js","./RendererLegendOptions-DWCNE36I.js","./diffUtils-DwXtBCa8.js","./colorRamps-ChyDqgUz.js","./sizeVariableUtils-Cmcuvw-4.js","./visualVariableUtils-CLocs99Y.js","./jsonUtils-mVpZRL__.js","./OverrideHelper-DuVEcR-f.js","./colorUtils-ZVjV-Ek5.js","./vec42-CKs01hkn.js","./vec4f64-CMoMXWBi.js","./utils-QWndGYJy.js","./enums-CmIX1y88.js","./quantizationUtils-C6YmP8ac.js","./heatmapUtils-Dz1PGT5-.js","./FeatureLayerBase-UwMSbP6E.js","./featureLayerUtils-wUcBUaNv.js","./RelationshipQuery-DFO14R8I.js","./LayerFloorInfo-BQsqeWMF.js","./Relationship-D6aLXrIm.js","./serviceCapabilitiesUtils-BkEEZl5j.js","./editsZScale-CTjoj0Sa.js","./queryZScale-DOJ8BH8B.js","./FeatureSet-D9asjXuQ.js","./APIKeyMixin-BwA5VRSm.js","./BlendLayer-B3kEVn1W.js","./jsonUtils-Ej-u0sVu.js","./parser-CHHf2xzw.js","./CustomParametersMixin-COQliALH.js","./EditBusLayer-Je_NmJeB.js","./FeatureEffectLayer-CtXMrfsf.js","./FeatureEffect-rL52TNxl.js","./FeatureFilter-CNr5daTn.js","./FeatureReductionLayer-k8YwijnY.js","./FeatureReductionSelection-CpkwMTOq.js","./labelingInfo-CHneWRo9.js","./labelUtils-Btnn7TmQ.js","./MD5-C9MwAd2G.js","./OrderedLayer-Dv_r3q6Y.js","./OrderByInfo-D_l-CUWZ.js","./RefreshableLayer-BFSuWiFU.js","./ScaleRangeLayer-3rKl-Gjx.js","./TemporalLayer-D8TYMwyL.js","./TimeInfo-Cv4_eppp.js","./FeatureTemplate-Bb53cY_G.js","./FeatureType-6Q4scH1Y.js","./fieldProperties-7n8lORk7.js","./versionUtils-Dca1Hlo9.js","./styleUtils-BGOBxvVr.js","./popupUtils-Hc7lsAxF.js","./AlphaCutoff-UcccL64p.js","./interfaces-CL2NbQte.js","./GraphicsLayer-MDUw3E8o.js","./ImageryLayer-v3xFmlnJ.js","./RasterPresetRendererMixin-BOFqXWxq.js","./multidimensionalUtils-BcmlNgvy.js","./dataUtils-BgmS2dJe.js","./RasterSymbolizer-CrcZxWKE.js","./ClassBreaksDefinition-BNohlYZV.js","./utils-B4xEeHqi.js","./cimSymbolUtils-CZVpT9-w.js","./imageBitmapUtils-GkqCrK-I.js","./executeForIds-C8fab95y.js","./query-4-hn2cMV.js","./pbfQueryUtils-WAWHXn8s.js","./pbf-B2aHlyuq.js","./executeQueryJSON--joNQgex.js","./MapImageLayer-Bb3rI5tY.js","./scaleUtils-d3sS4heD.js","./SublayersOwner-C8yw93r_.js","./QueryTask-CZDxSpIn.js","./infoFor3D-_5f2f6Um.js","./executeQueryPBF-BAxdrVDx.js","./sublayerUtils-YM3O9VDQ.js","./ExportImageParameters-Can1TZhV.js","./floorFilterUtils-DKzVzLpH.js","./OpenStreetMapLayer-Cuy5OA0B.js","./WebTileLayer-DnGJPsrV.js","./TileLayer-DKFj_3PJ.js","./WMSLayer-DhIAJReH.js","./crsUtils-DAndLU68.js","./ExportWMSImageParameters-DjSkNMHb.js","./query-GK7-O3KE.js","./AttachmentInfo-BOFL9h54.js","./executeBinsQuery-11d9FXV-.js","./BinsQuery-DERGPGP6.js","./queryUtils-d1mEfn_d.js","./json-Wa8cmqdu.js","./executeRelationshipQuery-BDQhUk19.js","./executeTopFeaturesQuery-Cx-M2Rcr.js","./queryTopFeatures-C6ohQwei.js","./TopFeaturesQuery-B6qsd9C7.js","./executeForTopIds-BfXYobvQ.js","./executeForTopExtents-D0wTLc4w.js","./executeForTopCount-CUb4NBGd.js","./shp.min-BuysU_F5.js","./_commonjs-dynamic-modules-TDtrdbi3.js","./jszip.min-BTbAu1y2.js","./index-BHuo54uh.js","./index-C0BV8b1p.css","./index-ByqtjQ9N.js","./screen.vue_vue_type_script_setup_true_lang-BkVKXqKK.js","./screen-Cea9pofX.css","./index-DPUnYcjP.js","./index-Bsw-O7WM.js","./index-1X12IJY7.css","./index-IjopaLbC.js","./hilight-defs-CqXQYtIh.js","./index-C0dsSDJx.js","./fabric-DK8AUpy_.js","./index-Bv8st36V.js","./index-DXKx1TYo.js","./index-DWLFCzlQ.js","./index-EoMn_9Ou.js","./index-CH42FqaD.js","./index-Bsrr98oa.js","./index-CJdCBZlg.js","./screen.vue_vue_type_script_setup_true_lang-XJ1LYHEd.js","./index-DNKqRIaO.js","./index-0M_sCcKj.js","./index-Dv2W5475.js","./index-MVKajQ_E.js","./table-state-manager-BeyhKYxv.js","./index-C4Xny-Os.js","./index-7Clhslkg.js","./index-Cgj0aflz.js","./index-gugGpgEb.js","./index-DVxPsvSy.js","./index-CTZ1kO0r.css","./index-BMG8ZHyq.js","./index-BrSOnHS2.js","./index-COg91NDU.js","./index-C1UMDyxT.css","./index-DIpeD0R7.js","./index-D-3-S-HY.css","./index-qHpvasql.js","./index-Dti23dwS.css","./index-XuzSwD_x.js","./index-DmZ4cRHr.js","./index-GJsMd_kQ.js","./screen-DkhLqstA.js","./screen-CK54Suaf.js","./screen-B_KOI8ka.css","./screen-BDvTZtL_.js","./screen-ChOawQRw.js","./screen-CwbtZ41W.css","./screen-D6dn_I-W.js","./screen-Dfw8X_y6.css","./screen-CKpzrHmy.js","./marked.esm-DmSrlTiT.js","./screen-DcX-wckC.css","./screen-Cdx1aLX7.js","./vue.esm-bundler-NvGWJlxs.js","./screen-DH2W8SRu.css","./screen-CEg5Gs6Z.js","./screen-BkfPSGEi.js","./screen-CkXxljnt.css","./screen-BTS9B4c9.js","./toggle-switch-control-D0Ky0yZQ.js","./toggle-switch-control-TJXJxWh9.css","./screen-DMJifmlo.css","./screen-BwExrOHc.js","./screen-BYyOI6eq.css"])))=>i.map(i=>d[i]);
import{_ as xe}from"./preload-helper-ExcqyqRp.js";var Uo=(e=>(e.BLOB="blob",e.DATE="date",e.DOUBLE="double",e.GEOMETRY="geometry",e.GLOBAL_ID="global-id",e.GUID="guid",e.INTEGER="integer",e.LONG="long",e.OID="oid",e.RASTER="raster",e.SINGLE="single",e.SMALL_INTEGER="small-integer",e.STRING="string",e.XML="xml",e))(Uo||{}),Io=(e=>(e.CIRCLE="circle",e.CROSS="cross",e.DIAMOND="diamond",e.ICON="icon",e.PATH="path",e.SQUARE="square",e.TRIANGLE="triangle",e.X="x",e))(Io||{}),zr=(e=>(e.DASH="dash",e.DASHDOT="dash-dot",e.DASHDOTDOT="short-dash-dot-dot",e.DOT="dot",e.LONGDASH="long-dash",e.LONGDASHDOT="long-dash-dot",e.LONGDASHDOTDOT="long-dash-dot-dot",e.NONE="none",e.NULL="none",e.SHORTDASH="short-dash",e.SHORTDASHDOT="short-dash-dot",e.SHORTDASHDOTDOT="short-dash-dot-dot",e.SHORTDOT="short-dot",e.SOLID="solid",e))(zr||{}),NO=(e=>(e.BEVEL="bevel",e.MITER="miter",e.ROUND="round",e))(NO||{}),PO=(e=>(e.ROUND="round",e.BUTT="butt",e.SQUARE="square",e))(PO||{}),LO=(e=>(e.BDIAG="backward-diagonal",e.CROSS="cross",e.DIAG_CROSS="diagonal-cross",e.FDIAG="forward-diagonal",e.HORIZONTAL="horizontal",e.NONE="none",e.NULL="none",e.SOLID="solid",e.VERTICAL="vertical",e))(LO||{}),Ke=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e.LINEARRING="LinearRing",e.EXTENT="Extent",e.NONE="None",e.UNKNOWN="Unknown",e))(Ke||{}),f1=(e=>(e.Simple="simple",e.Unique="uniqueValue",e.ClassBreaks="classBreaks",e.Unknown="unknown",e))(f1||{}),Pe=(e=>(e.FEATURE="esri-feature",e.MAPIMAGE="esri-map-image",e.TILE="esri-tile",e.IMAGERY="esri-imagery",e.GRAPHIC="esri-graphic",e.WMS="ogc-wms",e.WFS="ogc-wfs",e.GEOJSON="file-geojson",e.GEOJSONZIPPED="file-zip-geojson",e.CSV="file-csv",e.SHAPEFILE="file-shape",e.FLATGEOBUF="file-fgb",e.FLATGEOBUFZIPPED="file-zip-fgb",e.OSM="osm-tile",e.DATACSV="data-csv",e.DATAJSON="data-json",e.DATATABLE="data-esri-table",e.UNKNOWN="unknown",e.SUBLAYER="sublayer",e))(Pe||{}),wn=(e=>(e.FEATURE="feature",e.GRAPHIC="graphic",e.IMAGERY="imagery",e.MAPIMAGE="map-image",e.NOLAYER="no-layer",e.OSM="osm-tile",e.TILE="tile",e.UNKNOWN="unknown",e.WMS="wms",e))(wn||{}),nr=(e=>(e.ESRI_FEATURE="esriFeature",e.ESRI_RASTER="esriRaster",e.ESRI_TILE="esriTile",e.OSM_TILE="osmTile",e.OGC_RASTER="ogcRaster",e.UNKNOWN="unknown",e))(nr||{}),ci=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e))(ci||{}),Ui=(e=>(e.GEOMETRIC="geometric",e.SYMBOLIC="symbolic",e.HYBRID="hybrid",e.NONE="none",e))(Ui||{}),Zt=(e=>(e.NEW="new",e.INITIATING="initiating",e.INITIATED="initiated",e.TERMINATING="terminating",e.TERMINATED="terminated",e))(Zt||{}),hi=(e=>(e.NEW="new",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error",e))(hi||{}),Jr=(e=>(e.NOT_LOADED="not-loaded",e.NOT_VISUAL="not-visual",e.REFRESH="refresh",e.UP_TO_DATE="up-to-date",e))(Jr||{}),sh=(e=>(e.ESRI="esri",e.TEXT="text",e.IMAGE="image",e.HTML="html",e.XML="xml",e.JSON="json",e.UNKNOWN="unknown",e))(sh||{}),Pr=(e=>(e.SYMBOL="symbol",e.GRID="grid",e.EXTENT="extent",e.INITIAL="initial",e.API="api",e.PERMANENT="permanent",e))(Pr||{}),mi=(e=>(e.BoundaryZoom="boundaryZoom",e.Datatable="datatable",e.Identify="identify",e.Metadata="metadata",e.Opacity="opacity",e.Refresh="refresh",e.Reload="reload",e.Remove="remove",e.Settings="settings",e.Symbology="symbology",e.Visibility="visibility",e))(mi||{});class vs{attributes;geometry;style;id;constructor(t,i,r){this.geometry=t,i?this.id=i:this.id=xh.sharedUtils.generateUUID(),r?this.attributes=r:this.attributes={}}_hover;get hover(){return this._hover}set hover(t){t&&this._hover&&this._hover.id!==t.id&&this.removeHover(),this._hover=t}removeHover(){this._hover&&(this._hover=void 0)}}const Py={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function v7(e){return!!Py[e]||!!Py[e.toLowerCase()]}function kO(e){return Py[e]??Py[e.toLowerCase()]}function Ede(e){return[...kO(e)]}function qv(e,t,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?e+(t-e)*r:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function b7(e,t,i,r=1){const n=(e%360+360)%360/360,s=i<=.5?i*(t+1):i+t-i*t,o=2*i-s;return[Math.round(255*qv(o,s,n+1/3)),Math.round(255*qv(o,s,n)),Math.round(255*qv(o,s,n-1/3)),r]}function Tde(e){const t=e.length>5,i=t?8:4,r=(1<<i)-1,n=t?1:17,s=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&r,o>>=i,a[3]=n*l/255),l=o&r,o>>=i,a[2]=n*l,l=o&r,o>>=i,a[1]=n*l,l=o&r,o>>=i,a[0]=n*l,a}const mT=new Float32Array(1);function Ade(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function d1(e,t,i){return Math.min(Math.max(e,t),i)}function Mde(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function _7(e,t,i){return e+(t-e)*i}function Ide(e,t,i,r,n){return _7(r,n,(e-t)/(i-t))}function Ode(e){return e*Math.PI/180}function $de(e){return 180*e/Math.PI}function Cde(e){return Math.acos(d1(e,-1,1))}function Nde(e){return Math.asin(d1(e,-1,1))}function Wv(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}const Ly=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function a_(e){return Ly.setFloat64(0,e),Ly.getBigInt64(0)}function w7(e){return Ly.setBigInt64(0,e),Ly.getFloat64(0)}const N0=BigInt("1000000"),S7=RO(1);function RO(e){const t=a_(e=Math.abs(e)),i=w7(t<=N0?N0:t-N0);return Math.abs(e-i)}function Pde(e,t,i=S7){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(i!=null&&RO(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const r=a_(e),n=a_(t);return r<0!=n<0?!1:!((r<n?n-r:r-n)>N0)}function Lde(e){return DO(Math.max(-yT,Math.min(e,yT)))}function DO(e){return mT[0]=e,mT[0]}function kde(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Wv(t,1)&&Wv(i,1)&&Wv(r,1))}const yT=DO(34028234663852886e22);function Rde(e,t,i){if(i===void 0||+i==0)return Math[e](t);if(t=+t,i=+i,isNaN(t)||typeof i!="number"||i%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}let Ya;function ue(e){return typeof Ya[e]=="function"?Ya[e]=Ya[e](globalThis):Ya[e]}Ya=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},ue.add=(e,t,i,r)=>{(r||Ya[e]===void 0)&&(Ya[e]=t),i&&ue(e)},ue.cache=Ya,ue.add("big-integer-warning-enabled",!0),ue.add("esri-deprecation-warnings",!0),ue.add("esri-tests-disable-screenshots",!1),ue.add("esri-tests-use-full-window",!1),ue.add("esri-tests-post-to-influx",!0),ue.add("esri-cim-animations-enable-status","enabled"),ue.add("esri-cim-animations-spotlight",!1),ue.add("esri-cim-animations-freeze-time",!1),ue.add("enable-feature:multiple-highlights",!1),(()=>{ue.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(ue.add("host-browser",e),ue.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),ue.add("dom",e),ue("host-browser")){const t=navigator,i=t.userAgent,r=t.appVersion,n=parseFloat(r);if(ue.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),ue.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),ue.add("khtml",r.includes("Konqueror")?n:void 0),ue.add("edge",parseFloat(i.split("Edge/")[1])||void 0),ue.add("opr",parseFloat(i.split("OPR/")[1])||void 0),ue.add("webkit",!ue("wp")&&!ue("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),ue.add("chrome",!ue("edge")&&!ue("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),ue.add("android",!ue("wp")&&parseFloat(i.split("Android ")[1])||void 0),ue.add("safari",!r.includes("Safari")||ue("wp")||ue("chrome")||ue("android")||ue("edge")||ue("opr")?void 0:parseFloat(r.split("Version/")[1])),ue.add("mac",r.includes("Macintosh")),!ue("wp")&&/(iPhone|iPod|iPad)/.test(i)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(i)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));ue.add(s,a),ue.add("ios",a)}ue("webkit")||(!i.includes("Gecko")||ue("wp")||ue("khtml")||ue("edge")||ue.add("mozilla",n),ue("mozilla")&&ue.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&ue.add("esri-mobile",t),i&&ue.add("esri-iPhone",i),ue.add("esri-geolocation",!!navigator.geolocation)}ue.add("esri-wasm","WebAssembly"in globalThis),ue.add("esri-performance-mode-frames-between-render",20),ue.add("esri-force-performance-mode",!1),ue.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),ue.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),ue.add("esri-atomics","Atomics"in globalThis),ue.add("esri-workers","Worker"in globalThis),ue.add("web-feat:cache","caches"in globalThis),ue.add("esri-workers-arraybuffer-transfer",!ue("safari")||Number(ue("safari"))>=12),ue.add("workers-pool-size",8),ue.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ue.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ue.add("featurelayer-fast-triangulation-enabled",!0),ue.add("featurelayer-animation-enabled",!0),ue.add("featurelayer-snapshot-enabled",!0),ue.add("featurelayer-snapshot-point-min-threshold",8e4),ue.add("featurelayer-snapshot-point-max-threshold",4e5),ue.add("featurelayer-snapshot-point-coverage",.1),ue.add("featurelayer-query-max-depth",4),ue.add("featurelayer-query-pausing-enabled",!1),ue.add("featurelayer-advanced-symbols",!1),ue.add("featurelayer-pbf",!0),ue.add("featurelayer-pbf-statistics",!1),ue.add("feature-layers-workers",!0),ue.add("feature-polyline-generalization-factor",1),ue.add("mapview-transitions-duration",200),ue.add("mapview-essential-goto-duration",200),ue.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),ue.add("mapserver-pbf-version-support",10.81),ue.add("mapservice-popup-identify-max-tolerance",20),ue("host-webworker")||ue("host-browser")&&(ue.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),ue.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{ue.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ue.add("esri-image-decode",!1,!0,!0)})}return!1}),ue.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();let P0=class Vl{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Vl._m}getInt(){return this._seed=(Vl._a*this._seed+Vl._c)%Vl._m,this._seed}getFloat(){return this.getInt()/(Vl._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const r=i-t;return t+this.getInt()/Vl._m*r}};P0._m=2147483647,P0._a=48271,P0._c=0;const x7=1.5,Dde=1/x7,Fde=.5;function Ude(e,t){return t?e.filter((i,r,n)=>n.findIndex(t.bind(null,i))===r):Array.from(new Set(e))}function p1(e,t,i){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function jde(e,t,i){let r,n;return i?(r=t.filter(s=>!e.some(o=>i(o,s))),n=e.filter(s=>!t.some(o=>i(o,s)))):(r=t.filter(s=>!e.includes(s)),n=e.filter(s=>!t.includes(s))),{added:r,removed:n}}function Gde(e){return e&&typeof e.length=="number"}let FO=class{constructor(){this.last=0}};const UO=new FO;function l_(e,t,i,r){r=r||UO;const n=Math.max(0,r.last-10);for(let o=n;o<i;++o)if(e[o]===t)return r.last=o,o;const s=Math.min(n,i);for(let o=0;o<s;++o)if(e[o]===t)return r.last=o,o;return-1}function Vde(e,t,i,r){const n=e.length,s=l_(e,t,n,r);if(s!==-1)return e[s]=e[n-1],e.pop(),t}const Jn=new Set;function E7(e,t,i=e.length,r=t.length,n,s){if(r===0||i===0)return i;Jn.clear();for(let a=0;a<r;++a)Jn.add(t[a]);n=n||UO;const o=Math.max(0,n.last-10);for(let a=o;a<i;++a)if(Jn.has(e[a])&&(s?.push(e[a]),Jn.delete(e[a]),e[a]=e[i-1],--i,--a,Jn.size===0||i===0))return Jn.clear(),i;for(let a=0;a<o;++a)if(Jn.has(e[a])&&(s?.push(e[a]),Jn.delete(e[a]),e[a]=e[i-1],--i,--a,Jn.size===0||i===0))return Jn.clear(),i;return Jn.clear(),i}function zde(e,t){let i=0;for(let r=0;r<e.length;++r){const n=e[r];t(n,r)&&(e[i]=n,i++)}e.length=i}function T7(e){return e?(gT.seed=e,()=>gT.getFloat()):Math.random}function qde(e,t){const i=T7(t);for(let r=e.length-1;r>0;r--){const n=Math.floor(i()*(r+1)),s=e[r];e[r]=e[n],e[n]=s}return e}const gT=new P0;function A7(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function M7(e,t){return e!=null}function jO(e){return 32+e.length}function TS(){return 16}function Wde(e){if(!e)return 0;let t=BO;for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];switch(typeof r){case"string":t+=jO(r);break;case"number":t+=TS();break;case"boolean":t+=4}}return t}function I7(e){if(!e)return 0;if(Array.isArray(e))return O7(e);let t=BO;for(const i in e)e.hasOwnProperty(i)&&(t+=GO(e[i]));return t}function O7(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let i=VO;for(let r=0;r<t;r++)i+=GO(e[r]);return i}function GO(e){switch(typeof e){case"object":return I7(e);case"string":return jO(e);case"number":return TS();case"boolean":return 4;default:return 8}}function $7(e,t){return VO+e.length*t}const BO=32,VO=16;function Hde(e){return e instanceof ArrayBuffer}function AS(e){return e?.constructor?.name==="Int8Array"}function zO(e){return e?.constructor?.name==="Uint8Array"}function qO(e){return e?.constructor?.name==="Uint8ClampedArray"}function MS(e){return e?.constructor?.name==="Int16Array"}function WO(e){return e?.constructor?.name==="Uint16Array"}function IS(e){return e?.constructor?.name==="Int32Array"}function HO(e){return e?.constructor?.name==="Uint32Array"}function m1(e){return e?.constructor?.name==="Float32Array"}function y1(e){return e?.constructor?.name==="Float64Array"}function YO(e){return!("buffer"in e)}function Yde(...e){return e.reduce((t,i)=>t+(i?YO(i)?$7(i,TS()):i.byteLength+C7:0),0)}const C7=145,JO=1024;function Jde(e){return y1(e)||m1(e)||IS(e)||MS(e)||AS(e)}function Kde(e){return y1(e)||m1(e)}function Zde(e){return y1(e)?179769e303:m1(e)?3402823e32:HO(e)?4294967295:WO(e)?65535:zO(e)||qO(e)?255:IS(e)?2147483647:MS(e)?32767:AS(e)?127:256}function Xde(e,t){let i;for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function ge(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=QO(e);if(t!=null)return t;if(KO(e))return e.clone();if(ZO(e))return e.map(ge);if(XO(e))return e.clone();const i={};for(const r of Object.getOwnPropertyNames(e))i[r]=ge(e[r]);return i}function c_(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=QO(e);if(t!=null)return t;if(ZO(e)){let i=!0;const r=e.map(n=>{const s=c_(n);return n!=null&&s==null&&(i=!1),s});return i?r:null}if(KO(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!XO(e)){const i=new(Object.getPrototypeOf(e)).constructor;for(const r of Object.getOwnPropertyNames(e)){const n=e[r],s=c_(n);if(n!=null&&s==null)return null;i[r]=s}return i}return null}function KO(e){return typeof e.clone=="function"}function ZO(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function XO(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function vT(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function QO(e){if(AS(e)||zO(e)||qO(e)||MS(e)||WO(e)||IS(e)||HO(e)||m1(e)||y1(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,r]of e)t.set(i,ge(r));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(ge(i));return t}return null}function OS(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function N7(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&p1(e,t):e instanceof Set?t instanceof Set&&L7(e,t):e instanceof Map?t instanceof Map&&k7(e,t):!!vT(e)&&vT(t)&&P7(e,t))}function P7(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const r of i)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function L7(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function k7(e,t){if(e.size!==t.size)return!1;for(const[i,r]of e){const n=t.get(i);if(n!==r||n===void 0&&!t.has(i))return!1}return!0}function R7(e,t,i=!1){return t$(e,t,i)}function $S(e,t){if(t!=null)return t[e]||e$(e.split("."),!1,t)}function af(e,t,i){const r=e.split("."),n=r.pop(),s=e$(r,!0,i);s&&n&&(s[n]=t)}function bT(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let r=0;r<e.length;r++)if(bT(e[r],i[r]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(bT(e[i],t[i]))return!0;return!1}return e!==t}function e$(e,t,i){let r=i;for(const n of e){if(r==null)return;if(!(n in r)){if(!t)return;r[n]={}}r=r[n]}return r}function t$(e,t,i){return t?Object.keys(t).reduce((r,n)=>{let s=r[n],o=t[n];return s===o?r:s===void 0?(r[n]=ge(o),r):(Array.isArray(o)||Array.isArray(r)?(s=s?Array.isArray(s)?r[n]=s.slice():r[n]=[s]:r[n]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(a=>{s.includes(a)||s.push(a)}):r[n]=o.slice())):o&&typeof o=="object"?r[n]=t$(s,o,i):r.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(r[n]=o),r)},e||{}):e}const It={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(R7(It,globalThis.esriConfig,!0),delete It.has),!It.assetsPath){{const e="4.31";It.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}It.defaultAssetsPath=It.assetsPath}const D7=/\{([^}]+)\}/g;function _T(e){return e??""}function i$(e,t){return t?e.replaceAll(D7,typeof t=="object"?(i,r)=>_T($S(r,t)):(i,r)=>_T(t(r))):e}function Qde(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>t?.includes(i)?i:`\\${i}`)}function r$(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let wT;function epe(e){return wT??=new DOMParser,wT.parseFromString(e||"","text/html").body.innerText||""}function tpe(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const ST={info:0,warn:1,error:2,none:3};let Pt=class cn{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,cn._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=cn.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,cn._loggers.get(t)||new cn({module:t})}_log(t,i,...r){if(this._matchLevel(t)){if(i!=="always"&&!cn._throttlingDisabled){const n=U7(r),s=this._loggedMessages[t].get(n);if(i==="once"&&s!=null||i==="oncePerTick"&&s&&s>=cn._tickCounter)return;this._loggedMessages[t].set(n,cn._tickCounter),cn._scheduleTickCounterIncrement()}for(const n of It.log.interceptors)if(n(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,i){let r=this;for(;r!=null;){const n=r[t];if(n!=null)return n;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",F7)}_matchLevel(t){const i=It.log.level||"warn";return ST[this._parentWithMember("level",i)]<=ST[t]}static _scheduleTickCounterIncrement(){cn._tickCounterScheduled||(cn._tickCounterScheduled=!0,Promise.resolve().then(()=>{cn._tickCounter++,cn._tickCounterScheduled=!1}))}};function F7(e,t,...i){console[e](`[${t}]`,...i)}function U7(...e){return r$(JSON.stringify(e,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}Pt._loggers=new Map,Pt._tickCounter=0,Pt._tickCounterScheduled=!1,Pt._throttlingDisabled=!1;function ipe(e,t){for(const i of e.values())if(t(i))return!0;return!1}function j7(e,t,i){const r=e.get(t);if(r!==void 0)return r;const n=i();return e.set(t,n),n}function rpe(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const oh=()=>Pt.getLogger("esri.core.accessorSupport.ensureTypes");function G7(e){return e==null?e:new Date(e)}function B7(e){return e==null?e:!!e}function V7(e){return e==null?e:e.toString()}function g1(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function CS(e){return e==null?e:Math.round(parseFloat(e))}function z7(e){return null}function q7(e,t){return i=>{let r=e(i);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function n$(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function ky(e,t){return t!=null&&e&&!(t instanceof e)}function s$(e){return e&&"isCollection"in e}function xT(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function W7(e,t){if(!t?.constructor||!s$(t.constructor))return u_(e,t)?t:new e(t);const i=xT(e.prototype.itemType),r=xT(t.constructor.prototype.itemType);return i?r?i===r?t:i.prototype.isPrototypeOf(r.prototype)?new e(t):(u_(e,t),t):new e(t):t}function u_(e,t){return!!n$(t)&&(oh().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+v1(e)+"'"),!0)}function H7(e,t){return t==null?t:s$(e)?W7(e,t):ky(e,t)?u_(e,t)?t:new e(t):t}function v1(e){return e?.prototype?.declaredClass||"unknown"}const Y7=new WeakMap;function J7(e){switch(e){case Number:return t=>g1(t);case Bi:return CS;case Boolean:return B7;case String:return V7;case Date:return G7;case NS:return z7;default:return j7(Y7,e,()=>H7.bind(null,e))}}function bs(e,t){const i=J7(e);return arguments.length===1?i:i(t)}function tp(e,t,i){return arguments.length===1?tp.bind(null,e):t&&(Array.isArray(t)?t.map(r=>e(r,i)):[e(t,i)])}function K7(e,t){return arguments.length===1?tp(i=>bs(e,i)):tp(i=>bs(e,i),t)}function o$(e,t,i){return t!==0&&Array.isArray(i)?i.map(r=>o$(e,t-1,r)):e(i)}function Ry(e,t,i){if(arguments.length===2)return s=>Ry(e,t,s);if(!i)return i;i=o$(e,t,i);let r=t,n=i;for(;r>0&&Array.isArray(n);)r--,n=n[0];if(n!==void 0)for(let s=0;s<r;s++)i=[i];return i}function Z7(e,t,i){return arguments.length===2?Ry(r=>bs(e,r),t):Ry(r=>bs(e,r),t,i)}function a$(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function h_(e,t){if(arguments.length===2)return h_(e).call(null,t);const i=new Set,r=e.filter(a=>typeof a!="function"),n=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||i.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,f=c==="string"||c==="number";return f&&(i.has(a)||n.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&n.some(d=>!ky(a,d))?a:(f&&r.length?(s||(s=r.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),oh().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&n.length?(o||(o=n.map(d=>v1(d)).join(", ")),oh().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):oh().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Oc(e,t){if(arguments.length===2)return Oc(e).call(null,t);const i={},r=[],n=[];for(const l in e.typeMap){const c=e.typeMap[l];i[l]=bs(c),r.push(v1(c)),n.push(l)}const s=()=>`'${r.join("', '")}'`,o=()=>`'${n.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!ky(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,f=i[c];if(!f)return oh().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!ky(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!n$(l)){const d={};for(const p in l)p!==e.key&&(d[p]=l[p]);return f(d)}return f(l)}}let Bi=class{},NS=class{};const ope={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function X7(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function l$(e){switch(e.type){case"native":return bs(e.value);case"array":return tp(l$(e.value));case"one-of":return Q7(e);default:return null}}function Q7(e){let t=null;return(i,r)=>d_(i,e)?i:(t==null&&(t=f_(e)),oh().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function f_(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Bi:return"integer";case Date:return"date";case NS:return"null";default:return v1(e.value)}case"array":return`array of ${f_(e.value)}`;case"one-of":{const t=e.values.map(i=>f_(i));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function d_(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Bi:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case NS:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!d_(i,t.value));case"one-of":return t.values.some(i=>d_(e,i))}}function Um(e){return d1(CS(e),0,255)}function jm(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}function Gm(e,t){const i=e.toString(16).padStart(2,"0");return t?i.slice(0,1):i}let L0=class Ri{static blendColors(t,i,r,n=new Ri){return n.r=Math.round(t.r+(i.r-t.r)*r),n.g=Math.round(t.g+(i.g-t.g)*r),n.b=Math.round(t.b+(i.b-t.b)*r),n.a=t.a+(i.a-t.a)*r,n._sanitize()}static fromRgb(t,i){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(r){const n=r[2].split(/\s*,\s*/),s=r[1];if(s==="rgb"&&n.length===3||s==="rgba"&&n.length===4){const o=n[0];if(o.charAt(o.length-1)==="%"){const a=n.map(l=>2.56*parseFloat(l));return n.length===4&&(a[3]=parseFloat(n[3])),Ri.fromArray(a,i)}return Ri.fromArray(n.map(a=>parseFloat(a)),i)}if(s==="hsl"&&n.length===3||s==="hsla"&&n.length===4)return Ri.fromArray(b7(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])),i)}return null}static fromHex(t,i=new Ri){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const r=parseInt(t.slice(1,2),16),n=parseInt(t.slice(2,3),16),s=parseInt(t.slice(3,4),16),o=t.length===5?15:parseInt(t.slice(4),16);return Ri.fromArray([r+16*r,n+16*n,s+16*s,(o+16*o)/255],i)}case 7:case 9:{const r=parseInt(t.slice(1,3),16),n=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16),o=t.length===7?255:parseInt(t.slice(7),16);return Ri.fromArray([r,n,s,o/255],i)}default:return null}}static fromArray(t,i=new Ri){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const r=v7(t)?kO(t):null;return r&&Ri.fromArray(r,i)||Ri.fromRgb(t,i)||Ri.fromHex(t,i)}static fromJSON(t){return t!=null?new Ri([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Ri.fromString(t,this):Array.isArray(t)?Ri.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Ri||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const i=t?.capitalize??!1,r=t?.digits??6,n=r===3||r===4,s=r===4||r===8,o=`#${Gm(this.r,n)}${Gm(this.g,n)}${Gm(this.b,n)}${s?Gm(Math.round(255*this.a),n):""}`;return i?o.toUpperCase():o}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Ri.AlphaMode.ALWAYS){const i=Um(this.r),r=Um(this.g),n=Um(this.b);return t===Ri.AlphaMode.ALWAYS||this.a!==1?[i,r,n,Um(255*this.a)]:[i,r,n]}clone(){return new Ri(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(jm(this.r,0,255)),this.g=Math.round(jm(this.g,0,255)),this.b=Math.round(jm(this.b,0,255)),this.a=jm(this.a,0,1),this}_set(t,i,r,n){this.r=t,this.g=i,this.b=r,this.a=n}};L0.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(L0||(L0={}));const mt=L0;function g(e,t,i,r){var n,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o}function ape(e,t){return function(i,r){t(i,r,e)}}function lpe(e,t,i,r){function n(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function l(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):n(f.value).then(a,l)}c((r=r.apply(e,[])).next())})}const eD={remove:()=>{}};function Ei(e){return e?{remove(){e&&(e(),e=void 0)}}:eD}function tD(e){e.forEach(t=>t?.remove())}function PS(e){return Ei(()=>tD(e))}function cpe(e){return Ei(()=>e?.abort())}function upe(e){return Ei(e!=null?()=>e.destroy():void 0)}function al(e){return e.__accessor__??null}function iD(e,t){return e?.metadata?.[t]!=null}function k0(e,t,i){return i?Dy(e,t,{policy:i,path:""}):Dy(e,t,null)}function Dy(e,t,i){return t?Object.keys(t).reduce((r,n)=>{const s=n;let o=null,a="merge";if(i&&(o=i.path?`${i.path}.${n}`:n,a=i.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(r[s]))return r[s]=t[s],r;if(r[s]===void 0)return r[s]=ge(t[s]),r;let l=r[s],c=t[s];if(l===c)return r;if(Array.isArray(c)||Array.isArray(r))l=l?Array.isArray(l)?r[s]=l.slice():r[s]=[l]:r[s]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(f=>{l.includes(f)||l.push(f)}));else if(c&&typeof c=="object")if(i){const f=i.path;i.path=o,r[s]=Dy(l,c,i),i.path=f}else r[s]=Dy(l,c,null);else r.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(r[s]=c);return r},e||{}):e}function c$(e){return Array.isArray(e)?e:e.split(".")}function ET(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function rD(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...ET(i));return t}return ET(e)}function u$(e,t,i,r){const n=rD(t);if(n.length!==1){const s=n.map(o=>r(e,o,i));return PS(s)}return r(e,n[0],i)}function h$(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(i,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const r=al(t);return iD(r,i)?r.get(i):t[i]}function f$(e,t,i){if(e==null)return e;const r=h$(t[i],e);return!r&&i<t.length-1?void 0:i===t.length-1?r:f$(r,t,i+1)}function Xp(e,t,i=0){return typeof t!="string"||t.includes(".")?f$(e,c$(t),i):h$(t,e)}function $c(e,t){return Xp(e,t)}function TT(e,t){return Xp(t,e)!==void 0}function Qp(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const r in t)t[r]=ge(t[r]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function b1(e,t){const i=Qp(e);let r=i[t];return r||(r=i[t]={}),r}function nD(e,t){return k0(e,t,oD)}const sD=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function oD(e){return sD.test(e)?"replace":"merge"}function aD(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":($S(r,t)??"").toString())}let d$=class{constructor(t,i,r=void 0){this.name=t,this.details=r,this.message=(i&&aD(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},ot=class p$ extends d${constructor(t,i,r){super(t,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return ge(i)}catch{return"[object]"}}))}}catch(t){throw Pt.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new p$(t.name,t.message,t.details)}};ot.prototype.type="error";function Fy(e,t,i){if(e&&t)if(typeof t=="object")for(const r of Object.getOwnPropertyNames(t))Fy(e,r,t[r]);else{if(t.includes(".")){const n=t.split("."),s=n.splice(-1,1)[0];return void Fy($c(e,n),s,i)}const r=e.__accessor__;r!=null&&lD(t,r),e[t]=i}}function lD(e,t){if(ue("esri-unknown-property-errors")&&!cD(e,t))throw new ot("set:unknown-property",uD(e,t))}function cD(e,t){return t.metadata[e]!=null}function uD(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}function T(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,i),n=b1(t,i);r&&(r.get||r.set?(n.get=r.get||n.get,n.set=r.set||n.set):"value"in r&&("value"in e&&Pt.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),n.value=e.value=r.value)),e.readOnly!=null&&(n.readOnly=e.readOnly);const s=e.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let f;n.dependsOn=[l],n.get=function(){let d=$c(this,l);if(typeof d=="function"){f||(f=l.split(".").slice(0,-1).join("."));const p=$c(this,f);p&&(d=d.bind(p))}return d},n.readOnly||(n.set=c?function(d){this._override(i,d)}:function(d){Fy(this,l,d)})}const o=e.type,a=e.types;if(!n.cast){let l;o?l=hD(o):a&&(l=Array.isArray(a)?tp(Oc(a[0])):Oc(a)),e.cast=fD(e.cast,l)}nD(n,e),e.range&&(n.cast=q7(n.cast,e.range))}}function m$(e,t,i){const r=b1(e,i);r.json||(r.json={});let n=r.json;return t!==void 0&&(n.origins||(n.origins={}),n.origins[t]||(n.origins[t]={}),n=n.origins[t]),n}function hD(e){let t=0,i=e;if(X7(e))return l$(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const r=i;if(a$(r))return t===0?h_(r):Ry(h_(r),t);if(t===1)return K7(r);if(t>1)return Z7(r,t);const n=e;return n.from?n.from:bs(n)}function fD(e,t){if(e||t)return e?t?(i,r)=>t(e(i,r),r):e:t}const y$=Symbol("Accessor-beforeDestroy");var Hr;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Hr||(Hr={}));var gt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(gt||(gt={}));let _1=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const Uy=new _1,qf=[];let xd=Uy;function Ye(e){xd.onAccessed(e)}let R0=!1,D0=!1;function ll(e,t,i){if(R0)return LS(e,t,i);let r=null;return g$(e),r=t.call(i),v$(),r}function dD(e,t){return ll(Uy,e,t)}function LS(e,t,i){const r=R0;R0=!0,g$(e);let n=null;try{n=t.call(i)}catch(s){D0&&Pt.getLogger("esri.core.accessorSupport.tracking").error(s)}return v$(),R0=r,n}function g$(e){xd=e,qf.push(e)}function v$(){const e=qf.length;if(e>1){const t=qf.pop();xd=qf[e-2],t.onTrackingEnd()}else if(e===1){const t=qf.pop();xd=Uy,t.onTrackingEnd()}else xd=Uy}function b$(e,t){if(t.flags&gt.DepTrackingInitialized)return;t.flags|=gt.DepTrackingInitialized;const i=D0;D0=!1,t.flags&gt.AutoTracked?LS(t.trackingTarget,t.metadata.get,e):_$(e,t),D0=i}const pD=[];function _$(e,t){t.flags&gt.ExplicitlyTracking||(t.flags|=gt.ExplicitlyTracking,LS(t.trackingTarget,()=>{const i=t.metadata.dependsOn||pD;for(const r of i)if(typeof r!="string"||r.includes(".")){const n=c$(r);for(let s=0,o=e;s<n.length&&o!=null&&typeof o=="object";++s)o=AT(o,n[s],s!==n.length-1)}else AT(e,r,!1)}),t.flags&=~gt.ExplicitlyTracking)}function AT(e,t,i){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const n=al(e);if(n){const s=n.propertiesByName.get(r);s&&(Ye(s),b$(e,s))}return i?e[r]:void 0}function mD(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(t[r]){const n=t[r];i[r].forEach(s=>{t[s]=n}),delete t[r]}}}let ip=class extends d${constructor(t,i,r){super(t,i,r)}};ip.prototype.type="warning";function w$(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const p_=()=>Pt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function MT(e,t,i){e&&(!i&&!t.read||t.read?.reader||t.read?.enabled===!1||vD(e)&&af("read.reader",S$(e),t))}function S$(e){const t=e.ndimArray??0;if(t>1)return gD(e);if(t===1)return IT(e);if("type"in e&&E$(e.type)){const i=e.type.prototype?.itemType?.Type,r=IT(typeof i=="function"?{type:i}:{types:i});return(n,s,o)=>{const a=r(n,s,o);return a&&new e.type(a)}}return kS(e)}function kS(e){return"type"in e?yD(e.type):bD(e.types)}function yD(e){return e.prototype.read?(t,i,r)=>{if(t==null)return t;const n=typeof t;if(n!=="object")return void p_().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${n}'`);const s=new e;return s.read(t,r),s}:e.fromJSON}function x$(e,t,i,r){return r!==0&&Array.isArray(t)?t.map(n=>x$(e,n,i,r-1)):e(t,void 0,i)}function gD(e){const t=kS(e),i=x$.bind(null,t),r=e.ndimArray??0;return(n,s,o)=>{if(n==null)return n;n=i(n,o,r);let a=r,l=n;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)n=[n];return n}}function IT(e){const t=kS(e);return(i,r,n)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const a of i){const l=t(a,void 0,n);l!==void 0&&o.push(l)}return o}const s=t(i,void 0,n);return s!==void 0?[s]:void 0}}function E$(e){if(!w$(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?RS(t.Type):T$(t.Type))}function vD(e){return"types"in e?T$(e.types):RS(e.type)}function RS(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||E$(e))}function T$(e){for(const t in e.typeMap)if(!RS(e.typeMap[t]))return!1;return!0}function bD(e){let t=null;const i=e.errorContext??"type",r=e.validate;return(n,s,o)=>{if(n==null)return n;const a=typeof n;if(a!=="object")return void p_().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=_D(e));const l=e.key;if(typeof l!="string")return;const c=n[l],f=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){const p=`Type '${c||"unknown"}' is not supported`;return o?.messages&&n&&o.messages.push(new ip(`${i}:unsupported`,p,{definition:n,context:o})),void p_().error(p)}const d=new f;return d.read(n,o),r?r(d):d}}function _D(e){const t={};for(const i in e.typeMap){const r=e.typeMap[i],n=Qp(r.prototype);if(typeof e.key=="function")continue;const s=n[e.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){t[s.json.type[0]]=r;continue}const o=s.json?.write;if(!o?.writer){t[i]=r;continue}const a=o.target,l=typeof a=="string"?a:e.key,c={};o.writer(i,c,l),c[l]&&(t[c[l]]=r)}return t}function wD(e){if(e.json||(e.json={}),$T(e.json),CT(e.json),OT(e.json),e.json.origins)for(const t in e.json.origins)$T(e.json.origins[t]),CT(e.json.origins[t]),OT(e.json.origins[t]);return!0}function OT(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function $T(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function CT(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function NT(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=e?.ndimArray??0;e&&(i===1||"type"in e&&w$(e.type))?t.write.writer=TD:i>1?t.write.writer=AD(i):t.types?Array.isArray(t.types)?t.write.writer=xD(t.types[0]):t.write.writer=SD(t.types):t.write.writer=rp}function SD(e){return(t,i,r,n)=>t?A$(t,e,n)?rp(t,i,r,n):void 0:rp(t,i,r,n)}function A$(e,t,i){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(i?.messages){const r=t.errorContext??"type",n=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new ot(`${r}:unsupported`,n,{definition:e,context:i})),Pt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(n)}return!1}function xD(e){return(t,i,r,n)=>!t||!Array.isArray(t)?rp(t,i,r,n):rp(t.filter(s=>A$(s,e,n)),i,r,n)}function rp(e,t,i,r){af(i,jy(e,r),t)}function jy(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?ED(e):e}function ED(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function TD(e,t,i,r){let n;e===null?n=null:e&&typeof e.map=="function"?(n=e.map(s=>jy(s,r)),typeof n.toArray=="function"&&(n=n.toArray())):n=[jy(e,r)],af(i,n,t)}function M$(e,t,i){return i!==0&&Array.isArray(e)?e.map(r=>M$(r,t,i-1)):jy(e,t)}function AD(e){return(t,i,r,n)=>{let s;if(t===null)s=null;else{s=M$(t,n,e);let o=e,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}af(r,s,i)}}function MD(e,t){return DS(e,"any",t?.origin)}function m_(e,t){return DS(e,"read",t?.origin)}function I$(e,t){return DS(e,"write",t?.origin)}function DS(e,t,i){let r=e?.json;if(r?.origins&&i){let n;n=i==="link-chart"?r.origins[i]&&(t==="any"||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],n&&(t==="any"||t in n)&&(r=n)}return r}function ID(e){const t=OD(e);if(e.json.origins)for(const i in e.json.origins){const r=e.json.origins[i],n=r.types?$D(r):t;MT(n,r,!1),r.types&&!r.write&&e.json.write?.enabled&&(r.write={...e.json.write}),NT(n,r)}MT(t,e.json,!0),NT(t,e.json)}function OD(e){return e.json.types?y_(e.json):e.type?O$(e):y_(e)}function $D(e){return e.type?O$(e):y_(e)}function O$(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!a$(i);)i=i[0],t++;return{type:i,ndimArray:t}}function y_(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function CD(e){wD(e)&&(mD(e),ID(e))}const Hv=new Set,Yv=new Set;function ie(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,PD(t);const i=[],r=[];let n=t.prototype;for(;n;)n.hasOwnProperty("initialize")&&!Hv.has(n.initialize)&&(Hv.add(n.initialize),i.push(n.initialize)),n.hasOwnProperty("destroy")&&!Yv.has(n.destroy)&&(Yv.add(n.destroy),r.push(n.destroy)),n=Object.getPrototypeOf(n);Hv.clear(),Yv.clear();const s=class extends t{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=i.length-1;l>=0;l--)i[l].call(this)}}),r.length){let l=!1;const c=this[y$];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let f=0;f<r.length;f++)r[f].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=Qp(t.prototype),s.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function ND(e,t){return t.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r===void 0)return;i.mutable&&Ye(r);const n=i.store;return n.has(e)?n.get(e):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r!==void 0)return r.getComputed(i)}}function PD(e){const t=e.prototype,i=Qp(t),r={};for(const n of Object.getOwnPropertyNames(i)){const s=i[n];CD(s),r[n]={enumerable:!0,configurable:!0,get:ND(n,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?PT("read-only",n):a.lifecycle===Hr.CONSTRUCTED&&s.constructOnly?PT("construct-only",n):void a.set(n,o)}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,r)}const PT=(e,t)=>{Pt.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)},LT=new WeakMap;function LD(e,t,i=!1){const r=` DEPRECATED - ${t}`;if(!i)return void e.warn(r);let n=LT.get(e);n||(n=new Set,LT.set(e,n)),n.has(t)||(n.add(t),e.warn(r))}function kD(e,t,i={}){if(ue("esri-deprecation-warnings")){const{moduleName:r}=i;np(e,`Function: ${(r?r+"::":"")+t+"()"}`,i)}}function ppe(e,t,i={}){if(ue("esri-deprecation-warnings")){const{moduleName:r}=i;np(e,`Property: ${(r?r+"::":"")+t}`,i)}}function RD(e,t,i={}){ue("esri-deprecation-warnings")&&np(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...i})}function np(e,t,i={}){if(ue("esri-deprecation-warnings")){const{replacement:r,version:n,see:s,warnOnce:o}=i;let a=t;r&&(a+=`
	 Replacement: ${r}`),n&&(a+=`
	 Version: ${n}`),s&&(a+=`
	 See ${s} for more details.`),LD(e,a,o)}}function mpe(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function ype(e,t){for(const i of e)if(i!=null&&t(i))return i}function kT(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let FS=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(kT(t)){const r=this._getOrCreateGroup(i);for(const n of t)DT(n)&&r.push(n)}else DT(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(r=>r.forEach(t));else{const r=this._getGroup(t);r&&i&&r.forEach(i)}}has(t){return this._groups.has(Bm(t))}remove(t){if(typeof t!="string"&&kT(t)){for(const i of t)this.remove(i);return this}return this.has(t)?(RT(this._getGroup(t)),this._groups.delete(Bm(t)),this):this}removeAll(){return this._groups.forEach(RT),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(Bm(t),i),i}_getGroup(t){return this._groups.get(Bm(t))}};function Bm(e){return e||"_default_"}function RT(e){for(const t of e)t instanceof FS?t.removeAll():t.remove()}function DT(e){return e!=null&&(!!e.remove||e instanceof FS)}function DD(e,t){if(e==null)throw new Error(t??"value is None")}function F0(e){return e?.destroy(),null}function vpe(e){return e?.dispose(),null}function lf(e){return e?.remove(),null}function $$(e){return e?.abort(),null}function bpe(e){return e?.release(),null}function _pe(e,t,i){return e!=null&&t!=null?i!=null?i(e,t):e.equals(t):e===t}function FD(e,t){let i;return e.some((r,n)=>(i=t(r,n),i!=null)),i??void 0}function UD(e){return e?.release&&typeof e.release=="function"}function jD(e){return e?.acquire&&typeof e.acquire=="function"}let em=class g_{constructor(t,i,r,n=1,s=0){this._ctor=t,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=n,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let i;if(g_.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let n=0;n<r;n++)this._pool[n]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):jD(i)&&i.acquire(...t),i}release(t){t&&!g_.test.disabled&&(this._releaseFunction?this._releaseFunction(t):UD(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};em.test={disabled:!1};let GD=class{constructor(t,i){this._observers=t,this._observer=i}remove(){A7(this._observers,this._observer)}},C$=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return BD;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,n=!1;const s=i.length;for(let o=0;o<s;++o){const a=i[o];if(a.destroyed)n=!0;else if(a===t){r=!0;break}}return r||(i.push(t),n&&this._removeDestroyedObservers()),new GD(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let r=0;for(let n=0;n<i;++n){for(;n+r<i&&t[n+r].destroyed;)++r;if(r>0){if(!(n+r<i))break;t[n]=t[n+r]}}t.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const BD=Ei();var ut;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(ut||(ut={}));const xpe=ut.USER+1;function N$(e){switch(e){case"defaults":return ut.DEFAULTS;case"service":return ut.SERVICE;case"portal-item":return ut.PORTAL_ITEM;case"web-scene":return ut.WEB_SCENE;case"web-map":return ut.WEB_MAP;case"link-chart":return ut.LINK_CHART;case"user":return ut.USER;default:return null}}function v_(e){switch(e){case ut.DEFAULTS:return"defaults";case ut.SERVICE:return"service";case ut.PORTAL_ITEM:return"portal-item";case ut.WEB_SCENE:return"web-scene";case ut.WEB_MAP:return"web-map";case ut.LINK_CHART:return"link-chart";case ut.USER:return"user"}}function VD(e){return v_(e)}let FT=class extends C${constructor(t,i){super(),this.propertyName=t,this.metadata=i,this.trackingTarget=new _1(this),this.flags=0,this.flags=gt.Dirty|(i.nonNullable?gt.NonNullable:0)|(i.hasOwnProperty("value")?gt.HasDefaultValue:0)|(i.get===void 0?gt.DepTrackingInitialized:0)|(i.dependsOn===void 0?gt.AutoTracked:0)}destroy(){this.flags&gt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Ye(this);const i=t.store,r=this.propertyName,n=this.flags,s=i.get(r);if(n&gt.Computing||~n&gt.Dirty&&i.has(r))return s;this.flags|=gt.Computing;const o=t.host;let a;n&gt.AutoTracked?a=ll(this.trackingTarget,this.metadata.get,o):(_$(o,this),a=this.metadata.get.call(o)),this.flags|=gt.DepTrackingInitialized,i.set(r,a,ut.COMPUTED);const l=i.get(r);return l===s?this.flags&=~gt.Dirty:dD(this.commit,this),this.flags&=~gt.Computing,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~gt.Dirty,this.onCommitted()}onInvalidated(){~this.flags&gt.Overridden&&(this.flags|=gt.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onCommitted()}}},zD=class P${constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new P$;return this._values.forEach((r,n)=>{t&&t.has(n)||i.set(n,ge(r))}),i}get(t){return this._values.get(t)}originOf(){return ut.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function Vm(e,t,i){return e!==void 0}function UT(e,t,i,r){return e!==void 0&&(!(i==null&&e.flags&gt.NonNullable)||(r.lifecycle,Hr.INITIALIZING,!1))}let qD=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Hr.INITIALIZING,this.store=new zD,this.mutable=!0,this._origin=ut.USER;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const n=new FT(r,i[r]);this.propertiesByName.set(r,n)}this.metadata=i}initialize(){this.lifecycle=Hr.CONSTRUCTING}constructed(){this.lifecycle=Hr.CONSTRUCTED}destroy(){this.lifecycle=Hr.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Hr.INITIALIZING}get(t){const i=this.propertiesByName.get(t);if(i.metadata.get)return i.getComputed(this);this.mutable&&Ye(i);const r=this.store;return r.has(t)?r.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const r=this.propertiesByName.get(t);if(r!==void 0&&r.flags&gt.HasDefaultValue)return"defaults"}return v_(i)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const i=this.propertiesByName.get(t);if(Vm(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const r=this.propertiesByName.get(t);Vm(r)&&this._internalSet(r,i)}getDependsInfo(t,i,r){const n=this.propertiesByName.get(i);if(!Vm(n))return"";const s=new _1,o=ll(s,()=>n.metadata.get?.call(t));let a=`${r}${t.declaredClass.split(".").pop()}.${i}: ${o}
`;const l=s.accessed??new Set;if(l.size===0)return a;r+="  ";for(const c of l)c instanceof FT&&(a+=`${r}${c.propertyName}: undefined
`);return a}setAtOrigin(t,i,r){const n=this.propertiesByName.get(t);if(Vm(n))return this._setAtOrigin(n,i,r)}isOverridden(t){const i=this.propertiesByName.get(t);return i!==void 0&&!!(i.flags&gt.Overridden)}clearOverride(t){const i=this.propertiesByName.get(t);i&&i.flags&gt.Overridden&&(i.flags&=~gt.Overridden,i.notifyChange())}override(t,i){const r=this.propertiesByName.get(t);if(!UT(r,t,i,this))return;const n=r.metadata.cast;if(n){const s=this._cast(n,i),{valid:o,value:a}=s;if(Jv.release(s),!o)return;i=a}r.flags|=gt.Overridden,this._internalSet(r,i)}set(t,i){const r=this.propertiesByName.get(t);if(!UT(r,t,i,this))return;const n=r.metadata.cast;if(n){const o=this._cast(n,i),{valid:a,value:l}=o;if(Jv.release(o),!a)return;i=l}const s=r.metadata.set;s?s.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(t){this._origin=N$(t)}getDefaultOrigin(){return v_(this._origin)}notifyChange(t){const i=this.propertiesByName.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.propertiesByName.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.propertiesByName.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const r=this.lifecycle!==Hr.INITIALIZING?this._origin:ut.DEFAULTS;this._setAtOrigin(t,i,r)}_setAtOrigin(t,i,r){const n=this.store,s=t.propertyName;n.has(s,r)&&OS(i,n.get(s))&&~t.flags&gt.Overridden&&r===n.originOf(s)||(t.invalidate(),n.set(s,i,r),t.commit(),b$(this.host,t))}_cast(t,i){const r=Jv.acquire();return r.valid=!0,r.value=i,t&&(r.value=t.call(this.host,i,r)),r}},WD=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const Jv=new em(WD);let HD;function YD(){return HD}var jT;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(jT||(jT={}));function JD(e){e.length=0}let Pa=class{constructor(t=50,i=50){this._pool=new em(Array,void 0,JD,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return Kv.acquire()}static release(t){return Kv.release(t)}static prune(){Kv.prune()}};const Kv=new Pa(100);let KD=class extends em{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const zm=[];function L$(e){zm.push(e),zm.length===1&&queueMicrotask(()=>{const t=zm.slice();zm.length=0;for(const i of t)i()})}let k$=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var b_;(function(e){const t=(s,o,a,l)=>{let c=o,f=o;const d=a>>>1,p=s[c-1];for(;f<=d;){f=c<<1,f<a&&l(s[f-1],s[f])<0&&++f;const y=s[f-1];if(l(y,p)<=0)break;s[c-1]=y,c=f}s[c-1]=p},i=(s,o)=>s<o?-1:s>o?1:0;function r(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=i);for(let f=a>>>1;f>o;f--)t(s,f,a,l);const c=o+1;for(let f=a-1;f>o;f--){const d=s[o];s[o]=s[f],s[f]=d,t(s,c,f,l)}}function*n(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=i);for(let f=a>>>1;f>o;f--)t(s,f,a,l),yield;const c=o+1;for(let f=a-1;f>o;f--){const d=s[o];s[o]=s[f],s[f]=d,t(s,c,f,l),yield}}e.sort=r,e.iterableSort=n})(b_||(b_={}));const GT=b_,ZD=1.5,XD=1.1;let R$=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new FO,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>BT(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let r=0;r<this._length;r++){const n=this.data[r];t(n)&&i.push(n)}return i}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,i){const r=this.data.indexOf(t,i);return r!==-1&&r<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let r=0;r<i;r++)this.data[this._length++]=t[r]}fill(t,i){for(let r=0;r<i;r++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,BT(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=l_(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(l_(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,r){this.length=E7(this.data,t,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const r=this.data[t];this.data[t]=this.data[i],this.data[i]=r}sort(t){GT.sort(this.data,0,this.length,t)}iterableSort(t){return GT.iterableSort(this.data,0,this.length,t)}some(t,i){for(let r=0;r<this.length;++r)if(t.call(i,this.data[r],r,this.data))return!0;return!1}find(t,i){const{data:r,length:n}=this;for(let s=0;s<n;++s)if(t.call(i,r[s]))return r[s]}filterInPlace(t,i){let r=0;for(let n=0;n<this._length;++n){const s=this.data[n];t.call(i,s,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=s,r++)}if(this._deallocator)for(let n=r;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=r,this._shrink(),this}forAll(t,i){const{data:r,length:n}=this;for(let s=0;s<n;++s)t.call(i,r[s],s,r)}forEach(t,i){this.data.slice(0,this.length).forEach(t,i)}map(t,i){const r=new Array(this.length);for(let n=0;n<this.length;++n)r[n]=t.call(i,this.data[n],n,this.data);return r}reduce(t,i){let r=i;for(let n=0;n<this.length;++n)r=t(r,this.data[n],n,this.data);return r}has(t){const i=this.length,r=this.data;for(let n=0;n<i;++n)if(r[n]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function BT(e){e.data.length>ZD*e.length&&(e.data.length=Math.floor(e.length*XD))}function QD(e){return{setTimeout:(t,i)=>{const r=e.setTimeout(t,i);return Ei(()=>e.clearTimeout(r))}}}const eF=QD(globalThis);function US(e){return tF(e)||D$(e)}function tF(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function D$(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function F$(e,t,i){if(!US(e))throw new TypeError("target is not a Evented or EventTarget object");return D$(e)?iF(e,t,i):e.on(t,i)}function iF(e,t,i,r){if(Array.isArray(t)){const n=t.slice();for(const s of n)e.addEventListener(s,i,r);return Ei(()=>{for(const s of n)e.removeEventListener(s,i,r)})}return e.addEventListener(t,i,r),Ei(()=>e.removeEventListener(t,i,r))}function U$(e,t,i){if(!US(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const r=F$(e,t,n=>{r.remove(),i.call(e,n)});return r}function vn(e="Aborted"){return new ot("AbortError",e)}function sp(e,t="Aborted"){if(Cc(e))throw vn(t)}function w1(e){return e instanceof AbortSignal?e:e?.signal??void 0}function Cc(e){const t=w1(e);return t!=null&&t.aborted}function j$(e){if(tm(e))throw e}function Cpe(e){if(!tm(e))throw e}function Nc(e,t){const i=w1(e);if(i!=null){if(!i.aborted)return U$(i,"abort",()=>t());t()}}function rF(e,t){const i=w1(e);if(i!=null)return sp(i),U$(i,"abort",()=>t(vn()))}function Npe(e,t){return w1(t)==null?e:new Promise((i,r)=>{let n=Nc(t,()=>r(vn()));const s=()=>{n=lf(n)};e.then(s,s),e.then(i,r)})}function tm(e){return e?.name==="AbortError"}async function Ppe(e){try{return await e}catch(t){if(!tm(t))throw t;return}}async function jS(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),r=i.map(o=>e[o]),n=await jS(r),s={};return i.map((o,a)=>s[o]=n[a]),s}const t=e;return Promise.allSettled(t).then(i=>Array.from(t,(r,n)=>{const s=i[n];return s.status==="fulfilled"?{promise:r,value:s.value}:{promise:r,error:s.reason}}))}async function Lpe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function kpe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function nF(e,t=void 0,i){const r=new AbortController;return Nc(i,()=>r.abort()),new Promise((n,s)=>{let o=setTimeout(()=>{o=0,n(t)},e);Nc(r,()=>{o&&(clearTimeout(o),s(vn()))})})}function Rpe(e,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t);return Nc(e,()=>{i.abort(),clearTimeout(r)}),{...e,signal:i.signal}}function G$(e){return e&&typeof e.then=="function"}function VT(e){return G$(e)?e:Promise.resolve(e)}function Dpe(e,t=-1){let i,r,n,s,o=null;const a=(...l)=>{if(i){r=l,s&&s.reject(vn()),s=Eh();const p=s.promise;if(o){const y=o;o=null,y.abort()}return p}if(n=s||Eh(),s=null,t>0){const p=new AbortController;i=VT(e(...l,p.signal));const y=i;nF(t).then(()=>{i===y&&(s?p.abort():o=p)})}else i=1,i=VT(e(...l));const c=()=>{const p=r;r=n=i=o=null,p!=null&&a(...p)},f=i,d=n;return f.then(c,c),f.then(d.resolve,d.reject),d.promise};return a}function Eh(){let e,t;const i=new Promise((n,s)=>{e=n,t=s}),r=n=>{e(n)};return r.resolve=n=>e(n),r.reject=n=>t(n),r.timeout=(n,s)=>eF.setTimeout(()=>r.reject(s),n),r.promise=i,r}async function Fpe(e){await Promise.resolve(),sp(e)}function Upe(e){return e}function jpe(e){return 1e3*e}function Gpe(e){return e}let sF=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},oF=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},__=0;const Mf={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},w_=["prepare","preRender","render","postRender","update","finish"],S_=[],Pc=new R$;let aF=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function lF(){vc!=null&&(cancelAnimationFrame(vc),vc=requestAnimationFrame(GS))}const Gy={frameTasks:Pc,willDispatch:!1,clearFrameTasks:cF,dispatch:z$,executeFrameTasks:uF,reschedule:lF};function B$(e){const t=new oF(e);return S_.push(t),Gy.willDispatch||(Gy.willDispatch=!0,L$(z$)),t}function qpe(e){const t=new sF(e);return Pc.push(t),vc==null&&(__=performance.now(),vc=requestAnimationFrame(GS)),new aF(t)}let vc=null;function cF(e=!1){Pc.forAll(t=>{t.removed=!0}),e&&V$()}function GS(){const e=performance.now();vc=null,vc=Pc.length>0?requestAnimationFrame(GS):null,Gy.executeFrameTasks(e)}function uF(e){const t=e-__;__=e;const i=1e3/60,r=Math.max(0,t-i);Mf.time=e,Mf.frameDuration=i-r;for(let n=0;n<w_.length;n++){const s=performance.now(),o=w_[n];Pc.forAll(a=>{a.paused||a.removed||(n===0&&a.ticks++,a.phases[o]&&(Mf.elapsedFrameTime=performance.now()-e,Mf.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,Mf)))}),dF[n].push(performance.now()-s)}V$(),pF.push(performance.now()-e)}const qm=new R$;function V$(){Pc.forAll(e=>{e.removed&&qm.push(e)}),Pc.removeUnorderedMany(qm.data,qm.length),qm.clear()}function z$(){for(;S_.length;){const e=S_.shift();e.isActive&&e.callback()}Gy.willDispatch=!1}function hF(e=1,t){const i=Eh(),r=()=>{Cc(t)?i.reject(vn()):e===0?i():(--e,L$(()=>r()))};return r(),i.promise}function fF(e){return hF(1,e)}async function Wpe(e){await fF(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const dF=w_.map(e=>new k$(e)),pF=new k$("total");function mF(e,t){for(const i of e.values())if(t(i))return!0;return!1}function zT(e,t){if(!t)return e;for(const i of t)i!=null&&e.add(i);return e}function Hpe(e,t){return t!=null&&e.add(t),e}function q$(e,t){const i=new Set;return zT(i,e),zT(i,t),i}function yF(e,t){const i=new Set;for(const r of t)e.has(r)&&i.add(r);return i}function Ype(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function Jpe(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function gF(e,t){const i=new Set(e);for(const r of t)i.delete(r);return i}function Kpe(e,t){return gF(q$(e,t),yF(e,t))}let vF=0;function U0(){return++vF}let BS=class extends _1{constructor(t){super(new bF(t)),this._observer&&qT.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&qT.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},bF=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=_F}};const qT=new FinalizationRegistry(e=>{e.deref()?.destroy()});function _F(){}let ah=!1;const By=[];function W$(e,t){let i=new BS(s),r=null,n=!1;function s(){if(!i||n)return;if(ah)return void Y$(s);const a=r;i.clear(),ah=!0,n=!0,r=ll(i,e),n=!1,ah=!1,t(r,a),J$()}function o(){i&&(i.destroy(),i=null,r=null)}return n=!0,r=ll(i,e),n=!1,Ei(o)}function H$(e,t){let i=new BS(n),r=null;function n(){t(r,o)}function s(){i&&(i.destroy(),i=null),r=null}function o(){return i?(i.clear(),r=ll(i,e),r):null}return o(),Ei(s)}function Qpe(e,t){let i=!1,r=!1;const n=!!t?.sync;let s=new BS(()=>{i||r||(r=!0,n?o():queueMicrotask(o))});function o(){r=!1,s&&!i&&(ah?Y$(o):(s.clear(),ah=!0,i=!0,ll(s,e),i=!1,ah=!1,J$()))}function a(){s&&(s.destroy(),s=null)}return i=!0,ll(s,e),i=!1,Ei(a)}function Y$(e){By.includes(e)||By.unshift(e)}function J$(){for(;By.length;)By.pop()()}var Ed;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Ed||(Ed={}));let op=class{constructor(){this.uid=U0(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,r,n,s){return this.pool.acquire(Ed.Untracked,t,i,r,n,s,OS)}static acquireTracked(t,i,r,n){return this.pool.acquire(Ed.Tracked,t,i,r,null,null,n)}notify(t,i){this.type===Ed.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i,void 0,void 0)}acquire(t,i,r,n,s,o,a){this.uid=U0(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=r,this.getValue=n,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=U0(),this.removed=!0}};op.pool=new KD(op);const j0=new Pa,Yo=new Set;let Vy;function zy(e){Yo.delete(e),Yo.add(e),Vy||(Vy=B$(xF))}function wF(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function SF(e){for(const t of Yo.values())t.target===e&&(t.removed=!0)}function xF(){let e=10;for(;Vy&&e--;){Vy=null;const t=EF(),i=j0.acquire();for(const r of t){const n=r.uid;wF(r),n===r.uid&&r.removed&&i.push(r)}for(const r of Yo)r.removed&&(i.push(r),Yo.delete(r));for(const r of i)op.pool.release(r);j0.release(i),j0.release(t),x_.forEach(r=>r())}}function EF(){const e=j0.acquire();e.length=Yo.size;let t=0;for(const i of Yo)e[t]=i,++t;return Yo.clear(),e}const x_=new Set;function tme(e){return x_.add(e),Ei(()=>x_.delete(e))}function TF(e,t,i){let r=u$(e,t,i,(n,s,o)=>{let a,l,c=H$(()=>Xp(n,s),(f,d)=>{n.__accessor__?.lifecycle===Hr.DESTROYED||a&&a.uid!==l?r.remove():(a||(a=op.acquireUntracked(f,o,d,n,s),l=a.uid),zy(a))});return Ei(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,zy(a)),a=null),r=c=null})});return r}function AF(e,t,i){const r=u$(e,t,i,(n,s,o)=>{let a=!1;return W$(()=>Xp(n,s),(l,c)=>{n.__accessor__.lifecycle!==Hr.DESTROYED?a||(a=!0,OS(c,l)||o.call(n,l,c,s,n),a=!1):r.remove()})});return r}function MF(e,t,i,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Hr.DESTROYED?r?AF(e,t,i):TF(e,t,i):Ei()}function IF(e,t,i){let r,n,s=H$(e,(o,a)=>{r&&r.uid!==n?s.remove():(r||(r=op.acquireTracked(o,t,a,i),n=r.uid),zy(r))});return Ei(()=>{s.remove(),r&&(r.uid!==n||r.removed||(r.removed=!0,zy(r)),r=null),s=null})}function OF(e,t,i){let r=!1;return W$(e,(n,s)=>{r||(r=!0,i(s,n)||t(n,s),r=!1)})}function $F(e,t,i=!1,r=N7){return i?OF(e,t,r):IF(e,t,r)}function ime(e){return mF(Yo,t=>t.oldValue===e)}var K$,Z$;function CF(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const _a=Symbol("Accessor-Handles"),E_=Symbol("Accessor-Initialized");let Xi=class G0{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:n}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,n&&n.apply(this,l)}}Qp(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...c){const f=this.inherited;let d;this.inherited=function(...p){if(s.prototype[a])return s.prototype[a].apply(this,p)};try{d=l.apply(this,c)}catch(p){throw this.inherited=f,p}return this.inherited=f,d}:t[a]}for(const a in i){const l=CF(i[a]);T(l)(o.prototype,a)}return ie(r)(o)}static freeze(t){return t instanceof G0?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof G0?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[K$]=null,this[Z$]=!1,this.constructor===G0)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new qD(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),t.length>0&&(i.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,i=t.ctorArgs;t.initialize(),i&&(this.set(i),t.ctorArgs=null),t.constructed(),this.initialize(),this[E_]=!0}initialize(){}[y$](){this[_a]=F0(this[_a])}destroy(){this.destroyed||(SF(this),this.__accessor__.destroy(),YD()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[E_]}get destroyed(){return this.__accessor__?.lifecycle===Hr.DESTROYED||!1}commitProperty(t){$c(this,t)}get(t){return kD(Pt.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),$c(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return Fy(this,t,i),this}watch(t,i,r){return MF(this,t,i,r)}addHandles(t,i){if(this.destroyed){const r=Array.isArray(t)?t:[t];for(const n of r)n.remove();return}(this[_a]??=new FS).add(t,i)}removeHandles(t){this[_a]?.remove(t)}removeAllHandles(){this[_a]?.removeAll()}removeHandlesReference(t){this[_a]?.removeReference(t)}hasHandles(t){return this[_a]?.has(t)===!0}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}};K$=_a,Z$=E_;let NF=class X${constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new X$;return this._values.forEach((r,n)=>{t&&t.has(n)||i.set(n,ge(r.value),r.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const r=this._values.get(t);return i==null||r?.origin===i?r?.value:void 0}originOf(t){return this._values.get(t)?.origin??ut.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(r=>this._values.get(r)?.origin===t)}set(t,i,r){if((r=this._normalizeOrigin(r))===ut.DEFAULTS){const n=this._values.get(t);if(n?.origin!=null&&n.origin>r)return}this._values.set(t,new PF(i,r))}delete(t,i){(i=this._normalizeOrigin(i))!=null&&this._values.get(t)?.origin!==i||this._values.delete(t)}has(t,i){return(i=this._normalizeOrigin(i))!=null?this._values.get(t)?.origin===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},r)=>t(i,r))}_normalizeOrigin(t){if(t!=null)return t===ut.DEFAULTS?t:ut.USER}},PF=class{constructor(t,i){this.value=t,this.origin=i}};function LF(e,t,i){t.keys().forEach(n=>{i.set(n,t.get(n),ut.DEFAULTS)});const r=e.metadata;Object.keys(r).forEach(n=>{e.internalGet(n)&&i.set(n,e.internalGet(n),ut.DEFAULTS)})}function kF(e,t,i){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const r=e.read.source;if(typeof r=="string"){if(r===t||r.includes(".")&&r.indexOf(t)===0&&TT(r,i))return!0}else for(const n of r)if(n===t||n.includes(".")&&n.indexOf(t)===0&&TT(n,i))return!0;return!1}function RF(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function DF(e,t,i,r,n){let s=m_(t[i],n);RF(s)&&(e[i]=!0);for(const o of Object.getOwnPropertyNames(t))s=m_(t[o],n),kF(s,i,r)&&(e[o]=!0)}function FF(e,t,i,r){const n=i.metadata,s=MD(n[t],r),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,r):o;a!==void 0&&i.set(t,a)}const Q$={origin:"service"};function UF(e,t,i=Q$){if(!t||typeof t!="object")return;const r=al(e),n=r.metadata,s={};for(const o of Object.getOwnPropertyNames(t))DF(s,n,o,t,i);r.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(s)){const a=m_(n[o],i).read,l=a?.source;let c;c=l&&typeof l=="string"?Xp(t,l):t[o],a?.reader&&(c=a.reader.call(e,c,t,i)),c!==void 0&&r.set(o,c)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(n))s[o]||FF(e,o,r,i)}r.setDefaultOrigin("user")}function nme(e,t,i,r=Q$){const n={...r,messages:[]};i(n),n.messages?.forEach(s=>{s.type!=="warning"||e.loaded?r?.messages&&r.messages.push(s):e.loadWarnings.push(s)})}function jF(e,t,i,r,n){const s={};return t.write?.writer?.call(e,r,s,i,n),s}function eC(e,t,i,r,n,s){if(!r?.write)return!1;const o=$c(e,i);if(!n&&r.write.overridePolicy){const a=r.write.overridePolicy.call(e,o,i,s??void 0);a!==void 0&&(n=a)}if(n||(n=r.write),!n||n.enabled===!1||n.layerContainerTypes&&s?.layerContainerType&&!n.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!n.allowNull&&!n.writerEnsuresNonNull||o===void 0)&&n.isRequired){const a=new ot("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return a&&s?.messages?s.messages.push(a):a&&!s&&Pt.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!n.allowNull&&!n.writerEnsuresNonNull||!n.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(i)===ut.DEFAULTS)&&GF(e,i,s,r,o)||!n.ignoreOrigin&&s?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(i)<N$(s.origin))}function GF(e,t,i,r,n){const s=r.default;if(s===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(n);if(typeof s=="function"){if(Array.isArray(n)){const o=s.call(e,t,i??void 0);return p1(o,n)}return!1}return s===n}function sme(e,t,i,r){const n=al(e),s=n.metadata,o=I$(s[t],r);return!!o&&eC(e,n,t,o,i,r)}function BF(e,t,i){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return k0(t,e.toJSON(i));const r=al(e),n=r.metadata;for(const s in n){const o=I$(n[s],i);if(!eC(e,r,s,o,void 0,i))continue;const a=$c(e,s),l=jF(e,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,i);Object.keys(l).length>0&&(t=k0(t,l),i?.resources?.pendingOperations?.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>k0(t,l,()=>"replace-arrays"))),i?.writtenProperties&&i.writtenProperties.push({target:e,propName:s,oldOrigin:VD(r.store.originOf(s)),newOrigin:i.origin}))}return t}const tC=e=>{let t=class extends e{constructor(...i){super(...i);const r=al(this),n=r.store,s=new NF;r.store=s,LF(r,n,s)}read(i,r){UF(this,i,r)}write(i,r){return BF(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return VF.call(this,i,r)}};return t=g([ie("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function VF(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}function T_(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let tt=class extends tC(Xi){};tt=g([ie("esri.core.JSONSupport")],tt);function Zi(e,t,i){let r,n;return t===void 0||Array.isArray(t)?(n=e,i=t,r=[void 0]):(n=t,r=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;r.forEach(l=>{const c=m$(s,l,n);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],i&&(c.read.source=(c.read.source||[]).concat(i))})}}let Zo=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=zF(t),this.apiValues=WT(this._apiToJSON),this.jsonValues=WT(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,n,s)=>{const o=this.toJSON(r);o!==void 0&&af(s,o,n)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function zF(e){const t={};for(const i in e)t[e[i]]=i;return t}function WT(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function Es(){return function(e,t){return new Zo(e,{ignoreUnknown:!0,...t})}}let VS=class{constructor(t,i,r,n,s,o){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=n,this.scaleHeight=s;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const _s=new VS(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),ap=new VS(3396190,1/169.8944472236118,23e4,6e4,.111),S1=new VS(1737400,0,0,0,0),qF=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,WF={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function HT(e){const t=e?.match(qF);if(!t)return null;const[,i,r,n]=t;if(!i)return null;let s=null,o=null,a=null;const{devext:l,qaext:c,www:f}=WF;if(r)if(s=i,n)switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=f);else switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=f);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function HF(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function iC(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}function YF(e){const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i.buffer}function JF(e){const t=new Uint8Array(e);let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return btoa(i)}const KF=()=>Pt.getLogger("esri.core.urlUtils"),cf=It.request,YT="esri/config: esriConfig.request.proxyUrl is not set.",rC=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,nC=/^\s*http:/i,ZF=/^\s*https:/i,XF=/^\s*file:/i,QF=/:\d+$/,eU=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,tU=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),iU=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let lh=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(tU);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(iU),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const Wm={},rU=new lh(It.applicationUrl);let br=rU;const nU=sU();let zS=nU;const qS=()=>br,ume=()=>zS;function sU(){const e=br.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${br.scheme}://${br.host}${br.port!=null?`:${br.port}`:""}`}${t}`}function Zc(e){if(!e)return null;const t={path:null,query:null},i=new lh(e),r=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.slice(0,r),t.query=WS(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.slice(0,t.path.length-(i.fragment.length+1)))),t}function WS(e){const t=e.split("&"),i={};for(const r of t){if(!r)continue;const n=r.indexOf("=");let s,o;n<0?(s=decodeURIComponent(r),o=""):(s=decodeURIComponent(r.slice(0,n)),o=decodeURIComponent(r.slice(n+1)));let a=i[s];typeof a=="string"&&(a=i[s]=[a]),Array.isArray(a)?a.push(o):i[s]=o}return i}function lp(e,t){return e?Object.keys(e).map(i=>{const r=e[i];if(r==null)return"";const n=encodeURIComponent(i)+"=",s=t?.[i];return s?n+encodeURIComponent(s(r)):Array.isArray(r)?r.map(o=>T_(o)?n+encodeURIComponent(JSON.stringify(o)):n+encodeURIComponent(o)).join("&"):T_(r)?n+encodeURIComponent(JSON.stringify(r)):n+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function sC(e=!1){let t,i=cf.proxyUrl;if(typeof e=="string"){t=hU(e);const r=x1(e);r&&(i=r.proxyUrl)}else t=!!e;if(!i)throw KF().warn(YT),new ot("urlUtils:proxy-not-set",YT);return t&&A_()&&(i=XS(i)),Zc(i)}function hme(e,t=!1){const i=x1(e);let r,n;if(i){const s=HS(i.proxyUrl);r=s.path,n=s.query?WS(s.query):null}else if(t){const s=sC(e);r=s.path,n=s.query}if(r){const s=Zc(e);e=r+"?"+s.path;const o=lp({...n,...s.query});o&&(e=`${e}?${o}`)}return e}const If={path:"",query:""};function HS(e){const t=e.indexOf("?");return t!==-1?(If.path=e.slice(0,t),If.query=e.slice(t+1)):(If.path=e,If.query=null),If}function oC(e){return e=(e=Wy(e=yU(e=HS(e).path),!0)).toLowerCase()}function oU(e){const t={proxyUrl:e.proxyUrl,urlPrefix:oC(e.urlPrefix)},i=cf.proxyRules,r=t.urlPrefix;let n=i.length;for(let s=0;s<i.length;s++){const o=i[s].urlPrefix;if(r.indexOf(o)===0){if(r.length===o.length)return-1;n=s;break}o.indexOf(r)===0&&(n=s+1)}return i.splice(n,0,t),n}function x1(e){const t=cf.proxyRules,i=oC(e);for(let r=0;r<t.length;r++)if(i.indexOf(t[r].urlPrefix)===0)return t[r]}function fme(e,t){if(!e||!t)return!1;e=qy(e),t=qy(t);const i=HT(e),r=HT(t);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&Th(e,t,!0)}function aU(e,t){return e=qy(e),t=qy(t),Wy(e)===Wy(t)}function qy(e){const t=(e=Qa(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function JT(e,t=cf.interceptors){const i=r=>r==null||r instanceof RegExp&&r.test(e)||typeof r=="string"&&e.startsWith(r);if(t){for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function Th(e,t,i=!1){if(!e||!t)return!1;const r=I_(e),n=I_(t);return!(!i&&r.scheme!==n.scheme)&&r.host!=null&&n.host!=null&&r.host.toLowerCase()===n.host.toLowerCase()&&r.port===n.port}function YS(e){if(typeof e=="string"){if(!ps(e))return!0;e=I_(e)}if(Th(e,br))return!0;const t=cf.trustedServers||[];for(let i=0;i<t.length;i++){const r=lU(t[i]);for(let n=0;n<r.length;n++)if(Th(e,r[n]))return!0}return!1}function lU(e){return Wm[e]||(ZS(e)||ml(e)?Wm[e]=[new lh(im(e))]:Wm[e]=[new lh(`http://${e}`),new lh(`https://${e}`)]),Wm[e]}function im(e,t=zS,i){return ml(e)?i?.preserveProtocolRelative?e:br.scheme==="http"&&br.authority===ds(e).slice(2)?`http:${e}`:`https:${e}`:ZS(e)?e:JS(e[0]==="/"?mU(t):t,e)}function aC(e,t=zS,i){if(e==null||!ps(e))return e;const r=Qa(e),n=r.toLowerCase(),s=Qa(t).toLowerCase().replace(/\/+$/,""),o=i?Qa(i).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return e;const a=(d,p,y)=>(y=d.indexOf(p,y))===-1?d.length:y;let l=a(n,"/",n.indexOf("//")+2),c=-1;for(;n.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==n.length);)l=a(n,"/",l+1);if(c===-1||o&&c<o.length)return e;e=r.slice(c);const f=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(f>0)for(let d=0;d<f;d++)e=`../${e}`;else e=`./${e}`;return e}function Qa(e){return e=bU(e=vU(e=gU(e=im(e=e.trim()))))}function JS(...e){const t=e.filter(M7);if(!t?.length)return;const i=[];if(ps(t[0])){const n=t[0],s=n.indexOf("//");s!==-1&&(i.push(n.slice(0,s+1)),dU(t[0])&&(i[0]+="/"),t[0]=n.slice(s+2))}else t[0][0]==="/"&&i.push("");const r=t.reduce((n,s)=>s?n.concat(s.split("/")):n,[]);for(let n=0;n<r.length;n++){const s=r[n];s===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!s&&n===r.length-1||s&&(s!=="."||i.length===0))&&i.push(s)}return i.join("/")}function ds(e,t=!1){if(e==null||KS(e)||uf(e))return null;let i=e.indexOf("://");if(i===-1&&ml(e))i=2;else{if(i===-1)return null;i+=3}const r=e.indexOf("/",i);return r!==-1&&(e=e.slice(0,r)),t&&(e=Wy(e,!0)),e}function ps(e){return ml(e)||ZS(e)}function KS(e){return e!=null&&e.slice(0,5)==="blob:"}function uf(e){return e!=null&&e.slice(0,5)==="data:"}function cU(e){const t=cp(e);return t?.isBase64?YF(t.data):null}function dme(e){return JF(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const uU=/^data:(.*?)(;base64)?,(.*)$/;function cp(e){const t=e.match(uU);if(!t)return null;const[,i,r,n]=t;return{mediaType:i,isBase64:!!r,data:n}}function lC(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function pme(e){return(await fetch(e)).blob()}function mme(e){const t=cU(e);if(!t)return null;const i=cp(e);return new Blob([t],{type:i.mediaType})}function ml(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function ZS(e){return e!=null&&rC.test(e)}function hU(e){return e!=null&&ZF.test(e)||br.scheme==="https"&&ml(e)}function fU(e){return e!=null&&nC.test(e)||br.scheme==="http"&&ml(e)}function dU(e){return e!=null&&XF.test(e)}function XS(e){return ml(e)?`https:${e}`:e.replace(nC,"https:")}function pU(){return br.scheme==="http"}function A_(){return br.scheme==="https"}function Wy(e,t=!1){return ml(e)?e.slice(2):(e=e.replace(rC,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function mU(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function yme(e){let t=0;if(ps(e)){const r=e.indexOf("//");r!==-1&&(t=r+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function gme(e,t){if(!e)return"";const i=Zc(e).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!t?.length)return r;const n=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(n,"")}function yU(e){return e.endsWith("/")?e:`${e}/`}function vme(e){return e.replace(/\/+$/,"")}function gU(e){if(/^https?:\/\//i.test(e)){const t=HS(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function vU(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function bU(e){const t=cf.httpsDomains;if(!fU(e))return e;const i=e.indexOf("/",7);let r;if(r=i===-1?e:e.slice(0,i),r=r.toLowerCase().slice(7),QF.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return pU()&&r===br.authority&&!eU.test(e)||(A_()&&r===br.authority||t&&t.some(n=>r===n||r.endsWith(`.${n}`))||A_()&&!x1(e))&&(e=XS(e)),e}function M_(e,t,i){if(!(t&&i&&e&&ps(e)))return e;const r=e.indexOf("//"),n=e.indexOf("/",r+2),s=e.indexOf(":",r+2),o=Math.min(n<0?e.length:n,s<0?e.length:s);return e.slice(r+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${i}${e.slice(o)}`}function I_(e){return typeof e=="string"?new lh(im(e)):(e.scheme||(e.scheme=br.scheme),e)}function bme(e){return wU.test(e)}function _me(e,t){const i=Zc(e),r=Object.keys(i.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function _U(e,t,i){const r=Zc(e),n=r.query||{};return n[t]=String(i),`${r.path}?${lp(n)}`}function Zv(e,t){if(!t)return e;const i=Zc(e),r=i.query||{};for(const[s,o]of Object.entries(t))o!=null&&(r[s]=o);const n=lp(r);return n?`${i.path}?${n}`:i.path}function wme(e){if(e==null)return null;const t=e.match(cC);return t?t[2]:null}function KT(e){if(e==null)return null;const t=e.match(cC);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function Sme(e){return typeof e=="string"?cp(e)??{data:e}:new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(cp(r.result)),r.onerror=n=>i(n)})}const cC=/([^.]*)\.([^/]*)$/,wU=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const SU="4.31";let Yt,xU=SU;xU="4.31.6";function xme(e){Yt=e}function Eme(e){const t=Yt?.findCredential(e);return t?.token?_U(e,"token",t.token):e}ue("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),ue("host-webworker");const EU=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function TU(e){const t=ds(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!EU.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function uC(e,t){return!(!It.apiKey||!TU(e))}function AU(e,t,i=!1,r){return new Promise((n,s)=>{if(Cc(r))return void s(ZT());let o=()=>{c(),s(new Error(`Unable to load ${t}`))},a=()=>{const f=e;c(),n(f)},l=()=>{if(!e)return;const f=e;c(),f.src="",s(ZT())};const c=()=>{ue("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,r?.removeEventListener("abort",l),l=null,i&&URL.revokeObjectURL(t)};r?.addEventListener("abort",l),ue("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function ZT(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const hC="Timeout exceeded";function MU(){return new Error(hC)}function Tme(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===hC}function IU(e){It.request.crossOriginNoCorsDomains||(It.request.crossOriginNoCorsDomains={});const t=It.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[ds(i)??""]=0:(t[ds("http://"+i)??""]=0,t[ds("https://"+i)??""]=0)}function OU(e){const t=It.request.crossOriginNoCorsDomains;if(t){let i=ds(e);if(i)return i=i.toLowerCase(),!Th(i,qS())&&t[i]<Date.now()-36e5}return!1}async function $U(e){const t=Zc(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const i=It.request.crossOriginNoCorsDomains,r=ds(e);i&&r&&(i[r.toLowerCase()]=Date.now())}async function wi(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=WS(t.query.toString().replaceAll("+"," ")));const i=uf(e),r=KS(e);r||i||(e=Qa(e));const n={url:e,requestOptions:{...t}},s=p=>({data:p,getAllHeaders:Ah,getHeader:Ah,httpStatus:200,requestOptions:n.requestOptions,url:n.url}),o=JT(e,Ln.internalInterceptors);if(o){const p=await QT(o,n);if(p!=null)return s(p)}let a=JT(e);if(a){const p=await QT(a,n);if(p!=null)return s(p);a.after||a.error||(a=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"&&(ue("host-webworker")||ue("host-node")))throw io("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n);if(t.method==="head"){if(t.body)throw io("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(i||r)throw io("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await kU(),Hy)return Hy.execute(e,t);const l=new AbortController,c=Nc(t,()=>l.abort()),f={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:n,redoRequest:!1,useIdentity:Ln.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=await UU(f).finally(()=>c?.remove());return a?.after?.(d),d}let Hy;const Ln=It.request,fC="FormData"in globalThis,CU=new Set([499,498,403,401]),NU=new Set(["COM_0056","COM_0057","SB_0008"]),PU=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Ah=()=>null,Yy=Symbol();function LU(e){const t=ds(e);t&&!wi._corsServers.includes(t)&&wi._corsServers.push(t)}function XT(e){const t=ds(e);return!t||t.endsWith(".arcgis.com")||wi._corsServers.includes(t)||YS(t)}function io(e,t,i,r){let n="Error";const s={url:i.url,requestOptions:i.requestOptions,getAllHeaders:Ah,getHeader:Ah,ssl:!1};if(t instanceof ot)return t.details?(t.details=ge(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=s,t;if(t){const o=r&&(()=>Array.from(r.headers)),a=r&&(f=>r.headers.get(f)),l=r?.status,c=t.message;c&&(n=c),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=Yy in t?t[Yy]:t}return tm(t)?vn():new ot(e,n,s)}async function kU(){ue("host-webworker")&&!Hy&&(Hy=await xe(()=>import("./request-D1KFIyc-.js"),__vite__mapDeps([0,1]),import.meta.url))}async function O_(){Yt||await xe(()=>import("./IdentityManager-BB_2BJK_.js"),__vite__mapDeps([2,1,3,4,5]),import.meta.url)}async function RU(e){const t=e.params.url,i=e.params.requestOptions,r=e.controller.signal,n=i.body;let s=null,o=null;if(fC&&"HTMLFormElement"in globalThis&&(n instanceof FormData?s=n:n instanceof HTMLFormElement&&(s=new FormData(n))),typeof n=="string"&&(o=n),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:Ln.priority,redirect:"follow",signal:r},(s||o)&&(e.fetchOptions.body=s||o),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||i.query?.token||s?.get("token")),!e.hasToken&&uC(t)&&(i.query||(i.query={}),i.query.token=It.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!dC(t)&&!Cc(r)){let a;i.authMode==="immediate"?(await O_(),a=await Yt.getCredential(t,{signal:r}),e.credential=a):i.authMode==="no-prompt"?(await O_(),a=await Yt.getCredential(t,{prompt:!1,signal:r}).catch(()=>{}),e.credential=a):Yt&&(a=Yt.findCredential(t)),a&&(e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function dC(e){return PU.some(t=>t.test(e))}async function DU(e){let t=e.params.url;const i=e.params.requestOptions,r=e.fetchOptions??{},n=KS(t)||uf(t),s=i.responseType||"json",o=n?0:i.timeout!=null?i.timeout:Ln.timeout;let a=!1;if(!n){e.useSSL&&(t=XS(t));let p={...i.query};e.credentialToken&&(p.token=e.credentialToken);let y=lp(p);ue("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const v=t.length+1+y.length;let _;a=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||v>Ln.maxUrlLength;const E=i.useProxy||!!x1(t);if(E){const x=sC(t);_=x.path,!a&&_.length+1+v>Ln.maxUrlLength&&(a=!0),x.query&&(p={...x.query,...p})}if(r.method==="HEAD"&&(a||E)){if(a)throw v>Ln.maxUrlLength?io("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):io("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(E)throw io("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}a?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=Zv(t,p):(r.body=lp(p),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Zv(t,p),E&&(e.useProxy=!0,t=`${_}?${t}`),p.token&&fC&&r.body instanceof FormData&&!HF(t)&&r.body.set("token",p.token),i.hasOwnProperty("withCredentials")?e.withCredentials=i.withCredentials:Th(t,qS())||(YS(t)||Yt&&Yt.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(r.credentials="include",OU(t)&&await $U(a?Zv(t,p):t))}let l,c,f=0,d=!1;o>0&&(f=setTimeout(()=>{d=!0,e.controller.abort()},o));try{if(i.responseType==="native-request-init")c=r,c.url=t,i.signal?c.signal=i.signal:delete c.signal;else if(i.responseType!=="image"||r.cache!=="default"||r.method!=="GET"||a||FU(i.headers)||!n&&!e.useProxy&&Ln.proxyUrl&&!XT(t)){if(wi._beforeFetch&&await wi._beforeFetch(t,r),l=await fetch(t,r),wi._afterFetch&&await wi._afterFetch(l),e.useProxy||LU(t),i.responseType==="native")c=l;else if(r.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(f&&(clearTimeout(f),f=0),s==="json"||s==="xml"||s==="document")if(c)switch(s){case"json":c=JSON.parse(c);break;case"xml":c=eA(c,"application/xml");break;case"document":c=eA(c,"text/html")}else c=null;if(c){if(s==="array-buffer"||s==="blob"){const p=l.headers.get("Content-Type");if(p&&/application\/json|text\/plain/i.test(p)&&c[s==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}s==="image"&&c instanceof Blob&&(c=await tA(URL.createObjectURL(c),e,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await tA(t,e)}catch(p){if(p.name==="AbortError")throw d?MU():vn("Request canceled");if(!(!l&&p instanceof TypeError&&Ln.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||XT(t))throw p;e.redoRequest=!0,oU({proxyUrl:Ln.proxyUrl,urlPrefix:ds(t)??""})}finally{f&&clearTimeout(f)}return[l,c]}async function QT(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,r;try{r=await e.before(t)}catch(n){i=io("request:interceptor",n,t)}if((r instanceof Error||r instanceof ot)&&(i=io("request:interceptor",r,t)),i)throw e.error&&e.error(i),i;return r}}function FU(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function eA(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}async function UU(e){let t,i;await RU(e);try{do[t,i]=await DU(e);while(!await jU(e,t,i))}catch(s){const o=io("request:server",s,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const r=e.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&i.user?.username&&!YS(r)){const s=ds(r,!0);s&&Ln.trustedServers.push(s)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&IU(i.authorizedCrossOriginNoCorsDomains)}const n=e.credential;if(n&&Yt){let o=Yt.findServerInfo(n.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=Yt.findCredential(o,n.userId);a&&Yt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):Ah,getHeader:t?s=>t.headers.get(s):Ah,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function jU(e,t,i){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||r.responseType==="native"||r.responseType==="native-request-init")return!0;let n,s;if(i&&(i.error&&typeof i.error=="object"?n=i.error:i.status==="error"&&Array.isArray(i.messages)&&(n={...i},n[Yy]=i,n.details=i.messages)),!n&&!t.ok)throw n=new Error(`Unable to load ${t.url} status: ${t.status}`),n[Yy]=i,n;let o,a=null;n&&(s=Number(n.code),a=n.hasOwnProperty("subcode")?Number(n.subcode):null,o=n.messageCode,o=o?.toUpperCase());const l=r.authMode;if(s===403&&(a===4||n.message?.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&CU.has(s)&&!dC(e.params.url)&&(s!==403||(!o||!NU.has(o))&&(a==null||a===2&&e.credentialToken))){await O_();try{const c=await Yt.getCredential(e.params.url,{error:io("request:server",n,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;n=c}}if(n)throw n;return!0}function tA(e,t,i=!1){const r=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=Ln.priority,n.src=e,AU(n,e,i,r)}wi._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],wi._beforeFetch=void 0,wi._afterFetch=void 0;function pC(e){if(!It.assetsPath)throw Pt.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ot("assets:path-not-set","config.assetsPath is not set");return JS(It.assetsPath,e)}let Xv,z=null;function GU(){return!!z}function BU(){return!!ue("esri-wasm")}function VU(){return Xv||(Xv=xe(()=>import("./pe-wasm-Bm91CMb3.js"),__vite__mapDeps([6,7]),import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>pC(`esri/geometry/support/${t}`)})).then(e=>{gC(e)}),Xv)}var $_,Ht;(function(e){function t(s,o,a){z.ensureCache.prepare();const l=lc(a),c=a===l,f=z.ensureFloat64(l),d=z._pe_geog_to_proj(z.getPointer(s),o,f);return d&&za(a,o,f,c),d}function i(s,o,a,l){switch(l){case Ht.PE_TRANSFORM_P_TO_G:return r(s,o,a);case Ht.PE_TRANSFORM_G_TO_P:return t(s,o,a)}return 0}function r(s,o,a){return n(s,o,a,0)}function n(s,o,a,l){z.ensureCache.prepare();const c=lc(a),f=a===c,d=z.ensureFloat64(c),p=z._pe_proj_to_geog_center(z.getPointer(s),o,d,l);return p&&za(a,o,d,f),p}e.geogToProj=t,e.projGeog=i,e.projToGeog=r,e.projToGeogCenter=n})($_||($_={})),function(e){function t(){e.PE_BUFFER_MAX=z.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=z.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=z.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=z.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=z.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=z.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=z.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=z.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=z.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=z.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=z.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=z.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=z.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=z.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=z.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=z.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=z.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=z.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=z.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=z.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=z.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=z.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=z.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=z.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=z.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=z.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=z.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=z.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=z.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=z.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=z.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=z.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Ht||(Ht={}));let mC=null;var C_;(function(e){const t={},i={},r=y=>{const v=y.getType();switch(v){case Ht.PE_TYPE_GEOGCS:y=z.castObject(y,z.PeGeogcs);break;case Ht.PE_TYPE_PROJCS:y=z.castObject(y,z.PeProjcs);break;case Ht.PE_TYPE_GEOGTRAN:y=z.castObject(y,z.PeGeogtran);break;default:v&Ht.PE_TYPE_UNIT&&(y=z.castObject(y,z.PeUnit))}return y};function n(){z.PeFactory.prototype.initialize(null)}function s(y){return o(Ht.PE_TYPE_COORDSYS,y)}function o(y,v){let _=null,E=t[y];if(E||(E={},t[y]=E),E.hasOwnProperty(String(v))&&(_=E[v],z.compare(_,z.NULL)&&(_=null)),!_){const x=z.PeFactory.prototype.factoryByType(y,v);z.compare(x,z.NULL)||(_=r(x),E[v]=_)}return _}function a(y,v){let _=null,E=i[y];if(E||(E={},i[y]=E),E.hasOwnProperty(v)&&(_=E[v],z.compare(_,z.NULL)&&(_=null)),!_){const x=z.PeFactory.prototype.fromString(y,v);z.compare(x,z.NULL)||(_=r(x),E[v]=_)}return _}function l(y){return o(Ht.PE_TYPE_GEOGCS,y)}function c(y){return o(Ht.PE_TYPE_GEOGTRAN,y)}function f(y){return z.PeFactory.prototype.getCode(y)}function d(y){return o(Ht.PE_TYPE_PROJCS,y)}function p(y){return o(Ht.PE_TYPE_UNIT,y)}e.initialize=n,e.coordsys=s,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=f,e.projcs=d,e.unit=p})(C_||(C_={}));let yC=null;var Jy,N_,P_,L_,k_,R_,Ky,D_,Zy,Xy,F_;function gC(e){function t(s,o,a){s[o]=a(s[o])}z=e,Ht.init(),Jy.init(),Ky.init(),Zy.init(),Xy.init(),mC=class extends z.PeDouble{constructor(s=NaN){super(s)}destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}},yC=class extends z.PeGCSExtent{destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[z.PeAngunit,z.PeDatum,z.PeGeogcs,z.PeGeogtran,z.PeObject,z.PeParameter,z.PePrimem,z.PeProjcs,z.PeSpheroid,z.PeUnit];for(const s of i)t(s.prototype,"getName",o=>function(){return o.call(this,new Array(Ht.PE_NAME_MAX))});for(const s of[z.PeGeogtran,z.PeProjcs])t(s.prototype,"getParameters",o=>function(){const a=new Array(Ht.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const f=z.getValue(l,"*");a[c]=f?z.wrapPointer(f,z.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(z.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return za(l,a,s.call(this),o),l}),t(z.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=z._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=this.getSteps();if(c>1){const f=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(f+o*d,z.PeGTlistExtendedGTs))}}return a}});const r=z._pe_getPeHorizonSize(),n=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=l.getNump();if(c>1){const f=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(f+r*d,z.PeHorizon))}}return o.set(s,a),a};t(z.PeProjcs.prototype,"horizonGcsGenerate",n),t(z.PeProjcs.prototype,"horizonPcsGenerate",n),z.PeObject.prototype.toString=function(s=Ht.PE_STR_OPTS_NONE){z.ensureCache.prepare();const o=z.getPointer(this),a=z.ensureInt8(new Array(Ht.PE_BUFFER_MAX));return z.UTF8ToString(z._pe_object_to_string_ext(o,s,a))},z.PeGeogcs.prototype.destroy=function(){this.Delete(),ns(this),this.ptr=0},z.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},z.PeProjcs.prototype.destroy=function(){this.Delete(),ns(this),this.ptr=0},z.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function ns(e){if(!e)return;const t=z.getClass(e);if(!t)return;const i=z.getCache(t);if(!i)return;const r=z.getPointer(e);r&&delete i[r]}function Hm(e,t){const i=[],r=new Array(t);for(let n=0;n<e;n++)i.push(z.ensureInt8(r));return i}function lc(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function za(e,t,i,r=!1){if(r)for(let n=0;n<2*t;n++)e[n]=z.getValue(i+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=e.length===0;for(let s=0;s<t;s++)n&&(e[s]=new Array(2)),e[s][0]=z.getValue(i,"double"),e[s][1]=z.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=z.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=z._pe_getPeGTlistExtendedEntrySize()}function r(n,s,o,a,l,c){let f=null;const d=new z.PeInteger(c);try{const p=z.PeGTlistExtended.prototype.getGTlist(n,s,o,a,l,d);if((c=d.val)&&(f=[p],c>1)){const y=z.getPointer(p);for(let v=1;v<c;v++)f.push(z.wrapPointer(y+t*v,z.PeGTlistExtendedEntry))}}finally{z.destroy(d)}return f}e.init=i,e.getGTlist=r})(Jy||(Jy={})),function(e){function t(i){if(i?.length){for(const r of i)ns(r),r.getEntries().forEach(n=>{ns(n);const s=n.getGeogtran();ns(s),s.getParameters().forEach(ns),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{ns(o);const a=o.getDatum();ns(a),ns(a.getSpheroid()),ns(o.getPrimem()),ns(o.getUnit())})});z.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(N_||(N_={})),function(e){function t(i,r,n,s,o){z.ensureCache.prepare();const a=lc(n),l=n===a,c=z.ensureFloat64(a);let f=0;s&&(f=z.ensureFloat64(s));const d=z._pe_geog_to_geog(z.getPointer(i),r,c,f,o);return d&&za(n,r,c,l),d}e.geogToGeog=t}(P_||(P_={})),function(e){function t(s,o,a,l,c,f,d,p){z.PeLineType.prototype.geodesic_coordinate(s,o,a,l,c,f,d,p)}function i(s,o,a,l,c,f,d,p,y){z.PeLineType.prototype.geodetic_coordinate(s,o,a,l,c,f,d,p,y)}function r(s,o,a,l,c,f,d,p,y,v){z.PeLineType.prototype.geodetic_distance(s,o,a,l,c,f,d,p,y,v)}function n(s,o,a,l,c,f,d,p,y){z.PeLineType.prototype.great_elliptic_distance(s,o,a,l,c,f,d,p,y)}e.geodesicCoordinate=t,e.geodeticCoordinate=i,e.geodeticDistance=r,e.greatEllipticDistance=n}(L_||(L_={})),function(e){function t(o,a){return z.PeMath.prototype.phi_to_eta(o,a)}function i(o,a){return z.PeMath.prototype.eta_to_phi(o,a)}function r(o,a){return z.PeMath.prototype.phi_to_phig(o,a)}function n(o,a,l){return z.PeMath.prototype.q(o,a,l)}function s(o,a){return z.PeMath.prototype.q90(o,a)}e.phiToEta=t,e.etaToPhi=i,e.phiToPhig=r,e.q=n,e.q90=s}(k_||(k_={})),function(e){const t=(c,f,d,p,y,v)=>{let _,E;switch(z.ensureCache.prepare(),c){case"dd":_=z._pe_geog_to_dd,E=Ht.PE_DD_MAX;break;case"ddm":_=z._pe_geog_to_ddm,E=Ht.PE_DDM_MAX;break;case"dms":_=z._pe_geog_to_dms,E=Ht.PE_DMS_MAX}let x=0;f&&(x=z.getPointer(f));const A=lc(p),w=z.ensureFloat64(A),b=Hm(d,E),M=_(x,d,w,y,z.ensureInt32(b));if(M)for(let I=0;I<d;I++)v[I]=z.UTF8ToString(b[I]);return M},i=(c,f,d,p,y)=>{let v;switch(z.ensureCache.prepare(),c){case"dd":v=z._pe_dd_to_geog;break;case"ddm":v=z._pe_ddm_to_geog;break;case"dms":v=z._pe_dms_to_geog}let _=0;f&&(_=z.getPointer(f));const E=p.map(b=>z.ensureString(b)),x=z.ensureInt32(E),A=z.ensureFloat64(new Array(2*d)),w=v(_,d,x,A);return w&&za(y,d,A),w};function r(c,f,d,p,y){return t("dms",c,f,d,p,y)}function n(c,f,d,p){return i("dms",c,f,d,p)}function s(c,f,d,p,y){return t("ddm",c,f,d,p,y)}function o(c,f,d,p){return i("ddm",c,f,d,p)}function a(c,f,d,p,y){return t("dd",c,f,d,p,y)}function l(c,f,d,p){return i("dd",c,f,d,p)}e.geogToDms=r,e.dmsToGeog=n,e.geogToDdm=s,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(R_||(R_={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=z.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=z.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(n,s,o,a,l,c,f){z.ensureCache.prepare();let d=0;n&&(d=z.getPointer(n));const p=lc(o),y=z.ensureFloat64(p),v=Hm(s,Ht.PE_MGRS_MAX),_=z.ensureInt32(v),E=z._pe_geog_to_mgrs_extended(d,s,y,a,l,c,_);if(E)for(let x=0;x<s;x++)f[x]=z.UTF8ToString(v[x]);return E}function r(n,s,o,a,l){z.ensureCache.prepare();let c=0;n&&(c=z.getPointer(n));const f=o.map(v=>z.ensureString(v)),d=z.ensureInt32(f),p=z.ensureFloat64(new Array(2*s)),y=z._pe_mgrs_to_geog_extended(c,s,d,a,p);return y&&za(l,s,p),y}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=r}(Ky||(Ky={})),function(e){function t(r,n,s,o,a,l,c){z.ensureCache.prepare();let f=0;r&&(f=z.getPointer(r));const d=lc(s),p=z.ensureFloat64(d),y=Hm(n,Ht.PE_MGRS_MAX),v=z.ensureInt32(y),_=z._pe_geog_to_usng(f,n,p,o,a,l,v);if(_)for(let E=0;E<n;E++)c[E]=z.UTF8ToString(y[E]);return _}function i(r,n,s,o){z.ensureCache.prepare();let a=0;r&&(a=z.getPointer(r));const l=s.map(p=>z.ensureString(p)),c=z.ensureInt32(l),f=z.ensureFloat64(new Array(2*n)),d=z._pe_usng_to_geog(a,n,c,f);return d&&za(o,n,f),d}e.geogToUsng=t,e.usngToGeog=i}(D_||(D_={})),function(e){function t(){e.PE_UTM_OPTS_NONE=z.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=z.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=z.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(n,s,o,a,l){z.ensureCache.prepare();let c=0;n&&(c=z.getPointer(n));const f=lc(o),d=z.ensureFloat64(f),p=Hm(s,Ht.PE_UTM_MAX),y=z.ensureInt32(p),v=z._pe_geog_to_utm(c,s,d,a,y);if(v)for(let _=0;_<s;_++)l[_]=z.UTF8ToString(p[_]);return v}function r(n,s,o,a,l){z.ensureCache.prepare();let c=0;n&&(c=z.getPointer(n));const f=o.map(v=>z.ensureString(v)),d=z.ensureInt32(f),p=z.ensureFloat64(new Array(2*s)),y=z._pe_utm_to_geog(c,s,d,a,p);return y&&za(l,s,p),y}e.init=t,e.geogToUtm=i,e.utmToGeog=r}(Zy||(Zy={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=z.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=z.PePCSInfo.prototype.PE_POLE_POINT}function r(n,s=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(n)&&(a=t.get(n),a[s]&&(o=a[s])),o||(o=z.PePCSInfo.prototype.generate(n,s),a||(a=[],t.set(n,a)),a[s]=o),o}e.init=i,e.generate=r}(Xy||(Xy={})),function(e){function t(){return z.PeVersion.prototype.version_string()}e.versionString=t}(F_||(F_={}));const Ame=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return $_},get PeDefs(){return Ht},get PeDouble(){return mC},get PeFactory(){return C_},get PeGCSExtent(){return yC},get PeGTTransformations(){return P_},get PeGTlistExtended(){return Jy},get PeGTlistExtendedEntry(){return N_},get PeLineType(){return L_},get PeMath(){return k_},get PeNotationDms(){return R_},get PeNotationMgrs(){return Ky},get PeNotationUsng(){return D_},get PeNotationUtm(){return Zy},get PePCSInfo(){return Xy},get PeVersion(){return F_},_init:gC,get _pe(){return z},isLoaded:GU,isSupported:BU,load:VU},Symbol.toStringTag,{value:"Module"}));var Mh;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Mh||(Mh={}));let u;const O={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(u=2e3;u<=2045;u++)O[u]=0;for(u=2056;u<=2065;u++)O[u]=0;for(u=2067;u<=2135;u++)O[u]=0;for(u=2137;u<=2154;u++)O[u]=0;for(u=2161;u<=2170;u++)O[u]=0;for(u=2172;u<=2193;u++)O[u]=0;for(u=2195;u<=2198;u++)O[u]=0;for(u=2200;u<=2203;u++)O[u]=0;for(u=2205;u<=2217;u++)O[u]=0;for(u=2222;u<=2224;u++)O[u]=1;for(u=2225;u<=2250;u++)O[u]=2;for(u=2251;u<=2253;u++)O[u]=1;for(u=2257;u<=2264;u++)O[u]=2;for(u=2274;u<=2279;u++)O[u]=2;for(u=2280;u<=2282;u++)O[u]=1;for(u=2283;u<=2289;u++)O[u]=2;for(u=2290;u<=2292;u++)O[u]=0;for(u=2308;u<=2313;u++)O[u]=0;for(u=2315;u<=2491;u++)O[u]=0;for(u=2494;u<=2866;u++)O[u]=0;for(u=2867;u<=2869;u++)O[u]=1;for(u=2870;u<=2888;u++)O[u]=2;for(u=2891;u<=2895;u++)O[u]=2;for(u=2896;u<=2898;u++)O[u]=1;for(u=2902;u<=2908;u++)O[u]=2;for(u=2915;u<=2920;u++)O[u]=2;for(u=2921;u<=2923;u++)O[u]=1;for(u=2924;u<=2930;u++)O[u]=2;for(u=2931;u<=2962;u++)O[u]=0;for(u=2964;u<=2968;u++)O[u]=2;for(u=2969;u<=2973;u++)O[u]=0;for(u=2975;u<=2991;u++)O[u]=0;for(u=2995;u<=3051;u++)O[u]=0;for(u=3054;u<=3079;u++)O[u]=0;for(u=3081;u<=3088;u++)O[u]=0;for(u=3092;u<=3101;u++)O[u]=0;for(u=3106;u<=3138;u++)O[u]=0;for(u=3146;u<=3151;u++)O[u]=0;for(u=3153;u<=3166;u++)O[u]=0;for(u=3168;u<=3172;u++)O[u]=0;for(u=3174;u<=3203;u++)O[u]=0;for(u=3294;u<=3358;u++)O[u]=0;for(u=3367;u<=3403;u++)O[u]=0;for(u=3408;u<=3416;u++)O[u]=0;for(u=3417;u<=3438;u++)O[u]=2;for(u=3441;u<=3446;u++)O[u]=2;for(u=3447;u<=3450;u++)O[u]=0;for(u=3451;u<=3459;u++)O[u]=2;for(u=3460;u<=3478;u++)O[u]=0;for(u=3554;u<=3559;u++)O[u]=0;for(u=3560;u<=3570;u++)O[u]=2;for(u=3571;u<=3581;u++)O[u]=0;for(u=3594;u<=3597;u++)O[u]=0;for(u=3601;u<=3604;u++)O[u]=0;for(u=3637;u<=3639;u++)O[u]=0;for(u=3665;u<=3667;u++)O[u]=0;for(u=3693;u<=3695;u++)O[u]=0;for(u=3701;u<=3727;u++)O[u]=0;for(u=3728;u<=3739;u++)O[u]=2;for(u=3740;u<=3751;u++)O[u]=0;for(u=3753;u<=3760;u++)O[u]=2;for(u=3761;u<=3773;u++)O[u]=0;for(u=3775;u<=3777;u++)O[u]=0;for(u=3779;u<=3781;u++)O[u]=0;for(u=3783;u<=3785;u++)O[u]=0;for(u=3788;u<=3791;u++)O[u]=0;for(u=3797;u<=3802;u++)O[u]=0;for(u=3814;u<=3816;u++)O[u]=0;for(u=3825;u<=3829;u++)O[u]=0;for(u=3832;u<=3841;u++)O[u]=0;for(u=3844;u<=3852;u++)O[u]=0;for(u=3873;u<=3885;u++)O[u]=0;for(u=3890;u<=3893;u++)O[u]=0;for(u=3907;u<=3912;u++)O[u]=0;for(u=3942;u<=3950;u++)O[u]=0;for(u=3968;u<=3970;u++)O[u]=0;for(u=3973;u<=3976;u++)O[u]=0;for(u=3986;u<=3989;u++)O[u]=0;for(u=3994;u<=3997;u++)O[u]=0;for(u=4048;u<=4051;u++)O[u]=0;for(u=4056;u<=4063;u++)O[u]=0;for(u=4093;u<=4096;u++)O[u]=0;for(u=4390;u<=4398;u++)O[u]=0;for(u=4399;u<=4413;u++)O[u]=2;for(u=4418;u<=4433;u++)O[u]=2;for(u=4455;u<=4457;u++)O[u]=2;for(u=4484;u<=4489;u++)O[u]=0;for(u=4491;u<=4554;u++)O[u]=0;for(u=4568;u<=4589;u++)O[u]=0;for(u=4652;u<=4656;u++)O[u]=0;for(u=4766;u<=4800;u++)O[u]=0;for(u=5014;u<=5016;u++)O[u]=0;for(u=5069;u<=5072;u++)O[u]=0;for(u=5105;u<=5130;u++)O[u]=0;for(u=5167;u<=5188;u++)O[u]=0;for(u=5253;u<=5259;u++)O[u]=0;for(u=5269;u<=5275;u++)O[u]=0;for(u=5292;u<=5311;u++)O[u]=0;for(u=5329;u<=5331;u++)O[u]=0;for(u=5343;u<=5349;u++)O[u]=0;for(u=5355;u<=5357;u++)O[u]=0;for(u=5387;u<=5389;u++)O[u]=0;for(u=5459;u<=5463;u++)O[u]=0;for(u=5479;u<=5482;u++)O[u]=0;for(u=5518;u<=5520;u++)O[u]=0;for(u=5530;u<=5539;u++)O[u]=0;for(u=5550;u<=5552;u++)O[u]=0;for(u=5562;u<=5583;u++)O[u]=0;for(u=5623;u<=5625;u++)O[u]=2;for(u=5631;u<=5639;u++)O[u]=0;for(u=5649;u<=5653;u++)O[u]=0;for(u=5663;u<=5680;u++)O[u]=0;for(u=5682;u<=5685;u++)O[u]=0;for(u=5875;u<=5877;u++)O[u]=0;for(u=5896;u<=5899;u++)O[u]=0;for(u=5921;u<=5940;u++)O[u]=0;for(u=6050;u<=6125;u++)O[u]=0;for(u=6244;u<=6275;u++)O[u]=0;for(u=6328;u<=6348;u++)O[u]=0;for(u=6350;u<=6356;u++)O[u]=0;for(u=6366;u<=6372;u++)O[u]=0;for(u=6381;u<=6387;u++)O[u]=0;for(u=6393;u<=6404;u++)O[u]=0;for(u=6480;u<=6483;u++)O[u]=0;for(u=6511;u<=6514;u++)O[u]=0;for(u=6579;u<=6581;u++)O[u]=0;for(u=6619;u<=6624;u++)O[u]=0;for(u=6625;u<=6627;u++)O[u]=2;for(u=6628;u<=6632;u++)O[u]=0;for(u=6634;u<=6637;u++)O[u]=0;for(u=6669;u<=6692;u++)O[u]=0;for(u=6707;u<=6709;u++)O[u]=0;for(u=6720;u<=6723;u++)O[u]=0;for(u=6732;u<=6738;u++)O[u]=0;for(u=6931;u<=6933;u++)O[u]=0;for(u=6956;u<=6959;u++)O[u]=0;for(u=7005;u<=7007;u++)O[u]=0;for(u=7057;u<=7070;u++)O[u]=2;for(u=7074;u<=7082;u++)O[u]=0;for(u=7109;u<=7118;u++)O[u]=0;for(u=7119;u<=7127;u++)O[u]=1;for(u=7374;u<=7376;u++)O[u]=0;for(u=7528;u<=7586;u++)O[u]=0;for(u=7587;u<=7645;u++)O[u]=2;for(u=7692;u<=7696;u++)O[u]=0;for(u=7755;u<=7787;u++)O[u]=0;for(u=7791;u<=7795;u++)O[u]=0;for(u=7799;u<=7801;u++)O[u]=0;for(u=7803;u<=7805;u++)O[u]=0;for(u=7825;u<=7831;u++)O[u]=0;for(u=7845;u<=7859;u++)O[u]=0;for(u=8013;u<=8032;u++)O[u]=0;for(u=8065;u<=8068;u++)O[u]=1;for(u=8518;u<=8529;u++)O[u]=2;for(u=8533;u<=8536;u++)O[u]=2;for(u=8538;u<=8540;u++)O[u]=2;for(u=8677;u<=8679;u++)O[u]=0;for(u=8836;u<=8840;u++)O[u]=0;for(u=8857;u<=8859;u++)O[u]=0;for(u=8908;u<=8910;u++)O[u]=0;for(u=9154;u<=9159;u++)O[u]=0;for(u=9205;u<=9218;u++)O[u]=0;for(u=9271;u<=9273;u++)O[u]=0;for(u=9295;u<=9297;u++)O[u]=0;for(u=9356;u<=9360;u++)O[u]=0;for(u=9404;u<=9407;u++)O[u]=0;for(u=9476;u<=9482;u++)O[u]=0;for(u=9487;u<=9494;u++)O[u]=0;for(u=9697;u<=9699;u++)O[u]=0;for(u=9821;u<=9865;u++)O[u]=0;for(u=10285;u<=10291;u++)O[u]=0;for(u=10314;u<=10317;u++)O[u]=0;for(u=10448;u<=10465;u++)O[u]=0;for(u=10731;u<=10733;u++)O[u]=0;for(u=11114;u<=11118;u++)O[u]=0;for(u=20004;u<=20032;u++)O[u]=0;for(u=20047;u<=20049;u++)O[u]=0;for(u=20062;u<=20092;u++)O[u]=0;for(u=20135;u<=20138;u++)O[u]=0;for(u=20248;u<=20258;u++)O[u]=0;for(u=20348;u<=20358;u++)O[u]=0;for(u=20436;u<=20440;u++)O[u]=0;for(u=20822;u<=20824;u++)O[u]=0;for(u=20904;u<=20932;u++)O[u]=0;for(u=20934;u<=20936;u++)O[u]=0;for(u=21004;u<=21032;u++)O[u]=0;for(u=21035;u<=21037;u++)O[u]=0;for(u=21095;u<=21097;u++)O[u]=0;for(u=21148;u<=21150;u++)O[u]=0;for(u=21207;u<=21264;u++)O[u]=0;for(u=21307;u<=21364;u++)O[u]=0;for(u=21413;u<=21423;u++)O[u]=0;for(u=21453;u<=21463;u++)O[u]=0;for(u=21473;u<=21483;u++)O[u]=0;for(u=21780;u<=21782;u++)O[u]=0;for(u=21891;u<=21894;u++)O[u]=0;for(u=21896;u<=21899;u++)O[u]=0;for(u=22171;u<=22177;u++)O[u]=0;for(u=22181;u<=22187;u++)O[u]=0;for(u=22191;u<=22197;u++)O[u]=0;for(u=22207;u<=22222;u++)O[u]=0;for(u=22229;u<=22232;u++)O[u]=0;for(u=22234;u<=22236;u++)O[u]=0;for(u=22243;u<=22250;u++)O[u]=0;for(u=22262;u<=22265;u++)O[u]=0;for(u=22307;u<=22322;u++)O[u]=0;for(u=22348;u<=22357;u++)O[u]=0;for(u=22407;u<=22422;u++)O[u]=0;for(u=22462;u<=22465;u++)O[u]=0;for(u=22521;u<=22525;u++)O[u]=0;for(u=22607;u<=22622;u++)O[u]=0;for(u=22641;u<=22646;u++)O[u]=0;for(u=22648;u<=22657;u++)O[u]=0;for(u=22707;u<=22722;u++)O[u]=0;for(u=22762;u<=22765;u++)O[u]=0;for(u=22807;u<=22822;u++)O[u]=0;for(u=22991;u<=22994;u++)O[u]=0;for(u=23028;u<=23038;u++)O[u]=0;for(u=23301;u<=23333;u++)O[u]=2;for(u=23830;u<=23853;u++)O[u]=0;for(u=23866;u<=23872;u++)O[u]=0;for(u=23877;u<=23884;u++)O[u]=0;for(u=23886;u<=23894;u++)O[u]=0;for(u=23946;u<=23948;u++)O[u]=0;for(u=24311;u<=24313;u++)O[u]=0;for(u=24342;u<=24347;u++)O[u]=0;for(u=24370;u<=24374;u++)O[u]=10;for(u=24375;u<=24381;u++)O[u]=0;for(u=24718;u<=24721;u++)O[u]=0;for(u=24817;u<=24821;u++)O[u]=0;for(u=24877;u<=24882;u++)O[u]=0;for(u=24891;u<=24893;u++)O[u]=0;for(u=25391;u<=25395;u++)O[u]=0;for(u=25828;u<=25838;u++)O[u]=0;for(u=26191;u<=26195;u++)O[u]=0;for(u=26391;u<=26393;u++)O[u]=0;for(u=26701;u<=26722;u++)O[u]=0;for(u=26729;u<=26799;u++)O[u]=2;for(u=26801;u<=26803;u++)O[u]=2;for(u=26811;u<=26813;u++)O[u]=2;for(u=26847;u<=26870;u++)O[u]=2;for(u=26891;u<=26899;u++)O[u]=0;for(u=26901;u<=26923;u++)O[u]=0;for(u=26929;u<=26946;u++)O[u]=0;for(u=26948;u<=26998;u++)O[u]=0;for(u=27037;u<=27040;u++)O[u]=0;for(u=27205;u<=27232;u++)O[u]=0;for(u=27258;u<=27260;u++)O[u]=0;for(u=27391;u<=27398;u++)O[u]=0;for(u=27561;u<=27564;u++)O[u]=0;for(u=27571;u<=27574;u++)O[u]=0;for(u=27581;u<=27584;u++)O[u]=0;for(u=27591;u<=27594;u++)O[u]=0;for(u=27700;u<=27707;u++)O[u]=0;for(u=28191;u<=28193;u++)O[u]=0;for(u=28348;u<=28358;u++)O[u]=0;for(u=28402;u<=28432;u++)O[u]=0;for(u=28462;u<=28492;u++)O[u]=0;for(u=29118;u<=29122;u++)O[u]=0;for(u=29168;u<=29172;u++)O[u]=0;for(u=29177;u<=29185;u++)O[u]=0;for(u=29187;u<=29195;u++)O[u]=0;for(u=29900;u<=29903;u++)O[u]=0;for(u=30161;u<=30179;u++)O[u]=0;for(u=30491;u<=30494;u++)O[u]=0;for(u=30729;u<=30732;u++)O[u]=0;for(u=31251;u<=31259;u++)O[u]=0;for(u=31265;u<=31268;u++)O[u]=0;for(u=31275;u<=31279;u++)O[u]=0;for(u=31281;u<=31297;u++)O[u]=0;for(u=31461;u<=31469;u++)O[u]=0;for(u=31491;u<=31495;u++)O[u]=0;for(u=31917;u<=31922;u++)O[u]=0;for(u=31965;u<=32e3;u++)O[u]=0;for(u=32001;u<=32003;u++)O[u]=2;for(u=32005;u<=32031;u++)O[u]=2;for(u=32033;u<=32060;u++)O[u]=2;for(u=32064;u<=32067;u++)O[u]=2;for(u=32074;u<=32077;u++)O[u]=2;for(u=32081;u<=32086;u++)O[u]=0;for(u=32107;u<=32130;u++)O[u]=0;for(u=32133;u<=32159;u++)O[u]=0;for(u=32164;u<=32167;u++)O[u]=2;for(u=32180;u<=32199;u++)O[u]=0;for(u=32201;u<=32260;u++)O[u]=0;for(u=32301;u<=32360;u++)O[u]=0;for(u=32401;u<=32460;u++)O[u]=0;for(u=32501;u<=32560;u++)O[u]=0;for(u=32601;u<=32662;u++)O[u]=0;for(u=32664;u<=32667;u++)O[u]=2;for(u=32701;u<=32761;u++)O[u]=0;for(u=53001;u<=53004;u++)O[u]=0;for(u=53008;u<=53019;u++)O[u]=0;for(u=53021;u<=53032;u++)O[u]=0;for(u=53034;u<=53037;u++)O[u]=0;for(u=53042;u<=53046;u++)O[u]=0;for(u=53074;u<=53080;u++)O[u]=0;for(u=54001;u<=54004;u++)O[u]=0;for(u=54008;u<=54019;u++)O[u]=0;for(u=54021;u<=54032;u++)O[u]=0;for(u=54034;u<=54037;u++)O[u]=0;for(u=54042;u<=54046;u++)O[u]=0;for(u=54048;u<=54053;u++)O[u]=0;for(u=54074;u<=54080;u++)O[u]=0;for(u=54098;u<=54101;u++)O[u]=0;for(u=102001;u<=102040;u++)O[u]=0;for(u=102042;u<=102063;u++)O[u]=0;for(u=102065;u<=102067;u++)O[u]=0;for(u=102070;u<=102117;u++)O[u]=0;for(u=102122;u<=102216;u++)O[u]=0;for(u=102221;u<=102377;u++)O[u]=0;for(u=102382;u<=102388;u++)O[u]=0;for(u=102389;u<=102398;u++)O[u]=2;for(u=102399;u<=102444;u++)O[u]=0;for(u=102445;u<=102447;u++)O[u]=2;for(u=102448;u<=102458;u++)O[u]=0;for(u=102459;u<=102468;u++)O[u]=2;for(u=102469;u<=102499;u++)O[u]=0;for(u=102500;u<=102519;u++)O[u]=1;for(u=102520;u<=102524;u++)O[u]=0;for(u=102525;u<=102529;u++)O[u]=2;for(u=102530;u<=102588;u++)O[u]=0;for(u=102590;u<=102598;u++)O[u]=0;for(u=102601;u<=102603;u++)O[u]=0;for(u=102605;u<=102628;u++)O[u]=0;for(u=102629;u<=102646;u++)O[u]=2;for(u=102648;u<=102700;u++)O[u]=2;for(u=102701;u<=102703;u++)O[u]=0;for(u=102707;u<=102730;u++)O[u]=2;for(u=102733;u<=102758;u++)O[u]=2;for(u=102767;u<=102900;u++)O[u]=0;for(u=102901;u<=102933;u++)O[u]=2;for(u=102934;u<=102950;u++)O[u]=13;for(u=102951;u<=102963;u++)O[u]=0;for(u=102965;u<=102969;u++)O[u]=0;for(u=102971;u<=102973;u++)O[u]=0;for(u=102975;u<=102989;u++)O[u]=0;for(u=102990;u<=102992;u++)O[u]=1;for(u=102997;u<=103002;u++)O[u]=0;for(u=103003;u<=103008;u++)O[u]=2;for(u=103009;u<=103011;u++)O[u]=0;for(u=103012;u<=103014;u++)O[u]=2;for(u=103019;u<=103021;u++)O[u]=0;for(u=103022;u<=103024;u++)O[u]=2;for(u=103029;u<=103031;u++)O[u]=0;for(u=103032;u<=103034;u++)O[u]=2;for(u=103065;u<=103068;u++)O[u]=0;for(u=103074;u<=103076;u++)O[u]=0;for(u=103077;u<=103079;u++)O[u]=1;for(u=103080;u<=103082;u++)O[u]=0;for(u=103083;u<=103085;u++)O[u]=2;for(u=103090;u<=103093;u++)O[u]=0;for(u=103097;u<=103099;u++)O[u]=0;for(u=103100;u<=103102;u++)O[u]=2;for(u=103107;u<=103109;u++)O[u]=0;for(u=103110;u<=103112;u++)O[u]=2;for(u=103113;u<=103116;u++)O[u]=0;for(u=103117;u<=103120;u++)O[u]=2;for(u=103153;u<=103157;u++)O[u]=0;for(u=103158;u<=103162;u++)O[u]=2;for(u=103163;u<=103165;u++)O[u]=0;for(u=103166;u<=103168;u++)O[u]=1;for(u=103169;u<=103171;u++)O[u]=2;for(u=103186;u<=103188;u++)O[u]=0;for(u=103189;u<=103191;u++)O[u]=2;for(u=103192;u<=103195;u++)O[u]=0;for(u=103196;u<=103199;u++)O[u]=2;for(u=103200;u<=103224;u++)O[u]=0;for(u=103225;u<=103227;u++)O[u]=1;for(u=103232;u<=103237;u++)O[u]=0;for(u=103238;u<=103243;u++)O[u]=2;for(u=103244;u<=103246;u++)O[u]=0;for(u=103247;u<=103249;u++)O[u]=2;for(u=103254;u<=103256;u++)O[u]=0;for(u=103257;u<=103259;u++)O[u]=2;for(u=103264;u<=103266;u++)O[u]=0;for(u=103267;u<=103269;u++)O[u]=2;for(u=103300;u<=103375;u++)O[u]=0;for(u=103381;u<=103383;u++)O[u]=0;for(u=103384;u<=103386;u++)O[u]=1;for(u=103387;u<=103389;u++)O[u]=0;for(u=103390;u<=103392;u++)O[u]=2;for(u=103397;u<=103399;u++)O[u]=0;for(u=103400;u<=103471;u++)O[u]=2;for(u=103476;u<=103478;u++)O[u]=0;for(u=103479;u<=103481;u++)O[u]=2;for(u=103486;u<=103488;u++)O[u]=0;for(u=103489;u<=103491;u++)O[u]=2;for(u=103492;u<=103495;u++)O[u]=0;for(u=103496;u<=103499;u++)O[u]=2;for(u=103528;u<=103543;u++)O[u]=0;for(u=103544;u<=103548;u++)O[u]=2;for(u=103549;u<=103551;u++)O[u]=0;for(u=103552;u<=103554;u++)O[u]=1;for(u=103555;u<=103557;u++)O[u]=2;for(u=103558;u<=103560;u++)O[u]=0;for(u=103571;u<=103573;u++)O[u]=0;for(u=103574;u<=103576;u++)O[u]=2;for(u=103577;u<=103580;u++)O[u]=0;for(u=103581;u<=103583;u++)O[u]=2;for(u=103595;u<=103694;u++)O[u]=0;for(u=103696;u<=103699;u++)O[u]=0;for(u=103700;u<=103793;u++)O[u]=2;for(u=103794;u<=103890;u++)O[u]=0;for(u=103891;u<=103896;u++)O[u]=2;for(u=103900;u<=103971;u++)O[u]=2;for(u=103972;u<=103977;u++)O[u]=0;for(u=112e3;u<=112101;u++)O[u]=0;const vC=[102100,102113,3857,3785,900913],zU=[104905,104971],qU=[4326,...vC,...zU],up=[-20037508342788905e-9,20037508342788905e-9],U_=[-20037508342787e-6,20037508342787e-6],Qv={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:up,origin:U_,dx:1e-5},bC={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:up,origin:U_,dx:1e-5},102100:Qv,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:up,origin:U_,dx:1e-5},3857:Qv,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:Qv};function Lc(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const i=e.wkid,r=t.wkid;if(i!=null||r!=null){if(i===r||kc(e)&&kc(t))return!0;const o=e.latestWkid;if(o!=null&&r===o)return!0;const a=t.latestWkid;return a!=null&&i===a}let n,s;return e.wkt2&&t.wkt2?(n=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(n=e.wkt,s=t.wkt),!(!n||!s)&&n.toUpperCase()===s.toUpperCase()}function Td(e){const t=e?.wkid;return t!=null&&t>=2e3&&bC[t]||null}function Mme(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function QS(e){if(!_C(e))return!1;const{wkid:t}=e;if(t)return O[t]==null;const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function WU(e){return!(HU(e)||YU(e))}function Qy(e){return e?.wkid===4326}function Ime(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function Ome(e){return e?.wkid===Mh.CGCS2000}function kc(e){const t=e?.wkid;return t!=null&&t>=2e3&&vC.includes(t)}function $me(e){return e?.wkid===32662}function E1(e){return e===Mh.GCSMARS2000||e===Mh.GCSMARS2000_SPHERE}function HU(e){return E1(e?.wkid)}function T1(e){return e===Mh.GCSMOON2000}function YU(e){return T1(e?.wkid)}function JU(e){const t=e?.wkid;return t!=null&&t>=2e3&&qU.includes(t)}function _C(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const wC={wkid:4326,wkt:i$(bC[4326].wkTemplate,{Central_Meridian:"0.0"})},SC={wkid:102100,latestWkid:3857},KU={wkid:32662};function ex(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const ZU=ex(_s),xC=ex(ap),EC=ex(S1),Cme={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${_s.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},XU=xC.wkt.toUpperCase(),QU=EC.wkt.toUpperCase();function ej(e){if(e!=null&&_C(e)){const t=e.wkid,i=e.wkt2??e.wkt;if(E1(t))return ap;const r=i?.toUpperCase();if(i&&r===XU)return ap;if(T1(t)||r&&r===QU)return S1}return _s}function Nme(e){return E1(e)?ap:T1(e)?S1:_s}function tj(e){return Lc(e,ZU)}function Pme(e){return tj(e)||Lc(e,xC)||Lc(e,EC)}const Lme=39.37,ij=_s.radius*Math.PI/200,TC=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,bc=O,AC=/UNIT\[([^\]]+)]/i,rj=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),nj=Es()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain:"chains",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),$s=e=>e*e,ca=e=>e*e*e,hp={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937},"clarke-feet":{inBaseUnits:.3047972654},"clarke-yards":{inBaseUnits:.9143917962},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"gold-coast-feet":{inBaseUnits:.3047997101815088},chains:{inBaseUnits:20.1168},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:$s(.001)},"square-centimeters":{inBaseUnits:$s(.01)},"square-decimeters":{inBaseUnits:$s(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:$s(1e3)},"square-inches":{inBaseUnits:$s(.0254)},"square-feet":{inBaseUnits:$s(.3048)},"square-yards":{inBaseUnits:$s(.9144)},"square-miles":{inBaseUnits:$s(1609.344)},"square-us-feet":{inBaseUnits:$s(1200/3937)},acres:{inBaseUnits:.0015625*$s(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*ca(.001)},"cubic-centimeters":{inBaseUnits:1e3*ca(.01)},"cubic-decimeters":{inBaseUnits:1e3*ca(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*ca(1e3)},"cubic-inches":{inBaseUnits:1e3*ca(.0254)},"cubic-feet":{inBaseUnits:1e3*ca(.3048)},"cubic-yards":{inBaseUnits:1e3*ca(.9144)},"cubic-miles":{inBaseUnits:1e3*ca(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},sj=(()=>{const e={};for(const t in hp)for(const i in hp[t].units)e[i]=t;return e})();function oj(e,t,i){return e*hp[i].units[t].inBaseUnits}function aj(e,t,i){return e/hp[i].units[t].inBaseUnits}const MC=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],lj=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function j_(e){const t=sj[e];if(!t)throw new Error("unknown type");return t}function iA(e,t=null){return t=t||j_(e),hp[t].baseUnit===e}function Xc(e,t,i){if(t===i)return e;const r=j_(t);if(r!==j_(i))throw new Error("incompatible units");const n=iA(t,r)?e:oj(e,t,r);return iA(i,r)?n:aj(n,i,r)}function cj(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function kme(e){return cj(e)}function Rme(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function Dme(e,t){const i=Xc(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function Fme(e,t){const i=Xc(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function Ume(e,t){const i=Xc(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function jme(e,t){const i=Xc(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function Gme(e,t){const i=Xc(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function Bme(e,t){const i=Xc(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function Vme(e,t,i){return Xc(e,t,"meters")/(i*Math.PI/180)}function uj(e){return nj.fromJSON(e.toLowerCase())||null}function zme(e){if(e!=null&&!WU(e))return 1;const t=A1(e);return t>1e5?1:t}function hj(e){return A1(e)>=ej(e).metersPerDegree?"meters":rm(e)}function A1(e,t=_s.metersPerDegree){return fj(e,!0)??t}function fj(e,t=!1){const i=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let n=null;if(i){if(E1(i))return ap.metersPerDegree;if(T1(i))return S1.metersPerDegree;n=bc.values[bc[i]],!n&&t&&rj.has(i)&&(n=ij)}else r&&($C(r)?n=rA(TC.exec(r),n):OC(r)&&(n=rA(AC.exec(r),n)));return n}function qme(e){return QS(e)?1:A1(e)}function rA(e,t){return e?.[1]?IC(e[1]):t}function IC(e){return parseFloat(e.split(",")[1])}function rm(e){const t=e?.wkid??null,i=e?.wkt2??e?.wkt??null;let r=null;if(t)r=bc.units[bc[t]];else if(i){const n=$C(i)?TC:OC(i)?AC:null;if(n){const s=n.exec(i);s?.[1]&&(r=pj(s[1]))}}return r!=null?uj(r):null}function Wme(e){const t=rm(e);return t!=null&&MC.includes(t)?t:null}function Hme(e){const t=hj(e);return t!=null&&MC.includes(t)?t:null}function Yme(e){const t=rm(e);return t==null?null:lj.get(t)}function OC(e){return/^GEOCCS/i.test(e)}function $C(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const dj=1e-7;function pj(e){let i=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!i||!bc.units.includes(i)){const r=IC(e);i=null;const n=bc.values;for(let s=0;s<n.length;++s)if(Math.abs(r-n[s])<dj){i=bc.units[s];break}}return i}function Jme(e){const t=rm(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"chains":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}const mj={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},yj={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},gj={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},Kme=Es()(mj),Zme=Es()(yj),Xme=Es()(gj);function ni(e,t,i){let r,n;return t===void 0?(n=e,r=[void 0]):typeof t!="string"?(n=e,r=[void 0],i=t):(n=t,r=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;for(const l of r){const c=m$(s,l,n);c.write&&typeof c.write=="object"||(c.write={}),i&&(c.write.target=i),c.write.writer=a[o]}}}var Ls;let _t=Ls=class extends tt{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return Ls.WebMercator;if(e?.wkid===4326)return Ls.WGS84;const t=new Ls;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Qy(this)}get isWebMercator(){return kc(this)}get isGeographic(){return QS(this)}get isWrappable(){return JU(this)}get metersPerUnit(){return A1(this)}get unit(){return rm(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Ls.WGS84)return new Ls(wC);if(this===Ls.WebMercator)return new Ls(SC);const e=new Ls;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ge(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return t==null||r?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):i?n.id===t&&n.referenceServiceName===i:n.id===t}return Lc(this,e)}toJSON(e){return this.write(void 0,e)}};_t.GCS_NAD_1927=null,_t.WGS84=null,_t.WebMercator=null,_t.PlateCarree=null,g([T({readOnly:!0})],_t.prototype,"isWGS84",null),g([T({readOnly:!0})],_t.prototype,"isWebMercator",null),g([T({readOnly:!0})],_t.prototype,"isGeographic",null),g([T({readOnly:!0})],_t.prototype,"isWrappable",null),g([T({type:Bi,json:{write:!0}})],_t.prototype,"latestWkid",void 0),g([T({readOnly:!0})],_t.prototype,"metersPerUnit",null),g([T({readOnly:!0})],_t.prototype,"unit",null),g([T({type:Bi,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],_t.prototype,"wkid",void 0),g([T({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],_t.prototype,"wkt",void 0),g([ni("wkt"),ni("web-scene","wkt")],_t.prototype,"writeWkt",null),g([T({type:String,json:{write:!1}})],_t.prototype,"wkt2",void 0),g([T({type:Bi,json:{write:!0}})],_t.prototype,"vcsWkid",void 0),g([T({type:Bi,json:{write:!0}})],_t.prototype,"latestVcsWkid",void 0),g([T()],_t.prototype,"imageCoordinateSystem",void 0),_t=Ls=g([ie("esri.geometry.SpatialReference")],_t),_t.prototype.toJSON.isDefaultToJSON=!0,_t.GCS_NAD_1927=Xi.freeze(new _t({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),_t.WGS84=Xi.freeze(new _t(wC)),_t.WebMercator=Xi.freeze(new _t(SC)),_t.PlateCarree=Xi.freeze(new _t(KU));const zi=_t;let ks=class extends tt{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=zi.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof zi)return t;if(t!=null){const r=new zi;return r.read(t,i),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};g([T()],ks.prototype,"type",void 0),g([T({readOnly:!0})],ks.prototype,"cache",null),g([T({readOnly:!0})],ks.prototype,"extent",null),g([T({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ks.prototype,"hasM",void 0),g([T({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ks.prototype,"hasZ",void 0),g([T({type:zi,json:{write:!0},value:zi.WGS84})],ks.prototype,"spatialReference",void 0),g([Zi("spatialReference")],ks.prototype,"readSpatialReference",null),ks=g([ie("esri.geometry.Geometry")],ks);const Qc=ks,vj=Object.prototype.toString;function bj(e){const t="__accessorMetadata__"in e?bs(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return _j.apply(this,i)}}function _j(e,t,i,r){b1(e,t).cast=r}function wj(e){return(t,i)=>{b1(t,e).cast=t[i]}}function nm(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&vj.call(e[0])==="[object Function]"?bj(e[0]):e.length===1&&typeof e[0]=="string"?wj(e[0]):void 0}const Sj=57.29577951308232,xj=.017453292519943;function nA(e){return e*Sj}function sA(e){return e*xj}function e0e(e){return Math.PI/2-2*Math.atan(Math.exp(-e/_s.radius))}function G_(e){return e.wkid!=null||e.wkt!=null}const eb=[0,0];function eg(e,t,i,r,n){const s=e,o=n;if(o.spatialReference=i,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,eb,r);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,eb,r),[o.xmax,o.ymax]=t(s.xmax,s.ymax,eb,r);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let c;for(let f=0;f<a.length;f++){const d=a[f];c=[],l.push(c);for(let p=0;p<d.length;p++)c.push(t(d[p][0],d[p][1],[0,0],r)),d[p].length>2&&c[p].push(d[p][2]),d[p].length>3&&c[p].push(d[p][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],r),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return n}function B0(e,t){const i=e&&(G_(e)?e:e.spatialReference),r=t&&(G_(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!r)&&(!!Lc(r,i)||kc(r)&&Qy(i)||kc(i)&&Qy(r))}function CC(e,t){if(e==null)return null;const i=e.spatialReference,r=t&&(G_(t)?t:t.spatialReference);return B0(i,r)?Lc(i,r)?ge(e):kc(r)?eg(e,qu,zi.WebMercator,!1,ge(e)):Qy(r)?eg(e,M1,zi.WGS84,!1,ge(e)):null:null}function qu(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=sA(t);return i[0]=sA(e)*_s.radius,i[1]=_s.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function M1(e,t,i=[0,0],r=!1){if(e===up[0])i[0]=-180;else if(e===up[1])i[0]=180;else{const n=nA(e/_s.radius);i[0]=r?n:n-360*Math.floor((n+180)/360)}return i[1]=nA(Math.PI/2-2*Math.atan(Math.exp(-t/_s.radius))),i}function tb(e,t=!1,i=ge(e)){return eg(e,qu,zi.WebMercator,t,i)}function Ym(e,t=!1,i=ge(e)){return eg(e,M1,zi.WGS84,t,i)}function Ej(e,t){const i=e.x-t.x,r=e.y-t.y,n=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(i*i+r*r+n*n)}function Tj(e){return NC(e,PC)?.[0]??null}function Aj(e){return NC(e,PC)?.[1]??null}function NC({x:e,y:t,spatialReference:i},r=[0,0]){if(i){if(kc(i))return M1(e,t,r);if(QS(i))return r[0]=e,r[1]=t,r}return null}const PC=[0,0];var V0;const ib=[0,0];function oA(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Tr=V0=class extends Qc{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Xi.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,n){let s;if(Array.isArray(e))s=e,n=t,e=s[0],t=s[1],i=s[2],r=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,i=s.z,r=s.m,(n=s.spatialReference)&&n.declaredClass!=="esri.geometry.SpatialReference"&&(n=new zi(n)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)Pt.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)Pt.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&n?.isWebMercator){const a=qu(s.longitude,s.latitude,ib);e=a[0],t=a[1]}}}else oA(i)?(n=i,i=null):oA(r)&&(n=r,r=null);const o={x:e,y:t};return o.x==null&&o.y!=null?Pt.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&Pt.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),n!=null&&(o.spatialReference=n),i!=null&&(o.z=i),r!=null&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return Aj(this)}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",qu(i,e,ib)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return Tj(this)}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",qu(e,t,ib)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new V0;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return V0.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:r,m:n,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:f}=e;if(!s.equals(f))if(s.isWebMercator&&f.isWGS84)[l,c]=qu(l,c),f=s;else{if(!s.isWGS84||!f.isWebMercator)return!1;[l,c]=M1(l,c),f=s}return t===l&&i===c&&r===o&&n===a&&s.wkid===f.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=Td(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,n=2*r;let s;return t>r?(s=Math.ceil(Math.abs(t-r)/n),t-=s*n):t<i&&(s=Math.ceil(Math.abs(t-i)/n),t+=s*n),this._set("x",t),this}distance(e){return Ej(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};g([T({readOnly:!0})],Tr.prototype,"cache",null),g([T({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Tr.prototype,"hasM",null),g([T({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Tr.prototype,"hasZ",null),g([T({type:Number})],Tr.prototype,"latitude",null),g([T({type:Number})],Tr.prototype,"longitude",null),g([T({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),nm(e=>isNaN(e)?e:g1(e))],Tr.prototype,"x",void 0),g([ni("x")],Tr.prototype,"writeX",null),g([Zi("x")],Tr.prototype,"readX",null),g([T({type:Number,json:{write:!0}})],Tr.prototype,"y",void 0),g([T({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Tr.prototype,"z",void 0),g([T({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Tr.prototype,"m",void 0),Tr=V0=g([ie("esri.geometry.Point")],Tr),Tr.prototype.toJSON.isDefaultToJSON=!0;const Oi=Tr,rb=[0,0];function LC(e,t){return t!=null&&Ir(e,t.x,t.y,t.z)}function t0e(e,t){if(!t.points||t.points.length)return!1;for(const i of t.points)if(!Ih(e,i))return!1;return!0}function Mj(e,t){const{xmin:i,ymin:r,zmin:n,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Ir(e,i,r,n)&&Ir(e,i,o,n)&&Ir(e,s,o,n)&&Ir(e,s,r,n)&&Ir(e,i,r,a)&&Ir(e,i,o,a)&&Ir(e,s,o,a)&&Ir(e,s,r,a):Ir(e,i,r)&&Ir(e,i,o)&&Ir(e,s,o)&&Ir(e,s,r)}function Ih(e,t){return Ir(e,t[0],t[1])}function Ij(e,t){return Ir(e,t[0],t[1],t[2])}function Ir(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function Oj(e,t){return rb[1]=t.y,rb[0]=t.x,$j(e,rb)}function $j(e,t){return kC(e.rings,t)}function kC(e,t){if(!e)return!1;if(Cj(e))return aA(!1,e,t);let i=!1;for(let r=0,n=e.length;r<n;r++)i=aA(i,e[r],t);return i}function Cj(e){return!Array.isArray(e[0][0])}function aA(e,t,i){const[r,n]=i;let s=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[c,f]=t[a],[d,p]=t[o];(f<n&&p>=n||p<n&&f>=n)&&c+(n-f)/(p-f)*(d-c)<r&&(s=!s)}return s}function Nj(e,t){return LC(e,t)}function Pj(e,t){const i=e.hasZ&&t.hasZ;let r,n,s;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function Lj(e,t){const{points:i,hasZ:r}=t,n=r?Ij:Ih;for(const s of i)if(n(e,s))return!0;return!1}const Rc=[0,0],Dc=[0,0],Fc=[0,0],Uc=[0,0],kj=[Rc,Dc,Fc,Uc],RC=[[Fc,Rc],[Rc,Dc],[Dc,Uc],[Uc,Fc]];function Rj(e,t){return Dj(e,t.rings)}function Dj(e,t){Rc[0]=e.xmin,Rc[1]=e.ymax,Dc[0]=e.xmax,Dc[1]=e.ymax,Fc[0]=e.xmin,Fc[1]=e.ymin,Uc[0]=e.xmax,Uc[1]=e.ymin;for(const i of kj)if(kC(t,i))return!0;for(const i of t){if(!i.length)continue;let r=i[0];if(Ih(e,r))return!0;for(let n=1;n<i.length;n++){const s=i[n];if(Ih(e,s)||DC(r,s,RC))return!0;r=s}}return!1}function Fj(e,t){Rc[0]=e.xmin,Rc[1]=e.ymax,Dc[0]=e.xmax,Dc[1]=e.ymax,Fc[0]=e.xmin,Fc[1]=e.ymin,Uc[0]=e.xmax,Uc[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let n=r[0];if(Ih(e,n))return!0;for(let s=1;s<r.length;s++){const o=r[s];if(Ih(e,o)||DC(n,o,RC))return!0;n=o}}return!1}const Ji=[0,0];function Uj(e){for(let t=0;t<e.length;t++){const i=e[t];for(let n=0;n<i.length-1;n++){const s=i[n],o=i[n+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],f=e[a][l+1];if(B_(s,o,c,f,Ji)&&!(Ji[0]===s[0]&&Ji[1]===s[1]||Ji[0]===c[0]&&Ji[1]===c[1]||Ji[0]===o[0]&&Ji[1]===o[1]||Ji[0]===f[0]&&Ji[1]===f[1]))return!0}}const r=i.length;if(!(r<=4))for(let n=0;n<r-3;n++){let s=r-1;n===0&&(s=r-2);const o=i[n],a=i[n+1];for(let l=n+2;l<s;l++){const c=i[l],f=i[l+1];if(B_(o,a,c,f,Ji)&&!(Ji[0]===o[0]&&Ji[1]===o[1]||Ji[0]===c[0]&&Ji[1]===c[1]||Ji[0]===a[0]&&Ji[1]===a[1]||Ji[0]===f[0]&&Ji[1]===f[1]))return!0}}}return!1}function DC(e,t,i){for(let r=0;r<i.length;r++)if(B_(e,t,i[r][0],i[r][1]))return!0;return!1}function B_(e,t,i,r,n){const[s,o]=e,[a,l]=t,[c,f]=i,[d,p]=r,y=d-c,v=s-c,_=a-s,E=p-f,x=o-f,A=l-o,w=E*_-y*A;if(w===0)return!1;const b=(y*x-E*v)/w,M=(_*x-A*v)/w;return b>=0&&b<=1&&M>=0&&M<=1&&(n&&(n[0]=s+b*(a-s),n[1]=o+b*(l-o)),!0)}function jj(e){switch(e){case"esriGeometryEnvelope":case"extent":return Pj;case"esriGeometryMultipoint":case"multipoint":return Lj;case"esriGeometryPoint":case"point":return Nj;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return Rj;case"esriGeometryPolyline":case"polyline":return Fj}}var In;function Gj(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function ua(e,t,i){return t==null?i:i==null?t:e(t,i)}let Di=In=class extends Qc{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,n){return Gj(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?zi.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:n??zi.WGS84}}static fromBounds(e,t){return new In({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new In({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Oi({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new In;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&B0(t,i)&&(e=t.isWebMercator?tb(e):Ym(e,!0)),e.type==="point"?LC(this,e):e.type==="extent"&&Mj(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&B0(t,i)&&(e=t.isWebMercator?tb(e):Ym(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const n=(this.zmax-this.zmin)*t;this.zmin+=n,this.zmax-=n}if(this.hasM){const n=(this.mmax-this.mmin)*t;this.mmin+=n,this.mmax-=n}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!Lc(t,i)&&B0(t,i)&&(e=t.isWebMercator?tb(e):Ym(e,!0)),jj(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=ua(Math.min,this.zmin,e.zmin),this.zmax=ua(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=ua(Math.min,this.mmin,e.mmin),this.mmax=ua(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=ua(Math.max,this.zmin,e.zmin),this.zmax=ua(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=ua(Math.max,this.mmin,e.mmin),this.mmax=ua(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Td(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?Ym(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=nb(r.x,e).x),this.spatialReference=new zi(i$((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,n=this.xmin,s=this.xmax;return n>=i&&n<=r&&s>=i&&s<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const n=i??Td(r);if(n==null)return this;const s=this._getParts(n).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(e)return this._shiftCM(n);if(t)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const f=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}if(a){const f=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}return c}),hasZ:o,hasM:a,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:n,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let f;e=e||Td(o);const[d,p]=e.valid;f=nb(this.xmin,e);const y=f.x,v=f.frameId;f=nb(this.xmax,e);const _=f.x,E=f.frameId,x=y===_&&a>0;if(a>2*p){const A=new In(l<c?y:_,n,p,s,o),w=new In(d,n,l<c?_:y,s,o),b=new In(0,n,p,s,o),M=new In(d,n,0,s,o),I=[],C=[];A.contains(b)&&I.push(v),A.contains(M)&&C.push(v),w.contains(b)&&I.push(E),w.contains(M)&&C.push(E);for(let P=v+1;P<E;P++)I.push(P),C.push(P);t.push({extent:A,frameIds:[v]},{extent:w,frameIds:[E]},{extent:b,frameIds:I},{extent:M,frameIds:C})}else y>_||x?t.push({extent:new In(y,n,p,s,o),frameIds:[v]},{extent:new In(d,n,_,s,o),frameIds:[E]}):t.push({extent:new In(y,n,_,s,o),frameIds:[v]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const n={};i&&(n.zmin=this.zmin,n.zmax=this.zmax),r&&(n.mmin=this.mmin,n.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(n)}return t}};function nb(e,t){const[i,r]=t.valid,n=2*r;let s,o=0;return e>r?(s=Math.ceil(Math.abs(e-r)/n),e-=s*n,o=s):e<i&&(s=Math.ceil(Math.abs(e-i)/n),e+=s*n,o=-s),{x:e,frameId:o}}g([T({readOnly:!0})],Di.prototype,"cache",null),g([T({readOnly:!0})],Di.prototype,"center",null),g([T({readOnly:!0})],Di.prototype,"extent",null),g([T({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Di.prototype,"hasM",null),g([T({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Di.prototype,"hasZ",null),g([T({readOnly:!0})],Di.prototype,"height",null),g([T({readOnly:!0})],Di.prototype,"width",null),g([T({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Di.prototype,"xmin",void 0),g([T({type:Number,json:{write:!0}})],Di.prototype,"ymin",void 0),g([T({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Di.prototype,"mmin",void 0),g([T({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Di.prototype,"zmin",void 0),g([T({type:Number,json:{write:!0}})],Di.prototype,"xmax",void 0),g([T({type:Number,json:{write:!0}})],Di.prototype,"ymax",void 0),g([T({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Di.prototype,"mmax",void 0),g([T({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Di.prototype,"zmax",void 0),Di=In=g([ie("esri.geometry.Extent")],Di),Di.prototype.toJSON.isDefaultToJSON=!0;const zn=Di;function Oh(e,t,i=!1){let{hasM:r,hasZ:n}=e;Array.isArray(t)?t.length!==4||r||n?t.length===3&&i&&!r?(n=!0,r=!1):t.length===3&&r&&n&&(r=!1,n=!1):(r=!0,n=!0):(n=!n&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=r}var V_;function lA(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function Bj(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let wa=V_=class extends Qc{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):Bj(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const r=i.points?.[0];return r&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=r.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=r.length>3:i.hasM===void 0&&(i.hasM=r.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new zn,i=this.hasZ,r=this.hasM,n=i?3:2,s=e[0],o=lA(Math.min),a=lA(Math.max);let l,c,f,d,[p,y]=s,[v,_]=s;for(let E=0,x=e.length;E<x;E++){const A=e[E],[w,b]=A;if(p=o(p,w),y=o(y,b),v=a(v,w),_=a(_,b),i&&A.length>2){const M=A[2];l=o(l,M),f=a(f,M)}if(r&&A.length>n){const M=A[n];c=o(c,M),d=a(d,M)}}return t.xmin=p,t.ymin=y,t.xmax=v,t.ymax=_,t.spatialReference=this.spatialReference,i?(t.zmin=l,t.zmax=f):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=c,t.mmax=d):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=ge(this.points)}addPoint(e){return Oh(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:ge(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new V_(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=t[2],r=3),this.hasM&&(i.m=t[r]),new Oi(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Oi(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Oh(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};g([T({readOnly:!0})],wa.prototype,"cache",null),g([T()],wa.prototype,"extent",null),g([T({type:[[Number]],json:{write:{isRequired:!0}}})],wa.prototype,"points",void 0),g([ni("points")],wa.prototype,"writePoints",null),wa=V_=g([ie("esri.geometry.Multipoint")],wa),wa.prototype.toJSON.isDefaultToJSON=!0;const I1=wa;function i0e(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function Vj(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var tg;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(tg||(tg={}));function tx(e,t){const i=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(i*i+r*r+n*n)}return Math.sqrt(i*i+r*r)}function zj(e,t,i){const r=e[0]+i*(t[0]-e[0]),n=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[r,n,e[2]+i*(t[2]-e[2])]:[r,n]}function r0e(e,t,i,r){return qj(e,t,i[r],i[r+1])}function qj(e,t,i,r){const[n,s]=t,[o,a]=i,[l,c]=r,f=l-o,d=c-a,p=f*f+d*d,y=(n-o)*f+(s-a)*d,v=Math.min(1,Math.max(0,y/p));return e[0]=o+f*v,e[1]=a+d*v,e}function n0e(e,t,i,r,n,s){let o=i,a=r,l=n-o,c=s-a;if(l!==0||c!==0){const f=((e-o)*l+(t-a)*c)/(l*l+c*c);f>1?(o=n,a=s):f>0&&(o+=l*f,a+=c*f)}return l=e-o,c=t-a,l*l+c*c}function FC(e,t){return zj(e,t,.5)}function s0e(e){const t=e.length;let i=0;for(let r=0;r<t-1;++r)i+=tx(e[r],e[r+1]);return i}function UC(e,t=tg.X,i=tg.Y){let r=0;const n=e.length;let s=e[0];for(let o=1;o<n;o++){const a=e[o];r+=(a[t]-s[t])*(a[i]+s[i]),s=a}if(!jC(e)){const o=e[0];r+=(o[t]-s[t])*(o[i]+s[i])}return r>=0}function jC(e){const t=e.length;return t<3||p1(e[0],e[t-1])}function o0e(e){"rings"in e&&(Wj(e),Hj(e))}function Wj(e){if(!("rings"in e))return!1;let t=!1;for(const i of e.rings)jC(i)||(i.push(i[0].slice()),t=!0);return t}function Hj(e){if(!("rings"in e)||e.rings.length===0||UC(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function a0e(e){return e.type!=="polygon"&&e.type!=="polyline"||Yj(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function Yj(e,t){const i=Td(t);if(!i)return;const r=i.valid[0],n=i.valid[1],s=n-r;for(const o of e){let a=1/0,l=-1/0;for(const f of o){const d=Jj(f[0],r,n);a=Math.min(a,d),l=Math.max(l,d),f[0]=d}const c=l-a;s-c<c&&o.forEach(f=>{f[0]<0&&(f[0]+=s)})}}function Jj(e,t,i){const r=i-t;return e<t?i-(t-e)%r:e>i?t+(e-t)%r:e}function l0e(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[i,r]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return i.length===r.length&&i.every((n,s)=>n.length===r[s].length)}function c0e(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function Kj(e){return e?Zj(e.rings,e.hasZ??!1):null}function Zj(e,t){if(!e?.length)return null;const i=[],r=[],n=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=e.length;s<o;s++){const a=GC(e[s],t,n);a&&r.push(a)}if(r.sort((s,o)=>{let a=s[2]-o[2];return a===0&&t&&(a=s[4]-o[4]),a}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<n[0]||i[0]>n[1]||i[1]<n[2]||i[1]>n[3]||t&&(i[2]<n[4]||i[2]>n[5]))&&(i.length=0)),!i.length){const s=e[0]&&e[0].length?Xj(e[0],t):null;if(!s)return null;i[0]=s[0],i[1]=s[1],t&&s.length>2&&(i[2]=s[2])}return i}function GC(e,t,i){let r=0,n=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,f=e.length&&t?e[0][2]:0;for(let p=0;p<e.length;p++){const y=e[p],v=e[(p+1)%e.length],[_,E,x]=y,A=_-l,w=E-c,[b,M,I]=v,C=b-l,P=M-c,N=A*P-C*w;if(o+=N,r+=(A+C)*N,n+=(w+P)*N,t&&y.length>2&&v.length>2){const U=x-f,j=I-f,F=A*j-C*U;s+=(U+j)*F,a+=F}_<i[0]&&(i[0]=_),_>i[1]&&(i[1]=_),E<i[2]&&(i[2]=E),E>i[3]&&(i[3]=E),t&&(x<i[4]&&(i[4]=x),x>i[5]&&(i[5]=x))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[r/(6*o)+l,n/(6*o)+c,o];return t&&(i[4]===i[5]||a===0?(d[3]=(i[4]+i[5])/2,d[4]=0):(d[3]=s/(6*a)+f,d[4]=a)),d}function u0e(e,t){let i=0,r=0,n=0;e.nextPoint();const s=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[f,d]=l,p=f-s,y=d-o,[v,_]=c,E=v-s,x=_-o,A=p*x-E*y;n+=A,i+=(p+E)*A,r+=(y+x)*A,f<t[0]&&(t[0]=f),f>t[1]&&(t[1]=f),d<t[2]&&(t[2]=d),d>t[3]&&(t[3]=d)}return n>0&&(n*=-1),n?(n*=.5,[i/(6*n)+s,r/(6*n)+o,n]):null}function Xj(e,t){const i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let n=0,s=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const f=e[l],d=e[l+1];if(f&&d){i[0]=f[0],i[1]=f[1],r[0]=d[0],r[1]=d[1],t&&f.length>2&&d.length>2&&(i[2]=f[2],r[2]=d[2]);const p=tx(i,r);if(p){n+=p;const y=FC(f,d);s+=p*y[0],o+=p*y[1],t&&y.length>2&&(a+=p*y[2])}}}return n>0?t?[s/n,o/n,a/n]:[s/n,o/n]:e.length?e[0]:null}function Qj(e){const{hasZ:t,totalSize:i}=e;if(i===0)return null;const r=[],n=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=GC(Vj(e),e.hasZ,s);o&&n.push(o)}if(n.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||t&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const o=e.pathSize?eG(e):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function eG(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let n=0,s=0,o=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,f=e.z;for(;e.nextPoint();){const d=e.x,p=e.y,y=e.z;i[0]=l,i[1]=c,r[0]=d,r[1]=p,t&&(i[2]=f,r[2]=y);const v=tx(i,r);if(v){n+=v;const _=FC(i,r);s+=v*_[0],o+=v*_[1],t&&_.length>2&&(a+=v*_[2])}l=d,c=p,f=y}}return n>0?t?[s/n,o/n,a/n]:[s/n,o/n]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const tG=1e-6;function h0e(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<tG){const n=Qj(e);return n?[n[0],n[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)rG(i,r,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=r[0],i[1]+=r[1],i}const iG=1/3;function rG(e,t,i){if(!e||!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,n=i.y;i.nextPoint();let s,o=i.x-r,a=i.y-n,l=0,c=0;for(;i.nextPoint();)l=i.x-r,c=i.y-n,s=.5*iG*(l*a-c*o),e[0]+=s*(o+l),e[1]+=s*(a+c),o=l,a=c;const f=i.getCurrentRingArea(),d=[r,n];return d[0]-=t[0],d[1]-=t[1],d[0]*=f,d[1]*=f,e[0]+=d[0],e[1]+=d[1],e}function sm(e=oG){return[e[0],e[1],e[2],e[3]]}function BC(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function f0e(e,t,i,r,n=sm()){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function d0e(e,t=sm()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function p0e(e,t){return new zn({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function m0e(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function y0e(e,t,i){if(t!=null)if("length"in t)z_(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else BC(i,e)}function nG(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function sG(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function g0e(e){return nG(e)*sG(e)}function v0e(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function b0e(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function _0e(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function w0e(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function S0e(e){return e?BC(e,cA):sm(cA)}function z_(e){return e!=null&&e.length===4}function x0e(e,t){return z_(e)&&z_(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const cA=[1/0,1/0,-1/0,-1/0],oG=[0,0,0,0];function VC(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function zC(e){return e.points!==void 0}function qC(e){return e.x!==void 0&&e.y!==void 0}function WC(e){return e.paths!==void 0}function HC(e){return e.rings!==void 0}function YC(e){function t(i,r){return i==null?r:r==null?i:e(i,r)}return t}const Ja=YC(Math.min),Ka=YC(Math.max);function E0e(e,t){return WC(t)?$h(e,t.paths,!1,!1):HC(t)?$h(e,t.rings,!1,!1):zC(t)?ix(e,t.points,!1,!1,!1,!1):VC(t)?JC(e,t):(qC(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function T0e(e){let t,i,r,n;for(e.reset(),t=r=1/0,i=n=-1/0;e.nextPath();){const s=aG(e);t=Math.min(s[0],t),r=Math.min(s[1],r),i=Math.max(s[2],i),n=Math.max(s[3],n)}return sm([t,r,i,n])}function aG(e){let t,i,r,n;for(t=r=1/0,i=n=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),i=Math.max(e.x,i),n=Math.max(e.y,n);return sm([t,r,i,n])}function A0e(e,t){return WC(t)?$h(e,t.paths,!0,!1):HC(t)?$h(e,t.rings,!0,!1):zC(t)?ix(e,t.points,!0,!1,!0,!1):VC(t)?JC(e,t,!0,!1,!0,!1):(qC(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function $h(e,t,i,r){const n=i?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[c,f]=t[0][0],[d,p]=t[0][0];for(let y=0;y<t.length;y++){const v=t[y];for(let _=0;_<v.length;_++){const E=v[_],[x,A]=E;if(c=Ja(c,x),f=Ja(f,A),d=Ka(d,x),p=Ka(p,A),i&&E.length>2){const w=E[2];s=Ja(s,w),o=Ka(o,w)}if(r&&E.length>n){const w=E[n];a=Ja(s,w),l=Ka(o,w)}}}return i?r?(e[0]=c,e[1]=f,e[2]=s,e[3]=a,e[4]=d,e[5]=p,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=f,e[2]=s,e[3]=d,e[4]=p,e[5]=o,e.length=6,e):r?(e[0]=c,e[1]=f,e[2]=a,e[3]=d,e[4]=p,e[5]=l,e.length=6,e):(e[0]=c,e[1]=f,e[2]=d,e[3]=p,e.length=4,e)}function JC(e,t,i,r,n,s){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let f=t.zmin,d=t.zmax,p=t.mmin,y=t.mmax;return n?(f=f||0,d=d||0,s?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=f,e[3]=p,e[4]=a,e[5]=c,e[6]=d,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=f,e[3]=a,e[4]=c,e[5]=d,e)):s?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=p,e[3]=a,e[4]=c,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function ix(e,t,i,r,n,s){const o=i?3:2,a=r&&s,l=i&&n;if(!t.length||!t[0].length)return null;let c,f,d,p,[y,v]=t[0],[_,E]=t[0];for(let x=0;x<t.length;x++){const A=t[x],[w,b]=A;if(y=Ja(y,w),v=Ja(v,b),_=Ka(_,w),E=Ka(E,b),l&&A.length>2){const M=A[2];c=Ja(c,M),f=Ka(f,M)}if(a&&A.length>o){const M=A[o];d=Ja(c,M),p=Ka(f,M)}}return n?(c=c||0,f=f||0,s?(d=d||0,p=p||0,e[0]=y,e[1]=v,e[2]=c,e[3]=d,e[4]=_,e[5]=E,e[6]=f,e[7]=p,e):(e[0]=y,e[1]=v,e[2]=c,e[3]=_,e[4]=E,e[5]=f,e)):s?(d=d||0,p=p||0,e[0]=y,e[1]=v,e[2]=d,e[3]=_,e[4]=E,e[5]=p,e):(e[0]=y,e[1]=v,e[2]=_,e[3]=E,e)}function lG(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function cG(e){return e.points!==void 0}function uG(e){return e.x!==void 0&&e.y!==void 0}function hG(e){return e.paths!==void 0}function fG(e){return e.rings!==void 0}const rx=[];function KC(e,t,i,r){return{xmin:e,ymin:t,xmax:i,ymax:r}}function ZC(e,t,i,r,n,s){return{xmin:e,ymin:t,zmin:i,xmax:r,ymax:n,zmax:s}}function XC(e,t,i,r,n,s){return{xmin:e,ymin:t,mmin:i,xmax:r,ymax:n,mmax:s}}function QC(e,t,i,r,n,s,o,a){return{xmin:e,ymin:t,zmin:i,mmin:r,xmax:n,ymax:s,zmax:o,mmax:a}}function nx(e,t=!1,i=!1){return t?i?QC(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):ZC(e[0],e[1],e[2],e[3],e[4],e[5]):i?XC(e[0],e[1],e[2],e[3],e[4],e[5]):KC(e[0],e[1],e[2],e[3])}function M0e(e){return e?lG(e)?e:uG(e)?pG(e):fG(e)?e5(e):hG(e)?t5(e):cG(e)?dG(e):null:null}function dG(e){const{hasZ:t,hasM:i,points:r}=e;return nx(ix(rx,r,t??!1,i??!1),t,i)}function pG(e){const{x:t,y:i,z:r,m:n}=e,s=n!=null;return r!=null?s?QC(t,i,r,n,t,i,r,n):ZC(t,i,r,t,i,r):s?XC(t,i,n,t,i,n):KC(t,i,t,i)}function e5(e){const{hasZ:t,hasM:i,rings:r}=e,n=$h(rx,r,t??!1,i??!1);return n?nx(n,t,i):null}function t5(e){const{hasZ:t,hasM:i,paths:r}=e,n=$h(rx,r,t??!1,i??!1);return n?nx(n,t,i):null}var z0;function uA(e){return!Array.isArray(e[0])}function mG(e){return typeof e[0]?.[0]=="number"}function yG(e){if(!e)return;let{rings:t,hasM:i,hasZ:r,spatialReference:n}=e;switch(t??=[],mG(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return n??=zi.WGS84,{...e,hasM:i,hasZ:r,rings:t,spatialReference:n}}let Vs=z0=class extends Qc{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:i}=e;let r=!1,n=!1;for(const o of t)o.hasZ&&(r=!0),o.hasM&&(n=!0);const s={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(n&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:i};return r&&(s.hasZ=!0),n&&(s.hasM=!0),new z0(s)}constructor(e){super(yG(e)),this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=Kj(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Oi;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=e5(this);if(!t)return null;const i=new zn(t);return i.spatialReference=e,i}get isSelfIntersecting(){return Uj(this.rings)}writeRings(e,t){t.rings=ge(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(uA(e)){const r=[];for(let n=0,s=e.length;n<s;n++)r[n]=e[n].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new z0;return e.spatialReference=this.spatialReference,e.rings=ge(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;if(t!=null!=(i!=null)||t!=null&&i!=null&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const r=([n,s,o,a],[l,c,f,d])=>n===l&&s===c&&(o==null&&f==null||o===f)&&(a==null&&d==null||a===d);for(let n=0;n<this.rings.length;n++){const s=this.rings[n],o=e.rings[n];if(!p1(s,o,r))return!1}return!0}contains(e){if(!e)return!1;const t=CC(e,this.spatialReference);return Oj(this,t??e)}isClockwise(e){const t=uA(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e;return UC(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],r=this.hasZ,n=this.hasM;return r&&!n?new Oi(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new Oi(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new Oi(i[0],i[1],i[2],i[3],this.spatialReference):new Oi(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(Oh(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Oi(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,r=t.map(n=>new Oi(n,i));return this.notifyChange("rings"),r}setPoint(e,t,i){return this._validateInputs(e,t)?(Oh(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const r=this.rings[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([T({readOnly:!0})],Vs.prototype,"cache",null),g([T({readOnly:!0})],Vs.prototype,"centroid",null),g([T({readOnly:!0})],Vs.prototype,"extent",null),g([T({readOnly:!0})],Vs.prototype,"isSelfIntersecting",null),g([T({type:[[[Number]]],json:{write:{isRequired:!0}}})],Vs.prototype,"rings",void 0),g([ni("rings")],Vs.prototype,"writeRings",null),Vs=z0=g([ie("esri.geometry.Polygon")],Vs);const jc=Vs;Vs.prototype.toJSON.isDefaultToJSON=!0;var q_;function gG(e){return!Array.isArray(e[0])}function vG(e){return typeof e[0]?.[0]=="number"}function bG(e){if(!e)return;let{paths:t,hasM:i,hasZ:r,spatialReference:n}=e;switch(t??=[],vG(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return n??=zi.WGS84,{...e,hasM:i,hasZ:r,paths:t,spatialReference:n}}let La=q_=class extends Qc{constructor(e){super(bG(e)),this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=t5(this);if(!t)return null;const i=new zn(t);return i.spatialReference=e,i}writePaths(e,t){t.paths=ge(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(gG(e)){const r=[];for(let n=0,s=e.length;n<s;n++)r[n]=e[n].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new q_;return e.spatialReference=this.spatialReference,e.paths=ge(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],r=this.hasZ,n=this.hasM;return r&&!n?new Oi(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new Oi(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new Oi(i[0],i[1],i[2],i[3],this.spatialReference):new Oi(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(Oh(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,r=t.map(n=>new Oi(n,i));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Oi(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(Oh(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const r=this.paths[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([T({readOnly:!0})],La.prototype,"cache",null),g([T({readOnly:!0})],La.prototype,"extent",null),g([T({type:[[[Number]]],json:{write:{isRequired:!0}}})],La.prototype,"paths",void 0),g([ni("paths")],La.prototype,"writePaths",null),La=q_=g([ie("esri.geometry.Polyline")],La);const om=La;La.prototype.toJSON.isDefaultToJSON=!0;function i5(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function r5(e){return e.points!==void 0}function n5(e){return e.x!==void 0&&e.y!==void 0}function s5(e){return e.paths!==void 0}function o5(e){return e.rings!==void 0}function sx(e){return e==null?null:e instanceof Qc?e:n5(e)?Oi.fromJSON(e):s5(e)?om.fromJSON(e):o5(e)?jc.fromJSON(e):r5(e)?I1.fromJSON(e):i5(e)?zn.fromJSON(e):null}function I0e(e){return e?n5(e)?"esriGeometryPoint":s5(e)?"esriGeometryPolyline":o5(e)?"esriGeometryPolygon":i5(e)?"esriGeometryEnvelope":r5(e)?"esriGeometryMultipoint":null:null}const _G={esriGeometryPoint:Oi,esriGeometryPolyline:om,esriGeometryPolygon:jc,esriGeometryEnvelope:zn,esriGeometryMultipoint:I1,esriGeometryMultiPatch:jc};function O0e(e){return e&&_G[e]||null}const $0e=Es()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),C0e=Es()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),a5={base:Qc,key:"type",typeMap:{extent:zn,multipoint:I1,point:Oi,polyline:om,polygon:jc}};Oc(a5);const ia=e=>{let t=class extends e{clone(){const i=al(this);DD(i,"unable to clone instance of non-accessor class");const r=i.metadata,n=i.store,s={},o=new Map;for(const l in r){const c=r[l],f=n?.originOf(l),d=c.clonable;if(c.readOnly||d===!1||f!==ut.USER&&f!==ut.DEFAULTS&&f!==ut.WEB_MAP&&f!==ut.WEB_SCENE)continue;const p=this[l];let y=null;y=typeof d=="function"?d(p):d==="reference"?p:c_(p),p!=null&&y==null||(f===ut.DEFAULTS?o.set(l,y):s[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const l=al(a)?.store;if(l)for(const[c,f]of o)l.set(c,f,ut.DEFAULTS)}return a}};return t=g([ie("esri.core.Clonable")],t),t};let hA=class extends ia(Xi){};hA=g([ie("esri.core.Clonable")],hA);let q0=class l5{constructor(){this._emitter=new l5.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(n=null){this._target=n,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(n,s){let o=this._listenersMap?.get(n);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const f="deref"in c?c.deref():c;f?f?.call(a,s):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(n,o)),o.length>0}on(n,s){if(Array.isArray(n)){const a=n.map(l=>this.on(l,s));return PS(a)}if(n.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(n)||[];return o.push(s),this._listenersMap.set(n,o),Ei(()=>{const a=this._listenersMap?.get(n),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(n,s){const o=this.on(n,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(n){const s=this._listenersMap?.get(n);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=r=>{let n=class extends r{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return n=g([ie("esri.core.Evented")],n),n};let i=class extends Xi{constructor(){super(...arguments),this._emitter=new q0.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,n){return this._emitter.emit(r,n)}on(r,n){return this._emitter.on(r,n)}once(r,n){return this._emitter.once(r,n)}hasEventListener(r){return this._emitter.hasEventListener(r)}};i=g([ie("esri.core.Evented.EventedAccessor")],i),e.EventedAccessor=i})(q0||(q0={}));const wG=q0;var dt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(dt||(dt={}));function SG(e){return(t,i)=>{t[i]=e}}let xG=class extends C${notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};var jo;let EG=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},TG=class{constructor(t,i,r,n,s){this.target=t,this.added=i,this.removed=r,this.start=n,this.deleteCount=s}};const En=new em(EG,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function fA(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function sb(e){return e?e instanceof Ro?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function ob(e){if(e?.length)return e[0]}function AG(e,t,i,r){const n=Math.min(e.length-i,t.length-r);let s=0;for(;s<n&&e[i+s]===t[r+s];)s++;return s}function c5(e,t,i,r){t&&t.forEach((n,s,o)=>{e.push(n),c5(e,i.call(r,n,s,o),i,r)})}const ha=new Set,fa=new Set,da=new Set,ab=new Map;let MG=0,Ro=jo=class extends wG.EventedAccessor{static isCollection(e){return e!=null&&e instanceof jo}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new xG,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:MG++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof jo?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ye(this._observable),this._items}set items(e){this._emitBeforeChanges(dt.ADD)||(this._splice(0,this.length,sb(e)),this._emitAfterChanges(dt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Ei();if(e==="change"){const i=this._chgListeners,r={removed:!1,callback:t};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),Ei(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,r=this.on(e,n=>{i()?.call(null,n),r.remove()});return r}add(e,t){if(Ye(this._observable),this._emitBeforeChanges(dt.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(dt.ADD),this}addMany(e,t=this._items.length){if(Ye(this._observable),!e?.length)return this;if(this._emitBeforeChanges(dt.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,sb(e)),this._emitAfterChanges(dt.ADD),this}at(e){if(Ye(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(dt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(dt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ye(this._observable),this._createNewInstance({items:this._items.map(ge)})}concat(...e){Ye(this._observable);const t=e.map(sb);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Ye(this._observable),!this.length||this._emitBeforeChanges(dt.REMOVE))return;const i=this._splice(0,this.length),r=i.length;for(let n=0;n<r;n++)e.call(t,i[n],n,i);this._emitAfterChanges(dt.REMOVE)}destroyAll(){this.drain(fA)}destroyMany(e){const t=this.removeMany(e);return t.forEach(fA),t}every(e,t){return Ye(this._observable),this._items.every(e,t)}filter(e,t){let i;return Ye(this._observable),i=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:i})}find(e,t){return Ye(this._observable),this._items.find(e,t)}findIndex(e,t){return Ye(this._observable),this._items.findIndex(e,t)}flatten(e,t){Ye(this._observable);const i=[];return c5(i,this,e,t),new jo(i)}forEach(e,t){return Ye(this._observable),this._items.forEach(e,t)}getItemAt(e){return Ye(this._observable),this._items[e]}getNextIndex(e){Ye(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Ye(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Ye(this._observable),this._items.indexOf(e,t)}join(e=","){return Ye(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Ye(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Ye(this._observable);const i=this._items.map(e,t);return new jo({items:i})}reorder(e,t=this.length-1){Ye(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(dt.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(dt.MOVE)}return e}}pop(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(dt.REMOVE))return;const e=ob(this._splice(this.length-1,1));return this._emitAfterChanges(dt.REMOVE),e}push(...e){return Ye(this._observable),this._emitBeforeChanges(dt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(dt.ADD)),this.length}reduce(e,t){Ye(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){Ye(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return Ye(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Ye(this._observable),e<0||e>=this.length||this._emitBeforeChanges(dt.REMOVE))return;const t=ob(this._splice(e,1));return this._emitAfterChanges(dt.REMOVE),t}removeMany(e){if(Ye(this._observable),!e?.length||this._emitBeforeChanges(dt.REMOVE))return[];const t=e instanceof jo?e.toArray():e,i=this._items,r=[],n=t.length;for(let s=0;s<n;s++){const o=t[s],a=i.indexOf(o);if(a>-1){const l=1+AG(t,i,s+1,a+1),c=this._splice(a,l);c&&c.length>0&&r.push.apply(r,c),s+=l-1}}return this._emitAfterChanges(dt.REMOVE),r}reverse(){if(Ye(this._observable),this._emitBeforeChanges(dt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(dt.MOVE),this}shift(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(dt.REMOVE))return;const e=ob(this._splice(0,1));return this._emitAfterChanges(dt.REMOVE),e}slice(e=0,t=this.length){return Ye(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Ye(this._observable),this._items.some(e,t)}sort(e){if(Ye(this._observable),!this.length||this._emitBeforeChanges(dt.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(dt.MOVE),this}splice(e,t,...i){Ye(this._observable);const r=(t?dt.REMOVE:0)|(i.length?dt.ADD:0);if(this._emitBeforeChanges(r))return[];const n=this._splice(e,t,i)||[];return this._emitAfterChanges(r),n}toArray(){return Ye(this._observable),this._items.slice()}toJSON(){return Ye(this._observable),this.toArray()}toLocaleString(){return Ye(this._observable),this._items.toLocaleString()}toString(){return Ye(this._observable),this._items.toString()}unshift(...e){return Ye(this._observable),!e.length||this._emitBeforeChanges(dt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(dt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const r=this._items,n=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=B$(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=r.splice(e,t),this.hasEventListener("before-remove")){const a=En.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),r.splice(e,0,s),e+=1,l-=1,c-=1);En.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=En.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);En.release(a)}}if(i?.length){if(n){const f=[];for(const d of i){const p=n.ensureType(d);p==null&&d!=null||f.push(p)}i=f}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(a||l){const f=En.acquire();f.target=this,f.cancellable=!0;const d=En.acquire();d.target=this,d.cancellable=!1;for(const p of i)a?(f.reset(p),this.emit("before-add",f),f.defaultPrevented||(c?r.push(p):r.splice(e++,0,p),this._set("length",r.length),l&&(d.reset(p),this.emit("after-add",d)))):(c?r.push(p):r.splice(e++,0,p),this._set("length",r.length),d.reset(p),this.emit("after-add",d));En.release(d),En.release(f)}else{if(c)for(const f of i)r.push(f);else r.splice(e,0,...i);this._set("length",r.length)}}if((i?.length||o?.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){const a=new TG(this,i,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=En.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,En.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=En.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),En.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;ha.clear(),fa.clear(),da.clear();for(const{added:l,removed:c}of i){if(l)if(da.size===0&&fa.size===0)for(const f of l)ha.add(f);else for(const f of l)fa.has(f)?(da.add(f),fa.delete(f)):da.has(f)||ha.add(f);if(c)if(da.size===0&&ha.size===0)for(const f of c)fa.add(f);else for(const f of c)ha.has(f)?ha.delete(f):(da.delete(f),fa.add(f))}const r=Pa.acquire();ha.forEach(l=>{r.push(l)});const n=Pa.acquire();fa.forEach(l=>{n.push(l)});const s=this._items,o=t.items,a=Pa.acquire();if(da.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),t.listeners&&(r.length||n.length||a.length)){const l={target:this,added:r,removed:n,moved:a},c=t.listeners.length;for(let f=0;f<c;f++){const d=t.listeners[f];d.removed||d.callback.call(this,l)}}Pa.release(r),Pa.release(n),Pa.release(a)}ha.clear(),fa.clear(),da.clear()}};Ro.ofType=e=>{if(!e)return jo;if(ab.has(e))return ab.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const n=e.typeMap[r].prototype.declaredClass;t?t+=` | ${n}`:t=n}let i=class extends jo{};return g([SG({Type:e,ensureType:typeof e=="function"?bs(e):Oc(e)})],i.prototype,"itemType",void 0),i=g([ie(`esri.core.Collection<${t}>`)],i),ab.set(e,i),i},g([T()],Ro.prototype,"_updating",void 0),g([T()],Ro.prototype,"length",void 0),g([T()],Ro.prototype,"items",null),g([T({readOnly:!0})],Ro.prototype,"updating",null),Ro=jo=g([ie("esri.core.Collection")],Ro);const jt=Ro;async function IG(e,t){const{WhereClause:i}=await xe(()=>import("./WhereClause-5geEOfvX.js").then(r=>r.W),__vite__mapDeps([8,9,10]),import.meta.url);return i.create(e,{fieldsIndex:t})}function R0e(e,t){return e==="1=1"?t??e:t==="1=1"?e??t:e!=null&&e!==""?t!=null&&t!==""?`(${e}) AND (${t})`:e:t}let Ad;const OG=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,W_=globalThis.document?.documentElement;function u5(){const e=W_?.getAttribute("lang"),t=globalThis.navigator?.language;return OG??e??t??"en"}function ro(){return Ad===void 0&&(Ad=u5()),Ad}function D0e(e=ro()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e)?.[1].toLowerCase()}const W0=[];function F0e(e){return W0.push(e),Ei(()=>W0.splice(W0.indexOf(e),1))}const H0=[];function ox(e){return H0.push(e),Ei(()=>H0.splice(H0.indexOf(e),1))}function dA(){const e=u5();Ad!==e&&([...H0].forEach(t=>t(e)),Ad=e,[...W0].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",dA),W_&&new MutationObserver(()=>{dA()}).observe(W_,{attributeFilter:["lang"]});const pA=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class eu extends Error{}class $G extends eu{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class CG extends eu{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class NG extends eu{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Wu extends eu{}class h5 extends eu{constructor(t){super(`Invalid unit ${t}`)}}class pr extends eu{}class pa extends eu{constructor(){super("Zone is an abstract class")}}const ve="numeric",ws="short",mn="long",ig={year:ve,month:ve,day:ve},f5={year:ve,month:ws,day:ve},PG={year:ve,month:ws,day:ve,weekday:ws},d5={year:ve,month:mn,day:ve},p5={year:ve,month:mn,day:ve,weekday:mn},m5={hour:ve,minute:ve},y5={hour:ve,minute:ve,second:ve},g5={hour:ve,minute:ve,second:ve,timeZoneName:ws},v5={hour:ve,minute:ve,second:ve,timeZoneName:mn},b5={hour:ve,minute:ve,hourCycle:"h23"},_5={hour:ve,minute:ve,second:ve,hourCycle:"h23"},w5={hour:ve,minute:ve,second:ve,hourCycle:"h23",timeZoneName:ws},S5={hour:ve,minute:ve,second:ve,hourCycle:"h23",timeZoneName:mn},x5={year:ve,month:ve,day:ve,hour:ve,minute:ve},E5={year:ve,month:ve,day:ve,hour:ve,minute:ve,second:ve},T5={year:ve,month:ws,day:ve,hour:ve,minute:ve},A5={year:ve,month:ws,day:ve,hour:ve,minute:ve,second:ve},LG={year:ve,month:ws,day:ve,weekday:ws,hour:ve,minute:ve},M5={year:ve,month:mn,day:ve,hour:ve,minute:ve,timeZoneName:ws},I5={year:ve,month:mn,day:ve,hour:ve,minute:ve,second:ve,timeZoneName:ws},O5={year:ve,month:mn,day:ve,weekday:mn,hour:ve,minute:ve,timeZoneName:mn},$5={year:ve,month:mn,day:ve,weekday:mn,hour:ve,minute:ve,second:ve,timeZoneName:mn};class am{get type(){throw new pa}get name(){throw new pa}get ianaName(){return this.name}get isUniversal(){throw new pa}offsetName(t,i){throw new pa}formatOffset(t,i){throw new pa}offset(t){throw new pa}equals(t){throw new pa}get isValid(){throw new pa}}let lb=null;class O1 extends am{static get instance(){return lb===null&&(lb=new O1),lb}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return U5(t,i,r)}formatOffset(t,i){return Md(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let Y0={};function kG(e){return Y0[e]||(Y0[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Y0[e]}const RG={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function DG(e,t){const i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,n,s,o,a,l,c,f]=r;return[o,n,s,a,l,c,f]}function FG(e,t){const i=e.formatToParts(t),r=[];for(let n=0;n<i.length;n++){const{type:s,value:o}=i[n],a=RG[s];s==="era"?r[a]=o:Be(a)||(r[a]=parseInt(o,10))}return r}let Jm={};class Xo extends am{static create(t){return Jm[t]||(Jm[t]=new Xo(t)),Jm[t]}static resetCache(){Jm={},Y0={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Xo.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return U5(t,i,r,this.name)}formatOffset(t,i){return Md(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const r=kG(this.name);let[n,s,o,a,l,c,f]=r.formatToParts?FG(r,i):DG(r,i);a==="BC"&&(n=-Math.abs(n)+1);const p=C1({year:n,month:s,day:o,hour:l===24?0:l,minute:c,second:f,millisecond:0});let y=+i;const v=y%1e3;return y-=v>=0?v:1e3+v,(p-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let mA={};function UG(e,t={}){const i=JSON.stringify([e,t]);let r=mA[i];return r||(r=new Intl.ListFormat(e,t),mA[i]=r),r}let H_={};function Y_(e,t={}){const i=JSON.stringify([e,t]);let r=H_[i];return r||(r=new Intl.DateTimeFormat(e,t),H_[i]=r),r}let J_={};function jG(e,t={}){const i=JSON.stringify([e,t]);let r=J_[i];return r||(r=new Intl.NumberFormat(e,t),J_[i]=r),r}let K_={};function GG(e,t={}){const{base:i,...r}=t,n=JSON.stringify([e,r]);let s=K_[n];return s||(s=new Intl.RelativeTimeFormat(e,t),K_[n]=s),s}let Wf=null;function BG(){return Wf||(Wf=new Intl.DateTimeFormat().resolvedOptions().locale,Wf)}let yA={};function VG(e){let t=yA[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,yA[e]=t}return t}function zG(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let r,n;try{r=Y_(e).resolvedOptions(),n=e}catch{const l=e.substring(0,i);r=Y_(l).resolvedOptions(),n=l}const{numberingSystem:s,calendar:o}=r;return[n,s,o]}}function qG(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function WG(e){const t=[];for(let i=1;i<=12;i++){const r=De.utc(2009,i,1);t.push(e(r))}return t}function HG(e){const t=[];for(let i=1;i<=7;i++){const r=De.utc(2016,11,13+i);t.push(e(r))}return t}function Km(e,t,i,r){const n=e.listingMode();return n==="error"?null:n==="en"?i(t):r(t)}function YG(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class JG{constructor(t,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:n,floor:s,...o}=r;if(!i||Object.keys(o).length>0){const a={useGrouping:!1,...r};r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=jG(t,a)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):hx(t,3);return Ii(i,this.padTo)}}}class KG{constructor(t,i,r){this.opts=r,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&Xo.create(a).valid?(n=a,this.dt=t):(n="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,n=t.zone.name):(n="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||n,this.dtf=Y_(i,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class ZG{constructor(t,i,r){this.opts={style:"long",...r},!i&&D5()&&(this.rtf=GG(t,r))}format(t,i){return this.rtf?this.rtf.format(t,i):_B(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const XG={firstDay:1,minimalDays:4,weekend:[6,7]};class xt{static fromOpts(t){return xt.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,r,n,s=!1){const o=t||ui.defaultLocale,a=o||(s?"en-US":BG()),l=i||ui.defaultNumberingSystem,c=r||ui.defaultOutputCalendar,f=Z_(n)||ui.defaultWeekSettings;return new xt(a,l,c,f,o)}static resetCache(){Wf=null,H_={},J_={},K_={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:r,weekSettings:n}={}){return xt.create(t,i,r,n)}constructor(t,i,r,n,s){const[o,a,l]=zG(t);this.locale=o,this.numberingSystem=i||a||null,this.outputCalendar=r||l||null,this.weekSettings=n,this.intl=qG(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=YG(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:xt.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,Z_(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return Km(this,t,B5,()=>{const r=i?{month:t,day:"numeric"}:{month:t},n=i?"format":"standalone";return this.monthsCache[n][t]||(this.monthsCache[n][t]=WG(s=>this.extract(s,r,"month"))),this.monthsCache[n][t]})}weekdays(t,i=!1){return Km(this,t,q5,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},n=i?"format":"standalone";return this.weekdaysCache[n][t]||(this.weekdaysCache[n][t]=HG(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[n][t]})}meridiems(){return Km(this,void 0,()=>W5,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[De.utc(2016,11,13,9),De.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Km(this,t,H5,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[De.utc(-40,1,1),De.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[t]})}extract(t,i,r){const n=this.dtFormatter(t,i),s=n.formatToParts(),o=s.find(a=>a.type.toLowerCase()===r);return o?o.value:null}numberFormatter(t={}){return new JG(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new KG(t,this.intl,i)}relFormatter(t={}){return new ZG(this.intl,this.isEnglish(),t)}listFormatter(t={}){return UG(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:F5()?VG(this.locale):XG}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let cb=null;class wr extends am{static get utcInstance(){return cb===null&&(cb=new wr(0)),cb}static instance(t){return t===0?wr.utcInstance:new wr(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new wr(N1(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Md(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Md(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return Md(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class QG extends am{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function qa(e,t){if(Be(e)||e===null)return t;if(e instanceof am)return e;if(sB(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?O1.instance:i==="utc"||i==="gmt"?wr.utcInstance:wr.parseSpecifier(i)||Xo.create(e)}else return el(e)?wr.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new QG(e)}const ax={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},gA={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},eB=ax.hanidec.replace(/[\[|\]]/g,"").split("");function tB(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);if(e[i].search(ax.hanidec)!==-1)t+=eB.indexOf(e[i]);else for(const n in gA){const[s,o]=gA[n];r>=s&&r<=o&&(t+=r-s)}}return parseInt(t,10)}else return t}let $u={};function iB(){$u={}}function Kn({numberingSystem:e},t=""){const i=e||"latn";return $u[i]||($u[i]={}),$u[i][t]||($u[i][t]=new RegExp(`${ax[i]}${t}`)),$u[i][t]}let vA=()=>Date.now(),bA="system",_A=null,wA=null,SA=null,xA=60,EA,TA=null;class ui{static get now(){return vA}static set now(t){vA=t}static set defaultZone(t){bA=t}static get defaultZone(){return qa(bA,O1.instance)}static get defaultLocale(){return _A}static set defaultLocale(t){_A=t}static get defaultNumberingSystem(){return wA}static set defaultNumberingSystem(t){wA=t}static get defaultOutputCalendar(){return SA}static set defaultOutputCalendar(t){SA=t}static get defaultWeekSettings(){return TA}static set defaultWeekSettings(t){TA=Z_(t)}static get twoDigitCutoffYear(){return xA}static set twoDigitCutoffYear(t){xA=t%100}static get throwOnInvalid(){return EA}static set throwOnInvalid(t){EA=t}static resetCaches(){xt.resetCache(),Xo.resetCache(),De.resetCache(),iB()}}class ls{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const C5=[0,31,59,90,120,151,181,212,243,273,304,334],N5=[0,31,60,91,121,152,182,213,244,274,305,335];function Dn(e,t){return new ls("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function lx(e,t,i){const r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const n=r.getUTCDay();return n===0?7:n}function P5(e,t,i){return i+(lm(e)?N5:C5)[t-1]}function L5(e,t){const i=lm(e)?N5:C5,r=i.findIndex(s=>s<t),n=t-i[r];return{month:r+1,day:n}}function cx(e,t){return(e-t+7)%7+1}function rg(e,t=4,i=1){const{year:r,month:n,day:s}=e,o=P5(r,n,s),a=cx(lx(r,n,s),i);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=r-1,l=fp(c,t,i)):l>fp(r,t,i)?(c=r+1,l=1):c=r,{weekYear:c,weekNumber:l,weekday:a,...P1(e)}}function AA(e,t=4,i=1){const{weekYear:r,weekNumber:n,weekday:s}=e,o=cx(lx(r,1,t),i),a=ch(r);let l=n*7+s-o-7+t,c;l<1?(c=r-1,l+=ch(c)):l>a?(c=r+1,l-=ch(r)):c=r;const{month:f,day:d}=L5(c,l);return{year:c,month:f,day:d,...P1(e)}}function ub(e){const{year:t,month:i,day:r}=e,n=P5(t,i,r);return{year:t,ordinal:n,...P1(e)}}function MA(e){const{year:t,ordinal:i}=e,{month:r,day:n}=L5(t,i);return{year:t,month:r,day:n,...P1(e)}}function IA(e,t){if(!Be(e.localWeekday)||!Be(e.localWeekNumber)||!Be(e.localWeekYear)){if(!Be(e.weekday)||!Be(e.weekNumber)||!Be(e.weekYear))throw new Wu("Cannot mix locale-based week fields with ISO-based week fields");return Be(e.localWeekday)||(e.weekday=e.localWeekday),Be(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Be(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function rB(e,t=4,i=1){const r=$1(e.weekYear),n=Fn(e.weekNumber,1,fp(e.weekYear,t,i)),s=Fn(e.weekday,1,7);return r?n?s?!1:Dn("weekday",e.weekday):Dn("week",e.weekNumber):Dn("weekYear",e.weekYear)}function nB(e){const t=$1(e.year),i=Fn(e.ordinal,1,ch(e.year));return t?i?!1:Dn("ordinal",e.ordinal):Dn("year",e.year)}function k5(e){const t=$1(e.year),i=Fn(e.month,1,12),r=Fn(e.day,1,ng(e.year,e.month));return t?i?r?!1:Dn("day",e.day):Dn("month",e.month):Dn("year",e.year)}function R5(e){const{hour:t,minute:i,second:r,millisecond:n}=e,s=Fn(t,0,23)||t===24&&i===0&&r===0&&n===0,o=Fn(i,0,59),a=Fn(r,0,59),l=Fn(n,0,999);return s?o?a?l?!1:Dn("millisecond",n):Dn("second",r):Dn("minute",i):Dn("hour",t)}function Be(e){return typeof e>"u"}function el(e){return typeof e=="number"}function $1(e){return typeof e=="number"&&e%1===0}function sB(e){return typeof e=="string"}function oB(e){return Object.prototype.toString.call(e)==="[object Date]"}function D5(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function F5(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function aB(e){return Array.isArray(e)?e:[e]}function OA(e,t,i){if(e.length!==0)return e.reduce((r,n)=>{const s=[t(n),n];return r&&i(r[0],s[0])===r[0]?r:s},null)[1]}function lB(e,t){return t.reduce((i,r)=>(i[r]=e[r],i),{})}function Ch(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Z_(e){if(e==null)return null;if(typeof e!="object")throw new pr("Week settings must be an object");if(!Fn(e.firstDay,1,7)||!Fn(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Fn(t,1,7)))throw new pr("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Fn(e,t,i){return $1(e)&&e>=t&&e<=i}function cB(e,t){return e-t*Math.floor(e/t)}function Ii(e,t=2){const i=e<0;let r;return i?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function ka(e){if(!(Be(e)||e===null||e===""))return parseInt(e,10)}function Ll(e){if(!(Be(e)||e===null||e===""))return parseFloat(e)}function ux(e){if(!(Be(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function hx(e,t,i=!1){const r=10**t;return(i?Math.trunc:Math.round)(e*r)/r}function lm(e){return e%4===0&&(e%100!==0||e%400===0)}function ch(e){return lm(e)?366:365}function ng(e,t){const i=cB(t-1,12)+1,r=e+(t-i)/12;return i===2?lm(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function C1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function $A(e,t,i){return-cx(lx(e,1,t),i)+t-1}function fp(e,t=4,i=1){const r=$A(e,t,i),n=$A(e+1,t,i);return(ch(e)-r+n)/7}function X_(e){return e>99?e:e>ui.twoDigitCutoffYear?1900+e:2e3+e}function U5(e,t,i,r=null){const n=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:t,...s},a=new Intl.DateTimeFormat(i,o).formatToParts(n).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function N1(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const r=parseInt(t,10)||0,n=i<0||Object.is(i,-0)?-r:r;return i*60+n}function j5(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new pr(`Invalid unit value ${e}`);return t}function sg(e,t){const i={};for(const r in e)if(Ch(e,r)){const n=e[r];if(n==null)continue;i[t(r)]=j5(n)}return i}function Md(e,t){const i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),n=e>=0?"+":"-";switch(t){case"short":return`${n}${Ii(i,2)}:${Ii(r,2)}`;case"narrow":return`${n}${i}${r>0?`:${r}`:""}`;case"techie":return`${n}${Ii(i,2)}${Ii(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function P1(e){return lB(e,["hour","minute","second","millisecond"])}const uB=["January","February","March","April","May","June","July","August","September","October","November","December"],G5=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],hB=["J","F","M","A","M","J","J","A","S","O","N","D"];function B5(e){switch(e){case"narrow":return[...hB];case"short":return[...G5];case"long":return[...uB];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const V5=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],z5=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],fB=["M","T","W","T","F","S","S"];function q5(e){switch(e){case"narrow":return[...fB];case"short":return[...z5];case"long":return[...V5];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const W5=["AM","PM"],dB=["Before Christ","Anno Domini"],pB=["BC","AD"],mB=["B","A"];function H5(e){switch(e){case"narrow":return[...mB];case"short":return[...pB];case"long":return[...dB];default:return null}}function yB(e){return W5[e.hour<12?0:1]}function gB(e,t){return q5(t)[e.weekday-1]}function vB(e,t){return B5(t)[e.month-1]}function bB(e,t){return H5(t)[e.year<0?0:1]}function _B(e,t,i="always",r=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&s){const d=e==="days";switch(t){case 1:return d?"tomorrow":`next ${n[e][0]}`;case-1:return d?"yesterday":`last ${n[e][0]}`;case 0:return d?"today":`this ${n[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=n[e],f=r?l?c[1]:c[2]||c[1]:l?n[e][0]:e;return o?`${a} ${f} ago`:`in ${a} ${f}`}function CA(e,t){let i="";for(const r of e)r.literal?i+=r.val:i+=t(r.val);return i}const wB={D:ig,DD:f5,DDD:d5,DDDD:p5,t:m5,tt:y5,ttt:g5,tttt:v5,T:b5,TT:_5,TTT:w5,TTTT:S5,f:x5,ff:T5,fff:M5,ffff:O5,F:E5,FF:A5,FFF:I5,FFFF:$5};class _r{static create(t,i={}){return new _r(t,i)}static parseFormat(t){let i=null,r="",n=!1;const s=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(r.length>0&&s.push({literal:n||/^\s+$/.test(r),val:r}),i=null,r="",n=!n):n||a===i?r+=a:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=a,i=a)}return r.length>0&&s.push({literal:n||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(t){return wB[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return Ii(t,i);const r={...this.opts};return i>0&&(r.padTo=i),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,i){const r=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,v)=>this.loc.extract(t,y,v),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>r?yB(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,v)=>r?vB(t,y):s(v?{month:y}:{month:y,day:"numeric"},"month"),c=(y,v)=>r?gB(t,y):s(v?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),f=y=>{const v=_r.macroTokenToFormatOpts(y);return v?this.formatWithSystemDefault(t,v):y},d=y=>r?bB(t,y):s({era:y},"era"),p=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return n?s({day:"numeric"},"day"):this.num(t.day);case"dd":return n?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return n?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return n?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return n?s({month:"numeric"},"month"):this.num(t.month);case"MM":return n?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return n?s({year:"numeric"},"year"):this.num(t.year);case"yy":return n?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return n?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return n?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return f(y)}};return CA(_r.parseFormat(i),p)}formatDurationFromString(t,i){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=l=>c=>{const f=r(c);return f?this.num(l.get(f),c.length):c},s=_r.parseFormat(i),o=s.reduce((l,{literal:c,val:f})=>c?l:l.concat(f),[]),a=t.shiftTo(...o.map(r).filter(l=>l));return CA(s,n(a))}}const Y5=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function hf(...e){const t=e.reduce((i,r)=>i+r.source,"");return RegExp(`^${t}$`)}function ff(...e){return t=>e.reduce(([i,r,n],s)=>{const[o,a,l]=s(t,n);return[{...i,...o},a||r,l]},[{},null,1]).slice(0,2)}function df(e,...t){if(e==null)return[null,null];for(const[i,r]of t){const n=i.exec(e);if(n)return r(n)}return[null,null]}function J5(...e){return(t,i)=>{const r={};let n;for(n=0;n<e.length;n++)r[e[n]]=ka(t[i+n]);return[r,null,i+n]}}const K5=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,SB=`(?:${K5.source}?(?:\\[(${Y5.source})\\])?)?`,fx=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Z5=RegExp(`${fx.source}${SB}`),dx=RegExp(`(?:T${Z5.source})?`),xB=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,EB=/(\d{4})-?W(\d\d)(?:-?(\d))?/,TB=/(\d{4})-?(\d{3})/,AB=J5("weekYear","weekNumber","weekDay"),MB=J5("year","ordinal"),IB=/(\d{4})-(\d\d)-(\d\d)/,X5=RegExp(`${fx.source} ?(?:${K5.source}|(${Y5.source}))?`),OB=RegExp(`(?: ${X5.source})?`);function uh(e,t,i){const r=e[t];return Be(r)?i:ka(r)}function $B(e,t){return[{year:uh(e,t),month:uh(e,t+1,1),day:uh(e,t+2,1)},null,t+3]}function pf(e,t){return[{hours:uh(e,t,0),minutes:uh(e,t+1,0),seconds:uh(e,t+2,0),milliseconds:ux(e[t+3])},null,t+4]}function cm(e,t){const i=!e[t]&&!e[t+1],r=N1(e[t+1],e[t+2]),n=i?null:wr.instance(r);return[{},n,t+3]}function um(e,t){const i=e[t]?Xo.create(e[t]):null;return[{},i,t+1]}const CB=RegExp(`^T?${fx.source}$`),NB=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function PB(e){const[t,i,r,n,s,o,a,l,c]=e,f=t[0]==="-",d=l&&l[0]==="-",p=(y,v=!1)=>y!==void 0&&(v||y&&f)?-y:y;return[{years:p(Ll(i)),months:p(Ll(r)),weeks:p(Ll(n)),days:p(Ll(s)),hours:p(Ll(o)),minutes:p(Ll(a)),seconds:p(Ll(l),l==="-0"),milliseconds:p(ux(c),d)}]}const LB={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function px(e,t,i,r,n,s,o){const a={year:t.length===2?X_(ka(t)):ka(t),month:G5.indexOf(i)+1,day:ka(r),hour:ka(n),minute:ka(s)};return o&&(a.second=ka(o)),e&&(a.weekday=e.length>3?V5.indexOf(e)+1:z5.indexOf(e)+1),a}const kB=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function RB(e){const[,t,i,r,n,s,o,a,l,c,f,d]=e,p=px(t,n,r,i,s,o,a);let y;return l?y=LB[l]:c?y=0:y=N1(f,d),[p,new wr(y)]}function DB(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const FB=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,UB=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,jB=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function NA(e){const[,t,i,r,n,s,o,a]=e;return[px(t,n,r,i,s,o,a),wr.utcInstance]}function GB(e){const[,t,i,r,n,s,o,a]=e;return[px(t,a,i,r,n,s,o),wr.utcInstance]}const BB=hf(xB,dx),VB=hf(EB,dx),zB=hf(TB,dx),qB=hf(Z5),Q5=ff($B,pf,cm,um),WB=ff(AB,pf,cm,um),HB=ff(MB,pf,cm,um),YB=ff(pf,cm,um);function JB(e){return df(e,[BB,Q5],[VB,WB],[zB,HB],[qB,YB])}function KB(e){return df(DB(e),[kB,RB])}function ZB(e){return df(e,[FB,NA],[UB,NA],[jB,GB])}function XB(e){return df(e,[NB,PB])}const QB=ff(pf);function eV(e){return df(e,[CB,QB])}const tV=hf(IB,OB),iV=hf(X5),rV=ff(pf,cm,um);function nV(e){return df(e,[tV,Q5],[iV,rV])}const PA="Invalid Duration",e6={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},sV={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...e6},Tn=146097/400,_u=146097/4800,oV={years:{quarters:4,months:12,weeks:Tn/7,days:Tn,hours:Tn*24,minutes:Tn*24*60,seconds:Tn*24*60*60,milliseconds:Tn*24*60*60*1e3},quarters:{months:3,weeks:Tn/28,days:Tn/4,hours:Tn*24/4,minutes:Tn*24*60/4,seconds:Tn*24*60*60/4,milliseconds:Tn*24*60*60*1e3/4},months:{weeks:_u/7,days:_u,hours:_u*24,minutes:_u*24*60,seconds:_u*24*60*60,milliseconds:_u*24*60*60*1e3},...e6},dc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],aV=dc.slice(0).reverse();function ma(e,t,i=!1){const r={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new ht(r)}function t6(e,t){let i=t.milliseconds??0;for(const r of aV.slice(1))t[r]&&(i+=t[r]*e[r].milliseconds);return i}function LA(e,t){const i=t6(e,t)<0?-1:1;dc.reduceRight((r,n)=>{if(Be(t[n]))return r;if(r){const s=t[r]*i,o=e[n][r],a=Math.floor(s/o);t[n]+=a*i,t[r]-=a*o*i}return n},null),dc.reduce((r,n)=>{if(Be(t[n]))return r;if(r){const s=t[r]%1;t[r]-=s,t[n]+=s*e[r][n]}return n},null)}function lV(e){const t={};for(const[i,r]of Object.entries(e))r!==0&&(t[i]=r);return t}class ht{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let r=i?oV:sV;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||xt.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,i){return ht.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new pr(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new ht({values:sg(t,ht.normalizeUnit),loc:xt.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(el(t))return ht.fromMillis(t);if(ht.isDuration(t))return t;if(typeof t=="object")return ht.fromObject(t);throw new pr(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[r]=XB(t);return r?ht.fromObject(r,i):ht.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[r]=eV(t);return r?ht.fromObject(r,i):ht.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new pr("need to specify a reason the Duration is invalid");const r=t instanceof ls?t:new ls(t,i);if(ui.throwOnInvalid)throw new NG(r);return new ht({invalid:r})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new h5(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?_r.create(this.loc,r).formatDurationFromString(this,t):PA}toHuman(t={}){if(!this.isValid)return PA;const i=dc.map(r=>{const n=this.values[r];return Be(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(n)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=hx(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},De.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?t6(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=ht.fromDurationLike(t),r={};for(const n of dc)(Ch(i.values,n)||Ch(this.values,n))&&(r[n]=i.get(n)+this.get(n));return ma(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const i=ht.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=j5(t(this.values[r],r));return ma(this,{values:i},!0)}get(t){return this[ht.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...sg(t,ht.normalizeUnit)};return ma(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:r,matrix:n}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:n,conversionAccuracy:r};return ma(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return LA(this.matrix,t),ma(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=lV(this.normalize().shiftToAll().toObject());return ma(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>ht.normalizeUnit(o));const i={},r={},n=this.toObject();let s;for(const o of dc)if(t.indexOf(o)>=0){s=o;let a=0;for(const c in r)a+=this.matrix[c][o]*r[c],r[c]=0;el(n[o])&&(a+=n[o]);const l=Math.trunc(a);i[o]=l,r[o]=(a*1e3-l*1e3)/1e3}else el(n[o])&&(r[o]=n[o]);for(const o in r)r[o]!==0&&(i[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return LA(this.matrix,i),ma(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return ma(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(r,n){return r===void 0||r===0?n===void 0||n===0:r===n}for(const r of dc)if(!i(this.values[r],t.values[r]))return!1;return!0}}const wu="Invalid Interval";function cV(e,t){return!e||!e.isValid?li.invalid("missing or invalid start"):!t||!t.isValid?li.invalid("missing or invalid end"):t<e?li.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class li{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new pr("need to specify a reason the Interval is invalid");const r=t instanceof ls?t:new ls(t,i);if(ui.throwOnInvalid)throw new CG(r);return new li({invalid:r})}static fromDateTimes(t,i){const r=Of(t),n=Of(i),s=cV(r,n);return s??new li({start:r,end:n})}static after(t,i){const r=ht.fromDurationLike(i),n=Of(t);return li.fromDateTimes(n,n.plus(r))}static before(t,i){const r=ht.fromDurationLike(i),n=Of(t);return li.fromDateTimes(n.minus(r),n)}static fromISO(t,i){const[r,n]=(t||"").split("/",2);if(r&&n){let s,o;try{s=De.fromISO(r,i),o=s.isValid}catch{o=!1}let a,l;try{a=De.fromISO(n,i),l=a.isValid}catch{l=!1}if(o&&l)return li.fromDateTimes(s,a);if(o){const c=ht.fromISO(n,i);if(c.isValid)return li.after(s,c)}else if(l){const c=ht.fromISO(r,i);if(c.isValid)return li.before(a,c)}}return li.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(t,i);let n;return i?.useLocaleWeeks?n=this.end.reconfigure({locale:r.locale}):n=this.end,n=n.startOf(t,i),Math.floor(n.diff(r,t).get(t))+(n.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?li.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(Of).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),r=[];let{s:n}=this,s=0;for(;n<this.e;){const o=i[s]||this.e,a=+o>+this.e?this.e:o;r.push(li.fromDateTimes(n,a)),n=a,s+=1}return r}splitBy(t){const i=ht.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,n=1,s;const o=[];for(;r<this.e;){const a=this.start.plus(i.mapUnits(l=>l*n));s=+a>+this.e?this.e:a,o.push(li.fromDateTimes(r,s)),r=s,n+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return i>=r?null:li.fromDateTimes(i,r)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return li.fromDateTimes(i,r)}static merge(t){const[i,r]=t.sort((n,s)=>n.s-s.s).reduce(([n,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[n,s.union(o)]:[n.concat([s]),o]:[n,o],[[],null]);return r&&i.push(r),i}static xor(t){let i=null,r=0;const n=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)r+=l.type==="s"?1:-1,r===1?i=l.time:(i&&+i!=+l.time&&n.push(li.fromDateTimes(i,l.time)),i=null);return li.merge(n)}difference(...t){return li.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:wu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=ig,i={}){return this.isValid?_r.create(this.s.loc.clone(i),t).formatInterval(this):wu}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:wu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:wu}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:wu}toFormat(t,{separator:i="  "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:wu}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):ht.invalid(this.invalidReason)}mapEndpoints(t){return li.fromDateTimes(t(this.s),t(this.e))}}class Zm{static hasDST(t=ui.defaultZone){const i=De.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return Xo.isValidZone(t)}static normalizeZone(t){return qa(t,ui.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||xt.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||xt.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||xt.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||xt.create(i,r,s)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||xt.create(i,r,s)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null}={}){return(n||xt.create(i,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null}={}){return(n||xt.create(i,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return xt.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return xt.create(i,null,"gregory").eras(t)}static features(){return{relative:D5(),localeWeek:F5()}}}function kA(e,t){const i=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(t)-i(e);return Math.floor(ht.fromMillis(r).as("days"))}function uV(e,t,i){const r=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const f=kA(l,c);return(f-f%7)/7}],["days",kA]],n={},s=e;let o,a;for(const[l,c]of r)i.indexOf(l)>=0&&(o=l,n[l]=c(e,t),a=s.plus(n),a>t?(n[l]--,e=s.plus(n),e>t&&(a=e,n[l]--,e=s.plus(n))):e=a);return[e,n,a,o]}function hV(e,t,i,r){let[n,s,o,a]=uV(e,t,i);const l=t-n,c=i.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<t&&(o=n.plus({[a]:1})),o!==n&&(s[a]=(s[a]||0)+l/(o-n)));const f=ht.fromObject(s,r);return c.length>0?ht.fromMillis(l,r).shiftTo(...c).plus(f):f}const fV="missing Intl.DateTimeFormat.formatToParts support";function yt(e,t=i=>i){return{regex:e,deser:([i])=>t(tB(i))}}const dV="",i6=`[ ${dV}]`,r6=new RegExp(i6,"g");function pV(e){return e.replace(/\./g,"\\.?").replace(r6,i6)}function RA(e){return e.replace(/\./g,"").replace(r6," ").toLowerCase()}function Zn(e,t){return e===null?null:{regex:RegExp(e.map(pV).join("|")),deser:([i])=>e.findIndex(r=>RA(i)===RA(r))+t}}function DA(e,t){return{regex:e,deser:([,i,r])=>N1(i,r),groups:t}}function Xm(e){return{regex:e,deser:([t])=>t}}function mV(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function yV(e,t){const i=Kn(t),r=Kn(t,"{2}"),n=Kn(t,"{3}"),s=Kn(t,"{4}"),o=Kn(t,"{6}"),a=Kn(t,"{1,2}"),l=Kn(t,"{1,3}"),c=Kn(t,"{1,6}"),f=Kn(t,"{1,9}"),d=Kn(t,"{2,4}"),p=Kn(t,"{4,6}"),y=E=>({regex:RegExp(mV(E.val)),deser:([x])=>x,literal:!0}),_=(E=>{if(e.literal)return y(E);switch(E.val){case"G":return Zn(t.eras("short"),0);case"GG":return Zn(t.eras("long"),0);case"y":return yt(c);case"yy":return yt(d,X_);case"yyyy":return yt(s);case"yyyyy":return yt(p);case"yyyyyy":return yt(o);case"M":return yt(a);case"MM":return yt(r);case"MMM":return Zn(t.months("short",!0),1);case"MMMM":return Zn(t.months("long",!0),1);case"L":return yt(a);case"LL":return yt(r);case"LLL":return Zn(t.months("short",!1),1);case"LLLL":return Zn(t.months("long",!1),1);case"d":return yt(a);case"dd":return yt(r);case"o":return yt(l);case"ooo":return yt(n);case"HH":return yt(r);case"H":return yt(a);case"hh":return yt(r);case"h":return yt(a);case"mm":return yt(r);case"m":return yt(a);case"q":return yt(a);case"qq":return yt(r);case"s":return yt(a);case"ss":return yt(r);case"S":return yt(l);case"SSS":return yt(n);case"u":return Xm(f);case"uu":return Xm(a);case"uuu":return yt(i);case"a":return Zn(t.meridiems(),0);case"kkkk":return yt(s);case"kk":return yt(d,X_);case"W":return yt(a);case"WW":return yt(r);case"E":case"c":return yt(i);case"EEE":return Zn(t.weekdays("short",!1),1);case"EEEE":return Zn(t.weekdays("long",!1),1);case"ccc":return Zn(t.weekdays("short",!0),1);case"cccc":return Zn(t.weekdays("long",!0),1);case"Z":case"ZZ":return DA(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return DA(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return Xm(/[a-z_+-/]{1,256}?/i);case" ":return Xm(/[^\S\n\r]/);default:return y(E)}})(e)||{invalidReason:fV};return _.token=e,_}const gV={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function vV(e,t,i){const{type:r,value:n}=e;if(r==="literal"){const l=/^\s+$/.test(n);return{literal:!l,val:l?" ":n}}const s=t[r];let o=r;r==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=i.hour12?"hour12":"hour24");let a=gV[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function bV(e){return[`^${e.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,e]}function _V(e,t,i){const r=e.match(t);if(r){const n={};let s=1;for(const o in i)if(Ch(i,o)){const a=i[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(n[a.token.val[0]]=a.deser(r.slice(s,s+l))),s+=l}return[r,n]}else return[r,{}]}function wV(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return Be(e.z)||(i=Xo.create(e.z)),Be(e.Z)||(i||(i=new wr(e.Z)),r=e.Z),Be(e.q)||(e.M=(e.q-1)*3+1),Be(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Be(e.u)||(e.S=ux(e.u)),[Object.keys(e).reduce((s,o)=>{const a=t(o);return a&&(s[a]=e[o]),s},{}),i,r]}let hb=null;function SV(){return hb||(hb=De.fromMillis(1555555555555)),hb}function xV(e,t){if(e.literal)return e;const i=_r.macroTokenToFormatOpts(e.val),r=a6(i,t);return r==null||r.includes(void 0)?e:r}function n6(e,t){return Array.prototype.concat(...e.map(i=>xV(i,t)))}class s6{constructor(t,i){if(this.locale=t,this.format=i,this.tokens=n6(_r.parseFormat(i),t),this.units=this.tokens.map(r=>yV(r,t)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,n]=bV(this.units);this.regex=RegExp(r,"i"),this.handlers=n}}explainFromTokens(t){if(this.isValid){const[i,r]=_V(t,this.regex,this.handlers),[n,s,o]=r?wV(r):[null,null,void 0];if(Ch(r,"a")&&Ch(r,"H"))throw new Wu("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:n,zone:s,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function o6(e,t,i){return new s6(e,i).explainFromTokens(t)}function EV(e,t,i){const{result:r,zone:n,specificOffset:s,invalidReason:o}=o6(e,t,i);return[r,n,s,o]}function a6(e,t){if(!e)return null;const r=_r.create(t,e).dtFormatter(SV()),n=r.formatToParts(),s=r.resolvedOptions();return n.map(o=>vV(o,e,s))}const fb="Invalid DateTime",FA=864e13;function Hf(e){return new ls("unsupported zone",`the zone "${e.name}" is not supported`)}function db(e){return e.weekData===null&&(e.weekData=rg(e.c)),e.weekData}function pb(e){return e.localWeekData===null&&(e.localWeekData=rg(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function kl(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new De({...i,...t,old:i})}function l6(e,t,i){let r=e-t*60*1e3;const n=i.offset(r);if(t===n)return[r,t];r-=(n-t)*60*1e3;const s=i.offset(r);return n===s?[r,n]:[e-Math.min(n,s)*60*1e3,Math.max(n,s)]}function Qm(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function J0(e,t,i){return l6(C1(e),t,i)}function UA(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),n=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:r,month:n,day:Math.min(e.c.day,ng(r,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=ht.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=C1(s);let[l,c]=l6(a,i,e.zone);return o!==0&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function Su(e,t,i,r,n,s){const{setZone:o,zone:a}=i;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=De.fromObject(e,{...i,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return De.invalid(new ls("unparsable",`the input "${n}" can't be parsed as ${r}`))}function e0(e,t,i=!0){return e.isValid?_r.create(xt.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function mb(e,t){const i=e.c.year>9999||e.c.year<0;let r="";return i&&e.c.year>=0&&(r+="+"),r+=Ii(e.c.year,i?6:4),t?(r+="-",r+=Ii(e.c.month),r+="-",r+=Ii(e.c.day)):(r+=Ii(e.c.month),r+=Ii(e.c.day)),r}function jA(e,t,i,r,n,s){let o=Ii(e.c.hour);return t?(o+=":",o+=Ii(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(o+=":")):o+=Ii(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(o+=Ii(e.c.second),(e.c.millisecond!==0||!r)&&(o+=".",o+=Ii(e.c.millisecond,3))),n&&(e.isOffsetFixed&&e.offset===0&&!s?o+="Z":e.o<0?(o+="-",o+=Ii(Math.trunc(-e.o/60)),o+=":",o+=Ii(Math.trunc(-e.o%60))):(o+="+",o+=Ii(Math.trunc(e.o/60)),o+=":",o+=Ii(Math.trunc(e.o%60)))),s&&(o+="["+e.zone.ianaName+"]"),o}const c6={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},TV={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},AV={ordinal:1,hour:0,minute:0,second:0,millisecond:0},u6=["year","month","day","hour","minute","second","millisecond"],MV=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],IV=["year","ordinal","hour","minute","second","millisecond"];function OV(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new h5(e);return t}function GA(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return OV(e)}}function $V(e){return Z0[e]||(K0===void 0&&(K0=ui.now()),Z0[e]=e.offset(K0)),Z0[e]}function BA(e,t){const i=qa(t.zone,ui.defaultZone);if(!i.isValid)return De.invalid(Hf(i));const r=xt.fromObject(t);let n,s;if(Be(e.year))n=ui.now();else{for(const l of u6)Be(e[l])&&(e[l]=c6[l]);const o=k5(e)||R5(e);if(o)return De.invalid(o);const a=$V(i);[n,s]=J0(e,a,i)}return new De({ts:n,zone:i,loc:r,o:s})}function VA(e,t,i){const r=Be(i.round)?!0:i.round,n=(o,a)=>(o=hx(o,r||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(o,a)),s=o=>i.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(i.unit)return n(s(i.unit),i.unit);for(const o of i.units){const a=s(o);if(Math.abs(a)>=1)return n(a,o)}return n(e>t?-0:0,i.units[i.units.length-1])}function zA(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}let K0,Z0={};class De{constructor(t){const i=t.zone||ui.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new ls("invalid input"):null)||(i.isValid?null:Hf(i));this.ts=Be(t.ts)?ui.now():t.ts;let n=null,s=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[n,s]=[t.old.c,t.old.o];else{const a=el(t.o)&&!t.old?t.o:i.offset(this.ts);n=Qm(this.ts,a),r=Number.isNaN(n.year)?new ls("invalid input"):null,n=r?null:n,s=r?null:a}this._zone=i,this.loc=t.loc||xt.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=n,this.o=s,this.isLuxonDateTime=!0}static now(){return new De({})}static local(){const[t,i]=zA(arguments),[r,n,s,o,a,l,c]=i;return BA({year:r,month:n,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,i]=zA(arguments),[r,n,s,o,a,l,c]=i;return t.zone=wr.utcInstance,BA({year:r,month:n,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,i={}){const r=oB(t)?t.valueOf():NaN;if(Number.isNaN(r))return De.invalid("invalid input");const n=qa(i.zone,ui.defaultZone);return n.isValid?new De({ts:r,zone:n,loc:xt.fromObject(i)}):De.invalid(Hf(n))}static fromMillis(t,i={}){if(el(t))return t<-FA||t>FA?De.invalid("Timestamp out of range"):new De({ts:t,zone:qa(i.zone,ui.defaultZone),loc:xt.fromObject(i)});throw new pr(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(el(t))return new De({ts:t*1e3,zone:qa(i.zone,ui.defaultZone),loc:xt.fromObject(i)});throw new pr("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const r=qa(i.zone,ui.defaultZone);if(!r.isValid)return De.invalid(Hf(r));const n=xt.fromObject(i),s=sg(t,GA),{minDaysInFirstWeek:o,startOfWeek:a}=IA(s,n),l=ui.now(),c=Be(i.specificOffset)?r.offset(l):i.specificOffset,f=!Be(s.ordinal),d=!Be(s.year),p=!Be(s.month)||!Be(s.day),y=d||p,v=s.weekYear||s.weekNumber;if((y||f)&&v)throw new Wu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new Wu("Can't mix ordinal dates with month/day");const _=v||s.weekday&&!y;let E,x,A=Qm(l,c);_?(E=MV,x=TV,A=rg(A,o,a)):f?(E=IV,x=AV,A=ub(A)):(E=u6,x=c6);let w=!1;for(const U of E){const j=s[U];Be(j)?w?s[U]=x[U]:s[U]=A[U]:w=!0}const b=_?rB(s,o,a):f?nB(s):k5(s),M=b||R5(s);if(M)return De.invalid(M);const I=_?AA(s,o,a):f?MA(s):s,[C,P]=J0(I,c,r),N=new De({ts:C,zone:r,o:P,loc:n});return s.weekday&&y&&t.weekday!==N.weekday?De.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${N.toISO()}`):N.isValid?N:De.invalid(N.invalid)}static fromISO(t,i={}){const[r,n]=JB(t);return Su(r,n,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[r,n]=KB(t);return Su(r,n,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[r,n]=ZB(t);return Su(r,n,i,"HTTP",i)}static fromFormat(t,i,r={}){if(Be(t)||Be(i))throw new pr("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:s=null}=r,o=xt.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0}),[a,l,c,f]=EV(o,t,i);return f?De.invalid(f):Su(a,l,r,`format ${i}`,t,c)}static fromString(t,i,r={}){return De.fromFormat(t,i,r)}static fromSQL(t,i={}){const[r,n]=nV(t);return Su(r,n,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new pr("need to specify a reason the DateTime is invalid");const r=t instanceof ls?t:new ls(t,i);if(ui.throwOnInvalid)throw new $G(r);return new De({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const r=a6(t,xt.fromObject(i));return r?r.map(n=>n?n.val:null).join(""):null}static expandFormat(t,i={}){return n6(_r.parseFormat(t),xt.fromObject(i)).map(n=>n.val).join("")}static resetCache(){K0=void 0,Z0={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?db(this).weekYear:NaN}get weekNumber(){return this.isValid?db(this).weekNumber:NaN}get weekday(){return this.isValid?db(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?pb(this).weekday:NaN}get localWeekNumber(){return this.isValid?pb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?pb(this).weekYear:NaN}get ordinal(){return this.isValid?ub(this.c).ordinal:NaN}get monthShort(){return this.isValid?Zm.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Zm.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Zm.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Zm.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,r=C1(this.c),n=this.zone.offset(r-t),s=this.zone.offset(r+t),o=this.zone.offset(r-n*i),a=this.zone.offset(r-s*i);if(o===a)return[this];const l=r-o*i,c=r-a*i,f=Qm(l,o),d=Qm(c,a);return f.hour===d.hour&&f.minute===d.minute&&f.second===d.second&&f.millisecond===d.millisecond?[kl(this,{ts:l}),kl(this,{ts:c})]:[this]}get isInLeapYear(){return lm(this.year)}get daysInMonth(){return ng(this.year,this.month)}get daysInYear(){return this.isValid?ch(this.year):NaN}get weeksInWeekYear(){return this.isValid?fp(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?fp(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:r,calendar:n}=_r.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:n}}toUTC(t=0,i={}){return this.setZone(wr.instance(t),i)}toLocal(){return this.setZone(ui.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(t=qa(t,ui.defaultZone),t.equals(this.zone))return this;if(t.isValid){let n=this.ts;if(i||r){const s=t.offset(this.ts),o=this.toObject();[n]=J0(o,s,t)}return kl(this,{ts:n,zone:t})}else return De.invalid(Hf(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:r}={}){const n=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:r});return kl(this,{loc:n})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=sg(t,GA),{minDaysInFirstWeek:r,startOfWeek:n}=IA(i,this.loc),s=!Be(i.weekYear)||!Be(i.weekNumber)||!Be(i.weekday),o=!Be(i.ordinal),a=!Be(i.year),l=!Be(i.month)||!Be(i.day),c=a||l,f=i.weekYear||i.weekNumber;if((c||o)&&f)throw new Wu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Wu("Can't mix ordinal dates with month/day");let d;s?d=AA({...rg(this.c,r,n),...i},r,n):Be(i.ordinal)?(d={...this.toObject(),...i},Be(i.day)&&(d.day=Math.min(ng(d.year,d.month),d.day))):d=MA({...ub(this.c),...i});const[p,y]=J0(d,this.o,this.zone);return kl(this,{ts:p,o:y})}plus(t){if(!this.isValid)return this;const i=ht.fromDurationLike(t);return kl(this,UA(this,i))}minus(t){if(!this.isValid)return this;const i=ht.fromDurationLike(t).negate();return kl(this,UA(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},n=ht.normalizeUnit(t);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks")if(i){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(n==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?_r.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):fb}toLocaleString(t=ig,i={}){return this.isValid?_r.create(this.loc.clone(i),t).formatDateTime(this):fb}toLocaleParts(t={}){return this.isValid?_r.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:n=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=mb(this,o);return a+="T",a+=jA(this,o,i,r,n,s),a}toISODate({format:t="extended"}={}){return this.isValid?mb(this,t==="extended"):null}toISOWeekDate(){return e0(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:n=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(n?"T":"")+jA(this,o==="extended",i,t,r,s):null}toRFC2822(){return e0(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return e0(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?mb(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let n="HH:mm:ss.SSS";return(i||t)&&(r&&(n+=" "),i?n+="z":t&&(n+="ZZ")),e0(this,n,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():fb}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",r={}){if(!this.isValid||!t.isValid)return ht.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=aB(i).map(ht.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=hV(a,l,s,n);return o?c.negate():c}diffNow(t="milliseconds",i={}){return this.diff(De.now(),t,i)}until(t){return this.isValid?li.fromDateTimes(this,t):this}hasSame(t,i,r){if(!this.isValid)return!1;const n=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(i,r)<=n&&n<=s.endOf(i,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||De.fromObject({},{zone:this.zone}),r=t.padding?this<i?-t.padding:t.padding:0;let n=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(n=t.unit,s=void 0),VA(i,this.plus(r),{...t,numeric:"always",units:n,unit:s})}toRelativeCalendar(t={}){return this.isValid?VA(t.base||De.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(De.isDateTime))throw new pr("min requires all arguments be DateTimes");return OA(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(De.isDateTime))throw new pr("max requires all arguments be DateTimes");return OA(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,r={}){const{locale:n=null,numberingSystem:s=null}=r,o=xt.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return o6(o,t,i)}static fromStringExplain(t,i,r={}){return De.fromFormatExplain(t,i,r)}static buildFormatParser(t,i={}){const{locale:r=null,numberingSystem:n=null}=i,s=xt.fromOpts({locale:r,numberingSystem:n,defaultToEN:!0});return new s6(s,t)}static fromFormatParser(t,i,r={}){if(Be(t)||Be(i))throw new pr("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:s=null}=r,o=xt.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});if(!o.equals(i.locale))throw new pr(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${i.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:f}=i.explainFromTokens(t);return f?De.invalid(f):Su(a,l,r,`format ${i.format}`,t,c)}static get DATE_SHORT(){return ig}static get DATE_MED(){return f5}static get DATE_MED_WITH_WEEKDAY(){return PG}static get DATE_FULL(){return d5}static get DATE_HUGE(){return p5}static get TIME_SIMPLE(){return m5}static get TIME_WITH_SECONDS(){return y5}static get TIME_WITH_SHORT_OFFSET(){return g5}static get TIME_WITH_LONG_OFFSET(){return v5}static get TIME_24_SIMPLE(){return b5}static get TIME_24_WITH_SECONDS(){return _5}static get TIME_24_WITH_SHORT_OFFSET(){return w5}static get TIME_24_WITH_LONG_OFFSET(){return S5}static get DATETIME_SHORT(){return x5}static get DATETIME_SHORT_WITH_SECONDS(){return E5}static get DATETIME_MED(){return T5}static get DATETIME_MED_WITH_SECONDS(){return A5}static get DATETIME_MED_WITH_WEEKDAY(){return LG}static get DATETIME_FULL(){return M5}static get DATETIME_FULL_WITH_SECONDS(){return I5}static get DATETIME_HUGE(){return O5}static get DATETIME_HUGE_WITH_SECONDS(){return $5}}function Of(e){if(De.isDateTime(e))return e;if(e&&e.valueOf&&el(e.valueOf()))return De.fromJSDate(e);if(e&&typeof e=="object")return De.fromObject(e);throw new pr(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const hm="system",mx="unknown",dp="UTC",CV=Intl.DateTimeFormat().resolvedOptions().timeZone,NV="shortOffset";function PV(e){return"timeZoneIANA"in e}function LV(e){return e.startsWith("UTC")}function U0e(e,t=!1){return{json:{read:{source:e,reader:(i,r)=>r[e]?kV(r[e]):null},write:!!t&&{allowNull:!0,writer(i,r){r[e]=i?RV(i):null}}}}}function kV(e,t=hm){return e?PV(e)?e.timeZoneIANA:DV(e,t):t}function RV(e){return{timeZoneIANA:e}}function DV(e,t=hm){if(!e||!pA.has(e.timeZone))return t;const i=pA.get(e.timeZone);return LV(e.timeZone)||e.respectsDaylightSaving?i:FV(i)}function FV(e){const t=De.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${wr.instance(-i).formatOffset(0,"narrow")}`}function j0e(e,t,i,r,n){if(t&&n==="date")return{timeZone:dp,timeZoneName:void 0};const s=r.timeStyle||r.hour,o=i===mx;return{timeZone:o?n==="timestamp-offset"?void 0:e??dp:i,timeZoneName:o&&s?NV:void 0}}function G0e(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));return e===hm||e===mx||t.has(e.toLowerCase())||i.has(e.toLowerCase())}const UV={year:void 0,month:void 0,day:void 0,weekday:void 0},jV={hour:void 0,minute:void 0,second:void 0},h6={timeZone:dp},Cs={year:"numeric",month:"numeric",day:"numeric"},$f={year:"numeric",month:"long",day:"numeric"},Cf={year:"numeric",month:"short",day:"numeric"},Nf={year:"numeric",month:"long",weekday:"long",day:"numeric"},Ra={hour:"numeric",minute:"numeric"},zl={...Ra,second:"numeric"},f6={hourCycle:"h23"},Pf={...Ra,...f6},Lf={...zl,...f6},d6={"short-date":Cs,"short-date-short-time":{...Cs,...Ra},"short-date-short-time-24":{...Cs,...Pf},"short-date-long-time":{...Cs,...zl},"short-date-long-time-24":{...Cs,...Lf},"short-date-le":Cs,"short-date-le-short-time":{...Cs,...Ra},"short-date-le-short-time-24":{...Cs,...Pf},"short-date-le-long-time":{...Cs,...zl},"short-date-le-long-time-24":{...Cs,...Lf},"long-month-day-year":$f,"long-month-day-year-short-time":{...$f,...Ra},"long-month-day-year-short-time-24":{...$f,...Pf},"long-month-day-year-long-time":{...$f,...zl},"long-month-day-year-long-time-24":{...$f,...Lf},"day-short-month-year":Cf,"day-short-month-year-short-time":{...Cf,...Ra},"day-short-month-year-short-time-24":{...Cf,...Pf},"day-short-month-year-long-time":{...Cf,...zl},"day-short-month-year-long-time-24":{...Cf,...Lf},"long-date":Nf,"long-date-short-time":{...Nf,...Ra},"long-date-short-time-24":{...Nf,...Pf},"long-date-long-time":{...Nf,...zl},"long-date-long-time-24":{...Nf,...Lf},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Ra,"long-time":zl},GV=Es()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),p6={ar:"ar-u-nu-latn-ca-gregory"};let Q_=new WeakMap;const L1=d6["short-date-short-time"];function BV(e){let t=Q_.get(e);if(!t){const i=ro(),r=p6[i]||i,n=VV(e.timeZone??hm),s={...e,timeZone:n};t=new Intl.DateTimeFormat(r,s),Q_.set(e,t)}return t}function B0e(e){return d6[e]}function yx(e,t=L1){return BV(t).format(e)}function V0e(e,t=L1){return yx(new Date(e),{...t,...h6,...jV})}function z0e(e,t=L1){return yx(new Date(`1970-01-01T${e}Z`),{...t,...h6,...UV})}function q0e(e,t=L1){if(t.timeZone)return yx(new Date(e),t);const i=De.fromISO(e,{setZone:!0}),r=ro(),n=p6[r]??r,s=i.offset===0?dp:t.timeZone,o={...t,timeZone:s};return i.toLocaleString(o,{locale:n})}function VV(e){switch(e){case hm:return CV;case mx:return dp;default:return e}}ox(()=>{Q_=new WeakMap});const zV={ar:"ar-u-nu-latn"};let X0=new WeakMap,m6={};function e2(e){const t=e||m6;if(!X0.has(t)){const i=ro(),r=zV[ro()]||i;X0.set(t,new Intl.NumberFormat(r,e))}return X0.get(t)}function W0e(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function H0e(e,t){return Object.is(e,-0)&&(e=0),e2(t).format(e)}function Y0e(e,t=ro()){if(!e)return null;let i=qA.get(t);if(!i){const r=e2().formatToParts(12345.6),n=[...e2({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(n.map((d,p)=>[d,p])),o=new RegExp(`[${r.find(d=>d.type==="group")?.value}]`,"g"),a=new RegExp(`[${r.find(d=>d.type==="decimal")?.value}]`),l=new RegExp(`[${n.join("")}]`,"g"),c=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,f=/[-\u2212\u2013\u2014\u2015]/g;i=d=>{if((d=d.trim().replaceAll(o,"").replace(a,".").replace(l,y=>String(s.get(y))).replaceAll(c,"").replaceAll(f,"-"))==="")return null;const p=Number(d);return isNaN(p)?null:p},qA.set(t,i)}return i(e)}ox(()=>{X0=new WeakMap,m6={}});const qA=new Map,WA=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,qV={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function HA(e){return e in qV}const Yf=[],hh=new Map;function YA(e){for(const t of hh.keys())y6(e.pattern,t)&&hh.delete(t)}function WV(e){return Yf.includes(e)||(YA(e),Yf.unshift(e)),Ei(()=>{const t=Yf.indexOf(e);t>-1&&(Yf.splice(t,1),YA(e))})}async function J0e(e){const t=ro();hh.has(e)||hh.set(e,YV(e,t));const i=hh.get(e);return i&&await JV.add(i),i}function HV(e){if(!WA.test(e))return null;const t=WA.exec(e);if(t===null)return null;const[,i,r]=t,n=i+(r?"-"+r.toUpperCase():"");return HA(n)?n:HA(i)?i:null}async function YV(e,t){const i=[];for(const r of Yf)if(y6(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(n){i.push(n)}throw i.length?new ot("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:i}):new ot("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function y6(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}ox(()=>{hh.clear()});const JV=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Eh())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function KV(e,t,i,r){const n=t.exec(i);if(!n)throw new ot("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${t}"`);const s=n[1]?`${n[1]}/`:"",o=n[2],a=HV(r),l=`${s}${o}.json`,c=a?`${s}${o}_${a}.json`:l;let f;try{f=await JA(e(c))}catch(d){if(c===l)throw new ot("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:d});try{f=await JA(e(l))}catch(p){throw new ot("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:p})}}return f}async function JA(e){if(KA.fetchBundleAsset!=null)return KA.fetchBundleAsset(e);const t=await wi(e,{responseType:"text"});return JSON.parse(t.data)}let ZV=class{constructor({base:t="",pattern:i,location:r=new URL(window.location.href)}){let n;n=typeof r=="string"?s=>new URL(s,new URL(r,window.location.href)).href:r instanceof URL?s=>new URL(s,r).href:r,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=n,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,i){return KV(this.getAssetUrl,this.matcher,t,i)}};function XV(e){return new ZV(e)}const KA={};WV(XV({pattern:"esri/",location:pC}));function gx(e){return typeof e=="string"||e instanceof String}var fh;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(fh||(fh={}));const QV=[fh.HMS_MS,fh.HMS,fh.HM,"TT"],ez="yyyy-MM-dd";fh.HMS;function ZA(e){if(!e||!gx(e))return null;const t=De.fromFormat(e,ez);return t.isValid?t:null}function XA(e){return e&&gx(e)?FD(QV,t=>{const i=De.fromFormat(e,t);return i.isValid?i:null})??null:null}function QA(e){if(!e||!gx(e))return null;const t=De.fromISO(e);return t.isValid?t:null}var Nh;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(Nh||(Nh={}));const tz=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function iz(e){return e!=null&&tz.has(e.type)}function g6(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function v6(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function b6(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function rz(e,t,i){const r=e?.domain;if(!r)return null;switch(r.type){case"range":{const{min:n,max:s}=nz(e);if(n!=null&&+t<n||s!=null&&+t>s)return Nh.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(r.codedValues==null||r.codedValues.every(n=>n==null||n.code!==t))return Nh.INVALID_CODED_VALUE}return null}function nz(e,t){const i=e?.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,n="range"in i?i.range[1]:i.maxValue,s=iz(e);return g6(e)||b6(e)||v6(e)?{...sz(e,n,r),isInteger:s}:{min:r!=null&&typeof r=="number"?r:null,max:n!=null&&typeof n=="number"?n:null,rawMin:r,rawMax:n,isInteger:s}}function sz(e,t,i){return g6(e)?{min:ZA(i)?.toMillis(),max:ZA(t)?.toMillis(),rawMin:i,rawMax:t}:b6(e)?{min:XA(i)?.toMillis(),max:XA(t)?.toMillis(),rawMin:i,rawMax:t}:v6(e)?{min:QA(i)?.toMillis(),max:QA(t)?.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}const oz=()=>Pt.getLogger("esri.support.arcadeOnDemand");let yb;function _6(){return yb||(yb=(async()=>{const e=await xe(()=>import("./arcadeUtils-46P448ty.js").then(t=>t.i),__vite__mapDeps([11,1,12,9,10,13,14,15,16,17,18,19,20,21,22,23,4]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),yb}const Z0e=(e,t,i)=>w6.create(e,t,i,null,["$feature","$view"],[]),X0e=(e,t,i,r)=>w6.create(e,t,i,r,["$feature","$view"],[]);let w6=class S6{constructor(t,i,r,n,s,o,a){this.services=null,this.script=t,this.evaluate=n;const l=Array.isArray(o)?o:o?.fields;this.fields=l??[],this._syntaxTree=r,this._arcade=i,this._arcadeFeature=s,this._spatialReference=a,this._referencesGeometry=i.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,i,r,n,s,o){const{arcade:a,Feature:l,Dictionary:c}=await _6(),f=i instanceof zi?i:zi.fromJSON(i);let d;try{d=a.parseScript(t,o)}catch(P){return oz().error(new ot("arcade-bad-expression","Failed to parse arcade script",{script:t,error:P})),null}const p=s.reduce((P,N)=>({...P,[N]:null}),{});let y=null;n!=null&&(y=new c(n),y.immutable=!0,p.$config=null);const v=a.scriptUsesGeometryEngine(d),_=v&&a.enableGeometrySupport(),E=a.scriptUsesFeatureSet(d)&&a.enableFeatureSetSupport(),x=a.scriptIsAsync(d),A=x&&a.enableAsyncSupport(),w={vars:p,spatialReference:f,useAsync:!!A};await Promise.all([_,E,A]);const b=new Set;await a.loadDependentModules(b,d,null,x,v);const M=new c;M.immutable=!1,M.setField("scale",0);const I=a.compileScript(d,w),C=(P,N)=>{const U=P.$view?.timeZone;return"$view"in P&&P.$view&&(M.setField("scale",typeof P.$view=="object"&&"scale"in P.$view?P.$view.scale:void 0),P.$view=M),y&&(P.$config=y),I({vars:P,spatialReference:f,services:N,timeZone:U})};return new S6(t,a,d,C,new l,r,f)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const az=/^([0-9_])/,lz=/[^a-z0-9_\u0080-\uffff]+/gi;function Q0e(e){return e==null?null:e.trim().replaceAll(lz,"_").replace(az,"F$1")||null}const cz=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],uz=["field","normalizationField"];function eye(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(e4(cz,i,t),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)e4(uz,r,t)}}function e4(e,t,i){if(e)for(const r of e){const n=$S(r,t),s=n&&typeof n!="function"&&i.get(n);s&&af(r,s.name,t)}}function tye(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const i=t.get(e.startField),r=t.get(e.endField);e.startField=i?.name??null,e.endField=r?.name??null}else{const i=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=i?.name??null,e.endTimeField=r?.name??null}}const gb=new Set;function vx(e,t){return e&&t?(gb.clear(),pp(gb,e,t),Array.from(gb).sort()):[]}function pp(e,t,i){if(i)if(t?.fields?.length)if(i.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of i)k1(e,t,r);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const r of i)r!=null&&e.add(r)}}function k1(e,t,i){if(typeof i=="string")if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function iye(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}function rye(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=vx(e,t);return r.length/e.fields.length>=i?["*"]:r}async function Gc(e,t,i){if(!i)return;const{arcadeUtils:r}=await _6(),n=r.extractFieldNames(i,t?.fields?.map(s=>s.name));for(const s of n)k1(e,t,s)}async function x6(e,t,i){if(i&&i!=="1=1"){const r=await IG(i,t);if(!r.isStandardized)throw new ot("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});pp(e,t,r.fieldNames)}}function nye({displayField:e,fields:t}){return e||(t?.length?vb(t,"name-or-title")||vb(t,"unique-identifier")||vb(t,"type-or-category")||hz(t):null)}function hz(e){for(const t of e){if(!t?.name)continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function vb(e,t){for(const i of e)if(i?.valueType&&i.valueType===t)return i.name;return null}async function sye(e,t){if(!t)return;const i=t.elevationInfo?.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function fz(e,t,i){i.onStatisticExpression?Gc(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function oye(e,t,i){if(!t||!i||!("fields"in i))return;const r=[],n=i.popupTemplate;r.push(dz(e,t,n)),i.fields&&r.push(...i.fields.map(async s=>fz(e,t.fieldsIndex,s))),await Promise.all(r)}async function dz(e,t,i){const r=[];i?.expressionInfos&&r.push(...i.expressionInfos.map(s=>Gc(e,t.fieldsIndex,s.expression)));const n=i?.content;if(Array.isArray(n))for(const s of n)s.type==="expression"&&s.expressionInfo&&r.push(Gc(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(r)}async function aye(e,t,i){t&&(t.timeInfo&&i?.timeExtent&&pp(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&pp(e,t.fieldsIndex,[t.floorInfo.floorField]),i?.where!=null&&await x6(e,t.fieldsIndex,i.where))}async function lye(e,t,i){t&&i&&await Promise.all(i.map(r=>pz(e,t,r)))}async function pz(e,t,i){t&&i&&(i.valueExpression?await Gc(e,t.fieldsIndex,i.valueExpression):i.field&&k1(e,t.fieldsIndex,i.field))}function cye(e){return e?vx(e.fieldsIndex,E6(e)):[]}function mz(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?vx(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const yz=new Set(["oid","global-id","guid"]),gz=new Set(["oid","global-id"]),vz=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function bz(e){const t=new Set;T6(e).forEach(r=>t.add(r)),mz(e).forEach(r=>t.add(r.toLowerCase()));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function E6(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:r,editDateField:n,editorField:s}=t;return[i,r,n,s].filter(Boolean)}function T6(e){return E6(e).map(t=>t.toLowerCase())}function uye(e,t){return e.editable&&!yz.has(e.type)&&!T6(t).includes(e.name?.toLowerCase()??"")}function hye(e,t){const i=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&i===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&i===t.globalIdField.toLowerCase()||bz(t).includes(i)||gz.has(e.type)||vz.some(r=>r.test(i)))}async function fye(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i?.length&&await Promise.all(i.map(n=>_z(e,r,n)))}async function _z(e,t,i){if(!i)return;const r=i.getLabelExpression(),n=i.where;if(r.type==="arcade")await Gc(e,t,r.expression);else{const s=r.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{k1(e,t,o.slice(1,-1))})}await x6(e,t,n)}function dye(e){const t=e.defaultValue;return t!==void 0&&I6(e,t)?t:e.nullable?null:void 0}function pye(e){const t=typeof e=="string"?{type:e}:e;return Nz(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function A6(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function wz(e){return e===null||A6(e)}function Sz(e){return e===null||Number.isInteger(e)}function M6(e){return e!=null&&typeof e=="string"}function xz(e){return e===null||M6(e)}function Ez(){return!0}function I6(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?Sz:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?wz:A6;break;case"string":case"esriFieldTypeString":i=e.nullable?xz:M6;break;default:i=Ez}return arguments.length===1?i:i(t)}const Tz=["integer","small-integer","big-integer"],Az=["single","double"],Mz=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],Iz=["esriFieldTypeSingle","esriFieldTypeDouble"],O6=new Set([...Tz,...Mz]),Oz=new Set([...Az,...Iz]),$z=q$(O6,Oz);function mye(e){return e!=null&&O6.has(e.type)}function Cz(e){return e!=null&&$z.has(e.type)}function Nz(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function yye(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function gye(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function vye(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function bye(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function _ye(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function wye(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function Sye(e,t){return Pz(e,t)===null}var og,ag;function xye(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function Pz(e,t){return e==null||e.nullable&&t===null?null:Cz(e)&&!Lz(e.type,Number(t))?og.OUT_OF_RANGE:I6(e,t)?e.domain?rz(e,t):null:ag.INVALID_TYPE}function Lz(e,t){const i=typeof e=="string"?$6(e):e;if(!i)return!1;const r=i.min,n=i.max;return i.isInteger?Number.isInteger(t)&&t>=r&&t<=n:t>=r&&t<=n}function $6(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return kz;case"esriFieldTypeInteger":case"integer":return Rz;case"esriFieldTypeBigInteger":case"big-integer":return Dz;case"esriFieldTypeSingle":case"single":return Fz;case"esriFieldTypeDouble":case"double":return Uz}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(og||(og={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(ag||(ag={}));const kz={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Rz={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Dz={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Fz={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},Uz={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Eye(e,t,i){switch(e){case Nh.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Nh.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case ag.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case og.OUT_OF_RANGE:{const{min:r,max:n}=$6(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${n}`}}}function Tye(e,t){return!jz(e,t,null)}function jz(e,t,i){if(!t?.attributes||!e)return!0;const r=new Set(Object.keys(t.attributes));let n=!1;for(const s of e)if(!r.has(s)&&(n=!0,i==null))break;return n}function Aye(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function Gz(e){const t=e?.match(/{[^}]+}/g);return t?t.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let Q0=class extends tt{constructor(t){super(t),this.type=null}};g([T({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],Q0.prototype,"type",void 0),Q0=g([ie("esri.popup.content.Content")],Q0);const ra=Q0;var t2;let ql=t2=class extends ra{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new t2({description:this.description,displayType:this.displayType,title:this.title})}};g([T({type:String,json:{write:!0}})],ql.prototype,"description",void 0),g([T({type:["auto","preview","list"],json:{write:!0}})],ql.prototype,"displayType",void 0),g([T({type:String,json:{write:!0}})],ql.prototype,"title",void 0),g([T({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],ql.prototype,"type",void 0),ql=t2=g([ie("esri.popup.content.AttachmentsContent")],ql);const mp=ql;var i2;let Wl=i2=class extends ra{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new i2({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ge(this.outFields):null})}};g([T()],Wl.prototype,"creator",void 0),g([T()],Wl.prototype,"destroyer",void 0),g([T()],Wl.prototype,"outFields",void 0),g([T({type:["custom"],readOnly:!0})],Wl.prototype,"type",void 0),Wl=i2=g([ie("esri.popup.content.CustomContent")],Wl);const Bz=Wl;var r2;let Cu=r2=class extends tt{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new r2({title:this.title,expression:this.expression})}};g([T({type:String,json:{write:!0}})],Cu.prototype,"title",void 0),g([T({type:String,json:{write:!0}})],Cu.prototype,"expression",void 0),g([T({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Cu.prototype,"returnType",void 0),Cu=r2=g([ie("esri.popup.ElementExpressionInfo")],Cu);const Vz=Cu;var n2;let Jf=n2=class extends ra{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new n2({expressionInfo:this.expressionInfo?.clone()})}};g([T({type:Vz,json:{write:!0}})],Jf.prototype,"expressionInfo",void 0),g([T({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Jf.prototype,"type",void 0),Jf=n2=g([ie("esri.popup.content.ExpressionContent")],Jf);const R1=Jf;function at(e,t={}){const i=e instanceof Zo?e:new Zo(e,t),{alwaysWriteDefaults:r,default:n,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=t;return T({type:s?i.apiValues:String,json:{type:i.jsonValues,default:n,name:o,read:!l&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:a,readOnly:l})}let Nu=class extends ia(tt){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};g([at(GV)],Nu.prototype,"dateFormat",void 0),g([T({type:Boolean,json:{write:!0}})],Nu.prototype,"digitSeparator",void 0),g([T({type:Bi,json:{write:!0}})],Nu.prototype,"places",void 0),Nu=g([ie("esri.popup.support.FieldInfoFormat")],Nu);const zz=Nu;var s2;let Qn=s2=class extends tt{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new s2({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};g([T({type:String,json:{write:!0}})],Qn.prototype,"fieldName",void 0),g([T({type:zz,json:{write:!0}})],Qn.prototype,"format",void 0),g([T({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Qn.prototype,"isEditable",void 0),g([T({type:String,json:{write:!0}})],Qn.prototype,"label",void 0),g([at(new Zo({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Qn.prototype,"stringFieldOption",void 0),g([T({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Qn.prototype,"statisticType",void 0),g([T({type:String,json:{write:!0}})],Qn.prototype,"tooltip",void 0),g([T({type:Boolean,json:{write:!0}})],Qn.prototype,"visible",void 0),Qn=s2=g([ie("esri.popup.FieldInfo")],Qn);const C6=Qn;var o2;let Oo=o2=class extends ra{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new o2(ge({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};g([T({type:Object,json:{write:!0}})],Oo.prototype,"attributes",void 0),g([T({type:String,json:{write:!0}})],Oo.prototype,"description",void 0),g([T({type:[C6]})],Oo.prototype,"fieldInfos",void 0),g([ni("fieldInfos")],Oo.prototype,"writeFieldInfos",null),g([T({type:String,json:{write:!0}})],Oo.prototype,"title",void 0),g([T({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Oo.prototype,"type",void 0),Oo=o2=g([ie("esri.popup.content.FieldsContent")],Oo);const yp=Oo;let Hl=class extends tt{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};g([T({type:String,json:{write:!0}})],Hl.prototype,"altText",void 0),g([T({type:String,json:{write:!0}})],Hl.prototype,"caption",void 0),g([T({type:String,json:{write:!0}})],Hl.prototype,"title",void 0),g([T({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Hl.prototype,"type",void 0),Hl=g([ie("esri.popup.content.mixins.MediaInfo")],Hl);const bx=Hl;var a2;let Yl=a2=class extends Xi{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new a2({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};g([T()],Yl.prototype,"color",void 0),g([T()],Yl.prototype,"fieldName",void 0),g([T()],Yl.prototype,"tooltip",void 0),g([T()],Yl.prototype,"value",void 0),Yl=a2=g([ie("esri.popup.content.support.ChartMediaInfoValueSeries")],Yl);const qz=Yl;var l2;let Sa=l2=class extends tt{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new l2({colors:ge(this.colors),fields:ge(this.fields),normalizeField:this.normalizeField,series:ge(this.series),tooltipField:this.tooltipField})}};g([T({type:[mt],json:{type:[[Bi]],write:!0}})],Sa.prototype,"colors",void 0),g([T({type:[String],json:{write:!0}})],Sa.prototype,"fields",void 0),g([T({type:String,json:{write:!0}})],Sa.prototype,"normalizeField",void 0),g([T({type:[qz],json:{read:!1}})],Sa.prototype,"series",void 0),g([T({type:String,json:{write:!0}})],Sa.prototype,"tooltipField",void 0),Sa=l2=g([ie("esri.popup.content.support.ChartMediaInfoValue")],Sa);const Wz=Sa;let Kf=class extends bx{constructor(t){super(t),this.type=null,this.value=void 0}};g([T({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Kf.prototype,"type",void 0),g([T({type:Wz,json:{write:!0}})],Kf.prototype,"value",void 0),Kf=g([ie("esri.popup.content.mixins.ChartMediaInfo")],Kf);const D1=Kf,F1=Es()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var c2;let ey=c2=class extends D1{constructor(e){super(e),this.type="bar-chart"}clone(){return new c2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([T({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:F1.write}})],ey.prototype,"type",void 0),ey=c2=g([ie("esri.popup.content.BarChartMediaInfo")],ey);const N6=ey;var u2;let ty=u2=class extends D1{constructor(e){super(e),this.type="column-chart"}clone(){return new u2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([T({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:F1.write}})],ty.prototype,"type",void 0),ty=u2=g([ie("esri.popup.content.ColumnChartMediaInfo")],ty);const P6=ty;var h2;let Zf=h2=class extends tt{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new h2({linkURL:this.linkURL,sourceURL:this.sourceURL})}};g([T({type:String,json:{write:!0}})],Zf.prototype,"linkURL",void 0),g([T({type:String,json:{write:!0}})],Zf.prototype,"sourceURL",void 0),Zf=h2=g([ie("esri.popup.content.support.ImageMediaInfoValue")],Zf);const Hz=Zf;var f2;let Pu=f2=class extends bx{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new f2({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};g([T({type:Number,json:{write:!0}})],Pu.prototype,"refreshInterval",void 0),g([T({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],Pu.prototype,"type",void 0),g([T({type:Hz,json:{write:!0}})],Pu.prototype,"value",void 0),Pu=f2=g([ie("esri.popup.content.ImageMediaInfo")],Pu);const L6=Pu;var d2;let iy=d2=class extends D1{constructor(e){super(e),this.type="line-chart"}clone(){return new d2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([T({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:F1.write}})],iy.prototype,"type",void 0),iy=d2=g([ie("esri.popup.content.LineChartMediaInfo")],iy);const k6=iy;var p2;let ry=p2=class extends D1{constructor(e){super(e),this.type="pie-chart"}clone(){return new p2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([T({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:F1.write}})],ry.prototype,"type",void 0),ry=p2=g([ie("esri.popup.content.PieChartMediaInfo")],ry);const R6=ry,m2={base:bx,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":N6,"column-chart":P6,"line-chart":k6,"pie-chart":R6,image:L6}};var y2;let es=y2=class extends ra{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?L6.fromJSON(t):t.type==="barchart"?N6.fromJSON(t):t.type==="columnchart"?P6.fromJSON(t):t.type==="linechart"?k6.fromJSON(t):t.type==="piechart"?R6.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new y2(ge({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};g([T()],es.prototype,"activeMediaInfoIndex",void 0),g([T({type:Object,json:{write:!0}})],es.prototype,"attributes",void 0),g([T({type:String,json:{write:!0}})],es.prototype,"description",void 0),g([T({types:[m2]})],es.prototype,"mediaInfos",void 0),g([Zi("mediaInfos")],es.prototype,"readMediaInfos",null),g([ni("mediaInfos")],es.prototype,"writeMediaInfos",null),g([T({type:String,json:{write:!0}})],es.prototype,"title",void 0),g([T({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],es.prototype,"type",void 0),es=y2=g([ie("esri.popup.content.MediaContent")],es);const gp=es;var g2;let Xf=g2=class extends tt{constructor(e){super(e),this.field=null,this.order=null}clone(){return new g2({field:this.field,order:this.order})}};g([T({type:String,json:{write:!0}})],Xf.prototype,"field",void 0),g([T({type:["asc","desc"],json:{write:!0}})],Xf.prototype,"order",void 0),Xf=g2=g([ie("esri.popup.support.RelatedRecordsInfoFieldOrder")],Xf);const D6=Xf;let Rs=class extends ia(ra){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};g([T({type:String,json:{write:!0}})],Rs.prototype,"description",void 0),g([T({type:Number,json:{type:Bi,write:!0}})],Rs.prototype,"displayCount",void 0),g([T({type:["list"],json:{write:!0}})],Rs.prototype,"displayType",void 0),g([T({type:[D6],json:{write:!0}})],Rs.prototype,"orderByFields",void 0),g([T({type:Number,json:{type:Bi,write:!0}})],Rs.prototype,"relationshipId",void 0),g([T({type:String,json:{write:!0}})],Rs.prototype,"title",void 0),g([T({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Rs.prototype,"type",void 0),Rs=g([ie("esri.popup.content.RelationshipContent")],Rs);const vp=Rs;var v2;let Qf=v2=class extends ra{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new v2({text:this.text})}};g([T({type:String,json:{write:!0}})],Qf.prototype,"text",void 0),g([T({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Qf.prototype,"type",void 0),Qf=v2=g([ie("esri.popup.content.TextContent")],Qf);const bp=Qf;let Ds=class extends ia(tt){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.open=!1,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};g([T({type:String,json:{write:!0}})],Ds.prototype,"title",void 0),g([T({type:String,json:{write:!0}})],Ds.prototype,"description",void 0),g([T({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Ds.prototype,"type",void 0),g([T({type:Boolean,json:{read:!1}})],Ds.prototype,"open",void 0),g([T({type:Number,json:{type:Bi,write:!0}})],Ds.prototype,"associatedNetworkSourceId",void 0),g([T({type:Number,json:{type:Bi,write:!0}})],Ds.prototype,"associatedAssetGroup",void 0),g([T({type:Number,json:{type:Bi,write:!0}})],Ds.prototype,"associatedAssetType",void 0),Ds=g([ie("esri.popup.support.UtilityNetworkAssociationType")],Ds);const Yz=Ds;let Jl=class extends ia(ra){constructor(t){super(t),this.description=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};g([T({type:String,json:{write:!0}})],Jl.prototype,"description",void 0),g([T({type:String,json:{write:!0}})],Jl.prototype,"title",void 0),g([T({type:[Yz],json:{write:!0}})],Jl.prototype,"associationTypes",void 0),g([at({utilityNetworkAssociations:"utility-network-associations"})],Jl.prototype,"type",void 0),Jl=g([ie("esri.popup.content.UtilityNetworkAssociationsContent")],Jl);const _x=Jl,Jz={base:null,key:"type",typeMap:{attachment:mp,media:gp,text:bp,expression:R1,field:yp,relationship:vp,utilityNetworkAssociations:_x}},Kz={base:null,key:"type",typeMap:{attachment:mp,media:gp,text:bp,expression:R1,field:yp,relationship:vp}};var b2;let Kl=b2=class extends tt{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new b2({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};g([T({type:String,json:{write:!0}})],Kl.prototype,"name",void 0),g([T({type:String,json:{write:!0}})],Kl.prototype,"title",void 0),g([T({type:String,json:{write:!0}})],Kl.prototype,"expression",void 0),g([T({type:["string","number"],json:{write:!0}})],Kl.prototype,"returnType",void 0),Kl=b2=g([ie("esri.popup.ExpressionInfo")],Kl);const Zz=Kl;var _2;let ed=_2=class extends tt{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new _2({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};g([T({type:Boolean,json:{write:!0}})],ed.prototype,"returnTopmostRaster",void 0),g([T({type:Boolean,json:{write:!0}})],ed.prototype,"showNoDataRecords",void 0),ed=_2=g([ie("esri.popup.LayerOptions")],ed);const Xz=ed;var w2;let td=w2=class extends tt{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new w2({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ge(this.orderByFields):null})}};g([T({type:Boolean,json:{write:!0}})],td.prototype,"showRelatedRecords",void 0),g([T({type:[D6],json:{write:!0}})],td.prototype,"orderByFields",void 0),td=w2=g([ie("esri.popup.RelatedRecordsInfo")],td);const t4=td;let F6=0;const U6=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+F6++})}};return t=g([ie("esri.core.Identifiable")],t),t},Lye=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:F6++})}};return t=g([ie("esri.core.Identifiable.NumericIdentifiable")],t),t};let i4=class extends U6(class{}){};i4=g([ie("esri.core.Identifiable")],i4);var S2;let On=S2=class extends U6(Xi){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new S2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};g([T()],On.prototype,"active",void 0),g([T()],On.prototype,"className",void 0),g([T()],On.prototype,"disabled",void 0),g([T()],On.prototype,"icon",void 0),g([T()],On.prototype,"id",void 0),g([T()],On.prototype,"indicator",void 0),g([T()],On.prototype,"title",void 0),g([T()],On.prototype,"type",void 0),g([T()],On.prototype,"visible",void 0),On=S2=g([ie("esri.support.actions.ActionBase")],On);const wx=On;var x2;let ny=x2=class extends wx{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new x2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};g([T()],ny.prototype,"image",void 0),ny=x2=g([ie("esri.support.actions.ActionButton")],ny);const Qz=ny;var E2;let id=E2=class extends wx{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new E2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};g([T()],id.prototype,"image",void 0),g([T()],id.prototype,"value",void 0),id=E2=g([ie("esri.support.actions.ActionToggle")],id);const eq=id,kf="relationships/",r4="expression/",tq=jt.ofType({key:"type",defaultKeyValue:"button",base:wx,typeMap:{button:Qz,toggle:eq}}),iq={base:ra,key:"type",typeMap:{media:gp,custom:Bz,text:bp,attachments:mp,fields:yp,expression:R1,relationship:vp,utilityNetworkAssociations:_x}},j6=new Set(["attachments","fields","media","text","expression","relationship"]),rq=new Set([...j6,"utility-network-associations"]);let Ai=class extends ia(tt){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>Oc(iq,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||G$(t)?t:(Pt.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(t,i,r,n){this._writePopupTemplateContent(t,i,n)}writeWebMapContent(t,i,r,n){this._writePopupTemplateContent(t,i,n)}writeFieldInfos(t,i,r,n){const{content:s}=this,o=Array.isArray(s)?s:null;if(t){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>c.fieldInfos?.length);i.fieldInfos=t.filter(Boolean).map(c=>{const f=c.toJSON(n);return l&&(f.visible=!1),f})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,i)}writeLayerOptions(t,i,r,n){i[r]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(n)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,[...r,...this._getContentExpressionInfos(this.content,r)]),pp(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const i=new Set;return await this.collectRequiredFields(i,t),[...i].sort()}_writePopupTemplateContent(t,i,r){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(n=>r?.origin==="web-scene"?j6.has(n.type):rq.has(n.type)).map(n=>n?.toJSON(r)),i.popupElements.forEach(n=>{n.type==="attachments"?this._writeAttachmentContent(i):n.type==="media"?this._writeMediaContent(n,i):n.type==="text"?this._writeTextContent(n,i):n.type==="relationship"&&this._writeRelationshipContent(n,i)})):i.description=t}_writeFieldsContent(t,i){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const r=ge(t.fieldInfos);Array.isArray(i.fieldInfos)?r.forEach(n=>{const s=i.fieldInfos.find(o=>o.fieldName?.toLowerCase()===n.fieldName?.toLowerCase());s?s.visible=!0:i.fieldInfos.push(n)}):i.fieldInfos=r}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){const r=t.orderByFields?.map(s=>this._toFieldOrderJSON(s,t.relationshipId))||[],n=[...i.relatedRecordsInfo?.orderByFields||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...n?.length&&{orderByFields:n}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const r=ge(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(t,i,r){const n={description:!1,mediaInfos:!1};return r.map(s=>s.type==="media"?(s.mediaInfos||!i||n.mediaInfos||(s.mediaInfos=i,n.mediaInfos=!0),gp.fromJSON(s)):s.type==="text"?(s.text||!t||n.description||(s.text=t,n.description=!0),bp.fromJSON(s)):s.type==="attachments"?mp.fromJSON(s):s.type==="fields"?yp.fromJSON(s):s.type==="expression"?R1.fromJSON(s):s.type==="relationship"?vp.fromJSON(s):s.type==="utilityNetworkAssociations"?_x.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:r}=t;if(!i?.startsWith(kf))return null;const n=i.replace(kf,"").split("/");if(n.length!==2)return null;const s=parseInt(n[0],10),o=n[1];return typeof s=="number"&&o?vp.fromJSON({relationshipId:s,orderByFields:[{field:o,order:r}]}):null}_toFieldOrderJSON(t,i){const{order:r,field:n}=t;return{field:`${kf}${i}/${n}`,order:r}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:r,relatedRecordsInfo:n={showRelatedRecords:!1}}){const s=[];t?s.push(new bp({text:t})):s.push(new yp),Array.isArray(i)&&i.length&&s.push(gp.fromJSON({mediaInfos:i})),r&&s.push(mp.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=n;return o&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&s.push(c)}),s.length?s:t}_getContentElementFields(t){const i=t?.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const r=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...r.reduce((n,s)=>[...n,...this._getMediaInfoFields(s)],[])]}return i==="text"?this._extractFieldNames(t.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:i,title:r,value:n}=t,s=n||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:f}=s,d=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(c),...this._extractFieldNames(f),...o??[]];return a&&d.push(a),l&&d.push(l),d}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((r,n)=>[...r,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(t,i,r){r&&await Promise.all(r.map(n=>Gc(t,i,n.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(kf)||i.startsWith(r4))).map(i=>i.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(t){const{className:i,title:r,type:n}=t,s=n==="button"||n==="toggle"?t.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return Gz(t).filter(i=>!(i.indexOf(kf)===0||i.indexOf(r4)===0))}};g([T({type:tq})],Ai.prototype,"actions",void 0),g([T()],Ai.prototype,"content",void 0),g([nm("content")],Ai.prototype,"castContent",null),g([Zi("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Ai.prototype,"readContent",null),g([ni("web-scene","content",{popupElements:{type:jt.ofType(Kz)},showAttachments:{type:Boolean},mediaInfos:{type:jt.ofType(m2)},description:{type:String},relatedRecordsInfo:{type:t4}})],Ai.prototype,"writeWebSceneContent",null),g([ni("content",{popupElements:{type:jt.ofType(Jz)},showAttachments:{type:Boolean},mediaInfos:{type:jt.ofType(m2)},description:{type:String},relatedRecordsInfo:{type:t4}})],Ai.prototype,"writeWebMapContent",null),g([T({type:[Zz],json:{write:!0}})],Ai.prototype,"expressionInfos",void 0),g([T({type:[C6]})],Ai.prototype,"fieldInfos",void 0),g([ni("fieldInfos")],Ai.prototype,"writeFieldInfos",null),g([T({type:Xz})],Ai.prototype,"layerOptions",void 0),g([ni("layerOptions")],Ai.prototype,"writeLayerOptions",null),g([T({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ai.prototype,"lastEditInfoEnabled",void 0),g([T()],Ai.prototype,"outFields",void 0),g([T()],Ai.prototype,"overwriteActions",void 0),g([T()],Ai.prototype,"returnGeometry",void 0),g([T({json:{type:String}})],Ai.prototype,"title",void 0),g([ni("title")],Ai.prototype,"writeTitle",null),Ai=g([ie("esri.PopupTemplate")],Ai);const nq=Ai,n4=new Zo({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let sq=0,Lu=class extends tt{constructor(t){super(t),this.id="sym"+sq++,this.type=null,this.color=new mt([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};g([T({type:n4.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:n4.write}}})],Lu.prototype,"type",void 0),g([T({type:mt,json:{write:{allowNull:!0}}})],Lu.prototype,"color",void 0),g([Zi("color")],Lu.prototype,"readColor",null),Lu=g([ie("esri.symbols.Symbol")],Lu);const Er=Lu;var T2;let xa=T2=class extends Er{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const r=i.map(n=>{const s=n.valueExpressionInfo;return s?Gc(e,t,s.expression):null});await Promise.all(r)}}}clone(){return new T2({data:ge(this.data)})}hash(){return r$(JSON.stringify(this.data)).toString()}};g([T({json:{write:!1}})],xa.prototype,"color",void 0),g([T({json:{write:!0}})],xa.prototype,"data",void 0),g([Zi("data",["symbol"])],xa.prototype,"readData",null),g([ni("data",{})],xa.prototype,"writeData",null),g([at({CIMSymbolReference:"cim"},{readOnly:!0})],xa.prototype,"type",void 0),xa=T2=g([ie("esri.symbols.CIMSymbol")],xa);const tu=xa;let ku=class extends tt{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,i,r){t||(i[r]=t)}};g([T({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],ku.prototype,"enabled",void 0),g([ni("enabled")],ku.prototype,"writeEnabled",null),g([T({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],ku.prototype,"type",void 0),ku=g([ie("esri.symbols.Symbol3DLayer")],ku);const _o=ku,oq=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,aq="screenUtils.toPt: input not recognized!",G6=96;function Uye(e){return e?e/72*G6:0}function ho(e){return e?72*e/G6:0}function ei(e){if(typeof e=="string"){const t=e.match(oq);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),n=e.charAt(0)==="-",s=r==="px"?ho(i):i;return n?-s:s}return console.warn(aq),null}return e}function lq(e=0,t=0){return{x:e,y:t}}function jye(e){return e?lq(e.x,e.y):null}function Gye(e=0,t=0){return[e,t]}function Bye(e=0,t=0,i=0){return[e,t,i]}function Vye(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function cq(e){const t=CS(100*(1-e));return Math.max(0,Math.min(t,100))}function uq(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function hq(e,t){const i=t.transparency!=null?uq(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new mt([r[0]||0,r[1]||0,r[2]||0,i]):null}function fq(e,t){t.color=e.toJSON().slice(0,3);const i=cq(e.a);i!==0&&(t.transparency=i)}const yl={type:mt,json:{type:[Bi],default:null,read:{source:["color","transparency"],reader:hq},write:{target:{color:{type:[Bi]},transparency:{type:Bi}},writer:fq}}},fo={type:Number,cast:ei,json:{write:!0}};let Zl=class extends tt{constructor(t){super(t),this.color=new mt([0,0,0,1]),this.extensionLength=0,this.size=ho(1)}clone(){}cloneProperties(){return{color:ge(this.color),size:this.size,extensionLength:this.extensionLength}}};g([T({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Zl.prototype,"type",void 0),g([T(yl)],Zl.prototype,"color",void 0),g([T({...fo,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Zl.prototype,"extensionLength",void 0),g([T(fo)],Zl.prototype,"size",void 0),Zl=g([ie("esri.symbols.edges.Edges3D")],Zl);const Sx=Zl;var A2;let sy=A2=class extends Sx{constructor(e){super(e),this.type="sketch"}clone(){return new A2(this.cloneProperties())}};g([at({sketch:"sketch"},{readOnly:!0})],sy.prototype,"type",void 0),sy=A2=g([ie("esri.symbols.edges.SketchEdges3D")],sy);const dq=sy;var M2;let oy=M2=class extends Sx{constructor(e){super(e),this.type="solid"}clone(){return new M2(this.cloneProperties())}};g([at({solid:"solid"},{readOnly:!0})],oy.prototype,"type",void 0),oy=M2=g([ie("esri.symbols.edges.SolidEdges3D")],oy);const B6=oy,V6={types:{key:"type",base:Sx,typeMap:{solid:B6,sketch:dq}},json:{write:!0}};function xx(){return[0,0,0]}function Ex(e){return[e[0],e[1],e[2]]}function mf(e,t,i){return[e,t,i]}function pq(e,t,i){return[e,t,i]}function mq(e,t=xx()){const i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function yq(e,t){return new Float64Array(e,t,3)}function z6(){return xx()}function q6(){return mf(1,1,1)}function W6(){return mf(1,0,0)}function H6(){return mf(0,1,0)}function Y6(){return mf(0,0,1)}const gq=z6(),vq=q6(),bq=W6(),_q=H6(),wq=Y6();Object.freeze(Object.defineProperty({__proto__:null,ONES:vq,UNIT_X:bq,UNIT_Y:_q,UNIT_Z:wq,ZEROS:gq,clone:Ex,create:xx,createView:yq,freeze:pq,fromArray:mq,fromValues:mf,ones:q6,unitX:W6,unitY:H6,unitZ:Y6,zeros:z6},Symbol.toStringTag,{value:"Module"}));var I2;let dn=I2=class extends tt{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?Ex(this.emissiveFactor):null};return new I2(e)}};g([T(yl)],dn.prototype,"color",void 0),g([T({type:[Number],json:{write:!1}})],dn.prototype,"emissiveFactor",void 0),dn=I2=g([ie("esri.symbols.support.Symbol3DMaterial")],dn);var O2;let Ea=O2=class extends _o{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new O2({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};g([at({Extrude:"extrude"},{readOnly:!0})],Ea.prototype,"type",void 0),g([T({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Ea.prototype,"size",void 0),g([T({type:dn,json:{write:!0}})],Ea.prototype,"material",void 0),g([T({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ea.prototype,"castShadows",void 0),g([T(V6)],Ea.prototype,"edges",void 0),Ea=O2=g([ie("esri.symbols.ExtrudeSymbol3DLayer")],Ea);const J6=Ea;let rd=class extends Er{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};g([at({esriSLS:"simple-line"},{readOnly:!0})],rd.prototype,"type",void 0),g([T({type:Number,cast:ei,json:{write:!0}})],rd.prototype,"width",void 0),rd=g([ie("esri.symbols.LineSymbol")],rd);const Sq=rd,xq=["begin","end","begin-end"],K6=["arrow","circle","square","diamond","cross","x"];var $2;let Fs=$2=class extends tt{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,r){t[i]=r?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,r){r?.origin==="web-map"||(t[i]=e)}clone(){return new $2({color:ge(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};g([T({type:["begin","end","begin-end"],json:{write:!0}})],Fs.prototype,"placement",void 0),g([at({"line-marker":"line-marker"},{readOnly:!0}),T({json:{origins:{"web-map":{write:!1}}}})],Fs.prototype,"type",void 0),g([T({type:K6})],Fs.prototype,"style",void 0),g([ni("style")],Fs.prototype,"writeStyle",null),g([T({type:mt,value:null,json:{write:{allowNull:!0}}})],Fs.prototype,"color",null),g([Zi("color")],Fs.prototype,"readColor",null),g([ni("color")],Fs.prototype,"writeColor",null),Fs=$2=g([ie("esri.symbols.LineSymbolMarker")],Fs);const Eq=Fs;var C2;const bb=new Zo({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let $o=C2=class extends Sq{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,r,n,s){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),i!=null&&(o.width=ei(i)),r!=null&&(o.cap=r),n!=null&&(o.join=n),s!=null&&(o.miterLimit=ei(s)),o}clone(){return new C2({color:ge(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};g([at({esriSLS:"simple-line"},{readOnly:!0})],$o.prototype,"type",void 0),g([T({type:bb.apiValues,json:{read:bb.read,write:bb.write}})],$o.prototype,"style",void 0),g([T({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&i?.origin==null})}}})],$o.prototype,"cap",void 0),g([T({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&i?.origin==null})}}})],$o.prototype,"join",void 0),g([T({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Eq}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],$o.prototype,"marker",void 0),g([T({type:Number,json:{read:!1,write:!1}})],$o.prototype,"miterLimit",void 0),$o=C2=g([ie("esri.symbols.SimpleLineSymbol")],$o);const Ts=$o;let nd=class extends Er{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};g([T({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ts}},json:{default:null,write:!0}})],nd.prototype,"outline",void 0),g([T({type:["simple-fill","picture-fill"],readOnly:!0})],nd.prototype,"type",void 0),nd=g([ie("esri.symbols.FillSymbol")],nd);const Z6=nd;let ay=class extends tt{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};g([T({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ay.prototype,"type",void 0),ay=g([ie("esri.symbols.patterns.LinePattern3D")],ay);const X6=ay,Tq=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var N2;const Aq=Es()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let sd=N2=class extends X6{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new N2(e)}};g([T({type:["style"]})],sd.prototype,"type",void 0),g([at(Aq),T({type:Tq})],sd.prototype,"style",void 0),sd=N2=g([ie("esri.symbols.patterns.LineStylePattern3D")],sd);const Tx=sd;let ly=class extends tt{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};g([T({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ly.prototype,"type",void 0),ly=g([ie("esri.symbols.patterns.Pattern3D")],ly);const Q6=ly,Mq=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var P2;let od=P2=class extends Q6{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new P2({style:this.style})}};g([T({type:["style"]})],od.prototype,"type",void 0),g([T({type:Mq,json:{read:!0,write:!0}})],od.prototype,"style",void 0),od=P2=g([ie("esri.symbols.patterns.StylePattern3D")],od);const eN=od,Iq={types:{key:"type",base:Q6,typeMap:{style:eN}},json:{write:!0}},tN={types:{key:"type",base:X6,typeMap:{style:Tx}},json:{write:!0}},Id=new mt("white");new mt("black");const Oq=new mt([255,255,255,0]);function $q(e){return e.r===0&&e.g===0&&e.b===0}var L2;let Od=L2=class extends dn{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?Ex(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new L2(e)}};g([at({multiply:"multiply",replace:"replace",tint:"tint"})],Od.prototype,"colorMixMode",void 0),Od=L2=g([ie("esri.symbols.support.Symbol3DFillMaterial")],Od);function Cq(e,t=!1){return e<=JO?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function Jye(e){return(YO(e)?e.length:e.byteLength/8)<=JO?Array.from(e):new Float64Array(e)}function Kye(e,t,i){return Array.isArray(e)?e.slice(t,t+i):e.subarray(t,t+i)}function fm(e=Lq){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function Ax(e,t,i,r,n,s,o=fm()){return o[0]=e,o[1]=t,o[2]=i,o[3]=r,o[4]=n,o[5]=s,o}function Zye(e,t=fm()){return Nq(e,0,e.length/3,t)}function Nq(e,t,i,r=fm()){return iN(r,k2),Pq(r,e,t,i),r}function Xye(e,t=Cq(24)){const[i,r,n,s,o,a]=e;return t[0]=i,t[1]=r,t[2]=n,t[3]=i,t[4]=r,t[5]=a,t[6]=i,t[7]=o,t[8]=n,t[9]=i,t[10]=o,t[11]=a,t[12]=s,t[13]=r,t[14]=n,t[15]=s,t[16]=r,t[17]=a,t[18]=s,t[19]=o,t[20]=n,t[21]=s,t[22]=o,t[23]=a,t}function Qye(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new zn(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function ege(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function tge(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function Pq(e,t,i=0,r=t.length/3){let n=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let f=0;f<r;f++)n=Math.min(n,t[i+3*f]),s=Math.min(s,t[i+3*f+1]),o=Math.min(o,t[i+3*f+2]),a=Math.max(a,t[i+3*f]),l=Math.max(l,t[i+3*f+1]),c=Math.max(c,t[i+3*f+2]);e[0]=n,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function Mx(e){return e[0]>=e[3]?0:e[3]-e[0]}function Ix(e){return e[1]>=e[4]?0:e[4]-e[1]}function Ox(e){return e[2]>=e[5]?0:e[5]-e[2]}function ige(e){const t=Mx(e),i=Ox(e),r=Ix(e);return Math.sqrt(t*t+i*i+r*r)}function rge(e,t=[0,0,0]){return t[0]=e[0]+Mx(e)/2,t[1]=e[1]+Ix(e)/2,t[2]=e[2]+Ox(e)/2,t}function nge(e,t=[0,0,0]){return t[0]=Mx(e),t[1]=Ix(e),t[2]=Ox(e),t}function sge(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function oge(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function iN(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function age(e){return e?iN(e,k2):fm(k2)}function lge(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function cge(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=n,e[5]=Number.POSITIVE_INFINITY,e}function s4(e){return e.length===6}function uge(e,t,i){if(e==null||t==null)return e===t;if(!s4(e)||!s4(t))return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const k2=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Lq=[0,0,0,0,0,0];fm();function hge(e,{isPrimitive:t,width:i,depth:r,height:n}){const s=t?10:1;if(i==null&&n==null&&r==null)return[s*e[0],s*e[1],s*e[2]];const o=mf(i,r,n);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*a);return o}const kq=Ax(-.5,-.5,-.5,.5,.5,.5),Rq=Ax(-.5,-.5,0,.5,.5,1),Dq=Ax(-.5,-.5,0,.5,.5,.5);function fge(e){switch(e){case"sphere":case"cube":case"diamond":return kq;case"cylinder":case"cone":case"inverted-cone":return Rq;case"tetrahedron":return Dq;default:return}}const $x=["butt","square","round"],Fq=[...$x,"none"],rN=["miter","bevel","round"];var R2;let Xl=R2=class extends tt{constructor(e){super(e),this.color=new mt([0,0,0,1]),this.size=ho(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new R2(e)}};g([T(yl)],Xl.prototype,"color",void 0),g([T(fo)],Xl.prototype,"size",void 0),g([T(tN)],Xl.prototype,"pattern",void 0),g([T({type:$x,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Xl.prototype,"patternCap",void 0),Xl=R2=g([ie("esri.symbols.support.Symbol3DOutline")],Xl);var cy;let Co=cy=class extends _o{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new cy(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new Tx({style:e.outline.style}):null,i={size:e.outline?.width??0,color:(e.outline?.color??Id).clone(),pattern:t};return t&&e.outline?.cap&&(i.patternCap=e.outline.cap),new cy({material:new Od({color:(e.color??Oq).clone()}),pattern:e.style&&e.style!=="solid"?new eN({style:e.style}):null,outline:i})}};g([at({Fill:"fill"},{readOnly:!0})],Co.prototype,"type",void 0),g([T({type:Od,json:{write:!0}})],Co.prototype,"material",void 0),g([T(Iq)],Co.prototype,"pattern",void 0),g([T({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Co.prototype,"castShadows",void 0),g([T({type:Xl,json:{write:!0}})],Co.prototype,"outline",void 0),g([T(V6)],Co.prototype,"edges",void 0),Co=cy=g([ie("esri.symbols.FillSymbol3DLayer")],Co);const iu=Co,Uq=["none","underline","line-through"],jq=["normal","italic","oblique"],Gq=["normal","lighter","bold","bolder"],nN={type:Number,cast:e=>{const t=g1(e);return t===0?1:d1(t,.1,4)},nonNullable:!0},Bq=["left","right","center"],Vq=["baseline","top","middle","bottom"],sN={type:Bq,nonNullable:!0},oN={type:Vq,nonNullable:!0},dge=8;var D2;let No=D2=class extends tt{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return ei(e)}clone(){return new D2({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};g([T({type:Uq,json:{default:"none",write:!0}})],No.prototype,"decoration",void 0),g([T({type:String,json:{write:!0}})],No.prototype,"family",void 0),g([T({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],No.prototype,"size",void 0),g([nm("size")],No.prototype,"castSize",null),g([T({type:jq,json:{default:"normal",write:!0}})],No.prototype,"style",void 0),g([T({type:Gq,json:{default:"normal",write:!0}})],No.prototype,"weight",void 0),No=D2=g([ie("esri.symbols.Font")],No);const U1=No;function dm(e,t){const i=t?.url?.path;if(e&&i&&(e=im(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const r=aC(e,t.portalItem.itemUrl);r!=null&&zq.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return(e=F2(e,t?.portal))&&G1.test(e)?lN(e):e}function j1(e,t,i=wp.YES){if((e=e&&G1.test(e)?cN(e):e)==null)return e;!ps(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=im(e);if(t){const n=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(n){const s=F2(n,t.portal),o=F2(r,t.portal);r=aC(o,s,s),r!=null&&r!==o&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=aN(r,t?.portal),ps(r)&&(r=Qa(r)),t?.resources&&t?.portalItem&&!ps(r)&&!uf(r)&&i===wp.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function Cx(e,t,i){return dm(e,i)}function _p(e,t,i,r){const n=j1(e,r);n!==void 0&&(t[i]=n)}const G1=/\/items\/([^/]+)\/resources\/(.*)/,zq=/^\.\/resources\//;function qq(e){return(e?.match(G1)??null)?.[1]??null}function Wq(e){const t=e?.match(G1)??null;if(t==null)return null;const i=t[2],r=i.lastIndexOf("/");if(r===-1){const{path:o,extension:a}=KT(i);return{prefix:null,filename:o,extension:a}}const{path:n,extension:s}=KT(i.slice(r+1));return{prefix:i.slice(0,r),filename:n,extension:s}}function aN(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?M_(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function F2(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=qS();return Th(r,`${r.scheme}://${i}`)?M_(e,t.portalHostname,i):M_(e,i,t.portalHostname)}function lN(e){if(!e)return e||null;let t=e;return t&&Yt&&!Yt.findCredential(t)&&(t=iC(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function cN(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Yt&&!Yt.findCredential(t)&&(t=iC(t)),t}var wp;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(wp||(wp={}));const pge=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return wp},ensureMainOnlineDomain:aN,fromCDNUrl:cN,fromJSON:dm,itemIdFromResourceUrl:qq,prefixAndFilenameFromResourceUrl:Wq,read:Cx,toCDNUrl:lN,toJSON:j1,write:_p},Symbol.toStringTag,{value:"Module"}));var U2;const Hq=Es()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Ql=U2=class extends tt{constructor(e){super(e)}readHref(e,t,i){return e?dm(e,i):t.dataURI}writeHref(e,t,i,r){e&&(uf(e)?t.dataURI=e:(t.href=j1(e,r),ps(t.href)&&(t.href=Qa(t.href))))}clone(){return new U2({href:this.href,primitive:this.primitive})}};g([T({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Ql.prototype,"href",void 0),g([Zi("href")],Ql.prototype,"readHref",null),g([ni("href",{href:{type:String},dataURI:{type:String}})],Ql.prototype,"writeHref",null),g([at(Hq)],Ql.prototype,"primitive",void 0),Ql=U2=g([ie("esri.symbols.support.IconSymbol3DLayerResource")],Ql);var j2;let Hu=j2=class extends Xi{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new j2({x:this.x,y:this.y})}};g([T({type:Number})],Hu.prototype,"x",void 0),g([T({type:Number})],Hu.prototype,"y",void 0),Hu=j2=g([ie("esri.symbols.support.Symbol3DAnchorPosition2D")],Hu);var G2;let ad=G2=class extends tt{constructor(e){super(e),this.color=new mt([0,0,0,1]),this.size=ho(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new G2(e)}};g([T(yl)],ad.prototype,"color",void 0),g([T(fo)],ad.prototype,"size",void 0),ad=G2=g([ie("esri.symbols.support.Symbol3DIconOutline")],ad);var Ru;const uN="esri.symbols.IconSymbol3DLayer";let ts=Ru=class extends _o{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Ru({anchor:this.anchor,anchorPosition:ge(this.anchorPosition),enabled:this.enabled,material:ge(this.material),outline:ge(this.outline),resource:ge(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Id,i=o4(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Id).clone()}:null;return new Ru({size:e.size,angle:e.angle,resource:{primitive:Jq(e.style)},material:{color:t},outline:r,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||$q(e.color)?Id:e.color,i=o4(e);return new Ru({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new Ru({resource:{href:lC({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};g([T({type:dn,json:{write:!0}})],ts.prototype,"material",void 0),g([T({type:Ql,json:{write:!0}})],ts.prototype,"resource",void 0),g([at({Icon:"icon"},{readOnly:!0})],ts.prototype,"type",void 0),g([T(fo)],ts.prototype,"size",void 0),g([at({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],ts.prototype,"anchor",void 0),g([T({type:Hu,json:{type:[Number],read:{reader:e=>new Hu({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ts.prototype,"anchorPosition",void 0),g([T({type:ad,json:{write:!0}})],ts.prototype,"outline",void 0),g([T({type:Number,json:{write:!0,default:0}})],ts.prototype,"angle",void 0),ts=Ru=g([ie(uN)],ts);const pc=ts;function o4(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,r=a4(e.xoffset),n=a4(e.yoffset);return(r||n)&&t&&i?{x:-r/t,y:n/i}:null}function a4(e){return isFinite(e)?e:0}const Yq={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Jq(e){return Yq[e]||(Pt.getLogger(uN).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}function Kq(e,t,i=jt){return t||(t=new i),t===e||(t.removeAll(),Xq(e)?t.addMany(e):e&&t.add(e)),t}function Zq(e){return e}function Xq(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var Da;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Da||(Da={}));let Qq=class{constructor(){this._resolver=Eh(),this._status=Da.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Da.RESOLVED,this._cleanUp()},()=>{this._status=Da.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Da.RESOLVED}isRejected(){return this._status===Da.REJECTED}isFulfilled(){return this._status!==Da.PENDING}abort(){this._resolver.reject(vn())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Eh(),i=[...this._resolvingPromises,t.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},n=>{this.isFulfilled()||this._allPromise!==r||tm(n)||this._resolver.reject(n)}),t.resolve()}};const eW=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new Qq,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=g([ie("esri.core.Promise")],t),t};let B2=class extends eW(Xi){};B2=g([ie("esri.core.Promise")],B2);const tW="not-loaded",iW="loading",rW="failed",l4="loaded",hN=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const n=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const c=rF(s,l);this.destroyed&&l(new ot("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===tW){this._set("loadStatus",iW);const a=this._loadController=new AbortController;n({signal:a.signal})}return r(),o}})),this.when(()=>{this._set("loadStatus",l4),this._loadController=null},r=>{this._set("loadStatus",rW),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=$$(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===l4}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new ot("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return g([T({readOnly:!0})],t.prototype,"loaded",null),g([T({readOnly:!0})],t.prototype,"loadError",void 0),g([T({clonable:!1})],t.prototype,"loadStatus",void 0),g([T({type:[ip],readOnly:!0})],t.prototype,"loadWarnings",null),t=g([ie("esri.core.Loadable")],t),t};let ld=class extends hN(B2){};ld=g([ie("esri.core.Loadable")],ld),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=hN,e.isLoadable=t}(ld||(ld={}));const nW=ld;let t0;function sW(e){return t0&&!t0.destroyed||(t0=e()),t0}var V2;const oW=new Zo({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let $n=V2=class extends Xi{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new V2({categories:this.categories?ge(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let r="";if(this.extent){const o=CC(this.extent,zi.WGS84);o!=null&&(r=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const s={categories:i,bbox:r,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>oW.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};g([T()],$n.prototype,"categories",void 0),g([T()],$n.prototype,"disableExtraQuery",void 0),g([T({type:zn})],$n.prototype,"extent",void 0),g([T()],$n.prototype,"filter",void 0),g([T()],$n.prototype,"num",void 0),g([T()],$n.prototype,"query",void 0),g([T()],$n.prototype,"sortField",void 0),g([T()],$n.prototype,"sortOrder",null),g([T()],$n.prototype,"start",void 0),$n=V2=g([ie("esri.portal.PortalQueryParams")],$n);const Ks=$n;var z2;let Mi=z2=class extends tt{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new ot("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new z2({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=bs(Ks,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new Ks,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new Ks,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then(r=>{const n=r.contentCategorySetsGroupQuery;if(n){const s=new Ks({disableExtraQuery:!0,num:1,query:n});return i.queryGroups(s,t)}throw new ot("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const n=r.results[0],s=new Ks({num:1,query:`typekeywords:"${e}"`});return n.queryItems(s,t)}throw new ot("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(n=>{const s=n?.categorySchema;return s?.length?s:[]}):[])}};g([T()],Mi.prototype,"access",void 0),g([T({type:Date})],Mi.prototype,"created",void 0),g([T()],Mi.prototype,"description",void 0),g([T()],Mi.prototype,"id",void 0),g([T()],Mi.prototype,"isInvitationOnly",void 0),g([T({type:Date})],Mi.prototype,"modified",void 0),g([T()],Mi.prototype,"owner",void 0),g([T()],Mi.prototype,"portal",void 0),g([T()],Mi.prototype,"snippet",void 0),g([T()],Mi.prototype,"sortField",void 0),g([T()],Mi.prototype,"sortOrder",void 0),g([T()],Mi.prototype,"sourceJSON",void 0),g([T()],Mi.prototype,"tags",void 0),g([T()],Mi.prototype,"thumbnail",void 0),g([T({readOnly:!0})],Mi.prototype,"thumbnailUrl",null),g([T()],Mi.prototype,"title",void 0),g([T({readOnly:!0})],Mi.prototype,"url",null),Mi=z2=g([ie("esri.portal.PortalGroup")],Mi);const q2=Mi;let ec=class extends Xi{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};g([T()],ec.prototype,"nextQueryParams",void 0),g([T()],ec.prototype,"queryParams",void 0),g([T()],ec.prototype,"results",void 0),g([T()],ec.prototype,"total",void 0),ec=g([ie("esri.portal.PortalQueryResult")],ec);const aW=ec;let Po=class extends tt{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ot("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};g([T({type:Date})],Po.prototype,"created",void 0),g([T()],Po.prototype,"id",void 0),g([T()],Po.prototype,"portal",void 0),g([T()],Po.prototype,"title",void 0),g([T({readOnly:!0})],Po.prototype,"url",null),g([T()],Po.prototype,"username",void 0),Po=g([ie("esri.portal.PortalFolder")],Po);const lW=Po;var W2;let Ct=W2=class extends tt{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e?.data,r=e?.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),i!=null&&(typeof i=="string"?n.query.text=i:typeof i=="object"&&(n.query.text=JSON.stringify(i))));let s=this.userContentUrl;return r&&(s+="/"+(typeof r=="string"?r:r.id)),this.portal.request(s+"/addItem",n).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const i=this.userContentUrl+"/deleteItems",r=[],n=e.map(s=>s.id);if(n.length){const s={method:"post",query:{items:n.join(","),permanentDelete:t}},o=await this.portal.request(i,s);for(const a of o.results){const l=e.find(d=>a.itemId===d.id),c=a.success;let f=null;c?(l.id=null,l.portal=null):a.error&&(f=new ot("portal:delete-item-failed",a.error.message,a.error)),r.push({item:l,success:c,error:f})}}return r}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(r=>{const n=lW.fromJSON(r);return n.portal=this.portal,n}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const r=q2.fromJSON(i);return r.portal=this.portal,r}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:i}=await xe(()=>import("./PortalItem-CUJ-aEPg.js"),__vite__mapDeps([24,1]),import.meta.url),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},n=await this.portal.request(t,{query:r});let s;return n?.items?(s=n.items.map(o=>{const a=i.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:n.nextStart,total:n.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new q2({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new ot("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,r=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(i+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new ot("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new W2({sourceJSON:e});return t.read(e),t}};g([T()],Ct.prototype,"access",void 0),g([T({type:Date})],Ct.prototype,"created",void 0),g([T()],Ct.prototype,"culture",void 0),g([T()],Ct.prototype,"description",void 0),g([T()],Ct.prototype,"email",void 0),g([T()],Ct.prototype,"favGroupId",void 0),g([T()],Ct.prototype,"fullName",void 0),g([T({type:Date})],Ct.prototype,"modified",void 0),g([T()],Ct.prototype,"orgId",void 0),g([T()],Ct.prototype,"portal",void 0),g([T()],Ct.prototype,"preferredView",void 0),g([T()],Ct.prototype,"privileges",void 0),g([T()],Ct.prototype,"region",void 0),g([T()],Ct.prototype,"role",void 0),g([T()],Ct.prototype,"roleId",void 0),g([T()],Ct.prototype,"sourceJSON",void 0),g([T()],Ct.prototype,"thumbnail",void 0),g([T({readOnly:!0})],Ct.prototype,"thumbnailUrl",null),g([T()],Ct.prototype,"units",void 0),g([T({readOnly:!0})],Ct.prototype,"userContentUrl",null),g([T({readOnly:!0})],Ct.prototype,"url",null),g([T()],Ct.prototype,"username",void 0),g([T()],Ct.prototype,"userLicenseTypeId",void 0),g([T()],Ct.prototype,"userType",void 0),Ct=W2=g([ie("esri.portal.PortalUser")],Ct);const fN=Ct;var un;let Rf;const c4={PortalGroup:()=>Promise.resolve({default:q2}),PortalItem:()=>xe(()=>import("./PortalItem-CUJ-aEPg.js"),__vite__mapDeps([24,1]),import.meta.url),PortalUser:()=>Promise.resolve({default:fN})};let de=un=class extends tC(nW){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=It.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){u4.unregister(this),this.defaultBasemap=F0(this.defaultBasemap),this.defaultDevBasemap=F0(this.defaultDevBasemap),this.defaultVectorBasemap=F0(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=lf(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)It.request.trustedServers.includes(t)||It.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return uC(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=fN.fromJSON(e),t.portal=this),t}load(e){const t=xe(()=>import("./Basemap-CKvCwA3Y.js").then(i=>i.B),__vite__mapDeps([25,1,26,24,27]),import.meta.url).then(({default:i})=>{sp(e),Rf=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{if(!this.hasAPIKey&&Yt){const r=Yt;this.credential=r.findCredential(this.restUrl),this.credential||this.authMode!==un.AUTH_MODE_AUTO&&this.authMode!==un.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=r.on("credential-create",cW(new WeakRef(this))),u4.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await xe(async()=>{const{default:i}=await import("./ElevationLayer-Cf8pjjlE.js");return{default:i}},__vite__mapDeps([28,1,29,30,31,19,32,33,34,35,36,37,38,39,40,41,42,43,44,45,24,46,47,48,49]),import.meta.url)).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if(t?.include3d===!0&&this.use3dBasemaps!==!1){const r=await this._fetchBasemaps3D(e,t);i.unshift(...r)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new Ks;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const i=(await this.queryItems(t,e)).results.find(r=>r.type==="Web Scene");return i?new Rf({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Cc(e)?Promise.reject(vn()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new Ks({num:100,sortField:"title"});if(t?.length){const r=[];for(const n of t)r.push(`(title:"${n.title}" AND owner:${n.owner})`);return i.query=r.join(" OR "),this.queryGroups(i,e).then(n=>n.results)}return Cc(e)?Promise.reject(vn()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||ro();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||ro();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return sW(()=>new un)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const r=this.restUrl+"/portals/self",n={authMode:e,query:{culture:ro().toLowerCase()},withCredentials:!0,...i};return n.authMode==="auto"&&(n.authMode="no-prompt"),t&&(n.query.default=!0),this.request(r,n)}queryPortal(e,t,i,r){const n=bs(Ks,t),s=o=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...r}).then(a=>{const l=n.clone();return l.start=a.nextStart,new aW({nextQueryParams:l,queryParams:n,total:a.total,results:un._resultsToTypedArray(o,{portal:this},a,r)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(j$(l),a)));return i&&c4[i]?c4[i]().then(({default:o})=>(sp(r),s(o))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new ot("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===un.AUTH_MODE_ANONYMOUS||this.authMode===un.AUTH_MODE_NO_PROMPT&&!Yt)return Promise.reject(new ot("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return Yt?Yt.getCredential(this.restUrl,{prompt:this.authMode!==un.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then(r=>{const n=un._resultsToTypedArray(i,{portal:this},r);return Promise.all(n.map(s=>typeof s.when=="function"?s.when():r)).then(()=>n,()=>n)})}request(e,t={}){const i={f:"json",...t.query},{authMode:r=this.authMode===un.AUTH_MODE_ANONYMOUS||this.authMode===un.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:n=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=t,c={authMode:r,body:n,cacheBust:s,method:o,query:i,responseType:a,timeout:0,signal:l};return t.withCredentials&&(c.withCredentials=!0),wi(this._normalizeSSL(e),c).then(f=>f.data)}toJSON(){throw new ot("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new un({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new ot("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const i=new Ks;i.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const r=await this.queryGroups(i,t);if(!r.total)return[];const n=r.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=n.sortField||"name",i.sortOrder=n.sortOrder||"desc";const s=await n.queryItems(i,t);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new Rf({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];const r=new Ks({query:i,disableExtraQuery:!0}),n=await this.queryGroups(r,t);if(!n.total)return[];const s=n.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(r,t);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new Rf({portalItem:a})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=Rf.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,r){let n;if(i){const s=r!=null?r.signal:null;n=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(n=n.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(s),a}))}else n=[];return n}};de.AUTH_MODE_ANONYMOUS="anonymous",de.AUTH_MODE_AUTO="auto",de.AUTH_MODE_IMMEDIATE="immediate",de.AUTH_MODE_NO_PROMPT="no-prompt",g([T()],de.prototype,"access",void 0),g([T()],de.prototype,"allSSL",void 0),g([T()],de.prototype,"authMode",void 0),g([T()],de.prototype,"authorizedCrossOriginDomains",void 0),g([Zi("authorizedCrossOriginDomains")],de.prototype,"readAuthorizedCrossOriginDomains",null),g([T()],de.prototype,"basemapGalleryGroupQuery",void 0),g([T({json:{name:"3DBasemapGalleryGroupQuery"}})],de.prototype,"basemapGalleryGroupQuery3D",void 0),g([T()],de.prototype,"bingKey",void 0),g([T()],de.prototype,"canListApps",void 0),g([T()],de.prototype,"canListData",void 0),g([T()],de.prototype,"canListPreProvisionedItems",void 0),g([T()],de.prototype,"canProvisionDirectPurchase",void 0),g([T()],de.prototype,"canSearchPublic",void 0),g([T()],de.prototype,"canShareBingPublic",void 0),g([T()],de.prototype,"canSharePublic",void 0),g([T()],de.prototype,"canSignInArcGIS",void 0),g([T()],de.prototype,"canSignInIDP",void 0),g([T()],de.prototype,"colorSetsGroupQuery",void 0),g([T()],de.prototype,"commentsEnabled",void 0),g([T({type:Date})],de.prototype,"created",void 0),g([T()],de.prototype,"credential",void 0),g([T()],de.prototype,"culture",void 0),g([T()],de.prototype,"currentVersion",void 0),g([T()],de.prototype,"customBaseUrl",void 0),g([T()],de.prototype,"default3DBasemapQuery",void 0),g([T()],de.prototype,"defaultBasemap",void 0),g([Zi("defaultBasemap")],de.prototype,"readDefaultBasemap",null),g([T()],de.prototype,"defaultDevBasemap",void 0),g([Zi("defaultDevBasemap")],de.prototype,"readDefaultDevBasemap",null),g([T({type:zn})],de.prototype,"defaultExtent",void 0),g([T()],de.prototype,"defaultVectorBasemap",void 0),g([Zi("defaultVectorBasemap")],de.prototype,"readDefaultVectorBasemap",null),g([T()],de.prototype,"description",void 0),g([T()],de.prototype,"devBasemapGalleryGroupQuery",void 0),g([T()],de.prototype,"eueiEnabled",void 0),g([T({readOnly:!0})],de.prototype,"extraQuery",null),g([T()],de.prototype,"featuredGroups",void 0),g([T()],de.prototype,"featuredItemsGroupQuery",void 0),g([T()],de.prototype,"galleryTemplatesGroupQuery",void 0),g([T()],de.prototype,"layoutGroupQuery",void 0),g([T()],de.prototype,"livingAtlasGroupQuery",void 0),g([T({readOnly:!0})],de.prototype,"hasAPIKey",null),g([T()],de.prototype,"hasCategorySchema",void 0),g([T()],de.prototype,"hasClassificationSchema",void 0),g([T()],de.prototype,"helpBase",void 0),g([T()],de.prototype,"helperServices",void 0),g([T()],de.prototype,"helpMap",void 0),g([T()],de.prototype,"homePageFeaturedContent",void 0),g([T()],de.prototype,"homePageFeaturedContentCount",void 0),g([T()],de.prototype,"httpPort",void 0),g([T()],de.prototype,"httpsPort",void 0),g([T()],de.prototype,"id",void 0),g([T()],de.prototype,"ipCntryCode",void 0),g([T({readOnly:!0})],de.prototype,"isOrganization",null),g([T()],de.prototype,"isPortal",void 0),g([T()],de.prototype,"isReadOnly",void 0),g([T({readOnly:!0})],de.prototype,"itemPageUrl",null),g([T()],de.prototype,"layerTemplatesGroupQuery",void 0),g([T()],de.prototype,"maxTokenExpirationMinutes",void 0),g([T({type:Date})],de.prototype,"modified",void 0),g([T()],de.prototype,"name",void 0),g([T()],de.prototype,"portalHostname",void 0),g([T()],de.prototype,"portalMode",void 0),g([T()],de.prototype,"portalProperties",void 0),g([T()],de.prototype,"region",void 0),g([T()],de.prototype,"recycleBinEnabled",void 0),g([T({readOnly:!0})],de.prototype,"restUrl",null),g([T()],de.prototype,"rotatorPanels",void 0),g([T()],de.prototype,"showHomePageDescription",void 0),g([T()],de.prototype,"sourceJSON",void 0),g([T()],de.prototype,"staticImagesUrl",void 0),g([T({json:{name:"2DStylesGroupQuery"}})],de.prototype,"stylesGroupQuery2d",void 0),g([T({json:{name:"stylesGroupQuery"}})],de.prototype,"stylesGroupQuery3d",void 0),g([T()],de.prototype,"supportsHostedServices",void 0),g([T()],de.prototype,"symbolSetsGroupQuery",void 0),g([T()],de.prototype,"templatesGroupQuery",void 0),g([T()],de.prototype,"thumbnail",void 0),g([T({readOnly:!0})],de.prototype,"thumbnailUrl",null),g([T()],de.prototype,"units",void 0),g([T()],de.prototype,"url",void 0),g([T()],de.prototype,"urlKey",void 0),g([Zi("urlKey")],de.prototype,"readUrlKey",null),g([T()],de.prototype,"user",void 0),g([Zi("user")],de.prototype,"readUser",null),g([T()],de.prototype,"use3dBasemaps",void 0),g([T()],de.prototype,"useDefault3dBasemap",void 0),g([T()],de.prototype,"useStandardizedQuery",void 0),g([T()],de.prototype,"useVectorBasemaps",void 0),g([T()],de.prototype,"vectorBasemapGalleryGroupQuery",void 0),de=un=g([ie("esri.portal.Portal")],de);const B1=de,u4=new FinalizationRegistry(e=>{e.remove()});function cW(e){const t=Yt;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let tc=class extends ia(tt){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};g([T({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],tc.prototype,"type",void 0),g([T({type:xq,json:{default:"begin-end",write:!0}})],tc.prototype,"placement",void 0),g([T({type:K6,json:{default:"arrow",write:!0}})],tc.prototype,"style",void 0),g([T({type:mt,json:{type:[Bi],default:null,write:!0}})],tc.prototype,"color",void 0),tc=g([ie("esri.symbols.LineStyleMarker3D")],tc);const H2=tc;var uy;let Us=uy=class extends _o{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=ho(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new uy(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??ho(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new Tx({style:e.style}):null,material:new dn({color:(e.color||Id).clone()}),marker:e.marker?new H2({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new uy(t)}};g([T({type:dn,json:{write:!0}})],Us.prototype,"material",void 0),g([at({Line:"line"},{readOnly:!0})],Us.prototype,"type",void 0),g([T({type:rN,json:{write:!0,default:"miter"}})],Us.prototype,"join",void 0),g([T({type:$x,json:{write:!0,default:"butt"}})],Us.prototype,"cap",void 0),g([T(fo)],Us.prototype,"size",void 0),g([T(tN)],Us.prototype,"pattern",void 0),g([T({types:{key:"type",base:H2,typeMap:{style:H2}},json:{write:!0}})],Us.prototype,"marker",void 0),Us=uy=g([ie("esri.symbols.LineSymbol3DLayer")],Us);const yf=Us;var Y2;const uW=Es()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let cd=Y2=class extends tt{clone(){return new Y2({href:this.href,primitive:this.primitive})}};g([T({type:String,json:{read:Cx,write:_p}})],cd.prototype,"href",void 0),g([at(uW)],cd.prototype,"primitive",void 0),cd=Y2=g([ie("esri.symbols.support.ObjectSymbol3DLayerResource")],cd);var J2;let cc=J2=class extends Xi{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new J2({x:this.x,y:this.y,z:this.z})}};g([T({type:Number})],cc.prototype,"x",void 0),g([T({type:Number})],cc.prototype,"y",void 0),g([T({type:Number})],cc.prototype,"z",void 0),cc=J2=g([ie("esri.symbols.support.Symbol3DAnchorPosition3D")],cc);var K2;let hr=K2=class extends _o{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new K2({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};g([T({type:dn,json:{write:!0}})],hr.prototype,"material",void 0),g([T({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],hr.prototype,"castShadows",void 0),g([T({type:cd,json:{write:!0}})],hr.prototype,"resource",void 0),g([at({Object:"object"},{readOnly:!0})],hr.prototype,"type",void 0),g([T({type:Number,json:{write:!0}})],hr.prototype,"width",void 0),g([T({type:Number,json:{write:!0}})],hr.prototype,"height",void 0),g([T({type:Number,json:{write:!0}})],hr.prototype,"depth",void 0),g([at({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],hr.prototype,"anchor",void 0),g([T({type:cc,json:{type:[Number],read:{reader:e=>new cc({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],hr.prototype,"anchorPosition",void 0),g([T({type:Number,json:{write:!0}})],hr.prototype,"heading",void 0),g([T({type:Number,json:{write:!0}})],hr.prototype,"tilt",void 0),g([T({type:Number,json:{write:!0}})],hr.prototype,"roll",void 0),g([T({readOnly:!0})],hr.prototype,"isPrimitive",null),hr=K2=g([ie("esri.symbols.ObjectSymbol3DLayer")],hr);const Nx=hr;var Z2;let Ar=Z2=class extends _o{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new Z2({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};g([T({type:dn,json:{write:!0}})],Ar.prototype,"material",void 0),g([T({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ar.prototype,"castShadows",void 0),g([at({Path:"path"},{readOnly:!0})],Ar.prototype,"type",void 0),g([T({type:["circle","quad"],json:{write:!0,default:"circle"}})],Ar.prototype,"profile",void 0),g([T({type:rN,json:{write:!0,default:"miter"}})],Ar.prototype,"join",void 0),g([T({type:Fq,json:{write:!0,default:"butt"}})],Ar.prototype,"cap",void 0),g([T({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Ar.prototype,"width",void 0),g([Zi("width",["width","size","height"])],Ar.prototype,"readWidth",null),g([T({type:Number,json:{write:!0}})],Ar.prototype,"height",void 0),g([Zi("height",["height","size","width"])],Ar.prototype,"readHeight",null),g([T({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Ar.prototype,"anchor",void 0),g([T({type:["heading","all"],json:{write:!0,default:"all"}})],Ar.prototype,"profileRotation",void 0),Ar=Z2=g([ie("esri.symbols.PathSymbol3DLayer")],Ar);const Px=Ar;var X2;let Yu=X2=class extends tt{constructor(){super(...arguments),this.color=new mt([0,0,0,1]),this.size=0}clone(){const e={color:ge(this.color),size:this.size};return new X2(e)}};g([T(yl)],Yu.prototype,"color",void 0),g([T(fo)],Yu.prototype,"size",void 0),Yu=X2=g([ie("esri.symbols.support.Symbol3DHalo")],Yu);let $d=class extends ia(tt){constructor(t){super(t),this.color=null}};g([T(yl)],$d.prototype,"color",void 0),$d=g([ie("esri.symbols.support.Symbol3DTextBackground")],$d);var hy;let Gr=hy=class extends _o{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,r){const n={...r,textSymbol3D:!0};t.font=e.write({},n),delete t.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new hy({enabled:this.enabled,font:this.font&&ge(this.font),halo:this.halo&&ge(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ge(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new hy({font:e.font!=null?e.font.clone():new U1,halo:hW(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new dn({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new $d({color:e.backgroundColor.clone()}):null})}};function hW(e,t){return e&&t!=null&&t>0?new Yu({color:ge(e),size:t}):null}g([T({type:U1,json:{write:!0}})],Gr.prototype,"font",null),g([ni("font")],Gr.prototype,"writeFont",null),g([T({type:Yu,json:{write:!0}})],Gr.prototype,"halo",void 0),g([T({...sN,json:{default:"center",write:!0}})],Gr.prototype,"horizontalAlignment",void 0),g([T({...nN,json:{default:1,write:!0}})],Gr.prototype,"lineHeight",void 0),g([T({type:dn,json:{write:!0}})],Gr.prototype,"material",void 0),g([T({type:$d,json:{write:!0}})],Gr.prototype,"background",void 0),g([T(fo)],Gr.prototype,"size",null),g([T({type:String,json:{write:!0}})],Gr.prototype,"text",void 0),g([at({Text:"text"},{readOnly:!0})],Gr.prototype,"type",void 0),g([T({...oN,json:{default:"baseline",write:!0}})],Gr.prototype,"verticalAlignment",void 0),Gr=hy=g([ie("esri.symbols.TextSymbol3DLayer")],Gr);const gf=Gr;var Q2;let Ta=Q2=class extends _o{constructor(e){super(e),this.color=ew.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Q2({color:ge(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};g([T({type:mt,nonNullable:!0,json:{type:[Bi],write:(e,t,i)=>t[i]=e.toArray(mt.AlphaMode.UNLESS_OPAQUE),default:()=>ew.clone(),defaultEquals:e=>e.toCss(!0)===ew.toCss(!0)}})],Ta.prototype,"color",void 0),g([at({Water:"water"},{readOnly:!0})],Ta.prototype,"type",void 0),g([T({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Ta.prototype,"waterbodySize",void 0),g([T({type:Number,json:{write:!0,default:null}})],Ta.prototype,"waveDirection",void 0),g([T({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Ta.prototype,"waveStrength",void 0),Ta=Q2=g([ie("esri.symbols.WaterSymbol3DLayer")],Ta);const dN=Ta,ew=new mt([0,119,190]);var tw;let ic=tw=class extends Xi{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new tw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};g([T({type:String})],ic.prototype,"name",void 0),g([T({type:String})],ic.prototype,"styleUrl",void 0),g([T({type:String})],ic.prototype,"styleName",void 0),g([T({type:B1})],ic.prototype,"portal",void 0),ic=tw=g([ie("esri.symbols.support.StyleOrigin")],ic);const iw=ic;var rw;let Cd=rw=class extends Xi{constructor(){super(...arguments),this.url=""}clone(){return new rw({url:this.url})}};g([T({type:String})],Cd.prototype,"url",void 0),Cd=rw=g([ie("esri.symbols.support.Thumbnail")],Cd);const pN={icon:pc,object:Nx,line:yf,path:Px,fill:iu,extrude:J6,text:gf,water:dN},fW=jt.ofType({base:_o,key:"type",typeMap:pN,errorContext:"symbol-layer"});let js=class extends Er{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i?.type,n=r||jt;this._set("symbolLayers",new n)}get color(){return null}set color(t){this.constructed&&Pt.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){Kq(t,this._get("symbolLayers"))}readStyleOrigin(t,i,r){if(t.styleUrl&&t.name){const n=dm(t.styleUrl,r);return new iw({styleUrl:n,name:t.name})}if(t.styleName&&t.name)return new iw({portal:r?.portal||B1.getDefault(),styleName:t.styleName,name:t.name});r?.messages&&r.messages.push(new ip("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:t}))}writeStyleOrigin(t,i,r,n){if(t.styleUrl&&t.name){let s=j1(t.styleUrl,n);ps(s)&&(s=Qa(s)),i.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&n?.portal&&!aU(t.portal.restUrl,n.portal.restUrl)?n?.messages&&n.messages.push(new ip("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof _o||t&&pN[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};g([T({json:{read:!1,write:!1}})],js.prototype,"color",null),g([T({type:fW,nonNullable:!0,json:{write:!0}}),nm(Zq)],js.prototype,"symbolLayers",null),g([T({type:iw})],js.prototype,"styleOrigin",void 0),g([Zi("styleOrigin")],js.prototype,"readStyleOrigin",null),g([ni("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],js.prototype,"writeStyleOrigin",null),g([T({type:Cd,json:{read:!1}})],js.prototype,"thumbnail",void 0),g([T({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],js.prototype,"type",void 0),js=g([ie("esri.symbols.Symbol3D")],js);const ru=js;let ud=class extends tt{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};g([T({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],ud.prototype,"type",void 0),g([T({readOnly:!0})],ud.prototype,"visible",void 0),ud=g([ie("esri.symbols.callouts.Callout3D")],ud);const mN=ud;var nw;let fy=nw=class extends tt{constructor(e){super(e),this.color=new mt("white")}clone(){return new nw({color:ge(this.color)})}};g([T(yl)],fy.prototype,"color",void 0),fy=nw=g([ie("esri.symbols.callouts.LineCallout3DBorder")],fy);const dW=fy;var sw;let Aa=sw=class extends mN{constructor(e){super(e),this.type="line",this.color=new mt([0,0,0,1]),this.size=ho(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new sw({color:ge(this.color),size:this.size,border:ge(this.border)})}};g([at({line:"line"})],Aa.prototype,"type",void 0),g([T(yl)],Aa.prototype,"color",void 0),g([T(fo)],Aa.prototype,"size",void 0),g([T({type:dW,json:{write:!0}})],Aa.prototype,"border",void 0),g([T({readOnly:!0})],Aa.prototype,"visible",null),Aa=sw=g([ie("esri.symbols.callouts.LineCallout3D")],Aa);const yN=Aa;function Lx(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function gN(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!Lx(e)}const vN={types:{key:"type",base:mN,typeMap:{line:yN}},json:{write:!0}};var ow;let Du=ow=class extends tt{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new ow({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};g([T(fo)],Du.prototype,"screenLength",void 0),g([T({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Du.prototype,"minWorldLength",void 0),g([T({type:Number,json:{write:!0}})],Du.prototype,"maxWorldLength",void 0),Du=ow=g([ie("esri.symbols.support.Symbol3DVerticalOffset")],Du);const kx=Du;var dy;const bN=jt.ofType({base:null,key:"type",typeMap:{text:gf}});let Ma=dy=class extends ru{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new bN,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return gN(this)}hasVisibleVerticalOffset(){return Lx(this)}clone(){return new dy({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail),callout:ge(this.callout),verticalOffset:ge(this.verticalOffset)})}static fromTextSymbol(e){return new dy({symbolLayers:new jt([gf.fromTextSymbol(e)])})}};g([T({type:kx,json:{write:!0}})],Ma.prototype,"verticalOffset",void 0),g([T(vN)],Ma.prototype,"callout",void 0),g([T({json:{read:!1,write:!1}})],Ma.prototype,"styleOrigin",void 0),g([T({type:bN})],Ma.prototype,"symbolLayers",void 0),g([at({LabelSymbol3D:"label-3d"},{readOnly:!0})],Ma.prototype,"type",void 0),Ma=dy=g([ie("esri.symbols.LabelSymbol3D")],Ma);const V1=Ma;var py;const _N=jt.ofType({base:null,key:"type",typeMap:{line:yf,path:Px}}),pW=jt.ofType({base:null,key:"type",typeMap:{line:yf,path:Px}});let hd=py=class extends ru{constructor(e){super(e),this.symbolLayers=new _N,this.type="line-3d"}clone(){return new py({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleLineSymbol(e){return new py({symbolLayers:new jt([yf.fromSimpleLineSymbol(e)])})}};g([T({type:_N,json:{type:pW}})],hd.prototype,"symbolLayers",void 0),g([at({LineSymbol3D:"line-3d"},{readOnly:!0})],hd.prototype,"type",void 0),hd=py=g([ie("esri.symbols.LineSymbol3D")],hd);const nu=hd;let Ia=class extends Er{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};g([T({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Ia.prototype,"angle",void 0),g([T({type:["simple-marker","picture-marker"],readOnly:!0})],Ia.prototype,"type",void 0),g([T({type:Number,cast:ei,json:{write:!0}})],Ia.prototype,"xoffset",void 0),g([T({type:Number,cast:ei,json:{write:!0}})],Ia.prototype,"yoffset",void 0),g([T({cast:e=>e==="auto"?e:g1(ei(e)),json:{write:!0}})],Ia.prototype,"size",void 0),Ia=g([ie("esri.symbols.MarkerSymbol")],Ia);const wN=Ia;var my;const SN=jt.ofType({base:null,key:"type",typeMap:{fill:iu}});let fd=my=class extends ru{constructor(e){super(e),this.symbolLayers=new SN,this.type="mesh-3d"}clone(){return new my({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleFillSymbol(e){return new my({symbolLayers:new jt([iu.fromSimpleFillSymbol(e)])})}};g([T({type:SN})],fd.prototype,"symbolLayers",void 0),g([at({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],fd.prototype,"type",void 0),fd=my=g([ie("esri.symbols.MeshSymbol3D")],fd);const pm=fd;function mW(e,t,i){return t.imageData?lC({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):xN(t.url,i)}function xN(e,t){if(!ps(e)){const i=gW(t);if(i)return JS(i,"images",e)}return dm(e,t)}function yW(e,t,i,r){if(uf(e)){const n=cp(e);if(!n)return;t.contentType=n.mediaType,t.imageData=n.data,i&&i.imageData===t.imageData&&i.url&&_p(i.url,t,"url",r)}else _p(e,t,"url",r)}const EN={json:{read:{source:["imageData","url"],reader:mW},write:{writer(e,t,i,r){yW(e,t,this.source,r)}}}},TN={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=xN(t.url,i)),r}}}};function gW(e){if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const r=i?.type;return r==="feature"||r==="stream"?i.parsedUrl?.path:r==="map-image"||r==="tile"?e.url?.path:null}var aw;let Cn=aw=class extends Z6{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t&&(n.outline=t),i!=null&&(n.width=ei(i)),r!=null&&(n.height=ei(r)),n}clone(){const e=new aw({color:ge(this.color),height:this.height,outline:ge(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};g([at({esriPFS:"picture-fill"},{readOnly:!0})],Cn.prototype,"type",void 0),g([T(EN)],Cn.prototype,"url",void 0),g([T({type:Number,json:{write:!0}})],Cn.prototype,"xscale",void 0),g([T({type:Number,json:{write:!0}})],Cn.prototype,"yscale",void 0),g([T({type:Number,cast:ei,json:{write:!0}})],Cn.prototype,"width",void 0),g([T({type:Number,cast:ei,json:{write:!0}})],Cn.prototype,"height",void 0),g([T({type:Number,cast:ei,json:{write:!0}})],Cn.prototype,"xoffset",void 0),g([T({type:Number,cast:ei,json:{write:!0}})],Cn.prototype,"yoffset",void 0),g([T(TN)],Cn.prototype,"source",void 0),Cn=aw=g([ie("esri.symbols.PictureFillSymbol")],Cn);const Rx=Cn;var lw;let is=lw=class extends wN{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=ei(t)),i!=null&&(r.height=ei(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new lw({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};g([T({json:{write:!1}})],is.prototype,"color",void 0),g([at({esriPMS:"picture-marker"},{readOnly:!0})],is.prototype,"type",void 0),g([T(EN)],is.prototype,"url",void 0),g([T(TN)],is.prototype,"source",void 0),g([T({type:Number,cast:ei,json:{write:!0}})],is.prototype,"height",void 0),g([Zi("height",["height","size"])],is.prototype,"readHeight",null),g([T({type:Number,cast:ei,json:{write:!0}})],is.prototype,"width",void 0),g([T({json:{write:!1}})],is.prototype,"size",void 0),is=lw=g([ie("esri.symbols.PictureMarkerSymbol")],is);const vf=is;var rc;const AN=jt.ofType({base:null,key:"type",typeMap:{icon:pc,object:Nx,text:gf}});let nc=rc=class extends ru{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new AN,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return gN(this)}hasVisibleVerticalOffset(){return Lx(this)}clone(){return new rc({verticalOffset:ge(this.verticalOffset),callout:ge(this.callout),styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new rc({symbolLayers:new jt([pc.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new rc({symbolLayers:new jt([pc.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const i=e.data.symbol;return new rc(i?.callout?{symbolLayers:new jt([pc.fromCIMSymbol(e)]),callout:new yN({size:.5,color:new mt([0,0,0])}),verticalOffset:new kx({screenLength:40})}:{symbolLayers:new jt([pc.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new rc({symbolLayers:new jt([gf.fromTextSymbol(e)])})}};g([T({type:kx,json:{write:!0}})],nc.prototype,"verticalOffset",void 0),g([T(vN)],nc.prototype,"callout",void 0),g([T({type:AN,json:{origins:{"web-scene":{write:!0}}}})],nc.prototype,"symbolLayers",void 0),g([at({PointSymbol3D:"point-3d"},{readOnly:!0})],nc.prototype,"type",void 0),nc=rc=g([ie("esri.symbols.PointSymbol3D")],nc);const Ho=nc;function Tge(e,t,i){return jS(e.map((r,n)=>t.apply(i,[r,n])))}async function Age(e,t,i){return(await jS(e.map((r,n)=>t.apply(i,[r,n])))).map(r=>r.value)}function Dx(e){return{ok:!0,value:e}}function Fx(e){return{ok:!1,error:e}}function vW(e){return e!=null&&e.ok===!0?e.value:null}function bW(e){return e!=null&&e.ok===!1?e.error:null}async function Mge(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return Dx(await e)}catch(t){return Fx(t)}}async function Ige(e){try{return Dx(await e)}catch(t){return j$(t),Fx(t)}}function Oge(e,t){return new Oa(e,t)}let Oa=class extends Xi{get value(){return vW(this._result)}get error(){return bW(this._result)}get finished(){return this._result!=null}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=$$(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:i}=this._abortController;this.promise=e(i),this.promise.then(r=>{this._result=Dx(r),this._cleanup()},r=>{this._result=Fx(r),this._cleanup()}),this._abortHandle=Nc(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=lf(this._abortHandle),this._abortController=null}};g([T()],Oa.prototype,"value",null),g([T()],Oa.prototype,"error",null),g([T()],Oa.prototype,"finished",null),g([T()],Oa.prototype,"promise",void 0),g([T()],Oa.prototype,"_result",void 0),Oa=g([ie("esri.core.asyncUtils.ReactiveTask")],Oa);function _W(e,t,i={}){return Ux(e,t,i,MN)}function h4(e,t,i={}){return Ux(e,t,i,IN)}function Ux(e,t,i={},r){let n=null;const s=i.once?(o,a)=>{r(o)&&(lf(n),t(o,a))}:(o,a)=>{r(o)&&t(o,a)};if(n=$F(e,s,i.sync,i.equals),i.initial){const o=e();s(o,o)}return n}function wW(e,t,i,r={}){let n=null,s=null,o=null;function a(){n&&s&&(s.remove(),r.onListenerRemove?.(n),n=null,s=null)}function l(f){r.once&&r.once&&lf(o),i(f)}const c=_W(e,(f,d)=>{a(),US(f)&&(n=f,s=F$(f,t,l),r.onListenerAdd?.(f))},{sync:r.sync,initial:!0});return o=Ei(()=>{c.remove(),a()}),o}function $ge(e,t){return SW(e,IN,t)}function SW(e,t,i){if(Cc(i))return Promise.reject(vn());const r=e();if(t?.(r))return Promise.resolve(r);let n=null;function s(){n=lf(n)}return new Promise((o,a)=>{n=PS([Nc(i,()=>{s(),a(vn())}),Ux(e,l=>{s(),o(l)},{sync:!1,once:!0},t??MN)])})}function MN(e){return!0}function IN(e){return!!e}const xW={sync:!0},Cge={initial:!0},Nge={sync:!0,initial:!0};var dd;const ON=jt.ofType({base:null,key:"type",typeMap:{extrude:J6,fill:iu,icon:pc,line:yf,object:Nx,text:gf,water:dN}});let pd=dd=class extends ru{constructor(e){super(e),this.symbolLayers=new ON,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&np(Pt.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&np(Pt.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(wW(()=>this.symbolLayers,"after-add",({item:t})=>e(t),xW))}clone(){return new dd({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromJSON(e){const t=new dd;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const i=t.symbolLayers.at(0),r=t.symbolLayers.at(1);!r.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(i.outline={size:r.size,color:r.material!=null?r.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new dd({symbolLayers:new jt([iu.fromSimpleFillSymbol(e)])})}};g([T({type:ON,json:{write:!0}})],pd.prototype,"symbolLayers",void 0),g([at({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],pd.prototype,"type",void 0),pd=dd=g([ie("esri.symbols.PolygonSymbol3D")],pd);const su=pd;var cw;const _b=new Zo({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let sc=cw=class extends Z6{constructor(...e){super(...e),this.color=new mt([0,0,0,.25]),this.outline=new Ts,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t&&(r.outline=t),i&&(r.color=i),r}clone(){return new cw({color:ge(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};g([T()],sc.prototype,"color",void 0),g([T()],sc.prototype,"outline",void 0),g([at({esriSFS:"simple-fill"},{readOnly:!0})],sc.prototype,"type",void 0),g([T({type:_b.apiValues,json:{read:_b.read,write:_b.write}})],sc.prototype,"style",void 0),sc=cw=g([ie("esri.symbols.SimpleFillSymbol")],sc);const ou=sc;var uw;const wb=new Zo({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Gs=uw=class extends wN{constructor(...e){super(...e),this.color=new mt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Ts}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t!=null&&(n.size=ei(t)),i&&(n.outline=i),r&&(n.color=r),n}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new uw({angle:this.angle,color:ge(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};g([T()],Gs.prototype,"color",void 0),g([ni("color")],Gs.prototype,"writeColor",null),g([at({esriSMS:"simple-marker"},{readOnly:!0})],Gs.prototype,"type",void 0),g([T()],Gs.prototype,"size",void 0),g([T({type:wb.apiValues,json:{read:wb.read,write:wb.write}})],Gs.prototype,"style",void 0),g([T({type:String,json:{write:!0}})],Gs.prototype,"path",null),g([T({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ts}},json:{default:null,write:!0}})],Gs.prototype,"outline",void 0),Gs=uw=g([ie("esri.symbols.SimpleMarkerSymbol")],Gs);const po=Gs;var hw;let qt=hw=class extends Er{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new U1,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.text=e),t&&(r.font=t),i&&(r.color=i),r}writeLineWidth(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}castLineWidth(e){return ei(e)}writeLineHeight(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}clone(){return new hw({angle:this.angle,backgroundColor:ge(this.backgroundColor),borderLineColor:ge(this.borderLineColor),borderLineSize:this.borderLineSize,color:ge(this.color),font:this.font&&this.font.clone(),haloColor:ge(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};g([T({type:mt,json:{write:!0}})],qt.prototype,"backgroundColor",void 0),g([T({type:mt,json:{write:!0}})],qt.prototype,"borderLineColor",void 0),g([T({type:Number,json:{write:!0},cast:ei})],qt.prototype,"borderLineSize",void 0),g([T({type:U1,json:{write:!0}})],qt.prototype,"font",void 0),g([T({...sN,json:{write:!0}})],qt.prototype,"horizontalAlignment",void 0),g([T({type:Boolean,json:{write:!0}})],qt.prototype,"kerning",void 0),g([T({type:mt,json:{write:!0}})],qt.prototype,"haloColor",void 0),g([T({type:Number,cast:ei,json:{write:!0}})],qt.prototype,"haloSize",void 0),g([T({type:Boolean,json:{write:!0}})],qt.prototype,"rightToLeft",void 0),g([T({type:Boolean,json:{write:!0}})],qt.prototype,"rotated",void 0),g([T({type:String,json:{write:!0}})],qt.prototype,"text",void 0),g([at({esriTS:"text"},{readOnly:!0})],qt.prototype,"type",void 0),g([T({...oN,json:{write:!0}})],qt.prototype,"verticalAlignment",void 0),g([T({type:Number,cast:ei,json:{write:!0}})],qt.prototype,"xoffset",void 0),g([T({type:Number,cast:ei,json:{write:!0}})],qt.prototype,"yoffset",void 0),g([T({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],qt.prototype,"angle",void 0),g([T({type:Number,json:{write:!0}})],qt.prototype,"width",void 0),g([T({type:Number})],qt.prototype,"lineWidth",void 0),g([ni("lineWidth")],qt.prototype,"writeLineWidth",null),g([nm("lineWidth")],qt.prototype,"castLineWidth",null),g([T(nN)],qt.prototype,"lineHeight",void 0),g([ni("lineHeight")],qt.prototype,"writeLineHeight",null),qt=hw=g([ie("esri.symbols.TextSymbol")],qt);const bf=qt;var fw;let rs=fw=class extends Er{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:B1.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new fw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const i=t!=null?t.cache:null,r=i?this._fetchCacheKey:null;if(i!=null){const a=r&&i.get(r);if(a)return a.clone()}const{resolveWebStyleSymbol:n}=await xe(()=>import("./webStyleSymbolUtils-C8GjXbMg.js"),__vite__mapDeps([50,51,52,1]),import.meta.url);sp(t);const s=n(this,{portal:this.portal},e,t);s.catch(a=>{Pt.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const o=await s;return e==="webRef"&&o.type==="point-3d"||e==="cimRef"&&o.type==="cim"?(i?.set(r,o.clone()),o):null}};g([T({json:{write:!1}})],rs.prototype,"color",void 0),g([T({type:String,json:{write:!0}})],rs.prototype,"styleName",void 0),g([T({type:B1,json:{write:!1}})],rs.prototype,"portal",void 0),g([T({type:String,json:{read:Cx,write:_p}})],rs.prototype,"styleUrl",void 0),g([T({type:Cd,json:{read:!1}})],rs.prototype,"thumbnail",void 0),g([T({type:String,json:{write:!0}})],rs.prototype,"name",void 0),g([at({styleSymbolReference:"web-style"},{readOnly:!0})],rs.prototype,"type",void 0),g([T()],rs.prototype,"_fetchCacheKey",null),rs=fw=g([ie("esri.symbols.WebStyleSymbol")],rs);const _f=rs;function Pge(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function f4(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const jx={base:Er,key:"type",typeMap:{"simple-fill":ou,"picture-fill":Rx,"picture-marker":vf,"simple-line":Ts,"simple-marker":po,text:bf,"label-3d":V1,"line-3d":nu,"mesh-3d":pm,"point-3d":Ho,"polygon-3d":su,"web-style":_f,cim:tu},errorContext:"symbol"},Lge={base:Er,key:"type",typeMap:{"picture-marker":vf,"simple-marker":po,"point-3d":Ho,cim:tu},errorContext:"symbol"},kge={base:Er,key:"type",typeMap:{"simple-line":Ts,"line-3d":nu,cim:tu},errorContext:"symbol"},Rge={base:Er,key:"type",typeMap:{"simple-fill":ou,"picture-fill":Rx,"polygon-3d":su,cim:tu},errorContext:"symbol"},Dge={base:Er,key:"type",typeMap:{"picture-marker":vf,"simple-marker":po,text:bf,"web-style":_f,cim:tu},errorContext:"symbol"},EW=S$({types:jx}),Fge={base:Er,key:"type",typeMap:{"simple-fill":ou,"picture-fill":Rx,"picture-marker":vf,"simple-line":Ts,"simple-marker":po,text:bf,"line-3d":nu,"mesh-3d":pm,"point-3d":Ho,"polygon-3d":su,"web-style":_f,cim:tu},errorContext:"symbol"},Uge={base:Er,key:"type",typeMap:{text:bf,"label-3d":V1},errorContext:"symbol"},jge={base:Er,key:"type",typeMap:{"line-3d":nu,"mesh-3d":pm,"point-3d":Ho,"polygon-3d":su,"web-style":_f,cim:tu},errorContext:"symbol"},Gge={base:Er,key:"type",typeMap:{"label-3d":V1},errorContext:"symbol"},Bge=Oc(jx);var dw;function TW(e){if(!e)return null;const t={};for(const i in e){const r=sx(e[i]);r&&(t[i]=r)}return Object.keys(t).length!==0?t:null}function AW(e){if(e==null)return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return Object.keys(t).length!==0?t:null}let Br=dw=class extends ia(tt){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:U0(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&RD(Pt.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new dw({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:AW(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:T_(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if(t?.type==="mesh"){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:i};e==="origin-transform"&&(n.action=r),e==="attributes"&&(n.attributeName=r),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([h4(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),h4(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};g([T({value:null,json:{read:TW}})],Br.prototype,"aggregateGeometries",null),g([T({value:null})],Br.prototype,"attributes",null),g([T({value:null,types:a5,json:{read:sx}})],Br.prototype,"geometry",null),g([T({type:Boolean})],Br.prototype,"isAggregate",void 0),g([T({clonable:"reference"})],Br.prototype,"layer",void 0),g([T({clonable:"reference"})],Br.prototype,"origin",void 0),g([T({type:nq})],Br.prototype,"popupTemplate",void 0),g([T({clonable:"reference"})],Br.prototype,"sourceLayer",void 0),g([T({value:null,types:jx})],Br.prototype,"symbol",null),g([T({clonable:!1,json:{read:!1,write:!1}})],Br.prototype,"_version",void 0),g([T({type:Boolean,value:!0})],Br.prototype,"visible",null),Br=dw=g([ie("esri.Graphic")],Br);const MW=Br;function Vge(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function zge(e){return e?.type==="subtype-sublayer"}const qge={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function d4(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function Wge(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function Hge(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e.source?.type==="feature-layer"}async function Yge(e,t){const i=Yt?.findServerInfo(e);if(i?.currentVersion!=null)return i.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const n=`${e.slice(0,r)}/rest/info`,s=t!=null?t.signal:null,{data:o}=await wi(n,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function IW(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function Jge(e){return IW(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function OW(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function Kge(e){return!!OW(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const Gx=[252,146,31,255],$W=[153,153,153,255],CW={type:"esriSMS",style:"esriSMSCircle",size:6,color:Gx,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},NW={type:"esriSLS",style:"esriSLSSolid",width:.75,color:Gx},PW={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},LW={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},kW={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},RW={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},DW={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},$N=po.fromJSON(CW),CN=Ts.fromJSON(NW),NN=ou.fromJSON(PW),Zge=bf.fromJSON(LW);function Xge(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return $N;case"polyline":return CN;case"polygon":case"extent":return NN}return null}const Qge=po.fromJSON(kW),e1e=Ts.fromJSON(RW),t1e=ou.fromJSON(DW);Ho.fromSimpleMarkerSymbol($N);nu.fromSimpleLineSymbol(CN);su.fromSimpleFillSymbol(NN);new pm({symbolLayers:new jt([new iu({material:{color:Gx},edges:new B6({size:ho(1),color:new mt($W)})})])});const FW=new nu({symbolLayers:new jt([new yf({material:{color:new mt([0,0,0])},size:ho(1)})])}),UW=new su({symbolLayers:new jt([new iu({outline:{color:new mt([0,0,0]),size:ho(1)}})])}),p4="#useCIMFallbackSymbology()",xu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function jW(e,t=xu){if(!e)return{symbol:null};const{retainId:i=xu.retainId,ignoreDrivers:r=xu.ignoreDrivers,hasLabelingContext:n=xu.hasLabelingContext,retainCIM:s=xu.retainCIM,cimFallbackEnabled:o=xu.cimFallbackEnabled}=t;let a=null;if(f4(e)||e instanceof _f)a=e.clone();else if(e.type==="cim"){const l=e.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=s?e.clone():Ho.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(a=FW.clone(),t?.logWarning?.(p4,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=UW.clone(),t?.logWarning?.(p4,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new ot("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Ts)a=nu.fromSimpleLineSymbol(e);else if(e instanceof po)a=Ho.fromSimpleMarkerSymbol(e);else if(e instanceof vf)a=Ho.fromPictureMarkerSymbol(e);else if(e instanceof ou)a=t.geometryType&&t.geometryType==="mesh"?pm.fromSimpleFillSymbol(e):su.fromSimpleFillSymbol(e);else{if(!(e instanceof bf))return{error:new ot("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=n?V1.fromTextSymbol(e):Ho.fromTextSymbol(e)}return i&&a&&a.type!=="cim"&&(a.id=e.id),r&&f4(a)&&a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function i1e(e,t,i,r){const n=PN(e,{},{context:r,isLabelSymbol:!1});n!=null&&(t[i]=n)}function r1e(e,t,i,r){const n=PN(e,{},{context:r,isLabelSymbol:!0});n!=null&&(t[i]=n)}function m4(e){return e instanceof ru||e instanceof _f}function GW(e){return e instanceof ru&&(e.type==="polygon-3d"||e.type==="line-3d")}function PN(e,t,i){if(e==null)return null;const{context:r,isLabelSymbol:n}=i,s=r?.origin,o=r?.messages;if(s==="web-scene"&&!m4(e)){const a=jW(e,{retainCIM:!0,hasLabelingContext:n});return a.symbol!=null?a.symbol.write(t,r):(o?.push(new ot("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:a.error})),null)}return d4(r?.layer)&&GW(e)?(o?.push(new ot("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:e,context:r})),null):(s==="web-map"||s==="portal-item"&&!d4(r?.layer))&&m4(e)?(o?.push(new ot("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function Bx(e,t){return EW(e,null,t)}class Lt{static async Basemap(t){const i=await xe(()=>import("./Basemap-CKvCwA3Y.js").then(r=>r.B),__vite__mapDeps([25,1,26,24,27]),import.meta.url);return Reflect.construct(i.default,[t])}static async Map(t){const i=await xe(()=>import("./Map-DCaZ_vUZ.js"),__vite__mapDeps([53,25,1,26,24,27,54,55,56,57,58,59,31,19]),import.meta.url);return Reflect.construct(i.default,[t])}static async MapView(t){const i=await xe(()=>import("./MapView-CdjwNzsS.js").then(r=>r.V),__vite__mapDeps([60,1,61,55,49,47,48,33,34,3,4,62,63,53,25,26,24,27,54,56,57,58,59,31,19,64,30,65,18,15,16,40,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88]),import.meta.url);return Reflect.construct(i.default,[t])}static async FeatureLayer(t){const i=await xe(()=>import("./FeatureLayer-bvc3Htb9.js"),__vite__mapDeps([89,1,90,91,92,93,94,95,54,44,52,96,38,87,23,10,97,98,99,58,100,101,102,103,104,29,42,43,105,15,16,30,40,106,4,18,19,107,108,109,110,31,49,111,112,47,48,113,114,39,115,116,117,56,57,118,119,120,121,122,123,124,125,126,127,41,128,129,45,24,46,130,131,132,133,134,135,136,137,138,139,140,141]),import.meta.url);return Reflect.construct(i.default,[t])}static async GraphicsLayer(t){const i=await xe(()=>import("./GraphicsLayer-MDUw3E8o.js"),__vite__mapDeps([142,64,31,1,19,115,116,117,56,57,58,131,43,44]),import.meta.url);return Reflect.construct(i.default,[t])}static async ImageryLayer(t){const i=await xe(()=>import("./ImageryLayer-v3xFmlnJ.js"),__vite__mapDeps([143,1,29,31,19,144,145,49,146,15,16,90,91,92,93,94,95,54,44,52,147,7,98,99,58,100,148,75,113,73,74,76,149,117,56,57,150,101,102,38,42,43,23,10,151,18,152,153,154,155,21,22,112,47,48,156,39,40,115,116,118,41,45,24,46,130,131,132,133,137,139,141]),import.meta.url);return Reflect.construct(i.default,[t])}static async MapImageLayer(t){const i=await xe(()=>import("./MapImageLayer-Bb3rI5tY.js"),__vite__mapDeps([157,26,29,158,31,1,19,114,159,87,40,42,43,44,46,47,48,55,90,91,92,93,94,95,54,52,96,38,23,10,97,98,99,58,100,101,102,103,104,160,161,18,15,16,75,152,153,73,74,76,154,155,21,22,112,162,20,113,156,106,4,107,135,134,125,126,108,109,110,139,163,39,115,116,117,56,57,118,41,45,24,130,131,132,133,164,165,151,137]),import.meta.url);return Reflect.construct(i.default,[t])}static async OpenStreetMapLayer(t){const i=await xe(()=>import("./OpenStreetMapLayer-Cuy5OA0B.js"),__vite__mapDeps([166,167,29,31,1,19,115,116,117,56,57,58,41,42,43,44,45,24,46,47,48,130,131,151,33,34]),import.meta.url);return Reflect.construct(i.default,[t])}static async TileLayer(t){const i=await xe(()=>import("./TileLayer-DKFj_3PJ.js"),__vite__mapDeps([168,26,29,31,1,19,114,32,33,34,35,36,37,38,159,87,40,42,43,44,46,47,48,55,90,91,92,93,94,95,54,52,96,23,10,97,98,99,58,100,101,102,103,104,160,161,18,15,16,75,152,153,73,74,76,154,155,21,22,112,162,20,113,156,106,4,107,135,134,125,126,108,109,110,139,163,39,115,116,117,56,57,118,41,45,24,130,131,151]),import.meta.url);return Reflect.construct(i.default,[t])}static async WMSLayer(t){const i=await xe(()=>import("./WMSLayer-DhIAJReH.js"),__vite__mapDeps([169,55,29,158,31,1,19,115,116,117,56,57,58,41,42,43,44,45,24,46,47,48,130,131,132,133,170,40,171,151]),import.meta.url);return Reflect.construct(i.default,[t])}static async ColorBackground(t){const i=await xe(()=>import("./ColorBackground-DJxFZezX.js"),__vite__mapDeps([88,1]),import.meta.url);return Reflect.construct(i.default,[t])}static async FeatureFilter(t){const i=await xe(()=>import("./FeatureFilter-CNr5daTn.js"),__vite__mapDeps([122,18,15,16,19,1]),import.meta.url);return Reflect.construct(i.default,[t])}static async FieldFromJson(t){return(await xe(()=>import("./Field-DlKE1Mj8.js").then(r=>r.F),__vite__mapDeps([15,16]),import.meta.url)).default.fromJSON(t)}static async Query(){const t=await xe(()=>import("./Query-BotaYlLX.js").then(i=>i.Q),__vite__mapDeps([18,15,16,19]),import.meta.url);return Reflect.construct(t.default,[])}static async QueryByIds(t,i,r){const{executeForIds:n}=await xe(async()=>{const{executeForIds:s}=await import("./query-GK7-O3KE.js");return{executeForIds:s}},__vite__mapDeps([172,18,15,16,19,156,75,153,73,74,76,154,155,21,22,112,47,1,48,113,162,20,173,107,174,175,176,177,152,178,179,180,181,182,183,184]),import.meta.url);return n(t,i,r)}static async RendererFromJson(t){const{fromJSON:i}=await xe(async()=>{const{fromJSON:r}=await import("./jsonUtils-mVpZRL__.js").then(n=>n.j);return{fromJSON:r}},__vite__mapDeps([96,90,91,92,93,94,95,54,44,1,52,38,87,23,10,97,98,99,58,100,101,102,103,104]),import.meta.url);return i(t)}}class Ge{wkid;latestWkid;wkt;constructor(t,i){typeof t=="string"?this.wkt=t:(this.wkid=t,this.latestWkid=i)}isEqual(t){return!!(this.isWebMercator()&&t.isWebMercator()||this.wkid&&t.wkid&&this.wkid===t.wkid||this.wkt&&t.wkt&&this.wkt===t.wkt||this.latestWkid&&t.latestWkid&&this.latestWkid===t.latestWkid)}clone(){const t=new Ge("");return t.latestWkid=this.latestWkid,t.wkid=this.wkid,t.wkt=this.wkt,t}lean(){const t={};return this.wkt?t.wkt=this.wkt:(t.wkid=this.wkid,this.latestWkid&&(t.latestWkid=this.latestWkid)),t}isWebMercator(){const t=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&t.includes(this.wkid)||this.latestWkid&&t.includes(this.latestWkid))}static latLongSR(){return new Ge(4326)}static fromConfig(t){if(t.wkt)return new Ge(t.wkt);if(t.wkid)return new Ge(t.wkid,t.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(t){return t?t instanceof Ge?t.clone():typeof t=="string"&&t.startsWith("EPSG:")?new Ge(parseInt(t.substring(5).trim())):new Ge(t):Ge.latLongSR()}static fromESRI(t){if(t.wkt)return new Ge(t.wkt);{const i=t.toJSON().latestWkid,r=new Ge(t.wkid);return i&&(r.latestWkid=i),r}}toESRI(){return new zi(this.lean())}static fromGeoJSON(t){const i=Ge.parseGeoJsonCrs(t);return i.substring(0,5)==="EPSG:"?new Ge(parseInt(i.slice(5))):new Ge(i)}static parseGeoJsonCrs(t){if(t){if(t.type==="name"){const i=/urn:ogc:def:crs:EPSG::(\d+)/,r=t.properties.name,n=r.match(i);if(n)return"EPSG:"+n[1];if(r.substring(0,7)!=="urn:ogc")return r}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",t),"EPSG:4326"}toGeoJSON(){const t={type:"name",properties:{name:""}};return this.wkt?t.properties.name=this.wkt:t.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),t}}class au{sr;id;constructor(t,i){this.id=t?t.toString():"",this.sr=Ge.parseSR(i)}get type(){return Ke.UNKNOWN}childIdGenerator(t){return`${this.id}-${t}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Ke.NONE||this.type===Ke.UNKNOWN}geoJsonFactory(t,i){const r={type:t,coordinates:i};return this.sr&&(r.crs=this.sr.toGeoJSON()),r}}class gl extends au{constructor(){super("no_geometry")}get type(){return Ke.NONE}}let Rr=class md extends au{rawArray;constructor(t,i,r,n){super(t,i.sr||r),n?this.rawArray=i.slice():this.rawArray=md.parseXY(i)}get type(){return Ke.POINT}get x(){return this.rawArray[0]}set x(t){this.rawArray[0]=t}get y(){return this.rawArray[1]}set y(t){this.rawArray[1]=t}toArray(){return this.rawArray.slice()}static parseXY(t){let i;if(Array.isArray(t)&&t.length===2)i=t;else{if(t instanceof md)return t.toArray();i=[t.x,t.y]}if(isNaN(i[0])||isNaN(i[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(i[0]),parseFloat(i[1])]}static fromESRI(t,i){return new md(i,[t.x,t.y],Ge.fromESRI(t.spatialReference),!0)}toESRI(){return new Oi({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new md(i,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.POINT,this.toArray())}};class Qr extends au{rawArray;constructor(t,i,r,n){super(t,i.sr||r),n?this.rawArray=Qr.arrayDeepCopy(i):i instanceof Qr?this.rawArray=i.toArray():this.rawArray=Qr.parsePointSet(i)}get pointArray(){return this.rawArray.map((t,i)=>new Rr(this.childIdGenerator(i),t,this.sr,!0))}getAt(t){return new Rr(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,i){this.rawArray[i]=Rr.parseXY(t)}get length(){return this.rawArray.length}toArray(){return Qr.arrayDeepCopy(this.rawArray)}static parsePointSet(t){if(Array.isArray(t)){if(t.length===0)throw new Error("no verticies provided");return t.map(i=>Rr.parseXY(i))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(t){return t.map(i=>i.slice())}}class dh extends Qr{constructor(t,i,r,n){super(t,i,r,n)}get type(){return Ke.MULTIPOINT}static fromESRI(t,i){return new dh(i,t.points,Ge.fromESRI(t.spatialReference),!0)}toESRI(){return new I1({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new dh(i,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.MULTIPOINT,this.toArray())}}class tl extends Qr{constructor(t,i,r,n){if(super(t,i,r,n),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Ke.LINESTRING}static fromESRI(t,i){return new tl(i,t.paths[0],Ge.fromESRI(t.spatialReference),!0)}toESRI(){return new om({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new tl(i,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.LINESTRING,this.toArray())}}class ss extends au{rawArray;constructor(t,i,r,n){if(super(t,i.sr||r),n)this.rawArray=ss.arrayDeepCopy(i);else if(i instanceof ss)this.rawArray=i.toArray();else if(i instanceof Qr)this.rawArray=[i.toArray()];else if(Array.isArray(i)){if(i.length===0)throw new Error("no lines provided");this.rawArray=i.map(s=>Qr.parsePointSet(s))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((t,i)=>new tl(this.childIdGenerator(i),t,this.sr,!0))}getAt(t){return new tl(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,i){this.rawArray[i]=Qr.parsePointSet(t)}get length(){return this.rawArray.length}get type(){return Ke.MULTILINESTRING}toArray(){return ss.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.slice()))}static fromESRI(t,i){return new ss(i,t.paths,Ge.fromESRI(t.spatialReference),!0)}toESRI(){return new om({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new ss(i,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.MULTILINESTRING,this.toArray())}}class _c extends Qr{constructor(t,i,r,n){if(super(t,i,r,n),_c.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Ke.LINEARRING}updateAt(t,i){const r=this.length-1;i===0?super.updateAt(t,r):i===r&&super.updateAt(t,0),super.updateAt(t,i)}static closeRing(t){const i=t[0],r=t[t.length-1];(i[0]!==r[0]||i[1]!==r[1])&&t.push(i.slice())}static fromESRI(t,i){return new _c(i,t.rings[0],Ge.fromESRI(t.spatialReference),!0)}toESRI(){return new jc({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new _c(i,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.POLYGON,[this.toArray()])}}class yr extends au{rawArray;constructor(t,i,r,n){super(t,i.sr||r),n?this.rawArray=yr.arrayDeepCopy(i):this.rawArray=yr.parsePolygon(i)}addLinearRings(t){t.forEach(i=>this.rawArray.push(i.toArray()))}get ringArray(){return this.rawArray.map((t,i)=>new _c(this.childIdGenerator(i),t,this.sr,!0))}get type(){return Ke.POLYGON}toArray(){return yr.arrayDeepCopy(this.rawArray)}static parsePolygon(t){let i=[];if(t instanceof yr)return t.toArray();if(t instanceof ss)i=t.toArray();else if(t instanceof Qr)i=[t.toArray()];else if(Array.isArray(t)){if(t.length===0)throw new Error("no rings provided");i=t.map(r=>Qr.parsePointSet(r))}else throw new Error("invalid input format for parsePolygon");return i.forEach(r=>_c.closeRing(r)),i}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.slice()))}static fromESRI(t,i){return new yr(i,t.rings,Ge.fromESRI(t.spatialReference),!0)}toESRI(){return new jc({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new yr(i,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.POLYGON,this.toArray())}}class Go extends au{rawArray;constructor(t,i,r,n){super(t,i.sr||r),n?this.rawArray=Go.arrayDeepCopy(i):this.rawArray=Go.parseMultiPolygon(i)}addPolygon(t){this.rawArray.push(t.toArray())}get polygonArray(){return this.rawArray.map((t,i)=>new yr(this.childIdGenerator(i),t,this.sr,!0))}get type(){return Ke.MULTIPOLYGON}toArray(){return Go.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(t){if(t instanceof Go)return t.toArray();if(t instanceof yr)return[t.toArray()];if(t instanceof ss||t instanceof Qr)return[yr.parsePolygon(t)];if(Array.isArray(t)){if(t.length===0)throw new Error("no polygons provided");return t.map(i=>yr.parsePolygon(i))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.map(n=>n.slice())))}static fromESRI(t,i){return new Go(i,[t.rings],Ge.fromESRI(t.spatialReference),!0)}toESRI(){const t=[];return this.toArray().forEach(i=>{i.forEach(r=>t.push(r))}),new jc({rings:t,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Go(i,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.MULTIPOLYGON,this.toArray())}}class Xt extends au{rawMin;rawMax;constructor(t,i,r,n){super(t,i.sr||n),this.rawMin=Rr.parseXY(i),this.rawMax=Rr.parseXY(r)}get type(){return Ke.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new Rr(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(t){return Xt.fromESRI(this.toESRI().expand(t),`${this.id}-expanded`)}clone(){return new Xt(this.id,this.rawMin,this.rawMax,this.sr)}contains(t){return this.sr.isEqual(t.sr)?this.xmin<=t.x&&this.xmax>=t.x&&this.ymin<=t.y&&this.ymax>=t.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new yr(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(t,i,r,n,s,o){return new Xt(t,[i,r],[n,s],o)}static fromConfig(t,i){return new Xt(t,[i.xmin,i.ymin],[i.xmax,i.ymax],Ge.fromConfig(i.spatialReference))}isEqual(t){return t?this.xmin===t.xmin&&this.ymin===t.ymin&&this.xmax===t.xmax&&this.ymax===t.ymax:!1}static fromESRI(t,i){return Xt.fromParams(i,t.xmin,t.ymin,t.xmax,t.ymax,Ge.fromESRI(t.spatialReference))}toESRI(){return new zn({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(t,i){return Xt.fromESRI(zn.fromJSON(t),i)}static fromGeoJSON(t,i){if(t.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const r=t.coordinates[0].slice(),n=r.slice();return[1,2,3].forEach(s=>{[0,1].forEach(o=>{const a=t.coordinates[s];r[o]>a[o]&&(r[o]=a[o]),n[o]<a[o]&&(n[o]=a[o])})}),new Xt(i,r,n,Ge.fromGeoJSON(t.crs))}toGeoJSON(){return this.geoJsonFactory(ci.POLYGON,this.toPolygonArray())}}class Qo{c;constructor(t){if(!t){this.c=[0,0,0,1];return}if(Array.isArray(t)){const i=t.length;if(i<3||i>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=t.map((r,n)=>n===3?r:parseInt(r)),i===3&&this.c.push(1)}else if(typeof t=="string"){const i=t.substring(0,1)==="#"?t.substring(1):t;this.c=[0,2,4,6].map(r=>{const n=i.substring(r,r+2);return Qo.hexToInt(n)})}else this.c=[t.r,t.g,t.b,t.a??1];this.c.forEach((i,r)=>{i<0&&(console.error("Negative value passed to colour"),this.c[r]=0),i>255&&(console.error("Rotund value passed to colour"),this.c[r]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const t=this.rgba;return t[3]=t[3]*255,`#${t.map(i=>Qo.intToHex(i)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new mt(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(t){return t.length===0?255:parseInt(t,16)}static intToHex(t){const i=t.toString(16);return i.length===1?`0${i}`:i}}class Bo{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(t){if(!(typeof t>"u"))if(typeof t=="string"){let i;const r=t.length;if(r===0)return;const n=t.substring(r-2);return n==="px"?i=parseFloat(t.substring(0,r-2))*1.333333:n==="pt"?i=parseFloat(t.substring(0,r-2)):i=parseFloat(t),i}else return t}}class Za extends Bo{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(t){if(t=t||{style:Io.CIRCLE},super(),this._style=t.style||Io.CIRCLE,t.style===Io.ICON){const i=t;this._icon=i.icon||"",this._height=Bo.convToPoints(i.height)||16.5,this._width=Bo.convToPoints(i.width)||16.5,this._size=0,this._colour=new Qo,this._outline=new no,this._path=""}else{const i=t;this._size=Bo.convToPoints(i.size)||12,this._colour=new Qo(i.colour??"#ffffff40"),this._outline=new no(i.outline),this._path=this._style===Io.PATH&&i.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=Bo.convToPoints(t.xOffset)||0,this._yOffset=Bo.convToPoints(t.yOffset)||0,this._angle=t.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(t){this._style===Io.ICON!==t&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const t={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===Io.ICON?{...t,icon:this.icon,width:this.width,height:this.height}:{...t,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let t;return this.styleType===Io.ICON?Za.isImageUrl(this.icon)?(t=new vf,t.url=this.icon,t.width=this.width,t.height=this.height,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new po,t.color=new mt(this.colour.rgba),t.size=this.width,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new po,t.color=new mt(this.colour.rgba),t.size=this.size,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle,t.path=this.path,t.style=this.styleType,t.outline=this.outline.toESRI()),t}static fromESRI(t){const i={xOffset:t.xoffset,yOffset:t.yoffset,angle:t.angle};if(t.type==="simple-marker"){const r=i;r.style=t.style,r.colour=t.color.toRgba(),r.size=t.size,r.path=t.path,r.outline=no.fromESRI(t.outline).toOptions()}else{const r=i;r.style=Io.ICON,r.width=t.width,r.height=t.height,r.icon=t.url}return new Za(i)}static fromArcServer(t){return Za.fromESRI(Bx(t))}static isImageUrl(t){return!!t.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!t.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class no extends Bo{_style;_width;_miter;_cap;_join;_colour;constructor(t){t=t||{},super(),this._style=t.style||zr.SOLID;const i=Bo.convToPoints(t.width);this._width=typeof i>"u"||i<0?.75:i,this._colour=new Qo(t.colour),this._miter=t.miter??2,this._cap=t.cap||PO.ROUND,this._join=t.join||NO.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const t=new Ts;return t.width=this.width,t.color=this.colour.toESRI(),t.style=this.styleType,t.cap=this.cap,t.miterLimit=this.miter,t.join=this.join,t}static fromESRI(t){const i={width:t.width,colour:t.color.toRgba(),style:t.style};return new no(i)}static fromArcServer(t){return no.fromESRI(Bx(t))}}class Sp extends Bo{_outlineStyle;_fillColour;_fillStyle;constructor(t){super(),t=t||{},t.fill||(t.fill={}),this._fillColour=new Qo(t.fill.colour),this._fillStyle=t.fill.style||LO.SOLID,this._outlineStyle=new no(t.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const t=this.outline.toESRI(),i=new mt(this.fillColour.rgba),r=new ou;return r.style=this.fillStyleType,r.color=i,r.outline=t,r}static fromESRI(t){const i={fill:{colour:t.color.toRgba(),style:t.style},outline:no.fromESRI(t.outline).toOptions()};return new Sp(i)}static fromArcServer(t){return Sp.fromESRI(Bx(t))}}class BW{Extent=Xt;Graphic=vs;LineString=tl;LineStyle=no;LinearRing=_c;MultiLineString=ss;MultiPoint=dh;MultiPolygon=Go;Point=Rr;PointStyle=Za;Polygon=yr;PolygonStyle=Sp;SpatialReference=Ge;esriMapClickToRamp(t,i){return{mapPoint:Rr.fromESRI(t.mapPoint,i),screenX:t.x,screenY:t.y,button:t.button,input:t.native.pointerType,clickTime:t.timestamp}}esriMapMouseToRamp(t){return{screenX:t.x,screenY:t.y,button:t.button,moveTime:t.timestamp}}geomRampToEsri(t){return t.toESRI()}geomEsriToRamp(t,i){switch(t.type){case"point":return Rr.fromESRI(t,i);case"polyline":{const r=t;return r.paths.length===1?tl.fromESRI(r,i):ss.fromESRI(r,i)}case"polygon":return yr.fromESRI(t,i);case"extent":return Xt.fromESRI(t,i);case"multipoint":return dh.fromESRI(t,i);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomGeoJsonToRamp(t,i){switch(t.type){case ci.POINT:return Rr.fromGeoJSON(t,i);case ci.LINESTRING:return tl.fromGeoJSON(t,i);case ci.POLYGON:return yr.fromGeoJSON(t,i);case ci.MULTIPOINT:return dh.fromGeoJSON(t,i);case ci.MULTILINESTRING:return ss.fromGeoJSON(t,i);case ci.MULTIPOLYGON:return Go.fromGeoJSON(t,i);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomRampToGeoJson(t){return t.toGeoJSON()}graphicRampToGeoJson(t){const i={},r={type:"Feature",geometry:this.geomRampToGeoJson(t.geometry),properties:i};return Object.keys(t.attributes).forEach(n=>r.properties[n]=t.attributes[n]),r}graphicGeoJsonToRamp(t,i){if(t.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const r=this.geomGeoJsonToRamp(t.geometry,i),n={};return Object.keys(t.properties.forEach(o=>n[o]=t.properties[o])),new vs(r,"",n)}graphicRampToEsri(t){const i={attributes:{},id:t.id};return i.geometry=this.geomRampToEsri(t.geometry),Object.keys(t.attributes).forEach(r=>i.attributes[r]=t.attributes[r]),t.style&&(i.symbol=this.styleRampToEsri(t.style)),new MW(i)}styleRampToEsri(t){return t.toESRI()}styleEsriToRamp(t){switch(t.type){case"picture-marker":case"simple-marker":return Za.fromESRI(t);case"simple-line":return no.fromESRI(t);case"simple-fill":return Sp.fromESRI(t);default:return console.error(`Unsupported ESRI symbol type encountered: ${t.type}`),new Za}}serverGeomTypeToRampGeomType(t){if(!t)return Ke.NONE;switch(t){case"esriGeometryPolygon":return Ke.POLYGON;case"esriGeometryPolyline":return Ke.LINESTRING;case"esriGeometryPoint":return Ke.POINT;case"esriGeometryMultipoint":return Ke.MULTIPOINT;case"esriGeometryEnvelope":return Ke.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${t}`),Ke.UNKNOWN}}clientGeomTypeToRampGeomType(t){if(!t)return Ke.NONE;switch(t){case"polygon":return Ke.POLYGON;case"polyline":return Ke.LINESTRING;case"point":return Ke.POINT;case"multipoint":return Ke.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${t}`),Ke.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(t){switch(t){case ci.POINT:return"point";case ci.LINESTRING:case ci.MULTILINESTRING:return"polyline";case ci.POLYGON:case ci.MULTIPOLYGON:return"polygon";case ci.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${t}`)}}isImageUrl(t){return Za.isImageUrl(t)}}class lg{layerIdx;name;children;uid;isRoot;constructor(t,i,r="",n=!0){this.layerIdx=t,this.name=r,this.isRoot=n,this.children=[],this.uid=i}findChildByUid(t){if(this.uid===t)return this;{let i;return this.children.some(r=>i=r.findChildByUid(t)),i}}findChildByIdx(t){if(this.layerIdx===t)return this;{let i;return this.children.some(r=>i=r.findChildByIdx(t)),i}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class LN{minScale;maxScale;constructor(t=0,i=0){this.minScale=t,this.maxScale=i}isOffScale(t){const i={offScale:!1,zoomIn:!1};return t<this.maxScale&&this.maxScale!==0?(i.offScale=!0,i.zoomIn=!1):t>this.minScale&&this.minScale!==0&&(i.offScale=!0,i.zoomIn=!0),i}}class kN{sql;cache;extent;constructor(t="",i=""){this.sql={[Pr.PERMANENT]:t,[Pr.INITIAL]:i},this.extent=void 0,this.cache={}}sqlActiveFilters(t=[]){const i=this.sql,r=Object.keys(i).filter(n=>i[n]);return t.length===0?r:r.filter(n=>t.indexOf(n)===-1)}isActive(){return this.sqlActiveFilters([Pr.PERMANENT]).length>0}getCombinedSql(t=[]){const i=this.sqlActiveFilters(t),r=i.length;return r===0?"":r===1?this.sql[i[0]]:i.map(n=>`(${this.sql[n]})`).join(" AND ")}setSql(t,i){t===Pr.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[t]=i,this.clearCacheSet(t))}getSql(t){return this.sql[t]||""}setExtent(t){t.isEqual(this.extent)||(this.extent=t,this.clearCacheSet(Pr.EXTENT))}getCacheKey(t,i){return`_cache$${t.sort().join("$")}${i?"$"+Pr.EXTENT:""}$`}getCache(t,i){const r=this.getCacheKey(t,i);return this.cache[r]}setCache(t,i,r){const n=this.getCacheKey(i,r);this.cache[n]=t}cacheActiveKeys(){const t=this.cache;return Object.keys(t).filter(i=>t[i])}clearAllCaches(){this.cache={}}clearCacheSet(t){this.cacheActiveKeys().forEach(i=>{i.indexOf(`$${t}$`)>-1&&delete this.cache[i]})}clearAll(){this.sql={[Pr.PERMANENT]:this.sql[Pr.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class xp{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(t,i,r=void 0,n=void 0){this.id=t,this.sr=i.sr.clone(),this._defaultExtent=i.clone(),this._fullExtent=r?.clone(),this._maximumExtent=n?.clone(),r&&!r.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${r.sr}`),n&&!n.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${n.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(t){this._defaultExtent=t.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(t){this._fullExtent=t.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(t){this._maximumExtent=t.clone()}static fromConfig(t){return new xp(t.id,Xt.fromConfig(`${t.id}-extent-default`,t.default),t.full!==void 0?Xt.fromConfig(`${t.id}-extent-full`,t.full):void 0,t.maximum!==void 0?Xt.fromConfig(`${t.id}-extent-maximum`,t.maximum):void 0)}clone(){return new xp(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class $i{realPromise;resolveMe(t){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((t,i)=>{this.resolveMe=r=>{t(r)},this.rejectMe=i})}}var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function VW(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),i}var Sb,y4;function zW(){if(y4)return Sb;y4=1;var e=function(A){return t(A)&&!i(A)};function t(x){return!!x&&typeof x=="object"}function i(x){var A=Object.prototype.toString.call(x);return A==="[object RegExp]"||A==="[object Date]"||s(x)}var r=typeof Symbol=="function"&&Symbol.for,n=r?Symbol.for("react.element"):60103;function s(x){return x.$$typeof===n}function o(x){return Array.isArray(x)?[]:{}}function a(x,A){return A.clone!==!1&&A.isMergeableObject(x)?_(o(x),x,A):x}function l(x,A,w){return x.concat(A).map(function(b){return a(b,w)})}function c(x,A){if(!A.customMerge)return _;var w=A.customMerge(x);return typeof w=="function"?w:_}function f(x){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(x).filter(function(A){return Object.propertyIsEnumerable.call(x,A)}):[]}function d(x){return Object.keys(x).concat(f(x))}function p(x,A){try{return A in x}catch{return!1}}function y(x,A){return p(x,A)&&!(Object.hasOwnProperty.call(x,A)&&Object.propertyIsEnumerable.call(x,A))}function v(x,A,w){var b={};return w.isMergeableObject(x)&&d(x).forEach(function(M){b[M]=a(x[M],w)}),d(A).forEach(function(M){y(x,M)||(p(x,M)&&w.isMergeableObject(A[M])?b[M]=c(M,w)(x[M],A[M],w):b[M]=a(A[M],w))}),b}function _(x,A,w){w=w||{},w.arrayMerge=w.arrayMerge||l,w.isMergeableObject=w.isMergeableObject||e,w.cloneUnlessOtherwiseSpecified=a;var b=Array.isArray(A),M=Array.isArray(x),I=b===M;return I?b?w.arrayMerge(x,A,w):v(x,A,w):a(A,w)}_.all=function(A,w){if(!Array.isArray(A))throw new Error("first argument should be an array");return A.reduce(function(b,M){return _(b,M,w)},{})};var E=_;return Sb=E,Sb}var qW=zW();const RN=z1(qW);class WW{generateUUID(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(i==="x"?r:r&3|8).toString(16)})}convertImageToCanvas(t,i,r=!0){const n=i??document.createElement("canvas"),s=document.createElement("img");r&&(s.crossOrigin="anonymous");const o=new Promise((a,l)=>{s.addEventListener("load",()=>{n.width=s.width,n.height=s.height,n.getContext("2d")?.drawImage(s,0,0),a(n)}),s.addEventListener("error",c=>l(c))});return s.src=t,o}async convertImagetoDataURL(t,i="image/png"){return t.startsWith("data")?t:this.convertImageToCanvas(t).then(r=>r.toDataURL(i)).catch(r=>(console.error("Failed to load crossorigin image",t,r),t))}parseUrlIndex(t){const i={rootUrl:t,index:0},r=/\/(\d+)\/?$/,n=t.match(r);if(n){const s=n[1];i.index=isNaN(parseInt(s))?void 0:parseInt(s),i.rootUrl=t.substr(0,t.length-n[0].length)}else console.warn("Cannot extract layer index from url "+t);return i}controlAvailable(t,i){return i?.disabledControls?.includes(t)?!1:i?.controls?i?.controls?.includes(t):!0}}class cg{_url;_base;_query;_queryMap={};constructor(t){this._url=t,[this._base,this._query]=t.split("?").concat(""),this._queryMap=this._query.split("&").reduce((i,r)=>{const[n,s]=r.split("=");return i[n]=s,i},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(t){const i=RN.all([{},this.queryMap,t]);return`${this.base}${Object.entries(i).filter(([,n])=>n!==void 0).map(([n,s],o)=>`${o===0?"?":""}${n}=${s}`).join("&")}`}}/* @preserve
* @terraformer/spatial - v2.1.2 - MIT
* Copyright (c) 2012-2024 Environmental Systems Research Institute, Inc.
* Wed May 15 2024 14:35:51 GMT-0700 (Pacific Daylight Time)
*/var Nd=6378137,HW=57.29577951308232,YW=.017453292519943,JW={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},xb=function(t){return t*HW},Eb=function(t){return t*YW},KW=function(t){var i=t[0],r=t[1];return[xb(i/Nd)-Math.floor((xb(i/Nd)+180)/360)*360,xb(Math.PI/2-2*Math.atan(Math.exp(-1*r/Nd)))]},ZW=function(t){var i=t[0],r=Math.max(Math.min(t[1],89.99999),-89.99999);return[Eb(i)*Nd,Nd/2*Math.log((1+Math.sin(Eb(r)))/(1-Math.sin(Eb(r))))]};function pw(e){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pw(e)}var XW=function e(t,i){for(var r=0;r<t.length;r++)typeof t[r][0]=="number"&&(t[r]=i(t[r])),pw(t[r])==="object"&&(t[r]=e(t[r],i));return t},QW=function e(t,i,r){if(t.type==="Point")t.coordinates=i(t.coordinates);else if(t.type==="Feature")t.geometry=e(t.geometry,i,!0);else if(t.type==="FeatureCollection")for(var n=0;n<t.features.length;n++)t.features[n]=e(t.features[n],i,!0);else if(t.type==="GeometryCollection")for(var s=0;s<t.geometries.length;s++)t.geometries[s]=e(t.geometries[s],i,!0);else t.coordinates=XW(t.coordinates,i);return r||i===ZW&&(t.crs=JW),i===KW&&delete t.crs,t};function eH(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var Bc=1,Vc=2,ph=3,tH=4,mw=5,g4=6378137,iH=6356752314e-3,v4=.0066943799901413165,Pd=484813681109536e-20,he=Math.PI/2,rH=.16666666666666666,nH=.04722222222222222,sH=.022156084656084655,be=1e-10,rr=.017453292519943295,Zs=57.29577951308232,wt=Math.PI/4,Ep=Math.PI*2,gi=3.14159265359,ln={};ln.greenwich=0;ln.lisbon=-9.131906111111;ln.paris=2.337229166667;ln.bogota=-74.080916666667;ln.madrid=-3.687938888889;ln.rome=12.452333333333;ln.bern=7.439583333333;ln.jakarta=106.807719444444;ln.ferro=-17.666666666667;ln.brussels=4.367975;ln.stockholm=18.058277777778;ln.athens=23.7163375;ln.oslo=10.722916666667;const oH={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var b4=/[\s_\-\/\(\)]/g;function cl(e,t){if(e[t])return e[t];for(var i=Object.keys(e),r=t.toLowerCase().replace(b4,""),n=-1,s,o;++n<i.length;)if(s=i[n],o=s.toLowerCase().replace(b4,""),o===r)return e[s]}function yw(e){var t={},i=e.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),r,n,s,o={proj:"projName",datum:"datumCode",rf:function(a){t.rf=parseFloat(a)},lat_0:function(a){t.lat0=a*rr},lat_1:function(a){t.lat1=a*rr},lat_2:function(a){t.lat2=a*rr},lat_ts:function(a){t.lat_ts=a*rr},lon_0:function(a){t.long0=a*rr},lon_1:function(a){t.long1=a*rr},lon_2:function(a){t.long2=a*rr},alpha:function(a){t.alpha=parseFloat(a)*rr},gamma:function(a){t.rectified_grid_angle=parseFloat(a)},lonc:function(a){t.longc=a*rr},x_0:function(a){t.x0=parseFloat(a)},y_0:function(a){t.y0=parseFloat(a)},k_0:function(a){t.k0=parseFloat(a)},k:function(a){t.k0=parseFloat(a)},a:function(a){t.a=parseFloat(a)},b:function(a){t.b=parseFloat(a)},r:function(a){t.a=t.b=parseFloat(a)},r_a:function(){t.R_A=!0},zone:function(a){t.zone=parseInt(a,10)},south:function(){t.utmSouth=!0},towgs84:function(a){t.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){t.to_meter=parseFloat(a)},units:function(a){t.units=a;var l=cl(oH,a);l&&(t.to_meter=l.to_meter)},from_greenwich:function(a){t.from_greenwich=a*rr},pm:function(a){var l=cl(ln,a);t.from_greenwich=(l||parseFloat(a))*rr},nadgrids:function(a){a==="@null"?t.datumCode="none":t.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(t.axis=a)},approx:function(){t.approx=!0}};for(r in i)n=i[r],r in o?(s=o[r],typeof s=="function"?s(n):t[s]=n):t[r]=n;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var Tp=1,DN=2,FN=3,ug=4,UN=5,Vx=-1,aH=/\s/,lH=/[A-Za-z]/,cH=/[A-Za-z84_]/,q1=/[,\]]/,jN=/[\d\.E\-\+]/;function na(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Tp}na.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==ug)for(;aH.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case Tp:return this.neutral(e);case DN:return this.keyword(e);case ug:return this.quoted(e);case UN:return this.afterquote(e);case FN:return this.number(e);case Vx:return}};na.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=ug;return}if(q1.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};na.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Tp;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Tp,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Vx);return}};na.prototype.number=function(e){if(jN.test(e)){this.word+=e;return}if(q1.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};na.prototype.quoted=function(e){if(e==='"'){this.state=UN;return}this.word+=e};na.prototype.keyword=function(e){if(cH.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=Tp;return}if(q1.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};na.prototype.neutral=function(e){if(lH.test(e)){this.word=e,this.state=DN;return}if(e==='"'){this.word="",this.state=ug;return}if(jN.test(e)){this.word=e,this.state=FN;return}if(q1.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};na.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Vx)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function uH(e){var t=new na(e);return t.output()}function _4(e,t,i){Array.isArray(t)&&(i.unshift(t),t=null);var r=t?{}:e,n=i.reduce(function(s,o){return Ju(o,s),s},r);t&&(e[t]=n)}function Ju(e,t){if(!Array.isArray(e)){t[e]=!0;return}var i=e.shift();if(i==="PARAMETER"&&(i=e.shift()),e.length===1){if(Array.isArray(e[0])){t[i]={},Ju(e[0],t[i]);return}t[i]=e[0];return}if(!e.length){t[i]=!0;return}if(i==="TOWGS84"){t[i]=e;return}if(i==="AXIS"){i in t||(t[i]=[]),t[i].push(e);return}Array.isArray(i)||(t[i]={});var r;switch(i){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[i]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&Ju(e[2],t[i]);return;case"SPHEROID":case"ELLIPSOID":t[i]={name:e[0],a:e[1],rf:e[2]},e.length===4&&Ju(e[3],t[i]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],_4(t,i,e);return;default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return Ju(e,t[i]);return _4(t,i,e)}}var hH=.017453292519943295;function fH(e,t){var i=t[0],r=t[1];!(i in e)&&r in e&&(e[i]=e[r],t.length===3&&(e[i]=t[2](e[i])))}function Ns(e){return e*hH}function dH(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",i=0,r=e.AXIS.length;i<r;++i){var n=[e.AXIS[i][0].toLowerCase(),e.AXIS[i][1].toLowerCase()];n[0].indexOf("north")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="north"?t+="n":n[0].indexOf("south")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="south"?t+="s":n[0].indexOf("east")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="east"?t+="e":(n[0].indexOf("west")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var s=e.GEOGCS;e.type==="GEOGCS"&&(s=e),s&&(s.DATUM?e.datumCode=s.DATUM.name.toLowerCase():e.datumCode=s.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(e.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=s.DATUM.SPHEROID.a,e.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(e.datum_params=s.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function o(c){var f=e.to_meter||1;return c*f}var a=function(c){return fH(e,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Ns],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Ns],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Ns],["lat0","latitude_of_origin",Ns],["lat0","standard_parallel_1",Ns],["lat1","standard_parallel_1",Ns],["lat2","standard_parallel_2",Ns],["azimuth","Azimuth"],["alpha","azimuth",Ns],["srsCode","name"]];l.forEach(a),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=Ns(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=Ns(e.lat0>0?90:-90))}function GN(e){var t=uH(e),i=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",i]);var n={};return Ju(t,n),dH(n),n}function Cr(e){var t=this;if(arguments.length===2){var i=arguments[1];typeof i=="string"?i.charAt(0)==="+"?Cr[e]=yw(arguments[1]):Cr[e]=GN(arguments[1]):Cr[e]=i}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(r){Array.isArray(r)?Cr.apply(t,r):Cr(r)});if(typeof e=="string"){if(e in Cr)return Cr[e]}else"EPSG"in e?Cr["EPSG:"+e.EPSG]=e:"ESRI"in e?Cr["ESRI:"+e.ESRI]=e:"IAU2000"in e?Cr["IAU2000:"+e.IAU2000]=e:console.log(e);return}}eH(Cr);function pH(e){return typeof e=="string"}function mH(e){return e in Cr}var yH=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function gH(e){return yH.some(function(t){return e.indexOf(t)>-1})}var vH=["3857","900913","3785","102113"];function bH(e){var t=cl(e,"authority");if(t){var i=cl(t,"epsg");return i&&vH.indexOf(i)>-1}}function _H(e){var t=cl(e,"extension");if(t)return cl(t,"proj4")}function wH(e){return e[0]==="+"}function SH(e){if(pH(e)){if(mH(e))return Cr[e];if(gH(e)){var t=GN(e);if(bH(t))return Cr["EPSG:3857"];var i=_H(t);return i?yw(i):t}if(wH(e))return yw(e)}else return e}function w4(e,t){e=e||{};var i,r;if(!t)return e;for(r in t)i=t[r],i!==void 0&&(e[r]=i);return e}function mo(e,t,i){var r=e*t;return i/Math.sqrt(1-r*r)}function mm(e){return e<0?-1:1}function Se(e){return Math.abs(e)<=gi?e:e-mm(e)*Ep}function ms(e,t,i){var r=e*i,n=.5*e;return r=Math.pow((1-r)/(1+r),n),Math.tan(.5*(he-t))/r}function Ap(e,t){for(var i=.5*e,r,n,s=he-2*Math.atan(t),o=0;o<=15;o++)if(r=e*Math.sin(s),n=he-2*Math.atan(t*Math.pow((1-r)/(1+r),i))-s,s+=n,Math.abs(n)<=1e-10)return s;return-9999}function xH(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=mo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function EH(e){var t=e.x,i=e.y;if(i*Zs>90&&i*Zs<-90&&t*Zs>180&&t*Zs<-180)return null;var r,n;if(Math.abs(Math.abs(i)-he)<=be)return null;if(this.sphere)r=this.x0+this.a*this.k0*Se(t-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(wt+.5*i));else{var s=Math.sin(i),o=ms(this.e,i,s);r=this.x0+this.a*this.k0*Se(t-this.long0),n=this.y0-this.a*this.k0*Math.log(o)}return e.x=r,e.y=n,e}function TH(e){var t=e.x-this.x0,i=e.y-this.y0,r,n;if(this.sphere)n=he-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var s=Math.exp(-i/(this.a*this.k0));if(n=Ap(this.e,s),n===-9999)return null}return r=Se(this.long0+t/(this.a*this.k0)),e.x=r,e.y=n,e}var AH=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const MH={init:xH,forward:EH,inverse:TH,names:AH};function IH(){}function S4(e){return e}var OH=["longlat","identity"];const $H={init:IH,forward:S4,inverse:S4,names:OH};var CH=[MH,$H],yy={},hg=[];function BN(e,t){var i=hg.length;return e.names?(hg[i]=e,e.names.forEach(function(r){yy[r.toLowerCase()]=i}),this):(console.log(t),!0)}function NH(e){if(!e)return!1;var t=e.toLowerCase();if(typeof yy[t]<"u"&&hg[yy[t]])return hg[yy[t]]}function PH(){CH.forEach(BN)}const LH={start:PH,add:BN,get:NH};var We={};We.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};We.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};We.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};We.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};We.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};We.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};We.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};We.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};We.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};We.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};We.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};We.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};We.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};We.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};We.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};We.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};We.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};We.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};We.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};We.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};We.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};We.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};We.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};We.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};We.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};We.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};We.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};We.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};We.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};We.hough={a:6378270,rf:297,ellipseName:"Hough"};We.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};We.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};We.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};We.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};We.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};We.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};We.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};We.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};We.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};We.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};We.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};We.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var kH=We.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};We.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function RH(e,t,i,r){var n=e*e,s=t*t,o=(n-s)/n,a=0;r?(e*=1-o*(rH+o*(nH+o*sH)),n=e*e,o=0):a=Math.sqrt(o);var l=(n-s)/s;return{es:o,e:a,ep2:l}}function DH(e,t,i,r,n){if(!e){var s=cl(We,r);s||(s=kH),e=s.a,t=s.b,i=s.rf}return i&&!t&&(t=(1-1/i)*e),(i===0||Math.abs(e-t)<be)&&(n=!0,t=e),{a:e,b:t,rf:i,sphere:n}}var Hi={};Hi.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Hi.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Hi.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Hi.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Hi.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Hi.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Hi.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Hi.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Hi.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Hi.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Hi.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Hi.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Hi.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Hi.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Hi.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Hi.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Hi.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Hi.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function FH(e,t,i,r,n,s,o){var a={};return e===void 0||e==="none"?a.datum_type=mw:a.datum_type=tH,t&&(a.datum_params=t.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=Bc),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=Vc,a.datum_params[3]*=Pd,a.datum_params[4]*=Pd,a.datum_params[5]*=Pd,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=ph,a.grids=o),a.a=i,a.b=r,a.es=n,a.ep2=s,a}var VN={};function UH(e,t){var i=new DataView(t),r=BH(i),n=VH(i,r),s=zH(i,n,r),o={header:n,subgrids:s};return VN[e]=o,o}function jH(e){if(e===void 0)return null;var t=e.split(",");return t.map(GH)}function GH(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:VN[e]||null,isNull:!1}}function Ku(e){return e/3600*Math.PI/180}function BH(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function VH(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:gw(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function gw(e,t,i){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,i)))}function zH(e,t,i){for(var r=176,n=[],s=0;s<t.nSubgrids;s++){var o=WH(e,r,i),a=HH(e,r,o,i),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);n.push({ll:[Ku(o.lowerLongitude),Ku(o.lowerLatitude)],del:[Ku(o.longitudeInterval),Ku(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:qH(a)}),r+=176+o.gridNodeCount*16}return n}function qH(e){return e.map(function(t){return[Ku(t.longitudeShift),Ku(t.latitudeShift)]})}function WH(e,t,i){return{name:gw(e,t+8,t+16).trim(),parent:gw(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,i),upperLatitude:e.getFloat64(t+88,i),lowerLongitude:e.getFloat64(t+104,i),upperLongitude:e.getFloat64(t+120,i),latitudeInterval:e.getFloat64(t+136,i),longitudeInterval:e.getFloat64(t+152,i),gridNodeCount:e.getInt32(t+168,i)}}function HH(e,t,i,r){for(var n=t+176,s=16,o=[],a=0;a<i.gridNodeCount;a++){var l={latitudeShift:e.getFloat32(n+a*s,r),longitudeShift:e.getFloat32(n+a*s+4,r),latitudeAccuracy:e.getFloat32(n+a*s+8,r),longitudeAccuracy:e.getFloat32(n+a*s+12,r)};o.push(l)}return o}function so(e,t){if(!(this instanceof so))return new so(e);t=t||function(c){if(c)throw c};var i=SH(e);if(typeof i!="object"){t("Could not parse to valid json: "+e);return}var r=so.projections.get(i.projName);if(!r){t("Could not get projection name from: "+e);return}if(i.datumCode&&i.datumCode!=="none"){var n=cl(Hi,i.datumCode);n&&(i.datum_params=i.datum_params||(n.towgs84?n.towgs84.split(","):null),i.ellps=n.ellipse,i.datumName=n.datumName?n.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var s=DH(i.a,i.b,i.rf,i.ellps,i.sphere),o=RH(s.a,s.b,s.rf,i.R_A),a=jH(i.nadgrids),l=i.datum||FH(i.datumCode,i.datum_params,s.a,s.b,o.es,o.ep2,a);w4(this,i),w4(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),t(null,this)}so.projections=LH;so.projections.start();function YH(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===Bc?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===Vc?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function zN(e,t,i){var r=e.x,n=e.y,s=e.z?e.z:0,o,a,l,c;if(n<-he&&n>-1.001*he)n=-he;else if(n>he&&n<1.001*he)n=he;else{if(n<-he)return{x:-1/0,y:-1/0,z:e.z};if(n>he)return{x:1/0,y:1/0,z:e.z}}return r>Math.PI&&(r-=2*Math.PI),a=Math.sin(n),c=Math.cos(n),l=a*a,o=i/Math.sqrt(1-t*l),{x:(o+s)*c*Math.cos(r),y:(o+s)*c*Math.sin(r),z:(o*(1-t)+s)*a}}function qN(e,t,i,r){var n=1e-12,s=n*n,o=30,a,l,c,f,d,p,y,v,_,E,x,A,w,b=e.x,M=e.y,I=e.z?e.z:0,C,P,N;if(a=Math.sqrt(b*b+M*M),l=Math.sqrt(b*b+M*M+I*I),a/i<n){if(C=0,l/i<n)return P=he,N=-r,{x:e.x,y:e.y,z:e.z}}else C=Math.atan2(M,b);c=I/l,f=a/l,d=1/Math.sqrt(1-t*(2-t)*f*f),v=f*(1-t)*d,_=c*d,w=0;do w++,y=i/Math.sqrt(1-t*_*_),N=a*v+I*_-y*(1-t*_*_),p=t*y/(y+N),d=1/Math.sqrt(1-p*(2-p)*f*f),E=f*(1-p)*d,x=c*d,A=x*v-E*_,v=E,_=x;while(A*A>s&&w<o);return P=Math.atan(x/Math.abs(E)),{x:C,y:P,z:N}}function JH(e,t,i){if(t===Bc)return{x:e.x+i[0],y:e.y+i[1],z:e.z+i[2]};if(t===Vc){var r=i[0],n=i[1],s=i[2],o=i[3],a=i[4],l=i[5],c=i[6];return{x:c*(e.x-l*e.y+a*e.z)+r,y:c*(l*e.x+e.y-o*e.z)+n,z:c*(-a*e.x+o*e.y+e.z)+s}}}function KH(e,t,i){if(t===Bc)return{x:e.x-i[0],y:e.y-i[1],z:e.z-i[2]};if(t===Vc){var r=i[0],n=i[1],s=i[2],o=i[3],a=i[4],l=i[5],c=i[6],f=(e.x-r)/c,d=(e.y-n)/c,p=(e.z-s)/c;return{x:f+l*d-a*p,y:-l*f+d+o*p,z:a*f-o*d+p}}}function r0(e){return e===Bc||e===Vc}function ZH(e,t,i){if(YH(e,t)||e.datum_type===mw||t.datum_type===mw)return i;var r=e.a,n=e.es;if(e.datum_type===ph){var s=x4(e,!1,i);if(s!==0)return;r=g4,n=v4}var o=t.a,a=t.b,l=t.es;if(t.datum_type===ph&&(o=g4,a=iH,l=v4),n===l&&r===o&&!r0(e.datum_type)&&!r0(t.datum_type))return i;if(i=zN(i,n,r),r0(e.datum_type)&&(i=JH(i,e.datum_type,e.datum_params)),r0(t.datum_type)&&(i=KH(i,t.datum_type,t.datum_params)),i=qN(i,l,o,a),t.datum_type===ph){var c=x4(t,!0,i);if(c!==0)return}return i}function x4(e,t,i){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-i.x,y:i.y},n={x:Number.NaN,y:Number.NaN},s=[];e:for(var o=0;o<e.grids.length;o++){var a=e.grids[o];if(s.push(a.name),a.isNull){n=r;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,f=l.length;c<f;c++){var d=l[c],p=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-p,v=d.ll[1]-p,_=d.ll[0]+(d.lim[0]-1)*d.del[0]+p,E=d.ll[1]+(d.lim[1]-1)*d.del[1]+p;if(!(v>r.y||y>r.x||E<r.y||_<r.x)&&(n=XH(r,t,d),!isNaN(n.x)))break e}}return isNaN(n.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*Zs+" "+r.y*Zs+" tried: '"+s+"'"),-1):(i.x=-n.x,i.y=n.y,0)}function XH(e,t,i){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var n={x:e.x,y:e.y};n.x-=i.ll[0],n.y-=i.ll[1],n.x=Se(n.x-Math.PI)+Math.PI;var s=E4(n,i);if(t){if(isNaN(s.x))return r;s.x=n.x-s.x,s.y=n.y-s.y;var o=9,a=1e-12,l,c;do{if(c=E4(s,i),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:n.x-(c.x+s.x),y:n.y-(c.y+s.y)},s.x+=l.x,s.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=Se(s.x+i.ll[0]),r.y=s.y+i.ll[1]}else isNaN(s.x)||(r.x=e.x+s.x,r.y=e.y+s.y);return r}function E4(e,t){var i={x:e.x/t.del[0],y:e.y/t.del[1]},r={x:Math.floor(i.x),y:Math.floor(i.y)},n={x:i.x-1*r.x,y:i.y-1*r.y},s={x:Number.NaN,y:Number.NaN},o;if(r.x<0||r.x>=t.lim[0]||r.y<0||r.y>=t.lim[1])return s;o=r.y*t.lim[0]+r.x;var a={x:t.cvs[o][0],y:t.cvs[o][1]};o++;var l={x:t.cvs[o][0],y:t.cvs[o][1]};o+=t.lim[0];var c={x:t.cvs[o][0],y:t.cvs[o][1]};o--;var f={x:t.cvs[o][0],y:t.cvs[o][1]},d=n.x*n.y,p=n.x*(1-n.y),y=(1-n.x)*(1-n.y),v=(1-n.x)*n.y;return s.x=y*a.x+p*l.x+v*f.x+d*c.x,s.y=y*a.y+p*l.y+v*f.y+d*c.y,s}function T4(e,t,i){var r=i.x,n=i.y,s=i.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(t&&l===2&&i.z===void 0))switch(l===0?(o=r,"ew".indexOf(e.axis[l])!==-1?a="x":a="y"):l===1?(o=n,"ns".indexOf(e.axis[l])!==-1?a="y":a="x"):(o=s,a="z"),e.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":i[a]!==void 0&&(c.z=o);break;case"d":i[a]!==void 0&&(c.z=-o);break;default:return null}return c}function WN(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function QH(e){A4(e.x),A4(e.y)}function A4(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function eY(e,t){return(e.datum.datum_type===Bc||e.datum.datum_type===Vc||e.datum.datum_type===ph)&&t.datumCode!=="WGS84"||(t.datum.datum_type===Bc||t.datum.datum_type===Vc||t.datum.datum_type===ph)&&e.datumCode!=="WGS84"}function fg(e,t,i,r){var n;Array.isArray(i)?i=WN(i):i={x:i.x,y:i.y,z:i.z,m:i.m};var s=i.z!==void 0;if(QH(i),e.datum&&t.datum&&eY(e,t)&&(n=new so("WGS84"),i=fg(e,n,i,r),e=n),r&&e.axis!=="enu"&&(i=T4(e,!1,i)),e.projName==="longlat")i={x:i.x*rr,y:i.y*rr,z:i.z||0};else if(e.to_meter&&(i={x:i.x*e.to_meter,y:i.y*e.to_meter,z:i.z||0}),i=e.inverse(i),!i)return;if(e.from_greenwich&&(i.x+=e.from_greenwich),i=ZH(e.datum,t.datum,i),!!i)return t.from_greenwich&&(i={x:i.x-t.from_greenwich,y:i.y,z:i.z||0}),t.projName==="longlat"?i={x:i.x*Zs,y:i.y*Zs,z:i.z||0}:(i=t.forward(i),t.to_meter&&(i={x:i.x/t.to_meter,y:i.y/t.to_meter,z:i.z||0})),r&&t.axis!=="enu"?T4(t,!0,i):(i&&!s&&delete i.z,i)}var M4=so("WGS84");function Tb(e,t,i,r){var n,s,o;return Array.isArray(i)?(n=fg(e,t,i,r)||{x:NaN,y:NaN},i.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof n.z=="number"?[n.x,n.y,n.z].concat(i.slice(3)):[n.x,n.y,i[2]].concat(i.slice(3)):[n.x,n.y].concat(i.slice(2)):[n.x,n.y]):(s=fg(e,t,i,r),o=Object.keys(i),o.length===2||o.forEach(function(a){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;s[a]=i[a]}),s)}function I4(e){return e instanceof so?e:e.oProj?e.oProj:so(e)}function Nt(e,t,i){e=I4(e);var r=!1,n;return typeof t>"u"?(t=e,e=M4,r=!0):(typeof t.x<"u"||Array.isArray(t))&&(i=t,t=e,e=M4,r=!0),t=I4(t),i?Tb(e,t,i):(n={forward:function(s,o){return Tb(e,t,s,o)},inverse:function(s,o){return Tb(t,e,s,o)}},r&&(n.oProj=t),n)}var O4=6,HN="AJSAJS",YN="AFAFAF",Zu=65,qr=73,Nn=79,yd=86,gd=90;const tY={forward:JN,inverse:iY,toPoint:KN};function JN(e,t){return t=t||5,sY(rY({lat:e[1],lon:e[0]}),t)}function iY(e){var t=zx(XN(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function KN(e){var t=zx(XN(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function Ab(e){return e*(Math.PI/180)}function $4(e){return 180*(e/Math.PI)}function rY(e){var t=e.lat,i=e.lon,r=6378137,n=.00669438,s=.9996,o,a,l,c,f,d,p,y=Ab(t),v=Ab(i),_,E;E=Math.floor((i+180)/6)+1,i===180&&(E=60),t>=56&&t<64&&i>=3&&i<12&&(E=32),t>=72&&t<84&&(i>=0&&i<9?E=31:i>=9&&i<21?E=33:i>=21&&i<33?E=35:i>=33&&i<42&&(E=37)),o=(E-1)*6-180+3,_=Ab(o),a=n/(1-n),l=r/Math.sqrt(1-n*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),f=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(v-_),p=r*((1-n/4-3*n*n/64-5*n*n*n/256)*y-(3*n/8+3*n*n/32+45*n*n*n/1024)*Math.sin(2*y)+(15*n*n/256+45*n*n*n/1024)*Math.sin(4*y)-35*n*n*n/3072*Math.sin(6*y));var x=s*l*(d+(1-c+f)*d*d*d/6+(5-18*c+c*c+72*f-58*a)*d*d*d*d*d/120)+5e5,A=s*(p+l*Math.tan(y)*(d*d/2+(5-c+9*f+4*f*f)*d*d*d*d/24+(61-58*c+c*c+600*f-330*a)*d*d*d*d*d*d/720));return t<0&&(A+=1e7),{northing:Math.round(A),easting:Math.round(x),zoneNumber:E,zoneLetter:nY(t)}}function zx(e){var t=e.northing,i=e.easting,r=e.zoneLetter,n=e.zoneNumber;if(n<0||n>60)return null;var s=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),f,d,p,y,v,_,E,x,A,w=i-5e5,b=t;r<"N"&&(b-=1e7),E=(n-1)*6-180+3,l=a/(1-a),_=b/s,x=_/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),A=x+(3*c/2-27*c*c*c/32)*Math.sin(2*x)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*x)+151*c*c*c/96*Math.sin(6*x),f=o/Math.sqrt(1-a*Math.sin(A)*Math.sin(A)),d=Math.tan(A)*Math.tan(A),p=l*Math.cos(A)*Math.cos(A),y=o*(1-a)/Math.pow(1-a*Math.sin(A)*Math.sin(A),1.5),v=w/(f*s);var M=A-f*Math.tan(A)/y*(v*v/2-(5+3*d+10*p-4*p*p-9*l)*v*v*v*v/24+(61+90*d+298*p+45*d*d-252*l-3*p*p)*v*v*v*v*v*v/720);M=$4(M);var I=(v-(1+2*d+p)*v*v*v/6+(5-2*p+28*d-3*p*p+8*l+24*d*d)*v*v*v*v*v/120)/Math.cos(A);I=E+$4(I);var C;if(e.accuracy){var P=zx({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});C={top:P.lat,right:P.lon,bottom:M,left:I}}else C={lat:M,lon:I};return C}function nY(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function sY(e,t){var i="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+oY(e.easting,e.northing,e.zoneNumber)+i.substr(i.length-5,t)+r.substr(r.length-5,t)}function oY(e,t,i){var r=ZN(i),n=Math.floor(e/1e5),s=Math.floor(t/1e5)%20;return aY(n,s,r)}function ZN(e){var t=e%O4;return t===0&&(t=O4),t}function aY(e,t,i){var r=i-1,n=HN.charCodeAt(r),s=YN.charCodeAt(r),o=n+e-1,a=s+t,l=!1;o>gd&&(o=o-gd+Zu-1,l=!0),(o===qr||n<qr&&o>qr||(o>qr||n<qr)&&l)&&o++,(o===Nn||n<Nn&&o>Nn||(o>Nn||n<Nn)&&l)&&(o++,o===qr&&o++),o>gd&&(o=o-gd+Zu-1),a>yd?(a=a-yd+Zu-1,l=!0):l=!1,(a===qr||s<qr&&a>qr||(a>qr||s<qr)&&l)&&a++,(a===Nn||s<Nn&&a>Nn||(a>Nn||s<Nn)&&l)&&(a++,a===qr&&a++),a>yd&&(a=a-yd+Zu-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function XN(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,i=null,r="",n,s=0;!/[A-Z]/.test(n=e.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+e;r+=n,s++}var o=parseInt(r,10);if(s===0||s+3>t)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(s++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+e;i=e.substring(s,s+=2);for(var l=ZN(o),c=lY(i.charAt(0),l),f=cY(i.charAt(1),l);f<uY(a);)f+=2e6;var d=t-s;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var p=d/2,y=0,v=0,_,E,x,A,w;return p>0&&(_=1e5/Math.pow(10,p),E=e.substring(s,s+p),y=parseFloat(E)*_,x=e.substring(s+p),v=parseFloat(x)*_),A=y+c,w=v+f,{easting:A,northing:w,zoneLetter:a,zoneNumber:o,accuracy:_}}function lY(e,t){for(var i=HN.charCodeAt(t-1),r=1e5,n=!1;i!==e.charCodeAt(0);){if(i++,i===qr&&i++,i===Nn&&i++,i>gd){if(n)throw"Bad character: "+e;i=Zu,n=!0}r+=1e5}return r}function cY(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var i=YN.charCodeAt(t-1),r=0,n=!1;i!==e.charCodeAt(0);){if(i++,i===qr&&i++,i===Nn&&i++,i>yd){if(n)throw"Bad character: "+e;i=Zu,n=!0}r+=1e5}return r}function uY(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Ph(e,t,i){if(!(this instanceof Ph))return new Ph(e,t,i);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ph.fromMGRS=function(e){return new Ph(KN(e))};Ph.prototype.toMGRS=function(e){return JN([this.x,this.y],e)};var hY=1,fY=.25,C4=.046875,N4=.01953125,P4=.01068115234375,dY=.75,pY=.46875,mY=.013020833333333334,yY=.007120768229166667,gY=.3645833333333333,vY=.005696614583333333,bY=.3076171875;function qx(e){var t=[];t[0]=hY-e*(fY+e*(C4+e*(N4+e*P4))),t[1]=e*(dY-e*(C4+e*(N4+e*P4)));var i=e*e;return t[2]=i*(pY-e*(mY+e*yY)),i*=e,t[3]=i*(gY-e*vY),t[4]=i*e*bY,t}function wf(e,t,i,r){return i*=t,t*=t,r[0]*e-i*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}var _Y=20;function Wx(e,t,i){for(var r=1/(1-t),n=e,s=_Y;s;--s){var o=Math.sin(n),a=1-t*o*o;if(a=(wf(n,o,Math.cos(n),i)-e)*(a*Math.sqrt(a))*r,n-=a,Math.abs(a)<be)return n}return n}function wY(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=qx(this.es),this.ml0=wf(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function SY(e){var t=e.x,i=e.y,r=Se(t-this.long0),n,s,o,a=Math.sin(i),l=Math.cos(i);if(this.es){var f=l*r,d=Math.pow(f,2),p=this.ep2*Math.pow(l,2),y=Math.pow(p,2),v=Math.abs(l)>be?Math.tan(i):0,_=Math.pow(v,2),E=Math.pow(_,2);n=1-this.es*Math.pow(a,2),f=f/Math.sqrt(n);var x=wf(i,a,l,this.en);s=this.a*(this.k0*f*(1+d/6*(1-_+p+d/20*(5-18*_+E+14*p-58*_*p+d/42*(61+179*E-E*_-479*_)))))+this.x0,o=this.a*(this.k0*(x-this.ml0+a*r*f/2*(1+d/12*(5-_+9*p+4*y+d/30*(61+E-58*_+270*p-330*_*p+d/56*(1385+543*E-E*_-3111*_))))))+this.y0}else{var c=l*Math.sin(r);if(Math.abs(Math.abs(c)-1)<be)return 93;if(s=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,o=l*Math.cos(r)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(o),c>=1){if(c-1>be)return 93;o=0}else o=Math.acos(o);i<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return e.x=s,e.y=o,e}function xY(e){var t,i,r,n,s=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,i=Wx(t,this.es,this.en),Math.abs(i)<he){var d=Math.sin(i),p=Math.cos(i),y=Math.abs(p)>be?Math.tan(i):0,v=this.ep2*Math.pow(p,2),_=Math.pow(v,2),E=Math.pow(y,2),x=Math.pow(E,2);t=1-this.es*Math.pow(d,2);var A=s*Math.sqrt(t)/this.k0,w=Math.pow(A,2);t=t*y,r=i-t*w/(1-this.es)*.5*(1-w/12*(5+3*E-9*v*E+v-4*_-w/30*(61+90*E-252*v*E+45*x+46*v-w/56*(1385+3633*E+4095*x+1574*x*E)))),n=Se(this.long0+A*(1-w/6*(1+2*E+v-w/20*(5+28*E+24*x+8*v*E+6*v-w/42*(61+662*E+1320*x+720*x*E))))/p)}else r=he*mm(o),n=0;else{var a=Math.exp(s/this.k0),l=.5*(a-1/a),c=this.lat0+o/this.k0,f=Math.cos(c);t=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),r=Math.asin(t),o<0&&(r=-r),l===0&&f===0?n=0:n=Se(Math.atan2(l,f)+this.long0)}return e.x=n,e.y=r,e}var EY=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const gy={init:wY,forward:SY,inverse:xY,names:EY};function QN(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function Kr(e,t){e=Math.abs(e),t=Math.abs(t);var i=Math.max(e,t),r=Math.min(e,t)/(i||1);return i*Math.sqrt(1+Math.pow(r,2))}function TY(e){var t=1+e,i=t-1;return i===0?e:e*Math.log(t)/i}function AY(e){var t=Math.abs(e);return t=TY(t*(1+t/(Kr(1,t)+1))),e<0?-t:t}function Hx(e,t){for(var i=2*Math.cos(2*t),r=e.length-1,n=e[r],s=0,o;--r>=0;)o=-s+i*n+e[r],s=n,n=o;return t+o*Math.sin(2*t)}function MY(e,t){for(var i=2*Math.cos(t),r=e.length-1,n=e[r],s=0,o;--r>=0;)o=-s+i*n+e[r],s=n,n=o;return Math.sin(t)*o}function IY(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function eP(e,t,i){for(var r=Math.sin(t),n=Math.cos(t),s=QN(i),o=IY(i),a=2*n*o,l=-2*r*s,c=e.length-1,f=e[c],d=0,p=0,y=0,v,_;--c>=0;)v=p,_=d,p=f,d=y,f=-v+a*p-l*d+e[c],y=-_+l*p+a*d;return a=r*o,l=n*s,[a*f-l*y,a*y+l*f]}function OY(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(gy.init.apply(this),this.forward=gy.forward,this.inverse=gy.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),i=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),i=i*t,this.cgb[1]=i*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=i*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),i=i*t,this.cgb[2]=i*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=i*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),i=i*t,this.cgb[3]=i*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=i*(1237/630+t*(-12/5+t*(-24832/14175))),i=i*t,this.cgb[4]=i*(4174/315+t*(-144838/6237)),this.cbg[4]=i*(-734/315+t*(109598/31185)),i=i*t,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=i*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=i*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),i=i*t,this.utg[2]=i*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=i*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),i=i*t,this.utg[3]=i*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=i*(49561/161280+t*(-179/168+t*(6601661/7257600))),i=i*t,this.utg[4]=i*(-4583/161280+t*(108847/3991680)),this.gtu[4]=i*(34729/80640+t*(-3418889/1995840)),i=i*t,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=i*(212378941/319334400);var r=Hx(this.cbg,this.lat0);this.Zb=-this.Qn*(r+MY(this.gtu,2*r))}function $Y(e){var t=Se(e.x-this.long0),i=e.y;i=Hx(this.cbg,i);var r=Math.sin(i),n=Math.cos(i),s=Math.sin(t),o=Math.cos(t);i=Math.atan2(r,o*n),t=Math.atan2(s*n,Kr(r,n*o)),t=AY(Math.tan(t));var a=eP(this.gtu,2*i,2*t);i=i+a[0],t=t+a[1];var l,c;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*i+this.Zb)+this.y0):(l=1/0,c=1/0),e.x=l,e.y=c,e}function CY(e){var t=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);i=(i-this.Zb)/this.Qn,t=t/this.Qn;var r,n;if(Math.abs(t)<=2.623395162778){var s=eP(this.utg,2*i,2*t);i=i+s[0],t=t+s[1],t=Math.atan(QN(t));var o=Math.sin(i),a=Math.cos(i),l=Math.sin(t),c=Math.cos(t);i=Math.atan2(o*c,Kr(l,c*a)),t=Math.atan2(l,c*a),r=Se(t+this.long0),n=Hx(this.cgb,i)}else r=1/0,n=1/0;return e.x=r,e.y=n,e}var NY=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const vy={init:OY,forward:$Y,inverse:CY,names:NY};function PY(e,t){if(e===void 0){if(e=Math.floor((Se(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var LY="etmerc";function kY(){var e=PY(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*rr,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,vy.init.apply(this),this.forward=vy.forward,this.inverse=vy.inverse}var RY=["Universal Transverse Mercator System","utm"];const DY={init:kY,names:RY,dependsOn:LY};function Yx(e,t){return Math.pow((1-e)/(1+e),t)}var FY=20;function UY(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+wt)/(Math.pow(Math.tan(.5*this.lat0+wt),this.C)*Yx(this.e*e,this.ratexp))}function jY(e){var t=e.x,i=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+wt),this.C)*Yx(this.e*Math.sin(i),this.ratexp))-he,e.x=this.C*t,e}function GY(e){for(var t=1e-14,i=e.x/this.C,r=e.y,n=Math.pow(Math.tan(.5*r+wt)/this.K,1/this.C),s=FY;s>0&&(r=2*Math.atan(n*Yx(this.e*Math.sin(e.y),-.5*this.e))-he,!(Math.abs(r-e.y)<t));--s)e.y=r;return s?(e.x=i,e.y=r,e):null}var BY=["gauss"];const Jx={init:UY,forward:jY,inverse:GY,names:BY};function VY(){Jx.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function zY(e){var t,i,r,n;return e.x=Se(e.x-this.long0),Jx.forward.apply(this,[e]),t=Math.sin(e.y),i=Math.cos(e.y),r=Math.cos(e.x),n=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*i*r),e.x=n*i*Math.sin(e.x),e.y=n*(this.cosc0*t-this.sinc0*i*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function qY(e){var t,i,r,n,s;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,s=Kr(e.x,e.y)){var o=2*Math.atan2(s,this.R2);t=Math.sin(o),i=Math.cos(o),n=Math.asin(i*this.sinc0+e.y*t*this.cosc0/s),r=Math.atan2(e.x*t,s*this.cosc0*i-e.y*this.sinc0*t)}else n=this.phic0,r=0;return e.x=r,e.y=n,Jx.inverse.apply(this,[e]),e.x=Se(e.x+this.long0),e}var WY=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const HY={init:VY,forward:zY,inverse:qY,names:WY};function YY(e,t,i){return t*=i,Math.tan(.5*(he+e))*Math.pow((1-t)/(1+t),.5*i)}function JY(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=be&&(this.k0=.5*(1+mm(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=be&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=be&&Math.abs(Math.cos(this.lat_ts))>be&&(this.k0=.5*this.cons*mo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ms(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=mo(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-he,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function KY(e){var t=e.x,i=e.y,r=Math.sin(i),n=Math.cos(i),s,o,a,l,c,f,d=Se(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=be&&Math.abs(i+this.lat0)<=be?(e.x=NaN,e.y=NaN,e):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*n*Math.cos(d)),e.x=this.a*s*n*Math.sin(d)+this.x0,e.y=this.a*s*(this.coslat0*r-this.sinlat0*n*Math.cos(d))+this.y0,e):(o=2*Math.atan(this.ssfn_(i,r,this.e))-he,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=be?(c=ms(this.e,i*this.con,this.con*r),f=2*this.a*this.k0*c/this.cons,e.x=this.x0+f*Math.sin(t-this.long0),e.y=this.y0-this.con*f*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<be?(s=2*this.a*this.k0/(1+l*Math.cos(d)),e.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),e.y=s*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),e.x=s*l*Math.sin(d)+this.x0,e))}function ZY(e){e.x-=this.x0,e.y-=this.y0;var t,i,r,n,s,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,i=this.lat0,o<=be?(e.x=t,e.y=i,e):(i=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<be?this.lat0>0?t=Se(this.long0+Math.atan2(e.x,-1*e.y)):t=Se(this.long0+Math.atan2(e.x,e.y)):t=Se(this.long0+Math.atan2(e.x*Math.sin(a),o*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=i,e)}else if(Math.abs(this.coslat0)<=be){if(o<=be)return i=this.lat0,t=this.long0,e.x=t,e.y=i,e;e.x*=this.con,e.y*=this.con,r=o*this.cons/(2*this.a*this.k0),i=this.con*Ap(this.e,r),t=this.con*Se(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else n=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=be?s=this.X0:(s=Math.asin(Math.cos(n)*this.sinX0+e.y*Math.sin(n)*this.cosX0/o),t=Se(this.long0+Math.atan2(e.x*Math.sin(n),o*this.cosX0*Math.cos(n)-e.y*this.sinX0*Math.sin(n)))),i=-1*Ap(this.e,Math.tan(.5*(he+s)));return e.x=t,e.y=i,e}var XY=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const QY={init:JY,forward:KY,inverse:ZY,names:XY,ssfn_:YY};function eJ(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),i=this.a,r=this.rf,n=1/r,s=2*n-Math.pow(n,2),o=this.e=Math.sqrt(s);this.R=this.k0*i*Math.sqrt(1-s)/(1-s*Math.pow(t,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+o*t)/(1-o*t));this.K=a-this.alpha*l+this.alpha*o/2*c}function tJ(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+i)+this.K,n=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(s));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*o+this.x0,e}function iJ(e){for(var t=e.x-this.x0,i=e.y-this.y0,r=t/this.R,n=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(n))),a=this.lambda0+o/this.alpha,l=0,c=s,f=-1e3,d=0;Math.abs(c-f)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),f=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e}var rJ=["somerc"];const nJ={init:eJ,forward:tJ,inverse:iJ,names:rJ};var Fu=1e-7;function sJ(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],i=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(i)!==-1}function oJ(){var e,t,i,r,n,s,o,a,l,c,f=0,d,p=0,y=0,v=0,_=0,E=0,x=0;this.no_off=sJ(this),this.no_rot="no_rot"in this;var A=!1;"alpha"in this&&(A=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),A&&(x=this.alpha),w&&(f=this.rectified_grid_angle*rr),A||w)p=this.longc;else if(y=this.long1,_=this.lat1,v=this.long2,E=this.lat2,Math.abs(_-E)<=Fu||(e=Math.abs(_))<=Fu||Math.abs(e-he)<=Fu||Math.abs(Math.abs(this.lat0)-he)<=Fu||Math.abs(Math.abs(E)-he)<=Fu)throw new Error;var b=1-this.es;t=Math.sqrt(b),Math.abs(this.lat0)>be?(a=Math.sin(this.lat0),i=Math.cos(this.lat0),e=1-this.es*a*a,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/b),this.A=this.B*this.k0*t/e,r=this.B*t/(i*Math.sqrt(e)),n=r*r-1,n<=0?n=0:(n=Math.sqrt(n),this.lat0<0&&(n=-n)),this.E=n+=r,this.E*=Math.pow(ms(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=n=1),A||w?(A?(d=Math.asin(Math.sin(x)/r),w||(f=x)):(d=f,x=Math.asin(r*Math.sin(d))),this.lam0=p-Math.asin(.5*(n-1/n)*Math.tan(d))/this.B):(s=Math.pow(ms(this.e,_,Math.sin(_)),this.B),o=Math.pow(ms(this.e,E,Math.sin(E)),this.B),n=this.E/s,l=(o-s)/(o+s),c=this.E*this.E,c=(c-o*s)/(c+o*s),e=y-v,e<-Math.pi?v-=Ep:e>Math.pi&&(v+=Ep),this.lam0=Se(.5*(y+v)-Math.atan(c*Math.tan(.5*this.B*(y-v))/l)/this.B),d=Math.atan(2*Math.sin(this.B*Se(y-this.lam0))/(n-1/n)),f=x=Math.asin(r*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(x))),this.lat0<0&&(this.u_0=-this.u_0)),n=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(wt-n)),this.v_pole_s=this.ArB*Math.log(Math.tan(wt+n))}function aJ(e){var t={},i,r,n,s,o,a,l,c;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-he)>be){if(o=this.E/Math.pow(ms(this.e,e.y,Math.sin(e.y)),this.B),a=1/o,i=.5*(o-a),r=.5*(o+a),s=Math.sin(this.B*e.x),n=(i*this.singam-s*this.cosgam)/r,Math.abs(Math.abs(n)-1)<be)throw new Error;c=.5*this.ArB*Math.log((1-n)/(1+n)),a=Math.cos(this.B*e.x),Math.abs(a)<Fu?l=this.A*e.x:l=this.ArB*Math.atan2(i*this.cosgam+s*this.singam,a)}else c=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=c):(l-=this.u_0,t.x=c*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-c*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function lJ(e){var t,i,r,n,s,o,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(i=e.y,t=e.x):(i=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*i),n=.5*(r-1/r),s=.5*(r+1/r),o=Math.sin(this.BrA*t),a=(o*this.cosgam+n*this.singam)/s,Math.abs(Math.abs(a)-1)<be)l.x=0,l.y=a<0?-he:he;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Ap(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(n*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var cJ=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const uJ={init:oJ,forward:aJ,inverse:lJ,names:cJ};function hJ(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<be)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),i=Math.cos(this.lat1),r=mo(this.e,t,i),n=ms(this.e,this.lat1,t),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=mo(this.e,s,o),l=ms(this.e,this.lat2,s),c=ms(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>be?this.ns=Math.log(r/a)/Math.log(n/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function fJ(e){var t=e.x,i=e.y;Math.abs(2*Math.abs(i)-Math.PI)<=be&&(i=mm(i)*(he-2*be));var r=Math.abs(Math.abs(i)-he),n,s;if(r>be)n=ms(this.e,i,Math.sin(i)),s=this.a*this.f0*Math.pow(n,this.ns);else{if(r=i*this.ns,r<=0)return null;s=0}var o=this.ns*Se(t-this.long0);return e.x=this.k0*(s*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,e}function dJ(e){var t,i,r,n,s,o=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+a*a),i=1):(t=-Math.sqrt(o*o+a*a),i=-1);var l=0;if(t!==0&&(l=Math.atan2(i*o,i*a)),t!==0||this.ns>0){if(i=1/this.ns,r=Math.pow(t/(this.a*this.f0),i),n=Ap(this.e,r),n===-9999)return null}else n=-he;return s=Se(l/this.ns+this.long0),e.x=s,e.y=n,e}var pJ=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const mJ={init:hJ,forward:fJ,inverse:dJ,names:pJ};function yJ(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function gJ(e){var t,i,r,n,s,o,a,l=e.x,c=e.y,f=Se(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-f*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),s=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(n)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),e.y=a*Math.cos(o)/1,e.x=a*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function vJ(e){var t,i,r,n,s,o,a,l,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Math.atan2(e.y,e.x),n=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),i=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(t)),e.x=this.long0-i/this.alfa,a=t,l=0;var f=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(l=1),a=e.y,f+=1;while(l===0&&f<15);return f>=15?null:e}var bJ=["Krovak","krovak"];const _J={init:yJ,forward:gJ,inverse:vJ,names:bJ};function Dr(e,t,i,r,n){return e*n-t*Math.sin(2*n)+i*Math.sin(4*n)-r*Math.sin(6*n)}function ym(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function gm(e){return .375*e*(1+.25*e*(1+.46875*e))}function vm(e){return .05859375*e*e*(1+.75*e)}function bm(e){return e*e*e*(35/3072)}function Lh(e,t,i){var r=t*i;return e/Math.sqrt(1-r*r)}function vl(e){return Math.abs(e)<he?e:e-mm(e)*Math.PI}function dg(e,t,i,r,n){var s,o;s=e/t;for(var a=0;a<15;a++)if(o=(e-(t*s-i*Math.sin(2*s)+r*Math.sin(4*s)-n*Math.sin(6*s)))/(t-2*i*Math.cos(2*s)+4*r*Math.cos(4*s)-6*n*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}function wJ(){this.sphere||(this.e0=ym(this.es),this.e1=gm(this.es),this.e2=vm(this.es),this.e3=bm(this.es),this.ml0=this.a*Dr(this.e0,this.e1,this.e2,this.e3,this.lat0))}function SJ(e){var t,i,r=e.x,n=e.y;if(r=Se(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(n)*Math.sin(r)),i=this.a*(Math.atan2(Math.tan(n),Math.cos(r))-this.lat0);else{var s=Math.sin(n),o=Math.cos(n),a=Lh(this.a,this.e,s),l=Math.tan(n)*Math.tan(n),c=r*Math.cos(n),f=c*c,d=this.es*o*o/(1-this.es),p=this.a*Dr(this.e0,this.e1,this.e2,this.e3,n);t=a*c*(1-f*l*(1/6-(8-l+8*d)*f/120)),i=p-this.ml0+a*s/o*f*(.5+(5-l+6*d)*f/24)}return e.x=t+this.x0,e.y=i+this.y0,e}function xJ(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,i=e.y/this.a,r,n;if(this.sphere){var s=i+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(t)),n=Math.atan2(Math.tan(t),Math.cos(s))}else{var o=this.ml0/this.a+i,a=dg(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-he)<=be)return e.x=this.long0,e.y=he,i<0&&(e.y*=-1),e;var l=Lh(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(a),2),d=t*this.a/l,p=d*d;r=a-l*Math.tan(a)/c*d*d*(.5-(1+3*f)*d*d/24),n=d*(1-p*(f/3+(1+3*f)*f*p/15))/Math.cos(a)}return e.x=Se(n+this.long0),e.y=vl(r),e}var EJ=["Cassini","Cassini_Soldner","cass"];const TJ={init:wJ,forward:SJ,inverse:xJ,names:EJ};function il(e,t){var i;return e>1e-7?(i=e*t,(1-e*e)*(t/(1-i*i)-.5/e*Math.log((1-i)/(1+i)))):2*t}var AJ=1,MJ=2,IJ=3,OJ=4;function $J(){var e=Math.abs(this.lat0);if(Math.abs(e-he)<be?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<be?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=il(this.e,1),this.mmf=.5/(1-this.es),this.apa=UJ(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=il(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function CJ(e){var t,i,r,n,s,o,a,l,c,f,d=e.x,p=e.y;if(d=Se(d-this.long0),this.sphere){if(s=Math.sin(p),f=Math.cos(p),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+f*r:1+this.sinph0*s+this.cosph0*f*r,i<=be)return null;i=Math.sqrt(2/i),t=i*f*Math.sin(d),i*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*f*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(p+this.lat0)<be)return null;i=wt-p*.5,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),t=i*Math.sin(d),i*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(d),n=Math.sin(d),s=Math.sin(p),o=il(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=he+p,o=this.qp-o;break;case this.S_POLE:c=p-he,o=this.qp+o;break}if(Math.abs(c)<be)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?i=this.ymf*c*(this.cosb1*a-this.sinb1*l*r):i=(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,t=this.xmf*c*l*n;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(c=Math.sqrt(o))*n,i=r*(this.mode===this.S_POLE?c:-c)):t=i=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*i+this.y0,e}function NJ(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,i=e.y/this.a,r,n,s,o,a,l,c;if(this.sphere){var f=0,d,p=0;if(d=Math.sqrt(t*t+i*i),n=d*.5,n>1)return null;switch(n=2*Math.asin(n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(n),f=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(d)<=be?0:Math.asin(i*p/d),t*=p,i=f*d;break;case this.OBLIQ:n=Math.abs(d)<=be?this.lat0:Math.asin(f*this.sinph0+i*p*this.cosph0/d),t*=p*this.cosph0,i=(f-Math.sin(n)*this.sinph0)*d;break;case this.N_POLE:i=-i,n=he-n;break;case this.S_POLE:n-=he;break}r=i===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,i)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,i*=this.dd,l=Math.sqrt(t*t+i*i),l<be)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(c=s*this.sinb1+i*o*this.cosb1/l,a=this.qp*c,i=l*this.cosb1*s-i*this.sinb1*o):(c=i*o/l,a=this.qp*c,i=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),a=t*t+i*i,!a)return e.x=this.long0,e.y=this.lat0,e;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}r=Math.atan2(t,i),n=jJ(Math.asin(c),this.apa)}return e.x=Se(this.long0+r),e.y=n,e}var PJ=.3333333333333333,LJ=.17222222222222222,kJ=.10257936507936508,RJ=.06388888888888888,DJ=.0664021164021164,FJ=.016415012942191543;function UJ(e){var t,i=[];return i[0]=e*PJ,t=e*e,i[0]+=t*LJ,i[1]=t*RJ,t*=e,i[0]+=t*kJ,i[1]+=t*DJ,i[2]=t*FJ,i}function jJ(e,t){var i=e+e;return e+t[0]*Math.sin(i)+t[1]*Math.sin(i+i)+t[2]*Math.sin(i+i+i)}var GJ=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const BJ={init:$J,forward:CJ,inverse:NJ,names:GJ,S_POLE:AJ,N_POLE:MJ,EQUIT:IJ,OBLIQ:OJ};function ul(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function VJ(){Math.abs(this.lat1+this.lat2)<be||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=mo(this.e3,this.sin_po,this.cos_po),this.qs1=il(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=mo(this.e3,this.sin_po,this.cos_po),this.qs2=il(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=il(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>be?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function zJ(e){var t=e.x,i=e.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var r=il(this.e3,this.sin_phi),n=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*Se(t-this.long0),o=n*Math.sin(s)+this.x0,a=this.rh-n*Math.cos(s)+this.y0;return e.x=o,e.y=a,e}function qJ(e){var t,i,r,n,s,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),n=0,t!==0&&(n=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(i=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,i)),s=Se(n/this.ns0+this.long0),e.x=s,e.y=o,e}function WJ(e,t){var i,r,n,s,o,a=ul(.5*t);if(e<be)return a;for(var l=e*e,c=1;c<=25;c++)if(i=Math.sin(a),r=Math.cos(a),n=e*i,s=1-n*n,o=.5*s*s/r*(t/(1-l)-i/s+.5/e*Math.log((1-n)/(1+n))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var HJ=["Albers_Conic_Equal_Area","Albers","aea"];const YJ={init:VJ,forward:zJ,inverse:qJ,names:HJ,phi1z:WJ};function JJ(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function KJ(e){var t,i,r,n,s,o,a,l,c=e.x,f=e.y;return r=Se(c-this.long0),t=Math.sin(f),i=Math.cos(f),n=Math.cos(r),o=this.sin_p14*t+this.cos_p14*i*n,s=1,o>0||Math.abs(o)<=be?(a=this.x0+this.a*s*i*Math.sin(r)/o,l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*i*n)/o):(a=this.x0+this.infinity_dist*i*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*i*n)),e.x=a,e.y=l,e}function ZJ(e){var t,i,r,n,s,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(n=Math.atan2(t,this.rc),i=Math.sin(n),r=Math.cos(n),o=ul(r*this.sin_p14+e.y*i*this.cos_p14/t),s=Math.atan2(e.x*i,t*this.cos_p14*r-e.y*this.sin_p14*i),s=Se(this.long0+s)):(o=this.phic0,s=0),e.x=s,e.y=o,e}var XJ=["gnom"];const QJ={init:JJ,forward:KJ,inverse:ZJ,names:XJ};function eK(e,t){var i=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-i)<1e-6)return t<0?-1*he:he;for(var r=Math.asin(.5*t),n,s,o,a,l=0;l<30;l++)if(s=Math.sin(r),o=Math.cos(r),a=e*s,n=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-s/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),r+=n,Math.abs(n)<=1e-10)return r;return NaN}function tK(){this.sphere||(this.k0=mo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function iK(e){var t=e.x,i=e.y,r,n,s=Se(t-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=il(this.e,Math.sin(i));r=this.x0+this.a*this.k0*s,n=this.y0+this.a*o*.5/this.k0}return e.x=r,e.y=n,e}function rK(e){e.x-=this.x0,e.y-=this.y0;var t,i;return this.sphere?(t=Se(this.long0+e.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(i=eK(this.e,2*e.y*this.k0/this.a),t=Se(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=i,e}var nK=["cea"];const sK={init:tK,forward:iK,inverse:rK,names:nK};function oK(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function aK(e){var t=e.x,i=e.y,r=Se(t-this.long0),n=vl(i-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*n,e}function lK(e){var t=e.x,i=e.y;return e.x=Se(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=vl(this.lat0+(i-this.y0)/this.a),e}var cK=["Equirectangular","Equidistant_Cylindrical","eqc"];const uK={init:oK,forward:aK,inverse:lK,names:cK};var L4=20;function hK(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ym(this.es),this.e1=gm(this.es),this.e2=vm(this.es),this.e3=bm(this.es),this.ml0=this.a*Dr(this.e0,this.e1,this.e2,this.e3,this.lat0)}function fK(e){var t=e.x,i=e.y,r,n,s,o=Se(t-this.long0);if(s=o*Math.sin(i),this.sphere)Math.abs(i)<=be?(r=this.a*o,n=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(i),n=this.a*(vl(i-this.lat0)+(1-Math.cos(s))/Math.tan(i)));else if(Math.abs(i)<=be)r=this.a*o,n=-1*this.ml0;else{var a=Lh(this.a,this.e,Math.sin(i))/Math.tan(i);r=a*Math.sin(s),n=this.a*Dr(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*(1-Math.cos(s))}return e.x=r+this.x0,e.y=n+this.y0,e}function dK(e){var t,i,r,n,s,o,a,l,c;if(r=e.x-this.x0,n=e.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=be)t=Se(r/this.a+this.long0),i=0;else{o=this.lat0+n/this.a,a=r*r/this.a/this.a+o*o,l=o;var f;for(s=L4;s;--s)if(f=Math.tan(l),c=-1*(o*(l*f+1)-l-.5*(l*l+a)*f)/((l-o)/f-1),l+=c,Math.abs(c)<=be){i=l;break}t=Se(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(i))}else if(Math.abs(n+this.ml0)<=be)i=0,t=Se(this.long0+r/this.a);else{o=(this.ml0+n)/this.a,a=r*r/this.a/this.a+o*o,l=o;var d,p,y,v,_;for(s=L4;s;--s)if(_=this.e*Math.sin(l),d=Math.sqrt(1-_*_)*Math.tan(l),p=this.a*Dr(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),v=p/this.a,c=(o*(d*v+1)-v-.5*d*(v*v+a))/(this.es*Math.sin(2*l)*(v*v+a-2*o*v)/(4*d)+(o-v)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=be){i=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),t=Se(this.long0+Math.asin(r*d/this.a)/Math.sin(i))}return e.x=t,e.y=i,e}var pK=["Polyconic","poly"];const mK={init:hK,forward:fK,inverse:dK,names:pK};function yK(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function gK(e){var t,i=e.x,r=e.y,n=r-this.lat0,s=i-this.long0,o=n/Pd*1e-5,a=s,l=1,c=0;for(t=1;t<=10;t++)l=l*o,c=c+this.A[t]*l;var f=c,d=a,p=1,y=0,v,_,E=0,x=0;for(t=1;t<=6;t++)v=p*f-y*d,_=y*f+p*d,p=v,y=_,E=E+this.B_re[t]*p-this.B_im[t]*y,x=x+this.B_im[t]*p+this.B_re[t]*y;return e.x=x*this.a+this.x0,e.y=E*this.a+this.y0,e}function vK(e){var t,i=e.x,r=e.y,n=i-this.x0,s=r-this.y0,o=s/this.a,a=n/this.a,l=1,c=0,f,d,p=0,y=0;for(t=1;t<=6;t++)f=l*o-c*a,d=c*o+l*a,l=f,c=d,p=p+this.C_re[t]*l-this.C_im[t]*c,y=y+this.C_im[t]*l+this.C_re[t]*c;for(var v=0;v<this.iterations;v++){var _=p,E=y,x,A,w=o,b=a;for(t=2;t<=6;t++)x=_*p-E*y,A=E*p+_*y,_=x,E=A,w=w+(t-1)*(this.B_re[t]*_-this.B_im[t]*E),b=b+(t-1)*(this.B_im[t]*_+this.B_re[t]*E);_=1,E=0;var M=this.B_re[1],I=this.B_im[1];for(t=2;t<=6;t++)x=_*p-E*y,A=E*p+_*y,_=x,E=A,M=M+t*(this.B_re[t]*_-this.B_im[t]*E),I=I+t*(this.B_im[t]*_+this.B_re[t]*E);var C=M*M+I*I;p=(w*M+b*I)/C,y=(b*M-w*I)/C}var P=p,N=y,U=1,j=0;for(t=1;t<=9;t++)U=U*P,j=j+this.D[t]*U;var F=this.lat0+j*Pd*1e5,q=this.long0+N;return e.x=q,e.y=F,e}var bK=["New_Zealand_Map_Grid","nzmg"];const _K={init:yK,forward:gK,inverse:vK,names:bK};function wK(){}function SK(e){var t=e.x,i=e.y,r=Se(t-this.long0),n=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return e.x=n,e.y=s,e}function xK(e){e.x-=this.x0,e.y-=this.y0;var t=Se(this.long0+e.x/this.a),i=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=i,e}var EK=["Miller_Cylindrical","mill"];const TK={init:wK,forward:SK,inverse:xK,names:EK};var AK=20;function MK(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=qx(this.es)}function IK(e){var t,i,r=e.x,n=e.y;if(r=Se(r-this.long0),this.sphere){if(!this.m)n=this.n!==1?Math.asin(this.n*Math.sin(n)):n;else for(var s=this.n*Math.sin(n),o=AK;o;--o){var a=(this.m*n+Math.sin(n)-s)/(this.m+Math.cos(n));if(n-=a,Math.abs(a)<be)break}t=this.a*this.C_x*r*(this.m+Math.cos(n)),i=this.a*this.C_y*n}else{var l=Math.sin(n),c=Math.cos(n);i=this.a*wf(n,l,c,this.en),t=this.a*r*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=i,e}function OK(e){var t,i,r,n;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(t))),this.m?t=ul((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=ul(Math.sin(t)/this.n)),r=Se(r+this.long0),t=vl(t)):(t=Wx(e.y/this.a,this.es,this.en),n=Math.abs(t),n<he?(n=Math.sin(t),i=this.long0+e.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(t)),r=Se(i)):n-be<he&&(r=this.long0)),e.x=r,e.y=t,e}var $K=["Sinusoidal","sinu"];const CK={init:MK,forward:IK,inverse:OK,names:$K};function NK(){}function PK(e){for(var t=e.x,i=e.y,r=Se(t-this.long0),n=i,s=Math.PI*Math.sin(i);;){var o=-(n+Math.sin(n)-s)/(1+Math.cos(n));if(n+=o,Math.abs(o)<be)break}n/=2,Math.PI/2-Math.abs(i)<be&&(r=0);var a=.900316316158*this.a*r*Math.cos(n)+this.x0,l=1.4142135623731*this.a*Math.sin(n)+this.y0;return e.x=a,e.y=l,e}function LK(e){var t,i;e.x-=this.x0,e.y-=this.y0,i=e.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),t=Math.asin(i);var r=Se(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),i=(2*t+Math.sin(2*t))/Math.PI,Math.abs(i)>1&&(i=1);var n=Math.asin(i);return e.x=r,e.y=n,e}var kK=["Mollweide","moll"];const RK={init:NK,forward:PK,inverse:LK,names:kK};function DK(){Math.abs(this.lat1+this.lat2)<be||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ym(this.es),this.e1=gm(this.es),this.e2=vm(this.es),this.e3=bm(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=mo(this.e,this.sinphi,this.cosphi),this.ml1=Dr(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<be?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=mo(this.e,this.sinphi,this.cosphi),this.ml2=Dr(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Dr(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function FK(e){var t=e.x,i=e.y,r;if(this.sphere)r=this.a*(this.g-i);else{var n=Dr(this.e0,this.e1,this.e2,this.e3,i);r=this.a*(this.g-n)}var s=this.ns*Se(t-this.long0),o=this.x0+r*Math.sin(s),a=this.y0+this.rh-r*Math.cos(s);return e.x=o,e.y=a,e}function UK(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,i,r,n;this.ns>=0?(i=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(i=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var s=0;if(i!==0&&(s=Math.atan2(t*e.x,t*e.y)),this.sphere)return n=Se(this.long0+s/this.ns),r=vl(this.g-i/this.a),e.x=n,e.y=r,e;var o=this.g-i/this.a;return r=dg(o,this.e0,this.e1,this.e2,this.e3),n=Se(this.long0+s/this.ns),e.x=n,e.y=r,e}var jK=["Equidistant_Conic","eqdc"];const GK={init:DK,forward:FK,inverse:UK,names:jK};function BK(){this.R=this.a}function VK(e){var t=e.x,i=e.y,r=Se(t-this.long0),n,s;Math.abs(i)<=be&&(n=this.x0+this.R*r,s=this.y0);var o=ul(2*Math.abs(i/Math.PI));(Math.abs(r)<=be||Math.abs(Math.abs(i)-he)<=be)&&(n=this.x0,i>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/r-r/Math.PI),l=a*a,c=Math.sin(o),f=Math.cos(o),d=f/(c+f-1),p=d*d,y=d*(2/c-1),v=y*y,_=Math.PI*this.R*(a*(d-v)+Math.sqrt(l*(d-v)*(d-v)-(v+l)*(p-v)))/(v+l);r<0&&(_=-_),n=this.x0+_;var E=l+d;return _=Math.PI*this.R*(y*E-a*Math.sqrt((v+l)*(l+1)-E*E))/(v+l),i>=0?s=this.y0+_:s=this.y0-_,e.x=n,e.y=s,e}function zK(e){var t,i,r,n,s,o,a,l,c,f,d,p,y;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,r=e.x/d,n=e.y/d,s=r*r+n*n,o=-Math.abs(n)*(1+s),a=o-2*n*n+r*r,l=-2*o+1+2*n*n+s*s,y=n*n/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,f=2*Math.sqrt(-c/3),d=3*y/c/f,Math.abs(d)>1&&(d>=0?d=1:d=-1),p=Math.acos(d)/3,e.y>=0?i=(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:i=-(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,Math.abs(r)<be?t=this.long0:t=Se(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-n*n)+s*s))/2/r),e.x=t,e.y=i,e}var qK=["Van_der_Grinten_I","VanDerGrinten","vandg"];const WK={init:BK,forward:VK,inverse:zK,names:qK};function HK(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function YK(e){var t=e.x,i=e.y,r=Math.sin(e.y),n=Math.cos(e.y),s=Se(t-this.long0),o,a,l,c,f,d,p,y,v,_,E,x,A,w,b,M,I,C,P,N,U,j,F;return this.sphere?Math.abs(this.sin_p12-1)<=be?(e.x=this.x0+this.a*(he-i)*Math.sin(s),e.y=this.y0-this.a*(he-i)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=be?(e.x=this.x0+this.a*(he+i)*Math.sin(s),e.y=this.y0+this.a*(he+i)*Math.cos(s),e):(C=this.sin_p12*r+this.cos_p12*n*Math.cos(s),M=Math.acos(C),I=M?M/Math.sin(M):1,e.x=this.x0+this.a*I*n*Math.sin(s),e.y=this.y0+this.a*I*(this.cos_p12*r-this.sin_p12*n*Math.cos(s)),e):(o=ym(this.es),a=gm(this.es),l=vm(this.es),c=bm(this.es),Math.abs(this.sin_p12-1)<=be?(f=this.a*Dr(o,a,l,c,he),d=this.a*Dr(o,a,l,c,i),e.x=this.x0+(f-d)*Math.sin(s),e.y=this.y0-(f-d)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=be?(f=this.a*Dr(o,a,l,c,he),d=this.a*Dr(o,a,l,c,i),e.x=this.x0+(f+d)*Math.sin(s),e.y=this.y0+(f+d)*Math.cos(s),e):(p=r/n,y=Lh(this.a,this.e,this.sin_p12),v=Lh(this.a,this.e,r),_=Math.atan((1-this.es)*p+this.es*y*this.sin_p12/(v*n)),E=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(_)-this.sin_p12*Math.cos(s)),E===0?P=Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):Math.abs(Math.abs(E)-Math.PI)<=be?P=-Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):P=Math.asin(Math.sin(s)*Math.cos(_)/Math.sin(E)),x=this.e*this.sin_p12/Math.sqrt(1-this.es),A=this.e*this.cos_p12*Math.cos(E)/Math.sqrt(1-this.es),w=x*A,b=A*A,N=P*P,U=N*P,j=U*P,F=j*P,M=y*P*(1-N*b*(1-b)/6+U/8*w*(1-2*b)+j/120*(b*(4-7*b)-3*x*x*(1-7*b))-F/48*w),e.x=this.x0+M*Math.sin(E),e.y=this.y0+M*Math.cos(E),e))}function JK(e){e.x-=this.x0,e.y-=this.y0;var t,i,r,n,s,o,a,l,c,f,d,p,y,v,_,E,x,A,w,b,M,I,C,P;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*he*this.a?void 0:(i=t/this.a,r=Math.sin(i),n=Math.cos(i),s=this.long0,Math.abs(t)<=be?o=this.lat0:(o=ul(n*this.sin_p12+e.y*r*this.cos_p12/t),a=Math.abs(this.lat0)-he,Math.abs(a)<=be?this.lat0>=0?s=Se(this.long0+Math.atan2(e.x,-e.y)):s=Se(this.long0-Math.atan2(-e.x,e.y)):s=Se(this.long0+Math.atan2(e.x*r,t*this.cos_p12*n-e.y*this.sin_p12*r))),e.x=s,e.y=o,e)):(l=ym(this.es),c=gm(this.es),f=vm(this.es),d=bm(this.es),Math.abs(this.sin_p12-1)<=be?(p=this.a*Dr(l,c,f,d,he),t=Math.sqrt(e.x*e.x+e.y*e.y),y=p-t,o=dg(y/this.a,l,c,f,d),s=Se(this.long0+Math.atan2(e.x,-1*e.y)),e.x=s,e.y=o,e):Math.abs(this.sin_p12+1)<=be?(p=this.a*Dr(l,c,f,d,he),t=Math.sqrt(e.x*e.x+e.y*e.y),y=t-p,o=dg(y/this.a,l,c,f,d),s=Se(this.long0+Math.atan2(e.x,e.y)),e.x=s,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),E=Math.atan2(e.x,e.y),v=Lh(this.a,this.e,this.sin_p12),x=Math.cos(E),A=this.e*this.cos_p12*x,w=-A*A/(1-this.es),b=3*this.es*(1-w)*this.sin_p12*this.cos_p12*x/(1-this.es),M=t/v,I=M-w*(1+w)*Math.pow(M,3)/6-b*(1+3*w)*Math.pow(M,4)/24,C=1-w*I*I/2-M*I*I*I/6,_=Math.asin(this.sin_p12*Math.cos(I)+this.cos_p12*Math.sin(I)*x),s=Se(this.long0+Math.asin(Math.sin(E)*Math.sin(I)/Math.cos(_))),P=Math.sin(_),o=Math.atan2((P-this.es*C*this.sin_p12)*Math.tan(_),P*(1-this.es)),e.x=s,e.y=o,e))}var KK=["Azimuthal_Equidistant","aeqd"];const ZK={init:HK,forward:YK,inverse:JK,names:KK};function XK(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function QK(e){var t,i,r,n,s,o,a,l,c=e.x,f=e.y;return r=Se(c-this.long0),t=Math.sin(f),i=Math.cos(f),n=Math.cos(r),o=this.sin_p14*t+this.cos_p14*i*n,s=1,(o>0||Math.abs(o)<=be)&&(a=this.a*s*i*Math.sin(r),l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*i*n)),e.x=a,e.y=l,e}function eZ(e){var t,i,r,n,s,o,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),i=ul(t/this.a),r=Math.sin(i),n=Math.cos(i),o=this.long0,Math.abs(t)<=be?(a=this.lat0,e.x=o,e.y=a,e):(a=ul(n*this.sin_p14+e.y*r*this.cos_p14/t),s=Math.abs(this.lat0)-he,Math.abs(s)<=be?(this.lat0>=0?o=Se(this.long0+Math.atan2(e.x,-e.y)):o=Se(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=a,e):(o=Se(this.long0+Math.atan2(e.x*r,t*this.cos_p14*n-e.y*this.sin_p14*r)),e.x=o,e.y=a,e))}var tZ=["ortho"];const iZ={init:XK,forward:QK,inverse:eZ,names:tZ};var ri={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},St={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function rZ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=he-wt/2?this.face=ri.TOP:this.lat0<=-(he-wt/2)?this.face=ri.BOTTOM:Math.abs(this.long0)<=wt?this.face=ri.FRONT:Math.abs(this.long0)<=he+wt?this.face=this.long0>0?ri.RIGHT:ri.LEFT:this.face=ri.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function nZ(e){var t={x:0,y:0},i,r,n,s,o,a,l={value:0};if(e.x-=this.long0,this.es!==0?i=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):i=e.y,r=e.x,this.face===ri.TOP)s=he-i,r>=wt&&r<=he+wt?(l.value=St.AREA_0,n=r-he):r>he+wt||r<=-(he+wt)?(l.value=St.AREA_1,n=r>0?r-gi:r+gi):r>-(he+wt)&&r<=-wt?(l.value=St.AREA_2,n=r+he):(l.value=St.AREA_3,n=r);else if(this.face===ri.BOTTOM)s=he+i,r>=wt&&r<=he+wt?(l.value=St.AREA_0,n=-r+he):r<wt&&r>=-wt?(l.value=St.AREA_1,n=-r):r<-wt&&r>=-(he+wt)?(l.value=St.AREA_2,n=-r-he):(l.value=St.AREA_3,n=r>0?-r+gi:-r-gi);else{var c,f,d,p,y,v,_;this.face===ri.RIGHT?r=mh(r,+he):this.face===ri.BACK?r=mh(r,+gi):this.face===ri.LEFT&&(r=mh(r,-he)),p=Math.sin(i),y=Math.cos(i),v=Math.sin(r),_=Math.cos(r),c=y*_,f=y*v,d=p,this.face===ri.FRONT?(s=Math.acos(c),n=n0(s,d,f,l)):this.face===ri.RIGHT?(s=Math.acos(f),n=n0(s,d,-c,l)):this.face===ri.BACK?(s=Math.acos(-c),n=n0(s,d,-f,l)):this.face===ri.LEFT?(s=Math.acos(-f),n=n0(s,d,c,l)):(s=n=0,l.value=St.AREA_0)}return a=Math.atan(12/gi*(n+Math.acos(Math.sin(n)*Math.cos(wt))-he)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(n))))),l.value===St.AREA_1?a+=he:l.value===St.AREA_2?a+=gi:l.value===St.AREA_3&&(a+=1.5*gi),t.x=o*Math.cos(a),t.y=o*Math.sin(a),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function sZ(e){var t={lam:0,phi:0},i,r,n,s,o,a,l,c,f,d={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,r=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),i=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?d.value=St.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(d.value=St.AREA_1,i-=he):e.x<0&&-e.x>=Math.abs(e.y)?(d.value=St.AREA_2,i=i<0?i+gi:i-gi):(d.value=St.AREA_3,i+=he),f=gi/12*Math.tan(i),o=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),a=Math.atan(o),n=Math.cos(i),s=Math.tan(r),l=1-n*n*s*s*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===ri.TOP)c=Math.acos(l),t.phi=he-c,d.value===St.AREA_0?t.lam=a+he:d.value===St.AREA_1?t.lam=a<0?a+gi:a-gi:d.value===St.AREA_2?t.lam=a-he:t.lam=a;else if(this.face===ri.BOTTOM)c=Math.acos(l),t.phi=c-he,d.value===St.AREA_0?t.lam=-a+he:d.value===St.AREA_1?t.lam=-a:d.value===St.AREA_2?t.lam=-a-he:t.lam=a<0?-a-gi:-a+gi;else{var p,y,v;p=l,f=p*p,f>=1?v=0:v=Math.sqrt(1-f)*Math.sin(a),f+=v*v,f>=1?y=0:y=Math.sqrt(1-f),d.value===St.AREA_1?(f=y,y=-v,v=f):d.value===St.AREA_2?(y=-y,v=-v):d.value===St.AREA_3&&(f=y,y=v,v=-f),this.face===ri.RIGHT?(f=p,p=-y,y=f):this.face===ri.BACK?(p=-p,y=-y):this.face===ri.LEFT&&(f=p,p=y,y=-f),t.phi=Math.acos(-v)-he,t.lam=Math.atan2(y,p),this.face===ri.RIGHT?t.lam=mh(t.lam,-he):this.face===ri.BACK?t.lam=mh(t.lam,-gi):this.face===ri.LEFT&&(t.lam=mh(t.lam,+he))}if(this.es!==0){var _,E,x;_=t.phi<0?1:0,E=Math.tan(t.phi),x=this.b/Math.sqrt(E*E+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-x*x)/(this.one_minus_f*x)),_&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function n0(e,t,i,r){var n;return e<be?(r.value=St.AREA_0,n=0):(n=Math.atan2(t,i),Math.abs(n)<=wt?r.value=St.AREA_0:n>wt&&n<=he+wt?(r.value=St.AREA_1,n-=he):n>he+wt||n<=-(he+wt)?(r.value=St.AREA_2,n=n>=0?n-gi:n+gi):(r.value=St.AREA_3,n+=he)),n}function mh(e,t){var i=e+t;return i<-gi?i+=Ep:i>+gi&&(i-=Ep),i}var oZ=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const aZ={init:rZ,forward:nZ,inverse:sZ,names:oZ};var vw=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],vd=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],tP=.8487,iP=1.3523,rP=Zs/5,lZ=1/rP,Xu=18,pg=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},cZ=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function uZ(e,t,i,r){for(var n=t;r;--r){var s=e(n);if(n-=s,Math.abs(s)<i)break}return n}function hZ(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function fZ(e){var t=Se(e.x-this.long0),i=Math.abs(e.y),r=Math.floor(i*rP);r<0?r=0:r>=Xu&&(r=Xu-1),i=Zs*(i-lZ*r);var n={x:pg(vw[r],i)*t,y:pg(vd[r],i)};return e.y<0&&(n.y=-n.y),n.x=n.x*this.a*tP+this.x0,n.y=n.y*this.a*iP+this.y0,n}function dZ(e){var t={x:(e.x-this.x0)/(this.a*tP),y:Math.abs(e.y-this.y0)/(this.a*iP)};if(t.y>=1)t.x/=vw[Xu][0],t.y=e.y<0?-he:he;else{var i=Math.floor(t.y*Xu);for(i<0?i=0:i>=Xu&&(i=Xu-1);;)if(vd[i][0]>t.y)--i;else if(vd[i+1][0]<=t.y)++i;else break;var r=vd[i],n=5*(t.y-r[0])/(vd[i+1][0]-r[0]);n=uZ(function(s){return(pg(r,s)-t.y)/cZ(r,s)},n,be,100),t.x/=pg(vw[i],n),t.y=(5*i+n)*rr,e.y<0&&(t.y=-t.y)}return t.x=Se(t.x+this.long0),t}var pZ=["Robinson","robin"];const mZ={init:hZ,forward:fZ,inverse:dZ,names:pZ};function yZ(){this.name="geocent"}function gZ(e){var t=zN(e,this.es,this.a);return t}function vZ(e){var t=qN(e,this.es,this.a,this.b);return t}var bZ=["Geocentric","geocentric","geocent","Geocent"];const _Z={init:yZ,forward:gZ,inverse:vZ,names:bZ};var mr={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Df={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function wZ(){if(Object.keys(Df).forEach(function(i){if(typeof this[i]>"u")this[i]=Df[i].def;else{if(Df[i].num&&isNaN(this[i]))throw new Error("Invalid parameter value, must be numeric "+i+" = "+this[i]);Df[i].num&&(this[i]=parseFloat(this[i]))}Df[i].degrees&&(this[i]=this[i]*rr)}.bind(this)),Math.abs(Math.abs(this.lat0)-he)<be?this.mode=this.lat0<0?mr.S_POLE:mr.N_POLE:Math.abs(this.lat0)<be?this.mode=mr.EQUIT:(this.mode=mr.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function SZ(e){e.x-=this.long0;var t=Math.sin(e.y),i=Math.cos(e.y),r=Math.cos(e.x),n,s;switch(this.mode){case mr.OBLIQ:s=this.sinph0*t+this.cosph0*i*r;break;case mr.EQUIT:s=i*r;break;case mr.S_POLE:s=-t;break;case mr.N_POLE:s=t;break}switch(s=this.pn1/(this.p-s),n=s*i*Math.sin(e.x),this.mode){case mr.OBLIQ:s*=this.cosph0*t-this.sinph0*i*r;break;case mr.EQUIT:s*=t;break;case mr.N_POLE:s*=-(i*r);break;case mr.S_POLE:s*=i*r;break}var o,a;return o=s*this.cg+n*this.sg,a=1/(o*this.sw*this.h1+this.cw),n=(n*this.cg-s*this.sg)*this.cw*a,s=o*a,e.x=n*this.a,e.y=s*this.a,e}function xZ(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},i,r,n;n=1/(this.pn1-e.y*this.sw),i=this.pn1*e.x*n,r=this.pn1*e.y*this.cw*n,e.x=i*this.cg+r*this.sg,e.y=r*this.cg-i*this.sg;var s=Kr(e.x,e.y);if(Math.abs(s)<be)t.x=0,t.y=e.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case mr.OBLIQ:t.y=Math.asin(o*this.sinph0+e.y*a*this.cosph0/s),e.y=(o-this.sinph0*Math.sin(t.y))*s,e.x*=a*this.cosph0;break;case mr.EQUIT:t.y=Math.asin(e.y*a/s),e.y=o*s,e.x*=a;break;case mr.N_POLE:t.y=Math.asin(o),e.y=-e.y;break;case mr.S_POLE:t.y=-Math.asin(o);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var EZ=["Tilted_Perspective","tpers"];const TZ={init:wZ,forward:SZ,inverse:xZ,names:EZ};function AZ(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function MZ(e){var t=e.x,i=e.y,r,n,s,o;if(t=t-this.long0,this.shape==="ellipse"){i=Math.atan(this.radius_p2*Math.tan(i));var a=this.radius_p/Kr(this.radius_p*Math.cos(i),Math.sin(i));if(n=a*Math.cos(t)*Math.cos(i),s=a*Math.sin(t)*Math.cos(i),o=a*Math.sin(i),(this.radius_g-n)*n-s*s-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;r=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(s/Kr(o,r)),e.y=this.radius_g_1*Math.atan(o/r)):(e.x=this.radius_g_1*Math.atan(s/r),e.y=this.radius_g_1*Math.atan(o/Kr(s,r)))}else this.shape==="sphere"&&(r=Math.cos(i),n=Math.cos(t)*r,s=Math.sin(t)*r,o=Math.sin(i),r=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(s/Kr(o,r)),e.y=this.radius_g_1*Math.atan(o/r)):(e.x=this.radius_g_1*Math.atan(s/r),e.y=this.radius_g_1*Math.atan(o/Kr(s,r))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function IZ(e){var t=-1,i=0,r=0,n,s,o,a;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*Kr(1,r)):(i=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*Kr(1,i));var l=r/this.radius_p;if(n=i*i+l*l+t*t,s=2*this.radius_g*t,o=s*s-4*n*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-s-Math.sqrt(o))/(2*n),t=this.radius_g+a*t,i*=a,r*=a,e.x=Math.atan2(i,t),e.y=Math.atan(r*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+r*r)):(i=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+i*i)),n=i*i+r*r+t*t,s=2*this.radius_g*t,o=s*s-4*n*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-s-Math.sqrt(o))/(2*n),t=this.radius_g+a*t,i*=a,r*=a,e.x=Math.atan2(i,t),e.y=Math.atan(r*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var OZ=["Geostationary Satellite View","Geostationary_Satellite","geos"];const $Z={init:AZ,forward:MZ,inverse:IZ,names:OZ};var Ld=1.340264,kd=-.081106,Rd=893e-6,Dd=.003796,mg=Math.sqrt(3)/2;function CZ(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function NZ(e){var t=Se(e.x-this.long0),i=e.y,r=Math.asin(mg*Math.sin(i)),n=r*r,s=n*n*n;return e.x=t*Math.cos(r)/(mg*(Ld+3*kd*n+s*(7*Rd+9*Dd*n))),e.y=r*(Ld+kd*n+s*(Rd+Dd*n)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function PZ(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,i=12,r=e.y,n,s,o,a,l,c;for(c=0;c<i&&(n=r*r,s=n*n*n,o=r*(Ld+kd*n+s*(Rd+Dd*n))-e.y,a=Ld+3*kd*n+s*(7*Rd+9*Dd*n),r-=l=o/a,!(Math.abs(l)<t));++c);return n=r*r,s=n*n*n,e.x=mg*e.x*(Ld+3*kd*n+s*(7*Rd+9*Dd*n))/Math.cos(r),e.y=Math.asin(Math.sin(r)/mg),e.x=Se(e.x+this.long0),e}var LZ=["eqearth","Equal Earth","Equal_Earth"];const kZ={init:CZ,forward:NZ,inverse:PZ,names:LZ};var Mp=1e-10;function RZ(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<Mp)throw new Error;this.es?(this.en=qx(this.es),this.m1=wf(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=FZ,this.forward=DZ):(Math.abs(this.phi1)+Mp>=he?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=jZ,this.forward=UZ)}function DZ(e){var t=Se(e.x-(this.long0||0)),i=e.y,r,n,s;return r=this.am1+this.m1-wf(i,n=Math.sin(i),s=Math.cos(i),this.en),n=s*t/(r*Math.sqrt(1-this.es*n*n)),e.x=r*Math.sin(n),e.y=this.am1-r*Math.cos(n),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function FZ(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,i,r,n;if(i=Kr(e.x,e.y=this.am1-e.y),n=Wx(this.am1+this.m1-i,this.es,this.en),(t=Math.abs(n))<he)t=Math.sin(n),r=i*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(n);else if(Math.abs(t-he)<=Mp)r=0;else throw new Error;return e.x=Se(r+(this.long0||0)),e.y=vl(n),e}function UZ(e){var t=Se(e.x-(this.long0||0)),i=e.y,r,n;return n=this.cphi1+this.phi1-i,Math.abs(n)>Mp?(e.x=n*Math.sin(r=t*Math.cos(i)/n),e.y=this.cphi1-n*Math.cos(r)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function jZ(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,i,r=Kr(e.x,e.y=this.cphi1-e.y);if(i=this.cphi1+this.phi1-r,Math.abs(i)>he)throw new Error;return Math.abs(Math.abs(i)-he)<=Mp?t=0:t=r*Math.atan2(e.x,e.y)/Math.cos(i),e.x=Se(t+(this.long0||0)),e.y=vl(i),e}var GZ=["bonne","Bonne (Werner lat_1=90)"];const BZ={init:RZ,names:GZ};function VZ(e){e.Proj.projections.add(gy),e.Proj.projections.add(vy),e.Proj.projections.add(DY),e.Proj.projections.add(HY),e.Proj.projections.add(QY),e.Proj.projections.add(nJ),e.Proj.projections.add(uJ),e.Proj.projections.add(mJ),e.Proj.projections.add(_J),e.Proj.projections.add(TJ),e.Proj.projections.add(BJ),e.Proj.projections.add(YJ),e.Proj.projections.add(QJ),e.Proj.projections.add(sK),e.Proj.projections.add(uK),e.Proj.projections.add(mK),e.Proj.projections.add(_K),e.Proj.projections.add(TK),e.Proj.projections.add(CK),e.Proj.projections.add(RK),e.Proj.projections.add(GK),e.Proj.projections.add(WK),e.Proj.projections.add(ZK),e.Proj.projections.add(iZ),e.Proj.projections.add(aZ),e.Proj.projections.add(mZ),e.Proj.projections.add(_Z),e.Proj.projections.add(TZ),e.Proj.projections.add($Z),e.Proj.projections.add(kZ),e.Proj.projections.add(BZ)}Nt.defaultDatum="WGS84";Nt.Proj=so;Nt.WGS84=new Nt.Proj("WGS84");Nt.Point=Ph;Nt.toPoint=WN;Nt.defs=Cr;Nt.nadgrid=UH;Nt.transform=fg;Nt.mgrs=tY;Nt.version="__VERSION__";VZ(Nt);const zZ="EPSG:4326";class qZ{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Nt.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Nt.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Nt.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Nt.defs("EPSG:102100",Nt.defs("EPSG:3857")),Nt.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Nt.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let t=1;for(;t<=60;){const i=t<10?`0${t}`:t;Nt.defs(`EPSG:326${i}`,`+proj=utm +zone=${t} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),t++}}addProjection(t,i){t=typeof t=="number"?`EPSG:${t}`:t,Nt.defs(t,i)}defaultEpsgLookup(t){const i=/urn:ogc:def:crs:EPSG::(\d+)/,r=/EPSG:(\d+)/,n=String(t).match(i)||String(t).match(r)||[];if(n.length<2)throw new Error("Invalid code provided.");return new Promise((s,o)=>{const a=`https://epsg.io/${n[1]}.proj4`;wi(a,{responseType:"text"}).then(f=>{f.data?s(f.data):o()},f=>{o(f)})})}epsgLookup(t){return this.espgWorker(t)}setEpsgLookup(t){this.espgWorker=t}normalizeProj(t){if(typeof t=="object"){if(t.wkid)return"EPSG:"+t.wkid;if(t.wkt)return t.wkt}else{if(typeof t=="number")return"EPSG:"+t;if(typeof t=="string")return t}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(t){let i,r="";try{i=this.normalizeProj(t)}catch{return!1}if(!i.startsWith("EPSG:"))return!0;typeof t=="object"&&t.latestWkid&&(r=this.normalizeProj(t.latestWkid));const n=(l,c)=>{l!==c&&Nt.defs(c,Nt.defs(l))};if(Nt.defs(i))return!0;if(r&&Nt.defs(r))return n(r,i),!0;const s=async l=>{try{const c=await this.epsgLookup(l);return c===null||c===""?!1:(Nt.defs(l,c),!0)}catch{return!1}};return await(r?s(r):Promise.resolve(!1))?(n(r,i),!0):s(i)}async checkProjBomber(t){if(t.length>0){const i=t.pop();if(await this.checkProj(i))return this.checkProjBomber(t);throw console.error("Unable to parse or locate projection information for this item:",i),new Error("Could not find projection information, see console for details")}}async projectGeoJson(t,i,r){let n,s;if(i?n=this.normalizeProj(i):n=Ge.parseGeoJsonCrs(t.crs),r?s=this.normalizeProj(r):s=zZ,s===n)return t;await this.checkProjBomber([n,s]);const o=Nt(n,s).forward;return QW(t,o)}async projectGeometry(t,i){if(i.type===Ke.EXTENT)return this.projectExtent(t,i);await this.checkProjBomber([t,i.sr]);const r=i.toGeoJSON(),n=await this.projectGeoJson(r,this.normalizeProj(i.sr),this.normalizeProj(t)),s=xh.geom.geomGeoJsonToRamp(n,i.id);return s.sr=Ge.parseSR(t),s}async projectExtent(t,i){const r=(_,E,x)=>{if(x===0)return[_,E];const A=[(_[0]+E[0])/2,(_[1]+E[1])/2];if(x===1)return[_,A,E];if(x>1){const w=r(_,A,x-1),b=r(A,E,x-1);return w.concat(b.slice(1))}return[[]]},n=i.toPolygonArray().pop()||[];let s=[];[0,1,2,3].map(_=>r(n[_],n[_+1],3).slice(1)).forEach(_=>s=s.concat(_));const o=new yr("warpy",[s],i.sr,!0),a=await this.projectGeometry(t,o),l=a.toArray().pop()||[],c=l.map(_=>_[0]),f=l.map(_=>_[1]),d=Math.min.apply(null,c),p=Math.max.apply(null,c),y=Math.min.apply(null,f),v=Math.max.apply(null,f);return Xt.fromParams(i.id+"_projected",d,y,p,v,a.sr)}}class WZ{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new qZ,this.geom=new BW,this.sharedUtils=new WW}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(t){const i=r=>r.map(n=>({level:n[0],resolution:n[1],scale:n[2]}));if(t===this.DEFAULT_LAMBERT)return i([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(t===this.DEFAULT_MERCATOR)return i([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${t}`)}}class Pi{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(t){this.$iApi=t}}function HZ(e){return typeof e=="function"&&e.render&&typeof e.render=="function"}function YZ(e){const t=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof e=="object"&&!e.functional&&t.some(i=>e[i]!==void 0)}function nP(e){return typeof e=="object"&&Object.keys(e).every(t=>typeof t=="string")&&Object.values(e).every(t=>t instanceof HTMLElement)}function JZ(e){return typeof e=="object"&&e.default!==void 0}var s0={exports:{}},k4;function KZ(){if(k4)return s0.exports;k4=1;function e(){}return e.prototype={on:function(t,i,r){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:i,ctx:r}),this},once:function(t,i,r){var n=this;function s(){n.off(t,s),i.apply(r,arguments)}return s._=i,this.on(t,s,r)},emit:function(t){var i=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,s=r.length;for(n;n<s;n++)r[n].fn.apply(r[n].ctx,i);return this},off:function(t,i){var r=this.e||(this.e={}),n=r[t],s=[];if(n&&i)for(var o=0,a=n.length;o<a;o++)n[o].fn!==i&&n[o].fn._!==i&&s.push(n[o]);return s.length?r[t]=s:delete r[t],this}},s0.exports=e,s0.exports.TinyEmitter=e,s0.exports}var ZZ=KZ();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Sn(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const nt={},yh=[],sr=()=>{},bd=()=>!1,lu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Kx=e=>e.startsWith("onUpdate:"),st=Object.assign,Zx=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},XZ=Object.prototype.hasOwnProperty,vt=(e,t)=>XZ.call(e,t),Ee=Array.isArray,gh=e=>Sf(e)==="[object Map]",cu=e=>Sf(e)==="[object Set]",R4=e=>Sf(e)==="[object Date]",QZ=e=>Sf(e)==="[object RegExp]",Fe=e=>typeof e=="function",Je=e=>typeof e=="string",an=e=>typeof e=="symbol",Mt=e=>e!==null&&typeof e=="object",Xx=e=>(Mt(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),sP=Object.prototype.toString,Sf=e=>sP.call(e),eX=e=>Sf(e).slice(8,-1),W1=e=>Sf(e)==="[object Object]",Qx=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,rl=Sn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tX=Sn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),H1=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},iX=/-(\w)/g,Bt=H1(e=>e.replace(iX,(t,i)=>i?i.toUpperCase():"")),rX=/\B([A-Z])/g,Zr=H1(e=>e.replace(rX,"-$1").toLowerCase()),bl=H1(e=>e.charAt(0).toUpperCase()+e.slice(1)),wc=H1(e=>e?`on${bl(e)}`:""),Lr=(e,t)=>!Object.is(e,t),vh=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},oP=(e,t,i,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:i})},yg=e=>{const t=parseFloat(e);return isNaN(t)?e:t},gg=e=>{const t=Je(e)?Number(e):NaN;return isNaN(t)?e:t};let D4;const Y1=()=>D4||(D4=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nX(e,t){return e+JSON.stringify(t,(i,r)=>typeof r=="function"?r.toString():r)}const sX="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",oX=Sn(sX);function _l(e){if(Ee(e)){const t={};for(let i=0;i<e.length;i++){const r=e[i],n=Je(r)?aP(r):_l(r);if(n)for(const s in n)t[s]=n[s]}return t}else if(Je(e)||Mt(e))return e}const aX=/;(?![^(]*\))/g,lX=/:([^]+)/,cX=/\/\*[^]*?\*\//g;function aP(e){const t={};return e.replace(cX,"").split(aX).forEach(i=>{if(i){const r=i.split(lX);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function di(e){let t="";if(Je(e))t=e;else if(Ee(e))for(let i=0;i<e.length;i++){const r=di(e[i]);r&&(t+=r+" ")}else if(Mt(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function lP(e){if(!e)return null;let{class:t,style:i}=e;return t&&!Je(t)&&(e.class=di(t)),i&&(e.style=_l(i)),e}const uX="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",hX="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",fX="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",dX="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",pX=Sn(uX),mX=Sn(hX),yX=Sn(fX),gX=Sn(dX),vX="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bX=Sn(vX);function cP(e){return!!e||e===""}function _X(e,t){if(e.length!==t.length)return!1;let i=!0;for(let r=0;i&&r<e.length;r++)i=hl(e[r],t[r]);return i}function hl(e,t){if(e===t)return!0;let i=R4(e),r=R4(t);if(i||r)return i&&r?e.getTime()===t.getTime():!1;if(i=an(e),r=an(t),i||r)return e===t;if(i=Ee(e),r=Ee(t),i||r)return i&&r?_X(e,t):!1;if(i=Mt(e),r=Mt(t),i||r){if(!i||!r)return!1;const n=Object.keys(e).length,s=Object.keys(t).length;if(n!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!hl(e[o],t[o]))return!1}}return String(e)===String(t)}function J1(e,t){return e.findIndex(i=>hl(i,t))}const uP=e=>!!(e&&e.__v_isRef===!0),Ut=e=>Je(e)?e:e==null?"":Ee(e)||Mt(e)&&(e.toString===sP||!Fe(e.toString))?uP(e)?Ut(e.value):JSON.stringify(e,hP,2):String(e),hP=(e,t)=>uP(t)?hP(e,t.value):gh(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[r,n],s)=>(i[Mb(r,s)+" =>"]=n,i),{})}:cu(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>Mb(i))}:an(t)?Mb(t):Mt(t)&&!Ee(t)&&!W1(t)?String(t):t,Mb=(e,t="")=>{var i;return an(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nr;class K1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Nr,!t&&Nr&&(this.index=(Nr.scopes||(Nr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=Nr;try{return Nr=this,t()}finally{Nr=i}}}on(){Nr=this}off(){Nr=this.parent}stop(t){if(this._active){this._active=!1;let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(this.effects.length=0,i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function _m(e){return new K1(e)}function Z1(){return Nr}function eE(e,t=!1){Nr&&Nr.cleanups.push(e)}let Dt;const Ib=new WeakSet;class kh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Nr&&Nr.active&&Nr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ib.has(this)&&(Ib.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||dP(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,F4(this),pP(this);const t=Dt,i=ys;Dt=this,ys=!0;try{return this.fn()}finally{mP(this),Dt=t,ys=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)rE(t);this.deps=this.depsTail=void 0,F4(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ib.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bw(this)&&this.run()}get dirty(){return bw(this)}}let fP=0,Fd,Ud;function dP(e,t=!1){if(e.flags|=8,t){e.next=Ud,Ud=e;return}e.next=Fd,Fd=e}function tE(){fP++}function iE(){if(--fP>0)return;if(Ud){let t=Ud;for(Ud=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;Fd;){let t=Fd;for(Fd=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=i}}if(e)throw e}function pP(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function mP(e){let t,i=e.depsTail,r=i;for(;r;){const n=r.prevDep;r.version===-1?(r===i&&(i=n),rE(r),wX(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}e.deps=t,e.depsTail=i}function bw(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(yP(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function yP(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ip))return;e.globalVersion=Ip;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!bw(e)){e.flags&=-3;return}const i=Dt,r=ys;Dt=e,ys=!0;try{pP(e);const n=e.fn(e._value);(t.version===0||Lr(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Dt=i,ys=r,mP(e),e.flags&=-3}}function rE(e,t=!1){const{dep:i,prevSub:r,nextSub:n}=e;if(r&&(r.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=r,e.nextSub=void 0),i.subs===e&&(i.subs=r,!r&&i.computed)){i.computed.flags&=-5;for(let s=i.computed.deps;s;s=s.nextDep)rE(s,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function wX(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}function gP(e,t){e.effect instanceof kh&&(e=e.effect.fn);const i=new kh(e);t&&st(i,t);try{i.run()}catch(n){throw i.stop(),n}const r=i.run.bind(i);return r.effect=i,r}function vP(e){e.effect.stop()}let ys=!0;const bP=[];function wl(){bP.push(ys),ys=!1}function Sl(){const e=bP.pop();ys=e===void 0?!0:e}function F4(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=Dt;Dt=void 0;try{t()}finally{Dt=i}}}let Ip=0;class SX{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class X1{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Dt||!ys||Dt===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Dt)i=this.activeLink=new SX(Dt,this),Dt.deps?(i.prevDep=Dt.depsTail,Dt.depsTail.nextDep=i,Dt.depsTail=i):Dt.deps=Dt.depsTail=i,_P(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=Dt.depsTail,i.nextDep=void 0,Dt.depsTail.nextDep=i,Dt.depsTail=i,Dt.deps===i&&(Dt.deps=r)}return i}trigger(t){this.version++,Ip++,this.notify(t)}notify(t){tE();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{iE()}}}function _P(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)_P(r)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const vg=new WeakMap,Sc=Symbol(""),_w=Symbol(""),Op=Symbol("");function gr(e,t,i){if(ys&&Dt){let r=vg.get(e);r||vg.set(e,r=new Map);let n=r.get(i);n||(r.set(i,n=new X1),n.map=r,n.key=i),n.track()}}function Vo(e,t,i,r,n,s){const o=vg.get(e);if(!o){Ip++;return}const a=l=>{l&&l.trigger()};if(tE(),t==="clear")o.forEach(a);else{const l=Ee(e),c=l&&Qx(i);if(l&&i==="length"){const f=Number(r);o.forEach((d,p)=>{(p==="length"||p===Op||!an(p)&&p>=f)&&a(d)})}else switch((i!==void 0||o.has(void 0))&&a(o.get(i)),c&&a(o.get(Op)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Sc)),gh(e)&&a(o.get(_w)));break;case"delete":l||(a(o.get(Sc)),gh(e)&&a(o.get(_w)));break;case"set":gh(e)&&a(o.get(Sc));break}}iE()}function xX(e,t){const i=vg.get(e);return i&&i.get(t)}function Eu(e){const t=Ve(e);return t===e?t:(gr(t,"iterate",Op),tn(e)?t:t.map(vr))}function Q1(e){return gr(e=Ve(e),"iterate",Op),e}const EX={__proto__:null,[Symbol.iterator](){return Ob(this,Symbol.iterator,vr)},concat(...e){return Eu(this).concat(...e.map(t=>Ee(t)?Eu(t):t))},entries(){return Ob(this,"entries",e=>(e[1]=vr(e[1]),e))},every(e,t){return Eo(this,"every",e,t,void 0,arguments)},filter(e,t){return Eo(this,"filter",e,t,i=>i.map(vr),arguments)},find(e,t){return Eo(this,"find",e,t,vr,arguments)},findIndex(e,t){return Eo(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Eo(this,"findLast",e,t,vr,arguments)},findLastIndex(e,t){return Eo(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Eo(this,"forEach",e,t,void 0,arguments)},includes(...e){return $b(this,"includes",e)},indexOf(...e){return $b(this,"indexOf",e)},join(e){return Eu(this).join(e)},lastIndexOf(...e){return $b(this,"lastIndexOf",e)},map(e,t){return Eo(this,"map",e,t,void 0,arguments)},pop(){return Ff(this,"pop")},push(...e){return Ff(this,"push",e)},reduce(e,...t){return U4(this,"reduce",e,t)},reduceRight(e,...t){return U4(this,"reduceRight",e,t)},shift(){return Ff(this,"shift")},some(e,t){return Eo(this,"some",e,t,void 0,arguments)},splice(...e){return Ff(this,"splice",e)},toReversed(){return Eu(this).toReversed()},toSorted(e){return Eu(this).toSorted(e)},toSpliced(...e){return Eu(this).toSpliced(...e)},unshift(...e){return Ff(this,"unshift",e)},values(){return Ob(this,"values",vr)}};function Ob(e,t,i){const r=Q1(e),n=r[t]();return r!==e&&!tn(e)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=i(s.value)),s}),n}const TX=Array.prototype;function Eo(e,t,i,r,n,s){const o=Q1(e),a=o!==e&&!tn(e),l=o[t];if(l!==TX[t]){const d=l.apply(e,s);return a?vr(d):d}let c=i;o!==e&&(a?c=function(d,p){return i.call(this,vr(d),p,e)}:i.length>2&&(c=function(d,p){return i.call(this,d,p,e)}));const f=l.call(o,c,r);return a&&n?n(f):f}function U4(e,t,i,r){const n=Q1(e);let s=i;return n!==e&&(tn(e)?i.length>3&&(s=function(o,a,l){return i.call(this,o,a,l,e)}):s=function(o,a,l){return i.call(this,o,vr(a),l,e)}),n[t](s,...r)}function $b(e,t,i){const r=Ve(e);gr(r,"iterate",Op);const n=r[t](...i);return(n===-1||n===!1)&&wm(i[0])?(i[0]=Ve(i[0]),r[t](...i)):n}function Ff(e,t,i=[]){wl(),tE();const r=Ve(e)[t].apply(e,i);return iE(),Sl(),r}const AX=Sn("__proto__,__v_isRef,__isVue"),wP=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(an));function MX(e){an(e)||(e=String(e));const t=Ve(this);return gr(t,"has",e),t.hasOwnProperty(e)}class SP{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,r){if(i==="__v_skip")return t.__v_skip;const n=this._isReadonly,s=this._isShallow;if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return s;if(i==="__v_raw")return r===(n?s?IP:MP:s?AP:TP).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Ee(t);if(!n){let l;if(o&&(l=EX[i]))return l;if(i==="hasOwnProperty")return MX}const a=Reflect.get(t,i,ft(t)?t:r);return(an(i)?wP.has(i):AX(i))||(n||gr(t,"get",i),s)?a:ft(a)?o&&Qx(i)?a:a.value:Mt(a)?n?tv(a):er(a):a}}class xP extends SP{constructor(t=!1){super(!1,t)}set(t,i,r,n){let s=t[i];if(!this._isShallow){const l=ea(s);if(!tn(r)&&!ea(r)&&(s=Ve(s),r=Ve(r)),!Ee(t)&&ft(s)&&!ft(r))return l?!1:(s.value=r,!0)}const o=Ee(t)&&Qx(i)?Number(i)<t.length:vt(t,i),a=Reflect.set(t,i,r,ft(t)?t:n);return t===Ve(n)&&(o?Lr(r,s)&&Vo(t,"set",i,r):Vo(t,"add",i,r)),a}deleteProperty(t,i){const r=vt(t,i);t[i];const n=Reflect.deleteProperty(t,i);return n&&r&&Vo(t,"delete",i,void 0),n}has(t,i){const r=Reflect.has(t,i);return(!an(i)||!wP.has(i))&&gr(t,"has",i),r}ownKeys(t){return gr(t,"iterate",Ee(t)?"length":Sc),Reflect.ownKeys(t)}}class EP extends SP{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const IX=new xP,OX=new EP,$X=new xP(!0),CX=new EP(!0),ww=e=>e,o0=e=>Reflect.getPrototypeOf(e);function NX(e,t,i){return function(...r){const n=this.__v_raw,s=Ve(n),o=gh(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=n[e](...r),f=i?ww:t?Sw:vr;return!t&&gr(s,"iterate",l?_w:Sc),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function a0(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function PX(e,t){const i={get(n){const s=this.__v_raw,o=Ve(s),a=Ve(n);e||(Lr(n,a)&&gr(o,"get",n),gr(o,"get",a));const{has:l}=o0(o),c=t?ww:e?Sw:vr;if(l.call(o,n))return c(s.get(n));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(n)},get size(){const n=this.__v_raw;return!e&&gr(Ve(n),"iterate",Sc),Reflect.get(n,"size",n)},has(n){const s=this.__v_raw,o=Ve(s),a=Ve(n);return e||(Lr(n,a)&&gr(o,"has",n),gr(o,"has",a)),n===a?s.has(n):s.has(n)||s.has(a)},forEach(n,s){const o=this,a=o.__v_raw,l=Ve(a),c=t?ww:e?Sw:vr;return!e&&gr(l,"iterate",Sc),a.forEach((f,d)=>n.call(s,c(f),c(d),o))}};return st(i,e?{add:a0("add"),set:a0("set"),delete:a0("delete"),clear:a0("clear")}:{add(n){!t&&!tn(n)&&!ea(n)&&(n=Ve(n));const s=Ve(this);return o0(s).has.call(s,n)||(s.add(n),Vo(s,"add",n,n)),this},set(n,s){!t&&!tn(s)&&!ea(s)&&(s=Ve(s));const o=Ve(this),{has:a,get:l}=o0(o);let c=a.call(o,n);c||(n=Ve(n),c=a.call(o,n));const f=l.call(o,n);return o.set(n,s),c?Lr(s,f)&&Vo(o,"set",n,s):Vo(o,"add",n,s),this},delete(n){const s=Ve(this),{has:o,get:a}=o0(s);let l=o.call(s,n);l||(n=Ve(n),l=o.call(s,n)),a&&a.call(s,n);const c=s.delete(n);return l&&Vo(s,"delete",n,void 0),c},clear(){const n=Ve(this),s=n.size!==0,o=n.clear();return s&&Vo(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{i[n]=NX(n,e,t)}),i}function ev(e,t){const i=PX(e,t);return(r,n,s)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(vt(i,n)&&n in r?i:r,n,s)}const LX={get:ev(!1,!1)},kX={get:ev(!1,!0)},RX={get:ev(!0,!1)},DX={get:ev(!0,!0)},TP=new WeakMap,AP=new WeakMap,MP=new WeakMap,IP=new WeakMap;function FX(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function UX(e){return e.__v_skip||!Object.isExtensible(e)?0:FX(eX(e))}function er(e){return ea(e)?e:iv(e,!1,IX,LX,TP)}function nE(e){return iv(e,!1,$X,kX,AP)}function tv(e){return iv(e,!0,OX,RX,MP)}function OP(e){return iv(e,!0,CX,DX,IP)}function iv(e,t,i,r,n){if(!Mt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=n.get(e);if(s)return s;const o=UX(e);if(o===0)return e;const a=new Proxy(e,o===2?r:i);return n.set(e,a),a}function yn(e){return ea(e)?yn(e.__v_raw):!!(e&&e.__v_isReactive)}function ea(e){return!!(e&&e.__v_isReadonly)}function tn(e){return!!(e&&e.__v_isShallow)}function wm(e){return e?!!e.__v_raw:!1}function Ve(e){const t=e&&e.__v_raw;return t?Ve(t):e}function xi(e){return!vt(e,"__v_skip")&&Object.isExtensible(e)&&oP(e,"__v_skip",!0),e}const vr=e=>Mt(e)?er(e):e,Sw=e=>Mt(e)?tv(e):e;function ft(e){return e?e.__v_isRef===!0:!1}function X(e){return $P(e,!1)}function xf(e){return $P(e,!0)}function $P(e,t){return ft(e)?e:new jX(e,t)}class jX{constructor(t,i){this.dep=new X1,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:Ve(t),this._value=i?t:vr(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,r=this.__v_isShallow||tn(t)||ea(t);t=r?t:Ve(t),Lr(t,i)&&(this._rawValue=t,this._value=r?t:vr(t),this.dep.trigger())}}function CP(e){e.dep&&e.dep.trigger()}function Ie(e){return ft(e)?e.value:e}function NP(e){return Fe(e)?e():Ie(e)}const GX={get:(e,t,i)=>t==="__v_raw"?e:Ie(Reflect.get(e,t,i)),set:(e,t,i,r)=>{const n=e[t];return ft(n)&&!ft(i)?(n.value=i,!0):Reflect.set(e,t,i,r)}};function rv(e){return yn(e)?e:new Proxy(e,GX)}class BX{constructor(t){this.__v_isRef=!0,this._value=void 0;const i=this.dep=new X1,{get:r,set:n}=t(i.track.bind(i),i.trigger.bind(i));this._get=r,this._set=n}get value(){return this._value=this._get()}set value(t){this._set(t)}}function sE(e){return new BX(e)}function oE(e){const t=Ee(e)?new Array(e.length):{};for(const i in e)t[i]=LP(e,i);return t}class VX{constructor(t,i,r){this._object=t,this._key=i,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return xX(Ve(this._object),this._key)}}class zX{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function PP(e,t,i){return ft(e)?e:Fe(e)?new zX(e):Mt(e)&&arguments.length>1?LP(e,t,i):X(e)}function LP(e,t,i){const r=e[t];return ft(r)?r:new VX(e,t,i)}class qX{constructor(t,i,r){this.fn=t,this.setter=i,this._value=void 0,this.dep=new X1(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ip-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Dt!==this)return dP(this,!0),!0}get value(){const t=this.dep.track();return yP(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function WX(e,t,i=!1){let r,n;return Fe(e)?r=e:(r=e.get,n=e.set),new qX(r,n,i)}const kP={GET:"get",HAS:"has",ITERATE:"iterate"},RP={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},l0={},bg=new WeakMap;let Fa;function DP(){return Fa}function aE(e,t=!1,i=Fa){if(i){let r=bg.get(i);r||bg.set(i,r=[]),r.push(e)}}function HX(e,t,i=nt){const{immediate:r,deep:n,once:s,scheduler:o,augmentJob:a,call:l}=i,c=b=>n?b:tn(b)||n===!1||n===0?zo(b,1):zo(b);let f,d,p,y,v=!1,_=!1;if(ft(e)?(d=()=>e.value,v=tn(e)):yn(e)?(d=()=>c(e),v=!0):Ee(e)?(_=!0,v=e.some(b=>yn(b)||tn(b)),d=()=>e.map(b=>{if(ft(b))return b.value;if(yn(b))return c(b);if(Fe(b))return l?l(b,2):b()})):Fe(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){wl();try{p()}finally{Sl()}}const b=Fa;Fa=f;try{return l?l(e,3,[y]):e(y)}finally{Fa=b}}:d=sr,t&&n){const b=d,M=n===!0?1/0:n;d=()=>zo(b(),M)}const E=Z1(),x=()=>{f.stop(),E&&E.active&&Zx(E.effects,f)};if(s&&t){const b=t;t=(...M)=>{b(...M),x()}}let A=_?new Array(e.length).fill(l0):l0;const w=b=>{if(!(!(f.flags&1)||!f.dirty&&!b))if(t){const M=f.run();if(n||v||(_?M.some((I,C)=>Lr(I,A[C])):Lr(M,A))){p&&p();const I=Fa;Fa=f;try{const C=[M,A===l0?void 0:_&&A[0]===l0?[]:A,y];l?l(t,3,C):t(...C),A=M}finally{Fa=I}}}else f.run()};return a&&a(w),f=new kh(d),f.scheduler=o?()=>o(w,!1):w,y=b=>aE(b,!1,f),p=f.onStop=()=>{const b=bg.get(f);if(b){if(l)l(b,4);else for(const M of b)M();bg.delete(f)}},t?r?w(!0):A=f.run():o?o(w.bind(null,!0),!0):f.run(),x.pause=f.pause.bind(f),x.resume=f.resume.bind(f),x.stop=x,x}function zo(e,t=1/0,i){if(t<=0||!Mt(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,ft(e))zo(e.value,t,i);else if(Ee(e))for(let r=0;r<e.length;r++)zo(e[r],t,i);else if(cu(e)||gh(e))e.forEach(r=>{zo(r,t,i)});else if(W1(e)){for(const r in e)zo(e[r],t,i);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&zo(e[r],t,i)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const FP=[];function YX(e){FP.push(e)}function JX(){FP.pop()}function UP(e,t){}const jP={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},KX={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function uu(e,t,i,r){try{return r?e(...r):e()}catch(n){xl(n,t,i)}}function bn(e,t,i,r){if(Fe(e)){const n=uu(e,t,i,r);return n&&Xx(n)&&n.catch(s=>{xl(s,t,i)}),n}if(Ee(e)){const n=[];for(let s=0;s<e.length;s++)n.push(bn(e[s],t,i,r));return n}}function xl(e,t,i,r=!0){const n=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||nt;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${i}`;for(;a;){const f=a.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,l,c)===!1)return}a=a.parent}if(s){wl(),uu(s,null,10,[e,l,c]),Sl();return}}ZX(e,i,n,r,o)}function ZX(e,t,i,r=!0,n=!1){if(n)throw e;console.error(e)}const kr=[];let zs=-1;const bh=[];let Ua=null,Uu=0;const GP=Promise.resolve();let _g=null;function As(e){const t=_g||GP;return e?t.then(this?e.bind(this):e):t}function XX(e){let t=zs+1,i=kr.length;for(;t<i;){const r=t+i>>>1,n=kr[r],s=$p(n);s<e||s===e&&n.flags&2?t=r+1:i=r}return t}function lE(e){if(!(e.flags&1)){const t=$p(e),i=kr[kr.length-1];!i||!(e.flags&2)&&t>=$p(i)?kr.push(e):kr.splice(XX(t),0,e),e.flags|=1,BP()}}function BP(){_g||(_g=GP.then(VP))}function Rh(e){Ee(e)?bh.push(...e):Ua&&e.id===-1?Ua.splice(Uu+1,0,e):e.flags&1||(bh.push(e),e.flags|=1),BP()}function j4(e,t,i=zs+1){for(;i<kr.length;i++){const r=kr[i];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;kr.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function wg(e){if(bh.length){const t=[...new Set(bh)].sort((i,r)=>$p(i)-$p(r));if(bh.length=0,Ua){Ua.push(...t);return}for(Ua=t,Uu=0;Uu<Ua.length;Uu++){const i=Ua[Uu];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Ua=null,Uu=0}}const $p=e=>e.id==null?e.flags&2?-1:1/0:e.id;function VP(e){try{for(zs=0;zs<kr.length;zs++){const t=kr[zs];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),uu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;zs<kr.length;zs++){const t=kr[zs];t&&(t.flags&=-2)}zs=-1,kr.length=0,wg(),_g=null,(kr.length||bh.length)&&VP()}}let ju,c0=[];function zP(e,t){var i,r;ju=e,ju?(ju.enabled=!0,c0.forEach(({event:n,args:s})=>ju.emit(n,...s)),c0=[]):typeof window<"u"&&window.HTMLElement&&!((r=(i=window.navigator)==null?void 0:i.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{zP(s,t)}),setTimeout(()=>{ju||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,c0=[])},3e3)):c0=[]}let Vi=null,nv=null;function Cp(e){const t=Vi;return Vi=e,nv=e&&e.type.__scopeId||null,t}function qP(e){nv=e}function WP(){nv=null}const HP=e=>Ti;function Ti(e,t=Vi,i){if(!t||e._n)return e;const r=(...n)=>{r._d&&Ag(-1);const s=Cp(t);let o;try{o=e(...n)}finally{Cp(s),r._d&&Ag(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Et(e,t){if(Vi===null)return e;const i=Tm(Vi),r=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[s,o,a,l=nt]=t[n];s&&(Fe(s)&&(s={mounted:s,updated:s}),s.deep&&zo(o),r.push({dir:s,instance:i,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Hs(e,t,i,r){const n=e.dirs,s=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(wl(),bn(l,i,8,[e.el,a,e,t]),Sl())}}const YP=Symbol("_vte"),JP=e=>e.__isTeleport,jd=e=>e&&(e.disabled||e.disabled===""),G4=e=>e&&(e.defer||e.defer===""),B4=e=>typeof SVGElement<"u"&&e instanceof SVGElement,V4=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,xw=(e,t)=>{const i=e&&e.to;return Je(i)?t?t(i):null:i},KP={name:"Teleport",__isTeleport:!0,process(e,t,i,r,n,s,o,a,l,c){const{mc:f,pc:d,pbc:p,o:{insert:y,querySelector:v,createText:_,createComment:E}}=c,x=jd(t.props);let{shapeFlag:A,children:w,dynamicChildren:b}=t;if(e==null){const M=t.el=_(""),I=t.anchor=_("");y(M,i,r),y(I,i,r);const C=(N,U)=>{A&16&&(n&&n.isCE&&(n.ce._teleportTarget=N),f(w,N,U,n,s,o,a,l))},P=()=>{const N=t.target=xw(t.props,v),U=ZP(N,t,_,y);N&&(o!=="svg"&&B4(N)?o="svg":o!=="mathml"&&V4(N)&&(o="mathml"),x||(C(N,U),by(t,!1)))};x&&(C(i,I),by(t,!0)),G4(t.props)?Fi(()=>{P(),t.el.__isMounted=!0},s):P()}else{if(G4(t.props)&&!e.el.__isMounted){Fi(()=>{KP.process(e,t,i,r,n,s,o,a,l,c),delete e.el.__isMounted},s);return}t.el=e.el,t.targetStart=e.targetStart;const M=t.anchor=e.anchor,I=t.target=e.target,C=t.targetAnchor=e.targetAnchor,P=jd(e.props),N=P?i:I,U=P?M:C;if(o==="svg"||B4(I)?o="svg":(o==="mathml"||V4(I))&&(o="mathml"),b?(p(e.dynamicChildren,b,N,n,s,o,a),OE(e,t,!0)):l||d(e,t,N,U,n,s,o,a,!1),x)P?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):u0(t,i,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=xw(t.props,v);j&&u0(t,j,null,c,0)}else P&&u0(t,I,C,c,1);by(t,x)}},remove(e,t,i,{um:r,o:{remove:n}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:f,target:d,props:p}=e;if(d&&(n(c),n(f)),s&&n(l),o&16){const y=s||!jd(p);for(let v=0;v<a.length;v++){const _=a[v];r(_,t,i,y,!!_.dynamicChildren)}}},move:u0,hydrate:QX};function u0(e,t,i,{o:{insert:r},m:n},s=2){s===0&&r(e.targetAnchor,t,i);const{el:o,anchor:a,shapeFlag:l,children:c,props:f}=e,d=s===2;if(d&&r(o,t,i),(!d||jd(f))&&l&16)for(let p=0;p<c.length;p++)n(c[p],t,i,2);d&&r(a,t,i)}function QX(e,t,i,r,n,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:f}},d){const p=t.target=xw(t.props,l);if(p){const y=jd(t.props),v=p._lpa||p.firstChild;if(t.shapeFlag&16)if(y)t.anchor=d(o(e),t,a(e),i,r,n,s),t.targetStart=v,t.targetAnchor=v&&o(v);else{t.anchor=o(e);let _=v;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")t.targetStart=_;else if(_.data==="teleport anchor"){t.targetAnchor=_,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}_=o(_)}t.targetAnchor||ZP(p,t,f,c),d(v&&o(v),t,p,i,r,n,s)}by(t,y)}return t.anchor&&o(t.anchor)}const cE=KP;function by(e,t){const i=e.ctx;if(i&&i.ut){let r,n;for(t?(r=e.el,n=e.anchor):(r=e.targetStart,n=e.targetAnchor);r&&r!==n;)r.nodeType===1&&r.setAttribute("data-v-owner",i.uid),r=r.nextSibling;i.ut()}}function ZP(e,t,i,r){const n=t.targetStart=i(""),s=t.targetAnchor=i("");return n[YP]=s,e&&(r(n,e),r(s,e)),s}const ja=Symbol("_leaveCb"),h0=Symbol("_enterCb");function sv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ar(()=>{e.isMounted=!0}),Ms(()=>{e.isUnmounting=!0}),e}const An=[Function,Array],ov={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:An,onEnter:An,onAfterEnter:An,onEnterCancelled:An,onBeforeLeave:An,onLeave:An,onAfterLeave:An,onLeaveCancelled:An,onBeforeAppear:An,onAppear:An,onAfterAppear:An,onAppearCancelled:An},XP=e=>{const t=e.subTree;return t.component?XP(t.component):t},eQ={name:"BaseTransition",props:ov,setup(e,{slots:t}){const i=Ni(),r=sv();return()=>{const n=t.default&&Sm(t.default(),!0);if(!n||!n.length)return;const s=QP(n),o=Ve(e),{mode:a}=o;if(r.isLeaving)return Cb(s);const l=z4(s);if(!l)return Cb(s);let c=zc(l,o,r,i,d=>c=d);l.type!==bi&&yo(l,c);let f=i.subTree&&z4(i.subTree);if(f&&f.type!==bi&&!os(l,f)&&XP(i).type!==bi){let d=zc(f,o,r,i);if(yo(f,d),a==="out-in"&&l.type!==bi)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,i.job.flags&8||i.update(),delete d.afterLeave,f=void 0},Cb(s);a==="in-out"&&l.type!==bi?d.delayLeave=(p,y,v)=>{const _=eL(r,f);_[String(f.key)]=f,p[ja]=()=>{y(),p[ja]=void 0,delete c.delayedLeave,f=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return s}}};function QP(e){let t=e[0];if(e.length>1){for(const i of e)if(i.type!==bi){t=i;break}}return t}const uE=eQ;function eL(e,t){const{leavingVNodes:i}=e;let r=i.get(t.type);return r||(r=Object.create(null),i.set(t.type,r)),r}function zc(e,t,i,r,n){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:p,onLeave:y,onAfterLeave:v,onLeaveCancelled:_,onBeforeAppear:E,onAppear:x,onAfterAppear:A,onAppearCancelled:w}=t,b=String(e.key),M=eL(i,e),I=(N,U)=>{N&&bn(N,r,9,U)},C=(N,U)=>{const j=U[1];I(N,U),Ee(N)?N.every(F=>F.length<=1)&&j():N.length<=1&&j()},P={mode:o,persisted:a,beforeEnter(N){let U=l;if(!i.isMounted)if(s)U=E||l;else return;N[ja]&&N[ja](!0);const j=M[b];j&&os(e,j)&&j.el[ja]&&j.el[ja](),I(U,[N])},enter(N){let U=c,j=f,F=d;if(!i.isMounted)if(s)U=x||c,j=A||f,F=w||d;else return;let q=!1;const te=N[h0]=h=>{q||(q=!0,h?I(F,[N]):I(j,[N]),P.delayedLeave&&P.delayedLeave(),N[h0]=void 0)};U?C(U,[N,te]):te()},leave(N,U){const j=String(e.key);if(N[h0]&&N[h0](!0),i.isUnmounting)return U();I(p,[N]);let F=!1;const q=N[ja]=te=>{F||(F=!0,U(),te?I(_,[N]):I(v,[N]),N[ja]=void 0,M[j]===e&&delete M[j])};M[j]=e,y?C(y,[N,q]):q()},clone(N){const U=zc(N,t,i,r,n);return n&&n(U),U}};return P}function Cb(e){if(xm(e))return e=xs(e),e.children=null,e}function z4(e){if(!xm(e))return JP(e.type)&&e.children?QP(e.children):e;const{shapeFlag:t,children:i}=e;if(i){if(t&16)return i[0];if(t&32&&Fe(i.default))return i.default()}}function yo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,yo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Sm(e,t=!1,i){let r=[],n=0;for(let s=0;s<e.length;s++){let o=e[s];const a=i==null?o.key:String(i)+String(o.key!=null?o.key:s);o.type===Ot?(o.patchFlag&128&&n++,r=r.concat(Sm(o.children,t,a))):(t||o.type!==bi)&&r.push(a!=null?xs(o,{key:a}):o)}if(n>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function rt(e,t){return Fe(e)?st({name:e.name},t,{setup:e}):e}function tL(){const e=Ni();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function hE(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Sg(e){const t=Ni(),i=xf(null);if(t){const n=t.refs===nt?t.refs={}:t.refs;Object.defineProperty(n,e,{enumerable:!0,get:()=>i.value,set:s=>i.value=s})}return i}function Np(e,t,i,r,n=!1){if(Ee(e)){e.forEach((v,_)=>Np(v,t&&(Ee(t)?t[_]:t),i,r,n));return}if(nl(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Np(e,t,i,r.component.subTree);return}const s=r.shapeFlag&4?Tm(r.component):r.el,o=n?null:s,{i:a,r:l}=e,c=t&&t.r,f=a.refs===nt?a.refs={}:a.refs,d=a.setupState,p=Ve(d),y=d===nt?()=>!1:v=>vt(p,v);if(c!=null&&c!==l&&(Je(c)?(f[c]=null,y(c)&&(d[c]=null)):ft(c)&&(c.value=null)),Fe(l))uu(l,a,12,[o,f]);else{const v=Je(l),_=ft(l);if(v||_){const E=()=>{if(e.f){const x=v?y(l)?d[l]:f[l]:l.value;n?Ee(x)&&Zx(x,s):Ee(x)?x.includes(s)||x.push(s):v?(f[l]=[s],y(l)&&(d[l]=f[l])):(l.value=[s],e.k&&(f[e.k]=l.value))}else v?(f[l]=o,y(l)&&(d[l]=o)):_&&(l.value=o,e.k&&(f[e.k]=o))};o?(E.id=-1,Fi(E,i)):E()}}}let q4=!1;const Tu=()=>{q4||(console.error("Hydration completed but contains mismatches."),q4=!0)},tQ=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",iQ=e=>e.namespaceURI.includes("MathML"),f0=e=>{if(e.nodeType===1){if(tQ(e))return"svg";if(iQ(e))return"mathml"}},Qu=e=>e.nodeType===8;function rQ(e){const{mt:t,p:i,o:{patchProp:r,createText:n,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=e,f=(w,b)=>{if(!b.hasChildNodes()){i(null,w,b),wg(),b._vnode=w;return}d(b.firstChild,w,null,null,null),wg(),b._vnode=w},d=(w,b,M,I,C,P=!1)=>{P=P||!!b.dynamicChildren;const N=Qu(w)&&w.data==="[",U=()=>_(w,b,M,I,C,N),{type:j,ref:F,shapeFlag:q,patchFlag:te}=b;let h=w.nodeType;b.el=w,te===-2&&(P=!1,b.dynamicChildren=null);let m=null;switch(j){case oo:h!==3?b.children===""?(l(b.el=n(""),o(w),w),m=w):m=U():(w.data!==b.children&&(Tu(),w.data=b.children),m=s(w));break;case bi:A(w)?(m=s(w),x(b.el=w.content.firstChild,w,M)):h!==8||N?m=U():m=s(w);break;case sl:if(N&&(w=s(w),h=w.nodeType),h===1||h===3){m=w;const S=!b.children.length;for(let $=0;$<b.staticCount;$++)S&&(b.children+=m.nodeType===1?m.outerHTML:m.data),$===b.staticCount-1&&(b.anchor=m),m=s(m);return N?s(m):m}else U();break;case Ot:N?m=v(w,b,M,I,C,P):m=U();break;default:if(q&1)(h!==1||b.type.toLowerCase()!==w.tagName.toLowerCase())&&!A(w)?m=U():m=p(w,b,M,I,C,P);else if(q&6){b.slotScopeIds=C;const S=o(w);if(N?m=E(w):Qu(w)&&w.data==="teleport start"?m=E(w,w.data,"teleport end"):m=s(w),t(b,S,null,M,I,f0(S),P),nl(b)&&!b.type.__asyncResolved){let $;N?($=Ze(Ot),$.anchor=m?m.previousSibling:S.lastChild):$=w.nodeType===3?ao(""):Ze("div"),$.el=w,b.component.subTree=$}}else q&64?h!==8?m=U():m=b.type.hydrate(w,b,M,I,C,P,e,y):q&128&&(m=b.type.hydrate(w,b,M,I,f0(o(w)),C,P,e,d))}return F!=null&&Np(F,null,I,b),m},p=(w,b,M,I,C,P)=>{P=P||!!b.dynamicChildren;const{type:N,props:U,patchFlag:j,shapeFlag:F,dirs:q,transition:te}=b,h=N==="input"||N==="option";if(h||j!==-1){q&&Hs(b,null,M,"created");let m=!1;if(A(w)){m=DL(null,te)&&M&&M.vnode.props&&M.vnode.props.appear;const $=w.content.firstChild;m&&te.beforeEnter($),x($,w,M),b.el=w=$}if(F&16&&!(U&&(U.innerHTML||U.textContent))){let $=y(w.firstChild,b,w,M,I,C,P);for(;$;){d0(w,1)||Tu();const B=$;$=$.nextSibling,a(B)}}else if(F&8){let $=b.children;$[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&($=$.slice(1)),w.textContent!==$&&(d0(w,0)||Tu(),w.textContent=b.children)}if(U){if(h||!P||j&48){const $=w.tagName.includes("-");for(const B in U)(h&&(B.endsWith("value")||B==="indeterminate")||lu(B)&&!rl(B)||B[0]==="."||$)&&r(w,B,null,U[B],void 0,M)}else if(U.onClick)r(w,"onClick",null,U.onClick,void 0,M);else if(j&4&&yn(U.style))for(const $ in U.style)U.style[$]}let S;(S=U&&U.onVnodeBeforeMount)&&Wr(S,M,b),q&&Hs(b,null,M,"beforeMount"),((S=U&&U.onVnodeMounted)||q||m)&&HL(()=>{S&&Wr(S,M,b),m&&te.enter(w),q&&Hs(b,null,M,"mounted")},I)}return w.nextSibling},y=(w,b,M,I,C,P,N)=>{N=N||!!b.dynamicChildren;const U=b.children,j=U.length;for(let F=0;F<j;F++){const q=N?U[F]:U[F]=Yr(U[F]),te=q.type===oo;w?(te&&!N&&F+1<j&&Yr(U[F+1]).type===oo&&(l(n(w.data.slice(q.children.length)),M,s(w)),w.data=q.children),w=d(w,q,I,C,P,N)):te&&!q.children?l(q.el=n(""),M):(d0(M,1)||Tu(),i(null,q,M,null,I,C,f0(M),P))}return w},v=(w,b,M,I,C,P)=>{const{slotScopeIds:N}=b;N&&(C=C?C.concat(N):N);const U=o(w),j=y(s(w),b,U,M,I,C,P);return j&&Qu(j)&&j.data==="]"?s(b.anchor=j):(Tu(),l(b.anchor=c("]"),U,j),j)},_=(w,b,M,I,C,P)=>{if(d0(w.parentElement,1)||Tu(),b.el=null,P){const j=E(w);for(;;){const F=s(w);if(F&&F!==j)a(F);else break}}const N=s(w),U=o(w);return a(w),i(null,b,U,N,M,I,f0(U),C),M&&(M.vnode.el=b.el,hv(M,b.el)),N},E=(w,b="[",M="]")=>{let I=0;for(;w;)if(w=s(w),w&&Qu(w)&&(w.data===b&&I++,w.data===M)){if(I===0)return s(w);I--}return w},x=(w,b,M)=>{const I=b.parentNode;I&&I.replaceChild(w,b);let C=M;for(;C;)C.vnode.el===b&&(C.vnode.el=C.subTree.el=w),C=C.parent},A=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[f,d]}const W4="data-allow-mismatch",nQ={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function d0(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(W4);)e=e.parentElement;const i=e&&e.getAttribute(W4);if(i==null)return!1;if(i==="")return!0;{const r=i.split(",");return t===0&&r.includes("children")?!0:i.split(",").includes(nQ[t])}}const sQ=Y1().requestIdleCallback||(e=>setTimeout(e,1)),oQ=Y1().cancelIdleCallback||(e=>clearTimeout(e)),iL=(e=1e4)=>t=>{const i=sQ(t,{timeout:e});return()=>oQ(i)};function aQ(e){const{top:t,left:i,bottom:r,right:n}=e.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(t>0&&t<s||r>0&&r<s)&&(i>0&&i<o||n>0&&n<o)}const rL=e=>(t,i)=>{const r=new IntersectionObserver(n=>{for(const s of n)if(s.isIntersecting){r.disconnect(),t();break}},e);return i(n=>{if(n instanceof Element){if(aQ(n))return t(),r.disconnect(),!1;r.observe(n)}}),()=>r.disconnect()},nL=e=>t=>{if(e){const i=matchMedia(e);if(i.matches)t();else return i.addEventListener("change",t,{once:!0}),()=>i.removeEventListener("change",t)}},sL=(e=[])=>(t,i)=>{Je(e)&&(e=[e]);let r=!1;const n=o=>{r||(r=!0,s(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{i(o=>{for(const a of e)o.removeEventListener(a,n)})};return i(o=>{for(const a of e)o.addEventListener(a,n,{once:!0})}),s};function lQ(e,t){if(Qu(e)&&e.data==="["){let i=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(Qu(r))if(r.data==="]"){if(--i===0)break}else r.data==="["&&i++;r=r.nextSibling}}else t(e)}const nl=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function fE(e){Fe(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:r,delay:n=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=e;let c=null,f,d=0;const p=()=>(d++,c=null,y()),y=()=>{let v;return c||(v=c=t().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),l)return new Promise((E,x)=>{l(_,()=>E(p()),()=>x(_),d+1)});throw _}).then(_=>v!==c&&c?c:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),f=_,_)))};return rt({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(v,_,E){const x=s?()=>{const A=s(E,w=>lQ(v,w));A&&(_.bum||(_.bum=[])).push(A)}:E;f?x():y().then(()=>!_.isUnmounted&&x())},get __asyncResolved(){return f},setup(){const v=Gi;if(hE(v),f)return()=>Nb(f,v);const _=w=>{c=null,xl(w,v,13,!r)};if(a&&v.suspense||Dh)return y().then(w=>()=>Nb(w,v)).catch(w=>(_(w),()=>r?Ze(r,{error:w}):null));const E=X(!1),x=X(),A=X(!!n);return n&&setTimeout(()=>{A.value=!1},n),o!=null&&setTimeout(()=>{if(!E.value&&!x.value){const w=new Error(`Async component timed out after ${o}ms.`);_(w),x.value=w}},o),y().then(()=>{E.value=!0,v.parent&&xm(v.parent.vnode)&&v.parent.update()}).catch(w=>{_(w),x.value=w}),()=>{if(E.value&&f)return Nb(f,v);if(x.value&&r)return Ze(r,{error:x.value});if(i&&!A.value)return Ze(i)}}})}function Nb(e,t){const{ref:i,props:r,children:n,ce:s}=t.vnode,o=Ze(e,r,n);return o.ref=i,o.ce=s,delete t.vnode.ce,o}const xm=e=>e.type.__isKeepAlive,cQ={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=Ni(),r=i.ctx;if(!r.renderer)return()=>{const A=t.default&&t.default();return A&&A.length===1?A[0]:A};const n=new Map,s=new Set;let o=null;const a=i.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:d}}}=r,p=d("div");r.activate=(A,w,b,M,I)=>{const C=A.component;c(A,w,b,0,a),l(C.vnode,A,w,b,C,a,M,A.slotScopeIds,I),Fi(()=>{C.isDeactivated=!1,C.a&&vh(C.a);const P=A.props&&A.props.onVnodeMounted;P&&Wr(P,C.parent,A)},a)},r.deactivate=A=>{const w=A.component;Eg(w.m),Eg(w.a),c(A,p,null,1,a),Fi(()=>{w.da&&vh(w.da);const b=A.props&&A.props.onVnodeUnmounted;b&&Wr(b,w.parent,A),w.isDeactivated=!0},a)};function y(A){Pb(A),f(A,i,a,!0)}function v(A){n.forEach((w,b)=>{const M=Lw(w.type);M&&!A(M)&&_(b)})}function _(A){const w=n.get(A);w&&(!o||!os(w,o))?y(w):o&&Pb(o),n.delete(A),s.delete(A)}qi(()=>[e.include,e.exclude],([A,w])=>{A&&v(b=>_d(A,b)),w&&v(b=>!_d(w,b))},{flush:"post",deep:!0});let E=null;const x=()=>{E!=null&&(Tg(i.subTree.type)?Fi(()=>{n.set(E,p0(i.subTree))},i.subTree.suspense):n.set(E,p0(i.subTree)))};return ar(x),Ef(x),Ms(()=>{n.forEach(A=>{const{subTree:w,suspense:b}=i,M=p0(w);if(A.type===M.type&&A.key===M.key){Pb(M);const I=M.component.da;I&&Fi(I,b);return}y(A)})}),()=>{if(E=null,!t.default)return o=null;const A=t.default(),w=A[0];if(A.length>1)return o=null,A;if(!Ss(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let b=p0(w);if(b.type===bi)return o=null,b;const M=b.type,I=Lw(nl(b)?b.type.__asyncResolved||{}:M),{include:C,exclude:P,max:N}=e;if(C&&(!I||!_d(C,I))||P&&I&&_d(P,I))return b.shapeFlag&=-257,o=b,w;const U=b.key==null?M:b.key,j=n.get(U);return b.el&&(b=xs(b),w.shapeFlag&128&&(w.ssContent=b)),E=U,j?(b.el=j.el,b.component=j.component,b.transition&&yo(b,b.transition),b.shapeFlag|=512,s.delete(U),s.add(U)):(s.add(U),N&&s.size>parseInt(N,10)&&_(s.values().next().value)),b.shapeFlag|=256,o=b,Tg(w.type)?w:b}}},oL=cQ;function _d(e,t){return Ee(e)?e.some(i=>_d(i,t)):Je(e)?e.split(",").includes(t):QZ(e)?(e.lastIndex=0,e.test(t)):!1}function dE(e,t){aL(e,"a",t)}function pE(e,t){aL(e,"da",t)}function aL(e,t,i=Gi){const r=e.__wdc||(e.__wdc=()=>{let n=i;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(av(t,r,i),i){let n=i.parent;for(;n&&n.parent;)xm(n.parent.vnode)&&uQ(r,t,i,n),n=n.parent}}function uQ(e,t,i,r){const n=av(t,e,r,!0);hu(()=>{Zx(r[t],n)},i)}function Pb(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function p0(e){return e.shapeFlag&128?e.ssContent:e}function av(e,t,i=Gi,r=!1){if(i){const n=i[e]||(i[e]=[]),s=t.__weh||(t.__weh=(...o)=>{wl();const a=Wc(i),l=bn(t,i,e,o);return a(),Sl(),l});return r?n.unshift(s):n.push(s),s}}const sa=e=>(t,i=Gi)=>{(!Dh||e==="sp")&&av(e,(...r)=>t(...r),i)},lv=sa("bm"),ar=sa("m"),cv=sa("bu"),Ef=sa("u"),Ms=sa("bum"),hu=sa("um"),mE=sa("sp"),yE=sa("rtg"),gE=sa("rtc");function vE(e,t=Gi){av("ec",e,t)}const bE="components",hQ="directives";function vi(e,t){return wE(bE,e,!0,t)||e}const lL=Symbol.for("v-ndc");function _E(e){return Je(e)?wE(bE,e,!1)||e:e||lL}function Tt(e){return wE(hQ,e)}function wE(e,t,i=!0,r=!1){const n=Vi||Gi;if(n){const s=n.type;if(e===bE){const a=Lw(s,!1);if(a&&(a===t||a===Bt(t)||a===bl(Bt(t))))return s}const o=H4(n[e]||s[e],t)||H4(n.appContext[e],t);return!o&&r?s:o}}function H4(e,t){return e&&(e[t]||e[Bt(t)]||e[bl(Bt(t))])}function El(e,t,i,r){let n;const s=i&&i[r],o=Ee(e);if(o||Je(e)){const a=o&&yn(e);let l=!1;a&&(l=!tn(e),e=Q1(e)),n=new Array(e.length);for(let c=0,f=e.length;c<f;c++)n[c]=t(l?vr(e[c]):e[c],c,void 0,s&&s[c])}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,s&&s[a])}else if(Mt(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];n[l]=t(e[f],f,l,s&&s[l])}}else n=[];return i&&(i[r]=n),n}function cL(e,t){for(let i=0;i<t.length;i++){const r=t[i];if(Ee(r))for(let n=0;n<r.length;n++)e[r[n].name]=r[n].fn;else r&&(e[r.name]=r.key?(...n)=>{const s=r.fn(...n);return s&&(s.key=r.key),s}:r.fn)}return e}function cs(e,t,i={},r,n){if(Vi.ce||Vi.parent&&nl(Vi.parent)&&Vi.parent.ce)return t!=="default"&&(i.name=t),fe(),Gt(Ot,null,[Ze("slot",i,r&&r())],64);let s=e[t];s&&s._c&&(s._d=!1),fe();const o=s&&SE(s(i)),a=i.key||o&&o.key,l=Gt(Ot,{key:(a&&!an(a)?a:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return!n&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function SE(e){return e.some(t=>Ss(t)?!(t.type===bi||t.type===Ot&&!SE(t.children)):!0)?e:null}function uL(e,t){const i={};for(const r in e)i[t&&/[A-Z]/.test(r)?`on:${r}`:wc(r)]=e[r];return i}const Ew=e=>e?ek(e)?Tm(e):Ew(e.parent):null,Gd=st(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ew(e.parent),$root:e=>Ew(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>xE(e),$forceUpdate:e=>e.f||(e.f=()=>{lE(e.update)}),$nextTick:e=>e.n||(e.n=As.bind(e.proxy)),$watch:e=>MQ.bind(e)}),Lb=(e,t)=>e!==nt&&!e.__isScriptSetup&&vt(e,t),Tw={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:r,data:n,props:s,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return n[t];case 4:return i[t];case 3:return s[t]}else{if(Lb(r,t))return o[t]=1,r[t];if(n!==nt&&vt(n,t))return o[t]=2,n[t];if((c=e.propsOptions[0])&&vt(c,t))return o[t]=3,s[t];if(i!==nt&&vt(i,t))return o[t]=4,i[t];Aw&&(o[t]=0)}}const f=Gd[t];let d,p;if(f)return t==="$attrs"&&gr(e.attrs,"get",""),f(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(i!==nt&&vt(i,t))return o[t]=4,i[t];if(p=l.config.globalProperties,vt(p,t))return p[t]},set({_:e},t,i){const{data:r,setupState:n,ctx:s}=e;return Lb(n,t)?(n[t]=i,!0):r!==nt&&vt(r,t)?(r[t]=i,!0):vt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:r,appContext:n,propsOptions:s}},o){let a;return!!i[o]||e!==nt&&vt(e,o)||Lb(t,o)||(a=s[0])&&vt(a,o)||vt(r,o)||vt(Gd,o)||vt(n.config.globalProperties,o)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:vt(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}},fQ=st({},Tw,{get(e,t){if(t!==Symbol.unscopables)return Tw.get(e,t,e)},has(e,t){return t[0]!=="_"&&!oX(t)}});function hL(){return null}function fL(){return null}function dL(e){}function pL(e){}function mL(){return null}function yL(){}function gL(e,t){return null}function vL(){return _L().slots}function bL(){return _L().attrs}function _L(){const e=Ni();return e.setupContext||(e.setupContext=nk(e))}function Pp(e){return Ee(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}function wL(e,t){const i=Pp(e);for(const r in t){if(r.startsWith("__skip"))continue;let n=i[r];n?Ee(n)||Fe(n)?n=i[r]={type:n,default:t[r]}:n.default=t[r]:n===null&&(n=i[r]={default:t[r]}),n&&t[`__skip_${r}`]&&(n.skipFactory=!0)}return i}function SL(e,t){return!e||!t?e||t:Ee(e)&&Ee(t)?e.concat(t):st({},Pp(e),Pp(t))}function xL(e,t){const i={};for(const r in e)t.includes(r)||Object.defineProperty(i,r,{enumerable:!0,get:()=>e[r]});return i}function EL(e){const t=Ni();let i=e();return Cw(),Xx(i)&&(i=i.catch(r=>{throw Wc(t),r})),[i,()=>Wc(t)]}let Aw=!0;function dQ(e){const t=xE(e),i=e.proxy,r=e.ctx;Aw=!1,t.beforeCreate&&Y4(t.beforeCreate,e,"bc");const{data:n,computed:s,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:d,mounted:p,beforeUpdate:y,updated:v,activated:_,deactivated:E,beforeDestroy:x,beforeUnmount:A,destroyed:w,unmounted:b,render:M,renderTracked:I,renderTriggered:C,errorCaptured:P,serverPrefetch:N,expose:U,inheritAttrs:j,components:F,directives:q,filters:te}=t;if(c&&pQ(c,r,null),o)for(const S in o){const $=o[S];Fe($)&&(r[S]=$.bind(i))}if(n){const S=n.call(i,i);Mt(S)&&(e.data=er(S))}if(Aw=!0,s)for(const S in s){const $=s[S],B=Fe($)?$.bind(i,i):Fe($.get)?$.get.bind(i,i):sr,Y=!Fe($)&&Fe($.set)?$.set.bind(i):sr,pe=et({get:B,set:Y});Object.defineProperty(r,S,{enumerable:!0,configurable:!0,get:()=>pe.value,set:ae=>pe.value=ae})}if(a)for(const S in a)TL(a[S],r,i,S);if(l){const S=Fe(l)?l.call(i):l;Reflect.ownKeys(S).forEach($=>{EE($,S[$])})}f&&Y4(f,e,"c");function m(S,$){Ee($)?$.forEach(B=>S(B.bind(i))):$&&S($.bind(i))}if(m(lv,d),m(ar,p),m(cv,y),m(Ef,v),m(dE,_),m(pE,E),m(vE,P),m(gE,I),m(yE,C),m(Ms,A),m(hu,b),m(mE,N),Ee(U))if(U.length){const S=e.exposed||(e.exposed={});U.forEach($=>{Object.defineProperty(S,$,{get:()=>i[$],set:B=>i[$]=B})})}else e.exposed||(e.exposed={});M&&e.render===sr&&(e.render=M),j!=null&&(e.inheritAttrs=j),F&&(e.components=F),q&&(e.directives=q),N&&hE(e)}function pQ(e,t,i=sr){Ee(e)&&(e=Mw(e));for(const r in e){const n=e[r];let s;Mt(n)?"default"in n?s=Ci(n.from||r,n.default,!0):s=Ci(n.from||r):s=Ci(n),ft(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function Y4(e,t,i){bn(Ee(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,i)}function TL(e,t,i,r){let n=r.includes(".")?GL(i,r):()=>i[r];if(Je(e)){const s=t[e];Fe(s)&&qi(n,s)}else if(Fe(e))qi(n,e.bind(i));else if(Mt(e))if(Ee(e))e.forEach(s=>TL(s,t,i,r));else{const s=Fe(e.handler)?e.handler.bind(i):t[e.handler];Fe(s)&&qi(n,s,e)}}function xE(e){const t=e.type,{mixins:i,extends:r}=t,{mixins:n,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!n.length&&!i&&!r?l=t:(l={},n.length&&n.forEach(c=>xg(l,c,o,!0)),xg(l,t,o)),Mt(t)&&s.set(t,l),l}function xg(e,t,i,r=!1){const{mixins:n,extends:s}=t;s&&xg(e,s,i,!0),n&&n.forEach(o=>xg(e,o,i,!0));for(const o in t)if(!(r&&o==="expose")){const a=mQ[o]||i&&i[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const mQ={data:J4,props:K4,emits:K4,methods:wd,computed:wd,beforeCreate:Mr,created:Mr,beforeMount:Mr,mounted:Mr,beforeUpdate:Mr,updated:Mr,beforeDestroy:Mr,beforeUnmount:Mr,destroyed:Mr,unmounted:Mr,activated:Mr,deactivated:Mr,errorCaptured:Mr,serverPrefetch:Mr,components:wd,directives:wd,watch:gQ,provide:J4,inject:yQ};function J4(e,t){return t?e?function(){return st(Fe(e)?e.call(this,this):e,Fe(t)?t.call(this,this):t)}:t:e}function yQ(e,t){return wd(Mw(e),Mw(t))}function Mw(e){if(Ee(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Mr(e,t){return e?[...new Set([].concat(e,t))]:t}function wd(e,t){return e?st(Object.create(null),e,t):t}function K4(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:st(Object.create(null),Pp(e),Pp(t??{})):t}function gQ(e,t){if(!e)return t;if(!t)return e;const i=st(Object.create(null),e);for(const r in t)i[r]=Mr(e[r],t[r]);return i}function AL(){return{app:null,config:{isNativeTag:bd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vQ=0;function bQ(e,t){return function(r,n=null){Fe(r)||(r=st({},r)),n!=null&&!Mt(n)&&(n=null);const s=AL(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:vQ++,_component:r,_props:n,_container:null,_context:s,_instance:null,version:DE,get config(){return s.config},set config(f){},use(f,...d){return o.has(f)||(f&&Fe(f.install)?(o.add(f),f.install(c,...d)):Fe(f)&&(o.add(f),f(c,...d))),c},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),c},component(f,d){return d?(s.components[f]=d,c):s.components[f]},directive(f,d){return d?(s.directives[f]=d,c):s.directives[f]},mount(f,d,p){if(!l){const y=c._ceVNode||Ze(r,n);return y.appContext=s,p===!0?p="svg":p===!1&&(p=void 0),d&&t?t(y,f):e(y,f,p),l=!0,c._container=f,f.__vue_app__=c,Tm(y.component)}},onUnmount(f){a.push(f)},unmount(){l&&(bn(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(f,d){return s.provides[f]=d,c},runWithContext(f){const d=xc;xc=c;try{return f()}finally{xc=d}}};return c}}let xc=null;function EE(e,t){if(Gi){let i=Gi.provides;const r=Gi.parent&&Gi.parent.provides;r===i&&(i=Gi.provides=Object.create(r)),i[e]=t}}function Ci(e,t,i=!1){const r=Gi||Vi;if(r||xc){const n=xc?xc._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return i&&Fe(t)?t.call(r&&r.proxy):t}}function TE(){return!!(Gi||Vi||xc)}const ML={},IL=()=>Object.create(ML),OL=e=>Object.getPrototypeOf(e)===ML;function _Q(e,t,i,r=!1){const n={},s=IL();e.propsDefaults=Object.create(null),$L(e,t,n,s);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);i?e.props=r?n:nE(n):e.type.props?e.props=n:e.props=s,e.attrs=s}function wQ(e,t,i,r){const{props:n,attrs:s,vnode:{patchFlag:o}}=e,a=Ve(n),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(uv(e.emitsOptions,p))continue;const y=t[p];if(l)if(vt(s,p))y!==s[p]&&(s[p]=y,c=!0);else{const v=Bt(p);n[v]=Iw(l,a,v,y,e,!1)}else y!==s[p]&&(s[p]=y,c=!0)}}}else{$L(e,t,n,s)&&(c=!0);let f;for(const d in a)(!t||!vt(t,d)&&((f=Zr(d))===d||!vt(t,f)))&&(l?i&&(i[d]!==void 0||i[f]!==void 0)&&(n[d]=Iw(l,a,d,void 0,e,!0)):delete n[d]);if(s!==a)for(const d in s)(!t||!vt(t,d))&&(delete s[d],c=!0)}c&&Vo(e.attrs,"set","")}function $L(e,t,i,r){const[n,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(rl(l))continue;const c=t[l];let f;n&&vt(n,f=Bt(l))?!s||!s.includes(f)?i[f]=c:(a||(a={}))[f]=c:uv(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Ve(i),c=a||nt;for(let f=0;f<s.length;f++){const d=s[f];i[d]=Iw(n,l,d,c[d],e,!vt(c,d))}}return o}function Iw(e,t,i,r,n,s){const o=e[i];if(o!=null){const a=vt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Fe(l)){const{propsDefaults:c}=n;if(i in c)r=c[i];else{const f=Wc(n);r=c[i]=l.call(null,t),f()}}else r=l;n.ce&&n.ce._setProp(i,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Zr(i))&&(r=!0))}return r}const SQ=new WeakMap;function CL(e,t,i=!1){const r=i?SQ:t.propsCache,n=r.get(e);if(n)return n;const s=e.props,o={},a=[];let l=!1;if(!Fe(e)){const f=d=>{l=!0;const[p,y]=CL(d,t,!0);st(o,p),y&&a.push(...y)};!i&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!s&&!l)return Mt(e)&&r.set(e,yh),yh;if(Ee(s))for(let f=0;f<s.length;f++){const d=Bt(s[f]);Z4(d)&&(o[d]=nt)}else if(s)for(const f in s){const d=Bt(f);if(Z4(d)){const p=s[f],y=o[d]=Ee(p)||Fe(p)?{type:p}:st({},p),v=y.type;let _=!1,E=!0;if(Ee(v))for(let x=0;x<v.length;++x){const A=v[x],w=Fe(A)&&A.name;if(w==="Boolean"){_=!0;break}else w==="String"&&(E=!1)}else _=Fe(v)&&v.name==="Boolean";y[0]=_,y[1]=E,(_||vt(y,"default"))&&a.push(d)}}const c=[o,a];return Mt(e)&&r.set(e,c),c}function Z4(e){return e[0]!=="$"&&!rl(e)}const NL=e=>e[0]==="_"||e==="$stable",AE=e=>Ee(e)?e.map(Yr):[Yr(e)],xQ=(e,t,i)=>{if(t._n)return t;const r=Ti((...n)=>AE(t(...n)),i);return r._c=!1,r},PL=(e,t,i)=>{const r=e._ctx;for(const n in e){if(NL(n))continue;const s=e[n];if(Fe(s))t[n]=xQ(n,s,r);else if(s!=null){const o=AE(s);t[n]=()=>o}}},LL=(e,t)=>{const i=AE(t);e.slots.default=()=>i},kL=(e,t,i)=>{for(const r in t)(i||r!=="_")&&(e[r]=t[r])},EQ=(e,t,i)=>{const r=e.slots=IL();if(e.vnode.shapeFlag&32){const n=t._;n?(kL(r,t,i),i&&oP(r,"_",n,!0)):PL(t,r)}else t&&LL(e,t)},TQ=(e,t,i)=>{const{vnode:r,slots:n}=e;let s=!0,o=nt;if(r.shapeFlag&32){const a=t._;a?i&&a===1?s=!1:kL(n,t,i):(s=!t.$stable,PL(t,n)),o=t}else t&&(LL(e,t),o={default:1});if(s)for(const a in n)!NL(a)&&o[a]==null&&delete n[a]},Fi=HL;function ME(e){return RL(e)}function IE(e){return RL(e,rQ)}function RL(e,t){const i=Y1();i.__VUE__=!0;const{insert:r,remove:n,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:d,nextSibling:p,setScopeId:y=sr,insertStaticContent:v}=e,_=(G,D,H,se=null,Q=null,le=null,ye=void 0,L=null,k=!!D.dynamicChildren)=>{if(G===D)return;G&&!os(G,D)&&(se=Vt(G),ae(G,Q,le,!0),G=null),D.patchFlag===-2&&(k=!1,D.dynamicChildren=null);const{type:V,ref:ee,shapeFlag:re}=D;switch(V){case oo:E(G,D,H,se);break;case bi:x(G,D,H,se);break;case sl:G==null&&A(D,H,se,ye);break;case Ot:F(G,D,H,se,Q,le,ye,L,k);break;default:re&1?M(G,D,H,se,Q,le,ye,L,k):re&6?q(G,D,H,se,Q,le,ye,L,k):(re&64||re&128)&&V.process(G,D,H,se,Q,le,ye,L,k,kt)}ee!=null&&Q&&Np(ee,G&&G.ref,le,D||G,!D)},E=(G,D,H,se)=>{if(G==null)r(D.el=a(D.children),H,se);else{const Q=D.el=G.el;D.children!==G.children&&c(Q,D.children)}},x=(G,D,H,se)=>{G==null?r(D.el=l(D.children||""),H,se):D.el=G.el},A=(G,D,H,se)=>{[G.el,G.anchor]=v(G.children,D,H,se,G.el,G.anchor)},w=({el:G,anchor:D},H,se)=>{let Q;for(;G&&G!==D;)Q=p(G),r(G,H,se),G=Q;r(D,H,se)},b=({el:G,anchor:D})=>{let H;for(;G&&G!==D;)H=p(G),n(G),G=H;n(D)},M=(G,D,H,se,Q,le,ye,L,k)=>{D.type==="svg"?ye="svg":D.type==="math"&&(ye="mathml"),G==null?I(D,H,se,Q,le,ye,L,k):N(G,D,Q,le,ye,L,k)},I=(G,D,H,se,Q,le,ye,L)=>{let k,V;const{props:ee,shapeFlag:re,transition:ne,dirs:W}=G;if(k=G.el=o(G.type,le,ee&&ee.is,ee),re&8?f(k,G.children):re&16&&P(G.children,k,null,se,Q,kb(G,le),ye,L),W&&Hs(G,null,se,"created"),C(k,G,G.scopeId,ye,se),ee){for(const Te in ee)Te!=="value"&&!rl(Te)&&s(k,Te,null,ee[Te],le,se);"value"in ee&&s(k,"value",null,ee.value,le),(V=ee.onVnodeBeforeMount)&&Wr(V,se,G)}W&&Hs(G,null,se,"beforeMount");const K=DL(Q,ne);K&&ne.beforeEnter(k),r(k,D,H),((V=ee&&ee.onVnodeMounted)||K||W)&&Fi(()=>{V&&Wr(V,se,G),K&&ne.enter(k),W&&Hs(G,null,se,"mounted")},Q)},C=(G,D,H,se,Q)=>{if(H&&y(G,H),se)for(let le=0;le<se.length;le++)y(G,se[le]);if(Q){let le=Q.subTree;if(D===le||Tg(le.type)&&(le.ssContent===D||le.ssFallback===D)){const ye=Q.vnode;C(G,ye,ye.scopeId,ye.slotScopeIds,Q.parent)}}},P=(G,D,H,se,Q,le,ye,L,k=0)=>{for(let V=k;V<G.length;V++){const ee=G[V]=L?Ga(G[V]):Yr(G[V]);_(null,ee,D,H,se,Q,le,ye,L)}},N=(G,D,H,se,Q,le,ye)=>{const L=D.el=G.el;let{patchFlag:k,dynamicChildren:V,dirs:ee}=D;k|=G.patchFlag&16;const re=G.props||nt,ne=D.props||nt;let W;if(H&&Rl(H,!1),(W=ne.onVnodeBeforeUpdate)&&Wr(W,H,D,G),ee&&Hs(D,G,H,"beforeUpdate"),H&&Rl(H,!0),(re.innerHTML&&ne.innerHTML==null||re.textContent&&ne.textContent==null)&&f(L,""),V?U(G.dynamicChildren,V,L,H,se,kb(D,Q),le):ye||$(G,D,L,null,H,se,kb(D,Q),le,!1),k>0){if(k&16)j(L,re,ne,H,Q);else if(k&2&&re.class!==ne.class&&s(L,"class",null,ne.class,Q),k&4&&s(L,"style",re.style,ne.style,Q),k&8){const K=D.dynamicProps;for(let Te=0;Te<K.length;Te++){const Le=K[Te],Rt=re[Le],zt=ne[Le];(zt!==Rt||Le==="value")&&s(L,Le,Rt,zt,Q,H)}}k&1&&G.children!==D.children&&f(L,D.children)}else!ye&&V==null&&j(L,re,ne,H,Q);((W=ne.onVnodeUpdated)||ee)&&Fi(()=>{W&&Wr(W,H,D,G),ee&&Hs(D,G,H,"updated")},se)},U=(G,D,H,se,Q,le,ye)=>{for(let L=0;L<D.length;L++){const k=G[L],V=D[L],ee=k.el&&(k.type===Ot||!os(k,V)||k.shapeFlag&70)?d(k.el):H;_(k,V,ee,null,se,Q,le,ye,!0)}},j=(G,D,H,se,Q)=>{if(D!==H){if(D!==nt)for(const le in D)!rl(le)&&!(le in H)&&s(G,le,D[le],null,Q,se);for(const le in H){if(rl(le))continue;const ye=H[le],L=D[le];ye!==L&&le!=="value"&&s(G,le,L,ye,Q,se)}"value"in H&&s(G,"value",D.value,H.value,Q)}},F=(G,D,H,se,Q,le,ye,L,k)=>{const V=D.el=G?G.el:a(""),ee=D.anchor=G?G.anchor:a("");let{patchFlag:re,dynamicChildren:ne,slotScopeIds:W}=D;W&&(L=L?L.concat(W):W),G==null?(r(V,H,se),r(ee,H,se),P(D.children||[],H,ee,Q,le,ye,L,k)):re>0&&re&64&&ne&&G.dynamicChildren?(U(G.dynamicChildren,ne,H,Q,le,ye,L),(D.key!=null||Q&&D===Q.subTree)&&OE(G,D,!0)):$(G,D,H,ee,Q,le,ye,L,k)},q=(G,D,H,se,Q,le,ye,L,k)=>{D.slotScopeIds=L,G==null?D.shapeFlag&512?Q.ctx.activate(D,H,se,ye,k):te(D,H,se,Q,le,ye,k):h(G,D,k)},te=(G,D,H,se,Q,le,ye)=>{const L=G.component=QL(G,se,Q);if(xm(G)&&(L.ctx.renderer=kt),tk(L,!1,ye),L.asyncDep){if(Q&&Q.registerDep(L,m,ye),!G.el){const k=L.subTree=Ze(bi);x(null,k,D,H)}}else m(L,G,D,H,Q,le,ye)},h=(G,D,H)=>{const se=D.component=G.component;if(NQ(G,D,H))if(se.asyncDep&&!se.asyncResolved){S(se,D,H);return}else se.next=D,se.update();else D.el=G.el,se.vnode=D},m=(G,D,H,se,Q,le,ye)=>{const L=()=>{if(G.isMounted){let{next:re,bu:ne,u:W,parent:K,vnode:Te}=G;{const Li=FL(G);if(Li){re&&(re.el=Te.el,S(G,re,ye)),Li.asyncDep.then(()=>{G.isUnmounted||L()});return}}let Le=re,Rt;Rl(G,!1),re?(re.el=Te.el,S(G,re,ye)):re=Te,ne&&vh(ne),(Rt=re.props&&re.props.onVnodeBeforeUpdate)&&Wr(Rt,K,re,Te),Rl(G,!0);const zt=_y(G),ai=G.subTree;G.subTree=zt,_(ai,zt,d(ai.el),Vt(ai),G,Q,le),re.el=zt.el,Le===null&&hv(G,zt.el),W&&Fi(W,Q),(Rt=re.props&&re.props.onVnodeUpdated)&&Fi(()=>Wr(Rt,K,re,Te),Q)}else{let re;const{el:ne,props:W}=D,{bm:K,m:Te,parent:Le,root:Rt,type:zt}=G,ai=nl(D);if(Rl(G,!1),K&&vh(K),!ai&&(re=W&&W.onVnodeBeforeMount)&&Wr(re,Le,D),Rl(G,!0),ne&&Yi){const Li=()=>{G.subTree=_y(G),Yi(ne,G.subTree,G,Q,null)};ai&&zt.__asyncHydrate?zt.__asyncHydrate(ne,G,Li):Li()}else{Rt.ce&&Rt.ce._injectChildStyle(zt);const Li=G.subTree=_y(G);_(null,Li,H,se,G,Q,le),D.el=Li.el}if(Te&&Fi(Te,Q),!ai&&(re=W&&W.onVnodeMounted)){const Li=D;Fi(()=>Wr(re,Le,Li),Q)}(D.shapeFlag&256||Le&&nl(Le.vnode)&&Le.vnode.shapeFlag&256)&&G.a&&Fi(G.a,Q),G.isMounted=!0,D=H=se=null}};G.scope.on();const k=G.effect=new kh(L);G.scope.off();const V=G.update=k.run.bind(k),ee=G.job=k.runIfDirty.bind(k);ee.i=G,ee.id=G.uid,k.scheduler=()=>lE(ee),Rl(G,!0),V()},S=(G,D,H)=>{D.component=G;const se=G.vnode.props;G.vnode=D,G.next=null,wQ(G,D.props,se,H),TQ(G,D.children,H),wl(),j4(G),Sl()},$=(G,D,H,se,Q,le,ye,L,k=!1)=>{const V=G&&G.children,ee=G?G.shapeFlag:0,re=D.children,{patchFlag:ne,shapeFlag:W}=D;if(ne>0){if(ne&128){Y(V,re,H,se,Q,le,ye,L,k);return}else if(ne&256){B(V,re,H,se,Q,le,ye,L,k);return}}W&8?(ee&16&&lt(V,Q,le),re!==V&&f(H,re)):ee&16?W&16?Y(V,re,H,se,Q,le,ye,L,k):lt(V,Q,le,!0):(ee&8&&f(H,""),W&16&&P(re,H,se,Q,le,ye,L,k))},B=(G,D,H,se,Q,le,ye,L,k)=>{G=G||yh,D=D||yh;const V=G.length,ee=D.length,re=Math.min(V,ee);let ne;for(ne=0;ne<re;ne++){const W=D[ne]=k?Ga(D[ne]):Yr(D[ne]);_(G[ne],W,H,null,Q,le,ye,L,k)}V>ee?lt(G,Q,le,!0,!1,re):P(D,H,se,Q,le,ye,L,k,re)},Y=(G,D,H,se,Q,le,ye,L,k)=>{let V=0;const ee=D.length;let re=G.length-1,ne=ee-1;for(;V<=re&&V<=ne;){const W=G[V],K=D[V]=k?Ga(D[V]):Yr(D[V]);if(os(W,K))_(W,K,H,null,Q,le,ye,L,k);else break;V++}for(;V<=re&&V<=ne;){const W=G[re],K=D[ne]=k?Ga(D[ne]):Yr(D[ne]);if(os(W,K))_(W,K,H,null,Q,le,ye,L,k);else break;re--,ne--}if(V>re){if(V<=ne){const W=ne+1,K=W<ee?D[W].el:se;for(;V<=ne;)_(null,D[V]=k?Ga(D[V]):Yr(D[V]),H,K,Q,le,ye,L,k),V++}}else if(V>ne)for(;V<=re;)ae(G[V],Q,le,!0),V++;else{const W=V,K=V,Te=new Map;for(V=K;V<=ne;V++){const Oe=D[V]=k?Ga(D[V]):Yr(D[V]);Oe.key!=null&&Te.set(Oe.key,V)}let Le,Rt=0;const zt=ne-K+1;let ai=!1,Li=0;const Z=new Array(zt);for(V=0;V<zt;V++)Z[V]=0;for(V=W;V<=re;V++){const Oe=G[V];if(Rt>=zt){ae(Oe,Q,le,!0);continue}let He;if(Oe.key!=null)He=Te.get(Oe.key);else for(Le=K;Le<=ne;Le++)if(Z[Le-K]===0&&os(Oe,D[Le])){He=Le;break}He===void 0?ae(Oe,Q,le,!0):(Z[He-K]=V+1,He>=Li?Li=He:ai=!0,_(Oe,D[He],H,null,Q,le,ye,L,k),Rt++)}const Ae=ai?AQ(Z):yh;for(Le=Ae.length-1,V=zt-1;V>=0;V--){const Oe=K+V,He=D[Oe],Xe=Oe+1<ee?D[Oe+1].el:se;Z[V]===0?_(null,He,H,Xe,Q,le,ye,L,k):ai&&(Le<0||V!==Ae[Le]?pe(He,H,Xe,2):Le--)}}},pe=(G,D,H,se,Q=null)=>{const{el:le,type:ye,transition:L,children:k,shapeFlag:V}=G;if(V&6){pe(G.component.subTree,D,H,se);return}if(V&128){G.suspense.move(D,H,se);return}if(V&64){ye.move(G,D,H,kt);return}if(ye===Ot){r(le,D,H);for(let re=0;re<k.length;re++)pe(k[re],D,H,se);r(G.anchor,D,H);return}if(ye===sl){w(G,D,H);return}if(se!==2&&V&1&&L)if(se===0)L.beforeEnter(le),r(le,D,H),Fi(()=>L.enter(le),Q);else{const{leave:re,delayLeave:ne,afterLeave:W}=L,K=()=>r(le,D,H),Te=()=>{re(le,()=>{K(),W&&W()})};ne?ne(le,K,Te):Te()}else r(le,D,H)},ae=(G,D,H,se=!1,Q=!1)=>{const{type:le,props:ye,ref:L,children:k,dynamicChildren:V,shapeFlag:ee,patchFlag:re,dirs:ne,cacheIndex:W}=G;if(re===-2&&(Q=!1),L!=null&&Np(L,null,H,G,!0),W!=null&&(D.renderCache[W]=void 0),ee&256){D.ctx.deactivate(G);return}const K=ee&1&&ne,Te=!nl(G);let Le;if(Te&&(Le=ye&&ye.onVnodeBeforeUnmount)&&Wr(Le,D,G),ee&6)ze(G.component,H,se);else{if(ee&128){G.suspense.unmount(H,se);return}K&&Hs(G,null,D,"beforeUnmount"),ee&64?G.type.remove(G,D,H,kt,se):V&&!V.hasOnce&&(le!==Ot||re>0&&re&64)?lt(V,D,H,!1,!0):(le===Ot&&re&384||!Q&&ee&16)&&lt(k,D,H),se&&Me(G)}(Te&&(Le=ye&&ye.onVnodeUnmounted)||K)&&Fi(()=>{Le&&Wr(Le,D,G),K&&Hs(G,null,D,"unmounted")},H)},Me=G=>{const{type:D,el:H,anchor:se,transition:Q}=G;if(D===Ot){je(H,se);return}if(D===sl){b(G);return}const le=()=>{n(H),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(G.shapeFlag&1&&Q&&!Q.persisted){const{leave:ye,delayLeave:L}=Q,k=()=>ye(H,le);L?L(G.el,le,k):k()}else le()},je=(G,D)=>{let H;for(;G!==D;)H=p(G),n(G),G=H;n(D)},ze=(G,D,H)=>{const{bum:se,scope:Q,job:le,subTree:ye,um:L,m:k,a:V}=G;Eg(k),Eg(V),se&&vh(se),Q.stop(),le&&(le.flags|=8,ae(ye,G,D,H)),L&&Fi(L,D),Fi(()=>{G.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},lt=(G,D,H,se=!1,Q=!1,le=0)=>{for(let ye=le;ye<G.length;ye++)ae(G[ye],D,H,se,Q)},Vt=G=>{if(G.shapeFlag&6)return Vt(G.component.subTree);if(G.shapeFlag&128)return G.suspense.next();const D=p(G.anchor||G.el),H=D&&D[YP];return H?p(H):D};let At=!1;const pi=(G,D,H)=>{G==null?D._vnode&&ae(D._vnode,null,null,!0):_(D._vnode||null,G,D,null,null,null,H),D._vnode=G,At||(At=!0,j4(),wg(),At=!1)},kt={p:_,um:ae,m:pe,r:Me,mt:te,mc:P,pc:$,pbc:U,n:Vt,o:e};let ii,Yi;return t&&([ii,Yi]=t(kt)),{render:pi,hydrate:ii,createApp:bQ(pi,ii)}}function kb({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function Rl({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function DL(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function OE(e,t,i=!1){const r=e.children,n=t.children;if(Ee(r)&&Ee(n))for(let s=0;s<r.length;s++){const o=r[s];let a=n[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[s]=Ga(n[s]),a.el=o.el),!i&&a.patchFlag!==-2&&OE(o,a)),a.type===oo&&(a.el=o.el)}}function AQ(e){const t=e.slice(),i=[0];let r,n,s,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(n=i[i.length-1],e[n]<c){t[r]=n,i.push(r);continue}for(s=0,o=i.length-1;s<o;)a=s+o>>1,e[i[a]]<c?s=a+1:o=a;c<e[i[s]]&&(s>0&&(t[r]=i[s-1]),i[s]=r)}}for(s=i.length,o=i[s-1];s-- >0;)i[s]=o,o=t[o];return i}function FL(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:FL(t)}function Eg(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const $E=Symbol.for("v-scx"),CE=()=>Ci($E);function UL(e,t){return Em(e,null,t)}function jL(e,t){return Em(e,null,{flush:"post"})}function NE(e,t){return Em(e,null,{flush:"sync"})}function qi(e,t,i){return Em(e,t,i)}function Em(e,t,i=nt){const{immediate:r,deep:n,flush:s,once:o}=i,a=st({},i),l=t&&r||!t&&s!=="post";let c;if(Dh){if(s==="sync"){const y=CE();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=sr,y.resume=sr,y.pause=sr,y}}const f=Gi;a.call=(y,v,_)=>bn(y,f,v,_);let d=!1;s==="post"?a.scheduler=y=>{Fi(y,f&&f.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(y,v)=>{v?y():lE(y)}),a.augmentJob=y=>{t&&(y.flags|=4),d&&(y.flags|=2,f&&(y.id=f.uid,y.i=f))};const p=HX(e,t,a);return Dh&&(c?c.push(p):l&&p()),p}function MQ(e,t,i){const r=this.proxy,n=Je(e)?e.includes(".")?GL(r,e):()=>r[e]:e.bind(r,r);let s;Fe(t)?s=t:(s=t.handler,i=t);const o=Wc(this),a=Em(n,s.bind(r),i);return o(),a}function GL(e,t){const i=t.split(".");return()=>{let r=e;for(let n=0;n<i.length&&r;n++)r=r[i[n]];return r}}function BL(e,t,i=nt){const r=Ni(),n=Bt(t),s=Zr(t),o=VL(e,n),a=sE((l,c)=>{let f,d=nt,p;return NE(()=>{const y=e[n];Lr(f,y)&&(f=y,c())}),{get(){return l(),i.get?i.get(f):f},set(y){const v=i.set?i.set(y):y;if(!Lr(v,f)&&!(d!==nt&&Lr(y,d)))return;const _=r.vnode.props;_&&(t in _||n in _||s in _)&&(`onUpdate:${t}`in _||`onUpdate:${n}`in _||`onUpdate:${s}`in _)||(f=y,c()),r.emit(`update:${t}`,v),Lr(y,v)&&Lr(y,d)&&!Lr(v,p)&&c(),d=y,p=v}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||nt:a,done:!1}:{done:!0}}}},a}const VL=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Bt(t)}Modifiers`]||e[`${Zr(t)}Modifiers`];function IQ(e,t,...i){if(e.isUnmounted)return;const r=e.vnode.props||nt;let n=i;const s=t.startsWith("update:"),o=s&&VL(r,t.slice(7));o&&(o.trim&&(n=i.map(f=>Je(f)?f.trim():f)),o.number&&(n=i.map(yg)));let a,l=r[a=wc(t)]||r[a=wc(Bt(t))];!l&&s&&(l=r[a=wc(Zr(t))]),l&&bn(l,e,6,n);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,bn(c,e,6,n)}}function zL(e,t,i=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const s=e.emits;let o={},a=!1;if(!Fe(e)){const l=c=>{const f=zL(c,t,!0);f&&(a=!0,st(o,f))};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Mt(e)&&r.set(e,null),null):(Ee(s)?s.forEach(l=>o[l]=null):st(o,s),Mt(e)&&r.set(e,o),o)}function uv(e,t){return!e||!lu(t)?!1:(t=t.slice(2).replace(/Once$/,""),vt(e,t[0].toLowerCase()+t.slice(1))||vt(e,Zr(t))||vt(e,t))}function _y(e){const{type:t,vnode:i,proxy:r,withProxy:n,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:d,data:p,setupState:y,ctx:v,inheritAttrs:_}=e,E=Cp(e);let x,A;try{if(i.shapeFlag&4){const b=n||r,M=b;x=Yr(c.call(M,b,f,d,y,p,v)),A=a}else{const b=t;x=Yr(b.length>1?b(d,{attrs:a,slots:o,emit:l}):b(d,null)),A=t.props?a:$Q(a)}}catch(b){Bd.length=0,xl(b,e,1),x=Ze(bi)}let w=x;if(A&&_!==!1){const b=Object.keys(A),{shapeFlag:M}=w;b.length&&M&7&&(s&&b.some(Kx)&&(A=CQ(A,s)),w=xs(w,A,!1,!0))}return i.dirs&&(w=xs(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(i.dirs):i.dirs),i.transition&&yo(w,i.transition),x=w,Cp(E),x}function OQ(e,t=!0){let i;for(let r=0;r<e.length;r++){const n=e[r];if(Ss(n)){if(n.type!==bi||n.children==="v-if"){if(i)return;i=n}}else return}return i}const $Q=e=>{let t;for(const i in e)(i==="class"||i==="style"||lu(i))&&((t||(t={}))[i]=e[i]);return t},CQ=(e,t)=>{const i={};for(const r in e)(!Kx(r)||!(r.slice(9)in t))&&(i[r]=e[r]);return i};function NQ(e,t,i){const{props:r,children:n,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return r?X4(r,o,c):!!o;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(o[p]!==r[p]&&!uv(c,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?X4(r,o,c):!0:!!o;return!1}function X4(e,t,i){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const s=r[n];if(t[s]!==e[s]&&!uv(i,s))return!0}return!1}function hv({vnode:e,parent:t},i){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=i,t=t.parent;else break}}const Tg=e=>e.__isSuspense;let Ow=0;const PQ={name:"Suspense",__isSuspense:!0,process(e,t,i,r,n,s,o,a,l,c){if(e==null)LQ(t,i,r,n,s,o,a,l,c);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}kQ(e,t,i,r,n,o,a,l,c)}},hydrate:RQ,normalize:DQ},qL=PQ;function Lp(e,t){const i=e.props&&e.props[t];Fe(i)&&i()}function LQ(e,t,i,r,n,s,o,a,l){const{p:c,o:{createElement:f}}=l,d=f("div"),p=e.suspense=WL(e,n,r,t,d,i,s,o,a,l);c(null,p.pendingBranch=e.ssContent,d,null,r,p,s,o),p.deps>0?(Lp(e,"onPending"),Lp(e,"onFallback"),c(null,e.ssFallback,t,i,r,null,s,o),_h(p,e.ssFallback)):p.resolve(!1,!0)}function kQ(e,t,i,r,n,s,o,a,{p:l,um:c,o:{createElement:f}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const p=t.ssContent,y=t.ssFallback,{activeBranch:v,pendingBranch:_,isInFallback:E,isHydrating:x}=d;if(_)d.pendingBranch=p,os(p,_)?(l(_,p,d.hiddenContainer,null,n,d,s,o,a),d.deps<=0?d.resolve():E&&(x||(l(v,y,i,r,n,null,s,o,a),_h(d,y)))):(d.pendingId=Ow++,x?(d.isHydrating=!1,d.activeBranch=_):c(_,n,d),d.deps=0,d.effects.length=0,d.hiddenContainer=f("div"),E?(l(null,p,d.hiddenContainer,null,n,d,s,o,a),d.deps<=0?d.resolve():(l(v,y,i,r,n,null,s,o,a),_h(d,y))):v&&os(p,v)?(l(v,p,i,r,n,d,s,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,n,d,s,o,a),d.deps<=0&&d.resolve()));else if(v&&os(p,v))l(v,p,i,r,n,d,s,o,a),_h(d,p);else if(Lp(t,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=Ow++,l(null,p,d.hiddenContainer,null,n,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:A,pendingId:w}=d;A>0?setTimeout(()=>{d.pendingId===w&&d.fallback(y)},A):A===0&&d.fallback(y)}}function WL(e,t,i,r,n,s,o,a,l,c,f=!1){const{p:d,m:p,um:y,n:v,o:{parentNode:_,remove:E}}=c;let x;const A=FQ(e);A&&t&&t.pendingBranch&&(x=t.pendingId,t.deps++);const w=e.props?gg(e.props.timeout):void 0,b=s,M={vnode:e,parent:t,parentComponent:i,namespace:o,container:r,hiddenContainer:n,deps:0,pendingId:Ow++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve(I=!1,C=!1){const{vnode:P,activeBranch:N,pendingBranch:U,pendingId:j,effects:F,parentComponent:q,container:te}=M;let h=!1;M.isHydrating?M.isHydrating=!1:I||(h=N&&U.transition&&U.transition.mode==="out-in",h&&(N.transition.afterLeave=()=>{j===M.pendingId&&(p(U,te,s===b?v(N):s,0),Rh(F))}),N&&(_(N.el)===te&&(s=v(N)),y(N,q,M,!0)),h||p(U,te,s,0)),_h(M,U),M.pendingBranch=null,M.isInFallback=!1;let m=M.parent,S=!1;for(;m;){if(m.pendingBranch){m.effects.push(...F),S=!0;break}m=m.parent}!S&&!h&&Rh(F),M.effects=[],A&&t&&t.pendingBranch&&x===t.pendingId&&(t.deps--,t.deps===0&&!C&&t.resolve()),Lp(P,"onResolve")},fallback(I){if(!M.pendingBranch)return;const{vnode:C,activeBranch:P,parentComponent:N,container:U,namespace:j}=M;Lp(C,"onFallback");const F=v(P),q=()=>{M.isInFallback&&(d(null,I,U,F,N,null,j,a,l),_h(M,I))},te=I.transition&&I.transition.mode==="out-in";te&&(P.transition.afterLeave=q),M.isInFallback=!0,y(P,N,null,!0),te||q()},move(I,C,P){M.activeBranch&&p(M.activeBranch,I,C,P),M.container=I},next(){return M.activeBranch&&v(M.activeBranch)},registerDep(I,C,P){const N=!!M.pendingBranch;N&&M.deps++;const U=I.vnode.el;I.asyncDep.catch(j=>{xl(j,I,0)}).then(j=>{if(I.isUnmounted||M.isUnmounted||M.pendingId!==I.suspenseId)return;I.asyncResolved=!0;const{vnode:F}=I;Nw(I,j,!1),U&&(F.el=U);const q=!U&&I.subTree.el;C(I,F,_(U||I.subTree.el),U?null:v(I.subTree),M,o,P),q&&E(q),hv(I,F.el),N&&--M.deps===0&&M.resolve()})},unmount(I,C){M.isUnmounted=!0,M.activeBranch&&y(M.activeBranch,i,I,C),M.pendingBranch&&y(M.pendingBranch,i,I,C)}};return M}function RQ(e,t,i,r,n,s,o,a,l){const c=t.suspense=WL(t,r,i,e.parentNode,document.createElement("div"),null,n,s,o,a,!0),f=l(e,c.pendingBranch=t.ssContent,i,c,s,o);return c.deps===0&&c.resolve(!1,!0),f}function DQ(e){const{shapeFlag:t,children:i}=e,r=t&32;e.ssContent=Q4(r?i.default:i),e.ssFallback=r?Q4(i.fallback):Ze(bi)}function Q4(e){let t;if(Fe(e)){const i=qc&&e._c;i&&(e._d=!1,fe()),e=e(),i&&(e._d=!0,t=Sr,YL())}return Ee(e)&&(e=OQ(e)),e=Yr(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(i=>i!==e)),e}function HL(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):Rh(e)}function _h(e,t){e.activeBranch=t;const{vnode:i,parentComponent:r}=e;let n=t.el;for(;!n&&t.component;)t=t.component.subTree,n=t.el;i.el=n,r&&r.subTree===i&&(r.vnode.el=n,hv(r,n))}function FQ(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Ot=Symbol.for("v-fgt"),oo=Symbol.for("v-txt"),bi=Symbol.for("v-cmt"),sl=Symbol.for("v-stc"),Bd=[];let Sr=null;function fe(e=!1){Bd.push(Sr=e?null:[])}function YL(){Bd.pop(),Sr=Bd[Bd.length-1]||null}let qc=1;function Ag(e,t=!1){qc+=e,e<0&&Sr&&t&&(Sr.hasOnce=!0)}function JL(e){return e.dynamicChildren=qc>0?Sr||yh:null,YL(),qc>0&&Sr&&Sr.push(e),e}function we(e,t,i,r,n,s){return JL(ce(e,t,i,r,n,s,!0))}function Gt(e,t,i,r,n){return JL(Ze(e,t,i,r,n,!0))}function Ss(e){return e?e.__v_isVNode===!0:!1}function os(e,t){return e.type===t.type&&e.key===t.key}function KL(e){}const ZL=({key:e})=>e??null,wy=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?Je(e)||ft(e)||Fe(e)?{i:Vi,r:e,k:t,f:!!i}:e:null);function ce(e,t=null,i=null,r=0,n=null,s=e===Ot?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ZL(t),ref:t&&wy(t),scopeId:nv,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Vi};return a?(LE(l,i),s&128&&e.normalize(l)):i&&(l.shapeFlag|=Je(i)?8:16),qc>0&&!o&&Sr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Sr.push(l),l}const Ze=UQ;function UQ(e,t=null,i=null,r=0,n=null,s=!1){if((!e||e===lL)&&(e=bi),Ss(e)){const a=xs(e,t,!0);return i&&LE(a,i),qc>0&&!s&&Sr&&(a.shapeFlag&6?Sr[Sr.indexOf(e)]=a:Sr.push(a)),a.patchFlag=-2,a}if(zQ(e)&&(e=e.__vccOpts),t){t=PE(t);let{class:a,style:l}=t;a&&!Je(a)&&(t.class=di(a)),Mt(l)&&(wm(l)&&!Ee(l)&&(l=st({},l)),t.style=_l(l))}const o=Je(e)?1:Tg(e)?128:JP(e)?64:Mt(e)?4:Fe(e)?2:0;return ce(e,t,i,r,n,o,s,!0)}function PE(e){return e?wm(e)||OL(e)?st({},e):e:null}function xs(e,t,i=!1,r=!1){const{props:n,ref:s,patchFlag:o,children:a,transition:l}=e,c=t?fv(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&ZL(c),ref:t&&t.ref?i&&s?Ee(s)?s.concat(wy(t)):[s,wy(t)]:wy(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ot?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&xs(e.ssContent),ssFallback:e.ssFallback&&xs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&yo(f,l.clone(f)),f}function ao(e=" ",t=0){return Ze(oo,null,e,t)}function XL(e,t){const i=Ze(sl,null,e);return i.staticCount=t,i}function Wt(e="",t=!1){return t?(fe(),Gt(bi,null,e)):Ze(bi,null,e)}function Yr(e){return e==null||typeof e=="boolean"?Ze(bi):Ee(e)?Ze(Ot,null,e.slice()):Ss(e)?Ga(e):Ze(oo,null,String(e))}function Ga(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:xs(e)}function LE(e,t){let i=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ee(t))i=16;else if(typeof t=="object")if(r&65){const n=t.default;n&&(n._c&&(n._d=!1),LE(e,n()),n._c&&(n._d=!0));return}else{i=32;const n=t._;!n&&!OL(t)?t._ctx=Vi:n===3&&Vi&&(Vi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Fe(t)?(t={default:t,_ctx:Vi},i=32):(t=String(t),r&64?(i=16,t=[ao(t)]):i=8);e.children=t,e.shapeFlag|=i}function fv(...e){const t={};for(let i=0;i<e.length;i++){const r=e[i];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=di([t.class,r.class]));else if(n==="style")t.style=_l([t.style,r.style]);else if(lu(n)){const s=t[n],o=r[n];o&&s!==o&&!(Ee(s)&&s.includes(o))&&(t[n]=s?[].concat(s,o):o)}else n!==""&&(t[n]=r[n])}return t}function Wr(e,t,i,r=null){bn(e,t,7,[i,r])}const jQ=AL();let GQ=0;function QL(e,t,i){const r=e.type,n=(t?t.appContext:e.appContext)||jQ,s={uid:GQ++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new K1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:CL(r,n),emitsOptions:zL(r,n),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:r.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=IQ.bind(null,s),e.ce&&e.ce(s),s}let Gi=null;const Ni=()=>Gi||Vi;let Mg,$w;{const e=Y1(),t=(i,r)=>{let n;return(n=e[i])||(n=e[i]=[]),n.push(r),s=>{n.length>1?n.forEach(o=>o(s)):n[0](s)}};Mg=t("__VUE_INSTANCE_SETTERS__",i=>Gi=i),$w=t("__VUE_SSR_SETTERS__",i=>Dh=i)}const Wc=e=>{const t=Gi;return Mg(e),e.scope.on(),()=>{e.scope.off(),Mg(t)}},Cw=()=>{Gi&&Gi.scope.off(),Mg(null)};function ek(e){return e.vnode.shapeFlag&4}let Dh=!1;function tk(e,t=!1,i=!1){t&&$w(t);const{props:r,children:n}=e.vnode,s=ek(e);_Q(e,r,s,t),EQ(e,n,i);const o=s?BQ(e,t):void 0;return t&&$w(!1),o}function BQ(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Tw);const{setup:r}=i;if(r){wl();const n=e.setupContext=r.length>1?nk(e):null,s=Wc(e),o=uu(r,e,0,[e.props,n]),a=Xx(o);if(Sl(),s(),(a||e.sp)&&!nl(e)&&hE(e),a){if(o.then(Cw,Cw),t)return o.then(l=>{Nw(e,l,t)}).catch(l=>{xl(l,e,0)});e.asyncDep=o}else Nw(e,o,t)}else rk(e,t)}function Nw(e,t,i){Fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Mt(t)&&(e.setupState=rv(t)),rk(e,i)}let Ig,Pw;function kE(e){Ig=e,Pw=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,fQ))}}const ik=()=>!Ig;function rk(e,t,i){const r=e.type;if(!e.render){if(!t&&Ig&&!r.render){const n=r.template||xE(e).template;if(n){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=st(st({isCustomElement:s,delimiters:a},o),l);r.render=Ig(n,c)}}e.render=r.render||sr,Pw&&Pw(e)}{const n=Wc(e);wl();try{dQ(e)}finally{Sl(),n()}}}const VQ={get(e,t){return gr(e,"get",""),e[t]}};function nk(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,VQ),slots:e.slots,emit:e.emit,expose:t}}function Tm(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(rv(xi(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Gd)return Gd[i](e)},has(t,i){return i in t||i in Gd}})):e.proxy}function Lw(e,t=!0){return Fe(e)?e.displayName||e.name:e.name||t&&e.__name}function zQ(e){return Fe(e)&&"__vccOpts"in e}const et=(e,t)=>WX(e,t,Dh);function Un(e,t,i){const r=arguments.length;return r===2?Mt(t)&&!Ee(t)?Ss(t)?Ze(e,null,[t]):Ze(e,t):Ze(e,null,t):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&Ss(i)&&(i=[i]),Ze(e,t,i))}function sk(){}function ok(e,t,i,r){const n=i[r];if(n&&RE(n,e))return n;const s=t();return s.memo=e.slice(),s.cacheIndex=r,i[r]=s}function RE(e,t){const i=e.memo;if(i.length!=t.length)return!1;for(let r=0;r<i.length;r++)if(Lr(i[r],t[r]))return!1;return qc>0&&Sr&&Sr.push(e),!0}const DE="3.5.13",ak=sr,lk=KX,ck=ju,uk=zP,qQ={createComponentInstance:QL,setupComponent:tk,renderComponentRoot:_y,setCurrentRenderingInstance:Cp,isVNode:Ss,normalizeVNode:Yr,getComponentPublicInstance:Tm,ensureValidVNode:SE,pushWarningContext:YX,popWarningContext:JX},hk=qQ,fk=null,dk=null,pk=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let kw;const eM=typeof window<"u"&&window.trustedTypes;if(eM)try{kw=eM.createPolicy("vue",{createHTML:e=>e})}catch{}const mk=kw?e=>kw.createHTML(e):e=>e,WQ="http://www.w3.org/2000/svg",HQ="http://www.w3.org/1998/Math/MathML",Do=typeof document<"u"?document:null,tM=Do&&Do.createElement("template"),YQ={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,r)=>{const n=t==="svg"?Do.createElementNS(WQ,e):t==="mathml"?Do.createElementNS(HQ,e):i?Do.createElement(e,{is:i}):Do.createElement(e);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>Do.createTextNode(e),createComment:e=>Do.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Do.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,r,n,s){const o=i?i.previousSibling:t.lastChild;if(n&&(n===s||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),i),!(n===s||!(n=n.nextSibling)););else{tM.innerHTML=mk(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=tM.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,i)}return[o?o.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},ya="transition",Uf="animation",Fh=Symbol("_vtc"),yk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},gk=st({},ov,yk),JQ=e=>(e.displayName="Transition",e.props=gk,e),dv=JQ((e,{slots:t})=>Un(uE,vk(e),t)),Dl=(e,t=[])=>{Ee(e)?e.forEach(i=>i(...t)):e&&e(...t)},iM=e=>e?Ee(e)?e.some(t=>t.length>1):e.length>1:!1;function vk(e){const t={};for(const F in e)F in yk||(t[F]=e[F]);if(e.css===!1)return t;const{name:i="v",type:r,duration:n,enterFromClass:s=`${i}-enter-from`,enterActiveClass:o=`${i}-enter-active`,enterToClass:a=`${i}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:f=a,leaveFromClass:d=`${i}-leave-from`,leaveActiveClass:p=`${i}-leave-active`,leaveToClass:y=`${i}-leave-to`}=e,v=KQ(n),_=v&&v[0],E=v&&v[1],{onBeforeEnter:x,onEnter:A,onEnterCancelled:w,onLeave:b,onLeaveCancelled:M,onBeforeAppear:I=x,onAppear:C=A,onAppearCancelled:P=w}=t,N=(F,q,te,h)=>{F._enterCancelled=h,$a(F,q?f:a),$a(F,q?c:o),te&&te()},U=(F,q)=>{F._isLeaving=!1,$a(F,d),$a(F,y),$a(F,p),q&&q()},j=F=>(q,te)=>{const h=F?C:A,m=()=>N(q,F,te);Dl(h,[q,m]),rM(()=>{$a(q,F?l:s),Bs(q,F?f:a),iM(h)||nM(q,r,_,m)})};return st(t,{onBeforeEnter(F){Dl(x,[F]),Bs(F,s),Bs(F,o)},onBeforeAppear(F){Dl(I,[F]),Bs(F,l),Bs(F,c)},onEnter:j(!1),onAppear:j(!0),onLeave(F,q){F._isLeaving=!0;const te=()=>U(F,q);Bs(F,d),F._enterCancelled?(Bs(F,p),Rw()):(Rw(),Bs(F,p)),rM(()=>{F._isLeaving&&($a(F,d),Bs(F,y),iM(b)||nM(F,r,E,te))}),Dl(b,[F,te])},onEnterCancelled(F){N(F,!1,void 0,!0),Dl(w,[F])},onAppearCancelled(F){N(F,!0,void 0,!0),Dl(P,[F])},onLeaveCancelled(F){U(F),Dl(M,[F])}})}function KQ(e){if(e==null)return null;if(Mt(e))return[Rb(e.enter),Rb(e.leave)];{const t=Rb(e);return[t,t]}}function Rb(e){return gg(e)}function Bs(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[Fh]||(e[Fh]=new Set)).add(t)}function $a(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const i=e[Fh];i&&(i.delete(t),i.size||(e[Fh]=void 0))}function rM(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ZQ=0;function nM(e,t,i,r){const n=e._endId=++ZQ,s=()=>{n===e._endId&&r()};if(i!=null)return setTimeout(s,i);const{type:o,timeout:a,propCount:l}=bk(e,t);if(!o)return r();const c=o+"end";let f=0;const d=()=>{e.removeEventListener(c,p),s()},p=y=>{y.target===e&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},a+1),e.addEventListener(c,p)}function bk(e,t){const i=window.getComputedStyle(e),r=v=>(i[v]||"").split(", "),n=r(`${ya}Delay`),s=r(`${ya}Duration`),o=sM(n,s),a=r(`${Uf}Delay`),l=r(`${Uf}Duration`),c=sM(a,l);let f=null,d=0,p=0;t===ya?o>0&&(f=ya,d=o,p=s.length):t===Uf?c>0&&(f=Uf,d=c,p=l.length):(d=Math.max(o,c),f=d>0?o>c?ya:Uf:null,p=f?f===ya?s.length:l.length:0);const y=f===ya&&/\b(transform|all)(,|$)/.test(r(`${ya}Property`).toString());return{type:f,timeout:d,propCount:p,hasTransform:y}}function sM(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,r)=>oM(i)+oM(e[r])))}function oM(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Rw(){return document.body.offsetHeight}function XQ(e,t,i){const r=e[Fh];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const Og=Symbol("_vod"),_k=Symbol("_vsh"),pv={beforeMount(e,{value:t},{transition:i}){e[Og]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):jf(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:r}){!t!=!i&&(r?t?(r.beforeEnter(e),jf(e,!0),r.enter(e)):r.leave(e,()=>{jf(e,!1)}):jf(e,t))},beforeUnmount(e,{value:t}){jf(e,t)}};function jf(e,t){e.style.display=t?e[Og]:"none",e[_k]=!t}function QQ(){pv.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const wk=Symbol("");function Sk(e){const t=Ni();if(!t)return;const i=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>$g(s,n))},r=()=>{const n=e(t.proxy);t.ce?$g(t.ce,n):Dw(t.subTree,n),i(n)};cv(()=>{Rh(r)}),ar(()=>{qi(r,sr,{flush:"post"});const n=new MutationObserver(r);n.observe(t.subTree.el.parentNode,{childList:!0}),hu(()=>n.disconnect())})}function Dw(e,t){if(e.shapeFlag&128){const i=e.suspense;e=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{Dw(i.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)$g(e.el,t);else if(e.type===Ot)e.children.forEach(i=>Dw(i,t));else if(e.type===sl){let{el:i,anchor:r}=e;for(;i&&($g(i,t),i!==r);)i=i.nextSibling}}function $g(e,t){if(e.nodeType===1){const i=e.style;let r="";for(const n in t)i.setProperty(`--${n}`,t[n]),r+=`--${n}: ${t[n]};`;i[wk]=r}}const eee=/(^|;)\s*display\s*:/;function tee(e,t,i){const r=e.style,n=Je(i);let s=!1;if(i&&!n){if(t)if(Je(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();i[a]==null&&Sy(r,a,"")}else for(const o in t)i[o]==null&&Sy(r,o,"");for(const o in i)o==="display"&&(s=!0),Sy(r,o,i[o])}else if(n){if(t!==i){const o=r[wk];o&&(i+=";"+o),r.cssText=i,s=eee.test(i)}}else t&&e.removeAttribute("style");Og in e&&(e[Og]=s?r.display:"",e[_k]&&(r.display="none"))}const aM=/\s*!important$/;function Sy(e,t,i){if(Ee(i))i.forEach(r=>Sy(e,t,r));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const r=iee(e,t);aM.test(i)?e.setProperty(Zr(r),i.replace(aM,""),"important"):e[r]=i}}const lM=["Webkit","Moz","ms"],Db={};function iee(e,t){const i=Db[t];if(i)return i;let r=Bt(t);if(r!=="filter"&&r in e)return Db[t]=r;r=bl(r);for(let n=0;n<lM.length;n++){const s=lM[n]+r;if(s in e)return Db[t]=s}return t}const cM="http://www.w3.org/1999/xlink";function uM(e,t,i,r,n,s=bX(t)){r&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(cM,t.slice(6,t.length)):e.setAttributeNS(cM,t,i):i==null||s&&!cP(i)?e.removeAttribute(t):e.setAttribute(t,s?"":an(i)?String(i):i)}function hM(e,t,i,r,n){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?mk(i):i);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=i==null?e.type==="checkbox"?"on":"":String(i);(a!==l||!("_value"in e))&&(e.value=l),i==null&&e.removeAttribute(t),e._value=i;return}let o=!1;if(i===""||i==null){const a=typeof e[t];a==="boolean"?i=cP(i):i==null&&a==="string"?(i="",o=!0):a==="number"&&(i=0,o=!0)}try{e[t]=i}catch{}o&&e.removeAttribute(n||t)}function qo(e,t,i,r){e.addEventListener(t,i,r)}function ree(e,t,i,r){e.removeEventListener(t,i,r)}const fM=Symbol("_vei");function nee(e,t,i,r,n=null){const s=e[fM]||(e[fM]={}),o=s[t];if(r&&o)o.value=r;else{const[a,l]=see(t);if(r){const c=s[t]=lee(r,n);qo(e,a,c,l)}else o&&(ree(e,a,o,l),s[t]=void 0)}}const dM=/(?:Once|Passive|Capture)$/;function see(e){let t;if(dM.test(e)){t={};let r;for(;r=e.match(dM);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Zr(e.slice(2)),t]}let Fb=0;const oee=Promise.resolve(),aee=()=>Fb||(oee.then(()=>Fb=0),Fb=Date.now());function lee(e,t){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;bn(cee(r,i.value),t,5,[r])};return i.value=e,i.attached=aee(),i}function cee(e,t){if(Ee(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const pM=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,uee=(e,t,i,r,n,s)=>{const o=n==="svg";t==="class"?XQ(e,r,o):t==="style"?tee(e,i,r):lu(t)?Kx(t)||nee(e,t,i,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):hee(e,t,r,o))?(hM(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&uM(e,t,r,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Je(r))?hM(e,Bt(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),uM(e,t,r,o))};function hee(e,t,i,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&pM(t)&&Fe(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return pM(t)&&Je(i)?!1:t in e}const mM={};/*! #__NO_SIDE_EFFECTS__ */function FE(e,t,i){const r=rt(e,t);W1(r)&&st(r,t);class n extends Am{constructor(o){super(r,o,i)}}return n.def=r,n}/*! #__NO_SIDE_EFFECTS__ */const xk=(e,t)=>FE(e,t,VE),fee=typeof HTMLElement<"u"?HTMLElement:class{};class Am extends fee{constructor(t,i={},r=dl){super(),this._def=t,this._props=i,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==dl?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Am){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,As(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const n of r)this._setAttr(n.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,n=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!Ee(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=gg(this._props[l])),(a||(a=Object.create(null)))[Bt(l)]=!0)}this._numberProps=a,n&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},i=this._def.__asyncLoader;i?this._pendingResolve=i().then(r=>t(this._def=r,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const i=this._instance&&this._instance.exposed;if(i)for(const r in i)vt(this,r)||Object.defineProperty(this,r,{get:()=>Ie(i[r])})}_resolveProps(t){const{props:i}=t,r=Ee(i)?i:Object.keys(i||{});for(const n of Object.keys(this))n[0]!=="_"&&r.includes(n)&&this._setProp(n,this[n]);for(const n of r.map(Bt))Object.defineProperty(this,n,{get(){return this._getProp(n)},set(s){this._setProp(n,s,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const i=this.hasAttribute(t);let r=i?this.getAttribute(t):mM;const n=Bt(t);i&&this._numberProps&&this._numberProps[n]&&(r=gg(r)),this._setProp(n,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,i,r=!0,n=!1){if(i!==this._props[t]&&(i===mM?delete this._props[t]:(this._props[t]=i,t==="key"&&this._app&&(this._app._ceVNode.key=i)),n&&this._instance&&this._update(),r)){const s=this._ob;s&&s.disconnect(),i===!0?this.setAttribute(Zr(t),""):typeof i=="string"||typeof i=="number"?this.setAttribute(Zr(t),i+""):i||this.removeAttribute(Zr(t)),s&&s.observe(this,{attributes:!0})}}_update(){wh(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const i=Ze(this._def,st(t,this._props));return this._instance||(i.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const n=(s,o)=>{this.dispatchEvent(new CustomEvent(s,W1(o[0])?st({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{n(s,o),Zr(s)!==s&&n(Zr(s),o)},this._setParent()}),i}_applyStyles(t,i){if(!t)return;if(i){if(i===this._def||this._styleChildren.has(i))return;this._styleChildren.add(i)}const r=this._nonce;for(let n=t.length-1;n>=0;n--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=t[n],this.shadowRoot.prepend(s)}}_parseSlots(){const t=this._slots={};let i;for(;i=this.firstChild;){const r=i.nodeType===1&&i.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(i),this.removeChild(i)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),i=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const n=t[r],s=n.getAttribute("name")||"default",o=this._slots[s],a=n.parentNode;if(o)for(const l of o){if(i&&l.nodeType===1){const c=i+"-s",f=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=f.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,n)}else for(;n.firstChild;)a.insertBefore(n.firstChild,n);a.removeChild(n)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function UE(e){const t=Ni(),i=t&&t.ce;return i||null}function Ek(){const e=UE();return e&&e.shadowRoot}function Tk(e="$style"){{const t=Ni();if(!t)return nt;const i=t.type.__cssModules;if(!i)return nt;const r=i[e];return r||nt}}const Ak=new WeakMap,Mk=new WeakMap,Cg=Symbol("_moveCb"),yM=Symbol("_enterCb"),dee=e=>(delete e.props.mode,e),pee=dee({name:"TransitionGroup",props:st({},gk,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=Ni(),r=sv();let n,s;return Ef(()=>{if(!n.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!vee(n[0].el,i.vnode.el,o))return;n.forEach(mee),n.forEach(yee);const a=n.filter(gee);Rw(),a.forEach(l=>{const c=l.el,f=c.style;Bs(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const d=c[Cg]=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",d),c[Cg]=null,$a(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Ve(e),a=vk(o);let l=o.tag||Ot;if(n=[],s)for(let c=0;c<s.length;c++){const f=s[c];f.el&&f.el instanceof Element&&(n.push(f),yo(f,zc(f,a,r,i)),Ak.set(f,f.el.getBoundingClientRect()))}s=t.default?Sm(t.default()):[];for(let c=0;c<s.length;c++){const f=s[c];f.key!=null&&yo(f,zc(f,a,r,i))}return Ze(l,null,s)}}}),mv=pee;function mee(e){const t=e.el;t[Cg]&&t[Cg](),t[yM]&&t[yM]()}function yee(e){Mk.set(e,e.el.getBoundingClientRect())}function gee(e){const t=Ak.get(e),i=Mk.get(e),r=t.left-i.left,n=t.top-i.top;if(r||n){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${n}px)`,s.transitionDuration="0s",e}}function vee(e,t,i){const r=e.cloneNode(),n=e[Fh];n&&n.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),i.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:o}=bk(r);return s.removeChild(r),o}const fl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ee(t)?i=>vh(t,i):t};function bee(e){e.target.composing=!0}function gM(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Gn=Symbol("_assign"),kp={created(e,{modifiers:{lazy:t,trim:i,number:r}},n){e[Gn]=fl(n);const s=r||n.props&&n.props.type==="number";qo(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;i&&(a=a.trim()),s&&(a=yg(a)),e[Gn](a)}),i&&qo(e,"change",()=>{e.value=e.value.trim()}),t||(qo(e,"compositionstart",bee),qo(e,"compositionend",gM),qo(e,"change",gM))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:r,trim:n,number:s}},o){if(e[Gn]=fl(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?yg(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===i||n&&e.value.trim()===l)||(e.value=l))}},yv={deep:!0,created(e,t,i){e[Gn]=fl(i),qo(e,"change",()=>{const r=e._modelValue,n=Uh(e),s=e.checked,o=e[Gn];if(Ee(r)){const a=J1(r,n),l=a!==-1;if(s&&!l)o(r.concat(n));else if(!s&&l){const c=[...r];c.splice(a,1),o(c)}}else if(cu(r)){const a=new Set(r);s?a.add(n):a.delete(n),o(a)}else o(Ik(e,s))})},mounted:vM,beforeUpdate(e,t,i){e[Gn]=fl(i),vM(e,t,i)}};function vM(e,{value:t,oldValue:i},r){e._modelValue=t;let n;if(Ee(t))n=J1(t,r.props.value)>-1;else if(cu(t))n=t.has(r.props.value);else{if(t===i)return;n=hl(t,Ik(e,!0))}e.checked!==n&&(e.checked=n)}const gv={created(e,{value:t},i){e.checked=hl(t,i.props.value),e[Gn]=fl(i),qo(e,"change",()=>{e[Gn](Uh(e))})},beforeUpdate(e,{value:t,oldValue:i},r){e[Gn]=fl(r),t!==i&&(e.checked=hl(t,r.props.value))}},jE={deep:!0,created(e,{value:t,modifiers:{number:i}},r){const n=cu(t);qo(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>i?yg(Uh(o)):Uh(o));e[Gn](e.multiple?n?new Set(s):s:s[0]),e._assigning=!0,As(()=>{e._assigning=!1})}),e[Gn]=fl(r)},mounted(e,{value:t}){bM(e,t)},beforeUpdate(e,t,i){e[Gn]=fl(i)},updated(e,{value:t}){e._assigning||bM(e,t)}};function bM(e,t){const i=e.multiple,r=Ee(t);if(!(i&&!r&&!cu(t))){for(let n=0,s=e.options.length;n<s;n++){const o=e.options[n],a=Uh(o);if(i)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=J1(t,a)>-1}else o.selected=t.has(a);else if(hl(Uh(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Uh(e){return"_value"in e?e._value:e.value}function Ik(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const GE={created(e,t,i){m0(e,t,i,null,"created")},mounted(e,t,i){m0(e,t,i,null,"mounted")},beforeUpdate(e,t,i,r){m0(e,t,i,r,"beforeUpdate")},updated(e,t,i,r){m0(e,t,i,r,"updated")}};function Ok(e,t){switch(e){case"SELECT":return jE;case"TEXTAREA":return kp;default:switch(t){case"checkbox":return yv;case"radio":return gv;default:return kp}}}function m0(e,t,i,r,n){const o=Ok(e.tagName,i.props&&i.props.type)[n];o&&o(e,t,i,r)}function _ee(){kp.getSSRProps=({value:e})=>({value:e}),gv.getSSRProps=({value:e},t)=>{if(t.props&&hl(t.props.value,e))return{checked:!0}},yv.getSSRProps=({value:e},t)=>{if(Ee(e)){if(t.props&&J1(e,t.props.value)>-1)return{checked:!0}}else if(cu(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},GE.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const i=Ok(t.type.toUpperCase(),t.props&&t.props.type);if(i.getSSRProps)return i.getSSRProps(e,t)}}const wee=["ctrl","shift","alt","meta"],See={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wee.some(i=>e[`${i}Key`]&&!t.includes(i))},Mm=(e,t)=>{const i=e._withMods||(e._withMods={}),r=t.join(".");return i[r]||(i[r]=(n,...s)=>{for(let o=0;o<t.length;o++){const a=See[t[o]];if(a&&a(n,t))return}return e(n,...s)})},xee={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},BE=(e,t)=>{const i=e._withKeys||(e._withKeys={}),r=t.join(".");return i[r]||(i[r]=n=>{if(!("key"in n))return;const s=Zr(n.key);if(t.some(o=>o===s||xee[o]===s))return e(n)})},$k=st({patchProp:uee},YQ);let Vd,_M=!1;function Ck(){return Vd||(Vd=ME($k))}function Nk(){return Vd=_M?Vd:IE($k),_M=!0,Vd}const wh=(...e)=>{Ck().render(...e)},Pk=(...e)=>{Nk().hydrate(...e)},dl=(...e)=>{const t=Ck().createApp(...e),{mount:i}=t;return t.mount=r=>{const n=kk(r);if(!n)return;const s=t._component;!Fe(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=i(n,!1,Lk(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t},VE=(...e)=>{const t=Nk().createApp(...e),{mount:i}=t;return t.mount=r=>{const n=kk(r);if(n)return i(n,!0,Lk(n))},t};function Lk(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function kk(e){return Je(e)?document.querySelector(e):e}let wM=!1;const Rk=()=>{wM||(wM=!0,_ee(),QQ())},Eee=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:uE,BaseTransitionPropsValidators:ov,Comment:bi,DeprecationTypes:pk,EffectScope:K1,ErrorCodes:jP,ErrorTypeStrings:lk,Fragment:Ot,KeepAlive:oL,ReactiveEffect:kh,Static:sl,Suspense:qL,Teleport:cE,Text:oo,TrackOpTypes:kP,Transition:dv,TransitionGroup:mv,TriggerOpTypes:RP,VueElement:Am,assertNumber:UP,callWithAsyncErrorHandling:bn,callWithErrorHandling:uu,camelize:Bt,capitalize:bl,cloneVNode:xs,compatUtils:dk,computed:et,createApp:dl,createBlock:Gt,createCommentVNode:Wt,createElementBlock:we,createElementVNode:ce,createHydrationRenderer:IE,createPropsRestProxy:xL,createRenderer:ME,createSSRApp:VE,createSlots:cL,createStaticVNode:XL,createTextVNode:ao,createVNode:Ze,customRef:sE,defineAsyncComponent:fE,defineComponent:rt,defineCustomElement:FE,defineEmits:fL,defineExpose:dL,defineModel:yL,defineOptions:pL,defineProps:hL,defineSSRCustomElement:xk,defineSlots:mL,devtools:ck,effect:gP,effectScope:_m,getCurrentInstance:Ni,getCurrentScope:Z1,getCurrentWatcher:DP,getTransitionRawChildren:Sm,guardReactiveProps:PE,h:Un,handleError:xl,hasInjectionContext:TE,hydrate:Pk,hydrateOnIdle:iL,hydrateOnInteraction:sL,hydrateOnMediaQuery:nL,hydrateOnVisible:rL,initCustomFormatter:sk,initDirectivesForSSR:Rk,inject:Ci,isMemoSame:RE,isProxy:wm,isReactive:yn,isReadonly:ea,isRef:ft,isRuntimeOnly:ik,isShallow:tn,isVNode:Ss,markRaw:xi,mergeDefaults:wL,mergeModels:SL,mergeProps:fv,nextTick:As,normalizeClass:di,normalizeProps:lP,normalizeStyle:_l,onActivated:dE,onBeforeMount:lv,onBeforeUnmount:Ms,onBeforeUpdate:cv,onDeactivated:pE,onErrorCaptured:vE,onMounted:ar,onRenderTracked:gE,onRenderTriggered:yE,onScopeDispose:eE,onServerPrefetch:mE,onUnmounted:hu,onUpdated:Ef,onWatcherCleanup:aE,openBlock:fe,popScopeId:WP,provide:EE,proxyRefs:rv,pushScopeId:qP,queuePostFlushCb:Rh,reactive:er,readonly:tv,ref:X,registerRuntimeCompiler:kE,render:wh,renderList:El,renderSlot:cs,resolveComponent:vi,resolveDirective:Tt,resolveDynamicComponent:_E,resolveFilter:fk,resolveTransitionHooks:zc,setBlockTracking:Ag,setDevtoolsHook:uk,setTransitionHooks:yo,shallowReactive:nE,shallowReadonly:OP,shallowRef:xf,ssrContextKey:$E,ssrUtils:hk,stop:vP,toDisplayString:Ut,toHandlerKey:wc,toHandlers:uL,toRaw:Ve,toRef:PP,toRefs:oE,toValue:NP,transformVNodeArgs:KL,triggerRef:CP,unref:Ie,useAttrs:bL,useCssModule:Tk,useCssVars:Sk,useHost:UE,useId:tL,useModel:BL,useSSRContext:CE,useShadowRoot:Ek,useSlots:vL,useTemplateRef:Sg,useTransitionState:sv,vModelCheckbox:yv,vModelDynamic:GE,vModelRadio:gv,vModelSelect:jE,vModelText:kp,vShow:pv,version:DE,warn:ak,watch:qi,watchEffect:UL,watchPostEffect:jL,watchSyncEffect:NE,withAsyncContext:EL,withCtx:Ti,withDefaults:gL,withDirectives:Et,withKeys:BE,withMemo:ok,withModifiers:Mm,withScopeId:HP},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Rp=Symbol(""),zd=Symbol(""),zE=Symbol(""),Ng=Symbol(""),Dk=Symbol(""),Hc=Symbol(""),Fk=Symbol(""),Uk=Symbol(""),qE=Symbol(""),WE=Symbol(""),Im=Symbol(""),HE=Symbol(""),jk=Symbol(""),YE=Symbol(""),JE=Symbol(""),KE=Symbol(""),ZE=Symbol(""),XE=Symbol(""),QE=Symbol(""),Gk=Symbol(""),Bk=Symbol(""),vv=Symbol(""),Pg=Symbol(""),e3=Symbol(""),t3=Symbol(""),Dp=Symbol(""),Om=Symbol(""),i3=Symbol(""),Fw=Symbol(""),Tee=Symbol(""),Uw=Symbol(""),Lg=Symbol(""),Aee=Symbol(""),Mee=Symbol(""),r3=Symbol(""),Iee=Symbol(""),Oee=Symbol(""),n3=Symbol(""),Vk=Symbol(""),jh={[Rp]:"Fragment",[zd]:"Teleport",[zE]:"Suspense",[Ng]:"KeepAlive",[Dk]:"BaseTransition",[Hc]:"openBlock",[Fk]:"createBlock",[Uk]:"createElementBlock",[qE]:"createVNode",[WE]:"createElementVNode",[Im]:"createCommentVNode",[HE]:"createTextVNode",[jk]:"createStaticVNode",[YE]:"resolveComponent",[JE]:"resolveDynamicComponent",[KE]:"resolveDirective",[ZE]:"resolveFilter",[XE]:"withDirectives",[QE]:"renderList",[Gk]:"renderSlot",[Bk]:"createSlots",[vv]:"toDisplayString",[Pg]:"mergeProps",[e3]:"normalizeClass",[t3]:"normalizeStyle",[Dp]:"normalizeProps",[Om]:"guardReactiveProps",[i3]:"toHandlers",[Fw]:"camelize",[Tee]:"capitalize",[Uw]:"toHandlerKey",[Lg]:"setBlockTracking",[Aee]:"pushScopeId",[Mee]:"popScopeId",[r3]:"withCtx",[Iee]:"unref",[Oee]:"isRef",[n3]:"withMemo",[Vk]:"isMemoSame"};function $ee(e){Object.getOwnPropertySymbols(e).forEach(t=>{jh[t]=e[t]})}const xn={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Cee(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:xn}}function Fp(e,t,i,r,n,s,o,a=!1,l=!1,c=!1,f=xn){return e&&(a?(e.helper(Hc),e.helper(Vh(e.inSSR,c))):e.helper(Bh(e.inSSR,c)),o&&e.helper(XE)),{type:13,tag:t,props:i,children:r,patchFlag:n,dynamicProps:s,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:f}}function Ec(e,t=xn){return{type:17,loc:t,elements:e}}function jn(e,t=xn){return{type:15,loc:t,properties:e}}function Si(e,t){return{type:16,loc:xn,key:Je(e)?Qe(e,!0):e,value:t}}function Qe(e,t=!1,i=xn,r=0){return{type:4,loc:i,content:e,isStatic:t,constType:t?3:r}}function gs(e,t=xn){return{type:8,loc:t,children:e}}function ji(e,t=[],i=xn){return{type:14,loc:i,callee:e,arguments:t}}function Gh(e,t=void 0,i=!1,r=!1,n=xn){return{type:18,params:e,returns:t,newline:i,isSlot:r,loc:n}}function jw(e,t,i,r=!0){return{type:19,test:e,consequent:t,alternate:i,newline:r,loc:xn}}function Nee(e,t,i=!1,r=!1){return{type:20,index:e,value:t,needPauseTracking:i,inVOnce:r,needArraySpread:!1,loc:xn}}function Pee(e){return{type:21,body:e,loc:xn}}function Bh(e,t){return e||t?qE:WE}function Vh(e,t){return e||t?Fk:Uk}function s3(e,{helper:t,removeHelper:i,inSSR:r}){e.isBlock||(e.isBlock=!0,i(Bh(r,e.isComponent)),t(Hc),t(Vh(r,e.isComponent)))}const SM=new Uint8Array([123,123]),xM=new Uint8Array([125,125]);function EM(e){return e>=97&&e<=122||e>=65&&e<=90}function hn(e){return e===32||e===10||e===9||e===12||e===13}function ga(e){return e===47||e===62||hn(e)}function kg(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}const cr={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let Lee=class{constructor(t,i){this.stack=t,this.cbs=i,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=SM,this.delimiterClose=xM,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=SM,this.delimiterClose=xM}getPos(t){let i=1,r=t+1;for(let n=this.newlines.length-1;n>=0;n--){const s=this.newlines[n];if(t>s){i=n+2,r=t-s;break}}return{column:r,line:i,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const i=this.index+1-this.delimiterOpen.length;i>this.sectionStart&&this.cbs.ontext(this.sectionStart,i),this.state=3,this.sectionStart=i}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const i=this.sequenceIndex===this.currentSequence.length;if(!(i?ga(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!i){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||hn(t)){const i=this.index-this.currentSequence.length;if(this.sectionStart<i){const r=this.index;this.index=i,this.cbs.ontext(this.sectionStart,i),this.index=r}this.sectionStart=i+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===cr.TitleEnd||this.currentSequence===cr.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===cr.Cdata[this.sequenceIndex]?++this.sequenceIndex===cr.Cdata.length&&(this.state=28,this.currentSequence=cr.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);if(i===10&&this.newlines.push(this.index),i===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===cr.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,i){this.enterRCDATA(t,i),this.state=31}enterRCDATA(t,i){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=i}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):EM(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){ga(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(ga(t)){const i=this.buffer.slice(this.sectionStart,this.index);i!=="template"&&this.enterRCDATA(kg("</"+i),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){hn(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=EM(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||hn(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):hn(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):hn(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||ga(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||ga(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||ga(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||ga(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||ga(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):hn(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):hn(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,i){(t===i||this.fastForwardTo(i))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(i===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){hn(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=cr.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===cr.ScriptEnd[3]?this.startSpecial(cr.ScriptEnd,4):t===cr.StyleEnd[3]?this.startSpecial(cr.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===cr.TitleEnd[3]?this.startSpecial(cr.TitleEnd,4):t===cr.TextareaEnd[3]?this.startSpecial(cr.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);switch(i===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(i);break}case 2:{this.stateInterpolationOpen(i);break}case 3:{this.stateInterpolation(i);break}case 4:{this.stateInterpolationClose(i);break}case 31:{this.stateSpecialStartSequence(i);break}case 32:{this.stateInRCDATA(i);break}case 26:{this.stateCDATASequence(i);break}case 19:{this.stateInAttrValueDoubleQuotes(i);break}case 12:{this.stateInAttrName(i);break}case 13:{this.stateInDirName(i);break}case 14:{this.stateInDirArg(i);break}case 15:{this.stateInDynamicDirArg(i);break}case 16:{this.stateInDirModifier(i);break}case 28:{this.stateInCommentLike(i);break}case 27:{this.stateInSpecialComment(i);break}case 11:{this.stateBeforeAttrName(i);break}case 6:{this.stateInTagName(i);break}case 34:{this.stateInSFCRootTagName(i);break}case 9:{this.stateInClosingTagName(i);break}case 5:{this.stateBeforeTagName(i);break}case 17:{this.stateAfterAttrName(i);break}case 20:{this.stateInAttrValueSingleQuotes(i);break}case 18:{this.stateBeforeAttrValue(i);break}case 8:{this.stateBeforeClosingTagName(i);break}case 10:{this.stateAfterClosingTagName(i);break}case 29:{this.stateBeforeSpecialS(i);break}case 30:{this.stateBeforeSpecialT(i);break}case 21:{this.stateInAttrValueNoQuotes(i);break}case 7:{this.stateInSelfClosingTag(i);break}case 23:{this.stateInDeclaration(i);break}case 22:{this.stateBeforeDeclaration(i);break}case 25:{this.stateBeforeComment(i);break}case 24:{this.stateInProcessingInstruction(i);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===cr.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,i){}};function TM(e,{compatConfig:t}){const i=t&&t[e];return e==="MODE"?i||3:i}function Tc(e,t){const i=TM("MODE",t),r=TM(e,t);return i===3?r===!0:r!==!1}function Up(e,t,i,...r){return Tc(e,t)}function o3(e){throw e}function zk(e){}function Qt(e,t,i,r){const n=`https://vuejs.org/error-reference/#compiler-${e}`,s=new SyntaxError(String(n));return s.code=e,s.loc=t,s}const en=e=>e.type===4&&e.isStatic;function qk(e){switch(e){case"Teleport":case"teleport":return zd;case"Suspense":case"suspense":return zE;case"KeepAlive":case"keep-alive":return Ng;case"BaseTransition":case"base-transition":return Dk}}const kee=/^\d|[^\$\w\xA0-\uFFFF]/,a3=e=>!kee.test(e),Ree=/[A-Za-z_$\xA0-\uFFFF]/,Dee=/[\.\?\w$\xA0-\uFFFF]/,Fee=/\s+[.[]\s*|\s*[.[]\s+/g,Wk=e=>e.type===4?e.content:e.loc.source,Uee=e=>{const t=Wk(e).trim().replace(Fee,a=>a.trim());let i=0,r=[],n=0,s=0,o=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(i){case 0:if(l==="[")r.push(i),i=1,n++;else if(l==="(")r.push(i),i=2,s++;else if(!(a===0?Ree:Dee).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(r.push(i),i=3,o=l):l==="["?n++:l==="]"&&(--n||(i=r.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")r.push(i),i=3,o=l;else if(l==="(")s++;else if(l===")"){if(a===t.length-1)return!1;--s||(i=r.pop())}break;case 3:l===o&&(i=r.pop(),o=null);break}}return!n&&!s},Hk=Uee,jee=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Gee=e=>jee.test(Wk(e)),Bee=Gee;function kn(e,t,i=!1){for(let r=0;r<e.props.length;r++){const n=e.props[r];if(n.type===7&&(i||n.exp)&&(Je(t)?n.name===t:t.test(n.name)))return n}}function bv(e,t,i=!1,r=!1){for(let n=0;n<e.props.length;n++){const s=e.props[n];if(s.type===6){if(i)continue;if(s.name===t&&(s.value||r))return s}else if(s.name==="bind"&&(s.exp||r)&&mc(s.arg,t))return s}}function mc(e,t){return!!(e&&en(e)&&e.content===t)}function Vee(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Ub(e){return e.type===5||e.type===2}function zee(e){return e.type===7&&e.name==="slot"}function Rg(e){return e.type===1&&e.tagType===3}function Dg(e){return e.type===1&&e.tagType===2}const qee=new Set([Dp,Om]);function Yk(e,t=[]){if(e&&!Je(e)&&e.type===14){const i=e.callee;if(!Je(i)&&qee.has(i))return Yk(e.arguments[0],t.concat(e))}return[e,t]}function Fg(e,t,i){let r,n=e.type===13?e.props:e.arguments[2],s=[],o;if(n&&!Je(n)&&n.type===14){const a=Yk(n);n=a[0],s=a[1],o=s[s.length-1]}if(n==null||Je(n))r=jn([t]);else if(n.type===14){const a=n.arguments[0];!Je(a)&&a.type===15?AM(t,a)||a.properties.unshift(t):n.callee===i3?r=ji(i.helper(Pg),[jn([t]),n]):n.arguments.unshift(jn([t])),!r&&(r=n)}else n.type===15?(AM(t,n)||n.properties.unshift(t),r=n):(r=ji(i.helper(Pg),[jn([t]),n]),o&&o.callee===Om&&(o=s[s.length-2]));e.type===13?o?o.arguments[0]=r:e.props=r:o?o.arguments[0]=r:e.arguments[2]=r}function AM(e,t){let i=!1;if(e.key.type===4){const r=e.key.content;i=t.properties.some(n=>n.key.type===4&&n.key.content===r)}return i}function jp(e,t){return`_${t}_${e.replace(/[^\w]/g,(i,r)=>i==="-"?"_":e.charCodeAt(r).toString())}`}function Wee(e){return e.type===14&&e.callee===n3?e.arguments[1].returns:e}const Hee=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Jk={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:bd,isPreTag:bd,isIgnoreNewlineTag:bd,isCustomElement:bd,onError:o3,onWarn:zk,comments:!1,prefixIdentifiers:!1};let bt=Jk,Gp=null,Jo="",dr=null,ct=null,Vr="",Lo=-1,oc=-1,l3=0,Ba=!1,Gw=null;const Kt=[],fi=new Lee(Kt,{onerr:To,ontext(e,t){y0(ir(e,t),e,t)},ontextentity(e,t,i){y0(e,t,i)},oninterpolation(e,t){if(Ba)return y0(ir(e,t),e,t);let i=e+fi.delimiterOpen.length,r=t-fi.delimiterClose.length;for(;hn(Jo.charCodeAt(i));)i++;for(;hn(Jo.charCodeAt(r-1));)r--;let n=ir(i,r);n.includes("&")&&(n=bt.decodeEntities(n,!1)),Bw({type:5,content:Ey(n,!1,yi(i,r)),loc:yi(e,t)})},onopentagname(e,t){const i=ir(e,t);dr={type:1,tag:i,ns:bt.getNamespace(i,Kt[0],bt.ns),tagType:0,props:[],children:[],loc:yi(e-1,t),codegenNode:void 0}},onopentagend(e){IM(e)},onclosetag(e,t){const i=ir(e,t);if(!bt.isVoidTag(i)){let r=!1;for(let n=0;n<Kt.length;n++)if(Kt[n].tag.toLowerCase()===i.toLowerCase()){r=!0,n>0&&To(24,Kt[0].loc.start.offset);for(let o=0;o<=n;o++){const a=Kt.shift();xy(a,t,o<n)}break}r||To(23,Kk(e,60))}},onselfclosingtag(e){const t=dr.tag;dr.isSelfClosing=!0,IM(e),Kt[0]&&Kt[0].tag===t&&xy(Kt.shift(),e)},onattribname(e,t){ct={type:6,name:ir(e,t),nameLoc:yi(e,t),value:void 0,loc:yi(e)}},ondirname(e,t){const i=ir(e,t),r=i==="."||i===":"?"bind":i==="@"?"on":i==="#"?"slot":i.slice(2);if(!Ba&&r===""&&To(26,e),Ba||r==="")ct={type:6,name:i,nameLoc:yi(e,t),value:void 0,loc:yi(e)};else if(ct={type:7,name:r,rawName:i,exp:void 0,arg:void 0,modifiers:i==="."?[Qe("prop")]:[],loc:yi(e)},r==="pre"){Ba=fi.inVPre=!0,Gw=dr;const n=dr.props;for(let s=0;s<n.length;s++)n[s].type===7&&(n[s]=nte(n[s]))}},ondirarg(e,t){if(e===t)return;const i=ir(e,t);if(Ba)ct.name+=i,yc(ct.nameLoc,t);else{const r=i[0]!=="[";ct.arg=Ey(r?i:i.slice(1,-1),r,yi(e,t),r?3:0)}},ondirmodifier(e,t){const i=ir(e,t);if(Ba)ct.name+="."+i,yc(ct.nameLoc,t);else if(ct.name==="slot"){const r=ct.arg;r&&(r.content+="."+i,yc(r.loc,t))}else{const r=Qe(i,!0,yi(e,t));ct.modifiers.push(r)}},onattribdata(e,t){Vr+=ir(e,t),Lo<0&&(Lo=e),oc=t},onattribentity(e,t,i){Vr+=e,Lo<0&&(Lo=t),oc=i},onattribnameend(e){const t=ct.loc.start.offset,i=ir(t,e);ct.type===7&&(ct.rawName=i),dr.props.some(r=>(r.type===7?r.rawName:r.name)===i)&&To(2,t)},onattribend(e,t){if(dr&&ct){if(yc(ct.loc,t),e!==0)if(Vr.includes("&")&&(Vr=bt.decodeEntities(Vr,!0)),ct.type===6)ct.name==="class"&&(Vr=Xk(Vr).trim()),e===1&&!Vr&&To(13,t),ct.value={type:2,content:Vr,loc:e===1?yi(Lo,oc):yi(Lo-1,oc+1)},fi.inSFCRoot&&dr.tag==="template"&&ct.name==="lang"&&Vr&&Vr!=="html"&&fi.enterRCDATA(kg("</template"),0);else{let i=0;ct.exp=Ey(Vr,!1,yi(Lo,oc),0,i),ct.name==="for"&&(ct.forParseResult=Jee(ct.exp));let r=-1;ct.name==="bind"&&(r=ct.modifiers.findIndex(n=>n.content==="sync"))>-1&&Up("COMPILER_V_BIND_SYNC",bt,ct.loc,ct.rawName)&&(ct.name="model",ct.modifiers.splice(r,1))}(ct.type!==7||ct.name!=="pre")&&dr.props.push(ct)}Vr="",Lo=oc=-1},oncomment(e,t){bt.comments&&Bw({type:3,content:ir(e,t),loc:yi(e-4,t+3)})},onend(){const e=Jo.length;for(let t=0;t<Kt.length;t++)xy(Kt[t],e-1),To(24,Kt[t].loc.start.offset)},oncdata(e,t){Kt[0].ns!==0?y0(ir(e,t),e,t):To(1,e-9)},onprocessinginstruction(e){(Kt[0]?Kt[0].ns:bt.ns)===0&&To(21,e-1)}}),MM=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Yee=/^\(|\)$/g;function Jee(e){const t=e.loc,i=e.content,r=i.match(Hee);if(!r)return;const[,n,s]=r,o=(d,p,y=!1)=>{const v=t.start.offset+p,_=v+d.length;return Ey(d,!1,yi(v,_),0,y?1:0)},a={source:o(s.trim(),i.indexOf(s,n.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=n.trim().replace(Yee,"").trim();const c=n.indexOf(l),f=l.match(MM);if(f){l=l.replace(MM,"").trim();const d=f[1].trim();let p;if(d&&(p=i.indexOf(d,c+l.length),a.key=o(d,p,!0)),f[2]){const y=f[2].trim();y&&(a.index=o(y,i.indexOf(y,a.key?p+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function ir(e,t){return Jo.slice(e,t)}function IM(e){fi.inSFCRoot&&(dr.innerLoc=yi(e+1,e+1)),Bw(dr);const{tag:t,ns:i}=dr;i===0&&bt.isPreTag(t)&&l3++,bt.isVoidTag(t)?xy(dr,e):(Kt.unshift(dr),(i===1||i===2)&&(fi.inXML=!0)),dr=null}function y0(e,t,i){{const s=Kt[0]&&Kt[0].tag;s!=="script"&&s!=="style"&&e.includes("&")&&(e=bt.decodeEntities(e,!1))}const r=Kt[0]||Gp,n=r.children[r.children.length-1];n&&n.type===2?(n.content+=e,yc(n.loc,i)):r.children.push({type:2,content:e,loc:yi(t,i)})}function xy(e,t,i=!1){i?yc(e.loc,Kk(t,60)):yc(e.loc,Kee(t,62)+1),fi.inSFCRoot&&(e.children.length?e.innerLoc.end=st({},e.children[e.children.length-1].loc.end):e.innerLoc.end=st({},e.innerLoc.start),e.innerLoc.source=ir(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:r,ns:n,children:s}=e;if(Ba||(r==="slot"?e.tagType=2:OM(e)?e.tagType=3:Xee(e)&&(e.tagType=1)),fi.inRCDATA||(e.children=Zk(s)),n===0&&bt.isIgnoreNewlineTag(r)){const o=s[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}n===0&&bt.isPreTag(r)&&l3--,Gw===e&&(Ba=fi.inVPre=!1,Gw=null),fi.inXML&&(Kt[0]?Kt[0].ns:bt.ns)===0&&(fi.inXML=!1);{const o=e.props;if(!fi.inSFCRoot&&Tc("COMPILER_NATIVE_TEMPLATE",bt)&&e.tag==="template"&&!OM(e)){const l=Kt[0]||Gp,c=l.children.indexOf(e);l.children.splice(c,1,...e.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&Up("COMPILER_INLINE_TEMPLATE",bt,a.loc)&&e.children.length&&(a.value={type:2,content:ir(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function Kee(e,t){let i=e;for(;Jo.charCodeAt(i)!==t&&i<Jo.length-1;)i++;return i}function Kk(e,t){let i=e;for(;Jo.charCodeAt(i)!==t&&i>=0;)i--;return i}const Zee=new Set(["if","else","else-if","for","slot"]);function OM({tag:e,props:t}){if(e==="template"){for(let i=0;i<t.length;i++)if(t[i].type===7&&Zee.has(t[i].name))return!0}return!1}function Xee({tag:e,props:t}){if(bt.isCustomElement(e))return!1;if(e==="component"||Qee(e.charCodeAt(0))||qk(e)||bt.isBuiltInComponent&&bt.isBuiltInComponent(e)||bt.isNativeTag&&!bt.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const r=t[i];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(Up("COMPILER_IS_ON_ELEMENT",bt,r.loc))return!0}}else if(r.name==="bind"&&mc(r.arg,"is")&&Up("COMPILER_IS_ON_ELEMENT",bt,r.loc))return!0}return!1}function Qee(e){return e>64&&e<91}const ete=/\r\n/g;function Zk(e,t){const i=bt.whitespace!=="preserve";let r=!1;for(let n=0;n<e.length;n++){const s=e[n];if(s.type===2)if(l3)s.content=s.content.replace(ete,`
`);else if(tte(s.content)){const o=e[n-1]&&e[n-1].type,a=e[n+1]&&e[n+1].type;!o||!a||i&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&ite(s.content)))?(r=!0,e[n]=null):s.content=" "}else i&&(s.content=Xk(s.content))}return r?e.filter(Boolean):e}function tte(e){for(let t=0;t<e.length;t++)if(!hn(e.charCodeAt(t)))return!1;return!0}function ite(e){for(let t=0;t<e.length;t++){const i=e.charCodeAt(t);if(i===10||i===13)return!0}return!1}function Xk(e){let t="",i=!1;for(let r=0;r<e.length;r++)hn(e.charCodeAt(r))?i||(t+=" ",i=!0):(t+=e[r],i=!1);return t}function Bw(e){(Kt[0]||Gp).children.push(e)}function yi(e,t){return{start:fi.getPos(e),end:t==null?t:fi.getPos(t),source:t==null?t:ir(e,t)}}function rte(e){return yi(e.start.offset,e.end.offset)}function yc(e,t){e.end=fi.getPos(t),e.source=ir(e.start.offset,t)}function nte(e){const t={type:6,name:e.rawName,nameLoc:yi(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const i=e.exp.loc;i.end.offset<e.loc.end.offset&&(i.start.offset--,i.start.column--,i.end.offset++,i.end.column++),t.value={type:2,content:e.exp.content,loc:i}}return t}function Ey(e,t=!1,i,r=0,n=0){return Qe(e,t,i,r)}function To(e,t,i){bt.onError(Qt(e,yi(t,t)))}function ste(){fi.reset(),dr=null,ct=null,Vr="",Lo=-1,oc=-1,Kt.length=0}function ote(e,t){if(ste(),Jo=e,bt=st({},Jk),t){let n;for(n in t)t[n]!=null&&(bt[n]=t[n])}fi.mode=bt.parseMode==="html"?1:bt.parseMode==="sfc"?2:0,fi.inXML=bt.ns===1||bt.ns===2;const i=t&&t.delimiters;i&&(fi.delimiterOpen=kg(i[0]),fi.delimiterClose=kg(i[1]));const r=Gp=Cee([],e);return fi.parse(Jo),r.loc=yi(0,e.length),r.children=Zk(r.children),Gp=null,r}function ate(e,t){Ty(e,void 0,t,Qk(e,e.children[0]))}function Qk(e,t){const{children:i}=e;return i.length===1&&t.type===1&&!Dg(t)}function Ty(e,t,i,r=!1,n=!1){const{children:s}=e,o=[];for(let f=0;f<s.length;f++){const d=s[f];if(d.type===1&&d.tagType===0){const p=r?0:pn(d,i);if(p>0){if(p>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const v=y.patchFlag;if((v===void 0||v===512||v===1)&&t8(d,i)>=2){const _=i8(d);_&&(y.props=i.hoist(_))}y.dynamicProps&&(y.dynamicProps=i.hoist(y.dynamicProps))}}}else if(d.type===12&&(r?0:pn(d,i))>=2){o.push(d);continue}if(d.type===1){const p=d.tagType===1;p&&i.scopes.vSlot++,Ty(d,e,i,!1,n),p&&i.scopes.vSlot--}else if(d.type===11)Ty(d,e,i,d.children.length===1,!0);else if(d.type===9)for(let p=0;p<d.branches.length;p++)Ty(d.branches[p],e,i,d.branches[p].children.length===1,n)}let a=!1;if(o.length===s.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Ee(e.codegenNode.children))e.codegenNode.children=l(Ec(e.codegenNode.children)),a=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Ee(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=c(e.codegenNode,"default");f&&(f.returns=l(Ec(f.returns)),a=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Ee(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=kn(e,"slot",!0),d=f&&f.arg&&c(t.codegenNode,f.arg);d&&(d.returns=l(Ec(d.returns)),a=!0)}}if(!a)for(const f of o)f.codegenNode=i.cache(f.codegenNode);function l(f){const d=i.cache(f);return n&&i.hmr&&(d.needArraySpread=!0),d}function c(f,d){if(f.children&&!Ee(f.children)&&f.children.type===15){const p=f.children.properties.find(y=>y.key===d||y.key.content===d);return p&&p.value}}o.length&&i.transformHoist&&i.transformHoist(s,i,e)}function pn(e,t){const{constantCache:i}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=i.get(e);if(r!==void 0)return r;const n=e.codegenNode;if(n.type!==13||n.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(n.patchFlag===void 0){let o=3;const a=t8(e,t);if(a===0)return i.set(e,0),0;a<o&&(o=a);for(let l=0;l<e.children.length;l++){const c=pn(e.children[l],t);if(c===0)return i.set(e,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const f=pn(c.exp,t);if(f===0)return i.set(e,0),0;f<o&&(o=f)}}if(n.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return i.set(e,0),0;t.removeHelper(Hc),t.removeHelper(Vh(t.inSSR,n.isComponent)),n.isBlock=!1,t.helper(Bh(t.inSSR,n.isComponent))}return i.set(e,o),o}else return i.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return pn(e.content,t);case 4:return e.constType;case 8:let s=3;for(let o=0;o<e.children.length;o++){const a=e.children[o];if(Je(a)||an(a))continue;const l=pn(a,t);if(l===0)return 0;l<s&&(s=l)}return s;case 20:return 2;default:return 0}}const lte=new Set([e3,t3,Dp,Om]);function e8(e,t){if(e.type===14&&!Je(e.callee)&&lte.has(e.callee)){const i=e.arguments[0];if(i.type===4)return pn(i,t);if(i.type===14)return e8(i,t)}return 0}function t8(e,t){let i=3;const r=i8(e);if(r&&r.type===15){const{properties:n}=r;for(let s=0;s<n.length;s++){const{key:o,value:a}=n[s],l=pn(o,t);if(l===0)return l;l<i&&(i=l);let c;if(a.type===4?c=pn(a,t):a.type===14?c=e8(a,t):c=0,c===0)return c;c<i&&(i=c)}}return i}function i8(e){const t=e.codegenNode;if(t.type===13)return t.props}function cte(e,{filename:t="",prefixIdentifiers:i=!1,hoistStatic:r=!1,hmr:n=!1,cacheHandlers:s=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=sr,isCustomElement:f=sr,expressionPlugins:d=[],scopeId:p=null,slotted:y=!0,ssr:v=!1,inSSR:_=!1,ssrCssVars:E="",bindingMetadata:x=nt,inline:A=!1,isTS:w=!1,onError:b=o3,onWarn:M=zk,compatConfig:I}){const C=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),P={filename:t,selfName:C&&bl(Bt(C[1])),prefixIdentifiers:i,hoistStatic:r,hmr:n,cacheHandlers:s,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:f,expressionPlugins:d,scopeId:p,slotted:y,ssr:v,inSSR:_,ssrCssVars:E,bindingMetadata:x,inline:A,isTS:w,onError:b,onWarn:M,compatConfig:I,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(N){const U=P.helpers.get(N)||0;return P.helpers.set(N,U+1),N},removeHelper(N){const U=P.helpers.get(N);if(U){const j=U-1;j?P.helpers.set(N,j):P.helpers.delete(N)}},helperString(N){return`_${jh[P.helper(N)]}`},replaceNode(N){P.parent.children[P.childIndex]=P.currentNode=N},removeNode(N){const U=P.parent.children,j=N?U.indexOf(N):P.currentNode?P.childIndex:-1;!N||N===P.currentNode?(P.currentNode=null,P.onNodeRemoved()):P.childIndex>j&&(P.childIndex--,P.onNodeRemoved()),P.parent.children.splice(j,1)},onNodeRemoved:sr,addIdentifiers(N){},removeIdentifiers(N){},hoist(N){Je(N)&&(N=Qe(N)),P.hoists.push(N);const U=Qe(`_hoisted_${P.hoists.length}`,!1,N.loc,2);return U.hoisted=N,U},cache(N,U=!1,j=!1){const F=Nee(P.cached.length,N,U,j);return P.cached.push(F),F}};return P.filters=new Set,P}function ute(e,t){const i=cte(e,t);_v(e,i),t.hoistStatic&&ate(e,i),t.ssr||hte(e,i),e.helpers=new Set([...i.helpers.keys()]),e.components=[...i.components],e.directives=[...i.directives],e.imports=i.imports,e.hoists=i.hoists,e.temps=i.temps,e.cached=i.cached,e.transformed=!0,e.filters=[...i.filters]}function hte(e,t){const{helper:i}=t,{children:r}=e;if(r.length===1){const n=r[0];if(Qk(e,n)&&n.codegenNode){const s=n.codegenNode;s.type===13&&s3(s,t),e.codegenNode=s}else e.codegenNode=n}else if(r.length>1){let n=64;e.codegenNode=Fp(t,i(Rp),void 0,e.children,n,void 0,void 0,!0,void 0,!1)}}function fte(e,t){let i=0;const r=()=>{i--};for(;i<e.children.length;i++){const n=e.children[i];Je(n)||(t.grandParent=t.parent,t.parent=e,t.childIndex=i,t.onNodeRemoved=r,_v(n,t))}}function _v(e,t){t.currentNode=e;const{nodeTransforms:i}=t,r=[];for(let s=0;s<i.length;s++){const o=i[s](e,t);if(o&&(Ee(o)?r.push(...o):r.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Im);break;case 5:t.ssr||t.helper(vv);break;case 9:for(let s=0;s<e.branches.length;s++)_v(e.branches[s],t);break;case 10:case 11:case 1:case 0:fte(e,t);break}t.currentNode=e;let n=r.length;for(;n--;)r[n]()}function r8(e,t){const i=Je(e)?r=>r===e:r=>e.test(r);return(r,n)=>{if(r.type===1){const{props:s}=r;if(r.tagType===3&&s.some(zee))return;const o=[];for(let a=0;a<s.length;a++){const l=s[a];if(l.type===7&&i(l.name)){s.splice(a,1),a--;const c=t(r,l,n);c&&o.push(c)}}return o}}}const wv="/*@__PURE__*/",n8=e=>`${jh[e]}: _${jh[e]}`;function dte(e,{mode:t="function",prefixIdentifiers:i=t==="module",sourceMap:r=!1,filename:n="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:f=!1,isTS:d=!1,inSSR:p=!1}){const y={mode:t,prefixIdentifiers:i,sourceMap:r,filename:n,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:f,isTS:d,inSSR:p,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(_){return`_${jh[_]}`},push(_,E=-2,x){y.code+=_},indent(){v(++y.indentLevel)},deindent(_=!1){_?--y.indentLevel:v(--y.indentLevel)},newline(){v(y.indentLevel)}};function v(_){y.push(`
`+"  ".repeat(_),0)}return y}function pte(e,t={}){const i=dte(e,t);t.onContextCreated&&t.onContextCreated(i);const{mode:r,push:n,prefixIdentifiers:s,indent:o,deindent:a,newline:l,scopeId:c,ssr:f}=i,d=Array.from(e.helpers),p=d.length>0,y=!s&&r!=="module";mte(e,i);const _=f?"ssrRender":"render",x=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(n(`function ${_}(${x}) {`),o(),y&&(n("with (_ctx) {"),o(),p&&(n(`const { ${d.map(n8).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(jb(e.components,"component",i),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(jb(e.directives,"directive",i),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),jb(e.filters,"filter",i),l()),e.temps>0){n("let ");for(let A=0;A<e.temps;A++)n(`${A>0?", ":""}_temp${A}`)}return(e.components.length||e.directives.length||e.temps)&&(n(`
`,0),l()),f||n("return "),e.codegenNode?xr(e.codegenNode,i):n("null"),y&&(a(),n("}")),a(),n("}"),{ast:e,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function mte(e,t){const{ssr:i,prefixIdentifiers:r,push:n,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,f=Array.from(e.helpers);if(f.length>0&&(n(`const _Vue = ${c}
`,-1),e.hoists.length)){const d=[qE,WE,Im,HE,jk].filter(p=>f.includes(p)).map(n8).join(", ");n(`const { ${d} } = _Vue
`,-1)}yte(e.hoists,t),s(),n("return ")}function jb(e,t,{helper:i,push:r,newline:n,isTS:s}){const o=i(t==="filter"?ZE:t==="component"?YE:KE);for(let a=0;a<e.length;a++){let l=e[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),r(`const ${jp(l,t)} = ${o}(${JSON.stringify(l)}${c?", true":""})${s?"!":""}`),a<e.length-1&&n()}}function yte(e,t){if(!e.length)return;t.pure=!0;const{push:i,newline:r}=t;r();for(let n=0;n<e.length;n++){const s=e[n];s&&(i(`const _hoisted_${n+1} = `),xr(s,t),r())}t.pure=!1}function c3(e,t){const i=e.length>3||!1;t.push("["),i&&t.indent(),$m(e,t,i),i&&t.deindent(),t.push("]")}function $m(e,t,i=!1,r=!0){const{push:n,newline:s}=t;for(let o=0;o<e.length;o++){const a=e[o];Je(a)?n(a,-3):Ee(a)?c3(a,t):xr(a,t),o<e.length-1&&(i?(r&&n(","),s()):r&&n(", "))}}function xr(e,t){if(Je(e)){t.push(e,-3);return}if(an(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:xr(e.codegenNode,t);break;case 2:gte(e,t);break;case 4:s8(e,t);break;case 5:vte(e,t);break;case 12:xr(e.codegenNode,t);break;case 8:o8(e,t);break;case 3:_te(e,t);break;case 13:wte(e,t);break;case 14:xte(e,t);break;case 15:Ete(e,t);break;case 17:Tte(e,t);break;case 18:Ate(e,t);break;case 19:Mte(e,t);break;case 20:Ite(e,t);break;case 21:$m(e.body,t,!0,!1);break}}function gte(e,t){t.push(JSON.stringify(e.content),-3,e)}function s8(e,t){const{content:i,isStatic:r}=e;t.push(r?JSON.stringify(i):i,-3,e)}function vte(e,t){const{push:i,helper:r,pure:n}=t;n&&i(wv),i(`${r(vv)}(`),xr(e.content,t),i(")")}function o8(e,t){for(let i=0;i<e.children.length;i++){const r=e.children[i];Je(r)?t.push(r,-3):xr(r,t)}}function bte(e,t){const{push:i}=t;if(e.type===8)i("["),o8(e,t),i("]");else if(e.isStatic){const r=a3(e.content)?e.content:JSON.stringify(e.content);i(r,-2,e)}else i(`[${e.content}]`,-3,e)}function _te(e,t){const{push:i,helper:r,pure:n}=t;n&&i(wv),i(`${r(Im)}(${JSON.stringify(e.content)})`,-3,e)}function wte(e,t){const{push:i,helper:r,pure:n}=t,{tag:s,props:o,children:a,patchFlag:l,dynamicProps:c,directives:f,isBlock:d,disableTracking:p,isComponent:y}=e;let v;l&&(v=String(l)),f&&i(r(XE)+"("),d&&i(`(${r(Hc)}(${p?"true":""}), `),n&&i(wv);const _=d?Vh(t.inSSR,y):Bh(t.inSSR,y);i(r(_)+"(",-2,e),$m(Ste([s,o,a,v,c]),t),i(")"),d&&i(")"),f&&(i(", "),xr(f,t),i(")"))}function Ste(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(i=>i||"null")}function xte(e,t){const{push:i,helper:r,pure:n}=t,s=Je(e.callee)?e.callee:r(e.callee);n&&i(wv),i(s+"(",-2,e),$m(e.arguments,t),i(")")}function Ete(e,t){const{push:i,indent:r,deindent:n,newline:s}=t,{properties:o}=e;if(!o.length){i("{}",-2,e);return}const a=o.length>1||!1;i(a?"{":"{ "),a&&r();for(let l=0;l<o.length;l++){const{key:c,value:f}=o[l];bte(c,t),i(": "),xr(f,t),l<o.length-1&&(i(","),s())}a&&n(),i(a?"}":" }")}function Tte(e,t){c3(e.elements,t)}function Ate(e,t){const{push:i,indent:r,deindent:n}=t,{params:s,returns:o,body:a,newline:l,isSlot:c}=e;c&&i(`_${jh[r3]}(`),i("(",-2,e),Ee(s)?$m(s,t):s&&xr(s,t),i(") => "),(l||a)&&(i("{"),r()),o?(l&&i("return "),Ee(o)?c3(o,t):xr(o,t)):a&&xr(a,t),(l||a)&&(n(),i("}")),c&&(e.isNonScopedSlot&&i(", undefined, true"),i(")"))}function Mte(e,t){const{test:i,consequent:r,alternate:n,newline:s}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(i.type===4){const d=!a3(i.content);d&&o("("),s8(i,t),d&&o(")")}else o("("),xr(i,t),o(")");s&&a(),t.indentLevel++,s||o(" "),o("? "),xr(r,t),t.indentLevel--,s&&c(),s||o(" "),o(": ");const f=n.type===19;f||t.indentLevel++,xr(n,t),f||t.indentLevel--,s&&l(!0)}function Ite(e,t){const{push:i,helper:r,indent:n,deindent:s,newline:o}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&i("[...("),i(`_cache[${e.index}] || (`),a&&(n(),i(`${r(Lg)}(-1`),e.inVOnce&&i(", true"),i("),"),o(),i("(")),i(`_cache[${e.index}] = `),xr(e.value,t),a&&(i(`).cacheIndex = ${e.index},`),o(),i(`${r(Lg)}(1),`),o(),i(`_cache[${e.index}]`),s()),i(")"),l&&i(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Ote=r8(/^(if|else|else-if)$/,(e,t,i)=>$te(e,t,i,(r,n,s)=>{const o=i.parent.children;let a=o.indexOf(r),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(s)r.codegenNode=CM(n,l,i);else{const c=Cte(r.codegenNode);c.alternate=CM(n,l+r.branches.length-1,i)}}}));function $te(e,t,i,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const n=t.exp?t.exp.loc:e.loc;i.onError(Qt(28,t.loc)),t.exp=Qe("true",!1,n)}if(t.name==="if"){const n=$M(e,t),s={type:9,loc:rte(e.loc),branches:[n]};if(i.replaceNode(s),r)return r(s,n,!0)}else{const n=i.parent.children;let s=n.indexOf(e);for(;s-->=-1;){const o=n[s];if(o&&o.type===3){i.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){i.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&i.onError(Qt(30,e.loc)),i.removeNode();const a=$M(e,t);o.branches.push(a);const l=r&&r(o,a,!1);_v(a,i),l&&l(),i.currentNode=null}else i.onError(Qt(30,e.loc));break}}}function $M(e,t){const i=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:i&&!kn(e,"for")?e.children:[e],userKey:bv(e,"key"),isTemplateIf:i}}function CM(e,t,i){return e.condition?jw(e.condition,NM(e,t,i),ji(i.helper(Im),['""',"true"])):NM(e,t,i)}function NM(e,t,i){const{helper:r}=i,n=Si("key",Qe(`${t}`,!1,xn,2)),{children:s}=e,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const l=o.codegenNode;return Fg(l,n,i),l}else return Fp(i,r(Rp),jn([n]),s,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=o.codegenNode,c=Wee(l);return c.type===13&&s3(c,i),Fg(c,n,i),l}}function Cte(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const Nte=(e,t,i)=>{const{modifiers:r,loc:n}=e,s=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(s.type!==4||!s.isStatic)return i.onError(Qt(52,s.loc)),{props:[Si(s,Qe("",!0,n))]};a8(e),o=e.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),r.some(a=>a.content==="camel")&&(s.type===4?s.isStatic?s.content=Bt(s.content):s.content=`${i.helperString(Fw)}(${s.content})`:(s.children.unshift(`${i.helperString(Fw)}(`),s.children.push(")"))),i.inSSR||(r.some(a=>a.content==="prop")&&PM(s,"."),r.some(a=>a.content==="attr")&&PM(s,"^")),{props:[Si(s,o)]}},a8=(e,t)=>{const i=e.arg,r=Bt(i.content);e.exp=Qe(r,!1,i.loc)},PM=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Pte=r8("for",(e,t,i)=>{const{helper:r,removeHelper:n}=i;return Lte(e,t,i,s=>{const o=ji(r(QE),[s.source]),a=Rg(e),l=kn(e,"memo"),c=bv(e,"key",!1,!0);c&&c.type===7&&!c.exp&&a8(c);let d=c&&(c.type===6?c.value?Qe(c.value.content,!0):void 0:c.exp);const p=c&&d?Si("key",d):null,y=s.source.type===4&&s.source.constType>0,v=y?64:c?128:256;return s.codegenNode=Fp(i,r(Rp),void 0,o,v,void 0,void 0,!0,!y,!1,e.loc),()=>{let _;const{children:E}=s,x=E.length!==1||E[0].type!==1,A=Dg(e)?e:a&&e.children.length===1&&Dg(e.children[0])?e.children[0]:null;if(A?(_=A.codegenNode,a&&p&&Fg(_,p,i)):x?_=Fp(i,r(Rp),p?jn([p]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(_=E[0].codegenNode,a&&p&&Fg(_,p,i),_.isBlock!==!y&&(_.isBlock?(n(Hc),n(Vh(i.inSSR,_.isComponent))):n(Bh(i.inSSR,_.isComponent))),_.isBlock=!y,_.isBlock?(r(Hc),r(Vh(i.inSSR,_.isComponent))):r(Bh(i.inSSR,_.isComponent))),l){const w=Gh(Vw(s.parseResult,[Qe("_cached")]));w.body=Pee([gs(["const _memo = (",l.exp,")"]),gs(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${i.helperString(Vk)}(_cached, _memo)) return _cached`]),gs(["const _item = ",_]),Qe("_item.memo = _memo"),Qe("return _item")]),o.arguments.push(w,Qe("_cache"),Qe(String(i.cached.length))),i.cached.push(null)}else o.arguments.push(Gh(Vw(s.parseResult),_,!0))}})});function Lte(e,t,i,r){if(!t.exp){i.onError(Qt(31,t.loc));return}const n=t.forParseResult;if(!n){i.onError(Qt(32,t.loc));return}l8(n);const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=i,{source:l,value:c,key:f,index:d}=n,p={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:f,objectIndexAlias:d,parseResult:n,children:Rg(e)?e.children:[e]};i.replaceNode(p),a.vFor++;const y=r&&r(p);return()=>{a.vFor--,y&&y()}}function l8(e,t){e.finalized||(e.finalized=!0)}function Vw({value:e,key:t,index:i},r=[]){return kte([e,t,i,...r])}function kte(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((i,r)=>i||Qe("_".repeat(r+1),!1))}const LM=Qe("undefined",!1),Rte=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const i=kn(e,"slot");if(i)return i.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Dte=(e,t,i,r)=>Gh(e,i,!1,!0,i.length?i[0].loc:r);function Fte(e,t,i=Dte){t.helper(r3);const{children:r,loc:n}=e,s=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=kn(e,"slot",!0);if(l){const{arg:E,exp:x}=l;E&&!en(E)&&(a=!0),s.push(Si(E||Qe("default",!0),i(x,void 0,r,n)))}let c=!1,f=!1;const d=[],p=new Set;let y=0;for(let E=0;E<r.length;E++){const x=r[E];let A;if(!Rg(x)||!(A=kn(x,"slot",!0))){x.type!==3&&d.push(x);continue}if(l){t.onError(Qt(37,A.loc));break}c=!0;const{children:w,loc:b}=x,{arg:M=Qe("default",!0),exp:I,loc:C}=A;let P;en(M)?P=M?M.content:"default":a=!0;const N=kn(x,"for"),U=i(I,N,w,b);let j,F;if(j=kn(x,"if"))a=!0,o.push(jw(j.exp,g0(M,U,y++),LM));else if(F=kn(x,/^else(-if)?$/,!0)){let q=E,te;for(;q--&&(te=r[q],te.type===3););if(te&&Rg(te)&&kn(te,/^(else-)?if$/)){let h=o[o.length-1];for(;h.alternate.type===19;)h=h.alternate;h.alternate=F.exp?jw(F.exp,g0(M,U,y++),LM):g0(M,U,y++)}else t.onError(Qt(30,F.loc))}else if(N){a=!0;const q=N.forParseResult;q?(l8(q),o.push(ji(t.helper(QE),[q.source,Gh(Vw(q),g0(M,U),!0)]))):t.onError(Qt(32,N.loc))}else{if(P){if(p.has(P)){t.onError(Qt(38,C));continue}p.add(P),P==="default"&&(f=!0)}s.push(Si(M,U))}}if(!l){const E=(x,A)=>{const w=i(x,void 0,A,n);return t.compatConfig&&(w.isNonScopedSlot=!0),Si("default",w)};c?d.length&&d.some(x=>c8(x))&&(f?t.onError(Qt(39,d[0].loc)):s.push(E(void 0,d))):s.push(E(void 0,r))}const v=a?2:Ay(e.children)?3:1;let _=jn(s.concat(Si("_",Qe(v+"",!1))),n);return o.length&&(_=ji(t.helper(Bk),[_,Ec(o)])),{slots:_,hasDynamicSlots:a}}function g0(e,t,i){const r=[Si("name",e),Si("fn",t)];return i!=null&&r.push(Si("key",Qe(String(i),!0))),jn(r)}function Ay(e){for(let t=0;t<e.length;t++){const i=e[t];switch(i.type){case 1:if(i.tagType===2||Ay(i.children))return!0;break;case 9:if(Ay(i.branches))return!0;break;case 10:case 11:if(Ay(i.children))return!0;break}}return!1}function c8(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():c8(e.content)}const u8=new WeakMap,Ute=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:n}=e,s=e.tagType===1;let o=s?jte(e,t):`"${r}"`;const a=Mt(o)&&o.callee===JE;let l,c,f=0,d,p,y,v=a||o===zd||o===zE||!s&&(r==="svg"||r==="foreignObject"||r==="math");if(n.length>0){const _=h8(e,t,void 0,s,a);l=_.props,f=_.patchFlag,p=_.dynamicPropNames;const E=_.directives;y=E&&E.length?Ec(E.map(x=>Bte(x,t))):void 0,_.shouldUseBlock&&(v=!0)}if(e.children.length>0)if(o===Ng&&(v=!0,f|=1024),s&&o!==zd&&o!==Ng){const{slots:E,hasDynamicSlots:x}=Fte(e,t);c=E,x&&(f|=1024)}else if(e.children.length===1&&o!==zd){const E=e.children[0],x=E.type,A=x===5||x===8;A&&pn(E,t)===0&&(f|=1),A||x===2?c=E:c=e.children}else c=e.children;p&&p.length&&(d=Vte(p)),e.codegenNode=Fp(t,o,l,c,f===0?void 0:f,d,y,!!v,!1,s,e.loc)};function jte(e,t,i=!1){let{tag:r}=e;const n=zw(r),s=bv(e,"is",!1,!0);if(s)if(n||Tc("COMPILER_IS_ON_ELEMENT",t)){let a;if(s.type===6?a=s.value&&Qe(s.value.content,!0):(a=s.exp,a||(a=Qe("is",!1,s.arg.loc))),a)return ji(t.helper(JE),[a])}else s.type===6&&s.value.content.startsWith("vue:")&&(r=s.value.content.slice(4));const o=qk(r)||t.isBuiltInComponent(r);return o?(i||t.helper(o),o):(t.helper(YE),t.components.add(r),jp(r,"component"))}function h8(e,t,i=e.props,r,n,s=!1){const{tag:o,loc:a,children:l}=e;let c=[];const f=[],d=[],p=l.length>0;let y=!1,v=0,_=!1,E=!1,x=!1,A=!1,w=!1,b=!1;const M=[],I=U=>{c.length&&(f.push(jn(kM(c),a)),c=[]),U&&f.push(U)},C=()=>{t.scopes.vFor>0&&c.push(Si(Qe("ref_for",!0),Qe("true")))},P=({key:U,value:j})=>{if(en(U)){const F=U.content,q=lu(F);if(q&&(!r||n)&&F.toLowerCase()!=="onclick"&&F!=="onUpdate:modelValue"&&!rl(F)&&(A=!0),q&&rl(F)&&(b=!0),q&&j.type===14&&(j=j.arguments[0]),j.type===20||(j.type===4||j.type===8)&&pn(j,t)>0)return;F==="ref"?_=!0:F==="class"?E=!0:F==="style"?x=!0:F!=="key"&&!M.includes(F)&&M.push(F),r&&(F==="class"||F==="style")&&!M.includes(F)&&M.push(F)}else w=!0};for(let U=0;U<i.length;U++){const j=i[U];if(j.type===6){const{loc:F,name:q,nameLoc:te,value:h}=j;let m=!0;if(q==="ref"&&(_=!0,C()),q==="is"&&(zw(o)||h&&h.content.startsWith("vue:")||Tc("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(Si(Qe(q,!0,te),Qe(h?h.content:"",m,h?h.loc:F)))}else{const{name:F,arg:q,exp:te,loc:h,modifiers:m}=j,S=F==="bind",$=F==="on";if(F==="slot"){r||t.onError(Qt(40,h));continue}if(F==="once"||F==="memo"||F==="is"||S&&mc(q,"is")&&(zw(o)||Tc("COMPILER_IS_ON_ELEMENT",t))||$&&s)continue;if((S&&mc(q,"key")||$&&p&&mc(q,"vue:before-update"))&&(y=!0),S&&mc(q,"ref")&&C(),!q&&(S||$)){if(w=!0,te)if(S){if(C(),I(),Tc("COMPILER_V_BIND_OBJECT_ORDER",t)){f.unshift(te);continue}f.push(te)}else I({type:14,loc:h,callee:t.helper(i3),arguments:r?[te]:[te,"true"]});else t.onError(Qt(S?34:35,h));continue}S&&m.some(Y=>Y.content==="prop")&&(v|=32);const B=t.directiveTransforms[F];if(B){const{props:Y,needRuntime:pe}=B(j,e,t);!s&&Y.forEach(P),$&&q&&!en(q)?I(jn(Y,a)):c.push(...Y),pe&&(d.push(j),an(pe)&&u8.set(j,pe))}else tX(F)||(d.push(j),p&&(y=!0))}}let N;if(f.length?(I(),f.length>1?N=ji(t.helper(Pg),f,a):N=f[0]):c.length&&(N=jn(kM(c),a)),w?v|=16:(E&&!r&&(v|=2),x&&!r&&(v|=4),M.length&&(v|=8),A&&(v|=32)),!y&&(v===0||v===32)&&(_||b||d.length>0)&&(v|=512),!t.inSSR&&N)switch(N.type){case 15:let U=-1,j=-1,F=!1;for(let h=0;h<N.properties.length;h++){const m=N.properties[h].key;en(m)?m.content==="class"?U=h:m.content==="style"&&(j=h):m.isHandlerKey||(F=!0)}const q=N.properties[U],te=N.properties[j];F?N=ji(t.helper(Dp),[N]):(q&&!en(q.value)&&(q.value=ji(t.helper(e3),[q.value])),te&&(x||te.value.type===4&&te.value.content.trim()[0]==="["||te.value.type===17)&&(te.value=ji(t.helper(t3),[te.value])));break;case 14:break;default:N=ji(t.helper(Dp),[ji(t.helper(Om),[N])]);break}return{props:N,directives:d,patchFlag:v,dynamicPropNames:M,shouldUseBlock:y}}function kM(e){const t=new Map,i=[];for(let r=0;r<e.length;r++){const n=e[r];if(n.key.type===8||!n.key.isStatic){i.push(n);continue}const s=n.key.content,o=t.get(s);o?(s==="style"||s==="class"||lu(s))&&Gte(o,n):(t.set(s,n),i.push(n))}return i}function Gte(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Ec([e.value,t.value],e.loc)}function Bte(e,t){const i=[],r=u8.get(e);r?i.push(t.helperString(r)):(t.helper(KE),t.directives.add(e.name),i.push(jp(e.name,"directive")));const{loc:n}=e;if(e.exp&&i.push(e.exp),e.arg&&(e.exp||i.push("void 0"),i.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||i.push("void 0"),i.push("void 0"));const s=Qe("true",!1,n);i.push(jn(e.modifiers.map(o=>Si(o,s)),n))}return Ec(i,e.loc)}function Vte(e){let t="[";for(let i=0,r=e.length;i<r;i++)t+=JSON.stringify(e[i]),i<r-1&&(t+=", ");return t+"]"}function zw(e){return e==="component"||e==="Component"}const zte=(e,t)=>{if(Dg(e)){const{children:i,loc:r}=e,{slotName:n,slotProps:s}=qte(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",n,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),i.length&&(o[3]=Gh([],i,!1,!1,r),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=ji(t.helper(Gk),o,r)}};function qte(e,t){let i='"default"',r;const n=[];for(let s=0;s<e.props.length;s++){const o=e.props[s];if(o.type===6)o.value&&(o.name==="name"?i=JSON.stringify(o.value.content):(o.name=Bt(o.name),n.push(o)));else if(o.name==="bind"&&mc(o.arg,"name")){if(o.exp)i=o.exp;else if(o.arg&&o.arg.type===4){const a=Bt(o.arg.content);i=o.exp=Qe(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&en(o.arg)&&(o.arg.content=Bt(o.arg.content)),n.push(o)}if(n.length>0){const{props:s,directives:o}=h8(e,t,n,!1,!1);r=s,o.length&&t.onError(Qt(36,o[0].loc))}return{slotName:i,slotProps:r}}const f8=(e,t,i,r)=>{const{loc:n,modifiers:s,arg:o}=e;!e.exp&&!s.length&&i.onError(Qt(35,n));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?wc(Bt(d)):`on:${d}`;a=Qe(p,!0,o.loc)}else a=gs([`${i.helperString(Uw)}(`,o,")"]);else a=o,a.children.unshift(`${i.helperString(Uw)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=i.cacheHandlers&&!l&&!i.inVOnce;if(l){const d=Hk(l),p=!(d||Bee(l)),y=l.content.includes(";");(p||c&&d)&&(l=gs([`${p?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let f={props:[Si(a,l||Qe("() => {}",!1,n))]};return r&&(f=r(f)),c&&(f.props[0].value=i.cache(f.props[0].value)),f.props.forEach(d=>d.key.isHandlerKey=!0),f},Wte=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const i=e.children;let r,n=!1;for(let s=0;s<i.length;s++){const o=i[s];if(Ub(o)){n=!0;for(let a=s+1;a<i.length;a++){const l=i[a];if(Ub(l))r||(r=i[s]=gs([o],o.loc)),r.children.push(" + ",l),i.splice(a,1),a--;else{r=void 0;break}}}}if(!(!n||i.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(s=>s.type===7&&!t.directiveTransforms[s.name])&&e.tag!=="template")))for(let s=0;s<i.length;s++){const o=i[s];if(Ub(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&pn(o,t)===0&&a.push("1"),i[s]={type:12,content:o,loc:o.loc,codegenNode:ji(t.helper(HE),a)}}}}},RM=new WeakSet,Hte=(e,t)=>{if(e.type===1&&kn(e,"once",!0))return RM.has(e)||t.inVOnce||t.inSSR?void 0:(RM.add(e),t.inVOnce=!0,t.helper(Lg),()=>{t.inVOnce=!1;const i=t.currentNode;i.codegenNode&&(i.codegenNode=t.cache(i.codegenNode,!0,!0))})},d8=(e,t,i)=>{const{exp:r,arg:n}=e;if(!r)return i.onError(Qt(41,e.loc)),v0();const s=r.loc.source.trim(),o=r.type===4?r.content:s,a=i.bindingMetadata[s];if(a==="props"||a==="props-aliased")return i.onError(Qt(44,r.loc)),v0();if(!o.trim()||!Hk(r)&&!!1)return i.onError(Qt(42,r.loc)),v0();const c=n||Qe("modelValue",!0),f=n?en(n)?`onUpdate:${Bt(n.content)}`:gs(['"onUpdate:" + ',n]):"onUpdate:modelValue";let d;const p=i.isTS?"($event: any)":"$event";d=gs([`${p} => ((`,r,") = $event)"]);const y=[Si(c,e.exp),Si(f,d)];if(e.modifiers.length&&t.tagType===1){const v=e.modifiers.map(E=>E.content).map(E=>(a3(E)?E:JSON.stringify(E))+": true").join(", "),_=n?en(n)?`${n.content}Modifiers`:gs([n,' + "Modifiers"']):"modelModifiers";y.push(Si(_,Qe(`{ ${v} }`,!1,e.loc,2)))}return v0(y)};function v0(e=[]){return{props:e}}const Yte=/[\w).+\-_$\]]/,Jte=(e,t)=>{Tc("COMPILER_FILTERS",t)&&(e.type===5?Ug(e.content,t):e.type===1&&e.props.forEach(i=>{i.type===7&&i.name!=="for"&&i.exp&&Ug(i.exp,t)}))};function Ug(e,t){if(e.type===4)DM(e,t);else for(let i=0;i<e.children.length;i++){const r=e.children[i];typeof r=="object"&&(r.type===4?DM(r,t):r.type===8?Ug(e,t):r.type===5&&Ug(r.content,t))}}function DM(e,t){const i=e.content;let r=!1,n=!1,s=!1,o=!1,a=0,l=0,c=0,f=0,d,p,y,v,_=[];for(y=0;y<i.length;y++)if(p=d,d=i.charCodeAt(y),r)d===39&&p!==92&&(r=!1);else if(n)d===34&&p!==92&&(n=!1);else if(s)d===96&&p!==92&&(s=!1);else if(o)d===47&&p!==92&&(o=!1);else if(d===124&&i.charCodeAt(y+1)!==124&&i.charCodeAt(y-1)!==124&&!a&&!l&&!c)v===void 0?(f=y+1,v=i.slice(0,y).trim()):E();else{switch(d){case 34:n=!0;break;case 39:r=!0;break;case 96:s=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let x=y-1,A;for(;x>=0&&(A=i.charAt(x),A===" ");x--);(!A||!Yte.test(A))&&(o=!0)}}v===void 0?v=i.slice(0,y).trim():f!==0&&E();function E(){_.push(i.slice(f,y).trim()),f=y+1}if(_.length){for(y=0;y<_.length;y++)v=Kte(v,_[y],t);e.content=v,e.ast=void 0}}function Kte(e,t,i){i.helper(ZE);const r=t.indexOf("(");if(r<0)return i.filters.add(t),`${jp(t,"filter")}(${e})`;{const n=t.slice(0,r),s=t.slice(r+1);return i.filters.add(n),`${jp(n,"filter")}(${e}${s!==")"?","+s:s}`}}const FM=new WeakSet,Zte=(e,t)=>{if(e.type===1){const i=kn(e,"memo");return!i||FM.has(e)?void 0:(FM.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&s3(r,t),e.codegenNode=ji(t.helper(n3),[i.exp,Gh(void 0,r),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function Xte(e){return[[Hte,Ote,Zte,Pte,Jte,zte,Ute,Rte,Wte],{on:f8,bind:Nte,model:d8}]}function Qte(e,t={}){const i=t.onError||o3,r=t.mode==="module";t.prefixIdentifiers===!0?i(Qt(47)):r&&i(Qt(48));const n=!1;t.cacheHandlers&&i(Qt(49)),t.scopeId&&!r&&i(Qt(50));const s=st({},t,{prefixIdentifiers:n}),o=Je(e)?ote(e,s):e,[a,l]=Xte();return ute(o,st({},s,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:st({},l,t.directiveTransforms||{})})),pte(o,s)}const eie=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const p8=Symbol(""),m8=Symbol(""),y8=Symbol(""),g8=Symbol(""),qw=Symbol(""),v8=Symbol(""),b8=Symbol(""),_8=Symbol(""),w8=Symbol(""),S8=Symbol("");$ee({[p8]:"vModelRadio",[m8]:"vModelCheckbox",[y8]:"vModelText",[g8]:"vModelSelect",[qw]:"vModelDynamic",[v8]:"withModifiers",[b8]:"withKeys",[_8]:"vShow",[w8]:"Transition",[S8]:"TransitionGroup"});let Au;function tie(e,t=!1){return Au||(Au=document.createElement("div")),t?(Au.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Au.children[0].getAttribute("foo")):(Au.innerHTML=e,Au.textContent)}const iie={parseMode:"html",isVoidTag:gX,isNativeTag:e=>pX(e)||mX(e)||yX(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:tie,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return w8;if(e==="TransitionGroup"||e==="transition-group")return S8},getNamespace(e,t,i){let r=t?t.ns:i;if(t&&r===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(n=>n.type===6&&n.name==="encoding"&&n.value!=null&&(n.value.content==="text/html"||n.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(r=0);else t&&r===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(r=0);if(r===0){if(e==="svg")return 1;if(e==="math")return 2}return r}},rie=e=>{e.type===1&&e.props.forEach((t,i)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[i]={type:7,name:"bind",arg:Qe("style",!0,t.loc),exp:nie(t.value.content,t.loc),modifiers:[],loc:t.loc})})},nie=(e,t)=>{const i=aP(e);return Qe(JSON.stringify(i),!1,t,3)};function ol(e,t){return Qt(e,t)}const sie=(e,t,i)=>{const{exp:r,loc:n}=e;return r||i.onError(ol(53,n)),t.children.length&&(i.onError(ol(54,n)),t.children.length=0),{props:[Si(Qe("innerHTML",!0,n),r||Qe("",!0))]}},oie=(e,t,i)=>{const{exp:r,loc:n}=e;return r||i.onError(ol(55,n)),t.children.length&&(i.onError(ol(56,n)),t.children.length=0),{props:[Si(Qe("textContent",!0),r?pn(r,i)>0?r:ji(i.helperString(vv),[r],n):Qe("",!0))]}},aie=(e,t,i)=>{const r=d8(e,t,i);if(!r.props.length||t.tagType===1)return r;e.arg&&i.onError(ol(58,e.arg.loc));const{tag:n}=t,s=i.isCustomElement(n);if(n==="input"||n==="textarea"||n==="select"||s){let o=y8,a=!1;if(n==="input"||s){const l=bv(t,"type");if(l){if(l.type===7)o=qw;else if(l.value)switch(l.value.content){case"radio":o=p8;break;case"checkbox":o=m8;break;case"file":a=!0,i.onError(ol(59,e.loc));break}}else Vee(t)&&(o=qw)}else n==="select"&&(o=g8);a||(r.needRuntime=i.helper(o))}else i.onError(ol(57,e.loc));return r.props=r.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),r},lie=Sn("passive,once,capture"),cie=Sn("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),uie=Sn("left,right"),x8=Sn("onkeyup,onkeydown,onkeypress"),hie=(e,t,i,r)=>{const n=[],s=[],o=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&Up("COMPILER_V_ON_NATIVE",i)||lie(l)?o.push(l):uie(l)?en(e)?x8(e.content.toLowerCase())?n.push(l):s.push(l):(n.push(l),s.push(l)):cie(l)?s.push(l):n.push(l)}return{keyModifiers:n,nonKeyModifiers:s,eventOptionModifiers:o}},UM=(e,t)=>en(e)&&e.content.toLowerCase()==="onclick"?Qe(t,!0):e.type!==4?gs(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,fie=(e,t,i)=>f8(e,t,i,r=>{const{modifiers:n}=e;if(!n.length)return r;let{key:s,value:o}=r.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=hie(s,n,i,e.loc);if(l.includes("right")&&(s=UM(s,"onContextmenu")),l.includes("middle")&&(s=UM(s,"onMouseup")),l.length&&(o=ji(i.helper(v8),[o,JSON.stringify(l)])),a.length&&(!en(s)||x8(s.content.toLowerCase()))&&(o=ji(i.helper(b8),[o,JSON.stringify(a)])),c.length){const f=c.map(bl).join("");s=en(s)?Qe(`${s.content}${f}`,!0):gs(["(",s,`) + "${f}"`])}return{props:[Si(s,o)]}}),die=(e,t,i)=>{const{exp:r,loc:n}=e;return r||i.onError(ol(61,n)),{props:[],needRuntime:i.helper(_8)}},pie=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},mie=[rie],yie={cloak:eie,html:sie,text:oie,model:aie,on:fie,show:die};function gie(e,t={}){return Qte(e,st({},iie,t,{nodeTransforms:[pie,...mie,...t.nodeTransforms||[]],directiveTransforms:st({},yie,t.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const jM=Object.create(null);function E8(e,t){if(!Je(e))if(e.nodeType)e=e.innerHTML;else return sr;const i=nX(e,t),r=jM[i];if(r)return r;if(e[0]==="#"){const a=document.querySelector(e);e=a?a.innerHTML:""}const n=st({hoistStatic:!0,onError:void 0,onWarn:sr},t);!n.isCustomElement&&typeof customElements<"u"&&(n.isCustomElement=a=>!!customElements.get(a));const{code:s}=gie(e,n),o=new Function("Vue",s)(Eee);return o._rc=!0,jM[i]=o}kE(E8);const s1e=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:uE,BaseTransitionPropsValidators:ov,Comment:bi,DeprecationTypes:pk,EffectScope:K1,ErrorCodes:jP,ErrorTypeStrings:lk,Fragment:Ot,KeepAlive:oL,ReactiveEffect:kh,Static:sl,Suspense:qL,Teleport:cE,Text:oo,TrackOpTypes:kP,Transition:dv,TransitionGroup:mv,TriggerOpTypes:RP,VueElement:Am,assertNumber:UP,callWithAsyncErrorHandling:bn,callWithErrorHandling:uu,camelize:Bt,capitalize:bl,cloneVNode:xs,compatUtils:dk,compile:E8,computed:et,createApp:dl,createBlock:Gt,createCommentVNode:Wt,createElementBlock:we,createElementVNode:ce,createHydrationRenderer:IE,createPropsRestProxy:xL,createRenderer:ME,createSSRApp:VE,createSlots:cL,createStaticVNode:XL,createTextVNode:ao,createVNode:Ze,customRef:sE,defineAsyncComponent:fE,defineComponent:rt,defineCustomElement:FE,defineEmits:fL,defineExpose:dL,defineModel:yL,defineOptions:pL,defineProps:hL,defineSSRCustomElement:xk,defineSlots:mL,devtools:ck,effect:gP,effectScope:_m,getCurrentInstance:Ni,getCurrentScope:Z1,getCurrentWatcher:DP,getTransitionRawChildren:Sm,guardReactiveProps:PE,h:Un,handleError:xl,hasInjectionContext:TE,hydrate:Pk,hydrateOnIdle:iL,hydrateOnInteraction:sL,hydrateOnMediaQuery:nL,hydrateOnVisible:rL,initCustomFormatter:sk,initDirectivesForSSR:Rk,inject:Ci,isMemoSame:RE,isProxy:wm,isReactive:yn,isReadonly:ea,isRef:ft,isRuntimeOnly:ik,isShallow:tn,isVNode:Ss,markRaw:xi,mergeDefaults:wL,mergeModels:SL,mergeProps:fv,nextTick:As,normalizeClass:di,normalizeProps:lP,normalizeStyle:_l,onActivated:dE,onBeforeMount:lv,onBeforeUnmount:Ms,onBeforeUpdate:cv,onDeactivated:pE,onErrorCaptured:vE,onMounted:ar,onRenderTracked:gE,onRenderTriggered:yE,onScopeDispose:eE,onServerPrefetch:mE,onUnmounted:hu,onUpdated:Ef,onWatcherCleanup:aE,openBlock:fe,popScopeId:WP,provide:EE,proxyRefs:rv,pushScopeId:qP,queuePostFlushCb:Rh,reactive:er,readonly:tv,ref:X,registerRuntimeCompiler:kE,render:wh,renderList:El,renderSlot:cs,resolveComponent:vi,resolveDirective:Tt,resolveDynamicComponent:_E,resolveFilter:fk,resolveTransitionHooks:zc,setBlockTracking:Ag,setDevtoolsHook:uk,setTransitionHooks:yo,shallowReactive:nE,shallowReadonly:OP,shallowRef:xf,ssrContextKey:$E,ssrUtils:hk,stop:vP,toDisplayString:Ut,toHandlerKey:wc,toHandlers:uL,toRaw:Ve,toRef:PP,toRefs:oE,toValue:NP,transformVNodeArgs:KL,triggerRef:CP,unref:Ie,useAttrs:bL,useCssModule:Tk,useCssVars:Sk,useHost:UE,useId:tL,useModel:BL,useSSRContext:CE,useShadowRoot:Ek,useSlots:vL,useTemplateRef:Sg,useTransitionState:sv,vModelCheckbox:yv,vModelDynamic:GE,vModelRadio:gv,vModelSelect:jE,vModelText:kp,vShow:pv,version:DE,warn:ak,watch:qi,watchEffect:UL,watchPostEffect:jL,watchSyncEffect:NE,withAsyncContext:EL,withCtx:Ti,withDefaults:gL,withDirectives:Et,withKeys:BE,withMemo:ok,withModifiers:Mm,withScopeId:HP},Symbol.toStringTag,{value:"Module"}));var vie=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let T8;const Sv=e=>T8=e,A8=Symbol();function Ww(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var qd;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(qd||(qd={}));function bie(){const e=_m(!0),t=e.run(()=>X({}));let i=[],r=[];const n=xi({install(s){Sv(n),n._a=s,s.provide(A8,n),s.config.globalProperties.$pinia=n,r.forEach(o=>i.push(o)),r=[]},use(s){return!this._a&&!vie?r.push(s):i.push(s),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return n}const M8=()=>{};function GM(e,t,i,r=M8){e.push(t);const n=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!i&&Z1()&&eE(n),n}function Mu(e,...t){e.slice().forEach(i=>{i(...t)})}const _ie=e=>e();function Hw(e,t){e instanceof Map&&t instanceof Map&&t.forEach((i,r)=>e.set(r,i)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const r=t[i],n=e[i];Ww(n)&&Ww(r)&&e.hasOwnProperty(i)&&!ft(r)&&!yn(r)?e[i]=Hw(n,r):e[i]=r}return e}const wie=Symbol();function Sie(e){return!Ww(e)||!e.hasOwnProperty(wie)}const{assign:Ca}=Object;function xie(e){return!!(ft(e)&&e.effect)}function Eie(e,t,i,r){const{state:n,actions:s,getters:o}=t,a=i.state.value[e];let l;function c(){a||(i.state.value[e]=n?n():{});const f=oE(i.state.value[e]);return Ca(f,s,Object.keys(o||{}).reduce((d,p)=>(d[p]=xi(et(()=>{Sv(i);const y=i._s.get(e);return o[p].call(y,y)})),d),{}))}return l=I8(e,c,t,i,r,!0),l}function I8(e,t,i={},r,n,s){let o;const a=Ca({actions:{}},i),l={deep:!0};let c,f,d=[],p=[],y;const v=r.state.value[e];!s&&!v&&(r.state.value[e]={}),X({});let _;function E(P){let N;c=f=!1,typeof P=="function"?(P(r.state.value[e]),N={type:qd.patchFunction,storeId:e,events:y}):(Hw(r.state.value[e],P),N={type:qd.patchObject,payload:P,storeId:e,events:y});const U=_=Symbol();As().then(()=>{_===U&&(c=!0)}),f=!0,Mu(d,N,r.state.value[e])}const x=s?function(){const{state:N}=i,U=N?N():{};this.$patch(j=>{Ca(j,U)})}:M8;function A(){o.stop(),d=[],p=[],r._s.delete(e)}function w(P,N){return function(){Sv(r);const U=Array.from(arguments),j=[],F=[];function q(m){j.push(m)}function te(m){F.push(m)}Mu(p,{args:U,name:P,store:M,after:q,onError:te});let h;try{h=N.apply(this&&this.$id===e?this:M,U)}catch(m){throw Mu(F,m),m}return h instanceof Promise?h.then(m=>(Mu(j,m),m)).catch(m=>(Mu(F,m),Promise.reject(m))):(Mu(j,h),h)}}const b={_p:r,$id:e,$onAction:GM.bind(null,p),$patch:E,$reset:x,$subscribe(P,N={}){const U=GM(d,P,N.detached,()=>j()),j=o.run(()=>qi(()=>r.state.value[e],F=>{(N.flush==="sync"?f:c)&&P({storeId:e,type:qd.direct,events:y},F)},Ca({},l,N)));return U},$dispose:A},M=er(b);r._s.set(e,M);const C=(r._a&&r._a.runWithContext||_ie)(()=>r._e.run(()=>(o=_m()).run(t)));for(const P in C){const N=C[P];if(ft(N)&&!xie(N)||yn(N))s||(v&&Sie(N)&&(ft(N)?N.value=v[P]:Hw(N,v[P])),r.state.value[e][P]=N);else if(typeof N=="function"){const U=w(P,N);C[P]=U,a.actions[P]=N}}return Ca(M,C),Ca(Ve(M),C),Object.defineProperty(M,"$state",{get:()=>r.state.value[e],set:P=>{E(N=>{Ca(N,P)})}}),r._p.forEach(P=>{Ca(M,o.run(()=>P({store:M,app:r._a,pinia:r,options:a})))}),v&&s&&i.hydrate&&i.hydrate(M.$state,v),c=!0,f=!0,M}function oi(e,t,i){let r,n;const s=typeof t=="function";typeof e=="string"?(r=e,n=s?i:t):(n=e,r=e.id);function o(a,l){const c=TE();return a=a||(c?Ci(A8,null):null),a&&Sv(a),a=T8,a._s.has(r)||(s?I8(r,t,n,a):Eie(r,n,a)),a._s.get(r)}return o.$id=r,o}const jg=oi("appbar",()=>{const e=X({}),t=X([]),i=X([]),r=et(()=>t.value.map(o=>o.map(a=>e.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function n(o){i.value.includes(o)||i.value.push(o)}function s(o){const a=i.value.indexOf(o);a!==-1&&i.value.splice(a,1),o in e.value&&delete e.value[o],t.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:e,order:t,temporary:i,visible:r,addTempButton:n,removeButton:s}}),Yw=oi("grid",()=>{const e=X({}),t=X(),i=X();function r(a){e.value={...e.value,[a.id]:a}}function n(a){e.value[a]!==void 0&&delete e.value[a]}function s(a){return Object.keys(e.value).find(l=>e.value[l].layerIds.includes(a))}function o(a,l){e.value[a].layerIds=e.value[a].layerIds.filter(c=>c!==l)}return{grids:e,panel:t,currentId:i,addGrid:r,removeGrid:n,getGridId:s,removeLayer:o}});function Wa(e,t,i,r){var n,s=!1,o=0;function a(){n&&clearTimeout(n)}function l(){a(),s=!0}typeof t!="boolean"&&(r=i,i=t,t=void 0);function c(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var y=this,v=Date.now()-o;if(s)return;function _(){o=Date.now(),i.apply(y,d)}function E(){n=void 0}r&&!n&&_(),a(),r===void 0&&v>e?_():t!==!0&&(n=setTimeout(r?E:_,r===void 0?e-v:e))}return c.cancel=l,c}function Gg(e,t,i){return i===void 0?Wa(e,t,!1):Wa(e,i,t!==!1)}const Xa=oi("map-caption",()=>{const e=X({text:{},logo:{}}),t=X({}),i=X({}),r=X({});function n(o){o!==void 0?t.value.isImperialScale=o:t.value.isImperialScale=!t.value.isImperialScale}function s(o){e.value.text.value=o.text.value,e.value.text.disabled=o.text.disabled,e.value.logo.altText=o.logo.altText,e.value.logo.link=o.logo.link,e.value.logo.value=o.logo.value,e.value.logo.disabled=o.logo.disabled}return{attribution:e,scale:t,coords:i,langtoggle:r,toggleScale:n,setAttribution:s}}),Gb=(e,t)=>{const i=[...e];for(;i.length>0;){const r=i.shift();if(t(r))return r;r&&i.push(...r.sublayers)}},Xs=oi("layer",()=>{const e=X([]),t=X([]),i=X([]);function r(d){return Gb(e.value,p=>p?.uid===d)}function n(d){return Gb(e.value,p=>p?.id===d)}function s(d){return Gb(e.value,p=>p!==void 0&&(p.id===d||p.uid===d))}function o(d){t.value=[...t.value,d]}function a(d,p=void 0){e.value=[...e.value,d],d.mapLayer&&((p===void 0||p<0)&&(console.error("Map layer added to store with invalid index!"),p=i.value.length),i.value.splice(p,0,d.id),i.value=[...i.value])}function l(d,p){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(p<0){console.error("Negative index passed to layer store reorder");return}p>=i.value.length&&(p=i.value.length-1);const y=i.value.findIndex(v=>v===d.id);y!==-1&&y!==p&&(i.value.splice(y,1),i.value.splice(p,0,d.id),i.value=[...i.value])}function c(d){const p=e.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(e.value=p,d.mapLayer){const y=i.value.filter(v=>v!==d.id);i.value=y}}function f(d){const p=t.value.filter(y=>y.id!==d);t.value=p}return{layers:e,mapOrder:i,layerConfigs:t,getLayerByUid:r,getLayerById:n,getLayerByAny:s,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:f}}),Xr=oi("config",()=>{const e=X({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),t=X([]),i=X(),r=X({}),n=X({});function s(l){if(r.value[n.value[l]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return r.value[n.value[l]]}function o(l){const c={...e.value,...l};if(e.value=c,Array.isArray(e.value.layers)){const f=Xs();f.layerConfigs=[...f.layerConfigs,e.value.layers]}}function a(l){const c=l.configLangs,f=l.config,d=l.allLangs;c!==void 0&&c.length>0&&c.forEach(p=>{r.value[p]=f,n.value[p]=p}),d!==void 0&&d.length>0&&d.forEach(p=>{n.value[p]=Object.keys(r.value)[0]})}return{config:e,startingFixtures:t,activeBasemapConfig:i,registeredConfigs:r,registeredLangs:n,getActiveConfig:s,newConfig:o,registerConfig:a}}),O8=oi("details",()=>{const e=X([]),t=X({}),i=X({}),r=X(),n=X(0),s=X(0),o=X(!0),a=X();function l(f){const d=e.value.findIndex(p=>p.uid===f.uid);d!==-1&&e.value.splice(d,1)}function c(f){t.value={...t.value,[f.id]:f}}return{payload:e,properties:t,defaultTemplates:i,currentFeatureId:r,activeGreedy:n,lastHilight:s,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),Pn=oi("fixture",()=>{const e=X({}),t=X({});function i(o){return o.map(a=>t.value[a].getPromise())}function r(o){if(e.value={...e.value,[o.id]:xi(o)},o.id in t.value)t.value[o.id].resolveMe(xi(o));else{const a=new $i;a.resolveMe(xi(o)),t.value={...t.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function n(o){delete e.value[o.id],e.value={...e.value},delete t.value[o.id],t.value={...t.value},typeof o.removed=="function"&&o.removed()}function s(o){t.value={...t.value,[o]:new $i}}return{items:e,loadPromises:t,getLoadPromises:i,addFixture:r,removeFixture:n,addLoadPromise:s}});var $e=(e=>(e.APPBAR_BUTTON_CLICK="appbar/click",e.COMPONENT="ramp/component",e.CONFIG_CHANGE="config/configchanged",e.DETAILS_TOGGLE="details/toggle",e.FILTER_CHANGE="filter/change",e.FIXTURE_ADDED="fixture/added",e.FIXTURE_REMOVED="fixture/removed",e.GRID_TOGGLE="grid/toggle",e.HELP_TOGGLE="help/toggle",e.LANG_CHANGE="lang/change",e.LAYER_DRAWSTATECHANGE="layer/drawstatechange",e.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",e.LAYER_LAYERSTATECHANGE="layer/layerstatechange",e.LAYER_OPACITYCHANGE="layer/opacitychange",e.LAYER_REGISTERED="layer/registered",e.LAYER_RELOAD_END="layer/reloadend",e.LAYER_RELOAD_START="layer/reloadstart",e.LAYER_REMOVE="layer/remove",e.LAYER_VISIBILITYCHANGE="layer/visibilitychange",e.MAP_BASEMAPCHANGE="map/basemapchanged",e.MAP_BLUR="map/blur",e.MAP_CLICK="map/click",e.MAP_CREATED="map/created",e.MAP_DESTROYED="map/destroyed",e.MAP_DOUBLECLICK="map/doubleclick",e.MAP_EXTENTCHANGE="map/extentchanged",e.MAP_FOCUS="map/focus",e.MAP_GRAPHICHIT="map/graphichit",e.MAP_IDENTIFY="map/identify",e.MAP_KEYDOWN="map/keydown",e.MAP_KEYUP="map/keyup",e.MAP_MOUSEDOWN="map/mousedown",e.MAP_MOUSELEAVE="map/mouseleave",e.MAP_MOUSEMOVE="map/mousemove",e.MAP_MOUSEMOVE_END="map/mousemoveend",e.MAP_MOUSEMOVE_START="map/mousemovestart",e.MAP_REFRESH_END="map/refreshend",e.MAP_REFRESH_START="map/refreshstart",e.MAP_REORDER="map/reorder",e.MAP_RESIZED="map/resized",e.MAP_SCALECHANGE="map/scalechanged",e.MAP_START="map/start",e.METADATA_TOGGLE="metadata/toggle",e.PANEL_CLOSED="panel/closed",e.PANEL_MINIMIZED="panel/minimized",e.PANEL_OPENED="panel/opened",e.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",e.REORDER_TOGGLE="reorder/toggle",e.SETTINGS_TOGGLE="settings/toggle",e.USER_LAYER_ADDED="user/layeradded",e.WIZARD_TOGGLE="wizard/toggle",e))($e||{}),Jw=(e=>(e.CONFIG_CHANGE_UPDATES_MAP_ATTRIBS="ramp_config_change_updates_map_attribs",e.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",e.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",e.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",e.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",e.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",e.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",e.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",e.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",e.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",e.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",e.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",e.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",e.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",e.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",e.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",e.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",e.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",e.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",e.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",e.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",e.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",e.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",e.MAP_MOUSEDOWN_UPDATES_MAPTIP="ramp_map_mousedown_updates_maptip",e.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",e.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",e.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",e.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",e.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",e.TOGGLE_DETAILS="ramp_toggle_details",e.TOGGLE_GRID="ramp_toggle_grid",e.TOGGLE_HELP="ramp_toggle_help",e.TOGGLE_METADATA="ramp_toggle_metadata",e.TOGGLE_REORDER="ramp_toggle_reorder",e.TOGGLE_SETTINGS="ramp_toggle_settings",e.TOGGLE_WIZARD="ramp_toggle_wizard",e))(Jw||{});class Tie{eventName;handlerName;handlerFunc;constructor(t,i,r){this.eventName=t,this.handlerName=i,this.handlerFunc=r}}class Aie extends Pi{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(t){super(t),this._eventBus=new ZZ.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values($e).filter(i=>typeof i=="string"&&i.indexOf("/")>-1)}findHandler(t){return this._eventRegister.find(i=>i.handlerName===t)}handlerNamer(t){return this._funCounter++,t.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(t){(Array.isArray(t)?t:[t]).forEach(r=>{this._nameRegister.indexOf(r)===-1&&this._nameRegister.push(r)})}eventNames(){return this._nameRegister.slice()}on(t,i,r=""){if(this.findHandler(r))throw new Error("Duplicate handler name registration: "+r);r||(r=this.handlerNamer(t));const n=new Tie(t,r,i);return this._eventRegister.push(n),this._eventBus.on(t,i),r}off(t){const i=this.findHandler(t);i&&(this._eventRegister.splice(this._eventRegister.indexOf(i),1),this._eventBus.off(i.eventName,i.handlerFunc))}offAll(t=""){this.activeHandlers(t).forEach(r=>this.off(r))}removeDefaultEvents(){Object.values(Jw).forEach(t=>{this.off(t)})}emit(t,...i){this._eventBus.emit(t,...i)}once(t,i,r=""){r||(r=this.handlerNamer(t));const n=(...s)=>{i(...s),this.off(r)};return this.on(t,n,r)}activeHandlers(t=""){return t===""?this._eventRegister.map(i=>i.handlerName):this._eventRegister.filter(i=>i.eventName===t).map(i=>i.handlerName)}addDefaultEvents(t){return(!Array.isArray(t)||t.length===0)&&(t=Object.values(Jw)),t.map(i=>this.defaultHandlerFactory(i))}defaultHandlerFactory(t){let i;switch(t){case"ramp_config_change_updates_map_attribs":i=r=>{const n=r.map.basemaps.find(s=>s.id===this.$iApi.geo.map.getCurrentBasemapId());this.$iApi.geo.map.caption.updateAttribution(n?.attribution)},this.$iApi.event.on("config/configchanged",i,t);break;case"ramp_layer_error_updates_legend":i=r=>{if(r.layer.layerState===hi.ERROR){const n=this.$iApi.fixture.get("legend");n&&n.updateLegend(r.layer)}},this.$iApi.event.on("layer/layerstatechange",i,t);break;case"ramp_layer_register_binds_legend":i=r=>{const n=this.$iApi.fixture.get("legend");n&&n.updateLegend(r)},this.$iApi.event.on("layer/registered",i,t);break;case"ramp_layer_reload_end_binds_legend":i=r=>{const n=this.$iApi.fixture.get("legend");n&&n.updateLegend(r)},this.$iApi.event.on("layer/reloadend",i,t);break;case"ramp_layer_reload_start_updates_legend":i=r=>{if(!r.isSublayer){const n=this.$iApi.fixture.get("legend");n&&n.reloadLayerItem(r.uid)}},this.$iApi.event.on("layer/reloadstart",i,t);break;case"ramp_layer_remove_checks_grid":i=r=>{if(this.$iApi.fixture.get("grid")){const n=Yw(this.$vApp.$pinia),s=n.getGridId(r.id);if(s===void 0)return;if(n.removeLayer(s,r.id),n.grids[s].layerIds.length===0){n.removeGrid(s);const o=n.currentId;if(s===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),n.currentId=void 0}}}},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_remove_updates_details":i=r=>{const n=O8(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&n.removeLayer(r)},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_remove_updates_legend":i=r=>{const n=this.$iApi.fixture.get("legend");n&&(n.removeLayerItem(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:r.name})))},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_useradd_updates_legend":i=r=>{const n=this.$iApi.fixture.get("legend");n&&n.addLayerItem(r)},this.$iApi.event.on("user/layeradded",i,t);break;case"ramp_map_basemap_checks_tile_proj":i=r=>{r.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(n=>n.layerType===Pe.TILE).forEach(n=>{n.checkProj()})},this.$iApi.event.on("map/basemapchanged",i,t);break;case"ramp_map_basemap_updates_map_attribs":i=()=>{this.$iApi.geo.map.caption.updateAttribution(Xr(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",i,t);break;case"ramp_map_blur_updates_key_handler":i=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",i,t);break;case"ramp_map_click_runs_identify":i=r=>{r.button===0&&this.$iApi.geo.map.runIdentify(r)},this.on("map/click",i,t);break;case"ramp_map_created_initializes_fixtures":i=()=>{const r=Pn(this.$vApp.$pinia).items;Object.keys(r).forEach(n=>{r[n].initialized?.()})},this.$iApi.geo.map.created&&i(),this.$iApi.event.on("map/created",i,t);break;case"ramp_map_created_updates_map_attribs":i=()=>{this.$iApi.geo.map.caption.updateAttribution(Xr(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&i(),this.$iApi.event.on("map/created",i,t);break;case"ramp_map_extent_updates_maptip":i=()=>{if(this.$iApi.geo.map.keysActive){const r=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(r)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",Wa(50,!0,()=>i()),t);break;case"ramp_map_graphichit_creates_maptip":i=r=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(r)},this.$iApi.event.on("map/graphichit",i,t);break;case"ramp_map_identify_opens_identify_results":i=r=>{const n=this.$iApi.fixture.get("details");n&&n.openDetails(r.results)},this.on("map/identify",i,t);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",Wa(50,()=>{const r=Xa(this.$vApp.$pinia);r.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(s=>{r.coords={formattedString:s}})}),t);break;case"ramp_map_keydown_updates_key_handler":i=r=>{this.$iApi.geo.map.mapKeyDown(r)},this.$iApi.event.on("map/keydown",i,t);break;case"ramp_map_keyup_updates_key_handler":i=r=>{this.$iApi.geo.map.mapKeyUp(r)},this.$iApi.event.on("map/keyup",i,t);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",Wa(50,r=>{const n=Xa(this.$vApp.$pinia);n.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(r)).then(o=>{n.coords={formattedString:o}})}),t);break;case"ramp_map_mouse_updates_maptip":i=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousemove",Wa(50,r=>i(r)),t);break;case"ramp_map_mousedown_updates_maptip":i=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousedown",Wa(50,r=>{const n={screenX:r.offsetX,screenY:r.offsetY,button:r.button,moveTime:0};i(n)}),t);break;case"ramp_map_mouseleave_removes_maptip":i=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",i);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",Gg(100,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",Gg(300,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_panel_close_updates_appbar":i=r=>{const n=jg(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!n.order.flat().find(s=>s===r.id)&&n.removeButton(r.id)},this.on("panel/closed",i,t);break;case"ramp_panel_open_updates_appbar":i=r=>{const n=jg(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!r.teleport||r.teleport?.showAppbarButton)&&!n.order.flat().find(s=>s===r.id)&&n.addTempButton(r.id)},this.on("panel/opened",i,t);break;case"ramp_toggle_details":i=(r,n)=>{const s=this.$iApi.fixture.get("details");s&&s.toggleFeature(r,n)},this.$iApi.event.on("details/toggle",i,t);break;case"ramp_toggle_grid":i=(r,n)=>{const s=this.$iApi.fixture.get("grid");s&&s.toggleGrid(r.id,n)},this.$iApi.event.on("grid/toggle",i,t);break;case"ramp_toggle_help":i=r=>{const n=this.$iApi.fixture.get("help");n&&n.toggleHelp(r)},this.$iApi.event.on("help/toggle",i,t);break;case"ramp_toggle_metadata":i=(r,n)=>{const s=this.$iApi.fixture.get("metadata");s&&s.toggleMetadata(r,n)},this.$iApi.event.on("metadata/toggle",i,t);break;case"ramp_toggle_reorder":i=r=>{const n=this.$iApi.fixture.get("layer-reorder");n&&n.toggleLayerReorder(r)},this.$iApi.event.on("reorder/toggle",i,t);break;case"ramp_toggle_settings":i=(r,n)=>{const s=this.$iApi.fixture.get("settings");s&&s.toggleSettings(r,n)},this.$iApi.event.on("settings/toggle",i,t);break;case"ramp_toggle_wizard":i=r=>{const n=this.$iApi.fixture.get("wizard");n&&n.toggleWizard(r)},this.$iApi.event.on("wizard/toggle",i,t);break;default:return console.error(`Unrecognized default event handler name encountered: ${t}`),`ERROR_NOT_REGISTERED__${t}`}return t}}/*!
  * shared v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Bg=typeof window<"u",Tl=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Mie=(e,t,i)=>Iie({l:e,k:t,s:i}),Iie=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),_i=e=>typeof e=="number"&&isFinite(e),Oie=e=>C8(e)==="[object Date]",pl=e=>C8(e)==="[object RegExp]",xv=e=>qe(e)&&Object.keys(e).length===0,or=Object.assign,$ie=Object.create,$t=(e=null)=>$ie(e);let BM;const Wo=()=>BM||(BM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:$t());function VM(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Cie=Object.prototype.hasOwnProperty;function us(e,t){return Cie.call(e,t)}const Jt=Array.isArray,Ft=e=>typeof e=="function",_e=e=>typeof e=="string",it=e=>typeof e=="boolean",pt=e=>e!==null&&typeof e=="object",Nie=e=>pt(e)&&Ft(e.then)&&Ft(e.catch),$8=Object.prototype.toString,C8=e=>$8.call(e),qe=e=>{if(!pt(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},Pie=e=>e==null?"":Jt(e)||qe(e)&&e.toString===$8?JSON.stringify(e,null,2):String(e);function Lie(e,t=""){return e.reduce((i,r,n)=>n===0?i+r:i+t+r,"")}function Ev(e){let t=e;return()=>++t}function kie(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const b0=e=>!pt(e)||Jt(e);function My(e,t){if(b0(e)||b0(t))throw new Error("Invalid value");const i=[{src:e,des:t}];for(;i.length;){const{src:r,des:n}=i.pop();Object.keys(r).forEach(s=>{s!=="__proto__"&&(pt(r[s])&&!pt(n[s])&&(n[s]=Array.isArray(r[s])?[]:$t()),b0(n[s])||b0(r[s])?n[s]=r[s]:i.push({src:r[s],des:n[s]}))})}}/*!
  * message-compiler v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Rie(e,t,i){return{line:e,column:t,offset:i}}function Vg(e,t,i){return{start:e,end:t}}const Die=/\{([0-9a-zA-Z]+)\}/g;function N8(e,...t){return t.length===1&&Fie(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(Die,(i,r)=>t.hasOwnProperty(r)?t[r]:"")}const P8=Object.assign,zM=e=>typeof e=="string",Fie=e=>e!==null&&typeof e=="object";function L8(e,t=""){return e.reduce((i,r,n)=>n===0?i+r:i+t+r,"")}const u3={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Uie={[u3.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function jie(e,t,...i){const r=N8(Uie[e],...i||[]),n={message:String(r),code:e};return t&&(n.location=t),n}const Ue={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Gie={[Ue.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ue.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ue.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ue.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ue.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ue.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ue.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ue.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ue.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ue.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ue.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ue.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ue.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ue.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Tf(e,t,i={}){const{domain:r,messages:n,args:s}=i,o=N8((n||Gie)[e]||"",...s||[]),a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=r,a}function Bie(e){throw e}const Ao=" ",Vie="\r",Or=`
`,zie="\u2028",qie="\u2029";function Wie(e){const t=e;let i=0,r=1,n=1,s=0;const o=C=>t[C]===Vie&&t[C+1]===Or,a=C=>t[C]===Or,l=C=>t[C]===qie,c=C=>t[C]===zie,f=C=>o(C)||a(C)||l(C)||c(C),d=()=>i,p=()=>r,y=()=>n,v=()=>s,_=C=>o(C)||l(C)||c(C)?Or:t[C],E=()=>_(i),x=()=>_(i+s);function A(){return s=0,f(i)&&(r++,n=0),o(i)&&i++,i++,n++,t[i]}function w(){return o(i+s)&&s++,s++,t[i+s]}function b(){i=0,r=1,n=1,s=0}function M(C=0){s=C}function I(){const C=i+s;for(;C!==i;)A();s=0}return{index:d,line:p,column:y,peekOffset:v,charAt:_,currentChar:E,currentPeek:x,next:A,peek:w,reset:b,resetPeek:M,skipToPeek:I}}const va=void 0,Hie=".",qM="'",Yie="tokenizer";function Jie(e,t={}){const i=t.location!==!1,r=Wie(e),n=()=>r.index(),s=()=>Rie(r.line(),r.column(),r.index()),o=s(),a=n(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:f}=t;function d(L,k,V,...ee){const re=c();if(k.column+=V,k.offset+=V,f){const ne=i?Vg(re.startLoc,k):null,W=Tf(L,ne,{domain:Yie,args:ee});f(W)}}function p(L,k,V){L.endLoc=s(),L.currentType=k;const ee={type:k};return i&&(ee.loc=Vg(L.startLoc,L.endLoc)),V!=null&&(ee.value=V),ee}const y=L=>p(L,14);function v(L,k){return L.currentChar()===k?(L.next(),k):(d(Ue.EXPECTED_TOKEN,s(),0,k),"")}function _(L){let k="";for(;L.currentPeek()===Ao||L.currentPeek()===Or;)k+=L.currentPeek(),L.peek();return k}function E(L){const k=_(L);return L.skipToPeek(),k}function x(L){if(L===va)return!1;const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k===95}function A(L){if(L===va)return!1;const k=L.charCodeAt(0);return k>=48&&k<=57}function w(L,k){const{currentType:V}=k;if(V!==2)return!1;_(L);const ee=x(L.currentPeek());return L.resetPeek(),ee}function b(L,k){const{currentType:V}=k;if(V!==2)return!1;_(L);const ee=L.currentPeek()==="-"?L.peek():L.currentPeek(),re=A(ee);return L.resetPeek(),re}function M(L,k){const{currentType:V}=k;if(V!==2)return!1;_(L);const ee=L.currentPeek()===qM;return L.resetPeek(),ee}function I(L,k){const{currentType:V}=k;if(V!==8)return!1;_(L);const ee=L.currentPeek()===".";return L.resetPeek(),ee}function C(L,k){const{currentType:V}=k;if(V!==9)return!1;_(L);const ee=x(L.currentPeek());return L.resetPeek(),ee}function P(L,k){const{currentType:V}=k;if(!(V===8||V===12))return!1;_(L);const ee=L.currentPeek()===":";return L.resetPeek(),ee}function N(L,k){const{currentType:V}=k;if(V!==10)return!1;const ee=()=>{const ne=L.currentPeek();return ne==="{"?x(L.peek()):ne==="@"||ne==="%"||ne==="|"||ne===":"||ne==="."||ne===Ao||!ne?!1:ne===Or?(L.peek(),ee()):F(L,!1)},re=ee();return L.resetPeek(),re}function U(L){_(L);const k=L.currentPeek()==="|";return L.resetPeek(),k}function j(L){const k=_(L),V=L.currentPeek()==="%"&&L.peek()==="{";return L.resetPeek(),{isModulo:V,hasSpace:k.length>0}}function F(L,k=!0){const V=(re=!1,ne="",W=!1)=>{const K=L.currentPeek();return K==="{"?ne==="%"?!1:re:K==="@"||!K?ne==="%"?!0:re:K==="%"?(L.peek(),V(re,"%",!0)):K==="|"?ne==="%"||W?!0:!(ne===Ao||ne===Or):K===Ao?(L.peek(),V(!0,Ao,W)):K===Or?(L.peek(),V(!0,Or,W)):!0},ee=V();return k&&L.resetPeek(),ee}function q(L,k){const V=L.currentChar();return V===va?va:k(V)?(L.next(),V):null}function te(L){const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36}function h(L){return q(L,te)}function m(L){const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36||k===45}function S(L){return q(L,m)}function $(L){const k=L.charCodeAt(0);return k>=48&&k<=57}function B(L){return q(L,$)}function Y(L){const k=L.charCodeAt(0);return k>=48&&k<=57||k>=65&&k<=70||k>=97&&k<=102}function pe(L){return q(L,Y)}function ae(L){let k="",V="";for(;k=B(L);)V+=k;return V}function Me(L){E(L);const k=L.currentChar();return k!=="%"&&d(Ue.EXPECTED_TOKEN,s(),0,k),L.next(),"%"}function je(L){let k="";for(;;){const V=L.currentChar();if(V==="{"||V==="}"||V==="@"||V==="|"||!V)break;if(V==="%")if(F(L))k+=V,L.next();else break;else if(V===Ao||V===Or)if(F(L))k+=V,L.next();else{if(U(L))break;k+=V,L.next()}else k+=V,L.next()}return k}function ze(L){E(L);let k="",V="";for(;k=S(L);)V+=k;return L.currentChar()===va&&d(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),V}function lt(L){E(L);let k="";return L.currentChar()==="-"?(L.next(),k+=`-${ae(L)}`):k+=ae(L),L.currentChar()===va&&d(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),k}function Vt(L){return L!==qM&&L!==Or}function At(L){E(L),v(L,"'");let k="",V="";for(;k=q(L,Vt);)k==="\\"?V+=pi(L):V+=k;const ee=L.currentChar();return ee===Or||ee===va?(d(Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),ee===Or&&(L.next(),v(L,"'")),V):(v(L,"'"),V)}function pi(L){const k=L.currentChar();switch(k){case"\\":case"'":return L.next(),`\\${k}`;case"u":return kt(L,k,4);case"U":return kt(L,k,6);default:return d(Ue.UNKNOWN_ESCAPE_SEQUENCE,s(),0,k),""}}function kt(L,k,V){v(L,k);let ee="";for(let re=0;re<V;re++){const ne=pe(L);if(!ne){d(Ue.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${k}${ee}${L.currentChar()}`);break}ee+=ne}return`\\${k}${ee}`}function ii(L){return L!=="{"&&L!=="}"&&L!==Ao&&L!==Or}function Yi(L){E(L);let k="",V="";for(;k=q(L,ii);)V+=k;return V}function G(L){let k="",V="";for(;k=h(L);)V+=k;return V}function D(L){const k=V=>{const ee=L.currentChar();return ee==="{"||ee==="%"||ee==="@"||ee==="|"||ee==="("||ee===")"||!ee||ee===Ao?V:(V+=ee,L.next(),k(V))};return k("")}function H(L){E(L);const k=v(L,"|");return E(L),k}function se(L,k){let V=null;switch(L.currentChar()){case"{":return k.braceNest>=1&&d(Ue.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),L.next(),V=p(k,2,"{"),E(L),k.braceNest++,V;case"}":return k.braceNest>0&&k.currentType===2&&d(Ue.EMPTY_PLACEHOLDER,s(),0),L.next(),V=p(k,3,"}"),k.braceNest--,k.braceNest>0&&E(L),k.inLinked&&k.braceNest===0&&(k.inLinked=!1),V;case"@":return k.braceNest>0&&d(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),V=Q(L,k)||y(k),k.braceNest=0,V;default:{let re=!0,ne=!0,W=!0;if(U(L))return k.braceNest>0&&d(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),V=p(k,1,H(L)),k.braceNest=0,k.inLinked=!1,V;if(k.braceNest>0&&(k.currentType===5||k.currentType===6||k.currentType===7))return d(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),k.braceNest=0,le(L,k);if(re=w(L,k))return V=p(k,5,ze(L)),E(L),V;if(ne=b(L,k))return V=p(k,6,lt(L)),E(L),V;if(W=M(L,k))return V=p(k,7,At(L)),E(L),V;if(!re&&!ne&&!W)return V=p(k,13,Yi(L)),d(Ue.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,V.value),E(L),V;break}}return V}function Q(L,k){const{currentType:V}=k;let ee=null;const re=L.currentChar();switch((V===8||V===9||V===12||V===10)&&(re===Or||re===Ao)&&d(Ue.INVALID_LINKED_FORMAT,s(),0),re){case"@":return L.next(),ee=p(k,8,"@"),k.inLinked=!0,ee;case".":return E(L),L.next(),p(k,9,".");case":":return E(L),L.next(),p(k,10,":");default:return U(L)?(ee=p(k,1,H(L)),k.braceNest=0,k.inLinked=!1,ee):I(L,k)||P(L,k)?(E(L),Q(L,k)):C(L,k)?(E(L),p(k,12,G(L))):N(L,k)?(E(L),re==="{"?se(L,k)||ee:p(k,11,D(L))):(V===8&&d(Ue.INVALID_LINKED_FORMAT,s(),0),k.braceNest=0,k.inLinked=!1,le(L,k))}}function le(L,k){let V={type:14};if(k.braceNest>0)return se(L,k)||y(k);if(k.inLinked)return Q(L,k)||y(k);switch(L.currentChar()){case"{":return se(L,k)||y(k);case"}":return d(Ue.UNBALANCED_CLOSING_BRACE,s(),0),L.next(),p(k,3,"}");case"@":return Q(L,k)||y(k);default:{if(U(L))return V=p(k,1,H(L)),k.braceNest=0,k.inLinked=!1,V;const{isModulo:re,hasSpace:ne}=j(L);if(re)return ne?p(k,0,je(L)):p(k,4,Me(L));if(F(L))return p(k,0,je(L));break}}return V}function ye(){const{currentType:L,offset:k,startLoc:V,endLoc:ee}=l;return l.lastType=L,l.lastOffset=k,l.lastStartLoc=V,l.lastEndLoc=ee,l.offset=n(),l.startLoc=s(),r.currentChar()===va?p(l,14):le(r,l)}return{nextToken:ye,currentOffset:n,currentPosition:s,context:c}}const Kie="parser",Zie=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Xie(e,t,i){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||i,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function Qie(e={}){const t=e.location!==!1,{onError:i,onWarn:r}=e;function n(w,b,M,I,...C){const P=w.currentPosition();if(P.offset+=I,P.column+=I,i){const N=t?Vg(M,P):null,U=Tf(b,N,{domain:Kie,args:C});i(U)}}function s(w,b,M,I,...C){const P=w.currentPosition();if(P.offset+=I,P.column+=I,r){const N=t?Vg(M,P):null;r(jie(b,N,C))}}function o(w,b,M){const I={type:w};return t&&(I.start=b,I.end=b,I.loc={start:M,end:M}),I}function a(w,b,M,I){t&&(w.end=b,w.loc&&(w.loc.end=M))}function l(w,b){const M=w.context(),I=o(3,M.offset,M.startLoc);return I.value=b,a(I,w.currentOffset(),w.currentPosition()),I}function c(w,b){const M=w.context(),{lastOffset:I,lastStartLoc:C}=M,P=o(5,I,C);return P.index=parseInt(b,10),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function f(w,b,M){const I=w.context(),{lastOffset:C,lastStartLoc:P}=I,N=o(4,C,P);return N.key=b,M===!0&&(N.modulo=!0),w.nextToken(),a(N,w.currentOffset(),w.currentPosition()),N}function d(w,b){const M=w.context(),{lastOffset:I,lastStartLoc:C}=M,P=o(9,I,C);return P.value=b.replace(Zie,Xie),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function p(w){const b=w.nextToken(),M=w.context(),{lastOffset:I,lastStartLoc:C}=M,P=o(8,I,C);return b.type!==12?(n(w,Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),P.value="",a(P,I,C),{nextConsumeToken:b,node:P}):(b.value==null&&n(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,Xn(b)),P.value=b.value||"",a(P,w.currentOffset(),w.currentPosition()),{node:P})}function y(w,b){const M=w.context(),I=o(7,M.offset,M.startLoc);return I.value=b,a(I,w.currentOffset(),w.currentPosition()),I}function v(w){const b=w.context(),M=o(6,b.offset,b.startLoc);let I=w.nextToken();if(I.type===9){const C=p(w);M.modifier=C.node,I=C.nextConsumeToken||w.nextToken()}switch(I.type!==10&&n(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Xn(I)),I=w.nextToken(),I.type===2&&(I=w.nextToken()),I.type){case 11:I.value==null&&n(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Xn(I)),M.key=y(w,I.value||"");break;case 5:I.value==null&&n(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Xn(I)),M.key=f(w,I.value||"");break;case 6:I.value==null&&n(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Xn(I)),M.key=c(w,I.value||"");break;case 7:I.value==null&&n(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Xn(I)),M.key=d(w,I.value||"");break;default:{n(w,Ue.UNEXPECTED_EMPTY_LINKED_KEY,b.lastStartLoc,0);const C=w.context(),P=o(7,C.offset,C.startLoc);return P.value="",a(P,C.offset,C.startLoc),M.key=P,a(M,C.offset,C.startLoc),{nextConsumeToken:I,node:M}}}return a(M,w.currentOffset(),w.currentPosition()),{node:M}}function _(w){const b=w.context(),M=b.currentType===1?w.currentOffset():b.offset,I=b.currentType===1?b.endLoc:b.startLoc,C=o(2,M,I);C.items=[];let P=null,N=null;do{const F=P||w.nextToken();switch(P=null,F.type){case 0:F.value==null&&n(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Xn(F)),C.items.push(l(w,F.value||""));break;case 6:F.value==null&&n(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Xn(F)),C.items.push(c(w,F.value||""));break;case 4:N=!0;break;case 5:F.value==null&&n(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Xn(F)),C.items.push(f(w,F.value||"",!!N)),N&&(s(w,u3.USE_MODULO_SYNTAX,b.lastStartLoc,0,Xn(F)),N=null);break;case 7:F.value==null&&n(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Xn(F)),C.items.push(d(w,F.value||""));break;case 8:{const q=v(w);C.items.push(q.node),P=q.nextConsumeToken||null;break}}}while(b.currentType!==14&&b.currentType!==1);const U=b.currentType===1?b.lastOffset:w.currentOffset(),j=b.currentType===1?b.lastEndLoc:w.currentPosition();return a(C,U,j),C}function E(w,b,M,I){const C=w.context();let P=I.items.length===0;const N=o(1,b,M);N.cases=[],N.cases.push(I);do{const U=_(w);P||(P=U.items.length===0),N.cases.push(U)}while(C.currentType!==14);return P&&n(w,Ue.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),a(N,w.currentOffset(),w.currentPosition()),N}function x(w){const b=w.context(),{offset:M,startLoc:I}=b,C=_(w);return b.currentType===14?C:E(w,M,I,C)}function A(w){const b=Jie(w,P8({},e)),M=b.context(),I=o(0,M.offset,M.startLoc);return t&&I.loc&&(I.loc.source=w),I.body=x(b),e.onCacheKey&&(I.cacheKey=e.onCacheKey(w)),M.currentType!==14&&n(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,w[M.offset]||""),a(I,b.currentOffset(),b.currentPosition()),I}return{parse:A}}function Xn(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function ere(e,t={}){const i={ast:e,helpers:new Set};return{context:()=>i,helper:s=>(i.helpers.add(s),s)}}function WM(e,t){for(let i=0;i<e.length;i++)h3(e[i],t)}function h3(e,t){switch(e.type){case 1:WM(e.cases,t),t.helper("plural");break;case 2:WM(e.items,t);break;case 6:{h3(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function tre(e,t={}){const i=ere(e);i.helper("normalize"),e.body&&h3(e.body,i);const r=i.context();e.helpers=Array.from(r.helpers)}function ire(e){const t=e.body;return t.type===2?HM(t):t.cases.forEach(i=>HM(i)),e}function HM(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let i=0;i<e.items.length;i++){const r=e.items[i];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=L8(t);for(let i=0;i<e.items.length;i++){const r=e.items[i];(r.type===3||r.type===9)&&delete r.value}}}}const rre="minifier";function Gu(e){switch(e.t=e.type,e.type){case 0:{const t=e;Gu(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,i=t.cases;for(let r=0;r<i.length;r++)Gu(i[r]);t.c=i,delete t.cases;break}case 2:{const t=e,i=t.items;for(let r=0;r<i.length;r++)Gu(i[r]);t.i=i,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;Gu(t.key),t.k=t.key,delete t.key,t.modifier&&(Gu(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw Tf(Ue.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:rre,args:[e.type]})}delete e.type}const nre="parser";function sre(e,t){const{sourceMap:i,filename:r,breakLineCode:n,needIndent:s}=t,o=t.location!==!1,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:s,indentLevel:0};o&&e.loc&&(a.source=e.loc.source);const l=()=>a;function c(E,x){a.code+=E}function f(E,x=!0){const A=x?n:"";c(s?A+"  ".repeat(E):A)}function d(E=!0){const x=++a.indentLevel;E&&f(x)}function p(E=!0){const x=--a.indentLevel;E&&f(x)}function y(){f(a.indentLevel)}return{context:l,push:c,indent:d,deindent:p,newline:y,helper:E=>`_${E}`,needIndent:()=>a.needIndent}}function ore(e,t){const{helper:i}=e;e.push(`${i("linked")}(`),zh(e,t.key),t.modifier?(e.push(", "),zh(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function are(e,t){const{helper:i,needIndent:r}=e;e.push(`${i("normalize")}([`),e.indent(r());const n=t.items.length;for(let s=0;s<n&&(zh(e,t.items[s]),s!==n-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function lre(e,t){const{helper:i,needIndent:r}=e;if(t.cases.length>1){e.push(`${i("plural")}([`),e.indent(r());const n=t.cases.length;for(let s=0;s<n&&(zh(e,t.cases[s]),s!==n-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function cre(e,t){t.body?zh(e,t.body):e.push("null")}function zh(e,t){const{helper:i}=e;switch(t.type){case 0:cre(e,t);break;case 1:lre(e,t);break;case 2:are(e,t);break;case 6:ore(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${i("interpolate")}(${i("list")}(${t.index}))`,t);break;case 4:e.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Tf(Ue.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:nre,args:[t.type]})}}const ure=(e,t={})=>{const i=zM(t.mode)?t.mode:"normal",r=zM(t.filename)?t.filename:"message.intl",n=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:i==="arrow"?";":`
`,o=t.needIndent?t.needIndent:i!=="arrow",a=e.helpers||[],l=sre(e,{mode:i,filename:r,sourceMap:n,breakLineCode:s,needIndent:o});l.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push(`const { ${L8(a.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),zh(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:c,map:f}=l.context();return{ast:e,code:c,map:f?f.toJSON():void 0}};function hre(e,t={}){const i=P8({},t),r=!!i.jit,n=!!i.minify,s=i.optimize==null?!0:i.optimize,a=Qie(i).parse(e);return r?(s&&ire(a),n&&Gu(a),{ast:a,code:""}):(tre(a,i),ure(a,i))}/*!
  * core-base v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function fre(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Wo().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Wo().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Wo().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Al=[];Al[0]={w:[0],i:[3,0],"[":[4],o:[7]};Al[1]={w:[1],".":[2],"[":[4],o:[7]};Al[2]={w:[2],i:[3,0],0:[3,0]};Al[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Al[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Al[5]={"'":[4,0],o:8,l:[5,0]};Al[6]={'"':[4,0],o:8,l:[6,0]};const dre=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function pre(e){return dre.test(e)}function mre(e){const t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function yre(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function gre(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:pre(t)?mre(t):"*"+t}function vre(e){const t=[];let i=-1,r=0,n=0,s,o,a,l,c,f,d;const p=[];p[0]=()=>{o===void 0?o=a:o+=a},p[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},p[2]=()=>{p[0](),n++},p[3]=()=>{if(n>0)n--,r=4,p[0]();else{if(n=0,o===void 0||(o=gre(o),o===!1))return!1;p[1]()}};function y(){const v=e[i+1];if(r===5&&v==="'"||r===6&&v==='"')return i++,a="\\"+v,p[0](),!0}for(;r!==null;)if(i++,s=e[i],!(s==="\\"&&y())){if(l=yre(s),d=Al[r],c=d[l]||d.l||8,c===8||(r=c[0],c[1]!==void 0&&(f=p[c[1]],f&&(a=s,f()===!1))))return;if(r===7)return t}}const YM=new Map;function bre(e,t){return pt(e)?e[t]:null}function _re(e,t){if(!pt(e))return null;let i=YM.get(t);if(i||(i=vre(t),i&&YM.set(t,i)),!i)return null;const r=i.length;let n=e,s=0;for(;s<r;){const o=n[i[s]];if(o===void 0||Ft(n))return null;n=o,s++}return n}const wre=e=>e,Sre=e=>"",xre="text",Ere=e=>e.length===0?"":Lie(e),Tre=Pie;function JM(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Are(e){const t=_i(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(_i(e.named.count)||_i(e.named.n))?_i(e.named.count)?e.named.count:_i(e.named.n)?e.named.n:t:t}function Mre(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Ire(e={}){const t=e.locale,i=Are(e),r=pt(e.pluralRules)&&_e(t)&&Ft(e.pluralRules[t])?e.pluralRules[t]:JM,n=pt(e.pluralRules)&&_e(t)&&Ft(e.pluralRules[t])?JM:void 0,s=x=>x[r(i,x.length,n)],o=e.list||[],a=x=>o[x],l=e.named||$t();_i(e.pluralIndex)&&Mre(i,l);const c=x=>l[x];function f(x){const A=Ft(e.messages)?e.messages(x):pt(e.messages)?e.messages[x]:!1;return A||(e.parent?e.parent.message(x):Sre)}const d=x=>e.modifiers?e.modifiers[x]:wre,p=qe(e.processor)&&Ft(e.processor.normalize)?e.processor.normalize:Ere,y=qe(e.processor)&&Ft(e.processor.interpolate)?e.processor.interpolate:Tre,v=qe(e.processor)&&_e(e.processor.type)?e.processor.type:xre,E={list:a,named:c,plural:s,linked:(x,...A)=>{const[w,b]=A;let M="text",I="";A.length===1?pt(w)?(I=w.modifier||I,M=w.type||M):_e(w)&&(I=w||I):A.length===2&&(_e(w)&&(I=w||I),_e(b)&&(M=b||M));const C=f(x)(E),P=M==="vnode"&&Jt(C)&&I?C[0]:C;return I?d(I)(P,M):P},message:f,type:v,interpolate:y,normalize:p,values:or($t(),o,l)};return E}let Bp=null;function Ore(e){Bp=e}function $re(e,t,i){Bp&&Bp.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:i})}const Cre=Nre("function:translate");function Nre(e){return t=>Bp&&Bp.emit(e,t)}const k8=u3.__EXTEND_POINT__,Fl=Ev(k8),Pre={NOT_FOUND_KEY:k8,FALLBACK_TO_TRANSLATE:Fl(),CANNOT_FORMAT_NUMBER:Fl(),FALLBACK_TO_NUMBER_FORMAT:Fl(),CANNOT_FORMAT_DATE:Fl(),FALLBACK_TO_DATE_FORMAT:Fl(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Fl(),__EXTEND_POINT__:Fl()},R8=Ue.__EXTEND_POINT__,Ul=Ev(R8),hs={INVALID_ARGUMENT:R8,INVALID_DATE_ARGUMENT:Ul(),INVALID_ISO_DATE_ARGUMENT:Ul(),NOT_SUPPORT_NON_STRING_MESSAGE:Ul(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Ul(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Ul(),NOT_SUPPORT_LOCALE_TYPE:Ul(),__EXTEND_POINT__:Ul()};function Qs(e){return Tf(e,null,void 0)}function f3(e,t){return t.locale!=null?KM(t.locale):KM(e.locale)}let Bb;function KM(e){if(_e(e))return e;if(Ft(e)){if(e.resolvedOnce&&Bb!=null)return Bb;if(e.constructor.name==="Function"){const t=e();if(Nie(t))throw Qs(hs.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Bb=t}else throw Qs(hs.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Qs(hs.NOT_SUPPORT_LOCALE_TYPE)}function Lre(e,t,i){return[...new Set([i,...Jt(t)?t:pt(t)?Object.keys(t):_e(t)?[t]:[i]])]}function D8(e,t,i){const r=_e(i)?i:qh,n=e;n.__localeChainCache||(n.__localeChainCache=new Map);let s=n.__localeChainCache.get(r);if(!s){s=[];let o=[i];for(;Jt(o);)o=ZM(s,o,t);const a=Jt(t)||!qe(t)?t:t.default?t.default:null;o=_e(a)?[a]:a,Jt(o)&&ZM(s,o,!1),n.__localeChainCache.set(r,s)}return s}function ZM(e,t,i){let r=!0;for(let n=0;n<t.length&&it(r);n++){const s=t[n];_e(s)&&(r=kre(e,t[n],i))}return r}function kre(e,t,i){let r;const n=t.split("-");do{const s=n.join("-");r=Rre(e,s,i),n.splice(-1,1)}while(n.length&&r===!0);return r}function Rre(e,t,i){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const n=t.replace(/!/g,"");e.push(n),(Jt(i)||qe(i))&&i[n]&&(r=i[n])}return r}const Dre="9.14.3",Tv=-1,qh="en-US",XM="",QM=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Fre(){return{upper:(e,t)=>t==="text"&&_e(e)?e.toUpperCase():t==="vnode"&&pt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&_e(e)?e.toLowerCase():t==="vnode"&&pt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&_e(e)?QM(e):t==="vnode"&&pt(e)&&"__v_isVNode"in e?QM(e.children):e}}let F8;function eI(e){F8=e}let U8;function Ure(e){U8=e}let j8;function jre(e){j8=e}let G8=null;const Gre=e=>{G8=e},Bre=()=>G8;let B8=null;const tI=e=>{B8=e},Vre=()=>B8;let iI=0;function zre(e={}){const t=Ft(e.onWarn)?e.onWarn:kie,i=_e(e.version)?e.version:Dre,r=_e(e.locale)||Ft(e.locale)?e.locale:qh,n=Ft(r)?qh:r,s=Jt(e.fallbackLocale)||qe(e.fallbackLocale)||_e(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n,o=qe(e.messages)?e.messages:Vb(n),a=qe(e.datetimeFormats)?e.datetimeFormats:Vb(n),l=qe(e.numberFormats)?e.numberFormats:Vb(n),c=or($t(),e.modifiers,Fre()),f=e.pluralRules||$t(),d=Ft(e.missing)?e.missing:null,p=it(e.missingWarn)||pl(e.missingWarn)?e.missingWarn:!0,y=it(e.fallbackWarn)||pl(e.fallbackWarn)?e.fallbackWarn:!0,v=!!e.fallbackFormat,_=!!e.unresolving,E=Ft(e.postTranslation)?e.postTranslation:null,x=qe(e.processor)?e.processor:null,A=it(e.warnHtmlMessage)?e.warnHtmlMessage:!0,w=!!e.escapeParameter,b=Ft(e.messageCompiler)?e.messageCompiler:F8,M=Ft(e.messageResolver)?e.messageResolver:U8||bre,I=Ft(e.localeFallbacker)?e.localeFallbacker:j8||Lre,C=pt(e.fallbackContext)?e.fallbackContext:void 0,P=e,N=pt(P.__datetimeFormatters)?P.__datetimeFormatters:new Map,U=pt(P.__numberFormatters)?P.__numberFormatters:new Map,j=pt(P.__meta)?P.__meta:{};iI++;const F={version:i,cid:iI,locale:r,fallbackLocale:s,messages:o,modifiers:c,pluralRules:f,missing:d,missingWarn:p,fallbackWarn:y,fallbackFormat:v,unresolving:_,postTranslation:E,processor:x,warnHtmlMessage:A,escapeParameter:w,messageCompiler:b,messageResolver:M,localeFallbacker:I,fallbackContext:C,onWarn:t,__meta:j};return F.datetimeFormats=a,F.numberFormats=l,F.__datetimeFormatters=N,F.__numberFormatters=U,__INTLIFY_PROD_DEVTOOLS__&&$re(F,i,j),F}const Vb=e=>({[e]:$t()});function d3(e,t,i,r,n){const{missing:s,onWarn:o}=e;if(s!==null){const a=s(e,i,t,n);return _e(a)?a:t}else return t}function Gf(e,t,i){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,i,t)}function qre(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Wre(e,t){const i=t.indexOf(e);if(i===-1)return!1;for(let r=i+1;r<t.length;r++)if(qre(e,t[r]))return!0;return!1}function zb(e){return i=>Hre(i,e)}function Hre(e,t){const i=Jre(t);if(i==null)throw Vp(0);if(p3(i)===1){const s=Zre(i);return e.plural(s.reduce((o,a)=>[...o,rI(e,a)],[]))}else return rI(e,i)}const Yre=["b","body"];function Jre(e){return Ml(e,Yre)}const Kre=["c","cases"];function Zre(e){return Ml(e,Kre,[])}function rI(e,t){const i=Qre(t);if(i!=null)return e.type==="text"?i:e.normalize([i]);{const r=tne(t).reduce((n,s)=>[...n,Kw(e,s)],[]);return e.normalize(r)}}const Xre=["s","static"];function Qre(e){return Ml(e,Xre)}const ene=["i","items"];function tne(e){return Ml(e,ene,[])}function Kw(e,t){const i=p3(t);switch(i){case 3:return _0(t,i);case 9:return _0(t,i);case 4:{const r=t;if(us(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(us(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw Vp(i)}case 5:{const r=t;if(us(r,"i")&&_i(r.i))return e.interpolate(e.list(r.i));if(us(r,"index")&&_i(r.index))return e.interpolate(e.list(r.index));throw Vp(i)}case 6:{const r=t,n=sne(r),s=ane(r);return e.linked(Kw(e,s),n?Kw(e,n):void 0,e.type)}case 7:return _0(t,i);case 8:return _0(t,i);default:throw new Error(`unhandled node on format message part: ${i}`)}}const ine=["t","type"];function p3(e){return Ml(e,ine)}const rne=["v","value"];function _0(e,t){const i=Ml(e,rne);if(i)return i;throw Vp(t)}const nne=["m","modifier"];function sne(e){return Ml(e,nne)}const one=["k","key"];function ane(e){const t=Ml(e,one);if(t)return t;throw Vp(6)}function Ml(e,t,i){for(let r=0;r<t.length;r++){const n=t[r];if(us(e,n)&&e[n]!=null)return e[n]}return i}function Vp(e){return new Error(`unhandled node type: ${e}`)}const V8=e=>e;let eh=$t();function Wh(e){return pt(e)&&p3(e)===0&&(us(e,"b")||us(e,"body"))}function z8(e,t={}){let i=!1;const r=t.onError||Bie;return t.onError=n=>{i=!0,r(n)},{...hre(e,t),detectError:i}}const lne=(e,t)=>{if(!_e(e))throw Qs(hs.NOT_SUPPORT_NON_STRING_MESSAGE);{it(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||V8)(e),n=eh[r];if(n)return n;const{code:s,detectError:o}=z8(e,t),a=new Function(`return ${s}`)();return o?a:eh[r]=a}};function cne(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&_e(e)){it(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||V8)(e),n=eh[r];if(n)return n;const{ast:s,detectError:o}=z8(e,{...t,location:!1,jit:!0}),a=zb(s);return o?a:eh[r]=a}else{const i=e.cacheKey;if(i){const r=eh[i];return r||(eh[i]=zb(e))}else return zb(e)}}const nI=()=>"",Rn=e=>Ft(e);function sI(e,...t){const{fallbackFormat:i,postTranslation:r,unresolving:n,messageCompiler:s,fallbackLocale:o,messages:a}=e,[l,c]=Zw(...t),f=it(c.missingWarn)?c.missingWarn:e.missingWarn,d=it(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,p=it(c.escapeParameter)?c.escapeParameter:e.escapeParameter,y=!!c.resolvedMessage,v=_e(c.default)||it(c.default)?it(c.default)?s?l:()=>l:c.default:i?s?l:()=>l:"",_=i||v!=="",E=f3(e,c);p&&une(c);let[x,A,w]=y?[l,E,a[E]||$t()]:q8(e,l,E,o,d,f),b=x,M=l;if(!y&&!(_e(b)||Wh(b)||Rn(b))&&_&&(b=v,M=b),!y&&(!(_e(b)||Wh(b)||Rn(b))||!_e(A)))return n?Tv:l;let I=!1;const C=()=>{I=!0},P=Rn(b)?b:W8(e,l,A,b,M,C);if(I)return b;const N=dne(e,A,w,c),U=Ire(N),j=hne(e,P,U),F=r?r(j,l):j;if(__INTLIFY_PROD_DEVTOOLS__){const q={timestamp:Date.now(),key:_e(l)?l:Rn(b)?b.key:"",locale:A||(Rn(b)?b.locale:""),format:_e(b)?b:Rn(b)?b.source:"",message:F};q.meta=or({},e.__meta,Bre()||{}),Cre(q)}return F}function une(e){Jt(e.list)?e.list=e.list.map(t=>_e(t)?VM(t):t):pt(e.named)&&Object.keys(e.named).forEach(t=>{_e(e.named[t])&&(e.named[t]=VM(e.named[t]))})}function q8(e,t,i,r,n,s){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=e,f=c(e,r,i);let d=$t(),p,y=null;const v="translate";for(let _=0;_<f.length&&(p=f[_],d=o[p]||$t(),(y=l(d,t))===null&&(y=d[t]),!(_e(y)||Wh(y)||Rn(y)));_++)if(!Wre(p,f)){const E=d3(e,t,p,s,v);E!==t&&(y=E)}return[y,p,d]}function W8(e,t,i,r,n,s){const{messageCompiler:o,warnHtmlMessage:a}=e;if(Rn(r)){const c=r;return c.locale=c.locale||i,c.key=c.key||t,c}if(o==null){const c=()=>r;return c.locale=i,c.key=t,c}const l=o(r,fne(e,i,n,r,a,s));return l.locale=i,l.key=t,l.source=r,l}function hne(e,t,i){return t(i)}function Zw(...e){const[t,i,r]=e,n=$t();if(!_e(t)&&!_i(t)&&!Rn(t)&&!Wh(t))throw Qs(hs.INVALID_ARGUMENT);const s=_i(t)?String(t):(Rn(t),t);return _i(i)?n.plural=i:_e(i)?n.default=i:qe(i)&&!xv(i)?n.named=i:Jt(i)&&(n.list=i),_i(r)?n.plural=r:_e(r)?n.default=r:qe(r)&&or(n,r),[s,n]}function fne(e,t,i,r,n,s){return{locale:t,key:i,warnHtmlMessage:n,onError:o=>{throw s&&s(o),o},onCacheKey:o=>Mie(t,i,o)}}function dne(e,t,i,r){const{modifiers:n,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:f}=e,p={locale:t,modifiers:n,pluralRules:s,messages:y=>{let v=o(i,y);if(v==null&&f){const[,,_]=q8(f,y,t,a,l,c);v=o(_,y)}if(_e(v)||Wh(v)){let _=!1;const x=W8(e,y,t,v,y,()=>{_=!0});return _?nI:x}else return Rn(v)?v:nI}};return e.processor&&(p.processor=e.processor),r.list&&(p.list=r.list),r.named&&(p.named=r.named),_i(r.plural)&&(p.pluralIndex=r.plural),p}function oI(e,...t){const{datetimeFormats:i,unresolving:r,fallbackLocale:n,onWarn:s,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[l,c,f,d]=Xw(...t),p=it(f.missingWarn)?f.missingWarn:e.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,v=f3(e,f),_=o(e,n,v);if(!_e(l)||l==="")return new Intl.DateTimeFormat(v,d).format(c);let E={},x,A=null;const w="datetime format";for(let I=0;I<_.length&&(x=_[I],E=i[x]||{},A=E[l],!qe(A));I++)d3(e,l,x,p,w);if(!qe(A)||!_e(x))return r?Tv:l;let b=`${x}__${l}`;xv(d)||(b=`${b}__${JSON.stringify(d)}`);let M=a.get(b);return M||(M=new Intl.DateTimeFormat(x,or({},A,d)),a.set(b,M)),y?M.formatToParts(c):M.format(c)}const H8=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Xw(...e){const[t,i,r,n]=e,s=$t();let o=$t(),a;if(_e(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Qs(hs.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Qs(hs.INVALID_ISO_DATE_ARGUMENT)}}else if(Oie(t)){if(isNaN(t.getTime()))throw Qs(hs.INVALID_DATE_ARGUMENT);a=t}else if(_i(t))a=t;else throw Qs(hs.INVALID_ARGUMENT);return _e(i)?s.key=i:qe(i)&&Object.keys(i).forEach(l=>{H8.includes(l)?o[l]=i[l]:s[l]=i[l]}),_e(r)?s.locale=r:qe(r)&&(o=r),qe(n)&&(o=n),[s.key||"",a,s,o]}function aI(e,t,i){const r=e;for(const n in i){const s=`${t}__${n}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function lI(e,...t){const{numberFormats:i,unresolving:r,fallbackLocale:n,onWarn:s,localeFallbacker:o}=e,{__numberFormatters:a}=e,[l,c,f,d]=Qw(...t),p=it(f.missingWarn)?f.missingWarn:e.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,v=f3(e,f),_=o(e,n,v);if(!_e(l)||l==="")return new Intl.NumberFormat(v,d).format(c);let E={},x,A=null;const w="number format";for(let I=0;I<_.length&&(x=_[I],E=i[x]||{},A=E[l],!qe(A));I++)d3(e,l,x,p,w);if(!qe(A)||!_e(x))return r?Tv:l;let b=`${x}__${l}`;xv(d)||(b=`${b}__${JSON.stringify(d)}`);let M=a.get(b);return M||(M=new Intl.NumberFormat(x,or({},A,d)),a.set(b,M)),y?M.formatToParts(c):M.format(c)}const Y8=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Qw(...e){const[t,i,r,n]=e,s=$t();let o=$t();if(!_i(t))throw Qs(hs.INVALID_ARGUMENT);const a=t;return _e(i)?s.key=i:qe(i)&&Object.keys(i).forEach(l=>{Y8.includes(l)?o[l]=i[l]:s[l]=i[l]}),_e(r)?s.locale=r:qe(r)&&(o=r),qe(n)&&(o=n),[s.key||"",a,s,o]}function cI(e,t,i){const r=e;for(const n in i){const s=`${t}__${n}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}fre();/*!
  * vue-i18n v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const pne="9.14.3";function mne(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Wo().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Wo().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Wo().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Wo().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Wo().__INTLIFY_PROD_DEVTOOLS__=!1)}const J8=Pre.__EXTEND_POINT__,Mo=Ev(J8);Mo(),Mo(),Mo(),Mo(),Mo(),Mo(),Mo(),Mo(),Mo();const K8=hs.__EXTEND_POINT__,jr=Ev(K8),Wi={UNEXPECTED_RETURN_TYPE:K8,INVALID_ARGUMENT:jr(),MUST_BE_CALL_SETUP_TOP:jr(),NOT_INSTALLED:jr(),NOT_AVAILABLE_IN_LEGACY_MODE:jr(),REQUIRED_VALUE:jr(),INVALID_VALUE:jr(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:jr(),NOT_INSTALLED_WITH_PROVIDE:jr(),UNEXPECTED_ERROR:jr(),NOT_COMPATIBLE_LEGACY_VUE_I18N:jr(),BRIDGE_SUPPORT_VUE_2_ONLY:jr(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:jr(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:jr(),__EXTEND_POINT__:jr()};function Qi(e,...t){return Tf(e,null,void 0)}const eS=Tl("__translateVNode"),tS=Tl("__datetimeParts"),iS=Tl("__numberParts"),Z8=Tl("__setPluralRules"),X8=Tl("__injectWithOption"),rS=Tl("__dispose");function zp(e){if(!pt(e))return e;for(const t in e)if(us(e,t))if(!t.includes("."))pt(e[t])&&zp(e[t]);else{const i=t.split("."),r=i.length-1;let n=e,s=!1;for(let o=0;o<r;o++){if(i[o]==="__proto__")throw new Error(`unsafe key: ${i[o]}`);if(i[o]in n||(n[i[o]]=$t()),!pt(n[i[o]])){s=!0;break}n=n[i[o]]}s||(n[i[r]]=e[t],delete e[t]),pt(n[i[r]])&&zp(n[i[r]])}return e}function Av(e,t){const{messages:i,__i18n:r,messageResolver:n,flatJson:s}=t,o=qe(i)?i:Jt(r)?$t():{[e]:$t()};if(Jt(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||$t(),My(c,o[l])):My(c,o)}else _e(a)&&My(JSON.parse(a),o)}),n==null&&s)for(const a in o)us(o,a)&&zp(o[a]);return o}function Q8(e){return e.type}function eR(e,t,i){let r=pt(t.messages)?t.messages:$t();"__i18nGlobal"in i&&(r=Av(e.locale.value,{messages:r,__i18n:i.__i18nGlobal}));const n=Object.keys(r);n.length&&n.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(pt(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(pt(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function uI(e){return Ze(oo,null,e,0)}const hI="__INTLIFY_META__",fI=()=>[],yne=()=>!1;let dI=0;function pI(e){return(t,i,r,n)=>e(i,r,Ni()||void 0,n)}const gne=()=>{const e=Ni();let t=null;return e&&(t=Q8(e)[hI])?{[hI]:t}:null};function m3(e={},t){const{__root:i,__injectWithOption:r}=e,n=i===void 0,s=e.flatJson,o=Bg?X:xf,a=!!e.translateExistCompatible;let l=it(e.inheritLocale)?e.inheritLocale:!0;const c=o(i&&l?i.locale.value:_e(e.locale)?e.locale:qh),f=o(i&&l?i.fallbackLocale.value:_e(e.fallbackLocale)||Jt(e.fallbackLocale)||qe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:c.value),d=o(Av(c.value,e)),p=o(qe(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),y=o(qe(e.numberFormats)?e.numberFormats:{[c.value]:{}});let v=i?i.missingWarn:it(e.missingWarn)||pl(e.missingWarn)?e.missingWarn:!0,_=i?i.fallbackWarn:it(e.fallbackWarn)||pl(e.fallbackWarn)?e.fallbackWarn:!0,E=i?i.fallbackRoot:it(e.fallbackRoot)?e.fallbackRoot:!0,x=!!e.fallbackFormat,A=Ft(e.missing)?e.missing:null,w=Ft(e.missing)?pI(e.missing):null,b=Ft(e.postTranslation)?e.postTranslation:null,M=i?i.warnHtmlMessage:it(e.warnHtmlMessage)?e.warnHtmlMessage:!0,I=!!e.escapeParameter;const C=i?i.modifiers:qe(e.modifiers)?e.modifiers:{};let P=e.pluralRules||i&&i.pluralRules,N;N=(()=>{n&&tI(null);const W={version:pne,locale:c.value,fallbackLocale:f.value,messages:d.value,modifiers:C,pluralRules:P,missing:w===null?void 0:w,missingWarn:v,fallbackWarn:_,fallbackFormat:x,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:M,escapeParameter:I,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};W.datetimeFormats=p.value,W.numberFormats=y.value,W.__datetimeFormatters=qe(N)?N.__datetimeFormatters:void 0,W.__numberFormatters=qe(N)?N.__numberFormatters:void 0;const K=zre(W);return n&&tI(K),K})(),Gf(N,c.value,f.value);function j(){return[c.value,f.value,d.value,p.value,y.value]}const F=et({get:()=>c.value,set:W=>{c.value=W,N.locale=c.value}}),q=et({get:()=>f.value,set:W=>{f.value=W,N.fallbackLocale=f.value,Gf(N,c.value,W)}}),te=et(()=>d.value),h=et(()=>p.value),m=et(()=>y.value);function S(){return Ft(b)?b:null}function $(W){b=W,N.postTranslation=W}function B(){return A}function Y(W){W!==null&&(w=pI(W)),A=W,N.missing=w}const pe=(W,K,Te,Le,Rt,zt)=>{j();let ai;try{__INTLIFY_PROD_DEVTOOLS__,n||(N.fallbackContext=i?Vre():void 0),ai=W(N)}finally{__INTLIFY_PROD_DEVTOOLS__,n||(N.fallbackContext=void 0)}if(Te!=="translate exists"&&_i(ai)&&ai===Tv||Te==="translate exists"&&!ai){const[Li,Z]=K();return i&&E?Le(i):Rt(Li)}else{if(zt(ai))return ai;throw Qi(Wi.UNEXPECTED_RETURN_TYPE)}};function ae(...W){return pe(K=>Reflect.apply(sI,null,[K,...W]),()=>Zw(...W),"translate",K=>Reflect.apply(K.t,K,[...W]),K=>K,K=>_e(K))}function Me(...W){const[K,Te,Le]=W;if(Le&&!pt(Le))throw Qi(Wi.INVALID_ARGUMENT);return ae(K,Te,or({resolvedMessage:!0},Le||{}))}function je(...W){return pe(K=>Reflect.apply(oI,null,[K,...W]),()=>Xw(...W),"datetime format",K=>Reflect.apply(K.d,K,[...W]),()=>XM,K=>_e(K))}function ze(...W){return pe(K=>Reflect.apply(lI,null,[K,...W]),()=>Qw(...W),"number format",K=>Reflect.apply(K.n,K,[...W]),()=>XM,K=>_e(K))}function lt(W){return W.map(K=>_e(K)||_i(K)||it(K)?uI(String(K)):K)}const At={normalize:lt,interpolate:W=>W,type:"vnode"};function pi(...W){return pe(K=>{let Te;const Le=K;try{Le.processor=At,Te=Reflect.apply(sI,null,[Le,...W])}finally{Le.processor=null}return Te},()=>Zw(...W),"translate",K=>K[eS](...W),K=>[uI(K)],K=>Jt(K))}function kt(...W){return pe(K=>Reflect.apply(lI,null,[K,...W]),()=>Qw(...W),"number format",K=>K[iS](...W),fI,K=>_e(K)||Jt(K))}function ii(...W){return pe(K=>Reflect.apply(oI,null,[K,...W]),()=>Xw(...W),"datetime format",K=>K[tS](...W),fI,K=>_e(K)||Jt(K))}function Yi(W){P=W,N.pluralRules=P}function G(W,K){return pe(()=>{if(!W)return!1;const Te=_e(K)?K:c.value,Le=se(Te),Rt=N.messageResolver(Le,W);return a?Rt!=null:Wh(Rt)||Rn(Rt)||_e(Rt)},()=>[W],"translate exists",Te=>Reflect.apply(Te.te,Te,[W,K]),yne,Te=>it(Te))}function D(W){let K=null;const Te=D8(N,f.value,c.value);for(let Le=0;Le<Te.length;Le++){const Rt=d.value[Te[Le]]||{},zt=N.messageResolver(Rt,W);if(zt!=null){K=zt;break}}return K}function H(W){const K=D(W);return K??(i?i.tm(W)||{}:{})}function se(W){return d.value[W]||{}}function Q(W,K){if(s){const Te={[W]:K};for(const Le in Te)us(Te,Le)&&zp(Te[Le]);K=Te[W]}d.value[W]=K,N.messages=d.value}function le(W,K){d.value[W]=d.value[W]||{};const Te={[W]:K};if(s)for(const Le in Te)us(Te,Le)&&zp(Te[Le]);K=Te[W],My(K,d.value[W]),N.messages=d.value}function ye(W){return p.value[W]||{}}function L(W,K){p.value[W]=K,N.datetimeFormats=p.value,aI(N,W,K)}function k(W,K){p.value[W]=or(p.value[W]||{},K),N.datetimeFormats=p.value,aI(N,W,K)}function V(W){return y.value[W]||{}}function ee(W,K){y.value[W]=K,N.numberFormats=y.value,cI(N,W,K)}function re(W,K){y.value[W]=or(y.value[W]||{},K),N.numberFormats=y.value,cI(N,W,K)}dI++,i&&Bg&&(qi(i.locale,W=>{l&&(c.value=W,N.locale=W,Gf(N,c.value,f.value))}),qi(i.fallbackLocale,W=>{l&&(f.value=W,N.fallbackLocale=W,Gf(N,c.value,f.value))}));const ne={id:dI,locale:F,fallbackLocale:q,get inheritLocale(){return l},set inheritLocale(W){l=W,W&&i&&(c.value=i.locale.value,f.value=i.fallbackLocale.value,Gf(N,c.value,f.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:te,get modifiers(){return C},get pluralRules(){return P||{}},get isGlobal(){return n},get missingWarn(){return v},set missingWarn(W){v=W,N.missingWarn=v},get fallbackWarn(){return _},set fallbackWarn(W){_=W,N.fallbackWarn=_},get fallbackRoot(){return E},set fallbackRoot(W){E=W},get fallbackFormat(){return x},set fallbackFormat(W){x=W,N.fallbackFormat=x},get warnHtmlMessage(){return M},set warnHtmlMessage(W){M=W,N.warnHtmlMessage=W},get escapeParameter(){return I},set escapeParameter(W){I=W,N.escapeParameter=W},t:ae,getLocaleMessage:se,setLocaleMessage:Q,mergeLocaleMessage:le,getPostTranslationHandler:S,setPostTranslationHandler:$,getMissingHandler:B,setMissingHandler:Y,[Z8]:Yi};return ne.datetimeFormats=h,ne.numberFormats=m,ne.rt=Me,ne.te=G,ne.tm=H,ne.d=je,ne.n=ze,ne.getDateTimeFormat=ye,ne.setDateTimeFormat=L,ne.mergeDateTimeFormat=k,ne.getNumberFormat=V,ne.setNumberFormat=ee,ne.mergeNumberFormat=re,ne[X8]=r,ne[eS]=pi,ne[tS]=ii,ne[iS]=kt,ne}function vne(e){const t=_e(e.locale)?e.locale:qh,i=_e(e.fallbackLocale)||Jt(e.fallbackLocale)||qe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=Ft(e.missing)?e.missing:void 0,n=it(e.silentTranslationWarn)||pl(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=it(e.silentFallbackWarn)||pl(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=it(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=qe(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,f=Ft(e.postTranslation)?e.postTranslation:void 0,d=_e(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,y=it(e.sync)?e.sync:!0;let v=e.messages;if(qe(e.sharedMessages)){const I=e.sharedMessages;v=Object.keys(I).reduce((P,N)=>{const U=P[N]||(P[N]={});return or(U,I[N]),P},v||{})}const{__i18n:_,__root:E,__injectWithOption:x}=e,A=e.datetimeFormats,w=e.numberFormats,b=e.flatJson,M=e.translateExistCompatible;return{locale:t,fallbackLocale:i,messages:v,flatJson:b,datetimeFormats:A,numberFormats:w,missing:r,missingWarn:n,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:f,warnHtmlMessage:d,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:y,translateExistCompatible:M,__i18n:_,__root:E,__injectWithOption:x}}function nS(e={},t){{const i=m3(vne(e)),{__extender:r}=e,n={id:i.id,get locale(){return i.locale.value},set locale(s){i.locale.value=s},get fallbackLocale(){return i.fallbackLocale.value},set fallbackLocale(s){i.fallbackLocale.value=s},get messages(){return i.messages.value},get datetimeFormats(){return i.datetimeFormats.value},get numberFormats(){return i.numberFormats.value},get availableLocales(){return i.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return i.getMissingHandler()},set missing(s){i.setMissingHandler(s)},get silentTranslationWarn(){return it(i.missingWarn)?!i.missingWarn:i.missingWarn},set silentTranslationWarn(s){i.missingWarn=it(s)?!s:s},get silentFallbackWarn(){return it(i.fallbackWarn)?!i.fallbackWarn:i.fallbackWarn},set silentFallbackWarn(s){i.fallbackWarn=it(s)?!s:s},get modifiers(){return i.modifiers},get formatFallbackMessages(){return i.fallbackFormat},set formatFallbackMessages(s){i.fallbackFormat=s},get postTranslation(){return i.getPostTranslationHandler()},set postTranslation(s){i.setPostTranslationHandler(s)},get sync(){return i.inheritLocale},set sync(s){i.inheritLocale=s},get warnHtmlInMessage(){return i.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){i.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return i.escapeParameter},set escapeParameterHtml(s){i.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return i.pluralRules||{}},__composer:i,t(...s){const[o,a,l]=s,c={};let f=null,d=null;if(!_e(o))throw Qi(Wi.INVALID_ARGUMENT);const p=o;return _e(a)?c.locale=a:Jt(a)?f=a:qe(a)&&(d=a),Jt(l)?f=l:qe(l)&&(d=l),Reflect.apply(i.t,i,[p,f||d||{},c])},rt(...s){return Reflect.apply(i.rt,i,[...s])},tc(...s){const[o,a,l]=s,c={plural:1};let f=null,d=null;if(!_e(o))throw Qi(Wi.INVALID_ARGUMENT);const p=o;return _e(a)?c.locale=a:_i(a)?c.plural=a:Jt(a)?f=a:qe(a)&&(d=a),_e(l)?c.locale=l:Jt(l)?f=l:qe(l)&&(d=l),Reflect.apply(i.t,i,[p,f||d||{},c])},te(s,o){return i.te(s,o)},tm(s){return i.tm(s)},getLocaleMessage(s){return i.getLocaleMessage(s)},setLocaleMessage(s,o){i.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){i.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(i.d,i,[...s])},getDateTimeFormat(s){return i.getDateTimeFormat(s)},setDateTimeFormat(s,o){i.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){i.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(i.n,i,[...s])},getNumberFormat(s){return i.getNumberFormat(s)},setNumberFormat(s,o){i.setNumberFormat(s,o)},mergeNumberFormat(s,o){i.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return n.__extender=r,n}}const y3={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function bne({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,n)=>[...r,...n.type===Ot?n.children:[n]],[]):t.reduce((i,r)=>{const n=e[r];return n&&(i[r]=n()),i},$t())}function tR(e){return Ot}const _ne=rt({name:"i18n-t",props:or({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>_i(e)||!isNaN(e)}},y3),setup(e,t){const{slots:i,attrs:r}=t,n=e.i18n||ti({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(i).filter(d=>d!=="_"),o=$t();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=_e(e.plural)?+e.plural:e.plural);const a=bne(t,s),l=n[eS](e.keypath,a,o),c=or($t(),r),f=_e(e.tag)||pt(e.tag)?e.tag:tR();return Un(f,c,l)}}}),mI=_ne;function wne(e){return Jt(e)&&!_e(e[0])}function iR(e,t,i,r){const{slots:n,attrs:s}=t;return()=>{const o={part:!0};let a=$t();e.locale&&(o.locale=e.locale),_e(e.format)?o.key=e.format:pt(e.format)&&(_e(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((p,y)=>i.includes(y)?or($t(),p,{[y]:e.format[y]}):p,$t()));const l=r(e.value,o,a);let c=[o.key];Jt(l)?c=l.map((p,y)=>{const v=n[p.type],_=v?v({[p.type]:p.value,index:y,parts:l}):[p.value];return wne(_)&&(_[0].key=`${p.type}-${y}`),_}):_e(l)&&(c=[l]);const f=or($t(),s),d=_e(e.tag)||pt(e.tag)?e.tag:tR();return Un(d,f,c)}}const Sne=rt({name:"i18n-n",props:or({value:{type:Number,required:!0},format:{type:[String,Object]}},y3),setup(e,t){const i=e.i18n||ti({useScope:e.scope,__useComponent:!0});return iR(e,t,Y8,(...r)=>i[iS](...r))}}),yI=Sne,xne=rt({name:"i18n-d",props:or({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},y3),setup(e,t){const i=e.i18n||ti({useScope:e.scope,__useComponent:!0});return iR(e,t,H8,(...r)=>i[tS](...r))}}),gI=xne;function Ene(e,t){const i=e;if(e.mode==="composition")return i.__getInstance(t)||e.global;{const r=i.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function Tne(e){const t=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw Qi(Wi.UNEXPECTED_ERROR);const f=Ene(e,a.$),d=vI(c);return[Reflect.apply(f.t,f,[...bI(d)]),f]};return{created:(o,a)=>{const[l,c]=t(a);Bg&&e.global===c&&(o.__i18nWatcher=qi(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{Bg&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=vI(a);o.textContent=Reflect.apply(l.t,l,[...bI(c)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function vI(e){if(_e(e))return{path:e};if(qe(e)){if(!("path"in e))throw Qi(Wi.REQUIRED_VALUE,"path");return e}else throw Qi(Wi.INVALID_VALUE)}function bI(e){const{path:t,locale:i,args:r,choice:n,plural:s}=e,o={},a=r||{};return _e(i)&&(o.locale=i),_i(n)&&(o.plural=n),_i(s)&&(o.plural=s),[t,a,o]}function Ane(e,t,...i){const r=qe(i[0])?i[0]:{},n=!!r.useI18nComponentName;(it(r.globalInstall)?r.globalInstall:!0)&&([n?"i18n":mI.name,"I18nT"].forEach(o=>e.component(o,mI)),[yI.name,"I18nN"].forEach(o=>e.component(o,yI)),[gI.name,"I18nD"].forEach(o=>e.component(o,gI))),e.directive("t",Tne(t))}function Mne(e,t,i){return{beforeCreate(){const r=Ni();if(!r)throw Qi(Wi.UNEXPECTED_ERROR);const n=this.$options;if(n.i18n){const s=n.i18n;if(n.__i18n&&(s.__i18n=n.__i18n),s.__root=t,this===this.$root)this.$i18n=_I(e,s);else{s.__injectWithOption=!0,s.__extender=i.__vueI18nExtend,this.$i18n=nS(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(n.__i18n)if(this===this.$root)this.$i18n=_I(e,n);else{this.$i18n=nS({__i18n:n.__i18n,__injectWithOption:!0,__extender:i.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;n.__i18nGlobal&&eR(t,n,n),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),i.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Ni();if(!r)throw Qi(Wi.UNEXPECTED_ERROR);const n=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__disposer&&(n.__disposer(),delete n.__disposer,delete n.__extender),i.__deleteInstance(r),delete this.$i18n}}}function _I(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Z8](t.pluralizationRules||e.pluralizationRules);const i=Av(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(i).forEach(r=>e.mergeLocaleMessage(r,i[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const Ine=Tl("global-vue-i18n");function One(e={},t){const i=__VUE_I18N_LEGACY_API__&&it(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=it(e.globalInjection)?e.globalInjection:!0,n=__VUE_I18N_LEGACY_API__&&i?!!e.allowComposition:!0,s=new Map,[o,a]=$ne(e,i),l=Tl("");function c(p){return s.get(p)||null}function f(p,y){s.set(p,y)}function d(p){s.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&i?"legacy":"composition"},get allowComposition(){return n},async install(y,...v){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,p),qe(v[0])){const x=v[0];p.__composerExtend=x.__composerExtend,p.__vueI18nExtend=x.__vueI18nExtend}let _=null;!i&&r&&(_=Une(y,p.global)),__VUE_I18N_FULL_INSTALL__&&Ane(y,p,...v),__VUE_I18N_LEGACY_API__&&i&&y.mixin(Mne(a,a.__composer,p));const E=y.unmount;y.unmount=()=>{_&&_(),p.dispose(),E()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:c,__setInstance:f,__deleteInstance:d};return p}}function ti(e={}){const t=Ni();if(t==null)throw Qi(Wi.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Qi(Wi.NOT_INSTALLED);const i=Cne(t),r=Pne(i),n=Q8(t),s=Nne(e,n);if(__VUE_I18N_LEGACY_API__&&i.mode==="legacy"&&!e.__useComponent){if(!i.allowComposition)throw Qi(Wi.NOT_AVAILABLE_IN_LEGACY_MODE);return Dne(t,s,r,e)}if(s==="global")return eR(r,e,n),r;if(s==="parent"){let l=Lne(i,t,e.__useComponent);return l==null&&(l=r),l}const o=i;let a=o.__getInstance(t);if(a==null){const l=or({},e);"__i18n"in n&&(l.__i18n=n.__i18n),r&&(l.__root=r),a=m3(l),o.__composerExtend&&(a[rS]=o.__composerExtend(a)),Rne(o,t,a),o.__setInstance(t,a)}return a}function $ne(e,t,i){const r=_m();{const n=__VUE_I18N_LEGACY_API__&&t?r.run(()=>nS(e)):r.run(()=>m3(e));if(n==null)throw Qi(Wi.UNEXPECTED_ERROR);return[r,n]}}function Cne(e){{const t=Ci(e.isCE?Ine:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Qi(e.isCE?Wi.NOT_INSTALLED_WITH_PROVIDE:Wi.UNEXPECTED_ERROR);return t}}function Nne(e,t){return xv(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Pne(e){return e.mode==="composition"?e.global:e.global.__composer}function Lne(e,t,i=!1){let r=null;const n=t.root;let s=kne(t,i);for(;s!=null;){const o=e;if(e.mode==="composition")r=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(r=a.__composer,i&&r&&!r[X8]&&(r=null))}if(r!=null||n===s)break;s=s.parent}return r}function kne(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Rne(e,t,i){ar(()=>{},t),hu(()=>{const r=i;e.__deleteInstance(t);const n=r[rS];n&&(n(),delete r[rS])},t)}function Dne(e,t,i,r={}){const n=t==="local",s=xf(null);if(n&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw Qi(Wi.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=it(r.inheritLocale)?r.inheritLocale:!_e(r.locale),a=X(!n||o?i.locale.value:_e(r.locale)?r.locale:qh),l=X(!n||o?i.fallbackLocale.value:_e(r.fallbackLocale)||Jt(r.fallbackLocale)||qe(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),c=X(Av(a.value,r)),f=X(qe(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),d=X(qe(r.numberFormats)?r.numberFormats:{[a.value]:{}}),p=n?i.missingWarn:it(r.missingWarn)||pl(r.missingWarn)?r.missingWarn:!0,y=n?i.fallbackWarn:it(r.fallbackWarn)||pl(r.fallbackWarn)?r.fallbackWarn:!0,v=n?i.fallbackRoot:it(r.fallbackRoot)?r.fallbackRoot:!0,_=!!r.fallbackFormat,E=Ft(r.missing)?r.missing:null,x=Ft(r.postTranslation)?r.postTranslation:null,A=n?i.warnHtmlMessage:it(r.warnHtmlMessage)?r.warnHtmlMessage:!0,w=!!r.escapeParameter,b=n?i.modifiers:qe(r.modifiers)?r.modifiers:{},M=r.pluralRules||n&&i.pluralRules;function I(){return[a.value,l.value,c.value,f.value,d.value]}const C=et({get:()=>s.value?s.value.locale.value:a.value,set:D=>{s.value&&(s.value.locale.value=D),a.value=D}}),P=et({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:D=>{s.value&&(s.value.fallbackLocale.value=D),l.value=D}}),N=et(()=>s.value?s.value.messages.value:c.value),U=et(()=>f.value),j=et(()=>d.value);function F(){return s.value?s.value.getPostTranslationHandler():x}function q(D){s.value&&s.value.setPostTranslationHandler(D)}function te(){return s.value?s.value.getMissingHandler():E}function h(D){s.value&&s.value.setMissingHandler(D)}function m(D){return I(),D()}function S(...D){return s.value?m(()=>Reflect.apply(s.value.t,null,[...D])):m(()=>"")}function $(...D){return s.value?Reflect.apply(s.value.rt,null,[...D]):""}function B(...D){return s.value?m(()=>Reflect.apply(s.value.d,null,[...D])):m(()=>"")}function Y(...D){return s.value?m(()=>Reflect.apply(s.value.n,null,[...D])):m(()=>"")}function pe(D){return s.value?s.value.tm(D):{}}function ae(D,H){return s.value?s.value.te(D,H):!1}function Me(D){return s.value?s.value.getLocaleMessage(D):{}}function je(D,H){s.value&&(s.value.setLocaleMessage(D,H),c.value[D]=H)}function ze(D,H){s.value&&s.value.mergeLocaleMessage(D,H)}function lt(D){return s.value?s.value.getDateTimeFormat(D):{}}function Vt(D,H){s.value&&(s.value.setDateTimeFormat(D,H),f.value[D]=H)}function At(D,H){s.value&&s.value.mergeDateTimeFormat(D,H)}function pi(D){return s.value?s.value.getNumberFormat(D):{}}function kt(D,H){s.value&&(s.value.setNumberFormat(D,H),d.value[D]=H)}function ii(D,H){s.value&&s.value.mergeNumberFormat(D,H)}const Yi={get id(){return s.value?s.value.id:-1},locale:C,fallbackLocale:P,messages:N,datetimeFormats:U,numberFormats:j,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(D){s.value&&(s.value.inheritLocale=D)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(c.value)},get modifiers(){return s.value?s.value.modifiers:b},get pluralRules(){return s.value?s.value.pluralRules:M},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:p},set missingWarn(D){s.value&&(s.value.missingWarn=D)},get fallbackWarn(){return s.value?s.value.fallbackWarn:y},set fallbackWarn(D){s.value&&(s.value.missingWarn=D)},get fallbackRoot(){return s.value?s.value.fallbackRoot:v},set fallbackRoot(D){s.value&&(s.value.fallbackRoot=D)},get fallbackFormat(){return s.value?s.value.fallbackFormat:_},set fallbackFormat(D){s.value&&(s.value.fallbackFormat=D)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:A},set warnHtmlMessage(D){s.value&&(s.value.warnHtmlMessage=D)},get escapeParameter(){return s.value?s.value.escapeParameter:w},set escapeParameter(D){s.value&&(s.value.escapeParameter=D)},t:S,getPostTranslationHandler:F,setPostTranslationHandler:q,getMissingHandler:te,setMissingHandler:h,rt:$,d:B,n:Y,tm:pe,te:ae,getLocaleMessage:Me,setLocaleMessage:je,mergeLocaleMessage:ze,getDateTimeFormat:lt,setDateTimeFormat:Vt,mergeDateTimeFormat:At,getNumberFormat:pi,setNumberFormat:kt,mergeNumberFormat:ii};function G(D){D.locale.value=a.value,D.fallbackLocale.value=l.value,Object.keys(c.value).forEach(H=>{D.mergeLocaleMessage(H,c.value[H])}),Object.keys(f.value).forEach(H=>{D.mergeDateTimeFormat(H,f.value[H])}),Object.keys(d.value).forEach(H=>{D.mergeNumberFormat(H,d.value[H])}),D.escapeParameter=w,D.fallbackFormat=_,D.fallbackRoot=v,D.fallbackWarn=y,D.missingWarn=p,D.warnHtmlMessage=A}return lv(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw Qi(Wi.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const D=s.value=e.proxy.$i18n.__composer;t==="global"?(a.value=D.locale.value,l.value=D.fallbackLocale.value,c.value=D.messages.value,f.value=D.datetimeFormats.value,d.value=D.numberFormats.value):n&&G(D)}),Yi}const Fne=["locale","fallbackLocale","availableLocales"],wI=["t","rt","d","n","tm","te"];function Une(e,t){const i=Object.create(null);return Fne.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s)throw Qi(Wi.UNEXPECTED_ERROR);const o=ft(s.value)?{get(){return s.value.value},set(a){s.value.value=a}}:{get(){return s.get&&s.get()}};Object.defineProperty(i,n,o)}),e.config.globalProperties.$i18n=i,wI.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s||!s.value)throw Qi(Wi.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,s)}),()=>{delete e.config.globalProperties.$i18n,wI.forEach(n=>{delete e.config.globalProperties[`$${n}`]})}}mne();__INTLIFY_JIT_COMPILATION__?eI(cne):eI(lne);Ure(_re);jre(D8);if(__INTLIFY_PROD_DEVTOOLS__){const e=Wo();e.__INTLIFY__=!0,Ore(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const jne={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","ramp.reload":"Reload RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Franais","map.language.curr":"current","map.export":"export map","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"franais","lang-native":"Franais","ramp.about.open":"Ouvrir  propos de PCAR","ramp.about":" propos de PCAR","ramp.reload":"Recharger PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous dplacer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un lment de la liste est slectionn, vous pouvez appuyer sur  Espace  ou  Entre  pour cliquer sur l'lment. Vous pouvez galement vous dplacer au sein de l'lment de la liste au moyen de la touche  Tab .","keyboardInstructions.map":"Lorsque la carte est slectionne, utilisez le pav curseur pour vous dplacer et appuyez sur  Entre   pour slectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer  l'chelle mtrique","map.toggleScaleToImperial":"Passer  l'chelle impriale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Franais","map.language.curr":"actuel","map.export":"exporter la carte","notifications.open":"Ouvrir la fentre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"Dvelopper","notifications.controls.collapse":"Rduire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entre ou sur la barre d'espacement pour accder au panneau","panels.controls.close":"Fermer","panels.controls.pin":"pingler","panels.controls.unpin":"Dspingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"Rduire","panels.controls.expand":"Dvelopper","panels.controls.collapse":"Rduire","panels.controls.moveRight":"Aller  droite","panels.controls.moveLeft":"Aller  gauche","panels.controls.items":"Utilisez les touches flches pour naviguer entre les lments","panels.alert.open":"Fentre {name} ouverte","panels.alert.close":"Fentre {name} ferme","panels.alert.minimize":"Fentre {name} rduite","layer.error":"chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que prvu","layer.longdraw":"{id} prend plus de temps que prvu  extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont t dsactivs pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement dsactiv.","layer.noexportmap":"La tentative dajouter {name} comme couche dimagerie cartographique a choue car elle na pu tre activ pour ce service","caption.attributionDefaultText":"Propuls par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},SI="en",Gne={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function Bne(){return One({legacy:!1,locale:document.documentElement.getAttribute("lang")||SI,fallbackLocale:SI,globalInjection:!0,messages:jne,numberFormats:Gne})}var qb={exports:{}};/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/var xI;function Vne(){return xI||(xI=1,function(e){(function(){var t=typeof window<"u"&&typeof window.document<"u"?window.document:{},i=e.exports,r=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,f={};l<c;l++)if(o=a[l],o&&o[1]in t){for(l=0;l<o.length;l++)f[a[0][l]]=o[l];return f}return!1}(),n={change:r.fullscreenchange,error:r.fullscreenerror},s={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||t.documentElement;var f=o[r.requestFullscreen]();f instanceof Promise&&f.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=t[r.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=n[o];l&&t.addEventListener(l,a,!1)},off:function(o,a){var l=n[o];l&&t.removeEventListener(l,a,!1)},raw:r};if(!r){i?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(s,{isFullscreen:{get:function(){return!!t[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!t[r.fullscreenEnabled]}}}),i?e.exports=s:window.screenfull=s})()}(qb)),qb.exports}var zne=Vne();const Ps=z1(zne);var Sd={exports:{}};Sd.exports;var EI;function qne(){return EI||(EI=1,function(e,t){var i=200,r="__lodash_hash_undefined__",n=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",y="[object Number]",v="[object Object]",_="[object Promise]",E="[object RegExp]",x="[object Set]",A="[object String]",w="[object Symbol]",b="[object WeakMap]",M="[object ArrayBuffer]",I="[object DataView]",C="[object Float32Array]",P="[object Float64Array]",N="[object Int8Array]",U="[object Int16Array]",j="[object Int32Array]",F="[object Uint8Array]",q="[object Uint8ClampedArray]",te="[object Uint16Array]",h="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,S=/\w*$/,$=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,Y={};Y[s]=Y[o]=Y[M]=Y[I]=Y[a]=Y[l]=Y[C]=Y[P]=Y[N]=Y[U]=Y[j]=Y[p]=Y[y]=Y[v]=Y[E]=Y[x]=Y[A]=Y[w]=Y[F]=Y[q]=Y[te]=Y[h]=!0,Y[c]=Y[f]=Y[b]=!1;var pe=typeof i0=="object"&&i0&&i0.Object===Object&&i0,ae=typeof self=="object"&&self&&self.Object===Object&&self,Me=pe||ae||Function("return this")(),je=t&&!t.nodeType&&t,ze=je&&!0&&e&&!e.nodeType&&e,lt=ze&&ze.exports===je;function Vt(R,J){return R.set(J[0],J[1]),R}function At(R,J){return R.add(J),R}function pi(R,J){for(var oe=-1,Ce=R?R.length:0;++oe<Ce&&J(R[oe],oe,R)!==!1;);return R}function kt(R,J){for(var oe=-1,Ce=J.length,tr=R.length;++oe<Ce;)R[tr+oe]=J[oe];return R}function ii(R,J,oe,Ce){for(var tr=-1,Fr=R?R.length:0;++tr<Fr;)oe=J(oe,R[tr],tr,R);return oe}function Yi(R,J){for(var oe=-1,Ce=Array(R);++oe<R;)Ce[oe]=J(oe);return Ce}function G(R,J){return R?.[J]}function D(R){var J=!1;if(R!=null&&typeof R.toString!="function")try{J=!!(R+"")}catch{}return J}function H(R){var J=-1,oe=Array(R.size);return R.forEach(function(Ce,tr){oe[++J]=[tr,Ce]}),oe}function se(R,J){return function(oe){return R(J(oe))}}function Q(R){var J=-1,oe=Array(R.size);return R.forEach(function(Ce){oe[++J]=Ce}),oe}var le=Array.prototype,ye=Function.prototype,L=Object.prototype,k=Me["__core-js_shared__"],V=function(){var R=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),ee=ye.toString,re=L.hasOwnProperty,ne=L.toString,W=RegExp("^"+ee.call(re).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=lt?Me.Buffer:void 0,Te=Me.Symbol,Le=Me.Uint8Array,Rt=se(Object.getPrototypeOf,Object),zt=Object.create,ai=L.propertyIsEnumerable,Li=le.splice,Z=Object.getOwnPropertySymbols,Ae=K?K.isBuffer:void 0,Oe=se(Object.keys,Object),He=vu(Me,"DataView"),Xe=vu(Me,"Map"),ki=vu(Me,"Promise"),lr=vu(Me,"Set"),Os=vu(Me,"WeakMap"),aa=vu(Object,"create"),wo=Pl(He),Af=Pl(Xe),pu=Pl(ki),la=Pl(lr),Uv=Pl(Os),mu=Te?Te.prototype:void 0,$l=mu?mu.valueOf:void 0;function Cl(R){var J=-1,oe=R?R.length:0;for(this.clear();++J<oe;){var Ce=R[J];this.set(Ce[0],Ce[1])}}function w9(){this.__data__=aa?aa(null):{}}function S9(R){return this.has(R)&&delete this.__data__[R]}function x9(R){var J=this.__data__;if(aa){var oe=J[R];return oe===r?void 0:oe}return re.call(J,R)?J[R]:void 0}function E9(R){var J=this.__data__;return aa?J[R]!==void 0:re.call(J,R)}function T9(R,J){var oe=this.__data__;return oe[R]=aa&&J===void 0?r:J,this}Cl.prototype.clear=w9,Cl.prototype.delete=S9,Cl.prototype.get=x9,Cl.prototype.has=E9,Cl.prototype.set=T9;function So(R){var J=-1,oe=R?R.length:0;for(this.clear();++J<oe;){var Ce=R[J];this.set(Ce[0],Ce[1])}}function A9(){this.__data__=[]}function M9(R){var J=this.__data__,oe=km(J,R);if(oe<0)return!1;var Ce=J.length-1;return oe==Ce?J.pop():Li.call(J,oe,1),!0}function I9(R){var J=this.__data__,oe=km(J,R);return oe<0?void 0:J[oe][1]}function O9(R){return km(this.__data__,R)>-1}function $9(R,J){var oe=this.__data__,Ce=km(oe,R);return Ce<0?oe.push([R,J]):oe[Ce][1]=J,this}So.prototype.clear=A9,So.prototype.delete=M9,So.prototype.get=I9,So.prototype.has=O9,So.prototype.set=$9;function yu(R){var J=-1,oe=R?R.length:0;for(this.clear();++J<oe;){var Ce=R[J];this.set(Ce[0],Ce[1])}}function C9(){this.__data__={hash:new Cl,map:new(Xe||So),string:new Cl}}function N9(R){return Rm(this,R).delete(R)}function P9(R){return Rm(this,R).get(R)}function L9(R){return Rm(this,R).has(R)}function k9(R,J){return Rm(this,R).set(R,J),this}yu.prototype.clear=C9,yu.prototype.delete=N9,yu.prototype.get=P9,yu.prototype.has=L9,yu.prototype.set=k9;function gu(R){this.__data__=new So(R)}function R9(){this.__data__=new So}function D9(R){return this.__data__.delete(R)}function F9(R){return this.__data__.get(R)}function U9(R){return this.__data__.has(R)}function j9(R,J){var oe=this.__data__;if(oe instanceof So){var Ce=oe.__data__;if(!Xe||Ce.length<i-1)return Ce.push([R,J]),this;oe=this.__data__=new yu(Ce)}return oe.set(R,J),this}gu.prototype.clear=R9,gu.prototype.delete=D9,gu.prototype.get=F9,gu.prototype.has=U9,gu.prototype.set=j9;function G9(R,J){var oe=Bv(R)||h7(R)?Yi(R.length,String):[],Ce=oe.length,tr=!!Ce;for(var Fr in R)re.call(R,Fr)&&!(tr&&(Fr=="length"||a7(Fr,Ce)))&&oe.push(Fr);return oe}function nT(R,J,oe){var Ce=R[J];(!(re.call(R,J)&&lT(Ce,oe))||oe===void 0&&!(J in R))&&(R[J]=oe)}function km(R,J){for(var oe=R.length;oe--;)if(lT(R[oe][0],J))return oe;return-1}function B9(R,J){return R&&sT(J,Vv(J),R)}function jv(R,J,oe,Ce,tr,Fr,xo){var Ur;if(Ce&&(Ur=Fr?Ce(R,tr,Fr,xo):Ce(R)),Ur!==void 0)return Ur;if(!Dm(R))return R;var hT=Bv(R);if(hT){if(Ur=n7(R),!J)return t7(R,Ur)}else{var bu=Nl(R),fT=bu==f||bu==d;if(d7(R))return Y9(R,J);if(bu==v||bu==s||fT&&!Fr){if(D(R))return Fr?R:{};if(Ur=s7(fT?{}:R),!J)return i7(R,B9(Ur,R))}else{if(!Y[bu])return Fr?R:{};Ur=o7(R,bu,jv,J)}}xo||(xo=new gu);var dT=xo.get(R);if(dT)return dT;if(xo.set(R,Ur),!hT)var pT=oe?r7(R):Vv(R);return pi(pT||R,function(zv,Fm){pT&&(Fm=zv,zv=R[Fm]),nT(Ur,Fm,jv(zv,J,oe,Ce,Fm,R,xo))}),Ur}function V9(R){return Dm(R)?zt(R):{}}function z9(R,J,oe){var Ce=J(R);return Bv(R)?Ce:kt(Ce,oe(R))}function q9(R){return ne.call(R)}function W9(R){if(!Dm(R)||c7(R))return!1;var J=uT(R)||D(R)?W:$;return J.test(Pl(R))}function H9(R){if(!aT(R))return Oe(R);var J=[];for(var oe in Object(R))re.call(R,oe)&&oe!="constructor"&&J.push(oe);return J}function Y9(R,J){if(J)return R.slice();var oe=new R.constructor(R.length);return R.copy(oe),oe}function Gv(R){var J=new R.constructor(R.byteLength);return new Le(J).set(new Le(R)),J}function J9(R,J){var oe=J?Gv(R.buffer):R.buffer;return new R.constructor(oe,R.byteOffset,R.byteLength)}function K9(R,J,oe){var Ce=J?oe(H(R),!0):H(R);return ii(Ce,Vt,new R.constructor)}function Z9(R){var J=new R.constructor(R.source,S.exec(R));return J.lastIndex=R.lastIndex,J}function X9(R,J,oe){var Ce=J?oe(Q(R),!0):Q(R);return ii(Ce,At,new R.constructor)}function Q9(R){return $l?Object($l.call(R)):{}}function e7(R,J){var oe=J?Gv(R.buffer):R.buffer;return new R.constructor(oe,R.byteOffset,R.length)}function t7(R,J){var oe=-1,Ce=R.length;for(J||(J=Array(Ce));++oe<Ce;)J[oe]=R[oe];return J}function sT(R,J,oe,Ce){oe||(oe={});for(var tr=-1,Fr=J.length;++tr<Fr;){var xo=J[tr],Ur=void 0;nT(oe,xo,Ur===void 0?R[xo]:Ur)}return oe}function i7(R,J){return sT(R,oT(R),J)}function r7(R){return z9(R,Vv,oT)}function Rm(R,J){var oe=R.__data__;return l7(J)?oe[typeof J=="string"?"string":"hash"]:oe.map}function vu(R,J){var oe=G(R,J);return W9(oe)?oe:void 0}var oT=Z?se(Z,Object):y7,Nl=q9;(He&&Nl(new He(new ArrayBuffer(1)))!=I||Xe&&Nl(new Xe)!=p||ki&&Nl(ki.resolve())!=_||lr&&Nl(new lr)!=x||Os&&Nl(new Os)!=b)&&(Nl=function(R){var J=ne.call(R),oe=J==v?R.constructor:void 0,Ce=oe?Pl(oe):void 0;if(Ce)switch(Ce){case wo:return I;case Af:return p;case pu:return _;case la:return x;case Uv:return b}return J});function n7(R){var J=R.length,oe=R.constructor(J);return J&&typeof R[0]=="string"&&re.call(R,"index")&&(oe.index=R.index,oe.input=R.input),oe}function s7(R){return typeof R.constructor=="function"&&!aT(R)?V9(Rt(R)):{}}function o7(R,J,oe,Ce){var tr=R.constructor;switch(J){case M:return Gv(R);case a:case l:return new tr(+R);case I:return J9(R,Ce);case C:case P:case N:case U:case j:case F:case q:case te:case h:return e7(R,Ce);case p:return K9(R,Ce,oe);case y:case A:return new tr(R);case E:return Z9(R);case x:return X9(R,Ce,oe);case w:return Q9(R)}}function a7(R,J){return J=J??n,!!J&&(typeof R=="number"||B.test(R))&&R>-1&&R%1==0&&R<J}function l7(R){var J=typeof R;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?R!=="__proto__":R===null}function c7(R){return!!V&&V in R}function aT(R){var J=R&&R.constructor,oe=typeof J=="function"&&J.prototype||L;return R===oe}function Pl(R){if(R!=null){try{return ee.call(R)}catch{}try{return R+""}catch{}}return""}function u7(R){return jv(R,!0,!0)}function lT(R,J){return R===J||R!==R&&J!==J}function h7(R){return f7(R)&&re.call(R,"callee")&&(!ai.call(R,"callee")||ne.call(R)==s)}var Bv=Array.isArray;function cT(R){return R!=null&&p7(R.length)&&!uT(R)}function f7(R){return m7(R)&&cT(R)}var d7=Ae||g7;function uT(R){var J=Dm(R)?ne.call(R):"";return J==f||J==d}function p7(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=n}function Dm(R){var J=typeof R;return!!R&&(J=="object"||J=="function")}function m7(R){return!!R&&typeof R=="object"}function Vv(R){return cT(R)?G9(R):H9(R)}function y7(){return[]}function g7(){return!1}e.exports=u7}(Sd,Sd.exports)),Sd.exports}var Wne=qne();const TI=z1(Wne),zg=oi("maptip",()=>{const e=X(void 0),t=X(void 0),i=X("");function r(o){e.value=o}function n(o){t.value=o}function s(o){i.value=o}return{maptipInstance:e,maptipPoint:t,content:i,setMaptipInstance:r,setMaptipPoint:n,setMaptipContent:s}}),Hne=rt({__name:"esri-map",setup(e){const t=zg(),i=Ci("iApi"),r=et(()=>t.maptipPoint),n=et(()=>t.maptipInstance),s=et(()=>t.content),o=er([]),a=X(!1);o.push(qi(r,()=>{if(r.value){const c=i.geo.map.getPixelWidth()/2,f=0,d=i.geo.map.mapPointToScreenPoint(r.value),p=d.screenX-c,y=f-d.screenY;n.value.setProps({offset:a.value?[p,y+25]:[p,y]}),s.value&&s.value!==""&&n.value.show()}else n.value.hide()})),o.push(qi(s,c=>{c&&c!==""&&r?(n.value.setContent(c),n.value.show()):n.value.hide()})),Ms(()=>{o.forEach(c=>c())});const l=()=>{i.geo.map.setMouseFocus()};return(c,f)=>{const d=Tt("tippy");return Et((fe(),we("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:l,onTouchstart:f[0]||(f[0]=p=>a.value=!0),onTouchend:f[1]||(f[1]=p=>a.value=!1),onKeydown:f[2]||(f[2]=BE(Mm(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[d,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var rR={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},g3={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Yne=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],qg={CSS:{},springs:{}};function eo(e,t,i){return Math.min(Math.max(e,t),i)}function Wd(e,t){return e.indexOf(t)>-1}function Wb(e,t){return e.apply(null,t)}var Re={arr:function(e){return Array.isArray(e)},obj:function(e){return Wd(Object.prototype.toString.call(e),"Object")},pth:function(e){return Re.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||Re.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return Re.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return Re.hex(e)||Re.rgb(e)||Re.hsl(e)},key:function(e){return!rR.hasOwnProperty(e)&&!g3.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function nR(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(i){return parseFloat(i)}):[]}function sR(e,t){var i=nR(e),r=eo(Re.und(i[0])?1:i[0],.1,100),n=eo(Re.und(i[1])?100:i[1],.1,100),s=eo(Re.und(i[2])?10:i[2],.1,100),o=eo(Re.und(i[3])?0:i[3],.1,100),a=Math.sqrt(n/r),l=s/(2*Math.sqrt(n*r)),c=l<1?a*Math.sqrt(1-l*l):0,f=1,d=l<1?(l*a+-o)/c:-o+a;function p(v){var _=t?t*v/1e3:v;return l<1?_=Math.exp(-_*l*a)*(f*Math.cos(c*_)+d*Math.sin(c*_)):_=(f+d*_)*Math.exp(-_*a),v===0||v===1?v:1-_}function y(){var v=qg.springs[e];if(v)return v;for(var _=1/6,E=0,x=0;;)if(E+=_,p(E)===1){if(x++,x>=16)break}else x=0;var A=E*_*1e3;return qg.springs[e]=A,A}return t?p:y}function Jne(e){return e===void 0&&(e=10),function(t){return Math.ceil(eo(t,1e-6,1)*e)*(1/e)}}var Kne=function(){var e=11,t=1/(e-1);function i(f,d){return 1-3*d+3*f}function r(f,d){return 3*d-6*f}function n(f){return 3*f}function s(f,d,p){return((i(d,p)*f+r(d,p))*f+n(d))*f}function o(f,d,p){return 3*i(d,p)*f*f+2*r(d,p)*f+n(d)}function a(f,d,p,y,v){var _,E,x=0;do E=d+(p-d)/2,_=s(E,y,v)-f,_>0?p=E:d=E;while(Math.abs(_)>1e-7&&++x<10);return E}function l(f,d,p,y){for(var v=0;v<4;++v){var _=o(d,p,y);if(_===0)return d;var E=s(d,p,y)-f;d-=E/_}return d}function c(f,d,p,y){if(!(0<=f&&f<=1&&0<=p&&p<=1))return;var v=new Float32Array(e);if(f!==d||p!==y)for(var _=0;_<e;++_)v[_]=s(_*t,f,p);function E(x){for(var A=0,w=1,b=e-1;w!==b&&v[w]<=x;++w)A+=t;--w;var M=(x-v[w])/(v[w+1]-v[w]),I=A+M*t,C=o(I,f,p);return C>=.001?l(x,I,f,p):C===0?I:a(x,A,A+t,f,p)}return function(x){return f===d&&p===y||x===0||x===1?x:s(E(x),d,y)}}return c}(),oR=function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var n,s=4;r<((n=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((n*3-2)/22-r,2)}},Elastic:function(r,n){r===void 0&&(r=1),n===void 0&&(n=.5);var s=eo(r,1,10),o=eo(n,.1,2);return function(a){return a===0||a===1?a:-s*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/o)}}},i=["Quad","Cubic","Quart","Quint","Expo"];return i.forEach(function(r,n){t[r]=function(){return function(s){return Math.pow(s,n+2)}}}),Object.keys(t).forEach(function(r){var n=t[r];e["easeIn"+r]=n,e["easeOut"+r]=function(s,o){return function(a){return 1-n(s,o)(1-a)}},e["easeInOut"+r]=function(s,o){return function(a){return a<.5?n(s,o)(a*2)/2:1-n(s,o)(a*-2+2)/2}},e["easeOutIn"+r]=function(s,o){return function(a){return a<.5?(1-n(s,o)(1-a*2))/2:(n(s,o)(a*2-1)+1)/2}}}),e}();function v3(e,t){if(Re.fnc(e))return e;var i=e.split("(")[0],r=oR[i],n=nR(e);switch(i){case"spring":return sR(e,t);case"cubicBezier":return Wb(Kne,n);case"steps":return Wb(Jne,n);default:return Wb(r,n)}}function aR(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function Mv(e,t){for(var i=e.length,r=arguments.length>=2?arguments[1]:void 0,n=[],s=0;s<i;s++)if(s in e){var o=e[s];t.call(r,o,s,e)&&n.push(o)}return n}function Iv(e){return e.reduce(function(t,i){return t.concat(Re.arr(i)?Iv(i):i)},[])}function AI(e){return Re.arr(e)?e:(Re.str(e)&&(e=aR(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function b3(e,t){return e.some(function(i){return i===t})}function _3(e){var t={};for(var i in e)t[i]=e[i];return t}function sS(e,t){var i=_3(e);for(var r in e)i[r]=t.hasOwnProperty(r)?t[r]:e[r];return i}function Ov(e,t){var i=_3(e);for(var r in t)i[r]=Re.und(e[r])?t[r]:e[r];return i}function Zne(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function Xne(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=e.replace(t,function(a,l,c,f){return l+l+c+c+f+f}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),n=parseInt(r[1],16),s=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+n+","+s+","+o+",1)"}function Qne(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,n=parseInt(t[3],10)/100,s=t[4]||1;function o(p,y,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?p+(y-p)*6*v:v<1/2?y:v<2/3?p+(y-p)*(2/3-v)*6:p}var a,l,c;if(r==0)a=l=c=n;else{var f=n<.5?n*(1+r):n+r-n*r,d=2*n-f;a=o(d,f,i+1/3),l=o(d,f,i),c=o(d,f,i-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+s+")"}function ese(e){if(Re.rgb(e))return Zne(e);if(Re.hex(e))return Xne(e);if(Re.hsl(e))return Qne(e)}function Ko(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function tse(e){if(Wd(e,"translate")||e==="perspective")return"px";if(Wd(e,"rotate")||Wd(e,"skew"))return"deg"}function oS(e,t){return Re.fnc(e)?e(t.target,t.id,t.total):e}function to(e,t){return e.getAttribute(t)}function w3(e,t,i){var r=Ko(t);if(b3([i,"deg","rad","turn"],r))return t;var n=qg.CSS[t+i];if(!Re.und(n))return n;var s=100,o=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=s+i;var l=s/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(t);return qg.CSS[t+i]=c,c}function lR(e,t,i){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return i?w3(e,n,i):n}}function S3(e,t){if(Re.dom(e)&&!Re.inp(e)&&(!Re.nil(to(e,t))||Re.svg(e)&&e[t]))return"attribute";if(Re.dom(e)&&b3(Yne,t))return"transform";if(Re.dom(e)&&t!=="transform"&&lR(e,t))return"css";if(e[t]!=null)return"object"}function cR(e){if(Re.dom(e)){for(var t=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map,n;n=i.exec(t);)r.set(n[1],n[2]);return r}}function ise(e,t,i,r){var n=Wd(t,"scale")?1:0+tse(t),s=cR(e).get(t)||n;return i&&(i.transforms.list.set(t,s),i.transforms.last=t),r?w3(e,s,r):s}function x3(e,t,i,r){switch(S3(e,t)){case"transform":return ise(e,t,r,i);case"css":return lR(e,t,i);case"attribute":return to(e,t);default:return e[t]||0}}function E3(e,t){var i=/^(\*=|\+=|-=)/.exec(e);if(!i)return e;var r=Ko(e)||0,n=parseFloat(t),s=parseFloat(e.replace(i[0],""));switch(i[0][0]){case"+":return n+s+r;case"-":return n-s+r;case"*":return n*s+r}}function uR(e,t){if(Re.col(e))return ese(e);if(/\s/g.test(e))return e;var i=Ko(e),r=i?e.substr(0,e.length-i.length):e;return t?r+t:r}function T3(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function rse(e){return Math.PI*2*to(e,"r")}function nse(e){return to(e,"width")*2+to(e,"height")*2}function sse(e){return T3({x:to(e,"x1"),y:to(e,"y1")},{x:to(e,"x2"),y:to(e,"y2")})}function hR(e){for(var t=e.points,i=0,r,n=0;n<t.numberOfItems;n++){var s=t.getItem(n);n>0&&(i+=T3(r,s)),r=s}return i}function ose(e){var t=e.points;return hR(e)+T3(t.getItem(t.numberOfItems-1),t.getItem(0))}function fR(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return rse(e);case"rect":return nse(e);case"line":return sse(e);case"polyline":return hR(e);case"polygon":return ose(e)}}function ase(e){var t=fR(e);return e.setAttribute("stroke-dasharray",t),t}function lse(e){for(var t=e.parentNode;Re.svg(t)&&Re.svg(t.parentNode);)t=t.parentNode;return t}function dR(e,t){var i=t||{},r=i.el||lse(e),n=r.getBoundingClientRect(),s=to(r,"viewBox"),o=n.width,a=n.height,l=i.viewBox||(s?s.split(" "):[0,0,o,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function cse(e,t){var i=Re.str(e)?aR(e)[0]:e,r=t||100;return function(n){return{property:n,el:i,svg:dR(i),totalLength:fR(i)*(r/100)}}}function use(e,t,i){function r(f){f===void 0&&(f=0);var d=t+f>=1?t+f:0;return e.el.getPointAtLength(d)}var n=dR(e.el,e.svg),s=r(),o=r(-1),a=r(1),l=i?1:n.w/n.vW,c=i?1:n.h/n.vH;switch(e.property){case"x":return(s.x-n.x)*l;case"y":return(s.y-n.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function MI(e,t){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=uR(Re.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(i)?r.match(i).map(Number):[0],strings:Re.str(e)||t?r.split(i):[]}}function A3(e){var t=e?Iv(Re.arr(e)?e.map(AI):AI(e)):[];return Mv(t,function(i,r,n){return n.indexOf(i)===r})}function pR(e){var t=A3(e);return t.map(function(i,r){return{target:i,id:r,total:t.length,transforms:{list:cR(i)}}})}function hse(e,t){var i=_3(t);if(/^spring/.test(i.easing)&&(i.duration=sR(i.easing)),Re.arr(e)){var r=e.length,n=r===2&&!Re.obj(e[0]);n?e={value:e}:Re.fnc(t.duration)||(i.duration=t.duration/r)}var s=Re.arr(e)?e:[e];return s.map(function(o,a){var l=Re.obj(o)&&!Re.pth(o)?o:{value:o};return Re.und(l.delay)&&(l.delay=a?0:t.delay),Re.und(l.endDelay)&&(l.endDelay=a===s.length-1?t.endDelay:0),l}).map(function(o){return Ov(o,i)})}function fse(e){for(var t=Mv(Iv(e.map(function(s){return Object.keys(s)})),function(s){return Re.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),i={},r=function(s){var o=t[s];i[o]=e.map(function(a){var l={};for(var c in a)Re.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},n=0;n<t.length;n++)r(n);return i}function dse(e,t){var i=[],r=t.keyframes;r&&(t=Ov(fse(r),t));for(var n in t)Re.key(n)&&i.push({name:n,tweens:hse(t[n],e)});return i}function pse(e,t){var i={};for(var r in e){var n=oS(e[r],t);Re.arr(n)&&(n=n.map(function(s){return oS(s,t)}),n.length===1&&(n=n[0])),i[r]=n}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}function mse(e,t){var i;return e.tweens.map(function(r){var n=pse(r,t),s=n.value,o=Re.arr(s)?s[1]:s,a=Ko(o),l=x3(t.target,e.name,a,t),c=i?i.to.original:l,f=Re.arr(s)?s[0]:c,d=Ko(f)||Ko(l),p=a||d;return Re.und(o)&&(o=c),n.from=MI(f,p),n.to=MI(E3(o,f),p),n.start=i?i.end:0,n.end=n.start+n.delay+n.duration+n.endDelay,n.easing=v3(n.easing,n.duration),n.isPath=Re.pth(s),n.isPathTargetInsideSVG=n.isPath&&Re.svg(t.target),n.isColor=Re.col(n.from.original),n.isColor&&(n.round=1),i=n,n})}var mR={css:function(e,t,i){return e.style[t]=i},attribute:function(e,t,i){return e.setAttribute(t,i)},object:function(e,t,i){return e[t]=i},transform:function(e,t,i,r,n){if(r.list.set(t,i),t===r.last||n){var s="";r.list.forEach(function(o,a){s+=a+"("+o+") "}),e.style.transform=s}}};function yR(e,t){var i=pR(e);i.forEach(function(r){for(var n in t){var s=oS(t[n],r),o=r.target,a=Ko(s),l=x3(o,n,a,r),c=a||Ko(l),f=E3(uR(s,c),l),d=S3(o,n);mR[d](o,n,f,r.transforms,!0)}})}function yse(e,t){var i=S3(e.target,t.name);if(i){var r=mse(t,e),n=r[r.length-1];return{type:i,property:t.name,animatable:e,tweens:r,duration:n.end,delay:r[0].delay,endDelay:n.endDelay}}}function gse(e,t){return Mv(Iv(e.map(function(i){return t.map(function(r){return yse(i,r)})})),function(i){return!Re.und(i)})}function gR(e,t){var i=e.length,r=function(s){return s.timelineOffset?s.timelineOffset:0},n={};return n.duration=i?Math.max.apply(Math,e.map(function(s){return r(s)+s.duration})):t.duration,n.delay=i?Math.min.apply(Math,e.map(function(s){return r(s)+s.delay})):t.delay,n.endDelay=i?n.duration-Math.max.apply(Math,e.map(function(s){return r(s)+s.duration-s.endDelay})):t.endDelay,n}var II=0;function vse(e){var t=sS(rR,e),i=sS(g3,e),r=dse(i,e),n=pR(e.targets),s=gse(n,r),o=gR(s,i),a=II;return II++,Ov(t,{id:a,children:[],animatables:n,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var as=[],vR=function(){var e;function t(){!e&&(!OI()||!si.suspendWhenDocumentHidden)&&as.length>0&&(e=requestAnimationFrame(i))}function i(n){for(var s=as.length,o=0;o<s;){var a=as[o];a.paused?(as.splice(o,1),s--):(a.tick(n),o++)}e=o>0?requestAnimationFrame(i):void 0}function r(){si.suspendWhenDocumentHidden&&(OI()?e=cancelAnimationFrame(e):(as.forEach(function(n){return n._onDocumentVisibility()}),vR()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t}();function OI(){return!!document&&document.hidden}function si(e){e===void 0&&(e={});var t=0,i=0,r=0,n,s=0,o=null;function a(A){var w=window.Promise&&new Promise(function(b){return o=b});return A.finished=w,w}var l=vse(e);a(l);function c(){var A=l.direction;A!=="alternate"&&(l.direction=A!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,n.forEach(function(w){return w.reversed=l.reversed})}function f(A){return l.reversed?l.duration-A:A}function d(){t=0,i=f(l.currentTime)*(1/si.speed)}function p(A,w){w&&w.seek(A-w.timelineOffset)}function y(A){if(l.reversePlayback)for(var b=s;b--;)p(A,n[b]);else for(var w=0;w<s;w++)p(A,n[w])}function v(A){for(var w=0,b=l.animations,M=b.length;w<M;){var I=b[w],C=I.animatable,P=I.tweens,N=P.length-1,U=P[N];N&&(U=Mv(P,function(lt){return A<lt.end})[0]||U);for(var j=eo(A-U.start-U.delay,0,U.duration)/U.duration,F=isNaN(j)?1:U.easing(j),q=U.to.strings,te=U.round,h=[],m=U.to.numbers.length,S=void 0,$=0;$<m;$++){var B=void 0,Y=U.to.numbers[$],pe=U.from.numbers[$]||0;U.isPath?B=use(U.value,F*Y,U.isPathTargetInsideSVG):B=pe+F*(Y-pe),te&&(U.isColor&&$>2||(B=Math.round(B*te)/te)),h.push(B)}var ae=q.length;if(!ae)S=h[0];else{S=q[0];for(var Me=0;Me<ae;Me++){q[Me];var je=q[Me+1],ze=h[Me];isNaN(ze)||(je?S+=ze+je:S+=ze+" ")}}mR[I.type](C.target,I.property,S,C.transforms),I.currentValue=S,w++}}function _(A){l[A]&&!l.passThrough&&l[A](l)}function E(){l.remaining&&l.remaining!==!0&&l.remaining--}function x(A){var w=l.duration,b=l.delay,M=w-l.endDelay,I=f(A);l.progress=eo(I/w*100,0,100),l.reversePlayback=I<l.currentTime,n&&y(I),!l.began&&l.currentTime>0&&(l.began=!0,_("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,_("loopBegin")),I<=b&&l.currentTime!==0&&v(0),(I>=M&&l.currentTime!==w||!w)&&v(w),I>b&&I<M?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,_("changeBegin")),_("change"),v(I)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,_("changeComplete")),l.currentTime=eo(I,0,w),l.began&&_("update"),A>=w&&(i=0,E(),l.remaining?(t=r,_("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,_("loopComplete"),_("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var A=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=A==="reverse",l.remaining=l.loop,n=l.children,s=n.length;for(var w=s;w--;)l.children[w].reset();(l.reversed&&l.loop!==!0||A==="alternate"&&l.loop===1)&&l.remaining++,v(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(A,w){return yR(A,w),l},l.tick=function(A){r=A,t||(t=r),x((r+(i-t))*si.speed)},l.seek=function(A){x(f(A))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,as.push(l),d(),vR())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(A){var w=A3(A);bR(w,l)},l.reset(),l.autoplay&&l.play(),l}function $I(e,t){for(var i=t.length;i--;)b3(e,t[i].animatable.target)&&t.splice(i,1)}function bR(e,t){var i=t.animations,r=t.children;$I(e,i);for(var n=r.length;n--;){var s=r[n],o=s.animations;$I(e,o),!o.length&&!s.children.length&&r.splice(n,1)}!i.length&&!r.length&&t.pause()}function bse(e){for(var t=A3(e),i=as.length;i--;){var r=as[i];bR(t,r)}}function _se(e,t){t===void 0&&(t={});var i=t.direction||"normal",r=t.easing?v3(t.easing):null,n=t.grid,s=t.axis,o=t.from||0,a=o==="first",l=o==="center",c=o==="last",f=Re.arr(e),d=parseFloat(f?e[0]:e),p=f?parseFloat(e[1]):0,y=Ko(f?e[1]:e)||0,v=t.start||0+(f?d:0),_=[],E=0;return function(x,A,w){if(a&&(o=0),l&&(o=(w-1)/2),c&&(o=w-1),!_.length){for(var b=0;b<w;b++){if(!n)_.push(Math.abs(o-b));else{var M=l?(n[0]-1)/2:o%n[0],I=l?(n[1]-1)/2:Math.floor(o/n[0]),C=b%n[0],P=Math.floor(b/n[0]),N=M-C,U=I-P,j=Math.sqrt(N*N+U*U);s==="x"&&(j=-N),s==="y"&&(j=-U),_.push(j)}E=Math.max.apply(Math,_)}r&&(_=_.map(function(q){return r(q/E)*E})),i==="reverse"&&(_=_.map(function(q){return s?q<0?q*-1:-q:Math.abs(E-q)}))}var F=f?(p-d)/E:d;return v+F*(Math.round(_[A]*100)/100)+y}}function wse(e){e===void 0&&(e={});var t=si(e);return t.duration=0,t.add=function(i,r){var n=as.indexOf(t),s=t.children;n>-1&&as.splice(n,1);function o(p){p.passThrough=!0}for(var a=0;a<s.length;a++)o(s[a]);var l=Ov(i,sS(g3,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=Re.und(r)?c:E3(r,c),o(t),t.seek(l.timelineOffset);var f=si(l);o(f),s.push(f);var d=gR(s,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}si.version="3.2.1";si.speed=1;si.suspendWhenDocumentHidden=!0;si.running=as;si.remove=bse;si.get=x3;si.set=yR;si.convertPx=w3;si.path=cse;si.setDashoffset=ase;si.stagger=_se;si.timeline=wse;si.easing=v3;si.penner=oR;si.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const Sse={xs:200,sm:576,md:768,lg:960};class _R{resizeObserver;constructor(t){this.resizeObserver=new ResizeObserver(i=>{i.length&&window.requestAnimationFrame(()=>{i.forEach(r=>{const n=r.target.dataset.breakpoints,s=n?JSON.parse(n):t??Sse;Object.keys(s).forEach(o=>{const a=s[o];r.contentRect.width>=a?r.target.classList.add(o):r.target.classList.remove(o)})})})})}observe(t){this.resizeObserver?.observe(t)}}const xse=["data-cy"],wR=rt({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(e){const t=X(null),i=e,r=X(!1);ar(()=>{i.panel.teleport&&new _R({xs:0,sm:461,...i.panel.teleport.breakpoints}).observe(t.value)});const n=(l,c,f)=>{if(r.value)return c();si({targets:l,opacity:{value:f,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},s=(l,c)=>{n(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(r.value=i.panel.isScreenLoaded(i.panel.route.screen),t.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{n(l,c,[0,1])};return(l,c)=>{const f=Tt("focus-container");return fe(),we("div",{class:di(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",e.panel.expanded?"flex-grow max-w-full":""]),style:_l(e.panel.style),"data-cy":e.panel.id,ref_key:"componentEl",ref:t},[Ze(dv,{onBeforeLeave:o,onLeave:a,onEnter:s},{default:Ti(()=>[Et((fe(),Gt(_E(e.panel.route.screen),fv({class:"h-full"},e.panel.route.props,{panel:e.panel}),null,16,["panel"])),[[f]])]),_:1})],14,xse)}}}),Yc=oi("panel",()=>{const e=X(void 0),t=X(void 0),i=X(0),r=X(0),n=X(!1),s=X(!0),o=X({}),a=X({}),l=X([]),c=X([]),f=X([]),d=et(()=>r.value);function p(j){return j==="xs"&&f.value.length>0?[f.value.slice().pop()]:f.value}function y(j){const F=[];return j.forEach(q=>{q in a.value&&F.push(a.value[q].getPromise())}),F}function v(j){I(j),b(),t.value=void 0}function _(j){C(j),b()}function E(j,F){P(j,F),b()}function x(j){N(j),b()}function A(j){i.value=j,b()}function w(j){n.value=j}function b(){let j=i.value;const F=[],q=350,te=12,h=600;for(let m=l.value.length-1;m>=0;m--){const S=l.value[m];let $=S.width||q;if(n.value?$=j:$+=te,S.id==="grid"&&($=Math.max(Math.min($,j),h)),(j>=$&&!n.value||F.length===0)&&(j-=$,F.unshift(S)),S.id==="grid"&&j<h)break}if(e.value&&!F.includes(e.value)&&!n.value){let m;for(let Y=0;Y<F.length-1&&j<(e.value.width||q)+te;Y++)m=F.shift(),j+=m.width||q;j>=(e.value.width||q)?F.unshift(e.value):t.value||(m=F.shift(),F.unshift(e.value));const S=l.value.indexOf(e.value),$=l.value.indexOf(m),B=l.value.slice();$>-1&&(B.splice(S,1),B.splice($,0,e.value)),l.value=B}r.value=j,f.value=F}function M(j){if(o.value={...o.value,[j.id]:j},j.id in a.value)a.value[j.id].resolveMe(j);else{const F=new $i;F.resolveMe(j),a.value={...a.value,[j.id]:F}}}function I(j){j.teleport?c.value=[...c.value,j]:(l.value=[...l.value,j],t.value=j)}function C(j){if(j.teleport){const F=c.value.indexOf(j);F!==-1&&(c.value=[...c.value.slice(0,F),...c.value.slice(F+1)])}else{const F=l.value.indexOf(j);F!==-1&&(l.value=[...l.value.slice(0,F),...l.value.slice(F+1)])}}function P(j,F){const q=l.value.indexOf(j),te=F==="right"?1:-1;f.value.includes(l.value[q+te])&&([l.value[q],l.value[q+te]]=[l.value[q+te],l.value[q]])}function N(j){o.value[j.id]!==void 0&&delete o.value[j.id],a.value[j.id]!==void 0&&delete a.value[j.id];const F=f.value.indexOf(j);F!==-1&&(f.value=[...f.value.slice(0,F),...f.value.slice(F+1)]),e.value&&e.value.id==j.id&&(e.value=void 0)}function U(j){a.value={...a.value,[j]:new $i}}return{items:o,regPromises:a,orderedItems:l,pinned:e,priority:t,visible:f,stackWidth:i,remWidth:r,mobileView:n,reorderable:s,teleported:c,getRemainingWidth:d,getVisible:p,getRegPromises:y,openPanel:v,closePanel:_,movePanel:E,removePanel:x,setStackWidth:A,setMobileView:w,updateVisible:b,registerPanel:M,addRegPromise:U}}),Ese=rt({__name:"panel-stack",setup(e){const t=Yc(),i=Ci("iApi"),r=X(),n=et(()=>t.mobileView);ar(()=>{new ResizeObserver(f=>{const d=!(i?.$vApp.$root?.$refs["app-size"]).classList.contains("sm");n.value!==d&&(t.mobileView=d,i?.event.emit($e.RAMP_MOBILEVIEW_CHANGE,d)),t.setStackWidth(f[0].contentRect.width)}).observe(r.value?.$el)});const s=c=>t.getVisible(c),o=(c,f)=>{l(c,f,[[6,0],[0,1]])},a=(c,f)=>{const[d,p]=[c.children[0].getBoundingClientRect(),c.parentElement.getBoundingClientRect()];c.style.width=`${d.width}px`,c.style.height=`${d.height}px`,c.style.left=`${d.left-p.left}px`,c.style.position="absolute",l(c,f,[[0,-6],[1,0]])},l=(c,f,d)=>{si({targets:c,duration:300,translateY:{value:d[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:d[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:f})};return(c,f)=>(fe(),Gt(mv,{onEnter:o,onLeave:a,name:"panel-container",tag:"div",ref_key:"el",ref:r},{default:Ti(()=>[(fe(!0),we(Ot,null,El(s(Ie(i).screenSize),d=>(fe(),Gt(wR,{key:`${d.id}`,panel:d},null,8,["panel"]))),128))]),_:1},512))}}),oa=(e,t)=>{const i=e.__vccOpts||e;for(const[r,n]of t)i[r]=n;return i},Tse=oa(Ese,[["__scopeId","data-v-452bbe12"]]);var rn="top",qn="bottom",Wn="right",nn="left",M3="auto",Cm=[rn,qn,Wn,nn],Hh="start",qp="end",Ase="clippingParents",SR="viewport",Bf="popper",Mse="reference",CI=Cm.reduce(function(e,t){return e.concat([t+"-"+Hh,t+"-"+qp])},[]),xR=[].concat(Cm,[M3]).reduce(function(e,t){return e.concat([t,t+"-"+Hh,t+"-"+qp])},[]),Ise="beforeRead",Ose="read",$se="afterRead",Cse="beforeMain",Nse="main",Pse="afterMain",Lse="beforeWrite",kse="write",Rse="afterWrite",Dse=[Ise,Ose,$se,Cse,Nse,Pse,Lse,kse,Rse];function go(e){return e?(e.nodeName||"").toLowerCase():null}function _n(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Jc(e){var t=_n(e).Element;return e instanceof t||e instanceof Element}function Bn(e){var t=_n(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function I3(e){if(typeof ShadowRoot>"u")return!1;var t=_n(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Fse(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},n=t.attributes[i]||{},s=t.elements[i];!Bn(s)||!go(s)||(Object.assign(s.style,r),Object.keys(n).forEach(function(o){var a=n[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Use(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var n=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Bn(n)||!go(n)||(Object.assign(n.style,a),Object.keys(s).forEach(function(l){n.removeAttribute(l)}))})}}const jse={name:"applyStyles",enabled:!0,phase:"write",fn:Fse,effect:Use,requires:["computeStyles"]};function lo(e){return e.split("-")[0]}var Ac=Math.max,Wg=Math.min,Yh=Math.round;function aS(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ER(){return!/^((?!chrome|android).)*safari/i.test(aS())}function Jh(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var r=e.getBoundingClientRect(),n=1,s=1;t&&Bn(e)&&(n=e.offsetWidth>0&&Yh(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Yh(r.height)/e.offsetHeight||1);var o=Jc(e)?_n(e):window,a=o.visualViewport,l=!ER()&&i,c=(r.left+(l&&a?a.offsetLeft:0))/n,f=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/n,p=r.height/s;return{width:d,height:p,top:f,right:c+d,bottom:f+p,left:c,x:c,y:f}}function O3(e){var t=Jh(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function TR(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&I3(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ta(e){return _n(e).getComputedStyle(e)}function Gse(e){return["table","td","th"].indexOf(go(e))>=0}function Il(e){return((Jc(e)?e.ownerDocument:e.document)||window.document).documentElement}function $v(e){return go(e)==="html"?e:e.assignedSlot||e.parentNode||(I3(e)?e.host:null)||Il(e)}function NI(e){return!Bn(e)||ta(e).position==="fixed"?null:e.offsetParent}function Bse(e){var t=/firefox/i.test(aS()),i=/Trident/i.test(aS());if(i&&Bn(e)){var r=ta(e);if(r.position==="fixed")return null}var n=$v(e);for(I3(n)&&(n=n.host);Bn(n)&&["html","body"].indexOf(go(n))<0;){var s=ta(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function Nm(e){for(var t=_n(e),i=NI(e);i&&Gse(i)&&ta(i).position==="static";)i=NI(i);return i&&(go(i)==="html"||go(i)==="body"&&ta(i).position==="static")?t:i||Bse(e)||t}function $3(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Hd(e,t,i){return Ac(e,Wg(t,i))}function Vse(e,t,i){var r=Hd(e,t,i);return r>i?i:r}function AR(){return{top:0,right:0,bottom:0,left:0}}function MR(e){return Object.assign({},AR(),e)}function IR(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var zse=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,MR(typeof t!="number"?t:IR(t,Cm))};function qse(e){var t,i=e.state,r=e.name,n=e.options,s=i.elements.arrow,o=i.modifiersData.popperOffsets,a=lo(i.placement),l=$3(a),c=[nn,Wn].indexOf(a)>=0,f=c?"height":"width";if(!(!s||!o)){var d=zse(n.padding,i),p=O3(s),y=l==="y"?rn:nn,v=l==="y"?qn:Wn,_=i.rects.reference[f]+i.rects.reference[l]-o[l]-i.rects.popper[f],E=o[l]-i.rects.reference[l],x=Nm(s),A=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=_/2-E/2,b=d[y],M=A-p[f]-d[v],I=A/2-p[f]/2+w,C=Hd(b,I,M),P=l;i.modifiersData[r]=(t={},t[P]=C,t.centerOffset=C-I,t)}}function Wse(e){var t=e.state,i=e.options,r=i.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||TR(t.elements.popper,n)&&(t.elements.arrow=n))}const Hse={name:"arrow",enabled:!0,phase:"main",fn:qse,effect:Wse,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Kh(e){return e.split("-")[1]}var Yse={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jse(e,t){var i=e.x,r=e.y,n=t.devicePixelRatio||1;return{x:Yh(i*n)/n||0,y:Yh(r*n)/n||0}}function PI(e){var t,i=e.popper,r=e.popperRect,n=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=o.x,y=p===void 0?0:p,v=o.y,_=v===void 0?0:v,E=typeof f=="function"?f({x:y,y:_}):{x:y,y:_};y=E.x,_=E.y;var x=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),w=nn,b=rn,M=window;if(c){var I=Nm(i),C="clientHeight",P="clientWidth";if(I===_n(i)&&(I=Il(i),ta(I).position!=="static"&&a==="absolute"&&(C="scrollHeight",P="scrollWidth")),I=I,n===rn||(n===nn||n===Wn)&&s===qp){b=qn;var N=d&&I===M&&M.visualViewport?M.visualViewport.height:I[C];_-=N-r.height,_*=l?1:-1}if(n===nn||(n===rn||n===qn)&&s===qp){w=Wn;var U=d&&I===M&&M.visualViewport?M.visualViewport.width:I[P];y-=U-r.width,y*=l?1:-1}}var j=Object.assign({position:a},c&&Yse),F=f===!0?Jse({x:y,y:_},_n(i)):{x:y,y:_};if(y=F.x,_=F.y,l){var q;return Object.assign({},j,(q={},q[b]=A?"0":"",q[w]=x?"0":"",q.transform=(M.devicePixelRatio||1)<=1?"translate("+y+"px, "+_+"px)":"translate3d("+y+"px, "+_+"px, 0)",q))}return Object.assign({},j,(t={},t[b]=A?_+"px":"",t[w]=x?y+"px":"",t.transform="",t))}function Kse(e){var t=e.state,i=e.options,r=i.gpuAcceleration,n=r===void 0?!0:r,s=i.adaptive,o=s===void 0?!0:s,a=i.roundOffsets,l=a===void 0?!0:a,c={placement:lo(t.placement),variation:Kh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,PI(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,PI(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Zse={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Kse,data:{}};var w0={passive:!0};function Xse(e){var t=e.state,i=e.instance,r=e.options,n=r.scroll,s=n===void 0?!0:n,o=r.resize,a=o===void 0?!0:o,l=_n(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(f){f.addEventListener("scroll",i.update,w0)}),a&&l.addEventListener("resize",i.update,w0),function(){s&&c.forEach(function(f){f.removeEventListener("scroll",i.update,w0)}),a&&l.removeEventListener("resize",i.update,w0)}}const Qse={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Xse,data:{}};var eoe={left:"right",right:"left",bottom:"top",top:"bottom"};function Iy(e){return e.replace(/left|right|bottom|top/g,function(t){return eoe[t]})}var toe={start:"end",end:"start"};function LI(e){return e.replace(/start|end/g,function(t){return toe[t]})}function C3(e){var t=_n(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function N3(e){return Jh(Il(e)).left+C3(e).scrollLeft}function ioe(e,t){var i=_n(e),r=Il(e),n=i.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;var c=ER();(c||!c&&t==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a+N3(e),y:l}}function roe(e){var t,i=Il(e),r=C3(e),n=(t=e.ownerDocument)==null?void 0:t.body,s=Ac(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=Ac(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-r.scrollLeft+N3(e),l=-r.scrollTop;return ta(n||i).direction==="rtl"&&(a+=Ac(i.clientWidth,n?n.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function P3(e){var t=ta(e),i=t.overflow,r=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+r)}function OR(e){return["html","body","#document"].indexOf(go(e))>=0?e.ownerDocument.body:Bn(e)&&P3(e)?e:OR($v(e))}function Yd(e,t){var i;t===void 0&&(t=[]);var r=OR(e),n=r===((i=e.ownerDocument)==null?void 0:i.body),s=_n(r),o=n?[s].concat(s.visualViewport||[],P3(r)?r:[]):r,a=t.concat(o);return n?a:a.concat(Yd($v(o)))}function lS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function noe(e,t){var i=Jh(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function kI(e,t,i){return t===SR?lS(ioe(e,i)):Jc(t)?noe(t,i):lS(roe(Il(e)))}function soe(e){var t=Yd($v(e)),i=["absolute","fixed"].indexOf(ta(e).position)>=0,r=i&&Bn(e)?Nm(e):e;return Jc(r)?t.filter(function(n){return Jc(n)&&TR(n,r)&&go(n)!=="body"}):[]}function ooe(e,t,i,r){var n=t==="clippingParents"?soe(e):[].concat(t),s=[].concat(n,[i]),o=s[0],a=s.reduce(function(l,c){var f=kI(e,c,r);return l.top=Ac(f.top,l.top),l.right=Wg(f.right,l.right),l.bottom=Wg(f.bottom,l.bottom),l.left=Ac(f.left,l.left),l},kI(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function $R(e){var t=e.reference,i=e.element,r=e.placement,n=r?lo(r):null,s=r?Kh(r):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(n){case rn:l={x:o,y:t.y-i.height};break;case qn:l={x:o,y:t.y+t.height};break;case Wn:l={x:t.x+t.width,y:a};break;case nn:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=n?$3(n):null;if(c!=null){var f=c==="y"?"height":"width";switch(s){case Hh:l[c]=l[c]-(t[f]/2-i[f]/2);break;case qp:l[c]=l[c]+(t[f]/2-i[f]/2);break}}return l}function Zh(e,t){t===void 0&&(t={});var i=t,r=i.placement,n=r===void 0?e.placement:r,s=i.strategy,o=s===void 0?e.strategy:s,a=i.boundary,l=a===void 0?Ase:a,c=i.rootBoundary,f=c===void 0?SR:c,d=i.elementContext,p=d===void 0?Bf:d,y=i.altBoundary,v=y===void 0?!1:y,_=i.padding,E=_===void 0?0:_,x=MR(typeof E!="number"?E:IR(E,Cm)),A=p===Bf?Mse:Bf,w=e.rects.popper,b=e.elements[v?A:p],M=ooe(Jc(b)?b:b.contextElement||Il(e.elements.popper),l,f,o),I=Jh(e.elements.reference),C=$R({reference:I,element:w,strategy:"absolute",placement:n}),P=lS(Object.assign({},w,C)),N=p===Bf?P:I,U={top:M.top-N.top+x.top,bottom:N.bottom-M.bottom+x.bottom,left:M.left-N.left+x.left,right:N.right-M.right+x.right},j=e.modifiersData.offset;if(p===Bf&&j){var F=j[n];Object.keys(U).forEach(function(q){var te=[Wn,qn].indexOf(q)>=0?1:-1,h=[rn,qn].indexOf(q)>=0?"y":"x";U[q]+=F[h]*te})}return U}function aoe(e,t){t===void 0&&(t={});var i=t,r=i.placement,n=i.boundary,s=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?xR:l,f=Kh(r),d=f?a?CI:CI.filter(function(v){return Kh(v)===f}):Cm,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,_){return v[_]=Zh(e,{placement:_,boundary:n,rootBoundary:s,padding:o})[lo(_)],v},{});return Object.keys(y).sort(function(v,_){return y[v]-y[_]})}function loe(e){if(lo(e)===M3)return[];var t=Iy(e);return[LI(e),t,LI(t)]}function coe(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var n=i.mainAxis,s=n===void 0?!0:n,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,c=i.padding,f=i.boundary,d=i.rootBoundary,p=i.altBoundary,y=i.flipVariations,v=y===void 0?!0:y,_=i.allowedAutoPlacements,E=t.options.placement,x=lo(E),A=x===E,w=l||(A||!v?[Iy(E)]:loe(E)),b=[E].concat(w).reduce(function(je,ze){return je.concat(lo(ze)===M3?aoe(t,{placement:ze,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:_}):ze)},[]),M=t.rects.reference,I=t.rects.popper,C=new Map,P=!0,N=b[0],U=0;U<b.length;U++){var j=b[U],F=lo(j),q=Kh(j)===Hh,te=[rn,qn].indexOf(F)>=0,h=te?"width":"height",m=Zh(t,{placement:j,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),S=te?q?Wn:nn:q?qn:rn;M[h]>I[h]&&(S=Iy(S));var $=Iy(S),B=[];if(s&&B.push(m[F]<=0),a&&B.push(m[S]<=0,m[$]<=0),B.every(function(je){return je})){N=j,P=!1;break}C.set(j,B)}if(P)for(var Y=v?3:1,pe=function(ze){var lt=b.find(function(Vt){var At=C.get(Vt);if(At)return At.slice(0,ze).every(function(pi){return pi})});if(lt)return N=lt,"break"},ae=Y;ae>0;ae--){var Me=pe(ae);if(Me==="break")break}t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}}const uoe={name:"flip",enabled:!0,phase:"main",fn:coe,requiresIfExists:["offset"],data:{_skip:!1}};function RI(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function DI(e){return[rn,Wn,qn,nn].some(function(t){return e[t]>=0})}function hoe(e){var t=e.state,i=e.name,r=t.rects.reference,n=t.rects.popper,s=t.modifiersData.preventOverflow,o=Zh(t,{elementContext:"reference"}),a=Zh(t,{altBoundary:!0}),l=RI(o,r),c=RI(a,n,s),f=DI(l),d=DI(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}const foe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hoe};function doe(e,t,i){var r=lo(e),n=[nn,rn].indexOf(r)>=0?-1:1,s=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=s[0],a=s[1];return o=o||0,a=(a||0)*n,[nn,Wn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function poe(e){var t=e.state,i=e.options,r=e.name,n=i.offset,s=n===void 0?[0,0]:n,o=xR.reduce(function(f,d){return f[d]=doe(d,t.rects,s),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const moe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:poe};function yoe(e){var t=e.state,i=e.name;t.modifiersData[i]=$R({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const goe={name:"popperOffsets",enabled:!0,phase:"read",fn:yoe,data:{}};function voe(e){return e==="x"?"y":"x"}function boe(e){var t=e.state,i=e.options,r=e.name,n=i.mainAxis,s=n===void 0?!0:n,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,c=i.rootBoundary,f=i.altBoundary,d=i.padding,p=i.tether,y=p===void 0?!0:p,v=i.tetherOffset,_=v===void 0?0:v,E=Zh(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),x=lo(t.placement),A=Kh(t.placement),w=!A,b=$3(x),M=voe(b),I=t.modifiersData.popperOffsets,C=t.rects.reference,P=t.rects.popper,N=typeof _=="function"?_(Object.assign({},t.rects,{placement:t.placement})):_,U=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(I){if(s){var q,te=b==="y"?rn:nn,h=b==="y"?qn:Wn,m=b==="y"?"height":"width",S=I[b],$=S+E[te],B=S-E[h],Y=y?-P[m]/2:0,pe=A===Hh?C[m]:P[m],ae=A===Hh?-P[m]:-C[m],Me=t.elements.arrow,je=y&&Me?O3(Me):{width:0,height:0},ze=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:AR(),lt=ze[te],Vt=ze[h],At=Hd(0,C[m],je[m]),pi=w?C[m]/2-Y-At-lt-U.mainAxis:pe-At-lt-U.mainAxis,kt=w?-C[m]/2+Y+At+Vt+U.mainAxis:ae+At+Vt+U.mainAxis,ii=t.elements.arrow&&Nm(t.elements.arrow),Yi=ii?b==="y"?ii.clientTop||0:ii.clientLeft||0:0,G=(q=j?.[b])!=null?q:0,D=S+pi-G-Yi,H=S+kt-G,se=Hd(y?Wg($,D):$,S,y?Ac(B,H):B);I[b]=se,F[b]=se-S}if(a){var Q,le=b==="x"?rn:nn,ye=b==="x"?qn:Wn,L=I[M],k=M==="y"?"height":"width",V=L+E[le],ee=L-E[ye],re=[rn,nn].indexOf(x)!==-1,ne=(Q=j?.[M])!=null?Q:0,W=re?V:L-C[k]-P[k]-ne+U.altAxis,K=re?L+C[k]+P[k]-ne-U.altAxis:ee,Te=y&&re?Vse(W,L,K):Hd(y?W:V,L,y?K:ee);I[M]=Te,F[M]=Te-L}t.modifiersData[r]=F}}const _oe={name:"preventOverflow",enabled:!0,phase:"main",fn:boe,requiresIfExists:["offset"]};function woe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Soe(e){return e===_n(e)||!Bn(e)?C3(e):woe(e)}function xoe(e){var t=e.getBoundingClientRect(),i=Yh(t.width)/e.offsetWidth||1,r=Yh(t.height)/e.offsetHeight||1;return i!==1||r!==1}function Eoe(e,t,i){i===void 0&&(i=!1);var r=Bn(t),n=Bn(t)&&xoe(t),s=Il(t),o=Jh(e,n,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&((go(t)!=="body"||P3(s))&&(a=Soe(t)),Bn(t)?(l=Jh(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=N3(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Toe(e){var t=new Map,i=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function n(s){i.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&n(l)}}),r.push(s)}return e.forEach(function(s){i.has(s.name)||n(s)}),r}function Aoe(e){var t=Toe(e);return Dse.reduce(function(i,r){return i.concat(t.filter(function(n){return n.phase===r}))},[])}function Moe(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function Ioe(e){var t=e.reduce(function(i,r){var n=i[r.name];return i[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var FI={placement:"bottom",modifiers:[],strategy:"absolute"};function UI(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ooe(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,n=t.defaultOptions,s=n===void 0?FI:n;return function(a,l,c){c===void 0&&(c=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},FI,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(x){var A=typeof x=="function"?x(f.options):x;_(),f.options=Object.assign({},s,f.options,A),f.scrollParents={reference:Jc(a)?Yd(a):a.contextElement?Yd(a.contextElement):[],popper:Yd(l)};var w=Aoe(Ioe([].concat(r,f.options.modifiers)));return f.orderedModifiers=w.filter(function(b){return b.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var x=f.elements,A=x.reference,w=x.popper;if(UI(A,w)){f.rects={reference:Eoe(A,Nm(w),f.options.strategy==="fixed"),popper:O3(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(U){return f.modifiersData[U.name]=Object.assign({},U.data)});for(var b=0;b<f.orderedModifiers.length;b++){if(f.reset===!0){f.reset=!1,b=-1;continue}var M=f.orderedModifiers[b],I=M.fn,C=M.options,P=C===void 0?{}:C,N=M.name;typeof I=="function"&&(f=I({state:f,options:P,name:N,instance:y})||f)}}}},update:Moe(function(){return new Promise(function(E){y.forceUpdate(),E(f)})}),destroy:function(){_(),p=!0}};if(!UI(a,l))return y;y.setOptions(c).then(function(E){!p&&c.onFirstUpdate&&c.onFirstUpdate(E)});function v(){f.orderedModifiers.forEach(function(E){var x=E.name,A=E.options,w=A===void 0?{}:A,b=E.effect;if(typeof b=="function"){var M=b({state:f,name:x,instance:y,options:w}),I=function(){};d.push(M||I)}})}function _(){d.forEach(function(E){return E()}),d=[]}return y}}var $oe=[Qse,goe,Zse,jse,moe,uoe,_oe,Hse,foe],Coe=Ooe({defaultModifiers:$oe});const Noe=["content","aria-label"],L3=rt({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(e){const t=X(!1),i=X(null),r=er([]),n=X(),s=X(),o=X(),a=e;r.push(qi(t,()=>{i.value.update()}));const l=()=>{t.value=!t.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:t.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},f=()=>{o.value._tippy.hide()};return ar(()=>{window.addEventListener("click",d=>{(!n.value||!n.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{t.value=!1}),window.addEventListener("focusin",d=>{(!n.value||!n.value.contains(d.target))&&(t.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",f),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",f),As(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:p}){const{bottom:y}=Zh(p);y>0?(p.styles.popper.overflowY=y>100?"auto":void 0,p.styles.popper.overflowX="hidden",p.styles.popper.height=`${p.rects.popper.height-y-8}px`):p.styles.popper.height="auto"}};o.value&&s.value&&(i.value=Coe(o.value,s.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),Ms(()=>{r.forEach(d=>d()),window.removeEventListener("click",d=>{(!n.value||!n.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{t.value=!1}),window.removeEventListener("focusin",d=>{(!n.value||!n.value.contains(d.target))&&(t.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",f),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",f),t.value=!1}),(d,p)=>{const y=Tt("tippy");return fe(),we("div",{ref_key:"el",ref:n},[Et((fe(),we("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:e.tooltip,"aria-label":e.ariaLabel?String(e.ariaLabel):String(e.tooltip),ref_key:"dropdownTrigger",ref:o},[cs(d.$slots,"header")],8,Noe)),[[y,{placement:e.tooltipPlacement,theme:e.tooltipTheme,animation:e.tooltipAnimation,trigger:"manual"}]]),Et(ce("div",{onClick:p[0]||(p[0]=v=>i.value.update()),class:di(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":e.centered}]),ref_key:"dropdown",ref:s},[cs(d.$slots,"default",{close:()=>t.value=!t.value})],2),[[pv,t.value]])],512)}}}),co=oi("notification",()=>{const e=X([]),t=X({}),i=et(()=>e.value.length>=99?99:e.value.length);function r(c){e.value=[c,...e.value]}function n(c){if(e.value.includes(c)){const f=e.value.indexOf(c);c instanceof CR&&l(c),f>-1&&e.value.splice(f,1)}}function s(c){t.value[c.id]=c}function o(c,f){t.value[c]&&(t.value[c].messageList.push(f),e.value.includes(t.value[c])||(e.value=[t.value[c],...e.value]))}function a(){Object.values(t.value).forEach(c=>l(c)),e.value=[]}function l(c){const f=e.value.indexOf(c);f>-1&&e.value.splice(f,1),c.messageList=[]}return{notificationStack:e,groups:t,notificationNumber:i,showNotification:r,removeNotification:n,registerGroup:s,addToGroup:o,clearAll:a}}),Poe={class:"h-full flex flex-col"},Loe={class:"w-full flex mb-6"},koe=["content","aria-label"],Roe=rt({__name:"screen",props:{panel:{type:Object,required:!0}},setup(e){const t=co(),{t:i}=ti(),r=et(()=>t.notificationNumber),n=()=>t.clearAll();return(s,o)=>{const a=vi("panel-screen"),l=Tt("tippy");return fe(),Gt(a,{panel:e.panel},{header:Ti(()=>[ao(Ut(Ie(i)("notifications.title")),1)]),content:Ti(()=>[ce("div",Poe,[ce("div",Loe,[Et((fe(),we("button",{type:"button",onClick:n,class:di(["p-4 ml-auto",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Ie(i)("notifications.controls.clearAll"),"aria-label":Ie(i)("notifications.controls.clearAll")},o[0]||(o[0]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ce("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ce("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ce("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ce("path",{d:"M22 22l-5 -5"}),ce("path",{d:"M17 22l5 -5"})],-1)]),10,koe)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Ze(NR,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var gn=(e=>(e.ERROR="error",e.INFO="info",e.WARNING="warning",e))(gn||{});class Doe extends Pi{notificationStore;constructor(t){super(t),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":xi(Roe)},alertName:"notifications.title"}}),this.notificationStore=co(this.$vApp.$pinia)}show(t,i){this.notificationStore.showNotification({type:t,message:i})}addGroup(t,i,r){if(this.getGroup(t))throw new Error("Duplicate notification group id registration: "+t);const n=new CR(this.$iApi,t,i,r);return this.notificationStore.registerGroup(n),n}getGroup(t){return this.notificationStore.groups[t]}}class CR extends Pi{notificationStore=co(this.$vApp.$pinia);id;message;type;messageList=[];constructor(t,i,r,n){super(t),this.id=i,this.type=r,this.message=n}show(t){this.notificationStore.addToGroup(this.id,t)}}const Foe=["content"],Uoe={class:"flex items-center text-left"},joe={class:"select-text cursor-text"},Goe=["content"],Boe={key:0,class:"text-left"},Voe=rt({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(e){const t=co(),{t:i}=ti(),r=e,n=X(!1),s=er({[gn.WARNING]:"",[gn.INFO]:"",[gn.ERROR]:""}),o=l=>{t.removeNotification(l)},a=()=>{if(!r.notification.messageList)return!1};return(l,c)=>{const f=Tt("tippy");return Et((fe(),we("li",{class:di(["flex-col default-focus-style p-4",e.notification.messageList?"cursor-pointer":""]),content:Ie(i)(n.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>n.value=!n.value)},[ce("div",Uoe,[ce("span",null,[ao(Ut(s[e.notification.type])+" ",1),ce("span",joe,Ut(e.notification.message),1)]),c[4]||(c[4]=ce("span",{class:"flex-grow"},null,-1)),e.notification.messageList?(fe(),we("div",{key:0,class:di(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":n.value}])},c[2]||(c[2]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[ce("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Wt("",!0),Et((fe(),we("button",{type:"button",onClick:c[0]||(c[0]=Mm(d=>o(e.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:Ie(i)("notifications.controls.dismiss")},c[3]||(c[3]=[ce("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[ce("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,Goe)),[[f,{theme:"ramp4",animation:"scale"}]])]),e.notification.messageList&&n.value?(fe(),we("div",Boe,[(fe(!0),we(Ot,null,El(e.notification.messageList,(d,p)=>(fe(),we("p",{key:e.notification.id+d+p},Ut(d),1))),128))])):Wt("",!0)],10,Foe)),[[f,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),zoe=["content"],qoe={key:0,class:"w-full border-b border-black"},Woe={key:1,class:"flex flex-col items-center h-full"},NR=rt({__name:"notification-list",setup(e){const t=co(),{t:i}=ti(),r=X(),n=()=>{r.value._tippy.hide()},s=a=>{a.key==="Tab"&&r.value?.matches(":focus")&&r.value._tippy.show()};ar(()=>{r.value?.addEventListener("blur",n),r.value?.addEventListener("keyup",s)}),Ms(()=>{r.value?.removeEventListener("blur",n),r.value?.removeEventListener("keyup",s)});const o=et(()=>t.notificationStack);return(a,l)=>{const c=Tt("focus-item"),f=Tt("focus-list"),d=Tt("tippy");return fe(),we("div",null,[o.value.length>0?Et((fe(),we("ul",{key:0,content:Ie(i)("panels.controls.items"),ref_key:"el",ref:r,class:"h-full overflow-y-auto"},[(fe(!0),we(Ot,null,El(o.value,(p,y)=>(fe(),we(Ot,{key:p.message+y},[y>0?(fe(),we("div",qoe)):Wt("",!0),Et(Ze(Voe,{class:di([p.type]),notification:p},null,8,["class","notification"]),[[c]])],64))),128))],8,zoe)),[[f],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(fe(),we("div",Woe,[l[0]||(l[0]=ce("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[ce("path",{d:"M0 0h24v24H0z",fill:"none"}),ce("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),ce("span",null,Ut(Ie(i)("notifications.empty")),1),l[2]||(l[2]=ce("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),Hoe={class:"flex items-center hover:text-white"},Yoe=["aria-label"],Joe={key:0,class:"number rounded-full w-18 text-white"},Koe={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},Zoe={class:"pb-8 border-b border-gray-600"},Xoe={class:"absolute flex right-3 top-3"},Qoe=["content","aria-label"],eae=rt({__name:"caption-button",setup(e){const t=co(),{t:i}=ti(),r=et(()=>t.notificationNumber),n=()=>t.clearAll();return(s,o)=>{const a=vi("close"),l=Tt("tippy");return fe(),Gt(L3,{position:"top-start",tooltip:Ie(i)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:Ti(()=>[ce("div",Hoe,[(fe(),we("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":Ie(i)("notifications.open")},o[0]||(o[0]=[ce("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,Yoe)),r.value&&r.value>0?(fe(),we("span",Joe,Ut(r.value),1)):Wt("",!0)])]),default:Ti(c=>[ce("div",Koe,[ce("div",null,[ce("h4",Zoe,Ut(Ie(i)("notifications.title")),1),ce("div",Xoe,[Et((fe(),we("button",{type:"button",onClick:n,class:di(["p-4 mr-6",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Ie(i)("notifications.controls.clearAll"),"aria-label":Ie(i)("notifications.controls.clearAll")},o[1]||(o[1]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ce("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ce("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ce("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ce("path",{d:"M22 22l-5 -5"}),ce("path",{d:"M17 22l5 -5"})],-1)]),10,Qoe)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Ze(a,{onClick:c.close},null,8,["onClick"])])]),Ze(NR,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),tae=oa(eae,[["__scopeId","data-v-77b1750c"]]),iae={class:"flex hover:text-white"},rae=["aria-label"],nae={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},sae=["aria-label","content"],oae={class:"pb-8 border-b border-gray-600 mb-10"},aae={class:"absolute right-5 top-5"},lae={class:"select-text"},cae={class:"font-bold cursor-text"},uae={class:"text-sm cursor-text"},hae={class:"text-sm cursor-text"},fae=rt({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(e){const{t}=ti(),i=Ci("iApi"),r=()=>{i.reload()},n=et(()=>`${zf.major}.${zf.minor}.${zf.patch}`),s=et(()=>zf.hash.slice(0,9)),o=et(()=>{const a=new Date(zf.timestamp);if(isNaN(a))return"dev mode, no date";{const l=c=>c<10?"0"+c.toString():c.toString();return`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()} ${a.getHours()}:${l(a.getMinutes())}:${l(a.getSeconds())}`}});return(a,l)=>{const c=vi("close"),f=vi("dropdown-menu"),d=Tt("tippy"),p=Tt("focus-item");return Et((fe(),Gt(f,{class:"pointer-events-auto sm:flex",position:e.position,tooltip:Ie(t)("ramp.about"),tooltipPlacement:e.position},{header:Ti(()=>[ce("div",iae,[(fe(),we("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":Ie(t)("ramp.about.open")},l[0]||(l[0]=[ce("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,rae))])]),default:Ti(y=>[ce("div",nae,[ce("div",null,[Et((fe(),we("button",{class:"absolute left-5 top-5 text-gray-500 hover:text-black focus:text-black p-8",onClick:r,"aria-label":Ie(t)("ramp.reload"),content:Ie(t)("ramp.reload")},l[1]||(l[1]=[ce("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ce("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)]),8,sae)),[[d,{placement:"bottom-start",theme:"ramp4",animation:"scale"}]]),ce("h4",oae,Ut(Ie(t)("ramp.about")),1),ce("div",aae,[Ze(c,{onClick:y.close},null,8,["onClick"])]),ce("div",lae,[ce("div",null,[ce("span",cae,Ut(n.value),1),ce("span",uae," ["+Ut(s.value)+"] ",1)]),ce("div",null,[ce("span",hae,Ut(o.value),1)]),l[2]||(l[2]=ce("div",{class:"mt-5"},[ce("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[ce("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),ao(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[p]])}}}),dae=oa(fae,[["__scopeId","data-v-b2adae3d"]]),pae={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},mae={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},yae=["href","aria-label"],gae=["src","alt"],vae={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},bae={class:"flex min-w-fit justify-end"},_ae={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},wae=["aria-pressed","aria-label","content"],Sae={class:"relative top-1 text-sm sm:text-base"},xae={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},Eae=["onClick"],Tae={key:0,class:"sr-only"},Aae=rt({__name:"map-caption",setup(e){const t=Xa(),i=Xr(),{t:r}=ti(),n=Ci("iApi"),s=et(()=>t.scale),o=et(()=>t.attribution),a=et(()=>t.coords),l=et(()=>t.langtoggle),c=et(()=>i.config.map),f=X([]),d=er([]);d.push(qi(c,E=>{E&&n.geo.map.caption.createCaption(c.value?.caption)})),Ms(()=>{d.forEach(E=>E())}),Ef(()=>{As(()=>{n.$i18n.locale.value&&f.value.length==0&&(f.value=n.$i18n.availableLocales)})});const p=()=>o.value?.logo?.link&&o.value?.logo?.value&&!o.value?.logo?.disabled,y=E=>{n.$i18n.locale.value!=E&&n.setLanguage(E)},v=()=>{t.toggleScale(),n.geo.map.caption.updateScale()},_=(E=!1)=>r(E?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(E,x)=>{const A=vi("dropdown-menu"),w=Tt("truncate"),b=Tt("tippy");return fe(),we("div",pae,[Ze(dae,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Ze(tae,{class:"sm:block display-none"}),p()?(fe(),we("span",mae,[ce("a",{class:"pointer-events-auto cursor-pointer",href:o.value?.logo.link,target:"_blank","aria-label":o.value?.logo.altText},[ce("img",{class:"object-contain h-18 sm:h-26",src:o.value?.logo.value,alt:o.value?.logo.altText},null,8,gae)],8,yae)])):Wt("",!0),o.value?.text.disabled?Wt("",!0):Et((fe(),we("span",vae,[ao(Ut(o.value?.text.value),1)])),[[w,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),x[0]||(x[0]=ce("span",{class:"flex-grow w-15"},null,-1)),ce("div",bae,[a.value?.disabled?Wt("",!0):Et((fe(),we("div",_ae,[ao(Ut(a.value?.formattedString),1)])),[[w,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),s.value?.disabled?Wt("",!0):Et((fe(),we("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:v,"aria-pressed":s.value?.isImperialScale,"aria-label":`
                    ${s.value?.label} - ${_(s.value?.isImperialScale)}
                `,content:_(s.value?.isImperialScale)},[ce("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:_l({width:s.value?.width})},null,4),ce("span",Sae,Ut(s.value?.label),1)],8,wae)),[[b,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?Wt("",!0):(fe(),Gt(A,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:Ie(r)("map.changeLanguage"),ariaLabel:`${Ie(r)("map.language.short")} - ${Ie(r)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:Ti(()=>[ce("span",xae,Ut(Ie(r)("map.language.short")),1)]),default:Ti(()=>[(fe(!0),we(Ot,null,El(f.value,(M,I)=>(fe(),we("a",{key:`${M}-${I}`,class:di(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":M===Ie(n).$i18n.locale.value}]),href:"javascript:;",onClick:C=>y(M)},[ao(Ut(Ie(r)("map.language."+M))+" ",1),M===Ie(n).$i18n.locale.value?(fe(),we("span",Tae,Ut(Ie(r)("map.language.curr")),1)):Wt("",!0)],10,Eae))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),Mae=["content","aria-label"],Iae={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},Oae=rt({__name:"floating-button",setup(e){const t=co(),i=Ci("iApi"),{t:r}=ti(),n=et(()=>t.notificationNumber);return(s,o)=>{const a=Tt("tippy");return Et((fe(),we("button",{type:"button",onClick:o[0]||(o[0]=l=>Ie(i).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:Ie(r)("notifications.title"),"aria-label":Ie(r)("notifications.title")},[o[1]||(o[1]=ce("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ce("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),n.value&&n.value>0?(fe(),we("span",Iae,Ut(n.value),1)):Wt("",!0)],8,Mae)),[[a]])}}}),$ae=oa(Oae,[["__scopeId","data-v-db7ed22c"]]),Cae={class:"flex items-center mb-20"},Nae={class:"text-xl"},Pae=rt({__name:"keyboard-instructions",setup(e){const t=Ci("iApi"),{t:i}=ti(),r=X(!1),n=X(["app","lists","map"]),s=X([]),o=X(null),a=X(null);ar(()=>{s.value.push(t.event.on("openKeyboardInstructions",()=>{r.value=!0,As(()=>{o.value.focus()})}))}),Ms(()=>{s.value.forEach(c=>t?.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),r.value=!1)};return(c,f)=>{const d=vi("close");return r.value?(fe(),we("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:f[3]||(f[3]=p=>r.value=!1),onKeydown:l},[ce("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col",onClick:f[2]||(f[2]=Mm(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[ce("div",Cae,[ce("h2",Nae,Ut(Ie(i)("keyboardInstructions.title")),1),Ze(d,{class:"ml-auto",onClick:f[0]||(f[0]=p=>r.value=!1)})]),(fe(!0),we(Ot,null,El(n.value,p=>(fe(),we("p",{class:"whitespace-pre-line pb-10",key:p},Ut(Ie(i)(`keyboardInstructions.${p}`)),1))),128)),ce("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:f[1]||(f[1]=p=>r.value=!1),ref_key:"lastEl",ref:a},Ut(Ie(i)("keyboardInstructions.OK")),513)],512)],32)):Wt("",!0)}}}),Bu=oi("instance",()=>({started:X(!1)})),Lae={class:"h-full relative"},kae={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},Rae={class:"absolute top-8 w-full flex justify-center"},Dae={key:1,class:"w-full h-full"},Fae=rt({__name:"shell",setup(e){const t=Ci("iApi"),i=Bu(),r=Pn(),n=Yc(),{t:s}=ti(),o=et(()=>r.items.appbar),a=()=>{t?.event.emit("openKeyboardInstructions")},l=()=>n.teleported;return(c,f)=>(fe(),we("div",Lae,[ce("div",kae,[f[0]||(f[0]=ce("div",{class:"sr-only screen-reader-alert"},null,-1)),ce("div",Rae,[ce("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},Ut(Ie(s)("keyboardInstructions.open")),1)]),Ze(Pae),Ze(Tse,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Wt("",!0):(fe(),Gt($ae,{key:0})),Ze(Aae,{class:"z-30"})]),Ie(i).started?(fe(),Gt(Hne,{key:0})):(fe(),we("div",Dae,f[1]||(f[1]=[ce("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(fe(!0),we(Ot,null,El(l(),d=>(fe(),Gt(cE,{to:d.teleport?.target,key:d.id},[(fe(),Gt(wR,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),Uae=oa(Fae,[["__scopeId","data-v-2c534eed"]]);/*!
  * vue-tippy v6.4.4
  * (c) 2024 
  * @license MIT
  */var sn="top",Hn="bottom",Yn="right",on="left",k3="auto",Pm=[sn,Hn,Yn,on],Xh="start",Wp="end",jae="clippingParents",PR="viewport",Vf="popper",Gae="reference",jI=Pm.reduce(function(e,t){return e.concat([t+"-"+Xh,t+"-"+Wp])},[]),LR=[].concat(Pm,[k3]).reduce(function(e,t){return e.concat([t,t+"-"+Xh,t+"-"+Wp])},[]),Bae="beforeRead",Vae="read",zae="afterRead",qae="beforeMain",Wae="main",Hae="afterMain",Yae="beforeWrite",Jae="write",Kae="afterWrite",Zae=[Bae,Vae,zae,qae,Wae,Hae,Yae,Jae,Kae];function vo(e){return e?(e.nodeName||"").toLowerCase():null}function Is(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qh(e){var t=Is(e).Element;return e instanceof t||e instanceof Element}function Vn(e){var t=Is(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function kR(e){if(typeof ShadowRoot>"u")return!1;var t=Is(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Xae(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},n=t.attributes[i]||{},s=t.elements[i];!Vn(s)||!vo(s)||(Object.assign(s.style,r),Object.keys(n).forEach(function(o){var a=n[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Qae(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var n=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Vn(n)||!vo(n)||(Object.assign(n.style,a),Object.keys(s).forEach(function(l){n.removeAttribute(l)}))})}}var RR={name:"applyStyles",enabled:!0,phase:"write",fn:Xae,effect:Qae,requires:["computeStyles"]};function uo(e){return e.split("-")[0]}var Mc=Math.max,Hg=Math.min,ef=Math.round;function tf(e,t){t===void 0&&(t=!1);var i=e.getBoundingClientRect(),r=1,n=1;if(Vn(e)&&t){var s=e.offsetHeight,o=e.offsetWidth;o>0&&(r=ef(i.width)/o||1),s>0&&(n=ef(i.height)/s||1)}return{width:i.width/r,height:i.height/n,top:i.top/n,right:i.right/r,bottom:i.bottom/n,left:i.left/r,x:i.left/r,y:i.top/n}}function R3(e){var t=tf(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function DR(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&kR(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function bo(e){return Is(e).getComputedStyle(e)}function ele(e){return["table","td","th"].indexOf(vo(e))>=0}function Ol(e){return((Qh(e)?e.ownerDocument:e.document)||window.document).documentElement}function Cv(e){return vo(e)==="html"?e:e.assignedSlot||e.parentNode||(kR(e)?e.host:null)||Ol(e)}function GI(e){return!Vn(e)||bo(e).position==="fixed"?null:e.offsetParent}function tle(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&Vn(e)){var r=bo(e);if(r.position==="fixed")return null}for(var n=Cv(e);Vn(n)&&["html","body"].indexOf(vo(n))<0;){var s=bo(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function Lm(e){for(var t=Is(e),i=GI(e);i&&ele(i)&&bo(i).position==="static";)i=GI(i);return i&&(vo(i)==="html"||vo(i)==="body"&&bo(i).position==="static")?t:i||tle(e)||t}function D3(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Jd(e,t,i){return Mc(e,Hg(t,i))}function ile(e,t,i){var r=Jd(e,t,i);return r>i?i:r}function FR(){return{top:0,right:0,bottom:0,left:0}}function UR(e){return Object.assign({},FR(),e)}function jR(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var rle=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,UR(typeof t!="number"?t:jR(t,Pm))};function nle(e){var t,i=e.state,r=e.name,n=e.options,s=i.elements.arrow,o=i.modifiersData.popperOffsets,a=uo(i.placement),l=D3(a),c=[on,Yn].indexOf(a)>=0,f=c?"height":"width";if(!(!s||!o)){var d=rle(n.padding,i),p=R3(s),y=l==="y"?sn:on,v=l==="y"?Hn:Yn,_=i.rects.reference[f]+i.rects.reference[l]-o[l]-i.rects.popper[f],E=o[l]-i.rects.reference[l],x=Lm(s),A=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=_/2-E/2,b=d[y],M=A-p[f]-d[v],I=A/2-p[f]/2+w,C=Jd(b,I,M),P=l;i.modifiersData[r]=(t={},t[P]=C,t.centerOffset=C-I,t)}}function sle(e){var t=e.state,i=e.options,r=i.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||DR(t.elements.popper,n)&&(t.elements.arrow=n))}var ole={name:"arrow",enabled:!0,phase:"main",fn:nle,effect:sle,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rf(e){return e.split("-")[1]}var ale={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lle(e){var t=e.x,i=e.y,r=window,n=r.devicePixelRatio||1;return{x:ef(t*n)/n||0,y:ef(i*n)/n||0}}function BI(e){var t,i=e.popper,r=e.popperRect,n=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=f===!0?lle(o):typeof f=="function"?f(o):o,y=p.x,v=y===void 0?0:y,_=p.y,E=_===void 0?0:_,x=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),w=on,b=sn,M=window;if(c){var I=Lm(i),C="clientHeight",P="clientWidth";if(I===Is(i)&&(I=Ol(i),bo(I).position!=="static"&&a==="absolute"&&(C="scrollHeight",P="scrollWidth")),I=I,n===sn||(n===on||n===Yn)&&s===Wp){b=Hn;var N=d&&M.visualViewport?M.visualViewport.height:I[C];E-=N-r.height,E*=l?1:-1}if(n===on||(n===sn||n===Hn)&&s===Wp){w=Yn;var U=d&&M.visualViewport?M.visualViewport.width:I[P];v-=U-r.width,v*=l?1:-1}}var j=Object.assign({position:a},c&&ale);if(l){var F;return Object.assign({},j,(F={},F[b]=A?"0":"",F[w]=x?"0":"",F.transform=(M.devicePixelRatio||1)<=1?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",F))}return Object.assign({},j,(t={},t[b]=A?E+"px":"",t[w]=x?v+"px":"",t.transform="",t))}function cle(e){var t=e.state,i=e.options,r=i.gpuAcceleration,n=r===void 0?!0:r,s=i.adaptive,o=s===void 0?!0:s,a=i.roundOffsets,l=a===void 0?!0:a,c={placement:uo(t.placement),variation:rf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,BI(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,BI(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var ule={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cle,data:{}},S0={passive:!0};function hle(e){var t=e.state,i=e.instance,r=e.options,n=r.scroll,s=n===void 0?!0:n,o=r.resize,a=o===void 0?!0:o,l=Is(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(f){f.addEventListener("scroll",i.update,S0)}),a&&l.addEventListener("resize",i.update,S0),function(){s&&c.forEach(function(f){f.removeEventListener("scroll",i.update,S0)}),a&&l.removeEventListener("resize",i.update,S0)}}var fle={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:hle,data:{}},dle={left:"right",right:"left",bottom:"top",top:"bottom"};function Oy(e){return e.replace(/left|right|bottom|top/g,function(t){return dle[t]})}var ple={start:"end",end:"start"};function VI(e){return e.replace(/start|end/g,function(t){return ple[t]})}function F3(e){var t=Is(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function U3(e){return tf(Ol(e)).left+F3(e).scrollLeft}function mle(e){var t=Is(e),i=Ol(e),r=t.visualViewport,n=i.clientWidth,s=i.clientHeight,o=0,a=0;return r&&(n=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:n,height:s,x:o+U3(e),y:a}}function yle(e){var t,i=Ol(e),r=F3(e),n=(t=e.ownerDocument)==null?void 0:t.body,s=Mc(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=Mc(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-r.scrollLeft+U3(e),l=-r.scrollTop;return bo(n||i).direction==="rtl"&&(a+=Mc(i.clientWidth,n?n.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function j3(e){var t=bo(e),i=t.overflow,r=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+r)}function GR(e){return["html","body","#document"].indexOf(vo(e))>=0?e.ownerDocument.body:Vn(e)&&j3(e)?e:GR(Cv(e))}function Kd(e,t){var i;t===void 0&&(t=[]);var r=GR(e),n=r===((i=e.ownerDocument)==null?void 0:i.body),s=Is(r),o=n?[s].concat(s.visualViewport||[],j3(r)?r:[]):r,a=t.concat(o);return n?a:a.concat(Kd(Cv(o)))}function cS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function gle(e){var t=tf(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function zI(e,t){return t===PR?cS(mle(e)):Qh(t)?gle(t):cS(yle(Ol(e)))}function vle(e){var t=Kd(Cv(e)),i=["absolute","fixed"].indexOf(bo(e).position)>=0,r=i&&Vn(e)?Lm(e):e;return Qh(r)?t.filter(function(n){return Qh(n)&&DR(n,r)&&vo(n)!=="body"&&(i?bo(n).position!=="static":!0)}):[]}function ble(e,t,i){var r=t==="clippingParents"?vle(e):[].concat(t),n=[].concat(r,[i]),s=n[0],o=n.reduce(function(a,l){var c=zI(e,l);return a.top=Mc(c.top,a.top),a.right=Hg(c.right,a.right),a.bottom=Hg(c.bottom,a.bottom),a.left=Mc(c.left,a.left),a},zI(e,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function BR(e){var t=e.reference,i=e.element,r=e.placement,n=r?uo(r):null,s=r?rf(r):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(n){case sn:l={x:o,y:t.y-i.height};break;case Hn:l={x:o,y:t.y+t.height};break;case Yn:l={x:t.x+t.width,y:a};break;case on:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=n?D3(n):null;if(c!=null){var f=c==="y"?"height":"width";switch(s){case Xh:l[c]=l[c]-(t[f]/2-i[f]/2);break;case Wp:l[c]=l[c]+(t[f]/2-i[f]/2);break}}return l}function Hp(e,t){t===void 0&&(t={});var i=t,r=i.placement,n=r===void 0?e.placement:r,s=i.boundary,o=s===void 0?jae:s,a=i.rootBoundary,l=a===void 0?PR:a,c=i.elementContext,f=c===void 0?Vf:c,d=i.altBoundary,p=d===void 0?!1:d,y=i.padding,v=y===void 0?0:y,_=UR(typeof v!="number"?v:jR(v,Pm)),E=f===Vf?Gae:Vf,x=e.rects.popper,A=e.elements[p?E:f],w=ble(Qh(A)?A:A.contextElement||Ol(e.elements.popper),o,l),b=tf(e.elements.reference),M=BR({reference:b,element:x,strategy:"absolute",placement:n}),I=cS(Object.assign({},x,M)),C=f===Vf?I:b,P={top:w.top-C.top+_.top,bottom:C.bottom-w.bottom+_.bottom,left:w.left-C.left+_.left,right:C.right-w.right+_.right},N=e.modifiersData.offset;if(f===Vf&&N){var U=N[n];Object.keys(P).forEach(function(j){var F=[Yn,Hn].indexOf(j)>=0?1:-1,q=[sn,Hn].indexOf(j)>=0?"y":"x";P[j]+=U[q]*F})}return P}function _le(e,t){t===void 0&&(t={});var i=t,r=i.placement,n=i.boundary,s=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?LR:l,f=rf(r),d=f?a?jI:jI.filter(function(v){return rf(v)===f}):Pm,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,_){return v[_]=Hp(e,{placement:_,boundary:n,rootBoundary:s,padding:o})[uo(_)],v},{});return Object.keys(y).sort(function(v,_){return y[v]-y[_]})}function wle(e){if(uo(e)===k3)return[];var t=Oy(e);return[VI(e),t,VI(t)]}function Sle(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var n=i.mainAxis,s=n===void 0?!0:n,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,c=i.padding,f=i.boundary,d=i.rootBoundary,p=i.altBoundary,y=i.flipVariations,v=y===void 0?!0:y,_=i.allowedAutoPlacements,E=t.options.placement,x=uo(E),A=x===E,w=l||(A||!v?[Oy(E)]:wle(E)),b=[E].concat(w).reduce(function(je,ze){return je.concat(uo(ze)===k3?_le(t,{placement:ze,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:_}):ze)},[]),M=t.rects.reference,I=t.rects.popper,C=new Map,P=!0,N=b[0],U=0;U<b.length;U++){var j=b[U],F=uo(j),q=rf(j)===Xh,te=[sn,Hn].indexOf(F)>=0,h=te?"width":"height",m=Hp(t,{placement:j,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),S=te?q?Yn:on:q?Hn:sn;M[h]>I[h]&&(S=Oy(S));var $=Oy(S),B=[];if(s&&B.push(m[F]<=0),a&&B.push(m[S]<=0,m[$]<=0),B.every(function(je){return je})){N=j,P=!1;break}C.set(j,B)}if(P)for(var Y=v?3:1,pe=function(ze){var lt=b.find(function(Vt){var At=C.get(Vt);if(At)return At.slice(0,ze).every(function(pi){return pi})});if(lt)return N=lt,"break"},ae=Y;ae>0;ae--){var Me=pe(ae);if(Me==="break")break}t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}}var xle={name:"flip",enabled:!0,phase:"main",fn:Sle,requiresIfExists:["offset"],data:{_skip:!1}};function qI(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function WI(e){return[sn,Yn,Hn,on].some(function(t){return e[t]>=0})}function Ele(e){var t=e.state,i=e.name,r=t.rects.reference,n=t.rects.popper,s=t.modifiersData.preventOverflow,o=Hp(t,{elementContext:"reference"}),a=Hp(t,{altBoundary:!0}),l=qI(o,r),c=qI(a,n,s),f=WI(l),d=WI(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var Tle={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ele};function Ale(e,t,i){var r=uo(e),n=[on,sn].indexOf(r)>=0?-1:1,s=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=s[0],a=s[1];return o=o||0,a=(a||0)*n,[on,Yn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Mle(e){var t=e.state,i=e.options,r=e.name,n=i.offset,s=n===void 0?[0,0]:n,o=LR.reduce(function(f,d){return f[d]=Ale(d,t.rects,s),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var Ile={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mle};function Ole(e){var t=e.state,i=e.name;t.modifiersData[i]=BR({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var $le={name:"popperOffsets",enabled:!0,phase:"read",fn:Ole,data:{}};function Cle(e){return e==="x"?"y":"x"}function Nle(e){var t=e.state,i=e.options,r=e.name,n=i.mainAxis,s=n===void 0?!0:n,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,c=i.rootBoundary,f=i.altBoundary,d=i.padding,p=i.tether,y=p===void 0?!0:p,v=i.tetherOffset,_=v===void 0?0:v,E=Hp(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),x=uo(t.placement),A=rf(t.placement),w=!A,b=D3(x),M=Cle(b),I=t.modifiersData.popperOffsets,C=t.rects.reference,P=t.rects.popper,N=typeof _=="function"?_(Object.assign({},t.rects,{placement:t.placement})):_,U=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(I){if(s){var q,te=b==="y"?sn:on,h=b==="y"?Hn:Yn,m=b==="y"?"height":"width",S=I[b],$=S+E[te],B=S-E[h],Y=y?-P[m]/2:0,pe=A===Xh?C[m]:P[m],ae=A===Xh?-P[m]:-C[m],Me=t.elements.arrow,je=y&&Me?R3(Me):{width:0,height:0},ze=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:FR(),lt=ze[te],Vt=ze[h],At=Jd(0,C[m],je[m]),pi=w?C[m]/2-Y-At-lt-U.mainAxis:pe-At-lt-U.mainAxis,kt=w?-C[m]/2+Y+At+Vt+U.mainAxis:ae+At+Vt+U.mainAxis,ii=t.elements.arrow&&Lm(t.elements.arrow),Yi=ii?b==="y"?ii.clientTop||0:ii.clientLeft||0:0,G=(q=j?.[b])!=null?q:0,D=S+pi-G-Yi,H=S+kt-G,se=Jd(y?Hg($,D):$,S,y?Mc(B,H):B);I[b]=se,F[b]=se-S}if(a){var Q,le=b==="x"?sn:on,ye=b==="x"?Hn:Yn,L=I[M],k=M==="y"?"height":"width",V=L+E[le],ee=L-E[ye],re=[sn,on].indexOf(x)!==-1,ne=(Q=j?.[M])!=null?Q:0,W=re?V:L-C[k]-P[k]-ne+U.altAxis,K=re?L+C[k]+P[k]-ne-U.altAxis:ee,Te=y&&re?ile(W,L,K):Jd(y?W:V,L,y?K:ee);I[M]=Te,F[M]=Te-L}t.modifiersData[r]=F}}var Ple={name:"preventOverflow",enabled:!0,phase:"main",fn:Nle,requiresIfExists:["offset"]};function Lle(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function kle(e){return e===Is(e)||!Vn(e)?F3(e):Lle(e)}function Rle(e){var t=e.getBoundingClientRect(),i=ef(t.width)/e.offsetWidth||1,r=ef(t.height)/e.offsetHeight||1;return i!==1||r!==1}function Dle(e,t,i){i===void 0&&(i=!1);var r=Vn(t),n=Vn(t)&&Rle(t),s=Ol(t),o=tf(e,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&((vo(t)!=="body"||j3(s))&&(a=kle(t)),Vn(t)?(l=tf(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=U3(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Fle(e){var t=new Map,i=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function n(s){i.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&n(l)}}),r.push(s)}return e.forEach(function(s){i.has(s.name)||n(s)}),r}function Ule(e){var t=Fle(e);return Zae.reduce(function(i,r){return i.concat(t.filter(function(n){return n.phase===r}))},[])}function jle(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function Gle(e){var t=e.reduce(function(i,r){var n=i[r.name];return i[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var HI={placement:"bottom",modifiers:[],strategy:"absolute"};function YI(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ble(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,n=t.defaultOptions,s=n===void 0?HI:n;return function(a,l,c){c===void 0&&(c=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},HI,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(x){var A=typeof x=="function"?x(f.options):x;_(),f.options=Object.assign({},s,f.options,A),f.scrollParents={reference:Qh(a)?Kd(a):a.contextElement?Kd(a.contextElement):[],popper:Kd(l)};var w=Ule(Gle([].concat(r,f.options.modifiers)));return f.orderedModifiers=w.filter(function(b){return b.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var x=f.elements,A=x.reference,w=x.popper;if(YI(A,w)){f.rects={reference:Dle(A,Lm(w),f.options.strategy==="fixed"),popper:R3(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(U){return f.modifiersData[U.name]=Object.assign({},U.data)});for(var b=0;b<f.orderedModifiers.length;b++){if(f.reset===!0){f.reset=!1,b=-1;continue}var M=f.orderedModifiers[b],I=M.fn,C=M.options,P=C===void 0?{}:C,N=M.name;typeof I=="function"&&(f=I({state:f,options:P,name:N,instance:y})||f)}}}},update:jle(function(){return new Promise(function(E){y.forceUpdate(),E(f)})}),destroy:function(){_(),p=!0}};if(!YI(a,l))return y;y.setOptions(c).then(function(E){!p&&c.onFirstUpdate&&c.onFirstUpdate(E)});function v(){f.orderedModifiers.forEach(function(E){var x=E.name,A=E.options,w=A===void 0?{}:A,b=E.effect;if(typeof b=="function"){var M=b({state:f,name:x,instance:y,options:w}),I=function(){};d.push(M||I)}})}function _(){d.forEach(function(E){return E()}),d=[]}return y}}var Vle=[fle,$le,ule,RR,Ile,xle,Ple,ole,Tle],zle=Ble({defaultModifiers:Vle}),qle="tippy-box",VR="tippy-content",zR="tippy-backdrop",qR="tippy-arrow",WR="tippy-svg-arrow",ac={passive:!0,capture:!0},HR=function(){return document.body};function Hb(e,t,i){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(i)?i[t]:i)}return e}function G3(e,t){var i={}.toString.call(e);return i.indexOf("[object")===0&&i.indexOf(t+"]")>-1}function YR(e,t){return typeof e=="function"?e.apply(void 0,t):e}function JI(e,t){if(t===0)return e;var i;return function(r){clearTimeout(i),i=setTimeout(function(){e(r)},t)}}function Wle(e,t){var i=Object.assign({},e);return t.forEach(function(r){delete i[r]}),i}function Hle(e){return e.split(/\s+/).filter(Boolean)}function uc(e){return[].concat(e)}function KI(e,t){e.indexOf(t)===-1&&e.push(t)}function Yle(e){return e.filter(function(t,i){return e.indexOf(t)===i})}function JR(e){return e.split("-")[0]}function nf(e){return[].slice.call(e)}function ZI(e){return Object.keys(e).reduce(function(t,i){return e[i]!==void 0&&(t[i]=e[i]),t},{})}function Ic(){return document.createElement("div")}function Nv(e){return["Element","Fragment"].some(function(t){return G3(e,t)})}function Jle(e){return G3(e,"NodeList")}function B3(e){return G3(e,"MouseEvent")}function Kle(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function Zle(e){return Nv(e)?[e]:Jle(e)?nf(e):Array.isArray(e)?e:nf(document.querySelectorAll(e))}function Yb(e,t){e.forEach(function(i){i&&(i.style.transitionDuration=t+"ms")})}function Yp(e,t){e.forEach(function(i){i&&i.setAttribute("data-state",t)})}function KR(e){var t,i=uc(e),r=i[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function Xle(e,t){var i=t.clientX,r=t.clientY;return e.every(function(n){var s=n.popperRect,o=n.popperState,a=n.props,l=a.interactiveBorder,c=JR(o.placement),f=o.modifiersData.offset;if(!f)return!0;var d=c==="bottom"?f.top.y:0,p=c==="top"?f.bottom.y:0,y=c==="right"?f.left.x:0,v=c==="left"?f.right.x:0,_=s.top-r+d>l,E=r-s.bottom-p>l,x=s.left-i+y>l,A=i-s.right-v>l;return _||E||x||A})}function Jb(e,t,i){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){e[r](n,i)})}function XI(e,t){for(var i=t;i;){var r;if(e.contains(i))return!0;i=i.getRootNode==null||(r=i.getRootNode())==null?void 0:r.host}return!1}var Ys={isTouch:!1},QI=0;function Qle(){Ys.isTouch||(Ys.isTouch=!0,window.performance&&document.addEventListener("mousemove",ZR))}function ZR(){var e=performance.now();e-QI<20&&(Ys.isTouch=!1,document.removeEventListener("mousemove",ZR)),QI=e}function ece(){var e=document.activeElement;if(Kle(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function tce(){document.addEventListener("touchstart",Qle,ac),window.addEventListener("blur",ece)}var ice=typeof window<"u"&&typeof document<"u",rce=ice?!!window.msCrypto:!1,nce={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},sce={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},fs=Object.assign({appendTo:HR,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},nce,sce),oce=Object.keys(fs),ace=function(t){var i=Object.keys(t);i.forEach(function(r){fs[r]=t[r]})};function XR(e){var t=e.plugins||[],i=t.reduce(function(r,n){var s=n.name,o=n.defaultValue;if(s){var a;r[s]=e[s]!==void 0?e[s]:(a=fs[s])!=null?a:o}return r},{});return Object.assign({},e,i)}function lce(e,t){var i=t?Object.keys(XR(Object.assign({},fs,{plugins:t}))):oce,r=i.reduce(function(n,s){var o=(e.getAttribute("data-tippy-"+s)||"").trim();if(!o)return n;if(s==="content")n[s]=o;else try{n[s]=JSON.parse(o)}catch{n[s]=o}return n},{});return r}function eO(e,t){var i=Object.assign({},t,{content:YR(t.content,[e])},t.ignoreAttributes?{}:lce(e,t.plugins));return i.aria=Object.assign({},fs.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?t.interactive:i.aria.expanded,content:i.aria.content==="auto"?t.interactive?null:"describedby":i.aria.content},i}var cce=function(){return"innerHTML"};function uS(e,t){e[cce()]=t}function tO(e){var t=Ic();return e===!0?t.className=qR:(t.className=WR,Nv(e)?t.appendChild(e):uS(t,e)),t}function iO(e,t){Nv(t.content)?(uS(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?uS(e,t.content):e.textContent=t.content)}function Yg(e){var t=e.firstElementChild,i=nf(t.children);return{box:t,content:i.find(function(r){return r.classList.contains(VR)}),arrow:i.find(function(r){return r.classList.contains(qR)||r.classList.contains(WR)}),backdrop:i.find(function(r){return r.classList.contains(zR)})}}function QR(e){var t=Ic(),i=Ic();i.className=qle,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var r=Ic();r.className=VR,r.setAttribute("data-state","hidden"),iO(r,e.props),t.appendChild(i),i.appendChild(r),n(e.props,e.props);function n(s,o){var a=Yg(t),l=a.box,c=a.content,f=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&iO(c,e.props),o.arrow?f?s.arrow!==o.arrow&&(l.removeChild(f),l.appendChild(tO(o.arrow))):l.appendChild(tO(o.arrow)):f&&l.removeChild(f)}return{popper:t,onUpdate:n}}QR.$$tippy=!0;var uce=1,x0=[],Kb=[];function hce(e,t){var i=eO(e,Object.assign({},fs,XR(ZI(t)))),r,n,s,o=!1,a=!1,l=!1,c=!1,f,d,p,y=[],v=JI(D,i.interactiveDebounce),_,E=uce++,x=null,A=Yle(i.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},b={id:E,reference:e,popper:Ic(),popperInstance:x,props:i,state:w,plugins:A,clearDelayTimeouts:W,setProps:K,setContent:Te,show:Le,hide:Rt,hideWithInteractivity:zt,enable:re,disable:ne,unmount:ai,destroy:Li};if(!i.render)return b;var M=i.render(b),I=M.popper,C=M.onUpdate;I.setAttribute("data-tippy-root",""),I.id="tippy-"+b.id,b.popper=I,e._tippy=b,I._tippy=b;var P=A.map(function(Z){return Z.fn(b)}),N=e.hasAttribute("aria-expanded");return ii(),Y(),S(),$("onCreate",[b]),i.showOnCreate&&V(),I.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),I.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&te().addEventListener("mousemove",v)}),b;function U(){var Z=b.props.touch;return Array.isArray(Z)?Z:[Z,0]}function j(){return U()[0]==="hold"}function F(){var Z;return!!((Z=b.props.render)!=null&&Z.$$tippy)}function q(){return _||e}function te(){var Z=q().parentNode;return Z?KR(Z):document}function h(){return Yg(I)}function m(Z){return b.state.isMounted&&!b.state.isVisible||Ys.isTouch||f&&f.type==="focus"?0:Hb(b.props.delay,Z?0:1,fs.delay)}function S(Z){Z===void 0&&(Z=!1),I.style.pointerEvents=b.props.interactive&&!Z?"":"none",I.style.zIndex=""+b.props.zIndex}function $(Z,Ae,Oe){if(Oe===void 0&&(Oe=!0),P.forEach(function(Xe){Xe[Z]&&Xe[Z].apply(Xe,Ae)}),Oe){var He;(He=b.props)[Z].apply(He,Ae)}}function B(){var Z=b.props.aria;if(Z.content){var Ae="aria-"+Z.content,Oe=I.id,He=uc(b.props.triggerTarget||e);He.forEach(function(Xe){var ki=Xe.getAttribute(Ae);if(b.state.isVisible)Xe.setAttribute(Ae,ki?ki+" "+Oe:Oe);else{var lr=ki&&ki.replace(Oe,"").trim();lr?Xe.setAttribute(Ae,lr):Xe.removeAttribute(Ae)}})}}function Y(){if(!(N||!b.props.aria.expanded)){var Z=uc(b.props.triggerTarget||e);Z.forEach(function(Ae){b.props.interactive?Ae.setAttribute("aria-expanded",b.state.isVisible&&Ae===q()?"true":"false"):Ae.removeAttribute("aria-expanded")})}}function pe(){te().removeEventListener("mousemove",v),x0=x0.filter(function(Z){return Z!==v})}function ae(Z){if(!(Ys.isTouch&&(l||Z.type==="mousedown"))){var Ae=Z.composedPath&&Z.composedPath()[0]||Z.target;if(!(b.props.interactive&&XI(I,Ae))){if(uc(b.props.triggerTarget||e).some(function(Oe){return XI(Oe,Ae)})){if(Ys.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[b,Z]);b.props.hideOnClick===!0&&(b.clearDelayTimeouts(),b.hide(),a=!0,setTimeout(function(){a=!1}),b.state.isMounted||lt())}}}function Me(){l=!0}function je(){l=!1}function ze(){var Z=te();Z.addEventListener("mousedown",ae,!0),Z.addEventListener("touchend",ae,ac),Z.addEventListener("touchstart",je,ac),Z.addEventListener("touchmove",Me,ac)}function lt(){var Z=te();Z.removeEventListener("mousedown",ae,!0),Z.removeEventListener("touchend",ae,ac),Z.removeEventListener("touchstart",je,ac),Z.removeEventListener("touchmove",Me,ac)}function Vt(Z,Ae){pi(Z,function(){!b.state.isVisible&&I.parentNode&&I.parentNode.contains(I)&&Ae()})}function At(Z,Ae){pi(Z,Ae)}function pi(Z,Ae){var Oe=h().box;function He(Xe){Xe.target===Oe&&(Jb(Oe,"remove",He),Ae())}if(Z===0)return Ae();Jb(Oe,"remove",d),Jb(Oe,"add",He),d=He}function kt(Z,Ae,Oe){Oe===void 0&&(Oe=!1);var He=uc(b.props.triggerTarget||e);He.forEach(function(Xe){Xe.addEventListener(Z,Ae,Oe),y.push({node:Xe,eventType:Z,handler:Ae,options:Oe})})}function ii(){j()&&(kt("touchstart",G,{passive:!0}),kt("touchend",H,{passive:!0})),Hle(b.props.trigger).forEach(function(Z){if(Z!=="manual")switch(kt(Z,G),Z){case"mouseenter":kt("mouseleave",H);break;case"focus":kt(rce?"focusout":"blur",se);break;case"focusin":kt("focusout",se);break}})}function Yi(){y.forEach(function(Z){var Ae=Z.node,Oe=Z.eventType,He=Z.handler,Xe=Z.options;Ae.removeEventListener(Oe,He,Xe)}),y=[]}function G(Z){var Ae,Oe=!1;if(!(!b.state.isEnabled||Q(Z)||a)){var He=((Ae=f)==null?void 0:Ae.type)==="focus";f=Z,_=Z.currentTarget,Y(),!b.state.isVisible&&B3(Z)&&x0.forEach(function(Xe){return Xe(Z)}),Z.type==="click"&&(b.props.trigger.indexOf("mouseenter")<0||o)&&b.props.hideOnClick!==!1&&b.state.isVisible?Oe=!0:V(Z),Z.type==="click"&&(o=!Oe),Oe&&!He&&ee(Z)}}function D(Z){var Ae=Z.target,Oe=q().contains(Ae)||I.contains(Ae);if(!(Z.type==="mousemove"&&Oe)){var He=k().concat(I).map(function(Xe){var ki,lr=Xe._tippy,Os=(ki=lr.popperInstance)==null?void 0:ki.state;return Os?{popperRect:Xe.getBoundingClientRect(),popperState:Os,props:i}:null}).filter(Boolean);Xle(He,Z)&&(pe(),ee(Z))}}function H(Z){var Ae=Q(Z)||b.props.trigger.indexOf("click")>=0&&o;if(!Ae){if(b.props.interactive){b.hideWithInteractivity(Z);return}ee(Z)}}function se(Z){b.props.trigger.indexOf("focusin")<0&&Z.target!==q()||b.props.interactive&&Z.relatedTarget&&I.contains(Z.relatedTarget)||ee(Z)}function Q(Z){return Ys.isTouch?j()!==Z.type.indexOf("touch")>=0:!1}function le(){ye();var Z=b.props,Ae=Z.popperOptions,Oe=Z.placement,He=Z.offset,Xe=Z.getReferenceClientRect,ki=Z.moveTransition,lr=F()?Yg(I).arrow:null,Os=Xe?{getBoundingClientRect:Xe,contextElement:Xe.contextElement||q()}:e,aa={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(pu){var la=pu.state;if(F()){var Uv=h(),mu=Uv.box;["placement","reference-hidden","escaped"].forEach(function($l){$l==="placement"?mu.setAttribute("data-placement",la.placement):la.attributes.popper["data-popper-"+$l]?mu.setAttribute("data-"+$l,""):mu.removeAttribute("data-"+$l)}),la.attributes.popper={}}}},wo=[{name:"offset",options:{offset:He}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ki}},aa];F()&&lr&&wo.push({name:"arrow",options:{element:lr,padding:3}}),wo.push.apply(wo,Ae?.modifiers||[]),b.popperInstance=zle(Os,I,Object.assign({},Ae,{placement:Oe,onFirstUpdate:p,modifiers:wo}))}function ye(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function L(){var Z=b.props.appendTo,Ae,Oe=q();b.props.interactive&&Z===HR||Z==="parent"?Ae=Oe.parentNode:Ae=YR(Z,[Oe]),Ae.contains(I)||Ae.appendChild(I),b.state.isMounted=!0,le()}function k(){return nf(I.querySelectorAll("[data-tippy-root]"))}function V(Z){b.clearDelayTimeouts(),Z&&$("onTrigger",[b,Z]),ze();var Ae=m(!0),Oe=U(),He=Oe[0],Xe=Oe[1];Ys.isTouch&&He==="hold"&&Xe&&(Ae=Xe),Ae?r=setTimeout(function(){b.show()},Ae):b.show()}function ee(Z){if(b.clearDelayTimeouts(),$("onUntrigger",[b,Z]),!b.state.isVisible){lt();return}if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Z.type)>=0&&o)){var Ae=m(!1);Ae?n=setTimeout(function(){b.state.isVisible&&b.hide()},Ae):s=requestAnimationFrame(function(){b.hide()})}}function re(){b.state.isEnabled=!0}function ne(){b.hide(),b.state.isEnabled=!1}function W(){clearTimeout(r),clearTimeout(n),cancelAnimationFrame(s)}function K(Z){if(!b.state.isDestroyed){$("onBeforeUpdate",[b,Z]),Yi();var Ae=b.props,Oe=eO(e,Object.assign({},Ae,ZI(Z),{ignoreAttributes:!0}));b.props=Oe,ii(),Ae.interactiveDebounce!==Oe.interactiveDebounce&&(pe(),v=JI(D,Oe.interactiveDebounce)),Ae.triggerTarget&&!Oe.triggerTarget?uc(Ae.triggerTarget).forEach(function(He){He.removeAttribute("aria-expanded")}):Oe.triggerTarget&&e.removeAttribute("aria-expanded"),Y(),S(),C&&C(Ae,Oe),b.popperInstance&&(le(),k().forEach(function(He){requestAnimationFrame(He._tippy.popperInstance.forceUpdate)})),$("onAfterUpdate",[b,Z])}}function Te(Z){b.setProps({content:Z})}function Le(){var Z=b.state.isVisible,Ae=b.state.isDestroyed,Oe=!b.state.isEnabled,He=Ys.isTouch&&!b.props.touch,Xe=Hb(b.props.duration,0,fs.duration);if(!(Z||Ae||Oe||He)&&!q().hasAttribute("disabled")&&($("onShow",[b],!1),b.props.onShow(b)!==!1)){if(b.state.isVisible=!0,F()&&(I.style.visibility="visible"),S(),ze(),b.state.isMounted||(I.style.transition="none"),F()){var ki=h(),lr=ki.box,Os=ki.content;Yb([lr,Os],0)}p=function(){var wo;if(!(!b.state.isVisible||c)){if(c=!0,I.offsetHeight,I.style.transition=b.props.moveTransition,F()&&b.props.animation){var Af=h(),pu=Af.box,la=Af.content;Yb([pu,la],Xe),Yp([pu,la],"visible")}B(),Y(),KI(Kb,b),(wo=b.popperInstance)==null||wo.forceUpdate(),$("onMount",[b]),b.props.animation&&F()&&At(Xe,function(){b.state.isShown=!0,$("onShown",[b])})}},L()}}function Rt(){var Z=!b.state.isVisible,Ae=b.state.isDestroyed,Oe=!b.state.isEnabled,He=Hb(b.props.duration,1,fs.duration);if(!(Z||Ae||Oe)&&($("onHide",[b],!1),b.props.onHide(b)!==!1)){if(b.state.isVisible=!1,b.state.isShown=!1,c=!1,o=!1,F()&&(I.style.visibility="hidden"),pe(),lt(),S(!0),F()){var Xe=h(),ki=Xe.box,lr=Xe.content;b.props.animation&&(Yb([ki,lr],He),Yp([ki,lr],"hidden"))}B(),Y(),b.props.animation?F()&&Vt(He,b.unmount):b.unmount()}}function zt(Z){te().addEventListener("mousemove",v),KI(x0,v),v(Z)}function ai(){b.state.isVisible&&b.hide(),b.state.isMounted&&(ye(),k().forEach(function(Z){Z._tippy.unmount()}),I.parentNode&&I.parentNode.removeChild(I),Kb=Kb.filter(function(Z){return Z!==b}),b.state.isMounted=!1,$("onHidden",[b]))}function Li(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),Yi(),delete e._tippy,b.state.isDestroyed=!0,$("onDestroy",[b]))}}function Ne(e,t){t===void 0&&(t={});var i=fs.plugins.concat(t.plugins||[]);tce();var r=Object.assign({},t,{plugins:i}),n=Zle(e),s=n.reduce(function(o,a){var l=a&&hce(a,r);return l&&o.push(l),o},[]);return Nv(e)?s[0]:s}Ne.defaultProps=fs;Ne.setDefaultProps=ace;Ne.currentInput=Ys;var fce=Object.assign({},RR,{effect:function(t){var i=t.state,r={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,r.popper),i.styles=r,i.elements.arrow&&Object.assign(i.elements.arrow.style,r.arrow)}}),dce=function(t,i){var r;i===void 0&&(i={});var n=t,s=[],o=[],a,l=i.overrides,c=[],f=!1;function d(){o=n.map(function(b){return uc(b.props.triggerTarget||b.reference)}).reduce(function(b,M){return b.concat(M)},[])}function p(){s=n.map(function(b){return b.reference})}function y(b){n.forEach(function(M){b?M.enable():M.disable()})}function v(b){return n.map(function(M){var I=M.setProps;return M.setProps=function(C){I(C),M.reference===a&&b.setProps(C)},function(){M.setProps=I}})}function _(b,M){var I=o.indexOf(M);if(M!==a){a=M;var C=(l||[]).concat("content").reduce(function(P,N){return P[N]=n[I].props[N],P},{});b.setProps(Object.assign({},C,{getReferenceClientRect:typeof C.getReferenceClientRect=="function"?C.getReferenceClientRect:function(){var P;return(P=s[I])==null?void 0:P.getBoundingClientRect()}}))}}y(!1),p(),d();var E={fn:function(){return{onDestroy:function(){y(!0)},onHidden:function(){a=null},onClickOutside:function(I){I.props.showOnCreate&&!f&&(f=!0,a=null)},onShow:function(I){I.props.showOnCreate&&!f&&(f=!0,_(I,s[0]))},onTrigger:function(I,C){_(I,C.currentTarget)}}}},x=Ne(Ic(),Object.assign({},Wle(i,["overrides"]),{plugins:[E].concat(i.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},i.popperOptions,{modifiers:[].concat(((r=i.popperOptions)==null?void 0:r.modifiers)||[],[fce])})})),A=x.show;x.show=function(b){if(A(),!a&&b==null)return _(x,s[0]);if(!(a&&b==null)){if(typeof b=="number")return s[b]&&_(x,s[b]);if(n.indexOf(b)>=0){var M=b.reference;return _(x,M)}if(s.indexOf(b)>=0)return _(x,b)}},x.showNext=function(){var b=s[0];if(!a)return x.show(0);var M=s.indexOf(a);x.show(s[M+1]||b)},x.showPrevious=function(){var b=s[s.length-1];if(!a)return x.show(b);var M=s.indexOf(a),I=s[M-1]||b;x.show(I)};var w=x.setProps;return x.setProps=function(b){l=b.overrides||l,w(b)},x.setInstances=function(b){y(!0),c.forEach(function(M){return M()}),n=b,y(!1),p(),d(),c=v(x),x.setProps({triggerTarget:o})},c=v(x),x},pce={name:"animateFill",defaultValue:!1,fn:function(t){var i;if(!((i=t.props.render)!=null&&i.$$tippy))return{};var r=Yg(t.popper),n=r.box,s=r.content,o=t.props.animateFill?mce():null;return{onCreate:function(){o&&(n.insertBefore(o,n.firstElementChild),n.setAttribute("data-animatefill",""),n.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=n.style.transitionDuration,c=Number(l.replace("ms",""));s.style.transitionDelay=Math.round(c/10)+"ms",o.style.transitionDuration=l,Yp([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&Yp([o],"hidden")}}}};function mce(){var e=Ic();return e.className=zR,Yp([e],"hidden"),e}var hS={clientX:0,clientY:0},E0=[];function e9(e){var t=e.clientX,i=e.clientY;hS={clientX:t,clientY:i}}function yce(e){e.addEventListener("mousemove",e9)}function gce(e){e.removeEventListener("mousemove",e9)}var vce={name:"followCursor",defaultValue:!1,fn:function(t){var i=t.reference,r=KR(t.props.triggerTarget||i),n=!1,s=!1,o=!0,a=t.props;function l(){return t.props.followCursor==="initial"&&t.state.isVisible}function c(){r.addEventListener("mousemove",p)}function f(){r.removeEventListener("mousemove",p)}function d(){n=!0,t.setProps({getReferenceClientRect:null}),n=!1}function p(_){var E=_.target?i.contains(_.target):!0,x=t.props.followCursor,A=_.clientX,w=_.clientY,b=i.getBoundingClientRect(),M=A-b.left,I=w-b.top;(E||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var P=i.getBoundingClientRect(),N=A,U=w;x==="initial"&&(N=P.left+M,U=P.top+I);var j=x==="horizontal"?P.top:U,F=x==="vertical"?P.right:N,q=x==="horizontal"?P.bottom:U,te=x==="vertical"?P.left:N;return{width:F-te,height:q-j,top:j,right:F,bottom:q,left:te}}})}function y(){t.props.followCursor&&(E0.push({instance:t,doc:r}),yce(r))}function v(){E0=E0.filter(function(_){return _.instance!==t}),E0.filter(function(_){return _.doc===r}).length===0&&gce(r)}return{onCreate:y,onDestroy:v,onBeforeUpdate:function(){a=t.props},onAfterUpdate:function(E,x){var A=x.followCursor;n||A!==void 0&&a.followCursor!==A&&(v(),A?(y(),t.state.isMounted&&!s&&!l()&&c()):(f(),d()))},onMount:function(){t.props.followCursor&&!s&&(o&&(p(hS),o=!1),l()||c())},onTrigger:function(E,x){B3(x)&&(hS={clientX:x.clientX,clientY:x.clientY}),s=x.type==="focus"},onHidden:function(){t.props.followCursor&&(d(),f(),o=!0)}}}};function bce(e,t){var i;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((((i=e.popperOptions)==null?void 0:i.modifiers)||[]).filter(function(r){var n=r.name;return n!==t.name}),[t])})}}var _ce={name:"inlinePositioning",defaultValue:!1,fn:function(t){var i=t.reference;function r(){return!!t.props.inlinePositioning}var n,s=-1,o=!1,a=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(y){var v=y.state;r()&&(a.indexOf(v.placement)!==-1&&(a=[]),n!==v.placement&&a.indexOf(v.placement)===-1&&(a.push(v.placement),t.setProps({getReferenceClientRect:function(){return c(v.placement)}})),n=v.placement)}};function c(p){return wce(JR(p),i.getBoundingClientRect(),nf(i.getClientRects()),s)}function f(p){o=!0,t.setProps(p),o=!1}function d(){o||f(bce(t.props,l))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(y,v){if(B3(v)){var _=nf(t.reference.getClientRects()),E=_.find(function(A){return A.left-2<=v.clientX&&A.right+2>=v.clientX&&A.top-2<=v.clientY&&A.bottom+2>=v.clientY}),x=_.indexOf(E);s=x>-1?x:s}},onHidden:function(){s=-1}}}};function wce(e,t,i,r){if(i.length<2||e===null)return t;if(i.length===2&&r>=0&&i[0].left>i[1].right)return i[r]||t;switch(e){case"top":case"bottom":{var n=i[0],s=i[i.length-1],o=e==="top",a=n.top,l=s.bottom,c=o?n.left:s.left,f=o?n.right:s.right,d=f-c,p=l-a;return{top:a,bottom:l,left:c,right:f,width:d,height:p}}case"left":case"right":{var y=Math.min.apply(Math,i.map(function(I){return I.left})),v=Math.max.apply(Math,i.map(function(I){return I.right})),_=i.filter(function(I){return e==="left"?I.left===y:I.right===v}),E=_[0].top,x=_[_.length-1].bottom,A=y,w=v,b=w-A,M=x-E;return{top:E,bottom:x,left:A,right:w,width:b,height:M}}default:return t}}var Sce={name:"sticky",defaultValue:!1,fn:function(t){var i=t.reference,r=t.popper;function n(){return t.popperInstance?t.popperInstance.state.elements.reference:i}function s(c){return t.props.sticky===!0||t.props.sticky===c}var o=null,a=null;function l(){var c=s("reference")?n().getBoundingClientRect():null,f=s("popper")?r.getBoundingClientRect():null;(c&&rO(o,c)||f&&rO(a,f))&&t.popperInstance&&t.popperInstance.update(),o=c,a=f,t.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){t.props.sticky&&l()}}}};function rO(e,t){return e&&t?e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left:!0}Ne.setDefaultProps({render:QR});Ne.setDefaultProps({onShow:e=>{if(!e.props.content)return!1}});function V3(e,t={},i={mount:!0,appName:"Tippy"}){i=Object.assign({mount:!0,appName:"Tippy"},i);const r=Ni(),n=X(),s=X({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=xf();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=C=>{let P,N=ft(C)?C.value:C;return Ss(N)?(o.value||(o.value=dl({name:i.appName,setup:()=>()=>ft(C)?C.value:C}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),P=()=>l()):typeof N=="object"?(o.value||(o.value=dl({name:i.appName,setup:()=>()=>Un(ft(C)?C.value:C)}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),P=()=>l()):P=N,P},f=C=>{let P={};return ft(C)?P=C.value||{}:yn(C)?P={...C}:P={...C},P.content&&(P.content=c(P.content)),P.triggerTarget&&(P.triggerTarget=ft(P.triggerTarget)?P.triggerTarget.value:P.triggerTarget),(!P.plugins||!Array.isArray(P.plugins))&&(P.plugins=[]),P.plugins=P.plugins.filter(N=>N.name!=="vueTippyReactiveState"),P.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){s.value.isEnabled=!0},onMount(){s.value.isMounted=!0},onShow(){s.value.isMounted=!0,s.value.isVisible=!0},onShown(){s.value.isShown=!0},onHide(){s.value.isMounted=!1,s.value.isVisible=!1},onHidden(){s.value.isShown=!1},onUnmounted(){s.value.isMounted=!1},onDestroy(){s.value.isDestroyed=!0}})}),P},d=()=>{n.value&&n.value.setProps(f(t))},p=()=>{!n.value||!t.content||n.value.setContent(c(t.content))},y=C=>{var P;(P=n.value)===null||P===void 0||P.setContent(c(C))},v=C=>{var P;(P=n.value)===null||P===void 0||P.setProps(f(C))},_=()=>{var C;n.value&&(n.value.destroy(),n.value=void 0),a=null,(C=o.value)===null||C===void 0||C.unmount(),o.value=void 0},E=()=>{var C;(C=n.value)===null||C===void 0||C.show()},x=()=>{var C;(C=n.value)===null||C===void 0||C.hide()},A=()=>{var C;(C=n.value)===null||C===void 0||C.disable(),s.value.isEnabled=!1},w=()=>{var C;(C=n.value)===null||C===void 0||C.enable(),s.value.isEnabled=!0},b=()=>{var C;(C=n.value)===null||C===void 0||C.unmount()},M=()=>{if(!e)return;let C=ft(e)?e.value:e;typeof C=="function"&&(C=C()),C&&(n.value=Ne(C,f(t)),C.$tippy=I)},I={tippy:n,refresh:d,refreshContent:p,setContent:y,setProps:v,destroy:_,hide:x,show:E,disable:A,enable:w,unmount:b,mount:M,state:s};return i.mount&&(r?r.isMounted?M():ar(M):M()),r&&hu(()=>{_()}),ft(t)||yn(t)?qi(t,d,{immediate:!1}):ft(t.content)&&qi(t.content,p,{immediate:!1}),I}function xce(e,t){const i=X();return ar(()=>{const n=(Array.isArray(e)?e.map(s=>s.value):typeof e=="function"?e():e.value).map(s=>s instanceof Element?s._tippy:s).filter(Boolean);i.value=dce(n,t?{allowHTML:!0,...t}:{allowHTML:!0})}),{singleton:i}}function Ece(e){return typeof e=="function"?e():Ie(e)}function Tce(e){var t,i;const r=Ece(e);return(i=(t=r)===null||t===void 0?void 0:t.$el)!==null&&i!==void 0?i:r}const Ace=rt({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Ne.defaultProps.appendTo},aria:{default:()=>Ne.defaultProps.aria},delay:{default:()=>Ne.defaultProps.delay},duration:{default:()=>Ne.defaultProps.duration},getReferenceClientRect:{default:()=>Ne.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Ne.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Ne.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Ne.defaultProps.interactive},interactiveBorder:{default:()=>Ne.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Ne.defaultProps.interactiveDebounce},moveTransition:{default:()=>Ne.defaultProps.moveTransition},offset:{default:()=>Ne.defaultProps.offset},onAfterUpdate:{default:()=>Ne.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Ne.defaultProps.onBeforeUpdate},onCreate:{default:()=>Ne.defaultProps.onCreate},onDestroy:{default:()=>Ne.defaultProps.onDestroy},onHidden:{default:()=>Ne.defaultProps.onHidden},onHide:{default:()=>Ne.defaultProps.onHide},onMount:{default:()=>Ne.defaultProps.onMount},onShow:{default:()=>Ne.defaultProps.onShow},onShown:{default:()=>Ne.defaultProps.onShown},onTrigger:{default:()=>Ne.defaultProps.onTrigger},onUntrigger:{default:()=>Ne.defaultProps.onUntrigger},onClickOutside:{default:()=>Ne.defaultProps.onClickOutside},placement:{default:()=>Ne.defaultProps.placement},plugins:{default:()=>Ne.defaultProps.plugins},popperOptions:{default:()=>Ne.defaultProps.popperOptions},render:{default:()=>Ne.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Ne.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Ne.defaultProps.touch},trigger:{default:()=>Ne.defaultProps.trigger},triggerTarget:{default:()=>Ne.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Ne.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Ne.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Ne.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Ne.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Ne.defaultProps.allowHTML},animation:{default:()=>Ne.defaultProps.animation},arrow:{default:()=>Ne.defaultProps.arrow},content:{default:()=>Ne.defaultProps.content},inertia:{default:()=>Ne.defaultProps.inertia},maxWidth:{default:()=>Ne.defaultProps.maxWidth},role:{default:()=>Ne.defaultProps.role},theme:{default:()=>Ne.defaultProps.theme},zIndex:{default:()=>Ne.defaultProps.zIndex}},emits:["state"],setup(e,{slots:t,emit:i,expose:r}){const n=X(),s=X(),o=X(),a=X(!1),l=()=>{let y={...e};for(const v of["to","tag","contentTag","contentClass"])y.hasOwnProperty(v)&&delete y[v];return y};let c=()=>Tce(n);e.to&&(typeof Element<"u"&&e.to instanceof Element?c=()=>e.to:e.to==="parent"?c=()=>{let y=n.value;return y||(y=n.value=s.value.parentElement),y}:(typeof e.to=="string"||e.to instanceof String)&&(c=()=>document.querySelector(e.to)));const f=V3(c,l());let d=t.content;!d&&e.to==="parent"&&(d=t.default),ar(()=>{a.value=!0,As(()=>{d&&f.setContent(()=>o.value)})}),qi(f.state,()=>{i("state",Ie(f.state))},{immediate:!0,deep:!0}),qi(()=>e,()=>{f.setProps(l()),d&&f.setContent(()=>o.value)},{deep:!0});let p=er({elem:n,contentElem:o,mounted:a,...f});return r(p),()=>{const y=(typeof e.contentTag=="string",e.contentTag),v=d?Un(y,{ref:o,style:{display:a.value?"inherit":"none"},class:e.contentClass},d(p)):null;if(e.to==="parent"){const x=[];if(!n.value){const A=Un("span",{ref:s,"data-v-tippy":"",style:{display:"none"}});x.push(A)}return v&&x.push(v),x}const _=t.default?t.default(p):[];if(!e.tag){const x=Un(_[0],{ref:n,"data-v-tippy":""});return v?[x,v]:x}const E=(typeof e.tag=="string",e.tag);return Un(E,{ref:n,"data-v-tippy":""},v?[_,v]:_)}}}),Mce=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let fS={};Object.keys(Ne.defaultProps).forEach(e=>{Mce.includes(e)?fS[e]={type:Boolean,default:function(){return Ne.defaultProps[e]}}:fS[e]={default:function(){return Ne.defaultProps[e]}}});const Ice=rt({props:fS,setup(e){const t=X([]),{singleton:i}=xce(t,e);return{instances:t,singleton:i}},mounted(){var e;const i=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(i).map(r=>r._tippy).filter(Boolean),(e=this.singleton)===null||e===void 0||e.setInstances(this.instances)},render(){let e=this.$slots.default?this.$slots.default():[];return Un(()=>e)}}),Oce={mounted(e,t,i){const r=typeof t.value=="string"?{content:t.value}:t.value||{},n=Object.keys(t.modifiers||{}),s=n.find(a=>a!=="arrow"),o=n.findIndex(a=>a==="arrow")!==-1;s&&(r.placement=r.placement||s),o&&(r.arrow=r.arrow!==void 0?r.arrow:!0),i.props&&i.props.onTippyShow&&(r.onShow=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),i.props&&i.props.onTippyShown&&(r.onShown=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),i.props&&i.props.onTippyHidden&&(r.onHidden=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),i.props&&i.props.onTippyHide&&(r.onHide=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),i.props&&i.props.onTippyMount&&(r.onMount=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),e.getAttribute("title")&&!r.content&&(r.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!r.content&&(r.content=e.getAttribute("content")),V3(e,r)},unmounted(e){e.$tippy?e.$tippy.destroy():e._tippy&&e._tippy.destroy()},updated(e,t){const i=typeof t.value=="string"?{content:t.value}:t.value||{};e.getAttribute("title")&&!i.content&&(i.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!i.content&&(i.content=e.getAttribute("content")),e.$tippy?e.$tippy.setProps(i||{}):e._tippy&&e._tippy.setProps(i||{})}},$ce={install(e,t={}){Ne.setDefaultProps(t.defaultProps||{}),e.directive(t.directive||"tippy",Oce),e.component(t.component||"tippy",Ace),e.component(t.componentSingleton||"tippy-singleton",Ice)}},t9=Ne.setDefaultProps;t9({ignoreAttributes:!0,plugins:[Sce,_ce,vce,pce]});const Cce=rt({name:"App",components:{Shell:Uae},setup(){const e=Ni();ar(()=>{new _R().observe(e?.proxy?.$refs["app-size"]),t9({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),Nce=["lang"],Pce={class:"h-full",ref:"app-size"};function Lce(e,t,i,r,n,s){const o=vi("shell");return fe(),we("div",{class:"ramp-app ramp-styles animation-enabled",lang:e.$i18n.locale},[ce("div",Pce,[Ze(o)],512)],8,Nce)}const kce=oa(Cce,[["render",Lce]]),Js="focus-list",jl="focus-item",Rce="focus-icon",Dce="focus-container",Sh=`[${Js}],[${Dce}]`,T0="truncate-text",A0="show-truncate",th="focused",dS=`button,input,select,a,textarea,[contenteditable],[${Js}],[${Rce}],[tabIndex]`,Fce={mounted(e,t){+e.getAttribute("tabindex")<=0&&e.setAttribute("tabindex","0"),e.toggleAttribute(Js,!0),new Uce(e,t.value)},updated(e){i9(e)}};function i9(e){e.querySelectorAll(dS).forEach(i=>{if(i.closest(Sh)===e||i.closest(Sh)===i&&i.parentElement.closest(Sh)===e)if(i.closest(`[${Js}],.${th}`).classList.contains(th))i.setAttribute("tabindex","0");else{i.setAttribute("tabindex","-1");return}})}class Uce{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(t,i){this.element=t,this.highlightedItem=this.element,this.isHorizontal=i==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const r=this;t.addEventListener("keydown",function(n){r.onKeydown(n)}),t.addEventListener("focus",function(){r.onFocus()}),t.addEventListener("blur",function(){r.onBlur()}),t.addEventListener("mousedown",function(){r.onMousedown()}),t.addEventListener("touchstart",function(){r.onTouchstart()}),document.addEventListener("click",function(n){n.target&&t.contains(n.target)?r.onClick(n):r.defocusItem(r.highlightedItem)})}setTabIndex(t,i=this.element){i.querySelectorAll(dS).forEach(n=>{(t===-1||n.closest(Sh)===this.element||n.closest(Sh)===n&&n.parentElement.closest(Sh)===this.element||n.closest(`[${Js}],.${th}`).classList.contains(th))&&n.setAttribute("tabindex",t.toString())})}defocusItem(t){t.classList.remove(th),this.setTabIndex(-1,t),t._tippy&&t._tippy.hide(),t.getAttribute(jl)===A0&&t.querySelector(`[${T0}]`)?._tippy?.hide()}focusItem(t){t.classList.add(th),this.setAriaActiveDescendant(t),this.setTabIndex(0,t),t.scrollIntoView({block:"nearest"}),t._tippy&&!this.isTapped&&t._tippy.show(),t.getAttribute(jl)===A0&&t.querySelector(`[${T0}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(t){this.element.setAttribute("aria-activedescendant",t.getAttribute("id"))}shiftHighlight(t,i=!1){if(this.defocusItem(this.highlightedItem),i)if(this.highlightedItem===this.element)this.highlightedItem=t[t.length-1];else{const r=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[r-1]||t[t.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=t[0];else{const r=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[r+1]||t[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(t){const i=this,r=Array.prototype.filter.call(this.element.querySelectorAll(`[${jl}]`),n=>n.closest(`[${Js}]`)===i.element&&!!n.offsetParent);if(r.length!==0)switch(t.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":t.target===this.element&&this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.highlightedItem.click());break;case"Tab":const n=this.highlightedItem.querySelectorAll(dS).length===0,s=this.element.isEqualNode(t.target);this.highlightedItem!==this.element&&s&&(n&&this.defocusItem(this.highlightedItem),t.shiftKey&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(t){this.defocusItem(this.highlightedItem);let i=t.target;if(!i.hasAttribute(Js))for(;i.parentElement.closest(`[${Js}]`)!==this.element;)i=i.parentElement.closest(`[${Js}]`);this.highlightedItem=i.closest(`[${jl}]`)||i.closest(`[${Js}]`)||this.highlightedItem,i.hasAttribute(`${jl}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(jl)===A0&&this.highlightedItem.querySelector(`[${T0}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),i9(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(jl)===A0&&this.highlightedItem.querySelector(`[${T0}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const nO="focus-item",jce={beforeMount(e,t){e.hasAttribute("id")||e.setAttribute("id",Gce()),t.value?e.setAttribute(nO,t.value):e.toggleAttribute(nO,!0)}};function Gce(){let e;do e="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(e)!==null);return e}const z3="focus-container",r9="focus-list",Bce="focus-icon",Zb=`[${r9}],[${z3}]`,sO=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${r9}],[${z3}],[${Bce}],[tabIndex]`;let Xb=[];const Vce={mounted(e){[...document.querySelectorAll(".inner-shell")].some(i=>i.contains(e))&&Xb.push(new zce(e))},beforeUnmount(e){Xb=Xb.filter(t=>t.element===e?(t.removeEventListeners(),!1):!0)}};class zce{element;constructor(t){this.element=t,this.element.toggleAttribute(z3,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const i=this;this.element.addEventListener("keypress",function(r){i.onKeypress(r)}),this.element.addEventListener("click",function(){i.onClick()}),this.element.addEventListener("focusout",function(r){i.onFocusOut(r)}),this.element.addEventListener("focus",function(){i.onFocus()})}removeEventListeners(){const t=this;this.element.removeEventListener("keypress",function(i){t.onKeypress(i)}),this.element.removeEventListener("click",function(){t.onClick()}),this.element.removeEventListener("focusout",function(i){t.onFocusOut(i)}),this.element.removeEventListener("focus",function(){t.onFocus()})}onKeypress(t){t.target===this.element&&(t.key==="Enter"||t.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(t){this.element.contains(t.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){Array.prototype.filter.call(this.element.querySelectorAll(sO),()=>!0).forEach(i=>{i.tabIndex=-1})}enableTabbing(){let t;return Array.prototype.map.call(this.element.querySelectorAll(sO),i=>{(i.closest(Zb)===this.element||i.closest(Zb)===i&&i.parentElement.closest(Zb)===this.element)&&i.offsetParent&&(i.tabIndex=0,t===void 0&&(t=i))}),t}}const qce="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mgensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",Wce="121342632165322333335356545565555243543542246363257457433_355524444661154543332344423364211133222221212112_52232222232212222223222241112222224322321222",sf=(e,t)=>{for(const i in t)e[i]=t[i];return e},pS="numeric",mS="ascii",yS="alpha",$y="asciinumeric",M0="alphanumeric",gS="domain",n9="emoji",Hce="scheme",Yce="slashscheme",oO="whitespace";function Jce(e,t){return e in t||(t[e]=[]),t[e]}function gc(e,t,i){t[pS]&&(t[$y]=!0,t[M0]=!0),t[mS]&&(t[$y]=!0,t[yS]=!0),t[$y]&&(t[M0]=!0),t[yS]&&(t[M0]=!0),t[M0]&&(t[gS]=!0),t[n9]&&(t[gS]=!0);for(const r in t){const n=Jce(r,i);n.indexOf(e)<0&&n.push(e)}}function Kce(e,t){const i={};for(const r in t)t[r].indexOf(e)>=0&&(i[r]=!0);return i}function fn(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}fn.groups={};fn.prototype={accepts(){return!!this.t},go(e){const t=this,i=t.j[e];if(i)return i;for(let r=0;r<t.jr.length;r++){const n=t.jr[r][0],s=t.jr[r][1];if(s&&n.test(e))return s}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,i,r){for(let n=0;n<e.length;n++)this.tt(e[n],t,i,r)},tr(e,t,i,r){r=r||fn.groups;let n;return t&&t.j?n=t:(n=new fn(t),i&&r&&gc(t,i,r)),this.jr.push([e,n]),n},ts(e,t,i,r){let n=this;const s=e.length;if(!s)return n;for(let o=0;o<s-1;o++)n=n.tt(e[o]);return n.tt(e[s-1],t,i,r)},tt(e,t,i,r){r=r||fn.groups;const n=this;if(t&&t.j)return n.j[e]=t,t;const s=t;let o,a=n.go(e);if(a?(o=new fn,sf(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new fn,s){if(r)if(o.t&&typeof o.t=="string"){const l=sf(Kce(o.t,r),i);gc(s,l,r)}else i&&gc(s,i,r);o.t=s}return n.j[e]=o,o}};const ke=(e,t,i,r,n)=>e.ta(t,i,r,n),Mn=(e,t,i,r,n)=>e.tr(t,i,r,n),aO=(e,t,i,r,n)=>e.ts(t,i,r,n),me=(e,t,i,r,n)=>e.tt(t,i,r,n),ko="WORD",vS="UWORD",Jp="LOCALHOST",bS="TLD",_S="UTLD",Cy="SCHEME",Vu="SLASH_SCHEME",Jg="NUM",s9="WS",q3="NL",ih="OPENBRACE",Zd="OPENBRACKET",Xd="OPENANGLEBRACKET",Qd="OPENPAREN",hc="CLOSEBRACE",rh="CLOSEBRACKET",nh="CLOSEANGLEBRACKET",fc="CLOSEPAREN",Kg="AMPERSAND",Zg="APOSTROPHE",Xg="ASTERISK",Va="AT",Qg="BACKSLASH",e1="BACKTICK",t1="CARET",Ha="COLON",W3="COMMA",i1="DOLLAR",qs="DOT",r1="EQUALS",H3="EXCLAMATION",Ws="HYPHEN",n1="PERCENT",s1="PIPE",o1="PLUS",a1="POUND",l1="QUERY",Y3="QUOTE",J3="SEMI",Fo="SLASH",ep="TILDE",c1="UNDERSCORE",o9="EMOJI",u1="SYM";var a9=Object.freeze({__proto__:null,WORD:ko,UWORD:vS,LOCALHOST:Jp,TLD:bS,UTLD:_S,SCHEME:Cy,SLASH_SCHEME:Vu,NUM:Jg,WS:s9,NL:q3,OPENBRACE:ih,OPENBRACKET:Zd,OPENANGLEBRACKET:Xd,OPENPAREN:Qd,CLOSEBRACE:hc,CLOSEBRACKET:rh,CLOSEANGLEBRACKET:nh,CLOSEPAREN:fc,AMPERSAND:Kg,APOSTROPHE:Zg,ASTERISK:Xg,AT:Va,BACKSLASH:Qg,BACKTICK:e1,CARET:t1,COLON:Ha,COMMA:W3,DOLLAR:i1,DOT:qs,EQUALS:r1,EXCLAMATION:H3,HYPHEN:Ws,PERCENT:n1,PIPE:s1,PLUS:o1,POUND:a1,QUERY:l1,QUOTE:Y3,SEMI:J3,SLASH:Fo,TILDE:ep,UNDERSCORE:c1,EMOJI:o9,SYM:u1});const Iu=/[a-z]/,Qb=/\p{L}/u,e_=/\p{Emoji}/u,t_=/\d/,lO=/\s/,cO=`
`,Zce="",Xce="";let I0=null,O0=null;function Qce(e){e===void 0&&(e=[]);const t={};fn.groups=t;const i=new fn;I0==null&&(I0=uO(qce)),O0==null&&(O0=uO(Wce)),me(i,"'",Zg),me(i,"{",ih),me(i,"[",Zd),me(i,"<",Xd),me(i,"(",Qd),me(i,"}",hc),me(i,"]",rh),me(i,">",nh),me(i,")",fc),me(i,"&",Kg),me(i,"*",Xg),me(i,"@",Va),me(i,"`",e1),me(i,"^",t1),me(i,":",Ha),me(i,",",W3),me(i,"$",i1),me(i,".",qs),me(i,"=",r1),me(i,"!",H3),me(i,"-",Ws),me(i,"%",n1),me(i,"|",s1),me(i,"+",o1),me(i,"#",a1),me(i,"?",l1),me(i,'"',Y3),me(i,"/",Fo),me(i,";",J3),me(i,"~",ep),me(i,"_",c1),me(i,"\\",Qg);const r=Mn(i,t_,Jg,{[pS]:!0});Mn(r,t_,r);const n=Mn(i,Iu,ko,{[mS]:!0});Mn(n,Iu,n);const s=Mn(i,Qb,vS,{[yS]:!0});Mn(s,Iu),Mn(s,Qb,s);const o=Mn(i,lO,s9,{[oO]:!0});me(i,cO,q3,{[oO]:!0}),me(o,cO),Mn(o,lO,o);const a=Mn(i,e_,o9,{[n9]:!0});Mn(a,e_,a),me(a,Zce,a);const l=me(a,Xce);Mn(l,e_,a);const c=[[Iu,n]],f=[[Iu,null],[Qb,s]];for(let d=0;d<I0.length;d++)ba(i,I0[d],bS,ko,c);for(let d=0;d<O0.length;d++)ba(i,O0[d],_S,vS,f);gc(bS,{tld:!0,ascii:!0},t),gc(_S,{utld:!0,alpha:!0},t),ba(i,"file",Cy,ko,c),ba(i,"mailto",Cy,ko,c),ba(i,"http",Vu,ko,c),ba(i,"https",Vu,ko,c),ba(i,"ftp",Vu,ko,c),ba(i,"ftps",Vu,ko,c),gc(Cy,{scheme:!0,ascii:!0},t),gc(Vu,{slashscheme:!0,ascii:!0},t),e=e.sort((d,p)=>d[0]>p[0]?1:-1);for(let d=0;d<e.length;d++){const p=e[d][0],v=e[d][1]?{[Hce]:!0}:{[Yce]:!0};p.indexOf("-")>=0?v[gS]=!0:Iu.test(p)?t_.test(p)?v[$y]=!0:v[mS]=!0:v[pS]=!0,aO(i,p,p,v)}return aO(i,"localhost",Jp,{ascii:!0}),i.jd=new fn(u1),{start:i,tokens:sf({groups:t},a9)}}function eue(e,t){const i=tue(t.replace(/[A-Z]/g,a=>a.toLowerCase())),r=i.length,n=[];let s=0,o=0;for(;o<r;){let a=e,l=null,c=0,f=null,d=-1,p=-1;for(;o<r&&(l=a.go(i[o]));)a=l,a.accepts()?(d=0,p=0,f=a):d>=0&&(d+=i[o].length,p++),c+=i[o].length,s+=i[o].length,o++;s-=d,o-=p,c-=d,n.push({t:f.t,v:t.slice(s-c,s),s:s-c,e:s})}return n}function tue(e){const t=[],i=e.length;let r=0;for(;r<i;){let n=e.charCodeAt(r),s,o=n<55296||n>56319||r+1===i||(s=e.charCodeAt(r+1))<56320||s>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function ba(e,t,i,r,n){let s;const o=t.length;for(let a=0;a<o-1;a++){const l=t[a];e.j[l]?s=e.j[l]:(s=new fn(r),s.jr=n.slice(),e.j[l]=s),e=s}return s=new fn(i),s.jr=n.slice(),e.j[t[o-1]]=s,s}function uO(e){const t=[],i=[];let r=0,n="0123456789";for(;r<e.length;){let s=0;for(;n.indexOf(e[r+s])>=0;)s++;if(s>0){t.push(i.join(""));let o=parseInt(e.substring(r,r+s),10);for(;o>0;o--)i.pop();r+=s}else e[r]==="_"?(t.push(i.join("")),r++):(i.push(e[r]),r++)}return t}const Kp={defaultProtocol:"http",events:null,format:hO,formatHref:hO,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function K3(e,t){t===void 0&&(t=null);let i=sf({},Kp);e&&(i=sf(i,e instanceof K3?e.o:e));const r=i.ignoreTags,n=[];for(let s=0;s<r.length;s++)n.push(r[s].toUpperCase());this.o=i,t&&(this.defaultRender=t),this.ignoreTags=n}K3.prototype={o:Kp,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,i){const r=t!=null;let n=this.o[e];return n&&(typeof n=="object"?(n=i.t in n?n[i.t]:Kp[e],typeof n=="function"&&r&&(n=n(t,i))):typeof n=="function"&&r&&(n=n(t,i.t,i)),n)},getObj(e,t,i){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,i.t,i)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function hO(e){return e}function l9(e,t){this.t="token",this.v=e,this.tk=t}l9.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),i=e.get("truncate",t,this),r=e.get("format",t,this);return i&&r.length>i?r.substring(0,i)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=Kp.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,i=this.toFormattedHref(e),r=e.get("tagName",i,t),n=this.toFormattedString(e),s={},o=e.get("className",i,t),a=e.get("target",i,t),l=e.get("rel",i,t),c=e.getObj("attributes",i,t),f=e.getObj("events",i,t);return s.href=i,o&&(s.class=o),a&&(s.target=a),l&&(s.rel=l),c&&sf(s,c),{tagName:r,attributes:s,content:n,eventListeners:f}}};function Pv(e,t){class i extends l9{constructor(n,s){super(n,s),this.t=e}}for(const r in t)i.prototype[r]=t[r];return i.t=e,i}const fO=Pv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),dO=Pv("text"),iue=Pv("nl"),Gl=Pv("url",{isLink:!0,toHref(e){return e===void 0&&(e=Kp.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Jp&&e[1].t===Ha}}),Ki=e=>new fn(e);function rue(e){let{groups:t}=e;const i=t.domain.concat([Kg,Xg,Va,Qg,e1,t1,i1,r1,Ws,Jg,n1,s1,o1,a1,Fo,u1,ep,c1]),r=[Zg,nh,hc,rh,fc,Ha,W3,qs,H3,Xd,ih,Zd,Qd,l1,Y3,J3],n=[Kg,Zg,Xg,Qg,e1,t1,hc,i1,r1,Ws,Jg,ih,n1,s1,o1,a1,l1,Fo,u1,ep,c1],s=Ki(),o=me(s,ep);ke(o,n,o),ke(o,t.domain,o);const a=Ki(),l=Ki(),c=Ki();ke(s,t.domain,a),ke(s,t.scheme,l),ke(s,t.slashscheme,c),ke(a,n,o),ke(a,t.domain,a);const f=me(a,Va);me(o,Va,f),me(l,Va,f),me(c,Va,f);const d=me(o,qs);ke(d,n,o),ke(d,t.domain,o);const p=Ki();ke(f,t.domain,p),ke(p,t.domain,p);const y=me(p,qs);ke(y,t.domain,p);const v=Ki(fO);ke(y,t.tld,v),ke(y,t.utld,v),me(f,Jp,v);const _=me(p,Ws);ke(_,t.domain,p),ke(v,t.domain,p),me(v,qs,y),me(v,Ws,_);const E=me(v,Ha);ke(E,t.numeric,fO);const x=me(a,Ws),A=me(a,qs);ke(x,t.domain,a),ke(A,n,o),ke(A,t.domain,a);const w=Ki(Gl);ke(A,t.tld,w),ke(A,t.utld,w),ke(w,t.domain,a),ke(w,n,o),me(w,qs,A),me(w,Ws,x),me(w,Va,f);const b=me(w,Ha),M=Ki(Gl);ke(b,t.numeric,M);const I=Ki(Gl),C=Ki();ke(I,i,I),ke(I,r,C),ke(C,i,I),ke(C,r,C),me(w,Fo,I),me(M,Fo,I);const P=me(l,Ha),N=me(c,Ha),U=me(N,Fo);me(U,Fo,P),ke(l,t.domain,a),me(l,qs,A),me(l,Ws,x),ke(c,t.domain,a),me(c,qs,A),me(c,Ws,x),ke(P,t.domain,I),me(P,Fo,I);const j=me(I,ih),F=me(I,Zd),q=me(I,Xd),te=me(I,Qd);me(C,ih,j),me(C,Zd,F),me(C,Xd,q),me(C,Qd,te),me(j,hc,I),me(F,rh,I),me(q,nh,I),me(te,fc,I),me(j,hc,I);const h=Ki(Gl),m=Ki(Gl),S=Ki(Gl),$=Ki(Gl);ke(j,i,h),ke(F,i,m),ke(q,i,S),ke(te,i,$);const B=Ki(),Y=Ki(),pe=Ki(),ae=Ki();return ke(j,r),ke(F,r),ke(q,r),ke(te,r),ke(h,i,h),ke(m,i,m),ke(S,i,S),ke($,i,$),ke(h,r,h),ke(m,r,m),ke(S,r,S),ke($,r,$),ke(B,i,B),ke(Y,i,m),ke(pe,i,S),ke(ae,i,$),ke(B,r,B),ke(Y,r,Y),ke(pe,r,pe),ke(ae,r,ae),me(m,rh,I),me(S,nh,I),me($,fc,I),me(h,hc,I),me(Y,rh,I),me(pe,nh,I),me(ae,fc,I),me(B,fc,I),me(s,Jp,w),me(s,q3,iue),{start:s,tokens:a9}}function nue(e,t,i){let r=i.length,n=0,s=[],o=[];for(;n<r;){let a=e,l=null,c=null,f=0,d=null,p=-1;for(;n<r&&!(l=a.go(i[n].t));)o.push(i[n++]);for(;n<r&&(c=l||a.go(i[n].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,n++,f++;if(p<0)n-=f,n<r&&(o.push(i[n]),n++);else{o.length>0&&(s.push(i_(dO,t,o)),o=[]),n-=p,f-=p;const y=d.t,v=i.slice(n-f,n);s.push(i_(y,t,v))}}return o.length>0&&s.push(i_(dO,t,o)),s}function i_(e,t,i){const r=i[0].s,n=i[i.length-1].e,s=t.slice(r,n);return new e(s,i)}const $r={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function sue(){$r.scanner=Qce($r.customSchemes);for(let e=0;e<$r.tokenQueue.length;e++)$r.tokenQueue[e][1]({scanner:$r.scanner});$r.parser=rue($r.scanner.tokens);for(let e=0;e<$r.pluginQueue.length;e++)$r.pluginQueue[e][1]({scanner:$r.scanner,parser:$r.parser});$r.initialized=!0}function oue(e){return $r.initialized||sue(),nue($r.parser.start,e,eue($r.scanner.start,e))}var aue={amp:"&",gt:">",lt:"<",nbsp:"",quot:'"'},lue=/^#[xX]([A-Fa-f0-9]+)$/,cue=/^#([0-9]+)$/,uue=/^([A-Za-z0-9]+)$/,hue=function(){function e(t){this.named=t}return e.prototype.parse=function(t){if(t){var i=t.match(lue);if(i)return String.fromCharCode(parseInt(i[1],16));if(i=t.match(cue),i)return String.fromCharCode(parseInt(i[1],10));if(i=t.match(uue),i)return this.named[i[1]]||"&"+i[1]+";"}},e}(),fue=/[\t\n\f ]/,due=/[A-Za-z]/,pue=/\r\n?/g;function ur(e){return fue.test(e)}function pO(e){return due.test(e)}function mue(e){return e.replace(pue,`
`)}var yue=function(){function e(t,i,r){r===void 0&&(r="precompile"),this.delegate=t,this.entityParser=i,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var n=this.peek();if(n==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&n===`
`){var s=this.tagNameBuffer.toLowerCase();(s==="pre"||s==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var n=this.peek(),s=this.tagNameBuffer;n==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):n==="&"&&s!=="script"&&s!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(n))},tagOpen:function(){var n=this.consume();n==="!"?this.transitionTo("markupDeclarationOpen"):n==="/"?this.transitionTo("endTagOpen"):(n==="@"||n===":"||pO(n))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(n))},markupDeclarationOpen:function(){var n=this.consume();if(n==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var s=n.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();s==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var n=this.consume();ur(n)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var n=this.consume();ur(n)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(n.toLowerCase()))},doctypeName:function(){var n=this.consume();ur(n)?this.transitionTo("afterDoctypeName"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(n.toLowerCase())},afterDoctypeName:function(){var n=this.consume();if(!ur(n))if(n===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var s=n.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=s.toUpperCase()==="PUBLIC",a=s.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var n=this.peek();ur(n)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):n==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):n==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):n===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var n=this.consume();n==='"'?this.transitionTo("afterDoctypePublicIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(n)},doctypePublicIdentifierSingleQuoted:function(){var n=this.consume();n==="'"?this.transitionTo("afterDoctypePublicIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(n)},afterDoctypePublicIdentifier:function(){var n=this.consume();ur(n)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):n==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):n==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var n=this.consume();ur(n)||(n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):n==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):n==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var n=this.consume();n==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(n)},doctypeSystemIdentifierSingleQuoted:function(){var n=this.consume();n==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(n)},afterDoctypeSystemIdentifier:function(){var n=this.consume();ur(n)||n===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var n=this.consume();n==="-"?this.transitionTo("commentStartDash"):n===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(n),this.transitionTo("comment"))},commentStartDash:function(){var n=this.consume();n==="-"?this.transitionTo("commentEnd"):n===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var n=this.consume();n==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(n)},commentEndDash:function(){var n=this.consume();n==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+n),this.transitionTo("comment"))},commentEnd:function(){var n=this.consume();n===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+n),this.transitionTo("comment"))},tagName:function(){var n=this.consume();ur(n)?this.transitionTo("beforeAttributeName"):n==="/"?this.transitionTo("selfClosingStartTag"):n===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(n)},endTagName:function(){var n=this.consume();ur(n)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):n==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):n===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(n)},beforeAttributeName:function(){var n=this.peek();if(ur(n)){this.consume();return}else n==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):n===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):n==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(n)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var n=this.peek();ur(n)?(this.transitionTo("afterAttributeName"),this.consume()):n==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):n==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):n===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):n==='"'||n==="'"||n==="<"?(this.delegate.reportSyntaxError(n+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(n)):(this.consume(),this.delegate.appendToAttributeName(n))},afterAttributeName:function(){var n=this.peek();if(ur(n)){this.consume();return}else n==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):n==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):n===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(n))},beforeAttributeValue:function(){var n=this.peek();ur(n)?this.consume():n==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):n==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):n===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(n))},attributeValueDoubleQuoted:function(){var n=this.consume();n==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):n==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(n)},attributeValueSingleQuoted:function(){var n=this.consume();n==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):n==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(n)},attributeValueUnquoted:function(){var n=this.peek();ur(n)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):n==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):n==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):n===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(n))},afterAttributeValueQuoted:function(){var n=this.peek();ur(n)?(this.consume(),this.transitionTo("beforeAttributeName")):n==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):n===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var n=this.peek();n===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var n=this.consume();(n==="@"||n===":"||pO(n))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(n))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(t){this.state=t},e.prototype.tokenize=function(t){this.reset(),this.tokenizePart(t),this.tokenizeEOF()},e.prototype.tokenizePart=function(t){for(this.input+=mue(t);this.index<this.input.length;){var i=this.states[this.state];if(i!==void 0)i.call(this);else throw new Error("unhandled state "+this.state)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var t=this.peek();return this.index++,t===`
`?(this.line++,this.column=0):this.column++,t},e.prototype.consumeCharRef=function(){var t=this.input.indexOf(";",this.index);if(t!==-1){var i=this.input.slice(this.index,t),r=this.entityParser.parse(i);if(r){for(var n=i.length;n;)this.consume(),n--;return this.consume(),r}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(t){this.tagNameBuffer+=t,this.delegate.appendToTagName(t)},e.prototype.isIgnoredEndTag=function(){var t=this.tagNameBuffer;return t==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||t==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||t==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},e}(),gue=function(){function e(t,i){i===void 0&&(i={}),this.options=i,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new yue(this,t,i.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(t){return this.tokens=[],this.tokenizer.tokenize(t),this.tokens},e.prototype.tokenizePart=function(t){return this.tokens=[],this.tokenizer.tokenizePart(t),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var t=this.token;if(t===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return t;for(var i=0;i<arguments.length;i++)if(t.type===arguments[i])return t;throw new Error("token type was unexpectedly "+t.type)},e.prototype.push=function(t){this.token=t,this.tokens.push(t)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(t){this.current("Doctype").name+=t},e.prototype.appendToDoctypePublicIdentifier=function(t){var i=this.current("Doctype");i.publicIdentifier===void 0?i.publicIdentifier=t:i.publicIdentifier+=t},e.prototype.appendToDoctypeSystemIdentifier=function(t){var i=this.current("Doctype");i.systemIdentifier===void 0?i.systemIdentifier=t:i.systemIdentifier+=t},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(t){this.current("Chars").chars+=t},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(t){this.current("Comment").chars+=t},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(t){this.current("StartTag","EndTag").tagName+=t},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(t){this.currentAttribute()[0]+=t},e.prototype.beginAttributeValue=function(t){this.currentAttribute()[2]=t},e.prototype.appendToAttributeValue=function(t){this.currentAttribute()[1]+=t},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(t){this.current().syntaxError=t},e}();function vue(e,t){var i=new gue(new hue(aue),t);return i.tokenize(e)}const c9="LinkifyResult",h1="StartTag",u9="EndTag",wS="Chars",bue="Comment",_ue="Doctype";function wue(e,t){t===void 0&&(t={});const i=vue(e),r=[],n=[],s=new K3(t,Eue);for(let o=0;o<i.length;o++){const a=i[o];if(a.type===h1){r.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||s.ignoreTags.indexOf(l)>=0))continue;let f=r.length;xue(l,i,++o,r),o+=r.length-f-1}else if(a.type!==wS)r.push(a);else{const l=Sue(a.chars,s);r.push.apply(r,l)}}for(let o=0;o<r.length;o++){const a=r[o];switch(a.type){case c9:n.push(a.rendered);break;case h1:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+Aue(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",n.push(l);break}case u9:n.push(`</${a.tagName}>`);break;case wS:n.push(SS(a.chars));break;case bue:n.push(`<!--${SS(a.chars)}-->`);break;case _ue:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",n.push(l);break}}}return n.join("")}function Sue(e,t){const i=oue(e),r=[];for(let n=0;n<i.length;n++){const s=i[n];s.t==="nl"&&t.get("nl2br")?r.push({type:h1,tagName:"br",attributes:[],selfClosing:!0}):!s.isLink||!t.check(s)?r.push({type:wS,chars:s.toString()}):r.push({type:c9,rendered:t.render(s)})}return r}function xue(e,t,i,r){let n=1;for(;i<t.length&&n>0;){let s=t[i];s.type===h1&&s.tagName.toUpperCase()===e?n++:s.type===u9&&s.tagName.toUpperCase()===e&&n--,r.push(s),i++}return r}function Eue(e){let{tagName:t,attributes:i,content:r}=e;return`<${t} ${Tue(i)}>${SS(r)}</${t}>`}function SS(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h9(e){return e.replace(/"/g,"&quot;")}function Tue(e){const t=[];for(const i in e){const r=e[i]+"";t.push(`${i}="${h9(r)}"`)}return t.join(" ")}function Aue(e){const t=[];for(let i=0;i<e.length;i++){const r=e[i][0],n=e[i][1]+"";t.push(`${r}="${h9(n)}"`)}return t}const Mue="truncate-text",Iue="truncate-trigger",Oue={beforeMount(e,t){!e.classList.contains("truncate")&&!t.value?.noTruncateClass&&e.classList.add("truncate"),e.toggleAttribute(Mue,!0)},mounted(e,t){let i;t.value&&t.value.externalTrigger&&(i=e.closest(`[${Iue}]`)),V3(e,{content:mO(e.textContent),onShow:$ue,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:i,...t.value?.options||{}})},updated(e,t){e._tippy&&(e._tippy.setContent(mO(e.textContent)),t.value&&t.value.options&&e._tippy.setProps(t.value.options))},unmounted(e){e._tippy&&e._tippy.destroy()}};function $ue(e){if(!(e.reference.clientWidth<e.reference.scrollWidth||e.reference.clientHeight<e.reference.scrollHeight))return!1}function mO(e){if(e===null)return"";let t=wue(e,{target:"_blank",validate:{url:i=>/^https?:\/\//.test(i)}});return t=`<div style='word-break: break-word;'>${t}</div>`,t}const Cue=["content"],Nue={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},Pue={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},Lue={key:1},kue={key:0,class:"flex"},Rue=["innerHTML"],Due={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},Fue=rt({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(e,{expose:t}){const{t:i}=ti(),r=Yc(),n=jg(),s=Ci("iApi"),o=Sg("el"),a=Sg("contentEl"),l=X();t({el:o});const c=e,f=et(()=>s?.fixture.get("appbar")?n.temporary:[]),d=et(()=>r.mobileView),p=et(()=>r.reorderable),y=x=>x.scrollHeight>x.clientHeight,v=()=>!d.value&&!c.panel.teleport,_=x=>{c.panel.move(x),x==="left"&&As(()=>{(o.value?.querySelector(".move-left")).focus()})},E=et(()=>c.screenId?c.panel.screens[c.screenId][s?.$i18n.locale.value??"en"]:null);return ar(()=>{o.value?.addEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.addEventListener("keyup",x=>{x.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),Ms(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",x=>{x.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(x,A)=>{const w=vi("back"),b=vi("panel-options-menu"),M=vi("left"),I=vi("right"),C=vi("pin"),P=vi("expand"),N=vi("minimize"),U=vi("close"),j=Tt("truncate"),F=Tt("focus-item"),q=Tt("tippy");return Et((fe(),we("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${Ie(i)(e.panel.alertName)+". "+Ie(i)("panels.access")}</div>`,ref_key:"el",ref:o},[e.header?(fe(),we("header",Nue,[Ze(w,{class:di(e.panel.teleport?"display-none":"block sm:display-none"),onClick:A[0]||(A[0]=te=>e.panel.close())},null,8,["class"]),Et((fe(),we("h2",Pue,[x.$slots.header?cs(x.$slots,"header",{key:0}):(fe(),we("div",Lue,Ut(Ie(i)(e.panel.alertName)),1))])),[[j]]),x.$slots.controls?(fe(),Gt(b,{key:0},{default:Ti(()=>[cs(x.$slots,"controls")]),_:3})):Wt("",!0),ce("div",{class:di(e.panel.teleport?"flex":"display-none sm:flex")},[e.panel.teleport?Wt("",!0):(fe(),we("div",kue,[p.value?(fe(),Gt(M,{key:0,onClick:A[1]||(A[1]=te=>_("left")),active:!e.panel.isLeftMostPanel},null,8,["active"])):Wt("",!0),p.value?(fe(),Gt(I,{key:1,onClick:A[2]||(A[2]=te=>_("right")),active:!e.panel.isRightMostPanel},null,8,["active"])):Wt("",!0),Ze(C,{onClick:A[3]||(A[3]=te=>e.panel.pin()),active:e.panel.isPinned},null,8,["active"]),e.panel.controls&&e.panel.controls.expand?(fe(),Gt(P,{key:2,onClick:A[4]||(A[4]=te=>e.panel.expand()),active:e.panel.expanded},null,8,["active"])):Wt("",!0)])),e.panel.button&&f.value?.includes(e.panel.id)?(fe(),Gt(N,{key:1,onClick:A[5]||(A[5]=te=>e.panel.minimize())})):Wt("",!0),Ze(U,{onClick:A[6]||(A[6]=te=>e.panel.close())})],2)])):Wt("",!0),e.content?(fe(),we("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[x.$slots.content?cs(x.$slots,"content",{key:0}):E.value?(fe(),we("div",{key:1,innerHTML:E.value.innerHTML},null,8,Rue)):Wt("",!0)],512)):Wt("",!0),e.footer?Et((fe(),we("div",Due,[cs(x.$slots,"footer")])),[[F]]):Wt("",!0)],8,Cue)),[[q,{trigger:"manual",touch:!1,onShow:v,allowHTML:!0,maxWidth:e.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),Uue={class:"relative"},jue=["content","aria-label"],Gue=["transform"],Bue=rt({__name:"pin",props:{active:Boolean},setup(e){const{t}=ti();return(i,r)=>{const n=Tt("tippy");return fe(),we("div",Uue,[Et((fe(),we("button",{type:"button",class:di(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Ie(t)(e.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":Ie(t)(e.active?"panels.controls.unpin":"panels.controls.pin")},[(fe(),we("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${e.active?30:0})`},r[0]||(r[0]=[ce("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,Gue))],10,jue)),[[n,{placement:"bottom",hideOnClick:!1}]])])}}}),Vue={class:"relative"},zue=["content","aria-label"],que=rt({__name:"close",props:{active:Boolean},setup(e){const{t}=ti();return(i,r)=>{const n=Tt("tippy");return fe(),we("div",Vue,[Et((fe(),we("button",{type:"button",class:di(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Ie(t)("panels.controls.close"),"aria-label":Ie(t)("panels.controls.close")},r[0]||(r[0]=[ce("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[ce("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,zue)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Wue={class:"relative"},Hue=["content","aria-label"],Yue=rt({__name:"back",props:{active:Boolean},setup(e){const{t}=ti();return(i,r)=>{const n=Tt("tippy");return fe(),we("div",Wue,[Et((fe(),we("button",{type:"button",class:di(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Ie(t)("panels.controls.back"),"aria-label":Ie(t)("panels.controls.back")},r[0]||(r[0]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[ce("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,Hue)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Jue={class:"w-32 h-32"},Kue=["content","aria-label"],Zue={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},Xue={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},Que=rt({__name:"expand",props:{active:Boolean},setup(e){const{t}=ti();return(i,r)=>{const n=Tt("tippy");return fe(),we("div",Jue,[Et((fe(),we("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:Ie(t)(`panels.controls.${e.active?"collapse":"expand"}`),"aria-label":Ie(t)(`panels.controls.${e.active?"collapse":"expand"}`)},[e.active?(fe(),we("svg",Xue,r[1]||(r[1]=[ce("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ce("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ce("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),ce("path",{d:"M4 12h16v2H4z"},null,-1)]))):(fe(),we("svg",Zue,r[0]||(r[0]=[ce("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ce("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ce("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,Kue)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),ehe={class:"relative"},the=["content","aria-label"],ihe=rt({__name:"minimize",props:{active:Boolean},setup(e){const{t}=ti();return(i,r)=>{const n=Tt("tippy");return fe(),we("div",ehe,[Et((fe(),we("button",{type:"button",class:di(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":e.active}]),content:Ie(t)("panels.controls.minimize"),"aria-label":Ie(t)("panels.controls.minimize")},r[0]||(r[0]=[ce("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ce("path",{d:"M0 0h24v24H0V0z",fill:"none"}),ce("path",{d:"M6 19h12v2H6z"})],-1)]),10,the)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),rhe={class:"relative"},nhe=["content","aria-label"],she=rt({__name:"right",props:{active:Boolean},setup(e){const{t}=ti();return(i,r)=>{const n=Tt("tippy");return fe(),we("div",rhe,[Et((fe(),we("button",{type:"button",class:di(["p-8",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Ie(t)("panels.controls.moveRight"),"aria-label":Ie(t)("panels.controls.moveRight")},r[0]||(r[0]=[ce("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ce("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,nhe)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),ohe={class:"relative"},ahe=["content","aria-label"],lhe=rt({__name:"left",props:{active:Boolean},setup(e){const{t}=ti();return(i,r)=>{const n=Tt("tippy");return fe(),we("div",ohe,[Et((fe(),we("button",{type:"button",class:di(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Ie(t)("panels.controls.moveLeft"),"aria-label":Ie(t)("panels.controls.moveLeft")},r[0]||(r[0]=[ce("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ce("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,ahe)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),che=rt({__name:"panel-options-menu",setup(e){const{t}=ti();return(i,r)=>(fe(),Gt(L3,{class:"flex",tooltip:Ie(t)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:Ti(()=>r[0]||(r[0]=[ce("div",{class:"p-6"},[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[ce("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:Ti(()=>[cs(i.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),uhe=oa(che,[["__scopeId","data-v-5a275ac2"]]),hhe={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},fhe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},dhe=rt({__name:"fullscreen-nav",setup(e){const{t}=ti(),i=Ci("iApi"),r=()=>{i.toggleFullscreen()};return(n,s)=>{const o=vi("mapnav-button");return fe(),Gt(o,{onClickFunction:r,tooltip:Ie(t)("mapnav.fullscreen")},{default:Ti(()=>[Ie(i).isFullscreen?(fe(),we("svg",hhe,s[0]||(s[0]=[ce("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ce("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(fe(),we("svg",fhe,s[1]||(s[1]=[ce("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ce("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),phe=rt({__name:"geolocator-nav",setup(e){const{t}=ti(),i=Ci("iApi");let r=er([]);const n=async()=>{if(r.length)s(r);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?i.notify.show(gn.ERROR,t("mapnav.geolocator.error.permission")):i.notify.show(gn.ERROR,t("mapnav.geolocator.error.internal"))});a&&(r=[a.coords.longitude,a.coords.latitude],s(r))}},s=a=>{const l=new Rr("geolocation",a,Ge.latLongSR(),!0);i.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=vi("mapnav-button");return fe(),Gt(c,{onClickFunction:n,tooltip:Ie(t)("mapnav.geolocator")},{default:Ti(()=>l[0]||(l[0]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ce("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),mhe=rt({__name:"home-nav",setup(e){const{t}=ti(),i=Ci("iApi"),r=()=>{const n=i.geo.map.getExtentSet();i.geo.map.zoomMapTo(n.fullExtent)};return(n,s)=>{const o=vi("mapnav-button");return fe(),Gt(o,{onClickFunction:r,tooltip:Ie(t)("mapnav.home")},{default:Ti(()=>s[0]||(s[0]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ce("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),ce("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),yhe={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},ghe=["content","aria-label"],vhe=rt({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){return(t,i)=>{const r=Tt("focus-item"),n=Tt("tippy");return fe(),we("div",yhe,[Et((fe(),we("button",{type:"button",class:"w-full h-full default-focus-style focus:outline-none",onClick:i[0]||(i[0]=s=>e.onClickFunction()),content:e.tooltip,"aria-label":typeof e.tooltip=="string"?e.tooltip:""},[cs(t.$slots,"default")],8,ghe)),[[r],[n,{placement:"left"}]])])}}}),bhe={class:"relative",tabindex:"-1"},_he=["aria-label","content"],whe=rt({__name:"button",props:{onClickFunction:{type:Function,required:!0},id:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){const t=Ci("iApi"),i=e,r=()=>t?.event.emit($e.APPBAR_BUTTON_CLICK,i.id);return(n,s)=>{const o=Tt("focus-item"),a=Tt("tippy");return fe(),we("div",bhe,[Et((fe(),we("button",{type:"button",class:"py-6 w-full h-full",onClick:s[0]||(s[0]=()=>{e.onClickFunction(),r()}),"aria-label":String(e.tooltip),content:`<div style='word-break: break-word;'>${e.tooltip}</div>`},[cs(n.$slots,"default",{},void 0,!0)],8,_he)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),She=oa(whe,[["__scopeId","data-v-4e07c09f"]]),xhe=oi("areas-of-interest",()=>({areas:X([])})),Ehe=oi("export",()=>{const e=X({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),t=X("");function i(r){if(e.value[r.name]!==void 0){const n=e.value[r.name];e.value[r.name]=r.selected!==void 0?r.selected:!n}}return{componentSelectedState:e,fileName:t,toggleSelected:i}}),The=oi("extentguard",()=>{const e=X(!1);function t(l){e.value=l}const i=X(!1);function r(l){i.value=l}const n=X(!1);function s(l){n.value=l}const o=X([]);function a(l){o.value=l}return{active:e,setActive:t,enforcing:i,setEnforcing:r,alwaysOn:n,setAlwaysOn:s,extentSetIds:o,setExtentSetIds:a}}),Lv=function e(t){function i(n,s,o){var a,l={};if(Array.isArray(n))return n.concat(s);for(a in n)l[o?a.toLowerCase():a]=n[a];for(a in s){var c=o?a.toLowerCase():a,f=s[a];l[c]=c in l&&typeof f=="object"?i(l[c],f,c=="headers"):f}return l}function r(n,s,o,a,l){var c=typeof n!="string"?(s=n).url:n,f={config:s},d=i(t,s),p={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(p.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),p["content-type"]="application/json");try{p[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:i(d.headers,p,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var v in y)typeof y[v]!="function"&&(f[v]=y[v]);return d.responseType=="stream"?(f.data=y.body,f):y[d.responseType||"text"]().then(function(_){f.data=_,f.data=JSON.parse(_)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?f:Promise.reject(f)})})}return t=t||{},r.request=r,r.get=function(n,s){return r(n,s,"get")},r.delete=function(n,s){return r(n,s,"delete")},r.head=function(n,s){return r(n,s,"head")},r.options=function(n,s){return r(n,s,"options")},r.post=function(n,s,o){return r(n,o,"post",s)},r.put=function(n,s,o){return r(n,o,"put",s)},r.patch=function(n,s,o){return r(n,o,"patch",s)},r.all=Promise.all.bind(Promise),r.spread=function(n){return n.apply.bind(n,n)},r.CancelToken=typeof AbortController=="function"?AbortController:Object,r.defaults=t,r.create=e,r}(),Ahe={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,X:[62,61],Y:60},r_={en:{},fr:{}};class Mhe{list={};listFetched=!1;constructor(t,i){Lv.get(i).then(r=>{r.data.definitions.forEach(n=>r_[t][n.code]=n.description),Object.keys(r_[t]).forEach(n=>{this.list[n]=r_[t][n]}),this.listFetched=!0})}fsaToProvinces(t){const i={};let r=Ahe[t.substring(0,1).toUpperCase()];return typeof r=="number"&&(r=[r]),r.forEach(n=>{i[n]=this.list[n]}),i}}function Ihe(e,t){return new Mhe(e,t)}const $0={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"Rgion De Tri D'Acheminement",NTS:"Systme National De Rfrence Cartographique",COORD:"Latitude/Longitude",SCALE:"chelle"}};class Ohe{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(t,i){Lv.get(i).then(r=>{r.data.definitions.forEach(n=>{$0[t][n.code]=n.term.split(`${n.code}-`)[1]}),Object.keys($0[t]).forEach(n=>{this.allTypes[n]=$0[t][n],this.validTypes[n]=$0[t][n]}),this.typesFetched=!0})}filterValidTypes(t){if(this.filterComplete)return this.validTypes;if(t=typeof t=="string"?[t]:t,t&&t.length>0)for(const i of t)delete this.validTypes[i];return this.filterComplete=!0,this.validTypes}}function $he(e,t){return new Ohe(e,t)}function Che(e,t){const i=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,r=/^\d{2,3}[A-P]/,n=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;if(i.test(t)&&!e.disabledSearchTypes.includes("LAT/LNG")){const s=t.slice(0,-1);return new Nhe(e,s)}else return n.test(t)&&!e.disabledSearchTypes.includes("FSA")?new Phe(e,t):r.test(t)&&!e.disabledSearchTypes.includes("NTS")?new Lhe(e,t.substring(0,6).toUpperCase()):new khe(e,t)}class kv{config;query;failedServs=[];results=[];onComplete;latLongResult;featureResults=[];resultType="geoname";constructor(t,i){this.query=i,this.config=t}search(){return this.jsonRequest(this.getUrl()).then(t=>this.normalizeNameItems(t.items)).catch(()=>(console.error("Geoname service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}getUrl(t,i,r,n){let s="";return t?s=this.config.geoLocateUrl+"?q="+this.query:(r&&n?s=`${this.config.geoNameUrl}?lat=${r}&lon=${n}&num=${this.config.maxResults}`:s=`${this.config.geoNameUrl}?q=${this.query}&num=${this.config.maxResults}`,this.config.categories.length>0&&(s+=`&concise=${this.config.categories.join(",")}`),this.config.officialOnly&&(s+="&category=O")),s}normalizeNameItems(t){return t.filter(i=>this.config.types.validTypes[i.concise.code]).map(i=>({name:i.name,location:i.location,province:this.config.provinces.list[i.province.code],type:this.config.types.allTypes[i.concise.code],LatLon:{lat:i.latitude,lon:i.longitude},bbox:i.bbox,order:this.config.sortOrder.indexOf(i.concise.code)>=0?this.config.sortOrder.indexOf(i.concise.code):this.config.sortOrder.length}))}jsonRequest(t){return new Promise((i,r)=>{const n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="json",n.onload=()=>{if(n.status===200){const s=typeof n.response=="string"?JSON.parse(n.response):n.response;i(s)}else r("Could not load results from remote service.")},n.send()})}locateByQuery(){return this.jsonRequest(this.getUrl(!0,void 0))}nameByLatLon(t,i,r){return this.jsonRequest(this.getUrl(!1,r,t,i)).then(n=>this.normalizeNameItems(n.items)).catch(()=>(console.error("LatLon service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}}class Nhe extends kv{constructor(t,i){super(t,i),this.resultType="latlong";const n=i.split(/[\s|,|;|]/).filter(a=>!isNaN(a)&&a!=="").map(a=>parseFloat(a)),s=.015,o=[n[1]-s,n[0]-s,n[1]+s,n[0]+s];this.latLongResult={name:`${n[0]},${n[1]}`,location:{latitude:n[0],longitude:n[1]},type:"Latitude/Longitude",position:[n[1],n[0]],bbox:o},this.onComplete=new Promise((a,l)=>{this.nameByLatLon(n[0],n[1]).then(c=>{c?(this.results=c,a(this)):l("Given lat lon coordinates cannot be found")})})}}class Phe extends kv{constructor(t,i){i=i.substring(0,3).toUpperCase(),super(t,i),this.resultType="fsa",this.onComplete=new Promise(r=>{this.formatLocationResult().then(n=>{n?(this.featureResults.push(n),this.nameByLatLon(n.LatLon.lat,n.LatLon.lon,Object.keys(n._provinces).map(s=>parseInt(s))).then(s=>{this.results=s,r(this)})):(console.log("FSA code given cannot be found."),r(this))})})}formatLocationResult(){return this.locateByQuery().then(t=>{if(t.length===1&&this.query){const i=this.config.provinces.fsaToProvinces(this.query);return{fsa:this.query,code:"FSA",desc:this.config.types.allTypes.FSA,province:Object.keys(i).map(r=>i[r]).join(","),_provinces:i,LatLon:{lat:t[0].geometry.coordinates[1],lon:t[0].geometry.coordinates[0]}}}}).catch(()=>{console.error("FSA service failed"),this.failedServs.push("geolocation")})}}class Lhe extends kv{unitName;unit;mapSheets=[];constructor(t,i){super(t,i),this.resultType="nts",i=isNaN(parseInt(i[2]))?"0"+i:i,this.unitName=i,this.onComplete=new Promise(r=>{this.locateByQuery().then(n=>{if(n.length>0&&this.query){const s=this.locateToResult(n);this.unit=s[0],this.mapSheets=s,this.featureResults.push(this.unit),this.nameByLatLon(this.unit.LatLon.lat,this.unit.LatLon.lon).then(o=>{this.results=o,r(this)})}else console.log("Given NTS code not found"),r(this)}).catch(()=>{console.error("NTS service failed"),this.failedServs.push("geolocation"),r(this)})})}locateToResult(t){return t.map(r=>{const n=r.title.split(" ");return{nts:n.shift()||"",location:n.join(" "),code:"NTS",desc:this.config.types.allTypes.NTS,LatLon:{lat:r.geometry.coordinates[1],lon:r.geometry.coordinates[0]},bbox:r.bbox}})}equals(t){return this.unitName===t.unitName}}class khe extends kv{constructor(t,i){i=encodeURIComponent(i.trim()),super(t,i),this.resultType="address",this.onComplete=new Promise(r=>{this.locateByQuery().then(n=>{this.featureResults=this.locateToResult(n),this.search().then(s=>{this.results=s,r(this)})}).catch(()=>{this.failedServs.push("geolocation"),console.error("Address service failed"),this.search().then(n=>{this.results=n,r(this)})})})}locateToResult(t){return this.config.categories.length>0&&!this.config.categories.includes("ADDR")?[]:t.filter(r=>r.type?.includes("Street")).map(r=>{const[n,s,o]=r.title.split(", ");return{name:n,city:s.split(" Of ").pop(),province:o,desc:this.config.types.allTypes.ADDRESS,LatLon:{lat:r.geometry.coordinates[1],lon:r.geometry.coordinates[0]}}})}}const yO="https://geogratis.gc.ca/services/geolocation/@{language}/locate",gO="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",vO="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",bO="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json",Rhe={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class _O{config;constructor(t,i){let r,n,s,o;const a=i?.serviceUrls;a?(r=a.geoLocation?a.geoLocation:yO,n=a.geoNames?a.geoNames:gO,s=a.geoProvince?a.geoProvince:vO,o=a.geoTypes?a.geoTypes:bO):(r=yO,n=gO,s=vO,o=bO),r=r.replace("@{language}",t),n=n.replace("@{language}",t),s=s.replace("@{language}",t),o=o.replace("@{language}",t);const l=i?.settings;let c,f,d,p,y;l?(c=l.categories?l.categories:[],f=l.sortOrder?l.sortOrder:[],d=l.disabledSearchTypes?l.disabledSearchTypes:[],p=l.maxResults>0?l.maxResults:100,y=!!l.officialOnly):(c=[],f=[],d=[],p=100,y=!1),this.config={language:t,geoNameUrl:n,geoLocateUrl:r,types:$he(t,o),provinces:Ihe(t,s),categories:c,sortOrder:f,disabledSearchTypes:d,maxResults:p,officialOnly:y},this.config.types.filterValidTypes(i?.excludeTypes),this._provinceList=[],this._typeList=[],this._excludedTypes=i?.excludeTypes||[]}get provinceList(){return this._provinceList}get typeList(){return this._typeList}set provinceList(t){this._provinceList=t}set typeList(t){this._typeList=t}levenshteinDistance(t,i){i=i.toLowerCase().trim();const r=decodeURI(t.query.toLowerCase().replace("*","")),n=[];for(let s=0;s<=i.length;s++){n[s]=[s];for(let o=1;o<=r.length;o++)n[s][o]=s===0?o:Math.min(n[s][o-1]+1,n[s-1][o]+.2,n[s-1][o-1]+(r[o-1]===i[s-1]?0:1))}return n[i.length][r.length]}findProvinceObj(t){return this.provinceList.find(i=>i.name===t)}query(t){return Che(this.config,t.toUpperCase()).onComplete.then(i=>{let r=[];i.featureResults.length>0?i.resultType==="fsa"?r=i.featureResults.map(s=>({name:s.fsa,bbox:[s.LatLon.lon+.02,s.LatLon.lat-.02,s.LatLon.lon-.02,s.LatLon.lat+.02],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:-1})):i.resultType==="nts"?r=i.featureResults.map(s=>({name:s.nts,bbox:s.bbox??[s.LatLon.lon+.02,s.LatLon.lat-.02,s.LatLon.lon-.02,s.LatLon.lat+.02],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.location,latitude:s.LatLon.lat,longitude:s.LatLon.lon},order:-1})):i.resultType==="address"&&(r=i.featureResults.map(s=>({name:s.name,bbox:[s.LatLon.lon+.002,s.LatLon.lat-.002,s.LatLon.lon-.002,s.LatLon.lat+.002],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.city,latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:this.config.sortOrder.indexOf("ADDR")>=0?this.config.sortOrder.indexOf("ADDR"):this.config.sortOrder.length})),this.config.sortOrder.length>0&&(r=r.sort((s,o)=>this.levenshteinDistance(i,s.name)>this.levenshteinDistance(i,o.name)?1:-1))):i.resultType==="latlong"&&(r=[i.latLongResult],r[0].order=-1);const n=i.results.map(s=>({name:s.name,bbox:s.bbox,type:s.type,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.location,latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:s.order}));return{results:r.concat(n).slice(0,this.config.maxResults).sort((s,o)=>this.config.sortOrder.length>0?s.order>o.order?1:-1:this.levenshteinDistance(i,s.name)>this.levenshteinDistance(i,o.name)?1:-1),failedServs:i.failedServs}})}fetchProvinces(){return new Promise(t=>{const i=setInterval(()=>{if(this.config.provinces.listFetched){clearInterval(i);const r=[],n={code:-1,abbr:"...",name:"..."};r.push(n);const s=this.config.provinces.list;for(const o in s)r.push({code:o,abbr:Rhe[o],name:s[o]});this.provinceList=r,t(this.provinceList)}})})}fetchTypes(){return new Promise(t=>{const i=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(i);const r=[],n={code:-1,name:"..."};r.push(n);const s=this.config.types.allTypes;for(const o in s)this._excludedTypes.includes(o)||r.push({code:o,name:s[o]});this.typeList=r,t(this.typeList)}},250)})}}function wO(e,t,i){return e&&t.extent&&(i=i.filter(r=>r.bbox[0]<=t.extent.xmax&&r.bbox[1]<=t.extent.ymax&&r.bbox[2]>=t.extent.xmin&&r.bbox[3]>=t.extent.ymin)),t.province&&t.province!=="..."&&(i=i.filter(r=>r.location.province?.name&&r.location.province.name===t.province)),t.type&&t.type!=="..."&&(i=i.filter(r=>r.type===t.type)),i}const Dhe=oi("geosearch",()=>{const e=X(new _O("en",void 0)),t=X({type:"",province:"",extent:void 0}),i=X(!1),r=X(""),n=X(""),s=X(""),o=X([]),a=X([]),l=X(!1),c=X([]),f=et(()=>new Promise(w=>{e.value.fetchProvinces().then(b=>{b.sort((M,I)=>M.name>I.name?1:-1),w(b)})})),d=et(()=>new Promise(w=>{e.value.fetchTypes().then(b=>{b.sort((M,I)=>M.name>I.name?1:-1),w(b)})}));function p(w,b){e.value=new _O(w,b)}function y(w){l.value=!0;const b=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!b)o.value=[],a.value=[],l.value=!1;else if(b&&b!==s.value||w){const M=setInterval(()=>{e.value.config.provinces.listFetched&&e.value.config.types.typesFetched&&(clearInterval(M),e.value.query(`${b}*`).then(I=>{c.value=I.failedServs,s.value=b,a.value=I.results;const C=wO(i.value,t.value,a.value);o.value=C||[],l.value=!1}))},250)}else{const M=wO(i.value,t.value,a.value);o.value=M||[],l.value=!1}}function v(w){t.value.province=typeof w.province>"u"?"":w.province,y(w.forceReRun)}function _(w){t.value.type=typeof w.type>"u"?"":w.type,y(w.forceReRun)}function E(w){s.value=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),r.value=w,y()}function x(w){const b={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""};w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),n.value=Array.from(w).map(M=>Object.keys(b).includes(M)?"["+M+b[M]+"]":M.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function A(w){if(w.visible!==void 0&&(i.value=w.visible),w.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");t.value.extent=w.extent,y()}return{GSservice:e,queryParams:t,resultsVisible:i,searchVal:r,searchRegex:n,lastSearchVal:s,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:f,getTypes:d,initService:p,runQuery:y,setProvince:v,setType:_,setSearchTerm:E,setSearchRegex:x,setMapExtent:A}}),Fhe=oi("help",()=>({location:X("./help/")}));var f9=(e=>(e.Visibility="visibilityButton",e.Expand="expandButton",e))(f9||{}),xS=(e=>(e.Item="item",e.Placeholder="placeholder",e.Error="error",e))(xS||{});class d9 extends Pi{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(t,i,r){super(t),this._uid=xh.sharedUtils.generateUUID(),this._name=i.name,this._type=i.type??"placeholder",this._parent=r,this._children=[],this._loadPromise=new $i,this._hidden=i.hidden??!1,this._expanded=i.expanded??!0,this._visibility=!0,this._exclusive=i.exclusive??!1,this._controls=i.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=i.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(t){this._name=t}get type(){return this._type}get children(){return this._children}set children(t){this._children=t}get parent(){return this._parent}set parent(t){this._parent=t}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(t){return this._disabledControls?.includes(t)?!1:this._controls?.includes(t)}setControl(t,i){i&&this._disabledControls?.includes(t)?(this._disabledControls=this._disabledControls.filter(r=>r!==t),this._controls?.push(t)):!i&&this._controls?.includes(t)&&(this._controls=this._controls.filter(r=>r!==t),this._disabledControls?.push(t))}toggleHidden(t){this._hidden=t??!this.hidden}toggleExpanded(t){this._expanded=t??!this.expanded}toggleVisibility(t,i=!0){if(this.visibility!==t){if(this._visibility=t??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof Na)||this._lastVisible.layerControlAvailable(mi.Visibility)))this._lastVisible.toggleVisibility(!0);else{const r=this.children.find(n=>!(n instanceof Na)||n.layerControlAvailable(mi.Visibility));r&&r.toggleVisibility(!0)}else this._lastVisible=this.children.find(r=>r.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&i&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(i=>i.visibility&&i!==this&&i.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(t){this instanceof Na&&!this.layerControlAvailable(mi.Visibility)||(this.exclusive?t.visibility?(this.children.forEach(i=>{i.uid!==t.uid&&i.toggleVisibility(!1,!1)}),this._lastVisible=t,this._visibility=!0,this instanceof Na&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof Na&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=t):this.children.some(i=>i.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(i=>i.visibility),this instanceof Na&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof Na&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const t={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},i=[];return this.children.forEach(r=>{i.push(r.getConfig())}),this.exclusive?t.exclusiveVisibility=i:t.children=i,t}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new $i}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class Na extends d9{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(t,i,r){super(t,i,r),this._type=xS.Placeholder,this._layerId=i.layerId,this._layerIdx=i.sublayerIndex,this._isSublayer=i.sublayerIndex!==void 0,this._layerControls=i.layerControls??[],this._origLayerControls=i.layerControls,this._layerDisabledControls=i.disabledLayerControls??[],this._origLayerDisabledControls=i.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=i.symbologyExpanded||!1,i.coverIcon&&(this._coverIcon=i.coverIcon),i.description&&(this._description=i.description),this._symbologyRenderStyle=i.symbologyRenderStyle??"icons",this._customSymbology=!!i.symbologyStack,this._symbologyStack=i.symbologyStack?.map(n=>({uid:this.$iApi.geo.shared.generateUUID(),label:n.text,definitionClause:n.sqlQuery,imgUrl:n.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=i.maxLines&&[1,2,3,4,5,6].includes(i.maxLines)?i.maxLines:void 0}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(t){this._layer=t,this._layerId=t.id,this._layerIdx=t.isSublayer?t.layerIdx:void 0,this._layerUid=t.uid,this._name=this._name||t.name,this._symbologyStack=this._customSymbology?this._symbologyStack:t.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(t){this._layerOffscale=t}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(t){this._layerRedrawing=t}get coverIcon(){return this._coverIcon}set coverIcon(t){this._coverIcon=t}get description(){return this._description}set description(t){this._description=t}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(t){this._treeGrown=t}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(t){this._symbologyRenderStyle=t}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(t){this._symbologyStack=t}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const t={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...t}}toggleVisibility(t,i=!0,r=!1){if(!(!this.layerControlAvailable(mi.Visibility)&&!r)&&(super.toggleVisibility(t,i),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const n=this._symbologyStack.some(s=>s.lastVisbility);this._symbologyStack.forEach(s=>{n||(s.lastVisbility=!0),s.visibility=this.visibility?s.lastVisbility:!1})}}toggleSymbology(t){return this._symbologyExpanded=t??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(t,i){this._symbologyStack.some(r=>((t===void 0||r.uid===t)&&(r.visibility=i,r.lastVisbility=i),t!==void 0&&r.uid===t))}load(t){const i=t instanceof Q3?t:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);i&&(this.layer=i,this._layerRedrawing=i.mapLayer&&i.drawState!==Jr.UP_TO_DATE,i.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:i.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),i.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on($e.LAYER_VISIBILITYCHANGE,r=>{r.layer.uid===this.layer.uid&&this._type===xS.Item&&this.toggleVisibility(r.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on($e.LAYER_DRAWSTATECHANGE,r=>{this.layer.uid===r.layer.uid&&(r.layer.drawState===Jr.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=r.layer.drawState===Jr.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?i.isOffscale():!1,this.handlers.push(this.$iApi.event.on($e.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(t){return this._layerDisabledControls?.includes(t)?!1:!!this._layerControls?.includes(t)}updateLayerControls(){const t=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=t?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=t?.disabledControls??[])}}var Uhe=(e=>(e.Title="title",e.Text="text",e.Image="image",e.Markdown="markdown",e.Template="template",e))(Uhe||{});class SO extends d9{_infoType;_content;constructor(t,i,r){super(t,i,r),this._infoType=i.infoType??"title",this._content=i.content??"",i.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(i.infoType||i.content)&&(this._controls=i.controls?.slice()??[f9.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(t){this._content=t}getConfig(){const t={infoType:this._infoType,content:this._content};return{...super.getConfig(),...t}}}const jhe=oi("legend",()=>{const e=X(),t=X([]),i=X([]),r=X(!0),n=X(3);function s(l){if(l.parent===void 0)t.value.push(l.item);else{if(!(l.item instanceof SO)&&!(l.item instanceof Na)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=f=>(f=f.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),f.forEach(d=>{d.children=c(d.children)}),f=f.filter(d=>!(d instanceof SO&&!d.children.length&&d.content==="")),f);t.value=c(t.value)}function a(l){if(l.oldItem.parent===void 0){const c=t.value,f=c.indexOf(l.oldItem);f>-1&&(t.value[f]=l.newItem),t.value=c}else{const c=l.oldItem.parent.children,f=c.indexOf(l.oldItem);f>-1&&(c[f]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:e,multilineItems:r,maxLines:n,children:t,headerControls:i,addItem:s,removeItem:o,replaceItem:a}}),Ghe=oi("mapnav",()=>{const e=X({}),t=X([]);function i(r){r in e.value&&delete e.value[r];const n=t.value.indexOf(r);n!==-1&&t.value.splice(n,1)}return{items:e,order:t,removeItem:i}}),Bhe=oi("metadata",()=>{const e=X(""),t=X({type:"LineString",coordinates:[]});return{status:e,response:t}}),Vhe=oi("northarrow",()=>{const e=X(""),t=X("");return{arrowIcon:e,poleIcon:t}}),zhe=oi("overviewmap",()=>{const e=X({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),t=X({}),i=X(!0),r=X(1.5),n=X("#FF0000"),s=X(1),o=X("#000000"),a=X(.25);function l(c){e.value.initialBasemapId=c}return{mapConfig:e,basemaps:t,startMinimized:i,expandFactor:r,borderColour:n,borderWidth:s,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),qhe=oi("scrollguard",()=>{const e=X(!1);function t(i){e.value=i}return{enabled:e,setEnabled:t}});var fr=(e=>(e[e.UPLOAD=0]="UPLOAD",e[e.FORMAT=1]="FORMAT",e[e.CONFIGURE=2]="CONFIGURE",e))(fr||{});const Whe=oi("wizard",()=>{const e={id:"Placeholder",layerType:Pe.UNKNOWN,url:""},t=X(),i=X(""),r=X(""),n=X(!0),s=X(null),o=X({config:e,configOptions:[]}),a=X(fr.UPLOAD);function l(c){switch(a.value){case fr.UPLOAD:c===fr.UPLOAD?i.value="":c===fr.FORMAT&&(a.value=fr.FORMAT);break;case fr.FORMAT:c===fr.UPLOAD?(s.value&&(i.value="",s.value=null),r.value="",a.value=fr.UPLOAD):c===fr.CONFIGURE&&(a.value=fr.CONFIGURE);break;case fr.CONFIGURE:c===fr.UPLOAD?(i.value="",r.value="",s.value=null,n.value=!0,o.value={config:e,configOptions:[]},a.value=fr.UPLOAD):c===fr.FORMAT&&(o.value={config:e,configOptions:[]},n.value=!0,a.value=fr.FORMAT);break}}return{layerSource:t,url:i,typeSelection:r,nested:n,fileData:s,layerInfo:o,currStep:a,goToStep:l}});class Hhe{fixture;panel;event;geo;notify;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(t,i,r){this.event=new Aie(this);const n=Yhe(t,this);this.$vApp=n.app,this.$element=n.element,this.$i18n=n.i18n,this.$rootEl=n.app.$root?.$el,this.fixture=new lde(this),this.panel=new cde(this),this.geo=new ode(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new Doe(this),this._isFullscreen=Ps.isEnabled&&!!this.$vApp.$root&&Ps.isFullscreen&&Ps.element===this.$vApp.$root.$el,Ps.isEnabled&&Ps.onchange(()=>{this._isFullscreen=Ps.isEnabled&&!!this.$vApp.$root&&Ps.isFullscreen&&Ps.element===this.$vApp.$root.$el}),this.initialize(!0,i,r)}initialize(t,i,r){const n=Xr(this.$vApp.$pinia),s=Yc(this.$vApp.$pinia),o=zg(this.$vApp.$pinia);if(i?.configs!==void 0){const l=i.configs,c=l[this.$i18n.locale.value]??l[Object.keys(l)[0]];n.newConfig(c),n.registerConfig({config:c,configLangs:Object.keys(l),allLangs:Object.keys(this.$i18n.messages.value)});for(const v in l)n.registerConfig({config:l[v],configLangs:[v]});n.activeBasemapConfig=c.map.basemaps.find(v=>v.id===c.map.initialBasemapId);const f=setInterval(()=>{const v=this.$vApp.$el.querySelector("#esriMap");v&&(clearInterval(f),this.geo.map.createMap(c.map,v).then(()=>{if(v._tippy.hide(0),o.setMaptipInstance(v._tippy),c.layers&&c.layers.length>0){let _=0;c.layers.forEach(E=>{const x=this.geo.layer.createLayer(E);this.geo.map.addLayer(x,_).catch(()=>{}),x.mapLayer&&_++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const v=c.panels.open.map(_=>_.id);this.panel.isRegistered(v).then(()=>{c.panels?.open?.forEach(_=>{this.panel.open({id:_.id,screen:_.screen}),_.pin&&this.panel.pin(_.id)})})}s.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},p=c.system?.zoomIcon||"globe",y=d[p]||p;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=v=>this.ui.suppressNumberLocalization?v.toString():this.$i18n.n(v,"number"),this.ui.escapeHtml=v=>{const _={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return v.replace(/[<>"']/g,E=>_[E])},this.ui.isPlainText=v=>typeof v=="string"?!this.containsValidHtml(v)&&!this.representsObject(v):!1}r||(r={});const a=Bu(this.$vApp.$pinia);r?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit($e.MAP_START)),t&&(r.loadDefaultFixtures!==!1||i?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(i?.startingFixtures):t||this.fixture.restore(),r.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reload(t,i){const r=Bu(this.$vApp.$pinia),n=co(this.$vApp.$pinia),s=Xr(this.$vApp.$pinia),o=Pn(this.$vApp.$pinia),a=Xs(this.$vApp.$pinia),l=Yw(this.$vApp.$pinia),c=!!t;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(d=>{l.removeGrid(d)}),r.started=!1,this.geo.map.destroyMap(),a.$reset(),i?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),t===void 0&&(t=JSON.parse(JSON.stringify({startingFixtures:s.startingFixtures,configs:s.registeredConfigs}))),n.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,t,i)}component(t,i){if(i){const r=this.$element.component(t,i);return this.event.emit($e.COMPONENT,t),r}return this.$element.component(t)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const t=this.$vApp.$root.$refs["app-size"].classList;return t.contains("lg")?"lg":t.contains("md")?"md":t.contains("sm")?"sm":"xs"}getConfig(){const t=Xr(this.$vApp.$pinia);return JSON.parse(JSON.stringify(t.getActiveConfig(this.language)))}useStore(t){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(t)&&!this.fixture.exists(t)))switch(t){case"appbar":return jg(this.$vApp.$pinia);case"areas-of-interest":return xhe(this.$vApp.$pinia);case"details":return O8(this.$vApp.$pinia);case"export":return Ehe(this.$vApp.$pinia);case"extentguard":return The(this.$vApp.$pinia);case"geosearch":return Dhe(this.$vApp.$pinia);case"grid":return Yw(this.$vApp.$pinia);case"help":return Fhe(this.$vApp.$pinia);case"legend":return jhe(this.$vApp.$pinia);case"mapnav":return Ghe(this.$vApp.$pinia);case"metadata":return Bhe(this.$vApp.$pinia);case"northarrow":return Vhe(this.$vApp.$pinia);case"overviewmap":return zhe(this.$vApp.$pinia);case"scrollguard":return qhe(this.$vApp.$pinia);case"wizard":return Whe(this.$vApp.$pinia);case"config":return Xr(this.$vApp.$pinia);case"fixture":return Pn(this.$vApp.$pinia);case"instance":return Bu(this.$vApp.$pinia);case"layer":return Xs(this.$vApp.$pinia);case"map-caption":return Xa(this.$vApp.$pinia);case"maptip":return zg(this.$vApp.$pinia);case"notification":return co(this.$vApp.$pinia);case"panel":return Yc(this.$vApp.$pinia);default:console.error(`The store ${t} does not exist.`);return}}setLanguage(t){if(this.$i18n.locale.value===t)return;const i=Xr(this.$vApp.$pinia),r=co(this.$vApp.$pinia),n=i.registeredLangs;Object.keys(i.registeredConfigs).length===1&&r.clearAll();const s=this.$i18n.locale.value;this.$i18n.locale.value=t;const o=this.getConfig();n[s]!==n[t]&&(this.event.emit($e.CONFIG_CHANGE,o),this.reload()),this.event.emit($e.LANG_CHANGE,{oldLang:s,newLang:t})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){Ps.isEnabled&&Ps.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return Bu(this.$vApp.$pinia).started}updateAlert(t){const i=this.$vApp.$el.querySelector(".screen-reader-alert");i.childNodes.length>0&&(i.innerHTML="");const r=document.createElement("span");r.setAttribute("role","alert");const n=document.createTextNode(t);r.appendChild(n),i.insertBefore(r,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const t=Bu(this.$vApp.$pinia);!t.started&&this.startRequired?(this.event.emit($e.MAP_START),t.started=!0):t.started&&console.warn("start has already been called")}containsValidHtml(t){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(t)}representsObject(t){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(t)}}function Yhe(e,t){const i=bie();i.use(({store:o})=>{const a=TI(o.$state);o.$reset=()=>o.$patch(TI(a))});const r=Bne(),n=dl(kce).use(r).use($ce,{directive:"tippy",component:"tippy"}).use(i);n.directive("focus-container",Vce),n.directive("focus-list",Fce),n.directive("focus-item",jce),n.directive("truncate",Oue),n.component("panel-screen",Fue),n.component("pin",Bue),n.component("close",que),n.component("back",Yue),n.component("expand",Que),n.component("panel-options-menu",uhe),n.component("dropdown-menu",L3),n.component("minimize",ihe),n.component("right",she),n.component("left",lhe),n.component("fullscreen-nav-button",dhe),n.component("geolocator-nav-button",phe),n.component("home-nav-button",mhe),n.component("mapnav-button",vhe),n.component("appbar-button",She),n.component("transition",dv),n.component("transition-group",mv),n.config.globalProperties.$iApi=t,n.config.globalProperties.$pinia=i,n.provide("iApi",t);const s=n.mount(e);return{element:n,app:s,i18n:r.global}}class Z3{esriBasemap;config;createErr=!1;constructor(t){this.config=t}static async create(t){const i=new Z3(t),r=t.layers.map(o=>{if(o.layerType===Pe.TILE)return Lt.TileLayer({url:o.url,opacity:o.opacity});if(o.layerType===Pe.MAPIMAGE)return Lt.MapImageLayer({url:o.url,opacity:o.opacity});if(o.layerType===Pe.OSM)return Lt.OpenStreetMapLayer({opacity:o.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${o.layerType}`)}),s=(await Promise.allSettled(r)).filter(o=>o.status==="rejected"?(console.error(o.reason),i.createErr=!0,!1):!0).map(o=>{if(o.status==="fulfilled")return o.value;throw new Error("TS is fun")});return i.esriBasemap=await Lt.Basemap({baseLayers:s,title:t.name||"",id:t.id}),i}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(t){this.config.name=t||""}get description(){return this.config.description}set description(t){this.config.description=t||""}get altText(){return this.config.altText}set altText(t){this.config.altText=t||""}get attribution(){return this.config.attribution}set attribution(t){this.config.attribution=t}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class Jhe extends Pi{esriMap;_basemapStore;created=!1;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(t){super(t),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new $i,this.handlers=[],this.pointZoomScale=5e4}noMapErr(){console.error("Attempted to manipulate the map before calling createMap()")}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(t,i){const r=l=>{this.$iApi.notify.show(gn.ERROR,this.$iApi.$i18n.t("layer.error",{id:l.name}))},n=t.basemaps.map(l=>Z3.create(l)),o=(await Promise.all(n)).filter(l=>(l.createErr&&r(l),l.esriBasemap.baseLayers.length>0));o.forEach(l=>{l.esriBasemap.baseLayers.forEach(c=>{c.watch("loadStatus",()=>{c.loadStatus==="loaded"?this.trackFirstBasemap=!1:c.loadStatus==="failed"&&(r(l),this.trackFirstBasemap&&this.recoverBasemap(l.tileSchemaId))})})}),this._basemapStore=o,t.labelsDefault&&(this.labelsDefault.visible=t.labelsDefault.visible);const a={};this.esriMap=xi(await Lt.Map(a)),this.pointZoomScale=t.pointZoomScale&&t.pointZoomScale>0?t.pointZoomScale:5e4,this._targetDiv=i,this.createMapView(t.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(t=>t.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(t,i){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(t,i)}async createMapView(t){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new $i,this.created=!1,this.handlers.forEach(t=>t.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(t){const i=this._basemapStore.find(r=>r.id===t);if(i)return i;throw new Error(`Invalid basemap id requested: ${t}`)}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const i=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Ve(i.esriBasemap)}async setBasemap(t){return this.abstractError(),!1}async recoverBasemap(t){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap.id;this.noMapErr()}geomToMapSR(t){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(t.sr)?Promise.resolve(t):this.$iApi.geo.proj.projectGeometry(this._rampSR,t)}async zoomMapTo(t,i,r=!0,n=200,s="ease"){if(this.esriView){if(t.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(t),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Ke.POINT&&(a.scale=i||this.pointZoomScale);const l={animate:r,duration:n,easing:s};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?Xt.fromESRI(this.esriView.extent):(this.noMapErr(),Xt.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),xp.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Ge.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(t){return t>0?(this.pointZoomScale=t,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${t}.`),!1)}}class Khe extends Pi{maptipStore;constructor(t){super(t),this.maptipStore=zg(this.$vApp.$pinia)}#e=void 0;#t=void 0;async checkAtCoord(t){this.#t=t;const i=await this.$iApi.geo.map.getGraphicAtCoord(t);if(this.#t!==t)return;if(!i){this.clear(),this.maptipStore.maptipInstance.disable();return}const r=this.$iApi.geo.layer.getLayer(i.layerId);if(r?.geomType!=Ke.POLYGON&&this.#e&&this.#e.layerId===i.layerId&&this.#e.oid===i.oid&&this.#e.layerIdx===i.layerIdx)return;if(this.clear(),this.#e=i,!r){console.error(`graphic hit test returned non-existent layer id: ${i.layerId}`);return}if(!r.hovertips)return;const n=await r.getIcon(i.oid),s=await r.getGraphic(i.oid,{getAttribs:!0});this.maptipStore.maptipInstance.enable(),this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(t)),this.$iApi.event.emit($e.MAP_GRAPHICHIT,{layer:r,graphicHit:i,attributes:s.attributes,icon:n,screenPoint:t})}generateDefaultMaptip(t){this.setContent(`<div class="flex items-center space-x-5"><span>${t.icon}</span><span class="line-clamp-3">${t.attributes[t.layer.config.tooltipField||t.layer.nameField]}</span></div>`)}clear(){this.#e=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(t){this.maptipStore.setMaptipPoint(t)}setContent(t){this.maptipStore.setMaptipContent(t)}}class Zhe extends Pi{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(t){super(t),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(t){if(!t)return;const i=Xa(this.$vApp.$pinia);if(i.coords.disabled=!1,i.scale.disabled=!1,i.scale.isImperialScale=!1,t.mapCoords)if(t.mapCoords.disabled)i.coords.disabled=!0;else{const r=t.mapCoords.formatter;r!==void 0&&this.setPointFormatter(r)}if(t.scaleBar)if(t.scaleBar.disabled)i.scale.disabled=!0;else{const r=t.scaleBar.imperialScale;r!==void 0&&(i.toggleScale(r),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}i.langtoggle={disabled:t?.langToggle?.disabled??!1}}updateAttribution(t){const i={disabled:!1,value:this.$iApi.$i18n.t("caption.attributionDefaultText")},r={disabled:!1,altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},n={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(t?(t.logo?t.logo.disabled?n.logo.disabled=!0:(n.logo.altText=t.logo.altText||r.altText,n.logo.link=t.logo.link||r.link,n.logo.value=t.logo.value||r.value):(n.logo.altText=r.altText,n.logo.link=r.link,n.logo.value=r.value),t.text?t.text.disabled?n.text.disabled=!0:n.text.value=t.text.value||i.value:n.text.value=i.value,Xa(this.$vApp.$pinia).setAttribution(n)):(n.logo.altText=r.altText,n.logo.link=r.link,n.logo.value=r.value,n.text.value=i.value),!t||t.text?.disabled||!t.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let s="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap.baseLayers.map(c=>new Promise(f=>{let d=0;const p=o/a,y=setInterval(function(){c.loaded&&!c.loadError?(clearInterval(y),f(c)):d>p&&(clearInterval(y),f(null)),d++},a)})).toArray();Promise.all(l).then(c=>{s=c.filter(d=>d?.copyright).map(d=>d.copyright).join(" | "),n.text.value=s||n.text.value||i.value,Xa(this.$vApp.$pinia).setAttribution(n)})}}updateScale(){const t=Xa(this.$vApp.$pinia),i=t.scale;if(i?.disabled)return;const r=i?.isImperialScale||!1,n=this.scaleHelper().find(s=>s.isImperialScale===r)??{isImperialScale:!1,units:"error",pixels:1,distance:1};t.scale={width:`${n.pixels}px`,label:`${this.$iApi.$i18n.n(n.distance,"number")}${n.units}`,isImperialScale:r}}async formatPoint(t){return t?await this.pointFormatter(t):""}setPointFormatter(t){if(typeof t=="string"){if(!(t in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${t}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[t]}else this.pointFormatter=t}scaleHelper(){const t=window.innerWidth>600?70:35,i=this.$iApi.geo.map.getResolution(),r=[],n=i*t,s=1609.34,o=3.28084,a=n>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(r.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),n>1e3){const f=i*t/(c?s:1e3),d=Math.round(f).toString().length,p=Math.pow(10,d-1);r[l].distance=Math.ceil(f/p)*p,r[l].pixels=r[l].distance*(c?s:1e3)/i}else r[l].distance=Math.ceil(c?n*o:n),r[l].pixels=n/i}return r}wrapValue(t,i,r){return((t-i)%(r-i)+(r-i))%(r-i)+i}async formatLatLongDMS(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),n=this.wrapValue(i.x,-180,180),s="",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.floor(Math.abs((r-o)*60)),l=Math.floor((Math.abs(r)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(n))*(n<0?-1:1),f=Math.floor(Math.abs((n-c)*60)),d=Math.floor((Math.abs(n)-Math.abs(c)-f/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${s} ${this.$iApi.$i18n.n(f,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>n?"west":"east"))}`}async formatLatLongDDM(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),n=this.wrapValue(i.x,-180,180),s="",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.abs((r-o)*60),l=Math.floor(Math.abs(n))*(n<0?-1:1),c=Math.abs((n-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${s} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>n?"west":"east"))}`}async formatLatLongDD(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),n=this.wrapValue(i.x,-180,180),s="",o=Math.abs(r),a=Math.abs(n);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(0>n?"west":"east"))}`}async formatMercator(t){const i=await this.$iApi.geo.proj.projectGeometry(102100,t);return`${this.$iApi.$i18n.n(Math.floor(i.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(i.y),"number")} m`}async formatLambert(t){const i=await this.$iApi.geo.proj.projectGeometry(3978,t);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(i.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>i.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(i.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(i.y>0?"north":"south"))}`}async formatUTM(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),n=this.wrapValue(i.x,-180,180),s=Math.ceil((n+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+s),t);return`${this.$iApi.$i18n.n(s,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(t){const i=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),t);return`${this.$iApi.$i18n.n(i.x,"number")} | ${this.$iApi.$i18n.n(i.y,"number")}`}}class Xhe extends Jhe{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:1e4,load:1e4,fail:9e4};constructor(t){super(t),this.maptip=new Khe(t),this.caption=new Zhe(t),this.mapMouseThrottle=0}async createMap(t,i){this.setMapMouseThrottle(t.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=t.layerTimeDefault?.expectedDrawTime??1e4,this.layerDefaultTimes.load=t.layerTimeDefault?.expectedLoadTime??1e4,this.layerDefaultTimes.fail=t.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(t,i),this.viewPromise.then(()=>{this.$iApi.event.emit($e.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(t=>t.uid).forEach(t=>this.removeLayer(t)),super.destroyMap(),this.$iApi.event.emit($e.MAP_DESTROYED)}async createMapView(t){const r=Xr(this.$vApp.$pinia).config.map;if(!r)throw new Error("Attempted to create map view without a map config");const n=(typeof t=="string"?await this.findBasemap(t):t)||await this.findBasemap(r.initialBasemapId),s=r.tileSchemas.find(l=>l.id===n.tileSchemaId);if(!s)throw new Error(`Could not find tile schema for the given basemap id: ${n.id}`);const o=r.extentSets.find(l=>l.id===s.extentSetId);if(!o)throw new Error(`Could not find extent set with the given id: ${s.extentSetId}`);this._rampExtentSet=xp.fromConfig(o),this._rampSR=this._rampExtentSet.sr.clone();const a=r.lodSets.find(l=>l.id===s.lodSetId);if(!a)throw new Error(`Could not find lod set with the given id: ${s.lodSetId}`);this.esriView=xi(await Lt.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:a.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:n.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:this.esriView.watch("extent",l=>{if(l){const c=this.$iApi.geo.geom.geomEsriToRamp(l,"map_extent_event");this.$iApi.event.emit($e.MAP_EXTENTCHANGE,c),this.$iApi.event.emit($e.FILTER_CHANGE,{extent:c,filterKey:Pr.EXTENT})}})}),this.handlers.push({type:"scale",handler:this.esriView.watch("scale",l=>{this.$iApi.event.emit($e.MAP_SCALECHANGE,l)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",l=>{this.$iApi.event.emit($e.MAP_RESIZED,{height:l.height,width:l.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",l=>{this.$iApi.event.emit($e.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",l=>{this.$iApi.event.emit($e.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",Gg(100,!0,l=>{this.$iApi.event.emit($e.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",Gg(100,l=>{this.$iApi.event.emit($e.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",l=>{setTimeout(()=>{this.$iApi.event.emit($e.MAP_MOUSELEAVE,l.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",l=>{this.$iApi.event.emit($e.MAP_MOUSEDOWN,l.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",l=>{this.$iApi.event.emit($e.MAP_KEYDOWN,l.native),l.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",l=>{this.$iApi.event.emit($e.MAP_KEYUP,l.native),l.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",l=>{this.$iApi.event.emit($e.MAP_FOCUS,l.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",l=>{this.$iApi.event.emit($e.MAP_BLUR,l.native)})}),this.esriView.container.addEventListener("touchmove",l=>{l.preventDefault()}),this.esriView.watch("fatalError",()=>{const l=new IntersectionObserver(c=>{c.forEach(f=>{f.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),l.disconnect())})});l.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(n),s.recoveryBasemap?.basemapId){const l=s.recoveryBasemap.timeout??8e3;l>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(s.id)},l)}})}destroyMapView(){this.esriView?.container.removeEventListener("touchmove",t=>{t.preventDefault()}),super.destroyMapView()}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const i=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Ve(i.esriBasemap);const r=Xr(this.$vApp.$pinia);r.activeBasemapConfig=i.config}async setBasemap(t){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const i=Xr(this.$vApp.$pinia),r=await this.findBasemap(t),s=i.activeBasemapConfig.tileSchemaId!==r.tileSchemaId;if(s){const o=this.getExtent().center(),a=this.getScale();this._viewPromise=new $i,this.created=!1,this.$iApi.event.emit($e.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(r),await this.viewPromise.then(()=>{this.$iApi.event.emit($e.MAP_REFRESH_END),this.$iApi.event.emit($e.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:s});const l=this.findClosestScale(a);this.$iApi.geo.proj.projectGeometry(this._rampSR,o).then(c=>this.zoomMapTo(c,l,!1))})}else{await this.applyBasemap(r);const o=await Lt.ColorBackground({color:new Qo(r.backgroundColour).toESRI()});this.esriView.background=o,this.$iApi.event.emit($e.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:s})}return s}async recoverBasemap(t){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const r=Xr(this.$vApp.$pinia).config.map;if(r){const n=r.tileSchemas.find(s=>s.id===t);if(n?.recoveryBasemap?.basemapId){const s=await this.findBasemap(n.recoveryBasemap.basemapId);await this.applyBasemap(s)}}}addLayer(t,i=void 0){return new Promise((r,n)=>{if(this.esriMap||(this.noMapErr(),n()),t.initiationState!==Zt.INITIATING&&t.initiationState!==Zt.INITIATED&&t.layerState!==hi.ERROR&&t.initiate(),t.mapLayer&&i===void 0){const c=this.$iApi.geo.layer.layerOrderIds();if(t.isCosmetic)i=c.length;else{const f=this.$iApi.geo.layer.allLayers();let d=!0;for(let p=c.length-1;p>=0&&d;p--){const y=f.find(v=>v.id===c[p]);y&&!y.isCosmetic&&(i=p+1,d=!1)}d&&(i=0)}}Xs(this.$vApp.$pinia).addLayer(t,i),this.$iApi.event.emit($e.LAYER_REGISTERED,t);const o=Date.now();let a=0;const l=setInterval(()=>{a+=250,a>=t.expectedTime.fail||t.layerState===hi.ERROR?(clearInterval(l),t.lastCancel<o&&console.error(`Failed to add layer: ${t.id}.`),n()):t.initiationState===Zt.INITIATED&&(t.esriLayer||!t.mapLayer)&&(clearInterval(l),t.mapLayer?this.insertToEsriMap(t):t.onLoad(),r())},250)})}insertToEsriMap(t){let i=0;const r=this.$iApi.geo.layer.getLayerPosition(t.id)??-1;if(r>0){const n=this.$iApi.geo.layer.layerOrderIds(),s=this.$iApi.geo.layer.allLayers();for(let o=r-1;o>-1;o--){const a=n[o],l=s.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){i=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}r>-1&&this.esriMap?.add(t.esriLayer,i)}reorder(t,i,r=!1){if(i<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(t.isSublayer&&(t=t.parentLayer),!t.mapLayer){console.error("Attempted to reorder a data layer");return}const n=this.$iApi.geo.layer.allLayers();let s=this.$iApi.geo.layer.layerOrderIds();if(r){if(t.isCosmetic)return;if(i>0){const l=s.filter(c=>{const f=n.find(d=>d.id===c);return f?!f.isCosmetic:(console.error("Layer reorder had critical error"),!1)});i>=l.length&&(console.error("non-cosmetic reorder index was too high"),i=l.length-1),i=s.indexOf(l[i])}}else i>=s.length&&(console.error("reorder index was too high"),i=s.length-1);const o=s.indexOf(t.id);if(o===i)return;if(Xs(this.$vApp.$pinia).reorderLayer(t,i),t.esriLayer&&this.esriMap.layers.indexOf(t.esriLayer)>-1){let l=0;if(i>0){s=this.$iApi.geo.layer.layerOrderIds();for(let c=i-1;c>-1;c--){const f=s[c],d=n.find(p=>p.id===f);if(d&&d.esriLayer){const p=this.esriMap.layers.indexOf(d.esriLayer);if(p>-1){const y=i<o?1:0;l=p+y;break}}else d||console.error("Layer reorder had critical error")}}this.esriMap.reorder(t.esriLayer,l)}this.$iApi.event.emit($e.MAP_REORDER,{layer:t,newIndex:i})}removeSublayer(t){let i,r;if(typeof t=="string")i=t,r=this.$iApi.geo.layer.getLayer(i);else{if(!t.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${t}`);i=t.uid,r=t}if(!r)throw new Error("Sublayer could not be found for removal.");r.visibility=!1,r.isRemoved=!0,this.$iApi.event.emit($e.LAYER_REMOVE,t),r.parentLayer?.sublayers.every(n=>n.isRemoved)&&this.removeLayer(r.parentLayer)}removeLayer(t){if(!this.esriMap){this.noMapErr();return}let i;if(t instanceof Q3?i=t:i=this.$iApi.geo.layer.getLayer(t),!i)throw new Error("Layer could not be found for removal.");if(i.isSublayer){this.removeSublayer(i);return}i.supportsSublayers&&i.sublayers.forEach(n=>{n.isRemoved||this.removeSublayer(n)});const r=Xs(this.$vApp.$pinia);r.removeLayer(i),r.removeLayerConfig(i.id),i.removeEsriLayer(),i.initiationState===Zt.INITIATED&&i.terminate(),i.isRemoved=!0,this.$iApi.event.emit($e.LAYER_REMOVE,i)}setMapMouseThrottle(t){if(t<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=t;const i=this.handlers.findIndex(r=>r.type==="pointer-move");if(i!==-1){const r=this.handlers[i];this.handlers.splice(i,1),r.handler.remove()}return i!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return Wa(this.mapMouseThrottle,t=>{this.$iApi.event.emit($e.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(t))})}async zoomToLevel(t){if(this.esriView)return this.esriView.goTo({zoom:t});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(t){if(!this.esriView){this.noMapErr();return}const i=t.isOffScale(this.getScale());if(!i.offScale)return;const r=this.esriView.constraints.lods;if(!r)return this.zoomMapTo(this.getExtent().center(),(i.zoomIn,t.minScale));const n=i.zoomIn?r:[...r].reverse(),s=n.find(o=>i.zoomIn?o.scale<t.minScale:o.scale>t.maxScale)||n[n.length-1];return this.zoomToLevel(s.level)}findClosestScale(t){const i=this.esriView?.constraints.lods;if(!i)return t;const r=i.map(s=>Math.abs(s.scale-t)),n=r.indexOf(Math.min(...r));return i[n].scale}async takeScreenshot(t){if(this.esriView)return t.quality||(t.quality=1),t.format||(t.format="png"),this.esriView.takeScreenshot(t);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(t){return this.esriView?Rr.fromESRI(this.esriView.toMap({x:t.screenX,y:t.screenY}),"mappoint"):(this.noMapErr(),new Rr("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(t){if(this.esriView){const i=this.esriView.toScreen(t.toESRI());return{screenX:i.x,screenY:i.y}}else return this.noMapErr(),{screenX:1,screenY:1}}runIdentify(t){const i=this.$iApi.geo.layer.allLayersOnMap(!1).filter(c=>c.canIdentify());let r;if(t instanceof Rr){const c=this.mapPointToScreenPoint(t);r={mapPoint:t,screenX:c.screenX,screenY:c.screenY,button:0,input:"mouse",clickTime:Date.now()}}else r=t;if(i===void 0)return{click:r,results:[]};let n=Promise.resolve([]);i.some(c=>c.identifyMode===Ui.HYBRID||c.identifyMode===Ui.SYMBOLIC)&&(n=this.esriView.hitTest({x:r.screenX,y:r.screenY}).then(c=>c.results.map(f=>({layerId:f.layer.id,layerIdx:0,oid:f.graphic.getObjectId()}))));const s={geometry:r.mapPoint,hitTest:n},o=i.filter(c=>c.supportsIdentify).map(c=>(s.tolerance=r.input=="touch"?c.touchTolerance:c.mouseTolerance,c.runIdentify(s))).flat(),a=Date.now();o.forEach(c=>{c.requestTime=a});const l={results:o,click:r};return this.$iApi.event.emit($e.MAP_IDENTIFY,l),l}async getGraphicAtCoord(t){if(!this.esriView){this.noMapErr();return}const i=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===Pe.GRAPHIC);if(i.length===0)return;const r=await this.esriView.hitTest({x:t.screenX,y:t.screenY});if(r.results.length===0)return;const n=r.results;let s,o;const a=new Set;if(n.some(l=>{if(a.has(l.layer.id))return!1;const c=i.find(f=>f.id===l.layer.id);return c?(!c.isCosmetic&&c.layerType!==Pe.GRAPHIC&&(s=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),s&&o)return{oid:o.getObjectId(),layerId:s.id,layerIdx:s.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(t){const i=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this._activeKeys.some(n=>i.includes(n))||this.keyPan()):i.includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this.keyZoom(t)):t.key==="Enter"?this.runIdentify(this.getExtent().center()):t.key==="Tab"&&this._activeKeys.push(t.key)}mapKeyUp(t){const i=["=","-"];this._activeKeys.includes(t.key)&&!i.includes(t.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this._activeKeys.some(r=>i.includes(r))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(t=>!["Control","Shift"].includes(t)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(t){clearInterval(this._panInterval),t.key==="="?await this.zoomIn():t.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const t=this.getExtent().center(),i=this.mapPointToScreenPoint(t),r=this.screenPointToMapPoint({screenX:i.screenX+5,screenY:i.screenY+5}),n=Math.abs(r.x-t.x),s=Math.abs(r.y-t.y);let o=0,a=0,l=1;for(let f=0;f<this._activeKeys.length;++f)switch(this._activeKeys[f]){case"ArrowLeft":o-=n;break;case"ArrowRight":o+=n;break;case"ArrowUp":a+=s;break;case"ArrowDown":a-=s;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{t.x+=l*o,t.y+=l*a,this.zoomMapTo(t,c,!1)},25)}}const Qhe={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},efe={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},tfe={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},ife={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},rfe={circlePoint:Qhe,solidLine:efe,outlinedPoly:tfe,boundingBoxPoly:ife};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var nfe=function(t,i){for(var r=0;r<t.length;r++)if(t[r]!==i[r])return!1;return!0},xO=function(t){return nfe(t[0],t[t.length-1])||t.push(t[0]),t},EO=function(t){var i=0,r=0,n=t.length,s=t[r],o;for(r;r<n-1;r++)o=t[r+1],i+=(o[0]-s[0])*(o[1]+s[1]),s=o;return i>=0},sfe=function(t){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return i},p9=function(t){var i=[],r=t.slice(0),n=xO(r.shift().slice(0));if(n.length>=4){EO(n)||n.reverse(),i.push(n);for(var s=0;s<r.length;s++){var o=xO(r[s].slice(0));o.length>=4&&(EO(o)&&o.reverse(),i.push(o))}}return i},ofe=function(t){for(var i=[],r=0;r<t.length;r++)for(var n=p9(t[r]),s=n.length-1;s>=0;s--){var o=n[s].slice(0);i.push(o)}return i},afe=function e(t,i){i=i||"OBJECTID";var r={wkid:4326},n={},s;switch(t.type){case"Point":n.x=t.coordinates[0],n.y=t.coordinates[1],t.coordinates[2]!=null&&(n.z=t.coordinates[2]),n.spatialReference=r;break;case"MultiPoint":n.points=t.coordinates.slice(0),t.coordinates[0][2]!=null&&(n.hasZ=!0),n.spatialReference=r;break;case"LineString":n.paths=[t.coordinates.slice(0)],t.coordinates[0][2]!=null&&(n.hasZ=!0),n.spatialReference=r;break;case"MultiLineString":n.paths=t.coordinates.slice(0),t.coordinates[0][0][2]!=null&&(n.hasZ=!0),n.spatialReference=r;break;case"Polygon":n.rings=p9(t.coordinates.slice(0)),t.coordinates[0][0][2]!=null&&(n.hasZ=!0),n.spatialReference=r;break;case"MultiPolygon":n.rings=ofe(t.coordinates.slice(0)),t.coordinates[0][0][0][2]!=null&&(n.hasZ=!0),n.spatialReference=r;break;case"Feature":t.geometry&&(n.geometry=e(t.geometry,i)),n.attributes=t.properties?sfe(t.properties):{},t.id&&(n.attributes[i]=t.id);break;case"FeatureCollection":for(n=[],s=0;s<t.features.length;s++)n.push(e(t.features[s],i));break;case"GeometryCollection":for(n=[],s=0;s<t.geometries.length;s++)n.push(e(t.geometries[s],i));break}return n};function m9(e){return new Function("d","return {"+e.map(function(t,i){return JSON.stringify(t)+": d["+i+"]"}).join(",")+"}")}function lfe(e,t){var i=m9(e);return function(r,n){return t(i(r),n,e)}}function cfe(e){var t=Object.create(null),i=[];return e.forEach(function(r){for(var n in r)n in t||i.push(t[n]=n)}),i}function X3(e){var t=new RegExp('["'+e+`
]`),i=e.charCodeAt(0);function r(c,f){var d,p,y=n(c,function(v,_){if(d)return d(v,_-1);p=v,d=f?lfe(v,f):m9(v)});return y.columns=p,y}function n(c,f){var d={},p={},y=[],v=c.length,_=0,E=0,x,A;function w(){if(_>=v)return p;if(A)return A=!1,d;var M=_,I;if(c.charCodeAt(M)===34){for(var C=M;C++<v;)if(c.charCodeAt(C)===34){if(c.charCodeAt(C+1)!==34)break;++C}return _=C+2,I=c.charCodeAt(C+1),I===13?(A=!0,c.charCodeAt(C+2)===10&&++_):I===10&&(A=!0),c.slice(M+1,C).replace(/""/g,'"')}for(;_<v;){var P=1;if(I=c.charCodeAt(_++),I===10)A=!0;else if(I===13)A=!0,c.charCodeAt(_)===10&&(++_,++P);else if(I!==i)continue;return c.slice(M,_-P)}return c.slice(M)}for(;(x=w())!==p;){for(var b=[];x!==d&&x!==p;)b.push(x),x=w();f&&(b=f(b,E++))==null||y.push(b)}return y}function s(c,f){return f==null&&(f=cfe(c)),[f.map(l).join(e)].concat(c.map(function(d){return f.map(function(p){return l(d[p])}).join(e)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(e)}function l(c){return c==null?"":t.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:r,parseRows:n,format:s,formatRows:o}}var Rv=X3(","),ufe=Rv.parse,hfe=Rv.parseRows,ffe=Rv.format,dfe=Rv.formatRows,Dv=X3("	"),pfe=Dv.parse,mfe=Dv.parseRows,yfe=Dv.format,gfe=Dv.formatRows;const vfe=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:ffe,csvFormatRows:dfe,csvParse:ufe,csvParseRows:hfe,dsvFormat:X3,tsvFormat:yfe,tsvFormatRows:gfe,tsvParse:pfe,tsvParseRows:mfe},Symbol.toStringTag,{value:"Module"})),bfe=VW(vfe);var Bl={exports:{}},TO;function _fe(){if(TO)return Bl.exports;TO=1,Bl.exports=e,Bl.exports.pair=s,Bl.exports.format=i,Bl.exports.formatPair=t,Bl.exports.coordToDMS=r;function e(a,l){var c=n(a,l);return c===null?null:c.val}function t(a){return i(a.lat,"lat")+" "+i(a.lon,"lon")}function i(a,l){var c=r(a,l);return c.whole+" "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function r(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",f=c[a>=0?0:1],d=Math.abs(a),p=Math.floor(d),y=d-p,v=y*60,_=Math.floor(v),E=Math.floor((v-_)*60);return{whole:p,minutes:_,seconds:E,dir:f}}function n(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\|\]?[0-9.]+)[]?\s*(?:([0-9.]+)[']\s*)?(?:([0-9.]+)(?:''|"||)\s*)?([NSEW])?/,f=a.match(c);if(!f)return null;var d=f[0],p;if(f[1]&&f[5]?(p=f[1],d=d.slice(0,-1)):p=f[1]||f[5],p&&l.indexOf(p)===-1)return null;var y=f[2]?parseFloat(f[2]):0,v=f[3]?parseFloat(f[3])/60:0,_=f[4]?parseFloat(f[4])/3600:0,E=y<0?-1:1;return(p==="S"||p==="W")&&(E*=-1),{val:(Math.abs(y)+v+_)*E,dim:p,matched:d,remain:a.slice(d.length)}}function s(a,l){a=a.trim();var c=n(a,l);if(!c)return null;a=c.remain.trim();var f=n(a,l);return!f||f.remain?null:c.dim?o(c.val,f.val,c.dim):[c.val,f.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return Bl.exports}var n_,AO;function wfe(){if(AO)return n_;AO=1;var e=bfe,t=_fe(),i=/(Lat)(itude)?/gi,r=/(L)(on|ng)(gitude)?/i;function n(E,x){var A,w,b;for(var M in E)w=M.match(x),w&&(!A||w[0].length/M.length>b)&&(b=w[0].length/M.length,A=M);return A}function s(E){return n(E,i)}function o(E){return n(E,r)}function a(E){return!!E.match(i)}function l(E){return!!E.match(r)}function c(E){return typeof E=="object"?Object.keys(E).length:0}function f(E){var x=[",",";","	","|"],A=[];return x.forEach(function(w){var b=e.dsvFormat(w).parse(E);if(b.length>=1){for(var M=c(b[0]),I=0;I<b.length;I++)if(c(b[I])!==M)return;A.push({delimiter:w,arity:Object.keys(b[0]).length})}}),A.length?A.sort(function(w,b){return b.arity-w.arity})[0].delimiter:null}function d(E){return delete E.columns,E}function p(E){var x=f(E);return x?d(e.dsvFormat(x).parse(E)):null}function y(E,x,A){A||(A=x,x={}),x.delimiter=x.delimiter||",";var w=x.latfield||"",b=x.lonfield||"",M=x.crs||"",I=[],C={type:"FeatureCollection",features:I};if(M!==""&&(C.crs={type:"name",properties:{name:M}}),x.delimiter==="auto"&&typeof E=="string"&&(x.delimiter=f(E),!x.delimiter)){A({type:"Error",message:"Could not autodetect delimiter"});return}var P=x.numericFields?x.numericFields.split(","):null,N=typeof E=="string"?e.dsvFormat(x.delimiter).parse(E,function($){if(P)for(var B in $)P.includes(B)&&($[B]=+$[B]);return $}):E;if(!N.length){A(null,C);return}var U=[],j;w||(w=s(N[0])),b||(b=o(N[0]));var F=!w||!b;if(F){for(j=0;j<N.length;j++)I.push({type:"Feature",properties:N[j],geometry:null});A(U.length?U:null,C);return}for(j=0;j<N.length;j++)if(N[j][b]!==void 0&&N[j][w]!==void 0){var q=N[j][b],te=N[j][w],h,m,S;S=t(q,"EW"),S&&(q=S),S=t(te,"NS"),S&&(te=S),h=parseFloat(q),m=parseFloat(te),isNaN(h)||isNaN(m)?U.push({message:"A row contained an invalid value for latitude or longitude",row:N[j],index:j}):(x.includeLatLon||(delete N[j][b],delete N[j][w]),I.push({type:"Feature",properties:N[j],geometry:{type:"Point",coordinates:[parseFloat(h),parseFloat(m)]}}))}A(U.length?U:null,C)}function v(E){for(var x=E.features,A={type:"Feature",geometry:{type:"LineString",coordinates:[]}},w=0;w<x.length;w++)A.geometry.coordinates.push(x[w].geometry.coordinates);return A.properties=x.reduce(function(b,M){for(var I in M.properties)b[I]||(b[I]=[]),b[I].push(M.properties[I]);return b},{}),{type:"FeatureCollection",features:[A]}}function _(E){for(var x=E.features,A={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},w=0;w<x.length;w++)A.geometry.coordinates[0].push(x[w].geometry.coordinates);return A.properties=x.reduce(function(b,M){for(var I in M.properties)b[I]||(b[I]=[]),b[I].push(M.properties[I]);return b},{}),{type:"FeatureCollection",features:[A]}}return n_={isLon:l,isLat:a,guessLatHeader:s,guessLonHeader:o,csv:e.csvParse,tsv:e.tsvParse,dsv:e,auto:p,csv2geojson:y,toLine:v,toPolygon:_},n_}var s_=wfe();const Sfe={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function xfe(e){if(e.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let t=!0,i=!0;for(let r=0;r<e.features.length;r++){const n=e.features[r];Object.assign(n.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in n&&typeof n.id<"u"&&(n.properties.ID_FILE=n.id,t=!1),"OBJECTID"in n.properties&&(n.properties.OBJECTID_FILE=n.properties.OBJECTID,delete n.properties.OBJECTID,i=!1),n.id=r+1}if(t)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.ID_FILE;if(i)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.OBJECTID_FILE}function Efe(e,t){const i=r=>r.indexOf(" ")>-1;t.fields?.forEach(r=>{if(r.name&&i(r.name)){const n=r.name;let s,o="_",a;do s=n.replace(/ /g,o),a=t.fields?.find(l=>l.name===s),a&&(o+="_");while(a);r.alias=n,r.name=s;for(let l=0;l<e.features.length;l++){const c=e.features[l];c.properties[s]=c.properties[n],delete c.properties[n]}}})}function Tfe(e,t){const i=e.features[t].geometry.geometries;if(i.length===1)e.features[t].geometry={type:i[0].type,coordinates:i[0].coordinates};else{const r=i.map(n=>n.coordinates);e.features[t].geometry={type:`Multi${i[0].type}`,coordinates:r}}}function Afe(e){return e==="MultiLineString"?"LineString":e==="MultiPolygon"?"Polygon":e}class Mfe extends Pi{async fetchFileData(t,i){const r=await Lv.get(t,{responseType:"arrayBuffer"});switch(i){case Pe.GEOJSON:case Pe.DATAJSON:return JSON.parse(this.arbToStr(r.data));case Pe.SHAPEFILE:case Pe.GEOJSONZIPPED:case Pe.FLATGEOBUF:case Pe.FLATGEOBUFZIPPED:return r.data;case Pe.CSV:case Pe.DATACSV:return this.arbToStr(r.data);default:console.error(`Unsupported file type passed to fetchFileData- '${i}'`)}}extractGeoJsonFields(t){if(t.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let i="";for(let o=0;o<t.features.length;o++){const a=t.features[o];if(a.geometry.type==="GeometryCollection"){const f=a.geometry.geometries;if(f===void 0||f.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const d=f[0].type;for(let p=0;p<f.length;p++)if(f[p].type!==d)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");Tfe(t,o)}const c=Afe(a.geometry.type);if(i==="")i=c;else if(i!==c)throw new Error("GeoJSON file contains multiple geometry types")}const r=Object.keys(t.features[0].properties).map(o=>({name:o,type:"string"}));let n=0;const s=Object.keys(t.features[0].properties);for(;n<t.features.length;){const o=t.features[n];if(o.properties&&Object.keys(o.properties).filter(a=>s.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=r.findIndex(f=>f.name===a);r[c]={name:a,type:this.inferType(l)},s.splice(s.indexOf(a),1)}}),s.length===0)break;n++}return r}extractCsvFields(t,i=","){return s_.dsv.dsvFormat(i).parseRows(t)[0].map(n=>({name:n,type:Uo.STRING}))}filterCsvLatLonFields(t,i=","){const r=s_.dsv.dsvFormat(i).parseRows(t),n=r[0],s={lat:JSON.parse(JSON.stringify(n)),lon:JSON.parse(JSON.stringify(n))};for(let o=0;o<n.length;o++)for(let a=1;a<r.length;a++){const l=Number(r[a][o]),c=s.lat.indexOf(n[o]),f=s.lon.indexOf(n[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&s.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&f!==-1&&s.lon.splice(f,1),c===-1&&f===-1)break}return s}async geoJsonToEsriJson(t,i){let r,n="",s;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:Uo.OID}]};xfe(t);const a=t.features[0].geometry.type,l=Sfe[a],c=JSON.parse(JSON.stringify(rfe[l]));if(i){if(i.sourceProjection&&(n=this.$iApi.geo.proj.normalizeProj(i.sourceProjection)),i.targetSR)r=i.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");i.layerId?s=i.layerId:s=this.$iApi.geo.shared.generateUUID(),i.colour&&(c.renderer.symbol.color=new Qo(i.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");n||(n=Ge.parseGeoJsonCrs(t.crs)),o.renderer=await Lt.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(i.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(t).filter(_=>i.fieldMetadata?.fieldInfo?.find(E=>E.name===_.name)):this.extractGeoJsonFields(t)),i.fieldMetadata?.enforceOrder&&i.fieldMetadata?.fieldInfo&&i.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,i.fieldMetadata?.fieldInfo)),Efe(t,o);const f=this.$iApi.geo.proj.normalizeProj(r);if(i){if(i.latField){const _=o.fields.find(E=>E.name===i.latField||E.alias===i.latField);_&&(_.type=Uo.DOUBLE)}if(i.lonField){const _=o.fields.find(E=>E.name===i.lonField||E.alias===i.lonField);_&&(_.type=Uo.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([n,r]);const d=Ge.parseSR(r).toESRI();await this.$iApi.geo.proj.projectGeoJson(t,n,f);const p=afe(t,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(_=>_.name);for(let _=0;_<p.length;_++){const E=p[_];E.geometry.spatialReference=d,E.geometry.type=o.geometryType,Object.keys(E.attributes).forEach(x=>{y.includes(x)?(Array.isArray(E.attributes[x])||typeof E.attributes[x]=="object")&&E.attributes[x]!=null&&(E.attributes[x]=JSON.stringify(E.attributes[x])):delete E.attributes[x]})}return(i.fieldMetadata?.fieldInfo&&i.fieldMetadata?.fieldInfo.length>0?i.fieldMetadata.fieldInfo.filter(_=>_.trim&&y.includes(_.name)).map(_=>_.name):[]).forEach(_=>{for(let E=0;E<p.length;E++){const x=p[E].attributes;typeof x[_]=="string"&&(x[_]=x[_].trim())}}),o.source=p,o.spatialReference=d,o.id=s,o}async csvToGeoJson(t,i){const r={latfield:"Lat",lonfield:"Long",delimiter:","};return i&&(i.latfield&&(r.latfield=i.latfield),i.lonfield&&(r.lonfield=i.lonfield),i.delimiter&&(r.delimiter=i.delimiter)),new Promise((n,s)=>{s_.csv2geojson(t,r,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),s(o)):(a.features.map(l=>{l.properties[r.lonfield]=l.geometry.coordinates[0],l.properties[r.latfield]=l.geometry.coordinates[1]}),n(a))})})}async shapefileToGeoJson(t){return(await xe(()=>import("./shp.min-BuysU_F5.js").then(r=>r.s),__vite__mapDeps([185,186]),import.meta.url)).default(t)}fgbToGeoJson(t,i){return xe(async()=>{const{geojson:n}=await import("./flatgeobuf-Xmj1HQyn.js");return{geojson:n}},[],import.meta.url).then(({geojson:n})=>new Promise(s=>{let o=!1,a=null;const l=n.deserialize(new Uint8Array(t),void 0,d=>{a=d.crs,o=!0});let c=0;const f=setInterval(()=>{if(l&&o){clearInterval(f);let d;a&&(a.code&&a.code!==4326&&a.org==="EPSG"?d=new Ge(a.code):a.wkt?d=new Ge(a.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",a)),d&&(l.crs=d.toGeoJSON()),s(l)}else c+=60,c>i&&(clearInterval(f),s({}))},60)}))}inferType(t){return typeof t=="number"?Uo.DOUBLE:Uo.STRING}rawDataJsonParser(t,i=!1){let r;return typeof t=="string"?r=JSON.parse(t):i?r=structuredClone(t):r=t,r}async unzipSingleFile(t){const i=await xe(()=>import("./jszip.min-BTbAu1y2.js").then(o=>o.j),__vite__mapDeps([187,186]),import.meta.url),n=await new i.default().loadAsync(t),s=Object.keys(n.files)[0];if(s&&n.file(s))return await n.file(s).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(t){if(t.rawData&&t.rawData instanceof ArrayBuffer)return t.rawData;if(t.url)return this.$iApi.geo.layer.files.fetchFileData(t.url,t.layerType);throw new Error(`${t.layerType} config contains no url or invalid/missing raw data`)}arbToStr(t){return new TextDecoder("utf-8").decode(new Uint8Array(t))}}const Ife=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");function Kc(e,t){return e.then(function(i){return[null,i]}).catch(function(i){return[i,void 0]})}class Ofe extends Pi{async loadWfsData(t,i=-1,r=0,n=1e3,s={type:"FeatureCollection",features:[]},o=!1){let a={offset:r.toString(),limit:n.toString()};i===-1&&(a={resulttype:"hits"});const c=new cg(t).updateQuery(a),[f,d]=await Kc(Lv.get(c));if(!d)return console.error(`WFS data failed to load for ${t}`,f),Promise.reject(f);const p=d.data;if(i===-1)return i=d.data.numberMatched,this.loadWfsData(t,i,r,n,s,o);if(s.features=s.features.concat(p.features),p.features.length<i-r){const y=Math.min(n,i-r-p.features.length);return this.loadWfsData(c,i,p.features.length+r,y,s,o)}else return o&&s.features.length>0&&s.features[0].geometry.type===ci.POINT&&s.features.forEach(y=>{const v=y.geometry.coordinates;y.properties.rvInternalCoordX=v[0],y.properties.rvInternalCoordY=v[1]}),s}reversedAxisWKIDs(){return Ife}parseCapabilities(t){const i=()=>{let o=t;if(t.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new cg(t.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return wi(o,{responseType:"xml"}).then(a=>a.data)},r=new Promise(o=>{i().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(i())})}),n=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,f=l.Title;let d=l.Style;const p=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(v=>{const _=v.Name;if(p.push(_),v.LegendURL){const x=v.LegendURL.OnlineResource["@_xlink:href"];y[_]=x.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:f,queryable:l["@_queryable"]==="1",layers:n(l),allStyles:p,styleToURL:y,currentStyle:p[0]}})):[]},s=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return xe(async()=>{const{XMLParser:o}=await import("./fxp-rjvO85py.js").then(a=>a.f);return{XMLParser:o}},[],import.meta.url).then(({XMLParser:o})=>r.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},f=new o(c).parse(l);if("ServiceExceptionReport"in f)return console.error(f.ServiceExceptionReport.ServiceException),[];const d=f.WMS_Capabilities.Capability;return{layers:n(d),queryTypes:s(d.Request.GetFeatureInfo)}}))}}class Zp{static makeRawItem(t,i){const r=Promise.resolve();return er({format:t,data:i,started:!0,loaded:!0,loading:r,load(){return r}})}static makeOidItem(t,i){const r=new $i,n={format:sh.ESRI,data:void 0,started:!1,loaded:!1,loading:r.getPromise(),async load(){if(!this.started){this.started=!0;const s=await i.getGraphic(t,{getAttribs:!0});this.data=s.attributes,this.loaded=!0,r.resolveMe()}return r.getPromise()}};return er(n)}}class $fe extends Pi{files;ogc;constructor(t){super(t),this.files=new Mfe(t),this.ogc=new Ofe(t)}createLayer(t){let i;switch(t.layerType){case Pe.FEATURE:i=Ufe;break;case Pe.MAPIMAGE:i=jfe;break;case Pe.GRAPHIC:i=Nfe;break;case Pe.TILE:i=zfe;break;case Pe.WFS:i=Wfe;break;case Pe.DATATABLE:i=Yfe;break;case Pe.WMS:i=qfe;break;case Pe.GEOJSON:i=Pfe;break;case Pe.GEOJSONZIPPED:i=Rfe;break;case Pe.FLATGEOBUFZIPPED:i=Ffe;break;case Pe.CSV:i=kfe;break;case Pe.DATAJSON:i=Hfe;break;case Pe.IMAGERY:i=Vfe;break;case Pe.SHAPEFILE:i=Lfe;break;case Pe.FLATGEOBUF:i=Dfe;break;case Pe.OSM:i=Bfe;break;default:throw new Error("Unsupported Layer Type "+t.layerType)}return new i(t,this.$iApi)}getLayer(t){return Xs(this.$vApp.$pinia).getLayerByAny(t)}getSublayer(t,i){const r=Xs(this.$vApp.$pinia).getLayerById(t);if(r&&r.supportsSublayers&&i<r.sublayers.length)return r.sublayers[i]}getLayerPosition(t){const i=this.getLayer(t);if(i&&i.mapLayer){const r=i.isSublayer?i.parentLayer.id:i.id,n=this.layerOrderIds().findIndex(s=>s===r);return n===-1?void 0:n}else return}layerOrderIds(){return Xs(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return Xs(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(t=>t.layerState!==hi.ERROR&&t.initiationState===Zt.INITIATED)}allLayersOnMap(t=!0){const i=this.allLayers().filter(r=>r.mapLayer&&r.initiationState===Zt.INITIATED);if(t){const r=this.layerOrderIds(),n=new Map(r.map((s,o)=>[s,o]));i.sort((s,o)=>n.get(s.id)-n.get(o.id))}return i}allDataLayers(){return this.allLayers().filter(t=>!t.mapLayer&&t.initiationState===Zt.INITIATED)}allErrorLayers(){return this.allLayers().filter(t=>t.layerState===hi.ERROR)}allInitiatingLayers(){return this.allLayers().filter(t=>t.initiationState===Zt.INITIATING)}getLayerControls(t){const i=this.getLayer(t);if(!i)return;const r=i.config.controls?.slice()??[mi.BoundaryZoom,mi.Datatable,mi.Identify,mi.Metadata,mi.Opacity,mi.Refresh,mi.Reload,mi.Remove,mi.Settings,mi.Symbology,mi.Visibility],n=[];return i.supportsFeatures||n.push(mi.Datatable),i.extent===void 0&&n.push(mi.BoundaryZoom),(i.config?.metadata||(i.isSublayer?i.parentLayer?.config?.metadata:{})||{}).url||n.push(mi.Metadata),!i.mapLayer&&!i.config.controls?.includes(mi.Settings)&&n.push(mi.Settings),n.forEach(o=>{const a=r?.indexOf(o)??-1;a!==-1&&r?.splice(a,1)}),{controls:r,disabledControls:i.config.disabledControls??[]}}async loadLayerMetadata(t){if(!t.trim())throw new Error("url missing on layer server metadata request.");const[i,r]=await Kc(wi(t,{query:{f:"json"}}));if(!r)throw console.error(`Service metadata load error: ${t}`,i),new Error(`Service metadata load error: ${t}`);if(!r.data)throw console.error(`Service metadata load error: ${t}`),new Error(`Service metadata load error: ${t}`);const n=r.data,s={geometryType:Ke.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:nr.UNKNOWN,mapLayer:!0};if(s.name=n.name||"",s.currentVersion=n.currentVersion||-1,s.minScale=n.effectiveMinScale||n.minScale||0,s.maxScale=n.effectiveMaxScale||n.maxScale||0,s.extent=n.extent?Xt.fromArcServer(n.extent,"layer_extent"):void 0,s.defaultVisibility=n.defaultVisibility??!0,s.canModifyLayer=n.canModifyLayer??!0,n.type==="Feature Layer"||n.type==="Table"){if(s.dataFormat=nr.ESRI_FEATURE,s.displayField=n.displayField||"",Array.isArray(n.fields)){const o=await Promise.all(n.fields.map(l=>Lt.FieldFromJson(l)));s.fields=o.map(l=>({name:l.name,alias:l.alias,type:l.type,length:l.length})),o.every(l=>l.type==="oid"?(s.objectIdField=l.name,!1):!0)&&(s.objectIdField=n.objectIdField||(console.error(`Encountered service with no OID defined: ${t}`),"")),n.type==="Feature Layer"?(s.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(n.geometryType),n.drawingInfo?.renderer&&(s.renderer=await Lt.RendererFromJson(n.drawingInfo.renderer)),n.sourceSpatialReference&&(s.sourceSR=Ge.fromConfig(n.sourceSpatialReference))):s.mapLayer=!1}}else s.dataFormat=nr.ESRI_RASTER;return s}async loadFeatureCount(t,i=""){if(!t)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const r={query:{f:"json",where:i||"1=1",returnCountOnly:!0,returnGeometry:!1}},[n,s]=await Kc(wi(`${t}/query`,r));return s?s.data?Number.isInteger(s.data.count)?s.data.count:(console.error(`Funny result (${s.data.count}) during feature count: ${t}`),0):(console.error(`Unable to load feature count: ${t}`),0):(console.error(`Feature count request unsuccessful: ${t}`,n),0)}}class Q3 extends Pi{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(t,i){super(i),this.config=t,this.id="",this.uid="",this.name="error",this.layerState=hi.NEW,this.drawState=Jr.NOT_LOADED,this.initiationState=Zt.NEW,this.layerIdx=-1,this.layerFormat=wn.UNKNOWN,this.layerType=Pe.UNKNOWN,this.dataFormat=nr.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=Ui.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Ke.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new lg(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Ge.latLongSR()}get visibility(){return!1}set visibility(t){}get opacity(){return 0}set opacity(t){}get scaleSet(){return new LN}set scaleSet(t){}isOffscale(t=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(t){}get touchTolerance(){return 0}set touchTolerance(t){}get drawOrder(){return[]}canIdentify(){return!1}runIdentify(t){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,i){return Promise.resolve(new vs(new gl))}getIcon(t){return Promise.resolve("")}getSqlFilter(t){return""}setSqlFilter(t,i){}applySqlFilter(t=[]){}getFilterOIDs(t=[],i=void 0){return Promise.resolve(void 0)}getGraphicExtent(t){return Promise.resolve(Xt.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(t){if(!this.isSublayer&&t)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=t}get sublayers(){return this._sublayers}onLoad(){}onError(t=!0){}updateLayerState(t,i=!1){}updateDrawState(t){}updateInitiationState(t){}uidToIdx(t){if(t===this.uid)return-1;{const i=this._sublayers.findIndex(r=>r?.uid===t);if(i===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${t}]`);return i}}getSublayer(t){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let i;if(typeof t=="string"?i=this.uidToIdx(t):i=t,this._sublayers[i]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${t}]`);return this._sublayers[i]}controlAvailable(t){const i=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(t,i)}}class y9 extends Q3{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;constructor(t,i){super(t,i),this.name=t.name||"",this.geomType=Ke.NONE,this.dataFormat=nr.UNKNOWN,this.layerType=Pe.UNKNOWN,this.layerFormat=wn.UNKNOWN;const r=i.geo.map.layerDefaultTimes;this.expectedTime.draw=t.expectedDrawTime??r.draw,this.expectedTime.load=t.expectedLoadTime??r.load,this.expectedTime.fail=t.maxLoadTime||r.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=t,this.id=t.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=Ui.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=hi.NEW,this.initiationState=Zt.NEW,this.drawState=Jr.NOT_LOADED,this.loadDefProm=new $i,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.layerTree=new lg(0,this.uid,this.name,!0)}updateInitiationState(t){this.initiationState=t,this.$iApi.event.emit($e.LAYER_INITIATIONSTATECHANGE,{state:t,layer:this})}updateLayerState(t,i=!1){this.layerState=t,this.$iApi.event.emit($e.LAYER_LAYERSTATECHANGE,{state:t,layer:this,userCancel:i})}updateDrawState(t){this.drawState=t,t===Jr.REFRESH?this.startTimer("draw"):t===Jr.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit($e.LAYER_DRAWSTATECHANGE,{state:t,layer:this})}async initiate(){this.updateInitiationState(Zt.INITIATING),this.startTimer("load");const t=s=>{this.layerState!==hi.ERROR&&(console.error(s),this.onError())},i=Date.now(),r=setTimeout(()=>{i>this.lastCancel&&(this.lastCancel=Date.now(),t("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[n]=await Kc(this.onInitiate());clearTimeout(r),i>this.lastCancel&&(this.drawState!==Jr.UP_TO_DATE&&this.startTimer("draw"),n?t(`Init error on layer id: ${this.id} . ${n.message}`):this.updateInitiationState(Zt.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===Zt.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(Zt.TERMINATING),await Promise.all(this.sublayers.map(t=>t.terminate())),this.loadDefProm=new $i,this.loadPromDone=!1,this.updateLayerState(hi.NEW),this.updateDrawState(Jr.NOT_LOADED),this.updateInitiationState(Zt.TERMINATED)}onLoad(){const t=Date.now();let i=!1;const r=setTimeout(()=>{i=!0,this.onError()},this.expectedTime.fail);try{const n=this.onLoadActions();Promise.all(n).then(()=>{clearTimeout(r),i?this.visibility=!1:(this.stopTimer("load"),t>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new $i),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(s=>s.onLoad()),this.updateLayerState(hi.LOADED)))}).catch(()=>{clearTimeout(r),this.onError()})}catch(n){console.error("Encountered error on layer load: ",n),clearTimeout(r),this.onError()}}onError(t=!0){this.layerState!==hi.ERROR&&(this.initiationState===Zt.INITIATING&&this.updateInitiationState(Zt.NEW),this.loadPromDone&&(this.loadDefProm=new $i),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(i=>i.onError(t)),t&&this.$iApi.notify.show(gn.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(hi.ERROR,!t))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===Zt.NEW||this.initiationState===Zt.TERMINATING||this.initiationState===Zt.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===hi.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,i){return this.stubError(),Promise.resolve(new vs(new gl))}getIcon(t){return this.stubError(),Promise.resolve("")}getSqlFilter(t){return this.stubError(),""}setSqlFilter(t,i){this.stubError()}getFilterOIDs(t=[],i=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(t){return this.stubError(),Promise.resolve(Xt.fromParams("fake",0,0,0,0))}applySqlFilter(t=[]){this.stubError()}setCustomParameter(t,i,r=!0){this.stubError()}startTimer(t){this.stopTimer(t),this.expectedTime[t]>0&&(this.timers[t]=window.setTimeout(()=>this.$iApi.notify.show(gn.WARNING,this.$iApi.$i18n.t(`layer.long${t}`,{id:this.name||this.id})),this.expectedTime[t]))}stopTimer(t){this.timers[t]&&(clearTimeout(this.timers[t]),this.timers[t]=void 0)}}class fu extends y9{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(t,i){super(t,i),this._scaleSet=new LN,this._mouseTolerance=t.mouseTolerance!=null?t.mouseTolerance:5,this._touchTolerance=t.touchTolerance!=null?t.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=t.cosmetic||!1,this.extent=t.extent?Xt.fromConfig(`${this.id}_extent`,t.extent):void 0,this.viewDefProm=new $i,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(this.esriLayer.watch("visible",t=>{this.$iApi.event.emit($e.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this})})),this.esriWatches.push(this.esriLayer.watch("opacity",t=>{this.$iApi.event.emit($e.LAYER_OPACITYCHANGE,{opacity:t,layer:this})})),this.esriWatches.push(this.esriLayer.watch("loadStatus",t=>{const i={"not-loaded":hi.LOADING,loading:hi.LOADING,loaded:hi.LOADED,failed:hi.ERROR};t==="loaded"?this.onLoad():t==="failed"?this.onError():this.updateLayerState(i[t])})),this.esriLayer.on("layerview-create",t=>{this.esriView=t.layerView,this.esriWatches.push(t.layerView.watch("updating",i=>{this.updateDrawState(i?Jr.REFRESH:Jr.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(t=>t.initiate())}async terminate(){this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new $i,this.esriWatches.forEach(t=>t.remove()),this.esriWatches=[]}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const t=Date.now();if(this.$iApi.event.emit($e.LAYER_RELOAD_START,this),this.sublayers.forEach(i=>this.$iApi.event.emit($e.LAYER_RELOAD_START,i)),await this.terminate(),await this.initiate(),!(this.lastCancel>t)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit($e.LAYER_RELOAD_END,this),this.sublayers.forEach(i=>this.$iApi.event.emit($e.LAYER_RELOAD_END,i))}}makeEsriLayerConfig(t){return{id:t.id,url:t.url,opacity:t?.state?.opacity??1,visible:t?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(i=>i.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const t=super.onLoadActions();this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify);const i=this.$iApi.geo.proj.checkProj(this.getSR()).then(r=>r?Promise.resolve():Promise.reject());return t.push(i),t}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(t){this._scaleSet=t}isOffscale(t=void 0){let i;if(typeof t>"u")if(this.mapCheck())i=this.$iApi.geo.map.getScale();else return!1;else i=t;return this.scaleSet.isOffScale(i).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=t}get touchTolerance(){return this._touchTolerance}set touchTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=t}get layerExists(){return this.initiationState===Zt.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(t){this.layerExists?this.esriLayer.visible=t:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(t=>t.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(t){this.layerExists?this.esriLayer.opacity=t:this.noLayerErr()}getSR(){return this.esriLayer?Ge.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Ge.latLongSR())}}class eT extends fu{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.geomType=Ke.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new kN(t.permanentFilteredQuery||"",t.initialFilteredQuery||""),this.hovertips=t.state?.hovertips??!0,this.attribs=new v9}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}async loadLayerMetadata(t={}){if(!this.serviceUrl)return;const i=Date.now(),r=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(i<this.lastCancel))if(this.geomType=r.geometryType,this.attribs.quickCache=new _9(this.geomType),this.scaleSet.minScale=r.minScale,this.scaleSet.maxScale=r.maxScale,this.dataFormat=r.dataFormat,this.extent=this.extent??r.extent,this._serverVisibility=r.defaultVisibility,this.origRampConfig.name||(this.name=r.name??this.id),this.dataFormat===nr.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===Pe.SUBLAYER?r.canModifyLayer:!0,this.fields=r.fields,this.nameField=r.displayField,this.oidField=r.objectIdField,this.sourceSR=r.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const n=t&&t.customRenderer&&t.customRenderer.type?t.customRenderer:r.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(n,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const s={supportsLimit:(r.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(Pr.PERMANENT)};this.attribs.attLoader=new b9(this.$iApi,s)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(t=>t.trim).map(t=>t.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,i){let r={},n=new gl;const s=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(i.getAttribs||i.getStyle){const f=this.attribs.quickCache.getAttribs(t);if(f)r=f;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();r=d.features[d.oidIndex[t]]}else o=!0}if(i.getGeom){l=s.getScale();const f=this.attribs.quickCache.getGeom(t,l);f?n=f:a=!0}if(o||a){const f={oid:t,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(f.mapSR=s.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(f.maxOffset=s.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(f);a&&(this.attribs.quickCache.setGeom(t,d.geometry,l),n=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(t)>"u")&&(this.attribs.quickCache.setAttribs(t,d.attributes),o&&(r=d.attributes))}const c=new vs(n,"",i.getAttribs?r:void 0);if(i.getStyle){const f=Ve(this.renderer.getGraphicSymbol(r));c.style=this.$iApi.geo.geom.styleEsriToRamp(f)}return c}async getIcon(t){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const i=await this.getGraphic(t,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(i.attributes||{},this.renderer)}setSqlFilter(t,i){const r=this.filter.getSql(t);if(i===r)return;this.filter.setSql(t,i),this.$iApi.event.emit($e.FILTER_CHANGE,{uid:this.uid,filterKey:t});const n=`${this.uid}-${t}-${i}`;this._lastFilterUpdate=n,setTimeout(()=>{this._lastFilterUpdate===n&&this.applySqlFilter()},100)}applySqlFilter(t=[]){throw new Error(`attempted to apply sql filter ${t} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[],i=void 0){const r=this.filter.getCombinedSql(t),n=!!i;if(!(r||n))return;i&&this.filter.setExtent(i);const s=this.filter.sqlActiveFilters(t);let o=this.filter.getCache(s,n);if(!o){const a={filterGeometry:i,filterSql:r,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,s,n)}return o}queryOIDs(t){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const i={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(i)}async queryFeaturesDiscrete(t){const i=await this.queryOIDs(t),r={getGeom:!!t.includeGeometry,getAttribs:!0};return i.map(n=>({oid:n,graphic:this.getGraphic(n,r)}))}async queryFeatures(t){const i=await this.queryFeaturesDiscrete(t);return Promise.all(i.map(r=>r.graphic))}configDrawOrder(t,i){Array.isArray(t.drawOrder)&&t.drawOrder.length>0&&(i.orderBy=t.drawOrder.map(r=>{const n=r.ascending??!0?"ascending":"descending";return r.field?{field:r.field,order:n}:{valueExpression:r.arcade,order:n}}),this._drawOrder=t.drawOrder.slice())}}class Cfe extends fu{constructor(t,i){super(t,i),this.dataFormat=nr.ESRI_FEATURE,this.layerFormat=wn.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}getGraphicCount(){return this._graphics.length}getLocalGraphic(t){return this._graphics.find(i=>i.id===t)}getEsriGraphic(t){return this.esriLayer?.graphics.find(i=>i.id===t)}get graphics(){return this._graphics.slice()}async addGraphic(t){if(!this.layerExists){this.noLayerErr();return}let i;t instanceof Array?i=t:i=[t];const r=i.filter(l=>this._graphics.findIndex(f=>f.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),n=this.$iApi.geo.map.getSR(),s=r.map(l=>this.$iApi.geo.proj.projectGeometry(n,l.geometry)),o=await Promise.all(s),a=r.map((l,c)=>{const f=new vs(o[c],l.id,l.attributes);return f.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(f)});this.esriLayer.addMany(a)}removeGraphic(t){if(!this.layerExists){this.noLayerErr();return}if(typeof t>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let i;Array.isArray(t)?i=t:i=[t],i.map(n=>typeof n=="string"?n:n.id).forEach(n=>{const s=this.esriLayer.graphics.findIndex(a=>a.id===n);s>-1&&this.esriLayer.graphics.removeAt(s);const o=this._graphics.findIndex(a=>a.id===n);o>-1&&this._graphics.splice(o,1)})}}class Nfe extends Cfe{constructor(t,i){super(t,i),this.layerType=Pe.GRAPHIC}async onInitiate(){this.esriLayer=xi(await Lt.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(Jr.UP_TO_DATE),t}}class du extends eT{esriJson;sourceGeoJson;tooltipField;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=nr.ESRI_FEATURE,this.layerFormat=wn.FEATURE,this.tooltipField="",this.layerIdx=0,t.identifyMode&&t.identifyMode!==Ui.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Ui.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const t={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,t),this.esriLayer=xi(await Lt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t),r="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(s=>{i[s]=this.esriJson[s]}),this.origRampConfig.nameField?i.displayField=this.$iApi.geo.attributes.fieldValidator(i.fields,this.origRampConfig.nameField)||r:i.displayField=r,i.outFields=["*"],delete i.url,this.configDrawOrder(t,i),i}onLoadActions(){const t=super.onLoadActions(),i=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await Lt.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.origRampConfig.tooltipField?this.tooltipField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField)||this.nameField:this.tooltipField=this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.featureCount=this.esriLayer?.source.length||0};return t.push(i()),t.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(t).then(()=>{this.applySqlFilter()}),t}runIdentify(t){if(!this.canIdentify())return[];const i=new $i,r=er({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let n=Promise.resolve(),s=Promise.resolve(),o=[],a=[];if(this.identifyMode===Ui.HYBRID||this.identifyMode===Ui.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Ke.POLYGON&&t.geometry.type===Ke.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):l.filterGeometry=t.geometry,l.filterSql=this.getCombinedSqlFilter(),s=this.queryFeatures(l).then(c=>{o=c})}return t.hitTest&&(this.identifyMode===Ui.HYBRID||this.identifyMode===Ui.SYMBOLIC)&&(n=s.then(async()=>{const l=await t.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(f=>c.oid===f.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([n,s]).then(()=>{o.forEach(l=>{r.items.push(Zp.makeRawItem(sh.ESRI,l.attributes))}),a.forEach(l=>{r.items.push(Zp.makeOidItem(l,this))}),r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}extractLayerMetadata(){const t=this.esriLayer;if(!t)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(t.geometryType),this.scaleSet.minScale=t.minScale||0,this.scaleSet.maxScale=t.maxScale||0,this.extent=this.extent??Xt.fromESRI(t.fullExtent,this.id+"_extent");const i=xi(t.fields.slice());this.fields=i.map(n=>({name:n.name,alias:n.alias,type:n.type,length:n.length})),this.nameField=t.displayField,this.oidField=t.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(t.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const r={sourceGraphics:t.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new Kfe(this.$iApi,r)}async getGraphic(t,i){let r;if(!i.getGeom&&this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();r=new vs(new gl,"",n.features[n.oidIndex[t]])}else{const n={filterOIDs:[t],includeGeometry:!!i.getGeom},s=await this.queryFeatures(n);if(s.length===0)throw new Error(`Could not find object id ${t}`);s.length!==1&&console.warn("did not get a single result on a query for a specific object id"),r=s[0]}if(i.getStyle){const n=Ve(this.renderer.getGraphicSymbol(r.attributes));r.style=this.$iApi.geo.geom.styleEsriToRamp(n)}return r}async queryFeatures(t){const i={layer:this,...t};return this.$iApi.geo.query.geoJsonQuery(i)}async queryOIDs(t){const i={layer:this,...t};return(await this.$iApi.geo.query.geoJsonQuery(i)).map(n=>n.attributes?n.attributes[this.oidField]:-1)}applySqlFilter(t=[]){if(!this.esriView){this.noLayerErr();return}const i=this.filter.getCombinedSql(t);Lt.FeatureFilter({where:i}).then(r=>{Ve(this.esriView).filter=r})}}class Pfe extends du{constructor(t,i){super(t,i),this.layerType=Pe.GEOJSON}async onInitiate(){let t;const i=Date.now();if(this.origRampConfig.rawData)t=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");i>this.lastCancel&&(this.sourceGeoJson=t,await super.onInitiate())}}class Lfe extends du{constructor(t,i){super(t,i),this.layerType=Pe.SHAPEFILE}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.shapefileToGeoJson(i);t>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class kfe extends du{constructor(t,i){super(t,i),this.layerType=Pe.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let t;const i=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")t=this.origRampConfig.rawData;else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(i>this.lastCancel){const r=await this.$iApi.geo.layer.files.csvToGeoJson(t,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});i>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class Rfe extends du{constructor(t,i){super(t,i),this.layerType=Pe.GEOJSONZIPPED}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(i);t>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(r)),await super.onInitiate())}}}class Dfe extends du{constructor(t,i){super(t,i),this.layerType=Pe.FLATGEOBUF}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class Ffe extends du{constructor(t,i){super(t,i),this.layerType=Pe.FLATGEOBUFZIPPED}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(i);if(t>this.lastCancel){const n=await this.$iApi.geo.layer.files.fgbToGeoJson(r,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}}}class Ufe extends eT{tooltipField;constructor(t,i){super(t,i),this.dataFormat=nr.ESRI_FEATURE,this.tooltipField="",this.supportsIdentify=!0,this.layerType=Pe.FEATURE,this.layerFormat=wn.FEATURE,t.identifyMode&&t.identifyMode!==Ui.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Ui.HYBRID}async onInitiate(){xi(this.esriLayer=await Lt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t);return(t.initialFilteredQuery||t.permanentFilteredQuery)&&(i.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(t,i),i}onLoadActions(){const t=Date.now(),i=super.onLoadActions(),r=this.esriLayer.parsedUrl.path,s=this.$iApi.geo.shared.parseUrlIndex(r).index||0;this.layerIdx=s,this.serviceUrl=r;const o=async()=>{let l;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const c=await Lt.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=c,l={customRenderer:c}}else l={};await this.loadLayerMetadata(l),t>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.nameField=this.origRampConfig.nameField||this.nameField||"",this.tooltipField=this.origRampConfig.tooltipField||this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()))},a=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Pr.PERMANENT)).then(l=>{t>this.lastCancel&&(this.featureCount=l)});return this.layerTree.layerIdx=s,i.push(a,o()),i}runIdentify(t){if(!this.canIdentify())return[];const i=new $i,r=er({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let n=Promise.resolve(),s=Promise.resolve(),o=[];if(this.identifyMode===Ui.HYBRID||this.identifyMode===Ui.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Ke.POLYGON&&t.geometry.type===Ke.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):a.filterGeometry=t.geometry,a.filterSql=this.getCombinedSqlFilter(),s=this.queryOIDs(a).then(l=>{o=l})}return t.hitTest&&(this.identifyMode===Ui.HYBRID||this.identifyMode===Ui.SYMBOLIC)&&(n=s.then(async()=>{(await t.hitTest).filter(l=>l.layerId===this.id&&o.findIndex(c=>l.oid===c)===-1).forEach(l=>{o.push(l.oid)})})),Promise.all([n,s]).then(()=>{o.forEach(a=>{r.items.push(Zp.makeOidItem(a,this))}),r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}applySqlFilter(t=[]){if(this.layerExists){const i=this.filter.getCombinedSql(t);this.esriLayer.definitionExpression=i}else this.noLayerErr()}getGraphicExtent(t){return new Promise((i,r)=>{if(!this.layerExists)this.noLayerErr(),r();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),r();else{const n=this.attribs.quickCache.getExtent(t);n?i(n):this.esriLayer.queryExtent({objectIds:[t],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(s=>{const o=Xt.fromESRI(s.extent);this.attribs.quickCache.setExtent(t,o),i(o)}).catch(()=>{console.error(`Extent querying failed for ${t}.`),r()})}})}}class jfe extends fu{isDynamic;origState;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=Pe.MAPIMAGE,this.layerFormat=wn.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=Ui.GEOMETRIC}async onInitiate(){this.esriLayer=xi(await Lt.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t);return this.origState={visibility:i.visible,opacity:i.opacity},i.visible=!1,t.imageFormat&&(i.imageFormat=t.imageFormat),i}onLoadActions(){const t=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),t;const i=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(gn.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??Xt.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const r=l=>{const c=this.esriLayer?.allSublayers.find(f=>f.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},n={};this.origRampConfig.sublayers.forEach(l=>{n[l.index||0]=l});const s=[],o=(l,c)=>{const f=l.id,d=n[f];if(l.sublayers&&l.sublayers.length>0){const p=(d?d.name:"")||l.title||"",y=new lg(f,"",p,!1);c.findChildByIdx(f)||c.children.push(y),l.sublayers.reverse().forEach(v=>{o(v,y)})}else{this._sublayers[f]||(this._sublayers[f]=new Gfe({id:`${this.id}-${f}`,index:f,layerType:Pe.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const p=this._sublayers[f];if(p.isRemoved)return;if(p.name=d?.name||l.title||"",s.push(p),!c.children.map(y=>y.layerIdx).includes(f)){const y=new lg(f,p.uid,p.name,!1);c.children.push(y)}p.esriWatches.push(l.watch("visible",()=>{this.$iApi.event.emit($e.LAYER_VISIBILITYCHANGE,{visibility:p.visibility,layer:p}),p.parentLayer?.checkVisibility()}),l.watch("opacity",y=>{this.$iApi.event.emit($e.LAYER_OPACITYCHANGE,{opacity:y,layer:p})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=r(l.index||0);o(c,this.layerTree)}});const a=s.map(async l=>{const c=r(l.layerIdx),f=n[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),i<this.lastCancel)return;const d=l.esriSubLayer&&f?.customRenderer?.type;if(d&&(l.esriSubLayer.renderer=await Lt.RendererFromJson(f.customRenderer)),await l.loadLayerMetadata(d?{customRenderer:l.esriSubLayer?.renderer}:{}),i<this.lastCancel)return;const p=n[l.layerIdx];if(p?(l.visibility=l.isRemoved?!1:p.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=p.state?.opacity??this.origState.opacity??1,l.nameField=p.nameField||l.nameField||"",this.$iApi.geo.attributes.applyFieldMetadata(l,p.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(gn.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim();const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(Pr.PERMANENT));i>this.lastCancel&&(l.featureCount=y)}});return t.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!s.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,t}updateLayerState(t,i=!1){super.updateLayerState(t,i),this.sublayers.forEach(r=>r.updateLayerState(t,i))}updateDrawState(t){super.updateDrawState(t),this.sublayers.forEach(i=>i.updateDrawState(t))}runIdentify(t){if(!this.canIdentify())return[];t.sublayerIds&&(t.sublayerIds=t.sublayerIds.map(n=>typeof n=="number"?this.layerTree?.findChildByIdx(n)?.uid:n));const i=t.sublayerIds?this._sublayers.filter(n=>t.sublayerIds?.includes(n.uid)):this._sublayers.filter(n=>n.canIdentify());if(i.length===0)return[];let r;return t.geometry.type===Ke.POINT&&(r=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance)),i.map(n=>{const s=new $i,o={},a=er({items:[],loading:s.getPromise(),loaded:!1,errored:!1,uid:n.uid,layerId:n.id,requestTime:Date.now()});return n.geomType!==Ke.POLYGON&&r?o.filterGeometry=r:o.filterGeometry=t.geometry,o.filterSql=n.getCombinedSqlFilter(),o.sourceSR=n.sourceSR,n.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(Zp.makeOidItem(c,n))}),a.loaded=!0,s.resolveMe()}).catch(()=>{a.errored=!0,s.resolveMe()}),a})}}class Gfe extends eT{tooltipField;constructor(t,i,r){if(super(t,i),this.layerType=Pe.SUBLAYER,this.layerFormat=wn.MAPIMAGE,this.isSublayer=!0,this.layerIdx=t.index,this.parentLayer=r,this.dataFormat=nr.ESRI_FEATURE,this.supportsFeatures=!0,this.tooltipField="",this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!r.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(r),(t.initialFilteredQuery||t.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(t){if(!t.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=xi(t.esriLayer.allSublayers.find(i=>i.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=Zt.INITIATED;const t=this.labelVizOverride();t!==void 0&&(this.labelVisibility=t)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===Zt.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(t){this.layerExists?this.esriSubLayer.visible=t:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(t){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=t}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(t){this.layerExists?this.parentLayer.mouseTolerance=t:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(t){this.layerExists?this.parentLayer.touchTolerance=t:this.noLayerErr()}applySqlFilter(t=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const i=this.filter.getCombinedSql(t);this.esriSubLayer.definitionExpression=i}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const t=this._parentLayer?.esriLayer?.spatialReference;return t?Ge.fromESRI(t):Ge.latLongSR()}else return this.noLayerErr(),Ge.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(t){this.layerExists?this.esriSubLayer.labelsVisible=t:this.noLayerErr()}labelVizOverride(){let t=this.origRampConfig.labels?.visible;if(t!==void 0||(t=this.$iApi.geo.map.labelsDefault?.visible,t!==void 0))return t}}class Bfe extends fu{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Pe.OSM,this.layerFormat=wn.OSM,this.dataFormat=nr.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=xi(await Lt.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),r={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:i.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(r),t}}class Vfe extends fu{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Pe.IMAGERY,this.layerFormat=wn.IMAGERY,this.dataFormat=nr.ESRI_RASTER}async onInitiate(){this.esriLayer=xi(await Lt.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=Date.now(),r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(n=>{i>this.lastCancel&&(this.legend=n)});return t.push(r),t}}class zfe extends fu{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Pe.TILE,this.layerFormat=wn.TILE,this.dataFormat=nr.ESRI_TILE}async onInitiate(){this.esriLayer=xi(await Lt.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions(),i=Date.now();this.layerTree.name=this.name;const r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(n=>{i>this.lastCancel&&(this.legend=n)});return t.push(r),t.push(this.checkProj()),t}checkProj(){const t=this.getSR(),r=this.$iApi.geo.map.getSR().isEqual(t);if(this.layerState===hi.LOADED&&!r)this.$iApi.notify.show(gn.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();else if(this.layerState===hi.ERROR&&r)this.reload();else if(this.layerState!==hi.ERROR&&!r)return this.$iApi.notify.show(gn.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject();return Promise.resolve()}}class qfe extends fu{sublayerNames;mimeType;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.layerType=Pe.WMS,this.layerFormat=wn.WMS,this.mimeType=t.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=nr.OGC_RASTER,this.identifyMode=Ui.GEOMETRIC}async onInitiate(){this.esriLayer=xi(await Lt.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t),r=t.sublayers;this.sublayerNames=r.map(s=>s.id||"error_no_wms_id");const n=r.map(s=>s.currentStyle).join();return i.customParameters={styles:n},t.url.indexOf("/geomet")!==-1&&(i.customParameters.layers=r[0].id),i}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=r=>{let n=!1;return r.forEach(s=>{this.sublayerNames.indexOf(s.name)>-1||s.sublayers&&s.sublayers.length>0&&i(s.sublayers)?n=!0:s.visible=!1}),n};return this.layerExists?i(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),t}canIdentify(){return super.canIdentify()}runIdentify(t){if(t.geometry.type!==Ke.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const i=new $i,r=er({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,t.geometry,this.mimeType).then(n=>{if(n){let s=!0,o;typeof n!="string"?o=sh.JSON:n.indexOf("Search returned no results")===-1&&n!==""?o=sh.TEXT:(s=!1,o=sh.UNKNOWN),s&&r.items.push(Zp.makeRawItem(o,n))}r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}setCustomParameter(t,i,r=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[t]=i,r&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(t,i,r){const n=this.$iApi.geo.map,s=this.esriLayer;if(!n.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!s)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=n.getExtent(),c=s.spatialReferences,f=t.join(","),d=n.esriView.toScreen(i.toESRI()),p=Math.floor(d.x),y=Math.floor(d.y),_={"application/json":"json","text/html":"text","text/plain":"text"}[r]||"text",E=n.getSR();E.wkid?o=E.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(E.latestWkid&&c.indexOf(E.latestWkid)>-1?o=E.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),s.version==="1.3"||s.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:p,J:y,STYLES:"",FORMAT:s.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:p,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const x={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:s.version,WIDTH:n.getPixelWidth(),HEIGHT:n.getPixelHeight(),QUERY_LAYERS:f,LAYERS:f,INFO_FORMAT:r},A=s.customLayerParameters;return A&&Object.keys(A).forEach(w=>{w.toLowerCase()!=="styles"&&(x[w]=A[w])}),Object.keys(x).forEach(w=>a[w]=x[w]),wi(s.url.split("?")[0],{query:a,responseType:_})}getLegendUrls(t){if(!this.layerExists)return this.noLayerErr(),[];const i=new Map;this.esriLayer.allSublayers.forEach(n=>{n.visible&&(n.legendUrl&&this.origRampConfig.sublayers?.forEach(s=>{if(s.id&&s.currentStyle&&s.id===n.name){const o=new cg(n.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==s.currentStyle&&(n.legendUrl=o.updateQuery({STYLE:s.currentStyle}))}}),i.set(n.name,n.legendUrl))});const r=t.map(n=>n.styleLegends&&n.currentStyle?n.styleLegends.find(s=>s.name===n.currentStyle).url:void 0);return r.forEach((n,s)=>{n||(r[s]=i.get(t[s].id))}),r}getWMSLayerTitle(t){if(!this.esriLayer)return"";let i;return this.esriLayer.allSublayers.some(r=>{if(r.name===t)return i=r.title,!0}),i||""}loadSymbology(){const t=Date.now(),i=this.config.sublayers,r=this.getLegendUrls(i.map(n=>({id:n.id,styleLegends:n.styleLegends,currentStyle:n.currentStyle}))).map((n,s)=>{const o=i[s].name||this.getWMSLayerTitle(i[s].id)||i[s].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(n).then(l=>{t>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=r}}class Wfe extends du{constructor(t,i){super(t,i),this.layerType=Pe.WFS}async onInitiate(){const t=Date.now(),i=new cg(this.config.url),{offset:r,limit:n}=i.queryMap,s=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(r)||0,parseInt(n)||1e3,void 0,this.config.xyInAttribs);t>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}class g9 extends y9{sourceJson;attribs;_visibility;constructor(t,i){super(t,i),this.dataFormat=nr.ESRI_FEATURE,this.layerFormat=wn.NOLAYER,this.drawState=Jr.NOT_VISUAL,this.attribs=new v9,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=t.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const t=this.sourceJson;if(t.data.length===0||t.fields.length===0)throw new Error("Data layer with no columns or now rows.");const i=t.fields.slice(),r=t.data[0].slice(),n=/ /gi;this.fields=i.map((o,a)=>{let l="",c=o;o.indexOf(" ")>-1&&(l=o,c=o.trim().replace(n,"-"),t.fields[a]=c);const f=this.$iApi.geo.layer.files.inferType(r[a]);return{name:c,alias:l,type:f,length:f===Uo.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:Uo.OID}),t.fields.push(this.oidField),t.data.forEach((o,a)=>o.push(a+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const s={batchSize:-1,sourceDataJson:t,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new Zfe(this.$iApi,s),await this.attribs.attLoader.getAttribs(),this.featureCount=t.data.length,this.origRampConfig.nameField?this.nameField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.nameField)||this.oidField:this.nameField=this.oidField,this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit($e.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==hi.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit($e.LAYER_RELOAD_END,this)},300)}onLoadActions(){const t=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(i=>{this.legend[0].svgcode=i})}],t}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,i){let r={};if(this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();r=n.features[n.oidIndex[t]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new vs(new gl,"",r)}async getIcon(t){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(t=[],i=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,this.$iApi.event.emit($e.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this}))}}class Hfe extends g9{constructor(t,i){super(t,i),this.layerType=Pe.DATAJSON}async onInitiate(){const t=Date.now();let i;if(this.origRampConfig.rawData)i=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)i=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");t>this.lastCancel&&(this.sourceJson=i,await super.onInitiate())}}class Yfe extends g9{filter;serviceUrl;constructor(t,i){super(t,i),this.layerType=Pe.DATATABLE,this.serviceUrl=t.url,this.filter=new kN(t.permanentFilteredQuery||"",t.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const t=super.onLoadActions(),i=Date.now(),n=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,s=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(a=>{if(i<this.lastCancel)return;this.name||(this.name=a.name),this.layerTree.name=this.name,this.oidField=a.objectIdField,this.nameField=this.origRampConfig.nameField||a.displayField||this.oidField,this.fields=a.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata);const l={supportsLimit:(a.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(Pr.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new b9(this.$iApi,l),this.attribs.quickCache=new _9(this.geomType)}),o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Pr.PERMANENT)).then(a=>{i>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=n,t.push(s,o),t}async getGraphic(t){let i={};const r=this.attribs.quickCache.getAttribs(t);if(r)i=r;else if(this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();i=s.features[s.oidIndex[t]]}else{const s={oid:t,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},o=await this.$iApi.geo.attributes.loadSingleFeature(s);this.attribs.quickCache.setAttribs(t,o.attributes),i=o.attributes}return new vs(new gl,"",i)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(t,i){const r=this.filter.getSql(t);i!==r&&(this.filter.setSql(t,i),this.$iApi.event.emit($e.FILTER_CHANGE,{uid:this.uid,filterKey:t}))}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[]){const i=this.filter.getCombinedSql(t);if(!i)return;const r=this.filter.sqlActiveFilters(t);let n=this.filter.getCache(r,!1);if(!n){const s={filterSql:i,includeGeometry:!1};n=this.queryOIDs(s),this.filter.setCache(n,r,!1)}return n}queryOIDs(t){const i={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(i)}async queryFeaturesDiscrete(t){return(await this.queryOIDs(t)).map(r=>({oid:r,graphic:this.getGraphic(r)}))}async queryFeatures(t){const i=await this.queryFeaturesDiscrete(t);return Promise.all(i.map(r=>r.graphic))}}class Jfe extends Pi{oidIndexer(t,i){t.features.forEach((r,n)=>{t.oidIndex[r[i]]=n})}async arcGisBatchLoad(t,i){if(i.loadAbortFlag)return[];const r=t.permanentFilter?` AND ${t.permanentFilter}`:"",n={query:{where:`${t.oidField}>${t.maxId}${r}`,outFields:t.attribs,orderByFields:t.oidField,returnGeometry:"false",f:"json"}},[s,o]=await Kc(wi(t.serviceUrl+"/query",n));if(!o)return console.error(`ArcGIS batch load error: ${t.serviceUrl}`,s),Promise.reject(new Error(`ArcGIS batch load error: ${t.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){i.loadedCount+=l;let c;if(t.supportsLimit?c=o.data.exceededTransferLimit:(t.batchSize===-1&&(t.batchSize=l),c=l>=t.batchSize),a=this.trimFeatureSetAttributes(a,t.fieldsToTrim??[]),c){t.maxId=a[l-1].attributes[t.oidField];const f=await this.arcGisBatchLoad(t,i);return i.loadAbortFlag?[]:a.concat(f)}else return i.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(t,i){t.maxId=-1,t.batchSize=-1;const n={features:(await this.arcGisBatchLoad(t,i)).map(s=>s.attributes),oidIndex:{}};return this.oidIndexer(n,t.oidField),i.loadIsDone=!0,n}async loadGraphicsAttributes(t,i){if(!t.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const n={features:t.sourceGraphics.map(s=>Ve(s).attributes).toArray(),oidIndex:{}};return this.oidIndexer(n,t.oidField),i.loadIsDone=!0,i.loadedCount=n.features.length,n}async loadCompactJsonAttributes(t,i){if(!t.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const r=t.sourceDataJson.fields,n=t.fieldsToTrim??[],o={features:t.sourceDataJson.data.map(a=>{const l={};return a.forEach((c,f)=>{l[r[f]]=typeof c=="string"&&n.includes(r[f])?c.trim():c}),l}),oidIndex:{}};return this.oidIndexer(o,t.oidField),i.loadIsDone=!0,i.loadedCount=o.features.length,t.sourceDataJson=void 0,o}async loadSingleFeature(t){const i={query:{f:"json",objectIds:t.oid,returnGeometry:t.includeGeometry,outFields:t.attribs}};typeof t.maxOffset<"u"&&(i.query.maxAllowableOffset=t.maxOffset),typeof t.mapSR<"u"&&(i.query.outSR=t.mapSR),typeof t.geometryPrecision<"u"&&t.geometryPrecision>=0&&(i.query.geometryPrecision=t.geometryPrecision);const[r,n]=await Kc(wi(t.serviceUrl+"/query",i));if(!n)return console.error(`ArcGIS single feature load error: ${t.serviceUrl}`,r),Promise.reject(new Error(`ArcGIS single feature load error: ${t.serviceUrl}`));if(!n.data||!n.data.features)return console.error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`));const s=n.data.features;if(s.length>0){let o;const a=this.trimFeatureSetAttributes([s[0]],t.fieldsToTrim??[])[0];if(t.includeGeometry){a.geometry.spatialReference=n.data.spatialReference;const l=sx(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new gl;return new vs(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`))}trimFeatureSetAttributes(t,i){return i.forEach(r=>{t.forEach(n=>{typeof n.attributes[r]=="string"&&(n.attributes[r]=n.attributes[r].trim())})}),t}orderFields(t,i){const r=(s,o)=>s.findIndex(a=>a.name===o),n=(s,o)=>{const a=r(i,s.name),l=r(i,o.name);return a===-1&&l===-1?r(t,s.name)-r(t,o.name):a===-1?1:l===-1?-1:a-l};return t.slice().sort(n)}applyFieldMetadata(t,i=void 0){if(!i||!i.fieldInfo){t.fieldList="*";return}const r=i.fieldInfo.filter(n=>n.trim).map(n=>n.name);if(t.fields.forEach(n=>{r.includes(n.name)&&(n.trim=!0)}),i?.enforceOrder&&i?.fieldInfo&&i?.fieldInfo.length>0&&(t.fields=this.orderFields(t.fields,i.fieldInfo),t.fieldList=i.fieldInfo.map(n=>n.name).join(",")),i.exclusiveFields){i.fieldInfo.find(s=>s.name===t.oidField)||i.fieldInfo.push({name:t.oidField}),t.fieldList=i.fieldInfo.map(s=>s.name).join(",");const n=i.fieldInfo;t.fields=t.fields.filter(s=>n.find(o=>o.name===s.name))}else t.fieldList="*";i.fieldInfo.forEach(n=>{if(n.alias){const s=t.fields.find(o=>o.name===n.name);s&&(s.alias=n.alias)}})}fieldValidator(t,i){if(t.findIndex(r=>r.name===i)===-1){const r=t.find(n=>n.alias===i);return r?r.name:(console.warn(`Cannot find name field in layer field list: ${i}`),"")}else return i}async generateTabularAttributes(t,i){return i.attLoader.tabularAttributesCache||(i.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(t,i)),i.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(t,i){if(t.dataFormat===nr.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const r=await i.attLoader.getAttribs();if(!r.features||r.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const n=t.fields.filter(o=>Object.prototype.hasOwnProperty.call(r.features[0],Ve(o).name)).map(o=>({data:Ve(o).name,title:Ve(o).alias||Ve(o).name})),s=r.features.map(o=>{const a=RN({},o);return a.rvInteractive="",a.rvSymbol=t.getIcon(o[t.oidField]),a.rvUid=t.uid,a});return n.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);s.forEach(c=>{c[l]=a})}}),{columns:n,rows:s,fields:t.fields,oidField:t.oidField}}}class v9{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(t){this._attribLoader=t}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(t){this._quickCache=t}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class MO{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class tT extends Pi{aac;loadPromise;details;tabularAttributesCache;constructor(t,i){super(t),this.aac=new MO,this.details=i}updateFieldList(t){this.details.attribs=t}updateFieldsToTrim(t){this.details.fieldsToTrim=t}getAttribs(){return this.loadPromise||(this.aac=new MO,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class b9 extends tT{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class Kfe extends tT{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class Zfe extends tT{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class _9{attribs;geoms;extents;isPoint;constructor(t){this.attribs={},this.geoms={},this.extents={},this.isPoint=t===Ke.POINT||t===Ke.MULTIPOINT}getScaleStore(t){return this.geoms[t]||(this.geoms[t]={}),this.geoms[t]}getGeomStore(t=void 0){if(this.isPoint)return this.geoms;if(typeof t>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(t)}getAttribs(t){return this.attribs[t]}setAttribs(t,i){this.attribs[t]=i}getGeom(t,i=void 0){return this.getGeomStore(i)[t]}setGeom(t,i,r=void 0){const n=this.getGeomStore(r);n[t]=i}getExtent(t){return this.extents[t]}setExtent(t,i){this.extents[t]=i}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class iT{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(t,i,r=!1){this.innerRenderer=t,this.symbolUnits=[],this.falseRenderer=r,this.type=f1.Unknown}makeSearchParams(t){return t}searchRenderer(t){const i=this.makeSearchParams(t),r=this.symbolUnits.find(s=>s.match(i));if(r)return r;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${i}`);const n=new Fv(this);return n.svgCode="",n}getGraphicIcon(t){return this.searchRenderer(t).svgCode}getGraphicSymbol(t){return this.searchRenderer(t).symbol}getFieldDelimiter(t,i){let r="'";if(!i||i.length===0)return r;const n=i.find(s=>s.name===t);return n&&n.type&&n.type!=="string"&&(r=""),r}cleanFieldName(t,i){if(!t)return t;let r=i.find(n=>n.name===t);if(r)return t;{const n=t.toLowerCase();return r=i.find(s=>s.name.toLowerCase()===n),r?r.name:t}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(i=>i.definitionClause).join(" OR ")}))`}}class Fv{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(t){this.parent=t,this.symbol=new po}match(t){return!!t}}class Xfe extends iT{constructor(t,i){super(t,i),this.type=f1.Simple;const r=new Fv(this);r.label=t.label||"",r.symbol=t.symbol,r.definitionClause="",this.symbolUnits.push(r)}}class Qfe extends iT{delim;keyFields;constructor(t,i,r=!1){super(t,i,r),this.type=f1.Unique,this.delim=t.fieldDelimiter||", ";const n=o=>o.replace(/'/g,"''");this.keyFields=[t.field,t.field2,t.field3].filter(o=>o).map(o=>this.cleanFieldName(o,i));const s=this.keyFields.map(o=>this.getFieldDelimiter(o,i));if(t.uniqueValueInfos.forEach(o=>{const a=new IO(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((f,d)=>l[d]==="<Null>"?`${f} IS NULL`:`${f} = ${s[d]}${n(l[d])}${s[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),t.defaultSymbol){const o=new IO(this,"");o.isDefault=!0,o.label=t.defaultLabel||"",o.symbol=t.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(t){return this.keyFields.map(i=>{let r=t[i]===null?"":t[i];return typeof r!="string"&&(r=r.toString()),r}).join(this.delim)}}class IO extends Fv{matchValue;constructor(t,i){super(t),typeof i=="number"?this.matchValue=i.toString():this.matchValue=i}match(t){return this.matchValue===t}}class ede extends iT{valField;constructor(t,i,r=!1){if(super(t,i,r),this.valField=this.cleanFieldName(t.field,i),t.classBreakInfos.forEach((n,s)=>{const o=s===0,a=new OO(this,n.minValue,n.maxValue,o);a.label=n.label||"",a.symbol=n.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${n.minValue} AND ${this.valField} <= ${n.maxValue})`),this.symbolUnits.push(a)}),t.defaultSymbol){const n=new OO(this,0,0,!1);n.isDefault=!0,n.label=t.defaultLabel||"",n.symbol=t.defaultSymbol,n.definitionClause=this.makeElseClause(),this.defaultUnit=n}}makeSearchParams(t){return parseFloat(t[this.valField])}}class OO extends Fv{minValue;maxValue;firstBreak;constructor(t,i,r,n){super(t),this.minValue=i,this.maxValue=r,this.firstBreak=n}match(t){return this.minValue===this.maxValue?this.maxValue===t:this.firstBreak?this.minValue<=t&&this.maxValue>=t:this.minValue<t&&this.maxValue>=t}}var Ny={exports:{}};/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.7.1
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)
*/var tde=Ny.exports,$O;function ide(){return $O||($O=1,function(e,t){(function(i,r){e.exports=i.document?r(i,i.document):function(n){return r(n,n.document)}})(typeof window<"u"?window:tde,function(i,r){var n=typeof this<"u"?this:i,s=n.SVG=function(h){if(s.supported)return h=new s.Doc(h),s.parser.draw||s.prepare(),h};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.com/svgjs",s.supported=function(){return!!r.createElementNS&&!!r.createElementNS(s.ns,"svg").createSVGRect}(),!s.supported)return!1;s.did=1e3,s.eid=function(h){return"Svgjs"+E(h)+s.did++},s.create=function(h){var m=r.createElementNS(this.ns,h);return m.setAttribute("id",this.eid(h)),m},s.extend=function(){var h,m,S,$;for(h=[].slice.call(arguments),m=h.pop(),$=h.length-1;$>=0;$--)if(h[$])for(S in m)h[$].prototype[S]=m[S];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(h){var m=typeof h.create=="function"?h.create:function(){this.constructor.call(this,s.create(h.create))};return h.inherit&&(m.prototype=new h.inherit),h.extend&&s.extend(m,h.extend),h.construct&&s.extend(h.parent||s.Container,h.construct),m},s.adopt=function(h){if(!h)return null;if(h.instance)return h.instance;var m;return h.nodeName=="svg"?m=h.parentNode instanceof i.SVGElement?new s.Nested:new s.Doc:h.nodeName=="linearGradient"?m=new s.Gradient("linear"):h.nodeName=="radialGradient"?m=new s.Gradient("radial"):s[E(h.nodeName)]?m=new s[E(h.nodeName)]:m=new s.Element(h),m.type=h.nodeName,m.node=h,h.instance=m,m instanceof s.Doc&&m.namespace().defs(),m.setData(JSON.parse(h.getAttribute("svgjs:data"))||{}),m},s.prepare=function(){var h=r.getElementsByTagName("body")[0],m=(h?new s.Doc(h):s.adopt(r.documentElement).nested()).size(2,0);s.parser={body:h||r.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},r.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(h,m){var S,$=h.length,B=[];for(S=0;S<$;S++)B.push(m(h[S]));return B},filter:function(h,m){var S,$=h.length,B=[];for(S=0;S<$;S++)m(h[S])&&B.push(h[S]);return B},radians:function(h){return h%360*Math.PI/180},degrees:function(h){return h*180/Math.PI%360},filterSVGElements:function(h){return this.filter(h,function(m){return m instanceof i.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(h){var m;this.r=0,this.g=0,this.b=0,h&&(typeof h=="string"?s.regex.isRgb.test(h)?(m=s.regex.rgb.exec(h.replace(s.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):s.regex.isHex.test(h)&&(m=s.regex.hex.exec(x(h)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof h=="object"&&(this.r=h.r,this.g=h.g,this.b=h.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+A(this.r)+A(this.g)+A(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(h){return this.destination=new s.Color(h),this},at:function(h){return this.destination?(h=h<0?0:h>1?1:h,new s.Color({r:~~(this.r+(this.destination.r-this.r)*h),g:~~(this.g+(this.destination.g-this.g)*h),b:~~(this.b+(this.destination.b-this.b)*h)})):this}}),s.Color.test=function(h){return h+="",s.regex.isHex.test(h)||s.regex.isRgb.test(h)},s.Color.isRgb=function(h){return h&&typeof h.r=="number"&&typeof h.g=="number"&&typeof h.b=="number"},s.Color.isColor=function(h){return s.Color.isRgb(h)||s.Color.test(h)},s.Array=function(h,m){h=(h||[]).valueOf(),h.length==0&&m&&(h=m.valueOf()),this.value=this.parse(h)},s.extend(s.Array,{morph:function(h){if(this.destination=this.parse(h),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],S=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(S);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var h=0,m=this.value.length,S=[];h<m;h++)S.indexOf(this.value[h])==-1&&S.push(this.value[h]);return this.value=S},at:function(h){if(!this.destination)return this;for(var m=0,S=this.value.length,$=[];m<S;m++)$.push(this.value[m]+(this.destination[m]-this.value[m])*h);return new s.Array($)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(h){return h=h.valueOf(),Array.isArray(h)?h:this.split(h)},split:function(h){return h.trim().split(s.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var h=new this.constructor;return h.value=p(this.value),h}}),s.PointArray=function(h,m){s.Array.call(this,h,m||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray,s.extend(s.PointArray,{toString:function(){for(var h=0,m=this.value.length,S=[];h<m;h++)S.push(this.value[h].join(","));return S.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(h){if(!this.destination)return this;for(var m=0,S=this.value.length,$=[];m<S;m++)$.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*h,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*h]);return new s.PointArray($)},parse:function(h){var m=[];if(h=h.valueOf(),Array.isArray(h)){if(Array.isArray(h[0]))return h.map(function(B){return B.slice()});if(h[0].x!=null)return h.map(function(B){return[B.x,B.y]})}else h=h.trim().split(s.regex.delimiter).map(parseFloat);h.length%2!==0&&h.pop();for(var S=0,$=h.length;S<$;S=S+2)m.push([h[S],h[S+1]]);return m},move:function(h,m){var S=this.bbox();if(h-=S.x,m-=S.y,!isNaN(h)&&!isNaN(m))for(var $=this.value.length-1;$>=0;$--)this.value[$]=[this.value[$][0]+h,this.value[$][1]+m];return this},size:function(h,m){var S,$=this.bbox();for(S=this.value.length-1;S>=0;S--)$.width&&(this.value[S][0]=(this.value[S][0]-$.x)*h/$.width+$.x),$.height&&(this.value[S][1]=(this.value[S][1]-$.y)*m/$.height+$.y);return this},bbox:function(){return s.parser.poly.setAttribute("points",this.toString()),s.parser.poly.getBBox()}});for(var o={M:function(h,m,S){return m.x=S.x=h[0],m.y=S.y=h[1],["M",m.x,m.y]},L:function(h,m){return m.x=h[0],m.y=h[1],["L",h[0],h[1]]},H:function(h,m){return m.x=h[0],["H",h[0]]},V:function(h,m){return m.y=h[0],["V",h[0]]},C:function(h,m){return m.x=h[4],m.y=h[5],["C",h[0],h[1],h[2],h[3],h[4],h[5]]},S:function(h,m){return m.x=h[2],m.y=h[3],["S",h[0],h[1],h[2],h[3]]},Q:function(h,m){return m.x=h[2],m.y=h[3],["Q",h[0],h[1],h[2],h[3]]},T:function(h,m){return m.x=h[0],m.y=h[1],["T",h[0],h[1]]},Z:function(h,m,S){return m.x=S.x,m.y=S.y,["Z"]},A:function(h,m){return m.x=h[5],m.y=h[6],["A",h[0],h[1],h[2],h[3],h[4],h[5],h[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(h){return function(m,S,$){if(h=="H")m[0]=m[0]+S.x;else if(h=="V")m[0]=m[0]+S.y;else if(h=="A")m[5]=m[5]+S.x,m[6]=m[6]+S.y;else for(var B=0,Y=m.length;B<Y;++B)m[B]=m[B]+(B%2?S.y:S.x);return o[h](m,S,$)}}(a[l].toUpperCase());s.PathArray=function(h,m){s.Array.call(this,h,m||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return P(this.value)},move:function(h,m){var S=this.bbox();if(h-=S.x,m-=S.y,!isNaN(h)&&!isNaN(m))for(var $,B=this.value.length-1;B>=0;B--)$=this.value[B][0],$=="M"||$=="L"||$=="T"?(this.value[B][1]+=h,this.value[B][2]+=m):$=="H"?this.value[B][1]+=h:$=="V"?this.value[B][1]+=m:$=="C"||$=="S"||$=="Q"?(this.value[B][1]+=h,this.value[B][2]+=m,this.value[B][3]+=h,this.value[B][4]+=m,$=="C"&&(this.value[B][5]+=h,this.value[B][6]+=m)):$=="A"&&(this.value[B][6]+=h,this.value[B][7]+=m);return this},size:function(h,m){var S,$,B=this.bbox();for(S=this.value.length-1;S>=0;S--)$=this.value[S][0],$=="M"||$=="L"||$=="T"?(this.value[S][1]=(this.value[S][1]-B.x)*h/B.width+B.x,this.value[S][2]=(this.value[S][2]-B.y)*m/B.height+B.y):$=="H"?this.value[S][1]=(this.value[S][1]-B.x)*h/B.width+B.x:$=="V"?this.value[S][1]=(this.value[S][1]-B.y)*m/B.height+B.y:$=="C"||$=="S"||$=="Q"?(this.value[S][1]=(this.value[S][1]-B.x)*h/B.width+B.x,this.value[S][2]=(this.value[S][2]-B.y)*m/B.height+B.y,this.value[S][3]=(this.value[S][3]-B.x)*h/B.width+B.x,this.value[S][4]=(this.value[S][4]-B.y)*m/B.height+B.y,$=="C"&&(this.value[S][5]=(this.value[S][5]-B.x)*h/B.width+B.x,this.value[S][6]=(this.value[S][6]-B.y)*m/B.height+B.y)):$=="A"&&(this.value[S][1]=this.value[S][1]*h/B.width,this.value[S][2]=this.value[S][2]*m/B.height,this.value[S][6]=(this.value[S][6]-B.x)*h/B.width+B.x,this.value[S][7]=(this.value[S][7]-B.y)*m/B.height+B.y);return this},equalCommands:function(h){var m,S,$;for(h=new s.PathArray(h),$=this.value.length===h.value.length,m=0,S=this.value.length;$&&m<S;m++)$=this.value[m][0]===h.value[m][0];return $},morph:function(h){return h=new s.PathArray(h),this.equalCommands(h)?this.destination=h:this.destination=null,this},at:function(h){if(!this.destination)return this;var m=this.value,S=this.destination.value,$=[],B=new s.PathArray,Y,pe,ae,Me;for(Y=0,pe=m.length;Y<pe;Y++){for($[Y]=[m[Y][0]],ae=1,Me=m[Y].length;ae<Me;ae++)$[Y][ae]=m[Y][ae]+(S[Y][ae]-m[Y][ae])*h;$[Y][0]==="A"&&($[Y][4]=+($[Y][4]!=0),$[Y][5]=+($[Y][5]!=0))}return B.value=$,B},parse:function(h){if(h instanceof s.PathArray)return h.valueOf();var m,$,S={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof h=="string"?h=h.replace(s.regex.numbersWithDots,d).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):h=h.reduce(function(Me,je){return[].concat.call(Me,je)},[]);var $=[],B=new s.Point,Y=new s.Point,pe=0,ae=h.length;do s.regex.isPathLetter.test(h[pe])?(m=h[pe],++pe):m=="M"?m="L":m=="m"&&(m="l"),$.push(o[m].call(null,h.slice(pe,pe=pe+S[m.toUpperCase()]).map(parseFloat),B,Y));while(ae>pe);return $},bbox:function(){return s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(h,m){this.value=0,this.unit=m||"",typeof h=="number"?this.value=isNaN(h)?0:isFinite(h)?h:h<0?-34e37:34e37:typeof h=="string"?(m=h.match(s.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):h instanceof s.Number&&(this.value=h.valueOf(),this.unit=h.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(h){return h=new s.Number(h),new s.Number(this+h,this.unit||h.unit)},minus:function(h){return h=new s.Number(h),new s.Number(this-h,this.unit||h.unit)},times:function(h){return h=new s.Number(h),new s.Number(this*h,this.unit||h.unit)},divide:function(h){return h=new s.Number(h),new s.Number(this/h,this.unit||h.unit)},to:function(h){var m=new s.Number(this);return typeof h=="string"&&(m.unit=h),m},morph:function(h){return this.destination=new s.Number(h),h.relative&&(this.destination.value+=this.value),this},at:function(h){return this.destination?new s.Number(this.destination).minus(this).times(h).plus(this):this}}}),s.Element=s.invent({create:function(h){this._stroke=s.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=h)&&(this.type=h.nodeName,this.node.instance=this,this._events=h._events||{},this._stroke=h.getAttribute("stroke")||this._stroke)},extend:{x:function(h){return this.attr("x",h)},y:function(h){return this.attr("y",h)},cx:function(h){return h==null?this.x()+this.width()/2:this.x(h-this.width()/2)},cy:function(h){return h==null?this.y()+this.height()/2:this.y(h-this.height()/2)},move:function(h,m){return this.x(h).y(m)},center:function(h,m){return this.cx(h).cy(m)},width:function(h){return this.attr("width",h)},height:function(h){return this.attr("height",h)},size:function(h,m){var S=w(this,h,m);return this.width(new s.Number(S.width)).height(new s.Number(S.height))},clone:function(h){this.writeDataToDom();var m=N(this.node.cloneNode(!0));return h?h.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(h){return this.after(h).remove(),h},addTo:function(h){return h.put(this)},putIn:function(h){return h.add(this)},id:function(h){return this.attr("id",h)},inside:function(h,m){var S=this.bbox();return h>S.x&&m>S.y&&h<S.x+S.width&&m<S.y+S.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var h=this.attr("class");return h==null?[]:h.trim().split(s.regex.delimiter)},hasClass:function(h){return this.classes().indexOf(h)!=-1},addClass:function(h){if(!this.hasClass(h)){var m=this.classes();m.push(h),this.attr("class",m.join(" "))}return this},removeClass:function(h){return this.hasClass(h)&&this.attr("class",this.classes().filter(function(m){return m!=h}).join(" ")),this},toggleClass:function(h){return this.hasClass(h)?this.removeClass(h):this.addClass(h)},reference:function(h){return s.get(this.attr(h))},parent:function(h){var m=this;if(!m.node.parentNode)return null;if(m=s.adopt(m.node.parentNode),!h)return m;for(;m&&m.node instanceof i.SVGElement;){if(typeof h=="string"?m.matches(h):m instanceof h)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=s.adopt(m.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(h){var m=[],S=this;do{if(S=S.parent(h),!S||!S.node)break;m.push(S)}while(S.parent);return m},matches:function(h){return v(this.node,h)},native:function(){return this.node},svg:function(h){var m=r.createElement("svg");if(h&&this instanceof s.Parent){m.innerHTML="<svg>"+h.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var S=0,$=m.firstChild.childNodes.length;S<$;S++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(h=r.createElement("svg")),this.writeDataToDom(),h.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var h=this.each?this:this.lines();h.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(h){return this.dom=h,this},is:function(h){return y(this,h)}}}),s.easing={"-":function(h){return h},"<>":function(h){return-Math.cos(h*Math.PI)/2+.5},">":function(h){return Math.sin(h*Math.PI/2)},"<":function(h){return-Math.cos(h*Math.PI/2)+1}},s.morph=function(h){return function(m,S){return new s.MorphObj(m,S).at(h)}},s.Situation=s.invent({create:function(h){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(h.duration).valueOf(),this.delay=new s.Number(h.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=h.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(h){this._target=h,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(h,m,S){typeof h=="object"&&(m=h.ease,S=h.delay,h=h.duration);var $=new s.Situation({duration:h||1e3,delay:S||0,ease:s.easing[m||"-"]||m});return this.queue($),this},delay:function(h){var m=new s.Situation({duration:h,delay:0,ease:s.easing["-"]});return this.queue(m)},target:function(h){return h&&h instanceof s.Element?(this._target=h,this):this._target},timeToAbsPos:function(h){return(h-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(h){return this.situation.duration/this._speed*h+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=i.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){i.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(h){return(typeof h=="function"||h instanceof s.Situation)&&this.situations.push(h),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var h,m,S,$=this.situation;if($.init)return this;for(h in $.animations)for(S=this.target()[h](),Array.isArray(S)||(S=[S]),Array.isArray($.animations[h])||($.animations[h]=[$.animations[h]]),m=S.length;m--;)$.animations[h][m]instanceof s.Number&&(S[m]=new s.Number(S[m])),$.animations[h][m]=S[m].morph($.animations[h][m]);for(h in $.attrs)$.attrs[h]=new s.MorphObj(this.target().attr(h),$.attrs[h]);for(h in $.styles)$.styles[h]=new s.MorphObj(this.target().style(h),$.styles[h]);return $.initialTransformation=this.target().matrixify(),$.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(h,m){var S=this.active;return this.active=!1,m&&this.clearQueue(),h&&this.situation&&(!S&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var h=this.situation;this.stop(),this.situation=h,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(h,m){var S=this.situation.duration/this._speed;return this.absPos=h,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*S,this.situation.finish=this.situation.start+S,this.step(!0)},speed:function(h){return h===0?this.pause():h?(this._speed=h,this.at(this.absPos,!0)):this._speed},loop:function(h,m){var S=this.last();return S.loops=h??!0,S.loop=0,m&&(S.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(h){var m=this.last();return typeof h>"u"?m.reversed=!m.reversed:m.reversed=h,this},progress:function(h){return h?this.situation.ease(this.pos):this.pos},after:function(h){var m=this.last(),S=function $(B){B.detail.situation==m&&(h.call(this,m),this.off("finished.fx",$))};return this.target().on("finished.fx",S),this._callStart()},during:function(h){var m=this.last(),S=function($){$.detail.situation==m&&h.call(this,$.detail.pos,s.morph($.detail.pos),$.detail.eased,m)};return this.target().off("during.fx",S).on("during.fx",S),this.after(function(){this.off("during.fx",S)}),this._callStart()},afterAll:function(h){var m=function S($){h.call(this),this.off("allfinished.fx",S)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(h){var m=function(S){h.call(this,S.detail.pos,s.morph(S.detail.pos),S.detail.eased,S.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(h,m,S){return this.last()[S||"animations"][h]=m,this._callStart()},step:function(h){if(h||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,S,$;m=Math.max(this.absPos,0),S=Math.floor(m),this.situation.loops===!0||S<this.situation.loops?(this.pos=m-S,$=this.situation.loop,this.situation.loop=S):(this.absPos=this.situation.loops,this.pos=1,$=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-$)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var B=this.situation.ease(this.pos);for(var Y in this.situation.once)Y>this.lastPos&&Y<=B&&(this.situation.once[Y].call(this.target(),this.pos,B),delete this.situation.once[Y]);return this.active&&this.target().fire("during",{pos:this.pos,eased:B,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=B,this):this},eachAt:function(){var h,m,S,$=this,B=this.target(),Y=this.situation;for(h in Y.animations)S=[].concat(Y.animations[h]).map(function(ae){return typeof ae!="string"&&ae.at?ae.at(Y.ease($.pos),$.pos):ae}),B[h].apply(B,S);for(h in Y.attrs)S=[h].concat(Y.attrs[h]).map(function(ae){return typeof ae!="string"&&ae.at?ae.at(Y.ease($.pos),$.pos):ae}),B.attr.apply(B,S);for(h in Y.styles)S=[h].concat(Y.styles[h]).map(function(ae){return typeof ae!="string"&&ae.at?ae.at(Y.ease($.pos),$.pos):ae}),B.style.apply(B,S);if(Y.transforms.length){for(S=Y.initialTransformation,h=0,m=Y.transforms.length;h<m;h++){var pe=Y.transforms[h];if(pe instanceof s.Matrix){pe.relative?S=S.multiply(new s.Matrix().morph(pe).at(Y.ease(this.pos))):S=S.morph(pe).at(Y.ease(this.pos));continue}pe.relative||pe.undo(S.extract()),S=S.multiply(pe.at(Y.ease(this.pos)))}B.matrix(S)}return this},once:function(h,m,S){var $=this.last();return S||(h=$.ease(h)),$.once[h]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:s.Element,construct:{animate:function(h,m,S){return(this.fx||(this.fx=new s.FX(this))).animate(h,m,S)},delay:function(h){return(this.fx||(this.fx=new s.FX(this))).delay(h)},stop:function(h,m){return this.fx&&this.fx.stop(h,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(h){if(this.fx){if(h==null)return this.fx.speed();this.fx.speed(h)}return this}}}),s.MorphObj=s.invent({create:function(h,m){if(s.Color.isColor(m))return new s.Color(h).morph(m);if(s.regex.delimiter.test(h))return s.regex.pathLetters.test(h)?new s.PathArray(h).morph(m):new s.Array(h).morph(m);if(s.regex.numberAndUnit.test(m))return new s.Number(h).morph(m);this.value=h,this.destination=m},extend:{at:function(h,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(h,m,S){if(typeof h=="object")for(var $ in h)this.attr($,h[$]);else this.add(h,m,"attrs");return this},style:function(h,m){if(typeof h=="object")for(var S in h)this.style(S,h[S]);else this.add(h,m,"styles");return this},x:function(h,m){if(this.target()instanceof s.G)return this.transform({x:h},m),this;var S=new s.Number(h);return S.relative=m,this.add("x",S)},y:function(h,m){if(this.target()instanceof s.G)return this.transform({y:h},m),this;var S=new s.Number(h);return S.relative=m,this.add("y",S)},cx:function(h){return this.add("cx",new s.Number(h))},cy:function(h){return this.add("cy",new s.Number(h))},move:function(h,m){return this.x(h).y(m)},center:function(h,m){return this.cx(h).cy(m)},size:function(h,m){if(this.target()instanceof s.Text)this.attr("font-size",h);else{var S;(!h||!m)&&(S=this.target().bbox()),h||(h=S.width/S.height*m),m||(m=S.height/S.width*h),this.add("width",new s.Number(h)).add("height",new s.Number(m))}return this},width:function(h){return this.add("width",new s.Number(h))},height:function(h){return this.add("height",new s.Number(h))},plot:function(h,m,S,$){return arguments.length==4?this.plot([h,m,S,$]):this.add("plot",new(this.target()).morphArray(h))},leading:function(h){return this.target().leading?this.add("leading",new s.Number(h)):this},viewbox:function(h,m,S,$){return this.target()instanceof s.Container&&this.add("viewbox",new s.ViewBox(h,m,S,$)),this},update:function(h){if(this.target()instanceof s.Stop){if(typeof h=="number"||h instanceof s.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",h.offset)}return this}}),s.Box=s.invent({create:function(h,m,S,$){if(typeof h=="object"&&!(h instanceof s.Element))return s.Box.call(this,h.left!=null?h.left:h.x,h.top!=null?h.top:h.y,h.width,h.height);arguments.length==4&&(this.x=h,this.y=m,this.width=S,this.height=$),U(this)},extend:{merge:function(h){var m=new this.constructor;return m.x=Math.min(this.x,h.x),m.y=Math.min(this.y,h.y),m.width=Math.max(this.x+this.width,h.x+h.width)-m.x,m.height=Math.max(this.y+this.height,h.y+h.height)-m.y,U(m)},transform:function(h){var m=1/0,S=-1/0,$=1/0,B=-1/0,Y,pe=[new s.Point(this.x,this.y),new s.Point(this.x2,this.y),new s.Point(this.x,this.y2),new s.Point(this.x2,this.y2)];return pe.forEach(function(ae){ae=ae.transform(h),m=Math.min(m,ae.x),S=Math.max(S,ae.x),$=Math.min($,ae.y),B=Math.max(B,ae.y)}),Y=new this.constructor,Y.x=m,Y.width=S-m,Y.y=$,Y.height=B-$,U(Y),Y}}}),s.BBox=s.invent({create:function(h){if(s.Box.apply(this,[].slice.call(arguments)),h instanceof s.Element){var m;try{if(r.documentElement.contains){if(!r.documentElement.contains(h.node))throw new Exception("Element not in the dom")}else{for(var S=h.node;S.parentNode;)S=S.parentNode;if(S!=r)throw new Exception("Element not in the dom")}m=h.node.getBBox()}catch{if(h instanceof s.Shape){var $=h.clone(s.parser.draw.instance).show();m=$.node.getBBox(),$.remove()}else m={x:h.node.clientLeft,y:h.node.clientTop,width:h.node.clientWidth,height:h.node.clientHeight}}s.Box.call(this,m)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.extend(s.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),s.RBox=s.invent({create:function(h){s.Box.apply(this,[].slice.call(arguments)),h instanceof s.Element&&s.Box.call(this,h.node.getBoundingClientRect())},inherit:s.Box,parent:s.Element,extend:{addOffset:function(){return this.x+=i.pageXOffset,this.y+=i.pageYOffset,this}},construct:{rbox:function(h){return h?new s.RBox(this).transform(h.screenCTM().inverse()):new s.RBox(this).addOffset()}}}),s.RBox.prototype.constructor=s.RBox,s.Matrix=s.invent({create:function(h){var m,S=M([1,0,0,1,0,0]);for(h=h instanceof s.Element?h.matrixify():typeof h=="string"?M(h.split(s.regex.delimiter).map(parseFloat)):arguments.length==6?M([].slice.call(arguments)):Array.isArray(h)?M(h):typeof h=="object"?h:S,m=q.length-1;m>=0;--m)this[q[m]]=h[q[m]]!=null?h[q[m]]:S[q[m]]},extend:{extract:function(){var h=b(this,0,1),m=b(this,1,0),S=180/Math.PI*Math.atan2(h.y,h.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(S*Math.PI/180)+this.f*Math.sin(S*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(S*Math.PI/180)+this.e*Math.sin(-S*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-S,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:S,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(h){return this.destination=new s.Matrix(h),this},at:function(h){if(!this.destination)return this;var m=new s.Matrix({a:this.a+(this.destination.a-this.a)*h,b:this.b+(this.destination.b-this.b)*h,c:this.c+(this.destination.c-this.c)*h,d:this.d+(this.destination.d-this.d)*h,e:this.e+(this.destination.e-this.e)*h,f:this.f+(this.destination.f-this.f)*h});return m},multiply:function(h){return new s.Matrix(this.native().multiply(I(h).native()))},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(h,m){return new s.Matrix(this.native().translate(h||0,m||0))},scale:function(h,m,S,$){return arguments.length==1?m=h:arguments.length==3&&($=S,S=m,m=h),this.around(S,$,new s.Matrix(h,0,0,m,0,0))},rotate:function(h,m,S){return h=s.utils.radians(h),this.around(m,S,new s.Matrix(Math.cos(h),Math.sin(h),-Math.sin(h),Math.cos(h),0,0))},flip:function(h,m){return h=="x"?this.scale(-1,1,m,0):h=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,h,m??h)},skew:function(h,m,S,$){return arguments.length==1?m=h:arguments.length==3&&($=S,S=m,m=h),h=s.utils.radians(h),m=s.utils.radians(m),this.around(S,$,new s.Matrix(1,Math.tan(m),Math.tan(h),1,0,0))},skewX:function(h,m,S){return this.skew(h,0,m,S)},skewY:function(h,m,S){return this.skew(0,h,m,S)},around:function(h,m,S){return this.multiply(new s.Matrix(1,0,0,1,h||0,m||0)).multiply(S).multiply(new s.Matrix(1,0,0,1,-h||0,-m||0))},native:function(){for(var h=s.parser.native.createSVGMatrix(),m=q.length-1;m>=0;m--)h[q[m]]=this[q[m]];return h},toString:function(){return"matrix("+F(this.a)+","+F(this.b)+","+F(this.c)+","+F(this.d)+","+F(this.e)+","+F(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var h=this.rect(1,1),m=h.node.getScreenCTM();return h.remove(),new s.Matrix(m)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(h,m){var S,$={x:0,y:0};S=Array.isArray(h)?{x:h[0],y:h[1]}:typeof h=="object"?{x:h.x,y:h.y}:h!=null?{x:h,y:m??h}:$,this.x=S.x,this.y=S.y},extend:{clone:function(){return new s.Point(this)},morph:function(h,m){return this.destination=new s.Point(h,m),this},at:function(h){if(!this.destination)return this;var m=new s.Point({x:this.x+(this.destination.x-this.x)*h,y:this.y+(this.destination.y-this.y)*h});return m},native:function(){var h=s.parser.native.createSVGPoint();return h.x=this.x,h.y=this.y,h},transform:function(h){return new s.Point(this.native().matrixTransform(h.native()))}}}),s.extend(s.Element,{point:function(h,m){return new s.Point(h,m).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(h,m,S){if(h==null){for(h={},m=this.node.attributes,S=m.length-1;S>=0;S--)h[m[S].nodeName]=s.regex.isNumber.test(m[S].nodeValue)?parseFloat(m[S].nodeValue):m[S].nodeValue;return h}else if(typeof h=="object")for(m in h)this.attr(m,h[m]);else if(m===null)this.node.removeAttribute(h);else{if(m==null)return m=this.node.getAttribute(h),m==null?s.defaults.attrs[h]:s.regex.isNumber.test(m)?parseFloat(m):m;h=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):h=="stroke"&&(this._stroke=m),(h=="fill"||h=="stroke")&&(s.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof s.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new s.Number(m):s.Color.isColor(m)?m=new s.Color(m):Array.isArray(m)&&(m=new s.Array(m)),h=="leading"?this.leading&&this.leading(m):typeof S=="string"?this.node.setAttributeNS(S,h,m.toString()):this.node.setAttribute(h,m.toString()),this.rebuild&&(h=="font-size"||h=="x")&&this.rebuild(h,m)}return this}}),s.extend(s.Element,{transform:function(h,m){var S=this,$,B;if(typeof h!="object")return $=new s.Matrix(S).extract(),typeof h=="string"?$[h]:$;if($=new s.Matrix(S),m=!!m||!!h.relative,h.a!=null)$=m?$.multiply(new s.Matrix(h)):new s.Matrix(h);else if(h.rotation!=null)C(h,S),$=m?$.rotate(h.rotation,h.cx,h.cy):$.rotate(h.rotation-$.extract().rotation,h.cx,h.cy);else if(h.scale!=null||h.scaleX!=null||h.scaleY!=null){if(C(h,S),h.scaleX=h.scale!=null?h.scale:h.scaleX!=null?h.scaleX:1,h.scaleY=h.scale!=null?h.scale:h.scaleY!=null?h.scaleY:1,!m){var Y=$.extract();h.scaleX=h.scaleX*1/Y.scaleX,h.scaleY=h.scaleY*1/Y.scaleY}$=$.scale(h.scaleX,h.scaleY,h.cx,h.cy)}else if(h.skew!=null||h.skewX!=null||h.skewY!=null){if(C(h,S),h.skewX=h.skew!=null?h.skew:h.skewX!=null?h.skewX:0,h.skewY=h.skew!=null?h.skew:h.skewY!=null?h.skewY:0,!m){var Y=$.extract();$=$.multiply(new s.Matrix().skew(Y.skewX,Y.skewY,h.cx,h.cy).inverse())}$=$.skew(h.skewX,h.skewY,h.cx,h.cy)}else h.flip?(h.flip=="x"||h.flip=="y"?h.offset=h.offset==null?S.bbox()["c"+h.flip]:h.offset:h.offset==null?(B=S.bbox(),h.flip=B.cx,h.offset=B.cy):h.flip=h.offset,$=new s.Matrix().flip(h.flip,h.offset)):(h.x!=null||h.y!=null)&&(m?$=$.translate(h.x,h.y):(h.x!=null&&($.e=h.x),h.y!=null&&($.f=h.y)));return this.attr("transform",$)}}),s.extend(s.FX,{transform:function(h,m){var S=this.target(),$,B;return typeof h!="object"?($=new s.Matrix(S).extract(),typeof h=="string"?$[h]:$):(m=!!m||!!h.relative,h.a!=null?$=new s.Matrix(h):h.rotation!=null?(C(h,S),$=new s.Rotate(h.rotation,h.cx,h.cy)):h.scale!=null||h.scaleX!=null||h.scaleY!=null?(C(h,S),h.scaleX=h.scale!=null?h.scale:h.scaleX!=null?h.scaleX:1,h.scaleY=h.scale!=null?h.scale:h.scaleY!=null?h.scaleY:1,$=new s.Scale(h.scaleX,h.scaleY,h.cx,h.cy)):h.skewX!=null||h.skewY!=null?(C(h,S),h.skewX=h.skewX!=null?h.skewX:0,h.skewY=h.skewY!=null?h.skewY:0,$=new s.Skew(h.skewX,h.skewY,h.cx,h.cy)):h.flip?(h.flip=="x"||h.flip=="y"?h.offset=h.offset==null?S.bbox()["c"+h.flip]:h.offset:h.offset==null?(B=S.bbox(),h.flip=B.cx,h.offset=B.cy):h.flip=h.offset,$=new s.Matrix().flip(h.flip,h.offset)):(h.x!=null||h.y!=null)&&($=new s.Translate(h.x,h.y)),$?($.relative=m,this.last().transforms.push($),this._callStart()):this)}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var h=(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(m){var S=m.trim().split("(");return[S[0],S[1].split(s.regex.delimiter).map(function($){return parseFloat($)})]}).reduce(function(m,S){return S[0]=="matrix"?m.multiply(M(S[1])):m[S[0]].apply(m,S[1])},new s.Matrix);return h},toParent:function(h){if(this==h)return this;var m=this.screenCTM(),S=h.screenCTM().inverse();return this.addTo(h).untransform().transform(S.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(h,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(h))for(var S=0,$=this.arguments.length;S<$;++S)this[this.arguments[S]]=h[S];else if(typeof h=="object")for(var S=0,$=this.arguments.length;S<$;++S)this[this.arguments[S]]=h[this.arguments[S]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(h){for(var m=[],S=0,$=this.arguments.length;S<$;++S)m.push(this[this.arguments[S]]);var B=this._undo||new s.Matrix;return B=new s.Matrix().morph(s.Matrix.prototype[this.method].apply(B,m)).at(h),this.inversed?B.inverse():B},undo:function(h){for(var m=0,S=this.arguments.length;m<S;++m)h[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:h[this.arguments[m]];return h.cx=this.cx,h.cy=this.cy,this._undo=new s[E(this.method)](h,!0).at(1),this}}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.Rotate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(h){var m=new s.Matrix().rotate(new s.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(h),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(h){return this._undo=h,this}}}),s.Scale=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),s.Skew=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),s.extend(s.Element,{style:function(h,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof h=="object")for(m in h)this.style(m,h[m]);else if(s.regex.isCss.test(h))for(h=h.split(/\s*;\s*/).filter(function(S){return!!S}).map(function(S){return S.split(/\s*:\s*/)});m=h.pop();)this.style(m[0],m[1]);else return this.node.style[_(h)];else this.node.style[_(h)]=m===null||s.regex.isBlank.test(m)?"":m;return this}}),s.Parent=s.invent({create:function(h){this.constructor.call(this,h)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(h){return s.adopt(h)})},add:function(h,m){return m==null?this.node.appendChild(h.node):h.node!=this.node.childNodes[m]&&this.node.insertBefore(h.node,this.node.childNodes[m]),this},put:function(h,m){return this.add(h,m),h},has:function(h){return this.index(h)>=0},index:function(h){return[].slice.call(this.node.childNodes).indexOf(h.node)},get:function(h){return s.adopt(this.node.childNodes[h])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(h,m){var S,$,B=this.children();for(S=0,$=B.length;S<$;S++)B[S]instanceof s.Element&&h.apply(B[S],[S,B]),m&&B[S]instanceof s.Container&&B[S].each(h,m);return this},removeElement:function(h){return this.node.removeChild(h.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(h,m){return m===0||this instanceof s.Defs||this.node==s.parser.draw?this:(h=h||(this instanceof s.Doc?this:this.parent(s.Parent)),m=m||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(h,m-1):this.toParent(h)}),this.node.firstChild||this.remove(),this)},flatten:function(h,m){return this.ungroup(h,m)}}),s.Container=s.invent({create:function(h){this.constructor.call(this,h)},inherit:s.Parent}),s.ViewBox=s.invent({create:function(h){var m=[0,0,0,0],S,$,B,Y,pe,ae,Me,je=1,ze=1,lt=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(h instanceof s.Element){for(ae=h,Me=h,pe=(h.attr("viewBox")||"").match(lt),h.bbox,B=new s.Number(h.width()),Y=new s.Number(h.height());B.unit=="%";)je*=B.value,B=new s.Number(ae instanceof s.Doc?ae.parent().offsetWidth:ae.parent().width()),ae=ae.parent();for(;Y.unit=="%";)ze*=Y.value,Y=new s.Number(Me instanceof s.Doc?Me.parent().offsetHeight:Me.parent().height()),Me=Me.parent();this.x=0,this.y=0,this.width=B*je,this.height=Y*ze,this.zoom=1,pe&&(S=parseFloat(pe[0]),$=parseFloat(pe[1]),B=parseFloat(pe[2]),Y=parseFloat(pe[3]),this.zoom=this.width/this.height>B/Y?this.height/Y:this.width/B,this.x=S,this.y=$,this.width=B,this.height=Y)}else h=typeof h=="string"?h.match(lt).map(function(Vt){return parseFloat(Vt)}):Array.isArray(h)?h:typeof h=="object"?[h.x,h.y,h.width,h.height]:arguments.length==4?[].slice.call(arguments):m,this.x=h[0],this.y=h[1],this.width=h[2],this.height=h[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(h,m,S,$){return this.destination=new s.ViewBox(h,m,S,$),this},at:function(h){return this.destination?new s.ViewBox([this.x+(this.destination.x-this.x)*h,this.y+(this.destination.y-this.y)*h,this.width+(this.destination.width-this.width)*h,this.height+(this.destination.height-this.height)*h]):this}},parent:s.Container,construct:{viewbox:function(h,m,S,$){return arguments.length==0?new s.ViewBox(this):this.attr("viewBox",new s.ViewBox(h,m,S,$))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(h){s.Element.prototype[h]=function(m){return m==null?s.off(this,h):s.on(this,h,m),this}}),s.listenerId=0,s.on=function(h,m,S,$,B){var Y=S.bind($||h),pe=h instanceof s.Element?h.node:h;pe.instance=pe.instance||{_events:{}};var ae=pe.instance._events;S._svgjsListenerId||(S._svgjsListenerId=++s.listenerId),m.split(s.regex.delimiter).forEach(function(Me){var je=Me.split(".")[0],ze=Me.split(".")[1]||"*";ae[je]=ae[je]||{},ae[je][ze]=ae[je][ze]||{},ae[je][ze][S._svgjsListenerId]=Y,pe.addEventListener(je,Y,B||!1)})},s.off=function(h,m,S,$){var B=h instanceof s.Element?h.node:h;if(B.instance&&!(typeof S=="function"&&(S=S._svgjsListenerId,!S))){var Y=B.instance._events;(m||"").split(s.regex.delimiter).forEach(function(pe){var ae=pe&&pe.split(".")[0],Me=pe&&pe.split(".")[1],je,ze;if(S)Y[ae]&&Y[ae][Me||"*"]&&(B.removeEventListener(ae,Y[ae][Me||"*"][S],$||!1),delete Y[ae][Me||"*"][S]);else if(ae&&Me){if(Y[ae]&&Y[ae][Me]){for(ze in Y[ae][Me])s.off(B,[ae,Me].join("."),ze);delete Y[ae][Me]}}else if(Me)for(pe in Y)for(je in Y[pe])Me===je&&s.off(B,[pe,Me].join("."));else if(ae){if(Y[ae]){for(je in Y[ae])s.off(B,[ae,je].join("."));delete Y[ae]}}else{for(pe in Y)s.off(B,pe);B.instance._events={}}})}},s.extend(s.Element,{on:function(h,m,S,$){return s.on(this,h,m,S,$),this},off:function(h,m){return s.off(this.node,h,m),this},fire:function(h,m){return h instanceof i.Event?this.node.dispatchEvent(h):this.node.dispatchEvent(h=new s.CustomEvent(h,{detail:m,cancelable:!0})),this._event=h,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(h){return h==null?this.transform("x"):this.transform({x:h-this.x()},!0)},y:function(h){return h==null?this.transform("y"):this.transform({y:h-this.y()},!0)},cx:function(h){return h==null?this.gbox().cx:this.x(h-this.gbox().width/2)},cy:function(h){return h==null?this.gbox().cy:this.y(h-this.gbox().height/2)},gbox:function(){var h=this.bbox(),m=this.transform();return h.x+=m.x,h.x2+=m.x,h.cx+=m.x,h.y+=m.y,h.y2+=m.y,h.cy+=m.y,h}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(h){h&&(h=typeof h=="string"?r.getElementById(h):h,h.nodeName=="svg"?this.constructor.call(this,h):(this.constructor.call(this,s.create("svg")),h.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){if(!this._defs){var h;(h=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(h):this._defs=new s.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var h=this.node.getScreenCTM();return h&&this.style("left",-h.e%1+"px").style("top",-h.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw.parentNode||this.node.appendChild(s.parser.draw),this},clone:function(h){this.writeDataToDom();var m=this.node,S=N(m.cloneNode(!0));return h?(h.node||h).appendChild(S.node):m.parentNode.insertBefore(S.node,m.nextSibling),S}}}),s.extend(s.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var h=this.position()+1,m=this.parent();return m.removeElement(this).add(this,h),m instanceof s.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var h=this.position();return h>0&&this.parent().removeElement(this).add(this,h-1),this},front:function(){var h=this.parent();return h.node.appendChild(this.node),h instanceof s.Doc&&h.node.appendChild(h.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(h){h.remove();var m=this.position();return this.parent().add(h,m),this},after:function(h){h.remove();var m=this.position();return this.parent().add(h,m+1),this}}),s.Mask=s.invent({create:function(){this.constructor.call(this,s.create("mask")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var h=this.targets.length-1;h>=0;h--)this.targets[h]&&this.targets[h].unmask();return this.targets=[],s.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new s.Mask)}}}),s.extend(s.Element,{maskWith:function(h){return this.masker=h instanceof s.Mask?h:this.parent().mask().add(h),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),s.ClipPath=s.invent({create:function(){this.constructor.call(this,s.create("clipPath")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var h=this.targets.length-1;h>=0;h--)this.targets[h]&&this.targets[h].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new s.ClipPath)}}}),s.extend(s.Element,{clipWith:function(h){return this.clipper=h instanceof s.ClipPath?h:this.parent().clip().add(h),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),s.Gradient=s.invent({create:function(h){this.constructor.call(this,s.create(h+"Gradient")),this.type=h},inherit:s.Container,extend:{at:function(h,m,S){return this.put(new s.Stop).update(h,m,S)},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(h,m,S){return h=="transform"&&(h="gradientTransform"),s.Container.prototype.attr.call(this,h,m,S)}},construct:{gradient:function(h,m){return this.defs().gradient(h,m)}}}),s.extend(s.Gradient,s.FX,{from:function(h,m){return(this._target||this).type=="radial"?this.attr({fx:new s.Number(h),fy:new s.Number(m)}):this.attr({x1:new s.Number(h),y1:new s.Number(m)})},to:function(h,m){return(this._target||this).type=="radial"?this.attr({cx:new s.Number(h),cy:new s.Number(m)}):this.attr({x2:new s.Number(h),y2:new s.Number(m)})}}),s.extend(s.Defs,{gradient:function(h,m){return this.put(new s.Gradient(h)).update(m)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(h){return(typeof h=="number"||h instanceof s.Number)&&(h={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",new s.Number(h.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},toString:function(){return this.fill()},attr:function(h,m,S){return h=="transform"&&(h="patternTransform"),s.Container.prototype.attr.call(this,h,m,S)}},construct:{pattern:function(h,m,S){return this.defs().pattern(h,m,S)}}}),s.extend(s.Defs,{pattern:function(h,m,S){return this.put(new s.Pattern).update(S).attr({x:0,y:0,width:h,height:m,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(h){this.constructor.call(this,h)},inherit:s.Element}),s.Bare=s.invent({create:function(h,m){if(this.constructor.call(this,s.create(h)),m)for(var S in m.prototype)typeof m.prototype[S]=="function"&&(this[S]=m.prototype[S])},inherit:s.Element,extend:{words:function(h){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(r.createTextNode(h)),this}}}),s.extend(s.Parent,{element:function(h,m){return this.put(new s.Bare(h,m))}}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(h,m){return this.attr("href",(m||"")+"#"+h,s.xlink)}},construct:{use:function(h,m){return this.put(new s.Use).element(h,m)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(h,m){return this.put(new s.Rect).size(h,m)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(h){return this.put(new s.Circle).rx(new s.Number(h).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(h){return this.attr("r",h)},ry:function(h){return this.rx(h)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(h,m){return this.put(new s.Ellipse).size(h,m).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(h){return this.attr("rx",h)},ry:function(h){return this.attr("ry",h)}}),s.extend(s.Circle,s.Ellipse,{x:function(h){return h==null?this.cx()-this.rx():this.cx(h+this.rx())},y:function(h){return h==null?this.cy()-this.ry():this.cy(h+this.ry())},cx:function(h){return h==null?this.attr("cx"):this.attr("cx",h)},cy:function(h){return h==null?this.attr("cy"):this.attr("cy",h)},width:function(h){return h==null?this.rx()*2:this.rx(new s.Number(h).divide(2))},height:function(h){return h==null?this.ry()*2:this.ry(new s.Number(h).divide(2))},size:function(h,m){var S=w(this,h,m);return this.rx(new s.Number(S.width).divide(2)).ry(new s.Number(S.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(h,m,S,$){return h==null?this.array():(typeof m<"u"?h={x1:h,y1:m,x2:S,y2:$}:h=new s.PointArray(h).toLine(),this.attr(h))},move:function(h,m){return this.attr(this.array().move(h,m).toLine())},size:function(h,m){var S=w(this,h,m);return this.attr(this.array().size(S.width,S.height).toLine())}},construct:{line:function(h,m,S,$){return s.Line.prototype.plot.apply(this.put(new s.Line),h!=null?[h,m,S,$]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(h){return this.put(new s.Polyline).plot(h||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(h){return this.put(new s.Polygon).plot(h||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(h){return h==null?this.array():this.clear().attr("points",typeof h=="string"?h:this._array=new s.PointArray(h))},clear:function(){return delete this._array,this},move:function(h,m){return this.attr("points",this.array().move(h,m))},size:function(h,m){var S=w(this,h,m);return this.attr("points",this.array().size(S.width,S.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)},width:function(h){var m=this.bbox();return h==null?m.width:this.size(h,m.height)},height:function(h){var m=this.bbox();return h==null?m.height:this.size(m.width,h)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(h){return h==null?this.array():this.clear().attr("d",typeof h=="string"?h:this._array=new s.PathArray(h))},clear:function(){return delete this._array,this},move:function(h,m){return this.attr("d",this.array().move(h,m))},x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)},size:function(h,m){var S=w(this,h,m);return this.attr("d",this.array().size(S.width,S.height))},width:function(h){return h==null?this.bbox().width:this.size(h,this.bbox().height)},height:function(h){return h==null?this.bbox().height:this.size(this.bbox().width,h)}},construct:{path:function(h){return this.put(new s.Path).plot(h||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(h){if(!h)return this;var m=this,S=new i.Image;return s.on(S,"load",function(){s.off(S);var $=m.parent(s.Pattern);$!==null&&(m.width()==0&&m.height()==0&&m.size(S.width,S.height),$&&$.width()==0&&$.height()==0&&$.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:S.width,height:S.height,ratio:S.width/S.height,url:h}))}),s.on(S,"error",function($){s.off(S),typeof m._error=="function"&&m._error.call(m,$)}),this.attr("href",S.src=this.src=h,s.xlink)},loaded:function(h){return this._loaded=h,this},error:function(h){return this._error=h,this}},construct:{image:function(h,m,S){return this.put(new s.Image).load(h).size(m||0,S||m||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(h){return h==null?this.attr("x"):this.attr("x",h)},y:function(h){var m=this.attr("y"),S=typeof m=="number"?m-this.bbox().y:0;return h==null?typeof m=="number"?m-S:m:this.attr("y",typeof h.valueOf()=="number"?h+S:h)},cx:function(h){return h==null?this.bbox().cx:this.x(h-this.bbox().width/2)},cy:function(h){return h==null?this.bbox().cy:this.y(h-this.bbox().height/2)},text:function(h){if(typeof h>"u"){for(var h="",m=this.node.childNodes,S=0,$=m.length;S<$;++S)S!=0&&m[S].nodeType!=3&&s.adopt(m[S]).dom.newLined==!0&&(h+=`
`),h+=m[S].textContent;return h}if(this.clear().build(!0),typeof h=="function")h.call(this,this);else{h=h.split(`
`);for(var S=0,B=h.length;S<B;S++)this.tspan(h[S]).newLine()}return this.build(!1).rebuild()},size:function(h){return this.attr("font-size",h).rebuild()},leading:function(h){return h==null?this.dom.leading:(this.dom.leading=new s.Number(h),this.rebuild())},lines:function(){var h=(this.textPath&&this.textPath()||this).node,m=s.utils.map(s.utils.filterSVGElements(h.childNodes),function(S){return s.adopt(S)});return new s.Set(m)},rebuild:function(h){if(typeof h=="boolean"&&(this._rebuild=h),this._rebuild){var m=this,S=0,$=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?S+=$:(this.attr("dy",$+S),S=0))}),this.fire("rebuild")}return this},build:function(h){return this._build=!!h,this},setData:function(h){return this.dom=h,this.dom.leading=new s.Number(h.leading||1.3),this}},construct:{text:function(h){return this.put(new s.Text).text(h)},plain:function(h){return this.put(new s.Text).plain(h)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(h){return h==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof h=="function"?h.call(this,this):this.plain(h),this)},dx:function(h){return this.attr("dx",h)},dy:function(h){return this.attr("dy",h)},newLine:function(){var h=this.parent(s.Text);return this.dom.newLined=!0,this.dy(h.dom.leading*h.attr("font-size")).attr("x",h.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(h){return this._build===!1&&this.clear(),this.node.appendChild(r.createTextNode(h)),this},tspan:function(h){var m=(this.textPath&&this.textPath()||this).node,S=new s.Tspan;return this._build===!1&&this.clear(),m.appendChild(S.node),S.text(h)},clear:function(){for(var h=(this.textPath&&this.textPath()||this).node;h.hasChildNodes();)h.removeChild(h.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,path:function(h){for(var m=new s.TextPath,S=this.doc().defs().path(h);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+S,s.xlink),this},array:function(){var h=this.track();return h?h.array():null},plot:function(h){var m=this.track(),S=null;return m&&(S=m.plot(h)),h==null?S:this},track:function(){var h=this.textPath();if(h)return h.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}}),s.A=s.invent({create:"a",inherit:s.Container,extend:{to:function(h){return this.attr("href",h,s.xlink)},show:function(h){return this.attr("show",h,s.xlink)},target:function(h){return this.attr("target",h)}},construct:{link:function(h){return this.put(new s.A).to(h)}}}),s.extend(s.Element,{linkTo:function(h){var m=new s.A;return typeof h=="function"?h.call(m,m):m.to(h),this.parent().put(m).put(this)}}),s.Marker=s.invent({create:"marker",inherit:s.Container,extend:{width:function(h){return this.attr("markerWidth",h)},height:function(h){return this.attr("markerHeight",h)},ref:function(h,m){return this.attr("refX",h).attr("refY",m)},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(h,m,S){return this.defs().marker(h,m,S)}}}),s.extend(s.Defs,{marker:function(h,m,S){return this.put(new s.Marker).size(h,m).ref(h/2,m/2).viewbox(0,0,h,m).attr("orient","auto").update(S)}}),s.extend(s.Line,s.Polyline,s.Polygon,s.Path,{marker:function(h,m,S,$){var B=["marker"];return h!="all"&&B.push(h),B=B.join("-"),h=arguments[1]instanceof s.Marker?arguments[1]:this.doc().marker(m,S,$),this.attr(B,h)}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(h,m){return m=="color"?h:h+"-"+m}};["fill","stroke"].forEach(function(h){var m,S={};S[h]=function($){if(typeof $>"u")return this;if(typeof $=="string"||s.Color.isRgb($)||$&&typeof $.fill=="function")this.attr(h,$);else for(m=f[h].length-1;m>=0;m--)$[f[h][m]]!=null&&this.attr(f.prefix(h,f[h][m]),$[f[h][m]]);return this},s.extend(s.Element,s.FX,S)}),s.extend(s.Element,s.FX,{rotate:function(h,m,S){return this.transform({rotation:h,cx:m,cy:S})},skew:function(h,m,S,$){return arguments.length==1||arguments.length==3?this.transform({skew:h,cx:m,cy:S}):this.transform({skewX:h,skewY:m,cx:S,cy:$})},scale:function(h,m,S,$){return arguments.length==1||arguments.length==3?this.transform({scale:h,cx:m,cy:S}):this.transform({scaleX:h,scaleY:m,cx:S,cy:$})},translate:function(h,m){return this.transform({x:h,y:m})},flip:function(h,m){return m=typeof h=="number"?h:m,this.transform({flip:h||"both",offset:m})},matrix:function(h){return this.attr("transform",new s.Matrix(arguments.length==6?[].slice.call(arguments):h))},opacity:function(h){return this.attr("opacity",h)},dx:function(h){return this.x(new s.Number(h).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(h){return this.y(new s.Number(h).plus(this instanceof s.FX?0:this.y()),!0)},dmove:function(h,m){return this.dx(h).dy(m)}}),s.extend(s.Rect,s.Ellipse,s.Circle,s.Gradient,s.FX,{radius:function(h,m){var S=(this._target||this).type;return S=="radial"||S=="circle"?this.attr("r",new s.Number(h)):this.rx(h).ry(m??h)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(h){return this.node.getPointAtLength(h)}}),s.extend(s.Parent,s.Text,s.Tspan,s.FX,{font:function(h,m){if(typeof h=="object")for(m in h)this.font(m,h[m]);return h=="leading"?this.leading(m):h=="anchor"?this.attr("text-anchor",m):h=="size"||h=="family"||h=="weight"||h=="stretch"||h=="variant"||h=="style"?this.attr("font-"+h,m):this.attr(h,m)}}),s.Set=s.invent({create:function(h){h instanceof s.Set?this.members=h.members.slice():Array.isArray(h)?this.members=h:this.clear()},extend:{add:function(){var h,m,S=[].slice.call(arguments);for(h=0,m=S.length;h<m;h++)this.members.push(S[h]);return this},remove:function(h){var m=this.index(h);return m>-1&&this.members.splice(m,1),this},each:function(h){for(var m=0,S=this.members.length;m<S;m++)h.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(h){return this.index(h)>=0},index:function(h){return this.members.indexOf(h)},get:function(h){return this.members[h]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new s.RBox;var h=this.members[0].rbox(this.members[0].doc());return this.each(function(){h=h.merge(this.rbox(this.doc()))}),h}},construct:{set:function(h){return new s.Set(h)}}}),s.FX.Set=s.invent({create:function(h){this.set=h}}),s.Set.inherit=function(){var h,m=[];for(var h in s.Shape.prototype)typeof s.Shape.prototype[h]=="function"&&typeof s.Set.prototype[h]!="function"&&m.push(h);m.forEach(function(S){s.Set.prototype[S]=function(){for(var $=0,B=this.members.length;$<B;$++)this.members[$]&&typeof this.members[$][S]=="function"&&this.members[$][S].apply(this.members[$],arguments);return S=="animate"?this.fx||(this.fx=new s.FX.Set(this)):this}}),m=[];for(var h in s.FX.prototype)typeof s.FX.prototype[h]=="function"&&typeof s.FX.Set.prototype[h]!="function"&&m.push(h);m.forEach(function(S){s.FX.Set.prototype[S]=function(){for(var $=0,B=this.set.members.length;$<B;$++)this.set.members[$].fx[S].apply(this.set.members[$].fx,arguments);return this}})},s.extend(s.Element,{data:function(h,m,S){if(typeof h=="object")for(m in h)this.data(m,h[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+h))}catch{return this.attr("data-"+h)}else this.attr("data-"+h,m===null?null:S===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),s.extend(s.Element,{remember:function(h,m){if(typeof arguments[0]=="object")for(var m in h)this.remember(m,h[m]);else{if(arguments.length==1)return this.memory()[h];this.memory()[h]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var h=arguments.length-1;h>=0;h--)delete this.memory()[arguments[h]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(h){var m=r.getElementById(j(h)||h);return s.adopt(m)},s.select=function(h,m){return new s.Set(s.utils.map((m||r).querySelectorAll(h),function(S){return s.adopt(S)}))},s.extend(s.Parent,{select:function(h){return s.select(h,this.node)}});function d(h,m,S,$){return S+$.replace(s.regex.dots," .")}function p(h){for(var m=h.slice(0),S=m.length;S--;)Array.isArray(m[S])&&(m[S]=p(m[S]));return m}function y(h,m){return h instanceof m}function v(h,m){return(h.matches||h.matchesSelector||h.msMatchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector).call(h,m)}function _(h){return h.toLowerCase().replace(/-(.)/g,function(m,S){return S.toUpperCase()})}function E(h){return h.charAt(0).toUpperCase()+h.slice(1)}function x(h){return h.length==4?["#",h.substring(1,2),h.substring(1,2),h.substring(2,3),h.substring(2,3),h.substring(3,4),h.substring(3,4)].join(""):h}function A(h){var m=h.toString(16);return m.length==1?"0"+m:m}function w(h,m,S){if(m==null||S==null){var $=h.bbox();m==null?m=$.width/$.height*S:S==null&&(S=$.height/$.width*m)}return{width:m,height:S}}function b(h,m,S){return{x:m*h.a+S*h.c+0,y:m*h.b+S*h.d+0}}function M(h){return{a:h[0],b:h[1],c:h[2],d:h[3],e:h[4],f:h[5]}}function I(h){return h instanceof s.Matrix||(h=new s.Matrix(h)),h}function C(h,m){h.cx=h.cx==null?m.bbox().cx:h.cx,h.cy=h.cy==null?m.bbox().cy:h.cy}function P(h){for(var m=0,S=h.length,$="";m<S;m++)$+=h[m][0],h[m][1]!=null&&($+=h[m][1],h[m][2]!=null&&($+=" ",$+=h[m][2],h[m][3]!=null&&($+=" ",$+=h[m][3],$+=" ",$+=h[m][4],h[m][5]!=null&&($+=" ",$+=h[m][5],$+=" ",$+=h[m][6],h[m][7]!=null&&($+=" ",$+=h[m][7])))));return $+" "}function N(h){for(var m=h.childNodes.length-1;m>=0;m--)h.childNodes[m]instanceof i.SVGElement&&N(h.childNodes[m]);return s.adopt(h).id(s.eid(h.nodeName))}function U(h){return h.x==null&&(h.x=0,h.y=0,h.width=0,h.height=0),h.w=h.width,h.h=h.height,h.x2=h.x+h.width,h.y2=h.y+h.height,h.cx=h.x+h.width/2,h.cy=h.y+h.height/2,h}function j(h){var m=(h||"").toString().match(s.regex.reference);if(m)return m[1]}function F(h){return Math.abs(h)>1e-37?h:0}var q="abcdef".split("");if(typeof i.CustomEvent!="function"){var te=function(h,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var S=r.createEvent("CustomEvent");return S.initCustomEvent(h,m.bubbles,m.cancelable,m.detail),S};te.prototype=i.Event.prototype,s.CustomEvent=te}else s.CustomEvent=i.CustomEvent;return function(h){for(var m=0,S=["moz","webkit"],$=0;$<S.length&&!i.requestAnimationFrame;++$)h.requestAnimationFrame=h[S[$]+"RequestAnimationFrame"],h.cancelAnimationFrame=h[S[$]+"CancelAnimationFrame"]||h[S[$]+"CancelRequestAnimationFrame"];h.requestAnimationFrame=h.requestAnimationFrame||function(B){var Y=new Date().getTime(),pe=Math.max(0,16-(Y-m)),ae=h.setTimeout(function(){B(Y+pe)},pe);return m=Y+pe,ae},h.cancelAnimationFrame=h.cancelAnimationFrame||h.clearTimeout}(i),s})}(Ny)),Ny.exports}var rde=ide();const Ou=z1(rde);class nde extends Pi{constructor(t){super(t)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(t,i){return i.getGraphicIcon(t)}getGraphicSymbol(t,i){return i.getGraphicSymbol(t)}makeRenderer(t,i,r=!1){switch(t.type){case this.SIMPLE:return new Xfe(t,i);case this.CLASS_BREAKS:return new ede(t,i,r);case this.UNIQUE_VALUE:return new Qfe(t,i,r);default:throw new Error(`Unknown renderer type encountered - ${t.type}`)}}async generateWMSSymbology(t){const i=Ou(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),r={svgcode:"",imgHeight:"",imgWidth:""};if(t){const n=await this.renderSymbologyImage(t);if(n){r.svgcode=n;const s=document.createElement("span");s.innerHTML=n;const o=s.firstElementChild?.lastElementChild;r.imgHeight=o?.getAttribute("height")||"",r.imgWidth=o?.getAttribute("width")||""}else r.svgcode=i.svg()}else r.svgcode=i.svg();return r}listToSymbology(t,i){return i.map(({text:n,image:s})=>{const o={name:n,image:s,svgcode:""};return t(s).then(a=>{o.svgcode=a}),o})}listToIconSymbology(t){return this.listToSymbology(this.renderSymbologyIcon,t)}listToImageSymbology(t){return this.listToSymbology(this.renderSymbologyImage,t)}async renderSymbologyImage(t,i=null){i===null&&(i=Ou(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const r=await this.$iApi.geo.shared.convertImagetoDataURL(t);if(r===t)return"";const{loader:n}=await this.svgDrawImage(i,r);return i.viewbox(0,0,n.width,n.height),i.svg()}async renderSymbologyIcon(t,i=null){if(i===null){const s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s),i=Ou(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const r=await this.$iApi.geo.shared.convertImagetoDataURL(t),{image:n}=await this.svgDrawImage(i,r);return n.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(n,this.CONTENT_IMAGE_SIZE),i.svg()}generatePlaceholderSymbology(t,i="#000"){const r=Ou(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return r.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(i),r.text(t[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(t[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:t,svgcode:r.svg()}}async generateBlankSymbology(){return Ou(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(t){const i=this,r=1.33333,n=document.createElement("div");n.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(n);const s=Ou(n).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:v,path:_}){return s.path(_).size(v*r)},circle({size:v}){return s.circle(v*r)},cross({size:v}){return s.path("M 0,10 L 20,10 M 10,0 L 10,20").size(v*r)},x({size:v}){return s.path("M 0,0 L 20,20 M 20,0 L 0,20").size(v*r)},triangle({size:v}){return s.path("M 20,20 L 10,0 0,20 Z").size(v*r)},diamond({size:v}){return s.path("M 20,10 L 10,0 0,10 10,20 Z").size(v*r)},square({size:v}){return s.path("M 0,0 20,0 20,20 0,20 Z").size(v*r)}},a={[zr.SOLID]:"none",[zr.NONE]:"none",[zr.DASH]:"5.333,4",[zr.DOT]:"1.333,4",[zr.DASHDOT]:"5.333,4,1.333,4",[zr.LONGDASH]:"10.666,4",[zr.LONGDASHDOT]:"10.666,4,1.333,4",[zr.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[zr.SHORTDOT]:"1.333,1.333",[zr.SHORTDASH]:"5.333,1.333",[zr.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[zr.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},f={solid:v=>({color:v.colour,opacity:v.opacity}),none:()=>"transparent",horizontal:(v,_)=>s.pattern(5,5,x=>x.line(0,5/2,5,5/2)).stroke(_),vertical:(v,_)=>s.pattern(5,5,x=>x.line(5/2,0,5/2,5)).stroke(_),"forward-diagonal":(v,_)=>s.pattern(5,5,x=>{x.line(0,0,5,5).stroke(_),x.line(0,0,5,5).move(0,5).stroke(_),x.line(0,0,5,5).move(5,0).stroke(_)}),"backward-diagonal":(v,_)=>s.pattern(5,5,x=>{x.line(5,0,0,5).stroke(_),x.line(5,0,0,5).move(5/2,5/2).stroke(_),x.line(5,0,0,5).move(-5/2,-5/2).stroke(_)}),cross:(v,_)=>s.pattern(5,5,x=>{x.line(5/2,0,5/2,5).stroke(_),x.line(0,5/2,5,5/2).stroke(_)}),"diagonal-cross":(v,_)=>s.pattern(7,7,x=>{x.line(0,0,7,7).stroke(_),x.line(7,0,0,7).stroke(_)})},d={"simple-marker"(){const v=y(t.color);t.outline=t.outline||c;const _=y(t.outline.color),E=p({color:_.colour,opacity:_.opacity,width:t.outline.width,dasharray:a[t.outline.style]}),x=o[t.style](t).fill({color:v.colour,opacity:v.opacity}).stroke(E).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).rotate(t.angle||0);i.fitInto(x,i.CONTENT_SIZE)},"simple-line"(){const v=y(t.color),_=p({color:v.colour,opacity:v.opacity,width:t.width,linecap:"butt",dasharray:a[t.style]}),E=i.CONTENT_PADDING,x=i.CONTAINER_SIZE-i.CONTENT_PADDING;s.line(E,E,x,x).stroke(_)},esriCLS(){this["simple-line"]()},"simple-fill"(){const v=y(t.color),_=p({color:v.colour,opacity:v.opacity}),E=f[t.style](v,_);t.outline=t.outline||c;const x=y(t.outline.color),A=p({color:x.colour,opacity:x.opacity,width:t.outline.width,linecap:"butt",dasharray:a[t.outline.style]});s.rect(i.CONTENT_SIZE,i.CONTENT_SIZE).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).fill(E).stroke(A)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const v=t.imageData?`data:${t.contentType};base64,${t.imageData}`:t.url,_=t.width*t.xscale,E=t.height*t.yscale;t.outline=t.outline||c;const x=y(t.outline.color),A=p({color:x.colour,opacity:x.opacity,width:t.outline.width,dasharray:a[t.outline.style]});return i.$iApi.geo.shared.convertImagetoDataURL(v).then(b=>{const M=s.pattern(_,E,I=>I.image(b,_,E));s.rect(i.CONTENT_SIZE,i.CONTENT_SIZE).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).fill(M).stroke(A)})},"picture-marker"(){const v=t.source,_=v&&v.imageData?`data:${v.contentType};base64,${v.imageData}`:t.url;return i.$iApi.geo.shared.convertImagetoDataURL(_).then(x=>i.svgDrawImage(s,x)).then(({image:x})=>{x.center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).rotate(t.angle||0),i.fitInto(x,i.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[t.type]()),document.body.removeChild(n),s.svg()}catch(v){return console.error(v),this.generateBlankSymbology()}function p(v){return Object.assign({},l,v)}function y(v){return v?{colour:`rgb(${v.r},${v.g},${v.b})`,opacity:v.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(t,i,r=0,n=0,s=!0){return new Promise((o,a)=>{const l=t.image(i,r,n,s).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(t,i){const r=t.node.getBoundingClientRect(),n=i/Math.max(r.width,r.height);n<1&&t.scale(n)}rendererToLegend(t){let i;const r=t.symbolUnits.slice(0);if(t.defaultUnit&&r.push(t.defaultUnit),t.falseRenderer)i=r.map(n=>[n]);else{const n=new Map;r.forEach(s=>{const o=n.get(s.label);o?o.push(s):n.set(s.label,[s])}),i=[],n.forEach(s=>i.push(s))}return i.map(n=>{const s=n[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:s.label||"",definitionClause:n.length===1?s.definitionClause:`(${n.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(s.symbol).then(a=>{o.svgcode=a,n.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(t){if(!t)throw new Error("Legend server request is missing the required url.");const i={query:{f:"json"}},r={layers:[]},[n,s]=await Kc(wi(`${t}/legend`,i));return s?s.data?s.data:(console.error(`Error loading legend data for ${t}`),r):(console.error(`Error loading legend for ${t}`,n),r)}async mapServerLegendToRenderer(t,i){const r=t.layers.find(s=>s.layerId===i);let n;if(typeof r<"u"){n={type:"uniqueValue",field:"fakefield",uniqueValueInfos:r.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const s=await Lt.RendererFromJson(n);return this.makeRenderer(s,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(t){const i=t.layers.map(s=>s.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),r={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...i)},n=await Lt.RendererFromJson(r);return this.makeRenderer(n,[],!0)}async mapServerToLocalLegend(t,i=void 0){const r=await this.getMapServerLegend(t);let n,s;return typeof i>"u"?(s=0,n=await this.mapServerLegendToRendererAll(r)):(s=parseInt(i),n=await this.mapServerLegendToRenderer(r,s)),this.rendererToLegend(n)}}class sde extends Pi{constructor(t){super(t)}async arcGisServerQueryIds(t){if(!(t.filterGeometry||t.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const i=await Lt.Query();i.returnGeometry=!1,t.filterSql&&(i.where=t.filterSql),t.filterGeometry&&(i.geometry=await this.queryGeometryHelper(t.filterGeometry,!1,this.$iApi.geo.map.getScale(),t.sourceSR),i.spatialRelationship="intersects");const r=await Lt.QueryByIds(t.url,i);return Array.isArray(r)?r:[]}async geoJsonQuery(t){const i=await Lt.Query();if(i.returnGeometry=!!t.includeGeometry,i.outFields=["*"],t.filterGeometry&&(i.geometry=await this.queryGeometryHelper(t.filterGeometry,!0),i.spatialRelationship="intersects"),t.filterSql&&(i.where=t.filterSql),t.filterOIDs&&(i.objectIds=t.filterOIDs),await t.layer.loadPromise(),!t.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await t.layer.esriLayer.queryFeatures(i)).features.map((n,s)=>{let o;return i.returnGeometry?o=this.$iApi.geo.geom.geomEsriToRamp(n.geometry,`queryResult${s}`):o=new gl,new vs(o,"",n.attributes)})}async queryGeometryHelper(t,i,r,n){return!i&&t.type===Ke.EXTENT&&n&&!n.isEqual(t.sr)&&!(r&&r>2e7&&t.sr.wkid===3978&&n.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(n,t)).toESRI():t.toESRI()}makeClickBuffer(t,i=5){const r=this.$iApi.geo.map,n=r.getExtent(),s=i*(n.xmax-n.xmin)/r.getPixelWidth();return new Xt("ze_buffer",[t.x-s,t.y-s],[t.x+s,t.y+s],t.sr)}}class ode extends Pi{attributes;geom;layer;map;proj;query;shared;symbology;constructor(t){super(t),this.geom=xh.geom,this.proj=xh.proj,this.shared=xh.sharedUtils,this.map=new Xhe(t),this.layer=new $fe(t),this.attributes=new Jfe(t),this.query=new sde(t),this.symbology=new nde(t),Array.isArray(It.request.interceptors)||(It.request.interceptors=[]),It.request.interceptors.push({before:i=>{i.url.includes("?blankTile=false")&&(i.url=i.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(t){It.request.proxyUrl=t}get proxy(){return It.request.proxyUrl||""}}const ade=Object.assign({"../fixtures/appbar/index.ts":()=>xe(()=>import("./index-BHuo54uh.js"),__vite__mapDeps([188,1,189]),import.meta.url),"../fixtures/areas-of-interest/index.ts":()=>xe(()=>import("./index-ByqtjQ9N.js"),__vite__mapDeps([190,191,192,1]),import.meta.url),"../fixtures/basemap/index.ts":()=>xe(()=>import("./index-DPUnYcjP.js"),__vite__mapDeps([193,1]),import.meta.url),"../fixtures/crosshairs/index.ts":()=>xe(()=>import("./index-Bsw-O7WM.js"),__vite__mapDeps([194,1,195]),import.meta.url),"../fixtures/details/index.ts":()=>xe(()=>import("./index-IjopaLbC.js"),__vite__mapDeps([196,1,197]),import.meta.url),"../fixtures/export-footnote/index.ts":()=>xe(()=>import("./index-C0dsSDJx.js"),__vite__mapDeps([198,199,1]),import.meta.url),"../fixtures/export-legend/index.ts":()=>xe(()=>import("./index-Bv8st36V.js"),__vite__mapDeps([200,199,1]),import.meta.url),"../fixtures/export-map/index.ts":()=>xe(()=>import("./index-DXKx1TYo.js"),__vite__mapDeps([201,199,1]),import.meta.url),"../fixtures/export-northarrow/index.ts":()=>xe(()=>import("./index-DWLFCzlQ.js"),__vite__mapDeps([202,199,1]),import.meta.url),"../fixtures/export-scalebar/index.ts":()=>xe(()=>import("./index-EoMn_9Ou.js"),__vite__mapDeps([203,199,1]),import.meta.url),"../fixtures/export-timestamp/index.ts":()=>xe(()=>import("./index-CH42FqaD.js"),__vite__mapDeps([204,199,1]),import.meta.url),"../fixtures/export-title/index.ts":()=>xe(()=>import("./index-Bsrr98oa.js"),__vite__mapDeps([205,199,1]),import.meta.url),"../fixtures/export/index.ts":()=>xe(()=>import("./index-CJdCBZlg.js"),__vite__mapDeps([206,1,207]),import.meta.url),"../fixtures/extentguard/index.ts":()=>xe(()=>import("./index-DNKqRIaO.js"),__vite__mapDeps([208,1]),import.meta.url),"../fixtures/gazebo/index.ts":()=>xe(()=>import("./index-0M_sCcKj.js"),__vite__mapDeps([209,1]),import.meta.url),"../fixtures/geosearch/index.ts":()=>xe(()=>import("./index-Dv2W5475.js"),__vite__mapDeps([210,1]),import.meta.url),"../fixtures/grid/index.ts":()=>xe(()=>import("./index-MVKajQ_E.js"),__vite__mapDeps([211,1,212]),import.meta.url),"../fixtures/help/index.ts":()=>xe(()=>import("./index-C4Xny-Os.js"),__vite__mapDeps([213,1]),import.meta.url),"../fixtures/hilight/index.ts":()=>xe(()=>import("./index-7Clhslkg.js"),__vite__mapDeps([214,197,1]),import.meta.url),"../fixtures/layer-reorder/index.ts":()=>xe(()=>import("./index-Cgj0aflz.js"),__vite__mapDeps([215,1]),import.meta.url),"../fixtures/legend/index.ts":()=>xe(()=>import("./index-gugGpgEb.js"),__vite__mapDeps([216,1]),import.meta.url),"../fixtures/mapnav/index.ts":()=>xe(()=>import("./index-DVxPsvSy.js"),__vite__mapDeps([217,1,218]),import.meta.url),"../fixtures/metadata/index.ts":()=>xe(()=>import("./index-BMG8ZHyq.js"),__vite__mapDeps([219,1]),import.meta.url),"../fixtures/northarrow/index.ts":()=>xe(()=>import("./index-BrSOnHS2.js"),__vite__mapDeps([220,1]),import.meta.url),"../fixtures/overviewmap/index.ts":()=>xe(()=>import("./index-COg91NDU.js"),__vite__mapDeps([221,1,222]),import.meta.url),"../fixtures/panguard/index.ts":()=>xe(()=>import("./index-DIpeD0R7.js"),__vite__mapDeps([223,1,224]),import.meta.url),"../fixtures/scrollguard/index.ts":()=>xe(()=>import("./index-qHpvasql.js"),__vite__mapDeps([225,1,226]),import.meta.url),"../fixtures/settings/index.ts":()=>xe(()=>import("./index-XuzSwD_x.js"),__vite__mapDeps([227,1]),import.meta.url),"../fixtures/snowman/index.ts":()=>xe(()=>import("./index-DmZ4cRHr.js"),__vite__mapDeps([228,1]),import.meta.url),"../fixtures/wizard/index.ts":()=>xe(()=>import("./index-GJsMd_kQ.js"),__vite__mapDeps([229,1]),import.meta.url)});class lde extends Pi{constructor(t){super(t)}exists(t){return t in Pn(this.$vApp.$pinia).items}async add(t,i){let r;if(t in Pn(this.$vApp.$pinia).items)return this.get(t);if(i){if(typeof i!="function")throw new Error("malformed fixture constructor");r=rT.updateBaseToInstance(new i,t,this.$iApi)}else{const n=(await ade[`../fixtures/${t}/index.ts`]()).default;r=new n(t,this.$iApi)}return Pn(this.$vApp.$pinia).addFixture(r),this.$iApi.event.emit($e.FIXTURE_ADDED,r),this.$iApi.geo.map.created&&r.initialized?.(),r}remove(t){const i=this.get(t);if(!i)throw new Error(`Could not find fixture ${t} for removal`);return Pn(this.$vApp.$pinia).removeFixture(i),this.$iApi.event.emit($e.FIXTURE_REMOVED,i),i}flush(){const t=Pn(this.$vApp.$pinia);Object.keys(t.items).forEach(r=>{const n=this.get(r);n?.persist&&typeof n?.removed=="function"?n.removed():n&&this.remove(r)})}restore(){const t=Pn(this.$vApp.$pinia);Object.keys(t.items).forEach(r=>{const n=t.items[r];typeof n.added=="function"&&n.added(),this.$iApi.geo.map.created&&typeof n.initialized=="function"&&n.initialized()})}get(t){const i=[];typeof t=="string"?i.push(t):Array.isArray(t)?i.push(...t):i.push(t.id);const r=i.map(n=>{const s=Pn(this.$vApp.$pinia).items[n];if(s)return s});return r.length===1?r[0]:r}isLoaded(t){const i=Pn(this.$vApp.$pinia),r=Array.isArray(t)?t:[t];r.forEach(s=>{i.loadPromises[s]===void 0&&i.addLoadPromise(s)});const n=i.getLoadPromises(r);return Array.isArray(t)?Promise.all(n):n[0]}addDefaultFixtures(t){(!Array.isArray(t)||t.length===0)&&(t=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const i=Xr(this.$vApp.$pinia);return i.startingFixtures=t,Promise.all(t.map(r=>this.add(r)))}}class rT extends Pi{static updateBaseToInstance(t,i,r){const n=new rT(i,r);return Object.defineProperties(t,{id:{value:i},$iApi:{value:r},persist:{value:t.persist??!0},$vApp:{get(){return n.$vApp}},remove:{value:n.remove},extend:{value:n.extend},config:{get(){return n.config}},mount:{value:n.mount}}),t}id;persist;constructor(t,i){super(i),this.id=t,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(t,i={}){const r=rt({extends:t,iApi:this.$iApi,data(){return{...i}}}),n=dl(r),{el:s}=this.mount(r,{props:{...i.propsData},app:n});return s}mount(t,{props:i,children:r,element:n,app:s}={}){let o=n,a=Un(t,i,r);return s&&s._context&&(a.appContext=s._context),o||(o=document.createElement("div")),wh(a,o),{vNode:a,destroy:()=>{o&&wh(null,o),o=null,a=null},el:o}}get config(){return Xr(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(t){return this.getLayerFixtureConfigs()[t]}getLayerFixtureConfigs(){const t={},i=(r,n=void 0)=>{if(r.fixtures&&r.fixtures[this.id]!==void 0){let s=r.id;n!==void 0&&(s=`${n.id}-${r.index}`),t[s]=r.fixtures[this.id]}r.sublayers&&r.sublayers.forEach(s=>i(s,r))};return this.$iApi.geo.layer.allLayers().forEach(r=>i(r.config)),t}handlePanelWidths(t){if(this.config?.panelWidth){const i={};if(typeof this.config.panelWidth=="number")t.forEach(r=>{i[r]=this.config.panelWidth});else{this.config.panelWidth.default&&t.forEach(r=>{i[r]=this.config.panelWidth.default});for(const r in this.config.panelWidth)r!="default"&&(i[r]=this.config.panelWidth[r])}for(const r in i){const n=this.$iApi.panel.get(r);this.$iApi.panel.setStyle(n,{"flex-basis":`${i[r]}px`})}}}handlePanelTeleports(t){if(this.config?.panelTeleport){const i=Yc(this.$vApp.$pinia),r=!!this.config.panelTeleport.target;t.forEach(n=>{i.items[n].teleport=r?this.config.panelTeleport:this.config.panelTeleport[n],i.items[n].style.width="100%"})}}}class cde extends Pi{panelStore=Yc(this.$vApp.$pinia);updateHTML(t,i,r){const n=this.get(t),s=r?n.screens[r]:Object.values(n.screens)[0];if(nP(s))for(const o in i)s[o].innerHTML=i[o]instanceof HTMLElement?i[o].outerHTML:i[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(t){for(const r in t.content)if(typeof t.content[r]=="string"){const n=document.createElement("div");n.innerHTML=t.content[r],t.content[r]=n}const i={};return i[t.id]={screens:{},style:t.style??{width:"350px"},alertName:t.alertName},i[t.id].screens[t.id]=t.content,i}registerHTML(t){const i=this.get(t.id);if(i)return console.error("Panel already exist"),i;const r=this.registerHTMLConfig(t),n={i18n:{messages:t.i18nMap}};return this.register(r,n)}register(t,i){const r=ude(t)?{[t.id]:t.config}:t;if(i){const s=i.i18n||{},o=this.$iApi.$i18n;Object.entries(s.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(s.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(s.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const n=Object.entries(r).reduce((s,[o,a])=>(s.push(new C0(this.$iApi,o,a)),s),[]);return n.forEach(s=>this.panelStore.registerPanel(s)),n.length===1?n[0]:n.reduce((s,o)=>(s[o.id]=o,s),{})}async isRegistered(t){const i=Array.isArray(t)?t:[t];i.forEach(n=>{this.panelStore.regPromises[n]===void 0&&this.panelStore.addRegPromise(n)});const r=this.panelStore.getRegPromises(i);return Array.isArray(t)?Promise.all(r):r[0]}remove(t){const i=this.get(t);i&&(i.isOpen&&this.close(i),this.panelStore.removePanel(i))}get(t){const i=typeof t=="string"?t:t.id;return this.panelStore.items[i]}open(t){let i,r,n;if(typeof t=="string"||t instanceof C0?i=this.get(t):(i=this.get(t.id),{screen:r,props:n}=t),!i)return i;if(i.isOpen&&!i.isVisible)i.minimize();else if(i.isOpen)return i;return r||(i.route&&!n?{screen:r,props:n}=i.route:r=Object.keys(i.screens).pop()),this.show(i,{screen:r,props:n})?(this.panelStore.openPanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit($e.PANEL_OPENED,i)):console.error(`Failed to open ${i.id} panel.`),i}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(t){const i=this.get(t);return i&&(i.isPinned&&i.pin(!1),this.panelStore.closePanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit($e.PANEL_CLOSED,i),i)}minimize(t){const i=this.get(t);return i&&(i.isPinned&&i.pin(!1),this.panelStore.closePanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit($e.PANEL_MINIMIZED,i),i)}move(t,i){const r=this.get(t);return r&&(this.panelStore.movePanel(r,i),r)}toggle(t,i){let r;return typeof t=="string"||t instanceof C0?r=this.get(t):r=this.get(t.id),r&&(i=typeof i<"u"?i:!r.isVisible,i!==r.isVisible?i?this.open(t):this.close(r):r)}toggleMinimize(t,i){let r;return typeof t=="string"||t instanceof C0?r=this.get(t):r=this.get(t.id),r&&(i=typeof i<"u"?i:!r.isVisible,i!==r.isVisible?i?this.open(r):this.minimize(r):r)}pin(t,i){const r=this.get(t);return!r||(i=typeof i<"u"?i:!r.isPinned,!r.isPinned&&!i)||(this.panelStore.pinned=i?r:void 0),r}get pinned(){return this.panelStore.pinned||void 0}show(t,i){const r=this.get(t);if(!r)return r;if(r.screens[i.screen]){if(r.screens[i.screen]?.props){const n=Object.keys(r.screens[i.screen]?.props).filter(o=>o!=="panel"),s=i.props?Object.keys(i.props):[];for(let o=0;o<n.length;o++)if(!s.includes(n[o])&&r.screens[i.screen].props[n[o]].required)return}return i.screen in this.$element._context.components||r.registerScreen(i.screen),r.teleport&&(i.props={header:!!r.teleport?.showHeader,...i.props}),this.panelStore.items[r.id].route=i,r}}setStyle(t,i,r=!1){const n=this.get(t);return n&&(this.panelStore.items[n.id].style=r?i:{...n.style,...i},n)}expand(t,i){const r=this.get(t);return r&&(this.panelStore.items[r.id].expanded=i!==void 0?i:!r.expanded,r)}}function ude(e){return e.id!==void 0&&typeof e.id=="string"&&e.config!==void 0}const hde={};function fde(e,t){const i=vi("panel-screen");return fe(),Gt(i,{header:!1,class:"screen-spinner"},{content:Ti(()=>t[0]||(t[0]=[ce("div",{class:"loader"},null,-1)])),_:1})}const dde=oa(hde,[["render",fde],["__scopeId","data-v-d6b3771a"]]),pde=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>xe(()=>import("./screen-DkhLqstA.js"),__vite__mapDeps([230,191,192,1]),import.meta.url),"../fixtures/basemap/screen.vue":()=>xe(()=>import("./screen-CK54Suaf.js"),__vite__mapDeps([231,1,232]),import.meta.url),"../fixtures/export/screen.vue":()=>xe(()=>import("./screen-BDvTZtL_.js"),__vite__mapDeps([233,207,1]),import.meta.url),"../fixtures/geosearch/screen.vue":()=>xe(()=>import("./screen-ChOawQRw.js"),__vite__mapDeps([234,1,235]),import.meta.url),"../fixtures/grid/screen.vue":()=>xe(()=>import("./screen-D6dn_I-W.js"),__vite__mapDeps([236,212,1,237]),import.meta.url),"../fixtures/help/screen.vue":()=>xe(()=>import("./screen-CKpzrHmy.js"),__vite__mapDeps([238,239,1,240]),import.meta.url),"../fixtures/layer-reorder/screen.vue":()=>xe(()=>import("./screen-Cdx1aLX7.js"),__vite__mapDeps([241,242,1,243]),import.meta.url),"../fixtures/legend/screen.vue":()=>xe(()=>import("./screen-CEg5Gs6Z.js"),__vite__mapDeps([244,1]),import.meta.url),"../fixtures/metadata/screen.vue":()=>xe(()=>import("./screen-BkfPSGEi.js"),__vite__mapDeps([245,239,1,246]),import.meta.url),"../fixtures/settings/screen.vue":()=>xe(()=>import("./screen-BTS9B4c9.js"),__vite__mapDeps([247,242,248,249,1,250]),import.meta.url),"../fixtures/wizard/screen.vue":()=>xe(()=>import("./screen-BwExrOHc.js"),__vite__mapDeps([251,242,1,252]),import.meta.url)});class C0 extends Pi{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(t){return this.loadedScreens.indexOf(t)!==-1}registerScreen(t){const i=this.screens[t];let r;if(YZ(i)||HZ(i))r=i,this.loadedScreens.push(t);else if(nP(i))r={template:`<panel-screen :panel="this" :screenId="'${t}'">
                           </panel-screen>`};else{let n;typeof i=="string"?n=pde[`../fixtures/${i}`]():n=i();const s=new Promise((o,a)=>{n.then(l=>{this.loadedScreens.push(t),o(JZ(l)?l.default:l)}),n.catch(l=>a(l))});r=fE({loader:()=>s,loadingComponent:dde,delay:200})}this.$iApi.$element.component(t,r)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(t,i,r){if(super(t),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:i,style:{},expanded:!1,controls:{expand:!1,...r.controls},...r},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(t){return typeof t>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof t=="string"?{screen:t}:t}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(t){return this.$iApi.panel.move(this,t),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const t of this.$iApi.panel.visible)if(!t.teleport)return this.id===t.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let t=this.$iApi.panel.visible.length-1;t>=0;t--)if(!this.$iApi.panel.visible[t].teleport)return this.id===this.$iApi.panel.visible[t].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(t){return typeof t>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof t=="boolean"?t!==this.isOpen&&this.$iApi.panel.toggle(this,t):this.$iApi.panel.toggle({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}toggleMinimize(t){return typeof t>"u"||typeof t=="boolean"?this.$iApi.panel.toggleMinimize(this,t):this.$iApi.panel.toggleMinimize({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}pin(t){return t=typeof t<"u"?t:!this.isPinned,this.$iApi.panel.pin(this,t),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(t){const i=typeof t=="string"?{screen:t}:t;return this.route=i,this.$iApi.panel.show(this,i),this}setStyles(t,i=!1){return this.$iApi.panel.setStyle(this,t,i),this}expand(t){return this.$iApi.panel.expand(this,t),this}}function mde(e){const t={};(Array.isArray(e)?e:[e]).forEach(o=>{o.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),o.language="en");const a=yde(o);t[o.language]=a});const r=Object.entries(t).map(o=>{const a=o[1].fixturesEnabled;return delete o[1].fixturesEnabled,a});let n=!1;const s=r.reduce((o,a)=>o.filter(l=>{const c=a.includes(l);return n=n||!c,c}));return n&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),s.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:s,configs:t}}function yde(e){const t={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return bde(e.services,t),gde(e.map,t),_de(e.ui,t),e.plugins&&wde(e.plugins,t),t}function gde(e,t){if(e.layers&&e.layers.forEach(i=>{t.layers.unshift(vde(i))}),e.initialBasemapId&&(t.map.initialBasemapId=e.initialBasemapId),e.components){if(e.components.geoSearch&&(e.components.geoSearch.enabled&&t.fixturesEnabled.push("geosearch"),typeof e.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof e.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),e.components.overviewMap&&e.components.overviewMap.enabled&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.startMinimized=!e.components.overviewMap.initiallyExpanded,t.fixtures.overviewmap.expandFactor=e.components.overviewMap.expandFactor??1.5),e.components.northArrow&&e.components.northArrow.enabled){const i={};e.components.northArrow.arrowIcon&&(i.arrowIcon=e.components.northArrow.arrowIcon),e.components.northArrow.poleIcon&&(i.poleIcon=e.components.northArrow.poleIcon),i&&(t.fixtures.northarrow=i,t.fixturesEnabled.push("northarrow"))}if(e.components.scaleBar&&e.components.scaleBar.enabled){switch(t.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:e?.components?.scaleBar?.scalebarUnit==="english"||e?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},e.components?.mouseInfo?.spatialReference?.wkid){case 4326:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:t.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:t.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}e.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}e.components.basemap&&e.components.basemap.enabled&&t.fixturesEnabled.push("basemap")}e.extentSets&&(t.map.extentSets=[],e.extentSets.forEach(i=>{const r={id:i.id,default:{xmin:i.default.xmin,xmax:i.default.xmax,ymin:i.default.ymin,ymax:i.default.ymax,spatialReference:i.spatialReference}};i.full&&(r.full={xmin:i.full.xmin,xmax:i.full.xmax,ymin:i.full.ymin,ymax:i.full.ymax,spatialReference:i.spatialReference}),i.maximum&&(r.maximum={xmin:i.maximum.xmin,xmax:i.maximum.xmax,ymin:i.maximum.ymin,ymax:i.maximum.ymax,spatialReference:i.spatialReference}),t.map.extentSets.push(r)})),e.lodSets&&(t.map.lodSets=e.lodSets),e.tileSchemas&&(t.map.tileSchemas=[],e.tileSchemas.forEach(i=>{const r={id:i.id,name:i.name,extentSetId:i.extentSetId,lodSetId:i.lodSetId,thumbnailTileUrls:[],hasNorthPole:i.hasNorthPole||!1};i.overviewUrl&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.basemaps[i.id]={id:i.overviewUrl.id||`overviewmap-basemap-${i.id}`,tileSchemaId:i.id,layers:[{id:i.overviewUrl.id||`overviewmap-basemap-${i.id}-0`,layerType:i.overviewUrl.layerType==="esriDynamic"?Pe.MAPIMAGE:Pe.TILE,url:i.overviewUrl.url,opacity:i.overviewUrl.opacity??1}]}),t.map.tileSchemas.push(r)})),e.baseMaps&&(t.map.basemaps=[],e.baseMaps.forEach(i=>{const r={id:i.id,tileSchemaId:i.tileSchemaId,name:i.name,description:i.description,altText:i.altText,thumbnailUrl:i.thumbnailUrl,layers:[]};i.attribution&&(r.attribution={text:{},logo:{}},i.attribution.text&&(r.attribution.text.disabled=!i.attribution.text.enabled,r.attribution.text.value=i.attribution.text.value),i.attribution.logo&&(r.attribution.logo.disabled=!i.attribution.logo.enabled,r.attribution.logo.altText=i.attribution.logo.altText,r.attribution.logo.value=i.attribution.logo.value,r.attribution.logo.link=i.attribution.logo.link)),i.layers.forEach((n,s)=>{const o={id:n.id||`${i.id}-${s}`,layerType:n.layerType==="esriDynamic"?Pe.MAPIMAGE:Pe.TILE,url:n.url,opacity:n.opacity??1};r.layers.push(o)}),t.map.basemaps.push(r)})),e.legend&&(t.fixturesEnabled.push("legend"),e.legend.type==="autopopulate"?(t.fixtures.legend={root:{name:"I'm root",children:[]}},t.layers&&t.layers.toReversed().forEach(i=>{if(i.type==="esri-map-image"||i.type==="ogc-wms"){const r={name:i.name??`${i.id} Group`,children:[]};i.sublayers.forEach(n=>{const s={layerId:i.id};n.name&&(s.name=n.name),n.controls&&(s.controls=n.controls),n.disabledControls&&(s.disabledControls=n.disabledControls),i.type==="esri-map-image"?s.sublayerIndex=n.index:(s.sublayerId=n.id,console.warn(`sublayerId property defined in legend entry ${s.layerId} is currently not supported.`)),r.children.push(s)}),t.fixtures.legend.root.children.push(r)}else{const r={layerId:i.id};i.controls&&(r.controls=i.controls),i.disabledControls&&(r.disabledControls=i.disabledControls),t.fixtures.legend.root.children.push(r)}})):t.fixtures.legend={root:ES(e.legend.root)})}function ES(e){const t={name:e.name,children:[]};typeof e.hidden<"u"&&(t.hidden=e.hidden),typeof e.expanded<"u"&&(t.expanded=e.expanded);const i=["identify","opacity","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=of(e.controls,i),e.controls.includes("visibility")&&t.controls.push("visibilityButton"),(e.controls.length!==1||e.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),t.controls.push("expandButton")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=of(e.disabledControls,i),e.disabledControls.includes("visibility")&&t.disabledControls.push("visibilityButton"),(e.disabledControls.length!==1||e.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),e.children.forEach(r=>{if(r.layerId)t.children.push(CO(r));else if(r.infoType)r.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`):(t.children.push({infoType:r.infoType,content:r.content}),typeof r.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`));else if(r.exclusiveVisibility){const n={name:"Visibility Set",children:[],exclusive:!0};typeof r.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`),r.exclusiveVisibility.forEach(s=>{s.layerId?n.children.push(CO(s)):n.children.push(ES(s))}),t.children.push(n)}else t.children.push(ES(r))}),t}function CO(e){const t=e,i=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.layerControls=of(e.controls,i),t.layerControls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledLayerControls=of(e.disabledControls,i)),e.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),delete t.controlledIds),e.entryIndex&&(t.sublayerIndex=e.entryIndex,delete e.entryIndex),e.entryId&&console.warn(`entryId property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),t}function vde(e){const t=o_(e);switch(t.id=e.id,t.url=e.url,e.refreshInterval&&(t.refreshInterval=e.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),e.expectedResponseTime&&(t.expectedLoadTime=e.expectedResponseTime),e.metadataUrl&&(t.metadata={url:e.metadataUrl}),e.catalogueUrl&&(t.catalogueUrl=e.catalogueUrl),typeof e.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.tooltipField&&(t.tooltipField=e.tooltipField),e.tolerance&&(t.mouseTolerance=e.tolerance,e.layerType==="esriDynamic"&&(t.touchTolerance=e.tolerance+10)),e.customRenderer&&(t.customRenderer=e.customRenderer),e.layerType){case"esriDynamic":t.layerType="esri-map-image",typeof e.singleEntryCollapse<"u"&&(t.singleEntryCollapse=e.singleEntryCollapse),e.imageFormat&&(t.imageFormat=e.imageFormat),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(i=>{const r=o_(i);r.index=i.index,t.sublayers.push(r)}));break;case"esriFeature":t.layerType="esri-feature",e.fileType&&(t.layerType=e.fileType==="shapefile"?"file-shape":`file-${e.fileType}`,e.colour&&(t.colour=e.colour),e.latField&&(t.latField=e.latField),e.longField&&(t.longField=e.longField));break;case"ogcWfs":t.layerType="ogc-wfs",e.colour&&(t.colour=e.colour),typeof e.xyInAttribs<"u"&&(t.xyInAttribs=e.xyInAttribs);break;case"ogcWms":t.layerType="ogc-wms",e.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.featureInfoMimeType&&(e.featureInfoMimeType==="text/html;fgpv=summary"?t.featureInfoMimeType="text/html":t.featureInfoMimeType=e.featureInfoMimeType),e.legendMimeType&&console.warn(`legendMimeType property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(i=>{const r=o_(i);r.id=i.id,i.currentStyle&&(r.currentStyle=i.currentStyle,console.warn(`currentStyle property provided in layer entry ${i.id} of layer ${e.id} is currently not supported.`)),i.allStyles&&console.warn(`allStyles property provided in layer entry ${i.id} of layer ${e.id} cannot be mapped and will be skipped.`),t.sublayers.push(r)}));break;case"esriImage":t.layerType="esri-imagery";break;case"esriTile":t.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${e.layerType}`)}return e.details&&console.warn(`Details config provided in layer ${e.id} cannot be mapped and will be skipped.`),t}function o_(e){const t={};e.name&&(t.name=e.name),e.nameField&&(t.nameField=e.nameField),e.extent&&(t.extent=e.extent);const i=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=of(e.controls,i),t.controls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=of(e.disabledControls,i)),e.state&&(t.state={opacity:e.state.opacity??1,visibility:e.state.visibility??!0,identify:e.state.query??!0,hovertips:e.state.hovertips??!0},typeof e.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`)),typeof e.stateOnly<"u"&&(t.cosmetic=e.stateOnly),e.initialFilteredQuery&&(t.initialFilteredQuery=e.initialFilteredQuery),Sde(e,t),(typeof e.toggleSymbology<"u"||e.table)&&(t.fixtures={},typeof e.toggleSymbology<"u"&&(t.fixtures.legend={toggleSymbology:e.toggleSymbology}),e.table&&(t.fixtures.grid={},e.table.title&&(t.fixtures.grid.title=e.table.title),e.table.description&&console.warn(`description property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.search&&(e.table.search.enabled&&(t.fixtures.grid.search=e.table.search.enabled),e.table.search.value&&(t.fixtures.grid.searchFilter=e.table.search.value)),typeof e.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.applyMap<"u"&&(t.fixtures.grid.applyMap=e.table.applyMap),typeof e.table.showFilter<"u"&&(t.fixtures.grid.showFilter=e.table.showFilter),typeof e.table.filterByExtent<"u"&&(t.fixtures.grid.filterByExtent=e.table.filterByExtent),typeof e.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.columns&&(t.fixtures.grid.columns=[],e.table.columns.forEach(r=>{const n={field:r.data};r.title&&(n.title=r.title),r.description&&console.warn(`description property provided in column property in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof r.visible<"u"&&(n.visible=r.visible),r.width&&(n.width=r.width),r.sort&&(n.sort=r.sort),typeof r.searchable<"u"&&(n.searchable=r.searchable),r.filter&&(n.filter=r.filter),t.fixtures.grid.columns.push(n)})))),t}function of(e,t){const i=[];return e.forEach(r=>{t.includes("identify")&&r==="query"?i.push("identify"):t.includes("datatable")&&r==="data"?i.push("datatable"):t.includes(r)?i.push(r):console.warn(`Ignored invalid control: ${r}`)}),i}function bde(e,t){if(!e)return;e.search&&(t.fixtures.geosearch={},t.fixtures.geosearch.serviceUrls={geoNames:e.search.serviceUrls.geoNames,geoLocation:e.search.serviceUrls.geoLocation,geoProvince:e.search.serviceUrls.provinces,geoTypes:e.search.serviceUrls.types},e.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),e.search.settings&&(t.fixtures.geosearch.settings=e.search.settings),e.search.disabledSearches&&(t.fixtures.geosearch.settings.disabledSearchTypes=e.search.disabledSearches.filter(r=>r!=="SCALE"))),e.export&&(t.fixtures.export||(t.fixtures.export={},t.fixturesEnabled.push("export")),e.export.title&&(t.fixtures.export.title={selected:e.export.title.isSelected??!0,selectable:e.export.title.isSelectable??!0,value:e.export.title.value??"RAMP-Map / PCAR-Carte"}),e.export.map&&(t.fixtures.export.map={selected:e.export.map.isSelected??!0,selectable:e.export.map.isSelectable??!0},e.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),e.export.mapElements&&(t.fixtures.export.mapElements={selected:e.export.mapElements.isSelected??!0,selectable:e.export.mapElements.isSelectable??!0},e.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),e.export.legend&&(t.fixtures.export.legend={selected:e.export.legend.isSelected??!0,selectable:e.export.legend.isSelectable??!0},e.export.legend.columnWidth&&(t.fixtures.export.legend.columnWidth=e.export.legend.columnWidth),e.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),e.export.footnote&&(t.fixtures.export.footnote={selected:e.export.footnote.isSelected??!0,selectable:e.export.footnote.isSelectable??!0,value:e.export.footnote.value??""}),e.export.timestamp&&(t.fixtures.export.timestamp={selected:e.export.timestamp.isSelected??!0,selectable:e.export.timestamp.isSelectable??!0},e.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),e.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof e.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),e.proxyUrl&&(t.system.proxyUrl=e.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(r=>{typeof e[r]<"u"&&console.warn(`${r} property provided in services config cannot be mapped and will be skipped.`)})}function _de(e,t){if(e.navBar){t.fixtures.mapnav={zoomOption:e.navBar.zoom||"buttons",items:[]};const n=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];e.navBar.extra.forEach(s=>{const o=s.toLowerCase();n.includes(o)?t.fixtures.mapnav.items.push(o):console.warn(`Ignored invalid mapnav item: ${s}`)}),t.fixturesEnabled.push("mapnav")}if(e.help&&(t.fixtures.help={location:e.help.folderName&&e.help.folderName!=="default"?`./${e.help.folderName}`:"./help",panelWidth:350},t.fixturesEnabled.push("help")),e.legend){const n=["groupToggle","visibilityToggle"];e.legend.reorderable&&n.push("layerReorder"),e.legend.allowImport&&n.push("wizard"),t.fixtures.legend?t.fixtures.legend.headerControls=n:(t.fixturesEnabled.push("legend"),t.fixtures.legend={headerControls:n,root:{}}),e.legend.isOpen&&e.legend.isOpen.large&&t.panels.open.push({id:"legend"})}t.fixtures.appbar={items:[]},t.fixturesEnabled.push("appbar");const i=["layers","basemap","export","help","geoSearch"];e.appBar?(e.appBar.layers!==!1&&(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")),e.appBar.geoSearch!==!1&&t.fixturesEnabled.includes("geosearch")&&t.fixtures.appbar.items.push("geosearch"),e.appBar.basemap!==!1&&t.fixtures.appbar.items.push("basemap")):(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend"),t.fixtures.appbar.items.push("geosearch"),t.fixtures.appbar.items.push("basemap")),e.sideMenu&&e.sideMenu.items&&e.sideMenu.items.length>0&&e.sideMenu.items.forEach(n=>{n.forEach(s=>{s==="layers"&&!t.fixtures.appbar.items.includes("legend")?(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")):s!=="layers"&&i.includes(s)&&!t.fixtures.appbar.items.includes(s.toLowerCase())&&(t.fixtures.appbar.items.push(s.toLowerCase()),(s.toLowerCase()==="help"||s.toLowerCase()==="export"&&!t.fixturesEnabled.includes(s.toLowerCase()))&&t.fixturesEnabled.push(s.toLowerCase()))})}),e.tableIsOpen&&e.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(n=>{typeof e[n]<"u"&&console.warn(`${n} property provided in services config cannot be mapped and will be skipped.`)})}function wde(e,t){e.areasOfInterest.enable&&(t.fixturesEnabled.includes("areas-of-interest")||t.fixturesEnabled.push("areas-of-interest"),e.areasOfInterest.areas&&(t.fixtures["areas-of-interest"]={areas:e.areasOfInterest.areas.map(i=>({title:`${i["title-en-CA"]} / ${i["title-fr-CA"]}`,thumbnail:i.thumbnailUrl,altText:i.altText??"",description:i.description??"",extent:{xmin:i.xmin,xmax:i.xmax,ymin:i.ymin,ymax:i.ymax,spatialReference:{wkid:i.wkid}}}))}))}function Sde(e,t){const i=e.outfields&&e.outfields!=="*";if(!i&&!e.fieldMetadata)return;const r={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};e.fieldMetadata?(r.fieldInfo=e.fieldMetadata.map(n=>{const s={name:n.data};return n.alias&&(s.alias=n.alias),s}),i&&(e.outfields.split(",").map(s=>s.trim()).forEach(s=>{r.fieldInfo.findIndex(o=>o.name===s)===-1&&r.fieldInfo.push({name:s})}),r.exclusiveFields=!0)):i&&(r.fieldInfo=e.outfields.split(",").map(n=>({name:n.trim()})),r.exclusiveFields=!0),t.fieldMetadata=r}var zu={major:"4",minor:"11",patch:"0",timestamp:"Mon Mar 24 08:14:28 2025 -0400",hash:"560602803d2a6a4aa3e9d7717a574123bb439ee1"};console.info(`RAMP v${zu.major}.${zu.minor}.${zu.patch} [${zu.hash.slice(0,9)}] (Built on ${new Date(zu.timestamp.toString()).toLocaleString()})`);const zf=zu;function o1e(e){return mde(e)}const a1e=(e,t,i)=>new Hhe(e,t,i),xh=new WZ;export{hj as $,tt as A,ip as B,ie as C,zi as D,F0 as E,rT as F,sp as G,tm as H,Zc as I,j$ as J,It as K,Yge as L,Yt as M,Qa as N,fN as O,Rr as P,aU as Q,yme as R,Fpe as S,vme as T,wi as U,jt as V,fme as W,ds as X,uj as Y,_me as Z,Mge as _,Bx as a,tye as a$,_p as a0,JS as a1,Ym as a2,Xc as a3,Vme as a4,_s as a5,VW as a6,s1e as a7,Xo as a8,am as a9,Qpe as aA,xW as aB,xx as aC,em as aD,mt as aE,Xi as aF,_W as aG,h4 as aH,wW as aI,Ei as aJ,B$ as aK,lf as aL,Nc as aM,rF as aN,Eh as aO,vn as aP,G$ as aQ,d1 as aR,xG as aS,Ye as aT,N7 as aU,om as aV,cp as aW,YF as aX,I0e as aY,O0e as aZ,af as a_,n5 as aa,o5 as ab,s5 as ac,r5 as ad,s4 as ae,cge as af,f0e as ag,DD as ah,yye as ai,Cz as aj,_ye as ak,wye as al,dye as am,dp as an,mx as ao,wr as ap,j7 as aq,bye as ar,T_ as as,Q0e as at,kV as au,De as av,zn as aw,ro as ax,Qde as ay,Zo as az,B1 as b,l_ as b$,ia as b0,ue as b1,vx as b2,MW as b3,a5 as b4,sx as b5,nq as b6,C6 as b7,uye as b8,Aye as b9,nm as bA,o1e as bB,wme as bC,gme as bD,qge as bE,jc as bF,I1 as bG,JU as bH,Td as bI,_6 as bJ,gye as bK,vye as bL,j0e as bM,B0e as bN,q0e as bO,z0e as bP,V0e as bQ,fm as bR,wG as bS,M7 as bT,lge as bU,sm as bV,CW as bW,NW as bX,PW as bY,S0e as bZ,R$ as b_,zz as ba,yp as bb,mp as bc,nye as bd,hye as be,ho as bf,Uye as bg,al as bh,zme as bi,Lc as bj,qde as bk,T7 as bl,at as bm,N$ as bn,ut as bo,Mme as bp,U0e as bq,Bi as br,A1 as bs,Lme as bt,Wv as bu,R0e as bv,Npe as bw,Oi as bx,lp as by,im as bz,Cd as c,p1 as c$,FO as c0,Ade as c1,YO as c2,JO as c3,ZU as c4,xC as c5,EC as c6,Cme as c7,E1 as c8,T1 as c9,hU as cA,Th as cB,XS as cC,ype as cD,$0e as cE,Cde as cF,tg as cG,C7 as cH,vpe as cI,H7 as cJ,Qc as cK,tb as cL,i5 as cM,QS as cN,kc as cO,E0e as cP,Wj as cQ,Mde as cR,Upe as cS,cye as cT,Cge as cU,k2 as cV,A0e as cW,ege as cX,uge as cY,Kq as cZ,Zq as c_,np as ca,wC as cb,pye as cc,Oge as cd,Qy as ce,Pz as cf,Eye as cg,Nz as ch,xye as ci,_C as cj,Lde as ck,r$ as cl,zO as cm,WO as cn,HO as co,Gde as cp,Zv as cq,CC as cr,mf as cs,C_ as ct,Ht as cu,$_ as cv,P_ as cw,Xy as cx,Ex as cy,mpe as cz,a1e as d,Ut as d$,jde as d0,Hge as d1,Kge as d2,Jge as d3,Sye as d4,nge as d5,fge as d6,hme as d7,Eme as d8,Hme as d9,p0e as dA,cA as dB,lpe as dC,Dpe as dD,upe as dE,cpe as dF,Ks as dG,NS as dH,sme as dI,nme as dJ,VV as dK,hm as dL,rt as dM,ti as dN,Yc as dO,Ehe as dP,et as dQ,vi as dR,Tt as dS,Et as dT,fe as dU,Gt as dV,Ti as dW,ce as dX,we as dY,El as dZ,di as d_,kpe as da,jS as db,tC as dc,U6 as dd,Er as de,Ts as df,vf as dg,po as dh,ou as di,$de as dj,m$ as dk,b1 as dl,Cx as dm,j1 as dn,wp as dp,ps as dq,qq as dr,KS as ds,Wq as dt,pme as du,pge as dv,v_ as dw,bf as dx,y0e as dy,x0e as dz,Age as e,bq as e$,Ie as e0,Ot as e1,Ci as e2,X as e3,Sg as e4,Gg as e5,lv as e6,qi as e7,ar as e8,Ms as e9,B0 as eA,M0e as eB,rm as eC,kde as eD,e0e as eE,Ome as eF,HU as eG,YU as eH,Pde as eI,qme as eJ,WU as eK,Ode as eL,n0e as eM,pC as eN,Hde as eO,Cpe as eP,PS as eQ,$$ as eR,SU as eS,WS as eT,d0e as eU,FS as eV,F$ as eW,lq as eX,Sme as eY,A7 as eZ,nF as e_,ao as ea,Wt as eb,The as ec,$e as ed,Xt as ee,Ze as ef,fE as eg,SG as eh,bs as ei,Ppe as ej,IG as ek,mye as el,S$ as em,Fge as en,Ige as eo,Z0e as ep,ope as eq,Pge as er,dn as es,Tge as et,vq as eu,lh as ev,yU as ew,ml as ex,qu as ey,M1 as ez,nW as f,NN as f$,_q as f0,wq as f1,mq as f2,eye as f3,Nge as f4,$ge as f5,epe as f6,C0e as f7,xhe as f8,xi as f9,Bhe as fA,ei as fB,Uge as fC,Gge as fD,r1e as fE,d4 as fF,Zge as fG,CS as fH,i0 as fI,z1 as fJ,U0 as fK,gq as fL,ej as fM,pq as fN,jhe as fO,pv as fP,oa as fQ,j_ as fR,Dme as fS,Fme as fT,Ume as fU,jme as fV,Gme as fW,Bme as fX,ape as fY,ipe as fZ,iC as f_,jg as fa,Ghe as fb,aC as fc,lN as fd,uf as fe,Xde as ff,J0e as fg,D0e as fh,KO as fi,xpe as fj,LF as fk,UF as fl,BF as fm,$c as fn,Yde as fo,hF as fp,Cc as fq,Gc as fr,_pe as fs,S1 as ft,ap as fu,Nde as fv,tj as fw,$me as fx,Mh as fy,Yw as fz,xh as g,HF as g$,CN as g0,$N as g1,g1 as g2,hA as g3,bpe as g4,O8 as g5,Zp as g6,Mm as g7,BE as g8,Dhe as g9,v7 as gA,Ede as gB,b7 as gC,b0e as gD,w0e as gE,L$ as gF,kC as gG,Rj as gH,Ax as gI,tge as gJ,Qye as gK,jpe as gL,Gpe as gM,Pme as gN,VU as gO,Ame as gP,GU as gQ,dv as gR,kp as gS,ft as gT,k$ as gU,VT as gV,MS as gW,IS as gX,O as gY,Nme as gZ,dme as g_,Fhe as ga,SO as gb,Na as gc,d9 as gd,Q3 as ge,Pe as gf,Vhe as gg,Xr as gh,er as gi,Io as gj,vs as gk,Za as gl,_l as gm,Pi as gn,Lv as go,cg as gp,Whe as gq,oE as gr,cs as gs,fv as gt,PP as gu,eW as gv,jx as gw,cq as gx,kO as gy,Tde as gz,ge as h,Rde as h$,x1 as h0,xme as h1,Cfe as h2,zfe as h3,Nfe as h4,qhe as h5,UC as h6,P0 as h7,oi as h8,Pj as h9,age as hA,Wa as hB,_E as hC,e5 as hD,c0e as hE,w1 as hF,iN as hG,q$ as hH,Jpe as hI,Ype as hJ,gF as hK,yF as hL,Wde as hM,$7 as hN,g0e as hO,Zz as hP,iye as hQ,Lpe as hR,Oc as hS,G0e as hT,rpe as hU,qO as hV,ume as hW,SC as hX,HT as hY,aN as hZ,Tme as h_,jj as ha,LC as hb,t0e as hc,Zj as hd,Kj as he,o0e as hf,_0e as hg,e1e as hh,t1e as hi,Qge as hj,pp as hk,Kde as hl,Zde as hm,Jde as hn,cU as ho,Jhe as hp,zhe as hq,Lt as hr,Sp as hs,Z3 as ht,yr as hu,Ge as hv,uq as hw,Dge as hx,Un as hy,I7 as hz,iw as i,Bge as i$,Pr as i0,mi as i1,Ve as i2,Xs as i3,xS as i4,f9 as i5,XL as i6,Uhe as i7,Kc as i8,Zt as i9,Ke as iA,Kye as iB,Jye as iC,Cq as iD,Xye as iE,Zye as iF,Lq as iG,kD as iH,EE as iI,vE as iJ,fr as iK,Lge as iL,kge as iM,Rge as iN,Gye as iO,_7 as iP,nz as iQ,Wpe as iR,BS as iS,ll as iT,US as iU,F0e as iV,i0e as iW,i1e as iX,jge as iY,R7 as iZ,su as i_,Ide as ia,Lye as ib,mme as ic,U$ as id,hi as ie,mF as ig,Pa as ih,X0e as ii,tu as ij,V7 as ik,k1 as il,xU as im,JT as io,V6 as ip,ppe as iq,Ime as ir,Zh as is,As as it,Coe as iu,co as iv,Ef as iw,Ni as ix,dae as iy,wue as iz,yx as j,jye as j$,_f as j0,B_ as j1,fye as j2,sye as j3,aye as j4,oye as j5,lye as j6,Tye as j7,bT as j8,rye as j9,Qz as jA,eq as jB,Vj as jC,s0e as jD,T0e as jE,aG as jF,u0e as jG,qj as jH,h0e as jI,dge as jJ,U1 as jK,m0e as jL,AU as jM,sge as jN,oge as jO,R_ as jP,Y0e as jQ,$C as jR,fj as jS,a0e as jT,Yj as jU,Wme as jV,Jme as jW,cj as jX,kme as jY,Rme as jZ,fF as j_,wh as ja,jE as jb,sh as jc,C0 as jd,Uo as je,gn as jf,$i as jg,D6 as jh,Hpe as ji,zT as jj,Gz as jk,Kme as jl,Zme as jm,Xme as jn,q7 as jo,qpe as jp,bme as jq,yT as jr,W0e as js,Ude as jt,qz as ju,Vz as jv,gp as jw,bp as jx,tpe as jy,wx as jz,Es as k,NC as k0,Yme as k1,l0e as k2,Xge as k3,Vye as k4,KD as k5,tme as k6,ime as k7,Rpe as k8,Vge as k9,zge as ka,Kpe as kb,eF as kc,B2 as kd,Ej as ke,r0e as kf,Oj as kg,nG as kh,sG as ki,kT as kj,zde as kk,Bye as kl,Fde as km,x7 as kn,Dde as ko,rge as kp,ige as kq,v0e as kr,hge as ks,H0e as l,RN as m,Pt as n,Vde as o,dm as p,g as q,i$ as r,ot as s,$S as t,T as u,ni as v,Wge as w,f4 as x,ED as y,Zi as z};
