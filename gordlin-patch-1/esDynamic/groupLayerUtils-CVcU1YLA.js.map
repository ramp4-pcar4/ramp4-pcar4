{"version":3,"file":"groupLayerUtils-CVcU1YLA.js","sources":["../../node_modules/@arcgis/core/layers/save/groupLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as r}from\"./utils.js\";import{createForItemWrite as t}from\"../../portal/support/jsonContext.js\";import{typeKeyword as o,hasTypeKeyword as a,removeTypeKeyword as s,addTypeKeyword as n}from\"../../portal/support/portalItemUtils.js\";import{saveResources as i}from\"../../webdoc/support/resourceUtils.js\";const u=\"Group Layer\",c=\"group-layer-save\",l=\"group-layer-save-as\",p=o.GROUP_LAYER_MAP;function m(e){return{isValid:\"group\"===e.type,errorMessage:\"Layer.type should be 'group'\"}}function y(e){return{isValid:a(e,p),errorMessage:`Layer.portalItem.typeKeywords should have '${p}'`}}function f(e,r){return{...t(e,\"web-map\",!0),initiator:r}}function v(e){const r=e.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}async function d(e,r){r.title||=e.title,s(r,o.METADATA),n(r,p)}async function I(r,t){return e({layer:r,itemType:u,validateLayer:m,validateItem:y,createJSONContext:e=>f(e,r),createItemData:v,errorNamePrefix:c,saveResources:async(e,t)=>(r.sourceIsPortalItem||await e.removeAllResources().catch((()=>{})),i(r.resourceReferences,t))},t)}async function g(e,t,o){return r({layer:e,itemType:u,validateLayer:m,createJSONContext:r=>f(r,e),createItemData:v,errorNamePrefix:l,newItem:t,setItemProperties:d,saveResources:(r,t)=>i(e.resourceReferences,t)},o)}export{I as save,g as saveAs};\n"],"names":["u","c","l","p","o","m","y","a","f","t","v","d","s","n","I","r","e","i","g"],"mappings":";;;;AAIkU,MAAMA,IAAE,eAAcC,IAAE,oBAAmBC,IAAE,uBAAsBC,IAAEC,EAAE;AAAgB,SAASC,EAAE,GAAE;AAAC,SAAM,EAAC,SAAkB,EAAE,SAAZ,SAAiB,cAAa,+BAA8B;AAAC;AAAC,SAASC,EAAE,GAAE;AAAC,SAAM,EAAC,SAAQC,EAAE,GAAEJ,CAAC,GAAE,cAAa,8CAA8CA,CAAC,IAAG;AAAC;AAAC,SAASK,EAAE,GAAE,GAAE;AAAC,SAAM,EAAC,GAAGC,EAAE,GAAE,WAAU,EAAE,GAAE,WAAU,EAAC;AAAC;AAAC,SAASC,EAAE,GAAE;AAAC,QAAM,IAAE,EAAE;AAAU,SAAO,QAAQ,QAAQ,KAAG,OAAO,KAAK,CAAC,EAAE,SAAO,IAAE,IAAI;AAAC;AAAC,eAAeC,EAAE,GAAE,GAAE;AAAC,IAAE,UAAQ,EAAE,OAAMC,EAAE,GAAER,EAAE,QAAQ,GAAES,EAAE,GAAEV,CAAC;AAAC;AAAC,eAAeW,EAAEC,GAAEN,GAAE;AAAC,SAAOO,EAAE,EAAC,OAAMD,GAAE,UAASf,GAAE,eAAcK,GAAE,cAAaC,GAAE,mBAAkB,CAAAU,MAAGR,EAAEQ,GAAED,CAAC,GAAE,gBAAeL,GAAE,iBAAgBT,GAAE,eAAc,OAAMe,GAAEP,OAAKM,EAAE,sBAAoB,MAAMC,EAAE,mBAAoB,EAAC,MAAO,MAAI;AAAA,EAAE,CAAA,GAAGC,EAAEF,EAAE,oBAAmBN,CAAC,GAAE,GAAEA,CAAC;AAAC;AAAC,eAAeS,EAAE,GAAET,GAAEL,GAAE;AAAC,SAAOW,EAAE,EAAC,OAAM,GAAE,UAASf,GAAE,eAAcK,GAAE,mBAAkB,CAAAU,MAAGP,EAAEO,GAAE,CAAC,GAAE,gBAAeL,GAAE,iBAAgBR,GAAE,SAAQO,GAAE,mBAAkBE,GAAE,eAAc,CAACI,GAAEN,MAAIQ,EAAE,EAAE,oBAAmBR,CAAC,EAAC,GAAEL,CAAC;AAAC;","x_google_ignoreList":[0]}