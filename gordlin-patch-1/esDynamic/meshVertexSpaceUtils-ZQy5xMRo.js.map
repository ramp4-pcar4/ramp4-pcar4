{"version":3,"file":"meshVertexSpaceUtils-ZQy5xMRo.js","sources":["../../node_modules/@arcgis/core/geometry/support/meshVertexSpaceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{deprecated as e}from\"../../core/deprecate.js\";import r from\"../../core/Logger.js\";import n from\"../Point.js\";import o from\"./MeshGeoreferencedVertexSpace.js\";import i from\"./MeshLocalVertexSpace.js\";import{t}from\"../../chunks/vec3.js\";function c(){return r.getLogger(\"esri.geometry.Mesh\")}function a(e){const{vertexSpace:r}=e;if(null!=r.origin)return e.clone();const{anchor:n}=e,i=n.clone(),c=new o({origin:[i.x,i.y,i.z]}),a=e.cloneWithVertexSpace(c),{position:s}=a.vertexAttributes;return a.vertexAttributes.position=t(new Float64Array(s.length),s,[-i.x,-i.y,-(i.z??0)]),a.vertexAttributesChanged(),a}function s(e,r){switch(e.type){case\"georeferenced\":return g(e)&&!r.isGeographic&&!r.isWebMercator;case\"local\":return r.isGeographic||r.isWebMercator}}function g(e){return null!=e.origin}function p(e){return g(e.vertexSpace)}function u(e,r){if(!g(e))return null;const[o,i,t]=e.origin;return new n({x:o,y:i,z:t,spatialReference:r})}function f(r,n){const{x:t,y:a,z:s,spatialReference:g}=r,p=[t,a,s??0];if(void 0!==n?.geographic){if(e(c(),\"option: geographic\",{replacement:\"use vertexSpace option instead\",version:\"4.29\",warnOnce:!0}),!n?.vertexSpace)return n?.geographic?new i({origin:p}):new o({origin:p});c().warn(\"Deprecated geographic flag ignored since vertexSpace option is provided.\")}if(!n?.vertexSpace)return g.isGeographic||g.isWebMercator?new i({origin:p}):new o({origin:p});switch(n.vertexSpace){case\"local\":return new i({origin:p});case\"georeferenced\":return new o({origin:p});case\"georeferenced-absolute\":return new o}}function l(e){return e.isGeographic||e.isWebMercator?\"local\":\"georeferenced\"}function h(e,r){return\"local\"===e?new i({origin:r}):new o({origin:r})}export{h as createVertexSpace,c as getMeshLogger,p as isMeshWithRelativeVertexSpace,g as isRelativeVertexSpace,l as preferredVertexSpaceTypeForSR,f as selectVertexSpace,s as shouldUpdateFast,a as toRelativeVertexSpace,u as vertexSpaceOriginToPoint};\n"],"names":["c","r","a","n","i","o","s","t","g","p","u","f","e","l","h"],"mappings":";;;AAIkP,SAASA,IAAG;AAAC,SAAOC,EAAE,UAAU,oBAAoB;AAAC;AAAC,SAASC,EAAE,GAAE;AAAC,QAAK,EAAC,aAAY,EAAC,IAAE;AAAE,MAAS,EAAE,UAAR,KAAe,QAAO,EAAE,MAAO;AAAC,QAAK,EAAC,QAAOC,EAAC,IAAE,GAAEC,IAAED,EAAE,MAAK,GAAGH,IAAE,IAAIK,EAAE,EAAC,QAAO,CAACD,EAAE,GAAEA,EAAE,GAAEA,EAAE,CAAC,EAAC,CAAC,GAAEF,IAAE,EAAE,qBAAqBF,CAAC,GAAE,EAAC,UAASM,EAAC,IAAEJ,EAAE;AAAiB,SAAOA,EAAE,iBAAiB,WAASK,EAAE,IAAI,aAAaD,EAAE,MAAM,GAAEA,GAAE,CAAC,CAACF,EAAE,GAAE,CAACA,EAAE,GAAE,EAAEA,EAAE,KAAG,EAAE,CAAC,GAAEF,EAAE,wBAAuB,GAAGA;AAAC;AAAuJ,SAASM,EAAE,GAAE;AAAC,SAAa,EAAE,UAAR;AAAc;AAAC,SAASC,EAAE,GAAE;AAAC,SAAOD,EAAE,EAAE,WAAW;AAAC;AAAC,SAASE,EAAE,GAAE,GAAE;AAAC,MAAG,CAACF,EAAE,CAAC,EAAE,QAAO;AAAK,QAAK,CAACH,GAAED,GAAEG,CAAC,IAAE,EAAE;AAAO,SAAO,IAAIJ,EAAE,EAAC,GAAEE,GAAE,GAAED,GAAE,GAAEG,GAAE,kBAAiB,EAAC,CAAC;AAAC;AAAC,SAASI,EAAEV,GAAEE,GAAE;AAAC,QAAK,EAAC,GAAEI,GAAE,GAAEL,GAAE,GAAEI,GAAE,kBAAiBE,EAAC,IAAEP,GAAEQ,IAAE,CAACF,GAAEL,GAAEI,KAAG,CAAC;AAAE,MAAYH,GAAG,eAAZ,QAAuB;AAAC,QAAGS,EAAEZ,EAAG,GAAC,sBAAqB,EAAC,aAAY,kCAAiC,SAAQ,QAAO,UAAS,GAAE,CAAC,GAAE,CAACG,GAAG,YAAY,QAAOA,GAAG,aAAW,IAAIC,EAAE,EAAC,QAAOK,EAAC,CAAC,IAAE,IAAIJ,EAAE,EAAC,QAAOI,EAAC,CAAC;AAAE,IAAAT,EAAC,EAAG,KAAK,0EAA0E;AAAA,EAAC;AAAC,MAAG,CAACG,GAAG,YAAY,QAAOK,EAAE,gBAAcA,EAAE,gBAAc,IAAIJ,EAAE,EAAC,QAAOK,EAAC,CAAC,IAAE,IAAIJ,EAAE,EAAC,QAAOI,EAAC,CAAC;AAAE,UAAON,EAAE,aAAW;AAAA,IAAE,KAAI;AAAQ,aAAO,IAAIC,EAAE,EAAC,QAAOK,EAAC,CAAC;AAAA,IAAE,KAAI;AAAgB,aAAO,IAAIJ,EAAE,EAAC,QAAOI,EAAC,CAAC;AAAA,IAAE,KAAI;AAAyB,aAAO,IAAIJ;AAAAA,EAAC;AAAC;AAAC,SAASQ,EAAE,GAAE;AAAC,SAAO,EAAE,gBAAc,EAAE,gBAAc,UAAQ;AAAe;AAAC,SAASC,EAAE,GAAE,GAAE;AAAC,SAAgB,MAAV,UAAY,IAAIV,EAAE,EAAC,QAAO,EAAC,CAAC,IAAE,IAAIC,EAAE,EAAC,QAAO,EAAC,CAAC;AAAC;","x_google_ignoreList":[0]}