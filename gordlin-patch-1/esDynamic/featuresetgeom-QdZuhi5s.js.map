{"version":3,"file":"featuresetgeom-QdZuhi5s.js","sources":["../../node_modules/@arcgis/core/arcade/functions/featuresetgeom.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ArcadeExecutionError as e,ExecutionErrorCodes as n}from\"../executionError.js\";import{shapeExtent as t}from\"../kernel.js\";import{I as r,H as i,j as a,u as s}from\"../../chunks/languageUtils.js\";import u from\"../featureset/actions/SpatialFilter.js\";import o from\"../featureset/sources/Empty.js\";import l from\"../../geometry/Geometry.js\";import{relate as c,crosses as f,touches as p,within as m,overlaps as d,contains as w,intersects as h}from\"../../geometry/geometryEngineAsync.js\";function y(e){return e instanceof l}function S(i,a,c,S){return S(i,a,(async(S,R,v)=>{if(v.length<2)throw new e(i,n.WrongNumberOfParameters,a);if(null===(v=r(v))[0]&&null===v[1])return!1;if(s(v[0])){if(v[1]instanceof l)return new u({parentfeatureset:v[0],relation:c,relationGeom:v[1]});if(null===v[1])return new o({parentfeatureset:v[0]});throw new e(i,n.InvalidParameter,a)}if(y(v[0])){if(y(v[1])){switch(c){case\"esriSpatialRelEnvelopeIntersects\":return h(t(v[0]),t(v[1]));case\"esriSpatialRelIntersects\":return h(v[0],v[1]);case\"esriSpatialRelContains\":return w(v[0],v[1]);case\"esriSpatialRelOverlaps\":return d(v[0],v[1]);case\"esriSpatialRelWithin\":return m(v[0],v[1]);case\"esriSpatialRelTouches\":return p(v[0],v[1]);case\"esriSpatialRelCrosses\":return f(v[0],v[1])}throw new e(i,n.InvalidParameter,a)}if(s(v[1]))return new u({parentfeatureset:v[1],relation:c,relationGeom:v[0]});if(null===v[1])return!1;throw new e(i,n.InvalidParameter,a)}if(null!==v[0])throw new e(i,n.InvalidParameter,a);return s(v[1])?new o({parentfeatureset:v[1]}):!(v[1]instanceof l||null===v[1])&&void 0}))}function R(t){\"async\"===t.mode&&(t.functions.intersects=function(e,n){return S(e,n,\"esriSpatialRelIntersects\",t.standardFunctionAsync)},t.functions.envelopeintersects=function(e,n){return S(e,n,\"esriSpatialRelEnvelopeIntersects\",t.standardFunctionAsync)},t.signatures.push({name:\"envelopeintersects\",min:2,max:2}),t.functions.contains=function(e,n){return S(e,n,\"esriSpatialRelContains\",t.standardFunctionAsync)},t.functions.overlaps=function(e,n){return S(e,n,\"esriSpatialRelOverlaps\",t.standardFunctionAsync)},t.functions.within=function(e,n){return S(e,n,\"esriSpatialRelWithin\",t.standardFunctionAsync)},t.functions.touches=function(e,n){return S(e,n,\"esriSpatialRelTouches\",t.standardFunctionAsync)},t.functions.crosses=function(e,n){return S(e,n,\"esriSpatialRelCrosses\",t.standardFunctionAsync)},t.functions.relate=function(u,f){return t.standardFunctionAsync(u,f,((t,p,m)=>{if(m=r(m),i(m,3,3,u,f),y(m[0])&&y(m[1]))return c(m[0],m[1],a(m[2]));if(m[0]instanceof l&&null===m[1])return!1;if(m[1]instanceof l&&null===m[0])return!1;if(s(m[0])&&null===m[1])return new o({parentfeatureset:m[0]});if(s(m[1])&&null===m[0])return new o({parentfeatureset:m[1]});if(s(m[0])&&m[1]instanceof l)return m[0].relate(m[1],a(m[2]));if(s(m[1])&&m[0]instanceof l)return m[1].relate(m[0],a(m[2]));if(null===m[0]&&null===m[1])return!1;throw new e(u,n.InvalidParameter,f)}))})}export{R as registerFunctions};\n"],"names":["y","e","l","S","i","a","c","R","v","n","r","s","u","o","h","t","w","d","m","p","f"],"mappings":"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","x_google_ignoreList":[0]}