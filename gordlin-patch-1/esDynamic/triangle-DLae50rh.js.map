{"version":3,"file":"triangle-DLae50rh.js","sources":["../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BoundingInfo.js","../../node_modules/@arcgis/core/geometry/support/triangle.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Layer=0]=\"Layer\",e[e.Object=1]=\"Object\",e[e.Mesh=2]=\"Mesh\",e[e.Line=3]=\"Line\",e[e.Point=4]=\"Point\",e[e.Material=5]=\"Material\",e[e.Texture=6]=\"Texture\",e[e.COUNT=7]=\"COUNT\"}(e||(e={}));export{e as ContentObjectType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport i from\"../../../../core/PooledArray.js\";import{m as t,a as e}from\"../../../../chunks/vec32.js\";import{fromValues as s,clone as r,create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{assert as h}from\"./Util.js\";class o{constructor(i,e,o){this.primitiveIndices=i,this._numIndexPerPrimitive=e,this.position=o,this._children=void 0,h(i.length>=1),h(3===o.size||4===o.size);const{data:c,size:l,indices:m}=o;h(m.length%this._numIndexPerPrimitive==0),h(m.length>=i.length*this._numIndexPerPrimitive);const d=i.length;let u=l*m[this._numIndexPerPrimitive*i[0]];a.clear(),a.push(u);const f=s(c[u],c[u+1],c[u+2]),x=r(f);for(let t=0;t<d;++t){const e=this._numIndexPerPrimitive*i[t];for(let i=0;i<this._numIndexPerPrimitive;++i){u=l*m[e+i],a.push(u);let t=c[u];f[0]=Math.min(t,f[0]),x[0]=Math.max(t,x[0]),t=c[u+1],f[1]=Math.min(t,f[1]),x[1]=Math.max(t,x[1]),t=c[u+2],f[2]=Math.min(t,f[2]),x[2]=Math.max(t,x[2])}}this.bbMin=f,this.bbMax=x;const P=t(n(),this.bbMin,this.bbMax,.5);this.radius=.5*Math.max(Math.max(x[0]-f[0],x[1]-f[1]),x[2]-f[2]);let v=this.radius*this.radius;for(let t=0;t<a.length;++t){u=a.at(t);const i=c[u]-P[0],e=c[u+1]-P[1],s=c[u+2]-P[2],r=i*i+e*e+s*s;if(r<=v)continue;const n=Math.sqrt(r),h=.5*(n-this.radius);this.radius=this.radius+h,v=this.radius*this.radius;const o=h/n;P[0]+=i*o,P[1]+=e*o,P[2]+=s*o}this.center=P,a.clear()}getChildren(){if(this._children||e(this.bbMin,this.bbMax)<=1)return this._children;const i=t(n(),this.bbMin,this.bbMax,.5),s=this.primitiveIndices.length,r=new Uint8Array(s),h=new Array(8);for(let t=0;t<8;++t)h[t]=0;const{data:a,size:c,indices:l}=this.position;for(let t=0;t<s;++t){let e=0;const s=this._numIndexPerPrimitive*this.primitiveIndices[t];let n=c*l[s],o=a[n],m=a[n+1],d=a[n+2];for(let i=1;i<this._numIndexPerPrimitive;++i){n=c*l[s+i];const t=a[n],e=a[n+1],r=a[n+2];t<o&&(o=t),e<m&&(m=e),r<d&&(d=r)}o<i[0]&&(e|=1),m<i[1]&&(e|=2),d<i[2]&&(e|=4),r[t]=e,++h[e]}let m=0;for(let t=0;t<8;++t)h[t]>0&&++m;if(m<2)return;const d=new Array(8);for(let t=0;t<8;++t)d[t]=h[t]>0?new Uint32Array(h[t]):void 0;for(let t=0;t<8;++t)h[t]=0;for(let t=0;t<s;++t){const i=r[t];d[i][h[i]++]=this.primitiveIndices[t]}this._children=new Array;for(let t=0;t<8;++t)void 0!==d[t]&&this._children.push(new o(d[t],this._numIndexPerPrimitive,this.position));return this._children}static prune(){a.prune()}}const a=new i({deallocator:null});export{o as BoundingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ObjectStack as t}from\"../../core/ObjectStack.js\";import{c as e,f as n,b as r,k as o,h as c,g as s,l as p}from\"../../chunks/vec32.js\";import{clone as i,create as a}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as f,distance2 as u,fromValues as g}from\"./lineSegment.js\";import{sv3d as m}from\"./vectorStacks.js\";function j(t){return t?{p0:i(t.p0),p1:i(t.p1),p2:i(t.p2)}:{p0:a(),p1:a(),p2:a()}}function l(t,e,n){const r=x.get();return r.p0=t,r.p1=e,r.p2=n,r}function b(t,e=j()){return h(t.p0,t.p1,t.p2,e)}function h(t,n,r,o=j()){return e(o.p0,t),e(o.p1,n),e(o.p2,r),o}function k(t,e){const c=t.p0,s=t.p1,p=t.p2,i=n(m.get(),s,c),a=n(m.get(),p,s),f=n(m.get(),c,p),j=n(m.get(),e,c),l=n(m.get(),e,s),b=n(m.get(),e,p),h=r(i,i,f),k=o(r(m.get(),i,h),j),v=o(r(m.get(),a,h),l),S=o(r(m.get(),f,h),b);if(k>0&&v>0&&S>0){const t=o(h,j);return t*t/o(h,h)}const d=u(g(c,i,w.get()),e),x=u(g(s,a,w.get()),e),M=u(g(p,f,w.get()),e);return Math.min(d,x,M)}function v(t,e,n){const r=1e-5,{direction:o,origin:p}=e,{p0:i,p1:a,p2:f}=t,u=a[0]-i[0],g=a[1]-i[1],m=a[2]-i[2],j=f[0]-i[0],l=f[1]-i[1],b=f[2]-i[2],h=o[1]*b-l*o[2],k=o[2]*j-b*o[0],v=o[0]*l-j*o[1],S=u*h+g*k+m*v;if(S>-r&&S<r)return!1;const d=1/S,w=p[0]-i[0],x=p[1]-i[1],M=p[2]-i[2],O=d*(w*h+x*k+M*v);if(O<0||O>1)return!1;const V=x*m-g*M,q=M*u-m*w,y=w*g-u*x,z=d*(o[0]*V+o[1]*q+o[2]*y);if(z<0||O+z>1)return!1;if(n){c(n,o,d*(j*V+l*q+b*y)),s(n,p,n)}return!0}function S(t,e,n){const r=e[0]-t[0],o=e[1]-t[1],c=n[0]-t[0],s=n[1]-t[1];return.5*Math.abs(r*s-o*c)}function d(t,e,o){return n(M,e,t),n(O,o,t),.5*p(r(M,M,O))}const w=new t(f),x=new t((()=>j())),M=a(),O=a();export{S as areaPoints2d,d as areaPoints3d,b as copy,j as create,k as distance2,h as fromValues,v as intersectRay,l as wrap};\n"],"names":["e","o","i","h","c","m","d","u","a","f","s","x","r","t","P","n","l","j","M","O","p"],"mappings":"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","x_google_ignoreList":[0,1,2]}