{"version":3,"file":"VideoLayerView2D-RddMbtnP.js","sources":["../../node_modules/@arcgis/core/layers/support/TelemetryDisplay.js","../../node_modules/@arcgis/core/views/2d/layers/VideoLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as e}from\"../../core/Clonable.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(e(r)){constructor(o){super(o),this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};o([t({type:Boolean})],p.prototype,\"frameCenter\",void 0),o([t({type:Boolean})],p.prototype,\"frameOutline\",void 0),o([t({type:Boolean})],p.prototype,\"lineOfSight\",void 0),o([t({type:Boolean})],p.prototype,\"sensorLocation\",void 0),o([t({type:Boolean})],p.prototype,\"sensorTrail\",void 0),p=o([s(\"esri.layers.support.TelemetryDisplay\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Color.js\";import r from\"../../../Graphic.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{watch as s,initial as l}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import h from\"../../../layers/GraphicsLayer.js\";import m from\"../../../layers/support/TelemetryDisplay.js\";import{LayerView2DMixin as n}from\"./LayerView2D.js\";import y from\"./graphics/GraphicContainer.js\";import p from\"./graphics/GraphicsView2D.js\";import c from\"../../layers/LayerView.js\";const f=new i([255,127,0]);let g=class extends(n(c)){constructor(){super(...arguments),this._graphicsLayer=new h,this._frameOutlineGraphic=new r({symbol:{type:\"simple-fill\",outline:{type:\"simple-line\",color:f}}}),this._sensorTrailGraphic=new r({symbol:{type:\"simple-line\",color:f}}),this._lineOfSightGraphic=new r({symbol:{type:\"simple-line\",color:f}}),this._sensorLocationGraphic=new r({symbol:{type:\"simple-marker\",color:f}}),this._frameCenterGraphic=new r({symbol:{type:\"simple-marker\",color:f}}),this.layer=null,this.symbolColor=f,this.visibleTelemetryElements=null}destroy(){this._graphicsLayer=t(this._graphicsLayer)}initialize(){this.addHandles(s((()=>this.symbolColor),(()=>{this._frameOutlineGraphic.symbol.outline.color=this.symbolColor,this._sensorTrailGraphic.symbol.color=this.symbolColor,this._lineOfSightGraphic.symbol.color=this.symbolColor,this._sensorLocationGraphic.symbol.color=this.symbolColor,this._frameCenterGraphic.symbol.color=this.symbolColor}),l)),this._graphicsLayer.graphics.addMany([this._frameOutlineGraphic,this._sensorTrailGraphic,this._lineOfSightGraphic,this._sensorLocationGraphic,this._frameCenterGraphic]),this.visibleTelemetryElements=new m({frameCenter:this.layer.telemetryDisplay?.frameCenter??!0,frameOutline:this.layer.telemetryDisplay?.frameOutline??!0,lineOfSight:this.layer.telemetryDisplay?.lineOfSight??!0,sensorLocation:this.layer.telemetryDisplay?.sensorLocation??!0,sensorTrail:this.layer.telemetryDisplay?.sensorTrail??!0})}attach(){this.graphicsView=new p({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this._graphicsLayer.graphics,container:new y(this.view.featuresTilingScheme)}),this.container.addChild(this.graphicsView.container),this.addAttachHandles(this._graphicsLayer.on(\"graphic-update\",this.graphicsView.graphicUpdateHandler)),this.addAttachHandles([s((()=>[this.layer.telemetryDisplay?.frameCenter,this.layer.telemetryDisplay?.frameOutline,this.layer.telemetryDisplay?.sensorLocation,this.layer.telemetryDisplay?.sensorTrail,this.layer.telemetryDisplay?.lineOfSight]),(()=>this._updateVisibleTelemetryElements()),l),s((()=>[this.layer.telemetry,this.visibleTelemetryElements?.frameCenter,this.visibleTelemetryElements?.frameOutline,this.visibleTelemetryElements?.sensorLocation,this.visibleTelemetryElements?.sensorTrail,this.visibleTelemetryElements?.lineOfSight]),(()=>this._updateGraphicGeometries()),l)])}detach(){this.container.removeAllChildren(),this.graphicsView=t(this.graphicsView)}supportsSpatialReference(e){return!0}moveStart(){}moveEnd(){}viewChange(){this.graphicsView.viewChange()}update(e){this.graphicsView.processUpdate(e)}isUpdating(){return!this.graphicsView||this.graphicsView.updating}_updateVisibleTelemetryElements(){this.visibleTelemetryElements&&this.layer.telemetryDisplay&&(this.visibleTelemetryElements.frameCenter=this.layer.telemetryDisplay.frameCenter,this.visibleTelemetryElements.frameOutline=this.layer.telemetryDisplay.frameOutline,this.visibleTelemetryElements.lineOfSight=this.layer.telemetryDisplay.lineOfSight,this.visibleTelemetryElements.sensorLocation=this.layer.telemetryDisplay.sensorLocation,this.visibleTelemetryElements.sensorTrail=this.layer.telemetryDisplay.sensorTrail)}_updateGraphicGeometries(){const{telemetry:e}=this.layer,{visibleTelemetryElements:i}=this;e&&i&&(i.frameOutline&&e.frameOutline?this._frameOutlineGraphic.geometry=this.layer.telemetry.frameOutline:this._frameOutlineGraphic.geometry=null,i.sensorTrail&&e.sensorTrail?this._sensorTrailGraphic.geometry=this.layer.telemetry.sensorTrail:this._sensorTrailGraphic.geometry=null,i.lineOfSight&&e.lineOfSight?this._lineOfSightGraphic.geometry=this.layer.telemetry.lineOfSight:this._lineOfSightGraphic.geometry=null,i.sensorLocation&&e.sensorLocation?this._sensorLocationGraphic.geometry=this.layer.telemetry.sensorLocation:this._sensorLocationGraphic.geometry=null,i.frameCenter&&e.frameCenter?this._frameCenterGraphic.geometry=this.layer.telemetry.frameCenter:this._frameCenterGraphic.geometry=null)}};e([a()],g.prototype,\"graphicsView\",void 0),e([a()],g.prototype,\"layer\",void 0),e([a()],g.prototype,\"symbolColor\",void 0),e([a({type:m})],g.prototype,\"visibleTelemetryElements\",void 0),g=e([o(\"esri.views.2d.layers.VideoLayerView2D\")],g);const u=g;export{u as default};\n"],"names":["p","e","r","o","t","s","i","f","g","n","c","h","l","m","y","a","u"],"mappings":"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","x_google_ignoreList":[0,1]}