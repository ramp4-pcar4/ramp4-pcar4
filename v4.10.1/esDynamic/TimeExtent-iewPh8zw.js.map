{"version":3,"file":"TimeExtent-iewPh8zw.js","sources":["../../node_modules/@arcgis/core/core/timeUtils.js","../../node_modules/@arcgis/core/time/TimeExtent.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{resolveTimeZone as e}from\"../intl/date.js\";import{system as t}from\"../time/timeZoneUtils.js\";import{IANAZone as n,DateTime as s}from\"luxon\";const r={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function o(r,o,i,c=t){const u=new n(e(c)),a=s.fromJSDate(r,{zone:u}),l=\"decades\"===i||\"centuries\"===i?\"year\":T(i);return\"decades\"===i&&(o*=10),\"centuries\"===i&&(o*=100),a.plus({[l]:o}).toJSDate()}function i(e,t,n=\"milliseconds\"){const s=e.getTime(),r=m(t,n,\"milliseconds\");return new Date(s+r)}function c(r,o,i=t){const c=new n(e(i)),u=s.fromJSDate(r,{zone:c});if(\"decades\"===o||\"centuries\"===o){const e=u.startOf(\"year\"),{year:t}=e,n=t-t%(\"decades\"===o?10:100);return e.set({year:n}).toJSDate()}const a=T(o);return u.startOf(a).toJSDate()}function u(e,t,n=\"milliseconds\"){const s=new Date(m(t,n,\"milliseconds\"));return s.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),s}function a(e,t=\"milliseconds\"){const n=m(e.getUTCHours(),\"hours\",\"milliseconds\"),s=m(e.getUTCMinutes(),\"minutes\",\"milliseconds\"),r=m(e.getUTCSeconds(),\"seconds\",\"milliseconds\");return m(n+s+r+e.getUTCMilliseconds(),\"milliseconds\",t)}function l(e,t){const n=new Date(e.getTime());return n.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n}function d(e){const t=new Date(0);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t}function m(e,t,n){if(0===e)return 0;return e*r[t]/r[n]}function f(e){return e instanceof Date&&!isNaN(e.getTime())}function g(e,t){return e&&t?e.intersection(t):e||t}function T(e){switch(e){case\"milliseconds\":return\"millisecond\";case\"seconds\":return\"second\";case\"minutes\":return\"minute\";case\"hours\":return\"hour\";case\"days\":return\"day\";case\"weeks\":return\"week\";case\"months\":return\"month\";case\"years\":return\"year\"}}export{m as convertTime,f as isValidDate,u as makeUTCTime,g as mergeTimeExtents,r as millisecondsPerTimeUnit,o as offsetDate,i as offsetDateUTC,l as resetUTCDate,a as timeSinceUTCMidnight,c as truncateDate,d as truncateLocalTime};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import{JSONSupport as e}from\"../core/JSONSupport.js\";import{truncateDate as r,offsetDate as s}from\"../core/timeUtils.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{reader as i}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../core/accessorSupport/decorators/writer.js\";import{system as a}from\"./timeZoneUtils.js\";var u;let m=u=class extends e{static get allTime(){return d}static get empty(){return c}static fromArray(t){return new u({start:null!=t[0]?new Date(t[0]):t[0],end:null!=t[1]?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(u.allTime)}get isEmpty(){return this.equals(u.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new u({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,s=t.start?.getTime()??t.start,n=t.end?.getTime()??t.end;return e===s&&r===n}expandTo(t,e=a){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=r(n,t,e));let i=this.end;if(i){const n=r(i,t,e);i=i.getTime()===n.getTime()?n:s(n,1,t,e)}return new u({start:n,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return u.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,s=t.start?.getTime()??-1/0,n=t.end?.getTime()??1/0;let i,l;return s>=e&&s<=r?i=s:e>=s&&e<=n&&(i=e),r>=s&&r<=n?l=r:n>=e&&n<=r&&(l=n),null==i||null==l||isNaN(i)||isNaN(l)?u.empty:new u({start:i===-1/0?null:new Date(i),end:l===1/0?null:new Date(l)})}offset(t,e,r=a){if(this.isEmpty||this.isAllTime)return this.clone();const n=new u,{start:i,end:l}=this;return null!=i&&(n.start=s(i,t,e,r)),null!=l&&(n.end=s(l,t,e,r)),n}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return d.clone();const e=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,r=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new u({start:e,end:r})}};t([n({type:Date,json:{write:{allowNull:!0}}})],m.prototype,\"end\",void 0),t([i(\"end\")],m.prototype,\"readEnd\",null),t([o(\"end\")],m.prototype,\"writeEnd\",null),t([n({readOnly:!0,json:{read:!1}})],m.prototype,\"isAllTime\",null),t([n({readOnly:!0,json:{read:!1}})],m.prototype,\"isEmpty\",null),t([n({type:Date,json:{write:{allowNull:!0}}})],m.prototype,\"start\",void 0),t([i(\"start\")],m.prototype,\"readStart\",null),t([o(\"start\")],m.prototype,\"writeStart\",null),m=u=t([l(\"esri.time.TimeExtent\")],m);const p=m,d=new m,c=new m({start:void 0,end:void 0});export{p as default};\n"],"names":["r","o","i","c","t","u","n","e","a","s","l","T","m","d","p"],"mappings":"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","x_google_ignoreList":[0,1]}