{"version":3,"file":"interactive-9-gFjBdI.js","sources":["../../node_modules/@esri/calcite-components/dist/components/interactive.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.13.2\n */\nimport { h } from '@stencil/core/internal/client';\n\nfunction interceptedClick() {\n    const { disabled } = this;\n    if (!disabled) {\n        HTMLElement.prototype.click.call(this);\n    }\n}\nfunction onPointerDown(event) {\n    const interactiveElement = event.target;\n    if (interactiveElement.disabled) {\n        // prevent click from moving focus on host\n        event.preventDefault();\n    }\n}\nconst nonBubblingWhenDisabledMouseEvents = [\"mousedown\", \"mouseup\", \"click\"];\nfunction onNonBubblingWhenDisabledMouseEvent(event) {\n    const interactiveElement = event.target;\n    // prevent disallowed mouse events from being emitted on the disabled host (per https://github.com/whatwg/html/issues/5886)\n    // ⚠ we generally avoid stopping propagation of events, but this is needed to adhere to the intended spec changes above ⚠\n    if (interactiveElement.disabled) {\n        event.stopImmediatePropagation();\n        event.preventDefault();\n    }\n}\nconst captureOnlyOptions = { capture: true };\n/**\n * This helper updates the host element to prevent keyboard interaction on its subtree and sets the appropriate aria attribute for accessibility.\n *\n * This should be used in the `componentDidRender` lifecycle hook.\n *\n * **Notes**\n *\n * this util is not needed for simple components whose root element or elements are an interactive component (custom element or native control). For those cases, set the `disabled` props on the root components instead.\n * technically, users can override `tabindex` and restore keyboard navigation, but this will be considered user error\n *\n * @param component\n */\nfunction updateHostInteraction(component) {\n    if (component.disabled) {\n        component.el.setAttribute(\"aria-disabled\", \"true\");\n        if (component.el.contains(document.activeElement)) {\n            document.activeElement.blur();\n        }\n        blockInteraction(component);\n        return;\n    }\n    restoreInteraction(component);\n    component.el.removeAttribute(\"aria-disabled\");\n}\nfunction blockInteraction(component) {\n    component.el.click = interceptedClick;\n    addInteractionListeners(component.el);\n}\nfunction addInteractionListeners(element) {\n    element.addEventListener(\"pointerdown\", onPointerDown, captureOnlyOptions);\n    nonBubblingWhenDisabledMouseEvents.forEach((event) => element.addEventListener(event, onNonBubblingWhenDisabledMouseEvent, captureOnlyOptions));\n}\nfunction restoreInteraction(component) {\n    delete component.el.click; // fallback on HTMLElement.prototype.click\n    removeInteractionListeners(component.el);\n}\nfunction removeInteractionListeners(element) {\n    element.removeEventListener(\"pointerdown\", onPointerDown, captureOnlyOptions);\n    nonBubblingWhenDisabledMouseEvents.forEach((event) => element.removeEventListener(event, onNonBubblingWhenDisabledMouseEvent, captureOnlyOptions));\n}\nconst CSS = {\n    container: \"interaction-container\",\n};\nconst InteractiveContainer = ({ disabled }, children) => (h(\"div\", { class: CSS.container, inert: disabled }, ...children));\n\nexport { InteractiveContainer as I, updateHostInteraction as u };\n\n//# sourceMappingURL=interactive.js.map"],"names":["interceptedClick","disabled","onPointerDown","event","nonBubblingWhenDisabledMouseEvents","onNonBubblingWhenDisabledMouseEvent","captureOnlyOptions","updateHostInteraction","component","blockInteraction","restoreInteraction","addInteractionListeners","element","removeInteractionListeners","CSS","InteractiveContainer","children","h"],"mappings":";AAOA,SAASA,IAAmB;AACxB,QAAM,EAAE,UAAAC,EAAQ,IAAK;AACrB,EAAKA,KACD,YAAY,UAAU,MAAM,KAAK,IAAI;AAE7C;AACA,SAASC,EAAcC,GAAO;AAE1B,EAD2BA,EAAM,OACV,YAEnBA,EAAM,eAAgB;AAE9B;AACA,MAAMC,IAAqC,CAAC,aAAa,WAAW,OAAO;AAC3E,SAASC,EAAoCF,GAAO;AAIhD,EAH2BA,EAAM,OAGV,aACnBA,EAAM,yBAA0B,GAChCA,EAAM,eAAgB;AAE9B;AACA,MAAMG,IAAqB,EAAE,SAAS,GAAM;AAa5C,SAASC,EAAsBC,GAAW;AACtC,MAAIA,EAAU,UAAU;AACpB,IAAAA,EAAU,GAAG,aAAa,iBAAiB,MAAM,GAC7CA,EAAU,GAAG,SAAS,SAAS,aAAa,KAC5C,SAAS,cAAc,KAAM,GAEjCC,EAAiBD,CAAS;AAC1B;AAAA,EACR;AACI,EAAAE,EAAmBF,CAAS,GAC5BA,EAAU,GAAG,gBAAgB,eAAe;AAChD;AACA,SAASC,EAAiBD,GAAW;AACjC,EAAAA,EAAU,GAAG,QAAQR,GACrBW,EAAwBH,EAAU,EAAE;AACxC;AACA,SAASG,EAAwBC,GAAS;AACtC,EAAAA,EAAQ,iBAAiB,eAAeV,GAAeI,CAAkB,GACzEF,EAAmC,QAAQ,CAACD,MAAUS,EAAQ,iBAAiBT,GAAOE,GAAqCC,CAAkB,CAAC;AAClJ;AACA,SAASI,EAAmBF,GAAW;AACnC,SAAOA,EAAU,GAAG,OACpBK,EAA2BL,EAAU,EAAE;AAC3C;AACA,SAASK,EAA2BD,GAAS;AACzC,EAAAA,EAAQ,oBAAoB,eAAeV,GAAeI,CAAkB,GAC5EF,EAAmC,QAAQ,CAACD,MAAUS,EAAQ,oBAAoBT,GAAOE,GAAqCC,CAAkB,CAAC;AACrJ;AACA,MAAMQ,IAAM;AAAA,EACR,WAAW;AACf,GACMC,IAAuB,CAAC,EAAE,UAAAd,EAAU,GAAEe,MAAcC,EAAE,OAAO,EAAE,OAAOH,EAAI,WAAW,OAAOb,EAAU,GAAE,GAAGe,CAAQ;","x_google_ignoreList":[0]}