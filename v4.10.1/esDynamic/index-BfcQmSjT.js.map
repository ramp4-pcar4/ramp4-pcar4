{"version":3,"file":"index-BfcQmSjT.js","sources":["../../src/fixtures/geosearch/api/geosearch.ts","../../src/fixtures/geosearch/nav-button.vue","../../src/fixtures/geosearch/lang/lang.csv?raw","../../src/fixtures/geosearch/index.ts"],"sourcesContent":["import { FixtureInstance } from '@/api/internal';\n\nexport class GeosearchAPI extends FixtureInstance {}\n","<template>\n    <mapnav-button :onClickFunction=\"togglePanel\" :tooltip=\"t('geosearch.title')\">\n        <svg class=\"fill-current w-32 h-20\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n            <path\n                d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n            />\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n        </svg>\n    </mapnav-button>\n</template>\n\n<script setup lang=\"ts\">\nimport type { InstanceAPI } from '@/api';\nimport { inject } from 'vue';\nimport { useI18n } from 'vue-i18n';\n\nconst { t } = useI18n();\nconst iApi = inject<InstanceAPI>('iApi');\n\nconst togglePanel = () => {\n    iApi?.panel.toggle('geosearch');\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","export default \"key,enValue,enValid,frValue,frValid\\ngeosearch.title,Geolocation Search,1,Recherche géolocalisée,1\\ngeosearch.noResults,No results to show for ,1,Aucun résultat à afficher pour ,1\\ngeosearch.searchText,Search for a location...,1,Rechercher un emplacement...,1\\ngeosearch.visible,Visible on map,1,Visible sur la carte,1\\ngeosearch.filters.province,Province,1,Province,1\\ngeosearch.filters.type,Type,1,Type,1\\ngeosearch.filters.clear,Clear filters,1,Effacer les filtres,1\\ngeosearch.serviceError,No response from {services} service(s),1,Pas de réponse de la part des services de {services},1\\ngeosearch.badChars,The character(s) {chars} are not supported and will be ignored,1,Les caractères {chars} ne sont pas pris en charge et seront ignorés,0\\n\"","import { markRaw } from 'vue';\nimport { GeosearchAPI } from './api/geosearch';\nimport GeosearchNavButtonV from './nav-button.vue';\n\nimport messages from './lang/lang.csv?raw';\nimport { useAppbarStore } from '../appbar/store';\nimport { useGeosearchStore } from './store';\nimport { useMapnavStore } from '../mapnav/store';\n\nclass GeosearchFixture extends GeosearchAPI {\n    async added() {\n        // console.log(`[fixture] ${this.id} added`);\n\n        const geosearchStore = useGeosearchStore(this.$vApp.$pinia);\n        geosearchStore.initService(this.$iApi.language, this.config);\n\n        this.$iApi.component('geosearch-nav-button', GeosearchNavButtonV);\n\n        this.$iApi.panel.register(\n            {\n                id: 'geosearch',\n                config: {\n                    screens: {\n                        'geosearch-component': () => markRaw(import('./screen.vue'))\n                    },\n                    button: {\n                        tooltip: 'geosearch.title',\n                        icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" /><path d=\"M0 0h24v24H0z\" fill=\"none\" /></svg>'\n                    },\n                    alertName: 'geosearch.title'\n                }\n            },\n            { i18n: { messages } }\n        );\n\n        this.handlePanelTeleports(['geosearch']);\n    }\n\n    removed() {\n        // console.log(`[fixture] ${this.id} removed`);\n\n        if (this.$iApi.fixture.exists('appbar')) {\n            const appbarStore = useAppbarStore(this.$vApp.$pinia);\n            appbarStore.removeButton('geosearch');\n        }\n\n        if (this.$iApi.fixture.exists('mapnav')) {\n            const mapnavStore = useMapnavStore(this.$vApp.$pinia);\n            mapnavStore.removeItem('geosearch');\n        }\n\n        const geosearchStore = useGeosearchStore(this.$vApp.$pinia);\n        geosearchStore.$reset();\n\n        this.$iApi.panel.remove('geosearch');\n    }\n}\n\nexport default GeosearchFixture;\n"],"names":["GeosearchAPI","FixtureInstance","t","useI18n","iApi","inject","togglePanel","messages","GeosearchFixture","useGeosearchStore","GeosearchNavButtonV","markRaw","useAppbarStore","useMapnavStore"],"mappings":";AAEO,MAAMA,UAAqBC,EAAgB;AAAC;;;;ACc7C,UAAA,EAAE,GAAAC,EAAE,IAAIC,EAAQ,GAChBC,IAAOC,EAAoB,MAAM,GAEjCC,IAAc,MAAM;AAChB,MAAAF,GAAA,MAAM,OAAO,WAAW;AAAA,IAClC;;;;;;;;;;;;;;;;;;;;;;;;ICrBAG,IAAe,EAAC,IAAK,EAAC,mBAAkB,sBAAqB,uBAAsB,2BAA0B,wBAAuB,4BAA2B,qBAAoB,kBAAiB,8BAA6B,YAAW,0BAAyB,QAAO,2BAA0B,iBAAgB,0BAAyB,0CAAyC,sBAAqB,iEAAgE,GAAE,IAAK,EAAC,mBAAkB,0BAAyB,uBAAsB,mCAAkC,wBAAuB,gCAA+B,qBAAoB,wBAAuB,8BAA6B,YAAW,0BAAyB,QAAO,2BAA0B,uBAAsB,0BAAyB,wDAAuD,sBAAqB,sEAAqE,EAAC;ACS57B,MAAMC,UAAyBR,EAAa;AAAA,EACxC,MAAM,QAAQ;AAIV,IADuBS,EAAkB,KAAK,MAAM,MAAM,EAC3C,YAAY,KAAK,MAAM,UAAU,KAAK,MAAM,GAEtD,KAAA,MAAM,UAAU,wBAAwBC,CAAmB,GAEhE,KAAK,MAAM,MAAM;AAAA,MACb;AAAA,QACI,IAAI;AAAA,QACJ,QAAQ;AAAA,UACJ,SAAS;AAAA,YACL,uBAAuB,MAAMC,EAAQ,OAAO,sBAAc,CAAC;AAAA,UAC/D;AAAA,UACA,QAAQ;AAAA,YACJ,SAAS;AAAA,YACT,MAAM;AAAA,UACV;AAAA,UACA,WAAW;AAAA,QAAA;AAAA,MAEnB;AAAA,MACA,EAAE,MAAM,EAAE,UAAAJ,EAAW,EAAA;AAAA,IACzB,GAEK,KAAA,qBAAqB,CAAC,WAAW,CAAC;AAAA,EAAA;AAAA,EAG3C,UAAU;AAGN,IAAI,KAAK,MAAM,QAAQ,OAAO,QAAQ,KACdK,EAAe,KAAK,MAAM,MAAM,EACxC,aAAa,WAAW,GAGpC,KAAK,MAAM,QAAQ,OAAO,QAAQ,KACdC,EAAe,KAAK,MAAM,MAAM,EACxC,WAAW,WAAW,GAGfJ,EAAkB,KAAK,MAAM,MAAM,EAC3C,OAAO,GAEjB,KAAA,MAAM,MAAM,OAAO,WAAW;AAAA,EAAA;AAE3C;"}