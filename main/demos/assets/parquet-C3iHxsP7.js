import{eS as de,bt as fe,H as V,s as se}from"./main-CtmwM019.js";import{QueueProcessor as ye}from"./QueueProcessor-qttWskRC.js";import{_ as me}from"./preload-helper-DMGCcr4D.js";let D=null;async function he(){return D||(D=Fe()),D}async function Fe(){const r=await me(()=>Promise.resolve().then(()=>Le),void 0,import.meta.url);return await r.default({module_or_path:de("esri/libs/parquet/pkg/bundle_bg.wasm")}),r}let n;function F(r){const e=n.__externref_table_alloc();return n.__wbindgen_export_2.set(e,r),e}function G(r,e){try{return r.apply(this,e)}catch(t){const _=F(t);n.__wbindgen_exn_store(_)}}let C=null;function v(){return C!==null&&C.byteLength!==0||(C=new Uint8Array(n.memory.buffer)),C}let $=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});$.decode();const qe=2146435072;let E=0;function ve(r,e){return E+=e,E>=qe&&($=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),$.decode(),E=e),$.decode(v().subarray(r,r+e))}function u(r,e){return ve(r>>>=0,e)}function N(r,e){return r>>>=0,v().subarray(r/1,r/1+e)}let P=null;function ae(){return P!==null&&P.byteLength!==0||(P=new Uint32Array(n.memory.buffer)),P}function X(r,e){return r>>>=0,ae().subarray(r/4,r/4+e)}let c=0;const L=new TextEncoder;function b(r,e,t){if(t===void 0){const a=L.encode(r),l=e(a.length,1)>>>0;return v().subarray(l,l+a.length).set(a),c=a.length,l}let _=r.length,i=e(_,1)>>>0;const o=v();let s=0;for(;s<_;s++){const a=r.charCodeAt(s);if(a>127)break;o[i+s]=a}if(s!==_){s!==0&&(r=r.slice(s)),i=t(i,_,_=s+3*r.length,1)>>>0;const a=v().subarray(i+s,i+_);s+=L.encodeInto(r,a).written,i=t(i,_,s,1)>>>0}return c=s,i}"encodeInto"in L||(L.encodeInto=function(r,e){const t=L.encode(r);return e.set(t),{read:r.length,written:t.length}});let y=null;function q(){return(y===null||y.buffer.detached===!0||y.buffer.detached===void 0&&y.buffer!==n.memory.buffer)&&(y=new DataView(n.memory.buffer)),y}function d(r){return r==null}const Z=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>{n.__wbindgen_export_6.get(r.dtor)(r.a,r.b)});function ke(r,e,t,_){const i={a:r,b:e,cnt:1,dtor:t},o=(...s)=>{i.cnt++;const a=i.a;i.a=0;try{return _(a,i.b,...s)}finally{--i.cnt===0?(n.__wbindgen_export_6.get(i.dtor)(a,i.b),Z.unregister(i)):i.a=a}};return o.original=i,Z.register(o,i,i),o}function k(r,e){r>>>=0;const t=q(),_=[];for(let i=r;i<r+4*e;i+=4)_.push(n.__wbindgen_export_2.get(t.getUint32(i,!0)));return n.__externref_drop_slice(r,e),_}let I=null;function Te(){return I!==null&&I.byteLength!==0||(I=new Int16Array(n.memory.buffer)),I}function ze(r,e){return r>>>=0,Te().subarray(r/2,r/2+e)}function Se(){n.enableTracing()}let x=null;function ce(){return x!==null&&x.byteLength!==0||(x=new Float64Array(n.memory.buffer)),x}function Re(r,e){return r>>>=0,ce().subarray(r/8,r/8+e)}function U(r,e){if(!(r instanceof e))throw new Error(`expected instance of ${e.name}`)}function H(r,e){const t=e(8*r.length,8)>>>0;return ce().set(r,t/8),c=r.length,t}function Oe(r,e){const t=e(4*r.length,4)>>>0;for(let _=0;_<r.length;_++){const i=F(r[_]);q().setUint32(t+4*_,i,!0)}return c=r.length,t}function Ae(r,e){const t=e(1*r.length,1)>>>0;return v().set(r,t/1),c=r.length,t}function f(r,e){const t=e(4*r.length,4)>>>0;return ae().set(r,t/4),c=r.length,t}function Me(r,e,t){n.closure86_externref_shim(r,e,t)}function Ce(r,e,t,_){n.closure12_externref_shim(r,e,t,_)}const j=Object.freeze({Point:0,0:"Point",Polygon:1,1:"Polygon",Polyline:2,2:"Polyline",Multipoint:3,3:"Multipoint"}),Pe=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeBigInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],J=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_columndescriptor_free(r>>>0,1));class T{static __wrap(e){e>>>=0;const t=Object.create(T.prototype);return t.__wbg_ptr=e,J.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,J.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_columndescriptor_free(e,0)}name(){let e,t;try{const _=n.columndescriptor_name(this.__wbg_ptr);return e=_[0],t=_[1],u(_[0],_[1])}finally{n.__wbindgen_free(e,t,1)}}physicalType(){let e,t;try{const _=n.columndescriptor_physicalType(this.__wbg_ptr);return e=_[0],t=_[1],u(_[0],_[1])}finally{n.__wbindgen_free(e,t,1)}}logicalType(){const e=n.columndescriptor_logicalType(this.__wbg_ptr);let t;return e[0]!==0&&(t=u(e[0],e[1]).slice(),n.__wbindgen_free(e[0],1*e[1],1)),t}encodings(){const e=n.columndescriptor_encodings(this.__wbg_ptr);var t=k(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}pageEncodings(){const e=n.columndescriptor_pageEncodings(this.__wbg_ptr);let t;return e[0]!==0&&(t=k(e[0],e[1]).slice(),n.__wbindgen_free(e[0],4*e[1],4)),t}numValues(){return n.columndescriptor_numValues(this.__wbg_ptr)}compression(){let e,t;try{const _=n.columndescriptor_compression(this.__wbg_ptr);return e=_[0],t=_[1],u(_[0],_[1])}finally{n.__wbindgen_free(e,t,1)}}compressedSize(){return n.columndescriptor_compressedSize(this.__wbg_ptr)}uncompressedSize(){return n.columndescriptor_uncompressedSize(this.__wbg_ptr)}nullCount(){const e=n.columndescriptor_nullCount(this.__wbg_ptr);return e[0]===0?void 0:e[1]}distinctCount(){const e=n.columndescriptor_distinctCount(this.__wbg_ptr);return e[0]===0?void 0:e[1]}minValue(){return n.columndescriptor_minValue(this.__wbg_ptr)}maxValue(){return n.columndescriptor_maxValue(this.__wbg_ptr)}}Symbol.dispose&&(T.prototype[Symbol.dispose]=T.prototype.free);const Y=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_fieldmetadata_free(r>>>0,1));class z{static __wrap(e){e>>>=0;const t=Object.create(z.prototype);return t.__wbg_ptr=e,Y.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Y.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_fieldmetadata_free(e,0)}get column(){return n.__wbg_get_fieldmetadata_column(this.__wbg_ptr)>>>0}set column(e){n.__wbg_set_fieldmetadata_column(this.__wbg_ptr,e)}get name(){let e,t;try{const _=n.fieldmetadata_name(this.__wbg_ptr);return e=_[0],t=_[1],u(_[0],_[1])}finally{n.__wbindgen_free(e,t,1)}}get type(){const e=n.fieldmetadata_esri_type(this.__wbg_ptr);return Pe[e]}get physicalType(){const e=n.fieldmetadata_physical_type(this.__wbg_ptr);let t;return e[0]!==0&&(t=u(e[0],e[1]).slice(),n.__wbindgen_free(e[0],1*e[1],1)),t}get logicalType(){const e=n.fieldmetadata_logical_type(this.__wbg_ptr);let t;return e[0]!==0&&(t=u(e[0],e[1]).slice(),n.__wbindgen_free(e[0],1*e[1],1)),t}}Symbol.dispose&&(z.prototype[Symbol.dispose]=z.prototype.free);const Q=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_geometryinfo_free(r>>>0,1));class w{static __wrap(e){e>>>=0;const t=Object.create(w.prototype);return t.__wbg_ptr=e,Q.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Q.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_geometryinfo_free(e,0)}static new(e,t,_,i,o){U(i,g);var s=i.__destroy_into_raw();const a=Oe(o,n.__wbindgen_malloc),l=c,M=n.geometryinfo_new(e,t,_,s,a,l);return w.__wrap(M)}}Symbol.dispose&&(w.prototype[Symbol.dispose]=w.prototype.free);const K=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_multiscalegeometryfield_free(r>>>0,1));class p{static __wrap(e){e>>>=0;const t=Object.create(p.prototype);return t.__wbg_ptr=e,K.register(t,t.__wbg_ptr,t),t}static __unwrap(e){return e instanceof p?e.__destroy_into_raw():0}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,K.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_multiscalegeometryfield_free(e,0)}get level(){return n.__wbg_get_multiscalegeometryfield_level(this.__wbg_ptr)}set level(e){n.__wbg_set_multiscalegeometryfield_level(this.__wbg_ptr,e)}static new(e,t,_,i){const o=b(t,n.__wbindgen_malloc,n.__wbindgen_realloc),s=c,a=H(_,n.__wbindgen_malloc),l=c,M=H(i,n.__wbindgen_malloc),W=c,B=n.multiscalegeometryfield_new(e,o,s,a,l,M,W);return p.__wrap(B)}has_field(e){const t=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),_=c;return n.multiscalegeometryfield_has_field(this.__wbg_ptr,t,_)!==0}}Symbol.dispose&&(p.prototype[Symbol.dispose]=p.prototype.free);const ee=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_pageencodingdescriptor_free(r>>>0,1));class S{static __wrap(e){e>>>=0;const t=Object.create(S.prototype);return t.__wbg_ptr=e,ee.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ee.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_pageencodingdescriptor_free(e,0)}pageType(){let e,t;try{const _=n.pageencodingdescriptor_pageType(this.__wbg_ptr);return e=_[0],t=_[1],u(_[0],_[1])}finally{n.__wbindgen_free(e,t,1)}}encoding(){let e,t;try{const _=n.pageencodingdescriptor_encoding(this.__wbg_ptr);return e=_[0],t=_[1],u(_[0],_[1])}finally{n.__wbindgen_free(e,t,1)}}count(){return n.pageencodingdescriptor_count(this.__wbg_ptr)}}Symbol.dispose&&(S.prototype[Symbol.dispose]=S.prototype.free);const te=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_parquetchunk_free(r>>>0,1));class R{static __wrap(e){e>>>=0;const t=Object.create(R.prototype);return t.__wbg_ptr=e,te.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,te.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_parquetchunk_free(e,0)}size(){return n.parquetchunk_size(this.__wbg_ptr)>>>0}isEmpty(e){return n.parquetchunk_isEmpty(this.__wbg_ptr,e)!==0}rowId(e){return n.parquetchunk_rowId(this.__wbg_ptr,e)}readX(e){const t=n.parquetchunk_readX(this.__wbg_ptr,e);return t[0]===0?void 0:t[1]}readY(e){const t=n.parquetchunk_readY(this.__wbg_ptr,e);return t[0]===0?void 0:t[1]}readCoords(e){const t=n.parquetchunk_readCoords(this.__wbg_ptr,e);let _;return t[0]!==0&&(_=Re(t[0],t[1]).slice(),n.__wbindgen_free(t[0],8*t[1],8)),_}readLengths(e){const t=n.parquetchunk_readLengths(this.__wbg_ptr,e);let _;return t[0]!==0&&(_=X(t[0],t[1]).slice(),n.__wbindgen_free(t[0],4*t[1],4)),_}transformGeometry(e,t,_,i,o,s){U(e,h);const a=n.parquetchunk_transformGeometry(this.__wbg_ptr,e.__wbg_ptr,t,_,i,o,s);return a===16777215?void 0:a!==0}boundsXMin(e){const t=n.parquetchunk_boundsXMin(this.__wbg_ptr,e);return t[0]===0?void 0:t[1]}boundsYMin(e){const t=n.parquetchunk_boundsYMin(this.__wbg_ptr,e);return t[0]===0?void 0:t[1]}boundsXMax(e){const t=n.parquetchunk_boundsXMax(this.__wbg_ptr,e);return t[0]===0?void 0:t[1]}boundsYMax(e){const t=n.parquetchunk_boundsYMax(this.__wbg_ptr,e);return t[0]===0?void 0:t[1]}readAttribute(e,t){return n.parquetchunk_readAttribute(this.__wbg_ptr,e,t)}}Symbol.dispose&&(R.prototype[Symbol.dispose]=R.prototype.free);const re=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_parquetfile_free(r>>>0,1));class O{static __wrap(e){e>>>=0;const t=Object.create(O.prototype);return t.__wbg_ptr=e,re.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,re.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_parquetfile_free(e,0)}static fromUrl(e,t,_,i){const o=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),s=c;let a=0;return d(i)||(U(i,w),a=i.__destroy_into_raw()),n.parquetfile_fromUrl(o,s,t,_,a)}static fromBinary(e,t){const _=Ae(e,n.__wbindgen_malloc),i=c;let o=0;return d(t)||(U(t,w),o=t.__destroy_into_raw()),n.parquetfile_fromBinary(_,i,o)}version(){return n.parquetfile_version(this.__wbg_ptr)}byteLength(){return n.parquetfile_byteLength(this.__wbg_ptr)}numRows(){return n.parquetfile_numRows(this.__wbg_ptr)>>>0}numFields(){return n.parquetfile_numFields(this.__wbg_ptr)>>>0}numColumns(){return n.parquetfile_numColumns(this.__wbg_ptr)>>>0}createdBy(){const e=n.parquetfile_createdBy(this.__wbg_ptr);let t;return e[0]!==0&&(t=u(e[0],e[1]).slice(),n.__wbindgen_free(e[0],1*e[1],1)),t}keyValueMetadata(e){const t=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),_=c,i=n.parquetfile_keyValueMetadata(this.__wbg_ptr,t,_);let o;return i[0]!==0&&(o=u(i[0],i[1]).slice(),n.__wbindgen_free(i[0],1*i[1],1)),o}keys(){const e=n.parquetfile_keys(this.__wbg_ptr);let t;return e[0]!==0&&(t=k(e[0],e[1]).slice(),n.__wbindgen_free(e[0],4*e[1],4)),t}columnForFieldName(e){const t=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),_=c,i=n.parquetfile_columnForFieldName(this.__wbg_ptr,t,_);return i===4294967297?void 0:i}fields(){const e=n.parquetfile_fields(this.__wbg_ptr);var t=k(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}rowGroups(){const e=n.parquetfile_rowGroups(this.__wbg_ptr);var t=k(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}ensureFields(e){const t=f(e,n.__wbindgen_malloc),_=c;return n.parquetfile_ensureFields(this.__wbg_ptr,t,_)}readFirstChunk(e){const t=f(e,n.__wbindgen_malloc),_=c;return n.parquetfile_readFirstChunk(this.__wbg_ptr,t,_)}readChunk(e,t,_,i,o){const s=f(_,n.__wbindgen_malloc),a=c;return n.parquetfile_readChunk(this.__wbg_ptr,e,t,s,a,i,o)}readChunksByRowId(e,t,_,i){const o=f(e,n.__wbindgen_malloc),s=c,a=f(t,n.__wbindgen_malloc),l=c;return n.parquetfile_readChunksByRowId(this.__wbg_ptr,o,s,a,l,_,i)}readAllChunks(e,t,_){const i=f(e,n.__wbindgen_malloc),o=c;return n.parquetfile_readAllChunks(this.__wbg_ptr,i,o,t,_)}queryZChunks(e,t,_,i){const o=f(t,n.__wbindgen_malloc),s=c;return n.parquetfile_queryZChunks(this.__wbg_ptr,e,o,s,_,i)}queryXZChunks(e,t,_){return n.parquetfile_queryXZChunks(this.__wbg_ptr,e,t,_)}}Symbol.dispose&&(O.prototype[Symbol.dispose]=O.prototype.free);const ne=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_primarygeometryfield_free(r>>>0,1));class g{static __wrap(e){e>>>=0;const t=Object.create(g.prototype);return t.__wbg_ptr=e,ne.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ne.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_primarygeometryfield_free(e,0)}static fromNative(e){const t=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),_=c,i=n.primarygeometryfield_fromNative(t,_);return g.__wrap(i)}static fromWkb(e){const t=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),_=c,i=n.primarygeometryfield_fromWkb(t,_);return g.__wrap(i)}static fromLocation(e,t){const _=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),i=c,o=b(t,n.__wbindgen_malloc,n.__wbindgen_realloc),s=c,a=n.primarygeometryfield_fromLocation(_,i,o,s);return g.__wrap(a)}}Symbol.dispose&&(g.prototype[Symbol.dispose]=g.prototype.free);const _e=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_quantizedgeometrybuffer_free(r>>>0,1));class h{static __wrap(e){e>>>=0;const t=Object.create(h.prototype);return t.__wbg_ptr=e,_e.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,_e.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_quantizedgeometrybuffer_free(e,0)}static new(){const e=n.quantizedgeometrybuffer_new();return h.__wrap(e)}readCoordsUnsafe(){return n.quantizedgeometrybuffer_readCoordsUnsafe(this.__wbg_ptr)}readLengthsUnsafe(){return n.quantizedgeometrybuffer_readLengthsUnsafe(this.__wbg_ptr)}}Symbol.dispose&&(h.prototype[Symbol.dispose]=h.prototype.free);const ie=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_rangeproviderjs_free(r>>>0,1));class m{static __wrap(e){e>>>=0;const t=Object.create(m.prototype);return t.__wbg_ptr=e,ie.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ie.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_rangeproviderjs_free(e,0)}static new(e,t){const _=n.rangeproviderjs_new(e,t);return m.__wrap(_)}static withFetch(){const e=n.rangeproviderjs_withFetch();return m.__wrap(e)}}Symbol.dispose&&(m.prototype[Symbol.dispose]=m.prototype.free);const oe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_rowgroup_free(r>>>0,1));class A{static __wrap(e){e>>>=0;const t=Object.create(A.prototype);return t.__wbg_ptr=e,oe.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,oe.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_rowgroup_free(e,0)}columnDescriptorForAttribute(e){const t=n.rowgroup_columnDescriptorForAttribute(this.__wbg_ptr,e);return T.__wrap(t)}}Symbol.dispose&&(A.prototype[Symbol.dispose]=A.prototype.free);const Ie=new Set(["basic","cors","default"]);async function xe(r,e){if(typeof Response=="function"&&r instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(r,e)}catch(_){if(!(r.ok&&Ie.has(r.type))||r.headers.get("Content-Type")==="application/wasm")throw _;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",_)}const t=await r.arrayBuffer();return await WebAssembly.instantiate(t,e)}{const t=await WebAssembly.instantiate(r,e);return t instanceof WebAssembly.Instance?{instance:t,module:r}:t}}function ue(){const r={wbg:{}};return r.wbg.__wbg_aborted_bbd6fc8f83561eda=function(e){return e.aborted},r.wbg.__wbg_apply_dc50eb58583d2a57=function(){return G(function(e,t,_){return e.apply(t,_)},arguments)},r.wbg.__wbg_call_13410aac570ffff7=function(){return G(function(e,t){return e.call(t)},arguments)},r.wbg.__wbg_call_a5400b25a865cfd8=function(){return G(function(e,t,_){return e.call(t,_)},arguments)},r.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,t){let _,i;try{_=e,i=t,console.error(u(e,t))}finally{n.__wbindgen_free(_,i,1)}},r.wbg.__wbg_fieldmetadata_new=function(e){return z.__wrap(e)},r.wbg.__wbg_get_458e874b43b18b25=function(){return G(function(e,t){return Reflect.get(e,t)},arguments)},r.wbg.__wbg_length_555ae304a7c78975=function(e){return e.length},r.wbg.__wbg_length_6bb7e81f9d7713e4=function(e){return e.length},r.wbg.__wbg_multiscalegeometryfield_unwrap=function(e){return p.__unwrap(e)},r.wbg.__wbg_new_2e3c58a15f39f5f9=function(e,t){try{var _={a:e,b:t},i=(o,s)=>{const a=_.a;_.a=0;try{return Ce(a,_.b,o,s)}finally{_.a=a}};return new Promise(i)}finally{_.a=_.b=0}},r.wbg.__wbg_new_638ebfaedbf32a5e=function(e){return new Uint8Array(e)},r.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},r.wbg.__wbg_newnoargs_254190557c45b4ec=function(e,t){return new Function(u(e,t))},r.wbg.__wbg_newwithlength_c2868113efe93526=function(e){return new Array(e>>>0)},r.wbg.__wbg_pageencodingdescriptor_new=function(e){return S.__wrap(e)},r.wbg.__wbg_parquetchunk_new=function(e){return R.__wrap(e)},r.wbg.__wbg_parquetfile_new=function(e){return O.__wrap(e)},r.wbg.__wbg_prototypesetcall_3d4a26c1ed734349=function(e,t,_){Uint8Array.prototype.set.call(N(e,t),_)},r.wbg.__wbg_prototypesetcall_c805289d23423a87=function(e,t,_){Uint32Array.prototype.set.call(X(e,t),_)},r.wbg.__wbg_queueMicrotask_25d0739ac89e8c88=function(e){queueMicrotask(e)},r.wbg.__wbg_queueMicrotask_4488407636f5bf24=function(e){return e.queueMicrotask},r.wbg.__wbg_resolve_4055c623acdd6a1b=function(e){return Promise.resolve(e)},r.wbg.__wbg_rowgroup_new=function(e){return A.__wrap(e)},r.wbg.__wbg_set_90f6c0f7bd8c0415=function(e,t,_){e[t>>>0]=_},r.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,t){const _=b(t.stack,n.__wbindgen_malloc,n.__wbindgen_realloc),i=c;q().setInt32(e+4,i,!0),q().setInt32(e+0,_,!0)},r.wbg.__wbg_static_accessor_GLOBAL_8921f820c2ce3f12=function(){const e=typeof global>"u"?null:global;return d(e)?0:F(e)},r.wbg.__wbg_static_accessor_GLOBAL_THIS_f0a4409105898184=function(){const e=typeof globalThis>"u"?null:globalThis;return d(e)?0:F(e)},r.wbg.__wbg_static_accessor_SELF_995b214ae681ff99=function(){const e=typeof self>"u"?null:self;return d(e)?0:F(e)},r.wbg.__wbg_static_accessor_WINDOW_cde3890479c675ea=function(){const e=typeof window>"u"?null:window;return d(e)?0:F(e)},r.wbg.__wbg_then_b33a773d723afa3e=function(e,t,_){return e.then(t,_)},r.wbg.__wbg_then_e22500defe16819f=function(e,t){return e.then(t)},r.wbg.__wbg_valueOf_f1ef20623c7bdd1c=function(e){return e.valueOf()},r.wbg.__wbg_wbindgencbdrop_eb10308566512b88=function(e){const t=e.original;return t.cnt--==1?(t.a=0,!0):!1},r.wbg.__wbg_wbindgenisfunction_8cee7dce3725ae74=function(e){return typeof e=="function"},r.wbg.__wbg_wbindgenisundefined_c4b71d073b92f3c5=function(e){return e===void 0},r.wbg.__wbg_wbindgennumberget_f74b4c7525ac05cb=function(e,t){const _=typeof t=="number"?t:void 0;q().setFloat64(e+8,d(_)?0:_,!0),q().setInt32(e+0,!d(_),!0)},r.wbg.__wbg_wbindgenthrow_451ec1a8469d7eb6=function(e,t){throw new Error(u(e,t))},r.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,t){return u(e,t)},r.wbg.__wbindgen_cast_59b536ec5375efa9=function(e,t){return ke(e,t,85,Me)},r.wbg.__wbindgen_cast_77bc3e92745e9a35=function(e,t){var _=N(e,t).slice();return n.__wbindgen_free(e,1*t,1),_},r.wbg.__wbindgen_cast_7c316abdc43840a3=function(e,t){return X(e,t)},r.wbg.__wbindgen_cast_9ae0607507abb057=function(e){return e},r.wbg.__wbindgen_cast_b4c60c1010b00353=function(e,t){var _=k(e,t).slice();return n.__wbindgen_free(e,4*t,4),_},r.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},r.wbg.__wbindgen_cast_e47ceb6027f5c92c=function(e,t){return ze(e,t)},r.wbg.__wbindgen_init_externref_table=function(){const e=n.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},r}function le(r,e){return n=r.exports,ge.__wbindgen_wasm_module=e,y=null,x=null,I=null,P=null,C=null,n.__wbindgen_start(),n}function je(r){if(n!==void 0)return n;r!==void 0&&(Object.getPrototypeOf(r)===Object.prototype?{module:r}=r:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const e=ue();return r instanceof WebAssembly.Module||(r=new WebAssembly.Module(r)),le(new WebAssembly.Instance(r,e),r)}async function ge(r){if(n!==void 0)return n;r!==void 0&&(Object.getPrototypeOf(r)===Object.prototype?{module_or_path:r}=r:console.warn("using deprecated parameters for the initialization function; pass a single object instead"));const e=ue();(typeof r=="string"||typeof Request=="function"&&r instanceof Request||typeof URL=="function"&&r instanceof URL)&&(r=fetch(r));const{instance:t,module:_}=await xe(await r,e);return le(t,_)}const Le=Object.freeze(Object.defineProperty({__proto__:null,ColumnDescriptor:T,FieldMetadata:z,GeometryInfo:w,GeometryType:j,MultiscaleGeometryField:p,PageEncodingDescriptor:S,ParquetChunk:R,ParquetFile:O,PrimaryGeometryField:g,QuantizedGeometryBuffer:h,RangeProviderJs:m,RowGroup:A,default:ge,enableTracing:Se,initSync:je},Symbol.toStringTag,{value:"Module"})),Ge=new ye({concurrency:8,process:async r=>{const{data:e}=await V(r.url,r.options);return e}}),$e=r=>async function(e,t,_,i){const o=r?.(),s=o??{};return await Ge.push({url:e,options:{responseType:"array-buffer",query:s,headers:{range:`bytes=${t}-${_}`}}})},Ue=r=>async function(e){if(fe(e)){const{data:i}=await V(e,{responseType:"blob"});return i.size}const{data:t}=await V(e,{responseType:"native",method:"head",query:r?.()}),_=t.headers.get("Content-Length");if(_==null)throw new Error("Unable to parse content length");return parseInt(_,10)};function We(r){switch(r){case"esriGeometryPoint":return j.Point;case"esriGeometryPolygon":return j.Polygon;case"esriGeometryPolyline":return j.Polyline;case"esriGeometryMultipoint":return j.Multipoint;default:throw new se("parquet",`Found unexpected GeometryType: ${r}`)}}function Be(r){switch(r.encoding.type){case"wkb":return g.fromWkb(r.encoding.field);case"location":{const{yField:e,xField:t}=r.encoding;return g.fromLocation(e,t)}}}function De(r,e){const t=r.spatialReference.wkid,_=e.wkid;if(!t||!_)throw new se("parquet","Unable to create ParquetFile, in and out wkid must be specified");const i=We(r.geometryType),o=Be(r),s=[];if(r.displayOptimization?.mode==="xz"){const a=r.displayOptimization.multiscale;for(const l of a.levels??[]){const[M,W]=l.transform.translate,[B,be]=l.transform.scale,pe=new Float64Array([M,W]),we=new Float64Array([B,be]);s.push(p.new(l.level,l.column,pe,we))}}return w.new(i,t,_,o,s)}async function Ne(r,e={}){const{ParquetFile:t}=await he(),_=$e(e.getCustomParameters),i=Ue(e.getCustomParameters),o=e.geometryInfo?De(e.geometryInfo,e.outSpatialReference??e.geometryInfo.spatialReference):null;return t.fromUrl(r,_,i,o)}function Ze(r){const e=r.keyValueMetadata("geo");return e!=null?JSON.parse(e):null}function He(r){const e=r.keyValueMetadata("esri");return e!=null?JSON.parse(e):null}export{Ne as d,He as g,h as r,Ze as w};
