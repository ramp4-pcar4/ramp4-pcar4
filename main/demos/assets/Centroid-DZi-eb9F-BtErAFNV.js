import{m as g,a as f,e as d,d as I}from"./Point2D-yI-uny1B.js";function q(t,e){if(!t.isEmpty())switch(t.getGeometryType()){case f.enumPolygon:return R(t);case f.enumPolyline:return L(t);case f.enumLine:case f.enumBezier:case f.enumEllipticArc:return A(t);case f.enumMultiPoint:return X(t);case f.enumEnvelope:return t.getCenterXY();case f.enumPoint:return t.getXY();default:return g.construct(Number.NaN,Number.NaN)}return g.construct(Number.NaN,Number.NaN)}function E(t,e){return R(t,e)}function R(t,e=-1){const u=new d(0),a=new d(0),n=t.getImpl();let r;const s=n.hasNonLinearSegments();let c;const o=n.getXY(0);if(e===-1){if(c=n.calculateArea2D(),c===0)return C(t);s&&(r=n.querySegmentIterator());for(let i=0,h=n.getPathCount();i<h;i++)N(o,n,i,u,a),s&&S(o,r,u,a)}else{if(c=n.calculateRingArea2D(e),c===0)return C(t,e);s&&(r=n.querySegmentIterator(),r.resetToPath(e)),N(o,n,e,u,a),s&&S(o,r,u,a)}const l=new g,m=new g;return l.setCoords(u.getResult(),a.getResult()),m.assign(l.mul(1/c).add(o)),m}function N(t,e,u,a,n){const r=e.getPathStart(u),s=e.getPathEnd(u);if(s-r<3)return;const c=e.getAttributeStreamRef(0),o=c.readPoint2D(2*r),l=c.readPoint2D(2*(r+1));l.subThis(o);const m=new d(0),i=e.hasNonLinearSegments(),h=1/3,P=new g;for(let y=r+2;y<s;y++){c.queryPoint2D(2*y,P),P.subThis(o);const D=.5*P.crossProduct(l);i&&m.add(D);const x=h*D;a.add((l.x+P.x)*x),n.add((l.y+P.y)*x),l.setCoordsPoint2D(P)}const p=i?m.getResult():e.calculateRingArea2D(u),w=o.sub(t).mul(p);a.add(w.x),n.add(w.y)}function S(t,e,u,a){let n;for(e.nextPath()||I("centroid");(n=e.nextCurve())!==null;){const r=n.calculateWeightedAreaCentroid2D(t);u.add(r.x),a.add(r.y)}}function L(t){return b(t.getImpl())}function A(t){const e=t.calculateLength2D();return e===0?t.getStartXY():t.calculateWeightedCentroid2D().mul(1/e)}function X(t){const e=new d(0),u=new d(0),a=t.getImpl(),n=a.getAttributeStreamRef(0),r=a.getPointCount(),s=new g;for(let o=0;o<r;o++)n.queryPoint2D(2*o,s),e.add(s.x),u.add(s.y);const c=new g;return c.setCoords(e.getResult(),u.getResult()),c.divThis(r)}function C(t,e=-1){return b(t.getImpl(),e)}function b(t,e=-1){const u=e===-1?t.calculateLength2D():t.calculatePathLength2D(e);if(u===0)return Y(t,e);const a=new d(0),n=new d(0),r=t.querySegmentIterator();for(e!==-1&&r.resetToPath(e);r.nextPath();){const c=r.getPathIndex(),o=t.getXY(t.getPathStart(c));for(;r.hasNextSegment();){const m=r.nextSegment(),i=m.calculateLength2D();if(i===0)continue;const h=m.calculateWeightedCentroid2D().sub(o.mul(i));a.add(h.x),n.add(h.y)}const l=o.mul(t.calculatePathLength2D(c));if(a.add(l.x),n.add(l.y),e!==-1)break}const s=new g;return s.setCoords(a.getResult(),n.getResult()),s.mul(1/u)}function Y(t,e=-1){if(e!==-1)return t.getXY(t.getPathStart(e));const u=new d(0),a=new d(0);for(let n=0;n<t.getPathCount();++n){const r=t.getXY(t.getPathStart(n));u.add(r.x),a.add(r.y)}return g.construct(u.getResult(),a.getResult()).mul(1/t.getPathCount())}export{q as a,E as u};
