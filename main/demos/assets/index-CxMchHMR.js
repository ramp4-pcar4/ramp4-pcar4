const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CO70_VNQ.js","./index-ChbpXBO3.js","./jsxFactory-CRwrqbBC.js","./main-CtmwM019.js","./preload-helper-DMGCcr4D.js","./main-DZFs8ecF.css","./intl-BF_HwN3J.js","./messages-CIIwatVx.js","./uuid-Oe6SV2kF.js","./sanitizerUtils-BSv1Bmu5.js","./jsxFactory-CQED0rIl.css","./guid-DlHjpvET.js","./useT9n-DNa2Y6XD.js","./index-DBSVdrfF.js","./dom-3a8Xi4L2.js","./observers-CsjpQXtx.js","./keyed-Bqo_UxYW.js","./interactive-IlnTiKLg.js","./useSetFocus-D3kHKN7i.js","./form-Sqc8Nps9.js","./index-CEYyNjwB.js","./index-XuFOPq3H.js","./floating-ui-qRqYlJI-.js","./debounce-D0Dr7phT.js","./openCloseComponent-Bhd5LJ14.js","./static-B_G0Y2XF.js","./FloatingArrow-p0aoD7hq.js","./key-HTOW8iPe.js","./index-DRW6hK50.js","./array-DtjklSP3.js","./index-DrYwfAs_.js","./useCancelable-Dp1M0OUx.js","./intersectsOperator-0fn3vdhB.js","./ProjectionTransformation-BpSsk8S9.js","./Envelope2D-D_vzSDeK.js","./Point2D-Cl-0kgBQ.js","./Transformation2D-BcDHHNrs.js","./SimpleGeometryCursor-B92kdZ15.js","./OperatorDefinitions-DP7_WWTp.js","./jsonConverter-JYkjz4xX.js","./OperatorIntersects-DBKrsM4C.js","./apiConverter-JD6JBbuC.js","./DrawScreenTool-DWUOtIDr.js","./mat2df64-DJ_RMjZ3.js","./drawSurfaces-p-r46VbT.js","./elevationInfoUtils-Rm5QE2pq.js","./ElevationInfo-C2AYR3DA.js","./lengthUtils-CPuXsfCi.js","./ReactiveSet-BnT-JVp6.js","./diffUtils-MaI4D9Mw.js","./UpdatingHandles-lgENzTF6.js","./SnappingContext-BvZ1mDD1.js","./vec2f64-Cgb6qxNH.js","./vec32-gK3TWme0.js","./vec42-DZ0sp4MX.js","./vec4f64-DPb6J-GU.js","./plane-Dey3oqKO.js","./vectorStacks-Du2BB1wg.js","./quatf64-aQ5IuZRd.js","./SketchViewModel-Bj0qQq8r.js","./projectionUtils-DKBF6_Ma.js","./projectBuffer-C2_ZDxbj.js","./zscale-kI9JnN2z.js","./GraphicsLayer-C7dUYDum.js","./GraphicsCollection-DsuNzIxl.js","./BlendLayer-CndHJ5Dn.js","./layerContainerType-CSXZNpHb.js","./jsonUtils-CG4V1ypX.js","./parser-B5KtsVQI.js","./mat4f32-Djp3mnm5.js","./mat4-Ba1tXzxc.js","./ScaleRangeLayer-8ZzqKGhu.js","./editableLayers-CH8seXrU.js","./utils-CEb26cK7.js","./Queue-CI0vPdwz.js","./signal-Btlkyg0w.js","./Version-D0TrQevW.js","./asyncUtils-BZq6cT_d.js","./projectVectorToVector-PMDI3BQJ.js","./projectPointToVector-BeWU3FqC.js","./Query-COoGphoa.js","./Field-Qk7kqJE_.js","./fieldType-CgDsR44Y.js","./geodesicUtils-BG1Wf2YN.js","./sphere-DCy-S0e6.js","./quantityUtils-CU1WV3ce.js","./geodeticLengthOperator-DWsUC-lK.js","./geodeticCurveType-CirnHLSB.js","./earcut-D9gy186-.js","./triangle-InVEiR1q.js","./lineSegment-CeFx4PPK.js","./spatialReferenceEllipsoidUtils-DFw-wu05.js","./rotate-CNXTMaqq.js","./curveOperationUtils-D7Hqr9mS.js","./meshVertexSpaceUtils-CeN7ZS2W.js","./MeshLocalVertexSpace-CeosWTXF.js","./hydratedFeatures-BBluDIY8.js","./angularMeasurementUtils-Cr9hvkn9.js","./Cyclical-BjYazOTz.js","./Scheduler-DIu-iJOg.js","./debugFlags-BSOCZQmO.js","./createUtils-BamL_hyg.js","./distanceOperator-CPlPFmZE.js","./Distance2DCalculator-CXhBP-8I-Cmzw5AAV.js","./simplifyOperator-DR_a9Xak.js","./operatorSimplify-CjX8-hMe.js","./mat2d-Bgm8yl9G.js","./quat-CZ1LQodR.js","./index-BYs2II_Q.js","./index-CAmjBe7X.js","./dynamicClasses-Bih5x83q.js","./index-Cxv9hHI1.js","./resources7-BeUU2AIC.js","./index-Ckuu6lBn.js","./index-DnBV6pgF.js","./label-C6WRdIXM.js","./index-CcsdsahA.js","./InternalLabel-DDxd4UIP.js","./index-CKEVgX_r.js","./index-B-7dUXoT.js","./customElement-C4ugq836.js","./_sortable-eUPpUBab.js","./index-ClxrA_WE.js","./index-DqohpWkT.js","./index-D9nzXMUI.js","./Validation-BMOs8MsA.js","./Legend-DKCkhT5c.js","./featureReductionUtils-Caulfaw_.js","./EffectView-CGM72FpQ.js","./displayFilterUtils-CiFXGMg6.js","./ExportImageParameters-DlaGY7Mm.js","./scaleUtils-a7XRoboI.js","./floorFilterUtils-DKzVzLpH.js","./sublayerUtils-BEQnBRaB.js","./pixelRangeUtils-BvOub3JO.js","./jsonUtils-C--8yvkH.js","./typeUtils-pFgvz36j.js","./ClassBreaksRenderer-BLpCnm-L.js","./commonProperties-CITTv46S.js","./colorRamps-CDthAQF1.js","./ColorStop-ClhbS4RX.js","./visualVariableUtils-D_kT-o6u.js","./RendererLegendOptions-BL5W2r_Q.js","./LRUCache-B52YywOm.js","./MemCache-Dy3u4age.js","./DictionaryScriptEvaluator-fEbpVylv.js","./FieldsIndex-BfaTaUfm.js","./UnknownTimeZone-B7fquLC-.js","./timeZoneUtils-kvnFYCV8.js","./ArcadeExpression-BHsVDuiI.js","./TimeOnly-BYrd6q6s.js","./enum-BshDcSFN.js","./utils-DQaLv0i_.js","./defaultCIMValues-XI-Li77m.js","./heatmapUtils-BD7oEhAj.js","./SimpleRenderer-DmSIoU9k.js","./UniqueValueRenderer-Dv7jWKCh.js","./styleUtils-CodmB4wT.js","./rendererConversion-CgsAtRl5.js","./cimSymbolUtils-CBOyuQ8I.js","./symbolUtils-Ciex-nUn.js","./utils-D6aoGCcc.js","./colorUtils-D3e_O9k3.js","./mat2df32-Dpt2CT5P.js","./heatmapRampUtils-BcDSciWr.js","./utils-D71NM_tw.js","./previewSymbol3D-DTUfxI3G.js","./previewUtils-VNo3yuWa.js","./webStyleSymbolUtils-BR-BDddg.js","./devEnvironmentUtils-8WtPGj6h.js","./webStyleAcceptedFormats-CG7ZQ6BV.js","./previewCIMSymbol-BH17RHuP.js","./CIMSymbolHelper-DKDCpqRw.js","./BidiEngine-BvER9tXK.js","./labelPoint-DnnG3eTE.js","./OptimizedGeometry-CYLi7ZPm.js","./memoryEstimations-R8dTJqWI.js","./GeometryUtils-BPbhdKVK.js","./fontUtils-CNXkNmeB.js","./rasterizingUtils-ZEBapkgM.js","./definitions-Bxxl7NsE.js","./vec2f32-CaVKkSa6.js","./Rect-CUzevAry.js","./BoundingBox-BSOANoLO.js","./CIMSymbolRasterizer-Bm7oDCDO.js","./CIMResourceManager-BYZ9sp6x.js","./imageUtils-CRYyxDSE.js","./OverrideHelper-DKqE71Xu.js","./callExpressionWithFeature-BbV6fgi9.js","./quantizationUtils-C7csQYv9.js","./modeUtils-rVjNo13H.js","./substitute-CLT4rWmz.js","./index-CwX7tJoI.js","./index-DOmgF0lb.js","./customElement-xy07Ooih.js","./input-CyIfiwE9.js","./index-I-r4Ram-.js","./utils2-CWdyhtBl.js","./index-B44lybQH.js","./resources5-B8vQCAMP.js","./index-B2LEvQ8q.js","./GridControls-Cw0Bh94f.js","./unitFormatUtils-IEj6d2uR.js","./getDefaultUnitForView-CbpmJpJC.js","./gridUtils-DvqsxUdh.js","./normalizeUtils-dN75LHyP.js","./normalizeUtilsCommon-oR7kIHq_.js","./utils-PyBYdGi0.js","./utils-CjyZX5Fj.js","./editingTools-D8Uf3R9a.js","./SnappingVisualizer2D-B9gXOpaY.js","./TooltipInfoWithCoordinates-Dsk2T3qF.js","./PointSnappingHint-DlKnucSr.js","./SketchTooltipInfo-CCynpALS.js","./MeshTransform-lAZ48NP7.js","./axisAngleDegrees-BqtU_FN5.js","./a11yUtils-D87W8orT.js","./editPlaneUtils-B5kFzanD.js","./boundedPlane-CSMu0tVj.js","./GraphicManipulator-qgF00ktU.js","./drapedUtils-DnB5yqNF.js","./drawUtils-D-hUiYBP.js","./dynamic-import-helper-BheWnx7M.js","./draw-store-COKAX8Ak.js","./layerViewUtils-C3bdKs5A.js","./utils-BQBvadb7.js","./widget-CX3460dL.js","./TextOverlayItem-C65Cyhle.js","./number-C5dztEtP.js","./circle-icon-BvdWUGd1.js","./edit-icon-ge7H3ZPs.js","./point-icon-BaKg3TYR.js","./polygon-icon-D3XpJodm.js","./polyline-icon-DNpeXGcw.js","./rectangle-icon-DAA33YqB.js"])))=>i.map(i=>d[i]);
import{_ as y}from"./preload-helper-DMGCcr4D.js";import{_ as hi}from"./dynamic-import-helper-BheWnx7M.js";import{_ as o,Y as r,Z as M,V as ne,O as pe,a9 as Re,bL as we,eP as it,cw as gt,g_ as gi,gZ as yi,jZ as mi,nd as Bt,ne as zt,nf as vi,ng as bi,nh as Nt,bY as _i,eH as yt,ct as wi,a as fi,cn as Xe,gY as Ti,aI as ae,X as ki,aj as xi,i as _e,h9 as Ci,aw as x,l as Ue,kt as ot,h6 as mt,ay as dt,eF as Ht,ff as Y,ni as Ei,nj as Mi,nk as Li,hA as We,cA as Si,s as Oi,gA as Pi,ax as Ii,fg as Ot,nl as Di,nm as $i,nn as Ai,no as Ri,np as Vi,nq as Fi,nr as Gi,cH as Bi,cI as zi,ns as Be,nt as Ni,cR as Hi,nu as Ui,fy as Wi,fz as Ki,fN as ji,at as qi,fQ as Pt,fR as Yi,fS as Zi,fX as Ut,mS as Qi,eb as Xi,ec as Ji,iD as eo,dc as Ke,d8 as It,da as to,bR as xe,aH as Ce,F as io,hj as oo}from"./main-CtmwM019.js";import{u as vt}from"./draw-store-COKAX8Ak.js";import ro from"./GraphicsLayer-C7dUYDum.js";import"./intl-BF_HwN3J.js";import{Q as so,w as Dt,o as Wt,S as Kt,a3 as no,a4 as lo,m as jt}from"./SketchViewModel-Bj0qQq8r.js";import{n as p,p as ao,B as ue,a as Te,b as qt,e as fe,j as co}from"./jsxFactory-CRwrqbBC.js";import{a as je,m as po,e as bt}from"./utils-CEb26cK7.js";import{o as Je}from"./layerViewUtils-C3bdKs5A.js";import{d as Yt}from"./asyncUtils-BZq6cT_d.js";import{r as uo,o as ho}from"./drapedUtils-DnB5yqNF.js";import{c as go}from"./messages-CIIwatVx.js";import{e as $t}from"./utils-BQBvadb7.js";import{e as At,a as yo}from"./widget-CX3460dL.js";import{s as Rt}from"./substitute-CLT4rWmz.js";let j=class extends ne{constructor(t){super(t),this.colorSelection=!0,this.dynamicScaleToggle=!0,this.gridEnabledToggle=!0,this.numericInputs=!0,this.gridSnapEnabledToggle=!0,this.lineIntervalInput=!0,this.outOfScaleWarning=!0,this.placementButtons=!0,this.rotateWithMapToggle=!0}};o([r({type:Boolean,nonNullable:!0})],j.prototype,"colorSelection",void 0),o([r({type:Boolean,nonNullable:!0})],j.prototype,"dynamicScaleToggle",void 0),o([r({type:Boolean,nonNullable:!0})],j.prototype,"gridEnabledToggle",void 0),o([r({type:Boolean,nonNullable:!0})],j.prototype,"numericInputs",void 0),o([r({type:Boolean,nonNullable:!0})],j.prototype,"gridSnapEnabledToggle",void 0),o([r({type:Boolean,nonNullable:!0})],j.prototype,"lineIntervalInput",void 0),o([r({type:Boolean,nonNullable:!0})],j.prototype,"outOfScaleWarning",void 0),o([r({type:Boolean,nonNullable:!0})],j.prototype,"placementButtons",void 0),o([r({type:Boolean,nonNullable:!0})],j.prototype,"rotateWithMapToggle",void 0),j=o([M("esri.widgets.support.GridControls.VisibleElements")],j);const Zt=j;let q=class extends ne{constructor(t){super(t),this.enabledToggle=!0,this.featureEnabledToggle=!0,this.gridEnabledToggle=!0,this.header=!1,this.layerList=!0,this.gridControls=!0,this.gridControlsElements=new Zt({gridSnapEnabledToggle:!1,gridEnabledToggle:!1}),this.layerListToggleLayersButton=!0,this.selfEnabledToggle=!0}};o([r({type:Boolean,nonNullable:!0})],q.prototype,"enabledToggle",void 0),o([r({type:Boolean,nonNullable:!0})],q.prototype,"featureEnabledToggle",void 0),o([r({type:Boolean,nonNullable:!0})],q.prototype,"gridEnabledToggle",void 0),o([r({type:Boolean,nonNullable:!0})],q.prototype,"header",void 0),o([r({type:Boolean,nonNullable:!0})],q.prototype,"layerList",void 0),o([r({type:Boolean,nonNullable:!0})],q.prototype,"gridControls",void 0),o([r({type:Zt,nonNullable:!0})],q.prototype,"gridControlsElements",void 0),o([r({type:Boolean,nonNullable:!0})],q.prototype,"layerListToggleLayersButton",void 0),o([r({type:Boolean,nonNullable:!0})],q.prototype,"selfEnabledToggle",void 0),q=o([M("esri.widgets.support.SnappingControls.VisibleElements")],q);const st=q;let H=class extends ne{constructor(t){super(t),this.point=!0,this.polyline=!0,this.polygon=!0,this.rectangle=!0,this.circle=!0,this.multipoint=!0,this.mesh=!0,this.freehandPolyline=!1,this.freehandPolygon=!1,this.text=!1}};o([r({type:Boolean,nonNullable:!0})],H.prototype,"point",void 0),o([r({type:Boolean,nonNullable:!0})],H.prototype,"polyline",void 0),o([r({type:Boolean,nonNullable:!0})],H.prototype,"polygon",void 0),o([r({type:Boolean,nonNullable:!0})],H.prototype,"rectangle",void 0),o([r({type:Boolean,nonNullable:!0})],H.prototype,"circle",void 0),o([r({type:Boolean,nonNullable:!0})],H.prototype,"multipoint",void 0),o([r({type:Boolean,nonNullable:!0})],H.prototype,"mesh",void 0),o([r({type:Boolean,nonNullable:!0})],H.prototype,"freehandPolyline",void 0),o([r({type:Boolean,nonNullable:!0})],H.prototype,"freehandPolygon",void 0),o([r({type:Boolean,nonNullable:!0})],H.prototype,"text",void 0),H=o([M("esri.widgets.Sketch.VisibleElements.CreateToolVisibilityMap")],H);let Pe=class extends ne{constructor(t){super(t),this["rectangle-selection"]=!0,this["lasso-selection"]=!0,this["custom-selection"]=!0}};o([r({nonNullable:!0})],Pe.prototype,"rectangle-selection",void 0),o([r({nonNullable:!0})],Pe.prototype,"lasso-selection",void 0),o([r({nonNullable:!0})],Pe.prototype,"custom-selection",void 0),Pe=o([M("esri.widgets.Sketch.VisibleElements.SelectionToolVisibilityMap")],Pe);let N=class extends ne{constructor(t){super(t),this.createTools=new H,this.directionModePicker=!1,this.duplicateButton=!0,this.deleteButton=!0,this.selectionCountLabel=!0,this.labelsToggle=!0,this.selectionTools=new Pe,this.settingsMenu=!0,this.snappingControls=!0,this.snappingControlsElements=new st,this.tooltipsToggle=!0,this.undoRedoMenu=!0}};o([r({type:H,nonNullable:!0})],N.prototype,"createTools",void 0),o([r({type:Boolean,nonNullable:!0})],N.prototype,"directionModePicker",void 0),o([r({type:Boolean,nonNullable:!0})],N.prototype,"duplicateButton",void 0),o([r({type:Boolean,nonNullable:!0})],N.prototype,"deleteButton",void 0),o([r({type:Boolean,nonNullable:!0})],N.prototype,"selectionCountLabel",void 0),o([r({type:Boolean,nonNullable:!0})],N.prototype,"labelsToggle",void 0),o([r({type:Pe,nonNullable:!0})],N.prototype,"selectionTools",void 0),o([r({type:Boolean,nonNullable:!0})],N.prototype,"settingsMenu",void 0),o([r({type:Boolean,nonNullable:!0})],N.prototype,"snappingControls",void 0),o([r({type:st,nonNullable:!0})],N.prototype,"snappingControlsElements",void 0),o([r({type:Boolean,nonNullable:!0})],N.prototype,"tooltipsToggle",void 0),o([r({type:Boolean,nonNullable:!0})],N.prototype,"undoRedoMenu",void 0),N=o([M("esri.widgets.Sketch.VisibleElements")],N);const A={groupSeparator:1,action:{s:32,m:48,l:64},splitButtonPart:{horizontal:{s:16,m:16,l:24},vertical:{s:16,m:24,l:40}}},Qt={splitButton:{horizontal:"chevron-down",vertical:"ellipsis"},overflow:"ellipsis"};function Xt(e,t){return e.vnodeSelector===t?[e]:e.children?.flatMap(i=>Xt(i,t))??[]}const _t=e=>{const t=e;let i=class extends t{constructor(){super(...arguments),this.priority=0,this.scale="m",this.slot=void 0,this.lastActiveKey=null,this.layout="horizontal"}destroy(){this.measurementManager?.managedElements.remove(this),this.measurementManager=null}set measurementManager(s){const n=this._get("measurementManager");s!==n&&(n&&n.managedElements.remove(this),this._set("measurementManager",s),s?.managedElements.add(this))}set budgetedLength(s){this.budgetedLength!==s&&(this._set("budgetedLength",s),this.scheduleRender())}get actionChildren(){return this.children?.flatMap(s=>Xt(s,"calcite-action"))??[]}get activeChildElement(){const s=this.actionChildren.find(n=>n.properties?.active===!0);return s?(this._set("lastActiveKey",s.properties?.key),s):this.lastActiveKey?this.actionChildren.find(n=>n.properties?.key===this.lastActiveKey):void 0}_handleClick(s){s?.dataset&&"dataset"in s&&s.dataset.actionKey&&(this.lastActiveKey=s.dataset.actionKey)}};return o([r()],i.prototype,"priority",void 0),o([r()],i.prototype,"measurementManager",null),o([r()],i.prototype,"budgetedLength",null),o([r()],i.prototype,"actionChildren",null),o([r()],i.prototype,"activeChildElement",null),o([r()],i.prototype,"scale",void 0),o([r()],i.prototype,"slot",void 0),o([r()],i.prototype,"lastActiveKey",void 0),o([r()],i.prototype,"layout",void 0),i=o([M("esri.widgets.Sketch.support.ResponsiveToolbar.ToolbarGroupBase")],i),i},Vt=Symbol("on-resize-handle-key");let Ee=class extends _t(ue){constructor(t){super(t),this._measuredWidth=0,this._measuredHeight=0,this._measuredElement=null}destroy(){this._measuredElement=null}get lengthOptions(){return[this.layout==="horizontal"?this._measuredWidth:this._measuredHeight]}render(){return p("div",{afterCreate:t=>{this._measuredElement=t.firstElementChild,this.addHandles(ao(this._measuredElement,()=>{this._measuredWidth=this._measuredElement?.clientWidth??0,this._measuredHeight=this._measuredElement?.clientHeight??0}),Vt)},afterRemoved:()=>this.removeHandles(Vt)},this.children)}};o([r()],Ee.prototype,"_measuredWidth",void 0),o([r()],Ee.prototype,"_measuredHeight",void 0),o([r()],Ee.prototype,"lengthOptions",null),o([r()],Ee.prototype,"_measuredElement",void 0),Ee=o([M("esri.widgets.Sketch.support.ResponsiveToolbar.MeasuredContentGroup")],Ee);let Me=class extends _t(ue){constructor(t){super(t),this.allowCollapse=!0,this.messagesCommon=null}loadDependencies(){return Te({action:()=>y(()=>import("./index-CO70_VNQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url),"action-group":()=>y(()=>import("./index-CEYyNjwB.js").then(t=>t.i),__vite__mapDeps([20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0,16,17,18,19,21,22,23,24,25,26,27,28,29]),import.meta.url),"action-menu":()=>y(()=>import("./index-DRW6hK50.js").then(t=>t.i),__vite__mapDeps([28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0,16,17,18,19,21,22,23,24,25,26,27,29]),import.meta.url)})}static{this.vnodeSelector="calcite-action-group"}get minimumLength(){const{actionChildren:t,scale:i}=this;return t.length?this.allowCollapse?A.groupSeparator+A.action[i]*Math.min(t.length,2):A.groupSeparator+A.action[i]*t.length:0}get lengthOptions(){const{actionChildren:t,scale:i,minimumLength:s,allowCollapse:n,priority:l}=this,a=[s];if(t.length<=2||!n||l<1)return a;for(let d=1;d<t.length-1;d++)a.push(s+A.action[i]*d);return a}render(){if(!this.actionChildren.length)return p(qt,null,void 0);const{budgetedLength:t,actionChildren:i,activeChildElement:s,layout:n,slot:l,scale:a}=this,d=Math.floor(t/A.action[a]),c=[],h=[];if(d>=i.length)c.push(...i);else{const m=s??c.at(0);if(c.push(...i.slice(0,d-1)),h.push(...i.slice(d-1)),m&&h.includes(m)){const[g]=h.splice(h.indexOf(m),1),b=c.pop();c.push(g),b&&h.unshift(b)}}return p("calcite-action-group",{key:"overflow-button-group",layout:n,onclick:m=>this._handleClick(m.target),slot:l},c.map(m=>this._renderManagedAction(m)),h.length>0?p("calcite-action-menu",{key:"split-button-dropdown",label:this.messagesCommon.more,overlayPositioning:"fixed"},p("calcite-action",{icon:Qt.overflow,key:"split-button-dropdown-trigger",scale:a,slot:"trigger",text:this.messagesCommon.more}),h.map(m=>this._renderManagedAction(m))):void 0)}_renderManagedAction(t){return p("calcite-action",{...t?.properties,"data-action-key":t?.properties?.key,text:t?.properties?.text??""})}};o([r()],Me.prototype,"allowCollapse",void 0),o([r()],Me.prototype,"minimumLength",null),o([r(),fe("esri/t9n/common")],Me.prototype,"messagesCommon",void 0),o([r()],Me.prototype,"lengthOptions",null),Me=o([M("esri.widgets.Sketch.support.ResponsiveToolbar.OverflowGroup")],Me);let ve=class extends ne{constructor(){super(...arguments),this.measuredElement=null,this.managedElements=new pe,this.availableLength=0,this.layout="horizontal",this._resizeObserver=new ResizeObserver(()=>{this._measure()})}get _sortedElements(){return[...this.managedElements].sort((t,i)=>i.priority-t.priority)}connect(t){this._resizeObserver.disconnect(),this.measuredElement=t,this._resizeObserver.observe(t),this._measure()}allocate(){const t=new Map,{availableLength:i,_sortedElements:s}=this;let n=0;for(const l of s){const a=l.lengthOptions[0];t.set(l,a),n+=a}for(const l of s)for(;n<i;){const a=t.get(l);if(!a)break;const d=l.lengthOptions.find(h=>h>a);if(!d)break;const c=n-a+d;if(c>i)break;t.set(l,d),n=c}for(const[l,a]of t)l.budgetedLength=a}_measure(){const t=this.measuredElement;this.availableLength=t?this.layout==="horizontal"?t.clientWidth??0:t.clientHeight??0:0,this.allocate()}destroy(){this._resizeObserver.disconnect()}};o([r()],ve.prototype,"measuredElement",void 0),o([r()],ve.prototype,"managedElements",void 0),o([r()],ve.prototype,"_sortedElements",null),o([r()],ve.prototype,"availableLength",void 0),o([r()],ve.prototype,"layout",void 0),ve=o([M("esri.widgets.Sketch.support.ResponsiveToolbar.ResponsiveToolbarManager")],ve);const mo={splitButtonBase:"esri-split-button--split-part"};let Le=class extends _t(ue){constructor(t){super(t),this.allowCollapse=!0,this.messagesCommon=null}loadDependencies(){return Te({action:()=>y(()=>import("./index-CO70_VNQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url),"action-group":()=>y(()=>import("./index-CEYyNjwB.js").then(t=>t.i),__vite__mapDeps([20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0,16,17,18,19,21,22,23,24,25,26,27,28,29]),import.meta.url),"action-menu":()=>y(()=>import("./index-DRW6hK50.js").then(t=>t.i),__vite__mapDeps([28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0,16,17,18,19,21,22,23,24,25,26,27,29]),import.meta.url)})}static{this.vnodeSelector="calcite-action-group"}get minimumLength(){const t=this.actionChildren;return t.length?t.length===1?A.action[this.scale]+A.groupSeparator:this.allowCollapse?A.action[this.scale]+A.splitButtonPart[this.layout][this.scale]+A.groupSeparator:A.action[this.scale]*t.length+A.groupSeparator:0}get lengthOptions(){const{actionChildren:t,minimumLength:i,layout:s,scale:n,priority:l,allowCollapse:a}=this;if(t.length<2||l<0||!a)return[i];const d=A.groupSeparator+A.action[n]*t.length;return[A.groupSeparator+A.action[n]+A.splitButtonPart[s][n],d]}render(){if(!this.actionChildren.length)return p(qt,null,void 0);const{actionChildren:t,minimumLength:i,budgetedLength:s,layout:n,slot:l,allowCollapse:a}=this,d=!a||t.length<2||s>i;return p("calcite-action-group",{key:"split-button-group",layout:n,onclick:c=>this._handleClick(c.target),slot:l},d?this._renderUnSplit():this._renderSplit())}_renderSplit(){const{activeChildElement:t,layout:i,actionChildren:s,scale:n,messagesCommon:l}=this,a=t??s.at(0);if(!a)return;const d=s.filter(c=>c!==a);return[this._renderManagedAction(a),p("calcite-action-menu",{key:"split-button-dropdown",label:l.more,overlayPositioning:"fixed",placement:i==="horizontal"?"bottom-end":"right-end"},p("calcite-action",{class:`${mo.splitButtonBase}--${i}--${this.scale}`,compact:i==="horizontal",icon:Qt.splitButton[i],key:"split-button-dropdown-trigger",scale:n,slot:"trigger",text:l.more}),d?.map(c=>this._renderManagedAction(c)))]}_renderUnSplit(){return this.actionChildren.map(t=>this._renderManagedAction(t))}_renderManagedAction(t){return p("calcite-action",{...t?.properties,"data-action-key":t?.properties?.key,text:t?.properties?.text??""})}};o([r()],Le.prototype,"minimumLength",null),o([r()],Le.prototype,"allowCollapse",void 0),o([r()],Le.prototype,"lengthOptions",null),o([r(),fe("esri/t9n/common")],Le.prototype,"messagesCommon",void 0),Le=o([M("esri.widgets.Sketch.support.ResponsiveToolbar.SplitButton")],Le);const X="esri-responsive-toolbar",J={rulerBase:`${X}__ruler`,rulerBarHorizontal:`${X}__ruler--bar`,rulerBarVertical:`${X}__ruler--bar--vertical`,rulerPadVertical:`${X}__ruler--pad--vertical`,rulerPadHorizontal:`${X}__ruler--pad--horizontal`,bar:`${X}__bar`,barHorizontal:`${X}__bar--horizontal`,barVertical:`${X}__bar--vertical`,pad:`${X}__pad`,padVertical:`${X}__pad--vertical`,padHorizontal:`${X}__pad--horizontal`};let se=class extends ue{constructor(t){super(t),this.scale="m",this.barStyle="floating",this._measurementManager=new ve,this._managedWidgets=new Map}loadDependencies(){return Te({"action-bar":()=>y(()=>import("./index-DrYwfAs_.js"),__vite__mapDeps([30,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0,16,17,18,19,21,22,23,24,25,26,27,28,29,20,31]),import.meta.url)})}destroy(){this._measurementManager=Re(this._measurementManager),this._managedWidgets.forEach(t=>t.destroy()),this._managedWidgets.clear()}set layout(t){const i=this._get("layout");this._set("layout",t),this._measurementManager&&(this._measurementManager.layout=t),i!==t&&this.scheduleRender()}get _barClasses(){const t=this.barStyle==="docked",i=this.layout==="vertical";return{[J.barHorizontal]:t&&!i,[J.barVertical]:t&&i,[J.bar]:t,[J.padHorizontal]:!t&&!i,[J.padVertical]:!t&&i,[J.pad]:!t}}render(){const{layout:t,scale:i,barStyle:s}=this,n={layout:t,scale:i,expandDisabled:!0,key:"measured-toolbar"},l=s==="docked"?t==="vertical"?J.rulerBarVertical:J.rulerBarHorizontal:t==="horizontal"?J.rulerPadHorizontal:J.rulerPadVertical;return p("div",null,p("div",{afterCreate:a=>{this._measurementManager?.connect(a)},class:this.classes(J.rulerBase,l)}),p("calcite-action-bar",{...n,classes:this._barClasses,floating:s!=="docked",overflowActionsDisabled:!0},this._renderChildren()))}_renderChildren(){if(!this.children)return;const t=this.children.filter(n=>n.properties?.key!==void 0&&"group-kind"in n.properties),i=new Set,s=t.map(n=>{const l=n.properties,a=l.key;i.add(a);const d=this.barStyle==="docked"?l.slot??void 0:void 0,c=l.priority??0,h=l["group-kind"]??"overflow-group",m=l["allow-collapse"]??!0,g=this._managedWidgets.get(a);if(g)return g.children=n.children,g.priority=c,"allowCollapse"in g&&(g.allowCollapse=m),g.slot=d,g.layout=this.layout,g.scale=this.scale,g.measurementManager=this._measurementManager,g;const b={scale:this.scale,priority:c,measurementManager:this._measurementManager,children:n.children,slot:d,layout:this.layout};switch(h){case"split-button":{const D=new Le({...b,allowCollapse:m});return this._managedWidgets.set(a,D),D}case"overflow-group":{const D=new Me({...b,allowCollapse:m});return this._managedWidgets.set(a,D),D}case"measured-content":{const D=new Ee({...b});return this._managedWidgets.set(a,D),D}}}).filter(we);return Array.from(this._managedWidgets.keys()).filter(n=>!i.has(n)).forEach(n=>{this._managedWidgets.get(n)?.destroy(),this._managedWidgets.delete(n)}),this._measurementManager?.allocate(),s.map(n=>n.render())}};o([r()],se.prototype,"scale",void 0),o([r({value:"horizontal"})],se.prototype,"layout",null),o([r()],se.prototype,"barStyle",void 0),o([r()],se.prototype,"_measurementManager",void 0),o([r()],se.prototype,"_managedWidgets",void 0),o([r()],se.prototype,"_barClasses",null),se=o([M("esri.widgets.Sketch.support.ResponsiveToolbar.ResponsiveToolbar")],se);async function vo(e){const{returnFeatureTitleFields:t,returnGeometry:i,selector:s,signal:n,sources:l,view:a}=e;if(!l?.length)return[];const{layers:d,layerViews:c,graphicsLayers:h}=bo(l),m=[];return await it(gt(Promise.all([fo({candidates:m,layers:d,returnFeatureTitleFields:t,returnGeometry:i,selector:s,signal:n,view:a}),_o({candidates:m,layerViews:c,returnGeometry:i,selector:s,signal:n,view:a}),Co({candidates:m,graphicsLayers:h,selector:s})]),n)),m}function bo(e){const t=[],i=[],s=[];return e.forEach(n=>{gi(n)||yi(n)||mi(n)?t.push(n):(Bt(n)||zt(n))&&n.layers?.length?t.push(...n.layers.toArray()):vi(n)&&n.sublayers?.length?s.push(...n.sublayers.toArray()):bi(n)?s.push(n):Je(n)&&i.push(n)}),{layers:t,layerViews:i,graphicsLayers:s}}async function _o(e){const{candidates:t,layerViews:i,returnGeometry:s,selector:n,signal:l,view:a}=e;n.type!=="point"?await gt(Promise.allSettled(i.map(async d=>{const c=ko(d,n,a,s),h=await d.queryFeatures(c,{signal:l});Nt(t,h.features)})),l):await wo({candidates:t,layerViews:i,selector:n,view:a})}async function wo({candidates:e,layerViews:t,selector:i,view:s}){const n=s.toScreen(i);if(!n)return;const l=t.map(d=>d.layer),{results:a}=await s.hitTest(n,{include:l});a.forEach(d=>{"graphic"in d&&d.graphic&&e.push(d.graphic)})}async function fo(e){const{candidates:t,layers:i,returnFeatureTitleFields:s,returnGeometry:n,selector:l,signal:a,view:d}=e;await gt(Promise.allSettled(i.map(async c=>{if("isTable"in c&&c.isTable)return;const h=xo(c,l,d,s,n),m=await c.queryFeatures(h,{signal:a});Nt(t,m.features)})),a)}function Jt(e,t,i){return e.type==="point"?uo(e,"renderer"in t?ho({renderer:t.renderer}):0,i):e}function To(e,t,i){const{fields:s,fieldsIndex:n}=e,l=new Set([e.objectIdField]);"globalIdField"in e&&e.globalIdField!=null&&n.has(e.globalIdField)&&l.add(n.get(e.globalIdField).name);const a="displayField"in e?e.displayField:null,d=_i({displayField:a,fields:s});if(d!=null&&n.has(d)&&l.add(d),"subtypeField"in e&&e.subtypeField!=null){const c=n.get(e.subtypeField)?.name;if(c!=null&&l.add(c),"utilityNetworks"in t.map&&t.map.utilityNetworks?.length){const h=n.get("assetgroup");h?.name&&l.add(h.name);const m=n.get("assettype");m?.name&&l.add(m.name)}}return(i||t.requiredFieldsOptions.featureTitleFields)&&"featureTitleFields"in e&&e.featureTitleFields&&e.featureTitleFields.forEach(c=>l.add(c)),Array.from(l.values())}function ko(e,t,i,s=!0){const n=e.createQuery();return n.outFields=["*"],n.geometry=Jt(t,e.layer,i),n.returnGeometry=s,n.outSpatialReference=i.spatialReference,n}function xo(e,t,i,s=!1,n=!0){const l=e.createQuery();return l.outFields=To(e,i,s),l.geometry=Jt(t,e,i),l.returnGeometry=n,l.outSpatialReference=i.spatialReference,l}async function Co(e){const{candidates:t,graphicsLayers:i,selector:s}=e,n=i.flatMap(a=>a.graphics.toArray())??[];if(!n?.length||!s)return;const l=await y(()=>import("./intersectsOperator-0fn3vdhB.js").then(a=>a.i),__vite__mapDeps([32,33,34,35,36,37,3,4,5,38,39,40,41]),import.meta.url);l.accelerateGeometry(s),n.forEach(a=>{a.geometry&&a.geometry.type!=="mesh"&&l.execute(s,a.geometry)&&t.push(a)})}const Eo=100;let L=class extends yt{constructor(t){super(t),this._completed=!1,this._isConstraintKeyDown=!1,this._processTask=null,this.createTool="rectangle",this.mode=null,this.persistSelection=!0,this.returnFeatureTitleFields=!1,this.returnGeometry=!0,this.selection=new pe,this.selectionManager=null,this.selectOnComplete=!0,this.sources=null,this.toolName="",this.type="add",this._process=wi(async(i,s)=>{const{callback:n,selector:l,completed:a}=i,d=Yt(async c=>{const{effectiveSelectionManager:h,returnFeatureTitleFields:m,returnGeometry:g,selection:b,sources:D,view:Z}=this;if(!(!D?.length&&!h.sources.length)&&Z){if(l&&D!=null){const P=await vo({returnFeatureTitleFields:m,returnGeometry:g,selector:l,signal:c,sources:D,view:Z});if(b.removeAll(),b.addMany(P),a&&this.persistSelection)switch(this.effectiveType){case"remove":h.updateSelection({current:[],added:[],removed:P});break;case"replace":h.clear(),h.updateSelection({current:P,added:[],removed:[]});break;default:h.updateSelection({current:P,added:[],removed:[]})}}n&&n()}else b.removeAll()});return fi(s,()=>d.abort()),this._processTask=d,d.promise},Eo),this._onOperationFinish=this._onOperationFinish.bind(this)}initialize(){this._setup()}get _defaultMode(){return this.createTool==="polygon"?"click":"hybrid"}get _selectionArea(){const t=this._tool.coordinates;if(t.length===0)return;const i=Ci(),s=this.view.spatialReference,n=a=>{i.x=a[0],i.y=a[1];const d=this.view.toMap(i);return[d?.x??0,d?.y??0]};if(t.length===1||t.every(([a,d])=>a===t[0][0]&&d===t[0][1])){const[a,d]=n(t[0]);return new Xe({x:a,y:d,spatialReference:s})}const l=t.map(n);if(l.length!==0)return Ti(l)||l.reverse(),new ae({spatialReference:s,rings:[l]})}get completed(){return this._completed}get effectiveSelectionManager(){return this.selectionManager??this.view.selectionManager}get effectiveType(){const t=this.type??"add";if(this._isConstraintKeyDown)switch(t){case"add":return"remove";case"remove":case"replace":return"add";default:return t}return t}get processingFinalSelection(){return!(!this._processTask||!this._tool?.drawOperation?.isCompleted)}cancel(){this.selection.removeAll(),this._onOperationFinish(!0)}destroy(){this._toolImportController=ki(this._toolImportController)}async _setup(){const{createTool:t,view:i}=this;if(await i.whenReady(),this.destroyed||this._toolImportController)return;const s=new AbortController;this._toolImportController=s;const[n,l]=await Promise.all([y(()=>import("./DrawScreenTool-DWUOtIDr.js"),__vite__mapDeps([42,3,4,5,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,35,103,33,34,36,37,38,41,39,104,105,106,107,2,6,7,8,9,10]),import.meta.url),so()]);if(s.signal.aborted)return;const a=Symbol();try{this._tool=new n.DrawScreenTool({view:i,mode:this.mode??this._defaultMode,geometryType:t,cursor:t==="point"?"default":"crosshair",automaticLengthMeasurementUtils:l})}finally{this._toolImportController=null}this._tool?(this.selectOnComplete||this.addHandles(this._tool.on(["cursor-update","vertex-add","vertex-remove"],()=>{this._syncConstraintKeyDown(),it(this._process({selector:this._selectionArea}))}),a),this._syncConstraintKeyDown(),this.addHandles([i.on("key-down",d=>{if(!d.repeat)switch(this._syncConstraintKeyDown(),d.key){case je.constraint:this._tool.uniformSizeToggled=!0,d.stopPropagation();break;case je.center:this._tool.centeredToggled=!0,d.stopPropagation()}}),i.on("key-up",d=>{switch(this._syncConstraintKeyDown(),d.key){case je.constraint:this._tool.uniformSizeToggled=!1,d.stopPropagation();break;case je.center:this._tool.centeredToggled=!1,d.stopPropagation()}}),this.selection.on("change",({added:d,removed:c})=>this.emit("selection-change",{operationType:this.effectiveType,added:d,removed:c})),this._tool.on("complete",async d=>{this._syncConstraintKeyDown(),this.removeHandles(a),d.aborted?this.cancel():(this._tool.cursor="progress",await this._process({selector:this._selectionArea,callback:this._onOperationFinish,completed:!0}))})],a),this.addHandles(xi(()=>i.tools.remove(this._tool))),i.addAndActivateTool(this._tool)):_e.getLogger(this).warn("Unable to import Draw module. SelectionOperation failed to load.")}_syncConstraintKeyDown(){const{inputManager:t}=this.view;this._isConstraintKeyDown=po.invertType.some(i=>t.isModifierKeyDown(i))}_onOperationFinish(t=!1){this.removeAllHandles(),this._processTask?.abort(),this.emit("complete",{aborted:t,operationType:this.effectiveType,selection:this.selection.toArray(),toolName:this.toolName}),this._completed=!0}};o([r()],L.prototype,"_completed",void 0),o([r()],L.prototype,"_defaultMode",null),o([r()],L.prototype,"_isConstraintKeyDown",void 0),o([r()],L.prototype,"_processTask",void 0),o([r()],L.prototype,"_selectionArea",null),o([r()],L.prototype,"completed",null),o([r({constructOnly:!0})],L.prototype,"createTool",void 0),o([r()],L.prototype,"effectiveSelectionManager",null),o([r()],L.prototype,"effectiveType",null),o([r({constructOnly:!0})],L.prototype,"mode",void 0),o([r()],L.prototype,"persistSelection",void 0),o([r()],L.prototype,"processingFinalSelection",null),o([r()],L.prototype,"returnFeatureTitleFields",void 0),o([r()],L.prototype,"returnGeometry",void 0),o([r({readOnly:!0})],L.prototype,"selection",void 0),o([r({constructOnly:!0})],L.prototype,"selectionManager",void 0),o([r({constructOnly:!0})],L.prototype,"selectOnComplete",void 0),o([r()],L.prototype,"sources",void 0),o([r({constructOnly:!0})],L.prototype,"toolName",void 0),o([r()],L.prototype,"type",void 0),o([r({constructOnly:!0})],L.prototype,"view",void 0),L=o([M("esri.widgets.support.Selector2D.SelectionOperation")],L);const Mo=L;let S=class extends yt{constructor(t){super(t),this._operationHandlesGroup=null,this.activeOperation=null,this.continuousSelectionEnabled=!1,this.defaultLassoToolOptions={createTool:"polygon",mode:"hybrid",toolName:"lasso"},this.defaultOperationType="add",this.defaultPointToolOptions={createTool:"point",toolName:"point"},this.defaultRectangleToolOptions={createTool:"rectangle",toolName:"rectangle"},this.layerViewPreferenceEnabled=!0,this.persistSelection=!0,this.selectionManager=null,this.returnFeatureTitleFields=!1,this.returnGeometry=!0,this.selectOnComplete=!0,this.sources=null,this.toolConfigs=[]}initialize(){this.addHandles([x(()=>this.effectiveSources,t=>{this.activeOperation&&(this.activeOperation.sources=t)}),x(()=>this.defaultOperationType,t=>{this.activeOperation&&(this.activeOperation.type=t)})])}destroy(){this.activeOperation?.cancel(),this.activeOperation?.destroy(),this._operationHandlesGroup=Ue(this._operationHandlesGroup)}get effectiveSelectionManager(){return this.selectionManager??this.view?.selectionManager}get effectiveSources(){const{layerViewPreferenceEnabled:t,sources:i,view:s}=this,n=i??this.effectiveSelectionManager?.sources;if(!n?.length)return[];const l=[];return n.forEach(a=>{if(Je(a))l.push(a);else if(Bt(a)||zt(a))(a.layers||[]).forEach(d=>{const c=s?Dt(s,d):void 0,h=t&&Je(c)?c:d;l.push(h)});else if(t){const d=s?Dt(s,a):void 0,c=Je(d)?d:a;l.push(c)}else l.push(a)}),l}get layers(){return ot(_e.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.sources}set layers(t){ot(_e.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.sources=t}get state(){return this.activeOperation?"active":this.view?.ready&&this.effectiveSources.length?"ready":"disabled"}activate(t){const{state:i}=this,s=t?.view||this.view,n=t?.sources||this.effectiveSources;if(i==="disabled"||!s)return void _e.getLogger(this).warn("Unable to start selection operation.");i==="active"&&this.cancel();const l=new CustomEvent("before-activate",{cancelable:!0,detail:{toolName:t?.toolName??null}});if(this.emit("before-activate",l),l.defaultPrevented)return;const a={type:this.defaultOperationType,persistSelection:this.persistSelection,returnFeatureTitleFields:this.returnFeatureTitleFields,returnGeometry:this.returnGeometry,selectOnComplete:this.selectOnComplete,selectionManager:this.effectiveSelectionManager,...t,sources:n,view:s},d=new Mo({...a});return this._operationHandlesGroup=mt([d.on("selection-change",c=>this.emit("selection-change",c)),d.once("complete",c=>this._onOperationComplete(c,a))]),this._set("activeOperation",d),d}activateTool(t){this.cancel();const i=this._getToolOptions(t);if(i)return this.activate(i);_e.getLogger(this).warn("Unable to activate tool: unable to determine options.")}cancel(){this.activeOperation?.cancel(),this._set("activeOperation",null)}toggleTool(t){const{activeOperation:i}=this;if(i){const s=i.toolName;if(this.cancel(),s===t)return}return this.activateTool(t)}_onOperationComplete(t,i){const s=this.activeOperation?.type??t.operationType;this._operationHandlesGroup=Ue(this._operationHandlesGroup),this.activeOperation?.destroy(),this._set("activeOperation",null),this.emit("complete",t),this.continuousSelectionEnabled&&!t.aborted&&this.activate({...i,type:s})}_getToolOptions(t){return this.toolConfigs.find(s=>s.toolName===t)||(t==="lasso"?this.defaultLassoToolOptions:t==="point"?this.defaultPointToolOptions:t==="rectangle"?this.defaultRectangleToolOptions:void 0)}};o([r({readOnly:!0})],S.prototype,"activeOperation",void 0),o([r()],S.prototype,"continuousSelectionEnabled",void 0),o([r()],S.prototype,"defaultLassoToolOptions",void 0),o([r()],S.prototype,"defaultOperationType",void 0),o([r()],S.prototype,"defaultPointToolOptions",void 0),o([r()],S.prototype,"defaultRectangleToolOptions",void 0),o([r()],S.prototype,"effectiveSelectionManager",null),o([r()],S.prototype,"effectiveSources",null),o([r()],S.prototype,"layers",null),o([r()],S.prototype,"layerViewPreferenceEnabled",void 0),o([r()],S.prototype,"persistSelection",void 0),o([r()],S.prototype,"selectionManager",void 0),o([r()],S.prototype,"returnFeatureTitleFields",void 0),o([r()],S.prototype,"returnGeometry",void 0),o([r()],S.prototype,"selectOnComplete",void 0),o([r()],S.prototype,"sources",void 0),o([r({readOnly:!0})],S.prototype,"state",null),o([r()],S.prototype,"toolConfigs",void 0),o([r()],S.prototype,"view",void 0),S=o([M("esri.widgets.support.SelectionToolbar.SelectionToolbarViewModel")],S);const Lo=S;let ce=class extends ne{constructor(t){super(t),this.chip=!0,this.lassoTool=!0,this.operationTypeControls=!0,this.pan=!0,this.pointTool=!0,this.rectangleTool=!0}};o([r({type:Boolean,nonNullable:!0})],ce.prototype,"chip",void 0),o([r({type:Boolean,nonNullable:!0})],ce.prototype,"lassoTool",void 0),o([r({type:Boolean,nonNullable:!0})],ce.prototype,"operationTypeControls",void 0),o([r({type:Boolean,nonNullable:!0})],ce.prototype,"pan",void 0),o([r({type:Boolean,nonNullable:!0})],ce.prototype,"pointTool",void 0),o([r({type:Boolean,nonNullable:!0})],ce.prototype,"rectangleTool",void 0),ce=o([M("esri.widgets.support.SelectionToolbar.VisibleElements")],ce);const wt=ce,pt="esri-selection-toolbar",qe={base:pt,container:`${pt}__container`,toolButton:`${pt}__tool-button`};let w=class extends ue{constructor(e,t){super(e,t),this._viewModelHandlesGroup=null,this.availableOperationTypes=["replace","add","remove"],this.disabled=!1,this.layout="horizontal",this.messages=null,this.scale="s",this.viewModel=new Lo,this.visibleElements=new wt}initialize(){this._viewModelHandlesGroup=mt([dt(()=>this.viewModel,"before-activate",e=>this.emit("before-activate",e)),dt(()=>this.viewModel,"complete",e=>this.emit("complete",e)),dt(()=>this.viewModel,"selection-change",e=>this.emit("selection-change",e))])}destroy(){this._viewModelHandlesGroup=Ue(this._viewModelHandlesGroup)}loadDependencies(){return Te({action:()=>y(()=>import("./index-CO70_VNQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url),"action-bar":()=>y(()=>import("./index-DrYwfAs_.js"),__vite__mapDeps([30,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0,16,17,18,19,21,22,23,24,25,26,27,28,29,20,31]),import.meta.url),"action-group":()=>y(()=>import("./index-CEYyNjwB.js").then(e=>e.i),__vite__mapDeps([20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0,16,17,18,19,21,22,23,24,25,26,27,28,29]),import.meta.url),chip:()=>y(()=>import("./index-BYs2II_Q.js"),__vite__mapDeps([108,13,2,3,4,5,6,7,8,9,10,14,15,17,27,18,12]),import.meta.url),dropdown:()=>y(()=>import("./index-CAmjBe7X.js"),__vite__mapDeps([109,2,3,4,5,6,7,8,9,10,14,22,23,11,17,27,15,24,110,18]),import.meta.url),"dropdown-item":()=>y(()=>import("./index-Cxv9hHI1.js"),__vite__mapDeps([111,13,2,3,4,5,6,7,8,9,10,14,15,18,17,112]),import.meta.url),"dropdown-group":()=>y(()=>import("./index-Ckuu6lBn.js"),__vite__mapDeps([113,2,3,4,5,6,7,8,9,10,15,112]),import.meta.url),icon:()=>y(()=>import("./index-DBSVdrfF.js").then(e=>e.i),__vite__mapDeps([13,2,3,4,5,6,7,8,9,10,14,15]),import.meta.url)})}get _effectiveDisabled(){return this.disabled||this.state==="disabled"}get _effectiveOperationType(){return this.activeOperation?.effectiveType||this.defaultOperationType}get activeOperation(){return this.viewModel.activeOperation}get continuousSelectionEnabled(){return this.viewModel.continuousSelectionEnabled}set continuousSelectionEnabled(e){this.viewModel.continuousSelectionEnabled=e}get defaultLassoToolOptions(){return this.viewModel.defaultLassoToolOptions}set defaultLassoToolOptions(e){this.viewModel.defaultLassoToolOptions=e}get defaultOperationType(){return this.viewModel.defaultOperationType}set defaultOperationType(e){this.viewModel.defaultOperationType=e}get defaultPointToolOptions(){return this.viewModel.defaultPointToolOptions}set defaultPointToolOptions(e){this.viewModel.defaultPointToolOptions=e}get defaultRectangleToolOptions(){return this.viewModel.defaultRectangleToolOptions}set defaultRectangleToolOptions(e){this.viewModel.defaultRectangleToolOptions=e}get effectiveSelectionManager(){return this.viewModel.effectiveSelectionManager}get effectiveSources(){return this.viewModel.effectiveSources}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layers(){return ot(_e.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.viewModel.sources}set layers(e){ot(_e.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.viewModel.sources=e}get layerViewPreferenceEnabled(){return this.viewModel.layerViewPreferenceEnabled}set layerViewPreferenceEnabled(e){this.viewModel.layerViewPreferenceEnabled=e}get persistSelection(){return this.viewModel.persistSelection}set persistSelection(e){this.viewModel.persistSelection=e}get returnFeatureTitleFields(){return this.viewModel.returnFeatureTitleFields}set returnFeatureTitleFields(e){this.viewModel.returnFeatureTitleFields=e}get returnGeometry(){return this.viewModel.returnGeometry}set returnGeometry(e){this.viewModel.returnGeometry=e}get selectOnComplete(){return this.viewModel.selectOnComplete}set selectOnComplete(e){this.viewModel.selectOnComplete=e}get selectionManager(){return this.viewModel.selectionManager}set selectionManager(e){this.viewModel.selectionManager=e}get state(){return this.viewModel.state}get sources(){return this.viewModel.sources}set sources(e){this.viewModel.sources=e}get toolConfigs(){return this.viewModel.toolConfigs}set toolConfigs(e){this.viewModel.toolConfigs=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visibleToolCount(){const{visibleElements:e}=this;return this.toolConfigs.length+(e.lassoTool?1:0)+(e.rectangleTool?1:0)}activate(e){if(this.cancel(),!this._effectiveDisabled)return this.viewModel.activate(e)}activateTool(e){if(!this._effectiveDisabled)return this.viewModel.activateTool(e)}cancel(){this.viewModel.cancel()}toggleTool(e){if(!this._effectiveDisabled)return this.viewModel.toggleTool(e)}render(){return p("div",{"aria-label":this.label,class:this.classes(qe.base,bt.widget)},p("div",{class:qe.container},p("calcite-action-bar",{expandDisabled:!0,layout:"horizontal",overflowActionsDisabled:!0,scale:this.scale},this._renderOperationTypeControls(),this._renderToolsGroup(),this._renderChip())))}_renderToolsGroup(){return p("calcite-action-group",{key:"tools-group"},this._renderDefaultTools(),this._renderCustomTools())}_renderDefaultTools(){return[this._renderPanAction(),this._renderPointTool(),this._renderRectangleTool(),this._renderLassoTool()]}_renderPanAction(){if(!this.visibleElements.pan)return;const e=this.messages.pan,t=`${this.id}-tool-pan`;return this._renderAction({active:!this.activeOperation,disabled:this._effectiveDisabled,icon:"pan",id:t,key:t,onclick:()=>this.cancel(),text:e,title:e})}_renderChip(){if(!this.visibleElements.chip)return;const{effectiveSelectionManager:e}=this,t=e?.count??0,i=go(t);return p("calcite-chip",{appearance:"outline",closable:t>0,closed:t===0,disabled:this._effectiveDisabled||t===0,label:i,scale:this.scale,slot:"actions-end",title:this.messages.clearSelection,onCalciteChipClose:()=>e?.clear()},i)}_renderCustomTools(){return this.toolConfigs.map(({toolName:e,icon:t})=>this._renderToolWithTooltip(e,t))}_renderPointTool(){if(this.visibleElements.pointTool)return this._renderToolWithTooltip("point","selection-set",this.messages.selectByPoint)}_renderLassoTool(){if(this.visibleElements.lassoTool)return this._renderToolWithTooltip("lasso","lasso-select",this.messages.selectByLasso)}_renderRectangleTool(){if(this.visibleElements.rectangleTool)return this._renderToolWithTooltip("rectangle","cursor-marquee",this.messages.selectByRectangle)}_renderOperationTypeControls(){const{availableOperationTypes:e}=this;if(!this.visibleElements.operationTypeControls||!e.length)return;const{_effectiveOperationType:t,scale:i}=this,s=this._getIconForSelectionOperationType(t),n=this._getLabelForSelectionOperationType(t);return p("calcite-action-group",{key:"toggle-group"},p("calcite-dropdown",{overlayPositioning:"fixed",placement:"bottom-start",scale:i},p("calcite-action",{class:qe.toolButton,disabled:this._effectiveDisabled,icon:s,scale:i,slot:"trigger",text:n,title:n},p("calcite-icon",{icon:"chevron-down",scale:"s"})),p("calcite-dropdown-group",null,e.map(l=>this._renderOperationTypeDropdownItem(l)))))}_renderOperationTypeDropdownItem(e){return p("calcite-dropdown-item",{iconStart:this._getIconForSelectionOperationType(e),selected:this.defaultOperationType===e,onCalciteDropdownItemSelect:()=>this.defaultOperationType=e},this._getLabelForSelectionOperationType(e))}_renderToolWithTooltip(e,t,i=e){const s=`${this.id}-tool-${e}`;return this._renderAction({active:this.activeOperation?.toolName===e,disabled:this._effectiveDisabled,icon:t||"selection",id:s,key:s,onclick:()=>this.toggleTool(e),text:i,title:i})}_renderAction(e){return p("calcite-action",{...e,bind:this,class:qe.toolButton,scale:this.scale})}_getIconForSelectionOperationType(e){switch(e){case"replace":return"overwrite-features";case"add":return"cursor-plus";case"remove":return"cursor-minus"}}_getLabelForSelectionOperationType(e){const{messages:t}=this;switch(e){case"replace":return t.replaceSelection;case"add":return t.addToSelection;case"remove":return t.removeFromSelection}}};o([r()],w.prototype,"_effectiveDisabled",null),o([r()],w.prototype,"_effectiveOperationType",null),o([r()],w.prototype,"activeOperation",null),o([r()],w.prototype,"availableOperationTypes",void 0),o([r()],w.prototype,"continuousSelectionEnabled",null),o([r()],w.prototype,"defaultLassoToolOptions",null),o([r()],w.prototype,"defaultOperationType",null),o([r()],w.prototype,"defaultPointToolOptions",null),o([r()],w.prototype,"defaultRectangleToolOptions",null),o([r()],w.prototype,"disabled",void 0),o([r()],w.prototype,"effectiveSelectionManager",null),o([r()],w.prototype,"effectiveSources",null),o([r()],w.prototype,"label",null),o([r()],w.prototype,"layers",null),o([r()],w.prototype,"layerViewPreferenceEnabled",null),o([r()],w.prototype,"layout",void 0),o([r(),fe("esri/widgets/support/SelectionToolbar/t9n/SelectionToolbar")],w.prototype,"messages",void 0),o([r()],w.prototype,"persistSelection",null),o([r()],w.prototype,"returnFeatureTitleFields",null),o([r()],w.prototype,"returnGeometry",null),o([r()],w.prototype,"selectOnComplete",null),o([r()],w.prototype,"scale",void 0),o([r()],w.prototype,"selectionManager",null),o([r()],w.prototype,"state",null),o([r()],w.prototype,"sources",null),o([r()],w.prototype,"toolConfigs",null),o([r()],w.prototype,"view",null),o([r()],w.prototype,"viewModel",void 0),o([r({type:wt,nonNullable:!0})],w.prototype,"visibleElements",void 0),o([r()],w.prototype,"visibleToolCount",null),w=o([M("esri.widgets.support.SelectionToolbar")],w);const So=w,Oo={absolute:"absolute-direction",relative:"relative-direction"},ei=()=>Te({icon:()=>y(()=>import("./index-DBSVdrfF.js").then(e=>e.i),__vite__mapDeps([13,2,3,4,5,6,7,8,9,10,14,15]),import.meta.url),label:()=>y(()=>import("./index-DnBV6pgF.js"),__vite__mapDeps([114,2,3,4,5,6,7,8,9,10,115,14]),import.meta.url),switch:()=>y(()=>import("./index-CcsdsahA.js"),__vite__mapDeps([116,2,3,4,5,6,7,8,9,10,19,14,17,27,115,117,18]),import.meta.url),tooltip:()=>y(()=>import("./index-CKEVgX_r.js"),__vite__mapDeps([118,2,3,4,5,6,7,8,9,10,22,14,23,11,24,26,16]),import.meta.url)}),ze="esri-labeled-switch",Ne={label:`${ze}__label`,labelContent:`${ze}__label-content`,iconInfo:`${ze}__icon_info`,iconWarning:`${ze}__icon_warning`,tooltip:`${ze}__tooltip`};function Ae({checked:e,disabled:t,hint:i,key:s,label:n,onChange:l,hintIcon:a,hintKind:d}){return p("calcite-label",{class:Ne.label,disabled:t,key:s,layout:"inline-space-between",scale:"s"},i?p("div",{class:Ne.labelContent,key:"label-content"},p("div",null,n),p("calcite-icon",{class:d!=="warning"?Ne.iconInfo:Ne.iconWarning,icon:a??"information",id:s,onclick:c=>c.stopPropagation(),onpointerdown:c=>{c.preventDefault(),c.stopPropagation();const h=c.target.nextElementSibling;h.open=!h.open},scale:"s",tabIndex:0}),p("calcite-tooltip",{class:Ne.tooltip,overlayPositioning:"fixed",referenceElement:s},i)):n,p("calcite-switch",{checked:e,disabled:t,scale:"s",onCalciteSwitchChange:c=>l(c.currentTarget.checked)}))}let Se=class extends ne{constructor(t){super(t),this.directionModePicker=!1,this.header=!1,this.labelsToggle=!0,this.tooltipsToggle=!0}};o([r({type:Boolean,nonNullable:!0})],Se.prototype,"directionModePicker",void 0),o([r({type:Boolean,nonNullable:!0})],Se.prototype,"header",void 0),o([r({type:Boolean,nonNullable:!0})],Se.prototype,"labelsToggle",void 0),o([r({type:Boolean,nonNullable:!0})],Se.prototype,"tooltipsToggle",void 0),Se=o([M("esri.widgets.support.SketchTooltipControls.VisibleElements")],Se);const ft=Se,Ye="esri-sketch-tooltip-controls",Ze={base:Ye,block:`${Ye}__block`,blockContent:`${Ye}__block-content`,radioButtonLabelWrapper:`${Ye}__radio-button-label-wrapper`};let be=class extends ue{constructor(t,i){super(t,i),this.viewModel=null,this.visibleElements=new ft,this.sketchOptions=new Wt,this.viewType=void 0,this._onTooltipsEnabledChange=s=>{this.sketchOptions.tooltips.enabled=s},this._onLabelsEnabledChange=s=>{this.sketchOptions.labels.enabled=s},this._onDirectionModeChange=s=>{this.sketchOptions.values.directionMode=s.currentTarget.selectedItem.value}}loadDependencies(){return Promise.all([Te({block:()=>y(()=>import("./index-B-7dUXoT.js"),__vite__mapDeps([119,1,2,3,4,5,6,7,8,9,10,11,12,120,15,14,13,109,22,23,17,27,24,110,18,0,16,19,111,112,113,121,21,25,26,28,29]),import.meta.url),label:()=>y(()=>import("./index-DnBV6pgF.js"),__vite__mapDeps([114,2,3,4,5,6,7,8,9,10,115,14]),import.meta.url),icon:()=>y(()=>import("./index-DBSVdrfF.js").then(t=>t.i),__vite__mapDeps([13,2,3,4,5,6,7,8,9,10,14,15]),import.meta.url),"radio-button":()=>y(()=>import("./index-ClxrA_WE.js"),__vite__mapDeps([122,2,3,4,5,6,7,8,9,10,29,14,19,17,115,117,18]),import.meta.url),"radio-button-group":()=>y(()=>import("./index-DqohpWkT.js"),__vite__mapDeps([123,13,2,3,4,5,6,7,8,9,10,14,15,124,117,125,12,18]),import.meta.url)}),ei()])}render(){const{label:t,visibleElements:i}=this,s=this._renderContent();return p("div",{"aria-label":t,class:this.classes(Ze.base,bt.widget)},s?p("calcite-block",{class:Ze.block,expanded:!0,heading:i.header?this.label:"",key:"content-block",label:this.label},p("div",{class:Ze.blockContent,key:"content"},s)):void 0)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}_renderContent(){const{visibleElements:t,viewType:i}=this,s=[t.tooltipsToggle?this._renderTooltipsToggle():null,t.labelsToggle&&i!=="2d"?this._renderLabelsToggle():null,t.directionModePicker?this._renderDirectionModePicker():null].filter(we);return s.length===0?null:s}_renderTooltipsToggle(){const{messages:t,sketchOptions:i}=this;return p(Ae,{checked:i.tooltips.effectiveEnabled,hint:t.tooltipsToggleHint,key:`${this.id}__tooltips`,label:t.tooltipsToggle,onChange:this._onTooltipsEnabledChange})}_renderLabelsToggle(){const{messages:t,sketchOptions:i}=this;return p(Ae,{checked:i.labels.enabled,hint:t.labelsToggleHint,key:`${this.id}__labels`,label:t.labelsToggle,onChange:this._onLabelsEnabledChange})}_renderDirectionModePicker(){const{messages:t,sketchOptions:i}=this,{directionMode:s}=i.values;return p("calcite-label",{key:"direction-mode",layout:"default",scale:"s"},t.directionModePicker,p("calcite-radio-button-group",{key:"radio-button-group",layout:"horizontal",name:this.id,scale:"s",value:s,onCalciteRadioButtonGroupChange:this._onDirectionModeChange},this._renderDirectionModeOption("relative",s,t.directionModeRelative),this._renderDirectionModeOption("absolute",s,t.directionModeAbsolute)))}_renderDirectionModeOption(t,i,s){return p("calcite-label",{key:t,layout:"inline",scale:"s"},p("calcite-radio-button",{checked:t===i,scale:"s",value:t}),p("div",{class:Ze.radioButtonLabelWrapper,key:"label-wrapper"},p("calcite-icon",{icon:Oo[t],scale:"s"}),s))}};o([r()],be.prototype,"label",null),o([r({type:ft,nonNullable:!0})],be.prototype,"visibleElements",void 0),o([r(),fe("esri/widgets/support/SketchTooltipControls/t9n/SketchTooltipControls")],be.prototype,"messages",void 0),o([r({nonNullable:!0,type:Wt})],be.prototype,"sketchOptions",void 0),o([r({type:String})],be.prototype,"viewType",void 0),be=o([M("esri.widgets.support.SketchTooltipControls")],be);const Po=be,Io={hide:"hide"};function rt(e){return e?.listMode??void 0}function Do(e){return e!=null&&"minScale"in e&&e.minScale!=null?e.minScale:void 0}function $o(e){return e!=null&&"maxScale"in e&&e.maxScale!=null?e.maxScale:void 0}function Ao(e){if(!e)return"inherited";const t=Vo(ii(e)?e.layer:e);return t!=null?t?"independent":"inherited":"visibilityMode"in e&&e.visibilityMode!=null?e.visibilityMode:"independent"}function ti(e){if(e&&(!("type"in e)||e.type!=="wmts"))return"sublayers"in e?"sublayers":"layers"in e?"layers":void 0}function Tt(e){return rt(e)!==Io.hide}function Ro(e,t){if(!e||t==null||isNaN(t))return!1;const i=Do(e),s=$o(e),n=i!=null&&!isNaN(i)&&i>0&&t>i,l=s!=null&&!isNaN(s)&&s>0&&t<s;return n||l}function Ft(e){const t=e?.layer;return t&&"layers"in t?t.layers:null}function ii(e){return e!=null&&"layer"in e&&e.layer!=null}function Vo(e){const t=Fo(e);return t!=null&&"supportsSublayerVisibility"in t?t.supportsSublayerVisibility:void 0}function Fo(e){return e&&"capabilities"in e&&e.capabilities!=null&&"exportMap"in e.capabilities?e.capabilities.exportMap:void 0}let z=class extends Ht(ue){constructor(e,t){super(e,t),this._legend=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([x(()=>this._canCreateLegend,()=>this._createLegend(),Y),x(()=>[this._legend,this._legendOptions],()=>this._updateLegend(),Y)])}destroy(){this._legend=Re(this._legend)}get _canCreateLegend(){const{content:e,listItem:t}=this;if(!t)return!1;const i="legend";return e===i||e!=null&&!!Array.isArray(e)&&e.includes(i)}get _legendOptions(){const{listItem:e,_legendLayerInfo:t}=this,i=e?.view;return t&&i?{view:i,layerInfos:[t]}:{}}get _legendLayerInfo(){const e=this.listItem?.layer;if(!e||e.type==="subtype-sublayer")return null;const t=ii(e)?e:null,i=e?.parent,s=i!=null&&"type"in i&&i.type==="map-image"?t?.source:null,n="";return s&&i?{layer:i,title:n,sublayerIds:[s.mapLayerId]}:{layer:e,title:n}}get disabled(){const{listItem:e,_legend:t,content:i}=this;return!e||!(Array.isArray(i)&&i.length>1)&&!!t&&(!t.activeLayerInfos?.length||!e.visibleAtCurrentScale||!e.visible)}set disabled(e){this._overrideIfSome("disabled",e)}get icon(){const{image:e}=this,t=this._getFirstWidget();return this._get("icon")??(!e&&t?t.icon:null)}set icon(e){this._overrideIfSome("icon",e)}get title(){return this._get("title")||(this._getFirstWidget()?.label??"")}set title(e){this._override("title",e)}render(){return p("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(e){const{_legend:t,disabled:i,open:s}=this;return e&&!i&&s?e==="legend"&&t?p("div",{key:"legend-widget"},t.render()):typeof e=="string"?p("div",{innerHTML:e,key:e}):At(e)?p("div",{key:"content-widget"},e.render()):e instanceof HTMLElement?p("div",{afterCreate:this._attachToNode,bind:e,key:"content-element"}):null:null}_renderContents(){const{content:e,open:t}=this;return t?Array.isArray(e)?e.map(i=>this._renderContent(i)):this._renderContent(e):null}async _createLegend(){if(Re(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:e}=await y(()=>import("./Legend-DKCkhT5c.js"),__vite__mapDeps([126,3,4,5,2,6,7,8,9,10,127,128,68,69,70,129,130,131,132,133,134,135,136,137,138,139,140,141,47,142,143,144,145,76,146,147,148,149,150,151,152,153,154,54,55,155,156,49,157,158,159,160,161,77,67,162,163,106,164,73,74,75,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191]),import.meta.url),t=new e(this._legendOptions);this._legend=t}_attachToNode(e){e.appendChild(this)}_updateLegend(){const e=this._legend;e&&e.set(this._legendOptions)}_getWidget(e){return e==="legend"?this._legend:At(e)?e:null}_getFirstWidget(){const{content:e}=this;return Array.isArray(e)?e.map(t=>this._getWidget(t)).find(t=>t):this._getWidget(e)}};o([r()],z.prototype,"_legend",void 0),o([r()],z.prototype,"_canCreateLegend",null),o([r()],z.prototype,"_legendOptions",null),o([r()],z.prototype,"_legendLayerInfo",null),o([r()],z.prototype,"content",void 0),o([r()],z.prototype,"disabled",null),o([r()],z.prototype,"flowEnabled",void 0),o([r()],z.prototype,"icon",null),o([r()],z.prototype,"image",void 0),o([r()],z.prototype,"listItem",void 0),o([r()],z.prototype,"open",void 0),o([r()],z.prototype,"title",null),o([r()],z.prototype,"visible",void 0),z=o([M("esri.widgets.LayerList.ListItemPanel")],z);const oi=z;var He;const Go=pe.ofType({key:"type",defaultKeyValue:"button",base:Li,typeMap:{button:Mi,toggle:Ei}}),ri=pe.ofType(Go),ut="layer",Qe="child-list-mode",Bo="hide";let T=He=class extends Ht(ne){constructor(e){super(e),this.actionsSections=new ri,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(pe.ofType(He)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.parent=null,this.view=null}initialize(){if(this.addHandles([x(()=>[this.layer,this.layer?.listMode,this.listModeDisabled],()=>this._watchLayerProperties(this.layer),Y),x(()=>this.checkPublishStatusEnabled,e=>this._updateChildrenPublishing(e),Y),x(()=>this.view,e=>this._updateChildrenView(e),Y),x(()=>this.panel,e=>this._setListItemOnPanel(e),Y)]),typeof this.listItemCreatedFunction=="function"){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){this.panel?.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:e,publishing:t}=this;if(!t&&e&&"connectionStatus"in e)return e.connectionStatus}get error(){return this.layer?.loadError}get incompatible(){const{layerView:e}=this;return!(!e||!("spatialReferenceSupported"in e))&&!e.spatialReferenceSupported}get layerView(){const{layer:e,view:t}=this;if(!e||!t||e.type==="sublayer")return null;const i=e.type==="subtype-sublayer"?e.parent:e;return t.allLayerViews.find(s=>s.layer===i)??null}set panel(e){const t=this._get("panel");e!==t&&e&&t?.destroy(),this._set("panel",e)}castPanel(e){return this.panel?.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new oi(e):null}get sortable(){return this.layer?.type!=="knowledge-graph-sublayer"&&this._get("sortable")}set sortable(e){this._set("sortable",e)}get title(){const e=We(this,"layer.layer");return(!e||e&&We(this,"layer.layer.loaded"))&&We(this,"layer.title")||We(this,"layer.attributes.title")||""}set title(e){this._override("title",e)}get publishing(){const{layer:e,checkPublishStatusEnabled:t}=this;return!!(t&&e&&"publishingInfo"in e&&e.publishingInfo?.status==="publishing")}get updating(){const{layerView:e,connectionStatus:t,layer:i,publishing:s}=this;return!s&&!t&&(e?e.updating:i?.loadStatus==="loading"||!1)}get visible(){return!!this.layer?.visible}set visible(e){const t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){return this.layerView?.visibleAtCurrentScale??!Ro(this.layer,this.view?.scale)}get visibleAtCurrentTimeExtent(){return this.layerView?.visibleAtCurrentTimeExtent??!0}get visibilityMode(){return Ao(this.layer)}clone(){return new He({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){this.children?.forEach(t=>t.checkPublishStatusEnabled=e)}_updateChildrenView(e){const t=this.children;t&&t.forEach(i=>i.view=e)}_createChildren(e){const{listModeDisabled:t,children:i}=this,s=e.filter(n=>!i.some(l=>l.layer===n));i.addMany(this._createChildItems(s,t))}_destroyChildren(e){const{children:t}=this,i=t.filter(s=>!!s.layer&&!e.includes(s.layer));t.destroyMany(i)}_sortChildren(e){this.children.sort((t,i)=>e.indexOf(i.layer)-e.indexOf(t.layer))}_destroyAllChildren(){this.removeHandles(Qe),this.children.destroyAll()}_watchChildLayerListMode(e){this.removeHandles(Qe),this.listModeDisabled||this.addHandles(e.toArray().map(t=>x(()=>t.listMode,()=>this._compileChildren(e))),Qe)}_compileChildren(e){const t=this.listModeDisabled?e:e?.filter(i=>rt(i)!==Bo);e?.length?(this._createChildren(t),this._destroyChildren(t),this._sortChildren(t),this._watchChildLayerListMode(e)):this._destroyAllChildren()}_watchSublayerChanges(e){e&&this.addHandles(e.on("change",()=>this._compileChildren(e)),ut)}_initializeChildLayers(e){this._compileChildren(e),this._watchSublayerChanges(e)}_createChildItems(e,t){return e.reverse().map(i=>t||Tt(i)?new He({layer:i,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null).filter(we)}_watchLayerProperties(e){if(this.removeHandles(ut),this.removeHandles(Qe),!e)return;if((!this.listModeDisabled&&rt(e))==="hide-children")return void this.children.destroyAll();const t=ti(e);t&&this.addHandles(x(()=>e[t],i=>{e.hasOwnProperty(t)&&this._initializeChildLayers(i)},Y),ut)}};o([r({type:ri})],T.prototype,"actionsSections",void 0),o([r()],T.prototype,"actionsOpen",void 0),o([r()],T.prototype,"checkPublishStatusEnabled",void 0),o([r({type:pe.ofType(T)})],T.prototype,"children",void 0),o([r()],T.prototype,"childrenSortable",void 0),o([r({readOnly:!0})],T.prototype,"connectionStatus",null),o([r({readOnly:!0})],T.prototype,"error",null),o([r()],T.prototype,"hidden",void 0),o([r({readOnly:!0})],T.prototype,"incompatible",null),o([r()],T.prototype,"layer",void 0),o([r({readOnly:!0})],T.prototype,"layerView",null),o([r()],T.prototype,"listItemCreatedFunction",void 0),o([r({nonNullable:!0})],T.prototype,"listModeDisabled",void 0),o([r()],T.prototype,"open",void 0),o([r({type:oi})],T.prototype,"panel",null),o([Si("panel")],T.prototype,"castPanel",null),o([r()],T.prototype,"parent",void 0),o([r({value:!0})],T.prototype,"sortable",null),o([r()],T.prototype,"title",null),o([r({readOnly:!0})],T.prototype,"publishing",null),o([r({readOnly:!0})],T.prototype,"updating",null),o([r()],T.prototype,"view",void 0),o([r()],T.prototype,"visible",null),o([r({readOnly:!0})],T.prototype,"visibleAtCurrentScale",null),o([r({readOnly:!0})],T.prototype,"visibleAtCurrentTimeExtent",null),o([r({readOnly:!0})],T.prototype,"visibilityMode",null),T=He=o([M("esri.widgets.LayerList.ListItem")],T);const kt=T,ee={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},zo="hide",si=pe.ofType(kt);let oe=class extends yt{constructor(t){super(t),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new si,this.view=null}initialize(){this.addHandles([x(()=>this.view?.ready===!0,()=>this._viewHandles(),Y),x(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled],()=>this._recompileList()),x(()=>$t(this.view)?this.view.inGeographicLayout:null,()=>this._compileList())],ee.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:t}=this;return t?.ready?"ready":t?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten(t=>t.children).length}triggerAction(t,i){t&&!t.disabled&&this.emit("trigger-action",{action:t,item:i})}moveListItem(t,i,s,n){const l=t?.layer;if(!l||l.type==="subtype-sublayer"||l.type==="sublayer")return;const a=this.view?.map?.layers,d=i?Ft(i):a,c=s?Ft(s):a;if(!d||!c)return;const{operationalItems:h}=this,m=i?.children||h,g=s?.children||h,b=c.length-n;t.parent=s||null,m.remove(t),d.remove(l),g.includes(t)||g.add(t,b),c.includes(l)||c.add(l,b),this._compileList()}_createLayerViewHandles(t){this.removeHandles(ee.layerViews),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),ee.layerViews)}_createMapLayerHandles(t){this.removeHandles(ee.mapLayers),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),ee.mapLayers)}_createListItem(t){const{view:i,listItemCreatedFunction:s,checkPublishStatusEnabled:n,listModeDisabled:l}=this;return new kt({checkPublishStatusEnabled:n,listModeDisabled:l,layer:t,listItemCreatedFunction:s,view:i})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(t){return t?this.listModeDisabled?t:t.filter(i=>rt(i)!==zo):void 0}_watchLayersListMode(t){this.removeHandles(ee.layerListMode),t&&!this.listModeDisabled&&this.addHandles(x(()=>t.filter(i=>"listMode"in i).map(i=>i.listMode).toArray(),()=>this._compileList()),ee.layerListMode)}_compileList(){const t=this.view?.map?.layers,i=$t(this.view)&&!this.view.inGeographicLayout?t?.filter(({type:n})=>n==="link-chart"):t;this._watchLayersListMode(i);const s=this._getViewableLayers(i);s?.length?(this._createNewItems(s),this._removeItems(s),this._sortItems(s)):this._removeAllItems()}_createNewItems(t){const{operationalItems:i}=this;t.forEach(s=>{i.some(n=>n.layer===s)||i.add(this._createListItem(s))})}_removeItems(t){const{operationalItems:i}=this,s=[];i.forEach(n=>{n&&t&&t.includes(n.layer)||s.push(n)}),i.destroyMany(s)}_sortItems(t){const{operationalItems:i}=this;i.sort((s,n)=>{const l=t.indexOf(s.layer),a=t.indexOf(n.layer);return l>a?-1:l<a?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:t}=this;this.removeHandles([ee.mapLayers,ee.layerViews,ee.viewLayers]),t?.ready?this.addHandles([x(()=>this.view?.map?.allLayers,i=>this._createMapLayerHandles(i),Y),x(()=>this.view?.allLayerViews,i=>this._createLayerViewHandles(i),Y)],ee.viewLayers):this._removeAllItems()}};o([r()],oe.prototype,"checkPublishStatusEnabled",void 0),o([r()],oe.prototype,"listItemCreatedFunction",void 0),o([r({nonNullable:!0})],oe.prototype,"listModeDisabled",void 0),o([r({type:si})],oe.prototype,"operationalItems",void 0),o([r({readOnly:!0})],oe.prototype,"state",null),o([r()],oe.prototype,"totalItems",null),o([r()],oe.prototype,"view",void 0),oe=o([M("esri.widgets.LayerList.LayerListViewModel")],oe);const No=oe,xt=e=>Ho(e)||Uo(e),Ho=e=>{if(!("type"in e))return!1;switch(e.type){case"feature":case"geojson":case"csv":case"graphics":case"wfs":case"map-notes":case"oriented-imagery":case"scene":case"building-scene":case"subtype-sublayer":return!0;default:return!1}},Uo=e=>{const t=ti(e);if(t!=null&&e.hasOwnProperty(t)&&e[t]!=null){for(const i of e[t])if(xt(i))return!0}return!1},et=(e,t)=>t!=null&&e!=null&&(t.test(e.title)?"self":!!e.children.some(i=>et(i,t)!==!1)&&"children");var ht;let de=ht=class extends kt{constructor(e){super(e),this.children=new pe,this.parent=null}get enabled(){const{children:e}=this;if(e.length===0)return this.featureSource!=null&&this.featureSource.enabled?"enabled":"disabled";let t=!1,i=!1;for(const s of e){if(s.enabled==="indeterminate")return s.enabled;if(s.enabled==="enabled"?t=!0:s.enabled==="disabled"&&(i=!0),i&&t)return"indeterminate"}return i?"disabled":"enabled"}get childLayerIds(){return this.children.toArray().flatMap(e=>[e.layer?.id,...e.childLayerIds])}get featureSource(){const{layer:e,getFeatureSnappingSources:t}=this;return t().find(i=>i.layer===e)}_initializeChildLayers(e){if(!e)return;const t=e.filter(xt);super._initializeChildLayers(t)}_createChildItems(e){return e.map(t=>Tt(t)?new ht({layer:t,parent:this,view:this.view,getFeatureSnappingSources:this.getFeatureSnappingSources}):null).filter(we).reverse()}};o([r()],de.prototype,"enabled",null),o([r()],de.prototype,"children",void 0),o([r()],de.prototype,"childLayerIds",null),o([r()],de.prototype,"featureSource",null),o([r({constructOnly:!0})],de.prototype,"getFeatureSnappingSources",void 0),o([r()],de.prototype,"parent",void 0),de=ht=o([M("esri.widgets.support.SnappingControls.SnappingListItem")],de);let Oe=class extends No{constructor(){super(...arguments),this.featureSnappingSources=new pe}get operationalItemsFlat(){return this.operationalItems.flatten(e=>e.children)}get selectableItems(){return this.operationalItemsFlat.filter(e=>!e.children?.length)}_compileList(){const e=this.view?.map?.layers;if(!e)return;const t=e.filter(xt);this._watchLayersListMode(t);const i=this._getViewableLayers(t);i?.length?(this._createNewItems(i),this._removeItems(i),this._sortItems(i)):this._removeAllItems()}_createListItem(e){return new de({layer:e,view:this.view,getFeatureSnappingSources:()=>this.featureSnappingSources})}};o([r()],Oe.prototype,"featureSnappingSources",void 0),o([r()],Oe.prototype,"operationalItems",void 0),o([r()],Oe.prototype,"operationalItemsFlat",null),o([r()],Oe.prototype,"selectableItems",null),Oe=o([M("esri.widgets.support.SnappingControls.SnappingLayerListViewModel")],Oe);let re=class extends ne{constructor(e){super(e),this.layerListViewModel=new Oe,this.snappingOptions=new Kt,this.view=null}initialize(){this.addHandles([x(()=>({viewModel:this.layerListViewModel,view:this.view}),({viewModel:e,view:t})=>{e.view=t},Y),x(()=>({viewModel:this.layerListViewModel,sources:this.snappingOptions?.featureSources}),({viewModel:e,sources:t})=>{e.featureSnappingSources=t},Y)])}get allLayersEnabled(){return(this.layerListViewModel?.selectableItems??[]).every(e=>e.enabled==="enabled")}get allLayersDisabled(){return(this.layerListViewModel?.selectableItems??[]).every(e=>!e.enabled)}get layersEnabledCount(){return this.layerListViewModel?.selectableItems?.filter(e=>e.enabled==="enabled").length??0}get state(){return this.snappingOptions?"ready":"disabled"}toggleSnappingForLayers(e,t){e?.forEach(i=>t?this.enableSnappingForLayer(i):this.disableSnappingForLayer(i))}toggleSnappingForAllLayers(e){this.layerListViewModel.selectableItems.forEach(({layer:t})=>{const i=t?.id;e?this.enableSnappingForLayer(i):this.disableSnappingForLayer(i)})}enableSnappingForLayer(e){const t=this._findSnappingSourceForLayer(e)??this._makeSnappingSourceForLayer(e);t&&(t.enabled=!0)}disableSnappingForLayer(e){const t=this._findSnappingSourceForLayer(e);t&&(t.enabled=!1)}updateEnabledFeatureSources(e){for(const t of this.snappingOptions.featureSources)Tt(t.layer)&&(t.enabled=e.includes(t.layer.id))}_findSnappingSourceForLayer(e){return this.snappingOptions.featureSources.find(t=>t.layer.id===e)}_makeSnappingSourceForLayer(e){const t=this.layerListViewModel.operationalItemsFlat.find(s=>s.layer?.id===e)?.layer;if(!t)throw new Oi("snapping-controls:layer-not-found",`cannot enable snapping for layer with id ${e} because no such layer was found in the view`);if(t.type==="group")return;const i=new no({layer:t});return this.snappingOptions.featureSources.add(i),i}};o([r()],re.prototype,"allLayersEnabled",null),o([r()],re.prototype,"allLayersDisabled",null),o([r({constructOnly:!0})],re.prototype,"layerListViewModel",void 0),o([r()],re.prototype,"layersEnabledCount",null),o([r({type:Kt,nonNullable:!0})],re.prototype,"snappingOptions",void 0),o([r()],re.prototype,"state",null),o([r()],re.prototype,"view",void 0),re=o([M("esri.widgets.support.SnappingControls.SnappingControlsViewModel")],re);const Wo=re,ie="esri-snapping-controls",te={base:ie,container:`${ie}__container`,toggleBlock:`${ie}__toggle-block`,layerListBlock:`${ie}__layer-list-block`,layerList:`${ie}__layer-list`,layerListFilter:`${ie}__layer-list__filter`,layerListButton:`${ie}__layer-list__button`,layerListItem:`${ie}__layer-list__item`,layerListGroup:`${ie}__layer-list__group`,nestedContainer:`${ie}__nested-container`};let I=class extends ue{constructor(e,t){super(e,t),this._defaultViewModel=null,this._layerListFilter=null,this._gridLoadTask=null,this.layerListOpen=!0,this.gridOptionsOpen=!1,this.messages=null,this.messagesCommon=null,this.snappingManager=null,this.visibleElements=new st,this._enableSnappingSwitchChange=l=>{this.snappingOptions.enabled=l},this._featureEnabledSwitchChange=l=>{this.snappingOptions.featureEnabled=l},this._gridEnabledSwitchChange=l=>{this.snappingOptions.gridEnabled=l,l&&this._startLoadGrid()},this._selfEnabledSwitchChange=l=>{this.snappingOptions.selfEnabled=l},this._onToggleLayersButtonClick=l=>{this.viewModel.toggleSnappingForAllLayers(!this.viewModel.allLayersEnabled),co(l.target)};const{snappingOptions:i,view:s,viewModel:n}=e;this.viewModel=n??(this._defaultViewModel=new Wo({snappingOptions:i,view:s}))}normalizeCtorArgs(e){const{snappingOptions:t,view:i,viewModel:s,...n}=e;return n}destroy(){this.viewModel!==this._defaultViewModel&&(this._defaultViewModel=Re(this._defaultViewModel))}loadDependencies(){return Promise.all([Te({block:()=>y(()=>import("./index-B-7dUXoT.js"),__vite__mapDeps([119,1,2,3,4,5,6,7,8,9,10,11,12,120,15,14,13,109,22,23,17,27,24,110,18,0,16,19,111,112,113,121,21,25,26,28,29]),import.meta.url),button:()=>y(()=>import("./index-CwX7tJoI.js"),__vite__mapDeps([192,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,25,19,17,115,18]),import.meta.url),input:()=>y(()=>import("./index-DOmgF0lb.js"),__vite__mapDeps([193,13,2,3,4,5,6,7,8,9,10,14,15,124,194,195,27,16,25,19,17,115,18,117,125,12]),import.meta.url),list:()=>y(()=>import("./index-I-r4Ram-.js"),__vite__mapDeps([196,1,2,3,4,5,6,7,8,9,10,11,12,120,15,14,16,13,124,194,193,195,27,25,19,17,115,18,117,125,31,23,197]),import.meta.url),"list-item":()=>y(()=>import("./index-B44lybQH.js"),__vite__mapDeps([198,13,2,3,4,5,6,7,8,9,10,14,15,109,22,23,11,17,27,24,110,18,1,12,0,16,19,111,112,113,121,197,199]),import.meta.url),checkbox:()=>y(()=>import("./index-B2LEvQ8q.js"),__vite__mapDeps([200,2,3,4,5,6,7,8,9,10,14,19,17,27,115,117,12,18]),import.meta.url),loader:()=>y(()=>import("./index-ChbpXBO3.js"),__vite__mapDeps([1,2,3,4,5,6,7,8,9,10,11,12]),import.meta.url)}),ei()])}initialize(){this.addHandles(x(()=>this.view?.type==="2d"&&!!this.view.grid,e=>{this.visibleElements.gridControls&&(this.snappingOptions.gridEnabled=e)}))}get _openAndReady(){return this.gridOptionsOpen&&this.snappingOptions.gridEnabled&&this.snappingOptions.enabled}get icon(){return"snap-to-point"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set viewModel(e){e!==this._get("viewModel")&&(this._defaultViewModel!=null&&this._defaultViewModel===e||(this._defaultViewModel=Re(this._defaultViewModel)),this._set("viewModel",e))}render(){const{label:e}=this;return p("div",{"aria-label":e,class:this.classes(te.base,bt.widget)},p("div",{class:te.container},this._renderContent()))}_renderContent(){return[this._renderToggles(),this._renderLayerList(),this.view?.type==="2d"&&this.visibleElements.gridControls?this._renderGridOptions():null]}_renderToggles(){const{visibleElements:e,view:t}=this,i=[e.selfEnabledToggle?this._renderSelfEnabledToggle():null,e.featureEnabledToggle?this._renderFeatureEnabledToggle():null,e.gridEnabledToggle&&t?.type==="2d"?this._renderGridEnabledToggle():null].filter(we),s=[e.enabledToggle?this._renderEnabledToggle():null,i.length>0?p("div",{class:te.nestedContainer},i):null].filter(we);return s.length===0?null:p("calcite-block",{class:te.toggleBlock,expanded:!0,heading:e.header?this.label:"",key:"toggle-block",label:this.label},s)}_renderEnabledToggle(){return p(Ae,{checked:this.viewModel.snappingOptions.enabled,disabled:this._enabledToggleDisabled,key:`${this.id}__enabled-toggle`,label:this.messages.enableSnapping,onChange:this._enableSnappingSwitchChange})}_renderSelfEnabledToggle(){return p(Ae,{checked:this.viewModel.snappingOptions.selfEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__self-enabled-toggle`,label:this.messages.geometryGuides,onChange:this._selfEnabledSwitchChange})}_renderFeatureEnabledToggle(){return p(Ae,{checked:this.viewModel.snappingOptions.featureEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__feature-enabled-toggle`,label:this.messages.featureToFeature,onChange:this._featureEnabledSwitchChange})}_renderGridEnabledToggle(){return p(Ae,{checked:this.viewModel.snappingOptions.gridEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__grid-enabled-toggle`,label:this.messages.grid,onChange:this._gridEnabledSwitchChange})}_renderLayerList(){if(!this.visibleElements.layerList)return null;const{messages:e,viewModel:t}=this,i=t.layerListViewModel.operationalItems.length>9?p("calcite-input",{class:te.layerListFilter,clearable:!0,placeholder:e?.searchLayers,onCalciteInputInput:({currentTarget:{value:a}})=>{this._layerListFilter=a===""?null:new RegExp(a,"i")}}):null,s=this._secondaryElementsDisabled,n=this.layerListOpen&&!s,l=t.layerListViewModel.operationalItems?.find(a=>!!a.children.length);return p("calcite-block",{class:te.layerListBlock,collapsible:!0,disabled:this._secondaryElementsDisabled,expanded:n,heading:e.snappingLayers,key:"list-block",onCalciteBlockToggle:a=>this.layerListOpen=a.currentTarget.expanded},i,this._renderToggleLayersButton(),p("calcite-list",{class:te.layerList,displayMode:l?"nested":"flat",label:e?.snappingLayers,selectionMode:"none"},this._renderLayerListItemCollection(t.layerListViewModel.operationalItems)))}_renderGridOptions(){const{view:e,visibleElements:t,snappingManager:i,snappingOptions:s,_openAndReady:n}=this,{gridEnabled:l,enabled:a}=s;(n||e?.type==="2d"&&e.grid)&&this._startLoadGrid();const d=this._gridLoadTask?.value,c=d&&e?.type==="2d"&&p(d,{snappingManager:i,snappingOptions:s,view:e,visibleElements:t.gridControlsElements});return p("calcite-block",{class:te.layerListBlock,collapsible:!0,disabled:!l||!a,expanded:n,heading:this.messages.gridOptionsHeading,key:"grid-block",onCalciteBlockClose:()=>this.gridOptionsOpen=!1,onCalciteBlockOpen:()=>this.gridOptionsOpen=!0},c??p("calcite-loader",{label:this.messagesCommon.loading,scale:"s",text:this.messagesCommon.loading}))}_startLoadGrid(){!this._gridLoadTask&&this.visibleElements.gridControls&&this.view?.type==="2d"&&(this._gridLoadTask=Yt(async()=>(await y(async()=>{const{default:e}=await import("./GridControls-Cw0Bh94f.js");return{default:e}},__vite__mapDeps([201,4,3,5,6,7,202,98,85,2,8,9,10,73,74,75,76,60,61,62,131,78,79,203,204,83,205,206,207,208,209,210,52,59,50,63,64,65,66,67,68,69,70,71,46,47,72,77,45,53,80,81,82,54,55,56,57,58,84,86,87,88,89,90,91,211,212,213,214,107,215,94,95,190,216,97,217,44,48,49,51,92,93,96,99,100,101,102,35,103,33,34,36,37,38,41,39,104,105,106,43,218,159,152,153,219,220,162,221,222,223,224,225,226,191,227,228]),import.meta.url)).default))}_renderLayerListItemCollection(e){const t=this._layerListFilter;return e.map(i=>{switch(t?et(i,t):null){case"children":{const s=i.children.filter(n=>et(n,t)!==!1);return this._renderLayerListItemGroup(i,s)}case"self":case null:return this._renderLayerListItemOrGroup(i);case!1:return et(i.parent,t)==="self"?this._renderLayerListItemOrGroup(i):null}}).toArray().filter(we)}_renderToggleLayersButton(){if(!this.visibleElements.layerListToggleLayersButton)return null;const{viewModel:{allLayersEnabled:e},messages:t}=this,i=e?t.disableAllLayers:t.enableAllLayers;return p("calcite-button",{appearance:"transparent",class:te.layerListButton,label:i,name:"layer-toggle",onclick:this._onToggleLayersButtonClick},i)}_renderLayerListItemOrGroup(e){if(e.children.length)return this._renderLayerListItemGroup(e);const{messages:{untitledLayer:t}}=this,i=e.title||t,s=()=>{this.viewModel.toggleSnappingForLayers([e.layer?.id],e.enabled!=="enabled")};return p("calcite-list-item",{class:te.layerListItem,key:`${this.id}-list-item-${e.uid}`,label:i,onCalciteListItemSelect:n=>{n.stopPropagation(),s()}},p("calcite-checkbox",{checked:e.enabled==="enabled",slot:"actions-start",onCalciteCheckboxChange:s}))}_renderLayerListItemGroup(e,t){const{messages:i}=this,{children:s,title:n}=e,l=n||i.untitledLayer,a=n&&n!==""?n:Pi(),d=!!t?.length,c=t??s,h=()=>{this.viewModel.toggleSnappingForLayers(e.childLayerIds,e.enabled!=="enabled")},m=c?.find(g=>!!g.children.length);return p("calcite-list-item",{class:te.layerListGroup,expanded:d,key:a,label:l,onCalciteListItemSelect:g=>{g.stopPropagation(),h()}},p("calcite-checkbox",{checked:e.enabled==="enabled",indeterminate:e.enabled==="indeterminate",slot:"actions-start",onCalciteCheckboxChange:h}),p("calcite-list",{displayMode:m?"nested":"flat",label:i?.snappingLayers,selectionMode:"none"},this._renderLayerListItemCollection(c)))}get _enabledToggleDisabled(){const e=this.snappingOptions;return e.enabledToggled||e.forceDisabled}get _secondaryElementsDisabled(){return this._enabledToggleDisabled||!this.snappingOptions.enabled}};o([r()],I.prototype,"_defaultViewModel",void 0),o([r()],I.prototype,"_layerListFilter",void 0),o([r()],I.prototype,"_gridLoadTask",void 0),o([r()],I.prototype,"_openAndReady",null),o([r()],I.prototype,"label",null),o([r({type:Boolean,nonNullable:!0})],I.prototype,"layerListOpen",void 0),o([r({type:Boolean,nonNullable:!0})],I.prototype,"gridOptionsOpen",void 0),o([r(),fe("esri/widgets/support/SnappingControls/t9n/SnappingControls")],I.prototype,"messages",void 0),o([r(),fe("esri/t9n/common")],I.prototype,"messagesCommon",void 0),o([r()],I.prototype,"snappingOptions",null),o([r()],I.prototype,"snappingManager",void 0),o([r()],I.prototype,"view",null),o([r()],I.prototype,"viewModel",null),o([r({type:st,nonNullable:!0})],I.prototype,"visibleElements",void 0),o([r()],I.prototype,"_enabledToggleDisabled",null),o([r()],I.prototype,"_secondaryElementsDisabled",null),I=o([M("esri.widgets.support.SnappingControls")],I);const Ko=I,me="esri-sketch",le={base:me,vertical:`${me}--vertical`,docked:`${me}-bar`,floating:`${me}-pad`,chipHorizontal:`${me}__selection-count-chip--horizontal`,chipVertical:`${me}__selection-count-chip--vertical`,chipVerticalSmall:`${me}__selection-count-chip--vertical--s`,popoverWrapper:`${me}__popover-wrapper`},jo={point:"pin",polyline:"line",polygon:"polygon",rectangle:"rectangle",circle:"circle",multipoint:"pins",mesh:"i3d-building",freehandPolygon:"freehand-area",freehandPolyline:"freehand",text:"add-text"};let v=class extends ue{constructor(e,t){super(e,t),this._activeCustomToolOptions=null,this._selectionToolbar=null,this._viewModelHandlesGroup=null,this.availableCreateTools=["point","polyline","polygon","rectangle","circle"],this.customToolOptions=null,this.customActions=null,this.toolbarKind="floating",this.contextualToolLocation="separate",this.groupCollapsePriorities=null,this.groupAllowCollapseOptions=null,this.messages=null,this.messagesCommon=null,this.visibleElements=new N,this._defaultViewModel=null,this._calcitePopoverReferenceElement=null,this._relativeLocation="top",this._popoverOpen=!1,this._activateCreateTool=this._activateCreateTool.bind(this),this.viewModel=e?.viewModel||(this._defaultViewModel=new jt({creationMode:e?.creationMode??"continuous"}))}initialize(){const{layer:e,view:t}=this,i=t?.type==="2d",s=new So({persistSelection:!1,visibleElements:new wt({chip:!1,lassoTool:i,operationTypeControls:!1,pan:!1,pointTool:!1,rectangleTool:i}),view:t,sources:e?[e]:null,scale:this.scale});this.addHandles([x(()=>this.viewModel,n=>{this._viewModelHandlesGroup=Ue(this._viewModelHandlesGroup),n&&(this._viewModelHandlesGroup=mt([n.on("create",()=>this.scheduleRender()),n.on("update",()=>this.scheduleRender()),n.on("delete",l=>this.emit("delete",l)),n.on("undo",()=>this.scheduleRender()),n.on("redo",()=>this.scheduleRender()),x(()=>n.layer,l=>{this._selectionToolbar&&(this._selectionToolbar.sources=l?[l]:null)}),x(()=>n.view,l=>{this._selectionToolbar&&(this._selectionToolbar.view=l)}),x(()=>n.state,()=>this.notifyChange("state"))]))},Ot),Ii(()=>s.activeOperation,()=>this.viewModel.cancel()),s.on("complete",n=>this._onSelectionOperationComplete(n)),x(()=>{const{view:n,visibleElements:{selectionTools:l}}=this;return{lassoTool:n?.type!=="3d"&&!!l?.["lasso-selection"],rectangleTool:n?.type!=="3d"&&!!l?.["rectangle-selection"]}},n=>{Object.assign(s.visibleElements,n)},Ot)]),this._selectionToolbar=s}loadDependencies(){return Te({action:()=>y(()=>import("./index-CO70_VNQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url),chip:()=>y(()=>import("./index-BYs2II_Q.js"),__vite__mapDeps([108,13,2,3,4,5,6,7,8,9,10,14,15,17,27,18,12]),import.meta.url),popover:()=>y(()=>import("./index-XuFOPq3H.js").then(e=>e.i),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0,16,17,18,19,22,23,24,25,26,27]),import.meta.url)})}destroy(){this._selectionToolbar?.destroy(),this._viewModelHandlesGroup=Ue(this._viewModelHandlesGroup)}get activeTool(){const e=this._selectionToolbar?.activeOperation;if(e)switch(e.toolName){case"lasso":return"lasso-selection";case"rectangle":return"rectangle-selection";case"default":return"custom-selection"}const t=this._effectiveAvailableCreateTools,{activeTool:i,activeCreateToolDrawMode:s}=this.viewModel;return i==="polygon"&&s==="freehand"&&t?.includes("freehandPolygon")?"freehandPolygon":i==="polyline"&&s==="freehand"&&t?.includes("freehandPolyline")?"freehandPolyline":this.viewModel.activeTool}get activeTooltip(){return this.viewModel.activeTooltip}get createGraphic(){return this.viewModel.createGraphic}get creationMode(){return this.viewModel.creationMode}set creationMode(e){this.viewModel.creationMode=e}get defaultCreateOptions(){return this.viewModel.defaultCreateOptions}set defaultCreateOptions(e){this.viewModel.defaultCreateOptions=e}get defaultUpdateOptions(){return this.viewModel.defaultUpdateOptions}set defaultUpdateOptions(e){this.viewModel.defaultUpdateOptions=e}get icon(){return"pencil"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get labelOptions(){return this.viewModel.labelOptions}set labelOptions(e){this.viewModel.labelOptions=e}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}set layout(e){this._set("layout",e),this._selectionToolbar&&(this._selectionToolbar.layout=e)}set scale(e){this._set("scale",e),this._selectionToolbar&&(this._selectionToolbar.scale=e)}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get state(){return this._selectionToolbar?.activeOperation?"active":this.viewModel.state}get tooltipOptions(){return this.viewModel.tooltipOptions}set tooltipOptions(e){this.viewModel.tooltipOptions=e}get updateGraphics(){return this.viewModel.updateGraphics}get valueOptions(){return this.viewModel.valueOptions}set valueOptions(e){this.viewModel.valueOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set viewModel(e){const t=this._get("viewModel");e!==t&&(t&&t===this._defaultViewModel&&Re(t),this._set("viewModel",e))}get _effectiveAvailableCreateTools(){const{availableCreateTools:e,view:t,visibleElements:i}=this,s=e?.filter(n=>!!i.createTools?.[n]);return t?.type==="3d"?s?.filter(n=>n!=="multipoint"):s}create(e,t,i){const s=i?.createOptions??t;return this._activeCustomToolOptions=i,it(this.viewModel.create(e,s))}update(e,t){return it(this.viewModel.update(e,t))}complete(){this.viewModel.complete()}cancel(){this._selectionToolbar?.cancel(),this.viewModel.cancel(),this._activeCustomToolOptions=null}undo(){this.viewModel.undo(),this.view?.focus()}redo(){this.viewModel.redo(),this.view?.focus()}delete(){this.viewModel.delete()}duplicate(){return this.viewModel.duplicate()}dismissFloatingElements(){this._popoverOpen=!1}render(){const{toolbarKind:e,layout:t,scale:i}=this,s=this.customActions?.filter(n=>n.position==="selection-toolbar");return p("div",null,p("div",{classes:{[le.base]:!0,[le.floating]:e==="floating",[le.docked]:e==="docked",[le.vertical]:t==="vertical"}},p(se,{barStyle:e,layout:t,scale:i},this._renderSelectionSetItemGroupInline(),p("div",{"allow-collapse":this.groupAllowCollapseOptions?.get("selectionTools")??!0,"group-kind":"split-button",key:"selection-split-button",priority:this.groupCollapsePriorities?.get("selectionTools")??0},this._renderDefaultSelectionButton(),this._selectionToolbar?.render(),s?.map(n=>this._renderToolbarItem(n))),this._renderCreateToolActionGroup(),this._renderUndoRedoMenuItemGroup(),this._renderSettingsMenuItemGroup()),this._renderSelectionSetToolbar(),this._renderSettingsMenuPopover()))}_renderSettingsMenuPopover(){const{messagesCommon:e,snappingOptions:t,view:i,viewModel:s,visibleElements:n}=this;if(!this._calcitePopoverReferenceElement)return;const l={directionModePicker:n.directionModePicker,labelsToggle:n.labelsToggle,tooltipsToggle:n.tooltipsToggle},a=this.layout==="horizontal"?this._relativeLocation==="top"?"bottom-end":"top-end":"right-end";return p("calcite-popover",{closable:!0,heading:e.settings,label:e.settings,open:this._popoverOpen,overlayPositioning:"fixed",placement:a,referenceElement:this._calcitePopoverReferenceElement,scale:this.scale,onCalcitePopoverBeforeClose:()=>this._popoverOpen=!1,onCalcitePopoverBeforeOpen:d=>this._remeasurePopoverSizes(d.currentTarget),onCalcitePopoverClose:()=>this._refocusOnView()},p("div",{class:le.popoverWrapper},Object.values(l).includes(!0)?p(Po,{sketchOptions:s.sketchOptions,viewType:i?.type,visibleElements:new ft(l)}):void 0,n.snappingControls&&i&&t?p(Ko,{snappingManager:this.viewModel.snappingManager,snappingOptions:t,view:i,visibleElements:n.snappingControlsElements}):void 0))}_renderSelectionSetToolbar(){if(this.contextualToolLocation!=="separate")return;const e=this._renderSelectionSetItemGroup();return e?.length?p(se,{barStyle:this.toolbarKind,layout:this.layout,scale:this.scale},e):void 0}_renderSelectionSetItemGroupInline(){return this.contextualToolLocation==="separate"?[]:this._renderSelectionSetItemGroup()}_renderUndoRedoMenuItemGroup(){return p("div",{"allow-collapse":this.groupAllowCollapseOptions?.get("undoRedo")??!0,"group-kind":"split-button",key:"undo-redo-menu",priority:this.groupCollapsePriorities?.get("undoRedo")??10,slot:"actions-end"},this._renderUndoButton(),this._renderRedoButton())}_renderSettingsMenuItemGroup(){const e=[],t=[];this.customActions?.forEach(s=>{s.position==="settings-before"?t.push(s):s.position==="settings-after"&&e.push(s)});const i=[...t.map(s=>this._renderToolbarItem(s)),this._renderSettingsMenuButton(),...e.map(s=>this._renderToolbarItem(s))].filter(we);if(i.length)return p("div",{"allow-collapse":this.groupAllowCollapseOptions?.get("settings")??!1,"group-kind":"overflow-group",key:"settings-menu",priority:this.groupCollapsePriorities?.get("settings")??1e3,slot:"actions-end"},i)}_renderSelectionSetItemGroup(){if(!this.updateGraphics.length)return[];const e=this.contextualToolLocation==="inline-end"?"actions-end":void 0,t=this.customActions?.filter(n=>n.position==="before-selection-set"),i=this.customActions?.filter(n=>n.position==="after-selection-set"),s=this.groupCollapsePriorities?.get("selectionSet")??100;return[p("div",{"group-kind":"measured-content",key:"selection-count-chip-group",priority:s,slot:e},this._renderFeatureCountChip()),p("div",{"allow-collapse":this.groupAllowCollapseOptions?.get("selectionSet")??!1,"group-kind":"overflow-group",key:"selection-set-tool-group",priority:s,slot:e},t?.map(n=>this._renderToolbarItem(n)),this._renderDuplicateButton(),this._renderDeleteButton(),i?.map(n=>this._renderToolbarItem(n)))]}_renderDefaultSelectionButton(){if(!this.viewModel.updateOnGraphicClick)return[];const{messages:e,state:t}=this;return this._renderToolbarItem({id:"pointer-select",text:e.selectFeature,icon:"cursor",onclick:this._activateDefaultSelectTool,active:t==="ready"})}_renderCreateToolActionGroup(){const e=this._effectiveAvailableCreateTools?.flatMap(i=>this._renderBuiltInCreateToolItem(i))??[],t=this.customToolOptions?.flatMap(i=>this._renderCustomToolItem(i))??[];return p("div",{"allow-collapse":this.groupAllowCollapseOptions?.get("createTools")??!0,"group-kind":"overflow-group",key:"create-tools-group",priority:this.groupCollapsePriorities?.get("createTools")??100},e,t)}_renderBuiltInCreateToolItem(e){return this._renderToolbarItem({id:`${e}-button`,text:this.messages.draw[e],icon:jo[e],onclick:()=>this._activateCreateTool(e),active:this.activeTool===e&&!this._activeCustomToolOptions})}_renderCustomToolItem(e){const{toolKey:t}=e;return this._renderToolbarItem({id:`custom-${e.toolKey}`,text:e.label,icon:e.icon,onclick:()=>this._activateCreateTool(e.toolName,null,e),active:this._activeCustomToolOptions?.toolKey===t})}_renderUndoButton(){return this.visibleElements.undoRedoMenu?this._renderToolbarItem({id:"undo-button",text:this.messages.undo,icon:"undo",disabled:!this.viewModel.canUndo(),onclick:this.undo,flipRTL:!0}):[]}_renderRedoButton(){return this.visibleElements.undoRedoMenu?this._renderToolbarItem({id:"redo-button",text:this.messages.redo,icon:"redo",disabled:!this.viewModel.canRedo(),onclick:this.redo,flipRTL:!0}):[]}_renderSettingsMenuButton(){return this.visibleElements.settingsMenu?this._renderToolbarItem({id:"settings-menu-action",text:this.messagesCommon.settings,icon:"gear",active:this._popoverOpen,onclick:()=>this._popoverOpen=!this._popoverOpen,afterCreate:e=>this._calcitePopoverReferenceElement=e,afterUpdate:e=>this._calcitePopoverReferenceElement=e,afterRemoved:()=>this._calcitePopoverReferenceElement=null}):[]}_renderFeatureCountChip(){if(!this.visibleElements.selectionCountLabel)return[];const{layout:e,messages:t,scale:i,id:s,updateGraphics:{length:n}}=this,l=Rt(t.selectedCount,{count:n}),a=i==="s"?99:999,d=n>a?Rt(t.selectedCountTruncated,{truncated:a}):n,c=i==="s"&&e==="vertical",h=c?`${s}-selection-chip-small`:`${s}-selection-chip`;return[c?p("span",{classes:{[le.chipVertical]:!0,[le.chipVerticalSmall]:this.scale==="s"},id:h,tabIndex:0,title:l},d):p("calcite-chip",{appearance:"outline",class:e==="horizontal"?le.chipHorizontal:le.chipVertical,id:h,kind:"brand",label:l,scale:i==="l"?"m":"s",tabIndex:0,title:e==="vertical"?l:void 0},e==="vertical"?d:l)]}_renderDuplicateButton(){if(!this.visibleElements.duplicateButton)return[];const{messages:e}=this;return this._renderToolbarItem({id:"duplicate",text:this.updateGraphics.length>1?e.duplicateFeatures:e.duplicateFeature,icon:"copy",onclick:this._onDuplicateSelect})}_renderDeleteButton(){if(!this.visibleElements.deleteButton)return[];const{messages:e}=this,t=this.updateGraphics.length>1?e.deleteFeatures:e.deleteFeature;return this._renderToolbarItem({id:"delete",text:t,icon:"trash",onclick:this.delete})}_renderToolbarItem({id:e,text:t,icon:i,disabled:s,onclick:n,active:l,flipRTL:a,afterCreate:d,afterUpdate:c,afterRemoved:h}){const m=`${this.id}-${e}`;return[p("calcite-action",{active:l,afterCreate:d,afterRemoved:h,afterUpdate:c,bind:this,"data-testid":e,disabled:s||this.state==="disabled",icon:i,iconFlipRtl:a??!1,id:m,key:e,onclick:n,scale:this.scale,text:t,title:t})]}_remeasurePopoverSizes(e){try{const t=e.parentElement,i=this?.view?.container?.getBoundingClientRect(),s=t?.style;if(!(t&&i&&s&&this.view?.container?.contains(t)))return;const n=this._calcitePopoverReferenceElement;if(!n)return;const{bottom:l,top:a}=n.getBoundingClientRect();if(this.layout==="horizontal"){const c=l<i.height/2;c!==(this._relativeLocation==="top")&&(this._relativeLocation=c?"top":"bottom"),c?(s?.setProperty("--sketch-view-height-offset",l-i.top+"px"),s?.setProperty("--sketch-view-margin-offset","30px")):(s?.setProperty("--sketch-view-height-offset",i.bottom-a+"px"),s?.setProperty("--sketch-view-margin-offset","15px"))}else this.layout==="vertical"&&(s.setProperty("--sketch-view-height-offset","15px"),s.setProperty("--sketch-view-margin-offset","15px"));const d=e.shadowRoot?.querySelector("div.header")?.getBoundingClientRect().height;s.setProperty("--sketch-popover-header-offset",`${d}px`)}catch(t){_e.getLogger(this.declaredClass).warnOnce("Sketch failed to lay out settings menu.",t)}}_activateCreateTool(e,t,i){const s=this._activeCustomToolOptions;if(i||s){if(i?.toolKey===s?.toolKey)return void this.cancel()}else if(this.activeTool===e)return void this.cancel();this._selectionToolbar?.cancel(),this.create(e,t,i)}_onDuplicateSelect(){const e=this.duplicate(),t=this.viewModel.activeTool;t!=="transform"&&t!=="reshape"||this.update(e,{tool:t})}_onSelectionOperationComplete(e){const{viewModel:{defaultUpdateOptions:t}}=this,{selection:i}=e;if(!e.aborted&&i.length){const s=t.tool,n=i.length>1&&s==="reshape"?"transform":s;this.update(i,{...t,tool:n})}this.notifyChange("state")}_activateDefaultSelectTool(){this.cancel(),this.view?.focus()}_refocusOnView(){this.activeTool&&this.view?.focus()}};o([r()],v.prototype,"_activeCustomToolOptions",void 0),o([r()],v.prototype,"activeTool",null),o([r({readOnly:!0})],v.prototype,"activeTooltip",null),o([r({cast:e=>{if(!e?.length)return null;const t=new Set(["point","polyline","polygon","rectangle","circle","multipoint","freehandPolyline","freehandPolygon","mesh","text"]);return e.filter(i=>t.has(i))}})],v.prototype,"availableCreateTools",void 0),o([r({readOnly:!0})],v.prototype,"createGraphic",null),o([r()],v.prototype,"creationMode",null),o([r()],v.prototype,"customToolOptions",void 0),o([r()],v.prototype,"customActions",void 0),o([r()],v.prototype,"defaultCreateOptions",null),o([r()],v.prototype,"defaultUpdateOptions",null),o([r()],v.prototype,"icon",null),o([r()],v.prototype,"label",null),o([r()],v.prototype,"labelOptions",null),o([r()],v.prototype,"layer",null),o([r({type:["horizontal","vertical"],value:"horizontal"})],v.prototype,"layout",null),o([r({value:"m"})],v.prototype,"scale",null),o([r()],v.prototype,"toolbarKind",void 0),o([r()],v.prototype,"contextualToolLocation",void 0),o([r()],v.prototype,"groupCollapsePriorities",void 0),o([r()],v.prototype,"groupAllowCollapseOptions",void 0),o([r(),fe("esri/widgets/Sketch/t9n/Sketch")],v.prototype,"messages",void 0),o([r(),fe("esri/t9n/common")],v.prototype,"messagesCommon",void 0),o([r()],v.prototype,"snappingOptions",null),o([r()],v.prototype,"state",null),o([r()],v.prototype,"tooltipOptions",null),o([r({readOnly:!0})],v.prototype,"updateGraphics",null),o([r({type:lo,nonNullable:!0})],v.prototype,"valueOptions",null),o([r()],v.prototype,"view",null),o([r({type:jt}),yo(["create","update","undo","redo"])],v.prototype,"viewModel",null),o([r({type:N,nonNullable:!0})],v.prototype,"visibleElements",void 0),o([r()],v.prototype,"_effectiveAvailableCreateTools",null),o([r()],v.prototype,"_defaultViewModel",void 0),o([r()],v.prototype,"_calcitePopoverReferenceElement",void 0),o([r()],v.prototype,"_relativeLocation",void 0),o([r()],v.prototype,"_popoverOpen",void 0),v=o([M("esri.widgets.Sketch")],v);const qo=v;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const Yo=(e,t)=>i=>Qo(i,e);class Zo extends $i{#i=new Map;#e;#t;constructor(t,i){super(t,i),new Ai(t);const s=this,n=s.instance;let l=n.viewModel,a=n.visibleElements;const d=new Proxy(this.exports,{get(c,h,m){return h==="viewModel"?l:h==="visibleElements"?a:Reflect.get(c,h,m)}});if(s.#t=n,s.instance=d,s.exports=d,l){const c={component:t,get exports(){return s.instance.viewModel}};Ri(s).set("viewModel","viewModel"),t.addController(c),l=Vi(t,new WeakRef(c),Fi(t)-1,l,s.#i)}s.instance.visibleElements&&(a=s.#o(n))}hostConnected(){this.instance=this.#t,super.hostConnected()}hostLoad(){this.#e=x(()=>this.component.el.view,t=>{const i=this.instance;!("view"in i)&&typeof i.viewModel=="object"?i.viewModel.view=t:i.view=t,!("map"in i)&&typeof i.viewModel=="object"?i.viewModel.map=t?.map:i.map=t?.map},{sync:!0,initial:!0})}hostUpdate(t){t.has("closed")&&(this.instance.visible=!this.component.closed)}hostLoaded(){const{el:t}=this.component;t.childElem??=document.createElement("div"),this.instance.container=t.childElem,(this.component.el.shadowRoot??this.component.el).appendChild(this.instance.container),this.component.closed!==void 0&&this.onLifecycle(()=>x(()=>this.instance.visible,i=>this.component.closed=!i,{initial:!0}))}#o(t){return new Proxy(t.visibleElements,{get:(i,s)=>{if(typeof s=="symbol"||s in Promise.prototype)return i[s];const n=[s],l=this.#r(n);return Gi(this.component,a=>{const d=a;this.component[d]=!1;let c=t.visibleElements??{},h;for(const g of n.slice(0,-1))if(typeof c[g]=="object"&&c[g]!==null)c=c[g];else{h=!!c[g];break}h===void 0&&(h=!!(c[n.slice(-1)[0]]??!0));const m=d.startsWith("hide")||d.startsWith("show")?d.startsWith("hide"):h;this.onUpdate(g=>{if(g.has(d)){const b=this.component[d];this.#s(n,b,m)}})},l)}})}#r(t){const i=new Proxy({},{get:(s,n)=>{const l=Reflect.get(s,n);return typeof n=="symbol"||n in Promise.prototype?l:(t.push(n),i)}});return i}#s(t,i,s){let n=this.instance.visibleElements??{};for(const a of t.slice(0,-1))(typeof n[a]!="object"||n[a]===null)&&(n[a]={}),n=n[a];const l=!!(s?!i:i);n[t.at(-1)]=l}hostDestroy(){this.#e?.remove(),super.hostDestroy()}}const Qo=Di(Zo);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const Xo=Bi`.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}.esri-widget{--esri-widget-padding-x: 15px;--esri-widget-padding-y: var(--calcite-spacing-md);--esri-widget-padding: var(--esri-widget-padding-y) var(--esri-widget-padding-x);box-sizing:border-box;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget *,.esri-widget :before,.esri-widget :after{box-sizing:inherit}.esri-widget.esri-widget--disabled>*{opacity:.4;pointer-events:none}.esri-widget.esri-widget--compact{--esri-widget-padding-y: 0;--esri-widget-padding-x: 0}.esri-widget__anchor{color:var(--calcite-color-text-2)}.esri-widget__anchor:hover{color:var(--calcite-color-text-3)}.esri-widget__anchor:hover,.esri-widget__anchor:focus{text-decoration:underline}.esri-widget__anchor--disabled{opacity:.4;pointer-events:none}.esri-widget__header{background-color:var(--calcite-color-foreground-1);flex:1 0 100%;justify-content:space-between;align-items:center;width:100%;min-height:48px;padding:12px 0 12px 15px;display:flex}.esri-widget__header .esri-widget__heading{width:calc(100% - 48px);text-align:initial;color:var(--calcite-color-text-1);align-items:center;margin:0;padding:0;display:flex}.esri-widget__header-button{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);border:none;flex:0 0 48px;justify-content:center;align-self:stretch;align-items:center;width:48px;padding:0;display:flex}.esri-widget__footer{background-color:var(--calcite-color-foreground-1);justify-content:center;align-items:center;width:100%;min-height:48px;display:flex}.esri-widget__footer-pagination{color:var(--calcite-color-text-2);justify-content:space-between;align-items:center;display:flex}.esri-widget__footer-pagination-previous-button,.esri-widget__footer-pagination-next-button{cursor:pointer;background-color:var(--calcite-color-foreground-1);border:0;margin:0 7px;padding:12px 15px;transition:background-color .125s ease-in-out}.esri-widget__footer-pagination-previous-button:hover,.esri-widget__footer-pagination-previous-button:focus,.esri-widget__footer-pagination-next-button:hover,.esri-widget__footer-pagination-next-button:focus{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1)}.esri-menu{visibility:hidden;z-index:1;background-clip:padding;background-color:var(--calcite-color-foreground-1);background-clip:padding-box;width:100%;max-height:0;margin:2px 0 0;padding:0;font-size:var(--calcite-font-size);line-height:var(--calcite-spacing-xl);position:absolute;top:100%;left:0;overflow:hidden;box-shadow:0 1px 2px #0000004d}.esri-menu .esri-menu__header{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-inverse);padding:6px 12px}.esri-menu__list{margin:0;padding:0;list-style:none}.esri-menu__list-item{cursor:pointer;border-top:1px solid #adadad4d;border-left:3px solid #0000;padding:.8em 1em}.esri-menu__list-item [class^=esri-icon-],.esri-menu__list-item [class*=" esri-icon-"]{padding-right:2.8px}.esri-menu__list-item:first-child{border-top:none}.esri-menu__list-item--focus,.esri-menu__list-item:hover,.esri-menu__list-item:focus{background-color:var(--calcite-color-foreground-1)}.esri-menu__list-item:active{background-color:var(--calcite-color-foreground-current)}.esri-menu__list-item--active,.esri-menu__list-item--active:hover,.esri-menu__list-item--active:focus{background-color:var(--calcite-color-foreground-1);border-left-color:var(--calcite-color-brand)}.esri-widget__table{border-collapse:collapse;color:var(--calcite-color-text-1);border:none;width:100%;line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget__table tr:nth-child(odd){background-color:var(--calcite-color-transparent)}.esri-widget__table tr:nth-child(2n){background-color:var(--calcite-color-transparent-press)}.esri-widget__table tr a{color:var(--calcite-color-text-2)}.esri-widget__table tr a:hover,.esri-widget__table tr a:focus{color:var(--calcite-color-text-1)}.esri-widget__table tr td,.esri-widget__table tr th{vertical-align:top;word-break:break-word;padding:.5em .7em;font-size:var(--calcite-font-size-sm);font-weight:var(--calcite-font-weight-regular)}.esri-widget__table tr th{text-align:left;border-right:3px solid #0000000d;width:50%}.esri-widget__table tr td{width:50%}.esri-input{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1);border:1px solid #959595;font-size:var(--calcite-font-size)}.esri-input::-ms-clear{display:none}.esri-input::placeholder{opacity:1;color:var(--calcite-color-text-2)}.esri-input:placeholder-shown{text-overflow:ellipsis}.esri-input[type=text],.esri-input[type=password],.esri-input[type=number]{height:32px;padding:0 .5em}calcite-combobox.esri-input{border:none}.esri-widget__content--empty{text-align:center;color:var(--calcite-color-border-input);flex-flow:column wrap;align-items:center;padding:18px 22px;display:flex}.esri-widget__content--empty h1.esri-widget__heading,.esri-widget__content--empty h2.esri-widget__heading,.esri-widget__content--empty h3.esri-widget__heading,.esri-widget__content--empty h4.esri-widget__heading,.esri-widget__content--empty h5.esri-widget__heading{font-weight:var(--calcite-font-weight-regular)}.esri-widget__content-illustration--empty{width:128px;padding:1rem 0}.esri-widget__content-icon--empty{width:32px;padding:.5rem 0}.esri-select{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background:var(--calcite-color-foreground-1) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-8 -8 32 32' width='32' height='32'%3E%3Cpath d='M8 11.207l-4-4V5.793l4 4 4-4v1.414z' fill='%23adadad' fillrule='nonzero'/%3E%3C/svg%3E") 100% no-repeat;border:1px solid #959595;border-radius:0;width:100%;height:32px;margin:0;padding:0 .5em;font-family:inherit;font-size:.85em;display:block}.esri-select[disabled]{cursor:auto}.esri-select::-ms-expand{display:none}.esri-disabled a,.esri-disabled [role=menu],.esri-disabled [role=checkbox],.esri-disabled [class^=esri-icon-],.esri-disabled [class*=" esri-icon-"]{color:var(--calcite-color-text-3)}.keynav-mode .esri-widget:focus,.keynav-mode .esri-widget :focus{z-index:1;outline-offset:2px;outline:2px solid #adadad}.esri-widget__loader-animation{border:.15em solid #adadad4d;border-top-color:var(--calcite-color-border-input);border-radius:100%;width:1em;height:1em;font-size:var(--calcite-font-size-md);animation:1.25s linear infinite esri-rotate;display:block;transform:translateZ(0)}:dir(rtl) .esri-widget__table th{text-align:right;border-left:3px solid #0000000d;border-right:none}:dir(rtl) .esri-select{background-position:0}:dir(rtl) .esri-menu__list-item{border-left:none;border-right:3px solid #0000}:dir(rtl) .esri-menu__list-item [class^=esri-icon-],:dir(rtl) .esri-menu__list-item [class*=" esri-icon-"]{padding-left:2px;padding-right:0}:dir(rtl) .esri-menu__list-item--active{border-right-color:var(--calcite-color-brand)}.esri-icon-font-fallback-text{clip:rect(0 0 0 0);width:1px;height:1px;position:absolute;overflow:hidden}.esri-rotating{animation:1.25s linear infinite esri-rotate;transform:translateZ(0)}.esri-clearfix:before,.esri-clearfix:after{content:" ";display:table}.esri-clearfix:after{clear:both}.esri-interactive{cursor:pointer}.esri-hidden{display:none!important}.esri-invisible{visibility:hidden!important}.esri-offscreen{position:absolute;top:-999em;left:-999em}.esri-match-height{flex-direction:column;flex:auto;display:flex;overflow:hidden}:host{display:flex}.arcgis-grid-controls{user-select:none;display:flex;flex-flow:column wrap;padding:var(--calcite-spacing-sm);overflow-y:auto;width:100%;.container{display:flex;flex:1 1 auto;flex-direction:column;gap:var(--calcite-spacing-sm)}.numeric-inputs-container{display:grid;grid-auto-columns:1fr;grid-auto-flow:column;gap:var(--calcite-spacing-sm)}arcgis-labeled-switch{margin-block-end:var(--calcite-spacing-sm)}.switch--bordered{border-width:0 0 var(--calcite-spacing-px) 0;border-style:solid;border-color:var(--calcite-color-border-1);padding-block-end:var(--calcite-spacing-sm)}.tile-group{display:flex;column-gap:var(--calcite-spacing-md);align-items:start;margin-bottom:calc(0px - var(--calcite-spacing-sm))}.tile{position:relative;.content{display:flex;flex-direction:column;row-gap:var(--calcite-spacing-md);align-items:center;padding:var(--calcite-spacing-md);color:var(--calcite-color-text-2)}&.disabled{opacity:var(--calcite-opacity-disabled)}&:focus-within{outline:var(--calcite-spacing-base) solid var(--calcite-color-brand);outline-offset:var(--calcite-spacing-base)}input[type=radio]{appearance:none;position:absolute;inset:0;opacity:.001;border:var(--calcite-spacing-px) solid transparent;cursor:pointer;&:checked+.content{border:var(--calcite-spacing-px) solid var(--calcite-color-brand)}+.content{border:var(--calcite-spacing-px) solid transparent;calcite-label{margin-bottom:calc(0px - var(--calcite-label-margin-bottom, .75rem));font-weight:var(--calcite-font-weight-medium)}}}}.inline-icon{margin-left:var(--calcite-spacing-xs);vertical-align:top;color:var(--calcite-color-status-warning)}}calcite-block>.esri-grid-controls{background:0 0;padding:0}.esri-grid-controls{-webkit-user-select:none;user-select:none;padding:var(--esri-widget-padding);flex-flow:column wrap;display:flex;calcite-label.esri-labeled-switch__label{margin-block-end:var(--calcite-spacing-sm, .5rem)}}.esri-grid-controls__switch--bordered{border-width:0 0 var(--calcite-spacing-px) 0;border-style:solid;border-color:var(--calcite-color-border-1)}.esri-grid-controls__container{gap:var(--calcite-spacing-sm);flex-direction:column;flex:auto;display:flex}.esri-grid-controls__tilegroup{column-gap:var(--calcite-spacing-md);align-items:start;display:flex}.esri-grid-controls__tile__content{row-gap:var(--calcite-spacing-md);padding:var(--calcite-spacing-md);color:var(--calcite-color-text-2);flex-direction:column;align-items:center;display:flex}.esri-grid-controls__tile__content calcite-label{margin-bottom:calc(0px - var(--calcite-label-margin-bottom, .75rem));font-weight:var(--calcite-font-weight-medium)}.esri-grid-controls__tile{position:relative}.esri-grid-controls__tile:focus-within{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.esri-grid-controls__tile--disabled{opacity:var(--calcite-opacity-disabled)}.esri-grid-controls__tile input[type=radio]{appearance:none;opacity:.001;border:var(--calcite-spacing-px) solid transparent;cursor:pointer;position:absolute;inset:0}.esri-grid-controls__tile input[type=radio]:checked+.esri-grid-controls__tile__content{border:var(--calcite-spacing-px) solid var(--calcite-color-brand)}.esri-grid-controls__tile input[type=radio]+.esri-grid-controls__tile__content{border:var(--calcite-spacing-px) solid transparent}.esri-grid-controls__numeric-inputs__container{gap:var(--calcite-spacing-sm);grid-auto-columns:1fr;grid-auto-flow:column;display:grid}.esri-grid-controls__inline-icon{margin-left:var(--calcite-spacing-xs);vertical-align:top;color:var(--calcite-color-status-warning)}:host{--response-toolbar-vert-width: 0;--response-toolbar-vert-height: 100%;--response-toolbar-horiz-width: 100%;--response-toolbar-horiz-height: 0}.esri-responsive-toolbar__ruler{opacity:0;pointer-events:none;position:absolute}.esri-responsive-toolbar__ruler--bar{visibility:hidden;height:0;display:block;position:absolute;top:0;left:0;right:0}.esri-responsive-toolbar__ruler--bar--vertical,.esri-responsive-toolbar__ruler--pad--vertical{width:var(--response-toolbar-vert-width);height:var(--response-toolbar-vert-height)}.esri-responsive-toolbar__ruler--pad--horizontal{width:var(--response-toolbar-horiz-width);height:var(--response-toolbar-horiz-height)}.esri-responsive-toolbar__bar>div{display:contents}.esri-responsive-toolbar__bar--horizontal{min-width:100%}.esri-responsive-toolbar__bar--vertical{min-height:100%}.esri-responsive-toolbar__pad{width:min-content;display:contents}.esri-responsive-toolbar__pad>div{display:contents}.esri-responsive-toolbar__ruler--pad--vertical{width:0;height:min(100vh - 120px,100cqh - 120px)}.esri-responsive-toolbar__ruler--pad--horizontal{width:min(100vw - 60px,100cqw - 60px);height:0}.esri-split-button--split-part--vertical--s{max-height:16px}.esri-split-button--split-part--vertical--m{max-height:24px}.esri-split-button--split-part--vertical--l{max-height:40px}.esri-split-button--split-part--horizontal--s,.esri-split-button--split-part--horizontal--m{max-width:16px}.esri-split-button--split-part--horizontal--l{max-width:24px}.esri-snapping-controls__toggle-block{min-width:100%;margin:0}.esri-snapping-controls__layer-list-block{border-bottom:none;min-width:225px}.esri-snapping-controls__layer-list-block[open]{margin-block:0}.esri-snapping-controls__layer-list{overflow:auto}.esri-snapping-controls__layer-list__filter{margin-bottom:10px}.esri-snapping-controls__layer-list__button{margin-bottom:6px}.esri-snapping-controls__layer-list__item calcite-accordion-item calcite-icon,.esri-snapping-controls__layer-list__item calcite-action calcite-icon{margin-inline-start:0}.esri-snapping-controls__layer-list__item calcite-icon{color:var(--calcite-color-brand);margin-inline-start:var(--calcite-list-item-spacing-indent)}.esri-snapping-controls{flex-flow:column wrap;display:flex}.esri-snapping-controls__container{flex-direction:column;flex:auto;display:flex}.esri-snapping-controls__container :only-child{border-block-end:none}.esri-snapping-controls__panel{width:320px}.esri-snapping-controls__item{border:1px solid #adadad4d;cursor:pointer;background-color:var(--calcite-color-foreground-2);border-color:var(--calcite-color-border-1);border-radius:2px;justify-content:space-between;margin:3px 0;padding:3px;transition:border-color .125s ease-in-out;display:flex;box-shadow:0 1px #adadad4d}.esri-snapping-controls__item-action-icon{flex:0 0 16px;width:16px;height:16px;margin-top:.1em;font-size:var(--calcite-font-size-md);display:inline-block}.esri-snapping-controls__action-toggle{opacity:1;cursor:pointer;border:1px solid var(--calcite-color-border-1);flex-flow:row-reverse;justify-content:space-between;align-items:flex-start;width:100%;margin:0;padding:6px 15px;font-size:var(--calcite-font-size-sm);transition:opacity .25s ease-in-out .25s,background-color .25s ease-in-out;display:flex}.esri-snapping-controls__action-toggle .esri-snapping-controls__item-action-title{margin-left:0}.esri-snapping-controls__action-toggle .esri-snapping-controls__item-action-icon{background-color:var(--calcite-color-foreground-1);border-radius:16px;flex:0 0 28px;width:16px;height:16px;padding:0;transition:background-color .125s ease-in-out;position:relative;overflow:hidden;box-shadow:0 0 0 1px #adadad}.esri-snapping-controls__action-toggle .esri-snapping-controls__item-action-icon:before{content:"";background-color:var(--calcite-color-foreground-2);border-radius:100%;width:12px;height:12px;margin:2px;transition:background-color .125s ease-in-out,left .125s ease-in-out;display:block;position:absolute;top:0;left:0;box-shadow:0 0 0 1px #242424}.esri-snapping-controls__action-toggle--on .esri-snapping-controls__item-action-icon{background-color:var(--calcite-color-foreground-1);box-shadow:0 0 0 1px #adadad}.esri-snapping-controls__action-toggle--on .esri-snapping-controls__item-action-icon:before{background-color:var(--calcite-color-foreground-3);left:12px}.esri-snapping-controls__nested-container{flex-direction:column;gap:6px;display:flex}.esri-snapping-controls__nested-container:not(:empty){padding-top:6px;padding-inline-start:1em}.esri-labeled-switch__label{--calcite-label-margin-bottom: 0}.esri-labeled-switch__label-content{text-wrap:balance;flex:1;align-items:center;gap:7px;display:flex}.esri-labeled-switch__label-content>div{flex-grow:1}.esri-labeled-switch__icon{margin-top:-1px}.esri-labeled-switch__icon_info{color:var(--calcite-color-status-info)}.esri-labeled-switch__icon_warning{color:var(--calcite-color-status-warning)}.esri-labeled-switch__tooltip{text-wrap:wrap}:host{display:flex;max-width:100%;justify-content:flex-end;pointer-events:none;--sketch-pad-flex-flow: wrap;--sketch-view-height-offset: 63px ;--sketch-view-margin-offset: 30px;--sketch-popover-header-offset: 49px}:host([scale="s"]){--sketch-view-height-offset: 47px ;--sketch-view-margin-offset: 30px;--sketch-popover-header-offset: 33px}:host([scale="l"]){--sketch-view-height-offset: 79px ;--sketch-view-margin-offset: 30px;--sketch-popover-header-offset: 65px}div:has(>.esri-sketch){display:contents}.esri-sketch{-webkit-user-select:none;user-select:none;pointer-events:none;display:flex}.esri-sketch-pad{gap:var(--arcgis-internal-sketch-gap, var(--calcite-spacing-sm));flex-flow:var(--sketch-pad-flex-flow);justify-content:var(--arcgis-internal-sketch-justify-content, flex-start)}.esri-sketch-pad:dir(rtl){flex-flow:row-reverse wrap}.esri-sketch-pad.esri-sketch--vertical{flex-flow:var(--sketch-pad-flex-flow, column wrap);justify-content:flex-start;--sketch-view-height-offset: 30px;--sketch-view-margin-offset: 15px}.esri-sketch-pad.esri-sketch--vertical:dir(rtl){flex-flow:var(--sketch-pad-flex-flow, column wrap-reverse)}.esri-sketch-pad.esri-sketch--vertical .esri-selection-toolbar__container{flex-direction:column}.esri-sketch>*{pointer-events:initial;display:flex}.esri-sketch-bar{flex-direction:column;gap:0;margin:0;flex-basis:100%}.esri-sketch-bar.esri-sketch--vertical{flex-flow:row}.esri-sketch__popover-wrapper{inline-size:max-content;min-inline-size:300px;max-height:calc(100cqh - (var(--sketch-view-height-offset, 90px)) - var(--sketch-view-margin-offset, 15px) - var(--sketch-popover-header-offset, 1000px));-webkit-user-select:none;user-select:none;max-inline-size:400px;overflow-y:auto}.esri-sketch__popover-wrapper .esri-sketch-tooltip-controls:not(:only-child) calcite-block{border-block-end-width:1px;border-style:solid;border-color:var(--calcite-color-border-3)}.esri-sketch__selection-count-chip--horizontal{margin-block:var(--calcite-spacing-xxs);margin-inline:var(--calcite-spacing-xs);align-self:center}.esri-sketch__selection-count-chip--vertical{margin-block:calc(var(--calcite-spacing-md) * var(--sketch-chip-margin-scale-factor, 1));scale:var(--sketch-chip-rescale, 1);align-self:center;margin-inline:0}.esri-sketch__selection-count-chip--vertical--s{--sketch-chip-rescale: .8;--sketch-chip-margin-scale-factor: .5}.esri-sketch--vertical{max-height:min(100vh - 120px,100cqh - 120px)}.esri-expand__popover-content .esri-sketch{gap:0}.esri-sketch-tooltip-controls{flex-flow:column wrap;min-width:100%;display:flex}.esri-sketch-tooltip-controls__block{border-block-end:none;margin:0}.esri-sketch-tooltip-controls__block-content{flex-direction:column;gap:6px;display:flex}.esri-sketch-tooltip-controls__radio-button-label-wrapper{align-items:center;gap:2px;display:flex}.esri-sketch-tooltip-controls calcite-label:last-child{--calcite-label-margin-bottom: 0}`,Jo=Yo(qo);class er extends zi{constructor(){super(),this.widget=Jo(this),this.viewModel=this.widget.viewModel,this._defaultGraphicsLayer=null,this.view=this.widget.view,this.activeTool=this.widget.activeTool,this.autoDestroyDisabled=!1,this.availableCreateTools=this.widget.availableCreateTools,this.createGraphic=this.widget.createGraphic,this.creationMode=this.widget.creationMode,this.defaultCreateOptions=this.widget.defaultCreateOptions,this.defaultGraphicsLayerDisabled=!1,this.defaultUpdateOptions=this.widget.defaultUpdateOptions,this.hideCreateToolsCircle=this.widget.visibleElements.createTools.circle,this.hideCreateToolsMultipoint=this.widget.visibleElements.createTools.multipoint,this.hideCreateToolsPoint=this.widget.visibleElements.createTools.point,this.hideCreateToolsPolygon=this.widget.visibleElements.createTools.polygon,this.hideCreateToolsPolyline=this.widget.visibleElements.createTools.polyline,this.hideCreateToolsRectangle=this.widget.visibleElements.createTools.rectangle,this.hideDuplicateButton=this.widget.visibleElements.duplicateButton,this.hideDeleteButton=this.widget.visibleElements.deleteButton,this.hideSelectionCountLabel=this.widget.visibleElements.selectionCountLabel,this.hideLabelsToggle=this.widget.visibleElements.labelsToggle,this.hideSelectionToolsLassoSelection=this.widget.visibleElements.selectionTools["lasso-selection"],this.hideSelectionToolsRectangleSelection=this.widget.visibleElements.selectionTools["rectangle-selection"],this.hideSettingsMenu=this.widget.visibleElements.settingsMenu,this.hideSnappingControls=this.widget.visibleElements.snappingControls,this.hideSnappingControlsElementsEnabledToggle=this.widget.visibleElements.snappingControlsElements.enabledToggle,this.hideSnappingControlsElementsFeatureEnabledToggle=this.widget.visibleElements.snappingControlsElements.featureEnabledToggle,this.hideSnappingControlsElementsLayerList=this.widget.visibleElements.snappingControlsElements.layerList,this.hideSnappingControlsElementsSelfEnabledToggle=this.widget.visibleElements.snappingControlsElements.selfEnabledToggle,this.hideTooltipsToggle=this.widget.visibleElements.tooltipsToggle,this.hideUndoRedoMenu=this.widget.visibleElements.undoRedoMenu,this.icon=this.widget.icon,this.label=this.widget.label,this.labelOptions=this.widget.labelOptions,this.layer=this.widget.layer,this.layout=this.widget.layout,this.pointSymbol=this.viewModel.pointSymbol,this.polygonSymbol=this.viewModel.polygonSymbol,this.polylineSymbol=this.viewModel.polylineSymbol,this.scale=this.widget.scale,this.toolbarKind=this.widget.toolbarKind,this.showSnappingControlsElementsHeader=this.widget.visibleElements.snappingControlsElements.header,this.showCreateToolsFreehandPolygon=this.widget.visibleElements.createTools.freehandPolygon,this.showCreateToolsFreehandPolyline=this.widget.visibleElements.createTools.freehandPolyline,this.snappingOptions=this.widget.snappingOptions,this.state=this.widget.state,this.tooltipOptions=this.widget.tooltipOptions,this.updateGraphics=this.widget.updateGraphics,this.arcgisCreate=Be(()=>this.widget,"create"),this.arcgisDelete=Be(()=>this.widget,"delete"),this.arcgisPropertyChange=Ni()("state"),this.arcgisReady=Hi(),this.arcgisRedo=Be(()=>this.widget,"redo"),this.arcgisUndo=Be(()=>this.widget,"undo"),this.arcgisUpdate=Be(()=>this.widget,"update"),this.listen("arcgisReady",this._arcgisReadyHandler)}static{this.properties={view:0,activeTool:3,autoDestroyDisabled:5,availableCreateTools:0,createGraphic:0,creationMode:1,defaultCreateOptions:0,defaultGraphicsLayerDisabled:5,defaultUpdateOptions:0,hideCreateToolsCircle:5,hideCreateToolsMultipoint:5,hideCreateToolsPoint:5,hideCreateToolsPolygon:5,hideCreateToolsPolyline:5,hideCreateToolsRectangle:5,hideDuplicateButton:5,hideDeleteButton:5,hideSelectionCountLabel:5,hideLabelsToggle:5,hideSelectionToolsLassoSelection:5,hideSelectionToolsRectangleSelection:5,hideSettingsMenu:5,hideSnappingControls:5,hideSnappingControlsElementsEnabledToggle:5,hideSnappingControlsElementsFeatureEnabledToggle:5,hideSnappingControlsElementsLayerList:5,hideSnappingControlsElementsSelfEnabledToggle:5,hideTooltipsToggle:5,hideUndoRedoMenu:5,icon:1,label:1,labelOptions:0,layer:0,layout:1,pointSymbol:0,polygonSymbol:0,polylineSymbol:0,position:1,referenceElement:1,scale:1,toolbarKind:1,showSnappingControlsElementsHeader:5,showCreateToolsFreehandPolygon:5,showCreateToolsFreehandPolyline:5,snappingOptions:0,state:3,tooltipOptions:0,updateGraphics:0}}static{this.styles=Xo}async cancel(){this.widget?.cancel()}async complete(){this.widget?.complete()}async create(t,i){await this.widget?.create(t,i)}async delete(){this.widget?.delete()}async destroy(){await this.manager.destroy()}async duplicate(){this.widget?.duplicate()}async redo(){this.widget?.redo()}async triggerUpdate(t,i){this.widget?.update(t,i)}async undo(){this.widget?.undo()}_arcgisReadyHandler(){this.defaultGraphicsLayerDisabled||(this._defaultGraphicsLayer=new ro({title:"Sketch Layer"}),this.widget.availableCreateTools=["point","polyline","freehandPolyline","polygon","freehandPolygon","rectangle","circle"],this.widget.layer=this._defaultGraphicsLayer,this.el.view?.map?.add(this.widget.layer),this.manager.onLifecycle(()=>x(()=>this.el.view?.map,(t,i)=>{const s=this._defaultGraphicsLayer;!s||this.widget.layer!==s||(i?.allLayers.includes(s)&&i.remove(s),t?.add(s))})),this.manager.onDestroy(()=>{this._defaultGraphicsLayer&&this.el.view?.map?.allLayers.includes(this._defaultGraphicsLayer)&&this.el.view?.map?.remove(this._defaultGraphicsLayer),this._defaultGraphicsLayer?.destroy(),this._defaultGraphicsLayer=null}))}}Ui("arcgis-sketch",er);const tt="RampDrawGraphicsLayer",tr=Wi({__name:"draw",setup(e){const{t,availableLocales:i,locale:s}=Ki(),n=u=>t(u?`draw.${u}`:"draw.unknown"),l=Zi("iApi"),a=vt(),d=u=>{const _=i.length?i:[s.value],f={};for(const C of _)f[C]=t(u,{},{locale:C});return f};let c=null;const h=ji("sketchEl");let m=null,g=null,b=null,D=null,Z=!1,P=null,R=[];const Ct=qi([]);let he;async function ni(){const u=l.keyboardNav;if(!u){console.warn("Keyboard navigation fixture is not available; draw shortcuts are disabled.");return}he&&(u.unregister(he),he=void 0),he=u.register("D",{name:d("draw.keyboard.namespace"),activeHandler:()=>{a.setActiveTool("")},deactiveHandler:()=>{a.setActiveTool(null)},keys:[{key:"P",description:d("draw.keyboard.key.point"),handler:()=>{a.setActiveTool("point")}},{key:"L",description:d("draw.keyboard.key.polyline"),handler:()=>{a.setActiveTool("polyline")}},{key:"G",description:d("draw.keyboard.key.polygon"),handler:()=>{a.setActiveTool("polygon")}},{key:"C",description:d("draw.keyboard.key.circle"),handler:()=>{a.setActiveTool("circle")}},{key:"R",description:d("draw.keyboard.key.rectangle"),handler:()=>{a.setActiveTool("rectangle")}},{key:"E",description:d("draw.keyboard.key.edit"),handler:()=>{a.setActiveTool("edit")}}]})}const ge=u=>{if(D&&(g?.remove(D),D=null),!u)return;let _;switch(u.geometry?.type){case"point":case"multipoint":_=new to({color:[255,255,0,.8],size:16,outline:{color:[255,165,0,1],width:3}});break;case"polyline":_=new It({color:[255,255,0,.8],width:6});break;default:_=new Ke({color:[255,255,0,.3],outline:{color:[255,165,0,1],width:3}})}D=new xe({geometry:u.geometry,symbol:_}),g?.add(D)};Pt(()=>a.selectedGraphicId,(u,_)=>{if(!(!c||!g)){if(!u)c.cancel(),ge();else if(u!==_){const C=g.graphics.toArray().find(O=>O.attributes&&O.attributes.id===u);C&&(c.triggerUpdate([C]),ge(C))}}});const li=async()=>{if(!g||!c||a.activeTool!=="edit")return;await l.geo.map.viewPromise;const u=l.geo.map.esriView,_={x:u.width/2,y:u.height/2},f={x:_.x,y:_.y,width:20,height:20},O=(await u.hitTest(f)).results.filter($=>!("graphic"in $)||$.graphic.layer!==g?!1:!!$.graphic.attributes?.id);O.length>0?(b=O[0].graphic,c.triggerUpdate([b]),b.attributes?.id&&a.selectGraphic(b.attributes.id),l.updateAlert(t("draw.graphic.selected",{type:n(b.attributes?.type)}))):(c.cancel(),b=null,a.clearSelection())},ai=async()=>{if(!c||!a.activeTool)return;await l.geo.map.viewPromise;const u=l.geo.map.esriView,_={x:Math.floor(u.width/2),y:Math.floor(u.height/2)},f=u.toMap(_),C=u.extent,O=C.width,$=C.height,ye=Math.min(O,$)/10;let U;switch(a.activeTool){case"point":U=new xe({geometry:new Xe({x:f.x,y:f.y,spatialReference:u.spatialReference}),symbol:c.pointSymbol});break;case"polyline":U=new xe({geometry:new Ce({paths:[[[f.x-ye/2,f.y],[f.x+ye/2,f.y]]],spatialReference:u.spatialReference}),symbol:c.polylineSymbol});break;case"polygon":case"rectangle":const V=ye/2;U=new xe({geometry:new ae({rings:[[[f.x-V,f.y-V],[f.x+V,f.y-V],[f.x+V,f.y+V],[f.x-V,f.y+V],[f.x-V,f.y-V]]],spatialReference:u.spatialReference}),symbol:c.polygonSymbol||new Ke({color:[0,255,0,.3],outline:{color:[0,255,0,1],width:1}})});break;case"circle":const k=ye/2,E=36,Ie=[];for(let De=0;De<=E;De++){const $e=De/E*2*Math.PI,Ve=f.x+k*Math.cos($e),F=f.y+k*Math.sin($e);Ie.push([Ve,F])}U=new xe({geometry:new ae({rings:[Ie],spatialReference:u.spatialReference}),symbol:c.polygonSymbol||new Ke({color:[255,0,255,.3],outline:{color:[255,0,255,1],width:1}})});break;default:console.warn("Unknown tool type:",a.activeTool);return}if(U){const V=`graphic-${Date.now()}`;U.attributes={id:V,type:a.activeTool},g?.add(U),a.addGraphic({id:V,type:a.activeTool,geometry:U.geometry,attributes:U.attributes}),a.activeTool!=="point"&&(a.clearSelection(),a.setActiveTool(""),l.keyboardNav?.reset(),c.cancel()),l.updateAlert(t("draw.graphic.created",{type:n(a.activeTool)}))}},Et=u=>{const _=l.geo.map.esriView?.container;if(!(!document.activeElement||!_?.contains(document.activeElement)))switch(u.key){case"Enter":if(u.preventDefault(),a.activeTool&&a.activeTool!=="edit")if((a.activeTool==="polyline"||a.activeTool==="polygon")&&(Z||R.length===0)){const C=l.geo.map.esriView,O={x:Math.floor(C.width/2),y:Math.floor(C.height/2)},$=C.toMap(O);Z?(R.push([$.x,$.y]),a.activeTool==="polyline"?P.geometry=new Ce({paths:[R],spatialReference:C.spatialReference}):P.geometry=new ae({rings:[R],spatialReference:C.spatialReference}),l.updateAlert(t("draw.multiPoint.pointAdded",{type:n(a.activeTool),count:R.length}))):(Z=!0,R=[[$.x,$.y]],a.activeTool==="polyline"?P=new xe({geometry:new Ce({paths:[R],spatialReference:C.spatialReference}),symbol:c?.polylineSymbol||new It({color:[0,0,255,1],width:2})}):P=new xe({geometry:new ae({rings:[R],spatialReference:C.spatialReference}),symbol:c?.polygonSymbol||new Ke({color:[0,255,0,.3],outline:{color:[0,255,0,1],width:1}})}),P.attributes={id:`temp-graphic-${Date.now()}`,type:a.activeTool},g?.add(P),l.updateAlert(t("draw.multiPoint.started",{type:n(a.activeTool),count:1})))}else ai();else li();break;case"Delete":case"Backspace":const f=l.geo.map.esriView;Z&&R.length>1?(u.preventDefault(),R.pop(),a.activeTool==="polyline"?P.geometry=new Ce({paths:[R],spatialReference:f.spatialReference}):P.geometry=new ae({rings:[R],spatialReference:f.spatialReference}),P.set("geometry",P?.geometry),l.updateAlert(t("draw.multiPoint.pointRemoved",{type:n(a.activeTool??void 0),count:R.length}))):Z&&R.length===1?(u.preventDefault(),P&&g?.remove(P),P=null,R=[],Z=!1,l.updateAlert(t("draw.multiPoint.canceled"))):b&&(u.preventDefault(),c?.delete(),g?.remove(b),typeof a.removeGraphic=="function"&&a.removeGraphic(b.attributes.id),b=null,ge(void 0),l.updateAlert(t("draw.graphic.deleted")));break;case"Escape":a.setActiveTool(null),c?.cancel(),b=null,ge(void 0),a.clearSelection(),l.updateAlert(t("draw.tool.canceled"));break}},Mt=u=>{const _=l.geo.map.esriView.container;if(!document.activeElement||!_?.contains(document.activeElement)||!b||!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(u.key))return;u.preventDefault(),u.stopPropagation();const C=10,O=u.shiftKey,$=u.altKey,ye=l.geo.map.esriView;let U=0,V=0;u.key==="ArrowLeft"&&(U=-C),u.key==="ArrowRight"&&(U=C),u.key==="ArrowUp"&&(V=-C),u.key==="ArrowDown"&&(V=C);const k=b.geometry;let E;if(k.type==="point")E={x:k.x,y:k.y};else{const B=k.extent;E={x:(B.xmin+B.xmax)/2,y:(B.ymin+B.ymax)/2}}const Ie=ye.toScreen(new Xe({x:E.x,y:E.y,spatialReference:ye.spatialReference}));Ie.x+=U,Ie.y+=V;const De=ye.toMap(Ie),$e=De.x-E.x,Ve=De.y-E.y;let F;if(k.type==="point")!O&&!$?F=new Xe({x:k.x+$e,y:k.y+Ve,spatialReference:k.spatialReference}):O?(F=k.clone(),l.updateAlert(t("draw.point.resize.unsupported"))):$&&(F=k.clone(),l.updateAlert(t("draw.point.rotate.unsupported")));else if(k.type==="polyline"){if(!O&&!$){const G=k.paths.map(W=>W.map(([K,Q])=>[K+$e,Q+Ve]));F=new Ce({paths:G,spatialReference:k.spatialReference})}else if(O){const B=k,G=u.key==="ArrowUp"||u.key==="ArrowRight"?1.05:.95,W=B.paths.map(K=>K.map(([Q,ke])=>[E.x+(Q-E.x)*G,E.y+(ke-E.y)*G]));F=new Ce({paths:W,spatialReference:k.spatialReference})}else if($){const B=k,G=u.key==="ArrowLeft"?-.05:u.key==="ArrowRight"?.05:0;if(G!==0){const W=Math.cos(G),K=Math.sin(G),Q=B.paths.map(ke=>ke.map(([nt,lt])=>{const Fe=nt-E.x,Ge=lt-E.y,at=Fe*W-Ge*K,ct=Fe*K+Ge*W;return[E.x+at,E.y+ct]}));F=new Ce({paths:Q,spatialReference:k.spatialReference})}else F=k.clone()}}else if(k.type==="polygon"){if(!O&&!$){const G=k.rings.map(W=>W.map(([K,Q])=>[K+$e,Q+Ve]));F=new ae({rings:G,spatialReference:k.spatialReference})}else if(O){const B=k,G=u.key==="ArrowUp"||u.key==="ArrowRight"?1.05:.95,W=B.rings.map(K=>K.map(([Q,ke])=>[E.x+(Q-E.x)*G,E.y+(ke-E.y)*G]));F=new ae({rings:W,spatialReference:k.spatialReference})}else if($){const B=k,G=u.key==="ArrowLeft"?-.05:u.key==="ArrowRight"?.05:0;if(G!==0){const W=Math.cos(G),K=Math.sin(G),Q=B.rings.map(ke=>ke.map(([nt,lt])=>{const Fe=nt-E.x,Ge=lt-E.y,at=Fe*W-Ge*K,ct=Fe*K+Ge*W;return[E.x+at,E.y+ct]}));F=new ae({rings:Q,spatialReference:k.spatialReference})}else F=k.clone()}}if(F){b.geometry=F,b.set("geometry",F),ge(b),b.attributes?.id&&a.updateGraphicGeometry(b.attributes.id,F);const B=O?"resized":$?"rotated":"moved";l.updateAlert(t(`draw.graphic.${B}`))}},ci=async u=>{const C=(await l.geo.map.esriView.hitTest(u)).results.find(O=>"graphic"in O&&O.graphic.layer===g&&!!O.graphic.attributes?.id);C&&a.activeTool==="edit"?c?.triggerUpdate([C.graphic]):(c?.cancel(),b=null,a.clearSelection(),ge())},di=async()=>{await l.geo.map.viewPromise,l.geo.layer.getLayer(tt)?g=l.geo.layer.getLayer(tt).esriLayer:(g=l.geo.layer.createLayer({id:tt,layerType:eo.GRAPHIC,cosmetic:!0,system:!0,url:""}),await l.geo.map.addLayer(g)),g?.esriLayer&&(g=g.esriLayer),Object.assign(h.value,{view:l.geo.map.esriView,layer:g,availableCreateTools:["point","multipoint","polyline","polygon","rectangle","circle"],updateOnGraphicClick:!0,visibleElements:{createTools:{point:!0,polyline:!0,polygon:!0,rectangle:!0,circle:!0},selectionTools:{enable:!0},settingsMenu:!1},defaultUpdateOptions:{highlightOptions:{enabled:!1}}}),l.geo.map.esriView.ui.add(h.value,"bottom-right"),h.value?.addEventListener("arcgisCreate",u=>St(u.detail)),h.value?.addEventListener("arcgisUpdate",u=>ui(u.detail)),m={remove:()=>h.value?.removeEventListener("arcgisCreate",u=>St(u.detail))},c=h.value,l.geo.map.esriView.on("click",ci),document.addEventListener("keydown",Et),document.addEventListener("keydown",Mt,{capture:!0})},pi=()=>{if(!he)return;const u=l.keyboardNav;if(!u){he=void 0;return}u.unregister(he),he=void 0},Lt=()=>{pi(),c&&(l.geo.map.esriView&&l.geo.map.esriView.ui.remove(c),m&&m.remove(),c.destroy()),document.removeEventListener("keydown",Et),document.removeEventListener("keydown",Mt,{capture:!0}),Z=!1,P=null,R=[],c=null,g=null},St=u=>{if(u.state==="complete"){const _=u.graphic,f=`graphic-${Date.now()}`;_.attributes=_.attributes||{},_.attributes.id=f,a.addGraphic({id:f,type:u.tool,geometry:_.geometry,attributes:_.attributes}),u.tool!=="point"&&(a.setActiveTool(""),l.keyboardNav?.reset())}},ui=u=>{const _=u.graphics[0];if(_)if(u.state==="start"){if(a.activeTool!=="edit"){c.cancel();return}b=_,_.attributes?.id&&(a.selectGraphic(_.attributes.id),l.updateAlert(t("draw.graphic.selected",{type:n(_.attributes?.type)})))}else u.state==="active"?ge(_):u.state==="complete"&&_.attributes?.id&&(a.updateGraphicGeometry(_.attributes.id,_.geometry),l.updateAlert(t("draw.graphic.updated")))};return Yi(()=>{ni(),di(),Ct.push(l.event.on(Ut.MAP_DESTROYED,()=>{Lt()}))}),Pt(()=>a.activeTool,u=>{c.cancel(),ge(),P=null,R=[],Z=!1,u&&u!="edit"&&c.create(u)}),Qi(()=>{Lt(),Ct.forEach(u=>l.event.off(u))}),(u,_)=>(Ji(),Xi("arcgis-sketch",{ref_key:"sketchEl",ref:h,style:{display:"none"}},null,512))}}),Gt=[{type:"point"},{type:"polyline"},{type:"polygon"},{type:"circle"},{type:"rectangle"}];class ir extends io{store;constructor(t,i){super(t,i),this.store=vt(this.$vApp.$pinia)}_parseConfig(t){if(!t){this.store.setSupportedTypes(Gt);return}if(t.types!==void 0){const s=(t.types===null?[]:t.types).filter(n=>n.enabled!==!1);this.store.setSupportedTypes(s)}else this.store.setSupportedTypes(Gt);t.defaultTool&&this.store.setActiveTool(t.defaultTool)}get graphicsLayerId(){return tt}}const or={en:{"draw.multiPoint.started":"{type} drawing started with 1 point","draw.multiPoint.pointAdded":"Point added {count} points total","draw.multiPoint.pointRemoved":"Point removed {count} points remaining","draw.multiPoint.canceled":"Drawing canceled","draw.multiPoint.completed":"{type} completed with {count} points","draw.multiPoint.notEnoughPoints":"Not enough points for {type} minimum {min} required","draw.graphic.created":"{type} created","draw.graphic.selected":"{type} selected","draw.graphic.deselected":"Graphic deselected","draw.graphic.deleted":"Graphic deleted","draw.graphic.updated":"Graphic updated","draw.graphic.none":"No graphic found","draw.tool.canceled":"Drawing tool canceled","draw.point.resize.unsupported":"Resizing not supported for point graphics","draw.point.rotate.unsupported":"Rotation not supported for point graphics","draw.move.up":"Moved up","draw.move.down":"Moved down","draw.move.left":"Moved left","draw.move.right":"Moved right","draw.resize.increase":"Increased size","draw.resize.decrease":"Decreased size","draw.rotate.clockwise":"Rotated clockwise","draw.rotate.counterclockwise":"Rotated counter-clockwise","draw.button.point":"Draw point","draw.button.polyline":"Draw line","draw.button.polygon":"Draw polygon","draw.button.rectangle":"Draw rectangle","draw.button.circle":"Draw circle","draw.point.tooltip":"Draw point","draw.polyline.tooltip":"Draw polyline","draw.polygon.tooltip":"Draw polygon","draw.circle.tooltip":"Draw circle","draw.rectangle.tooltip":"Draw rectangle","draw.edit.tooltip":"Edit Mode","draw.keyboard.namespace":"Draw Tools","draw.keyboard.key.point":"Draw a point","draw.keyboard.key.polyline":"Draw a line","draw.keyboard.key.polygon":"Draw a polygon","draw.keyboard.key.circle":"Draw a circle","draw.keyboard.key.rectangle":"Draw a rectangle","draw.keyboard.key.edit":"Edit geometry","draw.graphic.moved":"Graphic moved","draw.shape":"shape","draw.point":"point","draw.multipoint":"multipoint","draw.polyline":"polyline","draw.polygon":"polygon","draw.rectangle":"rectangle","draw.circle":"circle","draw.unknown":"unknown"},fr:{"draw.multiPoint.started":"Dessin de {type} commenc avec 1 point","draw.multiPoint.pointAdded":"Point ajout","draw.multiPoint.pointRemoved":"Point supprim","draw.multiPoint.canceled":"Dessin annul","draw.multiPoint.completed":"{type} termin avec {count} points","draw.multiPoint.notEnoughPoints":"Pas assez de points pour {type}","draw.graphic.created":"{type} cr","draw.graphic.selected":"{type} slectionn","draw.graphic.deselected":"Graphique dslectionn","draw.graphic.deleted":"Graphique supprim","draw.graphic.updated":"Graphique mis  jour","draw.graphic.none":"Aucun graphique trouv","draw.tool.canceled":"Outil de dessin annul","draw.point.resize.unsupported":"Le redimensionnement n'est pas pris en charge pour les points","draw.point.rotate.unsupported":"La rotation n'est pas prise en charge pour les points","draw.move.up":"Dplac vers le haut","draw.move.down":"Dplac vers le bas","draw.move.left":"Dplac vers la gauche","draw.move.right":"Dplac vers la droite","draw.resize.increase":"Taille augmente","draw.resize.decrease":"Taille rduite","draw.rotate.clockwise":"Rotation dans le sens horaire","draw.rotate.counterclockwise":"Rotation dans le sens antihoraire","draw.button.point":"Dessiner un point","draw.button.polyline":"Dessiner une ligne","draw.button.polygon":"Dessiner un polygone","draw.button.rectangle":"Dessiner un rectangle","draw.button.circle":"Dessiner un cercle","draw.point.tooltip":"Dessiner un point","draw.polyline.tooltip":"Dessiner une polyligne","draw.polygon.tooltip":"Dessiner un polygone","draw.circle.tooltip":"Dessiner un cercle","draw.rectangle.tooltip":"Dessiner un rectangle","draw.edit.tooltip":"Mode dition","draw.keyboard.namespace":"Outils de dessin","draw.keyboard.key.point":"Dessine un point","draw.keyboard.key.polyline":"Dessine une ligne","draw.keyboard.key.polygon":"Dessine un polygone","draw.keyboard.key.circle":"Dessine un cercle","draw.keyboard.key.rectangle":"Dessine un rectangle","draw.keyboard.key.edit":"Mode dition","draw.graphic.moved":"Graphique dplac","draw.shape":"forme","draw.point":"indiquer","draw.multipoint":"multipoint","draw.polyline":"polyligne","draw.polygon":"polygone","draw.rectangle":"rectangle","draw.circle":"cercle","draw.unknown":"inconnue"}};class rr extends ir{async init(){Object.entries(or).forEach(n=>this.$iApi.$i18n.mergeLocaleMessage(...n)),this._parseConfig(this.config),vt(this.$vApp.$pinia).supportedTypes.forEach(n=>{const l=`${n.type}-icon`;this.$iApi.component(l,oo(hi(Object.assign({"./icons/circle-icon.vue":()=>y(()=>import("./circle-icon-BvdWUGd1.js"),__vite__mapDeps([229,3,4,5]),import.meta.url),"./icons/edit-icon.vue":()=>y(()=>import("./edit-icon-ge7H3ZPs.js"),__vite__mapDeps([230,3,4,5]),import.meta.url),"./icons/point-icon.vue":()=>y(()=>import("./point-icon-BaKg3TYR.js"),__vite__mapDeps([231,3,4,5]),import.meta.url),"./icons/polygon-icon.vue":()=>y(()=>import("./polygon-icon-D3XpJodm.js"),__vite__mapDeps([232,3,4,5]),import.meta.url),"./icons/polyline-icon.vue":()=>y(()=>import("./polyline-icon-DNpeXGcw.js"),__vite__mapDeps([233,3,4,5]),import.meta.url),"./icons/rectangle-icon.vue":()=>y(()=>import("./rectangle-icon-DAA33YqB.js"),__vite__mapDeps([234,3,4,5]),import.meta.url)}),`./icons/${n.type}-icon.vue`,3)))});const{el:i}=this.mount(tr,{app:this.$element});this.$vApp.$el.getElementsByClassName("inner-shell")[0].appendChild(i.childNodes[0])}async added(){this.$iApi.event.on(Ut.MAP_CREATED,()=>{this.init()})}}const Vr=Object.freeze(Object.defineProperty({__proto__:null,default:rr},Symbol.toStringTag,{value:"Module"}));export{Vr as a,Ae as c,Oo as e,ei as i,Zt as r};
