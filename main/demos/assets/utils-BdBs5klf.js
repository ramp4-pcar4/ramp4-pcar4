const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./IdentityManager-rRMZv_dl.js","./main-Crkq4LWq.js","./preload-helper-DMGCcr4D.js","./main-B_8sIZOq.css","./intl-BbkIuURR.js","./jsxFactory-Bp35jaL4.js","./uuid-Cl5lrJ4c.js","./sanitizerUtils-CJlLEeXg.js","./modeUtils-1fSvrGRf.js","./substitute-BkMjPE4b.js"])))=>i.map(i=>d[i]);
import{_ as f}from"./preload-helper-DMGCcr4D.js";import{R as u,U as a,a$ as c,f as l,b0 as y,b1 as p}from"./main-Crkq4LWq.js";function g(t,e){return e?{...e,query:{...t??{},...e.query}}:{query:t}}function q(t){return typeof t=="string"?c(t):l(t)}function d(t,e,s){const r={};for(const i in t){if(i==="declaredClass")continue;const n=t[i];if(n!=null&&typeof n!="function")if(Array.isArray(n))r[i]=n.map(o=>d(o));else if(typeof n=="object")if(n.toJSON){const o=n.toJSON(s?.[i]);r[i]=e?o:JSON.stringify(o)}else r[i]=e?n:JSON.stringify(n);else r[i]=n}return r}function m(t,e){return t?e&&p(t)?e:y(t)??a?.findCredential(t)?.token:null}async function J(t,e,s){const r=m(t,e);return r||(!a&&u.request.useIdentity&&await f(()=>import("./IdentityManager-rRMZv_dl.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url),(await a.getCredential(t,s))?.token)}export{J as a,q as f,g as s,d as u};
