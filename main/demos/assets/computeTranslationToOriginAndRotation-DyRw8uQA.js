import{T as I,aB as h,ck as R}from"./main-CtmwM019.js";import{s as $,q as x,o as k}from"./mat4-Ba1tXzxc.js";import{I as q,w as m}from"./projectBuffer-C2_ZDxbj.js";function M(o,e,n){const l=Math.sin(o),i=Math.cos(o),s=Math.sin(e),r=Math.cos(e),t=n;return t[0]=-l,t[4]=-s*i,t[8]=r*i,t[12]=0,t[1]=i,t[5]=-s*l,t[9]=r*l,t[13]=0,t[2]=0,t[6]=r,t[10]=s,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,t}function w(o,e,n){return M(o,e,n),$(n,n),n}function b(o,e,n,l){const i=q(o,l);if(i==null)return!1;const s=i.source.spatialReferenceId,r=i.dest.spatialReferenceId;if(s===r&&!d(r)&&(s!==0||I(o,l)))return x(n,e),!0;if(d(r)){const a=m[s][10],f=m[10][r];return a!=null&&f!=null&&(a(e,0,u,0),f(u,0,c,0),M(p*u[0],p*u[1],n),n[12]=c[0],n[13]=c[1],n[14]=c[2],!0)}const t=d(s);if((r===3||r===11||r===2||r===5)&&(s===2||t||s===3||s===5)){const a=m[s][10],f=m[10][r];return a!=null&&f!=null&&(a(e,0,u,0),f(u,0,c,0),t?w(p*u[0],p*u[1],n):k(n),n[12]=c[0],n[13]=c[1],n[14]=c[2],!0)}return!1}function d(o){return o===1||o===6||o===8||o===4}const p=R(1),u=h(),c=h();export{b as f,M as n};
