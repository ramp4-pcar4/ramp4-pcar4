import"./main-Crkq4LWq.js";function G(n){return n?{originPosition:n.originPosition==="upper-left"?"upperLeft":n.originPosition==="lower-left"?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance,1,1]:[1,1,1,1],translate:n.extent!=null?[n.extent.xmin,n.extent.ymax,n.extent.zmin??0,n.extent.mmin??0]:[0,0,0,0]}:null}function k(n){return n.originPosition==="lowerLeft"&&n.scale.length===4&&n.translate.length===4}function m(n){if(k(n))return n;const{originPosition:t,scale:r,translate:e}=n,s=r[0]??1,l=r[1]??1;return{originPosition:"lowerLeft",scale:[s,t==="lowerLeft"?l:-l,r[2]??1,r[3]??1],translate:[e[0]??0,e[1]??0,e[2]??0,e[3]??0]}}function p({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function M({scale:n,translate:t},r){return Math.round((r-t[1])/n[1])}function w({scale:n,translate:t},r){return Math.round(((r??0)-t[2])/n[2])}function Z({scale:n,translate:t},r){return r?Math.round((r-t[3])/n[3]):0}function b(n,t){return n&&t?E:n&&!t?C:!n&&t?D:B}const B=(n,t)=>{const r=[];if(!t.length)return null;const e=t[0];let s=p(n,e[0]),l=M(n,e[1]);r.push([s,l]);for(let o=1;o<t.length;o++){const[u,i]=t[o],c=p(n,u),a=M(n,i);c===s&&a===l||r.push([c-s,a-l]),s=c,l=a}return r},C=(n,t)=>{const r=[];if(!t.length)return null;const e=t[0];let s=p(n,e[0]),l=M(n,e[1]),o=w(n,e[2]);r.push([s,l,o]);for(let u=1;u<t.length;u++){const[i,c,a]=t[u],h=p(n,i),f=M(n,c),g=w(n,a);h===s&&f===l&&g===o||r.push([h-s,f-l,g]),s=h,l=f,o=g}return r},D=(n,t)=>{const r=[];if(!t.length)return null;const e=t[0];let s=p(n,e[0]),l=M(n,e[1]),o=Z(n,e[2]);r.push([s,l,o]);for(let u=1;u<t.length;u++){const[i,c,a]=t[u],h=p(n,i),f=M(n,c),g=Z(n,a);h===s&&f===l&&g===o||r.push([h-s,f-l,g]),s=h,l=f,o=g}return r},E=(n,t)=>{const r=[];if(!t.length)return null;const e=t[0];let s=p(n,e[0]),l=M(n,e[1]),o=w(n,e[2]),u=Z(n,e[3]);r.push([s,l,o,u]);for(let i=1;i<t.length;i++){const[c,a,h,f]=t[i],g=p(n,c),x=M(n,a),A=w(n,h),d=Z(n,f);g===s&&x===l&&A===o&&d===u||r.push([g-s,x-l,A,d]),s=g,l=x,o=A,u=d}return r};function H(n,t,r,e){const s=[],l=b(r,e);for(let o=0;o<t.length;o++){const u=l(n,t[o]);u&&u.length>=3&&s.push(u)}return s.length?s:null}function I(n,t,r,e){const s=[],l=b(r,e);for(let o=0;o<t.length;o++){const u=l(n,t[o]);u&&u.length>=2&&s.push(u)}return s.length?s:null}function L({scale:n,translate:t},r){return r*n[0]+t[0]}function z({scale:n,translate:t},r){return r*n[1]+t[1]}function P({scale:n,translate:t},r){return(r??0)*n[2]+t[2]}function y({scale:n,translate:t},r){return r?r*n[3]+t[3]:0}function N(n,t){return n&&t?v:n&&!t?U:!n&&t?q:T}const T=(n,t)=>{const r=new Array(t.length);if(!t.length)return r;const e=t[0];let s=L(n,e[0]),l=z(n,e[1]);r[0]=[s,l];const{scale:o,originPosition:u}=n,i=o[0],c=u==="lowerLeft"?o[1]:-o[1];for(let a=1;a<t.length;a++){const[h,f]=t[a];s+=i*h,l+=c*f,r[a]=[s,l]}return r},U=(n,t)=>{const r=new Array(t.length);if(!t.length)return r;const e=t[0];let s=L(n,e[0]),l=z(n,e[1]);r[0]=[s,l,P(n,e[2])];const{scale:o,originPosition:u}=n,i=o[0],c=u==="lowerLeft"?o[1]:-o[1];for(let a=1;a<t.length;a++){const[h,f,g]=t[a];s+=i*h,l+=c*f,r[a]=[s,l,P(n,g)]}return r},q=(n,t)=>{const r=new Array(t.length);if(!t.length)return r;const e=t[0];let s=L(n,e[0]),l=z(n,e[1]);r[0]=[s,l,y(n,e[2])];const{scale:o,originPosition:u}=n,i=o[0],c=u==="lowerLeft"?o[1]:-o[1];for(let a=1;a<t.length;a++){const[h,f,g]=t[a];s+=i*h,l+=c*f,r[a]=[s,l,y(n,g)]}return r},v=(n,t)=>{const r=new Array(t.length);if(!t.length)return r;const e=t[0];let s=L(n,e[0]),l=z(n,e[1]);r[0]=[s,l,P(n,e[2]),y(n,e[3])];const{scale:o,originPosition:u}=n,i=o[0],c=u==="lowerLeft"?o[1]:-o[1];for(let a=1;a<t.length;a++){const[h,f,g,x]=t[a];s+=i*h,l+=c*f,r[a]=[s,l,P(n,g),y(n,x)]}return r};function j(n,t,r){const e=new Array(r.length);for(let s=0;s<r.length;s++)e[s]=t(n,r[s]);return e}function J(n,t,r){const e=m(n);return t.x=p(e,r.x),t.y=M(e,r.y),r.z!=null&&(t.z=w(e,r.z)),r.m!=null&&(t.m=Z(e,r.m)),t}function K(n,t,r){const e=H(m(n),r.rings,r.hasZ,r.hasM);return e?(t.rings=e,t.hasZ=r.hasZ??!1,t.hasM=r.hasM??!1,t):null}function O(n,t,r){const e=I(m(n),r.paths,r.hasZ,r.hasM);return e?(t.paths=e,t.hasZ=r.hasZ??!1,t.hasM=r.hasM??!1,t):null}function Q(n,t,r,e=r?.hasZ??!1,s=r?.hasM??!1){if(r!=null){const l=m(n);t.points=N(e,s)(l,r.points),t.hasZ=e,t.hasM=s}return t}function R(n,t,r,e=r?.z!=null,s=r?.m!=null){if(r==null)return t;const l=m(n);return t.x=L(l,r.x),t.y=z(l,r.y),e&&(t.z=P(l,r.z)),s&&(t.m=y(l,r.m)),t}function S(n,t,r,e=r?.hasZ??!1,s=r?.hasM??!1){if(r!=null){const l=m(n);t.rings=j(l,N(e,s),r.rings),t.hasZ=e,t.hasM=s}return t}function V(n,t,r,e=r?.hasZ??!1,s=r?.hasM??!1){if(r!=null){const l=m(n);t.paths=j(l,N(e,s),r.paths),t.hasZ=e,t.hasM=s}return t}export{Q as B,R as C,S as D,V as H,K as U,M as a,p as i,J as j,O as k,G as s,m as u};
