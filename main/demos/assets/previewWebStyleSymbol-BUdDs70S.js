import{$ as h,bU as n}from"./main-Crkq4LWq.js";import{t as s}from"./symbolUtils-CEQ-GrIm.js";import{e as l}from"./webStyleSymbolUtils-C5uFZbeR.js";import"./preload-helper-DMGCcr4D.js";import"./utils-BV55yp3A.js";import"./asyncUtils-DfTs-X0F.js";import"./jsonUtils-BKompkv5.js";import"./parser-B_oj8OEu.js";import"./mat4f32-Djp3mnm5.js";import"./mat4-DgBklfbN.js";import"./common-DQOJ18NT.js";import"./cimSymbolUtils-TrTP_j9U.js";import"./utils-jjGHTGcN.js";import"./defaultCIMValues-CQAn2izL.js";import"./enums-_AFKM9Yk.js";import"./LRUCache-BB1cebTv.js";import"./MemCache-BSBM3Sy1.js";import"./colorUtils-DXf65Ue7.js";import"./vec42-CKs01hkn.js";import"./vec4f64-DPb6J-GU.js";import"./jsxFactory-Bp35jaL4.js";import"./intl-BbkIuURR.js";import"./uuid-Cl5lrJ4c.js";import"./sanitizerUtils-CJlLEeXg.js";import"./mat2df32-Dpt2CT5P.js";import"./mat2d-D9DBP-jx.js";import"./devEnvironmentUtils-8WtPGj6h.js";import"./styleUtils-DFM-g8fO.js";async function K(i,t,o){const r=i.thumbnail?.url;if(r){const p=c((await h(r,{responseType:"image"})).data,o);return o?.node?(o.node.appendChild(p),o.node):p}const m=await i.fetchSymbol({acceptedFormats:l});return m?t(m,o):null}function c(i,t){const o=!/\\.svg$/i.test(i.src)&&t?.disableUpsampling,r=Math.max(i.width,i.height);let m=t?.maxSize!=null?n(t.maxSize):s.maxSize;o&&(m=Math.min(r,m));const p=typeof t?.size=="number"?t?.size:null,e=Math.min(m,p!=null?n(p):r);if(e!==r){const a=i.width!==0&&i.height!==0?i.width/i.height:1;a>=1?(i.width=e,i.height=e/a):(i.width=e*a,i.height=e)}return i}export{K as previewWebStyleSymbol};
