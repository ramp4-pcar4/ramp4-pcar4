const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CiSDqz_b.js","./index-Dc_ViufV.js","./jsxFactory-Bp35jaL4.js","./main-Crkq4LWq.js","./preload-helper-DMGCcr4D.js","./main-B_8sIZOq.css","./intl-BbkIuURR.js","./uuid-Cl5lrJ4c.js","./sanitizerUtils-CJlLEeXg.js","./guid-Bu7NDcrC.js","./useT9n-C36vf4pu.js","./index-Cs3CRsj0.js","./dom-oC0TyK5D.js","./observers-DYGJAlKC.js","./keyed-DyFpqC00.js","./ref-DukIuuOM.js","./interactive-CBDzjvLC.js","./component-ydTU1a2Q.js","./index-DJkCQhaG.js","./index-5RsffKvR.js","./floating-ui-CDaf5DFH.js","./debounce-DbkufipY.js","./openCloseComponent-O6r6Ucib.js","./static-Cf4l3m03.js","./FloatingArrow-CJ0a0e2x.js","./key-Fjqoh7GI.js","./index-BOq90WFi.js","./array-CaayCXLe.js","./index-CFCVnUph.js","./intersectsOperator-DCHEoHxF.js","./ProjectionTransformation-DvPoqTHa.js","./Envelope2D-N58wWtPO.js","./Point2D-yI-uny1B.js","./Transformation2D-CZuEM6rU.js","./SimpleGeometryCursor-B92kdZ15.js","./OperatorDefinitions-DP7_WWTp.js","./jsonConverter-CoTBecVg.js","./OperatorIntersects-Bu32f0oj.js","./apiConverter-B_6VU_gp.js","./DrawScreenTool-DA_9IkuT.js","./mat2df64-CH-gvrN5.js","./drawSurfaces-BeZG7hr2.js","./vec32-StvNi8k0.js","./common-DQOJ18NT.js","./geodesicUtils-qV27ZpRT.js","./projectionUtils-CE8Ogge1.js","./distanceOperator-DDX3Ge70.js","./simplifyOperator-c8gJSDcI.js","./operatorSimplify-lO_k6nVc.js","./mat2d-D9DBP-jx.js","./quat-BdX_xxEX.js","./mat3f64-B5o_lm6j.js","./quatf64-aQ5IuZRd.js","./vec42-CKs01hkn.js","./memoize-DmxaQ-k8.js","./ReactiveSet-Bytdnuvv.js","./diffUtils-COJ4IIqY.js","./UpdatingHandles-eO6gDPm8.js","./elevationInfoUtils-C-eITEDo.js","./ElevationInfo-Dpz_kzPY.js","./lengthUtils-l5Hl4s3A.js","./ViewingMode-Chk7YAAL.js","./SnappingContext-vedw1Tuu.js","./vec2-ChnYg_BJ.js","./vec2f64-Cgb6qxNH.js","./vec4f64-DPb6J-GU.js","./plane-7bhr6keP.js","./vectorStacks-Cd8-MasH.js","./mat4f64-q_b6UJoq.js","./SketchViewModel-Cxe7wh4H.js","./GraphicsLayer-tdnGrVvL.js","./GraphicsCollection-BLVS1AvI.js","./Layer-DyCDZpQP.js","./TimeExtent-R7s_TuxB.js","./BlendLayer-Bfjdkd1n.js","./layerContainerType-C5CzMsLd.js","./jsonUtils-BKompkv5.js","./parser-B_oj8OEu.js","./mat4f32-Djp3mnm5.js","./mat4-DgBklfbN.js","./ScaleRangeLayer-BXnA5dV_.js","./editableLayers-DsLdzz8Q.js","./utils-5b6BMTlC.js","./Queue-DQom_e3o.js","./Version-Dg6OjmkZ.js","./Cyclical-CYdxR5S5.js","./quantityUtils-DTW_4BVX.js","./projectVectorToVector-CXK6AJBx.js","./projectPointToVector-B_RLdrnF.js","./asyncUtils-DfTs-X0F.js","./Query-D4pOe5d7.js","./Field-CfEWUurB.js","./fieldType-DTrwgDiS.js","./sphere-DgnHRQ8H.js","./mat3-CruJiiUv.js","./geodeticLengthOperator-D2uEr3jt.js","./geodeticCurveType-CirnHLSB.js","./earcut-D9gy186-.js","./triangle-BLCwu4RR.js","./lineSegment-CXgzQlZ9.js","./spatialReferenceEllipsoidUtils-BmAdRYxg.js","./meshVertexSpaceUtils-CDAP084L.js","./MeshLocalVertexSpace-B6u0QgA8.js","./hydratedFeatures-BQV8KTm1.js","./Scheduler-Pc61bPwM.js","./debugFlags-cjveQ8k-.js","./index-BNLx-sjz.js","./index-Dr5_wiAP.js","./label-ChrwgVuJ.js","./index-CQOUqMnx.js","./form-Dn3ZbKmF.js","./index-BTXYcHER.js","./index-FCq3E5wa.js","./customElement-C5lACupK.js","./index-DS52we_0.js","./dynamicClasses-CzRtqdyb.js","./index--UKOeiwj.js","./resources6-Ot02loHz.js","./index-BSX1D5xw.js","./_sortable-C4ybInmb.js","./index-BtTXGeMR.js","./index-BY4vDBPc.js","./index-D2M8NoPm.js","./Validation-xVnb6YSw.js","./Legend-tm6ZUED3.js","./featureReductionUtils-Caulfaw_.js","./EffectView-DrUQPYiX.js","./displayFilterUtils-6TZ25n4b.js","./ExportImageParameters-BGF1VZBd.js","./scaleUtils-CAiB8S_A.js","./floorFilterUtils-DKzVzLpH.js","./sublayerUtils-CUAKoNrN.js","./pixelRangeUtils-BvOub3JO.js","./jsonUtils-CAbJUe8w.js","./typeUtils-CnKFz_x7.js","./ClassBreaksRenderer-CV4bp_5g.js","./commonProperties-CYfuZJGd.js","./colorRamps-Bjywyw2D.js","./ColorStop-9dWa0RDE.js","./visualVariableUtils-BpBEckvt.js","./RendererLegendOptions-CyIaj9P3.js","./LRUCache-BB1cebTv.js","./MemCache-BSBM3Sy1.js","./DictionaryScriptEvaluator-BzcupkpP.js","./FieldsIndex-Cwq_t80R.js","./UnknownTimeZone-CGGNrDrV.js","./timeZoneUtils-BHCW7jir.js","./ArcadeExpression-ON2N40QW.js","./TimeOnly-BjqJuv0j.js","./enum-DXEdVlyM.js","./utils-jjGHTGcN.js","./defaultCIMValues-CQAn2izL.js","./enums-_AFKM9Yk.js","./heatmapUtils-BtFqvjWS.js","./SimpleRenderer-Dbpl5h1j.js","./UniqueValueRenderer-BU4f67En.js","./styleUtils-DFM-g8fO.js","./rendererConversion-BwzU_Xkg.js","./cimSymbolUtils-TrTP_j9U.js","./symbolUtils-CEQ-GrIm.js","./utils-BV55yp3A.js","./colorUtils-DXf65Ue7.js","./mat2df32-Dpt2CT5P.js","./webStyleSymbolUtils-C5uFZbeR.js","./devEnvironmentUtils-8WtPGj6h.js","./heatmapRampUtils-BNJnj_Vn.js","./utils-ajTtzHMq.js","./previewCIMSymbol-BK6j7p-t.js","./CIMSymbolHelper-nIE1FQPf.js","./BidiEngine-QXap_35O.js","./fontUtils-CcDLQxe3.js","./OptimizedGeometry-DmzaLtTI.js","./memoryEstimations-DknB37rc.js","./GeometryUtils-BGe_5xyi.js","./definitions-CASyCajO.js","./rasterizingUtils-eA7dkndo.js","./floatRGBA-DqTSKoin.js","./vec2f32-CaVKkSa6.js","./Rect-CUzevAry.js","./BoundingBox-BSOANoLO.js","./CIMSymbolRasterizer-CMEs_9Y_.js","./CIMResourceManager-rvAZ2gjC.js","./imageUtils-rE9d6Mzq.js","./OverrideHelper-CgrdFD66.js","./callExpressionWithFeature-CtoHHKBd.js","./quantizationUtils-kCN6oAvL.js","./modeUtils-1fSvrGRf.js","./substitute-BkMjPE4b.js","./index-D29wkqw7.js","./index-DGhz5W-7.js","./customElement-BaOreuJK.js","./input-VGyljBV7.js","./index-CtqPM14C.js","./utils-BUxkZJv7.js","./index-BWHDjoZ7.js","./resources5-BmgbyHGX.js","./index-ouaFIrMX.js","./GridControls-CbNm8AZD.js","./unitFormatUtils-C43eQkjK.js","./ByteSizeUnit-BsxeN7wM.js","./SketchTooltipInfo-DP18t8jJ.js","./MeshTransform-Bo1nfSr1.js","./axisAngleDegrees-CkINwHEZ.js","./a11yUtils-lesmaVf1.js","./gridUtils-C4MVmdNN.js","./normalizeUtils-Dg7DX0Kf.js","./normalizeUtilsCommon-KviMv5LJ.js","./utils-BdBs5klf.js","./utils-Courd1_m.js","./editingTools-BkyuEyjA.js","./SnappingVisualizer2D-xAy-1B17.js","./TooltipInfoWithCoordinates-CTUSP-a3.js","./PointSnappingHint-B1PXgiFi.js","./editPlaneUtils-CpfS3MgC.js","./boundedPlane-DF2XjHKz.js","./GraphicManipulator-CWe70bmu.js","./drapedUtils-EBbyXDAJ.js","./drawUtils-CTtwUuox.js","./dynamic-import-helper-BheWnx7M.js","./draw-store-uzT-ER2v.js","./layerViewUtils-Brvm02SE.js","./utils-BQBvadb7.js","./widget-flha4rft.js","./TextOverlayItem-DcgytWh7.js","./number-CRQfSLlt.js","./circle-icon-DCuEEuIL.js","./edit-icon-Cu3mkVeG.js","./point-icon-DdjqINEf.js","./polygon-icon-DVFkQk1A.js","./polyline-icon-4r7mQcB-.js","./rectangle-icon-Drkhh0Un.js"])))=>i.map(i=>d[i]);
import{_ as m}from"./preload-helper-DMGCcr4D.js";import{_ as ai}from"./dynamic-import-helper-BheWnx7M.js";import{q as o,v as l,x as S,j as oe,V as re,M as Ae,br as me,fd as Ze,ca as ut,gV as ci,gU as pi,hQ as di,kS as Vt,kT as Gt,kU as ui,kV as hi,kW as Ft,bE as gi,cJ as ht,c6 as yi,b as mi,b$ as Ye,fT as vi,ao as le,n as bi,a3 as wi,i as ye,g3 as fi,ad as C,l as He,i$ as et,g0 as gt,af as rt,dM as Bt,e4 as j,kX as _i,kY as Ti,kZ as Mi,gx as ze,ce as Ei,s as Ci,fD as Li,ae as Si,eb as St,k_ as Oi,k$ as ki,l0 as Pi,l1 as $i,l2 as Ii,l3 as Ai,l4 as Di,cl as Ri,cm as xi,l5 as Ve,l6 as Vi,cs as Gi,l7 as Fi,l8 as Bi,eM as Ni,eN as Hi,e$ as zi,ab as Ui,f2 as Ot,f3 as Wi,f4 as Ki,f9 as Nt,l9 as ji,ds as qi,dt as Yi,hp as Qi,eo as Ue,dx as kt,dw as Ji,bx as _e,an as Te,F as Xi,gl as Zi}from"./main-Crkq4LWq.js";import{u as yt}from"./draw-store-uzT-ER2v.js";import eo from"./GraphicsLayer-tdnGrVvL.js";import{o as to}from"./intl-BbkIuURR.js";import{Y as io,m as Pt,l as Ht,_ as zt,af as oo,ag as so,k as Ut,ah as Ge}from"./SketchViewModel-Cxe7wh4H.js";import{n as d,p as lo,O as ae,a as be,i as Wt,e as ve,j as no}from"./jsxFactory-Bp35jaL4.js";import{a as We,m as ro,e as mt}from"./utils-5b6BMTlC.js";import{u as Qe}from"./layerViewUtils-Brvm02SE.js";import{d as Kt}from"./asyncUtils-DfTs-X0F.js";import{r as ao,o as co}from"./drapedUtils-EBbyXDAJ.js";import{e as $t}from"./utils-BQBvadb7.js";import{e as It,a as po}from"./widget-flha4rft.js";import{s as At}from"./substitute-BkMjPE4b.js";let W=class extends oe{constructor(e){super(e),this.colorSelection=!0,this.dynamicScaleToggle=!0,this.gridEnabledToggle=!0,this.numericInputs=!0,this.gridSnapEnabledToggle=!0,this.lineIntervalInput=!0,this.outOfScaleWarning=!0,this.placementButtons=!0,this.rotateWithMapToggle=!0}};o([l({type:Boolean,nonNullable:!0})],W.prototype,"colorSelection",void 0),o([l({type:Boolean,nonNullable:!0})],W.prototype,"dynamicScaleToggle",void 0),o([l({type:Boolean,nonNullable:!0})],W.prototype,"gridEnabledToggle",void 0),o([l({type:Boolean,nonNullable:!0})],W.prototype,"numericInputs",void 0),o([l({type:Boolean,nonNullable:!0})],W.prototype,"gridSnapEnabledToggle",void 0),o([l({type:Boolean,nonNullable:!0})],W.prototype,"lineIntervalInput",void 0),o([l({type:Boolean,nonNullable:!0})],W.prototype,"outOfScaleWarning",void 0),o([l({type:Boolean,nonNullable:!0})],W.prototype,"placementButtons",void 0),o([l({type:Boolean,nonNullable:!0})],W.prototype,"rotateWithMapToggle",void 0),W=o([S("esri.widgets.support.GridControls.VisibleElements")],W);const jt=W;let K=class extends oe{constructor(e){super(e),this.enabledToggle=!0,this.featureEnabledToggle=!0,this.gridEnabledToggle=!0,this.header=!1,this.layerList=!0,this.gridControls=!0,this.gridControlsElements=new jt({gridSnapEnabledToggle:!1,gridEnabledToggle:!1}),this.layerListToggleLayersButton=!0,this.selfEnabledToggle=!0}};o([l({type:Boolean,nonNullable:!0})],K.prototype,"enabledToggle",void 0),o([l({type:Boolean,nonNullable:!0})],K.prototype,"featureEnabledToggle",void 0),o([l({type:Boolean,nonNullable:!0})],K.prototype,"gridEnabledToggle",void 0),o([l({type:Boolean,nonNullable:!0})],K.prototype,"header",void 0),o([l({type:Boolean,nonNullable:!0})],K.prototype,"layerList",void 0),o([l({type:Boolean,nonNullable:!0})],K.prototype,"gridControls",void 0),o([l({type:jt,nonNullable:!0})],K.prototype,"gridControlsElements",void 0),o([l({type:Boolean,nonNullable:!0})],K.prototype,"layerListToggleLayersButton",void 0),o([l({type:Boolean,nonNullable:!0})],K.prototype,"selfEnabledToggle",void 0),K=o([S("esri.widgets.support.SnappingControls.VisibleElements")],K);const it=K;let U=class extends oe{constructor(e){super(e),this.point=!0,this.polyline=!0,this.polygon=!0,this.rectangle=!0,this.circle=!0,this.multipoint=!0,this.mesh=!0,this.freehandPolyline=!1,this.freehandPolygon=!1}};o([l({type:Boolean,nonNullable:!0})],U.prototype,"point",void 0),o([l({type:Boolean,nonNullable:!0})],U.prototype,"polyline",void 0),o([l({type:Boolean,nonNullable:!0})],U.prototype,"polygon",void 0),o([l({type:Boolean,nonNullable:!0})],U.prototype,"rectangle",void 0),o([l({type:Boolean,nonNullable:!0})],U.prototype,"circle",void 0),o([l({type:Boolean,nonNullable:!0})],U.prototype,"multipoint",void 0),o([l({type:Boolean,nonNullable:!0})],U.prototype,"mesh",void 0),o([l({type:Boolean,nonNullable:!0})],U.prototype,"freehandPolyline",void 0),o([l({type:Boolean,nonNullable:!0})],U.prototype,"freehandPolygon",void 0),U=o([S("esri.widgets.Sketch.VisibleElements.CreateToolVisibilityMap")],U);let Oe=class extends oe{constructor(e){super(e),this["rectangle-selection"]=!0,this["lasso-selection"]=!0,this["custom-selection"]=!0}};o([l({nonNullable:!0})],Oe.prototype,"rectangle-selection",void 0),o([l({nonNullable:!0})],Oe.prototype,"lasso-selection",void 0),o([l({nonNullable:!0})],Oe.prototype,"custom-selection",void 0),Oe=o([S("esri.widgets.Sketch.VisibleElements.SelectionToolVisibilityMap")],Oe);let B=class extends oe{constructor(e){super(e),this.createTools=new U,this.directionModePicker=!1,this.duplicateButton=!0,this.deleteButton=!0,this.selectionCountLabel=!0,this.labelsToggle=!0,this.selectionTools=new Oe,this.settingsMenu=!0,this.snappingControls=!0,this.snappingControlsElements=new it,this.tooltipsToggle=!0,this.undoRedoMenu=!0}};o([l({type:U,nonNullable:!0})],B.prototype,"createTools",void 0),o([l({type:Boolean,nonNullable:!0})],B.prototype,"directionModePicker",void 0),o([l({type:Boolean,nonNullable:!0})],B.prototype,"duplicateButton",void 0),o([l({type:Boolean,nonNullable:!0})],B.prototype,"deleteButton",void 0),o([l({type:Boolean,nonNullable:!0})],B.prototype,"selectionCountLabel",void 0),o([l({type:Boolean,nonNullable:!0})],B.prototype,"labelsToggle",void 0),o([l({type:Oe,nonNullable:!0})],B.prototype,"selectionTools",void 0),o([l({type:Boolean,nonNullable:!0})],B.prototype,"settingsMenu",void 0),o([l({type:Boolean,nonNullable:!0})],B.prototype,"snappingControls",void 0),o([l({type:it,nonNullable:!0})],B.prototype,"snappingControlsElements",void 0),o([l({type:Boolean,nonNullable:!0})],B.prototype,"tooltipsToggle",void 0),o([l({type:Boolean,nonNullable:!0})],B.prototype,"undoRedoMenu",void 0),B=o([S("esri.widgets.Sketch.VisibleElements")],B);const D={groupSeparator:1,action:{s:32,m:48,l:64},splitButtonPart:{horizontal:{s:16,m:16,l:24},vertical:{s:16,m:24,l:40}}},qt={splitButton:{horizontal:"chevron-down",vertical:"ellipsis"},overflow:"ellipsis"};function Yt(t,e){return t.vnodeSelector===e?[t]:t.children?.flatMap(i=>Yt(i,e))??[]}const vt=t=>{let e=class extends t{constructor(){super(...arguments),this.priority=0,this.scale="m",this.slot=void 0,this.lastActiveKey=null,this.layout="horizontal"}destroy(){this.measurementManager?.managedElements.remove(this),this.measurementManager=null}set measurementManager(i){const s=this._get("measurementManager");i!==s&&(s&&s.managedElements.remove(this),this._set("measurementManager",i),i?.managedElements.add(this))}set budgetedLength(i){this.budgetedLength!==i&&(this._set("budgetedLength",i),this.scheduleRender())}get actionChildren(){return this.children?.flatMap(i=>Yt(i,"calcite-action"))??[]}get activeChildElement(){const i=this.actionChildren.find(s=>s.properties?.active===!0);return i?(this._set("lastActiveKey",i.properties?.key),i):this.lastActiveKey?this.actionChildren.find(s=>s.properties?.key===this.lastActiveKey):void 0}_handleClick(i){i?.dataset&&"dataset"in i&&i.dataset.actionKey&&(this.lastActiveKey=i.dataset.actionKey)}};return o([l()],e.prototype,"priority",void 0),o([l()],e.prototype,"measurementManager",null),o([l()],e.prototype,"budgetedLength",null),o([l()],e.prototype,"actionChildren",null),o([l()],e.prototype,"activeChildElement",null),o([l()],e.prototype,"scale",void 0),o([l()],e.prototype,"slot",void 0),o([l()],e.prototype,"lastActiveKey",void 0),o([l()],e.prototype,"layout",void 0),e=o([S("esri.widgets.Sketch.support.ResponsiveToolbar.ToolbarGroupBase")],e),e},Dt=Symbol("on-resize-handle-key");let Me=class extends vt(ae){constructor(e){super(e),this._measuredWidth=0,this._measuredHeight=0,this._measuredElement=null}destroy(){this._measuredElement=null}get lengthOptions(){return[this.layout==="horizontal"?this._measuredWidth:this._measuredHeight]}render(){return d("div",{afterCreate:e=>{this._measuredElement=e.firstElementChild,this.addHandles(lo(this._measuredElement,()=>{this._measuredWidth=this._measuredElement?.clientWidth??0,this._measuredHeight=this._measuredElement?.clientHeight??0}),Dt)},afterRemoved:()=>this.removeHandles(Dt)},this.children)}};o([l()],Me.prototype,"_measuredWidth",void 0),o([l()],Me.prototype,"_measuredHeight",void 0),o([l()],Me.prototype,"lengthOptions",null),o([l()],Me.prototype,"_measuredElement",void 0),Me=o([S("esri.widgets.Sketch.support.ResponsiveToolbar.MeasuredContentGroup")],Me);let Ee=class extends vt(ae){constructor(e){super(e),this.allowCollapse=!0,this.messagesCommon=null}loadDependencies(){return be({action:()=>m(()=>import("./index-CiSDqz_b.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),import.meta.url),"action-group":()=>m(()=>import("./index-DJkCQhaG.js").then(e=>e.i),__vite__mapDeps([18,1,2,3,4,5,6,7,8,9,10,11,12,13,0,14,15,16,17,19,20,21,22,23,24,25,26,27]),import.meta.url),"action-menu":()=>m(()=>import("./index-BOq90WFi.js").then(e=>e.i),__vite__mapDeps([26,1,2,3,4,5,6,7,8,9,10,11,12,13,0,14,15,16,17,19,20,21,22,23,24,25,27]),import.meta.url)})}static{this.vnodeSelector="calcite-action-group"}get minimumLength(){const{actionChildren:e,scale:i}=this;return e.length?this.allowCollapse?D.groupSeparator+D.action[i]*Math.min(e.length,2):D.groupSeparator+D.action[i]*e.length:0}get lengthOptions(){const{actionChildren:e,scale:i,minimumLength:s,allowCollapse:n,priority:r}=this,a=[s];if(e.length<=2||!n||r<1)return a;for(let p=1;p<e.length-1;p++)a.push(s+D.action[i]*p);return a}render(){if(!this.actionChildren.length)return d(Wt,null,void 0);const{budgetedLength:e,actionChildren:i,activeChildElement:s,layout:n,slot:r,scale:a}=this,p=Math.floor(e/D.action[a]),c=[],h=[];if(p>=i.length)c.push(...i);else{const g=s??c.at(0);if(c.push(...i.slice(0,p-1)),h.push(...i.slice(p-1)),g&&h.includes(g)){const[y]=h.splice(h.indexOf(g),1),w=c.pop();c.push(y),w&&h.unshift(w)}}return d("calcite-action-group",{key:"overflow-button-group",layout:n,onclick:g=>this._handleClick(g.target),slot:r},c.map(g=>this._renderManagedAction(g)),h.length>0?d("calcite-action-menu",{key:"split-button-dropdown",label:this.messagesCommon.more,overlayPositioning:"fixed"},d("calcite-action",{icon:qt.overflow,key:"split-button-dropdown-trigger",scale:a,slot:"trigger",text:this.messagesCommon.more}),h.map(g=>this._renderManagedAction(g))):void 0)}_renderManagedAction(e){return d("calcite-action",{...e?.properties,"data-action-key":e?.properties?.key,text:e?.properties?.text??""})}};o([l()],Ee.prototype,"allowCollapse",void 0),o([l()],Ee.prototype,"minimumLength",null),o([l(),ve("esri/t9n/common")],Ee.prototype,"messagesCommon",void 0),o([l()],Ee.prototype,"lengthOptions",null),Ee=o([S("esri.widgets.Sketch.support.ResponsiveToolbar.OverflowGroup")],Ee);let ue=class extends oe{constructor(){super(...arguments),this.measuredElement=null,this.managedElements=new re,this.availableLength=0,this.layout="horizontal",this._resizeObserver=new ResizeObserver(()=>{this._measure()})}get _sortedElements(){return[...this.managedElements].sort((e,i)=>i.priority-e.priority)}connect(e){this._resizeObserver.disconnect(),this.measuredElement=e,this._resizeObserver.observe(e),this._measure()}allocate(){const e=new Map,{availableLength:i,_sortedElements:s}=this;let n=0;for(const r of s){const a=r.lengthOptions[0];e.set(r,a),n+=a}for(const r of s)for(;n<i;){const a=e.get(r);if(!a)break;const p=r.lengthOptions.find(h=>h>a);if(!p)break;const c=n-a+p;if(c>i)break;e.set(r,p),n=c}for(const[r,a]of e)r.budgetedLength=a}_measure(){const e=this.measuredElement;this.availableLength=e?this.layout==="horizontal"?e.clientWidth??0:e.clientHeight??0:0,this.allocate()}destroy(){this._resizeObserver.disconnect()}};o([l()],ue.prototype,"measuredElement",void 0),o([l()],ue.prototype,"managedElements",void 0),o([l()],ue.prototype,"_sortedElements",null),o([l()],ue.prototype,"availableLength",void 0),o([l()],ue.prototype,"layout",void 0),ue=o([S("esri.widgets.Sketch.support.ResponsiveToolbar.ResponsiveToolbarManager")],ue);const uo={splitButtonBase:"esri-split-button--split-part"};let Ce=class extends vt(ae){constructor(e){super(e),this.allowCollapse=!0,this.messagesCommon=null}loadDependencies(){return be({action:()=>m(()=>import("./index-CiSDqz_b.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),import.meta.url),"action-group":()=>m(()=>import("./index-DJkCQhaG.js").then(e=>e.i),__vite__mapDeps([18,1,2,3,4,5,6,7,8,9,10,11,12,13,0,14,15,16,17,19,20,21,22,23,24,25,26,27]),import.meta.url),"action-menu":()=>m(()=>import("./index-BOq90WFi.js").then(e=>e.i),__vite__mapDeps([26,1,2,3,4,5,6,7,8,9,10,11,12,13,0,14,15,16,17,19,20,21,22,23,24,25,27]),import.meta.url)})}static{this.vnodeSelector="calcite-action-group"}get minimumLength(){const e=this.actionChildren;return e.length?e.length===1?D.action[this.scale]+D.groupSeparator:this.allowCollapse?D.action[this.scale]+D.splitButtonPart[this.layout][this.scale]+D.groupSeparator:D.action[this.scale]*e.length+D.groupSeparator:0}get lengthOptions(){const{actionChildren:e,minimumLength:i,layout:s,scale:n,priority:r,allowCollapse:a}=this;if(e.length<2||r<0||!a)return[i];const p=D.groupSeparator+D.action[n]*e.length;return[D.groupSeparator+D.action[n]+D.splitButtonPart[s][n],p]}render(){if(!this.actionChildren.length)return d(Wt,null,void 0);const{actionChildren:e,minimumLength:i,budgetedLength:s,layout:n,slot:r,allowCollapse:a}=this,p=!a||e.length<2||s>i;return d("calcite-action-group",{key:"split-button-group",layout:n,onclick:c=>this._handleClick(c.target),slot:r},p?this._renderUnSplit():this._renderSplit())}_renderSplit(){const{activeChildElement:e,layout:i,actionChildren:s,scale:n,messagesCommon:r}=this,a=e??s.at(0);if(!a)return;const p=s.filter(c=>c!==a);return[this._renderManagedAction(a),d("calcite-action-menu",{key:"split-button-dropdown",label:r.more,overlayPositioning:"fixed",placement:i==="horizontal"?"bottom-end":"right-end"},d("calcite-action",{class:`${uo.splitButtonBase}--${i}--${this.scale}`,compact:i==="horizontal",icon:qt.splitButton[i],key:"split-button-dropdown-trigger",scale:n,slot:"trigger",text:r.more}),p?.map(c=>this._renderManagedAction(c)))]}_renderUnSplit(){return this.actionChildren.map(e=>this._renderManagedAction(e))}_renderManagedAction(e){return d("calcite-action",{...e?.properties,"data-action-key":e?.properties?.key,text:e?.properties?.text??""})}};o([l()],Ce.prototype,"minimumLength",null),o([l()],Ce.prototype,"allowCollapse",void 0),o([l()],Ce.prototype,"lengthOptions",null),o([l(),ve("esri/t9n/common")],Ce.prototype,"messagesCommon",void 0),Ce=o([S("esri.widgets.Sketch.support.ResponsiveToolbar.SplitButton")],Ce);const Y="esri-responsive-toolbar",Q={rulerBase:`${Y}__ruler`,rulerBarHorizontal:`${Y}__ruler--bar`,rulerBarVertical:`${Y}__ruler--bar--vertical`,rulerPadVertical:`${Y}__ruler--pad--vertical`,rulerPadHorizontal:`${Y}__ruler--pad--horizontal`,bar:`${Y}__bar`,barHorizontal:`${Y}__bar--horizontal`,barVertical:`${Y}__bar--vertical`,pad:`${Y}__pad`,padVertical:`${Y}__pad--vertical`,padHorizontal:`${Y}__pad--horizontal`};let ie=class extends ae{constructor(e){super(e),this.scale="m",this.barStyle="floating",this._measurementManager=new ue,this._managedWidgets=new Map}loadDependencies(){return be({"action-bar":()=>m(()=>import("./index-CFCVnUph.js"),__vite__mapDeps([28,1,2,3,4,5,6,7,8,9,10,11,12,13,0,14,15,16,17,19,20,21,22,23,24,25,26,27,18]),import.meta.url)})}destroy(){this._measurementManager=Ae(this._measurementManager),this._managedWidgets.forEach(e=>e.destroy()),this._managedWidgets.clear()}set layout(e){const i=this._get("layout");this._set("layout",e),this._measurementManager&&(this._measurementManager.layout=e),i!==e&&this.scheduleRender()}get _barClasses(){const e=this.barStyle==="docked",i=this.layout==="vertical";return{[Q.barHorizontal]:e&&!i,[Q.barVertical]:e&&i,[Q.bar]:e,[Q.padHorizontal]:!e&&!i,[Q.padVertical]:!e&&i,[Q.pad]:!e}}render(){const{layout:e,scale:i,barStyle:s}=this,n={layout:e,scale:i,expandDisabled:!0,key:"measured-toolbar"},r=s==="docked"?e==="vertical"?Q.rulerBarVertical:Q.rulerBarHorizontal:e==="horizontal"?Q.rulerPadHorizontal:Q.rulerPadVertical;return d("div",null,d("div",{afterCreate:a=>{this._measurementManager?.connect(a)},class:this.classes(Q.rulerBase,r)}),d("calcite-action-bar",{...n,classes:this._barClasses,floating:s!=="docked",overflowActionsDisabled:!0},this._renderChildren()))}_renderChildren(){if(!this.children)return;const e=this.children.filter(n=>n.properties?.key!==void 0&&"group-kind"in n.properties),i=new Set,s=e.map(n=>{const r=n.properties,a=r.key;i.add(a);const p=this.barStyle==="docked"?r.slot??void 0:void 0,c=r.priority??0,h=r["group-kind"]??"overflow-group",g=r["allow-collapse"]??!0,y=this._managedWidgets.get(a);if(y)return y.children=n.children,y.priority=c,"allowCollapse"in y&&(y.allowCollapse=g),y.slot=p,y.layout=this.layout,y.scale=this.scale,y.measurementManager=this._measurementManager,y;const w={scale:this.scale,priority:c,measurementManager:this._measurementManager,children:n.children,slot:p,layout:this.layout};switch(h){case"split-button":{const T=new Ce({...w,allowCollapse:g});return this._managedWidgets.set(a,T),T}case"overflow-group":{const T=new Ee({...w,allowCollapse:g});return this._managedWidgets.set(a,T),T}case"measured-content":{const T=new Me({...w});return this._managedWidgets.set(a,T),T}}}).filter(me);return Array.from(this._managedWidgets.keys()).filter(n=>!i.has(n)).forEach(n=>{this._managedWidgets.get(n)?.destroy(),this._managedWidgets.delete(n)}),this._measurementManager?.allocate(),s.map(n=>n.render())}};o([l()],ie.prototype,"scale",void 0),o([l({value:"horizontal"})],ie.prototype,"layout",null),o([l()],ie.prototype,"barStyle",void 0),o([l()],ie.prototype,"_measurementManager",void 0),o([l()],ie.prototype,"_managedWidgets",void 0),o([l()],ie.prototype,"_barClasses",null),ie=o([S("esri.widgets.Sketch.support.ResponsiveToolbar.ResponsiveToolbar")],ie);async function ho(t){const{returnFeatureTitleFields:e,returnGeometry:i,selector:s,signal:n,sources:r,view:a}=t;if(!r?.length)return[];const{layers:p,layerViews:c,graphicsLayers:h}=go(r),g=[];return await Ze(ut(Promise.all([vo({candidates:g,layers:p,returnFeatureTitleFields:e,returnGeometry:i,selector:s,signal:n,view:a}),yo({candidates:g,layerViews:c,returnGeometry:i,selector:s,signal:n,view:a}),_o({candidates:g,graphicsLayers:h,selector:s})]),n)),g}function go(t){const e=[],i=[],s=[];return t.forEach(n=>{ci(n)||pi(n)||di(n)?e.push(n):(Vt(n)||Gt(n))&&n.layers?.length?e.push(...n.layers.toArray()):ui(n)&&n.sublayers?.length?s.push(...n.sublayers.toArray()):hi(n)?s.push(n):Qe(n)&&i.push(n)}),{layers:e,layerViews:i,graphicsLayers:s}}async function yo(t){const{candidates:e,layerViews:i,returnGeometry:s,selector:n,signal:r,view:a}=t;n.type!=="point"?await ut(Promise.allSettled(i.map(async p=>{const c=wo(p,n,a,s),h=await p.queryFeatures(c,{signal:r});Ft(e,h.features)})),r):await mo({candidates:e,layerViews:i,selector:n,view:a})}async function mo({candidates:t,layerViews:e,selector:i,view:s}){const n=s.toScreen(i);if(!n)return;const r=e.map(p=>p.layer),{results:a}=await s.hitTest(n,{include:r});a.forEach(p=>{"graphic"in p&&p.graphic&&t.push(p.graphic)})}async function vo(t){const{candidates:e,layers:i,returnFeatureTitleFields:s,returnGeometry:n,selector:r,signal:a,view:p}=t;await ut(Promise.allSettled(i.map(async c=>{if("isTable"in c&&c.isTable)return;const h=fo(c,r,p,s,n),g=await c.queryFeatures(h,{signal:a});Ft(e,g.features)})),a)}function Qt(t,e,i){return t.type==="point"?ao(t,"renderer"in e?co({renderer:e.renderer}):0,i):t}function bo(t,e,i){const{fields:s,fieldsIndex:n}=t,r=new Set([t.objectIdField]);"globalIdField"in t&&t.globalIdField!=null&&n.has(t.globalIdField)&&r.add(n.get(t.globalIdField).name);const a="displayField"in t?t.displayField:null,p=gi({displayField:a,fields:s});if(p!=null&&n.has(p)&&r.add(p),"subtypeField"in t&&t.subtypeField!=null){const c=n.get(t.subtypeField)?.name;if(c!=null&&r.add(c),"utilityNetworks"in e.map&&e.map.utilityNetworks?.length){const h=n.get("assetgroup");h?.name&&r.add(h.name);const g=n.get("assettype");g?.name&&r.add(g.name)}}return(i||e.requiredFieldsOptions.featureTitleFields)&&"featureTitleFields"in t&&t.featureTitleFields&&t.featureTitleFields.forEach(c=>r.add(c)),Array.from(r.values())}function wo(t,e,i,s=!0){const n=t.createQuery();return n.outFields=["*"],n.geometry=Qt(e,t.layer,i),n.returnGeometry=s,n.outSpatialReference=i.spatialReference,n}function fo(t,e,i,s=!1,n=!0){const r=t.createQuery();return r.outFields=bo(t,i,s),r.geometry=Qt(e,t,i),r.returnGeometry=n,r.outSpatialReference=i.spatialReference,r}async function _o(t){const{candidates:e,graphicsLayers:i,selector:s}=t,n=i.flatMap(a=>a.graphics.toArray())??[];if(!n?.length||!s)return;const r=await m(()=>import("./intersectsOperator-DCHEoHxF.js").then(a=>a.i),__vite__mapDeps([29,30,31,32,33,34,3,4,5,35,36,37,38]),import.meta.url);r.accelerateGeometry(s),n.forEach(a=>{a.geometry&&a.geometry.type!=="mesh"&&r.execute(s,a.geometry)&&e.push(a)})}const To=100;let O=class extends ht.EventedAccessor{constructor(t){super(t),this._completed=!1,this._isConstraintKeyDown=!1,this._processTask=null,this.createTool="rectangle",this.mode=null,this.persistSelection=!0,this.returnFeatureTitleFields=!1,this.returnGeometry=!0,this.selection=new re,this.selectionManager=null,this.selectOnComplete=!0,this.sources=null,this.toolName="",this.type="add",this._process=yi(async(e,i)=>{const{callback:s,selector:n,completed:r}=e,a=Kt(async p=>{const{effectiveSelectionManager:c,returnFeatureTitleFields:h,returnGeometry:g,selection:y,sources:w,view:T}=this;if(!(!w?.length&&!c.sources.length)&&T){if(n&&w!=null){const we=await ho({returnFeatureTitleFields:h,returnGeometry:g,selector:n,signal:p,sources:w,view:T});if(y.removeAll(),y.addMany(we),r&&this.persistSelection)switch(this.effectiveType){case"remove":c.updateSelection({current:[],added:[],removed:we});break;case"replace":c.clear(),c.updateSelection({current:we,added:[],removed:[]});break;default:c.updateSelection({current:we,added:[],removed:[]})}}s&&s()}else y.removeAll()});return mi(i,()=>a.abort()),this._processTask=a,a.promise},To),this._onOperationFinish=this._onOperationFinish.bind(this)}initialize(){this._setup()}get _defaultMode(){return this.createTool==="polygon"?"click":"hybrid"}get _selectionArea(){const t=this._tool.coordinates;if(t.length===0)return;const e=fi(),i=this.view.spatialReference,s=r=>{e.x=r[0],e.y=r[1];const a=this.view.toMap(e);return[a?.x??0,a?.y??0]};if(t.length===1||t.every(([r,a])=>r===t[0][0]&&a===t[0][1])){const[r,a]=s(t[0]);return new Ye({x:r,y:a,spatialReference:i})}const n=t.map(s);if(n.length!==0)return vi(n)||n.reverse(),new le({spatialReference:i,rings:[n]})}get completed(){return this._completed}get effectiveSelectionManager(){return this.selectionManager??this.view.selectionManager}get effectiveType(){const t=this.type??"add";if(this._isConstraintKeyDown)switch(t){case"add":return"remove";case"remove":case"replace":return"add";default:return t}return t}get processingFinalSelection(){return!(!this._processTask||!this._tool?.drawOperation?.isCompleted)}cancel(){this.selection.removeAll(),this._onOperationFinish(!0)}destroy(){this._toolImportController=bi(this._toolImportController)}async _setup(){const{createTool:t,view:e}=this;if(await e.whenReady(),this.destroyed||this._toolImportController)return;const i=new AbortController;this._toolImportController=i;const[s,n]=await Promise.all([m(()=>import("./DrawScreenTool-DA_9IkuT.js"),__vite__mapDeps([39,3,4,5,40,41,42,43,44,45,46,32,30,31,33,34,35,38,36,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,2,6,7,8]),import.meta.url),io()]);if(i.signal.aborted)return;const r=Symbol();try{this._tool=new s.DrawScreenTool({view:e,mode:this.mode??this._defaultMode,geometryType:t,cursor:t==="point"?"default":"crosshair",automaticLengthMeasurementUtils:n})}finally{this._toolImportController=null}this._tool?(this.selectOnComplete||this.addHandles(this._tool.on(["cursor-update","vertex-add","vertex-remove"],()=>{this._syncConstraintKeyDown(),Ze(this._process({selector:this._selectionArea}))}),r),this.addHandles([e.on("key-down",a=>{if(!a.repeat)switch(a.key){case We.constraint:this._tool.uniformSizeToggled=!0,a.stopPropagation();break;case We.center:this._tool.centeredToggled=!0,a.stopPropagation()}}),e.on("key-up",a=>{switch(a.key){case We.constraint:this._tool.uniformSizeToggled=!1,a.stopPropagation();break;case We.center:this._tool.centeredToggled=!1,a.stopPropagation()}}),this.selection.on("change",({added:a,removed:p})=>this.emit("selection-change",{operationType:this.effectiveType,added:a,removed:p})),this._tool.on("complete",async a=>{this._syncConstraintKeyDown(),this.removeHandles(r),a.aborted?this.cancel():(this._tool.cursor="progress",await this._process({selector:this._selectionArea,callback:this._onOperationFinish,completed:!0}))})],r),this.addHandles(wi(()=>e.tools.remove(this._tool))),e.addAndActivateTool(this._tool)):ye.getLogger(this).warn("Unable to import Draw module. SelectionOperation failed to load.")}_syncConstraintKeyDown(){const{inputManager:t}=this.view;this._isConstraintKeyDown=ro.invertType.some(e=>t.isModifierKeyDown(e))}_onOperationFinish(t=!1){this.removeAllHandles(),this._processTask?.abort(),this.emit("complete",{aborted:t,operationType:this.effectiveType,selection:this.selection.toArray(),toolName:this.toolName}),this._completed=!0}};o([l()],O.prototype,"_completed",void 0),o([l()],O.prototype,"_defaultMode",null),o([l()],O.prototype,"_isConstraintKeyDown",void 0),o([l()],O.prototype,"_processTask",void 0),o([l()],O.prototype,"_selectionArea",null),o([l()],O.prototype,"completed",null),o([l({constructOnly:!0})],O.prototype,"createTool",void 0),o([l()],O.prototype,"effectiveSelectionManager",null),o([l()],O.prototype,"effectiveType",null),o([l({constructOnly:!0})],O.prototype,"mode",void 0),o([l()],O.prototype,"persistSelection",void 0),o([l()],O.prototype,"processingFinalSelection",null),o([l()],O.prototype,"returnFeatureTitleFields",void 0),o([l()],O.prototype,"returnGeometry",void 0),o([l({readOnly:!0})],O.prototype,"selection",void 0),o([l({constructOnly:!0})],O.prototype,"selectionManager",void 0),o([l({constructOnly:!0})],O.prototype,"selectOnComplete",void 0),o([l()],O.prototype,"sources",void 0),o([l({constructOnly:!0})],O.prototype,"toolName",void 0),o([l({constructOnly:!0})],O.prototype,"type",void 0),o([l({constructOnly:!0})],O.prototype,"view",void 0),O=o([S("esri.widgets.support.Selector2D.SelectionOperation")],O);const Mo=O;let P=class extends ht.EventedAccessor{constructor(e){super(e),this._operationHandlesGroup=null,this.activeOperation=null,this.continuousSelectionEnabled=!1,this.defaultLassoToolOptions={createTool:"polygon",mode:"hybrid",toolName:"lasso"},this.defaultOperationType="add",this.defaultPointToolOptions={createTool:"point",toolName:"point"},this.defaultRectangleToolOptions={createTool:"rectangle",toolName:"rectangle"},this.layerViewPreferenceEnabled=!0,this.persistSelection=!0,this.selectionManager=null,this.returnFeatureTitleFields=!1,this.returnGeometry=!0,this.selectOnComplete=!0,this.sources=null,this.toolConfigs=[]}initialize(){this.addHandles([C(()=>this.effectiveSources,e=>{this.activeOperation&&(this.activeOperation.sources=e)})])}destroy(){this._operationHandlesGroup=He(this._operationHandlesGroup)}get effectiveSelectionManager(){return this.selectionManager??this.view?.selectionManager}get effectiveSources(){const{layerViewPreferenceEnabled:e,sources:i,view:s}=this,n=i??this.effectiveSelectionManager?.sources;if(!n?.length)return[];const r=[];return n.forEach(a=>{if(Qe(a))r.push(a);else if(Vt(a)||Gt(a))(a.layers||[]).forEach(p=>{const c=s?Pt(s,p):void 0,h=e&&Qe(c)?c:p;r.push(h)});else if(e){const p=s?Pt(s,a):void 0,c=Qe(p)?p:a;r.push(c)}else r.push(a)}),r}get layers(){return et(ye.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.sources}set layers(e){et(ye.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.sources=e}get state(){return this.activeOperation?"active":this.view?.ready&&this.effectiveSources.length?"ready":"disabled"}activate(e){const{state:i}=this,s=e?.view||this.view,n=e?.sources||this.effectiveSources;if(i==="disabled"||!s)return void ye.getLogger(this).warn("Unable to start selection operation.");i==="active"&&this.cancel();const r=new CustomEvent("before-activate",{cancelable:!0,detail:{toolName:e?.toolName??null}});if(this.emit("before-activate",r),r.defaultPrevented)return;const a={type:this.defaultOperationType,persistSelection:this.persistSelection,returnFeatureTitleFields:this.returnFeatureTitleFields,returnGeometry:this.returnGeometry,selectOnComplete:this.selectOnComplete,selectionManager:this.effectiveSelectionManager,...e,sources:n,view:s},p=new Mo({...a});return this._operationHandlesGroup=gt([p.on("selection-change",c=>this.emit("selection-change",c)),p.once("complete",c=>this._onOperationComplete(c,a))]),this._set("activeOperation",p),p}activateTool(e){this.cancel();const i=this._getToolOptions(e);if(i)return this.activate(i);ye.getLogger(this).warn("Unable to activate tool: unable to determine options.")}cancel(){this.activeOperation?.cancel(),this._set("activeOperation",null)}toggleTool(e){const{activeOperation:i}=this;if(i){const s=i.toolName;if(this.cancel(),s===e)return}return this.activateTool(e)}_onOperationComplete(e,i){this._operationHandlesGroup=He(this._operationHandlesGroup),this._set("activeOperation",null),this.emit("complete",e),this.continuousSelectionEnabled&&!e.aborted&&this.activate(i)}_getToolOptions(e){return this.toolConfigs.find(s=>s.toolName===e)||(e==="lasso"?this.defaultLassoToolOptions:e==="point"?this.defaultPointToolOptions:e==="rectangle"?this.defaultRectangleToolOptions:void 0)}};o([l({readOnly:!0})],P.prototype,"activeOperation",void 0),o([l()],P.prototype,"continuousSelectionEnabled",void 0),o([l()],P.prototype,"defaultLassoToolOptions",void 0),o([l()],P.prototype,"defaultOperationType",void 0),o([l()],P.prototype,"defaultPointToolOptions",void 0),o([l()],P.prototype,"defaultRectangleToolOptions",void 0),o([l()],P.prototype,"effectiveSelectionManager",null),o([l()],P.prototype,"effectiveSources",null),o([l()],P.prototype,"layers",null),o([l()],P.prototype,"layerViewPreferenceEnabled",void 0),o([l()],P.prototype,"persistSelection",void 0),o([l()],P.prototype,"selectionManager",void 0),o([l()],P.prototype,"returnFeatureTitleFields",void 0),o([l()],P.prototype,"returnGeometry",void 0),o([l()],P.prototype,"selectOnComplete",void 0),o([l()],P.prototype,"sources",void 0),o([l({readOnly:!0})],P.prototype,"state",null),o([l()],P.prototype,"toolConfigs",void 0),o([l()],P.prototype,"view",void 0),P=o([S("esri.widgets.support.SelectionToolbar.SelectionToolbarViewModel")],P);const Eo=P;let he=class extends oe{constructor(e){super(e),this.chip=!0,this.lassoTool=!0,this.pan=!0,this.pointTool=!0,this.rectangleTool=!0}};o([l({type:Boolean,nonNullable:!0})],he.prototype,"chip",void 0),o([l({type:Boolean,nonNullable:!0})],he.prototype,"lassoTool",void 0),o([l({type:Boolean,nonNullable:!0})],he.prototype,"pan",void 0),o([l({type:Boolean,nonNullable:!0})],he.prototype,"pointTool",void 0),o([l({type:Boolean,nonNullable:!0})],he.prototype,"rectangleTool",void 0),he=o([S("esri.widgets.support.SelectionToolbar.VisibleElements")],he);const bt=he,at="esri-selection-toolbar",ct={base:at,container:`${at}__container`,toolButton:`${at}__tool-button`};let f=class extends ae{constructor(e,i){super(e,i),this._viewModelHandlesGroup=null,this.disabled=!1,this.layout="horizontal",this.messages=null,this.scale="s",this.viewModel=new Eo,this.visibleElements=new bt}initialize(){this._viewModelHandlesGroup=gt([rt(()=>this.viewModel,"before-activate",e=>this.emit("before-activate",e)),rt(()=>this.viewModel,"complete",e=>this.emit("complete",e)),rt(()=>this.viewModel,"selection-change",e=>this.emit("selection-change",e))])}destroy(){this._viewModelHandlesGroup=He(this._viewModelHandlesGroup)}loadDependencies(){return be({action:()=>m(()=>import("./index-CiSDqz_b.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),import.meta.url),"action-bar":()=>m(()=>import("./index-CFCVnUph.js"),__vite__mapDeps([28,1,2,3,4,5,6,7,8,9,10,11,12,13,0,14,15,16,17,19,20,21,22,23,24,25,26,27,18]),import.meta.url),chip:()=>m(()=>import("./index-BNLx-sjz.js"),__vite__mapDeps([106,11,2,3,4,5,6,7,8,12,13,15,17,16,25,10]),import.meta.url)})}get _effectiveDisabled(){return this.disabled||this.state==="disabled"}get activeOperation(){return this.viewModel.activeOperation}get continuousSelectionEnabled(){return this.viewModel.continuousSelectionEnabled}set continuousSelectionEnabled(e){this.viewModel.continuousSelectionEnabled=e}get defaultLassoToolOptions(){return this.viewModel.defaultLassoToolOptions}set defaultLassoToolOptions(e){this.viewModel.defaultLassoToolOptions=e}get defaultOperationType(){return this.viewModel.defaultOperationType}set defaultOperationType(e){this.viewModel.defaultOperationType=e}get defaultPointToolOptions(){return this.viewModel.defaultPointToolOptions}set defaultPointToolOptions(e){this.viewModel.defaultPointToolOptions=e}get defaultRectangleToolOptions(){return this.viewModel.defaultRectangleToolOptions}set defaultRectangleToolOptions(e){this.viewModel.defaultRectangleToolOptions=e}get effectiveSelectionManager(){return this.viewModel.effectiveSelectionManager}get effectiveSources(){return this.viewModel.effectiveSources}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layers(){return et(ye.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.viewModel.sources}set layers(e){et(ye.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.viewModel.sources=e}get layerViewPreferenceEnabled(){return this.viewModel.layerViewPreferenceEnabled}set layerViewPreferenceEnabled(e){this.viewModel.layerViewPreferenceEnabled=e}get persistSelection(){return this.viewModel.persistSelection}set persistSelection(e){this.viewModel.persistSelection=e}get returnFeatureTitleFields(){return this.viewModel.returnFeatureTitleFields}set returnFeatureTitleFields(e){this.viewModel.returnFeatureTitleFields=e}get returnGeometry(){return this.viewModel.returnGeometry}set returnGeometry(e){this.viewModel.returnGeometry=e}get selectOnComplete(){return this.viewModel.selectOnComplete}set selectOnComplete(e){this.viewModel.selectOnComplete=e}get selectionManager(){return this.viewModel.selectionManager}set selectionManager(e){this.viewModel.selectionManager=e}get state(){return this.viewModel.state}get sources(){return this.viewModel.sources}set sources(e){this.viewModel.sources=e}get toolConfigs(){return this.viewModel.toolConfigs}set toolConfigs(e){this.viewModel.toolConfigs=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visibleToolCount(){const{visibleElements:e}=this;return this.toolConfigs.length+(e.lassoTool?1:0)+(e.rectangleTool?1:0)}activate(e){if(this.cancel(),!this._effectiveDisabled)return this.viewModel.activate(e)}activateTool(e){if(!this._effectiveDisabled)return this.viewModel.activateTool(e)}cancel(){this.viewModel.cancel()}toggleTool(e){if(!this._effectiveDisabled)return this.viewModel.toggleTool(e)}render(){return d("div",{"aria-label":this.label,class:this.classes(ct.base,mt.widget)},d("div",{class:ct.container},d("calcite-action-bar",{expandDisabled:!0,layout:"horizontal",scale:this.scale},this._renderDefaultTools(),this._renderCustomTools(),this._renderChip())))}_renderDefaultTools(){return[this._renderPanAction(),this._renderPointTool(),this._renderRectangleTool(),this._renderLassoTool()]}_renderPanAction(){if(!this.visibleElements.pan)return;const e=this.messages.pan,i=`${this.id}-tool-pan`;return this._renderAction({active:!this.activeOperation,disabled:this._effectiveDisabled,icon:"pan",id:i,key:i,onclick:()=>this.cancel(),text:e,title:e})}_renderChip(){if(!this.visibleElements.chip)return;const{effectiveSelectionManager:e}=this,i=e?.count??0,s=to(i);return d("calcite-chip",{appearance:"outline",closable:i>0,closed:i===0,disabled:this._effectiveDisabled||i===0,label:s,scale:this.scale,slot:"actions-end",title:this.messages.clearSelection,onCalciteChipClose:()=>e?.clear()},s)}_renderCustomTools(){return this.toolConfigs.map(({toolName:e,icon:i})=>this._renderToolWithTooltip(e,i))}_renderPointTool(){if(this.visibleElements.pointTool)return this._renderToolWithTooltip("point","selection-set",this.messages.selectByPoint)}_renderLassoTool(){if(this.visibleElements.lassoTool)return this._renderToolWithTooltip("lasso","lasso-select",this.messages.selectByLasso)}_renderRectangleTool(){if(this.visibleElements.rectangleTool)return this._renderToolWithTooltip("rectangle","cursor-marquee",this.messages.selectByRectangle)}_renderToolWithTooltip(e,i,s=e){const n=`${this.id}-tool-${e}`;return this._renderAction({active:this.activeOperation?.toolName===e,disabled:this._effectiveDisabled,icon:i||"selection",id:n,key:n,onclick:()=>this.toggleTool(e),text:s,title:s})}_renderAction(e){return d("calcite-action",{...e,bind:this,class:ct.toolButton,scale:this.scale})}};o([l()],f.prototype,"_effectiveDisabled",null),o([l()],f.prototype,"activeOperation",null),o([l()],f.prototype,"continuousSelectionEnabled",null),o([l()],f.prototype,"defaultLassoToolOptions",null),o([l()],f.prototype,"defaultOperationType",null),o([l()],f.prototype,"defaultPointToolOptions",null),o([l()],f.prototype,"defaultRectangleToolOptions",null),o([l()],f.prototype,"disabled",void 0),o([l()],f.prototype,"effectiveSelectionManager",null),o([l()],f.prototype,"effectiveSources",null),o([l()],f.prototype,"label",null),o([l()],f.prototype,"layers",null),o([l()],f.prototype,"layerViewPreferenceEnabled",null),o([l()],f.prototype,"layout",void 0),o([l(),ve("esri/widgets/support/SelectionToolbar/t9n/SelectionToolbar")],f.prototype,"messages",void 0),o([l()],f.prototype,"persistSelection",null),o([l()],f.prototype,"returnFeatureTitleFields",null),o([l()],f.prototype,"returnGeometry",null),o([l()],f.prototype,"selectOnComplete",null),o([l()],f.prototype,"scale",void 0),o([l()],f.prototype,"selectionManager",null),o([l()],f.prototype,"state",null),o([l()],f.prototype,"sources",null),o([l()],f.prototype,"toolConfigs",null),o([l()],f.prototype,"view",null),o([l()],f.prototype,"viewModel",void 0),o([l({type:bt,nonNullable:!0})],f.prototype,"visibleElements",void 0),o([l()],f.prototype,"visibleToolCount",null),f=o([S("esri.widgets.support.SelectionToolbar")],f);const Co=f,Lo={absolute:"absolute-direction",relative:"relative-direction"},Jt=()=>be({icon:()=>m(()=>import("./index-Cs3CRsj0.js").then(t=>t.i),__vite__mapDeps([11,2,3,4,5,6,7,8,12,13]),import.meta.url),label:()=>m(()=>import("./index-Dr5_wiAP.js"),__vite__mapDeps([107,2,3,4,5,6,7,8,108,12]),import.meta.url),switch:()=>m(()=>import("./index-CQOUqMnx.js"),__vite__mapDeps([109,2,3,4,5,6,7,8,15,12,110,16,25,108,17]),import.meta.url),tooltip:()=>m(()=>import("./index-BTXYcHER.js"),__vite__mapDeps([111,2,3,4,5,6,7,8,15,20,12,21,9,22,24,14]),import.meta.url)}),Fe="esri-labeled-switch",Be={label:`${Fe}__label`,labelContent:`${Fe}__label-content`,iconInfo:`${Fe}__icon_info`,iconWarning:`${Fe}__icon_warning`,tooltip:`${Fe}__tooltip`};function Ie({checked:t,disabled:e,hint:i,key:s,label:n,onChange:r,hintIcon:a,hintKind:p}){return d("calcite-label",{class:Be.label,disabled:e,key:s,layout:"inline-space-between",scale:"s"},i?d("div",{class:Be.labelContent,key:"label-content"},d("div",null,n),d("calcite-icon",{class:p!=="warning"?Be.iconInfo:Be.iconWarning,icon:a??"information",id:s,onclick:c=>c.stopPropagation(),onpointerdown:c=>{c.preventDefault(),c.stopPropagation();const h=c.target.nextElementSibling;h.open=!h.open},scale:"s",tabIndex:0}),d("calcite-tooltip",{class:Be.tooltip,overlayPositioning:"fixed",referenceElement:s},i)):n,d("calcite-switch",{checked:t,disabled:e,scale:"s",onCalciteSwitchChange:c=>r(c.currentTarget.checked)}))}let Le=class extends oe{constructor(e){super(e),this.directionModePicker=!1,this.header=!1,this.labelsToggle=!0,this.tooltipsToggle=!0}};o([l({type:Boolean,nonNullable:!0})],Le.prototype,"directionModePicker",void 0),o([l({type:Boolean,nonNullable:!0})],Le.prototype,"header",void 0),o([l({type:Boolean,nonNullable:!0})],Le.prototype,"labelsToggle",void 0),o([l({type:Boolean,nonNullable:!0})],Le.prototype,"tooltipsToggle",void 0),Le=o([S("esri.widgets.support.SketchTooltipControls.VisibleElements")],Le);const wt=Le,Ke="esri-sketch-tooltip-controls",je={base:Ke,block:`${Ke}__block`,blockContent:`${Ke}__block-content`,radioButtonLabelWrapper:`${Ke}__radio-button-label-wrapper`};let ge=class extends ae{constructor(e,i){super(e,i),this.viewModel=null,this.visibleElements=new wt,this.sketchOptions=new Ht,this.viewType=void 0,this._onTooltipsEnabledChange=s=>{this.sketchOptions.tooltips.enabled=s},this._onLabelsEnabledChange=s=>{this.sketchOptions.labels.enabled=s},this._onDirectionModeChange=s=>{this.sketchOptions.values.directionMode=s.currentTarget.selectedItem.value}}loadDependencies(){return Promise.all([be({block:()=>m(()=>import("./index-FCq3E5wa.js"),__vite__mapDeps([112,1,2,3,4,5,6,7,8,9,10,113,15,13,12,11,114,20,21,16,25,17,22,115,0,14,116,117,118,119,19,23,24,26,27]),import.meta.url),label:()=>m(()=>import("./index-Dr5_wiAP.js"),__vite__mapDeps([107,2,3,4,5,6,7,8,108,12]),import.meta.url),icon:()=>m(()=>import("./index-Cs3CRsj0.js").then(e=>e.i),__vite__mapDeps([11,2,3,4,5,6,7,8,12,13]),import.meta.url),"radio-button":()=>m(()=>import("./index-BtTXGeMR.js"),__vite__mapDeps([120,2,3,4,5,6,7,8,15,27,12,110,16,108,17]),import.meta.url),"radio-button-group":()=>m(()=>import("./index-BY4vDBPc.js"),__vite__mapDeps([121,11,2,3,4,5,6,7,8,12,13,122,17,123,15]),import.meta.url)}),Jt()])}render(){const{label:e,visibleElements:i}=this,s=this._renderContent();return d("div",{"aria-label":e,class:this.classes(je.base,mt.widget)},s?d("calcite-block",{class:je.block,expanded:!0,heading:i.header?this.label:"",key:"content-block",label:this.label},d("div",{class:je.blockContent,key:"content"},s)):void 0)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}_renderContent(){const{visibleElements:e,viewType:i}=this,s=[e.tooltipsToggle?this._renderTooltipsToggle():null,e.labelsToggle&&i!=="2d"?this._renderLabelsToggle():null,e.directionModePicker?this._renderDirectionModePicker():null].filter(me);return s.length===0?null:s}_renderTooltipsToggle(){const{messages:e,sketchOptions:i}=this;return d(Ie,{checked:i.tooltips.effectiveEnabled,hint:e.tooltipsToggleHint,key:`${this.id}__tooltips`,label:e.tooltipsToggle,onChange:this._onTooltipsEnabledChange})}_renderLabelsToggle(){const{messages:e,sketchOptions:i}=this;return d(Ie,{checked:i.labels.enabled,hint:e.labelsToggleHint,key:`${this.id}__labels`,label:e.labelsToggle,onChange:this._onLabelsEnabledChange})}_renderDirectionModePicker(){const{messages:e,sketchOptions:i}=this,{directionMode:s}=i.values;return d("calcite-label",{key:"direction-mode",layout:"default",scale:"s"},e.directionModePicker,d("calcite-radio-button-group",{key:"radio-button-group",layout:"horizontal",name:this.id,scale:"s",value:s,onCalciteRadioButtonGroupChange:this._onDirectionModeChange},this._renderDirectionModeOption("relative",s,e.directionModeRelative),this._renderDirectionModeOption("absolute",s,e.directionModeAbsolute)))}_renderDirectionModeOption(e,i,s){return d("calcite-label",{key:e,layout:"inline",scale:"s"},d("calcite-radio-button",{checked:e===i,scale:"s",value:e}),d("div",{class:je.radioButtonLabelWrapper,key:"label-wrapper"},d("calcite-icon",{icon:Lo[e],scale:"s"}),s))}};o([l()],ge.prototype,"label",null),o([l({type:wt,nonNullable:!0})],ge.prototype,"visibleElements",void 0),o([l(),ve("esri/widgets/support/SketchTooltipControls/t9n/SketchTooltipControls")],ge.prototype,"messages",void 0),o([l({nonNullable:!0,type:Ht})],ge.prototype,"sketchOptions",void 0),o([l({type:String})],ge.prototype,"viewType",void 0),ge=o([S("esri.widgets.support.SketchTooltipControls")],ge);const So=ge,Oo={hide:"hide"};function tt(t){return t?.listMode??void 0}function ko(t){return t!=null&&"minScale"in t&&t.minScale!=null?t.minScale:void 0}function Po(t){return t!=null&&"maxScale"in t&&t.maxScale!=null?t.maxScale:void 0}function $o(t){if(!t)return"inherited";const e=Ao(Zt(t)?t.layer:t);return e!=null?e?"independent":"inherited":"visibilityMode"in t&&t.visibilityMode!=null?t.visibilityMode:"independent"}function Xt(t){if(t&&(!("type"in t)||t.type!=="wmts"))return"sublayers"in t?"sublayers":"layers"in t?"layers":void 0}function ft(t){return tt(t)!==Oo.hide}function Io(t,e){if(!t||e==null||isNaN(e))return!1;const i=ko(t),s=Po(t),n=i!=null&&!isNaN(i)&&i>0&&e>i,r=s!=null&&!isNaN(s)&&s>0&&e<s;return n||r}function Rt(t){const e=t?.layer;return e&&"layers"in e?e.layers:null}function Zt(t){return t!=null&&"layer"in t&&t.layer!=null}function Ao(t){const e=Do(t);return e!=null&&"supportsSublayerVisibility"in e?e.supportsSublayerVisibility:void 0}function Do(t){return t&&"capabilities"in t&&t.capabilities!=null&&"exportMap"in t.capabilities?t.capabilities.exportMap:void 0}let F=class extends Bt.IdentifiableMixin(ae){constructor(t,e){super(t,e),this._legend=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([C(()=>this._canCreateLegend,()=>this._createLegend(),j),C(()=>[this._legend,this._legendOptions],()=>this._updateLegend(),j)])}destroy(){this._legend=Ae(this._legend)}get _canCreateLegend(){const{content:t,listItem:e}=this;if(!e)return!1;const i="legend";return t===i||t!=null&&!!Array.isArray(t)&&t.includes(i)}get _legendOptions(){const{listItem:t,_legendLayerInfo:e}=this,i=t?.view;return e&&i?{view:i,layerInfos:[e]}:{}}get _legendLayerInfo(){const t=this.listItem?.layer;if(!t||t.type==="subtype-sublayer")return null;const e=Zt(t)?t:null,i=t?.parent,s=i!=null&&"type"in i&&i.type==="map-image"?e?.source:null,n="";return s&&i?{layer:i,title:n,sublayerIds:[s.mapLayerId]}:{layer:t,title:n}}get disabled(){const{listItem:t,_legend:e,content:i}=this;return!t||!(Array.isArray(i)&&i.length>1)&&!!e&&(!e.activeLayerInfos?.length||!t.visibleAtCurrentScale||!t.visible)}set disabled(t){this._overrideIfSome("disabled",t)}get icon(){const{image:t}=this,e=this._getFirstWidget();return this._get("icon")??(!t&&e?e.icon:null)}set icon(t){this._overrideIfSome("icon",t)}get title(){return this._get("title")||(this._getFirstWidget()?.label??"")}set title(t){this._override("title",t)}render(){return d("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(t){const{_legend:e,disabled:i,open:s}=this;return t&&!i&&s?t==="legend"&&e?d("div",{key:"legend-widget"},e.render()):typeof t=="string"?d("div",{innerHTML:t,key:t}):It(t)?d("div",{key:"content-widget"},t.render()):t instanceof HTMLElement?d("div",{afterCreate:this._attachToNode,bind:t,key:"content-element"}):null:null}_renderContents(){const{content:t,open:e}=this;return e?Array.isArray(t)?t.map(i=>this._renderContent(i)):this._renderContent(t):null}async _createLegend(){if(Ae(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:t}=await m(()=>import("./Legend-tm6ZUED3.js"),__vite__mapDeps([124,3,4,5,2,6,7,8,125,126,77,78,79,43,76,127,128,129,130,131,132,133,134,135,136,137,138,139,60,140,141,142,143,84,144,145,146,147,148,149,150,151,152,153,53,65,154,155,56,156,157,158,159,160,89,161,162,49,163,164,165,82,83,73,166,167,168,169,170,171,172,173,174,175,176,63,177,178,179,180,181,182,183,184,185,186,187]),import.meta.url),e=new t(this._legendOptions);this._legend=e}_attachToNode(t){t.appendChild(this)}_updateLegend(){const t=this._legend;t&&t.set(this._legendOptions)}_getWidget(t){return t==="legend"?this._legend:It(t)?t:null}_getFirstWidget(){const{content:t}=this;return Array.isArray(t)?t.map(e=>this._getWidget(e)).find(e=>e):this._getWidget(t)}};o([l()],F.prototype,"_legend",void 0),o([l()],F.prototype,"_canCreateLegend",null),o([l()],F.prototype,"_legendOptions",null),o([l()],F.prototype,"_legendLayerInfo",null),o([l()],F.prototype,"content",void 0),o([l()],F.prototype,"disabled",null),o([l()],F.prototype,"flowEnabled",void 0),o([l()],F.prototype,"icon",null),o([l()],F.prototype,"image",void 0),o([l()],F.prototype,"listItem",void 0),o([l()],F.prototype,"open",void 0),o([l()],F.prototype,"title",null),o([l()],F.prototype,"visible",void 0),F=o([S("esri.widgets.LayerList.ListItemPanel")],F);const ei=F;var Ne;const Ro=re.ofType({key:"type",defaultKeyValue:"button",base:Mi,typeMap:{button:Ti,toggle:_i}}),ti=re.ofType(Ro),pt="layer",qe="child-list-mode",xo="hide";let _=Ne=class extends Bt.IdentifiableMixin(oe){constructor(t){super(t),this.actionsSections=new ti,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(re.ofType(Ne)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.parent=null,this.view=null}initialize(){if(this.addHandles([C(()=>[this.layer,this.layer?.listMode,this.listModeDisabled],()=>this._watchLayerProperties(this.layer),j),C(()=>this.checkPublishStatusEnabled,t=>this._updateChildrenPublishing(t),j),C(()=>this.view,t=>this._updateChildrenView(t),j),C(()=>this.panel,t=>this._setListItemOnPanel(t),j)]),typeof this.listItemCreatedFunction=="function"){const t={item:this};this.listItemCreatedFunction.call(null,t)}}destroy(){this.panel?.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:t,publishing:e}=this;if(!e&&t&&"connectionStatus"in t)return t.connectionStatus}get error(){return this.layer?.loadError}get incompatible(){const{layerView:t}=this;return!(!t||!("spatialReferenceSupported"in t))&&!t.spatialReferenceSupported}get layerView(){const{layer:t,view:e}=this;if(!t||!e||t.type==="sublayer")return null;const i=t.type==="subtype-sublayer"?t.parent:t;return e.allLayerViews.find(s=>s.layer===i)??null}set panel(t){const e=this._get("panel");t!==e&&t&&e?.destroy(),this._set("panel",t)}castPanel(t){return this.panel?.open&&!t.hasOwnProperty("open")&&(t.open=!0),t?new ei(t):null}get sortable(){return this.layer?.type!=="knowledge-graph-sublayer"&&this._get("sortable")}set sortable(t){this._set("sortable",t)}get title(){const t=ze(this,"layer.layer");return(!t||t&&ze(this,"layer.layer.loaded"))&&ze(this,"layer.title")||ze(this,"layer.attributes.title")||""}set title(t){this._override("title",t)}get publishing(){const{layer:t,checkPublishStatusEnabled:e}=this;return!!(e&&t&&"publishingInfo"in t&&t.publishingInfo?.status==="publishing")}get updating(){const{layerView:t,connectionStatus:e,layer:i,publishing:s}=this;return!s&&!e&&(t?t.updating:i?.loadStatus==="loading"||!1)}get visible(){return!!this.layer?.visible}set visible(t){const e=this.layer;e&&(e.visible=t)}get visibleAtCurrentScale(){return this.layerView?.visibleAtCurrentScale??!Io(this.layer,this.view?.scale)}get visibleAtCurrentTimeExtent(){return this.layerView?.visibleAtCurrentTimeExtent??!0}get visibilityMode(){return $o(this.layer)}clone(){return new Ne({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(t){t&&(t.listItem=this)}_updateChildrenPublishing(t){this.children?.forEach(e=>e.checkPublishStatusEnabled=t)}_updateChildrenView(t){const e=this.children;e&&e.forEach(i=>i.view=t)}_createChildren(t){const{listModeDisabled:e,children:i}=this,s=t.filter(n=>!i.some(r=>r.layer===n));i.addMany(this._createChildItems(s,e))}_destroyChildren(t){const{children:e}=this,i=e.filter(s=>!!s.layer&&!t.includes(s.layer));e.destroyMany(i)}_sortChildren(t){this.children.sort((e,i)=>t.indexOf(i.layer)-t.indexOf(e.layer))}_destroyAllChildren(){this.removeHandles(qe),this.children.destroyAll()}_watchChildLayerListMode(t){this.removeHandles(qe),this.listModeDisabled||this.addHandles(t.toArray().map(e=>C(()=>e.listMode,()=>this._compileChildren(t))),qe)}_compileChildren(t){const e=this.listModeDisabled?t:t?.filter(i=>tt(i)!==xo);t?.length?(this._createChildren(e),this._destroyChildren(e),this._sortChildren(e),this._watchChildLayerListMode(t)):this._destroyAllChildren()}_watchSublayerChanges(t){t&&this.addHandles(t.on("change",()=>this._compileChildren(t)),pt)}_initializeChildLayers(t){this._compileChildren(t),this._watchSublayerChanges(t)}_createChildItems(t,e){return t.reverse().map(i=>e||ft(i)?new Ne({layer:i,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null).filter(me)}_watchLayerProperties(t){if(this.removeHandles(pt),this.removeHandles(qe),!t)return;if((!this.listModeDisabled&&tt(t))==="hide-children")return void this.children.destroyAll();const e=Xt(t);e&&this.addHandles(C(()=>t[e],i=>{t.hasOwnProperty(e)&&this._initializeChildLayers(i)},j),pt)}};o([l({type:ti})],_.prototype,"actionsSections",void 0),o([l()],_.prototype,"actionsOpen",void 0),o([l()],_.prototype,"checkPublishStatusEnabled",void 0),o([l({type:re.ofType(_)})],_.prototype,"children",void 0),o([l()],_.prototype,"childrenSortable",void 0),o([l({readOnly:!0})],_.prototype,"connectionStatus",null),o([l({readOnly:!0})],_.prototype,"error",null),o([l()],_.prototype,"hidden",void 0),o([l({readOnly:!0})],_.prototype,"incompatible",null),o([l()],_.prototype,"layer",void 0),o([l({readOnly:!0})],_.prototype,"layerView",null),o([l()],_.prototype,"listItemCreatedFunction",void 0),o([l({nonNullable:!0})],_.prototype,"listModeDisabled",void 0),o([l()],_.prototype,"open",void 0),o([l({type:ei})],_.prototype,"panel",null),o([Ei("panel")],_.prototype,"castPanel",null),o([l()],_.prototype,"parent",void 0),o([l({value:!0})],_.prototype,"sortable",null),o([l()],_.prototype,"title",null),o([l({readOnly:!0})],_.prototype,"publishing",null),o([l({readOnly:!0})],_.prototype,"updating",null),o([l()],_.prototype,"view",void 0),o([l()],_.prototype,"visible",null),o([l({readOnly:!0})],_.prototype,"visibleAtCurrentScale",null),o([l({readOnly:!0})],_.prototype,"visibleAtCurrentTimeExtent",null),o([l({readOnly:!0})],_.prototype,"visibilityMode",null),_=Ne=o([S("esri.widgets.LayerList.ListItem")],_);const _t=_,J={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},Vo="hide",ii=re.ofType(_t);let ee=class extends ht.EventedAccessor{constructor(e){super(e),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new ii,this.view=null}initialize(){this.addHandles([C(()=>this.view?.ready===!0,()=>this._viewHandles(),j),C(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled],()=>this._recompileList()),C(()=>$t(this.view)?this.view.inGeographicLayout:null,()=>this._compileList())],J.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:e}=this;return e?.ready?"ready":e?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten(e=>e.children).length}triggerAction(e,i){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:i})}moveListItem(e,i,s,n){const r=e?.layer;if(!r||r.type==="subtype-sublayer"||r.type==="sublayer")return;const a=this.view?.map?.layers,p=i?Rt(i):a,c=s?Rt(s):a;if(!p||!c)return;const{operationalItems:h}=this,g=i?.children||h,y=s?.children||h,w=c.length-n;e.parent=s||null,g.remove(e),p.remove(r),y.includes(e)||y.add(e,w),c.includes(r)||c.add(r,w),this._compileList()}_createLayerViewHandles(e){this.removeHandles(J.layerViews),this._compileList(),e&&this.addHandles(e.on("change",()=>this._compileList()),J.layerViews)}_createMapLayerHandles(e){this.removeHandles(J.mapLayers),this._compileList(),e&&this.addHandles(e.on("change",()=>this._compileList()),J.mapLayers)}_createListItem(e){const{view:i,listItemCreatedFunction:s,checkPublishStatusEnabled:n,listModeDisabled:r}=this;return new _t({checkPublishStatusEnabled:n,listModeDisabled:r,layer:e,listItemCreatedFunction:s,view:i})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(e){return e?this.listModeDisabled?e:e.filter(i=>tt(i)!==Vo):void 0}_watchLayersListMode(e){this.removeHandles(J.layerListMode),e&&!this.listModeDisabled&&this.addHandles(C(()=>e.filter(i=>"listMode"in i).map(i=>i.listMode).toArray(),()=>this._compileList()),J.layerListMode)}_compileList(){const e=this.view?.map?.layers,i=$t(this.view)&&!this.view.inGeographicLayout?e?.filter(({type:n})=>n==="link-chart"):e;this._watchLayersListMode(i);const s=this._getViewableLayers(i);s?.length?(this._createNewItems(s),this._removeItems(s),this._sortItems(s)):this._removeAllItems()}_createNewItems(e){const{operationalItems:i}=this;e.forEach(s=>{i.some(n=>n.layer===s)||i.add(this._createListItem(s))})}_removeItems(e){const{operationalItems:i}=this,s=[];i.forEach(n=>{n&&e&&e.includes(n.layer)||s.push(n)}),i.destroyMany(s)}_sortItems(e){const{operationalItems:i}=this;i.sort((s,n)=>{const r=e.indexOf(s.layer),a=e.indexOf(n.layer);return r>a?-1:r<a?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:e}=this;this.removeHandles([J.mapLayers,J.layerViews,J.viewLayers]),e?.ready?this.addHandles([C(()=>this.view?.map?.allLayers,i=>this._createMapLayerHandles(i),j),C(()=>this.view?.allLayerViews,i=>this._createLayerViewHandles(i),j)],J.viewLayers):this._removeAllItems()}};o([l()],ee.prototype,"checkPublishStatusEnabled",void 0),o([l()],ee.prototype,"listItemCreatedFunction",void 0),o([l({nonNullable:!0})],ee.prototype,"listModeDisabled",void 0),o([l({type:ii})],ee.prototype,"operationalItems",void 0),o([l({readOnly:!0})],ee.prototype,"state",null),o([l()],ee.prototype,"totalItems",null),o([l()],ee.prototype,"view",void 0),ee=o([S("esri.widgets.LayerList.LayerListViewModel")],ee);const Go=ee,Tt=t=>Fo(t)||Bo(t),Fo=t=>{if(!("type"in t))return!1;switch(t.type){case"feature":case"geojson":case"csv":case"graphics":case"wfs":case"map-notes":case"oriented-imagery":case"scene":case"building-scene":case"subtype-sublayer":return!0;default:return!1}},Bo=t=>{const e=Xt(t);if(e!=null&&t.hasOwnProperty(e)&&t[e]!=null){for(const i of t[e])if(Tt(i))return!0}return!1},Je=(t,e)=>e!=null&&t!=null&&(e.test(t.title)?"self":!!t.children.some(i=>Je(i,e)!==!1)&&"children");var dt;let ne=dt=class extends _t{constructor(t){super(t),this.children=new re,this.parent=null}get enabled(){const{children:t}=this;if(t.length===0)return this.featureSource!=null&&this.featureSource.enabled?"enabled":"disabled";let e=!1,i=!1;for(const s of t){if(s.enabled==="indeterminate")return s.enabled;if(s.enabled==="enabled"?e=!0:s.enabled==="disabled"&&(i=!0),i&&e)return"indeterminate"}return i?"disabled":"enabled"}get childLayerIds(){return this.children.toArray().flatMap(t=>[t.layer?.id,...t.childLayerIds])}get featureSource(){const{layer:t,getFeatureSnappingSources:e}=this;return e().find(i=>i.layer===t)}_initializeChildLayers(t){if(!t)return;const e=t.filter(Tt);super._initializeChildLayers(e)}_createChildItems(t){return t.map(e=>ft(e)?new dt({layer:e,parent:this,view:this.view,getFeatureSnappingSources:this.getFeatureSnappingSources}):null).filter(me).reverse()}};o([l()],ne.prototype,"enabled",null),o([l()],ne.prototype,"children",void 0),o([l()],ne.prototype,"childLayerIds",null),o([l()],ne.prototype,"featureSource",null),o([l({constructOnly:!0})],ne.prototype,"getFeatureSnappingSources",void 0),o([l()],ne.prototype,"parent",void 0),ne=dt=o([S("esri.widgets.support.SnappingControls.SnappingListItem")],ne);let Se=class extends Go{constructor(){super(...arguments),this.featureSnappingSources=new re}get operationalItemsFlat(){return this.operationalItems.flatten(t=>t.children)}get selectableItems(){return this.operationalItemsFlat.filter(t=>!t.children?.length)}_compileList(){const t=this.view?.map?.layers;if(!t)return;const e=t.filter(Tt);this._watchLayersListMode(e);const i=this._getViewableLayers(e);i?.length?(this._createNewItems(i),this._removeItems(i),this._sortItems(i)):this._removeAllItems()}_createListItem(t){return new ne({layer:t,view:this.view,getFeatureSnappingSources:()=>this.featureSnappingSources})}};o([l()],Se.prototype,"featureSnappingSources",void 0),o([l()],Se.prototype,"operationalItems",void 0),o([l()],Se.prototype,"operationalItemsFlat",null),o([l()],Se.prototype,"selectableItems",null),Se=o([S("esri.widgets.support.SnappingControls.SnappingLayerListViewModel")],Se);let te=class extends oe{constructor(t){super(t),this.layerListViewModel=new Se,this.snappingOptions=new zt,this.view=null}initialize(){this.addHandles([C(()=>({viewModel:this.layerListViewModel,view:this.view}),({viewModel:t,view:e})=>{t.view=e},j),C(()=>({viewModel:this.layerListViewModel,sources:this.snappingOptions?.featureSources}),({viewModel:t,sources:e})=>{t.featureSnappingSources=e},j)])}get allLayersEnabled(){return(this.layerListViewModel?.selectableItems??[]).every(t=>t.enabled==="enabled")}get allLayersDisabled(){return(this.layerListViewModel?.selectableItems??[]).every(t=>!t.enabled)}get layersEnabledCount(){return this.layerListViewModel?.selectableItems?.filter(t=>t.enabled==="enabled").length??0}get state(){return this.snappingOptions?"ready":"disabled"}toggleSnappingForLayers(t,e){t?.forEach(i=>e?this.enableSnappingForLayer(i):this.disableSnappingForLayer(i))}toggleSnappingForAllLayers(t){this.layerListViewModel.selectableItems.forEach(({layer:e})=>{const i=e?.id;t?this.enableSnappingForLayer(i):this.disableSnappingForLayer(i)})}enableSnappingForLayer(t){const e=this._findSnappingSourceForLayer(t)??this._makeSnappingSourceForLayer(t);e&&(e.enabled=!0)}disableSnappingForLayer(t){const e=this._findSnappingSourceForLayer(t);e&&(e.enabled=!1)}updateEnabledFeatureSources(t){for(const e of this.snappingOptions.featureSources)ft(e.layer)&&(e.enabled=t.includes(e.layer.id))}_findSnappingSourceForLayer(t){return this.snappingOptions.featureSources.find(e=>e.layer.id===t)}_makeSnappingSourceForLayer(t){const e=this.layerListViewModel.operationalItemsFlat.find(s=>s.layer?.id===t)?.layer;if(!e)throw new Ci("snapping-controls:layer-not-found",`cannot enable snapping for layer with id ${t} because no such layer was found in the view`);if(e.type==="group")return;const i=new oo({layer:e});return this.snappingOptions.featureSources.add(i),i}};o([l()],te.prototype,"allLayersEnabled",null),o([l()],te.prototype,"allLayersDisabled",null),o([l({constructOnly:!0})],te.prototype,"layerListViewModel",void 0),o([l()],te.prototype,"layersEnabledCount",null),o([l({type:zt,nonNullable:!0})],te.prototype,"snappingOptions",void 0),o([l()],te.prototype,"state",null),o([l()],te.prototype,"view",void 0),te=o([S("esri.widgets.support.SnappingControls.SnappingControlsViewModel")],te);const No=te,Z="esri-snapping-controls",X={base:Z,container:`${Z}__container`,toggleBlock:`${Z}__toggle-block`,layerListBlock:`${Z}__layer-list-block`,layerList:`${Z}__layer-list`,layerListFilter:`${Z}__layer-list__filter`,layerListButton:`${Z}__layer-list__button`,layerListItem:`${Z}__layer-list__item`,layerListGroup:`${Z}__layer-list__group`,nestedContainer:`${Z}__nested-container`};let I=class extends ae{constructor(t,e){super(t,e),this._defaultViewModel=null,this._layerListFilter=null,this._gridLoadTask=null,this.layerListOpen=!0,this.gridOptionsOpen=!1,this.messages=null,this.messagesCommon=null,this.snappingManager=null,this.visibleElements=new it,this._enableSnappingSwitchChange=r=>{this.snappingOptions.enabled=r},this._featureEnabledSwitchChange=r=>{this.snappingOptions.featureEnabled=r},this._gridEnabledSwitchChange=r=>{this.snappingOptions.gridEnabled=r,r&&this._startLoadGrid()},this._selfEnabledSwitchChange=r=>{this.snappingOptions.selfEnabled=r},this._onToggleLayersButtonClick=r=>{this.viewModel.toggleSnappingForAllLayers(!this.viewModel.allLayersEnabled),no(r.target)};const{snappingOptions:i,view:s,viewModel:n}=t;this.viewModel=n??(this._defaultViewModel=new No({snappingOptions:i,view:s}))}normalizeCtorArgs(t){const{snappingOptions:e,view:i,viewModel:s,...n}=t;return n}destroy(){this.viewModel!==this._defaultViewModel&&(this._defaultViewModel=Ae(this._defaultViewModel))}loadDependencies(){return Promise.all([be({block:()=>m(()=>import("./index-FCq3E5wa.js"),__vite__mapDeps([112,1,2,3,4,5,6,7,8,9,10,113,15,13,12,11,114,20,21,16,25,17,22,115,0,14,116,117,118,119,19,23,24,26,27]),import.meta.url),button:()=>m(()=>import("./index-D29wkqw7.js"),__vite__mapDeps([188,1,2,3,4,5,6,7,8,9,10,11,12,13,15,23,110,16,108,17]),import.meta.url),input:()=>m(()=>import("./index-DGhz5W-7.js"),__vite__mapDeps([189,11,2,3,4,5,6,7,8,12,13,122,190,191,15,25,14,23,110,16,108,17,123,10]),import.meta.url),list:()=>m(()=>import("./index-CtqPM14C.js"),__vite__mapDeps([192,1,2,3,4,5,6,7,8,9,10,113,15,13,12,14,11,122,190,189,191,25,23,110,16,108,17,123,21,193]),import.meta.url),"list-item":()=>m(()=>import("./index-BWHDjoZ7.js"),__vite__mapDeps([194,11,2,3,4,5,6,7,8,12,13,114,15,20,21,9,16,25,17,22,115,1,10,0,14,116,117,118,119,193,195]),import.meta.url),checkbox:()=>m(()=>import("./index-ouaFIrMX.js"),__vite__mapDeps([196,2,3,4,5,6,7,8,15,12,110,16,25,108,17]),import.meta.url),loader:()=>m(()=>import("./index-Dc_ViufV.js"),__vite__mapDeps([1,2,3,4,5,6,7,8,9,10]),import.meta.url)}),Jt()])}initialize(){this.addHandles(C(()=>this.view?.type==="2d"&&!!this.view.grid,t=>{this.visibleElements.gridControls&&(this.snappingOptions.gridEnabled=t)}))}get _openAndReady(){return this.gridOptionsOpen&&this.snappingOptions.gridEnabled&&this.snappingOptions.enabled}get icon(){return"snap-to-point"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(t){this.viewModel.snappingOptions=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}set viewModel(t){t!==this._get("viewModel")&&(this._defaultViewModel!=null&&this._defaultViewModel===t||(this._defaultViewModel=Ae(this._defaultViewModel)),this._set("viewModel",t))}render(){const{label:t}=this;return d("div",{"aria-label":t,class:this.classes(X.base,mt.widget)},d("div",{class:X.container},this._renderContent()))}_renderContent(){return[this._renderToggles(),this._renderLayerList(),this.view?.type==="2d"&&this.visibleElements.gridControls?this._renderGridOptions():null]}_renderToggles(){const{visibleElements:t,view:e}=this,i=[t.selfEnabledToggle?this._renderSelfEnabledToggle():null,t.featureEnabledToggle?this._renderFeatureEnabledToggle():null,t.gridEnabledToggle&&e?.type==="2d"?this._renderGridEnabledToggle():null].filter(me),s=[t.enabledToggle?this._renderEnabledToggle():null,i.length>0?d("div",{class:X.nestedContainer},i):null].filter(me);return s.length===0?null:d("calcite-block",{class:X.toggleBlock,expanded:!0,heading:t.header?this.label:"",key:"toggle-block",label:this.label},s)}_renderEnabledToggle(){return d(Ie,{checked:this.viewModel.snappingOptions.enabled,disabled:this._enabledToggleDisabled,key:`${this.id}__enabled-toggle`,label:this.messages.enableSnapping,onChange:this._enableSnappingSwitchChange})}_renderSelfEnabledToggle(){return d(Ie,{checked:this.viewModel.snappingOptions.selfEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__self-enabled-toggle`,label:this.messages.geometryGuides,onChange:this._selfEnabledSwitchChange})}_renderFeatureEnabledToggle(){return d(Ie,{checked:this.viewModel.snappingOptions.featureEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__feature-enabled-toggle`,label:this.messages.featureToFeature,onChange:this._featureEnabledSwitchChange})}_renderGridEnabledToggle(){return d(Ie,{checked:this.viewModel.snappingOptions.gridEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__grid-enabled-toggle`,label:this.messages.grid,onChange:this._gridEnabledSwitchChange})}_renderLayerList(){if(!this.visibleElements.layerList)return null;const{messages:t,viewModel:e}=this,i=e.layerListViewModel.operationalItems.length>9?d("calcite-input",{class:X.layerListFilter,clearable:!0,placeholder:t?.searchLayers,onCalciteInputInput:({currentTarget:{value:a}})=>{this._layerListFilter=a===""?null:new RegExp(a,"i")}}):null,s=this._secondaryElementsDisabled,n=this.layerListOpen&&!s,r=e.layerListViewModel.operationalItems?.find(a=>!!a.children.length);return d("calcite-block",{class:X.layerListBlock,collapsible:!0,disabled:this._secondaryElementsDisabled,expanded:n,heading:t.snappingLayers,key:"list-block",onCalciteBlockToggle:a=>this.layerListOpen=a.currentTarget.expanded},i,this._renderToggleLayersButton(),d("calcite-list",{class:X.layerList,displayMode:r?"nested":"flat",label:t?.snappingLayers,selectionMode:"none"},this._renderLayerListItemCollection(e.layerListViewModel.operationalItems)))}_renderGridOptions(){const{view:t,visibleElements:e,snappingManager:i,snappingOptions:s,_openAndReady:n}=this,{gridEnabled:r,enabled:a}=s;(n||t?.type==="2d"&&t.grid)&&this._startLoadGrid();const p=this._gridLoadTask?.value,c=p&&t?.type==="2d"&&d(p,{snappingManager:i,snappingOptions:s,view:t,visibleElements:e.gridControlsElements});return d("calcite-block",{class:X.layerListBlock,collapsible:!0,disabled:!r||!a,expanded:n,heading:this.messages.gridOptionsHeading,key:"grid-block",onCalciteBlockClose:()=>this.gridOptionsOpen=!1,onCalciteBlockOpen:()=>this.gridOptionsOpen=!0},c??d("calcite-loader",{label:this.messagesCommon.loading,scale:"s",text:this.messagesCommon.loading}))}async _startLoadGrid(){!this._gridLoadTask&&this.visibleElements.gridControls&&this.view?.type==="2d"&&(this._gridLoadTask=Kt(async()=>(await m(async()=>{const{default:t}=await import("./GridControls-CbNm8AZD.js");return{default:t}},__vite__mapDeps([197,4,3,5,6,198,199,85,86,2,7,8,82,83,84,45,129,87,88,200,89,42,43,201,79,68,50,51,52,53,202,101,102,186,203,54,69,57,70,71,72,73,74,75,76,77,78,80,59,60,58,81,63,64,44,90,91,92,65,66,67,93,94,95,96,97,98,99,100,204,205,206,207,208,209,210,152,211,212,213,41,46,32,30,31,33,34,35,38,36,47,48,49,40,55,56,61,62,103,104,105,214,158,150,151,215,216,161,217,218,219,220,221,222,187,223,224]),import.meta.url)).default))}_renderLayerListItemCollection(t){const e=this._layerListFilter;return t.map(i=>{switch(e?Je(i,e):null){case"children":{const s=i.children.filter(n=>Je(n,e)!==!1);return this._renderLayerListItemGroup(i,s)}case"self":case null:return this._renderLayerListItemOrGroup(i);case!1:return Je(i.parent,e)==="self"?this._renderLayerListItemOrGroup(i):null}}).toArray().filter(me)}_renderToggleLayersButton(){if(!this.visibleElements.layerListToggleLayersButton)return null;const{viewModel:{allLayersEnabled:t},messages:e}=this,i=t?e.disableAllLayers:e.enableAllLayers;return d("calcite-button",{appearance:"transparent",class:X.layerListButton,label:i,name:"layer-toggle",onclick:this._onToggleLayersButtonClick},i)}_renderLayerListItemOrGroup(t){if(t.children.length)return this._renderLayerListItemGroup(t);const{messages:{untitledLayer:e}}=this,i=t.title||e,s=()=>{this.viewModel.toggleSnappingForLayers([t.layer?.id],t.enabled!=="enabled")};return d("calcite-list-item",{class:X.layerListItem,key:`${this.id}-list-item-${t.uid}`,label:i,onCalciteListItemSelect:n=>{n.stopPropagation(),s()}},d("calcite-checkbox",{checked:t.enabled==="enabled",slot:"actions-start",onCalciteCheckboxChange:s}))}_renderLayerListItemGroup(t,e){const{messages:i}=this,{children:s,title:n}=t,r=n||i.untitledLayer,a=n&&n!==""?n:Li(),p=!!e?.length,c=e??s,h=()=>{this.viewModel.toggleSnappingForLayers(t.childLayerIds,t.enabled!=="enabled")},g=c?.find(y=>!!y.children.length);return d("calcite-list-item",{class:X.layerListGroup,expanded:p,key:a,label:r,onCalciteListItemSelect:y=>{y.stopPropagation(),h()}},d("calcite-checkbox",{checked:t.enabled==="enabled",indeterminate:t.enabled==="indeterminate",slot:"actions-start",onCalciteCheckboxChange:h}),d("calcite-list",{displayMode:g?"nested":"flat",label:i?.snappingLayers,selectionMode:"none"},this._renderLayerListItemCollection(c)))}get _enabledToggleDisabled(){const t=this.snappingOptions;return t.enabledToggled||t.forceDisabled}get _secondaryElementsDisabled(){return this._enabledToggleDisabled||!this.snappingOptions.enabled}};o([l()],I.prototype,"_defaultViewModel",void 0),o([l()],I.prototype,"_layerListFilter",void 0),o([l()],I.prototype,"_gridLoadTask",void 0),o([l()],I.prototype,"_openAndReady",null),o([l()],I.prototype,"label",null),o([l({type:Boolean,nonNullable:!0})],I.prototype,"layerListOpen",void 0),o([l({type:Boolean,nonNullable:!0})],I.prototype,"gridOptionsOpen",void 0),o([l(),ve("esri/widgets/support/SnappingControls/t9n/SnappingControls")],I.prototype,"messages",void 0),o([l(),ve("esri/t9n/common")],I.prototype,"messagesCommon",void 0),o([l()],I.prototype,"snappingOptions",null),o([l()],I.prototype,"snappingManager",void 0),o([l()],I.prototype,"view",null),o([l()],I.prototype,"viewModel",null),o([l({type:it,nonNullable:!0})],I.prototype,"visibleElements",void 0),o([l()],I.prototype,"_enabledToggleDisabled",null),o([l()],I.prototype,"_secondaryElementsDisabled",null),I=o([S("esri.widgets.support.SnappingControls")],I);const Ho=I,de="esri-sketch",se={base:de,vertical:`${de}--vertical`,docked:`${de}-bar`,floating:`${de}-pad`,chipHorizontal:`${de}__selection-count-chip--horizontal`,chipVertical:`${de}__selection-count-chip--vertical`,chipVerticalSmall:`${de}__selection-count-chip--vertical--s`,popoverWrapper:`${de}__popover-wrapper`},zo={point:"pin",polyline:"line",polygon:"polygon",rectangle:"rectangle",circle:"circle",multipoint:"pins",mesh:"i3d-building",freehandPolygon:"freehand-area",freehandPolyline:"freehand"};let v=class extends ae{constructor(t,e){super(t,e),this._activeCustomToolOptions=null,this._selectionToolbar=null,this._viewModelHandlesGroup=null,this.availableCreateTools=["point","polyline","polygon","rectangle","circle"],this.customToolOptions=null,this.customActions=null,this.toolbarKind="floating",this.contextualToolLocation="separate",this.groupCollapsePriorities=null,this.groupAllowCollapseOptions=null,this.messages=null,this.messagesCommon=null,this.visibleElements=new B,this._defaultViewModel=null,this._calcitePopoverReferenceElement=null,this._relativeLocation="top",this._popoverOpen=!1,this._activateCreateTool=this._activateCreateTool.bind(this),this.viewModel=t?.viewModel||(this._defaultViewModel=new Ut({creationMode:t?.creationMode??"continuous"}))}initialize(){const{layer:t,view:e}=this,i=e?.type==="2d",s=new Co({persistSelection:!1,visibleElements:new bt({chip:!1,pan:!1,pointTool:!1,lassoTool:i,rectangleTool:i}),view:e,sources:t?[t]:null,scale:this.scale});this.addHandles([C(()=>this.viewModel,n=>{this._viewModelHandlesGroup=He(this._viewModelHandlesGroup),n&&(this._viewModelHandlesGroup=gt([n.on("create",()=>this.scheduleRender()),n.on("update",()=>this.scheduleRender()),n.on("delete",r=>this.emit("delete",r)),n.on("undo",()=>this.scheduleRender()),n.on("redo",()=>this.scheduleRender()),C(()=>n.layer,r=>{this._selectionToolbar&&(this._selectionToolbar.sources=r?[r]:null)}),C(()=>n.view,r=>{this._selectionToolbar&&(this._selectionToolbar.view=r)}),C(()=>n.state,()=>this.notifyChange("state"))]))},St),Si(()=>s.activeOperation,()=>this.viewModel.cancel()),s.on("complete",n=>this._onSelectionOperationComplete(n)),C(()=>{const{view:n,visibleElements:{selectionTools:r}}=this;return{lassoTool:n?.type!=="3d"&&!!r?.["lasso-selection"],rectangleTool:n?.type!=="3d"&&!!r?.["rectangle-selection"]}},n=>{Object.assign(s.visibleElements,n)},St)]),this._selectionToolbar=s}loadDependencies(){return be({action:()=>m(()=>import("./index-CiSDqz_b.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),import.meta.url),chip:()=>m(()=>import("./index-BNLx-sjz.js"),__vite__mapDeps([106,11,2,3,4,5,6,7,8,12,13,15,17,16,25,10]),import.meta.url),popover:()=>m(()=>import("./index-5RsffKvR.js").then(t=>t.i),__vite__mapDeps([19,1,2,3,4,5,6,7,8,9,10,11,12,13,0,14,15,16,17,20,21,22,23,24,25]),import.meta.url)})}destroy(){this._selectionToolbar?.destroy(),this._viewModelHandlesGroup=He(this._viewModelHandlesGroup)}get activeTool(){const t=this._selectionToolbar?.activeOperation;if(t)switch(t.toolName){case"lasso":return"lasso-selection";case"rectangle":return"rectangle-selection";case"default":return"custom-selection"}const e=this._effectiveAvailableCreateTools,{activeTool:i,activeCreateToolDrawMode:s}=this.viewModel;return i==="polygon"&&s==="freehand"&&e?.includes("freehandPolygon")?"freehandPolygon":i==="polyline"&&s==="freehand"&&e?.includes("freehandPolyline")?"freehandPolyline":this.viewModel.activeTool}get activeTooltip(){return this.viewModel.activeTooltip}get createGraphic(){return this.viewModel.createGraphic}get creationMode(){return this.viewModel.creationMode}set creationMode(t){this.viewModel.creationMode=t}get defaultCreateOptions(){return this.viewModel.defaultCreateOptions}set defaultCreateOptions(t){this.viewModel.defaultCreateOptions=t}get defaultUpdateOptions(){return this.viewModel.defaultUpdateOptions}set defaultUpdateOptions(t){this.viewModel.defaultUpdateOptions=t}get icon(){return"pencil"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get labelOptions(){return this.viewModel.labelOptions}set labelOptions(t){this.viewModel.labelOptions=t}get layer(){return this.viewModel.layer}set layer(t){this.viewModel.layer=t}set layout(t){this._set("layout",t),this._selectionToolbar&&(this._selectionToolbar.layout=t)}set scale(t){this._set("scale",t),this._selectionToolbar&&(this._selectionToolbar.scale=t)}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(t){this.viewModel.snappingOptions=t}get state(){return this._selectionToolbar?.activeOperation?"active":this.viewModel.state}get tooltipOptions(){return this.viewModel.tooltipOptions}set tooltipOptions(t){this.viewModel.tooltipOptions=t}get updateGraphics(){return this.viewModel.updateGraphics}get valueOptions(){return this.viewModel.valueOptions}set valueOptions(t){this.viewModel.valueOptions=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}set viewModel(t){const e=this._get("viewModel");t!==e&&(e&&e===this._defaultViewModel&&Ae(e),this._set("viewModel",t))}get _effectiveAvailableCreateTools(){const{availableCreateTools:t,view:e,visibleElements:i}=this,s=t?.filter(n=>!!i.createTools?.[n]);return e?.type==="3d"?s?.filter(n=>n!=="multipoint"):s}create(t,e,i){const s=i?.createOptions??e;return this._activeCustomToolOptions=i,Ze(this.viewModel.create(t,s))}update(t,e){return Ze(this.viewModel.update(t,e))}complete(){this.viewModel.complete()}cancel(){this._selectionToolbar?.cancel(),this.viewModel.cancel(),this._activeCustomToolOptions=null}undo(){this.viewModel.undo(),this.view?.focus()}redo(){this.viewModel.redo(),this.view?.focus()}delete(){this.viewModel.delete()}duplicate(){return this.viewModel.duplicate()}dismissFloatingElements(){this._popoverOpen=!1}render(){const{toolbarKind:t,layout:e,scale:i}=this,s=this.customActions?.filter(n=>n.position==="selection-toolbar");return d("div",null,d("div",{classes:{[se.base]:!0,[se.floating]:t==="floating",[se.docked]:t==="docked",[se.vertical]:e==="vertical"}},d(ie,{barStyle:t,layout:e,scale:i},this._renderSelectionSetItemGroupInline(),d("div",{"allow-collapse":this.groupAllowCollapseOptions?.get("selectionTools")??!0,"group-kind":"split-button",key:"selection-split-button",priority:this.groupCollapsePriorities?.get("selectionTools")??Ge.Low},this._renderDefaultSelectionButton(),this._selectionToolbar?.render(),s?.map(n=>this._renderToolbarItem(n))),this._renderCreateToolActionGroup(),this._renderUndoRedoMenuItemGroup(),this._renderSettingsMenuItemGroup()),this._renderSelectionSetToolbar(),this._renderSettingsMenuPopover()))}_renderSettingsMenuPopover(){const{messagesCommon:t,snappingOptions:e,view:i,viewModel:s,visibleElements:n}=this;if(!this._calcitePopoverReferenceElement)return;const r={directionModePicker:n.directionModePicker,labelsToggle:n.labelsToggle,tooltipsToggle:n.tooltipsToggle},a=this.layout==="horizontal"?this._relativeLocation==="top"?"bottom-end":"top-end":"right-end";return d("calcite-popover",{closable:!0,focusTrapDisabled:!0,heading:t.settings,label:t.settings,open:this._popoverOpen,overlayPositioning:"fixed",placement:a,referenceElement:this._calcitePopoverReferenceElement,scale:this.scale,onCalcitePopoverBeforeClose:()=>this._popoverOpen=!1,onCalcitePopoverBeforeOpen:p=>this._remeasurePopoverSizes(p.currentTarget),onCalcitePopoverClose:()=>this._refocusOnView()},d("div",{class:se.popoverWrapper},Object.values(r).includes(!0)?d(So,{sketchOptions:s.sketchOptions,viewType:i?.type,visibleElements:new wt(r)}):void 0,n.snappingControls&&i&&e?d(Ho,{snappingManager:this.viewModel.snappingManager,snappingOptions:e,view:i,visibleElements:n.snappingControlsElements}):void 0))}_renderSelectionSetToolbar(){if(this.contextualToolLocation!=="separate")return;const t=this._renderSelectionSetItemGroup();return t?.length?d(ie,{barStyle:this.toolbarKind,layout:this.layout,scale:this.scale},t):void 0}_renderSelectionSetItemGroupInline(){return this.contextualToolLocation==="separate"?[]:this._renderSelectionSetItemGroup()}_renderUndoRedoMenuItemGroup(){return d("div",{"allow-collapse":this.groupAllowCollapseOptions?.get("undoRedo")??!0,"group-kind":"split-button",key:"undo-redo-menu",priority:this.groupCollapsePriorities?.get("undoRedo")??Ge.Medium,slot:"actions-end"},this._renderUndoButton(),this._renderRedoButton())}_renderSettingsMenuItemGroup(){const t=[],e=[];this.customActions?.forEach(s=>{s.position==="settings-before"?e.push(s):s.position==="settings-after"&&t.push(s)});const i=[...e.map(s=>this._renderToolbarItem(s)),this._renderSettingsMenuButton(),...t.map(s=>this._renderToolbarItem(s))].filter(me);if(i.length)return d("div",{"allow-collapse":this.groupAllowCollapseOptions?.get("settings")??!1,"group-kind":"overflow-group",key:"settings-menu",priority:this.groupCollapsePriorities?.get("settings")??Ge.Max,slot:"actions-end"},i)}_renderSelectionSetItemGroup(){if(!this.updateGraphics.length)return[];const t=this.contextualToolLocation==="inline-end"?"actions-end":void 0,e=this.customActions?.filter(n=>n.position==="before-selection-set"),i=this.customActions?.filter(n=>n.position==="after-selection-set"),s=this.groupCollapsePriorities?.get("selectionSet")??Ge.High;return[d("div",{"group-kind":"measured-content",key:"selection-count-chip-group",priority:s,slot:t},this._renderFeatureCountChip()),d("div",{"allow-collapse":this.groupAllowCollapseOptions?.get("selectionSet")??!1,"group-kind":"overflow-group",key:"selection-set-tool-group",priority:s,slot:t},e?.map(n=>this._renderToolbarItem(n)),this._renderDuplicateButton(),this._renderDeleteButton(),i?.map(n=>this._renderToolbarItem(n)))]}_renderDefaultSelectionButton(){if(!this.viewModel.updateOnGraphicClick)return[];const{messages:t,state:e}=this;return this._renderToolbarItem({id:"pointer-select",text:t.selectFeature,icon:"cursor",onclick:this._activateDefaultSelectTool,active:e==="ready"})}_renderCreateToolActionGroup(){const t=this._effectiveAvailableCreateTools?.flatMap(i=>this._renderBuiltInCreateToolItem(i))??[],e=this.customToolOptions?.flatMap(i=>this._renderCustomToolItem(i))??[];return d("div",{"allow-collapse":this.groupAllowCollapseOptions?.get("createTools")??!0,"group-kind":"overflow-group",key:"create-tools-group",priority:this.groupCollapsePriorities?.get("createTools")??Ge.High},t,e)}_renderBuiltInCreateToolItem(t){return this._renderToolbarItem({id:`${t}-button`,text:this.messages.draw[t],icon:zo[t],onclick:()=>this._activateCreateTool(t),active:this.activeTool===t&&!this._activeCustomToolOptions})}_renderCustomToolItem(t){const{toolKey:e}=t;return this._renderToolbarItem({id:`custom-${t.toolKey}`,text:t.label,icon:t.icon,onclick:()=>this._activateCreateTool(t.toolName,null,t),active:this._activeCustomToolOptions?.toolKey===e})}_renderUndoButton(){return this.visibleElements.undoRedoMenu?this._renderToolbarItem({id:"undo-button",text:this.messages.undo,icon:"undo",disabled:!this.viewModel.canUndo(),onclick:this.undo,flipRTL:!0}):[]}_renderRedoButton(){return this.visibleElements.undoRedoMenu?this._renderToolbarItem({id:"redo-button",text:this.messages.redo,icon:"redo",disabled:!this.viewModel.canRedo(),onclick:this.redo,flipRTL:!0}):[]}_renderSettingsMenuButton(){return this.visibleElements.settingsMenu?this._renderToolbarItem({id:"settings-menu-action",text:this.messagesCommon.settings,icon:"gear",active:this._popoverOpen,onclick:()=>this._popoverOpen=!this._popoverOpen,afterCreate:t=>this._calcitePopoverReferenceElement=t,afterUpdate:t=>this._calcitePopoverReferenceElement=t,afterRemoved:()=>this._calcitePopoverReferenceElement=null}):[]}_renderFeatureCountChip(){if(!this.visibleElements.selectionCountLabel)return[];const{layout:t,messages:e,scale:i,id:s,updateGraphics:{length:n}}=this,r=At(e.selectedCount,{count:n}),a=i==="s"?99:999,p=n>a?At(e.selectedCountTruncated,{truncated:a}):n,c=i==="s"&&t==="vertical",h=c?`${s}-selection-chip-small`:`${s}-selection-chip`;return[c?d("span",{classes:{[se.chipVertical]:!0,[se.chipVerticalSmall]:this.scale==="s"},id:h,tabIndex:0,title:r},p):d("calcite-chip",{appearance:"outline",class:t==="horizontal"?se.chipHorizontal:se.chipVertical,id:h,kind:"brand",label:r,scale:i==="l"?"m":"s",tabIndex:0,title:t==="vertical"?r:void 0},t==="vertical"?p:r)]}_renderDuplicateButton(){if(!this.visibleElements.duplicateButton)return[];const{messages:t}=this;return this._renderToolbarItem({id:"duplicate",text:this.updateGraphics.length>1?t.duplicateFeatures:t.duplicateFeature,icon:"copy",onclick:this._onDuplicateSelect})}_renderDeleteButton(){if(!this.visibleElements.deleteButton)return[];const{messages:t}=this,e=this.updateGraphics.length>1?t.deleteFeatures:t.deleteFeature;return this._renderToolbarItem({id:"delete",text:e,icon:"trash",onclick:this.delete})}_renderToolbarItem({id:t,text:e,icon:i,disabled:s,onclick:n,active:r,flipRTL:a,afterCreate:p,afterUpdate:c,afterRemoved:h}){const g=`${this.id}-${t}`;return[d("calcite-action",{active:r,afterCreate:p,afterRemoved:h,afterUpdate:c,bind:this,"data-testid":t,disabled:s||this.state==="disabled",icon:i,iconFlipRtl:a??!1,id:g,key:t,onclick:n,scale:this.scale,text:e,title:e})]}_remeasurePopoverSizes(t){try{const e=t.parentElement,i=this?.view?.container?.getBoundingClientRect(),s=e?.style;if(!(e&&i&&s&&this.view?.container?.contains(e)))return;const n=this._calcitePopoverReferenceElement;if(!n)return;const{bottom:r,top:a}=n.getBoundingClientRect();if(this.layout==="horizontal"){const c=r<i.height/2;c!==(this._relativeLocation==="top")&&(this._relativeLocation=c?"top":"bottom"),c?(s?.setProperty("--sketch-view-height-offset",r-i.top+"px"),s?.setProperty("--sketch-view-margin-offset","30px")):(s?.setProperty("--sketch-view-height-offset",i.bottom-a+"px"),s?.setProperty("--sketch-view-margin-offset","15px"))}else this.layout==="vertical"&&(s.setProperty("--sketch-view-height-offset","15px"),s.setProperty("--sketch-view-margin-offset","15px"));const p=t.shadowRoot?.querySelector("div.header")?.getBoundingClientRect().height;s.setProperty("--sketch-popover-header-offset",`${p}px`)}catch(e){ye.getLogger(this.declaredClass).warnOnce("Sketch failed to lay out settings menu.",e)}}_activateCreateTool(t,e,i){const s=this._activeCustomToolOptions;if(i||s){if(i?.toolKey===s?.toolKey)return void this.cancel()}else if(this.activeTool===t)return void this.cancel();this._selectionToolbar?.cancel(),this.create(t,e,i)}_onDuplicateSelect(){const t=this.duplicate(),e=this.viewModel.activeTool;e!=="transform"&&e!=="reshape"||this.update(t,{tool:e})}_onSelectionOperationComplete(t){const{viewModel:{defaultUpdateOptions:e}}=this,{selection:i}=t;if(!t.aborted&&i.length){const s=e.tool,n=i.length>1&&s==="reshape"?"transform":s;this.update(i,{...e,tool:n})}this.notifyChange("state")}_activateDefaultSelectTool(){this.cancel(),this.view?.focus()}_refocusOnView(){this.activeTool&&this.view?.focus()}};o([l()],v.prototype,"_activeCustomToolOptions",void 0),o([l()],v.prototype,"activeTool",null),o([l({readOnly:!0})],v.prototype,"activeTooltip",null),o([l({cast:t=>{if(!t?.length)return null;const e=new Set(["point","polyline","polygon","rectangle","circle","multipoint","freehandPolyline","freehandPolygon","mesh"]);return t.filter(i=>e.has(i))}})],v.prototype,"availableCreateTools",void 0),o([l({readOnly:!0})],v.prototype,"createGraphic",null),o([l()],v.prototype,"creationMode",null),o([l()],v.prototype,"customToolOptions",void 0),o([l()],v.prototype,"customActions",void 0),o([l()],v.prototype,"defaultCreateOptions",null),o([l()],v.prototype,"defaultUpdateOptions",null),o([l()],v.prototype,"icon",null),o([l()],v.prototype,"label",null),o([l()],v.prototype,"labelOptions",null),o([l()],v.prototype,"layer",null),o([l({type:["horizontal","vertical"],value:"horizontal"})],v.prototype,"layout",null),o([l({value:"m"})],v.prototype,"scale",null),o([l()],v.prototype,"toolbarKind",void 0),o([l()],v.prototype,"contextualToolLocation",void 0),o([l()],v.prototype,"groupCollapsePriorities",void 0),o([l()],v.prototype,"groupAllowCollapseOptions",void 0),o([l(),ve("esri/widgets/Sketch/t9n/Sketch")],v.prototype,"messages",void 0),o([l(),ve("esri/t9n/common")],v.prototype,"messagesCommon",void 0),o([l()],v.prototype,"snappingOptions",null),o([l()],v.prototype,"state",null),o([l()],v.prototype,"tooltipOptions",null),o([l({readOnly:!0})],v.prototype,"updateGraphics",null),o([l({type:so,nonNullable:!0})],v.prototype,"valueOptions",null),o([l()],v.prototype,"view",null),o([l({type:Ut}),po(["create","update","undo","redo"])],v.prototype,"viewModel",null),o([l({type:B,nonNullable:!0})],v.prototype,"visibleElements",void 0),o([l()],v.prototype,"_effectiveAvailableCreateTools",null),o([l()],v.prototype,"_defaultViewModel",void 0),o([l()],v.prototype,"_calcitePopoverReferenceElement",void 0),o([l()],v.prototype,"_relativeLocation",void 0),o([l()],v.prototype,"_popoverOpen",void 0),v=o([S("esri.widgets.Sketch")],v);const Uo=v;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.17 */const Wo=(t,e)=>i=>jo(i,t);class Ko extends ki{#i=new Map;#e;#t;constructor(e,i){super(e,i),new Pi(e);const s=this,n=s.instance;let r=n.viewModel,a=n.visibleElements;const p=new Proxy(this.exports,{get(c,h,g){return h==="viewModel"?r:h==="visibleElements"?a:Reflect.get(c,h,g)}});if(s.#t=n,s.instance=p,s.exports=p,r){const c={component:e,get exports(){return s.instance.viewModel}};$i(s).set("viewModel","viewModel"),e.addController(c),r=Ii(e,new WeakRef(c),Ai(e)-1,r,s.#i)}s.instance.visibleElements&&(a=s.#o(n))}hostConnected(){this.instance=this.#t,super.hostConnected()}hostLoad(){this.#e=C(()=>this.component.el.view,e=>{const i=this.instance;!("view"in i)&&typeof i.viewModel=="object"?i.viewModel.view=e:i.view=e,!("map"in i)&&typeof i.viewModel=="object"?i.viewModel.map=e?.map:i.map=e?.map},{sync:!0,initial:!0})}hostUpdate(e){e.has("closed")&&(this.instance.visible=!this.component.closed)}hostLoaded(){const{el:e}=this.component;e.childElem??=document.createElement("div"),this.instance.container=e.childElem,this.component.closed!==void 0&&this.onLifecycle(()=>C(()=>this.instance.visible,i=>this.component.closed=!i,{initial:!0}))}#o(e){return new Proxy(e.visibleElements,{get:(i,s)=>{if(typeof s=="symbol"||s in Promise.prototype)return i[s];const n=[s],r=this.#s(n);return Di(this.component,a=>{const p=a;this.component[p]=!1;let c=e.visibleElements??{},h;for(const y of n.slice(0,-1))if(typeof c[y]=="object"&&c[y]!==null)c=c[y];else{h=!!c[y];break}h===void 0&&(h=!!(c[n.slice(-1)[0]]??!0));const g=p.startsWith("hide")||p.startsWith("show")?p.startsWith("hide"):h;this.onUpdate(y=>{if(y.has(p)){const w=this.component[p];this.#l(n,w,g)}})},r)}})}#s(e){const i=new Proxy({},{get:(s,n)=>{const r=Reflect.get(s,n);return typeof n=="symbol"||n in Promise.prototype?r:(e.push(n),i)}});return i}#l(e,i,s){let n=this.instance.visibleElements??{};for(const a of e.slice(0,-1))(typeof n[a]!="object"||n[a]===null)&&(n[a]={}),n=n[a];const r=!!(s?!i:i);n[e.at(-1)]=r}hostDestroy(){this.#e?.remove(),super.hostDestroy()}}const jo=Oi(Ko);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.17 */const qo=Ri`@layer{arcgis-sketch{display:block}}`,Yo=Wo(Uo);class Qo extends xi{constructor(){super(),this.widget=Yo(this),this.viewModel=this.widget.viewModel,this._defaultGraphicsLayer=null,this.activeTool=this.widget.activeTool,this.autoDestroyDisabled=!1,this.availableCreateTools=this.widget.availableCreateTools,this.createGraphic=this.widget.createGraphic,this.creationMode=this.widget.creationMode,this.defaultCreateOptions=this.widget.defaultCreateOptions,this.defaultGraphicsLayerDisabled=!1,this.defaultUpdateOptions=this.widget.defaultUpdateOptions,this.hideCreateToolsCircle=this.widget.visibleElements.createTools.circle,this.hideCreateToolsPoint=this.widget.visibleElements.createTools.point,this.hideCreateToolsPolygon=this.widget.visibleElements.createTools.polygon,this.hideCreateToolsPolyline=this.widget.visibleElements.createTools.polyline,this.hideCreateToolsRectangle=this.widget.visibleElements.createTools.rectangle,this.hideDuplicateButton=this.widget.visibleElements.duplicateButton,this.hideDeleteButton=this.widget.visibleElements.deleteButton,this.hideSelectionCountLabel=this.widget.visibleElements.selectionCountLabel,this.hideLabelsToggle=this.widget.visibleElements.labelsToggle,this.hideSelectionToolsLassoSelection=this.widget.visibleElements.selectionTools["lasso-selection"],this.hideSelectionToolsRectangleSelection=this.widget.visibleElements.selectionTools["rectangle-selection"],this.hideSettingsMenu=this.widget.visibleElements.settingsMenu,this.hideSnappingControls=this.widget.visibleElements.snappingControls,this.hideSnappingControlsElementsEnabledToggle=this.widget.visibleElements.snappingControlsElements.enabledToggle,this.hideSnappingControlsElementsFeatureEnabledToggle=this.widget.visibleElements.snappingControlsElements.featureEnabledToggle,this.hideSnappingControlsElementsLayerList=this.widget.visibleElements.snappingControlsElements.layerList,this.hideSnappingControlsElementsSelfEnabledToggle=this.widget.visibleElements.snappingControlsElements.selfEnabledToggle,this.hideTooltipsToggle=this.widget.visibleElements.tooltipsToggle,this.hideUndoRedoMenu=this.widget.visibleElements.undoRedoMenu,this.icon=this.widget.icon,this.label=this.widget.label,this.labelOptions=this.widget.labelOptions,this.layer=this.widget.layer,this.layout=this.widget.layout,this.pointSymbol=this.viewModel.pointSymbol,this.polygonSymbol=this.viewModel.polygonSymbol,this.polylineSymbol=this.viewModel.polylineSymbol,this.position="bottom-left",this.scale=this.widget.scale,this.toolbarKind=this.widget.toolbarKind,this.showSnappingControlsElementsHeader=this.widget.visibleElements.snappingControlsElements.header,this.snappingOptions=this.widget.snappingOptions,this.state=this.widget.state,this.tooltipOptions=this.widget.tooltipOptions,this.updateGraphics=this.widget.updateGraphics,this.arcgisCreate=Ve(()=>this.widget,"create"),this.arcgisDelete=Ve(()=>this.widget,"delete"),this.arcgisPropertyChange=Vi()("state"),this.arcgisReady=Gi(),this.arcgisRedo=Ve(()=>this.widget,"redo"),this.arcgisUndo=Ve(()=>this.widget,"undo"),this.arcgisUpdate=Ve(()=>this.widget,"update"),this.listen("arcgisReady",this._arcgisReadyHandler)}static{this.properties={activeTool:3,autoDestroyDisabled:5,availableCreateTools:0,createGraphic:0,creationMode:1,defaultCreateOptions:0,defaultGraphicsLayerDisabled:5,defaultUpdateOptions:0,hideCreateToolsCircle:5,hideCreateToolsPoint:5,hideCreateToolsPolygon:5,hideCreateToolsPolyline:5,hideCreateToolsRectangle:5,hideDuplicateButton:5,hideDeleteButton:5,hideSelectionCountLabel:5,hideLabelsToggle:5,hideSelectionToolsLassoSelection:5,hideSelectionToolsRectangleSelection:5,hideSettingsMenu:5,hideSnappingControls:5,hideSnappingControlsElementsEnabledToggle:5,hideSnappingControlsElementsFeatureEnabledToggle:5,hideSnappingControlsElementsLayerList:5,hideSnappingControlsElementsSelfEnabledToggle:5,hideTooltipsToggle:5,hideUndoRedoMenu:5,icon:1,label:1,labelOptions:0,layer:0,layout:1,pointSymbol:0,polygonSymbol:0,polylineSymbol:0,position:1,referenceElement:1,scale:1,toolbarKind:1,showSnappingControlsElementsHeader:5,snappingOptions:0,state:3,tooltipOptions:0,updateGraphics:0}}static{this.shadowRootOptions=Fi}static{this.styles=qo}async cancel(){this.widget?.cancel()}async complete(){this.widget?.complete()}async create(e,i){await this.widget?.create(e,i)}async delete(){this.widget?.delete()}async destroy(){await this.manager.destroy()}async duplicate(){this.widget?.duplicate()}async redo(){this.widget?.redo()}async triggerUpdate(e,i){this.widget?.update(e,i)}async undo(){this.widget?.undo()}_arcgisReadyHandler(){this.defaultGraphicsLayerDisabled||(this._defaultGraphicsLayer=new eo({title:"Sketch Layer"}),this.widget.layer=this._defaultGraphicsLayer,this.el.view?.map?.add(this.widget.layer),this.manager.onLifecycle(()=>C(()=>this.el.view?.map,(e,i)=>{if(this.widget.layer!==this._defaultGraphicsLayer)return;const s=this._defaultGraphicsLayer;i?.allLayers.includes(s)&&i.allLayers.remove(s),e?.add(s)})),this.manager.onDestroy(()=>{this._defaultGraphicsLayer&&this.el.view?.map?.allLayers.includes(this._defaultGraphicsLayer)&&this.el.view?.map?.remove(this._defaultGraphicsLayer),this._defaultGraphicsLayer?.destroy(),this._defaultGraphicsLayer=null}))}}Bi("arcgis-sketch",Qo);const Xe="RampDrawGraphicsLayer",Jo=Ni({__name:"draw",setup(t){const{t:e}=Hi(),i=u=>e(u?`draw.${u}`:"draw.unknown"),s=Ki("iApi"),n=yt();let r=null;const a=zi("sketchEl");let p=null,c=null,h=null,g=null,y=!1,w=null,T=[];const we=Ui([]),ce=u=>{if(g&&(c?.remove(g),g=null),!u)return;let b;switch(u.geometry?.type){case"point":case"multipoint":b=new Ji({color:[255,255,0,.8],size:16,outline:{color:[255,165,0,1],width:3}});break;case"polyline":b=new kt({color:[255,255,0,.8],width:6});break;default:b=new Ue({color:[255,255,0,.3],outline:{color:[255,165,0,1],width:3}})}g=new _e({geometry:u.geometry,symbol:b}),c?.add(g)};Ot(()=>n.selectedGraphicId,(u,b)=>{if(!(!r||!c)){if(!u)r.cancel(),ce();else if(u!==b){const k=c.graphics.toArray().find($=>$.attributes&&$.attributes.id===u);k&&(r.triggerUpdate([k]),ce(k))}}});const oi=async()=>{if(!c||!r||n.activeTool!=="edit")return;await s.geo.map.viewPromise;const u=s.geo.map.esriView,b={x:u.width/2,y:u.height/2},M={x:b.x,y:b.y,width:20,height:20},$=(await u.hitTest(M)).results.filter(A=>!("graphic"in A)||A.graphic.layer!==c?!1:!!A.graphic.attributes?.id);$.length>0?(h=$[0].graphic,r.triggerUpdate([h]),h.attributes?.id&&n.selectGraphic(h.attributes.id),s.updateAlert(e("draw.graphic.selected",{type:i(h.attributes?.type)}))):(r.cancel(),h=null,n.clearSelection())},si=async()=>{if(!r||!n.activeTool)return;await s.geo.map.viewPromise;const u=s.geo.map.esriView,b={x:Math.floor(u.width/2),y:Math.floor(u.height/2)},M=u.toMap(b),k=u.extent,$=k.width,A=k.height,pe=Math.min($,A)/10;let N;switch(n.activeTool){case"point":N=new _e({geometry:new Ye({x:M.x,y:M.y,spatialReference:u.spatialReference}),symbol:r.pointSymbol});break;case"polyline":N=new _e({geometry:new Te({paths:[[[M.x-pe/2,M.y],[M.x+pe/2,M.y]]],spatialReference:u.spatialReference}),symbol:r.polylineSymbol});break;case"polygon":case"rectangle":const R=pe/2;N=new _e({geometry:new le({rings:[[[M.x-R,M.y-R],[M.x+R,M.y-R],[M.x+R,M.y+R],[M.x-R,M.y+R],[M.x-R,M.y-R]]],spatialReference:u.spatialReference}),symbol:r.polygonSymbol||new Ue({color:[0,255,0,.3],outline:{color:[0,255,0,1],width:1}})});break;case"circle":const E=pe/2,L=36,ke=[];for(let Pe=0;Pe<=L;Pe++){const $e=Pe/L*2*Math.PI,De=M.x+E*Math.cos($e),x=M.y+E*Math.sin($e);ke.push([De,x])}N=new _e({geometry:new le({rings:[ke],spatialReference:u.spatialReference}),symbol:r.polygonSymbol||new Ue({color:[255,0,255,.3],outline:{color:[255,0,255,1],width:1}})});break;default:console.warn("Unknown tool type:",n.activeTool);return}if(N){const R=`graphic-${Date.now()}`;N.attributes={id:R,type:n.activeTool},c?.add(N),n.addGraphic({id:R,type:n.activeTool,geometry:N.geometry,attributes:N.attributes}),n.activeTool!=="point"&&(n.clearSelection(),n.setActiveTool(null),r.cancel()),s.updateAlert(e("draw.graphic.created",{type:i(n.activeTool)}))}},Mt=u=>{const b=s.geo.map.esriView?.container;if(!(!document.activeElement||!b?.contains(document.activeElement)))switch(u.key){case"Enter":if(u.preventDefault(),n.activeTool&&n.activeTool!=="edit")if((n.activeTool==="polyline"||n.activeTool==="polygon")&&(y||T.length===0)){const k=s.geo.map.esriView,$={x:Math.floor(k.width/2),y:Math.floor(k.height/2)},A=k.toMap($);y?(T.push([A.x,A.y]),n.activeTool==="polyline"?w.geometry=new Te({paths:[T],spatialReference:k.spatialReference}):w.geometry=new le({rings:[T],spatialReference:k.spatialReference}),s.updateAlert(e("draw.multiPoint.pointAdded",{type:i(n.activeTool),count:T.length}))):(y=!0,T=[[A.x,A.y]],n.activeTool==="polyline"?w=new _e({geometry:new Te({paths:[T],spatialReference:k.spatialReference}),symbol:r?.polylineSymbol||new kt({color:[0,0,255,1],width:2})}):w=new _e({geometry:new le({rings:[T],spatialReference:k.spatialReference}),symbol:r?.polygonSymbol||new Ue({color:[0,255,0,.3],outline:{color:[0,255,0,1],width:1}})}),w.attributes={id:`temp-graphic-${Date.now()}`,type:n.activeTool},c?.add(w),s.updateAlert(e("draw.multiPoint.started",{type:i(n.activeTool),count:1})))}else si();else oi();break;case"Delete":case"Backspace":const M=s.geo.map.esriView;y&&T.length>1?(u.preventDefault(),T.pop(),n.activeTool==="polyline"?w.geometry=new Te({paths:[T],spatialReference:M.spatialReference}):w.geometry=new le({rings:[T],spatialReference:M.spatialReference}),w.set("geometry",w?.geometry),s.updateAlert(e("draw.multiPoint.pointRemoved",{type:i(n.activeTool??void 0),count:T.length}))):y&&T.length===1?(u.preventDefault(),w&&c?.remove(w),w=null,T=[],y=!1,s.updateAlert(e("draw.multiPoint.canceled"))):h&&(u.preventDefault(),r?.delete(),c?.remove(h),typeof n.removeGraphic=="function"&&n.removeGraphic(h.attributes.id),h=null,ce(void 0),s.updateAlert(e("draw.graphic.deleted")));break;case"Escape":n.setActiveTool(null),r?.cancel(),h=null,ce(void 0),n.clearSelection(),s.updateAlert(e("draw.tool.canceled"));break}},Et=u=>{const b=s.geo.map.esriView.container;if(!document.activeElement||!b?.contains(document.activeElement)||!h||!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(u.key))return;u.preventDefault(),u.stopPropagation();const k=10,$=u.shiftKey,A=u.altKey,pe=s.geo.map.esriView;let N=0,R=0;u.key==="ArrowLeft"&&(N=-k),u.key==="ArrowRight"&&(N=k),u.key==="ArrowUp"&&(R=-k),u.key==="ArrowDown"&&(R=k);const E=h.geometry;let L;if(E.type==="point")L={x:E.x,y:E.y};else{const G=E.extent;L={x:(G.xmin+G.xmax)/2,y:(G.ymin+G.ymax)/2}}const ke=pe.toScreen(new Ye({x:L.x,y:L.y,spatialReference:pe.spatialReference}));ke.x+=N,ke.y+=R;const Pe=pe.toMap(ke),$e=Pe.x-L.x,De=Pe.y-L.y;let x;if(E.type==="point")!$&&!A?x=new Ye({x:E.x+$e,y:E.y+De,spatialReference:E.spatialReference}):$?(x=E.clone(),s.updateAlert(e("draw.point.resize.unsupported"))):A&&(x=E.clone(),s.updateAlert(e("draw.point.rotate.unsupported")));else if(E.type==="polyline"){if(!$&&!A){const V=E.paths.map(H=>H.map(([z,q])=>[z+$e,q+De]));x=new Te({paths:V,spatialReference:E.spatialReference})}else if($){const G=E,V=u.key==="ArrowUp"||u.key==="ArrowRight"?1.05:.95,H=G.paths.map(z=>z.map(([q,fe])=>[L.x+(q-L.x)*V,L.y+(fe-L.y)*V]));x=new Te({paths:H,spatialReference:E.spatialReference})}else if(A){const G=E,V=u.key==="ArrowLeft"?-.05:u.key==="ArrowRight"?.05:0;if(V!==0){const H=Math.cos(V),z=Math.sin(V),q=G.paths.map(fe=>fe.map(([ot,st])=>{const Re=ot-L.x,xe=st-L.y,lt=Re*H-xe*z,nt=Re*z+xe*H;return[L.x+lt,L.y+nt]}));x=new Te({paths:q,spatialReference:E.spatialReference})}else x=E.clone()}}else if(E.type==="polygon"){if(!$&&!A){const V=E.rings.map(H=>H.map(([z,q])=>[z+$e,q+De]));x=new le({rings:V,spatialReference:E.spatialReference})}else if($){const G=E,V=u.key==="ArrowUp"||u.key==="ArrowRight"?1.05:.95,H=G.rings.map(z=>z.map(([q,fe])=>[L.x+(q-L.x)*V,L.y+(fe-L.y)*V]));x=new le({rings:H,spatialReference:E.spatialReference})}else if(A){const G=E,V=u.key==="ArrowLeft"?-.05:u.key==="ArrowRight"?.05:0;if(V!==0){const H=Math.cos(V),z=Math.sin(V),q=G.rings.map(fe=>fe.map(([ot,st])=>{const Re=ot-L.x,xe=st-L.y,lt=Re*H-xe*z,nt=Re*z+xe*H;return[L.x+lt,L.y+nt]}));x=new le({rings:q,spatialReference:E.spatialReference})}else x=E.clone()}}if(x){h.geometry=x,h.set("geometry",x),ce(h),h.attributes?.id&&n.updateGraphicGeometry(h.attributes.id,x);const G=$?"resized":A?"rotated":"moved";s.updateAlert(e(`draw.graphic.${G}`))}},li=async u=>{const k=(await s.geo.map.esriView.hitTest(u)).results.find($=>"graphic"in $&&$.graphic.layer===c&&!!$.graphic.attributes?.id);k&&n.activeTool==="edit"?r?.triggerUpdate([k.graphic]):(r?.cancel(),h=null,n.clearSelection(),ce())},ni=async()=>{await s.geo.map.viewPromise,s.geo.layer.getLayer(Xe)?c=s.geo.layer.getLayer(Xe).esriLayer:(c=s.geo.layer.createLayer({id:Xe,layerType:Qi.GRAPHIC,cosmetic:!0,system:!0,url:""}),await s.geo.map.addLayer(c)),c?.esriLayer&&(c=c.esriLayer),Object.assign(a.value,{view:s.geo.map.esriView,layer:c,availableCreateTools:["point","multipoint","polyline","polygon","rectangle","circle"],updateOnGraphicClick:!0,visibleElements:{createTools:{point:!0,polyline:!0,polygon:!0,rectangle:!0,circle:!0},selectionTools:{enable:!0},settingsMenu:!1},defaultUpdateOptions:{highlightOptions:{enabled:!1}}}),s.geo.map.esriView.ui.add(a.value,"bottom-right"),a.value?.addEventListener("arcgisCreate",u=>Lt(u.detail)),a.value?.addEventListener("arcgisUpdate",u=>ri(u.detail)),p={remove:()=>a.value?.removeEventListener("arcgisCreate",u=>Lt(u.detail))},r=a.value,s.geo.map.esriView.on("click",li),document.addEventListener("keydown",Mt),document.addEventListener("keydown",Et,{capture:!0})},Ct=()=>{r&&(s.geo.map.esriView&&s.geo.map.esriView.ui.remove(r),p&&p.remove(),r.destroy()),document.removeEventListener("keydown",Mt),document.removeEventListener("keydown",Et,{capture:!0}),y=!1,w=null,T=[],r=null,c=null},Lt=u=>{if(u.state==="complete"){const b=u.graphic,M=`graphic-${Date.now()}`;b.attributes=b.attributes||{},b.attributes.id=M,n.addGraphic({id:M,type:u.tool,geometry:b.geometry,attributes:b.attributes}),u.tool!=="point"&&n.setActiveTool(null)}},ri=u=>{const b=u.graphics[0];if(b)if(u.state==="start"){if(n.activeTool!=="edit"){r.cancel();return}h=b,b.attributes?.id&&(n.selectGraphic(b.attributes.id),s.updateAlert(e("draw.graphic.selected",{type:i(b.attributes?.type)})))}else u.state==="active"?ce(b):u.state==="complete"&&b.attributes?.id&&(n.updateGraphicGeometry(b.attributes.id,b.geometry),s.updateAlert(e("draw.graphic.updated")))};return Wi(()=>{ni(),we.push(s.event.on(Nt.MAP_DESTROYED,()=>{Ct()}))}),Ot(()=>n.activeTool,u=>{r.cancel(),ce(),w=null,T=[],y=!1,u&&u!="edit"&&r.create(u)}),ji(()=>{Ct(),we.forEach(u=>s.event.off(u))}),(u,b)=>(Yi(),qi("arcgis-sketch",{ref_key:"sketchEl",ref:a,style:{display:"none"}},null,512))}}),xt=[{type:"point"},{type:"polyline"},{type:"polygon"},{type:"circle"},{type:"rectangle"}];class Xo extends Xi{store;constructor(e,i){super(e,i),this.store=yt(this.$vApp.$pinia)}_parseConfig(e){if(!e){this.store.setSupportedTypes(xt);return}if(e.types!==void 0){const s=(e.types===null?[]:e.types).filter(n=>n.enabled!==!1);this.store.setSupportedTypes(s)}else this.store.setSupportedTypes(xt);e.defaultTool&&this.store.setActiveTool(e.defaultTool)}get graphicsLayerId(){return Xe}}const Zo={en:{"draw.multiPoint.started":"{type} drawing started with 1 point","draw.multiPoint.pointAdded":"Point added {count} points total","draw.multiPoint.pointRemoved":"Point removed {count} points remaining","draw.multiPoint.canceled":"Drawing canceled","draw.multiPoint.completed":"{type} completed with {count} points","draw.multiPoint.notEnoughPoints":"Not enough points for {type} minimum {min} required","draw.graphic.created":"{type} created","draw.graphic.selected":"{type} selected","draw.graphic.deselected":"Graphic deselected","draw.graphic.deleted":"Graphic deleted","draw.graphic.updated":"Graphic updated","draw.graphic.none":"No graphic found","draw.tool.canceled":"Drawing tool canceled","draw.point.resize.unsupported":"Resizing not supported for point graphics","draw.point.rotate.unsupported":"Rotation not supported for point graphics","draw.move.up":"Moved up","draw.move.down":"Moved down","draw.move.left":"Moved left","draw.move.right":"Moved right","draw.resize.increase":"Increased size","draw.resize.decrease":"Decreased size","draw.rotate.clockwise":"Rotated clockwise","draw.rotate.counterclockwise":"Rotated counter-clockwise","draw.button.point":"Draw point","draw.button.polyline":"Draw line","draw.button.polygon":"Draw polygon","draw.button.rectangle":"Draw rectangle","draw.button.circle":"Draw circle","draw.point.tooltip":"Draw point","draw.polyline.tooltip":"Draw polyline","draw.polygon.tooltip":"Draw polygon","draw.circle.tooltip":"Draw circle","draw.rectangle.tooltip":"Draw rectangle","draw.edit.tooltip":"Edit Mode","draw.graphic.moved":"Graphic moved","draw.shape":"shape","draw.point":"point","draw.multipoint":"multipoint","draw.polyline":"polyline","draw.polygon":"polygon","draw.rectangle":"rectangle","draw.circle":"circle","draw.unknown":"unknown"},fr:{"draw.multiPoint.started":"Dessin de {type} commencé avec 1 point","draw.multiPoint.pointAdded":"Point ajouté","draw.multiPoint.pointRemoved":"Point supprimé","draw.multiPoint.canceled":"Dessin annulé","draw.multiPoint.completed":"{type} terminé avec {count} points","draw.multiPoint.notEnoughPoints":"Pas assez de points pour {type}","draw.graphic.created":"{type} créé","draw.graphic.selected":"{type} sélectionné","draw.graphic.deselected":"Graphique désélectionné","draw.graphic.deleted":"Graphique supprimé","draw.graphic.updated":"Graphique mis à jour","draw.graphic.none":"Aucun graphique trouvé","draw.tool.canceled":"Outil de dessin annulé","draw.point.resize.unsupported":"Le redimensionnement n'est pas pris en charge pour les points","draw.point.rotate.unsupported":"La rotation n'est pas prise en charge pour les points","draw.move.up":"Déplacé vers le haut","draw.move.down":"Déplacé vers le bas","draw.move.left":"Déplacé vers la gauche","draw.move.right":"Déplacé vers la droite","draw.resize.increase":"Taille augmentée","draw.resize.decrease":"Taille réduite","draw.rotate.clockwise":"Rotation dans le sens horaire","draw.rotate.counterclockwise":"Rotation dans le sens antihoraire","draw.button.point":"Dessiner un point","draw.button.polyline":"Dessiner une ligne","draw.button.polygon":"Dessiner un polygone","draw.button.rectangle":"Dessiner un rectangle","draw.button.circle":"Dessiner un cercle","draw.point.tooltip":"Dessiner un point","draw.polyline.tooltip":"Dessiner une polyligne","draw.polygon.tooltip":"Dessiner un polygone","draw.circle.tooltip":"Dessiner un cercle","draw.rectangle.tooltip":"Dessiner un rectangle","draw.edit.tooltip":"Mode édition","draw.graphic.moved":"Graphique déplacé","draw.shape":"forme","draw.point":"indiquer","draw.multipoint":"multipoint","draw.polyline":"polyligne","draw.polygon":"polygone","draw.rectangle":"rectangle","draw.circle":"cercle","draw.unknown":"inconnue"}};class es extends Xo{async init(){const{el:e}=this.mount(Jo,{app:this.$element});this.$vApp.$el.getElementsByClassName("inner-shell")[0].appendChild(e.childNodes[0]),Object.entries(Zo).forEach(n=>this.$iApi.$i18n.mergeLocaleMessage(...n)),this._parseConfig(this.config),yt(this.$vApp.$pinia).supportedTypes.forEach(n=>{const r=`${n.type}-icon`;this.$iApi.component(r,Zi(ai(Object.assign({"./icons/circle-icon.vue":()=>m(()=>import("./circle-icon-DCuEEuIL.js"),__vite__mapDeps([225,3,4,5]),import.meta.url),"./icons/edit-icon.vue":()=>m(()=>import("./edit-icon-Cu3mkVeG.js"),__vite__mapDeps([226,3,4,5]),import.meta.url),"./icons/point-icon.vue":()=>m(()=>import("./point-icon-DdjqINEf.js"),__vite__mapDeps([227,3,4,5]),import.meta.url),"./icons/polygon-icon.vue":()=>m(()=>import("./polygon-icon-DVFkQk1A.js"),__vite__mapDeps([228,3,4,5]),import.meta.url),"./icons/polyline-icon.vue":()=>m(()=>import("./polyline-icon-4r7mQcB-.js"),__vite__mapDeps([229,3,4,5]),import.meta.url),"./icons/rectangle-icon.vue":()=>m(()=>import("./rectangle-icon-Drkhh0Un.js"),__vite__mapDeps([230,3,4,5]),import.meta.url)}),`./icons/${n.type}-icon.vue`,3)))})}async added(){this.$iApi.event.on(Nt.MAP_CREATED,()=>{this.init()})}}const Is=Object.freeze(Object.defineProperty({__proto__:null,default:es},Symbol.toStringTag,{value:"Module"}));export{Ie as c,Lo as e,Is as i,Jt as n,jt as r};
