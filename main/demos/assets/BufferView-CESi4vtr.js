import{hX as ft}from"./main-CtmwM019.js";import{o as ut}from"./vec32-gK3TWme0.js";import{s as nt}from"./vec42-DZ0sp4MX.js";import{n as ct}from"./vec2f64-Cgb6qxNH.js";import"./vec4f64-DPb6J-GU.js";let A=globalThis.Float16Array;function at(...f){return new(A??Float32Array)(...f)}function a(){return A}let B=!!A,b=class{static{this.ElementCount=9}constructor(t,e,r=0,s,u){this.TypedArrayConstructor=t,this.elementCount=9;const i=this.TypedArrayConstructor;s===void 0&&(s=9*i.BYTES_PER_ELEMENT);const n=e.byteLength===0?0:r;this.typedBuffer=u==null?new i(e,n):new i(e,n,(u-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<9;s++)e[s]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<9;s++)this.typedBuffer[r++]=e[s]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const s=this.typedBuffer,u=e.typedBuffer;let i=t*this.typedBufferStride,n=r*e.typedBufferStride;for(let c=0;c<9;++c)s[i++]=u[n++]}get buffer(){return this.typedBuffer.buffer}},x=class{static{this.ElementCount=16}constructor(t,e,r=0,s,u){this.TypedArrayConstructor=t,this.elementCount=16;const i=this.TypedArrayConstructor;s===void 0&&(s=16*i.BYTES_PER_ELEMENT);const n=e.byteLength===0?0:r;this.typedBuffer=u==null?new i(e,n):new i(e,n,(u-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<16;s++)e[s]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<16;s++)this.typedBuffer[r++]=e[s]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){this.copyFromTypedBuffer(t,e.typedBuffer,r*e.typedBufferStride)}copyFromTypedBuffer(t,e,r){const s=this.typedBuffer;let u=t*this.typedBufferStride;for(let i=0;i<16;++i)s[u++]=e[r++]}get buffer(){return this.typedBuffer.buffer}};class h{static{this.ElementCount=1}constructor(t,e,r=0,s,u){this.TypedArrayConstructor=t,this.elementCount=1;const i=this.TypedArrayConstructor;s===void 0&&(s=i.BYTES_PER_ELEMENT);const n=e.byteLength===0?0:r;this.typedBuffer=u==null?new i(e,n):new i(e,n,(u-r)/i.BYTES_PER_ELEMENT),this.stride=s,this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}let y=class{static{this.ElementCount=2}constructor(t,e,r=0,s,u){this.TypedArrayConstructor=t,this.start=r,this.elementCount=2;const i=this.TypedArrayConstructor;s===void 0&&(s=2*i.BYTES_PER_ELEMENT);const n=e.byteLength===0?0:r;this.typedBuffer=u==null?new i(e,n):new i(e,n,(u-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,ft(e,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=r}copyFrom(t,e,r){const s=this.typedBuffer,u=e.typedBuffer;let i=t*this.typedBufferStride,n=r*e.typedBufferStride;s[i++]=u[n++],s[i]=u[n]}get buffer(){return this.typedBuffer.buffer}},l=class{static{this.ElementCount=3}constructor(t,e,r=0,s,u){this.TypedArrayConstructor=t,this.elementCount=3;const i=this.TypedArrayConstructor;s===void 0&&(s=3*i.BYTES_PER_ELEMENT);const n=e.byteLength===0?0:r;this.typedBuffer=u==null?new i(e,n):new i(e,n,(u-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,ut(e,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,s){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t]=s}copyFrom(t,e,r){const s=this.typedBuffer,u=e.typedBuffer;let i=t*this.typedBufferStride,n=r*e.typedBufferStride;s[i++]=u[n++],s[i++]=u[n++],s[i]=u[n]}get buffer(){return this.typedBuffer.buffer}};class p{static{this.ElementCount=4}constructor(t,e,r=0,s,u){this.TypedArrayConstructor=t,this.start=r,this.elementCount=4;const i=this.TypedArrayConstructor;s===void 0&&(s=4*i.BYTES_PER_ELEMENT);const n=e.byteLength===0?0:r;this.typedBuffer=u==null?new i(e,n):new i(e,n,(u-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,nt(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,s,u){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t++]=s,this.typedBuffer[t]=u}copyFrom(t,e,r){const s=this.typedBuffer,u=e.typedBuffer;let i=t*this.typedBufferStride,n=r*e.typedBufferStride;s[i++]=u[n++],s[i++]=u[n++],s[i++]=u[n++],s[i]=u[n]}get buffer(){return this.typedBuffer.buffer}}let ht=class{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}};function E(f,t="Assertion"){if(!f){const e=new Error(t).stack;throw new ht(`${t} at ${e}`)}}function At(f,t){f||(t=t||"",console.warn("Verify failed: "+t+`
`+new Error("verify").stack))}function bt(f,t,e,r){let s,u=(e[0]-f[0])/t[0],i=(r[0]-f[0])/t[0];u>i&&(s=u,u=i,i=s);let n=(e[1]-f[1])/t[1],c=(r[1]-f[1])/t[1];if(n>c&&(s=n,n=c,c=s),u>c||n>i)return!1;n>u&&(u=n),c<i&&(i=c);let o=(e[2]-f[2])/t[2],d=(r[2]-f[2])/t[2];return o>d&&(s=o,o=d,d=s),!(u>d||o>i)&&(d<i&&(i=d),!(i<0))}function xt(f,t,e,r,s,u=ct()){const i=(r[s]-e[s])*(t[0]-f[0])-(r[0]-e[0])*(t[s]-f[s]),n=(r[0]-e[0])*(f[s]-e[s])-(r[s]-e[s])*(f[0]-e[0]);if(i===0)return!1;const c=n/i;return u[0]=f[0]+c*(t[0]-f[0]),u[1]=f[s]+c*(t[s]-f[s]),!0}function gt(f,t){return Math.log(f)/Math.log(t)}function Mt(f){return f[0]===1&&f[1]===0&&f[2]===0&&f[3]===0&&f[4]===0&&f[5]===1&&f[6]===0&&f[7]===0&&f[8]===0&&f[9]===0&&f[10]===1&&f[11]===0&&f[15]===1}class Lt extends h{constructor(t,e=0,r,s){E(B),super(a(),t,e,r,s),this.elementType="f16"}static{this.ElementType="f16"}}class Ct extends h{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}static{this.ElementType="f32"}}class g extends y{constructor(t,e=0,r,s){E(B),super(a(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(g,t,e)}static{this.ElementType="f16"}}class M extends y{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(M,t,e)}static{this.ElementType="f32"}}class L extends l{constructor(t,e=0,r,s){E(B),super(a(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(L,t,e)}static{this.ElementType="f16"}}class T extends l{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(T,t,e)}static fromTypedArray(t,e){return new T(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f32"}}class C extends p{constructor(t,e=0,r,s){E(B),super(a(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(C,t,e)}static{this.ElementType="f16"}}let wt=class w extends p{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(w,t,e)}static{this.ElementType="f32"}};class N extends b{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(N,t,e)}static{this.ElementType="f32"}}class P extends b{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(P,t,e)}static{this.ElementType="f64"}}class R extends x{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(R,t,e)}static{this.ElementType="f32"}}class Y extends x{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(Y,t,e)}static{this.ElementType="f64"}}class F extends h{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(F,t,e)}static{this.ElementType="f64"}}class $ extends y{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer($,t,e)}static{this.ElementType="f64"}}class m extends l{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(m,t,e)}static fromTypedArray(t,e){return new m(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f64"}}class I extends p{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(I,t,e)}static{this.ElementType="f64"}}class O extends h{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(O,t,e)}static{this.ElementType="u8"}}class U extends y{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(U,t,e)}static{this.ElementType="u8"}}class S extends l{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(S,t,e)}static fromTypedArray(t,e){return new S(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="u8"}}class V extends p{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(V,t,e)}static{this.ElementType="u8"}}class v extends h{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(v,t,e)}static{this.ElementType="u16"}}class _ extends y{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(_,t,e)}static{this.ElementType="u16"}}class k extends l{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(k,t,e)}static{this.ElementType="u16"}}class X extends p{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(X,t,e)}static{this.ElementType="u16"}}class j extends h{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(j,t,e)}static{this.ElementType="u32"}}class q extends y{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(q,t,e)}static{this.ElementType="u32"}}class z extends l{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(z,t,e)}static{this.ElementType="u32"}}class D extends p{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(D,t,e)}static{this.ElementType="u32"}}class G extends h{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(G,t,e)}static{this.ElementType="i8"}}class H extends y{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(H,t,e)}static{this.ElementType="i8"}}class J extends l{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(J,t,e)}static{this.ElementType="i8"}}class K extends p{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(K,t,e)}static{this.ElementType="i8"}}class Q extends h{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(Q,t,e)}static{this.ElementType="i16"}}class W extends y{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(W,t,e)}static{this.ElementType="i16"}}class Z extends l{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(Z,t,e)}static{this.ElementType="i16"}}class tt extends p{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(tt,t,e)}static{this.ElementType="i16"}}class et extends h{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(et,t,e)}static{this.ElementType="i32"}}class st extends y{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(st,t,e)}static{this.ElementType="i32"}}class rt extends l{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(rt,t,e)}static{this.ElementType="i32"}}class it extends p{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(it,t,e)}static{this.ElementType="i32"}}export{Y as A,F as B,H as C,J as D,R as E,I as F,K as G,Q as H,O as I,W as J,Z as K,_ as L,X as M,tt as N,S as O,et as P,st as Q,rt as R,q as S,wt as T,m as U,k as V,it as W,Lt as a,$ as b,At as c,N as d,xt as e,Ct as f,V as g,L as h,bt as i,U as j,z as k,a as l,C as m,Mt as n,T as o,g as p,D as q,B as r,E as s,at as t,gt as u,j as v,v as w,P as x,M as y,G as z};
