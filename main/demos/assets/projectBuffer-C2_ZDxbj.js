import{hq as _,hr as B,aq as d,T as u0,c5 as e0,hs as f0,d3 as t0,aF as s0,ht as r0,aL as i0,aM as c0,aN as o0,gv as h0,gw as d0,aK as M0,d7 as p0,ck as I0,hu as R0}from"./main-CtmwM019.js";const C0=Math.PI/180,E0=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,R=d.radius,h=d.eccentricitySquared,q0={a1:R*h,a2:R*h*R*h,a3:R*h*h/2,a4:R*h*R*h*2.5,a5:R*h+R*h*h/2,a6:1-h},F0={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:d.radius,f:d.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:B.radius,f:B.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:_.radius,f:_.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:_.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}},P0={2:{5:f,7:null,9:null,10:f,1:L,6:null,8:null,0:null,3:w,11:k,2:f,4:O},5:{5:f,7:null,9:null,10:f,1:L,6:null,8:null,0:null,3:w,11:k,2:f,4:O},7:{5:null,7:f,9:null,10:f,1:null,6:X,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:f,10:f,1:null,6:null,8:V,0:null,3:null,11:null,2:null,4:null},3:{5:D,7:null,9:null,10:D,1:g0,6:null,8:null,0:null,3:f,11:k0,2:D,4:S0},4:{5:b,7:null,9:null,10:b,1:D0,6:null,8:null,0:null,3:L0,11:m0,2:b,4:f},1:{5:y,7:null,9:null,10:y,1:f,6:null,8:null,0:null,3:x0,11:y0,2:y,4:T0},6:{5:null,7:Z,9:null,10:Z,1:null,6:f,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:Y,10:Y,1:null,6:null,8:f,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:f,3:null,11:null,2:null,4:null},10:{5:f,7:f,9:f,10:f,1:L,6:X,8:V,0:null,3:w,11:k,2:f,4:O},11:{5:m,7:null,9:null,10:m,1:O0,6:null,8:null,0:null,3:b0,11:f,2:m,4:U0}};function $0(l,u){return j0(l,u)?.projector}function j0(l,u){if(l==null||u==null)return null;if(M.source.spatialReference===l&&M.dest.spatialReference===u)return M;const a=Q(l,M.source),n=Q(u,M.dest);return a===0&&n===0?u0(l,u)?M.projector=f:M.projector=null:M.projector=P0[a][n],M}function Q(l,u){return l?u.spatialReference===l?u.spatialReferenceId:(u.spatialReference=l,"metersPerUnit"in u&&(u.metersPerUnit=e0(l,1)),f0(l)?u.spatialReferenceId=1:t0(l)?u.spatialReferenceId=2:s0(l)?u.spatialReferenceId=3:r0(l)?u.spatialReferenceId=11:l.wkt===i0.wkt?u.spatialReferenceId=4:l.wkid===4490?u.spatialReferenceId=5:l.wkt===c0.wkt?u.spatialReferenceId=6:l.wkt===o0.wkt?u.spatialReferenceId=8:h0(l)?u.spatialReferenceId=7:d0(l)?u.spatialReferenceId=9:u.spatialReferenceId=0):0}function f(l,u,a,n){l!==a&&(a[n++]=l[u++],a[n++]=l[u++],a[n]=l[u])}function D(l,u,a,n){a[n]=x*(l[u]/$),a[n+1]=x*(l0-2*Math.atan(Math.exp(-l[u+1]/$))),a[n+2]=l[u+2]}function g0(l,u,a,n){const s=l[u]/$,t=l0-2*Math.atan(Math.exp(-l[u+1]/$)),r=$+l[u+2],e=Math.cos(t)*r;a[n]=Math.cos(s)*e,a[n+1]=Math.sin(s)*e,a[n+2]=Math.sin(t)*r}function S0(l,u,a,n){D(l,u,a,n),O(a,n,a,n)}function w0(l,u,a,n,s){const t=.4999999*Math.PI,r=M0(U*l[u+1],-t,t),e=Math.sin(r);a[n++]=U*l[u]*s.radius,a[n++]=s.halfSemiMajorAxis*Math.log((1+e)/(1-e)),a[n]=l[u+2]}function w(l,u,a,n){w0(l,u,a,n,d)}function k(l,u,a,n){a[n]=l[u]*a0,a[n+1]=l[u+1]*a0,a[n+2]=l[u+2]}function m(l,u,a,n){a[n]=l[u]*n0,a[n+1]=l[u+1]*n0,a[n+2]=l[u+2]}function k0(l,u,a,n){D(l,u,a,n),k(a,n,a,n)}function m0(l,u,a,n){b(l,u,a,n),k(a,n,a,n)}function y0(l,u,a,n){y(l,u,a,n),k(a,n,a,n)}function O0(l,u,a,n){m(l,u,a,n),L(a,n,a,n)}function b0(l,u,a,n){m(l,u,a,n),w(a,n,a,n)}function U0(l,u,a,n){m(l,u,a,n),O(a,n,a,n)}function K(l,u,a,n,s){const t=s+l[u+2],r=U*l[u+1],e=U*l[u],i=Math.cos(r)*t;a[n]=Math.cos(e)*i,a[n+1]=Math.sin(e)*i,a[n+2]=Math.sin(r)*t}function V(l,u,a,n){K(l,u,a,n,B.radius)}function X(l,u,a,n){K(l,u,a,n,_.radius)}function L(l,u,a,n){K(l,u,a,n,d.radius)}function N(l,u,a,n,s){const t=l[u],r=l[u+1],e=l[u+2],i=Math.sqrt(t*t+r*r+e*e),o=R0(e/(i===0?1:i)),c=Math.atan2(r,t);a[n++]=x*c,a[n++]=x*o,a[n]=i-s}function Y(l,u,a,n){N(l,u,a,n,B.radius)}function Z(l,u,a,n){N(l,u,a,n,_.radius)}function y(l,u,a,n){N(l,u,a,n,d.radius)}function x0(l,u,a,n){y(l,u,a,n),w(a,n,a,n)}function T0(l,u,a,n){y(l,u,a,n),O(a,n,a,n)}function _0(l,u,a,n,s){const t=U*l[u],r=U*l[u+1],e=l[u+2],i=Math.sin(r),o=Math.cos(r),c=s.radius/Math.sqrt(1-s.eccentricitySquared*i*i);a[n++]=(c+e)*o*Math.cos(t),a[n++]=(c+e)*o*Math.sin(t),a[n++]=(c*(1-s.eccentricitySquared)+e)*i}function O(l,u,a,n){_0(l,u,a,n,d)}function b(l,u,a,n){const s=q0,t=l[u],r=l[u+1],e=l[u+2];let i,o,c,q,P,C,v,p,I,T,E,F,z,j,g,A,G,H,S,W,J;i=Math.abs(e),o=t*t+r*r,c=Math.sqrt(o),q=o+e*e,P=Math.sqrt(q),W=Math.atan2(r,t),C=e*e/q,v=o/q,j=s.a2/P,g=s.a3-s.a4/P,v>.3?(p=i/P*(1+v*(s.a1+j+C*g)/P),S=Math.asin(p),T=p*p,I=Math.sqrt(1-T)):(I=c/P*(1-C*(s.a5-j-v*g)/P),S=Math.acos(I),T=1-I*I,p=Math.sqrt(T)),E=1-d.eccentricitySquared*T,F=d.radius/Math.sqrt(E),z=s.a6*F,j=c-F*I,g=i-z*p,G=I*j+p*g,A=I*g-p*j,H=A/(z/E+G),S+=H,J=G+A*H/2,e<0&&(S=-S),a[n++]=x*W,a[n++]=x*S,a[n]=J}function D0(l,u,a,n){b(l,u,a,n),L(a,n,a,n)}function L0(l,u,a,n){b(l,u,a,n),w(a,n,a,n)}const M={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:f},U=I0(1),x=p0(1),l0=.5*Math.PI,$=d.radius,a0=$*Math.PI/180,n0=180/($*Math.PI);function v0(l,u,a,n,s,t,r=Math.floor(l.length/3)){const e=$0(u,s);if(e==null)return!1;if(e===f){if(l===n&&a===t)return!0;const o=a+3*r;for(let c=a,q=t;c<o;c++,q++)n[q]=l[c];return!0}const i=a+3*r;for(let o=a,c=t;o<i;o+=3,c+=3)e(l,o,n,c);return!0}const z0=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:v0},Symbol.toStringTag,{value:"Module"}));export{$0 as C,j0 as I,N as J,F0 as d,w0 as g,C0 as i,v0 as o,z0 as p,E0 as t,P0 as w};
