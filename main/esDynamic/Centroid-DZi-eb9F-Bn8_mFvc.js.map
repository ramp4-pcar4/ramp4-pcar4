{"version":3,"file":"Centroid-DZi-eb9F-Bn8_mFvc.js","sources":["../../node_modules/@arcgis/core/chunks/Centroid-DZi-eb9F.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{G as t,d as e}from\"./Geometry.js\";import{P as n,K as r}from\"./Point2D.js\";function a(e,r){if(!e.isEmpty()){switch(e.getGeometryType()){case t.enumPolygon:return o(e);case t.enumPolyline:return l(e);case t.enumLine:case t.enumBezier:case t.enumEllipticArc:return i(e);case t.enumMultiPoint:return g(e);case t.enumEnvelope:return e.getCenterXY();case t.enumPoint:return e.getXY();default:return n.construct(Number.NaN,Number.NaN)}}return n.construct(Number.NaN,Number.NaN)}function u(t,e){return o(t,e)}function o(t,e=-1){const a=new r(0),u=new r(0),o=t.getImpl();let l;const i=o.hasNonLinearSegments();let g;const m=o.getXY(0);if(-1===e){if(g=o.calculateArea2D(),0===g)return d(t);i&&(l=o.querySegmentIterator());for(let t=0,e=o.getPathCount();t<e;t++)s(m,o,t,a,u),i&&c(m,l,a,u)}else{if(g=o.calculateRingArea2D(e),0===g)return d(t,e);i&&(l=o.querySegmentIterator(),l.resetToPath(e)),s(m,o,e,a,u),i&&c(m,l,a,u)}const f=new n,h=new n;return f.setCoords(a.getResult(),u.getResult()),h.assign(f.mul(1/g).add(m)),h}function s(t,e,a,u,o){const s=e.getPathStart(a),c=e.getPathEnd(a);if(c-s<3)return;const l=e.getAttributeStreamRef(0),i=l.readPoint2D(2*s),g=l.readPoint2D(2*(s+1));g.subThis(i);const d=new r(0),m=e.hasNonLinearSegments(),f=1/3,h=new n;for(let n=s+2;n<c;n++){l.queryPoint2D(2*n,h),h.subThis(i);const t=.5*h.crossProduct(g);m&&d.add(t);const e=f*t;u.add((g.x+h.x)*e),o.add((g.y+h.y)*e),g.setCoordsPoint2D(h)}const P=m?d.getResult():e.calculateRingArea2D(a),y=i.sub(t).mul(P);u.add(y.x),o.add(y.y)}function c(t,n,r,a){let u;for(n.nextPath()||e(\"centroid\");null!==(u=n.nextCurve());){const e=u.calculateWeightedAreaCentroid2D(t);r.add(e.x),a.add(e.y)}}function l(t){return m(t.getImpl())}function i(t){const e=t.calculateLength2D();if(0===e)return t.getStartXY();return t.calculateWeightedCentroid2D().mul(1/e)}function g(t){const e=new r(0),a=new r(0),u=t.getImpl(),o=u.getAttributeStreamRef(0),s=u.getPointCount(),c=new n;for(let n=0;n<s;n++)o.queryPoint2D(2*n,c),e.add(c.x),a.add(c.y);const l=new n;return l.setCoords(e.getResult(),a.getResult()),l.divThis(s)}function d(t,e=-1){return m(t.getImpl(),e)}function m(t,e=-1){const a=-1===e?t.calculateLength2D():t.calculatePathLength2D(e);if(0===a)return f(t,e);const u=new r(0),o=new r(0),s=t.querySegmentIterator();for(-1!==e&&s.resetToPath(e);s.nextPath();){const n=s.getPathIndex(),r=t.getXY(t.getPathStart(n));for(;s.hasNextSegment();){const t=s.nextSegment(),e=t.calculateLength2D();if(0===e)continue;const n=t.calculateWeightedCentroid2D().sub(r.mul(e));u.add(n.x),o.add(n.y)}const a=r.mul(t.calculatePathLength2D(n));if(u.add(a.x),o.add(a.y),-1!==e)break}const c=new n;return c.setCoords(u.getResult(),o.getResult()),c.mul(1/a)}function f(t,e=-1){if(-1!==e)return t.getXY(t.getPathStart(e));const a=new r(0),u=new r(0);for(let n=0;n<t.getPathCount();++n){const e=t.getXY(t.getPathStart(n));a.add(e.x),u.add(e.y)}return n.construct(a.getResult(),u.getResult()).mul(1/t.getPathCount())}export{u as a,a as c};\n"],"names":["a","e","r","t","o","l","i","g","n","u","m","d","s","c","f","h","P","y"],"mappings":"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","x_google_ignoreList":[0]}