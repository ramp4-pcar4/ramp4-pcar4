import{aB as y,cR as N,cS as I,az as W,aA as Z}from"./main-6gYsRPh_.js";import{e as b}from"./quatf64-C16JxGFv.js";import{P as $,_ as g,Y as k,A as w}from"./vec32-y2_p7lFt.js";import{E as C,s as D,p as F,m as G,y as H,_ as J,q as K,L as Q,j as U,a as V,o as tt}from"./vec42-CDRvr0BM.js";function nt(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function A(t,n,e){e*=.5;const s=Math.sin(e);return t[0]=s*n[0],t[1]=s*n[1],t[2]=s*n[2],t[3]=Math.cos(e),t}function j(t,n){const e=2*Math.acos(n[3]),s=Math.sin(e/2);return s>y()?(t[0]=n[0]/s,t[1]=n[1]/s,t[2]=n[2]/s):(t[0]=1,t[1]=0,t[2]=0),e}function _(t,n,e){const s=n[0],r=n[1],c=n[2],u=n[3],i=e[0],h=e[1],M=e[2],a=e[3];return t[0]=s*a+u*i+r*M-c*h,t[1]=r*a+u*h+c*i-s*M,t[2]=c*a+u*M+s*h-r*i,t[3]=u*a-s*i-r*h-c*M,t}function st(t,n,e){e*=.5;const s=n[0],r=n[1],c=n[2],u=n[3],i=Math.sin(e),h=Math.cos(e);return t[0]=s*h+u*i,t[1]=r*h+c*i,t[2]=c*h-r*i,t[3]=u*h-s*i,t}function rt(t,n,e){e*=.5;const s=n[0],r=n[1],c=n[2],u=n[3],i=Math.sin(e),h=Math.cos(e);return t[0]=s*h-c*i,t[1]=r*h+u*i,t[2]=c*h+s*i,t[3]=u*h-r*i,t}function et(t,n,e){e*=.5;const s=n[0],r=n[1],c=n[2],u=n[3],i=Math.sin(e),h=Math.cos(e);return t[0]=s*h+r*i,t[1]=r*h-s*i,t[2]=c*h+u*i,t[3]=u*h-c*i,t}function ct(t,n){const e=n[0],s=n[1],r=n[2];return t[0]=e,t[1]=s,t[2]=r,t[3]=Math.sqrt(Math.abs(1-e*e-s*s-r*r)),t}function P(t,n,e,s){const r=n[0],c=n[1],u=n[2],i=n[3];let h,M,a,l,o,m=e[0],p=e[1],q=e[2],d=e[3];return M=r*m+c*p+u*q+i*d,M<0&&(M=-M,m=-m,p=-p,q=-q,d=-d),1-M>y()?(h=Math.acos(M),a=Math.sin(h),l=Math.sin((1-s)*h)/a,o=Math.sin(s*h)/a):(l=1-s,o=s),t[0]=l*r+o*m,t[1]=l*c+o*p,t[2]=l*u+o*q,t[3]=l*i+o*d,t}function ut(t){const n=Z,e=n(),s=n(),r=n(),c=Math.sqrt(1-e),u=Math.sqrt(e);return t[0]=c*Math.sin(2*Math.PI*s),t[1]=c*Math.cos(2*Math.PI*s),t[2]=u*Math.sin(2*Math.PI*r),t[3]=u*Math.cos(2*Math.PI*r),t}function L(t,n){const e=n[0],s=n[1],r=n[2],c=n[3],u=e*e+s*s+r*r+c*c,i=u?1/u:0;return t[0]=-e*i,t[1]=-s*i,t[2]=-r*i,t[3]=c*i,t}function v(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function z(t,n){const e=n[0]+n[4]+n[8];let s;if(e>0)s=Math.sqrt(e+1),t[3]=.5*s,s=.5/s,t[0]=(n[5]-n[7])*s,t[1]=(n[6]-n[2])*s,t[2]=(n[1]-n[3])*s;else{let r=0;n[4]>n[0]&&(r=1),n[8]>n[3*r+r]&&(r=2);const c=(r+1)%3,u=(r+2)%3;s=Math.sqrt(n[3*r+r]-n[3*c+c]-n[3*u+u]+1),t[r]=.5*s,s=.5/s,t[3]=(n[3*c+u]-n[3*u+c])*s,t[c]=(n[3*c+r]+n[3*r+c])*s,t[u]=(n[3*u+r]+n[3*r+u])*s}return t}function E(t,n,e,s){const r=.5*Math.PI/180;n*=r,e*=r,s*=r;const c=Math.sin(n),u=Math.cos(n),i=Math.sin(e),h=Math.cos(e),M=Math.sin(s),a=Math.cos(s);return t[0]=c*h*a-u*i*M,t[1]=u*i*a+c*h*M,t[2]=u*h*M-c*i*a,t[3]=u*h*a+c*i*M,t}function it(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}const ht=V,O=D,Mt=tt,at=_,ft=G,lt=U,ot=J,S=K,mt=S,T=F,pt=T,x=H,R=C,qt=Q;function X(t,n,e){const s=$(n,e);return s<-.999999?(g(f,dt,n),k(f)<1e-6&&g(f,Pt,n),w(f,f),A(t,f,Math.PI),t):s>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(g(f,n,e),t[0]=f[0],t[1]=f[1],t[2]=f[2],t[3]=1+s,x(t,t))}const f=W(),dt=I(1,0,0),Pt=I(0,1,0);function gt(t,n,e,s,r,c){return P(Y,n,r,c),P(B,e,s,c),P(t,Y,B,2*c*(1-c)),t}const Y=b(),B=b();function At(t,n,e,s){const r=_t;return r[0]=e[0],r[3]=e[1],r[6]=e[2],r[1]=s[0],r[4]=s[1],r[7]=s[2],r[2]=-n[0],r[5]=-n[1],r[8]=-n[2],x(t,z(t,r))}const _t=N();Object.freeze(Object.defineProperty({__proto__:null,add:Mt,calculateW:ct,conjugate:v,copy:ht,dot:lt,equals:qt,exactEquals:R,fromEuler:E,fromMat3:z,getAxisAngle:j,identity:nt,invert:L,len:mt,length:S,lerp:ot,mul:at,multiply:_,normalize:x,random:ut,rotateX:st,rotateY:rt,rotateZ:et,rotationTo:X,scale:ft,set:O,setAxes:At,setAxisAngle:A,slerp:P,sqlerp:gt,sqrLen:pt,squaredLength:T,str:it},Symbol.toStringTag,{value:"Module"}));export{L,R as N,v as O,X as R,E as T,O as X,A as b,j as v,_ as x};
