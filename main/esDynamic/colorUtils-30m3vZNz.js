import{bA as s,cj as p,G as q,ck as E}from"./main-6gYsRPh_.js";import"./vec42-CDRvr0BM.js";import{r as I}from"./vec4f64-DD-nkcCV.js";function w(n){return"r"in n&&"g"in n&&"b"in n}function x(n){return"h"in n&&"s"in n&&"v"in n}function k(n){return"l"in n&&"a"in n&&"b"in n}function y(n){return"l"in n&&"c"in n&&"h"in n}function P(n){return"x"in n&&"y"in n&&"z"in n}const R=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],j=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function z(n,r){const e=[];let o,t;if(n[0].length!==r.length)throw new Error("dimensions do not match");const u=n.length,a=n[0].length;let c=0;for(o=0;o<u;o++){for(c=0,t=0;t<a;t++)c+=n[o][t]*r[t];e.push(c)}return e}function A(n){const r=[n.r/255,n.g/255,n.b/255].map(o=>o<=.04045?o/12.92:((o+.055)/1.055)**2.4),e=z(R,r);return{x:100*e[0],y:100*e[1],z:100*e[2]}}function b(n){const r=z(j,[n.x/100,n.y/100,n.z/100]).map(e=>{const o=e<=.0031308?12.92*e:1.055*e**.4166666666666667-.055;return Math.min(1,Math.max(o,0))});return{r:Math.round(255*r[0]),g:Math.round(255*r[1]),b:Math.round(255*r[2])}}function v(n){const r=[n.x/95.047,n.y/100,n.z/108.883].map(e=>e>.008856451679035631?e**.3333333333333333:7.787037037037035*e+.13793103448275862);return{l:116*r[1]-16,a:500*(r[0]-r[1]),b:200*(r[1]-r[2])}}function B(n){const r=n.l,e=[(r+16)/116+n.a/500,(r+16)/116,(r+16)/116-n.b/200].map(o=>o>6/29?o**3:3*(6/29)**2*(o-4/29));return{x:95.047*e[0],y:100*e[1],z:108.883*e[2]}}function D(n){const r=n.l,e=n.a,o=n.b,t=Math.sqrt(e*e+o*o);let u=Math.atan2(o,e);return u=u>0?u:u+2*Math.PI,{l:r,c:t,h:u}}function F(n){const r=n.l,e=n.c,o=n.h;return{l:r,a:e*Math.cos(o),b:e*Math.sin(o)}}function H(n){return v(A(n))}function L(n){return b(B(n))}function Q(n){return D(v(A(n)))}function S(n){return b(B(F(n)))}function J(n){const r=n.r,e=n.g,o=n.b,t=Math.max(r,e,o),u=t-Math.min(r,e,o);let a=t,c=u===0?0:t===r?(e-o)/u%6:t===e?(o-r)/u+2:(r-e)/u+4,i=u===0?0:u/a;return c<0&&(c+=6),c*=60,i*=100,a*=100/255,{h:c,s:i,v:a}}function T(n){const r=(n.h+360)%360/60,e=n.s/100,o=n.v/100*255,t=o*e,u=t*(1-Math.abs(r%2-1));let a;switch(Math.floor(r)){case 0:a={r:t,g:u,b:0};break;case 1:a={r:u,g:t,b:0};break;case 2:a={r:0,g:t,b:u};break;case 3:a={r:0,g:u,b:t};break;case 4:a={r:u,g:0,b:t};break;case 5:case 6:a={r:t,g:0,b:u};break;default:a={r:0,g:0,b:0}}return a.r=Math.round(a.r+o-t),a.g=Math.round(a.g+o-t),a.b=Math.round(a.b+o-t),a}function f(n){return w(n)?n:y(n)?S(n):k(n)?L(n):P(n)?b(n):x(n)?T(n):n}function C(n){return x(n)?n:J(f(n))}function G(n){return k(n)?n:H(f(n))}function V(n){return y(n)?n:Q(f(n))}function W(n){let{r,g:e,b:o,a:t}=n;return t<1&&(r=Math.round(t*r+255*(1-t)),e=Math.round(t*e+255*(1-t)),o=Math.round(t*o+255*(1-t))),new s({r,g:e,b:o})}function U(n,r){const{r:e,g:o,b:t}=r?.ignoreAlpha?n:W(n);return .2126*e+.7152*o+.0722*t}function X(n,r=225){return U(n,{ignoreAlpha:!0})>r?new s([0,0,0,n.a]):new s([255,255,255,n.a])}function Y(n,r){const e=G(n);e.l*=1-r;const o=f(e),t=n.clone();return t.setColor(o),t.a=n.a,t}function Z(n,r){const e=n.clone();return e.a*=r,e}function _(n,r){const e=C(n);e.s*=r;const o=f(e),t=n.clone();return t.setColor(o),t.a=n.a,t}function $(n){return s.toUnitRGBA(n)}function K(n){return I(n[0],n[1],n[2],n.length>3?n[3]:1)}function N(n,r){const e=s.toUnitRGBA(n);return e[3]*=r,e}function O(n,r,e={}){if(n.length===0||r<=0)return[];if((n=n.map(o=>typeof o=="string"?new s(o):o)).length===1||r===1){const o=[],t=n[0];for(let u=0;u<r;u++)o.push(t.clone());return o}if(e.shuffle&&(n=p(q(n),e.seed)),n.length>=r){const o=[],t=(n.length-1)/(r-1);for(let u=0;u<r;u++){const a=Math.round(u*t);o.push(n[a].clone())}return o}return nn(n,r,e)}function nn(n,r,e={}){const o=[],t=n.length-1,u=Math.ceil((r-n.length)/t);n:for(let a=0;a<t;a++){const c=n[a],i=n[a+1];for(let h=1;h<=u;h++){const l=h/(u+1);if(o.push(rn(c,i,l,e)),o.length+n.length===r)break n}}return[...n.map(a=>a.clone()),...p(o,e.seed??1)]}const M=(n,r)=>{const e=Math.floor(10*r())-5;return Math.min(255,Math.max(0,n+e))};function rn(n,r,e,o={}){const t=n.r,u=n.g,a=n.b,c=r.r,i=r.g,h=r.b,l=Math.round(t+(c-t)*e),d=Math.round(u+(i-u)*e),m=Math.round(a+(h-a)*e);if(!o.offset)return new s([l,d,m]);const g=E(o.seed);return new s([M(l,g),M(d,g),M(m,g)])}export{C as B,G as C,Z as D,U as E,_ as F,$ as H,X as I,K as L,Y as P,N as Q,O as S,f as U,w as i,V as q};
