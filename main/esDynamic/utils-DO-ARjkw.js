import{T as u,Y as o,aZ as c,h as y,a_ as l,a$ as p}from"./main-CnDVnExo.js";function d(t,r){return r?{...r,query:{...t??{},...r.query}}:{query:t}}function m(t){return typeof t=="string"?c(t):y(t)}function f(t,r,a){const s={};for(const n in t){if(n==="declaredClass")continue;const e=t[n];if(e!=null&&typeof e!="function")if(Array.isArray(e))s[n]=e.map(i=>f(i));else if(typeof e=="object")if(e.toJSON){const i=e.toJSON(a?.[n]);s[n]=r?i:JSON.stringify(i)}else s[n]=r?e:JSON.stringify(e);else s[n]=e}return s}function q(t,r){return t?r&&p(t)?r:l(t)??o?.findCredential(t)?.token:null}async function J(t,r,a){return q(t,r)||(!o&&u.request.useIdentity&&await import("./IdentityManager-DmUlx4sn.js"),(await o.getCredential(t,a))?.token)}export{J as a,m as f,d as s,f as u};
