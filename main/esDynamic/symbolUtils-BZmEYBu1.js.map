{"version":3,"file":"symbolUtils-BZmEYBu1.js","sources":["../../node_modules/@arcgis/core/symbols/support/svgGlobalState.js","../../node_modules/@arcgis/core/symbols/support/svgUtils.js","../../node_modules/@arcgis/core/symbols/support/renderUtils.js","../../node_modules/@arcgis/core/symbols/support/symbolUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nlet n=0;function t(){return n++}function u(t=0){n=t}let o=0;function c(){return o++}function e(n=0){o=n}let f=0;function i(){return f++}function r(n=0){f=n}function l(){u(),e(),r()}export{i as nextBloomId,c as nextLinearGradientId,t as nextPatternId,r as resetBloomId,e as resetLinearGradientId,u as resetPatternId,l as resetSVGGlobalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import has from\"../../core/has.js\";import{assertIsSome as e}from\"../../core/maybe.js\";import{pt2px as i,toPt as r}from\"../../core/screenUtils.js\";import{create as n}from\"../../core/libs/gl-matrix-2/factories/mat2df32.js\";import{multiply as o,scale as s,identity as a,translate as l,rotate as h}from\"../../core/libs/gl-matrix-2/math/mat2d.js\";import{getDashArray as c}from\"./gfxUtils.js\";import{nextBloomId as f,nextPatternId as u,nextLinearGradientId as d}from\"./svgGlobalState.js\";import\"../../widgets/support/widgetUtils.js\";import{tsx as y}from\"../../widgets/support/jsxFactory.js\";import\"@arcgis/toolkit/dom\";const p=\"http://www.w3.org/2000/svg\",g=has(\"android\"),m=has(\"chrome\")||g&&g>=4?\"auto\":\"optimizeLegibility\",x={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},w=/([A-DF-Za-df-z])|([-+]?\\d*\\.?\\d+(?:[eE][-+]?\\d+)?)/g;let k={},b={};const j=Math.PI;function M(t,e){const i=t*(j/180);return Math.abs(e*Math.sin(i))+Math.abs(e*Math.cos(i))}function v(t){return t.map(t=>`${t.command} ${t.values.join(\" \")}`).join(\" \").trim()}function S(t,i,r,n,o){if(t){if(\"circle\"===t.type)return y(\"circle\",{cx:t.cx,cy:t.cy,fill:i,\"fill-rule\":\"evenodd\",r:t.r,stroke:r.color,\"stroke-dasharray\":r.dashArray,\"stroke-dashoffset\":r.dashOffset,\"stroke-linecap\":r.cap,\"stroke-linejoin\":r.join,\"stroke-miterlimit\":\"4\",\"stroke-width\":r.width});if(\"ellipse\"===t.type)return y(\"ellipse\",{cx:t.cx,cy:t.cy,fill:i,\"fill-rule\":\"evenodd\",rx:t.rx,ry:t.ry,stroke:r.color,\"stroke-dasharray\":r.dashArray,\"stroke-linecap\":r.cap,\"stroke-linejoin\":r.join,\"stroke-miterlimit\":\"4\",\"stroke-width\":r.width});if(\"rect\"===t.type)return y(\"rect\",{fill:i,\"fill-rule\":\"evenodd\",height:t.height,stroke:r.color,\"stroke-dasharray\":r.dashArray,\"stroke-linecap\":r.cap,\"stroke-linejoin\":r.join,\"stroke-miterlimit\":\"4\",\"stroke-width\":r.width,width:t.width,x:t.x,y:t.y});if(\"image\"===t.type)return y(\"image\",{alt:o||\"image\",height:t.height,href:t.src,preserveAspectRatio:\"none\",width:t.width,x:t.x,y:t.y});if(\"path\"===t.type){const e=\"string\"!=typeof t.path?v(t.path):t.path;return y(\"path\",{d:e,fill:i,\"fill-rule\":\"evenodd\",stroke:r.color,\"stroke-dasharray\":r.dashArray,\"stroke-linecap\":r.cap,\"stroke-linejoin\":r.join,\"stroke-miterlimit\":\"4\",\"stroke-width\":r.width})}if(\"text\"===t.type)return e(n),y(\"text\",{\"dominant-baseline\":n.dominantBaseline,fill:i,\"fill-rule\":\"evenodd\",\"font-family\":n.font.family,\"font-size\":n.font.size,\"font-style\":n.font.style,\"font-variant\":n.font.variant,\"font-weight\":n.font.weight,kerning:n.kerning,rotate:n.rotate,stroke:r.color,\"stroke-dasharray\":r.dashArray,\"stroke-linecap\":r.cap,\"stroke-linejoin\":r.join,\"stroke-miterlimit\":\"4\",\"stroke-width\":r.width,\"text-anchor\":n.align,\"text-decoration\":n.decoration,\"text-rendering\":m,x:t.x,y:t.y},t.text)}return null}function $(e){if(!e)return{fill:\"none\",pattern:null,linearGradient:null};if(!(\"type\"in e))return{fill:new t(e).toString(),pattern:null,linearGradient:null};if(\"pattern\"===e.type){const t=`patternId-${u()}`;return{fill:`url(#${t})`,pattern:{id:t,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}},linearGradient:null}}const i=`linearGradientId-${d()}`;return{fill:`url(#${i})`,pattern:null,linearGradient:{id:i,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map(e=>({offset:e.offset,color:e.color&&new t(e.color).toString()}))}}}function A(e){const i={color:\"none\",width:1,cap:\"butt\",join:\"4\",dashArray:\"none\",dashOffset:\"0\"};return e&&(null!=e.width&&(i.width=e.width),e.cap&&(i.cap=e.cap),e.join&&(i.join=e.join.toString()),e.color&&(i.color=new t(e.color).toString()),e.dashArray&&(i.dashArray=e.dashArray),e.dashoffset&&(i.dashOffset=e.dashoffset),e.style&&!e.dashArray&&(i.dashArray=c(e).join(\",\")||\"none\")),i}function G(t,i){const r={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};if(t){const n=t.alignBaseline,o=\"baseline\"===n?\"auto\":\"top\"===n?\"text-top\":\"bottom\"===n?\"hanging\":n;r.align=t.align,r.dominantBaseline=o,r.decoration=t.decoration,r.kerning=t.kerning?\"auto\":\"0\",r.rotate=t.rotated?\"90\":\"0\",e(i),r.font.style=i.style||\"normal\",r.font.variant=i.variant||\"normal\",r.font.weight=i.weight||\"normal\",r.font.size=i.size&&i.size.toString()||\"10pt\",r.font.family=i.family||\"serif\"}return r}function N(t){const{pattern:e,linearGradient:i}=t;if(e)return y(\"pattern\",{height:e.height,id:e.id,patternUnits:\"userSpaceOnUse\",width:e.width,x:e.x,y:e.y},y(\"image\",{height:e.image.height,href:e.image.href,width:e.image.width,x:e.image.x,y:e.image.y}));if(i){const t=i.stops.map((t,e)=>y(\"stop\",{key:`${e}-stop`,offset:t.offset,\"stop-color\":t.color}));return y(\"linearGradient\",{gradientUnits:\"userSpaceOnUse\",id:i.id,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2},t)}return null}function z(t,e){if(!t||0===t.length)return null;const i=[];for(const r of t){const{shape:t,fill:e,stroke:n,font:o}=r,s=$(e),a=A(n),l=\"text\"===t.type?G(t,o):null,h=S(t,s.fill,a,l);h&&i.push(h)}return y(\"mask\",{id:e,maskUnits:\"userSpaceOnUse\"},y(\"g\",null,i))}function B(t,e,i){return l(t,a(t),[e,i])}function I(t,e,i,r,n){return s(t,a(t),[e,i]),t[4]=t[4]*e-r*e+r,t[5]=t[5]*i-n*i+n,t}function U(t,e,i,r){const n=e%360*Math.PI/180;h(t,a(t),n);const o=Math.cos(n),s=Math.sin(n),l=t[4],c=t[5];return t[4]=l*o-c*s+r*s-i*o+i,t[5]=c*o+l*s-i*s-r*o+r,t}function F(t,e){k&&\"left\"in k?(null!=k.left&&k.left>t&&(k.left=t),(null==k.right||k.right<t)&&(k.right=t),(null==k.top||k.top>e)&&(k.top=e),(null==k.bottom||k.bottom<e)&&(k.bottom=e)):k={left:t,bottom:e,right:t,top:e}}function E(t){const e=t.args,i=e.length;let r;switch(t.action){case\"M\":case\"L\":case\"C\":case\"S\":case\"Q\":case\"T\":for(r=0;r<i;r+=2)F(e[r],e[r+1]);b.x=e[i-2],b.y=e[i-1];break;case\"H\":for(r=0;r<i;++r)F(e[r],b.y);b.x=e[i-1];break;case\"V\":for(r=0;r<i;++r)F(b.x,e[r]);b.y=e[i-1];break;case\"m\":{let t=0;\"x\"in b||(F(b.x=e[0],b.y=e[1]),t=2);for(r=t;r<i;r+=2)F(b.x+=e[r],b.y+=e[r+1]);break}case\"l\":case\"t\":for(r=0;r<i;r+=2)F(b.x+=e[r],b.y+=e[r+1]);break;case\"h\":for(r=0;r<i;++r)F(b.x+=e[r],b.y);break;case\"v\":for(r=0;r<i;++r)F(b.x,b.y+=e[r]);break;case\"c\":for(r=0;r<i;r+=6)F(b.x+e[r],b.y+e[r+1]),F(b.x+e[r+2],b.y+e[r+3]),F(b.x+=e[r+4],b.y+=e[r+5]);break;case\"s\":case\"q\":for(r=0;r<i;r+=4)F(b.x+e[r],b.y+e[r+1]),F(b.x+=e[r+2],b.y+=e[r+3]);break;case\"A\":for(r=0;r<i;r+=7)F(e[r+5],e[r+6]);b.x=e[i-2],b.y=e[i-1];break;case\"a\":for(r=0;r<i;r+=7)F(b.x+=e[r+5],b.y+=e[r+6])}}function O(t,e,i){const r=x[t.toLowerCase()];let n;\"number\"==typeof r&&(r?e.length>=r&&(n={action:t,args:e.slice(0,e.length-e.length%r)},i.push(n),E(n)):(n={action:t,args:[]},i.push(n),E(n)))}function T(t){const e=(\"string\"!=typeof t.path?v(t.path):t.path).match(w),i=[];if(k={},b={},!e)return null;let r=\"\",n=[];const o=e.length;for(let a=0;a<o;++a){const t=e[a],o=parseFloat(t);isNaN(o)?(r&&O(r,n,i),n=[],r=t):n.push(o)}O(r,n,i);const s={x:0,y:0,width:0,height:0};return k&&\"left\"in k&&(s.x=k.left,s.y=k.top,s.width=k.right-k.left,s.height=k.bottom-k.top),s}function L(t){const e={x:0,y:0,width:0,height:0};if(\"circle\"===t.type)e.x=t.cx-t.r,e.y=t.cy-t.r,e.width=2*t.r,e.height=2*t.r;else if(\"ellipse\"===t.type)e.x=t.cx-t.rx,e.y=t.cy-t.ry,e.width=2*t.rx,e.height=2*t.ry;else if(\"image\"===t.type||\"rect\"===t.type)e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height;else if(\"path\"===t.type){const i=T(t);e.x=i.x,e.y=i.y,e.width=i.width,e.height=i.height}return e}function R(t){const e={x:0,y:0,width:0,height:0};let i=null,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY;for(const o of t)i?(i.x=Math.min(i.x,o.x),i.y=Math.min(i.y,o.y),r=Math.max(r,o.x+o.width),n=Math.max(n,o.y+o.height)):(i=e,i.x=o.x,i.y=o.y,r=o.x+o.width,n=o.y+o.height);return i&&(i.width=r-i.x,i.height=n-i.y),i}function C(t,e,i,r,s,a,l,h,c){let f=(l&&a?M(a,e):e)/2,u=(l&&a?M(a,i):i)/2;if(c){const t=c[0],e=c[1];f=(l&&a?M(a,t):t)/2,u=(l&&a?M(a,e):e)/2}const d=t.width+r,y=t.height+r,p=n(),g=n();let m=!1;if(s&&0!==d&&0!==y){const t=e!==i?e/i:d/y,r=e>i?e:i;let n=1,s=1;isNaN(r)||(t>1?(n=r/d,s=r/t/y):(s=r/y,n=r*t/d)),o(g,g,I(p,n,s,f,u)),m=!0}const x=t.x+(d-r)/2,w=t.y+(y-r)/2;if(o(g,g,B(p,f-x,u-w)),!m&&(d>e||y>i)){const t=d/e>y/i,r=(t?e:i)/(t?d:y);o(g,g,I(p,r,r,x,w))}return h&&o(g,g,B(p,h[0],h[1])),a&&o(g,g,U(p,a,x,w)),`matrix(${g[0]},${g[1]},${g[2]},${g[3]},${g[4]},${g[5]})`}function D(t){const e=t?.match(/bloom\\(\\s*([^\\s]+)\\s+([^\\s]+)\\s+([^\\s]+)\\s*\\)/i);if(!e)return null;const[,n,o,s]=e;return{strength:Number(n),radius:i(r(o)),threshold:Number(s)}}function V(t,e,i){const r=D(t);if(!r)return null;const{strength:n,radius:o}=r,s=n>0?o:0,a=(n+s)*e,l=4*n+1;return y(\"filter\",{filterUnits:\"userSpaceOnUse\",height:\"300%\",id:`bloom${i}`,width:\"300%\",x:\"-100%\",y:\"-100%\"},y(\"feMorphology\",{in:\"SourceGraphic\",operator:\"dilate\",radius:(n+.5*s)*(5**(e/100)*(.4+e/100)),result:\"dilate\"}),y(\"feGaussianBlur\",{in:\"dilate\",result:\"blur\",stdDeviation:a/25}),y(\"feGaussianBlur\",{in:\"blur\",result:\"intensityBlur\",stdDeviation:a/50}),y(\"feComponentTransfer\",{in:\"SourceGraphic\",result:\"intensityBrightness\"},y(\"feFuncR\",{slope:l,type:\"linear\"}),y(\"feFuncG\",{slope:l,type:\"linear\"}),y(\"feFuncB\",{slope:l,type:\"linear\"})),y(\"feMerge\",null,y(\"feMergeNode\",{in:\"intensityBlur\"}),y(\"feMergeNode\",{in:\"intensityBrightness\"}),y(\"feGaussianBlur\",{stdDeviation:n/10})))}function q(t,i,r,n={}){const o=[],s=[],a=f(),l=V(n.cssEffectFilter,i,a);let h=null;if(l){const t=D(n.cssEffectFilter),e=n.clipBloomEffect||!t?.strength?0:(t.strength+t.radius/2)/3,o=i+i*e,s=r+r*e;h=[Math.max(o,10),Math.max(s,10)]}let c=i,u=r;if(n.useRotationSize)for(let e=0;e<t.length;e++){const t=n.rotations?.[e]??0;c=Math.max(M(t,i),c),u=Math.max(M(t,r),u)}for(let e=0;e<t.length;e++){const a=t[e],l=[],f=[];let d=0,p=0,g=0;for(const t of a){const{shape:e,fill:i,stroke:r,font:s,offset:a}=t;n.ignoreStrokeWidth||\"text\"===e.type||(d+=r?.width||0);const h=$(i),c=A(r),u=\"text\"===e.type?G(e,s):null;o.push(N(h)),l.push(S(e,h.fill,c,u,n.ariaLabel)),f.push(L(e)),a&&(p+=a[0],g+=a[1])}const m=n.rotations?.[e]??0;n.useRotationSize&&(p+=(c-M(m,i))/2,g+=(u-M(m,r))/2);const x=C(R(f),i,r,d,n.scale??!1,m,n.useRotationSize??!1,[p,g],h);let w=null;if(n.masking){const t=`mask-${e}`,i=n.masking[e];o.push(z(i,t)),w=`url(#${t})`}s.push(w?y(\"g\",{mask:w},y(\"g\",{transform:x},l)):y(\"g\",{transform:x},l))}l&&(e(h),c=h[0],u=h[1]);const d=\"display: block;\";return y(\"svg\",{\"aria-label\":n.ariaLabel,focusable:!1,height:u,role:\"img\",style:d,width:c,xmlns:p},l,y(\"defs\",null,o),l?y(\"g\",{filter:`url(#bloom${a})`},s):s)}export{R as computeBBox,$ as generateFillAttributes,A as generateStrokeAttributes,G as generateTextAttributes,L as getBoundingBox,C as getTransformMatrix,N as renderDef,q as renderSVG,S as renderShape};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{id as t}from\"../../kernel.js\";import e from\"../../request.js\";import{toHSV as i,toRGB as r}from\"../../core/colorUtils.js\";import n from\"../../core/Error.js\";import has from\"../../core/has.js\";import\"../../libs/maquette/projection.js\";import{createProjector as o}from\"../../libs/maquette/projector.js\";import{renderSVG as a}from\"./svgUtils.js\";const c=o();function s(t,e){c.append(t,e),c.detach(e)}function l(t,e,i){const r=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!t.some(t=>!!t.length))return null;const o=i?.node||document.createElement(\"div\");null!=i.opacity&&(o.style.opacity=i.opacity.toString()),null!=i.cssEffectFilter&&(o.style.filter=i.cssEffectFilter);return s(o,()=>a(t,r,n,i)),o}function h(t,e){t=Math.ceil(t),e=Math.ceil(e);const i=document.createElement(\"canvas\");i.width=t,i.height=e,i.style.width=t+\"px\",i.style.height=e+\"px\";const r=i.getContext(\"2d\");return r.clearRect(0,0,t,e),r}function m(t,i,r){return t?e(t,{responseType:\"image\"}).then(t=>{const e=t.data,n=e.width,o=e.height,a=n/o;let c=i;if(r){const t=Math.max(n,o);c=Math.min(c,t)}return{image:e,width:a<=1?Math.ceil(c*a):c,height:a<=1?c:Math.ceil(c/a)}}):Promise.reject(new n(\"renderUtils: imageDataSize\",\"href not provided.\"))}function g(t,e){return!(!t||\"ignore\"===e)&&(\"multiply\"!==e||255!==t.r||255!==t.g||255!==t.b||1!==t.a)}function u(t,e,n,o,a){switch(a){case\"multiply\":t[e]*=n[0],t[e+1]*=n[1],t[e+2]*=n[2],t[e+3]*=n[3];break;default:{const a=i({r:t[e],g:t[e+1],b:t[e+2]});a.h=o.h,a.s=o.s,a.v=a.v/100*o.v;const c=r(a);t[e]=c.r,t[e+1]=c.g,t[e+2]=c.b,t[e+3]*=n[3];break}}}function d(e,r,n,o,a){return m(e,r,a).then(a=>{const c=a.width??r,s=a.height??r;if(a.image&&g(n,o)){let t=a.image.width,r=a.image.height;has(\"edge\")&&/\\.svg$/i.test(e)&&(t-=1,r-=1);const l=h(c,s);l.drawImage(a.image,0,0,t,r,0,0,c,s);const m=l.getImageData(0,0,c,s),g=[n.r/255,n.g/255,n.b/255,n.a],d=i(n);for(let e=0;e<m.data.length;e+=4)u(m.data,e,g,d,o);l.putImageData(m,0,0),e=l.canvas.toDataURL(\"image/png\")}else{const i=t?.findCredential(e);if(i?.token){const t=e.includes(\"?\")?\"&\":\"?\";e=`${e}${t}token=${i.token}`}}return{url:e,width:c,height:s}}).catch(()=>({url:e,width:r,height:r}))}export{s as renderOnce,l as renderSymbol,d as tintImageWithColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{pt2px as e,toPt as t,px2pt as l}from\"../../core/screenUtils.js\";import{isSubtypeGroupLayer as a}from\"../../layers/support/layerUtils.js\";import{loadArcade as i}from\"../../support/loadArcade.js\";import{getStroke as r}from\"./gfxUtils.js\";import{renderSymbol as s,renderOnce as o}from\"./renderUtils.js\";import{isSymbol3D as n}from\"./typeUtils.js\";import{applyColorToSymbol as c,applySizesToSymbol as u,applyRotationToSymbol as p,getColorFromSymbol as f,applyOpacityToColor as y}from\"./utils.js\";import{renderRelationshipRamp as h}from\"../../widgets/Legend/styles/support/relationshipUtils.js\";import{getRelationshipRampElement as d}from\"../../widgets/Legend/support/relationshipRampUtils.js\";let m=null;const b=[255,255,255];function g(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function w(e,t,l){const{backgroundColor:a,outline:i,dotSize:r}=e,s=l?.swatchSize||22,o=.8,n=Math.round(s*s/Math.max(r,.5)**2*o),c=window.devicePixelRatio,u=document.createElement(\"canvas\"),p=s*c;u.width=p,u.height=p,u.style.width=u.width/c+\"px\",u.style.height=u.height/c+\"px\";const f=u.getContext(\"2d\");if(a&&(f.fillStyle=a.toCss(!0),f.fillRect(0,0,p,p),f.fill()),f.fillStyle=t?.toCss(!0)??\"\",m&&m.length/2===n)for(let h=0;h<2*n;h+=2){const e=m[h],t=m[h+1];f.fillRect(e,t,r*c,r*c),f.fill()}else{m=[];for(let e=0;e<2*n;e+=2){const e=g(0,p),t=g(0,p);m.push(e,t),f.fillRect(e,t,r*c,r*c),f.fill()}}i&&(i.color&&(f.strokeStyle=i.color.toCss(!0)),f.lineWidth=i.width,f.strokeRect(0,0,p,p));const y=new Image(s,s);return y.src=u.toDataURL(),y.ariaLabel=l?.ariaLabel??null,y.alt=l?.ariaLabel??\"\",y}function S(e,t={}){const l=t.radius||40,a=2*Math.PI*l,i=e.length,o=a/i,n=[],c=r(t.outline);null!=c?.width&&(c.width*=2),(c||t.backgroundColor)&&n.push({shape:{type:\"circle\",cx:l,cy:l,r:l},fill:t.backgroundColor,stroke:c,offset:[0,0]});const u=t.values,p=u&&u.length===i&&100===u.reduce((e,t)=>e+t,0),f=[0];for(let r=0;r<i;r++){let t=null;p&&(t=u[r]*a/100,f.push(t+f[r])),n.push({shape:{type:\"circle\",cx:l,cy:l,r:l/2},fill:[0,0,0,0],stroke:{width:l,dashArray:`${(t??o)/2} ${a}`,dashoffset:\"-\"+(p?f[r]/2:r*(o/2)),color:e[r]},offset:[0,0]})}let y=null;const h=2*l+(c?.width||0),d=t.holePercentage;if(d){c&&n.push({shape:{type:\"circle\",cx:l,cy:l,r:l*d},fill:null,stroke:c,offset:[0,0]});const e=h/2;y=[[{shape:{type:\"circle\",cx:e,cy:e,r:e},fill:b,stroke:c?{...c,color:b}:null,offset:[0,0]},{shape:{type:\"circle\",cx:e,cy:e,r:l*d},fill:[0,0,0],stroke:null,offset:[0,0]}]]}return s([n],[h,h],{cssEffectFilter:t.cssEffectFilter,ignoreStrokeWidth:!0,masking:y,rotations:[-90],ariaLabel:t.ariaLabel})}function v(e,t={}){const l=e?.authoringInfo;if(!(\"relationship\"===l?.type)||!l?.numClasses||!e.uniqueValueInfos)return null;const{focus:a,numClasses:i}=l,r=d({focus:a,numClasses:i,infos:e.uniqueValueInfos}),s=t?.node||document.createElement(\"div\");return o(s,()=>h(r,t.id||\"relationship\",{opacity:t.opacity||1,cssEffectFilter:t.cssEffectFilter,ariaLabel:t.ariaLabel})),s}function V(e,t={}){const l=24,a=75,i=\"horizontal\"===t.align,r=i?a:l,s=i?l:a,o=t.width??r,n=t.height??s,c=t.gradient??!0,u=window.devicePixelRatio,p=o*u,f=n*u,y=document.createElement(\"canvas\");y.width=p,y.height=f,y.ariaLabel=t.ariaLabel??null,y.style.width=`${o}px`,y.style.height=`${n}px`;const h=y.getContext(\"2d\"),d=i?p:0,m=i?0:f;if(c){const t=h.createLinearGradient(0,0,d,m),l=e.length,a=1===l?0:1/(l-1);e.forEach((e,l)=>t.addColorStop(l*a,e.toString())),h.fillStyle=t,h.fillRect(0,0,p,f)}else{const t=i?p/e.length:p,l=i?f:f/e.length;let a=0,r=0;for(const s of e)h.fillStyle=s.toString(),h.fillRect(a,r,t,l),a=i?a+t:0,r=i?0:r+l}const b=document.createElement(\"div\");return b.style.width=`${o}px`,b.style.height=`${n}px`,x(b,t?.cssEffectFilter),b.appendChild(y),b}function k(e){const t=e.match(/drop-shadow\\(\\s*([^\\s]+)\\s+[^\\s]+\\s+[^\\s]+\\s+.+?\\)/);return t?t[1]:null}function x(l,a){if(!a)return;l.style.filter=a;const i=k(a);if(i){const a=e(t(i));a<0?l.style.marginLeft=`${Math.abs(a)}px`:l.style.marginRight=`${a}px`}}async function L(e,t){switch(e.type){case\"web-style\":{const{previewWebStyleSymbol:l}=await import(\"./previewWebStyleSymbol.js\");return l(e,L,t)}case\"label-3d\":case\"line-3d\":case\"mesh-3d\":case\"point-3d\":case\"polygon-3d\":{const{previewSymbol3D:l}=await import(\"./previewSymbol3D.js\");return l(e,t)}case\"simple-marker\":case\"simple-line\":case\"simple-fill\":case\"picture-marker\":case\"picture-fill\":case\"text\":{const{previewSymbol2D:l}=await import(\"./previewSymbol2D.js\");return l(e,t)}case\"cim\":{const{previewCIMSymbol:l}=await import(\"./previewCIMSymbol.js\");return l(e,t)}default:return}}function R(e){return e&&void 0!==e.opacity?e.opacity*(\"parent\"in e?R(e.parent):1):1}async function F(e,t){if(!e)return;const l=e.sourceLayer,a=(null!=t&&t.useSourceLayer?l:e.layer)??l,r=t?.ignoreOpacity?1:R(a);if(null!=e.symbol&&(null==t||!0!==t.ignoreGraphicSymbol)){const l=\"web-style\"===e.symbol.type?await e.symbol.fetchSymbol({...t,acceptedFormats:t?.webStyleAcceptedFormats,cache:t?.webStyleCache}):e.symbol.clone();return c(l,null,{add:r}),l}const s=t?.renderer??I(a);let o=s&&\"getSymbolAsync\"in s?await s.getSymbolAsync(e,t):null;if(!o)return;if(o=\"web-style\"===o.type?await o.fetchSymbol({...t,acceptedFormats:t?.webStyleAcceptedFormats,cache:t?.webStyleCache}):o.clone(),!(s&&\"visualVariables\"in s&&s.visualVariables?.length&&j(o)))return c(o,null,{add:r}),o;if(\"arcadeRequiredForVisualVariables\"in s&&s.arcadeRequiredForVisualVariables&&null==t?.arcade){const e={...t};e.arcade=await i(),t=e}const{getColor:n,getOpacity:f,getAllSizes:y,getRotationAngle:h}=await import(\"../../renderers/visualVariables/support/visualVariableUtils.js\"),d=[],m=[],b=[],g=[];for(const i of s.visualVariables)switch(i.type){case\"color\":d.push(i);break;case\"opacity\":m.push(i);break;case\"rotation\":g.push(i);break;case\"size\":i.target||b.push(i)}const w=!!d.length&&d[d.length-1],S=w?n(w,e,t):null,v=!!t?.ignoreOpacity,V=!!m.length&&m[m.length-1],k=V?f(V,e,t):null;if(c(o,S,v?void 0:{override:k,add:r}),b.length&&!0!==t?.ignoreSizeVariables){const l=y(b,e,t);await u(o,l)}if(!0!==t?.ignoreRotationVariables)for(const i of g)p(o,h(i,e,t),i.axis);return o}async function C(e,t){if(!e)return;const{layer:l,sourceLayer:a}=e,r=R(l??a);if(null!=e.symbol&&(null==t||!0!==t.ignoreGraphicSymbol)){const l=\"web-style\"===e.symbol.type?await e.symbol.fetchSymbol({...t,acceptedFormats:t?.webStyleAcceptedFormats}):e.symbol.clone();return f(l,r)}const s=t?.renderer??I(l)??I(a);let o=s&&\"getSymbolAsync\"in s?await s.getSymbolAsync(e,t):void 0;if(!o)return;o=\"web-style\"===o.type?await o.fetchSymbol({...t,acceptedFormats:t?.webStyleAcceptedFormats}):o.clone();const n=f(o,void 0);if(!s||!(\"visualVariables\"in s)||\"visualVariables\"in s&&!s.visualVariables||\"visualVariables\"in s&&!s.visualVariables?.length||!j(o))return n?y(n,r):void 0;if(\"arcadeRequiredForVisualVariables\"in s&&s.arcadeRequiredForVisualVariables&&null==t?.arcade){const e={...t};e.arcade=await i(),t=e}const{getColor:c,getOpacity:u}=await import(\"../../renderers/visualVariables/support/visualVariableUtils.js\"),p=[],h=[];if(s.visualVariables)for(const i of s.visualVariables)switch(i.type){case\"color\":p.push(i);break;case\"opacity\":h.push(i)}const d=p.length>0?p[p.length-1]:null,m=(d?c(d,e,t):void 0)??n,b=h.length>0?h[h.length-1]:null,g=b?u(b,e,t):null;return null!=m&&null!=g&&(m.a=g),m?y(m,r):null}function j(e){return!n(e)||\"water\"!==e.symbolLayers.at(0)?.type}function I(e){if(e)return\"renderer\"in e?e.renderer:void 0}async function U(e,t,l){if(!e)return;const{layer:a,sourceLayer:i}=e,r=l?.renderer??I(a)??I(i);if(!r)return null;if(\"visualVariables\"in r&&r.visualVariables?.length){const{getRampStops:i}=await import(\"../../widgets/Legend/support/colorRampUtils.js\"),{getRampStops:s}=await import(\"../../widgets/Legend/support/sizeRampUtils.js\"),{getFormatOptionsForVisualVariable:o}=await import(\"../../widgets/Legend/support/utils.js\");let n=null;for(const c of r.visualVariables){const u=t?o(a,c,t.timeZone):null;let p=null;switch(c.type){case\"color\":p=await i(c,null,u);break;case\"opacity\":p=await i(c);break;case\"size\":c.target||(p=await s(r,c,null,l?.scale||t?.scale,t,u))}if(p?.length){const t=p.find((t,l)=>{const a=e.attributes[c.field];return 0===l?a>=t.value:l===p?.length-1?a<=t.value:t.value===a});if(t){n=t.label;break}}}if(n)return n}switch(r.type){case\"class-breaks\":{const t=\"getClassBreakInfo\"in r?await r.getClassBreakInfo(e,l):null;return t?.label??(t&&r.classBreakInfos?.length>1)?`${t.minValue} - ${t.maxValue}`:null}case\"unique-value\":{const t=\"getUniqueValueInfo\"in r?await r.getUniqueValueInfo(e,l):null;return t?.label}}return null}async function z(e,t){e?.layer&&a(e.layer)&&((e=e.cloneShallow()).layer=e.layer.findSublayerForFeature(e)??null);const i=null===e?t?.fallbackSymbol??null:await F(e,{ignoreGraphicSymbol:!!e.layer,ignoreOpacity:t?.ignoreOpacity??!0,ignoreRotationVariables:t?.ignoreRotationVariables??!0,ignoreSizeVariables:t?.ignoreSizeVariables??!0})??t?.fallbackSymbol??null;if(!i)return null;const r=await L(i,{geometry:t.useGeometryForShape?e?.geometry??null:null,useMarkerSymbolSize:!1!==t.useMarkerSymbolSize,size:{width:l(t.widthInPixels??16),height:l(t.heightInPixels??16)},...\"cim\"===i?.type?{cimOptions:{feature:{attributes:e?.attributes??{}}}}:{}});if(!r)return null;return\"element\"===(t?.format??\"element\")?r:r.outerHTML}export{C as getDisplayedColor,F as getDisplayedSymbol,U as getLegendLabel,z as previewGraphic,V as renderColorRampPreviewHTML,w as renderDotDensityPreviewHTML,S as renderPieChartPreviewHTML,L as renderPreviewHTML,v as renderRelationshipRampPreviewHTML};\n"],"names":["n","t","o","c","f","i","p","g","has","m","x","w","k","b","j","M","v","S","r","y","e","$","u","d","A","G","N","z","s","a","l","h","B","I","U","F","E","O","T","L","R","C","D","V","q"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}