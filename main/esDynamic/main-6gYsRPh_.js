var so=(t=>(t.BLOB="blob",t.DATE="date",t.DOUBLE="double",t.GEOMETRY="geometry",t.GLOBAL_ID="global-id",t.GUID="guid",t.INTEGER="integer",t.LONG="long",t.OID="oid",t.RASTER="raster",t.SINGLE="single",t.SMALL_INTEGER="small-integer",t.STRING="string",t.XML="xml",t))(so||{}),oo=(t=>(t.CIRCLE="circle",t.CROSS="cross",t.DIAMOND="diamond",t.ICON="icon",t.PATH="path",t.SQUARE="square",t.TRIANGLE="triangle",t.X="x",t))(oo||{}),ir=(t=>(t.DASH="dash",t.DASHDOT="dash-dot",t.DASHDOTDOT="short-dash-dot-dot",t.DOT="dot",t.LONGDASH="long-dash",t.LONGDASHDOT="long-dash-dot",t.LONGDASHDOTDOT="long-dash-dot-dot",t.NONE="none",t.NULL="none",t.SHORTDASH="short-dash",t.SHORTDASHDOT="short-dash-dot",t.SHORTDASHDOTDOT="short-dash-dot-dot",t.SHORTDOT="short-dot",t.SOLID="solid",t))(ir||{}),HT=(t=>(t.BEVEL="bevel",t.MITER="miter",t.ROUND="round",t))(HT||{}),YT=(t=>(t.ROUND="round",t.BUTT="butt",t.SQUARE="square",t))(YT||{}),JT=(t=>(t.BDIAG="backward-diagonal",t.CROSS="cross",t.DIAG_CROSS="diagonal-cross",t.FDIAG="forward-diagonal",t.HORIZONTAL="horizontal",t.NONE="none",t.NULL="none",t.SOLID="solid",t.VERTICAL="vertical",t))(JT||{}),Bt=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t.LINEARRING="LinearRing",t.EXTENT="Extent",t.NONE="None",t.UNKNOWN="Unknown",t))(Bt||{}),Q0=(t=>(t.Simple="simple",t.Unique="uniqueValue",t.ClassBreaks="classBreaks",t.Unknown="unknown",t))(Q0||{}),xt=(t=>(t.FEATURE="esri-feature",t.MAPIMAGE="esri-map-image",t.TILE="esri-tile",t.VECTORTILE="esri-vector-tile",t.IMAGERY="esri-imagery",t.IMAGERYTILE="esri-imagery-tile",t.GRAPHIC="esri-graphic",t.WMS="ogc-wms",t.WFS="ogc-wfs",t.GEOJSON="file-geojson",t.GEOJSONZIPPED="file-zip-geojson",t.CSV="file-csv",t.SHAPEFILE="file-shape",t.FLATGEOBUF="file-fgb",t.FLATGEOBUFZIPPED="file-zip-fgb",t.OSM="osm-tile",t.DATACSV="data-csv",t.DATAJSON="data-json",t.DATATABLE="data-esri-table",t.UNKNOWN="unknown",t.SUBLAYER="sublayer",t))(xt||{}),ji=(t=>(t.FEATURE="feature",t.GRAPHIC="graphic",t.IMAGERY="imagery",t.IMAGERYTILE="imagery-tile",t.MAPIMAGE="map-image",t.NOLAYER="no-layer",t.OSM="osm-tile",t.TILE="tile",t.UNKNOWN="unknown",t.VECTORTILE="vector-tile",t.WMS="wms",t))(ji||{}),ei=(t=>(t.ESRI_FEATURE="esriFeature",t.ESRI_RASTER="esriRaster",t.ESRI_TILE="esriTile",t.OSM_TILE="osmTile",t.OGC_RASTER="ogcRaster",t.UNKNOWN="unknown",t))(ei||{}),un=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t))(un||{}),zn=(t=>(t.GEOMETRIC="geometric",t.SYMBOLIC="symbolic",t.HYBRID="hybrid",t.NONE="none",t))(zn||{}),Be=(t=>(t.NEW="new",t.INITIATING="initiating",t.INITIATED="initiated",t.TERMINATING="terminating",t.TERMINATED="terminated",t))(Be||{}),rn=(t=>(t.NEW="new",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error",t))(rn||{}),$i=(t=>(t.NOT_LOADED="not-loaded",t.NOT_VISUAL="not-visual",t.REFRESH="refresh",t.UP_TO_DATE="up-to-date",t))($i||{}),pc=(t=>(t.ESRI="esri",t.TEXT="text",t.IMAGE="image",t.HTML="html",t.XML="xml",t.JSON="json",t.UNKNOWN="unknown",t))(pc||{}),oi=(t=>(t.SYMBOL="symbol",t.GRID="grid",t.EXTENT="extent",t.INITIAL="initial",t.API="api",t.PERMANENT="permanent",t))(oi||{}),hn=(t=>(t.BoundaryZoom="boundaryZoom",t.Datatable="datatable",t.Identify="identify",t.Metadata="metadata",t.Opacity="opacity",t.Refresh="refresh",t.Reload="reload",t.Remove="remove",t.Settings="settings",t.Symbology="symbology",t.Visibility="visibility",t))(hn||{});class Wr{attributes;geometry;style;id;constructor(e,n,i){this.geometry=e,n?this.id=n:this.id=cc.sharedUtils.generateUUID(),i?this.attributes=i:this.attributes={}}_hover;get hover(){return this._hover}set hover(e){e&&this._hover&&this._hover.id!==e.id&&this.removeHover(),this._hover=e}removeHover(){this._hover&&(this._hover=void 0)}}const K0={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function ZT(t){return!!K0[t]||!!K0[t.toLowerCase()]}function X2(t){return K0[t]??K0[t.toLowerCase()]}function qV(t){return[...X2(t)]}function Q2(t,e,n){n<0&&++n,n>1&&--n;const i=6*n;return i<1?t+(e-t)*i:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function XT(t,e,n,i=1){const r=(t%360+360)%360/360,s=n<=.5?n*(e+1):n+e-n*e,o=2*n-s;return[Math.round(255*Q2(o,s,r+1/3)),Math.round(255*Q2(o,s,r)),Math.round(255*Q2(o,s,r-1/3)),i]}function HV(t){const e=t.length>5,n=e?8:4,i=(1<<n)-1,r=e?1:17,s=e?t.length===9:t.length===5;let o=+("0x"+t.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&i,o>>=n,a[3]=r*l/255),l=o&i,o>>=n,a[2]=r*l,l=o&i,o>>=n,a[1]=r*l,l=o&i,o>>=n,a[0]=r*l,a}function QT(t){if(!t.startsWith("#")||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const e=parseInt(t.slice(1,2),16),n=parseInt(t.slice(2,3),16),i=parseInt(t.slice(3,4),16),r=t.length===4?15:parseInt(t.slice(4),16);return[e+16*e,n+16*n,i+16*i,(r+16*r)/255]}case 7:case 9:return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16),(t.length===7?255:parseInt(t.slice(7),16))/255];default:return null}}function KT(t){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(e){const n=e[2].split(/\s*,\s*/),i=e[1];if(i==="rgb"&&n.length===3||i==="rgba"&&n.length===4){if(n[0].endsWith("%")){const r=n.map(s=>2.56*parseFloat(s));return n.length===4&&(r[3]=parseFloat(n[3])),tI(r)}return tI(n.map(r=>parseFloat(r)))}if(i==="hsl"&&n.length===3||i==="hsla"&&n.length===4)return XT(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3]??"1"))}return null}function tI(t){return t[0]=Yu(t[0]),t[1]=Yu(t[1]),t[2]=Yu(t[2]),t[3]=t.length===4?nI(t[3]):1,t}function eI(t){let e=ZT(t)?X2(t):null;return e??=KT(t),e??=QT(t),e}function YV(t){const e=eI(t);return e!=null?[e[0]/255,e[1]/255,e[2]/255,e[3]]:null}function nI(t){return iI(t,0,1)}function Yu(t){return Math.round(iI(t,0,255))}function iI(t,e,n){return t=Number(t),isNaN(t)?n:t<e?e:t>n?n:t}const K2=2.2,JV=1/K2;function ZV(t){return t**K2}function XV(t){return t**JV}const rI=new Float32Array(1);function QV(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function Ju(t,e,n){return Math.min(Math.max(t,e),n)}function KV(t){return!(t&t-1)}function tz(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function sI(t,e,n){return t+(e-t)*n}function ez(t,e,n,i,r){return sI(i,r,(t-e)/(n-e))}function nz(t){return t*Math.PI/180}function iz(t){return 180*t/Math.PI}function rz(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function sz(t){return Math.acos(Ju(t,-1,1))}function oz(t){return Math.asin(Ju(t,-1,1))}function Ho(t,e,n=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=n}function az(t,e,n=1e-6){return!Ho(t,e,n)&&t>e}function lz(t,e,n=1e-6){return!Ho(t,e,n)&&t<e}function cz(t,e,n=1e-6){return Ho(t,e,n)||t>e}const ty=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function tw(t){return ty.setFloat64(0,t),ty.getBigInt64(0)}function uz(t){return ty.setBigInt64(0,t),ty.getFloat64(0)}const ey=1000000n,hz=oI(1);function oI(t){const e=tw(t=Math.abs(t)),n=uz(e<=ey?ey:e-ey);return Math.abs(t-n)}function pz(t,e,n=hz){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(n!=null&&oI(Math.min(Math.abs(t),Math.abs(e)))<n)return Math.abs(t-e)<=n;const i=tw(t),r=tw(e);return i<0!=r<0?!1:!((i<r?r-i:i-r)>ey)}function aI(t,e,n=1e-6){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;const i=Math.abs(t-e),r=Math.abs(t),s=Math.abs(e);if(t===0||e===0||r<1e-12&&s<1e-12){if(i>.01*n)return!1}else if(i/(r+s)>n)return!1;return!0}function dz(t){return lI(Math.max(-ew,Math.min(t,ew)))}function lI(t){return rI[0]=t,rI[0]}function fz(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],i=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(Ho(e,1)&&Ho(n,1)&&Ho(i,1))}function mz(t,e){return(t%e+e)%e}const ew=lI(34028234663852886e22);function yz(t,e,n){if(n===void 0||+n==0)return Math[t](e);if(e=+e,n=+n,isNaN(e)||typeof n!="number"||n%1!=0)return NaN;let i=e.toString().split("e");return i=(e=Math[t](+(i[0]+"e"+(i[1]?+i[1]-n:-n)))).toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+n:n))}let qa;const ai=globalThis;function Q(t){return typeof qa[t]=="function"?qa[t]=qa[t](ai):qa[t]}qa=ai.dojoConfig?.has||ai.esriConfig?.has?{...ai.dojoConfig?.has,...ai.esriConfig?.has}:{},Q.add=(t,e,n,i)=>{(i||qa[t]===void 0)&&(qa[t]=e),n&&Q(t)},Q.cache=qa,Q.add("big-integer-warning-enabled",!0),Q.add("esri-deprecation-warnings",!0),Q.add("esri-tests-disable-screenshots",!1),Q.add("esri-tests-use-full-window",!1),Q.add("esri-tests-post-to-influx",!0),Q.add("esri-cim-animations-enable-status","enabled"),Q.add("esri-cim-animations-spotlight",!1),Q.add("esri-cim-animations-freeze-time",!1),(()=>{Q.add("host-webworker",ai.WorkerGlobalScope!==void 0&&self instanceof ai.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(Q.add("host-browser",t),Q.add("host-node",!(typeof ai.process!="object"||!ai.process.versions?.node||!ai.process.versions.v8)),Q.add("dom",t),Q("host-browser")){const e=navigator,n=e.userAgent,i=e.appVersion,r=parseFloat(i);if(Q.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),Q.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),Q.add("khtml",i.includes("Konqueror")?r:void 0),Q.add("edge",parseFloat(n.split("Edge/")[1])||void 0),Q.add("opr",parseFloat(n.split("OPR/")[1])||void 0),Q.add("webkit",!Q("wp")&&!Q("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),Q.add("chrome",!Q("edge")&&!Q("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),Q.add("android",!Q("wp")&&parseFloat(n.split("Android ")[1])||void 0),Q.add("safari",!i.includes("Safari")||Q("wp")||Q("chrome")||Q("android")||Q("edge")||Q("opr")?void 0:parseFloat(i.split("Version/")[1])),Q.add("mac",i.includes("Macintosh")),!Q("wp")&&/(iPhone|iPod|iPad)/.test(n)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));Q.add(s,a),Q.add("ios",a)}Q("webkit")||(!n.includes("Gecko")||Q("wp")||Q("khtml")||Q("edge")||Q.add("mozilla",r),Q("mozilla")&&Q.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(ai.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),n=/iPhone/i.test(t);e&&Q.add("esri-mobile",e),n&&Q.add("esri-iPhone",n),Q.add("esri-geolocation",!!navigator.geolocation)}Q.add("esri-wasm","WebAssembly"in ai),Q.add("esri-performance-mode-frames-between-render",20),Q.add("esri-force-performance-mode",!1),Q.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in ai,e=ai.crossOriginIsolated===!1;return t&&!e}),Q.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),Q.add("esri-atomics","Atomics"in ai),Q.add("esri-workers","Worker"in ai),Q.add("web-feat:cache","caches"in ai),Q.add("esri-workers-arraybuffer-transfer",!Q("safari")||Number(Q("safari"))>=12),Q.add("workers-pool-size",8),Q.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),Q.add("featurelayer-simplify-payload-size-factors",[1,1,4]),Q.add("featurelayer-fast-triangulation-enabled",!0),Q.add("featurelayer-animation-enabled",!0),Q.add("featurelayer-snapshot-enabled",!0),Q.add("featurelayer-snapshot-initial-tolerance",0),Q.add("featurelayer-snapshot-point-min-threshold",8e4),Q.add("featurelayer-snapshot-point-max-threshold",4e5),Q.add("featurelayer-snapshot-multipoint-min-threshold",2e4),Q.add("featurelayer-snapshot-multipoint-max-threshold",1e5),Q.add("featurelayer-snapshot-polygon-min-threshold",2e3),Q.add("featurelayer-snapshot-polygon-max-threshold",2e3),Q.add("featurelayer-snapshot-polyline-min-threshold",2e3),Q.add("featurelayer-snapshot-polyline-max-threshold",2e3),Q.add("featurelayer-snapshot-max-vertex-count",25e4),Q.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!0),Q.add("featurelayer-snapshot-concurrency",4),Q.add("featurelayer-snapshot-coverage",.1),Q.add("featurelayer-query-max-depth",4),Q.add("featurelayer-query-pausing-enabled",!1),Q.add("featurelayer-query-tile-concurrency",4),Q.add("featurelayer-query-tile-max-features",6e5),Q.add("featurelayer-advanced-symbols",!1),Q.add("featurelayer-pbf",!0),Q.add("featurelayer-pbf-statistics",!1),Q.add("feature-layers-workers",!0),Q.add("feature-polyline-generalization-factor",1),Q.add("parquetlayer-full-query-feature-count",2e4),Q.add("parquetlayer-hittest-max-feature-count",1),Q.add("parquetlayer-persistence-enabled",!1),Q.add("mapview-transitions-duration",200),Q.add("mapview-essential-goto-duration",200),Q.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),Q.add("mapserver-pbf-version-support",10.81),Q.add("mapservice-popup-identify-max-tolerance",20),Q.add("request-queue-concurrency-hosted",16),Q.add("request-queue-concurrency-non-hosted",4),Q.add("curve-densification-coarse-segments",128),Q.add("curve-densification-max-segments",2e3),Q.add("curve-densification-min-segments",3),Q.add("curve-densification-pixel-deviation",.5),Q.add("view-readyState-waiting-delay",1e3),Q.add("gradient-depth-bias",.01),Q.add("gradient-depth-epsilon",1e-8),Q.add("enable-feature:esri-compress-textures",!0),Q("host-webworker")||Q("host-browser")&&(Q.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),Q.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();function gz(t){}function vz(t){return()=>t}function bz(t){return t}let cI=class zu{static{this._m=2147483647}static{this._a=48271}static{this._c=0}constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*zu._m}getInt(){return this._seed=(zu._a*this._seed+zu._c)%zu._m,this._seed}getFloat(){return this.getInt()/(zu._m-1)}getIntRange(e,n){return Math.round(this.getFloatRange(e,n))}getFloatRange(e,n){const i=n-e;return e+this.getInt()/zu._m*i}};const uI=1.5,wz=1/uI,_z=.5;function xz(t,e){if(!e)return t;for(const n of e)t.push(n);return t}function hI(t){return t}function Ez(t,e=hI){if(!t||t.length===0)return;let n=t[0],i=e(n);for(let r=1;r<t.length;++r){const s=t[r],o=Number(e(s));o>i&&(i=o,n=s)}return n}function Sz(t,e=hI){return Ez(t,n=>-e(n))}function Az(t,e){return e?t.filter((n,i,r)=>r.findIndex(e.bind(null,n))===i):Array.from(new Set(t))}function pI(t,e,n,i,r,s,o){if(t==null&&i==null)return!0;e=Math.max(0,e),r=Math.max(0,r),n=Math.max(0,n<0?(t?.length??0)+n:n),s=Math.max(0,s<0?(i?.length??0)+s:s);const a=n-e;if(t==null||i==null||a!==s-r)return!1;if(o){for(let l=0;l<a;l++)if(!o(t[e+l],i[r+l]))return!1}else for(let l=0;l<a;l++)if(t[e+l]!==i[r+l])return!1;return!0}function Ed(t,e,n){return pI(t,0,t?.length??0,e,0,e?.length??0,n)}function Mz(){return(t,e)=>{if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}}function Tz(t,e,n){let i,r;return n?(i=e.filter(s=>!t.some(o=>n(o,s))),r=t.filter(s=>!e.some(o=>n(o,s)))):(i=e.filter(s=>!t.includes(s)),r=t.filter(s=>!e.includes(s))),{added:i,removed:r}}function Iz(t){return t&&typeof t.length=="number"}function Nz(t,e){const n=t.length;if(n===0)return[];const i=[];for(let r=0;r<n;r+=e)i.push(t.slice(r,r+e));return i}let nw=class{constructor(){this.last=0}};const dI=new nw;function ny(t,e,n,i){i=i||dI;const r=Math.max(0,i.last-10);for(let o=r;o<n;++o)if(t[o]===e)return i.last=o,o;const s=Math.min(r,n);for(let o=0;o<s;++o)if(t[o]===e)return i.last=o,o;return-1}function Oz(t,e,n,i){const r=t.length,s=ny(t,e,r,i);if(s!==-1)return t[s]=t[r-1],t.pop(),e}const Ns=new Set;function Cz(t,e,n=t.length,i=e.length,r,s){if(i===0||n===0)return n;Ns.clear();for(let a=0;a<i;++a)Ns.add(e[a]);r=r||dI;const o=Math.max(0,r.last-10);for(let a=o;a<n;++a)if(Ns.has(t[a])&&(s?.push(t[a]),Ns.delete(t[a]),t[a]=t[n-1],--n,--a,Ns.size===0||n===0))return Ns.clear(),n;for(let a=0;a<o;++a)if(Ns.has(t[a])&&(s?.push(t[a]),Ns.delete(t[a]),t[a]=t[n-1],--n,--a,Ns.size===0||n===0))return Ns.clear(),n;return Ns.clear(),n}function kz(t,e){let n=0;for(let i=0;i<t.length;++i){const r=t[i];e(r,i)&&(t[n]=r,n++)}return t.length=n,t}function Rz(t,e,n){const i=t.length;if(e>=i)return t.slice();const r=iw(n),s=new Set,o=[];for(;o.length<e;){const a=Math.floor(r()*i);s.has(a)||(s.add(a),o.push(t[a]))}return o}function iw(t){return t?(fI.seed=t,()=>fI.getFloat()):Math.random}const fI=new cI;function Lz(t,e){if(!t)return t;const n=iw(e);for(let i=t.length-1;i>0;i--){const r=Math.floor(n()*(i+1)),s=t[i];t[i]=t[r],t[r]=s}return t}function mI(t,e){const n=t.indexOf(e);return n!==-1?(t.splice(n,1),e):null}function yI(t,e){return t!=null}const Pz=[];function Dz(t){return t instanceof ArrayBuffer}function rw(t){return t?.constructor?.name==="Int8Array"}function sw(t){return t?.constructor?.name==="Uint8Array"}function ow(t){return t?.constructor?.name==="Uint8ClampedArray"}function iy(t){return t?.constructor?.name==="Int16Array"}function aw(t){return t?.constructor?.name==="Uint16Array"}function ry(t){return t?.constructor?.name==="Int32Array"}function lw(t){return t?.constructor?.name==="Uint32Array"}function gI(t){return t?.constructor?.name==="Float16Array"}function Sd(t){return t?.constructor?.name==="Float32Array"}function Ad(t){return t?.constructor?.name==="Float64Array"}function vI(t){return"buffer"in t}const cw=1024;function Fz(t){return Ad(t)||Sd(t)||ry(t)||iy(t)||rw(t)}function jz(t){return Ad(t)||Sd(t)}function $z(t){return Ad(t)?179769e303:gI(t)?65504:Sd(t)?3402823e32:lw(t)?4294967295:aw(t)?65535:sw(t)||ow(t)?255:ry(t)?2147483647:iy(t)?32767:rw(t)?127:256}const Gz=-32768,Uz=-2147483648;function Bz(t){return t}function Vz(t,e){let n;for(n in t)t.hasOwnProperty(n)&&t[n]===void 0&&delete t[n];return t}function ht(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=xI(t);if(e!=null)return e;if(hw(t))return t.clone();if(bI(t))return t.map(ht);if(wI(t))throw new Error("Trying to clone an unclonable Accessor instance");const n={};for(const i of Object.getOwnPropertyNames(t))n[i]=ht(t[i]);return n}function uw(t,e){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const n=xI(t);if(n!=null)return n;if(bI(t)){let r=!0;const s=t.map(o=>{const a=uw(o,e);return o!=null&&a==null&&(r=!1),a});return r?s:null}if(hw(t))return t.clone(e);if(t instanceof File||t instanceof Blob)return t;if(wI(t))return null;const i=new(Object.getPrototypeOf(t)).constructor;for(const r of Object.getOwnPropertyNames(t)){const s=t[r],o=uw(s);if(s!=null&&o==null)return null;i[r]=o}return i}function hw(t){return typeof t.clone=="function"}function bI(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function wI(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function _I(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function xI(t){if(rw(t)||sw(t)||ow(t)||iy(t)||aw(t)||ry(t)||lw(t)||Sd(t)||Ad(t))return t.slice();if(t instanceof Date)return new Date(t);if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[n,i]of t)e.set(n,ht(i));return e}if(t instanceof Set){const e=new Set;for(const n of t)e.add(ht(n));return e}return null}function pw(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof t?.getTime=="function"&&typeof e?.getTime=="function"&&t.getTime()===e.getTime()||!1}function EI(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&Ed(t,e):t instanceof Set?e instanceof Set&&Wz(t,e):t instanceof Map?e instanceof Map&&qz(t,e):!!_I(t)&&_I(e)&&zz(t,e))}function zz(t,e){if(t===null||e===null)return!1;const n=Object.keys(t);if(e===null||Object.keys(e).length!==n.length)return!1;for(const i of n)if(t[i]!==e[i]||!Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}function Wz(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function qz(t,e){if(t.size!==e.size)return!1;for(const[n,i]of t){const r=e.get(n);if(r!==i||r===void 0&&!e.has(n))return!1}return!0}function SI(t,e,n=!1){return MI(t,e,n)}function sy(t,e){if(e!=null)return e[t]||AI(t.split("."),!1,e)}function Ha(t,e,n){const i=t.split("."),r=i.pop(),s=AI(i,!0,n);s&&r&&(s[r]=e)}function dw(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const n=e;if(t.length!==n.length)return!0;for(let i=0;i<t.length;i++)if(dw(t[i],n[i]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const n in t)if(dw(t[n],e[n]))return!0;return!1}return t!==e}function AI(t,e,n){let i=n;for(const r of t){if(i==null)return;if(!(r in i)){if(!e)return;i[r]={}}i=i[r]}return i}function MI(t,e,n){return e?Object.keys(e).reduce((i,r)=>{if(r==="__proto__")return i;let s=i[r],o=e[r];return s===o?i:s===void 0?(i[r]=ht(o),i):(Array.isArray(o)||Array.isArray(i)?(s=s?Array.isArray(s)?i[r]=s.slice():i[r]=[s]:i[r]=[],o&&(Array.isArray(o)||(o=[o]),n?o.forEach(a=>{s.includes(a)||s.push(a)}):i[r]=o.slice())):o&&typeof o=="object"?i[r]=MI(s,o,n):i.hasOwnProperty(r)&&!e.hasOwnProperty(r)||(i[r]=o),i)},t||{}):t}function Hz(t,e){for(const n of Object.entries(t))if(e===n[1])return n[0]}function Yz(t,e){return Object.values(t).includes(e)}const ae={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(SI(ae,globalThis.esriConfig,!0),delete ae.has),!ae.assetsPath){{const t="4.34";ae.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}ae.defaultAssetsPath=ae.assetsPath}const Jz=/\{([^}]+)\}/g;function TI(t){return t??""}function fw(t,e){return e?t.replaceAll(Jz,typeof e=="object"?(n,i)=>TI(sy(i,e)):(n,i)=>TI(e(i))):t}function Zz(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,n=>e?.includes(n)?n:`\\${n}`)}function mw(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}let II;function Xz(t){return II??=new DOMParser,II.parseFromString(t||"","text/html").body.innerText||""}function Qz(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function Kz(t,...e){let n=t[0];for(let i=0;i<e.length;++i)n+=e[i]+t[i+1];return n}const NI={info:0,warn:1,error:2,none:3};let Oe=class Vr{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Vr._loggers.set(this.module,this);const n=this.module.lastIndexOf(".");n!==-1&&(this._parent=Vr.getLogger(this.module.slice(0,n)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Vr._loggers.get(e)||new Vr({module:e})}static{this._loggers=new Map}static{this._tickCounter=0}static{this._tickCounterScheduled=!1}static{this._throttlingDisabled=!1}_log(e,n,...i){if(this._matchLevel(e)){if(n!=="always"&&!Vr._throttlingDisabled){const r=eW(i),s=this._loggedMessages[e].get(r);if(n==="once"&&s!=null||n==="oncePerTick"&&s&&s>=Vr._tickCounter)return;this._loggedMessages[e].set(r,Vr._tickCounter),Vr._scheduleTickCounterIncrement()}for(const r of ae.log.interceptors)if(r(e,this.module,...i))return;this._inheritedWriter()(e,this.module,...i)}}_parentWithMember(e,n){let i=this;for(;i!=null;){const r=i[e];if(r!=null)return r;i=i.parent}return n}_inheritedWriter(){return this._parentWithMember("writer",tW)}_matchLevel(e){const n=ae.log.level||"warn";return NI[this._parentWithMember("level",n)]<=NI[e]}static _scheduleTickCounterIncrement(){Vr._tickCounterScheduled||(Vr._tickCounterScheduled=!0,Promise.resolve().then(()=>{Vr._tickCounter++,Vr._tickCounterScheduled=!1}))}};function tW(t,e,...n){console[t](`[${e}]`,...n)}function eW(...t){return mw(JSON.stringify(t,(e,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}function nW(t,e){for(const n of t.values())if(e(n))return!0;return!1}function iW(t,e){for(const n of t.values())if(!e(n))return!1;return!0}function rW(t,e){for(const n of t.values())if(e(n))return n;return null}function yw(t,e,n){const i=t.get(e);if(i!==void 0)return i;const r=n();return t.set(e,r),r}function sW(t){const e=new Map;return n=>(e.has(n)||e.set(n,t(n)),e.get(n))}const dc=()=>Oe.getLogger("esri.core.accessorSupport.ensureTypes");function oW(t){if(t==null)return t;const e=new Date(t);return isNaN(e.getTime())?(dc().error("Accessor#set",`Invalid date value: '${t}', falling back to current date`),new Date):e}function aW(t){return t==null?t:!!t}function OI(t){return t==null?t:t.toString()}function Md(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function oy(t){return t==null?t:Math.round(parseFloat(t))}function lW(t){return null}function CI(t,e){return n=>{let i=t(n);return e.step!=null&&(i=Math.round(i/e.step)*e.step),e.min!=null&&(i=Math.max(e.min,i)),e.max!=null&&(i=Math.min(e.max,i)),i}}function kI(t){return t?.constructor&&t.constructor.__accessorMetadata__!==void 0}function ay(t,e){return e!=null&&t&&!(e instanceof t)}function RI(t){return t&&"isCollection"in t}function LI(t){return t?.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function cW(t,e){if(!e?.constructor||!RI(e.constructor))return gw(t,e)?e:new t(e);const n=LI(t.prototype.itemType),i=LI(e.constructor.prototype.itemType);return n?i?n===i?e:n.prototype.isPrototypeOf(i.prototype)?new t(e):(gw(t,e),e):new t(e):e}function gw(t,e){return!!kI(e)&&(dc().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+ly(t)+"'"),!0)}function PI(t,e){return e==null?e:RI(t)?cW(t,e):ay(t,e)?gw(t,e)?e:new t(e):e}function ly(t){return t?.prototype?.declaredClass||"unknown"}const uW=new WeakMap;function hW(t){switch(t){case Number:return e=>Md(e);case sn:return oy;case Boolean:return aW;case String:return OI;case Date:return oW;case uy:return lW;default:return yw(uW,t,()=>PI.bind(null,t))}}function qr(t,e){const n=hW(t);return arguments.length===1?n:n(e)}function Td(t,e,n){return arguments.length===1?Td.bind(null,t):e&&(Array.isArray(e)?e.map(i=>t(i,n)):[t(e,n)])}function pW(t,e){return arguments.length===1?Td(n=>qr(t,n)):Td(n=>qr(t,n),e)}function DI(t,e,n){return e!==0&&Array.isArray(n)?n.map(i=>DI(t,e-1,i)):t(n)}function cy(t,e,n){if(arguments.length===2)return s=>cy(t,e,s);if(!n)return n;n=DI(t,e,n);let i=e,r=n;for(;i>0&&Array.isArray(r);)i--,r=r[0];if(r!==void 0)for(let s=0;s<i;s++)n=[n];return n}function dW(t,e,n){return arguments.length===2?cy(i=>qr(t,i),e):cy(i=>qr(t,i),e,n)}function FI(t){return!!Array.isArray(t)&&!t.some(e=>{const n=typeof e;return!(n==="string"||n==="number"||n==="function"&&t.length>1)})}function vw(t,e){if(arguments.length===2)return vw(t).call(null,e);const n=new Set,i=t.filter(a=>typeof a!="function"),r=t.filter(a=>typeof a=="function");for(const a of t)typeof a!="string"&&typeof a!="number"||n.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,p=c==="string"||c==="number";return p&&(n.has(a)||r.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&r.some(d=>!ay(d,a))?a:(p&&i.length?(s||(s=i.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),dc().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&r.length?(o||(o=r.map(d=>ly(d)).join(", ")),dc().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):dc().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function fc(t,e){if(arguments.length===2)return fc(t).call(null,e);const n={},i=[],r=[];for(const l in t.typeMap){const c=t.typeMap[l];n[l]=qr(c),i.push(ly(c)),r.push(l)}const s=()=>`'${i.join("', '")}'`,o=()=>`'${r.join("', '")}'`,a=typeof t.key=="string"?l=>l[t.key]:t.key;return l=>{if(t.base&&!ay(t.base,l)||l==null)return l;const c=a(l)||t.defaultKeyValue,p=n[c];if(!p)return dc().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!ay(t.typeMap[c],l))return l;if(typeof t.key=="string"&&!kI(l)){const d={};for(const f in l)f!==t.key&&(d[f]=l[f]);return p(d)}return p(l)}}let sn=class{},uy=class{};const fW={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function mW(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function jI(t){switch(t.type){case"native":return qr(t.value);case"array":return Td(jI(t.value));case"one-of":return yW(t);default:return null}}function yW(t){let e=null;return(n,i)=>ww(n,t)?n:(e==null&&(e=bw(t)),dc().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),i&&(i.valid=!1),null)}function bw(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case sn:return"integer";case Date:return"date";case uy:return"null";default:return ly(t.value)}case"array":return`array of ${bw(t.value)}`;case"one-of":{const e=t.values.map(n=>bw(n));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function ww(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case sn:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case uy:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(n=>!ww(n,e.value));case"one-of":return e.values.some(n=>ww(t,n))}}function hy(t){return Ju(oy(t),0,255)}function py(t,e){const n=t.toString(16).padStart(2,"0");return e?n.slice(0,1):n}let pe=class Ts{static blendColors(e,n,i,r=new Ts){return r.r=Math.round(e.r+(n.r-e.r)*i),r.g=Math.round(e.g+(n.g-e.g)*i),r.b=Math.round(e.b+(n.b-e.b)*i),r.a=e.a+(n.a-e.a)*i,r._sanitize()}static fromRgb(e,n){const i=KT(e);return i?Ts.fromArray(i,n):null}static fromHex(e,n=new Ts){const i=QT(e);return i?Ts.fromArray(i,n):null}static fromArray(e,n=new Ts){return n._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(n.a)&&(n.a=1),n._sanitize()}static fromString(e,n){const i=eI(e);return i?Ts.fromArray(i,n):null}static fromJSON(e){return e!=null?new Ts([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e,n){return e==null?null:(n??=[0,0,0,0],n[0]=e.r/255,n[1]=e.g/255,n[2]=e.b/255,n[3]=e.a!=null?e.a:1,n)}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?Ts.fromString(e,this):Array.isArray(e)?Ts.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof Ts||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const n=e?.capitalize??!1,i=e?.digits??6,r=i===3||i===4,s=i===4||i===8,o=`#${py(this.r,r)}${py(this.g,r)}${py(this.b,r)}${s?py(Math.round(255*this.a),r):""}`;return n?o.toUpperCase():o}toCss(e=!1){const n=this.r+", "+this.g+", "+this.b;return e?`rgba(${n}, ${this.a})`:`rgb(${n})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=0){const n=hy(this.r),i=hy(this.g),r=hy(this.b);return e===0||this.a!==1?[n,i,r,hy(255*this.a)]:[n,i,r]}clone(){return new Ts(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Yu(this.r),this.g=Yu(this.g),this.b=Yu(this.b),this.a=nI(this.a),this}_set(e,n,i,r){this.r=e,this.g=n,this.b=i,this.a=r}};pe.prototype.declaredClass="esri.Color";const gW={remove:()=>{}};function pn(t){return t?{remove(){t&&(t(),t=void 0)}}:gW}function _w(t){t.forEach(e=>e?.remove())}function vW(t){_w(t),t.length=0}function dy(t){return pn(()=>_w(t))}function bW(t){return pn(()=>t()?.remove())}function $I(t){return pn(()=>t?.abort())}function wW(t){return pn(t!=null?()=>t.destroy():void 0)}function _W(t){return typeof t=="object"&&!!t&&"remove"in t&&typeof t.remove=="function"}function xW(t){_W(t)&&t.remove()}function EW(t){return{[Symbol.dispose](){t.remove()}}}function fy(t){return SW(t)||GI(t)}function SW(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function GI(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function xw(t,e,n){if(!fy(t))throw new TypeError("target is not a Evented or EventTarget object");return GI(t)?AW(t,e,n):t.on(e,n)}function AW(t,e,n,i){if(Array.isArray(e)){const r=e.slice();for(const s of r)t.addEventListener(s,n,i);return pn(()=>{for(const s of r)t.removeEventListener(s,n,i)})}return t.addEventListener(e,n,i),pn(()=>t.removeEventListener(e,n,i))}function Ew(t,e,n){if(!fy(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,n);const i=xw(t,e,r=>{i.remove(),n.call(t,r)});return i}function UI(t,e){if(t==null)throw new Error(e??"value is None")}function Id(t){return t?.destroy(),null}function MW(t){return t?.dispose(),null}function Zu(t){return t?.remove(),null}function BI(t){return t?.abort(),null}function TW(t){return t?.release(),null}function IW(t,e,n){return t!=null&&e!=null?n!=null?n(t,e):t.equals(e):t===e}function NW(t,e){let n;return t.some((i,r)=>(n=e(i,r),n!=null)),n??void 0}function OW(t){return{setTimeout:(e,n)=>{const i=t.setTimeout(e,n);return pn(()=>t.clearTimeout(i))}}}const VI=OW(globalThis);function CW(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(n,i)=>i===""?"$":(sy(i,e)??"").toString())}let zI=class{constructor(t,e,n=void 0){this.name=t,this.details=n,this.message=(e&&CW(e,n))??""}toString(){return"["+this.name+"]: "+this.message}},re=class UV extends zI{constructor(e,n,i){super(e,n,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,n)=>{if(n&&typeof n=="object"&&typeof n.toJSON=="function")return n;try{return ht(n)}catch{return"[object]"}}))}}catch(e){throw Oe.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new UV(e.name,e.message,e.details)}};re.prototype.type="error";function Gi(t="Aborted"){return new re("AbortError",t)}function Xu(t,e="Aborted"){if(Yo(t))throw Gi(e)}function Nd(t){return t instanceof AbortSignal?t:t?.signal??void 0}function Yo(t){const e=Nd(t);return e!=null&&e.aborted}function WI(t){if(yc(t))throw t}function kW(t){if(!yc(t))throw t}function mc(t,e){const n=Nd(t);if(n!=null){if(!n.aborted)return Ew(n,"abort",()=>e());e()}}function qI(t,e){const n=Nd(t);if(n!=null)return Xu(n),Ew(n,"abort",()=>e(Gi()))}function RW(t,e){return Nd(e)==null?t:new Promise((n,i)=>{let r=mc(e,()=>i(Gi()));const s=()=>{r=Zu(r)};t.then(s,s),t.then(n,i)})}function yc(t){return t?.name==="AbortError"}async function LW(t){try{return await t}catch(e){if(!yc(e))throw e;return}}async function HI(t){if(!t)return;if(typeof t.forEach!="function"){const n=Object.keys(t),i=n.map(o=>t[o]),r=await HI(i),s={};return n.map((o,a)=>s[o]=r[a]),s}const e=t;return Promise.allSettled(e).then(n=>Array.from(e,(i,r)=>{const s=n[r];return s.status==="fulfilled"?{promise:i,value:s.value}:{promise:i,error:s.reason}}))}async function PW(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function DW(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function YI(t,e=void 0,n){const i=new AbortController;return mc(n,()=>i.abort()),new Promise((r,s)=>{let o=setTimeout(()=>{o=0,r(e)},t);mc(i,()=>{o&&(clearTimeout(o),s(Gi()))})})}function FW(t,e,n,i){const r=n&&"abort"in n?n:null;i!=null||r||(i=n);let s=setTimeout(()=>{s=0,r?.abort()},e);const o=()=>i||new re("promiseUtils:timeout","The wrapped promise did not resolve within "+e+" ms");return t.then(a=>{if(s===0)throw o();return clearTimeout(s),a},a=>{throw clearTimeout(s),s===0?o():a})}function jW(t,e){const n=new AbortController,i=setTimeout(()=>n.abort(),e);return mc(t,()=>{n.abort(),clearTimeout(i)}),{...t,signal:n.signal}}function Sw(t){return t&&typeof t.then=="function"}function Aw(t){return Sw(t)?t:Promise.resolve(t)}function $W(t,e=-1){let n,i,r,s,o=null;const a=(...l)=>{if(n){i=l,s&&s.reject(Gi()),s=Qu();const f=s.promise;if(o){const y=o;o=null,y.abort()}return f}if(r=s||Qu(),s=null,e>0){const f=new AbortController;n=Aw(t(...l,f.signal));const y=n;YI(e).then(()=>{n===y&&(s?f.abort():o=f)})}else n=1,n=Aw(t(...l));const c=()=>{const f=i;i=r=n=o=null,f!=null&&a(...f)},p=n,d=r;return p.then(c,c),p.then(d.resolve,d.reject),d.promise};return a}function Qu(){let t,e;const n=new Promise((r,s)=>{t=r,e=s}),i=r=>{t(r)};return i.resolve=r=>t(r),i.reject=r=>e(r),i.timeout=(r,s)=>VI.setTimeout(()=>i.reject(s),r),i.promise=n,i}function GW(t,e){e.then(t.resolve,t.reject)}async function UW(t){await Promise.resolve(),Xu(t)}function BW(t){return t?.release&&typeof t.release=="function"}function VW(t){return t?.acquire&&typeof t.acquire=="function"}let Od=class qT{constructor(e,n,i,r=1,s=0){this._creator=e,this._acquireFunction=n,this._releaseFunction=i,this.allocationSize=r,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=this._creator();this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...e){let n;if(qT.test.disabled)n=this._creator();else{if(this._pool.length===0){const i=this.allocationSize;for(let r=0;r<i;r++)this._pool[r]=this._creator()}n=this._pool.pop()}return this._acquireFunction?this._acquireFunction(n,...e):VW(n)&&n.acquire(...e),n}release(e){e&&!qT.test.disabled&&(this._releaseFunction?this._releaseFunction(e):BW(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let n=e;n<this._pool.length;++n){const i=this._pool[n];this._dispose(i)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}static{this.test={disabled:!!Q("esri-tests-disable-memory-pools")}}};function zW(t){t.length=0}let Jo=class{constructor(t=50,e=50){this._pool=new Od(()=>[],void 0,zW,e,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return Mw.acquire()}static release(t){return Mw.release(t)}static prune(){Mw.prune()}};const Mw=new Jo(100);let JI=class extends Od{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const e=super.acquire(...t);return this._set.delete(e),e}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const my=[];function Tw(t){my.push(t),my.length===1&&queueMicrotask(()=>{const e=my.slice();my.length=0;for(const n of e)n()})}let Iw=class{constructor(t,e=30){this.name=t,this._counter=0,this._samples=new Array(e)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,e)=>t-e)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,e)=>t+e,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};const yy=(t,e,n,i)=>{let r=e,s=e;const o=n>>>1,a=t[r-1];for(;s<=o;){s=r<<1,s<n&&i(t[s-1],t[s])<0&&++s;const l=t[s-1];if(i(l,a)<=0)break;t[r-1]=l,r=s}t[r-1]=a},ZI=(t,e)=>t<e?-1:t>e?1:0;function WW(t,e,n,i){n===void 0&&(n=t.length),i===void 0&&(i=ZI);for(let s=n>>>1;s>e;s--)yy(t,s,n,i);const r=e+1;for(let s=n-1;s>e;s--){const o=t[e];t[e]=t[s],t[s]=o,yy(t,r,s,i)}}function*qW(t,e,n,i){n===void 0&&(n=t.length),i===void 0&&(i=ZI);for(let s=n>>>1;s>e;s--)yy(t,s,n,i),yield;const r=e+1;for(let s=n-1;s>e;s--){const o=t[e];t[e]=t[s],t[s]=o,yy(t,r,s,i),yield}}const HW=1.5,YW=1.1;let Nw=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new nw,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>XI(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const e=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&e.push(i)}return e}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,e){const n=this.data.indexOf(t,e);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let e=t;e<this._length;++e)this.data[e]=this._deallocator(this.data[e]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,e=t.length){for(let n=0;n<e;n++)this.data[this._length++]=t[n]}fill(t,e){for(let n=0;n<e;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,XI(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const e=ny(this.data,t,this.length,this._hint);if(e!==-1)return this.data.splice(e,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(ny(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,e=t.length,n){this.length=Cz(this.data,t,this.length,e,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,e){if(t>=this.length||e>=this.length||t===e)return;const n=this.data[t];this.data[t]=this.data[e],this.data[e]=n}sort(t){WW(this.data,0,this.length,t)}iterableSort(t){return qW(this.data,0,this.length,t)}some(t,e){for(let n=0;n<this.length;++n)if(t.call(e,this.data[n],n,this.data))return!0;return!1}find(t,e){const{data:n,length:i}=this;for(let r=0;r<i;++r)if(t.call(e,n[r]))return n[r]}filterInPlace(t,e){let n=0;for(let i=0;i<this._length;++i){const r=this.data[i];t.call(e,r,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=r,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,e){const{data:n,length:i}=this;for(let r=0;r<i;++r)t.call(e,n[r],r,n)}forEach(t,e){this.data.slice(0,this.length).forEach(t,e)}map(t,e){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(e,this.data[i],i,this.data);return n}reduce(t,e){let n=e;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const e=this.length,n=this.data;for(let i=0;i<e;++i)if(n[i]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function XI(t){t.data.length>HW*t.length&&(t.data.length=Math.floor(t.length*YW))}function JW(t){return t}function ZW(t){return 1e3*t}function XW(t){return t}function QW(t){return .001*t}let KW=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},tq=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},Ow=0;const Cd={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},Cw=["prepare","preRender","render","postRender","update","finish"],kw=[],gc=new Nw;let eq=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,QI()}};function nq(){vc!=null&&(cancelAnimationFrame(vc),vc=requestAnimationFrame(Lw))}function QI(){vc==null&&(Ow=performance.now(),vc=requestAnimationFrame(Lw))}const gy={frameTasks:gc,willDispatch:!1,clearFrameTasks:rq,dispatch:tN,executeFrameTasks:sq,reschedule:nq};function Rw(t){const e=new tq(t);return kw.push(e),gy.willDispatch||(gy.willDispatch=!0,Tw(tN)),e}function iq(t){const e=new KW(t);return gc.push(e),QI(),new eq(e)}let vc=null;function rq(t=!1){gc.forAll(e=>{e.removed=!0}),t&&KI()}function Lw(){const t=performance.now();vc=null,vc=gc.some(e=>!e.paused&&!e.removed)?requestAnimationFrame(Lw):null,gy.executeFrameTasks(t)}function sq(t){const e=t-Ow;Ow=t;const n=1e3/60,i=Math.max(0,e-n);Cd.time=t,Cd.frameDuration=n-i;for(let r=0;r<Cw.length;r++){const s=performance.now(),o=Cw[r];gc.forAll(a=>{a.paused||a.removed||(r===0&&a.ticks++,a.phases[o]&&(Cd.elapsedFrameTime=performance.now()-t,Cd.deltaTime=a.ticks===0?0:e,a.phases[o]?.call(a,Cd)))}),aq[r].push(performance.now()-s)}KI(),lq.push(performance.now()-t)}const vy=new Nw;function KI(){gc.forAll(t=>{t.removed&&vy.push(t)}),gc.removeUnorderedMany(vy.data,vy.length),vy.clear()}function tN(){for(;kw.length;){const t=kw.shift();t.isActive&&t.callback()}gy.willDispatch=!1}function eN(t=1,e){const n=Qu(),i=()=>{Yo(e)?n.reject(Gi()):t===0?n():(--t,Tw(()=>i()))};return i(),n.promise}function nN(t){return eN(1,t)}async function oq(t){await nN(t),await new Promise(e=>requestAnimationFrame(()=>{t?.aborted||e()}))}const aq=Cw.map(t=>new Iw(t)),lq=new Iw("total");function iN(t,e){for(const n of t.values())if(e(n))return!0;return!1}function Pw(t,e){if(!e)return t;for(const n of e)n!=null&&t.add(n);return t}function cq(t,e){return e!=null&&t.add(e),t}function by(t,e){const n=new Set;return Pw(n,t),Pw(n,e),n}function rN(t,e){const n=new Set;for(const i of e)t.has(i)&&n.add(i);return n}function uq(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const n of t)if(!e.has(n))return!1;return!0}function hq(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function sN(t,e){const n=new Set(t);for(const i of e)n.delete(i);return n}function pq(t,e){return sN(by(t,e),rN(t,e))}let dq=0;function kd(){return++dq}function Zo(t){return t.__accessor__??null}function fq(t,e){return t?.metadata?.[e]!=null}function wy(t,e,n){return n?_y(t,e,{policy:n,path:""}):_y(t,e,null)}function _y(t,e,n){return e?Object.keys(e).reduce((i,r)=>{const s=r;if(s==="__proto__")return i;let o=null,a="merge";if(n&&(o=n.path?`${n.path}.${r}`:r,a=n.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(i[s]))return i[s]=e[s],i;if(i[s]===void 0)return i[s]=ht(e[s]),i;let l=i[s],c=e[s];if(l===c)return i;if(Array.isArray(c)||Array.isArray(i))l=l?Array.isArray(l)?i[s]=l.slice():i[s]=[l]:i[s]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(p=>{l.includes(p)||l.push(p)}));else if(c&&typeof c=="object")if(n){const p=n.path;n.path=o,i[s]=_y(l,c,n),n.path=p}else i[s]=_y(l,c,null);else i.hasOwnProperty(r)&&!e.hasOwnProperty(r)||(i[s]=c);return i},t||{}):t}function oN(t){return Array.isArray(t)?t:t.split(".")}function aN(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function mq(t){if(Array.isArray(t)){const e=[];for(const n of t)e.push(...aN(n));return e}return aN(t)}function lN(t,e,n,i){const r=mq(e);if(r.length!==1){const s=r.map(o=>i(t,o,n));return dy(s)}return i(t,r[0],n)}function cN(t,e){const n=t.endsWith("?")?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const r=parseInt(n,10);if(!isNaN(r))return Array.isArray(e)?e[r]:e.at(r)}const i=Zo(e);return fq(i,n)?i.get(n):e[n]}function uN(t,e,n){if(t==null)return t;const i=cN(e[n],t);return!i&&n<e.length-1?void 0:n===e.length-1?i:uN(i,e,n+1)}function Rd(t,e,n=0){return typeof e!="string"||e.includes(".")?uN(t,oN(e),n):cN(e,t)}function bc(t,e){return Rd(t,e)}function hN(t,e){return Rd(e,t)!==void 0}const Tr={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4},Ve={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let xy=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const Ey=new xy,Ld=[];let Pd=Ey;function Ft(t){Pd.onAccessed(t)}let Sy=!1,Ay=!1;function ao(t,e,n){if(Sy)return Dw(t,e,n);let i=null;return pN(t),i=e.call(n),dN(),i}function yq(t,e){return ao(Ey,t,e)}function Dw(t,e,n){const i=Sy;Sy=!0,pN(t);let r=null;try{r=e.call(n)}catch(s){Ay&&Oe.getLogger("esri.core.accessorSupport.tracking").error(s)}return dN(),Sy=i,r}function pN(t){Pd=t,Ld.push(t)}function dN(){const t=Ld.length;if(t>1){const e=Ld.pop();Pd=Ld[t-2],e.onTrackingEnd()}else if(t===1){const e=Ld.pop();Pd=Ey,e.onTrackingEnd()}else Pd=Ey}function fN(t,e){if(e.flags&Ve.DepTrackingInitialized)return;e.flags|=Ve.DepTrackingInitialized;const n=Ay;Ay=!1,e.flags&Ve.AutoTracked?Dw(e.trackingTarget,e.metadata.get,t):mN(t,e),Ay=n}const gq=[];function mN(t,e){e.flags&Ve.ExplicitlyTracking||(e.flags|=Ve.ExplicitlyTracking,Dw(e.trackingTarget,()=>{const n=e.metadata.dependsOn||gq;for(const i of n)if(typeof i!="string"||i.includes(".")){const r=oN(i);for(let s=0,o=t;s<r.length&&o!=null&&typeof o=="object";++s)o=yN(o,r[s],s!==r.length-1)}else yN(t,i,!1)}),e.flags&=-129)}function yN(t,e,n){const i=e.endsWith("?")?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const r=Zo(t);if(r){const s=r.propertiesByName.get(i);s&&(Ft(s),fN(t,s))}return n?t[i]:void 0}let Dd=class extends xy{constructor(t){super(new vq(t)),this._observer&&gN.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&gN.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},vq=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=bq}};const gN=new FinalizationRegistry(t=>{t.deref()?.destroy()});function bq(){}let Ku=!1;const My=[];function vN(t,e){let n=new Dd(s),i=null,r=!1;function s(){if(!n||r)return;if(Ku)return void wN(s);const a=i;n.clear(),Ku=!0,r=!0,i=ao(n,t),r=!1,Ku=!1,e(i,a),_N()}function o(){n&&(n.destroy(),n=null,i=null)}return r=!0,i=ao(n,t),r=!1,pn(o)}function bN(t,e){let n=new Dd(r),i=null;function r(){e(i,o)}function s(){n&&(n.destroy(),n=null),i=null}function o(){return n?(n.clear(),i=ao(n,t),i):null}return o(),pn(s)}function wq(t,e){let n=!1,i=!1;const r=!!e?.sync;let s=new Dd(()=>{n||i||(i=!0,r?o():queueMicrotask(o))});function o(){i=!1,s&&!n&&(Ku?wN(o):(s.clear(),Ku=!0,n=!0,ao(s,t),n=!1,Ku=!1,_N()))}function a(){s&&(s.destroy(),s=null)}return n=!0,ao(s,t),n=!1,pn(a)}function wN(t){My.includes(t)||My.unshift(t)}function _N(){for(;My.length;)My.pop()()}let Fw=class BV{constructor(){this.uid=kd(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static{this.pool=new JI(()=>new BV)}static acquireUntracked(e,n,i,r,s){return this.pool.acquire(0,e,n,i,r,s,pw)}static acquireTracked(e,n,i,r){return this.pool.acquire(1,e,n,i,null,null,r)}notify(e,n){this.type===0?this.callback.call(this.target,e,n,this.path,this.target):this.callback.call(null,e,n,void 0,void 0)}acquire(e,n,i,r,s,o,a){this.uid=kd(),this.removed=!1,this.type=e,this.oldValue=n,this.callback=i,this.getValue=r,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=kd(),this.removed=!0}};const Ty=new Jo,Xo=new Set;let Iy;function Ny(t){Xo.delete(t),Xo.add(t),xN()}function xN(){Iy||(Iy=Rw(Eq))}function _q(t){if(t.removed)return;const e=t.oldValue,n=t.getValue();t.equals(e,n)||(t.oldValue=n,t.notify(n,e))}function xq(t){for(const e of Xo.values())e.target===t&&(e.removed=!0)}function Eq(){let t=10;for(;Iy&&t--;){Iy=null;const e=Sq(),n=Ty.acquire();for(const i of e){const r=i.uid;_q(i),r===i.uid&&i.removed&&n.push(i)}for(const i of Xo)i.removed&&(n.push(i),Xo.delete(i));for(const i of n)Fw.pool.release(i);Ty.release(n),Ty.release(e),jw.forEach(i=>i())}}function Sq(){const t=Ty.acquire();t.length=Xo.size;let e=0;for(const n of Xo)t[e]=n,++e;return Xo.clear(),t}const jw=new Set;function Aq(t){return jw.add(t),pn(()=>jw.delete(t))}function Mq(t,e,n){let i=lN(t,e,n,(r,s,o)=>{let a,l,c=bN(()=>Rd(r,s),(p,d)=>{r.__accessor__?.lifecycle===Tr.DESTROYED||a&&a.uid!==l?i.remove():(a||(a=Fw.acquireUntracked(p,o,d,r,s),l=a.uid),Ny(a))});return pn(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,Ny(a)),a=null),i=c=null})});return i}function Tq(t,e,n){const i=lN(t,e,n,(r,s,o)=>{let a=!1;return vN(()=>Rd(r,s),(l,c)=>{r.__accessor__.lifecycle!==Tr.DESTROYED?a||(a=!0,pw(c,l)||o.call(r,l,c,s,r),a=!1):i.remove()})});return i}function Iq(t,e,n,i=!1){return t.__accessor__&&t.__accessor__.lifecycle!==Tr.DESTROYED?i?Tq(t,e,n):Mq(t,e,n):pn()}function Nq(t,e,n){let i,r,s=bN(t,(o,a)=>{i&&i.uid!==r?s.remove():(i||(i=Fw.acquireTracked(o,e,a,n),r=i.uid),Ny(i))});return pn(()=>{s.remove(),i&&(i.uid!==r||i.removed||(i.removed=!0,Ny(i)),i=null),s=null})}function Oq(t,e,n){let i=!1;return vN(t,(r,s)=>{i||(i=!0,n(s,r)||e(r,s),i=!1)})}function Cq(t,e,n=!1,i=EI){return n?Oq(t,e,i):Nq(t,e,i)}function kq(t){return iN(Xo,e=>e.oldValue===t)}function jn(t,e,n={}){return $w(t,e,n,EN)}function Oy(t,e,n={}){return $w(t,e,n,SN)}function $w(t,e,n={},i){let r=null;const s=n.once?(o,a)=>{i(o)&&(Zu(r),e(o,a))}:(o,a)=>{i(o)&&e(o,a)};if(r=Cq(t,s,n.sync,n.equals),n.initial){const o=t();s(o,o)}return r}function Gw(t,e,n,i={}){let r=null,s=null,o=null;function a(){r&&s&&(s.remove(),i.onListenerRemove?.(r),r=null,s=null)}function l(p){i.once&&i.once&&Zu(o),n(p)}const c=jn(t,(p,d)=>{a(),fy(p)&&(r=p,s=xw(p,e,l),i.onListenerAdd?.(p))},{sync:i.sync,initial:!0});return o=pn(()=>{c.remove(),a()}),o}function Rq(t,e){return Lq(t,SN,e)}function Lq(t,e,n){if(Yo(n))return Promise.reject(Gi());const i=t();if(e?.(i))return Promise.resolve(i);let r=null;function s(){r=Zu(r)}return new Promise((o,a)=>{r=dy([mc(n,()=>{s(),a(Gi())}),$w(t,l=>{s(),o(l)},{sync:!1,once:!0},e??EN)])})}function EN(t){return!0}function SN(t){return!!t}function Pq(t,e,n={}){let i=!1;const r=jn(t,(s,o)=>{i||e(s,o)},n);return{remove(){r.remove()},pause(){i=!0},resume(){i=!1}}}const AN={sync:!0},Cy={initial:!0},Dq={sync:!0,initial:!0};function v(t,e,n,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function Fq(t,e){return function(n,i){e(n,i,t)}}function jq(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{c(i.next(p))}catch(d){o(d)}}function l(p){try{c(i.throw(p))}catch(d){o(d)}}function c(p){p.done?s(p.value):r(p.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}function $q(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(r=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var Gq=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function Uq(t){function e(s){t.error=t.hasError?new Gq(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,i=0;function r(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(r);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(r,function(o){return e(o),r()})}else i|=1}catch(o){e(o)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return r()}function th(t){let e=t.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!n){e=Object.create(e);for(const i in e)e[i]=ht(e[i]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function Fd(t,e){const n=th(t);let i=n[e];return i||(i=n[e]={}),i}function Bq(t,e){return wy(t,e,zq)}const Vq=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function zq(t){return Vq.test(t)?"replace":"merge"}function ky(t,e,n){if(t&&e)if(typeof e=="object")for(const i of Object.getOwnPropertyNames(e))ky(t,i,e[i]);else{if(e.includes(".")){const r=e.split("."),s=r.splice(-1,1)[0];return void ky(bc(t,r),s,n)}const i=t.__accessor__;i!=null&&Wq(e,i),t[e]=n}}function Wq(t,e){if(Q("esri-unknown-property-errors")&&!qq(t,e))throw new re("set:unknown-property",Hq(t,e))}function qq(t,e){return e.metadata[t]!=null}function Hq(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}function E(t={}){return(e,n)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${n}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(e,n),r=Fd(e,n);i&&(i.get||i.set?(r.get=i.get||r.get,r.set=i.set||r.set):"value"in i&&("value"in t&&Oe.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${n}" on "${e.constructor.name}" already defined in the metadata`,t),r.value=t.value=i.value)),t.readOnly!=null&&(r.readOnly=t.readOnly);const s=t.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let p;r.dependsOn=[l],r.get=function(){let d=bc(this,l);if(typeof d=="function"){p||(p=l.split(".").slice(0,-1).join("."));const f=bc(this,p);f&&(d=d.bind(f))}return d},r.readOnly||(r.set=c?function(d){this._override(n,d)}:function(d){ky(this,l,d)})}const o=t.type,a=t.types;if(!r.cast){let l;o?l=Yq(o):a&&(l=Array.isArray(a)?Td(fc(a[0])):fc(a)),t.cast=Jq(t.cast,l)}Bq(r,t),t.range&&(r.cast=CI(r.cast,t.range))}}function Uw(t,e,n){const i=Fd(t,n);i.json||(i.json={});let r=i.json;return e!==void 0&&(r.origins||(r.origins={}),r.origins[e]||(r.origins[e]={}),r=r.origins[e]),r}function Yq(t){let e=0,n=t;if(mW(t))return jI(t);for(;Array.isArray(n)&&n.length===1&&typeof n[0]!="string"&&typeof n[0]!="number";)n=n[0],e++;const i=n;if(FI(i))return e===0?vw(i):cy(vw(i),e);if(e===1)return pW(i);if(e>1)return dW(i,e);const r=t;return r.from?r.from:qr(r)}function Jq(t,e){if(t||e)return t?e?(n,i)=>e(t(n,i),i):t:e}const MN=Symbol("Accessor-beforeDestroy");function Zq(t){if(t.json&&t.json.origins){const e=t.json.origins,n={"web-document":["web-scene","web-map"]};for(const i in n)if(e[i]){const r=e[i];n[i].forEach(s=>{e[s]=r}),delete e[i]}}}let eh=class extends zI{constructor(t,e,n){super(t,e,n)}};eh.prototype.type="warning";function TN(t){return!!t&&t.prototype?.declaredClass&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}function Xq(t,e){return Bw(t,"any",e?.origin)}function Ry(t,e){return Bw(t,"read",e?.origin)}function IN(t,e){return Bw(t,"write",e?.origin)}function Bw(t,e,n){let i=t?.json;if(i?.origins&&n){let r;r=n==="link-chart"?i.origins[n]&&(e==="any"||e in i.origins[n])?i.origins[n]:i.origins["web-map"]:i.origins[n],r&&(e==="any"||e in r)&&(i=r)}return i}const Vw=()=>Oe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function NN(t,e,n){t&&(!n&&!e.read||e.read?.reader||e.read?.enabled===!1||tH(t)&&Ha("read.reader",zw(t),e))}function zw(t){const e=t.ndimArray??0;if(e>1)return Kq(t);if(e===1)return CN(t);if("type"in t&&kN(t.type)){const n=t.type.prototype?.itemType?.Type,i=CN(typeof n=="function"?{type:n}:{types:n});return(r,s,o)=>{const a=i(r,s,o);return a&&new t.type(a)}}return Ww(t)}function Ww(t){return"type"in t?Qq(t.type):eH(t.types)}function Qq(t){return t.prototype.read?(e,n,i)=>{if(e==null)return e;const r=typeof e;if(r!=="object")return void Vw().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${r}'`);const s=new t;return s.read(e,i),s}:t.fromJSON}function ON(t,e,n,i){return i!==0&&Array.isArray(e)?e.map(r=>ON(t,r,n,i-1)):t(e,void 0,n)}function Kq(t){const e=Ww(t),n=ON.bind(null,e),i=t.ndimArray??0;return(r,s,o)=>{if(r==null)return r;r=n(r,o,i);let a=i,l=r;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)r=[r];return r}}function CN(t){const e=Ww(t);return(n,i,r)=>{if(n==null)return n;if(Array.isArray(n)){const o=[];for(const a of n){const l=e(a,void 0,r);l!==void 0&&o.push(l)}return o}const s=e(n,void 0,r);return s!==void 0?[s]:void 0}}function kN(t){if(!TN(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?qw(e.Type):RN(e.Type))}function tH(t){return"types"in t?RN(t.types):qw(t.type)}function qw(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||kN(t))}function RN(t){for(const e in t.typeMap)if(!qw(t.typeMap[e]))return!1;return!0}function eH(t){let e=null;const n=t.errorContext??"type",i=t.validate;return(r,s,o)=>{if(r==null)return r;const a=typeof r;if(a!=="object")return void Vw().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);e||(e=iH(t));const l=t.key;if(typeof l!="string")return;const c=r[nH(l,e,o)],p=c?e[c]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!p){const f=`Type '${c||"unknown"}' is not supported`;return o?.messages&&r&&o.messages.push(new eh(`${n}:unsupported`,f,{definition:r,context:o})),void Vw().error(f)}const d=new p;return d.read(r,o),i?i(d):d}}function nH(t,e,n){const i=Object.values(e)[0],r=th(i.prototype)[t],s=Ry(r,n),o=s?.read?.source;return o&&typeof o=="string"?o:t}function iH(t){const e={};for(const n in t.typeMap){const i=t.typeMap[n],r=th(i.prototype);if(typeof t.key=="function")continue;const s=r[t.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){e[s.json.type[0]]=i;continue}const o=s.json?.write;if(!o?.writer){e[n]=i;continue}const a=o.target,l=typeof a=="string"?a:t.key,c={};o.writer(n,c,l),c[l]&&(e[c[l]]=i)}return e}function rH(t){if(t.json||(t.json={}),PN(t.json),DN(t.json),LN(t.json),t.json.origins)for(const e in t.json.origins)PN(t.json.origins[e]),DN(t.json.origins[e]),LN(t.json.origins[e]);return!0}function LN(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function PN(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function DN(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function FN(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const n=t?.ndimArray??0;t&&(n===1||"type"in t&&TN(t.type))?e.write.writer=aH:n>1?e.write.writer=lH(n):e.types?Array.isArray(e.types)?e.write.writer=oH(e.types[0]):e.write.writer=sH(e.types):e.write.writer=jd}function sH(t){return(e,n,i,r)=>e?jN(e,t,r)?jd(e,n,i,r):void 0:jd(e,n,i,r)}function jN(t,e,n){for(const i in e.typeMap)if(t instanceof e.typeMap[i])return!0;if(n?.messages){const i=e.errorContext??"type",r=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;n&&n.messages&&t&&n.messages.push(new re(`${i}:unsupported`,r,{definition:t,context:n})),Oe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(r)}return!1}function oH(t){return(e,n,i,r)=>!e||!Array.isArray(e)?jd(e,n,i,r):jd(e.filter(s=>jN(s,t,r)),n,i,r)}function jd(t,e,n,i){Ha(n,Ly(t,i),e)}function Ly(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?$N(t):t}function $N(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function aH(t,e,n,i){let r;t===null?r=null:t&&typeof t.map=="function"?(r=t.map(s=>Ly(s,i)),typeof r.toArray=="function"&&(r=r.toArray())):r=[Ly(t,i)],Ha(n,r,e)}function GN(t,e,n){return n!==0&&Array.isArray(t)?t.map(i=>GN(i,e,n-1)):Ly(t,e)}function lH(t){return(e,n,i,r)=>{let s;if(e===null)s=null;else{s=GN(e,r,t);let o=t,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}Ha(i,s,n)}}function cH(t){const e=uH(t);if(t.json.origins)for(const n in t.json.origins){const i=t.json.origins[n],r=i.types?hH(i):e;NN(r,i,!1),i.types&&!i.write&&t.json.write?.enabled&&(i.write={...t.json.write}),FN(r,i)}NN(e,t.json,!0),FN(e,t.json)}function uH(t){return t.json.types?Hw(t.json):t.type?UN(t):Hw(t)}function hH(t){return t.type?UN(t):Hw(t)}function UN(t){if(!t.type)return;let e=0,n=t.type;for(;Array.isArray(n)&&!FI(n);)n=n[0],e++;return{type:n,ndimArray:e}}function Hw(t){if(!t.types)return;let e=0,n=t.types;for(;Array.isArray(n);)n=n[0],e++;return{types:n,ndimArray:e}}function pH(t){rH(t)&&(Zq(t),cH(t))}const Yw=new Set,Jw=new Set;function tt(t){return e=>{t??="esri.core.Accessor",e.prototype.declaredClass=t,fH(e);const n=[],i=[];let r=e.prototype;for(;r;)r.hasOwnProperty("initialize")&&!Yw.has(r.initialize)&&(Yw.add(r.initialize),n.push(r.initialize)),r.hasOwnProperty("destroy")&&!Jw.has(r.destroy)&&(Jw.add(r.destroy),i.push(r.destroy)),r=Object.getPrototypeOf(r);Yw.clear(),Jw.clear();const s=class extends e{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=n.length-1;l>=0;l--)n[l].call(this)}}),i.length){let l=!1;const c=this[MN];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){this.__accessor__.lifecycle=Tr.DESTROYING,l=!0,c.call(this);for(let p=0;p<i.length;p++)i[p].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=th(e.prototype),s.prototype.declaredClass=t;const o=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function dH(t,e){return e.get==null?function(){const n=this.__accessor__,i=n.propertiesByName.get(t);if(i===void 0)return;n.mutable&&Ft(i);const r=n.store;return r.has(t)?r.get(t):i.metadata.value}:function(){const n=this.__accessor__,i=n.propertiesByName.get(t);if(i!==void 0)return i.getComputed(n)}}function fH(t){const e=t.prototype,n=th(e),i={};for(const r of Object.getOwnPropertyNames(n)){const s=n[r];pH(s),i[r]={enumerable:!0,configurable:!0,get:dH(r,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?BN("read-only",r):a.lifecycle===Tr.CONSTRUCTED&&s.constructOnly?BN("construct-only",r):void a.set(r,o)}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(t.prototype,i)}const BN=(t,e)=>{Oe.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)},VN=new WeakMap;function mH(t,e,n=!1){const i=`\u{1F6D1} DEPRECATED - ${e}`;if(!n)return void t.warn(i);let r=VN.get(t);r||(r=new Set,VN.set(t,r)),r.has(e)||(r.add(e),t.warn(i))}const Py="https://www.esriurl.com/";function yH(t,e,n,i={}){Q("esri-deprecation-warnings")&&Qo(t,`This widget is deprecated. Use the ${e} component instead.`,{see:[`${e} component reference: ${Py}${n}/`,`Esri's move to web components: ${Py}components-transition-plan/`],replacement:`<${n}></${n}>`,warnOnce:!0,...i})}function gH(t,e,n,i={}){Q("esri-deprecation-warnings")&&Qo(t,`This view model is deprecated. Use the ${e} component directly instead.`,{see:[`${e} component reference: ${Py}${n}/`,`Esri's move to web components: ${Py}components-transition-plan/`],replacement:`<${n}></${n}>`,warnOnce:!0,...i})}function vH(t,e,n={}){Q("esri-deprecation-warnings")&&Qo(t,`Module: ${e}`,n)}function Zw(t,e,n={}){if(Q("esri-deprecation-warnings")){const{moduleName:i}=n;Qo(t,`Function: ${(i?i+"::":"")+e+"()"}`,n)}}function Xw(t,e,n={}){if(Q("esri-deprecation-warnings")){const{moduleName:i}=n;Qo(t,`Property: ${(i?i+"::":"")+e}`,n)}}function bH(t,e,n={}){Q("esri-deprecation-warnings")&&Qo(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...n})}function Qo(t,e,n={}){if(Q("esri-deprecation-warnings")){const{replacement:i,version:r,see:s,warnOnce:o}=n;let a=e;if(i&&(a+=`
	\u{1F6E0}\uFE0F Replacement: ${i}`),r&&(a+=`
	\u2699\uFE0F Version: ${r}`),s)if(Array.isArray(s)){a+=`
	\u{1F517} See for more details:`;for(const l of s)a+=`
		${l}`}else a+=`
	\u{1F517} See ${s} for more details.`;mH(t,a,o)}}function wH(t){const e=[];return function*(){yield*e;let n,i=e.length;for(;!(n=t.next()).done;)for(e.push(n.value),yield n.value;++i<e.length;)yield e[i]}}function _H(t,e){for(const n of t)if(n!=null&&e(n))return n}function Qw(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let Dy=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(e=>{t+=e.length}),t}add(t,e){if(Qw(t)){const n=this._getOrCreateGroup(e);for(const i of t)WN(i)&&n.push(i)}else WN(t)&&this._getOrCreateGroup(e).push(t);return this}forEach(t,e){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&e&&n.forEach(e)}}has(t){return this._groups.has(Fy(t))}remove(t){if(typeof t!="string"&&Qw(t)){for(const e of t)this.remove(e);return this}return this.has(t)?(zN(this._getGroup(t)),this._groups.delete(Fy(t)),this):this}removeAll(){return this._groups.forEach(zN),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const e=[];return this._groups.set(Fy(t),e),e}_getGroup(t){return this._groups.get(Fy(t))}};function Fy(t){return t||"_default_"}function zN(t){for(const e of t)e instanceof Dy?e.removeAll():e.remove()}function WN(t){return t!=null&&(!!t.remove||t instanceof Dy)}let xH=class{constructor(t,e){this._observers=t,this._observer=e}remove(){mI(this._observers,this._observer)}},qN=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return EH;this._observers==null&&(this._observers=[]);const e=this._observers;let n=!1,i=!1;const r=e.length;for(let s=0;s<r;++s){const o=e[s];if(o.destroyed)i=!0;else if(o===t){n=!0;break}}return n||(e.push(t),i&&this._removeDestroyedObservers()),new xH(e,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const e=t.length;let n=0;for(let i=0;i<e;++i){for(;i+n<e&&t[i+n].destroyed;)++n;if(n>0){if(!(i+n<e))break;t[i]=t[i+n]}}t.length=e-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const e of t)e.onCommitted();this._observers=null}}};const EH=pn();let HN=class extends qN{constructor(t,e){super(),this.propertyName=t,this.metadata=e,this.trackingTarget=new xy(this),this.flags=0,this.flags=Ve.Dirty|(e.nonNullable?Ve.NonNullable:0)|(e.hasOwnProperty("value")?Ve.HasDefaultValue:0)|(e.get===void 0?Ve.DepTrackingInitialized:0)|(e.dependsOn===void 0?Ve.AutoTracked:0)}destroy(){this.flags&Ve.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Ft(this);const e=t.store,n=this.propertyName,i=this.flags,r=e.get(n);if(i&Ve.Computing||~i&Ve.Dirty&&e.has(n))return r;this.flags|=Ve.Computing;const s=t.host;let o;i&Ve.AutoTracked?o=ao(this.trackingTarget,this.metadata.get,s):(mN(s,this),o=this.metadata.get.call(s)),this.flags|=Ve.DepTrackingInitialized,e.set(n,o,1);const a=e.get(n);return a===r?this.flags&=-2:yq(this.commit,this),this.flags&=-5,a}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&Ve.Overridden&&(this.flags|=Ve.Dirty);const t=this._observers;if(t&&t.length>0)for(const e of t)e.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const n of e)n.onCommitted()}}};const SH=8;function Kw(t){switch(t){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"link-chart":return 6;case"user":return 7;default:return null}}function jy(t){switch(t){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"link-chart";case 7:return"user"}}function AH(t){return jy(t)}let MH=class VV{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const n=new VV;return this._values.forEach((i,r)=>{e&&e.has(r)||n.set(r,ht(i))}),n}get(e){return this._values.get(e)}originOf(){return 7}keys(){return[...this._values.keys()]}set(e,n){this._values.set(e,n)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,n){return this.has(e)}isBelowOrigin(e,n){return!this.has(e)}forEach(e){this._values.forEach(e)}};function nh(t,e,n){return t!==void 0}function YN(t,e,n,i){return t!==void 0&&(!(n==null&&t.flags&Ve.NonNullable)||(i.lifecycle,!1))}let TH=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Tr.INITIALIZING,this.store=new MH,this.mutable=!0,this._origin=7;const e=this.host.constructor.__accessorMetadata__;for(const n in e){const i=new HN(n,e[n]);this.propertiesByName.set(n,i)}this.metadata=e}initialize(){this.lifecycle=Tr.CONSTRUCTING}constructed(){this.lifecycle=Tr.CONSTRUCTED}destroy(){this.lifecycle=Tr.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Tr.INITIALIZING}get(t){const e=this.propertiesByName.get(t);if(!nh(e))return;if(e.metadata.get)return e.getComputed(this);this.mutable&&Ft(e);const n=this.store;return n.has(t)?n.get(t):e.metadata.value}originOf(t){const e=this.store.originOf(t);if(e===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&Ve.HasDefaultValue)return"defaults"}return jy(e)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const e=this.propertiesByName.get(t);if(nh(e))return this.store.has(t)?this.store.get(t):e.metadata.value}internalSet(t,e){const n=this.propertiesByName.get(t);nh(n)&&this._internalSet(n,e)}getDependsInfo(t,e,n){const i=this.propertiesByName.get(e);if(!nh(i))return"";const r=new xy,s=ao(r,()=>i.metadata.get?.call(t));let o=`${n}${t.declaredClass.split(".").pop()}.${e}: ${s}
`;const a=r.accessed??new Set;if(a.size===0)return o;n+="  ";for(const l of a)l instanceof HN&&(o+=`${n}${l.propertyName}: undefined
`);return o}setAtOrigin(t,e,n){const i=this.propertiesByName.get(t);if(nh(i))return this._setAtOrigin(i,e,n)}isOverridden(t){const e=this.propertiesByName.get(t);return e!==void 0&&!!(e.flags&Ve.Overridden)}clearOrigin(t,e){const n=this.store,i=this.propertiesByName.get(t);if(!nh(i))return;const r=n.isAtOrigin(t,e)&&!(i.flags&Ve.Overridden);n.delete(t,e),r&&i.notifyChange()}clearOverride(t){const e=this.propertiesByName.get(t);e&&e.flags&Ve.Overridden&&(e.flags&=-3,e.notifyChange())}override(t,e){const n=this.propertiesByName.get(t);if(!YN(n,t,e,this))return;const i=n.metadata.cast;if(i){const r=this._cast(i,e),{valid:s,value:o}=r;if(t_.release(r),!s)return;e=o}n.flags|=Ve.Overridden,this._internalSet(n,e)}set(t,e){const n=this.propertiesByName.get(t);if(!YN(n,t,e,this))return;const i=n.metadata.cast;if(i){const s=this._cast(i,e),{valid:o,value:a}=s;if(t_.release(s),!o)return;e=a}const r=n.metadata.set;r?r.call(this.host,e):this._internalSet(n,e)}setDefaultOrigin(t){this._origin=Kw(t)}getDefaultOrigin(){return jy(this._origin)}notifyChange(t){const e=this.propertiesByName.get(t);e!==void 0&&e.notifyChange()}invalidate(t){const e=this.propertiesByName.get(t);e!==void 0&&e.invalidate()}commit(t){const e=this.propertiesByName.get(t);e!==void 0&&e.commit()}_internalSet(t,e){const n=this.lifecycle!==Tr.INITIALIZING?this._origin:0;this._setAtOrigin(t,e,n)}_setAtOrigin(t,e,n){const i=this.store,r=t.propertyName;if(i.isAtOrigin(r,n)&&pw(e,i.get(r))&&~t.flags&Ve.Overridden)return;const s=i.isBelowOrigin(r,n)||i.isAtOrigin(r,n);s&&t.invalidate(),i.set(r,e,n),s&&t.commit(),fN(this.host,t)}_cast(t,e){const n=t_.acquire();return n.valid=!0,n.value=e,t&&(n.value=t.call(this.host,e,n)),n}},IH=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const t_=new Od(()=>new IH);let NH;function OH(){return NH}var JN,ZN;function CH(t){if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const Ya=Symbol("Accessor-Handles"),e_=Symbol("Accessor-Initialized");let Wn=class z2{static{JN=Ya,ZN=e_}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:n,declaredClass:i,constructor:r}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,r&&r.apply(this,l)}}th(o.prototype);for(const a in e){const l=e[a];o.prototype[a]=typeof l=="function"?function(...c){const p=this.inherited;let d;this.inherited=function(...f){if(s.prototype[a])return s.prototype[a].apply(this,f)};try{d=l.apply(this,c)}catch(f){throw this.inherited=p,f}return this.inherited=p,d}:e[a]}for(const a in n){const l=CH(n[a]);E(l)(o.prototype,a)}return tt(i)(o)}static freeze(e){return e instanceof z2?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof z2?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[JN]=null,this[ZN]=!1,this.constructor===z2)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const n=new TH(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:n}),e.length>0&&(n.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0])}postscript(){const e=this.__accessor__,n=e.ctorArgs;e.initialize(),n&&(this.set(n),e.ctorArgs=null),e.constructed(),this.initialize(),this[e_]=!0}initialize(){}[MN](){this[Ya]=Id(this[Ya])}destroy(){this.destroyed||(xq(this),this.__accessor__.destroy(),OH()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[e_]}get destroyed(){return this.__accessor__?.lifecycle===Tr.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===Tr.DESTROYING||!1}commitProperty(e){bc(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,n){return ky(this,e,n),this}watch(e,n,i){return Zw(Oe.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),Iq(this,e,n,i)}addHandles(e,n){if(this.destroyed){const i=Array.isArray(e)?e:[e];for(const r of i)r.remove();return}(this[Ya]??=new Dy).add(e,n)}removeHandles(e){this[Ya]?.remove(e)}removeAllHandles(){this[Ya]?.removeAll()}removeHandlesReference(e){this[Ya]?.removeReference(e)}hasHandles(e){return this[Ya]?.has(e)===!0}_override(e,n){n===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,n)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,n){n==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,n)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,n){return this.__accessor__.internalSet(e,n),this}},kH=class zV{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const n=new zV;return this._values.forEach((i,r)=>{e&&e.has(r)||n.set(r,ht(i.value),i.origin)}),n}get(e,n){n=this._normalizeOrigin(n);const i=this._values.get(e);return n==null||i?.origin===n?i?.value:void 0}originOf(e){return this._values.get(e)?.origin??7}keys(e){e=this._normalizeOrigin(e);const n=[...this._values.keys()];return e==null?n:n.filter(i=>this._values.get(i)?.origin===e)}set(e,n,i){if((i=this._normalizeOrigin(i))===0){const r=this._values.get(e);if(r?.origin!=null&&r.origin>i)return}this._values.set(e,new RH(n,i))}delete(e,n){(n=this._normalizeOrigin(n))!=null&&this._values.get(e)?.origin!==n||this._values.delete(e)}has(e,n){return(n=this._normalizeOrigin(n))!=null?this._values.get(e)?.origin===n:this._values.has(e)}isAtOrigin(e,n){return n=this._normalizeOrigin(n),this.has(e,n)&&this.originOf(e)===n}isBelowOrigin(e,n){return n=this._normalizeOrigin(n),!this.has(e)||this.originOf(e)<n}forEach(e){this._values.forEach(({value:n},i)=>e(n,i))}_normalizeOrigin(e){if(e!=null)return e===0?e:7}},RH=class{constructor(t,e){this.value=t,this.origin=e}};function XN(t,e,n){e.keys().forEach(r=>{n.set(r,e.get(r),0)});const i=t.metadata;Object.keys(i).forEach(r=>{t.internalGet(r)&&n.set(r,t.internalGet(r),0)})}function LH(t,e,n){if(!t?.read||t.read.enabled===!1||!t.read.source)return!1;const i=t.read.source;if(typeof i=="string"){if(i===e||i.includes(".")&&i.startsWith(e)&&hN(i,n))return!0}else for(const r of i)if(r===e||r.includes(".")&&r.startsWith(e)&&hN(r,n))return!0;return!1}function PH(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function DH(t,e,n,i,r){let s=Ry(e[n],r);PH(s)&&(t[n]=!0);for(const o of Object.getOwnPropertyNames(e))s=Ry(e[o],r),LH(s,n,i)&&(t[o]=!0)}function FH(t,e,n,i){const r=n.metadata,s=Xq(r[e],i),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(t,e,i):o;a!==void 0&&n.set(e,a)}const QN={origin:"service"};function KN(t,e,n=QN){if(!e||typeof e!="object")return;const i=Zo(t),r=i.metadata,s={};for(const o of Object.getOwnPropertyNames(e))DH(s,r,o,e,n);i.setDefaultOrigin(n.origin);for(const o of Object.getOwnPropertyNames(s)){const a=Ry(r[o],n).read,l=a?.source;let c;c=l&&typeof l=="string"?Rd(e,l):e[o],a?.reader&&(c=a.reader.call(t,c,e,n)),c!==void 0&&i.set(o,c)}if(!n||!n.ignoreDefaults){i.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(r))s[o]||FH(t,o,i,n)}i.setDefaultOrigin("user")}function jH(t,e,n,i=QN){const r={...i,messages:[]};n(r),r.messages?.forEach(s=>{s.type!=="warning"||t.loaded?i?.messages&&i.messages.push(s):t.loadWarnings.push(s)})}function $H(t,e,n,i,r){const s={};return e.write?.writer?.call(t,i,s,n,r),s}function tO(t,e,n,i,r,s){if(!i?.write)return!1;const o=bc(t,n);if(!r&&i.write.overridePolicy){const a=i.write.overridePolicy.call(t,o,n,s??void 0);a!==void 0&&(r=a)}if(r||(r=i.write),!r||r.enabled===!1||r.layerContainerTypes&&s?.layerContainerType&&!r.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!r.allowNull&&!r.writerEnsuresNonNull||o===void 0)&&r.isRequired){const a=new re("web-document-write:property-required",`Missing value for required property '${n}' on '${t.declaredClass}'`,{propertyName:n,target:t});return a&&s?.messages?s.messages.push(a):a&&!s&&Oe.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!r.allowNull&&!r.writerEnsuresNonNull||!r.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(n)===0)&&GH(t,n,s,i,o)||!r.ignoreOrigin&&s?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(n)<Kw(s.origin))}function GH(t,e,n,i,r){const s=i.default;if(s===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(r);if(typeof s=="function"){if(Array.isArray(r)){const o=s.call(t,e,n??void 0);return Ed(o,r)}return!1}return s===r}function UH(t,e,n,i){const r=Zo(t),s=r.metadata,o=IN(s[e],i);return!!o&&tO(t,r,e,o,n,i)}function eO(t,e,n){if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return wy(e,t.toJSON(n));const i=Zo(t),r=i.metadata;for(const s in r){const o=IN(r[s],n);if(!tO(t,i,s,o,void 0,n))continue;const a=bc(t,s),l=$H(t,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,n);Object.keys(l).length>0&&(e=wy(e,l),n?.resources?.pendingOperations?.length&&n.resources.pendingOperations.push(Promise.all(n.resources.pendingOperations).then(()=>wy(e,l,()=>"replace-arrays"))),n?.writtenProperties&&n.writtenProperties.push({target:t,propName:s,oldOrigin:AH(i.store.originOf(s)),newOrigin:n.origin}))}return e}const n_=t=>{const e=t;let n=class extends e{constructor(...i){super(...i);const r=Zo(this),s=r.store,o=new kH;r.store=o,XN(r,s,o)}read(i,r){KN(this,i,r)}write(i,r){return eO(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return BH.call(this,i,r)}};return n=v([tt("esri.core.JSONSupport")],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function BH(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const n=new this;return n.read(t,e),n}const Vt=n_(Wn);function dn(t,e,n){let i,r;return e===void 0||Array.isArray(e)?(r=t,n=e,i=[void 0]):(r=e,i=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;i.forEach(l=>{const c=Uw(s,l,r);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],n&&(c.read.source=(c.read.source||[]).concat(n))})}}let Os=class{constructor(t,e={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=e,this.apiValues=[],this.jsonValues=[],this._apiToJSON=VH(t),this.apiValues=nO(this._apiToJSON),this.jsonValues=nO(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,r)=>{const s=this.toJSON(n);s!==void 0&&Ha(r,s,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const e=this._apiToJSON[t];return this._options.useNumericKeys?+e:e}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function VH(t){const e={};for(const n in t)e[t[n]]=n;return e}function nO(t){const e=[];for(const n in t)e.push(n);return e.sort(),e}function Hr(){return function(t,e){return new Os(t,{ignoreUnknown:!0,...e})}}let i_=class{constructor(t,e,n,i,r,s){this.semiMajorAxis=t,this.flattening=e,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=i,this.scaleHeight=r;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=s||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Yr=new i_(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),ih=new i_(3396190,1/169.8944472236118,23e4,6e4,.111),$d=new i_(1737400,0,0,0,0);function Gd(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}const zH=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,WH={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function r_(t){const e=t?.match(zH);if(!e)return null;const[,n,i,r]=e;if(!n)return null;let s=null,o=null,a=null;const{devext:l,qaext:c,www:p}=WH;if(i)if(s=n,r)switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=p);else switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=p);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function s_(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function o_(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,i=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):n.test(t)?t=t.replace(n,"https://devext.arcgis.com"):i.test(t)&&(t=t.replace(i,"https://qaext.arcgis.com")),t}function iO(t){const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer}function qH(t){const e=new Uint8Array(t);let n="";for(let i=0;i<e.length;i++)n+=String.fromCharCode(e[i]);return btoa(n)}const HH=()=>Oe.getLogger("esri.core.urlUtils"),rh=ae.request,rO="esri/config: esriConfig.request.proxyUrl is not set.",sO=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,oO=/^\s*http:/i,YH=/^\s*https:/i,JH=/^\s*file:/i,aO=/:\d+$/,ZH=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,XH=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),QH=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let wc=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let e=this.uri.match(XH);this.scheme=e[2]||(e[1]?"":null),this.authority=e[4]||(e[3]?"":null),this.path=e[5],this.query=e[7]||(e[6]?"":null),this.fragment=e[9]||(e[8]?"":null),this.authority!=null&&(e=this.authority.match(QH),this.user=e[3]||null,this.password=e[4]||null,this.host=e[6]||e[7],this.port=e[9]||null)}toString(){return this.uri}};const $y={},KH=new wc(ae.applicationUrl);let bi=KH;const tY=nY();let a_=tY;const l_=()=>bi,eY=()=>a_;function nY(){const t=bi.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${bi.scheme}://${bi.host}${bi.port!=null?`:${bi.port}`:""}`}${e}`}function Jr(t){if(!t)return null;const e={path:null,query:null},n=new wc(t),i=t.indexOf("?");return n.query===null?e.path=t:(e.path=t.slice(0,i),e.query=Gy(n.query)),n.fragment&&(e.hash=n.fragment,n.query===null&&(e.path=e.path.slice(0,e.path.length-(n.fragment.length+1)))),e}function Gy(t){const e=t.split("&"),n={};for(const i of e){if(!i)continue;const r=i.indexOf("=");let s,o;r<0?(s=decodeURIComponent(i),o=""):(s=decodeURIComponent(i.slice(0,r)),o=decodeURIComponent(i.slice(r+1)));let a=n[s];typeof a=="string"&&(a=n[s]=[a]),Array.isArray(a)?a.push(o):n[s]=o}return n}function sh(t,e){return t?Object.keys(t).map(n=>{const i=t[n];if(i==null)return"";const r=encodeURIComponent(n)+"=",s=e?.[n];return s?r+encodeURIComponent(s(i)):Array.isArray(i)?i.map(o=>Gd(o)?r+encodeURIComponent(JSON.stringify(o)):r+encodeURIComponent(o)).join("&"):Gd(i)?r+encodeURIComponent(JSON.stringify(i)):r+encodeURIComponent(i)}).filter(n=>n).join("&"):""}function lO(t=!1){let e,n=rh.proxyUrl;if(typeof t=="string"){e=dO(t);const i=Bd(t);i&&(n=i.proxyUrl)}else e=!!t;if(!n)throw HH().warn(rO),new re("urlUtils:proxy-not-set",rO);return e&&f_()&&(n=Vy(n)),Jr(n)}function iY(t,e=!1){const n=Bd(t);let i,r;if(n){const s=c_(n.proxyUrl);i=s.path,r=s.query?Gy(s.query):null}else if(e){const s=lO(t);i=s.path,r=s.query}if(i){const s=Jr(t);t=i+"?"+s.path;const o=sh({...r,...s.query});o&&(t=`${t}?${o}`)}return t}const Ud={path:"",query:""};function c_(t){const e=t.indexOf("?");return e!==-1?(Ud.path=t.slice(0,e),Ud.query=t.slice(e+1)):(Ud.path=t,Ud.query=null),Ud}function cO(t){return t=(t=zy(t=fO(t=c_(t).path),!0)).toLowerCase()}function rY(t){const e={proxyUrl:t.proxyUrl,urlPrefix:cO(t.urlPrefix)},n=rh.proxyRules,i=e.urlPrefix;let r=n.length;for(let s=0;s<n.length;s++){const o=n[s].urlPrefix;if(i.startsWith(o)){if(i.length===o.length)return-1;r=s;break}o.startsWith(i)&&(r=s+1)}return n.splice(r,0,e),r}function Bd(t){const e=rh.proxyRules,n=cO(t);for(let i=0;i<e.length;i++)if(n.startsWith(e[i].urlPrefix))return e[i]}function sY(t,e){if(!t||!e)return!1;t=Uy(t),e=Uy(e);const n=r_(t),i=r_(e);return n!=null&&i!=null?n.portalHostname===i.portalHostname:n==null&&i==null&&Ja(t,e,!0)}function uO(t,e){return t=Uy(t),e=Uy(e),zy(t)===zy(e)}function Uy(t){const e=(t=Ko(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function u_(t,e=rh.interceptors){const n=i=>i instanceof RegExp?i.test(t):typeof i=="string"?t.startsWith(i):i==null;if(e){for(const i of e)if(Array.isArray(i.urls)){if(i.urls.some(n))return i}else if(n(i.urls))return i}return null}function Ja(t,e,n=!1){if(!t||!e)return!1;const i=g_(t),r=g_(e);return!(!n&&i.scheme!==r.scheme)&&i.host!=null&&r.host!=null&&i.host.toLowerCase()===r.host.toLowerCase()&&i.port===r.port}function h_(t){if(typeof t=="string"){if(!Zr(t))return!0;t=g_(t)}if(Ja(t,bi))return!0;const e=rh.trustedServers||[];for(let n=0;n<e.length;n++){const i=oY(e[n]);for(let r=0;r<i.length;r++)if(Ja(t,i[r]))return!0}return!1}function oY(t){return $y[t]||(d_(t)||ta(t)?$y[t]=[new wc(oh(t))]:$y[t]=[new wc(`http://${t}`),new wc(`https://${t}`)]),$y[t]}function oh(t,e=a_,n){return ta(t)?n?.preserveProtocolRelative?t:bi.scheme==="http"&&bi.authority===Ir(t).slice(2)?`http:${t}`:`https:${t}`:d_(t)?t:Vd(t.startsWith("/")?fY(e):e,t)}function p_(t,e=a_,n){if(t==null||!Zr(t))return t;const i=Ko(t),r=i.toLowerCase(),s=Ko(e).toLowerCase().replace(/\/+$/,""),o=n?Ko(n).toLowerCase().replace(/\/+$/,""):null;if(o&&!s.startsWith(o))return t;const a=(d,f,y)=>(y=d.indexOf(f,y))===-1?d.length:y;let l=a(r,"/",r.indexOf("//")+2),c=-1;for(;r.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==r.length);)l=a(r,"/",l+1);if(c===-1||o&&c<o.length)return t;t=i.slice(c);const p=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(p>0)for(let d=0;d<p;d++)t=`../${t}`;else t=`./${t}`;return t}function Ko(t){return t=bY(t=vY(t=gY(t=oh(t=t.trim()))))}function Vd(...t){const e=t.filter(yI);if(!e?.length)return;const n=[];if(Zr(e[0])){const r=e[0],s=r.indexOf("//");s!==-1&&(n.push(r.slice(0,s+1)),pY(e[0])&&(n[0]+="/"),e[0]=r.slice(s+2))}else e[0].startsWith("/")&&n.push("");const i=e.reduce((r,s)=>s?r.concat(s.split("/")):r,[]);for(let r=0;r<i.length;r++){const s=i[r];s===".."&&n.length>0&&n[n.length-1]!==".."?n.pop():(!s&&r===i.length-1||s&&(s!=="."||n.length===0))&&n.push(s)}return n.join("/")}function Ir(t,e=!1){if(t==null||By(t)||_c(t))return null;let n=t.indexOf("://");if(n===-1&&ta(t))n=2;else{if(n===-1)return null;n+=3}const i=t.indexOf("/",n);return i!==-1&&(t=t.slice(0,i)),e&&(t=zy(t,!0)),t}function Zr(t){return ta(t)||d_(t)}function By(t){return t!=null&&t.startsWith("blob:")}function _c(t){return t!=null&&t.startsWith("data:")}function hO(t){const e=ah(t);return e?.isBase64?iO(e.data):null}function aY(t){return qH(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const lY=/^data:(.*?)(;base64)?,(.*)$/;function ah(t){const e=t.match(lY);if(!e)return null;const[,n,i,r]=e;return{mediaType:n,isBase64:!!i,data:r}}function pO(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function cY(t){return(await fetch(t)).blob()}function uY(t){const e=hO(t);if(!e)return null;const n=ah(t);return new Blob([e],{type:n.mediaType})}function ta(t){return t!=null&&t.startsWith("/")&&t[1]==="/"}function d_(t){return t!=null&&sO.test(t)}function dO(t){return t!=null&&YH.test(t)||bi.scheme==="https"&&ta(t)}function hY(t){return t!=null&&oO.test(t)||bi.scheme==="http"&&ta(t)}function pY(t){return t!=null&&JH.test(t)}function Vy(t){return ta(t)?`https:${t}`:t.replace(oO,"https:")}function dY(){return bi.scheme==="http"}function f_(){return bi.scheme==="https"}function zy(t,e=!1){return ta(t)?t.slice(2):(t=t.replace(sO,""),e&&t.length>1&&t.startsWith("/")&&t[1]==="/"&&(t=t.slice(2)),t)}function fY(t){const e=t.indexOf("//"),n=t.indexOf("/",e+2);return n===-1?t:t.slice(0,n)}function mY(t){let e=0;if(Zr(t)){const i=t.indexOf("//");i!==-1&&(e=i+2)}const n=t.lastIndexOf("/");return n<e?t:t.slice(0,n+1)}function yY(t,e){if(!t)return"";const n=Jr(t).path.replace(/\/+$/,""),i=n.slice(n.lastIndexOf("/")+1);if(!e?.length)return i;const r=new RegExp(`\\.(${e.join("|")})$`,"i");return i.replace(r,"")}function fO(t){return t.endsWith("/")?t:`${t}/`}function m_(t){return t.replace(/\/+$/,"")}function gY(t){if(/^https?:\/\//i.test(t)){const e=c_(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function vY(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function bY(t){const e=rh.httpsDomains;if(!hY(t))return t;const n=t.indexOf("/",7);let i;if(i=n===-1?t:t.slice(0,n),i=i.toLowerCase().slice(7),aO.test(i)){if(!i.endsWith(":80"))return t;i=i.slice(0,-3),t=t.replace(":80","")}return dY()&&i===bi.authority&&!ZH.test(t)||(f_()&&i===bi.authority||e&&e.some(r=>i===r||i.endsWith(`.${r}`))||f_()&&!Bd(t))&&(t=Vy(t)),t}function y_(t,e,n){if(!(e&&n&&t&&Zr(t)))return t;const i=t.indexOf("//"),r=t.indexOf("/",i+2),s=t.indexOf(":",i+2),o=Math.min(r<0?t.length:r,s<0?t.length:s);return t.slice(i+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,i+2)}${n}${t.slice(o)}`}function mO(t,e){const n=new URL(t);return n.host=e,n.port&&!aO.test(e)&&(n.port=""),n.toString()}function wY(t){return new URL(t).host}function g_(t){return typeof t=="string"?new wc(oh(t)):(t.scheme||(t.scheme=bi.scheme),t)}function _Y(t){return AY.test(t)}function yO(t,e){const n=Jr(t),i=Object.keys(n.query||{});return i.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),n.path}function xY(t,e,n){const i=Jr(t),r=i.query||{};return r[e]=String(n),`${i.path}?${sh(r)}`}function Wy(t,e){if(!e)return t;const n=Jr(t),i=n.query||{};for(const[s,o]of Object.entries(e))o!=null&&(i[s]=o);const r=sh(i);return r?`${n.path}?${r}`:n.path}function EY(t){if(t==null)return null;const e=t.match(vO);return e?e[2]:null}function gO(t){if(t==null)return null;const e=t.match(vO);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function SY(t){return typeof t=="string"?ah(t)??{data:t}:new Promise((e,n)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>e(ah(i.result)),i.onerror=r=>n(r)})}const vO=/([^.]*)\.([^/]*)$/,AY=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const bO="4.34";let De,wO=bO;function MY(t){De=t}function TY(t){const e=De?.findCredential(t);return e?.token?xY(t,"token",e.token):t}wO="4.34.8",Q("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),Q("host-webworker");function lh(t,e){const n=e?.url?.path;if(t&&n&&(t=oh(t,n,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const i=p_(t,e.portalItem.itemUrl);i!=null&&i.startsWith(IY)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(i).path)}return(t=b_(t,e?.portal))&&Hy.test(t)?w_(t):t}function zd(t,e,n=0){if((t=t&&Hy.test(t)?EO(t):t)==null)return t;!Zr(t)&&e?.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let i=oh(t);if(e){const r=e.verifyItemRelativeUrls?.rootPath||e.url?.path;if(r){const s=b_(r,e.portal),o=b_(i,e.portal);i=p_(o,s,s),i!=null&&i!==o&&i!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=v_(i,e?.portal),Zr(i)&&(i=Ko(i)),e?.resources&&e?.portalItem&&!Zr(i)&&!_c(i)&&n===0&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(i),compress:!1}),i}function qy(t,e,n){return lh(t,n)}function xc(t,e,n,i){const r=zd(t,i);r!==void 0&&(e[n]=r)}const Hy=/\/items\/([^/]+)\/resources\/(.*)/,IY="./resources/";function _O(t){return(t?.match(Hy)??null)?.[1]??null}function xO(t){const e=t?.match(Hy)??null;if(e==null)return null;const n=e[2],i=n.lastIndexOf("/");if(i===-1){const{path:o,extension:a}=gO(n);return{prefix:null,filename:o,extension:a}}const{path:r,extension:s}=gO(n.slice(i+1));return{prefix:n.slice(0,i),filename:r,extension:s}}function v_(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?y_(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function b_(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const n=`${e.urlKey}.${e.customBaseUrl}`,i=l_();return Ja(i,`${i.scheme}://${n}`)?y_(t,e.portalHostname,n):y_(t,n,e.portalHostname)}function w_(t){if(!t)return t||null;let e=t;return e&&De&&!De.findCredential(e)&&(e=o_(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function EO(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&De&&!De.findCredential(e)&&(e=o_(e)),e}const NY=Object.freeze(Object.defineProperty({__proto__:null,ensureMainOnlineDomain:v_,fromCDNUrl:EO,fromJSON:lh,itemIdFromResourceUrl:_O,prefixAndFilenameFromResourceUrl:xO,read:qy,toCDNUrl:w_,toJSON:zd,write:xc},Symbol.toStringTag,{value:"Module"})),SO={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},AO=Object.values(SO),MO=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${AO.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),OY=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${AO.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),CY=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function kY(t){return MO.test(t)}function Wd(t){if(t==null)return null;const e=Jr(t),n=e?.path.match(MO)||e?.path.match(OY);if(!n)return null;const[,i,r,s,o]=n,a=r.indexOf("/");return{title:__(a!==-1?r.slice(a+1):r),serverType:SO[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:i}}}function TO(t){const e=Jr(t).path.match(CY);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function __(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function RY(t,e){const n=[];if(t){const i=Wd(t);i!=null&&i.title&&n.push(i.title)}if(e){const i=__(e);n.push(i)}if(n.length===2){if(n[0].toLowerCase().includes(n[1].toLowerCase()))return n[0];if(n[1].toLowerCase().includes(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function x_(t){let e=Ir(t,!0);return!!e&&(e=e.toLowerCase(),e.endsWith(".arcgis.com")&&(e.startsWith("services")||e.startsWith("tiles")||e.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(e)))}function LY(t,e){return t&&m_(yO(t,e))}function PY(t){let{url:e}=t;if(!e)return{url:e};e=yO(e,t.logger);const n=Jr(e),i=Wd(n.path);let r;if(i!=null)i.sublayer!=null&&t.layer.layerId==null&&(r=i.sublayer),e=i.url.path;else if(t.nonStandardUrlAllowed){const s=TO(n.path);s!=null&&(e=s.serviceUrl,r=s.sublayerId)}return{url:m_(e),layerId:r}}function DY(t,e,n,i,r){xc(e,i,"url",r),i.url&&t.layerId!=null&&(i.url=Vd(i.url,n,t.layerId.toString()))}function FY(t){if(!t)return!1;const e=t.toLowerCase(),n=e.includes("/services/"),i=e.includes("/mapserver/wmsserver"),r=e.includes("/imageserver/wmsserver"),s=e.includes("/wmsserver");return n&&(i||r||s)}const jY=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function E_(t){if(!A_(t))return null;const e=i=>i instanceof RegExp?i.test(t):typeof i=="string"&&t.startsWith(i),n=ae.apiKeys;if(Array.isArray(n.scopes)){for(const i of n.scopes)if(Array.isArray(i.urls)){if(i.urls.some(e))return i.token}else if(e(i.urls))return i.token}return n.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(t)?n.basemapStyles:ae.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(t)?ae.apiKey:null}function S_(){return ae.apiKey!=null||ae.apiKeys.basemapStyles!=null}function $Y(t,e){return e?A_(t):E_(t)!=null}function A_(t){const e=Ir(t,!0);return!!e&&!jY.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function IO(t,e,n=!1,i){return new Promise((r,s)=>{if(Yo(i))return void s(NO());let o=()=>{c(),s(new Error(`Unable to load ${e}`))},a=async()=>{const p=t;try{await p.decode()}catch{}c(),r(p)},l=()=>{if(!t)return;const p=t;c(),p.src="",s(NO())};const c=()=>{t&&(t.removeEventListener("error",o),t.removeEventListener("load",a),o=null,a=null,t=null,i?.removeEventListener("abort",l),l=null,n&&URL.revokeObjectURL(e))};i?.addEventListener("abort",l),t.addEventListener("error",o),t.addEventListener("load",a)})}function NO(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const OO="Timeout exceeded";function GY(){return new Error(OO)}function UY(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===OO}function BY(t){ae.request.crossOriginNoCorsDomains||(ae.request.crossOriginNoCorsDomains={});const e=ae.request.crossOriginNoCorsDomains;for(let n of t)n=n.toLowerCase(),/^https?:\/\//.test(n)?e[Ir(n)??""]=0:(e[Ir("http://"+n)??""]=0,e[Ir("https://"+n)??""]=0)}function VY(t){const e=ae.request.crossOriginNoCorsDomains;if(e){let n=Ir(t);if(n)return n=n.toLowerCase(),!Ja(n,l_())&&e[n]<Date.now()-36e5}return!1}async function zY(t){const e=Jr(t);t=e.path,e.query?.f==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const n=ae.request.crossOriginNoCorsDomains,i=Ir(t);n&&i&&(n[i.toLowerCase()]=Date.now())}const M_=new Map;function WY(t,e){const n=e?.preferredHost;if(!n||Ja(t,`https://${n}`,!0))return;const i=Wd(t);if(!i||i.serverType!=="FeatureServer"||s_(t))return;const r=i.url.path.toLowerCase();M_.has(r)||M_.set(r,n)}function CO(t){const e=Wd(t)?.url.path.toLowerCase();if(!e)return t;const n=M_.get(e);return n?mO(t,n):t}async function fn(t,e){t instanceof URL&&(t=t.toString()),e?.query instanceof URLSearchParams&&(e.query=Gy(e.query.toString().replaceAll("+"," ")));const n=_c(t),i=By(t);i||n||(t=Ko(t));const r={url:t,requestOptions:{...e}},s=y=>({data:y,getAllHeaders:ch,getHeader:ch,httpStatus:200,requestOptions:r.requestOptions,url:r.url}),o=u_(t,Xr.internalInterceptors);if(o){const y=await DO(o,r);if(y!=null)return s(y)}let a=u_(t);if(a){const y=await DO(a,r);if(y!=null)return s(y);a.after||a.error||(a=null)}if(t=r.url,(e=r.requestOptions).responseType==="image"&&(Q("host-webworker")||Q("host-node")))throw Cs("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),r);if(e.method==="head"){if(e.body)throw Cs("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),r);if(n||i)throw Cs("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),r)}if(await ZY(),Yy)return Yy.execute(t,e);const l=new AbortController,c=mc(e,()=>l.abort()),p={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:r,redoRequest:!1,useIdentity:Xr.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=e.useRequestQueue?eJ(p):I_(p),f=await d.finally(()=>c?.remove());return a?.after?.(f),f}let Yy,kO=!1;const Xr=ae.request,RO="FormData"in globalThis,qY=new Set([499,498,403,401]),HY=new Set(["COM_0056","COM_0057","SB_0008"]),YY=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],ch=()=>null,Jy=Symbol();function JY(t){const e=Ir(t);e&&!fn._corsServers.includes(e)&&fn._corsServers.push(e)}function LO(t){const e=Ir(t);return!e||e.endsWith(".arcgis.com")||fn._corsServers.includes(e)||h_(e)}function Cs(t,e,n,i){let r;const s={url:n.url,requestOptions:n.requestOptions,getAllHeaders:ch,getHeader:ch,ssl:!1};if(e instanceof re)return e.details?(e.details=ht(e.details),e.details.url=n.url,e.details.requestOptions=n.requestOptions):e.details=s,e;if(e){const o=i&&(()=>Array.from(i.headers)),a=i&&(p=>i.headers.get(p)),l=i?.status,c=e.message;c&&(r=c),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||l||0,s.subCode=e.subcode,s.messageCode=e.messageCode,typeof e.details=="string"?(s.messages=[e.details],r??=e.details):(s.messages=e.details,r??=s.messages?.[0]),s.raw=Jy in e?e[Jy]:e}return r??="Error",yc(e)?Gi():new re(t,r,s)}async function ZY(){Q("host-webworker")&&(!Yy&&globalThis.invokeStaticMessage?Yy=await import("./request-DqyAEH-G.js"):kO=!0)}async function T_(){De||await import("./IdentityManager-CU4woHLx.js")}async function XY(t){const e=t.params.url,n=t.params.requestOptions,i=t.controller.signal,r=n.body;let s=null,o=null;if(RO&&"HTMLFormElement"in globalThis&&(r instanceof FormData?s=r:r instanceof HTMLFormElement&&(s=new FormData(r))),typeof r=="string"&&(o=r),t.fetchOptions={cache:n.cacheBust?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},keepalive:n.keepAlive??!1,method:n.method==="head"?"HEAD":"GET",mode:"cors",priority:Xr.priority,redirect:"follow",signal:i},(s||o)&&(t.fetchOptions.body=s||o),(kO||n.authMode==="anonymous")&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||n.query?.token||s?.get("token")),!t.hasToken){const a=E_(e);a&&(n.query??={},n.query.token=a,t.hasToken=!0)}if(t.useIdentity&&!t.hasToken&&!t.credential&&!t.credentialToken&&!PO(e)&&!Yo(i)){let a;n.authMode==="immediate"?(await T_(),a=await De.getCredential(e,{signal:i})):n.authMode==="no-prompt"?(await T_(),a=await De.getCredential(e,{prompt:!1,signal:i}).catch(()=>{})):De&&(a=De.findCredential(e)),a&&(t.credential=a,t.credentialToken=a.token,t.useSSL=!!a.ssl)}}function PO(t){return YY.some(e=>e.test(t))}async function QY(t){let e=t.params.url,n=CO(e);const i=t.params.requestOptions,r=t.fetchOptions??{},s=By(e)||_c(e),o=i.responseType||"json",a=s?0:i.timeout!=null?i.timeout:Xr.timeout;let l=!1;if(!s){t.useSSL&&(e=Vy(e));let y={...i.query};t.credentialToken&&(y.token=t.credentialToken);let g=sh(y);Q("esri-url-encodes-apostrophe")&&(g=g.replaceAll("'","%27"));const b=n.length+1+g.length;let x;l=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||b>Xr.maxUrlLength;const A=i.useProxy||!!Bd(e);if(A){const M=lO(e);x=M.path,!l&&x.length+1+b>Xr.maxUrlLength&&(l=!0),M.query&&(y={...M.query,...y})}if(r.method==="HEAD"&&(l||A)){if(l)throw b>Xr.maxUrlLength?Cs("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):Cs("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(A)throw Cs("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}l?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?e=Wy(e,y):(r.body=sh(y),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):e=Wy(e,y),A&&(t.useProxy=!0,e=`${x}?${e}`),y.token&&RO&&r.body instanceof FormData&&!s_(e)&&r.body.set("token",y.token),i.hasOwnProperty("withCredentials")?t.withCredentials=i.withCredentials:Ja(e,l_())||(h_(e)||De&&De.findServerInfo(e)?.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(r.credentials="include",VY(e)&&await zY(l?Wy(e,y):e)),n=CO(e)}let c,p,d=0,f=!1;a>0&&(d=setTimeout(()=>{f=!0,t.controller.abort()},a));try{if(i.responseType==="native-request-init")p=r,p.url=n,i.signal?p.signal=i.signal:delete p.signal;else if(i.responseType!=="image"||r.cache!=="default"||r.keepalive||r.method!=="GET"||l||KY(i.headers)||!s&&!t.useProxy&&Xr.proxyUrl&&!LO(e)){if(fn._beforeFetch&&await fn._beforeFetch(e,r),c=await fetch(n,r),fn._afterFetch&&await fn._afterFetch(c),t.useProxy||JY(e),i.responseType==="native")p=c;else if(r.method!=="HEAD")if(c.ok){switch(o){case"array-buffer":p=await c.arrayBuffer();break;case"blob":case"image":p=await c.blob();break;default:p=await c.text()}if(d&&(clearTimeout(d),d=0),o==="json"||o==="xml"||o==="document")if(p)switch(o){case"json":p=JSON.parse(p);break;case"xml":p=FO(p,"application/xml");break;case"document":p=FO(p,"text/html")}else p=null;if(p){if(o==="array-buffer"||o==="blob"){const y=c.headers.get("Content-Type");if(y&&/application\/json|text\/plain/i.test(y)&&p[o==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(p).json();g.error&&(p=g)}catch{}}o==="image"&&p instanceof Blob&&(p=await jO(URL.createObjectURL(p),t,!0))}}else{p=await c.text();try{p=JSON.parse(p)}catch{}}}else p=await jO(n,t)}catch(y){if(y.name==="AbortError")throw f?GY():Gi("Request canceled");if(!(!c&&y instanceof TypeError&&Xr.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||t.useProxy||LO(e))throw y;t.redoRequest=!0,rY({proxyUrl:Xr.proxyUrl,urlPrefix:Ir(e)??""})}finally{d&&clearTimeout(d)}return[c,p]}async function DO(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let n,i;try{i=await t.before(e)}catch(r){n=Cs("request:interceptor",r,e)}if((i instanceof Error||i instanceof re)&&(n=Cs("request:interceptor",i,e)),n)throw t.error&&t.error(n),n;return i}}function KY(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function FO(t,e){let n;try{n=new DOMParser().parseFromString(t,e)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}fn._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],fn._beforeFetch=void 0,fn._afterFetch=void 0;const tJ=new Map;async function eJ(t){const e=iJ(t.params.url);if(!e)return I_(t);const{QueueProcessor:n}=await import("./QueueProcessor-Bi93QkZ0.js");return yw(tJ,e.origin,()=>{const i=e.isHosted?Q("request-queue-concurrency-hosted"):Q("request-queue-concurrency-non-hosted");return new n({concurrency:i,process:r=>{if(Yo(r.params.requestOptions))throw Cs("",Gi("Request canceled"),r.params);return I_(r)}})}).push(t)}async function I_(t){let e,n;await XY(t);try{do[e,n]=await QY(t);while(!await nJ(t,e,n))}catch(s){const o=Cs("request:server",s,t.params,e);throw o.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(o),o}const i=t.params.url;if(n)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!t.hasToken&&!t.credentialToken&&n.user?.username&&!h_(i)){const s=Ir(i,!0);s&&Xr.trustedServers.push(s)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&BY(n.authorizedCrossOriginNoCorsDomains)}else(t.params.requestOptions.responseType||"json")==="json"&&WY(i,n);const r=t.credential;if(r&&De){let s=De.findServerInfo(r.server)?.owningSystemUrl;if(s){s=s.replace(/\/?$/,"/sharing");const o=De.findCredential(s,r.userId);o&&De._getIdenticalSvcIdx(s,o)===-1&&o.resources.unshift(s)}}return{data:n,getAllHeaders:e?()=>Array.from(e.headers):ch,getHeader:e?s=>e.headers.get(s):ch,httpStatus:e?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function nJ(t,e,n){if(t.redoRequest)return t.redoRequest=!1,!1;const i=t.params.requestOptions;if(!e||i.responseType==="native"||i.responseType==="native-request-init")return!0;let r,s;if(n&&(n.error&&typeof n.error=="object"?r=n.error:n.status==="error"&&Array.isArray(n.messages)&&(r={...n},r[Jy]=n,r.details=n.messages)),!r&&!e.ok)throw r=new Error(`Unable to load ${e.url} status: ${e.status}`),r[Jy]=n,r;let o,a=null;r&&(s=Number(r.code),a=r.hasOwnProperty("subcode")?Number(r.subcode):null,o=r.messageCode,o=o?.toUpperCase());const l=i.authMode;if(s===403&&(a===4||r.message?.toLowerCase().includes("ssl")&&!r.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&qY.has(s)&&!PO(t.params.url)&&(s!==403||(!o||!HY.has(o))&&(a==null||a===2&&t.credentialToken))){await T_();try{const c=await De.getCredential(t.params.url,{error:Cs("request:server",r,t.params),credential:t.credential,prompt:l!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=c,t.credentialToken=c.token,t.useSSL=t.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;r=c}}if(r)throw r;return!0}function jO(t,e,n=!1){const i=e.controller.signal,r=new Image;return e.withCredentials?r.crossOrigin="use-credentials":r.crossOrigin="anonymous",r.alt="",r.fetchPriority=Xr.priority,r.src=t,IO(r,t,n,i)}function iJ(t){let e,n;return typeof t=="string"?(e=Ir(t,!0),n=x_(t)):(e=t.origin,n=x_(t.toString())),e==null?null:{origin:e,isHosted:n}}function $O(t){if(!ae.assetsPath)throw Oe.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new re("assets:path-not-set","config.assetsPath is not set");return Vd(ae.assetsPath,t)}let N_,z=null;function GO(){return!!z}function rJ(){return!!Q("esri-wasm")}function UO(){return N_||(N_=import("./pe-wasm-BZuydchS.js").then(({default:t})=>t({locateFile:e=>$O(`esri/geometry/support/${e}`)})).then(t=>{XO(t)}),N_)}const qd={geogToProj(t,e,n){z.ensureCache.prepare();const i=Sc(n),r=n===i,s=z.ensureFloat64(i),o=z._pe_geog_to_proj(z.getPointer(t),e,s);return o&&Za(n,e,s,r),o},projGeog(t,e,n,i){switch(i){case Qe.PE_TRANSFORM_P_TO_G:return qd.projToGeog(t,e,n);case Qe.PE_TRANSFORM_G_TO_P:return qd.geogToProj(t,e,n)}return 0},projToGeog:(t,e,n)=>qd.projToGeogCenter(t,e,n,0),projToGeogCenter(t,e,n,i){z.ensureCache.prepare();const r=Sc(n),s=n===r,o=z.ensureFloat64(r),a=z._pe_proj_to_geog_center(z.getPointer(t),e,o,i);return a&&Za(n,e,o,s),a}};let Qe=class ue{static init(){ue.PE_BUFFER_MAX=z.PeDefs.prototype.PE_BUFFER_MAX,ue.PE_NAME_MAX=z.PeDefs.prototype.PE_NAME_MAX,ue.PE_MGRS_MAX=z.PeDefs.prototype.PE_MGRS_MAX,ue.PE_USNG_MAX=z.PeDefs.prototype.PE_USNG_MAX,ue.PE_DD_MAX=z.PeDefs.prototype.PE_DD_MAX,ue.PE_DDM_MAX=z.PeDefs.prototype.PE_DDM_MAX,ue.PE_DMS_MAX=z.PeDefs.prototype.PE_DMS_MAX,ue.PE_UTM_MAX=z.PeDefs.prototype.PE_UTM_MAX,ue.PE_PARM_MAX=z.PeDefs.prototype.PE_PARM_MAX,ue.PE_TYPE_NONE=z.PeDefs.prototype.PE_TYPE_NONE,ue.PE_TYPE_GEOGCS=z.PeDefs.prototype.PE_TYPE_GEOGCS,ue.PE_TYPE_PROJCS=z.PeDefs.prototype.PE_TYPE_PROJCS,ue.PE_TYPE_GEOGTRAN=z.PeDefs.prototype.PE_TYPE_GEOGTRAN,ue.PE_TYPE_COORDSYS=z.PeDefs.prototype.PE_TYPE_COORDSYS,ue.PE_TYPE_UNIT=z.PeDefs.prototype.PE_TYPE_UNIT,ue.PE_TYPE_LINUNIT=z.PeDefs.prototype.PE_TYPE_LINUNIT,ue.PE_STR_OPTS_NONE=z.PeDefs.prototype.PE_STR_OPTS_NONE,ue.PE_STR_AUTH_NONE=z.PeDefs.prototype.PE_STR_AUTH_NONE,ue.PE_STR_AUTH_TOP=z.PeDefs.prototype.PE_STR_AUTH_TOP,ue.PE_STR_NAME_CANON=z.PeDefs.prototype.PE_STR_NAME_CANON,ue.PE_STR_FMT_WKT=z.PeDefs.prototype.PE_STR_FMT_WKT,ue.PE_STR_FMT_WKT2=z.PeDefs.prototype.PE_STR_FMT_WKT2,ue.PE_PARM_X0=z.PeDefs.prototype.PE_PARM_X0,ue.PE_PARM_ND=z.PeDefs.prototype.PE_PARM_ND,ue.PE_TRANSFORM_1_TO_2=z.PeDefs.prototype.PE_TRANSFORM_1_TO_2,ue.PE_TRANSFORM_2_TO_1=z.PeDefs.prototype.PE_TRANSFORM_2_TO_1,ue.PE_TRANSFORM_P_TO_G=z.PeDefs.prototype.PE_TRANSFORM_P_TO_G,ue.PE_TRANSFORM_G_TO_P=z.PeDefs.prototype.PE_TRANSFORM_G_TO_P,ue.PE_HORIZON_RECT=z.PeDefs.prototype.PE_HORIZON_RECT,ue.PE_HORIZON_POLY=z.PeDefs.prototype.PE_HORIZON_POLY,ue.PE_HORIZON_LINE=z.PeDefs.prototype.PE_HORIZON_LINE,ue.PE_HORIZON_DELTA=z.PeDefs.prototype.PE_HORIZON_DELTA}},BO=null;const VO={},zO={},WO=t=>{const e=t.getType();switch(e){case Qe.PE_TYPE_GEOGCS:t=z.castObject(t,z.PeGeogcs);break;case Qe.PE_TYPE_PROJCS:t=z.castObject(t,z.PeProjcs);break;case Qe.PE_TYPE_GEOGTRAN:t=z.castObject(t,z.PeGeogtran);break;default:e&Qe.PE_TYPE_UNIT&&(t=z.castObject(t,z.PeUnit))}return t},Ec={initialize(){z.PeFactory.prototype.initialize(null)},coordsys:t=>Ec.factoryByType(Qe.PE_TYPE_COORDSYS,t),factoryByType(t,e){let n=null,i=VO[t];if(i||(i={},VO[t]=i),i.hasOwnProperty(String(e))&&(n=i[e],z.compare(n,z.NULL)&&(n=null)),!n){const r=z.PeFactory.prototype.factoryByType(t,e);z.compare(r,z.NULL)||(n=WO(r),i[e]=n)}return n},fromString(t,e){let n=null,i=zO[t];if(i||(i={},zO[t]=i),i.hasOwnProperty(e)&&(n=i[e],z.compare(n,z.NULL)&&(n=null)),!n){const r=z.PeFactory.prototype.fromString(t,e);z.compare(r,z.NULL)||(n=WO(r),i[e]=n)}return n},geogcs:t=>Ec.factoryByType(Qe.PE_TYPE_GEOGCS,t),geogtran:t=>Ec.factoryByType(Qe.PE_TYPE_GEOGTRAN,t),getCode:t=>z.PeFactory.prototype.getCode(t),projcs:t=>Ec.factoryByType(Qe.PE_TYPE_PROJCS,t),unit:t=>Ec.factoryByType(Qe.PE_TYPE_UNIT,t)};let qO,HO=null;const O_={PE_GTLIST_OPTS_COMMON:0,init(){O_.PE_GTLIST_OPTS_COMMON=z.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,qO=z._pe_getPeGTlistExtendedEntrySize()},getGTlist(t,e,n,i,r,s){let o=null;const a=new z.PeInteger(s);try{const l=z.PeGTlistExtended.prototype.getGTlist(t,e,n,i,r,a);if((s=a.val)&&(o=[l],s>1)){const c=z.getPointer(l);for(let p=1;p<s;p++)o.push(z.wrapPointer(c+qO*p,z.PeGTlistExtendedEntry))}}finally{z.destroy(a)}return o}},sJ={destroy(t){if(t?.length){for(const e of t)ks(e),e.getEntries().forEach(n=>{ks(n);const i=n.getGeogtran();ks(i),i.getParameters().forEach(ks),[i.getGeogcs1(),i.getGeogcs2()].forEach(r=>{ks(r);const s=r.getDatum();ks(s),ks(s.getSpheroid()),ks(r.getPrimem()),ks(r.getUnit())})});z.PeGTlistExtendedEntry.prototype.Delete(t[0])}}},YO={geogToGeog(t,e,n,i,r){z.ensureCache.prepare();const s=Sc(n),o=n===s,a=z.ensureFloat64(s);let l=0;i&&(l=z.ensureFloat64(i));const c=z._pe_geog_to_geog(z.getPointer(t),e,a,l,r);return c&&Za(n,e,a,o),c}},oJ={geodesicCoordinate(t,e,n,i,r,s,o,a){z.PeLineType.prototype.geodesic_coordinate(t,e,n,i,r,s,o,a)},geodeticCoordinate(t,e,n,i,r,s,o,a,l){z.PeLineType.prototype.geodetic_coordinate(t,e,n,i,r,s,o,a,l)},geodeticDistance(t,e,n,i,r,s,o,a,l,c){z.PeLineType.prototype.geodetic_distance(t,e,n,i,r,s,o,a,l,c)},greatEllipticDistance(t,e,n,i,r,s,o,a,l){z.PeLineType.prototype.great_elliptic_distance(t,e,n,i,r,s,o,a,l)}},aJ={phiToEta:(t,e)=>z.PeMath.prototype.phi_to_eta(t,e),etaToPhi:(t,e)=>z.PeMath.prototype.eta_to_phi(t,e),phiToPhig:(t,e)=>z.PeMath.prototype.phi_to_phig(t,e),q:(t,e,n)=>z.PeMath.prototype.q(t,e,n),q90:(t,e)=>z.PeMath.prototype.q90(t,e)},C_=(t,e,n,i,r,s)=>{let o,a;switch(z.ensureCache.prepare(),t){case"dd":o=z._pe_geog_to_dd,a=Qe.PE_DD_MAX;break;case"ddm":o=z._pe_geog_to_ddm,a=Qe.PE_DDM_MAX;break;case"dms":o=z._pe_geog_to_dms,a=Qe.PE_DMS_MAX}let l=0;e&&(l=z.getPointer(e));const c=Sc(i),p=z.ensureFloat64(c),d=Zy(n,a),f=o(l,n,p,r,z.ensureInt32(d));if(f)for(let y=0;y<n;y++)s[y]=z.UTF8ToString(d[y]);return f},k_=(t,e,n,i,r)=>{let s;switch(z.ensureCache.prepare(),t){case"dd":s=z._pe_dd_to_geog;break;case"ddm":s=z._pe_ddm_to_geog;break;case"dms":s=z._pe_dms_to_geog}let o=0;e&&(o=z.getPointer(e));const a=i.map(d=>z.ensureString(d)),l=z.ensureInt32(a),c=z.ensureFloat64(new Array(2*n)),p=s(o,n,l,c);return p&&Za(r,n,c),p},JO={geogToDms:(t,e,n,i,r)=>C_("dms",t,e,n,i,r),dmsToGeog:(t,e,n,i)=>k_("dms",t,e,n,i),geogToDdm:(t,e,n,i,r)=>C_("ddm",t,e,n,i,r),ddmToGeog:(t,e,n,i)=>k_("ddm",t,e,n,i),geogToDd:(t,e,n,i,r)=>C_("dd",t,e,n,i,r),ddToGeog:(t,e,n,i)=>k_("dd",t,e,n,i)};let R_=class bd{static init(){bd.PE_MGRS_STYLE_NEW=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,bd.PE_MGRS_STYLE_OLD=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,bd.PE_MGRS_STYLE_AUTO=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,bd.PE_MGRS_180_ZONE_1_PLUS=z.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,bd.PE_MGRS_ADD_SPACES=z.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}static geogToMgrsExtended(e,n,i,r,s,o,a){z.ensureCache.prepare();let l=0;e&&(l=z.getPointer(e));const c=Sc(i),p=z.ensureFloat64(c),d=Zy(n,Qe.PE_MGRS_MAX),f=z.ensureInt32(d),y=z._pe_geog_to_mgrs_extended(l,n,p,r,s,o,f);if(y)for(let g=0;g<n;g++)a[g]=z.UTF8ToString(d[g]);return y}static mgrsToGeogExtended(e,n,i,r,s){z.ensureCache.prepare();let o=0;e&&(o=z.getPointer(e));const a=i.map(d=>z.ensureString(d)),l=z.ensureInt32(a),c=z.ensureFloat64(new Array(2*n)),p=z._pe_mgrs_to_geog_extended(o,n,l,r,c);return p&&Za(s,n,c),p}};const ZO={geogToUsng(t,e,n,i,r,s,o){z.ensureCache.prepare();let a=0;t&&(a=z.getPointer(t));const l=Sc(n),c=z.ensureFloat64(l),p=Zy(e,Qe.PE_MGRS_MAX),d=z.ensureInt32(p),f=z._pe_geog_to_usng(a,e,c,i,r,s,d);if(f)for(let y=0;y<e;y++)o[y]=z.UTF8ToString(p[y]);return f},usngToGeog(t,e,n,i){z.ensureCache.prepare();let r=0;t&&(r=z.getPointer(t));const s=n.map(c=>z.ensureString(c)),o=z.ensureInt32(s),a=z.ensureFloat64(new Array(2*e)),l=z._pe_usng_to_geog(r,e,o,a);return l&&Za(i,e,a),l}};let L_=class W2{static init(){W2.PE_UTM_OPTS_NONE=z.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,W2.PE_UTM_OPTS_ADD_SPACES=z.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,W2.PE_UTM_OPTS_NS=z.PeNotationUtm.prototype.PE_UTM_OPTS_NS}static geogToUtm(e,n,i,r,s){z.ensureCache.prepare();let o=0;e&&(o=z.getPointer(e));const a=Sc(i),l=z.ensureFloat64(a),c=Zy(n,Qe.PE_UTM_MAX),p=z.ensureInt32(c),d=z._pe_geog_to_utm(o,n,l,r,p);if(d)for(let f=0;f<n;f++)s[f]=z.UTF8ToString(c[f]);return d}static utmToGeog(e,n,i,r,s){z.ensureCache.prepare();let o=0;e&&(o=z.getPointer(e));const a=i.map(d=>z.ensureString(d)),l=z.ensureInt32(a),c=z.ensureFloat64(new Array(2*n)),p=z._pe_utm_to_geog(o,n,l,r,c);return p&&Za(s,n,c),p}},P_=class Ba{static{this.cache=new Map}static init(){Ba.PE_PCSINFO_OPTION_NONE=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,Ba.PE_PCSINFO_OPTION_DOMAIN=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,Ba.PE_POLE_OUTSIDE_BOUNDARY=z.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,Ba.PE_POLE_POINT=z.PePCSInfo.prototype.PE_POLE_POINT}static generate(e,n=Ba.PE_PCSINFO_OPTION_DOMAIN){let i=null,r=null;return Ba.cache.has(e)&&(r=Ba.cache.get(e),r[n]&&(i=r[n])),i||(i=z.PePCSInfo.prototype.generate(e,n),r||(r=[],Ba.cache.set(e,r)),r[n]=i),i}};const lJ={versionString:()=>z.PeVersion.prototype.version_string()};function XO(t){function e(s,o,a){s[o]=a(s[o])}z=t,Qe.init(),O_.init(),R_.init(),L_.init(),P_.init(),BO=class extends z.PeDouble{constructor(s=NaN){super(s)}destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}},HO=class extends z.PeGCSExtent{destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}};const n=[z.PeAngunit,z.PeDatum,z.PeGeogcs,z.PeGeogtran,z.PeObject,z.PeParameter,z.PePrimem,z.PeProjcs,z.PeSpheroid,z.PeUnit];for(const s of n)e(s.prototype,"getName",o=>function(){return o.call(this,new Array(Qe.PE_NAME_MAX))});for(const s of[z.PeGeogtran,z.PeProjcs])e(s.prototype,"getParameters",o=>function(){const a=new Array(Qe.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const p=z.getValue(l,"*");a[c]=p?z.wrapPointer(p,z.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});e(z.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return Za(l,a,s.call(this),o),l}),e(z.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=z._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=this.getSteps();if(c>1){const p=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(p+o*d,z.PeGTlistExtendedGTs))}}return a}});const i=z._pe_getPeHorizonSize(),r=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=l.getNump();if(c>1){const p=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(p+i*d,z.PeHorizon))}}return o.set(s,a),a};e(z.PeProjcs.prototype,"horizonGcsGenerate",r),e(z.PeProjcs.prototype,"horizonPcsGenerate",r),z.PeObject.prototype.toString=function(s=Qe.PE_STR_OPTS_NONE){z.ensureCache.prepare();const o=z.getPointer(this),a=z.ensureInt8(new Array(Qe.PE_BUFFER_MAX));return z.UTF8ToString(z._pe_object_to_string_ext(o,s,a))},z.PeGeogcs.prototype.destroy=function(){this.Delete(),ks(this),this.ptr=0},z.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},z.PeProjcs.prototype.destroy=function(){this.Delete(),ks(this),this.ptr=0},z.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function ks(t){if(!t)return;const e=z.getClass(t);if(!e)return;const n=z.getCache(e);if(!n)return;const i=z.getPointer(t);i&&delete n[i]}function Zy(t,e){const n=[],i=new Array(e);for(let r=0;r<t;r++)n.push(z.ensureInt8(i));return n}function Sc(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function Za(t,e,n,i=!1){if(i)for(let r=0;r<2*e;r++)t[r]=z.getValue(n+r*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=t.length===0;for(let s=0;s<e;s++)r&&(t[s]=new Array(2)),t[s][0]=z.getValue(n,"double"),t[s][1]=z.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}}const cJ=Object.freeze(Object.defineProperty({__proto__:null,PeCSTransformations:qd,PeDefs:Qe,get PeDouble(){return BO},PeFactory:Ec,get PeGCSExtent(){return HO},PeGTTransformations:YO,PeGTlistExtended:O_,PeGTlistExtendedEntry:sJ,PeLineType:oJ,PeMath:aJ,PeNotationDms:JO,PeNotationMgrs:R_,PeNotationUsng:ZO,PeNotationUtm:L_,PePCSInfo:P_,PeVersion:lJ,_init:XO,get _pe(){return z},isLoaded:GO,isSupported:rJ,load:UO},Symbol.toStringTag,{value:"Module"}));let h;const N={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(h=2e3;h<=2045;h++)N[h]=0;for(h=2056;h<=2065;h++)N[h]=0;for(h=2067;h<=2135;h++)N[h]=0;for(h=2137;h<=2154;h++)N[h]=0;for(h=2161;h<=2170;h++)N[h]=0;for(h=2172;h<=2193;h++)N[h]=0;for(h=2195;h<=2198;h++)N[h]=0;for(h=2200;h<=2203;h++)N[h]=0;for(h=2205;h<=2217;h++)N[h]=0;for(h=2222;h<=2224;h++)N[h]=1;for(h=2225;h<=2250;h++)N[h]=2;for(h=2251;h<=2253;h++)N[h]=1;for(h=2257;h<=2264;h++)N[h]=2;for(h=2274;h<=2279;h++)N[h]=2;for(h=2280;h<=2282;h++)N[h]=1;for(h=2283;h<=2289;h++)N[h]=2;for(h=2290;h<=2292;h++)N[h]=0;for(h=2308;h<=2313;h++)N[h]=0;for(h=2315;h<=2491;h++)N[h]=0;for(h=2494;h<=2866;h++)N[h]=0;for(h=2867;h<=2869;h++)N[h]=1;for(h=2870;h<=2888;h++)N[h]=2;for(h=2891;h<=2895;h++)N[h]=2;for(h=2896;h<=2898;h++)N[h]=1;for(h=2902;h<=2908;h++)N[h]=2;for(h=2915;h<=2920;h++)N[h]=2;for(h=2921;h<=2923;h++)N[h]=1;for(h=2924;h<=2930;h++)N[h]=2;for(h=2931;h<=2962;h++)N[h]=0;for(h=2964;h<=2968;h++)N[h]=2;for(h=2969;h<=2973;h++)N[h]=0;for(h=2975;h<=2991;h++)N[h]=0;for(h=2995;h<=3051;h++)N[h]=0;for(h=3054;h<=3079;h++)N[h]=0;for(h=3081;h<=3088;h++)N[h]=0;for(h=3092;h<=3101;h++)N[h]=0;for(h=3106;h<=3138;h++)N[h]=0;for(h=3146;h<=3151;h++)N[h]=0;for(h=3153;h<=3166;h++)N[h]=0;for(h=3168;h<=3172;h++)N[h]=0;for(h=3174;h<=3203;h++)N[h]=0;for(h=3294;h<=3358;h++)N[h]=0;for(h=3367;h<=3403;h++)N[h]=0;for(h=3408;h<=3416;h++)N[h]=0;for(h=3417;h<=3438;h++)N[h]=2;for(h=3441;h<=3446;h++)N[h]=2;for(h=3447;h<=3450;h++)N[h]=0;for(h=3451;h<=3459;h++)N[h]=2;for(h=3460;h<=3478;h++)N[h]=0;for(h=3554;h<=3559;h++)N[h]=0;for(h=3560;h<=3570;h++)N[h]=2;for(h=3571;h<=3581;h++)N[h]=0;for(h=3594;h<=3597;h++)N[h]=0;for(h=3601;h<=3604;h++)N[h]=0;for(h=3637;h<=3639;h++)N[h]=0;for(h=3665;h<=3667;h++)N[h]=0;for(h=3693;h<=3695;h++)N[h]=0;for(h=3701;h<=3727;h++)N[h]=0;for(h=3728;h<=3739;h++)N[h]=2;for(h=3740;h<=3751;h++)N[h]=0;for(h=3753;h<=3760;h++)N[h]=2;for(h=3761;h<=3773;h++)N[h]=0;for(h=3775;h<=3777;h++)N[h]=0;for(h=3779;h<=3781;h++)N[h]=0;for(h=3783;h<=3785;h++)N[h]=0;for(h=3788;h<=3791;h++)N[h]=0;for(h=3797;h<=3802;h++)N[h]=0;for(h=3814;h<=3816;h++)N[h]=0;for(h=3825;h<=3829;h++)N[h]=0;for(h=3832;h<=3841;h++)N[h]=0;for(h=3844;h<=3852;h++)N[h]=0;for(h=3873;h<=3885;h++)N[h]=0;for(h=3890;h<=3893;h++)N[h]=0;for(h=3907;h<=3912;h++)N[h]=0;for(h=3942;h<=3950;h++)N[h]=0;for(h=3968;h<=3970;h++)N[h]=0;for(h=3973;h<=3976;h++)N[h]=0;for(h=3986;h<=3989;h++)N[h]=0;for(h=3994;h<=3997;h++)N[h]=0;for(h=4048;h<=4051;h++)N[h]=0;for(h=4056;h<=4063;h++)N[h]=0;for(h=4093;h<=4096;h++)N[h]=0;for(h=4390;h<=4398;h++)N[h]=0;for(h=4399;h<=4413;h++)N[h]=2;for(h=4418;h<=4433;h++)N[h]=2;for(h=4455;h<=4457;h++)N[h]=2;for(h=4484;h<=4489;h++)N[h]=0;for(h=4491;h<=4554;h++)N[h]=0;for(h=4568;h<=4589;h++)N[h]=0;for(h=4652;h<=4656;h++)N[h]=0;for(h=4766;h<=4800;h++)N[h]=0;for(h=5014;h<=5016;h++)N[h]=0;for(h=5069;h<=5072;h++)N[h]=0;for(h=5105;h<=5130;h++)N[h]=0;for(h=5167;h<=5188;h++)N[h]=0;for(h=5253;h<=5259;h++)N[h]=0;for(h=5269;h<=5275;h++)N[h]=0;for(h=5292;h<=5311;h++)N[h]=0;for(h=5329;h<=5331;h++)N[h]=0;for(h=5343;h<=5349;h++)N[h]=0;for(h=5355;h<=5357;h++)N[h]=0;for(h=5387;h<=5389;h++)N[h]=0;for(h=5459;h<=5463;h++)N[h]=0;for(h=5479;h<=5482;h++)N[h]=0;for(h=5518;h<=5520;h++)N[h]=0;for(h=5530;h<=5539;h++)N[h]=0;for(h=5550;h<=5552;h++)N[h]=0;for(h=5562;h<=5583;h++)N[h]=0;for(h=5623;h<=5625;h++)N[h]=2;for(h=5631;h<=5639;h++)N[h]=0;for(h=5649;h<=5653;h++)N[h]=0;for(h=5663;h<=5680;h++)N[h]=0;for(h=5682;h<=5685;h++)N[h]=0;for(h=5875;h<=5877;h++)N[h]=0;for(h=5896;h<=5899;h++)N[h]=0;for(h=5921;h<=5940;h++)N[h]=0;for(h=6050;h<=6125;h++)N[h]=0;for(h=6244;h<=6275;h++)N[h]=0;for(h=6328;h<=6348;h++)N[h]=0;for(h=6350;h<=6356;h++)N[h]=0;for(h=6366;h<=6372;h++)N[h]=0;for(h=6381;h<=6387;h++)N[h]=0;for(h=6393;h<=6404;h++)N[h]=0;for(h=6480;h<=6483;h++)N[h]=0;for(h=6511;h<=6514;h++)N[h]=0;for(h=6579;h<=6581;h++)N[h]=0;for(h=6619;h<=6624;h++)N[h]=0;for(h=6625;h<=6627;h++)N[h]=2;for(h=6628;h<=6632;h++)N[h]=0;for(h=6634;h<=6637;h++)N[h]=0;for(h=6669;h<=6692;h++)N[h]=0;for(h=6707;h<=6709;h++)N[h]=0;for(h=6720;h<=6723;h++)N[h]=0;for(h=6732;h<=6738;h++)N[h]=0;for(h=6931;h<=6933;h++)N[h]=0;for(h=6956;h<=6959;h++)N[h]=0;for(h=7005;h<=7007;h++)N[h]=0;for(h=7057;h<=7070;h++)N[h]=2;for(h=7074;h<=7082;h++)N[h]=0;for(h=7109;h<=7118;h++)N[h]=0;for(h=7119;h<=7127;h++)N[h]=1;for(h=7374;h<=7376;h++)N[h]=0;for(h=7528;h<=7586;h++)N[h]=0;for(h=7587;h<=7645;h++)N[h]=2;for(h=7692;h<=7696;h++)N[h]=0;for(h=7755;h<=7787;h++)N[h]=0;for(h=7791;h<=7795;h++)N[h]=0;for(h=7799;h<=7801;h++)N[h]=0;for(h=7803;h<=7805;h++)N[h]=0;for(h=7825;h<=7831;h++)N[h]=0;for(h=7845;h<=7859;h++)N[h]=0;for(h=8013;h<=8032;h++)N[h]=0;for(h=8065;h<=8068;h++)N[h]=1;for(h=8518;h<=8529;h++)N[h]=2;for(h=8533;h<=8536;h++)N[h]=2;for(h=8538;h<=8540;h++)N[h]=2;for(h=8677;h<=8679;h++)N[h]=0;for(h=8836;h<=8840;h++)N[h]=0;for(h=8857;h<=8859;h++)N[h]=0;for(h=8908;h<=8910;h++)N[h]=0;for(h=9154;h<=9159;h++)N[h]=0;for(h=9205;h<=9218;h++)N[h]=0;for(h=9271;h<=9273;h++)N[h]=0;for(h=9295;h<=9297;h++)N[h]=0;for(h=9356;h<=9360;h++)N[h]=0;for(h=9404;h<=9407;h++)N[h]=0;for(h=9476;h<=9482;h++)N[h]=0;for(h=9487;h<=9494;h++)N[h]=0;for(h=9697;h<=9699;h++)N[h]=0;for(h=9821;h<=9865;h++)N[h]=0;for(h=10285;h<=10291;h++)N[h]=0;for(h=10314;h<=10317;h++)N[h]=0;for(h=10448;h<=10465;h++)N[h]=0;for(h=10726;h<=10729;h++)N[h]=0;for(h=10731;h<=10733;h++)N[h]=0;for(h=11114;h<=11118;h++)N[h]=0;for(h=20004;h<=20032;h++)N[h]=0;for(h=20047;h<=20049;h++)N[h]=0;for(h=20062;h<=20092;h++)N[h]=0;for(h=20135;h<=20138;h++)N[h]=0;for(h=20248;h<=20258;h++)N[h]=0;for(h=20348;h<=20358;h++)N[h]=0;for(h=20436;h<=20440;h++)N[h]=0;for(h=20822;h<=20824;h++)N[h]=0;for(h=20904;h<=20932;h++)N[h]=0;for(h=20934;h<=20936;h++)N[h]=0;for(h=21004;h<=21032;h++)N[h]=0;for(h=21035;h<=21037;h++)N[h]=0;for(h=21095;h<=21097;h++)N[h]=0;for(h=21148;h<=21150;h++)N[h]=0;for(h=21207;h<=21264;h++)N[h]=0;for(h=21307;h<=21364;h++)N[h]=0;for(h=21413;h<=21423;h++)N[h]=0;for(h=21453;h<=21463;h++)N[h]=0;for(h=21473;h<=21483;h++)N[h]=0;for(h=21780;h<=21782;h++)N[h]=0;for(h=21891;h<=21894;h++)N[h]=0;for(h=21896;h<=21899;h++)N[h]=0;for(h=22171;h<=22177;h++)N[h]=0;for(h=22181;h<=22187;h++)N[h]=0;for(h=22191;h<=22197;h++)N[h]=0;for(h=22207;h<=22222;h++)N[h]=0;for(h=22229;h<=22232;h++)N[h]=0;for(h=22234;h<=22236;h++)N[h]=0;for(h=22243;h<=22250;h++)N[h]=0;for(h=22262;h<=22265;h++)N[h]=0;for(h=22307;h<=22322;h++)N[h]=0;for(h=22348;h<=22357;h++)N[h]=0;for(h=22407;h<=22422;h++)N[h]=0;for(h=22462;h<=22465;h++)N[h]=0;for(h=22521;h<=22525;h++)N[h]=0;for(h=22607;h<=22622;h++)N[h]=0;for(h=22641;h<=22646;h++)N[h]=0;for(h=22648;h<=22657;h++)N[h]=0;for(h=22707;h<=22722;h++)N[h]=0;for(h=22762;h<=22765;h++)N[h]=0;for(h=22807;h<=22822;h++)N[h]=0;for(h=22991;h<=22994;h++)N[h]=0;for(h=23028;h<=23038;h++)N[h]=0;for(h=23301;h<=23333;h++)N[h]=2;for(h=23830;h<=23853;h++)N[h]=0;for(h=23866;h<=23872;h++)N[h]=0;for(h=23877;h<=23884;h++)N[h]=0;for(h=23886;h<=23894;h++)N[h]=0;for(h=23946;h<=23948;h++)N[h]=0;for(h=24311;h<=24313;h++)N[h]=0;for(h=24342;h<=24347;h++)N[h]=0;for(h=24370;h<=24374;h++)N[h]=10;for(h=24375;h<=24381;h++)N[h]=0;for(h=24718;h<=24721;h++)N[h]=0;for(h=24817;h<=24821;h++)N[h]=0;for(h=24877;h<=24882;h++)N[h]=0;for(h=24891;h<=24893;h++)N[h]=0;for(h=25391;h<=25395;h++)N[h]=0;for(h=25828;h<=25838;h++)N[h]=0;for(h=26191;h<=26195;h++)N[h]=0;for(h=26391;h<=26393;h++)N[h]=0;for(h=26701;h<=26722;h++)N[h]=0;for(h=26729;h<=26799;h++)N[h]=2;for(h=26801;h<=26803;h++)N[h]=2;for(h=26811;h<=26813;h++)N[h]=2;for(h=26847;h<=26870;h++)N[h]=2;for(h=26891;h<=26899;h++)N[h]=0;for(h=26901;h<=26923;h++)N[h]=0;for(h=26929;h<=26946;h++)N[h]=0;for(h=26948;h<=26998;h++)N[h]=0;for(h=27037;h<=27040;h++)N[h]=0;for(h=27205;h<=27232;h++)N[h]=0;for(h=27258;h<=27260;h++)N[h]=0;for(h=27391;h<=27398;h++)N[h]=0;for(h=27561;h<=27564;h++)N[h]=0;for(h=27571;h<=27574;h++)N[h]=0;for(h=27581;h<=27584;h++)N[h]=0;for(h=27591;h<=27594;h++)N[h]=0;for(h=27700;h<=27707;h++)N[h]=0;for(h=28191;h<=28193;h++)N[h]=0;for(h=28348;h<=28358;h++)N[h]=0;for(h=28402;h<=28432;h++)N[h]=0;for(h=28462;h<=28492;h++)N[h]=0;for(h=29118;h<=29122;h++)N[h]=0;for(h=29168;h<=29172;h++)N[h]=0;for(h=29177;h<=29185;h++)N[h]=0;for(h=29187;h<=29195;h++)N[h]=0;for(h=29900;h<=29903;h++)N[h]=0;for(h=30161;h<=30179;h++)N[h]=0;for(h=30491;h<=30494;h++)N[h]=0;for(h=30729;h<=30732;h++)N[h]=0;for(h=31251;h<=31259;h++)N[h]=0;for(h=31265;h<=31268;h++)N[h]=0;for(h=31275;h<=31279;h++)N[h]=0;for(h=31281;h<=31297;h++)N[h]=0;for(h=31461;h<=31469;h++)N[h]=0;for(h=31491;h<=31495;h++)N[h]=0;for(h=31917;h<=31922;h++)N[h]=0;for(h=31965;h<=32e3;h++)N[h]=0;for(h=32001;h<=32003;h++)N[h]=2;for(h=32005;h<=32031;h++)N[h]=2;for(h=32033;h<=32060;h++)N[h]=2;for(h=32064;h<=32067;h++)N[h]=2;for(h=32074;h<=32077;h++)N[h]=2;for(h=32081;h<=32086;h++)N[h]=0;for(h=32107;h<=32130;h++)N[h]=0;for(h=32133;h<=32159;h++)N[h]=0;for(h=32164;h<=32167;h++)N[h]=2;for(h=32180;h<=32199;h++)N[h]=0;for(h=32201;h<=32260;h++)N[h]=0;for(h=32301;h<=32360;h++)N[h]=0;for(h=32401;h<=32460;h++)N[h]=0;for(h=32501;h<=32560;h++)N[h]=0;for(h=32601;h<=32662;h++)N[h]=0;for(h=32664;h<=32667;h++)N[h]=2;for(h=32701;h<=32761;h++)N[h]=0;for(h=53001;h<=53004;h++)N[h]=0;for(h=53008;h<=53019;h++)N[h]=0;for(h=53021;h<=53032;h++)N[h]=0;for(h=53034;h<=53037;h++)N[h]=0;for(h=53042;h<=53046;h++)N[h]=0;for(h=53074;h<=53080;h++)N[h]=0;for(h=54001;h<=54004;h++)N[h]=0;for(h=54008;h<=54019;h++)N[h]=0;for(h=54021;h<=54032;h++)N[h]=0;for(h=54034;h<=54037;h++)N[h]=0;for(h=54042;h<=54046;h++)N[h]=0;for(h=54048;h<=54053;h++)N[h]=0;for(h=54074;h<=54080;h++)N[h]=0;for(h=54090;h<=54096;h++)N[h]=0;for(h=54098;h<=54101;h++)N[h]=0;for(h=65161;h<=65163;h++)N[h]=0;for(h=102001;h<=102040;h++)N[h]=0;for(h=102042;h<=102063;h++)N[h]=0;for(h=102065;h<=102067;h++)N[h]=0;for(h=102070;h<=102117;h++)N[h]=0;for(h=102122;h<=102216;h++)N[h]=0;for(h=102221;h<=102377;h++)N[h]=0;for(h=102382;h<=102388;h++)N[h]=0;for(h=102389;h<=102398;h++)N[h]=2;for(h=102399;h<=102444;h++)N[h]=0;for(h=102445;h<=102447;h++)N[h]=2;for(h=102448;h<=102458;h++)N[h]=0;for(h=102459;h<=102468;h++)N[h]=2;for(h=102469;h<=102499;h++)N[h]=0;for(h=102500;h<=102519;h++)N[h]=1;for(h=102520;h<=102524;h++)N[h]=0;for(h=102525;h<=102529;h++)N[h]=2;for(h=102530;h<=102588;h++)N[h]=0;for(h=102590;h<=102598;h++)N[h]=0;for(h=102601;h<=102603;h++)N[h]=0;for(h=102605;h<=102628;h++)N[h]=0;for(h=102629;h<=102646;h++)N[h]=2;for(h=102648;h<=102700;h++)N[h]=2;for(h=102701;h<=102703;h++)N[h]=0;for(h=102707;h<=102730;h++)N[h]=2;for(h=102733;h<=102758;h++)N[h]=2;for(h=102767;h<=102900;h++)N[h]=0;for(h=102901;h<=102933;h++)N[h]=2;for(h=102934;h<=102950;h++)N[h]=13;for(h=102951;h<=102963;h++)N[h]=0;for(h=102965;h<=102969;h++)N[h]=0;for(h=102971;h<=102973;h++)N[h]=0;for(h=102975;h<=102989;h++)N[h]=0;for(h=102990;h<=102992;h++)N[h]=1;for(h=102997;h<=103002;h++)N[h]=0;for(h=103003;h<=103008;h++)N[h]=2;for(h=103009;h<=103011;h++)N[h]=0;for(h=103012;h<=103014;h++)N[h]=2;for(h=103019;h<=103021;h++)N[h]=0;for(h=103022;h<=103024;h++)N[h]=2;for(h=103029;h<=103031;h++)N[h]=0;for(h=103032;h<=103034;h++)N[h]=2;for(h=103065;h<=103068;h++)N[h]=0;for(h=103074;h<=103076;h++)N[h]=0;for(h=103077;h<=103079;h++)N[h]=1;for(h=103080;h<=103082;h++)N[h]=0;for(h=103083;h<=103085;h++)N[h]=2;for(h=103090;h<=103093;h++)N[h]=0;for(h=103097;h<=103099;h++)N[h]=0;for(h=103100;h<=103102;h++)N[h]=2;for(h=103107;h<=103109;h++)N[h]=0;for(h=103110;h<=103112;h++)N[h]=2;for(h=103113;h<=103116;h++)N[h]=0;for(h=103117;h<=103120;h++)N[h]=2;for(h=103153;h<=103157;h++)N[h]=0;for(h=103158;h<=103162;h++)N[h]=2;for(h=103163;h<=103165;h++)N[h]=0;for(h=103166;h<=103168;h++)N[h]=1;for(h=103169;h<=103171;h++)N[h]=2;for(h=103186;h<=103188;h++)N[h]=0;for(h=103189;h<=103191;h++)N[h]=2;for(h=103192;h<=103195;h++)N[h]=0;for(h=103196;h<=103199;h++)N[h]=2;for(h=103200;h<=103224;h++)N[h]=0;for(h=103225;h<=103227;h++)N[h]=1;for(h=103232;h<=103237;h++)N[h]=0;for(h=103238;h<=103243;h++)N[h]=2;for(h=103244;h<=103246;h++)N[h]=0;for(h=103247;h<=103249;h++)N[h]=2;for(h=103254;h<=103256;h++)N[h]=0;for(h=103257;h<=103259;h++)N[h]=2;for(h=103264;h<=103266;h++)N[h]=0;for(h=103267;h<=103269;h++)N[h]=2;for(h=103300;h<=103375;h++)N[h]=0;for(h=103381;h<=103383;h++)N[h]=0;for(h=103384;h<=103386;h++)N[h]=1;for(h=103387;h<=103389;h++)N[h]=0;for(h=103390;h<=103392;h++)N[h]=2;for(h=103397;h<=103399;h++)N[h]=0;for(h=103400;h<=103471;h++)N[h]=2;for(h=103476;h<=103478;h++)N[h]=0;for(h=103479;h<=103481;h++)N[h]=2;for(h=103486;h<=103488;h++)N[h]=0;for(h=103489;h<=103491;h++)N[h]=2;for(h=103492;h<=103495;h++)N[h]=0;for(h=103496;h<=103499;h++)N[h]=2;for(h=103528;h<=103543;h++)N[h]=0;for(h=103544;h<=103548;h++)N[h]=2;for(h=103549;h<=103551;h++)N[h]=0;for(h=103552;h<=103554;h++)N[h]=1;for(h=103555;h<=103557;h++)N[h]=2;for(h=103558;h<=103560;h++)N[h]=0;for(h=103571;h<=103573;h++)N[h]=0;for(h=103574;h<=103576;h++)N[h]=2;for(h=103577;h<=103580;h++)N[h]=0;for(h=103581;h<=103583;h++)N[h]=2;for(h=103595;h<=103694;h++)N[h]=0;for(h=103696;h<=103699;h++)N[h]=0;for(h=103700;h<=103793;h++)N[h]=2;for(h=103794;h<=103890;h++)N[h]=0;for(h=103891;h<=103896;h++)N[h]=2;for(h=103900;h<=103971;h++)N[h]=2;for(h=103972;h<=103977;h++)N[h]=0;for(h=112e3;h<=112101;h++)N[h]=0;const QO=[102100,102113,3857,3785,900913],uJ=[104905,104971],hJ=[104903],pJ=[4326,...QO,...uJ,...hJ],Hd=[-20037508342788905e-9,20037508342788905e-9],D_=[-20037508342787e-6,20037508342787e-6],F_={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:Hd,origin:D_,dx:1e-5},KO={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Hd,origin:D_,dx:1e-5},102100:F_,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Hd,origin:D_,dx:1e-5},3857:F_,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:F_,104903:{wkTemplate:'GEOGCS["GCS_Moon_2000",DATUM["D_Moon_2000",SPHEROID["Moon_2000_IAU_IAG",1737400,0,AUTHORITY["ESRI","107903"]],AUTHORITY["ESRI","106903"]],PRIMEM["Reference_Meridian",0,AUTHORITY["ESRI","108900"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["ESRI","104903"]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function Xa(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const n=t.wkid,i=e.wkid;if(n!=null||i!=null){if(n===i||Qa(t)&&Qa(e))return!0;const o=t.latestWkid;if(o!=null&&i===o)return!0;const a=e.latestWkid;return a!=null&&n===a}let r,s;return t.wkt2&&e.wkt2?(r=t.wkt2,s=e.wkt2):t.wkt&&e.wkt&&(r=t.wkt,s=e.wkt),!(!r||!s)&&r.toUpperCase()===s.toUpperCase()}function uh(t){const e=t?.wkid;return e!=null&&e>=2e3&&KO[e]||null}function dJ(t){if(!t)return;const{wkid:e,vcsWkid:n}=t;if(e)return n?JSON.stringify({wkid:e,vcsWkid:n}):String(e);const i=t.wkt||t.wkt2;return JSON.stringify(i?n?{wkt:i,vcsWkid:n}:{wkt:i}:{})}function hh(t){if(!j_(t))return!1;const{wkid:e}=t;if(e)return N[e]==null;const n=t.wkt2||t.wkt;return!!n&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(n)}function t5(t){return!(e5(t)||n5(t))}function Yd(t){return t?.wkid===4326}function fJ(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function mJ(t){return t?.wkid===4490}function Qa(t){const e=t?.wkid;return e!=null&&e>=2e3&&QO.includes(e)}function yJ(t){return t?.wkid===32662}function Jd(t){return t===104971||t===104905}function e5(t){return Jd(t?.wkid)}function Zd(t){return t===104903}function n5(t){return Zd(t?.wkid)}function i5(t){const e=t?.wkid;return e!=null&&e>=2e3&&pJ.includes(e)}function j_(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const $_={wkid:4326,wkt:fw(KO[4326].wkTemplate,{Central_Meridian:"0.0"})},G_={wkid:102100,latestWkid:3857},gJ={wkid:32662};function U_(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const r5=U_(Yr),B_=U_(ih),V_=U_($d),vJ={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Yr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},bJ=B_.wkt.toUpperCase(),wJ=V_.wkt.toUpperCase();function s5(t){if(t!=null&&j_(t)){const e=t.wkid,n=t.wkt2??t.wkt;if(Jd(e))return ih;const i=n?.toUpperCase();if(n&&i===bJ)return ih;if(Zd(e)||i&&i===wJ)return $d}return Yr}function _J(t){return Jd(t)?ih:Zd(t)?$d:Yr}function o5(t){return Xa(t,r5)}function xJ(t){return o5(t)||Xa(t,B_)||Xa(t,V_)}const EJ=39.37,SJ=Yr.radius*Math.PI/200,a5=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,ph=N,l5=/UNIT\[([^\]]+)]/i,c5=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),AJ=Hr()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),Rs=t=>t*t,Ka=t=>t*t*t,Xd={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Rs(.001)},"square-centimeters":{inBaseUnits:Rs(.01)},"square-decimeters":{inBaseUnits:Rs(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Rs(1e3)},"square-inches":{inBaseUnits:Rs(.0254)},"square-feet":{inBaseUnits:Rs(.3048)},"square-yards":{inBaseUnits:Rs(.9144)},"square-miles":{inBaseUnits:Rs(1609.344)},"square-nautical-miles":{inBaseUnits:Rs(1852)},"square-us-feet":{inBaseUnits:Rs(1200/3937)},acres:{inBaseUnits:.0015625*Rs(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Ka(.001)},"cubic-centimeters":{inBaseUnits:1e3*Ka(.01)},"cubic-decimeters":{inBaseUnits:1e3*Ka(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Ka(1e3)},"cubic-inches":{inBaseUnits:1e3*Ka(.0254)},"cubic-feet":{inBaseUnits:1e3*Ka(.3048)},"cubic-yards":{inBaseUnits:1e3*Ka(.9144)},"cubic-miles":{inBaseUnits:1e3*Ka(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},MJ=(()=>{const t={};for(const e in Xd)for(const n in Xd[e].units)t[n]=e;return t})();function TJ(t,e,n){return t*Xd[n].units[e].inBaseUnits}function IJ(t,e,n){return t/Xd[n].units[e].inBaseUnits}const NJ=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],OJ=["metric","imperial"],u5=[...OJ,...NJ],CJ=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function Xy(t){const e=MJ[t];if(!e)throw new Error("unknown type");return e}function h5(t,e=null){return e=e||Xy(t),Xd[e].baseUnit===t}function Qr(t,e,n){if(e===n)return t;const i=Xy(e);if(i!==Xy(n))throw new Error("incompatible units");const r=h5(e,i)?t:TJ(t,e,i);return h5(n,i)?r:IJ(r,n,i)}function kJ(t,e,n,i=!1){if(!i&&hh(e))throw new Error("Unable to convert from an angular unit to a linear unit.");const r=tl(e);return r!==n&&(t=r?Qr(t,r,n):Qr(t*=Ac(e),"meters",n)),t}function RJ(t,e,n,i=!1){if(!i&&hh(n))throw new Error("Unable to convert from a linear unit to an angular unit.");const r=tl(n);return e!==r&&(t=r?Qr(t,e,r):Qr(t,e,"meters")/Ac(n)),t}function p5(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function LJ(t){return p5(t)}function PJ(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function DJ(t,e,n){switch(n){case"metric":return d5(t,e);case"imperial":return m5(t,e);default:return n}}function FJ(t,e,n){switch(n){case"metric":return f5(t,e);case"imperial":return y5(t,e);default:return n}}function d5(t,e){const n=Qr(t,e,"meters");return Math.abs(n)<3e3?"meters":"kilometers"}function f5(t,e){const n=Qr(t,e,"meters");return Math.abs(n)<1e5?"meters":"kilometers"}function m5(t,e){const n=Qr(t,e,"feet");return Math.abs(n)<1e3?"feet":"miles"}function y5(t,e){const n=Qr(t,e,"feet");return Math.abs(n)<1e5?"feet":"miles"}function jJ(t,e){const n=Qr(t,e,"square-meters");return Math.abs(n)<3e6?"square-meters":"square-kilometers"}function $J(t,e){const n=Qr(t,e,"square-feet");return Math.abs(n)<1e6?"square-feet":"square-miles"}function GJ(t,e,n){return Qr(t,e,"meters")/(n*Math.PI/180)}function z_(t){return AJ.fromJSON(t.toLowerCase())||null}function UJ(t){if(t!=null&&!t5(t))return 1;const e=Ac(t);return e>1e5?1:e}function g5(t){return Ac(t)>=s5(t).metersPerDegree?"meters":tl(t)}function Ac(t,e=Yr.metersPerDegree){return v5(t,!0)??e}function v5(t,e=!1){const n=t?.wkid??null,i=t?.wkt2??t?.wkt??null;let r=null;if(n){if(Jd(n))return ih.metersPerDegree;if(Zd(n))return $d.metersPerDegree;r=ph.values[ph[n]],!r&&e&&c5.has(n)&&(r=SJ)}else i&&(W_(i)?r=b5(a5.exec(i),r):_5(i)&&(r=b5(l5.exec(i),r)));return r}function BJ(t){return hh(t)?1:Ac(t)}function b5(t,e){return t?.[1]?w5(t[1]):e}function w5(t){return parseFloat(t.split(",")[1])}function tl(t){const e=t?.wkid??null,n=t?.wkt2??t?.wkt??null;let i=null;if(e)i=ph.units[ph[e]];else if(n){const r=W_(n)?a5:_5(n)?l5:null;if(r){const s=r.exec(n);s?.[1]&&(i=HJ(s[1]))}}return i!=null?z_(i):null}function VJ(t){const e=tl(t);return e!=null&&u5.includes(e)?e:null}function zJ(t){const e=g5(t);return e!=null&&u5.includes(e)?e:null}function WJ(t){const e=tl(t);return e==null?null:CJ.get(e)}function _5(t){return/^GEOCCS/i.test(t)}function W_(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const qJ=1e-7;function HJ(t){let e=/[\\"']([^\\"']+)/.exec(t)?.[1];if(!e||!z_(e)){const n=w5(t);e=null;const i=ph.values;for(let r=0;r<i.length;++r)if(Math.abs(n-i[r])<qJ){e=ph.units[r];break}}return e}function YJ(t){const e=tl(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const JJ={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},ZJ={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},XJ={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},QJ=Hr()(JJ),KJ=Hr()(ZJ),tZ=Hr()(XJ);function Re(t,e,n){let i,r;return e===void 0?(r=t,i=[void 0]):typeof e!="string"?(r=t,i=[void 0],n=e):(r=e,i=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;for(const l of i){const c=Uw(s,l,r);c.write&&typeof c.write=="object"||(c.write={}),n&&(c.write.target=n),c.write.writer=a[o]}}}var lo;let Pt=class extends Vt{static{lo=this}static{this.GCS_NAD_1927=null}static{this.WGS84=null}static{this.WebMercator=null}static{this.PlateCarree=null}static fromJSON(t){if(!t)return null;if(t?.wkid===102100)return lo.WebMercator;if(t?.wkid===4326)return lo.WGS84;const e=new lo;return e.read(t),e}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return Yd(this)}get isWebMercator(){return Qa(this)}get isGeographic(){return hh(this)}get isWrappable(){return i5(this)}get metersPerUnit(){return Ac(this)}get unit(){return tl(this)||(this.isGeographic?"degrees":null)}writeWkt(t,e){this.wkid||(e.wkt=t)}clone(){if(this===lo.WGS84)return new lo($_);if(this===lo.WebMercator)return new lo(G_);const t=new lo;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(t.wkt=this.wkt),this.wkt2!=null&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=ht(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:e,referenceServiceName:n}=t.imageCoordinateSystem,{geodataXform:i}=t.imageCoordinateSystem,r=this.imageCoordinateSystem;return e==null||i?JSON.stringify(r)===JSON.stringify(t.imageCoordinateSystem):n?r.id===e&&r.referenceServiceName===n:r.id===e}return Xa(this,t)}toJSON(t){return this.write(void 0,t)}};v([E({readOnly:!0})],Pt.prototype,"isWGS84",null),v([E({readOnly:!0})],Pt.prototype,"isWebMercator",null),v([E({readOnly:!0})],Pt.prototype,"isGeographic",null),v([E({readOnly:!0})],Pt.prototype,"isWrappable",null),v([E({type:sn,json:{write:!0}})],Pt.prototype,"latestWkid",void 0),v([E({readOnly:!0})],Pt.prototype,"metersPerUnit",null),v([E({readOnly:!0})],Pt.prototype,"unit",null),v([E({type:sn,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Pt.prototype,"wkid",void 0),v([E({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Pt.prototype,"wkt",void 0),v([Re("wkt"),Re("web-scene","wkt")],Pt.prototype,"writeWkt",null),v([E({type:String,json:{write:!1}})],Pt.prototype,"wkt2",void 0),v([E({type:sn,json:{write:!0}})],Pt.prototype,"vcsWkid",void 0),v([E({type:sn,json:{write:!0}})],Pt.prototype,"latestVcsWkid",void 0),v([E()],Pt.prototype,"imageCoordinateSystem",void 0),Pt=lo=v([tt("esri.geometry.SpatialReference")],Pt),Pt.prototype.toJSON.isDefaultToJSON=!0,Pt.GCS_NAD_1927=Wn.freeze(new Pt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Pt.WGS84=Wn.freeze(new Pt($_)),Pt.WebMercator=Wn.freeze(new Pt(G_)),Pt.PlateCarree=Wn.freeze(new Pt(gJ));let li=class extends Vt{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Pt.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,e){if(t instanceof Pt)return t;if(t!=null){const n=new Pt;return n.read(t,e),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,e){this.cache[t]=e}};v([E()],li.prototype,"type",void 0),v([E({readOnly:!0})],li.prototype,"cache",null),v([E({readOnly:!0})],li.prototype,"extent",null),v([E({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],li.prototype,"hasM",void 0),v([E({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],li.prototype,"hasZ",void 0),v([E({type:Pt,json:{write:!0},value:Pt.WGS84})],li.prototype,"spatialReference",void 0),v([dn("spatialReference")],li.prototype,"readSpatialReference",null),li=v([tt("esri.geometry.Geometry")],li);const eZ=Object.prototype.toString;function nZ(t){const e="__accessorMetadata__"in t?qr(t):t;return function(...n){if(n.push(e),typeof n[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return iZ.apply(this,n)}}function iZ(t,e,n,i){Fd(t,e).cast=i}function rZ(t){return(e,n)=>{Fd(e,t).cast=e[n]}}function dh(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&eZ.call(t[0])==="[object Function]"?nZ(t[0]):t.length===1&&typeof t[0]=="string"?rZ(t[0]):void 0}function fh(t){if(t&&typeof t=="object"&&"type"in t&&t.type==="mesh")throw new re("internal:mesh","Mesh geometries are not supported for this operation")}function sZ(t){t.forEach(fh)}const oZ=57.29577951308232,aZ=.017453292519943;function x5(t){return t*oZ}function E5(t){return t*aZ}function lZ(t){return Math.PI/2-2*Math.atan(Math.exp(-t/Yr.radius))}function q_(t){return t.wkid!=null||t.wkt!=null}const H_=[0,0];function Qy(t,e,n,i,r){const s=t,o=r;if(o.spatialReference=n,"x"in s&&"x"in o)[o.x,o.y]=e(s.x,s.y,H_,i);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=e(s.xmin,s.ymin,H_,i),[o.xmax,o.ymax]=e(s.xmax,s.ymax,H_,i);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let c;for(let p=0;p<a.length;p++){const d=a[p];c=[],l.push(c);for(let f=0;f<d.length;f++)c.push(e(d[f][0],d[f][1],[0,0],i)),d[f].length>2&&c[f].push(d[f][2]),d[f].length>3&&c[f].push(d[f][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let c=0;c<a.length;c++)l[c]=e(a[c][0],a[c][1],[0,0],i),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return r}function Qd(t,e){const n=t&&(q_(t)?t:t.spatialReference),i=e&&(q_(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!n||!i)&&(!!Xa(i,n)||Qa(i)&&Yd(n)||Qa(n)&&Yd(i))}function Y_(t,e){if(t==null)return null;const n=t.spatialReference,i=e&&(q_(e)?e:e.spatialReference);return Qd(n,i)?Xa(n,i)?ht(t):Qa(i)?Qy(t,Mc,Pt.WebMercator,!1,ht(t)):Yd(i)?Qy(t,Kd,Pt.WGS84,!1,ht(t)):null:null}function Mc(t,e,n=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const i=E5(e);return n[0]=E5(t)*Yr.radius,n[1]=Yr.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),n}function Kd(t,e,n=[0,0],i=!1){if(t===Hd[0])n[0]=-180;else if(t===Hd[1])n[0]=180;else{const r=x5(t/Yr.radius);n[0]=i?r:r-360*Math.floor((r+180)/360)}return n[1]=x5(Math.PI/2-2*Math.atan(Math.exp(-e/Yr.radius))),n}function Ky(t,e=!1,n=ht(t)){return fh(t),fh(n),Qy(t,Mc,Pt.WebMercator,e,n)}function tf(t,e=!1,n=ht(t)){return fh(t),fh(n),Qy(t,Kd,Pt.WGS84,e,n)}function S5(t,e){const n=t.x-e.x,i=t.y-e.y,r=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(n*n+i*i+r*r)}function cZ(t){return J_(t,A5)?.[0]??null}function uZ(t){return J_(t,A5)?.[1]??null}function J_({x:t,y:e,spatialReference:n},i=[0,0]){if(n){if(Qa(n))return Kd(t,e,i);if(hh(n))return i[0]=t,i[1]=e,i}return null}const A5=[0,0];var tg;const Z_=[0,0];function M5(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let se=tg=class extends li{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const n=t._get("spatialReference");e._set("spatialReference",Wn.isFrozen(n)?n:n.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,n,i,r){let s;if(Array.isArray(t))s=t,r=e,t=s[0],e=s[1],n=s[2],i=s[3];else if(t&&typeof t=="object"){if(s=t,t=s.x!=null?s.x:s.longitude,e=s.y!=null?s.y:s.latitude,n=s.z,i=s.m,(r=s.spatialReference)&&r.declaredClass!=="esri.geometry.SpatialReference"&&(r=new Pt(r)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)Oe.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)Oe.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&r?.isWebMercator){const a=Mc(s.longitude,s.latitude,Z_);t=a[0],e=a[1]}}}else M5(n)?(r=n,n=null):M5(i)&&(r=i,i=null);const o={x:t,y:e};return o.x==null&&o.y!=null?Oe.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&Oe.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),r!=null&&(o.spatialReference=r),n!=null&&(o.z=n),i!=null&&(o.m=i),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return uZ(this)}set latitude(t){const{spatialReference:e,x:n}=this;t!=null&&e&&(e.isWebMercator?this._set("y",Mc(n,t,Z_)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return cZ(this)}set longitude(t){const{y:e,spatialReference:n}=this;t!=null&&n&&(n.isWebMercator?this._set("x",Mc(t,e,Z_)[0]):n.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,n){e[n]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new tg;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return tg.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:n,z:i,m:r,spatialReference:s}=this,{z:o,m:a}=t;let{x:l,y:c,spatialReference:p}=t;if(!s.equals(p))if(s.isWebMercator&&p.isWGS84)[l,c]=Mc(l,c),p=s;else{if(!s.isWGS84||!p.isWebMercator)return!1;[l,c]=Kd(l,c),p=s}return e===l&&n===c&&i===o&&r===a&&s.wkid===p.wkid}offset(t,e,n){return this.x+=t,this.y+=e,n!=null&&(this.z=(this.z??0)+n),this}normalize(){if(!this.spatialReference)return this;const t=uh(this.spatialReference);if(!t)return this;let e=this.x;const[n,i]=t.valid,r=2*i;let s;return e>i?(s=Math.ceil(Math.abs(e-i)/r),e-=s*r):e<n&&(s=Math.ceil(Math.abs(e-n)/r),e+=s*r),this._set("x",e),this}distance(t){return S5(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};v([E({readOnly:!0})],se.prototype,"cache",null),v([E({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],se.prototype,"hasM",null),v([E({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],se.prototype,"hasZ",null),v([E({type:Number})],se.prototype,"latitude",null),v([E({type:Number})],se.prototype,"longitude",null),v([E({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),dh(t=>isNaN(t)?t:Md(t))],se.prototype,"x",void 0),v([Re("x")],se.prototype,"writeX",null),v([dn("x")],se.prototype,"readX",null),v([E({type:Number,json:{write:!0}})],se.prototype,"y",void 0),v([E({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],se.prototype,"z",void 0),v([E({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],se.prototype,"m",void 0),se=tg=v([tt("esri.geometry.Point")],se),se.prototype.toJSON.isDefaultToJSON=!0;const X_=[0,0];function Q_(t,e){return e!=null&&Ui(t,e.x,e.y,e.z)}function hZ(t,e){if(!e.points?.length)return!1;for(const n of e.points)if(!mh(t,n))return!1;return!0}function pZ(t,e){const{xmin:n,ymin:i,zmin:r,xmax:s,ymax:o,zmax:a}=e;return t.hasZ&&e.hasZ?Ui(t,n,i,r)&&Ui(t,n,o,r)&&Ui(t,s,o,r)&&Ui(t,s,i,r)&&Ui(t,n,i,a)&&Ui(t,n,o,a)&&Ui(t,s,o,a)&&Ui(t,s,i,a):Ui(t,n,i)&&Ui(t,n,o)&&Ui(t,s,o)&&Ui(t,s,i)}function mh(t,e){return Ui(t,e[0],e[1])}function dZ(t,e){return Ui(t,e[0],e[1],e[2])}function Ui(t,e,n,i){return e>=t.xmin&&e<=t.xmax&&n>=t.ymin&&n<=t.ymax&&(i==null||!t.hasZ||i>=t.zmin&&i<=t.zmax)}function T5(t,e){return X_[1]=e.y,X_[0]=e.x,fZ(t,X_)}function fZ(t,e){return K_(t.rings,e)}function K_(t,e){if(!t||t.length<1)return!1;if(mZ(t))return I5(!1,t,e);let n=!1;for(let i=0,r=t.length;i<r;i++)n=I5(n,t[i],e);return n}function mZ(t){return!Array.isArray(t[0][0])}function I5(t,e,n){const[i,r]=n;let s=t,o=0;for(let a=0,l=e.length;a<l;a++){o++,o===l&&(o=0);const[c,p]=e[a],[d,f]=e[o];(p<r&&f>=r||f<r&&p>=r)&&c+(r-p)/(f-p)*(d-c)<i&&(s=!s)}return s}function yZ(t,e){return Q_(t,e)}function N5(t,e){const n=t.hasZ&&e.hasZ;let i,r,s;if(t.xmin<=e.xmin){if(i=e.xmin,t.xmax<i)return!1}else if(i=t.xmin,e.xmax<i)return!1;if(t.ymin<=e.ymin){if(r=e.ymin,t.ymax<r)return!1}else if(r=t.ymin,e.ymax<r)return!1;if(n&&e.hasZ){if(t.zmin<=e.zmin){if(s=e.zmin,t.zmax<s)return!1}else if(s=t.zmin,e.zmax<s)return!1}return!0}function gZ(t,e){const{points:n,hasZ:i}=e,r=i?dZ:mh;for(const s of n)if(r(t,s))return!0;return!1}const Tc=[0,0],Ic=[0,0],Nc=[0,0],Oc=[0,0],vZ=[Tc,Ic,Nc,Oc],O5=[[Nc,Tc],[Tc,Ic],[Ic,Oc],[Oc,Nc]];function C5(t,e){return bZ(t,e.rings)}function bZ(t,e){Tc[0]=t.xmin,Tc[1]=t.ymax,Ic[0]=t.xmax,Ic[1]=t.ymax,Nc[0]=t.xmin,Nc[1]=t.ymin,Oc[0]=t.xmax,Oc[1]=t.ymin;for(const n of vZ)if(K_(e,n))return!0;for(const n of e){if(!n.length)continue;let i=n[0];if(mh(t,i))return!0;for(let r=1;r<n.length;r++){const s=n[r];if(mh(t,s)||k5(i,s,O5))return!0;i=s}}return!1}function wZ(t,e){Tc[0]=t.xmin,Tc[1]=t.ymax,Ic[0]=t.xmax,Ic[1]=t.ymax,Nc[0]=t.xmin,Nc[1]=t.ymin,Oc[0]=t.xmax,Oc[1]=t.ymin;const n=e.paths;for(const i of n){if(!n.length)continue;let r=i[0];if(mh(t,r))return!0;for(let s=1;s<i.length;s++){const o=i[s];if(mh(t,o)||k5(r,o,O5))return!0;r=o}}return!1}const ni=[0,0];function _Z(t){for(let e=0;e<t.length;e++){const n=t[e];for(let r=0;r<n.length-1;r++){const s=n[r],o=n[r+1];for(let a=e+1;a<t.length;a++)for(let l=0;l<t[a].length-1;l++){const c=t[a][l],p=t[a][l+1];if(eg(s,o,c,p,ni)&&!(ni[0]===s[0]&&ni[1]===s[1]||ni[0]===c[0]&&ni[1]===c[1]||ni[0]===o[0]&&ni[1]===o[1]||ni[0]===p[0]&&ni[1]===p[1]))return!0}}const i=n.length;if(!(i<=4))for(let r=0;r<i-3;r++){let s=i-1;r===0&&(s=i-2);const o=n[r],a=n[r+1];for(let l=r+2;l<s;l++){const c=n[l],p=n[l+1];if(eg(o,a,c,p,ni)&&!(ni[0]===o[0]&&ni[1]===o[1]||ni[0]===c[0]&&ni[1]===c[1]||ni[0]===a[0]&&ni[1]===a[1]||ni[0]===p[0]&&ni[1]===p[1]))return!0}}}return!1}function k5(t,e,n){for(let i=0;i<n.length;i++)if(eg(t,e,n[i][0],n[i][1]))return!0;return!1}function eg(t,e,n,i,r){const[s,o]=t,[a,l]=e,[c,p]=n,[d,f]=i,y=d-c,g=s-c,b=a-s,x=f-p,A=o-p,M=l-o,_=x*b-y*M;if(_===0)return!1;const w=(y*A-x*g)/_,T=(b*A-M*g)/_;return w>=0&&w<=1&&T>=0&&T<=1&&(r&&(r[0]=s+w*(a-s),r[1]=o+w*(l-o)),!0)}function R5(t){switch(t){case"esriGeometryEnvelope":case"extent":return N5;case"esriGeometryMultipoint":case"multipoint":return gZ;case"esriGeometryPoint":case"point":return yZ;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return C5;case"esriGeometryPolyline":case"polyline":return wZ}}var Ls;function xZ(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function el(t,e,n){return e==null?n:n==null?e:t(e,n)}let le=Ls=class extends li{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,n,i,r){return xZ(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?Pt.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:n,ymax:i,spatialReference:r??Pt.WGS84}}static fromPoint(t){return new Ls({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new se({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new Ls;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,n=t.spatialReference;return e&&n&&!e.equals(n)&&Qd(e,n)&&(t=e.isWebMercator?Ky(t):tf(t,!0)),t.type==="point"?Q_(this,t):t.type==="extent"&&pZ(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,n=t.spatialReference;return e&&n&&!e.equals(n)&&Qd(e,n)&&(t=e.isWebMercator?Ky(t):tf(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),n=this.width*e,i=this.height*e;if(this.xmin+=n,this.ymin+=i,this.xmax-=n,this.ymax-=i,this.hasZ){const r=(this.zmax-this.zmin)*e;this.zmin+=r,this.zmax-=r}if(this.hasM){const r=(this.mmax-this.mmin)*e;this.mmin+=r,this.mmax-=r}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,n=t.spatialReference;return e&&n&&!Xa(e,n)&&Qd(e,n)&&(t=e.isWebMercator?Ky(t):tf(t,!0)),R5(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,n){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,n!=null&&(this.zmin+=n,this.zmax+=n),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=el(Math.min,this.zmin,t.zmin),this.zmax=el(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=el(Math.min,this.mmin,t.mmin),this.mmax=el(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=el(Math.max,this.zmin,t.zmin),this.zmax=el(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=el(Math.max,this.mmin,t.mmin),this.mmax=el(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=uh(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,n=this._getCM(t);if(n){const i=e.isWebMercator?tf(n):n;this.xmin-=n.x,this.xmax-=n.x,e.isWebMercator||(i.x=tx(i.x,t).x),this.spatialReference=new Pt(fw((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(t){let e=null;const[n,i]=t.valid,r=this.xmin,s=this.xmax;return r>=n&&r<=i&&s>=n&&s<=i||(e=this.center),e}_normalize(t,e,n){const i=this.spatialReference;if(!i)return this;const r=n??uh(i);if(r==null)return this;const s=this._getParts(r).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return t?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(t)return this._shiftCM(r);if(e)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const p=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(p)}if(a){const p=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(p)}return c}),hasZ:o,hasM:a,spatialReference:i}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:r,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let p;t=t||uh(o);const[d,f]=t.valid;p=tx(this.xmin,t);const y=p.x,g=p.frameId;p=tx(this.xmax,t);const b=p.x,x=p.frameId,A=y===b&&a>0;if(a>2*f){const M=new Ls(l<c?y:b,r,f,s,o),_=new Ls(d,r,l<c?b:y,s,o),w=new Ls(0,r,f,s,o),T=new Ls(d,r,0,s,o),I=[],O=[];M.contains(w)&&I.push(g),M.contains(T)&&O.push(g),_.contains(w)&&I.push(x),_.contains(T)&&O.push(x);for(let C=g+1;C<x;C++)I.push(C),O.push(C);e.push({extent:M,frameIds:[g]},{extent:_,frameIds:[x]},{extent:w,frameIds:I},{extent:T,frameIds:O})}else y>b||A?e.push({extent:new Ls(y,r,f,s,o),frameIds:[g]},{extent:new Ls(d,r,b,s,o),frameIds:[x]}):e.push({extent:new Ls(y,r,b,s,o),frameIds:[g]});this.cache._parts=e}const n=this.hasZ,i=this.hasM;if(n||i){const r={};n&&(r.zmin=this.zmin,r.zmax=this.zmax),i&&(r.mmin=this.mmin,r.mmax=this.mmax);for(let s=0;s<e.length;s++)e[s].extent.set(r)}return e}};function tx(t,e){const[n,i]=e.valid,r=2*i;let s,o=0;return t>i?(s=Math.ceil(Math.abs(t-i)/r),t-=s*r,o=s):t<n&&(s=Math.ceil(Math.abs(t-n)/r),t+=s*r,o=-s),{x:t,frameId:o}}v([E({readOnly:!0})],le.prototype,"cache",null),v([E({readOnly:!0})],le.prototype,"center",null),v([E({readOnly:!0})],le.prototype,"extent",null),v([E({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],le.prototype,"hasM",null),v([E({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],le.prototype,"hasZ",null),v([E({readOnly:!0})],le.prototype,"height",null),v([E({readOnly:!0})],le.prototype,"width",null),v([E({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],le.prototype,"xmin",void 0),v([E({type:Number,json:{write:!0}})],le.prototype,"ymin",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],le.prototype,"mmin",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],le.prototype,"zmin",void 0),v([E({type:Number,json:{write:!0}})],le.prototype,"xmax",void 0),v([E({type:Number,json:{write:!0}})],le.prototype,"ymax",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],le.prototype,"mmax",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],le.prototype,"zmax",void 0),le=Ls=v([tt("esri.geometry.Extent")],le),le.prototype.toJSON.isDefaultToJSON=!0;function Cc(t=UZ){return[t[0],t[1],t[2],t[3]]}function ex(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function L5(t,e,n,i,r=Cc()){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function EZ(t,e=Cc()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function SZ(t,e,n=new le){return n.xmin=t[0],n.ymin=t[1],n.xmax=t[2],n.ymax=t[3],n.spatialReference=e,n}function Nr(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function AZ(t,e){e<t[0]&&(t[0]=e),e>t[2]&&(t[2]=e)}function MZ(t,e){e<t[1]&&(t[1]=e),e>t[3]&&(t[3]=e)}function TZ(t,e,n){if(e!=null)if("length"in e)rx(e)?(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[2]),n[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[0]),n[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":n[0]=Math.min(t[0],e.xmin),n[1]=Math.min(t[1],e.ymin),n[2]=Math.max(t[2],e.xmax),n[3]=Math.max(t[3],e.ymax);break;case"point":n[0]=Math.min(t[0],e.x),n[1]=Math.min(t[1],e.y),n[2]=Math.max(t[2],e.x),n[3]=Math.max(t[3],e.y)}else ex(n,t)}function IZ(t,e,n=t){const i=e.length;let r=t[0],s=t[1],o=t[2],a=t[3];for(let l=0;l<i;l++){const c=e[l];r=Math.min(r,c[0]),s=Math.min(s,c[1]),o=Math.max(o,c[0]),a=Math.max(a,c[1])}return n[0]=r,n[1]=s,n[2]=o,n[3]=a,n}function NZ(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function nx(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function ix(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function OZ(t){return nx(t)*ix(t)}function CZ(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function kZ(t){const e=nx(t),n=ix(t);return Math.sqrt(e*e+n*n)}function RZ(t,e){return!!t&&ng(t,e.x,e.y)}function ng(t,e,n){return e>=t[0]&&n>=t[1]&&e<=t[2]&&n<=t[3]}function LZ(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function PZ(t,e,n){return Math.max(e[0],t[0])-n<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-n<=Math.min(e[3],t[3])}function DZ(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function FZ(t,e,n,i){return i??=t,i[0]=t[0]+e,i[1]=t[1]+n,i[2]=t[2]+e,i[3]=t[3]+n,i}function jZ(t,e,n=t){return n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n}function $Z(t){return t?ex(t,sx):Cc(sx)}function rx(t){return t!=null&&t.length===4}function GZ(t,e){return rx(t)&&rx(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const sx=[1/0,1/0,-1/0,-1/0],UZ=[0,0,0,0];let ox=1e-6;function ef(){return ox}function BZ(t){ox=t}const ax=Math.random,VZ=Math.PI/180,zZ=180/Math.PI;function P5(t){return t*VZ}function D5(t){return t*zZ}function WZ(t,e){return Math.abs(t-e)<=ox*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:ax,equals:WZ,getEpsilon:ef,setEpsilon:BZ,toDegree:D5,toRadian:P5},Symbol.toStringTag,{value:"Module"}));function F5(t,e){return t[0]=e[0],t[1]=e[1],t}function j5(t,e,n){return t[0]=e,t[1]=n,t}function $5(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function lx(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function G5(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function U5(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function qZ(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function HZ(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function B5(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function V5(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function YZ(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function z5(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function W5(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function cx(t,e){const n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)}function ig(t,e){const n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function ux(t){const e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function hx(t){const e=t[0],n=t[1];return e*e+n*n}function q5(t,e){return t[0]=-e[0],t[1]=-e[1],t}function JZ(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function H5(t,e){const n=e[0],i=e[1];let r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t}function Y5(t,e){return t[0]*e[0]+t[1]*e[1]}function J5(t,e,n){const i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t}function Z5(t,e,n,i){const r=e[0],s=e[1];return t[0]=r+i*(n[0]-r),t[1]=s+i*(n[1]-s),t}function ZZ(t,e=1){const n=2*ax()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function X5(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t}function Q5(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function nf(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t}function XZ(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t}function K5(t,e,n,i){const r=e[0]-n[0],s=e[1]-n[1],o=Math.sin(i),a=Math.cos(i);return t[0]=r*a-s*o+n[0],t[1]=r*o+s*a+n[1],t}function tC(t,e){const n=t[0],i=t[1],r=e[0],s=e[1];let o=n*n+i*i;o>0&&(o=1/Math.sqrt(o));let a=r*r+s*s;a>0&&(a=1/Math.sqrt(a));const l=(n*r+i*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function QZ(t){return"vec2("+t[0]+", "+t[1]+")"}function eC(t,e){return t[0]===e[0]&&t[1]===e[1]}function nC(t,e){const n=t[0],i=t[1],r=e[0],s=e[1],o=ef();return Math.abs(n-r)<=o*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(i-s)<=o*Math.max(1,Math.abs(i),Math.abs(s))}function iC(t,e,n,i,r){let s=e[0]-n[0],o=e[1]-n[1];const a=(i[0]*s+i[1]*o)*(r-1);return s=i[0]*a,o=i[1]*a,t[0]=e[0]+s,t[1]=e[1]+o,t}const KZ=ux,rC=lx,tX=G5,eX=U5,sC=cx,nX=ig,iX=hx;Object.freeze(Object.defineProperty({__proto__:null,add:$5,angle:tC,ceil:qZ,copy:F5,cross:J5,dist:sC,distance:cx,div:eX,divide:U5,dot:Y5,equals:nC,exactEquals:eC,floor:HZ,inverse:JZ,len:KZ,length:ux,lerp:Z5,max:V5,min:B5,mul:tX,multiply:G5,negate:q5,normalize:H5,projectAndScale:iC,random:ZZ,rotate:K5,round:YZ,scale:z5,scaleAndAdd:W5,set:j5,sqrDist:nX,sqrLen:iX,squaredDistance:ig,squaredLength:hx,str:QZ,sub:rC,subtract:lx,transformMat2:X5,transformMat2d:Q5,transformMat3:nf,transformMat4:XZ},Symbol.toStringTag,{value:"Module"}));function co(t,e,n,i){return t[0]=e[0]*(1-i)+n[0]*i,t[1]=e[1]*(1-i)+n[1]*i,t}function wi(t,e){return ig(t,e)}function rX(t,e,n){const i=wi(e,n);if(i===0)return wi(e,t);const r=(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0]);return r*r/i}function sX(t,e,n,i,r){const[s,o]=e,[a,l]=n,[c,p]=i,[d,f]=r,y=(s-a)*(p-f)-(o-l)*(c-d);if(y===0)return null;const g=(s*l-o*a)*(c-d)-(s-a)*(c*f-p*d),b=(s*l-o*a)*(p-f)-(o-l)*(c*f-p*d);return t[0]=g/y,t[1]=b/y,t}const Ps=2*Math.PI;function nl(t,e){const n=Math.atan2(t,e);return n<0?n+Ps:n}function oC(t){return Math.abs(t)%Ps}function aC(t){const e=oC(t);return e<Math.PI?e:Ps-e}function rg(t,e){return{min:Math.min(t,e),max:Math.max(t,e)}}function lC(t,e,n,i){if(Ho(oC(t-e),0))return n?[t,t]:[t,i?t-Ps:t+Ps];const[r,s]=i?[t-Ps,t]:[t,t+Ps];return[t,rf({min:r,max:s},e)]}function rf({min:t,max:e},n){let i;return i=e-n,i>=Ps?(i-=i%Ps,n+i):(i=n-t,i>=Ps?(i-=i%Ps,n-i):n)}function oX(t,e){const n=rf(t,e);return n>t.min&&n<t.max?n:aC(n-t.min)<aC(n-t.max)?t.min:t.max}function cC(t,e,n,i=10){return e.map(r=>{let s=r;for(let o=0;o<i;o++){const[a,l,c,p,d,f]=n(s),y=t[0]-a,g=t[1]-l,b=-c,x=-p;s+=-(2*y*b+2*g*x)/(2*b*b+2*y*-d+2*x*x+2*g*-f||1e-6)}return s})}const aX=[0,0];function uC(t){const e=1-t,n=e*e,i=t*t;return[n*e,3*t*n,3*i*e,i*t]}function sg(t,e,n,i,r){const[s,o,a,l]=uC(r);return[t[0]*s+e[0]*o+n[0]*a+i[0]*l,t[1]*s+e[1]*o+n[1]*a+i[1]*l]}function hC(t,e,n,i,r){const[s,o,a,l]=uC(r);return t*s+e*o+n*a+i*l}function lX(t,e,n){const i=t,[r,s,o]=e.b;return sg(i,s,o,r,n)}function pC(t,e,n){const i=t,[r,s,o]=e.b,a=co([0,0],i,s,n),l=co(aX,s,o,n),c=co([0,0],o,r,n),p=co([0,0],a,l,n),d=co([0,0],l,c,n);return[{b:[co([],p,d,n),a,p]},{b:[[...r],d,c]}]}function cX(t,e,n){const i=t,[r,s,o]=e.b,a=cC(n,[.1,.5,.9],d=>{const f=1-d,[y,g]=sg(i,s,o,r,d);return[y,g,3*f*f*(s[0]-i[0])+6*f*d*(o[0]-s[0])+3*d*d*(r[0]-o[0]),3*f*f*(s[1]-i[1])+6*f*d*(o[1]-s[1])+3*d*d*(r[1]-o[1]),6*f*(o[0]-2*s[0]+i[0])+6*d*(r[0]-2*o[0]+s[0]),6*f*(o[1]-2*s[1]+i[1])+6*d*(r[1]-2*o[1]+s[1])]}).map(d=>Math.min(1,Math.max(0,d)));a.push(0,1);let l=1/0;const c=a.map(d=>{const f=sg(i,s,o,r,d),[y,g]=f,b=n[0]-y,x=n[1]-g,A=Math.sqrt(b*b+x*x);return l=Math.min(A,l),{t:d,curvePoint:f,distance:A}}),p=[];for(const d of c){const{t:f,distance:y}=d;aI(y,l)&&!p.some(({t:g})=>Ho(g,f))&&p.push(d)}return p}function uX(t,e,n){const i=e,[r,s,o]=n.b;if(Nr(t,i),Nr(t,r),ng(t,s[0],s[1])&&ng(t,o[0],o[1]))return t;for(const a of dC(i[0],s[0],o[0],r[0]))a>0&&a<1&&AZ(t,hC(i[0],s[0],o[0],r[0],a));for(const a of dC(i[1],s[1],o[1],r[1]))a>0&&a<1&&MZ(t,hC(i[1],s[1],o[1],r[1],a));return t}function dC(t,e,n,i){const r=3*(3*(e-n)-t+i),s=6*(t-2*e+n),o=3*(e-t);if(r===0)return s!==0?[-o/s]:[];const a=Math.sqrt(s*s-4*r*o);return[(-s+a)/(2*r),(-s-a)/(2*r)]}function hX(t,e,n){let i=0,r=[e];for(let s=0;s<16;s++){let o=t;const a=[];for(const c of r)a.push(...pC(o,c,.5)),o=c.b[0];r=a,o=t,i=0;let l=0;for(const c of r){const[p,d,f]=c.b,y=Math.sqrt(wi(o,p));i+=(y+(Math.sqrt(wi(o,d))+Math.sqrt(wi(d,f))+Math.sqrt(wi(f,p))))/2,l+=y,o=p}if(i-l<n)return i}return i}function fC(t,e,n){const[i,r]=t,[s,o]=e,[a,l]=n,[c,p]=[s-i,o-r];let d=c*(a-i)+p*(l-r);d/=c**2+p**2,d=Ju(d,0,1);const f=co([0,0],t,e,d);return{t:d,curvePoint:f,distance:Math.sqrt(wi(f,n))}}let mC=class{constructor(t,e,n,i,r,s){this.cx=t,this.cy=e,this.radius=n,this.thetaStart=i,this.thetaEnd=r,this.isInvalid=s}get startPoint(){const{cx:t,cy:e,radius:n,thetaStart:i}=this;return[t+n*Math.cos(i),e+n*Math.sin(i)]}get endPoint(){const{cx:t,cy:e,radius:n,thetaEnd:i}=this;return[t+n*Math.cos(i),e+n*Math.sin(i)]}};function og(t,e){const{cx:n,cy:i,radius:r}=t;return[n+r*Math.cos(e),i+r*Math.sin(e)]}function sf(t,e){if(t.isInvalid)return co([0,0],t.startPoint,t.endPoint,e);const{thetaStart:n,thetaEnd:i}=t;return og(t,n*(1-e)+i*e)}function pX(t,e){if(t.isInvalid)return fC(t.startPoint,t.endPoint,e);const{cx:n,cy:i,thetaStart:r,thetaEnd:s}=t,[o,a]=e,l=oX(rg(r,s),Math.atan2(a-i,o-n)),c=og(t,l);return{t:(l-r)/(s-r),curvePoint:c,distance:Math.sqrt(wi(e,c))}}function yC(t,e){if(e.isInvalid)return Nr(t,e.startPoint),Nr(t,e.endPoint),t;const{cx:n,cy:i,radius:r,thetaStart:s,thetaEnd:o}=e;Nr(t,og(e,s)),Nr(t,og(e,o));const a=rg(s,o),l=Math.PI/2;let c=0;for(const p of[[n+r,i],[n,i+r],[n-r,i],[n,i-r]])c=rf(a,c),c>a.min&&c<a.max&&Nr(t,p),c+=l;return t}function dX(t){if(t.isInvalid)return 2*t.radius;const{radius:e,thetaStart:n,thetaEnd:i}=t;return e*Math.abs(i-n)}function gC(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function fX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function yh(t,e,n,i,r,s,o,a,l,c){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t}function vC(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function px(t,e){if(t===e){const n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function dx(t,e){const n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],p=e[8],d=p*o-a*c,f=-p*s+a*l,y=c*s-o*l;let g=n*d+i*f+r*y;return g?(g=1/g,t[0]=d*g,t[1]=(-p*i+r*c)*g,t[2]=(a*i-r*o)*g,t[3]=f*g,t[4]=(p*n-r*l)*g,t[5]=(-a*n+r*s)*g,t[6]=y*g,t[7]=(-c*n+i*l)*g,t[8]=(o*n-i*s)*g,t):null}function bC(t,e){const n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],p=e[8];return t[0]=o*p-a*c,t[1]=r*c-i*p,t[2]=i*a-r*o,t[3]=a*l-s*p,t[4]=n*p-r*l,t[5]=r*s-n*a,t[6]=s*c-o*l,t[7]=i*l-n*c,t[8]=n*o-i*s,t}function ag(t){const e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8];return e*(c*s-o*l)+n*(-c*r+o*a)+i*(l*r-s*a)}function of(t,e,n){const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],p=e[7],d=e[8],f=n[0],y=n[1],g=n[2],b=n[3],x=n[4],A=n[5],M=n[6],_=n[7],w=n[8];return t[0]=f*i+y*o+g*c,t[1]=f*r+y*a+g*p,t[2]=f*s+y*l+g*d,t[3]=b*i+x*o+A*c,t[4]=b*r+x*a+A*p,t[5]=b*s+x*l+A*d,t[6]=M*i+_*o+w*c,t[7]=M*r+_*a+w*p,t[8]=M*s+_*l+w*d,t}function wC(t,e,n){const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],p=e[7],d=e[8],f=n[0],y=n[1];return t[0]=i,t[1]=r,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=f*i+y*o+c,t[7]=f*r+y*a+p,t[8]=f*s+y*l+d,t}function _C(t,e,n){const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],p=e[7],d=e[8],f=Math.sin(n),y=Math.cos(n);return t[0]=y*i+f*o,t[1]=y*r+f*a,t[2]=y*s+f*l,t[3]=y*o-f*i,t[4]=y*a-f*r,t[5]=y*l-f*s,t[6]=c,t[7]=p,t[8]=d,t}function xC(t,e,n){const i=n[0],r=n[1],s=n[2];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=s*e[6],t[7]=s*e[7],t[8]=s*e[8],t}function EC(t,e,n){const i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t}function SC(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function AC(t,e){const n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function mX(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function yX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function MC(t,e){const n=e[0],i=e[1],r=e[2],s=e[3],o=n+n,a=i+i,l=r+r,c=n*o,p=i*o,d=i*a,f=r*o,y=r*a,g=r*l,b=s*o,x=s*a,A=s*l;return t[0]=1-d-g,t[3]=p-A,t[6]=f+x,t[1]=p+A,t[4]=1-c-g,t[7]=y-b,t[2]=f-x,t[5]=y+b,t[8]=1-c-d,t}function TC(t,e){const n=e[0],i=e[1],r=e[2],s=e[4],o=e[5],a=e[6],l=e[8],c=e[9],p=e[10],d=p*o-a*c,f=-p*s+a*l,y=c*s-o*l,g=n*d+i*f+r*y;if(!g)return null;const b=1/g;return t[0]=d*b,t[1]=(-p*i+r*c)*b,t[2]=(a*i-r*o)*b,t[3]=f*b,t[4]=(p*n-r*l)*b,t[5]=(-a*n+r*s)*b,t[6]=y*b,t[7]=(-c*n+i*l)*b,t[8]=(o*n-i*s)*b,t}function IC(t,e){const n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],p=e[8],d=e[9],f=e[10],y=e[11],g=e[12],b=e[13],x=e[14],A=e[15],M=n*a-i*o,_=n*l-r*o,w=n*c-s*o,T=i*l-r*a,I=i*c-s*a,O=r*c-s*l,C=p*b-d*g,R=p*x-f*g,D=p*A-y*g,U=d*x-f*b,j=d*A-y*b,$=f*A-y*x;let H=M*$-_*j+w*U+T*D-I*R+O*C;return H?(H=1/H,t[0]=(a*$-l*j+c*U)*H,t[1]=(l*D-o*$-c*R)*H,t[2]=(o*j-a*D+c*C)*H,t[3]=(r*j-i*$-s*U)*H,t[4]=(n*$-r*D+s*R)*H,t[5]=(i*D-n*j-s*C)*H,t[6]=(b*O-x*I+A*T)*H,t[7]=(x*w-g*O-A*_)*H,t[8]=(g*I-b*w+A*M)*H,t):null}function gX(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function vX(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function bX(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function wX(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function NC(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function _X(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function xX(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t[6]=e[6]+n[6]*i,t[7]=e[7]+n[7]*i,t[8]=e[8]+n[8]*i,t}function EX(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function SX(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],p=t[8],d=e[0],f=e[1],y=e[2],g=e[3],b=e[4],x=e[5],A=e[6],M=e[7],_=e[8],w=ef();return Math.abs(n-d)<=w*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-f)<=w*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(r-y)<=w*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(s-g)<=w*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(o-b)<=w*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-x)<=w*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(l-A)<=w*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(c-M)<=w*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(p-_)<=w*Math.max(1,Math.abs(p),Math.abs(_))}function AX(t){const e=ef(),n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],p=t[8];return Math.abs(1-(n*n+s*s+l*l))<=e&&Math.abs(1-(i*i+o*o+c*c))<=e&&Math.abs(1-(r*r+a*a+p*p))<=e}const OC=of,MX=NC;Object.freeze(Object.defineProperty({__proto__:null,add:wX,adjoint:bC,copy:fX,determinant:ag,equals:SX,exactEquals:EX,frob:bX,fromMat2d:yX,fromMat4:gC,fromQuat:MC,fromRotation:AC,fromScaling:mX,fromTranslation:SC,identity:vC,invert:dx,isOrthoNormal:AX,mul:OC,multiply:of,multiplyScalar:_X,multiplyScalarAndAdd:xX,normalFromMat4:IC,normalFromMat4Legacy:TC,projection:gX,rotate:_C,scale:xC,scaleByVec2:EC,set:yh,str:vX,sub:MX,subtract:NC,translate:wC,transpose:px},Symbol.toStringTag,{value:"Module"}));function il(){return[1,0,0,0,1,0,0,0,1]}function TX(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function CC(t,e,n,i,r,s,o,a,l){return[t,e,n,i,r,s,o,a,l]}const kC=il();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:kC,clone:TX,create:il,fromValues:CC},Symbol.toStringTag,{value:"Module"}));const gh=il();function IX(t,e,n){const[i,r]=t,[s,o]=e,[a,l]=n;yh(gh,i,s,a,r,o,l,1,1,1);const c=ag(gh),p=4*c/(wi(t,e)+wi(e,n)+wi(n,t));if(!isFinite(p)||Math.abs(p)<1e-8)return null;const d=i**2+r**2,f=s**2+o**2,y=a**2+l**2;yh(gh,d,f,y,r,o,l,1,1,1);const g=ag(gh);return yh(gh,d,f,y,i,s,a,1,1,1),[g/c*.5,ag(gh)/c*-.5]}function fx(t,e){const[n,i]=e.c,r=IX(t,i,n),s=r==null,o=r??co([],t,n,.5),[a,l]=t,[c,p]=i,[d,f]=n,[y,g]=o,b=a-y,x=l-g,A=Math.sqrt(b*b+x*x),M=nl(l-g,a-y),_=nl(p-g,c-y);let w=nl(f-g,d-y);return(_-M)*(w-_)<0&&(w+=2*Math.sign(M-w)*Math.PI),new mC(y,g,A,M,w,s)}function NX(t,e,n){const i=sf(t,n/2),r=sf(t,n),s=sf(t,(n+1)/2);return[{c:[r,i]},{c:[[...e.c[0]],s]}]}function OX(t,e){const[n]=e.c,{cx:i,cy:r,thetaStart:s,thetaEnd:o,radius:a,isInvalid:l}=fx(t,e);return{a:[n,[i,r],Math.abs(o-s)<Math.PI?1:0,s>o?1:0,l?s:0,a,l?0:1]}}function CX(t){return"curveRings"in t&&!!t.curveRings?.length||"curvePaths"in t&&!!t.curvePaths?.length}function kX(t){return"curveRings"in t?t.curveRings:t.curvePaths}function lg(t){return"b"in t}function cg(t){return"c"in t}function af(t){return Array.isArray(t)}function RX(t){return"a"in t}function mx(t){return"a"in t&&t.a.length===4}function RC(t){return"a"in t&&t.a.length===7}function ug(t){return af(t)?t:lg(t)?t.b[0]:cg(t)?t.c[0]:t.a[0]}function LC(t){if(lg(t)){const[e,n,i]=t.b;return{b:[[...e],[...n],[...i]]}}if(cg(t)){const[e,n]=t.c;return{c:[[...e],[...n]]}}if(af(t))return[...t];if(mx(t)){const[e,n,i,r]=t.a;return{a:[[...e],[...n],i,r]}}if(RC(t)){const[e,n,i,r,s,o,a]=t.a;return{a:[[...e],[...n],i,r,s,o,a]}}return t}function PC(t,e){const[n,i,r,s]=e.a,[o,a]=t,[l,c]=n,[p,d]=i,f=o-p,y=a-d,g=Math.sqrt(f*f+y*y),b=l-p,x=c-d,A=Math.sqrt(b*b+x*x),M=g===0||A===0||!aI(g,A),_=g,[w,T]=lC(nl(a-d,o-p),Math.atan2(c-d,l-p),r,s);return new mC(p,d,_,w,T,M)}function LX(t,e,n){const{cx:i,cy:r,thetaStart:s,thetaEnd:o}=t,[a,l,c,p]=e.a,d=s*(1-n)+o*n;return[{a:[sf(t,n),[i,r],Math.abs(d-s)<Math.PI?1:0,p]},{a:[[...a],[i,r],Math.abs(o-d)<Math.PI?1:0,p]}]}let PX=class{constructor(t,e,n,i,r,s,o,a,l){this.cx=t,this.cy=e,this.a=n,this.b=i,this.cosR=r,this.sinR=s,this.u1=o,this.u2=a,this.isInvalid=l}};function hg(t,e){const[n,i,r,s,o,a,l]=e.a,[c,p]=t,[d,f]=n,[y,g]=i,b=a*l,x=Math.cos(o),A=Math.sin(o),[M,_]=lC(nl(1/b*(p-g)*x-1/b*(c-y)*A,1/a*(p-g)*A+1/a*(c-y)*x),Math.atan2(1/b*(f-g)*x-1/b*(d-y)*A,1/a*(f-g)*A+1/a*(d-y)*x),r,s);return new PX(y,g,a,b,x,A,M,_,a===0||b===0)}function lf(t,e){const{a:n,b:i,cosR:r,sinR:s,cx:o,cy:a}=t,l=Math.cos(e),c=Math.sin(e);return[n*l*r-i*c*s+o,n*l*s+i*c*r+a]}function kc(t,e){const{u1:n,u2:i}=t;return lf(t,n*(1-e)+i*e)}function DX(t,e,n){if(n<0||n>1)return[];if(n===0||n===1)return[LC(e)];const[i,[r,s],o,a,l,c,p]=e.a,{u1:d,u2:f}=t,y=d*(1-n)+f*n;return[{a:[[...kc(t,n)],[r,s],Math.abs(y-d)<Math.PI?1:0,a,l,c,p]},{a:[[...i],[r,s],Math.abs(f-y)<Math.PI?1:0,a,l,c,p]}]}function FX(t,e){const{a:n,b:i,cosR:r,sinR:s,u1:o,u2:a}=t,l=Math.PI/6,c=cC(e,[1*l,2*l,4*l,5*l,7*l,8*l,10*l,11*l],b=>{const x=Math.cos(b),A=Math.sin(b),[M,_]=lf(t,b);return[M,_,-n*r*A-i*s*x,-n*s*A+i*r*x,-n*r*x+i*s*A,-n*s*x-i*r*A]}),p=rg(o,a),d=new Set(c.map(b=>rf(p,b)).filter(b=>b>p.min&&b<p.max));d.add(o),d.add(a);let f,y,g=1/0;for(const b of d){const x=lf(t,b),[A,M]=x,_=e[0]-A,w=e[1]-M,T=_*_+w*w;T<g&&(f=(b-o)/(a-o),y=x,g=T)}return{t:f,curvePoint:y,distance:Math.sqrt(g)}}function jX(t,e,n){const i=hg(e,n),{a:r,b:s,u1:o,u2:a,cosR:l,sinR:c,isInvalid:p}=i,d=n.a[0];if(Nr(t,e),Nr(t,d),p)return t;const f=Math.atan2(-s*c,r*l),y=f+Math.PI,g=Math.atan2(s*l,r*c),b=g+Math.PI,x=rg(o,a);for(const A of[f,y,g,b].map(M=>rf(x,M)))A>x.min&&A<x.max&&Nr(t,lf(i,A));return t}function $X(t,e,n){const[i,r,s,o,a,l,c]=e.a,p=hg(t,e),{u1:d,u2:f,isInvalid:y}=p,g=f-d;if(y)return Math.sqrt(wi(t,i));const b=14,x=[0,0];let A=0,M=[kc(p,0),kc(p,.25),kc(p,.5),kc(p,.75),kc(p,1)];for(let _=0;_<b;_++){const w=M.length-1,T=g/(2*w),I=[];for(let C=0;C<w;C++)I.push(M[C]),I.push(lf(p,d+(2*C+1)*T));I.push(M[M.length-1]),M=I,A=0;let O=0;for(let C=1;C<M.length;C++){const R=M[C-1],D=M[C];if(A+=Math.sqrt(wi(R,D)),C>1){const U=M[C-2],j=sX(x,U,R,r,D);O+=j?Math.sqrt(wi(R,j)):Math.abs(D[0]-R[0])+Math.abs(D[1]-R[1])}else O+=A}if(O-A<n)return A}return A}const DC=il(),pg=il(),FC=il(),rl=il();function GX(t,e,n){const[i,r,s,o,a,l,c]=e.a,p=hg(t,e),{cosR:d,sinR:f,a:y,b:g,cx:b,cy:x}=p,A=nf([0,0],i,n),M=nf([0,0],r,n),_=n[0]*n[4]<0?1-o:o;{const w=y*y*f*f+g*g*d*d,T=2*(g*g-y*y)*f*d,I=y*y*d*d+g*g*f*f,O=-2*w*b-T*x,C=-T*b-2*I*x;yh(DC,w,T/2,O/2,T/2,I,C/2,O/2,C/2,w*b*b+T*b*x+I*x*x-y*y*g*g)}if(dx(pg,n),pg==null){const w=nf([0,0],t,n);return{a:[A,M,s,o,nl(A[1],A[0]),Math.sqrt(wi(A,w))/2,0]}}px(FC,pg),of(rl,of(rl,FC,DC),pg);{const w=rl[0],T=2*rl[1],I=rl[4],O=2*rl[2],C=2*rl[5],R=T*T-4*w*I,D=2*(w*C*C+I*O*O-T*O*C+R*rl[8]),U=Math.sqrt((w-I)**2+T*T),j=-Math.sqrt(D*(w+I+U))/R,$=-Math.sqrt(D*(w+I-U))/R;return{a:[A,M,s,_,.5*nl(-T,I-w),j,$/j]}}}function UX(t,e,n){if(af(n))return Nr(t,e),Nr(t,n),t;if(lg(n))return uX(t,e,n);if(cg(n)){const i=fx(e,n);return yC(t,i)}if(mx(n)){const i=PC(e,n);return yC(t,i)}return jX(t,e,n)}function jC(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function $C(t){return t.points!==void 0}function GC(t){return t.x!==void 0&&t.y!==void 0}function UC(t){return t.paths!==void 0}function BC(t){return t.rings!==void 0}function VC(t){function e(n,i){return n==null?i:i==null?n:t(n,i)}return e}const sl=VC(Math.min),ol=VC(Math.max);function BX(t,e){return UC(e)?Rc(t,e.curvePaths??e.paths,!1,!1)??t:BC(e)?Rc(t,e.curveRings??e.rings,!1,!1)??t:$C(e)?yx(t,e.points,!1,!1,!1,!1):jC(e)?WC(t,e):(GC(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function VX(t){let e,n,i,r;for(t.reset(),e=i=1/0,n=r=-1/0;t.nextPath();){const s=zC(t);e=Math.min(s[0],e),i=Math.min(s[1],i),n=Math.max(s[2],n),r=Math.max(s[3],r)}return Cc([e,i,n,r])}function zC(t){let e,n,i,r;for(e=i=1/0,n=r=-1/0;t.nextPoint();)e=Math.min(t.x,e),i=Math.min(t.y,i),n=Math.max(t.x,n),r=Math.max(t.y,r);return Cc([e,i,n,r])}function zX(t,e){return UC(e)?Rc(t,e.curvePaths??e.paths,!0,!1)??t:BC(e)?Rc(t,e.curveRings??e.rings,!0,!1)??t:$C(e)?yx(t,e.points,!0,!1,!0,!1):jC(e)?WC(t,e,!0,!1,!0,!1):(GC(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function Rc(t,e,n,i){const r=n?3:2;if(!e.length||!e[0].length)return null;let s,o,a,l,[c,p]=ug(e[0][0]),d=c,f=p;for(let y=0;y<e.length;y++){const g=e[y];for(let b=0;b<g.length;b++){const x=ug(g[b]),[A,M]=x;if(c=sl(c,A),p=sl(p,M),d=ol(d,A),f=ol(f,M),n&&x.length>2){const I=x[2];s=sl(s,I),o=ol(o,I)}if(i&&x.length>r){const I=x[r];a=sl(s,I),l=ol(o,I)}const _=g[b];if(af(_)||b<1)continue;const w=ug(g[b-1]),T=L5(c,p,d,f);[c,p,d,f]=UX(T,w,_)}}return n?i?(t[0]=c,t[1]=p,t[2]=s,t[3]=a,t[4]=d,t[5]=f,t[6]=o,t[7]=l,t.length=8,t):(t[0]=c,t[1]=p,t[2]=s,t[3]=d,t[4]=f,t[5]=o,t.length=6,t):i?(t[0]=c,t[1]=p,t[2]=a,t[3]=d,t[4]=f,t[5]=l,t.length=6,t):(t[0]=c,t[1]=p,t[2]=d,t[3]=f,t.length=4,t)}function WC(t,e,n,i,r,s){const o=e.xmin,a=e.xmax,l=e.ymin,c=e.ymax;let p=e.zmin,d=e.zmax,f=e.mmin,y=e.mmax;return r?(p=p||0,d=d||0,s?(f=f||0,y=y||0,t[0]=o,t[1]=l,t[2]=p,t[3]=f,t[4]=a,t[5]=c,t[6]=d,t[7]=y,t):(t[0]=o,t[1]=l,t[2]=p,t[3]=a,t[4]=c,t[5]=d,t)):s?(f=f||0,y=y||0,t[0]=o,t[1]=l,t[2]=f,t[3]=a,t[4]=c,t[5]=y,t):(t[0]=o,t[1]=l,t[2]=a,t[3]=c,t)}function yx(t,e,n,i,r,s){const o=n?3:2,a=i&&s,l=n&&r;if(!e.length||!e[0].length)return null;let c,p,d,f,[y,g]=e[0],[b,x]=e[0];for(let A=0;A<e.length;A++){const M=e[A],[_,w]=M;if(y=sl(y,_),g=sl(g,w),b=ol(b,_),x=ol(x,w),l&&M.length>2){const T=M[2];c=sl(c,T),p=ol(p,T)}if(a&&M.length>o){const T=M[o];d=sl(c,T),f=ol(p,T)}}return r?(c=c||0,p=p||0,s?(d=d||0,f=f||0,t[0]=y,t[1]=g,t[2]=c,t[3]=d,t[4]=b,t[5]=x,t[6]=p,t[7]=f,t):(t[0]=y,t[1]=g,t[2]=c,t[3]=b,t[4]=x,t[5]=p,t)):s?(d=d||0,f=f||0,t[0]=y,t[1]=g,t[2]=d,t[3]=b,t[4]=x,t[5]=f,t):(t[0]=y,t[1]=g,t[2]=b,t[3]=x,t)}function WX(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function qX(t){return t.points!==void 0}function HX(t){return t.x!==void 0&&t.y!==void 0}function YX(t){return t.paths!==void 0}function JX(t){return t.rings!==void 0}const gx=[];function qC(t,e,n,i){return{xmin:t,ymin:e,xmax:n,ymax:i}}function HC(t,e,n,i,r,s){return{xmin:t,ymin:e,zmin:n,xmax:i,ymax:r,zmax:s}}function YC(t,e,n,i,r,s){return{xmin:t,ymin:e,mmin:n,xmax:i,ymax:r,mmax:s}}function JC(t,e,n,i,r,s,o,a){return{xmin:t,ymin:e,zmin:n,mmin:i,xmax:r,ymax:s,zmax:o,mmax:a}}function vx(t,e=!1,n=!1){return e?n?JC(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):HC(t[0],t[1],t[2],t[3],t[4],t[5]):n?YC(t[0],t[1],t[2],t[3],t[4],t[5]):qC(t[0],t[1],t[2],t[3])}function ZX(t){return t?WX(t)?t:HX(t)?XX(t):JX(t)?bx(t):YX(t)?XC(t):qX(t)?ZC(t):null:null}function ZC(t){const{hasZ:e,hasM:n,points:i}=t,r=yx(gx,i,e??!1,n??!1,e??!1,n??!1);return r?vx(r,e,n):null}function XX(t){const{x:e,y:n,z:i,m:r}=t,s=r!=null;return i!=null?s?JC(e,n,i,r,e,n,i,r):HC(e,n,i,e,n,i):s?YC(e,n,r,e,n,r):qC(e,n,e,n)}function bx(t){const{hasZ:e,hasM:n,rings:i,curveRings:r}=t,s=Rc(gx,r??i,e??!1,n??!1);return s?vx(s,e,n):null}function XC(t){const{hasZ:e,hasM:n,paths:i,curvePaths:r}=t,s=Rc(gx,r??i,e??!1,n??!1);return s?vx(s,e,n):null}function vh(t,e,n=!1){let{hasM:i,hasZ:r}=t;Array.isArray(e)?e.length!==4||i||r?e.length===3&&n&&!i?(r=!0,i=!1):e.length===3&&i&&r&&(i=!1,r=!1):(i=!0,r=!0):(r=!r&&e.hasZ&&(!i||e.hasM),i=!i&&e.hasM&&(!r||e.hasZ)),t.hasZ=r,t.hasM=i}var wx;function QX(t){if(!t)return;let{points:e,hasM:n,hasZ:i,spatialReference:r}=t;switch(e??=[],e?.at(0)?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=Pt.WGS84,{...t,hasM:n,hasZ:i,points:e,spatialReference:r}}let Kr=wx=class extends li{constructor(t){super(QX(t)),this.points=[],this.type="multipoint"}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=ZC(this);return t?new le({...t,spatialReference:this.spatialReference}):null}writePoints(t,e){e.points=ht(this.points)}clone(){const{points:t,spatialReference:e,hasM:n,hasZ:i}=this;return new wx({points:ht(t),spatialReference:e.clone(),hasM:n,hasZ:i})}addPoint(t){return vh(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],n={x:e[0],y:e[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(n.z=e[2],i=3),this.hasM&&(n.m=e[i]),new se(n)}removePoint(t){if(!this._validateInputs(t))return null;const e=new se(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(vh(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};v([E({readOnly:!0})],Kr.prototype,"cache",null),v([E({readOnly:!0})],Kr.prototype,"extent",null),v([E({type:[[Number]],json:{write:{isRequired:!0}}})],Kr.prototype,"points",void 0),v([Re("points")],Kr.prototype,"writePoints",null),Kr=wx=v([tt("esri.geometry.Multipoint")],Kr),Kr.prototype.toJSON.isDefaultToJSON=!0;function KX(t){const e=[];for(t.reset();t.nextPath();){const n=[];for(;t.nextPoint();)n.push([t.x,t.y]);e.push(n)}return t.reset(),e}function QC(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}function tQ(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,n=t.hasM;if(t.type==="point")return n&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:n?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.map(i=>[i]);if(t.type==="extent"){const i=t.clone().normalize();if(!i)return null;let r=!1,s=!1;return i.forEach(o=>{o.hasZ&&(r=!0),o.hasM&&(s=!0)}),i.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(s&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a})}return null}function dg(t,e){const n=e[0]-t[0],i=e[1]-t[1];if(t.length>2&&e.length>2){const r=t[2]-e[2];return Math.sqrt(n*n+i*i+r*r)}return Math.sqrt(n*n+i*i)}function KC(t,e,n){const i=t[0]+n*(e[0]-t[0]),r=t[1]+n*(e[1]-t[1]);return t.length>2&&e.length>2?[i,r,t[2]+n*(e[2]-t[2])]:[i,r]}function eQ(t,e,n,i){return tk(t,e,n[i],n[i+1])}function tk(t,e,n,i){const[r,s]=e,[o,a]=n,[l,c]=i,p=l-o,d=c-a,f=p*p+d*d,y=(r-o)*p+(s-a)*d,g=Math.min(1,Math.max(0,y/f));return t[0]=o+p*g,t[1]=a+d*g,t}function nQ(t,e,n,i,r,s){let o=n,a=i,l=r-o,c=s-a;if(l!==0||c!==0){const p=((t-o)*l+(e-a)*c)/(l*l+c*c);p>1?(o=r,a=s):p>0&&(o+=l*p,a+=c*p)}return l=t-o,c=e-a,l*l+c*c}function _x(t,e){return KC(t,e,.5)}function iQ(t){const e=t.length;let n=0;for(let i=0;i<e-1;++i)n+=dg(t[i],t[i+1]);return n}function rQ(t,e){if(e<=0)return t[0];const n=t.length;let i=0;for(let r=0;r<n-1;++r){const s=dg(t[r],t[r+1]);if(e-i<s){const o=(e-i)/s;return KC(t[r],t[r+1],o)}i+=s}return t[n-1]}function xx(t,e=0,n=1){let i=0;const r=t.length;let s=t[0];for(let o=1;o<r;o++){const a=t[o];i+=(a[e]-s[e])*(a[n]+s[n]),s=a}if(ek(t)){const o=t[0];i+=(o[e]-s[e])*(o[n]+s[n])}return i>=0}function ek(t){const e=t.length;return e>0&&!Ed(t[0],t[e-1])}function sQ(t){"rings"in t&&(nk(t),oQ(t))}function nk(t){if("rings"in t)for(const e of t.rings)ek(e)&&e.push(e[0].slice())}function oQ(t){if(!("rings"in t)||t.rings.length===0||xx(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function aQ(t){return t.type!=="polygon"&&t.type!=="polyline"||ik(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function ik(t,e){const n=uh(e);if(!n)return;const i=n.valid[0],r=n.valid[1],s=r-i;for(const o of t){let a=1/0,l=-1/0;for(const p of o){const d=rk(p[0],i,r);a=Math.min(a,d),l=Math.max(l,d),p[0]=d}const c=l-a;s-c<c&&o.forEach(p=>{p[0]<0&&(p[0]+=s)})}}function rk(t,e,n){const i=n-e;return t<e?n-(e-t)%i:t>n?e+(t-e)%i:t}function lQ(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[n,i]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return n.length===i.length&&n.every((r,s)=>r.length===i[s].length)}function cQ(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function sk(t){return ak(t.rings,t.hasZ??!1)}function ok(t){const e=sk(t);if(!e)return null;const{hasZ:n,spatialReference:i}=t,[r,s,o]=e;return isNaN(r)||isNaN(s)||n&&isNaN(o)?null:{x:r,y:s,z:n?o:void 0,spatialReference:i}}function ak(t,e){if(!t?.length)return null;const n=[],i=[],r=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=t.length;s<o;s++){const a=lk(t[s],e,r);a&&i.push(a)}if(i.sort((s,o)=>{let a=s[2]-o[2];return a===0&&e&&(a=s[4]-o[4]),a}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],e&&(n[2]=i[0][3]),(n[0]<r[0]||n[0]>r[1]||n[1]<r[2]||n[1]>r[3]||e&&(n[2]<r[4]||n[2]>r[5]))&&(n.length=0)),!n.length){const s=t[0]&&t[0].length?hQ(t[0],e):null;if(!s)return null;n[0]=s[0],n[1]=s[1],e&&s.length>2&&(n[2]=s[2])}return n}function lk(t,e,n){let i=0,r=0,s=0,o=0,a=0;const l=t.length?t[0][0]:0,c=t.length?t[0][1]:0,p=t.length&&e?t[0][2]:0;for(let f=0;f<t.length;f++){const y=t[f],g=t[(f+1)%t.length],[b,x,A]=y,M=b-l,_=x-c,[w,T,I]=g,O=w-l,C=T-c,R=M*C-O*_;if(o+=R,i+=(M+O)*R,r+=(_+C)*R,e&&y.length>2&&g.length>2){const D=A-p,U=I-p,j=M*U-O*D;s+=(D+U)*j,a+=j}b<n[0]&&(n[0]=b),b>n[1]&&(n[1]=b),x<n[2]&&(n[2]=x),x>n[3]&&(n[3]=x),e&&(A<n[4]&&(n[4]=A),A>n[5]&&(n[5]=A))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[i/(6*o)+l,r/(6*o)+c,o];return e&&(n[4]===n[5]||a===0?(d[3]=(n[4]+n[5])/2,d[4]=0):(d[3]=s/(6*a)+p,d[4]=a)),d}function uQ(t,e){let n=0,i=0,r=0;t.nextPoint();const s=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let a=0;a<t.pathSize;a++){t.seekInPath(a);const l=[t.x,t.y];t.seekInPath((a+1)%t.pathSize);const c=[t.x,t.y],[p,d]=l,f=p-s,y=d-o,[g,b]=c,x=g-s,A=b-o,M=f*A-x*y;r+=M,n+=(f+x)*M,i+=(y+A)*M,p<e[0]&&(e[0]=p),p>e[1]&&(e[1]=p),d<e[2]&&(e[2]=d),d>e[3]&&(e[3]=d)}return r>0&&(r*=-1),r?(r*=.5,[n/(6*r)+s,i/(6*r)+o,r]):null}function hQ(t,e){const n=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let r=0,s=0,o=0,a=0;for(let l=0,c=t.length;l<c-1;l++){const p=t[l],d=t[l+1];if(p&&d){n[0]=p[0],n[1]=p[1],i[0]=d[0],i[1]=d[1],e&&p.length>2&&d.length>2&&(n[2]=p[2],i[2]=d[2]);const f=dg(n,i);if(f){r+=f;const y=_x(p,d);s+=f*y[0],o+=f*y[1],e&&y.length>2&&(a+=f*y[2])}}}return r>0?e?[s/r,o/r,a/r]:[s/r,o/r]:t.length?t[0]:null}function ck(t){const{hasZ:e,totalSize:n}=t;if(n===0)return null;const i=[],r=[],s=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const o=lk(QC(t),t.hasZ,s);o&&r.push(o)}if(r.sort((o,a)=>{let l=o[2]-a[2];return l===0&&e&&(l=o[4]-a[4]),l}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],e&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||e&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){t.reset(),t.nextPath();const o=t.pathSize?pQ(t):null;if(!o)return null;i[0]=o[0],i[1]=o[1],e&&o.length>2&&(i[2]=o[2])}return i}function pQ(t){const{hasZ:e}=t,n=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let r=0,s=0,o=0,a=0;if(t.nextPoint()){let l=t.x,c=t.y,p=t.z;for(;t.nextPoint();){const d=t.x,f=t.y,y=t.z;n[0]=l,n[1]=c,i[0]=d,i[1]=f,e&&(n[2]=p,i[2]=y);const g=dg(n,i);if(g){r+=g;const b=_x(n,i);s+=g*b[0],o+=g*b[1],e&&b.length>2&&(a+=g*b[2])}l=d,c=f,p=y}}return r>0?e?[s/r,o/r,a/r]:[s/r,o/r]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const dQ=1e-6;function fQ(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<dQ){const r=ck(t);return r?[r[0],r[1]]:null}const n=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const i=[t.x,t.y];for(t.reset();t.nextPath();)yQ(n,i,t);return n[0]*=1/e,n[1]*=1/e,n[0]+=i[0],n[1]+=i[1],n}const mQ=1/3;function yQ(t,e,n){if(!t||!n||n.pathSize<3)return null;n.nextPoint();const i=n.x,r=n.y;n.nextPoint();let s,o=n.x-i,a=n.y-r,l=0,c=0;for(;n.nextPoint();)l=n.x-i,c=n.y-r,s=.5*mQ*(l*a-c*o),t[0]+=s*(o+l),t[1]+=s*(a+c),o=l,a=c;const p=n.getCurrentRingArea(),d=[i,r];return d[0]-=e[0],d[1]-=e[1],d[0]*=p,d[1]*=p,t[0]+=d[0],t[1]+=d[1],t}var fg;function uk(t){return!Array.isArray(t[0])}function gQ(t){return typeof t[0]?.[0]=="number"}function vQ(t){if(!t)return;let{rings:e,hasM:n,hasZ:i,spatialReference:r}=t;switch(e??=[],gQ(e)&&(e=[e]),e[0]?.[0]?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=Pt.WGS84,{...t,hasM:n,hasZ:i,rings:e,spatialReference:r}}let qn=fg=class extends li{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:n}=t;let i=!1,r=!1;for(const o of e)o.hasZ&&(i=!0),o.hasM&&(r=!0);const s={rings:e.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(r&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:n};return i&&(s.hasZ=!0),r&&(s.hasM=!0),new fg(s)}constructor(t){super(vQ(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){Xw(Oe.getLogger(this),"centroid",{replacement:"Please use centroidOperator.execute() instead.",version:"4.34",warnOnce:!0});const t=ok(this);return t?se.fromJSON(t):null}writeCurveRings(t,e){e.curveRings=ht(t)}get extent(){const t=bx(this),{spatialReference:e}=this;return t?new le({...t,spatialReference:e}):null}get isSelfIntersecting(){return Xw(Oe.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),_Z(this.rings)}writeRings(t,e){e.rings=ht(this.rings)}addRing(t){if(!t)return;const e=this.rings,n=e.length;if(uk(t)){const i=[];for(let r=0,s=t.length;r<s;r++)i[r]=t[r].toArray();e[n]=i}else e[n]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new fg;return t.spatialReference=this.spatialReference,t.rings=ht(this.rings),t.curveRings=ht(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,n=t.spatialReference;if(e!=null!=(n!=null)||e!=null&&n!=null&&!e.equals(n)||this.rings.length!==t.rings.length)return!1;const i=([r,s,o,a],[l,c,p,d])=>r===l&&s===c&&(o==null&&p==null||o===p)&&(a==null&&d==null||a===d);for(let r=0;r<this.rings.length;r++){const s=this.rings[r],o=t.rings[r];if(!Ed(s,o,i))return!1}return!0}contains(t){if(!t)return!1;const e=Y_(t,this.spatialReference);return T5(this,e??t)}isClockwise(t){const e=uk(t)?t.map(n=>this.hasZ?this.hasM?[n.x,n.y,n.z,n.m]:[n.x,n.y,n.z]:[n.x,n.y]):t;return xx(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.rings[t][e],i=this.hasZ,r=this.hasM;return i&&!r?new se(n[0],n[1],n[2],void 0,this.spatialReference):r&&!i?new se(n[0],n[1],void 0,n[2],this.spatialReference):i&&r?new se(n[0],n[1],n[2],n[3],this.spatialReference):new se(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(vh(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t].splice(e,0,n),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new se(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],n=this.spatialReference,i=e.map(r=>new se(r,n));return this.notifyChange("rings"),i}setPoint(t,e,n){return this._validateInputs(t,e)?(vh(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t][e]=n,this.notifyChange("rings"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const i=this.rings[t];if(n&&(e<0||e>i.length)||!n&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};v([E({readOnly:!0})],qn.prototype,"cache",null),v([E({readOnly:!0})],qn.prototype,"centroid",null),v([E({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],qn.prototype,"curveRings",void 0),v([Re("curveRings")],qn.prototype,"writeCurveRings",null),v([E({readOnly:!0})],qn.prototype,"extent",null),v([E({readOnly:!0})],qn.prototype,"isSelfIntersecting",null),v([E({type:[[[Number]]],json:{write:{isRequired:!0}}})],qn.prototype,"rings",void 0),v([Re("rings")],qn.prototype,"writeRings",null),qn=fg=v([tt("esri.geometry.Polygon")],qn),qn.prototype.toJSON.isDefaultToJSON=!0;var Ex;function bQ(t){return!Array.isArray(t[0])}function wQ(t){return typeof t[0]?.[0]=="number"}function _Q(t){if(!t)return;let{paths:e,hasM:n,hasZ:i,spatialReference:r}=t;switch(e??=[],wQ(e)&&(e=[e]),e[0]?.[0]?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=Pt.WGS84,{...t,hasM:n,hasZ:i,paths:e,spatialReference:r}}let Bi=Ex=class extends li{constructor(t){super(_Q(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=ht(t)}get extent(){const t=XC(this),{spatialReference:e}=this;return t?new le({...t,spatialReference:e}):null}writePaths(t,e){e.paths=ht(this.paths)}addPath(t){if(!t)return;const e=this.paths,n=e.length;if(bQ(t)){const i=[];for(let r=0,s=t.length;r<s;r++)i[r]=t[r].toArray();e[n]=i}else e[n]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new Ex;return t.spatialReference=this.spatialReference,t.paths=ht(this.paths),t.curvePaths=ht(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.paths[t][e],i=this.hasZ,r=this.hasM;return i&&!r?new se(n[0],n[1],n[2],void 0,this.spatialReference):r&&!i?new se(n[0],n[1],void 0,n[2],this.spatialReference):i&&r?new se(n[0],n[1],n[2],n[3],this.spatialReference):new se(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(vh(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t].splice(e,0,n),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],n=this.spatialReference,i=e.map(r=>new se(r,n));return this.notifyChange("paths"),i}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new se(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(t,e,n){return this._validateInputs(t,e)?(vh(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t][e]=n,this.notifyChange("paths"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const i=this.paths[t];if(n&&(e<0||e>i.length)||!n&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};v([E({readOnly:!0})],Bi.prototype,"cache",null),v([E({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Bi.prototype,"curvePaths",void 0),v([Re("curvePaths")],Bi.prototype,"writeCurvePaths",null),v([E({readOnly:!0})],Bi.prototype,"extent",null),v([E({type:[[[Number]]],json:{write:{isRequired:!0}}})],Bi.prototype,"paths",void 0),v([Re("paths")],Bi.prototype,"writePaths",null),Bi=Ex=v([tt("esri.geometry.Polyline")],Bi),Bi.prototype.toJSON.isDefaultToJSON=!0;function Sx(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function Ax(t){return t.points!==void 0}function Mx(t){return t.x!==void 0&&t.y!==void 0}function Tx(t){return t.paths!==void 0||t.curvePaths!==void 0}function Ix(t){return t.rings!==void 0||t.curveRings!==void 0}function mg(t){return t==null?null:t instanceof li?t:Mx(t)?se.fromJSON(t):Tx(t)?Bi.fromJSON(t):Ix(t)?qn.fromJSON(t):Ax(t)?Kr.fromJSON(t):Sx(t)?le.fromJSON(t):null}function xQ(t){return t?Mx(t)?"esriGeometryPoint":Tx(t)?"esriGeometryPolyline":Ix(t)?"esriGeometryPolygon":Sx(t)?"esriGeometryEnvelope":Ax(t)?"esriGeometryMultipoint":null:null}const EQ={esriGeometryPoint:se,esriGeometryPolyline:Bi,esriGeometryPolygon:qn,esriGeometryEnvelope:le,esriGeometryMultipoint:Kr,esriGeometryMultiPatch:qn};function SQ(t){return t&&EQ[t]||null}const AQ=Symbol("ClonableMixin"),Vi=t=>{var e;const n=t;let i=class extends n{constructor(){super(...arguments),this[e]=!0}static{e=AQ}clone(r){const s=Zo(this);UI(s,"unable to clone instance of non-accessor class");const o=s.metadata,a=s.store,l={},c=new Map;for(const d in o){const f=o[d],y=a?.originOf(d),g=f.clonable;if(f.readOnly||g===!1||y!==7&&y!==0&&y!==5&&y!==4)continue;const b=this[d];let x=null;if(typeof g=="function")x=g(b,r);else if(g==="reference")x=b;else if(x=uw(b,r),b!=null&&x==null)continue;y===0?c.set(d,x):l[d]=x}const p=new(Object.getPrototypeOf(this)).constructor(l);if(c.size){const d=Zo(p)?.store;if(d)for(const[f,y]of c)d.set(f,y,0)}return p}};return i=v([tt("esri.core.Clonable")],i),i},MQ=Vi(Wn),yg=t=>{const e=t;class n extends e{constructor(){super(...arguments),this._listenersMap=null}clearEvents(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clearEvents()}emit(r,s){let o=this._listenersMap?.get(r);if(!o)return!1;let a=!1;for(const l of o.slice()){const c="deref"in l?l.deref():l;c?c?.call(this,s):a=!0}return a&&(o=o.filter(l=>!("deref"in l)||l.deref()!=null),this._listenersMap.set(r,o)),o.length>0}on(r,s){if(Array.isArray(r)){const a=r.map(l=>this.on(l,s));return dy(a)}if(r.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(r)||[];return o.push(s),this._listenersMap.set(r,o),pn(()=>{const a=this._listenersMap?.get(r),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(r,s){const o=this.on(r,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(r){const s=this._listenersMap?.get(r);return s!=null&&s.length>0}}return n},hk=yg(class{}),TQ=hk,pk=yg(Wn);function dk(t){return(e,n)=>{e[n]=t}}let Nx=class extends qN{notify(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const n of e)n.onInvalidated(),n.onCommitted()}}};var ea;let IQ=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},NQ=class{constructor(t,e,n,i,r){this.target=t,this.added=e,this.removed=n,this.start=i,this.deleteCount=r}};const ts=new Od(()=>new IQ,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function fk(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function Ox(t){return t?t instanceof ul?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function Cx(t){if(t?.length)return t[0]}function OQ(t,e,n,i){const r=Math.min(t.length-n,e.length-i);let s=0;for(;s<r&&t[n+s]===e[i+s];)s++;return s}function mk(t,e,n,i){e&&e.forEach((r,s,o)=>{t.push(r),mk(t,n.call(i,r,s,o),n,i)})}const al=new Set,ll=new Set,cl=new Set,kx=new Map;let CQ=0,ul=ea=class extends pk{static ofType(t){if(!t)return ea;if(kx.has(t))return kx.get(t);let e=null;if(typeof t=="function")e=t.prototype.declaredClass;else if(t.base)e=t.base.prototype.declaredClass;else for(const i in t.typeMap){const r=t.typeMap[i].prototype.declaredClass;e?e+=` | ${r}`:e=r}let n=class extends ea{};return v([dk({Type:t,ensureType:typeof t=="function"?qr(t):fc(t)})],n.prototype,"itemType",void 0),n=v([tt(`esri.core.Collection<${e}>`)],n),kx.set(t,n),n}static isCollection(t){return t!=null&&t instanceof ea}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new Nx,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:CQ++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof ea?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),super.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ft(this._observable),this._items}set items(t){this._emitBeforeChanges(1)||(this._splice(0,this.length,Ox(t)),this._emitAfterChanges(1))}hasEventListener(t){return!this.destroyed&&(t==="change"?this._chgListeners.length>0:super.hasEventListener(t))}on(t,e){if(this.destroyed)return pn();if(t==="change"){const n=this._chgListeners,i={removed:!1,callback:e};return n.push(i),this._notifications&&this._notifications.push({listeners:n.slice(),items:this._items.slice(),changes:[]}),pn(()=>{i.removed=!0,n.splice(n.indexOf(i),1)})}return super.on(t,e)}once(t,e){const n="deref"in e?()=>e.deref():()=>e,i=this.on(t,r=>{n()?.call(null,r),i.remove()});return i}add(t,e){if(Ft(this._observable),this._emitBeforeChanges(1))return this;const n=this.getNextIndex(e??null);return this._splice(n,0,[t]),this._emitAfterChanges(1),this}addMany(t,e=this._items.length){if(Ft(this._observable),!t?.length)return this;if(this._emitBeforeChanges(1))return this;const n=this.getNextIndex(e);return this._splice(n,0,Ox(t)),this._emitAfterChanges(1),this}at(t){if(Ft(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(Ft(this._observable),!this.length||this._emitBeforeChanges(2))return[];const t=this._removeAllRaw();return this._emitAfterChanges(2),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ft(this._observable),this._createNewInstance({items:this._items.map(ht)})}concat(...t){Ft(this._observable);const e=t.map(Ox);return this._createNewInstance({items:this._items.concat(...e)})}drain(t,e){if(Ft(this._observable),!this.length||this._emitBeforeChanges(2))return;const n=this._splice(0,this.length),i=n.length;for(let r=0;r<i;r++)t.call(e,n[r],r,n);this._emitAfterChanges(2)}destroyAll(){this.drain(fk)}destroyMany(t){const e=this.removeMany(t);return e.forEach(fk),e}every(t,e){return Ft(this._observable),this._items.every(t,e)}filter(t,e){Ft(this._observable);const n=arguments.length===2?this._items.filter(t,e):this._items.filter(t);return this._createNewInstance({items:n})}find(t,e){return Ft(this._observable),this._items.find(t,e)}findIndex(t,e){return Ft(this._observable),this._items.findIndex(t,e)}flatten(t,e){Ft(this._observable);const n=[];return mk(n,this,t,e),new ea(n)}forEach(t,e){return Ft(this._observable),this._items.forEach(t,e)}getItemAt(t){return Ft(this._observable),this._items[t]}getNextIndex(t){Ft(this._observable);const e=this.length;return(t=t??e)<0?t=0:t>e&&(t=e),t}includes(t,e=0){return Ft(this._observable),this._items.includes(t,e)}indexOf(t,e=0){return Ft(this._observable),this._items.indexOf(t,e)}join(t=","){return Ft(this._observable),this._items.join(t)}lastIndexOf(t,e=this.length-1){return Ft(this._observable),this._items.lastIndexOf(t,e)}map(t,e){Ft(this._observable);const n=this._items.map(t,e);return new ea({items:n})}reorder(t,e=this.length-1){Ft(this._observable);const n=this.indexOf(t);if(n!==-1){if(e<0?e=0:e>=this.length&&(e=this.length-1),n!==e){if(this._emitBeforeChanges(4))return t;this._splice(n,1),this._splice(e,0,[t]),this._emitAfterChanges(4)}return t}}pop(){if(Ft(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=Cx(this._splice(this.length-1,1));return this._emitAfterChanges(2),t}push(...t){return Ft(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,t),this._emitAfterChanges(1)),this.length}reduce(t,e){Ft(this._observable);const n=this._items;return arguments.length===2?n.reduce(t,e):n.reduce(t)}reduceRight(t,e){Ft(this._observable);const n=this._items;return arguments.length===2?n.reduceRight(t,e):n.reduceRight(t)}remove(t){return Ft(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(Ft(this._observable),t<0||t>=this.length||this._emitBeforeChanges(2))return;const e=Cx(this._splice(t,1));return this._emitAfterChanges(2),e}removeMany(t){if(Ft(this._observable),!t?.length||this._emitBeforeChanges(2))return[];const e=t instanceof ea?t.toArray():t,n=this._items,i=[],r=e.length;for(let s=0;s<r;s++){const o=e[s],a=n.indexOf(o);if(a>-1){const l=1+OQ(e,n,s+1,a+1),c=this._splice(a,l);c&&c.length>0&&i.push.apply(i,c),s+=l-1}}return this._emitAfterChanges(2),i}reverse(){if(Ft(this._observable),this._emitBeforeChanges(4))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(4),this}shift(){if(Ft(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=Cx(this._splice(0,1));return this._emitAfterChanges(2),t}slice(t=0,e=this.length){return Ft(this._observable),this._createNewInstance({items:this._items.slice(t,e)})}some(t,e){return Ft(this._observable),this._items.some(t,e)}sort(t){if(Ft(this._observable),!this.length||this._emitBeforeChanges(4)||!this._requiresSort(t))return this;const e=this._splice(0,this.length);return arguments.length?e.sort(t):e.sort(),this._splice(0,0,e),this._emitAfterChanges(4),this}_requiresSort(t=(e,n)=>e===n?0:e<n?-1:1){const e=this.length-1;for(let n=0;n<e;n++)if(t(this.items[n],this.items[n+1])>0)return!0;return!1}splice(t,e,...n){Ft(this._observable),arguments.length===1&&(e=this.length),e??=0;const i=(e?2:0)|(n.length?1:0);if(this._emitBeforeChanges(i))return[];const r=this._splice(t,e,n)||[];return this._emitAfterChanges(i),r}toArray(){return Ft(this._observable),this._items.slice()}toJSON(t){return Ft(this._observable),this.toArray().map(e=>Gd(e)?e.toJSON(t):e)}toLocaleString(){return Ft(this._observable),this._items.toLocaleString()}toString(){return Ft(this._observable),this._items.toString()}unshift(...t){return Ft(this._observable),!t.length||this._emitBeforeChanges(1)||(this._splice(0,0,t),this._emitAfterChanges(1)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,e,n){const i=this._items,r=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=Rw(()=>this._dispatchChange())),t<0&&(t+=this.length),e){if(o=i.splice(t,e),this.hasEventListener("before-remove")){const a=ts.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),i.splice(t,0,s),t+=1,l-=1,c-=1);ts.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=ts.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);ts.release(a)}}if(n?.length){if(r){const p=[];for(const d of n){const f=r.ensureType(d);f==null&&d!=null||p.push(f)}n=p}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=t===this.length;if(a||l){const p=ts.acquire();p.target=this,p.cancellable=!0;const d=ts.acquire();d.target=this,d.cancellable=!1;for(const f of n)a?(p.reset(f),this.emit("before-add",p),p.defaultPrevented||(c?i.push(f):i.splice(t++,0,f),this._set("length",i.length),l&&(d.reset(f),this.emit("after-add",d)))):(c?i.push(f):i.splice(t++,0,f),this._set("length",i.length),d.reset(f),this.emit("after-add",d));ts.release(d),ts.release(p)}else{if(c)for(const p of n)i.push(p);else i.splice(t,0,...n);this._set("length",i.length)}}if((n?.length||o?.length)&&this._notifyChangeEvent(n,o),this.hasEventListener("after-splice")){const a=new NQ(this,n,o,t,e);this.emit("after-splice",a)}return o}_emitBeforeChanges(t){let e=!1;if(this.hasEventListener("before-changes")){const n=ts.acquire();n.target=this,n.cancellable=!0,n.type=t,this.emit("before-changes",n),e=n.defaultPrevented,ts.release(n)}return e}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const e=ts.acquire();e.target=this,e.cancellable=!1,e.type=t,this.emit("after-changes",e),ts.release(e)}this._observable.notify()}_notifyChangeEvent(t,e){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:e})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const t=this._notifications;this._notifications=null;for(const e of t){const n=e.changes;al.clear(),ll.clear(),cl.clear();for(const{added:l,removed:c}of n){if(l)if(cl.size===0&&ll.size===0)for(const p of l)al.add(p);else for(const p of l)ll.has(p)?(cl.add(p),ll.delete(p)):cl.has(p)||al.add(p);if(c)if(cl.size===0&&al.size===0)for(const p of c)ll.add(p);else for(const p of c)al.has(p)?al.delete(p):(cl.delete(p),ll.add(p))}const i=Jo.acquire();al.forEach(l=>{i.push(l)});const r=Jo.acquire();ll.forEach(l=>{r.push(l)});const s=this._items,o=e.items,a=Jo.acquire();if(cl.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),e.listeners&&(i.length||r.length||a.length)){const l={target:this,added:i,removed:r,moved:a},c=e.listeners.length;for(let p=0;p<c;p++){const d=e.listeners[p];d.removed||d.callback.call(this,l)}}Jo.release(i),Jo.release(r),Jo.release(a)}al.clear(),ll.clear(),cl.clear()}};v([E()],ul.prototype,"_updating",void 0),v([E()],ul.prototype,"length",void 0),v([E()],ul.prototype,"items",null),v([E({readOnly:!0})],ul.prototype,"updating",null),ul=ea=v([tt("esri.core.Collection")],ul);const fe=ul;let Rx;async function kQ(){return Rx==null&&(Rx=import("./WhereClauseCache-dRXV8Iv6.js").then(t=>new t.WhereClauseCache(500,500))),Rx}async function yk(t,e){const n=await kQ(),i=n.get(t,e);if(i==null)throw n.getError(t,e);return i}function RQ(t,e){return t||=null,e||=null,t==="1=1"?e??t:e==="1=1"?t??e:t&&e?`(${t}) AND (${e})`:t??e}function LQ(t,e){return t||=null,e||=null,t==="1=1"||e==="1=1"||t===e?t==="1=1"?t:e:t&&e?`(${t}) OR (${e})`:t??e}function PQ(t,e){return e.length===0?null:`${t} IN (${DQ(e)})`}function DQ(t){return t.map(e=>typeof e=="string"?FQ(e):e).join(",")}function FQ(t){return`'${t.replaceAll("'","''")}'`}function jQ(t){return typeof t=="number"}function $Q(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function GQ(t){return typeof t=="boolean"}function bh(t){return typeof t=="string"||t instanceof String}function gk(t){return t==null||bh(t)}function UQ(t){return Array.isArray(t)}function BQ(t){return t?.declaredClass==="esri.Graphic"}function VQ(t){return t instanceof Date}class Lc extends Error{}class zQ extends Lc{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class WQ extends Lc{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class qQ extends Lc{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class wh extends Lc{}class vk extends Lc{constructor(e){super(`Invalid unit ${e}`)}}class _i extends Lc{}class hl extends Lc{constructor(){super("Zone is an abstract class")}}const mt="numeric",Ds="short",Or="long",gg={year:mt,month:mt,day:mt},bk={year:mt,month:Ds,day:mt},HQ={year:mt,month:Ds,day:mt,weekday:Ds},wk={year:mt,month:Or,day:mt},_k={year:mt,month:Or,day:mt,weekday:Or},xk={hour:mt,minute:mt},Ek={hour:mt,minute:mt,second:mt},Sk={hour:mt,minute:mt,second:mt,timeZoneName:Ds},Ak={hour:mt,minute:mt,second:mt,timeZoneName:Or},Mk={hour:mt,minute:mt,hourCycle:"h23"},Tk={hour:mt,minute:mt,second:mt,hourCycle:"h23"},Ik={hour:mt,minute:mt,second:mt,hourCycle:"h23",timeZoneName:Ds},Nk={hour:mt,minute:mt,second:mt,hourCycle:"h23",timeZoneName:Or},Ok={year:mt,month:mt,day:mt,hour:mt,minute:mt},Ck={year:mt,month:mt,day:mt,hour:mt,minute:mt,second:mt},kk={year:mt,month:Ds,day:mt,hour:mt,minute:mt},Rk={year:mt,month:Ds,day:mt,hour:mt,minute:mt,second:mt},YQ={year:mt,month:Ds,day:mt,weekday:Ds,hour:mt,minute:mt},Lk={year:mt,month:Or,day:mt,hour:mt,minute:mt,timeZoneName:Ds},Pk={year:mt,month:Or,day:mt,hour:mt,minute:mt,second:mt,timeZoneName:Ds},Dk={year:mt,month:Or,day:mt,weekday:Or,hour:mt,minute:mt,timeZoneName:Or},Fk={year:mt,month:Or,day:mt,weekday:Or,hour:mt,minute:mt,second:mt,timeZoneName:Or};class _h{get type(){throw new hl}get name(){throw new hl}get ianaName(){return this.name}get isUniversal(){throw new hl}offsetName(e,n){throw new hl}formatOffset(e,n){throw new hl}offset(e){throw new hl}equals(e){throw new hl}get isValid(){throw new hl}}let Lx=null;class q2 extends _h{static get instance(){return Lx===null&&(Lx=new q2),Lx}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return c6(e,n,i)}formatOffset(e,n){return hf(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const Px=new Map;function JQ(t){let e=Px.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Px.set(t,e)),e}const ZQ={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function XQ(t,e){const n=t.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,r,s,o,a,l,c,p]=i;return[o,r,s,a,l,c,p]}function QQ(t,e){const n=t.formatToParts(e),i=[];for(let r=0;r<n.length;r++){const{type:s,value:o}=n[r],a=ZQ[s];s==="era"?i[a]=o:Dt(a)||(i[a]=parseInt(o,10))}return i}const Dx=new Map;class Is extends _h{static create(e){let n=Dx.get(e);return n===void 0&&Dx.set(e,n=new Is(e)),n}static resetCache(){Dx.clear(),Px.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Is.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return c6(e,n,i,this.name)}formatOffset(e,n){return hf(this.offset(e),n)}offset(e){if(!this.valid)return NaN;const n=new Date(e);if(isNaN(n))return NaN;const i=JQ(this.name);let[r,s,o,a,l,c,p]=i.formatToParts?QQ(i,n):XQ(i,n);a==="BC"&&(r=-Math.abs(r)+1);const d=Eg({year:r,month:s,day:o,hour:l===24?0:l,minute:c,second:p,millisecond:0});let f=+n;const y=f%1e3;return f-=y>=0?y:1e3+y,(d-f)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let jk={};function KQ(t,e={}){const n=JSON.stringify([t,e]);let i=jk[n];return i||(i=new Intl.ListFormat(t,e),jk[n]=i),i}const Fx=new Map;function jx(t,e={}){const n=JSON.stringify([t,e]);let i=Fx.get(n);return i===void 0&&(i=new Intl.DateTimeFormat(t,e),Fx.set(n,i)),i}const $x=new Map;function tK(t,e={}){const n=JSON.stringify([t,e]);let i=$x.get(n);return i===void 0&&(i=new Intl.NumberFormat(t,e),$x.set(n,i)),i}const Gx=new Map;function eK(t,e={}){const{base:n,...i}=e,r=JSON.stringify([t,i]);let s=Gx.get(r);return s===void 0&&(s=new Intl.RelativeTimeFormat(t,e),Gx.set(r,s)),s}let vg=null;function nK(){return vg||(vg=new Intl.DateTimeFormat().resolvedOptions().locale,vg)}const Ux=new Map;function $k(t){let e=Ux.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),Ux.set(t,e)),e}const Bx=new Map;function iK(t){let e=Bx.get(t);if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,"minimalDays"in e||(e={...Gk,...e}),Bx.set(t,e)}return e}function rK(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let i,r;try{i=jx(t).resolvedOptions(),r=t}catch{const a=t.substring(0,n);i=jx(a).resolvedOptions(),r=a}const{numberingSystem:s,calendar:o}=i;return[r,s,o]}}function sK(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function oK(t){const e=[];for(let n=1;n<=12;n++){const i=Nt.utc(2009,n,1);e.push(t(i))}return e}function aK(t){const e=[];for(let n=1;n<=7;n++){const i=Nt.utc(2016,11,13+n);e.push(t(i))}return e}function bg(t,e,n,i){const r=t.listingMode();return r==="error"?null:r==="en"?n(e):i(e)}function lK(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||$k(t.locale).numberingSystem==="latn"}class cK{constructor(e,n,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:s,...o}=i;if(!n||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=tK(e,a)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Xx(e,3);return $n(n,this.padTo)}}}class uK{constructor(e,n,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Is.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=jx(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:i}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class hK{constructor(e,n,i){this.opts={style:"long",...i},!n&&s6()&&(this.rtf=eK(e,i))}format(e,n){return this.rtf?this.rtf.format(e,n):RK(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const Gk={firstDay:1,minimalDays:4,weekend:[6,7]};class Me{static fromOpts(e){return Me.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,i,r,s=!1){const o=e||mn.defaultLocale,a=o||(s?"en-US":nK()),l=n||mn.defaultNumberingSystem,c=i||mn.defaultOutputCalendar,p=Jx(r)||mn.defaultWeekSettings;return new Me(a,l,c,p,o)}static resetCache(){vg=null,Fx.clear(),$x.clear(),Gx.clear(),Ux.clear(),Bx.clear()}static fromObject({locale:e,numberingSystem:n,outputCalendar:i,weekSettings:r}={}){return Me.create(e,n,i,r)}constructor(e,n,i,r,s){const[o,a,l]=rK(e);this.locale=o,this.numberingSystem=n||a||null,this.outputCalendar=i||l||null,this.weekSettings=r,this.intl=sK(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=lK(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Me.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Jx(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return bg(this,e,p6,()=>{const i=this.intl==="ja"||this.intl.startsWith("ja-");n&=!i;const r=n?{month:e,day:"numeric"}:{month:e},s=n?"format":"standalone";if(!this.monthsCache[s][e]){const o=i?a=>this.dtFormatter(a,r).format():a=>this.extract(a,r,"month");this.monthsCache[s][e]=oK(o)}return this.monthsCache[s][e]})}weekdays(e,n=!1){return bg(this,e,m6,()=>{const i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=n?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=aK(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return bg(this,void 0,()=>y6,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Nt.utc(2016,11,13,9),Nt.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return bg(this,e,g6,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[Nt.utc(-40,1,1),Nt.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,n,i){const r=this.dtFormatter(e,n),s=r.formatToParts(),o=s.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(e={}){return new cK(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new uK(e,this.intl,n)}relFormatter(e={}){return new hK(this.intl,this.isEnglish(),e)}listFormatter(e={}){return KQ(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||$k(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:o6()?iK(this.locale):Gk}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Vx=null;class Ri extends _h{static get utcInstance(){return Vx===null&&(Vx=new Ri(0)),Vx}static instance(e){return e===0?Ri.utcInstance:new Ri(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Ri(Sg(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${hf(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${hf(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return hf(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class pK extends _h{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function pl(t,e){if(Dt(t)||t===null)return e;if(t instanceof _h)return t;if(vK(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?q2.instance:n==="utc"||n==="gmt"?Ri.utcInstance:Ri.parseSpecifier(n)||Is.create(t)}else return dl(t)?Ri.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new pK(t)}const zx={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Uk={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},dK=zx.hanidec.replace(/[\[|\]]/g,"").split("");function fK(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(t[n].search(zx.hanidec)!==-1)e+=dK.indexOf(t[n]);else for(const r in Uk){const[s,o]=Uk[r];i>=s&&i<=o&&(e+=i-s)}}return parseInt(e,10)}else return e}const Wx=new Map;function mK(){Wx.clear()}function Fs({numberingSystem:t},e=""){const n=t||"latn";let i=Wx.get(n);i===void 0&&(i=new Map,Wx.set(n,i));let r=i.get(e);return r===void 0&&(r=new RegExp(`${zx[n]}${e}`),i.set(e,r)),r}let Bk=()=>Date.now(),Vk="system",zk=null,Wk=null,qk=null,Hk=60,Yk,Jk=null;class mn{static get now(){return Bk}static set now(e){Bk=e}static set defaultZone(e){Vk=e}static get defaultZone(){return pl(Vk,q2.instance)}static get defaultLocale(){return zk}static set defaultLocale(e){zk=e}static get defaultNumberingSystem(){return Wk}static set defaultNumberingSystem(e){Wk=e}static get defaultOutputCalendar(){return qk}static set defaultOutputCalendar(e){qk=e}static get defaultWeekSettings(){return Jk}static set defaultWeekSettings(e){Jk=Jx(e)}static get twoDigitCutoffYear(){return Hk}static set twoDigitCutoffYear(e){Hk=e%100}static get throwOnInvalid(){return Yk}static set throwOnInvalid(e){Yk=e}static resetCaches(){Me.resetCache(),Is.resetCache(),Nt.resetCache(),mK()}}class js{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Zk=[0,31,59,90,120,151,181,212,243,273,304,334],Xk=[0,31,60,91,121,152,182,213,244,274,305,335];function es(t,e){return new js("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function qx(t,e,n){const i=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function Qk(t,e,n){return n+(cf(t)?Xk:Zk)[e-1]}function Kk(t,e){const n=cf(t)?Xk:Zk,i=n.findIndex(s=>s<e),r=e-n[i];return{month:i+1,day:r}}function Hx(t,e){return(t-e+7)%7+1}function wg(t,e=4,n=1){const{year:i,month:r,day:s}=t,o=Qk(i,r,s),a=Hx(qx(i,r,s),n);let l=Math.floor((o-a+14-e)/7),c;return l<1?(c=i-1,l=uf(c,e,n)):l>uf(i,e,n)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...Mg(t)}}function t6(t,e=4,n=1){const{weekYear:i,weekNumber:r,weekday:s}=t,o=Hx(qx(i,1,e),n),a=Eh(i);let l=r*7+s-o-7+e,c;l<1?(c=i-1,l+=Eh(c)):l>a?(c=i+1,l-=Eh(i)):c=i;const{month:p,day:d}=Kk(c,l);return{year:c,month:p,day:d,...Mg(t)}}function Yx(t){const{year:e,month:n,day:i}=t,r=Qk(e,n,i);return{year:e,ordinal:r,...Mg(t)}}function e6(t){const{year:e,ordinal:n}=t,{month:i,day:r}=Kk(e,n);return{year:e,month:i,day:r,...Mg(t)}}function n6(t,e){if(!Dt(t.localWeekday)||!Dt(t.localWeekNumber)||!Dt(t.localWeekYear)){if(!Dt(t.weekday)||!Dt(t.weekNumber)||!Dt(t.weekYear))throw new wh("Cannot mix locale-based week fields with ISO-based week fields");return Dt(t.localWeekday)||(t.weekday=t.localWeekday),Dt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Dt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function yK(t,e=4,n=1){const i=_g(t.weekYear),r=ns(t.weekNumber,1,uf(t.weekYear,e,n)),s=ns(t.weekday,1,7);return i?r?s?!1:es("weekday",t.weekday):es("week",t.weekNumber):es("weekYear",t.weekYear)}function gK(t){const e=_g(t.year),n=ns(t.ordinal,1,Eh(t.year));return e?n?!1:es("ordinal",t.ordinal):es("year",t.year)}function i6(t){const e=_g(t.year),n=ns(t.month,1,12),i=ns(t.day,1,xg(t.year,t.month));return e?n?i?!1:es("day",t.day):es("month",t.month):es("year",t.year)}function r6(t){const{hour:e,minute:n,second:i,millisecond:r}=t,s=ns(e,0,23)||e===24&&n===0&&i===0&&r===0,o=ns(n,0,59),a=ns(i,0,59),l=ns(r,0,999);return s?o?a?l?!1:es("millisecond",r):es("second",i):es("minute",n):es("hour",e)}function Dt(t){return typeof t>"u"}function dl(t){return typeof t=="number"}function _g(t){return typeof t=="number"&&t%1===0}function vK(t){return typeof t=="string"}function bK(t){return Object.prototype.toString.call(t)==="[object Date]"}function s6(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function o6(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function wK(t){return Array.isArray(t)?t:[t]}function a6(t,e,n){if(t.length!==0)return t.reduce((i,r)=>{const s=[e(r),r];return i&&n(i[0],s[0])===i[0]?i:s},null)[1]}function _K(t,e){return e.reduce((n,i)=>(n[i]=t[i],n),{})}function xh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jx(t){if(t==null)return null;if(typeof t!="object")throw new _i("Week settings must be an object");if(!ns(t.firstDay,1,7)||!ns(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!ns(e,1,7)))throw new _i("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function ns(t,e,n){return _g(t)&&t>=e&&t<=n}function xK(t,e){return t-e*Math.floor(t/e)}function $n(t,e=2){const n=t<0;let i;return n?i="-"+(""+-t).padStart(e,"0"):i=(""+t).padStart(e,"0"),i}function fl(t){if(!(Dt(t)||t===null||t===""))return parseInt(t,10)}function Pc(t){if(!(Dt(t)||t===null||t===""))return parseFloat(t)}function Zx(t){if(!(Dt(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Xx(t,e,n="round"){const i=10**e;switch(n){case"expand":return t>0?Math.ceil(t*i)/i:Math.floor(t*i)/i;case"trunc":return Math.trunc(t*i)/i;case"round":return Math.round(t*i)/i;case"floor":return Math.floor(t*i)/i;case"ceil":return Math.ceil(t*i)/i;default:throw new RangeError(`Value rounding ${n} is out of range`)}}function cf(t){return t%4===0&&(t%100!==0||t%400===0)}function Eh(t){return cf(t)?366:365}function xg(t,e){const n=xK(e-1,12)+1,i=t+(e-n)/12;return n===2?cf(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Eg(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function l6(t,e,n){return-Hx(qx(t,1,e),n)+e-1}function uf(t,e=4,n=1){const i=l6(t,e,n),r=l6(t+1,e,n);return(Eh(t)-i+r)/7}function Qx(t){return t>99?t:t>mn.twoDigitCutoffYear?1900+t:2e3+t}function c6(t,e,n,i=null){const r=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(n,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Sg(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const i=parseInt(e,10)||0,r=n<0||Object.is(n,-0)?-i:i;return n*60+r}function u6(t){const e=Number(t);if(typeof t=="boolean"||t===""||!Number.isFinite(e))throw new _i(`Invalid unit value ${t}`);return e}function Ag(t,e){const n={};for(const i in t)if(xh(t,i)){const r=t[i];if(r==null)continue;n[e(i)]=u6(r)}return n}function hf(t,e){const n=Math.trunc(Math.abs(t/60)),i=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return`${r}${$n(n,2)}:${$n(i,2)}`;case"narrow":return`${r}${n}${i>0?`:${i}`:""}`;case"techie":return`${r}${$n(n,2)}${$n(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Mg(t){return _K(t,["hour","minute","second","millisecond"])}const EK=["January","February","March","April","May","June","July","August","September","October","November","December"],h6=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],SK=["J","F","M","A","M","J","J","A","S","O","N","D"];function p6(t){switch(t){case"narrow":return[...SK];case"short":return[...h6];case"long":return[...EK];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const d6=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],f6=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],AK=["M","T","W","T","F","S","S"];function m6(t){switch(t){case"narrow":return[...AK];case"short":return[...f6];case"long":return[...d6];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const y6=["AM","PM"],MK=["Before Christ","Anno Domini"],TK=["BC","AD"],IK=["B","A"];function g6(t){switch(t){case"narrow":return[...IK];case"short":return[...TK];case"long":return[...MK];default:return null}}function NK(t){return y6[t.hour<12?0:1]}function OK(t,e){return m6(e)[t.weekday-1]}function CK(t,e){return p6(e)[t.month-1]}function kK(t,e){return g6(e)[t.year<0?0:1]}function RK(t,e,n="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${r[t][0]}`;case-1:return d?"yesterday":`last ${r[t][0]}`;case 0:return d?"today":`this ${r[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=r[t],p=i?l?c[1]:c[2]||c[1]:l?r[t][0]:t;return o?`${a} ${p} ago`:`in ${a} ${p}`}function v6(t,e){let n="";for(const i of t)i.literal?n+=i.val:n+=e(i.val);return n}const LK={D:gg,DD:bk,DDD:wk,DDDD:_k,t:xk,tt:Ek,ttt:Sk,tttt:Ak,T:Mk,TT:Tk,TTT:Ik,TTTT:Nk,f:Ok,ff:kk,fff:Lk,ffff:Dk,F:Ck,FF:Rk,FFF:Pk,FFFF:Fk};class Li{static create(e,n={}){return new Li(e,n)}static parseFormat(e){let n=null,i="",r=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?((i.length>0||r)&&s.push({literal:r||/^\s+$/.test(i),val:i===""?"'":i}),n=null,i="",r=!r):r||a===n?i+=a:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=a,n=a)}return i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return LK[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0,i=void 0){if(this.opts.forceSimple)return $n(e,n);const r={...this.opts};return n>0&&(r.padTo=n),i&&(r.signDisplay=i),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,g)=>this.loc.extract(e,y,g),o=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",a=()=>i?NK(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>i?CK(e,y):s(g?{month:y}:{month:y,day:"numeric"},"month"),c=(y,g)=>i?OK(e,y):s(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),p=y=>{const g=Li.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(e,g):y},d=y=>i?kK(e,y):s({era:y},"era"),f=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?s({day:"numeric"},"day"):this.num(e.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(e.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(e.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(y)}};return v6(Li.parseFormat(n),f)}formatDurationFromString(e,n){const i=this.opts.signMode==="negativeLargestOnly"?-1:1,r=p=>{switch(p[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},s=(p,d)=>f=>{const y=r(f);if(y){const g=d.isNegativeDuration&&y!==d.largestUnit?i:1;let b;return this.opts.signMode==="negativeLargestOnly"&&y!==d.largestUnit?b="never":this.opts.signMode==="all"?b="always":b="auto",this.num(p.get(y)*g,f.length,b)}else return f},o=Li.parseFormat(n),a=o.reduce((p,{literal:d,val:f})=>d?p:p.concat(f),[]),l=e.shiftTo(...a.map(r).filter(p=>p)),c={isNegativeDuration:l<0,largestUnit:Object.keys(l.values)[0]};return v6(o,s(l,c))}}const b6=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Sh(...t){const e=t.reduce((n,i)=>n+i.source,"");return RegExp(`^${e}$`)}function Ah(...t){return e=>t.reduce(([n,i,r],s)=>{const[o,a,l]=s(e,r);return[{...n,...o},a||i,l]},[{},null,1]).slice(0,2)}function Mh(t,...e){if(t==null)return[null,null];for(const[n,i]of e){const r=n.exec(t);if(r)return i(r)}return[null,null]}function w6(...t){return(e,n)=>{const i={};let r;for(r=0;r<t.length;r++)i[t[r]]=fl(e[n+r]);return[i,null,n+r]}}const _6=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,PK=`(?:${_6.source}?(?:\\[(${b6.source})\\])?)?`,Kx=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,x6=RegExp(`${Kx.source}${PK}`),t3=RegExp(`(?:[Tt]${x6.source})?`),DK=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,FK=/(\d{4})-?W(\d\d)(?:-?(\d))?/,jK=/(\d{4})-?(\d{3})/,$K=w6("weekYear","weekNumber","weekDay"),GK=w6("year","ordinal"),UK=/(\d{4})-(\d\d)-(\d\d)/,E6=RegExp(`${Kx.source} ?(?:${_6.source}|(${b6.source}))?`),BK=RegExp(`(?: ${E6.source})?`);function Th(t,e,n){const i=t[e];return Dt(i)?n:fl(i)}function VK(t,e){return[{year:Th(t,e),month:Th(t,e+1,1),day:Th(t,e+2,1)},null,e+3]}function Ih(t,e){return[{hours:Th(t,e,0),minutes:Th(t,e+1,0),seconds:Th(t,e+2,0),milliseconds:Zx(t[e+3])},null,e+4]}function pf(t,e){const n=!t[e]&&!t[e+1],i=Sg(t[e+1],t[e+2]),r=n?null:Ri.instance(i);return[{},r,e+3]}function df(t,e){const n=t[e]?Is.create(t[e]):null;return[{},n,e+1]}const zK=RegExp(`^T?${Kx.source}$`),WK=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function qK(t){const[e,n,i,r,s,o,a,l,c]=t,p=e[0]==="-",d=l&&l[0]==="-",f=(y,g=!1)=>y!==void 0&&(g||y&&p)?-y:y;return[{years:f(Pc(n)),months:f(Pc(i)),weeks:f(Pc(r)),days:f(Pc(s)),hours:f(Pc(o)),minutes:f(Pc(a)),seconds:f(Pc(l),l==="-0"),milliseconds:f(Zx(c),d)}]}const HK={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function e3(t,e,n,i,r,s,o){const a={year:e.length===2?Qx(fl(e)):fl(e),month:h6.indexOf(n)+1,day:fl(i),hour:fl(r),minute:fl(s)};return o&&(a.second=fl(o)),t&&(a.weekday=t.length>3?d6.indexOf(t)+1:f6.indexOf(t)+1),a}const YK=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function JK(t){const[,e,n,i,r,s,o,a,l,c,p,d]=t,f=e3(e,r,i,n,s,o,a);let y;return l?y=HK[l]:c?y=0:y=Sg(p,d),[f,new Ri(y)]}function ZK(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const XK=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,QK=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,KK=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function S6(t){const[,e,n,i,r,s,o,a]=t;return[e3(e,r,i,n,s,o,a),Ri.utcInstance]}function ttt(t){const[,e,n,i,r,s,o,a]=t;return[e3(e,a,n,i,r,s,o),Ri.utcInstance]}const ett=Sh(DK,t3),ntt=Sh(FK,t3),itt=Sh(jK,t3),rtt=Sh(x6),A6=Ah(VK,Ih,pf,df),stt=Ah($K,Ih,pf,df),ott=Ah(GK,Ih,pf,df),att=Ah(Ih,pf,df);function ltt(t){return Mh(t,[ett,A6],[ntt,stt],[itt,ott],[rtt,att])}function ctt(t){return Mh(ZK(t),[YK,JK])}function utt(t){return Mh(t,[XK,S6],[QK,S6],[KK,ttt])}function htt(t){return Mh(t,[WK,qK])}const ptt=Ah(Ih);function dtt(t){return Mh(t,[zK,ptt])}const ftt=Sh(UK,BK),mtt=Sh(E6),ytt=Ah(Ih,pf,df);function gtt(t){return Mh(t,[ftt,A6],[mtt,ytt])}const M6="Invalid Duration",T6={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},vtt={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...T6},is=146097/400,Nh=146097/4800,btt={years:{quarters:4,months:12,weeks:is/7,days:is,hours:is*24,minutes:is*24*60,seconds:is*24*60*60,milliseconds:is*24*60*60*1e3},quarters:{months:3,weeks:is/28,days:is/4,hours:is*24/4,minutes:is*24*60/4,seconds:is*24*60*60/4,milliseconds:is*24*60*60*1e3/4},months:{weeks:Nh/7,days:Nh,hours:Nh*24,minutes:Nh*24*60,seconds:Nh*24*60*60,milliseconds:Nh*24*60*60*1e3},...T6},Dc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],wtt=Dc.slice(0).reverse();function na(t,e,n=!1){const i={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new he(i)}function I6(t,e){let n=e.milliseconds??0;for(const i of wtt.slice(1))e[i]&&(n+=e[i]*t[i].milliseconds);return n}function N6(t,e){const n=I6(t,e)<0?-1:1;Dc.reduceRight((i,r)=>{if(Dt(e[r]))return i;if(i){const s=e[i]*n,o=t[r][i],a=Math.floor(s/o);e[r]+=a*n,e[i]-=a*o*n}return r},null),Dc.reduce((i,r)=>{if(Dt(e[r]))return i;if(i){const s=e[i]%1;e[i]-=s,e[r]+=s*t[i][r]}return r},null)}function O6(t){const e={};for(const[n,i]of Object.entries(t))i!==0&&(e[n]=i);return e}class he{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let i=n?btt:vtt;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||Me.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,n){return he.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new _i(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new he({values:Ag(e,he.normalizeUnit),loc:Me.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(dl(e))return he.fromMillis(e);if(he.isDuration(e))return e;if(typeof e=="object")return he.fromObject(e);throw new _i(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[i]=htt(e);return i?he.fromObject(i,n):he.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[i]=dtt(e);return i?he.fromObject(i,n):he.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new _i("need to specify a reason the Duration is invalid");const i=e instanceof js?e:new js(e,n);if(mn.throwOnInvalid)throw new qQ(i);return new he({invalid:i})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new vk(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const i={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Li.create(this.loc,i).formatDurationFromString(this,e):M6}toHuman(e={}){if(!this.isValid)return M6;const n=e.showZeros!==!1,i=Dc.map(r=>{const s=this.values[r];return Dt(s)||s===0&&!n?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Xx(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Nt.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?I6(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=he.fromDurationLike(e),i={};for(const r of Dc)(xh(n.values,r)||xh(this.values,r))&&(i[r]=n.get(r)+this.get(r));return na(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const n=he.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const i of Object.keys(this.values))n[i]=u6(e(this.values[i],i));return na(this,{values:n},!0)}get(e){return this[he.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Ag(e,he.normalizeUnit)};return na(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:i,matrix:r}={}){const s={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:r,conversionAccuracy:i};return na(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return N6(this.matrix,e),na(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=O6(this.normalize().shiftToAll().toObject());return na(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>he.normalizeUnit(o));const n={},i={},r=this.toObject();let s;for(const o of Dc)if(e.indexOf(o)>=0){s=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;dl(r[o])&&(a+=r[o]);const l=Math.trunc(a);n[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else dl(r[o])&&(i[o]=r[o]);for(const o in i)i[o]!==0&&(n[s]+=o===s?i[o]:i[o]/this.matrix[s][o]);return N6(this.matrix,n),na(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return na(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=O6(this.values);return na(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of Dc)if(!n(this.values[i],e.values[i]))return!1;return!0}}const Oh="Invalid Interval";function _tt(t,e){return!t||!t.isValid?Mn.invalid("missing or invalid start"):!e||!e.isValid?Mn.invalid("missing or invalid end"):e<t?Mn.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Mn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new _i("need to specify a reason the Interval is invalid");const i=e instanceof js?e:new js(e,n);if(mn.throwOnInvalid)throw new WQ(i);return new Mn({invalid:i})}static fromDateTimes(e,n){const i=yf(e),r=yf(n);return _tt(i,r)??new Mn({start:i,end:r})}static after(e,n){const i=he.fromDurationLike(n),r=yf(e);return Mn.fromDateTimes(r,r.plus(i))}static before(e,n){const i=he.fromDurationLike(n),r=yf(e);return Mn.fromDateTimes(r.minus(i),r)}static fromISO(e,n){const[i,r]=(e||"").split("/",2);if(i&&r){let s,o;try{s=Nt.fromISO(i,n),o=s.isValid}catch{o=!1}let a,l;try{a=Nt.fromISO(r,n),l=a.isValid}catch{l=!1}if(o&&l)return Mn.fromDateTimes(s,a);if(o){const c=he.fromISO(r,n);if(c.isValid)return Mn.after(s,c)}else if(l){const c=he.fromISO(i,n);if(c.isValid)return Mn.before(a,c)}}return Mn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const i=this.start.startOf(e,n);let r;return n?.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(e,n),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Mn.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(yf).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s:r}=this,s=0;for(;r<this.e;){const o=n[s]||this.e,a=+o>+this.e?this.e:o;i.push(Mn.fromDateTimes(r,a)),r=a,s+=1}return i}splitBy(e){const n=he.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:i}=this,r=1,s;const o=[];for(;i<this.e;){const a=this.start.plus(n.mapUnits(l=>l*r));s=+a>+this.e?this.e:a,o.push(Mn.fromDateTimes(i,s)),i=s,r+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return n>=i?null:Mn.fromDateTimes(n,i)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return Mn.fromDateTimes(n,i)}static merge(e){const[n,i]=e.sort((r,s)=>r.s-s.s).reduce(([r,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[r,s.union(o)]:[r.concat([s]),o]:[r,o],[[],null]);return i&&n.push(i),n}static xor(e){let n=null,i=0;const r=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?n=l.time:(n&&+n!=+l.time&&r.push(Mn.fromDateTimes(n,l.time)),n=null);return Mn.merge(r)}difference(...e){return Mn.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Oh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=gg,n={}){return this.isValid?Li.create(this.s.loc.clone(n),e).formatInterval(this):Oh}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Oh}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Oh}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Oh}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Oh}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):he.invalid(this.invalidReason)}mapEndpoints(e){return Mn.fromDateTimes(e(this.s),e(this.e))}}class Tg{static hasDST(e=mn.defaultZone){const n=Nt.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Is.isValidZone(e)}static normalizeZone(e){return pl(e,mn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Me.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Me.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Me.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Me.create(n,i,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Me.create(n,i,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Me.create(n,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Me.create(n,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Me.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Me.create(n,null,"gregory").eras(e)}static features(){return{relative:s6(),localeWeek:o6()}}}function C6(t,e){const n=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=n(e)-n(t);return Math.floor(he.fromMillis(i).as("days"))}function xtt(t,e,n){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const p=C6(l,c);return(p-p%7)/7}],["days",C6]],r={},s=t;let o,a;for(const[l,c]of i)n.indexOf(l)>=0&&(o=l,r[l]=c(t,e),a=s.plus(r),a>e?(r[l]--,t=s.plus(r),t>e&&(a=t,r[l]--,t=s.plus(r))):t=a);return[t,r,a,o]}function Ett(t,e,n,i){let[r,s,o,a]=xtt(t,e,n);const l=e-r,c=n.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<e&&(o=r.plus({[a]:1})),o!==r&&(s[a]=(s[a]||0)+l/(o-r)));const p=he.fromObject(s,i);return c.length>0?he.fromMillis(l,i).shiftTo(...c).plus(p):p}const Stt="missing Intl.DateTimeFormat.formatToParts support";function me(t,e=n=>n){return{regex:t,deser:([n])=>e(fK(n))}}const Att="\xA0",k6=`[ ${Att}]`,R6=new RegExp(k6,"g");function Mtt(t){return t.replace(/\./g,"\\.?").replace(R6,k6)}function L6(t){return t.replace(/\./g,"").replace(R6," ").toLowerCase()}function $s(t,e){return t===null?null:{regex:RegExp(t.map(Mtt).join("|")),deser:([n])=>t.findIndex(i=>L6(n)===L6(i))+e}}function P6(t,e){return{regex:t,deser:([,n,i])=>Sg(n,i),groups:e}}function Ig(t){return{regex:t,deser:([e])=>e}}function Ttt(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Itt(t,e){const n=Fs(e),i=Fs(e,"{2}"),r=Fs(e,"{3}"),s=Fs(e,"{4}"),o=Fs(e,"{6}"),a=Fs(e,"{1,2}"),l=Fs(e,"{1,3}"),c=Fs(e,"{1,6}"),p=Fs(e,"{1,9}"),d=Fs(e,"{2,4}"),f=Fs(e,"{4,6}"),y=b=>({regex:RegExp(Ttt(b.val)),deser:([x])=>x,literal:!0}),g=(b=>{if(t.literal)return y(b);switch(b.val){case"G":return $s(e.eras("short"),0);case"GG":return $s(e.eras("long"),0);case"y":return me(c);case"yy":return me(d,Qx);case"yyyy":return me(s);case"yyyyy":return me(f);case"yyyyyy":return me(o);case"M":return me(a);case"MM":return me(i);case"MMM":return $s(e.months("short",!0),1);case"MMMM":return $s(e.months("long",!0),1);case"L":return me(a);case"LL":return me(i);case"LLL":return $s(e.months("short",!1),1);case"LLLL":return $s(e.months("long",!1),1);case"d":return me(a);case"dd":return me(i);case"o":return me(l);case"ooo":return me(r);case"HH":return me(i);case"H":return me(a);case"hh":return me(i);case"h":return me(a);case"mm":return me(i);case"m":return me(a);case"q":return me(a);case"qq":return me(i);case"s":return me(a);case"ss":return me(i);case"S":return me(l);case"SSS":return me(r);case"u":return Ig(p);case"uu":return Ig(a);case"uuu":return me(n);case"a":return $s(e.meridiems(),0);case"kkkk":return me(s);case"kk":return me(d,Qx);case"W":return me(a);case"WW":return me(i);case"E":case"c":return me(n);case"EEE":return $s(e.weekdays("short",!1),1);case"EEEE":return $s(e.weekdays("long",!1),1);case"ccc":return $s(e.weekdays("short",!0),1);case"cccc":return $s(e.weekdays("long",!0),1);case"Z":case"ZZ":return P6(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return P6(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return Ig(/[a-z_+-/]{1,256}?/i);case" ":return Ig(/[^\S\n\r]/);default:return y(b)}})(t)||{invalidReason:Stt};return g.token=t,g}const Ntt={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Ott(t,e,n){const{type:i,value:r}=t;if(i==="literal"){const l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}const s=e[i];let o=i;i==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let a=Ntt[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function Ctt(t){return[`^${t.map(e=>e.regex).reduce((e,n)=>`${e}(${n.source})`,"")}$`,t]}function ktt(t,e,n){const i=t.match(e);if(i){const r={};let s=1;for(const o in n)if(xh(n,o)){const a=n[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(i.slice(s,s+l))),s+=l}return[i,r]}else return[i,{}]}function Rtt(t){const e=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,i;return Dt(t.z)||(n=Is.create(t.z)),Dt(t.Z)||(n||(n=new Ri(t.Z)),i=t.Z),Dt(t.q)||(t.M=(t.q-1)*3+1),Dt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Dt(t.u)||(t.S=Zx(t.u)),[Object.keys(t).reduce((r,s)=>{const o=e(s);return o&&(r[o]=t[s]),r},{}),n,i]}let n3=null;function Ltt(){return n3||(n3=Nt.fromMillis(1555555555555)),n3}function Ptt(t,e){if(t.literal)return t;const n=Li.macroTokenToFormatOpts(t.val),i=$6(n,e);return i==null||i.includes(void 0)?t:i}function D6(t,e){return Array.prototype.concat(...t.map(n=>Ptt(n,e)))}class F6{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=D6(Li.parseFormat(n),e),this.units=this.tokens.map(i=>Itt(i,e)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,r]=Ctt(this.units);this.regex=RegExp(i,"i"),this.handlers=r}}explainFromTokens(e){if(this.isValid){const[n,i]=ktt(e,this.regex,this.handlers),[r,s,o]=i?Rtt(i):[null,null,void 0];if(xh(i,"a")&&xh(i,"H"))throw new wh("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:i,result:r,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function j6(t,e,n){return new F6(t,n).explainFromTokens(e)}function Dtt(t,e,n){const{result:i,zone:r,specificOffset:s,invalidReason:o}=j6(t,e,n);return[i,r,s,o]}function $6(t,e){if(!t)return null;const n=Li.create(e,t).dtFormatter(Ltt()),i=n.formatToParts(),r=n.resolvedOptions();return i.map(s=>Ott(s,t,r))}const i3="Invalid DateTime",G6=864e13;function ff(t){return new js("unsupported zone",`the zone "${t.name}" is not supported`)}function r3(t){return t.weekData===null&&(t.weekData=wg(t.c)),t.weekData}function s3(t){return t.localWeekData===null&&(t.localWeekData=wg(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Fc(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Nt({...n,...e,old:n})}function U6(t,e,n){let i=t-e*60*1e3;const r=n.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const s=n.offset(i);return r===s?[i,r]:[t-Math.min(r,s)*60*1e3,Math.max(r,s)]}function Ng(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Og(t,e,n){return U6(Eg(t),e,n)}function B6(t,e){const n=t.o,i=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:i,month:r,day:Math.min(t.c.day,xg(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=he.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Eg(s);let[l,c]=U6(a,n,t.zone);return o!==0&&(l+=o,c=t.zone.offset(l)),{ts:l,o:c}}function Ch(t,e,n,i,r,s){const{setZone:o,zone:a}=n;if(t&&Object.keys(t).length!==0||e){const l=e||a,c=Nt.fromObject(t,{...n,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return Nt.invalid(new js("unparsable",`the input "${r}" can't be parsed as ${i}`))}function Cg(t,e,n=!0){return t.isValid?Li.create(Me.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function o3(t,e,n){const i=t.c.year>9999||t.c.year<0;let r="";if(i&&t.c.year>=0&&(r+="+"),r+=$n(t.c.year,i?6:4),n==="year")return r;if(e){if(r+="-",r+=$n(t.c.month),n==="month")return r;r+="-"}else if(r+=$n(t.c.month),n==="month")return r;return r+=$n(t.c.day),r}function V6(t,e,n,i,r,s,o){let a=!n||t.c.millisecond!==0||t.c.second!==0,l="";switch(o){case"day":case"month":case"year":break;default:if(l+=$n(t.c.hour),o==="hour")break;if(e){if(l+=":",l+=$n(t.c.minute),o==="minute")break;a&&(l+=":",l+=$n(t.c.second))}else{if(l+=$n(t.c.minute),o==="minute")break;a&&(l+=$n(t.c.second))}if(o==="second")break;a&&(!i||t.c.millisecond!==0)&&(l+=".",l+=$n(t.c.millisecond,3))}return r&&(t.isOffsetFixed&&t.offset===0&&!s?l+="Z":t.o<0?(l+="-",l+=$n(Math.trunc(-t.o/60)),l+=":",l+=$n(Math.trunc(-t.o%60))):(l+="+",l+=$n(Math.trunc(t.o/60)),l+=":",l+=$n(Math.trunc(t.o%60)))),s&&(l+="["+t.zone.ianaName+"]"),l}const z6={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ftt={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},jtt={ordinal:1,hour:0,minute:0,second:0,millisecond:0},kg=["year","month","day","hour","minute","second","millisecond"],$tt=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Gtt=["year","ordinal","hour","minute","second","millisecond"];function Rg(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new vk(t);return e}function W6(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Rg(t)}}function Utt(t){if(mf===void 0&&(mf=mn.now()),t.type!=="iana")return t.offset(mf);const e=t.name;let n=a3.get(e);return n===void 0&&(n=t.offset(mf),a3.set(e,n)),n}function q6(t,e){const n=pl(e.zone,mn.defaultZone);if(!n.isValid)return Nt.invalid(ff(n));const i=Me.fromObject(e);let r,s;if(Dt(t.year))r=mn.now();else{for(const l of kg)Dt(t[l])&&(t[l]=z6[l]);const o=i6(t)||r6(t);if(o)return Nt.invalid(o);const a=Utt(n);[r,s]=Og(t,a,n)}return new Nt({ts:r,zone:n,loc:i,o:s})}function H6(t,e,n){const i=Dt(n.round)?!0:n.round,r=Dt(n.rounding)?"trunc":n.rounding,s=(a,l)=>(a=Xx(a,i||n.calendary?0:2,n.calendary?"round":r),e.loc.clone(n).relFormatter(n).format(a,l)),o=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return s(o(n.unit),n.unit);for(const a of n.units){const l=o(a);if(Math.abs(l)>=1)return s(l,a)}return s(t>e?-0:0,n.units[n.units.length-1])}function Y6(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let mf;const a3=new Map;class Nt{constructor(e){const n=e.zone||mn.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new js("invalid input"):null)||(n.isValid?null:ff(n));this.ts=Dt(e.ts)?mn.now():e.ts;let r=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[r,s]=[e.old.c,e.old.o];else{const o=dl(e.o)&&!e.old?e.o:n.offset(this.ts);r=Ng(this.ts,o),i=Number.isNaN(r.year)?new js("invalid input"):null,r=i?null:r,s=i?null:o}this._zone=n,this.loc=e.loc||Me.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new Nt({})}static local(){const[e,n]=Y6(arguments),[i,r,s,o,a,l,c]=n;return q6({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,n]=Y6(arguments),[i,r,s,o,a,l,c]=n;return e.zone=Ri.utcInstance,q6({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,n={}){const i=bK(e)?e.valueOf():NaN;if(Number.isNaN(i))return Nt.invalid("invalid input");const r=pl(n.zone,mn.defaultZone);return r.isValid?new Nt({ts:i,zone:r,loc:Me.fromObject(n)}):Nt.invalid(ff(r))}static fromMillis(e,n={}){if(dl(e))return e<-G6||e>G6?Nt.invalid("Timestamp out of range"):new Nt({ts:e,zone:pl(n.zone,mn.defaultZone),loc:Me.fromObject(n)});throw new _i(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(dl(e))return new Nt({ts:e*1e3,zone:pl(n.zone,mn.defaultZone),loc:Me.fromObject(n)});throw new _i("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const i=pl(n.zone,mn.defaultZone);if(!i.isValid)return Nt.invalid(ff(i));const r=Me.fromObject(n),s=Ag(e,W6),{minDaysInFirstWeek:o,startOfWeek:a}=n6(s,r),l=mn.now(),c=Dt(n.specificOffset)?i.offset(l):n.specificOffset,p=!Dt(s.ordinal),d=!Dt(s.year),f=!Dt(s.month)||!Dt(s.day),y=d||f,g=s.weekYear||s.weekNumber;if((y||p)&&g)throw new wh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&p)throw new wh("Can't mix ordinal dates with month/day");const b=g||s.weekday&&!y;let x,A,M=Ng(l,c);b?(x=$tt,A=Ftt,M=wg(M,o,a)):p?(x=Gtt,A=jtt,M=Yx(M)):(x=kg,A=z6);let _=!1;for(const D of x){const U=s[D];Dt(U)?_?s[D]=A[D]:s[D]=M[D]:_=!0}const w=b?yK(s,o,a):p?gK(s):i6(s),T=w||r6(s);if(T)return Nt.invalid(T);const I=b?t6(s,o,a):p?e6(s):s,[O,C]=Og(I,c,i),R=new Nt({ts:O,zone:i,o:C,loc:r});return s.weekday&&y&&e.weekday!==R.weekday?Nt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${R.toISO()}`):R.isValid?R:Nt.invalid(R.invalid)}static fromISO(e,n={}){const[i,r]=ltt(e);return Ch(i,r,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[i,r]=ctt(e);return Ch(i,r,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[i,r]=utt(e);return Ch(i,r,n,"HTTP",n)}static fromFormat(e,n,i={}){if(Dt(e)||Dt(n))throw new _i("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=i,o=Me.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[a,l,c,p]=Dtt(o,e,n);return p?Nt.invalid(p):Ch(a,l,i,`format ${n}`,e,c)}static fromString(e,n,i={}){return Nt.fromFormat(e,n,i)}static fromSQL(e,n={}){const[i,r]=gtt(e);return Ch(i,r,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new _i("need to specify a reason the DateTime is invalid");const i=e instanceof js?e:new js(e,n);if(mn.throwOnInvalid)throw new zQ(i);return new Nt({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const i=$6(e,Me.fromObject(n));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,n={}){return D6(Li.parseFormat(e),Me.fromObject(n)).map(i=>i.val).join("")}static resetCache(){mf=void 0,a3.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?r3(this).weekYear:NaN}get weekNumber(){return this.isValid?r3(this).weekNumber:NaN}get weekday(){return this.isValid?r3(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?s3(this).weekday:NaN}get localWeekNumber(){return this.isValid?s3(this).weekNumber:NaN}get localWeekYear(){return this.isValid?s3(this).weekYear:NaN}get ordinal(){return this.isValid?Yx(this.c).ordinal:NaN}get monthShort(){return this.isValid?Tg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Tg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Tg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Tg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,i=Eg(this.c),r=this.zone.offset(i-e),s=this.zone.offset(i+e),o=this.zone.offset(i-r*n),a=this.zone.offset(i-s*n);if(o===a)return[this];const l=i-o*n,c=i-a*n,p=Ng(l,o),d=Ng(c,a);return p.hour===d.hour&&p.minute===d.minute&&p.second===d.second&&p.millisecond===d.millisecond?[Fc(this,{ts:l}),Fc(this,{ts:c})]:[this]}get isInLeapYear(){return cf(this.year)}get daysInMonth(){return xg(this.year,this.month)}get daysInYear(){return this.isValid?Eh(this.year):NaN}get weeksInWeekYear(){return this.isValid?uf(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?uf(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:i,calendar:r}=Li.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:i,outputCalendar:r}}toUTC(e=0,n={}){return this.setZone(Ri.instance(e),n)}toLocal(){return this.setZone(mn.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:i=!1}={}){if(e=pl(e,mn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(n||i){const s=e.offset(this.ts),o=this.toObject();[r]=Og(o,s,e)}return Fc(this,{ts:r,zone:e})}else return Nt.invalid(ff(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:i});return Fc(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Ag(e,W6),{minDaysInFirstWeek:i,startOfWeek:r}=n6(n,this.loc),s=!Dt(n.weekYear)||!Dt(n.weekNumber)||!Dt(n.weekday),o=!Dt(n.ordinal),a=!Dt(n.year),l=!Dt(n.month)||!Dt(n.day),c=a||l,p=n.weekYear||n.weekNumber;if((c||o)&&p)throw new wh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new wh("Can't mix ordinal dates with month/day");let d;s?d=t6({...wg(this.c,i,r),...n},i,r):Dt(n.ordinal)?(d={...this.toObject(),...n},Dt(n.day)&&(d.day=Math.min(xg(d.year,d.month),d.day))):d=e6({...Yx(this.c),...n});const[f,y]=Og(d,this.o,this.zone);return Fc(this,{ts:f,o:y})}plus(e){if(!this.isValid)return this;const n=he.fromDurationLike(e);return Fc(this,B6(this,n))}minus(e){if(!this.isValid)return this;const n=he.fromDurationLike(e).negate();return Fc(this,B6(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const i={},r=he.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(i.weekNumber=this.weekNumber-1),i.weekday=s}else i.weekday=1;if(r==="quarters"){const s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Li.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):i3}toLocaleString(e=gg,n={}){return this.isValid?Li.create(this.loc.clone(n),e).formatDateTime(this):i3}toLocaleParts(e={}){return this.isValid?Li.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:s=!1,precision:o="milliseconds"}={}){if(!this.isValid)return null;o=Rg(o);const a=e==="extended";let l=o3(this,a,o);return kg.indexOf(o)>=3&&(l+="T"),l+=V6(this,a,n,i,r,s,o),l}toISODate({format:e="extended",precision:n="day"}={}){return this.isValid?o3(this,e==="extended",Rg(n)):null}toISOWeekDate(){return Cg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:s=!1,format:o="extended",precision:a="milliseconds"}={}){return this.isValid?(a=Rg(a),(r&&kg.indexOf(a)>=3?"T":"")+V6(this,o==="extended",n,e,i,s,a)):null}toRFC2822(){return Cg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Cg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?o3(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(n||e)&&(i&&(r+=" "),n?r+="z":e&&(r+="ZZ")),Cg(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():i3}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",i={}){if(!this.isValid||!e.isValid)return he.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=wK(n).map(he.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=Ett(a,l,s,r);return o?c.negate():c}diffNow(e="milliseconds",n={}){return this.diff(Nt.now(),e,n)}until(e){return this.isValid?Mn.fromDateTimes(this,e):this}hasSame(e,n,i){if(!this.isValid)return!1;const r=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,i)<=r&&r<=s.endOf(n,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Nt.fromObject({},{zone:this.zone}),i=e.padding?this<n?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(r=e.unit,s=void 0),H6(n,this.plus(i),{...e,numeric:"always",units:r,unit:s})}toRelativeCalendar(e={}){return this.isValid?H6(e.base||Nt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Nt.isDateTime))throw new _i("min requires all arguments be DateTimes");return a6(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Nt.isDateTime))throw new _i("max requires all arguments be DateTimes");return a6(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,i={}){const{locale:r=null,numberingSystem:s=null}=i,o=Me.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return j6(o,e,n)}static fromStringExplain(e,n,i={}){return Nt.fromFormatExplain(e,n,i)}static buildFormatParser(e,n={}){const{locale:i=null,numberingSystem:r=null}=n,s=Me.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return new F6(s,e)}static fromFormatParser(e,n,i={}){if(Dt(e)||Dt(n))throw new _i("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:s=null}=i,o=Me.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new _i(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:p}=n.explainFromTokens(e);return p?Nt.invalid(p):Ch(a,l,i,`format ${n.format}`,e,c)}static get DATE_SHORT(){return gg}static get DATE_MED(){return bk}static get DATE_MED_WITH_WEEKDAY(){return HQ}static get DATE_FULL(){return wk}static get DATE_HUGE(){return _k}static get TIME_SIMPLE(){return xk}static get TIME_WITH_SECONDS(){return Ek}static get TIME_WITH_SHORT_OFFSET(){return Sk}static get TIME_WITH_LONG_OFFSET(){return Ak}static get TIME_24_SIMPLE(){return Mk}static get TIME_24_WITH_SECONDS(){return Tk}static get TIME_24_WITH_SHORT_OFFSET(){return Ik}static get TIME_24_WITH_LONG_OFFSET(){return Nk}static get DATETIME_SHORT(){return Ok}static get DATETIME_SHORT_WITH_SECONDS(){return Ck}static get DATETIME_MED(){return kk}static get DATETIME_MED_WITH_SECONDS(){return Rk}static get DATETIME_MED_WITH_WEEKDAY(){return YQ}static get DATETIME_FULL(){return Lk}static get DATETIME_FULL_WITH_SECONDS(){return Pk}static get DATETIME_HUGE(){return Dk}static get DATETIME_HUGE_WITH_SECONDS(){return Fk}}function yf(t){if(Nt.isDateTime(t))return t;if(t&&t.valueOf&&dl(t.valueOf()))return Nt.fromJSDate(t);if(t&&typeof t=="object")return Nt.fromObject(t);throw new _i(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const Btt="HH:mm",Vtt="HH:mm:ss",ztt="HH:mm:ss.SSS",Wtt=[ztt,Vtt,Btt,"TT"],qtt="yyyy-MM-dd";function J6(t){if(!t||!bh(t))return null;const e=Nt.fromFormat(t,qtt);return e.isValid?e:null}function Z6(t){return t&&bh(t)?NW(Wtt,e=>{const n=Nt.fromFormat(t,e);return n.isValid?n:null})??null:null}function X6(t){if(!t||!bh(t))return null;const e=Nt.fromISO(t);return e.isValid?e:null}const Q6=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function Htt(t){return t!=null&&Q6.has(t.type)}function K6(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function tR(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function eR(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}const Ytt=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);by(Q6,Ytt);function Jtt(t,e){const n=t?.domain;if(!n||n.type!=="range")return;const i="range"in n?n.range[0]:n.minValue,r="range"in n?n.range[1]:n.maxValue,s=Htt(t);return K6(t)||eR(t)||tR(t)?{...Ztt(t,r,i),isInteger:s}:{min:i!=null&&typeof i=="number"?i:null,max:r!=null&&typeof r=="number"?r:null,rawMin:i,rawMax:r,isInteger:s}}function Ztt(t,e,n){return K6(t)?{min:J6(n)?.toMillis(),max:J6(e)?.toMillis(),rawMin:n,rawMax:e}:eR(t)?{min:Z6(n)?.toMillis(),max:Z6(e)?.toMillis(),rawMin:n,rawMax:e}:tR(t)?{min:X6(n)?.toMillis(),max:X6(e)?.toMillis(),rawMin:n,rawMax:e}:{max:null,min:null}}function Xtt(t){if(!t)return;const e=t.match(Qtt);return e?.groups?e.groups.doubleQuoted??e.groups.singleQuoted??e.groups.dotNotation:void 0}const Qtt=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-z_][a-z0-9_]*))$/i;function Ktt(t){return t.match(tet)?.[1]?.replaceAll("\\'","'")??null}const tet=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let l3;function nR(){return l3||(l3=(async()=>{const[t,e,n]=await Promise.all([import("./arcadeUtils-hDHtkFVP.js"),import("./batchExec-DcTTyXKs.js"),import("./aiServices-CHK6kLID.js").then(i=>i.a)]);return{arcade:t.arcade,arcadeUtils:t,batchExec:e,aiServices:n,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel,Pixel:t.Pixel}})()),l3}const eet=/^([0-9_])/,net=/[^a-z0-9_\u0080-\uffff]+/gi;function iet(t){return t==null?null:t.trim().replaceAll(net,"_").replace(eet,"F$1")||null}const ret=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],set=["field","normalizationField"];function oet(t,e){if(t!=null&&e!=null){for(const n of Array.isArray(t)?t:[t])if(iR(ret,n,e),"visualVariables"in n&&n.visualVariables)for(const i of n.visualVariables)iR(set,i,e)}}function iR(t,e,n){if(t)for(const i of t){const r=sy(i,e),s=r&&typeof r!="function"&&n.get(r);s&&Ha(i,s.name,e)}}function aet(t,e){if(t!=null&&e?.fields?.length)if("startField"in t){const n=e.get(t.startField),i=e.get(t.endField);t.startField=n?.name??null,t.endField=i?.name??null}else{const n=e.get(t.startTimeField),i=e.get(t.endTimeField);t.startTimeField=n?.name??null,t.endTimeField=i?.name??null}}const c3=new Set;function Lg(t,e){return t&&e?(c3.clear(),kh(c3,t,e),Array.from(c3).sort()):[]}function kh(t,e,n){if(n)if(e?.fields?.length)if(n.includes("*"))for(const{name:i}of e.fields)t.add(i);else for(const i of n)Rh(t,e,i);else{if(n.includes("*"))return t.clear(),void t.add("*");for(const i of n)i!=null&&t.add(i)}}function Rh(t,e,n){if(typeof n=="string")if(e){const i=e.get(n);i&&t.add(i.name)}else t.add(n)}function cet(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(n=>n.name):e}function uet(t,e,n=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const i=Lg(t,e);return i.length/t.fields.length>=n?["*"]:i}async function ml(t,e,n,i){if(!i)return;const r=Xtt(i);if(r)Rh(t,e,r);else{const{arcadeUtils:s}=await nR(),o=s.extractFieldNames(i,n?.partitions??e?.fields?.map(a=>a.name));for(const a of o)Rh(t,n?.index??e,a)}}async function Pg(t,e,n){if(n&&n!=="1=1"){const i=await yk(n,e);if(!i.isStandardized)throw new re("fieldUtils:collectFilterFields","Where clause is not standardized",{where:n});kh(t,e,i.fieldNames)}}function het({displayField:t,fields:e}){return t||(e?.length?pet(e):null)}function pet(t){return u3(t,"name-or-title")||u3(t,"unique-identifier")||u3(t,"type-or-category")||det(t)}function det(t){for(const e of t){if(!e?.name)continue;const n=e.name.toLowerCase();if(n.includes("name")||n.includes("title"))return e.name}return null}function u3(t,e){for(const n of t)if(n?.valueType&&n.valueType===e)return n.name;return null}async function fet(t,e){if(!e)return;const n=e.elevationInfo?.featureExpressionInfo;return n?n.collectRequiredFields(t,e.fieldsIndex):void 0}function met(t,e,n){n.onStatisticExpression?ml(t,e,null,n.onStatisticExpression.expression):t.add(n.onStatisticField)}async function yet(t,e,n){if(!e||!n||!("fields"in n))return;const i=[],r=n.popupTemplate;i.push(rR(t,e,r)),n.fields&&i.push(...n.fields.map(async s=>met(t,e.fieldsIndex,s))),await Promise.all(i)}async function get(t,e){const{fieldsIndex:n,trackInfo:i}=e;if(!e||!i||!n)return;const r=[i.latestObservations.renderer?.collectRequiredFields(t,n),i.previousObservations.renderer?.collectRequiredFields(t,n),i.trackLines.renderer?.collectRequiredFields(t,n)];i.popupTemplate&&r.push(rR(t,e,i.popupTemplate));for(const s of[i.latestObservations.labelingInfo,i.previousObservations.labelingInfo,i.trackLines.labelingInfo])if(s)for(const o of s)r.push(aR(t,n,o));await Promise.all(r)}async function rR(t,e,n){const i=[];n?.expressionInfos&&i.push(...n.expressionInfos.map(s=>ml(t,e.fieldsIndex,null,s.expression)));const r=n?.content;if(Array.isArray(r))for(const s of r)s.type==="expression"&&s.expressionInfo&&i.push(ml(t,e.fieldsIndex,null,s.expressionInfo.expression));await Promise.all(i)}async function vet(t,e,n){e&&(e.timeInfo&&n?.timeExtent&&kh(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&kh(t,e.fieldsIndex,[e.floorInfo.floorField]),n?.where!=null&&await Pg(t,e.fieldsIndex,n.where))}async function bet(t,e,n){e&&n&&await Promise.all(n.map(i=>wet(t,e,i)))}async function wet(t,e,n){e&&n&&(n.valueExpression?await ml(t,e.fieldsIndex,null,n.valueExpression):n.field&&Rh(t,e.fieldsIndex,n.field))}function _et(t){return t?Lg(t.fieldsIndex,sR(t)):[]}function xet(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?Lg(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function Eet(t,e,n){if(!e||!n)return;const i=e.fieldsIndex;await Promise.all(n.filters.map(r=>Pg(t,i,r.where)))}const Aet=new Set(["oid","global-id","guid"]),Met=new Set(["oid","global-id"]),Tet=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function Iet(t){const e=new Set;oR(t).forEach(i=>e.add(i)),xet(t).forEach(i=>e.add(i.toLowerCase()));const n=t&&"infoFor3D"in t?t.infoFor3D:void 0;return n&&(Object.values(n.assetMapFieldRoles).forEach(i=>e.add(i.toLowerCase())),Object.values(n.transformFieldRoles).forEach(i=>e.add(i.toLowerCase()))),Array.from(e)}function sR(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:n,creatorField:i,editDateField:r,editorField:s}=e;return[n,i,r,s].filter(Boolean)}function oR(t){return sR(t).map(e=>e.toLowerCase())}function Net(t,e){return t.editable&&!Aet.has(t.type)&&!oR(e).includes(t.name?.toLowerCase()??"")}function Oet(t,e){const n=t.name?.toLowerCase()??"";return!(e?.objectIdField!=null&&n===e.objectIdField.toLowerCase()||e?.globalIdField!=null&&n===e.globalIdField.toLowerCase()||Iet(e).includes(n)||Met.has(t.type)||Tet.some(i=>i.test(n)))}async function Cet(t,e){const{labelingInfo:n,fieldsIndex:i}=e;n?.length&&await Promise.all(n.map(r=>aR(t,i,r)))}async function aR(t,e,n){if(!n)return;const i=n.getLabelExpression(),r=n.where;if(i.type==="arcade")await ml(t,e,null,i.expression);else{const s=i.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{Rh(t,e,o.slice(1,-1))})}await Pg(t,e,r)}function ket(t){const e=t.defaultValue;return e!==void 0&&cR(t,e)?e:t.nullable?null:void 0}function Ret(t){const e=typeof t=="string"?{type:t}:t;return hR(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function lR(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function Let(t){return t===null||lR(t)}function Pet(t){return t===null||Number.isInteger(t)}function Det(){return!0}function cR(t,e){let n;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":n=t.nullable?Pet:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=t.nullable?Let:lR;break;case"string":case"esriFieldTypeString":n=t.nullable?gk:bh;break;default:n=Det}return arguments.length===1?n:n(e)}const Fet=["integer","small-integer","big-integer","long"],jet=["single","double"],$et=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],Get=["esriFieldTypeSingle","esriFieldTypeDouble"],uR=new Set([...Fet,...$et]),Uet=new Set([...jet,...Get]),Bet=by(uR,Uet);function Vet(t){return t!=null&&uR.has(t.type)}function h3(t){return t!=null&&Bet.has(t.type)}function hR(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function pR(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function dR(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function fR(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function mR(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function zet(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function Wet(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function qet(t,e){return yR(t,e)===null}function Het(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function yR(t,e){return t==null||t.nullable&&e===null?null:cR(t,e)?h3(t)&&!Yet(t.type,Number(e))?"numeric-range-validation-error::out-of-range":null:"type-validation-error::invalid-type"}function Yet(t,e){const n=typeof t=="string"?gR(t):t;if(!n)return!1;const i=n.min,r=n.max;return n.isInteger?Number.isInteger(e)&&e>=i&&e<=r:e>=i&&e<=r}function gR(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return Jet;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return Zet;case"esriFieldTypeBigInteger":case"big-integer":return Xet;case"esriFieldTypeSingle":case"single":return Qet;case"esriFieldTypeDouble":case"double":return Ket}}const Jet={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Zet={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Xet={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Dg=(2-2**-23)*2**127,Qet={min:-Dg,max:Dg,isInteger:!1,rawMin:-Dg,rawMax:Dg},Ket={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function tnt(t,e,n){switch(t){case"domain-validation-error::invalid-coded-value":return`Value ${n} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"domain-validation-error::value-out-of-range":return`Value ${n} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"type-validation-error::invalid-type":return`Value ${n} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case"numeric-range-validation-error::out-of-range":{const{min:i,max:r}=gR(e.type);return`Value ${n} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${i} to ${r}`}}}function ent(t,e){return!nnt(t,e,null)}function nnt(t,e,n){if(!t?.attributes||!e)return!0;const i=new Set(Object.keys(t.attributes));let r=!1;for(const s of e)if(!i.has(s)&&(r=!0,n==null))break;return r}function int(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function vR(t){const e=t?.match(/{[^}]+}/g);return e?e.map(n=>n.slice(1,-1).split(":")[0].trim()):[]}let Fg=class extends Vt{constructor(t){super(t),this.type=null}};v([E({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],Fg.prototype,"type",void 0),Fg=v([tt("esri.popup.content.Content")],Fg);const ia=Fg,jg=new Os({asc:"ascending",desc:"descending"});let gf=class extends Vi(Vt){constructor(t){super(t),this.field=null,this.order="ascending"}};v([E({type:String,json:{write:!0}})],gf.prototype,"field",void 0),v([E({type:jg.apiValues,json:{type:jg.jsonValues,read:jg.read,write:jg.write}})],gf.prototype,"order",void 0),gf=v([tt("esri.popup.support.AttachmentsOrderByInfo")],gf);const bR=gf;let uo=class extends Vi(ia){constructor(t){super(t),this.attachmentKeywords=null,this.attachmentTypes=null,this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};v([E({type:[String],json:{write:!0}})],uo.prototype,"attachmentKeywords",void 0),v([E({type:[["application","audio","image","model","text","video"]],json:{write:!0}})],uo.prototype,"attachmentTypes",void 0),v([E({type:String,json:{write:!0}})],uo.prototype,"description",void 0),v([E({type:["auto","preview","list"],json:{write:!0}})],uo.prototype,"displayType",void 0),v([E({type:[bR],json:{write:!0}})],uo.prototype,"orderByFields",void 0),v([E({type:String,json:{write:!0}})],uo.prototype,"title",void 0),v([E({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],uo.prototype,"type",void 0),uo=v([tt("esri.popup.content.AttachmentsContent")],uo);const Lh=uo;var p3;let jc=p3=class extends ia{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new p3({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ht(this.outFields):null})}};v([E()],jc.prototype,"creator",void 0),v([E()],jc.prototype,"destroyer",void 0),v([E()],jc.prototype,"outFields",void 0),v([E({type:["custom"],readOnly:!0})],jc.prototype,"type",void 0),jc=p3=v([tt("esri.popup.content.CustomContent")],jc);const rnt=jc;var d3;let Ph=d3=class extends Vt{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new d3({title:this.title,expression:this.expression})}};v([E({type:String,json:{write:!0}})],Ph.prototype,"title",void 0),v([E({type:String,json:{write:!0}})],Ph.prototype,"expression",void 0),v([E({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Ph.prototype,"returnType",void 0),Ph=d3=v([tt("esri.popup.ElementExpressionInfo")],Ph);const wR=Ph;var f3;let vf=f3=class extends ia{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){return new f3({expressionInfo:this.expressionInfo?.clone()})}};v([E({type:wR,json:{write:!0}})],vf.prototype,"expressionInfo",void 0),v([E({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],vf.prototype,"type",void 0),vf=f3=v([tt("esri.popup.content.ExpressionContent")],vf);const $g=vf;function te(t,e={}){const n=t instanceof Os?t:new Os(t,e),{alwaysWriteDefaults:i,default:r,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=e;return E({type:s?n.apiValues:String,json:{type:n.jsonValues,default:r,name:o,read:!l&&{reader:n.read},write:{writer:n.write,alwaysWriteDefaults:i}},nonNullable:a,readOnly:l})}let Gg=class extends Vi(Vt){constructor(t){super(t),this.type=null}};v([E({type:["date-time","number"],nonNullable:!0,readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Gg.prototype,"type",void 0),Gg=v([tt("esri.layers.support.FieldFormat")],Gg);const m3=Gg,_R="auto";let ra=class extends m3{constructor(t){super(t),this.dateStyle=null,this.hour12=_R,this.month=null,this.timeStyle=null,this.type="date-time",this.year=null}};v([E({type:["full","long","medium","short"],json:{write:!0}})],ra.prototype,"dateStyle",void 0),v([E({type:["always","auto","never"],nonNullable:!0,json:{default:_R,write:!0}})],ra.prototype,"hour12",void 0),v([E({type:["long","short"],json:{write:!0}})],ra.prototype,"month",void 0),v([E({type:["full","long","medium","short"],json:{write:!0}})],ra.prototype,"timeStyle",void 0),v([E({type:["date-time"]})],ra.prototype,"type",void 0),v([E({type:["numeric"],json:{write:!0}})],ra.prototype,"year",void 0),ra=v([tt("esri.layers.support.DateTimeFieldFormat")],ra);const yl=ra,xR={min:0,max:20},ER=2,SR=0,AR="decimal",MR="auto";let gl=class extends m3{constructor(t){super(t),this.maximumFractionDigits=ER,this.minimumFractionDigits=SR,this.style=AR,this.type="number",this.useGrouping=MR}};v([E({type:sn,nonNullable:!0,range:xR,json:{default:ER,write:!0}})],gl.prototype,"maximumFractionDigits",void 0),v([E({type:sn,nonNullable:!0,range:xR,json:{default:SR,write:!0}})],gl.prototype,"minimumFractionDigits",void 0),v([E({type:["decimal"],nonNullable:!0,json:{default:AR,write:!0}})],gl.prototype,"style",void 0),v([E({type:["number"]})],gl.prototype,"type",void 0),v([E({type:["always","auto","never"],nonNullable:!0,json:{default:MR,write:!0}})],gl.prototype,"useGrouping",void 0),gl=v([tt("esri.layers.support.NumberFieldFormat")],gl);const Ug=gl;let bf;const snt=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,y3=globalThis.document?.documentElement;function TR(){const t=y3?.getAttribute("lang"),e=globalThis.navigator?.language;return snt??t??e??"en"}function $c(){return bf===void 0&&(bf=TR()),bf}const ont=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function IR(t=$c()){return OR(t)?.language}function NR(t=$c()){const e=OR(t);return e?.language&&e?.extlang?t.replace(`${e.language}-`,""):t}function OR(t=$c()){return ont.exec(t)?.groups}const Bg=[];function ant(t){return Bg.push(t),pn(()=>{Bg.splice(Bg.indexOf(t),1)})}const Vg=[];function CR(t){return Vg.push(t),pn(()=>Vg.splice(Vg.indexOf(t),1))}function kR(){const t=TR();bf!==t&&([...Vg].forEach(e=>e(t)),bf=t,[...Bg].forEach(e=>e(t)))}globalThis.addEventListener?.("languagechange",kR),y3&&new MutationObserver(()=>{kR()}).observe(y3,{attributeFilter:["lang"]});const Gc="system",RR="unknown",zg="UTC",lnt=Intl.DateTimeFormat().resolvedOptions().timeZone,cnt={dateStyle:void 0,year:void 0,month:void 0,day:void 0,weekday:void 0},unt={timeStyle:void 0,hour12:void 0,hourCycle:void 0,hour:void 0,minute:void 0,second:void 0},LR={timeZone:zg},ho={year:"numeric",month:"numeric",day:"numeric"},wf={year:"numeric",month:"long",day:"numeric"},_f={year:"numeric",month:"short",day:"numeric"},xf={year:"numeric",month:"long",weekday:"long",day:"numeric"},vl={hour:"numeric",minute:"numeric"},Uc={...vl,second:"numeric"},PR={hourCycle:"h23"},Ef={...vl,...PR},Sf={...Uc,...PR},DR={"short-date":ho,"short-date-short-time":{...ho,...vl},"short-date-short-time-24":{...ho,...Ef},"short-date-long-time":{...ho,...Uc},"short-date-long-time-24":{...ho,...Sf},"short-date-le":ho,"short-date-le-short-time":{...ho,...vl},"short-date-le-short-time-24":{...ho,...Ef},"short-date-le-long-time":{...ho,...Uc},"short-date-le-long-time-24":{...ho,...Sf},"long-month-day-year":wf,"long-month-day-year-short-time":{...wf,...vl},"long-month-day-year-short-time-24":{...wf,...Ef},"long-month-day-year-long-time":{...wf,...Uc},"long-month-day-year-long-time-24":{...wf,...Sf},"day-short-month-year":_f,"day-short-month-year-short-time":{..._f,...vl},"day-short-month-year-short-time-24":{..._f,...Ef},"day-short-month-year-long-time":{..._f,...Uc},"day-short-month-year-long-time-24":{..._f,...Sf},"long-date":xf,"long-date-short-time":{...xf,...vl},"long-date-short-time-24":{...xf,...Ef},"long-date-long-time":{...xf,...Uc},"long-date-long-time-24":{...xf,...Sf},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":vl,"long-time":Uc},hnt=Hr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),FR={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},pnt=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),dnt=pnt.find(({type:t})=>t==="month")?.value.toLowerCase();function jR(){const t=IR();return(t&&FR[t])??NR()}dnt!=="mart"&&(FR.bs="sr-Latn-CS");let g3=new WeakMap;const Wg=DR["short-date-short-time"];function fnt(t){let e=g3.get(t);if(!e){const n=jR(),i=Hg(t.timeZone??Gc),r={...t,timeZone:i};e=new Intl.DateTimeFormat(n,r),g3.set(t,e)}return e}function mnt(t){return DR[t]}function ynt(t){const{dateStyle:e,timeStyle:n,hour12:i,year:r,month:s}=t,o={};return e?o.dateStyle=e:r&&(o.year=r,o.month=s||void 0),n&&!o.year&&(o.timeStyle=n,o.hour12=i==="auto"?void 0:i==="always"),o}function qg(t,e=Wg){return fnt(e).format(t)}function gnt(t,e=Wg){return qg(new Date(t),{...e,...LR,...unt})}function vnt(t,e=Wg){return qg(new Date(`1970-01-01T${t}Z`),{...e,...LR,...cnt})}function bnt(t,e=Wg){if(e.timeZone)return qg(new Date(t),e);const n=Nt.fromISO(t,{setZone:!0}),i=n.offset===0?zg:e.timeZone,r={...e,timeZone:i};return n.toLocaleString(r,{locale:jR()})}function Hg(t){switch(t){case Gc:return lnt;case RR:return zg;default:return t}}CR(()=>{g3=new WeakMap});let Dh=class extends Vi(Vt){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};v([te(hnt)],Dh.prototype,"dateFormat",void 0),v([E({type:Boolean,json:{write:!0}})],Dh.prototype,"digitSeparator",void 0),v([E({type:sn,json:{write:!0}})],Dh.prototype,"places",void 0),Dh=v([tt("esri.popup.support.FieldInfoFormat")],Dh);const Bc=Dh,$R={base:m3,key:"type",errorContext:"field-configuration-field-format",typeMap:{"date-time":yl,number:Ug}};function wnt(t,e){const{format:n}=t;return e&&Af(e)?n?GR(n,e):Mf(e,{hour12:"always",useGrouping:"always"}):null}function GR(t,e){const{dateFormat:n}=t;if(!e)return n?VR(t):BR(t);if(!Af(e))return;const i={hour12:"always"};switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return UR(t);case"single":case"double":return BR(t);case"date":case"timestamp-offset":return n?VR(t):Mf(e,i);case"date-only":return n?_nt(t):Mf(e);case"time-only":return n?xnt(t):Mf(e,i)}}function Af(t){return h3(t)||pR(t)||dR(t)||mR(t)||fR(t)}function UR(t){return new Ug({useGrouping:t.digitSeparator?"always":"never"})}function BR(t){const e=UR(t),{places:n}=t;return e.minimumFractionDigits=n??0,e.maximumFractionDigits=n??2,e}function VR(t){return new yl({dateStyle:zR(t),year:YR(t),month:qR(t),timeStyle:HR(t),hour12:WR(t)})}function _nt(t){return new yl({dateStyle:zR(t),year:YR(t),month:qR(t)})}function xnt(t){return new yl({timeStyle:HR(t),hour12:WR(t)})}function zR(t){const{dateFormat:e}=t;return e?e.startsWith("short-date")?"short":e.startsWith("day-short-month-year")?"medium":e.startsWith("long-month-day-year")?"long":e.startsWith("long-date")?"full":null:null}function WR(t){return t.dateFormat?.endsWith("-24")?"never":"always"}function qR(t){switch(t.dateFormat){case"short-month-year":return"short";case"long-month-year":return"long";default:return null}}function HR(t){const{dateFormat:e}=t;return e?e.includes("short-time")?"short":e.includes("long-time")?"medium":null:null}function YR(t){switch(t.dateFormat){case"short-month-year":case"long-month-year":case"year":return"numeric";default:return null}}function JR(t,e){const n=t.type==="number",i=t.type==="date-time";if(!e)return n?XR(t):i?QR(t):null;if(Af(e))switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return n?ZR(t):null;case"single":case"double":return n?XR(t):null;case"date":case"timestamp-offset":return i?QR(t):null;case"date-only":return i?Ent(t):null;case"time-only":return i?Snt(t):null}}function ZR(t){return new Bc({digitSeparator:t.useGrouping!=="never"})}function XR(t){const e=ZR(t);return e.places=t.maximumFractionDigits,e}function QR(t){let e;const n=KR(t),i=t8(t),r=t.hour12==="never"?"24":null,s=t.year==="numeric"?"year":null,o=e8(t);return n&&i&&r?e=`${n}-${i}-${r}`:n&&i?e=`${n}-${i}`:n?e=n:s&&o?e=`${o}-${s}`:s&&(e=s),e?new Bc({dateFormat:e}):null}function Ent(t){let e;const n=KR(t),i=t.year==="numeric"?"year":null,r=e8(t);return n?e=n:i&&r?e=`${r}-${i}`:i&&(e=i),e?new Bc({dateFormat:e}):null}function Snt(t){let e;const n=t8(t),i=t.hour12==="never"?"24":null;return n&&i?e=`short-date-${n}-${i}`:n&&(e=`short-date-${n}`),e?new Bc({dateFormat:e}):null}function KR(t){switch(t.dateStyle){case"short":return"short-date";case"medium":return"day-short-month-year";case"long":return"long-month-day-year";case"full":return"long-date";default:return}}function t8(t){return t.timeStyle&&(t.timeStyle==="short"?"short-time":"long-time")}function e8(t){switch(t.month){case"short":return"short-month";case"long":return"long-month";default:return}}function Mf(t,e){if(!Af(t))return;const n=e?.useGrouping??"auto",i=e?.hour12??"auto";switch(t.type){case"integer":case"small-integer":case"big-integer":case"long":return new Ug({minimumFractionDigits:0,maximumFractionDigits:0,useGrouping:n});case"single":case"double":return new Ug({minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:n});case"date":case"timestamp-offset":return new yl({dateStyle:"short",timeStyle:"short",hour12:i});case"date-only":return new yl({dateStyle:"short"});case"time-only":return new yl({timeStyle:"short",hour12:i})}}let Cr=class extends Vi(Vt){constructor(t){super(t),this.fieldName=null,this.isEditable=!0,this.label=null,this.statisticType=null,this.stringFieldOption="text-box",this.tooltip=null,this.visible=!0}set fieldFormat(t){this._set("fieldFormat",t),this._set("format",t?JR(t):null)}set format(t){this._set("format",t),this._set("fieldFormat",t?GR(t):null)}readFormat(t,e){if(!e.fieldFormat)return t?Bc.fromJSON(t):null}clone(){const t=super.clone();return t._set("format",this.format?.clone()),t._set("fieldFormat",this.fieldFormat?.clone()),t}};v([E({value:null,clonable:!1,types:$R,json:{write:{overridePolicy(t,e,n){const{fieldName:i}=this;return{enabled:!!i&&!i.startsWith("expression/")&&!i.startsWith("relationships/")&&!!n?.writeFieldFormat}}}}})],Cr.prototype,"fieldFormat",null),v([E({type:String,json:{write:!0}})],Cr.prototype,"fieldName",void 0),v([E({value:null,clonable:!1,type:Bc,json:{write:!0}})],Cr.prototype,"format",null),v([dn("format")],Cr.prototype,"readFormat",null),v([E({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Cr.prototype,"isEditable",void 0),v([E({type:String,json:{write:!0}})],Cr.prototype,"label",void 0),v([E({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Cr.prototype,"statisticType",void 0),v([te(new Os({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Cr.prototype,"stringFieldOption",void 0),v([E({type:String,json:{write:!0}})],Cr.prototype,"tooltip",void 0),v([E({type:Boolean,json:{write:!0}})],Cr.prototype,"visible",void 0),Cr=v([tt("esri.popup.FieldInfo")],Cr);const v3=Cr;var b3;let bl=b3=class extends ia{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}clone(){return new b3(ht({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};v([E({type:Object,json:{write:!0}})],bl.prototype,"attributes",void 0),v([E({type:String,json:{write:!0}})],bl.prototype,"description",void 0),v([E({type:[v3],json:{write:!0}})],bl.prototype,"fieldInfos",void 0),v([E({type:String,json:{write:!0}})],bl.prototype,"title",void 0),v([E({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],bl.prototype,"type",void 0),bl=b3=v([tt("esri.popup.content.FieldsContent")],bl);const Fh=bl;let Vc=class extends Vt{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};v([E({type:String,json:{write:!0}})],Vc.prototype,"altText",void 0),v([E({type:String,json:{write:!0}})],Vc.prototype,"caption",void 0),v([E({type:String,json:{write:!0}})],Vc.prototype,"title",void 0),v([E({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Vc.prototype,"type",void 0),Vc=v([tt("esri.popup.content.mixins.MediaInfo")],Vc);const w3=Vc;var _3;let zc=_3=class extends Wn{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new _3({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};v([E()],zc.prototype,"color",void 0),v([E()],zc.prototype,"fieldName",void 0),v([E()],zc.prototype,"tooltip",void 0),v([E()],zc.prototype,"value",void 0),zc=_3=v([tt("esri.popup.content.support.ChartMediaInfoValueSeries")],zc);const n8=zc;var x3;let wl=x3=class extends Vt{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new x3({colors:ht(this.colors),fields:ht(this.fields),normalizeField:this.normalizeField,series:ht(this.series),tooltipField:this.tooltipField})}};v([E({type:[pe],json:{type:[[sn]],write:!0}})],wl.prototype,"colors",void 0),v([E({type:[String],json:{write:{isRequired:!0}}})],wl.prototype,"fields",void 0),v([E({type:String,json:{write:!0}})],wl.prototype,"normalizeField",void 0),v([E({type:[n8],json:{read:!1}})],wl.prototype,"series",void 0),v([E({type:String,json:{write:!0}})],wl.prototype,"tooltipField",void 0),wl=x3=v([tt("esri.popup.content.support.ChartMediaInfoValue")],wl);const Ant=wl;let Tf=class extends w3{constructor(t){super(t),this.type=null,this.value=void 0}};v([E({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Tf.prototype,"type",void 0),v([E({type:Ant,json:{write:{isRequired:!0}}})],Tf.prototype,"value",void 0),Tf=v([tt("esri.popup.content.mixins.ChartMediaInfo")],Tf);const Yg=Tf,Jg=Hr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var E3;let Zg=E3=class extends Yg{constructor(t){super(t),this.type="bar-chart"}clone(){return new E3({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:Jg.write,isRequired:!0}}})],Zg.prototype,"type",void 0),Zg=E3=v([tt("esri.popup.content.BarChartMediaInfo")],Zg);const i8=Zg;var S3;let Xg=S3=class extends Yg{constructor(t){super(t),this.type="column-chart"}clone(){return new S3({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:Jg.write,isRequired:!0}}})],Xg.prototype,"type",void 0),Xg=S3=v([tt("esri.popup.content.ColumnChartMediaInfo")],Xg);const r8=Xg;var A3;let If=A3=class extends Vt{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new A3({linkURL:this.linkURL,sourceURL:this.sourceURL})}};v([E({type:String,json:{write:!0}})],If.prototype,"linkURL",void 0),v([E({type:String,json:{write:{isRequired:!0}}})],If.prototype,"sourceURL",void 0),If=A3=v([tt("esri.popup.content.support.ImageMediaInfoValue")],If);const Mnt=If;var M3;let jh=M3=class extends w3{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new M3({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};v([E({type:Number,json:{write:!0}})],jh.prototype,"refreshInterval",void 0),v([E({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],jh.prototype,"type",void 0),v([E({type:Mnt,json:{write:{isRequired:!0}}})],jh.prototype,"value",void 0),jh=M3=v([tt("esri.popup.content.ImageMediaInfo")],jh);const s8=jh;var T3;let Qg=T3=class extends Yg{constructor(t){super(t),this.type="line-chart"}clone(){return new T3({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:Jg.write,isRequired:!0}}})],Qg.prototype,"type",void 0),Qg=T3=v([tt("esri.popup.content.LineChartMediaInfo")],Qg);const o8=Qg;var I3;let Kg=I3=class extends Yg{constructor(t){super(t),this.type="pie-chart"}clone(){return new I3({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:Jg.write,isRequired:!0}}})],Kg.prototype,"type",void 0),Kg=I3=v([tt("esri.popup.content.PieChartMediaInfo")],Kg);const a8=Kg,N3={base:w3,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":i8,"column-chart":r8,"line-chart":o8,"pie-chart":a8,image:s8}};var O3;let Gs=O3=class extends ia{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?s8.fromJSON(e):e.type==="barchart"?i8.fromJSON(e):e.type==="columnchart"?r8.fromJSON(e):e.type==="linechart"?o8.fromJSON(e):e.type==="piechart"?a8.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(n=>n.toJSON())}clone(){return new O3(ht({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};v([E()],Gs.prototype,"activeMediaInfoIndex",void 0),v([E({type:Object,json:{write:!0}})],Gs.prototype,"attributes",void 0),v([E({type:String,json:{write:!0}})],Gs.prototype,"description",void 0),v([E({types:[N3]})],Gs.prototype,"mediaInfos",void 0),v([dn("mediaInfos")],Gs.prototype,"readMediaInfos",null),v([Re("mediaInfos")],Gs.prototype,"writeMediaInfos",null),v([E({type:String,json:{write:!0}})],Gs.prototype,"title",void 0),v([E({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Gs.prototype,"type",void 0),Gs=O3=v([tt("esri.popup.content.MediaContent")],Gs);const $h=Gs;var C3;let Nf=C3=class extends Vt{constructor(t){super(t),this.field=null,this.order=null}clone(){return new C3({field:this.field,order:this.order})}};v([E({type:String,json:{write:!0}})],Nf.prototype,"field",void 0),v([E({type:["asc","desc"],json:{write:!0}})],Nf.prototype,"order",void 0),Nf=C3=v([tt("esri.popup.support.RelatedRecordsInfoFieldOrder")],Nf);const k3=Nf;let po=class extends Vi(ia){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};v([E({type:String,json:{write:!0}})],po.prototype,"description",void 0),v([E({type:Number,json:{type:sn,write:!0}})],po.prototype,"displayCount",void 0),v([E({type:["list"],json:{write:{isRequired:!0}}})],po.prototype,"displayType",void 0),v([E({type:[k3],json:{write:!0}})],po.prototype,"orderByFields",void 0),v([E({type:Number,json:{type:sn,write:{isRequired:!0}}})],po.prototype,"relationshipId",void 0),v([E({type:String,json:{write:!0}})],po.prototype,"title",void 0),v([E({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],po.prototype,"type",void 0),po=v([tt("esri.popup.content.RelationshipContent")],po);const Of=po;var R3;let Cf=R3=class extends ia{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new R3({text:this.text})}};v([E({type:String,json:{write:!0}})],Cf.prototype,"text",void 0),v([E({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Cf.prototype,"type",void 0),Cf=R3=v([tt("esri.popup.content.TextContent")],Cf);const Gh=Cf;let sa=class extends Vi(Vt){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};v([E({type:String,json:{write:!0}})],sa.prototype,"title",void 0),v([E({type:String,json:{write:!0}})],sa.prototype,"description",void 0),v([E({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],sa.prototype,"type",void 0),v([E({type:Number,json:{type:sn,write:!0}})],sa.prototype,"associatedNetworkSourceId",void 0),v([E({type:Number,json:{type:sn,write:!0}})],sa.prototype,"associatedAssetGroup",void 0),v([E({type:Number,json:{type:sn,write:!0}})],sa.prototype,"associatedAssetType",void 0),sa=v([tt("esri.popup.support.UtilityNetworkAssociationType")],sa);const l8=sa;let _l=class extends Vi(ia){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};v([E({type:String,json:{write:!0}})],_l.prototype,"description",void 0),v([E({type:Number,json:{type:sn,write:!0}})],_l.prototype,"displayCount",void 0),v([E({type:String,json:{write:!0}})],_l.prototype,"title",void 0),v([E({type:[l8],json:{write:!0}})],_l.prototype,"associationTypes",void 0),v([te({utilityNetworkAssociations:"utility-network-associations"})],_l.prototype,"type",void 0),_l=v([tt("esri.popup.content.UtilityNetworkAssociationsContent")],_l);const L3=_l,Tnt={base:null,key:"type",typeMap:{attachment:Lh,media:$h,text:Gh,expression:$g,field:Fh,relationship:Of,utilityNetworkAssociations:L3}},Int={base:null,key:"type",typeMap:{attachment:Lh,media:$h,text:Gh,expression:$g,field:Fh,relationship:Of}};var P3;let Wc=P3=class extends Vt{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new P3({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};v([E({type:String,json:{write:!0}})],Wc.prototype,"name",void 0),v([E({type:String,json:{write:!0}})],Wc.prototype,"title",void 0),v([E({type:String,json:{write:!0}})],Wc.prototype,"expression",void 0),v([E({type:["string","number"],json:{write:!0}})],Wc.prototype,"returnType",void 0),Wc=P3=v([tt("esri.popup.ExpressionInfo")],Wc);const c8=Wc;var D3;let kf=D3=class extends Vt{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new D3({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};v([E({type:Boolean,json:{write:!0}})],kf.prototype,"returnTopmostRaster",void 0),v([E({type:Boolean,json:{write:!0}})],kf.prototype,"showNoDataRecords",void 0),kf=D3=v([tt("esri.popup.LayerOptions")],kf);const Nnt=kf;var F3;let Rf=F3=class extends Vt{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new F3({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ht(this.orderByFields):null})}};v([E({type:Boolean,json:{write:!0}})],Rf.prototype,"showRelatedRecords",void 0),v([E({type:[k3],json:{write:!0}})],Rf.prototype,"orderByFields",void 0),Rf=F3=v([tt("esri.popup.RelatedRecordsInfo")],Rf);const u8=Rf;let h8=0;const t1=t=>{const e=t;let n=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+h8++})}};return n=v([tt("esri.core.Identifiable")],n),n},Ont=t=>{const e=t;let n=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:h8++})}};return n=v([tt("esri.core.Identifiable.NumericIdentifiable")],n),n};t1(class{});var j3;let rs=j3=class extends t1(Wn){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new j3({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};v([E()],rs.prototype,"active",void 0),v([E()],rs.prototype,"className",void 0),v([E()],rs.prototype,"disabled",void 0),v([E()],rs.prototype,"icon",void 0),v([E()],rs.prototype,"id",void 0),v([E()],rs.prototype,"indicator",void 0),v([E()],rs.prototype,"title",void 0),v([E()],rs.prototype,"type",void 0),v([E()],rs.prototype,"visible",void 0),rs=j3=v([tt("esri.support.actions.ActionBase")],rs);const e1=rs;var $3;let n1=$3=class extends e1{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new $3({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};v([E()],n1.prototype,"image",void 0),n1=$3=v([tt("esri.support.actions.ActionButton")],n1);const p8=n1;var G3;let Lf=G3=class extends e1{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new G3({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};v([E()],Lf.prototype,"image",void 0),v([E()],Lf.prototype,"value",void 0),Lf=G3=v([tt("esri.support.actions.ActionToggle")],Lf);const d8=Lf,Pf="relationships/",f8="expression/",Cnt=fe.ofType({key:"type",defaultKeyValue:"button",base:e1,typeMap:{button:p8,toggle:d8}}),knt={base:ia,key:"type",typeMap:{media:$h,custom:rnt,text:Gh,attachments:Lh,fields:Fh,expression:$g,relationship:Of,utilityNetworkAssociations:L3}},m8=new Set(["attachments","fields","media","text","expression","relationship"]),Rnt=new Set([...m8,"utility-network-associations"]);let Gn=class extends Vi(Vt){constructor(t){super(t),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(e=>fc(knt,e)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Sw(t)?t:(Oe.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,e){const{popupElements:n}=e;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(e.description,e.mediaInfos,n):this._readPopupInfo(e)}writeWebSceneContent(t,e,n,i){this._writePopupTemplateContent(t,e,i)}writeWebMapContent(t,e,n,i){this._writePopupTemplateContent(t,e,i)}writeFieldInfos(t,e,n,i){const{content:r}=this,s=Array.isArray(r)?r:null,{writeFieldFormat:o,...a}=i||{};if(t){const l=s?s.filter(p=>p.type==="fields"):[],c=l.length&&l.every(p=>p.fieldInfos?.length);e.fieldInfos=t.filter(Boolean).map(p=>{const d=p.toJSON(a);return c&&(d.visible=!1),d})}if(s)for(const l of s)l.type==="fields"&&this._writeFieldsContent(l,e,a)}writeLayerOptions(t,e,n,i){e[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(i)}writeTitle(t,e){e.title=t||""}async collectRequiredFields(t,e,n){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(t,e,n,[...i,...this._getContentExpressionInfos(this.content,i)]),kh(t,e,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t,e){const n=new Set;return await this.collectRequiredFields(n,t,e),[...n].sort()}_writePopupTemplateContent(t,e,n){typeof t!="string"?Array.isArray(t)&&(e.popupElements=t.filter(i=>n?.origin==="web-scene"?m8.has(i.type):Rnt.has(i.type)).map(i=>i?.toJSON(n)),e.popupElements.forEach(i=>{i.type==="attachments"?this._writeAttachmentContent(e):i.type==="media"?this._writeMediaContent(i,e):i.type==="text"?this._writeTextContent(i,e):i.type==="relationship"&&this._writeRelationshipContent(i,e)})):e.description=t}_writeFieldsContent(t,e,n){const i=t.fieldInfos;if(!Array.isArray(i)||!i.length)return;const r=e.fieldInfos;if(Array.isArray(r))for(const s of i){const o=r.find(a=>a.fieldName?.toLowerCase()===s.fieldName?.toLowerCase());o?o.visible=!0:r.push(s.toJSON(n))}else e.fieldInfos=i.map(s=>s.toJSON(n))}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,e){const n=t.orderByFields?.map(r=>this._toFieldOrderJSON(r,t.relationshipId))||[],i=[...e.relatedRecordsInfo?.orderByFields||[],...n];e.relatedRecordsInfo={showRelatedRecords:!0,...i?.length&&{orderByFields:i}}}_writeTextContent(t,e){!e.description&&t.text&&(e.description=t.text)}_writeMediaContent(t,e){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=ht(t.mediaInfos);Array.isArray(e.mediaInfos)?e.mediaInfos=[...e.mediaInfos,...n]:e.mediaInfos=n}_readPopupInfoElements(t,e,n){const i={description:!1,mediaInfos:!1};return n.map(r=>r.type==="media"?(r.mediaInfos||!e||i.mediaInfos||(r.mediaInfos=e,i.mediaInfos=!0),$h.fromJSON(r)):r.type==="text"?(r.text||!t||i.description||(r.text=t,i.description=!0),Gh.fromJSON(r)):r.type==="attachments"?Lh.fromJSON(r):r.type==="fields"?Fh.fromJSON(r):r.type==="expression"?$g.fromJSON(r):r.type==="relationship"?Of.fromJSON(r):r.type==="utilityNetworkAssociations"?L3.fromJSON(r):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:e,order:n}=t;if(!e?.startsWith(Pf))return null;const i=e.replace(Pf,"").split("/");if(i.length!==2)return null;const r=parseInt(i[0],10),s=i[1];return!Number.isNaN(r)&&s?Of.fromJSON({relationshipId:r,orderByFields:[{field:s,order:n}]}):null}_toFieldOrderJSON(t,e){const{order:n,field:i}=t;return{field:`${Pf}${e}/${i}`,order:n}}_readPopupInfo({description:t,mediaInfos:e,showAttachments:n,relatedRecordsInfo:i={showRelatedRecords:!1}}){const r=[];t?r.push(new Gh({text:t})):r.push(new Fh),Array.isArray(e)&&e.length&&r.push($h.fromJSON({mediaInfos:e})),n&&r.push(Lh.fromJSON({displayType:"auto"}));const{showRelatedRecords:s,orderByFields:o}=i;return s&&o?.length&&o.forEach(a=>{const l=this._toRelationshipContent(a);l&&r.push(l)}),r.length?r:t}_getContentElementFields(t){const e=t?.type;if(e==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(e==="custom")return t.outFields||[];if(e==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(e==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((i,r)=>[...i,...this._getMediaInfoFields(r)],[])]}return e==="text"?this._extractFieldNames(t.text):e==="relationship"||e==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:e,title:n,value:i}=t,r=i||{},{fields:s,normalizeField:o,tooltipField:a,sourceURL:l,linkURL:c}=r,p=[...this._extractFieldNames(n),...this._extractFieldNames(e),...this._extractFieldNames(l),...this._extractFieldNames(c),...s??[]];return o&&p.push(o),a&&p.push(a),p}_getContentExpressionInfos(t,e){return Array.isArray(t)?t.reduce((n,i)=>[...n,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],e):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((e,n)=>[...e,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,e,n,i){i&&await Promise.all(i.map(r=>ml(t,e,n,r.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:e,visible:n})=>!(n!==void 0&&!n||!e||e.startsWith(Pf)||e.startsWith(f8))).map(e=>e.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((e,n)=>[...e,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:e,title:n,type:i}=t,r=i==="button"||i==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(e),...this._extractFieldNames(r)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return vR(t).filter(e=>!(e.startsWith(Pf)||e.startsWith(f8)))}};v([E({type:Cnt})],Gn.prototype,"actions",void 0),v([E()],Gn.prototype,"content",void 0),v([dh("content")],Gn.prototype,"castContent",null),v([dn("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Gn.prototype,"readContent",null),v([Re("web-scene","content",{popupElements:{type:fe.ofType(Int)},showAttachments:{type:Boolean},mediaInfos:{type:fe.ofType(N3)},description:{type:String},relatedRecordsInfo:{type:u8}})],Gn.prototype,"writeWebSceneContent",null),v([Re("content",{popupElements:{type:fe.ofType(Tnt)},showAttachments:{type:Boolean},mediaInfos:{type:fe.ofType(N3)},description:{type:String},relatedRecordsInfo:{type:u8}})],Gn.prototype,"writeWebMapContent",null),v([E({type:[c8],json:{write:!0}})],Gn.prototype,"expressionInfos",void 0),v([E({type:[v3]})],Gn.prototype,"fieldInfos",void 0),v([Re("fieldInfos")],Gn.prototype,"writeFieldInfos",null),v([E({type:Nnt})],Gn.prototype,"layerOptions",void 0),v([Re("layerOptions")],Gn.prototype,"writeLayerOptions",null),v([E({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Gn.prototype,"lastEditInfoEnabled",void 0),v([E()],Gn.prototype,"outFields",void 0),v([E()],Gn.prototype,"overwriteActions",void 0),v([E()],Gn.prototype,"returnGeometry",void 0),v([E({json:{type:String}})],Gn.prototype,"title",void 0),v([Re("title")],Gn.prototype,"writeTitle",null),Gn=v([tt("esri.PopupTemplate")],Gn);const y8=Gn,Lnt=Hr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),Pnt=Hr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),g8={base:li,key:"type",typeMap:{extent:le,multipoint:Kr,point:se,polyline:Bi,polygon:qn}};function Dnt(t){return t.type==="point"}function Fnt(t){return t.type==="multipoint"}function jnt(t){return t.type==="polygon"}function $nt(t){return t.type==="polyline"}const U3=Symbol("idFieldsProviderSymbol");function Gnt(t){return!!t&&U3 in t}function v8(t){return Gnt(t)?t[U3]:void 0}const B3=Symbol("popupProvider");function Unt(t){return typeof t=="object"&&t!==null&&"popupEnabled"in t&&"popupTemplate"in t}function Bnt(t){return!!t&&B3 in t}function b8(t){return Bnt(t)?t[B3]:null}function Vnt(t,e){switch(e.type){case"object-id":case"unique-id-simple":return t.attributes[e.fieldName];case"unique-id-composite":{const n=[];for(const i of e.fieldNames)n.push(t.attributes[i]??null);return JSON.stringify(n)}}}function w8(t,e){if("uniqueIdFields"in e&&e.uniqueIdFields?.length){if(e.uniqueIdFields.length===1)return t.attributes?.[e.uniqueIdFields[0]];const n=e.uniqueIdFields.map(i=>t.attributes?.[i]);return JSON.stringify(n)}return"objectIdField"in e&&e.objectIdField?t.attributes?.[e.objectIdField]:null}const _8=new Os({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let znt=0,yn=class extends Vt{constructor(t){super(t),this.id="sym"+znt++,this.type=null,this.color=new pe([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,e){}hash(){return JSON.stringify(this.toJSON())}clone(){}};v([E({type:_8.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:_8.write,isRequired:!0}}})],yn.prototype,"type",void 0),v([E({type:pe,json:{write:{allowNull:!0}}})],yn.prototype,"color",void 0),v([dn("color")],yn.prototype,"readColor",null),yn=v([tt("esri.symbols.Symbol")],yn);var V3;let zi=V3=class extends yn{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){if(this.data?.type==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const i=n.map(r=>{const s=r.valueExpressionInfo;return s?ml(t,e,null,s.expression):null});await Promise.all(i)}}}clone(){return new V3({data:ht(this.data)})}hash(){return mw(JSON.stringify(this.data)).toString()}};v([E({json:{write:!1}})],zi.prototype,"color",void 0),v([E({json:{write:!0}})],zi.prototype,"data",void 0),v([dn("data",["symbol"])],zi.prototype,"readData",null),v([Re("data",{})],zi.prototype,"writeData",null),v([te({CIMSymbolReference:"cim"},{readOnly:!0})],zi.prototype,"type",void 0),zi=V3=v([tt("esri.symbols.CIMSymbol")],zi);function x8(t,e,n=fe){return e||(e=new n),e===t||e.destroyed||(e.removeAll(),Wnt(t)?e.addMany(t):t&&e.add(t)),e}function E8(t){return t}function Wnt(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}let qnt=class{constructor(){this._resolver=Qu(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===1}isRejected(){return this._status===2}isFulfilled(){return this._status!==0}abort(){this._resolver.reject(Gi())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Qu(),e=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(e);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},i=>{this.isFulfilled()||this._allPromise!==n||yc(i)||this._resolver.reject(i)}),t.resolve()}};const S8=t=>{const e=t;let n=class extends e{constructor(...i){super(...i),this._promiseProps=new qnt,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}addResolvingTask(i){i&&!this._promiseProps.isFulfilled()&&(this.addHandles($I(i)),this._promiseProps.addResolvingPromise(i.promise))}};return n=v([tt("esri.core.Promise")],n),n},A8=S8(Wn),Hnt="not-loaded",Ynt="loading",Jnt="failed",M8="loaded",T8=t=>{const e=t;let n=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const s=this.load.bind(this);this.load=o=>{const a=new Promise((l,c)=>{const p=qI(o,c);this.destroyed&&c(new re("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(l,c).finally(()=>{p&&p.remove()})});if(this.loadStatus===Hnt){this._set("loadStatus",Ynt);const l=this._loadController=new AbortController;s({signal:l.signal})}return r(),a}})),this.when(()=>{this._set("loadStatus",M8),this._loadController=null},r=>{this.destroyed||(this._set("loadStatus",Jnt),this._set("loadError",r),this._loadController=null)})}destroy(){this._loadController&&(this._loadController=BI(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===M8}get loadWarnings(){return this._get("loadWarnings")}load(i){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new re("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return v([E({readOnly:!0})],n.prototype,"loaded",null),v([E({readOnly:!0})],n.prototype,"loadError",void 0),v([E({clonable:!1})],n.prototype,"loadStatus",void 0),v([E({type:[eh],readOnly:!0})],n.prototype,"loadWarnings",null),n=v([tt("esri.core.Loadable")],n),n},z3=T8(A8);function Znt(t){return!(!t||!t.load)}let i1;function Xnt(t){return i1&&!i1.destroyed||(i1=t()),i1}var W3;const Qnt=new Os({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let gn=W3=class extends Wn{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new W3({categories:this.categories?ht(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let n=[];this.categories&&(n=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let i="";if(this.extent){const o=Y_(this.extent,Pt.WGS84);o!=null&&(i=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let r=this.query;!this.disableExtraQuery&&t.extraQuery&&(r="("+r+")"+t.extraQuery);const s={categories:n,bbox:i,q:r,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>Qnt.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...e,...s}}}};v([E()],gn.prototype,"categories",void 0),v([E()],gn.prototype,"disableExtraQuery",void 0),v([E({type:le})],gn.prototype,"extent",void 0),v([E()],gn.prototype,"filter",void 0),v([E()],gn.prototype,"num",void 0),v([E()],gn.prototype,"query",void 0),v([E()],gn.prototype,"sortField",void 0),v([E()],gn.prototype,"sortOrder",null),v([E()],gn.prototype,"start",void 0),gn=W3=v([tt("esri.portal.PortalQueryParams")],gn);var q3;let vn=q3=class extends Vt{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e&&this.portal?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.portal?.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const n=e.categorySchema||[];return n.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):n})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new re("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new q3({sourceJSON:t});return e.read(t),e}queryItems(t,e){let n=qr(gn,t);const i=this.portal;return parseFloat(i.currentVersion)>5?(n=n||new gn,i.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",e)):(n=n?n.clone():new gn,n.query="group:"+this.id+(n.query?" "+n.query:""),i.queryItems(n,e))}_fetchCategorySchemaSet(t,e){const n=this.portal;return n.fetchSelf(n.authMode,!0,e).then(i=>{const r=i.contentCategorySetsGroupQuery;if(r){const s=new gn({disableExtraQuery:!0,num:1,query:r});return n.queryGroups(s,e)}throw new re("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const r=i.results[0],s=new gn({num:1,query:`typekeywords:"${t}"`});return r.queryItems(s,e)}throw new re("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",e).then(r=>{const s=r?.categorySchema;return s?.length?s:[]}):[])}};v([E()],vn.prototype,"access",void 0),v([E({type:Date})],vn.prototype,"created",void 0),v([E()],vn.prototype,"description",void 0),v([E()],vn.prototype,"id",void 0),v([E()],vn.prototype,"isInvitationOnly",void 0),v([E({type:Date})],vn.prototype,"modified",void 0),v([E()],vn.prototype,"owner",void 0),v([E()],vn.prototype,"portal",void 0),v([E()],vn.prototype,"snippet",void 0),v([E()],vn.prototype,"sortField",void 0),v([E()],vn.prototype,"sortOrder",void 0),v([E()],vn.prototype,"sourceJSON",void 0),v([E()],vn.prototype,"tags",void 0),v([E()],vn.prototype,"thumbnail",void 0),v([E({readOnly:!0})],vn.prototype,"thumbnailUrl",null),v([E()],vn.prototype,"title",void 0),v([E({readOnly:!0})],vn.prototype,"url",null),vn=q3=v([tt("esri.portal.PortalGroup")],vn);let qc=class extends Wn{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};v([E()],qc.prototype,"nextQueryParams",void 0),v([E()],qc.prototype,"queryParams",void 0),v([E()],qc.prototype,"results",void 0),v([E()],qc.prototype,"total",void 0),qc=v([tt("esri.portal.PortalQueryResult")],qc);let oa=class extends Vt{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new re("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};v([E({type:Date})],oa.prototype,"created",void 0),v([E()],oa.prototype,"id",void 0),v([E()],oa.prototype,"portal",void 0),v([E()],oa.prototype,"title",void 0),v([E({readOnly:!0})],oa.prototype,"url",null),v([E()],oa.prototype,"username",void 0),oa=v([tt("esri.portal.PortalFolder")],oa);var H3;let Ee=H3=class extends Vt{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.id}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.id}`:null}addItem(t){const e=t&&t.item,n=t?.data,i=t?.folder,r={method:"post"};e&&(r.query=e.createPostQuery(),n!=null&&(typeof n=="string"?r.query.text=n:typeof n=="object"&&(r.query.text=JSON.stringify(n))));let s=this.userContentUrl;return i&&(s+="/"+(typeof i=="string"?i:i.id)),this.portal.request(s+"/addItem",r).then(o=>(e.id=o.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let n=this.userContentUrl;t.ownerFolder&&(n+="/"+t.ownerFolder);const i=e?{permanentDelete:!0}:{};await this.portal.request(n+`/items/${t.id}/delete`,{method:"post",query:i}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const n=this.userContentUrl+"/deleteItems",i=[],r=t.map(s=>s.id);if(r.length){const s={method:"post",query:{items:r.join(","),permanentDelete:e}},o=await this.portal.request(n,s);for(const a of o.results){const l=t.find(d=>a.itemId===d.id),c=a.success;let p=null;c?(l.id=null,l.portal=null):a.error&&(p=new re("portal:delete-item-failed",a.error.message,a.error)),i.push({item:l,success:c,error:p})}}return i}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let n;return n=e&&e.folders?e.folders.map(i=>{const r=oa.fromJSON(i);return r.portal=this.portal,r}):[],n})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(n=>{const i=vn.fromJSON(n);return i.portal=this.portal,i}):[],e})}async fetchItems(t){t??={};let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:n}=await import("./PortalItem-D8-K5TFM.js"),i={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},r=await this.portal.request(e,{query:i});let s;return r?.items?(s=r.items.map(o=>{const a=n.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:r.nextStart,total:r.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new vn({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new re("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const n=this.userContentUrl,i=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(n+`/items/${t.id}/restore`,{method:"post",query:i})}toJSON(){throw new re("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new H3({sourceJSON:t});return e.read(t),e}};v([E()],Ee.prototype,"access",void 0),v([E({type:Date})],Ee.prototype,"created",void 0),v([E()],Ee.prototype,"culture",void 0),v([E()],Ee.prototype,"description",void 0),v([E()],Ee.prototype,"email",void 0),v([E()],Ee.prototype,"favGroupId",void 0),v([E()],Ee.prototype,"fullName",void 0),v([E()],Ee.prototype,"id",void 0),v([E({type:Date})],Ee.prototype,"modified",void 0),v([E()],Ee.prototype,"orgId",void 0),v([E()],Ee.prototype,"portal",void 0),v([E()],Ee.prototype,"preferredView",void 0),v([E()],Ee.prototype,"privileges",void 0),v([E()],Ee.prototype,"region",void 0),v([E()],Ee.prototype,"role",void 0),v([E()],Ee.prototype,"roleId",void 0),v([E()],Ee.prototype,"sourceJSON",void 0),v([E()],Ee.prototype,"thumbnail",void 0),v([E({readOnly:!0})],Ee.prototype,"thumbnailUrl",null),v([E()],Ee.prototype,"units",void 0),v([E({readOnly:!0})],Ee.prototype,"userContentUrl",null),v([E({readOnly:!0})],Ee.prototype,"url",null),v([E()],Ee.prototype,"username",void 0),v([E()],Ee.prototype,"userLicenseTypeId",void 0),v([E()],Ee.prototype,"userType",void 0),Ee=H3=v([tt("esri.portal.PortalUser")],Ee);var kr;let Df;const I8={PortalGroup:()=>Promise.resolve({default:vn}),PortalItem:()=>import("./PortalItem-D8-K5TFM.js"),PortalUser:()=>Promise.resolve({default:Ee})};let at=class extends n_(z3){static{kr=this}static{this.AUTH_MODE_ANONYMOUS="anonymous"}static{this.AUTH_MODE_AUTO="auto"}static{this.AUTH_MODE_IMMEDIATE="immediate"}static{this.AUTH_MODE_NO_PROMPT="no-prompt"}constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.g3DTilesGalleryGroupQuery=null,this.g3dTilesEnabled=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=ae.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){N8.unregister(this),this.defaultBasemap=Id(this.defaultBasemap),this.defaultDevBasemap=Id(this.defaultDevBasemap),this.defaultVectorBasemap=Id(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Zu(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const e of t)ae.request.trustedServers.includes(e)||ae.request.trustedServers.push(e);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const t=this.user?.orgId,e=!t||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get hasAPIKey(){return $Y(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get loaded(){return super.loaded}get restUrl(){let t=this.url;if(t){const e=t.indexOf("/sharing");t=e>0?t.slice(0,e):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,e=this.thumbnail;return t&&e?this._normalizeSSL(t+"/portals/self/resources/"+e):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let e=null;return t&&(e=Ee.fromJSON(t),e.portal=this),e}load(t){const e=import("./Basemap-DR-wR0it.js").then(n=>n.B).then(({default:n})=>{Xu(t),Df=n}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(n=>{if(!this.hasAPIKey&&De){const i=De;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==kr.AUTH_MODE_AUTO&&this.authMode!==kr.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",Knt(new WeakRef(this))),N8.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(e),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),e=(await import("./ElevationLayer-Dj3apTkI.js")).default;return t?t.map(n=>new e({id:n.id,url:n.url})):[]}async fetchBasemaps(t,e){const n=await this._fetchBasemaps(t,e);if(e?.include3d===!0&&this.use3dBasemaps!==!1){const i=await this._fetchBasemaps3D(t,e);n.unshift(...i)}return n}async fetchDefault3DBasemap(t){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const e=new gn;e.query=this.default3DBasemapQuery,e.disableExtraQuery=!0;const n=(await this.queryItems(e,t)).results.find(i=>i.type==="Web Scene");return n?new Df({portalItem:n}):null}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(e=>e.categorySchema):Yo(t)?Promise.reject(Gi()):Promise.resolve([])}async fetchClassificationSchema(t){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",t).then(e=>e.classificationSchema):null}fetchFeaturedGroups(t){const e=this.featuredGroups,n=new gn({num:100,sortField:"title"});if(e?.length){const i=[];for(const r of e)i.push(`(title:"${r.title}" AND owner:${r.owner})`);return n.query=i.join(" OR "),this.queryGroups(n,t).then(r=>r.results)}return Yo(t)?Promise.reject(Gi()):Promise.resolve([])}fetchRegions(t){const e=this.user?.culture||this.culture||$c();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:e}})}fetchSettings(t){const e=this.user?.culture||this.culture||$c();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:e}})}static getDefault(){return Xnt(()=>new kr)}queryGroups(t,e){return this.queryPortal("/community/groups",t,"PortalGroup",e)}queryItems(t,e){return this.queryPortal("/search",t,"PortalItem",e)}queryUsers(t,e){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",e)}fetchSelf(t=this.authMode,e=!1,n){const i=this.restUrl+"/portals/self",r={authMode:t,query:{culture:$c().toLowerCase()},withCredentials:!0,...n};return r.authMode==="auto"&&(r.authMode="no-prompt"),e&&(r.query.default=!0),this.request(i,r)}queryPortal(t,e,n,i){const r=qr(gn,e),s=o=>this.request(this.restUrl+t,{...r.toRequestOptions(this),...i}).then(a=>{const l=r.clone();return l.start=a.nextStart,new qc({nextQueryParams:l,queryParams:r,total:a.total,results:kr._resultsToTypedArray(o,{portal:this},a,i)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(WI(l),a)));return n&&I8[n]?I8[n]().then(({default:o})=>(Xu(i),s(o))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new re("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===kr.AUTH_MODE_ANONYMOUS||this.authMode===kr.AUTH_MODE_NO_PROMPT&&!De)return Promise.reject(new re("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=e=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(e||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate"))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate"))).then(n=>{n&&(this.sourceJSON=n,this.read(n))});return De?De.getCredential(this.restUrl,{prompt:this.authMode!==kr.AUTH_MODE_NO_PROMPT}).then(e=>t(e)):t(this.credential)}normalizeUrl(t){const e=this.credential?.token;return this._normalizeSSL(e?t+(t.includes("?")?"&":"?")+"token="+e:t)}requestToTypedArray(t,e,n){return this.request(t,e).then(i=>{const r=kr._resultsToTypedArray(n,{portal:this},i);return Promise.all(r.map(s=>typeof s.when=="function"?s.when():i)).then(()=>r,()=>r)})}request(t,e={}){const n={f:"json",...e.query},{authMode:i=this.authMode===kr.AUTH_MODE_ANONYMOUS||this.authMode===kr.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:r=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=e,c={authMode:i,body:r,cacheBust:s,method:o,query:n,responseType:a,timeout:0,signal:l};return e.withCredentials&&(c.withCredentials=!0),fn(this._normalizeSSL(t),c).then(p=>p.data)}toJSON(){throw new re("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new kr({sourceJSON:t})}_getHelperService(t){const e=this.helperServices?.[t];if(!e)throw new re("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return e}async _fetchBasemaps(t,e){const n=new gn;n.query=t||(S_()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const i=await this.queryGroups(n,e);if(!i.total)return[];const r=i.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=r.sortField||"name",n.sortOrder=r.sortOrder||"desc";const s=await r.queryItems(n,e);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new Df({portalItem:o})):[]}async _fetchBasemaps3D(t,e){const n=t||this.basemapGalleryGroupQuery3D;if(!n)return[];if(S_())return[];const i=new gn({query:n,disableExtraQuery:!0}),r=await this.queryGroups(i,e);if(!r.total)return[];const s=r.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(i,e);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new Df({portalItem:a})):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const e=Df.fromJSON(t);return e.portalItem={portal:this},e}return null}static _resultsToTypedArray(t,e,n,i){let r;if(n){const s=i!=null?i.signal:null;r=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(t||e)&&(r=r.map(o=>{const a=Object.assign(t?t.fromJSON(o):o,e);return typeof a.load=="function"&&a.load(s),a}))}else r=[];return r}};v([E()],at.prototype,"access",void 0),v([E()],at.prototype,"allSSL",void 0),v([E()],at.prototype,"authMode",void 0),v([E()],at.prototype,"authorizedCrossOriginDomains",void 0),v([dn("authorizedCrossOriginDomains")],at.prototype,"readAuthorizedCrossOriginDomains",null),v([E()],at.prototype,"basemapGalleryGroupQuery",void 0),v([E({json:{name:"3DBasemapGalleryGroupQuery"}})],at.prototype,"basemapGalleryGroupQuery3D",void 0),v([E({json:{name:"g3DTilesGalleryGroupQuery"}})],at.prototype,"g3DTilesGalleryGroupQuery",void 0),v([E({json:{name:"g3dTilesEnabled"}})],at.prototype,"g3dTilesEnabled",void 0),v([E()],at.prototype,"bingKey",void 0),v([E()],at.prototype,"canListApps",void 0),v([E()],at.prototype,"canListData",void 0),v([E()],at.prototype,"canListPreProvisionedItems",void 0),v([E()],at.prototype,"canProvisionDirectPurchase",void 0),v([E()],at.prototype,"canSearchPublic",void 0),v([E()],at.prototype,"canShareBingPublic",void 0),v([E()],at.prototype,"canSharePublic",void 0),v([E()],at.prototype,"canSignInArcGIS",void 0),v([E()],at.prototype,"canSignInIDP",void 0),v([E()],at.prototype,"colorSetsGroupQuery",void 0),v([E()],at.prototype,"commentsEnabled",void 0),v([E({type:Date})],at.prototype,"created",void 0),v([E()],at.prototype,"credential",void 0),v([E()],at.prototype,"culture",void 0),v([E()],at.prototype,"currentVersion",void 0),v([E()],at.prototype,"customBaseUrl",void 0),v([E()],at.prototype,"default3DBasemapQuery",void 0),v([E()],at.prototype,"defaultBasemap",void 0),v([dn("defaultBasemap")],at.prototype,"readDefaultBasemap",null),v([E()],at.prototype,"defaultDevBasemap",void 0),v([dn("defaultDevBasemap")],at.prototype,"readDefaultDevBasemap",null),v([E({type:le})],at.prototype,"defaultExtent",void 0),v([E()],at.prototype,"defaultVectorBasemap",void 0),v([dn("defaultVectorBasemap")],at.prototype,"readDefaultVectorBasemap",null),v([E()],at.prototype,"description",void 0),v([E()],at.prototype,"devBasemapGalleryGroupQuery",void 0),v([E()],at.prototype,"eueiEnabled",void 0),v([E({readOnly:!0})],at.prototype,"extraQuery",null),v([E()],at.prototype,"featuredGroups",void 0),v([E()],at.prototype,"featuredItemsGroupQuery",void 0),v([E()],at.prototype,"galleryTemplatesGroupQuery",void 0),v([E()],at.prototype,"layoutGroupQuery",void 0),v([E()],at.prototype,"livingAtlasGroupQuery",void 0),v([E({readOnly:!0})],at.prototype,"hasAPIKey",null),v([E()],at.prototype,"hasCategorySchema",void 0),v([E()],at.prototype,"hasClassificationSchema",void 0),v([E()],at.prototype,"helpBase",void 0),v([E()],at.prototype,"helperServices",void 0),v([E()],at.prototype,"helpMap",void 0),v([E()],at.prototype,"homePageFeaturedContent",void 0),v([E()],at.prototype,"homePageFeaturedContentCount",void 0),v([E()],at.prototype,"httpPort",void 0),v([E()],at.prototype,"httpsPort",void 0),v([E()],at.prototype,"id",void 0),v([E()],at.prototype,"ipCntryCode",void 0),v([E({readOnly:!0})],at.prototype,"isOrganization",null),v([E()],at.prototype,"isPortal",void 0),v([E()],at.prototype,"isReadOnly",void 0),v([E({readOnly:!0})],at.prototype,"itemPageUrl",null),v([E()],at.prototype,"layerTemplatesGroupQuery",void 0),v([E()],at.prototype,"maxTokenExpirationMinutes",void 0),v([E({type:Date})],at.prototype,"modified",void 0),v([E()],at.prototype,"name",void 0),v([E()],at.prototype,"portalHostname",void 0),v([E()],at.prototype,"portalMode",void 0),v([E()],at.prototype,"portalProperties",void 0),v([E()],at.prototype,"region",void 0),v([E()],at.prototype,"recycleBinEnabled",void 0),v([E({readOnly:!0})],at.prototype,"restUrl",null),v([E()],at.prototype,"rotatorPanels",void 0),v([E()],at.prototype,"showHomePageDescription",void 0),v([E()],at.prototype,"sourceJSON",void 0),v([E()],at.prototype,"staticImagesUrl",void 0),v([E({json:{name:"2DStylesGroupQuery"}})],at.prototype,"stylesGroupQuery2d",void 0),v([E({json:{name:"stylesGroupQuery"}})],at.prototype,"stylesGroupQuery3d",void 0),v([E()],at.prototype,"supportsHostedServices",void 0),v([E()],at.prototype,"symbolSetsGroupQuery",void 0),v([E()],at.prototype,"templatesGroupQuery",void 0),v([E()],at.prototype,"thumbnail",void 0),v([E({readOnly:!0})],at.prototype,"thumbnailUrl",null),v([E()],at.prototype,"units",void 0),v([E()],at.prototype,"url",void 0),v([E()],at.prototype,"urlKey",void 0),v([dn("urlKey")],at.prototype,"readUrlKey",null),v([E()],at.prototype,"user",void 0),v([dn("user")],at.prototype,"readUser",null),v([E()],at.prototype,"use3dBasemaps",void 0),v([E()],at.prototype,"useDefault3dBasemap",void 0),v([E()],at.prototype,"useStandardizedQuery",void 0),v([E()],at.prototype,"useVectorBasemaps",void 0),v([E()],at.prototype,"vectorBasemapGalleryGroupQuery",void 0),at=kr=v([tt("esri.portal.Portal")],at);const N8=new FinalizationRegistry(t=>{t.remove()});function Knt(t){const e=De;return()=>{const n=t.deref();n&&e.findCredential(n.restUrl)&&n.signIn().catch(()=>{})}}let Wi=class extends Vt{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,e,n){t||(e[n]=t)}};v([E({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Wi.prototype,"enabled",void 0),v([Re("enabled")],Wi.prototype,"writeEnabled",null),v([E({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Wi.prototype,"type",void 0),Wi=v([tt("esri.symbols.Symbol3DLayer")],Wi);const tit=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,eit="screenUtils.toPt: input not recognized!",O8=96;function nit(t){return t?t/72*O8:0}function Us(t){return t?72*t/O8:0}function ze(t){if(typeof t=="string"){const e=t.match(tit);if(e){const n=Number(e[1]),i=e[3]&&e[3].toLowerCase(),r=t.startsWith("-"),s=i==="px"?Us(n):n;return r?-s:s}return console.warn(eit),null}return t}function C8(t=0,e=0){return{x:t,y:e}}function iit(t){return t?C8(t.x,t.y):null}function rit(t=0,e=0){return[t,e]}function sit(t=0,e=0,n=0){return[t,e,n]}function oit(t){return t}function ait(t){return t}function lit(t){return t}function cit(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function k8(t){const e=oy(100*(1-t));return Math.max(0,Math.min(e,100))}function R8(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}function uit(t,e){const n=e.transparency!=null?R8(e.transparency):1,i=e.color;return i&&Array.isArray(i)?new pe([i[0]||0,i[1]||0,i[2]||0,n]):null}function hit(t,e){e.color=t.toJSON().slice(0,3);const n=k8(t.a);n!==0&&(e.transparency=n)}function xl(t){return{type:pe,nonNullable:t?.nonNullable,json:{type:[sn],default:null,read:{source:["color","transparency"],reader:uit},write:{target:{color:{type:[sn],isRequired:t?.colorRequiredOnWrite},transparency:{type:sn}},writer:hit}}}}const fo={type:Number,cast:ze,json:{write:!0}};function pit(t){return t==="emissive"?0:1}let Hc=class extends Vt{constructor(t){super(t),this.color=new pe([0,0,0,1]),this.extensionLength=0,this.size=Us(1)}clone(){}cloneProperties(){return{color:ht(this.color),size:this.size,extensionLength:this.extensionLength}}};v([E({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Hc.prototype,"type",void 0),v([E(xl({colorRequiredOnWrite:!0}))],Hc.prototype,"color",void 0),v([E({...fo,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],Hc.prototype,"extensionLength",void 0),v([E(fo)],Hc.prototype,"size",void 0),Hc=v([tt("esri.symbols.edges.Edges3D")],Hc);const Y3=Hc;var J3;let r1=J3=class extends Y3{constructor(t){super(t),this.type="sketch"}clone(){return new J3(this.cloneProperties())}};v([te({sketch:"sketch"},{readOnly:!0})],r1.prototype,"type",void 0),r1=J3=v([tt("esri.symbols.edges.SketchEdges3D")],r1);const dit=r1;var Z3;let s1=Z3=class extends Y3{constructor(t){super(t),this.type="solid"}clone(){return new Z3(this.cloneProperties())}};v([te({solid:"solid"},{readOnly:!0})],s1.prototype,"type",void 0),s1=Z3=v([tt("esri.symbols.edges.SolidEdges3D")],s1);const L8=s1,X3={types:{key:"type",base:Y3,typeMap:{solid:L8,sketch:dit}},json:{write:!0}};var Q3;let Uh=Q3=class extends Vt{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const t={strength:this.strength,source:this.source};return new Q3(t)}};v([E({json:{write:!1}})],Uh.prototype,"strength",void 0),v([E({json:{write:!1}})],Uh.prototype,"source",void 0),Uh=Q3=v([tt("esri.symbols.support.Symbol3DEmissive")],Uh);var K3;let rr=K3=class extends Vt{constructor(t){super(t),this.color=null,this.emissive=new Uh({source:"emissive"})}clone(){const t={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new K3(t)}};v([E(xl())],rr.prototype,"color",void 0),v([E({type:Uh,json:{write:!1}})],rr.prototype,"emissive",void 0),rr=K3=v([tt("esri.symbols.support.Symbol3DMaterial")],rr);var tE;let aa=class extends Wi{static{tE=this}constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new tE({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};v([te({Extrude:"extrude"},{readOnly:!0})],aa.prototype,"type",void 0),v([E({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],aa.prototype,"size",void 0),v([E({type:rr,json:{write:!0}})],aa.prototype,"material",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],aa.prototype,"castShadows",void 0),v([E(X3)],aa.prototype,"edges",void 0),aa=tE=v([tt("esri.symbols.ExtrudeSymbol3DLayer")],aa);let Ff=class extends Vt{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};v([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ff.prototype,"type",void 0),Ff=v([tt("esri.symbols.patterns.LinePattern3D")],Ff);const fit=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var eE;const mit=Hr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Yc=eE=class extends Ff{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new eE(t)}};v([E({type:["style"],json:{write:{isRequired:!0}}})],Yc.prototype,"type",void 0),v([te(mit),E({type:fit,json:{write:{isRequired:!0}}})],Yc.prototype,"style",void 0),Yc=eE=v([tt("esri.symbols.patterns.LineStylePattern3D")],Yc);let jf=class extends Vt{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};v([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],jf.prototype,"type",void 0),jf=v([tt("esri.symbols.patterns.Pattern3D")],jf);const yit=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var nE;let Bh=nE=class extends jf{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new nE({style:this.style})}};v([E({type:["style"],json:{write:{isRequired:!0}}})],Bh.prototype,"type",void 0),v([E({type:yit,json:{read:!0,write:{isRequired:!0}}})],Bh.prototype,"style",void 0),Bh=nE=v([tt("esri.symbols.patterns.StylePattern3D")],Bh);const git={types:{key:"type",base:jf,typeMap:{style:Bh}},json:{write:!0}},P8={types:{key:"type",base:Ff,typeMap:{style:Yc}},json:{write:!0}},$f=new pe("white"),vit=new pe([255,255,255,0]);function bit(t){return t.r===0&&t.g===0&&t.b===0}var iE;let Gf=iE=class extends rr{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new iE(t)}};v([te({multiply:"multiply",replace:"replace",tint:"tint"})],Gf.prototype,"colorMixMode",void 0),Gf=iE=v([tt("esri.symbols.support.Symbol3DFillMaterial")],Gf);function o1(){return[0,0,0]}function D8(t){return[t[0],t[1],t[2]]}function Jc(t,e,n){return[t,e,n]}function F8(t,e,n){return[t,e,n]}function j8(t,e=o1()){const n=Math.min(3,t.length);for(let i=0;i<n;++i)e[i]=t[i];return e}function rE(){return o1()}function sE(){return Jc(1,1,1)}function $8(){return Jc(1,0,0)}function G8(){return Jc(0,1,0)}function U8(){return Jc(0,0,1)}const B8=rE(),V8=sE(),z8=$8(),W8=G8(),q8=U8();Object.freeze(Object.defineProperty({__proto__:null,ONES:V8,UNIT_X:z8,UNIT_Y:W8,UNIT_Z:q8,ZEROS:B8,clone:D8,create:o1,freeze:F8,fromArray:j8,fromValues:Jc,ones:sE,unitX:$8,unitY:G8,unitZ:U8,zeros:rE},Symbol.toStringTag,{value:"Module"}));function a1(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function H8(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function Y8(t,e,n,i,r,s,o,a,l,c,p,d,f,y,g,b){return[t,e,n,i,r,s,o,a,l,c,p,d,f,y,g,b]}const J8=a1();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:J8,clone:H8,create:a1,fromValues:Y8},Symbol.toStringTag,{value:"Module"}));function Z8(t){return t<=cw?new Array(t).fill(0):new Float64Array(t)}function wit(t){return(vI(t)?t.byteLength/8:t.length)<=cw?Array.from(t):new Float64Array(t)}function _it(t,e,n){return Array.isArray(t)?t.slice(e,e+n):t.subarray(e,e+n)}function xit(t){return[...t]}function Eit(t){const e=a1();for(let n=0;n<16;++n)e[n]=t[n];return e}function Vh(t=K8){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function l1(t,e,n,i,r,s,o=Vh()){return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o[4]=r,o[5]=s,o}function Sit(t,e=Vh()){return X8(t,0,t.length/3,e)}function X8(t,e,n,i=Vh()){return oE(i,c1),Q8(i,t,e,n),i}function Ait(t,e=Z8(24)){const[n,i,r,s,o,a]=t;return e[0]=n,e[1]=i,e[2]=r,e[3]=n,e[4]=i,e[5]=a,e[6]=n,e[7]=o,e[8]=r,e[9]=n,e[10]=o,e[11]=a,e[12]=s,e[13]=i,e[14]=r,e[15]=s,e[16]=i,e[17]=a,e[18]=s,e[19]=o,e[20]=r,e[21]=s,e[22]=o,e[23]=a,e}function Mit(t,e){const n=isFinite(t[2])||isFinite(t[5]);return new le(n?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function Tit(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function Iit(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function Nit(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function Q8(t,e,n=0,i=e.length/3){let r=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let p=0;p<i;p++)r=Math.min(r,e[n+3*p]),s=Math.min(s,e[n+3*p+1]),o=Math.min(o,e[n+3*p+2]),a=Math.max(a,e[n+3*p]),l=Math.max(l,e[n+3*p+1]),c=Math.max(c,e[n+3*p+2]);t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=c}function Oit(t,e,n){const i=e.length;let r=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];if(n)for(let p=0;p<i;p++){const d=e[p];r=Math.min(r,d[0]),s=Math.min(s,d[1]),o=Math.min(o,d[2]),a=Math.max(a,d[0]),l=Math.max(l,d[1]),c=Math.max(c,d[2])}else for(let p=0;p<i;p++){const d=e[p];r=Math.min(r,d[0]),s=Math.min(s,d[1]),a=Math.max(a,d[0]),l=Math.max(l,d[1])}t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=c}function Cit(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function zh(t){return t[0]>=t[3]?0:t[3]-t[0]}function Wh(t){return t[1]>=t[4]?0:t[4]-t[1]}function qh(t){return t[2]>=t[5]?0:t[5]-t[2]}function kit(t){const e=zh(t),n=qh(t),i=Wh(t);return Math.sqrt(e*e+n*n+i*i)}function Rit(t,e=[0,0,0]){return e[0]=t[0]+zh(t)/2,e[1]=t[1]+Wh(t)/2,e[2]=t[2]+qh(t)/2,e}function Lit(t,e=[0,0,0]){return e[0]=zh(t),e[1]=Wh(t),e[2]=qh(t),e}function Pit(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function Dit(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function Fit(t,e){return e==null||Dit(t,e)}function jit(t,e,n,i,r=t){return r[0]=t[0]+e,r[1]=t[1]+n,r[2]=t[2]+i,r[3]=t[3]+e,r[4]=t[4]+n,r[5]=t[5]+i,r}function $it(t,e,n=t){const i=t[0]+zh(t)/2,r=t[1]+Wh(t)/2,s=t[2]+qh(t)/2;return n[0]=i+(t[0]-i)*e,n[1]=r+(t[1]-r)*e,n[2]=s+(t[2]-s)*e,n[3]=i+(t[3]-i)*e,n[4]=r+(t[4]-r)*e,n[5]=s+(t[5]-s)*e,n}function Git(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Uit(t,e,n=t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n!==t&&(n[3]=t[3],n[4]=t[4],n[5]=t[5]),n}function Bit(t,e,n=t){return n[3]=e[0],n[4]=e[1],n[5]=e[2],n!==t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),t}function oE(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Vit(t){return t?oE(t,c1):Vh(c1)}function zit(t,e=Cc()){return e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function Wit(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function qit(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=Number.NEGATIVE_INFINITY,t[3]=i,t[4]=r,t[5]=Number.POSITIVE_INFINITY,t}function aE(t){return t.length===6}function Hit(t){return zh(t)===0&&Wh(t)===0&&qh(t)===0}function Yit(t,e,n){if(t==null||e==null)return t===e;if(!aE(t)||!aE(e))return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}const c1=[1/0,1/0,1/0,-1/0,-1/0,-1/0],K8=[0,0,0,0,0,0];Vh();function Jit(t,{isPrimitive:e,width:n,depth:i,height:r}){const s=e?10:1;if(n==null&&r==null&&i==null)return[s*t[0],s*t[1],s*t[2]];const o=Jc(n,i,r);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/t[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=t[l]*a);return o}const Zit=l1(-.5,-.5,-.5,.5,.5,.5),Xit=l1(-.5,-.5,0,.5,.5,1),Qit=l1(-.5,-.5,0,.5,.5,.5);function Kit(t){switch(t){case"sphere":case"cube":case"diamond":return Zit;case"cylinder":case"cone":case"inverted-cone":return Xit;case"tetrahedron":return Qit;default:return}}const lE=["butt","square","round"],trt=[...lE,"none"],tL=["miter","bevel","round"];var cE;let Zc=cE=class extends Vt{constructor(t){super(t),this.color=new pe([0,0,0,1]),this.size=Us(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new cE(t)}};v([E(xl({colorRequiredOnWrite:!0}))],Zc.prototype,"color",void 0),v([E({...fo,json:{write:{isRequired:!0}}})],Zc.prototype,"size",void 0),v([E(P8)],Zc.prototype,"pattern",void 0),v([E({type:lE,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Zc.prototype,"patternCap",void 0),Zc=cE=v([tt("esri.symbols.support.Symbol3DOutline")],Zc);var u1;let xi=class extends Wi{static{u1=this}constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new u1(t)}static fromSimpleFillSymbol(t){const e=t.outline&&t.outline.style&&t.outline.style!=="solid"?new Yc({style:t.outline.style}):null,n={size:t.outline?.width??0,color:(t.outline?.color??$f).clone(),pattern:e};return e&&t.outline?.cap&&(n.patternCap=t.outline.cap),new u1({material:new Gf({color:(t.color??vit).clone()}),pattern:t.style&&t.style!=="solid"?new Bh({style:t.style}):null,outline:n})}};v([te({Fill:"fill"},{readOnly:!0})],xi.prototype,"type",void 0),v([E({type:Gf,json:{write:!0}})],xi.prototype,"material",void 0),v([E(git)],xi.prototype,"pattern",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],xi.prototype,"castShadows",void 0),v([E({type:Zc,json:{write:!0}})],xi.prototype,"outline",void 0),v([E(X3)],xi.prototype,"edges",void 0),xi=u1=v([tt("esri.symbols.FillSymbol3DLayer")],xi);var uE;const ert=Hr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Xc=uE=class extends Vt{constructor(t){super(t)}readHref(t,e,n){return t?lh(t,n):e.dataURI}writeHref(t,e,n,i){t&&(_c(t)?e.dataURI=t:(e.href=zd(t,i),Zr(e.href)&&(e.href=Ko(e.href))))}clone(){return new uE({href:this.href,primitive:this.primitive})}equals(t){return t.primitive===this.primitive&&t.href===this.href}};v([E({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Xc.prototype,"href",void 0),v([dn("href")],Xc.prototype,"readHref",null),v([Re("href",{href:{type:String},dataURI:{type:String}})],Xc.prototype,"writeHref",null),v([te(ert)],Xc.prototype,"primitive",void 0),Xc=uE=v([tt("esri.symbols.support.IconSymbol3DLayerResource")],Xc);const nrt="circle";let h1=class extends Vi(Vt){constructor(t){super(t),this.mode="hidden"}equals(t){return this.mode===t.mode}};v([E({type:["adaptive","hidden","visible"],json:{write:{isRequired:!0}}})],h1.prototype,"mode",void 0),h1=v([tt("esri.symbols.support.OccludedVisibility")],h1);const eL=h1;var hE;let Qc=hE=class extends Wn{constructor(t){super(t),this.x=0,this.y=0}clone(){return new hE({x:this.x,y:this.y})}equals(t){return t.x===this.x&&t.y===this.y}};v([E({type:Number})],Qc.prototype,"x",void 0),v([E({type:Number})],Qc.prototype,"y",void 0),Qc=hE=v([tt("esri.symbols.support.Symbol3DAnchorPosition2D")],Qc);var pE;let Uf=pE=class extends Vt{constructor(t){super(t),this.color=new pe([0,0,0,1]),this.size=Us(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new pE(t)}equals(t){return t.size===this.size&&(this.color==null?t.color==null:this.color.equals(t.color))}};v([E(xl({colorRequiredOnWrite:!0}))],Uf.prototype,"color",void 0),v([E({...fo,json:{write:{isRequired:!0}}})],Uf.prototype,"size",void 0),Uf=pE=v([tt("esri.symbols.support.Symbol3DIconOutline")],Uf);var Hh;let Hn=class extends Wi{static{Hh=this}constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0,this.occludedVisibility=null}clone(){return new Hh({anchor:this.anchor,anchorPosition:ht(this.anchorPosition),enabled:this.enabled,material:ht(this.material),outline:ht(this.outline),resource:ht(this.resource),angle:this.angle,size:this.size,occludedVisibility:ht(this.occludedVisibility)})}static fromSimpleMarkerSymbol(t){const e=t.color||$f,n=nL(t),i=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||$f).clone()}:null;return new Hh({size:t.size,angle:t.angle,resource:{primitive:rrt(()=>Oe.getLogger(this.prototype),t.style)},material:{color:e},outline:i,anchor:n?"relative":void 0,anchorPosition:n})}static fromPictureMarkerSymbol(t){const e=!t.color||bit(t.color)?$f:t.color,n=nL(t);return new Hh({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:e.clone()},anchor:n?"relative":void 0,anchorPosition:n})}static fromCIMSymbol(t){return new Hh({resource:{href:pO({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};function nL(t){const e="width"in t?t.width:t.size,n="height"in t?t.height:t.size,i=iL(t.xoffset),r=iL(t.yoffset);return(i||r)&&e&&n?{x:-i/e,y:r/n}:null}function iL(t){return isFinite(t)?t:0}v([E({type:rr,json:{write:!0}})],Hn.prototype,"material",void 0),v([E({type:Xc,json:{write:!0}})],Hn.prototype,"resource",void 0),v([te({Icon:"icon"},{readOnly:!0})],Hn.prototype,"type",void 0),v([E({...fo,json:{write:{isRequired:!0}}})],Hn.prototype,"size",void 0),v([te({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],Hn.prototype,"anchor",void 0),v([E({type:Qc,json:{type:[Number],read:{reader:t=>new Qc({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Hn.prototype,"anchorPosition",void 0),v([E({type:Uf,json:{write:!0}})],Hn.prototype,"outline",void 0),v([E({type:Number,json:{write:!0,default:0}})],Hn.prototype,"angle",void 0),v([E({type:eL})],Hn.prototype,"occludedVisibility",void 0),Hn=Hh=v([tt("esri.symbols.IconSymbol3DLayer")],Hn);const irt={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function rrt(t,e){return irt[e]||(t().warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const srt=["begin","end","begin-end"],rL=["arrow","circle","square","diamond","cross","x"];let la=class extends Vi(Vt){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};v([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],la.prototype,"type",void 0),v([E({type:srt,json:{default:"begin-end",write:!0}})],la.prototype,"placement",void 0),v([E({type:rL,json:{default:"arrow",write:!0}})],la.prototype,"style",void 0),v([E({type:pe,json:{type:[sn],default:null,write:!0}})],la.prototype,"color",void 0),la=v([tt("esri.symbols.LineStyleMarker3D")],la);var p1;let qi=class extends Wi{static{p1=this}constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Us(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new p1(t)}static fromSimpleLineSymbol(t){const e={enabled:!0,size:t.width??Us(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new Yc({style:t.style}):null,material:new rr({color:(t.color||$f).clone()}),marker:t.marker?new la({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new p1(e)}};v([E({type:rr,json:{write:!0}})],qi.prototype,"material",void 0),v([te({Line:"line"},{readOnly:!0})],qi.prototype,"type",void 0),v([E({type:tL,json:{write:!0,default:"miter"}})],qi.prototype,"join",void 0),v([E({type:lE,json:{write:!0,default:"butt"}})],qi.prototype,"cap",void 0),v([E({...fo,json:{write:{isRequired:!0}}})],qi.prototype,"size",void 0),v([E(P8)],qi.prototype,"pattern",void 0),v([E({types:{key:"type",base:la,typeMap:{style:la}},json:{write:!0}})],qi.prototype,"marker",void 0),qi=p1=v([tt("esri.symbols.LineSymbol3DLayer")],qi);var dE;const ort=Hr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Bf=dE=class extends Vt{clone(){return new dE({href:this.href,primitive:this.primitive})}};v([E({type:String,json:{read:qy,write:xc}})],Bf.prototype,"href",void 0),v([te(ort)],Bf.prototype,"primitive",void 0),Bf=dE=v([tt("esri.symbols.support.ObjectSymbol3DLayerResource")],Bf);const art="sphere";var fE;let Kc=fE=class extends Wn{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new fE({x:this.x,y:this.y,z:this.z})}};v([E({type:Number})],Kc.prototype,"x",void 0),v([E({type:Number})],Kc.prototype,"y",void 0),v([E({type:Number})],Kc.prototype,"z",void 0),Kc=fE=v([tt("esri.symbols.support.Symbol3DAnchorPosition3D")],Kc);var mE;let Yn=class extends Wi{static{mE=this}constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new mE({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};v([E({type:rr,json:{write:!0}})],Yn.prototype,"material",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Yn.prototype,"castShadows",void 0),v([E({type:Bf,json:{write:!0}})],Yn.prototype,"resource",void 0),v([te({Object:"object"},{readOnly:!0})],Yn.prototype,"type",void 0),v([E({type:Number,json:{write:!0}})],Yn.prototype,"width",void 0),v([E({type:Number,json:{write:!0}})],Yn.prototype,"height",void 0),v([E({type:Number,json:{write:!0}})],Yn.prototype,"depth",void 0),v([te({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],Yn.prototype,"anchor",void 0),v([E({type:Kc,json:{type:[Number],read:{reader:t=>new Kc({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Yn.prototype,"anchorPosition",void 0),v([E({type:Number,json:{write:!0}})],Yn.prototype,"heading",void 0),v([E({type:Number,json:{write:!0}})],Yn.prototype,"tilt",void 0),v([E({type:Number,json:{write:!0}})],Yn.prototype,"roll",void 0),v([E({readOnly:!0})],Yn.prototype,"isPrimitive",null),Yn=mE=v([tt("esri.symbols.ObjectSymbol3DLayer")],Yn);var yE;let ci=class extends Wi{static{yE=this}constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,e){return t??(e.height==null&&e.size!=null?e.size:void 0)}readHeight(t,e){return t??(e.width==null&&e.size!=null?e.size:void 0)}clone(){return new yE({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};v([E({type:rr,json:{write:!0}})],ci.prototype,"material",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ci.prototype,"castShadows",void 0),v([te({Path:"path"},{readOnly:!0})],ci.prototype,"type",void 0),v([E({type:["circle","quad"],nonNullable:!0,json:{write:!0,default:"circle"}})],ci.prototype,"profile",void 0),v([E({type:tL,nonNullable:!0,json:{write:!0,default:"miter"}})],ci.prototype,"join",void 0),v([E({type:trt,nonNullable:!0,json:{write:!0,default:"butt"}})],ci.prototype,"cap",void 0),v([E({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],ci.prototype,"width",void 0),v([dn("width",["width","size","height"])],ci.prototype,"readWidth",null),v([E({type:Number,json:{write:!0}})],ci.prototype,"height",void 0),v([dn("height",["height","size","width"])],ci.prototype,"readHeight",null),v([E({type:["center","bottom","top"],nonNullable:!0,json:{write:!0,default:"center"}})],ci.prototype,"anchor",void 0),v([E({type:["heading","all"],nonNullable:!0,json:{write:!0,default:"all"}})],ci.prototype,"profileRotation",void 0),ci=yE=v([tt("esri.symbols.PathSymbol3DLayer")],ci);const lrt=["none","underline","line-through"],crt=["normal","italic","oblique"],urt=["normal","lighter","bold","bolder"],sL={type:Number,cast:t=>{const e=Md(t);return e===0?1:Ju(e,.1,4)},nonNullable:!0},hrt=["left","right","center"],prt=["baseline","top","middle","bottom"],oL={type:hrt,nonNullable:!0},aL={type:prt,nonNullable:!0},drt=8;var gE;let Rr=gE=class extends Vt{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return ze(t)}clone(){return new gE({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};v([E({type:lrt,json:{default:"none",write:!0}})],Rr.prototype,"decoration",void 0),v([E({type:String,json:{write:!0}})],Rr.prototype,"family",void 0),v([E({type:Number,json:{write:{overridePolicy:(t,e,n)=>({enabled:!n||!n.textSymbol3D})}}})],Rr.prototype,"size",void 0),v([dh("size")],Rr.prototype,"castSize",null),v([E({type:crt,json:{default:"normal",write:!0}})],Rr.prototype,"style",void 0),v([E({type:urt,json:{default:"normal",write:!0}})],Rr.prototype,"weight",void 0),Rr=gE=v([tt("esri.symbols.Font")],Rr);var vE;let Yh=vE=class extends Vt{constructor(){super(...arguments),this.color=new pe([0,0,0,1]),this.size=0}clone(){const t={color:ht(this.color),size:this.size};return new vE(t)}};v([E(xl())],Yh.prototype,"color",void 0),v([E(fo)],Yh.prototype,"size",void 0),Yh=vE=v([tt("esri.symbols.support.Symbol3DHalo")],Yh);let Vf=class extends Vi(Vt){constructor(t){super(t),this.color=null}};v([E(xl())],Vf.prototype,"color",void 0),Vf=v([tt("esri.symbols.support.Symbol3DTextBackground")],Vf);var d1;let Tn=class extends Wi{static{d1=this}constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline",this.occludedVisibility=null}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,e,n,i){const r={...i,textSymbol3D:!0};e.font=t.write({},r),delete e.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new d1({enabled:this.enabled,font:ht(this.font),halo:ht(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ht(this.background),occludedVisibility:ht(this.occludedVisibility)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new d1({font:t.font!=null?t.font.clone():new Rr,halo:frt(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new rr({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new Vf({color:t.backgroundColor.clone()}):null})}};function frt(t,e){return t&&e!=null&&e>0?new Yh({color:ht(t),size:e}):null}v([E({type:Rr,json:{write:!0}})],Tn.prototype,"font",null),v([Re("font")],Tn.prototype,"writeFont",null),v([E({type:Yh,json:{write:!0}})],Tn.prototype,"halo",void 0),v([E({...oL,json:{default:"center",write:!0}})],Tn.prototype,"horizontalAlignment",void 0),v([E({...sL,json:{default:1,write:!0}})],Tn.prototype,"lineHeight",void 0),v([E({type:rr,json:{write:!0}})],Tn.prototype,"material",void 0),v([E({type:Vf,json:{write:!0}})],Tn.prototype,"background",void 0),v([E(fo)],Tn.prototype,"size",null),v([E({type:String,json:{write:!0}})],Tn.prototype,"text",void 0),v([te({Text:"text"},{readOnly:!0})],Tn.prototype,"type",void 0),v([E({...aL,json:{default:"baseline",write:!0}})],Tn.prototype,"verticalAlignment",void 0),v([E({type:eL})],Tn.prototype,"occludedVisibility",void 0),Tn=d1=v([tt("esri.symbols.TextSymbol3DLayer")],Tn);var bE;let ca=class extends Wi{static{bE=this}constructor(t){super(t),this.color=wE.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new bE({color:this.color.clone(),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};v([E({type:pe,nonNullable:!0,json:{type:[sn],write:(t,e,n)=>e[n]=t.toArray(1),default:()=>wE.clone(),defaultEquals:t=>t.toCss(!0)===wE.toCss(!0)}})],ca.prototype,"color",void 0),v([te({Water:"water"},{readOnly:!0})],ca.prototype,"type",void 0),v([E({type:["small","medium","large"],json:{write:!0,default:"medium"}})],ca.prototype,"waterbodySize",void 0),v([E({type:Number,json:{write:!0,default:null}})],ca.prototype,"waveDirection",void 0),v([E({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],ca.prototype,"waveStrength",void 0),ca=bE=v([tt("esri.symbols.WaterSymbol3DLayer")],ca);const wE=new pe([0,119,190]);var _E;let mo=_E=class extends Wn{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new _E({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};v([E({type:String})],mo.prototype,"name",void 0),v([E({type:String})],mo.prototype,"styleUrl",void 0),v([E({type:String})],mo.prototype,"styleName",void 0),v([E({type:at})],mo.prototype,"portal",void 0),mo=_E=v([tt("esri.symbols.support.StyleOrigin")],mo);var xE;let Jh=xE=class extends Wn{constructor(){super(...arguments),this.url=""}clone(){return new xE({url:this.url})}};v([E({type:String})],Jh.prototype,"url",void 0),Jh=xE=v([tt("esri.symbols.support.Thumbnail")],Jh);const lL={icon:Hn,object:Yn,line:qi,path:ci,fill:xi,extrude:aa,text:Tn,water:ca},mrt=fe.ofType({base:Wi,key:"type",typeMap:lL,errorContext:"symbol-layer"});let sr=class extends yn{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const e=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=e?.type,i=n||fe;this._set("symbolLayers",new i)}get color(){return null}set color(t){this.constructed&&Oe.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){x8(t,this._get("symbolLayers"))}readStyleOrigin(t,e,n){if(t.styleUrl&&t.name){const i=lh(t.styleUrl,n);return new mo({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new mo({portal:n?.portal||at.getDefault(),styleName:t.styleName,name:t.name});n?.messages&&n.messages.push(new eh("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,e,n,i){if(t.styleUrl&&t.name){let r=zd(t.styleUrl,i);Zr(r)&&(r=Ko(r)),e.styleOrigin={styleUrl:r,name:t.name}}else t.styleName&&t.name&&(t.portal&&i?.portal&&!uO(t.portal.restUrl,i.portal.restUrl)?i?.messages&&i.messages.push(new eh("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):e.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Wi||t&&lL[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};v([E({json:{read:!1,write:!1}})],sr.prototype,"color",null),v([E({type:mrt,nonNullable:!0,json:{write:!0}}),dh(E8)],sr.prototype,"symbolLayers",null),v([E({type:mo})],sr.prototype,"styleOrigin",void 0),v([dn("styleOrigin")],sr.prototype,"readStyleOrigin",null),v([Re("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],sr.prototype,"writeStyleOrigin",null),v([E({type:Jh,json:{read:!1}})],sr.prototype,"thumbnail",void 0),v([E({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],sr.prototype,"type",void 0),sr=v([tt("esri.symbols.Symbol3D")],sr);let Zh=class extends Vt{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};v([E({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],Zh.prototype,"type",void 0),v([E({readOnly:!0})],Zh.prototype,"visible",void 0),Zh=v([tt("esri.symbols.callouts.Callout3D")],Zh);var EE;let f1=EE=class extends Vt{constructor(t){super(t),this.color=new pe("white")}clone(){return new EE({color:ht(this.color)})}};v([E(xl({colorRequiredOnWrite:!0}))],f1.prototype,"color",void 0),f1=EE=v([tt("esri.symbols.callouts.LineCallout3DBorder")],f1);const cL=f1;var SE;let yo=SE=class extends Zh{constructor(t){super(t),this.type="line",this.color=new pe([0,0,0,1]),this.size=Us(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new SE({color:ht(this.color),size:this.size,border:ht(this.border)})}};v([te({line:"line"})],yo.prototype,"type",void 0),v([E(xl({colorRequiredOnWrite:!0}))],yo.prototype,"color",void 0),v([E({...fo,json:{write:{isRequired:!0}}})],yo.prototype,"size",void 0),v([E({type:cL,json:{write:!0}})],yo.prototype,"border",void 0),v([E({readOnly:!0})],yo.prototype,"visible",null),yo=SE=v([tt("esri.symbols.callouts.LineCallout3D")],yo);function AE(t){if(!t)return!1;const e=t.verticalOffset;return!(!e||e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function uL(t){return!t||!t.supportsCallout||!t.supportsCallout()?!1:!!t.callout?.visible&&!!AE(t)}function yrt(t){return t.type==="point-3d"||t.type==="label-3d"}function grt(t){return t.horizontalAlignment==="center"}const hL={types:{key:"type",base:Zh,typeMap:{line:yo}},json:{write:!0}};var ME;let ua=ME=class extends Vt{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new ME({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};v([E({...fo,json:{write:{isRequired:!0}}})],ua.prototype,"screenLength",void 0),v([E({type:Number,nonNullable:!0,json:{write:!0,default:0}})],ua.prototype,"minWorldLength",void 0),v([E({type:Number,json:{write:!0}})],ua.prototype,"maxWorldLength",void 0),ua=ME=v([tt("esri.symbols.support.Symbol3DVerticalOffset")],ua);var m1;const pL=fe.ofType({base:null,key:"type",typeMap:{text:Tn}});let ss=m1=class extends sr{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new pL,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return uL(this)}hasVisibleVerticalOffset(){return AE(this)}clone(){return new m1({styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail),callout:ht(this.callout),verticalOffset:ht(this.verticalOffset)})}static fromTextSymbol(t){return new m1({symbolLayers:new fe([Tn.fromTextSymbol(t)])})}};v([E({type:ua,json:{write:!0}})],ss.prototype,"verticalOffset",void 0),v([E(hL)],ss.prototype,"callout",void 0),v([E({json:{read:!1,write:!1}})],ss.prototype,"styleOrigin",void 0),v([E({type:pL})],ss.prototype,"symbolLayers",void 0),v([te({LabelSymbol3D:"label-3d"},{readOnly:!0})],ss.prototype,"type",void 0),ss=m1=v([tt("esri.symbols.LabelSymbol3D")],ss);var y1;const dL=fe.ofType({base:null,key:"type",typeMap:{line:qi,path:ci}}),vrt=fe.ofType({base:null,key:"type",typeMap:{line:qi,path:ci}});let Bs=y1=class extends sr{constructor(t){super(t),this.symbolLayers=new dL,this.type="line-3d"}clone(){return new y1({styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail)})}static fromSimpleLineSymbol(t){return new y1({symbolLayers:new fe([qi.fromSimpleLineSymbol(t)])})}};v([E({type:dL,json:{type:vrt}})],Bs.prototype,"symbolLayers",void 0),v([te({LineSymbol3D:"line-3d"},{readOnly:!0})],Bs.prototype,"type",void 0),Bs=y1=v([tt("esri.symbols.LineSymbol3D")],Bs);var g1;const fL=fe.ofType({base:null,key:"type",typeMap:{fill:xi}});let go=g1=class extends sr{constructor(t){super(t),this.symbolLayers=new fL,this.type="mesh-3d"}clone(){return new g1({styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail)})}static fromSimpleFillSymbol(t){return new g1({symbolLayers:new fe([xi.fromSimpleFillSymbol(t)])})}};v([E({type:fL})],go.prototype,"symbolLayers",void 0),v([te({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],go.prototype,"type",void 0),go=g1=v([tt("esri.symbols.MeshSymbol3D")],go);let zf=class extends yn{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};v([te({esriSLS:"simple-line"},{readOnly:!0})],zf.prototype,"type",void 0),v([E({type:Number,cast:ze,json:{write:!0}})],zf.prototype,"width",void 0),zf=v([tt("esri.symbols.LineSymbol")],zf);var TE;let vo=TE=class extends Vt{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,n,i){e[n]=i?.origin==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,n,i){i?.origin==="web-map"||(e[n]=t)}clone(){return new TE({color:ht(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};v([E({type:["begin","end","begin-end"],json:{write:!0}})],vo.prototype,"placement",void 0),v([te({"line-marker":"line-marker"},{readOnly:!0}),E({json:{origins:{"web-map":{write:!1}}}})],vo.prototype,"type",void 0),v([E({type:rL})],vo.prototype,"style",void 0),v([Re("style")],vo.prototype,"writeStyle",null),v([E({type:pe,value:null,json:{write:{allowNull:!0}}})],vo.prototype,"color",null),v([dn("color")],vo.prototype,"readColor",null),v([Re("color")],vo.prototype,"writeColor",null),vo=TE=v([tt("esri.symbols.LineSymbolMarker")],vo);const brt=vo;var IE;const NE=new Os({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Un=IE=class extends zf{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,n,i,r,s){if(t&&typeof t!="string")return t;const o={};return t!=null&&(o.style=t),e!=null&&(o.color=e),n!=null&&(o.width=ze(n)),i!=null&&(o.cap=i),r!=null&&(o.join=r),s!=null&&(o.miterLimit=ze(s)),o}clone(){return new IE({color:ht(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};v([te({esriSLS:"simple-line"},{readOnly:!0})],Un.prototype,"type",void 0),v([E({type:NE.apiValues,json:{read:NE.read,write:NE.write}})],Un.prototype,"style",void 0),v([E({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,n)=>({enabled:t!=="round"&&n?.origin==null})}}})],Un.prototype,"cap",void 0),v([E({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,n)=>({enabled:t!=="round"&&n?.origin==null})}}})],Un.prototype,"join",void 0),v([E({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":brt}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Un.prototype,"marker",void 0),v([E({type:Number,json:{read:!1,write:!1}})],Un.prototype,"miterLimit",void 0),Un=IE=v([tt("esri.symbols.SimpleLineSymbol")],Un);let Xh=class extends yn{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};v([E({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Un}},json:{default:null,write:!0}})],Xh.prototype,"outline",void 0),v([E({type:["simple-fill","picture-fill"],readOnly:!0})],Xh.prototype,"type",void 0),Xh=v([tt("esri.symbols.FillSymbol")],Xh);function wrt(t,e,n){return e.imageData?pO({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):mL(e.url,n)}function mL(t,e){if(!Zr(t)){const n=xrt(e);if(n)return Vd(n,"images",t)}return lh(t,e)}function _rt(t,e,n,i){if(_c(t)){const r=ah(t);if(!r)return;e.contentType=r.mediaType,e.imageData=r.data,n&&n.imageData===e.imageData&&n.url&&xc(n.url,e,"url",i)}else xc(t,e,"url",i)}const yL={json:{read:{source:["imageData","url"],reader:wrt},write:{writer(t,e,n,i){_rt(t,e,this.source,i)}}}},gL={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,n){const i={};return e.imageData&&(i.imageData=e.imageData),e.contentType&&(i.contentType=e.contentType),e.url&&(i.url=mL(e.url,n)),i}}}};function xrt(t){if(!t)return null;const{origin:e,layer:n}=t;if(e!=="service"&&e!=="portal-item")return null;const i=n?.type;return i==="feature"||i==="stream"?n.parsedUrl?.path:i==="map-image"||i==="tile"?t.url?.path:null}var OE;let or=OE=class extends Xh{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,n,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const r={};return t&&(r.url=t),e&&(r.outline=e),n!=null&&(r.width=ze(n)),i!=null&&(r.height=ze(i)),r}clone(){const t=new OE({color:ht(this.color),height:this.height,outline:ht(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",ht(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};v([te({esriPFS:"picture-fill"},{readOnly:!0})],or.prototype,"type",void 0),v([E(yL)],or.prototype,"url",void 0),v([E({type:Number,json:{write:!0}})],or.prototype,"xscale",void 0),v([E({type:Number,json:{write:!0}})],or.prototype,"yscale",void 0),v([E({type:Number,cast:ze,json:{write:!0}})],or.prototype,"width",void 0),v([E({type:Number,cast:ze,json:{write:!0}})],or.prototype,"height",void 0),v([E({type:Number,cast:ze,json:{write:!0}})],or.prototype,"xoffset",void 0),v([E({type:Number,cast:ze,json:{write:!0}})],or.prototype,"yoffset",void 0),v([E(gL)],or.prototype,"source",void 0),or=OE=v([tt("esri.symbols.PictureFillSymbol")],or);let ha=class extends yn{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};v([E({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],ha.prototype,"angle",void 0),v([E({type:["simple-marker","picture-marker"],readOnly:!0})],ha.prototype,"type",void 0),v([E({type:Number,cast:ze,json:{write:!0}})],ha.prototype,"xoffset",void 0),v([E({type:Number,cast:ze,json:{write:!0}})],ha.prototype,"yoffset",void 0),v([E({cast:t=>t==="auto"?t:Md(ze(t)),json:{write:!0}})],ha.prototype,"size",void 0),ha=v([tt("esri.symbols.MarkerSymbol")],ha);var CE;let ui=CE=class extends ha{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string"&&t.imageData==null)return t;const i={};return t&&(i.url=t),e!=null&&(i.width=ze(e)),n!=null&&(i.height=ze(n)),i}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new CE({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",ht(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};v([E({json:{write:!1}})],ui.prototype,"color",void 0),v([te({esriPMS:"picture-marker"},{readOnly:!0})],ui.prototype,"type",void 0),v([E(yL)],ui.prototype,"url",void 0),v([E(gL)],ui.prototype,"source",void 0),v([E({type:Number,cast:ze,json:{write:!0}})],ui.prototype,"height",void 0),v([dn("height",["height","size"])],ui.prototype,"readHeight",null),v([E({type:Number,cast:ze,json:{write:!0}})],ui.prototype,"width",void 0),v([E({json:{write:!1}})],ui.prototype,"size",void 0),ui=CE=v([tt("esri.symbols.PictureMarkerSymbol")],ui);var tu;const vL=fe.ofType({base:null,key:"type",typeMap:{icon:Hn,object:Yn,text:Tn}});let Ei=tu=class extends sr{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new vL,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return uL(this)}hasVisibleVerticalOffset(){return AE(this)}clone(){return new tu({verticalOffset:ht(this.verticalOffset),callout:ht(this.callout),styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new tu({symbolLayers:new fe([Hn.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new tu({symbolLayers:new fe([Hn.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if(t.data?.symbol?.type!=="CIMPointSymbol")return null;const e=t.data.symbol;return new tu(e?.callout?{symbolLayers:new fe([Hn.fromCIMSymbol(t)]),callout:new yo({size:.5,color:new pe([0,0,0])}),verticalOffset:new ua({screenLength:40})}:{symbolLayers:new fe([Hn.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new tu({symbolLayers:new fe([Tn.fromTextSymbol(t)])})}};v([E({type:ua,json:{write:!0}})],Ei.prototype,"verticalOffset",void 0),v([E(hL)],Ei.prototype,"callout",void 0),v([E({type:vL,json:{origins:{"web-scene":{write:!0}}}})],Ei.prototype,"symbolLayers",void 0),v([te({PointSymbol3D:"point-3d"},{readOnly:!0})],Ei.prototype,"type",void 0),Ei=tu=v([tt("esri.symbols.PointSymbol3D")],Ei);var Wf;const bL=fe.ofType({base:null,key:"type",typeMap:{extrude:aa,fill:xi,icon:Hn,line:qi,object:Yn,text:Tn,water:ca}});let os=Wf=class extends sr{constructor(t){super(t),this.symbolLayers=new bL,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&Qo(Oe.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&Qo(Oe.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(Gw(()=>this.symbolLayers,"after-add",({item:e})=>t(e),AN))}clone(){return new Wf({styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail)})}static fromJSON(t){const e=new Wf;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const n=e.symbolLayers.at(0),i=e.symbolLayers.at(1);!i.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(n.outline={size:i.size,color:i.material!=null?i.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new Wf({symbolLayers:new fe([xi.fromSimpleFillSymbol(t)])})}};v([E({type:bL,json:{write:!0}})],os.prototype,"symbolLayers",void 0),v([te({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],os.prototype,"type",void 0),os=Wf=v([tt("esri.symbols.PolygonSymbol3D")],os);var kE;const RE=new Os({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let ar=kE=class extends Xh{constructor(...t){super(...t),this.color=new pe([0,0,0,.25]),this.outline=new Un,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string")return t;const i={};return t&&(i.style=t),e&&(i.outline=e),n&&(i.color=n),i}clone(){return new kE({color:ht(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};v([E()],ar.prototype,"color",void 0),v([E()],ar.prototype,"outline",void 0),v([te({esriSFS:"simple-fill"},{readOnly:!0})],ar.prototype,"type",void 0),v([E({type:RE.apiValues,json:{read:RE.read,write:RE.write}})],ar.prototype,"style",void 0),ar=kE=v([tt("esri.symbols.SimpleFillSymbol")],ar);var LE;const PE=new Os({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Bn=LE=class extends ha{constructor(...t){super(...t),this.color=new pe([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Un}normalizeCtorArgs(t,e,n,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.style=t),e!=null&&(r.size=ze(e)),n&&(r.outline=n),i&&(r.color=i),r}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new LE({angle:this.angle,color:ht(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};v([E()],Bn.prototype,"color",void 0),v([Re("color")],Bn.prototype,"writeColor",null),v([te({esriSMS:"simple-marker"},{readOnly:!0})],Bn.prototype,"type",void 0),v([E()],Bn.prototype,"size",void 0),v([E({type:PE.apiValues,json:{read:PE.read,write:PE.write}})],Bn.prototype,"style",void 0),v([E({type:String,json:{write:!0}})],Bn.prototype,"path",null),v([E({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Un}},json:{default:null,write:!0}})],Bn.prototype,"outline",void 0),Bn=LE=v([tt("esri.symbols.SimpleMarkerSymbol")],Bn);var DE;let ye=DE=class extends yn{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Rr,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string")return t;const i={};return t&&(i.text=t),e&&(i.font=e),n&&(i.color=n),i}writeLineWidth(t,e,n,i){i&&typeof i!="string"?i.origin:e[n]=t}castLineWidth(t){return ze(t)}writeLineHeight(t,e,n,i){i&&typeof i!="string"?i.origin:e[n]=t}clone(){return new DE({angle:this.angle,backgroundColor:ht(this.backgroundColor),borderLineColor:ht(this.borderLineColor),borderLineSize:this.borderLineSize,color:ht(this.color),font:this.font&&this.font.clone(),haloColor:ht(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};v([E({type:pe,json:{write:!0}})],ye.prototype,"backgroundColor",void 0),v([E({type:pe,json:{write:!0}})],ye.prototype,"borderLineColor",void 0),v([E({type:Number,json:{write:!0},cast:ze})],ye.prototype,"borderLineSize",void 0),v([E({type:Rr,json:{write:!0}})],ye.prototype,"font",void 0),v([E({...oL,json:{write:!0}})],ye.prototype,"horizontalAlignment",void 0),v([E({type:Boolean,json:{write:!0}})],ye.prototype,"kerning",void 0),v([E({type:pe,json:{write:!0}})],ye.prototype,"haloColor",void 0),v([E({type:Number,cast:ze,json:{write:!0}})],ye.prototype,"haloSize",void 0),v([E({type:Boolean,json:{write:!0}})],ye.prototype,"rightToLeft",void 0),v([E({type:Boolean,json:{write:!0}})],ye.prototype,"rotated",void 0),v([E({type:String,json:{write:!0}})],ye.prototype,"text",void 0),v([te({esriTS:"text"},{readOnly:!0})],ye.prototype,"type",void 0),v([E({...aL,json:{write:!0}})],ye.prototype,"verticalAlignment",void 0),v([E({type:Number,cast:ze,json:{write:!0}})],ye.prototype,"xoffset",void 0),v([E({type:Number,cast:ze,json:{write:!0}})],ye.prototype,"yoffset",void 0),v([E({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],ye.prototype,"angle",void 0),v([E({type:Number,json:{write:!0}})],ye.prototype,"width",void 0),v([E({type:Number})],ye.prototype,"lineWidth",void 0),v([Re("lineWidth")],ye.prototype,"writeLineWidth",null),v([dh("lineWidth")],ye.prototype,"castLineWidth",null),v([E(sL)],ye.prototype,"lineHeight",void 0),v([Re("lineHeight")],ye.prototype,"writeLineHeight",null),ye=DE=v([tt("esri.symbols.TextSymbol")],ye);var FE;let hi=FE=class extends yn{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:at.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e?.portal,super.read(t,e)}clone(){return new FE({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol(t)}async fetchCIMSymbol(t){Zw(Oe.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const e=await this._fetchSymbol({...t,acceptedFormats:["cim"]});if(e?.type!=="cim")throw new re("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return e}async _fetchSymbol(t){const e=t!=null?t.cache:null,n=e?this._fetchCacheKey:null;if(e!=null){const o=n&&e.get(n);if(o)return o.clone()}const{resolveWebStyleSymbol:i}=await import("./webStyleSymbolUtils-Cq0fEw0Y.js");Xu(t);const r=i(this,{portal:this.portal},t);r.catch(o=>{Oe.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const s=await r;return e?.set(n,s.clone()),s}};v([E({json:{write:!1}})],hi.prototype,"color",void 0),v([E({type:String,json:{write:!0}})],hi.prototype,"styleName",void 0),v([E({type:at,json:{write:!1}})],hi.prototype,"portal",void 0),v([E({type:String,json:{read:qy,write:xc}})],hi.prototype,"styleUrl",void 0),v([E({type:Jh,json:{read:!1}})],hi.prototype,"thumbnail",void 0),v([E({type:String,json:{write:!0}})],hi.prototype,"name",void 0),v([te({styleSymbolReference:"web-style"},{readOnly:!0})],hi.prototype,"type",void 0),v([E()],hi.prototype,"_fetchCacheKey",null),hi=FE=v([tt("esri.symbols.WebStyleSymbol")],hi);function Ert(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function jE(t){switch(t?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const v1={base:yn,key:"type",typeMap:{"simple-fill":ar,"picture-fill":or,"picture-marker":ui,"simple-line":Un,"simple-marker":Bn,text:ye,"label-3d":ss,"line-3d":Bs,"mesh-3d":go,"point-3d":Ei,"polygon-3d":os,"web-style":hi,cim:zi},errorContext:"symbol"},Srt={base:yn,key:"type",typeMap:{"picture-marker":ui,"simple-marker":Bn,"point-3d":Ei,cim:zi},errorContext:"symbol"},Art={base:yn,key:"type",typeMap:{"simple-line":Un,"line-3d":Bs,cim:zi},errorContext:"symbol"},Mrt={base:yn,key:"type",typeMap:{"simple-fill":ar,"picture-fill":or,"polygon-3d":os,cim:zi},errorContext:"symbol"},Trt={base:yn,key:"type",typeMap:{"picture-marker":ui,"simple-marker":Bn,text:ye,"web-style":hi,cim:zi},errorContext:"symbol"},Irt=zw({types:v1}),Nrt={base:yn,key:"type",typeMap:{"simple-fill":ar,"picture-fill":or,"picture-marker":ui,"simple-line":Un,"simple-marker":Bn,text:ye,"line-3d":Bs,"mesh-3d":go,"point-3d":Ei,"polygon-3d":os,"web-style":hi,cim:zi},errorContext:"symbol"},Ort={base:yn,key:"type",typeMap:{text:ye,"label-3d":ss},errorContext:"symbol"},Crt={base:yn,key:"type",typeMap:{"line-3d":Bs,"mesh-3d":go,"point-3d":Ei,"polygon-3d":os,"web-style":hi,cim:zi},errorContext:"symbol"},krt={base:yn,key:"type",typeMap:{"label-3d":ss},errorContext:"symbol"},Rrt=fc(v1);var $E;function Lrt(t){if(!t)return null;const e={};for(const n in t){const i=mg(t[n]);i&&(e[n]=i)}return Object.keys(e).length!==0?e:null}function Prt(t){if(t==null)return null;const e={};for(const n in t){const i=t[n];i&&(e[n]=i.toJSON())}return Object.keys(e).length!==0?e:null}let Hi=class extends Vi(Vt){static{$E=this}constructor(t){super(t),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:kd(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&bH(Oe.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(t){const e=this._get("aggregateGeometries");JSON.stringify(e)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const e=this._get("attributes");e!==t&&(this._set("attributes",t),this._notifyLayer("attributes",e,t))}set geometry(t){const e=this._get("geometry");e!==t&&(this._set("geometry",t),t?.type!=="mesh"&&this._notifyLayer("geometry",e,t))}set popupTemplate(t){const e=this._get("popupTemplate");e!==t&&(this._set("popupTemplate",t),this._notifyLayer("popupTemplate",e,t))}set symbol(t){const e=this._get("symbol");e!==t&&(this._set("symbol",t),this._notifyLayer("symbol",e,t))}get version(){return this._version}set visible(t){const e=this._get("visible");e!==t&&(this._set("visible",t),this._notifyLayer("visible",e,t))}cloneShallow(){return new $E({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;const e=b8(this.origin);if(e)return e.popupTemplate??(t?e.defaultPopupTemplate:null)??null;const n=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[n,this.sourceLayer,this.layer])if(i&&typeof i=="object"){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(t&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(t){return this.attributes?.[t]}setAttribute(t,e){if(this.attributes){const n=this.getAttribute(t);this.attributes[t]=e,this._notifyLayer("attributes",n,e,t)}else this.attributes={[t]:e}}getObjectId(){const t=v8(this.origin);if(t)return w8(this,t);const e=this.sourceLayer??this.layer;return e?w8(this,e):null}getGlobalId(){const t=v8(this.origin);if(t?.globalIdField)return this.getAttribute(t.globalIdField);const e=this.sourceLayer??this.layer;return e&&"globalIdField"in e&&e.globalIdField?this.getAttribute(e.globalIdField):null}toJSON(){return{aggregateGeometries:Prt(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:Gd(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(t={}){const{geometry:e}=this;if(e?.type==="mesh"){const n={origin:e.origin,transform:e.transform};this._notifyLayer("origin-transform",n,n,t.action)}}_notifyLayer(t,e,n,i){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:t,oldValue:e,newValue:n};t==="origin-transform"&&(r.action=i),t==="attributes"&&(r.attributeName=i),this.layer.graphicChanged(r)}_watchMeshGeometryChanges(){this.addHandles([Oy(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:t,origin:e})=>{this._lastMeshTransform.localMatrix===t&&this._lastMeshTransform.origin===e||(this._lastMeshTransform.localMatrix=t,this._lastMeshTransform.origin=e,this.notifyMeshTransformChanged())}),Oy(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const t=this.geometry;t?.type==="mesh"&&t.vertexSpace.origin?(this._lastMeshTransform.localMatrix=t.transform?.localMatrix,this._lastMeshTransform.origin=t.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(t,e)=>t===e,sync:!0})])}};v([E({value:null,json:{read:Lrt}})],Hi.prototype,"aggregateGeometries",null),v([E({value:null})],Hi.prototype,"attributes",null),v([E({value:null,types:g8,json:{read:mg}})],Hi.prototype,"geometry",null),v([E({type:Boolean})],Hi.prototype,"isAggregate",void 0),v([E({clonable:!1})],Hi.prototype,"layer",void 0),v([E({clonable:"reference"})],Hi.prototype,"origin",void 0),v([E({type:y8,value:null})],Hi.prototype,"popupTemplate",null),v([E({clonable:"reference"})],Hi.prototype,"sourceLayer",void 0),v([E({value:null,types:v1})],Hi.prototype,"symbol",null),v([E({clonable:!1,json:{read:!1,write:!1}})],Hi.prototype,"_version",void 0),v([E({type:Boolean,value:!0})],Hi.prototype,"visible",null),Hi=$E=v([tt("esri.Graphic")],Hi);async function Drt(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:n}=await import("./portalLayers-DaSnsj-S.js");try{return await n(e)}catch(i){const r=e?.portalItem,s=r?.id||"unset",o=r?.portal?.url||ae.portalUrl;throw Oe.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+s+"')",i),i}}const GE={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function b1(t,e,n,i=Gc){const r=new Is(Hg(i)),s=Nt.fromJSDate(t,{zone:r}),o=n==="decades"||n==="centuries"?"year":xL(n);return n==="decades"&&(e*=10),n==="centuries"&&(e*=100),s.plus({[o]:e}).toJSDate()}function Frt(t,e,n="milliseconds"){const i=t.getTime(),r=_L(e,n,"milliseconds");return new Date(i+r)}function wL(t,e,n=Gc){const i=new Is(Hg(n)),r=Nt.fromJSDate(t,{zone:i});if(e==="decades"||e==="centuries"){const o=r.startOf("year"),{year:a}=o,l=a-a%(e==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=xL(e);return r.startOf(s).toJSDate()}function _L(t,e,n){return t===0?0:t*GE[e]/GE[n]}function jrt(t,e){return t&&e?t.intersection(e):t||e}function xL(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var as;let lr=class extends Vt{static{as=this}static get allTime(){return EL}static get empty(){return $rt}static fromArray(t){return new as({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return e.end!=null?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(as.allTime)}get isEmpty(){return this.equals(as.empty)}readStart(t,e){return e.start!=null?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new as({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,i=t.start?.getTime()??t.start,r=t.end?.getTime()??t.end;return e===i&&n===r}expandTo(t,e=Gc){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=wL(n,t,e));let i=this.end;if(i){const r=wL(i,t,e);i=i.getTime()===r.getTime()?r:b1(r,1,t,e)}return new as({start:n,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return as.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,i=t.start?.getTime()??-1/0,r=t.end?.getTime()??1/0;let s,o;return i>=e&&i<=n?s=i:e>=i&&e<=r&&(s=e),n>=i&&n<=r?o=n:r>=e&&r<=n&&(o=r),s==null||o==null||isNaN(s)||isNaN(o)?as.empty:new as({start:s===-1/0?null:new Date(s),end:o===1/0?null:new Date(o)})}offset(t,e,n=Gc){if(this.isEmpty||this.isAllTime)return this.clone();const i=new as,{start:r,end:s}=this;return r!=null&&(i.start=b1(r,t,e,n)),s!=null&&(i.end=b1(s,t,e,n)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return EL.clone();const e=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,n=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new as({start:e,end:n})}};v([E({type:Date,json:{write:{allowNull:!0}}})],lr.prototype,"end",void 0),v([dn("end")],lr.prototype,"readEnd",null),v([Re("end")],lr.prototype,"writeEnd",null),v([E({readOnly:!0,json:{read:!1}})],lr.prototype,"isAllTime",null),v([E({readOnly:!0,json:{read:!1}})],lr.prototype,"isEmpty",null),v([E({type:Date,json:{write:{allowNull:!0}}})],lr.prototype,"start",void 0),v([dn("start")],lr.prototype,"readStart",null),v([Re("start")],lr.prototype,"writeStart",null),lr=as=v([tt("esri.time.TimeExtent")],lr);const EL=new lr,$rt=new lr({start:void 0,end:void 0});let Grt=0,bn=class extends yg(t1(z3)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new le(-180,-90,180,90,Pt.WGS84),this.id=Date.now().toString(16)+"-layer-"+Grt++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Pt.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const e=typeof t=="string"?{url:t}:t;return(await import("./arcgisLayers-B4HNNBQs.js")).fromUrl(e)}static fromPortalItem(t){return Drt(t)}initialize(){this.when().catch(t=>{yc(t)||Oe.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const{parent:t}=this;t&&(this.parent=null,t.removeChildLayer?.(this))}get effectiveVisible(){return this.visible&&(this.parent?.effectiveVisible??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){const{parent:t}=this;t&&(t.removeChildLayer?.(this),this.parent=null)}get parsedUrl(){return Jr(this.url)}createLayerView(t,e){return Promise.reject(new re("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await fn(t,{query:{f:"json"},responseType:"json"})).data;throw new re("layer:no-attribution-data","Layer does not have attribution data")}};v([E({type:String})],bn.prototype,"attributionDataUrl",void 0),v([E({readOnly:!0})],bn.prototype,"effectiveVisible",null),v([E({type:le})],bn.prototype,"fullExtent",void 0),v([E({readOnly:!0})],bn.prototype,"hasAttributionData",null),v([E({type:String,clonable:!1})],bn.prototype,"id",void 0),v([E({type:Boolean,nonNullable:!0})],bn.prototype,"legendEnabled",void 0),v([E({type:["show","hide","hide-children"]})],bn.prototype,"listMode",void 0),v([E({type:Number,range:{min:0,max:1},nonNullable:!0})],bn.prototype,"opacity",void 0),v([E({clonable:!1})],bn.prototype,"parent",void 0),v([E({readOnly:!0})],bn.prototype,"parsedUrl",null),v([E({type:Boolean,readOnly:!0})],bn.prototype,"persistenceEnabled",void 0),v([E({type:Boolean})],bn.prototype,"popupEnabled",void 0),v([E({type:Boolean})],bn.prototype,"attributionVisible",void 0),v([E({type:Pt})],bn.prototype,"spatialReference",void 0),v([E({type:String})],bn.prototype,"title",void 0),v([E({readOnly:!0,json:{read:!1}})],bn.prototype,"type",void 0),v([E()],bn.prototype,"url",void 0),v([E({type:lr})],bn.prototype,"visibilityTimeExtent",void 0),v([E({type:Boolean,nonNullable:!0})],bn.prototype,"visible",void 0),bn=v([tt("esri.layers.Layer")],bn);function SL(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="feature"}function Urt(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="graphics"}function Brt(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function Vrt(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-notes"&&"sublayers"in t}function zrt(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph"&&"layers"in t}function Wrt(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph-sublayer"}function qrt(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="link-chart"&&"layers"in t}function Hrt(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function Yrt(t){return t?.type==="subtype-sublayer"}const Jrt={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function UE(t){const e=t?.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function Zrt(t){return t.type==="integrated-mesh"||t.type==="integrated-mesh-3dtiles"}function Xrt(t){return t?.type==="feature"&&!t.url&&t.source?.type==="memory"}function Qrt(t){const e=t?.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&t?.source?.type==="feature-layer"}function Krt(t){return t?.type==="feature"&&t.source?.type==="feature-layer"}function tst(t){return SL(t)&&Krt(t)}async function est(t,e){const n=De?.findServerInfo(t);if(n?.currentVersion!=null)return n.owningSystemUrl||null;const i=t.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const r=`${t.slice(0,i)}/rest/info`,s=e!=null?e.signal:null,{data:o}=await fn(r,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function AL(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function nst(t){return AL(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function ist(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"knowledge-graph-sublayer":return!0;default:return!1}}function rst(t){return!!ist(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}function ML(t,e){return null}function sst(t){return null}function TL(t){return!t||t.type==="Feature Service"&&!t.sourceUrl}function ost(t,e){!e||!TL(t)||ML(t.url)}const BE=[252,146,31,255],ast=[153,153,153,255],IL={type:"esriSMS",style:"esriSMSCircle",size:6,color:BE,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},NL={type:"esriSLS",style:"esriSLSSolid",width:.75,color:BE},OL={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},lst={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},cst={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},ust={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},hst={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},VE=Bn.fromJSON(IL),zE=Un.fromJSON(NL),WE=ar.fromJSON(OL),pst=ye.fromJSON(lst);function dst(t){if(t==null)return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return VE;case"polyline":return zE;case"polygon":case"extent":return WE}return null}const fst=Bn.fromJSON(cst),mst=Un.fromJSON(ust),yst=ar.fromJSON(hst),gst=Ei.fromSimpleMarkerSymbol(VE),vst=Bs.fromSimpleLineSymbol(zE),bst=os.fromSimpleFillSymbol(WE),wst=new go({symbolLayers:new fe([new xi({material:{color:BE},edges:new L8({size:Us(1),color:new pe(ast)})})])}),_st=new Bs({symbolLayers:new fe([new qi({material:{color:new pe([0,0,0])},size:Us(1)})])}),xst=new os({symbolLayers:new fe([new xi({outline:{color:new pe([0,0,0]),size:Us(1)}})])});function Est(t){if(t==null)return null;switch(t.type){case"mesh":return wst;case"point":case"multipoint":return gst;case"polyline":return vst;case"polygon":case"extent":return bst}return null}const CL="#useCIMFallbackSymbology()",eu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function kL(t,e=eu){if(!t)return{symbol:null};const{retainId:n=eu.retainId,ignoreDrivers:i=eu.ignoreDrivers,hasLabelingContext:r=eu.hasLabelingContext,retainCIM:s=eu.retainCIM,cimFallbackEnabled:o=eu.cimFallbackEnabled}=e;let a=null;if(jE(t))a=t.clone();else if(t.type==="web-style")a=t.clone();else if(t.type==="cim"){const l=t.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=s?t.clone():Ei.fromCIMSymbol(t);break;case"CIMLineSymbol":o&&(a=_st.clone(),e?.logWarning?.(CL,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=xst.clone(),e?.logWarning?.(CL,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new re("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:t})}}else if(t instanceof Un)a=Bs.fromSimpleLineSymbol(t);else if(t instanceof Bn)a=Ei.fromSimpleMarkerSymbol(t);else if(t instanceof ui)a=Ei.fromPictureMarkerSymbol(t);else if(t instanceof ar)a=e.geometryType&&e.geometryType==="mesh"?go.fromSimpleFillSymbol(t):os.fromSimpleFillSymbol(t);else{if(!(t instanceof ye))return{error:new re("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};a=r?ss.fromTextSymbol(t):Ei.fromTextSymbol(t)}return n&&a&&a.type!=="cim"&&(a.id=t.id),!i||a.type==="cim"||a instanceof hi||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function Sst(t,e,n,i){const r=LL(t,{},{context:i,isLabelSymbol:!1});r!=null&&Ha(n,r,e)}function Ast(t,e,n,i){const r=LL(t,{},{context:i,isLabelSymbol:!0});r!=null&&(e[n]=r)}function RL(t){return jE(t)||t instanceof hi}function Mst(t){return t?.type==="polygon-3d"||t?.type==="line-3d"}function LL(t,e,n){if(t==null)return null;const{context:i,isLabelSymbol:r}=n,s=i?.origin,o=i?.messages;if(s==="web-scene"&&!RL(t)){const a=kL(t,{retainCIM:!0,hasLabelingContext:r});return a.symbol!=null?a.symbol.write(e,i):(o?.push(new re("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:i,error:a.error})),null)}return UE(i?.layer)&&Mst(t)?(o?.push(new re("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported on layers of type '${i?.layer?.declaredClass}'.`,{symbol:t,context:i})),null):(s==="web-map"||s==="portal-item"&&!UE(i?.layer))&&RL(t)?(o?.push(new re("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:i})),null):t.write(e,i)}function w1(t,e){return Irt(t,null,e)}const _1=globalThis,qE=_1.ShadowRoot&&(_1.ShadyCSS===void 0||_1.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,HE=Symbol(),PL=new WeakMap;let DL=class{constructor(t,e,n){if(this._$cssResult$=!0,n!==HE)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(qE&&t===void 0){const n=e!==void 0&&e.length===1;n&&(t=PL.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&PL.set(e,t))}return t}toString(){return this.cssText}};const Tst=t=>new DL(typeof t=="string"?t:t+"",void 0,HE),YE=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((i,r,s)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+t[s+1],t[0]);return new DL(n,t,HE)},Ist=(t,e)=>{if(qE)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const i=document.createElement("style"),r=_1.litNonce;r!==void 0&&i.setAttribute("nonce",r),i.textContent=n.cssText,t.appendChild(i)}},FL=qE?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const i of e.cssRules)n+=i.cssText;return Tst(n)})(t):t,{is:Nst,defineProperty:Ost,getOwnPropertyDescriptor:Cst,getOwnPropertyNames:kst,getOwnPropertySymbols:Rst,getPrototypeOf:Lst}=Object,x1=globalThis,jL=x1.trustedTypes,Pst=jL?jL.emptyScript:"",Dst=x1.reactiveElementPolyfillSupport,qf=(t,e)=>t,JE={toAttribute(t,e){switch(e){case Boolean:t=t?Pst:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},ZE=(t,e)=>!Nst(t,e),$L={attribute:!0,type:String,converter:JE,reflect:!1,useDefault:!1,hasChanged:ZE};Symbol.metadata??=Symbol("metadata"),x1.litPropertyMetadata??=new WeakMap;let Qh=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=$L){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(t,n,e);i!==void 0&&Ost(this.prototype,t,i)}}static getPropertyDescriptor(t,e,n){const{get:i,set:r}=Cst(this.prototype,t)??{get(){return this[e]},set(s){this[e]=s}};return{get:i,set(s){const o=i?.call(this);r?.call(this,s),this.requestUpdate(t,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??$L}static _$Ei(){if(this.hasOwnProperty(qf("elementProperties")))return;const t=Lst(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(qf("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(qf("properties"))){const e=this.properties,n=[...kst(e),...Rst(e)];for(const i of n)this.createProperty(i,e[i])}const t=this[Symbol.metadata];if(t!==null){const e=litPropertyMetadata.get(t);if(e!==void 0)for(const[n,i]of e)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[e,n]of this.elementProperties){const i=this._$Eu(e,n);i!==void 0&&this._$Eh.set(i,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const i of n)e.unshift(FL(i))}else t!==void 0&&e.push(FL(t));return e}static _$Eu(t,e){const n=e.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const n of e.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Ist(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$ET(t,e){const n=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,n);if(i!==void 0&&n.reflect===!0){const r=(n.converter?.toAttribute!==void 0?n.converter:JE).toAttribute(e,n.type);this._$Em=t,r==null?this.removeAttribute(i):this.setAttribute(i,r),this._$Em=null}}_$AK(t,e){const n=this.constructor,i=n._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const r=n.getPropertyOptions(i),s=typeof r.converter=="function"?{fromAttribute:r.converter}:r.converter?.fromAttribute!==void 0?r.converter:JE;this._$Em=i;const o=s.fromAttribute(e,r.type);this[i]=o??this._$Ej?.get(i)??o,this._$Em=null}}requestUpdate(t,e,n){if(t!==void 0){const i=this.constructor,r=this[t];if(n??=i.getPropertyOptions(t),!((n.hasChanged??ZE)(r,e)||n.useDefault&&n.reflect&&r===this._$Ej?.get(t)&&!this.hasAttribute(i._$Eu(t,n))))return;this.C(t,e,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,e,{useDefault:n,reflect:i,wrapped:r},s){n&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,s??e??this[t]),r!==!0||s!==void 0)||(this._$AL.has(t)||(this.hasUpdated||n||(e=void 0),this._$AL.set(t,e)),i===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,r]of this._$Ep)this[i]=r;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[i,r]of n){const{wrapped:s}=r,o=this[i];s!==!0||this._$AL.has(i)||o===void 0||this.C(i,void 0,r,o)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach(n=>n.hostUpdate?.()),this.update(e)):this._$EM()}catch(n){throw t=!1,this._$EM(),n}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach(e=>e.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(e=>this._$ET(e,this[e])),this._$EM()}updated(t){}firstUpdated(t){}};Qh.elementStyles=[],Qh.shadowRootOptions={mode:"open"},Qh[qf("elementProperties")]=new Map,Qh[qf("finalized")]=new Map,Dst?.({ReactiveElement:Qh}),(x1.reactiveElementVersions??=[]).push("2.1.1");const XE=globalThis,E1=XE.trustedTypes,GL=E1?E1.createPolicy("lit-html",{createHTML:t=>t}):void 0,UL="$lit$",El=`lit$${Math.random().toFixed(9).slice(2)}$`,BL="?"+El,Fst=`<${BL}>`,nu=document,Hf=()=>nu.createComment(""),Yf=t=>t===null||typeof t!="object"&&typeof t!="function",QE=Array.isArray,jst=t=>QE(t)||typeof t?.[Symbol.iterator]=="function",KE=`[ 	
\f\r]`,Jf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,VL=/-->/g,zL=/>/g,iu=RegExp(`>|${KE}(?:([^\\s"'>=/]+)(${KE}*=${KE}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),WL=/'/g,qL=/"/g,HL=/^(?:script|style|textarea|title)$/i,YL=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Kh=YL(1),$st=YL(2),pa=Symbol.for("lit-noChange"),We=Symbol.for("lit-nothing"),JL=new WeakMap,ru=nu.createTreeWalker(nu,129);function ZL(t,e){if(!QE(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return GL!==void 0?GL.createHTML(e):e}const Gst=(t,e)=>{const n=t.length-1,i=[];let r,s=e===2?"<svg>":e===3?"<math>":"",o=Jf;for(let a=0;a<n;a++){const l=t[a];let c,p,d=-1,f=0;for(;f<l.length&&(o.lastIndex=f,p=o.exec(l),p!==null);)f=o.lastIndex,o===Jf?p[1]==="!--"?o=VL:p[1]!==void 0?o=zL:p[2]!==void 0?(HL.test(p[2])&&(r=RegExp("</"+p[2],"g")),o=iu):p[3]!==void 0&&(o=iu):o===iu?p[0]===">"?(o=r??Jf,d=-1):p[1]===void 0?d=-2:(d=o.lastIndex-p[2].length,c=p[1],o=p[3]===void 0?iu:p[3]==='"'?qL:WL):o===qL||o===WL?o=iu:o===VL||o===zL?o=Jf:(o=iu,r=void 0);const y=o===iu&&t[a+1].startsWith("/>")?" ":"";s+=o===Jf?l+Fst:d>=0?(i.push(c),l.slice(0,d)+UL+l.slice(d)+El+y):l+El+(d===-2?a:y)}return[ZL(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};class q0{constructor({strings:e,_$litType$:n},i){let r;this.parts=[];let s=0,o=0;const a=e.length-1,l=this.parts,[c,p]=Gst(e,n);if(this.el=q0.createElement(c,i),ru.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(r=ru.nextNode())!==null&&l.length<a;){if(r.nodeType===1){if(r.hasAttributes())for(const d of r.getAttributeNames())if(d.endsWith(UL)){const f=p[o++],y=r.getAttribute(d).split(El),g=/([.?@])?(.*)/.exec(f);l.push({type:1,index:s,name:g[2],strings:y,ctor:g[1]==="."?Bst:g[1]==="?"?Vst:g[1]==="@"?zst:S1}),r.removeAttribute(d)}else d.startsWith(El)&&(l.push({type:6,index:s}),r.removeAttribute(d));if(HL.test(r.tagName)){const d=r.textContent.split(El),f=d.length-1;if(f>0){r.textContent=E1?E1.emptyScript:"";for(let y=0;y<f;y++)r.append(d[y],Hf()),ru.nextNode(),l.push({type:2,index:++s});r.append(d[f],Hf())}}}else if(r.nodeType===8)if(r.data===BL)l.push({type:2,index:s});else{let d=-1;for(;(d=r.data.indexOf(El,d+1))!==-1;)l.push({type:7,index:s}),d+=El.length-1}s++}}static createElement(e,n){const i=nu.createElement("template");return i.innerHTML=e,i}}function tp(t,e,n=t,i){if(e===pa)return e;let r=i!==void 0?n._$Co?.[i]:n._$Cl;const s=Yf(e)?void 0:e._$litDirective$;return r?.constructor!==s&&(r?._$AO?.(!1),s===void 0?r=void 0:(r=new s(t),r._$AT(t,n,i)),i!==void 0?(n._$Co??=[])[i]=r:n._$Cl=r),r!==void 0&&(e=tp(t,r._$AS(t,e.values),r,i)),e}let Ust=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:n}=this._$AD,i=(t?.creationScope??nu).importNode(e,!0);ru.currentNode=i;let r=ru.nextNode(),s=0,o=0,a=n[0];for(;a!==void 0;){if(s===a.index){let l;a.type===2?l=new wd(r,r.nextSibling,this,t):a.type===1?l=new a.ctor(r,a.name,a.strings,this,t):a.type===6&&(l=new Wst(r,this,t)),this._$AV.push(l),a=n[++o]}s!==a?.index&&(r=ru.nextNode(),s++)}return ru.currentNode=nu,i}p(t){let e=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}};class wd{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,i,r){this.type=2,this._$AH=We,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=i,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=tp(this,e,n),Yf(e)?e===We||e==null||e===""?(this._$AH!==We&&this._$AR(),this._$AH=We):e!==this._$AH&&e!==pa&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):jst(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==We&&Yf(this._$AH)?this._$AA.nextSibling.data=e:this.T(nu.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:i}=e,r=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=q0.createElement(ZL(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===r)this._$AH.p(n);else{const s=new Ust(r,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(e){let n=JL.get(e.strings);return n===void 0&&JL.set(e.strings,n=new q0(e)),n}k(e){QE(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let i,r=0;for(const s of e)r===n.length?n.push(i=new wd(this.O(Hf()),this.O(Hf()),this,this.options)):i=n[r],i._$AI(s),r++;r<n.length&&(this._$AR(i&&i._$AB.nextSibling,r),n.length=r)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}let S1=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,n,i,r){this.type=1,this._$AH=We,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=r,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=We}_$AI(t,e=this,n,i){const r=this.strings;let s=!1;if(r===void 0)t=tp(this,t,e,0),s=!Yf(t)||t!==this._$AH&&t!==pa,s&&(this._$AH=t);else{const o=t;let a,l;for(t=r[0],a=0;a<r.length-1;a++)l=tp(this,o[n+a],e,a),l===pa&&(l=this._$AH[a]),s||=!Yf(l)||l!==this._$AH[a],l===We?t=We:t!==We&&(t+=(l??"")+r[a+1]),this._$AH[a]=l}s&&!i&&this.j(t)}j(t){t===We?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},Bst=class extends S1{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===We?void 0:t}},Vst=class extends S1{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==We)}};class zst extends S1{constructor(e,n,i,r,s){super(e,n,i,r,s),this.type=5}_$AI(e,n=this){if((e=tp(this,e,n,0)??We)===pa)return;const i=this._$AH,r=e===We&&i!==We||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==We&&(i===We||r);r&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class Wst{constructor(e,n,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){tp(this,e)}}const qst={I:wd},Hst=XE.litHtmlPolyfillSupport;Hst?.(q0,wd),(XE.litHtmlVersions??=[]).push("3.3.1");const Yst=(t,e,n)=>{const i=n?.renderBefore??e;let r=i._$litPart$;if(r===void 0){const s=n?.renderBefore??null;i._$litPart$=r=new wd(e.insertBefore(Hf(),s),s,void 0,n??{})}return r._$AI(t),r},tS=globalThis;let ep=class extends Qh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Yst(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return pa}};ep._$litElement$=!0,ep.finalized=!0,tS.litElementHydrateSupport?.({LitElement:ep});const Jst=tS.litElementPolyfillSupport;Jst?.({LitElement:ep}),(tS.litElementVersions??=[]).push("4.2.1");const on=(t,e,...n)=>{try{return t?.call(e,...n)}catch(i){console.error(i,t)}},eS=async(t,e,...n)=>{try{return await t?.call(e,...n)}catch(i){console.error(i,t)}},nS=Symbol.for("controller"),Zst=t=>typeof t=="object"&&t!==null&&(nS in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),Xst=t=>typeof t?.then=="function",Qst=t=>t.M.length;let Zf;const np=t=>{Zf!==t&&(Zf=t,queueMicrotask(()=>Zf===t?Zf=void 0:0))},ip=t=>Zf;let su=[];const XL=t=>{if(t===void 0){su=[];return}const e=su.indexOf(t);su=e===-1?[...su,t]:su.slice(0,e+1),queueMicrotask(()=>su=[])},QL=()=>su;let rp;const Kst=t=>{rp!==t&&(rp=t,queueMicrotask(()=>rp===t?rp=void 0:0))},tot=()=>{const t=rp;return rp=void 0,t},eot=async(t,e)=>{const n=iS(t);if(n===void 0)return t;if(await n.ready,typeof e=="function"){const i=n.watchExports(r=>e(r,i))}return n.exports},not=async t=>{const e=iS(t);return await e.ready,e},iS=t=>{const e=ip().manager.X(t);if(e!==void 0)return e;if(Zst(t))return t;const n=tot();if(n!==void 0)return n};let rS=!1;const iot=t=>{rS=!0;try{return t()}finally{rS=!1}};class Xf{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}const rot=(t,e)=>{const n=e/sot;let i=0;const r=setInterval(()=>{i+=n,i>=e&&(clearInterval(r),t())},n);return r},sot=4,oot=(t,e,n)=>{const i=Object.keys(t),r=i.length;sp===void 0&&queueMicrotask(A1),sp??=new Map;let s=sp.get(t);return s===void 0&&(s={callbacks:[],keyCount:r},sp.set(t,s)),s.keyCount!==r&&(s.callbacks.forEach(o=>o(i)),s.callbacks=[],s.keyCount=r),s.callbacks.push(o=>{const a=c=>on(e,null,c),l=o[r];l===void 0?a(void 0):t[l]===n?a(l):a(void 0)}),n};let sp;const A1=()=>{sp?.forEach(({callbacks:t},e)=>{const n=Object.keys(e);t.forEach(i=>i(n))}),sp=void 0},sS=(t,e,n)=>{const i=t.manager;return i.V!==We&&i.V!==n&&i.S(void 0,void 0),i.T.length===0&&queueMicrotask(()=>i.S(void 0,void 0)),i.V=n,i.T.push((r,s)=>on(e,void 0,n===s?r:void 0)),n},oS=(t=[ip(),...QL()],e,n)=>{const i=Array.isArray(t)?t:[t];let r=i.length+1;const s=o=>{r-=1,o!==void 0&&(r=Math.min(r,0)),r===0&&e(o)};i.forEach(o=>oot(o,a=>s(a===void 0?void 0:{key:a,host:o,isReactive:!1}),n));for(const o of i)if("manager"in o&&o.manager.component===o){sS(o,a=>s(a===void 0?void 0:{key:a,host:o,isReactive:!0}),n);break}return n},aS=(t="",e={},n=ip())=>{const i={emit:r=>{t===""&&A1();const s=new CustomEvent(t,{detail:r,cancelable:!0,bubbles:!0,composed:!0,...e});return n.el.dispatchEvent(s),s}};return t===""&&oS(void 0,r=>t=r.key,i),i},M1=aS.bind(null,"");var KL;KL=nS;class lS{constructor(e){this.#t=[],this.#e=[],this.#n=[],this.#i=[],this.#r=[],this.#l=[],this.#c=[],this.#p=[],this.#u=[],this.#h=!1,this.P=new Xf,this.connectedCalled=!1,this.loadedCalled=!1,this[KL]=!0,this.#a=[];const n=this,i=e??ip();n.#s=i,n.ready=n.P.promise,n.#o=eP(n),n.component=i,n.#s.addController(n),n.#s.manager===void 0||(XL(n),queueMicrotask(()=>n.catchUpLifecycle()))}#t;#e;#n;#i;#r;#l;#c;#p;#u;#h;#s;catchUpLifecycle(){const{manager:e}=this.#s;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e.#h&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}#o;get exports(){return this.#o}set exports(e){const n=this.#o;n!==e&&(this.#o=e,this.#a.forEach(on),this.connectedCalled&&this.O!==!1&&this.#s.requestUpdate(this.O,n)),this.P.resolve(e)}setProvisionalExports(e,n=!0){this.#o=n?eP(e):e,this.#a.forEach(on)}#a;watchExports(e){const n=()=>e(this.#o);return this.#a.push(n),()=>void this.#a.splice(this.#a.indexOf(n),1)}get use(){return np(this.#s),eot}get useRef(){return np(this.#s),not}get useRefSync(){return np(this.#s),iS}controllerRemoved(){this.#s.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#t.push(e)}onDisconnected(e){this.#e.push(e)}onLoad(e){this.#n.push(e)}onLoaded(e){this.#i.push(e)}onUpdate(e){this.#r.push(e)}onUpdated(e){this.#l.push(e)}onDestroy(e){this.#c.push(e)}onLifecycle(e){this.#p.push(e),this.connectedCalled&&this.#s.el.isConnected&&this.#d(e)}triggerConnected(){const e=this;e.hostConnected&&on(e.hostConnected,e),e.#t.forEach(on),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&on(e.hostDisconnected,e),e.#e.forEach(on),e.#u.forEach(on),e.#u=[]}async triggerLoad(){if(this.#h)return;this.#h=!0;const e=this;e.hostLoad&&await eS(e.hostLoad,e),this.#n.length>0&&await Promise.allSettled(this.#n.map(eS)),this.P.resolve(this.#o)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&on(this.hostLoaded,this),this.#i.forEach(on),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&on(this.hostUpdate,this,e),this.#r.forEach(tP,e)}triggerUpdated(e){this.hostUpdated&&on(this.hostUpdated,this,e),this.#l.forEach(tP,e)}triggerDestroy(){this.hostDestroy&&on(this.hostDestroy,this),this.#c.forEach(on)}triggerLifecycle(){this.hostLifecycle&&this.#d(()=>this.hostLifecycle()),this.#p.forEach(this.#d,this)}#d(e){np(this.#s);const n=on(e);(Array.isArray(n)?n:[n]).forEach(i=>{typeof i=="function"?this.#u.push(i):typeof i=="object"&&typeof i.remove=="function"&&this.#u.push(i.remove)})}}function tP(t){on(t,void 0,this)}const cS=lS,eP=t=>{if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e={get(i,r,s){if(!((r==="exports"||r==="_exports")&&r in i&&i[r]===n)&&(r in i||r in Promise.prototype||typeof r=="symbol"))return typeof i=="function"?i[r]:Reflect.get(i,r,s)}},n=new Proxy(t,e);return n},aot=t=>t.replace(lot,(e,n)=>`${n===0?"":"-"}${e.toLowerCase()}`),lot=/[A-Z]+(?![a-z])|[A-Z]/gu,cot=1,uot=2,hot=4,pot=8,dot=16,fot=32,mot=64,nP=t=>{let e=t;for(;e=e.parentNode??e.host;)if(e?.constructor?.lumina){const n=e;return n.manager?.loadedCalled||(n.J??n._offspring).push(t),(n.I??n._postLoad).promise}return!1},iP={};function rP(){}const T1=Object.defineProperty,yot=globalThis.HTMLElement??rP;class TMt extends yot{constructor(){super(),this.#e={},this.#n=[],this.I=new Xf,this.H=new Xf,this.J=[];const e=this,n=e.constructor;e._offspring=e.J,e._postLoad=e.I,n.C?.forEach(i=>{Object.hasOwn(e,i)&&(e.#e[i]=e[i],delete e[i])}),n.A?e.#i({a:n.A}):n.B.then(async i=>{await n.K.p,e.#i(await(i.default?.then(r=>typeof r=="function"?{a:r}:r)??i))}).catch(i=>{e.H.reject(i),setTimeout(()=>{throw i})})}static{this.lumina=!0}static F(){for(const e of this.C??[])T1(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this.#e[e]},set(n){this.#e[e]=n}});for(const e of this.E??[])T1(this.prototype,e,{async value(...n){return this.#t||await this.H.promise,await this.#t[e](...n)},configurable:!0});for(const e of this.D??[])T1(this.prototype,e,{value(...n){return this.#t[e](...n)},configurable:!0})}#t;#e;#n;get manager(){return this.#t?.manager}attributeChangedCallback(e,n,i){this.#t?.attributeChangedCallback(e,n,i),this.#t||this.#n.push(e)}connectedCallback(){this.#t?this.#t.connectedCallback?.():queueMicrotask(()=>this.G=nP(this))}disconnectedCallback(){this.#t?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}#i(e){const n=this.constructor,i=n.L,r=this.#e,s=Object.values(e).find(p=>p.L===i),o=`${i}--lazy`;let a=s;for(;a&&!Object.hasOwn(a,"lumina");)a=Object.getPrototypeOf(a);vot(a),!n.A&&(n.A=s,customElements.define(o,s)),s.N=this;const l=document.createElement(o);s.N=void 0,this.#t=l,this.#e=l,this.#n.forEach(p=>l.attributeChangedCallback(p,null,this.getAttribute(p))),Object.entries(r).forEach(got,l);const c=this.isConnected;(c||this.G)&&(l.connectedCallback?.(),c||l.disconnectedCallback())}addController(){}requestUpdate(){this.#t?.requestUpdate()}}function got([t,e]){this[t]=e}const vot=t=>{const e=t.prototype,n=Element.prototype;Object.hasOwn(e,"isConnected")||(e.setAttribute=function(i,r){n.setAttribute.call(this.el,i,r)},e.removeAttribute=function(i){n.removeAttribute.call(this.el,i)},T1(e,"isConnected",{get(){return Reflect.get(n,"isConnected",this.el)}}))},I1={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},N1=t=>(...e)=>({_$litDirective$:t,values:e});let O1=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};const bot=N1(class extends O1{constructor(t){if(super(t),t.type!==I1.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in e)e[i]&&!this.nt?.has(i)&&this.st.add(i);return this.render(e)}const n=t.element.classList;for(const i of this.st)i in e||(n.remove(i),this.st.delete(i));for(const i in e){const r=!!e[i];r===this.st.has(i)||this.nt?.has(i)||(r?(n.add(i),this.st.add(i)):(n.remove(i),this.st.delete(i)))}return pa}}),sP="important",wot=" !"+sP,_ot=N1(class extends O1{constructor(t){if(super(t),t.type!==I1.ATTRIBUTE||t.name!=="style"||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return i==null?e:e+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(t,[e]){const{style:n}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const i of this.ft)e[i]==null&&(this.ft.delete(i),i.includes("-")?n.removeProperty(i):n[i]=null);for(const i in e){const r=e[i];if(r!=null){this.ft.add(i);const s=typeof r=="string"&&r.endsWith(wot);i.includes("-")||s?n.setProperty(i,s?r.slice(0,-11):r,s?sP:""):n[i]=r}}return pa}}),{I:xot}=qst,oP=t=>t.strings===void 0,aP=()=>document.createComment(""),Eot=(t,e,n)=>{const i=t._$AA.parentNode,r=e===void 0?t._$AB:e._$AA;if(n===void 0){const s=i.insertBefore(aP(),r),o=i.insertBefore(aP(),r);n=new xot(s,o,t,t.options)}else{const s=n._$AB.nextSibling,o=n._$AM,a=o!==t;if(a){let l;n._$AQ?.(t),n._$AM=t,n._$AP!==void 0&&(l=t._$AU)!==o._$AU&&n._$AP(l)}if(s!==r||a){let l=n._$AA;for(;l!==s;){const c=l.nextSibling;i.insertBefore(l,r),l=c}}}return n},Sot=(t,e,n=t)=>(t._$AI(e,n),t),Aot={},Mot=(t,e=Aot)=>t._$AH=e,Tot=t=>t._$AH,Iot=t=>{t._$AR(),t._$AA.remove()},Qf=(t,e)=>{const n=t._$AN;if(n===void 0)return!1;for(const i of n)i._$AO?.(e,!1),Qf(i,e);return!0},C1=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while(n?.size===0)},lP=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),Cot(e)}};function Not(t){this._$AN!==void 0?(C1(this),this._$AM=t,lP(this)):this._$AM=t}function Oot(t,e=!1,n=0){const i=this._$AH,r=this._$AN;if(r!==void 0&&r.size!==0)if(e)if(Array.isArray(i))for(let s=n;s<i.length;s++)Qf(i[s],!1),C1(i[s]);else i!=null&&(Qf(i,!1),C1(i));else Qf(this,t)}const Cot=t=>{t.type==I1.CHILD&&(t._$AP??=Oot,t._$AQ??=Not)};let kot=class extends O1{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,n){super._$AT(t,e,n),lP(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(Qf(this,t),C1(this))}setValue(t){if(oP(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}};const cP=()=>new Rot;let Rot=class{};const uS=new WeakMap,uP=N1(class extends kot{render(t){return We}update(t,[e]){const n=e!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),We}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let n=uS.get(e);n===void 0&&(n=new WeakMap,uS.set(e,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return typeof this.G=="function"?uS.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});class Lot extends cS{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=We,this.T=[],this.#n=new WeakMap,this.#e=e,this.exports=void 0,this.hasDestroy=hS in e&&typeof e.destroy=="function",ep.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const n=e.el.localName;throw e.el.remove(),new Error(`The ${n} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${hS} prop.`)}this.#t!==void 0&&clearTimeout(this.#t),A1();for(const n of e.M)"triggerConnected"in n?n.triggerConnected():on(n.hostConnected,n)},hostDisconnected:()=>{for(const n of e.M)"triggerDisconnected"in n?n.triggerDisconnected():on(n.hostDisconnected,n);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const n of e.M)"triggerUpdate"in n?n.triggerUpdate(this.Q):on(n.hostUpdate,n,this.Q)},hostUpdated:()=>{for(const n of e.M)"triggerUpdated"in n?n.triggerUpdated(this.Q):on(n.hostUpdated,n,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),np(e)}#t;#e;async destroy(){if(!this.destroyed){this.#e.el.isConnected&&(this.hasDestroy=!1,this.#e.el.remove()),this.#t=void 0,this.destroyed=!0;for(const e of this.#e.M)"triggerDestroy"in e?e.triggerDestroy():on(e.hostDestroy,e);this.#e.M.splice(0)}}U(){if(this.#t!==void 0&&clearTimeout(this.#t),!this.#e.el.isConnected&&!this.#e.autoDestroyDisabled){const e=()=>void this.#e.destroy();this.#t=rot(e,Pot)}}S(e,n){const i=this.T;this.V=We,this.T=[],i.forEach(r=>r(e,n))}#n;W(e,n){(typeof n=="object"&&n!==null||typeof n=="function")&&this.#n.set(n,e)}X(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this.#n.get(e)}}let Pot=1e3;const hS="autoDestroyDisabled";class H2 extends ep{constructor(){super(),this.M=[],this.manager=new Lot(this);const e=this,n=e.constructor,i=n.N,r=n.K.o,s=H2.prototype.shouldUpdate;e.#i=i?.H??new Xf,e.I=i?.I??new Xf,e.J=i?.J??[],e._offspring=e.J,e._postLoad=e.I,e.el=i??e,e.#n=e.enableUpdating,e.enableUpdating=rP,e.shouldUpdate!==s&&(e.#e=e.shouldUpdate,e.shouldUpdate=s),r&&(e.#t=new Map,n.elementProperties.forEach((o,a)=>e.#t.set(a,r())))}static finalizeStyles(e){const n=super.finalizeStyles(e),i=this.shadowRootOptions===iP;return this.K?.commonStyles===void 0||i?n:[this.K.commonStyles,...n]}static createProperty(e,n){const i=typeof n=="number"?n:Array.isArray(n)?n[0]:0,r=Array.isArray(n)?n[1]:void 0,s=r?.hasChanged??ZE,o={attribute:i&cot&&typeof e=="string"?aot(e):!1,reflect:!!(i&uot),type:i&hot?Boolean:i&pot?Number:void 0,state:!!(i&dot),readOnly:!!(i&fot),noAccessor:!!(i&mot),c:!1,...r,hasChanged(a,l){const c=s(a,l);return o.c=c,c}};super.createProperty(e,o)}static getPropertyDescriptor(e,n,i){const r=this.K,s=super.getPropertyDescriptor(e,n,i);return i.d=s,{...s,get(){return r.t?.(this.#t.get(e)),s.get?.call(this)},set(o){const a=this.manager;if(i.readOnly&&!rS&&(a.R||a.connectedCalled))throw Error(`Cannot assign to read-only property "${e}" of ${this.el.localName}. Trying to assign "${o}"`);s.set.call(this,o??void 0),i.c&&this.#t?.get(e)?.notify(),a.T.length>0&&(A1(),a?.S(e,o))}}}static{this.lumina=!0}#t;#e;#n;#i;#r;connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const e=this.constructor.K.c?.(()=>this.requestUpdate());this.#r=e;const n=!this.manager.connectedCalled;super.connectedCallback(),n?queueMicrotask(()=>this.#c().catch(i=>{this.#i.reject(i),setTimeout(()=>{throw i})})):e&&this.requestUpdate()}#l(e){try{this.#r.clear(),this.constructor.K.r(this.#r,()=>super.update(e))}catch(n){throw this.#r.clear(),n}}disconnectedCallback(){super.disconnectedCallback(),this.#r?.destroy(),this.#r=void 0}createRenderRoot(){const e=this.el.shadowRoot,n=this.constructor,i=n.shadowRootOptions,r=e??(i===iP?this.el:this.el.attachShadow(i));if(this.isConnected){const s=r.getRootNode();s.adoptedStyleSheets=[...s.adoptedStyleSheets,...n.elementStyles.map(o=>"styleSheet"in o?o.styleSheet:o)]}return r}async#c(){const e=this.el.G??nP(this.el);e&&await e;const n=[];for(const r of this.M)"triggerLoad"in r?n.push(r.triggerLoad()):n.push(eS(r.hostLoad,r));await Promise.all(n),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(r=>r.has(hS)&&this.manager.U()),this.#n(!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const i=this.J.filter(r=>!r.manager?.loadedCalled);i.length&&await Promise.allSettled(i.map(async r=>await r.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const r of this.M)"triggerLoaded"in r?r.triggerLoaded():on(r.hostLoaded,r);this.loaded?.(),this.#i.resolve()}shouldUpdate(e){return this.manager.Q=e,this.#e?.(e)??!0}update(e){this.#r?this.#l(e):super.update(e)}listen(e,n,i){const r=n?.bind(this)??n;this.manager.onLifecycle(()=>(this.el.addEventListener(e,r,i),()=>this.el.removeEventListener(e,r,i)))}listenOn(e,n,i,r){const s=i?.bind(this)??i;this.manager.onLifecycle(()=>(e.addEventListener(n,s,r),()=>e.removeEventListener(n,s,r)))}async componentOnReady(){return await this.#i.promise,this}addController(e){this.M.push(e),!(nS in e)&&this.renderRoot&&this.el.isConnected&&e.hostConnected?.()}removeController(e){this.M.splice(this.M.indexOf(e),1),e.controllerRemoved?.()}}const hP=t=>{let e;const n=r=>{e=new URL(r,globalThis.location?.href||void 0).href},i={...t,getAssetPath(r){const s=new URL(r,e);return s.origin!==globalThis.location?.origin?s.href:s.pathname},setAssetPath:n,customElement(r,s){s.K=i,s.L=r,customElements.get(r)||customElements.define(r,s)}};return n(t.defaultAssetPath),i},ou=t=>typeof t=="object"&&t!=null?bot(t):t,pS=t=>typeof t=="object"&&t!=null?_ot(t):t,pP=We;function Dot(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}const Fot={toAttribute:t=>t===!0?"":t===!1?null:t};function dP(){return new Nx}function jot(t){return new Dd(t)}function fP(t){Ft(t)}function $ot(t,e){return ao(t,e)}const Got=YE`:host{display:block;box-sizing:border-box;*,*:before,*:after{box-sizing:inherit}}:host([hidden]){display:none}:host(:not(arcgis-basemap-gallery-item,arcgis-layer-list-item,arcgis-print-custom-text-elements,arcgis-print-dpi-input,arcgis-print-export-button,arcgis-print-exported-link,arcgis-print-exports-panel,arcgis-print-format-select,arcgis-print-layout-advanced-options,arcgis-print-layout-panel,arcgis-print-main-panel,arcgis-print-map-only-advanced-options,arcgis-print-map-only-panel,arcgis-print-out-spatial-reference-input,arcgis-print-preview-input,arcgis-print-scale-section,arcgis-print-template-select,arcgis-print-template-selector,arcgis-labeled-switch,arcgis-measurement-content,arcgis-version-management-service-item,arcgis-version-management-version-item,arcgis-version-management-version-list,arcgis-version-management-version-properties,arcgis-video-player-action-bar,arcgis-video-player-actions-group,arcgis-video-player-controls-group,arcgis-video-player-metadata,arcgis-video-player-settings,arcgis-video-player-slider)){font-family:var(--calcite-font-family)}`,Kf=hP({defaultAssetPath:"https://js.arcgis.com/4.34/map-components/",hydratedAttribute:"hydrated",commonStyles:Got}),{customElement:mP,getAssetPath:Uot,setAssetPath:IMt}=Kf;Kf.t=fP,Kf.o=dP,Kf.c=jot,Kf.r=$ot;const dS=(...t)=>{const e=[];for(let i=0;i<t.length;i++){const r=t[i];if(typeof r=="string")e.push(r);else if(Array.isArray(r))e.push.apply(e,r);else if(typeof r=="object")for(const s in r)r[s]&&e.push(s)}const n=e.join(" ");return e.length=0,n},Bot=(t,e)=>{let n=t;for(;n;){if(n===e)return!0;if(!n.parentNode)return!1;n.parentNode instanceof ShadowRoot?n=n.parentNode.host:n=n.parentNode}return!1},Vot=(t,e,n)=>{const i=zot(e).subscribe;return i(r=>{r.some(s=>Bot(t,s.target))&&n()})},fS={},zot=t=>{const e=t.join(","),n=fS[e];if(n!==void 0)return n;const i=new Set,r=new MutationObserver(o=>i.forEach(a=>a(o)));globalThis.document&&r.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const s={subscribe:o=>(i.add(o),()=>{i.delete(o),i.size===0&&(r.disconnect(),fS[e]=void 0)})};return fS[e]=s,s},yP=(t,e)=>{let n=t;for(;n;){const i=n.closest?.(e);if(i)return i;const r=n.getRootNode?.();if(r===globalThis.document)return;n=r.host}};function Wot(t){const e=yP(t,".calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto");return e?.classList.contains("calcite-mode-dark")||e?.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const qot=(t,e,n)=>yP(t,`[${e}]`)?.getAttribute(e)??n;let tm=class extends Vt{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};v([E({readOnly:!0})],tm.prototype,"version",null),tm=v([tt("esri.views.layers.support.ClipArea")],tm);var mS;let Vs=mS=class extends tm{constructor(t){super(t),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new mS({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};v([E({type:[Number,String],json:{write:!0}})],Vs.prototype,"left",void 0),v([E({type:[Number,String],json:{write:!0}})],Vs.prototype,"right",void 0),v([E({type:[Number,String],json:{write:!0}})],Vs.prototype,"top",void 0),v([E({type:[Number,String],json:{write:!0}})],Vs.prototype,"bottom",void 0),Vs=mS=v([tt("esri.views.layers.support.ClipRect")],Vs);function Hot(t,e){const n=10**e;return Math.round(t*n)/n}const k1={left:0,right:0,top:0,bottom:0};let cr=class extends Wn{constructor(t){super(t),this._leadingClips=new Map,this._trailingClips=new Map,this.direction="horizontal",this.leadingLayers=new fe,this.max=100,this.min=0,this.precision=4,this.step=.5,this.stepMultiplier=10,this.trailingLayers=new fe,this.view=null}initialize(){this.addHandles([jn(()=>[this.view,this.view?.ready,this.position,this.direction],()=>this._clipLayers(),Cy),jn(()=>this.leadingLayers.toArray(),()=>this._clipLeadingLayers(),Cy),jn(()=>this.trailingLayers.toArray(),()=>this._clipTrailingLayers(),Cy)])}destroy(){this._removeExistingClips()}get position(){return 25}set position(t){const{precision:e,min:n,max:i}=this;this._set("position",Hot(Math.max(Math.min(t,i),n),e))}get state(){return this.view?.ready?"ready":"disabled"}_clipLayers(){this._clipLeadingLayers(),this._clipTrailingLayers()}_clipLeadingLayers(){this._removeClips("leading");const{leadingLayers:t}=this;t.forEach(e=>this._clipLayer({layer:e,type:"leading"}))}_clipTrailingLayers(){this._removeClips("trailing");const{trailingLayers:t}=this;t.forEach(e=>this._clipLayer({layer:e,type:"trailing"}))}async _getLayerView(t){const{view:e}=this;if(!t||!e)return null;const n=await e.whenLayerView(t);return"clips"in n?n:null}_getVerticalClipRect(t){const{position:e}=this;return t==="leading"?new Vs({...k1,bottom:100-e+"%"}):t==="trailing"?new Vs({...k1,top:`${e}%`}):null}_getHorizontalClipRect(t){const{position:e}=this;return t==="leading"?new Vs({...k1,right:100-e+"%"}):t==="trailing"?new Vs({...k1,left:`${e}%`}):null}_getClipRect(t){const{direction:e}=this;return e==="vertical"?this._getVerticalClipRect(t):e==="horizontal"?this._getHorizontalClipRect(t):null}async _clipLayer(t){const{_leadingClips:e,_trailingClips:n}=this,{layer:i,type:r}=t,s=r==="trailing"?n:r==="leading"?e:null,o=await this._getLayerView(i);if(!(o&&"clips"in o&&s&&o.hasOwnProperty("clips")))return;const a=s.get(o);a&&o.clips.remove(a);const l=this._getClipRect(r);l&&(s.set(o,l),o.clips.add(l))}_removeClips(t){const{_leadingClips:e,_trailingClips:n}=this,i=t==="trailing"?n:t==="leading"?e:null;i&&(i.forEach((r,s)=>{s&&s.hasOwnProperty("clips")&&s.clips.remove(r)}),i.clear())}_removeExistingClips(){this._removeClips("leading"),this._removeClips("trailing")}};v([E()],cr.prototype,"direction",void 0),v([E({type:fe,nonNullable:!0})],cr.prototype,"leadingLayers",void 0),v([E({readOnly:!0})],cr.prototype,"max",void 0),v([E({readOnly:!0})],cr.prototype,"min",void 0),v([E()],cr.prototype,"position",null),v([E()],cr.prototype,"precision",void 0),v([E({readOnly:!0})],cr.prototype,"state",null),v([E()],cr.prototype,"step",void 0),v([E()],cr.prototype,"stepMultiplier",void 0),v([E({type:fe,nonNullable:!0})],cr.prototype,"trailingLayers",void 0),v([E()],cr.prototype,"view",void 0),cr=v([tt("esri.widgets.Swipe.SwipeViewModel")],cr);const Yot=cr,yS=t=>(...e)=>{const n=QL(),i=new t(...e),r=i.exports;XL(n.at(-1));const s=i.component.manager;s.W(i,r),i.watchExports(s.W.bind(s,i)),Kst(i);const o=[i.component,...n].reverse();return oS(o,a=>a===void 0?void 0:Jot(i,a,r),r)},Jot=(t,{host:e,key:n,isReactive:i},r)=>{const s=e,o=s[n]!==t.exports,a=s[n]!==r,l=r!==t.exports;if(o&&!a&&l&&(s[n]=t.exports),e===t.component){if(i){const p=t.component.manager;a&&p.W(t,s[n]),t.onUpdate(d=>{if(d.has(n)){const f=s[n];f!==t.exports&&p.W(t,f)}})}t.O=i?void 0:n}const c=t.component.constructor.elementProperties.get(n)?.readOnly;t.watchExports(()=>{s[n]!==t.exports&&(c?iot(()=>{s[n]=t.exports}):s[n]=t.exports)})},Zot="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),Xot=new Set(Zot),R1="en",Qot={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},Kot=async(t,e,n="")=>{const i=`${e}/${n}`,r=`${i}${t}.json`;return gS[r]??(gS[r]=gP(t,i)),await gS[r]},gS={},gP=async(t,e)=>{const n=`${e}${t}.json`;try{const i=await fetch(n);if(i.ok)return await i.json()}catch(i){return console.error(i),{}}return t===R1?{}:await gP(R1,e)},vP=t=>{const e=qot(t,"lang",globalThis.navigator?.language||R1);return{lang:e,t9nLocale:bP(e)}},bP=t=>{const[e,n]=t.split("-"),i=e.toLowerCase();let r=i;return n&&(r=`${i}-${n.toUpperCase()}`),r=Qot[r]??r,Xot.has(r)?r:n?bP(i):R1},tat=(t,e,n,i)=>{let r;const s=()=>eat(t,e(),i).then(o=>{(r?.lang!==o.lang||r.t9nLocale!==o.t9nLocale||r.t9nStrings!==o.t9nStrings)&&n(o),r=o}).catch(console.error);return queueMicrotask(s),Vot(t,["lang"],s)},eat=async(t,e,n=t.localName.split("-").slice(1).join("-"))=>{const{lang:i,t9nLocale:r}=vP(t),s=`${e}/${n}/t9n`,o=n===null?{}:await Kot(r,s,"messages.");return{lang:i,t9nLocale:r,t9nStrings:o}},nat=t=>wP(void 0,t),iat=t=>e=>wP(e,t);class rat extends lS{constructor(e,n){super(e);const i=this.exports;try{np(this.component);const r=n(this.component,this),s=this.exports!==i;if(Xst(r)){s||this.setProvisionalExports(r);const o=r.then(a=>{this.exports=a,super.catchUpLifecycle()}).catch(a=>{this.P.reject(a),console.error(a)});this.onLoad(async()=>await o)}else(!s||r!==void 0)&&(this.exports=r),queueMicrotask(()=>super.catchUpLifecycle())}catch(r){this.P.reject(r),console.error(r)}}catchUpLifecycle(){}}const wP=yS(rat),sat=(t,e)=>new oat(t,e);class oat extends lS{#t;#e;#n;constructor(e,n){super(),this.#e=e,this.#n=n,this.#t=new MutationObserver(i=>{i.forEach(r=>{e.includes(r.attributeName)&&n.call(this.component,this.component.el.getAttribute(r.attributeName),r.oldValue,r.attributeName)})})}hostConnected(){this.#e.forEach(e=>{this.component.el.hasAttribute(e)&&this.#n.call(this.component,null,this.component.el.getAttribute(e),e)}),this.#t.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this.#e})}hostDisconnected(){this.#t.disconnect()}}const _P=t=>(e={})=>nat((n,i)=>{const r=vP(n.el),s={_lang:r.lang,_t9nLocale:r.t9nLocale,_loading:!0},o=n;i.onLifecycle(()=>tat(n.el,()=>t("./assets"),({t9nLocale:l,t9nStrings:c,lang:p})=>{const d={...c,_lang:p,_t9nLocale:l,_loading:!1};i.exports=d;const f=c.componentLabel;typeof f=="string"&&"label"in n&&n.label==null&&(n.label??=f),a(o.messageOverrides)},e.name));const a=l=>{const c=i.exports,p=c._original??c,d=xP(p,l);l&&(d._original=p),i.exports=d};return"messageOverrides"in o&&i.onUpdate(l=>{l.has("messageOverrides")&&a(o.messageOverrides)}),e.blocking?(i.setProvisionalExports(s,!1),i.ready):s}),xP=(t,e)=>{if(!e)return t;const n={...t};return Object.entries(e).forEach(([i,r])=>{typeof r=="object"?n[i]=xP(t[i],r):n[i]=r??t[i]}),n},EP=t=>lat,aat="arcgisPropertyChange",lat=(...t)=>{const e=ip(),n=aS(aat,void 0,e);let i=!0;return e.manager.onUpdated(r=>{if(i||!e.el.isConnected){i=!1;return}for(const s of t)r.has(s)&&n.emit({name:s})}),n},cat=_P(Uot),uat=(t,e)=>{const n=ip().manager;n.onLoaded(()=>n.onLifecycle(()=>Gw(t,e,i.emit)));const i=aS();return i};class SP extends cS{constructor(e,n){super(e),this.Y=new Map,this.A=void 0,this.#e=dP();const i=this;i.#n=n,i.Z(),i.setProvisionalExports(AP(e,new WeakRef(i),e.M.length-1,i.instance,i.Y),!1),sS(e,r=>{if(r){const s=jn(()=>e[r],o=>{if(o===i.instance)return;const a=i.instance;i.exports=o,i.instance=o,i.Y.forEach((l,c)=>e.requestUpdate(l,a[c])),i.#t&&a.destroy(),i.#t=!1},{sync:!0});i.onDestroy(s.remove)}},i.exports)}#t;#e;#n;get exports(){return fP(this.#e),super.exports}set exports(e){super.exports=e,this.#e.notify()}Z(){const e=this;e.instance="prototype"in e.#n&&"declaredClass"in e.#n.prototype?new e.#n:e.#n(),e.#t=!0}hostConnected(){this.exports=this.instance}hostDestroy(){this.#t&&this.instance.destroy?.()}}const AP=(t,e,n,i,r)=>new Proxy(i,{get:(s,o)=>{const a=s[o];if(typeof o=="symbol"||r.has(o))return a;const l=t.M[n];return l.A=o,oS(t,c=>{if(l.A=void 0,c!==void 0){const p=c.key;r.set(o,p);const d=t.constructor.getPropertyOptions(p),f=o!==p&&p.toLowerCase().includes("disable");hat(e,d,o,p,f),d.i===void 0&&pat(d,n,o,f)}},a)}}),hat=(t,e,n,i,r,s)=>s=jn(()=>{const o=t.deref();return o===void 0||o.component.manager.destroyed?s=s.remove():o.exports[n]},(o,a)=>{s&&(t.deref().component?.requestUpdate(i,r?!a:a),e.c=!1)},{sync:!0}),pat=(t,e,n,i)=>{t.d.get=function(){const r=this.M[e]?.exports[n];return i?!r:r},t.d.set=function(r){const s=this.M[e];s.A!==n&&(s.exports[n]=i?!r:r)}},dat=t=>t.Y,fat={"top-left":"top-left","top-right":"top-right","bottom-left":"bottom-left","bottom-right":"bottom-right","bottom-leading":"bottom-start","bottom-trailing":"bottom-end","top-leading":"top-start","top-trailing":"top-end"},mat=["manual"];function L1(t){t.el.childElem&&(t.el.childElem.ownedBy=t.el),t.position&&mat.includes(t.position)?t.el.removeAttribute("slot"):t.position&&(t.el.slot=fat[t.position]);const e=yat(t);if(!e){const n=wat(t);if(!n){IP(t);return}return TP(n,t,!0),n}return gat(e,t.el.parent)||(t.el.parent=e,e.localName==="arcgis-expand"?vat(e,t):e.localName==="arcgis-placement"?bat(e,t):TP(e,t,!1)),e}function yat({el:t}){for(let e=t.parentElement;e;e=e?.parentElement??null){if(MP.has(e.localName))return e;if("ownedBy"in e&&e.ownedBy instanceof HTMLElement&&MP.has(e.ownedBy.localName))return e.ownedBy}}const MP=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function gat(t,e){if(t!==e)return!1;const n=t.localName;return n==="arcgis-expand"||n==="arcgis-placement"}function P1(t,e,n="arcgisReady"){const i=t;if(i.view)e(i.view);else{let r=function(s){s.target===t&&(P1(t,e,n),t.removeEventListener(n,r))};t.addEventListener(n,r)}}const vat=(t,e)=>P1(t,n=>{const i=vS(e);e.el.shadowRoot?t.content=e.el:e.el.childElem&&t.content!=null&&i.append(e.el.childElem),e.el.view=n}),bat=(t,e)=>P1(t,n=>{const i=vS(e);e.el.childElem&&i.append(e.el.childElem),e.el.view=n}),TP=(t,e,n)=>P1(t,i=>{n&&IP(e),e.el.view=i,e.referenceElement=t},"arcgisViewReadyChange");function IP(t){t.el.childElem&&vS(t).append(t.el.childElem)}function vS(t){return t.el.shadowRoot??t.el}function wat(t,e){const n=t.referenceElement;if(typeof n!="string")return n??void 0;const i=n.includes("#")||n.includes(".")||n.includes("["),r=t.el.getRootNode();return(i?void 0:r.querySelector(`#${n}`))??r.querySelector(n)??void 0}class NP extends cS{#t;constructor(e){super(e),this.setProvisionalExports(void 0)}hostConnected(){this.component.manager.loadedCalled&&L1(this.component)}hostLoad(){this.component.manager.destroyed}hostLoaded(){const{el:e}=this.component,n=e.shadowRoot?.firstElementChild??e.firstElementChild??void 0;e.childElem??=n,this.#t=Oy(()=>this.component.view!=null,()=>{this.component.arcgisReady.emit()},{once:!0,initial:!0,sync:!0}),e.isConnected&&L1(this.component)}hostDisconnected(){typeof this.component.el.childElem=="object"&&this.component.view?.ui?.remove(this.component.el.childElem),this.#t?.remove()}hostUpdate(e){e.has("position")&&this.component.el.childElem!=null&&typeof this.component.position=="string"&&L1(this.component),e.has("referenceElement")&&L1(this.component)}}const _at=(t,e)=>n=>Eat(n,t);let xat=class extends SP{#t=void 0;constructor(t,e){super(t,e),new NP(this.component)}hostLoad(){this.#t=jn(()=>this.component.el.view,t=>{this.instance.view=t,this.instance.map=t?.map},{sync:!0,initial:!0})}hostDestroy(){this.#t?.remove(),super.hostDestroy()}};const Eat=yS(xat),OP={disabled:"esri-disabled",widget:"esri-widget"},CP={dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical"},Sat=YE`:host{position:absolute;margin:0;background:transparent!important;padding:0;width:100%;height:100%;overflow:hidden;user-select:none;--arcgis-internal-swipe-handle-color-background: var(--calcite-color-background);--arcgis-internal-swipe-divider-color-background: var(--calcite-color-background)}.arcgis-swipe{width:100%;height:100%;overflow:hidden;user-select:none}.arcgis-swipe,.arcgis-ui .arcgis-swipe{pointer-events:none!important}.arcgis-swipe__container{position:absolute;z-index:1;margin:0;outline:0;border:0;padding:0;overflow:hidden;pointer-events:auto;touch-action:none;outline-color:transparent}.arcgis-swipe--horizontal .arcgis-swipe__container{margin-left:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:col-resize;height:100%}.arcgis-swipe--vertical .arcgis-swipe__container{margin-top:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:row-resize;width:100%}.arcgis-swipe--disabled .arcgis-swipe__container{cursor:default;pointer-events:none}.arcgis-swipe__divider{position:absolute;background-color:var(--arcgis-internal-swipe-divider-color-background)}.arcgis-swipe--horizontal .arcgis-swipe__divider{top:0;left:calc(var(--calcite-spacing-xxxl) / 2);margin-left:calc(var(--calcite-border-width-lg) * .5 * -1);border-right:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-left:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:var(--calcite-border-width-lg);height:100%}.arcgis-swipe--vertical .arcgis-swipe__divider{top:calc(var(--calcite-spacing-xxxl) / 2);left:0;margin-top:calc(var(--calcite-border-width-lg) * .5 * -1);border-top:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-bottom:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:100%;height:var(--calcite-border-width-lg)}.arcgis-swipe__handle{display:flex;position:relative;align-items:center;justify-content:center;border:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-radius:var(--calcite-corner-radius-round);background-color:var(--arcgis-internal-swipe-handle-color-background);width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl);color:var(--calcite-color-text-3)}.arcgis-swipe__handle--hidden{visibility:hidden}.arcgis-swipe--vertical .arcgis-swipe__handle{rotate:90deg}.arcgis-swipe__handle-icon{position:relative;z-index:2}.arcgis-swipe__handle-icon:before{content:"|||";color:inherit}.arcgis-swipe--horizontal .arcgis-swipe__handle{top:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe--vertical .arcgis-swipe__handle{left:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe__container:focus .arcgis-swipe__handle,.arcgis-swipe__container:focus .arcgis-swipe__divider{outline:inset 2px var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.arcgis-swipe__container:focus .arcgis-swipe__handle{outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}`,da="arcgis-swipe",bo={base:da,baseDisabled:`${da}--disabled`,vertical:`${da}--vertical`,horizontal:`${da}--horizontal`,container:`${da}__container`,divider:`${da}__divider`,handle:`${da}__handle`,handleHidden:`${da}__handle--hidden`,handleIcon:`${da}__handle-icon`},Aat=_at(Yot);let Mat=class extends H2{constructor(){super(...arguments),this._container=null,this._containerRef=cP(),this._swiping=!1,this._swipePositionChanged=!1,this.messages=cat({}),this._pointerOffset=0,this.viewModel=Aat(this),this._onContainerPointerDown=t=>{t.preventDefault();const{_container:e}=this;e&&document.activeElement!==this.el&&e.focus(),this._swiping=!0,this._calculatePointerOffset(t)},this.view=this.viewModel.view,this.autoDestroyDisabled=!1,this.direction=this.viewModel.direction,this.disabled=!1,this.hideDivider=!1,this.hideHandle=!1,this.icon="compare",this.label=this.messages.componentLabel,this.leadingLayers=this.viewModel.leadingLayers,this.swipePosition=this.viewModel.position,this.state=this.viewModel.state,this.trailingLayers=this.viewModel.trailingLayers,this.arcgisPropertyChange=EP()("state"),this.arcgisReady=M1(),this.arcgisSwipeChange=M1(),this.arcgisSwipeInput=M1()}static{this.properties={view:0,autoDestroyDisabled:5,direction:3,disabled:7,hideDivider:7,hideHandle:7,icon:1,label:1,leadingLayers:0,messageOverrides:0,position:3,swipePosition:9,referenceElement:1,state:3,trailingLayers:0}}static{this.styles=Sat}async destroy(){await this.manager.destroy()}loaded(){this.listenOn(document,"pointermove",this._onContainerPointerMove),this.listenOn(document,"pointerup",this._onContainerPointerUp)}_calculatePointerOffset(t){const{direction:e}=this,n=this._containerRef.value,i=(e==="vertical"?n.clientHeight:n.clientWidth)/2,r=n.getBoundingClientRect(),s=t.clientX-r.left,o=t.clientY-r.top;this._pointerOffset=e==="vertical"?o-i:s-i}_onContainerPointerUp(t){this._swiping&&(t.preventDefault(),this._swipePositionChanged&&(this.arcgisSwipeChange.emit(),this._swipePositionChanged=!1),this._swiping=!1)}_onContainerPointerMove(t){if(!this._swiping)return;t.preventDefault();const{_pointerOffset:e,el:n,direction:i}=this,{clientX:r,clientY:s}=t,{top:o,left:a,width:l,height:c}=n.getBoundingClientRect(),p=i==="vertical"?c:l,d=(i==="vertical"?s-o-e:r-a-e)/p*100;this.swipePosition!==d&&(this.swipePosition=d,this._swipePositionChanged=!0,this.arcgisSwipeInput.emit())}_getKeyPosition(t){const{key:e}=t,{swipePosition:n}=this,{max:i,min:r,step:s,stepMultiplier:o,direction:a}=this.viewModel,l=s*o;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].includes(e)&&(t.preventDefault(),t.stopPropagation()),a==="vertical"?e==="ArrowDown"||e==="ArrowRight":e==="ArrowUp"||e==="ArrowRight"){const c=t.shiftKey?l:s;return n+c}if(a==="vertical"?e==="ArrowUp"||e==="ArrowLeft":e==="ArrowDown"||e==="ArrowLeft"){const c=t.shiftKey?l:s;return n-c}return e==="Home"?r:e==="End"?i:(a==="vertical"?e==="PageDown":e==="PageUp")?n+l:(a==="vertical"?e==="PageUp":e==="PageDown")?n-l:null}_onContainerKeyDown(t){const e=this._getKeyPosition(t);typeof e=="number"&&this.swipePosition!==e&&(this.swipePosition=e,this.arcgisSwipeInput.emit(),this.arcgisSwipeChange.emit())}render(){const{state:t,direction:e}=this.viewModel,n=t==="disabled"||this.disabled,i={[OP.disabled]:n,[bo.baseDisabled]:n,[bo.vertical]:e==="vertical",[bo.horizontal]:e==="horizontal"};return Kh`<div class=${ou(dS(bo.base,OP.widget,i))}>${t==="disabled"?null:this._renderContainer()}</div>`}_renderHandle(){const{direction:t}=this.viewModel,{hideHandle:e}=this,n={[CP.dragHorizontal]:t==="vertical",[CP.dragVertical]:t==="horizontal"},i=dS(bo.handle,!!e&&bo.handleHidden);return Kh`<div class=${ou(i)} role=presentation><span aria-hidden=true class=${ou(dS(bo.handleIcon,n))}></span></div>`}_renderDivider(){return this.hideDivider?null:Kh`<div class=${ou(bo.divider)} role=presentation></div>`}_renderContent(){return[this._renderDivider(),this._renderHandle()]}_renderContainer(){const{disabled:t,viewModel:e}=this,{max:n,min:i,direction:r,position:s}=e,o=this.label??this.messages.dragLabel??"",a=`${s}%`,l={top:r==="vertical"?a:void 0,left:r==="vertical"?void 0:a},c=this._renderContent();return t?Kh`<div class=${ou(bo.container)} role=presentation style=${pS(l)}>${c}</div>`:Kh`<div @pointerdown=${this._onContainerPointerDown} .ariaLabel=${o} .ariaOrientation=${r} .ariaValueMax=${`${n}`} .ariaValueMin=${`${i}`} .ariaValueNow=${`${s}`} .ariaValueText=${a} class=${ou(bo.container)} @keydown=${this._onContainerKeyDown} role=slider style=${pS(l)} tabindex=0 title=${o??pP} touch-action=none ${uP(this._containerRef)}>${c}</div>`}};mP("arcgis-swipe",Mat);class ce{static async Basemap(e){const n=await import("./Basemap-DR-wR0it.js").then(i=>i.B);return Reflect.construct(n.default,[e])}static async Map(e){const n=await import("./Map-CYjqVKDm.js").then(i=>i.M);return Reflect.construct(n.default,[e])}static async MapView(e){const n=await import("./MapView-CcgL30VV.js").then(i=>i.M);return Reflect.construct(n.default,[e])}static async FeatureLayer(e){const n=await import("./FeatureLayer-D1M--Gf7.js");return Reflect.construct(n.default,[e])}static async GraphicsLayer(e){const n=await import("./GraphicsLayer-BPINIw3R.js");return Reflect.construct(n.default,[e])}static async ImageryLayer(e){const n=await import("./ImageryLayer-BJANC_fq.js");return Reflect.construct(n.default,[e])}static async ImageryTileLayer(e){const n=await import("./ImageryTileLayer-CvGD0VER.js");return Reflect.construct(n.default,[e])}static async MapImageLayer(e){const n=await import("./MapImageLayer-DCPZIG_8.js");return Reflect.construct(n.default,[e])}static async OpenStreetMapLayer(e){const n=await import("./OpenStreetMapLayer-0GjTGRST.js");return Reflect.construct(n.default,[e])}static async TileLayer(e){const n=await import("./TileLayer-BK0m8rn2.js");return Reflect.construct(n.default,[e])}static async VectorTileLayer(e){const n=await import("./VectorTileLayer-CLTURO9r.js");return Reflect.construct(n.default,[e])}static async WMSLayer(e){const n=await import("./WMSLayer-DCgA1Kks.js");return Reflect.construct(n.default,[e])}static async ArcadeExecutor(e,n){const{createArcadeExecutor:i}=await import("./arcade-5ZrgRVO3.js");return await i(e,n)}static async ColorBackground(e){const n=await import("./ColorBackground-BZBaEl4h.js");return Reflect.construct(n.default,[e])}static async FeatureFilter(e){const n=await import("./FeatureFilter-CzwYVd6P.js");return Reflect.construct(n.default,[e])}static async FieldFromJson(e){return(await import("./Field-CY14G2Qc.js").then(n=>n.F)).default.fromJSON(e)}static async Query(){const e=await import("./Query-H6FQE0MX.js").then(n=>n.Q);return Reflect.construct(e.default,[])}static async QueryByIds(e,n,i){const{executeForIds:r}=await import("./query-MjifDMJW.js");return r(e,n,i)}static async RendererFromJson(e){const{fromJSON:n}=await import("./jsonUtils-CXCrcx4Q.js");return n(e)}}class Rt{wkid;latestWkid;wkt;constructor(e,n){typeof e=="string"?this.wkt=e:(this.wkid=e,this.latestWkid=n)}isEqual(e){return!!(this.isWebMercator()&&e.isWebMercator()||this.wkid&&e.wkid&&this.wkid===e.wkid||this.wkt&&e.wkt&&this.wkt===e.wkt||this.latestWkid&&e.latestWkid&&this.latestWkid===e.latestWkid)}clone(){const e=new Rt("");return e.latestWkid=this.latestWkid,e.wkid=this.wkid,e.wkt=this.wkt,e}lean(){const e={};return this.wkt?e.wkt=this.wkt:(e.wkid=this.wkid,this.latestWkid&&(e.latestWkid=this.latestWkid)),e}isWebMercator(){const e=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&e.includes(this.wkid)||this.latestWkid&&e.includes(this.latestWkid))}static latLongSR(){return new Rt(4326)}static fromConfig(e){if(e.wkt)return new Rt(e.wkt);if(e.wkid)return new Rt(e.wkid,e.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(e){return e?e instanceof Rt?e.clone():typeof e=="string"&&e.startsWith("EPSG:")?new Rt(parseInt(e.substring(5).trim())):new Rt(e):Rt.latLongSR()}static fromESRI(e){if(e.wkt)return new Rt(e.wkt);{const n=e.toJSON().latestWkid,i=new Rt(e.wkid);return n&&(i.latestWkid=n),i}}toESRI(){return new Pt(this.lean())}static fromGeoJSON(e){const n=Rt.parseGeoJsonCrs(e);return n.substring(0,5)==="EPSG:"?new Rt(parseInt(n.slice(5))):new Rt(n)}static parseGeoJsonCrs(e){if(e){if(e.type==="name"){const n=/urn:ogc:def:crs:EPSG::(\d+)/,i=e.properties.name,r=i.match(n);if(r)return"EPSG:"+r[1];if(i.substring(0,7)!=="urn:ogc")return i}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",e),"EPSG:4326"}toGeoJSON(){const e={type:"name",properties:{name:""}};return this.wkt?e.properties.name=this.wkt:e.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),e}}class au{sr;id;constructor(e,n){this.id=e?e.toString():"",this.sr=Rt.parseSR(n)}get type(){return Bt.UNKNOWN}childIdGenerator(e){return`${this.id}-${e}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Bt.NONE||this.type===Bt.UNKNOWN}geoJsonFactory(e,n){const i={type:e,coordinates:n};return this.sr&&(i.crs=this.sr.toGeoJSON()),i}}class Sl extends au{constructor(){super("no_geometry")}get type(){return Bt.NONE}}let pi=class W0 extends au{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=n.slice():this.rawArray=W0.parseXY(n)}get type(){return Bt.POINT}get x(){return this.rawArray[0]}set x(e){this.rawArray[0]=e}get y(){return this.rawArray[1]}set y(e){this.rawArray[1]=e}toArray(){return this.rawArray.slice()}static parseXY(e){let n;if(Array.isArray(e)&&e.length===2)n=e;else{if(e instanceof W0)return e.toArray();n=[e.x,e.y]}if(isNaN(n[0])||isNaN(n[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(n[0]),parseFloat(n[1])]}static fromESRI(e,n){return new W0(n,[e.x,e.y],Rt.fromESRI(e.spatialReference),!0)}toESRI(){return new se({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new W0(n,e.coordinates,Rt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(un.POINT,this.toArray())}};class Mr extends au{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=Mr.arrayDeepCopy(n):n instanceof Mr?this.rawArray=n.toArray():this.rawArray=Mr.parsePointSet(n)}get pointArray(){return this.rawArray.map((e,n)=>new pi(this.childIdGenerator(n),e,this.sr,!0))}getAt(e){return new pi(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,n){this.rawArray[n]=pi.parseXY(e)}get length(){return this.rawArray.length}toArray(){return Mr.arrayDeepCopy(this.rawArray)}static parsePointSet(e){if(Array.isArray(e)){if(e.length===0)throw new Error("no verticies provided");return e.map(n=>pi.parseXY(n))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(e){return e.map(n=>n.slice())}}class _d extends Mr{constructor(e,n,i,r){super(e,n,i,r)}get type(){return Bt.MULTIPOINT}static fromESRI(e,n){return new _d(n,e.points,Rt.fromESRI(e.spatialReference),!0)}toESRI(){return new Kr({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new _d(n,e.coordinates,Rt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(un.MULTIPOINT,this.toArray())}}class uc extends Mr{constructor(e,n,i,r){if(super(e,n,i,r),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Bt.LINESTRING}static fromESRI(e,n){return new uc(n,e.paths[0],Rt.fromESRI(e.spatialReference),!0)}toESRI(){return new Bi({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new uc(n,e.coordinates,Rt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(un.LINESTRING,this.toArray())}}class ro extends au{rawArray;constructor(e,n,i,r){if(super(e,n.sr||i),r)this.rawArray=ro.arrayDeepCopy(n);else if(n instanceof ro)this.rawArray=n.toArray();else if(n instanceof Mr)this.rawArray=[n.toArray()];else if(Array.isArray(n)){if(n.length===0)throw new Error("no lines provided");this.rawArray=n.map(s=>Mr.parsePointSet(s))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((e,n)=>new uc(this.childIdGenerator(n),e,this.sr,!0))}getAt(e){return new uc(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,n){this.rawArray[n]=Mr.parsePointSet(e)}get length(){return this.rawArray.length}get type(){return Bt.MULTILINESTRING}toArray(){return ro.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(e){return e.map(n=>n.map(i=>i.slice()))}static fromESRI(e,n){return new ro(n,e.paths,Rt.fromESRI(e.spatialReference),!0)}toESRI(){return new Bi({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new ro(n,e.coordinates,Rt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(un.MULTILINESTRING,this.toArray())}}class Wu extends Mr{constructor(e,n,i,r){if(super(e,n,i,r),Wu.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Bt.LINEARRING}updateAt(e,n){const i=this.length-1;n===0?super.updateAt(e,i):n===i&&super.updateAt(e,0),super.updateAt(e,n)}static closeRing(e){const n=e[0],i=e[e.length-1];(n[0]!==i[0]||n[1]!==i[1])&&e.push(n.slice())}static fromESRI(e,n){return new Wu(n,e.rings[0],Rt.fromESRI(e.spatialReference),!0)}toESRI(){return new qn({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new Wu(n,e.coordinates,Rt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(un.POLYGON,[this.toArray()])}}class gi extends au{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=gi.arrayDeepCopy(n):this.rawArray=gi.parsePolygon(n)}addLinearRings(e){e.forEach(n=>this.rawArray.push(n.toArray()))}get ringArray(){return this.rawArray.map((e,n)=>new Wu(this.childIdGenerator(n),e,this.sr,!0))}get type(){return Bt.POLYGON}toArray(){return gi.arrayDeepCopy(this.rawArray)}static parsePolygon(e){let n=[];if(e instanceof gi)return e.toArray();if(e instanceof ro)n=e.toArray();else if(e instanceof Mr)n=[e.toArray()];else if(Array.isArray(e)){if(e.length===0)throw new Error("no rings provided");n=e.map(i=>Mr.parsePointSet(i))}else throw new Error("invalid input format for parsePolygon");return n.forEach(i=>Wu.closeRing(i)),n}static arrayDeepCopy(e){return e.map(n=>n.map(i=>i.slice()))}static fromESRI(e,n){return new gi(n,e.rings,Rt.fromESRI(e.spatialReference),!0)}toESRI(){return new qn({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new gi(n,e.coordinates,Rt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(un.POLYGON,this.toArray())}}class Va extends au{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=Va.arrayDeepCopy(n):this.rawArray=Va.parseMultiPolygon(n)}addPolygon(e){this.rawArray.push(e.toArray())}get polygonArray(){return this.rawArray.map((e,n)=>new gi(this.childIdGenerator(n),e,this.sr,!0))}get type(){return Bt.MULTIPOLYGON}toArray(){return Va.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(e){if(e instanceof Va)return e.toArray();if(e instanceof gi)return[e.toArray()];if(e instanceof ro||e instanceof Mr)return[gi.parsePolygon(e)];if(Array.isArray(e)){if(e.length===0)throw new Error("no polygons provided");return e.map(n=>gi.parsePolygon(n))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(e){return e.map(n=>n.map(i=>i.map(r=>r.slice())))}static fromESRI(e,n){return new Va(n,[e.rings],Rt.fromESRI(e.spatialReference),!0)}toESRI(){const e=[];return this.toArray().forEach(n=>{n.forEach(i=>e.push(i))}),new qn({rings:e,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new Va(n,e.coordinates,Rt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(un.MULTIPOLYGON,this.toArray())}}class Xe extends au{rawMin;rawMax;constructor(e,n,i,r){super(e,n.sr||r),this.rawMin=pi.parseXY(n),this.rawMax=pi.parseXY(i)}get type(){return Bt.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new pi(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(e){return Xe.fromESRI(this.toESRI().expand(e),`${this.id}-expanded`)}clone(){return new Xe(this.id,this.rawMin,this.rawMax,this.sr)}contains(e){return this.sr.isEqual(e.sr)?this.xmin<=e.x&&this.xmax>=e.x&&this.ymin<=e.y&&this.ymax>=e.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new gi(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(e,n,i,r,s,o){return new Xe(e,[n,i],[r,s],o)}static fromConfig(e,n){return new Xe(e,[n.xmin,n.ymin],[n.xmax,n.ymax],Rt.fromConfig(n.spatialReference))}isEqual(e){return e?this.xmin===e.xmin&&this.ymin===e.ymin&&this.xmax===e.xmax&&this.ymax===e.ymax:!1}static fromESRI(e,n){return Xe.fromParams(n,e.xmin,e.ymin,e.xmax,e.ymax,Rt.fromESRI(e.spatialReference))}toESRI(){return new le({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(e,n){return Xe.fromESRI(le.fromJSON(e),n)}static fromGeoJSON(e,n){if(e.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const i=e.coordinates[0].slice(),r=i.slice();return[1,2,3].forEach(s=>{[0,1].forEach(o=>{const a=e.coordinates[s];i[o]>a[o]&&(i[o]=a[o]),r[o]<a[o]&&(r[o]=a[o])})}),new Xe(n,i,r,Rt.fromGeoJSON(e.crs))}toGeoJSON(){return this.geoJsonFactory(un.POLYGON,this.toPolygonArray())}}class za{c;constructor(e){if(!e){this.c=[0,0,0,1];return}if(Array.isArray(e)){const n=e.length;if(n<3||n>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=e.map((i,r)=>r===3?i:parseInt(i)),n===3&&this.c.push(1)}else if(typeof e=="string"){const n=e.substring(0,1)==="#"?e.substring(1):e;this.c=[0,2,4,6].map(i=>{const r=n.substring(i,i+2);return za.hexToInt(r)})}else this.c=[e.r,e.g,e.b,e.a??1];this.c.forEach((n,i)=>{n<0&&(console.error("Negative value passed to colour"),this.c[i]=0),n>255&&(console.error("Rotund value passed to colour"),this.c[i]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const e=this.rgba;return e[3]=e[3]*255,`#${e.map(n=>za.intToHex(n)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new pe(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(e){return e.length===0?255:parseInt(e,16)}static intToHex(e){const n=e.toString(16);return n.length===1?`0${n}`:n}}class fa{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(e){if(!(typeof e>"u"))if(typeof e=="string"){let n;const i=e.length;if(i===0)return;const r=e.substring(i-2);return r==="px"?n=parseFloat(e.substring(0,i-2))*1.333333:r==="pt"?n=parseFloat(e.substring(0,i-2)):n=parseFloat(e),n}else return e}}class Wa extends fa{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(e){if(e=e||{style:oo.CIRCLE},super(),this._style=e.style||oo.CIRCLE,e.style===oo.ICON){const n=e;this._icon=n.icon||"",this._height=fa.convToPoints(n.height)||16.5,this._width=fa.convToPoints(n.width)||16.5,this._size=0,this._colour=new za,this._outline=new qo,this._path=""}else{const n=e;this._size=fa.convToPoints(n.size)||12,this._colour=new za(n.colour??"#ffffff40"),this._outline=new qo(n.outline),this._path=this._style===oo.PATH&&n.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=fa.convToPoints(e.xOffset)||0,this._yOffset=fa.convToPoints(e.yOffset)||0,this._angle=e.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(e){this._style===oo.ICON!==e&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const e={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===oo.ICON?{...e,icon:this.icon,width:this.width,height:this.height}:{...e,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let e;return this.styleType===oo.ICON?Wa.isImageUrl(this.icon)?(e=new ui,e.url=this.icon,e.width=this.width,e.height=this.height,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new Bn,e.color=new pe(this.colour.rgba),e.size=this.width,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new Bn,e.color=new pe(this.colour.rgba),e.size=this.size,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle,e.path=this.path,e.style=this.styleType,e.outline=this.outline.toESRI()),e}static fromESRI(e){const n={xOffset:e.xoffset,yOffset:e.yoffset,angle:e.angle};if(e.type==="simple-marker"){const i=n;i.style=e.style,i.colour=e.color.toRgba(),i.size=e.size,i.path=e.path,i.outline=qo.fromESRI(e.outline).toOptions()}else{const i=n;i.style=oo.ICON,i.width=e.width,i.height=e.height,i.icon=e.url}return new Wa(n)}static fromArcServer(e){return Wa.fromESRI(w1(e))}static isImageUrl(e){return!!e.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!e.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class qo extends fa{_style;_width;_miter;_cap;_join;_colour;constructor(e){e=e||{},super(),this._style=e.style||ir.SOLID;const n=fa.convToPoints(e.width);this._width=typeof n>"u"||n<0?.75:n,this._colour=new za(e.colour),this._miter=e.miter??2,this._cap=e.cap||YT.ROUND,this._join=e.join||HT.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const e=new Un;return e.width=this.width,e.color=this.colour.toESRI(),e.style=this.styleType,e.cap=this.cap,e.miterLimit=this.miter,e.join=this.join,e}static fromESRI(e){const n={width:e.width,colour:e.color.toRgba(),style:e.style};return new qo(n)}static fromArcServer(e){return qo.fromESRI(w1(e))}}class xd extends fa{_outlineStyle;_fillColour;_fillStyle;constructor(e){super(),e=e||{},e.fill||(e.fill={}),this._fillColour=new za(e.fill.colour),this._fillStyle=e.fill.style||JT.SOLID,this._outlineStyle=new qo(e.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const e=this.outline.toESRI(),n=new pe(this.fillColour.rgba),i=new ar;return i.style=this.fillStyleType,i.color=n,i.outline=e,i}static fromESRI(e){const n={fill:{colour:e.color.toRgba(),style:e.style},outline:qo.fromESRI(e.outline).toOptions()};return new xd(n)}static fromArcServer(e){return xd.fromESRI(w1(e))}}class Tat{Extent=Xe;Graphic=Wr;LineString=uc;LineStyle=qo;LinearRing=Wu;MultiLineString=ro;MultiPoint=_d;MultiPolygon=Va;Point=pi;PointStyle=Wa;Polygon=gi;PolygonStyle=xd;SpatialReference=Rt;esriMapClickToRamp(e,n){return{mapPoint:pi.fromESRI(e.mapPoint,n),screenX:e.x,screenY:e.y,button:e.button,input:e.native.pointerType,clickTime:e.timestamp}}esriMapMouseToRamp(e){return{screenX:e.x,screenY:e.y,button:e.button,moveTime:e.timestamp}}geomRampToEsri(e){return e.toESRI()}geomEsriToRamp(e,n){switch(e.type){case"point":return pi.fromESRI(e,n);case"polyline":{const i=e;return i.paths.length===1?uc.fromESRI(i,n):ro.fromESRI(i,n)}case"polygon":return gi.fromESRI(e,n);case"extent":return Xe.fromESRI(e,n);case"multipoint":return _d.fromESRI(e,n);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomGeoJsonToRamp(e,n){switch(e.type){case un.POINT:return pi.fromGeoJSON(e,n);case un.LINESTRING:return uc.fromGeoJSON(e,n);case un.POLYGON:return gi.fromGeoJSON(e,n);case un.MULTIPOINT:return _d.fromGeoJSON(e,n);case un.MULTILINESTRING:return ro.fromGeoJSON(e,n);case un.MULTIPOLYGON:return Va.fromGeoJSON(e,n);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomRampToGeoJson(e){return e.toGeoJSON()}graphicRampToGeoJson(e){const n={},i={type:"Feature",geometry:this.geomRampToGeoJson(e.geometry),properties:n};return Object.keys(e.attributes).forEach(r=>i.properties[r]=e.attributes[r]),i}graphicGeoJsonToRamp(e,n){if(e.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const i=this.geomGeoJsonToRamp(e.geometry,n),r={};return Object.keys(e.properties.forEach(s=>r[s]=e.properties[s])),new Wr(i,"",r)}graphicRampToEsri(e){const n={attributes:{},id:e.id};return n.geometry=this.geomRampToEsri(e.geometry),Object.keys(e.attributes).forEach(i=>n.attributes[i]=e.attributes[i]),e.style&&(n.symbol=this.styleRampToEsri(e.style)),new Hi(n)}styleRampToEsri(e){return e.toESRI()}styleEsriToRamp(e){switch(e.type){case"picture-marker":case"simple-marker":return Wa.fromESRI(e);case"simple-line":return qo.fromESRI(e);case"simple-fill":return xd.fromESRI(e);default:return console.error(`Unsupported ESRI symbol type encountered: ${e.type}`),new Wa}}serverGeomTypeToRampGeomType(e){if(!e)return Bt.NONE;switch(e){case"esriGeometryPolygon":return Bt.POLYGON;case"esriGeometryPolyline":return Bt.LINESTRING;case"esriGeometryPoint":return Bt.POINT;case"esriGeometryMultipoint":return Bt.MULTIPOINT;case"esriGeometryEnvelope":return Bt.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${e}`),Bt.UNKNOWN}}clientGeomTypeToRampGeomType(e){if(!e)return Bt.NONE;switch(e){case"polygon":return Bt.POLYGON;case"polyline":return Bt.LINESTRING;case"point":return Bt.POINT;case"multipoint":return Bt.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${e}`),Bt.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(e){switch(e){case un.POINT:return"point";case un.LINESTRING:case un.MULTILINESTRING:return"polyline";case un.POLYGON:case un.MULTIPOLYGON:return"polygon";case un.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${e}`)}}isImageUrl(e){return Wa.isImageUrl(e)}}class D1{layerIdx;name;children;uid;isRoot;constructor(e,n,i="",r=!0){this.layerIdx=e,this.name=i,this.isRoot=r,this.children=[],this.uid=n}findChildByUid(e){if(this.uid===e)return this;{let n;return this.children.some(i=>n=i.findChildByUid(e)),n}}findChildByIdx(e){if(this.layerIdx===e)return this;{let n;return this.children.some(i=>n=i.findChildByIdx(e)),n}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class kP{minScale;maxScale;constructor(e=0,n=0){this.minScale=e,this.maxScale=n}isOffScale(e){const n={offScale:!1,zoomIn:!1};return e<this.maxScale&&this.maxScale!==0?(n.offScale=!0,n.zoomIn=!1):e>this.minScale&&this.minScale!==0&&(n.offScale=!0,n.zoomIn=!0),n}}class RP{sql;cache;extent;constructor(e="",n=""){this.sql={[oi.PERMANENT]:e,[oi.INITIAL]:n},this.extent=void 0,this.cache={}}sqlActiveFilters(e=[]){const n=this.sql,i=Object.keys(n).filter(r=>n[r]);return e.length===0?i:i.filter(r=>e.indexOf(r)===-1)}isActive(){return this.sqlActiveFilters([oi.PERMANENT]).length>0}getCombinedSql(e=[]){const n=this.sqlActiveFilters(e),i=n.length;return i===0?"":i===1?this.sql[n[0]]:n.map(r=>`(${this.sql[r]})`).join(" AND ")}setSql(e,n){e===oi.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[e]=n,this.clearCacheSet(e))}getSql(e){return this.sql[e]||""}setExtent(e){e.isEqual(this.extent)||(this.extent=e,this.clearCacheSet(oi.EXTENT))}getCacheKey(e,n){return`_cache$${e.sort().join("$")}${n?"$"+oi.EXTENT:""}$`}getCache(e,n){const i=this.getCacheKey(e,n);return this.cache[i]}setCache(e,n,i){const r=this.getCacheKey(n,i);this.cache[r]=e}cacheActiveKeys(){const e=this.cache;return Object.keys(e).filter(n=>e[n])}clearAllCaches(){this.cache={}}clearCacheSet(e){this.cacheActiveKeys().forEach(n=>{n.indexOf(`$${e}$`)>-1&&delete this.cache[n]})}clearAll(){this.sql={[oi.PERMANENT]:this.sql[oi.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class Y0{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(e,n,i=void 0,r=void 0){this.id=e,this.sr=n.sr.clone(),this._defaultExtent=n.clone(),this._fullExtent=i?.clone(),this._maximumExtent=r?.clone(),i&&!i.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${i.sr}`),r&&!r.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${r.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(e){this._defaultExtent=e.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(e){this._fullExtent=e.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(e){this._maximumExtent=e.clone()}static fromConfig(e){return new Y0(e.id,Xe.fromConfig(`${e.id}-extent-default`,e.default),e.full!==void 0?Xe.fromConfig(`${e.id}-extent-full`,e.full):void 0,e.maximum!==void 0?Xe.fromConfig(`${e.id}-extent-maximum`,e.maximum):void 0)}clone(){return new Y0(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class wn{realPromise;resolveMe(e){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((e,n)=>{this.resolveMe=i=>{e(i)},this.rejectMe=n})}}var Iat=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function LP(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var bS,PP;function Nat(){if(PP)return bS;PP=1;var t=function(A){return e(A)&&!n(A)};function e(A){return!!A&&typeof A=="object"}function n(A){var M=Object.prototype.toString.call(A);return M==="[object RegExp]"||M==="[object Date]"||s(A)}var i=typeof Symbol=="function"&&Symbol.for,r=i?Symbol.for("react.element"):60103;function s(A){return A.$$typeof===r}function o(A){return Array.isArray(A)?[]:{}}function a(A,M){return M.clone!==!1&&M.isMergeableObject(A)?b(o(A),A,M):A}function l(A,M,_){return A.concat(M).map(function(w){return a(w,_)})}function c(A,M){if(!M.customMerge)return b;var _=M.customMerge(A);return typeof _=="function"?_:b}function p(A){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(A).filter(function(M){return Object.propertyIsEnumerable.call(A,M)}):[]}function d(A){return Object.keys(A).concat(p(A))}function f(A,M){try{return M in A}catch{return!1}}function y(A,M){return f(A,M)&&!(Object.hasOwnProperty.call(A,M)&&Object.propertyIsEnumerable.call(A,M))}function g(A,M,_){var w={};return _.isMergeableObject(A)&&d(A).forEach(function(T){w[T]=a(A[T],_)}),d(M).forEach(function(T){y(A,T)||(f(A,T)&&_.isMergeableObject(M[T])?w[T]=c(T,_)(A[T],M[T],_):w[T]=a(M[T],_))}),w}function b(A,M,_){_=_||{},_.arrayMerge=_.arrayMerge||l,_.isMergeableObject=_.isMergeableObject||t,_.cloneUnlessOtherwiseSpecified=a;var w=Array.isArray(M),T=Array.isArray(A),I=w===T;return I?w?_.arrayMerge(A,M,_):g(A,M,_):a(M,_)}b.all=function(A,M){if(!Array.isArray(A))throw new Error("first argument should be an array");return A.reduce(function(_,w){return b(_,w,M)},{})};var x=b;return bS=x,bS}var Oat=Nat();const wS=F1(Oat);class Cat{generateUUID(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const i=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(n==="x"?i:i&3|8).toString(16)})}convertImageToCanvas(e,n,i=!0){const r=n??document.createElement("canvas"),s=document.createElement("img");i&&(s.crossOrigin="anonymous");const o=new Promise((a,l)=>{s.addEventListener("load",()=>{r.width=s.width,r.height=s.height,r.getContext("2d")?.drawImage(s,0,0),a(r)}),s.addEventListener("error",c=>l(c))});return s.src=e,o}async convertImagetoDataURL(e,n="image/png"){return e.startsWith("data")?e:this.convertImageToCanvas(e).then(i=>i.toDataURL(n)).catch(i=>(console.error("Failed to load crossorigin image",e,i),e))}parseUrlIndex(e){const n={rootUrl:e,index:0},i=/\/(\d+)\/?$/,r=e.match(i);if(r){const s=r[1];n.index=isNaN(parseInt(s))?void 0:parseInt(s),n.rootUrl=e.substr(0,e.length-r[0].length)}else console.warn("Cannot extract layer index from url "+e);return n}controlAvailable(e,n){return n?.disabledControls?.includes(e)?!1:n?.controls?n?.controls?.includes(e):!0}}class em{_url;_base;_query;_queryMap={};constructor(e){this._url=e,[this._base,this._query]=e.split("?").concat(""),this._queryMap=this._query.split("&").reduce((n,i)=>{const[r,s]=i.split("=");return n[r]=s,n},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(e){const n=wS.all([{},this.queryMap,e]);return`${this.base}${Object.entries(n).filter(([,i])=>i!==void 0).map(([i,r],s)=>`${s===0?"?":""}${i}=${r}`).join("&")}`}}var nm=6378137,kat=57.29577951308232,Rat=.017453292519943,Lat={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},_S=function(t){return t*kat},xS=function(t){return t*Rat},Pat=function(t){var e=t[0],n=t[1];return[_S(e/nm)-Math.floor((_S(e/nm)+180)/360)*360,_S(Math.PI/2-2*Math.atan(Math.exp(-1*n/nm)))]},Dat=function(t){var e=t[0],n=Math.max(Math.min(t[1],89.99999),-89.99999);return[xS(e)*nm,nm/2*Math.log((1+Math.sin(xS(n)))/(1-Math.sin(xS(n))))]};function ES(t){"@babel/helpers - typeof";return ES=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ES(t)}var Fat=function t(e,n){for(var i=0;i<e.length;i++)typeof e[i][0]=="number"&&(e[i]=n(e[i])),ES(e[i])==="object"&&(e[i]=t(e[i],n));return e},jat=function t(e,n,i){if(e.type==="Point")e.coordinates=n(e.coordinates);else if(e.type==="Feature")e.geometry=t(e.geometry,n,!0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length;r++)e.features[r]=t(e.features[r],n,!0);else if(e.type==="GeometryCollection")for(var s=0;s<e.geometries.length;s++)e.geometries[s]=t(e.geometries[s],n,!0);else e.coordinates=Fat(e.coordinates,n);return i||n===Dat&&(e.crs=Lat),n===Pat&&delete e.crs,e};function $at(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var lu=1,cu=2,op=3,Gat=4,SS=5,DP=6378137,Uat=6356752314e-3,FP=.0066943799901413165,im=484813681109536e-20,lt=Math.PI/2,Bat=.16666666666666666,Vat=.04722222222222222,zat=.022156084656084655,yt=1e-10,di=.017453292519943295,wo=57.29577951308232,Se=Math.PI/4,rm=Math.PI*2,In=3.14159265359,ur={};ur.greenwich=0,ur.lisbon=-9.131906111111,ur.paris=2.337229166667,ur.bogota=-74.080916666667,ur.madrid=-3.687938888889,ur.rome=12.452333333333,ur.bern=7.439583333333,ur.jakarta=106.807719444444,ur.ferro=-17.666666666667,ur.brussels=4.367975,ur.stockholm=18.058277777778,ur.athens=23.7163375,ur.oslo=10.722916666667;const Wat={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var jP=/[\s_\-\/\(\)]/g;function Al(t,e){if(t[e])return t[e];for(var n=Object.keys(t),i=e.toLowerCase().replace(jP,""),r=-1,s,o;++r<n.length;)if(s=n[r],o=s.toLowerCase().replace(jP,""),o===i)return t[s]}function AS(t){var e={},n=t.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),i,r,s,o={proj:"projName",datum:"datumCode",rf:function(a){e.rf=parseFloat(a)},lat_0:function(a){e.lat0=a*di},lat_1:function(a){e.lat1=a*di},lat_2:function(a){e.lat2=a*di},lat_ts:function(a){e.lat_ts=a*di},lon_0:function(a){e.long0=a*di},lon_1:function(a){e.long1=a*di},lon_2:function(a){e.long2=a*di},alpha:function(a){e.alpha=parseFloat(a)*di},gamma:function(a){e.rectified_grid_angle=parseFloat(a)},lonc:function(a){e.longc=a*di},x_0:function(a){e.x0=parseFloat(a)},y_0:function(a){e.y0=parseFloat(a)},k_0:function(a){e.k0=parseFloat(a)},k:function(a){e.k0=parseFloat(a)},a:function(a){e.a=parseFloat(a)},b:function(a){e.b=parseFloat(a)},r:function(a){e.a=e.b=parseFloat(a)},r_a:function(){e.R_A=!0},zone:function(a){e.zone=parseInt(a,10)},south:function(){e.utmSouth=!0},towgs84:function(a){e.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){e.to_meter=parseFloat(a)},units:function(a){e.units=a;var l=Al(Wat,a);l&&(e.to_meter=l.to_meter)},from_greenwich:function(a){e.from_greenwich=a*di},pm:function(a){var l=Al(ur,a);e.from_greenwich=(l||parseFloat(a))*di},nadgrids:function(a){a==="@null"?e.datumCode="none":e.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(e.axis=a)},approx:function(){e.approx=!0}};for(i in n)r=n[i],i in o?(s=o[i],typeof s=="function"?s(r):e[s]=r):e[i]=r;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var sm=1,$P=2,GP=3,j1=4,UP=5,MS=-1,qat=/\s/,Hat=/[A-Za-z]/,Yat=/[A-Za-z84_]/,$1=/[,\]]/,BP=/[\d\.E\-\+]/;function ma(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=sm}ma.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==j1)for(;qat.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case sm:return this.neutral(t);case $P:return this.keyword(t);case j1:return this.quoted(t);case UP:return this.afterquote(t);case GP:return this.number(t);case MS:return}},ma.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=j1;return}if($1.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)},ma.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=sm;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=sm,this.currentObject=this.stack.pop(),this.currentObject||(this.state=MS);return}},ma.prototype.number=function(t){if(BP.test(t)){this.word+=t;return}if($1.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)},ma.prototype.quoted=function(t){if(t==='"'){this.state=UP;return}this.word+=t},ma.prototype.keyword=function(t){if(Yat.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=sm;return}if($1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)},ma.prototype.neutral=function(t){if(Hat.test(t)){this.word=t,this.state=$P;return}if(t==='"'){this.word="",this.state=j1;return}if(BP.test(t)){this.word=t,this.state=GP;return}if($1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)},ma.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===MS)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function Jat(t){var e=new ma(t);return e.output()}function VP(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce(function(s,o){return ap(o,s),s},i);e&&(t[e]=r)}function ap(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},ap(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var i;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&ap(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&ap(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],VP(e,n,t);return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return ap(t,e[n]);return VP(e,n,t)}}var Zat=.017453292519943295;function Xat(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],e.length===3&&(t[n]=e[2](t[n])))}function _o(t){return t*Zat}function Qat(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,i=t.AXIS.length;n<i;++n){var r=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];r[0].indexOf("north")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="north"?e+="n":r[0].indexOf("south")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="south"?e+="s":r[0].indexOf("east")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="east"?e+="e":(r[0].indexOf("west")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function o(c){var p=t.to_meter||1;return c*p}var a=function(c){return Xat(t,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",_o],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",_o],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",_o],["lat0","latitude_of_origin",_o],["lat0","standard_parallel_1",_o],["lat1","standard_parallel_1",_o],["lat2","standard_parallel_2",_o],["azimuth","Azimuth"],["alpha","azimuth",_o],["srsCode","name"]];l.forEach(a),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=_o(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=_o(t.lat0>0?90:-90))}function zP(t){var e=Jat(t),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return ap(e,r),Qat(r),r}function Yi(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Yi[t]=AS(arguments[1]):Yi[t]=zP(arguments[1]):Yi[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(i){Array.isArray(i)?Yi.apply(e,i):Yi(i)});if(typeof t=="string"){if(t in Yi)return Yi[t]}else"EPSG"in t?Yi["EPSG:"+t.EPSG]=t:"ESRI"in t?Yi["ESRI:"+t.ESRI]=t:"IAU2000"in t?Yi["IAU2000:"+t.IAU2000]=t:console.log(t);return}}$at(Yi);function Kat(t){return typeof t=="string"}function tlt(t){return t in Yi}var elt=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function nlt(t){return elt.some(function(e){return t.indexOf(e)>-1})}var ilt=["3857","900913","3785","102113"];function rlt(t){var e=Al(t,"authority");if(e){var n=Al(e,"epsg");return n&&ilt.indexOf(n)>-1}}function slt(t){var e=Al(t,"extension");if(e)return Al(e,"proj4")}function olt(t){return t[0]==="+"}function alt(t){if(Kat(t)){if(tlt(t))return Yi[t];if(nlt(t)){var e=zP(t);if(rlt(e))return Yi["EPSG:3857"];var n=slt(e);return n?AS(n):e}if(olt(t))return AS(t)}else return t}function WP(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)n=e[i],n!==void 0&&(t[i]=n);return t}function xo(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}function om(t){return t<0?-1:1}function vt(t){return Math.abs(t)<=In?t:t-om(t)*rm}function zs(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(lt-e))/i}function am(t,e){for(var n=.5*t,i,r,s=lt-2*Math.atan(e),o=0;o<=15;o++)if(i=t*Math.sin(s),r=lt-2*Math.atan(e*Math.pow((1-i)/(1+i),n))-s,s+=r,Math.abs(r)<=1e-10)return s;return-9999}function llt(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=xo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function clt(t){var e=t.x,n=t.y;if(n*wo>90&&n*wo<-90&&e*wo>180&&e*wo<-180)return null;var i,r;if(Math.abs(Math.abs(n)-lt)<=yt)return null;if(this.sphere)i=this.x0+this.a*this.k0*vt(e-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(Se+.5*n));else{var s=Math.sin(n),o=zs(this.e,n,s);i=this.x0+this.a*this.k0*vt(e-this.long0),r=this.y0-this.a*this.k0*Math.log(o)}return t.x=i,t.y=r,t}function ult(t){var e=t.x-this.x0,n=t.y-this.y0,i,r;if(this.sphere)r=lt-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(r=am(this.e,s),r===-9999)return null}return i=vt(this.long0+e/(this.a*this.k0)),t.x=i,t.y=r,t}var hlt=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const plt={init:llt,forward:clt,inverse:ult,names:hlt};function dlt(){}function qP(t){return t}var flt=["longlat","identity"];const mlt={init:dlt,forward:qP,inverse:qP,names:flt};var ylt=[plt,mlt],G1={},U1=[];function HP(t,e){var n=U1.length;return t.names?(U1[n]=t,t.names.forEach(function(i){G1[i.toLowerCase()]=n}),this):(console.log(e),!0)}function glt(t){if(!t)return!1;var e=t.toLowerCase();if(typeof G1[e]<"u"&&U1[G1[e]])return U1[G1[e]]}function vlt(){ylt.forEach(HP)}const blt={start:vlt,add:HP,get:glt};var jt={};jt.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},jt.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},jt.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},jt.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},jt.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},jt.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},jt.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},jt.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},jt.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},jt.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},jt.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},jt.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},jt.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},jt.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},jt.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},jt.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},jt.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},jt.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},jt.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},jt.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},jt.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},jt.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},jt.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},jt.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},jt.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},jt.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},jt.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},jt.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},jt.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},jt.hough={a:6378270,rf:297,ellipseName:"Hough"},jt.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},jt.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},jt.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},jt.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},jt.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},jt.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},jt.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},jt.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},jt.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},jt.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},jt.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},jt.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var wlt=jt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};jt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function _lt(t,e,n,i){var r=t*t,s=e*e,o=(r-s)/r,a=0;i?(t*=1-o*(Bat+o*(Vat+o*zat)),r=t*t,o=0):a=Math.sqrt(o);var l=(r-s)/s;return{es:o,e:a,ep2:l}}function xlt(t,e,n,i,r){if(!t){var s=Al(jt,i);s||(s=wlt),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<yt)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}var Jn={};Jn.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Jn.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Jn.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Jn.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Jn.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Jn.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Jn.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Jn.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Jn.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},Jn.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Jn.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Jn.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Jn.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Jn.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Jn.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Jn.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Jn.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Jn.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function Elt(t,e,n,i,r,s,o){var a={};return t===void 0||t==="none"?a.datum_type=SS:a.datum_type=Gat,e&&(a.datum_params=e.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=lu),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=cu,a.datum_params[3]*=im,a.datum_params[4]*=im,a.datum_params[5]*=im,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=op,a.grids=o),a.a=n,a.b=i,a.es=r,a.ep2=s,a}var YP={};function Slt(t,e){var n=new DataView(e),i=Tlt(n),r=Ilt(n,i),s=Nlt(n,r,i),o={header:r,subgrids:s};return YP[t]=o,o}function Alt(t){if(t===void 0)return null;var e=t.split(",");return e.map(Mlt)}function Mlt(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:YP[t]||null,isNull:!1}}function lp(t){return t/3600*Math.PI/180}function Tlt(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Ilt(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:TS(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function TS(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function Nlt(t,e,n){for(var i=176,r=[],s=0;s<e.nSubgrids;s++){var o=Clt(t,i,n),a=klt(t,i,o,n),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);r.push({ll:[lp(o.lowerLongitude),lp(o.lowerLatitude)],del:[lp(o.longitudeInterval),lp(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:Olt(a)}),i+=176+o.gridNodeCount*16}return r}function Olt(t){return t.map(function(e){return[lp(e.longitudeShift),lp(e.latitudeShift)]})}function Clt(t,e,n){return{name:TS(t,e+8,e+16).trim(),parent:TS(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function klt(t,e,n,i){for(var r=e+176,s=16,o=[],a=0;a<n.gridNodeCount;a++){var l={latitudeShift:t.getFloat32(r+a*s,i),longitudeShift:t.getFloat32(r+a*s+4,i),latitudeAccuracy:t.getFloat32(r+a*s+8,i),longitudeAccuracy:t.getFloat32(r+a*s+12,i)};o.push(l)}return o}function Eo(t,e){if(!(this instanceof Eo))return new Eo(t);e=e||function(c){if(c)throw c};var n=alt(t);if(typeof n!="object"){e("Could not parse to valid json: "+t);return}var i=Eo.projections.get(n.projName);if(!i){e("Could not get projection name from: "+t);return}if(n.datumCode&&n.datumCode!=="none"){var r=Al(Jn,n.datumCode);r&&(n.datum_params=n.datum_params||(r.towgs84?r.towgs84.split(","):null),n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=xlt(n.a,n.b,n.rf,n.ellps,n.sphere),o=_lt(s.a,s.b,s.rf,n.R_A),a=Alt(n.nadgrids),l=n.datum||Elt(n.datumCode,n.datum_params,s.a,s.b,o.es,o.ep2,a);WP(this,n),WP(this,i),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),e(null,this)}Eo.projections=blt,Eo.projections.start();function Rlt(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===lu?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===cu?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function JP(t,e,n){var i=t.x,r=t.y,s=t.z?t.z:0,o,a,l,c;if(r<-lt&&r>-1.001*lt)r=-lt;else if(r>lt&&r<1.001*lt)r=lt;else{if(r<-lt)return{x:-1/0,y:-1/0,z:t.z};if(r>lt)return{x:1/0,y:1/0,z:t.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(r),c=Math.cos(r),l=a*a,o=n/Math.sqrt(1-e*l),{x:(o+s)*c*Math.cos(i),y:(o+s)*c*Math.sin(i),z:(o*(1-e)+s)*a}}function ZP(t,e,n,i){var r=1e-12,s=r*r,o=30,a,l,c,p,d,f,y,g,b,x,A,M,_,w=t.x,T=t.y,I=t.z?t.z:0,O,C,R;if(a=Math.sqrt(w*w+T*T),l=Math.sqrt(w*w+T*T+I*I),a/n<r){if(O=0,l/n<r)return C=lt,R=-i,{x:t.x,y:t.y,z:t.z}}else O=Math.atan2(T,w);c=I/l,p=a/l,d=1/Math.sqrt(1-e*(2-e)*p*p),g=p*(1-e)*d,b=c*d,_=0;do _++,y=n/Math.sqrt(1-e*b*b),R=a*g+I*b-y*(1-e*b*b),f=e*y/(y+R),d=1/Math.sqrt(1-f*(2-f)*p*p),x=p*(1-f)*d,A=c*d,M=A*g-x*b,g=x,b=A;while(M*M>s&&_<o);return C=Math.atan(A/Math.abs(x)),{x:O,y:C,z:R}}function Llt(t,e,n){if(e===lu)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===cu){var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+a*t.z)+i,y:c*(l*t.x+t.y-o*t.z)+r,z:c*(-a*t.x+o*t.y+t.z)+s}}}function Plt(t,e,n){if(e===lu)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===cu){var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6],p=(t.x-i)/c,d=(t.y-r)/c,f=(t.z-s)/c;return{x:p+l*d-a*f,y:-l*p+d+o*f,z:a*p-o*d+f}}}function B1(t){return t===lu||t===cu}function Dlt(t,e,n){if(Rlt(t,e)||t.datum_type===SS||e.datum_type===SS)return n;var i=t.a,r=t.es;if(t.datum_type===op){var s=XP(t,!1,n);if(s!==0)return;i=DP,r=FP}var o=e.a,a=e.b,l=e.es;if(e.datum_type===op&&(o=DP,a=Uat,l=FP),r===l&&i===o&&!B1(t.datum_type)&&!B1(e.datum_type))return n;if(n=JP(n,r,i),B1(t.datum_type)&&(n=Llt(n,t.datum_type,t.datum_params)),B1(e.datum_type)&&(n=Plt(n,e.datum_type,e.datum_params)),n=ZP(n,l,o,a),e.datum_type===op){var c=XP(e,!0,n);if(c!==0)return}return n}function XP(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},s=[];t:for(var o=0;o<t.grids.length;o++){var a=t.grids[o];if(s.push(a.name),a.isNull){r=i;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,p=l.length;c<p;c++){var d=l[c],f=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-f,g=d.ll[1]-f,b=d.ll[0]+(d.lim[0]-1)*d.del[0]+f,x=d.ll[1]+(d.lim[1]-1)*d.del[1]+f;if(!(g>i.y||y>i.x||x<i.y||b<i.x)&&(r=Flt(i,e,d),!isNaN(r.x)))break t}}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*wo+" "+i.y*wo+" tried: '"+s+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function Flt(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var r={x:t.x,y:t.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=vt(r.x-Math.PI)+Math.PI;var s=QP(r,n);if(e){if(isNaN(s.x))return i;s.x=r.x-s.x,s.y=r.y-s.y;var o=9,a=1e-12,l,c;do{if(c=QP(s,n),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:r.x-(c.x+s.x),y:r.y-(c.y+s.y)},s.x+=l.x,s.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=vt(s.x+n.ll[0]),i.y=s.y+n.ll[1]}else isNaN(s.x)||(i.x=t.x+s.x,i.y=t.y+s.y);return i}function QP(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},i={x:Math.floor(n.x),y:Math.floor(n.y)},r={x:n.x-1*i.x,y:n.y-1*i.y},s={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return s;o=i.y*e.lim[0]+i.x;var a={x:e.cvs[o][0],y:e.cvs[o][1]};o++;var l={x:e.cvs[o][0],y:e.cvs[o][1]};o+=e.lim[0];var c={x:e.cvs[o][0],y:e.cvs[o][1]};o--;var p={x:e.cvs[o][0],y:e.cvs[o][1]},d=r.x*r.y,f=r.x*(1-r.y),y=(1-r.x)*(1-r.y),g=(1-r.x)*r.y;return s.x=y*a.x+f*l.x+g*p.x+d*c.x,s.y=y*a.y+f*l.y+g*p.y+d*c.y,s}function KP(t,e,n){var i=n.x,r=n.y,s=n.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(o=i,"ew".indexOf(t.axis[l])!==-1?a="x":a="y"):l===1?(o=r,"ns".indexOf(t.axis[l])!==-1?a="y":a="x"):(o=s,a="z"),t.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":n[a]!==void 0&&(c.z=o);break;case"d":n[a]!==void 0&&(c.z=-o);break;default:return null}return c}function t9(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function jlt(t){e9(t.x),e9(t.y)}function e9(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function $lt(t,e){return(t.datum.datum_type===lu||t.datum.datum_type===cu||t.datum.datum_type===op)&&e.datumCode!=="WGS84"||(e.datum.datum_type===lu||e.datum.datum_type===cu||e.datum.datum_type===op)&&t.datumCode!=="WGS84"}function V1(t,e,n,i){var r;Array.isArray(n)?n=t9(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(jlt(n),t.datum&&e.datum&&$lt(t,e)&&(r=new Eo("WGS84"),n=V1(t,r,n,i),t=r),i&&t.axis!=="enu"&&(n=KP(t,!1,n)),t.projName==="longlat")n={x:n.x*di,y:n.y*di,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=Dlt(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*wo,y:n.y*wo,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),i&&e.axis!=="enu"?KP(e,!0,n):(n&&!s&&delete n.z,n)}var n9=Eo("WGS84");function IS(t,e,n,i){var r,s,o;return Array.isArray(n)?(r=V1(t,e,n,i)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof r.z=="number"?[r.x,r.y,r.z].concat(n.slice(3)):[r.x,r.y,n[2]].concat(n.slice(3)):[r.x,r.y].concat(n.slice(2)):[r.x,r.y]):(s=V1(t,e,n,i),o=Object.keys(n),o.length===2||o.forEach(function(a){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;s[a]=n[a]}),s)}function i9(t){return t instanceof Eo?t:t.oProj?t.oProj:Eo(t)}function Ce(t,e,n){t=i9(t);var i=!1,r;return typeof e>"u"?(e=t,t=n9,i=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=n9,i=!0),e=i9(e),n?IS(t,e,n):(r={forward:function(s,o){return IS(t,e,s,o)},inverse:function(s,o){return IS(e,t,s,o)}},i&&(r.oProj=e),r)}var r9=6,s9="AJSAJS",o9="AFAFAF",cp=65,hr=73,ls=79,lm=86,cm=90;const Glt={forward:a9,inverse:Ult,toPoint:l9};function a9(t,e){return e=e||5,zlt(Blt({lat:t[1],lon:t[0]}),e)}function Ult(t){var e=OS(h9(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function l9(t){var e=OS(h9(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function NS(t){return t*(Math.PI/180)}function c9(t){return 180*(t/Math.PI)}function Blt(t){var e=t.lat,n=t.lon,i=6378137,r=.00669438,s=.9996,o,a,l,c,p,d,f,y=NS(e),g=NS(n),b,x;x=Math.floor((n+180)/6)+1,n===180&&(x=60),e>=56&&e<64&&n>=3&&n<12&&(x=32),e>=72&&e<84&&(n>=0&&n<9?x=31:n>=9&&n<21?x=33:n>=21&&n<33?x=35:n>=33&&n<42&&(x=37)),o=(x-1)*6-180+3,b=NS(o),a=r/(1-r),l=i/Math.sqrt(1-r*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),p=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(g-b),f=i*((1-r/4-3*r*r/64-5*r*r*r/256)*y-(3*r/8+3*r*r/32+45*r*r*r/1024)*Math.sin(2*y)+(15*r*r/256+45*r*r*r/1024)*Math.sin(4*y)-35*r*r*r/3072*Math.sin(6*y));var A=s*l*(d+(1-c+p)*d*d*d/6+(5-18*c+c*c+72*p-58*a)*d*d*d*d*d/120)+5e5,M=s*(f+l*Math.tan(y)*(d*d/2+(5-c+9*p+4*p*p)*d*d*d*d/24+(61-58*c+c*c+600*p-330*a)*d*d*d*d*d*d/720));return e<0&&(M+=1e7),{northing:Math.round(M),easting:Math.round(A),zoneNumber:x,zoneLetter:Vlt(e)}}function OS(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var s=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),p,d,f,y,g,b,x,A,M,_=n-5e5,w=e;i<"N"&&(w-=1e7),x=(r-1)*6-180+3,l=a/(1-a),b=w/s,A=b/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),M=A+(3*c/2-27*c*c*c/32)*Math.sin(2*A)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*A)+151*c*c*c/96*Math.sin(6*A),p=o/Math.sqrt(1-a*Math.sin(M)*Math.sin(M)),d=Math.tan(M)*Math.tan(M),f=l*Math.cos(M)*Math.cos(M),y=o*(1-a)/Math.pow(1-a*Math.sin(M)*Math.sin(M),1.5),g=_/(p*s);var T=M-p*Math.tan(M)/y*(g*g/2-(5+3*d+10*f-4*f*f-9*l)*g*g*g*g/24+(61+90*d+298*f+45*d*d-252*l-3*f*f)*g*g*g*g*g*g/720);T=c9(T);var I=(g-(1+2*d+f)*g*g*g/6+(5-2*f+28*d-3*f*f+8*l+24*d*d)*g*g*g*g*g/120)/Math.cos(M);I=x+c9(I);var O;if(t.accuracy){var C=OS({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});O={top:C.lat,right:C.lon,bottom:T,left:I}}else O={lat:T,lon:I};return O}function Vlt(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function zlt(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+Wlt(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function Wlt(t,e,n){var i=u9(n),r=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return qlt(r,s,i)}function u9(t){var e=t%r9;return e===0&&(e=r9),e}function qlt(t,e,n){var i=n-1,r=s9.charCodeAt(i),s=o9.charCodeAt(i),o=r+t-1,a=s+e,l=!1;o>cm&&(o=o-cm+cp-1,l=!0),(o===hr||r<hr&&o>hr||(o>hr||r<hr)&&l)&&o++,(o===ls||r<ls&&o>ls||(o>ls||r<ls)&&l)&&(o++,o===hr&&o++),o>cm&&(o=o-cm+cp-1),a>lm?(a=a-lm+cp-1,l=!0):l=!1,(a===hr||s<hr&&a>hr||(a>hr||s<hr)&&l)&&a++,(a===ls||s<ls&&a>ls||(a>ls||s<ls)&&l)&&(a++,a===hr&&a++),a>lm&&(a=a-lm+cp-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function h9(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,i="",r,s=0;!/[A-Z]/.test(r=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;i+=r,s++}var o=parseInt(i,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(s++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(s,s+=2);for(var l=u9(o),c=Hlt(n.charAt(0),l),p=Ylt(n.charAt(1),l);p<Jlt(a);)p+=2e6;var d=e-s;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var f=d/2,y=0,g=0,b,x,A,M,_;return f>0&&(b=1e5/Math.pow(10,f),x=t.substring(s,s+f),y=parseFloat(x)*b,A=t.substring(s+f),g=parseFloat(A)*b),M=y+c,_=g+p,{easting:M,northing:_,zoneLetter:a,zoneNumber:o,accuracy:b}}function Hlt(t,e){for(var n=s9.charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(n++,n===hr&&n++,n===ls&&n++,n>cm){if(r)throw"Bad character: "+t;n=cp,r=!0}i+=1e5}return i}function Ylt(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=o9.charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(n++,n===hr&&n++,n===ls&&n++,n>lm){if(r)throw"Bad character: "+t;n=cp,r=!0}i+=1e5}return i}function Jlt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function up(t,e,n){if(!(this instanceof up))return new up(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}up.fromMGRS=function(t){return new up(l9(t))},up.prototype.toMGRS=function(t){return a9([this.x,this.y],t)};var Zlt=1,Xlt=.25,p9=.046875,d9=.01953125,f9=.01068115234375,Qlt=.75,Klt=.46875,tct=.013020833333333334,ect=.007120768229166667,nct=.3645833333333333,ict=.005696614583333333,rct=.3076171875;function CS(t){var e=[];e[0]=Zlt-t*(Xlt+t*(p9+t*(d9+t*f9))),e[1]=t*(Qlt-t*(p9+t*(d9+t*f9)));var n=t*t;return e[2]=n*(Klt-t*(tct+t*ect)),n*=t,e[3]=n*(nct-t*ict),e[4]=n*t*rct,e}function hp(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var sct=20;function kS(t,e,n){for(var i=1/(1-e),r=t,s=sct;s;--s){var o=Math.sin(r),a=1-e*o*o;if(a=(hp(r,o,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,r-=a,Math.abs(a)<yt)return r}return r}function oct(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=CS(this.es),this.ml0=hp(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function act(t){var e=t.x,n=t.y,i=vt(e-this.long0),r,s,o,a=Math.sin(n),l=Math.cos(n);if(this.es){var c=l*i,p=Math.pow(c,2),d=this.ep2*Math.pow(l,2),f=Math.pow(d,2),y=Math.abs(l)>yt?Math.tan(n):0,g=Math.pow(y,2),b=Math.pow(g,2);r=1-this.es*Math.pow(a,2),c=c/Math.sqrt(r);var x=hp(n,a,l,this.en);s=this.a*(this.k0*c*(1+p/6*(1-g+d+p/20*(5-18*g+b+14*d-58*g*d+p/42*(61+179*b-b*g-479*g)))))+this.x0,o=this.a*(this.k0*(x-this.ml0+a*i*c/2*(1+p/12*(5-g+9*d+4*f+p/30*(61+b-58*g+270*d-330*g*d+p/56*(1385+543*b-b*g-3111*g))))))+this.y0}else{var A=l*Math.sin(i);if(Math.abs(Math.abs(A)-1)<yt)return 93;if(s=.5*this.a*this.k0*Math.log((1+A)/(1-A))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(A,2)),A=Math.abs(o),A>=1){if(A-1>yt)return 93;o=0}else o=Math.acos(o);n<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return t.x=s,t.y=o,t}function lct(t){var e,n,i,r,s=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+o/this.k0,n=kS(e,this.es,this.en),Math.abs(n)<lt){var a=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>yt?Math.tan(n):0,p=this.ep2*Math.pow(l,2),d=Math.pow(p,2),f=Math.pow(c,2),y=Math.pow(f,2);e=1-this.es*Math.pow(a,2);var g=s*Math.sqrt(e)/this.k0,b=Math.pow(g,2);e=e*c,i=n-e*b/(1-this.es)*.5*(1-b/12*(5+3*f-9*p*f+p-4*d-b/30*(61+90*f-252*p*f+45*y+46*p-b/56*(1385+3633*f+4095*y+1574*y*f)))),r=vt(this.long0+g*(1-b/6*(1+2*f+p-b/20*(5+28*f+24*y+8*p*f+6*p-b/42*(61+662*f+1320*y+720*y*f))))/l)}else i=lt*om(o),r=0;else{var x=Math.exp(s/this.k0),A=.5*(x-1/x),M=this.lat0+o/this.k0,_=Math.cos(M);e=Math.sqrt((1-Math.pow(_,2))/(1+Math.pow(A,2))),i=Math.asin(e),o<0&&(i=-i),A===0&&_===0?r=0:r=vt(Math.atan2(A,_)+this.long0)}return t.x=r,t.y=i,t}var cct=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const z1={init:oct,forward:act,inverse:lct,names:cct};function m9(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function pr(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function uct(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function hct(t){var e=Math.abs(t);return e=uct(e*(1+e/(pr(1,e)+1))),t<0?-e:e}function RS(t,e){for(var n=2*Math.cos(2*e),i=t.length-1,r=t[i],s=0,o;--i>=0;)o=-s+n*r+t[i],s=r,r=o;return e+o*Math.sin(2*e)}function pct(t,e){for(var n=2*Math.cos(e),i=t.length-1,r=t[i],s=0,o;--i>=0;)o=-s+n*r+t[i],s=r,r=o;return Math.sin(e)*o}function dct(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function y9(t,e,n){for(var i=Math.sin(e),r=Math.cos(e),s=m9(n),o=dct(n),a=2*r*o,l=-2*i*s,c=t.length-1,p=t[c],d=0,f=0,y=0,g,b;--c>=0;)g=f,b=d,f=p,d=y,p=-g+a*f-l*d+t[c],y=-b+l*f+a*d;return a=i*o,l=r*s,[a*p-l*y,a*y+l*p]}function fct(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(z1.init.apply(this),this.forward=z1.forward,this.inverse=z1.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var i=RS(this.cbg,this.lat0);this.Zb=-this.Qn*(i+pct(this.gtu,2*i))}function mct(t){var e=vt(t.x-this.long0),n=t.y;n=RS(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),s=Math.sin(e),o=Math.cos(e);n=Math.atan2(i,o*r),e=Math.atan2(s*r,pr(i,r*o)),e=hct(Math.tan(e));var a=y9(this.gtu,2*n,2*e);n=n+a[0],e=e+a[1];var l,c;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,c=1/0),t.x=l,t.y=c,t}function yct(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var i,r;if(Math.abs(e)<=2.623395162778){var s=y9(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(m9(e));var o=Math.sin(n),a=Math.cos(n),l=Math.sin(e),c=Math.cos(e);n=Math.atan2(o*c,pr(l,c*a)),e=Math.atan2(l,c*a),i=vt(e+this.long0),r=RS(this.cgb,n)}else i=1/0,r=1/0;return t.x=i,t.y=r,t}var gct=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const W1={init:fct,forward:mct,inverse:yct,names:gct};function vct(t,e){if(t===void 0){if(t=Math.floor((vt(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var bct="etmerc";function wct(){var t=vct(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*di,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,W1.init.apply(this),this.forward=W1.forward,this.inverse=W1.inverse}var _ct=["Universal Transverse Mercator System","utm"];const xct={init:wct,names:_ct,dependsOn:bct};function LS(t,e){return Math.pow((1-t)/(1+t),e)}var Ect=20;function Sct(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Se)/(Math.pow(Math.tan(.5*this.lat0+Se),this.C)*LS(this.e*t,this.ratexp))}function Act(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Se),this.C)*LS(this.e*Math.sin(n),this.ratexp))-lt,t.x=this.C*e,t}function Mct(t){for(var e=1e-14,n=t.x/this.C,i=t.y,r=Math.pow(Math.tan(.5*i+Se)/this.K,1/this.C),s=Ect;s>0&&(i=2*Math.atan(r*LS(this.e*Math.sin(t.y),-.5*this.e))-lt,!(Math.abs(i-t.y)<e));--s)t.y=i;return s?(t.x=n,t.y=i,t):null}const PS={init:Sct,forward:Act,inverse:Mct};function Tct(){PS.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Ict(t){var e,n,i,r;return t.x=vt(t.x-this.long0),PS.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Nct(t){var e,n,i,r,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=pr(t.x,t.y)){var o=2*Math.atan2(s,this.R2);e=Math.sin(o),n=Math.cos(o),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),i=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,PS.inverse.apply(this,[t]),t.x=vt(t.x+this.long0),t}var Oct=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const Cct={init:Tct,forward:Ict,inverse:Nct,names:Oct};function kct(t,e,n){return e*=n,Math.tan(.5*(lt+t))*Math.pow((1-e)/(1+e),.5*n)}function Rct(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=yt&&(this.k0=.5*(1+om(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=yt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=yt&&Math.abs(Math.cos(this.lat_ts))>yt&&(this.k0=.5*this.cons*xo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/zs(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=xo(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-lt,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Lct(t){var e=t.x,n=t.y,i=Math.sin(n),r=Math.cos(n),s,o,a,l,c,p,d=vt(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=yt&&Math.abs(n+this.lat0)<=yt?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*i+this.coslat0*r*Math.cos(d)),t.x=this.a*s*r*Math.sin(d)+this.x0,t.y=this.a*s*(this.coslat0*i-this.sinlat0*r*Math.cos(d))+this.y0,t):(o=2*Math.atan(this.ssfn_(n,i,this.e))-lt,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=yt?(c=zs(this.e,n*this.con,this.con*i),p=2*this.a*this.k0*c/this.cons,t.x=this.x0+p*Math.sin(e-this.long0),t.y=this.y0-this.con*p*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<yt?(s=2*this.a*this.k0/(1+l*Math.cos(d)),t.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),t.y=s*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),t.x=s*l*Math.sin(d)+this.x0,t))}function Pct(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,s,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,n=this.lat0,o<=yt?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<yt?this.lat0>0?e=vt(this.long0+Math.atan2(t.x,-1*t.y)):e=vt(this.long0+Math.atan2(t.x,t.y)):e=vt(this.long0+Math.atan2(t.x*Math.sin(a),o*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=yt){if(o<=yt)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=o*this.cons/(2*this.a*this.k0),n=this.con*am(this.e,i),e=this.con*vt(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=yt?s=this.X0:(s=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/o),e=vt(this.long0+Math.atan2(t.x*Math.sin(r),o*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*am(this.e,Math.tan(.5*(lt+s)));return t.x=e,t.y=n,t}var Dct=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const Fct={init:Rct,forward:Lct,inverse:Pct,names:Dct,ssfn_:kct};function jct(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,r=1/i,s=2*r-Math.pow(r,2),o=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*l+this.alpha*o/2*c}function $ct(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*o+this.x0,t}function Gct(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+o/this.alpha,l=0,c=s,p=-1e3,d=0;Math.abs(c-p)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),p=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=c,t}var Uct=["somerc"];const Bct={init:jct,forward:$ct,inverse:Gct,names:Uct};var pp=1e-7;function Vct(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function zct(){var t,e,n,i,r,s,o,a,l,c,p=0,d,f=0,y=0,g=0,b=0,x=0,A=0;this.no_off=Vct(this),this.no_rot="no_rot"in this;var M=!1;"alpha"in this&&(M=!0);var _=!1;if("rectified_grid_angle"in this&&(_=!0),M&&(A=this.alpha),_&&(p=this.rectified_grid_angle*di),M||_)f=this.longc;else if(y=this.long1,b=this.lat1,g=this.long2,x=this.lat2,Math.abs(b-x)<=pp||(t=Math.abs(b))<=pp||Math.abs(t-lt)<=pp||Math.abs(Math.abs(this.lat0)-lt)<=pp||Math.abs(Math.abs(x)-lt)<=pp)throw new Error;var w=1-this.es;e=Math.sqrt(w),Math.abs(this.lat0)>yt?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/w),this.A=this.B*this.k0*e/t,i=this.B*e/(n*Math.sqrt(t)),r=i*i-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(zs(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=r=1),M||_?(M?(d=Math.asin(Math.sin(A)/i),_||(p=A)):(d=p,A=Math.asin(i*Math.sin(d))),this.lam0=f-Math.asin(.5*(r-1/r)*Math.tan(d))/this.B):(s=Math.pow(zs(this.e,b,Math.sin(b)),this.B),o=Math.pow(zs(this.e,x,Math.sin(x)),this.B),r=this.E/s,l=(o-s)/(o+s),c=this.E*this.E,c=(c-o*s)/(c+o*s),t=y-g,t<-Math.pi?g-=rm:t>Math.pi&&(g+=rm),this.lam0=vt(.5*(y+g)-Math.atan(c*Math.tan(.5*this.B*(y-g))/l)/this.B),d=Math.atan(2*Math.sin(this.B*vt(y-this.lam0))/(r-1/r)),p=A=Math.asin(i*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(A))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(Se-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(Se+r))}function Wct(t){var e={},n,i,r,s,o,a,l,c;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-lt)>yt){if(o=this.E/Math.pow(zs(this.e,t.y,Math.sin(t.y)),this.B),a=1/o,n=.5*(o-a),i=.5*(o+a),s=Math.sin(this.B*t.x),r=(n*this.singam-s*this.cosgam)/i,Math.abs(Math.abs(r)-1)<yt)throw new Error;c=.5*this.ArB*Math.log((1-r)/(1+r)),a=Math.cos(this.B*t.x),Math.abs(a)<pp?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,a)}else c=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=c):(l-=this.u_0,e.x=c*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-c*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function qct(t){var e,n,i,r,s,o,a,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*n),r=.5*(i-1/i),s=.5*(i+1/i),o=Math.sin(this.BrA*e),a=(o*this.cosgam+r*this.singam)/s,Math.abs(Math.abs(a)-1)<yt)l.x=0,l.y=a<0?-lt:lt;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=am(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-o*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var Hct=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const Yct={init:zct,forward:Wct,inverse:qct,names:Hct};function Jct(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<yt)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=xo(this.e,e,n),r=zs(this.e,this.lat1,e),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=xo(this.e,s,o),l=zs(this.e,this.lat2,s),c=zs(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>yt?this.ns=Math.log(i/a)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Zct(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=yt&&(n=om(n)*(lt-2*yt));var i=Math.abs(Math.abs(n)-lt),r,s;if(i>yt)r=zs(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(r,this.ns);else{if(i=n*this.ns,i<=0)return null;s=0}var o=this.ns*vt(e-this.long0);return t.x=this.k0*(s*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,t}function Xct(t){var e,n,i,r,s,o=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+a*a),n=1):(e=-Math.sqrt(o*o+a*a),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*o,n*a)),e!==0||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),r=am(this.e,i),r===-9999)return null}else r=-lt;return s=vt(l/this.ns+this.long0),t.x=s,t.y=r,t}var Qct=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const Kct={init:Jct,forward:Zct,inverse:Xct,names:Qct};function tut(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function eut(t){var e,n,i,r,s,o,a,l=t.x,c=t.y,p=vt(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-p*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),s=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(o)/1,t.x=a*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t}function nut(t){var e,n,i,r,s,o,a,l,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),r=s/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,l=0;var p=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,p+=1;while(l===0&&p<15);return p>=15?null:t}var iut=["Krovak","krovak"];const rut={init:tut,forward:eut,inverse:nut,names:iut};function Ji(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}function um(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function hm(t){return .375*t*(1+.25*t*(1+.46875*t))}function pm(t){return .05859375*t*t*(1+.75*t)}function dm(t){return t*t*t*(35/3072)}function dp(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}function Ml(t){return Math.abs(t)<lt?t:t-om(t)*Math.PI}function q1(t,e,n,i,r){var s,o;s=t/e;for(var a=0;a<15;a++)if(o=(t-(e*s-n*Math.sin(2*s)+i*Math.sin(4*s)-r*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*i*Math.cos(4*s)-6*r*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}function sut(){this.sphere||(this.e0=um(this.es),this.e1=hm(this.es),this.e2=pm(this.es),this.e3=dm(this.es),this.ml0=this.a*Ji(this.e0,this.e1,this.e2,this.e3,this.lat0))}function out(t){var e,n,i=t.x,r=t.y;if(i=vt(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var s=Math.sin(r),o=Math.cos(r),a=dp(this.a,this.e,s),l=Math.tan(r)*Math.tan(r),c=i*Math.cos(r),p=c*c,d=this.es*o*o/(1-this.es),f=this.a*Ji(this.e0,this.e1,this.e2,this.e3,r);e=a*c*(1-p*l*(1/6-(8-l+8*d)*p/120)),n=f-this.ml0+a*s/o*p*(.5+(5-l+6*d)*p/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function aut(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,r;if(this.sphere){var s=n+this.lat0;i=Math.asin(Math.sin(s)*Math.cos(e)),r=Math.atan2(Math.tan(e),Math.cos(s))}else{var o=this.ml0/this.a+n,a=q1(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-lt)<=yt)return t.x=this.long0,t.y=lt,n<0&&(t.y*=-1),t;var l=dp(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(a),2),d=e*this.a/l,f=d*d;i=a-l*Math.tan(a)/c*d*d*(.5-(1+3*p)*d*d/24),r=d*(1-f*(p/3+(1+3*p)*p*f/15))/Math.cos(a)}return t.x=vt(r+this.long0),t.y=Ml(i),t}var lut=["Cassini","Cassini_Soldner","cass"];const cut={init:sut,forward:out,inverse:aut,names:lut};function Tl(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var uut=1,hut=2,put=3,dut=4;function fut(){var t=Math.abs(this.lat0);if(Math.abs(t-lt)<yt?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<yt?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Tl(this.e,1),this.mmf=.5/(1-this.es),this.apa=Eut(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Tl(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function mut(t){var e,n,i,r,s,o,a,l,c,p,d=t.x,f=t.y;if(d=vt(d-this.long0),this.sphere){if(s=Math.sin(f),p=Math.cos(f),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+p*i:1+this.sinph0*s+this.cosph0*p*i,n<=yt)return null;n=Math.sqrt(2/n),e=n*p*Math.sin(d),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*p*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(f+this.lat0)<yt)return null;n=Se-f*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(d),n*=i}}else{switch(a=0,l=0,c=0,i=Math.cos(d),r=Math.sin(d),s=Math.sin(f),o=Tl(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=lt+f,o=this.qp-o;break;case this.S_POLE:c=f-lt,o=this.qp+o;break}if(Math.abs(c)<yt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?n=this.ymf*c*(this.cosb1*a-this.sinb1*l*i):n=(c=Math.sqrt(2/(1+l*i)))*a*this.ymf,e=this.xmf*c*l*r;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(c=Math.sqrt(o))*r,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function yut(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,r,s,o,a,l,c;if(this.sphere){var p=0,d,f=0;if(d=Math.sqrt(e*e+n*n),r=d*.5,r>1)return null;switch(r=2*Math.asin(r),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=Math.sin(r),p=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(d)<=yt?0:Math.asin(n*f/d),e*=f,n=p*d;break;case this.OBLIQ:r=Math.abs(d)<=yt?this.lat0:Math.asin(p*this.sinph0+n*f*this.cosph0/d),e*=f*this.cosph0,n=(p-Math.sin(r)*this.sinph0)*d;break;case this.N_POLE:n=-n,r=lt-r;break;case this.S_POLE:r-=lt;break}i=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<yt)return t.x=this.long0,t.y=this.lat0,t;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),e*=o=Math.sin(o),this.mode===this.OBLIQ?(c=s*this.sinb1+n*o*this.cosb1/l,a=this.qp*c,n=l*this.cosb1*s-n*this.sinb1*o):(c=n*o/l,a=this.qp*c,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),a=e*e+n*n,!a)return t.x=this.long0,t.y=this.lat0,t;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}i=Math.atan2(e,n),r=Sut(Math.asin(c),this.apa)}return t.x=vt(this.long0+i),t.y=r,t}var gut=.3333333333333333,vut=.17222222222222222,but=.10257936507936508,wut=.06388888888888888,_ut=.0664021164021164,xut=.016415012942191543;function Eut(t){var e,n=[];return n[0]=t*gut,e=t*t,n[0]+=e*vut,n[1]=e*wut,e*=t,n[0]+=e*but,n[1]+=e*_ut,n[2]=e*xut,n}function Sut(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var Aut=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Mut={init:fut,forward:mut,inverse:yut,names:Aut,S_POLE:uut,N_POLE:hut,EQUIT:put,OBLIQ:dut};function Il(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Tut(){Math.abs(this.lat1+this.lat2)<yt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=xo(this.e3,this.sin_po,this.cos_po),this.qs1=Tl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=xo(this.e3,this.sin_po,this.cos_po),this.qs2=Tl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Tl(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>yt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Iut(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=Tl(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*vt(e-this.long0),o=r*Math.sin(s)+this.x0,a=this.rh-r*Math.cos(s)+this.y0;return t.x=o,t.y=a,t}function Nut(t){var e,n,i,r,s,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,e!==0&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,n)),s=vt(r/this.ns0+this.long0),t.x=s,t.y=o,t}function Out(t,e){var n,i,r,s,o,a=Il(.5*e);if(t<yt)return a;for(var l=t*t,c=1;c<=25;c++)if(n=Math.sin(a),i=Math.cos(a),r=t*n,s=1-r*r,o=.5*s*s/i*(e/(1-l)-n/s+.5/t*Math.log((1-r)/(1+r))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var Cut=["Albers_Conic_Equal_Area","Albers","aea"];const kut={init:Tut,forward:Iut,inverse:Nut,names:Cut,phi1z:Out};function Rut(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Lut(t){var e,n,i,r,s,o,a,l,c=t.x,p=t.y;return i=vt(c-this.long0),e=Math.sin(p),n=Math.cos(p),r=Math.cos(i),o=this.sin_p14*e+this.cos_p14*n*r,s=1,o>0||Math.abs(o)<=yt?(a=this.x0+this.a*s*n*Math.sin(i)/o,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*r)/o):(a=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function Put(t){var e,n,i,r,s,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),o=Il(i*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),s=vt(this.long0+s)):(o=this.phic0,s=0),t.x=s,t.y=o,t}var Dut=["gnom"];const Fut={init:Rut,forward:Lut,inverse:Put,names:Dut};function jut(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*lt:lt;for(var i=Math.asin(.5*e),r,s,o,a,l=0;l<30;l++)if(s=Math.sin(i),o=Math.cos(i),a=t*s,r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-s/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),i+=r,Math.abs(r)<=1e-10)return i;return NaN}function $ut(){this.sphere||(this.k0=xo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Gut(t){var e=t.x,n=t.y,i,r,s=vt(e-this.long0);if(this.sphere)i=this.x0+this.a*s*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var o=Tl(this.e,Math.sin(n));i=this.x0+this.a*this.k0*s,r=this.y0+this.a*o*.5/this.k0}return t.x=i,t.y=r,t}function Uut(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=vt(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=jut(this.e,2*t.y*this.k0/this.a),e=vt(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var But=["cea"];const Vut={init:$ut,forward:Gut,inverse:Uut,names:But};function zut(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Wut(t){var e=t.x,n=t.y,i=vt(e-this.long0),r=Ml(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t}function qut(t){var e=t.x,n=t.y;return t.x=vt(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Ml(this.lat0+(n-this.y0)/this.a),t}var Hut=["Equirectangular","Equidistant_Cylindrical","eqc"];const Yut={init:zut,forward:Wut,inverse:qut,names:Hut};var g9=20;function Jut(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=um(this.es),this.e1=hm(this.es),this.e2=pm(this.es),this.e3=dm(this.es),this.ml0=this.a*Ji(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Zut(t){var e=t.x,n=t.y,i,r,s,o=vt(e-this.long0);if(s=o*Math.sin(n),this.sphere)Math.abs(n)<=yt?(i=this.a*o,r=-1*this.a*this.lat0):(i=this.a*Math.sin(s)/Math.tan(n),r=this.a*(Ml(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=yt)i=this.a*o,r=-1*this.ml0;else{var a=dp(this.a,this.e,Math.sin(n))/Math.tan(n);i=a*Math.sin(s),r=this.a*Ji(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+a*(1-Math.cos(s))}return t.x=i+this.x0,t.y=r+this.y0,t}function Xut(t){var e,n,i,r,s,o,a,l,c;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=yt)e=vt(i/this.a+this.long0),n=0;else{o=this.lat0+r/this.a,a=i*i/this.a/this.a+o*o,l=o;var p;for(s=g9;s;--s)if(p=Math.tan(l),c=-1*(o*(l*p+1)-l-.5*(l*l+a)*p)/((l-o)/p-1),l+=c,Math.abs(c)<=yt){n=l;break}e=vt(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=yt)n=0,e=vt(this.long0+i/this.a);else{o=(this.ml0+r)/this.a,a=i*i/this.a/this.a+o*o,l=o;var d,f,y,g,b;for(s=g9;s;--s)if(b=this.e*Math.sin(l),d=Math.sqrt(1-b*b)*Math.tan(l),f=this.a*Ji(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=f/this.a,c=(o*(d*g+1)-g-.5*d*(g*g+a))/(this.es*Math.sin(2*l)*(g*g+a-2*o*g)/(4*d)+(o-g)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=yt){n=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=vt(this.long0+Math.asin(i*d/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var Qut=["Polyconic","poly"];const Kut={init:Jut,forward:Zut,inverse:Xut,names:Qut};function tht(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function eht(t){var e,n=t.x,i=t.y,r=i-this.lat0,s=n-this.long0,o=r/im*1e-5,a=s,l=1,c=0;for(e=1;e<=10;e++)l=l*o,c=c+this.A[e]*l;var p=c,d=a,f=1,y=0,g,b,x=0,A=0;for(e=1;e<=6;e++)g=f*p-y*d,b=y*p+f*d,f=g,y=b,x=x+this.B_re[e]*f-this.B_im[e]*y,A=A+this.B_im[e]*f+this.B_re[e]*y;return t.x=A*this.a+this.x0,t.y=x*this.a+this.y0,t}function nht(t){var e,n=t.x,i=t.y,r=n-this.x0,s=i-this.y0,o=s/this.a,a=r/this.a,l=1,c=0,p,d,f=0,y=0;for(e=1;e<=6;e++)p=l*o-c*a,d=c*o+l*a,l=p,c=d,f=f+this.C_re[e]*l-this.C_im[e]*c,y=y+this.C_im[e]*l+this.C_re[e]*c;for(var g=0;g<this.iterations;g++){var b=f,x=y,A,M,_=o,w=a;for(e=2;e<=6;e++)A=b*f-x*y,M=x*f+b*y,b=A,x=M,_=_+(e-1)*(this.B_re[e]*b-this.B_im[e]*x),w=w+(e-1)*(this.B_im[e]*b+this.B_re[e]*x);b=1,x=0;var T=this.B_re[1],I=this.B_im[1];for(e=2;e<=6;e++)A=b*f-x*y,M=x*f+b*y,b=A,x=M,T=T+e*(this.B_re[e]*b-this.B_im[e]*x),I=I+e*(this.B_im[e]*b+this.B_re[e]*x);var O=T*T+I*I;f=(_*T+w*I)/O,y=(w*T-_*I)/O}var C=f,R=y,D=1,U=0;for(e=1;e<=9;e++)D=D*C,U=U+this.D[e]*D;var j=this.lat0+U*im*1e5,$=this.long0+R;return t.x=$,t.y=j,t}var iht=["New_Zealand_Map_Grid","nzmg"];const rht={init:tht,forward:eht,inverse:nht,names:iht};function sht(){}function oht(t){var e=t.x,n=t.y,i=vt(e-this.long0),r=this.x0+this.a*i,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=s,t}function aht(t){t.x-=this.x0,t.y-=this.y0;var e=vt(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var lht=["Miller_Cylindrical","mill"];const cht={init:sht,forward:oht,inverse:aht,names:lht};var uht=20;function hht(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=CS(this.es)}function pht(t){var e,n,i=t.x,r=t.y;if(i=vt(i-this.long0),this.sphere){if(!this.m)r=this.n!==1?Math.asin(this.n*Math.sin(r)):r;else for(var s=this.n*Math.sin(r),o=uht;o;--o){var a=(this.m*r+Math.sin(r)-s)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<yt)break}e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),c=Math.cos(r);n=this.a*hp(r,l,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function dht(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=Il((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=Il(Math.sin(e)/this.n)),i=vt(i+this.long0),e=Ml(e)):(e=kS(t.y/this.a,this.es,this.en),r=Math.abs(e),r<lt?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=vt(n)):r-yt<lt&&(i=this.long0)),t.x=i,t.y=e,t}var fht=["Sinusoidal","sinu"];const mht={init:hht,forward:pht,inverse:dht,names:fht};function yht(){}function ght(t){for(var e=t.x,n=t.y,i=vt(e-this.long0),r=n,s=Math.PI*Math.sin(n);;){var o=-(r+Math.sin(r)-s)/(1+Math.cos(r));if(r+=o,Math.abs(o)<yt)break}r/=2,Math.PI/2-Math.abs(n)<yt&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=l,t}function vht(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=vt(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t}var bht=["Mollweide","moll"];const wht={init:yht,forward:ght,inverse:vht,names:bht};function _ht(){Math.abs(this.lat1+this.lat2)<yt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=um(this.es),this.e1=hm(this.es),this.e2=pm(this.es),this.e3=dm(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=xo(this.e,this.sinphi,this.cosphi),this.ml1=Ji(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<yt?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=xo(this.e,this.sinphi,this.cosphi),this.ml2=Ji(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ji(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function xht(t){var e=t.x,n=t.y,i;if(this.sphere)i=this.a*(this.g-n);else{var r=Ji(this.e0,this.e1,this.e2,this.e3,n);i=this.a*(this.g-r)}var s=this.ns*vt(e-this.long0),o=this.x0+i*Math.sin(s),a=this.y0+this.rh-i*Math.cos(s);return t.x=o,t.y=a,t}function Eht(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,r;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=vt(this.long0+s/this.ns),i=Ml(this.g-n/this.a),t.x=r,t.y=i,t;var o=this.g-n/this.a;return i=q1(o,this.e0,this.e1,this.e2,this.e3),r=vt(this.long0+s/this.ns),t.x=r,t.y=i,t}var Sht=["Equidistant_Conic","eqdc"];const Aht={init:_ht,forward:xht,inverse:Eht,names:Sht};function Mht(){this.R=this.a}function Tht(t){var e=t.x,n=t.y,i=vt(e-this.long0),r,s;Math.abs(n)<=yt&&(r=this.x0+this.R*i,s=this.y0);var o=Il(2*Math.abs(n/Math.PI));(Math.abs(i)<=yt||Math.abs(Math.abs(n)-lt)<=yt)&&(r=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,c=Math.sin(o),p=Math.cos(o),d=p/(c+p-1),f=d*d,y=d*(2/c-1),g=y*y,b=Math.PI*this.R*(a*(d-g)+Math.sqrt(l*(d-g)*(d-g)-(g+l)*(f-g)))/(g+l);i<0&&(b=-b),r=this.x0+b;var x=l+d;return b=Math.PI*this.R*(y*x-a*Math.sqrt((g+l)*(l+1)-x*x))/(g+l),n>=0?s=this.y0+b:s=this.y0-b,t.x=r,t.y=s,t}function Iht(t){var e,n,i,r,s,o,a,l,c,p,d,f,y;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,i=t.x/d,r=t.y/d,s=i*i+r*r,o=-Math.abs(r)*(1+s),a=o-2*r*r+i*i,l=-2*o+1+2*r*r+s*s,y=r*r/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,p=2*Math.sqrt(-c/3),d=3*y/c/p,Math.abs(d)>1&&(d>=0?d=1:d=-1),f=Math.acos(d)/3,t.y>=0?n=(-p*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI:n=-(-p*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<yt?e=this.long0:e=vt(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(i*i-r*r)+s*s))/2/i),t.x=e,t.y=n,t}var Nht=["Van_der_Grinten_I","VanDerGrinten","vandg"];const Oht={init:Mht,forward:Tht,inverse:Iht,names:Nht};function Cht(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function kht(t){var e=t.x,n=t.y,i=Math.sin(t.y),r=Math.cos(t.y),s=vt(e-this.long0),o,a,l,c,p,d,f,y,g,b,x,A,M,_,w,T,I,O,C,R,D,U,j;return this.sphere?Math.abs(this.sin_p12-1)<=yt?(t.x=this.x0+this.a*(lt-n)*Math.sin(s),t.y=this.y0-this.a*(lt-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=yt?(t.x=this.x0+this.a*(lt+n)*Math.sin(s),t.y=this.y0+this.a*(lt+n)*Math.cos(s),t):(O=this.sin_p12*i+this.cos_p12*r*Math.cos(s),T=Math.acos(O),I=T?T/Math.sin(T):1,t.x=this.x0+this.a*I*r*Math.sin(s),t.y=this.y0+this.a*I*(this.cos_p12*i-this.sin_p12*r*Math.cos(s)),t):(o=um(this.es),a=hm(this.es),l=pm(this.es),c=dm(this.es),Math.abs(this.sin_p12-1)<=yt?(p=this.a*Ji(o,a,l,c,lt),d=this.a*Ji(o,a,l,c,n),t.x=this.x0+(p-d)*Math.sin(s),t.y=this.y0-(p-d)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=yt?(p=this.a*Ji(o,a,l,c,lt),d=this.a*Ji(o,a,l,c,n),t.x=this.x0+(p+d)*Math.sin(s),t.y=this.y0+(p+d)*Math.cos(s),t):(f=i/r,y=dp(this.a,this.e,this.sin_p12),g=dp(this.a,this.e,i),b=Math.atan((1-this.es)*f+this.es*y*this.sin_p12/(g*r)),x=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(s)),x===0?C=Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(x)-Math.PI)<=yt?C=-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):C=Math.asin(Math.sin(s)*Math.cos(b)/Math.sin(x)),A=this.e*this.sin_p12/Math.sqrt(1-this.es),M=this.e*this.cos_p12*Math.cos(x)/Math.sqrt(1-this.es),_=A*M,w=M*M,R=C*C,D=R*C,U=D*C,j=U*C,T=y*C*(1-R*w*(1-w)/6+D/8*_*(1-2*w)+U/120*(w*(4-7*w)-3*A*A*(1-7*w))-j/48*_),t.x=this.x0+T*Math.sin(x),t.y=this.y0+T*Math.cos(x),t))}function Rht(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,s,o,a,l,c,p,d,f,y,g,b,x,A,M,_,w,T,I,O,C;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*lt*this.a?void 0:(n=e/this.a,i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=yt?o=this.lat0:(o=Il(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-lt,Math.abs(a)<=yt?this.lat0>=0?s=vt(this.long0+Math.atan2(t.x,-t.y)):s=vt(this.long0-Math.atan2(-t.x,t.y)):s=vt(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=s,t.y=o,t)):(l=um(this.es),c=hm(this.es),p=pm(this.es),d=dm(this.es),Math.abs(this.sin_p12-1)<=yt?(f=this.a*Ji(l,c,p,d,lt),e=Math.sqrt(t.x*t.x+t.y*t.y),y=f-e,o=q1(y/this.a,l,c,p,d),s=vt(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=o,t):Math.abs(this.sin_p12+1)<=yt?(f=this.a*Ji(l,c,p,d,lt),e=Math.sqrt(t.x*t.x+t.y*t.y),y=e-f,o=q1(y/this.a,l,c,p,d),s=vt(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=o,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),x=Math.atan2(t.x,t.y),g=dp(this.a,this.e,this.sin_p12),A=Math.cos(x),M=this.e*this.cos_p12*A,_=-M*M/(1-this.es),w=3*this.es*(1-_)*this.sin_p12*this.cos_p12*A/(1-this.es),T=e/g,I=T-_*(1+_)*Math.pow(T,3)/6-w*(1+3*_)*Math.pow(T,4)/24,O=1-_*I*I/2-T*I*I*I/6,b=Math.asin(this.sin_p12*Math.cos(I)+this.cos_p12*Math.sin(I)*A),s=vt(this.long0+Math.asin(Math.sin(x)*Math.sin(I)/Math.cos(b))),C=Math.sin(b),o=Math.atan2((C-this.es*O*this.sin_p12)*Math.tan(b),C*(1-this.es)),t.x=s,t.y=o,t))}var Lht=["Azimuthal_Equidistant","aeqd"];const Pht={init:Cht,forward:kht,inverse:Rht,names:Lht};function Dht(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Fht(t){var e,n,i,r,s,o,a,l,c=t.x,p=t.y;return i=vt(c-this.long0),e=Math.sin(p),n=Math.cos(p),r=Math.cos(i),o=this.sin_p14*e+this.cos_p14*n*r,s=1,(o>0||Math.abs(o)<=yt)&&(a=this.a*s*n*Math.sin(i),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function jht(t){var e,n,i,r,s,o,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Il(e/this.a),i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=yt?(a=this.lat0,t.x=o,t.y=a,t):(a=Il(r*this.sin_p14+t.y*i*this.cos_p14/e),s=Math.abs(this.lat0)-lt,Math.abs(s)<=yt?(this.lat0>=0?o=vt(this.long0+Math.atan2(t.x,-t.y)):o=vt(this.long0-Math.atan2(-t.x,t.y)),t.x=o,t.y=a,t):(o=vt(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=o,t.y=a,t))}var $ht=["ortho"];const Ght={init:Dht,forward:Fht,inverse:jht,names:$ht};var an={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ae={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Uht(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=lt-Se/2?this.face=an.TOP:this.lat0<=-(lt-Se/2)?this.face=an.BOTTOM:Math.abs(this.long0)<=Se?this.face=an.FRONT:Math.abs(this.long0)<=lt+Se?this.face=this.long0>0?an.RIGHT:an.LEFT:this.face=an.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Bht(t){var e={x:0,y:0},n,i,r,s,o,a,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,i=t.x,this.face===an.TOP)s=lt-n,i>=Se&&i<=lt+Se?(l.value=Ae.AREA_0,r=i-lt):i>lt+Se||i<=-(lt+Se)?(l.value=Ae.AREA_1,r=i>0?i-In:i+In):i>-(lt+Se)&&i<=-Se?(l.value=Ae.AREA_2,r=i+lt):(l.value=Ae.AREA_3,r=i);else if(this.face===an.BOTTOM)s=lt+n,i>=Se&&i<=lt+Se?(l.value=Ae.AREA_0,r=-i+lt):i<Se&&i>=-Se?(l.value=Ae.AREA_1,r=-i):i<-Se&&i>=-(lt+Se)?(l.value=Ae.AREA_2,r=-i-lt):(l.value=Ae.AREA_3,r=i>0?-i+In:-i-In);else{var c,p,d,f,y,g,b;this.face===an.RIGHT?i=fp(i,+lt):this.face===an.BACK?i=fp(i,+In):this.face===an.LEFT&&(i=fp(i,-lt)),f=Math.sin(n),y=Math.cos(n),g=Math.sin(i),b=Math.cos(i),c=y*b,p=y*g,d=f,this.face===an.FRONT?(s=Math.acos(c),r=H1(s,d,p,l)):this.face===an.RIGHT?(s=Math.acos(p),r=H1(s,d,-c,l)):this.face===an.BACK?(s=Math.acos(-c),r=H1(s,d,-p,l)):this.face===an.LEFT?(s=Math.acos(-p),r=H1(s,d,c,l)):(s=r=0,l.value=Ae.AREA_0)}return a=Math.atan(12/In*(r+Math.acos(Math.sin(r)*Math.cos(Se))-lt)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===Ae.AREA_1?a+=lt:l.value===Ae.AREA_2?a+=In:l.value===Ae.AREA_3&&(a+=1.5*In),e.x=o*Math.cos(a),e.y=o*Math.sin(a),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function Vht(t){var e={lam:0,phi:0},n,i,r,s,o,a,l,c,p,d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=Ae.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=Ae.AREA_1,n-=lt):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=Ae.AREA_2,n=n<0?n+In:n-In):(d.value=Ae.AREA_3,n+=lt),p=In/12*Math.tan(n),o=Math.sin(p)/(Math.cos(p)-1/Math.sqrt(2)),a=Math.atan(o),r=Math.cos(n),s=Math.tan(i),l=1-r*r*s*s*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===an.TOP)c=Math.acos(l),e.phi=lt-c,d.value===Ae.AREA_0?e.lam=a+lt:d.value===Ae.AREA_1?e.lam=a<0?a+In:a-In:d.value===Ae.AREA_2?e.lam=a-lt:e.lam=a;else if(this.face===an.BOTTOM)c=Math.acos(l),e.phi=c-lt,d.value===Ae.AREA_0?e.lam=-a+lt:d.value===Ae.AREA_1?e.lam=-a:d.value===Ae.AREA_2?e.lam=-a-lt:e.lam=a<0?-a-In:-a+In;else{var f,y,g;f=l,p=f*f,p>=1?g=0:g=Math.sqrt(1-p)*Math.sin(a),p+=g*g,p>=1?y=0:y=Math.sqrt(1-p),d.value===Ae.AREA_1?(p=y,y=-g,g=p):d.value===Ae.AREA_2?(y=-y,g=-g):d.value===Ae.AREA_3&&(p=y,y=g,g=-p),this.face===an.RIGHT?(p=f,f=-y,y=p):this.face===an.BACK?(f=-f,y=-y):this.face===an.LEFT&&(p=f,f=y,y=-p),e.phi=Math.acos(-g)-lt,e.lam=Math.atan2(y,f),this.face===an.RIGHT?e.lam=fp(e.lam,-lt):this.face===an.BACK?e.lam=fp(e.lam,-In):this.face===an.LEFT&&(e.lam=fp(e.lam,+lt))}if(this.es!==0){var b,x,A;b=e.phi<0?1:0,x=Math.tan(e.phi),A=this.b/Math.sqrt(x*x+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-A*A)/(this.one_minus_f*A)),b&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function H1(t,e,n,i){var r;return t<yt?(i.value=Ae.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=Se?i.value=Ae.AREA_0:r>Se&&r<=lt+Se?(i.value=Ae.AREA_1,r-=lt):r>lt+Se||r<=-(lt+Se)?(i.value=Ae.AREA_2,r=r>=0?r-In:r+In):(i.value=Ae.AREA_3,r+=lt)),r}function fp(t,e){var n=t+e;return n<-In?n+=rm:n>+In&&(n-=rm),n}var zht=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Wht={init:Uht,forward:Bht,inverse:Vht,names:zht};var DS=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],fm=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],v9=.8487,b9=1.3523,w9=wo/5,qht=1/w9,mp=18,Y1=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Hht=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function Yht(t,e,n,i){for(var r=e;i;--i){var s=t(r);if(r-=s,Math.abs(s)<n)break}return r}function Jht(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Zht(t){var e=vt(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*w9);i<0?i=0:i>=mp&&(i=mp-1),n=wo*(n-qht*i);var r={x:Y1(DS[i],n)*e,y:Y1(fm[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*v9+this.x0,r.y=r.y*this.a*b9+this.y0,r}function Xht(t){var e={x:(t.x-this.x0)/(this.a*v9),y:Math.abs(t.y-this.y0)/(this.a*b9)};if(e.y>=1)e.x/=DS[mp][0],e.y=t.y<0?-lt:lt;else{var n=Math.floor(e.y*mp);for(n<0?n=0:n>=mp&&(n=mp-1);;)if(fm[n][0]>e.y)--n;else if(fm[n+1][0]<=e.y)++n;else break;var i=fm[n],r=5*(e.y-i[0])/(fm[n+1][0]-i[0]);r=Yht(function(s){return(Y1(i,s)-e.y)/Hht(i,s)},r,yt,100),e.x/=Y1(DS[n],r),e.y=(5*n+r)*di,t.y<0&&(e.y=-e.y)}return e.x=vt(e.x+this.long0),e}var Qht=["Robinson","robin"];const Kht={init:Jht,forward:Zht,inverse:Xht,names:Qht};function tpt(){this.name="geocent"}function ept(t){var e=JP(t,this.es,this.a);return e}function npt(t){var e=ZP(t,this.es,this.a,this.b);return e}var ipt=["Geocentric","geocentric","geocent","Geocent"];const rpt={init:tpt,forward:ept,inverse:npt,names:ipt};var Si={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},mm={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function spt(){if(Object.keys(mm).forEach(function(n){if(typeof this[n]>"u")this[n]=mm[n].def;else{if(mm[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);mm[n].num&&(this[n]=parseFloat(this[n]))}mm[n].degrees&&(this[n]=this[n]*di)}.bind(this)),Math.abs(Math.abs(this.lat0)-lt)<yt?this.mode=this.lat0<0?Si.S_POLE:Si.N_POLE:Math.abs(this.lat0)<yt?this.mode=Si.EQUIT:(this.mode=Si.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function opt(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r,s;switch(this.mode){case Si.OBLIQ:s=this.sinph0*e+this.cosph0*n*i;break;case Si.EQUIT:s=n*i;break;case Si.S_POLE:s=-e;break;case Si.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),r=s*n*Math.sin(t.x),this.mode){case Si.OBLIQ:s*=this.cosph0*e-this.sinph0*n*i;break;case Si.EQUIT:s*=e;break;case Si.N_POLE:s*=-(n*i);break;case Si.S_POLE:s*=n*i;break}var o,a;return o=s*this.cg+r*this.sg,a=1/(o*this.sw*this.h1+this.cw),r=(r*this.cg-s*this.sg)*this.cw*a,s=o*a,t.x=r*this.a,t.y=s*this.a,t}function apt(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,i,r;r=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*r,i=this.pn1*t.y*this.cw*r,t.x=n*this.cg+i*this.sg,t.y=i*this.cg-n*this.sg;var s=pr(t.x,t.y);if(Math.abs(s)<yt)e.x=0,e.y=t.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case Si.OBLIQ:e.y=Math.asin(o*this.sinph0+t.y*a*this.cosph0/s),t.y=(o-this.sinph0*Math.sin(e.y))*s,t.x*=a*this.cosph0;break;case Si.EQUIT:e.y=Math.asin(t.y*a/s),t.y=o*s,t.x*=a;break;case Si.N_POLE:e.y=Math.asin(o),t.y=-t.y;break;case Si.S_POLE:e.y=-Math.asin(o);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var lpt=["Tilted_Perspective","tpers"];const cpt={init:spt,forward:opt,inverse:apt,names:lpt};function upt(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function hpt(t){var e=t.x,n=t.y,i,r,s,o;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var a=this.radius_p/pr(this.radius_p*Math.cos(n),Math.sin(n));if(r=a*Math.cos(e)*Math.cos(n),s=a*Math.sin(e)*Math.cos(n),o=a*Math.sin(n),(this.radius_g-r)*r-s*s-o*o*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=this.radius_g-r,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/pr(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(s/i),t.y=this.radius_g_1*Math.atan(o/pr(s,i)))}else this.shape==="sphere"&&(i=Math.cos(n),r=Math.cos(e)*i,s=Math.sin(e)*i,o=Math.sin(n),i=this.radius_g-r,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/pr(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(s/i),t.y=this.radius_g_1*Math.atan(o/pr(s,i))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function ppt(t){var e=-1,n=0,i=0,r,s,o,a;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*pr(1,i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*pr(1,n));var l=i/this.radius_p;if(r=n*n+l*l+e*e,s=2*this.radius_g*e,o=s*s-4*r*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-s-Math.sqrt(o))/(2*r),e=this.radius_g+a*e,n*=a,i*=a,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+i*i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),r=n*n+i*i+e*e,s=2*this.radius_g*e,o=s*s-4*r*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-s-Math.sqrt(o))/(2*r),e=this.radius_g+a*e,n*=a,i*=a,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var dpt=["Geostationary Satellite View","Geostationary_Satellite","geos"];const fpt={init:upt,forward:hpt,inverse:ppt,names:dpt};var ym=1.340264,gm=-.081106,vm=893e-6,bm=.003796,J1=Math.sqrt(3)/2;function mpt(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function ypt(t){var e=vt(t.x-this.long0),n=t.y,i=Math.asin(J1*Math.sin(n)),r=i*i,s=r*r*r;return t.x=e*Math.cos(i)/(J1*(ym+3*gm*r+s*(7*vm+9*bm*r))),t.y=i*(ym+gm*r+s*(vm+bm*r)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function gpt(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,i=t.y,r,s,o,a,l,c;for(c=0;c<n&&(r=i*i,s=r*r*r,o=i*(ym+gm*r+s*(vm+bm*r))-t.y,a=ym+3*gm*r+s*(7*vm+9*bm*r),i-=l=o/a,!(Math.abs(l)<e));++c);return r=i*i,s=r*r*r,t.x=J1*t.x*(ym+3*gm*r+s*(7*vm+9*bm*r))/Math.cos(i),t.y=Math.asin(Math.sin(i)/J1),t.x=vt(t.x+this.long0),t}var vpt=["eqearth","Equal Earth","Equal_Earth"];const bpt={init:mpt,forward:ypt,inverse:gpt,names:vpt};var wm=1e-10;function wpt(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<wm)throw new Error;this.es?(this.en=CS(this.es),this.m1=hp(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=xpt,this.forward=_pt):(Math.abs(this.phi1)+wm>=lt?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=Spt,this.forward=Ept)}function _pt(t){var e=vt(t.x-(this.long0||0)),n=t.y,i,r,s;return i=this.am1+this.m1-hp(n,r=Math.sin(n),s=Math.cos(n),this.en),r=s*e/(i*Math.sqrt(1-this.es*r*r)),t.x=i*Math.sin(r),t.y=this.am1-i*Math.cos(r),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function xpt(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i,r;if(n=pr(t.x,t.y=this.am1-t.y),r=kS(this.am1+this.m1-n,this.es,this.en),(e=Math.abs(r))<lt)e=Math.sin(r),i=n*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(r);else if(Math.abs(e-lt)<=wm)i=0;else throw new Error;return t.x=vt(i+(this.long0||0)),t.y=Ml(r),t}function Ept(t){var e=vt(t.x-(this.long0||0)),n=t.y,i,r;return r=this.cphi1+this.phi1-n,Math.abs(r)>wm?(t.x=r*Math.sin(i=e*Math.cos(n)/r),t.y=this.cphi1-r*Math.cos(i)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Spt(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i=pr(t.x,t.y=this.cphi1-t.y);if(n=this.cphi1+this.phi1-i,Math.abs(n)>lt)throw new Error;return Math.abs(Math.abs(n)-lt)<=wm?e=0:e=i*Math.atan2(t.x,t.y)/Math.cos(n),t.x=vt(e+(this.long0||0)),t.y=Ml(n),t}var Apt=["bonne","Bonne (Werner lat_1=90)"];const Mpt={init:wpt,names:Apt};function Tpt(t){t.Proj.projections.add(z1),t.Proj.projections.add(W1),t.Proj.projections.add(xct),t.Proj.projections.add(Cct),t.Proj.projections.add(Fct),t.Proj.projections.add(Bct),t.Proj.projections.add(Yct),t.Proj.projections.add(Kct),t.Proj.projections.add(rut),t.Proj.projections.add(cut),t.Proj.projections.add(Mut),t.Proj.projections.add(kut),t.Proj.projections.add(Fut),t.Proj.projections.add(Vut),t.Proj.projections.add(Yut),t.Proj.projections.add(Kut),t.Proj.projections.add(rht),t.Proj.projections.add(cht),t.Proj.projections.add(mht),t.Proj.projections.add(wht),t.Proj.projections.add(Aht),t.Proj.projections.add(Oht),t.Proj.projections.add(Pht),t.Proj.projections.add(Ght),t.Proj.projections.add(Wht),t.Proj.projections.add(Kht),t.Proj.projections.add(rpt),t.Proj.projections.add(cpt),t.Proj.projections.add(fpt),t.Proj.projections.add(bpt),t.Proj.projections.add(Mpt)}Ce.defaultDatum="WGS84",Ce.Proj=Eo,Ce.WGS84=new Ce.Proj("WGS84"),Ce.Point=up,Ce.toPoint=t9,Ce.defs=Yi,Ce.nadgrid=Slt,Ce.transform=V1,Ce.mgrs=Glt,Ce.version="__VERSION__",Tpt(Ce);const Ipt="EPSG:4326";class Npt{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Ce.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Ce.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Ce.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Ce.defs("EPSG:102100",Ce.defs("EPSG:3857")),Ce.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Ce.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let e=1;for(;e<=60;){const n=e<10?`0${e}`:e;Ce.defs(`EPSG:326${n}`,`+proj=utm +zone=${e} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),e++}}addProjection(e,n){e=typeof e=="number"?`EPSG:${e}`:e,Ce.defs(e,n)}defaultEpsgLookup(e){const n=/urn:ogc:def:crs:EPSG::(\d+)/,i=/EPSG:(\d+)/,r=String(e).match(n)||String(e).match(i)||[];if(r.length<2)throw new Error("Invalid code provided.");return new Promise((s,o)=>{const a=`https://epsg.io/${r[1]}.proj4`;fn(a,{responseType:"text"}).then(l=>{l.data?s(l.data):o()},l=>{o(l)})})}epsgLookup(e){return this.espgWorker(e)}setEpsgLookup(e){this.espgWorker=e}normalizeProj(e){if(typeof e=="object"){if(e.wkid)return"EPSG:"+e.wkid;if(e.wkt)return e.wkt}else{if(typeof e=="number")return"EPSG:"+e;if(typeof e=="string")return e}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(e){let n,i="";try{n=this.normalizeProj(e)}catch{return!1}if(!n.startsWith("EPSG:"))return!0;typeof e=="object"&&e.latestWkid&&(i=this.normalizeProj(e.latestWkid));const r=(o,a)=>{o!==a&&Ce.defs(a,Ce.defs(o))};if(Ce.defs(n))return!0;if(i&&Ce.defs(i))return r(i,n),!0;const s=async o=>{try{const a=await this.epsgLookup(o);return a===null||a===""?!1:(Ce.defs(o,a),!0)}catch{return!1}};return await(i?s(i):Promise.resolve(!1))?(r(i,n),!0):s(n)}async checkProjBomber(e){if(e.length>0){const n=e.pop();if(await this.checkProj(n))return this.checkProjBomber(e);throw console.error("Unable to parse or locate projection information for this item:",n),new Error("Could not find projection information, see console for details")}}async projectGeoJson(e,n,i){let r,s;if(n?r=this.normalizeProj(n):r=Rt.parseGeoJsonCrs(e.crs),i?s=this.normalizeProj(i):s=Ipt,s===r)return e;await this.checkProjBomber([r,s]);const o=Ce(r,s).forward;return jat(e,o)}async projectGeometry(e,n){if(n.type===Bt.EXTENT)return this.projectExtent(e,n);await this.checkProjBomber([e,n.sr]);const i=n.toGeoJSON(),r=await this.projectGeoJson(i,this.normalizeProj(n.sr),this.normalizeProj(e)),s=cc.geom.geomGeoJsonToRamp(r,n.id);return s.sr=Rt.parseSR(e),s}async projectExtent(e,n){const i=(b,x,A)=>{if(A===0)return[b,x];const M=[(b[0]+x[0])/2,(b[1]+x[1])/2];if(A===1)return[b,M,x];if(A>1){const _=i(b,M,A-1),w=i(M,x,A-1);return _.concat(w.slice(1))}return[[]]},r=n.toPolygonArray().pop()||[];let s=[];[0,1,2,3].map(b=>i(r[b],r[b+1],3).slice(1)).forEach(b=>s=s.concat(b));const o=new gi("warpy",[s],n.sr,!0),a=await this.projectGeometry(e,o),l=a.toArray().pop()||[],c=l.map(b=>b[0]),p=l.map(b=>b[1]),d=Math.min.apply(null,c),f=Math.max.apply(null,c),y=Math.min.apply(null,p),g=Math.max.apply(null,p);return Xe.fromParams(n.id+"_projected",d,y,f,g,a.sr)}}class Opt{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new Npt,this.geom=new Tat,this.sharedUtils=new Cat}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(e){const n=i=>i.map(r=>({level:r[0],resolution:r[1],scale:r[2]}));if(e===this.DEFAULT_LAMBERT)return n([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(e===this.DEFAULT_MERCATOR)return n([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${e}`)}}class _n{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(e){this.$iApi=e}}function Cpt(t){return typeof t=="function"&&t.render&&typeof t.render=="function"}function kpt(t){const e=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof t=="object"&&!t.functional&&e.some(n=>t[n]!==void 0)}function _9(t){return typeof t=="object"&&Object.keys(t).every(e=>typeof e=="string")&&Object.values(t).every(e=>e instanceof HTMLElement)}function Rpt(t){return typeof t=="object"&&t.default!==void 0}var Z1={exports:{}},x9;function Lpt(){if(x9)return Z1.exports;x9=1;function t(){}return t.prototype={on:function(e,n,i){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:n,ctx:i}),this},once:function(e,n,i){var r=this;function s(){r.off(e,s),n.apply(i,arguments)}return s._=n,this.on(e,s,i)},emit:function(e){var n=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),r=0,s=i.length;for(r;r<s;r++)i[r].fn.apply(i[r].ctx,n);return this},off:function(e,n){var i=this.e||(this.e={}),r=i[e],s=[];if(r&&n)for(var o=0,a=r.length;o<a;o++)r[o].fn!==n&&r[o].fn._!==n&&s.push(r[o]);return s.length?i[e]=s:delete i[e],this}},Z1.exports=t,Z1.exports.TinyEmitter=t,Z1.exports}var Ppt=Lpt();function Lr(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ee={},yp=[],ii=()=>{},_m=()=>!1,uu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),FS=t=>t.startsWith("onUpdate:"),ne=Object.assign,jS=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Dpt=Object.prototype.hasOwnProperty,ge=(t,e)=>Dpt.call(t,e),wt=Array.isArray,gp=t=>vp(t)==="[object Map]",hu=t=>vp(t)==="[object Set]",E9=t=>vp(t)==="[object Date]",Fpt=t=>vp(t)==="[object RegExp]",Ot=t=>typeof t=="function",$t=t=>typeof t=="string",dr=t=>typeof t=="symbol",Te=t=>t!==null&&typeof t=="object",$S=t=>(Te(t)||Ot(t))&&Ot(t.then)&&Ot(t.catch),S9=Object.prototype.toString,vp=t=>S9.call(t),jpt=t=>vp(t).slice(8,-1),X1=t=>vp(t)==="[object Object]",GS=t=>$t(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Nl=Lr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$pt=Lr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Q1=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Gpt=/-(\w)/g,Fe=Q1(t=>t.replace(Gpt,(e,n)=>n?n.toUpperCase():"")),Upt=/\B([A-Z])/g,fr=Q1(t=>t.replace(Upt,"-$1").toLowerCase()),Ol=Q1(t=>t.charAt(0).toUpperCase()+t.slice(1)),pu=Q1(t=>t?`on${Ol(t)}`:""),Zi=(t,e)=>!Object.is(t,e),bp=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},A9=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},K1=t=>{const e=parseFloat(t);return isNaN(e)?t:e},tv=t=>{const e=$t(t)?Number(t):NaN;return isNaN(e)?t:e};let M9;const ev=()=>M9||(M9=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bpt(t,e){return t+JSON.stringify(e,(n,i)=>typeof i=="function"?i.toString():i)}const Vpt="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",zpt=Lr(Vpt);function ya(t){if(wt(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=$t(i)?T9(i):ya(i);if(r)for(const s in r)e[s]=r[s]}return e}else if($t(t)||Te(t))return t}const Wpt=/;(?![^(]*\))/g,qpt=/:([^]+)/,Hpt=/\/\*[^]*?\*\//g;function T9(t){const e={};return t.replace(Hpt,"").split(Wpt).forEach(n=>{if(n){const i=n.split(qpt);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ke(t){let e="";if($t(t))e=t;else if(wt(t))for(let n=0;n<t.length;n++){const i=Ke(t[n]);i&&(e+=i+" ")}else if(Te(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function I9(t){if(!t)return null;let{class:e,style:n}=t;return e&&!$t(e)&&(t.class=Ke(e)),n&&(t.style=ya(n)),t}const Ypt="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Jpt="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Zpt="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Xpt="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Qpt=Lr(Ypt),Kpt=Lr(Jpt),tdt=Lr(Zpt),edt=Lr(Xpt),ndt="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",idt=Lr(ndt);function N9(t){return!!t||t===""}function rdt(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=Cl(t[i],e[i]);return n}function Cl(t,e){if(t===e)return!0;let n=E9(t),i=E9(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=dr(t),i=dr(e),n||i)return t===e;if(n=wt(t),i=wt(e),n||i)return n&&i?rdt(t,e):!1;if(n=Te(t),i=Te(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Cl(t[o],e[o]))return!1}}return String(t)===String(e)}function nv(t,e){return t.findIndex(n=>Cl(n,e))}const O9=t=>!!(t&&t.__v_isRef===!0),ve=t=>$t(t)?t:t==null?"":wt(t)||Te(t)&&(t.toString===S9||!Ot(t.toString))?O9(t)?ve(t.value):JSON.stringify(t,C9,2):String(t),C9=(t,e)=>O9(e)?C9(t,e.value):gp(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],s)=>(n[US(i,s)+" =>"]=r,n),{})}:hu(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>US(n))}:dr(e)?US(e):Te(e)&&!wt(e)&&!X1(e)?String(e):e,US=(t,e="")=>{var n;return dr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};var sdt={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ramp4-pcar4",GRADLE_HOME:"/usr/share/gradle-9.3.0",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/29.0.14206865",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"57148724",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"2018",ACTIONS_ORCHESTRATION_ID:"7c5ca99a-6baf-4697-a4a2-8cfc1070a51b.build.__default",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",JAVA_HOME_25_X64:"/usr/lib/jvm/temurin-25-jdk-amd64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20260126.10.1",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.12/x64",JOURNAL_STREAM:"9:15440",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.12/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GOROOT_1_25_X64:"/opt/hostedtoolcache/go/1.25.6/x64",GITHUB_RUN_ID:"21676904029",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"5d0b633fc354874b94f79c8608a0ee64b40170eb",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_config_ignore_scripts:"true",GITHUB_WORKFLOW_REF:"ramp4-pcar4/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/main",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9tYWluXCIsXCJQZXJtaXNzaW9uXCI6M31dIiwiYWNzbCI6IjEwIiwiYXVkIjoidnNvOmRjOGU3ZTRkLTRkNDUtNDhkMC1iZjhhLTZiZDRjNmMyNDYwNyIsImJpbGxpbmdfb3duZXJfaWQiOiJPX2tnRE9BMmdGTkEiLCJleHAiOjE3NzAyNDAxOTMsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcHJpbWFyeXNpZCI6ImRkZGRkZGRkLWRkZGQtZGRkZC1kZGRkLWRkZGRkZGRkZGRkZCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL3NpZCI6ImRkZGRkZGRkLWRkZGQtZGRkZC1kZGRkLWRkZGRkZGRkZGRkZCIsImlhdCI6MTc3MDIxNzk5MywiaXNzIjoiaHR0cHM6Ly90b2tlbi5hY3Rpb25zLmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImpvYl9pZCI6IjJiNDQ2ZDRjLTY4YTQtNWJhMy1hOGYxLTQ0N2YyYTdkYjEwOSIsIm5hbWVpZCI6ImRkZGRkZGRkLWRkZGQtZGRkZC1kZGRkLWRkZGRkZGRkZGRkZCIsIm5iZiI6MTc3MDIxNzY5Mywib2lkY19leHRyYSI6IntcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcImFjdG9yX2lkXCI6XCI3NTg1MjQ1XCIsXCJiYXNlX3JlZlwiOlwiXCIsXCJjaGVja19ydW5faWRcIjpcIjYyNDk5NzU5OTkyXCIsXCJlbnZpcm9ubWVudFwiOlwiZ2l0aHViLXBhZ2VzXCIsXCJlbnZpcm9ubWVudF9ub2RlX2lkXCI6XCJFTl9rd0RPRFFQWldjNGVFeDJaXCIsXCJldmVudF9uYW1lXCI6XCJwdXNoXCIsXCJoZWFkX3JlZlwiOlwiXCIsXCJqb2Jfd29ya2Zsb3dfcmVmXCI6XCJyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNC8uZ2l0aHViL3dvcmtmbG93cy9kZW1vLWJ1aWxkLnltbEByZWZzL2hlYWRzL21haW5cIixcImpvYl93b3JrZmxvd19zaGFcIjpcIjVkMGI2MzNmYzM1NDg3NGI5NGY3OWM4NjA4YTBlZTY0YjQwMTcwZWJcIixcInJlZlwiOlwicmVmcy9oZWFkcy9tYWluXCIsXCJyZWZfcHJvdGVjdGVkXCI6XCJ0cnVlXCIsXCJyZWZfdHlwZVwiOlwiYnJhbmNoXCIsXCJyZXBvc2l0b3J5XCI6XCJyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNFwiLFwicmVwb3NpdG9yeV9pZFwiOlwiMjE4MzU2MDU3XCIsXCJyZXBvc2l0b3J5X293bmVyXCI6XCJyYW1wNC1wY2FyNFwiLFwicmVwb3NpdG9yeV9vd25lcl9pZFwiOlwiNTcxNDg3MjRcIixcInJlcG9zaXRvcnlfdmlzaWJpbGl0eVwiOlwicHVibGljXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicnVuX2lkXCI6XCIyMTY3NjkwNDAyOVwiLFwicnVuX251bWJlclwiOlwiMzEzXCIsXCJydW5uZXJfZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1ob3N0ZWRcIixcInNoYVwiOlwiNWQwYjYzM2ZjMzU0ODc0Yjk0Zjc5Yzg2MDhhMGVlNjRiNDAxNzBlYlwiLFwid29ya2Zsb3dcIjpcIkJ1aWxkIGRlbW8gc2l0ZSBhbmQgZGVwbG95IHRvIEdpdEh1YiBQYWdlc1wiLFwid29ya2Zsb3dfcmVmXCI6XCJyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNC8uZ2l0aHViL3dvcmtmbG93cy9kZW1vLWJ1aWxkLnltbEByZWZzL2hlYWRzL21haW5cIixcIndvcmtmbG93X3NoYVwiOlwiNWQwYjYzM2ZjMzU0ODc0Yjk0Zjc5Yzg2MDhhMGVlNjRiNDAxNzBlYlwifSIsIm9pZGNfc3ViIjoicmVwbzpyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoX2lkIjoiN2M1Y2E5OWEtNmJhZi00Njk3LWE0YTItOGNmYzEwNzBhNTFiLmJ1aWxkLl9fZGVmYXVsdCIsIm93bmVyX2lkIjoiT19rZ0RPQTJnRk5BIiwicGxhbl9pZCI6IjdjNWNhOTlhLTZiYWYtNDY5Ny1hNGEyLThjZmMxMDcwYTUxYiIsInJlcG9zaXRvcnlfaWQiOiIyMTgzNTYwNTciLCJydW5faWQiOiIyMTY3NjkwNDAyOSIsInJ1bl9udW1iZXIiOiIzMTMiLCJydW5fdHlwZSI6ImZ1bGwiLCJydW5uZXJfaWQiOiIxMDAwMDExMTk4IiwicnVubmVyX3R5cGUiOiJob3N0ZWQiLCJzY3AiOiJBY3Rpb25zLlJlc3VsdHM6N2M1Y2E5OWEtNmJhZi00Njk3LWE0YTItOGNmYzEwNzBhNTFiOjJiNDQ2ZDRjLTY4YTQtNWJhMy1hOGYxLTQ0N2YyYTdkYjEwOSBBY3Rpb25zLlJ1bm5lcjo3YzVjYTk5YS02YmFmLTQ2OTctYTRhMi04Y2ZjMTA3MGE1MWI6MmI0NDZkNGMtNjhhNC01YmEzLWE4ZjEtNDQ3ZjJhN2RiMTA5IEFjdGlvbnMuVXBsb2FkQXJ0aWZhY3RzOjdjNWNhOTlhLTZiYWYtNDY5Ny1hNGEyLThjZmMxMDcwYTUxYjoyYjQ0NmQ0Yy02OGE0LTViYTMtYThmMS00NDdmMmE3ZGIxMDkgZ2VuZXJhdGVfaWRfdG9rZW46N2M1Y2E5OWEtNmJhZi00Njk3LWE0YTItOGNmYzEwNzBhNTFiOjJiNDQ2ZDRjLTY4YTQtNWJhMy1hOGYxLTQ0N2YyYTdkYjEwOSBBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCIsInNoYSI6IjVkMGI2MzNmYzM1NDg3NGI5NGY3OWM4NjA4YTBlZTY0YjQwMTcwZWIiLCJ0cnVzdF90aWVyIjoiMiJ9.LJiIqaOw_m5m9eg3EIewbK-xp0RZLwrv5HYb8U_TroQ6-tdkrWa9wHiN3W9CGs72qE5cg7jzpAhDrAsM2Ln82qHWnX6ArVwuzGHAIt82yA2v4q4vIKBOj7i_MVC5__yAupmQiO9PCfSjoqJiUOxcADNQCGpTiT61OqGjXcl59bfBWNboL4bk-Ll_7BVDCjf_GkxYPk7AUa4ajX7R_uoB2zWy9oi_8vgKtwuqm4zfZEvNU2CAduNhYCJ_4P0YcUwbOra_zEopawDTIqIPwNrWuMhSDTGJJdmndK8QoY2HDCKi-8AwDWWp2ZOpq5CeAZhB3Jkanmg4yFC7uu9HCPT14w",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_609e474f-53ae-437c-9b1c-c2d4d76b0c9b",INVOCATION_ID:"ddf0256c24eb41d8bd1fa6c45cc36df4",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"313",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000011198",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ramp4-pcar4/ramp4-pcar4",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"218356057",GITHUB_ACTIONS:"true",npm_package_version:"4.16.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"true",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",GITHUB_SHA:"5d0b633fc354874b94f79c8608a0ee64b40170eb",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/80//idtoken/7c5ca99a-6baf-4697-a4a2-8cfc1070a51b/2b446d4c-68a4-5ba3-a8f1-447f2a7db109?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",PSModulePath:"/root/.local/share/powershell/Modules:/usr/local/share/powershell/Modules:/opt/microsoft/powershell/7/Modules:/usr/share/az_14.6.0",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};let Xi;class iv{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xi,!e&&Xi&&(this.index=(Xi.scopes||(Xi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Xi;try{return Xi=this,e()}finally{Xi=n}}}on(){Xi=this}off(){Xi=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function xm(t){return new iv(t)}function rv(){return Xi}function BS(t,e=!1){Xi&&Xi.cleanups.push(t)}let je;const VS=new WeakSet;class wp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xi&&Xi.active&&Xi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,VS.has(this)&&(VS.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||R9(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,G9(this),L9(this);const e=je,n=Ws;je=this,Ws=!0;try{return this.fn()}finally{P9(this),je=e,Ws=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)HS(e);this.deps=this.depsTail=void 0,G9(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?VS.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qS(this)&&this.run()}get dirty(){return qS(this)}}let k9=0,Em,Sm;function R9(t,e=!1){if(t.flags|=8,e){t.next=Sm,Sm=t;return}t.next=Em,Em=t}function zS(){k9++}function WS(){if(--k9>0)return;if(Sm){let e=Sm;for(Sm=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Em;){let e=Em;for(Em=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function L9(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function P9(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),HS(i),odt(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function qS(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(D9(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function D9(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Am))return;t.globalVersion=Am;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!qS(t)){t.flags&=-3;return}const n=je,i=Ws;je=t,Ws=!0;try{L9(t);const r=t.fn(t._value);(e.version===0||Zi(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{je=n,Ws=i,P9(t),t.flags&=-3}}function HS(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)HS(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function odt(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function F9(t,e){t.effect instanceof wp&&(t=t.effect.fn);const n=new wp(t);e&&ne(n,e);try{n.run()}catch(r){throw n.stop(),r}const i=n.run.bind(n);return i.effect=n,i}function j9(t){t.effect.stop()}let Ws=!0;const $9=[];function ga(){$9.push(Ws),Ws=!1}function va(){const t=$9.pop();Ws=t===void 0?!0:t}function G9(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=je;je=void 0;try{e()}finally{je=n}}}let Am=0;class adt{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sv{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!je||!Ws||je===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==je)n=this.activeLink=new adt(je,this),je.deps?(n.prevDep=je.depsTail,je.depsTail.nextDep=n,je.depsTail=n):je.deps=je.depsTail=n,U9(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=je.depsTail,n.nextDep=void 0,je.depsTail.nextDep=n,je.depsTail=n,je.deps===n&&(je.deps=i)}return n}trigger(e){this.version++,Am++,this.notify(e)}notify(e){zS();try{sdt.NODE_ENV;for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{WS()}}}function U9(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)U9(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ov=new WeakMap,du=Symbol(""),YS=Symbol(""),Mm=Symbol("");function Ai(t,e,n){if(Ws&&je){let i=ov.get(t);i||ov.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new sv),r.map=i,r.key=n),r.track()}}function ba(t,e,n,i,r,s){const o=ov.get(t);if(!o){Am++;return}const a=l=>{l&&l.trigger()};if(zS(),e==="clear")o.forEach(a);else{const l=wt(t),c=l&&GS(n);if(l&&n==="length"){const p=Number(i);o.forEach((d,f)=>{(f==="length"||f===Mm||!dr(f)&&f>=p)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Mm)),e){case"add":l?c&&a(o.get("length")):(a(o.get(du)),gp(t)&&a(o.get(YS)));break;case"delete":l||(a(o.get(du)),gp(t)&&a(o.get(YS)));break;case"set":gp(t)&&a(o.get(du));break}}WS()}function ldt(t,e){const n=ov.get(t);return n&&n.get(e)}function _p(t){const e=Ct(t);return e===t?e:(Ai(e,"iterate",Mm),mr(t)?e:e.map(Mi))}function av(t){return Ai(t=Ct(t),"iterate",Mm),t}const cdt={__proto__:null,[Symbol.iterator](){return JS(this,Symbol.iterator,Mi)},concat(...t){return _p(this).concat(...t.map(e=>wt(e)?_p(e):e))},entries(){return JS(this,"entries",t=>(t[1]=Mi(t[1]),t))},every(t,e){return wa(this,"every",t,e,void 0,arguments)},filter(t,e){return wa(this,"filter",t,e,n=>n.map(Mi),arguments)},find(t,e){return wa(this,"find",t,e,Mi,arguments)},findIndex(t,e){return wa(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return wa(this,"findLast",t,e,Mi,arguments)},findLastIndex(t,e){return wa(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return wa(this,"forEach",t,e,void 0,arguments)},includes(...t){return ZS(this,"includes",t)},indexOf(...t){return ZS(this,"indexOf",t)},join(t){return _p(this).join(t)},lastIndexOf(...t){return ZS(this,"lastIndexOf",t)},map(t,e){return wa(this,"map",t,e,void 0,arguments)},pop(){return Tm(this,"pop")},push(...t){return Tm(this,"push",t)},reduce(t,...e){return B9(this,"reduce",t,e)},reduceRight(t,...e){return B9(this,"reduceRight",t,e)},shift(){return Tm(this,"shift")},some(t,e){return wa(this,"some",t,e,void 0,arguments)},splice(...t){return Tm(this,"splice",t)},toReversed(){return _p(this).toReversed()},toSorted(t){return _p(this).toSorted(t)},toSpliced(...t){return _p(this).toSpliced(...t)},unshift(...t){return Tm(this,"unshift",t)},values(){return JS(this,"values",Mi)}};function JS(t,e,n){const i=av(t),r=i[e]();return i!==t&&!mr(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const udt=Array.prototype;function wa(t,e,n,i,r,s){const o=av(t),a=o!==t&&!mr(t),l=o[e];if(l!==udt[e]){const d=l.apply(t,s);return a?Mi(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,Mi(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const p=l.call(o,c,i);return a&&r?r(p):p}function B9(t,e,n,i){const r=av(t);let s=n;return r!==t&&(mr(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,Mi(a),l,t)}),r[e](s,...i)}function ZS(t,e,n){const i=Ct(t);Ai(i,"iterate",Mm);const r=i[e](...n);return(r===-1||r===!1)&&Ep(n[0])?(n[0]=Ct(n[0]),i[e](...n)):r}function Tm(t,e,n=[]){ga(),zS();const i=Ct(t)[e].apply(t,n);return WS(),va(),i}const hdt=Lr("__proto__,__v_isRef,__isVue"),V9=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(dr));function pdt(t){dr(t)||(t=String(t));const e=Ct(this);return Ai(e,"has",t),e.hasOwnProperty(t)}class z9{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?Z9:J9:s?Y9:H9).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=wt(e);if(!r){let l;if(o&&(l=cdt[n]))return l;if(n==="hasOwnProperty")return pdt}const a=Reflect.get(e,n,ie(e)?e:i);return(dr(n)?V9.has(n):hdt(n))||(r||Ai(e,"get",n),s)?a:ie(a)?o&&GS(n)?a:a.value:Te(a)?r?hv(a):Zn(a):a}}class W9 extends z9{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=_a(s);if(!mr(i)&&!_a(i)&&(s=Ct(s),i=Ct(i)),!wt(e)&&ie(s)&&!ie(i))return l?!1:(s.value=i,!0)}const o=wt(e)&&GS(n)?Number(n)<e.length:ge(e,n),a=Reflect.set(e,n,i,ie(e)?e:r);return e===Ct(r)&&(o?Zi(i,s)&&ba(e,"set",n,i):ba(e,"add",n,i)),a}deleteProperty(e,n){const i=ge(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&ba(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!dr(n)||!V9.has(n))&&Ai(e,"has",n),i}ownKeys(e){return Ai(e,"iterate",wt(e)?"length":du),Reflect.ownKeys(e)}}class q9 extends z9{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ddt=new W9,fdt=new q9,mdt=new W9(!0),ydt=new q9(!0),XS=t=>t,lv=t=>Reflect.getPrototypeOf(t);function gdt(t,e,n){return function(...i){const r=this.__v_raw,s=Ct(r),o=gp(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...i),p=n?XS:e?KS:Mi;return!e&&Ai(s,"iterate",l?YS:du),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[p(d[0]),p(d[1])]:p(d),done:f}},[Symbol.iterator](){return this}}}}function cv(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function vdt(t,e){const n={get(i){const r=this.__v_raw,s=Ct(r),o=Ct(i);t||(Zi(i,o)&&Ai(s,"get",i),Ai(s,"get",o));const{has:a}=lv(s),l=e?XS:t?KS:Mi;if(a.call(s,i))return l(r.get(i));if(a.call(s,o))return l(r.get(o));r!==s&&r.get(i)},get size(){const i=this.__v_raw;return!t&&Ai(Ct(i),"iterate",du),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,s=Ct(r),o=Ct(i);return t||(Zi(i,o)&&Ai(s,"has",i),Ai(s,"has",o)),i===o?r.has(i):r.has(i)||r.has(o)},forEach(i,r){const s=this,o=s.__v_raw,a=Ct(o),l=e?XS:t?KS:Mi;return!t&&Ai(a,"iterate",du),o.forEach((c,p)=>i.call(r,l(c),l(p),s))}};return ne(n,t?{add:cv("add"),set:cv("set"),delete:cv("delete"),clear:cv("clear")}:{add(i){!e&&!mr(i)&&!_a(i)&&(i=Ct(i));const r=Ct(this);return lv(r).has.call(r,i)||(r.add(i),ba(r,"add",i,i)),this},set(i,r){!e&&!mr(r)&&!_a(r)&&(r=Ct(r));const s=Ct(this),{has:o,get:a}=lv(s);let l=o.call(s,i);l||(i=Ct(i),l=o.call(s,i));const c=a.call(s,i);return s.set(i,r),l?Zi(r,c)&&ba(s,"set",i,r):ba(s,"add",i,r),this},delete(i){const r=Ct(this),{has:s,get:o}=lv(r);let a=s.call(r,i);a||(i=Ct(i),a=s.call(r,i)),o&&o.call(r,i);const l=r.delete(i);return a&&ba(r,"delete",i,void 0),l},clear(){const i=Ct(this),r=i.size!==0,s=i.clear();return r&&ba(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=gdt(i,t,e)}),n}function uv(t,e){const n=vdt(t,e);return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(ge(n,r)&&r in i?n:i,r,s)}const bdt={get:uv(!1,!1)},wdt={get:uv(!1,!0)},_dt={get:uv(!0,!1)},xdt={get:uv(!0,!0)},H9=new WeakMap,Y9=new WeakMap,J9=new WeakMap,Z9=new WeakMap;function Edt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sdt(t){return t.__v_skip||!Object.isExtensible(t)?0:Edt(jpt(t))}function Zn(t){return _a(t)?t:pv(t,!1,ddt,bdt,H9)}function QS(t){return pv(t,!1,mdt,wdt,Y9)}function hv(t){return pv(t,!0,fdt,_dt,J9)}function xp(t){return pv(t,!0,ydt,xdt,Z9)}function pv(t,e,n,i,r){if(!Te(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const o=Sdt(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return r.set(t,a),a}function Qi(t){return _a(t)?Qi(t.__v_raw):!!(t&&t.__v_isReactive)}function _a(t){return!!(t&&t.__v_isReadonly)}function mr(t){return!!(t&&t.__v_isShallow)}function Ep(t){return t?!!t.__v_raw:!1}function Ct(t){const e=t&&t.__v_raw;return e?Ct(e):t}function qe(t){return!ge(t,"__v_skip")&&Object.isExtensible(t)&&A9(t,"__v_skip",!0),t}const Mi=t=>Te(t)?Zn(t):t,KS=t=>Te(t)?hv(t):t;function ie(t){return t?t.__v_isRef===!0:!1}function Z(t){return X9(t,!1)}function Sp(t){return X9(t,!0)}function X9(t,e){return ie(t)?t:new Adt(t,e)}class Adt{constructor(e,n){this.dep=new sv,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ct(e),this._value=n?e:Mi(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||mr(e)||_a(e);e=i?e:Ct(e),Zi(e,n)&&(this._rawValue=e,this._value=i?e:Mi(e),this.dep.trigger())}}function Q9(t){t.dep&&t.dep.trigger()}function _t(t){return ie(t)?t.value:t}function K9(t){return Ot(t)?t():_t(t)}const Mdt={get:(t,e,n)=>e==="__v_raw"?t:_t(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return ie(r)&&!ie(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function dv(t){return Qi(t)?t:new Proxy(t,Mdt)}class Tdt{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new sv,{get:i,set:r}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function t4(t){return new Tdt(t)}function fv(t){const e=wt(t)?new Array(t.length):{};for(const n in t)e[n]=t7(t,n);return e}class Idt{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ldt(Ct(this._object),this._key)}}class Ndt{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function mv(t,e,n){return ie(t)?t:Ot(t)?new Ndt(t):Te(t)&&arguments.length>1?t7(t,e,n):Z(t)}function t7(t,e,n){const i=t[e];return ie(i)?i:new Idt(t,e,n)}class Odt{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new sv(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Am-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&je!==this)return R9(this,!0),!0}get value(){const e=this.dep.track();return D9(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Cdt(t,e,n=!1){let i,r;return Ot(t)?i=t:(i=t.get,r=t.set),new Odt(i,r,n)}const e7={GET:"get",HAS:"has",ITERATE:"iterate"},n7={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},yv={},gv=new WeakMap;let kl;function i7(){return kl}function e4(t,e=!1,n=kl){if(n){let i=gv.get(n);i||gv.set(n,i=[]),i.push(t)}}function kdt(t,e,n=ee){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,c=w=>r?w:mr(w)||r===!1||r===0?xa(w,1):xa(w);let p,d,f,y,g=!1,b=!1;if(ie(t)?(d=()=>t.value,g=mr(t)):Qi(t)?(d=()=>c(t),g=!0):wt(t)?(b=!0,g=t.some(w=>Qi(w)||mr(w)),d=()=>t.map(w=>{if(ie(w))return w.value;if(Qi(w))return c(w);if(Ot(w))return l?l(w,2):w()})):Ot(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){ga();try{f()}finally{va()}}const w=kl;kl=p;try{return l?l(t,3,[y]):t(y)}finally{kl=w}}:d=ii,e&&r){const w=d,T=r===!0?1/0:r;d=()=>xa(w(),T)}const x=rv(),A=()=>{p.stop(),x&&x.active&&jS(x.effects,p)};if(s&&e){const w=e;e=(...T)=>{w(...T),A()}}let M=b?new Array(t.length).fill(yv):yv;const _=w=>{if(!(!(p.flags&1)||!p.dirty&&!w))if(e){const T=p.run();if(r||g||(b?T.some((I,O)=>Zi(I,M[O])):Zi(T,M))){f&&f();const I=kl;kl=p;try{const O=[T,M===yv?void 0:b&&M[0]===yv?[]:M,y];l?l(e,3,O):e(...O),M=T}finally{kl=I}}}else p.run()};return a&&a(_),p=new wp(d),p.scheduler=o?()=>o(_,!1):_,y=w=>e4(w,!1,p),f=p.onStop=()=>{const w=gv.get(p);if(w){if(l)l(w,4);else for(const T of w)T();gv.delete(p)}},e?i?_(!0):M=p.run():o?o(_.bind(null,!0),!0):p.run(),A.pause=p.pause.bind(p),A.resume=p.resume.bind(p),A.stop=A,A}function xa(t,e=1/0,n){if(e<=0||!Te(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ie(t))xa(t.value,e,n);else if(wt(t))for(let i=0;i<t.length;i++)xa(t[i],e,n);else if(hu(t)||gp(t))t.forEach(i=>{xa(i,e,n)});else if(X1(t)){for(const i in t)xa(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&xa(t[i],e,n)}return t}var Rl={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ramp4-pcar4",GRADLE_HOME:"/usr/share/gradle-9.3.0",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/29.0.14206865",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"57148724",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"2018",ACTIONS_ORCHESTRATION_ID:"7c5ca99a-6baf-4697-a4a2-8cfc1070a51b.build.__default",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",JAVA_HOME_25_X64:"/usr/lib/jvm/temurin-25-jdk-amd64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20260126.10.1",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.12/x64",JOURNAL_STREAM:"9:15440",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.12/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GOROOT_1_25_X64:"/opt/hostedtoolcache/go/1.25.6/x64",GITHUB_RUN_ID:"21676904029",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"5d0b633fc354874b94f79c8608a0ee64b40170eb",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_config_ignore_scripts:"true",GITHUB_WORKFLOW_REF:"ramp4-pcar4/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/main",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9tYWluXCIsXCJQZXJtaXNzaW9uXCI6M31dIiwiYWNzbCI6IjEwIiwiYXVkIjoidnNvOmRjOGU3ZTRkLTRkNDUtNDhkMC1iZjhhLTZiZDRjNmMyNDYwNyIsImJpbGxpbmdfb3duZXJfaWQiOiJPX2tnRE9BMmdGTkEiLCJleHAiOjE3NzAyNDAxOTMsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcHJpbWFyeXNpZCI6ImRkZGRkZGRkLWRkZGQtZGRkZC1kZGRkLWRkZGRkZGRkZGRkZCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL3NpZCI6ImRkZGRkZGRkLWRkZGQtZGRkZC1kZGRkLWRkZGRkZGRkZGRkZCIsImlhdCI6MTc3MDIxNzk5MywiaXNzIjoiaHR0cHM6Ly90b2tlbi5hY3Rpb25zLmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImpvYl9pZCI6IjJiNDQ2ZDRjLTY4YTQtNWJhMy1hOGYxLTQ0N2YyYTdkYjEwOSIsIm5hbWVpZCI6ImRkZGRkZGRkLWRkZGQtZGRkZC1kZGRkLWRkZGRkZGRkZGRkZCIsIm5iZiI6MTc3MDIxNzY5Mywib2lkY19leHRyYSI6IntcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcImFjdG9yX2lkXCI6XCI3NTg1MjQ1XCIsXCJiYXNlX3JlZlwiOlwiXCIsXCJjaGVja19ydW5faWRcIjpcIjYyNDk5NzU5OTkyXCIsXCJlbnZpcm9ubWVudFwiOlwiZ2l0aHViLXBhZ2VzXCIsXCJlbnZpcm9ubWVudF9ub2RlX2lkXCI6XCJFTl9rd0RPRFFQWldjNGVFeDJaXCIsXCJldmVudF9uYW1lXCI6XCJwdXNoXCIsXCJoZWFkX3JlZlwiOlwiXCIsXCJqb2Jfd29ya2Zsb3dfcmVmXCI6XCJyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNC8uZ2l0aHViL3dvcmtmbG93cy9kZW1vLWJ1aWxkLnltbEByZWZzL2hlYWRzL21haW5cIixcImpvYl93b3JrZmxvd19zaGFcIjpcIjVkMGI2MzNmYzM1NDg3NGI5NGY3OWM4NjA4YTBlZTY0YjQwMTcwZWJcIixcInJlZlwiOlwicmVmcy9oZWFkcy9tYWluXCIsXCJyZWZfcHJvdGVjdGVkXCI6XCJ0cnVlXCIsXCJyZWZfdHlwZVwiOlwiYnJhbmNoXCIsXCJyZXBvc2l0b3J5XCI6XCJyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNFwiLFwicmVwb3NpdG9yeV9pZFwiOlwiMjE4MzU2MDU3XCIsXCJyZXBvc2l0b3J5X293bmVyXCI6XCJyYW1wNC1wY2FyNFwiLFwicmVwb3NpdG9yeV9vd25lcl9pZFwiOlwiNTcxNDg3MjRcIixcInJlcG9zaXRvcnlfdmlzaWJpbGl0eVwiOlwicHVibGljXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicnVuX2lkXCI6XCIyMTY3NjkwNDAyOVwiLFwicnVuX251bWJlclwiOlwiMzEzXCIsXCJydW5uZXJfZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1ob3N0ZWRcIixcInNoYVwiOlwiNWQwYjYzM2ZjMzU0ODc0Yjk0Zjc5Yzg2MDhhMGVlNjRiNDAxNzBlYlwiLFwid29ya2Zsb3dcIjpcIkJ1aWxkIGRlbW8gc2l0ZSBhbmQgZGVwbG95IHRvIEdpdEh1YiBQYWdlc1wiLFwid29ya2Zsb3dfcmVmXCI6XCJyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNC8uZ2l0aHViL3dvcmtmbG93cy9kZW1vLWJ1aWxkLnltbEByZWZzL2hlYWRzL21haW5cIixcIndvcmtmbG93X3NoYVwiOlwiNWQwYjYzM2ZjMzU0ODc0Yjk0Zjc5Yzg2MDhhMGVlNjRiNDAxNzBlYlwifSIsIm9pZGNfc3ViIjoicmVwbzpyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoX2lkIjoiN2M1Y2E5OWEtNmJhZi00Njk3LWE0YTItOGNmYzEwNzBhNTFiLmJ1aWxkLl9fZGVmYXVsdCIsIm93bmVyX2lkIjoiT19rZ0RPQTJnRk5BIiwicGxhbl9pZCI6IjdjNWNhOTlhLTZiYWYtNDY5Ny1hNGEyLThjZmMxMDcwYTUxYiIsInJlcG9zaXRvcnlfaWQiOiIyMTgzNTYwNTciLCJydW5faWQiOiIyMTY3NjkwNDAyOSIsInJ1bl9udW1iZXIiOiIzMTMiLCJydW5fdHlwZSI6ImZ1bGwiLCJydW5uZXJfaWQiOiIxMDAwMDExMTk4IiwicnVubmVyX3R5cGUiOiJob3N0ZWQiLCJzY3AiOiJBY3Rpb25zLlJlc3VsdHM6N2M1Y2E5OWEtNmJhZi00Njk3LWE0YTItOGNmYzEwNzBhNTFiOjJiNDQ2ZDRjLTY4YTQtNWJhMy1hOGYxLTQ0N2YyYTdkYjEwOSBBY3Rpb25zLlJ1bm5lcjo3YzVjYTk5YS02YmFmLTQ2OTctYTRhMi04Y2ZjMTA3MGE1MWI6MmI0NDZkNGMtNjhhNC01YmEzLWE4ZjEtNDQ3ZjJhN2RiMTA5IEFjdGlvbnMuVXBsb2FkQXJ0aWZhY3RzOjdjNWNhOTlhLTZiYWYtNDY5Ny1hNGEyLThjZmMxMDcwYTUxYjoyYjQ0NmQ0Yy02OGE0LTViYTMtYThmMS00NDdmMmE3ZGIxMDkgZ2VuZXJhdGVfaWRfdG9rZW46N2M1Y2E5OWEtNmJhZi00Njk3LWE0YTItOGNmYzEwNzBhNTFiOjJiNDQ2ZDRjLTY4YTQtNWJhMy1hOGYxLTQ0N2YyYTdkYjEwOSBBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCIsInNoYSI6IjVkMGI2MzNmYzM1NDg3NGI5NGY3OWM4NjA4YTBlZTY0YjQwMTcwZWIiLCJ0cnVzdF90aWVyIjoiMiJ9.LJiIqaOw_m5m9eg3EIewbK-xp0RZLwrv5HYb8U_TroQ6-tdkrWa9wHiN3W9CGs72qE5cg7jzpAhDrAsM2Ln82qHWnX6ArVwuzGHAIt82yA2v4q4vIKBOj7i_MVC5__yAupmQiO9PCfSjoqJiUOxcADNQCGpTiT61OqGjXcl59bfBWNboL4bk-Ll_7BVDCjf_GkxYPk7AUa4ajX7R_uoB2zWy9oi_8vgKtwuqm4zfZEvNU2CAduNhYCJ_4P0YcUwbOra_zEopawDTIqIPwNrWuMhSDTGJJdmndK8QoY2HDCKi-8AwDWWp2ZOpq5CeAZhB3Jkanmg4yFC7uu9HCPT14w",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_609e474f-53ae-437c-9b1c-c2d4d76b0c9b",INVOCATION_ID:"ddf0256c24eb41d8bd1fa6c45cc36df4",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"313",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000011198",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ramp4-pcar4/ramp4-pcar4",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"218356057",GITHUB_ACTIONS:"true",npm_package_version:"4.16.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"true",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",GITHUB_SHA:"5d0b633fc354874b94f79c8608a0ee64b40170eb",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/80//idtoken/7c5ca99a-6baf-4697-a4a2-8cfc1070a51b/2b446d4c-68a4-5ba3-a8f1-447f2a7db109?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",PSModulePath:"/root/.local/share/powershell/Modules:/usr/local/share/powershell/Modules:/opt/microsoft/powershell/7/Modules:/usr/share/az_14.6.0",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const fu=[];function Rdt(t){fu.push(t)}function Ldt(){fu.pop()}let n4=!1;function Pdt(t,...e){if(n4)return;n4=!0,ga();const n=fu.length?fu[fu.length-1].component:null,i=n&&n.appContext.config.warnHandler,r=Ddt();if(i)Ll(i,n,11,[t+e.map(s=>{var o,a;return(a=(o=s.toString)==null?void 0:o.call(s))!=null?a:JSON.stringify(s)}).join(""),n&&n.proxy,r.map(({vnode:s})=>`at <${LD(n,s.type)}>`).join(`
`),r]);else{const s=[`[Vue warn]: ${t}`,...e];r.length&&s.push(`
`,...Fdt(r)),console.warn(...s)}va(),n4=!1}function Ddt(){let t=fu[fu.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const i=t.component&&t.component.parent;t=i&&i.vnode}return e}function Fdt(t){const e=[];return t.forEach((n,i)=>{e.push(...i===0?[]:[`
`],...jdt(n))}),e}function jdt({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",i=t.component?t.component.parent==null:!1,r=` at <${LD(t.component,t.type,i)}`,s=">"+n;return t.props?[r,...$dt(t.props),s]:[r+s]}function $dt(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(i=>{e.push(...r7(i,t[i]))}),n.length>3&&e.push(" ..."),e}function r7(t,e,n){return $t(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:ie(e)?(e=r7(t,Ct(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):Ot(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Ct(e),n?e:[`${t}=`,e])}function s7(t,e){}const o7={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},Gdt={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ll(t,e,n,i){try{return i?t(...i):t()}catch(r){Pl(r,e,n)}}function Pr(t,e,n,i){if(Ot(t)){const r=Ll(t,e,n,i);return r&&$S(r)&&r.catch(s=>{Pl(s,e,n)}),r}if(wt(t)){const r=[];for(let s=0;s<t.length;s++)r.push(Pr(t[s],e,n,i));return r}}function Pl(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ee;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const p=a.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](t,l,c)===!1)return}a=a.parent}if(s){ga(),Ll(s,null,10,[t,l,c]),va();return}}Udt(t,n,r,i,o)}function Udt(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}const Ki=[];let So=-1;const Ap=[];let Dl=null,Mp=0;const a7=Promise.resolve();let vv=null;function Dr(t){const e=vv||a7;return t?e.then(this?t.bind(this):t):e}function Bdt(t){let e=So+1,n=Ki.length;for(;e<n;){const i=e+n>>>1,r=Ki[i],s=Im(r);s<t||s===t&&r.flags&2?e=i+1:n=i}return e}function i4(t){if(!(t.flags&1)){const e=Im(t),n=Ki[Ki.length-1];!n||!(t.flags&2)&&e>=Im(n)?Ki.push(t):Ki.splice(Bdt(e),0,t),t.flags|=1,l7()}}function l7(){vv||(vv=a7.then(u7))}function Tp(t){wt(t)?Ap.push(...t):Dl&&t.id===-1?Dl.splice(Mp+1,0,t):t.flags&1||(Ap.push(t),t.flags|=1),l7()}function c7(t,e,n=So+1){for(;n<Ki.length;n++){const i=Ki[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Ki.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function bv(t){if(Ap.length){const e=[...new Set(Ap)].sort((n,i)=>Im(n)-Im(i));if(Ap.length=0,Dl){Dl.push(...e);return}for(Dl=e,Mp=0;Mp<Dl.length;Mp++){const n=Dl[Mp];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Dl=null,Mp=0}}const Im=t=>t.id==null?t.flags&2?-1:1/0:t.id;function u7(t){const e=ii;try{for(So=0;So<Ki.length;So++){const n=Ki[So];n&&!(n.flags&8)&&(Rl.NODE_ENV!=="production"&&e(n),n.flags&4&&(n.flags&=-2),Ll(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;So<Ki.length;So++){const n=Ki[So];n&&(n.flags&=-2)}So=-1,Ki.length=0,bv(),vv=null,(Ki.length||Ap.length)&&u7()}}let Ip,wv=[];function h7(t,e){var n,i;Ip=t,Ip?(Ip.enabled=!0,wv.forEach(({event:r,args:s})=>Ip.emit(r,...s)),wv=[]):typeof window<"u"&&window.HTMLElement&&!((i=(n=window.navigator)==null?void 0:n.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{h7(r,e)}),setTimeout(()=>{Ip||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,wv=[])},3e3)):wv=[]}let Xn=null,_v=null;function Nm(t){const e=Xn;return Xn=t,_v=t&&t.type.__scopeId||null,e}function p7(t){_v=t}function d7(){_v=null}const f7=t=>xn;function xn(t,e=Xn,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&Bv(-1);const s=Nm(e);let o;try{o=t(...r)}finally{Nm(s),i._d&&Bv(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function be(t,e){if(Xn===null)return t;const n=zm(Xn),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=ee]=e[r];s&&(Ot(s)&&(s={mounted:s,updated:s}),s.deep&&xa(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ao(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(ga(),Pr(l,n,8,[t.el,a,t,e]),va())}}const m7=Symbol("_vte"),y7=t=>t.__isTeleport,Om=t=>t&&(t.disabled||t.disabled===""),g7=t=>t&&(t.defer||t.defer===""),v7=t=>typeof SVGElement<"u"&&t instanceof SVGElement,b7=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,r4=(t,e)=>{const n=t&&t.to;return $t(n)?e?e(n):null:n},w7={name:"Teleport",__isTeleport:!0,process(t,e,n,i,r,s,o,a,l,c){const{mc:p,pc:d,pbc:f,o:{insert:y,querySelector:g,createText:b,createComment:x}}=c,A=Om(e.props);let{shapeFlag:M,children:_,dynamicChildren:w}=e;if(t==null){const T=e.el=b(""),I=e.anchor=b("");y(T,n,i),y(I,n,i);const O=(R,D)=>{M&16&&(r&&r.isCE&&(r.ce._teleportTarget=R),p(_,R,D,r,s,o,a,l))},C=()=>{const R=e.target=r4(e.props,g),D=_7(R,e,b,y);R&&(o!=="svg"&&v7(R)?o="svg":o!=="mathml"&&b7(R)&&(o="mathml"),A||(O(R,D),Ev(e,!1)))};A&&(O(n,I),Ev(e,!0)),g7(e.props)?Qn(()=>{C(),e.el.__isMounted=!0},s):C()}else{if(g7(e.props)&&!t.el.__isMounted){Qn(()=>{w7.process(t,e,n,i,r,s,o,a,l,c),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,I=e.target=t.target,O=e.targetAnchor=t.targetAnchor,C=Om(t.props),R=C?n:I,D=C?T:O;if(o==="svg"||v7(I)?o="svg":(o==="mathml"||b7(I))&&(o="mathml"),w?(f(t.dynamicChildren,w,R,r,s,o,a),L4(t,e,!0)):l||d(t,e,R,D,r,s,o,a,!1),A)C?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):xv(e,n,T,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=r4(e.props,g);U&&xv(e,U,null,c,0)}else C&&xv(e,I,O,c,1);Ev(e,A)}},remove(t,e,n,{um:i,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:p,target:d,props:f}=t;if(d&&(r(c),r(p)),s&&r(l),o&16){const y=s||!Om(f);for(let g=0;g<a.length;g++){const b=a[g];i(b,e,n,y,!!b.dynamicChildren)}}},move:xv,hydrate:Vdt};function xv(t,e,n,{o:{insert:i},m:r},s=2){s===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:p}=t,d=s===2;if(d&&i(o,e,n),(!d||Om(p))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,n,2);d&&i(a,e,n)}function Vdt(t,e,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:p}},d){const f=e.target=r4(e.props,l);if(f){const y=Om(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(y)e.anchor=d(o(t),e,a(t),n,i,r,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||_7(f,e,p,c),d(g&&o(g),e,f,n,i,r,s)}Ev(e,y)}return e.anchor&&o(e.anchor)}const s4=w7;function Ev(t,e){const n=t.ctx;if(n&&n.ut){let i,r;for(e?(i=t.el,r=t.anchor):(i=t.targetStart,r=t.targetAnchor);i&&i!==r;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function _7(t,e,n,i){const r=e.targetStart=n(""),s=e.targetAnchor=n("");return r[m7]=s,t&&(i(r,t),i(s,t)),s}const Fl=Symbol("_leaveCb"),Sv=Symbol("_enterCb");function Av(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ri(()=>{t.isMounted=!0}),us(()=>{t.isUnmounting=!0}),t}const cs=[Function,Array],Mv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:cs,onEnter:cs,onAfterEnter:cs,onEnterCancelled:cs,onBeforeLeave:cs,onLeave:cs,onAfterLeave:cs,onLeaveCancelled:cs,onBeforeAppear:cs,onAppear:cs,onAfterAppear:cs,onAppearCancelled:cs},x7=t=>{const e=t.subTree;return e.component?x7(e.component):e},zdt={name:"BaseTransition",props:Mv,setup(t,{slots:e}){const n=kn(),i=Av();return()=>{const r=e.default&&Cm(e.default(),!0);if(!r||!r.length)return;const s=E7(r),o=Ct(t),{mode:a}=o;if(i.isLeaving)return a4(s);const l=A7(s);if(!l)return a4(s);let c=mu(l,o,i,n,d=>c=d);l.type!==On&&Mo(l,c);let p=n.subTree&&A7(n.subTree);if(p&&p.type!==On&&!Hs(l,p)&&x7(n).type!==On){let d=mu(p,o,i,n);if(Mo(p,d),a==="out-in"&&l.type!==On)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,p=void 0},a4(s);a==="in-out"&&l.type!==On?d.delayLeave=(f,y,g)=>{const b=S7(i,p);b[String(p.key)]=p,f[Fl]=()=>{y(),f[Fl]=void 0,delete c.delayedLeave,p=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return s}}};function E7(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==On){e=n;break}}return e}const o4=zdt;function S7(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function mu(t,e,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:p,onEnterCancelled:d,onBeforeLeave:f,onLeave:y,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:x,onAppear:A,onAfterAppear:M,onAppearCancelled:_}=e,w=String(t.key),T=S7(n,t),I=(R,D)=>{R&&Pr(R,i,9,D)},O=(R,D)=>{const U=D[1];I(R,D),wt(R)?R.every(j=>j.length<=1)&&U():R.length<=1&&U()},C={mode:o,persisted:a,beforeEnter(R){let D=l;if(!n.isMounted)if(s)D=x||l;else return;R[Fl]&&R[Fl](!0);const U=T[w];U&&Hs(t,U)&&U.el[Fl]&&U.el[Fl](),I(D,[R])},enter(R){let D=c,U=p,j=d;if(!n.isMounted)if(s)D=A||c,U=M||p,j=_||d;else return;let $=!1;const H=R[Sv]=u=>{$||($=!0,u?I(j,[R]):I(U,[R]),C.delayedLeave&&C.delayedLeave(),R[Sv]=void 0)};D?O(D,[R,H]):H()},leave(R,D){const U=String(t.key);if(R[Sv]&&R[Sv](!0),n.isUnmounting)return D();I(f,[R]);let j=!1;const $=R[Fl]=H=>{j||(j=!0,D(),H?I(b,[R]):I(g,[R]),R[Fl]=void 0,T[U]===t&&delete T[U])};T[U]=t,y?O(y,[R,$]):$()},clone(R){const D=mu(R,e,n,i,r);return r&&r(D),D}};return C}function a4(t){if(Lm(t))return t=Ys(t),t.children=null,t}function A7(t){if(!Lm(t))return y7(t.type)&&t.children?E7(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ot(n.default))return n.default()}}function Mo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Mo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Cm(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ie?(o.patchFlag&128&&r++,i=i.concat(Cm(o.children,e,a))):(e||o.type!==On)&&i.push(a!=null?Ys(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function Zt(t,e){return Ot(t)?ne({name:t.name},e,{setup:t}):t}function l4(){const t=kn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function c4(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function km(t){const e=kn(),n=Sp(null);if(e){const i=e.refs===ee?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function Rm(t,e,n,i,r=!1){if(wt(t)){t.forEach((g,b)=>Rm(g,e&&(wt(e)?e[b]:e),n,i,r));return}if(jl(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Rm(t,e,n,i.component.subTree);return}const s=i.shapeFlag&4?zm(i.component):i.el,o=r?null:s,{i:a,r:l}=t,c=e&&e.r,p=a.refs===ee?a.refs={}:a.refs,d=a.setupState,f=Ct(d),y=d===ee?()=>!1:g=>ge(f,g);if(c!=null&&c!==l&&($t(c)?(p[c]=null,y(c)&&(d[c]=null)):ie(c)&&(c.value=null)),Ot(l))Ll(l,a,12,[o,p]);else{const g=$t(l),b=ie(l);if(g||b){const x=()=>{if(t.f){const A=g?y(l)?d[l]:p[l]:l.value;r?wt(A)&&jS(A,s):wt(A)?A.includes(s)||A.push(s):g?(p[l]=[s],y(l)&&(d[l]=p[l])):(l.value=[s],t.k&&(p[t.k]=l.value))}else g?(p[l]=o,y(l)&&(d[l]=o)):b&&(l.value=o,t.k&&(p[t.k]=o))};o?(x.id=-1,Qn(x,n)):x()}}}let M7=!1;const Np=()=>{M7||(console.error("Hydration completed but contains mismatches."),M7=!0)},Wdt=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",qdt=t=>t.namespaceURI.includes("MathML"),Tv=t=>{if(t.nodeType===1){if(Wdt(t))return"svg";if(qdt(t))return"mathml"}},Op=t=>t.nodeType===8;function Hdt(t){const{mt:e,p:n,o:{patchProp:i,createText:r,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=t,p=(_,w)=>{if(!w.hasChildNodes()){n(null,_,w),bv(),w._vnode=_;return}d(w.firstChild,_,null,null,null),bv(),w._vnode=_},d=(_,w,T,I,O,C=!1)=>{C=C||!!w.dynamicChildren;const R=Op(_)&&_.data==="[",D=()=>b(_,w,T,I,O,R),{type:U,ref:j,shapeFlag:$,patchFlag:H}=w;let u=_.nodeType;w.el=_,H===-2&&(C=!1,w.dynamicChildren=null);let m=null;switch(U){case To:u!==3?w.children===""?(l(w.el=r(""),o(_),_),m=_):m=D():(_.data!==w.children&&(Np(),_.data=w.children),m=s(_));break;case On:M(_)?(m=s(_),A(w.el=_.content.firstChild,_,T)):u!==8||R?m=D():m=s(_);break;case Gl:if(R&&(_=s(_),u=_.nodeType),u===1||u===3){m=_;const S=!w.children.length;for(let k=0;k<w.staticCount;k++)S&&(w.children+=m.nodeType===1?m.outerHTML:m.data),k===w.staticCount-1&&(w.anchor=m),m=s(m);return R?s(m):m}else D();break;case Ie:R?m=g(_,w,T,I,O,C):m=D();break;default:if($&1)(u!==1||w.type.toLowerCase()!==_.tagName.toLowerCase())&&!M(_)?m=D():m=f(_,w,T,I,O,C);else if($&6){w.slotScopeIds=O;const S=o(_);if(R?m=x(_):Op(_)&&_.data==="teleport start"?m=x(_,_.data,"teleport end"):m=s(_),e(w,S,null,T,I,Tv(S),C),jl(w)&&!w.type.__asyncResolved){let k;R?(k=zt(Ie),k.anchor=m?m.previousSibling:S.lastChild):k=_.nodeType===3?Js(""):zt("div"),k.el=_,w.component.subTree=k}}else $&64?u!==8?m=D():m=w.type.hydrate(_,w,T,I,O,C,t,y):$&128&&(m=w.type.hydrate(_,w,T,I,Tv(o(_)),O,C,t,d))}return j!=null&&Rm(j,null,I,w),m},f=(_,w,T,I,O,C)=>{C=C||!!w.dynamicChildren;const{type:R,props:D,patchFlag:U,shapeFlag:j,dirs:$,transition:H}=w,u=R==="input"||R==="option";if(u||U!==-1){$&&Ao(w,null,T,"created");let m=!1;if(M(_)){m=pD(null,H)&&T&&T.vnode.props&&T.vnode.props.appear;const k=_.content.firstChild;m&&H.beforeEnter(k),A(k,_,T),w.el=_=k}if(j&16&&!(D&&(D.innerHTML||D.textContent))){let k=y(_.firstChild,w,_,T,I,O,C);for(;k;){Iv(_,1)||Np();const V=k;k=k.nextSibling,a(V)}}else if(j&8){let k=w.children;k[0]===`
`&&(_.tagName==="PRE"||_.tagName==="TEXTAREA")&&(k=k.slice(1)),_.textContent!==k&&(Iv(_,0)||Np(),_.textContent=w.children)}if(D){if(u||!C||U&48){const k=_.tagName.includes("-");for(const V in D)(u&&(V.endsWith("value")||V==="indeterminate")||uu(V)&&!Nl(V)||V[0]==="."||k)&&i(_,V,null,D[V],void 0,T)}else if(D.onClick)i(_,"onClick",null,D.onClick,void 0,T);else if(U&4&&Qi(D.style))for(const k in D.style)D.style[k]}let S;(S=D&&D.onVnodeBeforeMount)&&gr(S,T,w),$&&Ao(w,null,T,"beforeMount"),((S=D&&D.onVnodeMounted)||$||m)&&ED(()=>{S&&gr(S,T,w),m&&H.enter(_),$&&Ao(w,null,T,"mounted")},I)}return _.nextSibling},y=(_,w,T,I,O,C,R)=>{R=R||!!w.dynamicChildren;const D=w.children,U=D.length;for(let j=0;j<U;j++){const $=R?D[j]:D[j]=yr(D[j]),H=$.type===To;_?(H&&!R&&j+1<U&&yr(D[j+1]).type===To&&(l(r(_.data.slice($.children.length)),T,s(_)),_.data=$.children),_=d(_,$,I,O,C,R)):H&&!$.children?l($.el=r(""),T):(Iv(T,1)||Np(),n(null,$,T,null,I,O,Tv(T),C))}return _},g=(_,w,T,I,O,C)=>{const{slotScopeIds:R}=w;R&&(O=O?O.concat(R):R);const D=o(_),U=y(s(_),w,D,T,I,O,C);return U&&Op(U)&&U.data==="]"?s(w.anchor=U):(Np(),l(w.anchor=c("]"),D,U),U)},b=(_,w,T,I,O,C)=>{if(Iv(_.parentElement,1)||Np(),w.el=null,C){const U=x(_);for(;;){const j=s(_);if(j&&j!==U)a(j);else break}}const R=s(_),D=o(_);return a(_),n(null,w,D,R,T,I,Tv(D),O),T&&(T.vnode.el=w.el,Gv(T,w.el)),R},x=(_,w="[",T="]")=>{let I=0;for(;_;)if(_=s(_),_&&Op(_)&&(_.data===w&&I++,_.data===T)){if(I===0)return s(_);I--}return _},A=(_,w,T)=>{const I=w.parentNode;I&&I.replaceChild(_,w);let O=T;for(;O;)O.vnode.el===w&&(O.vnode.el=O.subTree.el=_),O=O.parent},M=_=>_.nodeType===1&&_.tagName==="TEMPLATE";return[p,d]}const T7="data-allow-mismatch",Ydt={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Iv(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(T7);)t=t.parentElement;const n=t&&t.getAttribute(T7);if(n==null)return!1;if(n==="")return!0;{const i=n.split(",");return e===0&&i.includes("children")?!0:n.split(",").includes(Ydt[e])}}const Jdt=ev().requestIdleCallback||(t=>setTimeout(t,1)),Zdt=ev().cancelIdleCallback||(t=>clearTimeout(t)),I7=(t=1e4)=>e=>{const n=Jdt(e,{timeout:t});return()=>Zdt(n)};function Xdt(t){const{top:e,left:n,bottom:i,right:r}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||i>0&&i<s)&&(n>0&&n<o||r>0&&r<o)}const N7=t=>(e,n)=>{const i=new IntersectionObserver(r=>{for(const s of r)if(s.isIntersecting){i.disconnect(),e();break}},t);return n(r=>{if(r instanceof Element){if(Xdt(r))return e(),i.disconnect(),!1;i.observe(r)}}),()=>i.disconnect()},O7=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},C7=(t=[])=>(e,n)=>{$t(t)&&(t=[t]);let i=!1;const r=o=>{i||(i=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,r)})};return n(o=>{for(const a of t)o.addEventListener(a,r,{once:!0})}),s};function Qdt(t,e){if(Op(t)&&t.data==="["){let n=1,i=t.nextSibling;for(;i;){if(i.nodeType===1){if(e(i)===!1)break}else if(Op(i))if(i.data==="]"){if(--n===0)break}else i.data==="["&&n++;i=i.nextSibling}}else e(t)}const jl=t=>!!t.type.__asyncLoader;function Nv(t){Ot(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:r=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let c=null,p,d=0;const f=()=>(d++,c=null,y()),y=()=>{let g;return c||(g=c=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((x,A)=>{l(b,()=>x(f()),()=>A(b),d+1)});throw b}).then(b=>g!==c&&c?c:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),p=b,b)))};return Zt({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(g,b,x){const A=s?()=>{const M=s(x,_=>Qdt(g,_));M&&(b.bum||(b.bum=[])).push(M)}:x;p?A():y().then(()=>!b.isUnmounted&&A())},get __asyncResolved(){return p},setup(){const g=Cn;if(c4(g),p)return()=>u4(p,g);const b=_=>{c=null,Pl(_,g,13,!i)};if(a&&g.suspense||kp)return y().then(_=>()=>u4(_,g)).catch(_=>(b(_),()=>i?zt(i,{error:_}):null));const x=Z(!1),A=Z(),M=Z(!!r);return r&&setTimeout(()=>{M.value=!1},r),o!=null&&setTimeout(()=>{if(!x.value&&!A.value){const _=new Error(`Async component timed out after ${o}ms.`);b(_),A.value=_}},o),y().then(()=>{x.value=!0,g.parent&&Lm(g.parent.vnode)&&g.parent.update()}).catch(_=>{b(_),A.value=_}),()=>{if(x.value&&p)return u4(p,g);if(A.value&&i)return zt(i,{error:A.value});if(n&&!M.value)return zt(n)}}})}function u4(t,e){const{ref:n,props:i,children:r,ce:s}=e.vnode,o=zt(t,i,r);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Lm=t=>t.type.__isKeepAlive,Kdt={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=kn(),i=n.ctx;if(!i.renderer)return()=>{const M=e.default&&e.default();return M&&M.length===1?M[0]:M};const r=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:p,o:{createElement:d}}}=i,f=d("div");i.activate=(M,_,w,T,I)=>{const O=M.component;c(M,_,w,0,a),l(O.vnode,M,_,w,O,a,T,M.slotScopeIds,I),Qn(()=>{O.isDeactivated=!1,O.a&&bp(O.a);const C=M.props&&M.props.onVnodeMounted;C&&gr(C,O.parent,M)},a)},i.deactivate=M=>{const _=M.component;Fv(_.m),Fv(_.a),c(M,f,null,1,a),Qn(()=>{_.da&&bp(_.da);const w=M.props&&M.props.onVnodeUnmounted;w&&gr(w,_.parent,M),_.isDeactivated=!0},a)};function y(M){d4(M),p(M,n,a,!0)}function g(M){r.forEach((_,w)=>{const T=qv(_.type);T&&!M(T)&&b(w)})}function b(M){const _=r.get(M);_&&(!o||!Hs(_,o))?y(_):o&&d4(o),r.delete(M),s.delete(M)}Vn(()=>[t.include,t.exclude],([M,_])=>{M&&g(w=>Pm(M,w)),_&&g(w=>!Pm(_,w))},{flush:"post",deep:!0});let x=null;const A=()=>{x!=null&&(Uv(n.subTree.type)?Qn(()=>{r.set(x,Ov(n.subTree))},n.subTree.suspense):r.set(x,Ov(n.subTree)))};return ri(A),yu(A),us(()=>{r.forEach(M=>{const{subTree:_,suspense:w}=n,T=Ov(_);if(M.type===T.type&&M.key===T.key){d4(T);const I=T.component.da;I&&Qn(I,w);return}y(M)})}),()=>{if(x=null,!e.default)return o=null;const M=e.default(),_=M[0];if(M.length>1)return o=null,M;if(!qs(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let w=Ov(_);if(w.type===On)return o=null,w;const T=w.type,I=qv(jl(w)?w.type.__asyncResolved||{}:T),{include:O,exclude:C,max:R}=t;if(O&&(!I||!Pm(O,I))||C&&I&&Pm(C,I))return w.shapeFlag&=-257,o=w,_;const D=w.key==null?T:w.key,U=r.get(D);return w.el&&(w=Ys(w),_.shapeFlag&128&&(_.ssContent=w)),x=D,U?(w.el=U.el,w.component=U.component,w.transition&&Mo(w,w.transition),w.shapeFlag|=512,s.delete(D),s.add(D)):(s.add(D),R&&s.size>parseInt(R,10)&&b(s.values().next().value)),w.shapeFlag|=256,o=w,Uv(_.type)?_:w}}},k7=Kdt;function Pm(t,e){return wt(t)?t.some(n=>Pm(n,e)):$t(t)?t.split(",").includes(e):Fpt(t)?(t.lastIndex=0,t.test(e)):!1}function h4(t,e){R7(t,"a",e)}function p4(t,e){R7(t,"da",e)}function R7(t,e,n=Cn){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Cv(e,i,n),n){let r=n.parent;for(;r&&r.parent;)Lm(r.parent.vnode)&&tft(i,e,n,r),r=r.parent}}function tft(t,e,n,i){const r=Cv(e,t,i,!0);$l(()=>{jS(i[e],r)},n)}function d4(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ov(t){return t.shapeFlag&128?t.ssContent:t}function Cv(t,e,n=Cn,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{ga();const a=wu(n),l=Pr(e,n,t,o);return a(),va(),l});return i?r.unshift(s):r.push(s),s}}const Ea=t=>(e,n=Cn)=>{(!kp||t==="sp")&&Cv(t,(...i)=>e(...i),n)},Dm=Ea("bm"),ri=Ea("m"),kv=Ea("bu"),yu=Ea("u"),us=Ea("bum"),$l=Ea("um"),f4=Ea("sp"),m4=Ea("rtg"),y4=Ea("rtc");function Rv(t,e=Cn){Cv("ec",t,e)}const g4="components",eft="directives";function En(t,e){return v4(g4,t,!0,e)||t}const L7=Symbol.for("v-ndc");function Lv(t){return $t(t)?v4(g4,t,!1)||t:t||L7}function we(t){return v4(eft,t)}function v4(t,e,n=!0,i=!1){const r=Xn||Cn;if(r){const s=r.type;if(t===g4){const a=qv(s,!1);if(a&&(a===e||a===Fe(e)||a===Ol(Fe(e))))return s}const o=P7(r[t]||s[t],e)||P7(r.appContext[t],e);return!o&&i?s:o}}function P7(t,e){return t&&(t[e]||t[Fe(e)]||t[Ol(Fe(e))])}function Sa(t,e,n,i){let r;const s=n&&n[i],o=wt(t);if(o||$t(t)){const a=o&&Qi(t);let l=!1;a&&(l=!mr(t),t=av(t)),r=new Array(t.length);for(let c=0,p=t.length;c<p;c++)r[c]=e(l?Mi(t[c]):t[c],c,void 0,s&&s[c])}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s&&s[a])}else if(Te(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const p=a[l];r[l]=e(t[p],p,l,s&&s[l])}}else r=[];return n&&(n[i]=r),r}function D7(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(wt(i))for(let r=0;r<i.length;r++)t[i[r].name]=i[r].fn;else i&&(t[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return t}function hs(t,e,n={},i,r){if(Xn.ce||Xn.parent&&jl(Xn.parent)&&Xn.parent.ce)return e!=="default"&&(n.name=e),st(),Le(Ie,null,[zt("slot",n,i&&i())],64);let s=t[e];s&&s._c&&(s._d=!1),st();const o=s&&b4(s(n)),a=n.key||o&&o.key,l=Le(Ie,{key:(a&&!dr(a)?a:`_${e}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&t._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function b4(t){return t.some(e=>qs(e)?!(e.type===On||e.type===Ie&&!b4(e.children)):!0)?t:null}function F7(t,e){const n={};for(const i in t)n[e&&/[A-Z]/.test(i)?`on:${i}`:pu(i)]=t[i];return n}const w4=t=>t?ND(t)?zm(t):w4(t.parent):null,Fm=ne(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>w4(t.parent),$root:t=>w4(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>M4(t),$forceUpdate:t=>t.f||(t.f=()=>{i4(t.update)}),$nextTick:t=>t.n||(t.n=Dr.bind(t.proxy)),$watch:t=>gft.bind(t)}),_4=(t,e)=>t!==ee&&!t.__isScriptSetup&&ge(t,e),x4={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(_4(i,e))return o[e]=1,i[e];if(r!==ee&&ge(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&ge(c,e))return o[e]=3,s[e];if(n!==ee&&ge(n,e))return o[e]=4,n[e];A4&&(o[e]=0)}}const p=Fm[e];let d,f;if(p)return e==="$attrs"&&Ai(t.attrs,"get",""),p(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==ee&&ge(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,ge(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return _4(r,e)?(r[e]=n,!0):i!==ee&&ge(i,e)?(i[e]=n,!0):ge(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||t!==ee&&ge(t,o)||_4(e,o)||(a=s[0])&&ge(a,o)||ge(i,o)||ge(Fm,o)||ge(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ge(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},nft=ne({},x4,{get(t,e){if(e!==Symbol.unscopables)return x4.get(t,e,t)},has(t,e){return e[0]!=="_"&&!zpt(e)}});function j7(){return null}function $7(){return null}function G7(t){}function U7(t){}function B7(){return null}function V7(){}function z7(t,e){return null}function W7(){return H7().slots}function q7(){return H7().attrs}function H7(){const t=kn();return t.setupContext||(t.setupContext=RD(t))}function jm(t){return wt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function E4(t,e){const n=jm(t);for(const i in e){if(i.startsWith("__skip"))continue;let r=n[i];r?wt(r)||Ot(r)?r=n[i]={type:r,default:e[i]}:r.default=e[i]:r===null&&(r=n[i]={default:e[i]}),r&&e[`__skip_${i}`]&&(r.skipFactory=!0)}return n}function S4(t,e){return!t||!e?t||e:wt(t)&&wt(e)?t.concat(e):ne({},jm(t),jm(e))}function Y7(t,e){const n={};for(const i in t)e.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>t[i]});return n}function J7(t){const e=kn();let n=t();return z4(),$S(n)&&(n=n.catch(i=>{throw wu(e),i})),[n,()=>wu(e)]}let A4=!0;function ift(t){const e=M4(t),n=t.proxy,i=t.ctx;A4=!1,e.beforeCreate&&Z7(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:p,beforeMount:d,mounted:f,beforeUpdate:y,updated:g,activated:b,deactivated:x,beforeDestroy:A,beforeUnmount:M,destroyed:_,unmounted:w,render:T,renderTracked:I,renderTriggered:O,errorCaptured:C,serverPrefetch:R,expose:D,inheritAttrs:U,components:j,directives:$,filters:H}=e;if(c&&rft(c,i,null),o)for(const m in o){const S=o[m];Ot(S)&&(i[m]=S.bind(n))}if(r){const m=r.call(n,n);Te(m)&&(t.data=Zn(m))}if(A4=!0,s)for(const m in s){const S=s[m],k=Ot(S)?S.bind(n,n):Ot(S.get)?S.get.bind(n,n):ii,V=!Ot(S)&&Ot(S.set)?S.set.bind(n):ii,J=Wt({get:k,set:V});Object.defineProperty(i,m,{enumerable:!0,configurable:!0,get:()=>J.value,set:pt=>J.value=pt})}if(a)for(const m in a)X7(a[m],i,n,m);if(l){const m=Ot(l)?l.call(n):l;Reflect.ownKeys(m).forEach(S=>{Dv(S,m[S])})}p&&Z7(p,t,"c");function u(m,S){wt(S)?S.forEach(k=>m(k.bind(n))):S&&m(S.bind(n))}if(u(Dm,d),u(ri,f),u(kv,y),u(yu,g),u(h4,b),u(p4,x),u(Rv,C),u(y4,I),u(m4,O),u(us,M),u($l,w),u(f4,R),wt(D))if(D.length){const m=t.exposed||(t.exposed={});D.forEach(S=>{Object.defineProperty(m,S,{get:()=>n[S],set:k=>n[S]=k})})}else t.exposed||(t.exposed={});T&&t.render===ii&&(t.render=T),U!=null&&(t.inheritAttrs=U),j&&(t.components=j),$&&(t.directives=$),R&&c4(t)}function rft(t,e,n=ii){wt(t)&&(t=T4(t));for(const i in t){const r=t[i];let s;Te(r)?"default"in r?s=Nn(r.from||i,r.default,!0):s=Nn(r.from||i):s=Nn(r),ie(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function Z7(t,e,n){Pr(wt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function X7(t,e,n,i){let r=i.includes(".")?yD(n,i):()=>n[i];if($t(t)){const s=e[t];Ot(s)&&Vn(r,s)}else if(Ot(t))Vn(r,t.bind(n));else if(Te(t))if(wt(t))t.forEach(s=>X7(s,e,n,i));else{const s=Ot(t.handler)?t.handler.bind(n):e[t.handler];Ot(s)&&Vn(r,s,t)}}function M4(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(c=>Pv(l,c,o,!0)),Pv(l,e,o)),Te(e)&&s.set(e,l),l}function Pv(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&Pv(t,s,n,!0),r&&r.forEach(o=>Pv(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=sft[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const sft={data:Q7,props:K7,emits:K7,methods:$m,computed:$m,beforeCreate:tr,created:tr,beforeMount:tr,mounted:tr,beforeUpdate:tr,updated:tr,beforeDestroy:tr,beforeUnmount:tr,destroyed:tr,unmounted:tr,activated:tr,deactivated:tr,errorCaptured:tr,serverPrefetch:tr,components:$m,directives:$m,watch:aft,provide:Q7,inject:oft};function Q7(t,e){return e?t?function(){return ne(Ot(t)?t.call(this,this):t,Ot(e)?e.call(this,this):e)}:e:t}function oft(t,e){return $m(T4(t),T4(e))}function T4(t){if(wt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function tr(t,e){return t?[...new Set([].concat(t,e))]:e}function $m(t,e){return t?ne(Object.create(null),t,e):e}function K7(t,e){return t?wt(t)&&wt(e)?[...new Set([...t,...e])]:ne(Object.create(null),jm(t),jm(e??{})):e}function aft(t,e){if(!t)return e;if(!e)return t;const n=ne(Object.create(null),t);for(const i in e)n[i]=tr(t[i],e[i]);return n}function tD(){return{app:null,config:{isNativeTag:_m,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lft=0;function cft(t,e){return function(n,i=null){Ot(n)||(n=ne({},n)),i!=null&&!Te(i)&&(i=null);const r=tD(),s=new WeakSet,o=[];let a=!1;const l=r.app={_uid:lft++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:J4,get config(){return r.config},set config(c){},use(c,...p){return s.has(c)||(c&&Ot(c.install)?(s.add(c),c.install(l,...p)):Ot(c)&&(s.add(c),c(l,...p))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,p){return p?(r.components[c]=p,l):r.components[c]},directive(c,p){return p?(r.directives[c]=p,l):r.directives[c]},mount(c,p,d){if(!a){const f=l._ceVNode||zt(n,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),p&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,zm(f.component)}},onUnmount(c){o.push(c)},unmount(){a&&(Pr(o,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(c,p){return r.provides[c]=p,l},runWithContext(c){const p=gu;gu=l;try{return c()}finally{gu=p}}};return l}}let gu=null;function Dv(t,e){if(Cn){let n=Cn.provides;const i=Cn.parent&&Cn.parent.provides;i===n&&(n=Cn.provides=Object.create(i)),n[t]=e}}function Nn(t,e,n=!1){const i=Cn||Xn;if(i||gu){const r=gu?gu._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Ot(e)?e.call(i&&i.proxy):e}}function I4(){return!!(Cn||Xn||gu)}const eD={},nD=()=>Object.create(eD),iD=t=>Object.getPrototypeOf(t)===eD;function uft(t,e,n,i=!1){const r={},s=nD();t.propsDefaults=Object.create(null),rD(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=i?r:QS(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function hft(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=Ct(r),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const p=t.vnode.dynamicProps;for(let d=0;d<p.length;d++){let f=p[d];if(jv(t.emitsOptions,f))continue;const y=e[f];if(l)if(ge(s,f))y!==s[f]&&(s[f]=y,c=!0);else{const g=Fe(f);r[g]=N4(l,a,g,y,t,!1)}else y!==s[f]&&(s[f]=y,c=!0)}}}else{rD(t,e,r,s)&&(c=!0);let p;for(const d in a)(!e||!ge(e,d)&&((p=fr(d))===d||!ge(e,p)))&&(l?n&&(n[d]!==void 0||n[p]!==void 0)&&(r[d]=N4(l,a,d,void 0,t,!0)):delete r[d]);if(s!==a)for(const d in s)(!e||!ge(e,d))&&(delete s[d],c=!0)}c&&ba(t.attrs,"set","")}function rD(t,e,n,i){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Nl(l))continue;const c=e[l];let p;r&&ge(r,p=Fe(l))?!s||!s.includes(p)?n[p]=c:(a||(a={}))[p]=c:jv(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=Ct(n),c=a||ee;for(let p=0;p<s.length;p++){const d=s[p];n[d]=N4(r,l,d,c[d],t,!ge(c,d))}}return o}function N4(t,e,n,i,r,s){const o=t[n];if(o!=null){const a=ge(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ot(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const p=wu(r);i=c[n]=l.call(null,e),p()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===fr(n))&&(i=!0))}return i}const pft=new WeakMap;function sD(t,e,n=!1){const i=n?pft:e.propsCache,r=i.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!Ot(t)){const p=d=>{l=!0;const[f,y]=sD(d,e,!0);ne(o,f),y&&a.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!s&&!l)return Te(t)&&i.set(t,yp),yp;if(wt(s))for(let p=0;p<s.length;p++){const d=Fe(s[p]);oD(d)&&(o[d]=ee)}else if(s)for(const p in s){const d=Fe(p);if(oD(d)){const f=s[p],y=o[d]=wt(f)||Ot(f)?{type:f}:ne({},f),g=y.type;let b=!1,x=!0;if(wt(g))for(let A=0;A<g.length;++A){const M=g[A],_=Ot(M)&&M.name;if(_==="Boolean"){b=!0;break}else _==="String"&&(x=!1)}else b=Ot(g)&&g.name==="Boolean";y[0]=b,y[1]=x,(b||ge(y,"default"))&&a.push(d)}}const c=[o,a];return Te(t)&&i.set(t,c),c}function oD(t){return t[0]!=="$"&&!Nl(t)}const aD=t=>t[0]==="_"||t==="$stable",O4=t=>wt(t)?t.map(yr):[yr(t)],dft=(t,e,n)=>{if(e._n)return e;const i=xn((...r)=>(Rl.NODE_ENV!=="production"&&Cn&&(!n||(n.root,Cn.root)),O4(e(...r))),n);return i._c=!1,i},lD=(t,e,n)=>{const i=t._ctx;for(const r in t){if(aD(r))continue;const s=t[r];if(Ot(s))e[r]=dft(r,s,i);else if(s!=null){const o=O4(s);e[r]=()=>o}}},cD=(t,e)=>{const n=O4(e);t.slots.default=()=>n},uD=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},fft=(t,e,n)=>{const i=t.slots=nD();if(t.vnode.shapeFlag&32){const r=e._;r?(uD(i,e,n),n&&A9(i,"_",r,!0)):lD(e,i)}else e&&cD(t,e)},mft=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,o=ee;if(i.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:uD(r,e,n):(s=!e.$stable,lD(e,r)),o=e}else e&&(cD(t,e),o={default:1});if(s)for(const a in r)!aD(a)&&o[a]==null&&delete r[a]},Qn=ED;function C4(t){return hD(t)}function k4(t){return hD(t,Hdt)}function hD(t,e){const n=ev();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:p,parentNode:d,nextSibling:f,setScopeId:y=ii,insertStaticContent:g}=t,b=(G,F,Y,it=null,et=null,rt=null,dt=void 0,L=null,P=!!F.dynamicChildren)=>{if(G===F)return;G&&!Hs(G,F)&&(it=Pe(G),ot(G,et,rt,!0),G=null),F.patchFlag===-2&&(P=!1,F.dynamicChildren=null);const{type:W,ref:X,shapeFlag:B}=F;switch(W){case To:x(G,F,Y,it);break;case On:A(G,F,Y,it);break;case Gl:G==null&&M(F,Y,it,dt);break;case Ie:j(G,F,Y,it,et,rt,dt,L,P);break;default:B&1?T(G,F,Y,it,et,rt,dt,L,P):B&6?$(G,F,Y,it,et,rt,dt,L,P):(B&64||B&128)&&W.process(G,F,Y,it,et,rt,dt,L,P,nn)}X!=null&&et&&Rm(X,G&&G.ref,rt,F||G,!F)},x=(G,F,Y,it)=>{if(G==null)i(F.el=a(F.children),Y,it);else{const et=F.el=G.el;F.children!==G.children&&c(et,F.children)}},A=(G,F,Y,it)=>{G==null?i(F.el=l(F.children||""),Y,it):F.el=G.el},M=(G,F,Y,it)=>{[G.el,G.anchor]=g(G.children,F,Y,it,G.el,G.anchor)},_=({el:G,anchor:F},Y,it)=>{let et;for(;G&&G!==F;)et=f(G),i(G,Y,it),G=et;i(F,Y,it)},w=({el:G,anchor:F})=>{let Y;for(;G&&G!==F;)Y=f(G),r(G),G=Y;r(F)},T=(G,F,Y,it,et,rt,dt,L,P)=>{F.type==="svg"?dt="svg":F.type==="math"&&(dt="mathml"),G==null?I(F,Y,it,et,rt,dt,L,P):R(G,F,et,rt,dt,L,P)},I=(G,F,Y,it,et,rt,dt,L)=>{let P,W;const{props:X,shapeFlag:B,transition:q,dirs:ut}=G;if(P=G.el=o(G.type,rt,X&&X.is,X),B&8?p(P,G.children):B&16&&C(G.children,P,null,it,et,R4(G,rt),dt,L),ut&&Ao(G,null,it,"created"),O(P,G,G.scopeId,dt,it),X){for(const Ht in X)Ht!=="value"&&!Nl(Ht)&&s(P,Ht,null,X[Ht],rt,it);"value"in X&&s(P,"value",null,X.value,rt),(W=X.onVnodeBeforeMount)&&gr(W,it,G)}ut&&Ao(G,null,it,"beforeMount");const bt=pD(et,q);bt&&q.beforeEnter(P),i(P,F,Y),((W=X&&X.onVnodeMounted)||bt||ut)&&Qn(()=>{W&&gr(W,it,G),bt&&q.enter(P),ut&&Ao(G,null,it,"mounted")},et)},O=(G,F,Y,it,et)=>{if(Y&&y(G,Y),it)for(let rt=0;rt<it.length;rt++)y(G,it[rt]);if(et){let rt=et.subTree;if(F===rt||Uv(rt.type)&&(rt.ssContent===F||rt.ssFallback===F)){const dt=et.vnode;O(G,dt,dt.scopeId,dt.slotScopeIds,et.parent)}}},C=(G,F,Y,it,et,rt,dt,L,P=0)=>{for(let W=P;W<G.length;W++){const X=G[W]=L?Ul(G[W]):yr(G[W]);b(null,X,F,Y,it,et,rt,dt,L)}},R=(G,F,Y,it,et,rt,dt)=>{const L=F.el=G.el;let{patchFlag:P,dynamicChildren:W,dirs:X}=F;P|=G.patchFlag&16;const B=G.props||ee,q=F.props||ee;let ut;if(Y&&vu(Y,!1),(ut=q.onVnodeBeforeUpdate)&&gr(ut,Y,F,G),X&&Ao(F,G,Y,"beforeUpdate"),Y&&vu(Y,!0),(B.innerHTML&&q.innerHTML==null||B.textContent&&q.textContent==null)&&p(L,""),W?D(G.dynamicChildren,W,L,Y,it,R4(F,et),rt):dt||k(G,F,L,null,Y,it,R4(F,et),rt,!1),P>0){if(P&16)U(L,B,q,Y,et);else if(P&2&&B.class!==q.class&&s(L,"class",null,q.class,et),P&4&&s(L,"style",B.style,q.style,et),P&8){const bt=F.dynamicProps;for(let Ht=0;Ht<bt.length;Ht++){const Qt=bt[Ht],cn=B[Qt],Fn=q[Qt];(Fn!==cn||Qt==="value")&&s(L,Qt,cn,Fn,et,Y)}}P&1&&G.children!==F.children&&p(L,F.children)}else!dt&&W==null&&U(L,B,q,Y,et);((ut=q.onVnodeUpdated)||X)&&Qn(()=>{ut&&gr(ut,Y,F,G),X&&Ao(F,G,Y,"updated")},it)},D=(G,F,Y,it,et,rt,dt)=>{for(let L=0;L<F.length;L++){const P=G[L],W=F[L],X=P.el&&(P.type===Ie||!Hs(P,W)||P.shapeFlag&70)?d(P.el):Y;b(P,W,X,null,it,et,rt,dt,!0)}},U=(G,F,Y,it,et)=>{if(F!==Y){if(F!==ee)for(const rt in F)!Nl(rt)&&!(rt in Y)&&s(G,rt,F[rt],null,et,it);for(const rt in Y){if(Nl(rt))continue;const dt=Y[rt],L=F[rt];dt!==L&&rt!=="value"&&s(G,rt,L,dt,et,it)}"value"in Y&&s(G,"value",F.value,Y.value,et)}},j=(G,F,Y,it,et,rt,dt,L,P)=>{const W=F.el=G?G.el:a(""),X=F.anchor=G?G.anchor:a("");let{patchFlag:B,dynamicChildren:q,slotScopeIds:ut}=F;ut&&(L=L?L.concat(ut):ut),G==null?(i(W,Y,it),i(X,Y,it),C(F.children||[],Y,X,et,rt,dt,L,P)):B>0&&B&64&&q&&G.dynamicChildren?(D(G.dynamicChildren,q,Y,et,rt,dt,L),(F.key!=null||et&&F===et.subTree)&&L4(G,F,!0)):k(G,F,Y,X,et,rt,dt,L,P)},$=(G,F,Y,it,et,rt,dt,L,P)=>{F.slotScopeIds=L,G==null?F.shapeFlag&512?et.ctx.activate(F,Y,it,dt,P):H(F,Y,it,et,rt,dt,P):u(G,F,P)},H=(G,F,Y,it,et,rt,dt)=>{const L=G.component=ID(G,it,et);if(Lm(G)&&(L.ctx.renderer=nn),OD(L,!1,dt),L.asyncDep){if(et&&et.registerDep(L,m,dt),!G.el){const P=L.subTree=zt(On);A(null,P,F,Y)}}else m(L,G,F,Y,et,rt,dt)},u=(G,F,Y)=>{const it=F.component=G.component;if(xft(G,F,Y))if(it.asyncDep&&!it.asyncResolved){S(it,F,Y);return}else it.next=F,it.update();else F.el=G.el,it.vnode=F},m=(G,F,Y,it,et,rt,dt)=>{const L=()=>{if(G.isMounted){let{next:B,bu:q,u:ut,parent:bt,vnode:Ht}=G;{const Di=dD(G);if(Di){B&&(B.el=Ht.el,S(G,B,dt)),Di.asyncDep.then(()=>{G.isUnmounted||L()});return}}let Qt=B,cn;vu(G,!1),B?(B.el=Ht.el,S(G,B,dt)):B=Ht,q&&bp(q),(cn=B.props&&B.props.onVnodeBeforeUpdate)&&gr(cn,bt,B,Ht),vu(G,!0);const Fn=$v(G),nr=G.subTree;G.subTree=Fn,b(nr,Fn,d(nr.el),Pe(nr),G,et,rt),B.el=Fn.el,Qt===null&&Gv(G,Fn.el),ut&&Qn(ut,et),(cn=B.props&&B.props.onVnodeUpdated)&&Qn(()=>gr(cn,bt,B,Ht),et)}else{let B;const{el:q,props:ut}=F,{bm:bt,m:Ht,parent:Qt,root:cn,type:Fn}=G,nr=jl(F);if(vu(G,!1),bt&&bp(bt),!nr&&(B=ut&&ut.onVnodeBeforeMount)&&gr(B,Qt,F),vu(G,!0),q&&vi){const Di=()=>{G.subTree=$v(G),vi(q,G.subTree,G,et,null)};nr&&Fn.__asyncHydrate?Fn.__asyncHydrate(q,G,Di):Di()}else{cn.ce&&cn.ce._injectChildStyle(Fn);const Di=G.subTree=$v(G);b(null,Di,Y,it,G,et,rt),F.el=Di.el}if(Ht&&Qn(Ht,et),!nr&&(B=ut&&ut.onVnodeMounted)){const Di=F;Qn(()=>gr(B,Qt,Di),et)}(F.shapeFlag&256||Qt&&jl(Qt.vnode)&&Qt.vnode.shapeFlag&256)&&G.a&&Qn(G.a,et),G.isMounted=!0,F=Y=it=null}};G.scope.on();const P=G.effect=new wp(L);G.scope.off();const W=G.update=P.run.bind(P),X=G.job=P.runIfDirty.bind(P);X.i=G,X.id=G.uid,P.scheduler=()=>i4(X),vu(G,!0),W()},S=(G,F,Y)=>{F.component=G;const it=G.vnode.props;G.vnode=F,G.next=null,hft(G,F.props,it,Y),mft(G,F.children,Y),ga(),c7(G),va()},k=(G,F,Y,it,et,rt,dt,L,P=!1)=>{const W=G&&G.children,X=G?G.shapeFlag:0,B=F.children,{patchFlag:q,shapeFlag:ut}=F;if(q>0){if(q&128){J(W,B,Y,it,et,rt,dt,L,P);return}else if(q&256){V(W,B,Y,it,et,rt,dt,L,P);return}}ut&8?(X&16&&xe(W,et,rt),B!==W&&p(Y,B)):X&16?ut&16?J(W,B,Y,it,et,rt,dt,L,P):xe(W,et,rt,!0):(X&8&&p(Y,""),ut&16&&C(B,Y,it,et,rt,dt,L,P))},V=(G,F,Y,it,et,rt,dt,L,P)=>{G=G||yp,F=F||yp;const W=G.length,X=F.length,B=Math.min(W,X);let q;for(q=0;q<B;q++){const ut=F[q]=P?Ul(F[q]):yr(F[q]);b(G[q],ut,Y,null,et,rt,dt,L,P)}W>X?xe(G,et,rt,!0,!1,B):C(F,Y,it,et,rt,dt,L,P,B)},J=(G,F,Y,it,et,rt,dt,L,P)=>{let W=0;const X=F.length;let B=G.length-1,q=X-1;for(;W<=B&&W<=q;){const ut=G[W],bt=F[W]=P?Ul(F[W]):yr(F[W]);if(Hs(ut,bt))b(ut,bt,Y,null,et,rt,dt,L,P);else break;W++}for(;W<=B&&W<=q;){const ut=G[B],bt=F[q]=P?Ul(F[q]):yr(F[q]);if(Hs(ut,bt))b(ut,bt,Y,null,et,rt,dt,L,P);else break;B--,q--}if(W>B){if(W<=q){const ut=q+1,bt=ut<X?F[ut].el:it;for(;W<=q;)b(null,F[W]=P?Ul(F[W]):yr(F[W]),Y,bt,et,rt,dt,L,P),W++}}else if(W>q)for(;W<=B;)ot(G[W],et,rt,!0),W++;else{const ut=W,bt=W,Ht=new Map;for(W=bt;W<=q;W++){const At=F[W]=P?Ul(F[W]):yr(F[W]);At.key!=null&&Ht.set(At.key,W)}let Qt,cn=0;const Fn=q-bt+1;let nr=!1,Di=0;const K=new Array(Fn);for(W=0;W<Fn;W++)K[W]=0;for(W=ut;W<=B;W++){const At=G[W];if(cn>=Fn){ot(At,et,rt,!0);continue}let Yt;if(At.key!=null)Yt=Ht.get(At.key);else for(Qt=bt;Qt<=q;Qt++)if(K[Qt-bt]===0&&Hs(At,F[Qt])){Yt=Qt;break}Yt===void 0?ot(At,et,rt,!0):(K[Yt-bt]=W+1,Yt>=Di?Di=Yt:nr=!0,b(At,F[Yt],Y,null,et,rt,dt,L,P),cn++)}const St=nr?yft(K):yp;for(Qt=St.length-1,W=Fn-1;W>=0;W--){const At=bt+W,Yt=F[At],Kt=At+1<X?F[At+1].el:it;K[W]===0?b(null,Yt,Y,Kt,et,rt,dt,L,P):nr&&(Qt<0||W!==St[Qt]?pt(Yt,Y,Kt,2):Qt--)}}},pt=(G,F,Y,it,et=null)=>{const{el:rt,type:dt,transition:L,children:P,shapeFlag:W}=G;if(W&6){pt(G.component.subTree,F,Y,it);return}if(W&128){G.suspense.move(F,Y,it);return}if(W&64){dt.move(G,F,Y,nn);return}if(dt===Ie){i(rt,F,Y);for(let X=0;X<P.length;X++)pt(P[X],F,Y,it);i(G.anchor,F,Y);return}if(dt===Gl){_(G,F,Y);return}if(it!==2&&W&1&&L)if(it===0)L.beforeEnter(rt),i(rt,F,Y),Qn(()=>L.enter(rt),et);else{const{leave:X,delayLeave:B,afterLeave:q}=L,ut=()=>i(rt,F,Y),bt=()=>{X(rt,()=>{ut(),q&&q()})};B?B(rt,ut,bt):bt()}else i(rt,F,Y)},ot=(G,F,Y,it=!1,et=!1)=>{const{type:rt,props:dt,ref:L,children:P,dynamicChildren:W,shapeFlag:X,patchFlag:B,dirs:q,cacheIndex:ut}=G;if(B===-2&&(et=!1),L!=null&&Rm(L,null,Y,G,!0),ut!=null&&(F.renderCache[ut]=void 0),X&256){F.ctx.deactivate(G);return}const bt=X&1&&q,Ht=!jl(G);let Qt;if(Ht&&(Qt=dt&&dt.onVnodeBeforeUnmount)&&gr(Qt,F,G),X&6)Ut(G.component,Y,it);else{if(X&128){G.suspense.unmount(Y,it);return}bt&&Ao(G,null,F,"beforeUnmount"),X&64?G.type.remove(G,F,Y,nn,it):W&&!W.hasOnce&&(rt!==Ie||B>0&&B&64)?xe(W,F,Y,!1,!0):(rt===Ie&&B&384||!et&&X&16)&&xe(P,F,Y),it&&It(G)}(Ht&&(Qt=dt&&dt.onVnodeUnmounted)||bt)&&Qn(()=>{Qt&&gr(Qt,F,G),bt&&Ao(G,null,F,"unmounted")},Y)},It=G=>{const{type:F,el:Y,anchor:it,transition:et}=G;if(F===Ie){Lt(Y,it);return}if(F===Gl){w(G);return}const rt=()=>{r(Y),et&&!et.persisted&&et.afterLeave&&et.afterLeave()};if(G.shapeFlag&1&&et&&!et.persisted){const{leave:dt,delayLeave:L}=et,P=()=>dt(Y,rt);L?L(G.el,rt,P):P()}else rt()},Lt=(G,F)=>{let Y;for(;G!==F;)Y=f(G),r(G),G=Y;r(F)},Ut=(G,F,Y)=>{const{bum:it,scope:et,job:rt,subTree:dt,um:L,m:P,a:W}=G;Fv(P),Fv(W),it&&bp(it),et.stop(),rt&&(rt.flags|=8,ot(dt,G,F,Y)),L&&Qn(L,F),Qn(()=>{G.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},xe=(G,F,Y,it=!1,et=!1,rt=0)=>{for(let dt=rt;dt<G.length;dt++)ot(G[dt],F,Y,it,et)},Pe=G=>{if(G.shapeFlag&6)return Pe(G.component.subTree);if(G.shapeFlag&128)return G.suspense.next();const F=f(G.anchor||G.el),Y=F&&F[m7];return Y?f(Y):F};let Ue=!1;const Pi=(G,F,Y)=>{G==null?F._vnode&&ot(F._vnode,null,null,!0):b(F._vnode||null,G,F,null,null,null,Y),F._vnode=G,Ue||(Ue=!0,c7(),bv(),Ue=!1)},nn={p:b,um:ot,m:pt,r:It,mt:H,mc:C,pc:k,pbc:D,n:Pe,o:t};let Dn,vi;return e&&([Dn,vi]=e(nn)),{render:Pi,hydrate:Dn,createApp:cft(Pi,Dn)}}function R4({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function vu({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function pD(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function L4(t,e,n=!1){const i=t.children,r=e.children;if(wt(i)&&wt(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Ul(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&L4(o,a)),a.type===To&&(a.el=o.el)}}function yft(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function dD(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:dD(e)}function Fv(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const P4=Symbol.for("v-scx"),D4=()=>Nn(P4);function fD(t,e){return Gm(t,null,e)}function mD(t,e){return Gm(t,null,{flush:"post"})}function F4(t,e){return Gm(t,null,{flush:"sync"})}function Vn(t,e,n){return Gm(t,e,n)}function Gm(t,e,n=ee){const{immediate:i,deep:r,flush:s,once:o}=n,a=ne({},n),l=e&&i||!e&&s!=="post";let c;if(kp){if(s==="sync"){const y=D4();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=ii,y.resume=ii,y.pause=ii,y}}const p=Cn;a.call=(y,g,b)=>Pr(y,p,g,b);let d=!1;s==="post"?a.scheduler=y=>{Qn(y,p&&p.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(y,g)=>{g?y():i4(y)}),a.augmentJob=y=>{e&&(y.flags|=4),d&&(y.flags|=2,p&&(y.id=p.uid,y.i=p))};const f=kdt(t,e,a);return kp&&(c?c.push(f):l&&f()),f}function gft(t,e,n){const i=this.proxy,r=$t(t)?t.includes(".")?yD(i,t):()=>i[t]:t.bind(i,i);let s;Ot(e)?s=e:(s=e.handler,n=e);const o=wu(this),a=Gm(r,s.bind(i),n);return o(),a}function yD(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function j4(t,e,n=ee){const i=kn(),r=Fe(e),s=fr(e),o=gD(t,r),a=t4((l,c)=>{let p,d=ee,f;return F4(()=>{const y=t[r];Zi(p,y)&&(p=y,c())}),{get(){return l(),n.get?n.get(p):p},set(y){const g=n.set?n.set(y):y;if(!Zi(g,p)&&!(d!==ee&&Zi(y,d)))return;const b=i.vnode.props;b&&(e in b||r in b||s in b)&&(`onUpdate:${e}`in b||`onUpdate:${r}`in b||`onUpdate:${s}`in b)||(p=y,c()),i.emit(`update:${e}`,g),Zi(y,g)&&Zi(y,d)&&!Zi(g,f)&&c(),d=y,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||ee:a,done:!1}:{done:!0}}}},a}const gD=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Fe(e)}Modifiers`]||t[`${fr(e)}Modifiers`];function vft(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||ee;let r=n;const s=e.startsWith("update:"),o=s&&gD(i,e.slice(7));o&&(o.trim&&(r=n.map(p=>$t(p)?p.trim():p)),o.number&&(r=n.map(K1)));let a,l=i[a=pu(e)]||i[a=pu(Fe(e))];!l&&s&&(l=i[a=pu(fr(e))]),l&&Pr(l,t,6,r);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Pr(c,t,6,r)}}function vD(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!Ot(t)){const l=c=>{const p=vD(c,e,!0);p&&(a=!0,ne(o,p))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Te(t)&&i.set(t,null),null):(wt(s)?s.forEach(l=>o[l]=null):ne(o,s),Te(t)&&i.set(t,o),o)}function jv(t,e){return!t||!uu(e)?!1:(e=e.slice(2).replace(/Once$/,""),ge(t,e[0].toLowerCase()+e.slice(1))||ge(t,fr(e))||ge(t,e))}function $v(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:p,props:d,data:f,setupState:y,ctx:g,inheritAttrs:b}=t,x=Nm(t);let A,M;try{if(n.shapeFlag&4){const w=r||i,T=Rl.NODE_ENV!=="production"&&y.__isScriptSetup?new Proxy(w,{get(I,O,C){return Pdt(`Property '${String(O)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(I,O,C)}}):w;A=yr(c.call(T,w,p,Rl.NODE_ENV!=="production"?xp(d):d,y,f,g)),M=a}else{const w=e;Rl.NODE_ENV,A=yr(w.length>1?w(Rl.NODE_ENV!=="production"?xp(d):d,Rl.NODE_ENV!=="production"?{get attrs(){return xp(a)},slots:o,emit:l}:{attrs:a,slots:o,emit:l}):w(Rl.NODE_ENV!=="production"?xp(d):d,null)),M=e.props?a:wft(a)}}catch(w){Bm.length=0,Pl(w,t,1),A=zt(On)}let _=A;if(M&&b!==!1){const w=Object.keys(M),{shapeFlag:T}=_;w.length&&T&7&&(s&&w.some(FS)&&(M=_ft(M,s)),_=Ys(_,M,!1,!0))}return n.dirs&&(_=Ys(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&Mo(_,n.transition),A=_,Nm(x),A}function bft(t,e=!0){let n;for(let i=0;i<t.length;i++){const r=t[i];if(qs(r)){if(r.type!==On||r.children==="v-if"){if(n)return;n=r}}else return}return n}const wft=t=>{let e;for(const n in t)(n==="class"||n==="style"||uu(n))&&((e||(e={}))[n]=t[n]);return e},_ft=(t,e)=>{const n={};for(const i in t)(!FS(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function xft(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?bD(i,o,c):!!o;if(l&8){const p=e.dynamicProps;for(let d=0;d<p.length;d++){const f=p[d];if(o[f]!==i[f]&&!jv(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?bD(i,o,c):!0:!!o;return!1}function bD(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!jv(n,s))return!0}return!1}function Gv({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const Uv=t=>t.__isSuspense;let $4=0;const Eft={name:"Suspense",__isSuspense:!0,process(t,e,n,i,r,s,o,a,l,c){if(t==null)Sft(e,n,i,r,s,o,a,l,c);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}Aft(t,e,n,i,r,o,a,l,c)}},hydrate:Mft,normalize:Tft},wD=Eft;function Um(t,e){const n=t.props&&t.props[e];Ot(n)&&n()}function Sft(t,e,n,i,r,s,o,a,l){const{p:c,o:{createElement:p}}=l,d=p("div"),f=t.suspense=_D(t,r,i,e,d,n,s,o,a,l);c(null,f.pendingBranch=t.ssContent,d,null,i,f,s,o),f.deps>0?(Um(t,"onPending"),Um(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,s,o),Cp(f,t.ssFallback)):f.resolve(!1,!0)}function Aft(t,e,n,i,r,s,o,a,{p:l,um:c,o:{createElement:p}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,y=e.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:x,isHydrating:A}=d;if(b)d.pendingBranch=f,Hs(f,b)?(l(b,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0?d.resolve():x&&(A||(l(g,y,n,i,r,null,s,o,a),Cp(d,y)))):(d.pendingId=$4++,A?(d.isHydrating=!1,d.activeBranch=b):c(b,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=p("div"),x?(l(null,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0?d.resolve():(l(g,y,n,i,r,null,s,o,a),Cp(d,y))):g&&Hs(f,g)?(l(g,f,n,i,r,d,s,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0&&d.resolve()));else if(g&&Hs(f,g))l(g,f,n,i,r,d,s,o,a),Cp(d,f);else if(Um(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=$4++,l(null,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:M,pendingId:_}=d;M>0?setTimeout(()=>{d.pendingId===_&&d.fallback(y)},M):M===0&&d.fallback(y)}}function _D(t,e,n,i,r,s,o,a,l,c,p=!1){const{p:d,m:f,um:y,n:g,o:{parentNode:b,remove:x}}=c;let A;const M=Ift(t);M&&e&&e.pendingBranch&&(A=e.pendingId,e.deps++);const _=t.props?tv(t.props.timeout):void 0,w=s,T={vnode:t,parent:e,parentComponent:n,namespace:o,container:i,hiddenContainer:r,deps:0,pendingId:$4++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!p,isHydrating:p,isUnmounted:!1,effects:[],resolve(I=!1,O=!1){const{vnode:C,activeBranch:R,pendingBranch:D,pendingId:U,effects:j,parentComponent:$,container:H}=T;let u=!1;T.isHydrating?T.isHydrating=!1:I||(u=R&&D.transition&&D.transition.mode==="out-in",u&&(R.transition.afterLeave=()=>{U===T.pendingId&&(f(D,H,s===w?g(R):s,0),Tp(j))}),R&&(b(R.el)===H&&(s=g(R)),y(R,$,T,!0)),u||f(D,H,s,0)),Cp(T,D),T.pendingBranch=null,T.isInFallback=!1;let m=T.parent,S=!1;for(;m;){if(m.pendingBranch){m.effects.push(...j),S=!0;break}m=m.parent}!S&&!u&&Tp(j),T.effects=[],M&&e&&e.pendingBranch&&A===e.pendingId&&(e.deps--,e.deps===0&&!O&&e.resolve()),Um(C,"onResolve")},fallback(I){if(!T.pendingBranch)return;const{vnode:O,activeBranch:C,parentComponent:R,container:D,namespace:U}=T;Um(O,"onFallback");const j=g(C),$=()=>{T.isInFallback&&(d(null,I,D,j,R,null,U,a,l),Cp(T,I))},H=I.transition&&I.transition.mode==="out-in";H&&(C.transition.afterLeave=$),T.isInFallback=!0,y(C,R,null,!0),H||$()},move(I,O,C){T.activeBranch&&f(T.activeBranch,I,O,C),T.container=I},next(){return T.activeBranch&&g(T.activeBranch)},registerDep(I,O,C){const R=!!T.pendingBranch;R&&T.deps++;const D=I.vnode.el;I.asyncDep.catch(U=>{Pl(U,I,0)}).then(U=>{if(I.isUnmounted||T.isUnmounted||T.pendingId!==I.suspenseId)return;I.asyncResolved=!0;const{vnode:j}=I;W4(I,U,!1),D&&(j.el=D);const $=!D&&I.subTree.el;O(I,j,b(D||I.subTree.el),D?null:g(I.subTree),T,o,C),$&&x($),Gv(I,j.el),R&&--T.deps===0&&T.resolve()})},unmount(I,O){T.isUnmounted=!0,T.activeBranch&&y(T.activeBranch,n,I,O),T.pendingBranch&&y(T.pendingBranch,n,I,O)}};return T}function Mft(t,e,n,i,r,s,o,a,l){const c=e.suspense=_D(e,i,n,t.parentNode,document.createElement("div"),null,r,s,o,a,!0),p=l(t,c.pendingBranch=e.ssContent,n,c,s,o);return c.deps===0&&c.resolve(!1,!0),p}function Tft(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=xD(i?n.default:n),t.ssFallback=i?xD(n.fallback):zt(On)}function xD(t){let e;if(Ot(t)){const n=bu&&t._c;n&&(t._d=!1,st()),t=t(),n&&(t._d=!0,e=Ti,SD())}return wt(t)&&(t=bft(t)),t=yr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function ED(t,e){e&&e.pendingBranch?wt(t)?e.effects.push(...t):e.effects.push(t):Tp(t)}function Cp(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let r=e.el;for(;!r&&e.component;)e=e.component.subTree,r=e.el;n.el=r,i&&i.subTree===n&&(i.vnode.el=r,Gv(i,r))}function Ift(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ie=Symbol.for("v-fgt"),To=Symbol.for("v-txt"),On=Symbol.for("v-cmt"),Gl=Symbol.for("v-stc"),Bm=[];let Ti=null;function st(t=!1){Bm.push(Ti=t?null:[])}function SD(){Bm.pop(),Ti=Bm[Bm.length-1]||null}let bu=1;function Bv(t,e=!1){bu+=t,t<0&&Ti&&e&&(Ti.hasOnce=!0)}function AD(t){return t.dynamicChildren=bu>0?Ti||yp:null,SD(),bu>0&&Ti&&Ti.push(t),t}function ft(t,e,n,i,r,s){return AD(nt(t,e,n,i,r,s,!0))}function Le(t,e,n,i,r){return AD(zt(t,e,n,i,r,!0))}function qs(t){return t?t.__v_isVNode===!0:!1}function Hs(t,e){return t.type===e.type&&t.key===e.key}function MD(t){}const TD=({key:t})=>t??null,Vv=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$t(t)||ie(t)||Ot(t)?{i:Xn,r:t,k:e,f:!!n}:t:null);function nt(t,e=null,n=null,i=0,r=null,s=t===Ie?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&TD(e),ref:e&&Vv(e),scopeId:_v,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Xn};return a?(B4(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=$t(n)?8:16),bu>0&&!o&&Ti&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ti.push(l),l}const zt=Nft;function Nft(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===L7)&&(t=On),qs(t)){const a=Ys(t,e,!0);return n&&B4(a,n),bu>0&&!s&&Ti&&(a.shapeFlag&6?Ti[Ti.indexOf(t)]=a:Ti.push(a)),a.patchFlag=-2,a}if(Dft(t)&&(t=t.__vccOpts),e){e=G4(e);let{class:a,style:l}=e;a&&!$t(a)&&(e.class=Ke(a)),Te(l)&&(Ep(l)&&!wt(l)&&(l=ne({},l)),e.style=ya(l))}const o=$t(t)?1:Uv(t)?128:y7(t)?64:Te(t)?4:Ot(t)?2:0;return nt(t,e,n,i,r,o,s,!0)}function G4(t){return t?Ep(t)||iD(t)?ne({},t):t:null}function Ys(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?Vm(r||{},e):r,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&TD(c),ref:e&&e.ref?n&&s?wt(s)?s.concat(Vv(e)):[s,Vv(e)]:Vv(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ie?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ys(t.ssContent),ssFallback:t.ssFallback&&Ys(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Mo(p,l.clone(p)),p}function Js(t=" ",e=0){return zt(To,null,t,e)}function U4(t,e){const n=zt(Gl,null,t);return n.staticCount=e,n}function Ne(t="",e=!1){return e?(st(),Le(On,null,t)):zt(On,null,t)}function yr(t){return t==null||typeof t=="boolean"?zt(On):wt(t)?zt(Ie,null,t.slice()):qs(t)?Ul(t):zt(To,null,String(t))}function Ul(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ys(t)}function B4(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(wt(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),B4(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!iD(e)?e._ctx=Xn:r===3&&Xn&&(Xn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ot(e)?(e={default:e,_ctx:Xn},n=32):(e=String(e),i&64?(n=16,e=[Js(e)]):n=8);t.children=e,t.shapeFlag|=n}function Vm(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Ke([e.class,i.class]));else if(r==="style")e.style=ya([e.style,i.style]);else if(uu(r)){const s=e[r],o=i[r];o&&s!==o&&!(wt(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function gr(t,e,n,i=null){Pr(t,e,7,[n,i])}const Oft=tD();let Cft=0;function ID(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||Oft,s={uid:Cft++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new iv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sD(i,r),emitsOptions:vD(i,r),emit:null,emitted:null,propsDefaults:ee,inheritAttrs:i.inheritAttrs,ctx:ee,data:ee,props:ee,attrs:ee,slots:ee,refs:ee,setupState:ee,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=vft.bind(null,s),t.ce&&t.ce(s),s}let Cn=null;const kn=()=>Cn||Xn;let zv,V4;{const t=ev(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};zv=e("__VUE_INSTANCE_SETTERS__",n=>Cn=n),V4=e("__VUE_SSR_SETTERS__",n=>kp=n)}const wu=t=>{const e=Cn;return zv(t),t.scope.on(),()=>{t.scope.off(),zv(e)}},z4=()=>{Cn&&Cn.scope.off(),zv(null)};function ND(t){return t.vnode.shapeFlag&4}let kp=!1;function OD(t,e=!1,n=!1){e&&V4(e);const{props:i,children:r}=t.vnode,s=ND(t);uft(t,i,s,e),fft(t,r,n);const o=s?kft(t,e):void 0;return e&&V4(!1),o}function kft(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,x4);const{setup:i}=n;if(i){ga();const r=t.setupContext=i.length>1?RD(t):null,s=wu(t),o=Ll(i,t,0,[t.props,r]),a=$S(o);if(va(),s(),(a||t.sp)&&!jl(t)&&c4(t),a){if(o.then(z4,z4),e)return o.then(l=>{W4(t,l,e)}).catch(l=>{Pl(l,t,0)});t.asyncDep=o}else W4(t,o,e)}else kD(t,e)}function W4(t,e,n){Ot(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Te(e)&&(t.setupState=dv(e)),kD(t,n)}let Wv,q4;function H4(t){Wv=t,q4=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,nft))}}const CD=()=>!Wv;function kD(t,e,n){const i=t.type;if(!t.render){if(!e&&Wv&&!i.render){const r=i.template||M4(t).template;if(r){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=ne(ne({isCustomElement:s,delimiters:a},o),l);i.render=Wv(r,c)}}t.render=i.render||ii,q4&&q4(t)}{const r=wu(t);ga();try{ift(t)}finally{va(),r()}}}const Rft={get(t,e){return Ai(t,"get",""),t[e]}};function RD(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Rft),slots:t.slots,emit:t.emit,expose:e}}function zm(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(dv(qe(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Fm)return Fm[n](t)},has(e,n){return n in e||n in Fm}})):t.proxy}const Lft=/(?:^|[-_])(\w)/g,Pft=t=>t.replace(Lft,e=>e.toUpperCase()).replace(/[-_]/g,"");function qv(t,e=!0){return Ot(t)?t.displayName||t.name:t.name||e&&t.__name}function LD(t,e,n=!1){let i=qv(e);if(!i&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(i=r[1])}if(!i&&t&&t.parent){const r=s=>{for(const o in s)if(s[o]===e)return o};i=r(t.components||t.parent.type.components)||r(t.appContext.components)}return i?Pft(i):n?"App":"Anonymous"}function Dft(t){return Ot(t)&&"__vccOpts"in t}const Wt=(t,e)=>Cdt(t,e,kp);function ps(t,e,n){const i=arguments.length;return i===2?Te(e)&&!wt(e)?qs(e)?zt(t,null,[e]):zt(t,e):zt(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&qs(n)&&(n=[n]),zt(t,e,n))}function PD(){}function DD(t,e,n,i){const r=n[i];if(r&&Y4(r,t))return r;const s=e();return s.memo=t.slice(),s.cacheIndex=i,n[i]=s}function Y4(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(Zi(n[i],e[i]))return!1;return bu>0&&Ti&&Ti.push(t),!0}const J4="3.5.13",FD=ii,jD=Gdt,$D=Ip,GD=h7,Fft={createComponentInstance:ID,setupComponent:OD,renderComponentRoot:$v,setCurrentRenderingInstance:Nm,isVNode:qs,normalizeVNode:yr,getComponentPublicInstance:zm,ensureValidVNode:b4,pushWarningContext:Rdt,popWarningContext:Ldt},UD=Fft,BD=null,VD=null,zD=null;let Z4;const WD=typeof window<"u"&&window.trustedTypes;if(WD)try{Z4=WD.createPolicy("vue",{createHTML:t=>t})}catch{}const qD=Z4?t=>Z4.createHTML(t):t=>t,jft="http://www.w3.org/2000/svg",$ft="http://www.w3.org/1998/Math/MathML",Aa=typeof document<"u"?document:null,HD=Aa&&Aa.createElement("template"),Gft={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?Aa.createElementNS(jft,t):e==="mathml"?Aa.createElementNS($ft,t):n?Aa.createElement(t,{is:n}):Aa.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Aa.createTextNode(t),createComment:t=>Aa.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Aa.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{HD.innerHTML=qD(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=HD.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Bl="transition",Wm="animation",Rp=Symbol("_vtc"),YD={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},JD=ne({},Mv,YD),Uft=t=>(t.displayName="Transition",t.props=JD,t),qm=Uft((t,{slots:e})=>ps(o4,XD(t),e)),_u=(t,e=[])=>{wt(t)?t.forEach(n=>n(...e)):t&&t(...e)},ZD=t=>t?wt(t)?t.some(e=>e.length>1):t.length>1:!1;function XD(t){const e={};for(const j in t)j in YD||(e[j]=t[j]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:p=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,g=Bft(r),b=g&&g[0],x=g&&g[1],{onBeforeEnter:A,onEnter:M,onEnterCancelled:_,onLeave:w,onLeaveCancelled:T,onBeforeAppear:I=A,onAppear:O=M,onAppearCancelled:C=_}=e,R=(j,$,H,u)=>{j._enterCancelled=u,Vl(j,$?p:a),Vl(j,$?c:o),H&&H()},D=(j,$)=>{j._isLeaving=!1,Vl(j,d),Vl(j,y),Vl(j,f),$&&$()},U=j=>($,H)=>{const u=j?O:M,m=()=>R($,j,H);_u(u,[$,m]),QD(()=>{Vl($,j?l:s),Io($,j?p:a),ZD(u)||KD($,i,b,m)})};return ne(e,{onBeforeEnter(j){_u(A,[j]),Io(j,s),Io(j,o)},onBeforeAppear(j){_u(I,[j]),Io(j,l),Io(j,c)},onEnter:U(!1),onAppear:U(!0),onLeave(j,$){j._isLeaving=!0;const H=()=>D(j,$);Io(j,d),j._enterCancelled?(Io(j,f),Q4()):(Q4(),Io(j,f)),QD(()=>{j._isLeaving&&(Vl(j,d),Io(j,y),ZD(w)||KD(j,i,x,H))}),_u(w,[j,H])},onEnterCancelled(j){R(j,!1,void 0,!0),_u(_,[j])},onAppearCancelled(j){R(j,!0,void 0,!0),_u(C,[j])},onLeaveCancelled(j){D(j),_u(T,[j])}})}function Bft(t){if(t==null)return null;if(Te(t))return[X4(t.enter),X4(t.leave)];{const e=X4(t);return[e,e]}}function X4(t){return tv(t)}function Io(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Rp]||(t[Rp]=new Set)).add(e)}function Vl(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Rp];n&&(n.delete(e),n.size||(t[Rp]=void 0))}function QD(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Vft=0;function KD(t,e,n,i){const r=t._endId=++Vft,s=()=>{r===t._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=tF(t,e);if(!o)return i();const c=o+"end";let p=0;const d=()=>{t.removeEventListener(c,f),s()},f=y=>{y.target===t&&++p>=l&&d()};setTimeout(()=>{p<l&&d()},a+1),t.addEventListener(c,f)}function tF(t,e){const n=window.getComputedStyle(t),i=g=>(n[g]||"").split(", "),r=i(`${Bl}Delay`),s=i(`${Bl}Duration`),o=eF(r,s),a=i(`${Wm}Delay`),l=i(`${Wm}Duration`),c=eF(a,l);let p=null,d=0,f=0;e===Bl?o>0&&(p=Bl,d=o,f=s.length):e===Wm?c>0&&(p=Wm,d=c,f=l.length):(d=Math.max(o,c),p=d>0?o>c?Bl:Wm:null,f=p?p===Bl?s.length:l.length:0);const y=p===Bl&&/\b(transform|all)(,|$)/.test(i(`${Bl}Property`).toString());return{type:p,timeout:d,propCount:f,hasTransform:y}}function eF(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>nF(n)+nF(t[i])))}function nF(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Q4(){return document.body.offsetHeight}function zft(t,e,n){const i=t[Rp];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Hv=Symbol("_vod"),iF=Symbol("_vsh"),Hm={beforeMount(t,{value:e},{transition:n}){t[Hv]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ym(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Ym(t,!0),i.enter(t)):i.leave(t,()=>{Ym(t,!1)}):Ym(t,e))},beforeUnmount(t,{value:e}){Ym(t,e)}};function Ym(t,e){t.style.display=e?t[Hv]:"none",t[iF]=!e}function Wft(){Hm.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const rF=Symbol("");function K4(t){const e=kn();if(!e)return;const n=e.ut=(r=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Yv(s,r))},i=()=>{const r=t(e.proxy);e.ce?Yv(e.ce,r):tA(e.subTree,r),n(r)};kv(()=>{Tp(i)}),ri(()=>{Vn(i,ii,{flush:"post"});const r=new MutationObserver(i);r.observe(e.subTree.el.parentNode,{childList:!0}),$l(()=>r.disconnect())})}function tA(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{tA(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Yv(t.el,e);else if(t.type===Ie)t.children.forEach(n=>tA(n,e));else if(t.type===Gl){let{el:n,anchor:i}=t;for(;n&&(Yv(n,e),n!==i);)n=n.nextSibling}}function Yv(t,e){if(t.nodeType===1){const n=t.style;let i="";for(const r in e)n.setProperty(`--${r}`,e[r]),i+=`--${r}: ${e[r]};`;n[rF]=i}}const qft=/(^|;)\s*display\s*:/;function Hft(t,e,n){const i=t.style,r=$t(n);let s=!1;if(n&&!r){if(e)if($t(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Jv(i,a,"")}else for(const o in e)n[o]==null&&Jv(i,o,"");for(const o in n)o==="display"&&(s=!0),Jv(i,o,n[o])}else if(r){if(e!==n){const o=i[rF];o&&(n+=";"+o),i.cssText=n,s=qft.test(n)}}else e&&t.removeAttribute("style");Hv in t&&(t[Hv]=s?i.display:"",t[iF]&&(i.display="none"))}const sF=/\s*!important$/;function Jv(t,e,n){if(wt(n))n.forEach(i=>Jv(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=Yft(t,e);sF.test(n)?t.setProperty(fr(i),n.replace(sF,""),"important"):t[i]=n}}const oF=["Webkit","Moz","ms"],eA={};function Yft(t,e){const n=eA[e];if(n)return n;let i=Fe(e);if(i!=="filter"&&i in t)return eA[e]=i;i=Ol(i);for(let r=0;r<oF.length;r++){const s=oF[r]+i;if(s in t)return eA[e]=s}return e}const aF="http://www.w3.org/1999/xlink";function lF(t,e,n,i,r,s=idt(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(aF,e.slice(6,e.length)):t.setAttributeNS(aF,e,n):n==null||s&&!N9(n)?t.removeAttribute(e):t.setAttribute(e,s?"":dr(n)?String(n):n)}function cF(t,e,n,i,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?qD(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=N9(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Ma(t,e,n,i){t.addEventListener(e,n,i)}function Jft(t,e,n,i){t.removeEventListener(e,n,i)}const uF=Symbol("_vei");function Zft(t,e,n,i,r=null){const s=t[uF]||(t[uF]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=Xft(e);if(i){const c=s[e]=tmt(i,r);Ma(t,a,c,l)}else o&&(Jft(t,a,o,l),s[e]=void 0)}}const hF=/(?:Once|Passive|Capture)$/;function Xft(t){let e;if(hF.test(t)){e={};let n;for(;n=t.match(hF);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):fr(t.slice(2)),e]}let nA=0;const Qft=Promise.resolve(),Kft=()=>nA||(Qft.then(()=>nA=0),nA=Date.now());function tmt(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Pr(emt(i,n.value),e,5,[i])};return n.value=t,n.attached=Kft(),n}function emt(t,e){if(wt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const pF=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,nmt=(t,e,n,i,r,s)=>{const o=r==="svg";e==="class"?zft(t,i,o):e==="style"?Hft(t,n,i):uu(e)?FS(e)||Zft(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):imt(t,e,i,o))?(cF(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&lF(t,e,i,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!$t(i))?cF(t,Fe(e),i,s,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),lF(t,e,i,o))};function imt(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&pF(e)&&Ot(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return pF(e)&&$t(n)?!1:e in t}const dF={};function iA(t,e,n){const i=Zt(t,e);X1(i)&&ne(i,e);class r extends H0{constructor(o){super(i,o,n)}}return r.def=i,r}const fF=(t,e)=>iA(t,e,oA),rmt=typeof HTMLElement<"u"?HTMLElement:class{};class H0 extends rmt{constructor(e,n={},i=Wl){super(),this._def=e,this._props=n,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==Wl?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof H0){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Dr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const r of i)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,r=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=i;let a;if(s&&!wt(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=tv(this._props[l])),(a||(a=Object.create(null)))[Fe(l)]=!0)}this._numberProps=a,r&&this._resolveProps(i),this.shadowRoot&&this._applyStyles(o),this._mount(i)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(i=>e(this._def=i,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const i in n)ge(this,i)||Object.defineProperty(this,i,{get:()=>_t(n[i])})}_resolveProps(e){const{props:n}=e,i=wt(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&i.includes(r)&&this._setProp(r,this[r]);for(const r of i.map(Fe))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(s){this._setProp(r,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let i=n?this.getAttribute(e):dF;const r=Fe(e);n&&this._numberProps&&this._numberProps[r]&&(i=tv(i)),this._setProp(r,i,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,i=!0,r=!1){if(n!==this._props[e]&&(n===dF?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),r&&this._instance&&this._update(),i)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(fr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(fr(e),n+""):n||this.removeAttribute(fr(e)),s&&s.observe(this,{attributes:!0})}}_update(){Fp(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=zt(this._def,ne(e,this._props));return this._instance||(n.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,X1(o[0])?ne({detail:o},o[0]):{detail:o}))};i.emit=(s,...o)=>{r(s,o),fr(s)!==s&&r(fr(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const i=this._nonce;for(let r=e.length-1;r>=0;r--){const s=document.createElement("style");i&&s.setAttribute("nonce",i),s.textContent=e[r],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const i=n.nodeType===1&&n.getAttribute("slot")||"default";(e[i]||(e[i]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let i=0;i<e.length;i++){const r=e[i],s=r.getAttribute("name")||"default",o=this._slots[s],a=r.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const c=n+"-s",p=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=p.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,r)}else for(;r.firstChild;)a.insertBefore(r.firstChild,r);a.removeChild(r)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function rA(t){const e=kn();return e&&e.ce||null}function mF(){const t=rA();return t&&t.shadowRoot}function yF(t="$style"){{const e=kn();if(!e)return ee;const n=e.type.__cssModules;return n&&n[t]||ee}}const gF=new WeakMap,vF=new WeakMap,Zv=Symbol("_moveCb"),bF=Symbol("_enterCb"),smt=t=>(delete t.props.mode,t),omt=smt({name:"TransitionGroup",props:ne({},JD,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=kn(),i=Av();let r,s;return yu(()=>{if(!r.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!umt(r[0].el,n.vnode.el,o))return;r.forEach(amt),r.forEach(lmt);const a=r.filter(cmt);Q4(),a.forEach(l=>{const c=l.el,p=c.style;Io(c,o),p.transform=p.webkitTransform=p.transitionDuration="";const d=c[Zv]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[Zv]=null,Vl(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Ct(t),a=XD(o);let l=o.tag||Ie;if(r=[],s)for(let c=0;c<s.length;c++){const p=s[c];p.el&&p.el instanceof Element&&(r.push(p),Mo(p,mu(p,a,i,n)),gF.set(p,p.el.getBoundingClientRect()))}s=e.default?Cm(e.default()):[];for(let c=0;c<s.length;c++){const p=s[c];p.key!=null&&Mo(p,mu(p,a,i,n))}return zt(l,null,s)}}}),Xv=omt;function amt(t){const e=t.el;e[Zv]&&e[Zv](),e[bF]&&e[bF]()}function lmt(t){vF.set(t,t.el.getBoundingClientRect())}function cmt(t){const e=gF.get(t),n=vF.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",t}}function umt(t,e,n){const i=t.cloneNode(),r=t[Rp];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:o}=tF(i);return s.removeChild(i),o}const zl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return wt(e)?n=>bp(e,n):e};function hmt(t){t.target.composing=!0}function wF(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ds=Symbol("_assign"),Lp={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[ds]=zl(r);const s=i||r.props&&r.props.type==="number";Ma(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=K1(a)),t[ds](a)}),n&&Ma(t,"change",()=>{t.value=t.value.trim()}),e||(Ma(t,"compositionstart",hmt),Ma(t,"compositionend",wF),Ma(t,"change",wF))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(t[ds]=zl(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?K1(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||r&&t.value.trim()===l)||(t.value=l))}},Qv={deep:!0,created(t,e,n){t[ds]=zl(n),Ma(t,"change",()=>{const i=t._modelValue,r=Pp(t),s=t.checked,o=t[ds];if(wt(i)){const a=nv(i,r),l=a!==-1;if(s&&!l)o(i.concat(r));else if(!s&&l){const c=[...i];c.splice(a,1),o(c)}}else if(hu(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(EF(t,s))})},mounted:_F,beforeUpdate(t,e,n){t[ds]=zl(n),_F(t,e,n)}};function _F(t,{value:e,oldValue:n},i){t._modelValue=e;let r;if(wt(e))r=nv(e,i.props.value)>-1;else if(hu(e))r=e.has(i.props.value);else{if(e===n)return;r=Cl(e,EF(t,!0))}t.checked!==r&&(t.checked=r)}const Kv={created(t,{value:e},n){t.checked=Cl(e,n.props.value),t[ds]=zl(n),Ma(t,"change",()=>{t[ds](Pp(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t[ds]=zl(i),e!==n&&(t.checked=Cl(e,i.props.value))}},tb={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const r=hu(e);Ma(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?K1(Pp(o)):Pp(o));t[ds](t.multiple?r?new Set(s):s:s[0]),t._assigning=!0,Dr(()=>{t._assigning=!1})}),t[ds]=zl(i)},mounted(t,{value:e}){xF(t,e)},beforeUpdate(t,e,n){t[ds]=zl(n)},updated(t,{value:e}){t._assigning||xF(t,e)}};function xF(t,e){const n=t.multiple,i=wt(e);if(!(n&&!i&&!hu(e))){for(let r=0,s=t.options.length;r<s;r++){const o=t.options[r],a=Pp(o);if(n)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=nv(e,a)>-1}else o.selected=e.has(a);else if(Cl(Pp(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Pp(t){return"_value"in t?t._value:t.value}function EF(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const sA={created(t,e,n){eb(t,e,n,null,"created")},mounted(t,e,n){eb(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){eb(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){eb(t,e,n,i,"updated")}};function SF(t,e){switch(t){case"SELECT":return tb;case"TEXTAREA":return Lp;default:switch(e){case"checkbox":return Qv;case"radio":return Kv;default:return Lp}}}function eb(t,e,n,i,r){const s=SF(t.tagName,n.props&&n.props.type)[r];s&&s(t,e,n,i)}function pmt(){Lp.getSSRProps=({value:t})=>({value:t}),Kv.getSSRProps=({value:t},e)=>{if(e.props&&Cl(e.props.value,t))return{checked:!0}},Qv.getSSRProps=({value:t},e)=>{if(wt(t)){if(e.props&&nv(t,e.props.value)>-1)return{checked:!0}}else if(hu(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},sA.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=SF(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const dmt=["ctrl","shift","alt","meta"],fmt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>dmt.some(n=>t[`${n}Key`]&&!e.includes(n))},Dp=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<e.length;o++){const a=fmt[e[o]];if(a&&a(r,e))return}return t(r,...s)})},mmt={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},nb=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const s=fr(r.key);if(e.some(o=>o===s||mmt[o]===s))return t(r)})},AF=ne({patchProp:nmt},Gft);let Jm,MF=!1;function TF(){return Jm||(Jm=C4(AF))}function IF(){return Jm=MF?Jm:k4(AF),MF=!0,Jm}const Fp=(...t)=>{TF().render(...t)},NF=(...t)=>{IF().hydrate(...t)},Wl=(...t)=>{const e=TF().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=CF(i);if(!r)return;const s=e._component;!Ot(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,OF(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e},oA=(...t)=>{const e=IF().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=CF(i);if(r)return n(r,!0,OF(r))},e};function OF(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function CF(t){return $t(t)?document.querySelector(t):t}let kF=!1;const RF=()=>{kF||(kF=!0,pmt(),Wft())},ymt=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:o4,BaseTransitionPropsValidators:Mv,Comment:On,DeprecationTypes:zD,EffectScope:iv,ErrorCodes:o7,ErrorTypeStrings:jD,Fragment:Ie,KeepAlive:k7,ReactiveEffect:wp,Static:Gl,Suspense:wD,Teleport:s4,Text:To,TrackOpTypes:e7,Transition:qm,TransitionGroup:Xv,TriggerOpTypes:n7,VueElement:H0,assertNumber:s7,callWithAsyncErrorHandling:Pr,callWithErrorHandling:Ll,camelize:Fe,capitalize:Ol,cloneVNode:Ys,compatUtils:VD,computed:Wt,createApp:Wl,createBlock:Le,createCommentVNode:Ne,createElementBlock:ft,createElementVNode:nt,createHydrationRenderer:k4,createPropsRestProxy:Y7,createRenderer:C4,createSSRApp:oA,createSlots:D7,createStaticVNode:U4,createTextVNode:Js,createVNode:zt,customRef:t4,defineAsyncComponent:Nv,defineComponent:Zt,defineCustomElement:iA,defineEmits:$7,defineExpose:G7,defineModel:V7,defineOptions:U7,defineProps:j7,defineSSRCustomElement:fF,defineSlots:B7,devtools:$D,effect:F9,effectScope:xm,getCurrentInstance:kn,getCurrentScope:rv,getCurrentWatcher:i7,getTransitionRawChildren:Cm,guardReactiveProps:G4,h:ps,handleError:Pl,hasInjectionContext:I4,hydrate:NF,hydrateOnIdle:I7,hydrateOnInteraction:C7,hydrateOnMediaQuery:O7,hydrateOnVisible:N7,initCustomFormatter:PD,initDirectivesForSSR:RF,inject:Nn,isMemoSame:Y4,isProxy:Ep,isReactive:Qi,isReadonly:_a,isRef:ie,isRuntimeOnly:CD,isShallow:mr,isVNode:qs,markRaw:qe,mergeDefaults:E4,mergeModels:S4,mergeProps:Vm,nextTick:Dr,normalizeClass:Ke,normalizeProps:I9,normalizeStyle:ya,onActivated:h4,onBeforeMount:Dm,onBeforeUnmount:us,onBeforeUpdate:kv,onDeactivated:p4,onErrorCaptured:Rv,onMounted:ri,onRenderTracked:y4,onRenderTriggered:m4,onScopeDispose:BS,onServerPrefetch:f4,onUnmounted:$l,onUpdated:yu,onWatcherCleanup:e4,openBlock:st,popScopeId:d7,provide:Dv,proxyRefs:dv,pushScopeId:p7,queuePostFlushCb:Tp,reactive:Zn,readonly:hv,ref:Z,registerRuntimeCompiler:H4,render:Fp,renderList:Sa,renderSlot:hs,resolveComponent:En,resolveDirective:we,resolveDynamicComponent:Lv,resolveFilter:BD,resolveTransitionHooks:mu,setBlockTracking:Bv,setDevtoolsHook:GD,setTransitionHooks:Mo,shallowReactive:QS,shallowReadonly:xp,shallowRef:Sp,ssrContextKey:P4,ssrUtils:UD,stop:j9,toDisplayString:ve,toHandlerKey:pu,toHandlers:F7,toRaw:Ct,toRef:mv,toRefs:fv,toValue:K9,transformVNodeArgs:MD,triggerRef:Q9,unref:_t,useAttrs:q7,useCssModule:yF,useCssVars:K4,useHost:rA,useId:l4,useModel:j4,useSSRContext:D4,useShadowRoot:mF,useSlots:W7,useTemplateRef:km,useTransitionState:Av,vModelCheckbox:Qv,vModelDynamic:sA,vModelRadio:Kv,vModelSelect:tb,vModelText:Lp,vShow:Hm,version:J4,warn:FD,watch:Vn,watchEffect:fD,watchPostEffect:mD,watchSyncEffect:F4,withAsyncContext:J7,withCtx:xn,withDefaults:z7,withDirectives:be,withKeys:nb,withMemo:DD,withModifiers:Dp,withScopeId:f7},Symbol.toStringTag,{value:"Module"})),Zm=Symbol(""),Xm=Symbol(""),aA=Symbol(""),ib=Symbol(""),LF=Symbol(""),xu=Symbol(""),PF=Symbol(""),DF=Symbol(""),lA=Symbol(""),cA=Symbol(""),Qm=Symbol(""),uA=Symbol(""),FF=Symbol(""),hA=Symbol(""),pA=Symbol(""),dA=Symbol(""),fA=Symbol(""),mA=Symbol(""),yA=Symbol(""),jF=Symbol(""),$F=Symbol(""),rb=Symbol(""),sb=Symbol(""),gA=Symbol(""),vA=Symbol(""),Km=Symbol(""),t0=Symbol(""),bA=Symbol(""),wA=Symbol(""),gmt=Symbol(""),_A=Symbol(""),ob=Symbol(""),vmt=Symbol(""),bmt=Symbol(""),xA=Symbol(""),wmt=Symbol(""),_mt=Symbol(""),EA=Symbol(""),GF=Symbol(""),jp={[Zm]:"Fragment",[Xm]:"Teleport",[aA]:"Suspense",[ib]:"KeepAlive",[LF]:"BaseTransition",[xu]:"openBlock",[PF]:"createBlock",[DF]:"createElementBlock",[lA]:"createVNode",[cA]:"createElementVNode",[Qm]:"createCommentVNode",[uA]:"createTextVNode",[FF]:"createStaticVNode",[hA]:"resolveComponent",[pA]:"resolveDynamicComponent",[dA]:"resolveDirective",[fA]:"resolveFilter",[mA]:"withDirectives",[yA]:"renderList",[jF]:"renderSlot",[$F]:"createSlots",[rb]:"toDisplayString",[sb]:"mergeProps",[gA]:"normalizeClass",[vA]:"normalizeStyle",[Km]:"normalizeProps",[t0]:"guardReactiveProps",[bA]:"toHandlers",[wA]:"camelize",[gmt]:"capitalize",[_A]:"toHandlerKey",[ob]:"setBlockTracking",[vmt]:"pushScopeId",[bmt]:"popScopeId",[xA]:"withCtx",[wmt]:"unref",[_mt]:"isRef",[EA]:"withMemo",[GF]:"isMemoSame"};function xmt(t){Object.getOwnPropertySymbols(t).forEach(e=>{jp[e]=t[e]})}const Fr={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Emt(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Fr}}function e0(t,e,n,i,r,s,o,a=!1,l=!1,c=!1,p=Fr){return t&&(a?(t.helper(xu),t.helper(Up(t.inSSR,c))):t.helper(Gp(t.inSSR,c)),o&&t.helper(mA)),{type:13,tag:e,props:n,children:i,patchFlag:r,dynamicProps:s,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:p}}function Eu(t,e=Fr){return{type:17,loc:e,elements:t}}function fs(t,e=Fr){return{type:15,loc:e,properties:t}}function Rn(t,e){return{type:16,loc:Fr,key:$t(t)?qt(t,!0):t,value:e}}function qt(t,e=!1,n=Fr,i=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:i}}function Zs(t,e=Fr){return{type:8,loc:e,children:t}}function Kn(t,e=[],n=Fr){return{type:14,loc:n,callee:t,arguments:e}}function $p(t,e=void 0,n=!1,i=!1,r=Fr){return{type:18,params:t,returns:e,newline:n,isSlot:i,loc:r}}function SA(t,e,n,i=!0){return{type:19,test:t,consequent:e,alternate:n,newline:i,loc:Fr}}function Smt(t,e,n=!1,i=!1){return{type:20,index:t,value:e,needPauseTracking:n,inVOnce:i,needArraySpread:!1,loc:Fr}}function Amt(t){return{type:21,body:t,loc:Fr}}function Gp(t,e){return t||e?lA:cA}function Up(t,e){return t||e?PF:DF}function AA(t,{helper:e,removeHelper:n,inSSR:i}){t.isBlock||(t.isBlock=!0,n(Gp(i,t.isComponent)),e(xu),e(Up(i,t.isComponent)))}const UF=new Uint8Array([123,123]),BF=new Uint8Array([125,125]);function VF(t){return t>=97&&t<=122||t>=65&&t<=90}function jr(t){return t===32||t===10||t===9||t===12||t===13}function ql(t){return t===47||t===62||jr(t)}function ab(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const Ii={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let Mmt=class{constructor(t,e){this.stack=t,this.cbs=e,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=UF,this.delimiterClose=BF,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=UF,this.delimiterClose=BF}getPos(t){let e=1,n=t+1;for(let i=this.newlines.length-1;i>=0;i--){const r=this.newlines[i];if(t>r){e=i+2,n=t-r;break}}return{column:n,line:e,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const e=this.index+1-this.delimiterOpen.length;e>this.sectionStart&&this.cbs.ontext(this.sectionStart,e),this.state=3,this.sectionStart=e}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const e=this.sequenceIndex===this.currentSequence.length;if(!(e?ql(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!e){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||jr(t)){const e=this.index-this.currentSequence.length;if(this.sectionStart<e){const n=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=n}this.sectionStart=e+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Ii.TitleEnd||this.currentSequence===Ii.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===Ii.Cdata[this.sequenceIndex]?++this.sequenceIndex===Ii.Cdata.length&&(this.state=28,this.currentSequence=Ii.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);if(e===10&&this.newlines.push(this.index),e===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Ii.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,e){this.enterRCDATA(t,e),this.state=31}enterRCDATA(t,e){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=e}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):VF(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){ql(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(ql(t)){const e=this.buffer.slice(this.sectionStart,this.index);e!=="template"&&this.enterRCDATA(ab("</"+e),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){jr(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=VF(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||jr(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):jr(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):jr(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||ql(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||ql(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||ql(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||ql(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||ql(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):jr(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):jr(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,e){(t===e||this.fastForwardTo(e))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){jr(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=Ii.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===Ii.ScriptEnd[3]?this.startSpecial(Ii.ScriptEnd,4):t===Ii.StyleEnd[3]?this.startSpecial(Ii.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===Ii.TitleEnd[3]?this.startSpecial(Ii.TitleEnd,4):t===Ii.TextareaEnd[3]?this.startSpecial(Ii.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);switch(e===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(e);break}case 2:{this.stateInterpolationOpen(e);break}case 3:{this.stateInterpolation(e);break}case 4:{this.stateInterpolationClose(e);break}case 31:{this.stateSpecialStartSequence(e);break}case 32:{this.stateInRCDATA(e);break}case 26:{this.stateCDATASequence(e);break}case 19:{this.stateInAttrValueDoubleQuotes(e);break}case 12:{this.stateInAttrName(e);break}case 13:{this.stateInDirName(e);break}case 14:{this.stateInDirArg(e);break}case 15:{this.stateInDynamicDirArg(e);break}case 16:{this.stateInDirModifier(e);break}case 28:{this.stateInCommentLike(e);break}case 27:{this.stateInSpecialComment(e);break}case 11:{this.stateBeforeAttrName(e);break}case 6:{this.stateInTagName(e);break}case 34:{this.stateInSFCRootTagName(e);break}case 9:{this.stateInClosingTagName(e);break}case 5:{this.stateBeforeTagName(e);break}case 17:{this.stateAfterAttrName(e);break}case 20:{this.stateInAttrValueSingleQuotes(e);break}case 18:{this.stateBeforeAttrValue(e);break}case 8:{this.stateBeforeClosingTagName(e);break}case 10:{this.stateAfterClosingTagName(e);break}case 29:{this.stateBeforeSpecialS(e);break}case 30:{this.stateBeforeSpecialT(e);break}case 21:{this.stateInAttrValueNoQuotes(e);break}case 7:{this.stateInSelfClosingTag(e);break}case 23:{this.stateInDeclaration(e);break}case 22:{this.stateBeforeDeclaration(e);break}case 25:{this.stateBeforeComment(e);break}case 24:{this.stateInProcessingInstruction(e);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===Ii.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,e){}};function zF(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function Su(t,e){const n=zF("MODE",e),i=zF(t,e);return n===3?i===!0:i!==!1}function n0(t,e,n,...i){return Su(t,e)}function MA(t){throw t}function WF(t){}function tn(t,e,n,i){const r=`https://vuejs.org/error-reference/#compiler-${t}`,s=new SyntaxError(String(r));return s.code=t,s.loc=e,s}const vr=t=>t.type===4&&t.isStatic;function qF(t){switch(t){case"Teleport":case"teleport":return Xm;case"Suspense":case"suspense":return aA;case"KeepAlive":case"keep-alive":return ib;case"BaseTransition":case"base-transition":return LF}}const Tmt=/^\d|[^\$\w\xA0-\uFFFF]/,TA=t=>!Tmt.test(t),Imt=/[A-Za-z_$\xA0-\uFFFF]/,Nmt=/[\.\?\w$\xA0-\uFFFF]/,Omt=/\s+[.[]\s*|\s*[.[]\s+/g,HF=t=>t.type===4?t.content:t.loc.source,Cmt=t=>{const e=HF(t).trim().replace(Omt,a=>a.trim());let n=0,i=[],r=0,s=0,o=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(n){case 0:if(l==="[")i.push(n),n=1,r++;else if(l==="(")i.push(n),n=2,s++;else if(!(a===0?Imt:Nmt).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(i.push(n),n=3,o=l):l==="["?r++:l==="]"&&(--r||(n=i.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")i.push(n),n=3,o=l;else if(l==="(")s++;else if(l===")"){if(a===e.length-1)return!1;--s||(n=i.pop())}break;case 3:l===o&&(n=i.pop(),o=null);break}}return!r&&!s},YF=Cmt,kmt=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Rmt=t=>kmt.test(HF(t)),Lmt=Rmt;function ms(t,e,n=!1){for(let i=0;i<t.props.length;i++){const r=t.props[i];if(r.type===7&&(n||r.exp)&&($t(e)?r.name===e:e.test(r.name)))return r}}function lb(t,e,n=!1,i=!1){for(let r=0;r<t.props.length;r++){const s=t.props[r];if(s.type===6){if(n)continue;if(s.name===e&&(s.value||i))return s}else if(s.name==="bind"&&(s.exp||i)&&Au(s.arg,e))return s}}function Au(t,e){return!!(t&&vr(t)&&t.content===e)}function Pmt(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function IA(t){return t.type===5||t.type===2}function Dmt(t){return t.type===7&&t.name==="slot"}function cb(t){return t.type===1&&t.tagType===3}function ub(t){return t.type===1&&t.tagType===2}const Fmt=new Set([Km,t0]);function JF(t,e=[]){if(t&&!$t(t)&&t.type===14){const n=t.callee;if(!$t(n)&&Fmt.has(n))return JF(t.arguments[0],e.concat(t))}return[t,e]}function hb(t,e,n){let i,r=t.type===13?t.props:t.arguments[2],s=[],o;if(r&&!$t(r)&&r.type===14){const a=JF(r);r=a[0],s=a[1],o=s[s.length-1]}if(r==null||$t(r))i=fs([e]);else if(r.type===14){const a=r.arguments[0];!$t(a)&&a.type===15?ZF(e,a)||a.properties.unshift(e):r.callee===bA?i=Kn(n.helper(sb),[fs([e]),r]):r.arguments.unshift(fs([e])),!i&&(i=r)}else r.type===15?(ZF(e,r)||r.properties.unshift(e),i=r):(i=Kn(n.helper(sb),[fs([e]),r]),o&&o.callee===t0&&(o=s[s.length-2]));t.type===13?o?o.arguments[0]=i:t.props=i:o?o.arguments[0]=i:t.arguments[2]=i}function ZF(t,e){let n=!1;if(t.key.type===4){const i=t.key.content;n=e.properties.some(r=>r.key.type===4&&r.key.content===i)}return n}function i0(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,i)=>n==="-"?"_":t.charCodeAt(i).toString())}`}function jmt(t){return t.type===14&&t.callee===EA?t.arguments[1].returns:t}const $mt=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,XF={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:_m,isPreTag:_m,isIgnoreNewlineTag:_m,isCustomElement:_m,onError:MA,onWarn:WF,comments:!1,prefixIdentifiers:!1};let _e=XF,r0=null,Ta="",Ni=null,oe=null,br="",Ia=-1,Mu=-1,NA=0,Hl=!1,OA=null;const en=[],Sn=new Mmt(en,{onerr:Na,ontext(t,e){pb(fi(t,e),t,e)},ontextentity(t,e,n){pb(t,e,n)},oninterpolation(t,e){if(Hl)return pb(fi(t,e),t,e);let n=t+Sn.delimiterOpen.length,i=e-Sn.delimiterClose.length;for(;jr(Ta.charCodeAt(n));)n++;for(;jr(Ta.charCodeAt(i-1));)i--;let r=fi(n,i);r.includes("&")&&(r=_e.decodeEntities(r,!1)),CA({type:5,content:fb(r,!1,Ln(n,i)),loc:Ln(t,e)})},onopentagname(t,e){const n=fi(t,e);Ni={type:1,tag:n,ns:_e.getNamespace(n,en[0],_e.ns),tagType:0,props:[],children:[],loc:Ln(t-1,e),codegenNode:void 0}},onopentagend(t){KF(t)},onclosetag(t,e){const n=fi(t,e);if(!_e.isVoidTag(n)){let i=!1;for(let r=0;r<en.length;r++)if(en[r].tag.toLowerCase()===n.toLowerCase()){i=!0,r>0&&Na(24,en[0].loc.start.offset);for(let s=0;s<=r;s++){const o=en.shift();db(o,e,s<r)}break}i||Na(23,tj(t,60))}},onselfclosingtag(t){const e=Ni.tag;Ni.isSelfClosing=!0,KF(t),en[0]&&en[0].tag===e&&db(en.shift(),t)},onattribname(t,e){oe={type:6,name:fi(t,e),nameLoc:Ln(t,e),value:void 0,loc:Ln(t)}},ondirname(t,e){const n=fi(t,e),i=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!Hl&&i===""&&Na(26,t),Hl||i==="")oe={type:6,name:n,nameLoc:Ln(t,e),value:void 0,loc:Ln(t)};else if(oe={type:7,name:i,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[qt("prop")]:[],loc:Ln(t)},i==="pre"){Hl=Sn.inVPre=!0,OA=Ni;const r=Ni.props;for(let s=0;s<r.length;s++)r[s].type===7&&(r[s]=Zmt(r[s]))}},ondirarg(t,e){if(t===e)return;const n=fi(t,e);if(Hl)oe.name+=n,Tu(oe.nameLoc,e);else{const i=n[0]!=="[";oe.arg=fb(i?n:n.slice(1,-1),i,Ln(t,e),i?3:0)}},ondirmodifier(t,e){const n=fi(t,e);if(Hl)oe.name+="."+n,Tu(oe.nameLoc,e);else if(oe.name==="slot"){const i=oe.arg;i&&(i.content+="."+n,Tu(i.loc,e))}else{const i=qt(n,!0,Ln(t,e));oe.modifiers.push(i)}},onattribdata(t,e){br+=fi(t,e),Ia<0&&(Ia=t),Mu=e},onattribentity(t,e,n){br+=t,Ia<0&&(Ia=e),Mu=n},onattribnameend(t){const e=oe.loc.start.offset,n=fi(e,t);oe.type===7&&(oe.rawName=n),Ni.props.some(i=>(i.type===7?i.rawName:i.name)===n)&&Na(2,e)},onattribend(t,e){if(Ni&&oe){if(Tu(oe.loc,e),t!==0)if(br.includes("&")&&(br=_e.decodeEntities(br,!0)),oe.type===6)oe.name==="class"&&(br=ij(br).trim()),t===1&&!br&&Na(13,e),oe.value={type:2,content:br,loc:t===1?Ln(Ia,Mu):Ln(Ia-1,Mu+1)},Sn.inSFCRoot&&Ni.tag==="template"&&oe.name==="lang"&&br&&br!=="html"&&Sn.enterRCDATA(ab("</template"),0);else{let n=0;oe.exp=fb(br,!1,Ln(Ia,Mu),0,n),oe.name==="for"&&(oe.forParseResult=Umt(oe.exp));let i=-1;oe.name==="bind"&&(i=oe.modifiers.findIndex(r=>r.content==="sync"))>-1&&n0("COMPILER_V_BIND_SYNC",_e,oe.loc,oe.rawName)&&(oe.name="model",oe.modifiers.splice(i,1))}(oe.type!==7||oe.name!=="pre")&&Ni.props.push(oe)}br="",Ia=Mu=-1},oncomment(t,e){_e.comments&&CA({type:3,content:fi(t,e),loc:Ln(t-4,e+3)})},onend(){const t=Ta.length;for(let e=0;e<en.length;e++)db(en[e],t-1),Na(24,en[e].loc.start.offset)},oncdata(t,e){en[0].ns!==0?pb(fi(t,e),t,e):Na(1,t-9)},onprocessinginstruction(t){(en[0]?en[0].ns:_e.ns)===0&&Na(21,t-1)}}),QF=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Gmt=/^\(|\)$/g;function Umt(t){const e=t.loc,n=t.content,i=n.match($mt);if(!i)return;const[,r,s]=i,o=(d,f,y=!1)=>{const g=e.start.offset+f,b=g+d.length;return fb(d,!1,Ln(g,b),0,y?1:0)},a={source:o(s.trim(),n.indexOf(s,r.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=r.trim().replace(Gmt,"").trim();const c=r.indexOf(l),p=l.match(QF);if(p){l=l.replace(QF,"").trim();const d=p[1].trim();let f;if(d&&(f=n.indexOf(d,c+l.length),a.key=o(d,f,!0)),p[2]){const y=p[2].trim();y&&(a.index=o(y,n.indexOf(y,a.key?f+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function fi(t,e){return Ta.slice(t,e)}function KF(t){Sn.inSFCRoot&&(Ni.innerLoc=Ln(t+1,t+1)),CA(Ni);const{tag:e,ns:n}=Ni;n===0&&_e.isPreTag(e)&&NA++,_e.isVoidTag(e)?db(Ni,t):(en.unshift(Ni),(n===1||n===2)&&(Sn.inXML=!0)),Ni=null}function pb(t,e,n){{const s=en[0]&&en[0].tag;s!=="script"&&s!=="style"&&t.includes("&")&&(t=_e.decodeEntities(t,!1))}const i=en[0]||r0,r=i.children[i.children.length-1];r&&r.type===2?(r.content+=t,Tu(r.loc,n)):i.children.push({type:2,content:t,loc:Ln(e,n)})}function db(t,e,n=!1){n?Tu(t.loc,tj(e,60)):Tu(t.loc,Bmt(e,62)+1),Sn.inSFCRoot&&(t.children.length?t.innerLoc.end=ne({},t.children[t.children.length-1].loc.end):t.innerLoc.end=ne({},t.innerLoc.start),t.innerLoc.source=fi(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:i,ns:r,children:s}=t;if(Hl||(i==="slot"?t.tagType=2:ej(t)?t.tagType=3:zmt(t)&&(t.tagType=1)),Sn.inRCDATA||(t.children=nj(s)),r===0&&_e.isIgnoreNewlineTag(i)){const o=s[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}r===0&&_e.isPreTag(i)&&NA--,OA===t&&(Hl=Sn.inVPre=!1,OA=null),Sn.inXML&&(en[0]?en[0].ns:_e.ns)===0&&(Sn.inXML=!1);{const o=t.props;if(!Sn.inSFCRoot&&Su("COMPILER_NATIVE_TEMPLATE",_e)&&t.tag==="template"&&!ej(t)){const l=en[0]||r0,c=l.children.indexOf(t);l.children.splice(c,1,...t.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&n0("COMPILER_INLINE_TEMPLATE",_e,a.loc)&&t.children.length&&(a.value={type:2,content:fi(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function Bmt(t,e){let n=t;for(;Ta.charCodeAt(n)!==e&&n<Ta.length-1;)n++;return n}function tj(t,e){let n=t;for(;Ta.charCodeAt(n)!==e&&n>=0;)n--;return n}const Vmt=new Set(["if","else","else-if","for","slot"]);function ej({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&Vmt.has(e[n].name))return!0}return!1}function zmt({tag:t,props:e}){if(_e.isCustomElement(t))return!1;if(t==="component"||Wmt(t.charCodeAt(0))||qF(t)||_e.isBuiltInComponent&&_e.isBuiltInComponent(t)||_e.isNativeTag&&!_e.isNativeTag(t))return!0;for(let n=0;n<e.length;n++){const i=e[n];if(i.type===6){if(i.name==="is"&&i.value&&(i.value.content.startsWith("vue:")||n0("COMPILER_IS_ON_ELEMENT",_e,i.loc)))return!0}else if(i.name==="bind"&&Au(i.arg,"is")&&n0("COMPILER_IS_ON_ELEMENT",_e,i.loc))return!0}return!1}function Wmt(t){return t>64&&t<91}const qmt=/\r\n/g;function nj(t,e){const n=_e.whitespace!=="preserve";let i=!1;for(let r=0;r<t.length;r++){const s=t[r];if(s.type===2)if(NA)s.content=s.content.replace(qmt,`
`);else if(Hmt(s.content)){const o=t[r-1]&&t[r-1].type,a=t[r+1]&&t[r+1].type;!o||!a||n&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&Ymt(s.content)))?(i=!0,t[r]=null):s.content=" "}else n&&(s.content=ij(s.content))}return i?t.filter(Boolean):t}function Hmt(t){for(let e=0;e<t.length;e++)if(!jr(t.charCodeAt(e)))return!1;return!0}function Ymt(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function ij(t){let e="",n=!1;for(let i=0;i<t.length;i++)jr(t.charCodeAt(i))?n||(e+=" ",n=!0):(e+=t[i],n=!1);return e}function CA(t){(en[0]||r0).children.push(t)}function Ln(t,e){return{start:Sn.getPos(t),end:e==null?e:Sn.getPos(e),source:e==null?e:fi(t,e)}}function Jmt(t){return Ln(t.start.offset,t.end.offset)}function Tu(t,e){t.end=Sn.getPos(e),t.source=fi(t.start.offset,e)}function Zmt(t){const e={type:6,name:t.rawName,nameLoc:Ln(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function fb(t,e=!1,n,i=0,r=0){return qt(t,e,n,i)}function Na(t,e,n){_e.onError(tn(t,Ln(e,e)))}function Xmt(){Sn.reset(),Ni=null,oe=null,br="",Ia=-1,Mu=-1,en.length=0}function Qmt(t,e){if(Xmt(),Ta=t,_e=ne({},XF),e){let r;for(r in e)e[r]!=null&&(_e[r]=e[r])}Sn.mode=_e.parseMode==="html"?1:_e.parseMode==="sfc"?2:0,Sn.inXML=_e.ns===1||_e.ns===2;const n=e&&e.delimiters;n&&(Sn.delimiterOpen=ab(n[0]),Sn.delimiterClose=ab(n[1]));const i=r0=Emt([],t);return Sn.parse(Ta),i.loc=Ln(0,t.length),i.children=nj(i.children),r0=null,i}function Kmt(t,e){mb(t,void 0,e,rj(t,t.children[0]))}function rj(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!ub(e)}function mb(t,e,n,i=!1,r=!1){const{children:s}=t,o=[];for(let p=0;p<s.length;p++){const d=s[p];if(d.type===1&&d.tagType===0){const f=i?0:$r(d,n);if(f>0){if(f>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const g=y.patchFlag;if((g===void 0||g===512||g===1)&&oj(d,n)>=2){const b=aj(d);b&&(y.props=n.hoist(b))}y.dynamicProps&&(y.dynamicProps=n.hoist(y.dynamicProps))}}}else if(d.type===12&&(i?0:$r(d,n))>=2){o.push(d);continue}if(d.type===1){const f=d.tagType===1;f&&n.scopes.vSlot++,mb(d,t,n,!1,r),f&&n.scopes.vSlot--}else if(d.type===11)mb(d,t,n,d.children.length===1,!0);else if(d.type===9)for(let f=0;f<d.branches.length;f++)mb(d.branches[f],t,n,d.branches[f].children.length===1,r)}let a=!1;if(o.length===s.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&wt(t.codegenNode.children))t.codegenNode.children=l(Eu(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!wt(t.codegenNode.children)&&t.codegenNode.children.type===15){const p=c(t.codegenNode,"default");p&&(p.returns=l(Eu(p.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!wt(e.codegenNode.children)&&e.codegenNode.children.type===15){const p=ms(t,"slot",!0),d=p&&p.arg&&c(e.codegenNode,p.arg);d&&(d.returns=l(Eu(d.returns)),a=!0)}}if(!a)for(const p of o)p.codegenNode=n.cache(p.codegenNode);function l(p){const d=n.cache(p);return r&&n.hmr&&(d.needArraySpread=!0),d}function c(p,d){if(p.children&&!wt(p.children)&&p.children.type===15){const f=p.children.properties.find(y=>y.key===d||y.key.content===d);return f&&f.value}}o.length&&n.transformHoist&&n.transformHoist(s,n,t)}function $r(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const i=n.get(t);if(i!==void 0)return i;const r=t.codegenNode;if(r.type!==13||r.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(r.patchFlag===void 0){let o=3;const a=oj(t,e);if(a===0)return n.set(t,0),0;a<o&&(o=a);for(let l=0;l<t.children.length;l++){const c=$r(t.children[l],e);if(c===0)return n.set(t,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<t.props.length;l++){const c=t.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const p=$r(c.exp,e);if(p===0)return n.set(t,0),0;p<o&&(o=p)}}if(r.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return n.set(t,0),0;e.removeHelper(xu),e.removeHelper(Up(e.inSSR,r.isComponent)),r.isBlock=!1,e.helper(Gp(e.inSSR,r.isComponent))}return n.set(t,o),o}else return n.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return $r(t.content,e);case 4:return t.constType;case 8:let s=3;for(let o=0;o<t.children.length;o++){const a=t.children[o];if($t(a)||dr(a))continue;const l=$r(a,e);if(l===0)return 0;l<s&&(s=l)}return s;case 20:return 2;default:return 0}}const t0t=new Set([gA,vA,Km,t0]);function sj(t,e){if(t.type===14&&!$t(t.callee)&&t0t.has(t.callee)){const n=t.arguments[0];if(n.type===4)return $r(n,e);if(n.type===14)return sj(n,e)}return 0}function oj(t,e){let n=3;const i=aj(t);if(i&&i.type===15){const{properties:r}=i;for(let s=0;s<r.length;s++){const{key:o,value:a}=r[s],l=$r(o,e);if(l===0)return l;l<n&&(n=l);let c;if(a.type===4?c=$r(a,e):a.type===14?c=sj(a,e):c=0,c===0)return c;c<n&&(n=c)}}return n}function aj(t){const e=t.codegenNode;if(e.type===13)return e.props}function e0t(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:i=!1,hmr:r=!1,cacheHandlers:s=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=ii,isCustomElement:p=ii,expressionPlugins:d=[],scopeId:f=null,slotted:y=!0,ssr:g=!1,inSSR:b=!1,ssrCssVars:x="",bindingMetadata:A=ee,inline:M=!1,isTS:_=!1,onError:w=MA,onWarn:T=WF,compatConfig:I}){const O=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),C={filename:e,selfName:O&&Ol(Fe(O[1])),prefixIdentifiers:n,hoistStatic:i,hmr:r,cacheHandlers:s,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:p,expressionPlugins:d,scopeId:f,slotted:y,ssr:g,inSSR:b,ssrCssVars:x,bindingMetadata:A,inline:M,isTS:_,onError:w,onWarn:T,compatConfig:I,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(R){const D=C.helpers.get(R)||0;return C.helpers.set(R,D+1),R},removeHelper(R){const D=C.helpers.get(R);if(D){const U=D-1;U?C.helpers.set(R,U):C.helpers.delete(R)}},helperString(R){return`_${jp[C.helper(R)]}`},replaceNode(R){C.parent.children[C.childIndex]=C.currentNode=R},removeNode(R){const D=C.parent.children,U=R?D.indexOf(R):C.currentNode?C.childIndex:-1;!R||R===C.currentNode?(C.currentNode=null,C.onNodeRemoved()):C.childIndex>U&&(C.childIndex--,C.onNodeRemoved()),C.parent.children.splice(U,1)},onNodeRemoved:ii,addIdentifiers(R){},removeIdentifiers(R){},hoist(R){$t(R)&&(R=qt(R)),C.hoists.push(R);const D=qt(`_hoisted_${C.hoists.length}`,!1,R.loc,2);return D.hoisted=R,D},cache(R,D=!1,U=!1){const j=Smt(C.cached.length,R,D,U);return C.cached.push(j),j}};return C.filters=new Set,C}function n0t(t,e){const n=e0t(t,e);yb(t,n),e.hoistStatic&&Kmt(t,n),e.ssr||i0t(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function i0t(t,e){const{helper:n}=e,{children:i}=t;if(i.length===1){const r=i[0];if(rj(t,r)&&r.codegenNode){const s=r.codegenNode;s.type===13&&AA(s,e),t.codegenNode=s}else t.codegenNode=r}else if(i.length>1){let r=64;t.codegenNode=e0(e,n(Zm),void 0,t.children,r,void 0,void 0,!0,void 0,!1)}}function r0t(t,e){let n=0;const i=()=>{n--};for(;n<t.children.length;n++){const r=t.children[n];$t(r)||(e.grandParent=e.parent,e.parent=t,e.childIndex=n,e.onNodeRemoved=i,yb(r,e))}}function yb(t,e){e.currentNode=t;const{nodeTransforms:n}=e,i=[];for(let s=0;s<n.length;s++){const o=n[s](t,e);if(o&&(wt(o)?i.push(...o):i.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(Qm);break;case 5:e.ssr||e.helper(rb);break;case 9:for(let s=0;s<t.branches.length;s++)yb(t.branches[s],e);break;case 10:case 11:case 1:case 0:r0t(t,e);break}e.currentNode=t;let r=i.length;for(;r--;)i[r]()}function lj(t,e){const n=$t(t)?i=>i===t:i=>t.test(i);return(i,r)=>{if(i.type===1){const{props:s}=i;if(i.tagType===3&&s.some(Dmt))return;const o=[];for(let a=0;a<s.length;a++){const l=s[a];if(l.type===7&&n(l.name)){s.splice(a,1),a--;const c=e(i,l,r);c&&o.push(c)}}return o}}}const gb="/*@__PURE__*/",cj=t=>`${jp[t]}: _${jp[t]}`;function s0t(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:i=!1,filename:r="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:p=!1,isTS:d=!1,inSSR:f=!1}){const y={mode:e,prefixIdentifiers:n,sourceMap:i,filename:r,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:p,isTS:d,inSSR:f,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${jp[b]}`},push(b,x=-2,A){y.code+=b},indent(){g(++y.indentLevel)},deindent(b=!1){b?--y.indentLevel:g(--y.indentLevel)},newline(){g(y.indentLevel)}};function g(b){y.push(`
`+"  ".repeat(b),0)}return y}function o0t(t,e={}){const n=s0t(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:i,push:r,prefixIdentifiers:s,indent:o,deindent:a,newline:l,scopeId:c,ssr:p}=n,d=Array.from(t.helpers),f=d.length>0,y=!s&&i!=="module";a0t(t,n);const g=p?"ssrRender":"render",b=(p?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(r(`function ${g}(${b}) {`),o(),y&&(r("with (_ctx) {"),o(),f&&(r(`const { ${d.map(cj).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(kA(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(kA(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),kA(t.filters,"filter",n),l()),t.temps>0){r("let ");for(let x=0;x<t.temps;x++)r(`${x>0?", ":""}_temp${x}`)}return(t.components.length||t.directives.length||t.temps)&&(r(`
`,0),l()),p||r("return "),t.codegenNode?Oi(t.codegenNode,n):r("null"),y&&(a(),r("}")),a(),r("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function a0t(t,e){const{ssr:n,prefixIdentifiers:i,push:r,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,p=Array.from(t.helpers);if(p.length>0&&(r(`const _Vue = ${c}
`,-1),t.hoists.length)){const d=[lA,cA,Qm,uA,FF].filter(f=>p.includes(f)).map(cj).join(", ");r(`const { ${d} } = _Vue
`,-1)}l0t(t.hoists,e),s(),r("return ")}function kA(t,e,{helper:n,push:i,newline:r,isTS:s}){const o=n(e==="filter"?fA:e==="component"?hA:dA);for(let a=0;a<t.length;a++){let l=t[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),i(`const ${i0(l,e)} = ${o}(${JSON.stringify(l)}${c?", true":""})${s?"!":""}`),a<t.length-1&&r()}}function l0t(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:i}=e;i();for(let r=0;r<t.length;r++){const s=t[r];s&&(n(`const _hoisted_${r+1} = `),Oi(s,e),i())}e.pure=!1}function RA(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),s0(t,e,n),n&&e.deindent(),e.push("]")}function s0(t,e,n=!1,i=!0){const{push:r,newline:s}=e;for(let o=0;o<t.length;o++){const a=t[o];$t(a)?r(a,-3):wt(a)?RA(a,e):Oi(a,e),o<t.length-1&&(n?(i&&r(","),s()):i&&r(", "))}}function Oi(t,e){if($t(t)){e.push(t,-3);return}if(dr(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Oi(t.codegenNode,e);break;case 2:c0t(t,e);break;case 4:uj(t,e);break;case 5:u0t(t,e);break;case 12:Oi(t.codegenNode,e);break;case 8:hj(t,e);break;case 3:p0t(t,e);break;case 13:d0t(t,e);break;case 14:m0t(t,e);break;case 15:y0t(t,e);break;case 17:g0t(t,e);break;case 18:v0t(t,e);break;case 19:b0t(t,e);break;case 20:w0t(t,e);break;case 21:s0(t.body,e,!0,!1);break}}function c0t(t,e){e.push(JSON.stringify(t.content),-3,t)}function uj(t,e){const{content:n,isStatic:i}=t;e.push(i?JSON.stringify(n):n,-3,t)}function u0t(t,e){const{push:n,helper:i,pure:r}=e;r&&n(gb),n(`${i(rb)}(`),Oi(t.content,e),n(")")}function hj(t,e){for(let n=0;n<t.children.length;n++){const i=t.children[n];$t(i)?e.push(i,-3):Oi(i,e)}}function h0t(t,e){const{push:n}=e;if(t.type===8)n("["),hj(t,e),n("]");else if(t.isStatic){const i=TA(t.content)?t.content:JSON.stringify(t.content);n(i,-2,t)}else n(`[${t.content}]`,-3,t)}function p0t(t,e){const{push:n,helper:i,pure:r}=e;r&&n(gb),n(`${i(Qm)}(${JSON.stringify(t.content)})`,-3,t)}function d0t(t,e){const{push:n,helper:i,pure:r}=e,{tag:s,props:o,children:a,patchFlag:l,dynamicProps:c,directives:p,isBlock:d,disableTracking:f,isComponent:y}=t;let g;l&&(g=String(l)),p&&n(i(mA)+"("),d&&n(`(${i(xu)}(${f?"true":""}), `),r&&n(gb);const b=d?Up(e.inSSR,y):Gp(e.inSSR,y);n(i(b)+"(",-2,t),s0(f0t([s,o,a,g,c]),e),n(")"),d&&n(")"),p&&(n(", "),Oi(p,e),n(")"))}function f0t(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function m0t(t,e){const{push:n,helper:i,pure:r}=e,s=$t(t.callee)?t.callee:i(t.callee);r&&n(gb),n(s+"(",-2,t),s0(t.arguments,e),n(")")}function y0t(t,e){const{push:n,indent:i,deindent:r,newline:s}=e,{properties:o}=t;if(!o.length){n("{}",-2,t);return}const a=o.length>1||!1;n(a?"{":"{ "),a&&i();for(let l=0;l<o.length;l++){const{key:c,value:p}=o[l];h0t(c,e),n(": "),Oi(p,e),l<o.length-1&&(n(","),s())}a&&r(),n(a?"}":" }")}function g0t(t,e){RA(t.elements,e)}function v0t(t,e){const{push:n,indent:i,deindent:r}=e,{params:s,returns:o,body:a,newline:l,isSlot:c}=t;c&&n(`_${jp[xA]}(`),n("(",-2,t),wt(s)?s0(s,e):s&&Oi(s,e),n(") => "),(l||a)&&(n("{"),i()),o?(l&&n("return "),wt(o)?RA(o,e):Oi(o,e)):a&&Oi(a,e),(l||a)&&(r(),n("}")),c&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function b0t(t,e){const{test:n,consequent:i,alternate:r,newline:s}=t,{push:o,indent:a,deindent:l,newline:c}=e;if(n.type===4){const d=!TA(n.content);d&&o("("),uj(n,e),d&&o(")")}else o("("),Oi(n,e),o(")");s&&a(),e.indentLevel++,s||o(" "),o("? "),Oi(i,e),e.indentLevel--,s&&c(),s||o(" "),o(": ");const p=r.type===19;p||e.indentLevel++,Oi(r,e),p||e.indentLevel--,s&&l(!0)}function w0t(t,e){const{push:n,helper:i,indent:r,deindent:s,newline:o}=e,{needPauseTracking:a,needArraySpread:l}=t;l&&n("[...("),n(`_cache[${t.index}] || (`),a&&(r(),n(`${i(ob)}(-1`),t.inVOnce&&n(", true"),n("),"),o(),n("(")),n(`_cache[${t.index}] = `),Oi(t.value,e),a&&(n(`).cacheIndex = ${t.index},`),o(),n(`${i(ob)}(1),`),o(),n(`_cache[${t.index}]`),s()),n(")"),l&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const _0t=lj(/^(if|else|else-if)$/,(t,e,n)=>x0t(t,e,n,(i,r,s)=>{const o=n.parent.children;let a=o.indexOf(i),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(s)i.codegenNode=dj(r,l,n);else{const c=E0t(i.codegenNode);c.alternate=dj(r,l+i.branches.length-1,n)}}}));function x0t(t,e,n,i){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const r=e.exp?e.exp.loc:t.loc;n.onError(tn(28,e.loc)),e.exp=qt("true",!1,r)}if(e.name==="if"){const r=pj(t,e),s={type:9,loc:Jmt(t.loc),branches:[r]};if(n.replaceNode(s),i)return i(s,r,!0)}else{const r=n.parent.children;let s=r.indexOf(t);for(;s-->=-1;){const o=r[s];if(o&&o.type===3){n.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){n.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&n.onError(tn(30,t.loc)),n.removeNode();const a=pj(t,e);o.branches.push(a);const l=i&&i(o,a,!1);yb(a,n),l&&l(),n.currentNode=null}else n.onError(tn(30,t.loc));break}}}function pj(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!ms(t,"for")?t.children:[t],userKey:lb(t,"key"),isTemplateIf:n}}function dj(t,e,n){return t.condition?SA(t.condition,fj(t,e,n),Kn(n.helper(Qm),['""',"true"])):fj(t,e,n)}function fj(t,e,n){const{helper:i}=n,r=Rn("key",qt(`${e}`,!1,Fr,2)),{children:s}=t,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const a=o.codegenNode;return hb(a,r,n),a}else return e0(n,i(Zm),fs([r]),s,64,void 0,void 0,!0,!1,!1,t.loc);else{const a=o.codegenNode,l=jmt(a);return l.type===13&&AA(l,n),hb(l,r,n),a}}function E0t(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const S0t=(t,e,n)=>{const{modifiers:i,loc:r}=t,s=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(s.type!==4||!s.isStatic)return n.onError(tn(52,s.loc)),{props:[Rn(s,qt("",!0,r))]};mj(t),o=t.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.some(a=>a.content==="camel")&&(s.type===4?s.isStatic?s.content=Fe(s.content):s.content=`${n.helperString(wA)}(${s.content})`:(s.children.unshift(`${n.helperString(wA)}(`),s.children.push(")"))),n.inSSR||(i.some(a=>a.content==="prop")&&yj(s,"."),i.some(a=>a.content==="attr")&&yj(s,"^")),{props:[Rn(s,o)]}},mj=(t,e)=>{const n=t.arg,i=Fe(n.content);t.exp=qt(i,!1,n.loc)},yj=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},A0t=lj("for",(t,e,n)=>{const{helper:i,removeHelper:r}=n;return M0t(t,e,n,s=>{const o=Kn(i(yA),[s.source]),a=cb(t),l=ms(t,"memo"),c=lb(t,"key",!1,!0);c&&c.type===7&&!c.exp&&mj(c);let p=c&&(c.type===6?c.value?qt(c.value.content,!0):void 0:c.exp);const d=c&&p?Rn("key",p):null,f=s.source.type===4&&s.source.constType>0,y=f?64:c?128:256;return s.codegenNode=e0(n,i(Zm),void 0,o,y,void 0,void 0,!0,!f,!1,t.loc),()=>{let g;const{children:b}=s,x=b.length!==1||b[0].type!==1,A=ub(t)?t:a&&t.children.length===1&&ub(t.children[0])?t.children[0]:null;if(A?(g=A.codegenNode,a&&d&&hb(g,d,n)):x?g=e0(n,i(Zm),d?fs([d]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(g=b[0].codegenNode,a&&d&&hb(g,d,n),g.isBlock!==!f&&(g.isBlock?(r(xu),r(Up(n.inSSR,g.isComponent))):r(Gp(n.inSSR,g.isComponent))),g.isBlock=!f,g.isBlock?(i(xu),i(Up(n.inSSR,g.isComponent))):i(Gp(n.inSSR,g.isComponent))),l){const M=$p(LA(s.parseResult,[qt("_cached")]));M.body=Amt([Zs(["const _memo = (",l.exp,")"]),Zs(["if (_cached",...p?[" && _cached.key === ",p]:[],` && ${n.helperString(GF)}(_cached, _memo)) return _cached`]),Zs(["const _item = ",g]),qt("_item.memo = _memo"),qt("return _item")]),o.arguments.push(M,qt("_cache"),qt(String(n.cached.length))),n.cached.push(null)}else o.arguments.push($p(LA(s.parseResult),g,!0))}})});function M0t(t,e,n,i){if(!e.exp){n.onError(tn(31,e.loc));return}const r=e.forParseResult;if(!r){n.onError(tn(32,e.loc));return}gj(r);const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=n,{source:l,value:c,key:p,index:d}=r,f={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:p,objectIndexAlias:d,parseResult:r,children:cb(t)?t.children:[t]};n.replaceNode(f),a.vFor++;const y=i&&i(f);return()=>{a.vFor--,y&&y()}}function gj(t,e){t.finalized||(t.finalized=!0)}function LA({value:t,key:e,index:n},i=[]){return T0t([t,e,n,...i])}function T0t(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,i)=>n||qt("_".repeat(i+1),!1))}const vj=qt("undefined",!1),I0t=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=ms(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},N0t=(t,e,n,i)=>$p(t,n,!1,!0,n.length?n[0].loc:i);function O0t(t,e,n=N0t){e.helper(xA);const{children:i,loc:r}=t,s=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=ms(t,"slot",!0);if(l){const{arg:x,exp:A}=l;x&&!vr(x)&&(a=!0),s.push(Rn(x||qt("default",!0),n(A,void 0,i,r)))}let c=!1,p=!1;const d=[],f=new Set;let y=0;for(let x=0;x<i.length;x++){const A=i[x];let M;if(!cb(A)||!(M=ms(A,"slot",!0))){A.type!==3&&d.push(A);continue}if(l){e.onError(tn(37,M.loc));break}c=!0;const{children:_,loc:w}=A,{arg:T=qt("default",!0),exp:I,loc:O}=M;let C;vr(T)?C=T?T.content:"default":a=!0;const R=ms(A,"for"),D=n(I,R,_,w);let U,j;if(U=ms(A,"if"))a=!0,o.push(SA(U.exp,vb(T,D,y++),vj));else if(j=ms(A,/^else(-if)?$/,!0)){let $=x,H;for(;$--&&(H=i[$],H.type===3););if(H&&cb(H)&&ms(H,/^(else-)?if$/)){let u=o[o.length-1];for(;u.alternate.type===19;)u=u.alternate;u.alternate=j.exp?SA(j.exp,vb(T,D,y++),vj):vb(T,D,y++)}else e.onError(tn(30,j.loc))}else if(R){a=!0;const $=R.forParseResult;$?(gj($),o.push(Kn(e.helper(yA),[$.source,$p(LA($),vb(T,D),!0)]))):e.onError(tn(32,R.loc))}else{if(C){if(f.has(C)){e.onError(tn(38,O));continue}f.add(C),C==="default"&&(p=!0)}s.push(Rn(T,D))}}if(!l){const x=(A,M)=>{const _=n(A,void 0,M,r);return e.compatConfig&&(_.isNonScopedSlot=!0),Rn("default",_)};c?d.length&&d.some(A=>bj(A))&&(p?e.onError(tn(39,d[0].loc)):s.push(x(void 0,d))):s.push(x(void 0,i))}const g=a?2:bb(t.children)?3:1;let b=fs(s.concat(Rn("_",qt(g+"",!1))),r);return o.length&&(b=Kn(e.helper($F),[b,Eu(o)])),{slots:b,hasDynamicSlots:a}}function vb(t,e,n){const i=[Rn("name",t),Rn("fn",e)];return n!=null&&i.push(Rn("key",qt(String(n),!0))),fs(i)}function bb(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||bb(n.children))return!0;break;case 9:if(bb(n.branches))return!0;break;case 10:case 11:if(bb(n.children))return!0;break}}return!1}function bj(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():bj(t.content)}const wj=new WeakMap,C0t=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:n,props:i}=t,r=t.tagType===1;let s=r?k0t(t,e):`"${n}"`;const o=Te(s)&&s.callee===pA;let a,l,c=0,p,d,f,y=o||s===Xm||s===aA||!r&&(n==="svg"||n==="foreignObject"||n==="math");if(i.length>0){const g=_j(t,e,void 0,r,o);a=g.props,c=g.patchFlag,d=g.dynamicPropNames;const b=g.directives;f=b&&b.length?Eu(b.map(x=>L0t(x,e))):void 0,g.shouldUseBlock&&(y=!0)}if(t.children.length>0)if(s===ib&&(y=!0,c|=1024),r&&s!==Xm&&s!==ib){const{slots:g,hasDynamicSlots:b}=O0t(t,e);l=g,b&&(c|=1024)}else if(t.children.length===1&&s!==Xm){const g=t.children[0],b=g.type,x=b===5||b===8;x&&$r(g,e)===0&&(c|=1),x||b===2?l=g:l=t.children}else l=t.children;d&&d.length&&(p=P0t(d)),t.codegenNode=e0(e,s,a,l,c===0?void 0:c,p,f,!!y,!1,r,t.loc)};function k0t(t,e,n=!1){let{tag:i}=t;const r=PA(i),s=lb(t,"is",!1,!0);if(s)if(r||Su("COMPILER_IS_ON_ELEMENT",e)){let a;if(s.type===6?a=s.value&&qt(s.value.content,!0):(a=s.exp,a||(a=qt("is",!1,s.arg.loc))),a)return Kn(e.helper(pA),[a])}else s.type===6&&s.value.content.startsWith("vue:")&&(i=s.value.content.slice(4));const o=qF(i)||e.isBuiltInComponent(i);return o?(n||e.helper(o),o):(e.helper(hA),e.components.add(i),i0(i,"component"))}function _j(t,e,n=t.props,i,r,s=!1){const{tag:o,loc:a,children:l}=t;let c=[];const p=[],d=[],f=l.length>0;let y=!1,g=0,b=!1,x=!1,A=!1,M=!1,_=!1,w=!1;const T=[],I=D=>{c.length&&(p.push(fs(xj(c),a)),c=[]),D&&p.push(D)},O=()=>{e.scopes.vFor>0&&c.push(Rn(qt("ref_for",!0),qt("true")))},C=({key:D,value:U})=>{if(vr(D)){const j=D.content,$=uu(j);if($&&(!i||r)&&j.toLowerCase()!=="onclick"&&j!=="onUpdate:modelValue"&&!Nl(j)&&(M=!0),$&&Nl(j)&&(w=!0),$&&U.type===14&&(U=U.arguments[0]),U.type===20||(U.type===4||U.type===8)&&$r(U,e)>0)return;j==="ref"?b=!0:j==="class"?x=!0:j==="style"?A=!0:j!=="key"&&!T.includes(j)&&T.push(j),i&&(j==="class"||j==="style")&&!T.includes(j)&&T.push(j)}else _=!0};for(let D=0;D<n.length;D++){const U=n[D];if(U.type===6){const{loc:j,name:$,nameLoc:H,value:u}=U;let m=!0;if($==="ref"&&(b=!0,O()),$==="is"&&(PA(o)||u&&u.content.startsWith("vue:")||Su("COMPILER_IS_ON_ELEMENT",e)))continue;c.push(Rn(qt($,!0,H),qt(u?u.content:"",m,u?u.loc:j)))}else{const{name:j,arg:$,exp:H,loc:u,modifiers:m}=U,S=j==="bind",k=j==="on";if(j==="slot"){i||e.onError(tn(40,u));continue}if(j==="once"||j==="memo"||j==="is"||S&&Au($,"is")&&(PA(o)||Su("COMPILER_IS_ON_ELEMENT",e))||k&&s)continue;if((S&&Au($,"key")||k&&f&&Au($,"vue:before-update"))&&(y=!0),S&&Au($,"ref")&&O(),!$&&(S||k)){if(_=!0,H)if(S){if(O(),I(),Su("COMPILER_V_BIND_OBJECT_ORDER",e)){p.unshift(H);continue}p.push(H)}else I({type:14,loc:u,callee:e.helper(bA),arguments:i?[H]:[H,"true"]});else e.onError(tn(S?34:35,u));continue}S&&m.some(J=>J.content==="prop")&&(g|=32);const V=e.directiveTransforms[j];if(V){const{props:J,needRuntime:pt}=V(U,t,e);!s&&J.forEach(C),k&&$&&!vr($)?I(fs(J,a)):c.push(...J),pt&&(d.push(U),dr(pt)&&wj.set(U,pt))}else $pt(j)||(d.push(U),f&&(y=!0))}}let R;if(p.length?(I(),p.length>1?R=Kn(e.helper(sb),p,a):R=p[0]):c.length&&(R=fs(xj(c),a)),_?g|=16:(x&&!i&&(g|=2),A&&!i&&(g|=4),T.length&&(g|=8),M&&(g|=32)),!y&&(g===0||g===32)&&(b||w||d.length>0)&&(g|=512),!e.inSSR&&R)switch(R.type){case 15:let D=-1,U=-1,j=!1;for(let u=0;u<R.properties.length;u++){const m=R.properties[u].key;vr(m)?m.content==="class"?D=u:m.content==="style"&&(U=u):m.isHandlerKey||(j=!0)}const $=R.properties[D],H=R.properties[U];j?R=Kn(e.helper(Km),[R]):($&&!vr($.value)&&($.value=Kn(e.helper(gA),[$.value])),H&&(A||H.value.type===4&&H.value.content.trim()[0]==="["||H.value.type===17)&&(H.value=Kn(e.helper(vA),[H.value])));break;case 14:break;default:R=Kn(e.helper(Km),[Kn(e.helper(t0),[R])]);break}return{props:R,directives:d,patchFlag:g,dynamicPropNames:T,shouldUseBlock:y}}function xj(t){const e=new Map,n=[];for(let i=0;i<t.length;i++){const r=t[i];if(r.key.type===8||!r.key.isStatic){n.push(r);continue}const s=r.key.content,o=e.get(s);o?(s==="style"||s==="class"||uu(s))&&R0t(o,r):(e.set(s,r),n.push(r))}return n}function R0t(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Eu([t.value,e.value],t.loc)}function L0t(t,e){const n=[],i=wj.get(t);i?n.push(e.helperString(i)):(e.helper(dA),e.directives.add(t.name),n.push(i0(t.name,"directive")));const{loc:r}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const s=qt("true",!1,r);n.push(fs(t.modifiers.map(o=>Rn(o,s)),r))}return Eu(n,t.loc)}function P0t(t){let e="[";for(let n=0,i=t.length;n<i;n++)e+=JSON.stringify(t[n]),n<i-1&&(e+=", ");return e+"]"}function PA(t){return t==="component"||t==="Component"}const D0t=(t,e)=>{if(ub(t)){const{children:n,loc:i}=t,{slotName:r,slotProps:s}=F0t(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),n.length&&(o[3]=$p([],n,!1,!1,i),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),t.codegenNode=Kn(e.helper(jF),o,i)}};function F0t(t,e){let n='"default"',i;const r=[];for(let s=0;s<t.props.length;s++){const o=t.props[s];if(o.type===6)o.value&&(o.name==="name"?n=JSON.stringify(o.value.content):(o.name=Fe(o.name),r.push(o)));else if(o.name==="bind"&&Au(o.arg,"name")){if(o.exp)n=o.exp;else if(o.arg&&o.arg.type===4){const a=Fe(o.arg.content);n=o.exp=qt(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&vr(o.arg)&&(o.arg.content=Fe(o.arg.content)),r.push(o)}if(r.length>0){const{props:s,directives:o}=_j(t,e,r,!1,!1);i=s,o.length&&e.onError(tn(36,o[0].loc))}return{slotName:n,slotProps:i}}const Ej=(t,e,n,i)=>{const{loc:r,modifiers:s,arg:o}=t;!t.exp&&!s.length&&n.onError(tn(35,r));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const f=e.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?pu(Fe(d)):`on:${d}`;a=qt(f,!0,o.loc)}else a=Zs([`${n.helperString(_A)}(`,o,")"]);else a=o,a.children.unshift(`${n.helperString(_A)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const d=YF(l),f=!(d||Lmt(l)),y=l.content.includes(";");(f||c&&d)&&(l=Zs([`${f?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let p={props:[Rn(a,l||qt("() => {}",!1,r))]};return i&&(p=i(p)),c&&(p.props[0].value=n.cache(p.props[0].value)),p.props.forEach(d=>d.key.isHandlerKey=!0),p},j0t=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let i,r=!1;for(let s=0;s<n.length;s++){const o=n[s];if(IA(o)){r=!0;for(let a=s+1;a<n.length;a++){const l=n[a];if(IA(l))i||(i=n[s]=Zs([o],o.loc)),i.children.push(" + ",l),n.splice(a,1),a--;else{i=void 0;break}}}}if(!(!r||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&t.tag!=="template")))for(let s=0;s<n.length;s++){const o=n[s];if(IA(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&$r(o,e)===0&&a.push("1"),n[s]={type:12,content:o,loc:o.loc,codegenNode:Kn(e.helper(uA),a)}}}}},Sj=new WeakSet,$0t=(t,e)=>{if(t.type===1&&ms(t,"once",!0))return Sj.has(t)||e.inVOnce||e.inSSR?void 0:(Sj.add(t),e.inVOnce=!0,e.helper(ob),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0,!0))})},Aj=(t,e,n)=>{const{exp:i,arg:r}=t;if(!i)return n.onError(tn(41,t.loc)),wb();const s=i.loc.source.trim(),o=i.type===4?i.content:s,a=n.bindingMetadata[s];if(a==="props"||a==="props-aliased")return n.onError(tn(44,i.loc)),wb();if(!o.trim()||!YF(i))return n.onError(tn(42,i.loc)),wb();const l=r||qt("modelValue",!0),c=r?vr(r)?`onUpdate:${Fe(r.content)}`:Zs(['"onUpdate:" + ',r]):"onUpdate:modelValue";let p;const d=n.isTS?"($event: any)":"$event";p=Zs([`${d} => ((`,i,") = $event)"]);const f=[Rn(l,t.exp),Rn(c,p)];if(t.modifiers.length&&e.tagType===1){const y=t.modifiers.map(b=>b.content).map(b=>(TA(b)?b:JSON.stringify(b))+": true").join(", "),g=r?vr(r)?`${r.content}Modifiers`:Zs([r,' + "Modifiers"']):"modelModifiers";f.push(Rn(g,qt(`{ ${y} }`,!1,t.loc,2)))}return wb(f)};function wb(t=[]){return{props:t}}const G0t=/[\w).+\-_$\]]/,U0t=(t,e)=>{Su("COMPILER_FILTERS",e)&&(t.type===5?_b(t.content,e):t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&_b(n.exp,e)}))};function _b(t,e){if(t.type===4)Mj(t,e);else for(let n=0;n<t.children.length;n++){const i=t.children[n];typeof i=="object"&&(i.type===4?Mj(i,e):i.type===8?_b(t,e):i.type===5&&_b(i.content,e))}}function Mj(t,e){const n=t.content;let i=!1,r=!1,s=!1,o=!1,a=0,l=0,c=0,p=0,d,f,y,g,b=[];for(y=0;y<n.length;y++)if(f=d,d=n.charCodeAt(y),i)d===39&&f!==92&&(i=!1);else if(r)d===34&&f!==92&&(r=!1);else if(s)d===96&&f!==92&&(s=!1);else if(o)d===47&&f!==92&&(o=!1);else if(d===124&&n.charCodeAt(y+1)!==124&&n.charCodeAt(y-1)!==124&&!a&&!l&&!c)g===void 0?(p=y+1,g=n.slice(0,y).trim()):x();else{switch(d){case 34:r=!0;break;case 39:i=!0;break;case 96:s=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let A=y-1,M;for(;A>=0&&(M=n.charAt(A),M===" ");A--);(!M||!G0t.test(M))&&(o=!0)}}g===void 0?g=n.slice(0,y).trim():p!==0&&x();function x(){b.push(n.slice(p,y).trim()),p=y+1}if(b.length){for(y=0;y<b.length;y++)g=B0t(g,b[y],e);t.content=g,t.ast=void 0}}function B0t(t,e,n){n.helper(fA);const i=e.indexOf("(");if(i<0)return n.filters.add(e),`${i0(e,"filter")}(${t})`;{const r=e.slice(0,i),s=e.slice(i+1);return n.filters.add(r),`${i0(r,"filter")}(${t}${s!==")"?","+s:s}`}}const Tj=new WeakSet,V0t=(t,e)=>{if(t.type===1){const n=ms(t,"memo");return!n||Tj.has(t)?void 0:(Tj.add(t),()=>{const i=t.codegenNode||e.currentNode.codegenNode;i&&i.type===13&&(t.tagType!==1&&AA(i,e),t.codegenNode=Kn(e.helper(EA),[n.exp,$p(void 0,i),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function z0t(t){return[[$0t,_0t,V0t,A0t,U0t,D0t,C0t,I0t,j0t],{on:Ej,bind:S0t,model:Aj}]}function W0t(t,e={}){const n=e.onError||MA,i=e.mode==="module";e.prefixIdentifiers===!0?n(tn(47)):i&&n(tn(48));const r=!1;e.cacheHandlers&&n(tn(49)),e.scopeId&&!i&&n(tn(50));const s=ne({},e,{prefixIdentifiers:r}),o=$t(t)?Qmt(t,s):t,[a,l]=z0t();return n0t(o,ne({},s,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:ne({},l,e.directiveTransforms||{})})),o0t(o,s)}const q0t=()=>({props:[]}),Ij=Symbol(""),Nj=Symbol(""),Oj=Symbol(""),Cj=Symbol(""),DA=Symbol(""),kj=Symbol(""),Rj=Symbol(""),Lj=Symbol(""),Pj=Symbol(""),Dj=Symbol("");xmt({[Ij]:"vModelRadio",[Nj]:"vModelCheckbox",[Oj]:"vModelText",[Cj]:"vModelSelect",[DA]:"vModelDynamic",[kj]:"withModifiers",[Rj]:"withKeys",[Lj]:"vShow",[Pj]:"Transition",[Dj]:"TransitionGroup"});let Bp;function H0t(t,e=!1){return Bp||(Bp=document.createElement("div")),e?(Bp.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,Bp.children[0].getAttribute("foo")):(Bp.innerHTML=t,Bp.textContent)}const Y0t={parseMode:"html",isVoidTag:edt,isNativeTag:t=>Qpt(t)||Kpt(t)||tdt(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:H0t,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return Pj;if(t==="TransitionGroup"||t==="transition-group")return Dj},getNamespace(t,e,n){let i=e?e.ns:n;if(e&&i===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(i=0);else e&&i===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(i=0);if(i===0){if(t==="svg")return 1;if(t==="math")return 2}return i}},J0t=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:qt("style",!0,e.loc),exp:Z0t(e.value.content,e.loc),modifiers:[],loc:e.loc})})},Z0t=(t,e)=>{const n=T9(t);return qt(JSON.stringify(n),!1,e,3)};function Yl(t,e){return tn(t,e)}const X0t=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(Yl(53,r)),e.children.length&&(n.onError(Yl(54,r)),e.children.length=0),{props:[Rn(qt("innerHTML",!0,r),i||qt("",!0))]}},Q0t=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(Yl(55,r)),e.children.length&&(n.onError(Yl(56,r)),e.children.length=0),{props:[Rn(qt("textContent",!0),i?$r(i,n)>0?i:Kn(n.helperString(rb),[i],r):qt("",!0))]}},K0t=(t,e,n)=>{const i=Aj(t,e,n);if(!i.props.length||e.tagType===1)return i;t.arg&&n.onError(Yl(58,t.arg.loc));const{tag:r}=e,s=n.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||s){let o=Oj,a=!1;if(r==="input"||s){const l=lb(e,"type");if(l){if(l.type===7)o=DA;else if(l.value)switch(l.value.content){case"radio":o=Ij;break;case"checkbox":o=Nj;break;case"file":a=!0,n.onError(Yl(59,t.loc));break}}else Pmt(e)&&(o=DA)}else r==="select"&&(o=Cj);a||(i.needRuntime=n.helper(o))}else n.onError(Yl(57,t.loc));return i.props=i.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),i},tyt=Lr("passive,once,capture"),eyt=Lr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),nyt=Lr("left,right"),Fj=Lr("onkeyup,onkeydown,onkeypress"),iyt=(t,e,n,i)=>{const r=[],s=[],o=[];for(let a=0;a<e.length;a++){const l=e[a].content;l==="native"&&n0("COMPILER_V_ON_NATIVE",n)||tyt(l)?o.push(l):nyt(l)?vr(t)?Fj(t.content.toLowerCase())?r.push(l):s.push(l):(r.push(l),s.push(l)):eyt(l)?s.push(l):r.push(l)}return{keyModifiers:r,nonKeyModifiers:s,eventOptionModifiers:o}},jj=(t,e)=>vr(t)&&t.content.toLowerCase()==="onclick"?qt(e,!0):t.type!==4?Zs(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,ryt=(t,e,n)=>Ej(t,e,n,i=>{const{modifiers:r}=t;if(!r.length)return i;let{key:s,value:o}=i.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=iyt(s,r,n,t.loc);if(l.includes("right")&&(s=jj(s,"onContextmenu")),l.includes("middle")&&(s=jj(s,"onMouseup")),l.length&&(o=Kn(n.helper(kj),[o,JSON.stringify(l)])),a.length&&(!vr(s)||Fj(s.content.toLowerCase()))&&(o=Kn(n.helper(Rj),[o,JSON.stringify(a)])),c.length){const p=c.map(Ol).join("");s=vr(s)?qt(`${s.content}${p}`,!0):Zs(["(",s,`) + "${p}"`])}return{props:[Rn(s,o)]}}),syt=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(Yl(61,r)),{props:[],needRuntime:n.helper(Lj)}},oyt=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},ayt=[J0t],lyt={cloak:q0t,html:X0t,text:Q0t,model:K0t,on:ryt,show:syt};function cyt(t,e={}){return W0t(t,ne({},Y0t,e,{nodeTransforms:[oyt,...ayt,...e.nodeTransforms||[]],directiveTransforms:ne({},lyt,e.directiveTransforms||{}),transformHoist:null}))}const $j=Object.create(null);function Gj(t,e){if(!$t(t))if(t.nodeType)t=t.innerHTML;else return ii;const n=Bpt(t,e),i=$j[n];if(i)return i;if(t[0]==="#"){const a=document.querySelector(t);t=a?a.innerHTML:""}const r=ne({hoistStatic:!0,onError:void 0,onWarn:ii},e);!r.isCustomElement&&typeof customElements<"u"&&(r.isCustomElement=a=>!!customElements.get(a));const{code:s}=cyt(t,r),o=new Function("Vue",s)(ymt);return o._rc=!0,$j[n]=o}H4(Gj);const uyt=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:o4,BaseTransitionPropsValidators:Mv,Comment:On,DeprecationTypes:zD,EffectScope:iv,ErrorCodes:o7,ErrorTypeStrings:jD,Fragment:Ie,KeepAlive:k7,ReactiveEffect:wp,Static:Gl,Suspense:wD,Teleport:s4,Text:To,TrackOpTypes:e7,Transition:qm,TransitionGroup:Xv,TriggerOpTypes:n7,VueElement:H0,assertNumber:s7,callWithAsyncErrorHandling:Pr,callWithErrorHandling:Ll,camelize:Fe,capitalize:Ol,cloneVNode:Ys,compatUtils:VD,compile:Gj,computed:Wt,createApp:Wl,createBlock:Le,createCommentVNode:Ne,createElementBlock:ft,createElementVNode:nt,createHydrationRenderer:k4,createPropsRestProxy:Y7,createRenderer:C4,createSSRApp:oA,createSlots:D7,createStaticVNode:U4,createTextVNode:Js,createVNode:zt,customRef:t4,defineAsyncComponent:Nv,defineComponent:Zt,defineCustomElement:iA,defineEmits:$7,defineExpose:G7,defineModel:V7,defineOptions:U7,defineProps:j7,defineSSRCustomElement:fF,defineSlots:B7,devtools:$D,effect:F9,effectScope:xm,getCurrentInstance:kn,getCurrentScope:rv,getCurrentWatcher:i7,getTransitionRawChildren:Cm,guardReactiveProps:G4,h:ps,handleError:Pl,hasInjectionContext:I4,hydrate:NF,hydrateOnIdle:I7,hydrateOnInteraction:C7,hydrateOnMediaQuery:O7,hydrateOnVisible:N7,initCustomFormatter:PD,initDirectivesForSSR:RF,inject:Nn,isMemoSame:Y4,isProxy:Ep,isReactive:Qi,isReadonly:_a,isRef:ie,isRuntimeOnly:CD,isShallow:mr,isVNode:qs,markRaw:qe,mergeDefaults:E4,mergeModels:S4,mergeProps:Vm,nextTick:Dr,normalizeClass:Ke,normalizeProps:I9,normalizeStyle:ya,onActivated:h4,onBeforeMount:Dm,onBeforeUnmount:us,onBeforeUpdate:kv,onDeactivated:p4,onErrorCaptured:Rv,onMounted:ri,onRenderTracked:y4,onRenderTriggered:m4,onScopeDispose:BS,onServerPrefetch:f4,onUnmounted:$l,onUpdated:yu,onWatcherCleanup:e4,openBlock:st,popScopeId:d7,provide:Dv,proxyRefs:dv,pushScopeId:p7,queuePostFlushCb:Tp,reactive:Zn,readonly:hv,ref:Z,registerRuntimeCompiler:H4,render:Fp,renderList:Sa,renderSlot:hs,resolveComponent:En,resolveDirective:we,resolveDynamicComponent:Lv,resolveFilter:BD,resolveTransitionHooks:mu,setBlockTracking:Bv,setDevtoolsHook:GD,setTransitionHooks:Mo,shallowReactive:QS,shallowReadonly:xp,shallowRef:Sp,ssrContextKey:P4,ssrUtils:UD,stop:j9,toDisplayString:ve,toHandlerKey:pu,toHandlers:F7,toRaw:Ct,toRef:mv,toRefs:fv,toValue:K9,transformVNodeArgs:MD,triggerRef:Q9,unref:_t,useAttrs:q7,useCssModule:yF,useCssVars:K4,useHost:rA,useId:l4,useModel:j4,useSSRContext:D4,useShadowRoot:mF,useSlots:W7,useTemplateRef:km,useTransitionState:Av,vModelCheckbox:Qv,vModelDynamic:sA,vModelRadio:Kv,vModelSelect:tb,vModelText:Lp,vShow:Hm,version:J4,warn:FD,watch:Vn,watchEffect:fD,watchPostEffect:mD,watchSyncEffect:F4,withAsyncContext:J7,withCtx:xn,withDefaults:z7,withDirectives:be,withKeys:nb,withMemo:DD,withModifiers:Dp,withScopeId:f7},Symbol.toStringTag,{value:"Module"}));let Uj;const xb=t=>Uj=t,Bj=Symbol();function FA(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var o0;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(o0||(o0={}));function hyt(){const t=xm(!0),e=t.run(()=>Z({}));let n=[],i=[];const r=qe({install(s){xb(r),r._a=s,s.provide(Bj,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return this._a?n.push(s):i.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Vj=()=>{};function zj(t,e,n,i=Vj){t.push(e);const r=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),i())};return!n&&rv()&&BS(r),r}function Vp(t,...e){t.slice().forEach(n=>{n(...e)})}const pyt=t=>t();function jA(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],r=t[n];FA(r)&&FA(i)&&t.hasOwnProperty(n)&&!ie(i)&&!Qi(i)?t[n]=jA(r,i):t[n]=i}return t}const dyt=Symbol();function fyt(t){return!FA(t)||!t.hasOwnProperty(dyt)}const{assign:Jl}=Object;function myt(t){return!!(ie(t)&&t.effect)}function yyt(t,e,n,i){const{state:r,actions:s,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const p=fv(n.state.value[t]);return Jl(p,s,Object.keys(o||{}).reduce((d,f)=>(d[f]=qe(Wt(()=>{xb(n);const y=n._s.get(t);return o[f].call(y,y)})),d),{}))}return l=Wj(t,c,e,n,i,!0),l}function Wj(t,e,n={},i,r,s){let o;const a=Jl({actions:{}},n),l={deep:!0};let c,p,d=[],f=[],y;const g=i.state.value[t];!s&&!g&&(i.state.value[t]={}),Z({});let b;function x(O){let C;c=p=!1,typeof O=="function"?(O(i.state.value[t]),C={type:o0.patchFunction,storeId:t,events:y}):(jA(i.state.value[t],O),C={type:o0.patchObject,payload:O,storeId:t,events:y});const R=b=Symbol();Dr().then(()=>{b===R&&(c=!0)}),p=!0,Vp(d,C,i.state.value[t])}const A=s?function(){const{state:O}=n,C=O?O():{};this.$patch(R=>{Jl(R,C)})}:Vj;function M(){o.stop(),d=[],f=[],i._s.delete(t)}function _(O,C){return function(){xb(i);const R=Array.from(arguments),D=[],U=[];function j(u){D.push(u)}function $(u){U.push(u)}Vp(f,{args:R,name:O,store:T,after:j,onError:$});let H;try{H=C.apply(this&&this.$id===t?this:T,R)}catch(u){throw Vp(U,u),u}return H instanceof Promise?H.then(u=>(Vp(D,u),u)).catch(u=>(Vp(U,u),Promise.reject(u))):(Vp(D,H),H)}}const w={_p:i,$id:t,$onAction:zj.bind(null,f),$patch:x,$reset:A,$subscribe(O,C={}){const R=zj(d,O,C.detached,()=>D()),D=o.run(()=>Vn(()=>i.state.value[t],U=>{(C.flush==="sync"?p:c)&&O({storeId:t,type:o0.direct,events:y},U)},Jl({},l,C)));return R},$dispose:M},T=Zn(w);i._s.set(t,T);const I=(i._a&&i._a.runWithContext||pyt)(()=>i._e.run(()=>(o=xm()).run(e)));for(const O in I){const C=I[O];if(ie(C)&&!myt(C)||Qi(C))s||(g&&fyt(C)&&(ie(C)?C.value=g[O]:jA(C,g[O])),i.state.value[t][O]=C);else if(typeof C=="function"){const R=_(O,C);I[O]=R,a.actions[O]=C}}return Jl(T,I),Jl(Ct(T),I),Object.defineProperty(T,"$state",{get:()=>i.state.value[t],set:O=>{x(C=>{Jl(C,O)})}}),i._p.forEach(O=>{Jl(T,o.run(()=>O({store:T,app:i._a,pinia:i,options:a})))}),g&&s&&n.hydrate&&n.hydrate(T.$state,g),c=!0,p=!0,T}function He(t,e,n){let i,r;const s=typeof e=="function";typeof t=="string"?(i=t,r=s?n:e):(r=t,i=t.id);function o(a,l){const c=I4();return a=a||(c?Nn(Bj,null):null),a&&xb(a),a=Uj,a._s.has(i)||(s?Wj(i,e,r,a):yyt(i,r,a)),a._s.get(i)}return o.$id=i,o}function qj(t){{t=Ct(t);const e={};for(const n in t){const i=t[n];(ie(i)||Qi(i))&&(e[n]=mv(t,n))}return e}}const a0=He("appbar",()=>{const t=Z({}),e=Z([]),n=Z([]),i=Wt(()=>e.value.map(o=>o.map(a=>t.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function r(o){n.value.includes(o)||n.value.push(o)}function s(o){const a=n.value.indexOf(o);a!==-1&&n.value.splice(a,1),o in t.value&&delete t.value[o],e.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:t,order:e,temporary:n,visible:i,addTempButton:r,removeButton:s}}),Eb=He("grid",()=>{const t=Z({}),e=Z(),n=Z();function i(a){t.value={...t.value,[a.id]:a}}function r(a){t.value[a]!==void 0&&delete t.value[a]}function s(a){return Object.keys(t.value).find(l=>t.value[l].layerIds.includes(a))}function o(a,l){t.value[a].layerIds=t.value[a].layerIds.filter(c=>c!==l)}return{grids:t,panel:e,currentId:n,addGrid:i,removeGrid:r,getGridId:s,removeLayer:o}});function Oa(t,e,n,i){var r,s=!1,o=0;function a(){r&&clearTimeout(r)}function l(){a(),s=!0}typeof e!="boolean"&&(i=n,n=e,e=void 0);function c(){for(var p=arguments.length,d=new Array(p),f=0;f<p;f++)d[f]=arguments[f];var y=this,g=Date.now()-o;if(s)return;function b(){o=Date.now(),n.apply(y,d)}function x(){r=void 0}i&&!r&&b(),a(),i===void 0&&g>t?b():e!==!0&&(r=setTimeout(i?x:b,i===void 0?t-g:t))}return c.cancel=l,c}function l0(t,e,n){return n===void 0?Oa(t,e,!1):Oa(t,n,e!==!1)}const Zl=He("map-caption",()=>{const t=Z({text:{},logo:{}}),e=Z({}),n=Z({}),i=Z({});function r(o){o!==void 0?e.value.isImperialScale=o:e.value.isImperialScale=!e.value.isImperialScale}function s(o){t.value.text.value=o.text.value,t.value.text.disabled=o.text.disabled,t.value.logo.altText=o.logo.altText,t.value.logo.link=o.logo.link,t.value.logo.value=o.logo.value,t.value.logo.disabled=o.logo.disabled}return{attribution:t,scale:e,coords:n,langtoggle:i,toggleScale:r,setAttribution:s}}),$A=(t,e)=>{const n=[...t];for(;n.length>0;){const i=n.shift();if(e(i))return i;i&&n.push(...i.sublayers)}},Xs=He("layer",()=>{const t=Z([]),e=Z([]),n=Z([]);function i(d){return $A(t.value,f=>f?.uid===d)}function r(d){return $A(t.value,f=>f?.id===d)}function s(d){return $A(t.value,f=>f!==void 0&&(f.id===d||f.uid===d))}function o(d){e.value=[...e.value,d]}function a(d,f=void 0){t.value=[...t.value,d],d.mapLayer&&((f===void 0||f<0)&&(console.error("Map layer added to store with invalid index!"),f=n.value.length),n.value.splice(f,0,d.id),n.value=[...n.value])}function l(d,f){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(f<0){console.error("Negative index passed to layer store reorder");return}f>=n.value.length&&(f=n.value.length-1);const y=n.value.findIndex(g=>g===d.id);y!==-1&&y!==f&&(n.value.splice(y,1),n.value.splice(f,0,d.id),n.value=[...n.value])}function c(d){const f=t.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(t.value=f,d.mapLayer){const y=n.value.filter(g=>g!==d.id);n.value=y}}function p(d){const f=e.value.filter(y=>y.id!==d);e.value=f}return{layers:t,mapOrder:n,layerConfigs:e,getLayerByUid:i,getLayerById:r,getLayerByAny:s,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:p}}),er=He("config",()=>{const t=Z({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),e=Z([]),n=Z(),i=Z({}),r=Z({});function s(c){if(i.value[r.value[c]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return i.value[r.value[c]]}function o(c){const p={...t.value,...c};if(t.value=p,Array.isArray(t.value.layers)){const d=Xs();d.layerConfigs=[...d.layerConfigs,t.value.layers]}}function a(c,p){i.value[p]=c,r.value[p]=p}function l(c,p){const d=c.configs,f=Object.keys(d);if(f.length){const y=f[0];p.forEach(g=>{const b=f.includes(g)?g:y;i.value[g]=d[b],r.value[g]=b})}else console.error("Nothingburger config set was registered",c)}return{activeBasemapConfig:n,config:t,registeredConfigs:i,registeredLangs:r,startingFixtures:e,getActiveConfig:s,newConfig:o,registerAllConfigs:l,registerConfig:a}}),GA=He("details",()=>{const t=Z([]),e=Z({}),n=Z({}),i=Z(),r=Z(0),s=Z(0),o=Z(!0),a=Z();function l(p){const d=t.value.findIndex(f=>f.uid===p.uid);d!==-1&&t.value.splice(d,1)}function c(p){e.value={...e.value,[p.id]:p}}return{payload:t,properties:e,defaultTemplates:n,currentFeatureId:i,activeGreedy:r,lastHilight:s,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),ys=He("fixture",()=>{const t=Z({}),e=Z({});function n(o){return o.map(a=>e.value[a].getPromise())}function i(o){if(t.value={...t.value,[o.id]:qe(o)},o.id in e.value)e.value[o.id].resolveMe(qe(o));else{const a=new wn;a.resolveMe(qe(o)),e.value={...e.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function r(o){delete t.value[o.id],t.value={...t.value},delete e.value[o.id],e.value={...e.value},typeof o.removed=="function"&&o.removed()}function s(o){e.value={...e.value,[o]:new wn}}return{items:t,loadPromises:e,getLoadPromises:n,addFixture:i,removeFixture:r,addLoadPromise:s}});var Et=(t=>(t.APPBAR_BUTTON_CLICK="appbar/click",t.COMPONENT="ramp/component",t.CONFIG_CHANGE="config/configchanged",t.DETAILS_TOGGLE="details/toggle",t.FILTER_CHANGE="filter/change",t.FIXTURE_ADDED="fixture/added",t.FIXTURE_REMOVED="fixture/removed",t.GRID_TOGGLE="grid/toggle",t.HELP_TOGGLE="help/toggle",t.LANG_CHANGE="lang/change",t.LAYER_DRAWSTATECHANGE="layer/drawstatechange",t.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",t.LAYER_LAYERSTATECHANGE="layer/layerstatechange",t.LAYER_OPACITYCHANGE="layer/opacitychange",t.LAYER_REGISTERED="layer/registered",t.LAYER_RELOAD_END="layer/reloadend",t.LAYER_RELOAD_START="layer/reloadstart",t.LAYER_REMOVE="layer/remove",t.LAYER_VISIBILITYCHANGE="layer/visibilitychange",t.MAP_BASEMAPCHANGE="map/basemapchanged",t.MAP_BLUR="map/blur",t.MAP_CLICK="map/click",t.MAP_CREATED="map/created",t.MAP_DESTROYED="map/destroyed",t.MAP_DOUBLECLICK="map/doubleclick",t.MAP_EXTENTCHANGE="map/extentchanged",t.MAP_FOCUS="map/focus",t.MAP_GRAPHICHIT="map/graphichit",t.MAP_IDENTIFY="map/identify",t.MAP_KEYDOWN="map/keydown",t.MAP_KEYUP="map/keyup",t.MAP_MOUSEDOWN="map/mousedown",t.MAP_MOUSELEAVE="map/mouseleave",t.MAP_MOUSEMOVE="map/mousemove",t.MAP_MOUSEMOVE_END="map/mousemoveend",t.MAP_MOUSEMOVE_START="map/mousemovestart",t.MAP_REFRESH_END="map/refreshend",t.MAP_REFRESH_START="map/refreshstart",t.MAP_REORDER="map/reorder",t.MAP_RESIZED="map/resized",t.MAP_SCALECHANGE="map/scalechanged",t.MAP_START="map/start",t.METADATA_TOGGLE="metadata/toggle",t.PANEL_CLOSED="panel/closed",t.PANEL_MINIMIZED="panel/minimized",t.PANEL_OPENED="panel/opened",t.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",t.RAMP_RELOAD="ramp/reload",t.REORDER_TOGGLE="reorder/toggle",t.SETTINGS_TOGGLE="settings/toggle",t.USER_LAYER_ADDED="user/layeradded",t.WIZARD_TOGGLE="wizard/toggle",t))(Et||{}),UA=(t=>(t.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",t.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",t.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",t.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",t.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",t.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",t.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",t.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",t.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",t.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",t.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",t.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",t.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",t.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",t.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",t.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",t.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",t.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",t.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",t.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",t.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",t.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",t.MAP_MOUSEDOWN_UPDATES_MAPTIP="ramp_map_mousedown_updates_maptip",t.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",t.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",t.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",t.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",t.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",t.TOGGLE_DETAILS="ramp_toggle_details",t.TOGGLE_GRID="ramp_toggle_grid",t.TOGGLE_HELP="ramp_toggle_help",t.TOGGLE_METADATA="ramp_toggle_metadata",t.TOGGLE_REORDER="ramp_toggle_reorder",t.TOGGLE_SETTINGS="ramp_toggle_settings",t.TOGGLE_WIZARD="ramp_toggle_wizard",t))(UA||{});class gyt{eventName;handlerName;handlerFunc;constructor(e,n,i){this.eventName=e,this.handlerName=n,this.handlerFunc=i}}class vyt extends _n{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(e){super(e),this._eventBus=new Ppt.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(Et).filter(n=>typeof n=="string"&&n.indexOf("/")>-1)}findHandler(e){return this._eventRegister.find(n=>n.handlerName===e)}handlerNamer(e){return this._funCounter++,e.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(e){(Array.isArray(e)?e:[e]).forEach(n=>{this._nameRegister.indexOf(n)===-1&&this._nameRegister.push(n)})}eventNames(){return this._nameRegister.slice()}on(e,n,i=""){if(this.findHandler(i))throw new Error("Duplicate handler name registration: "+i);i||(i=this.handlerNamer(e));const r=new gyt(e,i,n);return this._eventRegister.push(r),this._eventBus.on(e,n),i}off(e){const n=this.findHandler(e);n&&(this._eventRegister.splice(this._eventRegister.indexOf(n),1),this._eventBus.off(n.eventName,n.handlerFunc))}offAll(e=""){this.activeHandlers(e).forEach(n=>this.off(n))}removeDefaultEvents(){Object.values(UA).forEach(e=>{this.off(e)})}emit(e,...n){this._eventBus.emit(e,...n)}once(e,n,i=""){i||(i=this.handlerNamer(e));const r=(...s)=>{n(...s),this.off(i)};return this.on(e,r,i)}activeHandlers(e=""){return e===""?this._eventRegister.map(n=>n.handlerName):this._eventRegister.filter(n=>n.eventName===e).map(n=>n.handlerName)}addDefaultEvents(e){return(!Array.isArray(e)||e.length===0)&&(e=Object.values(UA)),e.map(n=>this.defaultHandlerFactory(n))}defaultHandlerFactory(e){let n;switch(e){case"ramp_layer_error_updates_legend":n=i=>{if(i.layer.layerState===rn.ERROR){const r=this.$iApi.fixture.get("legend");r&&r.updateLegend(i.layer)}},this.$iApi.event.on("layer/layerstatechange",n,e);break;case"ramp_layer_register_binds_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&r.updateLegend(i)},this.$iApi.event.on("layer/registered",n,e);break;case"ramp_layer_reload_end_binds_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&r.updateLegend(i)},this.$iApi.event.on("layer/reloadend",n,e);break;case"ramp_layer_reload_start_updates_legend":n=i=>{if(!i.isSublayer){const r=this.$iApi.fixture.get("legend");r&&r.reloadLayerItem(i.uid)}},this.$iApi.event.on("layer/reloadstart",n,e);break;case"ramp_layer_remove_checks_grid":n=i=>{if(this.$iApi.fixture.get("grid")){const r=Eb(this.$vApp.$pinia),s=r.getGridId(i.id);if(s===void 0)return;if(r.removeLayer(s,i.id),r.grids[s].layerIds.length===0){r.removeGrid(s);const o=r.currentId;if(s===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),r.currentId=void 0}}}},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_remove_updates_details":n=i=>{const r=GA(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&r.removeLayer(i)},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_remove_updates_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&(r.removeLayerItem(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:i.name})))},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_useradd_updates_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&r.addLayerItem(i)},this.$iApi.event.on("user/layeradded",n,e);break;case"ramp_map_basemap_checks_tile_proj":n=i=>{i.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(r=>r.dataFormat===ei.ESRI_TILE&&r.schemaLocked).forEach(r=>{r.checkProj()})},this.$iApi.event.on("map/basemapchanged",n,e);break;case"ramp_map_basemap_updates_map_attribs":n=()=>{this.$iApi.geo.map.caption.updateAttribution(er(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",n,e);break;case"ramp_map_blur_updates_key_handler":n=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",n,e);break;case"ramp_map_click_runs_identify":n=i=>{i.button===0&&this.$iApi.geo.map.runIdentify(i)},this.on("map/click",n,e);break;case"ramp_map_created_initializes_fixtures":n=()=>{const i=ys(this.$vApp.$pinia).items;Object.keys(i).forEach(r=>{i[r].initialized?.()})},this.$iApi.geo.map.created&&n(),this.$iApi.event.on("map/created",n,e);break;case"ramp_map_created_updates_map_attribs":n=()=>{this.$iApi.geo.map.caption.updateAttribution(er(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&n(),this.$iApi.event.on("map/created",n,e);break;case"ramp_map_extent_updates_maptip":n=()=>{if(this.$iApi.geo.map.keysActive){const i=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(i)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",Oa(50,!0,()=>n()),e);break;case"ramp_map_graphichit_creates_maptip":n=i=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(i)},this.$iApi.event.on("map/graphichit",n,e);break;case"ramp_map_identify_opens_identify_results":n=i=>{const r=this.$iApi.fixture.get("details");r&&r.openDetails(i.results)},this.on("map/identify",n,e);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",Oa(50,()=>{const i=Zl(this.$vApp.$pinia);i.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(r=>{i.coords={formattedString:r}})}),e);break;case"ramp_map_keydown_updates_key_handler":n=i=>{this.$iApi.geo.map.mapKeyDown(i)},this.$iApi.event.on("map/keydown",n,e);break;case"ramp_map_keyup_updates_key_handler":n=i=>{this.$iApi.geo.map.mapKeyUp(i)},this.$iApi.event.on("map/keyup",n,e);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",Oa(50,i=>{const r=Zl(this.$vApp.$pinia);r.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(i)).then(s=>{r.coords={formattedString:s}})}),e);break;case"ramp_map_mouse_updates_maptip":n=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousemove",Oa(50,i=>n(i)),e);break;case"ramp_map_mousedown_updates_maptip":n=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousedown",Oa(50,i=>{const r={screenX:i.offsetX,screenY:i.offsetY,button:i.button,moveTime:0};n(r)}),e);break;case"ramp_map_mouseleave_removes_maptip":n=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",n);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",l0(100,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",l0(300,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_panel_close_updates_appbar":n=i=>{const r=a0(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!r.order.flat().find(s=>s===i.id)&&r.removeButton(i.id)},this.on("panel/closed",n,e);break;case"ramp_panel_open_updates_appbar":n=i=>{const r=a0(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!i.teleport||i.teleport?.showAppbarButton)&&!r.order.flat().find(s=>s===i.id)&&r.addTempButton(i.id)},this.on("panel/opened",n,e);break;case"ramp_toggle_details":n=(i,r)=>{const s=this.$iApi.fixture.get("details");s&&s.toggleFeature(i,r)},this.$iApi.event.on("details/toggle",n,e);break;case"ramp_toggle_grid":n=(i,r)=>{const s=this.$iApi.fixture.get("grid");s&&s.toggleGrid(i.id,r)},this.$iApi.event.on("grid/toggle",n,e);break;case"ramp_toggle_help":n=i=>{const r=this.$iApi.fixture.get("help");r&&r.toggleHelp(i)},this.$iApi.event.on("help/toggle",n,e);break;case"ramp_toggle_metadata":n=(i,r)=>{const s=this.$iApi.fixture.get("metadata");s&&s.toggleMetadata(i,r)},this.$iApi.event.on("metadata/toggle",n,e);break;case"ramp_toggle_reorder":n=i=>{const r=this.$iApi.fixture.get("layer-reorder");r&&r.toggleLayerReorder(i)},this.$iApi.event.on("reorder/toggle",n,e);break;case"ramp_toggle_settings":n=(i,r)=>{const s=this.$iApi.fixture.get("settings");s&&s.toggleSettings(i,r)},this.$iApi.event.on("settings/toggle",n,e);break;case"ramp_toggle_wizard":n=i=>{const r=this.$iApi.fixture.get("wizard");r&&r.toggleWizard(i)},this.$iApi.event.on("wizard/toggle",n,e);break;default:return console.error(`Unrecognized default event handler name encountered: ${e}`),`ERROR_NOT_REGISTERED__${e}`}return e}}function byt(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Sb=typeof window<"u",Xl=(t,e=!1)=>e?Symbol.for(t):Symbol(t),wyt=(t,e,n)=>_yt({l:t,k:e,s:n}),_yt=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Pn=t=>typeof t=="number"&&isFinite(t),xyt=t=>Xj(t)==="[object Date]",Ql=t=>Xj(t)==="[object RegExp]",Ab=t=>Gt(t)&&Object.keys(t).length===0,mi=Object.assign,Eyt=Object.create,ke=(t=null)=>Eyt(t);let Hj;const Ca=()=>Hj||(Hj=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:ke());function Yj(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function Jj(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Syt(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(e,n,i)=>`${n}="${Jj(i)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(e,n,i)=>`${n}='${Jj(i)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(e=>{t=t.replace(e,"$1javascript&#58;")}),t}const Ayt=Object.prototype.hasOwnProperty;function Qs(t,e){return Ayt.call(t,e)}const Ye=Array.isArray,$e=t=>typeof t=="function",gt=t=>typeof t=="string",Xt=t=>typeof t=="boolean",de=t=>t!==null&&typeof t=="object",Myt=t=>de(t)&&$e(t.then)&&$e(t.catch),Zj=Object.prototype.toString,Xj=t=>Zj.call(t),Gt=t=>{if(!de(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},Tyt=t=>t==null?"":Ye(t)||Gt(t)&&t.toString===Zj?JSON.stringify(t,null,2):String(t);function Iyt(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}function Mb(t){let e=t;return()=>++e}const Tb=t=>!de(t)||Ye(t);function Ib(t,e){if(Tb(t)||Tb(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:i,des:r}=n.pop();Object.keys(i).forEach(s=>{s!=="__proto__"&&(de(i[s])&&!de(r[s])&&(r[s]=Array.isArray(i[s])?[]:ke()),Tb(r[s])||Tb(i[s])?r[s]=i[s]:n.push({src:i[s],des:r[s]}))})}}function Nyt(t,e,n){return{line:t,column:e,offset:n}}function Nb(t,e,n){return{start:t,end:e}}const Oyt=/\{([0-9a-zA-Z]+)\}/g;function Qj(t,...e){return e.length===1&&Cyt(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(Oyt,(n,i)=>e.hasOwnProperty(i)?e[i]:"")}const Kj=Object.assign,t$=t=>typeof t=="string",Cyt=t=>t!==null&&typeof t=="object";function e$(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}const BA={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},kyt={[BA.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function Ryt(t,e,...n){const i=Qj(kyt[t],...n||[]),r={message:String(i),code:t};return e&&(r.location=e),r}const kt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Lyt={[kt.EXPECTED_TOKEN]:"Expected token: '{0}'",[kt.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[kt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[kt.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[kt.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[kt.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[kt.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[kt.EMPTY_PLACEHOLDER]:"Empty placeholder",[kt.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[kt.INVALID_LINKED_FORMAT]:"Invalid linked format",[kt.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[kt.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[kt.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[kt.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[kt.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[kt.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function zp(t,e,n={}){const{domain:i,messages:r,args:s}=n,o=Qj((r||Lyt)[t]||"",...s||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=i,a}function Pyt(t){throw t}const ka=" ",Dyt="\r",wr=`
`,Fyt="\u2028",jyt="\u2029";function $yt(t){const e=t;let n=0,i=1,r=1,s=0;const o=O=>e[O]===Dyt&&e[O+1]===wr,a=O=>e[O]===wr,l=O=>e[O]===jyt,c=O=>e[O]===Fyt,p=O=>o(O)||a(O)||l(O)||c(O),d=()=>n,f=()=>i,y=()=>r,g=()=>s,b=O=>o(O)||l(O)||c(O)?wr:e[O],x=()=>b(n),A=()=>b(n+s);function M(){return s=0,p(n)&&(i++,r=0),o(n)&&n++,n++,r++,e[n]}function _(){return o(n+s)&&s++,s++,e[n+s]}function w(){n=0,i=1,r=1,s=0}function T(O=0){s=O}function I(){const O=n+s;for(;O!==n;)M();s=0}return{index:d,line:f,column:y,peekOffset:g,charAt:b,currentChar:x,currentPeek:A,next:M,peek:_,reset:w,resetPeek:T,skipToPeek:I}}const Kl=void 0,NMt=".",n$="'",Gyt="tokenizer";function Uyt(t,e={}){const n=e.location!==!1,i=$yt(t),r=()=>i.index(),s=()=>Nyt(i.line(),i.column(),i.index()),o=s(),a=r(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:p}=e;function d(L,P,W,...X){const B=c();if(P.column+=W,P.offset+=W,p){const q=n?Nb(B.startLoc,P):null,ut=zp(L,q,{domain:Gyt,args:X});p(ut)}}function f(L,P,W){L.endLoc=s(),L.currentType=P;const X={type:P};return n&&(X.loc=Nb(L.startLoc,L.endLoc)),W!=null&&(X.value=W),X}const y=L=>f(L,14);function g(L,P){return L.currentChar()===P?(L.next(),P):(d(kt.EXPECTED_TOKEN,s(),0,P),"")}function b(L){let P="";for(;L.currentPeek()===ka||L.currentPeek()===wr;)P+=L.currentPeek(),L.peek();return P}function x(L){const P=b(L);return L.skipToPeek(),P}function A(L){if(L===Kl)return!1;const P=L.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P===95}function M(L){if(L===Kl)return!1;const P=L.charCodeAt(0);return P>=48&&P<=57}function _(L,P){const{currentType:W}=P;if(W!==2)return!1;b(L);const X=A(L.currentPeek());return L.resetPeek(),X}function w(L,P){const{currentType:W}=P;if(W!==2)return!1;b(L);const X=L.currentPeek()==="-"?L.peek():L.currentPeek(),B=M(X);return L.resetPeek(),B}function T(L,P){const{currentType:W}=P;if(W!==2)return!1;b(L);const X=L.currentPeek()===n$;return L.resetPeek(),X}function I(L,P){const{currentType:W}=P;if(W!==8)return!1;b(L);const X=L.currentPeek()===".";return L.resetPeek(),X}function O(L,P){const{currentType:W}=P;if(W!==9)return!1;b(L);const X=A(L.currentPeek());return L.resetPeek(),X}function C(L,P){const{currentType:W}=P;if(!(W===8||W===12))return!1;b(L);const X=L.currentPeek()===":";return L.resetPeek(),X}function R(L,P){const{currentType:W}=P;if(W!==10)return!1;const X=()=>{const q=L.currentPeek();return q==="{"?A(L.peek()):q==="@"||q==="%"||q==="|"||q===":"||q==="."||q===ka||!q?!1:q===wr?(L.peek(),X()):j(L,!1)},B=X();return L.resetPeek(),B}function D(L){b(L);const P=L.currentPeek()==="|";return L.resetPeek(),P}function U(L){const P=b(L),W=L.currentPeek()==="%"&&L.peek()==="{";return L.resetPeek(),{isModulo:W,hasSpace:P.length>0}}function j(L,P=!0){const W=(B=!1,q="",ut=!1)=>{const bt=L.currentPeek();return bt==="{"?q==="%"?!1:B:bt==="@"||!bt?q==="%"?!0:B:bt==="%"?(L.peek(),W(B,"%",!0)):bt==="|"?q==="%"||ut?!0:!(q===ka||q===wr):bt===ka?(L.peek(),W(!0,ka,ut)):bt===wr?(L.peek(),W(!0,wr,ut)):!0},X=W();return P&&L.resetPeek(),X}function $(L,P){const W=L.currentChar();return W===Kl?Kl:P(W)?(L.next(),W):null}function H(L){const P=L.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===95||P===36}function u(L){return $(L,H)}function m(L){const P=L.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===95||P===36||P===45}function S(L){return $(L,m)}function k(L){const P=L.charCodeAt(0);return P>=48&&P<=57}function V(L){return $(L,k)}function J(L){const P=L.charCodeAt(0);return P>=48&&P<=57||P>=65&&P<=70||P>=97&&P<=102}function pt(L){return $(L,J)}function ot(L){let P="",W="";for(;P=V(L);)W+=P;return W}function It(L){x(L);const P=L.currentChar();return P!=="%"&&d(kt.EXPECTED_TOKEN,s(),0,P),L.next(),"%"}function Lt(L){let P="";for(;;){const W=L.currentChar();if(W==="{"||W==="}"||W==="@"||W==="|"||!W)break;if(W==="%")if(j(L))P+=W,L.next();else break;else if(W===ka||W===wr)if(j(L))P+=W,L.next();else{if(D(L))break;P+=W,L.next()}else P+=W,L.next()}return P}function Ut(L){x(L);let P="",W="";for(;P=S(L);)W+=P;return L.currentChar()===Kl&&d(kt.UNTERMINATED_CLOSING_BRACE,s(),0),W}function xe(L){x(L);let P="";return L.currentChar()==="-"?(L.next(),P+=`-${ot(L)}`):P+=ot(L),L.currentChar()===Kl&&d(kt.UNTERMINATED_CLOSING_BRACE,s(),0),P}function Pe(L){return L!==n$&&L!==wr}function Ue(L){x(L),g(L,"'");let P="",W="";for(;P=$(L,Pe);)P==="\\"?W+=Pi(L):W+=P;const X=L.currentChar();return X===wr||X===Kl?(d(kt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),X===wr&&(L.next(),g(L,"'")),W):(g(L,"'"),W)}function Pi(L){const P=L.currentChar();switch(P){case"\\":case"'":return L.next(),`\\${P}`;case"u":return nn(L,P,4);case"U":return nn(L,P,6);default:return d(kt.UNKNOWN_ESCAPE_SEQUENCE,s(),0,P),""}}function nn(L,P,W){g(L,P);let X="";for(let B=0;B<W;B++){const q=pt(L);if(!q){d(kt.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${P}${X}${L.currentChar()}`);break}X+=q}return`\\${P}${X}`}function Dn(L){return L!=="{"&&L!=="}"&&L!==ka&&L!==wr}function vi(L){x(L);let P="",W="";for(;P=$(L,Dn);)W+=P;return W}function G(L){let P="",W="";for(;P=u(L);)W+=P;return W}function F(L){const P=W=>{const X=L.currentChar();return X==="{"||X==="%"||X==="@"||X==="|"||X==="("||X===")"||!X||X===ka?W:(W+=X,L.next(),P(W))};return P("")}function Y(L){x(L);const P=g(L,"|");return x(L),P}function it(L,P){let W=null;switch(L.currentChar()){case"{":return P.braceNest>=1&&d(kt.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),L.next(),W=f(P,2,"{"),x(L),P.braceNest++,W;case"}":return P.braceNest>0&&P.currentType===2&&d(kt.EMPTY_PLACEHOLDER,s(),0),L.next(),W=f(P,3,"}"),P.braceNest--,P.braceNest>0&&x(L),P.inLinked&&P.braceNest===0&&(P.inLinked=!1),W;case"@":return P.braceNest>0&&d(kt.UNTERMINATED_CLOSING_BRACE,s(),0),W=et(L,P)||y(P),P.braceNest=0,W;default:{let X=!0,B=!0,q=!0;if(D(L))return P.braceNest>0&&d(kt.UNTERMINATED_CLOSING_BRACE,s(),0),W=f(P,1,Y(L)),P.braceNest=0,P.inLinked=!1,W;if(P.braceNest>0&&(P.currentType===5||P.currentType===6||P.currentType===7))return d(kt.UNTERMINATED_CLOSING_BRACE,s(),0),P.braceNest=0,rt(L,P);if(X=_(L,P))return W=f(P,5,Ut(L)),x(L),W;if(B=w(L,P))return W=f(P,6,xe(L)),x(L),W;if(q=T(L,P))return W=f(P,7,Ue(L)),x(L),W;if(!X&&!B&&!q)return W=f(P,13,vi(L)),d(kt.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,W.value),x(L),W;break}}return W}function et(L,P){const{currentType:W}=P;let X=null;const B=L.currentChar();switch((W===8||W===9||W===12||W===10)&&(B===wr||B===ka)&&d(kt.INVALID_LINKED_FORMAT,s(),0),B){case"@":return L.next(),X=f(P,8,"@"),P.inLinked=!0,X;case".":return x(L),L.next(),f(P,9,".");case":":return x(L),L.next(),f(P,10,":");default:return D(L)?(X=f(P,1,Y(L)),P.braceNest=0,P.inLinked=!1,X):I(L,P)||C(L,P)?(x(L),et(L,P)):O(L,P)?(x(L),f(P,12,G(L))):R(L,P)?(x(L),B==="{"?it(L,P)||X:f(P,11,F(L))):(W===8&&d(kt.INVALID_LINKED_FORMAT,s(),0),P.braceNest=0,P.inLinked=!1,rt(L,P))}}function rt(L,P){let W={type:14};if(P.braceNest>0)return it(L,P)||y(P);if(P.inLinked)return et(L,P)||y(P);switch(L.currentChar()){case"{":return it(L,P)||y(P);case"}":return d(kt.UNBALANCED_CLOSING_BRACE,s(),0),L.next(),f(P,3,"}");case"@":return et(L,P)||y(P);default:{if(D(L))return W=f(P,1,Y(L)),P.braceNest=0,P.inLinked=!1,W;const{isModulo:X,hasSpace:B}=U(L);if(X)return B?f(P,0,Lt(L)):f(P,4,It(L));if(j(L))return f(P,0,Lt(L));break}}return W}function dt(){const{currentType:L,offset:P,startLoc:W,endLoc:X}=l;return l.lastType=L,l.lastOffset=P,l.lastStartLoc=W,l.lastEndLoc=X,l.offset=r(),l.startLoc=s(),i.currentChar()===Kl?f(l,14):rt(i,l)}return{nextToken:dt,currentOffset:r,currentPosition:s,context:c}}const Byt="parser",Vyt=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function zyt(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(e||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):"\uFFFD"}}}function Wyt(t={}){const e=t.location!==!1,{onError:n,onWarn:i}=t;function r(_,w,T,I,...O){const C=_.currentPosition();if(C.offset+=I,C.column+=I,n){const R=e?Nb(T,C):null,D=zp(w,R,{domain:Byt,args:O});n(D)}}function s(_,w,T,I,...O){const C=_.currentPosition();if(C.offset+=I,C.column+=I,i){const R=e?Nb(T,C):null;i(Ryt(w,R,O))}}function o(_,w,T){const I={type:_};return e&&(I.start=w,I.end=w,I.loc={start:T,end:T}),I}function a(_,w,T,I){e&&(_.end=w,_.loc&&(_.loc.end=T))}function l(_,w){const T=_.context(),I=o(3,T.offset,T.startLoc);return I.value=w,a(I,_.currentOffset(),_.currentPosition()),I}function c(_,w){const T=_.context(),{lastOffset:I,lastStartLoc:O}=T,C=o(5,I,O);return C.index=parseInt(w,10),_.nextToken(),a(C,_.currentOffset(),_.currentPosition()),C}function p(_,w,T){const I=_.context(),{lastOffset:O,lastStartLoc:C}=I,R=o(4,O,C);return R.key=w,T===!0&&(R.modulo=!0),_.nextToken(),a(R,_.currentOffset(),_.currentPosition()),R}function d(_,w){const T=_.context(),{lastOffset:I,lastStartLoc:O}=T,C=o(9,I,O);return C.value=w.replace(Vyt,zyt),_.nextToken(),a(C,_.currentOffset(),_.currentPosition()),C}function f(_){const w=_.nextToken(),T=_.context(),{lastOffset:I,lastStartLoc:O}=T,C=o(8,I,O);return w.type!==12?(r(_,kt.UNEXPECTED_EMPTY_LINKED_MODIFIER,T.lastStartLoc,0),C.value="",a(C,I,O),{nextConsumeToken:w,node:C}):(w.value==null&&r(_,kt.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,Ks(w)),C.value=w.value||"",a(C,_.currentOffset(),_.currentPosition()),{node:C})}function y(_,w){const T=_.context(),I=o(7,T.offset,T.startLoc);return I.value=w,a(I,_.currentOffset(),_.currentPosition()),I}function g(_){const w=_.context(),T=o(6,w.offset,w.startLoc);let I=_.nextToken();if(I.type===9){const O=f(_);T.modifier=O.node,I=O.nextConsumeToken||_.nextToken()}switch(I.type!==10&&r(_,kt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ks(I)),I=_.nextToken(),I.type===2&&(I=_.nextToken()),I.type){case 11:I.value==null&&r(_,kt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ks(I)),T.key=y(_,I.value||"");break;case 5:I.value==null&&r(_,kt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ks(I)),T.key=p(_,I.value||"");break;case 6:I.value==null&&r(_,kt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ks(I)),T.key=c(_,I.value||"");break;case 7:I.value==null&&r(_,kt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ks(I)),T.key=d(_,I.value||"");break;default:{r(_,kt.UNEXPECTED_EMPTY_LINKED_KEY,w.lastStartLoc,0);const O=_.context(),C=o(7,O.offset,O.startLoc);return C.value="",a(C,O.offset,O.startLoc),T.key=C,a(T,O.offset,O.startLoc),{nextConsumeToken:I,node:T}}}return a(T,_.currentOffset(),_.currentPosition()),{node:T}}function b(_){const w=_.context(),T=w.currentType===1?_.currentOffset():w.offset,I=w.currentType===1?w.endLoc:w.startLoc,O=o(2,T,I);O.items=[];let C=null,R=null;do{const j=C||_.nextToken();switch(C=null,j.type){case 0:j.value==null&&r(_,kt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ks(j)),O.items.push(l(_,j.value||""));break;case 6:j.value==null&&r(_,kt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ks(j)),O.items.push(c(_,j.value||""));break;case 4:R=!0;break;case 5:j.value==null&&r(_,kt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ks(j)),O.items.push(p(_,j.value||"",!!R)),R&&(s(_,BA.USE_MODULO_SYNTAX,w.lastStartLoc,0,Ks(j)),R=null);break;case 7:j.value==null&&r(_,kt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ks(j)),O.items.push(d(_,j.value||""));break;case 8:{const $=g(_);O.items.push($.node),C=$.nextConsumeToken||null;break}}}while(w.currentType!==14&&w.currentType!==1);const D=w.currentType===1?w.lastOffset:_.currentOffset(),U=w.currentType===1?w.lastEndLoc:_.currentPosition();return a(O,D,U),O}function x(_,w,T,I){const O=_.context();let C=I.items.length===0;const R=o(1,w,T);R.cases=[],R.cases.push(I);do{const D=b(_);C||(C=D.items.length===0),R.cases.push(D)}while(O.currentType!==14);return C&&r(_,kt.MUST_HAVE_MESSAGES_IN_PLURAL,T,0),a(R,_.currentOffset(),_.currentPosition()),R}function A(_){const w=_.context(),{offset:T,startLoc:I}=w,O=b(_);return w.currentType===14?O:x(_,T,I,O)}function M(_){const w=Uyt(_,Kj({},t)),T=w.context(),I=o(0,T.offset,T.startLoc);return e&&I.loc&&(I.loc.source=_),I.body=A(w),t.onCacheKey&&(I.cacheKey=t.onCacheKey(_)),T.currentType!==14&&r(w,kt.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,_[T.offset]||""),a(I,w.currentOffset(),w.currentPosition()),I}return{parse:M}}function Ks(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"\u2026":e}function qyt(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function i$(t,e){for(let n=0;n<t.length;n++)VA(t[n],e)}function VA(t,e){switch(t.type){case 1:i$(t.cases,e),e.helper("plural");break;case 2:i$(t.items,e);break;case 6:{VA(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function Hyt(t,e={}){const n=qyt(t);n.helper("normalize"),t.body&&VA(t.body,n);const i=n.context();t.helpers=Array.from(i.helpers)}function Yyt(t){const e=t.body;return e.type===2?r$(e):e.cases.forEach(n=>r$(n)),t}function r$(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const i=t.items[n];if(!(i.type===3||i.type===9)||i.value==null)break;e.push(i.value)}if(e.length===t.items.length){t.static=e$(e);for(let n=0;n<t.items.length;n++){const i=t.items[n];(i.type===3||i.type===9)&&delete i.value}}}}const Jyt="minifier";function Wp(t){switch(t.t=t.type,t.type){case 0:{const e=t;Wp(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let i=0;i<n.length;i++)Wp(n[i]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let i=0;i<n.length;i++)Wp(n[i]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Wp(e.key),e.k=e.key,delete e.key,e.modifier&&(Wp(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw zp(kt.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Jyt,args:[t.type]})}delete t.type}const Zyt="parser";function Xyt(t,e){const{filename:n,breakLineCode:i,needIndent:r}=e,s=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:r,indentLevel:0};s&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(y,g){o.code+=y}function c(y,g=!0){const b=g?i:"";l(r?b+"  ".repeat(y):b)}function p(y=!0){const g=++o.indentLevel;y&&c(g)}function d(y=!0){const g=--o.indentLevel;y&&c(g)}function f(){c(o.indentLevel)}return{context:a,push:l,indent:p,deindent:d,newline:f,helper:y=>`_${y}`,needIndent:()=>o.needIndent}}function Qyt(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),qp(t,e.key),e.modifier?(t.push(", "),qp(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Kyt(t,e){const{helper:n,needIndent:i}=t;t.push(`${n("normalize")}([`),t.indent(i());const r=e.items.length;for(let s=0;s<r&&(qp(t,e.items[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}function tgt(t,e){const{helper:n,needIndent:i}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(i());const r=e.cases.length;for(let s=0;s<r&&(qp(t,e.cases[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}}function egt(t,e){e.body?qp(t,e.body):t.push("null")}function qp(t,e){const{helper:n}=t;switch(e.type){case 0:egt(t,e);break;case 1:tgt(t,e);break;case 2:Kyt(t,e);break;case 6:Qyt(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw zp(kt.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Zyt,args:[e.type]})}}const ngt=(t,e={})=>{const n=t$(e.mode)?e.mode:"normal",i=t$(e.filename)?e.filename:"message.intl";e.sourceMap;const r=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,s=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],a=Xyt(t,{filename:i,breakLineCode:r,needIndent:s});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(s),o.length>0&&(a.push(`const { ${e$(o.map(p=>`${p}: _${p}`),", ")} } = ctx`),a.newline()),a.push("return "),qp(a,t),a.deindent(s),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function igt(t,e={}){const n=Kj({},e),i=!!n.jit,r=!!n.minify,s=n.optimize==null?!0:n.optimize,o=Wyt(n).parse(t);return i?(s&&Yyt(o),r&&Wp(o),{ast:o,code:""}):(Hyt(o,n),ngt(o,n))}var rgt={NODE_ENV:"production"};function sgt(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ca().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ca().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ca().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function No(t){return de(t)&&zA(t)===0&&(Qs(t,"b")||Qs(t,"body"))}const s$=["b","body"];function ogt(t){return tc(t,s$)}const o$=["c","cases"];function agt(t){return tc(t,o$,[])}const a$=["s","static"];function lgt(t){return tc(t,a$)}const l$=["i","items"];function cgt(t){return tc(t,l$,[])}const c$=["t","type"];function zA(t){return tc(t,c$)}const u$=["v","value"];function Ob(t,e){const n=tc(t,u$);if(n!=null)return n;throw c0(e)}const h$=["m","modifier"];function ugt(t){return tc(t,h$)}const p$=["k","key"];function hgt(t){const e=tc(t,p$);if(e)return e;throw c0(6)}function tc(t,e,n){for(let i=0;i<e.length;i++){const r=e[i];if(Qs(t,r)&&t[r]!=null)return t[r]}return n}const d$=[...s$,...o$,...a$,...l$,...p$,...h$,...u$,...c$];function c0(t){return new Error(`unhandled node type: ${t}`)}const ec=[];ec[0]={w:[0],i:[3,0],"[":[4],o:[7]},ec[1]={w:[1],".":[2],"[":[4],o:[7]},ec[2]={w:[2],i:[3,0],0:[3,0]},ec[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},ec[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},ec[5]={"'":[4,0],o:8,l:[5,0]},ec[6]={'"':[4,0],o:8,l:[6,0]};const pgt=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function dgt(t){return pgt.test(t)}function fgt(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function mgt(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function ygt(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:dgt(e)?fgt(e):"*"+e}function ggt(t){const e=[];let n=-1,i=0,r=0,s,o,a,l,c,p,d;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),r++},f[3]=()=>{if(r>0)r--,i=4,f[0]();else{if(r=0,o===void 0||(o=ygt(o),o===!1))return!1;f[1]()}};function y(){const g=t[n+1];if(i===5&&g==="'"||i===6&&g==='"')return n++,a="\\"+g,f[0](),!0}for(;i!==null;)if(n++,s=t[n],!(s==="\\"&&y())){if(l=mgt(s),d=ec[i],c=d[l]||d.l||8,c===8||(i=c[0],c[1]!==void 0&&(p=f[c[1]],p&&(a=s,p()===!1))))return;if(i===7)return e}}const f$=new Map;function vgt(t,e){return de(t)?t[e]:null}function bgt(t,e){if(!de(t))return null;let n=f$.get(e);if(n||(n=ggt(e),n&&f$.set(e,n)),!n)return null;const i=n.length;let r=t,s=0;for(;s<i;){const o=n[s];if(d$.includes(o)&&No(r))return null;const a=r[o];if(a===void 0||$e(r))return null;r=a,s++}return r}const wgt=t=>t,_gt=t=>"",xgt="text",Egt=t=>t.length===0?"":Iyt(t),Sgt=Tyt;function m$(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function Agt(t){const e=Pn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Pn(t.named.count)||Pn(t.named.n))?Pn(t.named.count)?t.named.count:Pn(t.named.n)?t.named.n:e:e}function Mgt(t,e){e.count||(e.count=t),e.n||(e.n=t)}function Tgt(t={}){const e=t.locale,n=Agt(t),i=de(t.pluralRules)&&gt(e)&&$e(t.pluralRules[e])?t.pluralRules[e]:m$,r=de(t.pluralRules)&&gt(e)&&$e(t.pluralRules[e])?m$:void 0,s=x=>x[i(n,x.length,r)],o=t.list||[],a=x=>o[x],l=t.named||ke();Pn(t.pluralIndex)&&Mgt(n,l);const c=x=>l[x];function p(x){return($e(t.messages)?t.messages(x):de(t.messages)?t.messages[x]:!1)||(t.parent?t.parent.message(x):_gt)}const d=x=>t.modifiers?t.modifiers[x]:wgt,f=Gt(t.processor)&&$e(t.processor.normalize)?t.processor.normalize:Egt,y=Gt(t.processor)&&$e(t.processor.interpolate)?t.processor.interpolate:Sgt,g=Gt(t.processor)&&gt(t.processor.type)?t.processor.type:xgt,b={list:a,named:c,plural:s,linked:(x,...A)=>{const[M,_]=A;let w="text",T="";A.length===1?de(M)?(T=M.modifier||T,w=M.type||w):gt(M)&&(T=M||T):A.length===2&&(gt(M)&&(T=M||T),gt(_)&&(w=_||w));const I=p(x)(b),O=w==="vnode"&&Ye(I)&&T?I[0]:I;return T?d(T)(O,w):O},message:p,type:g,interpolate:y,normalize:f,values:mi(ke(),o,l)};return b}let u0=null;function Igt(t){u0=t}function Ngt(t,e,n){u0&&u0.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const Ogt=Cgt("function:translate");function Cgt(t){return e=>u0&&u0.emit(t,e)}const kgt=BA.__EXTEND_POINT__,Iu=Mb(kgt),Rgt={FALLBACK_TO_TRANSLATE:Iu(),CANNOT_FORMAT_NUMBER:Iu(),FALLBACK_TO_NUMBER_FORMAT:Iu(),CANNOT_FORMAT_DATE:Iu(),FALLBACK_TO_DATE_FORMAT:Iu(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Iu(),__EXTEND_POINT__:Iu()},y$=kt.__EXTEND_POINT__,Nu=Mb(y$),to={INVALID_ARGUMENT:y$,INVALID_DATE_ARGUMENT:Nu(),INVALID_ISO_DATE_ARGUMENT:Nu(),NOT_SUPPORT_NON_STRING_MESSAGE:Nu(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Nu(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Nu(),NOT_SUPPORT_LOCALE_TYPE:Nu(),__EXTEND_POINT__:Nu()};function Oo(t){return zp(t,null,void 0)}function WA(t,e){return e.locale!=null?g$(e.locale):g$(t.locale)}let qA;function g$(t){if(gt(t))return t;if($e(t)){if(t.resolvedOnce&&qA!=null)return qA;if(t.constructor.name==="Function"){const e=t();if(Myt(e))throw Oo(to.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return qA=e}else throw Oo(to.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Oo(to.NOT_SUPPORT_LOCALE_TYPE)}function Lgt(t,e,n){return[...new Set([n,...Ye(e)?e:de(e)?Object.keys(e):gt(e)?[e]:[n]])]}function v$(t,e,n){const i=gt(n)?n:Hp,r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let s=r.__localeChainCache.get(i);if(!s){s=[];let o=[n];for(;Ye(o);)o=b$(s,o,e);const a=Ye(e)||!Gt(e)?e:e.default?e.default:null;o=gt(a)?[a]:a,Ye(o)&&b$(s,o,!1),r.__localeChainCache.set(i,s)}return s}function b$(t,e,n){let i=!0;for(let r=0;r<e.length&&Xt(i);r++){const s=e[r];gt(s)&&(i=Pgt(t,e[r],n))}return i}function Pgt(t,e,n){let i;const r=e.split("-");do{const s=r.join("-");i=Dgt(t,s,n),r.splice(-1,1)}while(r.length&&i===!0);return i}function Dgt(t,e,n){let i=!1;if(!t.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const r=e.replace(/!/g,"");t.push(r),(Ye(n)||Gt(n))&&n[r]&&(i=n[r])}return i}const Fgt="9.14.5",Cb=-1,Hp="en-US",w$="",_$=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function jgt(){return{upper:(t,e)=>e==="text"&&gt(t)?t.toUpperCase():e==="vnode"&&de(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&gt(t)?t.toLowerCase():e==="vnode"&&de(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&gt(t)?_$(t):e==="vnode"&&de(t)&&"__v_isVNode"in t?_$(t.children):t}}let x$;function E$(t){x$=t}let S$;function $gt(t){S$=t}let A$;function Ggt(t){A$=t}let M$=null;const OMt=t=>{M$=t},Ugt=()=>M$;let T$=null;const I$=t=>{T$=t},Bgt=()=>T$;let N$=0;function Vgt(t={}){const e=$e(t.onWarn)?t.onWarn:byt,n=gt(t.version)?t.version:Fgt,i=gt(t.locale)||$e(t.locale)?t.locale:Hp,r=$e(i)?Hp:i,s=Ye(t.fallbackLocale)||Gt(t.fallbackLocale)||gt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,o=Gt(t.messages)?t.messages:HA(r),a=Gt(t.datetimeFormats)?t.datetimeFormats:HA(r),l=Gt(t.numberFormats)?t.numberFormats:HA(r),c=mi(ke(),t.modifiers,jgt()),p=t.pluralRules||ke(),d=$e(t.missing)?t.missing:null,f=Xt(t.missingWarn)||Ql(t.missingWarn)?t.missingWarn:!0,y=Xt(t.fallbackWarn)||Ql(t.fallbackWarn)?t.fallbackWarn:!0,g=!!t.fallbackFormat,b=!!t.unresolving,x=$e(t.postTranslation)?t.postTranslation:null,A=Gt(t.processor)?t.processor:null,M=Xt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,_=!!t.escapeParameter,w=$e(t.messageCompiler)?t.messageCompiler:x$,T=$e(t.messageResolver)?t.messageResolver:S$||vgt,I=$e(t.localeFallbacker)?t.localeFallbacker:A$||Lgt,O=de(t.fallbackContext)?t.fallbackContext:void 0,C=t,R=de(C.__datetimeFormatters)?C.__datetimeFormatters:new Map,D=de(C.__numberFormatters)?C.__numberFormatters:new Map,U=de(C.__meta)?C.__meta:{};N$++;const j={version:n,cid:N$,locale:i,fallbackLocale:s,messages:o,modifiers:c,pluralRules:p,missing:d,missingWarn:f,fallbackWarn:y,fallbackFormat:g,unresolving:b,postTranslation:x,processor:A,warnHtmlMessage:M,escapeParameter:_,messageCompiler:w,messageResolver:T,localeFallbacker:I,fallbackContext:O,onWarn:e,__meta:U};return j.datetimeFormats=a,j.numberFormats=l,j.__datetimeFormatters=R,j.__numberFormatters=D,__INTLIFY_PROD_DEVTOOLS__&&Ngt(j,n,U),j}const HA=t=>({[t]:ke()});function YA(t,e,n,i,r){const{missing:s,onWarn:o}=t;if(s!==null){const a=s(t,n,e,r);return gt(a)?a:e}else return e}function h0(t,e,n){const i=t;i.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function zgt(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function Wgt(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let i=n+1;i<e.length;i++)if(zgt(t,e[i]))return!0;return!1}function JA(t){return e=>qgt(e,t)}function qgt(t,e){const n=ogt(e);if(n==null)throw c0(0);if(zA(n)===1){const i=agt(n);return t.plural(i.reduce((r,s)=>[...r,O$(t,s)],[]))}else return O$(t,n)}function O$(t,e){const n=lgt(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const i=cgt(e).reduce((r,s)=>[...r,ZA(t,s)],[]);return t.normalize(i)}}function ZA(t,e){const n=zA(e);switch(n){case 3:return Ob(e,n);case 9:return Ob(e,n);case 4:{const i=e;if(Qs(i,"k")&&i.k)return t.interpolate(t.named(i.k));if(Qs(i,"key")&&i.key)return t.interpolate(t.named(i.key));throw c0(n)}case 5:{const i=e;if(Qs(i,"i")&&Pn(i.i))return t.interpolate(t.list(i.i));if(Qs(i,"index")&&Pn(i.index))return t.interpolate(t.list(i.index));throw c0(n)}case 6:{const i=e,r=ugt(i),s=hgt(i);return t.linked(ZA(t,s),r?ZA(t,r):void 0,t.type)}case 7:return Ob(e,n);case 8:return Ob(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const C$=t=>t;let Yp=ke();function k$(t,e={}){let n=!1;const i=e.onError||Pyt;return e.onError=r=>{n=!0,i(r)},{...igt(t,e),detectError:n}}const Hgt=(t,e)=>{if(!gt(t))throw Oo(to.NOT_SUPPORT_NON_STRING_MESSAGE);{Xt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||C$)(t),i=Yp[n];if(i)return i;const{code:r,detectError:s}=k$(t,e),o=new Function(`return ${r}`)();return s?o:Yp[n]=o}};function Ygt(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&gt(t)){Xt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||C$)(t),i=Yp[n];if(i)return i;const{ast:r,detectError:s}=k$(t,{...e,location:rgt.NODE_ENV!=="production",jit:!0}),o=JA(r);return s?o:Yp[n]=o}else{const n=t.cacheKey;return n?Yp[n]||(Yp[n]=JA(t)):JA(t)}}const R$=()=>"",gs=t=>$e(t);function L$(t,...e){const{fallbackFormat:n,postTranslation:i,unresolving:r,messageCompiler:s,fallbackLocale:o,messages:a}=t,[l,c]=XA(...e),p=Xt(c.missingWarn)?c.missingWarn:t.missingWarn,d=Xt(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=Xt(c.escapeParameter)?c.escapeParameter:t.escapeParameter,y=!!c.resolvedMessage,g=gt(c.default)||Xt(c.default)?Xt(c.default)?s?l:()=>l:c.default:n?s?l:()=>l:"",b=n||g!=="",x=WA(t,c);f&&Jgt(c);let[A,M,_]=y?[l,x,a[x]||ke()]:P$(t,l,x,o,d,p),w=A,T=l;if(!y&&!(gt(w)||No(w)||gs(w))&&b&&(w=g,T=w),!y&&(!(gt(w)||No(w)||gs(w))||!gt(M)))return r?Cb:l;let I=!1;const O=()=>{I=!0},C=gs(w)?w:D$(t,l,M,w,T,O);if(I)return w;const R=Qgt(t,M,_,c),D=Tgt(R),U=Zgt(t,C,D);let j=i?i(U,l):U;if(f&&gt(j)&&(j=Syt(j)),__INTLIFY_PROD_DEVTOOLS__){const $={timestamp:Date.now(),key:gt(l)?l:gs(w)?w.key:"",locale:M||(gs(w)?w.locale:""),format:gt(w)?w:gs(w)?w.source:"",message:j};$.meta=mi({},t.__meta,Ugt()||{}),Ogt($)}return j}function Jgt(t){Ye(t.list)?t.list=t.list.map(e=>gt(e)?Yj(e):e):de(t.named)&&Object.keys(t.named).forEach(e=>{gt(t.named[e])&&(t.named[e]=Yj(t.named[e]))})}function P$(t,e,n,i,r,s){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,p=c(t,i,n);let d=ke(),f,y=null;const g="translate";for(let b=0;b<p.length&&(f=p[b],d=o[f]||ke(),(y=l(d,e))===null&&(y=d[e]),!(gt(y)||No(y)||gs(y)));b++)if(!Wgt(f,p)){const x=YA(t,e,f,s,g);x!==e&&(y=x)}return[y,f,d]}function D$(t,e,n,i,r,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(gs(i)){const c=i;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=()=>i;return c.locale=n,c.key=e,c}const l=o(i,Xgt(t,n,r,i,a,s));return l.locale=n,l.key=e,l.source=i,l}function Zgt(t,e,n){return e(n)}function XA(...t){const[e,n,i]=t,r=ke();if(!gt(e)&&!Pn(e)&&!gs(e)&&!No(e))throw Oo(to.INVALID_ARGUMENT);const s=Pn(e)?String(e):(gs(e),e);return Pn(n)?r.plural=n:gt(n)?r.default=n:Gt(n)&&!Ab(n)?r.named=n:Ye(n)&&(r.list=n),Pn(i)?r.plural=i:gt(i)?r.default=i:Gt(i)&&mi(r,i),[s,r]}function Xgt(t,e,n,i,r,s){return{locale:e,key:n,warnHtmlMessage:r,onError:o=>{throw s&&s(o),o},onCacheKey:o=>wyt(e,n,o)}}function Qgt(t,e,n,i){const{modifiers:r,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:p}=t,d={locale:e,modifiers:r,pluralRules:s,messages:f=>{let y=o(n,f);if(y==null&&p){const[,,g]=P$(p,f,e,a,l,c);y=o(g,f)}if(gt(y)||No(y)){let g=!1;const b=D$(t,f,e,y,f,()=>{g=!0});return g?R$:b}else return gs(y)?y:R$}};return t.processor&&(d.processor=t.processor),i.list&&(d.list=i.list),i.named&&(d.named=i.named),Pn(i.plural)&&(d.pluralIndex=i.plural),d}function F$(t,...e){const{datetimeFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,p,d]=QA(...e),f=Xt(p.missingWarn)?p.missingWarn:t.missingWarn;Xt(p.fallbackWarn)?p.fallbackWarn:t.fallbackWarn;const y=!!p.part,g=WA(t,p),b=o(t,r,g);if(!gt(l)||l==="")return new Intl.DateTimeFormat(g,d).format(c);let x={},A,M=null;const _="datetime format";for(let I=0;I<b.length&&(A=b[I],x=n[A]||{},M=x[l],!Gt(M));I++)YA(t,l,A,f,_);if(!Gt(M)||!gt(A))return i?Cb:l;let w=`${A}__${l}`;Ab(d)||(w=`${w}__${JSON.stringify(d)}`);let T=a.get(w);return T||(T=new Intl.DateTimeFormat(A,mi({},M,d)),a.set(w,T)),y?T.formatToParts(c):T.format(c)}const j$=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function QA(...t){const[e,n,i,r]=t,s=ke();let o=ke(),a;if(gt(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Oo(to.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Oo(to.INVALID_ISO_DATE_ARGUMENT)}}else if(xyt(e)){if(isNaN(e.getTime()))throw Oo(to.INVALID_DATE_ARGUMENT);a=e}else if(Pn(e))a=e;else throw Oo(to.INVALID_ARGUMENT);return gt(n)?s.key=n:Gt(n)&&Object.keys(n).forEach(l=>{j$.includes(l)?o[l]=n[l]:s[l]=n[l]}),gt(i)?s.locale=i:Gt(i)&&(o=i),Gt(r)&&(o=r),[s.key||"",a,s,o]}function $$(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__datetimeFormatters.has(s)&&i.__datetimeFormatters.delete(s)}}function G$(t,...e){const{numberFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,p,d]=KA(...e),f=Xt(p.missingWarn)?p.missingWarn:t.missingWarn;Xt(p.fallbackWarn)?p.fallbackWarn:t.fallbackWarn;const y=!!p.part,g=WA(t,p),b=o(t,r,g);if(!gt(l)||l==="")return new Intl.NumberFormat(g,d).format(c);let x={},A,M=null;const _="number format";for(let I=0;I<b.length&&(A=b[I],x=n[A]||{},M=x[l],!Gt(M));I++)YA(t,l,A,f,_);if(!Gt(M)||!gt(A))return i?Cb:l;let w=`${A}__${l}`;Ab(d)||(w=`${w}__${JSON.stringify(d)}`);let T=a.get(w);return T||(T=new Intl.NumberFormat(A,mi({},M,d)),a.set(w,T)),y?T.formatToParts(c):T.format(c)}const U$=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function KA(...t){const[e,n,i,r]=t,s=ke();let o=ke();if(!Pn(e))throw Oo(to.INVALID_ARGUMENT);const a=e;return gt(n)?s.key=n:Gt(n)&&Object.keys(n).forEach(l=>{U$.includes(l)?o[l]=n[l]:s[l]=n[l]}),gt(i)?s.locale=i:Gt(i)&&(o=i),Gt(r)&&(o=r),[s.key||"",a,s,o]}function B$(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__numberFormatters.has(s)&&i.__numberFormatters.delete(s)}}sgt();var Kgt={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ramp4-pcar4",GRADLE_HOME:"/usr/share/gradle-9.3.0",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/29.0.14206865",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"57148724",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"2018",ACTIONS_ORCHESTRATION_ID:"7c5ca99a-6baf-4697-a4a2-8cfc1070a51b.build.__default",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",JAVA_HOME_25_X64:"/usr/lib/jvm/temurin-25-jdk-amd64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20260126.10.1",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.12/x64",JOURNAL_STREAM:"9:15440",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.12/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GOROOT_1_25_X64:"/opt/hostedtoolcache/go/1.25.6/x64",GITHUB_RUN_ID:"21676904029",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"5d0b633fc354874b94f79c8608a0ee64b40170eb",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_config_ignore_scripts:"true",GITHUB_WORKFLOW_REF:"ramp4-pcar4/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/main",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9tYWluXCIsXCJQZXJtaXNzaW9uXCI6M31dIiwiYWNzbCI6IjEwIiwiYXVkIjoidnNvOmRjOGU3ZTRkLTRkNDUtNDhkMC1iZjhhLTZiZDRjNmMyNDYwNyIsImJpbGxpbmdfb3duZXJfaWQiOiJPX2tnRE9BMmdGTkEiLCJleHAiOjE3NzAyNDAxOTMsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcHJpbWFyeXNpZCI6ImRkZGRkZGRkLWRkZGQtZGRkZC1kZGRkLWRkZGRkZGRkZGRkZCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL3NpZCI6ImRkZGRkZGRkLWRkZGQtZGRkZC1kZGRkLWRkZGRkZGRkZGRkZCIsImlhdCI6MTc3MDIxNzk5MywiaXNzIjoiaHR0cHM6Ly90b2tlbi5hY3Rpb25zLmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImpvYl9pZCI6IjJiNDQ2ZDRjLTY4YTQtNWJhMy1hOGYxLTQ0N2YyYTdkYjEwOSIsIm5hbWVpZCI6ImRkZGRkZGRkLWRkZGQtZGRkZC1kZGRkLWRkZGRkZGRkZGRkZCIsIm5iZiI6MTc3MDIxNzY5Mywib2lkY19leHRyYSI6IntcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcImFjdG9yX2lkXCI6XCI3NTg1MjQ1XCIsXCJiYXNlX3JlZlwiOlwiXCIsXCJjaGVja19ydW5faWRcIjpcIjYyNDk5NzU5OTkyXCIsXCJlbnZpcm9ubWVudFwiOlwiZ2l0aHViLXBhZ2VzXCIsXCJlbnZpcm9ubWVudF9ub2RlX2lkXCI6XCJFTl9rd0RPRFFQWldjNGVFeDJaXCIsXCJldmVudF9uYW1lXCI6XCJwdXNoXCIsXCJoZWFkX3JlZlwiOlwiXCIsXCJqb2Jfd29ya2Zsb3dfcmVmXCI6XCJyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNC8uZ2l0aHViL3dvcmtmbG93cy9kZW1vLWJ1aWxkLnltbEByZWZzL2hlYWRzL21haW5cIixcImpvYl93b3JrZmxvd19zaGFcIjpcIjVkMGI2MzNmYzM1NDg3NGI5NGY3OWM4NjA4YTBlZTY0YjQwMTcwZWJcIixcInJlZlwiOlwicmVmcy9oZWFkcy9tYWluXCIsXCJyZWZfcHJvdGVjdGVkXCI6XCJ0cnVlXCIsXCJyZWZfdHlwZVwiOlwiYnJhbmNoXCIsXCJyZXBvc2l0b3J5XCI6XCJyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNFwiLFwicmVwb3NpdG9yeV9pZFwiOlwiMjE4MzU2MDU3XCIsXCJyZXBvc2l0b3J5X293bmVyXCI6XCJyYW1wNC1wY2FyNFwiLFwicmVwb3NpdG9yeV9vd25lcl9pZFwiOlwiNTcxNDg3MjRcIixcInJlcG9zaXRvcnlfdmlzaWJpbGl0eVwiOlwicHVibGljXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicnVuX2lkXCI6XCIyMTY3NjkwNDAyOVwiLFwicnVuX251bWJlclwiOlwiMzEzXCIsXCJydW5uZXJfZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1ob3N0ZWRcIixcInNoYVwiOlwiNWQwYjYzM2ZjMzU0ODc0Yjk0Zjc5Yzg2MDhhMGVlNjRiNDAxNzBlYlwiLFwid29ya2Zsb3dcIjpcIkJ1aWxkIGRlbW8gc2l0ZSBhbmQgZGVwbG95IHRvIEdpdEh1YiBQYWdlc1wiLFwid29ya2Zsb3dfcmVmXCI6XCJyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNC8uZ2l0aHViL3dvcmtmbG93cy9kZW1vLWJ1aWxkLnltbEByZWZzL2hlYWRzL21haW5cIixcIndvcmtmbG93X3NoYVwiOlwiNWQwYjYzM2ZjMzU0ODc0Yjk0Zjc5Yzg2MDhhMGVlNjRiNDAxNzBlYlwifSIsIm9pZGNfc3ViIjoicmVwbzpyYW1wNC1wY2FyNC9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoX2lkIjoiN2M1Y2E5OWEtNmJhZi00Njk3LWE0YTItOGNmYzEwNzBhNTFiLmJ1aWxkLl9fZGVmYXVsdCIsIm93bmVyX2lkIjoiT19rZ0RPQTJnRk5BIiwicGxhbl9pZCI6IjdjNWNhOTlhLTZiYWYtNDY5Ny1hNGEyLThjZmMxMDcwYTUxYiIsInJlcG9zaXRvcnlfaWQiOiIyMTgzNTYwNTciLCJydW5faWQiOiIyMTY3NjkwNDAyOSIsInJ1bl9udW1iZXIiOiIzMTMiLCJydW5fdHlwZSI6ImZ1bGwiLCJydW5uZXJfaWQiOiIxMDAwMDExMTk4IiwicnVubmVyX3R5cGUiOiJob3N0ZWQiLCJzY3AiOiJBY3Rpb25zLlJlc3VsdHM6N2M1Y2E5OWEtNmJhZi00Njk3LWE0YTItOGNmYzEwNzBhNTFiOjJiNDQ2ZDRjLTY4YTQtNWJhMy1hOGYxLTQ0N2YyYTdkYjEwOSBBY3Rpb25zLlJ1bm5lcjo3YzVjYTk5YS02YmFmLTQ2OTctYTRhMi04Y2ZjMTA3MGE1MWI6MmI0NDZkNGMtNjhhNC01YmEzLWE4ZjEtNDQ3ZjJhN2RiMTA5IEFjdGlvbnMuVXBsb2FkQXJ0aWZhY3RzOjdjNWNhOTlhLTZiYWYtNDY5Ny1hNGEyLThjZmMxMDcwYTUxYjoyYjQ0NmQ0Yy02OGE0LTViYTMtYThmMS00NDdmMmE3ZGIxMDkgZ2VuZXJhdGVfaWRfdG9rZW46N2M1Y2E5OWEtNmJhZi00Njk3LWE0YTItOGNmYzEwNzBhNTFiOjJiNDQ2ZDRjLTY4YTQtNWJhMy1hOGYxLTQ0N2YyYTdkYjEwOSBBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCIsInNoYSI6IjVkMGI2MzNmYzM1NDg3NGI5NGY3OWM4NjA4YTBlZTY0YjQwMTcwZWIiLCJ0cnVzdF90aWVyIjoiMiJ9.LJiIqaOw_m5m9eg3EIewbK-xp0RZLwrv5HYb8U_TroQ6-tdkrWa9wHiN3W9CGs72qE5cg7jzpAhDrAsM2Ln82qHWnX6ArVwuzGHAIt82yA2v4q4vIKBOj7i_MVC5__yAupmQiO9PCfSjoqJiUOxcADNQCGpTiT61OqGjXcl59bfBWNboL4bk-Ll_7BVDCjf_GkxYPk7AUa4ajX7R_uoB2zWy9oi_8vgKtwuqm4zfZEvNU2CAduNhYCJ_4P0YcUwbOra_zEopawDTIqIPwNrWuMhSDTGJJdmndK8QoY2HDCKi-8AwDWWp2ZOpq5CeAZhB3Jkanmg4yFC7uu9HCPT14w",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_609e474f-53ae-437c-9b1c-c2d4d76b0c9b",INVOCATION_ID:"ddf0256c24eb41d8bd1fa6c45cc36df4",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"313",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000011198",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ramp4-pcar4/ramp4-pcar4",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"218356057",GITHUB_ACTIONS:"true",npm_package_version:"4.16.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"true",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",GITHUB_SHA:"5d0b633fc354874b94f79c8608a0ee64b40170eb",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/80//idtoken/7c5ca99a-6baf-4697-a4a2-8cfc1070a51b/2b446d4c-68a4-5ba3-a8f1-447f2a7db109?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",PSModulePath:"/root/.local/share/powershell/Modules:/usr/local/share/powershell/Modules:/opt/microsoft/powershell/7/Modules:/usr/share/az_14.6.0",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_c2219e0f-8a28-4d58-9a64-2b334ba4cc49",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const t1t="9.14.5";function e1t(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ca().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ca().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ca().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ca().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ca().__INTLIFY_PROD_DEVTOOLS__=!1)}const n1t=Rgt.__EXTEND_POINT__,Ra=Mb(n1t);Ra(),Ra(),Ra(),Ra(),Ra(),Ra(),Ra(),Ra(),Ra();const V$=to.__EXTEND_POINT__,_r=Mb(V$),ti={UNEXPECTED_RETURN_TYPE:V$,INVALID_ARGUMENT:_r(),MUST_BE_CALL_SETUP_TOP:_r(),NOT_INSTALLED:_r(),NOT_AVAILABLE_IN_LEGACY_MODE:_r(),REQUIRED_VALUE:_r(),INVALID_VALUE:_r(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:_r(),NOT_INSTALLED_WITH_PROVIDE:_r(),UNEXPECTED_ERROR:_r(),NOT_COMPATIBLE_LEGACY_VUE_I18N:_r(),BRIDGE_SUPPORT_VUE_2_ONLY:_r(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:_r(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:_r(),__EXTEND_POINT__:_r()};function si(t,...e){return zp(t,null,void 0)}const tM=Xl("__translateVNode"),eM=Xl("__datetimeParts"),nM=Xl("__numberParts"),z$=Xl("__setPluralRules"),W$=Xl("__injectWithOption"),iM=Xl("__dispose");function p0(t){if(!de(t)||No(t))return t;for(const e in t)if(Qs(t,e))if(!e.includes("."))de(t[e])&&p0(t[e]);else{const n=e.split("."),i=n.length-1;let r=t,s=!1;for(let o=0;o<i;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in r||(r[n[o]]=ke()),!de(r[n[o]])){s=!0;break}r=r[n[o]]}if(s||(No(r)?d$.includes(n[i])||delete t[e]:(r[n[i]]=t[e],delete t[e])),!No(r)){const o=r[n[i]];de(o)&&p0(o)}}return t}function kb(t,e){const{messages:n,__i18n:i,messageResolver:r,flatJson:s}=e,o=Gt(n)?n:Ye(i)?ke():{[t]:ke()};if(Ye(i)&&i.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||ke(),Ib(c,o[l])):Ib(c,o)}else gt(a)&&Ib(JSON.parse(a),o)}),r==null&&s)for(const a in o)Qs(o,a)&&p0(o[a]);return o}function q$(t){return t.type}function H$(t,e,n){let i=de(e.messages)?e.messages:ke();"__i18nGlobal"in n&&(i=kb(t.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const r=Object.keys(i);r.length&&r.forEach(s=>{t.mergeLocaleMessage(s,i[s])});{if(de(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(de(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function Y$(t){return zt(To,null,t,0)}const J$="__INTLIFY_META__",Z$=()=>[],i1t=()=>!1;let X$=0;function Q$(t){return(e,n,i,r)=>t(n,i,kn()||void 0,r)}const CMt=()=>{const t=kn();let e=null;return t&&(e=q$(t)[J$])?{[J$]:e}:null};function rM(t={},e){const{__root:n,__injectWithOption:i}=t,r=n===void 0,s=t.flatJson,o=Sb?Z:Sp,a=!!t.translateExistCompatible;let l=Xt(t.inheritLocale)?t.inheritLocale:!0;const c=o(n&&l?n.locale.value:gt(t.locale)?t.locale:Hp),p=o(n&&l?n.fallbackLocale.value:gt(t.fallbackLocale)||Ye(t.fallbackLocale)||Gt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:c.value),d=o(kb(c.value,t)),f=o(Gt(t.datetimeFormats)?t.datetimeFormats:{[c.value]:{}}),y=o(Gt(t.numberFormats)?t.numberFormats:{[c.value]:{}});let g=n?n.missingWarn:Xt(t.missingWarn)||Ql(t.missingWarn)?t.missingWarn:!0,b=n?n.fallbackWarn:Xt(t.fallbackWarn)||Ql(t.fallbackWarn)?t.fallbackWarn:!0,x=n?n.fallbackRoot:Xt(t.fallbackRoot)?t.fallbackRoot:!0,A=!!t.fallbackFormat,M=$e(t.missing)?t.missing:null,_=$e(t.missing)?Q$(t.missing):null,w=$e(t.postTranslation)?t.postTranslation:null,T=n?n.warnHtmlMessage:Xt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,I=!!t.escapeParameter;const O=n?n.modifiers:Gt(t.modifiers)?t.modifiers:{};let C=t.pluralRules||n&&n.pluralRules,R;R=(()=>{r&&I$(null);const B={version:t1t,locale:c.value,fallbackLocale:p.value,messages:d.value,modifiers:O,pluralRules:C,missing:_===null?void 0:_,missingWarn:g,fallbackWarn:b,fallbackFormat:A,unresolving:!0,postTranslation:w===null?void 0:w,warnHtmlMessage:T,escapeParameter:I,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};B.datetimeFormats=f.value,B.numberFormats=y.value,B.__datetimeFormatters=Gt(R)?R.__datetimeFormatters:void 0,B.__numberFormatters=Gt(R)?R.__numberFormatters:void 0;const q=Vgt(B);return r&&I$(q),q})(),h0(R,c.value,p.value);function D(){return[c.value,p.value,d.value,f.value,y.value]}const U=Wt({get:()=>c.value,set:B=>{c.value=B,R.locale=c.value}}),j=Wt({get:()=>p.value,set:B=>{p.value=B,R.fallbackLocale=p.value,h0(R,c.value,B)}}),$=Wt(()=>d.value),H=Wt(()=>f.value),u=Wt(()=>y.value);function m(){return $e(w)?w:null}function S(B){w=B,R.postTranslation=B}function k(){return M}function V(B){B!==null&&(_=Q$(B)),M=B,R.missing=_}const J=(B,q,ut,bt,Ht,Qt)=>{D();let cn;try{Kgt.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,r||(R.fallbackContext=n?Bgt():void 0),cn=B(R)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(R.fallbackContext=void 0)}if(ut!=="translate exists"&&Pn(cn)&&cn===Cb||ut==="translate exists"&&!cn){const[Fn,nr]=q();return n&&x?bt(n):Ht(Fn)}else{if(Qt(cn))return cn;throw si(ti.UNEXPECTED_RETURN_TYPE)}};function pt(...B){return J(q=>Reflect.apply(L$,null,[q,...B]),()=>XA(...B),"translate",q=>Reflect.apply(q.t,q,[...B]),q=>q,q=>gt(q))}function ot(...B){const[q,ut,bt]=B;if(bt&&!de(bt))throw si(ti.INVALID_ARGUMENT);return pt(q,ut,mi({resolvedMessage:!0},bt||{}))}function It(...B){return J(q=>Reflect.apply(F$,null,[q,...B]),()=>QA(...B),"datetime format",q=>Reflect.apply(q.d,q,[...B]),()=>w$,q=>gt(q))}function Lt(...B){return J(q=>Reflect.apply(G$,null,[q,...B]),()=>KA(...B),"number format",q=>Reflect.apply(q.n,q,[...B]),()=>w$,q=>gt(q))}function Ut(B){return B.map(q=>gt(q)||Pn(q)||Xt(q)?Y$(String(q)):q)}const xe={normalize:Ut,interpolate:B=>B,type:"vnode"};function Pe(...B){return J(q=>{let ut;const bt=q;try{bt.processor=xe,ut=Reflect.apply(L$,null,[bt,...B])}finally{bt.processor=null}return ut},()=>XA(...B),"translate",q=>q[tM](...B),q=>[Y$(q)],q=>Ye(q))}function Ue(...B){return J(q=>Reflect.apply(G$,null,[q,...B]),()=>KA(...B),"number format",q=>q[nM](...B),Z$,q=>gt(q)||Ye(q))}function Pi(...B){return J(q=>Reflect.apply(F$,null,[q,...B]),()=>QA(...B),"datetime format",q=>q[eM](...B),Z$,q=>gt(q)||Ye(q))}function nn(B){C=B,R.pluralRules=C}function Dn(B,q){return J(()=>{if(!B)return!1;const ut=gt(q)?q:c.value,bt=F(ut),Ht=R.messageResolver(bt,B);return a?Ht!=null:No(Ht)||gs(Ht)||gt(Ht)},()=>[B],"translate exists",ut=>Reflect.apply(ut.te,ut,[B,q]),i1t,ut=>Xt(ut))}function vi(B){let q=null;const ut=v$(R,p.value,c.value);for(let bt=0;bt<ut.length;bt++){const Ht=d.value[ut[bt]]||{},Qt=R.messageResolver(Ht,B);if(Qt!=null){q=Qt;break}}return q}function G(B){return vi(B)??(n?n.tm(B)||{}:{})}function F(B){return d.value[B]||{}}function Y(B,q){if(s){const ut={[B]:q};for(const bt in ut)Qs(ut,bt)&&p0(ut[bt]);q=ut[B]}d.value[B]=q,R.messages=d.value}function it(B,q){d.value[B]=d.value[B]||{};const ut={[B]:q};if(s)for(const bt in ut)Qs(ut,bt)&&p0(ut[bt]);q=ut[B],Ib(q,d.value[B]),R.messages=d.value}function et(B){return f.value[B]||{}}function rt(B,q){f.value[B]=q,R.datetimeFormats=f.value,$$(R,B,q)}function dt(B,q){f.value[B]=mi(f.value[B]||{},q),R.datetimeFormats=f.value,$$(R,B,q)}function L(B){return y.value[B]||{}}function P(B,q){y.value[B]=q,R.numberFormats=y.value,B$(R,B,q)}function W(B,q){y.value[B]=mi(y.value[B]||{},q),R.numberFormats=y.value,B$(R,B,q)}X$++,n&&Sb&&(Vn(n.locale,B=>{l&&(c.value=B,R.locale=B,h0(R,c.value,p.value))}),Vn(n.fallbackLocale,B=>{l&&(p.value=B,R.fallbackLocale=B,h0(R,c.value,p.value))}));const X={id:X$,locale:U,fallbackLocale:j,get inheritLocale(){return l},set inheritLocale(B){l=B,B&&n&&(c.value=n.locale.value,p.value=n.fallbackLocale.value,h0(R,c.value,p.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:$,get modifiers(){return O},get pluralRules(){return C||{}},get isGlobal(){return r},get missingWarn(){return g},set missingWarn(B){g=B,R.missingWarn=g},get fallbackWarn(){return b},set fallbackWarn(B){b=B,R.fallbackWarn=b},get fallbackRoot(){return x},set fallbackRoot(B){x=B},get fallbackFormat(){return A},set fallbackFormat(B){A=B,R.fallbackFormat=A},get warnHtmlMessage(){return T},set warnHtmlMessage(B){T=B,R.warnHtmlMessage=B},get escapeParameter(){return I},set escapeParameter(B){I=B,R.escapeParameter=B},t:pt,getLocaleMessage:F,setLocaleMessage:Y,mergeLocaleMessage:it,getPostTranslationHandler:m,setPostTranslationHandler:S,getMissingHandler:k,setMissingHandler:V,[z$]:nn};return X.datetimeFormats=H,X.numberFormats=u,X.rt=ot,X.te=Dn,X.tm=G,X.d=It,X.n=Lt,X.getDateTimeFormat=et,X.setDateTimeFormat=rt,X.mergeDateTimeFormat=dt,X.getNumberFormat=L,X.setNumberFormat=P,X.mergeNumberFormat=W,X[W$]=i,X[tM]=Pe,X[eM]=Pi,X[nM]=Ue,X}function r1t(t){const e=gt(t.locale)?t.locale:Hp,n=gt(t.fallbackLocale)||Ye(t.fallbackLocale)||Gt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,i=$e(t.missing)?t.missing:void 0,r=Xt(t.silentTranslationWarn)||Ql(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=Xt(t.silentFallbackWarn)||Ql(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=Xt(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=Gt(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,p=$e(t.postTranslation)?t.postTranslation:void 0,d=gt(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,y=Xt(t.sync)?t.sync:!0;let g=t.messages;if(Gt(t.sharedMessages)){const I=t.sharedMessages;g=Object.keys(I).reduce((O,C)=>{const R=O[C]||(O[C]={});return mi(R,I[C]),O},g||{})}const{__i18n:b,__root:x,__injectWithOption:A}=t,M=t.datetimeFormats,_=t.numberFormats,w=t.flatJson,T=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:g,flatJson:w,datetimeFormats:M,numberFormats:_,missing:i,missingWarn:r,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:p,warnHtmlMessage:d,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:y,translateExistCompatible:T,__i18n:b,__root:x,__injectWithOption:A}}function sM(t={},e){{const n=rM(r1t(t)),{__extender:i}=t,r={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return Xt(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=Xt(s)?!s:s},get silentFallbackWarn(){return Xt(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=Xt(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[o,a,l]=s,c={};let p=null,d=null;if(!gt(o))throw si(ti.INVALID_ARGUMENT);const f=o;return gt(a)?c.locale=a:Ye(a)?p=a:Gt(a)&&(d=a),Ye(l)?p=l:Gt(l)&&(d=l),Reflect.apply(n.t,n,[f,p||d||{},c])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[o,a,l]=s,c={plural:1};let p=null,d=null;if(!gt(o))throw si(ti.INVALID_ARGUMENT);const f=o;return gt(a)?c.locale=a:Pn(a)?c.plural=a:Ye(a)?p=a:Gt(a)&&(d=a),gt(l)?c.locale=l:Ye(l)?p=l:Gt(l)&&(d=l),Reflect.apply(n.t,n,[f,p||d||{},c])},te(s,o){return n.te(s,o)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,o){n.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){n.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,o){n.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){n.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,o){n.setNumberFormat(s,o)},mergeNumberFormat(s,o){n.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return r.__extender=i,r}}const oM={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function s1t({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===Ie?i.children:[i]],[]):e.reduce((n,i)=>{const r=t[i];return r&&(n[i]=r()),n},ke())}function K$(t){return Ie}const o1t=Zt({name:"i18n-t",props:mi({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Pn(t)||!isNaN(t)}},oM),setup(t,e){const{slots:n,attrs:i}=e,r=t.i18n||Je({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(d=>d!=="_"),o=ke();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=gt(t.plural)?+t.plural:t.plural);const a=s1t(e,s),l=r[tM](t.keypath,a,o),c=mi(ke(),i),p=gt(t.tag)||de(t.tag)?t.tag:K$();return ps(p,c,l)}}}),tG=o1t;function a1t(t){return Ye(t)&&!gt(t[0])}function eG(t,e,n,i){const{slots:r,attrs:s}=e;return()=>{const o={part:!0};let a=ke();t.locale&&(o.locale=t.locale),gt(t.format)?o.key=t.format:de(t.format)&&(gt(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,y)=>n.includes(y)?mi(ke(),f,{[y]:t.format[y]}):f,ke()));const l=i(t.value,o,a);let c=[o.key];Ye(l)?c=l.map((f,y)=>{const g=r[f.type],b=g?g({[f.type]:f.value,index:y,parts:l}):[f.value];return a1t(b)&&(b[0].key=`${f.type}-${y}`),b}):gt(l)&&(c=[l]);const p=mi(ke(),s),d=gt(t.tag)||de(t.tag)?t.tag:K$();return ps(d,p,c)}}const l1t=Zt({name:"i18n-n",props:mi({value:{type:Number,required:!0},format:{type:[String,Object]}},oM),setup(t,e){const n=t.i18n||Je({useScope:t.scope,__useComponent:!0});return eG(t,e,U$,(...i)=>n[nM](...i))}}),nG=l1t,c1t=Zt({name:"i18n-d",props:mi({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},oM),setup(t,e){const n=t.i18n||Je({useScope:t.scope,__useComponent:!0});return eG(t,e,j$,(...i)=>n[eM](...i))}}),iG=c1t;function u1t(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const i=n.__getInstance(e);return i!=null?i.__composer:t.global.__composer}}function h1t(t){const e=n=>{const{instance:i,modifiers:r,value:s}=n;if(!i||!i.$)throw si(ti.UNEXPECTED_ERROR);const o=u1t(t,i.$),a=rG(s);return[Reflect.apply(o.t,o,[...sG(a)]),o]};return{created:(n,i)=>{const[r,s]=e(i);Sb&&t.global===s&&(n.__i18nWatcher=Vn(s.locale,()=>{i.instance&&i.instance.$forceUpdate()})),n.__composer=s,n.textContent=r},unmounted:n=>{Sb&&n.__i18nWatcher&&(n.__i18nWatcher(),n.__i18nWatcher=void 0,delete n.__i18nWatcher),n.__composer&&(n.__composer=void 0,delete n.__composer)},beforeUpdate:(n,{value:i})=>{if(n.__composer){const r=n.__composer,s=rG(i);n.textContent=Reflect.apply(r.t,r,[...sG(s)])}},getSSRProps:n=>{const[i]=e(n);return{textContent:i}}}}function rG(t){if(gt(t))return{path:t};if(Gt(t)){if(!("path"in t))throw si(ti.REQUIRED_VALUE,"path");return t}else throw si(ti.INVALID_VALUE)}function sG(t){const{path:e,locale:n,args:i,choice:r,plural:s}=t,o={},a=i||{};return gt(n)&&(o.locale=n),Pn(r)&&(o.plural=r),Pn(s)&&(o.plural=s),[e,a,o]}function p1t(t,e,...n){const i=Gt(n[0])?n[0]:{},r=!!i.useI18nComponentName;(!Xt(i.globalInstall)||i.globalInstall)&&([r?"i18n":tG.name,"I18nT"].forEach(s=>t.component(s,tG)),[nG.name,"I18nN"].forEach(s=>t.component(s,nG)),[iG.name,"I18nD"].forEach(s=>t.component(s,iG))),t.directive("t",h1t(e))}function d1t(t,e,n){return{beforeCreate(){const i=kn();if(!i)throw si(ti.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const s=r.i18n;if(r.__i18n&&(s.__i18n=r.__i18n),s.__root=e,this===this.$root)this.$i18n=oG(t,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=sM(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=oG(t,r);else{this.$i18n=sM({__i18n:r.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;r.__i18nGlobal&&H$(e,r,r),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=kn();if(!i)throw si(ti.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),n.__deleteInstance(i),delete this.$i18n}}}function oG(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[z$](e.pluralizationRules||t.pluralizationRules);const n=kb(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(i=>t.mergeLocaleMessage(i,n[i])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(i=>t.mergeDateTimeFormat(i,e.datetimeFormats[i])),e.numberFormats&&Object.keys(e.numberFormats).forEach(i=>t.mergeNumberFormat(i,e.numberFormats[i])),t}const f1t=Xl("global-vue-i18n");function m1t(t={},e){const n=__VUE_I18N_LEGACY_API__&&Xt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,i=Xt(t.globalInjection)?t.globalInjection:!0,r=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,s=new Map,[o,a]=y1t(t,n),l=Xl("");function c(f){return s.get(f)||null}function p(f,y){s.set(f,y)}function d(f){s.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return r},async install(y,...g){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,f),Gt(g[0])){const A=g[0];f.__composerExtend=A.__composerExtend,f.__vueI18nExtend=A.__vueI18nExtend}let b=null;!n&&i&&(b=A1t(y,f.global)),__VUE_I18N_FULL_INSTALL__&&p1t(y,f,...g),__VUE_I18N_LEGACY_API__&&n&&y.mixin(d1t(a,a.__composer,f));const x=y.unmount;y.unmount=()=>{b&&b(),f.dispose(),x()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:c,__setInstance:p,__deleteInstance:d};return f}}function Je(t={}){const e=kn();if(e==null)throw si(ti.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw si(ti.NOT_INSTALLED);const n=g1t(e),i=b1t(n),r=q$(e),s=v1t(t,r);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw si(ti.NOT_AVAILABLE_IN_LEGACY_MODE);return E1t(e,s,i,t)}if(s==="global")return H$(i,t,r),i;if(s==="parent"){let l=w1t(n,e,t.__useComponent);return l==null&&(l=i),l}const o=n;let a=o.__getInstance(e);if(a==null){const l=mi({},t);"__i18n"in r&&(l.__i18n=r.__i18n),i&&(l.__root=i),a=rM(l),o.__composerExtend&&(a[iM]=o.__composerExtend(a)),x1t(o,e,a),o.__setInstance(e,a)}return a}function y1t(t,e,n){const i=xm();{const r=__VUE_I18N_LEGACY_API__&&e?i.run(()=>sM(t)):i.run(()=>rM(t));if(r==null)throw si(ti.UNEXPECTED_ERROR);return[i,r]}}function g1t(t){{const e=Nn(t.isCE?f1t:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw si(t.isCE?ti.NOT_INSTALLED_WITH_PROVIDE:ti.UNEXPECTED_ERROR);return e}}function v1t(t,e){return Ab(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function b1t(t){return t.mode==="composition"?t.global:t.global.__composer}function w1t(t,e,n=!1){let i=null;const r=e.root;let s=_1t(e,n);for(;s!=null;){const o=t;if(t.mode==="composition")i=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(i=a.__composer,n&&i&&!i[W$]&&(i=null))}if(i!=null||r===s)break;s=s.parent}return i}function _1t(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function x1t(t,e,n){ri(()=>{},e),$l(()=>{const i=n;t.__deleteInstance(e);const r=i[iM];r&&(r(),delete i[iM])},e)}function E1t(t,e,n,i={}){const r=e==="local",s=Sp(null);if(r&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw si(ti.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=Xt(i.inheritLocale)?i.inheritLocale:!gt(i.locale),a=Z(!r||o?n.locale.value:gt(i.locale)?i.locale:Hp),l=Z(!r||o?n.fallbackLocale.value:gt(i.fallbackLocale)||Ye(i.fallbackLocale)||Gt(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:a.value),c=Z(kb(a.value,i)),p=Z(Gt(i.datetimeFormats)?i.datetimeFormats:{[a.value]:{}}),d=Z(Gt(i.numberFormats)?i.numberFormats:{[a.value]:{}}),f=r?n.missingWarn:Xt(i.missingWarn)||Ql(i.missingWarn)?i.missingWarn:!0,y=r?n.fallbackWarn:Xt(i.fallbackWarn)||Ql(i.fallbackWarn)?i.fallbackWarn:!0,g=r?n.fallbackRoot:Xt(i.fallbackRoot)?i.fallbackRoot:!0,b=!!i.fallbackFormat,x=$e(i.missing)?i.missing:null,A=$e(i.postTranslation)?i.postTranslation:null,M=r?n.warnHtmlMessage:Xt(i.warnHtmlMessage)?i.warnHtmlMessage:!0,_=!!i.escapeParameter,w=r?n.modifiers:Gt(i.modifiers)?i.modifiers:{},T=i.pluralRules||r&&n.pluralRules;function I(){return[a.value,l.value,c.value,p.value,d.value]}const O=Wt({get:()=>s.value?s.value.locale.value:a.value,set:F=>{s.value&&(s.value.locale.value=F),a.value=F}}),C=Wt({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:F=>{s.value&&(s.value.fallbackLocale.value=F),l.value=F}}),R=Wt(()=>s.value?s.value.messages.value:c.value),D=Wt(()=>p.value),U=Wt(()=>d.value);function j(){return s.value?s.value.getPostTranslationHandler():A}function $(F){s.value&&s.value.setPostTranslationHandler(F)}function H(){return s.value?s.value.getMissingHandler():x}function u(F){s.value&&s.value.setMissingHandler(F)}function m(F){return I(),F()}function S(...F){return s.value?m(()=>Reflect.apply(s.value.t,null,[...F])):m(()=>"")}function k(...F){return s.value?Reflect.apply(s.value.rt,null,[...F]):""}function V(...F){return s.value?m(()=>Reflect.apply(s.value.d,null,[...F])):m(()=>"")}function J(...F){return s.value?m(()=>Reflect.apply(s.value.n,null,[...F])):m(()=>"")}function pt(F){return s.value?s.value.tm(F):{}}function ot(F,Y){return s.value?s.value.te(F,Y):!1}function It(F){return s.value?s.value.getLocaleMessage(F):{}}function Lt(F,Y){s.value&&(s.value.setLocaleMessage(F,Y),c.value[F]=Y)}function Ut(F,Y){s.value&&s.value.mergeLocaleMessage(F,Y)}function xe(F){return s.value?s.value.getDateTimeFormat(F):{}}function Pe(F,Y){s.value&&(s.value.setDateTimeFormat(F,Y),p.value[F]=Y)}function Ue(F,Y){s.value&&s.value.mergeDateTimeFormat(F,Y)}function Pi(F){return s.value?s.value.getNumberFormat(F):{}}function nn(F,Y){s.value&&(s.value.setNumberFormat(F,Y),d.value[F]=Y)}function Dn(F,Y){s.value&&s.value.mergeNumberFormat(F,Y)}const vi={get id(){return s.value?s.value.id:-1},locale:O,fallbackLocale:C,messages:R,datetimeFormats:D,numberFormats:U,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(F){s.value&&(s.value.inheritLocale=F)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(c.value)},get modifiers(){return s.value?s.value.modifiers:w},get pluralRules(){return s.value?s.value.pluralRules:T},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:f},set missingWarn(F){s.value&&(s.value.missingWarn=F)},get fallbackWarn(){return s.value?s.value.fallbackWarn:y},set fallbackWarn(F){s.value&&(s.value.missingWarn=F)},get fallbackRoot(){return s.value?s.value.fallbackRoot:g},set fallbackRoot(F){s.value&&(s.value.fallbackRoot=F)},get fallbackFormat(){return s.value?s.value.fallbackFormat:b},set fallbackFormat(F){s.value&&(s.value.fallbackFormat=F)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:M},set warnHtmlMessage(F){s.value&&(s.value.warnHtmlMessage=F)},get escapeParameter(){return s.value?s.value.escapeParameter:_},set escapeParameter(F){s.value&&(s.value.escapeParameter=F)},t:S,getPostTranslationHandler:j,setPostTranslationHandler:$,getMissingHandler:H,setMissingHandler:u,rt:k,d:V,n:J,tm:pt,te:ot,getLocaleMessage:It,setLocaleMessage:Lt,mergeLocaleMessage:Ut,getDateTimeFormat:xe,setDateTimeFormat:Pe,mergeDateTimeFormat:Ue,getNumberFormat:Pi,setNumberFormat:nn,mergeNumberFormat:Dn};function G(F){F.locale.value=a.value,F.fallbackLocale.value=l.value,Object.keys(c.value).forEach(Y=>{F.mergeLocaleMessage(Y,c.value[Y])}),Object.keys(p.value).forEach(Y=>{F.mergeDateTimeFormat(Y,p.value[Y])}),Object.keys(d.value).forEach(Y=>{F.mergeNumberFormat(Y,d.value[Y])}),F.escapeParameter=_,F.fallbackFormat=b,F.fallbackRoot=g,F.fallbackWarn=y,F.missingWarn=f,F.warnHtmlMessage=M}return Dm(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw si(ti.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const F=s.value=t.proxy.$i18n.__composer;e==="global"?(a.value=F.locale.value,l.value=F.fallbackLocale.value,c.value=F.messages.value,p.value=F.datetimeFormats.value,d.value=F.numberFormats.value):r&&G(F)}),vi}const S1t=["locale","fallbackLocale","availableLocales"],aG=["t","rt","d","n","tm","te"];function A1t(t,e){const n=Object.create(null);return S1t.forEach(i=>{const r=Object.getOwnPropertyDescriptor(e,i);if(!r)throw si(ti.UNEXPECTED_ERROR);const s=ie(r.value)?{get(){return r.value.value},set(o){r.value.value=o}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,i,s)}),t.config.globalProperties.$i18n=n,aG.forEach(i=>{const r=Object.getOwnPropertyDescriptor(e,i);if(!r||!r.value)throw si(ti.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,r)}),()=>{delete t.config.globalProperties.$i18n,aG.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}if(e1t(),__INTLIFY_JIT_COMPILATION__?E$(Ygt):E$(Hgt),$gt(bgt),Ggt(v$),__INTLIFY_PROD_DEVTOOLS__){const t=Ca();t.__INTLIFY__=!0,Igt(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const M1t={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","ramp.reload":"Reload RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.keyboardNav":"Press the key 'S' then 'H' to view available keyboard shortcuts","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Fran\xE7ais","map.language.curr":"current","map.export":"export map","map.layerSwipe.drag":"Drag and slide to move","map.layerSwipe.label":"Layer swipe","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"fran\xE7ais","lang-native":"Fran\xE7ais","ramp.about.open":"Ouvrir \xC0 propos de PCAR","ramp.about":"\xC0 propos de PCAR","ramp.reload":"Recharger PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous d\xE9placer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un \xE9l\xE9ment de la liste est s\xE9lectionn\xE9, vous pouvez appuyer sur \xAB Espace \xBB ou \xAB Entr\xE9e \xBB pour cliquer sur l'\xE9l\xE9ment. Vous pouvez \xE9galement vous d\xE9placer au sein de l'\xE9l\xE9ment de la liste au moyen de la touche \xAB Tab \xBB.","keyboardInstructions.map":"Lorsque la carte est s\xE9lectionn\xE9e, utilisez le pav\xE9 curseur pour vous d\xE9placer et appuyez sur \xAB Entr\xE9e \xBB  pour s\xE9lectionner un point.","keyboardInstructions.keyboardNav":"Appuyez sur la touche \xAB S \xBB puis \xAB H \xBB pour afficher les raccourcis clavier disponibles","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer \xE0 l'\xE9chelle m\xE9trique","map.toggleScaleToImperial":"Passer \xE0 l'\xE9chelle imp\xE9riale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Fran\xE7ais","map.language.curr":"actuel","map.export":"exporter la carte","map.layerSwipe.drag":"Faites glisser et glissez pour d\xE9placer","map.layerSwipe.label":"Glissement de calque","notifications.open":"Ouvrir la fen\xEAtre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"D\xE9velopper","notifications.controls.collapse":"R\xE9duire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entr\xE9e ou sur la barre d'espacement pour acc\xE9der au panneau","panels.controls.close":"Fermer","panels.controls.pin":"\xC9pingler","panels.controls.unpin":"D\xE9s\xE9pingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"R\xE9duire","panels.controls.expand":"D\xE9velopper","panels.controls.collapse":"R\xE9duire","panels.controls.moveRight":"Aller \xE0 droite","panels.controls.moveLeft":"Aller \xE0 gauche","panels.controls.items":"Utilisez les touches fl\xE9ch\xE9es pour naviguer entre les \xE9l\xE9ments","panels.alert.open":"Fen\xEAtre {name} ouverte","panels.alert.close":"Fen\xEAtre {name} ferm\xE9e","panels.alert.minimize":"Fen\xEAtre {name} r\xE9duite","layer.error":"\xC9chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que pr\xE9vu","layer.longdraw":"{id} prend plus de temps que pr\xE9vu \xE0 extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont \xE9t\xE9 d\xE9sactiv\xE9s pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement d\xE9sactiv\xE9.","layer.noexportmap":"La tentative d\u2019ajouter {name} comme couche d\u2019imagerie cartographique a \xE9chou\xE9e car elle n\u2019a pu \xEAtre activ\xE9 pour ce service","caption.attributionDefaultText":"Propuls\xE9 par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},lG="en",T1t={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function I1t(){return m1t({legacy:!1,locale:document.documentElement.getAttribute("lang")||lG,fallbackLocale:lG,globalInjection:!0,messages:M1t,numberFormats:T1t})}var cG={exports:{}},uG;function N1t(){return uG||(uG=1,function(t){(function(){var e=typeof window<"u"&&typeof window.document<"u"?window.document:{},n=t.exports,i=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,p={};l<c;l++)if(o=a[l],o&&o[1]in e){for(l=0;l<o.length;l++)p[a[0][l]]=o[l];return p}return!1}(),r={change:i.fullscreenchange,error:i.fullscreenerror},s={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||e.documentElement;var p=o[i.requestFullscreen]();p instanceof Promise&&p.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=e[i.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=r[o];l&&e.addEventListener(l,a,!1)},off:function(o,a){var l=r[o];l&&e.removeEventListener(l,a,!1)},raw:i};if(!i){n?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(s,{isFullscreen:{get:function(){return!!e[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!e[i.fullscreenEnabled]}}}),n?t.exports=s:window.screenfull=s})()}(cG)),cG.exports}var O1t=N1t();const Co=F1(O1t);var hG=typeof global=="object"&&global&&global.Object===Object&&global,C1t=typeof self=="object"&&self&&self.Object===Object&&self,ko=hG||C1t||Function("return this")(),Jp=ko.Symbol,pG=Object.prototype,k1t=pG.hasOwnProperty,R1t=pG.toString,d0=Jp?Jp.toStringTag:void 0;function L1t(t){var e=k1t.call(t,d0),n=t[d0];try{t[d0]=void 0;var i=!0}catch{}var r=R1t.call(t);return i&&(e?t[d0]=n:delete t[d0]),r}var P1t=Object.prototype,D1t=P1t.toString;function F1t(t){return D1t.call(t)}var j1t="[object Null]",$1t="[object Undefined]",dG=Jp?Jp.toStringTag:void 0;function f0(t){return t==null?t===void 0?$1t:j1t:dG&&dG in Object(t)?L1t(t):F1t(t)}function m0(t){return t!=null&&typeof t=="object"}var aM=Array.isArray;function Rb(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var G1t="[object AsyncFunction]",U1t="[object Function]",B1t="[object GeneratorFunction]",V1t="[object Proxy]";function fG(t){if(!Rb(t))return!1;var e=f0(t);return e==U1t||e==B1t||e==G1t||e==V1t}var lM=ko["__core-js_shared__"],mG=function(){var t=/[^.]+$/.exec(lM&&lM.keys&&lM.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function z1t(t){return!!mG&&mG in t}var W1t=Function.prototype,q1t=W1t.toString;function Ou(t){if(t!=null){try{return q1t.call(t)}catch{}try{return t+""}catch{}}return""}var H1t=/[\\^$.*+?()[\]{}|]/g,Y1t=/^\[object .+?Constructor\]$/,J1t=Function.prototype,Z1t=Object.prototype,X1t=J1t.toString,Q1t=Z1t.hasOwnProperty,K1t=RegExp("^"+X1t.call(Q1t).replace(H1t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tvt(t){if(!Rb(t)||z1t(t))return!1;var e=fG(t)?K1t:Y1t;return e.test(Ou(t))}function evt(t,e){return t?.[e]}function Cu(t,e){var n=evt(t,e);return tvt(n)?n:void 0}var cM=Cu(ko,"WeakMap"),yG=Object.create,nvt=function(){function t(){}return function(e){if(!Rb(e))return{};if(yG)return yG(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),gG=function(){try{var t=Cu(Object,"defineProperty");return t({},"",{}),t}catch{}}();function ivt(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var rvt=9007199254740991,svt=/^(?:0|[1-9]\d*)$/;function ovt(t,e){var n=typeof t;return e=e??rvt,!!e&&(n=="number"||n!="symbol"&&svt.test(t))&&t>-1&&t%1==0&&t<e}function avt(t,e,n){e=="__proto__"&&gG?gG(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function vG(t,e){return t===e||t!==t&&e!==e}var lvt=Object.prototype,cvt=lvt.hasOwnProperty;function uvt(t,e,n){var i=t[e];(!(cvt.call(t,e)&&vG(i,n))||n===void 0&&!(e in t))&&avt(t,e,n)}var hvt=9007199254740991;function bG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=hvt}function pvt(t){return t!=null&&bG(t.length)&&!fG(t)}var dvt=Object.prototype;function wG(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||dvt;return t===n}function fvt(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var mvt="[object Arguments]";function _G(t){return m0(t)&&f0(t)==mvt}var xG=Object.prototype,yvt=xG.hasOwnProperty,gvt=xG.propertyIsEnumerable,vvt=_G(function(){return arguments}())?_G:function(t){return m0(t)&&yvt.call(t,"callee")&&!gvt.call(t,"callee")};function bvt(){return!1}var EG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,SG=EG&&typeof module=="object"&&module&&!module.nodeType&&module,wvt=SG&&SG.exports===EG,AG=wvt?ko.Buffer:void 0,_vt=AG?AG.isBuffer:void 0,MG=_vt||bvt,xvt="[object Arguments]",Evt="[object Array]",Svt="[object Boolean]",Avt="[object Date]",Mvt="[object Error]",Tvt="[object Function]",Ivt="[object Map]",Nvt="[object Number]",Ovt="[object Object]",Cvt="[object RegExp]",kvt="[object Set]",Rvt="[object String]",Lvt="[object WeakMap]",Pvt="[object ArrayBuffer]",Dvt="[object DataView]",Fvt="[object Float32Array]",jvt="[object Float64Array]",$vt="[object Int8Array]",Gvt="[object Int16Array]",Uvt="[object Int32Array]",Bvt="[object Uint8Array]",Vvt="[object Uint8ClampedArray]",zvt="[object Uint16Array]",Wvt="[object Uint32Array]",Ze={};Ze[Fvt]=Ze[jvt]=Ze[$vt]=Ze[Gvt]=Ze[Uvt]=Ze[Bvt]=Ze[Vvt]=Ze[zvt]=Ze[Wvt]=!0,Ze[xvt]=Ze[Evt]=Ze[Pvt]=Ze[Svt]=Ze[Dvt]=Ze[Avt]=Ze[Mvt]=Ze[Tvt]=Ze[Ivt]=Ze[Nvt]=Ze[Ovt]=Ze[Cvt]=Ze[kvt]=Ze[Rvt]=Ze[Lvt]=!1;function qvt(t){return m0(t)&&bG(t.length)&&!!Ze[f0(t)]}function uM(t){return function(e){return t(e)}}var TG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,y0=TG&&typeof module=="object"&&module&&!module.nodeType&&module,Hvt=y0&&y0.exports===TG,hM=Hvt&&hG.process,Zp=function(){try{var t=y0&&y0.require&&y0.require("util").types;return t||hM&&hM.binding&&hM.binding("util")}catch{}}(),IG=Zp&&Zp.isTypedArray,Yvt=IG?uM(IG):qvt,Jvt=Object.prototype,Zvt=Jvt.hasOwnProperty;function Xvt(t,e){var n=aM(t),i=!n&&vvt(t),r=!n&&!i&&MG(t),s=!n&&!i&&!r&&Yvt(t),o=n||i||r||s,a=o?fvt(t.length,String):[],l=a.length;for(var c in t)Zvt.call(t,c)&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ovt(c,l)))&&a.push(c);return a}function NG(t,e){return function(n){return t(e(n))}}var Qvt=NG(Object.keys,Object),Kvt=Object.prototype,tbt=Kvt.hasOwnProperty;function ebt(t){if(!wG(t))return Qvt(t);var e=[];for(var n in Object(t))tbt.call(t,n)&&n!="constructor"&&e.push(n);return e}function nbt(t){return pvt(t)?Xvt(t):ebt(t)}var g0=Cu(Object,"create");function ibt(){this.__data__=g0?g0(null):{},this.size=0}function rbt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var sbt="__lodash_hash_undefined__",obt=Object.prototype,abt=obt.hasOwnProperty;function lbt(t){var e=this.__data__;if(g0){var n=e[t];return n===sbt?void 0:n}return abt.call(e,t)?e[t]:void 0}var cbt=Object.prototype,ubt=cbt.hasOwnProperty;function hbt(t){var e=this.__data__;return g0?e[t]!==void 0:ubt.call(e,t)}var pbt="__lodash_hash_undefined__";function dbt(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=g0&&e===void 0?pbt:e,this}function ku(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ku.prototype.clear=ibt,ku.prototype.delete=rbt,ku.prototype.get=lbt,ku.prototype.has=hbt,ku.prototype.set=dbt;function fbt(){this.__data__=[],this.size=0}function Lb(t,e){for(var n=t.length;n--;)if(vG(t[n][0],e))return n;return-1}var mbt=Array.prototype,ybt=mbt.splice;function gbt(t){var e=this.__data__,n=Lb(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():ybt.call(e,n,1),--this.size,!0}function vbt(t){var e=this.__data__,n=Lb(e,t);return n<0?void 0:e[n][1]}function bbt(t){return Lb(this.__data__,t)>-1}function wbt(t,e){var n=this.__data__,i=Lb(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function La(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}La.prototype.clear=fbt,La.prototype.delete=gbt,La.prototype.get=vbt,La.prototype.has=bbt,La.prototype.set=wbt;var v0=Cu(ko,"Map");function _bt(){this.size=0,this.__data__={hash:new ku,map:new(v0||La),string:new ku}}function xbt(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Pb(t,e){var n=t.__data__;return xbt(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Ebt(t){var e=Pb(this,t).delete(t);return this.size-=e?1:0,e}function Sbt(t){return Pb(this,t).get(t)}function Abt(t){return Pb(this,t).has(t)}function Mbt(t,e){var n=Pb(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Xp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Xp.prototype.clear=_bt,Xp.prototype.delete=Ebt,Xp.prototype.get=Sbt,Xp.prototype.has=Abt,Xp.prototype.set=Mbt;function Tbt(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var Ibt=NG(Object.getPrototypeOf,Object);function Nbt(){this.__data__=new La,this.size=0}function Obt(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Cbt(t){return this.__data__.get(t)}function kbt(t){return this.__data__.has(t)}var Rbt=200;function Lbt(t,e){var n=this.__data__;if(n instanceof La){var i=n.__data__;if(!v0||i.length<Rbt-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xp(i)}return n.set(t,e),this.size=n.size,this}function Qp(t){var e=this.__data__=new La(t);this.size=e.size}Qp.prototype.clear=Nbt,Qp.prototype.delete=Obt,Qp.prototype.get=Cbt,Qp.prototype.has=kbt,Qp.prototype.set=Lbt;var OG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CG=OG&&typeof module=="object"&&module&&!module.nodeType&&module,Pbt=CG&&CG.exports===OG,kG=Pbt?ko.Buffer:void 0;kG&&kG.allocUnsafe;function Dbt(t,e){return t.slice()}function Fbt(t,e){for(var n=-1,i=t==null?0:t.length,r=0,s=[];++n<i;){var o=t[n];e(o,n,t)&&(s[r++]=o)}return s}function jbt(){return[]}var $bt=Object.prototype,Gbt=$bt.propertyIsEnumerable,RG=Object.getOwnPropertySymbols,Ubt=RG?function(t){return t==null?[]:(t=Object(t),Fbt(RG(t),function(e){return Gbt.call(t,e)}))}:jbt;function Bbt(t,e,n){var i=e(t);return aM(t)?i:Tbt(i,n(t))}function Vbt(t){return Bbt(t,nbt,Ubt)}var pM=Cu(ko,"DataView"),dM=Cu(ko,"Promise"),fM=Cu(ko,"Set"),LG="[object Map]",zbt="[object Object]",PG="[object Promise]",DG="[object Set]",FG="[object WeakMap]",jG="[object DataView]",Wbt=Ou(pM),qbt=Ou(v0),Hbt=Ou(dM),Ybt=Ou(fM),Jbt=Ou(cM),Pa=f0;(pM&&Pa(new pM(new ArrayBuffer(1)))!=jG||v0&&Pa(new v0)!=LG||dM&&Pa(dM.resolve())!=PG||fM&&Pa(new fM)!=DG||cM&&Pa(new cM)!=FG)&&(Pa=function(t){var e=f0(t),n=e==zbt?t.constructor:void 0,i=n?Ou(n):"";if(i)switch(i){case Wbt:return jG;case qbt:return LG;case Hbt:return PG;case Ybt:return DG;case Jbt:return FG}return e});var Zbt=Object.prototype,Xbt=Zbt.hasOwnProperty;function Qbt(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Xbt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var $G=ko.Uint8Array;function mM(t){var e=new t.constructor(t.byteLength);return new $G(e).set(new $G(t)),e}function Kbt(t,e){var n=mM(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)}var t2t=/\w*$/;function e2t(t){var e=new t.constructor(t.source,t2t.exec(t));return e.lastIndex=t.lastIndex,e}var GG=Jp?Jp.prototype:void 0,UG=GG?GG.valueOf:void 0;function n2t(t){return UG?Object(UG.call(t)):{}}function i2t(t,e){var n=mM(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}var r2t="[object Boolean]",s2t="[object Date]",o2t="[object Map]",a2t="[object Number]",l2t="[object RegExp]",c2t="[object Set]",u2t="[object String]",h2t="[object Symbol]",p2t="[object ArrayBuffer]",d2t="[object DataView]",f2t="[object Float32Array]",m2t="[object Float64Array]",y2t="[object Int8Array]",g2t="[object Int16Array]",v2t="[object Int32Array]",b2t="[object Uint8Array]",w2t="[object Uint8ClampedArray]",_2t="[object Uint16Array]",x2t="[object Uint32Array]";function E2t(t,e,n){var i=t.constructor;switch(e){case p2t:return mM(t);case r2t:case s2t:return new i(+t);case d2t:return Kbt(t);case f2t:case m2t:case y2t:case g2t:case v2t:case b2t:case w2t:case _2t:case x2t:return i2t(t);case o2t:return new i;case a2t:case u2t:return new i(t);case l2t:return e2t(t);case c2t:return new i;case h2t:return n2t(t)}}function S2t(t){return typeof t.constructor=="function"&&!wG(t)?nvt(Ibt(t)):{}}var A2t="[object Map]";function M2t(t){return m0(t)&&Pa(t)==A2t}var BG=Zp&&Zp.isMap,T2t=BG?uM(BG):M2t,I2t="[object Set]";function N2t(t){return m0(t)&&Pa(t)==I2t}var VG=Zp&&Zp.isSet,O2t=VG?uM(VG):N2t,zG="[object Arguments]",C2t="[object Array]",k2t="[object Boolean]",R2t="[object Date]",L2t="[object Error]",WG="[object Function]",P2t="[object GeneratorFunction]",D2t="[object Map]",F2t="[object Number]",qG="[object Object]",j2t="[object RegExp]",$2t="[object Set]",G2t="[object String]",U2t="[object Symbol]",B2t="[object WeakMap]",V2t="[object ArrayBuffer]",z2t="[object DataView]",W2t="[object Float32Array]",q2t="[object Float64Array]",H2t="[object Int8Array]",Y2t="[object Int16Array]",J2t="[object Int32Array]",Z2t="[object Uint8Array]",X2t="[object Uint8ClampedArray]",Q2t="[object Uint16Array]",K2t="[object Uint32Array]",Ge={};Ge[zG]=Ge[C2t]=Ge[V2t]=Ge[z2t]=Ge[k2t]=Ge[R2t]=Ge[W2t]=Ge[q2t]=Ge[H2t]=Ge[Y2t]=Ge[J2t]=Ge[D2t]=Ge[F2t]=Ge[qG]=Ge[j2t]=Ge[$2t]=Ge[G2t]=Ge[U2t]=Ge[Z2t]=Ge[X2t]=Ge[Q2t]=Ge[K2t]=!0,Ge[L2t]=Ge[WG]=Ge[B2t]=!1;function Db(t,e,n,i,r,s){var o;if(o!==void 0)return o;if(!Rb(t))return t;var a=aM(t);if(a)o=Qbt(t);else{var l=Pa(t),c=l==WG||l==P2t;if(MG(t))return Dbt(t);if(l==qG||l==zG||c&&!r)o=c?{}:S2t(t);else{if(!Ge[l])return r?t:{};o=E2t(t,l)}}s||(s=new Qp);var p=s.get(t);if(p)return p;s.set(t,o),O2t(t)?t.forEach(function(y){o.add(Db(y,e,n,y,t,s))}):T2t(t)&&t.forEach(function(y,g){o.set(g,Db(y,e,n,g,t,s))});var d=Vbt,f=a?void 0:d(t);return ivt(f||t,function(y,g){f&&(g=y,y=t[g]),uvt(o,g,Db(y,e,n,g,t,s))}),o}var twt=1,ewt=4;function HG(t){return Db(t,twt|ewt)}const Fb=He("maptip",()=>{const t=Z(void 0),e=Z(void 0),n=Z("");function i(o){t.value=o}function r(o){e.value=o}function s(o){n.value=o}return{maptipInstance:t,maptipPoint:e,content:n,setMaptipInstance:i,setMaptipPoint:r,setMaptipContent:s}}),nwt=Zt({__name:"esri-map",setup(t){const e=Fb(),n=Nn("iApi"),i=Wt(()=>e.maptipPoint),r=Wt(()=>e.maptipInstance),s=Wt(()=>e.content),o=Zn([]),a=Z(!1);o.push(Vn(i,()=>{if(i.value){const c=n.geo.map.getPixelWidth()/2,p=0,d=n.geo.map.mapPointToScreenPoint(i.value),f=d.screenX-c,y=p-d.screenY;r.value.setProps({offset:a.value?[f,y+25]:[f,y]}),s.value&&s.value!==""&&r.value.show()}else r.value.hide()})),o.push(Vn(s,c=>{c&&c!==""&&i?(r.value.setContent(c),r.value.show()):r.value.hide()})),us(()=>{o.forEach(c=>c())});const l=()=>{n.geo.map.setMouseFocus()};return(c,p)=>{const d=we("tippy");return be((st(),ft("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:l,onTouchstart:p[0]||(p[0]=f=>a.value=!0),onTouchend:p[1]||(p[1]=f=>a.value=!1),onKeydown:p[2]||(p[2]=nb(Dp(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[d,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var YG={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},yM={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},iwt=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],jb={CSS:{},springs:{}};function Ro(t,e,n){return Math.min(Math.max(t,e),n)}function b0(t,e){return t.indexOf(e)>-1}function gM(t,e){return t.apply(null,e)}var Tt={arr:function(t){return Array.isArray(t)},obj:function(t){return b0(Object.prototype.toString.call(t),"Object")},pth:function(t){return Tt.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||Tt.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t>"u"},nil:function(t){return Tt.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return Tt.hex(t)||Tt.rgb(t)||Tt.hsl(t)},key:function(t){return!YG.hasOwnProperty(t)&&!yM.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function JG(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function ZG(t,e){var n=JG(t),i=Ro(Tt.und(n[0])?1:n[0],.1,100),r=Ro(Tt.und(n[1])?100:n[1],.1,100),s=Ro(Tt.und(n[2])?10:n[2],.1,100),o=Ro(Tt.und(n[3])?0:n[3],.1,100),a=Math.sqrt(r/i),l=s/(2*Math.sqrt(r*i)),c=l<1?a*Math.sqrt(1-l*l):0,p=1,d=l<1?(l*a+-o)/c:-o+a;function f(g){var b=e?e*g/1e3:g;return l<1?b=Math.exp(-b*l*a)*(p*Math.cos(c*b)+d*Math.sin(c*b)):b=(p+d*b)*Math.exp(-b*a),g===0||g===1?g:1-b}function y(){var g=jb.springs[t];if(g)return g;for(var b=1/6,x=0,A=0;;)if(x+=b,f(x)===1){if(A++,A>=16)break}else A=0;var M=x*b*1e3;return jb.springs[t]=M,M}return e?f:y}function rwt(t){return t===void 0&&(t=10),function(e){return Math.ceil(Ro(e,1e-6,1)*t)*(1/t)}}var swt=function(){var t=11,e=1/(t-1);function n(p,d){return 1-3*d+3*p}function i(p,d){return 3*d-6*p}function r(p){return 3*p}function s(p,d,f){return((n(d,f)*p+i(d,f))*p+r(d))*p}function o(p,d,f){return 3*n(d,f)*p*p+2*i(d,f)*p+r(d)}function a(p,d,f,y,g){var b,x,A=0;do x=d+(f-d)/2,b=s(x,y,g)-p,b>0?f=x:d=x;while(Math.abs(b)>1e-7&&++A<10);return x}function l(p,d,f,y){for(var g=0;g<4;++g){var b=o(d,f,y);if(b===0)return d;var x=s(d,f,y)-p;d-=x/b}return d}function c(p,d,f,y){if(!(0<=p&&p<=1&&0<=f&&f<=1))return;var g=new Float32Array(t);if(p!==d||f!==y)for(var b=0;b<t;++b)g[b]=s(b*e,p,f);function x(A){for(var M=0,_=1,w=t-1;_!==w&&g[_]<=A;++_)M+=e;--_;var T=(A-g[_])/(g[_+1]-g[_]),I=M+T*e,O=o(I,p,f);return O>=.001?l(A,I,p,f):O===0?I:a(A,M,M+e,p,f)}return function(A){return p===d&&f===y||A===0||A===1?A:s(x(A),d,y)}}return c}(),XG=function(){var t={linear:function(){return function(i){return i}}},e={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var r,s=4;i<((r=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((r*3-2)/22-i,2)}},Elastic:function(i,r){i===void 0&&(i=1),r===void 0&&(r=.5);var s=Ro(i,1,10),o=Ro(r,.1,2);return function(a){return a===0||a===1?a:-s*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/o)}}},n=["Quad","Cubic","Quart","Quint","Expo"];return n.forEach(function(i,r){e[i]=function(){return function(s){return Math.pow(s,r+2)}}}),Object.keys(e).forEach(function(i){var r=e[i];t["easeIn"+i]=r,t["easeOut"+i]=function(s,o){return function(a){return 1-r(s,o)(1-a)}},t["easeInOut"+i]=function(s,o){return function(a){return a<.5?r(s,o)(a*2)/2:1-r(s,o)(a*-2+2)/2}},t["easeOutIn"+i]=function(s,o){return function(a){return a<.5?(1-r(s,o)(1-a*2))/2:(r(s,o)(a*2-1)+1)/2}}}),t}();function vM(t,e){if(Tt.fnc(t))return t;var n=t.split("(")[0],i=XG[n],r=JG(t);switch(n){case"spring":return ZG(t,e);case"cubicBezier":return gM(swt,r);case"steps":return gM(rwt,r);default:return gM(i,r)}}function QG(t){try{var e=document.querySelectorAll(t);return e}catch{return}}function $b(t,e){for(var n=t.length,i=arguments.length>=2?arguments[1]:void 0,r=[],s=0;s<n;s++)if(s in t){var o=t[s];e.call(i,o,s,t)&&r.push(o)}return r}function Gb(t){return t.reduce(function(e,n){return e.concat(Tt.arr(n)?Gb(n):n)},[])}function KG(t){return Tt.arr(t)?t:(Tt.str(t)&&(t=QG(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function bM(t,e){return t.some(function(n){return n===e})}function wM(t){var e={};for(var n in t)e[n]=t[n];return e}function _M(t,e){var n=wM(t);for(var i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function Ub(t,e){var n=wM(t);for(var i in e)n[i]=Tt.und(t[i])?e[i]:t[i];return n}function owt(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function awt(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=t.replace(e,function(a,l,c,p){return l+l+c+c+p+p}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),r=parseInt(i[1],16),s=parseInt(i[2],16),o=parseInt(i[3],16);return"rgba("+r+","+s+","+o+",1)"}function lwt(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),n=parseInt(e[1],10)/360,i=parseInt(e[2],10)/100,r=parseInt(e[3],10)/100,s=e[4]||1;function o(f,y,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?f+(y-f)*6*g:g<1/2?y:g<2/3?f+(y-f)*(2/3-g)*6:f}var a,l,c;if(i==0)a=l=c=r;else{var p=r<.5?r*(1+i):r+i-r*i,d=2*r-p;a=o(d,p,n+1/3),l=o(d,p,n),c=o(d,p,n-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+s+")"}function cwt(t){if(Tt.rgb(t))return owt(t);if(Tt.hex(t))return awt(t);if(Tt.hsl(t))return lwt(t)}function Da(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function uwt(t){if(b0(t,"translate")||t==="perspective")return"px";if(b0(t,"rotate")||b0(t,"skew"))return"deg"}function xM(t,e){return Tt.fnc(t)?t(e.target,e.id,e.total):t}function Lo(t,e){return t.getAttribute(e)}function EM(t,e,n){var i=Da(e);if(bM([n,"deg","rad","turn"],i))return e;var r=jb.CSS[e+n];if(!Tt.und(r))return r;var s=100,o=document.createElement(t.tagName),a=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=s+n;var l=s/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(e);return jb.CSS[e+n]=c,c}function tU(t,e,n){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return n?EM(t,r,n):r}}function SM(t,e){if(Tt.dom(t)&&!Tt.inp(t)&&(!Tt.nil(Lo(t,e))||Tt.svg(t)&&t[e]))return"attribute";if(Tt.dom(t)&&bM(iwt,e))return"transform";if(Tt.dom(t)&&e!=="transform"&&tU(t,e))return"css";if(t[e]!=null)return"object"}function eU(t){if(Tt.dom(t)){for(var e=t.style.transform||"",n=/(\w+)\(([^)]*)\)/g,i=new Map,r;r=n.exec(e);)i.set(r[1],r[2]);return i}}function hwt(t,e,n,i){var r=b0(e,"scale")?1:0+uwt(e),s=eU(t).get(e)||r;return n&&(n.transforms.list.set(e,s),n.transforms.last=e),i?EM(t,s,i):s}function AM(t,e,n,i){switch(SM(t,e)){case"transform":return hwt(t,e,i,n);case"css":return tU(t,e,n);case"attribute":return Lo(t,e);default:return t[e]||0}}function MM(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=Da(t)||0,r=parseFloat(e),s=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return r+s+i;case"-":return r-s+i;case"*":return r*s+i}}function nU(t,e){if(Tt.col(t))return cwt(t);if(/\s/g.test(t))return t;var n=Da(t),i=n?t.substr(0,t.length-n.length):t;return e?i+e:i}function TM(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pwt(t){return Math.PI*2*Lo(t,"r")}function dwt(t){return Lo(t,"width")*2+Lo(t,"height")*2}function fwt(t){return TM({x:Lo(t,"x1"),y:Lo(t,"y1")},{x:Lo(t,"x2"),y:Lo(t,"y2")})}function iU(t){for(var e=t.points,n=0,i,r=0;r<e.numberOfItems;r++){var s=e.getItem(r);r>0&&(n+=TM(i,s)),i=s}return n}function mwt(t){var e=t.points;return iU(t)+TM(e.getItem(e.numberOfItems-1),e.getItem(0))}function rU(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return pwt(t);case"rect":return dwt(t);case"line":return fwt(t);case"polyline":return iU(t);case"polygon":return mwt(t)}}function ywt(t){var e=rU(t);return t.setAttribute("stroke-dasharray",e),e}function gwt(t){for(var e=t.parentNode;Tt.svg(e)&&Tt.svg(e.parentNode);)e=e.parentNode;return e}function sU(t,e){var n=e||{},i=n.el||gwt(t),r=i.getBoundingClientRect(),s=Lo(i,"viewBox"),o=r.width,a=r.height,l=n.viewBox||(s?s.split(" "):[0,0,o,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function vwt(t,e){var n=Tt.str(t)?QG(t)[0]:t,i=e||100;return function(r){return{property:r,el:n,svg:sU(n),totalLength:rU(n)*(i/100)}}}function bwt(t,e,n){function i(p){p===void 0&&(p=0);var d=e+p>=1?e+p:0;return t.el.getPointAtLength(d)}var r=sU(t.el,t.svg),s=i(),o=i(-1),a=i(1),l=n?1:r.w/r.vW,c=n?1:r.h/r.vH;switch(t.property){case"x":return(s.x-r.x)*l;case"y":return(s.y-r.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function oU(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=nU(Tt.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:Tt.str(t)||e?i.split(n):[]}}function IM(t){var e=t?Gb(Tt.arr(t)?t.map(KG):KG(t)):[];return $b(e,function(n,i,r){return r.indexOf(n)===i})}function aU(t){var e=IM(t);return e.map(function(n,i){return{target:n,id:i,total:e.length,transforms:{list:eU(n)}}})}function wwt(t,e){var n=wM(e);if(/^spring/.test(n.easing)&&(n.duration=ZG(n.easing)),Tt.arr(t)){var i=t.length,r=i===2&&!Tt.obj(t[0]);r?t={value:t}:Tt.fnc(e.duration)||(n.duration=e.duration/i)}var s=Tt.arr(t)?t:[t];return s.map(function(o,a){var l=Tt.obj(o)&&!Tt.pth(o)?o:{value:o};return Tt.und(l.delay)&&(l.delay=a?0:e.delay),Tt.und(l.endDelay)&&(l.endDelay=a===s.length-1?e.endDelay:0),l}).map(function(o){return Ub(o,n)})}function _wt(t){for(var e=$b(Gb(t.map(function(s){return Object.keys(s)})),function(s){return Tt.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),n={},i=function(s){var o=e[s];n[o]=t.map(function(a){var l={};for(var c in a)Tt.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},r=0;r<e.length;r++)i(r);return n}function xwt(t,e){var n=[],i=e.keyframes;i&&(e=Ub(_wt(i),e));for(var r in e)Tt.key(r)&&n.push({name:r,tweens:wwt(e[r],t)});return n}function Ewt(t,e){var n={};for(var i in t){var r=xM(t[i],e);Tt.arr(r)&&(r=r.map(function(s){return xM(s,e)}),r.length===1&&(r=r[0])),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function Swt(t,e){var n;return t.tweens.map(function(i){var r=Ewt(i,e),s=r.value,o=Tt.arr(s)?s[1]:s,a=Da(o),l=AM(e.target,t.name,a,e),c=n?n.to.original:l,p=Tt.arr(s)?s[0]:c,d=Da(p)||Da(l),f=a||d;return Tt.und(o)&&(o=c),r.from=oU(p,f),r.to=oU(MM(o,p),f),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=vM(r.easing,r.duration),r.isPath=Tt.pth(s),r.isPathTargetInsideSVG=r.isPath&&Tt.svg(e.target),r.isColor=Tt.col(r.from.original),r.isColor&&(r.round=1),n=r,r})}var lU={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){if(i.list.set(e,n),e===i.last||r){var s="";i.list.forEach(function(o,a){s+=a+"("+o+") "}),t.style.transform=s}}};function cU(t,e){var n=aU(t);n.forEach(function(i){for(var r in e){var s=xM(e[r],i),o=i.target,a=Da(s),l=AM(o,r,a,i),c=a||Da(l),p=MM(nU(s,c),l),d=SM(o,r);lU[d](o,r,p,i.transforms,!0)}})}function Awt(t,e){var n=SM(t.target,e.name);if(n){var i=Swt(e,t),r=i[i.length-1];return{type:n,property:e.name,animatable:t,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}function Mwt(t,e){return $b(Gb(t.map(function(n){return e.map(function(i){return Awt(n,i)})})),function(n){return!Tt.und(n)})}function uU(t,e){var n=t.length,i=function(s){return s.timelineOffset?s.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,t.map(function(s){return i(s)+s.duration})):e.duration,r.delay=n?Math.min.apply(Math,t.map(function(s){return i(s)+s.delay})):e.delay,r.endDelay=n?r.duration-Math.max.apply(Math,t.map(function(s){return i(s)+s.duration-s.endDelay})):e.endDelay,r}var hU=0;function Twt(t){var e=_M(YG,t),n=_M(yM,t),i=xwt(n,t),r=aU(t.targets),s=Mwt(r,i),o=uU(s,n),a=hU;return hU++,Ub(e,{id:a,children:[],animatables:r,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var eo=[],pU=function(){var t;function e(){!t&&(!dU()||!ln.suspendWhenDocumentHidden)&&eo.length>0&&(t=requestAnimationFrame(n))}function n(r){for(var s=eo.length,o=0;o<s;){var a=eo[o];a.paused?(eo.splice(o,1),s--):(a.tick(r),o++)}t=o>0?requestAnimationFrame(n):void 0}function i(){ln.suspendWhenDocumentHidden&&(dU()?t=cancelAnimationFrame(t):(eo.forEach(function(r){return r._onDocumentVisibility()}),pU()))}return typeof document<"u"&&document.addEventListener("visibilitychange",i),e}();function dU(){return!!document&&document.hidden}function ln(t){t===void 0&&(t={});var e=0,n=0,i=0,r,s=0,o=null;function a(M){var _=window.Promise&&new Promise(function(w){return o=w});return M.finished=_,_}var l=Twt(t);a(l);function c(){var M=l.direction;M!=="alternate"&&(l.direction=M!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,r.forEach(function(_){return _.reversed=l.reversed})}function p(M){return l.reversed?l.duration-M:M}function d(){e=0,n=p(l.currentTime)*(1/ln.speed)}function f(M,_){_&&_.seek(M-_.timelineOffset)}function y(M){if(l.reversePlayback)for(var _=s;_--;)f(M,r[_]);else for(var w=0;w<s;w++)f(M,r[w])}function g(M){for(var _=0,w=l.animations,T=w.length;_<T;){var I=w[_],O=I.animatable,C=I.tweens,R=C.length-1,D=C[R];R&&(D=$b(C,function(xe){return M<xe.end})[0]||D);for(var U=Ro(M-D.start-D.delay,0,D.duration)/D.duration,j=isNaN(U)?1:D.easing(U),$=D.to.strings,H=D.round,u=[],m=D.to.numbers.length,S=void 0,k=0;k<m;k++){var V=void 0,J=D.to.numbers[k],pt=D.from.numbers[k]||0;D.isPath?V=bwt(D.value,j*J,D.isPathTargetInsideSVG):V=pt+j*(J-pt),H&&(D.isColor&&k>2||(V=Math.round(V*H)/H)),u.push(V)}var ot=$.length;if(!ot)S=u[0];else{S=$[0];for(var It=0;It<ot;It++){$[It];var Lt=$[It+1],Ut=u[It];isNaN(Ut)||(Lt?S+=Ut+Lt:S+=Ut+" ")}}lU[I.type](O.target,I.property,S,O.transforms),I.currentValue=S,_++}}function b(M){l[M]&&!l.passThrough&&l[M](l)}function x(){l.remaining&&l.remaining!==!0&&l.remaining--}function A(M){var _=l.duration,w=l.delay,T=_-l.endDelay,I=p(M);l.progress=Ro(I/_*100,0,100),l.reversePlayback=I<l.currentTime,r&&y(I),!l.began&&l.currentTime>0&&(l.began=!0,b("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,b("loopBegin")),I<=w&&l.currentTime!==0&&g(0),(I>=T&&l.currentTime!==_||!_)&&g(_),I>w&&I<T?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,b("changeBegin")),b("change"),g(I)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,b("changeComplete")),l.currentTime=Ro(I,0,_),l.began&&b("update"),M>=_&&(n=0,x(),l.remaining?(e=i,b("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,b("loopComplete"),b("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var M=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=M==="reverse",l.remaining=l.loop,r=l.children,s=r.length;for(var _=s;_--;)l.children[_].reset();(l.reversed&&l.loop!==!0||M==="alternate"&&l.loop===1)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(M,_){return cU(M,_),l},l.tick=function(M){i=M,e||(e=i),A((i+(n-e))*ln.speed)},l.seek=function(M){A(p(M))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,eo.push(l),d(),pU())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(M){var _=IM(M);mU(_,l)},l.reset(),l.autoplay&&l.play(),l}function fU(t,e){for(var n=e.length;n--;)bM(t,e[n].animatable.target)&&e.splice(n,1)}function mU(t,e){var n=e.animations,i=e.children;fU(t,n);for(var r=i.length;r--;){var s=i[r],o=s.animations;fU(t,o),!o.length&&!s.children.length&&i.splice(r,1)}!n.length&&!i.length&&e.pause()}function Iwt(t){for(var e=IM(t),n=eo.length;n--;){var i=eo[n];mU(e,i)}}function Nwt(t,e){e===void 0&&(e={});var n=e.direction||"normal",i=e.easing?vM(e.easing):null,r=e.grid,s=e.axis,o=e.from||0,a=o==="first",l=o==="center",c=o==="last",p=Tt.arr(t),d=parseFloat(p?t[0]:t),f=p?parseFloat(t[1]):0,y=Da(p?t[1]:t)||0,g=e.start||0+(p?d:0),b=[],x=0;return function(A,M,_){if(a&&(o=0),l&&(o=(_-1)/2),c&&(o=_-1),!b.length){for(var w=0;w<_;w++){if(!r)b.push(Math.abs(o-w));else{var T=l?(r[0]-1)/2:o%r[0],I=l?(r[1]-1)/2:Math.floor(o/r[0]),O=w%r[0],C=Math.floor(w/r[0]),R=T-O,D=I-C,U=Math.sqrt(R*R+D*D);s==="x"&&(U=-R),s==="y"&&(U=-D),b.push(U)}x=Math.max.apply(Math,b)}i&&(b=b.map(function($){return i($/x)*x})),n==="reverse"&&(b=b.map(function($){return s?$<0?$*-1:-$:Math.abs(x-$)}))}var j=p?(f-d)/x:d;return g+j*(Math.round(b[M]*100)/100)+y}}function Owt(t){t===void 0&&(t={});var e=ln(t);return e.duration=0,e.add=function(n,i){var r=eo.indexOf(e),s=e.children;r>-1&&eo.splice(r,1);function o(f){f.passThrough=!0}for(var a=0;a<s.length;a++)o(s[a]);var l=Ub(n,_M(yM,t));l.targets=l.targets||t.targets;var c=e.duration;l.autoplay=!1,l.direction=e.direction,l.timelineOffset=Tt.und(i)?c:MM(i,c),o(e),e.seek(l.timelineOffset);var p=ln(l);o(p),s.push(p);var d=uU(s,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}ln.version="3.2.1",ln.speed=1,ln.suspendWhenDocumentHidden=!0,ln.running=eo,ln.remove=Iwt,ln.get=AM,ln.set=cU,ln.convertPx=EM,ln.path=vwt,ln.setDashoffset=ywt,ln.stagger=Nwt,ln.timeline=Owt,ln.easing=vM,ln.penner=XG,ln.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};const Cwt={xs:200,sm:576,md:768,lg:960};class yU{resizeObserver;constructor(e){this.resizeObserver=new ResizeObserver(n=>{n.length&&window.requestAnimationFrame(()=>{n.forEach(i=>{const r=i.target.dataset.breakpoints,s=r?JSON.parse(r):e??Cwt;Object.keys(s).forEach(o=>{const a=s[o];i.contentRect.width>=a?i.target.classList.add(o):i.target.classList.remove(o)})})})})}observe(e){this.resizeObserver?.observe(e)}}const kwt=["data-cy"],gU=Zt({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(t){const e=Z(null),n=t,i=Z(!1);ri(()=>{n.panel.teleport&&new yU({xs:0,sm:461,...n.panel.teleport.breakpoints}).observe(e.value)});const r=(l,c,p)=>{if(i.value)return c();ln({targets:l,opacity:{value:p,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},s=(l,c)=>{r(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(i.value=n.panel.isScreenLoaded(n.panel.route.screen),e.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{r(l,c,[0,1])};return(l,c)=>{const p=we("focus-container");return st(),ft("div",{class:Ke(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",t.panel.expanded?"flex-grow max-w-full":""]),style:ya(t.panel.style),"data-cy":t.panel.id,ref_key:"componentEl",ref:e},[zt(qm,{onBeforeLeave:o,onLeave:a,onEnter:s},{default:xn(()=>[be((st(),Le(Lv(t.panel.route.screen),Vm({class:"h-full"},t.panel.route.props,{panel:t.panel}),null,16,["panel"])),[[p]])]),_:1})],14,kwt)}}}),nc=He("panel",()=>{const t=Z(void 0),e=Z(void 0),n=Z(0),i=Z(0),r=Z(!1),s=Z(!0),o=Z({}),a=Z({}),l=Z([]),c=Z([]),p=Z([]),d=Z(1),f=Wt(()=>i.value);function y($){return $==="xs"&&p.value.length>0?[p.value.slice().pop()]:p.value}function g($){const H=[];return $.forEach(u=>{u in a.value&&H.push(a.value[u].getPromise())}),H}function b($){C($),I(),e.value=void 0}function x($){R($),I()}function A($,H){D($,H),I()}function M($){U($),I()}function _($){d.value=$}function w($){n.value=$,I()}function T($){r.value=$}function I(){let $=n.value;const H=[],u=350,m=12,S=600;for(let k=l.value.length-1;k>=0;k--){const V=l.value[k];let J=V.width||u;if(r.value?J=$:J+=m,V.id==="grid"&&(J=Math.max(Math.min(J,$),S)),($>=J&&!r.value||H.length===0)&&($-=J,H.unshift(V)),V.id==="grid"&&$<S)break}if(t.value&&!H.includes(t.value)&&!r.value){let k;for(let ot=0;ot<H.length-1&&$<(t.value.width||u)+m;ot++)k=H.shift(),$+=k.width||u;$>=(t.value.width||u)?H.unshift(t.value):e.value||(k=H.shift(),H.unshift(t.value));const V=l.value.indexOf(t.value),J=l.value.indexOf(k),pt=l.value.slice();J>-1&&(pt.splice(V,1),pt.splice(J,0,t.value)),l.value=pt}i.value=$,p.value=H}function O($){if(o.value={...o.value,[$.id]:$},$.id in a.value)a.value[$.id].resolveMe($);else{const H=new wn;H.resolveMe($),a.value={...a.value,[$.id]:H}}}function C($){$.teleport?c.value=[...c.value,$]:(l.value=[...l.value,$],e.value=$)}function R($){if($.teleport){const H=c.value.indexOf($);H!==-1&&(c.value=[...c.value.slice(0,H),...c.value.slice(H+1)])}else{const H=l.value.indexOf($);H!==-1&&(l.value=[...l.value.slice(0,H),...l.value.slice(H+1)])}}function D($,H){const u=l.value.indexOf($),m=H==="right"?1:-1;p.value.includes(l.value[u+m])&&([l.value[u],l.value[u+m]]=[l.value[u+m],l.value[u]])}function U($){o.value[$.id]!==void 0&&delete o.value[$.id],a.value[$.id]!==void 0&&delete a.value[$.id];const H=p.value.indexOf($);H!==-1&&(p.value=[...p.value.slice(0,H),...p.value.slice(H+1)]),t.value&&t.value.id==$.id&&(t.value=void 0)}function j($){a.value={...a.value,[$]:new wn}}return{items:o,regPromises:a,orderedItems:l,pinned:t,priority:e,visible:p,opacity:d,stackWidth:n,remWidth:i,mobileView:r,reorderable:s,teleported:c,getRemainingWidth:f,getVisible:y,getRegPromises:g,openPanel:b,closePanel:x,movePanel:A,removePanel:M,setOpacity:_,setStackWidth:w,setMobileView:T,updateVisible:I,registerPanel:O,addRegPromise:j}}),Rwt=Zt({__name:"panel-stack",setup(t){K4(p=>({"3d36ee4c":r.value}));const e=nc(),n=Nn("iApi"),i=Z(),r=Wt(()=>e.opacity),s=Wt(()=>e.mobileView);ri(()=>{new ResizeObserver(p=>{const d=!(n.$vApp.$root?.$refs["app-size"]).classList.contains("sm");s.value!==d&&(e.mobileView=d,n.event.emit(Et.RAMP_MOBILEVIEW_CHANGE,d)),e.setStackWidth(p[0].contentRect.width)}).observe(i.value?.$el)});const o=p=>e.getVisible(p),a=(p,d)=>{c(p,d,[[6,0],[0,1]])},l=(p,d)=>{const[f,y]=[p.children[0].getBoundingClientRect(),p.parentElement.getBoundingClientRect()];p.style.width=`${f.width}px`,p.style.height=`${f.height}px`,p.style.left=`${f.left-y.left}px`,p.style.position="absolute",c(p,d,[[0,-6],[1,0]])},c=(p,d,f)=>{ln({targets:p,duration:300,translateY:{value:f[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:f[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:d})};return(p,d)=>(st(),Le(Xv,{onEnter:a,onLeave:l,name:"panel-container",tag:"div",ref_key:"el",ref:i,class:"panel-container"},{default:xn(()=>[(st(!0),ft(Ie,null,Sa(o(_t(n).screenSize),f=>(st(),Le(gU,{key:`${f.id}`,panel:f},null,8,["panel"]))),128))]),_:1},512))}}),Po=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},Lwt=Po(Rwt,[["__scopeId","data-v-717e4bd7"]]);var xr="top",vs="bottom",bs="right",Er="left",NM="auto",w0=[xr,vs,bs,Er],Kp="start",_0="end",Pwt="clippingParents",vU="viewport",x0="popper",Dwt="reference",bU=w0.reduce(function(t,e){return t.concat([e+"-"+Kp,e+"-"+_0])},[]),wU=[].concat(w0,[NM]).reduce(function(t,e){return t.concat([e,e+"-"+Kp,e+"-"+_0])},[]),Fwt="beforeRead",jwt="read",$wt="afterRead",Gwt="beforeMain",Uwt="main",Bwt="afterMain",Vwt="beforeWrite",zwt="write",Wwt="afterWrite",qwt=[Fwt,jwt,$wt,Gwt,Uwt,Bwt,Vwt,zwt,Wwt];function Do(t){return t?(t.nodeName||"").toLowerCase():null}function Gr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ru(t){var e=Gr(t).Element;return t instanceof e||t instanceof Element}function ws(t){var e=Gr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function OM(t){if(typeof ShadowRoot>"u")return!1;var e=Gr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Hwt(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!ws(s)||!Do(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Ywt(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!ws(r)||!Do(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const Jwt={name:"applyStyles",enabled:!0,phase:"write",fn:Hwt,effect:Ywt,requires:["computeStyles"]};function Fo(t){return t.split("-")[0]}var Lu=Math.max,Bb=Math.min,td=Math.round;function CM(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function _U(){return!/^((?!chrome|android).)*safari/i.test(CM())}function ed(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,s=1;e&&ws(t)&&(r=t.offsetWidth>0&&td(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&td(i.height)/t.offsetHeight||1);var o=Ru(t)?Gr(t):window,a=o.visualViewport,l=!_U()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,p=(i.top+(l&&a?a.offsetTop:0))/s,d=i.width/r,f=i.height/s;return{width:d,height:f,top:p,right:c+d,bottom:p+f,left:c,x:c,y:p}}function kM(t){var e=ed(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function xU(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&OM(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Fa(t){return Gr(t).getComputedStyle(t)}function Zwt(t){return["table","td","th"].indexOf(Do(t))>=0}function ic(t){return((Ru(t)?t.ownerDocument:t.document)||window.document).documentElement}function Vb(t){return Do(t)==="html"?t:t.assignedSlot||t.parentNode||(OM(t)?t.host:null)||ic(t)}function EU(t){return!ws(t)||Fa(t).position==="fixed"?null:t.offsetParent}function Xwt(t){var e=/firefox/i.test(CM()),n=/Trident/i.test(CM());if(n&&ws(t)){var i=Fa(t);if(i.position==="fixed")return null}var r=Vb(t);for(OM(r)&&(r=r.host);ws(r)&&["html","body"].indexOf(Do(r))<0;){var s=Fa(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function E0(t){for(var e=Gr(t),n=EU(t);n&&Zwt(n)&&Fa(n).position==="static";)n=EU(n);return n&&(Do(n)==="html"||Do(n)==="body"&&Fa(n).position==="static")?e:n||Xwt(t)||e}function RM(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function S0(t,e,n){return Lu(t,Bb(e,n))}function Qwt(t,e,n){var i=S0(t,e,n);return i>n?n:i}function SU(){return{top:0,right:0,bottom:0,left:0}}function AU(t){return Object.assign({},SU(),t)}function MU(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var Kwt=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,AU(typeof t!="number"?t:MU(t,w0))};function t_t(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Fo(n.placement),l=RM(a),c=[Er,bs].indexOf(a)>=0,p=c?"height":"width";if(!(!s||!o)){var d=Kwt(r.padding,n),f=kM(s),y=l==="y"?xr:Er,g=l==="y"?vs:bs,b=n.rects.reference[p]+n.rects.reference[l]-o[l]-n.rects.popper[p],x=o[l]-n.rects.reference[l],A=E0(s),M=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,_=b/2-x/2,w=d[y],T=M-f[p]-d[g],I=M/2-f[p]/2+_,O=S0(w,I,T),C=l;n.modifiersData[i]=(e={},e[C]=O,e.centerOffset=O-I,e)}}function e_t(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||xU(e.elements.popper,r)&&(e.elements.arrow=r))}const n_t={name:"arrow",enabled:!0,phase:"main",fn:t_t,effect:e_t,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function nd(t){return t.split("-")[1]}var i_t={top:"auto",right:"auto",bottom:"auto",left:"auto"};function r_t(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:td(n*r)/r||0,y:td(i*r)/r||0}}function TU(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,p=t.roundOffsets,d=t.isFixed,f=o.x,y=f===void 0?0:f,g=o.y,b=g===void 0?0:g,x=typeof p=="function"?p({x:y,y:b}):{x:y,y:b};y=x.x,b=x.y;var A=o.hasOwnProperty("x"),M=o.hasOwnProperty("y"),_=Er,w=xr,T=window;if(c){var I=E0(n),O="clientHeight",C="clientWidth";if(I===Gr(n)&&(I=ic(n),Fa(I).position!=="static"&&a==="absolute"&&(O="scrollHeight",C="scrollWidth")),I=I,r===xr||(r===Er||r===bs)&&s===_0){w=vs;var R=d&&I===T&&T.visualViewport?T.visualViewport.height:I[O];b-=R-i.height,b*=l?1:-1}if(r===Er||(r===xr||r===vs)&&s===_0){_=bs;var D=d&&I===T&&T.visualViewport?T.visualViewport.width:I[C];y-=D-i.width,y*=l?1:-1}}var U=Object.assign({position:a},c&&i_t),j=p===!0?r_t({x:y,y:b},Gr(n)):{x:y,y:b};if(y=j.x,b=j.y,l){var $;return Object.assign({},U,($={},$[w]=M?"0":"",$[_]=A?"0":"",$.transform=(T.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",$))}return Object.assign({},U,(e={},e[w]=M?b+"px":"",e[_]=A?y+"px":"",e.transform="",e))}function s_t(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Fo(e.placement),variation:nd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,TU(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,TU(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const o_t={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:s_t,data:{}};var zb={passive:!0};function a_t(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=Gr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(p){p.addEventListener("scroll",n.update,zb)}),a&&l.addEventListener("resize",n.update,zb),function(){s&&c.forEach(function(p){p.removeEventListener("scroll",n.update,zb)}),a&&l.removeEventListener("resize",n.update,zb)}}const l_t={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:a_t,data:{}};var c_t={left:"right",right:"left",bottom:"top",top:"bottom"};function Wb(t){return t.replace(/left|right|bottom|top/g,function(e){return c_t[e]})}var u_t={start:"end",end:"start"};function IU(t){return t.replace(/start|end/g,function(e){return u_t[e]})}function LM(t){var e=Gr(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function PM(t){return ed(ic(t)).left+LM(t).scrollLeft}function h_t(t,e){var n=Gr(t),i=ic(t),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=_U();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+PM(t),y:l}}function p_t(t){var e,n=ic(t),i=LM(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=Lu(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Lu(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+PM(t),l=-i.scrollTop;return Fa(r||n).direction==="rtl"&&(a+=Lu(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function DM(t){var e=Fa(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function NU(t){return["html","body","#document"].indexOf(Do(t))>=0?t.ownerDocument.body:ws(t)&&DM(t)?t:NU(Vb(t))}function A0(t,e){var n;e===void 0&&(e=[]);var i=NU(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=Gr(i),o=r?[s].concat(s.visualViewport||[],DM(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(A0(Vb(o)))}function FM(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function d_t(t,e){var n=ed(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function OU(t,e,n){return e===vU?FM(h_t(t,n)):Ru(e)?d_t(e,n):FM(p_t(ic(t)))}function f_t(t){var e=A0(Vb(t)),n=["absolute","fixed"].indexOf(Fa(t).position)>=0,i=n&&ws(t)?E0(t):t;return Ru(i)?e.filter(function(r){return Ru(r)&&xU(r,i)&&Do(r)!=="body"}):[]}function m_t(t,e,n,i){var r=e==="clippingParents"?f_t(t):[].concat(e),s=[].concat(r,[n]),o=s[0],a=s.reduce(function(l,c){var p=OU(t,c,i);return l.top=Lu(p.top,l.top),l.right=Bb(p.right,l.right),l.bottom=Bb(p.bottom,l.bottom),l.left=Lu(p.left,l.left),l},OU(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function CU(t){var e=t.reference,n=t.element,i=t.placement,r=i?Fo(i):null,s=i?nd(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case xr:l={x:o,y:e.y-n.height};break;case vs:l={x:o,y:e.y+e.height};break;case bs:l={x:e.x+e.width,y:a};break;case Er:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?RM(r):null;if(c!=null){var p=c==="y"?"height":"width";switch(s){case Kp:l[c]=l[c]-(e[p]/2-n[p]/2);break;case _0:l[c]=l[c]+(e[p]/2-n[p]/2);break}}return l}function Pu(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Pwt:a,c=n.rootBoundary,p=c===void 0?vU:c,d=n.elementContext,f=d===void 0?x0:d,y=n.altBoundary,g=y===void 0?!1:y,b=n.padding,x=b===void 0?0:b,A=AU(typeof x!="number"?x:MU(x,w0)),M=f===x0?Dwt:x0,_=t.rects.popper,w=t.elements[g?M:f],T=m_t(Ru(w)?w:w.contextElement||ic(t.elements.popper),l,p,o),I=ed(t.elements.reference),O=CU({reference:I,element:_,placement:r}),C=FM(Object.assign({},_,O)),R=f===x0?C:I,D={top:T.top-R.top+A.top,bottom:R.bottom-T.bottom+A.bottom,left:T.left-R.left+A.left,right:R.right-T.right+A.right},U=t.modifiersData.offset;if(f===x0&&U){var j=U[r];Object.keys(D).forEach(function($){var H=[bs,vs].indexOf($)>=0?1:-1,u=[xr,vs].indexOf($)>=0?"y":"x";D[$]+=j[u]*H})}return D}function y_t(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?wU:l,p=nd(i),d=p?a?bU:bU.filter(function(g){return nd(g)===p}):w0,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var y=f.reduce(function(g,b){return g[b]=Pu(t,{placement:b,boundary:r,rootBoundary:s,padding:o})[Fo(b)],g},{});return Object.keys(y).sort(function(g,b){return y[g]-y[b]})}function g_t(t){if(Fo(t)===NM)return[];var e=Wb(t);return[IU(t),e,IU(e)]}function v_t(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,p=n.boundary,d=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,g=y===void 0?!0:y,b=n.allowedAutoPlacements,x=e.options.placement,A=Fo(x),M=A===x,_=l||(M||!g?[Wb(x)]:g_t(x)),w=[x].concat(_).reduce(function(Lt,Ut){return Lt.concat(Fo(Ut)===NM?y_t(e,{placement:Ut,boundary:p,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:b}):Ut)},[]),T=e.rects.reference,I=e.rects.popper,O=new Map,C=!0,R=w[0],D=0;D<w.length;D++){var U=w[D],j=Fo(U),$=nd(U)===Kp,H=[xr,vs].indexOf(j)>=0,u=H?"width":"height",m=Pu(e,{placement:U,boundary:p,rootBoundary:d,altBoundary:f,padding:c}),S=H?$?bs:Er:$?vs:xr;T[u]>I[u]&&(S=Wb(S));var k=Wb(S),V=[];if(s&&V.push(m[j]<=0),a&&V.push(m[S]<=0,m[k]<=0),V.every(function(Lt){return Lt})){R=U,C=!1;break}O.set(U,V)}if(C)for(var J=g?3:1,pt=function(Lt){var Ut=w.find(function(xe){var Pe=O.get(xe);if(Pe)return Pe.slice(0,Lt).every(function(Ue){return Ue})});if(Ut)return R=Ut,"break"},ot=J;ot>0;ot--){var It=pt(ot);if(It==="break")break}e.placement!==R&&(e.modifiersData[i]._skip=!0,e.placement=R,e.reset=!0)}}const b_t={name:"flip",enabled:!0,phase:"main",fn:v_t,requiresIfExists:["offset"],data:{_skip:!1}};function kU(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function RU(t){return[xr,bs,vs,Er].some(function(e){return t[e]>=0})}function w_t(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=Pu(e,{elementContext:"reference"}),a=Pu(e,{altBoundary:!0}),l=kU(o,i),c=kU(a,r,s),p=RU(l),d=RU(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":d})}const __t={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:w_t};function x_t(t,e,n){var i=Fo(t),r=[Er,xr].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Er,bs].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function E_t(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=wU.reduce(function(p,d){return p[d]=x_t(d,e.rects,s),p},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const S_t={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:E_t};function A_t(t){var e=t.state,n=t.name;e.modifiersData[n]=CU({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const M_t={name:"popperOffsets",enabled:!0,phase:"read",fn:A_t,data:{}};function T_t(t){return t==="x"?"y":"x"}function I_t(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,p=n.altBoundary,d=n.padding,f=n.tether,y=f===void 0?!0:f,g=n.tetherOffset,b=g===void 0?0:g,x=Pu(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:p}),A=Fo(e.placement),M=nd(e.placement),_=!M,w=RM(A),T=T_t(w),I=e.modifiersData.popperOffsets,O=e.rects.reference,C=e.rects.popper,R=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,D=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),U=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(I){if(s){var $,H=w==="y"?xr:Er,u=w==="y"?vs:bs,m=w==="y"?"height":"width",S=I[w],k=S+x[H],V=S-x[u],J=y?-C[m]/2:0,pt=M===Kp?O[m]:C[m],ot=M===Kp?-C[m]:-O[m],It=e.elements.arrow,Lt=y&&It?kM(It):{width:0,height:0},Ut=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:SU(),xe=Ut[H],Pe=Ut[u],Ue=S0(0,O[m],Lt[m]),Pi=_?O[m]/2-J-Ue-xe-D.mainAxis:pt-Ue-xe-D.mainAxis,nn=_?-O[m]/2+J+Ue+Pe+D.mainAxis:ot+Ue+Pe+D.mainAxis,Dn=e.elements.arrow&&E0(e.elements.arrow),vi=Dn?w==="y"?Dn.clientTop||0:Dn.clientLeft||0:0,G=($=U?.[w])!=null?$:0,F=S+Pi-G-vi,Y=S+nn-G,it=S0(y?Bb(k,F):k,S,y?Lu(V,Y):V);I[w]=it,j[w]=it-S}if(a){var et,rt=w==="x"?xr:Er,dt=w==="x"?vs:bs,L=I[T],P=T==="y"?"height":"width",W=L+x[rt],X=L-x[dt],B=[xr,Er].indexOf(A)!==-1,q=(et=U?.[T])!=null?et:0,ut=B?W:L-O[P]-C[P]-q+D.altAxis,bt=B?L+O[P]+C[P]-q-D.altAxis:X,Ht=y&&B?Qwt(ut,L,bt):S0(y?ut:W,L,y?bt:X);I[T]=Ht,j[T]=Ht-L}e.modifiersData[i]=j}}const N_t={name:"preventOverflow",enabled:!0,phase:"main",fn:I_t,requiresIfExists:["offset"]};function O_t(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function C_t(t){return t===Gr(t)||!ws(t)?LM(t):O_t(t)}function k_t(t){var e=t.getBoundingClientRect(),n=td(e.width)/t.offsetWidth||1,i=td(e.height)/t.offsetHeight||1;return n!==1||i!==1}function R_t(t,e,n){n===void 0&&(n=!1);var i=ws(e),r=ws(e)&&k_t(e),s=ic(e),o=ed(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((Do(e)!=="body"||DM(s))&&(a=C_t(e)),ws(e)?(l=ed(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=PM(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function L_t(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function P_t(t){var e=L_t(t);return qwt.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function D_t(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function F_t(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var LU={placement:"bottom",modifiers:[],strategy:"absolute"};function PU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function j_t(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?LU:r;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},LU,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},p=[],d=!1,f={state:c,setOptions:function(b){var x=typeof b=="function"?b(c.options):b;g(),c.options=Object.assign({},s,c.options,x),c.scrollParents={reference:Ru(o)?A0(o):o.contextElement?A0(o.contextElement):[],popper:A0(a)};var A=P_t(F_t([].concat(i,c.options.modifiers)));return c.orderedModifiers=A.filter(function(M){return M.enabled}),y(),f.update()},forceUpdate:function(){if(!d){var b=c.elements,x=b.reference,A=b.popper;if(PU(x,A)){c.rects={reference:R_t(x,E0(A),c.options.strategy==="fixed"),popper:kM(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var M=0;M<c.orderedModifiers.length;M++){if(c.reset===!0){c.reset=!1,M=-1;continue}var _=c.orderedModifiers[M],w=_.fn,T=_.options,I=T===void 0?{}:T,O=_.name;typeof w=="function"&&(c=w({state:c,options:I,name:O,instance:f})||c)}}}},update:D_t(function(){return new Promise(function(b){f.forceUpdate(),b(c)})}),destroy:function(){g(),d=!0}};if(!PU(o,a))return f;f.setOptions(l).then(function(b){!d&&l.onFirstUpdate&&l.onFirstUpdate(b)});function y(){c.orderedModifiers.forEach(function(b){var x=b.name,A=b.options,M=A===void 0?{}:A,_=b.effect;if(typeof _=="function"){var w=_({state:c,name:x,instance:f,options:M}),T=function(){};p.push(w||T)}})}function g(){p.forEach(function(b){return b()}),p=[]}return f}}var $_t=[l_t,M_t,o_t,Jwt,S_t,b_t,N_t,n_t,__t],DU=j_t({defaultModifiers:$_t});const G_t=["content","aria-label"],jM=Zt({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(t){const e=Z(!1),n=Z(null),i=Zn([]),r=Z(),s=Z(),o=Z(),a=t;i.push(Vn(e,()=>{n.value.update()}));const l=()=>{e.value=!e.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:e.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},p=()=>{o.value._tippy.hide()};return ri(()=>{window.addEventListener("click",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{e.value=!1}),window.addEventListener("focusin",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",p),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",p),Dr(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:f}){const{bottom:y}=Pu(f);y>0?(f.styles.popper.overflowY=y>100?"auto":void 0,f.styles.popper.overflowX="hidden",f.styles.popper.height=`${f.rects.popper.height-y-8}px`):f.styles.popper.height="auto"}};o.value&&s.value&&(n.value=DU(o.value,s.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),us(()=>{i.forEach(d=>d()),window.removeEventListener("click",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{e.value=!1}),window.removeEventListener("focusin",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",p),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",p),e.value=!1}),(d,f)=>{const y=we("tippy");return st(),ft("div",{ref_key:"el",ref:r},[be((st(),ft("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:t.tooltip,"aria-label":t.ariaLabel?String(t.ariaLabel):String(t.tooltip),ref_key:"dropdownTrigger",ref:o},[hs(d.$slots,"header")],8,G_t)),[[y,{placement:t.tooltipPlacement,theme:t.tooltipTheme,animation:t.tooltipAnimation,trigger:"manual"}]]),be(nt("div",{onClick:f[0]||(f[0]=g=>n.value.update()),class:Ke(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":t.centered}]),ref_key:"dropdown",ref:s},[hs(d.$slots,"default",{close:()=>e.value=!e.value})],2),[[Hm,e.value]])],512)}}}),jo=He("notification",()=>{let t=0;const e=Z([]),n=Z({}),i=Wt(()=>e.value.length>=99?99:e.value.length);function r(p){const d={...p,id:`notif-${t++}`};e.value=[d,...e.value]}function s(p){if(e.value.includes(p)){const d=e.value.indexOf(p);p instanceof FU&&c(p),d>-1&&e.value.splice(d,1)}}function o(p){n.value[p.id]=p}function a(p,d){n.value[p]&&(n.value[p].messageList.push(d),e.value.includes(n.value[p])||(e.value=[n.value[p],...e.value]))}function l(){Object.values(n.value).forEach(p=>c(p)),e.value=[]}function c(p){const d=e.value.indexOf(p);d>-1&&e.value.splice(d,1),p.messageList=[]}return{notificationStack:e,groups:n,notificationNumber:i,showNotification:r,removeNotification:s,registerGroup:o,addToGroup:a,clearAll:l}}),U_t={class:"h-full flex flex-col"},B_t={class:"w-full flex mb-6"},V_t=["content","aria-label"],z_t=Zt({__name:"screen",props:{panel:{type:Object,required:!0}},setup(t){const e=jo(),{t:n}=Je(),i=Wt(()=>e.notificationNumber),r=()=>e.clearAll();return(s,o)=>{const a=En("panel-screen"),l=we("tippy");return st(),Le(a,{panel:t.panel},{header:xn(()=>[Js(ve(_t(n)("notifications.title")),1)]),content:xn(()=>[nt("div",U_t,[nt("div",B_t,[be((st(),ft("button",{type:"button",onClick:r,class:Ke(["p-4 ml-auto",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:_t(n)("notifications.controls.clearAll"),"aria-label":_t(n)("notifications.controls.clearAll")},o[0]||(o[0]=[nt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[nt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),nt("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),nt("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),nt("path",{d:"M22 22l-5 -5"}),nt("path",{d:"M17 22l5 -5"})],-1)]),10,V_t)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),zt(jU,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var Ur=(t=>(t.ERROR="error",t.INFO="info",t.WARNING="warning",t))(Ur||{});class W_t extends _n{notificationStore;constructor(e){super(e),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":qe(z_t)},alertName:"notifications.title"}}),this.notificationStore=jo(this.$vApp.$pinia)}show(e,n){this.notificationStore.showNotification({type:e,message:n})}addGroup(e,n,i){if(this.getGroup(e))throw new Error("Duplicate notification group id registration: "+e);const r=new FU(this.$iApi,e,n,i);return this.notificationStore.registerGroup(r),r}getGroup(e){return this.notificationStore.groups[e]}}class FU extends _n{notificationStore=jo(this.$vApp.$pinia);id;message;type;messageList=[];constructor(e,n,i,r){super(e),this.id=n,this.type=i,this.message=r}show(e){this.notificationStore.addToGroup(this.id,e)}}const q_t=["content"],H_t={class:"flex items-center text-left"},Y_t={class:"select-text cursor-text"},J_t=["content","aria-label"],Z_t={key:0,class:"text-left"},X_t=Zt({__name:"notification-item",props:{notification:{type:Object,required:!0}},emits:["remove"],setup(t,{emit:e}){const{t:n}=Je(),i=e,r=t,s=Z(!1),o=Zn({[Ur.WARNING]:"\u26A0",[Ur.INFO]:"\u2139\uFE0F",[Ur.ERROR]:"\u274C"}),a=()=>{if(!r.notification.messageList)return!1};return(l,c)=>{const p=we("tippy");return be((st(),ft("li",{class:Ke(["flex-col default-focus-style p-4",t.notification.messageList?"cursor-pointer":""]),content:_t(n)(s.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>s.value=!s.value)},[nt("div",H_t,[nt("span",null,[Js(ve(o[t.notification.type])+" ",1),nt("span",Y_t,ve(t.notification.message),1)]),c[4]||(c[4]=nt("span",{class:"flex-grow"},null,-1)),t.notification.messageList?(st(),ft("div",{key:0,class:Ke(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":s.value}])},c[2]||(c[2]=[nt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[nt("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Ne("",!0),be((st(),ft("button",{type:"button",onClick:c[0]||(c[0]=Dp(()=>i("remove"),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:_t(n)("notifications.controls.dismiss"),"aria-label":_t(n)("notifications.controls.dismiss")},c[3]||(c[3]=[nt("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[nt("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,J_t)),[[p,{theme:"ramp4",animation:"scale"}]])]),t.notification.messageList&&s.value?(st(),ft("div",Z_t,[(st(!0),ft(Ie,null,Sa(t.notification.messageList,(d,f)=>(st(),ft("p",{key:t.notification.id+d+f},ve(d),1))),128))])):Ne("",!0)],10,q_t)),[[p,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),Q_t=["content"],K_t={key:0,class:"w-full border-b border-black"},txt={key:1,class:"flex flex-col items-center h-full"},jU=Zt({__name:"notification-list",setup(t){const e=jo(),{t:n}=Je(),i=Z(),r=Z({}),s=()=>{i.value._tippy.hide()},o=c=>{c.key==="Tab"&&i.value?.matches(":focus")&&i.value._tippy.show()},a=c=>{const p=c<l.value.length-1?c:c-1;e.removeNotification(l.value[c]);const d=l.value[p];d&&Dr(()=>{const f=r.value[d.id].$el??r.value[d.id];if(f){const y=new CustomEvent("switchFocusItem",{detail:{focusItem:f},bubbles:!0});f.dispatchEvent(y)}})};ri(()=>{i.value?.addEventListener("blur",s),i.value?.addEventListener("keyup",o)}),us(()=>{i.value?.removeEventListener("blur",s),i.value?.removeEventListener("keyup",o)});const l=Wt(()=>e.notificationStack);return(c,p)=>{const d=we("focus-item"),f=we("focus-list"),y=we("tippy");return st(),ft("div",null,[l.value.length>0?be((st(),ft("ul",{key:0,content:_t(n)("panels.controls.items"),ref_key:"el",ref:i,class:"h-full overflow-y-auto"},[(st(!0),ft(Ie,null,Sa(l.value,(g,b)=>(st(),ft(Ie,{key:g.id},[b>0?(st(),ft("div",K_t)):Ne("",!0),be(zt(X_t,{ref_for:!0,ref:x=>x?r.value[g.id]=x:delete r.value[g.id],class:Ke([g.type]),notification:g,onRemove:x=>a(b)},null,8,["class","notification","onRemove"]),[[d]])],64))),128))],8,Q_t)),[[f],[y,{trigger:"manual",placement:"top-start",touch:!1}]]):(st(),ft("div",txt,[p[0]||(p[0]=nt("span",{class:"flex-grow"},null,-1)),p[1]||(p[1]=nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[nt("path",{d:"M0 0h24v24H0z",fill:"none"}),nt("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),nt("span",null,ve(_t(n)("notifications.empty")),1),p[2]||(p[2]=nt("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),ext={class:"flex items-center hover:text-white"},nxt=["aria-label"],ixt={key:0,class:"number rounded-full w-18 text-white"},rxt={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},sxt={class:"pb-8 border-b border-gray-600"},oxt={class:"absolute flex right-3 top-3"},axt=["content","aria-label"],lxt=Zt({__name:"caption-button",setup(t){const e=jo(),{t:n}=Je(),i=Wt(()=>e.notificationNumber),r=()=>e.clearAll();return(s,o)=>{const a=En("close"),l=we("tippy");return st(),Le(jM,{position:"top-start",tooltip:_t(n)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:xn(()=>[nt("div",ext,[(st(),ft("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":_t(n)("notifications.open")},o[0]||(o[0]=[nt("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,nxt)),i.value&&i.value>0?(st(),ft("span",ixt,ve(i.value),1)):Ne("",!0)])]),default:xn(c=>[nt("div",rxt,[nt("div",null,[nt("h4",sxt,ve(_t(n)("notifications.title")),1),nt("div",oxt,[be((st(),ft("button",{type:"button",onClick:r,class:Ke(["p-4 mr-6",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:_t(n)("notifications.controls.clearAll"),"aria-label":_t(n)("notifications.controls.clearAll")},o[1]||(o[1]=[nt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[nt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),nt("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),nt("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),nt("path",{d:"M22 22l-5 -5"}),nt("path",{d:"M17 22l5 -5"})],-1)]),10,axt)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),zt(a,{onClick:c.close},null,8,["onClick"])])]),zt(jU,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),cxt=Po(lxt,[["__scopeId","data-v-3623a7d2"]]),uxt={class:"flex hover:text-white"},hxt=["aria-label"],pxt={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},dxt=["aria-label","content"],fxt={class:"pb-8 pt-1 border-b border-gray-600 mb-10"},mxt={class:"absolute right-5 top-5"},yxt={class:"select-text"},gxt={class:"font-bold cursor-text"},vxt={class:"text-sm cursor-text"},bxt={class:"font-bold cursor-text"},wxt={class:"ml-5 cursor-text"},_xt=Zt({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(t){const{t:e}=Je(),n=Nn("iApi"),i=()=>{n.reload()},r=Wt(()=>`${vd.major}.${vd.minor}.${vd.patch}`),s=Wt(()=>vd.hash.slice(0,9)),o=Wt(()=>{const a=new Date(vd.timestamp);if(isNaN(a.getTime()))return["dev mode","no date"];{const l=c=>c<10?"0"+c.toString():c.toString();return[`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,`${a.getHours()}:${l(a.getMinutes())}:${l(a.getSeconds())}`]}});return(a,l)=>{const c=En("close"),p=En("dropdown-menu"),d=we("tippy"),f=we("focus-item");return be((st(),Le(p,{class:"pointer-events-auto sm:flex",position:t.position,tooltip:_t(e)("ramp.about"),tooltipPlacement:t.position},{header:xn(()=>[nt("div",uxt,[(st(),ft("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":_t(e)("ramp.about.open")},l[0]||(l[0]=[nt("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,hxt))])]),default:xn(y=>[nt("div",pxt,[nt("div",null,[be((st(),ft("button",{class:"absolute left-5 top-5 text-gray-500 hover:text-black focus:text-black p-8",onClick:i,"aria-label":_t(e)("ramp.reload"),content:_t(e)("ramp.reload")},l[1]||(l[1]=[nt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[nt("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)]),8,dxt)),[[d,{placement:"bottom-start",theme:"ramp4",animation:"scale"}]]),nt("h4",fxt,ve(_t(e)("ramp.about")),1),nt("div",mxt,[zt(c,{onClick:y.close},null,8,["onClick"])]),nt("div",yxt,[nt("div",null,[nt("span",gxt,ve(r.value),1),nt("span",vxt," ["+ve(s.value)+"] ",1)]),nt("div",null,[nt("span",bxt,ve(o.value[0]),1),nt("span",wxt,ve(o.value[1]),1)]),l[2]||(l[2]=nt("div",{class:"mt-5"},[nt("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[nt("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),Js(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[f]])}}}),$U=Po(_xt,[["__scopeId","data-v-e0d1ce9f"]]),GU="S",UU="__HELP__",$M=He("keyboardnav",()=>{const t=Z(),e=Z({}),n=Z(!1),i=Z([]),r=Z(),s=Z("idle"),o=["H","?"];function a(){const C="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(const R of C)if(!e.value[R]&&!o.includes(R))return R}function l(C,R){let D=C.toUpperCase();if(o.includes(D)||e.value[D]){const U=a();U?D=U:console.error("No available keyboard namespace letters")}if(!R.handler)for(const U of R.keys)U.handler||console.error(`Keyboardnav registration for ${D} requires handlers for all keys or a parent handler`);return e.value[D]=R,D}function c(C){n.value!==C&&(n.value=C)}function p(C){t.value===C&&(t.value=void 0),delete e.value[C]}function d(C,R,D){if(C){if(C==="clear"){b({event:R,suppressHandler:!0});return}if(C==="reset"){const U=D??O.activeNamespace??O.keyChain[1];if(!U){b({suppressHandler:!0});return}x([GU,U]),_(void 0),w("awaitAction"),O.activeNamespace=U}}}function f(C,R,D){t.value=C,!D?.suppressHandler&&e.value[C]?.activeHandler?.(O,R)}function y(C,R){t.value&&!R?.suppressHandler&&e.value[t.value]?.deactiveHandler?.(O,C),t.value=void 0}function g(C,R){const D=t.value;if(!D)return;const U=e.value[D];if(!U)return;if(U.handler){const H=U.handler(O,R,C);return d(H,R,D),{namespace:D,key:C,chainAction:H??void 0}}const j=U.keys.find(H=>H.key===C);if(!j)return;const $=j.handler?.(O,R);return d($,R,D),{namespace:D,key:j.key,chainAction:$??void 0}}function b(C){y(C?.event,{suppressHandler:C?.suppressHandler}),C?.preserveChain||(i.value=[]),C?.preserveLastAction||(r.value=void 0),s.value="idle"}function x(C){i.value=[...C]}function A(C){i.value=[...i.value,C]}function M(){if(!i.value.length)return;const C=[...i.value],R=C.pop();return i.value=C,R}function _(C){r.value=C}function w(C){s.value=C}function T(C){y(C?.event,{suppressHandler:!0}),s.value="complete"}const I={activeNamespace:t,namespaces:e,helpVisible:n,keyChain:i,lastAction:r,chainState:s,register:l,unregister:p,activate:f,deactivate:y,trigger:g,setHelpVisible:c,resetChain:b,setChain:x,appendKey:A,popChain:M,setLastAction:_,setChainState:w,finalizeChain:T},O=I;return I}),xxt={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},Ext={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},Sxt=["href","aria-label"],Axt=["src","alt"],Mxt={key:1,class:"relative ml-10 top-2 text-sm sm:text-base font-mono flex items-center gap-2","aria-live":"polite"},Txt={class:"chain-content"},Ixt={class:"chain-keys"},Nxt={key:0,class:"chain-cursor"},Oxt={key:1,class:"chain-options"},Cxt={key:0},kxt={key:2,class:"relative ml-10 top-2 text-sm sm:text-base"},Rxt={class:"flex min-w-fit justify-end"},Lxt={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},Pxt=["aria-pressed","aria-label","content"],Dxt={class:"relative top-1 text-sm sm:text-base"},Fxt={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},jxt=["onClick"],$xt={key:0,class:"sr-only"},Gxt=Zt({__name:"map-caption",setup(t){const e=Zl(),n=$M(),i=er(),{t:r}=Je(),s=Nn("iApi"),o=Wt(()=>e.scale),a=Wt(()=>e.attribution),l=Wt(()=>e.coords),c=Wt(()=>e.langtoggle),p=Wt(()=>i.config.map),{keyChain:d,lastAction:f,chainState:y,namespaces:g,activeNamespace:b}=qj(n),x=Wt(()=>{if(!d.value.length)return;const O=d.value.join(" "),C=y.value==="awaitNamespace"||y.value==="awaitAction";let R;const D=f.value;if(D)if(D.namespace===UU)R=r("keyboardnav.chain.help");else{const j=`keyboardnav.key.${D.namespace}.${D.key}`,$=r(j);$!==j&&(R=$)}let U;if(y.value==="awaitNamespace"){const j=`H - ${r("keyboardnav.chain.help")}`,$=Object.keys(g.value).map(H=>{const u=`keyboardnav.ns.${H}`,m=r(u);return`${H} - ${m===u?H:m}`});U=`[${[j,...$].join(", ")}]`}else if(y.value==="awaitAction"){const j=b.value??d.value[1],$=j?g.value[j]:void 0;$&&$.keys?.length&&(U=`[${$.keys.map(H=>{const u=`keyboardnav.key.${j}.${H.key}`,m=r(u),S=m===u?H.key:m;return`${H.key} - ${S}`}).join(", ")}]`)}return{keys:O,options:U,description:R,cursor:C&&!!U}}),A=Z([]),M=Zn([]);M.push(Vn(p,O=>{O&&s.geo.map.caption.createCaption(p.value?.caption)})),us(()=>{M.forEach(O=>O())}),yu(()=>{Dr(()=>{s.$i18n.locale.value&&A.value.length==0&&(A.value=s.$i18n.availableLocales)})});const _=()=>a.value?.logo?.link&&a.value?.logo?.value&&!a.value?.logo?.disabled,w=O=>{s.$i18n.locale.value!=O&&s.setLanguage(O)},T=()=>{e.toggleScale(),s.geo.map.caption.updateScale()},I=(O=!1)=>r(O?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(O,C)=>{const R=En("dropdown-menu"),D=we("truncate"),U=we("tippy");return st(),ft("div",xxt,[zt($U,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),zt(cxt,{class:"sm:block display-none"}),_()?(st(),ft("span",Ext,[nt("a",{class:"pointer-events-auto cursor-pointer",href:a.value?.logo.link,target:"_blank","aria-label":a.value?.logo.altText},[nt("img",{class:"object-contain h-18 sm:h-26",src:a.value?.logo.value,alt:a.value?.logo.altText},null,8,Axt)],8,Sxt)])):Ne("",!0),x.value?(st(),ft("span",Mxt,[nt("span",Txt,[C[0]||(C[0]=nt("span",{class:"chain-colon"},":",-1)),nt("span",Ixt,ve(x.value.keys),1),x.value.cursor?(st(),ft("span",Nxt,"_")):Ne("",!0),x.value.options?(st(),ft("span",Oxt,ve(x.value.options),1)):Ne("",!0)]),x.value.description?(st(),ft("span",Cxt,"- "+ve(x.value.description)+"...",1)):Ne("",!0)])):a.value?.text.disabled?Ne("",!0):be((st(),ft("span",kxt,[Js(ve(a.value?.text.value),1)])),[[D,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),C[1]||(C[1]=nt("span",{class:"flex-grow w-15"},null,-1)),nt("div",Rxt,[l.value?.disabled?Ne("",!0):be((st(),ft("div",Lxt,[Js(ve(l.value?.formattedString),1)])),[[D,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),o.value?.disabled?Ne("",!0):be((st(),ft("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:T,"aria-pressed":o.value?.isImperialScale,"aria-label":`
                    ${o.value?.label} - ${I(o.value?.isImperialScale)}
                `,content:I(o.value?.isImperialScale)},[nt("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:ya({width:o.value?.width})},null,4),nt("span",Dxt,ve(o.value?.label),1)],8,Pxt)),[[U,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),c.value?.disabled?Ne("",!0):(st(),Le(R,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:_t(r)("map.changeLanguage"),ariaLabel:`${_t(r)("map.language.short")} - ${_t(r)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:xn(()=>[nt("span",Fxt,ve(_t(r)("map.language.short")),1)]),default:xn(()=>[(st(!0),ft(Ie,null,Sa(A.value,(j,$)=>(st(),ft("a",{key:`${j}-${$}`,class:Ke(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":j===_t(s).$i18n.locale.value}]),href:"javascript:;",onClick:H=>w(j)},[Js(ve(_t(r)("map.language."+j))+" ",1),j===_t(s).$i18n.locale.value?(st(),ft("span",$xt,ve(_t(r)("map.language.curr")),1)):Ne("",!0)],10,jxt))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),Uxt=["content","aria-label"],Bxt={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},Vxt=Zt({__name:"floating-button",setup(t){const e=jo(),n=Nn("iApi"),{t:i}=Je(),r=Wt(()=>e.notificationNumber);return(s,o)=>{const a=we("tippy");return be((st(),ft("button",{type:"button",onClick:o[0]||(o[0]=l=>_t(n).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:_t(i)("notifications.title"),"aria-label":_t(i)("notifications.title")},[o[1]||(o[1]=nt("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[nt("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),r.value&&r.value>0?(st(),ft("span",Bxt,ve(r.value),1)):Ne("",!0)],8,Uxt)),[[a]])}}}),zxt=Po(Vxt,[["__scopeId","data-v-a451db5c"]]),Wxt={class:"flex items-center mb-20"},qxt={class:"text-xl"},Hxt=Zt({__name:"keyboard-instructions",setup(t){const e=Nn("iApi"),{t:n}=Je(),i=Z(!1),r=Z(["app","lists","map","keyboardNav"]),s=Z([]),o=Z(null),a=Z(null);ri(()=>{s.value.push(e.event.on("openKeyboardInstructions",()=>{i.value=!0,Dr(()=>{o.value.focus()})}))}),us(()=>{s.value.forEach(c=>e.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),i.value=!1)};return(c,p)=>{const d=En("close");return i.value?(st(),ft("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:p[3]||(p[3]=f=>i.value=!1),onKeydown:l},[nt("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col keyboard-instructions-modal-content",onClick:p[2]||(p[2]=Dp(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[nt("div",Wxt,[nt("h2",qxt,ve(_t(n)("keyboardInstructions.title")),1),zt(d,{class:"ml-auto",onClick:p[0]||(p[0]=f=>i.value=!1)})]),(st(!0),ft(Ie,null,Sa(r.value,f=>(st(),ft("p",{class:"whitespace-pre-line pb-10",key:f},ve(_t(n)(`keyboardInstructions.${f}`)),1))),128)),nt("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:p[1]||(p[1]=f=>i.value=!1),ref_key:"lastEl",ref:a},ve(_t(n)("keyboardInstructions.OK")),513)],512)],32)):Ne("",!0)}}}),id=He("instance",()=>({started:Z(!1)})),Yxt={class:"h-full relative"},Jxt={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},Zxt={class:"absolute top-8 w-full flex justify-center"},Xxt={key:1,class:"w-full h-full"},Qxt=Zt({__name:"shell",setup(t){const e=Nn("iApi"),n=id(),i=ys(),r=nc(),{t:s}=Je(),o=Wt(()=>i.items.appbar),a=()=>{e.event.emit("openKeyboardInstructions")},l=()=>r.teleported;return(c,p)=>(st(),ft("div",Yxt,[nt("div",Jxt,[p[0]||(p[0]=nt("div",{class:"sr-only screen-reader-alert"},null,-1)),nt("div",Zxt,[nt("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},ve(_t(s)("keyboardInstructions.open")),1)]),zt(Hxt,{class:"keyboard-instructions-modal"}),zt(Lwt,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Ne("",!0):(st(),Le(zxt,{key:0})),zt(Gxt,{class:"z-30"})]),_t(n).started?(st(),Le(nwt,{key:0})):(st(),ft("div",Xxt,p[1]||(p[1]=[nt("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(st(!0),ft(Ie,null,Sa(l(),d=>(st(),Le(s4,{to:d.teleport?.target,key:d.id},[(st(),Le(gU,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),Kxt=Po(Qxt,[["__scopeId","data-v-3d441124"]]);var Sr="top",_s="bottom",xs="right",Ar="left",GM="auto",M0=[Sr,_s,xs,Ar],rd="start",T0="end",t3t="clippingParents",BU="viewport",I0="popper",e3t="reference",VU=M0.reduce(function(t,e){return t.concat([e+"-"+rd,e+"-"+T0])},[]),zU=[].concat(M0,[GM]).reduce(function(t,e){return t.concat([e,e+"-"+rd,e+"-"+T0])},[]),n3t="beforeRead",i3t="read",r3t="afterRead",s3t="beforeMain",o3t="main",a3t="afterMain",l3t="beforeWrite",c3t="write",u3t="afterWrite",h3t=[n3t,i3t,r3t,s3t,o3t,a3t,l3t,c3t,u3t];function $o(t){return t?(t.nodeName||"").toLowerCase():null}function no(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function sd(t){var e=no(t).Element;return t instanceof e||t instanceof Element}function Es(t){var e=no(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function WU(t){if(typeof ShadowRoot>"u")return!1;var e=no(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function p3t(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!Es(s)||!$o(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function d3t(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Es(r)||!$o(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var qU={name:"applyStyles",enabled:!0,phase:"write",fn:p3t,effect:d3t,requires:["computeStyles"]};function Go(t){return t.split("-")[0]}var Du=Math.max,qb=Math.min,od=Math.round;function ad(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),i=1,r=1;if(Es(t)&&e){var s=t.offsetHeight,o=t.offsetWidth;o>0&&(i=od(n.width)/o||1),s>0&&(r=od(n.height)/s||1)}return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function UM(t){var e=ad(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function HU(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&WU(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Uo(t){return no(t).getComputedStyle(t)}function f3t(t){return["table","td","th"].indexOf($o(t))>=0}function rc(t){return((sd(t)?t.ownerDocument:t.document)||window.document).documentElement}function Hb(t){return $o(t)==="html"?t:t.assignedSlot||t.parentNode||(WU(t)?t.host:null)||rc(t)}function YU(t){return!Es(t)||Uo(t).position==="fixed"?null:t.offsetParent}function m3t(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Es(t)){var i=Uo(t);if(i.position==="fixed")return null}for(var r=Hb(t);Es(r)&&["html","body"].indexOf($o(r))<0;){var s=Uo(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function N0(t){for(var e=no(t),n=YU(t);n&&f3t(n)&&Uo(n).position==="static";)n=YU(n);return n&&($o(n)==="html"||$o(n)==="body"&&Uo(n).position==="static")?e:n||m3t(t)||e}function BM(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function O0(t,e,n){return Du(t,qb(e,n))}function y3t(t,e,n){var i=O0(t,e,n);return i>n?n:i}function JU(){return{top:0,right:0,bottom:0,left:0}}function ZU(t){return Object.assign({},JU(),t)}function XU(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var g3t=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,ZU(typeof t!="number"?t:XU(t,M0))};function v3t(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Go(n.placement),l=BM(a),c=[Ar,xs].indexOf(a)>=0,p=c?"height":"width";if(!(!s||!o)){var d=g3t(r.padding,n),f=UM(s),y=l==="y"?Sr:Ar,g=l==="y"?_s:xs,b=n.rects.reference[p]+n.rects.reference[l]-o[l]-n.rects.popper[p],x=o[l]-n.rects.reference[l],A=N0(s),M=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,_=b/2-x/2,w=d[y],T=M-f[p]-d[g],I=M/2-f[p]/2+_,O=O0(w,I,T),C=l;n.modifiersData[i]=(e={},e[C]=O,e.centerOffset=O-I,e)}}function b3t(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||HU(e.elements.popper,r)&&(e.elements.arrow=r))}var w3t={name:"arrow",enabled:!0,phase:"main",fn:v3t,effect:b3t,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ld(t){return t.split("-")[1]}var _3t={top:"auto",right:"auto",bottom:"auto",left:"auto"};function x3t(t){var e=t.x,n=t.y,i=window,r=i.devicePixelRatio||1;return{x:od(e*r)/r||0,y:od(n*r)/r||0}}function QU(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,p=t.roundOffsets,d=t.isFixed,f=p===!0?x3t(o):typeof p=="function"?p(o):o,y=f.x,g=y===void 0?0:y,b=f.y,x=b===void 0?0:b,A=o.hasOwnProperty("x"),M=o.hasOwnProperty("y"),_=Ar,w=Sr,T=window;if(c){var I=N0(n),O="clientHeight",C="clientWidth";if(I===no(n)&&(I=rc(n),Uo(I).position!=="static"&&a==="absolute"&&(O="scrollHeight",C="scrollWidth")),I=I,r===Sr||(r===Ar||r===xs)&&s===T0){w=_s;var R=d&&T.visualViewport?T.visualViewport.height:I[O];x-=R-i.height,x*=l?1:-1}if(r===Ar||(r===Sr||r===_s)&&s===T0){_=xs;var D=d&&T.visualViewport?T.visualViewport.width:I[C];g-=D-i.width,g*=l?1:-1}}var U=Object.assign({position:a},c&&_3t);if(l){var j;return Object.assign({},U,(j={},j[w]=M?"0":"",j[_]=A?"0":"",j.transform=(T.devicePixelRatio||1)<=1?"translate("+g+"px, "+x+"px)":"translate3d("+g+"px, "+x+"px, 0)",j))}return Object.assign({},U,(e={},e[w]=M?x+"px":"",e[_]=A?g+"px":"",e.transform="",e))}function E3t(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Go(e.placement),variation:ld(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,QU(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,QU(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var S3t={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:E3t,data:{}},Yb={passive:!0};function A3t(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=no(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(p){p.addEventListener("scroll",n.update,Yb)}),a&&l.addEventListener("resize",n.update,Yb),function(){s&&c.forEach(function(p){p.removeEventListener("scroll",n.update,Yb)}),a&&l.removeEventListener("resize",n.update,Yb)}}var M3t={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:A3t,data:{}},T3t={left:"right",right:"left",bottom:"top",top:"bottom"};function Jb(t){return t.replace(/left|right|bottom|top/g,function(e){return T3t[e]})}var I3t={start:"end",end:"start"};function KU(t){return t.replace(/start|end/g,function(e){return I3t[e]})}function VM(t){var e=no(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function zM(t){return ad(rc(t)).left+VM(t).scrollLeft}function N3t(t){var e=no(t),n=rc(t),i=e.visualViewport,r=n.clientWidth,s=n.clientHeight,o=0,a=0;return i&&(r=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:r,height:s,x:o+zM(t),y:a}}function O3t(t){var e,n=rc(t),i=VM(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=Du(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Du(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+zM(t),l=-i.scrollTop;return Uo(r||n).direction==="rtl"&&(a+=Du(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function WM(t){var e=Uo(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function tB(t){return["html","body","#document"].indexOf($o(t))>=0?t.ownerDocument.body:Es(t)&&WM(t)?t:tB(Hb(t))}function C0(t,e){var n;e===void 0&&(e=[]);var i=tB(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=no(i),o=r?[s].concat(s.visualViewport||[],WM(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(C0(Hb(o)))}function qM(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function C3t(t){var e=ad(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function eB(t,e){return e===BU?qM(N3t(t)):sd(e)?C3t(e):qM(O3t(rc(t)))}function k3t(t){var e=C0(Hb(t)),n=["absolute","fixed"].indexOf(Uo(t).position)>=0,i=n&&Es(t)?N0(t):t;return sd(i)?e.filter(function(r){return sd(r)&&HU(r,i)&&$o(r)!=="body"&&(n?Uo(r).position!=="static":!0)}):[]}function R3t(t,e,n){var i=e==="clippingParents"?k3t(t):[].concat(e),r=[].concat(i,[n]),s=r[0],o=r.reduce(function(a,l){var c=eB(t,l);return a.top=Du(c.top,a.top),a.right=qb(c.right,a.right),a.bottom=qb(c.bottom,a.bottom),a.left=Du(c.left,a.left),a},eB(t,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function nB(t){var e=t.reference,n=t.element,i=t.placement,r=i?Go(i):null,s=i?ld(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case Sr:l={x:o,y:e.y-n.height};break;case _s:l={x:o,y:e.y+e.height};break;case xs:l={x:e.x+e.width,y:a};break;case Ar:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?BM(r):null;if(c!=null){var p=c==="y"?"height":"width";switch(s){case rd:l[c]=l[c]-(e[p]/2-n[p]/2);break;case T0:l[c]=l[c]+(e[p]/2-n[p]/2);break}}return l}function k0(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.boundary,o=s===void 0?t3t:s,a=n.rootBoundary,l=a===void 0?BU:a,c=n.elementContext,p=c===void 0?I0:c,d=n.altBoundary,f=d===void 0?!1:d,y=n.padding,g=y===void 0?0:y,b=ZU(typeof g!="number"?g:XU(g,M0)),x=p===I0?e3t:I0,A=t.rects.popper,M=t.elements[f?x:p],_=R3t(sd(M)?M:M.contextElement||rc(t.elements.popper),o,l),w=ad(t.elements.reference),T=nB({reference:w,element:A,placement:r}),I=qM(Object.assign({},A,T)),O=p===I0?I:w,C={top:_.top-O.top+b.top,bottom:O.bottom-_.bottom+b.bottom,left:_.left-O.left+b.left,right:O.right-_.right+b.right},R=t.modifiersData.offset;if(p===I0&&R){var D=R[r];Object.keys(C).forEach(function(U){var j=[xs,_s].indexOf(U)>=0?1:-1,$=[Sr,_s].indexOf(U)>=0?"y":"x";C[U]+=D[$]*j})}return C}function L3t(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?zU:l,p=ld(i),d=p?a?VU:VU.filter(function(g){return ld(g)===p}):M0,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var y=f.reduce(function(g,b){return g[b]=k0(t,{placement:b,boundary:r,rootBoundary:s,padding:o})[Go(b)],g},{});return Object.keys(y).sort(function(g,b){return y[g]-y[b]})}function P3t(t){if(Go(t)===GM)return[];var e=Jb(t);return[KU(t),e,KU(e)]}function D3t(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,p=n.boundary,d=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,g=y===void 0?!0:y,b=n.allowedAutoPlacements,x=e.options.placement,A=Go(x),M=A===x,_=l||(M||!g?[Jb(x)]:P3t(x)),w=[x].concat(_).reduce(function(Lt,Ut){return Lt.concat(Go(Ut)===GM?L3t(e,{placement:Ut,boundary:p,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:b}):Ut)},[]),T=e.rects.reference,I=e.rects.popper,O=new Map,C=!0,R=w[0],D=0;D<w.length;D++){var U=w[D],j=Go(U),$=ld(U)===rd,H=[Sr,_s].indexOf(j)>=0,u=H?"width":"height",m=k0(e,{placement:U,boundary:p,rootBoundary:d,altBoundary:f,padding:c}),S=H?$?xs:Ar:$?_s:Sr;T[u]>I[u]&&(S=Jb(S));var k=Jb(S),V=[];if(s&&V.push(m[j]<=0),a&&V.push(m[S]<=0,m[k]<=0),V.every(function(Lt){return Lt})){R=U,C=!1;break}O.set(U,V)}if(C)for(var J=g?3:1,pt=function(Lt){var Ut=w.find(function(xe){var Pe=O.get(xe);if(Pe)return Pe.slice(0,Lt).every(function(Ue){return Ue})});if(Ut)return R=Ut,"break"},ot=J;ot>0;ot--){var It=pt(ot);if(It==="break")break}e.placement!==R&&(e.modifiersData[i]._skip=!0,e.placement=R,e.reset=!0)}}var F3t={name:"flip",enabled:!0,phase:"main",fn:D3t,requiresIfExists:["offset"],data:{_skip:!1}};function iB(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function rB(t){return[Sr,xs,_s,Ar].some(function(e){return t[e]>=0})}function j3t(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=k0(e,{elementContext:"reference"}),a=k0(e,{altBoundary:!0}),l=iB(o,i),c=iB(a,r,s),p=rB(l),d=rB(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":d})}var $3t={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:j3t};function G3t(t,e,n){var i=Go(t),r=[Ar,Sr].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Ar,xs].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function U3t(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=zU.reduce(function(p,d){return p[d]=G3t(d,e.rects,s),p},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}var B3t={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:U3t};function V3t(t){var e=t.state,n=t.name;e.modifiersData[n]=nB({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var z3t={name:"popperOffsets",enabled:!0,phase:"read",fn:V3t,data:{}};function W3t(t){return t==="x"?"y":"x"}function q3t(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,p=n.altBoundary,d=n.padding,f=n.tether,y=f===void 0?!0:f,g=n.tetherOffset,b=g===void 0?0:g,x=k0(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:p}),A=Go(e.placement),M=ld(e.placement),_=!M,w=BM(A),T=W3t(w),I=e.modifiersData.popperOffsets,O=e.rects.reference,C=e.rects.popper,R=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,D=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),U=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(I){if(s){var $,H=w==="y"?Sr:Ar,u=w==="y"?_s:xs,m=w==="y"?"height":"width",S=I[w],k=S+x[H],V=S-x[u],J=y?-C[m]/2:0,pt=M===rd?O[m]:C[m],ot=M===rd?-C[m]:-O[m],It=e.elements.arrow,Lt=y&&It?UM(It):{width:0,height:0},Ut=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:JU(),xe=Ut[H],Pe=Ut[u],Ue=O0(0,O[m],Lt[m]),Pi=_?O[m]/2-J-Ue-xe-D.mainAxis:pt-Ue-xe-D.mainAxis,nn=_?-O[m]/2+J+Ue+Pe+D.mainAxis:ot+Ue+Pe+D.mainAxis,Dn=e.elements.arrow&&N0(e.elements.arrow),vi=Dn?w==="y"?Dn.clientTop||0:Dn.clientLeft||0:0,G=($=U?.[w])!=null?$:0,F=S+Pi-G-vi,Y=S+nn-G,it=O0(y?qb(k,F):k,S,y?Du(V,Y):V);I[w]=it,j[w]=it-S}if(a){var et,rt=w==="x"?Sr:Ar,dt=w==="x"?_s:xs,L=I[T],P=T==="y"?"height":"width",W=L+x[rt],X=L-x[dt],B=[Sr,Ar].indexOf(A)!==-1,q=(et=U?.[T])!=null?et:0,ut=B?W:L-O[P]-C[P]-q+D.altAxis,bt=B?L+O[P]+C[P]-q-D.altAxis:X,Ht=y&&B?y3t(ut,L,bt):O0(y?ut:W,L,y?bt:X);I[T]=Ht,j[T]=Ht-L}e.modifiersData[i]=j}}var H3t={name:"preventOverflow",enabled:!0,phase:"main",fn:q3t,requiresIfExists:["offset"]};function Y3t(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function J3t(t){return t===no(t)||!Es(t)?VM(t):Y3t(t)}function Z3t(t){var e=t.getBoundingClientRect(),n=od(e.width)/t.offsetWidth||1,i=od(e.height)/t.offsetHeight||1;return n!==1||i!==1}function X3t(t,e,n){n===void 0&&(n=!1);var i=Es(e),r=Es(e)&&Z3t(e),s=rc(e),o=ad(t,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(($o(e)!=="body"||WM(s))&&(a=J3t(e)),Es(e)?(l=ad(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=zM(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Q3t(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function K3t(t){var e=Q3t(t);return h3t.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function tEt(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function eEt(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var sB={placement:"bottom",modifiers:[],strategy:"absolute"};function oB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function nEt(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?sB:r;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},sB,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},p=[],d=!1,f={state:c,setOptions:function(b){var x=typeof b=="function"?b(c.options):b;g(),c.options=Object.assign({},s,c.options,x),c.scrollParents={reference:sd(o)?C0(o):o.contextElement?C0(o.contextElement):[],popper:C0(a)};var A=K3t(eEt([].concat(i,c.options.modifiers)));return c.orderedModifiers=A.filter(function(M){return M.enabled}),y(),f.update()},forceUpdate:function(){if(!d){var b=c.elements,x=b.reference,A=b.popper;if(oB(x,A)){c.rects={reference:X3t(x,N0(A),c.options.strategy==="fixed"),popper:UM(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var M=0;M<c.orderedModifiers.length;M++){if(c.reset===!0){c.reset=!1,M=-1;continue}var _=c.orderedModifiers[M],w=_.fn,T=_.options,I=T===void 0?{}:T,O=_.name;typeof w=="function"&&(c=w({state:c,options:I,name:O,instance:f})||c)}}}},update:tEt(function(){return new Promise(function(b){f.forceUpdate(),b(c)})}),destroy:function(){g(),d=!0}};if(!oB(o,a))return f;f.setOptions(l).then(function(b){!d&&l.onFirstUpdate&&l.onFirstUpdate(b)});function y(){c.orderedModifiers.forEach(function(b){var x=b.name,A=b.options,M=A===void 0?{}:A,_=b.effect;if(typeof _=="function"){var w=_({state:c,name:x,instance:f,options:M}),T=function(){};p.push(w||T)}})}function g(){p.forEach(function(b){return b()}),p=[]}return f}}var iEt=[M3t,z3t,S3t,qU,B3t,F3t,H3t,w3t,$3t],rEt=nEt({defaultModifiers:iEt}),sEt="tippy-box",aB="tippy-content",lB="tippy-backdrop",cB="tippy-arrow",uB="tippy-svg-arrow",Fu={passive:!0,capture:!0},hB=function(){return document.body};function HM(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function YM(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function pB(t,e){return typeof t=="function"?t.apply(void 0,e):t}function dB(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function oEt(t,e){var n=Object.assign({},t);return e.forEach(function(i){delete n[i]}),n}function aEt(t){return t.split(/\s+/).filter(Boolean)}function ju(t){return[].concat(t)}function fB(t,e){t.indexOf(e)===-1&&t.push(e)}function lEt(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function mB(t){return t.split("-")[0]}function cd(t){return[].slice.call(t)}function yB(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function $u(){return document.createElement("div")}function Zb(t){return["Element","Fragment"].some(function(e){return YM(t,e)})}function cEt(t){return YM(t,"NodeList")}function JM(t){return YM(t,"MouseEvent")}function uEt(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function hEt(t){return Zb(t)?[t]:cEt(t)?cd(t):Array.isArray(t)?t:cd(document.querySelectorAll(t))}function ZM(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function R0(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function gB(t){var e,n=ju(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function pEt(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var s=r.popperRect,o=r.popperState,a=r.props,l=a.interactiveBorder,c=mB(o.placement),p=o.modifiersData.offset;if(!p)return!0;var d=c==="bottom"?p.top.y:0,f=c==="top"?p.bottom.y:0,y=c==="right"?p.left.x:0,g=c==="left"?p.right.x:0,b=s.top-i+d>l,x=i-s.bottom-f>l,A=s.left-n+y>l,M=n-s.right-g>l;return b||x||A||M})}function XM(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function vB(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var Bo={isTouch:!1},bB=0;function dEt(){Bo.isTouch||(Bo.isTouch=!0,window.performance&&document.addEventListener("mousemove",wB))}function wB(){var t=performance.now();t-bB<20&&(Bo.isTouch=!1,document.removeEventListener("mousemove",wB)),bB=t}function fEt(){var t=document.activeElement;if(uEt(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function mEt(){document.addEventListener("touchstart",dEt,Fu),window.addEventListener("blur",fEt)}var yEt=typeof window<"u"&&typeof document<"u",gEt=yEt?!!window.msCrypto:!1,vEt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},bEt={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},io=Object.assign({appendTo:hB,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},vEt,bEt),wEt=Object.keys(io),_Et=function(t){var e=Object.keys(t);e.forEach(function(n){io[n]=t[n]})};function _B(t){var e=t.plugins||[],n=e.reduce(function(i,r){var s=r.name,o=r.defaultValue;if(s){var a;i[s]=t[s]!==void 0?t[s]:(a=io[s])!=null?a:o}return i},{});return Object.assign({},t,n)}function xEt(t,e){var n=e?Object.keys(_B(Object.assign({},io,{plugins:e}))):wEt,i=n.reduce(function(r,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return r;if(s==="content")r[s]=o;else try{r[s]=JSON.parse(o)}catch{r[s]=o}return r},{});return i}function xB(t,e){var n=Object.assign({},e,{content:pB(e.content,[t])},e.ignoreAttributes?{}:xEt(t,e.plugins));return n.aria=Object.assign({},io.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var EEt=function(){return"innerHTML"};function QM(t,e){t[EEt()]=e}function EB(t){var e=$u();return t===!0?e.className=cB:(e.className=uB,Zb(t)?e.appendChild(t):QM(e,t)),e}function SB(t,e){Zb(e.content)?(QM(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?QM(t,e.content):t.textContent=e.content)}function Xb(t){var e=t.firstElementChild,n=cd(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(aB)}),arrow:n.find(function(i){return i.classList.contains(cB)||i.classList.contains(uB)}),backdrop:n.find(function(i){return i.classList.contains(lB)})}}function AB(t){var e=$u(),n=$u();n.className=sEt,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=$u();i.className=aB,i.setAttribute("data-state","hidden"),SB(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(s,o){var a=Xb(e),l=a.box,c=a.content,p=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&SB(c,t.props),o.arrow?p?s.arrow!==o.arrow&&(l.removeChild(p),l.appendChild(EB(o.arrow))):l.appendChild(EB(o.arrow)):p&&l.removeChild(p)}return{popper:e,onUpdate:r}}AB.$$tippy=!0;var SEt=1,Qb=[],KM=[];function AEt(t,e){var n=xB(t,Object.assign({},io,_B(yB(e)))),i,r,s,o=!1,a=!1,l=!1,c=!1,p,d,f,y=[],g=dB(F,n.interactiveDebounce),b,x=SEt++,A=null,M=lEt(n.plugins),_={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},w={id:x,reference:t,popper:$u(),popperInstance:A,props:n,state:_,plugins:M,clearDelayTimeouts:ut,setProps:bt,setContent:Ht,show:Qt,hide:cn,hideWithInteractivity:Fn,enable:B,disable:q,unmount:nr,destroy:Di};if(!n.render)return w;var T=n.render(w),I=T.popper,O=T.onUpdate;I.setAttribute("data-tippy-root",""),I.id="tippy-"+w.id,w.popper=I,t._tippy=w,I._tippy=w;var C=M.map(function(K){return K.fn(w)}),R=t.hasAttribute("aria-expanded");return Dn(),J(),S(),k("onCreate",[w]),n.showOnCreate&&W(),I.addEventListener("mouseenter",function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()}),I.addEventListener("mouseleave",function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&H().addEventListener("mousemove",g)}),w;function D(){var K=w.props.touch;return Array.isArray(K)?K:[K,0]}function U(){return D()[0]==="hold"}function j(){var K;return!!((K=w.props.render)!=null&&K.$$tippy)}function $(){return b||t}function H(){var K=$().parentNode;return K?gB(K):document}function u(){return Xb(I)}function m(K){return w.state.isMounted&&!w.state.isVisible||Bo.isTouch||p&&p.type==="focus"?0:HM(w.props.delay,K?0:1,io.delay)}function S(K){K===void 0&&(K=!1),I.style.pointerEvents=w.props.interactive&&!K?"":"none",I.style.zIndex=""+w.props.zIndex}function k(K,St,At){if(At===void 0&&(At=!0),C.forEach(function(Kt){Kt[K]&&Kt[K].apply(Kt,St)}),At){var Yt;(Yt=w.props)[K].apply(Yt,St)}}function V(){var K=w.props.aria;if(K.content){var St="aria-"+K.content,At=I.id,Yt=ju(w.props.triggerTarget||t);Yt.forEach(function(Kt){var Fi=Kt.getAttribute(St);if(w.state.isVisible)Kt.setAttribute(St,Fi?Fi+" "+At:At);else{var zr=Fi&&Fi.replace(At,"").trim();zr?Kt.setAttribute(St,zr):Kt.removeAttribute(St)}})}}function J(){if(!(R||!w.props.aria.expanded)){var K=ju(w.props.triggerTarget||t);K.forEach(function(St){w.props.interactive?St.setAttribute("aria-expanded",w.state.isVisible&&St===$()?"true":"false"):St.removeAttribute("aria-expanded")})}}function pt(){H().removeEventListener("mousemove",g),Qb=Qb.filter(function(K){return K!==g})}function ot(K){if(!(Bo.isTouch&&(l||K.type==="mousedown"))){var St=K.composedPath&&K.composedPath()[0]||K.target;if(!(w.props.interactive&&vB(I,St))){if(ju(w.props.triggerTarget||t).some(function(At){return vB(At,St)})){if(Bo.isTouch||w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else k("onClickOutside",[w,K]);w.props.hideOnClick===!0&&(w.clearDelayTimeouts(),w.hide(),a=!0,setTimeout(function(){a=!1}),w.state.isMounted||xe())}}}function It(){l=!0}function Lt(){l=!1}function Ut(){var K=H();K.addEventListener("mousedown",ot,!0),K.addEventListener("touchend",ot,Fu),K.addEventListener("touchstart",Lt,Fu),K.addEventListener("touchmove",It,Fu)}function xe(){var K=H();K.removeEventListener("mousedown",ot,!0),K.removeEventListener("touchend",ot,Fu),K.removeEventListener("touchstart",Lt,Fu),K.removeEventListener("touchmove",It,Fu)}function Pe(K,St){Pi(K,function(){!w.state.isVisible&&I.parentNode&&I.parentNode.contains(I)&&St()})}function Ue(K,St){Pi(K,St)}function Pi(K,St){var At=u().box;function Yt(Kt){Kt.target===At&&(XM(At,"remove",Yt),St())}if(K===0)return St();XM(At,"remove",d),XM(At,"add",Yt),d=Yt}function nn(K,St,At){At===void 0&&(At=!1);var Yt=ju(w.props.triggerTarget||t);Yt.forEach(function(Kt){Kt.addEventListener(K,St,At),y.push({node:Kt,eventType:K,handler:St,options:At})})}function Dn(){U()&&(nn("touchstart",G,{passive:!0}),nn("touchend",Y,{passive:!0})),aEt(w.props.trigger).forEach(function(K){if(K!=="manual")switch(nn(K,G),K){case"mouseenter":nn("mouseleave",Y);break;case"focus":nn(gEt?"focusout":"blur",it);break;case"focusin":nn("focusout",it);break}})}function vi(){y.forEach(function(K){var St=K.node,At=K.eventType,Yt=K.handler,Kt=K.options;St.removeEventListener(At,Yt,Kt)}),y=[]}function G(K){var St,At=!1;if(!(!w.state.isEnabled||et(K)||a)){var Yt=((St=p)==null?void 0:St.type)==="focus";p=K,b=K.currentTarget,J(),!w.state.isVisible&&JM(K)&&Qb.forEach(function(Kt){return Kt(K)}),K.type==="click"&&(w.props.trigger.indexOf("mouseenter")<0||o)&&w.props.hideOnClick!==!1&&w.state.isVisible?At=!0:W(K),K.type==="click"&&(o=!At),At&&!Yt&&X(K)}}function F(K){var St=K.target,At=$().contains(St)||I.contains(St);if(!(K.type==="mousemove"&&At)){var Yt=P().concat(I).map(function(Kt){var Fi,zr=Kt._tippy,qu=(Fi=zr.popperInstance)==null?void 0:Fi.state;return qu?{popperRect:Kt.getBoundingClientRect(),popperState:qu,props:n}:null}).filter(Boolean);pEt(Yt,K)&&(pt(),X(K))}}function Y(K){var St=et(K)||w.props.trigger.indexOf("click")>=0&&o;if(!St){if(w.props.interactive){w.hideWithInteractivity(K);return}X(K)}}function it(K){w.props.trigger.indexOf("focusin")<0&&K.target!==$()||w.props.interactive&&K.relatedTarget&&I.contains(K.relatedTarget)||X(K)}function et(K){return Bo.isTouch?U()!==K.type.indexOf("touch")>=0:!1}function rt(){dt();var K=w.props,St=K.popperOptions,At=K.placement,Yt=K.offset,Kt=K.getReferenceClientRect,Fi=K.moveTransition,zr=j()?Xb(I).arrow:null,qu=Kt?{getBoundingClientRect:Kt,contextElement:Kt.contextElement||$()}:t,J0={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Z0){var Hu=Z0.state;if(j()){var WV=u(),Z2=WV.box;["placement","reference-hidden","escaped"].forEach(function(X0){X0==="placement"?Z2.setAttribute("data-placement",Hu.placement):Hu.attributes.popper["data-popper-"+X0]?Z2.setAttribute("data-"+X0,""):Z2.removeAttribute("data-"+X0)}),Hu.attributes.popper={}}}},hc=[{name:"offset",options:{offset:Yt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Fi}},J0];j()&&zr&&hc.push({name:"arrow",options:{element:zr,padding:3}}),hc.push.apply(hc,St?.modifiers||[]),w.popperInstance=rEt(qu,I,Object.assign({},St,{placement:At,onFirstUpdate:f,modifiers:hc}))}function dt(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function L(){var K=w.props.appendTo,St,At=$();w.props.interactive&&K===hB||K==="parent"?St=At.parentNode:St=pB(K,[At]),St.contains(I)||St.appendChild(I),w.state.isMounted=!0,rt()}function P(){return cd(I.querySelectorAll("[data-tippy-root]"))}function W(K){w.clearDelayTimeouts(),K&&k("onTrigger",[w,K]),Ut();var St=m(!0),At=D(),Yt=At[0],Kt=At[1];Bo.isTouch&&Yt==="hold"&&Kt&&(St=Kt),St?i=setTimeout(function(){w.show()},St):w.show()}function X(K){if(w.clearDelayTimeouts(),k("onUntrigger",[w,K]),!w.state.isVisible){xe();return}if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(K.type)>=0&&o)){var St=m(!1);St?r=setTimeout(function(){w.state.isVisible&&w.hide()},St):s=requestAnimationFrame(function(){w.hide()})}}function B(){w.state.isEnabled=!0}function q(){w.hide(),w.state.isEnabled=!1}function ut(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(s)}function bt(K){if(!w.state.isDestroyed){k("onBeforeUpdate",[w,K]),vi();var St=w.props,At=xB(t,Object.assign({},St,yB(K),{ignoreAttributes:!0}));w.props=At,Dn(),St.interactiveDebounce!==At.interactiveDebounce&&(pt(),g=dB(F,At.interactiveDebounce)),St.triggerTarget&&!At.triggerTarget?ju(St.triggerTarget).forEach(function(Yt){Yt.removeAttribute("aria-expanded")}):At.triggerTarget&&t.removeAttribute("aria-expanded"),J(),S(),O&&O(St,At),w.popperInstance&&(rt(),P().forEach(function(Yt){requestAnimationFrame(Yt._tippy.popperInstance.forceUpdate)})),k("onAfterUpdate",[w,K])}}function Ht(K){w.setProps({content:K})}function Qt(){var K=w.state.isVisible,St=w.state.isDestroyed,At=!w.state.isEnabled,Yt=Bo.isTouch&&!w.props.touch,Kt=HM(w.props.duration,0,io.duration);if(!(K||St||At||Yt)&&!$().hasAttribute("disabled")&&(k("onShow",[w],!1),w.props.onShow(w)!==!1)){if(w.state.isVisible=!0,j()&&(I.style.visibility="visible"),S(),Ut(),w.state.isMounted||(I.style.transition="none"),j()){var Fi=u(),zr=Fi.box,qu=Fi.content;ZM([zr,qu],0)}f=function(){var J0;if(!(!w.state.isVisible||c)){if(c=!0,I.offsetHeight,I.style.transition=w.props.moveTransition,j()&&w.props.animation){var hc=u(),Z0=hc.box,Hu=hc.content;ZM([Z0,Hu],Kt),R0([Z0,Hu],"visible")}V(),J(),fB(KM,w),(J0=w.popperInstance)==null||J0.forceUpdate(),k("onMount",[w]),w.props.animation&&j()&&Ue(Kt,function(){w.state.isShown=!0,k("onShown",[w])})}},L()}}function cn(){var K=!w.state.isVisible,St=w.state.isDestroyed,At=!w.state.isEnabled,Yt=HM(w.props.duration,1,io.duration);if(!(K||St||At)&&(k("onHide",[w],!1),w.props.onHide(w)!==!1)){if(w.state.isVisible=!1,w.state.isShown=!1,c=!1,o=!1,j()&&(I.style.visibility="hidden"),pt(),xe(),S(!0),j()){var Kt=u(),Fi=Kt.box,zr=Kt.content;w.props.animation&&(ZM([Fi,zr],Yt),R0([Fi,zr],"hidden"))}V(),J(),w.props.animation?j()&&Pe(Yt,w.unmount):w.unmount()}}function Fn(K){H().addEventListener("mousemove",g),fB(Qb,g),g(K)}function nr(){w.state.isVisible&&w.hide(),w.state.isMounted&&(dt(),P().forEach(function(K){K._tippy.unmount()}),I.parentNode&&I.parentNode.removeChild(I),KM=KM.filter(function(K){return K!==w}),w.state.isMounted=!1,k("onHidden",[w]))}function Di(){w.state.isDestroyed||(w.clearDelayTimeouts(),w.unmount(),vi(),delete t._tippy,w.state.isDestroyed=!0,k("onDestroy",[w]))}}function Mt(t,e){e===void 0&&(e={});var n=io.plugins.concat(e.plugins||[]);mEt();var i=Object.assign({},e,{plugins:n}),r=hEt(t),s=r.reduce(function(o,a){var l=a&&AEt(a,i);return l&&o.push(l),o},[]);return Zb(t)?s[0]:s}Mt.defaultProps=io,Mt.setDefaultProps=_Et,Mt.currentInput=Bo;var MEt=Object.assign({},qU,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}}),TEt=function(t,e){var n;e===void 0&&(e={});var i=t,r=[],s=[],o,a=e.overrides,l=[],c=!1;function p(){s=i.map(function(_){return ju(_.props.triggerTarget||_.reference)}).reduce(function(_,w){return _.concat(w)},[])}function d(){r=i.map(function(_){return _.reference})}function f(_){i.forEach(function(w){_?w.enable():w.disable()})}function y(_){return i.map(function(w){var T=w.setProps;return w.setProps=function(I){T(I),w.reference===o&&_.setProps(I)},function(){w.setProps=T}})}function g(_,w){var T=s.indexOf(w);if(w!==o){o=w;var I=(a||[]).concat("content").reduce(function(O,C){return O[C]=i[T].props[C],O},{});_.setProps(Object.assign({},I,{getReferenceClientRect:typeof I.getReferenceClientRect=="function"?I.getReferenceClientRect:function(){var O;return(O=r[T])==null?void 0:O.getBoundingClientRect()}}))}}f(!1),d(),p();var b={fn:function(){return{onDestroy:function(){f(!0)},onHidden:function(){o=null},onClickOutside:function(_){_.props.showOnCreate&&!c&&(c=!0,o=null)},onShow:function(_){_.props.showOnCreate&&!c&&(c=!0,g(_,r[0]))},onTrigger:function(_,w){g(_,w.currentTarget)}}}},x=Mt($u(),Object.assign({},oEt(e,["overrides"]),{plugins:[b].concat(e.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((n=e.popperOptions)==null?void 0:n.modifiers)||[],[MEt])})})),A=x.show;x.show=function(_){if(A(),!o&&_==null)return g(x,r[0]);if(!(o&&_==null)){if(typeof _=="number")return r[_]&&g(x,r[_]);if(i.indexOf(_)>=0){var w=_.reference;return g(x,w)}if(r.indexOf(_)>=0)return g(x,_)}},x.showNext=function(){var _=r[0];if(!o)return x.show(0);var w=r.indexOf(o);x.show(r[w+1]||_)},x.showPrevious=function(){var _=r[r.length-1];if(!o)return x.show(_);var w=r.indexOf(o),T=r[w-1]||_;x.show(T)};var M=x.setProps;return x.setProps=function(_){a=_.overrides||a,M(_)},x.setInstances=function(_){f(!0),l.forEach(function(w){return w()}),i=_,f(!1),d(),p(),l=y(x),x.setProps({triggerTarget:s})},l=y(x),x},IEt={name:"animateFill",defaultValue:!1,fn:function(t){var e;if(!((e=t.props.render)!=null&&e.$$tippy))return{};var n=Xb(t.popper),i=n.box,r=n.content,s=t.props.animateFill?NEt():null;return{onCreate:function(){s&&(i.insertBefore(s,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(s){var o=i.style.transitionDuration,a=Number(o.replace("ms",""));r.style.transitionDelay=Math.round(a/10)+"ms",s.style.transitionDuration=o,R0([s],"visible")}},onShow:function(){s&&(s.style.transitionDuration="0ms")},onHide:function(){s&&R0([s],"hidden")}}}};function NEt(){var t=$u();return t.className=lB,R0([t],"hidden"),t}var tT={clientX:0,clientY:0},Kb=[];function MB(t){var e=t.clientX,n=t.clientY;tT={clientX:e,clientY:n}}function OEt(t){t.addEventListener("mousemove",MB)}function CEt(t){t.removeEventListener("mousemove",MB)}var kEt={name:"followCursor",defaultValue:!1,fn:function(t){var e=t.reference,n=gB(t.props.triggerTarget||e),i=!1,r=!1,s=!0,o=t.props;function a(){return t.props.followCursor==="initial"&&t.state.isVisible}function l(){n.addEventListener("mousemove",d)}function c(){n.removeEventListener("mousemove",d)}function p(){i=!0,t.setProps({getReferenceClientRect:null}),i=!1}function d(g){var b=g.target?e.contains(g.target):!0,x=t.props.followCursor,A=g.clientX,M=g.clientY,_=e.getBoundingClientRect(),w=A-_.left,T=M-_.top;(b||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var I=e.getBoundingClientRect(),O=A,C=M;x==="initial"&&(O=I.left+w,C=I.top+T);var R=x==="horizontal"?I.top:C,D=x==="vertical"?I.right:O,U=x==="horizontal"?I.bottom:C,j=x==="vertical"?I.left:O;return{width:D-j,height:U-R,top:R,right:D,bottom:U,left:j}}})}function f(){t.props.followCursor&&(Kb.push({instance:t,doc:n}),OEt(n))}function y(){Kb=Kb.filter(function(g){return g.instance!==t}),Kb.filter(function(g){return g.doc===n}).length===0&&CEt(n)}return{onCreate:f,onDestroy:y,onBeforeUpdate:function(){o=t.props},onAfterUpdate:function(g,b){var x=b.followCursor;i||x!==void 0&&o.followCursor!==x&&(y(),x?(f(),t.state.isMounted&&!r&&!a()&&l()):(c(),p()))},onMount:function(){t.props.followCursor&&!r&&(s&&(d(tT),s=!1),a()||l())},onTrigger:function(g,b){JM(b)&&(tT={clientX:b.clientX,clientY:b.clientY}),r=b.type==="focus"},onHidden:function(){t.props.followCursor&&(p(),c(),s=!0)}}}};function REt(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((((n=t.popperOptions)==null?void 0:n.modifiers)||[]).filter(function(i){var r=i.name;return r!==e.name}),[e])})}}var LEt={name:"inlinePositioning",defaultValue:!1,fn:function(t){var e=t.reference;function n(){return!!t.props.inlinePositioning}var i,r=-1,s=!1,o=[],a={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(d){var f=d.state;n()&&(o.indexOf(f.placement)!==-1&&(o=[]),i!==f.placement&&o.indexOf(f.placement)===-1&&(o.push(f.placement),t.setProps({getReferenceClientRect:function(){return l(f.placement)}})),i=f.placement)}};function l(d){return PEt(mB(d),e.getBoundingClientRect(),cd(e.getClientRects()),r)}function c(d){s=!0,t.setProps(d),s=!1}function p(){s||c(REt(t.props,a))}return{onCreate:p,onAfterUpdate:p,onTrigger:function(d,f){if(JM(f)){var y=cd(t.reference.getClientRects()),g=y.find(function(x){return x.left-2<=f.clientX&&x.right+2>=f.clientX&&x.top-2<=f.clientY&&x.bottom+2>=f.clientY}),b=y.indexOf(g);r=b>-1?b:r}},onHidden:function(){r=-1}}}};function PEt(t,e,n,i){if(n.length<2||t===null)return e;if(n.length===2&&i>=0&&n[0].left>n[1].right)return n[i]||e;switch(t){case"top":case"bottom":{var r=n[0],s=n[n.length-1],o=t==="top",a=r.top,l=s.bottom,c=o?r.left:s.left,p=o?r.right:s.right,d=p-c,f=l-a;return{top:a,bottom:l,left:c,right:p,width:d,height:f}}case"left":case"right":{var y=Math.min.apply(Math,n.map(function(I){return I.left})),g=Math.max.apply(Math,n.map(function(I){return I.right})),b=n.filter(function(I){return t==="left"?I.left===y:I.right===g}),x=b[0].top,A=b[b.length-1].bottom,M=y,_=g,w=_-M,T=A-x;return{top:x,bottom:A,left:M,right:_,width:w,height:T}}default:return e}}var DEt={name:"sticky",defaultValue:!1,fn:function(t){var e=t.reference,n=t.popper;function i(){return t.popperInstance?t.popperInstance.state.elements.reference:e}function r(l){return t.props.sticky===!0||t.props.sticky===l}var s=null,o=null;function a(){var l=r("reference")?i().getBoundingClientRect():null,c=r("popper")?n.getBoundingClientRect():null;(l&&TB(s,l)||c&&TB(o,c))&&t.popperInstance&&t.popperInstance.update(),s=l,o=c,t.state.isMounted&&requestAnimationFrame(a)}return{onMount:function(){t.props.sticky&&a()}}}};function TB(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}Mt.setDefaultProps({render:AB}),Mt.setDefaultProps({onShow:t=>{if(!t.props.content)return!1}});function eT(t,e={},n={mount:!0,appName:"Tippy"}){n=Object.assign({mount:!0,appName:"Tippy"},n);const i=kn(),r=Z(),s=Z({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=Sp();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=O=>{let C,R=ie(O)?O.value:O;return qs(R)?(o.value||(o.value=Wl({name:n.appName,setup:()=>()=>ie(O)?O.value:O}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),C=()=>l()):typeof R=="object"?(o.value||(o.value=Wl({name:n.appName,setup:()=>()=>ps(ie(O)?O.value:O)}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),C=()=>l()):C=R,C},p=O=>{let C={};return ie(O)?C=O.value||{}:Qi(O)?C={...O}:C={...O},C.content&&(C.content=c(C.content)),C.triggerTarget&&(C.triggerTarget=ie(C.triggerTarget)?C.triggerTarget.value:C.triggerTarget),(!C.plugins||!Array.isArray(C.plugins))&&(C.plugins=[]),C.plugins=C.plugins.filter(R=>R.name!=="vueTippyReactiveState"),C.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){s.value.isEnabled=!0},onMount(){s.value.isMounted=!0},onShow(){s.value.isMounted=!0,s.value.isVisible=!0},onShown(){s.value.isShown=!0},onHide(){s.value.isMounted=!1,s.value.isVisible=!1},onHidden(){s.value.isShown=!1},onUnmounted(){s.value.isMounted=!1},onDestroy(){s.value.isDestroyed=!0}})}),C},d=()=>{r.value&&r.value.setProps(p(e))},f=()=>{!r.value||!e.content||r.value.setContent(c(e.content))},y=O=>{var C;(C=r.value)===null||C===void 0||C.setContent(c(O))},g=O=>{var C;(C=r.value)===null||C===void 0||C.setProps(p(O))},b=()=>{var O;r.value&&(r.value.destroy(),r.value=void 0),a=null,(O=o.value)===null||O===void 0||O.unmount(),o.value=void 0},x=()=>{var O;(O=r.value)===null||O===void 0||O.show()},A=()=>{var O;(O=r.value)===null||O===void 0||O.hide()},M=()=>{var O;(O=r.value)===null||O===void 0||O.disable(),s.value.isEnabled=!1},_=()=>{var O;(O=r.value)===null||O===void 0||O.enable(),s.value.isEnabled=!0},w=()=>{var O;(O=r.value)===null||O===void 0||O.unmount()},T=()=>{if(!t)return;let O=ie(t)?t.value:t;typeof O=="function"&&(O=O()),O&&(r.value=Mt(O,p(e)),O.$tippy=I)},I={tippy:r,refresh:d,refreshContent:f,setContent:y,setProps:g,destroy:b,hide:A,show:x,disable:M,enable:_,unmount:w,mount:T,state:s};return n.mount&&(i?i.isMounted?T():ri(T):T()),i&&$l(()=>{b()}),ie(e)||Qi(e)?Vn(e,d,{immediate:!1}):ie(e.content)&&Vn(e.content,f,{immediate:!1}),I}function FEt(t,e){const n=Z();return ri(()=>{const i=(Array.isArray(t)?t.map(r=>r.value):typeof t=="function"?t():t.value).map(r=>r instanceof Element?r._tippy:r).filter(Boolean);n.value=TEt(i,e?{allowHTML:!0,...e}:{allowHTML:!0})}),{singleton:n}}function jEt(t){return typeof t=="function"?t():_t(t)}function $Et(t){var e,n;const i=jEt(t);return(n=(e=i)===null||e===void 0?void 0:e.$el)!==null&&n!==void 0?n:i}const GEt=Zt({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Mt.defaultProps.appendTo},aria:{default:()=>Mt.defaultProps.aria},delay:{default:()=>Mt.defaultProps.delay},duration:{default:()=>Mt.defaultProps.duration},getReferenceClientRect:{default:()=>Mt.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Mt.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Mt.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Mt.defaultProps.interactive},interactiveBorder:{default:()=>Mt.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Mt.defaultProps.interactiveDebounce},moveTransition:{default:()=>Mt.defaultProps.moveTransition},offset:{default:()=>Mt.defaultProps.offset},onAfterUpdate:{default:()=>Mt.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Mt.defaultProps.onBeforeUpdate},onCreate:{default:()=>Mt.defaultProps.onCreate},onDestroy:{default:()=>Mt.defaultProps.onDestroy},onHidden:{default:()=>Mt.defaultProps.onHidden},onHide:{default:()=>Mt.defaultProps.onHide},onMount:{default:()=>Mt.defaultProps.onMount},onShow:{default:()=>Mt.defaultProps.onShow},onShown:{default:()=>Mt.defaultProps.onShown},onTrigger:{default:()=>Mt.defaultProps.onTrigger},onUntrigger:{default:()=>Mt.defaultProps.onUntrigger},onClickOutside:{default:()=>Mt.defaultProps.onClickOutside},placement:{default:()=>Mt.defaultProps.placement},plugins:{default:()=>Mt.defaultProps.plugins},popperOptions:{default:()=>Mt.defaultProps.popperOptions},render:{default:()=>Mt.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Mt.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Mt.defaultProps.touch},trigger:{default:()=>Mt.defaultProps.trigger},triggerTarget:{default:()=>Mt.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Mt.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Mt.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Mt.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Mt.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Mt.defaultProps.allowHTML},animation:{default:()=>Mt.defaultProps.animation},arrow:{default:()=>Mt.defaultProps.arrow},content:{default:()=>Mt.defaultProps.content},inertia:{default:()=>Mt.defaultProps.inertia},maxWidth:{default:()=>Mt.defaultProps.maxWidth},role:{default:()=>Mt.defaultProps.role},theme:{default:()=>Mt.defaultProps.theme},zIndex:{default:()=>Mt.defaultProps.zIndex}},emits:["state"],setup(t,{slots:e,emit:n,expose:i}){const r=Z(),s=Z(),o=Z(),a=Z(!1),l=()=>{let y={...t};for(const g of["to","tag","contentTag","contentClass"])y.hasOwnProperty(g)&&delete y[g];return y};let c=()=>$Et(r);t.to&&(typeof Element<"u"&&t.to instanceof Element?c=()=>t.to:t.to==="parent"?c=()=>{let y=r.value;return y||(y=r.value=s.value.parentElement),y}:(typeof t.to=="string"||t.to instanceof String)&&(c=()=>document.querySelector(t.to)));const p=eT(c,l());let d=e.content;!d&&t.to==="parent"&&(d=e.default),ri(()=>{a.value=!0,Dr(()=>{d&&p.setContent(()=>o.value)})}),Vn(p.state,()=>{n("state",_t(p.state))},{immediate:!0,deep:!0}),Vn(()=>t,()=>{p.setProps(l()),d&&p.setContent(()=>o.value)},{deep:!0});let f=Zn({elem:r,contentElem:o,mounted:a,...p});return i(f),()=>{const y=(t.contentTag,t.contentTag),g=d?ps(y,{ref:o,style:{display:a.value?"inherit":"none"},class:t.contentClass},d(f)):null;if(t.to==="parent"){const A=[];if(!r.value){const M=ps("span",{ref:s,"data-v-tippy":"",style:{display:"none"}});A.push(M)}return g&&A.push(g),A}const b=e.default?e.default(f):[];if(!t.tag){const A=ps(b[0],{ref:r,"data-v-tippy":""});return g?[A,g]:A}const x=(t.tag,t.tag);return ps(x,{ref:r,"data-v-tippy":""},g?[b,g]:b)}}}),UEt=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let nT={};Object.keys(Mt.defaultProps).forEach(t=>{UEt.includes(t)?nT[t]={type:Boolean,default:function(){return Mt.defaultProps[t]}}:nT[t]={default:function(){return Mt.defaultProps[t]}}});const BEt=Zt({props:nT,setup(t){const e=Z([]),{singleton:n}=FEt(e,t);return{instances:e,singleton:n}},mounted(){var t;const e=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(e).map(n=>n._tippy).filter(Boolean),(t=this.singleton)===null||t===void 0||t.setInstances(this.instances)},render(){let t=this.$slots.default?this.$slots.default():[];return ps(()=>t)}}),VEt={mounted(t,e,n){const i=typeof e.value=="string"?{content:e.value}:e.value||{},r=Object.keys(e.modifiers||{}),s=r.find(a=>a!=="arrow"),o=r.findIndex(a=>a==="arrow")!==-1;s&&(i.placement=i.placement||s),o&&(i.arrow=i.arrow!==void 0?i.arrow:!0),n.props&&n.props.onTippyShow&&(i.onShow=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),n.props&&n.props.onTippyShown&&(i.onShown=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),n.props&&n.props.onTippyHidden&&(i.onHidden=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),n.props&&n.props.onTippyHide&&(i.onHide=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),n.props&&n.props.onTippyMount&&(i.onMount=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),t.getAttribute("title")&&!i.content&&(i.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!i.content&&(i.content=t.getAttribute("content")),eT(t,i)},unmounted(t){t.$tippy?t.$tippy.destroy():t._tippy&&t._tippy.destroy()},updated(t,e){const n=typeof e.value=="string"?{content:e.value}:e.value||{};t.getAttribute("title")&&!n.content&&(n.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!n.content&&(n.content=t.getAttribute("content")),t.$tippy?t.$tippy.setProps(n||{}):t._tippy&&t._tippy.setProps(n||{})}},zEt={install(t,e={}){Mt.setDefaultProps(e.defaultProps||{}),t.directive(e.directive||"tippy",VEt),t.component(e.component||"tippy",GEt),t.component(e.componentSingleton||"tippy-singleton",BEt)}},IB=Mt.setDefaultProps;IB({ignoreAttributes:!0,plugins:[DEt,LEt,kEt,IEt]});const WEt=Zt({name:"App",components:{Shell:Kxt},setup(){const t=kn();ri(()=>{new yU().observe(t?.proxy?.$refs["app-size"]),IB({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),qEt=["lang"],HEt={class:"h-full",ref:"app-size"};function YEt(t,e,n,i,r,s){const o=En("shell");return st(),ft("div",{class:"ramp-app ramp-styles animation-enabled",lang:t.$i18n.locale},[nt("div",HEt,[zt(o)],512)],8,qEt)}const JEt=Po(WEt,[["render",YEt]]),Vo="focus-list",sc="focus-item",ZEt="focus-icon",XEt="focus-container",ud=`[${Vo}],[${XEt}]`,t2="truncate-text",e2="show-truncate",hd="focused",iT=`button,input,select,a,textarea,[contenteditable],[${Vo}],[${ZEt}],[tabIndex]`,QEt={mounted(t,e){+t.getAttribute("tabindex")<=0&&t.setAttribute("tabindex","0"),t.toggleAttribute(Vo,!0),new KEt(t,e.value)},updated(t){NB(t)}};function NB(t){t.querySelectorAll(iT).forEach(e=>{if(e.closest(ud)===t||e.closest(ud)===e&&e.parentElement.closest(ud)===t)if(e.closest(`[${Vo}],.${hd}`).classList.contains(hd))e.setAttribute("tabindex","0");else{e.setAttribute("tabindex","-1");return}})}class KEt{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(e,n){this.element=e,this.highlightedItem=this.element,this.isHorizontal=n==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const i=this;e.addEventListener("keydown",function(r){i.onKeydown(r)}),e.addEventListener("focus",function(){i.onFocus()}),e.addEventListener("blur",function(){i.onBlur()}),e.addEventListener("mousedown",function(){i.onMousedown()}),e.addEventListener("touchstart",function(){i.onTouchstart()}),e.addEventListener("switchFocusItem",r=>{const s=r.detail.focusItem;i.element.focus(),i.focusItem(s),this.highlightedItem=s}),document.addEventListener("click",function(r){r.target&&e.contains(r.target)?i.onClick(r):i.defocusItem(i.highlightedItem)})}setTabIndex(e,n=this.element){n.querySelectorAll(iT).forEach(i=>{(e===-1||i.closest(ud)===this.element||i.closest(ud)===i&&i.parentElement.closest(ud)===this.element||i.closest(`[${Vo}],.${hd}`).classList.contains(hd))&&i.setAttribute("tabindex",e.toString())})}defocusItem(e){e.classList.remove(hd),this.setTabIndex(-1,e),e._tippy&&e._tippy.hide(),e.getAttribute(sc)===e2&&e.querySelector(`[${t2}]`)?._tippy?.hide()}focusItem(e){e.classList.add(hd),this.setAriaActiveDescendant(e),this.setTabIndex(0,e),e.scrollIntoView({block:"nearest"}),e._tippy&&!this.isTapped&&e._tippy.show(),e.getAttribute(sc)===e2&&e.querySelector(`[${t2}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(e){this.element.setAttribute("aria-activedescendant",e.getAttribute("id"))}shiftHighlight(e,n=!1){if(this.defocusItem(this.highlightedItem),n)if(this.highlightedItem===this.element)this.highlightedItem=e[e.length-1];else{const i=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[i-1]||e[e.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=e[0];else{const i=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[i+1]||e[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(e){const n=this,i=Array.prototype.filter.call(this.element.querySelectorAll(`[${sc}]`),r=>r.closest(`[${Vo}]`)===n.element&&!!r.offsetParent);if(i.length!==0)switch(e.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&i.length>1&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":e.target===this.element&&this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.highlightedItem.click());break;case"Tab":const r=this.highlightedItem.querySelectorAll(iT).length===0,s=this.element.isEqualNode(e.target);this.highlightedItem!==this.element&&s&&(r&&this.defocusItem(this.highlightedItem),e.shiftKey&&i.length>1&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(e){this.defocusItem(this.highlightedItem);let n=e.target;if(!n.hasAttribute(Vo))for(;n.parentElement.closest(`[${Vo}]`)!==this.element;)n=n.parentElement.closest(`[${Vo}]`);this.highlightedItem=n.closest(`[${sc}]`)||n.closest(`[${Vo}]`)||this.highlightedItem,n.hasAttribute(`${sc}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){if(this.highlightedItem===this.element){const e=this.element.querySelectorAll(`[${sc}]`);if(e.length===1){this.defocusItem(this.highlightedItem),this.highlightedItem=e[0],this.focusItem(e[0]);return}}this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(sc)===e2&&this.highlightedItem.querySelector(`[${t2}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),NB(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(sc)===e2&&this.highlightedItem.querySelector(`[${t2}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const OB="focus-item",tSt={beforeMount(t,e){t.hasAttribute("id")||t.setAttribute("id",eSt()),e.value?t.setAttribute(OB,e.value):t.toggleAttribute(OB,!0)}};function eSt(){let t;do t="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(t)!==null);return t}const rT="focus-container",CB="focus-list",nSt="focus-icon",sT=`[${CB}],[${rT}]`,kB=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${CB}],[${rT}],[${nSt}],[tabIndex]`;let oT=[];const iSt={mounted(t){[...document.querySelectorAll(".inner-shell")].some(e=>e.contains(t))&&oT.push(new rSt(t))},beforeUnmount(t){oT=oT.filter(e=>e.element===t?(e.removeEventListeners(),!1):!0)}};class rSt{element;constructor(e){this.element=e,this.element.toggleAttribute(rT,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const n=this;this.element.addEventListener("keypress",function(i){n.onKeypress(i)}),this.element.addEventListener("click",function(){n.onClick()}),this.element.addEventListener("focusout",function(i){n.onFocusOut(i)}),this.element.addEventListener("focus",function(){n.onFocus()})}removeEventListeners(){const e=this;this.element.removeEventListener("keypress",function(n){e.onKeypress(n)}),this.element.removeEventListener("click",function(){e.onClick()}),this.element.removeEventListener("focusout",function(n){e.onFocusOut(n)}),this.element.removeEventListener("focus",function(){e.onFocus()})}onKeypress(e){e.target===this.element&&(e.key==="Enter"||e.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(e){this.element.contains(e.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){this.element.contains(document.activeElement)||Array.prototype.filter.call(this.element.querySelectorAll(kB),()=>!0).forEach(e=>{e.tabIndex=-1})}enableTabbing(){let e;return Array.prototype.map.call(this.element.querySelectorAll(kB),n=>{(n.closest(sT)===this.element||n.closest(sT)===n&&n.parentElement.closest(sT)===this.element)&&n.offsetParent&&(n.tabIndex=0,e===void 0&&(e=n))}),e}}const sSt="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",oSt="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",aT="numeric",lT="ascii",cT="alpha",L0="asciinumeric",P0="alphanumeric",uT="domain",RB="emoji",aSt="scheme",lSt="slashscheme",hT="whitespace";function cSt(t,e){return t in e||(e[t]=[]),e[t]}function Gu(t,e,n){e[aT]&&(e[L0]=!0,e[P0]=!0),e[lT]&&(e[L0]=!0,e[cT]=!0),e[L0]&&(e[P0]=!0),e[cT]&&(e[P0]=!0),e[P0]&&(e[uT]=!0),e[RB]&&(e[uT]=!0);for(const i in e){const r=cSt(i,n);r.indexOf(t)<0&&r.push(t)}}function uSt(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function Br(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Br.groups={},Br.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const r=e.jr[i][0],s=e.jr[i][1];if(s&&r.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,i)},tr(t,e,n,i){i=i||Br.groups;let r;return e&&e.j?r=e:(r=new Br(e),n&&i&&Gu(e,n,i)),this.jr.push([t,r]),r},ts(t,e,n,i){let r=this;const s=t.length;if(!s)return r;for(let o=0;o<s-1;o++)r=r.tt(t[o]);return r.tt(t[s-1],e,n,i)},tt(t,e,n,i){i=i||Br.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const s=e;let o,a=r.go(t);if(a?(o=new Br,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Br,s){if(i)if(o.t&&typeof o.t=="string"){const l=Object.assign(uSt(o.t,i),n);Gu(s,l,i)}else n&&Gu(s,n,i);o.t=s}return r.j[t]=o,o}};const Jt=(t,e,n,i,r)=>t.ta(e,n,i,r),An=(t,e,n,i,r)=>t.tr(e,n,i,r),LB=(t,e,n,i,r)=>t.ts(e,n,i,r),ct=(t,e,n,i,r)=>t.tt(e,n,i,r),ja="WORD",pT="UWORD",PB="ASCIINUMERICAL",DB="ALPHANUMERICAL",D0="LOCALHOST",dT="TLD",fT="UTLD",n2="SCHEME",pd="SLASH_SCHEME",mT="NUM",yT="WS",gT="NL",F0="OPENBRACE",j0="CLOSEBRACE",i2="OPENBRACKET",r2="CLOSEBRACKET",s2="OPENPAREN",o2="CLOSEPAREN",a2="OPENANGLEBRACKET",l2="CLOSEANGLEBRACKET",c2="FULLWIDTHLEFTPAREN",u2="FULLWIDTHRIGHTPAREN",h2="LEFTCORNERBRACKET",p2="RIGHTCORNERBRACKET",d2="LEFTWHITECORNERBRACKET",f2="RIGHTWHITECORNERBRACKET",m2="FULLWIDTHLESSTHAN",y2="FULLWIDTHGREATERTHAN",g2="AMPERSAND",v2="APOSTROPHE",b2="ASTERISK",oc="AT",w2="BACKSLASH",_2="BACKTICK",x2="CARET",ac="COLON",vT="COMMA",E2="DOLLAR",zo="DOT",S2="EQUALS",bT="EXCLAMATION",Ss="HYPHEN",$0="PERCENT",A2="PIPE",M2="PLUS",T2="POUND",G0="QUERY",wT="QUOTE",FB="FULLWIDTHMIDDLEDOT",_T="SEMI",Wo="SLASH",U0="TILDE",I2="UNDERSCORE",jB="EMOJI",N2="SYM";var $B=Object.freeze({__proto__:null,ALPHANUMERICAL:DB,AMPERSAND:g2,APOSTROPHE:v2,ASCIINUMERICAL:PB,ASTERISK:b2,AT:oc,BACKSLASH:w2,BACKTICK:_2,CARET:x2,CLOSEANGLEBRACKET:l2,CLOSEBRACE:j0,CLOSEBRACKET:r2,CLOSEPAREN:o2,COLON:ac,COMMA:vT,DOLLAR:E2,DOT:zo,EMOJI:jB,EQUALS:S2,EXCLAMATION:bT,FULLWIDTHGREATERTHAN:y2,FULLWIDTHLEFTPAREN:c2,FULLWIDTHLESSTHAN:m2,FULLWIDTHMIDDLEDOT:FB,FULLWIDTHRIGHTPAREN:u2,HYPHEN:Ss,LEFTCORNERBRACKET:h2,LEFTWHITECORNERBRACKET:d2,LOCALHOST:D0,NL:gT,NUM:mT,OPENANGLEBRACKET:a2,OPENBRACE:F0,OPENBRACKET:i2,OPENPAREN:s2,PERCENT:$0,PIPE:A2,PLUS:M2,POUND:T2,QUERY:G0,QUOTE:wT,RIGHTCORNERBRACKET:p2,RIGHTWHITECORNERBRACKET:f2,SCHEME:n2,SEMI:_T,SLASH:Wo,SLASH_SCHEME:pd,SYM:N2,TILDE:U0,TLD:dT,UNDERSCORE:I2,UTLD:fT,UWORD:pT,WORD:ja,WS:yT});const $a=/[a-z]/,B0=/\p{L}/u,xT=/\p{Emoji}/u,Ga=/\d/,ET=/\s/,GB="\r",ST=`
`,hSt="\uFE0F",pSt="\u200D",AT="\uFFFC";let O2=null,C2=null;function dSt(t=[]){const e={};Br.groups=e;const n=new Br;O2==null&&(O2=BB(sSt)),C2==null&&(C2=BB(oSt)),ct(n,"'",v2),ct(n,"{",F0),ct(n,"}",j0),ct(n,"[",i2),ct(n,"]",r2),ct(n,"(",s2),ct(n,")",o2),ct(n,"<",a2),ct(n,">",l2),ct(n,"\uFF08",c2),ct(n,"\uFF09",u2),ct(n,"\u300C",h2),ct(n,"\u300D",p2),ct(n,"\u300E",d2),ct(n,"\u300F",f2),ct(n,"\uFF1C",m2),ct(n,"\uFF1E",y2),ct(n,"&",g2),ct(n,"*",b2),ct(n,"@",oc),ct(n,"`",_2),ct(n,"^",x2),ct(n,":",ac),ct(n,",",vT),ct(n,"$",E2),ct(n,".",zo),ct(n,"=",S2),ct(n,"!",bT),ct(n,"-",Ss),ct(n,"%",$0),ct(n,"|",A2),ct(n,"+",M2),ct(n,"#",T2),ct(n,"?",G0),ct(n,'"',wT),ct(n,"/",Wo),ct(n,";",_T),ct(n,"~",U0),ct(n,"_",I2),ct(n,"\\",w2),ct(n,"\u30FB",FB);const i=An(n,Ga,mT,{[aT]:!0});An(i,Ga,i);const r=An(i,$a,PB,{[L0]:!0}),s=An(i,B0,DB,{[P0]:!0}),o=An(n,$a,ja,{[lT]:!0});An(o,Ga,r),An(o,$a,o),An(r,Ga,r),An(r,$a,r);const a=An(n,B0,pT,{[cT]:!0});An(a,$a),An(a,Ga,s),An(a,B0,a),An(s,Ga,s),An(s,$a),An(s,B0,s);const l=ct(n,ST,gT,{[hT]:!0}),c=ct(n,GB,yT,{[hT]:!0}),p=An(n,ET,yT,{[hT]:!0});ct(n,AT,p),ct(c,ST,l),ct(c,AT,p),An(c,ET,p),ct(p,GB),ct(p,ST),An(p,ET,p),ct(p,AT,p);const d=An(n,xT,jB,{[RB]:!0});ct(d,"#"),An(d,xT,d),ct(d,hSt,d);const f=ct(d,pSt);ct(f,"#"),An(f,xT,d);const y=[[$a,o],[Ga,r]],g=[[$a,null],[B0,a],[Ga,s]];for(let b=0;b<O2.length;b++)lc(n,O2[b],dT,ja,y);for(let b=0;b<C2.length;b++)lc(n,C2[b],fT,pT,g);Gu(dT,{tld:!0,ascii:!0},e),Gu(fT,{utld:!0,alpha:!0},e),lc(n,"file",n2,ja,y),lc(n,"mailto",n2,ja,y),lc(n,"http",pd,ja,y),lc(n,"https",pd,ja,y),lc(n,"ftp",pd,ja,y),lc(n,"ftps",pd,ja,y),Gu(n2,{scheme:!0,ascii:!0},e),Gu(pd,{slashscheme:!0,ascii:!0},e),t=t.sort((b,x)=>b[0]>x[0]?1:-1);for(let b=0;b<t.length;b++){const x=t[b][0],A=t[b][1]?{[aSt]:!0}:{[lSt]:!0};x.indexOf("-")>=0?A[uT]=!0:$a.test(x)?Ga.test(x)?A[L0]=!0:A[lT]=!0:A[aT]=!0,LB(n,x,x,A)}return LB(n,"localhost",D0,{ascii:!0}),n.jd=new Br(N2),{start:n,tokens:Object.assign({groups:e},$B)}}function UB(t,e){const n=fSt(e.replace(/[A-Z]/g,a=>a.toLowerCase())),i=n.length,r=[];let s=0,o=0;for(;o<i;){let a=t,l=null,c=0,p=null,d=-1,f=-1;for(;o<i&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,f=0,p=a):d>=0&&(d+=n[o].length,f++),c+=n[o].length,s+=n[o].length,o++;s-=d,o-=f,c-=d,r.push({t:p.t,v:e.slice(s-c,s),s:s-c,e:s})}return r}function fSt(t){const e=[],n=t.length;let i=0;for(;i<n;){let r=t.charCodeAt(i),s,o=r<55296||r>56319||i+1===n||(s=t.charCodeAt(i+1))<56320||s>57343?t[i]:t.slice(i,i+2);e.push(o),i+=o.length}return e}function lc(t,e,n,i,r){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new Br(i),s.jr=r.slice(),t.j[l]=s),t=s}return s=new Br(n),s.jr=r.slice(),t.j[e[o-1]]=s,s}function BB(t){const e=[],n=[];let i=0,r="0123456789";for(;i<t.length;){let s=0;for(;r.indexOf(t[i+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(i,i+s),10);o>0;o--)n.pop();i+=s}else n.push(t[i]),i++}return e}const V0={defaultProtocol:"http",events:null,format:VB,formatHref:VB,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function MT(t,e=null){let n=Object.assign({},V0);t&&(n=Object.assign(n,t instanceof MT?t.o:t));const i=n.ignoreTags,r=[];for(let s=0;s<i.length;s++)r.push(i[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}MT.prototype={o:V0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:V0[t],typeof r=="function"&&i&&(r=r(e,n))):typeof r=="function"&&i&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function VB(t){return t}function zB(t,e){this.t="token",this.v=t,this.tk=e}zB.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"\u2026":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=V0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),r=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),p=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=i,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),p&&Object.assign(o,p),{tagName:r,attributes:o,content:s,eventListeners:d}}};function k2(t,e){class n extends zB{constructor(r,s){super(r,s),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const WB=k2("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),qB=k2("text"),mSt=k2("nl"),R2=k2("url",{isLink:!0,toHref(t=V0.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==D0&&t[1].t===ac}}),As=t=>new Br(t);function ySt({groups:t}){const e=t.domain.concat([g2,b2,oc,w2,_2,x2,E2,S2,Ss,mT,$0,A2,M2,T2,Wo,N2,U0,I2]),n=[v2,ac,vT,zo,bT,$0,G0,wT,_T,a2,l2,F0,j0,r2,i2,s2,o2,c2,u2,h2,p2,d2,f2,m2,y2],i=[g2,v2,b2,w2,_2,x2,E2,S2,Ss,F0,j0,$0,A2,M2,T2,G0,Wo,N2,U0,I2],r=As(),s=ct(r,U0);Jt(s,i,s),Jt(s,t.domain,s);const o=As(),a=As(),l=As();Jt(r,t.domain,o),Jt(r,t.scheme,a),Jt(r,t.slashscheme,l),Jt(o,i,s),Jt(o,t.domain,o);const c=ct(o,oc);ct(s,oc,c),ct(a,oc,c),ct(l,oc,c);const p=ct(s,zo);Jt(p,i,s),Jt(p,t.domain,s);const d=As();Jt(c,t.domain,d),Jt(d,t.domain,d);const f=ct(d,zo);Jt(f,t.domain,d);const y=As(WB);Jt(f,t.tld,y),Jt(f,t.utld,y),ct(c,D0,y);const g=ct(d,Ss);ct(g,Ss,g),Jt(g,t.domain,d),Jt(y,t.domain,d),ct(y,zo,f),ct(y,Ss,g);const b=ct(y,ac);Jt(b,t.numeric,WB);const x=ct(o,Ss),A=ct(o,zo);ct(x,Ss,x),Jt(x,t.domain,o),Jt(A,i,s),Jt(A,t.domain,o);const M=As(R2);Jt(A,t.tld,M),Jt(A,t.utld,M),Jt(M,t.domain,o),Jt(M,i,s),ct(M,zo,A),ct(M,Ss,x),ct(M,oc,c);const _=ct(M,ac),w=As(R2);Jt(_,t.numeric,w);const T=As(R2),I=As();Jt(T,e,T),Jt(T,n,I),Jt(I,e,T),Jt(I,n,I),ct(M,Wo,T),ct(w,Wo,T);const O=ct(a,ac),C=ct(l,ac),R=ct(C,Wo),D=ct(R,Wo);Jt(a,t.domain,o),ct(a,zo,A),ct(a,Ss,x),Jt(l,t.domain,o),ct(l,zo,A),ct(l,Ss,x),Jt(O,t.domain,T),ct(O,Wo,T),ct(O,G0,T),Jt(D,t.domain,T),Jt(D,e,T),ct(D,Wo,T);const U=[[F0,j0],[i2,r2],[s2,o2],[a2,l2],[c2,u2],[h2,p2],[d2,f2],[m2,y2]];for(let j=0;j<U.length;j++){const[$,H]=U[j],u=ct(T,$);ct(I,$,u),ct(u,H,T);const m=As(R2);Jt(u,e,m);const S=As();Jt(u,n),Jt(m,e,m),Jt(m,n,S),Jt(S,e,m),Jt(S,n,S),ct(m,H,T),ct(S,H,T)}return ct(r,D0,M),ct(r,gT,mSt),{start:r,tokens:$B}}function gSt(t,e,n){let i=n.length,r=0,s=[],o=[];for(;r<i;){let a=t,l=null,c=null,p=0,d=null,f=-1;for(;r<i&&!(l=a.go(n[r].t));)o.push(n[r++]);for(;r<i&&(c=l||a.go(n[r].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,r++,p++;if(f<0)r-=p,r<i&&(o.push(n[r]),r++);else{o.length>0&&(s.push(TT(qB,e,o)),o=[]),r-=f,p-=f;const y=d.t,g=n.slice(r-p,r);s.push(TT(y,e,g))}}return o.length>0&&s.push(TT(qB,e,o)),s}function TT(t,e,n){const i=n[0].s,r=n[n.length-1].e,s=e.slice(i,r);return new t(s,n)}const Ci={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function vSt(){Ci.scanner=dSt(Ci.customSchemes);for(let t=0;t<Ci.tokenQueue.length;t++)Ci.tokenQueue[t][1]({scanner:Ci.scanner});Ci.parser=ySt(Ci.scanner.tokens);for(let t=0;t<Ci.pluginQueue.length;t++)Ci.pluginQueue[t][1]({scanner:Ci.scanner,parser:Ci.parser});return Ci.initialized=!0,Ci}function HB(t){return Ci.initialized||vSt(),gSt(Ci.parser.start,t,UB(Ci.scanner.start,t))}HB.scan=UB;var bSt={amp:"&",gt:">",lt:"<",nbsp:"\xA0",quot:'"'},wSt=/^#[xX]([A-Fa-f0-9]+)$/,_St=/^#([0-9]+)$/,xSt=/^([A-Za-z0-9]+)$/,ESt=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var n=e.match(wSt);if(n)return String.fromCharCode(parseInt(n[1],16));if(n=e.match(_St),n)return String.fromCharCode(parseInt(n[1],10));if(n=e.match(xSt),n)return this.named[n[1]]||"&"+n[1]+";"}},t}(),SSt=/[\t\n\f ]/,ASt=/[A-Za-z]/,MSt=/\r\n?/g;function ki(t){return SSt.test(t)}function YB(t){return ASt.test(t)}function TSt(t){return t.replace(MSt,`
`)}var ISt=function(){function t(e,n,i){i===void 0&&(i="precompile"),this.delegate=e,this.entityParser=n,this.mode=i,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var r=this.peek();if(r==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&r===`
`){var s=this.tagNameBuffer.toLowerCase();(s==="pre"||s==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var r=this.peek(),s=this.tagNameBuffer;r==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):r==="&"&&s!=="script"&&s!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(r))},tagOpen:function(){var r=this.consume();r==="!"?this.transitionTo("markupDeclarationOpen"):r==="/"?this.transitionTo("endTagOpen"):(r==="@"||r===":"||YB(r))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(r))},markupDeclarationOpen:function(){var r=this.consume();if(r==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var s=r.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();s==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var r=this.consume();ki(r)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var r=this.consume();ki(r)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(r.toLowerCase()))},doctypeName:function(){var r=this.consume();ki(r)?this.transitionTo("afterDoctypeName"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(r.toLowerCase())},afterDoctypeName:function(){var r=this.consume();if(!ki(r))if(r===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var s=r.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=s.toUpperCase()==="PUBLIC",a=s.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var r=this.peek();ki(r)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):r==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):r==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):r===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var r=this.consume();r==='"'?this.transitionTo("afterDoctypePublicIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(r)},doctypePublicIdentifierSingleQuoted:function(){var r=this.consume();r==="'"?this.transitionTo("afterDoctypePublicIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(r)},afterDoctypePublicIdentifier:function(){var r=this.consume();ki(r)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):r==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):r==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var r=this.consume();ki(r)||(r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):r==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):r==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var r=this.consume();r==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(r)},doctypeSystemIdentifierSingleQuoted:function(){var r=this.consume();r==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(r)},afterDoctypeSystemIdentifier:function(){var r=this.consume();ki(r)||r===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var r=this.consume();r==="-"?this.transitionTo("commentStartDash"):r===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(r),this.transitionTo("comment"))},commentStartDash:function(){var r=this.consume();r==="-"?this.transitionTo("commentEnd"):r===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var r=this.consume();r==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(r)},commentEndDash:function(){var r=this.consume();r==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+r),this.transitionTo("comment"))},commentEnd:function(){var r=this.consume();r===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+r),this.transitionTo("comment"))},tagName:function(){var r=this.consume();ki(r)?this.transitionTo("beforeAttributeName"):r==="/"?this.transitionTo("selfClosingStartTag"):r===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(r)},endTagName:function(){var r=this.consume();ki(r)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):r==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):r===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(r)},beforeAttributeName:function(){var r=this.peek();if(ki(r)){this.consume();return}else r==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):r===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):r==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(r)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var r=this.peek();ki(r)?(this.transitionTo("afterAttributeName"),this.consume()):r==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):r==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):r===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):r==='"'||r==="'"||r==="<"?(this.delegate.reportSyntaxError(r+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(r)):(this.consume(),this.delegate.appendToAttributeName(r))},afterAttributeName:function(){var r=this.peek();if(ki(r)){this.consume();return}else r==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):r==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):r===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(r))},beforeAttributeValue:function(){var r=this.peek();ki(r)?this.consume():r==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):r==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):r===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(r))},attributeValueDoubleQuoted:function(){var r=this.consume();r==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):r==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(r)},attributeValueSingleQuoted:function(){var r=this.consume();r==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):r==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(r)},attributeValueUnquoted:function(){var r=this.peek();ki(r)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):r==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):r==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):r===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(r))},afterAttributeValueQuoted:function(){var r=this.peek();ki(r)?(this.consume(),this.transitionTo("beforeAttributeName")):r==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):r===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var r=this.peek();r===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var r=this.consume();(r==="@"||r===":"||YB(r))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(r))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=TSt(e);this.index<this.input.length;){var n=this.states[this.state];if(n!==void 0)n.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var n=this.input.slice(this.index,e),i=this.entityParser.parse(n);if(i){for(var r=n.length;r;)this.consume(),r--;return this.consume(),i}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),NSt=function(){function t(e,n){n===void 0&&(n={}),this.options=n,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new ISt(this,e,n.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var n=0;n<arguments.length;n++)if(e.type===arguments[n])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var n=this.current("Doctype");n.publicIdentifier===void 0?n.publicIdentifier=e:n.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var n=this.current("Doctype");n.systemIdentifier===void 0?n.systemIdentifier=e:n.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function OSt(t,e){var n=new NSt(new ESt(bSt),e);return n.tokenize(t)}const JB="LinkifyResult",L2="StartTag",ZB="EndTag",IT="Chars",CSt="Comment",kSt="Doctype";function XB(t,e){e===void 0&&(e={});const n=OSt(t),i=[],r=[],s=new MT(e,PSt);for(let o=0;o<n.length;o++){const a=n[o];if(a.type===L2){i.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||s.ignoreTags.indexOf(l)>=0))continue;let c=i.length;LSt(l,n,++o,i),o+=i.length-c-1}else if(a.type!==IT)i.push(a);else{const l=RSt(a.chars,s);i.push.apply(i,l)}}for(let o=0;o<i.length;o++){const a=i[o];switch(a.type){case JB:r.push(a.rendered);break;case L2:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+FSt(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",r.push(l);break}case ZB:r.push(`</${a.tagName}>`);break;case IT:r.push(NT(a.chars));break;case CSt:r.push(`<!--${NT(a.chars)}-->`);break;case kSt:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",r.push(l);break}}}return r.join("")}function RSt(t,e){const n=HB(t),i=[];for(let r=0;r<n.length;r++){const s=n[r];s.t==="nl"&&e.get("nl2br")?i.push({type:L2,tagName:"br",attributes:[],selfClosing:!0}):!s.isLink||!e.check(s)?i.push({type:IT,chars:s.toString()}):i.push({type:JB,rendered:e.render(s)})}return i}function LSt(t,e,n,i){let r=1;for(;n<e.length&&r>0;){let s=e[n];s.type===L2&&s.tagName.toUpperCase()===t?r++:s.type===ZB&&s.tagName.toUpperCase()===t&&r--,i.push(s),n++}return i}function PSt(t){let{tagName:e,attributes:n,content:i}=t;return`<${e} ${DSt(n)}>${NT(i)}</${e}>`}function NT(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function QB(t){return t.replace(/"/g,"&quot;")}function DSt(t){const e=[];for(const n in t){const i=t[n]+"";e.push(`${n}="${QB(i)}"`)}return e.join(" ")}function FSt(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n][0],r=t[n][1]+"";e.push(`${i}="${QB(r)}"`)}return e}const jSt="truncate-text",$St="truncate-trigger",GSt={beforeMount(t,e){!t.classList.contains("truncate")&&!e.value?.noTruncateClass&&t.classList.add("truncate"),t.toggleAttribute(jSt,!0)},mounted(t,e){let n;e.value&&e.value.externalTrigger&&(n=t.closest(`[${$St}]`)),eT(t,{content:KB(t.textContent),onShow:USt,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:n,...e.value?.options||{}})},updated(t,e){t._tippy&&(t._tippy.setContent(KB(t.textContent)),e.value&&e.value.options&&t._tippy.setProps(e.value.options))},unmounted(t){t._tippy&&t._tippy.destroy()}};function USt(t){if(!(t.reference.clientWidth<t.reference.scrollWidth||t.reference.clientHeight<t.reference.scrollHeight))return!1}const BSt=t=>{const e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return t.replace(/[<>"']/g,n=>e[n])};function KB(t){if(t===null)return"";const e=BSt(t);let n=XB(e,{target:"_blank",validate:{url:i=>/^https?:\/\//.test(i)}});return n=`<div style='word-break: break-word;'>${n}</div>`,n}const VSt=["content"],zSt={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},WSt={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},qSt={key:1},HSt={key:0,class:"flex"},YSt=["innerHTML"],JSt={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},ZSt=Zt({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(t,{expose:e}){const{t:n}=Je(),i=nc(),r=a0(),s=Nn("iApi"),o=km("el"),a=km("contentEl"),l=Z();e({el:o});const c=t,p=Wt(()=>s.fixture.get("appbar")?r.temporary:[]),d=Wt(()=>i.mobileView),f=Wt(()=>i.reorderable),y=A=>A.scrollHeight>A.clientHeight,g=()=>!d.value&&!c.panel.teleport,b=A=>{c.panel.move(A),A==="left"&&Dr(()=>{(o.value?.querySelector(".move-left")).focus()})},x=Wt(()=>c.screenId?c.panel.screens[c.screenId][s.$i18n.locale.value??"en"]:null);return ri(()=>{o.value?.addEventListener("blur",()=>{o.value?._tippy?.hide()}),o.value?.addEventListener("keyup",A=>{A.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),us(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",A=>{A.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(A,M)=>{const _=En("back"),w=En("panel-options-menu"),T=En("left"),I=En("right"),O=En("pin"),C=En("expand"),R=En("minimize"),D=En("close"),U=we("truncate"),j=we("focus-item"),$=we("tippy");return be((st(),ft("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${_t(n)(t.panel.alertName)+". "+_t(n)("panels.access")}</div>`,ref_key:"el",ref:o},[t.header?(st(),ft("header",zSt,[zt(_,{class:Ke(t.panel.teleport?"display-none":"block sm:display-none"),onClick:M[0]||(M[0]=H=>t.panel.close())},null,8,["class"]),be((st(),ft("h2",WSt,[A.$slots.header?hs(A.$slots,"header",{key:0}):(st(),ft("div",qSt,ve(_t(n)(t.panel.alertName)),1))])),[[U]]),A.$slots.controls?(st(),Le(w,{key:0},{default:xn(()=>[hs(A.$slots,"controls")]),_:3})):Ne("",!0),nt("div",{class:Ke(t.panel.teleport?"flex":"display-none sm:flex")},[t.panel.teleport?Ne("",!0):(st(),ft("div",HSt,[f.value?(st(),Le(T,{key:0,onClick:M[1]||(M[1]=H=>b("left")),active:!t.panel.isLeftMostPanel},null,8,["active"])):Ne("",!0),f.value?(st(),Le(I,{key:1,onClick:M[2]||(M[2]=H=>b("right")),active:!t.panel.isRightMostPanel},null,8,["active"])):Ne("",!0),zt(O,{onClick:M[3]||(M[3]=H=>t.panel.pin()),active:t.panel.isPinned},null,8,["active"]),t.panel.controls&&t.panel.controls.expand?(st(),Le(C,{key:2,onClick:M[4]||(M[4]=H=>t.panel.expand()),active:t.panel.expanded},null,8,["active"])):Ne("",!0)])),t.panel.button&&p.value?.includes(t.panel.id)?(st(),Le(R,{key:1,onClick:M[5]||(M[5]=H=>t.panel.minimize())})):Ne("",!0),zt(D,{onClick:M[6]||(M[6]=H=>t.panel.close())})],2)])):Ne("",!0),t.content?(st(),ft("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[A.$slots.content?hs(A.$slots,"content",{key:0}):x.value?(st(),ft("div",{key:1,innerHTML:x.value.innerHTML},null,8,YSt)):Ne("",!0)],512)):Ne("",!0),t.footer?be((st(),ft("div",JSt,[hs(A.$slots,"footer")])),[[j]]):Ne("",!0)],8,VSt)),[[$,{trigger:"manual",touch:!1,onShow:g,allowHTML:!0,maxWidth:t.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),XSt={class:"relative"},QSt=["content","aria-label"],KSt=["transform"],t4t=Zt({__name:"pin",props:{active:Boolean},setup(t){const{t:e}=Je();return(n,i)=>{const r=we("tippy");return st(),ft("div",XSt,[be((st(),ft("button",{type:"button",class:Ke(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:_t(e)(t.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":_t(e)(t.active?"panels.controls.unpin":"panels.controls.pin")},[(st(),ft("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${t.active?30:0})`},i[0]||(i[0]=[nt("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,KSt))],10,QSt)),[[r,{placement:"bottom",hideOnClick:!1}]])])}}}),e4t={class:"relative"},n4t=["content","aria-label"],i4t=Zt({__name:"close",props:{active:Boolean},setup(t){const{t:e}=Je();return(n,i)=>{const r=we("tippy");return st(),ft("div",e4t,[be((st(),ft("button",{type:"button",class:Ke(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:_t(e)("panels.controls.close"),"aria-label":_t(e)("panels.controls.close")},i[0]||(i[0]=[nt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[nt("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,n4t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),r4t={class:"relative"},s4t=["content","aria-label"],o4t=Zt({__name:"back",props:{active:Boolean},setup(t){const{t:e}=Je();return(n,i)=>{const r=we("tippy");return st(),ft("div",r4t,[be((st(),ft("button",{type:"button",class:Ke(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:_t(e)("panels.controls.back"),"aria-label":_t(e)("panels.controls.back")},i[0]||(i[0]=[nt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[nt("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,s4t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),a4t={class:"w-32 h-32"},l4t=["content","aria-label"],c4t={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},u4t={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},h4t=Zt({__name:"expand",props:{active:Boolean},setup(t){const{t:e}=Je();return(n,i)=>{const r=we("tippy");return st(),ft("div",a4t,[be((st(),ft("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:_t(e)(`panels.controls.${t.active?"collapse":"expand"}`),"aria-label":_t(e)(`panels.controls.${t.active?"collapse":"expand"}`)},[t.active?(st(),ft("svg",u4t,i[1]||(i[1]=[nt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),nt("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),nt("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),nt("path",{d:"M4 12h16v2H4z"},null,-1)]))):(st(),ft("svg",c4t,i[0]||(i[0]=[nt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),nt("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),nt("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,l4t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),p4t={class:"relative"},d4t=["content","aria-label"],f4t=Zt({__name:"minimize",props:{active:Boolean},setup(t){const{t:e}=Je();return(n,i)=>{const r=we("tippy");return st(),ft("div",p4t,[be((st(),ft("button",{type:"button",class:Ke(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":t.active}]),content:_t(e)("panels.controls.minimize"),"aria-label":_t(e)("panels.controls.minimize")},i[0]||(i[0]=[nt("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[nt("path",{d:"M0 0h24v24H0V0z",fill:"none"}),nt("path",{d:"M6 19h12v2H6z"})],-1)]),10,d4t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),m4t={class:"relative"},y4t=["content","aria-label"],g4t=Zt({__name:"right",props:{active:Boolean},setup(t){const{t:e}=Je();return(n,i)=>{const r=we("tippy");return st(),ft("div",m4t,[be((st(),ft("button",{type:"button",class:Ke(["p-8",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:_t(e)("panels.controls.moveRight"),"aria-label":_t(e)("panels.controls.moveRight")},i[0]||(i[0]=[nt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[nt("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,y4t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),v4t={class:"relative"},b4t=["content","aria-label"],w4t=Zt({__name:"left",props:{active:Boolean},setup(t){const{t:e}=Je();return(n,i)=>{const r=we("tippy");return st(),ft("div",v4t,[be((st(),ft("button",{type:"button",class:Ke(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:_t(e)("panels.controls.moveLeft"),"aria-label":_t(e)("panels.controls.moveLeft")},i[0]||(i[0]=[nt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[nt("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,b4t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),_4t=Zt({__name:"panel-options-menu",setup(t){const{t:e}=Je();return(n,i)=>(st(),Le(jM,{class:"flex",tooltip:_t(e)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:xn(()=>i[0]||(i[0]=[nt("div",{class:"p-6"},[nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[nt("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:xn(()=>[hs(n.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),x4t=Po(_4t,[["__scopeId","data-v-51e22a4a"]]),E4t={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},S4t={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},A4t=Zt({__name:"fullscreen-nav",setup(t){const{t:e}=Je(),n=Nn("iApi"),i=()=>{n.toggleFullscreen()};return(r,s)=>{const o=En("mapnav-button");return st(),Le(o,{onClickFunction:i,tooltip:_t(e)("mapnav.fullscreen")},{default:xn(()=>[_t(n).isFullscreen?(st(),ft("svg",E4t,s[0]||(s[0]=[nt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),nt("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(st(),ft("svg",S4t,s[1]||(s[1]=[nt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),nt("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),M4t=Zt({__name:"geolocator-nav",setup(t){const{t:e}=Je(),n=Nn("iApi");let i=Zn([]);const r=async()=>{if(i.length)s(i);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?n.notify.show(Ur.ERROR,e("mapnav.geolocator.error.permission")):n.notify.show(Ur.ERROR,e("mapnav.geolocator.error.internal"))});a&&(i=[a.coords.longitude,a.coords.latitude],s(i))}},s=a=>{const l=new pi("geolocation",a,Rt.latLongSR(),!0);n.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=En("mapnav-button");return st(),Le(c,{onClickFunction:r,tooltip:_t(e)("mapnav.geolocator")},{default:xn(()=>l[0]||(l[0]=[nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[nt("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),T4t=Zt({__name:"home-nav",setup(t){const{t:e}=Je(),n=Nn("iApi"),i=()=>{const r=n.geo.map.getExtentSet();n.geo.map.zoomMapTo(r.fullExtent)};return(r,s)=>{const o=En("mapnav-button");return st(),Le(o,{onClickFunction:i,tooltip:_t(e)("mapnav.home")},{default:xn(()=>s[0]||(s[0]=[nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[nt("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),nt("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),I4t={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},N4t=["content","aria-label"],O4t=Zt({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1},showOutline:{type:Boolean,default:!1}},setup(t){return(e,n)=>{const i=we("focus-item"),r=we("tippy");return st(),ft("div",I4t,[be((st(),ft("button",{type:"button",class:Ke(["w-full h-full default-focus-style",[t.showOutline?"focus:outline focus:outline-2 focus:outline-blue-400 focus:absolute focus:z-50":"focus:outline-none"]]),onClick:n[0]||(n[0]=s=>t.onClickFunction()),content:t.tooltip,"aria-label":typeof t.tooltip=="string"?t.tooltip:""},[hs(e.$slots,"default")],10,N4t)),[[i],[r,{placement:"left"}]])])}}}),C4t={class:"relative",tabindex:"-1"},k4t=["aria-label","content"],R4t=Zt({__name:"button",props:{onClickFunction:{type:Function,required:!0},buttonId:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(t){const e=Nn("iApi"),n=t,i=()=>e.event.emit(Et.APPBAR_BUTTON_CLICK,n.buttonId);return(r,s)=>{const o=we("focus-item"),a=we("tippy");return st(),ft("div",C4t,[be((st(),ft("button",{type:"button",class:"py-6 w-full h-full",onClick:s[0]||(s[0]=()=>{t.onClickFunction(),i()}),"aria-label":String(t.tooltip),content:`<div style='word-break: break-word;'>${t.tooltip}</div>`},[hs(r.$slots,"default",{},void 0,!0)],8,k4t)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),L4t=Po(R4t,[["__scopeId","data-v-1cb84ae1"]]),tV=He("areas-of-interest",()=>({areas:Z([])})),eV=He("export",()=>{const t=Z({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),e=Z("");function n(i){if(t.value[i.name]!==void 0){const r=t.value[i.name];t.value[i.name]=i.selected!==void 0?i.selected:!r}}return{componentSelectedState:t,fileName:e,toggleSelected:n}}),nV=He("extentguard",()=>{const t=Z(!1);function e(l){t.value=l}const n=Z(!1);function i(l){n.value=l}const r=Z(!1);function s(l){r.value=l}const o=Z([]);function a(l){o.value=l}return{active:t,setActive:e,enforcing:n,setEnforcing:i,alwaysOn:r,setAlwaysOn:s,extentSetIds:o,setExtentSetIds:a}}),dd=function t(e){function n(r,s,o){var a,l={};if(Array.isArray(r))return r.concat(s);for(a in r)l[o?a.toLowerCase():a]=r[a];for(a in s){var c=o?a.toLowerCase():a,p=s[a];l[c]=c in l&&typeof p=="object"?n(l[c],p,c=="headers"):p}return l}function i(r,s,o,a,l){var c=typeof r!="string"?(s=r).url:r,p={config:s},d=n(e,s),f={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(f.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),f["content-type"]="application/json");try{f[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:n(d.headers,f,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var g in y)typeof y[g]!="function"&&(p[g]=y[g]);return d.responseType=="stream"?(p.data=y.body,p):y[d.responseType||"text"]().then(function(b){p.data=b,p.data=JSON.parse(b)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?p:Promise.reject(p)})})}return e=e||{},i.request=i,i.get=function(r,s){return i(r,s,"get")},i.delete=function(r,s){return i(r,s,"delete")},i.head=function(r,s){return i(r,s,"head")},i.options=function(r,s){return i(r,s,"options")},i.post=function(r,s,o){return i(r,o,"post",s)},i.put=function(r,s,o){return i(r,o,"put",s)},i.patch=function(r,s,o){return i(r,o,"patch",s)},i.all=Promise.all.bind(Promise),i.spread=function(r){return r.apply.bind(r,r)},i.CancelToken=typeof AbortController=="function"?AbortController:Object,i.defaults=e,i.create=t,i}(),P4t={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,Y:60},D4t={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class F4t{provinceList=[];listFetched=!1;constructor(e){dd.get(e).then(n=>{this.provinceList=n.data.definitions.map(r=>{const s=parseInt(r.code);return{code:s,abbr:D4t[s],name:r.description}});const i={code:-1,abbr:"...",name:"..."};this.provinceList.push(i),this.provinceList.sort((r,s)=>r.name>s.name?1:-1),this.listFetched=!0})}codeToProvince(e){return this.provinceList.find(n=>n.code===e)}nameToProvince(e){return this.provinceList.find(n=>n.name===e)}abbrToProvince(e){return this.provinceList.find(n=>n.abbr===e)}fsaToProvince(e){let n;const i=e.toUpperCase(),r=i.substring(0,1);return r==="X"?i==="X0A"||i==="X0B"||i==="X0C"?n=62:n=61:n=P4t[r],this.codeToProvince(n)}}function j4t(t){return new F4t(t)}const P2={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"R\xE9gion De Tri D'Acheminement",NTS:"Syst\xE8me National De R\xE9f\xE9rence Cartographique",COORD:"Latitude/Longitude",SCALE:"\xC9chelle"}};class $4t{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(e,n){dd.get(n).then(i=>{i.data.definitions.forEach(r=>{P2[e][r.code]=r.term.split(`${r.code}-`)[1]}),Object.keys(P2[e]).forEach(r=>{this.allTypes[r]=P2[e][r],this.validTypes[r]=P2[e][r]}),this.typesFetched=!0})}filterValidTypes(e){if(this.filterComplete)return this.validTypes;if(e=typeof e=="string"?[e]:e,e&&e.length>0)for(const n of e)delete this.validTypes[n];return this.filterComplete=!0,this.validTypes}}function G4t(t,e){return new $4t(t,e)}function Ms(t,e){return t.then(function(n){return[null,n]}).catch(function(n){return[n,void 0]})}class D2{config;query;failedServs=[];results=[];constructor(e,n=""){this.query=n,this.config=e}addResult(e){Array.isArray(e)?this.results=this.results.concat(e):this.results.push(e)}}async function U4t(t,e){let n,i;const r=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,s=/^\d{2,3}[A-P]/,o=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;return r.test(e)&&!t.disabledSearchTypes.includes("LAT/LNG")?(i=e.slice(0,-1),n=new D2(t,i),await W4t(n)):o.test(e)&&!t.disabledSearchTypes.includes("FSA")?(i=e.substring(0,3).toUpperCase(),n=new D2(t,i),await q4t(n)):s.test(e)&&!t.disabledSearchTypes.includes("NTS")?(i=e.substring(0,6).toUpperCase(),n=new D2(t,i),await H4t(n)):(i=encodeURIComponent(e.trim()),n=new D2(t,i),await Y4t(n)),t.customSources.length&&await B4t(n,t.customSources),n}const F2=async t=>{const[e,n]=await Ms(dd.get(t));return e?(console.error("Request error from "+t),console.error(e),Promise.reject("Could not load results from remote service.")):n.data},j2=(t,e,n)=>[t+n,e-n,t-n,e+n],OT=(t,e,n,i)=>{let r="";const s=t.config;return e?r=s.geoLocateUrl+"?q="+t.query:(n&&i?r=`${s.geoNameUrl}?lat=${n}&lon=${i}&num=${s.maxResults}`:r=`${s.geoNameUrl}?q=${t.query}&num=${s.maxResults}`,s.categories.length>0&&(r+=`&concise=${s.categories.join(",")}`),s.officialOnly&&(r+="&category=O")),r},iV=(t,e)=>e.filter(n=>t.types.validTypes[n.concise.code]).map(n=>({name:n.name,flav:"nme",bbox:n.bbox,type:t.types.allTypes[n.concise.code],location:{city:n.location,province:t.provinces.codeToProvince(parseInt(n.province.code))},order:t.sortOrder.indexOf(n.concise.code)>=0?t.sortOrder.indexOf(n.concise.code):t.sortOrder.length})),B4t=async(t,e)=>{const n=(await Promise.all(e.map(i=>i.onSearch(t.query)))).flat();t.addResult(n)},CT=async t=>{const[e,n]=await Ms(F2(OT(t,!0)));return e?(console.error("Geolocation service failed"),t.failedServs.push("geolocation"),[]):n},V4t=async t=>{const[e,n]=await Ms(F2(OT(t,!1)));let i;e?(console.error("GeoName service targeting Name failed"),t.failedServs.push("geoname"),i=[]):i=n.items,t.addResult(iV(t.config,i))},z4t=async(t,e,n)=>{const[i,r]=await Ms(F2(OT(t,!1,e,n)));let s;i?(console.error("GeoName service targeting Lat Lon failed"),t.failedServs.push("geoname"),s=[]):s=r.items,t.addResult(iV(t.config,s))},W4t=async t=>{const e=t.query.split(/[\s|,|;|]/).filter(s=>!isNaN(s)&&s!=="").map(s=>parseFloat(s)),n=e[0],i=e[1],r={name:`${n},${i}`,flav:"llg",location:{},type:"Latitude/Longitude",bbox:j2(i,n,.015),order:-1};await z4t(t,n,i),t.addResult(r)},q4t=async t=>{const e=t.config,n=await CT(t);if(n.length){const i=n[0].geometry.coordinates,r=i[1],s=i[0],o={name:t.query,flav:"fsa",bbox:j2(s,r,.03),type:e.types.allTypes.FSA,location:{province:e.provinces.fsaToProvince(t.query)},order:-1};t.addResult(o)}},H4t=async t=>{const e=t.config,n=await CT(t);if(n.length){const i=n[0],r=i.title.split(" "),s=r.shift()||"",o=r.join(" "),a=i.geometry.coordinates,l=a[1],c=a[0],p={name:s,flav:"nts",bbox:i.bbox??j2(c,l,.03),type:e.types.allTypes.NTS,location:{city:o},order:-1};t.addResult(p)}},Y4t=async t=>{const e=t.config;if(await V4t(t),e.categories.length===0||e.categories.includes("ADDR")){const n=await CT(t),i=e.sortOrder.indexOf("ADDR"),r=i>=0?i:e.sortOrder.length,s=n.filter(o=>o.type?.includes("Street")).map(o=>{const[a,l,c]=o.title.split(", "),p=o.geometry.coordinates,d=p[1],f=p[0];return{name:a,flav:"add",bbox:j2(f,d,.002),type:e.types.allTypes.ADDRESS,location:{city:l.split(" Of ").pop(),province:e.provinces.nameToProvince(c)},order:r}});t.addResult(s)}},rV="~FSA~",sV="https://geogratis.gc.ca/services/geolocation/@{language}/locate",oV="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",aV="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",lV="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json";class cV{config;constructor(e,n){let i,r,s,o;const a=n?.serviceUrls;a?(i=a.geoLocation?a.geoLocation:sV,r=a.geoNames?a.geoNames:oV,s=a.geoProvince?a.geoProvince:aV,o=a.geoTypes?a.geoTypes:lV):(i=sV,r=oV,s=aV,o=lV),i=i.replace("@{language}",e),r=r.replace("@{language}",e),s=s.replace("@{language}",e),o=o.replace("@{language}",e);let l="";const c=n?.fsaBoundaries;if(c&&c.serviceUrl){const A=c.keyField||"CFSAUID";l=`${c.serviceUrl}/query/?where=${A}%3D'${rV}'&outFields=${A}&returnGeometry=true&f=json`}const p=n?.settings;let d,f,y,g,b,x;p?(d=p.categories?p.categories:[],f=p.sortOrder?p.sortOrder:[],y=p.disabledSearchTypes?p.disabledSearchTypes:[],g=p.maxResults>0?p.maxResults:100,b=!!p.officialOnly):(d=[],f=[],y=[],g=100,b=!1),x=n?.customSources??[],x=x.map(A=>({...A,onSearch:async M=>{const _=A.data??[],w=kT().cleanVal(M).replace("*","");return _.filter(T=>T.name.toLowerCase().includes(w)).map(T=>({name:T.name,type:A.catName,bbox:T.bbox,flav:"nme",location:{province:this.config.provinces.abbrToProvince(T.prov),city:T.city},order:f.indexOf(A.code)>=0?f.indexOf(A.code):f.length}))}})),this.config={language:e,geoNameUrl:r,geoLocateUrl:i,fsaUrl:l,types:G4t(e,o),provinces:j4t(s),categories:d,sortOrder:f,disabledSearchTypes:y,maxResults:g,officialOnly:b,customSources:x},this.config.types.filterValidTypes(n?.excludeTypes),this._typeList=[],this._excludedTypes=n?.excludeTypes||[]}get typeList(){return this._typeList}set typeList(e){this._typeList=e}levenshteinDistance(e,n){n=n.toLowerCase().trim(),e=decodeURI(e.toLowerCase().replace("*",""));const i=[];for(let r=0;r<=n.length;r++){i[r]=[r];for(let s=1;s<=e.length;s++)i[r][s]=r===0?s:Math.min(i[r][s-1]+1,i[r-1][s]+.2,i[r-1][s-1]+(e[s-1]===n[r-1]?0:1))}return i[n.length][e.length]}async query(e){const n=await U4t(this.config,e.toUpperCase()),i=this.config.sortOrder.length,r=n.results.filter(l=>l.order<i),s=n.results.filter(l=>l.order>=i);r.sort((l,c)=>l.order-c.order);const o=this.config.maxResults;let a;return r.length>=o?a=r.slice(0,o):(s.forEach(l=>l.order=this.levenshteinDistance(n.query,l.name)),s.sort((l,c)=>l.order-c.order),a=r.concat(s.slice(0,o-r.length))),{results:a,failedServs:n.failedServs}}fetchProvinces(){return new Promise(e=>{const n=setInterval(()=>{this.config.provinces.listFetched&&(clearInterval(n),e(this.config.provinces.provinceList))},100)})}fetchTypes(){return new Promise(e=>{const n=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(n);const i=[],r={code:-1,name:"..."};i.push(r);const s=this.config.types.allTypes;for(const o in s)this._excludedTypes.includes(o)||i.push({code:o,name:s[o]});this.config.customSources.length&&this.config.customSources.forEach(o=>{i.some(a=>a.code===o.code)||i.push({code:o.code,name:o.catName})}),this.typeList=i,e(this.typeList)}},100)})}}function uV(t,e,n){if(t&&e.extent){const i=e.extent;n=n.filter(r=>r.bbox[0]<=i.xmax&&r.bbox[1]<=i.ymax&&r.bbox[2]>=i.xmin&&r.bbox[3]>=i.ymin)}return e.province&&e.province!=="..."&&(n=n.filter(i=>i.location.province?.name&&i.location.province.name===e.province)),e.type&&e.type!=="..."&&(n=n.filter(i=>i.type===e.type)),n}const kT=He("geosearch",()=>{const t=Z(new cV("en",void 0)),e=Z({type:"",province:"",extent:void 0}),n=Z(!1),i=Z(""),r=Z(""),s=Z(""),o=Z([]),a=Z([]),l=Z(!1),c=Z([]),p=Wt(()=>t.value.fetchProvinces().then(w=>(w.sort((T,I)=>T.name.localeCompare(I.name,void 0,{sensitivity:"case"})),w))),d=Wt(()=>new Promise(w=>{t.value.fetchTypes().then(T=>{T.sort((I,O)=>I.name.localeCompare(O.name,void 0,{sensitivity:"case"})),w(T)})}));function f(w,T){t.value=new cV(w,T)}function y(w){return w.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function g(w){l.value=!0;const T=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!T)o.value=[],a.value=[],l.value=!1;else if(T&&T!==s.value||w){const I=setInterval(()=>{t.value.config.provinces.listFetched&&t.value.config.types.typesFetched&&(clearInterval(I),t.value.query(`${T}*`).then(O=>{c.value=O.failedServs,s.value=T,a.value=O.results;const C=uV(n.value,e.value,a.value);o.value=C||[],l.value=!1}))},250)}else{const I=uV(n.value,e.value,a.value);o.value=I||[],l.value=!1}}function b(w){e.value.province=typeof w.province>"u"?"":w.province,g(w.forceReRun)}function x(w){e.value.type=typeof w.type>"u"?"":w.type,g(w.forceReRun)}function A(w){s.value=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),i.value=w,g()}function M(w){const T={a:"\xE0\xE1\xE2\xE3\xE4\xE5\u0101\u0103\u0105\u01CE\u0201\u0203\u0227\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7",b:"\u1E03\u0253\u1E05\u1E07",c:"\xE7\u0107\u0109\u010B\u010D",d:"\u010F\u1E0B\u1E0D\u1E0F\u1E11\u1E13",e:"\xE8\xE9\xEA\xEB\u0113\u0115\u0117\u0119\u011B\u0205\u0207\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7",f:"\u0192\u1E1F",g:"\u011D\u011F\u0121\u0123\u01E7\u01F5\u1E21",h:"\u0125\u021F\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E96",i:"\xEC\xED\xEE\xEF\u0129\u012B\u012D\u012F\u0131\u0209\u020B\u1ECB\u1EC9\u0129",j:"\u0135\u01F0\u0249",k:"\u0137\u0138\u0199\u1E33\u1E35",l:"\u013A\u013C\u013E\u0140\u0142\u1E37\u1E39\u1E3B\u1E3D",m:"\u1E3F\u1E41\u1E43",n:"\xF1\u0144\u0146\u0148\u0149\u014B\u01F9\u1E45\u1E47\u1E49\u1E4B",o:"\xF2\xF3\xF4\xF5\xF6\u014D\u014F\u0151\u01A1\u01D2\u01EB\u01ED\u020D\u020F\u022F\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3",p:"\u1E55\u1E57",r:"\u0155\u0157\u0159\u0211\u0213\u1E5B\u1E5D\u1E5F",s:"\u015B\u015D\u015F\u0161\u0219\u1E61\u1E63\u1E65\u1E67\u1E69",t:"\u0163\u0165\u0167\u021B\u1E6B\u1E6D\u1E6F\u1E71\u1E97",u:"\xF9\xFA\xFB\xFC\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u01D4\u01D6\u01D8\u01DA\u01DC\u0215\u0217\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1",v:"\u1E7D\u1E7F",w:"\u1E81\u1E83\u0175\u1E85\u1E87\u1E89\u1E8B",x:"\u1E8B\u1E8D",y:"\u1EF3\xFD\u0177\xFF\u1EF9\u0233\u1E8F\u1E99\u1EF5\u1EF7\u1EF9",z:"\u017A\u017C\u017E\u1E91\u1E93\u1E95"};w=y(w),r.value=Array.from(w).map(I=>Object.keys(T).includes(I)?"["+I+T[I]+"]":I.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function _(w){if(w.visible!==void 0&&(n.value=w.visible),w.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");e.value.extent=w.extent,g()}return{GSservice:t,queryParams:e,resultsVisible:n,searchVal:i,searchRegex:r,lastSearchVal:s,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:p,getTypes:d,initService:f,runQuery:g,setProvince:b,setType:x,setSearchTerm:A,setSearchRegex:M,setMapExtent:_,cleanVal:y}}),hV=He("help",()=>({location:Z("./help/")}));var RT=(t=>(t.Visibility="visibilityButton",t.Expand="expandButton",t))(RT||{}),$2=(t=>(t.Item="item",t.Placeholder="placeholder",t.Error="error",t))($2||{});class LT extends _n{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(e,n,i){super(e),this._uid=cc.sharedUtils.generateUUID(),this._name=n.name,this._type=n.type??"placeholder",this._parent=i,this._children=[],this._loadPromise=new wn,this._hidden=n.hidden??!1,this._expanded=n.expanded??!0,this._visibility=!0,this._exclusive=n.exclusive??!1,this._controls=n.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=n.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(e){this._name=e}get type(){return this._type}get children(){return this._children}set children(e){this._children=e}get parent(){return this._parent}set parent(e){this._parent=e}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(e){return this._disabledControls?.includes(e)?!1:this._controls?.includes(e)}setControl(e,n){n&&this._disabledControls?.includes(e)?(this._disabledControls=this._disabledControls.filter(i=>i!==e),this._controls?.push(e)):!n&&this._controls?.includes(e)&&(this._controls=this._controls.filter(i=>i!==e),this._disabledControls?.push(e))}toggleHidden(e){this._hidden=e??!this.hidden}toggleExpanded(e){this._expanded=e??!this.expanded}toggleVisibility(e,n=!0){if(this.visibility!==e){if(this._visibility=e??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof Ua)||this._lastVisible.layerControlAvailable(hn.Visibility)))this._lastVisible.toggleVisibility(!0);else{const i=this.children.find(r=>!(r instanceof Ua)||r.layerControlAvailable(hn.Visibility));i&&i.toggleVisibility(!0)}else this._lastVisible=this.children.find(i=>i.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&n&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(e=>e.visibility&&e!==this&&e.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(e){this instanceof Ua&&!this.layerControlAvailable(hn.Visibility)||(this.exclusive?e.visibility?(this.children.forEach(n=>{n.uid!==e.uid&&n.toggleVisibility(!1,!1)}),this._lastVisible=e,this._visibility=!0,this instanceof Ua&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof Ua&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=e):this.children.some(n=>n.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(n=>n.visibility),this instanceof Ua&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof Ua&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const e={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},n=[];return this.children.forEach(i=>{n.push(i.getConfig())}),this.exclusive?e.exclusiveVisibility=n:e.children=n,e}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new wn}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class Ua extends LT{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(e,n,i){if(super(e,n,i),this._type=$2.Placeholder,this._layerId=n.layerId,this._layerIdx=n.sublayerIndex,this._isSublayer=n.sublayerIndex!==void 0,this._layerControls=n.layerControls??[],this._origLayerControls=n.layerControls,this._layerDisabledControls=n.disabledLayerControls??[],this._origLayerDisabledControls=n.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=n.symbologyExpanded||!1,n.coverIcon&&(this._coverIcon=n.coverIcon),n.description&&(this._description=n.description),this._symbologyRenderStyle=n.symbologyRenderStyle??"icons",this._customSymbology=!!n.symbologyStack,this._symbologyStack=n.symbologyStack?.map(r=>({uid:this.$iApi.geo.shared.generateUUID(),label:r.text,definitionClause:r.sqlQuery,imgUrl:r.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=n.maxLines&&[1,2,3,4,5,6].includes(n.maxLines)?n.maxLines:void 0,!this._name){const r=this.$iApi.getConfig()?.layers;if(r&&Array.isArray(r)){const s=r.find(o=>o.id===this._layerId);if(s)if(this._isSublayer){if(s.sublayers&&Array.isArray(s.sublayers)){const o=s.sublayers.find(a=>a.index===this._layerIdx);o&&o.name&&(this._name=o.name)}}else s.name&&(this._name=s.name)}}}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(e){this._layer=e,this._layerId=e.id,this._layerIdx=e.isSublayer?e.layerIdx:void 0,this._layerUid=e.uid,this._name=this._name||e.name,this._symbologyStack=this._customSymbology?this._symbologyStack:e.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(e){this._layerOffscale=e}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(e){this._layerRedrawing=e}get coverIcon(){return this._coverIcon}set coverIcon(e){this._coverIcon=e}get description(){return this._description}set description(e){this._description=e}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(e){this._treeGrown=e}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(e){this._symbologyRenderStyle=e}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(e){this._symbologyStack=e}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const e={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...e}}toggleVisibility(e,n=!0,i=!1){if(!(!this.layerControlAvailable(hn.Visibility)&&!i)&&(super.toggleVisibility(e,n),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const r=this._symbologyStack.some(s=>s.lastVisbility);this._symbologyStack.forEach(s=>{r||(s.lastVisbility=!0),s.visibility=this.visibility?s.lastVisbility:!1})}}toggleSymbology(e){return this._symbologyExpanded=e??!this._symbologyExpanded,this._symbologyExpanded}clickSymbologyByIndex(e,n){const i=this._symbologyStack[e].uid;this.clickSymbology(i,n)}symbolsVisible(){return this.symbologyStack.some(e=>e.visibility)}clickSymbology(e,n){if(!this.symbolsVisible()&&n!==!1?(this.setSymbologyVisibility(void 0,!1),this.setSymbologyVisibility(e,!0),this.toggleVisibility(!0)):this.setSymbologyVisibility(e,n),this.symbolsVisible()||this.toggleVisibility(!1),this.layer?.supportsFeatures){const i=this.symbologyStack.filter(s=>s.lastVisbility).map(s=>s.definitionClause||"");let r="";i.length===0?r="1=2":i.length<this.symbologyStack.length&&(r=i.join(" OR ")),this.layer.setSqlFilter(oi.SYMBOL,r)}}setSymbologyVisibility(e,n){const i=e===void 0;this._symbologyStack.some(r=>{if(i||r.uid===e){const s=n??!r.lastVisbility;r.visibility=s,r.lastVisbility=s}return!i&&r.uid===e})}load(e){const n=e instanceof B2?e:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);n&&(this.layer=n,this._layerRedrawing=n.mapLayer&&n.drawState!==$i.UP_TO_DATE,n.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:n.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),n.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(Et.LAYER_VISIBILITYCHANGE,i=>{i.layer.uid===this.layer.uid&&this._type===$2.Item&&this.toggleVisibility(i.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(Et.LAYER_DRAWSTATECHANGE,i=>{this.layer.uid===i.layer.uid&&(i.layer.drawState===$i.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=i.layer.drawState===$i.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?n.isOffscale():!1,this.handlers.push(this.$iApi.event.on(Et.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(e){return this._layerDisabledControls?.includes(e)?!1:!!this._layerControls?.includes(e)}updateLayerControls(){const e=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=e?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=e?.disabledControls??[])}}var pV=(t=>(t.Title="title",t.Text="text",t.Image="image",t.Markdown="markdown",t.Template="template",t))(pV||{});class PT extends LT{_infoType;_content;constructor(e,n,i){super(e,n,i),this._infoType=n.infoType??"title",this._content=n.content??"",n.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(n.infoType||n.content)&&(this._controls=n.controls?.slice()??[RT.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(e){this._content=e}getConfig(){const e={infoType:this._infoType,content:this._content};return{...super.getConfig(),...e}}}const dV=He("legend",()=>{const t=Z(),e=Z([]),n=Z([]),i=Z(!0),r=Z(3);function s(l){if(l.parent===void 0)e.value.push(l.item);else{if(!(l.item instanceof PT)&&!(l.item instanceof Ua)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=p=>(p=p.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),p.forEach(d=>{d.children=c(d.children)}),p=p.filter(d=>!(d instanceof PT&&!d.children.length&&d.content==="")),p);e.value=c(e.value)}function a(l){if(l.oldItem.parent===void 0){const c=e.value,p=c.indexOf(l.oldItem);p>-1&&(e.value[p]=l.newItem),e.value=c}else{const c=l.oldItem.parent.children,p=c.indexOf(l.oldItem);p>-1&&(c[p]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:t,multilineItems:i,maxLines:r,children:e,headerControls:n,addItem:s,removeItem:o,replaceItem:a}}),fV=He("mapnav",()=>{const t=Z({}),e=Z([]);function n(i){i in t.value&&delete t.value[i];const r=e.value.indexOf(i);r!==-1&&e.value.splice(r,1)}return{items:t,order:e,removeItem:n}}),mV=He("metadata",()=>{const t=Z(""),e=Z({type:"LineString",coordinates:[]});return{status:t,response:e}}),yV=He("northarrow",()=>{const t=Z(""),e=Z("");return{arrowIcon:t,poleIcon:e}}),gV=He("overviewmap",()=>{const t=Z({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),e=Z({}),n=Z(!0),i=Z(1.5),r=Z("#FF0000"),s=Z(1),o=Z("#000000"),a=Z(.25);function l(c){t.value.initialBasemapId=c}return{mapConfig:t,basemaps:e,startMinimized:n,expandFactor:i,borderColour:r,borderWidth:s,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),vV=He("scrollguard",()=>{const t=Z(!1);function e(n){t.value=n}return{enabled:t,setEnabled:e}});var yi=(t=>(t[t.UPLOAD=0]="UPLOAD",t[t.FORMAT=1]="FORMAT",t[t.CONFIGURE=2]="CONFIGURE",t))(yi||{});const bV=He("wizard",()=>{const t={id:"Placeholder",layerType:xt.UNKNOWN,url:""},e=Z(),n=Z(""),i=Z(""),r=Z(!0),s=Z(null),o=Z({config:t,configOptions:[]}),a=Z(yi.UPLOAD);function l(c){switch(a.value){case yi.UPLOAD:c===yi.UPLOAD?n.value="":c===yi.FORMAT&&(a.value=yi.FORMAT);break;case yi.FORMAT:c===yi.UPLOAD?(s.value&&(n.value="",s.value=null),i.value="",a.value=yi.UPLOAD):c===yi.CONFIGURE&&(a.value=yi.CONFIGURE);break;case yi.CONFIGURE:c===yi.UPLOAD?(n.value="",i.value="",s.value=null,r.value=!0,o.value={config:t,configOptions:[]},a.value=yi.UPLOAD):c===yi.FORMAT&&(o.value={config:t,configOptions:[]},r.value=!0,a.value=yi.FORMAT);break}}return{layerSource:e,url:n,typeSelection:i,nested:r,fileData:s,layerInfo:o,currStep:a,goToStep:l}});class J4t{fixture;panel;event;geo;notify;dev;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(e,n,i){this.event=new vyt(this);const r=Z4t(e,this);this.$vApp=r.app,this.$element=r.element,this.$i18n=r.i18n,this.$rootEl=r.app.$root?.$el,this.fixture=new cMt(this),this.panel=new uMt(this),this.geo=new aMt(this),this.dev=new yMt(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new W_t(this),this._isFullscreen=Co.isEnabled&&!!this.$vApp.$root&&Co.isFullscreen&&Co.element===this.$vApp.$root.$el,Co.isEnabled&&Co.onchange(()=>{this._isFullscreen=Co.isEnabled&&!!this.$vApp.$root&&Co.isFullscreen&&Co.element===this.$vApp.$root.$el}),this.initialize(!0,n,i)}initialize(e,n,i){const r=er(this.$vApp.$pinia),s=nc(this.$vApp.$pinia),o=Fb(this.$vApp.$pinia);if(n?.configs!==void 0){const l=Object.keys(this.$i18n.messages.value);r.registerAllConfigs(n,l);const c=r.registeredConfigs[r.registeredLangs[this.$i18n.locale.value]];r.newConfig(c),r.activeBasemapConfig=c.map.basemaps.find(g=>g.id===c.map.initialBasemapId);const p=setInterval(()=>{const g=this.$vApp.$el.querySelector("#esriMap");g&&(clearInterval(p),this.geo.map.createMap(c.map,g).then(()=>{if(g._tippy.hide(0),o.setMaptipInstance(g._tippy),c.layers&&c.layers.length>0){let b=0;c.layers.forEach(x=>{const A=this.geo.layer.createLayer(x);this.geo.map.addLayer(A,b).catch(()=>{}),A.mapLayer&&b++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const g=c.panels.open.map(b=>b.id);this.panel.isRegistered(g).then(()=>{c.panels?.open?.forEach(b=>{this.panel.open({id:b.id,screen:b.screen}),b.pin&&this.panel.pin(b.id)})})}s.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},f=c.system?.zoomIcon||"globe",y=d[f]||f;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=g=>this.ui.suppressNumberLocalization?g.toString():this.$i18n.n(g,"number"),this.ui.escapeHtml=g=>{const b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return g.replace(/[<>"']/g,x=>b[x])},this.ui.isPlainText=g=>typeof g=="string"?!this.containsValidHtml(g)&&!this.representsObject(g):!1}i||(i={});const a=id(this.$vApp.$pinia);i?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(Et.MAP_START)),e&&(i.loadDefaultFixtures!==!1||n?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(n?.startingFixtures):e||this.fixture.restore(),i.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reloadWorker(e,n){const i=id(this.$vApp.$pinia),r=jo(this.$vApp.$pinia),s=er(this.$vApp.$pinia),o=ys(this.$vApp.$pinia),a=Xs(this.$vApp.$pinia),l=Eb(this.$vApp.$pinia),c=!!e;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(p=>{l.removeGrid(p)}),i.started=!1,this.geo.map.destroyMap(),a.$reset(),n?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),c||(e=JSON.parse(JSON.stringify({startingFixtures:s.startingFixtures,configs:s.registeredConfigs}))),r.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,e,n),c&&this.event.emit(Et.CONFIG_CHANGE,this.getConfig())}reload(e,n){this.reloadWorker(e,n),this.event.emit(Et.RAMP_RELOAD)}component(e,n){if(n){const i=this.$element.component(e,n);return this.event.emit(Et.COMPONENT,e),i}return this.$element.component(e)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const e=this.$vApp.$root.$refs["app-size"].classList;return e.contains("lg")?"lg":e.contains("md")?"md":e.contains("sm")?"sm":"xs"}getConfig(){const e=er(this.$vApp.$pinia);return JSON.parse(JSON.stringify(e.getActiveConfig(this.language)))}useStore(e){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","keyboardnav","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(e)&&!this.fixture.exists(e)))switch(e){case"appbar":return a0(this.$vApp.$pinia);case"areas-of-interest":return tV(this.$vApp.$pinia);case"details":return GA(this.$vApp.$pinia);case"export":return eV(this.$vApp.$pinia);case"extentguard":return nV(this.$vApp.$pinia);case"geosearch":return kT(this.$vApp.$pinia);case"grid":return Eb(this.$vApp.$pinia);case"help":return hV(this.$vApp.$pinia);case"keyboardnav":return $M(this.$vApp.$pinia);case"legend":return dV(this.$vApp.$pinia);case"mapnav":return fV(this.$vApp.$pinia);case"metadata":return mV(this.$vApp.$pinia);case"northarrow":return yV(this.$vApp.$pinia);case"overviewmap":return gV(this.$vApp.$pinia);case"scrollguard":return vV(this.$vApp.$pinia);case"wizard":return bV(this.$vApp.$pinia);case"config":return er(this.$vApp.$pinia);case"fixture":return ys(this.$vApp.$pinia);case"instance":return id(this.$vApp.$pinia);case"layer":return Xs(this.$vApp.$pinia);case"map-caption":return Zl(this.$vApp.$pinia);case"maptip":return Fb(this.$vApp.$pinia);case"notification":return jo(this.$vApp.$pinia);case"panel":return nc(this.$vApp.$pinia);default:console.error(`The store ${e} does not exist.`);return}}setLanguage(e){if(this.$i18n.locale.value===e)return;const n=er(this.$vApp.$pinia),i=jo(this.$vApp.$pinia),r=n.registeredLangs;Object.keys(n.registeredConfigs).length===1&&i.clearAll();const s=this.$i18n.locale.value;this.$i18n.locale.value=e;const o=this.getConfig();r[s]!==r[e]&&(this.reloadWorker(),this.event.emit(Et.CONFIG_CHANGE,o)),this.event.emit(Et.LANG_CHANGE,{oldLang:s,newLang:e})}get language(){return this.$vApp.$i18n.locale}get keyboardNav(){return this.fixture.get("keyboardnav")}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){Co.isEnabled&&Co.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return id(this.$vApp.$pinia).started}updateAlert(e){const n=this.$vApp.$el.querySelector(".screen-reader-alert");n.childNodes.length>0&&(n.innerHTML="");const i=document.createElement("span");i.setAttribute("role","alert");const r=document.createTextNode(e);i.appendChild(r),n.insertBefore(i,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const e=id(this.$vApp.$pinia);!e.started&&this.startRequired?(this.event.emit(Et.MAP_START),e.started=!0):e.started&&console.warn("start has already been called")}containsValidHtml(e){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(e)}representsObject(e){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(e)}}function Z4t(t,e){const n=hyt();n.use(({store:o})=>{const a=HG(o.$state);o.$reset=()=>o.$patch(HG(a))});const i=I1t(),r=Wl(JEt).use(i).use(zEt,{directive:"tippy",component:"tippy"}).use(n);r.directive("focus-container",iSt),r.directive("focus-list",QEt),r.directive("focus-item",tSt),r.directive("truncate",GSt),r.component("panel-screen",ZSt),r.component("pin",t4t),r.component("close",i4t),r.component("back",o4t),r.component("expand",h4t),r.component("panel-options-menu",x4t),r.component("dropdown-menu",jM),r.component("minimize",f4t),r.component("right",g4t),r.component("left",w4t),r.component("fullscreen-nav-button",A4t),r.component("geolocator-nav-button",M4t),r.component("home-nav-button",T4t),r.component("mapnav-button",O4t),r.component("appbar-button",L4t),r.component("transition",qm),r.component("transition-group",Xv),r.config.globalProperties.$iApi=e,r.config.globalProperties.$pinia=n,r.config.idPrefix=`ramp-${t.id||cc.sharedUtils.generateUUID()}`,r.provide("iApi",e);const s=r.mount(t);return{element:r,app:s,i18n:i.global}}class Y2{esriBasemap;config;createErr=!1;constructor(e){this.config=e}static async create(e){const n=new Y2(e),i=e.layers.map(s=>{const o={url:s.url,opacity:s.opacity};if(s.layerType===xt.TILE)return ce.TileLayer(o);if(s.layerType===xt.VECTORTILE)return ce.VectorTileLayer(o);if(s.layerType===xt.MAPIMAGE)return ce.MapImageLayer(o);if(s.layerType===xt.OSM)return ce.OpenStreetMapLayer(o);throw new Error(`Unsupported layer type provided to basemap config: ${s.layerType}`)}),r=(await Promise.allSettled(i)).filter(s=>s.status==="rejected"?(console.error(s.reason),n.createErr=!0,!1):!0).map(s=>{if(s.status==="fulfilled")return s.value;throw new Error("TS is fun")});return n.esriBasemap=await ce.Basemap({baseLayers:r,title:e.name||"",id:e.id}),n}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(e){this.config.name=e||""}get description(){return this.config.description}set description(e){this.config.description=e||""}get altText(){return this.config.altText}set altText(e){this.config.altText=e||""}get attribution(){return this.config.attribution}set attribution(e){this.config.attribution=e}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class wV extends _n{esriMap;_basemapStore;created=!1;name;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(e,n=""){super(e),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new wn,this.handlers=[],this.pointZoomScale=5e4,this.name=n}noMapErr(){console.error(`Attempted to manipulate the ${this.name} map before calling createMap()`),console.trace()}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(e,n){const i=a=>{this.$iApi.notify.show(Ur.ERROR,this.$iApi.$i18n.t("layer.error",{id:a.name}))},r=e.basemaps.map(a=>Y2.create(a)),s=(await Promise.all(r)).filter(a=>(a.createErr&&i(a),a.esriBasemap.baseLayers.length>0));s.forEach(a=>{a.esriBasemap.baseLayers.forEach(l=>{jn(()=>l.loadStatus,()=>{l.loadStatus==="loaded"?this.trackFirstBasemap=!1:l.loadStatus==="failed"&&(i(a),this.trackFirstBasemap&&this.recoverBasemap(a.tileSchemaId))})})}),this._basemapStore=s,e.labelsDefault&&(this.labelsDefault.visible=e.labelsDefault.visible);const o={};this.esriMap=qe(await ce.Map(o)),this.pointZoomScale=e.pointZoomScale&&e.pointZoomScale>0?e.pointZoomScale:5e4,this._targetDiv=n,this.createMapView(e.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(e=>e.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(e,n){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(e,n)}async createMapView(e){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new wn,this.created=!1,this.handlers.forEach(e=>e.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(e){const n=this._basemapStore.find(i=>i.id===e);if(n)return n;throw new Error(`Invalid basemap id requested: ${e}`)}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const n=typeof e=="string"?await this.findBasemap(e):e,i=this.esriMap.basemap?.id||"";n.esriBasemap.id!==i&&(this.esriMap.basemap=Ct(n.esriBasemap))}async setBasemap(e){return this.abstractError(),!1}async recoverBasemap(e){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap?.id??void 0;this.noMapErr()}geomToMapSR(e){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(e.sr)?Promise.resolve(e):this.$iApi.geo.proj.projectGeometry(this._rampSR,e)}async zoomMapTo(e,n,i=!0,r=200,s="ease"){if(this.esriView){if(e.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(e),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Bt.POINT&&(a.scale=n||this.pointZoomScale);const l={animate:i,duration:r,easing:s};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?Xe.fromESRI(this.esriView.extent):(this.noMapErr(),Xe.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),Y0.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Rt.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(e){return e>0?(this.pointZoomScale=e,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${e}.`),!1)}}class X4t extends _n{maptipStore;constructor(e){super(e),this.maptipStore=Fb(this.$vApp.$pinia)}#t=void 0;#e=void 0;async checkAtCoord(e){this.#e=e;const n=await this.$iApi.geo.map.getGraphicAtCoord(e);if(this.#e!==e)return;if(!n){this.clear(),this.maptipStore.maptipInstance.disable();return}const i=this.$iApi.geo.layer.getLayer(n.layerId);if(i?.geomType!=Bt.POLYGON&&this.#t&&this.#t.layerId===n.layerId&&this.#t.oid===n.oid&&this.#t.layerIdx===n.layerIdx)return;if(this.clear(),this.#t=n,!i){console.error(`graphic hit test returned non-existent layer id: ${n.layerId}`);return}if(!i.maptips)return;const r=await i.getIcon(n.oid),s=await i.getGraphic(n.oid,{getAttribs:!0});this.maptipStore.maptipInstance.enable(),this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(e)),this.$iApi.event.emit(Et.MAP_GRAPHICHIT,{layer:i,graphicHit:n,attributes:s.attributes,icon:r,screenPoint:e})}generateDefaultMaptip(e){this.setContent(`<div class="flex items-center space-x-5"><span>${e.icon}</span><span class="line-clamp-3">${e.layer.maptipValue(e.attributes)}</span></div>`)}clear(){this.#t=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(e){this.maptipStore.setMaptipPoint(e)}setContent(e){this.maptipStore.setMaptipContent(e)}}class Q4t extends _n{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(e){super(e),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(e){if(!e)return;const n=Zl(this.$vApp.$pinia);if(n.coords.disabled=!1,n.scale.disabled=!1,n.scale.isImperialScale=!1,e.mapCoords)if(e.mapCoords.disabled)n.coords.disabled=!0;else{const i=e.mapCoords.formatter;i!==void 0&&this.setPointFormatter(i)}if(e.scaleBar)if(e.scaleBar.disabled)n.scale.disabled=!0;else{const i=e.scaleBar.imperialScale;i!==void 0&&(n.toggleScale(i),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}n.langtoggle={disabled:e?.langToggle?.disabled??!1}}updateAttribution(e){const n={value:this.$iApi.$i18n.t("caption.attributionDefaultText")},i={altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},r={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(e?(e.logo?e.logo.disabled?r.logo.disabled=!0:(r.logo.altText=e.logo.altText||i.altText,r.logo.link=e.logo.link||i.link,r.logo.value=e.logo.value||i.value):(r.logo.altText=i.altText,r.logo.link=i.link,r.logo.value=i.value),e.text?e.text.disabled?r.text.disabled=!0:r.text.value=e.text.value||n.value:r.text.value=n.value,Zl(this.$vApp.$pinia).setAttribution(r)):(r.logo.altText=i.altText,r.logo.link=i.link,r.logo.value=i.value,r.text.value=n.value),!e||e.text?.disabled||!e.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let s="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap;if(l){const c=l.baseLayers.map(p=>new Promise(d=>{let f=0;const y=o/a,g=setInterval(function(){p.loaded&&!p.loadError?(clearInterval(g),d(p)):f>y&&(clearInterval(g),d(null)),f++},a)})).toArray();Promise.all(c).then(p=>{s=p.filter(d=>d?.copyright).map(d=>d.copyright).join(" | "),r.text.value=s||r.text.value||n.value,Zl(this.$vApp.$pinia).setAttribution(r)})}}}updateScale(){const e=Zl(this.$vApp.$pinia),n=e.scale;if(n?.disabled)return;const i=n?.isImperialScale||!1,r=this.scaleHelper().find(s=>s.isImperialScale===i)??{units:"error",pixels:1,distance:1};e.scale={width:`${r.pixels}px`,label:`${this.$iApi.$i18n.n(r.distance,"number")}${r.units}`,isImperialScale:i}}async formatPoint(e){return e?await this.pointFormatter(e):""}setPointFormatter(e){if(typeof e=="string"){if(!(e in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${e}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[e]}else this.pointFormatter=e}scaleHelper(){const e=window.innerWidth>600?70:35,n=this.$iApi.geo.map.getResolution(),i=[],r=n*e,s=1609.34,o=3.28084,a=r>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(i.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),r>1e3){const p=n*e/(c?s:1e3),d=Math.round(p).toString().length,f=Math.pow(10,d-1);i[l].distance=Math.ceil(p/f)*f,i[l].pixels=i[l].distance*(c?s:1e3)/n}else i[l].distance=Math.ceil(c?r*o:r),i[l].pixels=r/n}return i}wrapValue(e,n,i){return((e-n)%(i-n)+(i-n))%(i-n)+n}async formatLatLongDMS(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.floor(Math.abs((i-o)*60)),l=Math.floor((Math.abs(i)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(r))*(r<0?-1:1),p=Math.floor(Math.abs((r-c)*60)),d=Math.floor((Math.abs(r)-Math.abs(c)-p/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${s} ${this.$iApi.$i18n.n(p,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatLatLongDDM(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.abs((i-o)*60),l=Math.floor(Math.abs(r))*(r<0?-1:1),c=Math.abs((r-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${s} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatLatLongDD(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.abs(i),a=Math.abs(r);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatMercator(e){const n=await this.$iApi.geo.proj.projectGeometry(102100,e);return`${this.$iApi.$i18n.n(Math.floor(n.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(n.y),"number")} m`}async formatLambert(e){const n=await this.$iApi.geo.proj.projectGeometry(3978,e);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(n.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>n.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(n.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(n.y>0?"north":"south"))}`}async formatUTM(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s=Math.ceil((r+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+s),e);return`${this.$iApi.$i18n.n(s,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(e){const n=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),e);return`${this.$iApi.$i18n.n(n.x,"number")} | ${this.$iApi.$i18n.n(n.y,"number")}`}}class K4t extends wV{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:12e3,load:12e3,fail:9e4};constructor(e){super(e,"main"),this.maptip=new X4t(e),this.caption=new Q4t(e),this.mapMouseThrottle=0}async createMap(e,n){this.setMapMouseThrottle(e.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=e.layerTimeDefault?.expectedDrawTime??12e3,this.layerDefaultTimes.load=e.layerTimeDefault?.expectedLoadTime??12e3,this.layerDefaultTimes.fail=e.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(e,n),this.viewPromise.then(()=>{this.$iApi.event.emit(Et.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(e=>e.uid).forEach(e=>this.removeLayer(e)),super.destroyMap(),this.$iApi.event.emit(Et.MAP_DESTROYED)}async createMapView(e){const n=er(this.$vApp.$pinia).config.map;if(!n)throw new Error("Attempted to create map view without a map config");const i=(typeof e=="string"?await this.findBasemap(e):e)||await this.findBasemap(n.initialBasemapId),r=n.tileSchemas.find(a=>a.id===i.tileSchemaId);if(!r)throw new Error(`Could not find tile schema for the given basemap id: ${i.id}`);const s=n.extentSets.find(a=>a.id===r.extentSetId);if(!s)throw new Error(`Could not find extent set with the given id: ${r.extentSetId}`);this._rampExtentSet=Y0.fromConfig(s),this._rampSR=this._rampExtentSet.sr.clone();const o=n.lodSets.find(a=>a.id===r.lodSetId);if(!o)throw new Error(`Could not find lod set with the given id: ${r.lodSetId}`);this.esriView=qe(await ce.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:o.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:i.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:jn(()=>this.esriView.extent,a=>{if(a){const l=this.$iApi.geo.geom.geomEsriToRamp(a,"map_extent_event");this.$iApi.event.emit(Et.MAP_EXTENTCHANGE,l),this.$iApi.event.emit(Et.FILTER_CHANGE,{extent:l,filterKey:oi.EXTENT})}})}),this.handlers.push({type:"scale",handler:jn(()=>this.esriView.scale,a=>{this.$iApi.event.emit(Et.MAP_SCALECHANGE,a)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",a=>{this.$iApi.event.emit(Et.MAP_RESIZED,{height:a.height,width:a.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",a=>{this.$iApi.event.emit(Et.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(a,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",a=>{this.$iApi.event.emit(Et.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(a,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",l0(100,!0,a=>{this.$iApi.event.emit(Et.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(a))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",l0(100,a=>{this.$iApi.event.emit(Et.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(a))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",a=>{setTimeout(()=>{this.$iApi.event.emit(Et.MAP_MOUSELEAVE,a.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",a=>{this.$iApi.event.emit(Et.MAP_MOUSEDOWN,a.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",a=>{this.$iApi.event.emit(Et.MAP_KEYDOWN,a.native),a.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",a=>{this.$iApi.event.emit(Et.MAP_KEYUP,a.native),a.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",a=>{this.$iApi.event.emit(Et.MAP_FOCUS,a.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",a=>{this.$iApi.event.emit(Et.MAP_BLUR,a.native)})}),this.esriView.container?this.esriView.container.addEventListener("touchmove",a=>{a.preventDefault()}):console.error("ESRI Map View is missing its container"),jn(()=>this.esriView.fatalError,()=>{const a=new IntersectionObserver(l=>{l.forEach(c=>{c.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),a.disconnect())})});a.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(i),r.recoveryBasemap?.basemapId){const a=r.recoveryBasemap.timeout??8e3;a>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(r.id)},a)}})}destroyMapView(){this.esriView?.container?.removeEventListener("touchmove",e=>{e.preventDefault()}),super.destroyMapView()}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const n=typeof e=="string"?await this.findBasemap(e):e;this.esriMap.basemap=Ct(n.esriBasemap);const i=er(this.$vApp.$pinia);i.activeBasemapConfig=n.config}async setBasemap(e){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const n=er(this.$vApp.$pinia),i=await this.findBasemap(e),r=n.activeBasemapConfig.tileSchemaId!==i.tileSchemaId;if(r){const s=this.getExtent().center(),o=this.getScale();this._viewPromise=new wn,this.created=!1,this.$iApi.event.emit(Et.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(i),await this.viewPromise.then(()=>{this.$iApi.event.emit(Et.MAP_REFRESH_END),this.$iApi.event.emit(Et.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:r});const a=this.findClosestScale(o);this.$iApi.geo.proj.projectGeometry(this._rampSR,s).then(l=>this.zoomMapTo(l,a,!1))})}else{await this.applyBasemap(i);const s=await ce.ColorBackground({color:new za(i.backgroundColour).toESRI()});this.esriView.background=s,this.$iApi.event.emit(Et.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:r})}return r}async recoverBasemap(e){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const n=er(this.$vApp.$pinia).config.map;if(n){const i=n.tileSchemas.find(r=>r.id===e);if(i?.recoveryBasemap?.basemapId){const r=await this.findBasemap(i.recoveryBasemap.basemapId);await this.applyBasemap(r)}}}addLayer(e,n=void 0){return new Promise((i,r)=>{if(this.esriMap||(this.noMapErr(),r()),e.initiationState!==Be.INITIATING&&e.initiationState!==Be.INITIATED&&e.layerState!==rn.ERROR&&e.initiate(),e.mapLayer&&n===void 0){const l=this.$iApi.geo.layer.layerOrderIds();if(e.isCosmetic)n=l.length;else{const c=this.$iApi.geo.layer.allLayers();let p=!0;for(let d=l.length-1;d>=0&&p;d--){const f=c.find(y=>y.id===l[d]);f&&!f.isCosmetic&&(n=d+1,p=!1)}p&&(n=0)}}Xs(this.$vApp.$pinia).addLayer(e,n),this.$iApi.event.emit(Et.LAYER_REGISTERED,e);const s=Date.now();let o=0;const a=setInterval(()=>{o+=250,o>=e.expectedTime.fail||e.layerState===rn.ERROR?(clearInterval(a),e.lastCancel<s&&console.error(`Failed to add layer: ${e.id}.`),r()):e.initiationState===Be.INITIATED&&(e.esriLayer||!e.mapLayer)&&(clearInterval(a),e.mapLayer?this.insertToEsriMap(e):e.onLoad(),i())},250)})}insertToEsriMap(e){let n=0;const i=this.$iApi.geo.layer.getLayerPosition(e.id)??-1;if(i>0){const r=this.$iApi.geo.layer.layerOrderIds(),s=this.$iApi.geo.layer.allLayers();for(let o=i-1;o>-1;o--){const a=r[o],l=s.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){n=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}i>-1&&this.esriMap?.add(e.esriLayer,n)}reorder(e,n,i=!1){if(n<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(e.isSublayer&&(e=e.parentLayer),!e.mapLayer){console.error("Attempted to reorder a data layer");return}const r=this.$iApi.geo.layer.allLayers();let s=this.$iApi.geo.layer.layerOrderIds();if(i){if(e.isCosmetic)return;if(n>0){const a=s.filter(l=>{const c=r.find(p=>p.id===l);return c?!c.isCosmetic:(console.error("Layer reorder had critical error"),!1)});n>=a.length&&(console.error("non-cosmetic reorder index was too high"),n=a.length-1),n=s.indexOf(a[n])}}else n>=s.length&&(console.error("reorder index was too high"),n=s.length-1);const o=s.indexOf(e.id);if(o!==n){if(Xs(this.$vApp.$pinia).reorderLayer(e,n),e.esriLayer&&this.esriMap.layers.indexOf(e.esriLayer)>-1){let a=0;if(n>0){s=this.$iApi.geo.layer.layerOrderIds();for(let l=n-1;l>-1;l--){const c=s[l],p=r.find(d=>d.id===c);if(p&&p.esriLayer){const d=this.esriMap.layers.indexOf(p.esriLayer);if(d>-1){const f=n<o?1:0;a=d+f;break}}else p||console.error("Layer reorder had critical error")}}this.esriMap.reorder(e.esriLayer,a)}this.$iApi.event.emit(Et.MAP_REORDER,{layer:e,newIndex:n})}}removeSublayer(e){let n,i;if(typeof e=="string")n=e,i=this.$iApi.geo.layer.getLayer(n);else{if(!e.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${e}`);n=e.uid,i=e}if(!i)throw new Error("Sublayer could not be found for removal.");i.visibility=!1,i.isRemoved=!0,this.$iApi.event.emit(Et.LAYER_REMOVE,e),i.parentLayer?.sublayers.every(r=>r.isRemoved)&&this.removeLayer(i.parentLayer)}removeLayer(e){if(!this.esriMap){this.noMapErr();return}let n;if(e instanceof B2?n=e:n=this.$iApi.geo.layer.getLayer(e),!n)throw new Error("Layer could not be found for removal.");if(n.isSublayer){this.removeSublayer(n);return}n.supportsSublayers&&n.sublayers.forEach(r=>{r.isRemoved||this.removeSublayer(r)});const i=Xs(this.$vApp.$pinia);i.removeLayer(n),i.removeLayerConfig(n.id),n.removeEsriLayer(),n.initiationState===Be.INITIATED&&n.terminate(),n.isRemoved=!0,this.$iApi.event.emit(Et.LAYER_REMOVE,n)}setMapMouseThrottle(e){if(e<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=e;const n=this.handlers.findIndex(i=>i.type==="pointer-move");if(n!==-1){const i=this.handlers[n];this.handlers.splice(n,1),i.handler.remove()}return n!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return Oa(this.mapMouseThrottle,e=>{this.$iApi.event.emit(Et.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(e))})}async zoomToLevel(e){if(this.esriView)return this.esriView.goTo({zoom:e});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(e){if(!this.esriView){this.noMapErr();return}const n=e.isOffScale(this.getScale());if(!n.offScale)return;const i=this.esriView.constraints.lods;if(!i)return this.zoomMapTo(this.getExtent().center(),(n.zoomIn,e.minScale));const r=n.zoomIn?i:[...i].reverse(),s=r.find(o=>n.zoomIn?o.scale<e.minScale:o.scale>e.maxScale)||r[r.length-1];return this.zoomToLevel(s.level)}findClosestScale(e){const n=this.esriView?.constraints.lods;if(!n)return e;const i=n.map(s=>Math.abs(s.scale-e)),r=i.indexOf(Math.min(...i));return n[r].scale}async takeScreenshot(e){if(this.esriView)return e.quality||(e.quality=1),e.format||(e.format="png"),this.esriView.takeScreenshot(e);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(e){return this.esriView?pi.fromESRI(this.esriView.toMap({x:e.screenX,y:e.screenY}),"mappoint"):(this.noMapErr(),new pi("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(e){if(this.esriView){const n=this.esriView.toScreen(e.toESRI());return{screenX:n.x,screenY:n.y}}else return this.noMapErr(),{screenX:1,screenY:1}}async symbolIdentify(e,n){await this.viewPromise;const i=(await this.esriView.hitTest({x:e,y:n})).results.filter(r=>r.type==="graphic").map(async r=>{const s=r.layer;if(r.graphic.isAggregate===!0){const o=await this.esriView.whenLayerView(s),a=o.createQuery();return a.aggregateIds=[r.graphic.getObjectId()],(await o.queryFeatures(a)).features.map(l=>({layerId:s.id,layerIdx:0,oid:l.getObjectId()}))}else return{layerId:s.id,layerIdx:0,oid:r.graphic.getObjectId()}});return(await Promise.all(i)).flat()}runIdentify(e){const n=this.$iApi.geo.layer.allLayersOnMap(!1).filter(p=>p.canIdentify());let i;if(e instanceof pi){const p=this.mapPointToScreenPoint(e);i={mapPoint:e,screenX:p.screenX,screenY:p.screenY,button:0,input:"mouse",clickTime:Date.now()}}else i=e;const r=this.$iApi.fixture.get("draw");if(r&&this.esriView&&(r.store.activeTool||r.store.selectedGraphicId!==null))return{click:i,results:[]};if(n===void 0)return{click:i,results:[]};let s=Promise.resolve([]);n.some(p=>p.identifyMode===zn.HYBRID||p.identifyMode===zn.SYMBOLIC)&&(s=this.symbolIdentify(i.screenX,i.screenY));const o={geometry:i.mapPoint,hitTest:s},a=n.filter(p=>p.supportsIdentify).map(p=>(o.tolerance=i.input=="touch"?p.touchTolerance:p.mouseTolerance,p.runIdentify(o))).flat(),l=Date.now();a.forEach(p=>{p.requestTime=l});const c={results:a,click:i};return this.$iApi.event.emit(Et.MAP_IDENTIFY,c),c}async getGraphicAtCoord(e){if(!this.esriView){this.noMapErr();return}const n=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===xt.GRAPHIC);if(n.length===0)return;const i=await this.esriView.hitTest({x:e.screenX,y:e.screenY});if(i.results.length===0)return;const r=i.results.filter(l=>l.type==="graphic");let s,o;const a=new Set;if(r.some(l=>{if(!l.layer||a.has(l.layer.id))return!1;const c=n.find(p=>p.id===l.layer.id);return c?(c.isCosmetic||c.layerType===xt.GRAPHIC||l.graphic.isAggregate||(s=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),s&&o)return{oid:o.getObjectId(),layerId:s.id,layerIdx:s.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(e){const n=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this._activeKeys.some(i=>n.includes(i))||this.keyPan()):n.includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this.keyZoom(e)):e.key==="Enter"?this.runIdentify(this.getExtent().center()):e.key==="Tab"&&this._activeKeys.push(e.key)}mapKeyUp(e){const n=["=","-"];this._activeKeys.includes(e.key)&&!n.includes(e.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this._activeKeys.some(i=>n.includes(i))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(e=>!["Control","Shift"].includes(e)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(e){clearInterval(this._panInterval),e.key==="="?await this.zoomIn():e.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const e=this.getExtent().center(),n=this.mapPointToScreenPoint(e),i=this.screenPointToMapPoint({screenX:n.screenX+5,screenY:n.screenY+5}),r=Math.abs(i.x-e.x),s=Math.abs(i.y-e.y);let o=0,a=0,l=1;for(let p=0;p<this._activeKeys.length;++p)switch(this._activeKeys[p]){case"ArrowLeft":o-=r;break;case"ArrowRight":o+=r;break;case"ArrowUp":a+=s;break;case"ArrowDown":a-=s;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{e.x+=l*o,e.y+=l*a,this.zoomMapTo(e,c,!1)},25)}}const tAt={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},eAt={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},nAt={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},iAt={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},rAt={circlePoint:tAt,solidLine:eAt,outlinedPoly:nAt,boundingBoxPoly:iAt};var sAt=function(t,e){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},_V=function(t){return sAt(t[0],t[t.length-1])||t.push(t[0]),t},xV=function(t){var e=0,n=0,i=t.length,r=t[n],s;for(n;n<i-1;n++)s=t[n+1],e+=(s[0]-r[0])*(s[1]+r[1]),r=s;return e>=0},oAt=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},EV=function(t){var e=[],n=t.slice(0),i=_V(n.shift().slice(0));if(i.length>=4){xV(i)||i.reverse(),e.push(i);for(var r=0;r<n.length;r++){var s=_V(n[r].slice(0));s.length>=4&&(xV(s)&&s.reverse(),e.push(s))}}return e},aAt=function(t){for(var e=[],n=0;n<t.length;n++)for(var i=EV(t[n]),r=i.length-1;r>=0;r--){var s=i[r].slice(0);e.push(s)}return e},lAt=function t(e,n){n=n||"OBJECTID";var i={wkid:4326},r={},s;switch(e.type){case"Point":r.x=e.coordinates[0],r.y=e.coordinates[1],e.coordinates[2]!=null&&(r.z=e.coordinates[2]),r.spatialReference=i;break;case"MultiPoint":r.points=e.coordinates.slice(0),e.coordinates[0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"LineString":r.paths=[e.coordinates.slice(0)],e.coordinates[0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"MultiLineString":r.paths=e.coordinates.slice(0),e.coordinates[0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"Polygon":r.rings=EV(e.coordinates.slice(0)),e.coordinates[0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"MultiPolygon":r.rings=aAt(e.coordinates.slice(0)),e.coordinates[0][0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"Feature":e.geometry&&(r.geometry=t(e.geometry,n)),r.attributes=e.properties?oAt(e.properties):{},e.id&&(r.attributes[n]=e.id);break;case"FeatureCollection":for(r=[],s=0;s<e.features.length;s++)r.push(t(e.features[s],n));break;case"GeometryCollection":for(r=[],s=0;s<e.geometries.length;s++)r.push(t(e.geometries[s],n));break}return r};function SV(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+"]"}).join(",")+"}")}function cAt(t,e){var n=SV(t);return function(i,r){return e(n(i),r,t)}}function uAt(t){var e=Object.create(null),n=[];return t.forEach(function(i){for(var r in i)r in e||n.push(e[r]=r)}),n}function DT(t){var e=new RegExp('["'+t+`
]`),n=t.charCodeAt(0);function i(c,p){var d,f,y=r(c,function(g,b){if(d)return d(g,b-1);f=g,d=p?cAt(g,p):SV(g)});return y.columns=f,y}function r(c,p){var d={},f={},y=[],g=c.length,b=0,x=0,A,M;function _(){if(b>=g)return f;if(M)return M=!1,d;var T=b,I;if(c.charCodeAt(T)===34){for(var O=T;O++<g;)if(c.charCodeAt(O)===34){if(c.charCodeAt(O+1)!==34)break;++O}return b=O+2,I=c.charCodeAt(O+1),I===13?(M=!0,c.charCodeAt(O+2)===10&&++b):I===10&&(M=!0),c.slice(T+1,O).replace(/""/g,'"')}for(;b<g;){var C=1;if(I=c.charCodeAt(b++),I===10)M=!0;else if(I===13)M=!0,c.charCodeAt(b)===10&&(++b,++C);else if(I!==n)continue;return c.slice(T,b-C)}return c.slice(T)}for(;(A=_())!==f;){for(var w=[];A!==d&&A!==f;)w.push(A),A=_();p&&(w=p(w,x++))==null||y.push(w)}return y}function s(c,p){return p==null&&(p=uAt(c)),[p.map(l).join(t)].concat(c.map(function(d){return p.map(function(f){return l(d[f])}).join(t)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(t)}function l(c){return c==null?"":e.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:i,parseRows:r,format:s,formatRows:o}}var G2=DT(","),hAt=G2.parse,pAt=G2.parseRows,dAt=G2.format,fAt=G2.formatRows,U2=DT("	"),mAt=U2.parse,yAt=U2.parseRows,gAt=U2.format,vAt=U2.formatRows;const bAt=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:dAt,csvFormatRows:fAt,csvParse:hAt,csvParseRows:pAt,dsvFormat:DT,tsvFormat:gAt,tsvFormatRows:vAt,tsvParse:mAt,tsvParseRows:yAt},Symbol.toStringTag,{value:"Module"})),wAt=LP(bAt);var Uu={exports:{}},AV;function _At(){if(AV)return Uu.exports;AV=1,Uu.exports=t,Uu.exports.pair=s,Uu.exports.format=n,Uu.exports.formatPair=e,Uu.exports.coordToDMS=i;function t(a,l){var c=r(a,l);return c===null?null:c.val}function e(a){return n(a.lat,"lat")+" "+n(a.lon,"lon")}function n(a,l){var c=i(a,l);return c.whole+"\xB0 "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function i(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",p=c[a>=0?0:1],d=Math.abs(a),f=Math.floor(d),y=d-f,g=y*60,b=Math.floor(g),x=Math.floor((g-b)*60);return{whole:f,minutes:b,seconds:x,dir:p}}function r(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\|\]?[0-9.]+)[]?\s*(?:([0-9.]+)[']\s*)?(?:([0-9.]+)(?:''|"||)\s*)?([NSEW])?/,p=a.match(c);if(!p)return null;var d=p[0],f;if(p[1]&&p[5]?(f=p[1],d=d.slice(0,-1)):f=p[1]||p[5],f&&l.indexOf(f)===-1)return null;var y=p[2]?parseFloat(p[2]):0,g=p[3]?parseFloat(p[3])/60:0,b=p[4]?parseFloat(p[4])/3600:0,x=y<0?-1:1;return(f==="S"||f==="W")&&(x*=-1),{val:(Math.abs(y)+g+b)*x,dim:f,matched:d,remain:a.slice(d.length)}}function s(a,l){a=a.trim();var c=r(a,l);if(!c)return null;a=c.remain.trim();var p=r(a,l);return!p||p.remain?null:c.dim?o(c.val,p.val,c.dim):[c.val,p.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return Uu.exports}var FT,MV;function xAt(){if(MV)return FT;MV=1;var t=wAt,e=_At(),n=/(Lat)(itude)?/gi,i=/(L)(on|ng)(gitude)?/i;function r(x,A){var M,_,w;for(var T in x)_=T.match(A),_&&(!M||_[0].length/T.length>w)&&(w=_[0].length/T.length,M=T);return M}function s(x){return r(x,n)}function o(x){return r(x,i)}function a(x){return!!x.match(n)}function l(x){return!!x.match(i)}function c(x){return typeof x=="object"?Object.keys(x).length:0}function p(x){var A=[",",";","	","|"],M=[];return A.forEach(function(_){var w=t.dsvFormat(_).parse(x);if(w.length>=1){for(var T=c(w[0]),I=0;I<w.length;I++)if(c(w[I])!==T)return;M.push({delimiter:_,arity:Object.keys(w[0]).length})}}),M.length?M.sort(function(_,w){return w.arity-_.arity})[0].delimiter:null}function d(x){return delete x.columns,x}function f(x){var A=p(x);return A?d(t.dsvFormat(A).parse(x)):null}function y(x,A,M){M||(M=A,A={}),A.delimiter=A.delimiter||",";var _=A.latfield||"",w=A.lonfield||"",T=A.crs||"",I=[],O={type:"FeatureCollection",features:I};if(T!==""&&(O.crs={type:"name",properties:{name:T}}),A.delimiter==="auto"&&typeof x=="string"&&(A.delimiter=p(x),!A.delimiter)){M({type:"Error",message:"Could not autodetect delimiter"});return}var C=A.numericFields?A.numericFields.split(","):null,R=typeof x=="string"?t.dsvFormat(A.delimiter).parse(x,function(k){if(C)for(var V in k)C.includes(V)&&(k[V]=+k[V]);return k}):x;if(!R.length){M(null,O);return}var D=[],U;_||(_=s(R[0])),w||(w=o(R[0]));var j=!_||!w;if(j){for(U=0;U<R.length;U++)I.push({type:"Feature",properties:R[U],geometry:null});M(D.length?D:null,O);return}for(U=0;U<R.length;U++)if(R[U][w]!==void 0&&R[U][_]!==void 0){var $=R[U][w],H=R[U][_],u,m,S;S=e($,"EW"),S&&($=S),S=e(H,"NS"),S&&(H=S),u=parseFloat($),m=parseFloat(H),isNaN(u)||isNaN(m)?D.push({message:"A row contained an invalid value for latitude or longitude",row:R[U],index:U}):(A.includeLatLon||(delete R[U][w],delete R[U][_]),I.push({type:"Feature",properties:R[U],geometry:{type:"Point",coordinates:[parseFloat(u),parseFloat(m)]}}))}M(D.length?D:null,O)}function g(x){for(var A=x.features,M={type:"Feature",geometry:{type:"LineString",coordinates:[]}},_=0;_<A.length;_++)M.geometry.coordinates.push(A[_].geometry.coordinates);return M.properties=A.reduce(function(w,T){for(var I in T.properties)w[I]||(w[I]=[]),w[I].push(T.properties[I]);return w},{}),{type:"FeatureCollection",features:[M]}}function b(x){for(var A=x.features,M={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},_=0;_<A.length;_++)M.geometry.coordinates[0].push(A[_].geometry.coordinates);return M.properties=A.reduce(function(w,T){for(var I in T.properties)w[I]||(w[I]=[]),w[I].push(T.properties[I]);return w},{}),{type:"FeatureCollection",features:[M]}}return FT={isLon:l,isLat:a,guessLatHeader:s,guessLonHeader:o,csv:t.csvParse,tsv:t.tsvParse,dsv:t,auto:f,csv2geojson:y,toLine:g,toPolygon:b},FT}var jT=xAt();const EAt={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function SAt(t){if(t.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let e=!0,n=!0;for(let i=0;i<t.features.length;i++){const r=t.features[i];Object.assign(r.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in r&&typeof r.id<"u"&&(r.properties.ID_FILE=r.id,e=!1),"OBJECTID"in r.properties&&(r.properties.OBJECTID_FILE=r.properties.OBJECTID,delete r.properties.OBJECTID,n=!1),r.id=i+1}if(e)for(let i=0;i<t.features.length;i++)delete t.features[i].properties.ID_FILE;if(n)for(let i=0;i<t.features.length;i++)delete t.features[i].properties.OBJECTID_FILE}function AAt(t,e){const n=i=>i.indexOf(" ")>-1;e.fields?.forEach(i=>{if(i.name&&n(i.name)){const r=i.name;let s,o="_",a;do s=r.replace(/ /g,o),a=e.fields?.find(l=>l.name===s),a&&(o+="_");while(a);i.alias=r,i.name=s;for(let l=0;l<t.features.length;l++){const c=t.features[l];c.properties[s]=c.properties[r],delete c.properties[r]}}})}function MAt(t,e){const n=t.features[e].geometry.geometries;if(n.length===1)t.features[e].geometry={type:n[0].type,coordinates:n[0].coordinates};else{const i=n.map(r=>r.coordinates);t.features[e].geometry={type:`Multi${n[0].type}`,coordinates:i}}}function TAt(t){return t==="MultiLineString"?"LineString":t==="MultiPolygon"?"Polygon":t}class IAt extends _n{async fetchFileData(e,n){const i=await dd.get(e,{responseType:"arrayBuffer"});switch(n){case xt.GEOJSON:case xt.DATAJSON:return JSON.parse(this.arbToStr(i.data));case xt.SHAPEFILE:case xt.GEOJSONZIPPED:case xt.FLATGEOBUF:case xt.FLATGEOBUFZIPPED:return i.data;case xt.CSV:case xt.DATACSV:return this.arbToStr(i.data);default:console.error(`Unsupported file type passed to fetchFileData- '${n}'`)}}extractGeoJsonFields(e){if(e.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let n="";for(let o=0;o<e.features.length;o++){const a=e.features[o];if(a.geometry.type==="GeometryCollection"){const c=a.geometry.geometries;if(c===void 0||c.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const p=c[0].type;for(let d=0;d<c.length;d++)if(c[d].type!==p)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");MAt(e,o)}const l=TAt(a.geometry.type);if(n==="")n=l;else if(n!==l)throw new Error("GeoJSON file contains multiple geometry types")}const i=Object.keys(e.features[0].properties).map(o=>({name:o,type:"string"}));let r=0;const s=Object.keys(e.features[0].properties);for(;r<e.features.length;){const o=e.features[r];if(o.properties&&Object.keys(o.properties).filter(a=>s.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=i.findIndex(p=>p.name===a);i[c]={name:a,type:this.inferType(l)},s.splice(s.indexOf(a),1)}}),s.length===0)break;r++}return i}extractCsvFields(e,n=","){return jT.dsv.dsvFormat(n).parseRows(e)[0].map(i=>({name:i,type:so.STRING}))}filterCsvLatLonFields(e,n=","){const i=jT.dsv.dsvFormat(n).parseRows(e),r=i[0],s={lat:JSON.parse(JSON.stringify(r)),lon:JSON.parse(JSON.stringify(r))};for(let o=0;o<r.length;o++)for(let a=1;a<i.length;a++){const l=Number(i[a][o]),c=s.lat.indexOf(r[o]),p=s.lon.indexOf(r[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&s.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&p!==-1&&s.lon.splice(p,1),c===-1&&p===-1)break}return s}async geoJsonToEsriJson(e,n){let i,r="",s;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:so.OID}]};SAt(e);const a=e.features[0].geometry.type,l=EAt[a],c=JSON.parse(JSON.stringify(rAt[l]));if(n){if(n.sourceProjection&&(r=this.$iApi.geo.proj.normalizeProj(n.sourceProjection)),n.targetSR)i=n.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");n.layerId?s=n.layerId:s=this.$iApi.geo.shared.generateUUID(),n.colour&&(c.renderer.symbol.color=new za(n.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");r||(r=Rt.parseGeoJsonCrs(e.crs)),o.renderer=await ce.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(n.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(e).filter(g=>n.fieldMetadata?.fieldInfo?.find(b=>b.name===g.name)):this.extractGeoJsonFields(e)),n.fieldMetadata?.enforceOrder&&n.fieldMetadata?.fieldInfo&&n.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,n.fieldMetadata?.fieldInfo)),AAt(e,o);const p=this.$iApi.geo.proj.normalizeProj(i);if(n){if(n.latField){const g=o.fields.find(b=>b.name===n.latField||b.alias===n.latField);g&&(g.type=so.DOUBLE)}if(n.lonField){const g=o.fields.find(b=>b.name===n.lonField||b.alias===n.lonField);g&&(g.type=so.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([r,i]);const d=Rt.parseSR(i).toESRI();await this.$iApi.geo.proj.projectGeoJson(e,r,p);const f=lAt(e,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(g=>g.name);for(let g=0;g<f.length;g++){const b=f[g];b.geometry.spatialReference=d,b.geometry.type=o.geometryType,Object.keys(b.attributes).forEach(x=>{y.includes(x)?(Array.isArray(b.attributes[x])||typeof b.attributes[x]=="object")&&b.attributes[x]!=null&&(b.attributes[x]=JSON.stringify(b.attributes[x])):delete b.attributes[x]})}return(n.fieldMetadata?.fieldInfo&&n.fieldMetadata?.fieldInfo.length>0?n.fieldMetadata.fieldInfo.filter(g=>g.trim&&y.includes(g.name)).map(g=>g.name):[]).forEach(g=>{for(let b=0;b<f.length;b++){const x=f[b].attributes;typeof x[g]=="string"&&(x[g]=x[g].trim())}}),o.source=f,o.spatialReference=d,o.id=s,o}async csvToGeoJson(e,n){const i={latfield:"Lat",lonfield:"Long",delimiter:","};return n&&(n.latfield&&(i.latfield=n.latfield),n.lonfield&&(i.lonfield=n.lonfield),n.delimiter&&(i.delimiter=n.delimiter)),new Promise((r,s)=>{jT.csv2geojson(e,i,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),s(o)):(a.features.map(l=>{l.properties[i.lonfield]=l.geometry.coordinates[0],l.properties[i.latfield]=l.geometry.coordinates[1]}),r(a))})})}async shapefileToGeoJson(e){return(await import("./index-Dflgtl69.js")).default(e)}fgbToGeoJson(e,n){return import("./flatgeobuf-C-cbgMj_.js").then(({geojson:i})=>new Promise(r=>{let s=!1,o=null;const a=i.deserialize(new Uint8Array(e),void 0,p=>{o=p.crs,s=!0});let l=0;const c=setInterval(()=>{if(a&&s){clearInterval(c);let p;o&&(o.code&&o.code!==4326&&o.org==="EPSG"?p=new Rt(o.code):o.wkt?p=new Rt(o.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",o)),p&&(a.crs=p.toGeoJSON()),r(a)}else l+=60,l>n&&(clearInterval(c),r({}))},60)}))}inferType(e){return typeof e=="number"?so.DOUBLE:so.STRING}rawDataJsonParser(e,n=!1){let i;return typeof e=="string"?i=JSON.parse(e):n?i=structuredClone(e):i=e,i}async unzipSingleFile(e){const n=await import("./jszip.min-DQqasuhp.js").then(s=>s.j),i=await new n.default().loadAsync(e),r=Object.keys(i.files)[0];if(r&&i.file(r))return await i.file(r).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(e){if(e.rawData&&e.rawData instanceof ArrayBuffer)return e.rawData;if(e.url)return this.$iApi.geo.layer.files.fetchFileData(e.url,e.layerType);throw new Error(`${e.layerType} config contains no url or invalid/missing raw data`)}arbToStr(e){return new TextDecoder("utf-8").decode(new Uint8Array(e))}}const NAt=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");class OAt extends _n{async loadWfsData(e,n=-1,i=0,r=1e3,s={type:"FeatureCollection",features:[]},o=!1,a){let l={offset:i.toString(),limit:r.toString()};if(a?.aborted)throw new DOMException("WFS load cancelled","AbortError");n===-1&&(l={resulttype:"hits"});const c=new em(e).updateQuery(l),[p,d]=await Ms(dd.get(c,{signal:a}));if(!d)return console.error(`WFS data failed to load for ${e}`,p),Promise.reject(p);const f=d.data;if(n===-1){if(typeof f.numberMatched!="number")throw new Error("WFS hits missing numberMatched");return n=d.data.numberMatched,this.loadWfsData(e,n,i,r,s,o,a)}if(s.features=s.features.concat(f.features),f.features.length<n-i){const y=Math.min(r,n-i-f.features.length);return this.loadWfsData(c,n,f.features.length+i,y,s,o,a)}else return o&&s.features.length>0&&s.features[0].geometry.type===un.POINT&&s.features.forEach(y=>{const g=y.geometry.coordinates;y.properties.rvInternalCoordX=g[0],y.properties.rvInternalCoordY=g[1]}),s}reversedAxisWKIDs(){return NAt}parseCapabilities(e){const n=()=>{let o=e;if(e.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new em(e.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return fn(o,{responseType:"xml"}).then(a=>a.data)},i=new Promise(o=>{n().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(n())})}),r=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,p=l.Title;let d=l.Style;const f=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(g=>{const b=g.Name;if(f.push(b),g.LegendURL){const x=g.LegendURL.OnlineResource["@_xlink:href"];y[b]=x.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:p,queryable:l["@_queryable"]==="1",layers:r(l),allStyles:f,styleToURL:y,currentStyle:f[0]}})):[]},s=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return import("./fxp-BPfEykj3.js").then(o=>o.f).then(({XMLParser:o})=>i.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},p=new o(c).parse(l);if("ServiceExceptionReport"in p)return console.error(p.ServiceExceptionReport.ServiceException),[];const d=p.WMS_Capabilities.Capability;return{layers:r(d),queryTypes:s(d.Request.GetFeatureInfo)}}))}}class fd{static makeRawItem(e,n){const i=Promise.resolve();return Zn({format:e,data:n,started:!0,loaded:!0,loading:i,load(){return i}})}static makeOidItem(e,n){const i=new wn,r={format:pc.ESRI,data:void 0,started:!1,loaded:!1,loading:i.getPromise(),async load(){if(!this.started){this.started=!0;const s=await n.getGraphic(e,{getAttribs:!0});this.data=s.attributes,this.loaded=!0,i.resolveMe()}return i.getPromise()}};return Zn(r)}}class CAt extends _n{files;ogc;constructor(e){super(e),this.files=new IAt(e),this.ogc=new OAt(e)}createLayer(e){let n;switch(e.layerType){case xt.FEATURE:n=jAt;break;case xt.MAPIMAGE:n=$At;break;case xt.GRAPHIC:n=NV;break;case xt.TILE:n=OV;break;case xt.WFS:n=qAt;break;case xt.DATATABLE:n=YAt;break;case xt.WMS:n=WAt;break;case xt.GEOJSON:n=kAt;break;case xt.GEOJSONZIPPED:n=PAt;break;case xt.VECTORTILE:n=zAt;break;case xt.FLATGEOBUFZIPPED:n=FAt;break;case xt.CSV:n=LAt;break;case xt.DATAJSON:n=HAt;break;case xt.IMAGERY:n=BAt;break;case xt.IMAGERYTILE:n=VAt;break;case xt.SHAPEFILE:n=RAt;break;case xt.FLATGEOBUF:n=DAt;break;case xt.OSM:n=UAt;break;default:throw new Error("Unsupported Layer Type "+e.layerType)}return new n(e,this.$iApi)}sublayerId(e,n){return`${e}-${n}`}getLayer(e){return Xs(this.$vApp.$pinia).getLayerByAny(e)}getSublayer(e,n){const i=Xs(this.$vApp.$pinia).getLayerById(e);if(i&&i.supportsSublayers&&n<i.sublayers.length)return i.sublayers[n]}async awaitLayer(e,n=!1){let i=this.getLayer(e);if(!i){const r=new wn;let s=0;const o=300,a=setInterval(()=>{s+=o;const l=this.getLayer(e);if(l)clearInterval(a),r.resolveMe(l);else if(s>8e3){clearInterval(a);const c=setInterval(()=>{const p=this.getLayer(e);p&&(clearInterval(c),r.resolveMe(p))},1500)}},o);i=await r.getPromise()}return n&&await i.viewPromise(),i}async awaitSublayer(e,n){return this.awaitLayer(this.sublayerId(e,n))}getLayerPosition(e){const n=this.getLayer(e);if(n&&n.mapLayer){const i=n.isSublayer?n.parentLayer.id:n.id,r=this.layerOrderIds().findIndex(s=>s===i);return r===-1?void 0:r}else return}layerOrderIds(){return Xs(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return Xs(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(e=>e.layerState!==rn.ERROR&&e.initiationState===Be.INITIATED)}allLayersOnMap(e=!0){const n=this.allLayers().filter(i=>i.mapLayer&&i.initiationState===Be.INITIATED);if(e){const i=this.layerOrderIds(),r=new Map(i.map((s,o)=>[s,o]));n.sort((s,o)=>r.get(s.id)-r.get(o.id))}return n}allDataLayers(){return this.allLayers().filter(e=>!e.mapLayer&&e.initiationState===Be.INITIATED)}allErrorLayers(){return this.allLayers().filter(e=>e.layerState===rn.ERROR)}allInitiatingLayers(){return this.allLayers().filter(e=>e.initiationState===Be.INITIATING)}getLayerControls(e){const n=this.getLayer(e);if(!n)return;const i=n.config.controls?.slice()??[hn.BoundaryZoom,hn.Datatable,hn.Identify,hn.Metadata,hn.Opacity,hn.Refresh,hn.Reload,hn.Remove,hn.Settings,hn.Symbology,hn.Visibility],r=[];return n.supportsFeatures||r.push(hn.Datatable),n.extent===void 0&&r.push(hn.BoundaryZoom),(n.config?.metadata||(n.isSublayer?n.parentLayer?.config?.metadata:{})||{}).url||r.push(hn.Metadata),!n.mapLayer&&!n.config.controls?.includes(hn.Settings)&&r.push(hn.Settings),r.forEach(s=>{const o=i?.indexOf(s)??-1;o!==-1&&i?.splice(o,1)}),{controls:i,disabledControls:n.config.disabledControls??[]}}async loadLayerMetadata(e){if(!e.trim())throw new Error("url missing on layer server metadata request.");const[n,i]=await Ms(fn(e,{query:{f:"json"}}));if(!i)throw console.error(`Service metadata load error: ${e}`,n),new Error(`Service metadata load error: ${e}`);if(!i.data)throw console.error(`Service metadata load error: ${e}`),new Error(`Service metadata load error: ${e}`);const r=i.data,s={geometryType:Bt.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:ei.UNKNOWN,mapLayer:!0};if(s.name=r.name||"",s.currentVersion=r.currentVersion||-1,s.minScale=r.effectiveMinScale||r.minScale||0,s.maxScale=r.effectiveMaxScale||r.maxScale||0,s.extent=r.extent?Xe.fromArcServer(r.extent,"layer_extent"):void 0,s.defaultVisibility=r.defaultVisibility??!0,s.canModifyLayer=r.canModifyLayer??!0,r.type==="Feature Layer"||r.type==="Table"){if(s.dataFormat=ei.ESRI_FEATURE,s.displayField=r.displayField||"",Array.isArray(r.fields)){const o=await Promise.all(r.fields.map(a=>ce.FieldFromJson(a)));s.fields=o.map(a=>({name:a.name,alias:a.alias,type:a.type,length:a.length})),o.every(a=>a.type==="oid"?(s.objectIdField=a.name,!1):!0)&&(s.objectIdField=r.objectIdField||(console.error(`Encountered service with no OID defined: ${e}`),"")),r.type==="Feature Layer"?(s.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(r.geometryType),r.drawingInfo?.renderer&&(s.renderer=await ce.RendererFromJson(r.drawingInfo.renderer)),r.sourceSpatialReference&&(s.sourceSR=Rt.fromConfig(r.sourceSpatialReference))):s.mapLayer=!1}}else s.dataFormat=ei.ESRI_RASTER;return s}async loadFeatureCount(e,n=""){if(!e)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const i={query:{f:"json",where:n||"1=1",returnCountOnly:!0,returnGeometry:!1}},[r,s]=await Ms(fn(`${e}/query`,i));return s?s.data?Number.isInteger(s.data.count)?s.data.count:(console.error(`Funny result (${s.data.count}) during feature count: ${e}`),0):(console.error(`Unable to load feature count: ${e}`),0):(console.error(`Feature count request unsuccessful: ${e}`,r),0)}}class B2 extends _n{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;get nameArcade(){return""}async setNameArcade(e){}get tooltipField(){return console.warn("tooltipField layer property is deprecated. Please adjust to use maptipField instead"),this.maptipField}set tooltipField(e){console.warn("tooltipField layer property is deprecated. Please adjust to use maptipField instead"),this.maptipField=e}maptipField;get tooltipArcade(){return console.warn("tooltipArcade layer property is deprecated. Please adjust to use maptipArcade instead"),this.maptipArcade}async setTooltipArcade(e){return console.warn("setTooltipArcade layer method is deprecated. Please adjust to use setMaptipArcade instead"),this.setMaptipArcade(e)}get maptipArcade(){return""}async setMaptipArcade(e){}oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;isSystem;userAdded;identify;identifyMode;get hovertips(){return console.warn("hovertips layer property is deprecated. Please adjust to use maptips instead"),this.maptips}set hovertips(e){console.warn("hovertips layer property is deprecated. Please adjust to use maptips instead"),this.maptips=e}maptips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(e,n){super(n),this.config=e,this.id="",this.uid="",this.name="error",this.layerState=rn.NEW,this.drawState=$i.NOT_LOADED,this.initiationState=Be.NEW,this.layerIdx=-1,this.layerFormat=ji.UNKNOWN,this.layerType=xt.UNKNOWN,this.dataFormat=ei.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=zn.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.maptipField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.isSystem=!1,this.userAdded=!1,this.identify=!1,this.maptips=!1,this.geomType=Bt.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}viewPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new D1(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Rt.latLongSR()}get visibility(){return!1}set visibility(e){}get opacity(){return 0}set opacity(e){}get scaleSet(){return new kP}set scaleSet(e){}isOffscale(e=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(e){}get touchTolerance(){return 0}set touchTolerance(e){}get drawOrder(){return[]}canIdentify(){return!1}nameValue(e){return""}tooltipValue(e){return console.warn("tooltipValue layer method is deprecated. Please adjust to use maptipValue instead"),this.maptipValue(e)}maptipValue(e){return""}runIdentify(e){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,n){return Promise.resolve(new Wr(new Sl))}getIcon(e){return Promise.resolve("")}getSqlFilter(e){return""}setSqlFilter(e,n){}applySqlFilter(e=[]){}getFilterOIDs(e=[],n=void 0){return Promise.resolve(void 0)}getGraphicExtent(e){return Promise.resolve(Xe.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(e){if(!this.isSublayer&&e)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=e}get sublayers(){return this._sublayers}onLoad(){}onError(e=!0){}updateLayerState(e,n=!1){}updateDrawState(e){}updateInitiationState(e){}uidToIdx(e){if(e===this.uid)return-1;{const n=this._sublayers.findIndex(i=>i?.uid===e);if(n===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${e}]`);return n}}getSublayer(e){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let n;if(typeof e=="string"?n=this.uidToIdx(e):n=e,this._sublayers[n]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${e}]`);return this._sublayers[n]}controlAvailable(e){const n=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(e,n)}}class TV extends B2{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;nameArcadeFormula;nameArcadeExecutor;maptipArcadeFormula;maptipArcadeExecutor;constructor(e,n){super(e,n),this.name=e.name||"",this.geomType=Bt.NONE,this.dataFormat=ei.UNKNOWN,this.layerType=xt.UNKNOWN,this.layerFormat=ji.UNKNOWN;const i=n.geo.map.layerDefaultTimes;this.expectedTime.draw=e.expectedDrawTime??i.draw,this.expectedTime.load=e.expectedLoadTime??i.load,this.expectedTime.fail=e.maxLoadTime||i.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=e,this.id=e.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isSystem=e.system||!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=zn.NONE,this.supportsFeatures=!1,this.maptips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=rn.NEW,this.initiationState=Be.NEW,this.drawState=$i.NOT_LOADED,this.loadDefProm=new wn,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.nameArcadeFormula="",this.maptipArcadeFormula="",this.layerTree=new D1(0,this.uid,this.name,!0)}updateInitiationState(e){this.initiationState=e,this.$iApi.event.emit(Et.LAYER_INITIATIONSTATECHANGE,{state:e,layer:this})}updateLayerState(e,n=!1){this.layerState=e,this.$iApi.event.emit(Et.LAYER_LAYERSTATECHANGE,{state:e,layer:this,userCancel:n})}updateDrawState(e){this.drawState=e,e===$i.REFRESH?this.startTimer("draw"):e===$i.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(Et.LAYER_DRAWSTATECHANGE,{state:e,layer:this})}async initiate(){this.updateInitiationState(Be.INITIATING),this.startTimer("load");const e=s=>{this.layerState!==rn.ERROR&&(console.error(s),this.onError())},n=Date.now(),i=setTimeout(()=>{n>this.lastCancel&&(this.lastCancel=Date.now(),e("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[r]=await Ms(this.onInitiate());clearTimeout(i),n>this.lastCancel&&(this.drawState!==$i.UP_TO_DATE&&this.startTimer("draw"),r?e(`Init error on layer id: ${this.id} . ${r.message}`):this.updateInitiationState(Be.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===Be.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(Be.TERMINATING),await Promise.all(this.sublayers.map(e=>e.terminate())),this.loadDefProm=new wn,this.loadPromDone=!1,this.updateLayerState(rn.NEW),this.updateDrawState($i.NOT_LOADED),this.updateInitiationState(Be.TERMINATED)}onLoad(){const e=Date.now();let n=!1;const i=setTimeout(()=>{n=!0,this.onError()},this.expectedTime.fail);try{const r=this.onLoadActions();Promise.all(r).then(()=>{clearTimeout(i),n?this.visibility=!1:(this.stopTimer("load"),e>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new wn),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(s=>s.onLoad()),this.updateLayerState(rn.LOADED)))}).catch(()=>{clearTimeout(i),this.onError()})}catch(r){console.error("Encountered error on layer load: ",r),clearTimeout(i),this.onError()}}onError(e=!0){this.layerState!==rn.ERROR&&(this.initiationState===Be.INITIATING&&this.updateInitiationState(Be.NEW),this.loadPromDone&&(this.loadDefProm=new wn),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onError(e)),e&&this.$iApi.notify.show(Ur.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(rn.ERROR,!e))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===Be.NEW||this.initiationState===Be.TERMINATING||this.initiationState===Be.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===rn.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,n){return this.stubError(),Promise.resolve(new Wr(new Sl))}getIcon(e){return this.stubError(),Promise.resolve("")}getSqlFilter(e){return this.stubError(),""}setSqlFilter(e,n){this.stubError()}getFilterOIDs(e=[],n=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(e){return this.stubError(),Promise.resolve(Xe.fromParams("fake",0,0,0,0))}applySqlFilter(e=[]){this.stubError()}setCustomParameter(e,n,i=!0){this.stubError()}startTimer(e){this.stopTimer(e),this.expectedTime[e]>0&&(this.timers[e]=window.setTimeout(()=>this.$iApi.notify.show(Ur.WARNING,this.$iApi.$i18n.t(`layer.long${e}`,{id:this.name||this.id})),this.expectedTime[e]))}stopTimer(e){this.timers[e]&&(clearTimeout(this.timers[e]),this.timers[e]=void 0)}async arcadeGenerator(e){const n={variables:[{name:"$attr",type:"dictionary",properties:this.fields.map(i=>{const r=this.$iApi.geo.attributes.fieldTypeToArcade(i.type);if(r)return{name:i.name,type:r};console.error(`Encountered field type with no arcade support: ${i.type} [${i.name}]`)}).filter(i=>!!i)}]};return ce.ArcadeExecutor(e,n)}get nameArcade(){return this.nameArcadeFormula}async setNameArcade(e){this.supportsFeatures?e.trim()===""?(this.nameArcadeFormula="",this.nameArcadeExecutor=void 0):(this.nameArcadeFormula=e,this.nameArcadeExecutor=await this.arcadeGenerator(e)):console.error("Attempted to set a name arcade function on a layer that doesn't support it.")}async nameInitializer(e,n=""){if(this.supportsFeatures){const i=(e?.nameArcade||"").trim();i&&await this.setNameArcade(i),this.nameField=(e?.nameField||"").trim()||n||this.oidField}else console.error("Attempted to init a name field on an unsupported layer.")}nameValue(e){if(e)if(this.nameArcade){const n={$attr:e};return this.nameArcadeExecutor?.execute(n)??"Arcade Error"}else return this.nameField?e[this.nameField]??"Name Field Error":"";else return""}get maptipArcade(){return this.maptipArcadeFormula}async setMaptipArcade(e){this.supportsFeatures?e.trim()===""?(this.maptipArcadeFormula="",this.maptipArcadeExecutor=void 0):(this.maptipArcadeFormula=e,this.maptipArcadeExecutor=await this.arcadeGenerator(e)):console.error("Attempted to set a maptip arcade function on a layer that doesn't support it.")}async tooltipInitializer(e){return console.warn("tooltipInitializer layer method is deprecated. Please adjust to use maptipInitializer instead"),this.maptipInitializer(e)}async maptipInitializer(e){if(this.supportsFeatures){e.tooltipField&&console.warn("tooltipField layer configuration property is deprecated. Please adjust to use maptipField instead"),e.tooltipArcade&&console.warn("tooltipArcade layer configuration property is deprecated. Please adjust to use maptipArcade instead");const n=(e?.maptipArcade||e?.tooltipArcade||"").trim();n&&await this.setMaptipArcade(n),this.maptipField=(e?.maptipField||e?.tooltipField||"").trim()}else console.error("Attempted to init a maptip field on an unsupported layer.")}maptipValue(e){if(e)if(this.maptipArcade){const n={$attr:e};return this.maptipArcadeExecutor?.execute(n)??"Arcade Error"}else return this.maptipField?e[this.maptipField]??this.nameValue(e):this.nameValue(e);else return""}}class Bu extends TV{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(e,n){super(e,n),this._scaleSet=new kP,this._mouseTolerance=e.mouseTolerance!=null?e.mouseTolerance:5,this._touchTolerance=e.touchTolerance!=null?e.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=e.cosmetic||!1,this.extent=e.extent?Xe.fromConfig(`${this.id}_extent`,e.extent):void 0,this.viewDefProm=new wn,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(jn(()=>this.esriLayer.visible,e=>{this.$iApi.event.emit(Et.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this})})),this.esriWatches.push(jn(()=>this.esriLayer.opacity,e=>{this.$iApi.event.emit(Et.LAYER_OPACITYCHANGE,{opacity:e,layer:this})})),this.esriWatches.push(jn(()=>this.esriLayer.loadStatus,e=>{const n={"not-loaded":rn.LOADING,loading:rn.LOADING,loaded:rn.LOADED,failed:rn.ERROR};e==="loaded"?this.onLoad():e==="failed"?this.onError():this.updateLayerState(n[e])})),this.esriLayer.on("layerview-create",e=>{this.esriView=qe(e.layerView),this.esriWatches.push(jn(()=>e.layerView.updating,n=>{this.updateDrawState(n?$i.REFRESH:$i.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(e=>e.initiate())}async terminate(){this.esriWatches.forEach(e=>e.remove()),this.esriWatches=[],this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new wn}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const e=Date.now();if(this.$iApi.event.emit(Et.LAYER_RELOAD_START,this),this.sublayers.forEach(n=>this.$iApi.event.emit(Et.LAYER_RELOAD_START,n)),await this.terminate(),await this.initiate(),!(this.lastCancel>e)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(Et.LAYER_RELOAD_END,this),this.sublayers.forEach(n=>this.$iApi.event.emit(Et.LAYER_RELOAD_END,n))}}makeEsriLayerConfig(e){return{id:e.id,url:e.url,opacity:e?.state?.opacity??1,visible:e?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(e=>e.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const e=super.onLoadActions();this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify);const n=this.$iApi.geo.proj.checkProj(this.getSR()).then(i=>i?Promise.resolve():Promise.reject());return e.push(n),e}viewPromise(){return this.viewDefProm.getPromise()}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(e){this._scaleSet=e}isOffscale(e=void 0){let n;if(typeof e>"u")if(this.mapCheck())n=this.$iApi.geo.map.getScale();else return!1;else n=e;return this.scaleSet.isOffScale(n).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){if(!this.extent)return console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve();if(this.mapCheck()){if(this.extent.xmin===this.extent.xmax&&this.extent.ymin===this.extent.ymax){const e=new pi("point",[this.extent.xmin,this.extent.ymin],this.extent.sr);return this.$iApi.geo.map.zoomMapTo(e)}return this.$iApi.geo.map.zoomMapTo(this.extent)}else return Promise.resolve()}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=e}get touchTolerance(){return this._touchTolerance}set touchTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=e}get layerExists(){return this.initiationState===Be.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(e){this.layerExists?this.esriLayer.visible=e:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(e=>e.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(e){this.layerExists?this.esriLayer.opacity=e:this.noLayerErr()}getSR(){return this.esriLayer?Rt.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Rt.latLongSR())}}class $T extends Bu{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.geomType=Bt.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new RP(e.permanentFilteredQuery||"",e.initialFilteredQuery||""),e.state?.hovertips!==void 0&&console.warn("hovertips layer configuration property is deprecated. Please adjust to use maptips instead"),this.maptips=e.state?.maptips??e.state?.hovertips??!0,this.attribs=new kV}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}async loadLayerMetadata(e={}){if(!this.serviceUrl)return;const n=Date.now(),i=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(n<this.lastCancel))if(this.geomType=i.geometryType,this.attribs.quickCache=new PV(this.geomType),this.scaleSet.minScale=i.minScale,this.scaleSet.maxScale=i.maxScale,this.dataFormat=i.dataFormat,this.extent=this.extent??i.extent,this._serverVisibility=i.defaultVisibility,this.origRampConfig.name||(this.name=i.name??this.id),this.dataFormat===ei.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===xt.SUBLAYER?i.canModifyLayer:!0,this.fields=i.fields,this.nameField=i.displayField,this.oidField=i.objectIdField,this.sourceSR=i.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const r=e&&e.customRenderer&&e.customRenderer.type?e.customRenderer:i.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(r,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const s={supportsLimit:(i.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(oi.PERMANENT)};this.attribs.attLoader=new LV(this.$iApi,s)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(e=>e.trim).map(e=>e.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,n){let i={},r=new Sl;const s=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(n.getAttribs||n.getStyle){const p=this.attribs.quickCache.getAttribs(e);if(p)i=p;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();i=d.features[d.oidIndex[e]]}else o=!0}if(n.getGeom){l=s.getScale();const p=this.attribs.quickCache.getGeom(e,l);if(p)r=p;else if(this.layerType===xt.FEATURE){await this.viewPromise(),this.esriView.updating&&await new Promise(y=>{const g=jn(()=>this.esriView.updating,b=>{b||(g.remove(),y())})});const d=await ce.Query();d.objectIds=[e],d.returnGeometry=!0;const f=await this.esriView.queryFeatures(d);if(f.features.length){const y=f.features[0],g=this.$iApi.geo.geom.geomEsriToRamp(y.geometry);this.attribs.quickCache.setGeom(e,g,l),r=g}else a=!0}else a=!0}if(o||a){const p={oid:e,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(p.mapSR=s.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(p.maxOffset=s.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(p);a&&(this.attribs.quickCache.setGeom(e,d.geometry,l),r=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(e)>"u")&&(this.attribs.quickCache.setAttribs(e,d.attributes),o&&(i=d.attributes))}const c=new Wr(r,"",n.getAttribs?i:void 0);if(n.getStyle){const p=Ct(this.renderer.getGraphicSymbol(i));c.style=this.$iApi.geo.geom.styleEsriToRamp(p)}return c}async getIcon(e){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const n=await this.getGraphic(e,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(n.attributes||{},this.renderer)}setSqlFilter(e,n){const i=this.filter.getSql(e);if(n===i)return;this.filter.setSql(e,n),this.$iApi.event.emit(Et.FILTER_CHANGE,{uid:this.uid,filterKey:e});const r=`${this.uid}-${e}-${n}`;this._lastFilterUpdate=r,setTimeout(()=>{this._lastFilterUpdate===r&&this.applySqlFilter()},80)}applySqlFilter(e=[]){throw new Error(`attempted to apply sql filter ${e} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[],n=void 0){const i=this.filter.getCombinedSql(e),r=!!n;if(!(i||r))return;n&&this.filter.setExtent(n);const s=this.filter.sqlActiveFilters(e);let o=this.filter.getCache(s,r);if(!o){const a={filterGeometry:n,filterSql:i,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,s,r)}return o}queryOIDs(e){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const n={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(n)}async queryFeaturesDiscrete(e){const n=await this.queryOIDs(e),i={getGeom:!!e.includeGeometry,getAttribs:!0};return n.map(r=>({oid:r,graphic:this.getGraphic(r,i)}))}async queryFeatures(e){const n=await this.queryFeaturesDiscrete(e);return Promise.all(n.map(i=>i.graphic))}configDrawOrder(e,n){Array.isArray(e.drawOrder)&&e.drawOrder.length>0&&(n.orderBy=e.drawOrder.map(i=>{const r=i.ascending??!0?"ascending":"descending";return i.field?{field:i.field,order:r}:{valueExpression:i.arcade,order:r}}),this._drawOrder=e.drawOrder.slice())}}class IV extends Bu{constructor(e,n){super(e,n),this.dataFormat=ei.ESRI_FEATURE,this.layerFormat=ji.GRAPHIC,this.maptips=!1}_graphics=[];makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}getGraphicCount(){return this._graphics.length}getLocalGraphic(e){return this._graphics.find(n=>n.id===e)}getEsriGraphic(e){return this.esriLayer?.graphics.find(n=>n.id===e)}get graphics(){return this._graphics.slice()}async addGraphic(e){if(!this.layerExists){this.noLayerErr();return}let n;e instanceof Array?n=e:n=[e];const i=n.filter(l=>this._graphics.findIndex(c=>c.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),r=this.$iApi.geo.map.getSR(),s=i.map(l=>this.$iApi.geo.proj.projectGeometry(r,l.geometry)),o=await Promise.all(s),a=i.map((l,c)=>{const p=new Wr(o[c],l.id,l.attributes);return p.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(p)});this.esriLayer.addMany(a)}removeGraphic(e){if(!this.layerExists){this.noLayerErr();return}if(typeof e>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let n;Array.isArray(e)?n=e:n=[e],n.map(i=>typeof i=="string"?i:i.id).forEach(i=>{const r=this.esriLayer.graphics.findIndex(o=>o.id===i);r>-1&&this.esriLayer.graphics.removeAt(r);const s=this._graphics.findIndex(o=>o.id===i);s>-1&&this._graphics.splice(s,1)})}}class NV extends IV{constructor(e,n){super(e,n),this.layerType=xt.GRAPHIC}async onInitiate(){this.esriLayer=qe(await ce.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState($i.UP_TO_DATE),e}}class Vu extends $T{esriJson;sourceGeoJson;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=ei.ESRI_FEATURE,this.layerFormat=ji.FEATURE,this.layerIdx=0,e.identifyMode&&e.identifyMode!==zn.NONE?this.identifyMode=e.identifyMode:this.identifyMode=zn.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const e={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,e),this.esriLayer=qe(await ce.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e),i="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(r=>{n[r]=this.esriJson[r]}),this.origRampConfig.nameField?n.displayField=this.$iApi.geo.attributes.fieldValidator(n.fields,this.origRampConfig.nameField)||i:n.displayField=i,n.outFields=["*"],delete n.url,this.configDrawOrder(e,n),e.geomClustering&&(n.featureReduction=e.geomClustering),n}onLoadActions(){const e=super.onLoadActions(),n=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await ce.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),await this.nameInitializer({nameArcade:this.origRampConfig.nameArcade},this.nameField),this.origRampConfig.tooltipField&&console.warn("tooltipField layer configuration property is deprecated. Please adjust to use maptipField instead"),this.origRampConfig.tooltipArcade&&console.warn("tooltipArcade layer configuration property is deprecated. Please adjust to use maptipArcade instead");const i=this.origRampConfig.maptipField||this.origRampConfig.tooltipField||"",r=i?this.$iApi.geo.attributes.fieldValidator(this.fields,i):"";await this.maptipInitializer({maptipArcade:this.origRampConfig.maptipArcade||this.origRampConfig.tooltipArcade,maptipField:r}),this.featureCount=this.esriLayer?.source.length||0};return e.push(n()),e.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(e).then(()=>{this.applySqlFilter()}),e}runIdentify(e){if(!this.canIdentify())return[];const n=new wn,i=Zn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let r=Promise.resolve(),s=Promise.resolve(),o=[],a=[];if(this.identifyMode===zn.HYBRID||this.identifyMode===zn.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Bt.POLYGON&&e.geometry.type===Bt.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):l.filterGeometry=e.geometry,l.filterSql=this.getCombinedSqlFilter(),s=this.queryFeatures(l).then(c=>{o=c})}return e.hitTest&&(this.identifyMode===zn.HYBRID||this.identifyMode===zn.SYMBOLIC)&&(r=s.then(async()=>{const l=await e.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(p=>c.oid===p.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([r,s]).then(()=>{o.forEach(l=>{i.items.push(fd.makeRawItem(pc.ESRI,l.attributes))}),a.forEach(l=>{i.items.push(fd.makeOidItem(l,this))}),i.loaded=!0,n.resolveMe()}).catch(()=>{i.errored=!0,n.resolveMe()}),[i]}extractLayerMetadata(){const e=this.esriLayer;if(!e)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(e.geometryType),this.scaleSet.minScale=e.minScale||0,this.scaleSet.maxScale=e.maxScale||0,this.extent=this.extent??Xe.fromESRI(e.fullExtent,this.id+"_extent");const n=qe(e.fields.slice());this.fields=n.map(r=>({name:r.name,alias:r.alias,type:r.type,length:r.length})),this.nameField=e.displayField,this.oidField=e.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(e.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const i={sourceGraphics:e.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new XAt(this.$iApi,i)}async getGraphic(e,n){let i;if(!n.getGeom&&this.attribs.attLoader.isLoaded()){const r=await this.attribs.attLoader.getAttribs();i=new Wr(new Sl,"",r.features[r.oidIndex[e]])}else{const r={filterOIDs:[e],includeGeometry:!!n.getGeom},s=await this.queryFeatures(r);if(s.length===0)throw new Error(`Could not find object id ${e}`);s.length!==1&&console.warn("did not get a single result on a query for a specific object id"),i=s[0]}if(n.getStyle){const r=Ct(this.renderer.getGraphicSymbol(i.attributes));i.style=this.$iApi.geo.geom.styleEsriToRamp(r)}return i}async queryFeatures(e){const n={layer:this,...e};return this.$iApi.geo.query.geoJsonQuery(n)}async queryOIDs(e){const n={layer:this,...e};return(await this.$iApi.geo.query.geoJsonQuery(n)).map(i=>i.attributes?i.attributes[this.oidField]:-1)}applySqlFilter(e=[]){if(!this.esriView){this.noLayerErr();return}const n=this.filter.getCombinedSql(e);ce.FeatureFilter({where:n}).then(i=>{Ct(this.esriView).filter=i})}}class kAt extends Vu{constructor(e,n){super(e,n),this.layerType=xt.GEOJSON}async onInitiate(){let e;const n=Date.now();if(this.origRampConfig.rawData)e=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");n>this.lastCancel&&(this.sourceGeoJson=e,await super.onInitiate())}}class RAt extends Vu{constructor(e,n){super(e,n),this.layerType=xt.SHAPEFILE}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.shapefileToGeoJson(n);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class LAt extends Vu{constructor(e,n){super(e,n),this.layerType=xt.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let e;const n=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")e=this.origRampConfig.rawData;else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(n>this.lastCancel){const i=await this.$iApi.geo.layer.files.csvToGeoJson(e,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});n>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class PAt extends Vu{constructor(e,n){super(e,n),this.layerType=xt.GEOJSONZIPPED}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(n);e>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(i)),await super.onInitiate())}}}class DAt extends Vu{constructor(e,n){super(e,n),this.layerType=xt.FLATGEOBUF}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.fgbToGeoJson(n,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class FAt extends Vu{constructor(e,n){super(e,n),this.layerType=xt.FLATGEOBUFZIPPED}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(n);if(e>this.lastCancel){const r=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}}class jAt extends $T{constructor(e,n){super(e,n),this.dataFormat=ei.ESRI_FEATURE,this.supportsIdentify=!0,this.layerType=xt.FEATURE,this.layerFormat=ji.FEATURE,e.identifyMode&&e.identifyMode!==zn.NONE?this.identifyMode=e.identifyMode:this.identifyMode=zn.HYBRID}async onInitiate(){qe(this.esriLayer=await ce.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e);return(e.initialFilteredQuery||e.permanentFilteredQuery)&&(n.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(e,n),e.geomClustering&&(n.featureReduction=e.geomClustering),n}onLoadActions(){const e=Date.now(),n=super.onLoadActions(),i=this.esriLayer.parsedUrl.path,r=this.$iApi.geo.shared.parseUrlIndex(i).index||0;this.layerIdx=r,this.serviceUrl=i;const s=async()=>{let a;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const l=await ce.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=l,a={customRenderer:l}}else a={};await this.loadLayerMetadata(a),e>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()),await this.nameInitializer(this.origRampConfig,this.nameField),await this.maptipInitializer(this.origRampConfig))},o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(oi.PERMANENT)).then(a=>{e>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=r,n.push(o,s()),n}runIdentify(e){if(!this.canIdentify())return[];const n=new wn,i=Zn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let r=Promise.resolve(),s=Promise.resolve(),o=[];if(this.identifyMode===zn.HYBRID||this.identifyMode===zn.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Bt.POLYGON&&e.geometry.type===Bt.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):a.filterGeometry=e.geometry,a.filterSql=this.getCombinedSqlFilter(),s=this.queryOIDs(a).then(l=>{o=l})}return e.hitTest&&(this.identifyMode===zn.HYBRID||this.identifyMode===zn.SYMBOLIC)&&(r=s.then(async()=>{(await e.hitTest).filter(a=>a.layerId===this.id&&o.findIndex(l=>a.oid===l)===-1).forEach(a=>{o.push(a.oid)})})),Promise.all([r,s]).then(()=>{o.forEach(a=>{i.items.push(fd.makeOidItem(a,this))}),i.loaded=!0,n.resolveMe()}).catch(()=>{i.errored=!0,n.resolveMe()}),[i]}applySqlFilter(e=[]){if(this.layerExists){const n=this.filter.getCombinedSql(e);this.esriLayer.definitionExpression=n}else this.noLayerErr()}getGraphicExtent(e){return new Promise((n,i)=>{if(!this.layerExists)this.noLayerErr(),i();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),i();else{const r=this.attribs.quickCache.getExtent(e);r?n(r):this.esriLayer.queryExtent({objectIds:[e],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(s=>{const o=Xe.fromESRI(s.extent);this.attribs.quickCache.setExtent(e,o),n(o)}).catch(()=>{console.error(`Extent querying failed for ${e}.`),i()})}})}}class $At extends Bu{isDynamic;origState;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=xt.MAPIMAGE,this.layerFormat=ji.MAPIMAGE,this.isDynamic=!1,this.maptips=!1,this.layerTree.layerIdx=-1,this.identifyMode=zn.GEOMETRIC}async onInitiate(){this.esriLayer=qe(await ce.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e);return this.origState={visibility:n.visible,opacity:n.opacity},n.visible=!1,e.imageFormat&&(n.imageFormat=e.imageFormat),n}onLoadActions(){const e=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),e;const n=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(Ur.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??Xe.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const i=l=>{const c=this.esriLayer?.allSublayers.find(p=>p.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},r={};this.origRampConfig.sublayers.forEach(l=>{r[l.index||0]=l});const s=[],o=(l,c)=>{const p=l.id,d=r[p];if(l.sublayers&&l.sublayers.length>0){const f=(d?d.name:"")||l.title||"",y=new D1(p,"",f,!1);c.findChildByIdx(p)||c.children.push(y),l.sublayers.reverse().forEach(g=>{o(g,y)})}else{this._sublayers[p]||(this._sublayers[p]=new GAt({id:this.$iApi.geo.layer.sublayerId(this.id,p),index:p,layerType:xt.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,maptips:this.maptips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const f=this._sublayers[p];if(f.isRemoved)return;if(f.name=d?.name||l.title||"",s.push(f),!c.children.map(y=>y.layerIdx).includes(p)){const y=new D1(p,f.uid,f.name,!1);c.children.push(y)}f.esriWatches.push(jn(()=>l.visible,()=>{this.$iApi.event.emit(Et.LAYER_VISIBILITYCHANGE,{visibility:f.visibility,layer:f}),f.parentLayer?.checkVisibility()}),jn(()=>l.opacity,y=>{this.$iApi.event.emit(Et.LAYER_OPACITYCHANGE,{opacity:y,layer:f})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=i(l.index||0);o(c,this.layerTree)}});const a=s.map(async l=>{const c=i(l.layerIdx),p=r[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),n<this.lastCancel)return;const d={};if(l.esriSubLayer&&p?.customRenderer?.type){const y=await ce.RendererFromJson(p.customRenderer);l.esriSubLayer.renderer=y,d.customRenderer=y}if(await l.loadLayerMetadata(d),n<this.lastCancel)return;const f=r[l.layerIdx];if(f?(l.visibility=l.isRemoved?!1:f.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=f.state?.opacity??this.origState.opacity??1,this.$iApi.geo.attributes.applyFieldMetadata(l,f.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(Ur.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim(),await l.nameInitializer(f,l.nameField);const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(oi.PERMANENT));n>this.lastCancel&&(l.featureCount=y)}});return e.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!s.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,e}updateLayerState(e,n=!1){super.updateLayerState(e,n),this.sublayers.forEach(i=>i.updateLayerState(e,n))}updateDrawState(e){super.updateDrawState(e),this.sublayers.forEach(n=>n.updateDrawState(e))}runIdentify(e){if(!this.canIdentify())return[];e.sublayerIds&&(e.sublayerIds=e.sublayerIds.map(r=>typeof r=="number"?this.layerTree?.findChildByIdx(r)?.uid:r));const n=e.sublayerIds?this._sublayers.filter(r=>e.sublayerIds?.includes(r.uid)):this._sublayers.filter(r=>r.canIdentify());if(n.length===0)return[];let i;return e.geometry.type===Bt.POINT&&(i=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance)),n.map(r=>{const s=new wn,o={},a=Zn({items:[],loading:s.getPromise(),loaded:!1,errored:!1,uid:r.uid,layerId:r.id,requestTime:Date.now()});return r.geomType!==Bt.POLYGON&&i?o.filterGeometry=i:o.filterGeometry=e.geometry,o.filterSql=r.getCombinedSqlFilter(),o.sourceSR=r.sourceSR,r.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(fd.makeOidItem(c,r))}),a.loaded=!0,s.resolveMe()}).catch(()=>{a.errored=!0,s.resolveMe()}),a})}}class GAt extends $T{constructor(e,n,i){if(super(e,n),this.layerType=xt.SUBLAYER,this.layerFormat=ji.MAPIMAGE,this.isSublayer=!0,this.layerIdx=e.index,this.parentLayer=i,this.isSystem=i.isSystem,this.dataFormat=ei.ESRI_FEATURE,this.supportsFeatures=!0,this.maptips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!i.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(i),(e.initialFilteredQuery||e.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(e){if(!e.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=qe(e.esriLayer.allSublayers.find(n=>n.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=Be.INITIATED;const e=this.labelVizOverride();e!==void 0&&(this.labelVisibility=e)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===Be.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(e){this.layerExists?this.esriSubLayer.visible=e:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(e){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=e}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(e){this.layerExists?this.parentLayer.mouseTolerance=e:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(e){this.layerExists?this.parentLayer.touchTolerance=e:this.noLayerErr()}applySqlFilter(e=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const n=this.filter.getCombinedSql(e);this.esriSubLayer.definitionExpression=n}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const e=this._parentLayer?.esriLayer?.spatialReference;return e?Rt.fromESRI(e):Rt.latLongSR()}else return this.noLayerErr(),Rt.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(e){this.layerExists?this.esriSubLayer.labelsVisible=e:this.noLayerErr()}labelVizOverride(){let e=this.origRampConfig.labels?.visible;if(e!==void 0||(e=this.$iApi.geo.map.labelsDefault?.visible,e!==void 0))return e}}class UAt extends Bu{constructor(e,n){super(e,n),this.supportsIdentify=!1,this.layerType=xt.OSM,this.layerFormat=ji.OSM,this.dataFormat=ei.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=qe(await ce.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),i={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:n.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(i),e}}class BAt extends Bu{constructor(e,n){super(e,n),this.supportsIdentify=!1,this.layerType=xt.IMAGERY,this.layerFormat=ji.IMAGERY,this.dataFormat=ei.ESRI_RASTER}async onInitiate(){this.esriLayer=qe(await ce.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(r=>{n>this.lastCancel&&(this.legend=r)});return e.push(i),e}}class GT extends Bu{schemaLocked=!0;constructor(e,n){super(e,n),this.supportsIdentify=!1,this.dataFormat=ei.ESRI_TILE}onLoadActions(){const e=super.onLoadActions();return this.layerTree.name=this.name,this.schemaLocked&&e.push(this.checkProj()),e}async checkProj(){const e=this.getSR(),n=this.$iApi.geo.map.getSR().isEqual(e),i=()=>this.$iApi.notify.show(Ur.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id}));if(this.layerState===rn.LOADED&&!n)i(),this.onError(),this.updateDrawState($i.NOT_LOADED);else if(this.layerState===rn.ERROR&&n)this.reload();else if(this.layerState!==rn.ERROR&&!n)return i(),Promise.reject()}}class VAt extends GT{constructor(e,n){super(e,n),this.layerType=xt.IMAGERYTILE,this.layerFormat=ji.IMAGERYTILE,this.schemaLocked=!1}async onInitiate(){this.esriLayer=qe(await ce.ImageryTileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}}class OV extends GT{constructor(e,n){super(e,n),this.layerType=xt.TILE,this.layerFormat=ji.TILE}async onInitiate(){this.esriLayer=qe(await ce.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions(),n=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(r=>{n>this.lastCancel&&(this.legend=r)});return e.push(i),e}}class zAt extends GT{constructor(e,n){super(e,n),this.layerType=xt.VECTORTILE,this.layerFormat=ji.VECTORTILE}async onInitiate(){this.esriLayer=qe(await ce.VectorTileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}}class WAt extends Bu{sublayerNames;mimeType;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.layerType=xt.WMS,this.layerFormat=ji.WMS,this.mimeType=e.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=ei.OGC_RASTER,this.identifyMode=zn.GEOMETRIC}async onInitiate(){this.esriLayer=qe(await ce.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e),i=e.sublayers;this.sublayerNames=i.map(s=>s.id||"error_no_wms_id");const r=i.map(s=>s.currentStyle).join();return n.customParameters={styles:r},e.url.indexOf("/geomet")!==-1&&(n.customParameters.layers=i[0].id),n}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=i=>{let r=!1;return i.forEach(s=>{this.sublayerNames.indexOf(s.name)>-1||s.sublayers&&s.sublayers.length>0&&n(s.sublayers)?r=!0:s.visible=!1}),r};return this.layerExists?n(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),e}canIdentify(){return super.canIdentify()}runIdentify(e){if(e.geometry.type!==Bt.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const n=new wn,i=Zn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,e.geometry,this.mimeType).then(r=>{if(r){let s=!0,o;typeof r!="string"?o=pc.JSON:r.indexOf("Search returned no results")===-1&&r!==""?o=pc.TEXT:(s=!1,o=pc.UNKNOWN),s&&i.items.push(fd.makeRawItem(o,r))}i.loaded=!0,n.resolveMe()}).catch(()=>{i.errored=!0,n.resolveMe()}),[i]}setCustomParameter(e,n,i=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[e]=n,i&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(e,n,i){const r=this.$iApi.geo.map,s=this.esriLayer;if(!r.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!s)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=r.getExtent(),c=s.spatialReferences,p=e.join(","),d=r.esriView.toScreen(n.toESRI()),f=Math.floor(d.x),y=Math.floor(d.y),g={"application/json":"json","text/html":"text","text/plain":"text"}[i]||"text",b=r.getSR();b.wkid?o=b.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(b.latestWkid&&c.indexOf(b.latestWkid)>-1?o=b.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),s.version==="1.3"||s.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:f,J:y,STYLES:"",FORMAT:s.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:f,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const x={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:s.version,WIDTH:r.getPixelWidth(),HEIGHT:r.getPixelHeight(),QUERY_LAYERS:p,LAYERS:p,INFO_FORMAT:i},A=s.customLayerParameters;return A&&Object.keys(A).forEach(M=>{M.toLowerCase()!=="styles"&&(x[M]=A[M])}),Object.keys(x).forEach(M=>a[M]=x[M]),fn(s.url.split("?")[0],{query:a,responseType:g})}getLegendUrls(e){if(!this.layerExists)return this.noLayerErr(),[];const n=new Map;this.esriLayer.allSublayers.forEach(r=>{r.visible&&(r.legendUrl&&this.origRampConfig.sublayers?.forEach(s=>{if(s.id&&s.currentStyle&&s.id===r.name){const o=new em(r.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==s.currentStyle&&(r.legendUrl=o.updateQuery({STYLE:s.currentStyle}))}}),n.set(r.name,r.legendUrl))});const i=e.map(r=>r.styleLegends&&r.currentStyle?r.styleLegends.find(s=>s.name===r.currentStyle).url:void 0);return i.forEach((r,s)=>{r||(i[s]=n.get(e[s].id))}),i}getWMSLayerTitle(e){if(!this.esriLayer)return"";let n;return this.esriLayer.allSublayers.some(i=>i.name===e?(n=i.title,!0):!1),n||""}loadSymbology(){const e=Date.now(),n=this.config.sublayers,i=this.getLegendUrls(n.map(r=>({id:r.id,styleLegends:r.styleLegends,currentStyle:r.currentStyle}))).map((r,s)=>{const o=n[s].name||this.getWMSLayerTitle(n[s].id)||n[s].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(r).then(l=>{e>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=i}}class qAt extends Vu{constructor(e,n){super(e,n),this.layerType=xt.WFS}async onInitiate(){const e=Date.now(),n=new em(this.config.url),{offset:i,limit:r}=n.queryMap,s=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(i)||0,parseInt(r)||1e3,void 0,this.config.xyInAttribs);e>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}class CV extends TV{sourceJson;attribs;_visibility;constructor(e,n){super(e,n),this.dataFormat=ei.ESRI_FEATURE,this.layerFormat=ji.NOLAYER,this.drawState=$i.NOT_VISUAL,this.attribs=new kV,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=e.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const e=this.sourceJson;if(e.data.length===0||e.fields.length===0)throw new Error("Data layer with no columns or now rows.");const n=e.fields.slice(),i=e.data[0].slice(),r=/ /gi;this.fields=n.map((l,c)=>{let p="",d=l;l.indexOf(" ")>-1&&(p=l,d=l.trim().replace(r,"-"),e.fields[c]=d);const f=this.$iApi.geo.layer.files.inferType(i[c]);return{name:d,alias:p,type:f,length:f===so.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:so.OID}),e.fields.push(this.oidField),e.data.forEach((l,c)=>l.push(c+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const s={batchSize:-1,sourceDataJson:e,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new QAt(this.$iApi,s),await this.attribs.attLoader.getAttribs(),this.featureCount=e.data.length;const o=this.origRampConfig.nameField,a={nameField:o?this.$iApi.geo.attributes.fieldValidator(this.fields,o):"",nameArcade:this.origRampConfig.nameArcade};await this.nameInitializer(a,""),this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(Et.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==rn.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(Et.LAYER_RELOAD_END,this)},300)}onLoadActions(){const e=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(n=>{this.legend[0].svgcode=n})}],e}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,n){let i={};if(this.attribs.attLoader.isLoaded()){const r=await this.attribs.attLoader.getAttribs();i=r.features[r.oidIndex[e]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Wr(new Sl,"",i)}async getIcon(e){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(e=[],n=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this.$iApi.event.emit(Et.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this}))}}class HAt extends CV{constructor(e,n){super(e,n),this.layerType=xt.DATAJSON}async onInitiate(){const e=Date.now();let n;if(this.origRampConfig.rawData)n=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)n=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");e>this.lastCancel&&(this.sourceJson=n,await super.onInitiate())}}class YAt extends CV{filter;serviceUrl;constructor(e,n){super(e,n),this.layerType=xt.DATATABLE,this.serviceUrl=e.url,this.filter=new RP(e.permanentFilteredQuery||"",e.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const e=super.onLoadActions(),n=Date.now(),i=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,r=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(o=>{if(n<this.lastCancel)return;this.name||(this.name=o.name),this.layerTree.name=this.name,this.oidField=o.objectIdField,this.fields=o.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.nameInitializer(this.origRampConfig,o.displayField);const a={supportsLimit:(o.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(oi.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new LV(this.$iApi,a),this.attribs.quickCache=new PV(this.geomType)}),s=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(oi.PERMANENT)).then(o=>{n>this.lastCancel&&(this.featureCount=o)});return this.layerTree.layerIdx=i,e.push(r,s),e}async getGraphic(e){let n={};const i=this.attribs.quickCache.getAttribs(e);if(i)n=i;else if(this.attribs.attLoader.isLoaded()){const r=await this.attribs.attLoader.getAttribs();n=r.features[r.oidIndex[e]]}else{const r={oid:e,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},s=await this.$iApi.geo.attributes.loadSingleFeature(r);this.attribs.quickCache.setAttribs(e,s.attributes),n=s.attributes}return new Wr(new Sl,"",n)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(e,n){const i=this.filter.getSql(e);n!==i&&(this.filter.setSql(e,n),this.$iApi.event.emit(Et.FILTER_CHANGE,{uid:this.uid,filterKey:e}))}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[]){const n=this.filter.getCombinedSql(e);if(!n)return;const i=this.filter.sqlActiveFilters(e);let r=this.filter.getCache(i,!1);if(!r){const s={filterSql:n,includeGeometry:!1};r=this.queryOIDs(s),this.filter.setCache(r,i,!1)}return r}queryOIDs(e){const n={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(n)}async queryFeaturesDiscrete(e){return(await this.queryOIDs(e)).map(n=>({oid:n,graphic:this.getGraphic(n)}))}async queryFeatures(e){const n=await this.queryFeaturesDiscrete(e);return Promise.all(n.map(i=>i.graphic))}}const JAt=new Map([["integer","number"],["small-integer","number"],["big-integer","number"],["single","number"],["double","number"],["long","number"],["oid","number"],["string","text"],["geometry","geometry"],["date","date"]]);class ZAt extends _n{oidIndexer(e,n){e.features.forEach((i,r)=>{e.oidIndex[i[n]]=r})}async arcGisBatchLoad(e,n){if(n.loadAbortFlag)return[];const i=e.permanentFilter?` AND ${e.permanentFilter}`:"",r={query:{where:`${e.oidField}>${e.maxId}${i}`,outFields:e.attribs,orderByFields:e.oidField,returnGeometry:"false",f:"json"}},[s,o]=await Ms(fn(e.serviceUrl+"/query",r));if(!o)return console.error(`ArcGIS batch load error: ${e.serviceUrl}`,s),Promise.reject(new Error(`ArcGIS batch load error: ${e.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){n.loadedCount+=l;let c;if(e.supportsLimit?c=o.data.exceededTransferLimit:(e.batchSize===-1&&(e.batchSize=l),c=l>=e.batchSize),a=this.trimFeatureSetAttributes(a,e.fieldsToTrim??[]),c){e.maxId=a[l-1].attributes[e.oidField];const p=await this.arcGisBatchLoad(e,n);return n.loadAbortFlag?[]:a.concat(p)}else return n.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(e,n){e.maxId=-1,e.batchSize=-1;const i={features:(await this.arcGisBatchLoad(e,n)).map(r=>r.attributes),oidIndex:{}};return this.oidIndexer(i,e.oidField),n.loadIsDone=!0,i}async loadGraphicsAttributes(e,n){if(!e.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const i={features:e.sourceGraphics.map(r=>Ct(r).attributes).toArray(),oidIndex:{}};return this.oidIndexer(i,e.oidField),n.loadIsDone=!0,n.loadedCount=i.features.length,i}async loadCompactJsonAttributes(e,n){if(!e.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const i=e.sourceDataJson.fields,r=e.fieldsToTrim??[],s={features:e.sourceDataJson.data.map(o=>{const a={};return o.forEach((l,c)=>{a[i[c]]=typeof l=="string"&&r.includes(i[c])?l.trim():l}),a}),oidIndex:{}};return this.oidIndexer(s,e.oidField),n.loadIsDone=!0,n.loadedCount=s.features.length,e.sourceDataJson=void 0,s}async loadSingleFeature(e){const n={query:{f:"json",objectIds:e.oid,returnGeometry:e.includeGeometry,outFields:e.attribs}};typeof e.maxOffset<"u"&&(n.query.maxAllowableOffset=e.maxOffset),typeof e.mapSR<"u"&&(n.query.outSR=e.mapSR),typeof e.geometryPrecision<"u"&&e.geometryPrecision>=0&&(n.query.geometryPrecision=e.geometryPrecision);const[i,r]=await Ms(fn(e.serviceUrl+"/query",n));if(!r)return console.error(`ArcGIS single feature load error: ${e.serviceUrl}`,i),Promise.reject(new Error(`ArcGIS single feature load error: ${e.serviceUrl}`));if(!r.data||!r.data.features)return console.error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`));const s=r.data.features;if(s.length>0){let o;const a=this.trimFeatureSetAttributes([s[0]],e.fieldsToTrim??[])[0];if(e.includeGeometry){a.geometry.spatialReference=r.data.spatialReference;const l=mg(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new Sl;return new Wr(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`))}trimFeatureSetAttributes(e,n){return n.forEach(i=>{e.forEach(r=>{typeof r.attributes[i]=="string"&&(r.attributes[i]=r.attributes[i].trim())})}),e}orderFields(e,n){const i=(s,o)=>s.findIndex(a=>a.name===o),r=(s,o)=>{const a=i(n,s.name),l=i(n,o.name);return a===-1&&l===-1?i(e,s.name)-i(e,o.name):a===-1?1:l===-1?-1:a-l};return e.slice().sort(r)}applyFieldMetadata(e,n=void 0){if(!n||!n.fieldInfo){e.fieldList="*";return}const i=n.fieldInfo.filter(r=>r.trim).map(r=>r.name);if(e.fields.forEach(r=>{i.includes(r.name)&&(r.trim=!0)}),n?.enforceOrder&&n?.fieldInfo&&n?.fieldInfo.length>0&&(e.fields=this.orderFields(e.fields,n.fieldInfo),e.fieldList=n.fieldInfo.map(r=>r.name).join(",")),n.exclusiveFields){n.fieldInfo.find(s=>s.name===e.oidField)||n.fieldInfo.push({name:e.oidField}),e.fieldList=n.fieldInfo.map(s=>s.name).join(",");const r=n.fieldInfo;e.fields=e.fields.filter(s=>r.find(o=>o.name===s.name))}else e.fieldList="*";n.fieldInfo.forEach(r=>{if(r.alias){const s=e.fields.find(o=>o.name===r.name);s&&(s.alias=r.alias)}})}fieldValidator(e,n){if(e.findIndex(i=>i.name===n)===-1){const i=e.find(r=>r.alias===n);return i?i.name:(console.warn(`Cannot find name field in layer field list: ${n}`),"")}else return n}async generateTabularAttributes(e,n){return n.attLoader.tabularAttributesCache||(n.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(e,n)),n.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(e,n){if(e.dataFormat===ei.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const i=await n.attLoader.getAttribs();if(!i.features||i.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const r=e.fields.filter(o=>Object.prototype.hasOwnProperty.call(i.features[0],Ct(o).name)).map(o=>({data:Ct(o).name,title:Ct(o).alias||Ct(o).name})),s=i.features.map(o=>{const a=wS({},o);return a.rvInteractive="",a.rvSymbol=e.getIcon(o[e.oidField]),a.rvUid=e.uid,a});return r.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);s.forEach(c=>{c[l]=a})}}),{columns:r,rows:s,fields:e.fields,oidField:e.oidField}}fieldTypeToArcade(e){return JAt.get(e)}}class kV{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(e){this._attribLoader=e}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(e){this._quickCache=e}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class RV{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class UT extends _n{aac;loadPromise;details;tabularAttributesCache;constructor(e,n){super(e),this.aac=new RV,this.details=n}updateFieldList(e){this.details.attribs=e}updateFieldsToTrim(e){this.details.fieldsToTrim=e}getAttribs(){return this.loadPromise||(this.aac=new RV,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class LV extends UT{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class XAt extends UT{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class QAt extends UT{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class PV{attribs;geoms;extents;isPoint;constructor(e){this.attribs={},this.geoms={},this.extents={},this.isPoint=e===Bt.POINT||e===Bt.MULTIPOINT}getScaleStore(e){return this.geoms[e]||(this.geoms[e]={}),this.geoms[e]}getGeomStore(e=void 0){if(this.isPoint)return this.geoms;if(typeof e>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(e)}getAttribs(e){return this.attribs[e]}setAttribs(e,n){this.attribs[e]=n}getGeom(e,n=void 0){return this.getGeomStore(n)[e]}setGeom(e,n,i=void 0){const r=this.getGeomStore(i);r[e]=n}getExtent(e){return this.extents[e]}setExtent(e,n){this.extents[e]=n}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class BT{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(e,n,i=!1){this.innerRenderer=e,this.symbolUnits=[],this.falseRenderer=i,this.type=Q0.Unknown}makeSearchParams(e){return e}searchRenderer(e){const n=this.makeSearchParams(e),i=this.symbolUnits.find(s=>s.match(n));if(i)return i;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${n}`);const r=new V2(this);return r.svgCode="",r}getGraphicIcon(e){return this.searchRenderer(e).svgCode}getGraphicSymbol(e){return this.searchRenderer(e).symbol}getFieldDelimiter(e,n){let i="'";if(!n||n.length===0)return i;const r=n.find(s=>s.name===e);return r&&r.type&&r.type!=="string"&&(i=""),i}cleanFieldName(e,n){if(!e)return e;let i=n.find(r=>r.name===e);if(i)return e;{const r=e.toLowerCase();return i=n.find(s=>s.name.toLowerCase()===r),i?i.name:e}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(e=>e.definitionClause).join(" OR ")}))`}}class V2{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(e){this.parent=e,this.symbol=new Bn}match(e){return!!e}}class KAt extends BT{constructor(e,n){super(e,n),this.type=Q0.Simple;const i=new V2(this);i.label=e.label||"",i.symbol=e.symbol,i.definitionClause="",this.symbolUnits.push(i)}}class tMt extends BT{delim;keyFields;constructor(e,n,i=!1){super(e,n,i),this.type=Q0.Unique,this.delim=e.fieldDelimiter||", ";const r=o=>o.replace(/'/g,"''");this.keyFields=[e.field,e.field2,e.field3].filter(o=>o).map(o=>this.cleanFieldName(o,n));const s=this.keyFields.map(o=>this.getFieldDelimiter(o,n));if(e.uniqueValueInfos.forEach(o=>{const a=new DV(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((p,d)=>l[d]==="<Null>"?`${p} IS NULL`:`${p} = ${s[d]}${r(l[d])}${s[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),e.defaultSymbol){const o=new DV(this,"");o.isDefault=!0,o.label=e.defaultLabel||"",o.symbol=e.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(e){return this.keyFields.map(n=>{let i=e[n]===null?"":e[n];return typeof i!="string"&&(i=i.toString()),i}).join(this.delim)}}class DV extends V2{matchValue;constructor(e,n){super(e),typeof n=="number"?this.matchValue=n.toString():this.matchValue=n}match(e){return this.matchValue===e}}class eMt extends BT{valField;constructor(e,n,i=!1){if(super(e,n,i),this.valField=this.cleanFieldName(e.field,n),e.classBreakInfos.forEach((r,s)=>{const o=s===0,a=new FV(this,r.minValue,r.maxValue,o);a.label=r.label||"",a.symbol=r.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${r.minValue} AND ${this.valField} <= ${r.maxValue})`),this.symbolUnits.push(a)}),e.defaultSymbol){const r=new FV(this,0,0,!1);r.isDefault=!0,r.label=e.defaultLabel||"",r.symbol=e.defaultSymbol,r.definitionClause=this.makeElseClause(),this.defaultUnit=r}}makeSearchParams(e){return parseFloat(e[this.valField])}}class FV extends V2{minValue;maxValue;firstBreak;constructor(e,n,i,r){super(e),this.minValue=n,this.maxValue=i,this.firstBreak=r}match(e){return this.minValue===this.maxValue?this.maxValue===e:this.firstBreak?this.minValue<=e&&this.maxValue>=e:this.minValue<e&&this.maxValue>=e}}var VT={exports:{}},nMt=VT.exports,jV;function iMt(){return jV||(jV=1,function(t,e){(function(n,i){t.exports=n.document?i(n,n.document):function(r){return i(r,r.document)}})(typeof window<"u"?window:nMt,function(n,i){var r=typeof this<"u"?this:n,s=r.SVG=function(u){if(s.supported)return u=new s.Doc(u),s.parser.draw||s.prepare(),u};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.com/svgjs",s.supported=function(){return!!i.createElementNS&&!!i.createElementNS(s.ns,"svg").createSVGRect}(),!s.supported)return!1;s.did=1e3,s.eid=function(u){return"Svgjs"+x(u)+s.did++},s.create=function(u){var m=i.createElementNS(this.ns,u);return m.setAttribute("id",this.eid(u)),m},s.extend=function(){var u,m,S,k;for(u=[].slice.call(arguments),m=u.pop(),k=u.length-1;k>=0;k--)if(u[k])for(S in m)u[k].prototype[S]=m[S];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(u){var m=typeof u.create=="function"?u.create:function(){this.constructor.call(this,s.create(u.create))};return u.inherit&&(m.prototype=new u.inherit),u.extend&&s.extend(m,u.extend),u.construct&&s.extend(u.parent||s.Container,u.construct),m},s.adopt=function(u){if(!u)return null;if(u.instance)return u.instance;var m;return u.nodeName=="svg"?m=u.parentNode instanceof n.SVGElement?new s.Nested:new s.Doc:u.nodeName=="linearGradient"?m=new s.Gradient("linear"):u.nodeName=="radialGradient"?m=new s.Gradient("radial"):s[x(u.nodeName)]?m=new s[x(u.nodeName)]:m=new s.Element(u),m.type=u.nodeName,m.node=u,u.instance=m,m instanceof s.Doc&&m.namespace().defs(),m.setData(JSON.parse(u.getAttribute("svgjs:data"))||{}),m},s.prepare=function(){var u=i.getElementsByTagName("body")[0],m=(u?new s.Doc(u):s.adopt(i.documentElement).nested()).size(2,0);s.parser={body:u||i.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},i.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(u,m){var S,k=u.length,V=[];for(S=0;S<k;S++)V.push(m(u[S]));return V},filter:function(u,m){var S,k=u.length,V=[];for(S=0;S<k;S++)m(u[S])&&V.push(u[S]);return V},radians:function(u){return u%360*Math.PI/180},degrees:function(u){return u*180/Math.PI%360},filterSVGElements:function(u){return this.filter(u,function(m){return m instanceof n.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(u){var m;this.r=0,this.g=0,this.b=0,u&&(typeof u=="string"?s.regex.isRgb.test(u)?(m=s.regex.rgb.exec(u.replace(s.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):s.regex.isHex.test(u)&&(m=s.regex.hex.exec(A(u)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof u=="object"&&(this.r=u.r,this.g=u.g,this.b=u.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+M(this.r)+M(this.g)+M(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(u){return this.destination=new s.Color(u),this},at:function(u){return this.destination?(u=u<0?0:u>1?1:u,new s.Color({r:~~(this.r+(this.destination.r-this.r)*u),g:~~(this.g+(this.destination.g-this.g)*u),b:~~(this.b+(this.destination.b-this.b)*u)})):this}}),s.Color.test=function(u){return u+="",s.regex.isHex.test(u)||s.regex.isRgb.test(u)},s.Color.isRgb=function(u){return u&&typeof u.r=="number"&&typeof u.g=="number"&&typeof u.b=="number"},s.Color.isColor=function(u){return s.Color.isRgb(u)||s.Color.test(u)},s.Array=function(u,m){u=(u||[]).valueOf(),u.length==0&&m&&(u=m.valueOf()),this.value=this.parse(u)},s.extend(s.Array,{morph:function(u){if(this.destination=this.parse(u),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],S=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(S);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var u=0,m=this.value.length,S=[];u<m;u++)S.indexOf(this.value[u])==-1&&S.push(this.value[u]);return this.value=S},at:function(u){if(!this.destination)return this;for(var m=0,S=this.value.length,k=[];m<S;m++)k.push(this.value[m]+(this.destination[m]-this.value[m])*u);return new s.Array(k)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(u){return u=u.valueOf(),Array.isArray(u)?u:this.split(u)},split:function(u){return u.trim().split(s.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var u=new this.constructor;return u.value=f(this.value),u}}),s.PointArray=function(u,m){s.Array.call(this,u,m||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray,s.extend(s.PointArray,{toString:function(){for(var u=0,m=this.value.length,S=[];u<m;u++)S.push(this.value[u].join(","));return S.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(u){if(!this.destination)return this;for(var m=0,S=this.value.length,k=[];m<S;m++)k.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*u,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*u]);return new s.PointArray(k)},parse:function(u){var m=[];if(u=u.valueOf(),Array.isArray(u)){if(Array.isArray(u[0]))return u.map(function(V){return V.slice()});if(u[0].x!=null)return u.map(function(V){return[V.x,V.y]})}else u=u.trim().split(s.regex.delimiter).map(parseFloat);u.length%2!==0&&u.pop();for(var S=0,k=u.length;S<k;S=S+2)m.push([u[S],u[S+1]]);return m},move:function(u,m){var S=this.bbox();if(u-=S.x,m-=S.y,!isNaN(u)&&!isNaN(m))for(var k=this.value.length-1;k>=0;k--)this.value[k]=[this.value[k][0]+u,this.value[k][1]+m];return this},size:function(u,m){var S,k=this.bbox();for(S=this.value.length-1;S>=0;S--)k.width&&(this.value[S][0]=(this.value[S][0]-k.x)*u/k.width+k.x),k.height&&(this.value[S][1]=(this.value[S][1]-k.y)*m/k.height+k.y);return this},bbox:function(){return s.parser.poly.setAttribute("points",this.toString()),s.parser.poly.getBBox()}});for(var o={M:function(u,m,S){return m.x=S.x=u[0],m.y=S.y=u[1],["M",m.x,m.y]},L:function(u,m){return m.x=u[0],m.y=u[1],["L",u[0],u[1]]},H:function(u,m){return m.x=u[0],["H",u[0]]},V:function(u,m){return m.y=u[0],["V",u[0]]},C:function(u,m){return m.x=u[4],m.y=u[5],["C",u[0],u[1],u[2],u[3],u[4],u[5]]},S:function(u,m){return m.x=u[2],m.y=u[3],["S",u[0],u[1],u[2],u[3]]},Q:function(u,m){return m.x=u[2],m.y=u[3],["Q",u[0],u[1],u[2],u[3]]},T:function(u,m){return m.x=u[0],m.y=u[1],["T",u[0],u[1]]},Z:function(u,m,S){return m.x=S.x,m.y=S.y,["Z"]},A:function(u,m){return m.x=u[5],m.y=u[6],["A",u[0],u[1],u[2],u[3],u[4],u[5],u[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(u){return function(m,S,k){if(u=="H")m[0]=m[0]+S.x;else if(u=="V")m[0]=m[0]+S.y;else if(u=="A")m[5]=m[5]+S.x,m[6]=m[6]+S.y;else for(var V=0,J=m.length;V<J;++V)m[V]=m[V]+(V%2?S.y:S.x);return o[u](m,S,k)}}(a[l].toUpperCase());s.PathArray=function(u,m){s.Array.call(this,u,m||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return C(this.value)},move:function(u,m){var S=this.bbox();if(u-=S.x,m-=S.y,!isNaN(u)&&!isNaN(m))for(var k,V=this.value.length-1;V>=0;V--)k=this.value[V][0],k=="M"||k=="L"||k=="T"?(this.value[V][1]+=u,this.value[V][2]+=m):k=="H"?this.value[V][1]+=u:k=="V"?this.value[V][1]+=m:k=="C"||k=="S"||k=="Q"?(this.value[V][1]+=u,this.value[V][2]+=m,this.value[V][3]+=u,this.value[V][4]+=m,k=="C"&&(this.value[V][5]+=u,this.value[V][6]+=m)):k=="A"&&(this.value[V][6]+=u,this.value[V][7]+=m);return this},size:function(u,m){var S,k,V=this.bbox();for(S=this.value.length-1;S>=0;S--)k=this.value[S][0],k=="M"||k=="L"||k=="T"?(this.value[S][1]=(this.value[S][1]-V.x)*u/V.width+V.x,this.value[S][2]=(this.value[S][2]-V.y)*m/V.height+V.y):k=="H"?this.value[S][1]=(this.value[S][1]-V.x)*u/V.width+V.x:k=="V"?this.value[S][1]=(this.value[S][1]-V.y)*m/V.height+V.y:k=="C"||k=="S"||k=="Q"?(this.value[S][1]=(this.value[S][1]-V.x)*u/V.width+V.x,this.value[S][2]=(this.value[S][2]-V.y)*m/V.height+V.y,this.value[S][3]=(this.value[S][3]-V.x)*u/V.width+V.x,this.value[S][4]=(this.value[S][4]-V.y)*m/V.height+V.y,k=="C"&&(this.value[S][5]=(this.value[S][5]-V.x)*u/V.width+V.x,this.value[S][6]=(this.value[S][6]-V.y)*m/V.height+V.y)):k=="A"&&(this.value[S][1]=this.value[S][1]*u/V.width,this.value[S][2]=this.value[S][2]*m/V.height,this.value[S][6]=(this.value[S][6]-V.x)*u/V.width+V.x,this.value[S][7]=(this.value[S][7]-V.y)*m/V.height+V.y);return this},equalCommands:function(u){var m,S,k;for(u=new s.PathArray(u),k=this.value.length===u.value.length,m=0,S=this.value.length;k&&m<S;m++)k=this.value[m][0]===u.value[m][0];return k},morph:function(u){return u=new s.PathArray(u),this.equalCommands(u)?this.destination=u:this.destination=null,this},at:function(u){if(!this.destination)return this;var m=this.value,S=this.destination.value,k=[],V=new s.PathArray,J,pt,ot,It;for(J=0,pt=m.length;J<pt;J++){for(k[J]=[m[J][0]],ot=1,It=m[J].length;ot<It;ot++)k[J][ot]=m[J][ot]+(S[J][ot]-m[J][ot])*u;k[J][0]==="A"&&(k[J][4]=+(k[J][4]!=0),k[J][5]=+(k[J][5]!=0))}return V.value=k,V},parse:function(u){if(u instanceof s.PathArray)return u.valueOf();var m,k,S={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof u=="string"?u=u.replace(s.regex.numbersWithDots,d).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):u=u.reduce(function(It,Lt){return[].concat.call(It,Lt)},[]);var k=[],V=new s.Point,J=new s.Point,pt=0,ot=u.length;do s.regex.isPathLetter.test(u[pt])?(m=u[pt],++pt):m=="M"?m="L":m=="m"&&(m="l"),k.push(o[m].call(null,u.slice(pt,pt=pt+S[m.toUpperCase()]).map(parseFloat),V,J));while(ot>pt);return k},bbox:function(){return s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(u,m){this.value=0,this.unit=m||"",typeof u=="number"?this.value=isNaN(u)?0:isFinite(u)?u:u<0?-34e37:34e37:typeof u=="string"?(m=u.match(s.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):u instanceof s.Number&&(this.value=u.valueOf(),this.unit=u.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(u){return u=new s.Number(u),new s.Number(this+u,this.unit||u.unit)},minus:function(u){return u=new s.Number(u),new s.Number(this-u,this.unit||u.unit)},times:function(u){return u=new s.Number(u),new s.Number(this*u,this.unit||u.unit)},divide:function(u){return u=new s.Number(u),new s.Number(this/u,this.unit||u.unit)},to:function(u){var m=new s.Number(this);return typeof u=="string"&&(m.unit=u),m},morph:function(u){return this.destination=new s.Number(u),u.relative&&(this.destination.value+=this.value),this},at:function(u){return this.destination?new s.Number(this.destination).minus(this).times(u).plus(this):this}}}),s.Element=s.invent({create:function(u){this._stroke=s.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=u)&&(this.type=u.nodeName,this.node.instance=this,this._events=u._events||{},this._stroke=u.getAttribute("stroke")||this._stroke)},extend:{x:function(u){return this.attr("x",u)},y:function(u){return this.attr("y",u)},cx:function(u){return u==null?this.x()+this.width()/2:this.x(u-this.width()/2)},cy:function(u){return u==null?this.y()+this.height()/2:this.y(u-this.height()/2)},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},width:function(u){return this.attr("width",u)},height:function(u){return this.attr("height",u)},size:function(u,m){var S=_(this,u,m);return this.width(new s.Number(S.width)).height(new s.Number(S.height))},clone:function(u){this.writeDataToDom();var m=R(this.node.cloneNode(!0));return u?u.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(u){return this.after(u).remove(),u},addTo:function(u){return u.put(this)},putIn:function(u){return u.add(this)},id:function(u){return this.attr("id",u)},inside:function(u,m){var S=this.bbox();return u>S.x&&m>S.y&&u<S.x+S.width&&m<S.y+S.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var u=this.attr("class");return u==null?[]:u.trim().split(s.regex.delimiter)},hasClass:function(u){return this.classes().indexOf(u)!=-1},addClass:function(u){if(!this.hasClass(u)){var m=this.classes();m.push(u),this.attr("class",m.join(" "))}return this},removeClass:function(u){return this.hasClass(u)&&this.attr("class",this.classes().filter(function(m){return m!=u}).join(" ")),this},toggleClass:function(u){return this.hasClass(u)?this.removeClass(u):this.addClass(u)},reference:function(u){return s.get(this.attr(u))},parent:function(u){var m=this;if(!m.node.parentNode)return null;if(m=s.adopt(m.node.parentNode),!u)return m;for(;m&&m.node instanceof n.SVGElement;){if(typeof u=="string"?m.matches(u):m instanceof u)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=s.adopt(m.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(u){var m=[],S=this;do{if(S=S.parent(u),!S||!S.node)break;m.push(S)}while(S.parent);return m},matches:function(u){return g(this.node,u)},native:function(){return this.node},svg:function(u){var m=i.createElement("svg");if(u&&this instanceof s.Parent){m.innerHTML="<svg>"+u.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var S=0,k=m.firstChild.childNodes.length;S<k;S++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(u=i.createElement("svg")),this.writeDataToDom(),u.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var u=this.each?this:this.lines();u.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(u){return this.dom=u,this},is:function(u){return y(this,u)}}}),s.easing={"-":function(u){return u},"<>":function(u){return-Math.cos(u*Math.PI)/2+.5},">":function(u){return Math.sin(u*Math.PI/2)},"<":function(u){return-Math.cos(u*Math.PI/2)+1}},s.morph=function(u){return function(m,S){return new s.MorphObj(m,S).at(u)}},s.Situation=s.invent({create:function(u){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(u.duration).valueOf(),this.delay=new s.Number(u.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=u.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(u){this._target=u,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(u,m,S){typeof u=="object"&&(m=u.ease,S=u.delay,u=u.duration);var k=new s.Situation({duration:u||1e3,delay:S||0,ease:s.easing[m||"-"]||m});return this.queue(k),this},delay:function(u){var m=new s.Situation({duration:u,delay:0,ease:s.easing["-"]});return this.queue(m)},target:function(u){return u&&u instanceof s.Element?(this._target=u,this):this._target},timeToAbsPos:function(u){return(u-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(u){return this.situation.duration/this._speed*u+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=n.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){n.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(u){return(typeof u=="function"||u instanceof s.Situation)&&this.situations.push(u),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var u,m,S,k=this.situation;if(k.init)return this;for(u in k.animations)for(S=this.target()[u](),Array.isArray(S)||(S=[S]),Array.isArray(k.animations[u])||(k.animations[u]=[k.animations[u]]),m=S.length;m--;)k.animations[u][m]instanceof s.Number&&(S[m]=new s.Number(S[m])),k.animations[u][m]=S[m].morph(k.animations[u][m]);for(u in k.attrs)k.attrs[u]=new s.MorphObj(this.target().attr(u),k.attrs[u]);for(u in k.styles)k.styles[u]=new s.MorphObj(this.target().style(u),k.styles[u]);return k.initialTransformation=this.target().matrixify(),k.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(u,m){var S=this.active;return this.active=!1,m&&this.clearQueue(),u&&this.situation&&(!S&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var u=this.situation;this.stop(),this.situation=u,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(u,m){var S=this.situation.duration/this._speed;return this.absPos=u,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*S,this.situation.finish=this.situation.start+S,this.step(!0)},speed:function(u){return u===0?this.pause():u?(this._speed=u,this.at(this.absPos,!0)):this._speed},loop:function(u,m){var S=this.last();return S.loops=u??!0,S.loop=0,m&&(S.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(u){var m=this.last();return typeof u>"u"?m.reversed=!m.reversed:m.reversed=u,this},progress:function(u){return u?this.situation.ease(this.pos):this.pos},after:function(u){var m=this.last(),S=function k(V){V.detail.situation==m&&(u.call(this,m),this.off("finished.fx",k))};return this.target().on("finished.fx",S),this._callStart()},during:function(u){var m=this.last(),S=function(k){k.detail.situation==m&&u.call(this,k.detail.pos,s.morph(k.detail.pos),k.detail.eased,m)};return this.target().off("during.fx",S).on("during.fx",S),this.after(function(){this.off("during.fx",S)}),this._callStart()},afterAll:function(u){var m=function S(k){u.call(this),this.off("allfinished.fx",S)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(u){var m=function(S){u.call(this,S.detail.pos,s.morph(S.detail.pos),S.detail.eased,S.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(u,m,S){return this.last()[S||"animations"][u]=m,this._callStart()},step:function(u){if(u||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,S,k;m=Math.max(this.absPos,0),S=Math.floor(m),this.situation.loops===!0||S<this.situation.loops?(this.pos=m-S,k=this.situation.loop,this.situation.loop=S):(this.absPos=this.situation.loops,this.pos=1,k=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-k)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var V=this.situation.ease(this.pos);for(var J in this.situation.once)J>this.lastPos&&J<=V&&(this.situation.once[J].call(this.target(),this.pos,V),delete this.situation.once[J]);return this.active&&this.target().fire("during",{pos:this.pos,eased:V,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=V,this):this},eachAt:function(){var u,m,S,k=this,V=this.target(),J=this.situation;for(u in J.animations)S=[].concat(J.animations[u]).map(function(ot){return typeof ot!="string"&&ot.at?ot.at(J.ease(k.pos),k.pos):ot}),V[u].apply(V,S);for(u in J.attrs)S=[u].concat(J.attrs[u]).map(function(ot){return typeof ot!="string"&&ot.at?ot.at(J.ease(k.pos),k.pos):ot}),V.attr.apply(V,S);for(u in J.styles)S=[u].concat(J.styles[u]).map(function(ot){return typeof ot!="string"&&ot.at?ot.at(J.ease(k.pos),k.pos):ot}),V.style.apply(V,S);if(J.transforms.length){for(S=J.initialTransformation,u=0,m=J.transforms.length;u<m;u++){var pt=J.transforms[u];if(pt instanceof s.Matrix){pt.relative?S=S.multiply(new s.Matrix().morph(pt).at(J.ease(this.pos))):S=S.morph(pt).at(J.ease(this.pos));continue}pt.relative||pt.undo(S.extract()),S=S.multiply(pt.at(J.ease(this.pos)))}V.matrix(S)}return this},once:function(u,m,S){var k=this.last();return S||(u=k.ease(u)),k.once[u]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:s.Element,construct:{animate:function(u,m,S){return(this.fx||(this.fx=new s.FX(this))).animate(u,m,S)},delay:function(u){return(this.fx||(this.fx=new s.FX(this))).delay(u)},stop:function(u,m){return this.fx&&this.fx.stop(u,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(u){if(this.fx){if(u==null)return this.fx.speed();this.fx.speed(u)}return this}}}),s.MorphObj=s.invent({create:function(u,m){if(s.Color.isColor(m))return new s.Color(u).morph(m);if(s.regex.delimiter.test(u))return s.regex.pathLetters.test(u)?new s.PathArray(u).morph(m):new s.Array(u).morph(m);if(s.regex.numberAndUnit.test(m))return new s.Number(u).morph(m);this.value=u,this.destination=m},extend:{at:function(u,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(u,m,S){if(typeof u=="object")for(var k in u)this.attr(k,u[k]);else this.add(u,m,"attrs");return this},style:function(u,m){if(typeof u=="object")for(var S in u)this.style(S,u[S]);else this.add(u,m,"styles");return this},x:function(u,m){if(this.target()instanceof s.G)return this.transform({x:u},m),this;var S=new s.Number(u);return S.relative=m,this.add("x",S)},y:function(u,m){if(this.target()instanceof s.G)return this.transform({y:u},m),this;var S=new s.Number(u);return S.relative=m,this.add("y",S)},cx:function(u){return this.add("cx",new s.Number(u))},cy:function(u){return this.add("cy",new s.Number(u))},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},size:function(u,m){if(this.target()instanceof s.Text)this.attr("font-size",u);else{var S;(!u||!m)&&(S=this.target().bbox()),u||(u=S.width/S.height*m),m||(m=S.height/S.width*u),this.add("width",new s.Number(u)).add("height",new s.Number(m))}return this},width:function(u){return this.add("width",new s.Number(u))},height:function(u){return this.add("height",new s.Number(u))},plot:function(u,m,S,k){return arguments.length==4?this.plot([u,m,S,k]):this.add("plot",new(this.target()).morphArray(u))},leading:function(u){return this.target().leading?this.add("leading",new s.Number(u)):this},viewbox:function(u,m,S,k){return this.target()instanceof s.Container&&this.add("viewbox",new s.ViewBox(u,m,S,k)),this},update:function(u){if(this.target()instanceof s.Stop){if(typeof u=="number"||u instanceof s.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",u.offset)}return this}}),s.Box=s.invent({create:function(u,m,S,k){if(typeof u=="object"&&!(u instanceof s.Element))return s.Box.call(this,u.left!=null?u.left:u.x,u.top!=null?u.top:u.y,u.width,u.height);arguments.length==4&&(this.x=u,this.y=m,this.width=S,this.height=k),D(this)},extend:{merge:function(u){var m=new this.constructor;return m.x=Math.min(this.x,u.x),m.y=Math.min(this.y,u.y),m.width=Math.max(this.x+this.width,u.x+u.width)-m.x,m.height=Math.max(this.y+this.height,u.y+u.height)-m.y,D(m)},transform:function(u){var m=1/0,S=-1/0,k=1/0,V=-1/0,J,pt=[new s.Point(this.x,this.y),new s.Point(this.x2,this.y),new s.Point(this.x,this.y2),new s.Point(this.x2,this.y2)];return pt.forEach(function(ot){ot=ot.transform(u),m=Math.min(m,ot.x),S=Math.max(S,ot.x),k=Math.min(k,ot.y),V=Math.max(V,ot.y)}),J=new this.constructor,J.x=m,J.width=S-m,J.y=k,J.height=V-k,D(J),J}}}),s.BBox=s.invent({create:function(u){if(s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element){var m;try{if(i.documentElement.contains){if(!i.documentElement.contains(u.node))throw new Exception("Element not in the dom")}else{for(var S=u.node;S.parentNode;)S=S.parentNode;if(S!=i)throw new Exception("Element not in the dom")}m=u.node.getBBox()}catch{if(u instanceof s.Shape){var k=u.clone(s.parser.draw.instance).show();m=k.node.getBBox(),k.remove()}else m={x:u.node.clientLeft,y:u.node.clientTop,width:u.node.clientWidth,height:u.node.clientHeight}}s.Box.call(this,m)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.extend(s.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),s.RBox=s.invent({create:function(u){s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element&&s.Box.call(this,u.node.getBoundingClientRect())},inherit:s.Box,parent:s.Element,extend:{addOffset:function(){return this.x+=n.pageXOffset,this.y+=n.pageYOffset,this}},construct:{rbox:function(u){return u?new s.RBox(this).transform(u.screenCTM().inverse()):new s.RBox(this).addOffset()}}}),s.RBox.prototype.constructor=s.RBox,s.Matrix=s.invent({create:function(u){var m,S=T([1,0,0,1,0,0]);for(u=u instanceof s.Element?u.matrixify():typeof u=="string"?T(u.split(s.regex.delimiter).map(parseFloat)):arguments.length==6?T([].slice.call(arguments)):Array.isArray(u)?T(u):typeof u=="object"?u:S,m=$.length-1;m>=0;--m)this[$[m]]=u[$[m]]!=null?u[$[m]]:S[$[m]]},extend:{extract:function(){var u=w(this,0,1),m=w(this,1,0),S=180/Math.PI*Math.atan2(u.y,u.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(S*Math.PI/180)+this.f*Math.sin(S*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(S*Math.PI/180)+this.e*Math.sin(-S*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-S,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:S,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(u){return this.destination=new s.Matrix(u),this},at:function(u){if(!this.destination)return this;var m=new s.Matrix({a:this.a+(this.destination.a-this.a)*u,b:this.b+(this.destination.b-this.b)*u,c:this.c+(this.destination.c-this.c)*u,d:this.d+(this.destination.d-this.d)*u,e:this.e+(this.destination.e-this.e)*u,f:this.f+(this.destination.f-this.f)*u});return m},multiply:function(u){return new s.Matrix(this.native().multiply(I(u).native()))},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(u,m){return new s.Matrix(this.native().translate(u||0,m||0))},scale:function(u,m,S,k){return arguments.length==1?m=u:arguments.length==3&&(k=S,S=m,m=u),this.around(S,k,new s.Matrix(u,0,0,m,0,0))},rotate:function(u,m,S){return u=s.utils.radians(u),this.around(m,S,new s.Matrix(Math.cos(u),Math.sin(u),-Math.sin(u),Math.cos(u),0,0))},flip:function(u,m){return u=="x"?this.scale(-1,1,m,0):u=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,u,m??u)},skew:function(u,m,S,k){return arguments.length==1?m=u:arguments.length==3&&(k=S,S=m,m=u),u=s.utils.radians(u),m=s.utils.radians(m),this.around(S,k,new s.Matrix(1,Math.tan(m),Math.tan(u),1,0,0))},skewX:function(u,m,S){return this.skew(u,0,m,S)},skewY:function(u,m,S){return this.skew(0,u,m,S)},around:function(u,m,S){return this.multiply(new s.Matrix(1,0,0,1,u||0,m||0)).multiply(S).multiply(new s.Matrix(1,0,0,1,-u||0,-m||0))},native:function(){for(var u=s.parser.native.createSVGMatrix(),m=$.length-1;m>=0;m--)u[$[m]]=this[$[m]];return u},toString:function(){return"matrix("+j(this.a)+","+j(this.b)+","+j(this.c)+","+j(this.d)+","+j(this.e)+","+j(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var u=this.rect(1,1),m=u.node.getScreenCTM();return u.remove(),new s.Matrix(m)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(u,m){var S,k={x:0,y:0};S=Array.isArray(u)?{x:u[0],y:u[1]}:typeof u=="object"?{x:u.x,y:u.y}:u!=null?{x:u,y:m??u}:k,this.x=S.x,this.y=S.y},extend:{clone:function(){return new s.Point(this)},morph:function(u,m){return this.destination=new s.Point(u,m),this},at:function(u){if(!this.destination)return this;var m=new s.Point({x:this.x+(this.destination.x-this.x)*u,y:this.y+(this.destination.y-this.y)*u});return m},native:function(){var u=s.parser.native.createSVGPoint();return u.x=this.x,u.y=this.y,u},transform:function(u){return new s.Point(this.native().matrixTransform(u.native()))}}}),s.extend(s.Element,{point:function(u,m){return new s.Point(u,m).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(u,m,S){if(u==null){for(u={},m=this.node.attributes,S=m.length-1;S>=0;S--)u[m[S].nodeName]=s.regex.isNumber.test(m[S].nodeValue)?parseFloat(m[S].nodeValue):m[S].nodeValue;return u}else if(typeof u=="object")for(m in u)this.attr(m,u[m]);else if(m===null)this.node.removeAttribute(u);else{if(m==null)return m=this.node.getAttribute(u),m==null?s.defaults.attrs[u]:s.regex.isNumber.test(m)?parseFloat(m):m;u=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):u=="stroke"&&(this._stroke=m),(u=="fill"||u=="stroke")&&(s.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof s.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new s.Number(m):s.Color.isColor(m)?m=new s.Color(m):Array.isArray(m)&&(m=new s.Array(m)),u=="leading"?this.leading&&this.leading(m):typeof S=="string"?this.node.setAttributeNS(S,u,m.toString()):this.node.setAttribute(u,m.toString()),this.rebuild&&(u=="font-size"||u=="x")&&this.rebuild(u,m)}return this}}),s.extend(s.Element,{transform:function(u,m){var S=this,k,V;if(typeof u!="object")return k=new s.Matrix(S).extract(),typeof u=="string"?k[u]:k;if(k=new s.Matrix(S),m=!!m||!!u.relative,u.a!=null)k=m?k.multiply(new s.Matrix(u)):new s.Matrix(u);else if(u.rotation!=null)O(u,S),k=m?k.rotate(u.rotation,u.cx,u.cy):k.rotate(u.rotation-k.extract().rotation,u.cx,u.cy);else if(u.scale!=null||u.scaleX!=null||u.scaleY!=null){if(O(u,S),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,!m){var J=k.extract();u.scaleX=u.scaleX*1/J.scaleX,u.scaleY=u.scaleY*1/J.scaleY}k=k.scale(u.scaleX,u.scaleY,u.cx,u.cy)}else if(u.skew!=null||u.skewX!=null||u.skewY!=null){if(O(u,S),u.skewX=u.skew!=null?u.skew:u.skewX!=null?u.skewX:0,u.skewY=u.skew!=null?u.skew:u.skewY!=null?u.skewY:0,!m){var J=k.extract();k=k.multiply(new s.Matrix().skew(J.skewX,J.skewY,u.cx,u.cy).inverse())}k=k.skew(u.skewX,u.skewY,u.cx,u.cy)}else u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?S.bbox()["c"+u.flip]:u.offset:u.offset==null?(V=S.bbox(),u.flip=V.cx,u.offset=V.cy):u.flip=u.offset,k=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(m?k=k.translate(u.x,u.y):(u.x!=null&&(k.e=u.x),u.y!=null&&(k.f=u.y)));return this.attr("transform",k)}}),s.extend(s.FX,{transform:function(u,m){var S=this.target(),k,V;return typeof u!="object"?(k=new s.Matrix(S).extract(),typeof u=="string"?k[u]:k):(m=!!m||!!u.relative,u.a!=null?k=new s.Matrix(u):u.rotation!=null?(O(u,S),k=new s.Rotate(u.rotation,u.cx,u.cy)):u.scale!=null||u.scaleX!=null||u.scaleY!=null?(O(u,S),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,k=new s.Scale(u.scaleX,u.scaleY,u.cx,u.cy)):u.skewX!=null||u.skewY!=null?(O(u,S),u.skewX=u.skewX!=null?u.skewX:0,u.skewY=u.skewY!=null?u.skewY:0,k=new s.Skew(u.skewX,u.skewY,u.cx,u.cy)):u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?S.bbox()["c"+u.flip]:u.offset:u.offset==null?(V=S.bbox(),u.flip=V.cx,u.offset=V.cy):u.flip=u.offset,k=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(k=new s.Translate(u.x,u.y)),k?(k.relative=m,this.last().transforms.push(k),this._callStart()):this)}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var u=(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(m){var S=m.trim().split("(");return[S[0],S[1].split(s.regex.delimiter).map(function(k){return parseFloat(k)})]}).reduce(function(m,S){return S[0]=="matrix"?m.multiply(T(S[1])):m[S[0]].apply(m,S[1])},new s.Matrix);return u},toParent:function(u){if(this==u)return this;var m=this.screenCTM(),S=u.screenCTM().inverse();return this.addTo(u).untransform().transform(S.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(u,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(u))for(var S=0,k=this.arguments.length;S<k;++S)this[this.arguments[S]]=u[S];else if(typeof u=="object")for(var S=0,k=this.arguments.length;S<k;++S)this[this.arguments[S]]=u[this.arguments[S]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(u){for(var m=[],S=0,k=this.arguments.length;S<k;++S)m.push(this[this.arguments[S]]);var V=this._undo||new s.Matrix;return V=new s.Matrix().morph(s.Matrix.prototype[this.method].apply(V,m)).at(u),this.inversed?V.inverse():V},undo:function(u){for(var m=0,S=this.arguments.length;m<S;++m)u[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:u[this.arguments[m]];return u.cx=this.cx,u.cy=this.cy,this._undo=new s[x(this.method)](u,!0).at(1),this}}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.Rotate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(u){var m=new s.Matrix().rotate(new s.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(u),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(u){return this._undo=u,this}}}),s.Scale=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),s.Skew=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),s.extend(s.Element,{style:function(u,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof u=="object")for(m in u)this.style(m,u[m]);else if(s.regex.isCss.test(u))for(u=u.split(/\s*;\s*/).filter(function(S){return!!S}).map(function(S){return S.split(/\s*:\s*/)});m=u.pop();)this.style(m[0],m[1]);else return this.node.style[b(u)];else this.node.style[b(u)]=m===null||s.regex.isBlank.test(m)?"":m;return this}}),s.Parent=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(u){return s.adopt(u)})},add:function(u,m){return m==null?this.node.appendChild(u.node):u.node!=this.node.childNodes[m]&&this.node.insertBefore(u.node,this.node.childNodes[m]),this},put:function(u,m){return this.add(u,m),u},has:function(u){return this.index(u)>=0},index:function(u){return[].slice.call(this.node.childNodes).indexOf(u.node)},get:function(u){return s.adopt(this.node.childNodes[u])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(u,m){var S,k,V=this.children();for(S=0,k=V.length;S<k;S++)V[S]instanceof s.Element&&u.apply(V[S],[S,V]),m&&V[S]instanceof s.Container&&V[S].each(u,m);return this},removeElement:function(u){return this.node.removeChild(u.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(u,m){return m===0||this instanceof s.Defs||this.node==s.parser.draw?this:(u=u||(this instanceof s.Doc?this:this.parent(s.Parent)),m=m||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(u,m-1):this.toParent(u)}),this.node.firstChild||this.remove(),this)},flatten:function(u,m){return this.ungroup(u,m)}}),s.Container=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Parent}),s.ViewBox=s.invent({create:function(u){var m=[0,0,0,0],S,k,V,J,pt,ot,It,Lt=1,Ut=1,xe=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(u instanceof s.Element){for(ot=u,It=u,pt=(u.attr("viewBox")||"").match(xe),u.bbox,V=new s.Number(u.width()),J=new s.Number(u.height());V.unit=="%";)Lt*=V.value,V=new s.Number(ot instanceof s.Doc?ot.parent().offsetWidth:ot.parent().width()),ot=ot.parent();for(;J.unit=="%";)Ut*=J.value,J=new s.Number(It instanceof s.Doc?It.parent().offsetHeight:It.parent().height()),It=It.parent();this.x=0,this.y=0,this.width=V*Lt,this.height=J*Ut,this.zoom=1,pt&&(S=parseFloat(pt[0]),k=parseFloat(pt[1]),V=parseFloat(pt[2]),J=parseFloat(pt[3]),this.zoom=this.width/this.height>V/J?this.height/J:this.width/V,this.x=S,this.y=k,this.width=V,this.height=J)}else u=typeof u=="string"?u.match(xe).map(function(Pe){return parseFloat(Pe)}):Array.isArray(u)?u:typeof u=="object"?[u.x,u.y,u.width,u.height]:arguments.length==4?[].slice.call(arguments):m,this.x=u[0],this.y=u[1],this.width=u[2],this.height=u[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(u,m,S,k){return this.destination=new s.ViewBox(u,m,S,k),this},at:function(u){return this.destination?new s.ViewBox([this.x+(this.destination.x-this.x)*u,this.y+(this.destination.y-this.y)*u,this.width+(this.destination.width-this.width)*u,this.height+(this.destination.height-this.height)*u]):this}},parent:s.Container,construct:{viewbox:function(u,m,S,k){return arguments.length==0?new s.ViewBox(this):this.attr("viewBox",new s.ViewBox(u,m,S,k))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(u){s.Element.prototype[u]=function(m){return m==null?s.off(this,u):s.on(this,u,m),this}}),s.listenerId=0,s.on=function(u,m,S,k,V){var J=S.bind(k||u),pt=u instanceof s.Element?u.node:u;pt.instance=pt.instance||{_events:{}};var ot=pt.instance._events;S._svgjsListenerId||(S._svgjsListenerId=++s.listenerId),m.split(s.regex.delimiter).forEach(function(It){var Lt=It.split(".")[0],Ut=It.split(".")[1]||"*";ot[Lt]=ot[Lt]||{},ot[Lt][Ut]=ot[Lt][Ut]||{},ot[Lt][Ut][S._svgjsListenerId]=J,pt.addEventListener(Lt,J,V||!1)})},s.off=function(u,m,S,k){var V=u instanceof s.Element?u.node:u;if(V.instance&&!(typeof S=="function"&&(S=S._svgjsListenerId,!S))){var J=V.instance._events;(m||"").split(s.regex.delimiter).forEach(function(pt){var ot=pt&&pt.split(".")[0],It=pt&&pt.split(".")[1],Lt,Ut;if(S)J[ot]&&J[ot][It||"*"]&&(V.removeEventListener(ot,J[ot][It||"*"][S],k||!1),delete J[ot][It||"*"][S]);else if(ot&&It){if(J[ot]&&J[ot][It]){for(Ut in J[ot][It])s.off(V,[ot,It].join("."),Ut);delete J[ot][It]}}else if(It)for(pt in J)for(Lt in J[pt])It===Lt&&s.off(V,[pt,It].join("."));else if(ot){if(J[ot]){for(Lt in J[ot])s.off(V,[ot,Lt].join("."));delete J[ot]}}else{for(pt in J)s.off(V,pt);V.instance._events={}}})}},s.extend(s.Element,{on:function(u,m,S,k){return s.on(this,u,m,S,k),this},off:function(u,m){return s.off(this.node,u,m),this},fire:function(u,m){return u instanceof n.Event?this.node.dispatchEvent(u):this.node.dispatchEvent(u=new s.CustomEvent(u,{detail:m,cancelable:!0})),this._event=u,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(u){return u==null?this.transform("x"):this.transform({x:u-this.x()},!0)},y:function(u){return u==null?this.transform("y"):this.transform({y:u-this.y()},!0)},cx:function(u){return u==null?this.gbox().cx:this.x(u-this.gbox().width/2)},cy:function(u){return u==null?this.gbox().cy:this.y(u-this.gbox().height/2)},gbox:function(){var u=this.bbox(),m=this.transform();return u.x+=m.x,u.x2+=m.x,u.cx+=m.x,u.y+=m.y,u.y2+=m.y,u.cy+=m.y,u}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(u){u&&(u=typeof u=="string"?i.getElementById(u):u,u.nodeName=="svg"?this.constructor.call(this,u):(this.constructor.call(this,s.create("svg")),u.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){if(!this._defs){var u;(u=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(u):this._defs=new s.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var u=this.node.getScreenCTM();return u&&this.style("left",-u.e%1+"px").style("top",-u.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw.parentNode||this.node.appendChild(s.parser.draw),this},clone:function(u){this.writeDataToDom();var m=this.node,S=R(m.cloneNode(!0));return u?(u.node||u).appendChild(S.node):m.parentNode.insertBefore(S.node,m.nextSibling),S}}}),s.extend(s.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var u=this.position()+1,m=this.parent();return m.removeElement(this).add(this,u),m instanceof s.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var u=this.position();return u>0&&this.parent().removeElement(this).add(this,u-1),this},front:function(){var u=this.parent();return u.node.appendChild(this.node),u instanceof s.Doc&&u.node.appendChild(u.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(u){u.remove();var m=this.position();return this.parent().add(u,m),this},after:function(u){u.remove();var m=this.position();return this.parent().add(u,m+1),this}}),s.Mask=s.invent({create:function(){this.constructor.call(this,s.create("mask")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unmask();return this.targets=[],s.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new s.Mask)}}}),s.extend(s.Element,{maskWith:function(u){return this.masker=u instanceof s.Mask?u:this.parent().mask().add(u),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),s.ClipPath=s.invent({create:function(){this.constructor.call(this,s.create("clipPath")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new s.ClipPath)}}}),s.extend(s.Element,{clipWith:function(u){return this.clipper=u instanceof s.ClipPath?u:this.parent().clip().add(u),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),s.Gradient=s.invent({create:function(u){this.constructor.call(this,s.create(u+"Gradient")),this.type=u},inherit:s.Container,extend:{at:function(u,m,S){return this.put(new s.Stop).update(u,m,S)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(u,m,S){return u=="transform"&&(u="gradientTransform"),s.Container.prototype.attr.call(this,u,m,S)}},construct:{gradient:function(u,m){return this.defs().gradient(u,m)}}}),s.extend(s.Gradient,s.FX,{from:function(u,m){return(this._target||this).type=="radial"?this.attr({fx:new s.Number(u),fy:new s.Number(m)}):this.attr({x1:new s.Number(u),y1:new s.Number(m)})},to:function(u,m){return(this._target||this).type=="radial"?this.attr({cx:new s.Number(u),cy:new s.Number(m)}):this.attr({x2:new s.Number(u),y2:new s.Number(m)})}}),s.extend(s.Defs,{gradient:function(u,m){return this.put(new s.Gradient(u)).update(m)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(u){return(typeof u=="number"||u instanceof s.Number)&&(u={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",new s.Number(u.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return this.fill()},attr:function(u,m,S){return u=="transform"&&(u="patternTransform"),s.Container.prototype.attr.call(this,u,m,S)}},construct:{pattern:function(u,m,S){return this.defs().pattern(u,m,S)}}}),s.extend(s.Defs,{pattern:function(u,m,S){return this.put(new s.Pattern).update(S).attr({x:0,y:0,width:u,height:m,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element}),s.Bare=s.invent({create:function(u,m){if(this.constructor.call(this,s.create(u)),m)for(var S in m.prototype)typeof m.prototype[S]=="function"&&(this[S]=m.prototype[S])},inherit:s.Element,extend:{words:function(u){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(i.createTextNode(u)),this}}}),s.extend(s.Parent,{element:function(u,m){return this.put(new s.Bare(u,m))}}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(u,m){return this.attr("href",(m||"")+"#"+u,s.xlink)}},construct:{use:function(u,m){return this.put(new s.Use).element(u,m)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(u,m){return this.put(new s.Rect).size(u,m)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(u){return this.put(new s.Circle).rx(new s.Number(u).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(u){return this.attr("r",u)},ry:function(u){return this.rx(u)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(u,m){return this.put(new s.Ellipse).size(u,m).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(u){return this.attr("rx",u)},ry:function(u){return this.attr("ry",u)}}),s.extend(s.Circle,s.Ellipse,{x:function(u){return u==null?this.cx()-this.rx():this.cx(u+this.rx())},y:function(u){return u==null?this.cy()-this.ry():this.cy(u+this.ry())},cx:function(u){return u==null?this.attr("cx"):this.attr("cx",u)},cy:function(u){return u==null?this.attr("cy"):this.attr("cy",u)},width:function(u){return u==null?this.rx()*2:this.rx(new s.Number(u).divide(2))},height:function(u){return u==null?this.ry()*2:this.ry(new s.Number(u).divide(2))},size:function(u,m){var S=_(this,u,m);return this.rx(new s.Number(S.width).divide(2)).ry(new s.Number(S.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(u,m,S,k){return u==null?this.array():(typeof m<"u"?u={x1:u,y1:m,x2:S,y2:k}:u=new s.PointArray(u).toLine(),this.attr(u))},move:function(u,m){return this.attr(this.array().move(u,m).toLine())},size:function(u,m){var S=_(this,u,m);return this.attr(this.array().size(S.width,S.height).toLine())}},construct:{line:function(u,m,S,k){return s.Line.prototype.plot.apply(this.put(new s.Line),u!=null?[u,m,S,k]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(u){return this.put(new s.Polyline).plot(u||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(u){return this.put(new s.Polygon).plot(u||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(u){return u==null?this.array():this.clear().attr("points",typeof u=="string"?u:this._array=new s.PointArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("points",this.array().move(u,m))},size:function(u,m){var S=_(this,u,m);return this.attr("points",this.array().size(S.width,S.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},width:function(u){var m=this.bbox();return u==null?m.width:this.size(u,m.height)},height:function(u){var m=this.bbox();return u==null?m.height:this.size(m.width,u)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(u){return u==null?this.array():this.clear().attr("d",typeof u=="string"?u:this._array=new s.PathArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("d",this.array().move(u,m))},x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},size:function(u,m){var S=_(this,u,m);return this.attr("d",this.array().size(S.width,S.height))},width:function(u){return u==null?this.bbox().width:this.size(u,this.bbox().height)},height:function(u){return u==null?this.bbox().height:this.size(this.bbox().width,u)}},construct:{path:function(u){return this.put(new s.Path).plot(u||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(u){if(!u)return this;var m=this,S=new n.Image;return s.on(S,"load",function(){s.off(S);var k=m.parent(s.Pattern);k!==null&&(m.width()==0&&m.height()==0&&m.size(S.width,S.height),k&&k.width()==0&&k.height()==0&&k.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:S.width,height:S.height,ratio:S.width/S.height,url:u}))}),s.on(S,"error",function(k){s.off(S),typeof m._error=="function"&&m._error.call(m,k)}),this.attr("href",S.src=this.src=u,s.xlink)},loaded:function(u){return this._loaded=u,this},error:function(u){return this._error=u,this}},construct:{image:function(u,m,S){return this.put(new s.Image).load(u).size(m||0,S||m||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(u){return u==null?this.attr("x"):this.attr("x",u)},y:function(u){var m=this.attr("y"),S=typeof m=="number"?m-this.bbox().y:0;return u==null?typeof m=="number"?m-S:m:this.attr("y",typeof u.valueOf()=="number"?u+S:u)},cx:function(u){return u==null?this.bbox().cx:this.x(u-this.bbox().width/2)},cy:function(u){return u==null?this.bbox().cy:this.y(u-this.bbox().height/2)},text:function(u){if(typeof u>"u"){for(var u="",m=this.node.childNodes,S=0,k=m.length;S<k;++S)S!=0&&m[S].nodeType!=3&&s.adopt(m[S]).dom.newLined==!0&&(u+=`
`),u+=m[S].textContent;return u}if(this.clear().build(!0),typeof u=="function")u.call(this,this);else{u=u.split(`
`);for(var S=0,V=u.length;S<V;S++)this.tspan(u[S]).newLine()}return this.build(!1).rebuild()},size:function(u){return this.attr("font-size",u).rebuild()},leading:function(u){return u==null?this.dom.leading:(this.dom.leading=new s.Number(u),this.rebuild())},lines:function(){var u=(this.textPath&&this.textPath()||this).node,m=s.utils.map(s.utils.filterSVGElements(u.childNodes),function(S){return s.adopt(S)});return new s.Set(m)},rebuild:function(u){if(typeof u=="boolean"&&(this._rebuild=u),this._rebuild){var m=this,S=0,k=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?S+=k:(this.attr("dy",k+S),S=0))}),this.fire("rebuild")}return this},build:function(u){return this._build=!!u,this},setData:function(u){return this.dom=u,this.dom.leading=new s.Number(u.leading||1.3),this}},construct:{text:function(u){return this.put(new s.Text).text(u)},plain:function(u){return this.put(new s.Text).plain(u)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(u){return u==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof u=="function"?u.call(this,this):this.plain(u),this)},dx:function(u){return this.attr("dx",u)},dy:function(u){return this.attr("dy",u)},newLine:function(){var u=this.parent(s.Text);return this.dom.newLined=!0,this.dy(u.dom.leading*u.attr("font-size")).attr("x",u.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(u){return this._build===!1&&this.clear(),this.node.appendChild(i.createTextNode(u)),this},tspan:function(u){var m=(this.textPath&&this.textPath()||this).node,S=new s.Tspan;return this._build===!1&&this.clear(),m.appendChild(S.node),S.text(u)},clear:function(){for(var u=(this.textPath&&this.textPath()||this).node;u.hasChildNodes();)u.removeChild(u.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,path:function(u){for(var m=new s.TextPath,S=this.doc().defs().path(u);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+S,s.xlink),this},array:function(){var u=this.track();return u?u.array():null},plot:function(u){var m=this.track(),S=null;return m&&(S=m.plot(u)),u==null?S:this},track:function(){var u=this.textPath();if(u)return u.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}}),s.A=s.invent({create:"a",inherit:s.Container,extend:{to:function(u){return this.attr("href",u,s.xlink)},show:function(u){return this.attr("show",u,s.xlink)},target:function(u){return this.attr("target",u)}},construct:{link:function(u){return this.put(new s.A).to(u)}}}),s.extend(s.Element,{linkTo:function(u){var m=new s.A;return typeof u=="function"?u.call(m,m):m.to(u),this.parent().put(m).put(this)}}),s.Marker=s.invent({create:"marker",inherit:s.Container,extend:{width:function(u){return this.attr("markerWidth",u)},height:function(u){return this.attr("markerHeight",u)},ref:function(u,m){return this.attr("refX",u).attr("refY",m)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(u,m,S){return this.defs().marker(u,m,S)}}}),s.extend(s.Defs,{marker:function(u,m,S){return this.put(new s.Marker).size(u,m).ref(u/2,m/2).viewbox(0,0,u,m).attr("orient","auto").update(S)}}),s.extend(s.Line,s.Polyline,s.Polygon,s.Path,{marker:function(u,m,S,k){var V=["marker"];return u!="all"&&V.push(u),V=V.join("-"),u=arguments[1]instanceof s.Marker?arguments[1]:this.doc().marker(m,S,k),this.attr(V,u)}});var p={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(u,m){return m=="color"?u:u+"-"+m}};["fill","stroke"].forEach(function(u){var m,S={};S[u]=function(k){if(typeof k>"u")return this;if(typeof k=="string"||s.Color.isRgb(k)||k&&typeof k.fill=="function")this.attr(u,k);else for(m=p[u].length-1;m>=0;m--)k[p[u][m]]!=null&&this.attr(p.prefix(u,p[u][m]),k[p[u][m]]);return this},s.extend(s.Element,s.FX,S)}),s.extend(s.Element,s.FX,{rotate:function(u,m,S){return this.transform({rotation:u,cx:m,cy:S})},skew:function(u,m,S,k){return arguments.length==1||arguments.length==3?this.transform({skew:u,cx:m,cy:S}):this.transform({skewX:u,skewY:m,cx:S,cy:k})},scale:function(u,m,S,k){return arguments.length==1||arguments.length==3?this.transform({scale:u,cx:m,cy:S}):this.transform({scaleX:u,scaleY:m,cx:S,cy:k})},translate:function(u,m){return this.transform({x:u,y:m})},flip:function(u,m){return m=typeof u=="number"?u:m,this.transform({flip:u||"both",offset:m})},matrix:function(u){return this.attr("transform",new s.Matrix(arguments.length==6?[].slice.call(arguments):u))},opacity:function(u){return this.attr("opacity",u)},dx:function(u){return this.x(new s.Number(u).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(u){return this.y(new s.Number(u).plus(this instanceof s.FX?0:this.y()),!0)},dmove:function(u,m){return this.dx(u).dy(m)}}),s.extend(s.Rect,s.Ellipse,s.Circle,s.Gradient,s.FX,{radius:function(u,m){var S=(this._target||this).type;return S=="radial"||S=="circle"?this.attr("r",new s.Number(u)):this.rx(u).ry(m??u)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(u){return this.node.getPointAtLength(u)}}),s.extend(s.Parent,s.Text,s.Tspan,s.FX,{font:function(u,m){if(typeof u=="object")for(m in u)this.font(m,u[m]);return u=="leading"?this.leading(m):u=="anchor"?this.attr("text-anchor",m):u=="size"||u=="family"||u=="weight"||u=="stretch"||u=="variant"||u=="style"?this.attr("font-"+u,m):this.attr(u,m)}}),s.Set=s.invent({create:function(u){u instanceof s.Set?this.members=u.members.slice():Array.isArray(u)?this.members=u:this.clear()},extend:{add:function(){var u,m,S=[].slice.call(arguments);for(u=0,m=S.length;u<m;u++)this.members.push(S[u]);return this},remove:function(u){var m=this.index(u);return m>-1&&this.members.splice(m,1),this},each:function(u){for(var m=0,S=this.members.length;m<S;m++)u.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(u){return this.index(u)>=0},index:function(u){return this.members.indexOf(u)},get:function(u){return this.members[u]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new s.RBox;var u=this.members[0].rbox(this.members[0].doc());return this.each(function(){u=u.merge(this.rbox(this.doc()))}),u}},construct:{set:function(u){return new s.Set(u)}}}),s.FX.Set=s.invent({create:function(u){this.set=u}}),s.Set.inherit=function(){var u,m=[];for(var u in s.Shape.prototype)typeof s.Shape.prototype[u]=="function"&&typeof s.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(S){s.Set.prototype[S]=function(){for(var k=0,V=this.members.length;k<V;k++)this.members[k]&&typeof this.members[k][S]=="function"&&this.members[k][S].apply(this.members[k],arguments);return S=="animate"?this.fx||(this.fx=new s.FX.Set(this)):this}}),m=[];for(var u in s.FX.prototype)typeof s.FX.prototype[u]=="function"&&typeof s.FX.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(S){s.FX.Set.prototype[S]=function(){for(var k=0,V=this.set.members.length;k<V;k++)this.set.members[k].fx[S].apply(this.set.members[k].fx,arguments);return this}})},s.extend(s.Element,{data:function(u,m,S){if(typeof u=="object")for(m in u)this.data(m,u[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+u))}catch{return this.attr("data-"+u)}else this.attr("data-"+u,m===null?null:S===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),s.extend(s.Element,{remember:function(u,m){if(typeof arguments[0]=="object")for(var m in u)this.remember(m,u[m]);else{if(arguments.length==1)return this.memory()[u];this.memory()[u]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var u=arguments.length-1;u>=0;u--)delete this.memory()[arguments[u]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(u){var m=i.getElementById(U(u)||u);return s.adopt(m)},s.select=function(u,m){return new s.Set(s.utils.map((m||i).querySelectorAll(u),function(S){return s.adopt(S)}))},s.extend(s.Parent,{select:function(u){return s.select(u,this.node)}});function d(u,m,S,k){return S+k.replace(s.regex.dots," .")}function f(u){for(var m=u.slice(0),S=m.length;S--;)Array.isArray(m[S])&&(m[S]=f(m[S]));return m}function y(u,m){return u instanceof m}function g(u,m){return(u.matches||u.matchesSelector||u.msMatchesSelector||u.mozMatchesSelector||u.webkitMatchesSelector||u.oMatchesSelector).call(u,m)}function b(u){return u.toLowerCase().replace(/-(.)/g,function(m,S){return S.toUpperCase()})}function x(u){return u.charAt(0).toUpperCase()+u.slice(1)}function A(u){return u.length==4?["#",u.substring(1,2),u.substring(1,2),u.substring(2,3),u.substring(2,3),u.substring(3,4),u.substring(3,4)].join(""):u}function M(u){var m=u.toString(16);return m.length==1?"0"+m:m}function _(u,m,S){if(m==null||S==null){var k=u.bbox();m==null?m=k.width/k.height*S:S==null&&(S=k.height/k.width*m)}return{width:m,height:S}}function w(u,m,S){return{x:m*u.a+S*u.c+0,y:m*u.b+S*u.d+0}}function T(u){return{a:u[0],b:u[1],c:u[2],d:u[3],e:u[4],f:u[5]}}function I(u){return u instanceof s.Matrix||(u=new s.Matrix(u)),u}function O(u,m){u.cx=u.cx==null?m.bbox().cx:u.cx,u.cy=u.cy==null?m.bbox().cy:u.cy}function C(u){for(var m=0,S=u.length,k="";m<S;m++)k+=u[m][0],u[m][1]!=null&&(k+=u[m][1],u[m][2]!=null&&(k+=" ",k+=u[m][2],u[m][3]!=null&&(k+=" ",k+=u[m][3],k+=" ",k+=u[m][4],u[m][5]!=null&&(k+=" ",k+=u[m][5],k+=" ",k+=u[m][6],u[m][7]!=null&&(k+=" ",k+=u[m][7])))));return k+" "}function R(u){for(var m=u.childNodes.length-1;m>=0;m--)u.childNodes[m]instanceof n.SVGElement&&R(u.childNodes[m]);return s.adopt(u).id(s.eid(u.nodeName))}function D(u){return u.x==null&&(u.x=0,u.y=0,u.width=0,u.height=0),u.w=u.width,u.h=u.height,u.x2=u.x+u.width,u.y2=u.y+u.height,u.cx=u.x+u.width/2,u.cy=u.y+u.height/2,u}function U(u){var m=(u||"").toString().match(s.regex.reference);if(m)return m[1]}function j(u){return Math.abs(u)>1e-37?u:0}var $="abcdef".split("");if(typeof n.CustomEvent!="function"){var H=function(u,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var S=i.createEvent("CustomEvent");return S.initCustomEvent(u,m.bubbles,m.cancelable,m.detail),S};H.prototype=n.Event.prototype,s.CustomEvent=H}else s.CustomEvent=n.CustomEvent;return function(u){for(var m=0,S=["moz","webkit"],k=0;k<S.length&&!n.requestAnimationFrame;++k)u.requestAnimationFrame=u[S[k]+"RequestAnimationFrame"],u.cancelAnimationFrame=u[S[k]+"CancelAnimationFrame"]||u[S[k]+"CancelRequestAnimationFrame"];u.requestAnimationFrame=u.requestAnimationFrame||function(V){var J=new Date().getTime(),pt=Math.max(0,16-(J-m)),ot=u.setTimeout(function(){V(J+pt)},pt);return m=J+pt,ot},u.cancelAnimationFrame=u.cancelAnimationFrame||u.clearTimeout}(n),s})}(VT)),VT.exports}var rMt=iMt();const md=F1(rMt);class sMt extends _n{constructor(e){super(e)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(e,n){return n.getGraphicIcon(e)}getGraphicSymbol(e,n){return n.getGraphicSymbol(e)}makeRenderer(e,n,i=!1){switch(e.type){case this.SIMPLE:return new KAt(e,n);case this.CLASS_BREAKS:return new eMt(e,n,i);case this.UNIQUE_VALUE:return new tMt(e,n,i);default:throw new Error(`Unknown renderer type encountered - ${e.type}`)}}async generateWMSSymbology(e){const n=md(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),i={svgcode:"",imgHeight:"",imgWidth:""};if(e){const r=await this.renderSymbologyImage(e);if(r){i.svgcode=r;const s=document.createElement("span");s.innerHTML=r;const o=s.firstElementChild?.lastElementChild;i.imgHeight=o?.getAttribute("height")||"",i.imgWidth=o?.getAttribute("width")||""}else i.svgcode=n.svg()}else i.svgcode=n.svg();return i}listToSymbology(e,n){return n.map(({text:i,image:r})=>{const s={name:i,image:r,svgcode:""};return e(r).then(o=>{s.svgcode=o}),s})}listToIconSymbology(e){return this.listToSymbology(this.renderSymbologyIcon,e)}listToImageSymbology(e){return this.listToSymbology(this.renderSymbologyImage,e)}async renderSymbologyImage(e,n=null){n===null&&(n=md(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const i=await this.$iApi.geo.shared.convertImagetoDataURL(e);if(i===e)return"";const{loader:r}=await this.svgDrawImage(n,i);return n.viewbox(0,0,r.width,r.height),n.svg()}async renderSymbologyIcon(e,n=null){if(n===null){const s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s),n=md(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const i=await this.$iApi.geo.shared.convertImagetoDataURL(e),{image:r}=await this.svgDrawImage(n,i);return r.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(r,this.CONTENT_IMAGE_SIZE),n.svg()}generatePlaceholderSymbology(e,n="#000"){const i=md(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return i.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(n),i.text(e[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(e[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:e,svgcode:i.svg()}}async generateBlankSymbology(){return md(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(e){const n=this,i=1.33333,r=document.createElement("div");r.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(r);const s=md(r).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:g,path:b}){return s.path(b).size(g*i)},circle({size:g}){return s.circle(g*i)},cross({size:g}){return s.path("M 0,10 L 20,10 M 10,0 L 10,20").size(g*i)},x({size:g}){return s.path("M 0,0 L 20,20 M 20,0 L 0,20").size(g*i)},triangle({size:g}){return s.path("M 20,20 L 10,0 0,20 Z").size(g*i)},diamond({size:g}){return s.path("M 20,10 L 10,0 0,10 10,20 Z").size(g*i)},square({size:g}){return s.path("M 0,0 20,0 20,20 0,20 Z").size(g*i)}},a={[ir.SOLID]:"none",[ir.NONE]:"none",[ir.DASH]:"5.333,4",[ir.DOT]:"1.333,4",[ir.DASHDOT]:"5.333,4,1.333,4",[ir.LONGDASH]:"10.666,4",[ir.LONGDASHDOT]:"10.666,4,1.333,4",[ir.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[ir.SHORTDOT]:"1.333,1.333",[ir.SHORTDASH]:"5.333,1.333",[ir.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[ir.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},p={solid:g=>({color:g.colour,opacity:g.opacity}),none:()=>"transparent",horizontal:(g,b)=>s.pattern(5,5,x=>x.line(0,5/2,5,5/2)).stroke(b),vertical:(g,b)=>s.pattern(5,5,x=>x.line(5/2,0,5/2,5)).stroke(b),"forward-diagonal":(g,b)=>s.pattern(5,5,x=>{x.line(0,0,5,5).stroke(b),x.line(0,0,5,5).move(0,5).stroke(b),x.line(0,0,5,5).move(5,0).stroke(b)}),"backward-diagonal":(g,b)=>s.pattern(5,5,x=>{x.line(5,0,0,5).stroke(b),x.line(5,0,0,5).move(5/2,5/2).stroke(b),x.line(5,0,0,5).move(-5/2,-5/2).stroke(b)}),cross:(g,b)=>s.pattern(5,5,x=>{x.line(5/2,0,5/2,5).stroke(b),x.line(0,5/2,5,5/2).stroke(b)}),"diagonal-cross":(g,b)=>s.pattern(7,7,x=>{x.line(0,0,7,7).stroke(b),x.line(7,0,0,7).stroke(b)})},d={"simple-marker"(){const g=y(e.color);e.outline=e.outline||c;const b=y(e.outline.color),x=f({color:b.colour,opacity:b.opacity,width:e.outline.width,dasharray:a[e.outline.style]}),A=o[e.style](e).fill({color:g.colour,opacity:g.opacity}).stroke(x).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).rotate(e.angle||0);n.fitInto(A,n.CONTENT_SIZE)},"simple-line"(){const g=y(e.color),b=f({color:g.colour,opacity:g.opacity,width:e.width,linecap:"butt",dasharray:a[e.style]}),x=n.CONTENT_PADDING,A=n.CONTAINER_SIZE-n.CONTENT_PADDING;s.line(x,x,A,A).stroke(b)},esriCLS(){this["simple-line"]()},"simple-fill"(){const g=y(e.color),b=f({color:g.colour,opacity:g.opacity}),x=p[e.style](g,b);e.outline=e.outline||c;const A=y(e.outline.color),M=f({color:A.colour,opacity:A.opacity,width:e.outline.width,linecap:"butt",dasharray:a[e.outline.style]});s.rect(n.CONTENT_SIZE,n.CONTENT_SIZE).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).fill(x).stroke(M)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const g=e.imageData?`data:${e.contentType};base64,${e.imageData}`:e.url,b=e.width*e.xscale,x=e.height*e.yscale;e.outline=e.outline||c;const A=y(e.outline.color),M=f({color:A.colour,opacity:A.opacity,width:e.outline.width,dasharray:a[e.outline.style]});return n.$iApi.geo.shared.convertImagetoDataURL(g).then(_=>{const w=s.pattern(b,x,T=>T.image(_,b,x));s.rect(n.CONTENT_SIZE,n.CONTENT_SIZE).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).fill(w).stroke(M)})},"picture-marker"(){const g=e.source,b=g&&g.imageData?`data:${g.contentType};base64,${g.imageData}`:e.url;return n.$iApi.geo.shared.convertImagetoDataURL(b).then(x=>n.svgDrawImage(s,x)).then(({image:x})=>{x.center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).rotate(e.angle||0),n.fitInto(x,n.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[e.type]()),document.body.removeChild(r),s.svg()}catch(g){return console.error(g),this.generateBlankSymbology()}function f(g){return Object.assign({},l,g)}function y(g){return g?{colour:`rgb(${g.r},${g.g},${g.b})`,opacity:g.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(e,n,i=0,r=0,s=!0){return new Promise((o,a)=>{const l=e.image(n,i,r,s).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(e,n){const i=e.node.getBoundingClientRect(),r=n/Math.max(i.width,i.height);r<1&&e.scale(r)}rendererToLegend(e){let n;const i=e.symbolUnits.slice(0);if(e.defaultUnit&&i.push(e.defaultUnit),e.falseRenderer)n=i.map(r=>[r]);else{const r=new Map;i.forEach(s=>{const o=r.get(s.label);o?o.push(s):r.set(s.label,[s])}),n=[],r.forEach(s=>n.push(s))}return n.map(r=>{const s=r[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:s.label||"",definitionClause:r.length===1?s.definitionClause:`(${r.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(s.symbol).then(a=>{o.svgcode=a,r.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(e){if(!e)throw new Error("Legend server request is missing the required url.");const n={query:{f:"json"}},i={layers:[]},[r,s]=await Ms(fn(`${e}/legend`,n));return s?s.data?s.data:(console.error(`Error loading legend data for ${e}`),i):(console.error(`Error loading legend for ${e}`,r),i)}async mapServerLegendToRenderer(e,n){const i=e.layers.find(s=>s.layerId===n);let r;if(typeof i<"u"){r={type:"uniqueValue",field:"fakefield",uniqueValueInfos:i.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const s=await ce.RendererFromJson(r);return this.makeRenderer(s,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(e){const n=e.layers.map(s=>s.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),i={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...n)},r=await ce.RendererFromJson(i);return this.makeRenderer(r,[],!0)}async mapServerToLocalLegend(e,n=void 0){const i=await this.getMapServerLegend(e);let r,s;return typeof n>"u"?(s=0,r=await this.mapServerLegendToRendererAll(i)):(s=parseInt(n),r=await this.mapServerLegendToRenderer(i,s)),this.rendererToLegend(r)}}class oMt extends _n{constructor(e){super(e)}async arcGisServerQueryIds(e){if(!(e.filterGeometry||e.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const n=await ce.Query();n.returnGeometry=!1,e.filterSql&&(n.where=e.filterSql),e.filterGeometry&&(n.geometry=await this.queryGeometryHelper(e.filterGeometry,!1,this.$iApi.geo.map.getScale(),e.sourceSR),n.spatialRelationship="intersects");const i=await ce.QueryByIds(e.url,n);return Array.isArray(i)?i:[]}async geoJsonQuery(e){const n=await ce.Query();if(n.returnGeometry=!!e.includeGeometry,n.outFields=["*"],e.filterGeometry&&(n.geometry=await this.queryGeometryHelper(e.filterGeometry,!0),n.spatialRelationship="intersects"),e.filterSql&&(n.where=e.filterSql),e.filterOIDs&&(n.objectIds=e.filterOIDs),await e.layer.loadPromise(),!e.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await e.layer.esriLayer.queryFeatures(n)).features.map((i,r)=>{let s;return n.returnGeometry?s=this.$iApi.geo.geom.geomEsriToRamp(i.geometry,`queryResult${r}`):s=new Sl,new Wr(s,"",i.attributes)})}async queryGeometryHelper(e,n,i,r){return!n&&e.type===Bt.EXTENT&&r&&!r.isEqual(e.sr)&&!(i&&i>2e7&&e.sr.wkid===3978&&r.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(r,e)).toESRI():e.toESRI()}makeClickBuffer(e,n=5){const i=this.$iApi.geo.map,r=i.getExtent(),s=n*(r.xmax-r.xmin)/i.getPixelWidth();return new Xe("ze_buffer",[e.x-s,e.y-s],[e.x+s,e.y+s],e.sr)}}class aMt extends _n{attributes;geom;layer;map;proj;query;shared;symbology;constructor(e){super(e),this.geom=cc.geom,this.proj=cc.proj,this.shared=cc.sharedUtils,this.map=new K4t(e),this.layer=new CAt(e),this.attributes=new ZAt(e),this.query=new oMt(e),this.symbology=new sMt(e),Array.isArray(ae.request.interceptors)||(ae.request.interceptors=[]),ae.request.interceptors.push({before:n=>{n.url.includes("?blankTile=false")&&(n.url=n.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(e){ae.request.proxyUrl=e}get proxy(){return ae.request.proxyUrl||""}}const lMt=Object.assign({"../fixtures/appbar/index.ts":()=>import("./index-BbM0U-n3.js"),"../fixtures/areas-of-interest/index.ts":()=>import("./index-DN_Vw4Ay.js"),"../fixtures/basemap/index.ts":()=>import("./index-0Z5iigyv.js"),"../fixtures/crosshairs/index.ts":()=>import("./index-C-35iLtS.js"),"../fixtures/details/index.ts":()=>import("./index-BemqUeNN.js"),"../fixtures/draw/index.ts":()=>import("./index-BjvyY4T3.js").then(t=>t.a),"../fixtures/export-footnote/index.ts":()=>import("./index-BtGSfF1I.js"),"../fixtures/export-legend/index.ts":()=>import("./index-DyO8uTCl.js"),"../fixtures/export-map/index.ts":()=>import("./index-Ckz4w-Ga.js"),"../fixtures/export-northarrow/index.ts":()=>import("./index-B-AvcT_e.js"),"../fixtures/export-scalebar/index.ts":()=>import("./index-Cb0vHWOJ.js"),"../fixtures/export-timestamp/index.ts":()=>import("./index-C4_y2wMw.js"),"../fixtures/export-title/index.ts":()=>import("./index-Cj50wlnK.js"),"../fixtures/export/index.ts":()=>import("./index-C2W7hf4m.js"),"../fixtures/extentguard/index.ts":()=>import("./index-DvGOUzly.js"),"../fixtures/gazebo/index.ts":()=>import("./index-C2heUgJE.js"),"../fixtures/geosearch/index.ts":()=>import("./index-SomGPwLZ.js"),"../fixtures/grid/index.ts":()=>import("./index-BBiRfaUX.js"),"../fixtures/help/index.ts":()=>import("./index-C_CsNtn0.js"),"../fixtures/hilight/index.ts":()=>import("./index-Cg_SC3A_.js"),"../fixtures/keyboardnav/index.ts":()=>import("./index-D9br7dQM.js"),"../fixtures/layer-reorder/index.ts":()=>import("./index-DeS5xwOs.js"),"../fixtures/legend/index.ts":()=>import("./index-C2FXKydF.js"),"../fixtures/mapnav/index.ts":()=>import("./index-B8rAO4Mh.js"),"../fixtures/metadata/index.ts":()=>import("./index-DWhyoMvE.js"),"../fixtures/northarrow/index.ts":()=>import("./index-BN7BQTNQ.js"),"../fixtures/overviewmap/index.ts":()=>import("./index-DtculETi.js"),"../fixtures/panguard/index.ts":()=>import("./index-BWkaqJYk.js"),"../fixtures/scrollguard/index.ts":()=>import("./index-7COFJLoo.js"),"../fixtures/settings/index.ts":()=>import("./index-D414Ap8v.js"),"../fixtures/snowman/index.ts":()=>import("./index-QyTtIP8S.js"),"../fixtures/swipe/index.ts":()=>import("./index-D2QErcJs.js"),"../fixtures/wizard/index.ts":()=>import("./index-CzSTJKUI.js")});class cMt extends _n{constructor(e){super(e)}exists(e){return e in ys(this.$vApp.$pinia).items}async add(e,n){let i;if(e in ys(this.$vApp.$pinia).items)return this.get(e);if(n){if(typeof n!="function")throw new Error("malformed fixture constructor");i=J2.updateBaseToInstance(new n,e,this.$iApi)}else{const r=(await lMt[`../fixtures/${e}/index.ts`]()).default;i=new r(e,this.$iApi)}return ys(this.$vApp.$pinia).addFixture(i),this.$iApi.event.emit(Et.FIXTURE_ADDED,i),this.$iApi.geo.map.created&&i.initialized?.(),i}remove(e){const n=this.get(e);if(!n)throw new Error(`Could not find fixture ${e} for removal`);return ys(this.$vApp.$pinia).removeFixture(n),this.$iApi.event.emit(Et.FIXTURE_REMOVED,n),n}flush(){const e=ys(this.$vApp.$pinia);Object.keys(e.items).forEach(n=>{const i=this.get(n);i?.persist&&typeof i?.removed=="function"?i.removed():i&&this.remove(n)})}restore(){const e=ys(this.$vApp.$pinia);Object.keys(e.items).forEach(n=>{const i=e.items[n];typeof i.added=="function"&&i.added(),this.$iApi.geo.map.created&&typeof i.initialized=="function"&&i.initialized()})}get(e){const n=[];typeof e=="string"?n.push(e):Array.isArray(e)?n.push(...e):n.push(e.id);const i=n.map(r=>{const s=ys(this.$vApp.$pinia).items[r];if(s)return s});return i.length===1?i[0]:i}isLoaded(e){const n=ys(this.$vApp.$pinia),i=Array.isArray(e)?e:[e];i.forEach(s=>{n.loadPromises[s]===void 0&&n.addLoadPromise(s)});const r=n.getLoadPromises(i);return Array.isArray(e)?Promise.all(r):r[0]}addDefaultFixtures(e){Array.isArray(e)||(e=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const n=er(this.$vApp.$pinia);return n.startingFixtures=e,Promise.all(e.map(i=>this.add(i)))}}class J2 extends _n{static updateBaseToInstance(e,n,i){const r=new J2(n,i);return Object.defineProperties(e,{id:{value:n},$iApi:{value:i},persist:{value:e.persist??!0},$vApp:{get(){return r.$vApp}},remove:{value:r.remove},extend:{value:r.extend},config:{get(){return r.config}},mount:{value:r.mount}}),e}id;persist;constructor(e,n){super(n),this.id=e,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(e,n={}){const i=Zt({extends:e,iApi:this.$iApi,data(){return{...n}}}),r=Wl(i),{el:s}=this.mount(i,{props:{...n.propsData},app:r});return s}mount(e,{props:n,children:i,element:r,app:s}={}){let o=r,a=ps(e,n,i);return s&&s._context&&(a.appContext=s._context),o||(o=document.createElement("div")),Fp(a,o),{vNode:a,destroy:()=>{o&&Fp(null,o),o=null,a=null},el:o}}get config(){return er(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(e){return this.getLayerFixtureConfigs()[e]}getLayerFixtureConfigs(){const e={},n=(i,r=void 0)=>{if(i.fixtures&&i.fixtures[this.id]!==void 0){let s=i.id;r!==void 0&&(s=this.$iApi.geo.layer.sublayerId(r.id,i.index)),e[s]=i.fixtures[this.id]}i.sublayers&&i.sublayers.forEach(s=>n(s,i))};return this.$iApi.geo.layer.allLayers().forEach(i=>n(i.config)),e}handlePanelWidths(e){if(this.config?.panelWidth){const n={};if(typeof this.config.panelWidth=="number")e.forEach(i=>{n[i]=this.config.panelWidth});else{this.config.panelWidth.default&&e.forEach(i=>{n[i]=this.config.panelWidth.default});for(const i in this.config.panelWidth)i!="default"&&(n[i]=this.config.panelWidth[i])}for(const i in n){const r=this.$iApi.panel.get(i);this.$iApi.panel.setStyle(r,{"flex-basis":`${n[i]}px`})}}}handlePanelTeleports(e){if(this.config?.panelTeleport){const n=nc(this.$vApp.$pinia),i=!!this.config.panelTeleport.target;e.forEach(r=>{n.items[r].teleport=i?this.config.panelTeleport:this.config.panelTeleport[r],n.items[r].style.width="100%"})}}}class uMt extends _n{panelStore=nc(this.$vApp.$pinia);updateHTML(e,n,i){const r=this.get(e),s=i?r.screens[i]:Object.values(r.screens)[0];if(_9(s))for(const o in n)s[o].innerHTML=n[o]instanceof HTMLElement?n[o].outerHTML:n[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(e){for(const i in e.content)if(typeof e.content[i]=="string"){const r=document.createElement("div");r.innerHTML=e.content[i],e.content[i]=r}const n={};return n[e.id]={screens:{},style:e.style??{width:"350px"},alertName:e.alertName},n[e.id].screens[e.id]=e.content,n}registerHTML(e){const n=this.get(e.id);if(n)return console.error("Panel already exist"),n;const i=this.registerHTMLConfig(e),r={i18n:{messages:e.i18nMap}};return this.register(i,r)}register(e,n){const i=hMt(e)?{[e.id]:e.config}:e;if(n){const s=n.i18n||{},o=this.$iApi.$i18n;Object.entries(s.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(s.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(s.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const r=Object.entries(i).reduce((s,[o,a])=>(s.push(new z0(this.$iApi,o,a)),s),[]);return r.forEach(s=>this.panelStore.registerPanel(s)),r.length===1?r[0]:r.reduce((s,o)=>(s[o.id]=o,s),{})}async isRegistered(e){const n=Array.isArray(e)?e:[e];n.forEach(r=>{this.panelStore.regPromises[r]===void 0&&this.panelStore.addRegPromise(r)});const i=this.panelStore.getRegPromises(n);return Array.isArray(e)?Promise.all(i):i[0]}allRegistered(){return Object.keys(this.panelStore.items)}remove(e){const n=this.get(e);n&&(n.isOpen&&this.close(n),this.panelStore.removePanel(n))}get(e){const n=typeof e=="string"?e:e.id;return this.panelStore.items[n]}open(e){let n,i,r;if(typeof e=="string"||e instanceof z0?n=this.get(e):(n=this.get(e.id),{screen:i,props:r}=e),!n)return n;if(n.isOpen&&!n.isVisible)n.minimize();else if(n.isOpen)return n;return i||(n.route&&!r?{screen:i,props:r}=n.route:i=Object.keys(n.screens).pop()),this.show(n,{screen:i,props:r})?(this.panelStore.openPanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Et.PANEL_OPENED,n)):console.error(`Failed to open ${n.id} panel.`),n}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(e){const n=this.get(e);if(!n)return n;const i=this.visible.slice().indexOf(n),r=this.$vApp.$el.querySelector("[focus-container]");return n.isPinned&&n.pin(!1),this.panelStore.closePanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Et.PANEL_CLOSED,n),this.$vApp.$nextTick(()=>{const s=i>0?this.visible[i-1]:this.visible[0];s?this.focus(s):r?.focus()}),n}minimize(e){const n=this.get(e);return n&&(n.isPinned&&n.pin(!1),this.panelStore.closePanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Et.PANEL_MINIMIZED,n),n)}move(e,n){const i=this.get(e);return i&&(this.panelStore.movePanel(i,n),i)}toggle(e,n){let i;return typeof e=="string"||e instanceof z0?i=this.get(e):i=this.get(e.id),i&&(n=typeof n<"u"?n:!i.isVisible,n!==i.isVisible?n?this.open(e):this.close(i):i)}toggleMinimize(e,n){let i;return typeof e=="string"||e instanceof z0?i=this.get(e):i=this.get(e.id),i&&(n=typeof n<"u"?n:!i.isVisible,n!==i.isVisible?n?this.open(i):this.minimize(i):i)}pin(e,n){const i=this.get(e);return!i||(n=typeof n<"u"?n:!i.isPinned,!i.isPinned&&!n)||(this.panelStore.pinned=n?i:void 0),i}get pinned(){return this.panelStore.pinned||void 0}show(e,n){const i=this.get(e);if(!i)return i;if(i.screens[n.screen]){if(i.screens[n.screen]?.props){const r=Object.keys(i.screens[n.screen]?.props).filter(o=>o!=="panel"),s=n.props?Object.keys(n.props):[];for(let o=0;o<r.length;o++)if(!s.includes(r[o])&&i.screens[n.screen].props[r[o]].required)return}return n.screen in this.$element._context.components||i.registerScreen(n.screen),i.teleport&&(n.props={header:!!i.teleport?.showHeader,...n.props}),this.panelStore.items[i.id].route=n,i}}setStyle(e,n,i=!1){const r=this.get(e);return r&&(this.panelStore.items[r.id].style=i?n:{...r.style,...n},r)}expand(e,n){const i=this.get(e);return i&&(this.panelStore.items[i.id].expanded=n!==void 0?n:!i.expanded,i)}focus(e){const n=this.get(e);n&&this.$vApp.$el.querySelector(`.panel-container [data-cy="${n.id}"] [focus-container], .panel-container [data-cy="${n.id}"] [focus-list]`)?.focus()}}function hMt(t){return t.id!==void 0&&typeof t.id=="string"&&t.config!==void 0}const pMt={};function dMt(t,e){const n=En("panel-screen");return st(),Le(n,{header:!1,class:"screen-spinner"},{content:xn(()=>e[0]||(e[0]=[nt("div",{class:"loader"},null,-1)])),_:1})}const fMt=Po(pMt,[["render",dMt],["__scopeId","data-v-a3c61802"]]),mMt=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>import("./screen-D0o2ph4H.js"),"../fixtures/basemap/screen.vue":()=>import("./screen-GKa_E6ka.js"),"../fixtures/export/screen.vue":()=>import("./screen-D1x1e4ta.js"),"../fixtures/geosearch/screen.vue":()=>import("./screen-B-NpNTTl.js"),"../fixtures/grid/screen.vue":()=>import("./screen-Fxoc5Mmu.js"),"../fixtures/help/screen.vue":()=>import("./screen-DUVKyTtl.js"),"../fixtures/layer-reorder/screen.vue":()=>import("./screen-DViRJchW.js"),"../fixtures/legend/screen.vue":()=>import("./screen-DFVDA4uZ.js"),"../fixtures/metadata/screen.vue":()=>import("./screen-Bw6yOBSJ.js"),"../fixtures/settings/screen.vue":()=>import("./screen-B5MQ-hY7.js"),"../fixtures/wizard/screen.vue":()=>import("./screen-l29BWF-x.js")});class z0 extends _n{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(e){return this.loadedScreens.indexOf(e)!==-1}registerScreen(e){const n=this.screens[e];let i;if(kpt(n)||Cpt(n))i=n,this.loadedScreens.push(e);else if(_9(n))i={template:`<panel-screen :panel="this" :screenId="'${e}'">
                           </panel-screen>`};else{let r;typeof n=="string"?r=mMt[`../fixtures/${n}`]():r=n();const s=new Promise((o,a)=>{r.then(l=>{this.loadedScreens.push(e),o(Rpt(l)?l.default:l)}),r.catch(l=>a(l))});i=Nv({loader:()=>s,loadingComponent:fMt,delay:200})}this.$iApi.$element.component(e,i)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(e,n,i){if(super(e),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:n,style:{},expanded:!1,controls:{expand:!1,...i.controls},...i},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(e){return typeof e>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof e=="string"?{screen:e}:e}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(e){return this.$iApi.panel.move(this,e),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const e of this.$iApi.panel.visible)if(!e.teleport)return this.id===e.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let e=this.$iApi.panel.visible.length-1;e>=0;e--)if(!this.$iApi.panel.visible[e].teleport)return this.id===this.$iApi.panel.visible[e].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(e){return typeof e>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof e=="boolean"?e!==this.isOpen&&this.$iApi.panel.toggle(this,e):this.$iApi.panel.toggle({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}toggleMinimize(e){return typeof e>"u"||typeof e=="boolean"?this.$iApi.panel.toggleMinimize(this,e):this.$iApi.panel.toggleMinimize({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}pin(e){return e=typeof e<"u"?e:!this.isPinned,this.$iApi.panel.pin(this,e),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(e){const n=typeof e=="string"?{screen:e}:e;return this.route=n,this.$iApi.panel.show(this,n),this}setStyles(e,n=!1){return this.$iApi.panel.setStyle(this,e,n),this}expand(e){return this.$iApi.panel.expand(this,e),this}}class yMt extends _n{constructor(e){super(e)}async easyLayer(e,n){const i=this.$iApi.geo.layer.createLayer(e);await this.$iApi.geo.map.addLayer(i);const r=this.$iApi.fixture.get("legend");return r&&(n?r.addItem(n):await r.addLayerItem(i)),i}}function gMt(t){const e={};(Array.isArray(t)?t:[t]).forEach(s=>{s.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),s.language="en");const o=vMt(s);e[s.language]=o});const n=Object.entries(e).map(s=>{const o=s[1].fixturesEnabled;return delete s[1].fixturesEnabled,o});let i=!1;const r=n.reduce((s,o)=>s.filter(a=>{const l=o.includes(a);return i=i||!l,l}));return i&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),r.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:r,configs:e}}function vMt(t){const e={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return wMt(t.services,e),bMt(t.map,e),_Mt(t.ui,e),t.plugins&&xMt(t.plugins,e),e}function bMt(t,e){if(t.layers&&t.layers.forEach(n=>{e.layers.unshift(GV(n))}),t.initialBasemapId&&(e.map.initialBasemapId=t.initialBasemapId),t.components){if(t.components.geoSearch&&(t.components.geoSearch.enabled&&e.fixturesEnabled.push("geosearch"),typeof t.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof t.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),t.components.overviewMap&&t.components.overviewMap.enabled&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.startMinimized=!t.components.overviewMap.initiallyExpanded,e.fixtures.overviewmap.expandFactor=t.components.overviewMap.expandFactor??1.5),t.components.northArrow&&t.components.northArrow.enabled){const n={};t.components.northArrow.arrowIcon&&(n.arrowIcon=t.components.northArrow.arrowIcon),t.components.northArrow.poleIcon&&(n.poleIcon=t.components.northArrow.poleIcon),n&&(e.fixtures.northarrow=n,e.fixturesEnabled.push("northarrow"))}if(t.components.scaleBar&&t.components.scaleBar.enabled){switch(e.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:t?.components?.scaleBar?.scalebarUnit==="english"}},t.components?.mouseInfo?.spatialReference?.wkid){case 4326:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:e.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:e.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}t.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}t.components.basemap&&t.components.basemap.enabled&&e.fixturesEnabled.push("basemap")}t.extentSets&&(e.map.extentSets=[],t.extentSets.forEach(n=>{const i={id:n.id,default:{xmin:n.default.xmin,xmax:n.default.xmax,ymin:n.default.ymin,ymax:n.default.ymax,spatialReference:n.spatialReference}};n.full&&(i.full={xmin:n.full.xmin,xmax:n.full.xmax,ymin:n.full.ymin,ymax:n.full.ymax,spatialReference:n.spatialReference}),n.maximum&&(i.maximum={xmin:n.maximum.xmin,xmax:n.maximum.xmax,ymin:n.maximum.ymin,ymax:n.maximum.ymax,spatialReference:n.spatialReference}),e.map.extentSets.push(i)})),t.lodSets&&(e.map.lodSets=t.lodSets),t.tileSchemas&&(e.map.tileSchemas=[],t.tileSchemas.forEach(n=>{const i={id:n.id,name:n.name,extentSetId:n.extentSetId,lodSetId:n.lodSetId,thumbnailTileUrls:[],hasNorthPole:n.hasNorthPole||!1};n.overviewUrl&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.basemaps[n.id]={id:n.overviewUrl.id||`overviewmap-basemap-${n.id}`,tileSchemaId:n.id,layers:[{id:n.overviewUrl.id||`overviewmap-basemap-${n.id}-0`,layerType:n.overviewUrl.layerType==="esriDynamic"?xt.MAPIMAGE:xt.TILE,url:n.overviewUrl.url,opacity:n.overviewUrl.opacity??1}]}),e.map.tileSchemas.push(i)})),t.baseMaps&&(e.map.basemaps=[],t.baseMaps.forEach(n=>{const i={id:n.id,tileSchemaId:n.tileSchemaId,name:n.name,description:n.description,altText:n.altText,thumbnailUrl:n.thumbnailUrl,layers:[]};n.attribution&&(i.attribution={text:{},logo:{}},n.attribution.text&&(i.attribution.text.disabled=!n.attribution.text.enabled,i.attribution.text.value=n.attribution.text.value),n.attribution.logo&&(i.attribution.logo.disabled=!n.attribution.logo.enabled,i.attribution.logo.altText=n.attribution.logo.altText,i.attribution.logo.value=n.attribution.logo.value,i.attribution.logo.link=n.attribution.logo.link)),n.layers.forEach((r,s)=>{const o={id:r.id||`${n.id}-${s}`,layerType:r.layerType==="esriDynamic"?xt.MAPIMAGE:xt.TILE,url:r.url,opacity:r.opacity??1};i.layers.push(o)}),e.map.basemaps.push(i)})),t.legend&&(e.fixturesEnabled.push("legend"),t.legend.type==="autopopulate"?(e.fixtures.legend={root:{name:"I'm root",children:[]}},e.layers&&e.layers.toReversed().forEach(n=>{if(n.type==="esri-map-image"||n.type==="ogc-wms"){const i={name:n.name??`${n.id} Group`,children:[]};n.sublayers.forEach(r=>{const s={layerId:n.id};r.name&&(s.name=r.name),r.controls&&(s.controls=r.controls),r.disabledControls&&(s.disabledControls=r.disabledControls),n.type==="esri-map-image"?s.sublayerIndex=r.index:(s.sublayerId=r.id,console.warn(`sublayerId property defined in legend entry ${s.layerId} is currently not supported.`)),i.children.push(s)}),e.fixtures.legend.root.children.push(i)}else{const i={layerId:n.id};n.controls&&(i.controls=n.controls),n.disabledControls&&(i.disabledControls=n.disabledControls),e.fixtures.legend.root.children.push(i)}})):e.fixtures.legend={root:zT(t.legend.root)})}function zT(t){const e={name:t.name,children:[]};typeof t.hidden<"u"&&(e.hidden=t.hidden),typeof t.expanded<"u"&&(e.expanded=t.expanded);const n=["identify","opacity","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=yd(t.controls,n),t.controls.includes("visibility")&&e.controls.push("visibilityButton"),(t.controls.length!==1||t.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),e.controls.push("expandButton")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=yd(t.disabledControls,n),t.disabledControls.includes("visibility")&&e.disabledControls.push("visibilityButton"),(t.disabledControls.length!==1||t.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),t.children.forEach(i=>{if(i.layerId)e.children.push($V(i));else if(i.infoType)i.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`):(e.children.push({infoType:i.infoType,content:i.content}),typeof i.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`));else if(i.exclusiveVisibility){const r={name:"Visibility Set",children:[],exclusive:!0};typeof i.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`),i.exclusiveVisibility.forEach(s=>{s.layerId?r.children.push($V(s)):r.children.push(zT(s))}),e.children.push(r)}else e.children.push(zT(i))}),e}function $V(t){const e=t,n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.layerControls=yd(t.controls,n),e.layerControls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledLayerControls=yd(t.disabledControls,n)),t.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),delete e.controlledIds),t.entryIndex&&(e.sublayerIndex=t.entryIndex,delete t.entryIndex),t.entryId&&console.warn(`entryId property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),e}function GV(t){const e=WT(t);switch(e.id=t.id,e.url=t.url,t.refreshInterval&&(e.refreshInterval=t.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),t.expectedResponseTime&&(e.expectedLoadTime=t.expectedResponseTime),t.metadataUrl&&(e.metadata={url:t.metadataUrl}),t.catalogueUrl&&(e.catalogueUrl=t.catalogueUrl),typeof t.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.tooltipField&&(e.maptipField=t.tooltipField),t.tolerance&&(e.mouseTolerance=t.tolerance,t.layerType==="esriDynamic"&&(e.touchTolerance=t.tolerance+10)),t.customRenderer&&(e.customRenderer=t.customRenderer),t.layerType){case"esriDynamic":e.layerType="esri-map-image",typeof t.singleEntryCollapse<"u"&&(e.singleEntryCollapse=t.singleEntryCollapse),t.imageFormat&&(e.imageFormat=t.imageFormat),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(n=>{const i=WT(n);i.index=n.index,e.sublayers.push(i)}));break;case"esriFeature":e.layerType="esri-feature",t.fileType&&(e.layerType=t.fileType==="shapefile"?"file-shape":`file-${t.fileType}`,t.colour&&(e.colour=t.colour),t.latField&&(e.latField=t.latField),t.longField&&(e.longField=t.longField));break;case"ogcWfs":e.layerType="ogc-wfs",t.colour&&(e.colour=t.colour),typeof t.xyInAttribs<"u"&&(e.xyInAttribs=t.xyInAttribs);break;case"ogcWms":e.layerType="ogc-wms",t.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.featureInfoMimeType&&(t.featureInfoMimeType==="text/html;fgpv=summary"?e.featureInfoMimeType="text/html":e.featureInfoMimeType=t.featureInfoMimeType),t.legendMimeType&&console.warn(`legendMimeType property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(n=>{const i=WT(n);i.id=n.id,n.currentStyle&&(i.currentStyle=n.currentStyle,console.warn(`currentStyle property provided in layer entry ${n.id} of layer ${t.id} is currently not supported.`)),n.allStyles&&console.warn(`allStyles property provided in layer entry ${n.id} of layer ${t.id} cannot be mapped and will be skipped.`),e.sublayers.push(i)}));break;case"esriImage":e.layerType="esri-imagery";break;case"esriTile":e.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${t.layerType}`)}return t.details&&console.warn(`Details config provided in layer ${t.id} cannot be mapped and will be skipped.`),e}function WT(t){const e={};t.name&&(e.name=t.name),t.nameField&&(e.nameField=t.nameField),t.extent&&(e.extent=t.extent);const n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=yd(t.controls,n),e.controls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=yd(t.disabledControls,n)),t.state&&(e.state={opacity:t.state.opacity??1,visibility:t.state.visibility??!0,identify:t.state.query??!0,maptips:t.state.hovertips??!0},typeof t.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`)),typeof t.stateOnly<"u"&&(e.cosmetic=t.stateOnly),t.initialFilteredQuery&&(e.initialFilteredQuery=t.initialFilteredQuery),EMt(t,e),(typeof t.toggleSymbology<"u"||t.table)&&(e.fixtures={},typeof t.toggleSymbology<"u"&&(e.fixtures.legend={toggleSymbology:t.toggleSymbology}),t.table&&(e.fixtures.grid={},t.table.title&&(e.fixtures.grid.title=t.table.title),t.table.description&&console.warn(`description property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.search&&(t.table.search.enabled&&(e.fixtures.grid.search=t.table.search.enabled),t.table.search.value&&(e.fixtures.grid.searchFilter=t.table.search.value)),typeof t.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.applyMap<"u"&&(e.fixtures.grid.applyMap=t.table.applyMap),typeof t.table.showFilter<"u"&&(e.fixtures.grid.showFilter=t.table.showFilter),typeof t.table.filterByExtent<"u"&&(e.fixtures.grid.filterByExtent=t.table.filterByExtent),typeof t.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.columns&&(e.fixtures.grid.columns=[],t.table.columns.forEach(i=>{const r={field:i.data};i.title&&(r.title=i.title),i.description&&console.warn(`description property provided in column property in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof i.visible<"u"&&(r.visible=i.visible),i.width&&(r.width=i.width),i.sort&&(r.sort=i.sort),typeof i.searchable<"u"&&(r.searchable=i.searchable),i.filter&&(r.filter=i.filter),e.fixtures.grid.columns.push(r)})))),e}function yd(t,e){const n=[];return t.forEach(i=>{e.includes("identify")&&i==="query"?n.push("identify"):e.includes("datatable")&&i==="data"?n.push("datatable"):e.includes(i)?n.push(i):console.warn(`Ignored invalid control: ${i}`)}),n}function wMt(t,e){t&&(t.search&&(e.fixtures.geosearch={},e.fixtures.geosearch.serviceUrls={geoNames:t.search.serviceUrls.geoNames,geoLocation:t.search.serviceUrls.geoLocation,geoProvince:t.search.serviceUrls.provinces,geoTypes:t.search.serviceUrls.types},t.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),t.search.settings&&(e.fixtures.geosearch.settings=t.search.settings),t.search.disabledSearches&&(e.fixtures.geosearch.settings.disabledSearchTypes=t.search.disabledSearches.filter(n=>n!=="SCALE"))),t.export&&(e.fixtures.export||(e.fixtures.export={},e.fixturesEnabled.push("export")),t.export.title&&(e.fixtures.export.title={selected:t.export.title.isSelected??!0,selectable:t.export.title.isSelectable??!0,value:t.export.title.value??"RAMP-Map / PCAR-Carte"}),t.export.map&&(e.fixtures.export.map={selected:t.export.map.isSelected??!0,selectable:t.export.map.isSelectable??!0},t.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),t.export.mapElements&&(e.fixtures.export.mapElements={selected:t.export.mapElements.isSelected??!0,selectable:t.export.mapElements.isSelectable??!0},t.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),t.export.legend&&(e.fixtures.export.legend={selected:t.export.legend.isSelected??!0,selectable:t.export.legend.isSelectable??!0},t.export.legend.columnWidth&&(e.fixtures.export.legend.columnWidth=t.export.legend.columnWidth),t.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),t.export.footnote&&(e.fixtures.export.footnote={selected:t.export.footnote.isSelected??!0,selectable:t.export.footnote.isSelectable??!0,value:t.export.footnote.value??""}),t.export.timestamp&&(e.fixtures.export.timestamp={selected:t.export.timestamp.isSelected??!0,selectable:t.export.timestamp.isSelectable??!0},t.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),t.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof t.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),t.proxyUrl&&(e.system.proxyUrl=t.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(n=>{typeof t[n]<"u"&&console.warn(`${n} property provided in services config cannot be mapped and will be skipped.`)}))}function _Mt(t,e){if(t.navBar){e.fixtures.mapnav={zoomOption:t.navBar.zoom||"buttons",items:[]};const i=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];t.navBar.extra.forEach(r=>{const s=r.toLowerCase();i.includes(s)?e.fixtures.mapnav.items.push(s):console.warn(`Ignored invalid mapnav item: ${r}`)}),e.fixturesEnabled.push("mapnav")}if(t.help&&(e.fixtures.help={location:t.help.folderName&&t.help.folderName!=="default"?`./${t.help.folderName}`:"./help",panelWidth:350},e.fixturesEnabled.push("help")),t.legend){const i=["groupToggle","visibilityToggle"];t.legend.reorderable&&i.push("layerReorder"),t.legend.allowImport&&i.push("wizard"),e.fixtures.legend?e.fixtures.legend.headerControls=i:(e.fixturesEnabled.push("legend"),e.fixtures.legend={headerControls:i,root:{}}),t.legend.isOpen&&t.legend.isOpen.large&&e.panels.open.push({id:"legend"})}e.fixtures.appbar={items:[]},e.fixturesEnabled.push("appbar");const n=["layers","basemap","export","help","geoSearch"];t.appBar?(t.appBar.layers!==!1&&(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")),t.appBar.geoSearch!==!1&&e.fixturesEnabled.includes("geosearch")&&e.fixtures.appbar.items.push("geosearch"),t.appBar.basemap!==!1&&e.fixtures.appbar.items.push("basemap")):(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend"),e.fixtures.appbar.items.push("geosearch"),e.fixtures.appbar.items.push("basemap")),t.sideMenu&&t.sideMenu.items&&t.sideMenu.items.length>0&&t.sideMenu.items.forEach(i=>{i.forEach(r=>{r==="layers"&&!e.fixtures.appbar.items.includes("legend")?(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")):r!=="layers"&&n.includes(r)&&!e.fixtures.appbar.items.includes(r.toLowerCase())&&(e.fixtures.appbar.items.push(r.toLowerCase()),(r.toLowerCase()==="help"||r.toLowerCase()==="export"&&!e.fixturesEnabled.includes(r.toLowerCase()))&&e.fixturesEnabled.push(r.toLowerCase()))})}),t.tableIsOpen&&t.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(i=>{typeof t[i]<"u"&&console.warn(`${i} property provided in services config cannot be mapped and will be skipped.`)})}function xMt(t,e){t.areasOfInterest.enable&&(e.fixturesEnabled.includes("areas-of-interest")||e.fixturesEnabled.push("areas-of-interest"),t.areasOfInterest.areas&&(e.fixtures["areas-of-interest"]={areas:t.areasOfInterest.areas.map(n=>({title:`${n["title-en-CA"]} / ${n["title-fr-CA"]}`,thumbnail:n.thumbnailUrl,altText:n.altText??"",description:n.description??"",extent:{xmin:n.xmin,xmax:n.xmax,ymin:n.ymin,ymax:n.ymax,spatialReference:{wkid:n.wkid}}}))}))}function EMt(t,e){const n=t.outfields&&t.outfields!=="*";if(!n&&!t.fieldMetadata)return;const i={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};t.fieldMetadata?(i.fieldInfo=t.fieldMetadata.map(r=>{const s={name:r.data};return r.alias&&(s.alias=r.alias),s}),n&&(t.outfields.split(",").map(r=>r.trim()).forEach(r=>{i.fieldInfo.findIndex(s=>s.name===r)===-1&&i.fieldInfo.push({name:r})}),i.exclusiveFields=!0)):n&&(i.fieldInfo=t.outfields.split(",").map(r=>({name:r.trim()})),i.exclusiveFields=!0),e.fieldMetadata=i}var gd={major:"4",minor:"16",patch:"0-beta",timestamp:"Wed Feb 4 10:13:04 2026 -0500",hash:"5d0b633fc354874b94f79c8608a0ee64b40170eb"};console.info(`RAMP v${gd.major}.${gd.minor}.${gd.patch} [${gd.hash.slice(0,9)}] (Built on ${new Date(gd.timestamp.toString()).toLocaleString()})`);const vd=gd;function SMt(t){return gMt(t)}function AMt(t){return GV(t)}const MMt=(t,e,n)=>new J4t(t,e,n),cc=new Opt;export{Qu as $,Rw as A,UJ as B,Sw as C,Znt as D,Xrt as E,J2 as F,ht as G,fn as H,Jr as I,$N as J,ML as K,HI as L,at as M,Wn as N,fe as O,pi as P,sst as Q,mY as R,jE as S,Xa as T,xJ as U,BI as V,ost as W,E as X,tt as Y,Vt as Z,v as _,mc as a,aE as a$,Hr as a0,z_ as a1,g5 as a2,eh as a3,Oz as a4,Re as a5,dn as a6,LY as a7,Id as a8,Xu as a9,ax as aA,ef as aB,Xy as aC,hh as aD,Qa as aE,PI as aF,Bi as aG,qn as aH,D8 as aI,Ju as aJ,vJ as aK,B_ as aL,V_ as aM,r5 as aN,Jd as aO,Zd as aP,Os as aQ,LP as aR,uyt as aS,Is as aT,_h as aU,Mx as aV,Ix as aW,Tx as aX,Ax as aY,Vnt as aZ,UI as a_,yc as aa,ae as ab,est as ac,sY as ad,uO as ae,Ko as af,Ee as ag,UW as ah,pn as ai,mI as aj,Cc as ak,Q as al,vI as am,Qr as an,GJ as ao,Yr as ap,He as aq,Z as ar,Zn as as,bn as at,Ha as au,jn as av,Oy as aw,Gw as ax,AN as ay,o1 as az,qg as b,DY as b$,qit as b0,L5 as b1,pR as b2,h3 as b3,zet as b4,Wet as b5,ket as b6,zg as b7,RR as b8,Ri as b9,pe as bA,ah as bB,iO as bC,SQ as bD,xQ as bE,lr as bF,aet as bG,Vi as bH,Lg as bI,yI as bJ,ent as bK,vR as bL,nR as bM,x_ as bN,zw as bO,Hi as bP,mg as bQ,g8 as bR,y8 as bS,v3 as bT,Oet as bU,Net as bV,het as bW,Fh as bX,Lh as bY,Bc as bZ,int as b_,yw as ba,mR as bb,Gd as bc,iet as bd,Nt as be,$c as bf,Zz as bg,E_ as bh,A_ as bi,GW as bj,wq as bk,Uw as bl,NY as bm,Fd as bn,zd as bo,Kw as bp,Zr as bq,_O as br,By as bs,qy as bt,xO as bu,Vd as bv,cY as bw,EY as bx,n_ as by,Od as bz,qI as c,qet as c$,PY as c0,te as c1,Ho as c2,Ac as c3,EJ as c4,az as c5,lz as c6,LQ as c7,cz as c8,Zo as c9,qr as cA,_P as cB,Kh as cC,ou as cD,YE as cE,H2 as cF,cP as cG,uP as cH,N1 as cI,O1 as cJ,We as cK,Mot as cL,$st as cM,pS as cN,M1 as cO,_et as cP,DW as cQ,il as cR,Jc as cS,IL as cT,NL as cU,OL as cV,Ed as cW,j8 as cX,a1 as cY,rst as cZ,nst as c_,nit as ca,Us as cb,Gc as cc,sn as cd,cI as ce,mz as cf,uh as cg,le as ch,nz as ci,Lz as cj,iw as ck,se as cl,Ec as cm,Qe as cn,P_ as co,qd as cp,YO as cq,$W as cr,dJ as cs,RQ as ct,RW as cu,sh as cv,kY as cw,oh as cx,dh as cy,Qo as cz,Gi as d,jQ as d$,Yd as d0,z8 as d1,W8 as d2,q8 as d3,iz as d4,Un as d5,yn as d6,Bn as d7,ui as d8,ar as d9,Sx as dA,BX as dB,nk as dC,Y_ as dD,$_ as dE,yR as dF,tnt as dG,j_ as dH,Het as dI,hR as dJ,_H as dK,wH as dL,dO as dM,Ja as dN,Vy as dO,Lnt as dP,Ret as dQ,UO as dR,cJ as dS,GO as dT,Kr as dU,TL as dV,QV as dW,cw as dX,K2 as dY,dz as dZ,mw as d_,Wy as da,Vh as db,c1 as dc,zX as dd,Tit as de,Yit as df,jy as dg,TQ as dh,Wit as di,$Z as dj,Nw as dk,ny as dl,bz as dm,nw as dn,i5 as dp,GE as dq,ynt as dr,mnt as ds,bnt as dt,vnt as du,gnt as dv,dR as dw,fR as dx,MQ as dy,Ew as dz,Nx as e,fx as e$,sz as e0,Sd as e1,Ad as e2,sw as e3,aw as e4,lw as e5,Iz as e6,Po as e7,ft as e8,st as e9,YJ as eA,MW as eB,t1 as eC,S8 as eD,pk as eE,eu as eF,kL as eG,iat as eH,Fot as eI,pP as eJ,xW as eK,Yo as eL,LW as eM,wW as eN,Dot as eO,$O as eP,art as eQ,nrt as eR,BQ as eS,GQ as eT,bh as eU,li as eV,UQ as eW,VQ as eX,Ky as eY,kX as eZ,mx as e_,nt as ea,lx as eb,J5 as ec,zi as ed,tQ as ee,Rc as ef,CZ as eg,ug as eh,CX as ei,af as ej,lg as ek,cg as el,OX as em,GX as en,tC as eo,CC as ep,K5 as eq,OC as er,$q as es,Uq as et,d5 as eu,m5 as ev,f5 as ew,y5 as ex,jJ as ey,$J as ez,Ft as f,ml as f$,PC as f0,co as f1,sg as f2,rX as f3,wi as f4,hg as f5,kc as f6,JW as f7,tst as f8,wnt as f9,nc as fA,eV as fB,Wt as fC,be as fD,Le as fE,En as fF,_t as fG,xn as fH,Sa as fI,Ie as fJ,we as fK,Ke as fL,ve as fM,km as fN,l0 as fO,Dm as fP,Vn as fQ,ri as fR,Nn as fS,us as fT,Ne as fU,Js as fV,zt as fW,Nv as fX,Md as fY,OI as fZ,Rrt as f_,x8 as fa,E8 as fb,Cy as fc,Dq as fd,Qrt as fe,Tz as ff,Lit as fg,Kit as fh,iY as fi,TY as fj,kJ as fk,RJ as fl,drt as fm,PW as fn,$I as fo,nV as fp,Et as fq,Xe as fr,IR as fs,NR as ft,CR as fu,gn as fv,dk as fw,zJ as fx,Zt as fy,Je as fz,EI as g,nx as g$,Rh as g0,gz as g1,ew as g2,Ert as g3,rr as g4,V8 as g5,wc as g6,fO as g7,ta as g8,nQ as g9,IZ as gA,KX as gB,VX as gC,zC as gD,uQ as gE,tk as gF,eg as gG,Dz as gH,oE as gI,Iit as gJ,Pg as gK,dst as gL,cit as gM,ig as gN,rit as gO,v5 as gP,c5 as gQ,W_ as gR,_it as gS,wit as gT,Z8 as gU,xx as gV,Hrt as gW,SL as gX,fh as gY,sx as gZ,jZ as g_,Qd as ga,Mc as gb,Kd as gc,ZX as gd,tl as ge,vH as gf,RY as gg,__ as gh,BJ as gi,SY as gj,z3 as gk,YI as gl,ok as gm,IC as gn,fz as go,gC as gp,lZ as gq,mJ as gr,e5 as gs,n5 as gt,pz as gu,J8 as gv,t5 as gw,kd as gx,Vit as gy,Oit as gz,TO as h,Eit as h$,ix as h0,b1 as h1,SZ as h2,dy as h3,Dy as h4,xw as h5,C8 as h6,v1 as h7,I1 as h8,Tot as h9,IW as hA,Tw as hB,mV as hC,N as hD,Aw as hE,Iw as hF,kz as hG,_L as hH,fW as hI,FY as hJ,UH as hK,oP as hL,B8 as hM,F8 as hN,MC as hO,xC as hP,s5 as hQ,ye as hR,TZ as hS,GZ as hT,j5 as hU,px as hV,of as hW,bC as hX,yh as hY,EZ as hZ,tz as h_,Sot as ha,Eot as hb,Iot as hc,pa as hd,TW as he,tV as hf,qe as hg,a0 as hh,fV as hi,Eb as hj,p_ as hk,w_ as hl,_c as hm,Vz as hn,ih as ho,$d as hp,o5 as hq,yJ as hr,oz as hs,hw as ht,SH as hu,XN as hv,KN as hw,eO as hx,bc as hy,eN as hz,Oe as i,oet as i$,xit as i0,ng as i1,aQ as i2,ik as i3,dV as i4,Hm as i5,hk as i6,vC as i7,wC as i8,_C as i9,xt as iA,yV as iB,er as iC,oo as iD,Wr as iE,Wa as iF,ya as iG,Lp as iH,_n as iI,dd as iJ,em as iK,bV as iL,fv as iM,hs as iN,Vm as iO,mv as iP,B3 as iQ,VE as iR,zE as iS,Iat as iT,F1 as iU,iy as iV,Gz as iW,ry as iX,Uz as iY,U3 as iZ,xc as i_,Gy as ia,bO as ib,Fq as ic,P5 as id,jz as ie,$z as ig,Fz as ih,hO as ii,GA as ij,fd as ik,kT as il,hV as im,sZ as io,nb as ip,Dp as iq,X2 as ir,HV as is,ZT as it,qV as iu,XT as iv,PT as iw,Ua as ix,LT as iy,B2 as iz,WI as j,Fnt as j$,yg as j0,Rq as j1,Xz as j2,l1 as j3,Nit as j4,Mit as j5,Pnt as j6,F5 as j7,IO as j8,ze as j9,Ast as jA,krt as jB,Ort as jC,UE as jD,hi as jE,SI as jF,nW as jG,o_ as jH,N5 as jI,R5 as jJ,Q_ as jK,hZ as jL,WE as jM,_J as jN,by as jO,hq as jP,uq as jQ,sN as jR,rN as jS,LZ as jT,OZ as jU,cq as jV,Yrt as jW,Wrt as jX,sf as jY,_x as jZ,lX as j_,tm as ja,Zw as jb,Vs as jc,EC as jd,kW as je,K_ as jf,C5 as jg,ZW as jh,XW as ji,XV as jj,$M as jk,qj as jl,Dr as jm,GU as jn,UU as jo,qm as jp,ie as jq,QJ as jr,KJ as js,wY as jt,mO as ju,yk as jv,Nrt as jw,Vet as jx,AL as jy,pst as jz,De as k,Ce as k$,jnt as k0,$nt as k1,DX as k2,LX as k3,NX as k4,pC as k5,RX as k6,RC as k7,Pq as k8,sQ as k9,ex as kA,mst as kB,yst as kC,fst as kD,kh as kE,wV as kF,gV as kG,ce as kH,xd as kI,Y2 as kJ,rV as kK,Ms as kL,F2 as kM,gi as kN,Rt as kO,XB as kP,$Q as kQ,oy as kR,J_ as kS,Yz as kT,T8 as kU,$R as kV,Af as kW,Mf as kX,JR as kY,k8 as kZ,Trt as k_,Dnt as ka,nl as kb,yl as kc,aY as kd,s_ as ke,Bd as kf,MY as kg,IV as kh,OV as ki,NV as kj,vV as kk,bx as kl,sk as km,cQ as kn,Nd as ko,UY as kp,Xw as kq,Sst as kr,Az as ks,DZ as kt,cx as ku,Y5 as kv,hx as kw,W5 as kx,Z5 as ky,ak as kz,Zu as l,jo as l$,sI as l0,Ei as l1,yo as l2,ua as l3,Tn as l4,cL as l5,Hz as l6,H8 as l7,vz as l8,R8 as l9,Ait as lA,Sit as lB,K8 as lC,jq as lD,uy as lE,jH as lF,fc as lG,Oa as lH,rn as lI,VJ as lJ,fJ as lK,pI as lL,wO as lM,u_ as lN,JI as lO,Aq as lP,kq as lQ,xN as lR,YV as lS,SC as lT,B5 as lU,V5 as lV,$5 as lW,z5 as lX,iC as lY,Pu as lZ,DU as l_,S_ as la,iN as lb,Jo as lc,ow as ld,eY as le,m_ as lf,G_ as lg,r_ as lh,v_ as li,cet as lj,yH as lk,yz as ll,dx as lm,ez as ln,Ont as lo,uY as lp,c8 as lq,Ct as lr,hn as ls,Xs as lt,RT as lu,$2 as lv,U4 as lw,pV as lx,Lv as ly,Be as lz,wS as m,l8 as m$,kn as m0,yu as m1,$U as m2,Ur as m3,Bt as m4,Dv as m5,Rv as m6,yi as m7,l4 as m8,nC as m9,Hn as mA,Yn as mB,Jit as mC,nN as mD,EW as mE,QW as mF,rk as mG,Nz as mH,Sz as mI,FJ as mJ,DJ as mK,_w as mL,S4 as mM,j4 as mN,$l as mO,Fp as mP,Qi as mQ,Ep as mR,E4 as mS,tb as mT,pc as mU,z0 as mV,so as mW,oi as mX,wn as mY,Bz as mZ,k3 as m_,H5 as ma,nf as mb,lQ as mc,hP as md,oq as me,Dd as mf,ao as mg,fy as mh,ant as mi,Ktt as mj,Crt as mk,os as ml,X3 as mm,Srt as mn,Art as mo,Mrt as mp,Jtt as mq,Hg as mr,FW as ms,Rz as mt,sW as mu,Q5 as mv,rC as mw,sat as mx,D5 as my,Frt as mz,w1 as n,ux as n$,Pw as n0,JO as n1,ZO as n2,L_ as n3,R_ as n4,PJ as n5,LJ as n6,p5 as n7,iit as n8,zrt as n9,dw as nA,uet as nB,QC as nC,iQ as nD,ck as nE,fQ as nF,Nr as nG,kZ as nH,Rr as nI,tZ as nJ,CI as nK,iq as nL,_Y as nM,AC as nN,sC as nO,FZ as nP,q5 as nQ,sE as nR,iW as nS,PZ as nT,bR as nU,n8 as nV,$h as nW,Gh as nX,wR as nY,Qz as nZ,jrt as n_,qrt as na,Vrt as nb,Urt as nc,xz as nd,d8 as ne,p8 as nf,e1 as ng,yS as nh,SP as ni,NP as nj,dat as nk,AP as nl,Qst as nm,sS as nn,uat as no,EP as np,mP as nq,PQ as nr,b8 as ns,Cet as nt,fet as nu,vet as nv,yet as nw,bet as nx,get as ny,Eet as nz,lh as o,X5 as o$,eC as o0,WJ as o1,go as o2,xi as o3,Zrt as o4,vW as o5,uI as o6,_z as o7,wz as o8,kC as o9,Pit as oA,Kz as oB,grt as oC,yrt as oD,Pz as oE,Cit as oF,NZ as oG,zit as oH,rW as oI,Unt as oJ,ss as oK,Est as oL,fC as oM,cX as oN,pX as oO,FX as oP,hX as oQ,dX as oR,$X as oS,LC as oT,Fit as oU,Qc as oV,Q8 as oW,ZV as oX,pit as oY,kit as oZ,rz as o_,KV as oa,gI as ob,Mz as oc,Uit as od,Bit as oe,TC as of,rE as og,gk as oh,sit as oi,jW as oj,pq as ok,Brt as ol,VI as om,A8 as on,eQ as oo,T5 as op,S5 as oq,Qw as or,gH as os,rQ as ot,zh as ou,Wh as ov,qh as ow,Hit as ox,Rit as oy,jit as oz,Wd as p,X8 as p0,lit as p1,$it as p2,ait as p3,oit as p4,RZ as p5,bW as p6,Git as p7,Y8 as p8,vd as p9,SMt as pa,AMt as pb,MMt as pc,cc as pd,yY as q,fw as r,re as s,sy as t,Wot as u,Jh as v,Jrt as w,mo as x,tf as y,Pt as z};
