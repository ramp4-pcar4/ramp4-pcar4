{"version":3,"file":"Texture-BmeYLtsX.js","sources":["../../node_modules/@arcgis/core/CameraLayout.js","../../node_modules/@arcgis/core/Camera.js","../../node_modules/@arcgis/core/views/webgl/checkWebGLError.js","../../node_modules/@arcgis/core/views/webgl/Util.js","../../node_modules/@arcgis/core/views/webgl/TextureDescriptor.js","../../node_modules/@arcgis/core/views/webgl/textureUtils.js","../../node_modules/@arcgis/core/views/webgl/ValidatedTextureDescriptor.js","../../node_modules/@arcgis/core/views/webgl/Texture.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{Clonable as r}from\"./core/Clonable.js\";import{property as e}from\"./core/accessorSupport/decorators/property.js\";import\"./core/has.js\";import\"./core/Logger.js\";import\"./core/RandomLCG.js\";import{subclass as s}from\"./core/accessorSupport/decorators/subclass.js\";let t=class extends r{constructor(o){super(o),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(o){return null!=o&&(this.row===o.row&&this.rows===o.rows&&this.column===o.column&&this.columns===o.columns)}};o([e({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],t.prototype,\"row\",void 0),o([e({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],t.prototype,\"column\",void 0),o([e({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],t.prototype,\"rows\",void 0),o([e({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],t.prototype,\"columns\",void 0),t=o([s(\"esri.CameraLayout\")],t);const l=t;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import r from\"./CameraLayout.js\";import{ClonableMixin as t}from\"./core/Clonable.js\";import{cyclicalDegrees as e}from\"./core/Cyclical.js\";import{JSONSupport as i}from\"./core/JSONSupport.js\";import{clamp as s}from\"./core/mathUtils.js\";import{property as p}from\"./core/accessorSupport/decorators/property.js\";import{cast as n}from\"./core/accessorSupport/decorators/cast.js\";import\"./core/has.js\";import\"./core/RandomLCG.js\";import{reader as a}from\"./core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"./core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"./core/accessorSupport/decorators/writer.js\";import{ensureNumber as u}from\"./core/accessorSupport/ensureType.js\";import m from\"./geometry/Point.js\";let y=class extends(t(i)){constructor(...o){super(...o),this.position=new m([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new r}normalizeCtorArgs(o,r,t,e){if(o&&\"object\"==typeof o&&(\"x\"in o||Array.isArray(o))){const i={position:o};return null!=r&&(i.heading=r),null!=t&&(i.tilt=t),null!=e&&(i.fov=e),i}return o}writePosition(o,r,t,e){const i=o.clone();i.x=u(o.x||0),i.y=u(o.y||0),i.z=o.hasZ?u(o.z||0):o.z,r[t]=i.write({},e)}readPosition(o,r){const t=new m;return t.read(o,r),t.x=u(t.x||0),t.y=u(t.y||0),t.z=t.hasZ?u(t.z||0):t.z,t}equals(o){return null!=o&&(this.tilt===o.tilt&&this.heading===o.heading&&this.fov===o.fov&&this.position.equals(o.position)&&this.layout.equals(o.layout))}};o([p({type:m,json:{write:{isRequired:!0}}})],y.prototype,\"position\",void 0),o([c(\"position\")],y.prototype,\"writePosition\",null),o([a(\"position\")],y.prototype,\"readPosition\",null),o([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),n(o=>e.normalize(u(o)))],y.prototype,\"heading\",void 0),o([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),n(o=>s(u(o),-180,180))],y.prototype,\"tilt\",void 0),o([p({type:Number,nonNullable:!0,json:{default:55,write:!0}}),n(o=>s(u(o,55),1,170))],y.prototype,\"fov\",void 0),o([p({type:r,nonNullable:!0,json:{read:!1,write:!1}})],y.prototype,\"layout\",void 0),y=o([l(\"esri.Camera\")],y);const d=y;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import has from\"../../core/has.js\";import r from\"../../core/Logger.js\";const n=()=>r.getLogger(\"esri.views.webgl.checkWebGLError\");function t(e){switch(e.getError()){case e.NO_ERROR:return null;case e.INVALID_ENUM:return\"Invalid Enum. An unacceptable value has been specified for an enumerated argument.\";case e.INVALID_VALUE:return\"Invalid Value. A numeric argument is out of range.\";case e.INVALID_OPERATION:return\"Invalid Operation. The specified command is not allowed for the current state.\";case e.INVALID_FRAMEBUFFER_OPERATION:return\"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.\";case e.OUT_OF_MEMORY:return\"Out of memory. Not enough memory is left to execute the command.\";case e.CONTEXT_LOST_WEBGL:return\"WebGL context has been lost\";default:return\"Unknown error\"}}const o=!!has(\"enable-feature:webgl-debug\");function a(){return o}function c(){return o}function u(r,o=a()){if(o){const o=t(r);if(o){const r=(new Error).stack;n().error(new e(\"webgl-error\",\"WebGL error occurred\",{message:o,stack:r}))}}}export{u as checkWebGLError,t as getErrorMessage,o as hasFeatureFlagWebGLDebug,a as webglDebugEnabled,c as webglValidateShadersEnabled};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{webglDebugEnabled as e,getErrorMessage as s}from\"./checkWebGLError.js\";import{CompressedTextureFormat as c,SizedPixelFormat as a,SizedDepthStencilFormat as r,SizedDepthFormat as t}from\"./enums.js\";function R(c,a,r,t=0){const R=c.gl;c.bindBuffer(r);for(const n of r.layout){const r=a.get(n.name);if(null==r){console.warn(`There is no location for vertex attribute '${n.name}' defined.`);continue}const _=t*n.stride;if(n.count<=4)R.vertexAttribPointer(r,n.count,n.type,n.normalized,n.stride,n.offset+_),R.enableVertexAttribArray(r),n.divisor>0&&R.vertexAttribDivisor(r,n.divisor);else if(9===n.count)for(let e=0;e<3;e++)R.vertexAttribPointer(r+e,3,n.type,n.normalized,n.stride,n.offset+12*e+_),R.enableVertexAttribArray(r+e),n.divisor>0&&R.vertexAttribDivisor(r+e,n.divisor);else if(16===n.count)for(let e=0;e<4;e++)R.vertexAttribPointer(r+e,4,n.type,n.normalized,n.stride,n.offset+16*e+_),R.enableVertexAttribArray(r+e),n.divisor>0&&R.vertexAttribDivisor(r+e,n.divisor);else console.error(\"Unsupported vertex attribute element count: \"+n.count);if(e()){const e=s(c.gl);e&&console.error(`Unable to bind vertex attribute \"${n.name}\" with baseInstanceOffset ${_}:`,e,n)}}}function n(e){switch(e){case 6406:case 6409:case 6403:case 36244:case 6402:case 34041:return 1;case 6410:case 33319:case 33320:return 2;case 6407:case 36248:return 3;case 6408:case 36249:return 4}return 0}function _(e){switch(e){case 6406:case 6409:case 6403:case 36244:case a.R8:case a.R8I:case a.R8UI:case a.R8_SNORM:case 36168:return 1;case 6410:case 33319:case 33320:case a.RGBA4:case a.R16F:case a.R16I:case a.R16UI:case a.RG8:case a.RG8I:case a.RG8UI:case a.RG8_SNORM:case a.RGB565:case a.RGB5_A1:case t.DEPTH_COMPONENT16:return 2;case 6407:case 36248:case a.RGB8:case a.RGB8I:case a.RGB8UI:case a.RGB8_SNORM:case a.SRGB8:case t.DEPTH_COMPONENT24:return 3;case 6408:case 36249:case a.RGBA8:case a.R32F:case a.R11F_G11F_B10F:case a.RG16F:case a.R32I:case a.R32UI:case a.RG16I:case a.RG16UI:case a.RGBA8I:case a.RGBA8UI:case a.RGBA8_SNORM:case a.SRGB8_ALPHA8:case a.RGB9_E5:case a.RGB10_A2UI:case a.RGB10_A2:case t.DEPTH_COMPONENT32F:case r.DEPTH24_STENCIL8:return 4;case r.DEPTH32F_STENCIL8:return 5;case a.RGB16F:case a.RGB16I:case a.RGB16UI:return 6;case a.RG32F:case a.RG32I:case a.RG32UI:case a.RGBA16F:case a.RGBA16I:case a.RGBA16UI:return 8;case a.RGB32F:case a.RGB32I:case a.RGB32UI:return 12;case a.RGBA32F:case a.RGBA32I:case a.RGBA32UI:return 16;case c.COMPRESSED_RGB_S3TC_DXT1_EXT:case c.COMPRESSED_RGBA_S3TC_DXT1_EXT:return.5;case c.COMPRESSED_RGBA_S3TC_DXT3_EXT:case c.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case c.COMPRESSED_R11_EAC:case c.COMPRESSED_SIGNED_R11_EAC:case c.COMPRESSED_RGB8_ETC2:case c.COMPRESSED_SRGB8_ETC2:case c.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case c.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return.5;case c.COMPRESSED_RG11_EAC:case c.COMPRESSED_SIGNED_RG11_EAC:case c.COMPRESSED_RGBA8_ETC2_EAC:case c.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}export{R as bindVertexBufferLayout,_ as getFormatBytesPerElement,n as getFormatComponents};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{PixelType as t}from\"./enums.js\";import{getFormatBytesPerElement as i}from\"./Util.js\";class h{constructor(i=0,h=i){this.width=i,this.height=h,this.type=0,this.target=3553,this.pixelFormat=6408,this.dataType=t.UNSIGNED_BYTE,this.samplingMode=9729,this.wrapMode=10497,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.compareEnabled=!1,this.linearFilterDepth=!1,this.depth=1,this.isImmutable=!1}}function s(t){return t.width<=0||t.height<=0||t.depth<=0?0:Math.round(t.width*t.height*t.depth*(t.hasMipmap?4/3:1)*(null==t.internalFormat?4:i(t.internalFormat))*(34067===t.target?6:1))}export{h as TextureDescriptor,s as estimateMemory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Error.js\";import e from\"../../core/Logger.js\";import{hasValue as r}from\"../../core/object.js\";import{PixelType as n,SizedPixelFormat as o,SizedDepthStencilFormat as i,SizedDepthFormat as u,CompressedTextureFormat as a,sizedPixelFormatValues as l}from\"./enums.js\";const c=()=>e.getLogger(\"esri/views/webgl/textureUtils\");function s(t){const{width:e,height:r,depth:n}=t;(null!=e&&e<0||null!=r&&r<0||null!=n&&n<0)&&c().error(\"Negative dimension parameters are not allowed!\");const{internalFormat:o}=t;if(o&&(m(o)||p(o))){const{linearFilterDepth:e,compareEnabled:r,samplingMode:n,hasMipmap:o}=t;o&&c().error(\"Depth textures cannot have mipmaps\"),e?9729!==n&&9728!==n&&c().error(\"Depth textures cannot sample mipmaps\"):(9728!==n&&c().error(\"Depth textures without filtering must use NEAREST filtering\"),r&&c().error(\"Depth textures without filtering cannot use compare function\"))}}function h(t){return l.includes(t)}function m(t){return r(u,t)}function p(t){return r(i,t)}function f(t){return null!=t&&r(a,t)}function d(t){return null!=t&&\"type\"in t&&\"compressed\"===t.type}function g(t){return null!=t&&\"byteLength\"in t}function w(t){return null!=t&&!d(t)&&!g(t)}function x(t){return 32879===t||35866===t}function F(t,e,r,n=1){let o=Math.max(e,r);return 32879===t&&(o=Math.max(o,n)),Math.floor(Math.log2(o))+1}function E(e){if(null!=e.internalFormat)return e.internalFormat;switch(e.dataType){case n.FLOAT:switch(e.pixelFormat){case 6408:return o.RGBA32F;case 6407:return o.RGB32F;default:throw new t(\"texture:unknown-format\",\"Unable to derive format\")}case n.UNSIGNED_BYTE:switch(e.pixelFormat){case 6408:return o.RGBA8;case 6407:return o.RGB8}}const{pixelFormat:r}=e;return e.internalFormat=34041===r?i.DEPTH24_STENCIL8:6402===r?u.DEPTH_COMPONENT24:r,e.internalFormat}function T(t){let e=\"width\"in t?t.width:t.codedWidth,r=\"height\"in t?t.height:t.codedHeight;const n=1;return t instanceof HTMLVideoElement&&(e=t.videoWidth,r=t.videoHeight),{width:e,height:r,depth:n}}export{F as calcMipmapLevels,E as deriveInternalFormat,T as getDimensions,x as is3DTarget,g as isArrayBufferView,d as isCompressedData,f as isCompressedFormat,m as isSizedDepthFormat,p as isSizedDepthStencilFormat,h as isSizedPixelFormat,w as isTexImageSource,s as validateTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{SizedPixelFormat as s}from\"./enums.js\";import{TextureDescriptor as e}from\"./TextureDescriptor.js\";class t extends e{constructor(e,t){switch(super(),this.context=e,Object.assign(this,t),this.internalFormat){case s.R16F:case s.R32F:case s.R8_SNORM:case s.R8:this.pixelFormat=6403;break;case s.R8I:case s.R8UI:case s.R16I:case s.R16UI:case s.R32I:case s.R32UI:this.pixelFormat=36244}}static validate(s,e){return new t(s,e)}}export{t as ValidatedTextureDescriptor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Error.js\";import has from\"../../core/has.js\";import e from\"../../core/Logger.js\";import{abortMaybe as i}from\"../../core/maybe.js\";import{hasValue as r}from\"../../core/object.js\";import{throwIfAborted as s,isAbortError as o}from\"../../core/promiseUtils.js\";import{checkWebGLError as a}from\"./checkWebGLError.js\";import{ResourceType as n,CompressedTextureFormat as p}from\"./enums.js\";import{estimateMemory as l}from\"./TextureDescriptor.js\";import{isCompressedData as m,deriveInternalFormat as h,isTexImageSource as d,is3DTarget as c,validateTexture as _,isCompressedFormat as u,getDimensions as g,calcMipmapLevels as x,isSizedPixelFormat as T,isSizedDepthFormat as M,isSizedDepthStencilFormat as b}from\"./textureUtils.js\";import{ValidatedTextureDescriptor as f}from\"./ValidatedTextureDescriptor.js\";const w=null,D=!!has(\"esri-tests-disable-gpu-memory-measurements\"),E=()=>e.getLogger(\"esri/views/webgl/Texture\");let A=class e{static{this.TEXTURE_UNIT_FOR_UPDATES=0}static{this.compressionWorkerHandle=null}constructor(e,i=null,r=null){if(this.type=1,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._shadowFilterDirty=!1,this._wasImmutablyAllocated=!1,\"context\"in e)this._descriptor=e,r=i;else{const r=f.validate(e,i);if(!r)throw new t(\"texture:invalid-descriptor\",\"Texture descriptor invalid\");this._descriptor=r}34067===this._descriptor.target?this._setDataCubeMap(r):this.setData(r)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return D?0:l(this._descriptor)}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty||this._shadowFilterDirty}get hasWebGLTextureObject(){return!!this._glName}dispose(){this.abortCompression(),this.hasWebGLTextureObject&&this._descriptor.context?.gl&&(this._descriptor.context.instanceCounter.decrement(n.Texture,this),this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null,this._descriptor=null)}release(){this.dispose()}[Symbol.dispose](){this.dispose()}resize(e,i){const r=this._descriptor;if(r.width!==e||r.height!==i){if(this._wasImmutablyAllocated)throw new t(\"texture:immutable-resize\",\"Immutable textures can't be resized!\");r.width=e,r.height=i,34067===this._descriptor.target?this._setDataCubeMap(null):this.setData(null)}}enableCompression(t){this._descriptor.compress=t}disableCompression(){this._descriptor.compress=void 0}setData(t){this.abortCompression(),!m(t)&&this._descriptor.internalFormat&&r(p,this._descriptor.internalFormat)&&(this._descriptor.internalFormat=void 0),this._setData(t),!m(t)&&this._descriptor.compress&&this._compressOnWorker(t)}updateData(i,r,s,o,a,n,p=0){n||E().error(\"An attempt to use uninitialized data!\"),this.hasWebGLTextureObject||E().error(\"An attempt to update uninitialized texture!\");const l=this._descriptor;l.internalFormat=h(l);const{context:c,pixelFormat:_,dataType:u,target:g,isImmutable:x}=l;if(x&&!this._wasImmutablyAllocated)throw new t(\"texture:uninitialized\",\"Cannot update immutable texture before allocation!\");const T=c.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES,!0);(r<0||s<0||r+o>l.width||s+a>l.height)&&E().error(\"An attempt to update out of bounds of the texture!\"),this._configurePixelStorage();const{gl:M}=c;p&&(o&&a||E().warn(\"Must pass width and height if `UNPACK_SKIP_ROWS` is used\"),M.pixelStorei(M.UNPACK_SKIP_ROWS,p)),d(n)?M.texSubImage2D(g,i,r,s,o,a,_,u,n):m(n)?M.compressedTexSubImage2D(g,i,r,s,o,a,l.internalFormat,n.levels[i]):M.texSubImage2D(g,i,r,s,o,a,_,u,n),p&&M.pixelStorei(M.UNPACK_SKIP_ROWS,0),c.bindTexture(T,e.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(i,r,s,o,a,n,p,l){l||E().error(\"An attempt to use uninitialized data!\"),this.hasWebGLTextureObject||E().error(\"An attempt to update an uninitialized texture!\");const d=this._descriptor;d.internalFormat=h(d);const{context:_,pixelFormat:u,dataType:g,isImmutable:x,target:T}=d;if(x&&!this._wasImmutablyAllocated)throw new t(\"texture:uninitialized\",\"Cannot update immutable texture before allocation!\");c(T)||E().warn(\"Attempting to set 3D texture data on a non-3D texture\");const M=_.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);_.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),(r<0||s<0||o<0||r+a>d.width||s+n>d.height||o+p>d.depth)&&E().error(\"An attempt to update out of bounds of the texture!\"),this._configurePixelStorage();const{gl:b}=_;if(m(l))l=l.levels[i],b.compressedTexSubImage3D(T,i,r,s,o,a,n,p,d.internalFormat,l);else{const t=l;b.texSubImage3D(T,i,r,s,o,a,n,p,u,g,t)}_.bindTexture(M,e.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const i=this._descriptor;if(0===i.width||0===i.height)return;if(!i.hasMipmap){if(this._wasImmutablyAllocated)throw new t(\"texture:immutable-change\",\"Cannot add mipmaps to immutable texture after allocation\");i.hasMipmap=!0,this._samplingModeDirty=!0,_(i)}9729===i.samplingMode?(this._samplingModeDirty=!0,i.samplingMode=9985):9728===i.samplingMode&&(this._samplingModeDirty=!0,i.samplingMode=9984);const r=this._descriptor.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(i.target),this._descriptor.context.bindTexture(r,e.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new t(\"texture:immutable-change\",\"Cannot delete mipmaps to immutable texture after allocation\");e.hasMipmap=!1,this._samplingModeDirty=!0,_(e)}9985===e.samplingMode?(this._samplingModeDirty=!0,e.samplingMode=9729):9984===e.samplingMode&&(this._samplingModeDirty=!0,e.samplingMode=9728)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,_(this._descriptor),this._wrapModeDirty=!0)}setShadowFiltering(t){t!==this._descriptor.linearFilterDepth&&(this._descriptor.linearFilterDepth=this._descriptor.compareEnabled=t,this.setSamplingMode(t?9729:9728),_(this._descriptor),this._shadowFilterDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1),this._shadowFilterDirty&&(this._applyShadowMode(),this._shadowFilterDirty=!1)}abortCompression(){this._compressionAbortController=i(this._compressionAbortController)}_setData(i,r){const s=this._descriptor,o=s.context?.gl;if(!o)return;a(o),this.hasWebGLTextureObject||(this._glName=o.createTexture(),s.context.instanceCounter.increment(n.Texture,this)),_(s);const p=s.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);s.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),a(o);const l=r??s.target,g=c(l);if(d(i))this._setDataFromTexImageSource(i,l);else{const{width:e,height:r,depth:n}=s;if(null==e||null==r)throw new t(\"texture:missing-size\",\"Width and height must be specified!\");if(g&&null==n)throw new t(\"texture:missing-depth\",\"Depth must be specified!\");if(s.internalFormat=h(s),s.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(l,s.internalFormat,s.hasMipmap,e,r,n),m(i)){if(!u(s.internalFormat))throw new t(\"texture:format-mismatch\",\"Attempting to use compressed data with an uncompressed format!\");this._setDataFromCompressedSource(i,s.internalFormat,l)}else this._texImage(l,0,s.internalFormat,e,r,n,i),a(o),s.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),this._applyShadowMode(),a(o),s.context.bindTexture(p,e.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(t=null){for(let e=34069;e<=34074;e++)this._setData(t,e)}_configurePixelStorage(){const t=this._descriptor.context.gl,{unpackAlignment:e,flipped:i,preMultiplyAlpha:r}=this._descriptor;t.pixelStorei(t.UNPACK_ALIGNMENT,e),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i?1:0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r?1:0)}_setDataFromTexImageSource(t,e){const{gl:i}=this._descriptor.context,r=this._descriptor;r.internalFormat=h(r);const s=c(e),{width:o,height:n,depth:p}=g(t);r.width&&r.height,r.width||(r.width=o),r.height||(r.height=n),s&&r.depth,s&&(r.depth=p),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(e,r.internalFormat,r.hasMipmap,o,n,p),this._texImage(e,0,r.internalFormat,o,n,p,t),a(i),r.hasMipmap&&(this.generateMipmap(),a(i))}_setDataFromCompressedSource(t,e,i){const r=this._descriptor,{width:s,height:o,depth:a}=r,n=t.levels,p=x(i,s,o,a),l=Math.min(p,n.length)-1;this._descriptor.context.gl.texParameteri(r.target,33085,l),this._forEachMipmapLevel((t,r,s,o)=>{const a=n[Math.min(t,n.length-1)];this._compressedTexImage(i,t,e,r,s,o,a)},l)}_texStorage(e,i,r,s,o,a){const{gl:n}=this._descriptor.context;if(!T(i)&&!M(i)&&!b(i))throw new t(\"texture:missing-format\",\"Immutable textures must have a sized internal format\");if(!this._descriptor.isImmutable)return;const p=r?x(e,s,o,a):1;if(c(e)){if(null==a)throw new t(\"texture:missing-depth\",\"Missing depth dimension for 3D texture upload\");n.texStorage3D(e,p,i,s,o,a)}else n.texStorage2D(e,p,i,s,o);this._wasImmutablyAllocated=!0}_texImage(e,i,r,s,o,a,n){const p=this._descriptor.context.gl,l=c(e),{isImmutable:m,pixelFormat:h,dataType:d}=this._descriptor;if(m){if(null!=n){const r=n;if(l){if(null==a)throw new t(\"texture:missing-depth\",\"Missing depth dimension for 3D texture upload\");p.texSubImage3D(e,i,0,0,0,s,o,a,h,d,r)}else p.texSubImage2D(e,i,0,0,s,o,h,d,r)}}else{const m=n;if(l){if(null==a)throw new t(\"texture:missing-depth\",\"Missing depth dimension for 3D texture upload\");p.texImage3D(e,i,r,s,o,a,0,h,d,m)}else p.texImage2D(e,i,r,s,o,0,h,d,m)}}_compressedTexImage(e,i,r,s,o,a,n){const p=this._descriptor.context.gl,l=c(e);if(this._descriptor.isImmutable){if(null!=n)if(l){if(null==a)throw new t(\"texture:missing-depth\",\"Missing depth dimension for 3D texture upload\");p.compressedTexSubImage3D(e,i,0,0,0,s,o,a,r,n)}else p.compressedTexSubImage2D(e,i,0,0,s,o,r,n)}else if(l){if(null==a)throw new t(\"texture:missing-depth\",\"Missing depth dimension for 3D texture upload\");p.compressedTexImage3D(e,i,r,s,o,a,0,n)}else p.compressedTexImage2D(e,i,r,s,o,0,n)}async _compressOnWorker(t){const{width:i,height:r,context:a,flipped:n,preMultiplyAlpha:p,hasMipmap:l}=this._descriptor,m=this._descriptor.compress?.compressionTracker,h=this._descriptor.compress?.compressionCallback,{compressedTextureETC:d,compressedTextureS3TC:c}=a.capabilities;if(!e.compressionWorkerHandle?.isCompressible(t,this._descriptor)||!d&&!c)return;this.abortCompression();const _=new AbortController;let u;this._compressionAbortController=_,m?.increment();try{t instanceof Uint8Array?u=t.buffer:(u=await createImageBitmap(t,{imageOrientation:n?\"flipY\":\"none\"}),s(_));const o={data:u,width:i,height:r,needsFlip:t instanceof Uint8Array&&this.descriptor.flipped,components:6408===this._descriptor.pixelFormat?4:3,preMultiplyAlpha:p,hasMipmap:l,hasETC:!!d,hasS3TC:!!c},a=await e.compressionWorkerHandle.invoke(o,_.signal,\"low\");if(s(_),a.compressedTexture&&this.hasWebGLTextureObject){const t=this.usedMemory;this._descriptor.internalFormat=a.internalFormat,this._setData(a.compressedTexture),h?.(t-this.usedMemory)}}catch(g){o(g)||E().error(\"Texture compression failed!\")}finally{m?.decrement(),this._compressionAbortController?.signal.aborted&&(this._compressionAbortController=null),u instanceof ImageBitmap&&u.close()}}_forEachMipmapLevel(e,i=1/0){let{width:r,height:s,depth:o,hasMipmap:a,target:n}=this._descriptor;const p=32879===n;if(null==r||null==s||p&&null==o)throw new t(\"texture:missing-size\",\"Missing texture dimensions for mipmap calculation\");for(let t=0;e(t,r,s,o),a&&(1!==r||1!==s||p&&1!==o)&&!(t>=i);++t)r=Math.max(1,r>>1),s=Math.max(1,s>>1),p&&(o=Math.max(1,o>>1))}_applySamplingMode(){const t=this._descriptor,e=t.context?.gl;let i=t.samplingMode,r=t.samplingMode;9985===i||9987===i?(i=9729,t.hasMipmap||(r=9729)):9984!==i&&9986!==i||(i=9728,t.hasMipmap||(r=9728)),e.texParameteri(t.target,e.TEXTURE_MAG_FILTER,i),e.texParameteri(t.target,e.TEXTURE_MIN_FILTER,r)}_applyWrapMode(){const t=this._descriptor,e=t.context?.gl;\"number\"==typeof t.wrapMode?(e.texParameteri(t.target,e.TEXTURE_WRAP_S,t.wrapMode),e.texParameteri(t.target,e.TEXTURE_WRAP_T,t.wrapMode)):(e.texParameteri(t.target,e.TEXTURE_WRAP_S,t.wrapMode.s),e.texParameteri(t.target,e.TEXTURE_WRAP_T,t.wrapMode.t))}_applyShadowMode(){const t=this._descriptor,e=t.context?.gl,i=t.compareEnabled?e.COMPARE_REF_TO_TEXTURE:e.NONE;e.texParameteri(t.target,e.TEXTURE_COMPARE_MODE,i),t.compareEnabled&&e.texParameteri(t.target,e.TEXTURE_COMPARE_FUNC,e.GREATER),a(e)}_applyAnisotropicFilteringParameters(){const t=this._descriptor,e=t.context.capabilities.textureFilterAnisotropic;if(!e)return;t.context.gl.texParameterf(t.target,e.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy??1)}};export{A as Texture,w as tracer};\n"],"names":["t","r","o","e","s","l","y","i","m","u","p","c","a","n","d","has","R","_","h","f","g","w","x","F","E","T","D","A","M","b"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}