{"version":3,"file":"featuresetgeom-CCdwHJrO.js","sources":["../../node_modules/@arcgis/core/arcade/functions/featuresetgeom.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ArcadeExecutionError as e}from\"../executionError.js\";import{shapeExtent as t}from\"../kernel.js\";import{C as n,B as r,h as s,u as i,m as a}from\"../../chunks/languageUtils.js\";import o from\"../featureset/actions/SpatialFilter.js\";import u from\"../featureset/sources/Empty.js\";import{invokeRemoteGeometryOp as l}from\"../geometry/operatorsWorkerConnection.js\";function c(i){return async(c,f,p)=>{if(r(p,2,2,c,f),null===(p=n(p))[0]&&null===p[1])return!1;if(a(p[0])){if(s(p[1]))return new o({parentfeatureset:p[0],relation:i,relationGeom:p[1]});if(null===p[1])return new u({parentfeatureset:p[0]});throw new e(c,\"InvalidParameter\",f)}if(s(p[0])){if(s(p[1])){switch(i){case\"esriSpatialRelEnvelopeIntersects\":{const e=t(p[0]),n=t(p[1]);return null!=e&&null!=n&&l(\"intersects\",[e.toJSON(),n.toJSON()])}case\"esriSpatialRelIntersects\":return l(\"intersects\",[p[0].toJSON(),p[1].toJSON()]);case\"esriSpatialRelContains\":return l(\"contains\",[p[0].toJSON(),p[1].toJSON()]);case\"esriSpatialRelOverlaps\":return l(\"overlaps\",[p[0].toJSON(),p[1].toJSON()]);case\"esriSpatialRelWithin\":return l(\"within\",[p[0].toJSON(),p[1].toJSON()]);case\"esriSpatialRelTouches\":return l(\"touches\",[p[0].toJSON(),p[1].toJSON()]);case\"esriSpatialRelCrosses\":return l(\"crosses\",[p[0].toJSON(),p[1].toJSON()])}throw new e(c,\"InvalidParameter\",f)}if(a(p[1]))return new o({parentfeatureset:p[1],relation:i,relationGeom:p[0]});if(null===p[1])return!1;throw new e(c,\"InvalidParameter\",f)}if(null===p[0]){if(a(p[1]))return new u({parentfeatureset:p[1]});if(s(p[1])||null===p[1])return!1}throw new e(c,\"InvalidParameter\",f)}}function f(t){\"async\"===t.mode&&(t.functions.intersects=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelIntersects\"))},t.functions.envelopeintersects=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelEnvelopeIntersects\"))},t.signatures.push({name:\"envelopeintersects\",min:2,max:2}),t.functions.contains=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelContains\"))},t.functions.overlaps=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelOverlaps\"))},t.functions.within=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelWithin\"))},t.functions.touches=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelTouches\"))},t.functions.crosses=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelCrosses\"))},t.functions.relate=function(o,c){return t.standardFunctionAsync(o,c,async(t,f,p)=>{if(p=n(p),r(p,3,3,o,c),s(p[0])&&s(p[1]))return l(\"relate\",[p[0].toJSON(),p[1].toJSON(),i(p[2])]);if(s(p[0])&&null===p[1])return!1;if(s(p[1])&&null===p[0])return!1;if(a(p[0])&&null===p[1])return new u({parentfeatureset:p[0]});if(a(p[1])&&null===p[0])return new u({parentfeatureset:p[1]});if(a(p[0])&&s(p[1]))return p[0].relate(p[1],i(p[2]));if(a(p[1])&&s(p[0]))return p[1].relate(p[0],i(p[2]));if(null===p[0]&&null===p[1])return!1;throw new e(o,\"InvalidParameter\",c)})})}export{f as registerFunctions};\n"],"names":["c","i","f","p","r","n","a","s","o","u","e","t","l"],"mappings":"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","x_google_ignoreList":[0]}